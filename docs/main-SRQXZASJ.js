import{a as iat}from"./chunk-BOJ2NEOO.js";import{A as Zst,D as Qst,E as kB,F as jO,M as DB,O as VO,Q as Jst,S as ga,T as zO,U as tat,V as OB,X as UO,Y as PB,Z as NB,a as QR,aa as LB,b as JR,ba as eat,c as FO,d as tT,e as MB,ea as FB,f as Wb,g as jst,ga as WO,ha as rat,i as Vst,j as zst,ja as nat,ka as oat,l as $1,m as AB,ma as sat,n as HO,na as Bn,o as Ust,p as Wst,r as Yst,s as qst,t as $st,u as Gst,v as Kst,w as IB,y as BO,z as Xst}from"./chunk-6ARXTRE7.js";import{$ as ee,$a as ma,$b as WR,A as xO,Aa as F1,Ab as pn,Ac as $R,B as yd,Ba as QH,Bb as ir,Bc as GR,C as FR,Ca as zh,Cb as uB,Cc as KR,D as SO,Da as Fo,Db as As,Dc as $n,E as to,Ea as H1,Eb as or,Ec as EB,F as UH,Fa as Lb,Fb as Hi,Fc as RB,G as xg,Ga as Fb,Gb as Bi,Gc as XR,H as jh,Ha as JH,Hb as hB,Hc as TB,I as am,Ia as tB,Ib as fB,Ic as ZR,J as EO,Ja as eB,Jb as ja,K as WH,Ka as iB,Kb as gt,L as YH,La as rB,Lb as _o,Lc as cm,M as qH,Ma as nB,Mb as ur,Mc as _d,N as $H,Na as oB,Nb as mB,O as P1,Oa as ql,Ob as Bb,Oc as ta,P as HR,Pa as B1,Pb as jb,Pc as dm,Q as Ts,Qa as te,Qb as Vb,Qc as LO,R as yo,Ra as Pt,Rb as gr,Rc as wd,S as qn,Sa as Uh,Sb as li,T as fn,Ta as dl,Tb as IO,U as In,Ua as sB,Ub as kO,V as Ul,Va as Hb,Vb as W1,W as _e,Wa as BR,Wb as Or,X as ze,Xa as j1,Xb as Pr,Y as GH,Ya as MO,Yb as VR,Z as Se,Za as ui,Zb as zR,_ as RO,_a as jR,_b as UR,a as Ro,aa as pe,ab as ps,ac as DO,b as jH,ba as lm,bb as V1,bc as Tg,c as Eu,ca as Sg,cb as aB,cc as YR,d as yO,da as N1,db as Gr,dc as pB,e as O1,ea as We,eb as Br,ec as gB,f as Je,fa as Ue,fb as lB,fc as hr,g as An,ga as ni,gb as AO,gc as Y1,h as VH,ha as KH,hb as Xi,hc as bB,i as cl,ia as Wl,ib as Yi,ic as Sr,j as as,ja as XH,jb as Me,jc as Va,k as De,ka as Mu,kb as pa,kc as OO,l as _g,la as Cc,lb as Vi,lc as vB,m as Ru,ma as er,mb as Js,mc as yB,n as zH,na as cr,nb as kn,nc as zb,o as di,oa as dr,ob as z1,oc as _B,p as wc,pa as Vh,pb as U1,pc as wB,q as jl,qa as Nb,qb as ut,qc as Ai,r as _O,ra as Ms,rb as dt,rc as CB,s as wg,sa as Yl,sb as He,sc as PO,t as Cg,ta as mn,tb as Rg,tc as xB,u as Tu,ua as Eg,ub as Ho,uc as SB,v as wO,va as hi,vb as Ba,vc as Wh,w as Vl,wa as L1,wb as cB,wc as NO,x as co,xa as ai,xb as Ke,xc as qR,y as CO,ya as TO,yb as dB,yc as q1,z as zl,za as ZH,zb as ki,zc as Ub}from"./chunk-OJC2TTPM.js";import{a as Vt,b as je,c as ll,d as Hn,e as Ci,f as Bst,g as ot,h as xr,i as vO,j as BH,k as LR}from"./chunk-ZSDJ7DQO.js";var ea=Ci((M4,vv)=>{"use strict";(function(e,t){typeof M4=="object"&&typeof vv<"u"?vv.exports=t():typeof define=="function"&&define.amd?define(t):e.moment=t()})(M4,function(){"use strict";var e;function t(){return e.apply(null,arguments)}function r(P){e=P}function i(P){return P instanceof Array||Object.prototype.toString.call(P)==="[object Array]"}function n(P){return P!=null&&Object.prototype.toString.call(P)==="[object Object]"}function o(P,G){return Object.prototype.hasOwnProperty.call(P,G)}function s(P){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(P).length===0;var G;for(G in P)if(o(P,G))return!1;return!0}function a(P){return P===void 0}function l(P){return typeof P=="number"||Object.prototype.toString.call(P)==="[object Number]"}function c(P){return P instanceof Date||Object.prototype.toString.call(P)==="[object Date]"}function d(P,G){var Q=[],st,yt=P.length;for(st=0;st<yt;++st)Q.push(G(P[st],st));return Q}function u(P,G){for(var Q in G)o(G,Q)&&(P[Q]=G[Q]);return o(G,"toString")&&(P.toString=G.toString),o(G,"valueOf")&&(P.valueOf=G.valueOf),P}function h(P,G,Q,st){return ca(P,G,Q,st,!0).utc()}function f(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function m(P){return P._pf==null&&(P._pf=f()),P._pf}var g;Array.prototype.some?g=Array.prototype.some:g=function(P){var G=Object(this),Q=G.length>>>0,st;for(st=0;st<Q;st++)if(st in G&&P.call(this,G[st],st,G))return!0;return!1};function p(P){var G=null,Q=!1,st=P._d&&!isNaN(P._d.getTime());if(st&&(G=m(P),Q=g.call(G.parsedDateParts,function(yt){return yt!=null}),st=G.overflow<0&&!G.empty&&!G.invalidEra&&!G.invalidMonth&&!G.invalidWeekday&&!G.weekdayMismatch&&!G.nullInput&&!G.invalidFormat&&!G.userInvalidated&&(!G.meridiem||G.meridiem&&Q),P._strict&&(st=st&&G.charsLeftOver===0&&G.unusedTokens.length===0&&G.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(P))P._isValid=st;else return st;return P._isValid}function b(P){var G=h(NaN);return P!=null?u(m(G),P):m(G).userInvalidated=!0,G}var _=t.momentProperties=[],E=!1;function O(P,G){var Q,st,yt,Ft=_.length;if(a(G._isAMomentObject)||(P._isAMomentObject=G._isAMomentObject),a(G._i)||(P._i=G._i),a(G._f)||(P._f=G._f),a(G._l)||(P._l=G._l),a(G._strict)||(P._strict=G._strict),a(G._tzm)||(P._tzm=G._tzm),a(G._isUTC)||(P._isUTC=G._isUTC),a(G._offset)||(P._offset=G._offset),a(G._pf)||(P._pf=m(G)),a(G._locale)||(P._locale=G._locale),Ft>0)for(Q=0;Q<Ft;Q++)st=_[Q],yt=G[st],a(yt)||(P[st]=yt);return P}function V(P){O(this,P),this._d=new Date(P._d!=null?P._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),E===!1&&(E=!0,t.updateOffset(this),E=!1)}function H(P){return P instanceof V||P!=null&&P._isAMomentObject!=null}function F(P){t.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+P)}function L(P,G){var Q=!0;return u(function(){if(t.deprecationHandler!=null&&t.deprecationHandler(null,P),Q){var st=[],yt,Ft,de,ri=arguments.length;for(Ft=0;Ft<ri;Ft++){if(yt="",typeof arguments[Ft]=="object"){yt+=`
[`+Ft+"] ";for(de in arguments[0])o(arguments[0],de)&&(yt+=de+": "+arguments[0][de]+", ");yt=yt.slice(0,-2)}else yt=arguments[Ft];st.push(yt)}F(P+`
Arguments: `+Array.prototype.slice.call(st).join("")+`
`+new Error().stack),Q=!1}return G.apply(this,arguments)},G)}var $={};function W(P,G){t.deprecationHandler!=null&&t.deprecationHandler(P,G),$[P]||(F(G),$[P]=!0)}t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;function x(P){return typeof Function<"u"&&P instanceof Function||Object.prototype.toString.call(P)==="[object Function]"}function R(P){var G,Q;for(Q in P)o(P,Q)&&(G=P[Q],x(G)?this[Q]=G:this["_"+Q]=G);this._config=P,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function B(P,G){var Q=u({},P),st;for(st in G)o(G,st)&&(n(P[st])&&n(G[st])?(Q[st]={},u(Q[st],P[st]),u(Q[st],G[st])):G[st]!=null?Q[st]=G[st]:delete Q[st]);for(st in P)o(P,st)&&!o(G,st)&&n(P[st])&&(Q[st]=u({},Q[st]));return Q}function v(P){P!=null&&this.set(P)}var y;Object.keys?y=Object.keys:y=function(P){var G,Q=[];for(G in P)o(P,G)&&Q.push(G);return Q};var C={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function w(P,G,Q){var st=this._calendar[P]||this._calendar.sameElse;return x(st)?st.call(G,Q):st}function S(P,G,Q){var st=""+Math.abs(P),yt=G-st.length,Ft=P>=0;return(Ft?Q?"+":"":"-")+Math.pow(10,Math.max(0,yt)).toString().substr(1)+st}var M=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,U=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,N={},T={};function j(P,G,Q,st){var yt=st;typeof st=="string"&&(yt=function(){return this[st]()}),P&&(T[P]=yt),G&&(T[G[0]]=function(){return S(yt.apply(this,arguments),G[1],G[2])}),Q&&(T[Q]=function(){return this.localeData().ordinal(yt.apply(this,arguments),P)})}function I(P){return P.match(/\[[\s\S]/)?P.replace(/^\[|\]$/g,""):P.replace(/\\/g,"")}function q(P){var G=P.match(M),Q,st;for(Q=0,st=G.length;Q<st;Q++)T[G[Q]]?G[Q]=T[G[Q]]:G[Q]=I(G[Q]);return function(yt){var Ft="",de;for(de=0;de<st;de++)Ft+=x(G[de])?G[de].call(yt,P):G[de];return Ft}}function A(P,G){return P.isValid()?(G=k(G,P.localeData()),N[G]=N[G]||q(G),N[G](P)):P.localeData().invalidDate()}function k(P,G){var Q=5;function st(yt){return G.longDateFormat(yt)||yt}for(U.lastIndex=0;Q>=0&&U.test(P);)P=P.replace(U,st),U.lastIndex=0,Q-=1;return P}var Y={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Z(P){var G=this._longDateFormat[P],Q=this._longDateFormat[P.toUpperCase()];return G||!Q?G:(this._longDateFormat[P]=Q.match(M).map(function(st){return st==="MMMM"||st==="MM"||st==="DD"||st==="dddd"?st.slice(1):st}).join(""),this._longDateFormat[P])}var lt="Invalid date";function J(){return this._invalidDate}var et="%d",Et=/\d{1,2}/;function Rt(P){return this._ordinal.replace("%d",P)}var nt={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function at(P,G,Q,st){var yt=this._relativeTime[Q];return x(yt)?yt(P,G,Q,st):yt.replace(/%d/i,P)}function Ct(P,G){var Q=this._relativeTime[P>0?"future":"past"];return x(Q)?Q(G):Q.replace(/%s/i,G)}var tt={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function it(P){return typeof P=="string"?tt[P]||tt[P.toLowerCase()]:void 0}function ct(P){var G={},Q,st;for(st in P)o(P,st)&&(Q=it(st),Q&&(G[Q]=P[st]));return G}var mt={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function bt(P){var G=[],Q;for(Q in P)o(P,Q)&&G.push({unit:Q,priority:mt[Q]});return G.sort(function(st,yt){return st.priority-yt.priority}),G}var St=/\d/,wt=/\d\d/,At=/\d{3}/,kt=/\d{4}/,Mt=/[+-]?\d{6}/,Nt=/\d\d?/,Ut=/\d\d\d\d?/,qt=/\d\d\d\d\d\d?/,Wt=/\d{1,3}/,re=/\d{1,4}/,Qt=/[+-]?\d{1,6}/,Fe=/\d+/,le=/[+-]?\d+/,fe=/Z|[+-]\d\d:?\d\d/gi,Di=/Z|[+-]\d\d(?::?\d\d)?/gi,Ae=/[+-]?\d+(\.\d{1,3})?/,oi=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Ni=/^[1-9]\d?/,ei=/^([1-9]\d|\d)/,fi;fi={};function be(P,G,Q){fi[P]=x(G)?G:function(st,yt){return st&&Q?Q:G}}function ye(P,G){return o(fi,P)?fi[P](G._strict,G._locale):new RegExp(xe(P))}function xe(P){return Yr(P.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(G,Q,st,yt,Ft){return Q||st||yt||Ft}))}function Yr(P){return P.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Ye(P){return P<0?Math.ceil(P)||0:Math.floor(P)}function Te(P){var G=+P,Q=0;return G!==0&&isFinite(G)&&(Q=Ye(G)),Q}var Jn={};function he(P,G){var Q,st=G,yt;for(typeof P=="string"&&(P=[P]),l(G)&&(st=function(Ft,de){de[G]=Te(Ft)}),yt=P.length,Q=0;Q<yt;Q++)Jn[P[Q]]=st}function Lt(P,G){he(P,function(Q,st,yt,Ft){yt._w=yt._w||{},G(Q,yt._w,yt,Ft)})}function Jt(P,G,Q){G!=null&&o(Jn,P)&&Jn[P](G,Q._a,Q,P)}function ie(P){return P%4===0&&P%100!==0||P%400===0}var se=0,mi=1,Ee=2,ke=3,Ui=4,qe=5,Pe=6,ar=7,Wi=8;j("Y",0,0,function(){var P=this.year();return P<=9999?S(P,4):"+"+P}),j(0,["YY",2],0,function(){return this.year()%100}),j(0,["YYYY",4],0,"year"),j(0,["YYYYY",5],0,"year"),j(0,["YYYYYY",6,!0],0,"year"),be("Y",le),be("YY",Nt,wt),be("YYYY",re,kt),be("YYYYY",Qt,Mt),be("YYYYYY",Qt,Mt),he(["YYYYY","YYYYYY"],se),he("YYYY",function(P,G){G[se]=P.length===2?t.parseTwoDigitYear(P):Te(P)}),he("YY",function(P,G){G[se]=t.parseTwoDigitYear(P)}),he("Y",function(P,G){G[se]=parseInt(P,10)});function Ti(P){return ie(P)?366:365}t.parseTwoDigitYear=function(P){return Te(P)+(Te(P)>68?1900:2e3)};var yr=nn("FullYear",!0);function rn(){return ie(this.year())}function nn(P,G){return function(Q){return Q!=null?(Tn(this,P,Q),t.updateOffset(this,G),this):Yn(this,P)}}function Yn(P,G){if(!P.isValid())return NaN;var Q=P._d,st=P._isUTC;switch(G){case"Milliseconds":return st?Q.getUTCMilliseconds():Q.getMilliseconds();case"Seconds":return st?Q.getUTCSeconds():Q.getSeconds();case"Minutes":return st?Q.getUTCMinutes():Q.getMinutes();case"Hours":return st?Q.getUTCHours():Q.getHours();case"Date":return st?Q.getUTCDate():Q.getDate();case"Day":return st?Q.getUTCDay():Q.getDay();case"Month":return st?Q.getUTCMonth():Q.getMonth();case"FullYear":return st?Q.getUTCFullYear():Q.getFullYear();default:return NaN}}function Tn(P,G,Q){var st,yt,Ft,de,ri;if(!(!P.isValid()||isNaN(Q))){switch(st=P._d,yt=P._isUTC,G){case"Milliseconds":return void(yt?st.setUTCMilliseconds(Q):st.setMilliseconds(Q));case"Seconds":return void(yt?st.setUTCSeconds(Q):st.setSeconds(Q));case"Minutes":return void(yt?st.setUTCMinutes(Q):st.setMinutes(Q));case"Hours":return void(yt?st.setUTCHours(Q):st.setHours(Q));case"Date":return void(yt?st.setUTCDate(Q):st.setDate(Q));case"FullYear":break;default:return}Ft=Q,de=P.month(),ri=P.date(),ri=ri===29&&de===1&&!ie(Ft)?28:ri,yt?st.setUTCFullYear(Ft,de,ri):st.setFullYear(Ft,de,ri)}}function mo(P){return P=it(P),x(this[P])?this[P]():this}function Dt(P,G){if(typeof P=="object"){P=ct(P);var Q=bt(P),st,yt=Q.length;for(st=0;st<yt;st++)this[Q[st].unit](P[Q[st].unit])}else if(P=it(P),x(this[P]))return this[P](G);return this}function Kt(P,G){return(P%G+G)%G}var oe;Array.prototype.indexOf?oe=Array.prototype.indexOf:oe=function(P){var G;for(G=0;G<this.length;++G)if(this[G]===P)return G;return-1};function ae(P,G){if(isNaN(P)||isNaN(G))return NaN;var Q=Kt(G,12);return P+=(G-Q)/12,Q===1?ie(P)?29:28:31-Q%7%2}j("M",["MM",2],"Mo",function(){return this.month()+1}),j("MMM",0,0,function(P){return this.localeData().monthsShort(this,P)}),j("MMMM",0,0,function(P){return this.localeData().months(this,P)}),be("M",Nt,Ni),be("MM",Nt,wt),be("MMM",function(P,G){return G.monthsShortRegex(P)}),be("MMMM",function(P,G){return G.monthsRegex(P)}),he(["M","MM"],function(P,G){G[mi]=Te(P)-1}),he(["MMM","MMMM"],function(P,G,Q,st){var yt=Q._locale.monthsParse(P,st,Q._strict);yt!=null?G[mi]=yt:m(Q).invalidMonth=P});var Ie="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ci="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),si=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,pr=oi,ji=oi;function Oi(P,G){return P?i(this._months)?this._months[P.month()]:this._months[(this._months.isFormat||si).test(G)?"format":"standalone"][P.month()]:i(this._months)?this._months:this._months.standalone}function Li(P,G){return P?i(this._monthsShort)?this._monthsShort[P.month()]:this._monthsShort[si.test(G)?"format":"standalone"][P.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Nn(P,G,Q){var st,yt,Ft,de=P.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],st=0;st<12;++st)Ft=h([2e3,st]),this._shortMonthsParse[st]=this.monthsShort(Ft,"").toLocaleLowerCase(),this._longMonthsParse[st]=this.months(Ft,"").toLocaleLowerCase();return Q?G==="MMM"?(yt=oe.call(this._shortMonthsParse,de),yt!==-1?yt:null):(yt=oe.call(this._longMonthsParse,de),yt!==-1?yt:null):G==="MMM"?(yt=oe.call(this._shortMonthsParse,de),yt!==-1?yt:(yt=oe.call(this._longMonthsParse,de),yt!==-1?yt:null)):(yt=oe.call(this._longMonthsParse,de),yt!==-1?yt:(yt=oe.call(this._shortMonthsParse,de),yt!==-1?yt:null))}function nr(P,G,Q){var st,yt,Ft;if(this._monthsParseExact)return Nn.call(this,P,G,Q);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),st=0;st<12;st++){if(yt=h([2e3,st]),Q&&!this._longMonthsParse[st]&&(this._longMonthsParse[st]=new RegExp("^"+this.months(yt,"").replace(".","")+"$","i"),this._shortMonthsParse[st]=new RegExp("^"+this.monthsShort(yt,"").replace(".","")+"$","i")),!Q&&!this._monthsParse[st]&&(Ft="^"+this.months(yt,"")+"|^"+this.monthsShort(yt,""),this._monthsParse[st]=new RegExp(Ft.replace(".",""),"i")),Q&&G==="MMMM"&&this._longMonthsParse[st].test(P))return st;if(Q&&G==="MMM"&&this._shortMonthsParse[st].test(P))return st;if(!Q&&this._monthsParse[st].test(P))return st}}function kr(P,G){if(!P.isValid())return P;if(typeof G=="string"){if(/^\d+$/.test(G))G=Te(G);else if(G=P.localeData().monthsParse(G),!l(G))return P}var Q=G,st=P.date();return st=st<29?st:Math.min(st,ae(P.year(),Q)),P._isUTC?P._d.setUTCMonth(Q,st):P._d.setMonth(Q,st),P}function zr(P){return P!=null?(kr(this,P),t.updateOffset(this,!0),this):Yn(this,"Month")}function So(){return ae(this.year(),this.month())}function ns(P){return this._monthsParseExact?(o(this,"_monthsRegex")||so.call(this),P?this._monthsShortStrictRegex:this._monthsShortRegex):(o(this,"_monthsShortRegex")||(this._monthsShortRegex=pr),this._monthsShortStrictRegex&&P?this._monthsShortStrictRegex:this._monthsShortRegex)}function Cs(P){return this._monthsParseExact?(o(this,"_monthsRegex")||so.call(this),P?this._monthsStrictRegex:this._monthsRegex):(o(this,"_monthsRegex")||(this._monthsRegex=ji),this._monthsStrictRegex&&P?this._monthsStrictRegex:this._monthsRegex)}function so(){function P(zi,Hr){return Hr.length-zi.length}var G=[],Q=[],st=[],yt,Ft,de,ri;for(yt=0;yt<12;yt++)Ft=h([2e3,yt]),de=Yr(this.monthsShort(Ft,"")),ri=Yr(this.months(Ft,"")),G.push(de),Q.push(ri),st.push(ri),st.push(de);G.sort(P),Q.sort(P),st.sort(P),this._monthsRegex=new RegExp("^("+st.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+Q.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+G.join("|")+")","i")}function la(P,G,Q,st,yt,Ft,de){var ri;return P<100&&P>=0?(ri=new Date(P+400,G,Q,st,yt,Ft,de),isFinite(ri.getFullYear())&&ri.setFullYear(P)):ri=new Date(P,G,Q,st,yt,Ft,de),ri}function ao(P){var G,Q;return P<100&&P>=0?(Q=Array.prototype.slice.call(arguments),Q[0]=P+400,G=new Date(Date.UTC.apply(null,Q)),isFinite(G.getUTCFullYear())&&G.setUTCFullYear(P)):G=new Date(Date.UTC.apply(null,arguments)),G}function Ys(P,G,Q){var st=7+G-Q,yt=(7+ao(P,0,st).getUTCDay()-G)%7;return-yt+st-1}function Tr(P,G,Q,st,yt){var Ft=(7+Q-st)%7,de=Ys(P,st,yt),ri=1+7*(G-1)+Ft+de,zi,Hr;return ri<=0?(zi=P-1,Hr=Ti(zi)+ri):ri>Ti(P)?(zi=P+1,Hr=ri-Ti(P)):(zi=P,Hr=ri),{year:zi,dayOfYear:Hr}}function Dr(P,G,Q){var st=Ys(P.year(),G,Q),yt=Math.floor((P.dayOfYear()-st-1)/7)+1,Ft,de;return yt<1?(de=P.year()-1,Ft=yt+xs(de,G,Q)):yt>xs(P.year(),G,Q)?(Ft=yt-xs(P.year(),G,Q),de=P.year()+1):(de=P.year(),Ft=yt),{week:Ft,year:de}}function xs(P,G,Q){var st=Ys(P,G,Q),yt=Ys(P+1,G,Q);return(Ti(P)-st+yt)/7}j("w",["ww",2],"wo","week"),j("W",["WW",2],"Wo","isoWeek"),be("w",Nt,Ni),be("ww",Nt,wt),be("W",Nt,Ni),be("WW",Nt,wt),Lt(["w","ww","W","WW"],function(P,G,Q,st){G[st.substr(0,1)]=Te(P)});function Pl(P){return Dr(P,this._week.dow,this._week.doy).week}var ad={dow:0,doy:6};function us(){return this._week.dow}function qs(){return this._week.doy}function tl(P){var G=this.localeData().week(this);return P==null?G:this.add((P-G)*7,"d")}function ld(P){var G=Dr(this,1,4).week;return P==null?G:this.add((P-G)*7,"d")}j("d",0,"do","day"),j("dd",0,0,function(P){return this.localeData().weekdaysMin(this,P)}),j("ddd",0,0,function(P){return this.localeData().weekdaysShort(this,P)}),j("dddd",0,0,function(P){return this.localeData().weekdays(this,P)}),j("e",0,0,"weekday"),j("E",0,0,"isoWeekday"),be("d",Nt),be("e",Nt),be("E",Nt),be("dd",function(P,G){return G.weekdaysMinRegex(P)}),be("ddd",function(P,G){return G.weekdaysShortRegex(P)}),be("dddd",function(P,G){return G.weekdaysRegex(P)}),Lt(["dd","ddd","dddd"],function(P,G,Q,st){var yt=Q._locale.weekdaysParse(P,st,Q._strict);yt!=null?G.d=yt:m(Q).invalidWeekday=P}),Lt(["d","e","E"],function(P,G,Q,st){G[st]=Te(P)});function nu(P,G){return typeof P!="string"?P:isNaN(P)?(P=G.weekdaysParse(P),typeof P=="number"?P:null):parseInt(P,10)}function Ss(P,G){return typeof P=="string"?G.weekdaysParse(P)%7||7:isNaN(P)?null:P}function hs(P,G){return P.slice(G,7).concat(P.slice(0,G))}var cd="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),pc="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Oo="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ou=oi,dd=oi,$i=oi;function su(P,G){var Q=i(this._weekdays)?this._weekdays:this._weekdays[P&&P!==!0&&this._weekdays.isFormat.test(G)?"format":"standalone"];return P===!0?hs(Q,this._week.dow):P?Q[P.day()]:Q}function au(P){return P===!0?hs(this._weekdaysShort,this._week.dow):P?this._weekdaysShort[P.day()]:this._weekdaysShort}function gc(P){return P===!0?hs(this._weekdaysMin,this._week.dow):P?this._weekdaysMin[P.day()]:this._weekdaysMin}function mb(P,G,Q){var st,yt,Ft,de=P.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],st=0;st<7;++st)Ft=h([2e3,1]).day(st),this._minWeekdaysParse[st]=this.weekdaysMin(Ft,"").toLocaleLowerCase(),this._shortWeekdaysParse[st]=this.weekdaysShort(Ft,"").toLocaleLowerCase(),this._weekdaysParse[st]=this.weekdays(Ft,"").toLocaleLowerCase();return Q?G==="dddd"?(yt=oe.call(this._weekdaysParse,de),yt!==-1?yt:null):G==="ddd"?(yt=oe.call(this._shortWeekdaysParse,de),yt!==-1?yt:null):(yt=oe.call(this._minWeekdaysParse,de),yt!==-1?yt:null):G==="dddd"?(yt=oe.call(this._weekdaysParse,de),yt!==-1||(yt=oe.call(this._shortWeekdaysParse,de),yt!==-1)?yt:(yt=oe.call(this._minWeekdaysParse,de),yt!==-1?yt:null)):G==="ddd"?(yt=oe.call(this._shortWeekdaysParse,de),yt!==-1||(yt=oe.call(this._weekdaysParse,de),yt!==-1)?yt:(yt=oe.call(this._minWeekdaysParse,de),yt!==-1?yt:null)):(yt=oe.call(this._minWeekdaysParse,de),yt!==-1||(yt=oe.call(this._weekdaysParse,de),yt!==-1)?yt:(yt=oe.call(this._shortWeekdaysParse,de),yt!==-1?yt:null))}function pb(P,G,Q){var st,yt,Ft;if(this._weekdaysParseExact)return mb.call(this,P,G,Q);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),st=0;st<7;st++){if(yt=h([2e3,1]).day(st),Q&&!this._fullWeekdaysParse[st]&&(this._fullWeekdaysParse[st]=new RegExp("^"+this.weekdays(yt,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[st]=new RegExp("^"+this.weekdaysShort(yt,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[st]=new RegExp("^"+this.weekdaysMin(yt,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[st]||(Ft="^"+this.weekdays(yt,"")+"|^"+this.weekdaysShort(yt,"")+"|^"+this.weekdaysMin(yt,""),this._weekdaysParse[st]=new RegExp(Ft.replace(".",""),"i")),Q&&G==="dddd"&&this._fullWeekdaysParse[st].test(P))return st;if(Q&&G==="ddd"&&this._shortWeekdaysParse[st].test(P))return st;if(Q&&G==="dd"&&this._minWeekdaysParse[st].test(P))return st;if(!Q&&this._weekdaysParse[st].test(P))return st}}function Uf(P){if(!this.isValid())return P!=null?this:NaN;var G=Yn(this,"Day");return P!=null?(P=nu(P,this.localeData()),this.add(P-G,"d")):G}function eg(P){if(!this.isValid())return P!=null?this:NaN;var G=(this.day()+7-this.localeData()._week.dow)%7;return P==null?G:this.add(P-G,"d")}function v1(P){if(!this.isValid())return P!=null?this:NaN;if(P!=null){var G=Ss(P,this.localeData());return this.day(this.day()%7?G:G-7)}else return this.day()||7}function y1(P){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||ud.call(this),P?this._weekdaysStrictRegex:this._weekdaysRegex):(o(this,"_weekdaysRegex")||(this._weekdaysRegex=ou),this._weekdaysStrictRegex&&P?this._weekdaysStrictRegex:this._weekdaysRegex)}function _1(P){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||ud.call(this),P?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(o(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=dd),this._weekdaysShortStrictRegex&&P?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function ig(P){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||ud.call(this),P?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(o(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=$i),this._weekdaysMinStrictRegex&&P?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function ud(){function P(Zs,Bl){return Bl.length-Zs.length}var G=[],Q=[],st=[],yt=[],Ft,de,ri,zi,Hr;for(Ft=0;Ft<7;Ft++)de=h([2e3,1]).day(Ft),ri=Yr(this.weekdaysMin(de,"")),zi=Yr(this.weekdaysShort(de,"")),Hr=Yr(this.weekdays(de,"")),G.push(ri),Q.push(zi),st.push(Hr),yt.push(ri),yt.push(zi),yt.push(Hr);G.sort(P),Q.sort(P),st.sort(P),yt.sort(P),this._weekdaysRegex=new RegExp("^("+yt.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+st.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+Q.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+G.join("|")+")","i")}function bc(){return this.hours()%12||12}function w1(){return this.hours()||24}j("H",["HH",2],0,"hour"),j("h",["hh",2],0,bc),j("k",["kk",2],0,w1),j("hmm",0,0,function(){return""+bc.apply(this)+S(this.minutes(),2)}),j("hmmss",0,0,function(){return""+bc.apply(this)+S(this.minutes(),2)+S(this.seconds(),2)}),j("Hmm",0,0,function(){return""+this.hours()+S(this.minutes(),2)}),j("Hmmss",0,0,function(){return""+this.hours()+S(this.minutes(),2)+S(this.seconds(),2)});function lu(P,G){j(P,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),G)})}lu("a",!0),lu("A",!1);function Wf(P,G){return G._meridiemParse}be("a",Wf),be("A",Wf),be("H",Nt,ei),be("h",Nt,Ni),be("k",Nt,Ni),be("HH",Nt,wt),be("hh",Nt,wt),be("kk",Nt,wt),be("hmm",Ut),be("hmmss",qt),be("Hmm",Ut),be("Hmmss",qt),he(["H","HH"],ke),he(["k","kk"],function(P,G,Q){var st=Te(P);G[ke]=st===24?0:st}),he(["a","A"],function(P,G,Q){Q._isPm=Q._locale.isPM(P),Q._meridiem=P}),he(["h","hh"],function(P,G,Q){G[ke]=Te(P),m(Q).bigHour=!0}),he("hmm",function(P,G,Q){var st=P.length-2;G[ke]=Te(P.substr(0,st)),G[Ui]=Te(P.substr(st)),m(Q).bigHour=!0}),he("hmmss",function(P,G,Q){var st=P.length-4,yt=P.length-2;G[ke]=Te(P.substr(0,st)),G[Ui]=Te(P.substr(st,2)),G[qe]=Te(P.substr(yt)),m(Q).bigHour=!0}),he("Hmm",function(P,G,Q){var st=P.length-2;G[ke]=Te(P.substr(0,st)),G[Ui]=Te(P.substr(st))}),he("Hmmss",function(P,G,Q){var st=P.length-4,yt=P.length-2;G[ke]=Te(P.substr(0,st)),G[Ui]=Te(P.substr(st,2)),G[qe]=Te(P.substr(yt))});function Yf(P){return(P+"").toLowerCase().charAt(0)==="p"}var gb=/[ap]\.?m?\.?/i,bb=nn("Hours",!0);function vb(P,G,Q){return P>11?Q?"pm":"PM":Q?"am":"AM"}var rg={calendar:C,longDateFormat:Y,invalidDate:lt,ordinal:et,dayOfMonthOrdinalParse:Et,relativeTime:nt,months:Ie,monthsShort:ci,week:ad,weekdays:cd,weekdaysMin:Oo,weekdaysShort:pc,meridiemParse:gb},qr={},Pa={},Th;function cu(P,G){var Q,st=Math.min(P.length,G.length);for(Q=0;Q<st;Q+=1)if(P[Q]!==G[Q])return Q;return st}function el(P){return P&&P.toLowerCase().replace("_","-")}function ng(P){for(var G=0,Q,st,yt,Ft;G<P.length;){for(Ft=el(P[G]).split("-"),Q=Ft.length,st=el(P[G+1]),st=st?st.split("-"):null;Q>0;){if(yt=qf(Ft.slice(0,Q).join("-")),yt)return yt;if(st&&st.length>=Q&&cu(Ft,st)>=Q-1)break;Q--}G++}return Th}function Mh(P){return!!(P&&P.match("^[^/\\\\]*$"))}function qf(P){var G=null,Q;if(qr[P]===void 0&&typeof vv<"u"&&vv&&vv.exports&&Mh(P))try{G=Th._abbr,Q=ll,Q("./locale/"+P),Na(G)}catch{qr[P]=null}return qr[P]}function Na(P,G){var Q;return P&&(a(G)?Q=La(P):Q=og(P,G),Q?Th=Q:typeof console<"u"&&console.warn&&console.warn("Locale "+P+" not found. Did you forget to load it?")),Th._abbr}function og(P,G){if(G!==null){var Q,st=rg;if(G.abbr=P,qr[P]!=null)W("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),st=qr[P]._config;else if(G.parentLocale!=null)if(qr[G.parentLocale]!=null)st=qr[G.parentLocale]._config;else if(Q=qf(G.parentLocale),Q!=null)st=Q._config;else return Pa[G.parentLocale]||(Pa[G.parentLocale]=[]),Pa[G.parentLocale].push({name:P,config:G}),null;return qr[P]=new v(B(st,G)),Pa[P]&&Pa[P].forEach(function(yt){og(yt.name,yt.config)}),Na(P),qr[P]}else return delete qr[P],null}function sg(P,G){if(G!=null){var Q,st,yt=rg;qr[P]!=null&&qr[P].parentLocale!=null?qr[P].set(B(qr[P]._config,G)):(st=qf(P),st!=null&&(yt=st._config),G=B(yt,G),st==null&&(G.abbr=P),Q=new v(G),Q.parentLocale=qr[P],qr[P]=Q),Na(P)}else qr[P]!=null&&(qr[P].parentLocale!=null?(qr[P]=qr[P].parentLocale,P===Na()&&Na(P)):qr[P]!=null&&delete qr[P]);return qr[P]}function La(P){var G;if(P&&P._locale&&P._locale._abbr&&(P=P._locale._abbr),!P)return Th;if(!i(P)){if(G=qf(P),G)return G;P=[P]}return ng(P)}function yb(){return y(qr)}function du(P){var G,Q=P._a;return Q&&m(P).overflow===-2&&(G=Q[mi]<0||Q[mi]>11?mi:Q[Ee]<1||Q[Ee]>ae(Q[se],Q[mi])?Ee:Q[ke]<0||Q[ke]>24||Q[ke]===24&&(Q[Ui]!==0||Q[qe]!==0||Q[Pe]!==0)?ke:Q[Ui]<0||Q[Ui]>59?Ui:Q[qe]<0||Q[qe]>59?qe:Q[Pe]<0||Q[Pe]>999?Pe:-1,m(P)._overflowDayOfYear&&(G<se||G>Ee)&&(G=Ee),m(P)._overflowWeeks&&G===-1&&(G=ar),m(P)._overflowWeekday&&G===-1&&(G=Wi),m(P).overflow=G),P}var ag=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,lg=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_b=/Z|[+-]\d\d(?::?\d\d)?/,$f=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],uu=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ah=/^\/?Date\((-?\d+)/i,cg=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,hu={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Gf(P){var G,Q,st=P._i,yt=ag.exec(st)||lg.exec(st),Ft,de,ri,zi,Hr=$f.length,Zs=uu.length;if(yt){for(m(P).iso=!0,G=0,Q=Hr;G<Q;G++)if($f[G][1].exec(yt[1])){de=$f[G][0],Ft=$f[G][2]!==!1;break}if(de==null){P._isValid=!1;return}if(yt[3]){for(G=0,Q=Zs;G<Q;G++)if(uu[G][1].exec(yt[3])){ri=(yt[2]||" ")+uu[G][0];break}if(ri==null){P._isValid=!1;return}}if(!Ft&&ri!=null){P._isValid=!1;return}if(yt[4])if(_b.exec(yt[4]))zi="Z";else{P._isValid=!1;return}P._f=de+(ri||"")+(zi||""),Nr(P)}else P._isValid=!1}function K(P,G,Q,st,yt,Ft){var de=[ft(P),ci.indexOf(G),parseInt(Q,10),parseInt(st,10),parseInt(yt,10)];return Ft&&de.push(parseInt(Ft,10)),de}function ft(P){var G=parseInt(P,10);return G<=49?2e3+G:G<=999?1900+G:G}function Ot(P){return P.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Ht(P,G,Q){if(P){var st=pc.indexOf(P),yt=new Date(G[0],G[1],G[2]).getDay();if(st!==yt)return m(Q).weekdayMismatch=!0,Q._isValid=!1,!1}return!0}function $t(P,G,Q){if(P)return hu[P];if(G)return 0;var st=parseInt(Q,10),yt=st%100,Ft=(st-yt)/100;return Ft*60+yt}function ue(P){var G=cg.exec(Ot(P._i)),Q;if(G){if(Q=K(G[4],G[3],G[2],G[5],G[6],G[7]),!Ht(G[1],Q,P))return;P._a=Q,P._tzm=$t(G[8],G[9],G[10]),P._d=ao.apply(null,P._a),P._d.setUTCMinutes(P._d.getUTCMinutes()-P._tzm),m(P).rfc2822=!0}else P._isValid=!1}function Re(P){var G=Ah.exec(P._i);if(G!==null){P._d=new Date(+G[1]);return}if(Gf(P),P._isValid===!1)delete P._isValid;else return;if(ue(P),P._isValid===!1)delete P._isValid;else return;P._strict?P._isValid=!1:t.createFromInputFallback(P)}t.createFromInputFallback=L("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(P){P._d=new Date(P._i+(P._useUTC?" UTC":""))});function $e(P,G,Q){return P??G??Q}function Mi(P){var G=new Date(t.now());return P._useUTC?[G.getUTCFullYear(),G.getUTCMonth(),G.getUTCDate()]:[G.getFullYear(),G.getMonth(),G.getDate()]}function Qi(P){var G,Q,st=[],yt,Ft,de;if(!P._d){for(yt=Mi(P),P._w&&P._a[Ee]==null&&P._a[mi]==null&&Ji(P),P._dayOfYear!=null&&(de=$e(P._a[se],yt[se]),(P._dayOfYear>Ti(de)||P._dayOfYear===0)&&(m(P)._overflowDayOfYear=!0),Q=ao(de,0,P._dayOfYear),P._a[mi]=Q.getUTCMonth(),P._a[Ee]=Q.getUTCDate()),G=0;G<3&&P._a[G]==null;++G)P._a[G]=st[G]=yt[G];for(;G<7;G++)P._a[G]=st[G]=P._a[G]==null?G===2?1:0:P._a[G];P._a[ke]===24&&P._a[Ui]===0&&P._a[qe]===0&&P._a[Pe]===0&&(P._nextDay=!0,P._a[ke]=0),P._d=(P._useUTC?ao:la).apply(null,st),Ft=P._useUTC?P._d.getUTCDay():P._d.getDay(),P._tzm!=null&&P._d.setUTCMinutes(P._d.getUTCMinutes()-P._tzm),P._nextDay&&(P._a[ke]=24),P._w&&typeof P._w.d<"u"&&P._w.d!==Ft&&(m(P).weekdayMismatch=!0)}}function Ji(P){var G,Q,st,yt,Ft,de,ri,zi,Hr;G=P._w,G.GG!=null||G.W!=null||G.E!=null?(Ft=1,de=4,Q=$e(G.GG,P._a[se],Dr(Ur(),1,4).year),st=$e(G.W,1),yt=$e(G.E,1),(yt<1||yt>7)&&(zi=!0)):(Ft=P._locale._week.dow,de=P._locale._week.doy,Hr=Dr(Ur(),Ft,de),Q=$e(G.gg,P._a[se],Hr.year),st=$e(G.w,Hr.week),G.d!=null?(yt=G.d,(yt<0||yt>6)&&(zi=!0)):G.e!=null?(yt=G.e+Ft,(G.e<0||G.e>6)&&(zi=!0)):yt=Ft),st<1||st>xs(Q,Ft,de)?m(P)._overflowWeeks=!0:zi!=null?m(P)._overflowWeekday=!0:(ri=Tr(Q,st,yt,Ft,de),P._a[se]=ri.year,P._dayOfYear=ri.dayOfYear)}t.ISO_8601=function(){},t.RFC_2822=function(){};function Nr(P){if(P._f===t.ISO_8601){Gf(P);return}if(P._f===t.RFC_2822){ue(P);return}P._a=[],m(P).empty=!0;var G=""+P._i,Q,st,yt,Ft,de,ri=G.length,zi=0,Hr,Zs;for(yt=k(P._f,P._locale).match(M)||[],Zs=yt.length,Q=0;Q<Zs;Q++)Ft=yt[Q],st=(G.match(ye(Ft,P))||[])[0],st&&(de=G.substr(0,G.indexOf(st)),de.length>0&&m(P).unusedInput.push(de),G=G.slice(G.indexOf(st)+st.length),zi+=st.length),T[Ft]?(st?m(P).empty=!1:m(P).unusedTokens.push(Ft),Jt(Ft,st,P)):P._strict&&!st&&m(P).unusedTokens.push(Ft);m(P).charsLeftOver=ri-zi,G.length>0&&m(P).unusedInput.push(G),P._a[ke]<=12&&m(P).bigHour===!0&&P._a[ke]>0&&(m(P).bigHour=void 0),m(P).parsedDateParts=P._a.slice(0),m(P).meridiem=P._meridiem,P._a[ke]=lo(P._locale,P._a[ke],P._meridiem),Hr=m(P).era,Hr!==null&&(P._a[se]=P._locale.erasConvertYear(Hr,P._a[se])),Qi(P),du(P)}function lo(P,G,Q){var st;return Q==null?G:P.meridiemHour!=null?P.meridiemHour(G,Q):(P.isPM!=null&&(st=P.isPM(Q),st&&G<12&&(G+=12),!st&&G===12&&(G=0)),G)}function po(P){var G,Q,st,yt,Ft,de,ri=!1,zi=P._f.length;if(zi===0){m(P).invalidFormat=!0,P._d=new Date(NaN);return}for(yt=0;yt<zi;yt++)Ft=0,de=!1,G=O({},P),P._useUTC!=null&&(G._useUTC=P._useUTC),G._f=P._f[yt],Nr(G),p(G)&&(de=!0),Ft+=m(G).charsLeftOver,Ft+=m(G).unusedTokens.length*10,m(G).score=Ft,ri?Ft<st&&(st=Ft,Q=G):(st==null||Ft<st||de)&&(st=Ft,Q=G,de&&(ri=!0));u(P,Q||G)}function Po(P){if(!P._d){var G=ct(P._i),Q=G.day===void 0?G.date:G.day;P._a=d([G.year,G.month,Q,G.hour,G.minute,G.second,G.millisecond],function(st){return st&&parseInt(st,10)}),Qi(P)}}function Es(P){var G=new V(du(qo(P)));return G._nextDay&&(G.add(1,"d"),G._nextDay=void 0),G}function qo(P){var G=P._i,Q=P._f;return P._locale=P._locale||La(P._l),G===null||Q===void 0&&G===""?b({nullInput:!0}):(typeof G=="string"&&(P._i=G=P._locale.preparse(G)),H(G)?new V(du(G)):(c(G)?P._d=G:i(Q)?po(P):Q?Nr(P):Nl(P),p(P)||(P._d=null),P))}function Nl(P){var G=P._i;a(G)?P._d=new Date(t.now()):c(G)?P._d=new Date(G.valueOf()):typeof G=="string"?Re(P):i(G)?(P._a=d(G.slice(0),function(Q){return parseInt(Q,10)}),Qi(P)):n(G)?Po(P):l(G)?P._d=new Date(G):t.createFromInputFallback(P)}function ca(P,G,Q,st,yt){var Ft={};return(G===!0||G===!1)&&(st=G,G=void 0),(Q===!0||Q===!1)&&(st=Q,Q=void 0),(n(P)&&s(P)||i(P)&&P.length===0)&&(P=void 0),Ft._isAMomentObject=!0,Ft._useUTC=Ft._isUTC=yt,Ft._l=Q,Ft._i=P,Ft._f=G,Ft._strict=st,Es(Ft)}function Ur(P,G,Q,st){return ca(P,G,Q,st,!1)}var wb=L("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var P=Ur.apply(null,arguments);return this.isValid()&&P.isValid()?P<this?this:P:b()}),dg=L("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var P=Ur.apply(null,arguments);return this.isValid()&&P.isValid()?P>this?this:P:b()});function Kf(P,G){var Q,st;if(G.length===1&&i(G[0])&&(G=G[0]),!G.length)return Ur();for(Q=G[0],st=1;st<G.length;++st)(!G[st].isValid()||G[st][P](Q))&&(Q=G[st]);return Q}function Xf(){var P=[].slice.call(arguments,0);return Kf("isBefore",P)}function ug(){var P=[].slice.call(arguments,0);return Kf("isAfter",P)}var hg=function(){return Date.now?Date.now():+new Date},vc=["year","quarter","month","week","day","hour","minute","second","millisecond"];function fs(P){var G,Q=!1,st,yt=vc.length;for(G in P)if(o(P,G)&&!(oe.call(vc,G)!==-1&&(P[G]==null||!isNaN(P[G]))))return!1;for(st=0;st<yt;++st)if(P[vc[st]]){if(Q)return!1;parseFloat(P[vc[st]])!==Te(P[vc[st]])&&(Q=!0)}return!0}function Zf(){return this._isValid}function Qf(){return bo(NaN)}function hd(P){var G=ct(P),Q=G.year||0,st=G.quarter||0,yt=G.month||0,Ft=G.week||G.isoWeek||0,de=G.day||0,ri=G.hour||0,zi=G.minute||0,Hr=G.second||0,Zs=G.millisecond||0;this._isValid=fs(G),this._milliseconds=+Zs+Hr*1e3+zi*6e4+ri*1e3*60*60,this._days=+de+Ft*7,this._months=+yt+st*3+Q*12,this._data={},this._locale=La(),this._bubble()}function fu(P){return P instanceof hd}function Rs(P){return P<0?Math.round(-1*P)*-1:Math.round(P)}function C1(P,G,Q){var st=Math.min(P.length,G.length),yt=Math.abs(P.length-G.length),Ft=0,de;for(de=0;de<st;de++)(Q&&P[de]!==G[de]||!Q&&Te(P[de])!==Te(G[de]))&&Ft++;return Ft+yt}function Jf(P,G){j(P,0,0,function(){var Q=this.utcOffset(),st="+";return Q<0&&(Q=-Q,st="-"),st+S(~~(Q/60),2)+G+S(~~Q%60,2)})}Jf("Z",":"),Jf("ZZ",""),be("Z",Di),be("ZZ",Di),he(["Z","ZZ"],function(P,G,Q){Q._useUTC=!0,Q._tzm=da(Di,P)});var Cb=/([\+\-]|\d\d)/gi;function da(P,G){var Q=(G||"").match(P),st,yt,Ft;return Q===null?null:(st=Q[Q.length-1]||[],yt=(st+"").match(Cb)||["-",0,0],Ft=+(yt[1]*60)+Te(yt[2]),Ft===0?0:yt[0]==="+"?Ft:-Ft)}function mu(P,G){var Q,st;return G._isUTC?(Q=G.clone(),st=(H(P)||c(P)?P.valueOf():Ur(P).valueOf())-Q.valueOf(),Q._d.setTime(Q._d.valueOf()+st),t.updateOffset(Q,!1),Q):Ur(P).local()}function tm(P){return-Math.round(P._d.getTimezoneOffset())}t.updateOffset=function(){};function xb(P,G,Q){var st=this._offset||0,yt;if(!this.isValid())return P!=null?this:NaN;if(P!=null){if(typeof P=="string"){if(P=da(Di,P),P===null)return this}else Math.abs(P)<16&&!Q&&(P=P*60);return!this._isUTC&&G&&(yt=tm(this)),this._offset=P,this._isUTC=!0,yt!=null&&this.add(yt,"m"),st!==P&&(!G||this._changeInProgress?vu(this,bo(P-st,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?st:tm(this)}function pu(P,G){return P!=null?(typeof P!="string"&&(P=-P),this.utcOffset(P,G),this):-this.utcOffset()}function Ih(P){return this.utcOffset(0,P)}function ua(P){return this._isUTC&&(this.utcOffset(0,P),this._isUTC=!1,P&&this.subtract(tm(this),"m")),this}function $s(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var P=da(fe,this._i);P!=null?this.utcOffset(P):this.utcOffset(0,!0)}return this}function gu(P){return this.isValid()?(P=P?Ur(P).utcOffset():0,(this.utcOffset()-P)%60===0):!1}function fd(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function md(){if(!a(this._isDSTShifted))return this._isDSTShifted;var P={},G;return O(P,this),P=qo(P),P._a?(G=P._isUTC?h(P._a):Ur(P._a),this._isDSTShifted=this.isValid()&&C1(P._a,G.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function em(){return this.isValid()?!this._isUTC:!1}function pd(){return this.isValid()?this._isUTC:!1}function go(){return this.isValid()?this._isUTC&&this._offset===0:!1}var fg=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Gs=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function bo(P,G){var Q=P,st=null,yt,Ft,de;return fu(P)?Q={ms:P._milliseconds,d:P._days,M:P._months}:l(P)||!isNaN(+P)?(Q={},G?Q[G]=+P:Q.milliseconds=+P):(st=fg.exec(P))?(yt=st[1]==="-"?-1:1,Q={y:0,d:Te(st[Ee])*yt,h:Te(st[ke])*yt,m:Te(st[Ui])*yt,s:Te(st[qe])*yt,ms:Te(Rs(st[Pe]*1e3))*yt}):(st=Gs.exec(P))?(yt=st[1]==="-"?-1:1,Q={y:il(st[2],yt),M:il(st[3],yt),w:il(st[4],yt),d:il(st[5],yt),h:il(st[6],yt),m:il(st[7],yt),s:il(st[8],yt)}):Q==null?Q={}:typeof Q=="object"&&("from"in Q||"to"in Q)&&(de=pg(Ur(Q.from),Ur(Q.to)),Q={},Q.ms=de.milliseconds,Q.M=de.months),Ft=new hd(Q),fu(P)&&o(P,"_locale")&&(Ft._locale=P._locale),fu(P)&&o(P,"_isValid")&&(Ft._isValid=P._isValid),Ft}bo.fn=hd.prototype,bo.invalid=Qf;function il(P,G){var Q=P&&parseFloat(P.replace(",","."));return(isNaN(Q)?0:Q)*G}function mg(P,G){var Q={};return Q.months=G.month()-P.month()+(G.year()-P.year())*12,P.clone().add(Q.months,"M").isAfter(G)&&--Q.months,Q.milliseconds=+G-+P.clone().add(Q.months,"M"),Q}function pg(P,G){var Q;return P.isValid()&&G.isValid()?(G=mu(G,P),P.isBefore(G)?Q=mg(P,G):(Q=mg(G,P),Q.milliseconds=-Q.milliseconds,Q.months=-Q.months),Q):{milliseconds:0,months:0}}function bu(P,G){return function(Q,st){var yt,Ft;return st!==null&&!isNaN(+st)&&(W(G,"moment()."+G+"(period, number) is deprecated. Please use moment()."+G+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),Ft=Q,Q=st,st=Ft),yt=bo(Q,st),vu(this,yt,P),this}}function vu(P,G,Q,st){var yt=G._milliseconds,Ft=Rs(G._days),de=Rs(G._months);P.isValid()&&(st=st??!0,de&&kr(P,Yn(P,"Month")+de*Q),Ft&&Tn(P,"Date",Yn(P,"Date")+Ft*Q),yt&&P._d.setTime(P._d.valueOf()+yt*Q),st&&t.updateOffset(P,Ft||de))}var yu=bu(1,"add"),kh=bu(-1,"subtract");function Dh(P){return typeof P=="string"||P instanceof String}function Oh(P){return H(P)||c(P)||Dh(P)||l(P)||gg(P)||_u(P)||P===null||P===void 0}function _u(P){var G=n(P)&&!s(P),Q=!1,st=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],yt,Ft,de=st.length;for(yt=0;yt<de;yt+=1)Ft=st[yt],Q=Q||o(P,Ft);return G&&Q}function gg(P){var G=i(P),Q=!1;return G&&(Q=P.filter(function(st){return!l(st)&&Dh(P)}).length===0),G&&Q}function rl(P){var G=n(P)&&!s(P),Q=!1,st=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],yt,Ft;for(yt=0;yt<st.length;yt+=1)Ft=st[yt],Q=Q||o(P,Ft);return G&&Q}function nl(P,G){var Q=P.diff(G,"days",!0);return Q<-6?"sameElse":Q<-1?"lastWeek":Q<0?"lastDay":Q<1?"sameDay":Q<2?"nextDay":Q<7?"nextWeek":"sameElse"}function Ln(P,G){arguments.length===1&&(arguments[0]?Oh(arguments[0])?(P=arguments[0],G=void 0):rl(arguments[0])&&(G=arguments[0],P=void 0):(P=void 0,G=void 0));var Q=P||Ur(),st=mu(Q,this).startOf("day"),yt=t.calendarFormat(this,st)||"sameElse",Ft=G&&(x(G[yt])?G[yt].call(this,Q):G[yt]);return this.format(Ft||this.localeData().calendar(yt,this,Ur(Q)))}function Fn(){return new V(this)}function Eo(P,G){var Q=H(P)?P:Ur(P);return this.isValid()&&Q.isValid()?(G=it(G)||"millisecond",G==="millisecond"?this.valueOf()>Q.valueOf():Q.valueOf()<this.clone().startOf(G).valueOf()):!1}function $o(P,G){var Q=H(P)?P:Ur(P);return this.isValid()&&Q.isValid()?(G=it(G)||"millisecond",G==="millisecond"?this.valueOf()<Q.valueOf():this.clone().endOf(G).valueOf()<Q.valueOf()):!1}function gd(P,G,Q,st){var yt=H(P)?P:Ur(P),Ft=H(G)?G:Ur(G);return this.isValid()&&yt.isValid()&&Ft.isValid()?(st=st||"()",(st[0]==="("?this.isAfter(yt,Q):!this.isBefore(yt,Q))&&(st[1]===")"?this.isBefore(Ft,Q):!this.isAfter(Ft,Q))):!1}function bg(P,G){var Q=H(P)?P:Ur(P),st;return this.isValid()&&Q.isValid()?(G=it(G)||"millisecond",G==="millisecond"?this.valueOf()===Q.valueOf():(st=Q.valueOf(),this.clone().startOf(G).valueOf()<=st&&st<=this.clone().endOf(G).valueOf())):!1}function im(P,G){return this.isSame(P,G)||this.isAfter(P,G)}function Sb(P,G){return this.isSame(P,G)||this.isBefore(P,G)}function x1(P,G,Q){var st,yt,Ft;if(!this.isValid())return NaN;if(st=mu(P,this),!st.isValid())return NaN;switch(yt=(st.utcOffset()-this.utcOffset())*6e4,G=it(G),G){case"year":Ft=Ph(this,st)/12;break;case"month":Ft=Ph(this,st);break;case"quarter":Ft=Ph(this,st)/3;break;case"second":Ft=(this-st)/1e3;break;case"minute":Ft=(this-st)/6e4;break;case"hour":Ft=(this-st)/36e5;break;case"day":Ft=(this-st-yt)/864e5;break;case"week":Ft=(this-st-yt)/6048e5;break;default:Ft=this-st}return Q?Ft:Ye(Ft)}function Ph(P,G){if(P.date()<G.date())return-Ph(G,P);var Q=(G.year()-P.year())*12+(G.month()-P.month()),st=P.clone().add(Q,"months"),yt,Ft;return G-st<0?(yt=P.clone().add(Q-1,"months"),Ft=(G-st)/(st-yt)):(yt=P.clone().add(Q+1,"months"),Ft=(G-st)/(yt-st)),-(Q+Ft)||0}t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Fa(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ol(P){if(!this.isValid())return null;var G=P!==!0,Q=G?this.clone().utc():this;return Q.year()<0||Q.year()>9999?A(Q,G?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):x(Date.prototype.toISOString)?G?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",A(Q,"Z")):A(Q,G?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Eb(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var P="moment",G="",Q,st,yt,Ft;return this.isLocal()||(P=this.utcOffset()===0?"moment.utc":"moment.parseZone",G="Z"),Q="["+P+'("]',st=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",yt="-MM-DD[T]HH:mm:ss.SSS",Ft=G+'[")]',this.format(Q+st+yt+Ft)}function Rb(P){P||(P=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var G=A(this,P);return this.localeData().postformat(G)}function fR(P,G){return this.isValid()&&(H(P)&&P.isValid()||Ur(P).isValid())?bo({to:this,from:P}).locale(this.locale()).humanize(!G):this.localeData().invalidDate()}function Tb(P){return this.from(Ur(),P)}function Mb(P,G){return this.isValid()&&(H(P)&&P.isValid()||Ur(P).isValid())?bo({from:this,to:P}).locale(this.locale()).humanize(!G):this.localeData().invalidDate()}function S1(P){return this.to(Ur(),P)}function E1(P){var G;return P===void 0?this._locale._abbr:(G=La(P),G!=null&&(this._locale=G),this)}var Ab=L("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(P){return P===void 0?this.localeData():this.locale(P)});function Ib(){return this._locale}var Nh=1e3,wu=60*Nh,kb=60*wu,mR=(365*400+97)*24*kb;function Lh(P,G){return(P%G+G)%G}function pR(P,G,Q){return P<100&&P>=0?new Date(P+400,G,Q)-mR:new Date(P,G,Q).valueOf()}function gR(P,G,Q){return P<100&&P>=0?Date.UTC(P+400,G,Q)-mR:Date.UTC(P,G,Q)}function GD(P){var G,Q;if(P=it(P),P===void 0||P==="millisecond"||!this.isValid())return this;switch(Q=this._isUTC?gR:pR,P){case"year":G=Q(this.year(),0,1);break;case"quarter":G=Q(this.year(),this.month()-this.month()%3,1);break;case"month":G=Q(this.year(),this.month(),1);break;case"week":G=Q(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":G=Q(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":G=Q(this.year(),this.month(),this.date());break;case"hour":G=this._d.valueOf(),G-=Lh(G+(this._isUTC?0:this.utcOffset()*wu),kb);break;case"minute":G=this._d.valueOf(),G-=Lh(G,wu);break;case"second":G=this._d.valueOf(),G-=Lh(G,Nh);break}return this._d.setTime(G),t.updateOffset(this,!0),this}function KD(P){var G,Q;if(P=it(P),P===void 0||P==="millisecond"||!this.isValid())return this;switch(Q=this._isUTC?gR:pR,P){case"year":G=Q(this.year()+1,0,1)-1;break;case"quarter":G=Q(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":G=Q(this.year(),this.month()+1,1)-1;break;case"week":G=Q(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":G=Q(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":G=Q(this.year(),this.month(),this.date()+1)-1;break;case"hour":G=this._d.valueOf(),G+=kb-Lh(G+(this._isUTC?0:this.utcOffset()*wu),kb)-1;break;case"minute":G=this._d.valueOf(),G+=wu-Lh(G,wu)-1;break;case"second":G=this._d.valueOf(),G+=Nh-Lh(G,Nh)-1;break}return this._d.setTime(G),t.updateOffset(this,!0),this}function XD(){return this._d.valueOf()-(this._offset||0)*6e4}function R1(){return Math.floor(this.valueOf()/1e3)}function T1(){return new Date(this.valueOf())}function vg(){var P=this;return[P.year(),P.month(),P.date(),P.hour(),P.minute(),P.second(),P.millisecond()]}function ZD(){var P=this;return{years:P.year(),months:P.month(),date:P.date(),hours:P.hours(),minutes:P.minutes(),seconds:P.seconds(),milliseconds:P.milliseconds()}}function QD(){return this.isValid()?this.toISOString():null}function bR(){return p(this)}function JD(){return u({},m(this))}function tO(){return m(this).overflow}function eO(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}j("N",0,0,"eraAbbr"),j("NN",0,0,"eraAbbr"),j("NNN",0,0,"eraAbbr"),j("NNNN",0,0,"eraName"),j("NNNNN",0,0,"eraNarrow"),j("y",["y",1],"yo","eraYear"),j("y",["yy",2],0,"eraYear"),j("y",["yyy",3],0,"eraYear"),j("y",["yyyy",4],0,"eraYear"),be("N",Db),be("NN",Db),be("NNN",Db),be("NNNN",yR),be("NNNNN",_R),he(["N","NN","NNN","NNNN","NNNNN"],function(P,G,Q,st){var yt=Q._locale.erasParse(P,st,Q._strict);yt?m(Q).era=yt:m(Q).invalidEra=P}),be("y",Fe),be("yy",Fe),be("yyy",Fe),be("yyyy",Fe),be("yo",wR),he(["y","yy","yyy","yyyy"],se),he(["yo"],function(P,G,Q,st){var yt;Q._locale._eraYearOrdinalRegex&&(yt=P.match(Q._locale._eraYearOrdinalRegex)),Q._locale.eraYearOrdinalParse?G[se]=Q._locale.eraYearOrdinalParse(P,yt):G[se]=parseInt(P,10)});function iO(P,G){var Q,st,yt,Ft=this._eras||La("en")._eras;for(Q=0,st=Ft.length;Q<st;++Q){switch(typeof Ft[Q].since){case"string":yt=t(Ft[Q].since).startOf("day"),Ft[Q].since=yt.valueOf();break}switch(typeof Ft[Q].until){case"undefined":Ft[Q].until=1/0;break;case"string":yt=t(Ft[Q].until).startOf("day").valueOf(),Ft[Q].until=yt.valueOf();break}}return Ft}function Cu(P,G,Q){var st,yt,Ft=this.eras(),de,ri,zi;for(P=P.toUpperCase(),st=0,yt=Ft.length;st<yt;++st)if(de=Ft[st].name.toUpperCase(),ri=Ft[st].abbr.toUpperCase(),zi=Ft[st].narrow.toUpperCase(),Q)switch(G){case"N":case"NN":case"NNN":if(ri===P)return Ft[st];break;case"NNNN":if(de===P)return Ft[st];break;case"NNNNN":if(zi===P)return Ft[st];break}else if([de,ri,zi].indexOf(P)>=0)return Ft[st]}function Ll(P,G){var Q=P.since<=P.until?1:-1;return G===void 0?t(P.since).year():t(P.since).year()+(G-P.offset)*Q}function bd(){var P,G,Q,st=this.localeData().eras();for(P=0,G=st.length;P<G;++P)if(Q=this.clone().startOf("day").valueOf(),st[P].since<=Q&&Q<=st[P].until||st[P].until<=Q&&Q<=st[P].since)return st[P].name;return""}function rO(){var P,G,Q,st=this.localeData().eras();for(P=0,G=st.length;P<G;++P)if(Q=this.clone().startOf("day").valueOf(),st[P].since<=Q&&Q<=st[P].until||st[P].until<=Q&&Q<=st[P].since)return st[P].narrow;return""}function vR(){var P,G,Q,st=this.localeData().eras();for(P=0,G=st.length;P<G;++P)if(Q=this.clone().startOf("day").valueOf(),st[P].since<=Q&&Q<=st[P].until||st[P].until<=Q&&Q<=st[P].since)return st[P].abbr;return""}function xu(){var P,G,Q,st,yt=this.localeData().eras();for(P=0,G=yt.length;P<G;++P)if(Q=yt[P].since<=yt[P].until?1:-1,st=this.clone().startOf("day").valueOf(),yt[P].since<=st&&st<=yt[P].until||yt[P].until<=st&&st<=yt[P].since)return(this.year()-t(yt[P].since).year())*Q+yt[P].offset;return this.year()}function sl(P){return o(this,"_erasNameRegex")||M1.call(this),P?this._erasNameRegex:this._erasRegex}function nO(P){return o(this,"_erasAbbrRegex")||M1.call(this),P?this._erasAbbrRegex:this._erasRegex}function oO(P){return o(this,"_erasNarrowRegex")||M1.call(this),P?this._erasNarrowRegex:this._erasRegex}function Db(P,G){return G.erasAbbrRegex(P)}function yR(P,G){return G.erasNameRegex(P)}function _R(P,G){return G.erasNarrowRegex(P)}function wR(P,G){return G._eraYearOrdinalRegex||Fe}function M1(){var P=[],G=[],Q=[],st=[],yt,Ft,de,ri,zi,Hr=this.eras();for(yt=0,Ft=Hr.length;yt<Ft;++yt)de=Yr(Hr[yt].name),ri=Yr(Hr[yt].abbr),zi=Yr(Hr[yt].narrow),G.push(de),P.push(ri),Q.push(zi),st.push(de),st.push(ri),st.push(zi);this._erasRegex=new RegExp("^("+st.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+G.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+P.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+Q.join("|")+")","i")}j(0,["gg",2],0,function(){return this.weekYear()%100}),j(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Fh(P,G){j(0,[P,P.length],0,G)}Fh("gggg","weekYear"),Fh("ggggg","weekYear"),Fh("GGGG","isoWeekYear"),Fh("GGGGG","isoWeekYear"),be("G",le),be("g",le),be("GG",Nt,wt),be("gg",Nt,wt),be("GGGG",re,kt),be("gggg",re,kt),be("GGGGG",Qt,Mt),be("ggggg",Qt,Mt),Lt(["gggg","ggggg","GGGG","GGGGG"],function(P,G,Q,st){G[st.substr(0,2)]=Te(P)}),Lt(["gg","GG"],function(P,G,Q,st){G[st]=t.parseTwoDigitYear(P)});function Ob(P){return SR.call(this,P,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function yg(P){return SR.call(this,P,this.isoWeek(),this.isoWeekday(),1,4)}function A1(){return xs(this.year(),1,4)}function CR(){return xs(this.isoWeekYear(),1,4)}function sO(){var P=this.localeData()._week;return xs(this.year(),P.dow,P.doy)}function xR(){var P=this.localeData()._week;return xs(this.weekYear(),P.dow,P.doy)}function SR(P,G,Q,st,yt){var Ft;return P==null?Dr(this,st,yt).year:(Ft=xs(P,st,yt),G>Ft&&(G=Ft),aO.call(this,P,G,Q,st,yt))}function aO(P,G,Q,st,yt){var Ft=Tr(P,G,Q,st,yt),de=ao(Ft.year,0,Ft.dayOfYear);return this.year(de.getUTCFullYear()),this.month(de.getUTCMonth()),this.date(de.getUTCDate()),this}j("Q",0,"Qo","quarter"),be("Q",St),he("Q",function(P,G){G[mi]=(Te(P)-1)*3});function lO(P){return P==null?Math.ceil((this.month()+1)/3):this.month((P-1)*3+this.month()%3)}j("D",["DD",2],"Do","date"),be("D",Nt,Ni),be("DD",Nt,wt),be("Do",function(P,G){return P?G._dayOfMonthOrdinalParse||G._ordinalParse:G._dayOfMonthOrdinalParseLenient}),he(["D","DD"],Ee),he("Do",function(P,G){G[Ee]=Te(P.match(Nt)[0])});var ER=nn("Date",!0);j("DDD",["DDDD",3],"DDDo","dayOfYear"),be("DDD",Wt),be("DDDD",At),he(["DDD","DDDD"],function(P,G,Q){Q._dayOfYear=Te(P)});function cO(P){var G=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return P==null?G:this.add(P-G,"d")}j("m",["mm",2],0,"minute"),be("m",Nt,ei),be("mm",Nt,wt),he(["m","mm"],Ui);var dO=nn("Minutes",!1);j("s",["ss",2],0,"second"),be("s",Nt,ei),be("ss",Nt,wt),he(["s","ss"],qe);var RR=nn("Seconds",!1);j("S",0,0,function(){return~~(this.millisecond()/100)}),j(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),j(0,["SSS",3],0,"millisecond"),j(0,["SSSS",4],0,function(){return this.millisecond()*10}),j(0,["SSSSS",5],0,function(){return this.millisecond()*100}),j(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),j(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),j(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),j(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),be("S",Wt,St),be("SS",Wt,wt),be("SSS",Wt,At);var Fl,TR;for(Fl="SSSS";Fl.length<=9;Fl+="S")be(Fl,Fe);function uO(P,G){G[Pe]=Te(("0."+P)*1e3)}for(Fl="S";Fl.length<=9;Fl+="S")he(Fl,uO);TR=nn("Milliseconds",!1),j("z",0,0,"zoneAbbr"),j("zz",0,0,"zoneName");function MR(){return this._isUTC?"UTC":""}function D(){return this._isUTC?"Coordinated Universal Time":""}var z=V.prototype;z.add=yu,z.calendar=Ln,z.clone=Fn,z.diff=x1,z.endOf=KD,z.format=Rb,z.from=fR,z.fromNow=Tb,z.to=Mb,z.toNow=S1,z.get=mo,z.invalidAt=tO,z.isAfter=Eo,z.isBefore=$o,z.isBetween=gd,z.isSame=bg,z.isSameOrAfter=im,z.isSameOrBefore=Sb,z.isValid=bR,z.lang=Ab,z.locale=E1,z.localeData=Ib,z.max=dg,z.min=wb,z.parsingFlags=JD,z.set=Dt,z.startOf=GD,z.subtract=kh,z.toArray=vg,z.toObject=ZD,z.toDate=T1,z.toISOString=ol,z.inspect=Eb,typeof Symbol<"u"&&Symbol.for!=null&&(z[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),z.toJSON=QD,z.toString=Fa,z.unix=R1,z.valueOf=XD,z.creationData=eO,z.eraName=bd,z.eraNarrow=rO,z.eraAbbr=vR,z.eraYear=xu,z.year=yr,z.isLeapYear=rn,z.weekYear=Ob,z.isoWeekYear=yg,z.quarter=z.quarters=lO,z.month=zr,z.daysInMonth=So,z.week=z.weeks=tl,z.isoWeek=z.isoWeeks=ld,z.weeksInYear=sO,z.weeksInWeekYear=xR,z.isoWeeksInYear=A1,z.isoWeeksInISOWeekYear=CR,z.date=ER,z.day=z.days=Uf,z.weekday=eg,z.isoWeekday=v1,z.dayOfYear=cO,z.hour=z.hours=bb,z.minute=z.minutes=dO,z.second=z.seconds=RR,z.millisecond=z.milliseconds=TR,z.utcOffset=xb,z.utc=Ih,z.local=ua,z.parseZone=$s,z.hasAlignedHourOffset=gu,z.isDST=fd,z.isLocal=em,z.isUtcOffset=pd,z.isUtc=go,z.isUTC=go,z.zoneAbbr=MR,z.zoneName=D,z.dates=L("dates accessor is deprecated. Use date instead.",ER),z.months=L("months accessor is deprecated. Use month instead",zr),z.years=L("years accessor is deprecated. Use year instead",yr),z.zone=L("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",pu),z.isDSTShifted=L("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",md);function X(P){return Ur(P*1e3)}function rt(){return Ur.apply(null,arguments).parseZone()}function ht(P){return P}var pt=v.prototype;pt.calendar=w,pt.longDateFormat=Z,pt.invalidDate=J,pt.ordinal=Rt,pt.preparse=ht,pt.postformat=ht,pt.relativeTime=at,pt.pastFuture=Ct,pt.set=R,pt.eras=iO,pt.erasParse=Cu,pt.erasConvertYear=Ll,pt.erasAbbrRegex=nO,pt.erasNameRegex=sl,pt.erasNarrowRegex=oO,pt.months=Oi,pt.monthsShort=Li,pt.monthsParse=nr,pt.monthsRegex=Cs,pt.monthsShortRegex=ns,pt.week=Pl,pt.firstDayOfYear=qs,pt.firstDayOfWeek=us,pt.weekdays=su,pt.weekdaysMin=gc,pt.weekdaysShort=au,pt.weekdaysParse=pb,pt.weekdaysRegex=y1,pt.weekdaysShortRegex=_1,pt.weekdaysMinRegex=ig,pt.isPM=Yf,pt.meridiem=vb;function vt(P,G,Q,st){var yt=La(),Ft=h().set(st,G);return yt[Q](Ft,P)}function _t(P,G,Q){if(l(P)&&(G=P,P=void 0),P=P||"",G!=null)return vt(P,G,Q,"month");var st,yt=[];for(st=0;st<12;st++)yt[st]=vt(P,st,Q,"month");return yt}function xt(P,G,Q,st){typeof P=="boolean"?(l(G)&&(Q=G,G=void 0),G=G||""):(G=P,Q=G,P=!1,l(G)&&(Q=G,G=void 0),G=G||"");var yt=La(),Ft=P?yt._week.dow:0,de,ri=[];if(Q!=null)return vt(G,(Q+Ft)%7,st,"day");for(de=0;de<7;de++)ri[de]=vt(G,(de+Ft)%7,st,"day");return ri}function It(P,G){return _t(P,G,"months")}function Bt(P,G){return _t(P,G,"monthsShort")}function Xt(P,G,Q){return xt(P,G,Q,"weekdays")}function Zt(P,G,Q){return xt(P,G,Q,"weekdaysShort")}function Yt(P,G,Q){return xt(P,G,Q,"weekdaysMin")}Na("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(P){var G=P%10,Q=Te(P%100/10)===1?"th":G===1?"st":G===2?"nd":G===3?"rd":"th";return P+Q}}),t.lang=L("moment.lang is deprecated. Use moment.locale instead.",Na),t.langData=L("moment.langData is deprecated. Use moment.localeData instead.",La);var me=Math.abs;function ce(){var P=this._data;return this._milliseconds=me(this._milliseconds),this._days=me(this._days),this._months=me(this._months),P.milliseconds=me(P.milliseconds),P.seconds=me(P.seconds),P.minutes=me(P.minutes),P.hours=me(P.hours),P.months=me(P.months),P.years=me(P.years),this}function jt(P,G,Q,st){var yt=bo(G,Q);return P._milliseconds+=st*yt._milliseconds,P._days+=st*yt._days,P._months+=st*yt._months,P._bubble()}function zt(P,G){return jt(this,P,G,1)}function ge(P,G){return jt(this,P,G,-1)}function Ce(P){return P<0?Math.floor(P):Math.ceil(P)}function ve(){var P=this._milliseconds,G=this._days,Q=this._months,st=this._data,yt,Ft,de,ri,zi;return P>=0&&G>=0&&Q>=0||P<=0&&G<=0&&Q<=0||(P+=Ce(Ve(Q)+G)*864e5,G=0,Q=0),st.milliseconds=P%1e3,yt=Ye(P/1e3),st.seconds=yt%60,Ft=Ye(yt/60),st.minutes=Ft%60,de=Ye(Ft/60),st.hours=de%24,G+=Ye(de/24),zi=Ye(ii(G)),Q+=zi,G-=Ce(Ve(zi)),ri=Ye(Q/12),Q%=12,st.days=G,st.months=Q,st.years=ri,this}function ii(P){return P*4800/146097}function Ve(P){return P*146097/4800}function Fi(P){if(!this.isValid())return NaN;var G,Q,st=this._milliseconds;if(P=it(P),P==="month"||P==="quarter"||P==="year")switch(G=this._days+st/864e5,Q=this._months+ii(G),P){case"month":return Q;case"quarter":return Q/3;case"year":return Q/12}else switch(G=this._days+Math.round(Ve(this._months)),P){case"week":return G/7+st/6048e5;case"day":return G+st/864e5;case"hour":return G*24+st/36e5;case"minute":return G*1440+st/6e4;case"second":return G*86400+st/1e3;case"millisecond":return Math.floor(G*864e5)+st;default:throw new Error("Unknown unit "+P)}}function Be(P){return function(){return this.as(P)}}var Zr=Be("ms"),an=Be("s"),$r=Be("m"),Lr=Be("h"),Mn=Be("d"),hn=Be("w"),lr=Be("M"),No=Be("Q"),ha=Be("y"),Lo=Zr;function fa(){return bo(this)}function ln(P){return P=it(P),this.isValid()?this[P+"s"]():NaN}function Go(P){return function(){return this.isValid()?this._data[P]:NaN}}var Ha=Go("milliseconds"),os=Go("seconds"),ms=Go("minutes"),Ks=Go("hours"),al=Go("days"),yc=Go("months"),ss=Go("years");function vd(){return Ye(this.days()/7)}var Xs=Math.round,Hl={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Su(P,G,Q,st,yt){return yt.relativeTime(G||1,!!Q,P,st)}function vo(P,G,Q,st){var yt=bo(P).abs(),Ft=Xs(yt.as("s")),de=Xs(yt.as("m")),ri=Xs(yt.as("h")),zi=Xs(yt.as("d")),Hr=Xs(yt.as("M")),Zs=Xs(yt.as("w")),Bl=Xs(yt.as("y")),Qs=Ft<=Q.ss&&["s",Ft]||Ft<Q.s&&["ss",Ft]||de<=1&&["m"]||de<Q.m&&["mm",de]||ri<=1&&["h"]||ri<Q.h&&["hh",ri]||zi<=1&&["d"]||zi<Q.d&&["dd",zi];return Q.w!=null&&(Qs=Qs||Zs<=1&&["w"]||Zs<Q.w&&["ww",Zs]),Qs=Qs||Hr<=1&&["M"]||Hr<Q.M&&["MM",Hr]||Bl<=1&&["y"]||["yy",Bl],Qs[2]=G,Qs[3]=+P>0,Qs[4]=st,Su.apply(null,Qs)}function I1(P){return P===void 0?Xs:typeof P=="function"?(Xs=P,!0):!1}function AR(P,G){return Hl[P]===void 0?!1:G===void 0?Hl[P]:(Hl[P]=G,P==="s"&&(Hl.ss=G-1),!0)}function IR(P,G){if(!this.isValid())return this.localeData().invalidDate();var Q=!1,st=Hl,yt,Ft;return typeof P=="object"&&(G=P,P=!1),typeof P=="boolean"&&(Q=P),typeof G=="object"&&(st=Object.assign({},Hl,G),G.s!=null&&G.ss==null&&(st.ss=G.s-1)),yt=this.localeData(),Ft=vo(this,!Q,st,yt),Q&&(Ft=yt.pastFuture(+this,Ft)),yt.postformat(Ft)}var rm=Math.abs;function _c(P){return(P>0)-(P<0)||+P}function Hh(){if(!this.isValid())return this.localeData().invalidDate();var P=rm(this._milliseconds)/1e3,G=rm(this._days),Q=rm(this._months),st,yt,Ft,de,ri=this.asSeconds(),zi,Hr,Zs,Bl;return ri?(st=Ye(P/60),yt=Ye(st/60),P%=60,st%=60,Ft=Ye(Q/12),Q%=12,de=P?P.toFixed(3).replace(/\.?0+$/,""):"",zi=ri<0?"-":"",Hr=_c(this._months)!==_c(ri)?"-":"",Zs=_c(this._days)!==_c(ri)?"-":"",Bl=_c(this._milliseconds)!==_c(ri)?"-":"",zi+"P"+(Ft?Hr+Ft+"Y":"")+(Q?Hr+Q+"M":"")+(G?Zs+G+"D":"")+(yt||st||P?"T":"")+(yt?Bl+yt+"H":"")+(st?Bl+st+"M":"")+(P?Bl+de+"S":"")):"P0D"}var tr=hd.prototype;tr.isValid=Zf,tr.abs=ce,tr.add=zt,tr.subtract=ge,tr.as=Fi,tr.asMilliseconds=Zr,tr.asSeconds=an,tr.asMinutes=$r,tr.asHours=Lr,tr.asDays=Mn,tr.asWeeks=hn,tr.asMonths=lr,tr.asQuarters=No,tr.asYears=ha,tr.valueOf=Lo,tr._bubble=ve,tr.clone=fa,tr.get=ln,tr.milliseconds=Ha,tr.seconds=os,tr.minutes=ms,tr.hours=Ks,tr.days=al,tr.weeks=vd,tr.months=yc,tr.years=ss,tr.humanize=IR,tr.toISOString=Hh,tr.toString=Hh,tr.toJSON=Hh,tr.locale=E1,tr.localeData=Ib,tr.toIsoString=L("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Hh),tr.lang=Ab,j("X",0,0,"unix"),j("x",0,0,"valueOf"),be("x",le),be("X",Ae),he("X",function(P,G,Q){Q._d=new Date(parseFloat(P)*1e3)}),he("x",function(P,G,Q){Q._d=new Date(Te(P))});return t.version="2.30.1",r(Ur),t.fn=z,t.min=Xf,t.max=ug,t.now=hg,t.utc=h,t.unix=X,t.months=It,t.isDate=c,t.locale=Na,t.invalid=b,t.duration=bo,t.isMoment=H,t.weekdays=Xt,t.parseZone=rt,t.localeData=La,t.isDuration=fu,t.monthsShort=Bt,t.weekdaysMin=Yt,t.defineLocale=og,t.updateLocale=sg,t.locales=yb,t.weekdaysShort=Zt,t.normalizeUnits=it,t.relativeTimeRounding=I1,t.relativeTimeThreshold=AR,t.calendarFormat=nl,t.prototype=z,t.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},t})});var o$=Ci((cWt,n$)=>{"use strict";var p_t=kB().f;n$.exports=function(e,t,r){r in e||p_t(e,r,{configurable:!0,get:function(){return t[r]},set:function(i){t[r]=i}})}});var l$=Ci((dWt,a$)=>{"use strict";var g_t=$1(),b_t=AB(),s$=OB();a$.exports=function(e,t,r){var i,n;return s$&&g_t(i=t.constructor)&&i!==r&&b_t(n=i.prototype)&&n!==r.prototype&&s$(e,n),e}});var d$=Ci((uWt,c$)=>{"use strict";var v_t=UO();c$.exports=function(e,t){return e===void 0?arguments.length<2?"":t:v_t(e)}});var h$=Ci((hWt,u$)=>{"use strict";var y_t=AB(),__t=jO();u$.exports=function(e,t){y_t(t)&&"cause"in t&&__t(e,"cause",t.cause)}});var g$=Ci((fWt,p$)=>{"use strict";var w_t=Wb(),f$=Error,C_t=w_t("".replace),x_t=function(e){return String(new f$(e).stack)}("zxcasd"),m$=/\n\s*at [^:]*:[^\n]*/,S_t=m$.test(x_t);p$.exports=function(e,t){if(S_t&&typeof e=="string"&&!f$.prepareStackTrace)for(;t--;)e=C_t(e,m$,"");return e}});var v$=Ci((mWt,b$)=>{"use strict";var E_t=JR(),R_t=MB();b$.exports=!E_t(function(){var e=new Error("a");return"stack"in e?(Object.defineProperty(e,"stack",R_t(1,7)),e.stack!==7):!0})});var w$=Ci((pWt,_$)=>{"use strict";var T_t=jO(),M_t=g$(),A_t=v$(),y$=Error.captureStackTrace;_$.exports=function(e,t,r,i){A_t&&(y$?y$(e,t):T_t(e,"stack",M_t(r,i)))}});var A$=Ci((gWt,M$)=>{"use strict";var C$=HO(),I_t=Xst(),x$=jO(),k_t=Ust(),S$=OB(),E$=Jst(),R$=o$(),D_t=l$(),O_t=d$(),P_t=h$(),N_t=w$(),L_t=FO(),T$=IB();M$.exports=function(e,t,r,i){var n="stackTraceLimit",o=i?2:1,s=e.split("."),a=s[s.length-1],l=C$.apply(null,s);if(l){var c=l.prototype;if(!T$&&I_t(c,"cause")&&delete c.cause,!r)return l;var d=C$("Error"),u=t(function(h,f){var m=O_t(i?f:h,void 0),g=i?new l(h):new l;return m!==void 0&&x$(g,"message",m),N_t(g,u,g.stack,2),this&&k_t(c,this)&&D_t(g,this,u),arguments.length>o&&P_t(g,arguments[o]),g});if(u.prototype=c,a!=="Error"?S$?S$(u,d):E$(u,d,{name:!0}):L_t&&n in l&&(R$(u,l,n),R$(u,l,"prepareStackTrace")),E$(u,l),!T$)try{c.name!==a&&x$(c,"name",a),c.constructor=u}catch{}return u}}});var Gt=Ci(()=>{"use strict";var k$=ga(),F_t=QR(),Vu=zO(),D$=A$(),mN="WebAssembly",I$=F_t[mN],tM=new Error("e",{cause:7}).cause!==7,Zg=function(e,t){var r={};r[e]=D$(e,t,tM),k$({global:!0,constructor:!0,arity:1,forced:tM},r)},pN=function(e,t){if(I$&&I$[e]){var r={};r[e]=D$(mN+"."+e,t,tM),k$({target:mN,stat:!0,constructor:!0,arity:1,forced:tM},r)}};Zg("Error",function(e){return function(r){return Vu(e,this,arguments)}});Zg("EvalError",function(e){return function(r){return Vu(e,this,arguments)}});Zg("RangeError",function(e){return function(r){return Vu(e,this,arguments)}});Zg("ReferenceError",function(e){return function(r){return Vu(e,this,arguments)}});Zg("SyntaxError",function(e){return function(r){return Vu(e,this,arguments)}});Zg("TypeError",function(e){return function(r){return Vu(e,this,arguments)}});Zg("URIError",function(e){return function(r){return Vu(e,this,arguments)}});pN("CompileError",function(e){return function(r){return Vu(e,this,arguments)}});pN("LinkError",function(e){return function(r){return Vu(e,this,arguments)}});pN("RuntimeError",function(e){return function(r){return Vu(e,this,arguments)}})});var gN=Ci((yWt,O$)=>{"use strict";var H_t=FO(),B_t=PB(),j_t=TypeError,V_t=Object.getOwnPropertyDescriptor,z_t=H_t&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();O$.exports=z_t?function(e,t){if(B_t(e)&&!V_t(e,"length").writable)throw new j_t("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}});var bN=Ci((_Wt,P$)=>{"use strict";var U_t=TypeError,W_t=9007199254740991;P$.exports=function(e){if(e>W_t)throw U_t("Maximum allowed index exceeded");return e}});var we=Ci(()=>{"use strict";var Y_t=ga(),q_t=BO(),$_t=VO(),G_t=gN(),K_t=bN(),X_t=JR(),Z_t=X_t(function(){return[].push.call({length:4294967296},1)!==4294967297}),Q_t=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},J_t=Z_t||!Q_t();Y_t({target:"Array",proto:!0,arity:1,forced:J_t},{push:function(t){var r=q_t(this),i=$_t(r),n=arguments.length;K_t(i+n);for(var o=0;o<n;o++)r[i]=arguments[o],i++;return G_t(r,i),i}})});var Td=Ci((xWt,N$)=>{"use strict";var vN=Wb(),eM=Set.prototype;N$.exports={Set,add:vN(eM.add),has:vN(eM.has),remove:vN(eM.delete),proto:eM}});var Um=Ci((SWt,L$)=>{"use strict";var t1t=Td().has;L$.exports=function(e){return t1t(e),e}});var Wm=Ci((EWt,F$)=>{"use strict";var e1t=tT();F$.exports=function(e,t,r){for(var i=r?e:e.iterator,n=e.next,o,s;!(o=e1t(n,i)).done;)if(s=t(o.value),s!==void 0)return s}});var Gv=Ci((RWt,z$)=>{"use strict";var H$=Wb(),i1t=Wm(),B$=Td(),r1t=B$.Set,j$=B$.proto,n1t=H$(j$.forEach),V$=H$(j$.keys),o1t=V$(new r1t).next;z$.exports=function(e,t,r){return r?i1t({iterator:V$(e),next:o1t},t):n1t(e,t)}});var iM=Ci((TWt,W$)=>{"use strict";var U$=Td(),s1t=Gv(),a1t=U$.Set,l1t=U$.add;W$.exports=function(e){var t=new a1t;return s1t(e,function(r){l1t(t,r)}),t}});var Kv=Ci((MWt,Y$)=>{"use strict";var c1t=tat(),d1t=Td();Y$.exports=c1t(d1t.proto,"size","get")||function(e){return e.size}});var $$=Ci((AWt,q$)=>{"use strict";q$.exports=function(e){return{iterator:e,next:e.next,done:!1}}});var Ym=Ci((IWt,J$)=>{"use strict";var G$=Gst(),Z$=Qst(),K$=tT(),u1t=DB(),h1t=$$(),X$="Invalid size",f1t=RangeError,m1t=TypeError,p1t=Math.max,Q$=function(e,t){this.set=e,this.size=p1t(t,0),this.has=G$(e.has),this.keys=G$(e.keys)};Q$.prototype={getIterator:function(){return h1t(Z$(K$(this.keys,this.set)))},includes:function(e){return K$(this.has,this.set,e)}};J$.exports=function(e){Z$(e);var t=+e.size;if(t!==t)throw new m1t(X$);var r=u1t(t);if(r<0)throw new f1t(X$);return new Q$(e,r)}});var rG=Ci((kWt,iG)=>{"use strict";var g1t=Um(),eG=Td(),b1t=iM(),v1t=Kv(),y1t=Ym(),_1t=Gv(),w1t=Wm(),C1t=eG.has,tG=eG.remove;iG.exports=function(t){var r=g1t(this),i=y1t(t),n=b1t(r);return v1t(r)<=i.size?_1t(r,function(o){i.includes(o)&&tG(n,o)}):w1t(i.getIterator(),function(o){C1t(r,o)&&tG(n,o)}),n}});var qm=Ci((DWt,oG)=>{"use strict";var x1t=HO(),nG=function(e){return{size:e,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}};oG.exports=function(e){var t=x1t("Set");try{new t()[e](nG(0));try{return new t()[e](nG(-1)),!1}catch{return!0}}catch{return!1}}});var sG=Ci(()=>{"use strict";var S1t=ga(),E1t=rG(),R1t=qm();S1t({target:"Set",proto:!0,real:!0,forced:!R1t("difference")},{difference:E1t})});var yn=Ci(()=>{"use strict";sG()});var cG=Ci((FWt,lG)=>{"use strict";var T1t=Um(),yN=Td(),M1t=Kv(),A1t=Ym(),I1t=Gv(),k1t=Wm(),D1t=yN.Set,aG=yN.add,O1t=yN.has;lG.exports=function(t){var r=T1t(this),i=A1t(t),n=new D1t;return M1t(r)>i.size?k1t(i.getIterator(),function(o){O1t(r,o)&&aG(n,o)}):I1t(r,function(o){i.includes(o)&&aG(n,o)}),n}});var dG=Ci(()=>{"use strict";var P1t=ga(),N1t=JR(),L1t=cG(),F1t=qm(),H1t=!F1t("intersection")||N1t(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});P1t({target:"Set",proto:!0,real:!0,forced:H1t},{intersection:L1t})});var _n=Ci(()=>{"use strict";dG()});var hG=Ci((zWt,uG)=>{"use strict";var B1t=Um(),j1t=Td().has,V1t=Kv(),z1t=Ym(),U1t=Gv(),W1t=Wm(),Y1t=NB();uG.exports=function(t){var r=B1t(this),i=z1t(t);if(V1t(r)<=i.size)return U1t(r,function(o){if(i.includes(o))return!1},!0)!==!1;var n=i.getIterator();return W1t(n,function(o){if(j1t(r,o))return Y1t(n,"normal",!1)})!==!1}});var fG=Ci(()=>{"use strict";var q1t=ga(),$1t=hG(),G1t=qm();q1t({target:"Set",proto:!0,real:!0,forced:!G1t("isDisjointFrom")},{isDisjointFrom:$1t})});var wn=Ci(()=>{"use strict";fG()});var pG=Ci(($Wt,mG)=>{"use strict";var K1t=Um(),X1t=Kv(),Z1t=Gv(),Q1t=Ym();mG.exports=function(t){var r=K1t(this),i=Q1t(t);return X1t(r)>i.size?!1:Z1t(r,function(n){if(!i.includes(n))return!1},!0)!==!1}});var gG=Ci(()=>{"use strict";var J1t=ga(),twt=pG(),ewt=qm();J1t({target:"Set",proto:!0,real:!0,forced:!ewt("isSubsetOf")},{isSubsetOf:twt})});var Cn=Ci(()=>{"use strict";gG()});var vG=Ci((QWt,bG)=>{"use strict";var iwt=Um(),rwt=Td().has,nwt=Kv(),owt=Ym(),swt=Wm(),awt=NB();bG.exports=function(t){var r=iwt(this),i=owt(t);if(nwt(r)<i.size)return!1;var n=i.getIterator();return swt(n,function(o){if(!rwt(r,o))return awt(n,"normal",!1)})!==!1}});var yG=Ci(()=>{"use strict";var lwt=ga(),cwt=vG(),dwt=qm();lwt({target:"Set",proto:!0,real:!0,forced:!dwt("isSupersetOf")},{isSupersetOf:cwt})});var xn=Ci(()=>{"use strict";yG()});var wG=Ci((rYt,_G)=>{"use strict";var uwt=Um(),_N=Td(),hwt=iM(),fwt=Ym(),mwt=Wm(),pwt=_N.add,gwt=_N.has,bwt=_N.remove;_G.exports=function(t){var r=uwt(this),i=fwt(t).getIterator(),n=hwt(r);return mwt(i,function(o){gwt(r,o)?bwt(n,o):pwt(n,o)}),n}});var CG=Ci(()=>{"use strict";var vwt=ga(),ywt=wG(),_wt=qm();vwt({target:"Set",proto:!0,real:!0,forced:!_wt("symmetricDifference")},{symmetricDifference:ywt})});var Sn=Ci(()=>{"use strict";CG()});var SG=Ci((lYt,xG)=>{"use strict";var wwt=Um(),Cwt=Td().add,xwt=iM(),Swt=Ym(),Ewt=Wm();xG.exports=function(t){var r=wwt(this),i=Swt(t).getIterator(),n=xwt(r);return Ewt(i,function(o){Cwt(n,o)}),n}});var EG=Ci(()=>{"use strict";var Rwt=ga(),Twt=SG(),Mwt=qm();Rwt({target:"Set",proto:!0,real:!0,forced:!Mwt("union")},{union:Twt})});var En=Ci(()=>{"use strict";EG()});var TG=Ci(()=>{"use strict";var Awt=ga(),Iwt=QR(),RG=FB().clear;Awt({global:!0,bind:!0,enumerable:!0,forced:Iwt.clearImmediate!==RG},{clearImmediate:RG})});var AG=Ci((pYt,MG)=>{"use strict";MG.exports=typeof Bun=="function"&&Bun&&typeof Bun.version=="string"});var DG=Ci((gYt,kG)=>{"use strict";var IG=QR(),kwt=zO(),Dwt=$1(),Owt=AG(),Pwt=Wst(),Nwt=LB(),Lwt=eat(),Fwt=IG.Function,Hwt=/MSIE .\./.test(Pwt)||Owt&&function(){var e=IG.Bun.version.split(".");return e.length<3||e[0]==="0"&&(e[1]<3||e[1]==="3"&&e[2]==="0")}();kG.exports=function(e,t){var r=t?2:1;return Hwt?function(i,n){var o=Lwt(arguments.length,1)>r,s=Dwt(i)?i:Fwt(i),a=o?Nwt(arguments,r):[],l=o?function(){kwt(s,this,a)}:s;return t?e(l,n):e(l)}:e}});var LG=Ci(()=>{"use strict";var Bwt=ga(),NG=QR(),OG=FB().set,jwt=DG(),PG=NG.setImmediate?jwt(OG,!1):OG;Bwt({global:!0,bind:!0,enumerable:!0,forced:NG.setImmediate!==PG},{setImmediate:PG})});var FG=Ci(()=>{"use strict";TG();LG()});var DK=Ci((WYt,kK)=>{"use strict";var $wt=Wb(),MK=PB(),Gwt=$1(),AK=jst(),Kwt=UO(),IK=$wt([].push);kK.exports=function(e){if(Gwt(e))return e;if(MK(e)){for(var t=e.length,r=[],i=0;i<t;i++){var n=e[i];typeof n=="string"?IK(r,n):(typeof n=="number"||AK(n)==="Number"||AK(n)==="String")&&IK(r,Kwt(n))}var o=r.length,s=!0;return function(a,l){if(s)return s=!1,l;if(MK(this))return l;for(var c=0;c<o;c++)if(r[c]===a)return l}}}});var _M=Ci(()=>{"use strict";var Xwt=ga(),jK=HO(),VK=zO(),Zwt=tT(),AC=Wb(),zK=JR(),OK=$1(),PK=qst(),UK=LB(),Qwt=DK(),Jwt=Yst(),tCt=String,Zm=jK("JSON","stringify"),yM=AC(/./.exec),NK=AC("".charAt),eCt=AC("".charCodeAt),iCt=AC("".replace),rCt=AC(1 .toString),nCt=/[\uD800-\uDFFF]/g,LK=/^[\uD800-\uDBFF]$/,FK=/^[\uDC00-\uDFFF]$/,HK=!Jwt||zK(function(){var e=jK("Symbol")("stringify detection");return Zm([e])!=="[null]"||Zm({a:e})!=="{}"||Zm(Object(e))!=="{}"}),BK=zK(function(){return Zm("\uDF06\uD834")!=='"\\udf06\\ud834"'||Zm("\uDEAD")!=='"\\udead"'}),oCt=function(e,t){var r=UK(arguments),i=Qwt(t);if(!(!OK(i)&&(e===void 0||PK(e))))return r[1]=function(n,o){if(OK(i)&&(o=Zwt(i,this,tCt(n),o)),!PK(o))return o},VK(Zm,null,r)},sCt=function(e,t,r){var i=NK(r,t-1),n=NK(r,t+1);return yM(LK,e)&&!yM(FK,n)||yM(FK,e)&&!yM(LK,i)?"\\u"+rCt(eCt(e,0),16):e};Zm&&Xwt({target:"JSON",stat:!0,arity:3,forced:HK||BK},{stringify:function(t,r,i){var n=UK(arguments),o=VK(HK?oCt:Zm,null,n);return BK&&typeof o=="string"?iCt(o,nCt,sCt):o}})});var FN=Ci(()=>{"use strict";var dCt=WO();dCt("flatMap")});var aX=Ci(()=>{"use strict";var DCt=ga(),OCt=tT(),KN=Wb(),oX=zst(),PCt=$1(),NCt=Vst(),LCt=rat(),py=UO(),FCt=Kst(),HCt=nat(),BCt=oat(),jCt=Zst(),VCt=IB(),zCt=jCt("replace"),UCt=TypeError,GN=KN("".indexOf),WCt=KN("".replace),sX=KN("".slice),YCt=Math.max;DCt({target:"String",proto:!0},{replaceAll:function(t,r){var i=oX(this),n,o,s,a,l,c,d,u,h,f=0,m=0,g="";if(!NCt(t)){if(n=LCt(t),n&&(o=py(oX(HCt(t))),!~GN(o,"g")))throw new UCt("`.replaceAll` does not allow non-global regexes");if(s=FCt(t,zCt),s)return OCt(s,t,i,r);if(VCt&&n)return WCt(py(i),t,r)}for(a=py(i),l=py(t),c=PCt(r),c||(r=py(r)),d=l.length,u=YCt(1,d),f=GN(a,l);f!==-1;)h=c?py(r(l,f,a)):BCt(l,a,f,[],void 0,r),g+=sX(a,m,f)+h,m=f+d,f=f+u>a.length?-1:GN(a,l,f+u);return m<a.length&&(g+=sX(a,m)),g}})});var n6=Ci(()=>{"use strict";var uxt=ga(),hxt=BO(),fxt=VO(),mxt=DB(),pxt=WO();uxt({target:"Array",proto:!0},{at:function(t){var r=hxt(this),i=fxt(r),n=mxt(t),o=n>=0?n:i+n;return o<0||o>=i?void 0:r[o]}});pxt("at")});var w6=Ci(()=>{"use strict";var N2t=WO();N2t("flat")});var YJ=Ci((WJ,UL)=>{"use strict";(function(e){typeof WJ=="object"&&typeof UL<"u"?UL.exports=e():typeof define=="function"&&define.amd?define([],e):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).numbro=e()})(function(){return function e(t,r,i){function n(a,l){if(!r[a]){if(!t[a]){var c=typeof ll=="function"&&ll;if(!l&&c)return c(a,!0);if(o)return o(a,!0);var d=new Error("Cannot find module '"+a+"'");throw d.code="MODULE_NOT_FOUND",d}var u=r[a]={exports:{}};t[a][0].call(u.exports,function(h){return n(t[a][1][h]||h)},u,u.exports,e,t,r,i)}return r[a].exports}for(var o=typeof ll=="function"&&ll,s=0;s<i.length;s++)n(i[s]);return n}({1:[function(e,t,r){(function(i){"use strict";var n,o=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,s=Math.ceil,a=Math.floor,l="[BigNumber Error] ",c=l+"Number primitive has more than 15 significant digits: ",d=1e14,u=14,h=9007199254740991,f=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],m=1e7,g=1e9;function p(F){var L=0|F;return 0<F||F===L?L:L-1}function b(F){for(var L,$,W=1,x=F.length,R=F[0]+"";W<x;){for(L=F[W++]+"",$=u-L.length;$--;L="0"+L);R+=L}for(x=R.length;R.charCodeAt(--x)===48;);return R.slice(0,x+1||1)}function _(F,L){var $,W,x=F.c,R=L.c,B=F.s,v=L.s,y=F.e,C=L.e;if(!B||!v)return null;if($=x&&!x[0],W=R&&!R[0],$||W)return $?W?0:-v:B;if(B!=v)return B;if($=B<0,W=y==C,!x||!R)return W?0:!x^$?1:-1;if(!W)return C<y^$?1:-1;for(v=(y=x.length)<(C=R.length)?y:C,B=0;B<v;B++)if(x[B]!=R[B])return x[B]>R[B]^$?1:-1;return y==C?0:C<y^$?1:-1}function E(F,L,$,W){if(F<L||$<F||F!==(F<0?s(F):a(F)))throw Error(l+(W||"Argument")+(typeof F=="number"?F<L||$<F?" out of range: ":" not an integer: ":" not a primitive number: ")+String(F))}function O(F){var L=F.c.length-1;return p(F.e/u)==L&&F.c[L]%2!=0}function V(F,L){return(1<F.length?F.charAt(0)+"."+F.slice(1):F)+(L<0?"e":"e+")+L}function H(F,L,$){var W,x;if(L<0){for(x=$+".";++L;x+=$);F=x+F}else if(++L>(W=F.length)){for(x=$,L-=W;--L;x+=$);F+=x}else L<W&&(F=F.slice(0,L)+"."+F.slice(L));return F}(n=function F(L){var $,W,x,R,B,v,y,C,w,S,M=et.prototype={constructor:et,toString:null,valueOf:null},U=new et(1),N=20,T=4,j=-7,I=21,q=-1e7,A=1e7,k=!1,Y=1,Z=0,lt={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},J="0123456789abcdefghijklmnopqrstuvwxyz";function et(tt,it){var ct,mt,bt,St,wt,At,kt,Mt,Nt=this;if(!(Nt instanceof et))return new et(tt,it);if(it==null){if(tt instanceof et)return Nt.s=tt.s,Nt.e=tt.e,void(Nt.c=(tt=tt.c)?tt.slice():tt);if((At=typeof tt=="number")&&0*tt==0){if(Nt.s=1/tt<0?(tt=-tt,-1):1,tt===~~tt){for(St=0,wt=tt;10<=wt;wt/=10,St++);return Nt.e=St,void(Nt.c=[tt])}Mt=String(tt)}else{if(Mt=String(tt),!o.test(Mt))return x(Nt,Mt,At);Nt.s=Mt.charCodeAt(0)==45?(Mt=Mt.slice(1),-1):1}-1<(St=Mt.indexOf("."))&&(Mt=Mt.replace(".","")),0<(wt=Mt.search(/e/i))?(St<0&&(St=wt),St+=+Mt.slice(wt+1),Mt=Mt.substring(0,wt)):St<0&&(St=Mt.length)}else{if(E(it,2,J.length,"Base"),Mt=String(tt),it==10)return at(Nt=new et(tt instanceof et?tt:Mt),N+Nt.e+1,T);if(At=typeof tt=="number"){if(0*tt!=0)return x(Nt,Mt,At,it);if(Nt.s=1/tt<0?(Mt=Mt.slice(1),-1):1,et.DEBUG&&15<Mt.replace(/^0\.0*|\./,"").length)throw Error(c+tt);At=!1}else Nt.s=Mt.charCodeAt(0)===45?(Mt=Mt.slice(1),-1):1;for(ct=J.slice(0,it),St=wt=0,kt=Mt.length;wt<kt;wt++)if(ct.indexOf(mt=Mt.charAt(wt))<0){if(mt=="."){if(St<wt){St=kt;continue}}else if(!bt&&(Mt==Mt.toUpperCase()&&(Mt=Mt.toLowerCase())||Mt==Mt.toLowerCase()&&(Mt=Mt.toUpperCase()))){bt=!0,wt=-1,St=0;continue}return x(Nt,String(tt),At,it)}-1<(St=(Mt=W(Mt,it,10,Nt.s)).indexOf("."))?Mt=Mt.replace(".",""):St=Mt.length}for(wt=0;Mt.charCodeAt(wt)===48;wt++);for(kt=Mt.length;Mt.charCodeAt(--kt)===48;);if(Mt=Mt.slice(wt,++kt)){if(kt-=wt,At&&et.DEBUG&&15<kt&&(h<tt||tt!==a(tt)))throw Error(c+Nt.s*tt);if(A<(St=St-wt-1))Nt.c=Nt.e=null;else if(St<q)Nt.c=[Nt.e=0];else{if(Nt.e=St,Nt.c=[],wt=(St+1)%u,St<0&&(wt+=u),wt<kt){for(wt&&Nt.c.push(+Mt.slice(0,wt)),kt-=u;wt<kt;)Nt.c.push(+Mt.slice(wt,wt+=u));Mt=Mt.slice(wt),wt=u-Mt.length}else wt-=kt;for(;wt--;Mt+="0");Nt.c.push(+Mt)}}else Nt.c=[Nt.e=0]}function Et(tt,it,ct,mt){var bt,St,wt,At,kt;if(ct==null?ct=T:E(ct,0,8),!tt.c)return tt.toString();if(bt=tt.c[0],wt=tt.e,it==null)kt=b(tt.c),kt=mt==1||mt==2&&(wt<=j||I<=wt)?V(kt,wt):H(kt,wt,"0");else if(St=(tt=at(new et(tt),it,ct)).e,At=(kt=b(tt.c)).length,mt==1||mt==2&&(it<=St||St<=j)){for(;At<it;kt+="0",At++);kt=V(kt,St)}else if(it-=wt,kt=H(kt,St,"0"),At<St+1){if(0<--it)for(kt+=".";it--;kt+="0");}else if(0<(it+=St-At))for(St+1==At&&(kt+=".");it--;kt+="0");return tt.s<0&&bt?"-"+kt:kt}function Rt(tt,it){for(var ct,mt=1,bt=new et(tt[0]);mt<tt.length;mt++){if(!(ct=new et(tt[mt])).s){bt=ct;break}it.call(bt,ct)&&(bt=ct)}return bt}function nt(tt,it,ct){for(var mt=1,bt=it.length;!it[--bt];it.pop());for(bt=it[0];10<=bt;bt/=10,mt++);return(ct=mt+ct*u-1)>A?tt.c=tt.e=null:tt.c=ct<q?[tt.e=0]:(tt.e=ct,it),tt}function at(tt,it,ct,mt){var bt,St,wt,At,kt,Mt,Nt,Ut=tt.c,qt=f;if(Ut){t:{for(bt=1,At=Ut[0];10<=At;At/=10,bt++);if((St=it-bt)<0)St+=u,wt=it,Nt=(kt=Ut[Mt=0])/qt[bt-wt-1]%10|0;else if((Mt=s((St+1)/u))>=Ut.length){if(!mt)break t;for(;Ut.length<=Mt;Ut.push(0));kt=Nt=0,wt=(St%=u)-u+(bt=1)}else{for(kt=At=Ut[Mt],bt=1;10<=At;At/=10,bt++);Nt=(wt=(St%=u)-u+bt)<0?0:kt/qt[bt-wt-1]%10|0}if(mt=mt||it<0||Ut[Mt+1]!=null||(wt<0?kt:kt%qt[bt-wt-1]),mt=ct<4?(Nt||mt)&&(ct==0||ct==(tt.s<0?3:2)):5<Nt||Nt==5&&(ct==4||mt||ct==6&&(0<St?0<wt?kt/qt[bt-wt]:0:Ut[Mt-1])%10&1||ct==(tt.s<0?8:7)),it<1||!Ut[0])return Ut.length=0,mt?(it-=tt.e+1,Ut[0]=qt[(u-it%u)%u],tt.e=-it||0):Ut[0]=tt.e=0,tt;if(St==0?(Ut.length=Mt,At=1,Mt--):(Ut.length=Mt+1,At=qt[u-St],Ut[Mt]=0<wt?a(kt/qt[bt-wt]%qt[wt])*At:0),mt)for(;;){if(Mt==0){for(St=1,wt=Ut[0];10<=wt;wt/=10,St++);for(wt=Ut[0]+=At,At=1;10<=wt;wt/=10,At++);St!=At&&(tt.e++,Ut[0]==d&&(Ut[0]=1));break}if(Ut[Mt]+=At,Ut[Mt]!=d)break;Ut[Mt--]=0,At=1}for(St=Ut.length;Ut[--St]===0;Ut.pop());}tt.e>A?tt.c=tt.e=null:tt.e<q&&(tt.c=[tt.e=0])}return tt}function Ct(tt){var it,ct=tt.e;return ct===null?tt.toString():(it=b(tt.c),it=ct<=j||I<=ct?V(it,ct):H(it,ct,"0"),tt.s<0?"-"+it:it)}return et.clone=F,et.ROUND_UP=0,et.ROUND_DOWN=1,et.ROUND_CEIL=2,et.ROUND_FLOOR=3,et.ROUND_HALF_UP=4,et.ROUND_HALF_DOWN=5,et.ROUND_HALF_EVEN=6,et.ROUND_HALF_CEIL=7,et.ROUND_HALF_FLOOR=8,et.EUCLID=9,et.config=et.set=function(tt){var it,ct;if(tt!=null){if(typeof tt!="object")throw Error(l+"Object expected: "+tt);if(tt.hasOwnProperty(it="DECIMAL_PLACES")&&(E(ct=tt[it],0,g,it),N=ct),tt.hasOwnProperty(it="ROUNDING_MODE")&&(E(ct=tt[it],0,8,it),T=ct),tt.hasOwnProperty(it="EXPONENTIAL_AT")&&((ct=tt[it])&&ct.pop?(E(ct[0],-g,0,it),E(ct[1],0,g,it),j=ct[0],I=ct[1]):(E(ct,-g,g,it),j=-(I=ct<0?-ct:ct))),tt.hasOwnProperty(it="RANGE"))if((ct=tt[it])&&ct.pop)E(ct[0],-g,-1,it),E(ct[1],1,g,it),q=ct[0],A=ct[1];else{if(E(ct,-g,g,it),!ct)throw Error(l+it+" cannot be zero: "+ct);q=-(A=ct<0?-ct:ct)}if(tt.hasOwnProperty(it="CRYPTO")){if((ct=tt[it])!==!!ct)throw Error(l+it+" not true or false: "+ct);if(ct){if(typeof crypto>"u"||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw k=!ct,Error(l+"crypto unavailable");k=ct}else k=ct}if(tt.hasOwnProperty(it="MODULO_MODE")&&(E(ct=tt[it],0,9,it),Y=ct),tt.hasOwnProperty(it="POW_PRECISION")&&(E(ct=tt[it],0,g,it),Z=ct),tt.hasOwnProperty(it="FORMAT")){if(typeof(ct=tt[it])!="object")throw Error(l+it+" not an object: "+ct);lt=ct}if(tt.hasOwnProperty(it="ALPHABET")){if(typeof(ct=tt[it])!="string"||/^.$|[+-.\s]|(.).*\1/.test(ct))throw Error(l+it+" invalid: "+ct);J=ct}}return{DECIMAL_PLACES:N,ROUNDING_MODE:T,EXPONENTIAL_AT:[j,I],RANGE:[q,A],CRYPTO:k,MODULO_MODE:Y,POW_PRECISION:Z,FORMAT:lt,ALPHABET:J}},et.isBigNumber=function(tt){return tt instanceof et||tt&&tt._isBigNumber===!0||!1},et.maximum=et.max=function(){return Rt(arguments,M.lt)},et.minimum=et.min=function(){return Rt(arguments,M.gt)},et.random=(R=9007199254740992,B=Math.random()*R&2097151?function(){return a(Math.random()*R)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(tt){var it,ct,mt,bt,St,wt=0,At=[],kt=new et(U);if(tt==null?tt=N:E(tt,0,g),bt=s(tt/u),k)if(crypto.getRandomValues){for(it=crypto.getRandomValues(new Uint32Array(bt*=2));wt<bt;)9e15<=(St=131072*it[wt]+(it[wt+1]>>>11))?(ct=crypto.getRandomValues(new Uint32Array(2)),it[wt]=ct[0],it[wt+1]=ct[1]):(At.push(St%1e14),wt+=2);wt=bt/2}else{if(!crypto.randomBytes)throw k=!1,Error(l+"crypto unavailable");for(it=crypto.randomBytes(bt*=7);wt<bt;)9e15<=(St=281474976710656*(31&it[wt])+1099511627776*it[wt+1]+4294967296*it[wt+2]+16777216*it[wt+3]+(it[wt+4]<<16)+(it[wt+5]<<8)+it[wt+6])?crypto.randomBytes(7).copy(it,wt):(At.push(St%1e14),wt+=7);wt=bt/7}if(!k)for(;wt<bt;)(St=B())<9e15&&(At[wt++]=St%1e14);for(bt=At[--wt],tt%=u,bt&&tt&&(St=f[u-tt],At[wt]=a(bt/St)*St);At[wt]===0;At.pop(),wt--);if(wt<0)At=[mt=0];else{for(mt=-1;At[0]===0;At.splice(0,1),mt-=u);for(wt=1,St=At[0];10<=St;St/=10,wt++);wt<u&&(mt-=u-wt)}return kt.e=mt,kt.c=At,kt}),et.sum=function(){for(var tt=1,it=arguments,ct=new et(it[0]);tt<it.length;)ct=ct.plus(it[tt++]);return ct},W=function(){var tt="0123456789";function it(ct,mt,bt,St){for(var wt,At,kt=[0],Mt=0,Nt=ct.length;Mt<Nt;){for(At=kt.length;At--;kt[At]*=mt);for(kt[0]+=St.indexOf(ct.charAt(Mt++)),wt=0;wt<kt.length;wt++)kt[wt]>bt-1&&(kt[wt+1]==null&&(kt[wt+1]=0),kt[wt+1]+=kt[wt]/bt|0,kt[wt]%=bt)}return kt.reverse()}return function(ct,mt,bt,St,wt){var At,kt,Mt,Nt,Ut,qt,Wt,re,Qt=ct.indexOf("."),Fe=N,le=T;for(0<=Qt&&(Nt=Z,Z=0,ct=ct.replace(".",""),qt=(re=new et(mt)).pow(ct.length-Qt),Z=Nt,re.c=it(H(b(qt.c),qt.e,"0"),10,bt,tt),re.e=re.c.length),Mt=Nt=(Wt=it(ct,mt,bt,wt?(At=J,tt):(At=tt,J))).length;Wt[--Nt]==0;Wt.pop());if(!Wt[0])return At.charAt(0);if(Qt<0?--Mt:(qt.c=Wt,qt.e=Mt,qt.s=St,Wt=(qt=$(qt,re,Fe,le,bt)).c,Ut=qt.r,Mt=qt.e),Qt=Wt[kt=Mt+Fe+1],Nt=bt/2,Ut=Ut||kt<0||Wt[kt+1]!=null,Ut=le<4?(Qt!=null||Ut)&&(le==0||le==(qt.s<0?3:2)):Nt<Qt||Qt==Nt&&(le==4||Ut||le==6&&1&Wt[kt-1]||le==(qt.s<0?8:7)),kt<1||!Wt[0])ct=Ut?H(At.charAt(1),-Fe,At.charAt(0)):At.charAt(0);else{if(Wt.length=kt,Ut)for(--bt;++Wt[--kt]>bt;)Wt[kt]=0,kt||(++Mt,Wt=[1].concat(Wt));for(Nt=Wt.length;!Wt[--Nt];);for(Qt=0,ct="";Qt<=Nt;ct+=At.charAt(Wt[Qt++]));ct=H(ct,Mt,At.charAt(0))}return ct}}(),$=function(){function tt(mt,bt,St){var wt,At,kt,Mt,Nt=0,Ut=mt.length,qt=bt%m,Wt=bt/m|0;for(mt=mt.slice();Ut--;)Nt=((At=qt*(kt=mt[Ut]%m)+(wt=Wt*kt+(Mt=mt[Ut]/m|0)*qt)%m*m+Nt)/St|0)+(wt/m|0)+Wt*Mt,mt[Ut]=At%St;return Nt&&(mt=[Nt].concat(mt)),mt}function it(mt,bt,St,wt){var At,kt;if(St!=wt)kt=wt<St?1:-1;else for(At=kt=0;At<St;At++)if(mt[At]!=bt[At]){kt=mt[At]>bt[At]?1:-1;break}return kt}function ct(mt,bt,St,wt){for(var At=0;St--;)mt[St]-=At,At=mt[St]<bt[St]?1:0,mt[St]=At*wt+mt[St]-bt[St];for(;!mt[0]&&1<mt.length;mt.splice(0,1));}return function(mt,bt,St,wt,At){var kt,Mt,Nt,Ut,qt,Wt,re,Qt,Fe,le,fe,Di,Ae,oi,Ni,ei,fi,be=mt.s==bt.s?1:-1,ye=mt.c,xe=bt.c;if(!(ye&&ye[0]&&xe&&xe[0]))return new et(mt.s&&bt.s&&(ye?!xe||ye[0]!=xe[0]:xe)?ye&&ye[0]==0||!xe?0*be:be/0:NaN);for(Fe=(Qt=new et(be)).c=[],be=St+(Mt=mt.e-bt.e)+1,At||(At=d,Mt=p(mt.e/u)-p(bt.e/u),be=be/u|0),Nt=0;xe[Nt]==(ye[Nt]||0);Nt++);if(xe[Nt]>(ye[Nt]||0)&&Mt--,be<0)Fe.push(1),Ut=!0;else{for(oi=ye.length,ei=xe.length,be+=2,1<(qt=a(At/(xe[Nt=0]+1)))&&(xe=tt(xe,qt,At),ye=tt(ye,qt,At),ei=xe.length,oi=ye.length),Ae=ei,fe=(le=ye.slice(0,ei)).length;fe<ei;le[fe++]=0);fi=xe.slice(),fi=[0].concat(fi),Ni=xe[0],xe[1]>=At/2&&Ni++;do{if(qt=0,(kt=it(xe,le,ei,fe))<0){if(Di=le[0],ei!=fe&&(Di=Di*At+(le[1]||0)),1<(qt=a(Di/Ni)))for(At<=qt&&(qt=At-1),re=(Wt=tt(xe,qt,At)).length,fe=le.length;it(Wt,le,re,fe)==1;)qt--,ct(Wt,ei<re?fi:xe,re,At),re=Wt.length,kt=1;else qt==0&&(kt=qt=1),re=(Wt=xe.slice()).length;if(re<fe&&(Wt=[0].concat(Wt)),ct(le,Wt,fe,At),fe=le.length,kt==-1)for(;it(xe,le,ei,fe)<1;)qt++,ct(le,ei<fe?fi:xe,fe,At),fe=le.length}else kt===0&&(qt++,le=[0]);Fe[Nt++]=qt,le[0]?le[fe++]=ye[Ae]||0:(le=[ye[Ae]],fe=1)}while((Ae++<oi||le[0]!=null)&&be--);Ut=le[0]!=null,Fe[0]||Fe.splice(0,1)}if(At==d){for(Nt=1,be=Fe[0];10<=be;be/=10,Nt++);at(Qt,St+(Qt.e=Nt+Mt*u-1)+1,wt,Ut)}else Qt.e=Mt,Qt.r=+Ut;return Qt}}(),v=/^(-?)0([xbo])(?=\w[\w.]*$)/i,y=/^([^.]+)\.$/,C=/^\.([^.]+)$/,w=/^-?(Infinity|NaN)$/,S=/^\s*\+(?=[\w.])|^\s+|\s+$/g,x=function(tt,it,ct,mt){var bt,St=ct?it:it.replace(S,"");if(w.test(St))tt.s=isNaN(St)?null:St<0?-1:1,tt.c=tt.e=null;else{if(!ct&&(St=St.replace(v,function(wt,At,kt){return bt=(kt=kt.toLowerCase())=="x"?16:kt=="b"?2:8,mt&&mt!=bt?wt:At}),mt&&(bt=mt,St=St.replace(y,"$1").replace(C,"0.$1")),it!=St))return new et(St,bt);if(et.DEBUG)throw Error(l+"Not a"+(mt?" base "+mt:"")+" number: "+it);tt.c=tt.e=tt.s=null}},M.absoluteValue=M.abs=function(){var tt=new et(this);return tt.s<0&&(tt.s=1),tt},M.comparedTo=function(tt,it){return _(this,new et(tt,it))},M.decimalPlaces=M.dp=function(tt,it){var ct,mt,bt;if(tt!=null)return E(tt,0,g),it==null?it=T:E(it,0,8),at(new et(this),tt+this.e+1,it);if(!(ct=this.c))return null;if(mt=((bt=ct.length-1)-p(this.e/u))*u,bt=ct[bt])for(;bt%10==0;bt/=10,mt--);return mt<0&&(mt=0),mt},M.dividedBy=M.div=function(tt,it){return $(this,new et(tt,it),N,T)},M.dividedToIntegerBy=M.idiv=function(tt,it){return $(this,new et(tt,it),0,1)},M.exponentiatedBy=M.pow=function(tt,it){var ct,mt,bt,St,wt,At,kt,Mt,Nt=this;if((tt=new et(tt)).c&&!tt.isInteger())throw Error(l+"Exponent not an integer: "+Ct(tt));if(it!=null&&(it=new et(it)),wt=14<tt.e,!Nt.c||!Nt.c[0]||Nt.c[0]==1&&!Nt.e&&Nt.c.length==1||!tt.c||!tt.c[0])return Mt=new et(Math.pow(+Ct(Nt),wt?2-O(tt):+Ct(tt))),it?Mt.mod(it):Mt;if(At=tt.s<0,it){if(it.c?!it.c[0]:!it.s)return new et(NaN);(mt=!At&&Nt.isInteger()&&it.isInteger())&&(Nt=Nt.mod(it))}else{if(9<tt.e&&(0<Nt.e||Nt.e<-1||(Nt.e==0?1<Nt.c[0]||wt&&24e7<=Nt.c[1]:Nt.c[0]<8e13||wt&&Nt.c[0]<=9999975e7)))return St=Nt.s<0&&O(tt)?-0:0,-1<Nt.e&&(St=1/St),new et(At?1/St:St);Z&&(St=s(Z/u+2))}for(kt=wt?(ct=new et(.5),At&&(tt.s=1),O(tt)):(bt=Math.abs(+Ct(tt)))%2,Mt=new et(U);;){if(kt){if(!(Mt=Mt.times(Nt)).c)break;St?Mt.c.length>St&&(Mt.c.length=St):mt&&(Mt=Mt.mod(it))}if(bt){if((bt=a(bt/2))===0)break;kt=bt%2}else if(at(tt=tt.times(ct),tt.e+1,1),14<tt.e)kt=O(tt);else{if((bt=+Ct(tt))==0)break;kt=bt%2}Nt=Nt.times(Nt),St?Nt.c&&Nt.c.length>St&&(Nt.c.length=St):mt&&(Nt=Nt.mod(it))}return mt?Mt:(At&&(Mt=U.div(Mt)),it?Mt.mod(it):St?at(Mt,Z,T,void 0):Mt)},M.integerValue=function(tt){var it=new et(this);return tt==null?tt=T:E(tt,0,8),at(it,it.e+1,tt)},M.isEqualTo=M.eq=function(tt,it){return _(this,new et(tt,it))===0},M.isFinite=function(){return!!this.c},M.isGreaterThan=M.gt=function(tt,it){return 0<_(this,new et(tt,it))},M.isGreaterThanOrEqualTo=M.gte=function(tt,it){return(it=_(this,new et(tt,it)))===1||it===0},M.isInteger=function(){return!!this.c&&p(this.e/u)>this.c.length-2},M.isLessThan=M.lt=function(tt,it){return _(this,new et(tt,it))<0},M.isLessThanOrEqualTo=M.lte=function(tt,it){return(it=_(this,new et(tt,it)))===-1||it===0},M.isNaN=function(){return!this.s},M.isNegative=function(){return this.s<0},M.isPositive=function(){return 0<this.s},M.isZero=function(){return!!this.c&&this.c[0]==0},M.minus=function(tt,it){var ct,mt,bt,St,wt=this,At=wt.s;if(it=(tt=new et(tt,it)).s,!At||!it)return new et(NaN);if(At!=it)return tt.s=-it,wt.plus(tt);var kt=wt.e/u,Mt=tt.e/u,Nt=wt.c,Ut=tt.c;if(!kt||!Mt){if(!Nt||!Ut)return Nt?(tt.s=-it,tt):new et(Ut?wt:NaN);if(!Nt[0]||!Ut[0])return Ut[0]?(tt.s=-it,tt):new et(Nt[0]?wt:T==3?-0:0)}if(kt=p(kt),Mt=p(Mt),Nt=Nt.slice(),At=kt-Mt){for((bt=(St=At<0)?(At=-At,Nt):(Mt=kt,Ut)).reverse(),it=At;it--;bt.push(0));bt.reverse()}else for(mt=(St=(At=Nt.length)<(it=Ut.length))?At:it,At=it=0;it<mt;it++)if(Nt[it]!=Ut[it]){St=Nt[it]<Ut[it];break}if(St&&(bt=Nt,Nt=Ut,Ut=bt,tt.s=-tt.s),0<(it=(mt=Ut.length)-(ct=Nt.length)))for(;it--;Nt[ct++]=0);for(it=d-1;At<mt;){if(Nt[--mt]<Ut[mt]){for(ct=mt;ct&&!Nt[--ct];Nt[ct]=it);--Nt[ct],Nt[mt]+=d}Nt[mt]-=Ut[mt]}for(;Nt[0]==0;Nt.splice(0,1),--Mt);return Nt[0]?nt(tt,Nt,Mt):(tt.s=T==3?-1:1,tt.c=[tt.e=0],tt)},M.modulo=M.mod=function(tt,it){var ct,mt,bt=this;return tt=new et(tt,it),!bt.c||!tt.s||tt.c&&!tt.c[0]?new et(NaN):!tt.c||bt.c&&!bt.c[0]?new et(bt):(Y==9?(mt=tt.s,tt.s=1,ct=$(bt,tt,0,3),tt.s=mt,ct.s*=mt):ct=$(bt,tt,0,Y),(tt=bt.minus(ct.times(tt))).c[0]||Y!=1||(tt.s=bt.s),tt)},M.multipliedBy=M.times=function(tt,it){var ct,mt,bt,St,wt,At,kt,Mt,Nt,Ut,qt,Wt,re,Qt,Fe,le=this,fe=le.c,Di=(tt=new et(tt,it)).c;if(!(fe&&Di&&fe[0]&&Di[0]))return!le.s||!tt.s||fe&&!fe[0]&&!Di||Di&&!Di[0]&&!fe?tt.c=tt.e=tt.s=null:(tt.s*=le.s,fe&&Di?(tt.c=[0],tt.e=0):tt.c=tt.e=null),tt;for(mt=p(le.e/u)+p(tt.e/u),tt.s*=le.s,(kt=fe.length)<(Ut=Di.length)&&(re=fe,fe=Di,Di=re,bt=kt,kt=Ut,Ut=bt),bt=kt+Ut,re=[];bt--;re.push(0));for(Qt=d,Fe=m,bt=Ut;0<=--bt;){for(ct=0,qt=Di[bt]%Fe,Wt=Di[bt]/Fe|0,St=bt+(wt=kt);bt<St;)ct=((Mt=qt*(Mt=fe[--wt]%Fe)+(At=Wt*Mt+(Nt=fe[wt]/Fe|0)*qt)%Fe*Fe+re[St]+ct)/Qt|0)+(At/Fe|0)+Wt*Nt,re[St--]=Mt%Qt;re[St]=ct}return ct?++mt:re.splice(0,1),nt(tt,re,mt)},M.negated=function(){var tt=new et(this);return tt.s=-tt.s||null,tt},M.plus=function(tt,it){var ct,mt=this,bt=mt.s;if(it=(tt=new et(tt,it)).s,!bt||!it)return new et(NaN);if(bt!=it)return tt.s=-it,mt.minus(tt);var St=mt.e/u,wt=tt.e/u,At=mt.c,kt=tt.c;if(!St||!wt){if(!At||!kt)return new et(bt/0);if(!At[0]||!kt[0])return kt[0]?tt:new et(At[0]?mt:0*bt)}if(St=p(St),wt=p(wt),At=At.slice(),bt=St-wt){for((ct=0<bt?(wt=St,kt):(bt=-bt,At)).reverse();bt--;ct.push(0));ct.reverse()}for((bt=At.length)-(it=kt.length)<0&&(ct=kt,kt=At,At=ct,it=bt),bt=0;it;)bt=(At[--it]=At[it]+kt[it]+bt)/d|0,At[it]=d===At[it]?0:At[it]%d;return bt&&(At=[bt].concat(At),++wt),nt(tt,At,wt)},M.precision=M.sd=function(tt,it){var ct,mt,bt;if(tt!=null&&tt!==!!tt)return E(tt,1,g),it==null?it=T:E(it,0,8),at(new et(this),tt,it);if(!(ct=this.c))return null;if(mt=(bt=ct.length-1)*u+1,bt=ct[bt]){for(;bt%10==0;bt/=10,mt--);for(bt=ct[0];10<=bt;bt/=10,mt++);}return tt&&this.e+1>mt&&(mt=this.e+1),mt},M.shiftedBy=function(tt){return E(tt,-h,h),this.times("1e"+tt)},M.squareRoot=M.sqrt=function(){var tt,it,ct,mt,bt,St=this,wt=St.c,At=St.s,kt=St.e,Mt=N+4,Nt=new et("0.5");if(At!==1||!wt||!wt[0])return new et(!At||At<0&&(!wt||wt[0])?NaN:wt?St:1/0);if((ct=(At=Math.sqrt(+Ct(St)))==0||At==1/0?(((it=b(wt)).length+kt)%2==0&&(it+="0"),At=Math.sqrt(+it),kt=p((kt+1)/2)-(kt<0||kt%2),new et(it=At==1/0?"1e"+kt:(it=At.toExponential()).slice(0,it.indexOf("e")+1)+kt)):new et(At+"")).c[0]){for((At=(kt=ct.e)+Mt)<3&&(At=0);;)if(bt=ct,ct=Nt.times(bt.plus($(St,bt,Mt,1))),b(bt.c).slice(0,At)===(it=b(ct.c)).slice(0,At)){if(ct.e<kt&&--At,(it=it.slice(At-3,At+1))!="9999"&&(mt||it!="4999")){+it&&(+it.slice(1)||it.charAt(0)!="5")||(at(ct,ct.e+N+2,1),tt=!ct.times(ct).eq(St));break}if(!mt&&(at(bt,bt.e+N+2,0),bt.times(bt).eq(St))){ct=bt;break}Mt+=4,At+=4,mt=1}}return at(ct,ct.e+N+1,T,tt)},M.toExponential=function(tt,it){return tt!=null&&(E(tt,0,g),tt++),Et(this,tt,it,1)},M.toFixed=function(tt,it){return tt!=null&&(E(tt,0,g),tt=tt+this.e+1),Et(this,tt,it)},M.toFormat=function(tt,it,ct){var mt;if(ct==null)tt!=null&&it&&typeof it=="object"?(ct=it,it=null):tt&&typeof tt=="object"?(ct=tt,tt=it=null):ct=lt;else if(typeof ct!="object")throw Error(l+"Argument not an object: "+ct);if(mt=this.toFixed(tt,it),this.c){var bt,St=mt.split("."),wt=+ct.groupSize,At=+ct.secondaryGroupSize,kt=ct.groupSeparator||"",Mt=St[0],Nt=St[1],Ut=this.s<0,qt=Ut?Mt.slice(1):Mt,Wt=qt.length;if(At&&(bt=wt,wt=At,Wt-=At=bt),0<wt&&0<Wt){for(bt=Wt%wt||wt,Mt=qt.substr(0,bt);bt<Wt;bt+=wt)Mt+=kt+qt.substr(bt,wt);0<At&&(Mt+=kt+qt.slice(bt)),Ut&&(Mt="-"+Mt)}mt=Nt?Mt+(ct.decimalSeparator||"")+((At=+ct.fractionGroupSize)?Nt.replace(new RegExp("\\d{"+At+"}\\B","g"),"$&"+(ct.fractionGroupSeparator||"")):Nt):Mt}return(ct.prefix||"")+mt+(ct.suffix||"")},M.toFraction=function(tt){var it,ct,mt,bt,St,wt,At,kt,Mt,Nt,Ut,qt,Wt=this,re=Wt.c;if(tt!=null&&(!(At=new et(tt)).isInteger()&&(At.c||At.s!==1)||At.lt(U)))throw Error(l+"Argument "+(At.isInteger()?"out of range: ":"not an integer: ")+Ct(At));if(!re)return new et(Wt);for(it=new et(U),Mt=ct=new et(U),mt=kt=new et(U),qt=b(re),St=it.e=qt.length-Wt.e-1,it.c[0]=f[(wt=St%u)<0?u+wt:wt],tt=!tt||0<At.comparedTo(it)?0<St?it:Mt:At,wt=A,A=1/0,At=new et(qt),kt.c[0]=0;Nt=$(At,it,0,1),(bt=ct.plus(Nt.times(mt))).comparedTo(tt)!=1;)ct=mt,mt=bt,Mt=kt.plus(Nt.times(bt=Mt)),kt=bt,it=At.minus(Nt.times(bt=it)),At=bt;return bt=$(tt.minus(ct),mt,0,1),kt=kt.plus(bt.times(Mt)),ct=ct.plus(bt.times(mt)),kt.s=Mt.s=Wt.s,Ut=$(Mt,mt,St*=2,T).minus(Wt).abs().comparedTo($(kt,ct,St,T).minus(Wt).abs())<1?[Mt,mt]:[kt,ct],A=wt,Ut},M.toNumber=function(){return+Ct(this)},M.toPrecision=function(tt,it){return tt!=null&&E(tt,1,g),Et(this,tt,it,2)},M.toString=function(tt){var it,ct=this,mt=ct.s,bt=ct.e;return bt===null?mt?(it="Infinity",mt<0&&(it="-"+it)):it="NaN":(it=tt==null?bt<=j||I<=bt?V(b(ct.c),bt):H(b(ct.c),bt,"0"):tt===10?H(b((ct=at(new et(ct),N+bt+1,T)).c),ct.e,"0"):(E(tt,2,J.length,"Base"),W(H(b(ct.c),bt,"0"),10,tt,mt,!0)),mt<0&&ct.c[0]&&(it="-"+it)),it},M.valueOf=M.toJSON=function(){return Ct(this)},M._isBigNumber=!0,typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(M[Symbol.toStringTag]="BigNumber",M[Symbol.for("nodejs.util.inspect.custom")]=M.valueOf),L!=null&&et.set(L),et}()).default=n.BigNumber=n,t!==void 0&&t.exports?t.exports=n:(i||(i=typeof self<"u"&&self?self:window),i.BigNumber=n)})(this)},{}],2:[function(e,t,r){"use strict";t.exports={languageTag:"en-US",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},spaceSeparated:!1,ordinal:function(i){var n=i%10;return~~(i%100/10)==1?"th":n===1?"st":n===2?"nd":n===3?"rd":"th"},currency:{symbol:"$",position:"prefix",code:"USD"},currencyFormat:{thousandSeparated:!0,totalLength:4,spaceSeparated:!0},formats:{fourDigits:{totalLength:4,spaceSeparated:!0},fullWithTwoDecimals:{output:"currency",thousandSeparated:!0,mantissa:2},fullWithTwoDecimalsNoCurrency:{thousandSeparated:!0,mantissa:2},fullWithNoDecimals:{output:"currency",thousandSeparated:!0,mantissa:0}}}},{}],3:[function(e,t,r){"use strict";function i(p,b){return function(_){if(Array.isArray(_))return _}(p)||function(_,E){var O=[],V=!0,H=!1,F=void 0;try{for(var L,$=_[Symbol.iterator]();!(V=(L=$.next()).done)&&(O.push(L.value),!E||O.length!==E);V=!0);}catch(W){H=!0,F=W}finally{try{V||$.return==null||$.return()}finally{if(H)throw F}}return O}(p,b)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var n=e("./globalState"),o=e("./validating"),s=e("./parsing"),a=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],l={general:{scale:1024,suffixes:a,marker:"bd"},binary:{scale:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],marker:"b"},decimal:{scale:1e3,suffixes:a,marker:"d"}},c={totalLength:0,characteristic:0,forceAverage:!1,average:!1,mantissa:-1,optionalMantissa:!0,thousandSeparated:!1,spaceSeparated:!1,negative:"sign",forceSign:!1};function d(p){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},_=2<arguments.length?arguments[2]:void 0;if(typeof b=="string"&&(b=s.parseFormat(b)),!o.validateFormat(b))return"ERROR: invalid format";var E=b.prefix||"",O=b.postfix||"",V=function(H,F,L){switch(F.output){case"currency":return F=g(F,n.currentCurrencyDefaultFormat()),function(J,et,Et){var Rt=Et.currentCurrency(),nt=Object.assign({},c,et),at=void 0,Ct="",tt=!!nt.totalLength||!!nt.forceAverage||nt.average,it=et.currencyPosition||Rt.position,ct=et.currencySymbol||Rt.symbol;nt.spaceSeparated&&(Ct=" "),it==="infix"&&(at=Ct+ct+Ct);var mt=m({instance:J,providedFormat:et,state:Et,decimalSeparator:at});return it==="prefix"&&(mt=J._value<0&&nt.negative==="sign"?"-".concat(Ct).concat(ct).concat(mt.slice(1)):ct+Ct+mt),it&&it!=="postfix"||(mt=mt+(Ct=tt?"":Ct)+ct),mt}(H,F,n);case"percent":return F=g(F,n.currentPercentageDefaultFormat()),function(J,et,Et,Rt){var nt=et.prefixSymbol,at=m({instance:Rt(100*J._value),providedFormat:et,state:Et}),Ct=Object.assign({},c,et);return nt?"%".concat(Ct.spaceSeparated?" ":"").concat(at):"".concat(at).concat(Ct.spaceSeparated?" ":"","%")}(H,F,n,L);case"byte":return F=g(F,n.currentByteDefaultFormat()),U=H,T=n,j=L,I=(N=F).base||"binary",q=l[I],A=u(U._value,q.suffixes,q.scale),k=A.value,Y=A.suffix,Z=m({instance:j(k),providedFormat:N,state:T,defaults:T.currentByteDefaultFormat()}),lt=T.currentAbbreviations(),"".concat(Z).concat(lt.spaced?" ":"").concat(Y);case"time":return F=g(F,n.currentTimeDefaultFormat()),C=H,w=Math.floor(C._value/60/60),S=Math.floor((C._value-60*w*60)/60),M=Math.round(C._value-60*w*60-60*S),"".concat(w,":").concat(S<10?"0":"").concat(S,":").concat(M<10?"0":"").concat(M);case"ordinal":return F=g(F,n.currentOrdinalDefaultFormat()),$=H,W=F,R=(x=n).currentOrdinal(),B=Object.assign({},c,W),v=m({instance:$,providedFormat:W,state:x}),y=R($._value),"".concat(v).concat(B.spaceSeparated?" ":"").concat(y);case"number":default:return m({instance:H,providedFormat:F,numbro:L})}var $,W,x,R,B,v,y,C,w,S,M,U,N,T,j,I,q,A,k,Y,Z,lt}(p,b,_);return V=(V=E+V)+O}function u(p,b,_){var E=b[0],O=Math.abs(p);if(_<=O){for(var V=1;V<b.length;++V){var H=Math.pow(_,V),F=Math.pow(_,V+1);if(H<=O&&O<F){E=b[V],p/=H;break}}E===b[0]&&(p/=Math.pow(_,b.length-1),E=b[b.length-1])}return{value:p,suffix:E}}function h(p){for(var b="",_=0;_<p;_++)b+="0";return b}function f(p,b){return p.toString().indexOf("e")!==-1?function(_,E){var O=_.toString(),V=i(O.split("e"),2),H=V[0],F=V[1],L=i(H.split("."),2),$=L[0],W=L[1],x=W===void 0?"":W;if(0<+F)O=$+x+h(F-x.length);else{var R=".";R=+$<0?"-0".concat(R):"0".concat(R);var B=(h(-F-1)+Math.abs($)+x).substr(0,E);B.length<E&&(B+=h(E-B.length)),O=R+B}return 0<+F&&0<E&&(O+=".".concat(h(E))),O}(p,b):(Math.round(+"".concat(p,"e+").concat(b))/Math.pow(10,b)).toFixed(b)}function m(p){var b=p.instance,_=p.providedFormat,E=p.state,O=E===void 0?n:E,V=p.decimalSeparator,H=p.defaults,F=H===void 0?O.currentDefaults():H,L=b._value;if(L===0&&O.hasZeroFormat())return O.getZeroFormat();if(!isFinite(L))return L.toString();var $,W,x,R,B,v,y,C,w=Object.assign({},c,F,_),S=w.totalLength,M=S?0:w.characteristic,U=w.optionalCharacteristic,N=w.forceAverage,T=!!S||!!N||w.average,j=S?-1:T&&_.mantissa===void 0?0:w.mantissa,I=!S&&(_.optionalMantissa===void 0?j===-1:w.optionalMantissa),q=w.trimMantissa,A=w.thousandSeparated,k=w.spaceSeparated,Y=w.negative,Z=w.forceSign,lt=w.exponential,J="";if(T){var et=function(tt){var it=tt.value,ct=tt.forceAverage,mt=tt.abbreviations,bt=tt.spaceSeparated,St=bt!==void 0&&bt,wt=tt.totalLength,At=wt===void 0?0:wt,kt="",Mt=Math.abs(it),Nt=-1;if(Mt>=Math.pow(10,12)&&!ct||ct==="trillion"?(kt=mt.trillion,it/=Math.pow(10,12)):Mt<Math.pow(10,12)&&Mt>=Math.pow(10,9)&&!ct||ct==="billion"?(kt=mt.billion,it/=Math.pow(10,9)):Mt<Math.pow(10,9)&&Mt>=Math.pow(10,6)&&!ct||ct==="million"?(kt=mt.million,it/=Math.pow(10,6)):(Mt<Math.pow(10,6)&&Mt>=Math.pow(10,3)&&!ct||ct==="thousand")&&(kt=mt.thousand,it/=Math.pow(10,3)),kt&&(kt=(St?" ":"")+kt),At){var Ut=it.toString().split(".")[0];Nt=Math.max(At-Ut.length,0)}return{value:it,abbreviation:kt,mantissaPrecision:Nt}}({value:L,forceAverage:N,abbreviations:O.currentAbbreviations(),spaceSeparated:k,totalLength:S});L=et.value,J+=et.abbreviation,S&&(j=et.mantissaPrecision)}if(lt){var Et=(W=($={value:L,characteristicPrecision:M}).value,x=$.characteristicPrecision,R=x===void 0?0:x,B=i(W.toExponential().split("e"),2),v=B[0],y=B[1],C=+v,R&&1<R&&(C*=Math.pow(10,R-1),y=0<=(y=+y-(R-1))?"+".concat(y):y),{value:C,abbreviation:"e".concat(y)});L=Et.value,J=Et.abbreviation+J}var Rt,nt,at,Ct=function(tt,it,ct,mt,bt){if(mt===-1)return tt;var St=f(it,mt),wt=i(St.toString().split("."),2),At=wt[0],kt=wt[1],Mt=kt===void 0?"":kt;if(Mt.match(/^0+$/)&&(ct||bt))return At;var Nt=Mt.match(/0+$/);return bt&&Nt?"".concat(At,".").concat(Mt.toString().slice(0,Nt.index)):St.toString()}(L.toString(),L,I,j,q);return Ct=function(tt,it,ct,mt,bt){var St=mt.currentDelimiters(),wt=St.thousands;bt=bt||St.decimal;var At=St.thousandsSize||3,kt=tt.toString(),Mt=kt.split(".")[0],Nt=kt.split(".")[1];return ct&&(it<0&&(Mt=Mt.slice(1)),function(Ut,qt){for(var Wt=[],re=0,Qt=Ut;0<Qt;Qt--)re===qt&&(Wt.unshift(Qt),re=0),re++;return Wt}(Mt.length,At).forEach(function(Ut,qt){Mt=Mt.slice(0,Ut+qt)+wt+Mt.slice(Ut+qt)}),it<0&&(Mt="-".concat(Mt))),kt=Nt?Mt+bt+Nt:Mt}(Ct=function(tt,it,ct,mt){var bt=tt,St=i(bt.toString().split("."),2),wt=St[0],At=St[1];if(wt.match(/^-?0$/)&&ct)return At?"".concat(wt.replace("0",""),".").concat(At):wt.replace("0","");if(wt.length<mt)for(var kt=mt-wt.length,Mt=0;Mt<kt;Mt++)bt="0".concat(bt);return bt.toString()}(Ct,0,U,M),L,A,O,V),(T||lt)&&(Ct=Ct+J),(Z||L<0)&&(Rt=Ct,at=Y,Ct=(nt=L)===0?Rt:+Rt==0?Rt.replace("-",""):0<nt?"+".concat(Rt):at==="sign"?Rt:"(".concat(Rt.replace("-",""),")")),Ct}function g(p,b){if(!p)return b;var _=Object.keys(p);return _.length===1&&_[0]==="output"?b:p}t.exports=function(p){return{format:function(){for(var b=arguments.length,_=new Array(b),E=0;E<b;E++)_[E]=arguments[E];return d.apply(void 0,_.concat([p]))},getByteUnit:function(){for(var b=arguments.length,_=new Array(b),E=0;E<b;E++)_[E]=arguments[E];return(function(O){var V=l.general;return u(O._value,V.suffixes,V.scale).suffix}).apply(void 0,_.concat([p]))},getBinaryByteUnit:function(){for(var b=arguments.length,_=new Array(b),E=0;E<b;E++)_[E]=arguments[E];return(function(O){var V=l.binary;return u(O._value,V.suffixes,V.scale).suffix}).apply(void 0,_.concat([p]))},getDecimalByteUnit:function(){for(var b=arguments.length,_=new Array(b),E=0;E<b;E++)_[E]=arguments[E];return(function(O){var V=l.decimal;return u(O._value,V.suffixes,V.scale).suffix}).apply(void 0,_.concat([p]))},formatOrDefault:g}}},{"./globalState":4,"./parsing":8,"./validating":10}],4:[function(e,t,r){"use strict";var i=e("./en-US"),n=e("./validating"),o=e("./parsing"),s={},a=void 0,l={},c=null,d={};function u(f){a=f}function h(){return l[a]}s.languages=function(){return Object.assign({},l)},s.currentLanguage=function(){return a},s.currentCurrency=function(){return h().currency},s.currentAbbreviations=function(){return h().abbreviations},s.currentDelimiters=function(){return h().delimiters},s.currentOrdinal=function(){return h().ordinal},s.currentDefaults=function(){return Object.assign({},h().defaults,d)},s.currentOrdinalDefaultFormat=function(){return Object.assign({},s.currentDefaults(),h().ordinalFormat)},s.currentByteDefaultFormat=function(){return Object.assign({},s.currentDefaults(),h().byteFormat)},s.currentPercentageDefaultFormat=function(){return Object.assign({},s.currentDefaults(),h().percentageFormat)},s.currentCurrencyDefaultFormat=function(){return Object.assign({},s.currentDefaults(),h().currencyFormat)},s.currentTimeDefaultFormat=function(){return Object.assign({},s.currentDefaults(),h().timeFormat)},s.setDefaults=function(f){f=o.parseFormat(f),n.validateFormat(f)&&(d=f)},s.getZeroFormat=function(){return c},s.setZeroFormat=function(f){return c=typeof f=="string"?f:null},s.hasZeroFormat=function(){return c!==null},s.languageData=function(f){if(f){if(l[f])return l[f];throw new Error('Unknown tag "'.concat(f,'"'))}return h()},s.registerLanguage=function(f){var m=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(!n.validateLanguage(f))throw new Error("Invalid language data");l[f.languageTag]=f,m&&u(f.languageTag)},s.setLanguage=function(f){var m=1<arguments.length&&arguments[1]!==void 0?arguments[1]:i.languageTag;if(!l[f]){var g=f.split("-")[0],p=Object.keys(l).find(function(b){return b.split("-")[0]===g});return l[p]?void u(p):void u(m)}u(f)},s.registerLanguage(i),a=i.languageTag,t.exports=s},{"./en-US":2,"./parsing":8,"./validating":10}],5:[function(e,t,r){"use strict";t.exports=function(i){return{loadLanguagesInNode:function(n){return o=i,void n.forEach(function(s){var a=void 0;try{a=e("../languages/".concat(s))}catch{console.error('Unable to load "'.concat(s,'". No matching language file found.'))}a&&o.registerLanguage(a)});var o}}}},{}],6:[function(e,t,r){"use strict";var i=e("bignumber.js");function n(o,s,a){var l=new i(o._value),c=s;return a.isNumbro(s)&&(c=s._value),c=new i(c),o._value=l.minus(c).toNumber(),o}t.exports=function(o){return{add:function(s,a){return c=a,d=o,u=new i((l=s)._value),h=c,d.isNumbro(c)&&(h=c._value),h=new i(h),l._value=u.plus(h).toNumber(),l;var l,c,d,u,h},subtract:function(s,a){return n(s,a,o)},multiply:function(s,a){return c=a,d=o,u=new i((l=s)._value),h=c,d.isNumbro(c)&&(h=c._value),h=new i(h),l._value=u.times(h).toNumber(),l;var l,c,d,u,h},divide:function(s,a){return c=a,d=o,u=new i((l=s)._value),h=c,d.isNumbro(c)&&(h=c._value),h=new i(h),l._value=u.dividedBy(h).toNumber(),l;var l,c,d,u,h},set:function(s,a){return l=s,d=c=a,o.isNumbro(c)&&(d=c._value),l._value=d,l;var l,c,d},difference:function(s,a){return l=a,n(d=(c=o)(s._value),l,c),Math.abs(d._value);var l,c,d}}}},{"bignumber.js":1}],7:[function(e,t,r){"use strict";function i(m,g){for(var p=0;p<g.length;p++){var b=g[p];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(m,b.key,b)}}var n=e("./globalState"),o=e("./validating"),s=e("./loading")(f),a=e("./unformatting"),l=e("./formatting")(f),c=e("./manipulating")(f),d=e("./parsing"),u=function(){function m(_){(function(E,O){if(!(E instanceof O))throw new TypeError("Cannot call a class as a function")})(this,m),this._value=_}var g,p,b;return g=m,(p=[{key:"clone",value:function(){return f(this._value)}},{key:"format",value:function(){var _=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return l.format(this,_)}},{key:"formatCurrency",value:function(_){return typeof _=="string"&&(_=d.parseFormat(_)),(_=l.formatOrDefault(_,n.currentCurrencyDefaultFormat())).output="currency",l.format(this,_)}},{key:"formatTime",value:function(){var _=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return _.output="time",l.format(this,_)}},{key:"binaryByteUnits",value:function(){return l.getBinaryByteUnit(this)}},{key:"decimalByteUnits",value:function(){return l.getDecimalByteUnit(this)}},{key:"byteUnits",value:function(){return l.getByteUnit(this)}},{key:"difference",value:function(_){return c.difference(this,_)}},{key:"add",value:function(_){return c.add(this,_)}},{key:"subtract",value:function(_){return c.subtract(this,_)}},{key:"multiply",value:function(_){return c.multiply(this,_)}},{key:"divide",value:function(_){return c.divide(this,_)}},{key:"set",value:function(_){return c.set(this,h(_))}},{key:"value",value:function(){return this._value}},{key:"valueOf",value:function(){return this._value}}])&&i(g.prototype,p),b&&i(g,b),m}();function h(m){var g=m;return f.isNumbro(m)?g=m._value:typeof m=="string"?g=f.unformat(m):isNaN(m)&&(g=NaN),g}function f(m){return new u(h(m))}f.version="2.1.2",f.isNumbro=function(m){return m instanceof u},f.language=n.currentLanguage,f.registerLanguage=n.registerLanguage,f.setLanguage=n.setLanguage,f.languages=n.languages,f.languageData=n.languageData,f.zeroFormat=n.setZeroFormat,f.defaultFormat=n.currentDefaults,f.setDefaults=n.setDefaults,f.defaultCurrencyFormat=n.currentCurrencyDefaultFormat,f.validate=o.validate,f.loadLanguagesInNode=s.loadLanguagesInNode,f.unformat=a.unformat,t.exports=f},{"./formatting":3,"./globalState":4,"./loading":5,"./manipulating":6,"./parsing":8,"./unformatting":9,"./validating":10}],8:[function(e,t,r){"use strict";t.exports={parseFormat:function(i){var n,o,s,a,l,c,d,u,h,f,m,g,p,b,_,E,O,V,H,F,L=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return typeof i!="string"?i:(o=L,i=(s=(n=i).match(/^{([^}]*)}/))?(o.prefix=s[1],n.slice(s[0].length)):n,l=L,function($,W){if($.indexOf("$")===-1){if($.indexOf("%")===-1)return $.indexOf("bd")!==-1?(W.output="byte",W.base="general"):$.indexOf("b")!==-1?(W.output="byte",W.base="binary"):$.indexOf("d")!==-1?(W.output="byte",W.base="decimal"):$.indexOf(":")===-1?$.indexOf("o")!==-1&&(W.output="ordinal"):W.output="time";W.output="percent"}else W.output="currency"}(i=(c=(a=i).match(/{([^}]*)}$/))?(l.postfix=c[1],a.slice(0,-c[0].length)):a,L),d=L,(u=i.match(/[1-9]+[0-9]*/))&&(d.totalLength=+u[0]),h=L,(f=i.split(".")[0].match(/0+/))&&(h.characteristic=f[0].length),function($,W){if($.indexOf(".")!==-1){var x=$.split(".")[0];W.optionalCharacteristic=x.indexOf("0")===-1}}(i,L),m=L,i.indexOf("a")!==-1&&(m.average=!0),p=L,(g=i).indexOf("K")!==-1?p.forceAverage="thousand":g.indexOf("M")!==-1?p.forceAverage="million":g.indexOf("B")!==-1?p.forceAverage="billion":g.indexOf("T")!==-1&&(p.forceAverage="trillion"),function($,W){var x=$.split(".")[1];if(x){var R=x.match(/0+/);R&&(W.mantissa=R[0].length)}}(i,L),_=L,(b=i).match(/\[\.]/)?_.optionalMantissa=!0:b.match(/\./)&&(_.optionalMantissa=!1),E=L,i.indexOf(",")!==-1&&(E.thousandSeparated=!0),O=L,i.indexOf(" ")!==-1&&(O.spaceSeparated=!0),H=L,(V=i).match(/^\+?\([^)]*\)$/)&&(H.negative="parenthesis"),V.match(/^\+?-/)&&(H.negative="sign"),F=L,i.match(/^\+/)&&(F.forceSign=!0),L)}}},{}],9:[function(e,t,r){"use strict";var i=[{key:"ZiB",factor:Math.pow(1024,7)},{key:"ZB",factor:Math.pow(1e3,7)},{key:"YiB",factor:Math.pow(1024,8)},{key:"YB",factor:Math.pow(1e3,8)},{key:"TiB",factor:Math.pow(1024,4)},{key:"TB",factor:Math.pow(1e3,4)},{key:"PiB",factor:Math.pow(1024,5)},{key:"PB",factor:Math.pow(1e3,5)},{key:"MiB",factor:Math.pow(1024,2)},{key:"MB",factor:Math.pow(1e3,2)},{key:"KiB",factor:Math.pow(1024,1)},{key:"KB",factor:Math.pow(1e3,1)},{key:"GiB",factor:Math.pow(1024,3)},{key:"GB",factor:Math.pow(1e3,3)},{key:"EiB",factor:Math.pow(1024,6)},{key:"EB",factor:Math.pow(1e3,6)},{key:"B",factor:1}];function n(s){return s.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function o(s,a){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:"",c=3<arguments.length?arguments[3]:void 0,d=4<arguments.length?arguments[4]:void 0,u=5<arguments.length?arguments[5]:void 0,h=6<arguments.length?arguments[6]:void 0;if(s!=="")return s===d?0:function f(m,g){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:"",b=3<arguments.length?arguments[3]:void 0,_=4<arguments.length?arguments[4]:void 0,E=5<arguments.length?arguments[5]:void 0,O=6<arguments.length?arguments[6]:void 0;if(!isNaN(+m))return+m;var V="",H=m.replace(/(^[^(]*)\((.*)\)([^)]*$)/,"$1$2$3");if(H!==m)return-1*f(H,g,p,b,_,E,O);for(var F=0;F<i.length;F++){var L=i[F];if((V=m.replace(L.key,""))!==m)return f(V,g,p,b,_,E,O)*L.factor}if((V=m.replace("%",""))!==m)return f(V,g,p,b,_,E,O)/100;var $=parseFloat(m);if(!isNaN($)){var W=b($);if(W&&W!=="."&&(V=m.replace(new RegExp("".concat(n(W),"$")),""))!==m)return f(V,g,p,b,_,E,O);var x={};Object.keys(E).forEach(function(S){x[E[S]]=S});for(var R=Object.keys(x).sort().reverse(),B=R.length,v=0;v<B;v++){var y=R[v],C=x[y];if((V=m.replace(y,""))!==m){var w=void 0;switch(C){case"thousand":w=Math.pow(10,3);break;case"million":w=Math.pow(10,6);break;case"billion":w=Math.pow(10,9);break;case"trillion":w=Math.pow(10,12)}return f(V,g,p,b,_,E,O)*w}}}}(function(f,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:"",p=f.replace(g,"");return p=(p=p.replace(new RegExp("([0-9])".concat(n(m.thousands),"([0-9])"),"g"),"$1$2")).replace(m.decimal,".")}(s,a,l),a,l,c,d,u,h)}t.exports={unformat:function(s,a){var l,c,d,u=e("./globalState"),h=u.currentDelimiters(),f=u.currentCurrency().symbol,m=u.currentOrdinal(),g=u.getZeroFormat(),p=u.currentAbbreviations(),b=void 0;if(typeof s=="string")b=function(_,E){if(!_.indexOf(":")||E.thousands===":")return!1;var O=_.split(":");if(O.length!==3)return!1;var V=+O[0],H=+O[1],F=+O[2];return!isNaN(V)&&!isNaN(H)&&!isNaN(F)}(s,h)?(l=s.split(":"),c=+l[0],d=+l[1],+l[2]+60*d+3600*c):o(s,h,f,m,g,p,a);else{if(typeof s!="number")return;b=s}if(b!==void 0)return b}}},{"./globalState":4}],10:[function(e,t,r){"use strict";function i(h){return function(f){if(Array.isArray(f)){for(var m=0,g=new Array(f.length);m<f.length;m++)g[m]=f[m];return g}}(h)||function(f){if(Symbol.iterator in Object(f)||Object.prototype.toString.call(f)==="[object Arguments]")return Array.from(f)}(h)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function n(h){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(h)}var o=e("./unformatting"),s=/^[a-z]{2,3}(-[a-zA-Z]{4})?(-([A-Z]{2}|[0-9]{3}))?$/,a={output:{type:"string",validValues:["currency","percent","byte","time","ordinal","number"]},base:{type:"string",validValues:["decimal","binary","general"],restriction:function(h,f){return f.output==="byte"},message:"`base` must be provided only when the output is `byte`",mandatory:function(h){return h.output==="byte"}},characteristic:{type:"number",restriction:function(h){return 0<=h},message:"value must be positive"},prefix:"string",postfix:"string",forceAverage:{type:"string",validValues:["trillion","billion","million","thousand"]},average:"boolean",currencyPosition:{type:"string",validValues:["prefix","infix","postfix"]},currencySymbol:"string",totalLength:{type:"number",restrictions:[{restriction:function(h){return 0<=h},message:"value must be positive"},{restriction:function(h,f){return!f.exponential},message:"`totalLength` is incompatible with `exponential`"}]},mantissa:{type:"number",restriction:function(h){return 0<=h},message:"value must be positive"},optionalMantissa:"boolean",trimMantissa:"boolean",optionalCharacteristic:"boolean",thousandSeparated:"boolean",spaceSeparated:"boolean",abbreviations:{type:"object",children:{thousand:"string",million:"string",billion:"string",trillion:"string"}},negative:{type:"string",validValues:["sign","parenthesis"]},forceSign:"boolean",exponential:{type:"boolean"},prefixSymbol:{type:"boolean",restriction:function(h,f){return f.output==="percent"},message:"`prefixSymbol` can be provided only when the output is `percent`"}},l={languageTag:{type:"string",mandatory:!0,restriction:function(h){return h.match(s)},message:"the language tag must follow the BCP 47 specification (see https://tools.ieft.org/html/bcp47)"},delimiters:{type:"object",children:{thousands:"string",decimal:"string",thousandsSize:"number"},mandatory:!0},abbreviations:{type:"object",children:{thousand:{type:"string",mandatory:!0},million:{type:"string",mandatory:!0},billion:{type:"string",mandatory:!0},trillion:{type:"string",mandatory:!0}},mandatory:!0},spaceSeparated:"boolean",ordinal:{type:"function",mandatory:!0},currency:{type:"object",children:{symbol:"string",position:"string",code:"string"},mandatory:!0},defaults:"format",ordinalFormat:"format",byteFormat:"format",percentageFormat:"format",currencyFormat:"format",timeDefaults:"format",formats:{type:"object",children:{fourDigits:{type:"format",mandatory:!0},fullWithTwoDecimals:{type:"format",mandatory:!0},fullWithTwoDecimalsNoCurrency:{type:"format",mandatory:!0},fullWithNoDecimals:{type:"format",mandatory:!0}}}};function c(h){return!!o.unformat(h)}function d(h,f,m){var g=3<arguments.length&&arguments[3]!==void 0&&arguments[3],p=Object.keys(h).map(function(b){if(!f[b])return console.error("".concat(m," Invalid key: ").concat(b)),!1;var _=h[b],E=f[b];if(typeof E=="string"&&(E={type:E}),E.type==="format"){if(!d(_,a,"[Validate ".concat(b,"]"),!0))return!1}else if(n(_)!==E.type)return console.error("".concat(m," ").concat(b,' type mismatched: "').concat(E.type,'" expected, "').concat(n(_),'" provided')),!1;if(E.restrictions&&E.restrictions.length)for(var O=E.restrictions.length,V=0;V<O;V++){var H=E.restrictions[V],F=H.restriction,L=H.message;if(!F(_,h))return console.error("".concat(m," ").concat(b," invalid value: ").concat(L)),!1}return E.restriction&&!E.restriction(_,h)?(console.error("".concat(m," ").concat(b," invalid value: ").concat(E.message)),!1):E.validValues&&E.validValues.indexOf(_)===-1?(console.error("".concat(m," ").concat(b," invalid value: must be among ").concat(JSON.stringify(E.validValues),', "').concat(_,'" provided')),!1):!(E.children&&!d(_,E.children,"[Validate ".concat(b,"]")))});return g||p.push.apply(p,i(Object.keys(f).map(function(b){var _=f[b];if(typeof _=="string"&&(_={type:_}),_.mandatory){var E=_.mandatory;if(typeof E=="function"&&(E=E(h)),E&&h[b]===void 0)return console.error("".concat(m,' Missing mandatory key "').concat(b,'"')),!1}return!0}))),p.reduce(function(b,_){return b&&_},!0)}function u(h){return d(h,a,"[Validate format]")}t.exports={validate:function(h,f){var m=c(h),g=u(f);return m&&g},validateFormat:u,validateInput:c,validateLanguage:function(h){return d(h,l,"[Validate language]")}}},{"./unformatting":9}]},{},[7])(7)})});var Qtt=Ci((lye,Ztt)=>{"use strict";var Xtt=$st(),h5t=TypeError;Ztt.exports=function(e,t){if(!delete e[t])throw new h5t("Cannot delete property "+Xtt(t)+" of "+Xtt(e))}});var Jtt=Ci(()=>{"use strict";var f5t=ga(),m5t=BO(),p5t=VO(),g5t=gN(),b5t=Qtt(),v5t=bN(),y5t=[].unshift(0)!==1,_5t=function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}},w5t=y5t||!_5t();f5t({target:"Array",proto:!0,arity:1,forced:w5t},{unshift:function(t){var r=m5t(this),i=p5t(r),n=arguments.length;if(n){v5t(i+n);for(var o=i;o--;){var s=o+n;o in r?r[s]=r[o]:b5t(r,s)}for(var a=0;a<n;a++)r[a]=arguments[a]}return g5t(r,i+n)}})});var wnt=Ci((oOe,_nt)=>{"use strict";var G3t=FO(),K3t=kB(),X3t=MB();_nt.exports=function(e,t,r){G3t?K3t.f(e,t,X3t(0,r)):e[t]=r}});var Cnt=Ci(()=>{"use strict";var Z3t=ga(),Q3t=sat(),J3t=wnt();Z3t({target:"Object",stat:!0},{fromEntries:function(t){var r={};return Q3t(t,function(i,n){J3t(r,i,n)},{AS_ENTRIES:!0}),r}})});var uot=Ci((dot,Z7)=>{"use strict";(function(e){typeof dot=="object"&&typeof Z7<"u"?Z7.exports=e():typeof define=="function"&&define.amd?define([],e):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).ExcelJS=e()})(function(){return function e(t,r,i){function n(a,l){if(!r[a]){if(!t[a]){var c=typeof ll=="function"&&ll;if(!l&&c)return c(a,!0);if(o)return o(a,!0);var d=new Error("Cannot find module '"+a+"'");throw d.code="MODULE_NOT_FOUND",d}var u=r[a]={exports:{}};t[a][0].call(u.exports,function(h){return n(t[a][1][h]||h)},u,u.exports,e,t,r,i)}return r[a].exports}for(var o=typeof ll=="function"&&ll,s=0;s<i.length;s++)n(i[s]);return n}({1:[function(e,t,r){"use strict";let i=e("fs"),n=e("fast-csv"),o=e("dayjs/plugin/customParseFormat"),s=e("dayjs/plugin/utc"),a=e("dayjs").extend(o).extend(s),l=e("../utils/stream-buf"),{fs:{exists:c}}=e("../utils/utils"),d={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};t.exports=class{constructor(u){this.workbook=u,this.worksheet=null}readFile(u,h){return xr(this,null,function*(){if(h=h||{},!(yield c(u)))throw new Error("File not found: "+u);let f=i.createReadStream(u),m=yield this.read(f,h);return f.close(),m})}read(u,h){return h=h||{},new Promise((f,m)=>{let g=this.workbook.addWorksheet(h.sheetName),p=h.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],b=h.map||function(E){if(E==="")return null;let O=Number(E);if(!Number.isNaN(O)&&O!==1/0)return O;let V=p.reduce((F,L)=>{if(F)return F;let $=a(E,L,!0);return $.isValid()?$:null},null);if(V)return new Date(V.valueOf());let H=d[E];return H!==void 0?H:E},_=n.parse(h.parserOptions).on("data",E=>{g.addRow(E.map(b))}).on("end",()=>{_.emit("worksheet",g)});_.on("worksheet",f).on("error",m),u.pipe(_)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(u,h){return new Promise((f,m)=>{h=h||{};let g=this.workbook.getWorksheet(h.sheetName||h.sheetId),p=n.format(h.formatterOptions);u.on("finish",()=>{f()}),p.on("error",m),p.pipe(u);let{dateFormat:b,dateUTC:_}=h,E=h.map||(H=>{if(H){if(H.text||H.hyperlink)return H.hyperlink||H.text||"";if(H.formula||H.result)return H.result||"";if(H instanceof Date)return b?_?a.utc(H).format(b):a(H).format(b):_?a.utc(H).format():a(H).format();if(H.error)return H.error;if(typeof H=="object")return JSON.stringify(H)}return H}),O=h.includeEmptyRows===void 0||h.includeEmptyRows,V=1;g&&g.eachRow((H,F)=>{if(O)for(;V++<F-1;)p.write([]);let{values:L}=H;L.shift(),p.write(L.map(E)),V=F}),p.end()})}writeFile(u,h){let f={encoding:(h=h||{}).encoding||"utf8"},m=i.createWriteStream(u,f);return this.write(m,h)}writeBuffer(u){return xr(this,null,function*(){let h=new l;return yield this.write(h,u),h.read()})}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(e,t,r){"use strict";let i=e("../utils/col-cache");class n{constructor(s,a){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=s,a)if(typeof a=="string"){let c=i.decodeAddress(a);this.nativeCol=c.col+l,this.nativeColOff=0,this.nativeRow=c.row+l,this.nativeRowOff=0}else a.nativeCol!==void 0?(this.nativeCol=a.nativeCol||0,this.nativeColOff=a.nativeColOff||0,this.nativeRow=a.nativeRow||0,this.nativeRowOff=a.nativeRowOff||0):a.col!==void 0?(this.col=a.col+l,this.row=a.row+l):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(s){return s instanceof n||s==null?s:new n(s)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(s){this.nativeCol=Math.floor(s),this.nativeColOff=Math.floor((s-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(s){this.nativeRow=Math.floor(s),this.nativeRowOff=Math.floor((s-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(s){this.nativeCol=s.nativeCol,this.nativeColOff=s.nativeColOff,this.nativeRow=s.nativeRow,this.nativeRowOff=s.nativeRowOff}}t.exports=n},{"../utils/col-cache":19}],3:[function(e,t,r){"use strict";let i=e("../utils/col-cache"),n=e("../utils/under-dash"),o=e("./enums"),{slideFormula:s}=e("../utils/shared-formula"),a=e("./note");class l{constructor(u,h,f){if(!u||!h)throw new Error("A Cell needs a Row");this._row=u,this._column=h,i.validateAddress(f),this._address=f,this._value=c.create(l.Types.Null,this),this.style=this._mergeStyle(u.style,h.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(u){this.style.numFmt=u}get font(){return this.style.font}set font(u){this.style.font=u}get alignment(){return this.style.alignment}set alignment(u){this.style.alignment=u}get border(){return this.style.border}set border(u){this.style.border=u}get fill(){return this.style.fill}set fill(u){this.style.fill=u}get protection(){return this.style.protection}set protection(u){this.style.protection=u}_mergeStyle(u,h,f){let m=u&&u.numFmt||h&&h.numFmt;m&&(f.numFmt=m);let g=u&&u.font||h&&h.font;g&&(f.font=g);let p=u&&u.alignment||h&&h.alignment;p&&(f.alignment=p);let b=u&&u.border||h&&h.border;b&&(f.border=b);let _=u&&u.fill||h&&h.fill;_&&(f.fill=_);let E=u&&u.protection||h&&h.protection;return E&&(f.protection=E),f}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===l.Types.Merge}merge(u,h){this._value.release(),this._value=c.create(l.Types.Merge,this,u),h||(this.style=u.style)}unmerge(){this.type===l.Types.Merge&&(this._value.release(),this._value=c.create(l.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(u){return this._value.type===l.Types.Merge&&this._value.isMergedTo(u)}get master(){return this.type===l.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===l.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(u){this.type!==l.Types.Merge?(this._value.release(),this._value=c.create(c.getType(u),this,u)):this._value.master.value=u}get note(){return this._comment&&this._comment.note}set note(u){this._comment=new a(u)}get text(){return this._value.toString()}get html(){return n.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(u){this.type===l.Types.String&&(this._value=c.create(l.Types.Hyperlink,this,{text:this._value.value,hyperlink:u}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){let{worksheet:u}=this._row;return{sheetName:u.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(u){this.names=[u]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(u){let{definedNames:h}=this.workbook;h.removeAllNames(this.fullAddress),u.forEach(f=>{h.addEx(this.fullAddress,f)})}addName(u){this.workbook.definedNames.addEx(this.fullAddress,u)}removeName(u){this.workbook.definedNames.removeEx(this.fullAddress,u)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(u){this._dataValidations.add(this.address,u)}get model(){let{model:u}=this._value;return u.style=this.style,this._comment&&(u.comment=this._comment.model),u}set model(u){if(this._value.release(),this._value=c.create(u.type,this),this._value.model=u,u.comment)switch(u.comment.type){case"note":this._comment=a.fromModel(u.comment)}u.style?this.style=u.style:this.style={}}}l.Types=o.ValueType;let c={getType:d=>d==null?l.Types.Null:d instanceof String||typeof d=="string"?l.Types.String:typeof d=="number"?l.Types.Number:typeof d=="boolean"?l.Types.Boolean:d instanceof Date?l.Types.Date:d.text&&d.hyperlink?l.Types.Hyperlink:d.formula||d.sharedFormula?l.Types.Formula:d.richText?l.Types.RichText:d.sharedString?l.Types.SharedString:d.error?l.Types.Error:l.Types.JSON,types:[{t:l.Types.Null,f:class{constructor(d){this.model={address:d.address,type:l.Types.Null}}get value(){return null}set value(d){}get type(){return l.Types.Null}get effectiveType(){return l.Types.Null}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return""}release(){}toString(){return""}}},{t:l.Types.Number,f:class{constructor(d,u){this.model={address:d.address,type:l.Types.Number,value:u}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return l.Types.Number}get effectiveType(){return l.Types.Number}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:l.Types.String,f:class{constructor(d,u){this.model={address:d.address,type:l.Types.String,value:u}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return l.Types.String}get effectiveType(){return l.Types.String}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:l.Types.Date,f:class{constructor(d,u){this.model={address:d.address,type:l.Types.Date,value:u}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return l.Types.Date}get effectiveType(){return l.Types.Date}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:l.Types.Hyperlink,f:class{constructor(d,u){this.model={address:d.address,type:l.Types.Hyperlink,text:u?u.text:void 0,hyperlink:u?u.hyperlink:void 0},u&&u.tooltip&&(this.model.tooltip=u.tooltip)}get value(){let d={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(d.tooltip=this.model.tooltip),d}set value(d){this.model={text:d.text,hyperlink:d.hyperlink},d.tooltip&&(this.model.tooltip=d.tooltip)}get text(){return this.model.text}set text(d){this.model.text=d}get hyperlink(){return this.model.hyperlink}set hyperlink(d){this.model.hyperlink=d}get type(){return l.Types.Hyperlink}get effectiveType(){return l.Types.Hyperlink}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:l.Types.Formula,f:class{constructor(d,u){this.cell=d,this.model={address:d.address,type:l.Types.Formula,shareType:u?u.shareType:void 0,ref:u?u.ref:void 0,formula:u?u.formula:void 0,sharedFormula:u?u.sharedFormula:void 0,result:u?u.result:void 0}}_copyModel(d){let u={},h=f=>{let m=d[f];m&&(u[f]=m)};return h("formula"),h("result"),h("ref"),h("shareType"),h("sharedFormula"),u}get value(){return this._copyModel(this.model)}set value(d){this.model=this._copyModel(d)}validate(d){switch(c.getType(d)){case l.Types.Null:case l.Types.String:case l.Types.Number:case l.Types.Date:break;case l.Types.Hyperlink:case l.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(d){this.model.formula=d}get formulaType(){return this.model.formula?o.FormulaType.Master:this.model.sharedFormula?o.FormulaType.Shared:o.FormulaType.None}get result(){return this.model.result}set result(d){this.model.result=d}get type(){return l.Types.Formula}get effectiveType(){let d=this.model.result;return d==null?o.ValueType.Null:d instanceof String||typeof d=="string"?o.ValueType.String:typeof d=="number"?o.ValueType.Number:d instanceof Date?o.ValueType.Date:d.text&&d.hyperlink?o.ValueType.Hyperlink:d.formula?o.ValueType.Formula:o.ValueType.Null}get address(){return this.model.address}set address(d){this.model.address=d}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){let{worksheet:d}=this.cell,u=d.findCell(this.model.sharedFormula);this._translatedFormula=u&&s(u.formula,u.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:l.Types.Merge,f:class{constructor(d,u){this.model={address:d.address,type:l.Types.Merge,master:u?u.address:void 0},this._master=u,u&&u.addMergeRef()}get value(){return this._master.value}set value(d){d instanceof l?(this._master&&this._master.releaseMergeRef(),d.addMergeRef(),this._master=d):this._master.value=d}isMergedTo(d){return d===this._master}get master(){return this._master}get type(){return l.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:l.Types.JSON,f:class{constructor(d,u){this.model={address:d.address,type:l.Types.String,value:JSON.stringify(u),rawValue:u}}get value(){return this.model.rawValue}set value(d){this.model.rawValue=d,this.model.value=JSON.stringify(d)}get type(){return l.Types.String}get effectiveType(){return l.Types.String}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:l.Types.SharedString,f:class{constructor(d,u){this.model={address:d.address,type:l.Types.SharedString,value:u}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return l.Types.SharedString}get effectiveType(){return l.Types.SharedString}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:l.Types.RichText,f:class{constructor(d,u){this.model={address:d.address,type:l.Types.String,value:u}}get value(){return this.model.value}set value(d){this.model.value=d}toString(){return this.model.value.richText.map(d=>d.text).join("")}get type(){return l.Types.RichText}get effectiveType(){return l.Types.RichText}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:l.Types.Boolean,f:class{constructor(d,u){this.model={address:d.address,type:l.Types.Boolean,value:u}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return l.Types.Boolean}get effectiveType(){return l.Types.Boolean}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:l.Types.Error,f:class{constructor(d,u){this.model={address:d.address,type:l.Types.Error,value:u}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return l.Types.Error}get effectiveType(){return l.Types.Error}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((d,u)=>(d[u.t]=u.f,d),[]),create(d,u,h){let f=this.types[d];if(!f)throw new Error("Could not create Value of type "+d);return new f(u,h)}};t.exports=l},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(e,t,r){"use strict";let i=e("../utils/under-dash"),n=e("./enums"),o=e("../utils/col-cache");class s{constructor(l,c,d){this._worksheet=l,this._number=c,d!==!1&&(this.defn=d)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return o.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(l){l?(this.key=l.key,this.width=l.width!==void 0?l.width:9,this.outlineLevel=l.outlineLevel,l.style?this.style=l.style:this.style={},this.header=l.header,this._hidden=!!l.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(l){l!==void 0?(this._header=l,this.headers.forEach((c,d)=>{this._worksheet.getCell(d+1,this.number).value=c})):this._header=void 0}get key(){return this._key}set key(l){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=l,l&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(l){this._hidden=l}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(l){this._outlineLevel=l}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(l){return this.width===l.width&&this.hidden===l.hidden&&this.outlineLevel===l.outlineLevel&&i.isEqual(this.style,l.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;let l=this.style;return!l||!(l.font||l.numFmt||l.alignment||l.border||l.fill||l.protection)}get headerCount(){return this.headers.length}eachCell(l,c){let d=this.number;c||(c=l,l=null),this._worksheet.eachRow(l,(u,h)=>{c(u.getCell(d),h)})}get values(){let l=[];return this.eachCell((c,d)=>{c&&c.type!==n.ValueType.Null&&(l[d]=c.value)}),l}set values(l){if(!l)return;let c=this.number,d=0;l.hasOwnProperty("0")&&(d=1),l.forEach((u,h)=>{this._worksheet.getCell(h+d,c).value=u})}_applyStyle(l,c){return this.style[l]=c,this.eachCell(d=>{d[l]=c}),c}get numFmt(){return this.style.numFmt}set numFmt(l){this._applyStyle("numFmt",l)}get font(){return this.style.font}set font(l){this._applyStyle("font",l)}get alignment(){return this.style.alignment}set alignment(l){this._applyStyle("alignment",l)}get protection(){return this.style.protection}set protection(l){this._applyStyle("protection",l)}get border(){return this.style.border}set border(l){this._applyStyle("border",l)}get fill(){return this.style.fill}set fill(l){this._applyStyle("fill",l)}static toModel(l){let c=[],d=null;return l&&l.forEach((u,h)=>{u.isDefault?d&&(d=null):d&&u.equivalentTo(d)?d.max=h+1:(d={min:h+1,max:h+1,width:u.width!==void 0?u.width:9,style:u.style,isCustomWidth:u.isCustomWidth,hidden:u.hidden,outlineLevel:u.outlineLevel,collapsed:u.collapsed},c.push(d))}),c.length?c:void 0}static fromModel(l,c){let d=[],u=1,h=0;for(c=(c=c||[]).sort(function(f,m){return f.min-m.min});h<c.length;){let f=c[h++];for(;u<f.min;)d.push(new s(l,u++));for(;u<=f.max;)d.push(new s(l,u++,f))}return d.length?d:null}}t.exports=s},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(e,t,r){"use strict";t.exports=class{constructor(i){this.model=i||{}}add(i,n){return this.model[i]=n}find(i){return this.model[i]}remove(i){this.model[i]=void 0}}},{}],6:[function(e,t,r){"use strict";let i=e("../utils/under-dash"),n=e("../utils/col-cache"),o=e("../utils/cell-matrix"),s=e("./range"),a=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;t.exports=class{constructor(){this.matrixMap={}}getMatrix(l){return this.matrixMap[l]||(this.matrixMap[l]=new o)}add(l,c){let d=n.decodeEx(l);this.addEx(d,c)}addEx(l,c){let d=this.getMatrix(c);if(l.top)for(let u=l.left;u<=l.right;u++)for(let h=l.top;h<=l.bottom;h++){let f={sheetName:l.sheetName,address:n.n2l(u)+h,row:h,col:u};d.addCellEx(f)}else d.addCellEx(l)}remove(l,c){let d=n.decodeEx(l);this.removeEx(d,c)}removeEx(l,c){this.getMatrix(c).removeCellEx(l)}removeAllNames(l){i.each(this.matrixMap,c=>{c.removeCellEx(l)})}forEach(l){i.each(this.matrixMap,(c,d)=>{c.forEach(u=>{l(d,u)})})}getNames(l){return this.getNamesEx(n.decodeEx(l))}getNamesEx(l){return i.map(this.matrixMap,(c,d)=>c.findCellEx(l)&&d).filter(Boolean)}_explore(l,c){c.mark=!1;let{sheetName:d}=c,u=new s(c.row,c.col,c.row,c.col,d),h,f;function m(p,b){let _=l.findCellAt(d,p,c.col);return!(!_||!_.mark)&&(u[b]=p,_.mark=!1,!0)}for(f=c.row-1;m(f,"top");f--);for(f=c.row+1;m(f,"bottom");f++);function g(p,b){let _=[];for(f=u.top;f<=u.bottom;f++){let E=l.findCellAt(d,f,p);if(!E||!E.mark)return!1;_.push(E)}u[b]=p;for(let E=0;E<_.length;E++)_[E].mark=!1;return!0}for(h=c.col-1;g(h,"left");h--);for(h=c.col+1;g(h,"right");h++);return u}getRanges(l,c){return(c=c||this.matrixMap[l])?(c.forEach(d=>{d.mark=!0}),{name:l,ranges:c.map(d=>d.mark&&this._explore(c,d)).filter(Boolean).map(d=>d.$shortRange)}):{name:l,ranges:[]}}normaliseMatrix(l,c){l.forEachInSheet(c,(d,u,h)=>{d&&(d.row===u&&d.col===h||(d.row=u,d.col=h,d.address=n.n2l(h)+u))})}spliceRows(l,c,d,u){i.each(this.matrixMap,h=>{h.spliceRows(l,c,d,u),this.normaliseMatrix(h,l)})}spliceColumns(l,c,d,u){i.each(this.matrixMap,h=>{h.spliceColumns(l,c,d,u),this.normaliseMatrix(h,l)})}get model(){return i.map(this.matrixMap,(l,c)=>this.getRanges(c,l)).filter(l=>l.ranges.length)}set model(l){let c=this.matrixMap={};l.forEach(d=>{let u=c[d.name]=new o;d.ranges.forEach(h=>{a.test(h.split("!").pop()||"")&&u.addCell(h)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(e,t,r){"use strict";t.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(e,t,r){"use strict";let i=e("../utils/col-cache"),n=e("./anchor");t.exports=class{constructor(o,s){this.worksheet=o,this.model=s}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(o){let{type:s,imageId:a,range:l,hyperlinks:c}=o;if(this.type=s,this.imageId=a,s==="image")if(typeof l=="string"){let d=i.decode(l);this.range={tl:new n(this.worksheet,{col:d.left,row:d.top},-1),br:new n(this.worksheet,{col:d.right,row:d.bottom},0),editAs:"oneCell"}}else this.range={tl:new n(this.worksheet,l.tl,0),br:l.br&&new n(this.worksheet,l.br,0),ext:l.ext,editAs:l.editAs,hyperlinks:c||l.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(e,t,r){"use strict";let i=e("../utils/under-dash");class n{constructor(s){this.note=s}get model(){let s=null;switch(typeof this.note){case"string":s={type:"note",note:{texts:[{text:this.note}]}};break;default:s={type:"note",note:this.note}}return i.deepMerge({},n.DEFAULT_CONFIGS,s)}set model(s){let{note:a}=s,{texts:l}=a;l.length===1&&Object.keys(l[0]).length===1?this.note=l[0].text:this.note=a}static fromModel(s){let a=new n;return a.model=s,a}}n.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},t.exports=n},{"../utils/under-dash":26}],10:[function(e,t,r){"use strict";let i=e("../utils/col-cache");class n{constructor(){this.decode(arguments)}setTLBR(s,a,l,c,d){if(arguments.length<4){let u=i.decodeAddress(s),h=i.decodeAddress(a);this.model={top:Math.min(u.row,h.row),left:Math.min(u.col,h.col),bottom:Math.max(u.row,h.row),right:Math.max(u.col,h.col),sheetName:l},this.setTLBR(u.row,u.col,h.row,h.col,d)}else this.model={top:Math.min(s,l),left:Math.min(a,c),bottom:Math.max(s,l),right:Math.max(a,c),sheetName:d}}decode(s){switch(s.length){case 5:this.setTLBR(s[0],s[1],s[2],s[3],s[4]);break;case 4:this.setTLBR(s[0],s[1],s[2],s[3]);break;case 3:this.setTLBR(s[0],s[1],s[2]);break;case 2:this.setTLBR(s[0],s[1]);break;case 1:{let a=s[0];if(a instanceof n)this.model={top:a.model.top,left:a.model.left,bottom:a.model.bottom,right:a.model.right,sheetName:a.sheetName};else if(a instanceof Array)this.decode(a);else if(a.top&&a.left&&a.bottom&&a.right)this.model={top:a.top,left:a.left,bottom:a.bottom,right:a.right,sheetName:a.sheetName};else{let l=i.decodeEx(a);l.top?this.model={top:l.top,left:l.left,bottom:l.bottom,right:l.right,sheetName:l.sheetName}:this.model={top:l.row,left:l.col,bottom:l.row,right:l.col,sheetName:l.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+s.length)}}get top(){return this.model.top||1}set top(s){this.model.top=s}get left(){return this.model.left||1}set left(s){this.model.left=s}get bottom(){return this.model.bottom||1}set bottom(s){this.model.bottom=s}get right(){return this.model.right||1}set right(s){this.model.right=s}get sheetName(){return this.model.sheetName}set sheetName(s){this.model.sheetName=s}get _serialisedSheetName(){let{sheetName:s}=this.model;return s?/^[a-zA-Z0-9]*$/.test(s)?s+"!":`'${s}'!`:""}expand(s,a,l,c){(!this.model.top||s<this.top)&&(this.top=s),(!this.model.left||a<this.left)&&(this.left=a),(!this.model.bottom||l>this.bottom)&&(this.bottom=l),(!this.model.right||c>this.right)&&(this.right=c)}expandRow(s){if(s){let{dimensions:a,number:l}=s;a&&this.expand(l,a.min,l,a.max)}}expandToAddress(s){let a=i.decodeEx(s);this.expand(a.row,a.col,a.row,a.col)}get tl(){return i.n2l(this.left)+this.top}get $t$l(){return`$${i.n2l(this.left)}$${this.top}`}get br(){return i.n2l(this.right)+this.bottom}get $b$r(){return`$${i.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(s){return(!s.sheetName||!this.sheetName||s.sheetName===this.sheetName)&&!(s.bottom<this.top)&&!(s.top>this.bottom)&&!(s.right<this.left)&&!(s.left>this.right)}contains(s){let a=i.decodeEx(s);return this.containsEx(a)}containsEx(s){return(!s.sheetName||!this.sheetName||s.sheetName===this.sheetName)&&s.row>=this.top&&s.row<=this.bottom&&s.col>=this.left&&s.col<=this.right}forEachAddress(s){for(let a=this.left;a<=this.right;a++)for(let l=this.top;l<=this.bottom;l++)s(i.encodeAddress(l,a),l,a)}}t.exports=n},{"../utils/col-cache":19}],11:[function(e,t,r){"use strict";let i=e("../utils/under-dash"),n=e("./enums"),o=e("../utils/col-cache"),s=e("./cell");t.exports=class{constructor(a,l){this._worksheet=a,this._number=l,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(a){return this._cells[a-1]}getCellEx(a){let l=this._cells[a.col-1];if(!l){let c=this._worksheet.getColumn(a.col);l=new s(this,c,a.address),this._cells[a.col-1]=l}return l}getCell(a){if(typeof a=="string"){let l=this._worksheet.getColumnKey(a);a=l?l.number:o.l2n(a)}return this._cells[a-1]||this.getCellEx({address:o.encodeAddress(this._number,a),row:this._number,col:a})}splice(a,l){let c=a+l;for(var d=arguments.length,u=new Array(d>2?d-2:0),h=2;h<d;h++)u[h-2]=arguments[h];let f=u.length-l,m=this._cells.length,g,p,b;if(f<0)for(g=a+u.length;g<=m;g++)b=this._cells[g-1],p=this._cells[g-f-1],p?(b=this.getCell(g),b.value=p.value,b.style=p.style,b._comment=p._comment):b&&(b.value=null,b.style={},b._comment=void 0);else if(f>0)for(g=m;g>=c;g--)p=this._cells[g-1],p?(b=this.getCell(g+f),b.value=p.value,b.style=p.style,b._comment=p._comment):this._cells[g+f-1]=void 0;for(g=0;g<u.length;g++)b=this.getCell(a+g),b.value=u[g],b.style={},b._comment=void 0}eachCell(a,l){if(l||(l=a,a=null),a&&a.includeEmpty){let c=this._cells.length;for(let d=1;d<=c;d++)l(this.getCell(d),d)}else this._cells.forEach((c,d)=>{c&&c.type!==n.ValueType.Null&&l(c,d+1)})}addPageBreak(a,l){let c=this._worksheet,d=Math.max(0,a-1)||0,u=Math.max(0,l-1)||16838,h={id:this._number,max:u,man:1};d&&(h.min=d),c.rowBreaks.push(h)}get values(){let a=[];return this._cells.forEach(l=>{l&&l.type!==n.ValueType.Null&&(a[l.col]=l.value)}),a}set values(a){if(this._cells=[],a)if(a instanceof Array){let l=0;a.hasOwnProperty("0")&&(l=1),a.forEach((c,d)=>{c!==void 0&&(this.getCellEx({address:o.encodeAddress(this._number,d+l),row:this._number,col:d+l}).value=c)})}else this._worksheet.eachColumnKey((l,c)=>{a[c]!==void 0&&(this.getCellEx({address:o.encodeAddress(this._number,l.number),row:this._number,col:l.number}).value=a[c])})}get hasValues(){return i.some(this._cells,a=>a&&a.type!==n.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let a=0;return this.eachCell(()=>{a++}),a}get dimensions(){let a=0,l=0;return this._cells.forEach(c=>{c&&c.type!==n.ValueType.Null&&((!a||a>c.col)&&(a=c.col),l<c.col&&(l=c.col))}),a>0?{min:a,max:l}:null}_applyStyle(a,l){return this.style[a]=l,this._cells.forEach(c=>{c&&(c[a]=l)}),l}get numFmt(){return this.style.numFmt}set numFmt(a){this._applyStyle("numFmt",a)}get font(){return this.style.font}set font(a){this._applyStyle("font",a)}get alignment(){return this.style.alignment}set alignment(a){this._applyStyle("alignment",a)}get protection(){return this.style.protection}set protection(a){this._applyStyle("protection",a)}get border(){return this.style.border}set border(a){this._applyStyle("border",a)}get fill(){return this.style.fill}set fill(a){this._applyStyle("fill",a)}get hidden(){return!!this._hidden}set hidden(a){this._hidden=a}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(a){this._outlineLevel=a}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){let a=[],l=0,c=0;return this._cells.forEach(d=>{if(d){let u=d.model;u&&((!l||l>d.col)&&(l=d.col),c<d.col&&(c=d.col),a.push(u))}}),this.height||a.length?{cells:a,number:this.number,min:l,max:c,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(a){if(a.number!==this._number)throw new Error("Invalid row number in model");let l;this._cells=[],a.cells.forEach(c=>{switch(c.type){case s.Types.Merge:break;default:{let d;if(c.address)d=o.decodeAddress(c.address);else if(l){let{row:u}=l,h=l.col+1;d={row:u,col:h,address:o.encodeAddress(u,h),$col$row:`$${o.n2l(h)}$${u}`}}l=d,this.getCellEx(d).model=c;break}}}),a.height?this.height=a.height:delete this.height,this.hidden=a.hidden,this.outlineLevel=a.outlineLevel||0,this.style=a.style&&JSON.parse(JSON.stringify(a.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(e,t,r){"use strict";let i=e("../utils/col-cache");class n{constructor(s,a,l){this.table=s,this.column=a,this.index=l}_set(s,a){this.table.cacheState(),this.column[s]=a}get name(){return this.column.name}set name(s){this._set("name",s)}get filterButton(){return this.column.filterButton}set filterButton(s){this.column.filterButton=s}get style(){return this.column.style}set style(s){this.column.style=s}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(s){this._set("totalsRowLabel",s)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(s){this._set("totalsRowFunction",s)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(s){this._set("totalsRowResult",s)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(s){this._set("totalsRowFormula",s)}}t.exports=class{constructor(o,s){this.worksheet=o,s&&(this.table=s,this.validate(),this.store())}getFormula(o){switch(o.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${o.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${o.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${o.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${o.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${o.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${o.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${o.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${o.name}])`;case"custom":return o.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+o.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){let{table:o}=this,s=(f,m,g)=>{f[m]===void 0&&(f[m]=g)};s(o,"headerRow",!0),s(o,"totalsRow",!1),s(o,"style",{}),s(o.style,"theme","TableStyleMedium2"),s(o.style,"showFirstColumn",!1),s(o.style,"showLastColumn",!1),s(o.style,"showRowStripes",!1),s(o.style,"showColumnStripes",!1);let a=(f,m)=>{if(!f)throw new Error(m)};a(o.ref,"Table must have ref"),a(o.columns,"Table must have column definitions"),a(o.rows,"Table must have row definitions"),o.tl=i.decodeAddress(o.ref);let{row:l,col:c}=o.tl;a(l>0,"Table must be on valid row"),a(c>0,"Table must be on valid col");let{width:d,filterHeight:u,tableHeight:h}=this;o.autoFilterRef=i.encode(l,c,l+u-1,c+d-1),o.tableRef=i.encode(l,c,l+h-1,c+d-1),o.columns.forEach((f,m)=>{a(f.name,`Column ${m} must have a name`),m===0?s(f,"totalsRowLabel","Total"):(s(f,"totalsRowFunction","none"),f.totalsRowFormula=this.getFormula(f))})}store(){let o=(u,h)=>{h&&Object.keys(h).forEach(f=>{u[f]=h[f]})},{worksheet:s,table:a}=this,{row:l,col:c}=a.tl,d=0;if(a.headerRow){let u=s.getRow(l+d++);a.columns.forEach((h,f)=>{let{style:m,name:g}=h,p=u.getCell(c+f);p.value=g,o(p,m)})}if(a.rows.forEach(u=>{let h=s.getRow(l+d++);u.forEach((f,m)=>{let g=h.getCell(c+m);g.value=f,o(g,a.columns[m].style)})}),a.totalsRow){let u=s.getRow(l+d++);a.columns.forEach((h,f)=>{let m=u.getCell(c+f);if(f===0)m.value=h.totalsRowLabel;else{let g=this.getFormula(h);m.value=g?{formula:h.totalsRowFormula,result:h.totalsRowResult}:null}o(m,h.style)})}}load(o){let{table:s}=this,{row:a,col:l}=s.tl,c=0;if(s.headerRow){let d=o.getRow(a+c++);s.columns.forEach((u,h)=>{d.getCell(l+h).value=u.name})}if(s.rows.forEach(d=>{let u=o.getRow(a+c++);d.forEach((h,f)=>{u.getCell(l+f).value=h})}),s.totalsRow){let d=o.getRow(a+c++);s.columns.forEach((u,h)=>{let f=d.getCell(l+h);h===0?f.value=u.totalsRowLabel:this.getFormula(u)&&(f.value={formula:u.totalsRowFormula,result:u.totalsRowResult})})}}get model(){return this.table}set model(o){this.table=o}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();let o=i.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let s=0;s<this._cache.tableHeight;s++){let a=this.worksheet.getRow(o.row+s);for(let l=0;l<this._cache.width;l++)a.getCell(o.col+l).value=null}else{for(let s=this.tableHeight;s<this._cache.tableHeight;s++){let a=this.worksheet.getRow(o.row+s);for(let l=0;l<this._cache.width;l++)a.getCell(o.col+l).value=null}for(let s=0;s<this.tableHeight;s++){let a=this.worksheet.getRow(o.row+s);for(let l=this.width;l<this._cache.width;l++)a.getCell(o.col+l).value=null}}this.store()}addRow(o,s){this.cacheState(),s===void 0?this.table.rows.push(o):this.table.rows.splice(s,0,o)}removeRows(o){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(o,s)}getColumn(o){let s=this.table.columns[o];return new n(this,s,o)}addColumn(o,s,a){this.cacheState(),a===void 0?(this.table.columns.push(o),this.table.rows.forEach((l,c)=>{l.push(s[c])})):(this.table.columns.splice(a,0,o),this.table.rows.forEach((l,c)=>{l.splice(a,0,s[c])}))}removeColumns(o){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(o,s),this.table.rows.forEach(a=>{a.splice(o,s)})}_assign(o,s,a){this.cacheState(),o[s]=a}get ref(){return this.table.ref}set ref(o){this._assign(this.table,"ref",o)}get name(){return this.table.name}set name(o){this.table.name=o}get displayName(){return this.table.displyName||this.table.name}set displayNamename(o){this.table.displayName=o}get headerRow(){return this.table.headerRow}set headerRow(o){this._assign(this.table,"headerRow",o)}get totalsRow(){return this.table.totalsRow}set totalsRow(o){this._assign(this.table,"totalsRow",o)}get theme(){return this.table.style.name}set theme(o){this.table.style.name=o}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(o){this.table.style.showFirstColumn=o}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(o){this.table.style.showLastColumn=o}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(o){this.table.style.showRowStripes=o}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(o){this.table.style.showColumnStripes=o}}},{"../utils/col-cache":19}],13:[function(e,t,r){"use strict";let i=e("./worksheet"),n=e("./defined-names"),o=e("../xlsx/xlsx"),s=e("../csv/csv");t.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new n}get xlsx(){return this._xlsx||(this._xlsx=new o(this)),this._xlsx}get csv(){return this._csv||(this._csv=new s(this)),this._csv}get nextId(){for(let a=1;a<this._worksheets.length;a++)if(!this._worksheets[a])return a;return this._worksheets.length||1}addWorksheet(a,l){let c=this.nextId;l&&(typeof l=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),l={properties:{tabColor:{argb:l}}}):(l.argb||l.theme||l.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),l={properties:{tabColor:l}}));let d=this._worksheets.reduce((f,m)=>(m&&m.orderNo)>f?m.orderNo:f,0),u=Object.assign({},l,{id:c,name:a,orderNo:d+1,workbook:this}),h=new i(u);return this._worksheets[c]=h,h}removeWorksheetEx(a){delete this._worksheets[a.id]}removeWorksheet(a){let l=this.getWorksheet(a);l&&l.destroy()}getWorksheet(a){return a===void 0?this._worksheets.find(Boolean):typeof a=="number"?this._worksheets[a]:typeof a=="string"?this._worksheets.find(l=>l&&l.name===a):void 0}get worksheets(){return this._worksheets.slice(1).sort((a,l)=>a.orderNo-l.orderNo).filter(Boolean)}eachSheet(a){this.worksheets.forEach(l=>{a(l,l.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(a){let l=this.media.length;return this.media.push(Object.assign({},a,{type:"image"})),l}getImage(a){return this.media[a]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(a=>a.model),sheets:this.worksheets.map(a=>a.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(a){this.creator=a.creator,this.lastModifiedBy=a.lastModifiedBy,this.lastPrinted=a.lastPrinted,this.created=a.created,this.modified=a.modified,this.company=a.company,this.manager=a.manager,this.title=a.title,this.subject=a.subject,this.keywords=a.keywords,this.category=a.category,this.description=a.description,this.language=a.language,this.revision=a.revision,this.contentStatus=a.contentStatus,this.properties=a.properties,this.calcProperties=a.calcProperties,this._worksheets=[],a.worksheets.forEach(l=>{let{id:c,name:d,state:u}=l,h=a.sheets&&a.sheets.findIndex(f=>f.id===c);(this._worksheets[c]=new i({id:c,name:d,orderNo:h,state:u,workbook:this})).model=l}),this._definedNames.model=a.definedNames,this.views=a.views,this._themes=a.themes,this.media=a.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(e,t,r){"use strict";let i=e("../utils/under-dash"),n=e("../utils/col-cache"),o=e("./range"),s=e("./row"),a=e("./column"),l=e("./enums"),c=e("./image"),d=e("./table"),u=e("./data-validations"),h=e("../utils/encryptor"),{copyStyle:f}=e("../utils/copy-style");t.exports=class{constructor(m){m=m||{},this._workbook=m.workbook,this.id=m.id,this.orderNo=m.orderNo,this.name=m.name,this.state=m.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},m.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!m.pageSetup||!m.pageSetup.fitToWidth&&!m.pageSetup.fitToHeight||m.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},m.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},m.headerFooter),this.dataValidations=new u,this.views=m.views||[],this.autoFilter=m.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(m){if(m===void 0&&(m="sheet"+this.id),this._name!==m){if(typeof m!="string")throw new Error("The name has to be a string.");if(m==="")throw new Error("The name can't be empty.");if(m==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(m))throw new Error(`Worksheet name ${m} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(m))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+m);if(m&&m.length>31&&(console.warn(`Worksheet name ${m} exceeds 31 chars. This will be truncated`),m=m.substring(0,31)),this._workbook._worksheets.find(g=>g&&g.name.toLowerCase()===m.toLowerCase()))throw new Error("Worksheet name already exists: "+m);this._name=m}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){let m=new o;return this._rows.forEach(g=>{if(g){let p=g.dimensions;p&&m.expand(g.number,p.min,g.number,p.max)}}),m}get columns(){return this._columns}set columns(m){this._headerRowCount=m.reduce((b,_)=>{let E=(_.header?1:_.headers&&_.headers.length)||0;return Math.max(b,E)},0);let g=1,p=this._columns=[];m.forEach(b=>{let _=new a(this,g++,!1);p.push(_),_.defn=b})}getColumnKey(m){return this._keys[m]}setColumnKey(m,g){this._keys[m]=g}deleteColumnKey(m){delete this._keys[m]}eachColumnKey(m){i.each(this._keys,m)}getColumn(m){if(typeof m=="string"){let g=this._keys[m];if(g)return g;m=n.l2n(m)}if(this._columns||(this._columns=[]),m>this._columns.length){let g=this._columns.length+1;for(;g<=m;)this._columns.push(new a(this,g++))}return this._columns[m-1]}spliceColumns(m,g){let p=this._rows.length;for(var b=arguments.length,_=new Array(b>2?b-2:0),E=2;E<b;E++)_[E-2]=arguments[E];if(_.length>0)for(let F=0;F<p;F++){let L=[m,g];_.forEach(W=>{L.push(W[F]||null)});let $=this.getRow(F+1);$.splice.apply($,L)}else this._rows.forEach(F=>{F&&F.splice(m,g)});let O=_.length-g,V=m+g,H=this._columns.length;if(O<0)for(let F=m+_.length;F<=H;F++)this.getColumn(F).defn=this.getColumn(F-O).defn;else if(O>0)for(let F=H;F>=V;F--)this.getColumn(F+O).defn=this.getColumn(F).defn;for(let F=m;F<m+_.length;F++)this.getColumn(F).defn=null;this.workbook.definedNames.spliceColumns(this.name,m,g,_.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let m=0;return this.eachRow(g=>{m=Math.max(m,g.cellCount)}),m}get actualColumnCount(){let m=[],g=0;return this.eachRow(p=>{p.eachCell(b=>{let{col:_}=b;m[_]||(m[_]=!0,g++)})}),g}_commitRow(){}get _lastRowNumber(){let m=this._rows,g=m.length;for(;g>0&&m[g-1]===void 0;)g--;return g}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(m){return this._rows[m-1]}findRows(m,g){return this._rows.slice(m-1,m-1+g)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let m=0;return this.eachRow(()=>{m++}),m}getRow(m){let g=this._rows[m-1];return g||(g=this._rows[m-1]=new s(this,m)),g}getRows(m,g){if(g<1)return;let p=[];for(let b=m;b<m+g;b++)p.push(this.getRow(b));return p}addRow(m){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n",p=this._nextRow,b=this.getRow(p);return b.values=m,this._setStyleOption(p,g[0]==="i"?g:"n"),b}addRows(m){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n",p=[];return m.forEach(b=>{p.push(this.addRow(b,g))}),p}insertRow(m,g){let p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(m,0,g),this._setStyleOption(m,p),this.getRow(m)}insertRows(m,g){let p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(m,0,...g),p!=="n")for(let b=0;b<g.length;b++)p[0]==="o"&&this.findRow(g.length+m+b)!==void 0?this._copyStyle(g.length+m+b,m+b,p[1]==="+"):p[0]==="i"&&this.findRow(m-1)!==void 0&&this._copyStyle(m-1,m+b,p[1]==="+");return this.getRows(m,g.length)}_setStyleOption(m){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";g[0]==="o"&&this.findRow(m+1)!==void 0?this._copyStyle(m+1,m,g[1]==="+"):g[0]==="i"&&this.findRow(m-1)!==void 0&&this._copyStyle(m-1,m,g[1]==="+")}_copyStyle(m,g){let p=arguments.length>2&&arguments[2]!==void 0&&arguments[2],b=this.getRow(m),_=this.getRow(g);_.style=f(b.style),b.eachCell({includeEmpty:p},(E,O)=>{_.getCell(O).style=f(E.style)}),_.height=b.height}duplicateRow(m,g){let p=arguments.length>2&&arguments[2]!==void 0&&arguments[2],b=this._rows[m-1],_=new Array(g).fill(b.values);this.spliceRows(m+1,p?0:g,..._);for(let E=0;E<g;E++){let O=this._rows[m+E];O.style=b.style,O.height=b.height,b.eachCell({includeEmpty:!0},(V,H)=>{O.getCell(H).style=V.style})}}spliceRows(m,g){let p=m+g;for(var b=arguments.length,_=new Array(b>2?b-2:0),E=2;E<b;E++)_[E-2]=arguments[E];let O=_.length,V=O-g,H=this._rows.length,F,L;if(V<0)for(m===H&&(this._rows[H-1]=void 0),F=p;F<=H;F++)if(L=this._rows[F-1],L){let $=this.getRow(F+V);$.values=L.values,$.style=L.style,$.height=L.height,L.eachCell({includeEmpty:!0},(W,x)=>{$.getCell(x).style=W.style}),this._rows[F-1]=void 0}else this._rows[F+V-1]=void 0;else if(V>0)for(F=H;F>=p;F--)if(L=this._rows[F-1],L){let $=this.getRow(F+V);$.values=L.values,$.style=L.style,$.height=L.height,L.eachCell({includeEmpty:!0},(W,x)=>{if($.getCell(x).style=W.style,W._value.constructor.name==="MergeValue"){let R=this.getRow(W._row._number+O).getCell(x),B=W._value._master,v=this.getRow(B._row._number+O).getCell(B._column._number);R.merge(v)}})}else this._rows[F+V-1]=void 0;for(F=0;F<O;F++){let $=this.getRow(m+F);$.style={},$.values=_[F]}this.workbook.definedNames.spliceRows(this.name,m,g,O)}eachRow(m,g){if(g||(g=m,m=void 0),m&&m.includeEmpty){let p=this._rows.length;for(let b=1;b<=p;b++)g(this.getRow(b),b)}else this._rows.forEach(p=>{p&&p.hasValues&&g(p,p.number)})}getSheetValues(){let m=[];return this._rows.forEach(g=>{g&&(m[g.number]=g.values)}),m}findCell(m,g){let p=n.getAddress(m,g),b=this._rows[p.row-1];return b?b.findCell(p.col):void 0}getCell(m,g){let p=n.getAddress(m,g);return this.getRow(p.row).getCellEx(p)}mergeCells(){for(var m=arguments.length,g=new Array(m),p=0;p<m;p++)g[p]=arguments[p];let b=new o(g);this._mergeCellsInternal(b)}mergeCellsWithoutStyle(){for(var m=arguments.length,g=new Array(m),p=0;p<m;p++)g[p]=arguments[p];let b=new o(g);this._mergeCellsInternal(b,!0)}_mergeCellsInternal(m,g){i.each(this._merges,b=>{if(b.intersects(m))throw new Error("Cannot merge already merged cells")});let p=this.getCell(m.top,m.left);for(let b=m.top;b<=m.bottom;b++)for(let _=m.left;_<=m.right;_++)(b>m.top||_>m.left)&&this.getCell(b,_).merge(p,g);this._merges[p.address]=m}_unMergeMaster(m){let g=this._merges[m.address];if(g){for(let p=g.top;p<=g.bottom;p++)for(let b=g.left;b<=g.right;b++)this.getCell(p,b).unmerge();delete this._merges[m.address]}}get hasMerges(){return i.some(this._merges,Boolean)}unMergeCells(){for(var m=arguments.length,g=new Array(m),p=0;p<m;p++)g[p]=arguments[p];let b=new o(g);for(let _=b.top;_<=b.bottom;_++)for(let E=b.left;E<=b.right;E++){let O=this.findCell(_,E);O&&(O.type===l.ValueType.Merge?this._unMergeMaster(O.master):this._merges[O.address]&&this._unMergeMaster(O))}}fillFormula(m,g,p){let b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared",_=n.decode(m),{top:E,left:O,bottom:V,right:H}=_,F=H-O+1,L=n.encodeAddress(E,O),$=b==="shared",W;W=typeof p=="function"?p:Array.isArray(p)?Array.isArray(p[0])?(R,B)=>p[R-E][B-O]:(R,B)=>p[(R-E)*F+(B-O)]:()=>{};let x=!0;for(let R=E;R<=V;R++)for(let B=O;B<=H;B++)x?(this.getCell(R,B).value={shareType:b,formula:g,ref:m,result:W(R,B)},x=!1):this.getCell(R,B).value=$?{sharedFormula:L,result:W(R,B)}:W(R,B)}addImage(m,g){let p={type:"image",imageId:m,range:g};this._media.push(new c(this,p))}getImages(){return this._media.filter(m=>m.type==="image")}addBackgroundImage(m){let g={type:"background",imageId:m};this._media.push(new c(this,g))}getBackgroundImageId(){let m=this._media.find(g=>g.type==="background");return m&&m.imageId}protect(m,g){return new Promise(p=>{this.sheetProtection={sheet:!0},g&&"spinCount"in g&&(g.spinCount=Number.isFinite(g.spinCount)?Math.round(Math.max(0,g.spinCount)):1e5),m&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=h.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=g&&"spinCount"in g?g.spinCount:1e5,this.sheetProtection.hashValue=h.convertPasswordToHash(m,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),g&&(this.sheetProtection=Object.assign(this.sheetProtection,g),!m&&"spinCount"in g&&delete this.sheetProtection.spinCount),p()})}unprotect(){this.sheetProtection=null}addTable(m){let g=new d(this,m);return this.tables[m.name]=g,g}getTable(m){return this.tables[m]}removeTable(m){delete this.tables[m]}getTables(){return Object.values(this.tables)}addConditionalFormatting(m){this.conditionalFormattings.push(m)}removeConditionalFormatting(m){typeof m=="number"?this.conditionalFormattings.splice(m,1):this.conditionalFormattings=m instanceof Function?this.conditionalFormattings.filter(m):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(m){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=m}get model(){let m={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(b=>b.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(b=>b.model),conditionalFormattings:this.conditionalFormattings};m.cols=a.toModel(this.columns);let g=m.rows=[],p=m.dimensions=new o;return this._rows.forEach(b=>{let _=b&&b.model;_&&(p.expand(_.number,_.min,_.number,_.max),g.push(_))}),m.merges=[],i.each(this._merges,b=>{m.merges.push(b.range)}),m}_parseRows(m){this._rows=[],m.rows.forEach(g=>{let p=new s(this,g.number);this._rows[p.number-1]=p,p.model=g})}_parseMergeCells(m){i.each(m.mergeCells,g=>{this.mergeCellsWithoutStyle(g)})}set model(m){this.name=m.name,this._columns=a.fromModel(this,m.cols),this._parseRows(m),this._parseMergeCells(m),this.dataValidations=new u(m.dataValidations),this.properties=m.properties,this.pageSetup=m.pageSetup,this.headerFooter=m.headerFooter,this.views=m.views,this.autoFilter=m.autoFilter,this._media=m.media.map(g=>new c(this,g)),this.sheetProtection=m.sheetProtection,this.tables=m.tables.reduce((g,p)=>{let b=new d;return b.model=p,g[p.name]=b,g},{}),this.conditionalFormattings=m.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(e,t,r){"use strict";e("core-js/modules/es.promise"),e("core-js/modules/es.promise.finally"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.values"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.async-iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.find-index"),e("core-js/modules/es.array.find"),e("core-js/modules/es.string.from-code-point"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.number.is-nan"),e("regenerator-runtime/runtime");let i={Workbook:e("./doc/workbook")},n=e("./doc/enums");Object.keys(n).forEach(o=>{i[o]=n[o]}),t.exports=i},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(e,t,r){"use strict";let i=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");r.bufferToString=function(n){return typeof n=="string"?n:i?i.decode(n):n.toString()}},{}],17:[function(e,t,r){"use strict";let i=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:n}=e("buffer");r.stringToBuffer=function(o){return typeof o!="string"?o:i?n.from(i.encode(o).buffer):n.from(o)}},{buffer:220}],18:[function(e,t,r){"use strict";let i=e("./under-dash"),n=e("./col-cache");t.exports=class{constructor(o){this.template=o,this.sheets={}}addCell(o){this.addCellEx(n.decodeEx(o))}getCell(o){return this.findCellEx(n.decodeEx(o),!0)}findCell(o){return this.findCellEx(n.decodeEx(o),!1)}findCellAt(o,s,a){let l=this.sheets[o],c=l&&l[s];return c&&c[a]}addCellEx(o){if(o.top)for(let s=o.top;s<=o.bottom;s++)for(let a=o.left;a<=o.right;a++)this.getCellAt(o.sheetName,s,a);else this.findCellEx(o,!0)}getCellEx(o){return this.findCellEx(o,!0)}findCellEx(o,s){let a=this.findSheet(o,s),l=this.findSheetRow(a,o,s);return this.findRowCell(l,o,s)}getCellAt(o,s,a){let l=this.sheets[o]||(this.sheets[o]=[]),c=l[s]||(l[s]=[]);return c[a]||(c[a]={sheetName:o,address:n.n2l(a)+s,row:s,col:a})}removeCellEx(o){let s=this.findSheet(o);if(!s)return;let a=this.findSheetRow(s,o);a&&delete a[o.col]}forEachInSheet(o,s){let a=this.sheets[o];a&&a.forEach((l,c)=>{l&&l.forEach((d,u)=>{d&&s(d,c,u)})})}forEach(o){i.each(this.sheets,(s,a)=>{this.forEachInSheet(a,o)})}map(o){let s=[];return this.forEach(a=>{s.push(o(a))}),s}findSheet(o,s){let a=o.sheetName;return this.sheets[a]?this.sheets[a]:s?this.sheets[a]=[]:void 0}findSheetRow(o,s,a){let{row:l}=s;return o&&o[l]?o[l]:a?o[l]=[]:void 0}findRowCell(o,s,a){let{col:l}=s;return o&&o[l]?o[l]:a?o[l]=this.template?Object.assign(s,JSON.parse(JSON.stringify(this.template))):s:void 0}spliceRows(o,s,a,l){let c=this.sheets[o];if(c){let d=[];for(let u=0;u<l;u++)d.push([]);c.splice(s,a,...d)}}spliceColumns(o,s,a,l){let c=this.sheets[o];if(c){let d=[];for(let u=0;u<l;u++)d.push(null);i.each(c,u=>{u.splice(s,a,...d)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(e,t,r){"use strict";let i=/^[A-Z]+\d+$/,n={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:o=>o<=26?1:o<=676?2:3,_fill(o){let s,a,l,c,d,u=1;if(o>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&o>=1){for(;u<=26;)s=this._dictionary[u-1],this._n2l[u]=s,this._l2n[s]=u,u++;this._l2nFill=1}if(this._l2nFill<2&&o>=2){for(u=27;u<=702;)a=u-27,l=a%26,c=Math.floor(a/26),s=this._dictionary[c]+this._dictionary[l],this._n2l[u]=s,this._l2n[s]=u,u++;this._l2nFill=2}if(this._l2nFill<3&&o>=3){for(u=703;u<=16384;)a=u-703,l=a%26,c=Math.floor(a/26)%26,d=Math.floor(a/676),s=this._dictionary[d]+this._dictionary[c]+this._dictionary[l],this._n2l[u]=s,this._l2n[s]=u,u++;this._l2nFill=3}},l2n(o){if(this._l2n[o]||this._fill(o.length),!this._l2n[o])throw new Error("Out of bounds. Invalid column letter: "+o);return this._l2n[o]},n2l(o){if(o<1||o>16384)throw new Error(o+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[o]||this._fill(this._level(o)),this._n2l[o]},_hash:{},validateAddress(o){if(!i.test(o))throw new Error("Invalid Address: "+o);return!0},decodeAddress(o){let s=o.length<5&&this._hash[o];if(s)return s;let a=!1,l="",c=0,d=!1,u="",h=0;for(let m,g=0;g<o.length;g++)if(m=o.charCodeAt(g),!d&&m>=65&&m<=90)a=!0,l+=o[g],c=26*c+m-64;else if(m>=48&&m<=57)d=!0,u+=o[g],h=10*h+m-48;else if(d&&a&&m!==36)break;if(a){if(c>16384)throw new Error("Out of bounds. Invalid column letter: "+l)}else c=void 0;d||(h=void 0);let f={address:o=l+u,col:c,row:h,$col$row:`$${l}$${u}`};return c<=100&&h<=100&&(this._hash[o]=f,this._hash[f.$col$row]=f),f},getAddress(o,s){if(s){let a=this.n2l(s)+o;return this.decodeAddress(a)}return this.decodeAddress(o)},decode(o){let s=o.split(":");if(s.length===2){let a=this.decodeAddress(s[0]),l=this.decodeAddress(s[1]),c={top:Math.min(a.row,l.row),left:Math.min(a.col,l.col),bottom:Math.max(a.row,l.row),right:Math.max(a.col,l.col)};return c.tl=this.n2l(c.left)+c.top,c.br=this.n2l(c.right)+c.bottom,c.dimensions=`${c.tl}:${c.br}`,c}return this.decodeAddress(o)},decodeEx(o){let s=o.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),a=s[1]||s[2],l=s[3],c=l.split(":");if(c.length>1){let u=this.decodeAddress(c[0]),h=this.decodeAddress(c[1]),f=Math.min(u.row,h.row),m=Math.min(u.col,h.col),g=Math.max(u.row,h.row),p=Math.max(u.col,h.col);return u=this.n2l(m)+f,h=this.n2l(p)+g,{top:f,left:m,bottom:g,right:p,sheetName:a,tl:{address:u,col:m,row:f,$col$row:`$${this.n2l(m)}$${f}`,sheetName:a},br:{address:h,col:p,row:g,$col$row:`$${this.n2l(p)}$${g}`,sheetName:a},dimensions:`${u}:${h}`}}if(l.startsWith("#"))return a?{sheetName:a,error:l}:{error:l};let d=this.decodeAddress(l);return a?Vt({sheetName:a},d):d},encodeAddress:(o,s)=>n.n2l(s)+o,encode(){switch(arguments.length){case 2:return n.encodeAddress(arguments[0],arguments[1]);case 4:return`${n.encodeAddress(arguments[0],arguments[1])}:${n.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(o,s){let[a,l,,c,d]=o,[u,h]=s;return u>=a&&u<=c&&h>=l&&h<=d}};t.exports=n},{}],20:[function(e,t,r){"use strict";let i=(o,s)=>Vt(Vt({},o),s.reduce((a,l)=>(o[l]&&(a[l]=Vt({},o[l])),a),{})),n=function(o,s,a){let l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];o[a]&&(s[a]=i(o[a],l))};r.copyStyle=o=>{if(!o)return o;if(s=o,Object.keys(s).length===0)return{};var s;let a=Vt({},o);return n(o,a,"font",["color"]),n(o,a,"alignment"),n(o,a,"protection"),o.border&&(n(o,a,"border"),n(o.border,a.border,"top",["color"]),n(o.border,a.border,"left",["color"]),n(o.border,a.border,"bottom",["color"]),n(o.border,a.border,"right",["color"]),n(o.border,a.border,"diagonal",["color"])),o.fill&&(n(o,a,"fill",["fgColor","bgColor","center"]),o.fill.stops&&(a.fill.stops=o.fill.stops.map(l=>i(l,["color"])))),a}},{}],21:[function(e,t,r){(function(i){(function(){"use strict";let n=e("crypto"),o={hash(s){let a=n.createHash(s);for(var l=arguments.length,c=new Array(l>1?l-1:0),d=1;d<l;d++)c[d-1]=arguments[d];return a.update(i.concat(c)),a.digest()},convertPasswordToHash(s,a,l,c){if(a=a.toLowerCase(),n.getHashes().indexOf(a)<0)throw new Error(`Hash algorithm '${a}' not supported!`);let d=i.from(s,"utf16le"),u=this.hash(a,i.from(l,"base64"),d);for(let h=0;h<c;h++){let f=i.alloc(4);f.writeUInt32LE(h,0),u=this.hash(a,u,f)}return u.toString("base64")},randomBytes:s=>n.randomBytes(s)};t.exports=o}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(e,t,r){"use strict";let{SaxesParser:i}=e("saxes"),{PassThrough:n}=e("readable-stream"),{bufferToString:o}=e("./browser-buffer-decode");t.exports=function(s){return BH(this,null,function*(){s.pipe&&!s[Symbol.asyncIterator]&&(s=s.pipe(new n));let a=new i,l;a.on("error",m=>{l=m});let c=[];a.on("opentag",m=>c.push({eventType:"opentag",value:m})),a.on("text",m=>c.push({eventType:"text",value:m})),a.on("closetag",m=>c.push({eventType:"closetag",value:m}));try{for(var d=LR(s),u,h,f;u=!(h=yield new vO(d.next())).done;u=!1){let m=h.value;if(a.write(o(m)),l)throw l;yield c,c=[]}}catch{f=[h]}finally{try{u&&(h=d.return)&&(yield new vO(h.call(d)))}finally{if(f)throw f[0]}}})}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(e,t,r){"use strict";let i=e("./col-cache"),n=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,o=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;t.exports={slideFormula:function(s,a,l){let c=i.decode(a),d=i.decode(l);return s.replace(n,(u,h,f,m,g)=>{if(g)return u;let p=o.exec(m);if(p){let b=p[1],_=p[2].toUpperCase(),E=p[3],O=p[4];if(_.length>3||_.length===3&&_>"XFD")return u;let V=i.l2n(_),H=parseInt(O,10);return b||(V+=d.col-c.col),E||(H+=d.row-c.row),(h||"")+(b||"")+i.n2l(V)+(E||"")+H}return u})}}},{"./col-cache":19}],24:[function(e,t,r){(function(i,n){(function(){"use strict";let o=e("readable-stream"),s=e("./utils"),a=e("./string-buf");class l{constructor(g,p){this._data=g,this._encoding=p}get length(){return this.toBuffer().length}copy(g,p,b,_){return this.toBuffer().copy(g,p,b,_)}toBuffer(){return this._buffer||(this._buffer=n.from(this._data,this._encoding)),this._buffer}}class c{constructor(g){this._data=g}get length(){return this._data.length}copy(g,p,b,_){return this._data._buf.copy(g,p,b,_)}toBuffer(){return this._data.toBuffer()}}class d{constructor(g){this._data=g}get length(){return this._data.length}copy(g,p,b,_){this._data.copy(g,p,b,_)}toBuffer(){return this._data}}class u{constructor(g){this.size=g,this.buffer=n.alloc(g),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;let g=n.alloc(this.iWrite-this.iRead);return this.buffer.copy(g,0,this.iRead,this.iWrite),g}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(g){let p;return g===0?null:g===void 0||g>=this.length?(p=this.toBuffer(),this.iRead=this.iWrite,p):(p=n.alloc(g),this.buffer.copy(p,0,this.iRead,g),this.iRead+=g,p)}write(g,p,b){let _=Math.min(b,this.size-this.iWrite);return g.copy(this.buffer,this.iWrite,p,p+_),this.iWrite+=_,_}}let h=function(m){m=m||{},this.bufSize=m.bufSize||1048576,this.buffers=[],this.batch=m.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};s.inherits(h,o.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return n.concat(this.buffers.map(m=>m.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){let g=this.buffers[this.buffers.length-1];if(!g.full)return g}let m=new u(this.bufSize);return this.buffers.push(m),m},_pipe(m){return xr(this,null,function*(){yield Promise.all(this.pipes.map(function(g){return new Promise(p=>{g.write(m.toBuffer(),()=>{p()})})}))})},_writeToBuffers(m){let g=0,p=m.length;for(;g<p;)g+=this._getWritableBuffer().write(m,g,p-g)},write(m,g,p){return xr(this,null,function*(){let b;if(g instanceof Function&&(p=g,g="utf8"),p=p||s.nop,m instanceof a)b=new c(m);else if(m instanceof n)b=new d(m);else{if(!(typeof m=="string"||m instanceof String||m instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");b=new l(m,g)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(b);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(b),i.nextTick(p)):(yield this._pipe(b),p());else this.paused||this.emit("data",b.toBuffer()),this._writeToBuffers(b),this.emit("readable");return!0})},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(m,g,p){let b=_=>{_?p(_):(this._flush(),this.pipes.forEach(E=>{E.end()}),this.emit("finish"))};m?this.write(m,g,b):b()},read(m){let g;if(m){for(g=[];m&&this.buffers.length&&!this.buffers[0].eod;){let p=this.buffers[0],b=p.read(m);m-=b.length,g.push(b),p.eod&&p.full&&this.buffers.shift()}return n.concat(g)}return g=this.buffers.map(p=>p.toBuffer()).filter(Boolean),this.buffers=[],n.concat(g)},setEncoding(m){this.encoding=m},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(m){this.pipes.push(m),!this.paused&&this.buffers.length&&this.end()},unpipe(m){this.pipes=this.pipes.filter(g=>g!==m)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),t.exports=h}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(e,t,r){(function(i){(function(){"use strict";t.exports=class{constructor(n){this._buf=i.alloc(n&&n.size||16384),this._encoding=n&&n.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=i.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(n){n=n||0,this._buffer=void 0,this._inPos=n}_grow(n){let o=2*this._buf.length;for(;o<n;)o*=2;let s=i.alloc(o);this._buf.copy(s,0),this._buf=s}addText(n){this._buffer=void 0;let o=this._inPos+this._buf.write(n,this._inPos,this._encoding);for(;o>=this._buf.length-4;)this._grow(this._inPos+n.length),o=this._inPos+this._buf.write(n,this._inPos,this._encoding);this._inPos=o}addStringBuf(n){n.length&&(this._buffer=void 0,this.length+n.length>this.capacity&&this._grow(this.length+n.length),n._buf.copy(this._buf,this._inPos,0,n.length),this._inPos+=n.length)}}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220}],26:[function(e,t,r){"use strict";let{toString:i}=Object.prototype,n=/["&<>]/,o={each:function(s,a){s&&(Array.isArray(s)?s.forEach(a):Object.keys(s).forEach(l=>{a(s[l],l)}))},some:function(s,a){return!!s&&(Array.isArray(s)?s.some(a):Object.keys(s).some(l=>a(s[l],l)))},every:function(s,a){return!s||(Array.isArray(s)?s.every(a):Object.keys(s).every(l=>a(s[l],l)))},map:function(s,a){return s?Array.isArray(s)?s.map(a):Object.keys(s).map(l=>a(s[l],l)):[]},keyBy:(s,a)=>s.reduce((l,c)=>(l[c[a]]=c,l),{}),isEqual:function(s,a){let l=typeof s,c=typeof a,d=Array.isArray(s),u=Array.isArray(a),h;if(l!==c)return!1;switch(typeof s){case"object":if(d||u)return!(!d||!u)&&s.length===a.length&&s.every((f,m)=>{let g=a[m];return o.isEqual(f,g)});if(s===null||a===null)return s===a;if(h=Object.keys(s),Object.keys(a).length!==h.length)return!1;for(let f of h)if(!a.hasOwnProperty(f))return!1;return o.every(s,(f,m)=>{let g=a[m];return o.isEqual(f,g)});default:return s===a}},escapeHtml(s){let a=n.exec(s);if(!a)return s;let l="",c="",d=0,u=a.index;for(;u<s.length;u++){switch(s.charAt(u)){case'"':c="&quot;";break;case"&":c="&amp;";break;case"'":c="&apos;";break;case"<":c="&lt;";break;case">":c="&gt;";break;default:continue}d!==u&&(l+=s.substring(d,u)),d=u+1,l+=c}return d!==u?l+s.substring(d,u):l},strcmp:(s,a)=>s<a?-1:s>a?1:0,isUndefined:s=>i.call(s)==="[object Undefined]",isObject:s=>i.call(s)==="[object Object]",deepMerge(){let s=arguments[0]||{},{length:a}=arguments,l,c,d;function u(h,f){l=s[f],d=Array.isArray(h),o.isObject(h)||d?(d?(d=!1,c=l&&Array.isArray(l)?l:[]):c=l&&o.isObject(l)?l:{},s[f]=o.deepMerge(c,h)):o.isUndefined(h)||(s[f]=h)}for(let h=0;h<a;h++)o.each(arguments[h],u);return s}};t.exports=o},{}],27:[function(e,t,r){(function(i,n){(function(){"use strict";let o=e("fs"),s=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,a={nop(){},promiseImmediate:l=>new Promise(c=>{i.setImmediate?n(()=>{c(l)}):setTimeout(()=>{c(l)},1)}),inherits:function(l,c,d,u){l.super_=c,u||(u=d,d=null),d&&Object.keys(d).forEach(f=>{Object.defineProperty(l,f,Object.getOwnPropertyDescriptor(d,f))});let h={constructor:{value:l,enumerable:!1,writable:!1,configurable:!0}};u&&Object.keys(u).forEach(f=>{h[f]=Object.getOwnPropertyDescriptor(u,f)}),l.prototype=Object.create(c.prototype,h)},dateToExcel:(l,c)=>25569+l.getTime()/864e5-(c?1462:0),excelToDate(l,c){let d=Math.round(24*(l-25569+(c?1462:0))*3600*1e3);return new Date(d)},parsePath(l){let c=l.lastIndexOf("/");return{path:l.substring(0,c),name:l.substring(c+1)}},getRelsPath(l){let c=a.parsePath(l);return`${c.path}/_rels/${c.name}.rels`},xmlEncode(l){let c=s.exec(l);if(!c)return l;let d="",u="",h=0,f=c.index;for(;f<l.length;f++){let m=l.charCodeAt(f);switch(m){case 34:u="&quot;";break;case 38:u="&amp;";break;case 39:u="&apos;";break;case 60:u="&lt;";break;case 62:u="&gt;";break;case 127:u="";break;default:if(m<=31&&(m<=8||m>=11&&m!==13)){u="";break}continue}h!==f&&(d+=l.substring(h,f)),h=f+1,u&&(d+=u)}return h!==f?d+l.substring(h,f):d},xmlDecode:l=>l.replace(/&([a-z]*);/g,c=>{switch(c){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return c}}),validInt(l){let c=parseInt(l,10);return Number.isNaN(c)?0:c},isDateFmt(l){return l?(l=(l=l.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:l=>new Promise(c=>{o.access(l,o.constants.F_OK,d=>{c(!d)})})},toIsoDateString:l=>l.toIsoString().subsstr(0,10),parseBoolean:l=>l===!0||l==="true"||l===1||l==="1"};t.exports=a}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},e("timers").setImmediate)},{fs:216,timers:523}],28:[function(e,t,r){"use strict";let i=e("./under-dash"),n=e("./utils");function o(l,c,d){l.push(` ${c}="${n.xmlEncode(d.toString())}"`)}function s(l,c){if(c){let d=[];i.each(c,(u,h)=>{u!==void 0&&o(d,h,u)}),l.push(d.join(""))}}class a{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(c){let d=this._xml;d.push("<?xml"),s(d,c),d.push(`?>
`)}openNode(c,d){let u=this.tos,h=this._xml;u&&this.open&&h.push(">"),this._stack.push(c),h.push("<"),h.push(c),s(h,d),this.leaf=!0,this.open=!0}addAttribute(c,d){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");d!==void 0&&o(this._xml,c,d)}addAttributes(c){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");s(this._xml,c)}writeText(c){let d=this._xml;this.open&&(d.push(">"),this.open=!1),this.leaf=!1,d.push(n.xmlEncode(c.toString()))}writeXml(c){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(c)}closeNode(){let c=this._stack.pop(),d=this._xml;this.leaf?d.push("/>"):(d.push("</"),d.push(c),d.push(">")),this.open=!1,this.leaf=!1}leafNode(c,d,u){this.openNode(c,d),u!==void 0&&this.writeText(u),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){let c=this._rollbacks.pop();this._xml.length>c.xml&&this._xml.splice(c.xml,this._xml.length-c.xml),this._stack.length>c.stack&&this._stack.splice(c.stack,this._stack.length-c.stack),this.leaf=c.leaf,this.open=c.open}get xml(){return this.closeAll(),this._xml.join("")}}a.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},t.exports=a},{"./under-dash":26,"./utils":27}],29:[function(e,t,r){(function(i){(function(){"use strict";let n=e("events"),o=e("jszip"),s=e("./stream-buf"),{stringToBuffer:a}=e("./browser-buffer-encode");class l extends n.EventEmitter{constructor(d){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},d),this.zip=new o,this.stream=new s}append(d,u){u.hasOwnProperty("base64")&&u.base64?this.zip.file(u.name,d,{base64:!0}):(i.browser&&typeof d=="string"&&(d=a(d)),this.zip.file(u.name,d))}finalize(){return xr(this,null,function*(){let d=yield this.zip.generateAsync(this.options);this.stream.end(d),this.emit("finish")})}read(d){return this.stream.read(d)}setEncoding(d){return this.stream.setEncoding(d)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(d,u){return this.stream.pipe(d,u)}unpipe(d){return this.stream.unpipe(d)}unshift(d){return this.stream.unshift(d)}wrap(d){return this.stream.wrap(d)}}t.exports={ZipWriter:l}}).call(this)}).call(this,e("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(e,t,r){"use strict";t.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"\u5E74"m"\u6708"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"\u5E74" mm"\u6708" dd"\u65E5"'},28:{"zh-tw":'[$-404]e"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'[$-411]ggge"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'[$-411]ggge"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'yyyy"\u5E74"m"\u6708"d"\u65E5"',"ja-jp":'yyyy"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":'yyyy"\uB144" mm"\uC6D4" dd"\uC77C"'},32:{"zh-tw":'hh"\u6642"mm"\u5206"',"zh-cn":'h"\u65F6"mm"\u5206"',"ja-jp":'h"\u6642"mm"\u5206"',"ko-kr":'h"\uC2DC" mm"\uBD84"'},33:{"zh-tw":'hh"\u6642"mm"\u5206"ss"\u79D2"',"zh-cn":'h"\u65F6"mm"\u5206"ss"\u79D2"',"ja-jp":'h"\u6642"mm"\u5206"ss"\u79D2"',"ko-kr":'h"\uC2DC" mm"\uBD84" ss"\uCD08"'},34:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"',"zh-cn":'\u4E0A\u5348/\u4E0B\u5348 h"\u65F6"mm"\u5206"',"ja-jp":'yyyy"\u5E74"m"\u6708"',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"ss"\u79D2"',"zh-cn":'\u4E0A\u5348/\u4E0B\u5348 h"\u65F6"mm"\u5206"ss"\u79D2"',"ja-jp":'m"\u6708"d"\u65E5"',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"\u5E74"m"\u6708"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"\u5E74" mm"\u6708" dd"\u65E5"'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"\u5E74"m"\u6708"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"\u5E74" mm"\u6708" dd"\u65E5"'},51:{"zh-tw":'[$-404]e"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'[$-411]ggge"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":"mm-dd"},52:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"',"zh-cn":'yyyy"\u5E74"m"\u6708"',"ja-jp":'yyyy"\u5E74"m"\u6708"',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"ss"\u79D2"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'m"\u6708"d"\u65E5"',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'[$-411]ggge"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":"mm-dd"},55:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"',"zh-cn":'\u4E0A\u5348/\u4E0B\u5348 h"\u65F6"mm"\u5206"',"ja-jp":'yyyy"\u5E74"m"\u6708"',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"ss"\u79D2"',"zh-cn":'\u4E0A\u5348/\u4E0B\u5348 h"\u65F6"mm"\u5206"ss"\u79D2"',"ja-jp":'m"\u6708"d"\u65E5"',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"\u5E74"m"\u6708"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"\u5E74" mm"\u6708" dd"\u65E5"'},58:{"zh-tw":'[$-404]e"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'[$-411]ggge"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(e,t,r){"use strict";t.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(e,t,r){"use strict";let i=e("../../utils/parse-sax"),n=e("../../utils/xml-stream");class o{prepare(){}render(){}parseOpen(a){}parseText(a){}parseClose(a){}reconcile(a,l){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(a=>{a instanceof o?a.reset():a.xform&&a.xform.reset()})}mergeModel(a){this.model=Object.assign(this.model||{},a)}parse(a){return xr(this,null,function*(){try{for(var l=LR(a),c,d,u;c=!(d=yield l.next()).done;c=!1){let h=d.value;for(let{eventType:f,value:m}of h)if(f==="opentag")this.parseOpen(m);else if(f==="text")this.parseText(m);else if(f==="closetag"&&!this.parseClose(m.name))return this.model}}catch{u=[d]}finally{try{c&&(d=l.return)&&(yield d.call(l))}finally{if(u)throw u[0]}}return this.model})}parseStream(a){return xr(this,null,function*(){return this.parse(i(a))})}get xml(){return this.toXml(this.model)}toXml(a){let l=new n;return this.render(l,a),l.xml}static toAttribute(a,l){let c=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(a===void 0){if(c)return l}else if(c||a!==l)return a.toString()}static toStringAttribute(a,l){let c=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return o.toAttribute(a,l,c)}static toStringValue(a,l){return a===void 0?l:a}static toBoolAttribute(a,l){let c=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(a===void 0){if(c)return l}else if(c||a!==l)return a?"1":"0"}static toBoolValue(a,l){return a===void 0?l:a==="1"}static toIntAttribute(a,l){let c=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return o.toAttribute(a,l,c)}static toIntValue(a,l){return a===void 0?l:parseInt(a,10)}static toFloatAttribute(a,l){let c=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return o.toAttribute(a,l,c)}static toFloatValue(a,l){return a===void 0?l:parseFloat(a)}}t.exports=o},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(e,t,r){"use strict";let i=e("../base-xform"),n=e("../../../utils/col-cache");function o(a){try{return n.decodeEx(a),!0}catch{return!1}}function s(a){let l=[],c=!1,d="";return a.split(",").forEach(u=>{if(!u)return;let h=(u.match(/'/g)||[]).length;if(!h)return void(c?d+=u+",":o(u)&&l.push(u));let f=h%2==0;!c&&f&&o(u)?l.push(u):c&&!f?(c=!1,o(d+u)&&l.push(d+u),d=""):(c=!0,d+=u+",")}),l}t.exports=class extends i{render(a,l){a.openNode("definedName",{name:l.name,localSheetId:l.localSheetId}),a.writeText(l.ranges.join(",")),a.closeNode()}parseOpen(a){switch(a.name){case"definedName":return this._parsedName=a.attributes.name,this._parsedLocalSheetId=a.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(a){this._parsedText.push(a)}parseClose(){return this.model={name:this._parsedName,ranges:s(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(e,t,r){"use strict";let i=e("../../../utils/utils"),n=e("../base-xform");t.exports=class extends n{render(o,s){o.leafNode("sheet",{sheetId:s.id,name:s.name,state:s.state,"r:id":s.rId})}parseOpen(o){return o.name==="sheet"&&(this.model={name:i.xmlDecode(o.attributes.name),id:parseInt(o.attributes.sheetId,10),state:o.attributes.state,rId:o.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{render(n,o){n.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:o.fullCalcOnLoad?1:void 0})}parseOpen(n){return n.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{render(n,o){n.leafNode("workbookPr",{date1904:o.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(n){return n.name==="workbookPr"&&(this.model={date1904:n.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{render(n,o){let s={xWindow:o.x||0,yWindow:o.y||0,windowWidth:o.width||12e3,windowHeight:o.height||24e3,firstSheet:o.firstSheet,activeTab:o.activeTab};o.visibility&&o.visibility!=="visible"&&(s.visibility=o.visibility),n.leafNode("workbookView",s)}parseOpen(n){if(n.name==="workbookView"){let o=this.model={},s=function(l,c,d){let u=c!==void 0?o[l]=c:d;u!==void 0&&(o[l]=u)},a=function(l,c,d){let u=c!==void 0?o[l]=parseInt(c,10):d;u!==void 0&&(o[l]=u)};return a("x",n.attributes.xWindow,0),a("y",n.attributes.yWindow,0),a("width",n.attributes.windowWidth,25e3),a("height",n.attributes.windowHeight,1e4),s("visibility",n.attributes.visibility,"visible"),a("activeTab",n.attributes.activeTab,void 0),a("firstSheet",n.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(e,t,r){"use strict";let i=e("../../../utils/under-dash"),n=e("../../../utils/col-cache"),o=e("../../../utils/xml-stream"),s=e("../base-xform"),a=e("../static-xform"),l=e("../list-xform"),c=e("./defined-name-xform"),d=e("./sheet-xform"),u=e("./workbook-view-xform"),h=e("./workbook-properties-xform"),f=e("./workbook-calc-properties-xform");class m extends s{constructor(){super(),this.map={fileVersion:m.STATIC_XFORMS.fileVersion,workbookPr:new h,bookViews:new l({tag:"bookViews",count:!1,childXform:new u}),sheets:new l({tag:"sheets",count:!1,childXform:new d}),definedNames:new l({tag:"definedNames",count:!1,childXform:new c}),calcPr:new f}}prepare(p){p.sheets=p.worksheets;let b=[],_=0;p.sheets.forEach(E=>{if(E.pageSetup&&E.pageSetup.printArea&&E.pageSetup.printArea.split("&&").forEach(O=>{let V=O.split(":"),H={name:"_xlnm.Print_Area",ranges:[`'${E.name}'!$${V[0]}:$${V[1]}`],localSheetId:_};b.push(H)}),E.pageSetup&&(E.pageSetup.printTitlesRow||E.pageSetup.printTitlesColumn)){let O=[];if(E.pageSetup.printTitlesColumn){let H=E.pageSetup.printTitlesColumn.split(":");O.push(`'${E.name}'!$${H[0]}:$${H[1]}`)}if(E.pageSetup.printTitlesRow){let H=E.pageSetup.printTitlesRow.split(":");O.push(`'${E.name}'!$${H[0]}:$${H[1]}`)}let V={name:"_xlnm.Print_Titles",ranges:O,localSheetId:_};b.push(V)}_++}),b.length&&(p.definedNames=p.definedNames.concat(b)),(p.media||[]).forEach((E,O)=>{E.name=E.type+(O+1)})}render(p,b){p.openXml(o.StdDocAttributes),p.openNode("workbook",m.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(p),this.map.workbookPr.render(p,b.properties),this.map.bookViews.render(p,b.views),this.map.sheets.render(p,b.sheets),this.map.definedNames.render(p,b.definedNames),this.map.calcPr.render(p,b.calcProperties),p.closeNode()}parseOpen(p){if(this.parser)return this.parser.parseOpen(p),!0;switch(p.name){case"workbook":return!0;default:return this.parser=this.map[p.name],this.parser&&this.parser.parseOpen(p),!0}}parseText(p){this.parser&&this.parser.parseText(p)}parseClose(p){if(this.parser)return this.parser.parseClose(p)||(this.parser=void 0),!0;switch(p){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(p){let b=(p.workbookRels||[]).reduce((H,F)=>(H[F.Id]=F,H),{}),_=[],E,O=0;(p.sheets||[]).forEach(H=>{let F=b[H.rId];F&&(E=p.worksheetHash["xl/"+F.Target.replace(/^(\s|\/xl\/)+/,"")],E&&(E.name=H.name,E.id=H.id,E.state=H.state,_[O++]=E))});let V=[];i.each(p.definedNames,H=>{if(H.name==="_xlnm.Print_Area"){if(E=_[H.localSheetId],E){E.pageSetup||(E.pageSetup={});let F=n.decodeEx(H.ranges[0]);E.pageSetup.printArea=E.pageSetup.printArea?`${E.pageSetup.printArea}&&${F.dimensions}`:F.dimensions}}else if(H.name==="_xlnm.Print_Titles"){if(E=_[H.localSheetId],E){E.pageSetup||(E.pageSetup={});let F=H.ranges.join(","),L=/\$/g,$=/\$\d+:\$\d+/,W=F.match($);if(W&&W.length){let B=W[0];E.pageSetup.printTitlesRow=B.replace(L,"")}let x=/\$[A-Z]+:\$[A-Z]+/,R=F.match(x);if(R&&R.length){let B=R[0];E.pageSetup.printTitlesColumn=B.replace(L,"")}}}else V.push(H)}),p.definedNames=V,p.media.forEach((H,F)=>{H.index=F})}}m.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},m.STATIC_XFORMS={fileVersion:new a({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},t.exports=m},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(e,t,r){"use strict";let i=e("../strings/rich-text-xform"),n=e("../../../utils/utils"),o=e("../base-xform"),s=t.exports=function(a){this.model=a};n.inherits(s,o,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new i),this._richTextXform},render(a,l){l=l||this.model,a.openNode("comment",{ref:l.ref,authorId:0}),a.openNode("text"),l&&l.note&&l.note.texts&&l.note.texts.forEach(c=>{this.richTextXform.render(a,c)}),a.closeNode(),a.closeNode()},parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case"comment":return this.model=Vt({type:"note",note:{texts:[]}},a.attributes),!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(a),!0;default:return!1}},parseText(a){this.parser&&this.parser.parseText(a)},parseClose(a){switch(a){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(a),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(e,t,r){"use strict";let i=e("../../../utils/xml-stream"),n=e("../../../utils/utils"),o=e("../base-xform"),s=e("./comment-xform"),a=t.exports=function(){this.map={comment:new s}};n.inherits(a,o,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(l,c){c=c||this.model,l.openXml(i.StdDocAttributes),l.openNode("comments",a.COMMENTS_ATTRIBUTES),l.openNode("authors"),l.leafNode("author",null,"Author"),l.closeNode(),l.openNode("commentList"),c.comments.forEach(d=>{this.map.comment.render(l,d)}),l.closeNode(),l.closeNode()},parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(l),!0;default:return!1}},parseText(l){this.parser&&this.parser.parseText(l)},parseClose(l){switch(l){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(l),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(e,t,r){"use strict";let i=e("../../base-xform");t.exports=class extends i{constructor(n){super(),this._model=n}get tag(){return this._model&&this._model.tag}render(n,o,s){(o===s[2]||this.tag==="x:SizeWithCells"&&o===s[1])&&n.leafNode(this.tag)}parseOpen(n){switch(n.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(e,t,r){"use strict";let i=e("../../base-xform");t.exports=class extends i{constructor(n){super(),this._model=n}get tag(){return this._model&&this._model.tag}render(n,o){n.leafNode(this.tag,null,o)}parseOpen(n){switch(n.name){case this.tag:return this.text="",!0;default:return!1}}parseText(n){this.text=n}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{get tag(){return"x:Anchor"}getAnchorRect(n){let o=Math.floor(n.left),s=Math.floor(68*(n.left-o)),a=Math.floor(n.top),l=Math.floor(18*(n.top-a)),c=Math.floor(n.right),d=Math.floor(68*(n.right-c)),u=Math.floor(n.bottom);return[o,s,a,l,c,d,u,Math.floor(18*(n.bottom-u))]}getDefaultRect(n){let o=n.col,s=Math.max(n.row-2,0);return[o,6,s,14,o+2,2,s+4,16]}render(n,o){let s=o.anchor?this.getAnchorRect(o.anchor):this.getDefaultRect(o.refAddress);n.leafNode("x:Anchor",null,s.join(", "))}parseOpen(n){switch(n.name){case this.tag:return this.text="",!0;default:return!1}}parseText(n){this.text=n}parseClose(){return!1}}},{"../base-xform":32}],44:[function(e,t,r){"use strict";let i=e("../base-xform"),n=e("./vml-anchor-xform"),o=e("./style/vml-protection-xform"),s=e("./style/vml-position-xform"),a=["twoCells","oneCells","absolute"];t.exports=class extends i{constructor(){super(),this.map={"x:Anchor":new n,"x:Locked":new o({tag:"x:Locked"}),"x:LockText":new o({tag:"x:LockText"}),"x:SizeWithCells":new s({tag:"x:SizeWithCells"}),"x:MoveWithCells":new s({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(l,c){let{protection:d,editAs:u}=c.note;l.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(l,u,a),this.map["x:SizeWithCells"].render(l,u,a),this.map["x:Anchor"].render(l,c),this.map["x:Locked"].render(l,d.locked),l.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(l,d.lockText),l.leafNode("x:Row",null,c.refAddress.row-1),l.leafNode("x:Column",null,c.refAddress.col-1),l.closeNode()}parseOpen(l){switch(l.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){let l=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),c=Object.keys(l).length;this.model.editAs=a[c],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(e,t,r){"use strict";let i=e("../../../utils/xml-stream"),n=e("../base-xform"),o=e("./vml-shape-xform");class s extends n{constructor(){super(),this.map={"v:shape":new o}}get tag(){return"xml"}render(l,c){l.openXml(i.StdDocAttributes),l.openNode(this.tag,s.DRAWING_ATTRIBUTES),l.openNode("o:shapelayout",{"v:ext":"edit"}),l.leafNode("o:idmap",{"v:ext":"edit",data:1}),l.closeNode(),l.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),l.leafNode("v:stroke",{joinstyle:"miter"}),l.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),l.closeNode(),c.comments.forEach((d,u)=>{this.map["v:shape"].render(l,d,u)}),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(l){case this.tag:return!1;default:return!0}}reconcile(l,c){l.anchors.forEach(d=>{d.br?this.map["xdr:twoCellAnchor"].reconcile(d,c):this.map["xdr:oneCellAnchor"].reconcile(d,c)})}}s.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},t.exports=s},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(e,t,r){"use strict";let i=e("../base-xform"),n=e("./vml-textbox-xform"),o=e("./vml-client-data-xform");class s extends i{constructor(){super(),this.map={"v:textbox":new n,"x:ClientData":new o}}get tag(){return"v:shape"}render(l,c,d){l.openNode("v:shape",s.V_SHAPE_ATTRIBUTES(c,d)),l.leafNode("v:fill",{color2:"infoBackground [80]"}),l.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),l.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(l,c),this.map["x:ClientData"].render(l,c),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset(),this.model={margins:{insetmode:l.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}s.V_SHAPE_ATTRIBUTES=(a,l)=>({id:"_x0000_s"+(1025+l),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":a.note.margins&&a.note.margins.insetmode}),t.exports=s},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{get tag(){return"v:textbox"}conversionUnit(n,o,s){return`${parseFloat(n)*o.toFixed(2)}${s}`}reverseConversionUnit(n){return(n||"").split(",").map(o=>Number(parseFloat(this.conversionUnit(parseFloat(o),.1,"")).toFixed(2)))}render(n,o){let s={style:"mso-direction-alt:auto"};if(o&&o.note){let{inset:a}=o.note&&o.note.margins;Array.isArray(a)&&(a=a.map(l=>this.conversionUnit(l,10,"mm")).join(",")),a&&(s.inset=a)}n.openNode("v:textbox",s),n.leafNode("div",{style:"text-align:left"}),n.closeNode()}parseOpen(n){switch(n.name){case this.tag:return this.model={inset:this.reverseConversionUnit(n.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(n){switch(n){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],48:[function(e,t,r){"use strict";let i=e("./base-xform");t.exports=class extends i{createNewModel(n){return{}}parseOpen(n){return this.parser=this.parser||this.map[n.name],this.parser?(this.parser.parseOpen(n),!0):n.name===this.tag&&(this.model=this.createNewModel(n),!0)}parseText(n){this.parser&&this.parser.parseText(n)}onParserClose(n,o){this.model[n]=o.model}parseClose(n){return this.parser?(this.parser.parseClose(n)||(this.onParserClose(n,this.parser),this.parser=void 0),!0):n!==this.tag}}},{"./base-xform":32}],49:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{render(n,o){n.openNode("HeadingPairs"),n.openNode("vt:vector",{size:2,baseType:"variant"}),n.openNode("vt:variant"),n.leafNode("vt:lpstr",void 0,"Worksheets"),n.closeNode(),n.openNode("vt:variant"),n.leafNode("vt:i4",void 0,o.length),n.closeNode(),n.closeNode(),n.closeNode()}parseOpen(n){return n.name==="HeadingPairs"}parseText(){}parseClose(n){return n!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{render(n,o){n.openNode("TitlesOfParts"),n.openNode("vt:vector",{size:o.length,baseType:"lpstr"}),o.forEach(s=>{n.leafNode("vt:lpstr",void 0,s.name)}),n.closeNode(),n.closeNode()}parseOpen(n){return n.name==="TitlesOfParts"}parseText(){}parseClose(n){return n!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(e,t,r){"use strict";let i=e("../../../utils/xml-stream"),n=e("../base-xform"),o=e("../simple/string-xform"),s=e("./app-heading-pairs-xform"),a=e("./app-titles-of-parts-xform");class l extends n{constructor(){super(),this.map={Company:new o({tag:"Company"}),Manager:new o({tag:"Manager"}),HeadingPairs:new s,TitleOfParts:new a}}render(d,u){d.openXml(i.StdDocAttributes),d.openNode("Properties",l.PROPERTY_ATTRIBUTES),d.leafNode("Application",void 0,"Microsoft Excel"),d.leafNode("DocSecurity",void 0,"0"),d.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(d,u.worksheets),this.map.TitleOfParts.render(d,u.worksheets),this.map.Company.render(d,u.company||""),this.map.Manager.render(d,u.manager),d.leafNode("LinksUpToDate",void 0,"false"),d.leafNode("SharedDoc",void 0,"false"),d.leafNode("HyperlinksChanged",void 0,"false"),d.leafNode("AppVersion",void 0,"16.0300"),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"Properties":return!0;default:return this.parser=this.map[d.name],!!this.parser&&(this.parser.parseOpen(d),!0)}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}l.DateFormat=function(c){return c.toISOString().replace(/[.]\d{3,6}/,"")},l.DateAttrs={"xsi:type":"dcterms:W3CDTF"},l.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},t.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(e,t,r){"use strict";let i=e("../../../utils/xml-stream"),n=e("../base-xform");class o extends n{render(a,l){a.openXml(i.StdDocAttributes),a.openNode("Types",o.PROPERTY_ATTRIBUTES);let c={};(l.media||[]).forEach(d=>{if(d.type==="image"){let u=d.extension;c[u]||(c[u]=!0,a.leafNode("Default",{Extension:u,ContentType:"image/"+u}))}}),a.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),a.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),a.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),l.worksheets.forEach(d=>{let u=`/xl/worksheets/sheet${d.id}.xml`;a.leafNode("Override",{PartName:u,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),a.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),a.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),l.sharedStrings&&l.sharedStrings.count&&a.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),l.tables&&l.tables.forEach(d=>{a.leafNode("Override",{PartName:"/xl/tables/"+d.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),l.drawings&&l.drawings.forEach(d=>{a.leafNode("Override",{PartName:`/xl/drawings/${d.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),l.commentRefs&&(a.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),l.commentRefs.forEach(d=>{let{commentName:u}=d;a.leafNode("Override",{PartName:`/xl/${u}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),a.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),a.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),a.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}o.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},t.exports=o},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(e,t,r){"use strict";let i=e("../../../utils/xml-stream"),n=e("../base-xform"),o=e("../simple/date-xform"),s=e("../simple/string-xform"),a=e("../simple/integer-xform");class l extends n{constructor(){super(),this.map={"dc:creator":new s({tag:"dc:creator"}),"dc:title":new s({tag:"dc:title"}),"dc:subject":new s({tag:"dc:subject"}),"dc:description":new s({tag:"dc:description"}),"dc:identifier":new s({tag:"dc:identifier"}),"dc:language":new s({tag:"dc:language"}),"cp:keywords":new s({tag:"cp:keywords"}),"cp:category":new s({tag:"cp:category"}),"cp:lastModifiedBy":new s({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new o({tag:"cp:lastPrinted",format:l.DateFormat}),"cp:revision":new a({tag:"cp:revision"}),"cp:version":new s({tag:"cp:version"}),"cp:contentStatus":new s({tag:"cp:contentStatus"}),"cp:contentType":new s({tag:"cp:contentType"}),"dcterms:created":new o({tag:"dcterms:created",attrs:l.DateAttrs,format:l.DateFormat}),"dcterms:modified":new o({tag:"dcterms:modified",attrs:l.DateAttrs,format:l.DateFormat})}}render(d,u){d.openXml(i.StdDocAttributes),d.openNode("cp:coreProperties",l.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(d,u.creator),this.map["dc:title"].render(d,u.title),this.map["dc:subject"].render(d,u.subject),this.map["dc:description"].render(d,u.description),this.map["dc:identifier"].render(d,u.identifier),this.map["dc:language"].render(d,u.language),this.map["cp:keywords"].render(d,u.keywords),this.map["cp:category"].render(d,u.category),this.map["cp:lastModifiedBy"].render(d,u.lastModifiedBy),this.map["cp:lastPrinted"].render(d,u.lastPrinted),this.map["cp:revision"].render(d,u.revision),this.map["cp:version"].render(d,u.version),this.map["cp:contentStatus"].render(d,u.contentStatus),this.map["cp:contentType"].render(d,u.contentType),this.map["dcterms:created"].render(d,u.created),this.map["dcterms:modified"].render(d,u.modified),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[d.name],this.parser)return this.parser.parseOpen(d),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(d))}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+d)}}}l.DateFormat=function(c){return c.toISOString().replace(/[.]\d{3}/,"")},l.DateAttrs={"xsi:type":"dcterms:W3CDTF"},l.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},t.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{render(n,o){n.leafNode("Relationship",o)}parseOpen(n){switch(n.name){case"Relationship":return this.model=n.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(e,t,r){"use strict";let i=e("../../../utils/xml-stream"),n=e("../base-xform"),o=e("./relationship-xform");class s extends n{constructor(){super(),this.map={Relationship:new o}}render(l,c){c=c||this._values,l.openXml(i.StdDocAttributes),l.openNode("Relationships",s.RELATIONSHIPS_ATTRIBUTES),c.forEach(d=>{this.map.Relationship.render(l,d)}),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[l.name],this.parser)return this.parser.parseOpen(l),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(l))}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(l){case"Relationships":return!1;default:throw new Error("Unexpected xml node in parseClose: "+l)}}}s.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},t.exports=s},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{parseOpen(n){if(this.parser)return this.parser.parseOpen(n),!0;switch(n.name){case this.tag:this.reset(),this.model={range:{editAs:n.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[n.name],this.parser&&this.parser.parseOpen(n)}return!0}parseText(n){this.parser&&this.parser.parseText(n)}reconcilePicture(n,o){if(n&&n.rId){let s=o.rels[n.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(s){let a=s[1],l=o.mediaIndex[a];return o.media[l]}}}}},{"../base-xform":32}],57:[function(e,t,r){"use strict";let i=e("../base-xform"),n=e("./blip-xform");t.exports=class extends i{constructor(){super(),this.map={"a:blip":new n}}get tag(){return"xdr:blipFill"}render(o,s){o.openNode(this.tag),this.map["a:blip"].render(o,s),o.openNode("a:stretch"),o.leafNode("a:fillRect"),o.closeNode(),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:this.reset();break;default:this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)}return!0}parseText(){}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}},{"../base-xform":32,"./blip-xform":58}],58:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{get tag(){return"a:blip"}render(n,o){n.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":o.rId,cstate:"print"})}parseOpen(n){switch(n.name){case this.tag:return this.model={rId:n.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(n){switch(n){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],59:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{get tag(){return"xdr:cNvPicPr"}render(n){n.openNode(this.tag),n.leafNode("a:picLocks",{noChangeAspect:"1"}),n.closeNode()}parseOpen(n){switch(n.name){case this.tag:default:return!0}}parseText(){}parseClose(n){switch(n){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],60:[function(e,t,r){"use strict";let i=e("../base-xform"),n=e("./hlink-click-xform"),o=e("./ext-lst-xform");t.exports=class extends i{constructor(){super(),this.map={"a:hlinkClick":new n,"a:extLst":new o}}get tag(){return"xdr:cNvPr"}render(s,a){s.openNode(this.tag,{id:a.index,name:"Picture "+a.index}),this.map["a:hlinkClick"].render(s,a),this.map["a:extLst"].render(s,a),s.closeNode()}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case this.tag:this.reset();break;default:this.parser=this.map[s.name],this.parser&&this.parser.parseOpen(s)}return!0}parseText(){}parseClose(s){if(this.parser)return this.parser.parseClose(s)||(this.parser=void 0),!0;switch(s){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(e,t,r){"use strict";let i=e("../base-xform"),n=e("../simple/integer-xform");t.exports=class extends i{constructor(o){super(),this.tag=o.tag,this.map={"xdr:col":new n({tag:"xdr:col",zero:!0}),"xdr:colOff":new n({tag:"xdr:colOff",zero:!0}),"xdr:row":new n({tag:"xdr:row",zero:!0}),"xdr:rowOff":new n({tag:"xdr:rowOff",zero:!0})}}render(o,s){o.openNode(this.tag),this.map["xdr:col"].render(o,s.nativeCol),this.map["xdr:colOff"].render(o,s.nativeColOff),this.map["xdr:row"].render(o,s.nativeRow),this.map["xdr:rowOff"].render(o,s.nativeRowOff),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:this.reset();break;default:this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)}return!0}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(e,t,r){"use strict";let i=e("../../../utils/col-cache"),n=e("../../../utils/xml-stream"),o=e("../base-xform"),s=e("./two-cell-anchor-xform"),a=e("./one-cell-anchor-xform");class l extends o{constructor(){super(),this.map={"xdr:twoCellAnchor":new s,"xdr:oneCellAnchor":new a}}prepare(d){d.anchors.forEach((u,h)=>{u.anchorType=function(f){return(typeof f.range=="string"?i.decode(f.range):f.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"}(u),this.map[u.anchorType].prepare(u,{index:h})})}get tag(){return"xdr:wsDr"}render(d,u){d.openXml(n.StdDocAttributes),d.openNode(this.tag,l.DRAWING_ATTRIBUTES),u.anchors.forEach(h=>{this.map[h.anchorType].render(d,h)}),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(d){case this.tag:return!1;default:return!0}}reconcile(d,u){d.anchors.forEach(h=>{h.br?this.map["xdr:twoCellAnchor"].reconcile(h,u):this.map["xdr:oneCellAnchor"].reconcile(h,u)})}}l.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},t.exports=l},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{get tag(){return"a:extLst"}render(n){n.openNode(this.tag),n.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),n.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),n.closeNode(),n.closeNode()}parseOpen(n){switch(n.name){case this.tag:default:return!0}}parseText(){}parseClose(n){switch(n){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],64:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{constructor(n){super(),this.tag=n.tag,this.map={}}render(n,o){n.openNode(this.tag);let s=Math.floor(9525*o.width),a=Math.floor(9525*o.height);n.addAttribute("cx",s),n.addAttribute("cy",a),n.closeNode()}parseOpen(n){return n.name===this.tag&&(this.model={width:parseInt(n.attributes.cx||"0",10)/9525,height:parseInt(n.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{get tag(){return"a:hlinkClick"}render(n,o){o.hyperlinks&&o.hyperlinks.rId&&n.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":o.hyperlinks.rId,tooltip:o.hyperlinks.tooltip})}parseOpen(n){switch(n.name){case this.tag:return this.model={hyperlinks:{rId:n.attributes["r:id"],tooltip:n.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(e,t,r){"use strict";let i=e("../base-xform"),n=e("./c-nv-pr-xform"),o=e("./c-nv-pic-pr-xform");t.exports=class extends i{constructor(){super(),this.map={"xdr:cNvPr":new n,"xdr:cNvPicPr":new o}}get tag(){return"xdr:nvPicPr"}render(s,a){s.openNode(this.tag),this.map["xdr:cNvPr"].render(s,a),this.map["xdr:cNvPicPr"].render(s,a),s.closeNode()}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case this.tag:this.reset();break;default:this.parser=this.map[s.name],this.parser&&this.parser.parseOpen(s)}return!0}parseText(){}parseClose(s){if(this.parser)return this.parser.parseClose(s)||(this.parser=void 0),!0;switch(s){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(e,t,r){"use strict";let i=e("./base-cell-anchor-xform"),n=e("../static-xform"),o=e("./cell-position-xform"),s=e("./ext-xform"),a=e("./pic-xform");t.exports=class extends i{constructor(){super(),this.map={"xdr:from":new o({tag:"xdr:from"}),"xdr:ext":new s({tag:"xdr:ext"}),"xdr:pic":new a,"xdr:clientData":new n({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(l,c){this.map["xdr:pic"].prepare(l.picture,c)}render(l,c){l.openNode(this.tag,{editAs:c.range.editAs||"oneCell"}),this.map["xdr:from"].render(l,c.range.tl),this.map["xdr:ext"].render(l,c.range.ext),this.map["xdr:pic"].render(l,c.picture),this.map["xdr:clientData"].render(l,{}),l.closeNode()}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(l,c){l.medium=this.reconcilePicture(l.picture,c)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(e,t,r){"use strict";let i=e("../base-xform"),n=e("../static-xform"),o=e("./blip-fill-xform"),s=e("./nv-pic-pr-xform"),a=e("./sp-pr");t.exports=class extends i{constructor(){super(),this.map={"xdr:nvPicPr":new s,"xdr:blipFill":new o,"xdr:spPr":new n(a)}}get tag(){return"xdr:pic"}prepare(l,c){l.index=c.index+1}render(l,c){l.openNode(this.tag),this.map["xdr:nvPicPr"].render(l,c),this.map["xdr:blipFill"].render(l,c),this.map["xdr:spPr"].render(l,c),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(l){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(e,t,r){"use strict";t.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(e,t,r){"use strict";let i=e("./base-cell-anchor-xform"),n=e("../static-xform"),o=e("./cell-position-xform"),s=e("./pic-xform");t.exports=class extends i{constructor(){super(),this.map={"xdr:from":new o({tag:"xdr:from"}),"xdr:to":new o({tag:"xdr:to"}),"xdr:pic":new s,"xdr:clientData":new n({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(a,l){this.map["xdr:pic"].prepare(a.picture,l)}render(a,l){a.openNode(this.tag,{editAs:l.range.editAs||"oneCell"}),this.map["xdr:from"].render(a,l.range.tl),this.map["xdr:to"].render(a,l.range.br),this.map["xdr:pic"].render(a,l.picture),this.map["xdr:clientData"].render(a,{}),a.closeNode()}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;switch(a){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(a,l){a.medium=this.reconcilePicture(a.picture,l)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(e,t,r){"use strict";let i=e("./base-xform");t.exports=class extends i{constructor(n){super(),this.tag=n.tag,this.always=!!n.always,this.count=n.count,this.empty=n.empty,this.$count=n.$count||"count",this.$=n.$,this.childXform=n.childXform,this.maxItems=n.maxItems}prepare(n,o){let{childXform:s}=this;n&&n.forEach((a,l)=>{o.index=l,s.prepare(a,o)})}render(n,o){if(this.always||o&&o.length){n.openNode(this.tag,this.$),this.count&&n.addAttribute(this.$count,o&&o.length||0);let{childXform:s}=this;(o||[]).forEach((a,l)=>{s.render(n,a,l)}),n.closeNode()}else this.empty&&n.leafNode(this.tag)}parseOpen(n){if(this.parser)return this.parser.parseOpen(n),!0;switch(n.name){case this.tag:return this.model=[],!0;default:return!!this.childXform.parseOpen(n)&&(this.parser=this.childXform,!0)}}parseText(n){this.parser&&this.parser.parseText(n)}parseClose(n){if(this.parser){if(!this.parser.parseClose(n)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(n,o){if(n){let{childXform:s}=this;n.forEach(a=>{s.reconcile(a,o)})}}}},{"./base-xform":32}],72:[function(e,t,r){"use strict";let i=e("../../../utils/col-cache"),n=e("../base-xform");t.exports=class extends n{get tag(){return"autoFilter"}render(o,s){if(s)if(typeof s=="string")o.leafNode("autoFilter",{ref:s});else{let a=function(d){return typeof d=="string"?d:i.getAddress(d.row,d.column).address},l=a(s.from),c=a(s.to);l&&c&&o.leafNode("autoFilter",{ref:`${l}:${c}`})}}parseOpen(o){o.name==="autoFilter"&&(this.model=o.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(e,t,r){"use strict";let i=e("../../../utils/utils"),n=e("../base-xform"),o=e("../../../doc/range"),s=e("../../../doc/enums"),a=e("../strings/rich-text-xform");function l(c){if(c==null)return s.ValueType.Null;if(c instanceof String||typeof c=="string")return s.ValueType.String;if(typeof c=="number")return s.ValueType.Number;if(typeof c=="boolean")return s.ValueType.Boolean;if(c instanceof Date)return s.ValueType.Date;if(c.text&&c.hyperlink)return s.ValueType.Hyperlink;if(c.formula)return s.ValueType.Formula;if(c.error)return s.ValueType.Error;throw new Error("I could not understand type of value")}t.exports=class extends n{constructor(){super(),this.richTextXForm=new a}get tag(){return"c"}prepare(c,d){let u=d.styles.addStyleModel(c.style||{},function(h){switch(h.type){case s.ValueType.Formula:return l(h.result);default:return h.type}}(c));switch(u&&(c.styleId=u),c.comment&&d.comments.push(je(Vt({},c.comment),{ref:c.address})),c.type){case s.ValueType.String:case s.ValueType.RichText:d.sharedStrings&&(c.ssId=d.sharedStrings.add(c.value));break;case s.ValueType.Date:d.date1904&&(c.date1904=!0);break;case s.ValueType.Hyperlink:d.sharedStrings&&c.text!==void 0&&c.text!==null&&(c.ssId=d.sharedStrings.add(c.text)),d.hyperlinks.push({address:c.address,target:c.hyperlink,tooltip:c.tooltip});break;case s.ValueType.Merge:d.merges.add(c);break;case s.ValueType.Formula:if(d.date1904&&(c.date1904=!0),c.shareType==="shared"&&(c.si=d.siFormulae++),c.formula)d.formulae[c.address]=c;else if(c.sharedFormula){let h=d.formulae[c.sharedFormula];if(!h)throw new Error("Shared Formula master must exist above and or left of clone for cell "+c.address);h.si===void 0?(h.shareType="shared",h.si=d.siFormulae++,h.range=new o(h.address,c.address)):h.range&&h.range.expandToAddress(c.address),c.si=h.si}}}renderFormula(c,d){let u=null;switch(d.shareType){case"shared":u={t:"shared",ref:d.ref||d.range.range,si:d.si};break;case"array":u={t:"array",ref:d.ref};break;default:d.si!==void 0&&(u={t:"shared",si:d.si})}switch(l(d.result)){case s.ValueType.Null:c.leafNode("f",u,d.formula);break;case s.ValueType.String:c.addAttribute("t","str"),c.leafNode("f",u,d.formula),c.leafNode("v",null,d.result);break;case s.ValueType.Number:c.leafNode("f",u,d.formula),c.leafNode("v",null,d.result);break;case s.ValueType.Boolean:c.addAttribute("t","b"),c.leafNode("f",u,d.formula),c.leafNode("v",null,d.result?1:0);break;case s.ValueType.Error:c.addAttribute("t","e"),c.leafNode("f",u,d.formula),c.leafNode("v",null,d.result.error);break;case s.ValueType.Date:c.leafNode("f",u,d.formula),c.leafNode("v",null,i.dateToExcel(d.result,d.date1904));break;default:throw new Error("I could not understand type of value")}}render(c,d){if(d.type!==s.ValueType.Null||d.styleId){switch(c.openNode("c"),c.addAttribute("r",d.address),d.styleId&&c.addAttribute("s",d.styleId),d.type){case s.ValueType.Null:break;case s.ValueType.Number:c.leafNode("v",null,d.value);break;case s.ValueType.Boolean:c.addAttribute("t","b"),c.leafNode("v",null,d.value?"1":"0");break;case s.ValueType.Error:c.addAttribute("t","e"),c.leafNode("v",null,d.value.error);break;case s.ValueType.String:case s.ValueType.RichText:d.ssId!==void 0?(c.addAttribute("t","s"),c.leafNode("v",null,d.ssId)):d.value&&d.value.richText?(c.addAttribute("t","inlineStr"),c.openNode("is"),d.value.richText.forEach(u=>{this.richTextXForm.render(c,u)}),c.closeNode("is")):(c.addAttribute("t","str"),c.leafNode("v",null,d.value));break;case s.ValueType.Date:c.leafNode("v",null,i.dateToExcel(d.value,d.date1904));break;case s.ValueType.Hyperlink:d.ssId!==void 0?(c.addAttribute("t","s"),c.leafNode("v",null,d.ssId)):(c.addAttribute("t","str"),c.leafNode("v",null,d.text));break;case s.ValueType.Formula:this.renderFormula(c,d);break;case s.ValueType.Merge:}c.closeNode()}}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"c":return this.model={address:c.attributes.r},this.t=c.attributes.t,c.attributes.s&&(this.model.styleId=parseInt(c.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=c.attributes.si,this.model.shareType=c.attributes.t,this.model.ref=c.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(c),!0;default:return!1}}parseText(c){if(this.parser)this.parser.parseText(c);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+c:c;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+c:c:this.model.value=this.model.value?this.model.value+c:c}}parseClose(c){switch(c){case"c":{let{model:d}=this;if(d.formula||d.shareType)d.type=s.ValueType.Formula,d.value&&(this.t==="str"?d.result=i.xmlDecode(d.value):this.t==="b"?d.result=parseInt(d.value,10)!==0:this.t==="e"?d.result={error:d.value}:d.result=parseFloat(d.value),d.value=void 0);else if(d.value!==void 0)switch(this.t){case"s":d.type=s.ValueType.String,d.value=parseInt(d.value,10);break;case"str":d.type=s.ValueType.String,d.value=i.xmlDecode(d.value);break;case"inlineStr":d.type=s.ValueType.String;break;case"b":d.type=s.ValueType.Boolean,d.value=parseInt(d.value,10)!==0;break;case"e":d.type=s.ValueType.Error,d.value={error:d.value};break;default:d.type=s.ValueType.Number,d.value=parseFloat(d.value)}else d.styleId?d.type=s.ValueType.Null:d.type=s.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(c),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(c),!0)}}reconcile(c,d){let u=c.styleId&&d.styles&&d.styles.getStyleModel(c.styleId);switch(u&&(c.style=u),c.styleId!==void 0&&(c.styleId=void 0),c.type){case s.ValueType.String:typeof c.value=="number"&&d.sharedStrings&&(c.value=d.sharedStrings.getString(c.value)),c.value.richText&&(c.type=s.ValueType.RichText);break;case s.ValueType.Number:u&&i.isDateFmt(u.numFmt)&&(c.type=s.ValueType.Date,c.value=i.excelToDate(c.value,d.date1904));break;case s.ValueType.Formula:c.result!==void 0&&u&&i.isDateFmt(u.numFmt)&&(c.result=i.excelToDate(c.result,d.date1904)),c.shareType==="shared"&&(c.ref?d.formulae[c.si]=c.address:(c.sharedFormula=d.formulae[c.si],delete c.shareType),delete c.si)}let h=d.hyperlinkMap[c.address];h&&(c.type===s.ValueType.Formula?(c.text=c.result,c.result=void 0):(c.text=c.value,c.value=void 0),c.type=s.ValueType.Hyperlink,c.hyperlink=h);let f=d.commentsMap&&d.commentsMap[c.address];f&&(c.comment=f)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(e,t,r){"use strict";let i=e("../../base-xform");t.exports=class extends i{get tag(){return"x14:cfIcon"}render(n,o){n.leafNode(this.tag,{iconSet:o.iconSet,iconId:o.iconId})}parseOpen(n){let{attributes:o}=n;this.model={iconSet:o.iconSet,iconId:i.toIntValue(o.iconId)}}parseClose(n){return n!==this.tag}}},{"../../base-xform":32}],75:[function(e,t,r){"use strict";let{v4:i}=e("uuid"),n=e("../../base-xform"),o=e("../../composite-xform"),s=e("./databar-ext-xform"),a=e("./icon-set-ext-xform"),l={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class c extends o{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new s,"x14:iconSet":this.iconSetXform=new a}}get tag(){return"x14:cfRule"}static isExt(u){return u.type==="dataBar"?s.isExt(u):!(u.type!=="iconSet"||!u.custom&&!l[u.iconSet])}prepare(u){c.isExt(u)&&(u.x14Id=`{${i()}}`.toUpperCase())}render(u,h){if(c.isExt(h))switch(h.type){case"dataBar":this.renderDataBar(u,h);break;case"iconSet":this.renderIconSet(u,h)}}renderDataBar(u,h){u.openNode(this.tag,{type:"dataBar",id:h.x14Id}),this.databarXform.render(u,h),u.closeNode()}renderIconSet(u,h){u.openNode(this.tag,{type:"iconSet",priority:h.priority,id:h.x14Id||`{${i()}}`}),this.iconSetXform.render(u,h),u.closeNode()}createNewModel(u){let{attributes:h}=u;return{type:h.type,x14Id:h.id,priority:n.toIntValue(h.priority)}}onParserClose(u,h){Object.assign(this.model,h.model)}}t.exports=c},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(e,t,r){"use strict";let i=e("../../composite-xform"),n=e("./f-ext-xform");t.exports=class extends i{constructor(){super(),this.map={"xm:f":this.fExtXform=new n}}get tag(){return"x14:cfvo"}render(o,s){o.openNode(this.tag,{type:s.type}),s.value!==void 0&&this.fExtXform.render(o,s.value),o.closeNode()}createNewModel(o){return{type:o.attributes.type}}onParserClose(o,s){switch(o){case"xm:f":this.model.value=s.model?parseFloat(s.model):0}}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(e,t,r){"use strict";let i=e("../../composite-xform"),n=e("./sqref-ext-xform"),o=e("./cf-rule-ext-xform");t.exports=class extends i{constructor(){super(),this.map={"xm:sqref":this.sqRef=new n,"x14:cfRule":this.cfRule=new o}}get tag(){return"x14:conditionalFormatting"}prepare(s,a){s.rules.forEach(l=>{this.cfRule.prepare(l,a)})}render(s,a){a.rules.some(o.isExt)&&(s.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),a.rules.filter(o.isExt).forEach(l=>this.cfRule.render(s,l)),this.sqRef.render(s,a.ref),s.closeNode())}createNewModel(){return{rules:[]}}onParserClose(s,a){switch(s){case"xm:sqref":this.model.ref=a.model;break;case"x14:cfRule":this.model.rules.push(a.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(e,t,r){"use strict";let i=e("../../composite-xform"),n=e("./cf-rule-ext-xform"),o=e("./conditional-formatting-ext-xform");t.exports=class extends i{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new o}}get tag(){return"x14:conditionalFormattings"}hasContent(s){return s.hasExtContent===void 0&&(s.hasExtContent=s.some(a=>a.rules.some(n.isExt))),s.hasExtContent}prepare(s,a){s.forEach(l=>{this.cfXform.prepare(l,a)})}render(s,a){this.hasContent(a)&&(s.openNode(this.tag),a.forEach(l=>this.cfXform.render(s,l)),s.closeNode())}createNewModel(){return[]}onParserClose(s,a){this.model.push(a.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(e,t,r){"use strict";let i=e("../../base-xform"),n=e("../../composite-xform"),o=e("../../style/color-xform"),s=e("./cfvo-ext-xform");t.exports=class extends n{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new s,"x14:borderColor":this.borderColorXform=new o("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new o("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new o("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new o("x14:axisColor")}}static isExt(a){return!a.gradient}get tag(){return"x14:dataBar"}render(a,l){a.openNode(this.tag,{minLength:i.toIntAttribute(l.minLength,0,!0),maxLength:i.toIntAttribute(l.maxLength,100,!0),border:i.toBoolAttribute(l.border,!1),gradient:i.toBoolAttribute(l.gradient,!0),negativeBarColorSameAsPositive:i.toBoolAttribute(l.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:i.toBoolAttribute(l.negativeBarBorderColorSameAsPositive,!0),axisPosition:i.toAttribute(l.axisPosition,"auto"),direction:i.toAttribute(l.direction,"leftToRight")}),l.cfvo.forEach(c=>{this.cfvoXform.render(a,c)}),this.borderColorXform.render(a,l.borderColor),this.negativeBorderColorXform.render(a,l.negativeBorderColor),this.negativeFillColorXform.render(a,l.negativeFillColor),this.axisColorXform.render(a,l.axisColor),a.closeNode()}createNewModel(a){let{attributes:l}=a;return{cfvo:[],minLength:i.toIntValue(l.minLength,0),maxLength:i.toIntValue(l.maxLength,100),border:i.toBoolValue(l.border,!1),gradient:i.toBoolValue(l.gradient,!0),negativeBarColorSameAsPositive:i.toBoolValue(l.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:i.toBoolValue(l.negativeBarBorderColorSameAsPositive,!0),axisPosition:i.toStringValue(l.axisPosition,"auto"),direction:i.toStringValue(l.direction,"leftToRight")}}onParserClose(a,l){let[,c]=a.split(":");switch(c){case"cfvo":this.model.cfvo.push(l.model);break;default:this.model[c]=l.model}}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(e,t,r){"use strict";let i=e("../../base-xform");t.exports=class extends i{get tag(){return"xm:f"}render(n,o){n.leafNode(this.tag,null,o)}parseOpen(){this.model=""}parseText(n){this.model+=n}parseClose(n){return n!==this.tag}}},{"../../base-xform":32}],81:[function(e,t,r){"use strict";let i=e("../../base-xform"),n=e("../../composite-xform"),o=e("./cfvo-ext-xform"),s=e("./cf-icon-ext-xform");t.exports=class extends n{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new o,"x14:cfIcon":this.cfIconXform=new s}}get tag(){return"x14:iconSet"}render(a,l){a.openNode(this.tag,{iconSet:i.toStringAttribute(l.iconSet),reverse:i.toBoolAttribute(l.reverse,!1),showValue:i.toBoolAttribute(l.showValue,!0),custom:i.toBoolAttribute(l.icons,!1)}),l.cfvo.forEach(c=>{this.cfvoXform.render(a,c)}),l.icons&&l.icons.forEach((c,d)=>{c.iconId=d,this.cfIconXform.render(a,c)}),a.closeNode()}createNewModel(a){let{attributes:l}=a;return{cfvo:[],iconSet:i.toStringValue(l.iconSet,"3TrafficLights"),reverse:i.toBoolValue(l.reverse,!1),showValue:i.toBoolValue(l.showValue,!0)}}onParserClose(a,l){let[,c]=a.split(":");switch(c){case"cfvo":this.model.cfvo.push(l.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(l.model);break;default:this.model[c]=l.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(e,t,r){"use strict";let i=e("../../base-xform");t.exports=class extends i{get tag(){return"xm:sqref"}render(n,o){n.leafNode(this.tag,null,o)}parseOpen(){this.model=""}parseText(n){this.model+=n}parseClose(n){return n!==this.tag}}},{"../../base-xform":32}],83:[function(e,t,r){"use strict";let i=e("../../base-xform"),n=e("../../composite-xform"),o=e("../../../../doc/range"),s=e("./databar-xform"),a=e("./ext-lst-ref-xform"),l=e("./formula-xform"),c=e("./color-scale-xform"),d=e("./icon-set-xform"),u={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},h=m=>{let{type:g,operator:p}=m;switch(g){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:g};default:return{type:g,operator:p}}};class f extends n{constructor(){super(),this.map={dataBar:this.databarXform=new s,extLst:this.extLstRefXform=new a,formula:this.formulaXform=new l,colorScale:this.colorScaleXform=new c,iconSet:this.iconSetXform=new d}}get tag(){return"cfRule"}static isPrimitive(g){return g.type!=="iconSet"||!g.custom&&!u[g.iconSet]}render(g,p){switch(p.type){case"expression":this.renderExpression(g,p);break;case"cellIs":this.renderCellIs(g,p);break;case"top10":this.renderTop10(g,p);break;case"aboveAverage":this.renderAboveAverage(g,p);break;case"dataBar":this.renderDataBar(g,p);break;case"colorScale":this.renderColorScale(g,p);break;case"iconSet":this.renderIconSet(g,p);break;case"containsText":this.renderText(g,p);break;case"timePeriod":this.renderTimePeriod(g,p)}}renderExpression(g,p){g.openNode(this.tag,{type:"expression",dxfId:p.dxfId,priority:p.priority}),this.formulaXform.render(g,p.formulae[0]),g.closeNode()}renderCellIs(g,p){g.openNode(this.tag,{type:"cellIs",dxfId:p.dxfId,priority:p.priority,operator:p.operator}),p.formulae.forEach(b=>{this.formulaXform.render(g,b)}),g.closeNode()}renderTop10(g,p){g.leafNode(this.tag,{type:"top10",dxfId:p.dxfId,priority:p.priority,percent:i.toBoolAttribute(p.percent,!1),bottom:i.toBoolAttribute(p.bottom,!1),rank:i.toIntValue(p.rank,10,!0)})}renderAboveAverage(g,p){g.leafNode(this.tag,{type:"aboveAverage",dxfId:p.dxfId,priority:p.priority,aboveAverage:i.toBoolAttribute(p.aboveAverage,!0)})}renderDataBar(g,p){g.openNode(this.tag,{type:"dataBar",priority:p.priority}),this.databarXform.render(g,p),this.extLstRefXform.render(g,p),g.closeNode()}renderColorScale(g,p){g.openNode(this.tag,{type:"colorScale",priority:p.priority}),this.colorScaleXform.render(g,p),g.closeNode()}renderIconSet(g,p){f.isPrimitive(p)&&(g.openNode(this.tag,{type:"iconSet",priority:p.priority}),this.iconSetXform.render(g,p),g.closeNode())}renderText(g,p){g.openNode(this.tag,{type:p.operator,dxfId:p.dxfId,priority:p.priority,operator:i.toStringAttribute(p.operator,"containsText")});let b=(_=>{if(_.formulae&&_.formulae[0])return _.formulae[0];let E=new o(_.ref),{tl:O}=E;switch(_.operator){case"containsText":return`NOT(ISERROR(SEARCH("${_.text}",${O})))`;case"containsBlanks":return`LEN(TRIM(${O}))=0`;case"notContainsBlanks":return`LEN(TRIM(${O}))>0`;case"containsErrors":return`ISERROR(${O})`;case"notContainsErrors":return`NOT(ISERROR(${O}))`;default:return}})(p);b&&this.formulaXform.render(g,b),g.closeNode()}renderTimePeriod(g,p){g.openNode(this.tag,{type:"timePeriod",dxfId:p.dxfId,priority:p.priority,timePeriod:p.timePeriod});let b=(_=>{if(_.formulae&&_.formulae[0])return _.formulae[0];let E=new o(_.ref),{tl:O}=E;switch(_.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${O},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${O},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${O},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${O},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${O},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${O},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${O},1)=TODAY()-1`;case"today":return`FLOOR(${O},1)=TODAY()`;case"tomorrow":return`FLOOR(${O},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${O},1)<=6,FLOOR(${O},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${O})=MONTH(EDATE(TODAY(),0-1)),YEAR(${O})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${O})=MONTH(TODAY()),YEAR(${O})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${O})=MONTH(EDATE(TODAY(),0+1)),YEAR(${O})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(p);b&&this.formulaXform.render(g,b),g.closeNode()}createNewModel(g){let{attributes:p}=g;return je(Vt({},h(p)),{dxfId:i.toIntValue(p.dxfId),priority:i.toIntValue(p.priority),timePeriod:p.timePeriod,percent:i.toBoolValue(p.percent),bottom:i.toBoolValue(p.bottom),rank:i.toIntValue(p.rank),aboveAverage:i.toBoolValue(p.aboveAverage)})}onParserClose(g,p){switch(g){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,p.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(p.model)}}}t.exports=f},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(e,t,r){"use strict";let i=e("../../base-xform");t.exports=class extends i{get tag(){return"cfvo"}render(n,o){n.leafNode(this.tag,{type:o.type,val:o.value})}parseOpen(n){this.model={type:n.attributes.type,value:i.toFloatValue(n.attributes.val)}}parseClose(n){return n!==this.tag}}},{"../../base-xform":32}],85:[function(e,t,r){"use strict";let i=e("../../composite-xform"),n=e("../../style/color-xform"),o=e("./cfvo-xform");t.exports=class extends i{constructor(){super(),this.map={cfvo:this.cfvoXform=new o,color:this.colorXform=new n}}get tag(){return"colorScale"}render(s,a){s.openNode(this.tag),a.cfvo.forEach(l=>{this.cfvoXform.render(s,l)}),a.color.forEach(l=>{this.colorXform.render(s,l)}),s.closeNode()}createNewModel(s){return{cfvo:[],color:[]}}onParserClose(s,a){this.model[s].push(a.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(e,t,r){"use strict";let i=e("../../composite-xform"),n=e("./cf-rule-xform");t.exports=class extends i{constructor(){super(),this.map={cfRule:new n}}get tag(){return"conditionalFormatting"}render(o,s){s.rules.some(n.isPrimitive)&&(o.openNode(this.tag,{sqref:s.ref}),s.rules.forEach(a=>{n.isPrimitive(a)&&(a.ref=s.ref,this.map.cfRule.render(o,a))}),o.closeNode())}createNewModel(o){let{attributes:s}=o;return{ref:s.sqref,rules:[]}}onParserClose(o,s){this.model.rules.push(s.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(e,t,r){"use strict";let i=e("../../base-xform"),n=e("./conditional-formatting-xform");t.exports=class extends i{constructor(){super(),this.cfXform=new n}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(o,s){let a=o.reduce((l,c)=>Math.max(l,...c.rules.map(d=>d.priority||0)),1);o.forEach(l=>{l.rules.forEach(c=>{c.priority||(c.priority=a++),c.style&&(c.dxfId=s.styles.addDxfStyle(c.style))})})}render(o,s){s.forEach(a=>{this.cfXform.render(o,a)})}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(o),!0;default:return!1}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){return!!this.parser&&(!!this.parser.parseClose(o)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(o,s){o.forEach(a=>{a.rules.forEach(l=>{l.dxfId!==void 0&&(l.style=s.styles.getDxfStyle(l.dxfId),delete l.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(e,t,r){"use strict";let i=e("../../composite-xform"),n=e("../../style/color-xform"),o=e("./cfvo-xform");t.exports=class extends i{constructor(){super(),this.map={cfvo:this.cfvoXform=new o,color:this.colorXform=new n}}get tag(){return"dataBar"}render(s,a){s.openNode(this.tag),a.cfvo.forEach(l=>{this.cfvoXform.render(s,l)}),this.colorXform.render(s,a.color),s.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(s,a){switch(s){case"cfvo":this.model.cfvo.push(a.model);break;case"color":this.model.color=a.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(e,t,r){"use strict";let i=e("../../base-xform"),n=e("../../composite-xform");class o extends i{get tag(){return"x14:id"}render(l,c){l.leafNode(this.tag,null,c)}parseOpen(){this.model=""}parseText(l){this.model+=l}parseClose(l){return l!==this.tag}}class s extends n{constructor(){super(),this.map={"x14:id":this.idXform=new o}}get tag(){return"ext"}render(l,c){l.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(l,c.x14Id),l.closeNode()}createNewModel(){return{}}onParserClose(l,c){this.model.x14Id=c.model}}t.exports=class extends n{constructor(){super(),this.map={ext:new s}}get tag(){return"extLst"}render(a,l){a.openNode(this.tag),this.map.ext.render(a,l),a.closeNode()}createNewModel(){return{}}onParserClose(a,l){Object.assign(this.model,l.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(e,t,r){"use strict";let i=e("../../base-xform");t.exports=class extends i{get tag(){return"formula"}render(n,o){n.leafNode(this.tag,null,o)}parseOpen(){this.model=""}parseText(n){this.model+=n}parseClose(n){return n!==this.tag}}},{"../../base-xform":32}],91:[function(e,t,r){"use strict";let i=e("../../base-xform"),n=e("../../composite-xform"),o=e("./cfvo-xform");t.exports=class extends n{constructor(){super(),this.map={cfvo:this.cfvoXform=new o}}get tag(){return"iconSet"}render(s,a){s.openNode(this.tag,{iconSet:i.toStringAttribute(a.iconSet,"3TrafficLights"),reverse:i.toBoolAttribute(a.reverse,!1),showValue:i.toBoolAttribute(a.showValue,!0)}),a.cfvo.forEach(l=>{this.cfvoXform.render(s,l)}),s.closeNode()}createNewModel(s){let{attributes:a}=s;return{iconSet:i.toStringValue(a.iconSet,"3TrafficLights"),reverse:i.toBoolValue(a.reverse),showValue:i.toBoolValue(a.showValue),cfvo:[]}}onParserClose(s,a){this.model[s].push(a.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(e,t,r){"use strict";let i=e("../../../utils/utils"),n=e("../base-xform");t.exports=class extends n{get tag(){return"col"}prepare(o,s){let a=s.styles.addStyleModel(o.style||{});a&&(o.styleId=a)}render(o,s){o.openNode("col"),o.addAttribute("min",s.min),o.addAttribute("max",s.max),s.width&&o.addAttribute("width",s.width),s.styleId&&o.addAttribute("style",s.styleId),s.hidden&&o.addAttribute("hidden","1"),s.bestFit&&o.addAttribute("bestFit","1"),s.outlineLevel&&o.addAttribute("outlineLevel",s.outlineLevel),s.collapsed&&o.addAttribute("collapsed","1"),o.addAttribute("customWidth","1"),o.closeNode()}parseOpen(o){if(o.name==="col"){let s=this.model={min:parseInt(o.attributes.min||"0",10),max:parseInt(o.attributes.max||"0",10),width:o.attributes.width===void 0?void 0:parseFloat(o.attributes.width||"0")};return o.attributes.style&&(s.styleId=parseInt(o.attributes.style,10)),i.parseBoolean(o.attributes.hidden)&&(s.hidden=!0),i.parseBoolean(o.attributes.bestFit)&&(s.bestFit=!0),o.attributes.outlineLevel&&(s.outlineLevel=parseInt(o.attributes.outlineLevel,10)),i.parseBoolean(o.attributes.collapsed)&&(s.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(o,s){o.styleId&&(o.style=s.styles.getStyleModel(o.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(e,t,r){"use strict";let i=e("../../../utils/under-dash"),n=e("../../../utils/utils"),o=e("../../../utils/col-cache"),s=e("../base-xform"),a=e("../../../doc/range");function l(d,u,h,f){let m=u[h];m!==void 0?d[h]=m:f!==void 0&&(d[h]=f)}function c(d,u,h,f){let m=u[h];m!==void 0?d[h]=n.parseBoolean(m):f!==void 0&&(d[h]=f)}t.exports=class extends s{get tag(){return"dataValidations"}render(d,u){let h=function(f){let m=i.map(f,(b,_)=>({address:_,dataValidation:b,marked:!1})).sort((b,_)=>i.strcmp(b.address,_.address)),g=i.keyBy(m,"address"),p=(b,_,E)=>{for(let O=0;O<_;O++){let V=o.encodeAddress(b.row+O,E);if(!f[V]||!i.isEqual(f[b.address],f[V]))return!1}return!0};return m.map(b=>{if(!b.marked){let _=o.decodeEx(b.address);if(_.dimensions)return g[_.dimensions].marked=!0,je(Vt({},b.dataValidation),{sqref:b.address});let E=1,O=o.encodeAddress(_.row+E,_.col);for(;f[O]&&i.isEqual(b.dataValidation,f[O]);)E++,O=o.encodeAddress(_.row+E,_.col);let V=1;for(;p(_,E,_.col+V);)V++;for(let H=0;H<E;H++)for(let F=0;F<V;F++)O=o.encodeAddress(_.row+H,_.col+F),g[O].marked=!0;if(E>1||V>1){let H=_.row+(E-1),F=_.col+(V-1);return je(Vt({},b.dataValidation),{sqref:`${b.address}:${o.encodeAddress(H,F)}`})}return je(Vt({},b.dataValidation),{sqref:b.address})}return null}).filter(Boolean)}(u);h.length&&(d.openNode("dataValidations",{count:h.length}),h.forEach(f=>{d.openNode("dataValidation"),f.type!=="any"&&(d.addAttribute("type",f.type),f.operator&&f.type!=="list"&&f.operator!=="between"&&d.addAttribute("operator",f.operator),f.allowBlank&&d.addAttribute("allowBlank","1")),f.showInputMessage&&d.addAttribute("showInputMessage","1"),f.promptTitle&&d.addAttribute("promptTitle",f.promptTitle),f.prompt&&d.addAttribute("prompt",f.prompt),f.showErrorMessage&&d.addAttribute("showErrorMessage","1"),f.errorStyle&&d.addAttribute("errorStyle",f.errorStyle),f.errorTitle&&d.addAttribute("errorTitle",f.errorTitle),f.error&&d.addAttribute("error",f.error),d.addAttribute("sqref",f.sqref),(f.formulae||[]).forEach((m,g)=>{d.openNode("formula"+(g+1)),f.type==="date"?d.writeText(n.dateToExcel(new Date(m))):d.writeText(m),d.closeNode()}),d.closeNode()}),d.closeNode())}parseOpen(d){switch(d.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=d.attributes.sqref;let u={type:d.attributes.type||"any",formulae:[]};switch(d.attributes.type&&c(u,d.attributes,"allowBlank"),c(u,d.attributes,"showInputMessage"),c(u,d.attributes,"showErrorMessage"),u.type){case"any":case"list":case"custom":break;default:l(u,d.attributes,"operator","between")}return l(u,d.attributes,"promptTitle"),l(u,d.attributes,"prompt"),l(u,d.attributes,"errorStyle"),l(u,d.attributes,"errorTitle"),l(u,d.attributes,"error"),this._dataValidation=u,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(d){this._formula&&this._formula.push(d)}parseClose(d){switch(d){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(u=>{u.includes(":")?new a(u).forEachAddress(h=>{this.model[h]=this._dataValidation}):this.model[u]=this._dataValidation}),!0;case"formula1":case"formula2":{let u=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":u=parseInt(u,10);break;case"decimal":u=parseFloat(u);break;case"date":u=n.excelToDate(parseFloat(u))}return this._dataValidation.formulae.push(u),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{get tag(){return"dimension"}render(n,o){o&&n.leafNode("dimension",{ref:o})}parseOpen(n){return n.name==="dimension"&&(this.model=n.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{get tag(){return"drawing"}render(n,o){o&&n.leafNode(this.tag,{"r:id":o.rId})}parseOpen(n){switch(n.name){case this.tag:return this.model={rId:n.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(e,t,r){"use strict";let i=e("../composite-xform"),n=e("./cf-ext/conditional-formattings-ext-xform");class o extends i{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new n}}get tag(){return"ext"}hasContent(a){return this.conditionalFormattings.hasContent(a.conditionalFormattings)}prepare(a,l){this.conditionalFormattings.prepare(a.conditionalFormattings,l)}render(a,l){a.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(a,l.conditionalFormattings),a.closeNode()}createNewModel(){return{}}onParserClose(a,l){this.model[a]=l.model}}t.exports=class extends i{constructor(){super(),this.map={ext:this.ext=new o}}get tag(){return"extLst"}prepare(s,a){this.ext.prepare(s,a)}hasContent(s){return this.ext.hasContent(s)}render(s,a){this.hasContent(a)&&(s.openNode("extLst"),this.ext.render(s,a),s.closeNode())}createNewModel(){return{}}onParserClose(s,a){Object.assign(this.model,a.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{get tag(){return"headerFooter"}render(n,o){if(o){n.addRollback();let s=!1;n.openNode("headerFooter"),o.differentFirst&&(n.addAttribute("differentFirst","1"),s=!0),o.differentOddEven&&(n.addAttribute("differentOddEven","1"),s=!0),o.oddHeader&&typeof o.oddHeader=="string"&&(n.leafNode("oddHeader",null,o.oddHeader),s=!0),o.oddFooter&&typeof o.oddFooter=="string"&&(n.leafNode("oddFooter",null,o.oddFooter),s=!0),o.evenHeader&&typeof o.evenHeader=="string"&&(n.leafNode("evenHeader",null,o.evenHeader),s=!0),o.evenFooter&&typeof o.evenFooter=="string"&&(n.leafNode("evenFooter",null,o.evenFooter),s=!0),o.firstHeader&&typeof o.firstHeader=="string"&&(n.leafNode("firstHeader",null,o.firstHeader),s=!0),o.firstFooter&&typeof o.firstFooter=="string"&&(n.leafNode("firstFooter",null,o.firstFooter),s=!0),s?(n.closeNode(),n.commit()):n.rollback()}}parseOpen(n){switch(n.name){case"headerFooter":return this.model={},n.attributes.differentFirst&&(this.model.differentFirst=parseInt(n.attributes.differentFirst,0)===1),n.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(n.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(n){switch(this.currentNode){case"oddHeader":this.model.oddHeader=n;break;case"oddFooter":this.model.oddFooter=n;break;case"evenHeader":this.model.evenHeader=n;break;case"evenFooter":this.model.evenFooter=n;break;case"firstHeader":this.model.firstHeader=n;break;case"firstFooter":this.model.firstFooter=n}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{get tag(){return"hyperlink"}render(n,o){this.isInternalLink(o)?n.leafNode("hyperlink",{ref:o.address,"r:id":o.rId,tooltip:o.tooltip,location:o.target}):n.leafNode("hyperlink",{ref:o.address,"r:id":o.rId,tooltip:o.tooltip})}parseOpen(n){return n.name==="hyperlink"&&(this.model={address:n.attributes.ref,rId:n.attributes["r:id"],tooltip:n.attributes.tooltip},n.attributes.location&&(this.model.target=n.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(n){return n.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(n.target)}}},{"../base-xform":32}],99:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{get tag(){return"mergeCell"}render(n,o){n.leafNode("mergeCell",{ref:o})}parseOpen(n){return n.name==="mergeCell"&&(this.model=n.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(e,t,r){"use strict";let i=e("../../../utils/under-dash"),n=e("../../../doc/range"),o=e("../../../utils/col-cache"),s=e("../../../doc/enums");t.exports=class{constructor(){this.merges={}}add(a){if(this.merges[a.master])this.merges[a.master].expandToAddress(a.address);else{let l=`${a.master}:${a.address}`;this.merges[a.master]=new n(l)}}get mergeCells(){return i.map(this.merges,a=>a.range)}reconcile(a,l){i.each(a,c=>{let d=o.decode(c);for(let u=d.top;u<=d.bottom;u++){let h=l[u-1];for(let f=d.left;f<=d.right;f++){let m=h.cells[f-1];m?m.type===s.ValueType.Merge&&(m.master=d.tl):h.cells[f]={type:s.ValueType.Null,address:o.encodeAddress(u,f)}}}})}getMasterAddress(a){let l=this.hash[a];return l&&l.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(e,t,r){"use strict";let i=e("../base-xform"),n=o=>o!==void 0;t.exports=class extends i{get tag(){return"outlinePr"}render(o,s){return!(!s||!n(s.summaryBelow)&&!n(s.summaryRight))&&(o.leafNode(this.tag,{summaryBelow:n(s.summaryBelow)?Number(s.summaryBelow):void 0,summaryRight:n(s.summaryRight)?Number(s.summaryRight):void 0}),!0)}parseOpen(o){return o.name===this.tag&&(this.model={summaryBelow:n(o.attributes.summaryBelow)?!!Number(o.attributes.summaryBelow):void 0,summaryRight:n(o.attributes.summaryRight)?!!Number(o.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{get tag(){return"brk"}render(n,o){n.leafNode("brk",o)}parseOpen(n){return n.name==="brk"&&(this.model=n.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(e,t,r){"use strict";let i=e("../../../utils/under-dash"),n=e("../base-xform");t.exports=class extends n{get tag(){return"pageMargins"}render(o,s){if(s){let a={left:s.left,right:s.right,top:s.top,bottom:s.bottom,header:s.header,footer:s.footer};i.some(a,l=>l!==void 0)&&o.leafNode(this.tag,a)}}parseOpen(o){switch(o.name){case this.tag:return this.model={left:parseFloat(o.attributes.left||.7),right:parseFloat(o.attributes.right||.7),top:parseFloat(o.attributes.top||.75),bottom:parseFloat(o.attributes.bottom||.75),header:parseFloat(o.attributes.header||.3),footer:parseFloat(o.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{get tag(){return"pageSetUpPr"}render(n,o){return!(!o||!o.fitToPage)&&(n.leafNode(this.tag,{fitToPage:o.fitToPage?"1":void 0}),!0)}parseOpen(n){return n.name===this.tag&&(this.model={fitToPage:n.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(e,t,r){"use strict";let i=e("../../../utils/under-dash"),n=e("../base-xform");function o(c){return c?"1":void 0}function s(c){switch(c){case"overThenDown":return c;default:return}}function a(c){switch(c){case"atEnd":case"asDisplyed":return c;default:return}}function l(c){switch(c){case"dash":case"blank":case"NA":return c;default:return}}t.exports=class extends n{get tag(){return"pageSetup"}render(c,d){if(d){let u={paperSize:d.paperSize,orientation:d.orientation,horizontalDpi:d.horizontalDpi,verticalDpi:d.verticalDpi,pageOrder:s(d.pageOrder),blackAndWhite:o(d.blackAndWhite),draft:o(d.draft),cellComments:a(d.cellComments),errors:l(d.errors),scale:d.scale,fitToWidth:d.fitToWidth,fitToHeight:d.fitToHeight,firstPageNumber:d.firstPageNumber,useFirstPageNumber:o(d.firstPageNumber),usePrinterDefaults:o(d.usePrinterDefaults),copies:d.copies};i.some(u,h=>h!==void 0)&&c.leafNode(this.tag,u)}}parseOpen(c){switch(c.name){case this.tag:return this.model={paperSize:(d=c.attributes.paperSize,d!==void 0?parseInt(d,10):void 0),orientation:c.attributes.orientation||"portrait",horizontalDpi:parseInt(c.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(c.attributes.verticalDpi||"4294967295",10),pageOrder:c.attributes.pageOrder||"downThenOver",blackAndWhite:c.attributes.blackAndWhite==="1",draft:c.attributes.draft==="1",cellComments:c.attributes.cellComments||"None",errors:c.attributes.errors||"displayed",scale:parseInt(c.attributes.scale||"100",10),fitToWidth:parseInt(c.attributes.fitToWidth||"1",10),fitToHeight:parseInt(c.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(c.attributes.firstPageNumber||"1",10),useFirstPageNumber:c.attributes.useFirstPageNumber==="1",usePrinterDefaults:c.attributes.usePrinterDefaults==="1",copies:parseInt(c.attributes.copies||"1",10)},!0;default:return!1}var d}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{get tag(){return"picture"}render(n,o){o&&n.leafNode(this.tag,{"r:id":o.rId})}parseOpen(n){switch(n.name){case this.tag:return this.model={rId:n.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(e,t,r){"use strict";let i=e("../../../utils/under-dash"),n=e("../base-xform");function o(s){return s?"1":void 0}t.exports=class extends n{get tag(){return"printOptions"}render(s,a){if(a){let l={headings:o(a.showRowColHeaders),gridLines:o(a.showGridLines),horizontalCentered:o(a.horizontalCentered),verticalCentered:o(a.verticalCentered)};i.some(l,c=>c!==void 0)&&s.leafNode(this.tag,l)}}parseOpen(s){switch(s.name){case this.tag:return this.model={showRowColHeaders:s.attributes.headings==="1",showGridLines:s.attributes.gridLines==="1",horizontalCentered:s.attributes.horizontalCentered==="1",verticalCentered:s.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(e,t,r){"use strict";let i=e("./page-breaks-xform"),n=e("../list-xform");t.exports=class extends n{constructor(){super({tag:"rowBreaks",count:!0,childXform:new i})}render(o,s){if(s&&s.length){o.openNode(this.tag,this.$),this.count&&(o.addAttribute(this.$count,s.length),o.addAttribute("manualBreakCount",s.length));let{childXform:a}=this;s.forEach(l=>{a.render(o,l)}),o.closeNode()}else this.empty&&o.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(e,t,r){"use strict";let i=e("../base-xform"),n=e("../../../utils/utils"),o=e("./cell-xform");t.exports=class extends i{constructor(s){super(),this.maxItems=s&&s.maxItems,this.map={c:new o}}get tag(){return"row"}prepare(s,a){let l=a.styles.addStyleModel(s.style);l&&(s.styleId=l);let c=this.map.c;s.cells.forEach(d=>{c.prepare(d,a)})}render(s,a,l){s.openNode("row"),s.addAttribute("r",a.number),a.height&&(s.addAttribute("ht",a.height),s.addAttribute("customHeight","1")),a.hidden&&s.addAttribute("hidden","1"),a.min>0&&a.max>0&&a.min<=a.max&&s.addAttribute("spans",`${a.min}:${a.max}`),a.styleId&&(s.addAttribute("s",a.styleId),s.addAttribute("customFormat","1")),s.addAttribute("x14ac:dyDescent","0.25"),a.outlineLevel&&s.addAttribute("outlineLevel",a.outlineLevel),a.collapsed&&s.addAttribute("collapsed","1");let c=this.map.c;a.cells.forEach(d=>{c.render(s,d,l)}),s.closeNode()}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;if(s.name==="row"){this.numRowsSeen+=1;let a=s.attributes.spans?s.attributes.spans.split(":").map(c=>parseInt(c,10)):[void 0,void 0],l=this.model={number:parseInt(s.attributes.r,10),min:a[0],max:a[1],cells:[]};return s.attributes.s&&(l.styleId=parseInt(s.attributes.s,10)),n.parseBoolean(s.attributes.hidden)&&(l.hidden=!0),n.parseBoolean(s.attributes.bestFit)&&(l.bestFit=!0),s.attributes.ht&&(l.height=parseFloat(s.attributes.ht)),s.attributes.outlineLevel&&(l.outlineLevel=parseInt(s.attributes.outlineLevel,10)),n.parseBoolean(s.attributes.collapsed)&&(l.collapsed=!0),!0}return this.parser=this.map[s.name],!!this.parser&&(this.parser.parseOpen(s),!0)}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){if(this.parser){if(!this.parser.parseClose(s)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(s,a){s.style=s.styleId?a.styles.getStyleModel(s.styleId):{},s.styleId!==void 0&&(s.styleId=void 0);let l=this.map.c;s.cells.forEach(c=>{l.reconcile(c,a)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(e,t,r){"use strict";let i=e("../../../utils/under-dash"),n=e("../base-xform");t.exports=class extends n{get tag(){return"sheetFormatPr"}render(o,s){if(s){let a={defaultRowHeight:s.defaultRowHeight,outlineLevelRow:s.outlineLevelRow,outlineLevelCol:s.outlineLevelCol,"x14ac:dyDescent":s.dyDescent};s.defaultColWidth&&(a.defaultColWidth=s.defaultColWidth),s.defaultRowHeight&&s.defaultRowHeight===15||(a.customHeight="1"),i.some(a,l=>l!==void 0)&&o.leafNode("sheetFormatPr",a)}}parseOpen(o){return o.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(o.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(o.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(o.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(o.attributes.outlineLevelCol||"0",10)},o.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(o.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(e,t,r){"use strict";let i=e("../base-xform"),n=e("../style/color-xform"),o=e("./page-setup-properties-xform"),s=e("./outline-properties-xform");t.exports=class extends i{constructor(){super(),this.map={tabColor:new n("tabColor"),pageSetUpPr:new o,outlinePr:new s}}get tag(){return"sheetPr"}render(a,l){if(l){a.addRollback(),a.openNode("sheetPr");let c=!1;c=this.map.tabColor.render(a,l.tabColor)||c,c=this.map.pageSetUpPr.render(a,l.pageSetup)||c,c=this.map.outlinePr.render(a,l.outlineProperties)||c,c?(a.closeNode(),a.commit()):a.rollback()}}parseOpen(a){return this.parser?(this.parser.parseOpen(a),!0):a.name===this.tag?(this.reset(),!0):!!this.map[a.name]&&(this.parser=this.map[a.name],this.parser.parseOpen(a),!0)}parseText(a){return!!this.parser&&(this.parser.parseText(a),!0)}parseClose(a){return this.parser?(this.parser.parseClose(a)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(e,t,r){"use strict";let i=e("../../../utils/under-dash"),n=e("../base-xform");function o(a,l){return a?l:void 0}function s(a,l){return a===l||void 0}t.exports=class extends n{get tag(){return"sheetProtection"}render(a,l){if(l){let c={sheet:o(l.sheet,"1"),selectLockedCells:l.selectLockedCells===!1?"1":void 0,selectUnlockedCells:l.selectUnlockedCells===!1?"1":void 0,formatCells:o(l.formatCells,"0"),formatColumns:o(l.formatColumns,"0"),formatRows:o(l.formatRows,"0"),insertColumns:o(l.insertColumns,"0"),insertRows:o(l.insertRows,"0"),insertHyperlinks:o(l.insertHyperlinks,"0"),deleteColumns:o(l.deleteColumns,"0"),deleteRows:o(l.deleteRows,"0"),sort:o(l.sort,"0"),autoFilter:o(l.autoFilter,"0"),pivotTables:o(l.pivotTables,"0")};l.sheet&&(c.algorithmName=l.algorithmName,c.hashValue=l.hashValue,c.saltValue=l.saltValue,c.spinCount=l.spinCount,c.objects=o(l.objects===!1,"1"),c.scenarios=o(l.scenarios===!1,"1")),i.some(c,d=>d!==void 0)&&a.leafNode(this.tag,c)}}parseOpen(a){switch(a.name){case this.tag:return this.model={sheet:s(a.attributes.sheet,"1"),objects:a.attributes.objects!=="1"&&void 0,scenarios:a.attributes.scenarios!=="1"&&void 0,selectLockedCells:a.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:a.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:s(a.attributes.formatCells,"0"),formatColumns:s(a.attributes.formatColumns,"0"),formatRows:s(a.attributes.formatRows,"0"),insertColumns:s(a.attributes.insertColumns,"0"),insertRows:s(a.attributes.insertRows,"0"),insertHyperlinks:s(a.attributes.insertHyperlinks,"0"),deleteColumns:s(a.attributes.deleteColumns,"0"),deleteRows:s(a.attributes.deleteRows,"0"),sort:s(a.attributes.sort,"0"),autoFilter:s(a.attributes.autoFilter,"0"),pivotTables:s(a.attributes.pivotTables,"0")},a.attributes.algorithmName&&(this.model.algorithmName=a.attributes.algorithmName,this.model.hashValue=a.attributes.hashValue,this.model.saltValue=a.attributes.saltValue,this.model.spinCount=parseInt(a.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(e,t,r){"use strict";let i=e("../../../utils/col-cache"),n=e("../base-xform"),o={frozen:"frozen",frozenSplit:"frozen",split:"split"};t.exports=class extends n{get tag(){return"sheetView"}prepare(s){switch(s.state){case"frozen":case"split":break;default:s.state="normal"}}render(s,a){s.openNode("sheetView",{workbookViewId:a.workbookViewId||0});let l=function(f,m,g){g&&s.addAttribute(f,m)},c,d,u,h;switch(l("rightToLeft","1",a.rightToLeft===!0),l("tabSelected","1",a.tabSelected),l("showRuler","0",a.showRuler===!1),l("showRowColHeaders","0",a.showRowColHeaders===!1),l("showGridLines","0",a.showGridLines===!1),l("zoomScale",a.zoomScale,a.zoomScale),l("zoomScaleNormal",a.zoomScaleNormal,a.zoomScaleNormal),l("view",a.style,a.style),a.state){case"frozen":d=a.xSplit||0,u=a.ySplit||0,c=a.topLeftCell||i.getAddress(u+1,d+1).address,h=(a.xSplit&&a.ySplit?"bottomRight":a.xSplit&&"topRight")||"bottomLeft",s.leafNode("pane",{xSplit:a.xSplit||void 0,ySplit:a.ySplit||void 0,topLeftCell:c,activePane:h,state:"frozen"}),s.leafNode("selection",{pane:h,activeCell:a.activeCell,sqref:a.activeCell});break;case"split":a.activePane==="topLeft"&&(a.activePane=void 0),s.leafNode("pane",{xSplit:a.xSplit||void 0,ySplit:a.ySplit||void 0,topLeftCell:a.topLeftCell,activePane:a.activePane}),s.leafNode("selection",{pane:a.activePane,activeCell:a.activeCell,sqref:a.activeCell});break;case"normal":a.activeCell&&s.leafNode("selection",{activeCell:a.activeCell,sqref:a.activeCell})}s.closeNode()}parseOpen(s){switch(s.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(s.attributes.workbookViewId,10),rightToLeft:s.attributes.rightToLeft==="1",tabSelected:s.attributes.tabSelected==="1",showRuler:s.attributes.showRuler!=="0",showRowColHeaders:s.attributes.showRowColHeaders!=="0",showGridLines:s.attributes.showGridLines!=="0",zoomScale:parseInt(s.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(s.attributes.zoomScaleNormal||"100",10),style:s.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(s.attributes.xSplit||"0",10),ySplit:parseInt(s.attributes.ySplit||"0",10),topLeftCell:s.attributes.topLeftCell,activePane:s.attributes.activePane||"topLeft",state:s.attributes.state},!0;case"selection":{let a=s.attributes.pane||"topLeft";return this.selections[a]={pane:a,activeCell:s.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(s){let a,l;switch(s){case"sheetView":return this.sheetView&&this.pane?(a=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:o[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(a.activePane=this.pane.activePane),l=this.selections[this.pane.activePane],l&&l.activeCell&&(a.activeCell=l.activeCell),this.sheetView.style&&(a.style=this.sheetView.style)):(a=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},l=this.selections.topLeft,l&&l.activeCell&&(a.activeCell=l.activeCell),this.sheetView.style&&(a.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{get tag(){return"tablePart"}render(n,o){o&&n.leafNode(this.tag,{"r:id":o.rId})}parseOpen(n){switch(n.name){case this.tag:return this.model={rId:n.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(e,t,r){"use strict";let i=e("../../../utils/under-dash"),n=e("../../../utils/col-cache"),o=e("../../../utils/xml-stream"),s=e("../../rel-type"),a=e("./merges"),l=e("../base-xform"),c=e("../list-xform"),d=e("./row-xform"),u=e("./col-xform"),h=e("./dimension-xform"),f=e("./hyperlink-xform"),m=e("./merge-cell-xform"),g=e("./data-validations-xform"),p=e("./sheet-properties-xform"),b=e("./sheet-format-properties-xform"),_=e("./sheet-view-xform"),E=e("./sheet-protection-xform"),O=e("./page-margins-xform"),V=e("./page-setup-xform"),H=e("./print-options-xform"),F=e("./auto-filter-xform"),L=e("./picture-xform"),$=e("./drawing-xform"),W=e("./table-part-xform"),x=e("./row-breaks-xform"),R=e("./header-footer-xform"),B=e("./cf/conditional-formattings-xform"),v=e("./ext-lst-xform"),y=(w,S)=>{if(!S||!S.length)return w;if(!w||!w.length)return S;let M={},U={};return w.forEach(N=>{M[N.ref]=N,N.rules.forEach(T=>{let{x14Id:j}=T;j&&(U[j]=T)})}),S.forEach(N=>{N.rules.forEach(T=>{let j=U[T.x14Id];j?((I,q)=>{Object.keys(q).forEach(A=>{let k=I[A],Y=q[A];k===void 0&&Y!==void 0&&(I[A]=Y)})})(j,T):M[N.ref]?M[N.ref].rules.push(T):w.push({ref:N.ref,rules:[T]})})}),w};class C extends l{constructor(S){super();let{maxRows:M,maxCols:U,ignoreNodes:N}=S||{};this.ignoreNodes=N||[],this.map={sheetPr:new p,dimension:new h,sheetViews:new c({tag:"sheetViews",count:!1,childXform:new _}),sheetFormatPr:new b,cols:new c({tag:"cols",count:!1,childXform:new u}),sheetData:new c({tag:"sheetData",count:!1,empty:!0,childXform:new d({maxItems:U}),maxItems:M}),autoFilter:new F,mergeCells:new c({tag:"mergeCells",count:!0,childXform:new m}),rowBreaks:new x,hyperlinks:new c({tag:"hyperlinks",count:!1,childXform:new f}),pageMargins:new O,dataValidations:new g,pageSetup:new V,headerFooter:new R,printOptions:new H,picture:new L,drawing:new $,sheetProtection:new E,tableParts:new c({tag:"tableParts",count:!0,childXform:new W}),conditionalFormatting:new B,extLst:new v}}prepare(S,M){M.merges=new a,S.hyperlinks=M.hyperlinks=[],S.comments=M.comments=[],M.formulae={},M.siFormulae=0,this.map.cols.prepare(S.cols,M),this.map.sheetData.prepare(S.rows,M),this.map.conditionalFormatting.prepare(S.conditionalFormattings,M),S.mergeCells=M.merges.mergeCells;let U=S.rels=[];function N(I){return"rId"+(I.length+1)}if(S.hyperlinks.forEach(I=>{let q=N(U);I.rId=q,U.push({Id:q,Type:s.Hyperlink,Target:I.target,TargetMode:"External"})}),S.comments.length>0){let I={Id:N(U),Type:s.Comments,Target:`../comments${S.id}.xml`};U.push(I);let q={Id:N(U),Type:s.VmlDrawing,Target:`../drawings/vmlDrawing${S.id}.vml`};U.push(q),S.comments.forEach(A=>{A.refAddress=n.decodeAddress(A.ref)}),M.commentRefs.push({commentName:"comments"+S.id,vmlDrawing:"vmlDrawing"+S.id})}let T=[],j;S.media.forEach(I=>{if(I.type==="background"){let q=N(U);j=M.media[I.imageId],U.push({Id:q,Type:s.Image,Target:`../media/${j.name}.${j.extension}`}),S.background={rId:q},S.image=M.media[I.imageId]}else if(I.type==="image"){let{drawing:q}=S;j=M.media[I.imageId],q||(q=S.drawing={rId:N(U),name:"drawing"+ ++M.drawingsCount,anchors:[],rels:[]},M.drawings.push(q),U.push({Id:q.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${q.name}.xml`}));let A=this.preImageId===I.imageId?T[I.imageId]:T[q.rels.length];A||(A=N(q.rels),T[q.rels.length]=A,q.rels.push({Id:A,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${j.name}.${j.extension}`}));let k={picture:{rId:A},range:I.range};if(I.hyperlinks&&I.hyperlinks.hyperlink){let Y=N(q.rels);T[q.rels.length]=Y,k.picture.hyperlinks={tooltip:I.hyperlinks.tooltip,rId:Y},q.rels.push({Id:Y,Type:s.Hyperlink,Target:I.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=I.imageId,q.anchors.push(k)}}),S.tables.forEach(I=>{let q=N(U);I.rId=q,U.push({Id:q,Type:s.Table,Target:"../tables/"+I.target}),I.columns.forEach(A=>{let{style:k}=A;k&&(A.dxfId=M.styles.addDxfStyle(k))})}),this.map.extLst.prepare(S,M)}render(S,M){S.openXml(o.StdDocAttributes),S.openNode("worksheet",C.WORKSHEET_ATTRIBUTES);let U=M.properties?{defaultRowHeight:M.properties.defaultRowHeight,dyDescent:M.properties.dyDescent,outlineLevelCol:M.properties.outlineLevelCol,outlineLevelRow:M.properties.outlineLevelRow}:void 0;M.properties&&M.properties.defaultColWidth&&(U.defaultColWidth=M.properties.defaultColWidth);let N={outlineProperties:M.properties&&M.properties.outlineProperties,tabColor:M.properties&&M.properties.tabColor,pageSetup:M.pageSetup&&M.pageSetup.fitToPage?{fitToPage:M.pageSetup.fitToPage}:void 0},T=M.pageSetup&&M.pageSetup.margins,j={showRowColHeaders:M.pageSetup&&M.pageSetup.showRowColHeaders,showGridLines:M.pageSetup&&M.pageSetup.showGridLines,horizontalCentered:M.pageSetup&&M.pageSetup.horizontalCentered,verticalCentered:M.pageSetup&&M.pageSetup.verticalCentered},I=M.sheetProtection;this.map.sheetPr.render(S,N),this.map.dimension.render(S,M.dimensions),this.map.sheetViews.render(S,M.views),this.map.sheetFormatPr.render(S,U),this.map.cols.render(S,M.cols),this.map.sheetData.render(S,M.rows),this.map.sheetProtection.render(S,I),this.map.autoFilter.render(S,M.autoFilter),this.map.mergeCells.render(S,M.mergeCells),this.map.conditionalFormatting.render(S,M.conditionalFormattings),this.map.dataValidations.render(S,M.dataValidations),this.map.hyperlinks.render(S,M.hyperlinks),this.map.printOptions.render(S,j),this.map.pageMargins.render(S,T),this.map.pageSetup.render(S,M.pageSetup),this.map.headerFooter.render(S,M.headerFooter),this.map.rowBreaks.render(S,M.rowBreaks),this.map.drawing.render(S,M.drawing),this.map.picture.render(S,M.background),this.map.tableParts.render(S,M.tables),this.map.extLst.render(S,M),M.rels&&M.rels.forEach(q=>{q.Type===s.VmlDrawing&&S.leafNode("legacyDrawing",{"r:id":q.Id})}),S.closeNode()}parseOpen(S){return this.parser?(this.parser.parseOpen(S),!0):S.name==="worksheet"?(i.each(this.map,M=>{M.reset()}),!0):(this.map[S.name]&&!this.ignoreNodes.includes(S.name)&&(this.parser=this.map[S.name],this.parser.parseOpen(S)),!0)}parseText(S){this.parser&&this.parser.parseText(S)}parseClose(S){if(this.parser)return this.parser.parseClose(S)||(this.parser=void 0),!0;switch(S){case"worksheet":{let M=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(M.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(M.outlineProperties=this.map.sheetPr.model.outlineProperties);let U={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},N=Object.assign(U,this.map.pageSetup.model,this.map.printOptions.model),T=y(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:M,views:this.map.sheetViews.model,pageSetup:N,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:T},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile(S,M){let U=(S.relationships||[]).reduce((T,j)=>{if(T[j.Id]=j,j.Type===s.Comments&&(S.comments=M.comments[j.Target].comments),j.Type===s.VmlDrawing&&S.comments&&S.comments.length){let I=M.vmlDrawings[j.Target].comments;S.comments.forEach((q,A)=>{q.note=Object.assign({},q.note,I[A])})}return T},{});if(M.commentsMap=(S.comments||[]).reduce((T,j)=>(j.ref&&(T[j.ref]=j),T),{}),M.hyperlinkMap=(S.hyperlinks||[]).reduce((T,j)=>(j.rId&&(T[j.address]=U[j.rId].Target),T),{}),M.formulae={},S.rows=S.rows&&S.rows.filter(Boolean)||[],S.rows.forEach(T=>{T.cells=T.cells&&T.cells.filter(Boolean)||[]}),this.map.cols.reconcile(S.cols,M),this.map.sheetData.reconcile(S.rows,M),this.map.conditionalFormatting.reconcile(S.conditionalFormattings,M),S.media=[],S.drawing){let T=U[S.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(T){let j=T[1];M.drawings[j].anchors.forEach(I=>{if(I.medium){let q={type:"image",imageId:I.medium.index,range:I.range,hyperlinks:I.picture.hyperlinks};S.media.push(q)}})}}let N=S.background&&U[S.background.rId];if(N){let T=N.Target.split("/media/")[1],j=M.mediaIndex&&M.mediaIndex[T];j!==void 0&&S.media.push({type:"background",imageId:j})}S.tables=(S.tables||[]).map(T=>{let j=U[T.rId];return M.tables[j.Target]}),delete S.relationships,delete S.hyperlinks,delete S.comments}}C.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},t.exports=C},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{constructor(n){super(),this.tag=n.tag,this.attr=n.attr}render(n,o){o&&(n.openNode(this.tag),n.closeNode())}parseOpen(n){n.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{constructor(n){super(),this.tag=n.tag,this.attr=n.attr,this.attrs=n.attrs,this._format=n.format||function(o){try{return Number.isNaN(o.getTime())?"":o.toISOString()}catch{return""}},this._parse=n.parse||function(o){return new Date(o)}}render(n,o){o&&(n.openNode(this.tag),this.attrs&&n.addAttributes(this.attrs),this.attr?n.addAttribute(this.attr,this._format(o)):n.writeText(this._format(o)),n.closeNode())}parseOpen(n){n.name===this.tag&&(this.attr?this.model=this._parse(n.attributes[this.attr]):this.text=[])}parseText(n){this.attr||this.text.push(n)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{constructor(n){super(),this.tag=n.tag,this.attr=n.attr,this.attrs=n.attrs,this.zero=n.zero}render(n,o){(o||this.zero)&&(n.openNode(this.tag),this.attrs&&n.addAttributes(this.attrs),this.attr?n.addAttribute(this.attr,o):n.writeText(o),n.closeNode())}parseOpen(n){return n.name===this.tag&&(this.attr?this.model=parseInt(n.attributes[this.attr],10):this.text=[],!0)}parseText(n){this.attr||this.text.push(n)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{constructor(n){super(),this.tag=n.tag,this.attr=n.attr,this.attrs=n.attrs}render(n,o){o!==void 0&&(n.openNode(this.tag),this.attrs&&n.addAttributes(this.attrs),this.attr?n.addAttribute(this.attr,o):n.writeText(o),n.closeNode())}parseOpen(n){n.name===this.tag&&(this.attr?this.model=n.attributes[this.attr]:this.text=[])}parseText(n){this.attr||this.text.push(n)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(e,t,r){"use strict";let i=e("./base-xform"),n=e("../../utils/xml-stream");t.exports=class extends i{constructor(o){super(),this._model=o}render(o){if(!this._xml){let s=new n;(function a(l,c){l.openNode(c.tag,c.$),c.c&&c.c.forEach(d=>{a(l,d)}),c.t&&l.writeText(c.t),l.closeNode()})(s,this._model),this._xml=s.xml}o.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(o){switch(o){case this._model.tag:return!1;default:return!0}}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(e,t,r){"use strict";let i=e("./text-xform"),n=e("./rich-text-xform"),o=e("../base-xform");t.exports=class extends o{constructor(){super(),this.map={r:new n,t:new i}}get tag(){return"rPh"}render(s,a){if(s.openNode(this.tag,{sb:a.sb||0,eb:a.eb||0}),a&&a.hasOwnProperty("richText")&&a.richText){let{r:l}=this.map;a.richText.forEach(c=>{l.render(s,c)})}else a&&this.map.t.render(s,a.text);s.closeNode()}parseOpen(s){let{name:a}=s;return this.parser?(this.parser.parseOpen(s),!0):a===this.tag?(this.model={sb:parseInt(s.attributes.sb,10),eb:parseInt(s.attributes.eb,10)},!0):(this.parser=this.map[a],!!this.parser&&(this.parser.parseOpen(s),!0))}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){if(this.parser){if(!this.parser.parseClose(s)){switch(s){case"r":{let a=this.model.richText;a||(a=this.model.richText=[]),a.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}switch(s){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(e,t,r){"use strict";let i=e("./text-xform"),n=e("../style/font-xform"),o=e("../base-xform");class s extends o{constructor(l){super(),this.model=l}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new i)}get fontXform(){return this._fontXform||(this._fontXform=new n(s.FONT_OPTIONS))}render(l,c){c=c||this.model,l.openNode("r"),c.font&&this.fontXform.render(l,c.font),this.textXform.render(l,c.text),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(l),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(l),!0;default:return!1}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){switch(l){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(l),!0}}}s.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},t.exports=s},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(e,t,r){"use strict";let i=e("./text-xform"),n=e("./rich-text-xform"),o=e("./phonetic-text-xform"),s=e("../base-xform");t.exports=class extends s{constructor(a){super(),this.model=a,this.map={r:new n,t:new i,rPh:new o}}get tag(){return"si"}render(a,l){a.openNode(this.tag),l&&l.hasOwnProperty("richText")&&l.richText?l.richText.length?l.richText.forEach(c=>{this.map.r.render(a,c)}):this.map.t.render(a,""):l!=null&&this.map.t.render(a,l),a.closeNode()}parseOpen(a){let{name:l}=a;return this.parser?(this.parser.parseOpen(a),!0):l===this.tag?(this.model={},!0):(this.parser=this.map[l],!!this.parser&&(this.parser.parseOpen(a),!0))}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser){if(!this.parser.parseClose(a)){switch(a){case"r":{let l=this.model.richText;l||(l=this.model.richText=[]),l.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(e,t,r){"use strict";let i=e("../../../utils/xml-stream"),n=e("../base-xform"),o=e("./shared-string-xform");t.exports=class extends n{constructor(s){super(),this.model=s||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new o)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(s){return this.model.values[s]}add(s){return s.richText?this.addRichText(s):this.addText(s)}addText(s){let a=this.hash[s];return a===void 0&&(a=this.hash[s]=this.model.values.length,this.model.values.push(s)),this.model.count++,a}addRichText(s){let a=this.sharedStringXform.toXml(s),l=this.rich[a];return l===void 0&&(l=this.rich[a]=this.model.values.length,this.model.values.push(s)),this.model.count++,l}render(s,a){a=a||this._values,s.openXml(i.StdDocAttributes),s.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:a.count,uniqueCount:a.values.length});let l=this.sharedStringXform;a.values.forEach(c=>{l.render(s,c)}),s.closeNode()}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(s),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(s))}}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){if(this.parser)return this.parser.parseClose(s)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(s){case"sst":return!1;default:throw new Error("Unexpected xml node in parseClose: "+s)}}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{get tag(){return"t"}render(n,o){n.openNode("t"),/^\s|\n|\s$/.test(o)&&n.addAttribute("xml:space","preserve"),n.writeText(o),n.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(n,o)=>String.fromCharCode(parseInt(o,16)))}parseOpen(n){switch(n.name){case"t":return this._text=[],!0;default:return!1}}parseText(n){this._text.push(n)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(e,t,r){"use strict";let i=e("../../../doc/enums"),n=e("../../../utils/utils"),o=e("../base-xform"),s={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((l,c)=>(l[c]=!0,l),{}),horizontal(l){return this.horizontalValues[l]?l:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((l,c)=>(l[c]=!0,l),{}),vertical(l){return l==="middle"?"center":this.verticalValues[l]?l:void 0},wrapText:l=>!!l||void 0,shrinkToFit:l=>!!l||void 0,textRotation(l){switch(l){case"vertical":return l;default:return(l=n.validInt(l))>=-90&&l<=90?l:void 0}},indent:l=>(l=n.validInt(l),Math.max(0,l)),readingOrder(l){switch(l){case"ltr":return i.ReadingOrder.LeftToRight;case"rtl":return i.ReadingOrder.RightToLeft;default:return}}},a={toXml(l){if(l=s.textRotation(l)){if(l==="vertical")return 255;let c=Math.round(l);if(c>=0&&c<=90)return c;if(c<0&&c>=-90)return 90-c}},toModel(l){let c=n.validInt(l);if(c!==void 0){if(c===255)return"vertical";if(c>=0&&c<=90)return c;if(c>90&&c<=180)return 90-c}}};t.exports=class extends o{get tag(){return"alignment"}render(l,c){l.addRollback(),l.openNode("alignment");let d=!1;function u(h,f){f&&(l.addAttribute(h,f),d=!0)}u("horizontal",s.horizontal(c.horizontal)),u("vertical",s.vertical(c.vertical)),u("wrapText",!!s.wrapText(c.wrapText)&&"1"),u("shrinkToFit",!!s.shrinkToFit(c.shrinkToFit)&&"1"),u("indent",s.indent(c.indent)),u("textRotation",a.toXml(c.textRotation)),u("readingOrder",s.readingOrder(c.readingOrder)),l.closeNode(),d?l.commit():l.rollback()}parseOpen(l){let c={},d=!1;function u(h,f,m){h&&(c[f]=m,d=!0)}u(l.attributes.horizontal,"horizontal",l.attributes.horizontal),u(l.attributes.vertical,"vertical",l.attributes.vertical==="center"?"middle":l.attributes.vertical),u(l.attributes.wrapText,"wrapText",n.parseBoolean(l.attributes.wrapText)),u(l.attributes.shrinkToFit,"shrinkToFit",n.parseBoolean(l.attributes.shrinkToFit)),u(l.attributes.indent,"indent",parseInt(l.attributes.indent,10)),u(l.attributes.textRotation,"textRotation",a.toModel(l.attributes.textRotation)),u(l.attributes.readingOrder,"readingOrder",l.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=d?c:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(e,t,r){"use strict";let i=e("../base-xform"),n=e("../../../utils/utils"),o=e("./color-xform");class s extends i{constructor(l){super(),this.name=l,this.map={color:new o}}get tag(){return this.name}render(l,c,d){let u=c&&c.color||d||this.defaultColor;l.openNode(this.name),c&&c.style&&(l.addAttribute("style",c.style),u&&this.map.color.render(l,u)),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.name:{let{style:c}=l.attributes;return this.model=c?{style:c}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(l),!0;default:return!1}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){return this.parser?(this.parser.parseClose(l)||(this.parser=void 0),!0):(l===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(l){return s.validStyleValues[l]}}s.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((a,l)=>(a[l]=!0,a),{}),t.exports=class extends i{constructor(){super(),this.map={top:new s("top"),left:new s("left"),bottom:new s("bottom"),right:new s("right"),diagonal:new s("diagonal")}}render(a,l){let{color:c}=l;function d(u,h){u&&!u.color&&l.color&&(u=je(Vt({},u),{color:l.color})),h.render(a,u,c)}a.openNode("border"),l.diagonal&&l.diagonal.style&&(l.diagonal.up&&a.addAttribute("diagonalUp","1"),l.diagonal.down&&a.addAttribute("diagonalDown","1")),d(l.left,this.map.left),d(l.right,this.map.right),d(l.top,this.map.top),d(l.bottom,this.map.bottom),d(l.diagonal,this.map.diagonal),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case"border":return this.reset(),this.diagonalUp=n.parseBoolean(a.attributes.diagonalUp),this.diagonalDown=n.parseBoolean(a.attributes.diagonalDown),!0;default:return this.parser=this.map[a.name],!!this.parser&&(this.parser.parseOpen(a),!0)}}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;if(a==="border"){let l=this.model={},c=function(d,u,h){u&&(h&&Object.assign(u,h),l[d]=u)};c("left",this.map.left.model),c("right",this.map.right.model),c("top",this.map.top.model),c("bottom",this.map.bottom.model),c("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{constructor(n){super(),this.name=n||"color"}get tag(){return this.name}render(n,o){return!!o&&(n.openNode(this.name),o.argb?n.addAttribute("rgb",o.argb):o.theme!==void 0?(n.addAttribute("theme",o.theme),o.tint!==void 0&&n.addAttribute("tint",o.tint)):o.indexed!==void 0?n.addAttribute("indexed",o.indexed):n.addAttribute("auto","1"),n.closeNode(),!0)}parseOpen(n){return n.name===this.name&&(n.attributes.rgb?this.model={argb:n.attributes.rgb}:n.attributes.theme?(this.model={theme:parseInt(n.attributes.theme,10)},n.attributes.tint&&(this.model.tint=parseFloat(n.attributes.tint))):n.attributes.indexed?this.model={indexed:parseInt(n.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(e,t,r){"use strict";let i=e("../base-xform"),n=e("./alignment-xform"),o=e("./border-xform"),s=e("./fill-xform"),a=e("./font-xform"),l=e("./numfmt-xform"),c=e("./protection-xform");t.exports=class extends i{constructor(){super(),this.map={alignment:new n,border:new o,fill:new s,font:new a,numFmt:new l,protection:new c}}get tag(){return"dxf"}render(d,u){if(d.openNode(this.tag),u.font&&this.map.font.render(d,u.font),u.numFmt&&u.numFmtId){let h={id:u.numFmtId,formatCode:u.numFmt};this.map.numFmt.render(d,h)}u.fill&&this.map.fill.render(d,u.fill),u.alignment&&this.map.alignment.render(d,u.alignment),u.border&&this.map.border.render(d,u.border),u.protection&&this.map.protection.render(d,u.protection),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d),!0}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return this.parser?(this.parser.parseClose(d)||(this.parser=void 0),!0):d!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(e,t,r){"use strict";let i=e("../base-xform"),n=e("./color-xform");class o extends i{constructor(){super(),this.map={color:new n}}get tag(){return"stop"}render(d,u){d.openNode("stop"),d.addAttribute("position",u.position),this.map.color.render(d,u.color),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"stop":return this.model={position:parseFloat(d.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(d),!0;default:return!1}}parseText(){}parseClose(d){return!!this.parser&&(this.parser.parseClose(d)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class s extends i{constructor(){super(),this.map={fgColor:new n("fgColor"),bgColor:new n("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(d,u){d.openNode("patternFill"),d.addAttribute("patternType",u.pattern),u.fgColor&&this.map.fgColor.render(d,u.fgColor),u.bgColor&&this.map.bgColor.render(d,u.bgColor),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"patternFill":return this.model={type:"pattern",pattern:d.attributes.patternType},!0;default:return this.parser=this.map[d.name],!!this.parser&&(this.parser.parseOpen(d),!0)}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return!!this.parser&&(this.parser.parseClose(d)||(this.parser.model&&(this.model[d]=this.parser.model),this.parser=void 0),!0)}}class a extends i{constructor(){super(),this.map={stop:new o}}get name(){return"gradient"}get tag(){return"gradientFill"}render(d,u){switch(d.openNode("gradientFill"),u.gradient){case"angle":d.addAttribute("degree",u.degree);break;case"path":d.addAttribute("type","path"),u.center.left&&(d.addAttribute("left",u.center.left),u.center.right===void 0&&d.addAttribute("right",u.center.left)),u.center.right&&d.addAttribute("right",u.center.right),u.center.top&&(d.addAttribute("top",u.center.top),u.center.bottom===void 0&&d.addAttribute("bottom",u.center.top)),u.center.bottom&&d.addAttribute("bottom",u.center.bottom)}let h=this.map.stop;u.stops.forEach(f=>{h.render(d,f)}),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"gradientFill":{let u=this.model={stops:[]};return d.attributes.degree?(u.gradient="angle",u.degree=parseInt(d.attributes.degree,10)):d.attributes.type==="path"&&(u.gradient="path",u.center={left:d.attributes.left?parseFloat(d.attributes.left):0,top:d.attributes.top?parseFloat(d.attributes.top):0},d.attributes.right!==d.attributes.left&&(u.center.right=d.attributes.right?parseFloat(d.attributes.right):0),d.attributes.bottom!==d.attributes.top&&(u.center.bottom=d.attributes.bottom?parseFloat(d.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(d),!0;default:return!1}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return!!this.parser&&(this.parser.parseClose(d)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class l extends i{constructor(){super(),this.map={patternFill:new s,gradientFill:new a}}get tag(){return"fill"}render(d,u){switch(d.addRollback(),d.openNode("fill"),u.type){case"pattern":this.map.patternFill.render(d,u);break;case"gradient":this.map.gradientFill.render(d,u);break;default:return void d.rollback()}d.closeNode(),d.commit()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"fill":return this.model={},!0;default:return this.parser=this.map[d.name],!!this.parser&&(this.parser.parseOpen(d),!0)}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return!!this.parser&&(this.parser.parseClose(d)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(d){return l.validPatternValues[d]}}l.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((c,d)=>(c[d]=!0,c),{}),l.StopXform=o,l.PatternFillXform=s,l.GradientFillXform=a,t.exports=l},{"../base-xform":32,"./color-xform":128}],131:[function(e,t,r){"use strict";let i=e("./color-xform"),n=e("../simple/boolean-xform"),o=e("../simple/integer-xform"),s=e("../simple/string-xform"),a=e("./underline-xform"),l=e("../../../utils/under-dash"),c=e("../base-xform");class d extends c{constructor(h){super(),this.options=h||d.OPTIONS,this.map={b:{prop:"bold",xform:new n({tag:"b",attr:"val"})},i:{prop:"italic",xform:new n({tag:"i",attr:"val"})},u:{prop:"underline",xform:new a},charset:{prop:"charset",xform:new o({tag:"charset",attr:"val"})},color:{prop:"color",xform:new i},condense:{prop:"condense",xform:new n({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new n({tag:"extend",attr:"val"})},family:{prop:"family",xform:new o({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new n({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new s({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new s({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new n({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new n({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new o({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new s({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(h,f){let{map:m}=this;h.openNode(this.options.tagName),l.each(this.map,(g,p)=>{m[p].xform.render(h,f[g.prop])}),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;if(this.map[h.name])return this.parser=this.map[h.name].xform,this.parser.parseOpen(h);switch(h.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser&&!this.parser.parseClose(h)){let f=this.map[h];return this.parser.model&&(this.model[f.prop]=this.parser.model),this.parser=void 0,!0}switch(h){case this.options.tagName:return!1;default:return!0}}}d.OPTIONS={tagName:"font",fontNameTag:"name"},t.exports=d},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(e,t,r){"use strict";let i=e("../../../utils/under-dash"),n=e("../../defaultnumformats"),o=e("../base-xform"),s=function(){let l={};return i.each(n,(c,d)=>{c.f&&(l[c.f]=parseInt(d,10))}),l}();class a extends o{constructor(c,d){super(),this.id=c,this.formatCode=d}get tag(){return"numFmt"}render(c,d){c.leafNode("numFmt",{numFmtId:d.id,formatCode:d.formatCode})}parseOpen(c){switch(c.name){case"numFmt":return this.model={id:parseInt(c.attributes.numFmtId,10),formatCode:c.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}a.getDefaultFmtId=function(l){return s[l]},a.getDefaultFmtCode=function(l){return n[l]&&n[l].f},t.exports=a},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(e,t,r){"use strict";let i=e("../base-xform"),n={boolean:(o,s)=>o===void 0?s:o};t.exports=class extends i{get tag(){return"protection"}render(o,s){o.addRollback(),o.openNode("protection");let a=!1;function l(c,d){d!==void 0&&(o.addAttribute(c,d),a=!0)}l("locked",n.boolean(s.locked,!0)?void 0:"0"),l("hidden",n.boolean(s.hidden,!1)?"1":void 0),o.closeNode(),a?o.commit():o.rollback()}parseOpen(o){let s={locked:o.attributes.locked!=="0",hidden:o.attributes.hidden==="1"},a=!s.locked||s.hidden;this.model=a?s:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(e,t,r){"use strict";let i=e("../base-xform"),n=e("./alignment-xform"),o=e("./protection-xform");t.exports=class extends i{constructor(s){super(),this.xfId=!(!s||!s.xfId),this.map={alignment:new n,protection:new o}}get tag(){return"xf"}render(s,a){s.openNode("xf",{numFmtId:a.numFmtId||0,fontId:a.fontId||0,fillId:a.fillId||0,borderId:a.borderId||0}),this.xfId&&s.addAttribute("xfId",a.xfId||0),a.numFmtId&&s.addAttribute("applyNumberFormat","1"),a.fontId&&s.addAttribute("applyFont","1"),a.fillId&&s.addAttribute("applyFill","1"),a.borderId&&s.addAttribute("applyBorder","1"),a.alignment&&s.addAttribute("applyAlignment","1"),a.protection&&s.addAttribute("applyProtection","1"),a.alignment&&this.map.alignment.render(s,a.alignment),a.protection&&this.map.protection.render(s,a.protection),s.closeNode()}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case"xf":return this.model={numFmtId:parseInt(s.attributes.numFmtId,10),fontId:parseInt(s.attributes.fontId,10),fillId:parseInt(s.attributes.fillId,10),borderId:parseInt(s.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(s.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(s),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(s),!0;default:return!1}}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){return this.parser?(this.parser.parseClose(s)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):s!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(e,t,r){"use strict";let i=e("../../../doc/enums"),n=e("../../../utils/xml-stream"),o=e("../base-xform"),s=e("../static-xform"),a=e("../list-xform"),l=e("./font-xform"),c=e("./fill-xform"),d=e("./border-xform"),u=e("./numfmt-xform"),h=e("./style-xform"),f=e("./dxf-xform");class m extends o{constructor(p){super(),this.map={numFmts:new a({tag:"numFmts",count:!0,childXform:new u}),fonts:new a({tag:"fonts",count:!0,childXform:new l,$:{"x14ac:knownFonts":1}}),fills:new a({tag:"fills",count:!0,childXform:new c}),borders:new a({tag:"borders",count:!0,childXform:new d}),cellStyleXfs:new a({tag:"cellStyleXfs",count:!0,childXform:new h}),cellXfs:new a({tag:"cellXfs",count:!0,childXform:new h({xfId:!0})}),dxfs:new a({tag:"dxfs",always:!0,count:!0,childXform:new f}),numFmt:new u,font:new l,fill:new c,border:new d,style:new h({xfId:!0}),cellStyles:m.STATIC_XFORMS.cellStyles,tableStyles:m.STATIC_XFORMS.tableStyles,extLst:m.STATIC_XFORMS.extLst},p&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(p,b){b=b||this.model,p.openXml(n.StdDocAttributes),p.openNode("styleSheet",m.STYLESHEET_ATTRIBUTES),this.index?(b.numFmts&&b.numFmts.length&&(p.openNode("numFmts",{count:b.numFmts.length}),b.numFmts.forEach(_=>{p.writeXml(_)}),p.closeNode()),b.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),p.openNode("fonts",{count:b.fonts.length,"x14ac:knownFonts":1}),b.fonts.forEach(_=>{p.writeXml(_)}),p.closeNode(),p.openNode("fills",{count:b.fills.length}),b.fills.forEach(_=>{p.writeXml(_)}),p.closeNode(),p.openNode("borders",{count:b.borders.length}),b.borders.forEach(_=>{p.writeXml(_)}),p.closeNode(),this.map.cellStyleXfs.render(p,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),p.openNode("cellXfs",{count:b.styles.length}),b.styles.forEach(_=>{p.writeXml(_)}),p.closeNode()):(this.map.numFmts.render(p,b.numFmts),this.map.fonts.render(p,b.fonts),this.map.fills.render(p,b.fills),this.map.borders.render(p,b.borders),this.map.cellStyleXfs.render(p,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(p,b.styles)),m.STATIC_XFORMS.cellStyles.render(p),this.map.dxfs.render(p,b.dxfs),m.STATIC_XFORMS.tableStyles.render(p),m.STATIC_XFORMS.extLst.render(p),p.closeNode()}parseOpen(p){if(this.parser)return this.parser.parseOpen(p),!0;switch(p.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[p.name],this.parser&&this.parser.parseOpen(p),!0}}parseText(p){this.parser&&this.parser.parseText(p)}parseClose(p){if(this.parser)return this.parser.parseClose(p)||(this.parser=void 0),!0;switch(p){case"styleSheet":{this.model={};let b=(_,E)=>{E.model&&E.model.length&&(this.model[_]=E.model)};if(b("numFmts",this.map.numFmts),b("fonts",this.map.fonts),b("fills",this.map.fills),b("borders",this.map.borders),b("styles",this.map.cellXfs),b("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){let _=this.index.numFmt;this.model.numFmts.forEach(E=>{_[E.id]=E.formatCode})}return!1}default:return!0}}addStyleModel(p,b){if(!p)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(p))return this.weakMap.get(p);let _={};if(b=b||i.ValueType.Number,p.numFmt)_.numFmtId=this._addNumFmtStr(p.numFmt);else switch(b){case i.ValueType.Number:_.numFmtId=this._addNumFmtStr("General");break;case i.ValueType.Date:_.numFmtId=this._addNumFmtStr("mm-dd-yy")}p.font&&(_.fontId=this._addFont(p.font)),p.border&&(_.borderId=this._addBorder(p.border)),p.fill&&(_.fillId=this._addFill(p.fill)),p.alignment&&(_.alignment=p.alignment),p.protection&&(_.protection=p.protection);let E=this._addStyle(_);return this.weakMap&&this.weakMap.set(p,E),E}getStyleModel(p){let b=this.model.styles[p];if(!b)return null;let _=this.index.model[p];if(_)return _;if(_=this.index.model[p]={},b.numFmtId){let O=this.index.numFmt[b.numFmtId]||u.getDefaultFmtCode(b.numFmtId);O&&(_.numFmt=O)}function E(O,V,H){if(H||H===0){let F=V[H];F&&(_[O]=F)}}return E("font",this.model.fonts,b.fontId),E("border",this.model.borders,b.borderId),E("fill",this.model.fills,b.fillId),b.alignment&&(_.alignment=b.alignment),b.protection&&(_.protection=b.protection),_}addDxfStyle(p){return p.numFmt&&(p.numFmtId=this._addNumFmtStr(p.numFmt)),this.model.dxfs.push(p),this.model.dxfs.length-1}getDxfStyle(p){return this.model.dxfs[p]}_addStyle(p){let b=this.map.style.toXml(p),_=this.index.style[b];return _===void 0&&(_=this.index.style[b]=this.model.styles.length,this.model.styles.push(b)),_}_addNumFmtStr(p){let b=u.getDefaultFmtId(p);if(b!==void 0||(b=this.index.numFmt[p],b!==void 0))return b;b=this.index.numFmt[p]=164+this.model.numFmts.length;let _=this.map.numFmt.toXml({id:b,formatCode:p});return this.model.numFmts.push(_),b}_addFont(p){let b=this.map.font.toXml(p),_=this.index.font[b];return _===void 0&&(_=this.index.font[b]=this.model.fonts.length,this.model.fonts.push(b)),_}_addBorder(p){let b=this.map.border.toXml(p),_=this.index.border[b];return _===void 0&&(_=this.index.border[b]=this.model.borders.length,this.model.borders.push(b)),_}_addFill(p){let b=this.map.fill.toXml(p),_=this.index.fill[b];return _===void 0&&(_=this.index.fill[b]=this.model.fills.length,this.model.fills.push(b)),_}}m.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},m.STATIC_XFORMS={cellStyles:new s({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new s({tag:"dxfs",$:{count:0}}),tableStyles:new s({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new s({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},m.Mock=class extends m{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(g){return g.autodrain(),Promise.resolve()}addStyleModel(g,p){switch(p){case i.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){let g={numFmtId:u.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(g)}return this._dateStyleId}getStyleModel(){return{}}},t.exports=m},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(e,t,r){"use strict";let i=e("../base-xform");class n extends i{constructor(s){super(),this.model=s}get tag(){return"u"}render(s,a){if((a=a||this.model)===!0)s.leafNode("u");else{let l=n.Attributes[a];l&&s.leafNode("u",l)}}parseOpen(s){s.name==="u"&&(this.model=s.attributes.val||!0)}parseText(){}parseClose(){return!1}}n.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},t.exports=n},{"../base-xform":32}],137:[function(e,t,r){"use strict";let i=e("../base-xform"),n=e("./filter-column-xform");t.exports=class extends i{constructor(){super(),this.map={filterColumn:new n}}get tag(){return"autoFilter"}prepare(o){o.columns.forEach((s,a)=>{this.map.filterColumn.prepare(s,{index:a})})}render(o,s){return o.openNode(this.tag,{ref:s.autoFilterRef}),s.columns.forEach(a=>{this.map.filterColumn.render(o,a)}),o.closeNode(),!0}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:return this.model={autoFilterRef:o.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[o.name],this.parser)return this.parseOpen(o),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(o))}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(o){case this.tag:return!1;default:throw new Error("Unexpected xml node in parseClose: "+o)}}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{get tag(){return"customFilter"}render(n,o){n.leafNode(this.tag,{val:o.val,operator:o.operator})}parseOpen(n){return n.name===this.tag&&(this.model={val:n.attributes.val,operator:n.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(e,t,r){"use strict";let i=e("../base-xform"),n=e("../list-xform"),o=e("./custom-filter-xform"),s=e("./filter-xform");t.exports=class extends i{constructor(){super(),this.map={customFilters:new n({tag:"customFilters",count:!1,empty:!0,childXform:new o}),filters:new n({tag:"filters",count:!1,empty:!0,childXform:new s})}}get tag(){return"filterColumn"}prepare(a,l){a.colId=l.index.toString()}render(a,l){return l.customFilters?(a.openNode(this.tag,{colId:l.colId,hiddenButton:l.filterButton?"0":"1"}),this.map.customFilters.render(a,l.customFilters),a.closeNode(),!0):(a.leafNode(this.tag,{colId:l.colId,hiddenButton:l.filterButton?"0":"1"}),!0)}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;let{attributes:l}=a;switch(a.name){case this.tag:return this.model={filterButton:l.hiddenButton==="0"},!0;default:if(this.parser=this.map[a.name],this.parser)return this.parseOpen(a),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(a))}}parseText(){}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;switch(a){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{get tag(){return"filter"}render(n,o){n.leafNode(this.tag,{val:o.val})}parseOpen(n){return n.name===this.tag&&(this.model={val:n.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{get tag(){return"tableColumn"}prepare(n,o){n.id=o.index+1}render(n,o){return n.leafNode(this.tag,{id:o.id.toString(),name:o.name,totalsRowLabel:o.totalsRowLabel,totalsRowFunction:o.totalsRowFunction,dxfId:o.dxfId}),!0}parseOpen(n){if(n.name===this.tag){let{attributes:o}=n;return this.model={name:o.name,totalsRowLabel:o.totalsRowLabel,totalsRowFunction:o.totalsRowFunction,dxfId:o.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{get tag(){return"tableStyleInfo"}render(n,o){return n.leafNode(this.tag,{name:o.theme?o.theme:void 0,showFirstColumn:o.showFirstColumn?"1":"0",showLastColumn:o.showLastColumn?"1":"0",showRowStripes:o.showRowStripes?"1":"0",showColumnStripes:o.showColumnStripes?"1":"0"}),!0}parseOpen(n){if(n.name===this.tag){let{attributes:o}=n;return this.model={theme:o.name?o.name:null,showFirstColumn:o.showFirstColumn==="1",showLastColumn:o.showLastColumn==="1",showRowStripes:o.showRowStripes==="1",showColumnStripes:o.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(e,t,r){"use strict";let i=e("../../../utils/xml-stream"),n=e("../base-xform"),o=e("../list-xform"),s=e("./auto-filter-xform"),a=e("./table-column-xform"),l=e("./table-style-info-xform");class c extends n{constructor(){super(),this.map={autoFilter:new s,tableColumns:new o({tag:"tableColumns",count:!0,empty:!0,childXform:new a}),tableStyleInfo:new l}}prepare(u,h){this.map.autoFilter.prepare(u),this.map.tableColumns.prepare(u.columns,h)}get tag(){return"table"}render(u,h){u.openXml(i.StdDocAttributes),u.openNode(this.tag,je(Vt({},c.TABLE_ATTRIBUTES),{id:h.id,name:h.name,displayName:h.displayName||h.name,ref:h.tableRef,totalsRowCount:h.totalsRow?"1":void 0,totalsRowShown:h.totalsRow?void 0:"1",headerRowCount:h.headerRow?"1":"0"})),this.map.autoFilter.render(u,h),this.map.tableColumns.render(u,h.columns),this.map.tableStyleInfo.render(u,h.style),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;let{name:h,attributes:f}=u;switch(h){case this.tag:this.reset(),this.model={name:f.name,displayName:f.displayName||f.name,tableRef:f.ref,totalsRow:f.totalsRowCount==="1",headerRow:f.headerRowCount==="1"};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((h,f)=>{this.model.columns[f].filterButton=h.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(u,h){u.columns.forEach(f=>{f.dxfId!==void 0&&(f.style=h.styles.getDxfStyle(f.dxfId))})}}c.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},t.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(e,t,r){(function(i,n){(function(){"use strict";let o=e("fs"),s=e("jszip"),{PassThrough:a}=e("readable-stream"),l=e("../utils/zip-stream"),c=e("../utils/stream-buf"),d=e("../utils/utils"),u=e("../utils/xml-stream"),{bufferToString:h}=e("../utils/browser-buffer-decode"),f=e("./xform/style/styles-xform"),m=e("./xform/core/core-xform"),g=e("./xform/strings/shared-strings-xform"),p=e("./xform/core/relationships-xform"),b=e("./xform/core/content-types-xform"),_=e("./xform/core/app-xform"),E=e("./xform/book/workbook-xform"),O=e("./xform/sheet/worksheet-xform"),V=e("./xform/drawing/drawing-xform"),H=e("./xform/table/table-xform"),F=e("./xform/comment/comments-xform"),L=e("./xform/comment/vml-notes-xform"),$=e("./xml/theme1");class W{constructor(R){this.workbook=R}readFile(R,B){return xr(this,null,function*(){if(!(yield d.fs.exists(R)))throw new Error("File not found: "+R);let v=o.createReadStream(R);try{let y=yield this.read(v,B);return v.close(),y}catch(y){throw v.close(),y}})}parseRels(R){return new p().parseStream(R)}parseWorkbook(R){return new E().parseStream(R)}parseSharedStrings(R){return new g().parseStream(R)}reconcile(R,B){let v=new E,y=new O(B),C=new V,w=new H;v.reconcile(R);let S={media:R.media,mediaIndex:R.mediaIndex};Object.keys(R.drawings).forEach(N=>{let T=R.drawings[N],j=R.drawingRels[N];j&&(S.rels=j.reduce((I,q)=>(I[q.Id]=q,I),{}),(T.anchors||[]).forEach(I=>{let q=I.picture&&I.picture.hyperlinks;q&&S.rels[q.rId]&&(q.hyperlink=S.rels[q.rId].Target,delete q.rId)}),C.reconcile(T,S))});let M={styles:R.styles};Object.values(R.tables).forEach(N=>{w.reconcile(N,M)});let U={styles:R.styles,sharedStrings:R.sharedStrings,media:R.media,mediaIndex:R.mediaIndex,date1904:R.properties&&R.properties.date1904,drawings:R.drawings,comments:R.comments,tables:R.tables,vmlDrawings:R.vmlDrawings};R.worksheets.forEach(N=>{N.relationships=R.worksheetRels[N.sheetNo],y.reconcile(N,U)}),delete R.worksheetHash,delete R.worksheetRels,delete R.globalRels,delete R.sharedStrings,delete R.workbookRels,delete R.sheetDefs,delete R.styles,delete R.mediaIndex,delete R.drawings,delete R.drawingRels,delete R.vmlDrawings}_processWorksheetEntry(R,B,v,y,C){return xr(this,null,function*(){let w=new O(y),S=yield w.parseStream(R);S.sheetNo=v,B.worksheetHash[C]=S,B.worksheets.push(S)})}_processCommentEntry(R,B,v){return xr(this,null,function*(){let y=new F,C=yield y.parseStream(R);B.comments[`../${v}.xml`]=C})}_processTableEntry(R,B,v){return xr(this,null,function*(){let y=new H,C=yield y.parseStream(R);B.tables[`../tables/${v}.xml`]=C})}_processWorksheetRelsEntry(R,B,v){return xr(this,null,function*(){let y=new p,C=yield y.parseStream(R);B.worksheetRels[v]=C})}_processMediaEntry(R,B,v){return xr(this,null,function*(){let y=v.lastIndexOf(".");if(y>=1){let C=v.substr(y+1),w=v.substr(0,y);yield new Promise((S,M)=>{let U=new c;U.on("finish",()=>{B.mediaIndex[v]=B.media.length,B.mediaIndex[w]=B.media.length;let N={type:"image",name:w,extension:C,buffer:U.toBuffer()};B.media.push(N),S()}),R.on("error",N=>{M(N)}),R.pipe(U)})}})}_processDrawingEntry(R,B,v){return xr(this,null,function*(){let y=new V,C=yield y.parseStream(R);B.drawings[v]=C})}_processDrawingRelsEntry(R,B,v){return xr(this,null,function*(){let y=new p,C=yield y.parseStream(R);B.drawingRels[v]=C})}_processVmlDrawingEntry(R,B,v){return xr(this,null,function*(){let y=new L,C=yield y.parseStream(R);B.vmlDrawings[`../drawings/${v}.vml`]=C})}_processThemeEntry(R,B,v){return xr(this,null,function*(){yield new Promise((y,C)=>{let w=new c;R.on("error",C),w.on("error",C),w.on("finish",()=>{B.themes[v]=w.read().toString(),y()}),R.pipe(w)})})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}read(R,B){return xr(this,null,function*(){!R[Symbol.asyncIterator]&&R.pipe&&(R=R.pipe(new a));let v=[];try{for(var y=LR(R),C,w,S;C=!(w=yield y.next()).done;C=!1){let M=w.value;v.push(M)}}catch{S=[w]}finally{try{C&&(w=y.return)&&(yield w.call(y))}finally{if(S)throw S[0]}}return this.load(n.concat(v),B)})}load(R,B){return xr(this,null,function*(){let v;v=B&&B.base64?n.from(R.toString(),"base64"):R;let y={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},C=yield s.loadAsync(v);for(let w of Object.values(C.files))if(!w.dir){let S,M=w.name;if(M[0]==="/"&&(M=M.substr(1)),M.match(/xl\/media\//)||M.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))S=new a,S.write(yield w.async("nodebuffer"));else{let U;S=new a({writableObjectMode:!0,readableObjectMode:!0}),U=i.browser?h(yield w.async("nodebuffer")):yield w.async("string");let N=16384;for(let T=0;T<U.length;T+=N)S.write(U.substring(T,T+N))}switch(S.end(),M){case"_rels/.rels":y.globalRels=yield this.parseRels(S);break;case"xl/workbook.xml":{let U=yield this.parseWorkbook(S);y.sheets=U.sheets,y.definedNames=U.definedNames,y.views=U.views,y.properties=U.properties,y.calcProperties=U.calcProperties;break}case"xl/_rels/workbook.xml.rels":y.workbookRels=yield this.parseRels(S);break;case"xl/sharedStrings.xml":y.sharedStrings=new g,yield y.sharedStrings.parseStream(S);break;case"xl/styles.xml":y.styles=new f,yield y.styles.parseStream(S);break;case"docProps/app.xml":{let U=new _,N=yield U.parseStream(S);y.company=N.company,y.manager=N.manager;break}case"docProps/core.xml":{let U=new m,N=yield U.parseStream(S);Object.assign(y,N);break}default:{let U=M.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(U){yield this._processWorksheetEntry(S,y,U[1],B,M);break}if(U=M.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),U){yield this._processWorksheetRelsEntry(S,y,U[1]);break}if(U=M.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),U){yield this._processThemeEntry(S,y,U[1]);break}if(U=M.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),U){yield this._processMediaEntry(S,y,U[1]);break}if(U=M.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),U){yield this._processDrawingEntry(S,y,U[1]);break}if(U=M.match(/xl\/(comments\d+)[.]xml/),U){yield this._processCommentEntry(S,y,U[1]);break}if(U=M.match(/xl\/tables\/(table\d+)[.]xml/),U){yield this._processTableEntry(S,y,U[1]);break}if(U=M.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),U){yield this._processDrawingRelsEntry(S,y,U[1]);break}if(U=M.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),U){yield this._processVmlDrawingEntry(S,y,U[1]);break}}}}return this.reconcile(y,B),this.workbook.model=y,this.workbook})}addMedia(R,B){return xr(this,null,function*(){yield Promise.all(B.media.map(v=>xr(this,null,function*(){if(v.type==="image"){let y=`xl/media/${v.name}.${v.extension}`;if(v.filename){let C=yield function(w,S){return new Promise((M,U)=>{o.readFile(w,S,(N,T)=>{N?U(N):M(T)})})}(v.filename);return R.append(C,{name:y})}if(v.buffer)return R.append(v.buffer,{name:y});if(v.base64){let C=v.base64,w=C.substring(C.indexOf(",")+1);return R.append(w,{name:y,base64:!0})}}throw new Error("Unsupported media")})))})}addDrawings(R,B){let v=new V,y=new p;B.worksheets.forEach(C=>{let{drawing:w}=C;if(w){v.prepare(w,{});let S=v.toXml(w);R.append(S,{name:`xl/drawings/${w.name}.xml`}),S=y.toXml(w.rels),R.append(S,{name:`xl/drawings/_rels/${w.name}.xml.rels`})}})}addTables(R,B){let v=new H;B.worksheets.forEach(y=>{let{tables:C}=y;C.forEach(w=>{v.prepare(w,{});let S=v.toXml(w);R.append(S,{name:"xl/tables/"+w.target})})})}addContentTypes(R,B){return xr(this,null,function*(){let v=new b().toXml(B);R.append(v,{name:"[Content_Types].xml"})})}addApp(R,B){return xr(this,null,function*(){let v=new _().toXml(B);R.append(v,{name:"docProps/app.xml"})})}addCore(R,B){return xr(this,null,function*(){let v=new m;R.append(v.toXml(B),{name:"docProps/core.xml"})})}addThemes(R,B){return xr(this,null,function*(){let v=B.themes||{theme1:$};Object.keys(v).forEach(y=>{let C=v[y],w=`xl/theme/${y}.xml`;R.append(C,{name:w})})})}addOfficeRels(R){return xr(this,null,function*(){let B=new p().toXml([{Id:"rId1",Type:W.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:W.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:W.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);R.append(B,{name:"_rels/.rels"})})}addWorkbookRels(R,B){return xr(this,null,function*(){let v=1,y=[{Id:"rId"+v++,Type:W.RelType.Styles,Target:"styles.xml"},{Id:"rId"+v++,Type:W.RelType.Theme,Target:"theme/theme1.xml"}];B.sharedStrings.count&&y.push({Id:"rId"+v++,Type:W.RelType.SharedStrings,Target:"sharedStrings.xml"}),B.worksheets.forEach(w=>{w.rId="rId"+v++,y.push({Id:w.rId,Type:W.RelType.Worksheet,Target:`worksheets/sheet${w.id}.xml`})});let C=new p().toXml(y);R.append(C,{name:"xl/_rels/workbook.xml.rels"})})}addSharedStrings(R,B){return xr(this,null,function*(){B.sharedStrings&&B.sharedStrings.count&&R.append(B.sharedStrings.xml,{name:"xl/sharedStrings.xml"})})}addStyles(R,B){return xr(this,null,function*(){let{xml:v}=B.styles;v&&R.append(v,{name:"xl/styles.xml"})})}addWorkbook(R,B){return xr(this,null,function*(){let v=new E;R.append(v.toXml(B),{name:"xl/workbook.xml"})})}addWorksheets(R,B){return xr(this,null,function*(){let v=new O,y=new p,C=new F,w=new L;B.worksheets.forEach(S=>{let M=new u;v.render(M,S),R.append(M.xml,{name:`xl/worksheets/sheet${S.id}.xml`}),S.rels&&S.rels.length&&(M=new u,y.render(M,S.rels),R.append(M.xml,{name:`xl/worksheets/_rels/sheet${S.id}.xml.rels`})),S.comments.length>0&&(M=new u,C.render(M,S),R.append(M.xml,{name:`xl/comments${S.id}.xml`}),M=new u,w.render(M,S),R.append(M.xml,{name:`xl/drawings/vmlDrawing${S.id}.vml`}))})})}_finalize(R){return new Promise((B,v)=>{R.on("finish",()=>{B(this)}),R.on("error",v),R.finalize()})}prepareModel(R,B){R.creator=R.creator||"ExcelJS",R.lastModifiedBy=R.lastModifiedBy||"ExcelJS",R.created=R.created||new Date,R.modified=R.modified||new Date,R.useSharedStrings=B.useSharedStrings===void 0||B.useSharedStrings,R.useStyles=B.useStyles===void 0||B.useStyles,R.sharedStrings=new g,R.styles=R.useStyles?new f(!0):new f.Mock;let v=new E,y=new O;v.prepare(R);let C={sharedStrings:R.sharedStrings,styles:R.styles,date1904:R.properties.date1904,drawingsCount:0,media:R.media};C.drawings=R.drawings=[],C.commentRefs=R.commentRefs=[];let w=0;R.tables=[],R.worksheets.forEach(S=>{S.tables.forEach(M=>{w++,M.target=`table${w}.xml`,M.id=w,R.tables.push(M)}),y.prepare(S,C)})}write(R,B){return xr(this,null,function*(){B=B||{};let{model:v}=this.workbook,y=new l.ZipWriter(B.zip);return y.pipe(R),this.prepareModel(v,B),yield this.addContentTypes(y,v),yield this.addOfficeRels(y,v),yield this.addWorkbookRels(y,v),yield this.addWorksheets(y,v),yield this.addSharedStrings(y,v),yield this.addDrawings(y,v),yield this.addTables(y,v),yield Promise.all([this.addThemes(y,v),this.addStyles(y,v)]),yield this.addMedia(y,v),yield Promise.all([this.addApp(y,v),this.addCore(y,v)]),yield this.addWorkbook(y,v),this._finalize(y)})}writeFile(R,B){let v=o.createWriteStream(R);return new Promise((y,C)=>{v.on("finish",()=>{y()}),v.on("error",w=>{C(w)}),this.write(v,B).then(()=>{v.end()}).catch(w=>{C(w)})})}writeBuffer(R){return xr(this,null,function*(){let B=new c;return yield this.write(B,R),B.read()})}}W.RelType=e("./rel-type"),t.exports=W}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(e,t,r){"use strict";t.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="\uFF2D\uFF33 \uFF30\u30B4\u30B7\u30C3\u30AF"/> <a:font script="Hang" typeface="\uB9D1\uC740 \uACE0\uB515"/> <a:font script="Hans" typeface="\u5B8B\u4F53"/> <a:font script="Hant" typeface="\u65B0\u7D30\u660E\u9AD4"/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="\uFF2D\uFF33 \uFF30\u30B4\u30B7\u30C3\u30AF"/> <a:font script="Hang" typeface="\uB9D1\uC740 \uACE0\uB515"/> <a:font script="Hans" typeface="\u5B8B\u4F53"/> <a:font script="Hant" typeface="\u65B0\u7D30\u660E\u9AD4"/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(e,t,r){(function(i){(function(){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.CsvFormatterStream=void 0;let n=e("stream"),o=e("./formatter");class s extends n.Transform{constructor(l){super({writableObjectMode:l.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=l,this.rowFormatter=new o.RowFormatter(l),this.hasWrittenBOM=!l.writeBOM}transform(l){return this.rowFormatter.rowTransform=l,this}_transform(l,c,d){let u=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(l,(h,f)=>h?(u=!0,d(h)):(f&&f.forEach(m=>{this.push(i.from(m,"utf8"))}),u=!0,d()))}catch(h){if(u)throw h;d(h)}}_flush(l){this.rowFormatter.finish((c,d)=>c?l(c):(d&&d.forEach(u=>{this.push(i.from(u,"utf8"))}),l()))}}r.CsvFormatterStream=s}).call(this)}).call(this,e("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.FormatterOptions=void 0,r.FormatterOptions=class{constructor(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var n;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,i||{}),i?.quoteHeaders===void 0&&(this.quoteHeaders=this.quoteColumns),i?.quote===!0?this.quote='"':i?.quote===!1&&(this.quote=""),typeof i?.escape!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((n=i.writeHeaders)===null||n===void 0||n),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(e,t,r){"use strict";var i=function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(r,"__esModule",{value:!0}),r.FieldFormatter=void 0;let n=i(e("lodash.isboolean")),o=i(e("lodash.isnil")),s=i(e("lodash.escaperegexp"));r.FieldFormatter=class{constructor(a){this._headers=null,this.formatterOptions=a,a.headers!==null&&(this.headers=a.headers),this.REPLACE_REGEXP=new RegExp(a.quote,"g");let l=`[${a.delimiter}${s.default(a.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(l)}set headers(a){this._headers=a}shouldQuote(a,l){let c=l?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return n.default(c)?c:Array.isArray(c)?c[a]:this._headers!==null&&c[this._headers[a]]}format(a,l,c){let d=(""+(o.default(a)?"":a)).replace(/\0/g,""),{formatterOptions:u}=this;return u.quote!==""&&d.indexOf(u.quote)!==-1?this.quoteField(d.replace(this.REPLACE_REGEXP,u.escapedQuote)):d.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(l,c)?this.quoteField(d):d}quoteField(a){let{quote:l}=this.formatterOptions;return`${l}${a}${l}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(e,t,r){"use strict";var i=function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(r,"__esModule",{value:!0}),r.RowFormatter=void 0;let n=i(e("lodash.isfunction")),o=i(e("lodash.isequal")),s=e("./FieldFormatter"),a=e("../types");class l{constructor(d){this.rowCount=0,this.formatterOptions=d,this.fieldFormatter=new s.FieldFormatter(d),this.headers=d.headers,this.shouldWriteHeaders=d.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),d.transform&&(this.rowTransform=d.transform)}static isRowHashArray(d){return!!Array.isArray(d)&&Array.isArray(d[0])&&d[0].length===2}static isRowArray(d){return Array.isArray(d)&&!this.isRowHashArray(d)}static gatherHeaders(d){return l.isRowHashArray(d)?d.map(u=>u[0]):Array.isArray(d)?d:Object.keys(d)}static createTransform(d){return a.isSyncTransform(d)?(u,h)=>{let f=null;try{f=d(u)}catch(m){return h(m)}return h(null,f)}:(u,h)=>{d(u,h)}}set rowTransform(d){if(!n.default(d))throw new TypeError("The transform should be a function");this._rowTransform=l.createTransform(d)}format(d,u){this.callTransformer(d,(h,f)=>{if(h)return u(h);if(!d)return u(null);let m=[];if(f){let{shouldFormatColumns:g,headers:p}=this.checkHeaders(f);if(this.shouldWriteHeaders&&p&&!this.hasWrittenHeaders&&(m.push(this.formatColumns(p,!0)),this.hasWrittenHeaders=!0),g){let b=this.gatherColumns(f);m.push(this.formatColumns(b,!1))}}return u(null,m)})}finish(d){let u=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return d(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));u.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&u.push(this.formatterOptions.rowDelimiter),d(null,u)}checkHeaders(d){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};let u=l.gatherHeaders(d);return this.headers=u,this.fieldFormatter.headers=u,this.shouldWriteHeaders?{shouldFormatColumns:!o.default(u,d),headers:u}:{shouldFormatColumns:!0,headers:null}}gatherColumns(d){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(d)?l.isRowHashArray(d)?this.headers.map((u,h)=>{let f=d[h];return f?f[1]:""}):l.isRowArray(d)&&!this.shouldWriteHeaders?d:this.headers.map((u,h)=>d[h]):this.headers.map(u=>d[u])}callTransformer(d,u){return this._rowTransform?this._rowTransform(d,u):u(null,d)}formatColumns(d,u){let h=d.map((m,g)=>this.fieldFormatter.format(m,g,u)).join(this.formatterOptions.delimiter),{rowCount:f}=this;return this.rowCount+=1,f?[this.formatterOptions.rowDelimiter,h].join(""):h}}r.RowFormatter=l},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.FieldFormatter=r.RowFormatter=void 0;var i=e("./RowFormatter");Object.defineProperty(r,"RowFormatter",{enumerable:!0,get:function(){return i.RowFormatter}});var n=e("./FieldFormatter");Object.defineProperty(r,"FieldFormatter",{enumerable:!0,get:function(){return n.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(e,t,r){(function(i){(function(){"use strict";var n=Object.create?function(g,p,b,_){_===void 0&&(_=b),Object.defineProperty(g,_,{enumerable:!0,get:function(){return p[b]}})}:function(g,p,b,_){_===void 0&&(_=b),g[_]=p[b]},o=Object.create?function(g,p){Object.defineProperty(g,"default",{enumerable:!0,value:p})}:function(g,p){g.default=p},s=function(g){if(g&&g.__esModule)return g;var p={};if(g!=null)for(var b in g)b!=="default"&&Object.prototype.hasOwnProperty.call(g,b)&&n(p,g,b);return o(p,g),p},a=function(g,p){for(var b in g)b==="default"||Object.prototype.hasOwnProperty.call(p,b)||n(p,g,b)};Object.defineProperty(r,"__esModule",{value:!0}),r.writeToPath=r.writeToString=r.writeToBuffer=r.writeToStream=r.write=r.format=r.FormatterOptions=r.CsvFormatterStream=void 0;let l=e("util"),c=e("stream"),d=s(e("fs")),u=e("./FormatterOptions"),h=e("./CsvFormatterStream");a(e("./types"),r);var f=e("./CsvFormatterStream");Object.defineProperty(r,"CsvFormatterStream",{enumerable:!0,get:function(){return f.CsvFormatterStream}});var m=e("./FormatterOptions");Object.defineProperty(r,"FormatterOptions",{enumerable:!0,get:function(){return m.FormatterOptions}}),r.format=g=>new h.CsvFormatterStream(new u.FormatterOptions(g)),r.write=(g,p)=>{let b=r.format(p),_=l.promisify((E,O)=>{b.write(E,void 0,O)});return g.reduce((E,O)=>E.then(()=>_(O)),Promise.resolve()).then(()=>b.end()).catch(E=>{b.emit("error",E)}),b},r.writeToStream=(g,p,b)=>r.write(p,b).pipe(g),r.writeToBuffer=function(g){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},b=[],_=new c.Writable({write(E,O,V){b.push(E),V()}});return new Promise((E,O)=>{_.on("error",O).on("finish",()=>E(i.concat(b))),r.write(g,p).pipe(_)})},r.writeToString=(g,p)=>r.writeToBuffer(g,p).then(b=>b.toString()),r.writeToPath=(g,p,b)=>{let _=d.createWriteStream(g,{encoding:"utf8"});return r.write(p,b).pipe(_)}}).call(this)}).call(this,e("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isSyncTransform=void 0,r.isSyncTransform=i=>i.length===1},{}],153:[function(e,t,r){(function(i){(function(){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.CsvParserStream=void 0;let n=e("string_decoder"),o=e("stream"),s=e("./transforms"),a=e("./parser");class l extends o.Transform{constructor(d){super({objectMode:d.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=d,this.parser=new a.Parser(d),this.headerTransformer=new s.HeaderTransformer(d),this.decoder=new n.StringDecoder(d.encoding),this.rowTransformerValidator=new s.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(d){return this.rowTransformerValidator.rowTransform=d,this}validate(d){return this.rowTransformerValidator.rowValidator=d,this}emit(d){if(d==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var u=arguments.length,h=new Array(u>1?u-1:0),f=1;f<u;f++)h[f-1]=arguments[f];return super.emit(d,...h)}_transform(d,u,h){if(this.hasHitRowLimit)return h();let f=l.wrapDoneCallback(h);try{let{lines:m}=this,g=m+this.decoder.write(d),p=this.parse(g,!0);return this.processRows(p,f)}catch(m){return f(m)}}_flush(d){let u=l.wrapDoneCallback(d);if(this.hasHitRowLimit)return u();try{let h=this.lines+this.decoder.end(),f=this.parse(h,!1);return this.processRows(f,u)}catch(h){return u(h)}}parse(d,u){if(!d)return[];let{line:h,rows:f}=this.parser.parse(d,u);return this.lines=h,f}processRows(d,u){let h=d.length,f=m=>{let g=_=>_?u(_):m%100!=0?f(m+1):void i(()=>f(m+1));if(this.checkAndEmitHeaders(),m>=h||this.hasHitRowLimit)return u();if(this.parsedLineCount+=1,this.shouldSkipLine)return g();let p=d[m];this.rowCount+=1,this.parsedRowCount+=1;let b=this.rowCount;return this.transformRow(p,(_,E)=>{if(_)return this.rowCount-=1,g(_);if(!E)return g(new Error("expected transform result"));if(E.isValid){if(E.row)return this.pushRow(E.row,g)}else this.emit("data-invalid",E.row,b,E.reason);return g()})};f(0)}transformRow(d,u){try{this.headerTransformer.transform(d,(h,f)=>h?u(h):f?f.isValid?f.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(f.row,u):this.skipRow(u):(this.rowCount-=1,this.parsedRowCount-=1,u(null,{row:null,isValid:!0})):this.shouldEmitRows?u(null,{isValid:!1,row:d}):this.skipRow(u):u(new Error("Expected result from header transform")))}catch(h){u(h)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(d){return this.rowCount-=1,d(null,{row:null,isValid:!0})}pushRow(d,u){try{this.parserOptions.objectMode?this.push(d):this.push(JSON.stringify(d)),u()}catch(h){u(h)}}static wrapDoneCallback(d){let u=!1;return function(h){if(h){if(u)throw h;return u=!0,void d(h)}for(var f=arguments.length,m=new Array(f>1?f-1:0),g=1;g<f;g++)m[g-1]=arguments[g];d(...m)}}}r.CsvParserStream=l}).call(this)}).call(this,e("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(e,t,r){"use strict";var i=function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(r,"__esModule",{value:!0}),r.ParserOptions=void 0;let n=i(e("lodash.escaperegexp")),o=i(e("lodash.isnil"));r.ParserOptions=class{constructor(s){var a;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,s||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=n.default(this.delimiter),this.escapeChar=(a=this.escape)!==null&&a!==void 0?a:this.quote,this.supportsComments=!o.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(e,t,r){"use strict";var i=Object.create?function(f,m,g,p){p===void 0&&(p=g),Object.defineProperty(f,p,{enumerable:!0,get:function(){return m[g]}})}:function(f,m,g,p){p===void 0&&(p=g),f[p]=m[g]},n=Object.create?function(f,m){Object.defineProperty(f,"default",{enumerable:!0,value:m})}:function(f,m){f.default=m},o=function(f){if(f&&f.__esModule)return f;var m={};if(f!=null)for(var g in f)g!=="default"&&Object.prototype.hasOwnProperty.call(f,g)&&i(m,f,g);return n(m,f),m},s=function(f,m){for(var g in f)g==="default"||Object.prototype.hasOwnProperty.call(m,g)||i(m,f,g)};Object.defineProperty(r,"__esModule",{value:!0}),r.parseString=r.parseFile=r.parseStream=r.parse=r.ParserOptions=r.CsvParserStream=void 0;let a=o(e("fs")),l=e("stream"),c=e("./ParserOptions"),d=e("./CsvParserStream");s(e("./types"),r);var u=e("./CsvParserStream");Object.defineProperty(r,"CsvParserStream",{enumerable:!0,get:function(){return u.CsvParserStream}});var h=e("./ParserOptions");Object.defineProperty(r,"ParserOptions",{enumerable:!0,get:function(){return h.ParserOptions}}),r.parse=f=>new d.CsvParserStream(new c.ParserOptions(f)),r.parseStream=(f,m)=>f.pipe(new d.CsvParserStream(new c.ParserOptions(m))),r.parseFile=function(f){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return a.createReadStream(f).pipe(new d.CsvParserStream(new c.ParserOptions(m)))},r.parseString=(f,m)=>{let g=new l.Readable;return g.push(f),g.push(null),g.pipe(new d.CsvParserStream(new c.ParserOptions(m)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Parser=void 0;let i=e("./Scanner"),n=e("./RowParser"),o=e("./Token");class s{constructor(l){this.parserOptions=l,this.rowParser=new n.RowParser(this.parserOptions)}static removeBOM(l){return l&&l.charCodeAt(0)===65279?l.slice(1):l}parse(l,c){let d=new i.Scanner({line:s.removeBOM(l),parserOptions:this.parserOptions,hasMoreData:c});return this.parserOptions.supportsComments?this.parseWithComments(d):this.parseWithoutComments(d)}parseWithoutComments(l){let c=[],d=!0;for(;d;)d=this.parseRow(l,c);return{line:l.line,rows:c}}parseWithComments(l){let{parserOptions:c}=this,d=[];for(let u=l.nextCharacterToken;u!==null;u=l.nextCharacterToken)if(o.Token.isTokenComment(u,c)){if(l.advancePastLine()===null)return{line:l.lineFromCursor,rows:d};if(!l.hasMoreCharacters)return{line:l.lineFromCursor,rows:d};l.truncateToCursor()}else if(!this.parseRow(l,d))break;return{line:l.line,rows:d}}parseRow(l,c){if(!l.nextNonSpaceToken)return!1;let d=this.rowParser.parse(l);return d!==null&&(this.parserOptions.ignoreEmpty&&n.RowParser.isEmptyRow(d)||c.push(d),!0)}}r.Parser=s},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.RowParser=void 0;let i=e("./column"),n=e("./Token");r.RowParser=class{constructor(o){this.parserOptions=o,this.columnParser=new i.ColumnParser(o)}static isEmptyRow(o){return o.join("").replace(/\s+/g,"")===""}parse(o){let{parserOptions:s}=this,{hasMoreData:a}=o,l=o,c=[],d=this.getStartToken(l,c);for(;d;){if(n.Token.isTokenRowDelimiter(d))return l.advancePastToken(d),!l.hasMoreCharacters&&n.Token.isTokenCarriageReturn(d,s)&&a?null:(l.truncateToCursor(),c);if(!this.shouldSkipColumnParse(l,d,c)){let u=this.columnParser.parse(l);if(u===null)return null;c.push(u)}d=l.nextNonSpaceToken}return a?null:(l.truncateToCursor(),c)}getStartToken(o,s){let a=o.nextNonSpaceToken;return a!==null&&n.Token.isTokenDelimiter(a,this.parserOptions)?(s.push(""),o.nextNonSpaceToken):a}shouldSkipColumnParse(o,s,a){let{parserOptions:l}=this;if(n.Token.isTokenDelimiter(s,l)){o.advancePastToken(s);let c=o.nextCharacterToken;if(!o.hasMoreCharacters||c!==null&&n.Token.isTokenRowDelimiter(c)||c!==null&&n.Token.isTokenDelimiter(c,l))return a.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Scanner=void 0;let i=e("./Token"),n=/((?:\r\n)|\n|\r)/;r.Scanner=class{constructor(o){this.cursor=0,this.line=o.line,this.lineLength=this.line.length,this.parserOptions=o.parserOptions,this.hasMoreData=o.hasMoreData,this.cursor=o.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){let{lineFromCursor:o}=this,s=this.parserOptions.NEXT_TOKEN_REGEXP;if(o.search(s)===-1)return null;let a=s.exec(o);if(a==null)return null;let l=a[1],c=this.cursor+(a.index||0);return new i.Token({token:l,startCursor:c,endCursor:c+l.length-1})}get nextCharacterToken(){let{cursor:o,lineLength:s}=this;return s<=o?null:new i.Token({token:this.line[o],startCursor:o,endCursor:o})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){let o=n.exec(this.lineFromCursor);return o?(this.cursor+=(o.index||0)+o[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(o){return this.cursor=o,this}advanceToToken(o){return this.cursor=o.startCursor,this}advancePastToken(o){return this.cursor=o.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Token=void 0,r.Token=class{constructor(i){this.token=i.token,this.startCursor=i.startCursor,this.endCursor=i.endCursor}static isTokenRowDelimiter(i){let n=i.token;return n==="\r"||n===`
`||n===`\r
`}static isTokenCarriageReturn(i,n){return i.token===n.carriageReturn}static isTokenComment(i,n){return n.supportsComments&&!!i&&i.token===n.comment}static isTokenEscapeCharacter(i,n){return i.token===n.escapeChar}static isTokenQuote(i,n){return i.token===n.quote}static isTokenDelimiter(i,n){return i.token===n.delimiter}}},{}],160:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ColumnFormatter=void 0,r.ColumnFormatter=class{constructor(i){i.trim?this.format=n=>n.trim():i.ltrim?this.format=n=>n.trimLeft():i.rtrim?this.format=n=>n.trimRight():this.format=n=>n}}},{}],161:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ColumnParser=void 0;let i=e("./NonQuotedColumnParser"),n=e("./QuotedColumnParser"),o=e("../Token");r.ColumnParser=class{constructor(s){this.parserOptions=s,this.quotedColumnParser=new n.QuotedColumnParser(s),this.nonQuotedColumnParser=new i.NonQuotedColumnParser(s)}parse(s){let{nextNonSpaceToken:a}=s;return a!==null&&o.Token.isTokenQuote(a,this.parserOptions)?(s.advanceToToken(a),this.quotedColumnParser.parse(s)):this.nonQuotedColumnParser.parse(s)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.NonQuotedColumnParser=void 0;let i=e("./ColumnFormatter"),n=e("../Token");r.NonQuotedColumnParser=class{constructor(o){this.parserOptions=o,this.columnFormatter=new i.ColumnFormatter(o)}parse(o){if(!o.hasMoreCharacters)return null;let{parserOptions:s}=this,a=[],l=o.nextCharacterToken;for(;l&&!n.Token.isTokenDelimiter(l,s)&&!n.Token.isTokenRowDelimiter(l);l=o.nextCharacterToken)a.push(l.token),o.advancePastToken(l);return this.columnFormatter.format(a.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.QuotedColumnParser=void 0;let i=e("./ColumnFormatter"),n=e("../Token");r.QuotedColumnParser=class{constructor(o){this.parserOptions=o,this.columnFormatter=new i.ColumnFormatter(o)}parse(o){if(!o.hasMoreCharacters)return null;let s=o.cursor,{foundClosingQuote:a,col:l}=this.gatherDataBetweenQuotes(o);if(!a){if(o.advanceTo(s),!o.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${o.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(o),l}gatherDataBetweenQuotes(o){let{parserOptions:s}=this,a=!1,l=!1,c=[],d=o.nextCharacterToken;for(;!l&&d!==null;d=o.nextCharacterToken){let u=n.Token.isTokenQuote(d,s);if(!a&&u)a=!0;else if(a)if(n.Token.isTokenEscapeCharacter(d,s)){o.advancePastToken(d);let h=o.nextCharacterToken;h!==null&&(n.Token.isTokenQuote(h,s)||n.Token.isTokenEscapeCharacter(h,s))?(c.push(h.token),d=h):u?l=!0:c.push(d.token)}else u?l=!0:c.push(d.token);o.advancePastToken(d)}return{col:this.columnFormatter.format(c.join("")),foundClosingQuote:l}}checkForMalformedColumn(o){let{parserOptions:s}=this,{nextNonSpaceToken:a}=o;if(a){let l=n.Token.isTokenDelimiter(a,s),c=n.Token.isTokenRowDelimiter(a);if(!l&&!c){let d=o.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${s.escapedDelimiter}' OR new line got: '${a.token}'. at '${d}`)}o.advanceToToken(a)}else o.hasMoreData||o.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ColumnFormatter=r.QuotedColumnParser=r.NonQuotedColumnParser=r.ColumnParser=void 0;var i=e("./ColumnParser");Object.defineProperty(r,"ColumnParser",{enumerable:!0,get:function(){return i.ColumnParser}});var n=e("./NonQuotedColumnParser");Object.defineProperty(r,"NonQuotedColumnParser",{enumerable:!0,get:function(){return n.NonQuotedColumnParser}});var o=e("./QuotedColumnParser");Object.defineProperty(r,"QuotedColumnParser",{enumerable:!0,get:function(){return o.QuotedColumnParser}});var s=e("./ColumnFormatter");Object.defineProperty(r,"ColumnFormatter",{enumerable:!0,get:function(){return s.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.QuotedColumnParser=r.NonQuotedColumnParser=r.ColumnParser=r.Token=r.Scanner=r.RowParser=r.Parser=void 0;var i=e("./Parser");Object.defineProperty(r,"Parser",{enumerable:!0,get:function(){return i.Parser}});var n=e("./RowParser");Object.defineProperty(r,"RowParser",{enumerable:!0,get:function(){return n.RowParser}});var o=e("./Scanner");Object.defineProperty(r,"Scanner",{enumerable:!0,get:function(){return o.Scanner}});var s=e("./Token");Object.defineProperty(r,"Token",{enumerable:!0,get:function(){return s.Token}});var a=e("./column");Object.defineProperty(r,"ColumnParser",{enumerable:!0,get:function(){return a.ColumnParser}}),Object.defineProperty(r,"NonQuotedColumnParser",{enumerable:!0,get:function(){return a.NonQuotedColumnParser}}),Object.defineProperty(r,"QuotedColumnParser",{enumerable:!0,get:function(){return a.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(e,t,r){"use strict";var i=function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(r,"__esModule",{value:!0}),r.HeaderTransformer=void 0;let n=i(e("lodash.isundefined")),o=i(e("lodash.isfunction")),s=i(e("lodash.uniq")),a=i(e("lodash.groupby"));r.HeaderTransformer=class{constructor(l){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=l,l.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(l.headers)?this.setHeaders(l.headers):o.default(l.headers)&&(this.headersTransform=l.headers)}transform(l,c){return this.shouldMapRow(l)?c(null,this.processRow(l)):c(null,{row:null,isValid:!0})}shouldMapRow(l){let{parserOptions:c}=this;if(!this.headersTransform&&c.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(l)){if(this.headersTransform)this.setHeaders(this.headersTransform(l));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(l)}return!1}return!0}processRow(l){if(!this.headers)return{row:l,isValid:!0};let{parserOptions:c}=this;if(!c.discardUnmappedColumns&&l.length>this.headersLength){if(!c.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${l.length}`);return{row:l,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${l.length}`}}return c.strictColumnHandling&&l.length<this.headersLength?{row:l,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${l.length}`}:{row:this.mapHeaders(l),isValid:!0}}mapHeaders(l){let c={},{headers:d,headersLength:u}=this;for(let h=0;h<u;h+=1){let f=d[h];if(!n.default(f)){let m=l[h];n.default(m)?c[f]="":c[f]=m}}return c}setHeaders(l){var c;let d=l.filter(u=>!!u);if(s.default(d).length!==d.length){let u=a.default(d),h=Object.keys(u).filter(f=>u[f].length>1);throw new Error("Duplicate headers found "+JSON.stringify(h))}this.headers=l,this.receivedHeaders=!0,this.headersLength=((c=this.headers)===null||c===void 0?void 0:c.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(e,t,r){"use strict";var i=function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(r,"__esModule",{value:!0}),r.RowTransformerValidator=void 0;let n=i(e("lodash.isfunction")),o=e("../types");class s{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(l){return o.isSyncTransform(l)?(c,d)=>{let u=null;try{u=l(c)}catch(h){return d(h)}return d(null,u)}:l}static createValidator(l){return o.isSyncValidate(l)?(c,d)=>{d(null,{row:c,isValid:l(c)})}:(c,d)=>{l(c,(u,h,f)=>u?d(u):d(null,h?{row:c,isValid:h,reason:f}:{row:c,isValid:!1,reason:f}))}}set rowTransform(l){if(!n.default(l))throw new TypeError("The transform should be a function");this._rowTransform=s.createTransform(l)}set rowValidator(l){if(!n.default(l))throw new TypeError("The validate should be a function");this._rowValidator=s.createValidator(l)}transformAndValidate(l,c){return this.callTransformer(l,(d,u)=>d?c(d):u?this.callValidator(u,(h,f)=>h?c(h):f&&!f.isValid?c(null,{row:u,isValid:!1,reason:f.reason}):c(null,{row:u,isValid:!0})):c(null,{row:null,isValid:!0}))}callTransformer(l,c){return this._rowTransform?this._rowTransform(l,c):c(null,l)}callValidator(l,c){return this._rowValidator?this._rowValidator(l,c):c(null,{row:l,isValid:!0})}}r.RowTransformerValidator=s},{"../types":169,"lodash.isfunction":446}],168:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.HeaderTransformer=r.RowTransformerValidator=void 0;var i=e("./RowTransformerValidator");Object.defineProperty(r,"RowTransformerValidator",{enumerable:!0,get:function(){return i.RowTransformerValidator}});var n=e("./HeaderTransformer");Object.defineProperty(r,"HeaderTransformer",{enumerable:!0,get:function(){return n.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isSyncValidate=r.isSyncTransform=void 0,r.isSyncTransform=i=>i.length===1,r.isSyncValidate=i=>i.length===1},{}],170:[function(e,t,r){"use strict";let i=r;i.bignum=e("bn.js"),i.define=e("./asn1/api").define,i.base=e("./asn1/base"),i.constants=e("./asn1/constants"),i.decoders=e("./asn1/decoders"),i.encoders=e("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(e,t,r){"use strict";let i=e("./encoders"),n=e("./decoders"),o=e("inherits");function s(a,l){this.name=a,this.body=l,this.decoders={},this.encoders={}}r.define=function(a,l){return new s(a,l)},s.prototype._createNamed=function(a){let l=this.name;function c(d){this._initNamed(d,l)}return o(c,a),c.prototype._initNamed=function(d,u){a.call(this,d,u)},new c(this)},s.prototype._getDecoder=function(a){return a=a||"der",this.decoders.hasOwnProperty(a)||(this.decoders[a]=this._createNamed(n[a])),this.decoders[a]},s.prototype.decode=function(a,l,c){return this._getDecoder(l).decode(a,c)},s.prototype._getEncoder=function(a){return a=a||"der",this.encoders.hasOwnProperty(a)||(this.encoders[a]=this._createNamed(i[a])),this.encoders[a]},s.prototype.encode=function(a,l,c){return this._getEncoder(l).encode(a,c)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(e,t,r){"use strict";let i=e("inherits"),n=e("../base/reporter").Reporter,o=e("safer-buffer").Buffer;function s(l,c){n.call(this,c),o.isBuffer(l)?(this.base=l,this.offset=0,this.length=l.length):this.error("Input not Buffer")}function a(l,c){if(Array.isArray(l))this.length=0,this.value=l.map(function(d){return a.isEncoderBuffer(d)||(d=new a(d,c)),this.length+=d.length,d},this);else if(typeof l=="number"){if(!(0<=l&&l<=255))return c.error("non-byte EncoderBuffer value");this.value=l,this.length=1}else if(typeof l=="string")this.value=l,this.length=o.byteLength(l);else{if(!o.isBuffer(l))return c.error("Unsupported type: "+typeof l);this.value=l,this.length=l.length}}i(s,n),r.DecoderBuffer=s,s.isDecoderBuffer=function(l){return l instanceof s?!0:typeof l=="object"&&o.isBuffer(l.base)&&l.constructor.name==="DecoderBuffer"&&typeof l.offset=="number"&&typeof l.length=="number"&&typeof l.save=="function"&&typeof l.restore=="function"&&typeof l.isEmpty=="function"&&typeof l.readUInt8=="function"&&typeof l.skip=="function"&&typeof l.raw=="function"},s.prototype.save=function(){return{offset:this.offset,reporter:n.prototype.save.call(this)}},s.prototype.restore=function(l){let c=new s(this.base);return c.offset=l.offset,c.length=this.offset,this.offset=l.offset,n.prototype.restore.call(this,l.reporter),c},s.prototype.isEmpty=function(){return this.offset===this.length},s.prototype.readUInt8=function(l){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(l||"DecoderBuffer overrun")},s.prototype.skip=function(l,c){if(!(this.offset+l<=this.length))return this.error(c||"DecoderBuffer overrun");let d=new s(this.base);return d._reporterState=this._reporterState,d.offset=this.offset,d.length=this.offset+l,this.offset+=l,d},s.prototype.raw=function(l){return this.base.slice(l?l.offset:this.offset,this.length)},r.EncoderBuffer=a,a.isEncoderBuffer=function(l){return l instanceof a?!0:typeof l=="object"&&l.constructor.name==="EncoderBuffer"&&typeof l.length=="number"&&typeof l.join=="function"},a.prototype.join=function(l,c){return l||(l=o.alloc(this.length)),c||(c=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(d){d.join(l,c),c+=d.length}):(typeof this.value=="number"?l[c]=this.value:typeof this.value=="string"?l.write(this.value,c):o.isBuffer(this.value)&&this.value.copy(l,c),c+=this.length)),l}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(e,t,r){"use strict";let i=r;i.Reporter=e("./reporter").Reporter,i.DecoderBuffer=e("./buffer").DecoderBuffer,i.EncoderBuffer=e("./buffer").EncoderBuffer,i.Node=e("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(e,t,r){"use strict";let i=e("../base/reporter").Reporter,n=e("../base/buffer").EncoderBuffer,o=e("../base/buffer").DecoderBuffer,s=e("minimalistic-assert"),a=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],l=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(a);function c(u,h,f){let m={};this._baseState=m,m.name=f,m.enc=u,m.parent=h||null,m.children=null,m.tag=null,m.args=null,m.reverseArgs=null,m.choice=null,m.optional=!1,m.any=!1,m.obj=!1,m.use=null,m.useDecoder=null,m.key=null,m.default=null,m.explicit=null,m.implicit=null,m.contains=null,m.parent||(m.children=[],this._wrap())}t.exports=c;let d=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];c.prototype.clone=function(){let u=this._baseState,h={};d.forEach(function(m){h[m]=u[m]});let f=new this.constructor(h.parent);return f._baseState=h,f},c.prototype._wrap=function(){let u=this._baseState;l.forEach(function(h){this[h]=function(){let f=new this.constructor(this);return u.children.push(f),f[h].apply(f,arguments)}},this)},c.prototype._init=function(u){let h=this._baseState;s(h.parent===null),u.call(this),h.children=h.children.filter(function(f){return f._baseState.parent===this},this),s.equal(h.children.length,1,"Root node can have only one child")},c.prototype._useArgs=function(u){let h=this._baseState,f=u.filter(function(m){return m instanceof this.constructor},this);u=u.filter(function(m){return!(m instanceof this.constructor)},this),f.length!==0&&(s(h.children===null),h.children=f,f.forEach(function(m){m._baseState.parent=this},this)),u.length!==0&&(s(h.args===null),h.args=u,h.reverseArgs=u.map(function(m){if(typeof m!="object"||m.constructor!==Object)return m;let g={};return Object.keys(m).forEach(function(p){p==(0|p)&&(p|=0);let b=m[p];g[b]=p}),g}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(u){c.prototype[u]=function(){let h=this._baseState;throw new Error(u+" not implemented for encoding: "+h.enc)}}),a.forEach(function(u){c.prototype[u]=function(){let h=this._baseState,f=Array.prototype.slice.call(arguments);return s(h.tag===null),h.tag=u,this._useArgs(f),this}}),c.prototype.use=function(u){s(u);let h=this._baseState;return s(h.use===null),h.use=u,this},c.prototype.optional=function(){return this._baseState.optional=!0,this},c.prototype.def=function(u){let h=this._baseState;return s(h.default===null),h.default=u,h.optional=!0,this},c.prototype.explicit=function(u){let h=this._baseState;return s(h.explicit===null&&h.implicit===null),h.explicit=u,this},c.prototype.implicit=function(u){let h=this._baseState;return s(h.explicit===null&&h.implicit===null),h.implicit=u,this},c.prototype.obj=function(){let u=this._baseState,h=Array.prototype.slice.call(arguments);return u.obj=!0,h.length!==0&&this._useArgs(h),this},c.prototype.key=function(u){let h=this._baseState;return s(h.key===null),h.key=u,this},c.prototype.any=function(){return this._baseState.any=!0,this},c.prototype.choice=function(u){let h=this._baseState;return s(h.choice===null),h.choice=u,this._useArgs(Object.keys(u).map(function(f){return u[f]})),this},c.prototype.contains=function(u){let h=this._baseState;return s(h.use===null),h.contains=u,this},c.prototype._decode=function(u,h){let f=this._baseState;if(f.parent===null)return u.wrapResult(f.children[0]._decode(u,h));let m,g=f.default,p=!0,b=null;if(f.key!==null&&(b=u.enterKey(f.key)),f.optional){let _=null;if(f.explicit!==null?_=f.explicit:f.implicit!==null?_=f.implicit:f.tag!==null&&(_=f.tag),_!==null||f.any){if(p=this._peekTag(u,_,f.any),u.isError(p))return p}else{let E=u.save();try{f.choice===null?this._decodeGeneric(f.tag,u,h):this._decodeChoice(u,h),p=!0}catch{p=!1}u.restore(E)}}if(f.obj&&p&&(m=u.enterObject()),p){if(f.explicit!==null){let E=this._decodeTag(u,f.explicit);if(u.isError(E))return E;u=E}let _=u.offset;if(f.use===null&&f.choice===null){let E;f.any&&(E=u.save());let O=this._decodeTag(u,f.implicit!==null?f.implicit:f.tag,f.any);if(u.isError(O))return O;f.any?g=u.raw(E):u=O}if(h&&h.track&&f.tag!==null&&h.track(u.path(),_,u.length,"tagged"),h&&h.track&&f.tag!==null&&h.track(u.path(),u.offset,u.length,"content"),f.any||(g=f.choice===null?this._decodeGeneric(f.tag,u,h):this._decodeChoice(u,h)),u.isError(g))return g;if(f.any||f.choice!==null||f.children===null||f.children.forEach(function(E){E._decode(u,h)}),f.contains&&(f.tag==="octstr"||f.tag==="bitstr")){let E=new o(g);g=this._getUse(f.contains,u._reporterState.obj)._decode(E,h)}}return f.obj&&p&&(g=u.leaveObject(m)),f.key===null||g===null&&p!==!0?b!==null&&u.exitKey(b):u.leaveKey(b,f.key,g),g},c.prototype._decodeGeneric=function(u,h,f){let m=this._baseState;return u==="seq"||u==="set"?null:u==="seqof"||u==="setof"?this._decodeList(h,u,m.args[0],f):/str$/.test(u)?this._decodeStr(h,u,f):u==="objid"&&m.args?this._decodeObjid(h,m.args[0],m.args[1],f):u==="objid"?this._decodeObjid(h,null,null,f):u==="gentime"||u==="utctime"?this._decodeTime(h,u,f):u==="null_"?this._decodeNull(h,f):u==="bool"?this._decodeBool(h,f):u==="objDesc"?this._decodeStr(h,u,f):u==="int"||u==="enum"?this._decodeInt(h,m.args&&m.args[0],f):m.use!==null?this._getUse(m.use,h._reporterState.obj)._decode(h,f):h.error("unknown tag: "+u)},c.prototype._getUse=function(u,h){let f=this._baseState;return f.useDecoder=this._use(u,h),s(f.useDecoder._baseState.parent===null),f.useDecoder=f.useDecoder._baseState.children[0],f.implicit!==f.useDecoder._baseState.implicit&&(f.useDecoder=f.useDecoder.clone(),f.useDecoder._baseState.implicit=f.implicit),f.useDecoder},c.prototype._decodeChoice=function(u,h){let f=this._baseState,m=null,g=!1;return Object.keys(f.choice).some(function(p){let b=u.save(),_=f.choice[p];try{let E=_._decode(u,h);if(u.isError(E))return!1;m={type:p,value:E},g=!0}catch{return u.restore(b),!1}return!0},this),g?m:u.error("Choice not matched")},c.prototype._createEncoderBuffer=function(u){return new n(u,this.reporter)},c.prototype._encode=function(u,h,f){let m=this._baseState;if(m.default!==null&&m.default===u)return;let g=this._encodeValue(u,h,f);return g===void 0||this._skipDefault(g,h,f)?void 0:g},c.prototype._encodeValue=function(u,h,f){let m=this._baseState;if(m.parent===null)return m.children[0]._encode(u,h||new i);let g=null;if(this.reporter=h,m.optional&&u===void 0){if(m.default===null)return;u=m.default}let p=null,b=!1;if(m.any)g=this._createEncoderBuffer(u);else if(m.choice)g=this._encodeChoice(u,h);else if(m.contains)p=this._getUse(m.contains,f)._encode(u,h),b=!0;else if(m.children)p=m.children.map(function(_){if(_._baseState.tag==="null_")return _._encode(null,h,u);if(_._baseState.key===null)return h.error("Child should have a key");let E=h.enterKey(_._baseState.key);if(typeof u!="object")return h.error("Child expected, but input is not object");let O=_._encode(u[_._baseState.key],h,u);return h.leaveKey(E),O},this).filter(function(_){return _}),p=this._createEncoderBuffer(p);else if(m.tag==="seqof"||m.tag==="setof"){if(!m.args||m.args.length!==1)return h.error("Too many args for : "+m.tag);if(!Array.isArray(u))return h.error("seqof/setof, but data is not Array");let _=this.clone();_._baseState.implicit=null,p=this._createEncoderBuffer(u.map(function(E){let O=this._baseState;return this._getUse(O.args[0],u)._encode(E,h)},_))}else m.use!==null?g=this._getUse(m.use,f)._encode(u,h):(p=this._encodePrimitive(m.tag,u),b=!0);if(!m.any&&m.choice===null){let _=m.implicit!==null?m.implicit:m.tag,E=m.implicit===null?"universal":"context";_===null?m.use===null&&h.error("Tag could be omitted only for .use()"):m.use===null&&(g=this._encodeComposite(_,b,E,p))}return m.explicit!==null&&(g=this._encodeComposite(m.explicit,!1,"context",g)),g},c.prototype._encodeChoice=function(u,h){let f=this._baseState,m=f.choice[u.type];return m||s(!1,u.type+" not found in "+JSON.stringify(Object.keys(f.choice))),m._encode(u.value,h)},c.prototype._encodePrimitive=function(u,h){let f=this._baseState;if(/str$/.test(u))return this._encodeStr(h,u);if(u==="objid"&&f.args)return this._encodeObjid(h,f.reverseArgs[0],f.args[1]);if(u==="objid")return this._encodeObjid(h,null,null);if(u==="gentime"||u==="utctime")return this._encodeTime(h,u);if(u==="null_")return this._encodeNull();if(u==="int"||u==="enum")return this._encodeInt(h,f.args&&f.reverseArgs[0]);if(u==="bool")return this._encodeBool(h);if(u==="objDesc")return this._encodeStr(h,u);throw new Error("Unsupported tag: "+u)},c.prototype._isNumstr=function(u){return/^[0-9 ]*$/.test(u)},c.prototype._isPrintstr=function(u){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(u)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(e,t,r){"use strict";let i=e("inherits");function n(s){this._reporterState={obj:null,path:[],options:s||{},errors:[]}}function o(s,a){this.path=s,this.rethrow(a)}r.Reporter=n,n.prototype.isError=function(s){return s instanceof o},n.prototype.save=function(){let s=this._reporterState;return{obj:s.obj,pathLen:s.path.length}},n.prototype.restore=function(s){let a=this._reporterState;a.obj=s.obj,a.path=a.path.slice(0,s.pathLen)},n.prototype.enterKey=function(s){return this._reporterState.path.push(s)},n.prototype.exitKey=function(s){let a=this._reporterState;a.path=a.path.slice(0,s-1)},n.prototype.leaveKey=function(s,a,l){let c=this._reporterState;this.exitKey(s),c.obj!==null&&(c.obj[a]=l)},n.prototype.path=function(){return this._reporterState.path.join("/")},n.prototype.enterObject=function(){let s=this._reporterState,a=s.obj;return s.obj={},a},n.prototype.leaveObject=function(s){let a=this._reporterState,l=a.obj;return a.obj=s,l},n.prototype.error=function(s){let a,l=this._reporterState,c=s instanceof o;if(a=c?s:new o(l.path.map(function(d){return"["+JSON.stringify(d)+"]"}).join(""),s.message||s,s.stack),!l.options.partial)throw a;return c||l.errors.push(a),a},n.prototype.wrapResult=function(s){let a=this._reporterState;return a.options.partial?{result:this.isError(s)?null:s,errors:a.errors}:s},i(o,Error),o.prototype.rethrow=function(s){if(this.message=s+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(a){this.stack=a.stack}return this}},{inherits:440}],176:[function(e,t,r){"use strict";function i(n){let o={};return Object.keys(n).forEach(function(s){(0|s)==s&&(s|=0);let a=n[s];o[a]=s}),o}r.tagClass={0:"universal",1:"application",2:"context",3:"private"},r.tagClassByName=i(r.tagClass),r.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},r.tagByName=i(r.tag)},{}],177:[function(e,t,r){"use strict";let i=r;i._reverse=function(n){let o={};return Object.keys(n).forEach(function(s){(0|s)==s&&(s|=0);let a=n[s];o[a]=s}),o},i.der=e("./der")},{"./der":176}],178:[function(e,t,r){"use strict";let i=e("inherits"),n=e("bn.js"),o=e("../base/buffer").DecoderBuffer,s=e("../base/node"),a=e("../constants/der");function l(h){this.enc="der",this.name=h.name,this.entity=h,this.tree=new c,this.tree._init(h.body)}function c(h){s.call(this,"der",h)}function d(h,f){let m=h.readUInt8(f);if(h.isError(m))return m;let g=a.tagClass[m>>6],p=(32&m)==0;if((31&m)==31){let b=m;for(m=0;(128&b)==128;){if(b=h.readUInt8(f),h.isError(b))return b;m<<=7,m|=127&b}}else m&=31;return{cls:g,primitive:p,tag:m,tagStr:a.tag[m]}}function u(h,f,m){let g=h.readUInt8(m);if(h.isError(g))return g;if(!f&&g===128)return null;if(!(128&g))return g;let p=127&g;if(p>4)return h.error("length octect is too long");g=0;for(let b=0;b<p;b++){g<<=8;let _=h.readUInt8(m);if(h.isError(_))return _;g|=_}return g}t.exports=l,l.prototype.decode=function(h,f){return o.isDecoderBuffer(h)||(h=new o(h,f)),this.tree._decode(h,f)},i(c,s),c.prototype._peekTag=function(h,f,m){if(h.isEmpty())return!1;let g=h.save(),p=d(h,'Failed to peek tag: "'+f+'"');return h.isError(p)?p:(h.restore(g),p.tag===f||p.tagStr===f||p.tagStr+"of"===f||m)},c.prototype._decodeTag=function(h,f,m){let g=d(h,'Failed to decode tag of "'+f+'"');if(h.isError(g))return g;let p=u(h,g.primitive,'Failed to get length of "'+f+'"');if(h.isError(p))return p;if(!m&&g.tag!==f&&g.tagStr!==f&&g.tagStr+"of"!==f)return h.error('Failed to match tag: "'+f+'"');if(g.primitive||p!==null)return h.skip(p,'Failed to match body of: "'+f+'"');let b=h.save(),_=this._skipUntilEnd(h,'Failed to skip indefinite length body: "'+this.tag+'"');return h.isError(_)?_:(p=h.offset-b.offset,h.restore(b),h.skip(p,'Failed to match body of: "'+f+'"'))},c.prototype._skipUntilEnd=function(h,f){for(;;){let m=d(h,f);if(h.isError(m))return m;let g=u(h,m.primitive,f);if(h.isError(g))return g;let p;if(p=m.primitive||g!==null?h.skip(g):this._skipUntilEnd(h,f),h.isError(p))return p;if(m.tagStr==="end")break}},c.prototype._decodeList=function(h,f,m,g){let p=[];for(;!h.isEmpty();){let b=this._peekTag(h,"end");if(h.isError(b))return b;let _=m.decode(h,"der",g);if(h.isError(_)&&b)break;p.push(_)}return p},c.prototype._decodeStr=function(h,f){if(f==="bitstr"){let m=h.readUInt8();return h.isError(m)?m:{unused:m,data:h.raw()}}if(f==="bmpstr"){let m=h.raw();if(m.length%2==1)return h.error("Decoding of string type: bmpstr length mismatch");let g="";for(let p=0;p<m.length/2;p++)g+=String.fromCharCode(m.readUInt16BE(2*p));return g}if(f==="numstr"){let m=h.raw().toString("ascii");return this._isNumstr(m)?m:h.error("Decoding of string type: numstr unsupported characters")}if(f==="octstr"||f==="objDesc")return h.raw();if(f==="printstr"){let m=h.raw().toString("ascii");return this._isPrintstr(m)?m:h.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(f)?h.raw().toString():h.error("Decoding of string type: "+f+" unsupported")},c.prototype._decodeObjid=function(h,f,m){let g,p=[],b=0,_=0;for(;!h.isEmpty();)_=h.readUInt8(),b<<=7,b|=127&_,!(128&_)&&(p.push(b),b=0);128&_&&p.push(b);let E=p[0]/40|0,O=p[0]%40;if(g=m?p:[E,O].concat(p.slice(1)),f){let V=f[g.join(" ")];V===void 0&&(V=f[g.join(".")]),V!==void 0&&(g=V)}return g},c.prototype._decodeTime=function(h,f){let m=h.raw().toString(),g,p,b,_,E,O;if(f==="gentime")g=0|m.slice(0,4),p=0|m.slice(4,6),b=0|m.slice(6,8),_=0|m.slice(8,10),E=0|m.slice(10,12),O=0|m.slice(12,14);else{if(f!=="utctime")return h.error("Decoding "+f+" time is not supported yet");g=0|m.slice(0,2),p=0|m.slice(2,4),b=0|m.slice(4,6),_=0|m.slice(6,8),E=0|m.slice(8,10),O=0|m.slice(10,12),g=g<70?2e3+g:1900+g}return Date.UTC(g,p-1,b,_,E,O,0)},c.prototype._decodeNull=function(){return null},c.prototype._decodeBool=function(h){let f=h.readUInt8();return h.isError(f)?f:f!==0},c.prototype._decodeInt=function(h,f){let m=h.raw(),g=new n(m);return f&&(g=f[g.toString(10)]||g),g},c.prototype._use=function(h,f){return typeof h=="function"&&(h=h(f)),h._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(e,t,r){"use strict";let i=r;i.der=e("./der"),i.pem=e("./pem")},{"./der":178,"./pem":180}],180:[function(e,t,r){"use strict";let i=e("inherits"),n=e("safer-buffer").Buffer,o=e("./der");function s(a){o.call(this,a),this.enc="pem"}i(s,o),t.exports=s,s.prototype.decode=function(a,l){let c=a.toString().split(/[\r\n]+/g),d=l.label.toUpperCase(),u=/^-----(BEGIN|END) ([^-]+)-----$/,h=-1,f=-1;for(let p=0;p<c.length;p++){let b=c[p].match(u);if(b!==null&&b[2]===d){if(h!==-1){if(b[1]!=="END")break;f=p;break}if(b[1]!=="BEGIN")break;h=p}}if(h===-1||f===-1)throw new Error("PEM section not found for: "+d);let m=c.slice(h+1,f).join("");m.replace(/[^a-z0-9+/=]+/gi,"");let g=n.from(m,"base64");return o.prototype.decode.call(this,g,l)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(e,t,r){"use strict";let i=e("inherits"),n=e("safer-buffer").Buffer,o=e("../base/node"),s=e("../constants/der");function a(d){this.enc="der",this.name=d.name,this.entity=d,this.tree=new l,this.tree._init(d.body)}function l(d){o.call(this,"der",d)}function c(d){return d<10?"0"+d:d}t.exports=a,a.prototype.encode=function(d,u){return this.tree._encode(d,u).join()},i(l,o),l.prototype._encodeComposite=function(d,u,h,f){let m=function(b,_,E,O){let V;if(b==="seqof"?b="seq":b==="setof"&&(b="set"),s.tagByName.hasOwnProperty(b))V=s.tagByName[b];else{if(typeof b!="number"||(0|b)!==b)return O.error("Unknown tag: "+b);V=b}return V>=31?O.error("Multi-octet tag encoding unsupported"):(_||(V|=32),V|=s.tagClassByName[E||"universal"]<<6,V)}(d,u,h,this.reporter);if(f.length<128){let b=n.alloc(2);return b[0]=m,b[1]=f.length,this._createEncoderBuffer([b,f])}let g=1;for(let b=f.length;b>=256;b>>=8)g++;let p=n.alloc(2+g);p[0]=m,p[1]=128|g;for(let b=1+g,_=f.length;_>0;b--,_>>=8)p[b]=255&_;return this._createEncoderBuffer([p,f])},l.prototype._encodeStr=function(d,u){if(u==="bitstr")return this._createEncoderBuffer([0|d.unused,d.data]);if(u==="bmpstr"){let h=n.alloc(2*d.length);for(let f=0;f<d.length;f++)h.writeUInt16BE(d.charCodeAt(f),2*f);return this._createEncoderBuffer(h)}return u==="numstr"?this._isNumstr(d)?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: numstr supports only digits and space"):u==="printstr"?this._isPrintstr(d)?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(u)||u==="objDesc"?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: "+u+" unsupported")},l.prototype._encodeObjid=function(d,u,h){if(typeof d=="string"){if(!u)return this.reporter.error("string objid given, but no values map found");if(!u.hasOwnProperty(d))return this.reporter.error("objid not found in values map");d=u[d].split(/[\s.]+/g);for(let p=0;p<d.length;p++)d[p]|=0}else if(Array.isArray(d)){d=d.slice();for(let p=0;p<d.length;p++)d[p]|=0}if(!Array.isArray(d))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(d));if(!h){if(d[1]>=40)return this.reporter.error("Second objid identifier OOB");d.splice(0,2,40*d[0]+d[1])}let f=0;for(let p=0;p<d.length;p++){let b=d[p];for(f++;b>=128;b>>=7)f++}let m=n.alloc(f),g=m.length-1;for(let p=d.length-1;p>=0;p--){let b=d[p];for(m[g--]=127&b;(b>>=7)>0;)m[g--]=128|127&b}return this._createEncoderBuffer(m)},l.prototype._encodeTime=function(d,u){let h,f=new Date(d);return u==="gentime"?h=[c(f.getUTCFullYear()),c(f.getUTCMonth()+1),c(f.getUTCDate()),c(f.getUTCHours()),c(f.getUTCMinutes()),c(f.getUTCSeconds()),"Z"].join(""):u==="utctime"?h=[c(f.getUTCFullYear()%100),c(f.getUTCMonth()+1),c(f.getUTCDate()),c(f.getUTCHours()),c(f.getUTCMinutes()),c(f.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+u+" time is not supported yet"),this._encodeStr(h,"octstr")},l.prototype._encodeNull=function(){return this._createEncoderBuffer("")},l.prototype._encodeInt=function(d,u){if(typeof d=="string"){if(!u)return this.reporter.error("String int or enum given, but no values map");if(!u.hasOwnProperty(d))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(d));d=u[d]}if(typeof d!="number"&&!n.isBuffer(d)){let m=d.toArray();!d.sign&&128&m[0]&&m.unshift(0),d=n.from(m)}if(n.isBuffer(d)){let m=d.length;d.length===0&&m++;let g=n.alloc(m);return d.copy(g),d.length===0&&(g[0]=0),this._createEncoderBuffer(g)}if(d<128)return this._createEncoderBuffer(d);if(d<256)return this._createEncoderBuffer([0,d]);let h=1;for(let m=d;m>=256;m>>=8)h++;let f=new Array(h);for(let m=f.length-1;m>=0;m--)f[m]=255&d,d>>=8;return 128&f[0]&&f.unshift(0),this._createEncoderBuffer(n.from(f))},l.prototype._encodeBool=function(d){return this._createEncoderBuffer(d?255:0)},l.prototype._use=function(d,u){return typeof d=="function"&&(d=d(u)),d._getEncoder("der").tree},l.prototype._skipDefault=function(d,u,h){let f=this._baseState,m;if(f.default===null)return!1;let g=d.join();if(f.defaultBuffer===void 0&&(f.defaultBuffer=this._encodeValue(f.default,u,h).join()),g.length!==f.defaultBuffer.length)return!1;for(m=0;m<g.length;m++)if(g[m]!==f.defaultBuffer[m])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(e,t,r){"use strict";let i=r;i.der=e("./der"),i.pem=e("./pem")},{"./der":181,"./pem":183}],183:[function(e,t,r){"use strict";let i=e("inherits"),n=e("./der");function o(s){n.call(this,s),this.enc="pem"}i(o,n),t.exports=o,o.prototype.encode=function(s,a){let l=n.prototype.encode.call(this,s).toString("base64"),c=["-----BEGIN "+a.label+"-----"];for(let d=0;d<l.length;d+=64)c.push(l.slice(d,d+64));return c.push("-----END "+a.label+"-----"),c.join(`
`)}},{"./der":181,inherits:440}],184:[function(e,t,r){"use strict";(function(i,n){function o(x,R){if(!x)throw new Error(R||"Assertion failed")}function s(x,R){x.super_=R;var B=function(){};B.prototype=R.prototype,x.prototype=new B,x.prototype.constructor=x}function a(x,R,B){if(a.isBN(x))return x;this.negative=0,this.words=null,this.length=0,this.red=null,x!==null&&(R!=="le"&&R!=="be"||(B=R,R=10),this._init(x||0,R||10,B||"be"))}var l;typeof i=="object"?i.exports=a:(void 0).BN=a,a.BN=a,a.wordSize=26;try{l=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:e("buffer").Buffer}catch{}function c(x,R){var B=x.charCodeAt(R);return B>=65&&B<=70?B-55:B>=97&&B<=102?B-87:B-48&15}function d(x,R,B){var v=c(x,B);return B-1>=R&&(v|=c(x,B-1)<<4),v}function u(x,R,B,v){for(var y=0,C=Math.min(x.length,B),w=R;w<C;w++){var S=x.charCodeAt(w)-48;y*=v,y+=S>=49?S-49+10:S>=17?S-17+10:S}return y}a.isBN=function(x){return x instanceof a||x!==null&&typeof x=="object"&&x.constructor.wordSize===a.wordSize&&Array.isArray(x.words)},a.max=function(x,R){return x.cmp(R)>0?x:R},a.min=function(x,R){return x.cmp(R)<0?x:R},a.prototype._init=function(x,R,B){if(typeof x=="number")return this._initNumber(x,R,B);if(typeof x=="object")return this._initArray(x,R,B);R==="hex"&&(R=16),o(R===(0|R)&&R>=2&&R<=36);var v=0;(x=x.toString().replace(/\s+/g,""))[0]==="-"&&(v++,this.negative=1),v<x.length&&(R===16?this._parseHex(x,v,B):(this._parseBase(x,R,v),B==="le"&&this._initArray(this.toArray(),R,B)))},a.prototype._initNumber=function(x,R,B){x<0&&(this.negative=1,x=-x),x<67108864?(this.words=[67108863&x],this.length=1):x<4503599627370496?(this.words=[67108863&x,x/67108864&67108863],this.length=2):(o(x<9007199254740992),this.words=[67108863&x,x/67108864&67108863,1],this.length=3),B==="le"&&this._initArray(this.toArray(),R,B)},a.prototype._initArray=function(x,R,B){if(o(typeof x.length=="number"),x.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(x.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var y,C,w=0;if(B==="be")for(v=x.length-1,y=0;v>=0;v-=3)C=x[v]|x[v-1]<<8|x[v-2]<<16,this.words[y]|=C<<w&67108863,this.words[y+1]=C>>>26-w&67108863,(w+=24)>=26&&(w-=26,y++);else if(B==="le")for(v=0,y=0;v<x.length;v+=3)C=x[v]|x[v+1]<<8|x[v+2]<<16,this.words[y]|=C<<w&67108863,this.words[y+1]=C>>>26-w&67108863,(w+=24)>=26&&(w-=26,y++);return this.strip()},a.prototype._parseHex=function(x,R,B){this.length=Math.ceil((x.length-R)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var y,C=0,w=0;if(B==="be")for(v=x.length-1;v>=R;v-=2)y=d(x,R,v)<<C,this.words[w]|=67108863&y,C>=18?(C-=18,w+=1,this.words[w]|=y>>>26):C+=8;else for(v=(x.length-R)%2==0?R+1:R;v<x.length;v+=2)y=d(x,R,v)<<C,this.words[w]|=67108863&y,C>=18?(C-=18,w+=1,this.words[w]|=y>>>26):C+=8;this.strip()},a.prototype._parseBase=function(x,R,B){this.words=[0],this.length=1;for(var v=0,y=1;y<=67108863;y*=R)v++;v--,y=y/R|0;for(var C=x.length-B,w=C%v,S=Math.min(C,C-w)+B,M=0,U=B;U<S;U+=v)M=u(x,U,U+v,R),this.imuln(y),this.words[0]+M<67108864?this.words[0]+=M:this._iaddn(M);if(w!==0){var N=1;for(M=u(x,U,x.length,R),U=0;U<w;U++)N*=R;this.imuln(N),this.words[0]+M<67108864?this.words[0]+=M:this._iaddn(M)}this.strip()},a.prototype.copy=function(x){x.words=new Array(this.length);for(var R=0;R<this.length;R++)x.words[R]=this.words[R];x.length=this.length,x.negative=this.negative,x.red=this.red},a.prototype.clone=function(){var x=new a(null);return this.copy(x),x},a.prototype._expand=function(x){for(;this.length<x;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function g(x,R,B){B.negative=R.negative^x.negative;var v=x.length+R.length|0;B.length=v,v=v-1|0;var y=0|x.words[0],C=0|R.words[0],w=y*C,S=67108863&w,M=w/67108864|0;B.words[0]=S;for(var U=1;U<v;U++){for(var N=M>>>26,T=67108863&M,j=Math.min(U,R.length-1),I=Math.max(0,U-x.length+1);I<=j;I++){var q=U-I|0;N+=(w=(y=0|x.words[q])*(C=0|R.words[I])+T)/67108864|0,T=67108863&w}B.words[U]=0|T,M=0|N}return M!==0?B.words[U]=0|M:B.length--,B.strip()}a.prototype.toString=function(x,R){var B;if(R=0|R||1,(x=x||10)===16||x==="hex"){B="";for(var v=0,y=0,C=0;C<this.length;C++){var w=this.words[C],S=(16777215&(w<<v|y)).toString(16);B=(y=w>>>24-v&16777215)!==0||C!==this.length-1?h[6-S.length]+S+B:S+B,(v+=2)>=26&&(v-=26,C--)}for(y!==0&&(B=y.toString(16)+B);B.length%R!=0;)B="0"+B;return this.negative!==0&&(B="-"+B),B}if(x===(0|x)&&x>=2&&x<=36){var M=f[x],U=m[x];B="";var N=this.clone();for(N.negative=0;!N.isZero();){var T=N.modn(U).toString(x);B=(N=N.idivn(U)).isZero()?T+B:h[M-T.length]+T+B}for(this.isZero()&&(B="0"+B);B.length%R!=0;)B="0"+B;return this.negative!==0&&(B="-"+B),B}o(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var x=this.words[0];return this.length===2?x+=67108864*this.words[1]:this.length===3&&this.words[2]===1?x+=4503599627370496+67108864*this.words[1]:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-x:x},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(x,R){return o(l!==void 0),this.toArrayLike(l,x,R)},a.prototype.toArray=function(x,R){return this.toArrayLike(Array,x,R)},a.prototype.toArrayLike=function(x,R,B){var v=this.byteLength(),y=B||Math.max(1,v);o(v<=y,"byte array longer than desired length"),o(y>0,"Requested array length <= 0"),this.strip();var C,w,S=R==="le",M=new x(y),U=this.clone();if(S){for(w=0;!U.isZero();w++)C=U.andln(255),U.iushrn(8),M[w]=C;for(;w<y;w++)M[w]=0}else{for(w=0;w<y-v;w++)M[w]=0;for(w=0;!U.isZero();w++)C=U.andln(255),U.iushrn(8),M[y-w-1]=C}return M},Math.clz32?a.prototype._countBits=function(x){return 32-Math.clz32(x)}:a.prototype._countBits=function(x){var R=x,B=0;return R>=4096&&(B+=13,R>>>=13),R>=64&&(B+=7,R>>>=7),R>=8&&(B+=4,R>>>=4),R>=2&&(B+=2,R>>>=2),B+R},a.prototype._zeroBits=function(x){if(x===0)return 26;var R=x,B=0;return!(8191&R)&&(B+=13,R>>>=13),!(127&R)&&(B+=7,R>>>=7),!(15&R)&&(B+=4,R>>>=4),!(3&R)&&(B+=2,R>>>=2),!(1&R)&&B++,B},a.prototype.bitLength=function(){var x=this.words[this.length-1],R=this._countBits(x);return 26*(this.length-1)+R},a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var x=0,R=0;R<this.length;R++){var B=this._zeroBits(this.words[R]);if(x+=B,B!==26)break}return x},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(x){return this.negative!==0?this.abs().inotn(x).iaddn(1):this.clone()},a.prototype.fromTwos=function(x){return this.testn(x-1)?this.notn(x).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(x){for(;this.length<x.length;)this.words[this.length++]=0;for(var R=0;R<x.length;R++)this.words[R]=this.words[R]|x.words[R];return this.strip()},a.prototype.ior=function(x){return o((this.negative|x.negative)==0),this.iuor(x)},a.prototype.or=function(x){return this.length>x.length?this.clone().ior(x):x.clone().ior(this)},a.prototype.uor=function(x){return this.length>x.length?this.clone().iuor(x):x.clone().iuor(this)},a.prototype.iuand=function(x){var R;R=this.length>x.length?x:this;for(var B=0;B<R.length;B++)this.words[B]=this.words[B]&x.words[B];return this.length=R.length,this.strip()},a.prototype.iand=function(x){return o((this.negative|x.negative)==0),this.iuand(x)},a.prototype.and=function(x){return this.length>x.length?this.clone().iand(x):x.clone().iand(this)},a.prototype.uand=function(x){return this.length>x.length?this.clone().iuand(x):x.clone().iuand(this)},a.prototype.iuxor=function(x){var R,B;this.length>x.length?(R=this,B=x):(R=x,B=this);for(var v=0;v<B.length;v++)this.words[v]=R.words[v]^B.words[v];if(this!==R)for(;v<R.length;v++)this.words[v]=R.words[v];return this.length=R.length,this.strip()},a.prototype.ixor=function(x){return o((this.negative|x.negative)==0),this.iuxor(x)},a.prototype.xor=function(x){return this.length>x.length?this.clone().ixor(x):x.clone().ixor(this)},a.prototype.uxor=function(x){return this.length>x.length?this.clone().iuxor(x):x.clone().iuxor(this)},a.prototype.inotn=function(x){o(typeof x=="number"&&x>=0);var R=0|Math.ceil(x/26),B=x%26;this._expand(R),B>0&&R--;for(var v=0;v<R;v++)this.words[v]=67108863&~this.words[v];return B>0&&(this.words[v]=~this.words[v]&67108863>>26-B),this.strip()},a.prototype.notn=function(x){return this.clone().inotn(x)},a.prototype.setn=function(x,R){o(typeof x=="number"&&x>=0);var B=x/26|0,v=x%26;return this._expand(B+1),this.words[B]=R?this.words[B]|1<<v:this.words[B]&~(1<<v),this.strip()},a.prototype.iadd=function(x){var R,B,v;if(this.negative!==0&&x.negative===0)return this.negative=0,R=this.isub(x),this.negative^=1,this._normSign();if(this.negative===0&&x.negative!==0)return x.negative=0,R=this.isub(x),x.negative=1,R._normSign();this.length>x.length?(B=this,v=x):(B=x,v=this);for(var y=0,C=0;C<v.length;C++)R=(0|B.words[C])+(0|v.words[C])+y,this.words[C]=67108863&R,y=R>>>26;for(;y!==0&&C<B.length;C++)R=(0|B.words[C])+y,this.words[C]=67108863&R,y=R>>>26;if(this.length=B.length,y!==0)this.words[this.length]=y,this.length++;else if(B!==this)for(;C<B.length;C++)this.words[C]=B.words[C];return this},a.prototype.add=function(x){var R;return x.negative!==0&&this.negative===0?(x.negative=0,R=this.sub(x),x.negative^=1,R):x.negative===0&&this.negative!==0?(this.negative=0,R=x.sub(this),this.negative=1,R):this.length>x.length?this.clone().iadd(x):x.clone().iadd(this)},a.prototype.isub=function(x){if(x.negative!==0){x.negative=0;var R=this.iadd(x);return x.negative=1,R._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(x),this.negative=1,this._normSign();var B,v,y=this.cmp(x);if(y===0)return this.negative=0,this.length=1,this.words[0]=0,this;y>0?(B=this,v=x):(B=x,v=this);for(var C=0,w=0;w<v.length;w++)C=(R=(0|B.words[w])-(0|v.words[w])+C)>>26,this.words[w]=67108863&R;for(;C!==0&&w<B.length;w++)C=(R=(0|B.words[w])+C)>>26,this.words[w]=67108863&R;if(C===0&&w<B.length&&B!==this)for(;w<B.length;w++)this.words[w]=B.words[w];return this.length=Math.max(this.length,w),B!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(x){return this.clone().isub(x)};var p=function(x,R,B){var v,y,C,w=x.words,S=R.words,M=B.words,U=0,N=0|w[0],T=8191&N,j=N>>>13,I=0|w[1],q=8191&I,A=I>>>13,k=0|w[2],Y=8191&k,Z=k>>>13,lt=0|w[3],J=8191&lt,et=lt>>>13,Et=0|w[4],Rt=8191&Et,nt=Et>>>13,at=0|w[5],Ct=8191&at,tt=at>>>13,it=0|w[6],ct=8191&it,mt=it>>>13,bt=0|w[7],St=8191&bt,wt=bt>>>13,At=0|w[8],kt=8191&At,Mt=At>>>13,Nt=0|w[9],Ut=8191&Nt,qt=Nt>>>13,Wt=0|S[0],re=8191&Wt,Qt=Wt>>>13,Fe=0|S[1],le=8191&Fe,fe=Fe>>>13,Di=0|S[2],Ae=8191&Di,oi=Di>>>13,Ni=0|S[3],ei=8191&Ni,fi=Ni>>>13,be=0|S[4],ye=8191&be,xe=be>>>13,Yr=0|S[5],Ye=8191&Yr,Te=Yr>>>13,Jn=0|S[6],he=8191&Jn,Lt=Jn>>>13,Jt=0|S[7],ie=8191&Jt,se=Jt>>>13,mi=0|S[8],Ee=8191&mi,ke=mi>>>13,Ui=0|S[9],qe=8191&Ui,Pe=Ui>>>13;B.negative=x.negative^R.negative,B.length=19;var ar=(U+(v=Math.imul(T,re))|0)+((8191&(y=(y=Math.imul(T,Qt))+Math.imul(j,re)|0))<<13)|0;U=((C=Math.imul(j,Qt))+(y>>>13)|0)+(ar>>>26)|0,ar&=67108863,v=Math.imul(q,re),y=(y=Math.imul(q,Qt))+Math.imul(A,re)|0,C=Math.imul(A,Qt);var Wi=(U+(v=v+Math.imul(T,le)|0)|0)+((8191&(y=(y=y+Math.imul(T,fe)|0)+Math.imul(j,le)|0))<<13)|0;U=((C=C+Math.imul(j,fe)|0)+(y>>>13)|0)+(Wi>>>26)|0,Wi&=67108863,v=Math.imul(Y,re),y=(y=Math.imul(Y,Qt))+Math.imul(Z,re)|0,C=Math.imul(Z,Qt),v=v+Math.imul(q,le)|0,y=(y=y+Math.imul(q,fe)|0)+Math.imul(A,le)|0,C=C+Math.imul(A,fe)|0;var Ti=(U+(v=v+Math.imul(T,Ae)|0)|0)+((8191&(y=(y=y+Math.imul(T,oi)|0)+Math.imul(j,Ae)|0))<<13)|0;U=((C=C+Math.imul(j,oi)|0)+(y>>>13)|0)+(Ti>>>26)|0,Ti&=67108863,v=Math.imul(J,re),y=(y=Math.imul(J,Qt))+Math.imul(et,re)|0,C=Math.imul(et,Qt),v=v+Math.imul(Y,le)|0,y=(y=y+Math.imul(Y,fe)|0)+Math.imul(Z,le)|0,C=C+Math.imul(Z,fe)|0,v=v+Math.imul(q,Ae)|0,y=(y=y+Math.imul(q,oi)|0)+Math.imul(A,Ae)|0,C=C+Math.imul(A,oi)|0;var yr=(U+(v=v+Math.imul(T,ei)|0)|0)+((8191&(y=(y=y+Math.imul(T,fi)|0)+Math.imul(j,ei)|0))<<13)|0;U=((C=C+Math.imul(j,fi)|0)+(y>>>13)|0)+(yr>>>26)|0,yr&=67108863,v=Math.imul(Rt,re),y=(y=Math.imul(Rt,Qt))+Math.imul(nt,re)|0,C=Math.imul(nt,Qt),v=v+Math.imul(J,le)|0,y=(y=y+Math.imul(J,fe)|0)+Math.imul(et,le)|0,C=C+Math.imul(et,fe)|0,v=v+Math.imul(Y,Ae)|0,y=(y=y+Math.imul(Y,oi)|0)+Math.imul(Z,Ae)|0,C=C+Math.imul(Z,oi)|0,v=v+Math.imul(q,ei)|0,y=(y=y+Math.imul(q,fi)|0)+Math.imul(A,ei)|0,C=C+Math.imul(A,fi)|0;var rn=(U+(v=v+Math.imul(T,ye)|0)|0)+((8191&(y=(y=y+Math.imul(T,xe)|0)+Math.imul(j,ye)|0))<<13)|0;U=((C=C+Math.imul(j,xe)|0)+(y>>>13)|0)+(rn>>>26)|0,rn&=67108863,v=Math.imul(Ct,re),y=(y=Math.imul(Ct,Qt))+Math.imul(tt,re)|0,C=Math.imul(tt,Qt),v=v+Math.imul(Rt,le)|0,y=(y=y+Math.imul(Rt,fe)|0)+Math.imul(nt,le)|0,C=C+Math.imul(nt,fe)|0,v=v+Math.imul(J,Ae)|0,y=(y=y+Math.imul(J,oi)|0)+Math.imul(et,Ae)|0,C=C+Math.imul(et,oi)|0,v=v+Math.imul(Y,ei)|0,y=(y=y+Math.imul(Y,fi)|0)+Math.imul(Z,ei)|0,C=C+Math.imul(Z,fi)|0,v=v+Math.imul(q,ye)|0,y=(y=y+Math.imul(q,xe)|0)+Math.imul(A,ye)|0,C=C+Math.imul(A,xe)|0;var nn=(U+(v=v+Math.imul(T,Ye)|0)|0)+((8191&(y=(y=y+Math.imul(T,Te)|0)+Math.imul(j,Ye)|0))<<13)|0;U=((C=C+Math.imul(j,Te)|0)+(y>>>13)|0)+(nn>>>26)|0,nn&=67108863,v=Math.imul(ct,re),y=(y=Math.imul(ct,Qt))+Math.imul(mt,re)|0,C=Math.imul(mt,Qt),v=v+Math.imul(Ct,le)|0,y=(y=y+Math.imul(Ct,fe)|0)+Math.imul(tt,le)|0,C=C+Math.imul(tt,fe)|0,v=v+Math.imul(Rt,Ae)|0,y=(y=y+Math.imul(Rt,oi)|0)+Math.imul(nt,Ae)|0,C=C+Math.imul(nt,oi)|0,v=v+Math.imul(J,ei)|0,y=(y=y+Math.imul(J,fi)|0)+Math.imul(et,ei)|0,C=C+Math.imul(et,fi)|0,v=v+Math.imul(Y,ye)|0,y=(y=y+Math.imul(Y,xe)|0)+Math.imul(Z,ye)|0,C=C+Math.imul(Z,xe)|0,v=v+Math.imul(q,Ye)|0,y=(y=y+Math.imul(q,Te)|0)+Math.imul(A,Ye)|0,C=C+Math.imul(A,Te)|0;var Yn=(U+(v=v+Math.imul(T,he)|0)|0)+((8191&(y=(y=y+Math.imul(T,Lt)|0)+Math.imul(j,he)|0))<<13)|0;U=((C=C+Math.imul(j,Lt)|0)+(y>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,v=Math.imul(St,re),y=(y=Math.imul(St,Qt))+Math.imul(wt,re)|0,C=Math.imul(wt,Qt),v=v+Math.imul(ct,le)|0,y=(y=y+Math.imul(ct,fe)|0)+Math.imul(mt,le)|0,C=C+Math.imul(mt,fe)|0,v=v+Math.imul(Ct,Ae)|0,y=(y=y+Math.imul(Ct,oi)|0)+Math.imul(tt,Ae)|0,C=C+Math.imul(tt,oi)|0,v=v+Math.imul(Rt,ei)|0,y=(y=y+Math.imul(Rt,fi)|0)+Math.imul(nt,ei)|0,C=C+Math.imul(nt,fi)|0,v=v+Math.imul(J,ye)|0,y=(y=y+Math.imul(J,xe)|0)+Math.imul(et,ye)|0,C=C+Math.imul(et,xe)|0,v=v+Math.imul(Y,Ye)|0,y=(y=y+Math.imul(Y,Te)|0)+Math.imul(Z,Ye)|0,C=C+Math.imul(Z,Te)|0,v=v+Math.imul(q,he)|0,y=(y=y+Math.imul(q,Lt)|0)+Math.imul(A,he)|0,C=C+Math.imul(A,Lt)|0;var Tn=(U+(v=v+Math.imul(T,ie)|0)|0)+((8191&(y=(y=y+Math.imul(T,se)|0)+Math.imul(j,ie)|0))<<13)|0;U=((C=C+Math.imul(j,se)|0)+(y>>>13)|0)+(Tn>>>26)|0,Tn&=67108863,v=Math.imul(kt,re),y=(y=Math.imul(kt,Qt))+Math.imul(Mt,re)|0,C=Math.imul(Mt,Qt),v=v+Math.imul(St,le)|0,y=(y=y+Math.imul(St,fe)|0)+Math.imul(wt,le)|0,C=C+Math.imul(wt,fe)|0,v=v+Math.imul(ct,Ae)|0,y=(y=y+Math.imul(ct,oi)|0)+Math.imul(mt,Ae)|0,C=C+Math.imul(mt,oi)|0,v=v+Math.imul(Ct,ei)|0,y=(y=y+Math.imul(Ct,fi)|0)+Math.imul(tt,ei)|0,C=C+Math.imul(tt,fi)|0,v=v+Math.imul(Rt,ye)|0,y=(y=y+Math.imul(Rt,xe)|0)+Math.imul(nt,ye)|0,C=C+Math.imul(nt,xe)|0,v=v+Math.imul(J,Ye)|0,y=(y=y+Math.imul(J,Te)|0)+Math.imul(et,Ye)|0,C=C+Math.imul(et,Te)|0,v=v+Math.imul(Y,he)|0,y=(y=y+Math.imul(Y,Lt)|0)+Math.imul(Z,he)|0,C=C+Math.imul(Z,Lt)|0,v=v+Math.imul(q,ie)|0,y=(y=y+Math.imul(q,se)|0)+Math.imul(A,ie)|0,C=C+Math.imul(A,se)|0;var mo=(U+(v=v+Math.imul(T,Ee)|0)|0)+((8191&(y=(y=y+Math.imul(T,ke)|0)+Math.imul(j,Ee)|0))<<13)|0;U=((C=C+Math.imul(j,ke)|0)+(y>>>13)|0)+(mo>>>26)|0,mo&=67108863,v=Math.imul(Ut,re),y=(y=Math.imul(Ut,Qt))+Math.imul(qt,re)|0,C=Math.imul(qt,Qt),v=v+Math.imul(kt,le)|0,y=(y=y+Math.imul(kt,fe)|0)+Math.imul(Mt,le)|0,C=C+Math.imul(Mt,fe)|0,v=v+Math.imul(St,Ae)|0,y=(y=y+Math.imul(St,oi)|0)+Math.imul(wt,Ae)|0,C=C+Math.imul(wt,oi)|0,v=v+Math.imul(ct,ei)|0,y=(y=y+Math.imul(ct,fi)|0)+Math.imul(mt,ei)|0,C=C+Math.imul(mt,fi)|0,v=v+Math.imul(Ct,ye)|0,y=(y=y+Math.imul(Ct,xe)|0)+Math.imul(tt,ye)|0,C=C+Math.imul(tt,xe)|0,v=v+Math.imul(Rt,Ye)|0,y=(y=y+Math.imul(Rt,Te)|0)+Math.imul(nt,Ye)|0,C=C+Math.imul(nt,Te)|0,v=v+Math.imul(J,he)|0,y=(y=y+Math.imul(J,Lt)|0)+Math.imul(et,he)|0,C=C+Math.imul(et,Lt)|0,v=v+Math.imul(Y,ie)|0,y=(y=y+Math.imul(Y,se)|0)+Math.imul(Z,ie)|0,C=C+Math.imul(Z,se)|0,v=v+Math.imul(q,Ee)|0,y=(y=y+Math.imul(q,ke)|0)+Math.imul(A,Ee)|0,C=C+Math.imul(A,ke)|0;var Dt=(U+(v=v+Math.imul(T,qe)|0)|0)+((8191&(y=(y=y+Math.imul(T,Pe)|0)+Math.imul(j,qe)|0))<<13)|0;U=((C=C+Math.imul(j,Pe)|0)+(y>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,v=Math.imul(Ut,le),y=(y=Math.imul(Ut,fe))+Math.imul(qt,le)|0,C=Math.imul(qt,fe),v=v+Math.imul(kt,Ae)|0,y=(y=y+Math.imul(kt,oi)|0)+Math.imul(Mt,Ae)|0,C=C+Math.imul(Mt,oi)|0,v=v+Math.imul(St,ei)|0,y=(y=y+Math.imul(St,fi)|0)+Math.imul(wt,ei)|0,C=C+Math.imul(wt,fi)|0,v=v+Math.imul(ct,ye)|0,y=(y=y+Math.imul(ct,xe)|0)+Math.imul(mt,ye)|0,C=C+Math.imul(mt,xe)|0,v=v+Math.imul(Ct,Ye)|0,y=(y=y+Math.imul(Ct,Te)|0)+Math.imul(tt,Ye)|0,C=C+Math.imul(tt,Te)|0,v=v+Math.imul(Rt,he)|0,y=(y=y+Math.imul(Rt,Lt)|0)+Math.imul(nt,he)|0,C=C+Math.imul(nt,Lt)|0,v=v+Math.imul(J,ie)|0,y=(y=y+Math.imul(J,se)|0)+Math.imul(et,ie)|0,C=C+Math.imul(et,se)|0,v=v+Math.imul(Y,Ee)|0,y=(y=y+Math.imul(Y,ke)|0)+Math.imul(Z,Ee)|0,C=C+Math.imul(Z,ke)|0;var Kt=(U+(v=v+Math.imul(q,qe)|0)|0)+((8191&(y=(y=y+Math.imul(q,Pe)|0)+Math.imul(A,qe)|0))<<13)|0;U=((C=C+Math.imul(A,Pe)|0)+(y>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,v=Math.imul(Ut,Ae),y=(y=Math.imul(Ut,oi))+Math.imul(qt,Ae)|0,C=Math.imul(qt,oi),v=v+Math.imul(kt,ei)|0,y=(y=y+Math.imul(kt,fi)|0)+Math.imul(Mt,ei)|0,C=C+Math.imul(Mt,fi)|0,v=v+Math.imul(St,ye)|0,y=(y=y+Math.imul(St,xe)|0)+Math.imul(wt,ye)|0,C=C+Math.imul(wt,xe)|0,v=v+Math.imul(ct,Ye)|0,y=(y=y+Math.imul(ct,Te)|0)+Math.imul(mt,Ye)|0,C=C+Math.imul(mt,Te)|0,v=v+Math.imul(Ct,he)|0,y=(y=y+Math.imul(Ct,Lt)|0)+Math.imul(tt,he)|0,C=C+Math.imul(tt,Lt)|0,v=v+Math.imul(Rt,ie)|0,y=(y=y+Math.imul(Rt,se)|0)+Math.imul(nt,ie)|0,C=C+Math.imul(nt,se)|0,v=v+Math.imul(J,Ee)|0,y=(y=y+Math.imul(J,ke)|0)+Math.imul(et,Ee)|0,C=C+Math.imul(et,ke)|0;var oe=(U+(v=v+Math.imul(Y,qe)|0)|0)+((8191&(y=(y=y+Math.imul(Y,Pe)|0)+Math.imul(Z,qe)|0))<<13)|0;U=((C=C+Math.imul(Z,Pe)|0)+(y>>>13)|0)+(oe>>>26)|0,oe&=67108863,v=Math.imul(Ut,ei),y=(y=Math.imul(Ut,fi))+Math.imul(qt,ei)|0,C=Math.imul(qt,fi),v=v+Math.imul(kt,ye)|0,y=(y=y+Math.imul(kt,xe)|0)+Math.imul(Mt,ye)|0,C=C+Math.imul(Mt,xe)|0,v=v+Math.imul(St,Ye)|0,y=(y=y+Math.imul(St,Te)|0)+Math.imul(wt,Ye)|0,C=C+Math.imul(wt,Te)|0,v=v+Math.imul(ct,he)|0,y=(y=y+Math.imul(ct,Lt)|0)+Math.imul(mt,he)|0,C=C+Math.imul(mt,Lt)|0,v=v+Math.imul(Ct,ie)|0,y=(y=y+Math.imul(Ct,se)|0)+Math.imul(tt,ie)|0,C=C+Math.imul(tt,se)|0,v=v+Math.imul(Rt,Ee)|0,y=(y=y+Math.imul(Rt,ke)|0)+Math.imul(nt,Ee)|0,C=C+Math.imul(nt,ke)|0;var ae=(U+(v=v+Math.imul(J,qe)|0)|0)+((8191&(y=(y=y+Math.imul(J,Pe)|0)+Math.imul(et,qe)|0))<<13)|0;U=((C=C+Math.imul(et,Pe)|0)+(y>>>13)|0)+(ae>>>26)|0,ae&=67108863,v=Math.imul(Ut,ye),y=(y=Math.imul(Ut,xe))+Math.imul(qt,ye)|0,C=Math.imul(qt,xe),v=v+Math.imul(kt,Ye)|0,y=(y=y+Math.imul(kt,Te)|0)+Math.imul(Mt,Ye)|0,C=C+Math.imul(Mt,Te)|0,v=v+Math.imul(St,he)|0,y=(y=y+Math.imul(St,Lt)|0)+Math.imul(wt,he)|0,C=C+Math.imul(wt,Lt)|0,v=v+Math.imul(ct,ie)|0,y=(y=y+Math.imul(ct,se)|0)+Math.imul(mt,ie)|0,C=C+Math.imul(mt,se)|0,v=v+Math.imul(Ct,Ee)|0,y=(y=y+Math.imul(Ct,ke)|0)+Math.imul(tt,Ee)|0,C=C+Math.imul(tt,ke)|0;var Ie=(U+(v=v+Math.imul(Rt,qe)|0)|0)+((8191&(y=(y=y+Math.imul(Rt,Pe)|0)+Math.imul(nt,qe)|0))<<13)|0;U=((C=C+Math.imul(nt,Pe)|0)+(y>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,v=Math.imul(Ut,Ye),y=(y=Math.imul(Ut,Te))+Math.imul(qt,Ye)|0,C=Math.imul(qt,Te),v=v+Math.imul(kt,he)|0,y=(y=y+Math.imul(kt,Lt)|0)+Math.imul(Mt,he)|0,C=C+Math.imul(Mt,Lt)|0,v=v+Math.imul(St,ie)|0,y=(y=y+Math.imul(St,se)|0)+Math.imul(wt,ie)|0,C=C+Math.imul(wt,se)|0,v=v+Math.imul(ct,Ee)|0,y=(y=y+Math.imul(ct,ke)|0)+Math.imul(mt,Ee)|0,C=C+Math.imul(mt,ke)|0;var ci=(U+(v=v+Math.imul(Ct,qe)|0)|0)+((8191&(y=(y=y+Math.imul(Ct,Pe)|0)+Math.imul(tt,qe)|0))<<13)|0;U=((C=C+Math.imul(tt,Pe)|0)+(y>>>13)|0)+(ci>>>26)|0,ci&=67108863,v=Math.imul(Ut,he),y=(y=Math.imul(Ut,Lt))+Math.imul(qt,he)|0,C=Math.imul(qt,Lt),v=v+Math.imul(kt,ie)|0,y=(y=y+Math.imul(kt,se)|0)+Math.imul(Mt,ie)|0,C=C+Math.imul(Mt,se)|0,v=v+Math.imul(St,Ee)|0,y=(y=y+Math.imul(St,ke)|0)+Math.imul(wt,Ee)|0,C=C+Math.imul(wt,ke)|0;var si=(U+(v=v+Math.imul(ct,qe)|0)|0)+((8191&(y=(y=y+Math.imul(ct,Pe)|0)+Math.imul(mt,qe)|0))<<13)|0;U=((C=C+Math.imul(mt,Pe)|0)+(y>>>13)|0)+(si>>>26)|0,si&=67108863,v=Math.imul(Ut,ie),y=(y=Math.imul(Ut,se))+Math.imul(qt,ie)|0,C=Math.imul(qt,se),v=v+Math.imul(kt,Ee)|0,y=(y=y+Math.imul(kt,ke)|0)+Math.imul(Mt,Ee)|0,C=C+Math.imul(Mt,ke)|0;var pr=(U+(v=v+Math.imul(St,qe)|0)|0)+((8191&(y=(y=y+Math.imul(St,Pe)|0)+Math.imul(wt,qe)|0))<<13)|0;U=((C=C+Math.imul(wt,Pe)|0)+(y>>>13)|0)+(pr>>>26)|0,pr&=67108863,v=Math.imul(Ut,Ee),y=(y=Math.imul(Ut,ke))+Math.imul(qt,Ee)|0,C=Math.imul(qt,ke);var ji=(U+(v=v+Math.imul(kt,qe)|0)|0)+((8191&(y=(y=y+Math.imul(kt,Pe)|0)+Math.imul(Mt,qe)|0))<<13)|0;U=((C=C+Math.imul(Mt,Pe)|0)+(y>>>13)|0)+(ji>>>26)|0,ji&=67108863;var Oi=(U+(v=Math.imul(Ut,qe))|0)+((8191&(y=(y=Math.imul(Ut,Pe))+Math.imul(qt,qe)|0))<<13)|0;return U=((C=Math.imul(qt,Pe))+(y>>>13)|0)+(Oi>>>26)|0,Oi&=67108863,M[0]=ar,M[1]=Wi,M[2]=Ti,M[3]=yr,M[4]=rn,M[5]=nn,M[6]=Yn,M[7]=Tn,M[8]=mo,M[9]=Dt,M[10]=Kt,M[11]=oe,M[12]=ae,M[13]=Ie,M[14]=ci,M[15]=si,M[16]=pr,M[17]=ji,M[18]=Oi,U!==0&&(M[19]=U,B.length++),B};function b(x,R,B){return new _().mulp(x,R,B)}function _(x,R){this.x=x,this.y=R}Math.imul||(p=g),a.prototype.mulTo=function(x,R){var B=this.length+x.length;return this.length===10&&x.length===10?p(this,x,R):B<63?g(this,x,R):B<1024?function(v,y,C){C.negative=y.negative^v.negative,C.length=v.length+y.length;for(var w=0,S=0,M=0;M<C.length-1;M++){var U=S;S=0;for(var N=67108863&w,T=Math.min(M,y.length-1),j=Math.max(0,M-v.length+1);j<=T;j++){var I=M-j,q=(0|v.words[I])*(0|y.words[j]),A=67108863&q;N=67108863&(A=A+N|0),S+=(U=(U=U+(q/67108864|0)|0)+(A>>>26)|0)>>>26,U&=67108863}C.words[M]=N,w=U,U=S}return w!==0?C.words[M]=w:C.length--,C.strip()}(this,x,R):b(this,x,R)},_.prototype.makeRBT=function(x){for(var R=new Array(x),B=a.prototype._countBits(x)-1,v=0;v<x;v++)R[v]=this.revBin(v,B,x);return R},_.prototype.revBin=function(x,R,B){if(x===0||x===B-1)return x;for(var v=0,y=0;y<R;y++)v|=(1&x)<<R-y-1,x>>=1;return v},_.prototype.permute=function(x,R,B,v,y,C){for(var w=0;w<C;w++)v[w]=R[x[w]],y[w]=B[x[w]]},_.prototype.transform=function(x,R,B,v,y,C){this.permute(C,x,R,B,v,y);for(var w=1;w<y;w<<=1)for(var S=w<<1,M=Math.cos(2*Math.PI/S),U=Math.sin(2*Math.PI/S),N=0;N<y;N+=S)for(var T=M,j=U,I=0;I<w;I++){var q=B[N+I],A=v[N+I],k=B[N+I+w],Y=v[N+I+w],Z=T*k-j*Y;Y=T*Y+j*k,k=Z,B[N+I]=q+k,v[N+I]=A+Y,B[N+I+w]=q-k,v[N+I+w]=A-Y,I!==S&&(Z=M*T-U*j,j=M*j+U*T,T=Z)}},_.prototype.guessLen13b=function(x,R){var B=1|Math.max(R,x),v=1&B,y=0;for(B=B/2|0;B;B>>>=1)y++;return 1<<y+1+v},_.prototype.conjugate=function(x,R,B){if(!(B<=1))for(var v=0;v<B/2;v++){var y=x[v];x[v]=x[B-v-1],x[B-v-1]=y,y=R[v],R[v]=-R[B-v-1],R[B-v-1]=-y}},_.prototype.normalize13b=function(x,R){for(var B=0,v=0;v<R/2;v++){var y=8192*Math.round(x[2*v+1]/R)+Math.round(x[2*v]/R)+B;x[v]=67108863&y,B=y<67108864?0:y/67108864|0}return x},_.prototype.convert13b=function(x,R,B,v){for(var y=0,C=0;C<R;C++)y+=0|x[C],B[2*C]=8191&y,y>>>=13,B[2*C+1]=8191&y,y>>>=13;for(C=2*R;C<v;++C)B[C]=0;o(y===0),o((-8192&y)==0)},_.prototype.stub=function(x){for(var R=new Array(x),B=0;B<x;B++)R[B]=0;return R},_.prototype.mulp=function(x,R,B){var v=2*this.guessLen13b(x.length,R.length),y=this.makeRBT(v),C=this.stub(v),w=new Array(v),S=new Array(v),M=new Array(v),U=new Array(v),N=new Array(v),T=new Array(v),j=B.words;j.length=v,this.convert13b(x.words,x.length,w,v),this.convert13b(R.words,R.length,U,v),this.transform(w,C,S,M,v,y),this.transform(U,C,N,T,v,y);for(var I=0;I<v;I++){var q=S[I]*N[I]-M[I]*T[I];M[I]=S[I]*T[I]+M[I]*N[I],S[I]=q}return this.conjugate(S,M,v),this.transform(S,M,j,C,v,y),this.conjugate(j,C,v),this.normalize13b(j,v),B.negative=x.negative^R.negative,B.length=x.length+R.length,B.strip()},a.prototype.mul=function(x){var R=new a(null);return R.words=new Array(this.length+x.length),this.mulTo(x,R)},a.prototype.mulf=function(x){var R=new a(null);return R.words=new Array(this.length+x.length),b(this,x,R)},a.prototype.imul=function(x){return this.clone().mulTo(x,this)},a.prototype.imuln=function(x){o(typeof x=="number"),o(x<67108864);for(var R=0,B=0;B<this.length;B++){var v=(0|this.words[B])*x,y=(67108863&v)+(67108863&R);R>>=26,R+=v/67108864|0,R+=y>>>26,this.words[B]=67108863&y}return R!==0&&(this.words[B]=R,this.length++),this},a.prototype.muln=function(x){return this.clone().imuln(x)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(x){var R=function(C){for(var w=new Array(C.bitLength()),S=0;S<w.length;S++){var M=S/26|0,U=S%26;w[S]=(C.words[M]&1<<U)>>>U}return w}(x);if(R.length===0)return new a(1);for(var B=this,v=0;v<R.length&&R[v]===0;v++,B=B.sqr());if(++v<R.length)for(var y=B.sqr();v<R.length;v++,y=y.sqr())R[v]!==0&&(B=B.mul(y));return B},a.prototype.iushln=function(x){o(typeof x=="number"&&x>=0);var R,B=x%26,v=(x-B)/26,y=67108863>>>26-B<<26-B;if(B!==0){var C=0;for(R=0;R<this.length;R++){var w=this.words[R]&y,S=(0|this.words[R])-w<<B;this.words[R]=S|C,C=w>>>26-B}C&&(this.words[R]=C,this.length++)}if(v!==0){for(R=this.length-1;R>=0;R--)this.words[R+v]=this.words[R];for(R=0;R<v;R++)this.words[R]=0;this.length+=v}return this.strip()},a.prototype.ishln=function(x){return o(this.negative===0),this.iushln(x)},a.prototype.iushrn=function(x,R,B){var v;o(typeof x=="number"&&x>=0),v=R?(R-R%26)/26:0;var y=x%26,C=Math.min((x-y)/26,this.length),w=67108863^67108863>>>y<<y,S=B;if(v-=C,v=Math.max(0,v),S){for(var M=0;M<C;M++)S.words[M]=this.words[M];S.length=C}if(C!==0)if(this.length>C)for(this.length-=C,M=0;M<this.length;M++)this.words[M]=this.words[M+C];else this.words[0]=0,this.length=1;var U=0;for(M=this.length-1;M>=0&&(U!==0||M>=v);M--){var N=0|this.words[M];this.words[M]=U<<26-y|N>>>y,U=N&w}return S&&U!==0&&(S.words[S.length++]=U),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(x,R,B){return o(this.negative===0),this.iushrn(x,R,B)},a.prototype.shln=function(x){return this.clone().ishln(x)},a.prototype.ushln=function(x){return this.clone().iushln(x)},a.prototype.shrn=function(x){return this.clone().ishrn(x)},a.prototype.ushrn=function(x){return this.clone().iushrn(x)},a.prototype.testn=function(x){o(typeof x=="number"&&x>=0);var R=x%26,B=(x-R)/26,v=1<<R;return!(this.length<=B)&&!!(this.words[B]&v)},a.prototype.imaskn=function(x){o(typeof x=="number"&&x>=0);var R=x%26,B=(x-R)/26;if(o(this.negative===0,"imaskn works only with positive numbers"),this.length<=B)return this;if(R!==0&&B++,this.length=Math.min(B,this.length),R!==0){var v=67108863^67108863>>>R<<R;this.words[this.length-1]&=v}return this.strip()},a.prototype.maskn=function(x){return this.clone().imaskn(x)},a.prototype.iaddn=function(x){return o(typeof x=="number"),o(x<67108864),x<0?this.isubn(-x):this.negative!==0?this.length===1&&(0|this.words[0])<x?(this.words[0]=x-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(x),this.negative=1,this):this._iaddn(x)},a.prototype._iaddn=function(x){this.words[0]+=x;for(var R=0;R<this.length&&this.words[R]>=67108864;R++)this.words[R]-=67108864,R===this.length-1?this.words[R+1]=1:this.words[R+1]++;return this.length=Math.max(this.length,R+1),this},a.prototype.isubn=function(x){if(o(typeof x=="number"),o(x<67108864),x<0)return this.iaddn(-x);if(this.negative!==0)return this.negative=0,this.iaddn(x),this.negative=1,this;if(this.words[0]-=x,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var R=0;R<this.length&&this.words[R]<0;R++)this.words[R]+=67108864,this.words[R+1]-=1;return this.strip()},a.prototype.addn=function(x){return this.clone().iaddn(x)},a.prototype.subn=function(x){return this.clone().isubn(x)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(x,R,B){var v,y,C=x.length+B;this._expand(C);var w=0;for(v=0;v<x.length;v++){y=(0|this.words[v+B])+w;var S=(0|x.words[v])*R;w=((y-=67108863&S)>>26)-(S/67108864|0),this.words[v+B]=67108863&y}for(;v<this.length-B;v++)w=(y=(0|this.words[v+B])+w)>>26,this.words[v+B]=67108863&y;if(w===0)return this.strip();for(o(w===-1),w=0,v=0;v<this.length;v++)w=(y=-(0|this.words[v])+w)>>26,this.words[v]=67108863&y;return this.negative=1,this.strip()},a.prototype._wordDiv=function(x,R){var B=(this.length,x.length),v=this.clone(),y=x,C=0|y.words[y.length-1];(B=26-this._countBits(C))!==0&&(y=y.ushln(B),v.iushln(B),C=0|y.words[y.length-1]);var w,S=v.length-y.length;if(R!=="mod"){(w=new a(null)).length=S+1,w.words=new Array(w.length);for(var M=0;M<w.length;M++)w.words[M]=0}var U=v.clone()._ishlnsubmul(y,1,S);U.negative===0&&(v=U,w&&(w.words[S]=1));for(var N=S-1;N>=0;N--){var T=67108864*(0|v.words[y.length+N])+(0|v.words[y.length+N-1]);for(T=Math.min(T/C|0,67108863),v._ishlnsubmul(y,T,N);v.negative!==0;)T--,v.negative=0,v._ishlnsubmul(y,1,N),v.isZero()||(v.negative^=1);w&&(w.words[N]=T)}return w&&w.strip(),v.strip(),R!=="div"&&B!==0&&v.iushrn(B),{div:w||null,mod:v}},a.prototype.divmod=function(x,R,B){return o(!x.isZero()),this.isZero()?{div:new a(0),mod:new a(0)}:this.negative!==0&&x.negative===0?(C=this.neg().divmod(x,R),R!=="mod"&&(v=C.div.neg()),R!=="div"&&(y=C.mod.neg(),B&&y.negative!==0&&y.iadd(x)),{div:v,mod:y}):this.negative===0&&x.negative!==0?(C=this.divmod(x.neg(),R),R!=="mod"&&(v=C.div.neg()),{div:v,mod:C.mod}):this.negative&x.negative?(C=this.neg().divmod(x.neg(),R),R!=="div"&&(y=C.mod.neg(),B&&y.negative!==0&&y.isub(x)),{div:C.div,mod:y}):x.length>this.length||this.cmp(x)<0?{div:new a(0),mod:this}:x.length===1?R==="div"?{div:this.divn(x.words[0]),mod:null}:R==="mod"?{div:null,mod:new a(this.modn(x.words[0]))}:{div:this.divn(x.words[0]),mod:new a(this.modn(x.words[0]))}:this._wordDiv(x,R);var v,y,C},a.prototype.div=function(x){return this.divmod(x,"div",!1).div},a.prototype.mod=function(x){return this.divmod(x,"mod",!1).mod},a.prototype.umod=function(x){return this.divmod(x,"mod",!0).mod},a.prototype.divRound=function(x){var R=this.divmod(x);if(R.mod.isZero())return R.div;var B=R.div.negative!==0?R.mod.isub(x):R.mod,v=x.ushrn(1),y=x.andln(1),C=B.cmp(v);return C<0||y===1&&C===0?R.div:R.div.negative!==0?R.div.isubn(1):R.div.iaddn(1)},a.prototype.modn=function(x){o(x<=67108863);for(var R=(1<<26)%x,B=0,v=this.length-1;v>=0;v--)B=(R*B+(0|this.words[v]))%x;return B},a.prototype.idivn=function(x){o(x<=67108863);for(var R=0,B=this.length-1;B>=0;B--){var v=(0|this.words[B])+67108864*R;this.words[B]=v/x|0,R=v%x}return this.strip()},a.prototype.divn=function(x){return this.clone().idivn(x)},a.prototype.egcd=function(x){o(x.negative===0),o(!x.isZero());var R=this,B=x.clone();R=R.negative!==0?R.umod(x):R.clone();for(var v=new a(1),y=new a(0),C=new a(0),w=new a(1),S=0;R.isEven()&&B.isEven();)R.iushrn(1),B.iushrn(1),++S;for(var M=B.clone(),U=R.clone();!R.isZero();){for(var N=0,T=1;!(R.words[0]&T)&&N<26;++N,T<<=1);if(N>0)for(R.iushrn(N);N-- >0;)(v.isOdd()||y.isOdd())&&(v.iadd(M),y.isub(U)),v.iushrn(1),y.iushrn(1);for(var j=0,I=1;!(B.words[0]&I)&&j<26;++j,I<<=1);if(j>0)for(B.iushrn(j);j-- >0;)(C.isOdd()||w.isOdd())&&(C.iadd(M),w.isub(U)),C.iushrn(1),w.iushrn(1);R.cmp(B)>=0?(R.isub(B),v.isub(C),y.isub(w)):(B.isub(R),C.isub(v),w.isub(y))}return{a:C,b:w,gcd:B.iushln(S)}},a.prototype._invmp=function(x){o(x.negative===0),o(!x.isZero());var R=this,B=x.clone();R=R.negative!==0?R.umod(x):R.clone();for(var v,y=new a(1),C=new a(0),w=B.clone();R.cmpn(1)>0&&B.cmpn(1)>0;){for(var S=0,M=1;!(R.words[0]&M)&&S<26;++S,M<<=1);if(S>0)for(R.iushrn(S);S-- >0;)y.isOdd()&&y.iadd(w),y.iushrn(1);for(var U=0,N=1;!(B.words[0]&N)&&U<26;++U,N<<=1);if(U>0)for(B.iushrn(U);U-- >0;)C.isOdd()&&C.iadd(w),C.iushrn(1);R.cmp(B)>=0?(R.isub(B),y.isub(C)):(B.isub(R),C.isub(y))}return(v=R.cmpn(1)===0?y:C).cmpn(0)<0&&v.iadd(x),v},a.prototype.gcd=function(x){if(this.isZero())return x.abs();if(x.isZero())return this.abs();var R=this.clone(),B=x.clone();R.negative=0,B.negative=0;for(var v=0;R.isEven()&&B.isEven();v++)R.iushrn(1),B.iushrn(1);for(;;){for(;R.isEven();)R.iushrn(1);for(;B.isEven();)B.iushrn(1);var y=R.cmp(B);if(y<0){var C=R;R=B,B=C}else if(y===0||B.cmpn(1)===0)break;R.isub(B)}return B.iushln(v)},a.prototype.invm=function(x){return this.egcd(x).a.umod(x)},a.prototype.isEven=function(){return(1&this.words[0])==0},a.prototype.isOdd=function(){return(1&this.words[0])==1},a.prototype.andln=function(x){return this.words[0]&x},a.prototype.bincn=function(x){o(typeof x=="number");var R=x%26,B=(x-R)/26,v=1<<R;if(this.length<=B)return this._expand(B+1),this.words[B]|=v,this;for(var y=v,C=B;y!==0&&C<this.length;C++){var w=0|this.words[C];y=(w+=y)>>>26,w&=67108863,this.words[C]=w}return y!==0&&(this.words[C]=y,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(x){var R,B=x<0;if(this.negative!==0&&!B)return-1;if(this.negative===0&&B)return 1;if(this.strip(),this.length>1)R=1;else{B&&(x=-x),o(x<=67108863,"Number is too big");var v=0|this.words[0];R=v===x?0:v<x?-1:1}return this.negative!==0?0|-R:R},a.prototype.cmp=function(x){if(this.negative!==0&&x.negative===0)return-1;if(this.negative===0&&x.negative!==0)return 1;var R=this.ucmp(x);return this.negative!==0?0|-R:R},a.prototype.ucmp=function(x){if(this.length>x.length)return 1;if(this.length<x.length)return-1;for(var R=0,B=this.length-1;B>=0;B--){var v=0|this.words[B],y=0|x.words[B];if(v!==y){v<y?R=-1:v>y&&(R=1);break}}return R},a.prototype.gtn=function(x){return this.cmpn(x)===1},a.prototype.gt=function(x){return this.cmp(x)===1},a.prototype.gten=function(x){return this.cmpn(x)>=0},a.prototype.gte=function(x){return this.cmp(x)>=0},a.prototype.ltn=function(x){return this.cmpn(x)===-1},a.prototype.lt=function(x){return this.cmp(x)===-1},a.prototype.lten=function(x){return this.cmpn(x)<=0},a.prototype.lte=function(x){return this.cmp(x)<=0},a.prototype.eqn=function(x){return this.cmpn(x)===0},a.prototype.eq=function(x){return this.cmp(x)===0},a.red=function(x){return new $(x)},a.prototype.toRed=function(x){return o(!this.red,"Already a number in reduction context"),o(this.negative===0,"red works only with positives"),x.convertTo(this)._forceRed(x)},a.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(x){return this.red=x,this},a.prototype.forceRed=function(x){return o(!this.red,"Already a number in reduction context"),this._forceRed(x)},a.prototype.redAdd=function(x){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,x)},a.prototype.redIAdd=function(x){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,x)},a.prototype.redSub=function(x){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,x)},a.prototype.redISub=function(x){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,x)},a.prototype.redShl=function(x){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,x)},a.prototype.redMul=function(x){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,x),this.red.mul(this,x)},a.prototype.redIMul=function(x){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,x),this.red.imul(this,x)},a.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(x){return o(this.red&&!x.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,x)};var E={k256:null,p224:null,p192:null,p25519:null};function O(x,R){this.name=x,this.p=new a(R,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function V(){O.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function H(){O.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function F(){O.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function L(){O.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function $(x){if(typeof x=="string"){var R=a._prime(x);this.m=R.p,this.prime=R}else o(x.gtn(1),"modulus must be greater than 1"),this.m=x,this.prime=null}function W(x){$.call(this,x),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}O.prototype._tmp=function(){var x=new a(null);return x.words=new Array(Math.ceil(this.n/13)),x},O.prototype.ireduce=function(x){var R,B=x;do this.split(B,this.tmp),R=(B=(B=this.imulK(B)).iadd(this.tmp)).bitLength();while(R>this.n);var v=R<this.n?-1:B.ucmp(this.p);return v===0?(B.words[0]=0,B.length=1):v>0?B.isub(this.p):B.strip!==void 0?B.strip():B._strip(),B},O.prototype.split=function(x,R){x.iushrn(this.n,0,R)},O.prototype.imulK=function(x){return x.imul(this.k)},s(V,O),V.prototype.split=function(x,R){for(var B=Math.min(x.length,9),v=0;v<B;v++)R.words[v]=x.words[v];if(R.length=B,x.length<=9)return x.words[0]=0,void(x.length=1);var y=x.words[9];for(R.words[R.length++]=4194303&y,v=10;v<x.length;v++){var C=0|x.words[v];x.words[v-10]=(4194303&C)<<4|y>>>22,y=C}y>>>=22,x.words[v-10]=y,y===0&&x.length>10?x.length-=10:x.length-=9},V.prototype.imulK=function(x){x.words[x.length]=0,x.words[x.length+1]=0,x.length+=2;for(var R=0,B=0;B<x.length;B++){var v=0|x.words[B];R+=977*v,x.words[B]=67108863&R,R=64*v+(R/67108864|0)}return x.words[x.length-1]===0&&(x.length--,x.words[x.length-1]===0&&x.length--),x},s(H,O),s(F,O),s(L,O),L.prototype.imulK=function(x){for(var R=0,B=0;B<x.length;B++){var v=19*(0|x.words[B])+R,y=67108863&v;v>>>=26,x.words[B]=y,R=v}return R!==0&&(x.words[x.length++]=R),x},a._prime=function(x){if(E[x])return E[x];var R;if(x==="k256")R=new V;else if(x==="p224")R=new H;else if(x==="p192")R=new F;else{if(x!=="p25519")throw new Error("Unknown prime "+x);R=new L}return E[x]=R,R},$.prototype._verify1=function(x){o(x.negative===0,"red works only with positives"),o(x.red,"red works only with red numbers")},$.prototype._verify2=function(x,R){o((x.negative|R.negative)==0,"red works only with positives"),o(x.red&&x.red===R.red,"red works only with red numbers")},$.prototype.imod=function(x){return this.prime?this.prime.ireduce(x)._forceRed(this):x.umod(this.m)._forceRed(this)},$.prototype.neg=function(x){return x.isZero()?x.clone():this.m.sub(x)._forceRed(this)},$.prototype.add=function(x,R){this._verify2(x,R);var B=x.add(R);return B.cmp(this.m)>=0&&B.isub(this.m),B._forceRed(this)},$.prototype.iadd=function(x,R){this._verify2(x,R);var B=x.iadd(R);return B.cmp(this.m)>=0&&B.isub(this.m),B},$.prototype.sub=function(x,R){this._verify2(x,R);var B=x.sub(R);return B.cmpn(0)<0&&B.iadd(this.m),B._forceRed(this)},$.prototype.isub=function(x,R){this._verify2(x,R);var B=x.isub(R);return B.cmpn(0)<0&&B.iadd(this.m),B},$.prototype.shl=function(x,R){return this._verify1(x),this.imod(x.ushln(R))},$.prototype.imul=function(x,R){return this._verify2(x,R),this.imod(x.imul(R))},$.prototype.mul=function(x,R){return this._verify2(x,R),this.imod(x.mul(R))},$.prototype.isqr=function(x){return this.imul(x,x.clone())},$.prototype.sqr=function(x){return this.mul(x,x)},$.prototype.sqrt=function(x){if(x.isZero())return x.clone();var R=this.m.andln(3);if(o(R%2==1),R===3){var B=this.m.add(new a(1)).iushrn(2);return this.pow(x,B)}for(var v=this.m.subn(1),y=0;!v.isZero()&&v.andln(1)===0;)y++,v.iushrn(1);o(!v.isZero());var C=new a(1).toRed(this),w=C.redNeg(),S=this.m.subn(1).iushrn(1),M=this.m.bitLength();for(M=new a(2*M*M).toRed(this);this.pow(M,S).cmp(w)!==0;)M.redIAdd(w);for(var U=this.pow(M,v),N=this.pow(x,v.addn(1).iushrn(1)),T=this.pow(x,v),j=y;T.cmp(C)!==0;){for(var I=T,q=0;I.cmp(C)!==0;q++)I=I.redSqr();o(q<j);var A=this.pow(U,new a(1).iushln(j-q-1));N=N.redMul(A),U=A.redSqr(),T=T.redMul(U),j=q}return N},$.prototype.invm=function(x){var R=x._invmp(this.m);return R.negative!==0?(R.negative=0,this.imod(R).redNeg()):this.imod(R)},$.prototype.pow=function(x,R){if(R.isZero())return new a(1).toRed(this);if(R.cmpn(1)===0)return x.clone();var B=new Array(16);B[0]=new a(1).toRed(this),B[1]=x;for(var v=2;v<B.length;v++)B[v]=this.mul(B[v-1],x);var y=B[0],C=0,w=0,S=R.bitLength()%26;for(S===0&&(S=26),v=R.length-1;v>=0;v--){for(var M=R.words[v],U=S-1;U>=0;U--){var N=M>>U&1;y!==B[0]&&(y=this.sqr(y)),N!==0||C!==0?(C<<=1,C|=N,(++w===4||v===0&&U===0)&&(y=this.mul(y,B[C]),w=0,C=0)):w=0}S=26}return y},$.prototype.convertTo=function(x){var R=x.umod(this.m);return R===x?R.clone():R},$.prototype.convertFrom=function(x){var R=x.clone();return R.red=null,R},a.mont=function(x){return new W(x)},s(W,$),W.prototype.convertTo=function(x){return this.imod(x.ushln(this.shift))},W.prototype.convertFrom=function(x){var R=this.imod(x.mul(this.rinv));return R.red=null,R},W.prototype.imul=function(x,R){if(x.isZero()||R.isZero())return x.words[0]=0,x.length=1,x;var B=x.imul(R),v=B.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=B.isub(v).iushrn(this.shift),C=y;return y.cmp(this.m)>=0?C=y.isub(this.m):y.cmpn(0)<0&&(C=y.iadd(this.m)),C._forceRed(this)},W.prototype.mul=function(x,R){if(x.isZero()||R.isZero())return new a(0)._forceRed(this);var B=x.mul(R),v=B.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=B.isub(v).iushrn(this.shift),C=y;return y.cmp(this.m)>=0?C=y.isub(this.m):y.cmpn(0)<0&&(C=y.iadd(this.m)),C._forceRed(this)},W.prototype.invm=function(x){return this.imod(x._invmp(this.m).mul(this.r2))._forceRed(this)}})(t===void 0||t)},{buffer:188}],185:[function(e,t,r){"use strict";r.byteLength=function(u){var h=c(u),f=h[0],m=h[1];return 3*(f+m)/4-m},r.toByteArray=function(u){var h,f,m=c(u),g=m[0],p=m[1],b=new o(function(O,V,H){return 3*(V+H)/4-H}(0,g,p)),_=0,E=p>0?g-4:g;for(f=0;f<E;f+=4)h=n[u.charCodeAt(f)]<<18|n[u.charCodeAt(f+1)]<<12|n[u.charCodeAt(f+2)]<<6|n[u.charCodeAt(f+3)],b[_++]=h>>16&255,b[_++]=h>>8&255,b[_++]=255&h;return p===2&&(h=n[u.charCodeAt(f)]<<2|n[u.charCodeAt(f+1)]>>4,b[_++]=255&h),p===1&&(h=n[u.charCodeAt(f)]<<10|n[u.charCodeAt(f+1)]<<4|n[u.charCodeAt(f+2)]>>2,b[_++]=h>>8&255,b[_++]=255&h),b},r.fromByteArray=function(u){for(var h,f=u.length,m=f%3,g=[],p=0,b=f-m;p<b;p+=16383)g.push(d(u,p,p+16383>b?b:p+16383));return m===1?(h=u[f-1],g.push(i[h>>2]+i[h<<4&63]+"==")):m===2&&(h=(u[f-2]<<8)+u[f-1],g.push(i[h>>10]+i[h>>4&63]+i[h<<2&63]+"=")),g.join("")};for(var i=[],n=[],o=typeof Uint8Array<"u"?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=s.length;a<l;++a)i[a]=s[a],n[s.charCodeAt(a)]=a;function c(u){var h=u.length;if(h%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var f=u.indexOf("=");return f===-1&&(f=h),[f,f===h?0:4-f%4]}function d(u,h,f){for(var m,g,p=[],b=h;b<f;b+=3)m=(u[b]<<16&16711680)+(u[b+1]<<8&65280)+(255&u[b+2]),p.push(i[(g=m)>>18&63]+i[g>>12&63]+i[g>>6&63]+i[63&g]);return p.join("")}n[45]=62,n[95]=63},{}],186:[function(e,t,r){"use strict";(function(i,n){function o(v,y){if(!v)throw new Error(y||"Assertion failed")}function s(v,y){v.super_=y;var C=function(){};C.prototype=y.prototype,v.prototype=new C,v.prototype.constructor=v}function a(v,y,C){if(a.isBN(v))return v;this.negative=0,this.words=null,this.length=0,this.red=null,v!==null&&(y!=="le"&&y!=="be"||(C=y,y=10),this._init(v||0,y||10,C||"be"))}var l;typeof i=="object"?i.exports=a:(void 0).BN=a,a.BN=a,a.wordSize=26;try{l=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:e("buffer").Buffer}catch{}function c(v,y){var C=v.charCodeAt(y);return C>=48&&C<=57?C-48:C>=65&&C<=70?C-55:C>=97&&C<=102?C-87:void o(!1,"Invalid character in "+v)}function d(v,y,C){var w=c(v,C);return C-1>=y&&(w|=c(v,C-1)<<4),w}function u(v,y,C,w){for(var S=0,M=0,U=Math.min(v.length,C),N=y;N<U;N++){var T=v.charCodeAt(N)-48;S*=w,M=T>=49?T-49+10:T>=17?T-17+10:T,o(T>=0&&M<w,"Invalid character"),S+=M}return S}function h(v,y){v.words=y.words,v.length=y.length,v.negative=y.negative,v.red=y.red}if(a.isBN=function(v){return v instanceof a||v!==null&&typeof v=="object"&&v.constructor.wordSize===a.wordSize&&Array.isArray(v.words)},a.max=function(v,y){return v.cmp(y)>0?v:y},a.min=function(v,y){return v.cmp(y)<0?v:y},a.prototype._init=function(v,y,C){if(typeof v=="number")return this._initNumber(v,y,C);if(typeof v=="object")return this._initArray(v,y,C);y==="hex"&&(y=16),o(y===(0|y)&&y>=2&&y<=36);var w=0;(v=v.toString().replace(/\s+/g,""))[0]==="-"&&(w++,this.negative=1),w<v.length&&(y===16?this._parseHex(v,w,C):(this._parseBase(v,y,w),C==="le"&&this._initArray(this.toArray(),y,C)))},a.prototype._initNumber=function(v,y,C){v<0&&(this.negative=1,v=-v),v<67108864?(this.words=[67108863&v],this.length=1):v<4503599627370496?(this.words=[67108863&v,v/67108864&67108863],this.length=2):(o(v<9007199254740992),this.words=[67108863&v,v/67108864&67108863,1],this.length=3),C==="le"&&this._initArray(this.toArray(),y,C)},a.prototype._initArray=function(v,y,C){if(o(typeof v.length=="number"),v.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(v.length/3),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var S,M,U=0;if(C==="be")for(w=v.length-1,S=0;w>=0;w-=3)M=v[w]|v[w-1]<<8|v[w-2]<<16,this.words[S]|=M<<U&67108863,this.words[S+1]=M>>>26-U&67108863,(U+=24)>=26&&(U-=26,S++);else if(C==="le")for(w=0,S=0;w<v.length;w+=3)M=v[w]|v[w+1]<<8|v[w+2]<<16,this.words[S]|=M<<U&67108863,this.words[S+1]=M>>>26-U&67108863,(U+=24)>=26&&(U-=26,S++);return this._strip()},a.prototype._parseHex=function(v,y,C){this.length=Math.ceil((v.length-y)/6),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var S,M=0,U=0;if(C==="be")for(w=v.length-1;w>=y;w-=2)S=d(v,y,w)<<M,this.words[U]|=67108863&S,M>=18?(M-=18,U+=1,this.words[U]|=S>>>26):M+=8;else for(w=(v.length-y)%2==0?y+1:y;w<v.length;w+=2)S=d(v,y,w)<<M,this.words[U]|=67108863&S,M>=18?(M-=18,U+=1,this.words[U]|=S>>>26):M+=8;this._strip()},a.prototype._parseBase=function(v,y,C){this.words=[0],this.length=1;for(var w=0,S=1;S<=67108863;S*=y)w++;w--,S=S/y|0;for(var M=v.length-C,U=M%w,N=Math.min(M,M-U)+C,T=0,j=C;j<N;j+=w)T=u(v,j,j+w,y),this.imuln(S),this.words[0]+T<67108864?this.words[0]+=T:this._iaddn(T);if(U!==0){var I=1;for(T=u(v,j,v.length,y),j=0;j<U;j++)I*=y;this.imuln(I),this.words[0]+T<67108864?this.words[0]+=T:this._iaddn(T)}this._strip()},a.prototype.copy=function(v){v.words=new Array(this.length);for(var y=0;y<this.length;y++)v.words[y]=this.words[y];v.length=this.length,v.negative=this.negative,v.red=this.red},a.prototype._move=function(v){h(v,this)},a.prototype.clone=function(){var v=new a(null);return this.copy(v),v},a.prototype._expand=function(v){for(;this.length<v;)this.words[this.length++]=0;return this},a.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{a.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch{a.prototype.inspect=f}else a.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(v,y){var C;if(y=0|y||1,(v=v||10)===16||v==="hex"){C="";for(var w=0,S=0,M=0;M<this.length;M++){var U=this.words[M],N=(16777215&(U<<w|S)).toString(16);S=U>>>24-w&16777215,(w+=2)>=26&&(w-=26,M--),C=S!==0||M!==this.length-1?m[6-N.length]+N+C:N+C}for(S!==0&&(C=S.toString(16)+C);C.length%y!=0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}if(v===(0|v)&&v>=2&&v<=36){var T=g[v],j=p[v];C="";var I=this.clone();for(I.negative=0;!I.isZero();){var q=I.modrn(j).toString(v);C=(I=I.idivn(j)).isZero()?q+C:m[T-q.length]+q+C}for(this.isZero()&&(C="0"+C);C.length%y!=0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}o(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var v=this.words[0];return this.length===2?v+=67108864*this.words[1]:this.length===3&&this.words[2]===1?v+=4503599627370496+67108864*this.words[1]:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-v:v},a.prototype.toJSON=function(){return this.toString(16,2)},l&&(a.prototype.toBuffer=function(v,y){return this.toArrayLike(l,v,y)}),a.prototype.toArray=function(v,y){return this.toArrayLike(Array,v,y)};function b(v,y,C){C.negative=y.negative^v.negative;var w=v.length+y.length|0;C.length=w,w=w-1|0;var S=0|v.words[0],M=0|y.words[0],U=S*M,N=67108863&U,T=U/67108864|0;C.words[0]=N;for(var j=1;j<w;j++){for(var I=T>>>26,q=67108863&T,A=Math.min(j,y.length-1),k=Math.max(0,j-v.length+1);k<=A;k++){var Y=j-k|0;I+=(U=(S=0|v.words[Y])*(M=0|y.words[k])+q)/67108864|0,q=67108863&U}C.words[j]=0|q,T=0|I}return T!==0?C.words[j]=0|T:C.length--,C._strip()}a.prototype.toArrayLike=function(v,y,C){this._strip();var w=this.byteLength(),S=C||Math.max(1,w);o(w<=S,"byte array longer than desired length"),o(S>0,"Requested array length <= 0");var M=function(U,N){return U.allocUnsafe?U.allocUnsafe(N):new U(N)}(v,S);return this["_toArrayLike"+(y==="le"?"LE":"BE")](M,w),M},a.prototype._toArrayLikeLE=function(v,y){for(var C=0,w=0,S=0,M=0;S<this.length;S++){var U=this.words[S]<<M|w;v[C++]=255&U,C<v.length&&(v[C++]=U>>8&255),C<v.length&&(v[C++]=U>>16&255),M===6?(C<v.length&&(v[C++]=U>>24&255),w=0,M=0):(w=U>>>24,M+=2)}if(C<v.length)for(v[C++]=w;C<v.length;)v[C++]=0},a.prototype._toArrayLikeBE=function(v,y){for(var C=v.length-1,w=0,S=0,M=0;S<this.length;S++){var U=this.words[S]<<M|w;v[C--]=255&U,C>=0&&(v[C--]=U>>8&255),C>=0&&(v[C--]=U>>16&255),M===6?(C>=0&&(v[C--]=U>>24&255),w=0,M=0):(w=U>>>24,M+=2)}if(C>=0)for(v[C--]=w;C>=0;)v[C--]=0},Math.clz32?a.prototype._countBits=function(v){return 32-Math.clz32(v)}:a.prototype._countBits=function(v){var y=v,C=0;return y>=4096&&(C+=13,y>>>=13),y>=64&&(C+=7,y>>>=7),y>=8&&(C+=4,y>>>=4),y>=2&&(C+=2,y>>>=2),C+y},a.prototype._zeroBits=function(v){if(v===0)return 26;var y=v,C=0;return!(8191&y)&&(C+=13,y>>>=13),!(127&y)&&(C+=7,y>>>=7),!(15&y)&&(C+=4,y>>>=4),!(3&y)&&(C+=2,y>>>=2),!(1&y)&&C++,C},a.prototype.bitLength=function(){var v=this.words[this.length-1],y=this._countBits(v);return 26*(this.length-1)+y},a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var v=0,y=0;y<this.length;y++){var C=this._zeroBits(this.words[y]);if(v+=C,C!==26)break}return v},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(v){return this.negative!==0?this.abs().inotn(v).iaddn(1):this.clone()},a.prototype.fromTwos=function(v){return this.testn(v-1)?this.notn(v).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(v){for(;this.length<v.length;)this.words[this.length++]=0;for(var y=0;y<v.length;y++)this.words[y]=this.words[y]|v.words[y];return this._strip()},a.prototype.ior=function(v){return o((this.negative|v.negative)==0),this.iuor(v)},a.prototype.or=function(v){return this.length>v.length?this.clone().ior(v):v.clone().ior(this)},a.prototype.uor=function(v){return this.length>v.length?this.clone().iuor(v):v.clone().iuor(this)},a.prototype.iuand=function(v){var y;y=this.length>v.length?v:this;for(var C=0;C<y.length;C++)this.words[C]=this.words[C]&v.words[C];return this.length=y.length,this._strip()},a.prototype.iand=function(v){return o((this.negative|v.negative)==0),this.iuand(v)},a.prototype.and=function(v){return this.length>v.length?this.clone().iand(v):v.clone().iand(this)},a.prototype.uand=function(v){return this.length>v.length?this.clone().iuand(v):v.clone().iuand(this)},a.prototype.iuxor=function(v){var y,C;this.length>v.length?(y=this,C=v):(y=v,C=this);for(var w=0;w<C.length;w++)this.words[w]=y.words[w]^C.words[w];if(this!==y)for(;w<y.length;w++)this.words[w]=y.words[w];return this.length=y.length,this._strip()},a.prototype.ixor=function(v){return o((this.negative|v.negative)==0),this.iuxor(v)},a.prototype.xor=function(v){return this.length>v.length?this.clone().ixor(v):v.clone().ixor(this)},a.prototype.uxor=function(v){return this.length>v.length?this.clone().iuxor(v):v.clone().iuxor(this)},a.prototype.inotn=function(v){o(typeof v=="number"&&v>=0);var y=0|Math.ceil(v/26),C=v%26;this._expand(y),C>0&&y--;for(var w=0;w<y;w++)this.words[w]=67108863&~this.words[w];return C>0&&(this.words[w]=~this.words[w]&67108863>>26-C),this._strip()},a.prototype.notn=function(v){return this.clone().inotn(v)},a.prototype.setn=function(v,y){o(typeof v=="number"&&v>=0);var C=v/26|0,w=v%26;return this._expand(C+1),this.words[C]=y?this.words[C]|1<<w:this.words[C]&~(1<<w),this._strip()},a.prototype.iadd=function(v){var y,C,w;if(this.negative!==0&&v.negative===0)return this.negative=0,y=this.isub(v),this.negative^=1,this._normSign();if(this.negative===0&&v.negative!==0)return v.negative=0,y=this.isub(v),v.negative=1,y._normSign();this.length>v.length?(C=this,w=v):(C=v,w=this);for(var S=0,M=0;M<w.length;M++)y=(0|C.words[M])+(0|w.words[M])+S,this.words[M]=67108863&y,S=y>>>26;for(;S!==0&&M<C.length;M++)y=(0|C.words[M])+S,this.words[M]=67108863&y,S=y>>>26;if(this.length=C.length,S!==0)this.words[this.length]=S,this.length++;else if(C!==this)for(;M<C.length;M++)this.words[M]=C.words[M];return this},a.prototype.add=function(v){var y;return v.negative!==0&&this.negative===0?(v.negative=0,y=this.sub(v),v.negative^=1,y):v.negative===0&&this.negative!==0?(this.negative=0,y=v.sub(this),this.negative=1,y):this.length>v.length?this.clone().iadd(v):v.clone().iadd(this)},a.prototype.isub=function(v){if(v.negative!==0){v.negative=0;var y=this.iadd(v);return v.negative=1,y._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(v),this.negative=1,this._normSign();var C,w,S=this.cmp(v);if(S===0)return this.negative=0,this.length=1,this.words[0]=0,this;S>0?(C=this,w=v):(C=v,w=this);for(var M=0,U=0;U<w.length;U++)M=(y=(0|C.words[U])-(0|w.words[U])+M)>>26,this.words[U]=67108863&y;for(;M!==0&&U<C.length;U++)M=(y=(0|C.words[U])+M)>>26,this.words[U]=67108863&y;if(M===0&&U<C.length&&C!==this)for(;U<C.length;U++)this.words[U]=C.words[U];return this.length=Math.max(this.length,U),C!==this&&(this.negative=1),this._strip()},a.prototype.sub=function(v){return this.clone().isub(v)};var _=function(v,y,C){var w,S,M,U=v.words,N=y.words,T=C.words,j=0,I=0|U[0],q=8191&I,A=I>>>13,k=0|U[1],Y=8191&k,Z=k>>>13,lt=0|U[2],J=8191&lt,et=lt>>>13,Et=0|U[3],Rt=8191&Et,nt=Et>>>13,at=0|U[4],Ct=8191&at,tt=at>>>13,it=0|U[5],ct=8191&it,mt=it>>>13,bt=0|U[6],St=8191&bt,wt=bt>>>13,At=0|U[7],kt=8191&At,Mt=At>>>13,Nt=0|U[8],Ut=8191&Nt,qt=Nt>>>13,Wt=0|U[9],re=8191&Wt,Qt=Wt>>>13,Fe=0|N[0],le=8191&Fe,fe=Fe>>>13,Di=0|N[1],Ae=8191&Di,oi=Di>>>13,Ni=0|N[2],ei=8191&Ni,fi=Ni>>>13,be=0|N[3],ye=8191&be,xe=be>>>13,Yr=0|N[4],Ye=8191&Yr,Te=Yr>>>13,Jn=0|N[5],he=8191&Jn,Lt=Jn>>>13,Jt=0|N[6],ie=8191&Jt,se=Jt>>>13,mi=0|N[7],Ee=8191&mi,ke=mi>>>13,Ui=0|N[8],qe=8191&Ui,Pe=Ui>>>13,ar=0|N[9],Wi=8191&ar,Ti=ar>>>13;C.negative=v.negative^y.negative,C.length=19;var yr=(j+(w=Math.imul(q,le))|0)+((8191&(S=(S=Math.imul(q,fe))+Math.imul(A,le)|0))<<13)|0;j=((M=Math.imul(A,fe))+(S>>>13)|0)+(yr>>>26)|0,yr&=67108863,w=Math.imul(Y,le),S=(S=Math.imul(Y,fe))+Math.imul(Z,le)|0,M=Math.imul(Z,fe);var rn=(j+(w=w+Math.imul(q,Ae)|0)|0)+((8191&(S=(S=S+Math.imul(q,oi)|0)+Math.imul(A,Ae)|0))<<13)|0;j=((M=M+Math.imul(A,oi)|0)+(S>>>13)|0)+(rn>>>26)|0,rn&=67108863,w=Math.imul(J,le),S=(S=Math.imul(J,fe))+Math.imul(et,le)|0,M=Math.imul(et,fe),w=w+Math.imul(Y,Ae)|0,S=(S=S+Math.imul(Y,oi)|0)+Math.imul(Z,Ae)|0,M=M+Math.imul(Z,oi)|0;var nn=(j+(w=w+Math.imul(q,ei)|0)|0)+((8191&(S=(S=S+Math.imul(q,fi)|0)+Math.imul(A,ei)|0))<<13)|0;j=((M=M+Math.imul(A,fi)|0)+(S>>>13)|0)+(nn>>>26)|0,nn&=67108863,w=Math.imul(Rt,le),S=(S=Math.imul(Rt,fe))+Math.imul(nt,le)|0,M=Math.imul(nt,fe),w=w+Math.imul(J,Ae)|0,S=(S=S+Math.imul(J,oi)|0)+Math.imul(et,Ae)|0,M=M+Math.imul(et,oi)|0,w=w+Math.imul(Y,ei)|0,S=(S=S+Math.imul(Y,fi)|0)+Math.imul(Z,ei)|0,M=M+Math.imul(Z,fi)|0;var Yn=(j+(w=w+Math.imul(q,ye)|0)|0)+((8191&(S=(S=S+Math.imul(q,xe)|0)+Math.imul(A,ye)|0))<<13)|0;j=((M=M+Math.imul(A,xe)|0)+(S>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,w=Math.imul(Ct,le),S=(S=Math.imul(Ct,fe))+Math.imul(tt,le)|0,M=Math.imul(tt,fe),w=w+Math.imul(Rt,Ae)|0,S=(S=S+Math.imul(Rt,oi)|0)+Math.imul(nt,Ae)|0,M=M+Math.imul(nt,oi)|0,w=w+Math.imul(J,ei)|0,S=(S=S+Math.imul(J,fi)|0)+Math.imul(et,ei)|0,M=M+Math.imul(et,fi)|0,w=w+Math.imul(Y,ye)|0,S=(S=S+Math.imul(Y,xe)|0)+Math.imul(Z,ye)|0,M=M+Math.imul(Z,xe)|0;var Tn=(j+(w=w+Math.imul(q,Ye)|0)|0)+((8191&(S=(S=S+Math.imul(q,Te)|0)+Math.imul(A,Ye)|0))<<13)|0;j=((M=M+Math.imul(A,Te)|0)+(S>>>13)|0)+(Tn>>>26)|0,Tn&=67108863,w=Math.imul(ct,le),S=(S=Math.imul(ct,fe))+Math.imul(mt,le)|0,M=Math.imul(mt,fe),w=w+Math.imul(Ct,Ae)|0,S=(S=S+Math.imul(Ct,oi)|0)+Math.imul(tt,Ae)|0,M=M+Math.imul(tt,oi)|0,w=w+Math.imul(Rt,ei)|0,S=(S=S+Math.imul(Rt,fi)|0)+Math.imul(nt,ei)|0,M=M+Math.imul(nt,fi)|0,w=w+Math.imul(J,ye)|0,S=(S=S+Math.imul(J,xe)|0)+Math.imul(et,ye)|0,M=M+Math.imul(et,xe)|0,w=w+Math.imul(Y,Ye)|0,S=(S=S+Math.imul(Y,Te)|0)+Math.imul(Z,Ye)|0,M=M+Math.imul(Z,Te)|0;var mo=(j+(w=w+Math.imul(q,he)|0)|0)+((8191&(S=(S=S+Math.imul(q,Lt)|0)+Math.imul(A,he)|0))<<13)|0;j=((M=M+Math.imul(A,Lt)|0)+(S>>>13)|0)+(mo>>>26)|0,mo&=67108863,w=Math.imul(St,le),S=(S=Math.imul(St,fe))+Math.imul(wt,le)|0,M=Math.imul(wt,fe),w=w+Math.imul(ct,Ae)|0,S=(S=S+Math.imul(ct,oi)|0)+Math.imul(mt,Ae)|0,M=M+Math.imul(mt,oi)|0,w=w+Math.imul(Ct,ei)|0,S=(S=S+Math.imul(Ct,fi)|0)+Math.imul(tt,ei)|0,M=M+Math.imul(tt,fi)|0,w=w+Math.imul(Rt,ye)|0,S=(S=S+Math.imul(Rt,xe)|0)+Math.imul(nt,ye)|0,M=M+Math.imul(nt,xe)|0,w=w+Math.imul(J,Ye)|0,S=(S=S+Math.imul(J,Te)|0)+Math.imul(et,Ye)|0,M=M+Math.imul(et,Te)|0,w=w+Math.imul(Y,he)|0,S=(S=S+Math.imul(Y,Lt)|0)+Math.imul(Z,he)|0,M=M+Math.imul(Z,Lt)|0;var Dt=(j+(w=w+Math.imul(q,ie)|0)|0)+((8191&(S=(S=S+Math.imul(q,se)|0)+Math.imul(A,ie)|0))<<13)|0;j=((M=M+Math.imul(A,se)|0)+(S>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,w=Math.imul(kt,le),S=(S=Math.imul(kt,fe))+Math.imul(Mt,le)|0,M=Math.imul(Mt,fe),w=w+Math.imul(St,Ae)|0,S=(S=S+Math.imul(St,oi)|0)+Math.imul(wt,Ae)|0,M=M+Math.imul(wt,oi)|0,w=w+Math.imul(ct,ei)|0,S=(S=S+Math.imul(ct,fi)|0)+Math.imul(mt,ei)|0,M=M+Math.imul(mt,fi)|0,w=w+Math.imul(Ct,ye)|0,S=(S=S+Math.imul(Ct,xe)|0)+Math.imul(tt,ye)|0,M=M+Math.imul(tt,xe)|0,w=w+Math.imul(Rt,Ye)|0,S=(S=S+Math.imul(Rt,Te)|0)+Math.imul(nt,Ye)|0,M=M+Math.imul(nt,Te)|0,w=w+Math.imul(J,he)|0,S=(S=S+Math.imul(J,Lt)|0)+Math.imul(et,he)|0,M=M+Math.imul(et,Lt)|0,w=w+Math.imul(Y,ie)|0,S=(S=S+Math.imul(Y,se)|0)+Math.imul(Z,ie)|0,M=M+Math.imul(Z,se)|0;var Kt=(j+(w=w+Math.imul(q,Ee)|0)|0)+((8191&(S=(S=S+Math.imul(q,ke)|0)+Math.imul(A,Ee)|0))<<13)|0;j=((M=M+Math.imul(A,ke)|0)+(S>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,w=Math.imul(Ut,le),S=(S=Math.imul(Ut,fe))+Math.imul(qt,le)|0,M=Math.imul(qt,fe),w=w+Math.imul(kt,Ae)|0,S=(S=S+Math.imul(kt,oi)|0)+Math.imul(Mt,Ae)|0,M=M+Math.imul(Mt,oi)|0,w=w+Math.imul(St,ei)|0,S=(S=S+Math.imul(St,fi)|0)+Math.imul(wt,ei)|0,M=M+Math.imul(wt,fi)|0,w=w+Math.imul(ct,ye)|0,S=(S=S+Math.imul(ct,xe)|0)+Math.imul(mt,ye)|0,M=M+Math.imul(mt,xe)|0,w=w+Math.imul(Ct,Ye)|0,S=(S=S+Math.imul(Ct,Te)|0)+Math.imul(tt,Ye)|0,M=M+Math.imul(tt,Te)|0,w=w+Math.imul(Rt,he)|0,S=(S=S+Math.imul(Rt,Lt)|0)+Math.imul(nt,he)|0,M=M+Math.imul(nt,Lt)|0,w=w+Math.imul(J,ie)|0,S=(S=S+Math.imul(J,se)|0)+Math.imul(et,ie)|0,M=M+Math.imul(et,se)|0,w=w+Math.imul(Y,Ee)|0,S=(S=S+Math.imul(Y,ke)|0)+Math.imul(Z,Ee)|0,M=M+Math.imul(Z,ke)|0;var oe=(j+(w=w+Math.imul(q,qe)|0)|0)+((8191&(S=(S=S+Math.imul(q,Pe)|0)+Math.imul(A,qe)|0))<<13)|0;j=((M=M+Math.imul(A,Pe)|0)+(S>>>13)|0)+(oe>>>26)|0,oe&=67108863,w=Math.imul(re,le),S=(S=Math.imul(re,fe))+Math.imul(Qt,le)|0,M=Math.imul(Qt,fe),w=w+Math.imul(Ut,Ae)|0,S=(S=S+Math.imul(Ut,oi)|0)+Math.imul(qt,Ae)|0,M=M+Math.imul(qt,oi)|0,w=w+Math.imul(kt,ei)|0,S=(S=S+Math.imul(kt,fi)|0)+Math.imul(Mt,ei)|0,M=M+Math.imul(Mt,fi)|0,w=w+Math.imul(St,ye)|0,S=(S=S+Math.imul(St,xe)|0)+Math.imul(wt,ye)|0,M=M+Math.imul(wt,xe)|0,w=w+Math.imul(ct,Ye)|0,S=(S=S+Math.imul(ct,Te)|0)+Math.imul(mt,Ye)|0,M=M+Math.imul(mt,Te)|0,w=w+Math.imul(Ct,he)|0,S=(S=S+Math.imul(Ct,Lt)|0)+Math.imul(tt,he)|0,M=M+Math.imul(tt,Lt)|0,w=w+Math.imul(Rt,ie)|0,S=(S=S+Math.imul(Rt,se)|0)+Math.imul(nt,ie)|0,M=M+Math.imul(nt,se)|0,w=w+Math.imul(J,Ee)|0,S=(S=S+Math.imul(J,ke)|0)+Math.imul(et,Ee)|0,M=M+Math.imul(et,ke)|0,w=w+Math.imul(Y,qe)|0,S=(S=S+Math.imul(Y,Pe)|0)+Math.imul(Z,qe)|0,M=M+Math.imul(Z,Pe)|0;var ae=(j+(w=w+Math.imul(q,Wi)|0)|0)+((8191&(S=(S=S+Math.imul(q,Ti)|0)+Math.imul(A,Wi)|0))<<13)|0;j=((M=M+Math.imul(A,Ti)|0)+(S>>>13)|0)+(ae>>>26)|0,ae&=67108863,w=Math.imul(re,Ae),S=(S=Math.imul(re,oi))+Math.imul(Qt,Ae)|0,M=Math.imul(Qt,oi),w=w+Math.imul(Ut,ei)|0,S=(S=S+Math.imul(Ut,fi)|0)+Math.imul(qt,ei)|0,M=M+Math.imul(qt,fi)|0,w=w+Math.imul(kt,ye)|0,S=(S=S+Math.imul(kt,xe)|0)+Math.imul(Mt,ye)|0,M=M+Math.imul(Mt,xe)|0,w=w+Math.imul(St,Ye)|0,S=(S=S+Math.imul(St,Te)|0)+Math.imul(wt,Ye)|0,M=M+Math.imul(wt,Te)|0,w=w+Math.imul(ct,he)|0,S=(S=S+Math.imul(ct,Lt)|0)+Math.imul(mt,he)|0,M=M+Math.imul(mt,Lt)|0,w=w+Math.imul(Ct,ie)|0,S=(S=S+Math.imul(Ct,se)|0)+Math.imul(tt,ie)|0,M=M+Math.imul(tt,se)|0,w=w+Math.imul(Rt,Ee)|0,S=(S=S+Math.imul(Rt,ke)|0)+Math.imul(nt,Ee)|0,M=M+Math.imul(nt,ke)|0,w=w+Math.imul(J,qe)|0,S=(S=S+Math.imul(J,Pe)|0)+Math.imul(et,qe)|0,M=M+Math.imul(et,Pe)|0;var Ie=(j+(w=w+Math.imul(Y,Wi)|0)|0)+((8191&(S=(S=S+Math.imul(Y,Ti)|0)+Math.imul(Z,Wi)|0))<<13)|0;j=((M=M+Math.imul(Z,Ti)|0)+(S>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,w=Math.imul(re,ei),S=(S=Math.imul(re,fi))+Math.imul(Qt,ei)|0,M=Math.imul(Qt,fi),w=w+Math.imul(Ut,ye)|0,S=(S=S+Math.imul(Ut,xe)|0)+Math.imul(qt,ye)|0,M=M+Math.imul(qt,xe)|0,w=w+Math.imul(kt,Ye)|0,S=(S=S+Math.imul(kt,Te)|0)+Math.imul(Mt,Ye)|0,M=M+Math.imul(Mt,Te)|0,w=w+Math.imul(St,he)|0,S=(S=S+Math.imul(St,Lt)|0)+Math.imul(wt,he)|0,M=M+Math.imul(wt,Lt)|0,w=w+Math.imul(ct,ie)|0,S=(S=S+Math.imul(ct,se)|0)+Math.imul(mt,ie)|0,M=M+Math.imul(mt,se)|0,w=w+Math.imul(Ct,Ee)|0,S=(S=S+Math.imul(Ct,ke)|0)+Math.imul(tt,Ee)|0,M=M+Math.imul(tt,ke)|0,w=w+Math.imul(Rt,qe)|0,S=(S=S+Math.imul(Rt,Pe)|0)+Math.imul(nt,qe)|0,M=M+Math.imul(nt,Pe)|0;var ci=(j+(w=w+Math.imul(J,Wi)|0)|0)+((8191&(S=(S=S+Math.imul(J,Ti)|0)+Math.imul(et,Wi)|0))<<13)|0;j=((M=M+Math.imul(et,Ti)|0)+(S>>>13)|0)+(ci>>>26)|0,ci&=67108863,w=Math.imul(re,ye),S=(S=Math.imul(re,xe))+Math.imul(Qt,ye)|0,M=Math.imul(Qt,xe),w=w+Math.imul(Ut,Ye)|0,S=(S=S+Math.imul(Ut,Te)|0)+Math.imul(qt,Ye)|0,M=M+Math.imul(qt,Te)|0,w=w+Math.imul(kt,he)|0,S=(S=S+Math.imul(kt,Lt)|0)+Math.imul(Mt,he)|0,M=M+Math.imul(Mt,Lt)|0,w=w+Math.imul(St,ie)|0,S=(S=S+Math.imul(St,se)|0)+Math.imul(wt,ie)|0,M=M+Math.imul(wt,se)|0,w=w+Math.imul(ct,Ee)|0,S=(S=S+Math.imul(ct,ke)|0)+Math.imul(mt,Ee)|0,M=M+Math.imul(mt,ke)|0,w=w+Math.imul(Ct,qe)|0,S=(S=S+Math.imul(Ct,Pe)|0)+Math.imul(tt,qe)|0,M=M+Math.imul(tt,Pe)|0;var si=(j+(w=w+Math.imul(Rt,Wi)|0)|0)+((8191&(S=(S=S+Math.imul(Rt,Ti)|0)+Math.imul(nt,Wi)|0))<<13)|0;j=((M=M+Math.imul(nt,Ti)|0)+(S>>>13)|0)+(si>>>26)|0,si&=67108863,w=Math.imul(re,Ye),S=(S=Math.imul(re,Te))+Math.imul(Qt,Ye)|0,M=Math.imul(Qt,Te),w=w+Math.imul(Ut,he)|0,S=(S=S+Math.imul(Ut,Lt)|0)+Math.imul(qt,he)|0,M=M+Math.imul(qt,Lt)|0,w=w+Math.imul(kt,ie)|0,S=(S=S+Math.imul(kt,se)|0)+Math.imul(Mt,ie)|0,M=M+Math.imul(Mt,se)|0,w=w+Math.imul(St,Ee)|0,S=(S=S+Math.imul(St,ke)|0)+Math.imul(wt,Ee)|0,M=M+Math.imul(wt,ke)|0,w=w+Math.imul(ct,qe)|0,S=(S=S+Math.imul(ct,Pe)|0)+Math.imul(mt,qe)|0,M=M+Math.imul(mt,Pe)|0;var pr=(j+(w=w+Math.imul(Ct,Wi)|0)|0)+((8191&(S=(S=S+Math.imul(Ct,Ti)|0)+Math.imul(tt,Wi)|0))<<13)|0;j=((M=M+Math.imul(tt,Ti)|0)+(S>>>13)|0)+(pr>>>26)|0,pr&=67108863,w=Math.imul(re,he),S=(S=Math.imul(re,Lt))+Math.imul(Qt,he)|0,M=Math.imul(Qt,Lt),w=w+Math.imul(Ut,ie)|0,S=(S=S+Math.imul(Ut,se)|0)+Math.imul(qt,ie)|0,M=M+Math.imul(qt,se)|0,w=w+Math.imul(kt,Ee)|0,S=(S=S+Math.imul(kt,ke)|0)+Math.imul(Mt,Ee)|0,M=M+Math.imul(Mt,ke)|0,w=w+Math.imul(St,qe)|0,S=(S=S+Math.imul(St,Pe)|0)+Math.imul(wt,qe)|0,M=M+Math.imul(wt,Pe)|0;var ji=(j+(w=w+Math.imul(ct,Wi)|0)|0)+((8191&(S=(S=S+Math.imul(ct,Ti)|0)+Math.imul(mt,Wi)|0))<<13)|0;j=((M=M+Math.imul(mt,Ti)|0)+(S>>>13)|0)+(ji>>>26)|0,ji&=67108863,w=Math.imul(re,ie),S=(S=Math.imul(re,se))+Math.imul(Qt,ie)|0,M=Math.imul(Qt,se),w=w+Math.imul(Ut,Ee)|0,S=(S=S+Math.imul(Ut,ke)|0)+Math.imul(qt,Ee)|0,M=M+Math.imul(qt,ke)|0,w=w+Math.imul(kt,qe)|0,S=(S=S+Math.imul(kt,Pe)|0)+Math.imul(Mt,qe)|0,M=M+Math.imul(Mt,Pe)|0;var Oi=(j+(w=w+Math.imul(St,Wi)|0)|0)+((8191&(S=(S=S+Math.imul(St,Ti)|0)+Math.imul(wt,Wi)|0))<<13)|0;j=((M=M+Math.imul(wt,Ti)|0)+(S>>>13)|0)+(Oi>>>26)|0,Oi&=67108863,w=Math.imul(re,Ee),S=(S=Math.imul(re,ke))+Math.imul(Qt,Ee)|0,M=Math.imul(Qt,ke),w=w+Math.imul(Ut,qe)|0,S=(S=S+Math.imul(Ut,Pe)|0)+Math.imul(qt,qe)|0,M=M+Math.imul(qt,Pe)|0;var Li=(j+(w=w+Math.imul(kt,Wi)|0)|0)+((8191&(S=(S=S+Math.imul(kt,Ti)|0)+Math.imul(Mt,Wi)|0))<<13)|0;j=((M=M+Math.imul(Mt,Ti)|0)+(S>>>13)|0)+(Li>>>26)|0,Li&=67108863,w=Math.imul(re,qe),S=(S=Math.imul(re,Pe))+Math.imul(Qt,qe)|0,M=Math.imul(Qt,Pe);var Nn=(j+(w=w+Math.imul(Ut,Wi)|0)|0)+((8191&(S=(S=S+Math.imul(Ut,Ti)|0)+Math.imul(qt,Wi)|0))<<13)|0;j=((M=M+Math.imul(qt,Ti)|0)+(S>>>13)|0)+(Nn>>>26)|0,Nn&=67108863;var nr=(j+(w=Math.imul(re,Wi))|0)+((8191&(S=(S=Math.imul(re,Ti))+Math.imul(Qt,Wi)|0))<<13)|0;return j=((M=Math.imul(Qt,Ti))+(S>>>13)|0)+(nr>>>26)|0,nr&=67108863,T[0]=yr,T[1]=rn,T[2]=nn,T[3]=Yn,T[4]=Tn,T[5]=mo,T[6]=Dt,T[7]=Kt,T[8]=oe,T[9]=ae,T[10]=Ie,T[11]=ci,T[12]=si,T[13]=pr,T[14]=ji,T[15]=Oi,T[16]=Li,T[17]=Nn,T[18]=nr,j!==0&&(T[19]=j,C.length++),C};function E(v,y,C){C.negative=y.negative^v.negative,C.length=v.length+y.length;for(var w=0,S=0,M=0;M<C.length-1;M++){var U=S;S=0;for(var N=67108863&w,T=Math.min(M,y.length-1),j=Math.max(0,M-v.length+1);j<=T;j++){var I=M-j,q=(0|v.words[I])*(0|y.words[j]),A=67108863&q;N=67108863&(A=A+N|0),S+=(U=(U=U+(q/67108864|0)|0)+(A>>>26)|0)>>>26,U&=67108863}C.words[M]=N,w=U,U=S}return w!==0?C.words[M]=w:C.length--,C._strip()}function O(v,y,C){return E(v,y,C)}function V(v,y){this.x=v,this.y=y}Math.imul||(_=b),a.prototype.mulTo=function(v,y){var C=this.length+v.length;return this.length===10&&v.length===10?_(this,v,y):C<63?b(this,v,y):C<1024?E(this,v,y):O(this,v,y)},V.prototype.makeRBT=function(v){for(var y=new Array(v),C=a.prototype._countBits(v)-1,w=0;w<v;w++)y[w]=this.revBin(w,C,v);return y},V.prototype.revBin=function(v,y,C){if(v===0||v===C-1)return v;for(var w=0,S=0;S<y;S++)w|=(1&v)<<y-S-1,v>>=1;return w},V.prototype.permute=function(v,y,C,w,S,M){for(var U=0;U<M;U++)w[U]=y[v[U]],S[U]=C[v[U]]},V.prototype.transform=function(v,y,C,w,S,M){this.permute(M,v,y,C,w,S);for(var U=1;U<S;U<<=1)for(var N=U<<1,T=Math.cos(2*Math.PI/N),j=Math.sin(2*Math.PI/N),I=0;I<S;I+=N)for(var q=T,A=j,k=0;k<U;k++){var Y=C[I+k],Z=w[I+k],lt=C[I+k+U],J=w[I+k+U],et=q*lt-A*J;J=q*J+A*lt,lt=et,C[I+k]=Y+lt,w[I+k]=Z+J,C[I+k+U]=Y-lt,w[I+k+U]=Z-J,k!==N&&(et=T*q-j*A,A=T*A+j*q,q=et)}},V.prototype.guessLen13b=function(v,y){var C=1|Math.max(y,v),w=1&C,S=0;for(C=C/2|0;C;C>>>=1)S++;return 1<<S+1+w},V.prototype.conjugate=function(v,y,C){if(!(C<=1))for(var w=0;w<C/2;w++){var S=v[w];v[w]=v[C-w-1],v[C-w-1]=S,S=y[w],y[w]=-y[C-w-1],y[C-w-1]=-S}},V.prototype.normalize13b=function(v,y){for(var C=0,w=0;w<y/2;w++){var S=8192*Math.round(v[2*w+1]/y)+Math.round(v[2*w]/y)+C;v[w]=67108863&S,C=S<67108864?0:S/67108864|0}return v},V.prototype.convert13b=function(v,y,C,w){for(var S=0,M=0;M<y;M++)S+=0|v[M],C[2*M]=8191&S,S>>>=13,C[2*M+1]=8191&S,S>>>=13;for(M=2*y;M<w;++M)C[M]=0;o(S===0),o((-8192&S)==0)},V.prototype.stub=function(v){for(var y=new Array(v),C=0;C<v;C++)y[C]=0;return y},V.prototype.mulp=function(v,y,C){var w=2*this.guessLen13b(v.length,y.length),S=this.makeRBT(w),M=this.stub(w),U=new Array(w),N=new Array(w),T=new Array(w),j=new Array(w),I=new Array(w),q=new Array(w),A=C.words;A.length=w,this.convert13b(v.words,v.length,U,w),this.convert13b(y.words,y.length,j,w),this.transform(U,M,N,T,w,S),this.transform(j,M,I,q,w,S);for(var k=0;k<w;k++){var Y=N[k]*I[k]-T[k]*q[k];T[k]=N[k]*q[k]+T[k]*I[k],N[k]=Y}return this.conjugate(N,T,w),this.transform(N,T,A,M,w,S),this.conjugate(A,M,w),this.normalize13b(A,w),C.negative=v.negative^y.negative,C.length=v.length+y.length,C._strip()},a.prototype.mul=function(v){var y=new a(null);return y.words=new Array(this.length+v.length),this.mulTo(v,y)},a.prototype.mulf=function(v){var y=new a(null);return y.words=new Array(this.length+v.length),O(this,v,y)},a.prototype.imul=function(v){return this.clone().mulTo(v,this)},a.prototype.imuln=function(v){var y=v<0;y&&(v=-v),o(typeof v=="number"),o(v<67108864);for(var C=0,w=0;w<this.length;w++){var S=(0|this.words[w])*v,M=(67108863&S)+(67108863&C);C>>=26,C+=S/67108864|0,C+=M>>>26,this.words[w]=67108863&M}return C!==0&&(this.words[w]=C,this.length++),y?this.ineg():this},a.prototype.muln=function(v){return this.clone().imuln(v)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(v){var y=function(M){for(var U=new Array(M.bitLength()),N=0;N<U.length;N++){var T=N/26|0,j=N%26;U[N]=M.words[T]>>>j&1}return U}(v);if(y.length===0)return new a(1);for(var C=this,w=0;w<y.length&&y[w]===0;w++,C=C.sqr());if(++w<y.length)for(var S=C.sqr();w<y.length;w++,S=S.sqr())y[w]!==0&&(C=C.mul(S));return C},a.prototype.iushln=function(v){o(typeof v=="number"&&v>=0);var y,C=v%26,w=(v-C)/26,S=67108863>>>26-C<<26-C;if(C!==0){var M=0;for(y=0;y<this.length;y++){var U=this.words[y]&S,N=(0|this.words[y])-U<<C;this.words[y]=N|M,M=U>>>26-C}M&&(this.words[y]=M,this.length++)}if(w!==0){for(y=this.length-1;y>=0;y--)this.words[y+w]=this.words[y];for(y=0;y<w;y++)this.words[y]=0;this.length+=w}return this._strip()},a.prototype.ishln=function(v){return o(this.negative===0),this.iushln(v)},a.prototype.iushrn=function(v,y,C){var w;o(typeof v=="number"&&v>=0),w=y?(y-y%26)/26:0;var S=v%26,M=Math.min((v-S)/26,this.length),U=67108863^67108863>>>S<<S,N=C;if(w-=M,w=Math.max(0,w),N){for(var T=0;T<M;T++)N.words[T]=this.words[T];N.length=M}if(M!==0)if(this.length>M)for(this.length-=M,T=0;T<this.length;T++)this.words[T]=this.words[T+M];else this.words[0]=0,this.length=1;var j=0;for(T=this.length-1;T>=0&&(j!==0||T>=w);T--){var I=0|this.words[T];this.words[T]=j<<26-S|I>>>S,j=I&U}return N&&j!==0&&(N.words[N.length++]=j),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},a.prototype.ishrn=function(v,y,C){return o(this.negative===0),this.iushrn(v,y,C)},a.prototype.shln=function(v){return this.clone().ishln(v)},a.prototype.ushln=function(v){return this.clone().iushln(v)},a.prototype.shrn=function(v){return this.clone().ishrn(v)},a.prototype.ushrn=function(v){return this.clone().iushrn(v)},a.prototype.testn=function(v){o(typeof v=="number"&&v>=0);var y=v%26,C=(v-y)/26,w=1<<y;return!(this.length<=C)&&!!(this.words[C]&w)},a.prototype.imaskn=function(v){o(typeof v=="number"&&v>=0);var y=v%26,C=(v-y)/26;if(o(this.negative===0,"imaskn works only with positive numbers"),this.length<=C)return this;if(y!==0&&C++,this.length=Math.min(C,this.length),y!==0){var w=67108863^67108863>>>y<<y;this.words[this.length-1]&=w}return this._strip()},a.prototype.maskn=function(v){return this.clone().imaskn(v)},a.prototype.iaddn=function(v){return o(typeof v=="number"),o(v<67108864),v<0?this.isubn(-v):this.negative!==0?this.length===1&&(0|this.words[0])<=v?(this.words[0]=v-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(v),this.negative=1,this):this._iaddn(v)},a.prototype._iaddn=function(v){this.words[0]+=v;for(var y=0;y<this.length&&this.words[y]>=67108864;y++)this.words[y]-=67108864,y===this.length-1?this.words[y+1]=1:this.words[y+1]++;return this.length=Math.max(this.length,y+1),this},a.prototype.isubn=function(v){if(o(typeof v=="number"),o(v<67108864),v<0)return this.iaddn(-v);if(this.negative!==0)return this.negative=0,this.iaddn(v),this.negative=1,this;if(this.words[0]-=v,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var y=0;y<this.length&&this.words[y]<0;y++)this.words[y]+=67108864,this.words[y+1]-=1;return this._strip()},a.prototype.addn=function(v){return this.clone().iaddn(v)},a.prototype.subn=function(v){return this.clone().isubn(v)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(v,y,C){var w,S,M=v.length+C;this._expand(M);var U=0;for(w=0;w<v.length;w++){S=(0|this.words[w+C])+U;var N=(0|v.words[w])*y;U=((S-=67108863&N)>>26)-(N/67108864|0),this.words[w+C]=67108863&S}for(;w<this.length-C;w++)U=(S=(0|this.words[w+C])+U)>>26,this.words[w+C]=67108863&S;if(U===0)return this._strip();for(o(U===-1),U=0,w=0;w<this.length;w++)U=(S=-(0|this.words[w])+U)>>26,this.words[w]=67108863&S;return this.negative=1,this._strip()},a.prototype._wordDiv=function(v,y){var C=(this.length,v.length),w=this.clone(),S=v,M=0|S.words[S.length-1];(C=26-this._countBits(M))!==0&&(S=S.ushln(C),w.iushln(C),M=0|S.words[S.length-1]);var U,N=w.length-S.length;if(y!=="mod"){(U=new a(null)).length=N+1,U.words=new Array(U.length);for(var T=0;T<U.length;T++)U.words[T]=0}var j=w.clone()._ishlnsubmul(S,1,N);j.negative===0&&(w=j,U&&(U.words[N]=1));for(var I=N-1;I>=0;I--){var q=67108864*(0|w.words[S.length+I])+(0|w.words[S.length+I-1]);for(q=Math.min(q/M|0,67108863),w._ishlnsubmul(S,q,I);w.negative!==0;)q--,w.negative=0,w._ishlnsubmul(S,1,I),w.isZero()||(w.negative^=1);U&&(U.words[I]=q)}return U&&U._strip(),w._strip(),y!=="div"&&C!==0&&w.iushrn(C),{div:U||null,mod:w}},a.prototype.divmod=function(v,y,C){return o(!v.isZero()),this.isZero()?{div:new a(0),mod:new a(0)}:this.negative!==0&&v.negative===0?(M=this.neg().divmod(v,y),y!=="mod"&&(w=M.div.neg()),y!=="div"&&(S=M.mod.neg(),C&&S.negative!==0&&S.iadd(v)),{div:w,mod:S}):this.negative===0&&v.negative!==0?(M=this.divmod(v.neg(),y),y!=="mod"&&(w=M.div.neg()),{div:w,mod:M.mod}):this.negative&v.negative?(M=this.neg().divmod(v.neg(),y),y!=="div"&&(S=M.mod.neg(),C&&S.negative!==0&&S.isub(v)),{div:M.div,mod:S}):v.length>this.length||this.cmp(v)<0?{div:new a(0),mod:this}:v.length===1?y==="div"?{div:this.divn(v.words[0]),mod:null}:y==="mod"?{div:null,mod:new a(this.modrn(v.words[0]))}:{div:this.divn(v.words[0]),mod:new a(this.modrn(v.words[0]))}:this._wordDiv(v,y);var w,S,M},a.prototype.div=function(v){return this.divmod(v,"div",!1).div},a.prototype.mod=function(v){return this.divmod(v,"mod",!1).mod},a.prototype.umod=function(v){return this.divmod(v,"mod",!0).mod},a.prototype.divRound=function(v){var y=this.divmod(v);if(y.mod.isZero())return y.div;var C=y.div.negative!==0?y.mod.isub(v):y.mod,w=v.ushrn(1),S=v.andln(1),M=C.cmp(w);return M<0||S===1&&M===0?y.div:y.div.negative!==0?y.div.isubn(1):y.div.iaddn(1)},a.prototype.modrn=function(v){var y=v<0;y&&(v=-v),o(v<=67108863);for(var C=(1<<26)%v,w=0,S=this.length-1;S>=0;S--)w=(C*w+(0|this.words[S]))%v;return y?-w:w},a.prototype.modn=function(v){return this.modrn(v)},a.prototype.idivn=function(v){var y=v<0;y&&(v=-v),o(v<=67108863);for(var C=0,w=this.length-1;w>=0;w--){var S=(0|this.words[w])+67108864*C;this.words[w]=S/v|0,C=S%v}return this._strip(),y?this.ineg():this},a.prototype.divn=function(v){return this.clone().idivn(v)},a.prototype.egcd=function(v){o(v.negative===0),o(!v.isZero());var y=this,C=v.clone();y=y.negative!==0?y.umod(v):y.clone();for(var w=new a(1),S=new a(0),M=new a(0),U=new a(1),N=0;y.isEven()&&C.isEven();)y.iushrn(1),C.iushrn(1),++N;for(var T=C.clone(),j=y.clone();!y.isZero();){for(var I=0,q=1;!(y.words[0]&q)&&I<26;++I,q<<=1);if(I>0)for(y.iushrn(I);I-- >0;)(w.isOdd()||S.isOdd())&&(w.iadd(T),S.isub(j)),w.iushrn(1),S.iushrn(1);for(var A=0,k=1;!(C.words[0]&k)&&A<26;++A,k<<=1);if(A>0)for(C.iushrn(A);A-- >0;)(M.isOdd()||U.isOdd())&&(M.iadd(T),U.isub(j)),M.iushrn(1),U.iushrn(1);y.cmp(C)>=0?(y.isub(C),w.isub(M),S.isub(U)):(C.isub(y),M.isub(w),U.isub(S))}return{a:M,b:U,gcd:C.iushln(N)}},a.prototype._invmp=function(v){o(v.negative===0),o(!v.isZero());var y=this,C=v.clone();y=y.negative!==0?y.umod(v):y.clone();for(var w,S=new a(1),M=new a(0),U=C.clone();y.cmpn(1)>0&&C.cmpn(1)>0;){for(var N=0,T=1;!(y.words[0]&T)&&N<26;++N,T<<=1);if(N>0)for(y.iushrn(N);N-- >0;)S.isOdd()&&S.iadd(U),S.iushrn(1);for(var j=0,I=1;!(C.words[0]&I)&&j<26;++j,I<<=1);if(j>0)for(C.iushrn(j);j-- >0;)M.isOdd()&&M.iadd(U),M.iushrn(1);y.cmp(C)>=0?(y.isub(C),S.isub(M)):(C.isub(y),M.isub(S))}return(w=y.cmpn(1)===0?S:M).cmpn(0)<0&&w.iadd(v),w},a.prototype.gcd=function(v){if(this.isZero())return v.abs();if(v.isZero())return this.abs();var y=this.clone(),C=v.clone();y.negative=0,C.negative=0;for(var w=0;y.isEven()&&C.isEven();w++)y.iushrn(1),C.iushrn(1);for(;;){for(;y.isEven();)y.iushrn(1);for(;C.isEven();)C.iushrn(1);var S=y.cmp(C);if(S<0){var M=y;y=C,C=M}else if(S===0||C.cmpn(1)===0)break;y.isub(C)}return C.iushln(w)},a.prototype.invm=function(v){return this.egcd(v).a.umod(v)},a.prototype.isEven=function(){return(1&this.words[0])==0},a.prototype.isOdd=function(){return(1&this.words[0])==1},a.prototype.andln=function(v){return this.words[0]&v},a.prototype.bincn=function(v){o(typeof v=="number");var y=v%26,C=(v-y)/26,w=1<<y;if(this.length<=C)return this._expand(C+1),this.words[C]|=w,this;for(var S=w,M=C;S!==0&&M<this.length;M++){var U=0|this.words[M];S=(U+=S)>>>26,U&=67108863,this.words[M]=U}return S!==0&&(this.words[M]=S,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(v){var y,C=v<0;if(this.negative!==0&&!C)return-1;if(this.negative===0&&C)return 1;if(this._strip(),this.length>1)y=1;else{C&&(v=-v),o(v<=67108863,"Number is too big");var w=0|this.words[0];y=w===v?0:w<v?-1:1}return this.negative!==0?0|-y:y},a.prototype.cmp=function(v){if(this.negative!==0&&v.negative===0)return-1;if(this.negative===0&&v.negative!==0)return 1;var y=this.ucmp(v);return this.negative!==0?0|-y:y},a.prototype.ucmp=function(v){if(this.length>v.length)return 1;if(this.length<v.length)return-1;for(var y=0,C=this.length-1;C>=0;C--){var w=0|this.words[C],S=0|v.words[C];if(w!==S){w<S?y=-1:w>S&&(y=1);break}}return y},a.prototype.gtn=function(v){return this.cmpn(v)===1},a.prototype.gt=function(v){return this.cmp(v)===1},a.prototype.gten=function(v){return this.cmpn(v)>=0},a.prototype.gte=function(v){return this.cmp(v)>=0},a.prototype.ltn=function(v){return this.cmpn(v)===-1},a.prototype.lt=function(v){return this.cmp(v)===-1},a.prototype.lten=function(v){return this.cmpn(v)<=0},a.prototype.lte=function(v){return this.cmp(v)<=0},a.prototype.eqn=function(v){return this.cmpn(v)===0},a.prototype.eq=function(v){return this.cmp(v)===0},a.red=function(v){return new R(v)},a.prototype.toRed=function(v){return o(!this.red,"Already a number in reduction context"),o(this.negative===0,"red works only with positives"),v.convertTo(this)._forceRed(v)},a.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(v){return this.red=v,this},a.prototype.forceRed=function(v){return o(!this.red,"Already a number in reduction context"),this._forceRed(v)},a.prototype.redAdd=function(v){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,v)},a.prototype.redIAdd=function(v){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,v)},a.prototype.redSub=function(v){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,v)},a.prototype.redISub=function(v){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,v)},a.prototype.redShl=function(v){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,v)},a.prototype.redMul=function(v){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,v),this.red.mul(this,v)},a.prototype.redIMul=function(v){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,v),this.red.imul(this,v)},a.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(v){return o(this.red&&!v.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,v)};var H={k256:null,p224:null,p192:null,p25519:null};function F(v,y){this.name=v,this.p=new a(y,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function L(){F.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function $(){F.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function W(){F.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function x(){F.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function R(v){if(typeof v=="string"){var y=a._prime(v);this.m=y.p,this.prime=y}else o(v.gtn(1),"modulus must be greater than 1"),this.m=v,this.prime=null}function B(v){R.call(this,v),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}F.prototype._tmp=function(){var v=new a(null);return v.words=new Array(Math.ceil(this.n/13)),v},F.prototype.ireduce=function(v){var y,C=v;do this.split(C,this.tmp),y=(C=(C=this.imulK(C)).iadd(this.tmp)).bitLength();while(y>this.n);var w=y<this.n?-1:C.ucmp(this.p);return w===0?(C.words[0]=0,C.length=1):w>0?C.isub(this.p):C.strip!==void 0?C.strip():C._strip(),C},F.prototype.split=function(v,y){v.iushrn(this.n,0,y)},F.prototype.imulK=function(v){return v.imul(this.k)},s(L,F),L.prototype.split=function(v,y){for(var C=Math.min(v.length,9),w=0;w<C;w++)y.words[w]=v.words[w];if(y.length=C,v.length<=9)return v.words[0]=0,void(v.length=1);var S=v.words[9];for(y.words[y.length++]=4194303&S,w=10;w<v.length;w++){var M=0|v.words[w];v.words[w-10]=(4194303&M)<<4|S>>>22,S=M}S>>>=22,v.words[w-10]=S,S===0&&v.length>10?v.length-=10:v.length-=9},L.prototype.imulK=function(v){v.words[v.length]=0,v.words[v.length+1]=0,v.length+=2;for(var y=0,C=0;C<v.length;C++){var w=0|v.words[C];y+=977*w,v.words[C]=67108863&y,y=64*w+(y/67108864|0)}return v.words[v.length-1]===0&&(v.length--,v.words[v.length-1]===0&&v.length--),v},s($,F),s(W,F),s(x,F),x.prototype.imulK=function(v){for(var y=0,C=0;C<v.length;C++){var w=19*(0|v.words[C])+y,S=67108863&w;w>>>=26,v.words[C]=S,y=w}return y!==0&&(v.words[v.length++]=y),v},a._prime=function(v){if(H[v])return H[v];var y;if(v==="k256")y=new L;else if(v==="p224")y=new $;else if(v==="p192")y=new W;else{if(v!=="p25519")throw new Error("Unknown prime "+v);y=new x}return H[v]=y,y},R.prototype._verify1=function(v){o(v.negative===0,"red works only with positives"),o(v.red,"red works only with red numbers")},R.prototype._verify2=function(v,y){o((v.negative|y.negative)==0,"red works only with positives"),o(v.red&&v.red===y.red,"red works only with red numbers")},R.prototype.imod=function(v){return this.prime?this.prime.ireduce(v)._forceRed(this):(h(v,v.umod(this.m)._forceRed(this)),v)},R.prototype.neg=function(v){return v.isZero()?v.clone():this.m.sub(v)._forceRed(this)},R.prototype.add=function(v,y){this._verify2(v,y);var C=v.add(y);return C.cmp(this.m)>=0&&C.isub(this.m),C._forceRed(this)},R.prototype.iadd=function(v,y){this._verify2(v,y);var C=v.iadd(y);return C.cmp(this.m)>=0&&C.isub(this.m),C},R.prototype.sub=function(v,y){this._verify2(v,y);var C=v.sub(y);return C.cmpn(0)<0&&C.iadd(this.m),C._forceRed(this)},R.prototype.isub=function(v,y){this._verify2(v,y);var C=v.isub(y);return C.cmpn(0)<0&&C.iadd(this.m),C},R.prototype.shl=function(v,y){return this._verify1(v),this.imod(v.ushln(y))},R.prototype.imul=function(v,y){return this._verify2(v,y),this.imod(v.imul(y))},R.prototype.mul=function(v,y){return this._verify2(v,y),this.imod(v.mul(y))},R.prototype.isqr=function(v){return this.imul(v,v.clone())},R.prototype.sqr=function(v){return this.mul(v,v)},R.prototype.sqrt=function(v){if(v.isZero())return v.clone();var y=this.m.andln(3);if(o(y%2==1),y===3){var C=this.m.add(new a(1)).iushrn(2);return this.pow(v,C)}for(var w=this.m.subn(1),S=0;!w.isZero()&&w.andln(1)===0;)S++,w.iushrn(1);o(!w.isZero());var M=new a(1).toRed(this),U=M.redNeg(),N=this.m.subn(1).iushrn(1),T=this.m.bitLength();for(T=new a(2*T*T).toRed(this);this.pow(T,N).cmp(U)!==0;)T.redIAdd(U);for(var j=this.pow(T,w),I=this.pow(v,w.addn(1).iushrn(1)),q=this.pow(v,w),A=S;q.cmp(M)!==0;){for(var k=q,Y=0;k.cmp(M)!==0;Y++)k=k.redSqr();o(Y<A);var Z=this.pow(j,new a(1).iushln(A-Y-1));I=I.redMul(Z),j=Z.redSqr(),q=q.redMul(j),A=Y}return I},R.prototype.invm=function(v){var y=v._invmp(this.m);return y.negative!==0?(y.negative=0,this.imod(y).redNeg()):this.imod(y)},R.prototype.pow=function(v,y){if(y.isZero())return new a(1).toRed(this);if(y.cmpn(1)===0)return v.clone();var C=new Array(16);C[0]=new a(1).toRed(this),C[1]=v;for(var w=2;w<C.length;w++)C[w]=this.mul(C[w-1],v);var S=C[0],M=0,U=0,N=y.bitLength()%26;for(N===0&&(N=26),w=y.length-1;w>=0;w--){for(var T=y.words[w],j=N-1;j>=0;j--){var I=T>>j&1;S!==C[0]&&(S=this.sqr(S)),I!==0||M!==0?(M<<=1,M|=I,(++U===4||w===0&&j===0)&&(S=this.mul(S,C[M]),U=0,M=0)):U=0}N=26}return S},R.prototype.convertTo=function(v){var y=v.umod(this.m);return y===v?y.clone():y},R.prototype.convertFrom=function(v){var y=v.clone();return y.red=null,y},a.mont=function(v){return new B(v)},s(B,R),B.prototype.convertTo=function(v){return this.imod(v.ushln(this.shift))},B.prototype.convertFrom=function(v){var y=this.imod(v.mul(this.rinv));return y.red=null,y},B.prototype.imul=function(v,y){if(v.isZero()||y.isZero())return v.words[0]=0,v.length=1,v;var C=v.imul(y),w=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=C.isub(w).iushrn(this.shift),M=S;return S.cmp(this.m)>=0?M=S.isub(this.m):S.cmpn(0)<0&&(M=S.iadd(this.m)),M._forceRed(this)},B.prototype.mul=function(v,y){if(v.isZero()||y.isZero())return new a(0)._forceRed(this);var C=v.mul(y),w=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=C.isub(w).iushrn(this.shift),M=S;return S.cmp(this.m)>=0?M=S.isub(this.m):S.cmpn(0)<0&&(M=S.iadd(this.m)),M._forceRed(this)},B.prototype.invm=function(v){return this.imod(v._invmp(this.m).mul(this.r2))._forceRed(this)}})(t===void 0||t)},{buffer:188}],187:[function(e,t,r){"use strict";var i;function n(s){this.rand=s}if(t.exports=function(s){return i||(i=new n(null)),i.generate(s)},t.exports.Rand=n,n.prototype.generate=function(s){return this._rand(s)},n.prototype._rand=function(s){if(this.rand.getBytes)return this.rand.getBytes(s);for(var a=new Uint8Array(s),l=0;l<a.length;l++)a[l]=this.rand.getByte();return a},typeof self=="object")self.crypto&&self.crypto.getRandomValues?n.prototype._rand=function(s){var a=new Uint8Array(s);return self.crypto.getRandomValues(a),a}:self.msCrypto&&self.msCrypto.getRandomValues?n.prototype._rand=function(s){var a=new Uint8Array(s);return self.msCrypto.getRandomValues(a),a}:typeof window=="object"&&(n.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=e("crypto");if(typeof o.randomBytes!="function")throw new Error("Not supported");n.prototype._rand=function(s){return o.randomBytes(s)}}catch{}},{crypto:188}],188:[function(e,t,r){},{}],189:[function(e,t,r){"use strict";var i=e("safe-buffer").Buffer;function n(d){i.isBuffer(d)||(d=i.from(d));for(var u=d.length/4|0,h=new Array(u),f=0;f<u;f++)h[f]=d.readUInt32BE(4*f);return h}function o(d){for(;0<d.length;d++)d[0]=0}function s(d,u,h,f,m){for(var g,p,b,_,E=h[0],O=h[1],V=h[2],H=h[3],F=d[0]^u[0],L=d[1]^u[1],$=d[2]^u[2],W=d[3]^u[3],x=4,R=1;R<m;R++)g=E[F>>>24]^O[L>>>16&255]^V[$>>>8&255]^H[255&W]^u[x++],p=E[L>>>24]^O[$>>>16&255]^V[W>>>8&255]^H[255&F]^u[x++],b=E[$>>>24]^O[W>>>16&255]^V[F>>>8&255]^H[255&L]^u[x++],_=E[W>>>24]^O[F>>>16&255]^V[L>>>8&255]^H[255&$]^u[x++],F=g,L=p,$=b,W=_;return g=(f[F>>>24]<<24|f[L>>>16&255]<<16|f[$>>>8&255]<<8|f[255&W])^u[x++],p=(f[L>>>24]<<24|f[$>>>16&255]<<16|f[W>>>8&255]<<8|f[255&F])^u[x++],b=(f[$>>>24]<<24|f[W>>>16&255]<<16|f[F>>>8&255]<<8|f[255&L])^u[x++],_=(f[W>>>24]<<24|f[F>>>16&255]<<16|f[L>>>8&255]<<8|f[255&$])^u[x++],[g>>>=0,p>>>=0,b>>>=0,_>>>=0]}var a=[0,1,2,4,8,16,32,64,128,27,54],l=function(){for(var d=new Array(256),u=0;u<256;u++)d[u]=u<128?u<<1:u<<1^283;for(var h=[],f=[],m=[[],[],[],[]],g=[[],[],[],[]],p=0,b=0,_=0;_<256;++_){var E=b^b<<1^b<<2^b<<3^b<<4;E=E>>>8^255&E^99,h[p]=E,f[E]=p;var O=d[p],V=d[O],H=d[V],F=257*d[E]^16843008*E;m[0][p]=F<<24|F>>>8,m[1][p]=F<<16|F>>>16,m[2][p]=F<<8|F>>>24,m[3][p]=F,F=16843009*H^65537*V^257*O^16843008*p,g[0][E]=F<<24|F>>>8,g[1][E]=F<<16|F>>>16,g[2][E]=F<<8|F>>>24,g[3][E]=F,p===0?p=b=1:(p=O^d[d[d[H^O]]],b^=d[d[b]])}return{SBOX:h,INV_SBOX:f,SUB_MIX:m,INV_SUB_MIX:g}}();function c(d){this._key=n(d),this._reset()}c.blockSize=16,c.keySize=32,c.prototype.blockSize=c.blockSize,c.prototype.keySize=c.keySize,c.prototype._reset=function(){for(var d=this._key,u=d.length,h=u+6,f=4*(h+1),m=[],g=0;g<u;g++)m[g]=d[g];for(g=u;g<f;g++){var p=m[g-1];g%u==0?(p=p<<8|p>>>24,p=l.SBOX[p>>>24]<<24|l.SBOX[p>>>16&255]<<16|l.SBOX[p>>>8&255]<<8|l.SBOX[255&p],p^=a[g/u|0]<<24):u>6&&g%u==4&&(p=l.SBOX[p>>>24]<<24|l.SBOX[p>>>16&255]<<16|l.SBOX[p>>>8&255]<<8|l.SBOX[255&p]),m[g]=m[g-u]^p}for(var b=[],_=0;_<f;_++){var E=f-_,O=m[E-(_%4?0:4)];b[_]=_<4||E<=4?O:l.INV_SUB_MIX[0][l.SBOX[O>>>24]]^l.INV_SUB_MIX[1][l.SBOX[O>>>16&255]]^l.INV_SUB_MIX[2][l.SBOX[O>>>8&255]]^l.INV_SUB_MIX[3][l.SBOX[255&O]]}this._nRounds=h,this._keySchedule=m,this._invKeySchedule=b},c.prototype.encryptBlockRaw=function(d){return s(d=n(d),this._keySchedule,l.SUB_MIX,l.SBOX,this._nRounds)},c.prototype.encryptBlock=function(d){var u=this.encryptBlockRaw(d),h=i.allocUnsafe(16);return h.writeUInt32BE(u[0],0),h.writeUInt32BE(u[1],4),h.writeUInt32BE(u[2],8),h.writeUInt32BE(u[3],12),h},c.prototype.decryptBlock=function(d){var u=(d=n(d))[1];d[1]=d[3],d[3]=u;var h=s(d,this._invKeySchedule,l.INV_SUB_MIX,l.INV_SBOX,this._nRounds),f=i.allocUnsafe(16);return f.writeUInt32BE(h[0],0),f.writeUInt32BE(h[3],4),f.writeUInt32BE(h[2],8),f.writeUInt32BE(h[1],12),f},c.prototype.scrub=function(){o(this._keySchedule),o(this._invKeySchedule),o(this._key)},t.exports.AES=c},{"safe-buffer":494}],190:[function(e,t,r){"use strict";var i=e("./aes"),n=e("safe-buffer").Buffer,o=e("cipher-base"),s=e("inherits"),a=e("./ghash"),l=e("buffer-xor"),c=e("./incr32");function d(u,h,f,m){o.call(this);var g=n.alloc(4,0);this._cipher=new i.AES(h);var p=this._cipher.encryptBlock(g);this._ghash=new a(p),f=function(b,_,E){if(_.length===12)return b._finID=n.concat([_,n.from([0,0,0,1])]),n.concat([_,n.from([0,0,0,2])]);var O=new a(E),V=_.length,H=V%16;O.update(_),H&&(H=16-H,O.update(n.alloc(H,0))),O.update(n.alloc(8,0));var F=8*V,L=n.alloc(8);L.writeUIntBE(F,0,8),O.update(L),b._finID=O.state;var $=n.from(b._finID);return c($),$}(this,f,p),this._prev=n.from(f),this._cache=n.allocUnsafe(0),this._secCache=n.allocUnsafe(0),this._decrypt=m,this._alen=0,this._len=0,this._mode=u,this._authTag=null,this._called=!1}s(d,o),d.prototype._update=function(u){if(!this._called&&this._alen){var h=16-this._alen%16;h<16&&(h=n.alloc(h,0),this._ghash.update(h))}this._called=!0;var f=this._mode.encrypt(this,u);return this._decrypt?this._ghash.update(u):this._ghash.update(f),this._len+=u.length,f},d.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var u=l(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(h,f){var m=0;h.length!==f.length&&m++;for(var g=Math.min(h.length,f.length),p=0;p<g;++p)m+=h[p]^f[p];return m}(u,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=u,this._cipher.scrub()},d.prototype.getAuthTag=function(){if(this._decrypt||!n.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},d.prototype.setAuthTag=function(u){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=u},d.prototype.setAAD=function(u){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(u),this._alen+=u.length},t.exports=d},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(e,t,r){"use strict";var i=e("./encrypter"),n=e("./decrypter"),o=e("./modes/list.json");r.createCipher=r.Cipher=i.createCipher,r.createCipheriv=r.Cipheriv=i.createCipheriv,r.createDecipher=r.Decipher=n.createDecipher,r.createDecipheriv=r.Decipheriv=n.createDecipheriv,r.listCiphers=r.getCiphers=function(){return Object.keys(o)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(e,t,r){"use strict";var i=e("./authCipher"),n=e("safe-buffer").Buffer,o=e("./modes"),s=e("./streamCipher"),a=e("cipher-base"),l=e("./aes"),c=e("evp_bytestokey");function d(f,m,g){a.call(this),this._cache=new u,this._last=void 0,this._cipher=new l.AES(m),this._prev=n.from(g),this._mode=f,this._autopadding=!0}function u(){this.cache=n.allocUnsafe(0)}function h(f,m,g){var p=o[f.toLowerCase()];if(!p)throw new TypeError("invalid suite type");if(typeof g=="string"&&(g=n.from(g)),p.mode!=="GCM"&&g.length!==p.iv)throw new TypeError("invalid iv length "+g.length);if(typeof m=="string"&&(m=n.from(m)),m.length!==p.key/8)throw new TypeError("invalid key length "+m.length);return p.type==="stream"?new s(p.module,m,g,!0):p.type==="auth"?new i(p.module,m,g,!0):new d(p.module,m,g)}e("inherits")(d,a),d.prototype._update=function(f){var m,g;this._cache.add(f);for(var p=[];m=this._cache.get(this._autopadding);)g=this._mode.decrypt(this,m),p.push(g);return n.concat(p)},d.prototype._final=function(){var f=this._cache.flush();if(this._autopadding)return function(m){var g=m[15];if(g<1||g>16)throw new Error("unable to decrypt data");for(var p=-1;++p<g;)if(m[p+(16-g)]!==g)throw new Error("unable to decrypt data");if(g!==16)return m.slice(0,16-g)}(this._mode.decrypt(this,f));if(f)throw new Error("data not multiple of block length")},d.prototype.setAutoPadding=function(f){return this._autopadding=!!f,this},u.prototype.add=function(f){this.cache=n.concat([this.cache,f])},u.prototype.get=function(f){var m;if(f){if(this.cache.length>16)return m=this.cache.slice(0,16),this.cache=this.cache.slice(16),m}else if(this.cache.length>=16)return m=this.cache.slice(0,16),this.cache=this.cache.slice(16),m;return null},u.prototype.flush=function(){if(this.cache.length)return this.cache},r.createDecipher=function(f,m){var g=o[f.toLowerCase()];if(!g)throw new TypeError("invalid suite type");var p=c(m,!1,g.key,g.iv);return h(f,p.key,p.iv)},r.createDecipheriv=h},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(e,t,r){"use strict";var i=e("./modes"),n=e("./authCipher"),o=e("safe-buffer").Buffer,s=e("./streamCipher"),a=e("cipher-base"),l=e("./aes"),c=e("evp_bytestokey");function d(m,g,p){a.call(this),this._cache=new h,this._cipher=new l.AES(g),this._prev=o.from(p),this._mode=m,this._autopadding=!0}e("inherits")(d,a),d.prototype._update=function(m){var g,p;this._cache.add(m);for(var b=[];g=this._cache.get();)p=this._mode.encrypt(this,g),b.push(p);return o.concat(b)};var u=o.alloc(16,16);function h(){this.cache=o.allocUnsafe(0)}function f(m,g,p){var b=i[m.toLowerCase()];if(!b)throw new TypeError("invalid suite type");if(typeof g=="string"&&(g=o.from(g)),g.length!==b.key/8)throw new TypeError("invalid key length "+g.length);if(typeof p=="string"&&(p=o.from(p)),b.mode!=="GCM"&&p.length!==b.iv)throw new TypeError("invalid iv length "+p.length);return b.type==="stream"?new s(b.module,g,p):b.type==="auth"?new n(b.module,g,p):new d(b.module,g,p)}d.prototype._final=function(){var m=this._cache.flush();if(this._autopadding)return m=this._mode.encrypt(this,m),this._cipher.scrub(),m;if(!m.equals(u))throw this._cipher.scrub(),new Error("data not multiple of block length")},d.prototype.setAutoPadding=function(m){return this._autopadding=!!m,this},h.prototype.add=function(m){this.cache=o.concat([this.cache,m])},h.prototype.get=function(){if(this.cache.length>15){var m=this.cache.slice(0,16);return this.cache=this.cache.slice(16),m}return null},h.prototype.flush=function(){for(var m=16-this.cache.length,g=o.allocUnsafe(m),p=-1;++p<m;)g.writeUInt8(m,p);return o.concat([this.cache,g])},r.createCipheriv=f,r.createCipher=function(m,g){var p=i[m.toLowerCase()];if(!p)throw new TypeError("invalid suite type");var b=c(g,!1,p.key,p.iv);return f(m,b.key,b.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(e,t,r){"use strict";var i=e("safe-buffer").Buffer,n=i.alloc(16,0);function o(a){var l=i.allocUnsafe(16);return l.writeUInt32BE(a[0]>>>0,0),l.writeUInt32BE(a[1]>>>0,4),l.writeUInt32BE(a[2]>>>0,8),l.writeUInt32BE(a[3]>>>0,12),l}function s(a){this.h=a,this.state=i.alloc(16,0),this.cache=i.allocUnsafe(0)}s.prototype.ghash=function(a){for(var l=-1;++l<a.length;)this.state[l]^=a[l];this._multiply()},s.prototype._multiply=function(){for(var a,l,c,d=[(a=this.h).readUInt32BE(0),a.readUInt32BE(4),a.readUInt32BE(8),a.readUInt32BE(12)],u=[0,0,0,0],h=-1;++h<128;){for(this.state[~~(h/8)]&1<<7-h%8&&(u[0]^=d[0],u[1]^=d[1],u[2]^=d[2],u[3]^=d[3]),c=(1&d[3])!=0,l=3;l>0;l--)d[l]=d[l]>>>1|(1&d[l-1])<<31;d[0]=d[0]>>>1,c&&(d[0]=d[0]^225<<24)}this.state=o(u)},s.prototype.update=function(a){var l;for(this.cache=i.concat([this.cache,a]);this.cache.length>=16;)l=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(l)},s.prototype.final=function(a,l){return this.cache.length&&this.ghash(i.concat([this.cache,n],16)),this.ghash(o([0,a,0,l])),this.state},t.exports=s},{"safe-buffer":494}],195:[function(e,t,r){"use strict";t.exports=function(i){for(var n,o=i.length;o--;){if((n=i.readUInt8(o))!==255){n++,i.writeUInt8(n,o);break}i.writeUInt8(0,o)}}},{}],196:[function(e,t,r){"use strict";var i=e("buffer-xor");r.encrypt=function(n,o){var s=i(o,n._prev);return n._prev=n._cipher.encryptBlock(s),n._prev},r.decrypt=function(n,o){var s=n._prev;n._prev=o;var a=n._cipher.decryptBlock(o);return i(a,s)}},{"buffer-xor":219}],197:[function(e,t,r){"use strict";var i=e("safe-buffer").Buffer,n=e("buffer-xor");function o(s,a,l){var c=a.length,d=n(a,s._cache);return s._cache=s._cache.slice(c),s._prev=i.concat([s._prev,l?a:d]),d}r.encrypt=function(s,a,l){for(var c,d=i.allocUnsafe(0);a.length;){if(s._cache.length===0&&(s._cache=s._cipher.encryptBlock(s._prev),s._prev=i.allocUnsafe(0)),!(s._cache.length<=a.length)){d=i.concat([d,o(s,a,l)]);break}c=s._cache.length,d=i.concat([d,o(s,a.slice(0,c),l)]),a=a.slice(c)}return d}},{"buffer-xor":219,"safe-buffer":494}],198:[function(e,t,r){"use strict";var i=e("safe-buffer").Buffer;function n(s,a,l){for(var c,d,u=-1,h=0;++u<8;)c=a&1<<7-u?128:0,h+=(128&(d=s._cipher.encryptBlock(s._prev)[0]^c))>>u%8,s._prev=o(s._prev,l?c:d);return h}function o(s,a){var l=s.length,c=-1,d=i.allocUnsafe(s.length);for(s=i.concat([s,i.from([a])]);++c<l;)d[c]=s[c]<<1|s[c+1]>>7;return d}r.encrypt=function(s,a,l){for(var c=a.length,d=i.allocUnsafe(c),u=-1;++u<c;)d[u]=n(s,a[u],l);return d}},{"safe-buffer":494}],199:[function(e,t,r){"use strict";var i=e("safe-buffer").Buffer;function n(o,s,a){var l=o._cipher.encryptBlock(o._prev)[0]^s;return o._prev=i.concat([o._prev.slice(1),i.from([a?s:l])]),l}r.encrypt=function(o,s,a){for(var l=s.length,c=i.allocUnsafe(l),d=-1;++d<l;)c[d]=n(o,s[d],a);return c}},{"safe-buffer":494}],200:[function(e,t,r){"use strict";var i=e("buffer-xor"),n=e("safe-buffer").Buffer,o=e("../incr32");function s(a){var l=a._cipher.encryptBlockRaw(a._prev);return o(a._prev),l}r.encrypt=function(a,l){var c=Math.ceil(l.length/16),d=a._cache.length;a._cache=n.concat([a._cache,n.allocUnsafe(16*c)]);for(var u=0;u<c;u++){var h=s(a),f=d+16*u;a._cache.writeUInt32BE(h[0],f+0),a._cache.writeUInt32BE(h[1],f+4),a._cache.writeUInt32BE(h[2],f+8),a._cache.writeUInt32BE(h[3],f+12)}var m=a._cache.slice(0,l.length);return a._cache=a._cache.slice(l.length),i(l,m)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(e,t,r){"use strict";r.encrypt=function(i,n){return i._cipher.encryptBlock(n)},r.decrypt=function(i,n){return i._cipher.decryptBlock(n)}},{}],202:[function(e,t,r){"use strict";var i={ECB:e("./ecb"),CBC:e("./cbc"),CFB:e("./cfb"),CFB8:e("./cfb8"),CFB1:e("./cfb1"),OFB:e("./ofb"),CTR:e("./ctr"),GCM:e("./ctr")},n=e("./list.json");for(var o in n)n[o].module=i[n[o].mode];t.exports=n},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(e,t,r){t.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(e,t,r){(function(i){(function(){"use strict";var n=e("buffer-xor");function o(s){return s._prev=s._cipher.encryptBlock(s._prev),s._prev}r.encrypt=function(s,a){for(;s._cache.length<a.length;)s._cache=i.concat([s._cache,o(s)]);var l=s._cache.slice(0,a.length);return s._cache=s._cache.slice(a.length),n(a,l)}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(e,t,r){"use strict";var i=e("./aes"),n=e("safe-buffer").Buffer,o=e("cipher-base");function s(a,l,c,d){o.call(this),this._cipher=new i.AES(l),this._prev=n.from(c),this._cache=n.allocUnsafe(0),this._secCache=n.allocUnsafe(0),this._decrypt=d,this._mode=a}e("inherits")(s,o),s.prototype._update=function(a){return this._mode.encrypt(this,a,this._decrypt)},s.prototype._final=function(){this._cipher.scrub()},t.exports=s},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(e,t,r){"use strict";var i=e("browserify-des"),n=e("browserify-aes/browser"),o=e("browserify-aes/modes"),s=e("browserify-des/modes"),a=e("evp_bytestokey");function l(d,u,h){if(d=d.toLowerCase(),o[d])return n.createCipheriv(d,u,h);if(s[d])return new i({key:u,iv:h,mode:d});throw new TypeError("invalid suite type")}function c(d,u,h){if(d=d.toLowerCase(),o[d])return n.createDecipheriv(d,u,h);if(s[d])return new i({key:u,iv:h,mode:d,decrypt:!0});throw new TypeError("invalid suite type")}r.createCipher=r.Cipher=function(d,u){var h,f;if(d=d.toLowerCase(),o[d])h=o[d].key,f=o[d].iv;else{if(!s[d])throw new TypeError("invalid suite type");h=8*s[d].key,f=s[d].iv}var m=a(u,!1,h,f);return l(d,m.key,m.iv)},r.createCipheriv=r.Cipheriv=l,r.createDecipher=r.Decipher=function(d,u){var h,f;if(d=d.toLowerCase(),o[d])h=o[d].key,f=o[d].iv;else{if(!s[d])throw new TypeError("invalid suite type");h=8*s[d].key,f=s[d].iv}var m=a(u,!1,h,f);return c(d,m.key,m.iv)},r.createDecipheriv=r.Decipheriv=c,r.listCiphers=r.getCiphers=function(){return Object.keys(s).concat(n.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(e,t,r){"use strict";var i=e("cipher-base"),n=e("des.js"),o=e("inherits"),s=e("safe-buffer").Buffer,a={"des-ede3-cbc":n.CBC.instantiate(n.EDE),"des-ede3":n.EDE,"des-ede-cbc":n.CBC.instantiate(n.EDE),"des-ede":n.EDE,"des-cbc":n.CBC.instantiate(n.DES),"des-ecb":n.DES};function l(c){i.call(this);var d,u=c.mode.toLowerCase(),h=a[u];d=c.decrypt?"decrypt":"encrypt";var f=c.key;s.isBuffer(f)||(f=s.from(f)),u!=="des-ede"&&u!=="des-ede-cbc"||(f=s.concat([f,f.slice(0,8)]));var m=c.iv;s.isBuffer(m)||(m=s.from(m)),this._des=h.create({key:f,iv:m,type:d})}a.des=a["des-cbc"],a.des3=a["des-ede3-cbc"],t.exports=l,o(l,i),l.prototype._update=function(c){return s.from(this._des.update(c))},l.prototype._final=function(){return s.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(e,t,r){"use strict";r["des-ecb"]={key:8,iv:0},r["des-cbc"]=r.des={key:8,iv:8},r["des-ede3-cbc"]=r.des3={key:24,iv:8},r["des-ede3"]={key:24,iv:0},r["des-ede-cbc"]={key:16,iv:8},r["des-ede"]={key:16,iv:0}},{}],209:[function(e,t,r){(function(i){(function(){"use strict";var n=e("bn.js"),o=e("randombytes");function s(l){var c,d=l.modulus.byteLength();do c=new n(o(d));while(c.cmp(l.modulus)>=0||!c.umod(l.prime1)||!c.umod(l.prime2));return c}function a(l,c){var d=function(V){var H=s(V);return{blinder:H.toRed(n.mont(V.modulus)).redPow(new n(V.publicExponent)).fromRed(),unblinder:H.invm(V.modulus)}}(c),u=c.modulus.byteLength(),h=new n(l).mul(d.blinder).umod(c.modulus),f=h.toRed(n.mont(c.prime1)),m=h.toRed(n.mont(c.prime2)),g=c.coefficient,p=c.prime1,b=c.prime2,_=f.redPow(c.exponent1).fromRed(),E=m.redPow(c.exponent2).fromRed(),O=_.isub(E).imul(g).umod(p).imul(b);return E.iadd(O).imul(d.unblinder).umod(c.modulus).toArrayLike(i,"be",u)}a.getr=s,t.exports=a}).call(this)}).call(this,e("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(e,t,r){"use strict";t.exports=e("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(e,t,r){t.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(e,t,r){t.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(e,t,r){"use strict";var i=e("safe-buffer").Buffer,n=e("create-hash"),o=e("readable-stream"),s=e("inherits"),a=e("./sign"),l=e("./verify"),c=e("./algorithms.json");function d(m){o.Writable.call(this);var g=c[m];if(!g)throw new Error("Unknown message digest");this._hashType=g.hash,this._hash=n(g.hash),this._tag=g.id,this._signType=g.sign}function u(m){o.Writable.call(this);var g=c[m];if(!g)throw new Error("Unknown message digest");this._hash=n(g.hash),this._tag=g.id,this._signType=g.sign}function h(m){return new d(m)}function f(m){return new u(m)}Object.keys(c).forEach(function(m){c[m].id=i.from(c[m].id,"hex"),c[m.toLowerCase()]=c[m]}),s(d,o.Writable),d.prototype._write=function(m,g,p){this._hash.update(m),p()},d.prototype.update=function(m,g){return typeof m=="string"&&(m=i.from(m,g)),this._hash.update(m),this},d.prototype.sign=function(m,g){this.end();var p=this._hash.digest(),b=a(p,m,this._hashType,this._signType,this._tag);return g?b.toString(g):b},s(u,o.Writable),u.prototype._write=function(m,g,p){this._hash.update(m),p()},u.prototype.update=function(m,g){return typeof m=="string"&&(m=i.from(m,g)),this._hash.update(m),this},u.prototype.verify=function(m,g,p){typeof g=="string"&&(g=i.from(g,p)),this.end();var b=this._hash.digest();return l(g,b,m,this._signType,this._tag)},t.exports={Sign:h,Verify:f,createSign:h,createVerify:f}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(e,t,r){"use strict";var i=e("safe-buffer").Buffer,n=e("create-hmac"),o=e("browserify-rsa"),s=e("elliptic").ec,a=e("bn.js"),l=e("parse-asn1"),c=e("./curves.json");function d(m,g,p,b){if((m=i.from(m.toArray())).length<g.byteLength()){var _=i.alloc(g.byteLength()-m.length);m=i.concat([_,m])}var E=p.length,O=function(F,L){F=(F=u(F,L)).mod(L);var $=i.from(F.toArray());if($.length<L.byteLength()){var W=i.alloc(L.byteLength()-$.length);$=i.concat([W,$])}return $}(p,g),V=i.alloc(E);V.fill(1);var H=i.alloc(E);return H=n(b,H).update(V).update(i.from([0])).update(m).update(O).digest(),V=n(b,H).update(V).digest(),{k:H=n(b,H).update(V).update(i.from([1])).update(m).update(O).digest(),v:V=n(b,H).update(V).digest()}}function u(m,g){var p=new a(m),b=(m.length<<3)-g.bitLength();return b>0&&p.ishrn(b),p}function h(m,g,p){var b,_;do{for(b=i.alloc(0);8*b.length<m.bitLength();)g.v=n(p,g.k).update(g.v).digest(),b=i.concat([b,g.v]);_=u(b,m),g.k=n(p,g.k).update(g.v).update(i.from([0])).digest(),g.v=n(p,g.k).update(g.v).digest()}while(_.cmp(m)!==-1);return _}function f(m,g,p,b){return m.toRed(a.mont(p)).redPow(g).fromRed().mod(b)}t.exports=function(m,g,p,b,_){var E=l(g);if(E.curve){if(b!=="ecdsa"&&b!=="ecdsa/rsa")throw new Error("wrong private key type");return function(F,L){var $=c[L.curve.join(".")];if(!$)throw new Error("unknown curve "+L.curve.join("."));var W=new s($).keyFromPrivate(L.privateKey).sign(F);return i.from(W.toDER())}(m,E)}if(E.type==="dsa"){if(b!=="dsa")throw new Error("wrong private key type");return function(F,L,$){for(var W,x=L.params.priv_key,R=L.params.p,B=L.params.q,v=L.params.g,y=new a(0),C=u(F,B).mod(B),w=!1,S=d(x,B,F,$);w===!1;)W=h(B,S,$),y=f(v,W,R,B),(w=W.invm(B).imul(C.add(x.mul(y))).mod(B)).cmpn(0)===0&&(w=!1,y=new a(0));return function(M,U){M=M.toArray(),U=U.toArray(),128&M[0]&&(M=[0].concat(M)),128&U[0]&&(U=[0].concat(U));var N=[48,M.length+U.length+4,2,M.length];return N=N.concat(M,[2,U.length],U),i.from(N)}(y,w)}(m,E,p)}if(b!=="rsa"&&b!=="ecdsa/rsa")throw new Error("wrong private key type");m=i.concat([_,m]);for(var O=E.modulus.byteLength(),V=[0,1];m.length+V.length+1<O;)V.push(255);V.push(0);for(var H=-1;++H<m.length;)V.push(m[H]);return o(V,E)},t.exports.getKey=d,t.exports.makeKey=h},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(e,t,r){"use strict";var i=e("safe-buffer").Buffer,n=e("bn.js"),o=e("elliptic").ec,s=e("parse-asn1"),a=e("./curves.json");function l(c,d){if(c.cmpn(0)<=0)throw new Error("invalid sig");if(c.cmp(d)>=d)throw new Error("invalid sig")}t.exports=function(c,d,u,h,f){var m=s(u);if(m.type==="ec"){if(h!=="ecdsa"&&h!=="ecdsa/rsa")throw new Error("wrong public key type");return function(V,H,F){var L=a[F.data.algorithm.curve.join(".")];if(!L)throw new Error("unknown curve "+F.data.algorithm.curve.join("."));var $=new o(L),W=F.data.subjectPrivateKey.data;return $.verify(H,V,W)}(c,d,m)}if(m.type==="dsa"){if(h!=="dsa")throw new Error("wrong public key type");return function(V,H,F){var L=F.data.p,$=F.data.q,W=F.data.g,x=F.data.pub_key,R=s.signature.decode(V,"der"),B=R.s,v=R.r;l(B,$),l(v,$);var y=n.mont(L),C=B.invm($);return W.toRed(y).redPow(new n(H).mul(C).mod($)).fromRed().mul(x.toRed(y).redPow(v.mul(C).mod($)).fromRed()).mod(L).mod($).cmp(v)===0}(c,d,m)}if(h!=="rsa"&&h!=="ecdsa/rsa")throw new Error("wrong public key type");d=i.concat([f,d]);for(var g=m.modulus.byteLength(),p=[1],b=0;d.length+p.length+2<g;)p.push(255),b++;p.push(0);for(var _=-1;++_<d.length;)p.push(d[_]);p=i.from(p);var E=n.mont(m.modulus);c=(c=new n(c).toRed(E)).redPow(new n(m.publicExponent)),c=i.from(c.fromRed().toArray());var O=b<8?1:0;for(g=Math.min(c.length,p.length),c.length!==p.length&&(O=1),_=-1;++_<g;)O|=c[_]^p[_];return O===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(e,t,r){},{}],217:[function(e,t,r){"use strict";var i=e("buffer"),n=i.Buffer;function o(a,l){for(var c in a)l[c]=a[c]}function s(a,l,c){return n(a,l,c)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=i:(o(i,r),r.Buffer=s),o(n,s),s.from=function(a,l,c){if(typeof a=="number")throw new TypeError("Argument must not be a number");return n(a,l,c)},s.alloc=function(a,l,c){if(typeof a!="number")throw new TypeError("Argument must be a number");var d=n(a);return l!==void 0?typeof c=="string"?d.fill(l,c):d.fill(l):d.fill(0),d},s.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return n(a)},s.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return i.SlowBuffer(a)}},{buffer:220}],218:[function(e,t,r){"use strict";var i=e("safe-buffer").Buffer,n=i.isEncoding||function(m){switch((m=""+m)&&m.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(m){var g;switch(this.encoding=function(p){var b=function(_){if(!_)return"utf8";for(var E;;)switch(_){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return _;default:if(E)return;_=(""+_).toLowerCase(),E=!0}}(p);if(typeof b!="string"&&(i.isEncoding===n||!n(p)))throw new Error("Unknown encoding: "+p);return b||p}(m),this.encoding){case"utf16le":this.text=l,this.end=c,g=4;break;case"utf8":this.fillLast=a,g=4;break;case"base64":this.text=d,this.end=u,g=3;break;default:return this.write=h,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(g)}function s(m){return m<=127?0:m>>5==6?2:m>>4==14?3:m>>3==30?4:m>>6==2?-1:-2}function a(m){var g=this.lastTotal-this.lastNeed,p=function(b,_,E){if((192&_[0])!=128)return b.lastNeed=0,"\uFFFD";if(b.lastNeed>1&&_.length>1){if((192&_[1])!=128)return b.lastNeed=1,"\uFFFD";if(b.lastNeed>2&&_.length>2&&(192&_[2])!=128)return b.lastNeed=2,"\uFFFD"}}(this,m);return p!==void 0?p:this.lastNeed<=m.length?(m.copy(this.lastChar,g,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(m.copy(this.lastChar,g,0,m.length),void(this.lastNeed-=m.length))}function l(m,g){if((m.length-g)%2==0){var p=m.toString("utf16le",g);if(p){var b=p.charCodeAt(p.length-1);if(b>=55296&&b<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1],p.slice(0,-1)}return p}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=m[m.length-1],m.toString("utf16le",g,m.length-1)}function c(m){var g=m&&m.length?this.write(m):"";if(this.lastNeed){var p=this.lastTotal-this.lastNeed;return g+this.lastChar.toString("utf16le",0,p)}return g}function d(m,g){var p=(m.length-g)%3;return p===0?m.toString("base64",g):(this.lastNeed=3-p,this.lastTotal=3,p===1?this.lastChar[0]=m[m.length-1]:(this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1]),m.toString("base64",g,m.length-p))}function u(m){var g=m&&m.length?this.write(m):"";return this.lastNeed?g+this.lastChar.toString("base64",0,3-this.lastNeed):g}function h(m){return m.toString(this.encoding)}function f(m){return m&&m.length?this.write(m):""}r.StringDecoder=o,o.prototype.write=function(m){if(m.length===0)return"";var g,p;if(this.lastNeed){if((g=this.fillLast(m))===void 0)return"";p=this.lastNeed,this.lastNeed=0}else p=0;return p<m.length?g?g+this.text(m,p):this.text(m,p):g||""},o.prototype.end=function(m){var g=m&&m.length?this.write(m):"";return this.lastNeed?g+"\uFFFD":g},o.prototype.text=function(m,g){var p=function(_,E,O){var V=E.length-1;if(V<O)return 0;var H=s(E[V]);return H>=0?(H>0&&(_.lastNeed=H-1),H):--V<O||H===-2?0:(H=s(E[V]))>=0?(H>0&&(_.lastNeed=H-2),H):--V<O||H===-2?0:(H=s(E[V]))>=0?(H>0&&(H===2?H=0:_.lastNeed=H-3),H):0}(this,m,g);if(!this.lastNeed)return m.toString("utf8",g);this.lastTotal=p;var b=m.length-(p-this.lastNeed);return m.copy(this.lastChar,0,b),m.toString("utf8",g,b)},o.prototype.fillLast=function(m){if(this.lastNeed<=m.length)return m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,m.length),this.lastNeed-=m.length}},{"safe-buffer":217}],219:[function(e,t,r){(function(i){(function(){"use strict";t.exports=function(n,o){for(var s=Math.min(n.length,o.length),a=new i(s),l=0;l<s;++l)a[l]=n[l]^o[l];return a}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220}],220:[function(e,t,r){(function(i){(function(){"use strict";var n=e("base64-js"),o=e("ieee754");r.Buffer=a,r.SlowBuffer=function(A){return+A!=A&&(A=0),a.alloc(+A)},r.INSPECT_MAX_BYTES=50;function s(A){if(A>2147483647)throw new RangeError('The value "'+A+'" is invalid for option "size"');var k=new Uint8Array(A);return k.__proto__=a.prototype,k}function a(A,k,Y){if(typeof A=="number"){if(typeof k=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(A)}return l(A,k,Y)}function l(A,k,Y){if(typeof A=="string")return function(J,et){if(typeof et=="string"&&et!==""||(et="utf8"),!a.isEncoding(et))throw new TypeError("Unknown encoding: "+et);var Et=0|f(J,et),Rt=s(Et),nt=Rt.write(J,et);return nt!==Et&&(Rt=Rt.slice(0,nt)),Rt}(A,k);if(ArrayBuffer.isView(A))return u(A);if(A==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A);if(I(A,ArrayBuffer)||A&&I(A.buffer,ArrayBuffer))return function(J,et,Et){if(et<0||J.byteLength<et)throw new RangeError('"offset" is outside of buffer bounds');if(J.byteLength<et+(Et||0))throw new RangeError('"length" is outside of buffer bounds');var Rt;return Rt=et===void 0&&Et===void 0?new Uint8Array(J):Et===void 0?new Uint8Array(J,et):new Uint8Array(J,et,Et),Rt.__proto__=a.prototype,Rt}(A,k,Y);if(typeof A=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Z=A.valueOf&&A.valueOf();if(Z!=null&&Z!==A)return a.from(Z,k,Y);var lt=function(J){if(a.isBuffer(J)){var et=0|h(J.length),Et=s(et);return Et.length===0||J.copy(Et,0,0,et),Et}if(J.length!==void 0)return typeof J.length!="number"||q(J.length)?s(0):u(J);if(J.type==="Buffer"&&Array.isArray(J.data))return u(J.data)}(A);if(lt)return lt;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof A[Symbol.toPrimitive]=="function")return a.from(A[Symbol.toPrimitive]("string"),k,Y);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A)}function c(A){if(typeof A!="number")throw new TypeError('"size" argument must be of type number');if(A<0)throw new RangeError('The value "'+A+'" is invalid for option "size"')}function d(A){return c(A),s(A<0?0:0|h(A))}function u(A){for(var k=A.length<0?0:0|h(A.length),Y=s(k),Z=0;Z<k;Z+=1)Y[Z]=255&A[Z];return Y}function h(A){if(A>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|A}function f(A,k){if(a.isBuffer(A))return A.length;if(ArrayBuffer.isView(A)||I(A,ArrayBuffer))return A.byteLength;if(typeof A!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof A);var Y=A.length,Z=arguments.length>2&&arguments[2]===!0;if(!Z&&Y===0)return 0;for(var lt=!1;;)switch(k){case"ascii":case"latin1":case"binary":return Y;case"utf8":case"utf-8":return N(A).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Y;case"hex":return Y>>>1;case"base64":return T(A).length;default:if(lt)return Z?-1:N(A).length;k=(""+k).toLowerCase(),lt=!0}}function m(A,k,Y){var Z=!1;if((k===void 0||k<0)&&(k=0),k>this.length||((Y===void 0||Y>this.length)&&(Y=this.length),Y<=0)||(Y>>>=0)<=(k>>>=0))return"";for(A||(A="utf8");;)switch(A){case"hex":return R(this,k,Y);case"utf8":case"utf-8":return $(this,k,Y);case"ascii":return W(this,k,Y);case"latin1":case"binary":return x(this,k,Y);case"base64":return L(this,k,Y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,k,Y);default:if(Z)throw new TypeError("Unknown encoding: "+A);A=(A+"").toLowerCase(),Z=!0}}function g(A,k,Y){var Z=A[k];A[k]=A[Y],A[Y]=Z}function p(A,k,Y,Z,lt){if(A.length===0)return-1;if(typeof Y=="string"?(Z=Y,Y=0):Y>2147483647?Y=2147483647:Y<-2147483648&&(Y=-2147483648),q(Y=+Y)&&(Y=lt?0:A.length-1),Y<0&&(Y=A.length+Y),Y>=A.length){if(lt)return-1;Y=A.length-1}else if(Y<0){if(!lt)return-1;Y=0}if(typeof k=="string"&&(k=a.from(k,Z)),a.isBuffer(k))return k.length===0?-1:b(A,k,Y,Z,lt);if(typeof k=="number")return k&=255,typeof Uint8Array.prototype.indexOf=="function"?lt?Uint8Array.prototype.indexOf.call(A,k,Y):Uint8Array.prototype.lastIndexOf.call(A,k,Y):b(A,[k],Y,Z,lt);throw new TypeError("val must be string, number or Buffer")}function b(A,k,Y,Z,lt){var J,et=1,Et=A.length,Rt=k.length;if(Z!==void 0&&((Z=String(Z).toLowerCase())==="ucs2"||Z==="ucs-2"||Z==="utf16le"||Z==="utf-16le")){if(A.length<2||k.length<2)return-1;et=2,Et/=2,Rt/=2,Y/=2}function nt(it,ct){return et===1?it[ct]:it.readUInt16BE(ct*et)}if(lt){var at=-1;for(J=Y;J<Et;J++)if(nt(A,J)===nt(k,at===-1?0:J-at)){if(at===-1&&(at=J),J-at+1===Rt)return at*et}else at!==-1&&(J-=J-at),at=-1}else for(Y+Rt>Et&&(Y=Et-Rt),J=Y;J>=0;J--){for(var Ct=!0,tt=0;tt<Rt;tt++)if(nt(A,J+tt)!==nt(k,tt)){Ct=!1;break}if(Ct)return J}return-1}function _(A,k,Y,Z){Y=Number(Y)||0;var lt=A.length-Y;Z?(Z=Number(Z))>lt&&(Z=lt):Z=lt;var J=k.length;Z>J/2&&(Z=J/2);for(var et=0;et<Z;++et){var Et=parseInt(k.substr(2*et,2),16);if(q(Et))return et;A[Y+et]=Et}return et}function E(A,k,Y,Z){return j(N(k,A.length-Y),A,Y,Z)}function O(A,k,Y,Z){return j(function(lt){for(var J=[],et=0;et<lt.length;++et)J.push(255&lt.charCodeAt(et));return J}(k),A,Y,Z)}function V(A,k,Y,Z){return O(A,k,Y,Z)}function H(A,k,Y,Z){return j(T(k),A,Y,Z)}function F(A,k,Y,Z){return j(function(lt,J){for(var et,Et,Rt,nt=[],at=0;at<lt.length&&!((J-=2)<0);++at)et=lt.charCodeAt(at),Et=et>>8,Rt=et%256,nt.push(Rt),nt.push(Et);return nt}(k,A.length-Y),A,Y,Z)}function L(A,k,Y){return k===0&&Y===A.length?n.fromByteArray(A):n.fromByteArray(A.slice(k,Y))}function $(A,k,Y){Y=Math.min(A.length,Y);for(var Z=[],lt=k;lt<Y;){var J,et,Et,Rt,nt=A[lt],at=null,Ct=nt>239?4:nt>223?3:nt>191?2:1;if(lt+Ct<=Y)switch(Ct){case 1:nt<128&&(at=nt);break;case 2:(192&(J=A[lt+1]))==128&&(Rt=(31&nt)<<6|63&J)>127&&(at=Rt);break;case 3:J=A[lt+1],et=A[lt+2],(192&J)==128&&(192&et)==128&&(Rt=(15&nt)<<12|(63&J)<<6|63&et)>2047&&(Rt<55296||Rt>57343)&&(at=Rt);break;case 4:J=A[lt+1],et=A[lt+2],Et=A[lt+3],(192&J)==128&&(192&et)==128&&(192&Et)==128&&(Rt=(15&nt)<<18|(63&J)<<12|(63&et)<<6|63&Et)>65535&&Rt<1114112&&(at=Rt)}at===null?(at=65533,Ct=1):at>65535&&(at-=65536,Z.push(at>>>10&1023|55296),at=56320|1023&at),Z.push(at),lt+=Ct}return function(tt){var it=tt.length;if(it<=4096)return String.fromCharCode.apply(String,tt);for(var ct="",mt=0;mt<it;)ct+=String.fromCharCode.apply(String,tt.slice(mt,mt+=4096));return ct}(Z)}r.kMaxLength=2147483647,a.TYPED_ARRAY_SUPPORT=function(){try{var A=new Uint8Array(1);return A.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},A.foo()===42}catch{return!1}}(),a.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),a.poolSize=8192,a.from=function(A,k,Y){return l(A,k,Y)},a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,a.alloc=function(A,k,Y){return function(Z,lt,J){return c(Z),Z<=0?s(Z):lt!==void 0?typeof J=="string"?s(Z).fill(lt,J):s(Z).fill(lt):s(Z)}(A,k,Y)},a.allocUnsafe=function(A){return d(A)},a.allocUnsafeSlow=function(A){return d(A)},a.isBuffer=function(A){return A!=null&&A._isBuffer===!0&&A!==a.prototype},a.compare=function(A,k){if(I(A,Uint8Array)&&(A=a.from(A,A.offset,A.byteLength)),I(k,Uint8Array)&&(k=a.from(k,k.offset,k.byteLength)),!a.isBuffer(A)||!a.isBuffer(k))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(A===k)return 0;for(var Y=A.length,Z=k.length,lt=0,J=Math.min(Y,Z);lt<J;++lt)if(A[lt]!==k[lt]){Y=A[lt],Z=k[lt];break}return Y<Z?-1:Z<Y?1:0},a.isEncoding=function(A){switch(String(A).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(A,k){if(!Array.isArray(A))throw new TypeError('"list" argument must be an Array of Buffers');if(A.length===0)return a.alloc(0);var Y;if(k===void 0)for(k=0,Y=0;Y<A.length;++Y)k+=A[Y].length;var Z=a.allocUnsafe(k),lt=0;for(Y=0;Y<A.length;++Y){var J=A[Y];if(I(J,Uint8Array)&&(J=a.from(J)),!a.isBuffer(J))throw new TypeError('"list" argument must be an Array of Buffers');J.copy(Z,lt),lt+=J.length}return Z},a.byteLength=f,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var A=this.length;if(A%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var k=0;k<A;k+=2)g(this,k,k+1);return this},a.prototype.swap32=function(){var A=this.length;if(A%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var k=0;k<A;k+=4)g(this,k,k+3),g(this,k+1,k+2);return this},a.prototype.swap64=function(){var A=this.length;if(A%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var k=0;k<A;k+=8)g(this,k,k+7),g(this,k+1,k+6),g(this,k+2,k+5),g(this,k+3,k+4);return this},a.prototype.toString=function(){var A=this.length;return A===0?"":arguments.length===0?$(this,0,A):m.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(A){if(!a.isBuffer(A))throw new TypeError("Argument must be a Buffer");return this===A||a.compare(this,A)===0},a.prototype.inspect=function(){var A="",k=r.INSPECT_MAX_BYTES;return A=this.toString("hex",0,k).replace(/(.{2})/g,"$1 ").trim(),this.length>k&&(A+=" ... "),"<Buffer "+A+">"},a.prototype.compare=function(A,k,Y,Z,lt){if(I(A,Uint8Array)&&(A=a.from(A,A.offset,A.byteLength)),!a.isBuffer(A))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof A);if(k===void 0&&(k=0),Y===void 0&&(Y=A?A.length:0),Z===void 0&&(Z=0),lt===void 0&&(lt=this.length),k<0||Y>A.length||Z<0||lt>this.length)throw new RangeError("out of range index");if(Z>=lt&&k>=Y)return 0;if(Z>=lt)return-1;if(k>=Y)return 1;if(this===A)return 0;for(var J=(lt>>>=0)-(Z>>>=0),et=(Y>>>=0)-(k>>>=0),Et=Math.min(J,et),Rt=this.slice(Z,lt),nt=A.slice(k,Y),at=0;at<Et;++at)if(Rt[at]!==nt[at]){J=Rt[at],et=nt[at];break}return J<et?-1:et<J?1:0},a.prototype.includes=function(A,k,Y){return this.indexOf(A,k,Y)!==-1},a.prototype.indexOf=function(A,k,Y){return p(this,A,k,Y,!0)},a.prototype.lastIndexOf=function(A,k,Y){return p(this,A,k,Y,!1)},a.prototype.write=function(A,k,Y,Z){if(k===void 0)Z="utf8",Y=this.length,k=0;else if(Y===void 0&&typeof k=="string")Z=k,Y=this.length,k=0;else{if(!isFinite(k))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");k>>>=0,isFinite(Y)?(Y>>>=0,Z===void 0&&(Z="utf8")):(Z=Y,Y=void 0)}var lt=this.length-k;if((Y===void 0||Y>lt)&&(Y=lt),A.length>0&&(Y<0||k<0)||k>this.length)throw new RangeError("Attempt to write outside buffer bounds");Z||(Z="utf8");for(var J=!1;;)switch(Z){case"hex":return _(this,A,k,Y);case"utf8":case"utf-8":return E(this,A,k,Y);case"ascii":return O(this,A,k,Y);case"latin1":case"binary":return V(this,A,k,Y);case"base64":return H(this,A,k,Y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,A,k,Y);default:if(J)throw new TypeError("Unknown encoding: "+Z);Z=(""+Z).toLowerCase(),J=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function W(A,k,Y){var Z="";Y=Math.min(A.length,Y);for(var lt=k;lt<Y;++lt)Z+=String.fromCharCode(127&A[lt]);return Z}function x(A,k,Y){var Z="";Y=Math.min(A.length,Y);for(var lt=k;lt<Y;++lt)Z+=String.fromCharCode(A[lt]);return Z}function R(A,k,Y){var Z=A.length;(!k||k<0)&&(k=0),(!Y||Y<0||Y>Z)&&(Y=Z);for(var lt="",J=k;J<Y;++J)lt+=U(A[J]);return lt}function B(A,k,Y){for(var Z=A.slice(k,Y),lt="",J=0;J<Z.length;J+=2)lt+=String.fromCharCode(Z[J]+256*Z[J+1]);return lt}function v(A,k,Y){if(A%1!=0||A<0)throw new RangeError("offset is not uint");if(A+k>Y)throw new RangeError("Trying to access beyond buffer length")}function y(A,k,Y,Z,lt,J){if(!a.isBuffer(A))throw new TypeError('"buffer" argument must be a Buffer instance');if(k>lt||k<J)throw new RangeError('"value" argument is out of bounds');if(Y+Z>A.length)throw new RangeError("Index out of range")}function C(A,k,Y,Z,lt,J){if(Y+Z>A.length)throw new RangeError("Index out of range");if(Y<0)throw new RangeError("Index out of range")}function w(A,k,Y,Z,lt){return k=+k,Y>>>=0,lt||C(A,0,Y,4),o.write(A,k,Y,Z,23,4),Y+4}function S(A,k,Y,Z,lt){return k=+k,Y>>>=0,lt||C(A,0,Y,8),o.write(A,k,Y,Z,52,8),Y+8}a.prototype.slice=function(A,k){var Y=this.length;(A=~~A)<0?(A+=Y)<0&&(A=0):A>Y&&(A=Y),(k=k===void 0?Y:~~k)<0?(k+=Y)<0&&(k=0):k>Y&&(k=Y),k<A&&(k=A);var Z=this.subarray(A,k);return Z.__proto__=a.prototype,Z},a.prototype.readUIntLE=function(A,k,Y){A>>>=0,k>>>=0,Y||v(A,k,this.length);for(var Z=this[A],lt=1,J=0;++J<k&&(lt*=256);)Z+=this[A+J]*lt;return Z},a.prototype.readUIntBE=function(A,k,Y){A>>>=0,k>>>=0,Y||v(A,k,this.length);for(var Z=this[A+--k],lt=1;k>0&&(lt*=256);)Z+=this[A+--k]*lt;return Z},a.prototype.readUInt8=function(A,k){return A>>>=0,k||v(A,1,this.length),this[A]},a.prototype.readUInt16LE=function(A,k){return A>>>=0,k||v(A,2,this.length),this[A]|this[A+1]<<8},a.prototype.readUInt16BE=function(A,k){return A>>>=0,k||v(A,2,this.length),this[A]<<8|this[A+1]},a.prototype.readUInt32LE=function(A,k){return A>>>=0,k||v(A,4,this.length),(this[A]|this[A+1]<<8|this[A+2]<<16)+16777216*this[A+3]},a.prototype.readUInt32BE=function(A,k){return A>>>=0,k||v(A,4,this.length),16777216*this[A]+(this[A+1]<<16|this[A+2]<<8|this[A+3])},a.prototype.readIntLE=function(A,k,Y){A>>>=0,k>>>=0,Y||v(A,k,this.length);for(var Z=this[A],lt=1,J=0;++J<k&&(lt*=256);)Z+=this[A+J]*lt;return Z>=(lt*=128)&&(Z-=Math.pow(2,8*k)),Z},a.prototype.readIntBE=function(A,k,Y){A>>>=0,k>>>=0,Y||v(A,k,this.length);for(var Z=k,lt=1,J=this[A+--Z];Z>0&&(lt*=256);)J+=this[A+--Z]*lt;return J>=(lt*=128)&&(J-=Math.pow(2,8*k)),J},a.prototype.readInt8=function(A,k){return A>>>=0,k||v(A,1,this.length),128&this[A]?-1*(255-this[A]+1):this[A]},a.prototype.readInt16LE=function(A,k){A>>>=0,k||v(A,2,this.length);var Y=this[A]|this[A+1]<<8;return 32768&Y?4294901760|Y:Y},a.prototype.readInt16BE=function(A,k){A>>>=0,k||v(A,2,this.length);var Y=this[A+1]|this[A]<<8;return 32768&Y?4294901760|Y:Y},a.prototype.readInt32LE=function(A,k){return A>>>=0,k||v(A,4,this.length),this[A]|this[A+1]<<8|this[A+2]<<16|this[A+3]<<24},a.prototype.readInt32BE=function(A,k){return A>>>=0,k||v(A,4,this.length),this[A]<<24|this[A+1]<<16|this[A+2]<<8|this[A+3]},a.prototype.readFloatLE=function(A,k){return A>>>=0,k||v(A,4,this.length),o.read(this,A,!0,23,4)},a.prototype.readFloatBE=function(A,k){return A>>>=0,k||v(A,4,this.length),o.read(this,A,!1,23,4)},a.prototype.readDoubleLE=function(A,k){return A>>>=0,k||v(A,8,this.length),o.read(this,A,!0,52,8)},a.prototype.readDoubleBE=function(A,k){return A>>>=0,k||v(A,8,this.length),o.read(this,A,!1,52,8)},a.prototype.writeUIntLE=function(A,k,Y,Z){A=+A,k>>>=0,Y>>>=0,Z||y(this,A,k,Y,Math.pow(2,8*Y)-1,0);var lt=1,J=0;for(this[k]=255&A;++J<Y&&(lt*=256);)this[k+J]=A/lt&255;return k+Y},a.prototype.writeUIntBE=function(A,k,Y,Z){A=+A,k>>>=0,Y>>>=0,Z||y(this,A,k,Y,Math.pow(2,8*Y)-1,0);var lt=Y-1,J=1;for(this[k+lt]=255&A;--lt>=0&&(J*=256);)this[k+lt]=A/J&255;return k+Y},a.prototype.writeUInt8=function(A,k,Y){return A=+A,k>>>=0,Y||y(this,A,k,1,255,0),this[k]=255&A,k+1},a.prototype.writeUInt16LE=function(A,k,Y){return A=+A,k>>>=0,Y||y(this,A,k,2,65535,0),this[k]=255&A,this[k+1]=A>>>8,k+2},a.prototype.writeUInt16BE=function(A,k,Y){return A=+A,k>>>=0,Y||y(this,A,k,2,65535,0),this[k]=A>>>8,this[k+1]=255&A,k+2},a.prototype.writeUInt32LE=function(A,k,Y){return A=+A,k>>>=0,Y||y(this,A,k,4,4294967295,0),this[k+3]=A>>>24,this[k+2]=A>>>16,this[k+1]=A>>>8,this[k]=255&A,k+4},a.prototype.writeUInt32BE=function(A,k,Y){return A=+A,k>>>=0,Y||y(this,A,k,4,4294967295,0),this[k]=A>>>24,this[k+1]=A>>>16,this[k+2]=A>>>8,this[k+3]=255&A,k+4},a.prototype.writeIntLE=function(A,k,Y,Z){if(A=+A,k>>>=0,!Z){var lt=Math.pow(2,8*Y-1);y(this,A,k,Y,lt-1,-lt)}var J=0,et=1,Et=0;for(this[k]=255&A;++J<Y&&(et*=256);)A<0&&Et===0&&this[k+J-1]!==0&&(Et=1),this[k+J]=(A/et>>0)-Et&255;return k+Y},a.prototype.writeIntBE=function(A,k,Y,Z){if(A=+A,k>>>=0,!Z){var lt=Math.pow(2,8*Y-1);y(this,A,k,Y,lt-1,-lt)}var J=Y-1,et=1,Et=0;for(this[k+J]=255&A;--J>=0&&(et*=256);)A<0&&Et===0&&this[k+J+1]!==0&&(Et=1),this[k+J]=(A/et>>0)-Et&255;return k+Y},a.prototype.writeInt8=function(A,k,Y){return A=+A,k>>>=0,Y||y(this,A,k,1,127,-128),A<0&&(A=255+A+1),this[k]=255&A,k+1},a.prototype.writeInt16LE=function(A,k,Y){return A=+A,k>>>=0,Y||y(this,A,k,2,32767,-32768),this[k]=255&A,this[k+1]=A>>>8,k+2},a.prototype.writeInt16BE=function(A,k,Y){return A=+A,k>>>=0,Y||y(this,A,k,2,32767,-32768),this[k]=A>>>8,this[k+1]=255&A,k+2},a.prototype.writeInt32LE=function(A,k,Y){return A=+A,k>>>=0,Y||y(this,A,k,4,2147483647,-2147483648),this[k]=255&A,this[k+1]=A>>>8,this[k+2]=A>>>16,this[k+3]=A>>>24,k+4},a.prototype.writeInt32BE=function(A,k,Y){return A=+A,k>>>=0,Y||y(this,A,k,4,2147483647,-2147483648),A<0&&(A=4294967295+A+1),this[k]=A>>>24,this[k+1]=A>>>16,this[k+2]=A>>>8,this[k+3]=255&A,k+4},a.prototype.writeFloatLE=function(A,k,Y){return w(this,A,k,!0,Y)},a.prototype.writeFloatBE=function(A,k,Y){return w(this,A,k,!1,Y)},a.prototype.writeDoubleLE=function(A,k,Y){return S(this,A,k,!0,Y)},a.prototype.writeDoubleBE=function(A,k,Y){return S(this,A,k,!1,Y)},a.prototype.copy=function(A,k,Y,Z){if(!a.isBuffer(A))throw new TypeError("argument should be a Buffer");if(Y||(Y=0),Z||Z===0||(Z=this.length),k>=A.length&&(k=A.length),k||(k=0),Z>0&&Z<Y&&(Z=Y),Z===Y||A.length===0||this.length===0)return 0;if(k<0)throw new RangeError("targetStart out of bounds");if(Y<0||Y>=this.length)throw new RangeError("Index out of range");if(Z<0)throw new RangeError("sourceEnd out of bounds");Z>this.length&&(Z=this.length),A.length-k<Z-Y&&(Z=A.length-k+Y);var lt=Z-Y;if(this===A&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(k,Y,Z);else if(this===A&&Y<k&&k<Z)for(var J=lt-1;J>=0;--J)A[J+k]=this[J+Y];else Uint8Array.prototype.set.call(A,this.subarray(Y,Z),k);return lt},a.prototype.fill=function(A,k,Y,Z){if(typeof A=="string"){if(typeof k=="string"?(Z=k,k=0,Y=this.length):typeof Y=="string"&&(Z=Y,Y=this.length),Z!==void 0&&typeof Z!="string")throw new TypeError("encoding must be a string");if(typeof Z=="string"&&!a.isEncoding(Z))throw new TypeError("Unknown encoding: "+Z);if(A.length===1){var lt=A.charCodeAt(0);(Z==="utf8"&&lt<128||Z==="latin1")&&(A=lt)}}else typeof A=="number"&&(A&=255);if(k<0||this.length<k||this.length<Y)throw new RangeError("Out of range index");if(Y<=k)return this;var J;if(k>>>=0,Y=Y===void 0?this.length:Y>>>0,A||(A=0),typeof A=="number")for(J=k;J<Y;++J)this[J]=A;else{var et=a.isBuffer(A)?A:a.from(A,Z),Et=et.length;if(Et===0)throw new TypeError('The value "'+A+'" is invalid for argument "value"');for(J=0;J<Y-k;++J)this[J+k]=et[J%Et]}return this};var M=/[^+/0-9A-Za-z-_]/g;function U(A){return A<16?"0"+A.toString(16):A.toString(16)}function N(A,k){var Y;k=k||1/0;for(var Z=A.length,lt=null,J=[],et=0;et<Z;++et){if((Y=A.charCodeAt(et))>55295&&Y<57344){if(!lt){if(Y>56319){(k-=3)>-1&&J.push(239,191,189);continue}if(et+1===Z){(k-=3)>-1&&J.push(239,191,189);continue}lt=Y;continue}if(Y<56320){(k-=3)>-1&&J.push(239,191,189),lt=Y;continue}Y=65536+(lt-55296<<10|Y-56320)}else lt&&(k-=3)>-1&&J.push(239,191,189);if(lt=null,Y<128){if((k-=1)<0)break;J.push(Y)}else if(Y<2048){if((k-=2)<0)break;J.push(Y>>6|192,63&Y|128)}else if(Y<65536){if((k-=3)<0)break;J.push(Y>>12|224,Y>>6&63|128,63&Y|128)}else{if(!(Y<1114112))throw new Error("Invalid code point");if((k-=4)<0)break;J.push(Y>>18|240,Y>>12&63|128,Y>>6&63|128,63&Y|128)}}return J}function T(A){return n.toByteArray(function(k){if((k=(k=k.split("=")[0]).trim().replace(M,"")).length<2)return"";for(;k.length%4!=0;)k+="=";return k}(A))}function j(A,k,Y,Z){for(var lt=0;lt<Z&&!(lt+Y>=k.length||lt>=A.length);++lt)k[lt+Y]=A[lt];return lt}function I(A,k){return A instanceof k||A!=null&&A.constructor!=null&&A.constructor.name!=null&&A.constructor.name===k.name}function q(A){return A!=A}}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(e,t,r){"use strict";var i=e("safe-buffer").Buffer,n=e("stream").Transform,o=e("string_decoder").StringDecoder;function s(a){n.call(this),this.hashMode=typeof a=="string",this.hashMode?this[a]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}e("inherits")(s,n),s.prototype.update=function(a,l,c){typeof a=="string"&&(a=i.from(a,l));var d=this._update(a);return this.hashMode?this:(c&&(d=this._toString(d,c)),d)},s.prototype.setAutoPadding=function(){},s.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},s.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},s.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},s.prototype._transform=function(a,l,c){var d;try{this.hashMode?this._update(a):this.push(this._update(a))}catch(u){d=u}finally{c(d)}},s.prototype._flush=function(a){var l;try{this.push(this.__final())}catch(c){l=c}a(l)},s.prototype._finalOrDigest=function(a){var l=this.__final()||i.alloc(0);return a&&(l=this._toString(l,a,!0)),l},s.prototype._toString=function(a,l,c){if(this._decoder||(this._decoder=new o(l),this._encoding=l),this._encoding!==l)throw new Error("can't switch encodings");var d=this._decoder.write(a);return c&&(d+=this._decoder.end()),d},t.exports=s},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(e,t,r){"use strict";var i=e("../internals/is-callable"),n=e("../internals/try-to-string"),o=TypeError;t.exports=function(s){if(i(s))return s;throw new o(n(s)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(e,t,r){"use strict";var i=e("../internals/is-constructor"),n=e("../internals/try-to-string"),o=TypeError;t.exports=function(s){if(i(s))return s;throw new o(n(s)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(e,t,r){"use strict";var i=e("../internals/is-callable"),n=String,o=TypeError;t.exports=function(s){if(typeof s=="object"||i(s))return s;throw new o("Can't set "+n(s)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(e,t,r){"use strict";var i=e("../internals/well-known-symbol"),n=e("../internals/object-create"),o=e("../internals/object-define-property").f,s=i("unscopables"),a=Array.prototype;a[s]===void 0&&o(a,s,{configurable:!0,value:n(null)}),t.exports=function(l){a[s][l]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(e,t,r){"use strict";var i=e("../internals/object-is-prototype-of"),n=TypeError;t.exports=function(o,s){if(i(s,o))return o;throw new n("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(e,t,r){"use strict";var i=e("../internals/is-object"),n=String,o=TypeError;t.exports=function(s){if(i(s))return s;throw new o(n(s)+" is not an object")}},{"../internals/is-object":289}],228:[function(e,t,r){"use strict";var i=e("../internals/to-indexed-object"),n=e("../internals/to-absolute-index"),o=e("../internals/length-of-array-like"),s=function(a){return function(l,c,d){var u,h=i(l),f=o(h),m=n(d,f);if(a&&c!=c){for(;f>m;)if((u=h[m++])!=u)return!0}else for(;f>m;m++)if((a||m in h)&&h[m]===c)return a||m||0;return!a&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(e,t,r){"use strict";var i=e("../internals/function-bind-context"),n=e("../internals/function-uncurry-this"),o=e("../internals/indexed-object"),s=e("../internals/to-object"),a=e("../internals/length-of-array-like"),l=e("../internals/array-species-create"),c=n([].push),d=function(u){var h=u===1,f=u===2,m=u===3,g=u===4,p=u===6,b=u===7,_=u===5||p;return function(E,O,V,H){for(var F,L,$=s(E),W=o($),x=i(O,V),R=a(W),B=0,v=H||l,y=h?v(E,R):f||b?v(E,0):void 0;R>B;B++)if((_||B in W)&&(L=x(F=W[B],B,$),u))if(h)y[B]=L;else if(L)switch(u){case 3:return!0;case 5:return F;case 6:return B;case 2:c(y,F)}else switch(u){case 4:return!1;case 7:c(y,F)}return p?-1:m||g?g:y}};t.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6),filterReject:d(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(e,t,r){"use strict";var i=e("../internals/to-absolute-index"),n=e("../internals/length-of-array-like"),o=e("../internals/create-property"),s=Array,a=Math.max;t.exports=function(l,c,d){for(var u=n(l),h=i(c,u),f=i(d===void 0?u:d,u),m=s(a(f-h,0)),g=0;h<f;h++,g++)o(m,g,l[h]);return m.length=g,m}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(e,t,r){"use strict";var i=e("../internals/function-uncurry-this");t.exports=i([].slice)},{"../internals/function-uncurry-this":268}],232:[function(e,t,r){"use strict";var i=e("../internals/is-array"),n=e("../internals/is-constructor"),o=e("../internals/is-object"),s=e("../internals/well-known-symbol")("species"),a=Array;t.exports=function(l){var c;return i(l)&&(c=l.constructor,(n(c)&&(c===a||i(c.prototype))||o(c)&&(c=c[s])===null)&&(c=void 0)),c===void 0?a:c}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(e,t,r){"use strict";var i=e("../internals/array-species-constructor");t.exports=function(n,o){return new(i(n))(o===0?0:o)}},{"../internals/array-species-constructor":232}],234:[function(e,t,r){"use strict";var i=e("../internals/well-known-symbol")("iterator"),n=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){n=!0}};s[i]=function(){return this},Array.from(s,function(){throw 2})}catch{}t.exports=function(a,l){try{if(!l&&!n)return!1}catch{return!1}var c=!1;try{var d={};d[i]=function(){return{next:function(){return{done:c=!0}}}},a(d)}catch{}return c}},{"../internals/well-known-symbol":357}],235:[function(e,t,r){"use strict";var i=e("../internals/function-uncurry-this"),n=i({}.toString),o=i("".slice);t.exports=function(s){return o(n(s),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(e,t,r){"use strict";var i=e("../internals/to-string-tag-support"),n=e("../internals/is-callable"),o=e("../internals/classof-raw"),s=e("../internals/well-known-symbol")("toStringTag"),a=Object,l=o(function(){return arguments}())==="Arguments";t.exports=i?o:function(c){var d,u,h;return c===void 0?"Undefined":c===null?"Null":typeof(u=function(f,m){try{return f[m]}catch{}}(d=a(c),s))=="string"?u:l?o(d):(h=o(d))==="Object"&&n(d.callee)?"Arguments":h}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(e,t,r){"use strict";var i=e("../internals/has-own-property"),n=e("../internals/own-keys"),o=e("../internals/object-get-own-property-descriptor"),s=e("../internals/object-define-property");t.exports=function(a,l,c){for(var d=n(l),u=s.f,h=o.f,f=0;f<d.length;f++){var m=d[f];i(a,m)||c&&i(c,m)||u(a,m,h(l,m))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(e,t,r){"use strict";var i=e("../internals/well-known-symbol")("match");t.exports=function(n){var o=/./;try{"/./"[n](o)}catch{try{return o[i]=!1,"/./"[n](o)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(e,t,r){"use strict";var i=e("../internals/fails");t.exports=!i(function(){function n(){}return n.prototype.constructor=null,Object.getPrototypeOf(new n)!==n.prototype})},{"../internals/fails":260}],240:[function(e,t,r){"use strict";t.exports=function(i,n){return{value:i,done:n}}},{}],241:[function(e,t,r){"use strict";var i=e("../internals/descriptors"),n=e("../internals/object-define-property"),o=e("../internals/create-property-descriptor");t.exports=i?function(s,a,l){return n.f(s,a,o(1,l))}:function(s,a,l){return s[a]=l,s}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(e,t,r){"use strict";t.exports=function(i,n){return{enumerable:!(1&i),configurable:!(2&i),writable:!(4&i),value:n}}},{}],243:[function(e,t,r){"use strict";var i=e("../internals/to-property-key"),n=e("../internals/object-define-property"),o=e("../internals/create-property-descriptor");t.exports=function(s,a,l){var c=i(a);c in s?n.f(s,c,o(0,l)):s[c]=l}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(e,t,r){"use strict";var i=e("../internals/make-built-in"),n=e("../internals/object-define-property");t.exports=function(o,s,a){return a.get&&i(a.get,s,{getter:!0}),a.set&&i(a.set,s,{setter:!0}),n.f(o,s,a)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(e,t,r){"use strict";var i=e("../internals/is-callable"),n=e("../internals/object-define-property"),o=e("../internals/make-built-in"),s=e("../internals/define-global-property");t.exports=function(a,l,c,d){d||(d={});var u=d.enumerable,h=d.name!==void 0?d.name:l;if(i(c)&&o(c,h,d),d.global)u?a[l]=c:s(l,c);else{try{d.unsafe?a[l]&&(u=!0):delete a[l]}catch{}u?a[l]=c:n.f(a,l,{value:c,enumerable:!1,configurable:!d.nonConfigurable,writable:!d.nonWritable})}return a}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(e,t,r){"use strict";var i=e("../internals/global"),n=Object.defineProperty;t.exports=function(o,s){try{n(i,o,{value:s,configurable:!0,writable:!0})}catch{i[o]=s}return s}},{"../internals/global":274}],247:[function(e,t,r){"use strict";var i=e("../internals/fails");t.exports=!i(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},{"../internals/fails":260}],248:[function(e,t,r){"use strict";var i=typeof document=="object"&&document.all,n=i===void 0&&i!==void 0;t.exports={all:i,IS_HTMLDDA:n}},{}],249:[function(e,t,r){"use strict";var i=e("../internals/global"),n=e("../internals/is-object"),o=i.document,s=n(o)&&n(o.createElement);t.exports=function(a){return s?o.createElement(a):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(e,t,r){"use strict";var i=e("../internals/engine-is-deno"),n=e("../internals/engine-is-node");t.exports=!i&&!n&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(e,t,r){"use strict";t.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(e,t,r){"use strict";var i=e("../internals/engine-user-agent");t.exports=/ipad|iphone|ipod/i.test(i)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(e,t,r){"use strict";var i=e("../internals/engine-user-agent");t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(i)},{"../internals/engine-user-agent":256}],254:[function(e,t,r){"use strict";var i=e("../internals/global"),n=e("../internals/classof-raw");t.exports=n(i.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(e,t,r){"use strict";var i=e("../internals/engine-user-agent");t.exports=/web0s(?!.*chrome)/i.test(i)},{"../internals/engine-user-agent":256}],256:[function(e,t,r){"use strict";t.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(e,t,r){"use strict";var i,n,o=e("../internals/global"),s=e("../internals/engine-user-agent"),a=o.process,l=o.Deno,c=a&&a.versions||l&&l.version,d=c&&c.v8;d&&(n=(i=d.split("."))[0]>0&&i[0]<4?1:+(i[0]+i[1])),!n&&s&&(!(i=s.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=s.match(/Chrome\/(\d+)/))&&(n=+i[1]),t.exports=n},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(e,t,r){"use strict";t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(e,t,r){"use strict";var i=e("../internals/global"),n=e("../internals/object-get-own-property-descriptor").f,o=e("../internals/create-non-enumerable-property"),s=e("../internals/define-built-in"),a=e("../internals/define-global-property"),l=e("../internals/copy-constructor-properties"),c=e("../internals/is-forced");t.exports=function(d,u){var h,f,m,g,p,b=d.target,_=d.global,E=d.stat;if(h=_?i:E?i[b]||a(b,{}):(i[b]||{}).prototype)for(f in u){if(g=u[f],m=d.dontCallGetSet?(p=n(h,f))&&p.value:h[f],!c(_?f:b+(E?".":"#")+f,d.forced)&&m!==void 0){if(typeof g==typeof m)continue;l(g,m)}(d.sham||m&&m.sham)&&o(g,"sham",!0),s(h,f,g,d)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(e,t,r){"use strict";t.exports=function(i){try{return!!i()}catch{return!0}}},{}],261:[function(e,t,r){"use strict";var i=e("../internals/function-bind-native"),n=Function.prototype,o=n.apply,s=n.call;t.exports=typeof Reflect=="object"&&Reflect.apply||(i?s.bind(o):function(){return s.apply(o,arguments)})},{"../internals/function-bind-native":263}],262:[function(e,t,r){"use strict";var i=e("../internals/function-uncurry-this-clause"),n=e("../internals/a-callable"),o=e("../internals/function-bind-native"),s=i(i.bind);t.exports=function(a,l){return n(a),l===void 0?a:o?s(a,l):function(){return a.apply(l,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(e,t,r){"use strict";var i=e("../internals/fails");t.exports=!i(function(){var n=(function(){}).bind();return typeof n!="function"||n.hasOwnProperty("prototype")})},{"../internals/fails":260}],264:[function(e,t,r){"use strict";var i=e("../internals/function-bind-native"),n=Function.prototype.call;t.exports=i?n.bind(n):function(){return n.apply(n,arguments)}},{"../internals/function-bind-native":263}],265:[function(e,t,r){"use strict";var i=e("../internals/descriptors"),n=e("../internals/has-own-property"),o=Function.prototype,s=i&&Object.getOwnPropertyDescriptor,a=n(o,"name"),l=a&&(function(){}).name==="something",c=a&&(!i||i&&s(o,"name").configurable);t.exports={EXISTS:a,PROPER:l,CONFIGURABLE:c}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(e,t,r){"use strict";var i=e("../internals/function-uncurry-this"),n=e("../internals/a-callable");t.exports=function(o,s,a){try{return i(n(Object.getOwnPropertyDescriptor(o,s)[a]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(e,t,r){"use strict";var i=e("../internals/classof-raw"),n=e("../internals/function-uncurry-this");t.exports=function(o){if(i(o)==="Function")return n(o)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(e,t,r){"use strict";var i=e("../internals/function-bind-native"),n=Function.prototype,o=n.call,s=i&&n.bind.bind(o,o);t.exports=i?s:function(a){return function(){return o.apply(a,arguments)}}},{"../internals/function-bind-native":263}],269:[function(e,t,r){"use strict";var i=e("../internals/global"),n=e("../internals/is-callable"),o=function(s){return n(s)?s:void 0};t.exports=function(s,a){return arguments.length<2?o(i[s]):i[s]&&i[s][a]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(e,t,r){"use strict";var i=e("../internals/classof"),n=e("../internals/get-method"),o=e("../internals/is-null-or-undefined"),s=e("../internals/iterators"),a=e("../internals/well-known-symbol")("iterator");t.exports=function(l){if(!o(l))return n(l,a)||n(l,"@@iterator")||s[i(l)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(e,t,r){"use strict";var i=e("../internals/function-call"),n=e("../internals/a-callable"),o=e("../internals/an-object"),s=e("../internals/try-to-string"),a=e("../internals/get-iterator-method"),l=TypeError;t.exports=function(c,d){var u=arguments.length<2?a(c):d;if(n(u))return o(i(u,c));throw new l(s(c)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(e,t,r){"use strict";var i=e("../internals/function-uncurry-this"),n=e("../internals/is-array"),o=e("../internals/is-callable"),s=e("../internals/classof-raw"),a=e("../internals/to-string"),l=i([].push);t.exports=function(c){if(o(c))return c;if(n(c)){for(var d=c.length,u=[],h=0;h<d;h++){var f=c[h];typeof f=="string"?l(u,f):typeof f!="number"&&s(f)!=="Number"&&s(f)!=="String"||l(u,a(f))}var m=u.length,g=!0;return function(p,b){if(g)return g=!1,b;if(n(this))return b;for(var _=0;_<m;_++)if(u[_]===p)return b}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(e,t,r){"use strict";var i=e("../internals/a-callable"),n=e("../internals/is-null-or-undefined");t.exports=function(o,s){var a=o[s];return n(a)?void 0:i(a)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(e,t,r){(function(i){(function(){"use strict";var n=function(o){return o&&o.Math===Math&&o};t.exports=n(typeof globalThis=="object"&&globalThis)||n(typeof window=="object"&&window)||n(typeof self=="object"&&self)||n(typeof i=="object"&&i)||function(){return this}()||this||Function("return this")()}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(e,t,r){"use strict";var i=e("../internals/function-uncurry-this"),n=e("../internals/to-object"),o=i({}.hasOwnProperty);t.exports=Object.hasOwn||function(s,a){return o(n(s),a)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(e,t,r){"use strict";t.exports={}},{}],277:[function(e,t,r){"use strict";t.exports=function(i,n){try{arguments.length===1?console.error(i):console.error(i,n)}catch{}}},{}],278:[function(e,t,r){"use strict";var i=e("../internals/get-built-in");t.exports=i("document","documentElement")},{"../internals/get-built-in":269}],279:[function(e,t,r){"use strict";var i=e("../internals/descriptors"),n=e("../internals/fails"),o=e("../internals/document-create-element");t.exports=!i&&!n(function(){return Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a!==7})},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(e,t,r){"use strict";var i=e("../internals/function-uncurry-this"),n=e("../internals/fails"),o=e("../internals/classof-raw"),s=Object,a=i("".split);t.exports=n(function(){return!s("z").propertyIsEnumerable(0)})?function(l){return o(l)==="String"?a(l,""):s(l)}:s},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(e,t,r){"use strict";var i=e("../internals/function-uncurry-this"),n=e("../internals/is-callable"),o=e("../internals/shared-store"),s=i(Function.toString);n(o.inspectSource)||(o.inspectSource=function(a){return s(a)}),t.exports=o.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(e,t,r){"use strict";var i,n,o,s=e("../internals/weak-map-basic-detection"),a=e("../internals/global"),l=e("../internals/is-object"),c=e("../internals/create-non-enumerable-property"),d=e("../internals/has-own-property"),u=e("../internals/shared-store"),h=e("../internals/shared-key"),f=e("../internals/hidden-keys"),m=a.TypeError,g=a.WeakMap;if(s||u.state){var p=u.state||(u.state=new g);p.get=p.get,p.has=p.has,p.set=p.set,i=function(_,E){if(p.has(_))throw new m("Object already initialized");return E.facade=_,p.set(_,E),E},n=function(_){return p.get(_)||{}},o=function(_){return p.has(_)}}else{var b=h("state");f[b]=!0,i=function(_,E){if(d(_,b))throw new m("Object already initialized");return E.facade=_,c(_,b,E),E},n=function(_){return d(_,b)?_[b]:{}},o=function(_){return d(_,b)}}t.exports={set:i,get:n,has:o,enforce:function(_){return o(_)?n(_):i(_,{})},getterFor:function(_){return function(E){var O;if(!l(E)||(O=n(E)).type!==_)throw new m("Incompatible receiver, "+_+" required");return O}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(e,t,r){"use strict";var i=e("../internals/well-known-symbol"),n=e("../internals/iterators"),o=i("iterator"),s=Array.prototype;t.exports=function(a){return a!==void 0&&(n.Array===a||s[o]===a)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(e,t,r){"use strict";var i=e("../internals/classof-raw");t.exports=Array.isArray||function(n){return i(n)==="Array"}},{"../internals/classof-raw":235}],285:[function(e,t,r){"use strict";var i=e("../internals/document-all"),n=i.all;t.exports=i.IS_HTMLDDA?function(o){return typeof o=="function"||o===n}:function(o){return typeof o=="function"}},{"../internals/document-all":248}],286:[function(e,t,r){"use strict";var i=e("../internals/function-uncurry-this"),n=e("../internals/fails"),o=e("../internals/is-callable"),s=e("../internals/classof"),a=e("../internals/get-built-in"),l=e("../internals/inspect-source"),c=function(){},d=[],u=a("Reflect","construct"),h=/^\s*(?:class|function)\b/,f=i(h.exec),m=!h.test(c),g=function(b){if(!o(b))return!1;try{return u(c,d,b),!0}catch{return!1}},p=function(b){if(!o(b))return!1;switch(s(b)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return m||!!f(h,l(b))}catch{return!0}};p.sham=!0,t.exports=!u||n(function(){var b;return g(g.call)||!g(Object)||!g(function(){b=!0})||b})?p:g},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(e,t,r){"use strict";var i=e("../internals/fails"),n=e("../internals/is-callable"),o=/#|\.prototype\./,s=function(u,h){var f=l[a(u)];return f===d||f!==c&&(n(h)?i(h):!!h)},a=s.normalize=function(u){return String(u).replace(o,".").toLowerCase()},l=s.data={},c=s.NATIVE="N",d=s.POLYFILL="P";t.exports=s},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(e,t,r){"use strict";t.exports=function(i){return i==null}},{}],289:[function(e,t,r){"use strict";var i=e("../internals/is-callable"),n=e("../internals/document-all"),o=n.all;t.exports=n.IS_HTMLDDA?function(s){return typeof s=="object"?s!==null:i(s)||s===o}:function(s){return typeof s=="object"?s!==null:i(s)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(e,t,r){"use strict";t.exports=!1},{}],291:[function(e,t,r){"use strict";var i=e("../internals/is-object"),n=e("../internals/classof-raw"),o=e("../internals/well-known-symbol")("match");t.exports=function(s){var a;return i(s)&&((a=s[o])!==void 0?!!a:n(s)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(e,t,r){"use strict";var i=e("../internals/get-built-in"),n=e("../internals/is-callable"),o=e("../internals/object-is-prototype-of"),s=e("../internals/use-symbol-as-uid"),a=Object;t.exports=s?function(l){return typeof l=="symbol"}:function(l){var c=i("Symbol");return n(c)&&o(c.prototype,a(l))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(e,t,r){"use strict";var i=e("../internals/function-bind-context"),n=e("../internals/function-call"),o=e("../internals/an-object"),s=e("../internals/try-to-string"),a=e("../internals/is-array-iterator-method"),l=e("../internals/length-of-array-like"),c=e("../internals/object-is-prototype-of"),d=e("../internals/get-iterator"),u=e("../internals/get-iterator-method"),h=e("../internals/iterator-close"),f=TypeError,m=function(p,b){this.stopped=p,this.result=b},g=m.prototype;t.exports=function(p,b,_){var E,O,V,H,F,L,$,W=_&&_.that,x=!(!_||!_.AS_ENTRIES),R=!(!_||!_.IS_RECORD),B=!(!_||!_.IS_ITERATOR),v=!(!_||!_.INTERRUPTED),y=i(b,W),C=function(S){return E&&h(E,"normal",S),new m(!0,S)},w=function(S){return x?(o(S),v?y(S[0],S[1],C):y(S[0],S[1])):v?y(S,C):y(S)};if(R)E=p.iterator;else if(B)E=p;else{if(!(O=u(p)))throw new f(s(p)+" is not iterable");if(a(O)){for(V=0,H=l(p);H>V;V++)if((F=w(p[V]))&&c(g,F))return F;return new m(!1)}E=d(p,O)}for(L=R?p.next:E.next;!($=n(L,E)).done;){try{F=w($.value)}catch(S){h(E,"throw",S)}if(typeof F=="object"&&F&&c(g,F))return F}return new m(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(e,t,r){"use strict";var i=e("../internals/function-call"),n=e("../internals/an-object"),o=e("../internals/get-method");t.exports=function(s,a,l){var c,d;n(s);try{if(!(c=o(s,"return"))){if(a==="throw")throw l;return l}c=i(c,s)}catch(u){d=!0,c=u}if(a==="throw")throw l;if(d)throw c;return n(c),l}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(e,t,r){"use strict";var i=e("../internals/iterators-core").IteratorPrototype,n=e("../internals/object-create"),o=e("../internals/create-property-descriptor"),s=e("../internals/set-to-string-tag"),a=e("../internals/iterators"),l=function(){return this};t.exports=function(c,d,u,h){var f=d+" Iterator";return c.prototype=n(i,{next:o(+!h,u)}),s(c,f,!1,!0),a[f]=l,c}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(e,t,r){"use strict";var i=e("../internals/export"),n=e("../internals/function-call"),o=e("../internals/is-pure"),s=e("../internals/function-name"),a=e("../internals/is-callable"),l=e("../internals/iterator-create-constructor"),c=e("../internals/object-get-prototype-of"),d=e("../internals/object-set-prototype-of"),u=e("../internals/set-to-string-tag"),h=e("../internals/create-non-enumerable-property"),f=e("../internals/define-built-in"),m=e("../internals/well-known-symbol"),g=e("../internals/iterators"),p=e("../internals/iterators-core"),b=s.PROPER,_=s.CONFIGURABLE,E=p.IteratorPrototype,O=p.BUGGY_SAFARI_ITERATORS,V=m("iterator"),H=function(){return this};t.exports=function(F,L,$,W,x,R,B){l($,L,W);var v,y,C,w=function(I){if(I===x&&T)return T;if(!O&&I&&I in U)return U[I];switch(I){case"keys":case"values":case"entries":return function(){return new $(this,I)}}return function(){return new $(this)}},S=L+" Iterator",M=!1,U=F.prototype,N=U[V]||U["@@iterator"]||x&&U[x],T=!O&&N||w(x),j=L==="Array"&&U.entries||N;if(j&&(v=c(j.call(new F)))!==Object.prototype&&v.next&&(o||c(v)===E||(d?d(v,E):a(v[V])||f(v,V,H)),u(v,S,!0,!0),o&&(g[S]=H)),b&&x==="values"&&N&&N.name!=="values"&&(!o&&_?h(U,"name","values"):(M=!0,T=function(){return n(N,this)})),x)if(y={values:w("values"),keys:R?T:w("keys"),entries:w("entries")},B)for(C in y)(O||M||!(C in U))&&f(U,C,y[C]);else i({target:L,proto:!0,forced:O||M},y);return o&&!B||U[V]===T||f(U,V,T,{name:x}),g[L]=T,y}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(e,t,r){"use strict";var i,n,o,s=e("../internals/fails"),a=e("../internals/is-callable"),l=e("../internals/is-object"),c=e("../internals/object-create"),d=e("../internals/object-get-prototype-of"),u=e("../internals/define-built-in"),h=e("../internals/well-known-symbol"),f=e("../internals/is-pure"),m=h("iterator"),g=!1;[].keys&&("next"in(o=[].keys())?(n=d(d(o)))!==Object.prototype&&(i=n):g=!0),!l(i)||s(function(){var p={};return i[m].call(p)!==p})?i={}:f&&(i=c(i)),a(i[m])||u(i,m,function(){return this}),t.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:g}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(e,t,r){arguments[4][276][0].apply(r,arguments)},{dup:276}],299:[function(e,t,r){"use strict";var i=e("../internals/to-length");t.exports=function(n){return i(n.length)}},{"../internals/to-length":343}],300:[function(e,t,r){"use strict";var i=e("../internals/function-uncurry-this"),n=e("../internals/fails"),o=e("../internals/is-callable"),s=e("../internals/has-own-property"),a=e("../internals/descriptors"),l=e("../internals/function-name").CONFIGURABLE,c=e("../internals/inspect-source"),d=e("../internals/internal-state"),u=d.enforce,h=d.get,f=String,m=Object.defineProperty,g=i("".slice),p=i("".replace),b=i([].join),_=a&&!n(function(){return m(function(){},"length",{value:8}).length!==8}),E=String(String).split("String"),O=t.exports=function(V,H,F){g(f(H),0,7)==="Symbol("&&(H="["+p(f(H),/^Symbol\(([^)]*)\)/,"$1")+"]"),F&&F.getter&&(H="get "+H),F&&F.setter&&(H="set "+H),(!s(V,"name")||l&&V.name!==H)&&(a?m(V,"name",{value:H,configurable:!0}):V.name=H),_&&F&&s(F,"arity")&&V.length!==F.arity&&m(V,"length",{value:F.arity});try{F&&s(F,"constructor")&&F.constructor?a&&m(V,"prototype",{writable:!1}):V.prototype&&(V.prototype=void 0)}catch{}var L=u(V);return s(L,"source")||(L.source=b(E,typeof H=="string"?H:"")),V};Function.prototype.toString=O(function(){return o(this)&&h(this).source||c(this)},"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(e,t,r){"use strict";var i=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(o){var s=+o;return(s>0?n:i)(s)}},{}],302:[function(e,t,r){"use strict";var i,n,o,s,a,l=e("../internals/global"),c=e("../internals/function-bind-context"),d=e("../internals/object-get-own-property-descriptor").f,u=e("../internals/task").set,h=e("../internals/queue"),f=e("../internals/engine-is-ios"),m=e("../internals/engine-is-ios-pebble"),g=e("../internals/engine-is-webos-webkit"),p=e("../internals/engine-is-node"),b=l.MutationObserver||l.WebKitMutationObserver,_=l.document,E=l.process,O=l.Promise,V=d(l,"queueMicrotask"),H=V&&V.value;if(!H){var F=new h,L=function(){var $,W;for(p&&($=E.domain)&&$.exit();W=F.get();)try{W()}catch(x){throw F.head&&i(),x}$&&$.enter()};f||p||g||!b||!_?!m&&O&&O.resolve?((s=O.resolve(void 0)).constructor=O,a=c(s.then,s),i=function(){a(L)}):p?i=function(){E.nextTick(L)}:(u=c(u,l),i=function(){u(L)}):(n=!0,o=_.createTextNode(""),new b(L).observe(o,{characterData:!0}),i=function(){o.data=n=!n}),H=function($){F.head||i(),F.add($)}}t.exports=H},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(e,t,r){"use strict";var i=e("../internals/a-callable"),n=TypeError,o=function(s){var a,l;this.promise=new s(function(c,d){if(a!==void 0||l!==void 0)throw new n("Bad Promise constructor");a=c,l=d}),this.resolve=i(a),this.reject=i(l)};t.exports.f=function(s){return new o(s)}},{"../internals/a-callable":222}],304:[function(e,t,r){"use strict";var i=e("../internals/is-regexp"),n=TypeError;t.exports=function(o){if(i(o))throw new n("The method doesn't accept regular expressions");return o}},{"../internals/is-regexp":291}],305:[function(e,t,r){"use strict";var i=e("../internals/descriptors"),n=e("../internals/function-uncurry-this"),o=e("../internals/function-call"),s=e("../internals/fails"),a=e("../internals/object-keys"),l=e("../internals/object-get-own-property-symbols"),c=e("../internals/object-property-is-enumerable"),d=e("../internals/to-object"),u=e("../internals/indexed-object"),h=Object.assign,f=Object.defineProperty,m=n([].concat);t.exports=!h||s(function(){if(i&&h({b:1},h(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var g={},p={},b=Symbol("assign detection");return g[b]=7,"abcdefghijklmnopqrst".split("").forEach(function(_){p[_]=_}),h({},g)[b]!==7||a(h({},p)).join("")!=="abcdefghijklmnopqrst"})?function(g,p){for(var b=d(g),_=arguments.length,E=1,O=l.f,V=c.f;_>E;)for(var H,F=u(arguments[E++]),L=O?m(a(F),O(F)):a(F),$=L.length,W=0;$>W;)H=L[W++],i&&!o(V,F,H)||(b[H]=F[H]);return b}:h},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(e,t,r){"use strict";var i,n=e("../internals/an-object"),o=e("../internals/object-define-properties"),s=e("../internals/enum-bug-keys"),a=e("../internals/hidden-keys"),l=e("../internals/html"),c=e("../internals/document-create-element"),d=e("../internals/shared-key"),u=d("IE_PROTO"),h=function(){},f=function(p){return"<script>"+p+"<\/script>"},m=function(p){p.write(f("")),p.close();var b=p.parentWindow.Object;return p=null,b},g=function(){try{i=new ActiveXObject("htmlfile")}catch{}var p,b;g=typeof document<"u"?document.domain&&i?m(i):((b=c("iframe")).style.display="none",l.appendChild(b),b.src="javascript:",(p=b.contentWindow.document).open(),p.write(f("document.F=Object")),p.close(),p.F):m(i);for(var _=s.length;_--;)delete g.prototype[s[_]];return g()};a[u]=!0,t.exports=Object.create||function(p,b){var _;return p!==null?(h.prototype=n(p),_=new h,h.prototype=null,_[u]=p):_=g(),b===void 0?_:o.f(_,b)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(e,t,r){"use strict";var i=e("../internals/descriptors"),n=e("../internals/v8-prototype-define-bug"),o=e("../internals/object-define-property"),s=e("../internals/an-object"),a=e("../internals/to-indexed-object"),l=e("../internals/object-keys");r.f=i&&!n?Object.defineProperties:function(c,d){s(c);for(var u,h=a(d),f=l(d),m=f.length,g=0;m>g;)o.f(c,u=f[g++],h[u]);return c}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(e,t,r){"use strict";var i=e("../internals/descriptors"),n=e("../internals/ie8-dom-define"),o=e("../internals/v8-prototype-define-bug"),s=e("../internals/an-object"),a=e("../internals/to-property-key"),l=TypeError,c=Object.defineProperty,d=Object.getOwnPropertyDescriptor;r.f=i?o?function(u,h,f){if(s(u),h=a(h),s(f),typeof u=="function"&&h==="prototype"&&"value"in f&&"writable"in f&&!f.writable){var m=d(u,h);m&&m.writable&&(u[h]=f.value,f={configurable:"configurable"in f?f.configurable:m.configurable,enumerable:"enumerable"in f?f.enumerable:m.enumerable,writable:!1})}return c(u,h,f)}:c:function(u,h,f){if(s(u),h=a(h),s(f),n)try{return c(u,h,f)}catch{}if("get"in f||"set"in f)throw new l("Accessors not supported");return"value"in f&&(u[h]=f.value),u}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(e,t,r){"use strict";var i=e("../internals/descriptors"),n=e("../internals/function-call"),o=e("../internals/object-property-is-enumerable"),s=e("../internals/create-property-descriptor"),a=e("../internals/to-indexed-object"),l=e("../internals/to-property-key"),c=e("../internals/has-own-property"),d=e("../internals/ie8-dom-define"),u=Object.getOwnPropertyDescriptor;r.f=i?u:function(h,f){if(h=a(h),f=l(f),d)try{return u(h,f)}catch{}if(c(h,f))return s(!n(o.f,h,f),h[f])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(e,t,r){"use strict";var i=e("../internals/classof-raw"),n=e("../internals/to-indexed-object"),o=e("../internals/object-get-own-property-names").f,s=e("../internals/array-slice-simple"),a=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(l){return a&&i(l)==="Window"?function(c){try{return o(c)}catch{return s(a)}}(l):o(n(l))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(e,t,r){"use strict";var i=e("../internals/object-keys-internal"),n=e("../internals/enum-bug-keys").concat("length","prototype");r.f=Object.getOwnPropertyNames||function(o){return i(o,n)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(e,t,r){"use strict";r.f=Object.getOwnPropertySymbols},{}],313:[function(e,t,r){"use strict";var i=e("../internals/has-own-property"),n=e("../internals/is-callable"),o=e("../internals/to-object"),s=e("../internals/shared-key"),a=e("../internals/correct-prototype-getter"),l=s("IE_PROTO"),c=Object,d=c.prototype;t.exports=a?c.getPrototypeOf:function(u){var h=o(u);if(i(h,l))return h[l];var f=h.constructor;return n(f)&&h instanceof f?f.prototype:h instanceof c?d:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(e,t,r){"use strict";var i=e("../internals/function-uncurry-this");t.exports=i({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(e,t,r){"use strict";var i=e("../internals/function-uncurry-this"),n=e("../internals/has-own-property"),o=e("../internals/to-indexed-object"),s=e("../internals/array-includes").indexOf,a=e("../internals/hidden-keys"),l=i([].push);t.exports=function(c,d){var u,h=o(c),f=0,m=[];for(u in h)!n(a,u)&&n(h,u)&&l(m,u);for(;d.length>f;)n(h,u=d[f++])&&(~s(m,u)||l(m,u));return m}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(e,t,r){"use strict";var i=e("../internals/object-keys-internal"),n=e("../internals/enum-bug-keys");t.exports=Object.keys||function(o){return i(o,n)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(e,t,r){"use strict";var i={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,o=n&&!i.call({1:2},1);r.f=o?function(s){var a=n(this,s);return!!a&&a.enumerable}:i},{}],318:[function(e,t,r){"use strict";var i=e("../internals/function-uncurry-this-accessor"),n=e("../internals/an-object"),o=e("../internals/a-possible-prototype");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var s,a=!1,l={};try{(s=i(Object.prototype,"__proto__","set"))(l,[]),a=l instanceof Array}catch{}return function(c,d){return n(c),o(d),a?s(c,d):c.__proto__=d,c}}():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(e,t,r){"use strict";var i=e("../internals/descriptors"),n=e("../internals/fails"),o=e("../internals/function-uncurry-this"),s=e("../internals/object-get-prototype-of"),a=e("../internals/object-keys"),l=e("../internals/to-indexed-object"),c=o(e("../internals/object-property-is-enumerable").f),d=o([].push),u=i&&n(function(){var f=Object.create(null);return f[2]=2,!c(f,2)}),h=function(f){return function(m){for(var g,p=l(m),b=a(p),_=u&&s(p)===null,E=b.length,O=0,V=[];E>O;)g=b[O++],i&&!(_?g in p:c(p,g))||d(V,f?[g,p[g]]:p[g]);return V}};t.exports={entries:h(!0),values:h(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(e,t,r){"use strict";var i=e("../internals/function-call"),n=e("../internals/is-callable"),o=e("../internals/is-object"),s=TypeError;t.exports=function(a,l){var c,d;if(l==="string"&&n(c=a.toString)&&!o(d=i(c,a))||n(c=a.valueOf)&&!o(d=i(c,a))||l!=="string"&&n(c=a.toString)&&!o(d=i(c,a)))return d;throw new s("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(e,t,r){"use strict";var i=e("../internals/get-built-in"),n=e("../internals/function-uncurry-this"),o=e("../internals/object-get-own-property-names"),s=e("../internals/object-get-own-property-symbols"),a=e("../internals/an-object"),l=n([].concat);t.exports=i("Reflect","ownKeys")||function(c){var d=o.f(a(c)),u=s.f;return u?l(d,u(c)):d}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(e,t,r){"use strict";var i=e("../internals/global");t.exports=i},{"../internals/global":274}],323:[function(e,t,r){"use strict";t.exports=function(i){try{return{error:!1,value:i()}}catch(n){return{error:!0,value:n}}}},{}],324:[function(e,t,r){"use strict";var i=e("../internals/global"),n=e("../internals/promise-native-constructor"),o=e("../internals/is-callable"),s=e("../internals/is-forced"),a=e("../internals/inspect-source"),l=e("../internals/well-known-symbol"),c=e("../internals/engine-is-browser"),d=e("../internals/engine-is-deno"),u=e("../internals/is-pure"),h=e("../internals/engine-v8-version"),f=n&&n.prototype,m=l("species"),g=!1,p=o(i.PromiseRejectionEvent),b=s("Promise",function(){var _=a(n),E=_!==String(n);if(!E&&h===66||u&&(!f.catch||!f.finally))return!0;if(!h||h<51||!/native code/.test(_)){var O=new n(function(H){H(1)}),V=function(H){H(function(){},function(){})};if((O.constructor={})[m]=V,!(g=O.then(function(){})instanceof V))return!0}return!E&&(c||d)&&!p});t.exports={CONSTRUCTOR:b,REJECTION_EVENT:p,SUBCLASSING:g}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(e,t,r){"use strict";var i=e("../internals/global");t.exports=i.Promise},{"../internals/global":274}],326:[function(e,t,r){"use strict";var i=e("../internals/an-object"),n=e("../internals/is-object"),o=e("../internals/new-promise-capability");t.exports=function(s,a){if(i(s),n(a)&&a.constructor===s)return a;var l=o.f(s);return(0,l.resolve)(a),l.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(e,t,r){"use strict";var i=e("../internals/promise-native-constructor"),n=e("../internals/check-correctness-of-iteration"),o=e("../internals/promise-constructor-detection").CONSTRUCTOR;t.exports=o||!n(function(s){i.all(s).then(void 0,function(){})})},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(e,t,r){"use strict";var i=function(){this.head=null,this.tail=null};i.prototype={add:function(n){var o={item:n,next:null},s=this.tail;s?s.next=o:this.head=o,this.tail=o},get:function(){var n=this.head;if(n)return(this.head=n.next)===null&&(this.tail=null),n.item}},t.exports=i},{}],329:[function(e,t,r){"use strict";var i=e("../internals/is-null-or-undefined"),n=TypeError;t.exports=function(o){if(i(o))throw new n("Can't call method on "+o);return o}},{"../internals/is-null-or-undefined":288}],330:[function(e,t,r){"use strict";var i=e("../internals/get-built-in"),n=e("../internals/define-built-in-accessor"),o=e("../internals/well-known-symbol"),s=e("../internals/descriptors"),a=o("species");t.exports=function(l){var c=i(l);s&&c&&!c[a]&&n(c,a,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(e,t,r){"use strict";var i=e("../internals/object-define-property").f,n=e("../internals/has-own-property"),o=e("../internals/well-known-symbol")("toStringTag");t.exports=function(s,a,l){s&&!l&&(s=s.prototype),s&&!n(s,o)&&i(s,o,{configurable:!0,value:a})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(e,t,r){"use strict";var i=e("../internals/shared"),n=e("../internals/uid"),o=i("keys");t.exports=function(s){return o[s]||(o[s]=n(s))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(e,t,r){"use strict";var i=e("../internals/global"),n=e("../internals/define-global-property"),o=i["__core-js_shared__"]||n("__core-js_shared__",{});t.exports=o},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(e,t,r){"use strict";var i=e("../internals/is-pure"),n=e("../internals/shared-store");(t.exports=function(o,s){return n[o]||(n[o]=s!==void 0?s:{})})("versions",[]).push({version:"3.33.0",mode:i?"pure":"global",copyright:"\xA9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(e,t,r){"use strict";var i=e("../internals/an-object"),n=e("../internals/a-constructor"),o=e("../internals/is-null-or-undefined"),s=e("../internals/well-known-symbol")("species");t.exports=function(a,l){var c,d=i(a).constructor;return d===void 0||o(c=i(d)[s])?l:n(c)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(e,t,r){"use strict";var i=e("../internals/engine-v8-version"),n=e("../internals/fails"),o=e("../internals/global").String;t.exports=!!Object.getOwnPropertySymbols&&!n(function(){var s=Symbol("symbol detection");return!o(s)||!(Object(s)instanceof Symbol)||!Symbol.sham&&i&&i<41})},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(e,t,r){"use strict";var i=e("../internals/function-call"),n=e("../internals/get-built-in"),o=e("../internals/well-known-symbol"),s=e("../internals/define-built-in");t.exports=function(){var a=n("Symbol"),l=a&&a.prototype,c=l&&l.valueOf,d=o("toPrimitive");l&&!l[d]&&s(l,d,function(u){return i(c,this)},{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(e,t,r){"use strict";var i=e("../internals/symbol-constructor-detection");t.exports=i&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(e,t,r){"use strict";var i,n,o,s,a=e("../internals/global"),l=e("../internals/function-apply"),c=e("../internals/function-bind-context"),d=e("../internals/is-callable"),u=e("../internals/has-own-property"),h=e("../internals/fails"),f=e("../internals/html"),m=e("../internals/array-slice"),g=e("../internals/document-create-element"),p=e("../internals/validate-arguments-length"),b=e("../internals/engine-is-ios"),_=e("../internals/engine-is-node"),E=a.setImmediate,O=a.clearImmediate,V=a.process,H=a.Dispatch,F=a.Function,L=a.MessageChannel,$=a.String,W=0,x={};h(function(){i=a.location});var R=function(C){if(u(x,C)){var w=x[C];delete x[C],w()}},B=function(C){return function(){R(C)}},v=function(C){R(C.data)},y=function(C){a.postMessage($(C),i.protocol+"//"+i.host)};E&&O||(E=function(C){p(arguments.length,1);var w=d(C)?C:F(C),S=m(arguments,1);return x[++W]=function(){l(w,void 0,S)},n(W),W},O=function(C){delete x[C]},_?n=function(C){V.nextTick(B(C))}:H&&H.now?n=function(C){H.now(B(C))}:L&&!b?(s=(o=new L).port2,o.port1.onmessage=v,n=c(s.postMessage,s)):a.addEventListener&&d(a.postMessage)&&!a.importScripts&&i&&i.protocol!=="file:"&&!h(y)?(n=y,a.addEventListener("message",v,!1)):n="onreadystatechange"in g("script")?function(C){f.appendChild(g("script")).onreadystatechange=function(){f.removeChild(this),R(C)}}:function(C){setTimeout(B(C),0)}),t.exports={set:E,clear:O}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(e,t,r){"use strict";var i=e("../internals/to-integer-or-infinity"),n=Math.max,o=Math.min;t.exports=function(s,a){var l=i(s);return l<0?n(l+a,0):o(l,a)}},{"../internals/to-integer-or-infinity":342}],341:[function(e,t,r){"use strict";var i=e("../internals/indexed-object"),n=e("../internals/require-object-coercible");t.exports=function(o){return i(n(o))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(e,t,r){"use strict";var i=e("../internals/math-trunc");t.exports=function(n){var o=+n;return o!=o||o===0?0:i(o)}},{"../internals/math-trunc":301}],343:[function(e,t,r){"use strict";var i=e("../internals/to-integer-or-infinity"),n=Math.min;t.exports=function(o){return o>0?n(i(o),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(e,t,r){"use strict";var i=e("../internals/require-object-coercible"),n=Object;t.exports=function(o){return n(i(o))}},{"../internals/require-object-coercible":329}],345:[function(e,t,r){"use strict";var i=e("../internals/function-call"),n=e("../internals/is-object"),o=e("../internals/is-symbol"),s=e("../internals/get-method"),a=e("../internals/ordinary-to-primitive"),l=e("../internals/well-known-symbol"),c=TypeError,d=l("toPrimitive");t.exports=function(u,h){if(!n(u)||o(u))return u;var f,m=s(u,d);if(m){if(h===void 0&&(h="default"),f=i(m,u,h),!n(f)||o(f))return f;throw new c("Can't convert object to primitive value")}return h===void 0&&(h="number"),a(u,h)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(e,t,r){"use strict";var i=e("../internals/to-primitive"),n=e("../internals/is-symbol");t.exports=function(o){var s=i(o,"string");return n(s)?s:s+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(e,t,r){"use strict";var i={};i[e("../internals/well-known-symbol")("toStringTag")]="z",t.exports=String(i)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(e,t,r){"use strict";var i=e("../internals/classof"),n=String;t.exports=function(o){if(i(o)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return n(o)}},{"../internals/classof":236}],349:[function(e,t,r){"use strict";var i=String;t.exports=function(n){try{return i(n)}catch{return"Object"}}},{}],350:[function(e,t,r){"use strict";var i=e("../internals/function-uncurry-this"),n=0,o=Math.random(),s=i(1 .toString);t.exports=function(a){return"Symbol("+(a===void 0?"":a)+")_"+s(++n+o,36)}},{"../internals/function-uncurry-this":268}],351:[function(e,t,r){"use strict";var i=e("../internals/symbol-constructor-detection");t.exports=i&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(e,t,r){"use strict";var i=e("../internals/descriptors"),n=e("../internals/fails");t.exports=i&&n(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(e,t,r){"use strict";var i=TypeError;t.exports=function(n,o){if(n<o)throw new i("Not enough arguments");return n}},{}],354:[function(e,t,r){"use strict";var i=e("../internals/global"),n=e("../internals/is-callable"),o=i.WeakMap;t.exports=n(o)&&/native code/.test(String(o))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(e,t,r){"use strict";var i=e("../internals/path"),n=e("../internals/has-own-property"),o=e("../internals/well-known-symbol-wrapped"),s=e("../internals/object-define-property").f;t.exports=function(a){var l=i.Symbol||(i.Symbol={});n(l,a)||s(l,a,{value:o.f(a)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(e,t,r){"use strict";var i=e("../internals/well-known-symbol");r.f=i},{"../internals/well-known-symbol":357}],357:[function(e,t,r){"use strict";var i=e("../internals/global"),n=e("../internals/shared"),o=e("../internals/has-own-property"),s=e("../internals/uid"),a=e("../internals/symbol-constructor-detection"),l=e("../internals/use-symbol-as-uid"),c=i.Symbol,d=n("wks"),u=l?c.for||c:c&&c.withoutSetter||s;t.exports=function(h){return o(d,h)||(d[h]=a&&o(c,h)?c[h]:u("Symbol."+h)),d[h]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(e,t,r){"use strict";var i=e("../internals/export"),n=e("../internals/array-iteration").findIndex,o=e("../internals/add-to-unscopables"),s=!0;"findIndex"in[]&&Array(1).findIndex(function(){s=!1}),i({target:"Array",proto:!0,forced:s},{findIndex:function(a){return n(this,a,arguments.length>1?arguments[1]:void 0)}}),o("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(e,t,r){"use strict";var i=e("../internals/export"),n=e("../internals/array-iteration").find,o=e("../internals/add-to-unscopables"),s=!0;"find"in[]&&Array(1).find(function(){s=!1}),i({target:"Array",proto:!0,forced:s},{find:function(a){return n(this,a,arguments.length>1?arguments[1]:void 0)}}),o("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(e,t,r){"use strict";var i=e("../internals/export"),n=e("../internals/array-includes").includes,o=e("../internals/fails"),s=e("../internals/add-to-unscopables");i({target:"Array",proto:!0,forced:o(function(){return!Array(1).includes()})},{includes:function(a){return n(this,a,arguments.length>1?arguments[1]:void 0)}}),s("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(e,t,r){"use strict";var i=e("../internals/to-indexed-object"),n=e("../internals/add-to-unscopables"),o=e("../internals/iterators"),s=e("../internals/internal-state"),a=e("../internals/object-define-property").f,l=e("../internals/iterator-define"),c=e("../internals/create-iter-result-object"),d=e("../internals/is-pure"),u=e("../internals/descriptors"),h=s.set,f=s.getterFor("Array Iterator");t.exports=l(Array,"Array",function(g,p){h(this,{type:"Array Iterator",target:i(g),index:0,kind:p})},function(){var g=f(this),p=g.target,b=g.kind,_=g.index++;if(!p||_>=p.length)return g.target=void 0,c(void 0,!0);switch(b){case"keys":return c(_,!1);case"values":return c(p[_],!1)}return c([_,p[_]],!1)},"values");var m=o.Arguments=o.Array;if(n("keys"),n("values"),n("entries"),!d&&u&&m.name!=="values")try{a(m,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(e,t,r){"use strict";var i=e("../internals/export"),n=e("../internals/get-built-in"),o=e("../internals/function-apply"),s=e("../internals/function-call"),a=e("../internals/function-uncurry-this"),l=e("../internals/fails"),c=e("../internals/is-callable"),d=e("../internals/is-symbol"),u=e("../internals/array-slice"),h=e("../internals/get-json-replacer-function"),f=e("../internals/symbol-constructor-detection"),m=String,g=n("JSON","stringify"),p=a(/./.exec),b=a("".charAt),_=a("".charCodeAt),E=a("".replace),O=a(1 .toString),V=/[\uD800-\uDFFF]/g,H=/^[\uD800-\uDBFF]$/,F=/^[\uDC00-\uDFFF]$/,L=!f||l(function(){var R=n("Symbol")("stringify detection");return g([R])!=="[null]"||g({a:R})!=="{}"||g(Object(R))!=="{}"}),$=l(function(){return g("\uDF06\uD834")!=='"\\udf06\\ud834"'||g("\uDEAD")!=='"\\udead"'}),W=function(R,B){var v=u(arguments),y=h(B);if(c(y)||R!==void 0&&!d(R))return v[1]=function(C,w){if(c(y)&&(w=s(y,this,m(C),w)),!d(w))return w},o(g,null,v)},x=function(R,B,v){var y=b(v,B-1),C=b(v,B+1);return p(H,R)&&!p(F,C)||p(F,R)&&!p(H,y)?"\\u"+O(_(R,0),16):R};g&&i({target:"JSON",stat:!0,arity:3,forced:L||$},{stringify:function(R,B,v){var y=u(arguments),C=o(L?W:g,null,y);return $&&typeof C=="string"?E(C,V,x):C}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(e,t,r){"use strict";e("../internals/export")({target:"Number",stat:!0},{isNaN:function(i){return i!=i}})},{"../internals/export":259}],364:[function(e,t,r){"use strict";var i=e("../internals/export"),n=e("../internals/object-assign");i({target:"Object",stat:!0,arity:2,forced:Object.assign!==n},{assign:n})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(e,t,r){"use strict";var i=e("../internals/export"),n=e("../internals/symbol-constructor-detection"),o=e("../internals/fails"),s=e("../internals/object-get-own-property-symbols"),a=e("../internals/to-object");i({target:"Object",stat:!0,forced:!n||o(function(){s.f(1)})},{getOwnPropertySymbols:function(l){var c=s.f;return c?c(a(l)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(e,t,r){"use strict";var i=e("../internals/export"),n=e("../internals/to-object"),o=e("../internals/object-keys");i({target:"Object",stat:!0,forced:e("../internals/fails")(function(){o(1)})},{keys:function(s){return o(n(s))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(e,t,r){"use strict";var i=e("../internals/export"),n=e("../internals/object-to-array").values;i({target:"Object",stat:!0},{values:function(o){return n(o)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(e,t,r){"use strict";var i=e("../internals/export"),n=e("../internals/function-call"),o=e("../internals/a-callable"),s=e("../internals/new-promise-capability"),a=e("../internals/perform"),l=e("../internals/iterate");i({target:"Promise",stat:!0,forced:e("../internals/promise-statics-incorrect-iteration")},{all:function(c){var d=this,u=s.f(d),h=u.resolve,f=u.reject,m=a(function(){var g=o(d.resolve),p=[],b=0,_=1;l(c,function(E){var O=b++,V=!1;_++,n(g,d,E).then(function(H){V||(V=!0,p[O]=H,--_||h(p))},f)}),--_||h(p)});return m.error&&f(m.value),u.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(e,t,r){"use strict";var i=e("../internals/export"),n=e("../internals/is-pure"),o=e("../internals/promise-constructor-detection").CONSTRUCTOR,s=e("../internals/promise-native-constructor"),a=e("../internals/get-built-in"),l=e("../internals/is-callable"),c=e("../internals/define-built-in"),d=s&&s.prototype;if(i({target:"Promise",proto:!0,forced:o,real:!0},{catch:function(h){return this.then(void 0,h)}}),!n&&l(s)){var u=a("Promise").prototype.catch;d.catch!==u&&c(d,"catch",u,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(e,t,r){"use strict";var i,n,o,s=e("../internals/export"),a=e("../internals/is-pure"),l=e("../internals/engine-is-node"),c=e("../internals/global"),d=e("../internals/function-call"),u=e("../internals/define-built-in"),h=e("../internals/object-set-prototype-of"),f=e("../internals/set-to-string-tag"),m=e("../internals/set-species"),g=e("../internals/a-callable"),p=e("../internals/is-callable"),b=e("../internals/is-object"),_=e("../internals/an-instance"),E=e("../internals/species-constructor"),O=e("../internals/task").set,V=e("../internals/microtask"),H=e("../internals/host-report-errors"),F=e("../internals/perform"),L=e("../internals/queue"),$=e("../internals/internal-state"),W=e("../internals/promise-native-constructor"),x=e("../internals/promise-constructor-detection"),R=e("../internals/new-promise-capability"),B=x.CONSTRUCTOR,v=x.REJECTION_EVENT,y=x.SUBCLASSING,C=$.getterFor("Promise"),w=$.set,S=W&&W.prototype,M=W,U=S,N=c.TypeError,T=c.document,j=c.process,I=R.f,q=I,A=!!(T&&T.createEvent&&c.dispatchEvent),k=function(Ct){var tt;return!(!b(Ct)||!p(tt=Ct.then))&&tt},Y=function(Ct,tt){var it,ct,mt,bt=tt.value,St=tt.state===1,wt=St?Ct.ok:Ct.fail,At=Ct.resolve,kt=Ct.reject,Mt=Ct.domain;try{wt?(St||(tt.rejection===2&&Et(tt),tt.rejection=1),wt===!0?it=bt:(Mt&&Mt.enter(),it=wt(bt),Mt&&(Mt.exit(),mt=!0)),it===Ct.promise?kt(new N("Promise-chain cycle")):(ct=k(it))?d(ct,it,At,kt):At(it)):kt(bt)}catch(Nt){Mt&&!mt&&Mt.exit(),kt(Nt)}},Z=function(Ct,tt){Ct.notified||(Ct.notified=!0,V(function(){for(var it,ct=Ct.reactions;it=ct.get();)Y(it,Ct);Ct.notified=!1,tt&&!Ct.rejection&&J(Ct)}))},lt=function(Ct,tt,it){var ct,mt;A?((ct=T.createEvent("Event")).promise=tt,ct.reason=it,ct.initEvent(Ct,!1,!0),c.dispatchEvent(ct)):ct={promise:tt,reason:it},!v&&(mt=c["on"+Ct])?mt(ct):Ct==="unhandledrejection"&&H("Unhandled promise rejection",it)},J=function(Ct){d(O,c,function(){var tt,it=Ct.facade,ct=Ct.value;if(et(Ct)&&(tt=F(function(){l?j.emit("unhandledRejection",ct,it):lt("unhandledrejection",it,ct)}),Ct.rejection=l||et(Ct)?2:1,tt.error))throw tt.value})},et=function(Ct){return Ct.rejection!==1&&!Ct.parent},Et=function(Ct){d(O,c,function(){var tt=Ct.facade;l?j.emit("rejectionHandled",tt):lt("rejectionhandled",tt,Ct.value)})},Rt=function(Ct,tt,it){return function(ct){Ct(tt,ct,it)}},nt=function(Ct,tt,it){Ct.done||(Ct.done=!0,it&&(Ct=it),Ct.value=tt,Ct.state=2,Z(Ct,!0))},at=function(Ct,tt,it){if(!Ct.done){Ct.done=!0,it&&(Ct=it);try{if(Ct.facade===tt)throw new N("Promise can't be resolved itself");var ct=k(tt);ct?V(function(){var mt={done:!1};try{d(ct,tt,Rt(at,mt,Ct),Rt(nt,mt,Ct))}catch(bt){nt(mt,bt,Ct)}}):(Ct.value=tt,Ct.state=1,Z(Ct,!1))}catch(mt){nt({done:!1},mt,Ct)}}};if(B&&(U=(M=function(Ct){_(this,U),g(Ct),d(i,this);var tt=C(this);try{Ct(Rt(at,tt),Rt(nt,tt))}catch(it){nt(tt,it)}}).prototype,(i=function(Ct){w(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new L,rejection:!1,state:0,value:void 0})}).prototype=u(U,"then",function(Ct,tt){var it=C(this),ct=I(E(this,M));return it.parent=!0,ct.ok=!p(Ct)||Ct,ct.fail=p(tt)&&tt,ct.domain=l?j.domain:void 0,it.state===0?it.reactions.add(ct):V(function(){Y(ct,it)}),ct.promise}),n=function(){var Ct=new i,tt=C(Ct);this.promise=Ct,this.resolve=Rt(at,tt),this.reject=Rt(nt,tt)},R.f=I=function(Ct){return Ct===M||Ct===void 0?new n(Ct):q(Ct)},!a&&p(W)&&S!==Object.prototype)){o=S.then,y||u(S,"then",function(Ct,tt){var it=this;return new M(function(ct,mt){d(o,it,ct,mt)}).then(Ct,tt)},{unsafe:!0});try{delete S.constructor}catch{}h&&h(S,U)}s({global:!0,constructor:!0,wrap:!0,forced:B},{Promise:M}),f(M,"Promise",!1,!0),m("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(e,t,r){"use strict";var i=e("../internals/export"),n=e("../internals/is-pure"),o=e("../internals/promise-native-constructor"),s=e("../internals/fails"),a=e("../internals/get-built-in"),l=e("../internals/is-callable"),c=e("../internals/species-constructor"),d=e("../internals/promise-resolve"),u=e("../internals/define-built-in"),h=o&&o.prototype;if(i({target:"Promise",proto:!0,real:!0,forced:!!o&&s(function(){h.finally.call({then:function(){}},function(){})})},{finally:function(m){var g=c(this,a("Promise")),p=l(m);return this.then(p?function(b){return d(g,m()).then(function(){return b})}:m,p?function(b){return d(g,m()).then(function(){throw b})}:m)}}),!n&&l(o)){var f=a("Promise").prototype.finally;h.finally!==f&&u(h,"finally",f,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(e,t,r){"use strict";e("../modules/es.promise.constructor"),e("../modules/es.promise.all"),e("../modules/es.promise.catch"),e("../modules/es.promise.race"),e("../modules/es.promise.reject"),e("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(e,t,r){"use strict";var i=e("../internals/export"),n=e("../internals/function-call"),o=e("../internals/a-callable"),s=e("../internals/new-promise-capability"),a=e("../internals/perform"),l=e("../internals/iterate");i({target:"Promise",stat:!0,forced:e("../internals/promise-statics-incorrect-iteration")},{race:function(c){var d=this,u=s.f(d),h=u.reject,f=a(function(){var m=o(d.resolve);l(c,function(g){n(m,d,g).then(u.resolve,h)})});return f.error&&h(f.value),u.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(e,t,r){"use strict";var i=e("../internals/export"),n=e("../internals/function-call"),o=e("../internals/new-promise-capability");i({target:"Promise",stat:!0,forced:e("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(s){var a=o.f(this);return n(a.reject,void 0,s),a.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(e,t,r){"use strict";var i=e("../internals/export"),n=e("../internals/get-built-in"),o=e("../internals/is-pure"),s=e("../internals/promise-native-constructor"),a=e("../internals/promise-constructor-detection").CONSTRUCTOR,l=e("../internals/promise-resolve"),c=n("Promise"),d=o&&!a;i({target:"Promise",stat:!0,forced:o||a},{resolve:function(u){return l(d&&this===c?s:this,u)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(e,t,r){"use strict";var i=e("../internals/export"),n=e("../internals/function-uncurry-this"),o=e("../internals/to-absolute-index"),s=RangeError,a=String.fromCharCode,l=String.fromCodePoint,c=n([].join);i({target:"String",stat:!0,arity:1,forced:!!l&&l.length!==1},{fromCodePoint:function(d){for(var u,h=[],f=arguments.length,m=0;f>m;){if(u=+arguments[m++],o(u,1114111)!==u)throw new s(u+" is not a valid code point");h[m]=u<65536?a(u):a(55296+((u-=65536)>>10),u%1024+56320)}return c(h,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(e,t,r){"use strict";var i=e("../internals/export"),n=e("../internals/function-uncurry-this"),o=e("../internals/not-a-regexp"),s=e("../internals/require-object-coercible"),a=e("../internals/to-string"),l=e("../internals/correct-is-regexp-logic"),c=n("".indexOf);i({target:"String",proto:!0,forced:!l("includes")},{includes:function(d){return!!~c(a(s(this)),a(o(d)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(e,t,r){"use strict";e("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(e,t,r){"use strict";var i=e("../internals/export"),n=e("../internals/global"),o=e("../internals/function-call"),s=e("../internals/function-uncurry-this"),a=e("../internals/is-pure"),l=e("../internals/descriptors"),c=e("../internals/symbol-constructor-detection"),d=e("../internals/fails"),u=e("../internals/has-own-property"),h=e("../internals/object-is-prototype-of"),f=e("../internals/an-object"),m=e("../internals/to-indexed-object"),g=e("../internals/to-property-key"),p=e("../internals/to-string"),b=e("../internals/create-property-descriptor"),_=e("../internals/object-create"),E=e("../internals/object-keys"),O=e("../internals/object-get-own-property-names"),V=e("../internals/object-get-own-property-names-external"),H=e("../internals/object-get-own-property-symbols"),F=e("../internals/object-get-own-property-descriptor"),L=e("../internals/object-define-property"),$=e("../internals/object-define-properties"),W=e("../internals/object-property-is-enumerable"),x=e("../internals/define-built-in"),R=e("../internals/define-built-in-accessor"),B=e("../internals/shared"),v=e("../internals/shared-key"),y=e("../internals/hidden-keys"),C=e("../internals/uid"),w=e("../internals/well-known-symbol"),S=e("../internals/well-known-symbol-wrapped"),M=e("../internals/well-known-symbol-define"),U=e("../internals/symbol-define-to-primitive"),N=e("../internals/set-to-string-tag"),T=e("../internals/internal-state"),j=e("../internals/array-iteration").forEach,I=v("hidden"),q=T.set,A=T.getterFor("Symbol"),k=Object.prototype,Y=n.Symbol,Z=Y&&Y.prototype,lt=n.RangeError,J=n.TypeError,et=n.QObject,Et=F.f,Rt=L.f,nt=V.f,at=W.f,Ct=s([].push),tt=B("symbols"),it=B("op-symbols"),ct=B("wks"),mt=!et||!et.prototype||!et.prototype.findChild,bt=function(Wt,re,Qt){var Fe=Et(k,re);Fe&&delete k[re],Rt(Wt,re,Qt),Fe&&Wt!==k&&Rt(k,re,Fe)},St=l&&d(function(){return _(Rt({},"a",{get:function(){return Rt(this,"a",{value:7}).a}})).a!==7})?bt:Rt,wt=function(Wt,re){var Qt=tt[Wt]=_(Z);return q(Qt,{type:"Symbol",tag:Wt,description:re}),l||(Qt.description=re),Qt},At=function(Wt,re,Qt){Wt===k&&At(it,re,Qt),f(Wt);var Fe=g(re);return f(Qt),u(tt,Fe)?(Qt.enumerable?(u(Wt,I)&&Wt[I][Fe]&&(Wt[I][Fe]=!1),Qt=_(Qt,{enumerable:b(0,!1)})):(u(Wt,I)||Rt(Wt,I,b(1,{})),Wt[I][Fe]=!0),St(Wt,Fe,Qt)):Rt(Wt,Fe,Qt)},kt=function(Wt,re){f(Wt);var Qt=m(re),Fe=E(Qt).concat(qt(Qt));return j(Fe,function(le){l&&!o(Mt,Qt,le)||At(Wt,le,Qt[le])}),Wt},Mt=function(Wt){var re=g(Wt),Qt=o(at,this,re);return!(this===k&&u(tt,re)&&!u(it,re))&&(!(Qt||!u(this,re)||!u(tt,re)||u(this,I)&&this[I][re])||Qt)},Nt=function(Wt,re){var Qt=m(Wt),Fe=g(re);if(Qt!==k||!u(tt,Fe)||u(it,Fe)){var le=Et(Qt,Fe);return!le||!u(tt,Fe)||u(Qt,I)&&Qt[I][Fe]||(le.enumerable=!0),le}},Ut=function(Wt){var re=nt(m(Wt)),Qt=[];return j(re,function(Fe){u(tt,Fe)||u(y,Fe)||Ct(Qt,Fe)}),Qt},qt=function(Wt){var re=Wt===k,Qt=nt(re?it:m(Wt)),Fe=[];return j(Qt,function(le){!u(tt,le)||re&&!u(k,le)||Ct(Fe,tt[le])}),Fe};c||(x(Z=(Y=function(){if(h(Z,this))throw new J("Symbol is not a constructor");var Wt=arguments.length&&arguments[0]!==void 0?p(arguments[0]):void 0,re=C(Wt),Qt=function(Fe){this===k&&o(Qt,it,Fe),u(this,I)&&u(this[I],re)&&(this[I][re]=!1);var le=b(1,Fe);try{St(this,re,le)}catch(fe){if(!(fe instanceof lt))throw fe;bt(this,re,le)}};return l&&mt&&St(k,re,{configurable:!0,set:Qt}),wt(re,Wt)}).prototype,"toString",function(){return A(this).tag}),x(Y,"withoutSetter",function(Wt){return wt(C(Wt),Wt)}),W.f=Mt,L.f=At,$.f=kt,F.f=Nt,O.f=V.f=Ut,H.f=qt,S.f=function(Wt){return wt(w(Wt),Wt)},l&&(R(Z,"description",{configurable:!0,get:function(){return A(this).description}}),a||x(k,"propertyIsEnumerable",Mt,{unsafe:!0}))),i({global:!0,constructor:!0,wrap:!0,forced:!c,sham:!c},{Symbol:Y}),j(E(ct),function(Wt){M(Wt)}),i({target:"Symbol",stat:!0,forced:!c},{useSetter:function(){mt=!0},useSimple:function(){mt=!1}}),i({target:"Object",stat:!0,forced:!c,sham:!l},{create:function(Wt,re){return re===void 0?_(Wt):kt(_(Wt),re)},defineProperty:At,defineProperties:kt,getOwnPropertyDescriptor:Nt}),i({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:Ut}),U(),N(Y,"Symbol"),y[I]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(e,t,r){"use strict";var i=e("../internals/export"),n=e("../internals/get-built-in"),o=e("../internals/has-own-property"),s=e("../internals/to-string"),a=e("../internals/shared"),l=e("../internals/symbol-registry-detection"),c=a("string-to-symbol-registry"),d=a("symbol-to-string-registry");i({target:"Symbol",stat:!0,forced:!l},{for:function(u){var h=s(u);if(o(c,h))return c[h];var f=n("Symbol")(h);return c[h]=f,d[f]=h,f}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(e,t,r){"use strict";e("../modules/es.symbol.constructor"),e("../modules/es.symbol.for"),e("../modules/es.symbol.key-for"),e("../modules/es.json.stringify"),e("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(e,t,r){"use strict";var i=e("../internals/export"),n=e("../internals/has-own-property"),o=e("../internals/is-symbol"),s=e("../internals/try-to-string"),a=e("../internals/shared"),l=e("../internals/symbol-registry-detection"),c=a("symbol-to-string-registry");i({target:"Symbol",stat:!0,forced:!l},{keyFor:function(d){if(!o(d))throw new TypeError(s(d)+" is not a symbol");if(n(c,d))return c[d]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(e,t,r){"use strict";function i(n){return Object.prototype.toString.call(n)}r.isArray=function(n){return Array.isArray?Array.isArray(n):i(n)==="[object Array]"},r.isBoolean=function(n){return typeof n=="boolean"},r.isNull=function(n){return n===null},r.isNullOrUndefined=function(n){return n==null},r.isNumber=function(n){return typeof n=="number"},r.isString=function(n){return typeof n=="string"},r.isSymbol=function(n){return typeof n=="symbol"},r.isUndefined=function(n){return n===void 0},r.isRegExp=function(n){return i(n)==="[object RegExp]"},r.isObject=function(n){return typeof n=="object"&&n!==null},r.isDate=function(n){return i(n)==="[object Date]"},r.isError=function(n){return i(n)==="[object Error]"||n instanceof Error},r.isFunction=function(n){return typeof n=="function"},r.isPrimitive=function(n){return n===null||typeof n=="boolean"||typeof n=="number"||typeof n=="string"||typeof n=="symbol"||n===void 0},r.isBuffer=e("buffer").Buffer.isBuffer},{buffer:220}],384:[function(e,t,r){(function(i){(function(){"use strict";var n=e("elliptic"),o=e("bn.js");t.exports=function(c){return new a(c)};var s={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function a(c){this.curveType=s[c],this.curveType||(this.curveType={name:c}),this.curve=new n.ec(this.curveType.name),this.keys=void 0}function l(c,d,u){Array.isArray(c)||(c=c.toArray());var h=new i(c);if(u&&h.length<u){var f=new i(u-h.length);f.fill(0),h=i.concat([f,h])}return d?h.toString(d):h}s.p224=s.secp224r1,s.p256=s.secp256r1=s.prime256v1,s.p192=s.secp192r1=s.prime192v1,s.p384=s.secp384r1,s.p521=s.secp521r1,a.prototype.generateKeys=function(c,d){return this.keys=this.curve.genKeyPair(),this.getPublicKey(c,d)},a.prototype.computeSecret=function(c,d,u){return d=d||"utf8",i.isBuffer(c)||(c=new i(c,d)),l(this.curve.keyFromPublic(c).getPublic().mul(this.keys.getPrivate()).getX(),u,this.curveType.byteLength)},a.prototype.getPublicKey=function(c,d){var u=this.keys.getPublic(d==="compressed",!0);return d==="hybrid"&&(u[u.length-1]%2?u[0]=7:u[0]=6),l(u,c)},a.prototype.getPrivateKey=function(c){return l(this.keys.getPrivate(),c)},a.prototype.setPublicKey=function(c,d){return d=d||"utf8",i.isBuffer(c)||(c=new i(c,d)),this.keys._importPublic(c),this},a.prototype.setPrivateKey=function(c,d){d=d||"utf8",i.isBuffer(c)||(c=new i(c,d));var u=new o(c);return u=u.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(u),this}}).call(this)}).call(this,e("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(e,t,r){arguments[4][184][0].apply(r,arguments)},{buffer:188,dup:184}],386:[function(e,t,r){"use strict";var i=e("inherits"),n=e("md5.js"),o=e("ripemd160"),s=e("sha.js"),a=e("cipher-base");function l(c){a.call(this,"digest"),this._hash=c}i(l,a),l.prototype._update=function(c){this._hash.update(c)},l.prototype._final=function(){return this._hash.digest()},t.exports=function(c){return(c=c.toLowerCase())==="md5"?new n:c==="rmd160"||c==="ripemd160"?new o:new l(s(c))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(e,t,r){"use strict";var i=e("md5.js");t.exports=function(n){return new i().update(n).digest()}},{"md5.js":450}],388:[function(e,t,r){"use strict";var i=e("inherits"),n=e("./legacy"),o=e("cipher-base"),s=e("safe-buffer").Buffer,a=e("create-hash/md5"),l=e("ripemd160"),c=e("sha.js"),d=s.alloc(128);function u(h,f){o.call(this,"digest"),typeof f=="string"&&(f=s.from(f));var m=h==="sha512"||h==="sha384"?128:64;this._alg=h,this._key=f,f.length>m?f=(h==="rmd160"?new l:c(h)).update(f).digest():f.length<m&&(f=s.concat([f,d],m));for(var g=this._ipad=s.allocUnsafe(m),p=this._opad=s.allocUnsafe(m),b=0;b<m;b++)g[b]=54^f[b],p[b]=92^f[b];this._hash=h==="rmd160"?new l:c(h),this._hash.update(g)}i(u,o),u.prototype._update=function(h){this._hash.update(h)},u.prototype._final=function(){var h=this._hash.digest();return(this._alg==="rmd160"?new l:c(this._alg)).update(this._opad).update(h).digest()},t.exports=function(h,f){return(h=h.toLowerCase())==="rmd160"||h==="ripemd160"?new u("rmd160",f):h==="md5"?new n(a,f):new u(h,f)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(e,t,r){"use strict";var i=e("inherits"),n=e("safe-buffer").Buffer,o=e("cipher-base"),s=n.alloc(128);function a(l,c){o.call(this,"digest"),typeof c=="string"&&(c=n.from(c)),this._alg=l,this._key=c,c.length>64?c=l(c):c.length<64&&(c=n.concat([c,s],64));for(var d=this._ipad=n.allocUnsafe(64),u=this._opad=n.allocUnsafe(64),h=0;h<64;h++)d[h]=54^c[h],u[h]=92^c[h];this._hash=[d]}i(a,o),a.prototype._update=function(l){this._hash.push(l)},a.prototype._final=function(){var l=this._alg(n.concat(this._hash));return this._alg(n.concat([this._opad,l]))},t.exports=a},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(e,t,r){"use strict";r.randomBytes=r.rng=r.pseudoRandomBytes=r.prng=e("randombytes"),r.createHash=r.Hash=e("create-hash"),r.createHmac=r.Hmac=e("create-hmac");var i=e("browserify-sign/algos"),n=Object.keys(i),o=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(n);r.getHashes=function(){return o};var s=e("pbkdf2");r.pbkdf2=s.pbkdf2,r.pbkdf2Sync=s.pbkdf2Sync;var a=e("browserify-cipher");r.Cipher=a.Cipher,r.createCipher=a.createCipher,r.Cipheriv=a.Cipheriv,r.createCipheriv=a.createCipheriv,r.Decipher=a.Decipher,r.createDecipher=a.createDecipher,r.Decipheriv=a.Decipheriv,r.createDecipheriv=a.createDecipheriv,r.getCiphers=a.getCiphers,r.listCiphers=a.listCiphers;var l=e("diffie-hellman");r.DiffieHellmanGroup=l.DiffieHellmanGroup,r.createDiffieHellmanGroup=l.createDiffieHellmanGroup,r.getDiffieHellman=l.getDiffieHellman,r.createDiffieHellman=l.createDiffieHellman,r.DiffieHellman=l.DiffieHellman;var c=e("browserify-sign");r.createSign=c.createSign,r.Sign=c.Sign,r.createVerify=c.createVerify,r.Verify=c.Verify,r.createECDH=e("create-ecdh");var d=e("public-encrypt");r.publicEncrypt=d.publicEncrypt,r.privateEncrypt=d.privateEncrypt,r.publicDecrypt=d.publicDecrypt,r.privateDecrypt=d.privateDecrypt;var u=e("randomfill");r.randomFill=u.randomFill,r.randomFillSync=u.randomFillSync,r.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},r.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(e,t,r){"use strict";(function(i,n){typeof r=="object"&&t!==void 0?t.exports=n():(i=typeof globalThis<"u"?globalThis:i||self).dayjs=n()})(void 0,function(){var i=6e4,n=36e5,o="millisecond",s="second",a="minute",l="hour",c="day",d="week",u="month",h="quarter",f="year",m="date",g="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,b=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,_={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(v){var y=["th","st","nd","rd"],C=v%100;return"["+v+(y[(C-20)%10]||y[C]||y[0])+"]"}},E=function(v,y,C){var w=String(v);return!w||w.length>=y?v:""+Array(y+1-w.length).join(C)+v},O={s:E,z:function(v){var y=-v.utcOffset(),C=Math.abs(y),w=Math.floor(C/60),S=C%60;return(y<=0?"+":"-")+E(w,2,"0")+":"+E(S,2,"0")},m:function v(y,C){if(y.date()<C.date())return-v(C,y);var w=12*(C.year()-y.year())+(C.month()-y.month()),S=y.clone().add(w,u),M=C-S<0,U=y.clone().add(w+(M?-1:1),u);return+(-(w+(C-S)/(M?S-U:U-S))||0)},a:function(v){return v<0?Math.ceil(v)||0:Math.floor(v)},p:function(v){return{M:u,y:f,w:d,d:c,D:m,h:l,m:a,s,ms:o,Q:h}[v]||String(v||"").toLowerCase().replace(/s$/,"")},u:function(v){return v===void 0}},V="en",H={};H[V]=_;var F="$isDayjsObject",L=function(v){return v instanceof R||!(!v||!v[F])},$=function v(y,C,w){var S;if(!y)return V;if(typeof y=="string"){var M=y.toLowerCase();H[M]&&(S=M),C&&(H[M]=C,S=M);var U=y.split("-");if(!S&&U.length>1)return v(U[0])}else{var N=y.name;H[N]=y,S=N}return!w&&S&&(V=S),S||!w&&V},W=function(v,y){if(L(v))return v.clone();var C=typeof y=="object"?y:{};return C.date=v,C.args=arguments,new R(C)},x=O;x.l=$,x.i=L,x.w=function(v,y){return W(v,{locale:y.$L,utc:y.$u,x:y.$x,$offset:y.$offset})};var R=function(){function v(C){this.$L=$(C.locale,null,!0),this.parse(C),this.$x=this.$x||C.x||{},this[F]=!0}var y=v.prototype;return y.parse=function(C){this.$d=function(w){var S=w.date,M=w.utc;if(S===null)return new Date(NaN);if(x.u(S))return new Date;if(S instanceof Date)return new Date(S);if(typeof S=="string"&&!/Z$/i.test(S)){var U=S.match(p);if(U){var N=U[2]-1||0,T=(U[7]||"0").substring(0,3);return M?new Date(Date.UTC(U[1],N,U[3]||1,U[4]||0,U[5]||0,U[6]||0,T)):new Date(U[1],N,U[3]||1,U[4]||0,U[5]||0,U[6]||0,T)}}return new Date(S)}(C),this.init()},y.init=function(){var C=this.$d;this.$y=C.getFullYear(),this.$M=C.getMonth(),this.$D=C.getDate(),this.$W=C.getDay(),this.$H=C.getHours(),this.$m=C.getMinutes(),this.$s=C.getSeconds(),this.$ms=C.getMilliseconds()},y.$utils=function(){return x},y.isValid=function(){return this.$d.toString()!==g},y.isSame=function(C,w){var S=W(C);return this.startOf(w)<=S&&S<=this.endOf(w)},y.isAfter=function(C,w){return W(C)<this.startOf(w)},y.isBefore=function(C,w){return this.endOf(w)<W(C)},y.$g=function(C,w,S){return x.u(C)?this[w]:this.set(S,C)},y.unix=function(){return Math.floor(this.valueOf()/1e3)},y.valueOf=function(){return this.$d.getTime()},y.startOf=function(C,w){var S=this,M=!!x.u(w)||w,U=x.p(C),N=function(Z,lt){var J=x.w(S.$u?Date.UTC(S.$y,lt,Z):new Date(S.$y,lt,Z),S);return M?J:J.endOf(c)},T=function(Z,lt){return x.w(S.toDate()[Z].apply(S.toDate("s"),(M?[0,0,0,0]:[23,59,59,999]).slice(lt)),S)},j=this.$W,I=this.$M,q=this.$D,A="set"+(this.$u?"UTC":"");switch(U){case f:return M?N(1,0):N(31,11);case u:return M?N(1,I):N(0,I+1);case d:var k=this.$locale().weekStart||0,Y=(j<k?j+7:j)-k;return N(M?q-Y:q+(6-Y),I);case c:case m:return T(A+"Hours",0);case l:return T(A+"Minutes",1);case a:return T(A+"Seconds",2);case s:return T(A+"Milliseconds",3);default:return this.clone()}},y.endOf=function(C){return this.startOf(C,!1)},y.$set=function(C,w){var S,M=x.p(C),U="set"+(this.$u?"UTC":""),N=(S={},S[c]=U+"Date",S[m]=U+"Date",S[u]=U+"Month",S[f]=U+"FullYear",S[l]=U+"Hours",S[a]=U+"Minutes",S[s]=U+"Seconds",S[o]=U+"Milliseconds",S)[M],T=M===c?this.$D+(w-this.$W):w;if(M===u||M===f){var j=this.clone().set(m,1);j.$d[N](T),j.init(),this.$d=j.set(m,Math.min(this.$D,j.daysInMonth())).$d}else N&&this.$d[N](T);return this.init(),this},y.set=function(C,w){return this.clone().$set(C,w)},y.get=function(C){return this[x.p(C)]()},y.add=function(C,w){var S,M=this;C=Number(C);var U=x.p(w),N=function(I){var q=W(M);return x.w(q.date(q.date()+Math.round(I*C)),M)};if(U===u)return this.set(u,this.$M+C);if(U===f)return this.set(f,this.$y+C);if(U===c)return N(1);if(U===d)return N(7);var T=(S={},S[a]=i,S[l]=n,S[s]=1e3,S)[U]||1,j=this.$d.getTime()+C*T;return x.w(j,this)},y.subtract=function(C,w){return this.add(-1*C,w)},y.format=function(C){var w=this,S=this.$locale();if(!this.isValid())return S.invalidDate||g;var M=C||"YYYY-MM-DDTHH:mm:ssZ",U=x.z(this),N=this.$H,T=this.$m,j=this.$M,I=S.weekdays,q=S.months,A=S.meridiem,k=function(lt,J,et,Et){return lt&&(lt[J]||lt(w,M))||et[J].slice(0,Et)},Y=function(lt){return x.s(N%12||12,lt,"0")},Z=A||function(lt,J,et){var Et=lt<12?"AM":"PM";return et?Et.toLowerCase():Et};return M.replace(b,function(lt,J){return J||function(et){switch(et){case"YY":return String(w.$y).slice(-2);case"YYYY":return x.s(w.$y,4,"0");case"M":return j+1;case"MM":return x.s(j+1,2,"0");case"MMM":return k(S.monthsShort,j,q,3);case"MMMM":return k(q,j);case"D":return w.$D;case"DD":return x.s(w.$D,2,"0");case"d":return String(w.$W);case"dd":return k(S.weekdaysMin,w.$W,I,2);case"ddd":return k(S.weekdaysShort,w.$W,I,3);case"dddd":return I[w.$W];case"H":return String(N);case"HH":return x.s(N,2,"0");case"h":return Y(1);case"hh":return Y(2);case"a":return Z(N,T,!0);case"A":return Z(N,T,!1);case"m":return String(T);case"mm":return x.s(T,2,"0");case"s":return String(w.$s);case"ss":return x.s(w.$s,2,"0");case"SSS":return x.s(w.$ms,3,"0");case"Z":return U}return null}(lt)||U.replace(":","")})},y.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},y.diff=function(C,w,S){var M,U=this,N=x.p(w),T=W(C),j=(T.utcOffset()-this.utcOffset())*i,I=this-T,q=function(){return x.m(U,T)};switch(N){case f:M=q()/12;break;case u:M=q();break;case h:M=q()/3;break;case d:M=(I-j)/6048e5;break;case c:M=(I-j)/864e5;break;case l:M=I/n;break;case a:M=I/i;break;case s:M=I/1e3;break;default:M=I}return S?M:x.a(M)},y.daysInMonth=function(){return this.endOf(u).$D},y.$locale=function(){return H[this.$L]},y.locale=function(C,w){if(!C)return this.$L;var S=this.clone(),M=$(C,w,!0);return M&&(S.$L=M),S},y.clone=function(){return x.w(this.$d,this)},y.toDate=function(){return new Date(this.valueOf())},y.toJSON=function(){return this.isValid()?this.toISOString():null},y.toISOString=function(){return this.$d.toISOString()},y.toString=function(){return this.$d.toUTCString()},v}(),B=R.prototype;return W.prototype=B,[["$ms",o],["$s",s],["$m",a],["$H",l],["$W",c],["$M",u],["$y",f],["$D",m]].forEach(function(v){B[v[1]]=function(y){return this.$g(y,v[0],v[1])}}),W.extend=function(v,y){return v.$i||(v(y,R,W),v.$i=!0),W},W.locale=$,W.isDayjs=L,W.unix=function(v){return W(1e3*v)},W.en=H[V],W.Ls=H,W.p={},W})},{}],392:[function(e,t,r){"use strict";(function(i,n){typeof r=="object"&&t!==void 0?t.exports=n():(i=typeof globalThis<"u"?globalThis:i||self).dayjs_plugin_customParseFormat=n()})(void 0,function(){var i={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},n=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,o=/\d\d/,s=/\d\d?/,a=/\d*[^-_:/,()\s\d]+/,l={},c=function(p){return(p=+p)+(p>68?1900:2e3)},d=function(p){return function(b){this[p]=+b}},u=[/[+-]\d\d:?(\d\d)?|Z/,function(p){(this.zone||(this.zone={})).offset=function(b){if(!b||b==="Z")return 0;var _=b.match(/([+-]|\d\d)/g),E=60*_[1]+(+_[2]||0);return E===0?0:_[0]==="+"?-E:E}(p)}],h=function(p){var b=l[p];return b&&(b.indexOf?b:b.s.concat(b.f))},f=function(p,b){var _,E=l.meridiem;if(E){for(var O=1;O<=24;O+=1)if(p.indexOf(E(O,0,b))>-1){_=O>12;break}}else _=p===(b?"pm":"PM");return _},m={A:[a,function(p){this.afternoon=f(p,!1)}],a:[a,function(p){this.afternoon=f(p,!0)}],S:[/\d/,function(p){this.milliseconds=100*+p}],SS:[o,function(p){this.milliseconds=10*+p}],SSS:[/\d{3}/,function(p){this.milliseconds=+p}],s:[s,d("seconds")],ss:[s,d("seconds")],m:[s,d("minutes")],mm:[s,d("minutes")],H:[s,d("hours")],h:[s,d("hours")],HH:[s,d("hours")],hh:[s,d("hours")],D:[s,d("day")],DD:[o,d("day")],Do:[a,function(p){var b=l.ordinal,_=p.match(/\d+/);if(this.day=_[0],b)for(var E=1;E<=31;E+=1)b(E).replace(/\[|\]/g,"")===p&&(this.day=E)}],M:[s,d("month")],MM:[o,d("month")],MMM:[a,function(p){var b=h("months"),_=(h("monthsShort")||b.map(function(E){return E.slice(0,3)})).indexOf(p)+1;if(_<1)throw new Error;this.month=_%12||_}],MMMM:[a,function(p){var b=h("months").indexOf(p)+1;if(b<1)throw new Error;this.month=b%12||b}],Y:[/[+-]?\d+/,d("year")],YY:[o,function(p){this.year=c(p)}],YYYY:[/\d{4}/,d("year")],Z:u,ZZ:u};function g(p){var b,_;b=p,_=l&&l.formats;for(var E=(p=b.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(W,x,R){var B=R&&R.toUpperCase();return x||_[R]||i[R]||_[B].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(v,y,C){return y||C.slice(1)})})).match(n),O=E.length,V=0;V<O;V+=1){var H=E[V],F=m[H],L=F&&F[0],$=F&&F[1];E[V]=$?{regex:L,parser:$}:H.replace(/^\[|\]$/g,"")}return function(W){for(var x={},R=0,B=0;R<O;R+=1){var v=E[R];if(typeof v=="string")B+=v.length;else{var y=v.regex,C=v.parser,w=W.slice(B),S=y.exec(w)[0];C.call(x,S),W=W.replace(S,"")}}return function(M){var U=M.afternoon;if(U!==void 0){var N=M.hours;U?N<12&&(M.hours+=12):N===12&&(M.hours=0),delete M.afternoon}}(x),x}}return function(p,b,_){_.p.customParseFormat=!0,p&&p.parseTwoDigitYear&&(c=p.parseTwoDigitYear);var E=b.prototype,O=E.parse;E.parse=function(V){var H=V.date,F=V.utc,L=V.args;this.$u=F;var $=L[1];if(typeof $=="string"){var W=L[2]===!0,x=L[3]===!0,R=W||x,B=L[2];x&&(B=L[2]),l=this.$locale(),!W&&B&&(l=_.Ls[B]),this.$d=function(w,S,M){try{if(["x","X"].indexOf(S)>-1)return new Date((S==="X"?1e3:1)*w);var U=g(S)(w),N=U.year,T=U.month,j=U.day,I=U.hours,q=U.minutes,A=U.seconds,k=U.milliseconds,Y=U.zone,Z=new Date,lt=j||(N||T?1:Z.getDate()),J=N||Z.getFullYear(),et=0;N&&!T||(et=T>0?T-1:Z.getMonth());var Et=I||0,Rt=q||0,nt=A||0,at=k||0;return Y?new Date(Date.UTC(J,et,lt,Et,Rt,nt,at+60*Y.offset*1e3)):M?new Date(Date.UTC(J,et,lt,Et,Rt,nt,at)):new Date(J,et,lt,Et,Rt,nt,at)}catch{return new Date("")}}(H,$,F),this.init(),B&&B!==!0&&(this.$L=this.locale(B).$L),R&&H!=this.format($)&&(this.$d=new Date("")),l={}}else if($ instanceof Array)for(var v=$.length,y=1;y<=v;y+=1){L[1]=$[y-1];var C=_.apply(this,L);if(C.isValid()){this.$d=C.$d,this.$L=C.$L,this.init();break}y===v&&(this.$d=new Date(""))}else O.call(this,V)}}})},{}],393:[function(e,t,r){"use strict";(function(i,n){typeof r=="object"&&t!==void 0?t.exports=n():(i=typeof globalThis<"u"?globalThis:i||self).dayjs_plugin_utc=n()})(void 0,function(){var i="minute",n=/[+-]\d\d(?::?\d\d)?/g,o=/([+-]|\d\d)/g;return function(s,a,l){var c=a.prototype;l.utc=function(p){var b={date:p,utc:!0,args:arguments};return new a(b)},c.utc=function(p){var b=l(this.toDate(),{locale:this.$L,utc:!0});return p?b.add(this.utcOffset(),i):b},c.local=function(){return l(this.toDate(),{locale:this.$L,utc:!1})};var d=c.parse;c.parse=function(p){p.utc&&(this.$u=!0),this.$utils().u(p.$offset)||(this.$offset=p.$offset),d.call(this,p)};var u=c.init;c.init=function(){if(this.$u){var p=this.$d;this.$y=p.getUTCFullYear(),this.$M=p.getUTCMonth(),this.$D=p.getUTCDate(),this.$W=p.getUTCDay(),this.$H=p.getUTCHours(),this.$m=p.getUTCMinutes(),this.$s=p.getUTCSeconds(),this.$ms=p.getUTCMilliseconds()}else u.call(this)};var h=c.utcOffset;c.utcOffset=function(p,b){var _=this.$utils().u;if(_(p))return this.$u?0:_(this.$offset)?h.call(this):this.$offset;if(typeof p=="string"&&(p=function(H){H===void 0&&(H="");var F=H.match(n);if(!F)return null;var L=(""+F[0]).match(o)||["-",0,0],$=L[0],W=60*+L[1]+ +L[2];return W===0?0:$==="+"?W:-W}(p))===null)return this;var E=Math.abs(p)<=16?60*p:p,O=this;if(b)return O.$offset=E,O.$u=p===0,O;if(p!==0){var V=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(O=this.local().add(E+V,i)).$offset=E,O.$x.$localOffset=V}else O=this.utc();return O};var f=c.format;c.format=function(p){var b=p||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return f.call(this,b)},c.valueOf=function(){var p=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*p},c.isUTC=function(){return!!this.$u},c.toISOString=function(){return this.toDate().toISOString()},c.toString=function(){return this.toDate().toUTCString()};var m=c.toDate;c.toDate=function(p){return p==="s"&&this.$offset?l(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():m.call(this)};var g=c.diff;c.diff=function(p,b,_){if(p&&this.$u===p.$u)return g.call(this,p,b,_);var E=this.local(),O=l(p).local();return g.call(E,O,b,_)}}})},{}],394:[function(e,t,r){"use strict";r.utils=e("./des/utils"),r.Cipher=e("./des/cipher"),r.DES=e("./des/des"),r.CBC=e("./des/cbc"),r.EDE=e("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(e,t,r){"use strict";var i=e("minimalistic-assert"),n=e("inherits"),o={};function s(a){i.equal(a.length,8,"Invalid IV length"),this.iv=new Array(8);for(var l=0;l<this.iv.length;l++)this.iv[l]=a[l]}r.instantiate=function(a){function l(h){a.call(this,h),this._cbcInit()}n(l,a);for(var c=Object.keys(o),d=0;d<c.length;d++){var u=c[d];l.prototype[u]=o[u]}return l.create=function(h){return new l(h)},l},o._cbcInit=function(){var a=new s(this.options.iv);this._cbcState=a},o._update=function(a,l,c,d){var u=this._cbcState,h=this.constructor.super_.prototype,f=u.iv;if(this.type==="encrypt"){for(var m=0;m<this.blockSize;m++)f[m]^=a[l+m];for(h._update.call(this,f,0,c,d),m=0;m<this.blockSize;m++)f[m]=c[d+m]}else{for(h._update.call(this,a,l,c,d),m=0;m<this.blockSize;m++)c[d+m]^=f[m];for(m=0;m<this.blockSize;m++)f[m]=a[l+m]}}},{inherits:440,"minimalistic-assert":453}],396:[function(e,t,r){"use strict";var i=e("minimalistic-assert");function n(o){this.options=o,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=o.padding!==!1}t.exports=n,n.prototype._init=function(){},n.prototype.update=function(o){return o.length===0?[]:this.type==="decrypt"?this._updateDecrypt(o):this._updateEncrypt(o)},n.prototype._buffer=function(o,s){for(var a=Math.min(this.buffer.length-this.bufferOff,o.length-s),l=0;l<a;l++)this.buffer[this.bufferOff+l]=o[s+l];return this.bufferOff+=a,a},n.prototype._flushBuffer=function(o,s){return this._update(this.buffer,0,o,s),this.bufferOff=0,this.blockSize},n.prototype._updateEncrypt=function(o){var s=0,a=0,l=(this.bufferOff+o.length)/this.blockSize|0,c=new Array(l*this.blockSize);this.bufferOff!==0&&(s+=this._buffer(o,s),this.bufferOff===this.buffer.length&&(a+=this._flushBuffer(c,a)));for(var d=o.length-(o.length-s)%this.blockSize;s<d;s+=this.blockSize)this._update(o,s,c,a),a+=this.blockSize;for(;s<o.length;s++,this.bufferOff++)this.buffer[this.bufferOff]=o[s];return c},n.prototype._updateDecrypt=function(o){for(var s=0,a=0,l=Math.ceil((this.bufferOff+o.length)/this.blockSize)-1,c=new Array(l*this.blockSize);l>0;l--)s+=this._buffer(o,s),a+=this._flushBuffer(c,a);return s+=this._buffer(o,s),c},n.prototype.final=function(o){var s,a;return o&&(s=this.update(o)),a=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),s?s.concat(a):a},n.prototype._pad=function(o,s){if(s===0)return!1;for(;s<o.length;)o[s++]=0;return!0},n.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var o=new Array(this.blockSize);return this._update(this.buffer,0,o,0),o},n.prototype._unpad=function(o){return o},n.prototype._finalDecrypt=function(){i.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var o=new Array(this.blockSize);return this._flushBuffer(o,0),this._unpad(o)}},{"minimalistic-assert":453}],397:[function(e,t,r){"use strict";var i=e("minimalistic-assert"),n=e("inherits"),o=e("./utils"),s=e("./cipher");function a(){this.tmp=new Array(2),this.keys=null}function l(d){s.call(this,d);var u=new a;this._desState=u,this.deriveKeys(u,d.key)}n(l,s),t.exports=l,l.create=function(d){return new l(d)};var c=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];l.prototype.deriveKeys=function(d,u){d.keys=new Array(32),i.equal(u.length,this.blockSize,"Invalid key length");var h=o.readUInt32BE(u,0),f=o.readUInt32BE(u,4);o.pc1(h,f,d.tmp,0),h=d.tmp[0],f=d.tmp[1];for(var m=0;m<d.keys.length;m+=2){var g=c[m>>>1];h=o.r28shl(h,g),f=o.r28shl(f,g),o.pc2(h,f,d.keys,m)}},l.prototype._update=function(d,u,h,f){var m=this._desState,g=o.readUInt32BE(d,u),p=o.readUInt32BE(d,u+4);o.ip(g,p,m.tmp,0),g=m.tmp[0],p=m.tmp[1],this.type==="encrypt"?this._encrypt(m,g,p,m.tmp,0):this._decrypt(m,g,p,m.tmp,0),g=m.tmp[0],p=m.tmp[1],o.writeUInt32BE(h,g,f),o.writeUInt32BE(h,p,f+4)},l.prototype._pad=function(d,u){if(this.padding===!1)return!1;for(var h=d.length-u,f=u;f<d.length;f++)d[f]=h;return!0},l.prototype._unpad=function(d){if(this.padding===!1)return d;for(var u=d[d.length-1],h=d.length-u;h<d.length;h++)i.equal(d[h],u);return d.slice(0,d.length-u)},l.prototype._encrypt=function(d,u,h,f,m){for(var g=u,p=h,b=0;b<d.keys.length;b+=2){var _=d.keys[b],E=d.keys[b+1];o.expand(p,d.tmp,0),_^=d.tmp[0],E^=d.tmp[1];var O=o.substitute(_,E),V=p;p=(g^o.permute(O))>>>0,g=V}o.rip(p,g,f,m)},l.prototype._decrypt=function(d,u,h,f,m){for(var g=h,p=u,b=d.keys.length-2;b>=0;b-=2){var _=d.keys[b],E=d.keys[b+1];o.expand(g,d.tmp,0),_^=d.tmp[0],E^=d.tmp[1];var O=o.substitute(_,E),V=g;g=(p^o.permute(O))>>>0,p=V}o.rip(g,p,f,m)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(e,t,r){"use strict";var i=e("minimalistic-assert"),n=e("inherits"),o=e("./cipher"),s=e("./des");function a(c,d){i.equal(d.length,24,"Invalid key length");var u=d.slice(0,8),h=d.slice(8,16),f=d.slice(16,24);this.ciphers=c==="encrypt"?[s.create({type:"encrypt",key:u}),s.create({type:"decrypt",key:h}),s.create({type:"encrypt",key:f})]:[s.create({type:"decrypt",key:f}),s.create({type:"encrypt",key:h}),s.create({type:"decrypt",key:u})]}function l(c){o.call(this,c);var d=new a(this.type,this.options.key);this._edeState=d}n(l,o),t.exports=l,l.create=function(c){return new l(c)},l.prototype._update=function(c,d,u,h){var f=this._edeState;f.ciphers[0]._update(c,d,u,h),f.ciphers[1]._update(u,h,u,h),f.ciphers[2]._update(u,h,u,h)},l.prototype._pad=s.prototype._pad,l.prototype._unpad=s.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(e,t,r){"use strict";r.readUInt32BE=function(s,a){return(s[0+a]<<24|s[1+a]<<16|s[2+a]<<8|s[3+a])>>>0},r.writeUInt32BE=function(s,a,l){s[0+l]=a>>>24,s[1+l]=a>>>16&255,s[2+l]=a>>>8&255,s[3+l]=255&a},r.ip=function(s,a,l,c){for(var d=0,u=0,h=6;h>=0;h-=2){for(var f=0;f<=24;f+=8)d<<=1,d|=a>>>f+h&1;for(f=0;f<=24;f+=8)d<<=1,d|=s>>>f+h&1}for(h=6;h>=0;h-=2){for(f=1;f<=25;f+=8)u<<=1,u|=a>>>f+h&1;for(f=1;f<=25;f+=8)u<<=1,u|=s>>>f+h&1}l[c+0]=d>>>0,l[c+1]=u>>>0},r.rip=function(s,a,l,c){for(var d=0,u=0,h=0;h<4;h++)for(var f=24;f>=0;f-=8)d<<=1,d|=a>>>f+h&1,d<<=1,d|=s>>>f+h&1;for(h=4;h<8;h++)for(f=24;f>=0;f-=8)u<<=1,u|=a>>>f+h&1,u<<=1,u|=s>>>f+h&1;l[c+0]=d>>>0,l[c+1]=u>>>0},r.pc1=function(s,a,l,c){for(var d=0,u=0,h=7;h>=5;h--){for(var f=0;f<=24;f+=8)d<<=1,d|=a>>f+h&1;for(f=0;f<=24;f+=8)d<<=1,d|=s>>f+h&1}for(f=0;f<=24;f+=8)d<<=1,d|=a>>f+h&1;for(h=1;h<=3;h++){for(f=0;f<=24;f+=8)u<<=1,u|=a>>f+h&1;for(f=0;f<=24;f+=8)u<<=1,u|=s>>f+h&1}for(f=0;f<=24;f+=8)u<<=1,u|=s>>f+h&1;l[c+0]=d>>>0,l[c+1]=u>>>0},r.r28shl=function(s,a){return s<<a&268435455|s>>>28-a};var i=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];r.pc2=function(s,a,l,c){for(var d=0,u=0,h=i.length>>>1,f=0;f<h;f++)d<<=1,d|=s>>>i[f]&1;for(f=h;f<i.length;f++)u<<=1,u|=a>>>i[f]&1;l[c+0]=d>>>0,l[c+1]=u>>>0},r.expand=function(s,a,l){var c=0,d=0;c=(1&s)<<5|s>>>27;for(var u=23;u>=15;u-=4)c<<=6,c|=s>>>u&63;for(u=11;u>=3;u-=4)d|=s>>>u&63,d<<=6;d|=(31&s)<<1|s>>>31,a[l+0]=c>>>0,a[l+1]=d>>>0};var n=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];r.substitute=function(s,a){for(var l=0,c=0;c<4;c++)l<<=4,l|=n[64*c+(s>>>18-6*c&63)];for(c=0;c<4;c++)l<<=4,l|=n[256+64*c+(a>>>18-6*c&63)];return l>>>0};var o=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];r.permute=function(s){for(var a=0,l=0;l<o.length;l++)a<<=1,a|=s>>>o[l]&1;return a>>>0},r.padSplit=function(s,a,l){for(var c=s.toString(2);c.length<a;)c="0"+c;for(var d=[],u=0;u<a;u+=l)d.push(c.slice(u,u+l));return d.join(" ")}},{}],400:[function(e,t,r){(function(i){(function(){"use strict";var n=e("./lib/generatePrime"),o=e("./lib/primes.json"),s=e("./lib/dh"),a={binary:!0,hex:!0,base64:!0};r.DiffieHellmanGroup=r.createDiffieHellmanGroup=r.getDiffieHellman=function(l){var c=new i(o[l].prime,"hex"),d=new i(o[l].gen,"hex");return new s(c,d)},r.createDiffieHellman=r.DiffieHellman=function l(c,d,u,h){return i.isBuffer(d)||a[d]===void 0?l(c,"binary",d,u):(d=d||"binary",h=h||"binary",u=u||new i([2]),i.isBuffer(u)||(u=new i(u,h)),typeof c=="number"?new s(n(c,u),u,!0):(i.isBuffer(c)||(c=new i(c,d)),new s(c,u,!0)))}}).call(this)}).call(this,e("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(e,t,r){(function(i){(function(){"use strict";var n=e("bn.js"),o=new(e("miller-rabin")),s=new n(24),a=new n(11),l=new n(10),c=new n(3),d=new n(7),u=e("./generatePrime"),h=e("randombytes");function f(_,E){return E=E||"utf8",i.isBuffer(_)||(_=new i(_,E)),this._pub=new n(_),this}function m(_,E){return E=E||"utf8",i.isBuffer(_)||(_=new i(_,E)),this._priv=new n(_),this}t.exports=p;var g={};function p(_,E,O){this.setGenerator(E),this.__prime=new n(_),this._prime=n.mont(this.__prime),this._primeLen=_.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,O?(this.setPublicKey=f,this.setPrivateKey=m):this._primeCode=8}function b(_,E){var O=new i(_.toArray());return E?O.toString(E):O}Object.defineProperty(p.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=function(_,E){var O=E.toString("hex"),V=[O,_.toString(16)].join("_");if(V in g)return g[V];var H,F=0;if(_.isEven()||!u.simpleSieve||!u.fermatTest(_)||!o.test(_))return F+=1,F+=O==="02"||O==="05"?8:4,g[V]=F,F;switch(o.test(_.shrn(1))||(F+=2),O){case"02":_.mod(s).cmp(a)&&(F+=8);break;case"05":(H=_.mod(l)).cmp(c)&&H.cmp(d)&&(F+=8);break;default:F+=4}return g[V]=F,F}(this.__prime,this.__gen)),this._primeCode}}),p.prototype.generateKeys=function(){return this._priv||(this._priv=new n(h(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},p.prototype.computeSecret=function(_){var E=(_=(_=new n(_)).toRed(this._prime)).redPow(this._priv).fromRed(),O=new i(E.toArray()),V=this.getPrime();if(O.length<V.length){var H=new i(V.length-O.length);H.fill(0),O=i.concat([H,O])}return O},p.prototype.getPublicKey=function(_){return b(this._pub,_)},p.prototype.getPrivateKey=function(_){return b(this._priv,_)},p.prototype.getPrime=function(_){return b(this.__prime,_)},p.prototype.getGenerator=function(_){return b(this._gen,_)},p.prototype.setGenerator=function(_,E){return E=E||"utf8",i.isBuffer(_)||(_=new i(_,E)),this.__gen=_,this._gen=new n(_),this}}).call(this)}).call(this,e("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(e,t,r){"use strict";var i=e("randombytes");t.exports=_,_.simpleSieve=p,_.fermatTest=b;var n=e("bn.js"),o=new n(24),s=new(e("miller-rabin")),a=new n(1),l=new n(2),c=new n(5),d=(new n(16),new n(8),new n(10)),u=new n(3),h=(new n(7),new n(11)),f=new n(4),m=(new n(12),null);function g(){if(m!==null)return m;var E=[];E[0]=2;for(var O=1,V=3;V<1048576;V+=2){for(var H=Math.ceil(Math.sqrt(V)),F=0;F<O&&E[F]<=H&&V%E[F]!=0;F++);O!==F&&E[F]<=H||(E[O++]=V)}return m=E,E}function p(E){for(var O=g(),V=0;V<O.length;V++)if(E.modn(O[V])===0)return E.cmpn(O[V])===0;return!0}function b(E){var O=n.mont(E);return l.toRed(O).redPow(E.subn(1)).fromRed().cmpn(1)===0}function _(E,O){if(E<16)return new n(O===2||O===5?[140,123]:[140,39]);var V,H;for(O=new n(O);;){for(V=new n(i(Math.ceil(E/8)));V.bitLength()>E;)V.ishrn(1);if(V.isEven()&&V.iadd(a),V.testn(1)||V.iadd(l),O.cmp(l)){if(!O.cmp(c))for(;V.mod(d).cmp(u);)V.iadd(f)}else for(;V.mod(o).cmp(h);)V.iadd(f);if(p(H=V.shrn(1))&&p(V)&&b(H)&&b(V)&&s.test(H)&&s.test(V))return V}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(e,t,r){t.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(e,t,r){arguments[4][184][0].apply(r,arguments)},{buffer:188,dup:184}],405:[function(e,t,r){"use strict";var i=r;i.version=e("../package.json").version,i.utils=e("./elliptic/utils"),i.rand=e("brorand"),i.curve=e("./elliptic/curve"),i.curves=e("./elliptic/curves"),i.ec=e("./elliptic/ec"),i.eddsa=e("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(e,t,r){"use strict";var i=e("bn.js"),n=e("../utils"),o=n.getNAF,s=n.getJSF,a=n.assert;function l(d,u){this.type=d,this.p=new i(u.p,16),this.red=u.prime?i.red(u.prime):i.mont(this.p),this.zero=new i(0).toRed(this.red),this.one=new i(1).toRed(this.red),this.two=new i(2).toRed(this.red),this.n=u.n&&new i(u.n,16),this.g=u.g&&this.pointFromJSON(u.g,u.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var h=this.n&&this.p.div(this.n);!h||h.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function c(d,u){this.curve=d,this.type=u,this.precomputed=null}t.exports=l,l.prototype.point=function(){throw new Error("Not implemented")},l.prototype.validate=function(){throw new Error("Not implemented")},l.prototype._fixedNafMul=function(d,u){a(d.precomputed);var h=d._getDoubles(),f=o(u,1,this._bitLength),m=(1<<h.step+1)-(h.step%2==0?2:1);m/=3;var g,p,b=[];for(g=0;g<f.length;g+=h.step){p=0;for(var _=g+h.step-1;_>=g;_--)p=(p<<1)+f[_];b.push(p)}for(var E=this.jpoint(null,null,null),O=this.jpoint(null,null,null),V=m;V>0;V--){for(g=0;g<b.length;g++)(p=b[g])===V?O=O.mixedAdd(h.points[g]):p===-V&&(O=O.mixedAdd(h.points[g].neg()));E=E.add(O)}return E.toP()},l.prototype._wnafMul=function(d,u){var h=4,f=d._getNAFPoints(h);h=f.wnd;for(var m=f.points,g=o(u,h,this._bitLength),p=this.jpoint(null,null,null),b=g.length-1;b>=0;b--){for(var _=0;b>=0&&g[b]===0;b--)_++;if(b>=0&&_++,p=p.dblp(_),b<0)break;var E=g[b];a(E!==0),p=d.type==="affine"?E>0?p.mixedAdd(m[E-1>>1]):p.mixedAdd(m[-E-1>>1].neg()):E>0?p.add(m[E-1>>1]):p.add(m[-E-1>>1].neg())}return d.type==="affine"?p.toP():p},l.prototype._wnafMulAdd=function(d,u,h,f,m){var g,p,b,_=this._wnafT1,E=this._wnafT2,O=this._wnafT3,V=0;for(g=0;g<f;g++){var H=(b=u[g])._getNAFPoints(d);_[g]=H.wnd,E[g]=H.points}for(g=f-1;g>=1;g-=2){var F=g-1,L=g;if(_[F]===1&&_[L]===1){var $=[u[F],null,null,u[L]];u[F].y.cmp(u[L].y)===0?($[1]=u[F].add(u[L]),$[2]=u[F].toJ().mixedAdd(u[L].neg())):u[F].y.cmp(u[L].y.redNeg())===0?($[1]=u[F].toJ().mixedAdd(u[L]),$[2]=u[F].add(u[L].neg())):($[1]=u[F].toJ().mixedAdd(u[L]),$[2]=u[F].toJ().mixedAdd(u[L].neg()));var W=[-3,-1,-5,-7,0,7,5,1,3],x=s(h[F],h[L]);for(V=Math.max(x[0].length,V),O[F]=new Array(V),O[L]=new Array(V),p=0;p<V;p++){var R=0|x[0][p],B=0|x[1][p];O[F][p]=W[3*(R+1)+(B+1)],O[L][p]=0,E[F]=$}}else O[F]=o(h[F],_[F],this._bitLength),O[L]=o(h[L],_[L],this._bitLength),V=Math.max(O[F].length,V),V=Math.max(O[L].length,V)}var v=this.jpoint(null,null,null),y=this._wnafT4;for(g=V;g>=0;g--){for(var C=0;g>=0;){var w=!0;for(p=0;p<f;p++)y[p]=0|O[p][g],y[p]!==0&&(w=!1);if(!w)break;C++,g--}if(g>=0&&C++,v=v.dblp(C),g<0)break;for(p=0;p<f;p++){var S=y[p];S!==0&&(S>0?b=E[p][S-1>>1]:S<0&&(b=E[p][-S-1>>1].neg()),v=b.type==="affine"?v.mixedAdd(b):v.add(b))}}for(g=0;g<f;g++)E[g]=null;return m?v:v.toP()},l.BasePoint=c,c.prototype.eq=function(){throw new Error("Not implemented")},c.prototype.validate=function(){return this.curve.validate(this)},l.prototype.decodePoint=function(d,u){d=n.toArray(d,u);var h=this.p.byteLength();if((d[0]===4||d[0]===6||d[0]===7)&&d.length-1==2*h)return d[0]===6?a(d[d.length-1]%2==0):d[0]===7&&a(d[d.length-1]%2==1),this.point(d.slice(1,1+h),d.slice(1+h,1+2*h));if((d[0]===2||d[0]===3)&&d.length-1===h)return this.pointFromX(d.slice(1,1+h),d[0]===3);throw new Error("Unknown point format")},c.prototype.encodeCompressed=function(d){return this.encode(d,!0)},c.prototype._encode=function(d){var u=this.curve.p.byteLength(),h=this.getX().toArray("be",u);return d?[this.getY().isEven()?2:3].concat(h):[4].concat(h,this.getY().toArray("be",u))},c.prototype.encode=function(d,u){return n.encode(this._encode(u),d)},c.prototype.precompute=function(d){if(this.precomputed)return this;var u={doubles:null,naf:null,beta:null};return u.naf=this._getNAFPoints(8),u.doubles=this._getDoubles(4,d),u.beta=this._getBeta(),this.precomputed=u,this},c.prototype._hasDoubles=function(d){if(!this.precomputed)return!1;var u=this.precomputed.doubles;return!!u&&u.points.length>=Math.ceil((d.bitLength()+1)/u.step)},c.prototype._getDoubles=function(d,u){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var h=[this],f=this,m=0;m<u;m+=d){for(var g=0;g<d;g++)f=f.dbl();h.push(f)}return{step:d,points:h}},c.prototype._getNAFPoints=function(d){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var u=[this],h=(1<<d)-1,f=h===1?null:this.dbl(),m=1;m<h;m++)u[m]=u[m-1].add(f);return{wnd:d,points:u}},c.prototype._getBeta=function(){return null},c.prototype.dblp=function(d){for(var u=this,h=0;h<d;h++)u=u.dbl();return u}},{"../utils":419,"bn.js":420}],407:[function(e,t,r){"use strict";var i=e("../utils"),n=e("bn.js"),o=e("inherits"),s=e("./base"),a=i.assert;function l(d){this.twisted=(0|d.a)!=1,this.mOneA=this.twisted&&(0|d.a)==-1,this.extended=this.mOneA,s.call(this,"edwards",d),this.a=new n(d.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new n(d.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new n(d.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|d.c)==1}function c(d,u,h,f,m){s.BasePoint.call(this,d,"projective"),u===null&&h===null&&f===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new n(u,16),this.y=new n(h,16),this.z=f?new n(f,16):this.curve.one,this.t=m&&new n(m,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(l,s),t.exports=l,l.prototype._mulA=function(d){return this.mOneA?d.redNeg():this.a.redMul(d)},l.prototype._mulC=function(d){return this.oneC?d:this.c.redMul(d)},l.prototype.jpoint=function(d,u,h,f){return this.point(d,u,h,f)},l.prototype.pointFromX=function(d,u){(d=new n(d,16)).red||(d=d.toRed(this.red));var h=d.redSqr(),f=this.c2.redSub(this.a.redMul(h)),m=this.one.redSub(this.c2.redMul(this.d).redMul(h)),g=f.redMul(m.redInvm()),p=g.redSqrt();if(p.redSqr().redSub(g).cmp(this.zero)!==0)throw new Error("invalid point");var b=p.fromRed().isOdd();return(u&&!b||!u&&b)&&(p=p.redNeg()),this.point(d,p)},l.prototype.pointFromY=function(d,u){(d=new n(d,16)).red||(d=d.toRed(this.red));var h=d.redSqr(),f=h.redSub(this.c2),m=h.redMul(this.d).redMul(this.c2).redSub(this.a),g=f.redMul(m.redInvm());if(g.cmp(this.zero)===0){if(u)throw new Error("invalid point");return this.point(this.zero,d)}var p=g.redSqrt();if(p.redSqr().redSub(g).cmp(this.zero)!==0)throw new Error("invalid point");return p.fromRed().isOdd()!==u&&(p=p.redNeg()),this.point(p,d)},l.prototype.validate=function(d){if(d.isInfinity())return!0;d.normalize();var u=d.x.redSqr(),h=d.y.redSqr(),f=u.redMul(this.a).redAdd(h),m=this.c2.redMul(this.one.redAdd(this.d.redMul(u).redMul(h)));return f.cmp(m)===0},o(c,s.BasePoint),l.prototype.pointFromJSON=function(d){return c.fromJSON(this,d)},l.prototype.point=function(d,u,h,f){return new c(this,d,u,h,f)},c.fromJSON=function(d,u){return new c(d,u[0],u[1],u[2])},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},c.prototype._extDbl=function(){var d=this.x.redSqr(),u=this.y.redSqr(),h=this.z.redSqr();h=h.redIAdd(h);var f=this.curve._mulA(d),m=this.x.redAdd(this.y).redSqr().redISub(d).redISub(u),g=f.redAdd(u),p=g.redSub(h),b=f.redSub(u),_=m.redMul(p),E=g.redMul(b),O=m.redMul(b),V=p.redMul(g);return this.curve.point(_,E,V,O)},c.prototype._projDbl=function(){var d,u,h,f,m,g,p=this.x.redAdd(this.y).redSqr(),b=this.x.redSqr(),_=this.y.redSqr();if(this.curve.twisted){var E=(f=this.curve._mulA(b)).redAdd(_);this.zOne?(d=p.redSub(b).redSub(_).redMul(E.redSub(this.curve.two)),u=E.redMul(f.redSub(_)),h=E.redSqr().redSub(E).redSub(E)):(m=this.z.redSqr(),g=E.redSub(m).redISub(m),d=p.redSub(b).redISub(_).redMul(g),u=E.redMul(f.redSub(_)),h=E.redMul(g))}else f=b.redAdd(_),m=this.curve._mulC(this.z).redSqr(),g=f.redSub(m).redSub(m),d=this.curve._mulC(p.redISub(f)).redMul(g),u=this.curve._mulC(f).redMul(b.redISub(_)),h=f.redMul(g);return this.curve.point(d,u,h)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},c.prototype._extAdd=function(d){var u=this.y.redSub(this.x).redMul(d.y.redSub(d.x)),h=this.y.redAdd(this.x).redMul(d.y.redAdd(d.x)),f=this.t.redMul(this.curve.dd).redMul(d.t),m=this.z.redMul(d.z.redAdd(d.z)),g=h.redSub(u),p=m.redSub(f),b=m.redAdd(f),_=h.redAdd(u),E=g.redMul(p),O=b.redMul(_),V=g.redMul(_),H=p.redMul(b);return this.curve.point(E,O,H,V)},c.prototype._projAdd=function(d){var u,h,f=this.z.redMul(d.z),m=f.redSqr(),g=this.x.redMul(d.x),p=this.y.redMul(d.y),b=this.curve.d.redMul(g).redMul(p),_=m.redSub(b),E=m.redAdd(b),O=this.x.redAdd(this.y).redMul(d.x.redAdd(d.y)).redISub(g).redISub(p),V=f.redMul(_).redMul(O);return this.curve.twisted?(u=f.redMul(E).redMul(p.redSub(this.curve._mulA(g))),h=_.redMul(E)):(u=f.redMul(E).redMul(p.redSub(g)),h=this.curve._mulC(_).redMul(E)),this.curve.point(V,u,h)},c.prototype.add=function(d){return this.isInfinity()?d:d.isInfinity()?this:this.curve.extended?this._extAdd(d):this._projAdd(d)},c.prototype.mul=function(d){return this._hasDoubles(d)?this.curve._fixedNafMul(this,d):this.curve._wnafMul(this,d)},c.prototype.mulAdd=function(d,u,h){return this.curve._wnafMulAdd(1,[this,u],[d,h],2,!1)},c.prototype.jmulAdd=function(d,u,h){return this.curve._wnafMulAdd(1,[this,u],[d,h],2,!0)},c.prototype.normalize=function(){if(this.zOne)return this;var d=this.z.redInvm();return this.x=this.x.redMul(d),this.y=this.y.redMul(d),this.t&&(this.t=this.t.redMul(d)),this.z=this.curve.one,this.zOne=!0,this},c.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()},c.prototype.getY=function(){return this.normalize(),this.y.fromRed()},c.prototype.eq=function(d){return this===d||this.getX().cmp(d.getX())===0&&this.getY().cmp(d.getY())===0},c.prototype.eqXToP=function(d){var u=d.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(u)===0)return!0;for(var h=d.clone(),f=this.curve.redN.redMul(this.z);;){if(h.iadd(this.curve.n),h.cmp(this.curve.p)>=0)return!1;if(u.redIAdd(f),this.x.cmp(u)===0)return!0}},c.prototype.toP=c.prototype.normalize,c.prototype.mixedAdd=c.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(e,t,r){"use strict";var i=r;i.base=e("./base"),i.short=e("./short"),i.mont=e("./mont"),i.edwards=e("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(e,t,r){"use strict";var i=e("bn.js"),n=e("inherits"),o=e("./base"),s=e("../utils");function a(c){o.call(this,"mont",c),this.a=new i(c.a,16).toRed(this.red),this.b=new i(c.b,16).toRed(this.red),this.i4=new i(4).toRed(this.red).redInvm(),this.two=new i(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function l(c,d,u){o.BasePoint.call(this,c,"projective"),d===null&&u===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new i(d,16),this.z=new i(u,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}n(a,o),t.exports=a,a.prototype.validate=function(c){var d=c.normalize().x,u=d.redSqr(),h=u.redMul(d).redAdd(u.redMul(this.a)).redAdd(d);return h.redSqrt().redSqr().cmp(h)===0},n(l,o.BasePoint),a.prototype.decodePoint=function(c,d){return this.point(s.toArray(c,d),1)},a.prototype.point=function(c,d){return new l(this,c,d)},a.prototype.pointFromJSON=function(c){return l.fromJSON(this,c)},l.prototype.precompute=function(){},l.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},l.fromJSON=function(c,d){return new l(c,d[0],d[1]||c.one)},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return this.z.cmpn(0)===0},l.prototype.dbl=function(){var c=this.x.redAdd(this.z).redSqr(),d=this.x.redSub(this.z).redSqr(),u=c.redSub(d),h=c.redMul(d),f=u.redMul(d.redAdd(this.curve.a24.redMul(u)));return this.curve.point(h,f)},l.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},l.prototype.diffAdd=function(c,d){var u=this.x.redAdd(this.z),h=this.x.redSub(this.z),f=c.x.redAdd(c.z),m=c.x.redSub(c.z).redMul(u),g=f.redMul(h),p=d.z.redMul(m.redAdd(g).redSqr()),b=d.x.redMul(m.redISub(g).redSqr());return this.curve.point(p,b)},l.prototype.mul=function(c){for(var d=c.clone(),u=this,h=this.curve.point(null,null),f=[];d.cmpn(0)!==0;d.iushrn(1))f.push(d.andln(1));for(var m=f.length-1;m>=0;m--)f[m]===0?(u=u.diffAdd(h,this),h=h.dbl()):(h=u.diffAdd(h,this),u=u.dbl());return h},l.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},l.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},l.prototype.eq=function(c){return this.getX().cmp(c.getX())===0},l.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},l.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(e,t,r){"use strict";var i=e("../utils"),n=e("bn.js"),o=e("inherits"),s=e("./base"),a=i.assert;function l(u){s.call(this,"short",u),this.a=new n(u.a,16).toRed(this.red),this.b=new n(u.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(u),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function c(u,h,f,m){s.BasePoint.call(this,u,"affine"),h===null&&f===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new n(h,16),this.y=new n(f,16),m&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function d(u,h,f,m){s.BasePoint.call(this,u,"jacobian"),h===null&&f===null&&m===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new n(0)):(this.x=new n(h,16),this.y=new n(f,16),this.z=new n(m,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(l,s),t.exports=l,l.prototype._getEndomorphism=function(u){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var h,f;if(u.beta)h=new n(u.beta,16).toRed(this.red);else{var m=this._getEndoRoots(this.p);h=(h=m[0].cmp(m[1])<0?m[0]:m[1]).toRed(this.red)}if(u.lambda)f=new n(u.lambda,16);else{var g=this._getEndoRoots(this.n);this.g.mul(g[0]).x.cmp(this.g.x.redMul(h))===0?f=g[0]:(f=g[1],a(this.g.mul(f).x.cmp(this.g.x.redMul(h))===0))}return{beta:h,lambda:f,basis:u.basis?u.basis.map(function(p){return{a:new n(p.a,16),b:new n(p.b,16)}}):this._getEndoBasis(f)}}},l.prototype._getEndoRoots=function(u){var h=u===this.p?this.red:n.mont(u),f=new n(2).toRed(h).redInvm(),m=f.redNeg(),g=new n(3).toRed(h).redNeg().redSqrt().redMul(f);return[m.redAdd(g).fromRed(),m.redSub(g).fromRed()]},l.prototype._getEndoBasis=function(u){for(var h,f,m,g,p,b,_,E,O,V=this.n.ushrn(Math.floor(this.n.bitLength()/2)),H=u,F=this.n.clone(),L=new n(1),$=new n(0),W=new n(0),x=new n(1),R=0;H.cmpn(0)!==0;){var B=F.div(H);E=F.sub(B.mul(H)),O=W.sub(B.mul(L));var v=x.sub(B.mul($));if(!m&&E.cmp(V)<0)h=_.neg(),f=L,m=E.neg(),g=O;else if(m&&++R==2)break;_=E,F=H,H=E,W=L,L=O,x=$,$=v}p=E.neg(),b=O;var y=m.sqr().add(g.sqr());return p.sqr().add(b.sqr()).cmp(y)>=0&&(p=h,b=f),m.negative&&(m=m.neg(),g=g.neg()),p.negative&&(p=p.neg(),b=b.neg()),[{a:m,b:g},{a:p,b}]},l.prototype._endoSplit=function(u){var h=this.endo.basis,f=h[0],m=h[1],g=m.b.mul(u).divRound(this.n),p=f.b.neg().mul(u).divRound(this.n),b=g.mul(f.a),_=p.mul(m.a),E=g.mul(f.b),O=p.mul(m.b);return{k1:u.sub(b).sub(_),k2:E.add(O).neg()}},l.prototype.pointFromX=function(u,h){(u=new n(u,16)).red||(u=u.toRed(this.red));var f=u.redSqr().redMul(u).redIAdd(u.redMul(this.a)).redIAdd(this.b),m=f.redSqrt();if(m.redSqr().redSub(f).cmp(this.zero)!==0)throw new Error("invalid point");var g=m.fromRed().isOdd();return(h&&!g||!h&&g)&&(m=m.redNeg()),this.point(u,m)},l.prototype.validate=function(u){if(u.inf)return!0;var h=u.x,f=u.y,m=this.a.redMul(h),g=h.redSqr().redMul(h).redIAdd(m).redIAdd(this.b);return f.redSqr().redISub(g).cmpn(0)===0},l.prototype._endoWnafMulAdd=function(u,h,f){for(var m=this._endoWnafT1,g=this._endoWnafT2,p=0;p<u.length;p++){var b=this._endoSplit(h[p]),_=u[p],E=_._getBeta();b.k1.negative&&(b.k1.ineg(),_=_.neg(!0)),b.k2.negative&&(b.k2.ineg(),E=E.neg(!0)),m[2*p]=_,m[2*p+1]=E,g[2*p]=b.k1,g[2*p+1]=b.k2}for(var O=this._wnafMulAdd(1,m,g,2*p,f),V=0;V<2*p;V++)m[V]=null,g[V]=null;return O},o(c,s.BasePoint),l.prototype.point=function(u,h,f){return new c(this,u,h,f)},l.prototype.pointFromJSON=function(u,h){return c.fromJSON(this,u,h)},c.prototype._getBeta=function(){if(this.curve.endo){var u=this.precomputed;if(u&&u.beta)return u.beta;var h=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(u){var f=this.curve,m=function(g){return f.point(g.x.redMul(f.endo.beta),g.y)};u.beta=h,h.precomputed={beta:null,naf:u.naf&&{wnd:u.naf.wnd,points:u.naf.points.map(m)},doubles:u.doubles&&{step:u.doubles.step,points:u.doubles.points.map(m)}}}return h}},c.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},c.fromJSON=function(u,h,f){typeof h=="string"&&(h=JSON.parse(h));var m=u.point(h[0],h[1],f);if(!h[2])return m;function g(b){return u.point(b[0],b[1],f)}var p=h[2];return m.precomputed={beta:null,doubles:p.doubles&&{step:p.doubles.step,points:[m].concat(p.doubles.points.map(g))},naf:p.naf&&{wnd:p.naf.wnd,points:[m].concat(p.naf.points.map(g))}},m},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.inf},c.prototype.add=function(u){if(this.inf)return u;if(u.inf)return this;if(this.eq(u))return this.dbl();if(this.neg().eq(u))return this.curve.point(null,null);if(this.x.cmp(u.x)===0)return this.curve.point(null,null);var h=this.y.redSub(u.y);h.cmpn(0)!==0&&(h=h.redMul(this.x.redSub(u.x).redInvm()));var f=h.redSqr().redISub(this.x).redISub(u.x),m=h.redMul(this.x.redSub(f)).redISub(this.y);return this.curve.point(f,m)},c.prototype.dbl=function(){if(this.inf)return this;var u=this.y.redAdd(this.y);if(u.cmpn(0)===0)return this.curve.point(null,null);var h=this.curve.a,f=this.x.redSqr(),m=u.redInvm(),g=f.redAdd(f).redIAdd(f).redIAdd(h).redMul(m),p=g.redSqr().redISub(this.x.redAdd(this.x)),b=g.redMul(this.x.redSub(p)).redISub(this.y);return this.curve.point(p,b)},c.prototype.getX=function(){return this.x.fromRed()},c.prototype.getY=function(){return this.y.fromRed()},c.prototype.mul=function(u){return u=new n(u,16),this.isInfinity()?this:this._hasDoubles(u)?this.curve._fixedNafMul(this,u):this.curve.endo?this.curve._endoWnafMulAdd([this],[u]):this.curve._wnafMul(this,u)},c.prototype.mulAdd=function(u,h,f){var m=[this,h],g=[u,f];return this.curve.endo?this.curve._endoWnafMulAdd(m,g):this.curve._wnafMulAdd(1,m,g,2)},c.prototype.jmulAdd=function(u,h,f){var m=[this,h],g=[u,f];return this.curve.endo?this.curve._endoWnafMulAdd(m,g,!0):this.curve._wnafMulAdd(1,m,g,2,!0)},c.prototype.eq=function(u){return this===u||this.inf===u.inf&&(this.inf||this.x.cmp(u.x)===0&&this.y.cmp(u.y)===0)},c.prototype.neg=function(u){if(this.inf)return this;var h=this.curve.point(this.x,this.y.redNeg());if(u&&this.precomputed){var f=this.precomputed,m=function(g){return g.neg()};h.precomputed={naf:f.naf&&{wnd:f.naf.wnd,points:f.naf.points.map(m)},doubles:f.doubles&&{step:f.doubles.step,points:f.doubles.points.map(m)}}}return h},c.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(d,s.BasePoint),l.prototype.jpoint=function(u,h,f){return new d(this,u,h,f)},d.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var u=this.z.redInvm(),h=u.redSqr(),f=this.x.redMul(h),m=this.y.redMul(h).redMul(u);return this.curve.point(f,m)},d.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},d.prototype.add=function(u){if(this.isInfinity())return u;if(u.isInfinity())return this;var h=u.z.redSqr(),f=this.z.redSqr(),m=this.x.redMul(h),g=u.x.redMul(f),p=this.y.redMul(h.redMul(u.z)),b=u.y.redMul(f.redMul(this.z)),_=m.redSub(g),E=p.redSub(b);if(_.cmpn(0)===0)return E.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var O=_.redSqr(),V=O.redMul(_),H=m.redMul(O),F=E.redSqr().redIAdd(V).redISub(H).redISub(H),L=E.redMul(H.redISub(F)).redISub(p.redMul(V)),$=this.z.redMul(u.z).redMul(_);return this.curve.jpoint(F,L,$)},d.prototype.mixedAdd=function(u){if(this.isInfinity())return u.toJ();if(u.isInfinity())return this;var h=this.z.redSqr(),f=this.x,m=u.x.redMul(h),g=this.y,p=u.y.redMul(h).redMul(this.z),b=f.redSub(m),_=g.redSub(p);if(b.cmpn(0)===0)return _.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var E=b.redSqr(),O=E.redMul(b),V=f.redMul(E),H=_.redSqr().redIAdd(O).redISub(V).redISub(V),F=_.redMul(V.redISub(H)).redISub(g.redMul(O)),L=this.z.redMul(b);return this.curve.jpoint(H,F,L)},d.prototype.dblp=function(u){if(u===0)return this;if(this.isInfinity())return this;if(!u)return this.dbl();var h;if(this.curve.zeroA||this.curve.threeA){var f=this;for(h=0;h<u;h++)f=f.dbl();return f}var m=this.curve.a,g=this.curve.tinv,p=this.x,b=this.y,_=this.z,E=_.redSqr().redSqr(),O=b.redAdd(b);for(h=0;h<u;h++){var V=p.redSqr(),H=O.redSqr(),F=H.redSqr(),L=V.redAdd(V).redIAdd(V).redIAdd(m.redMul(E)),$=p.redMul(H),W=L.redSqr().redISub($.redAdd($)),x=$.redISub(W),R=L.redMul(x);R=R.redIAdd(R).redISub(F);var B=O.redMul(_);h+1<u&&(E=E.redMul(F)),p=W,_=B,O=R}return this.curve.jpoint(p,O.redMul(g),_)},d.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},d.prototype._zeroDbl=function(){var u,h,f;if(this.zOne){var m=this.x.redSqr(),g=this.y.redSqr(),p=g.redSqr(),b=this.x.redAdd(g).redSqr().redISub(m).redISub(p);b=b.redIAdd(b);var _=m.redAdd(m).redIAdd(m),E=_.redSqr().redISub(b).redISub(b),O=p.redIAdd(p);O=(O=O.redIAdd(O)).redIAdd(O),u=E,h=_.redMul(b.redISub(E)).redISub(O),f=this.y.redAdd(this.y)}else{var V=this.x.redSqr(),H=this.y.redSqr(),F=H.redSqr(),L=this.x.redAdd(H).redSqr().redISub(V).redISub(F);L=L.redIAdd(L);var $=V.redAdd(V).redIAdd(V),W=$.redSqr(),x=F.redIAdd(F);x=(x=x.redIAdd(x)).redIAdd(x),u=W.redISub(L).redISub(L),h=$.redMul(L.redISub(u)).redISub(x),f=(f=this.y.redMul(this.z)).redIAdd(f)}return this.curve.jpoint(u,h,f)},d.prototype._threeDbl=function(){var u,h,f;if(this.zOne){var m=this.x.redSqr(),g=this.y.redSqr(),p=g.redSqr(),b=this.x.redAdd(g).redSqr().redISub(m).redISub(p);b=b.redIAdd(b);var _=m.redAdd(m).redIAdd(m).redIAdd(this.curve.a),E=_.redSqr().redISub(b).redISub(b);u=E;var O=p.redIAdd(p);O=(O=O.redIAdd(O)).redIAdd(O),h=_.redMul(b.redISub(E)).redISub(O),f=this.y.redAdd(this.y)}else{var V=this.z.redSqr(),H=this.y.redSqr(),F=this.x.redMul(H),L=this.x.redSub(V).redMul(this.x.redAdd(V));L=L.redAdd(L).redIAdd(L);var $=F.redIAdd(F),W=($=$.redIAdd($)).redAdd($);u=L.redSqr().redISub(W),f=this.y.redAdd(this.z).redSqr().redISub(H).redISub(V);var x=H.redSqr();x=(x=(x=x.redIAdd(x)).redIAdd(x)).redIAdd(x),h=L.redMul($.redISub(u)).redISub(x)}return this.curve.jpoint(u,h,f)},d.prototype._dbl=function(){var u=this.curve.a,h=this.x,f=this.y,m=this.z,g=m.redSqr().redSqr(),p=h.redSqr(),b=f.redSqr(),_=p.redAdd(p).redIAdd(p).redIAdd(u.redMul(g)),E=h.redAdd(h),O=(E=E.redIAdd(E)).redMul(b),V=_.redSqr().redISub(O.redAdd(O)),H=O.redISub(V),F=b.redSqr();F=(F=(F=F.redIAdd(F)).redIAdd(F)).redIAdd(F);var L=_.redMul(H).redISub(F),$=f.redAdd(f).redMul(m);return this.curve.jpoint(V,L,$)},d.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var u=this.x.redSqr(),h=this.y.redSqr(),f=this.z.redSqr(),m=h.redSqr(),g=u.redAdd(u).redIAdd(u),p=g.redSqr(),b=this.x.redAdd(h).redSqr().redISub(u).redISub(m),_=(b=(b=(b=b.redIAdd(b)).redAdd(b).redIAdd(b)).redISub(p)).redSqr(),E=m.redIAdd(m);E=(E=(E=E.redIAdd(E)).redIAdd(E)).redIAdd(E);var O=g.redIAdd(b).redSqr().redISub(p).redISub(_).redISub(E),V=h.redMul(O);V=(V=V.redIAdd(V)).redIAdd(V);var H=this.x.redMul(_).redISub(V);H=(H=H.redIAdd(H)).redIAdd(H);var F=this.y.redMul(O.redMul(E.redISub(O)).redISub(b.redMul(_)));F=(F=(F=F.redIAdd(F)).redIAdd(F)).redIAdd(F);var L=this.z.redAdd(b).redSqr().redISub(f).redISub(_);return this.curve.jpoint(H,F,L)},d.prototype.mul=function(u,h){return u=new n(u,h),this.curve._wnafMul(this,u)},d.prototype.eq=function(u){if(u.type==="affine")return this.eq(u.toJ());if(this===u)return!0;var h=this.z.redSqr(),f=u.z.redSqr();if(this.x.redMul(f).redISub(u.x.redMul(h)).cmpn(0)!==0)return!1;var m=h.redMul(this.z),g=f.redMul(u.z);return this.y.redMul(g).redISub(u.y.redMul(m)).cmpn(0)===0},d.prototype.eqXToP=function(u){var h=this.z.redSqr(),f=u.toRed(this.curve.red).redMul(h);if(this.x.cmp(f)===0)return!0;for(var m=u.clone(),g=this.curve.redN.redMul(h);;){if(m.iadd(this.curve.n),m.cmp(this.curve.p)>=0)return!1;if(f.redIAdd(g),this.x.cmp(f)===0)return!0}},d.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},d.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(e,t,r){"use strict";var i,n=r,o=e("hash.js"),s=e("./curve"),a=e("./utils").assert;function l(d){d.type==="short"?this.curve=new s.short(d):d.type==="edwards"?this.curve=new s.edwards(d):this.curve=new s.mont(d),this.g=this.curve.g,this.n=this.curve.n,this.hash=d.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function c(d,u){Object.defineProperty(n,d,{configurable:!0,enumerable:!0,get:function(){var h=new l(u);return Object.defineProperty(n,d,{configurable:!0,enumerable:!0,value:h}),h}})}n.PresetCurve=l,c("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),c("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),c("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),c("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),c("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),c("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),c("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{i=e("./precomputed/secp256k1")}catch{i=void 0}c("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",i]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(e,t,r){"use strict";var i=e("bn.js"),n=e("hmac-drbg"),o=e("../utils"),s=e("../curves"),a=e("brorand"),l=o.assert,c=e("./key"),d=e("./signature");function u(h){if(!(this instanceof u))return new u(h);typeof h=="string"&&(l(Object.prototype.hasOwnProperty.call(s,h),"Unknown curve "+h),h=s[h]),h instanceof s.PresetCurve&&(h={curve:h}),this.curve=h.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=h.curve.g,this.g.precompute(h.curve.n.bitLength()+1),this.hash=h.hash||h.curve.hash}t.exports=u,u.prototype.keyPair=function(h){return new c(this,h)},u.prototype.keyFromPrivate=function(h,f){return c.fromPrivate(this,h,f)},u.prototype.keyFromPublic=function(h,f){return c.fromPublic(this,h,f)},u.prototype.genKeyPair=function(h){h||(h={});for(var f=new n({hash:this.hash,pers:h.pers,persEnc:h.persEnc||"utf8",entropy:h.entropy||a(this.hash.hmacStrength),entropyEnc:h.entropy&&h.entropyEnc||"utf8",nonce:this.n.toArray()}),m=this.n.byteLength(),g=this.n.sub(new i(2));;){var p=new i(f.generate(m));if(!(p.cmp(g)>0))return p.iaddn(1),this.keyFromPrivate(p)}},u.prototype._truncateToN=function(h,f){var m=8*h.byteLength()-this.n.bitLength();return m>0&&(h=h.ushrn(m)),!f&&h.cmp(this.n)>=0?h.sub(this.n):h},u.prototype.sign=function(h,f,m,g){typeof m=="object"&&(g=m,m=null),g||(g={}),f=this.keyFromPrivate(f,m),h=this._truncateToN(new i(h,16));for(var p=this.n.byteLength(),b=f.getPrivate().toArray("be",p),_=h.toArray("be",p),E=new n({hash:this.hash,entropy:b,nonce:_,pers:g.pers,persEnc:g.persEnc||"utf8"}),O=this.n.sub(new i(1)),V=0;;V++){var H=g.k?g.k(V):new i(E.generate(this.n.byteLength()));if(!((H=this._truncateToN(H,!0)).cmpn(1)<=0||H.cmp(O)>=0)){var F=this.g.mul(H);if(!F.isInfinity()){var L=F.getX(),$=L.umod(this.n);if($.cmpn(0)!==0){var W=H.invm(this.n).mul($.mul(f.getPrivate()).iadd(h));if((W=W.umod(this.n)).cmpn(0)!==0){var x=(F.getY().isOdd()?1:0)|(L.cmp($)!==0?2:0);return g.canonical&&W.cmp(this.nh)>0&&(W=this.n.sub(W),x^=1),new d({r:$,s:W,recoveryParam:x})}}}}}},u.prototype.verify=function(h,f,m,g){h=this._truncateToN(new i(h,16)),m=this.keyFromPublic(m,g);var p=(f=new d(f,"hex")).r,b=f.s;if(p.cmpn(1)<0||p.cmp(this.n)>=0||b.cmpn(1)<0||b.cmp(this.n)>=0)return!1;var _,E=b.invm(this.n),O=E.mul(h).umod(this.n),V=E.mul(p).umod(this.n);return this.curve._maxwellTrick?!(_=this.g.jmulAdd(O,m.getPublic(),V)).isInfinity()&&_.eqXToP(p):!(_=this.g.mulAdd(O,m.getPublic(),V)).isInfinity()&&_.getX().umod(this.n).cmp(p)===0},u.prototype.recoverPubKey=function(h,f,m,g){l((3&m)===m,"The recovery param is more than two bits"),f=new d(f,g);var p=this.n,b=new i(h),_=f.r,E=f.s,O=1&m,V=m>>1;if(_.cmp(this.curve.p.umod(this.curve.n))>=0&&V)throw new Error("Unable to find sencond key candinate");_=V?this.curve.pointFromX(_.add(this.curve.n),O):this.curve.pointFromX(_,O);var H=f.r.invm(p),F=p.sub(b).mul(H).umod(p),L=E.mul(H).umod(p);return this.g.mulAdd(F,_,L)},u.prototype.getKeyRecoveryParam=function(h,f,m,g){if((f=new d(f,g)).recoveryParam!==null)return f.recoveryParam;for(var p=0;p<4;p++){var b;try{b=this.recoverPubKey(h,f,p)}catch{continue}if(b.eq(m))return p}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(e,t,r){"use strict";var i=e("bn.js"),n=e("../utils").assert;function o(s,a){this.ec=s,this.priv=null,this.pub=null,a.priv&&this._importPrivate(a.priv,a.privEnc),a.pub&&this._importPublic(a.pub,a.pubEnc)}t.exports=o,o.fromPublic=function(s,a,l){return a instanceof o?a:new o(s,{pub:a,pubEnc:l})},o.fromPrivate=function(s,a,l){return a instanceof o?a:new o(s,{priv:a,privEnc:l})},o.prototype.validate=function(){var s=this.getPublic();return s.isInfinity()?{result:!1,reason:"Invalid public key"}:s.validate()?s.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(s,a){return typeof s=="string"&&(a=s,s=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),a?this.pub.encode(a,s):this.pub},o.prototype.getPrivate=function(s){return s==="hex"?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(s,a){this.priv=new i(s,a||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(s,a){if(s.x||s.y)return this.ec.curve.type==="mont"?n(s.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||n(s.x&&s.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(s.x,s.y));this.pub=this.ec.curve.decodePoint(s,a)},o.prototype.derive=function(s){return s.validate()||n(s.validate(),"public point not validated"),s.mul(this.priv).getX()},o.prototype.sign=function(s,a,l){return this.ec.sign(s,this,a,l)},o.prototype.verify=function(s,a){return this.ec.verify(s,a,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(e,t,r){"use strict";var i=e("bn.js"),n=e("../utils"),o=n.assert;function s(u,h){if(u instanceof s)return u;this._importDER(u,h)||(o(u.r&&u.s,"Signature without r or s"),this.r=new i(u.r,16),this.s=new i(u.s,16),u.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=u.recoveryParam)}function a(){this.place=0}function l(u,h){var f=u[h.place++];if(!(128&f))return f;var m=15&f;if(m===0||m>4)return!1;for(var g=0,p=0,b=h.place;p<m;p++,b++)g<<=8,g|=u[b],g>>>=0;return!(g<=127)&&(h.place=b,g)}function c(u){for(var h=0,f=u.length-1;!u[h]&&!(128&u[h+1])&&h<f;)h++;return h===0?u:u.slice(h)}function d(u,h){if(h<128)u.push(h);else{var f=1+(Math.log(h)/Math.LN2>>>3);for(u.push(128|f);--f;)u.push(h>>>(f<<3)&255);u.push(h)}}t.exports=s,s.prototype._importDER=function(u,h){u=n.toArray(u,h);var f=new a;if(u[f.place++]!==48)return!1;var m=l(u,f);if(m===!1||m+f.place!==u.length||u[f.place++]!==2)return!1;var g=l(u,f);if(g===!1)return!1;var p=u.slice(f.place,g+f.place);if(f.place+=g,u[f.place++]!==2)return!1;var b=l(u,f);if(b===!1||u.length!==b+f.place)return!1;var _=u.slice(f.place,b+f.place);if(p[0]===0){if(!(128&p[1]))return!1;p=p.slice(1)}if(_[0]===0){if(!(128&_[1]))return!1;_=_.slice(1)}return this.r=new i(p),this.s=new i(_),this.recoveryParam=null,!0},s.prototype.toDER=function(u){var h=this.r.toArray(),f=this.s.toArray();for(128&h[0]&&(h=[0].concat(h)),128&f[0]&&(f=[0].concat(f)),h=c(h),f=c(f);!(f[0]||128&f[1]);)f=f.slice(1);var m=[2];d(m,h.length),(m=m.concat(h)).push(2),d(m,f.length);var g=m.concat(f),p=[48];return d(p,g.length),p=p.concat(g),n.encode(p,u)}},{"../utils":419,"bn.js":420}],415:[function(e,t,r){"use strict";var i=e("hash.js"),n=e("../curves"),o=e("../utils"),s=o.assert,a=o.parseBytes,l=e("./key"),c=e("./signature");function d(u){if(s(u==="ed25519","only tested with ed25519 so far"),!(this instanceof d))return new d(u);u=n[u].curve,this.curve=u,this.g=u.g,this.g.precompute(u.n.bitLength()+1),this.pointClass=u.point().constructor,this.encodingLength=Math.ceil(u.n.bitLength()/8),this.hash=i.sha512}t.exports=d,d.prototype.sign=function(u,h){u=a(u);var f=this.keyFromSecret(h),m=this.hashInt(f.messagePrefix(),u),g=this.g.mul(m),p=this.encodePoint(g),b=this.hashInt(p,f.pubBytes(),u).mul(f.priv()),_=m.add(b).umod(this.curve.n);return this.makeSignature({R:g,S:_,Rencoded:p})},d.prototype.verify=function(u,h,f){u=a(u),h=this.makeSignature(h);var m=this.keyFromPublic(f),g=this.hashInt(h.Rencoded(),m.pubBytes(),u),p=this.g.mul(h.S());return h.R().add(m.pub().mul(g)).eq(p)},d.prototype.hashInt=function(){for(var u=this.hash(),h=0;h<arguments.length;h++)u.update(arguments[h]);return o.intFromLE(u.digest()).umod(this.curve.n)},d.prototype.keyFromPublic=function(u){return l.fromPublic(this,u)},d.prototype.keyFromSecret=function(u){return l.fromSecret(this,u)},d.prototype.makeSignature=function(u){return u instanceof c?u:new c(this,u)},d.prototype.encodePoint=function(u){var h=u.getY().toArray("le",this.encodingLength);return h[this.encodingLength-1]|=u.getX().isOdd()?128:0,h},d.prototype.decodePoint=function(u){var h=(u=o.parseBytes(u)).length-1,f=u.slice(0,h).concat(-129&u[h]),m=(128&u[h])!=0,g=o.intFromLE(f);return this.curve.pointFromY(g,m)},d.prototype.encodeInt=function(u){return u.toArray("le",this.encodingLength)},d.prototype.decodeInt=function(u){return o.intFromLE(u)},d.prototype.isPoint=function(u){return u instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(e,t,r){"use strict";var i=e("../utils"),n=i.assert,o=i.parseBytes,s=i.cachedProperty;function a(l,c){this.eddsa=l,this._secret=o(c.secret),l.isPoint(c.pub)?this._pub=c.pub:this._pubBytes=o(c.pub)}a.fromPublic=function(l,c){return c instanceof a?c:new a(l,{pub:c})},a.fromSecret=function(l,c){return c instanceof a?c:new a(l,{secret:c})},a.prototype.secret=function(){return this._secret},s(a,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),s(a,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),s(a,"privBytes",function(){var l=this.eddsa,c=this.hash(),d=l.encodingLength-1,u=c.slice(0,l.encodingLength);return u[0]&=248,u[d]&=127,u[d]|=64,u}),s(a,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),s(a,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),s(a,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),a.prototype.sign=function(l){return n(this._secret,"KeyPair can only verify"),this.eddsa.sign(l,this)},a.prototype.verify=function(l,c){return this.eddsa.verify(l,c,this)},a.prototype.getSecret=function(l){return n(this._secret,"KeyPair is public only"),i.encode(this.secret(),l)},a.prototype.getPublic=function(l){return i.encode(this.pubBytes(),l)},t.exports=a},{"../utils":419}],417:[function(e,t,r){"use strict";var i=e("bn.js"),n=e("../utils"),o=n.assert,s=n.cachedProperty,a=n.parseBytes;function l(c,d){this.eddsa=c,typeof d!="object"&&(d=a(d)),Array.isArray(d)&&(d={R:d.slice(0,c.encodingLength),S:d.slice(c.encodingLength)}),o(d.R&&d.S,"Signature without R or S"),c.isPoint(d.R)&&(this._R=d.R),d.S instanceof i&&(this._S=d.S),this._Rencoded=Array.isArray(d.R)?d.R:d.Rencoded,this._Sencoded=Array.isArray(d.S)?d.S:d.Sencoded}s(l,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),s(l,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),s(l,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),s(l,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),l.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},l.prototype.toHex=function(){return n.encode(this.toBytes(),"hex").toUpperCase()},t.exports=l},{"../utils":419,"bn.js":420}],418:[function(e,t,r){"use strict";t.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(e,t,r){"use strict";var i=r,n=e("bn.js"),o=e("minimalistic-assert"),s=e("minimalistic-crypto-utils");i.assert=o,i.toArray=s.toArray,i.zero2=s.zero2,i.toHex=s.toHex,i.encode=s.encode,i.getNAF=function(a,l,c){var d=new Array(Math.max(a.bitLength(),c)+1);d.fill(0);for(var u=1<<l+1,h=a.clone(),f=0;f<d.length;f++){var m,g=h.andln(u-1);h.isOdd()?(m=g>(u>>1)-1?(u>>1)-g:g,h.isubn(m)):m=0,d[f]=m,h.iushrn(1)}return d},i.getJSF=function(a,l){var c=[[],[]];a=a.clone(),l=l.clone();for(var d,u=0,h=0;a.cmpn(-u)>0||l.cmpn(-h)>0;){var f,m,g=a.andln(3)+u&3,p=l.andln(3)+h&3;g===3&&(g=-1),p===3&&(p=-1),f=1&g?(d=a.andln(7)+u&7)!==3&&d!==5||p!==2?g:-g:0,c[0].push(f),m=1&p?(d=l.andln(7)+h&7)!==3&&d!==5||g!==2?p:-p:0,c[1].push(m),2*u===f+1&&(u=1-u),2*h===m+1&&(h=1-h),a.iushrn(1),l.iushrn(1)}return c},i.cachedProperty=function(a,l,c){var d="_"+l;a.prototype[l]=function(){return this[d]!==void 0?this[d]:this[d]=c.call(this)}},i.parseBytes=function(a){return typeof a=="string"?i.toArray(a,"hex"):a},i.intFromLE=function(a){return new n(a,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(e,t,r){arguments[4][184][0].apply(r,arguments)},{buffer:188,dup:184}],421:[function(e,t,r){t.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(e,t,r){"use strict";var i=Object.create||function(H){var F=function(){};return F.prototype=H,new F},n=Object.keys||function(H){var F=[];for(var L in H)Object.prototype.hasOwnProperty.call(H,L)&&F.push(L);return L},o=Function.prototype.bind||function(H){var F=this;return function(){return F.apply(H,arguments)}};function s(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=i(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}t.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._maxListeners=void 0;var a,l=10;try{var c={};Object.defineProperty&&Object.defineProperty(c,"x",{value:0}),a=c.x===0}catch{a=!1}function d(H){return H._maxListeners===void 0?s.defaultMaxListeners:H._maxListeners}function u(H,F,L){if(F)H.call(L);else for(var $=H.length,W=V(H,$),x=0;x<$;++x)W[x].call(L)}function h(H,F,L,$){if(F)H.call(L,$);else for(var W=H.length,x=V(H,W),R=0;R<W;++R)x[R].call(L,$)}function f(H,F,L,$,W){if(F)H.call(L,$,W);else for(var x=H.length,R=V(H,x),B=0;B<x;++B)R[B].call(L,$,W)}function m(H,F,L,$,W,x){if(F)H.call(L,$,W,x);else for(var R=H.length,B=V(H,R),v=0;v<R;++v)B[v].call(L,$,W,x)}function g(H,F,L,$){if(F)H.apply(L,$);else for(var W=H.length,x=V(H,W),R=0;R<W;++R)x[R].apply(L,$)}function p(H,F,L,$){var W,x,R;if(typeof L!="function")throw new TypeError('"listener" argument must be a function');if((x=H._events)?(x.newListener&&(H.emit("newListener",F,L.listener?L.listener:L),x=H._events),R=x[F]):(x=H._events=i(null),H._eventsCount=0),R){if(typeof R=="function"?R=x[F]=$?[L,R]:[R,L]:$?R.unshift(L):R.push(L),!R.warned&&(W=d(H))&&W>0&&R.length>W){R.warned=!0;var B=new Error("Possible EventEmitter memory leak detected. "+R.length+' "'+String(F)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');B.name="MaxListenersExceededWarning",B.emitter=H,B.type=F,B.count=R.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",B.name,B.message)}}else R=x[F]=L,++H._eventsCount;return H}function b(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var H=new Array(arguments.length),F=0;F<H.length;++F)H[F]=arguments[F];this.listener.apply(this.target,H)}}function _(H,F,L){var $={fired:!1,wrapFn:void 0,target:H,type:F,listener:L},W=o.call(b,$);return W.listener=L,$.wrapFn=W,W}function E(H,F,L){var $=H._events;if(!$)return[];var W=$[F];return W?typeof W=="function"?L?[W.listener||W]:[W]:L?function(x){for(var R=new Array(x.length),B=0;B<R.length;++B)R[B]=x[B].listener||x[B];return R}(W):V(W,W.length):[]}function O(H){var F=this._events;if(F){var L=F[H];if(typeof L=="function")return 1;if(L)return L.length}return 0}function V(H,F){for(var L=new Array(F),$=0;$<F;++$)L[$]=H[$];return L}a?Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(H){if(typeof H!="number"||H<0||H!=H)throw new TypeError('"defaultMaxListeners" must be a positive number');l=H}}):s.defaultMaxListeners=l,s.prototype.setMaxListeners=function(H){if(typeof H!="number"||H<0||isNaN(H))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=H,this},s.prototype.getMaxListeners=function(){return d(this)},s.prototype.emit=function(H){var F,L,$,W,x,R,B=H==="error";if(R=this._events)B=B&&R.error==null;else if(!B)return!1;if(B){if(arguments.length>1&&(F=arguments[1]),F instanceof Error)throw F;var v=new Error('Unhandled "error" event. ('+F+")");throw v.context=F,v}if(!(L=R[H]))return!1;var y=typeof L=="function";switch($=arguments.length){case 1:u(L,y,this);break;case 2:h(L,y,this,arguments[1]);break;case 3:f(L,y,this,arguments[1],arguments[2]);break;case 4:m(L,y,this,arguments[1],arguments[2],arguments[3]);break;default:for(W=new Array($-1),x=1;x<$;x++)W[x-1]=arguments[x];g(L,y,this,W)}return!0},s.prototype.addListener=function(H,F){return p(this,H,F,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(H,F){return p(this,H,F,!0)},s.prototype.once=function(H,F){if(typeof F!="function")throw new TypeError('"listener" argument must be a function');return this.on(H,_(this,H,F)),this},s.prototype.prependOnceListener=function(H,F){if(typeof F!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(H,_(this,H,F)),this},s.prototype.removeListener=function(H,F){var L,$,W,x,R;if(typeof F!="function")throw new TypeError('"listener" argument must be a function');if(!($=this._events))return this;if(!(L=$[H]))return this;if(L===F||L.listener===F)--this._eventsCount==0?this._events=i(null):(delete $[H],$.removeListener&&this.emit("removeListener",H,L.listener||F));else if(typeof L!="function"){for(W=-1,x=L.length-1;x>=0;x--)if(L[x]===F||L[x].listener===F){R=L[x].listener,W=x;break}if(W<0)return this;W===0?L.shift():function(B,v){for(var y=v,C=y+1,w=B.length;C<w;y+=1,C+=1)B[y]=B[C];B.pop()}(L,W),L.length===1&&($[H]=L[0]),$.removeListener&&this.emit("removeListener",H,R||F)}return this},s.prototype.removeAllListeners=function(H){var F,L,$;if(!(L=this._events))return this;if(!L.removeListener)return arguments.length===0?(this._events=i(null),this._eventsCount=0):L[H]&&(--this._eventsCount==0?this._events=i(null):delete L[H]),this;if(arguments.length===0){var W,x=n(L);for($=0;$<x.length;++$)(W=x[$])!=="removeListener"&&this.removeAllListeners(W);return this.removeAllListeners("removeListener"),this._events=i(null),this._eventsCount=0,this}if(typeof(F=L[H])=="function")this.removeListener(H,F);else if(F)for($=F.length-1;$>=0;$--)this.removeListener(H,F[$]);return this},s.prototype.listeners=function(H){return E(this,H,!0)},s.prototype.rawListeners=function(H){return E(this,H,!1)},s.listenerCount=function(H,F){return typeof H.listenerCount=="function"?H.listenerCount(F):O.call(H,F)},s.prototype.listenerCount=O,s.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(e,t,r){"use strict";var i=e("safe-buffer").Buffer,n=e("md5.js");t.exports=function(o,s,a,l){if(i.isBuffer(o)||(o=i.from(o,"binary")),s&&(i.isBuffer(s)||(s=i.from(s,"binary")),s.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var c=a/8,d=i.alloc(c),u=i.alloc(l||0),h=i.alloc(0);c>0||l>0;){var f=new n;f.update(h),f.update(o),s&&f.update(s),h=f.digest();var m=0;if(c>0){var g=d.length-c;m=Math.min(c,h.length),h.copy(d,g,0,m),c-=m}if(m<h.length&&l>0){var p=u.length-l,b=Math.min(l,h.length-m);h.copy(u,p,m,m+b),l-=b}}return h.fill(0),{key:d,iv:u}}},{"md5.js":450,"safe-buffer":494}],424:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.CsvParserStream=r.ParserOptions=r.parseFile=r.parseStream=r.parseString=r.parse=r.FormatterOptions=r.CsvFormatterStream=r.writeToPath=r.writeToString=r.writeToBuffer=r.writeToStream=r.write=r.format=void 0;var i=e("@fast-csv/format");Object.defineProperty(r,"format",{enumerable:!0,get:function(){return i.format}}),Object.defineProperty(r,"write",{enumerable:!0,get:function(){return i.write}}),Object.defineProperty(r,"writeToStream",{enumerable:!0,get:function(){return i.writeToStream}}),Object.defineProperty(r,"writeToBuffer",{enumerable:!0,get:function(){return i.writeToBuffer}}),Object.defineProperty(r,"writeToString",{enumerable:!0,get:function(){return i.writeToString}}),Object.defineProperty(r,"writeToPath",{enumerable:!0,get:function(){return i.writeToPath}}),Object.defineProperty(r,"CsvFormatterStream",{enumerable:!0,get:function(){return i.CsvFormatterStream}}),Object.defineProperty(r,"FormatterOptions",{enumerable:!0,get:function(){return i.FormatterOptions}});var n=e("@fast-csv/parse");Object.defineProperty(r,"parse",{enumerable:!0,get:function(){return n.parse}}),Object.defineProperty(r,"parseString",{enumerable:!0,get:function(){return n.parseString}}),Object.defineProperty(r,"parseStream",{enumerable:!0,get:function(){return n.parseStream}}),Object.defineProperty(r,"parseFile",{enumerable:!0,get:function(){return n.parseFile}}),Object.defineProperty(r,"ParserOptions",{enumerable:!0,get:function(){return n.ParserOptions}}),Object.defineProperty(r,"CsvParserStream",{enumerable:!0,get:function(){return n.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(e,t,r){"use strict";var i=e("safe-buffer").Buffer,n=e("readable-stream").Transform;function o(s){n.call(this),this._block=i.allocUnsafe(s),this._blockSize=s,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}e("inherits")(o,n),o.prototype._transform=function(s,a,l){var c=null;try{this.update(s,a)}catch(d){c=d}l(c)},o.prototype._flush=function(s){var a=null;try{this.push(this.digest())}catch(l){a=l}s(a)},o.prototype.update=function(s,a){if(function(f,m){if(!i.isBuffer(f)&&typeof f!="string")throw new TypeError(m+" must be a string or a buffer")}(s,"Data"),this._finalized)throw new Error("Digest already called");i.isBuffer(s)||(s=i.from(s,a));for(var l=this._block,c=0;this._blockOffset+s.length-c>=this._blockSize;){for(var d=this._blockOffset;d<this._blockSize;)l[d++]=s[c++];this._update(),this._blockOffset=0}for(;c<s.length;)l[this._blockOffset++]=s[c++];for(var u=0,h=8*s.length;h>0;++u)this._length[u]+=h,(h=this._length[u]/4294967296|0)>0&&(this._length[u]-=4294967296*h);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(s){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var a=this._digest();s!==void 0&&(a=a.toString(s)),this._block.fill(0),this._blockOffset=0;for(var l=0;l<4;++l)this._length[l]=0;return a},o.prototype._digest=function(){throw new Error("_digest is not implemented")},t.exports=o},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(e,t,r){"use strict";var i=r;i.utils=e("./hash/utils"),i.common=e("./hash/common"),i.sha=e("./hash/sha"),i.ripemd=e("./hash/ripemd"),i.hmac=e("./hash/hmac"),i.sha1=i.sha.sha1,i.sha256=i.sha.sha256,i.sha224=i.sha.sha224,i.sha384=i.sha.sha384,i.sha512=i.sha.sha512,i.ripemd160=i.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(e,t,r){"use strict";var i=e("./utils"),n=e("minimalistic-assert");function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}r.BlockHash=o,o.prototype.update=function(s,a){if(s=i.toArray(s,a),this.pending?this.pending=this.pending.concat(s):this.pending=s,this.pendingTotal+=s.length,this.pending.length>=this._delta8){var l=(s=this.pending).length%this._delta8;this.pending=s.slice(s.length-l,s.length),this.pending.length===0&&(this.pending=null),s=i.join32(s,0,s.length-l,this.endian);for(var c=0;c<s.length;c+=this._delta32)this._update(s,c,c+this._delta32)}return this},o.prototype.digest=function(s){return this.update(this._pad()),n(this.pending===null),this._digest(s)},o.prototype._pad=function(){var s=this.pendingTotal,a=this._delta8,l=a-(s+this.padLength)%a,c=new Array(l+this.padLength);c[0]=128;for(var d=1;d<l;d++)c[d]=0;if(s<<=3,this.endian==="big"){for(var u=8;u<this.padLength;u++)c[d++]=0;c[d++]=0,c[d++]=0,c[d++]=0,c[d++]=0,c[d++]=s>>>24&255,c[d++]=s>>>16&255,c[d++]=s>>>8&255,c[d++]=255&s}else for(c[d++]=255&s,c[d++]=s>>>8&255,c[d++]=s>>>16&255,c[d++]=s>>>24&255,c[d++]=0,c[d++]=0,c[d++]=0,c[d++]=0,u=8;u<this.padLength;u++)c[d++]=0;return c}},{"./utils":437,"minimalistic-assert":453}],428:[function(e,t,r){"use strict";var i=e("./utils"),n=e("minimalistic-assert");function o(s,a,l){if(!(this instanceof o))return new o(s,a,l);this.Hash=s,this.blockSize=s.blockSize/8,this.outSize=s.outSize/8,this.inner=null,this.outer=null,this._init(i.toArray(a,l))}t.exports=o,o.prototype._init=function(s){s.length>this.blockSize&&(s=new this.Hash().update(s).digest()),n(s.length<=this.blockSize);for(var a=s.length;a<this.blockSize;a++)s.push(0);for(a=0;a<s.length;a++)s[a]^=54;for(this.inner=new this.Hash().update(s),a=0;a<s.length;a++)s[a]^=106;this.outer=new this.Hash().update(s)},o.prototype.update=function(s,a){return this.inner.update(s,a),this},o.prototype.digest=function(s){return this.outer.update(this.inner.digest()),this.outer.digest(s)}},{"./utils":437,"minimalistic-assert":453}],429:[function(e,t,r){"use strict";var i=e("./utils"),n=e("./common"),o=i.rotl32,s=i.sum32,a=i.sum32_3,l=i.sum32_4,c=n.BlockHash;function d(){if(!(this instanceof d))return new d;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function u(_,E,O,V){return _<=15?E^O^V:_<=31?E&O|~E&V:_<=47?(E|~O)^V:_<=63?E&V|O&~V:E^(O|~V)}function h(_){return _<=15?0:_<=31?1518500249:_<=47?1859775393:_<=63?2400959708:2840853838}function f(_){return _<=15?1352829926:_<=31?1548603684:_<=47?1836072691:_<=63?2053994217:0}i.inherits(d,c),r.ripemd160=d,d.blockSize=512,d.outSize=160,d.hmacStrength=192,d.padLength=64,d.prototype._update=function(_,E){for(var O=this.h[0],V=this.h[1],H=this.h[2],F=this.h[3],L=this.h[4],$=O,W=V,x=H,R=F,B=L,v=0;v<80;v++){var y=s(o(l(O,u(v,V,H,F),_[m[v]+E],h(v)),p[v]),L);O=L,L=F,F=o(H,10),H=V,V=y,y=s(o(l($,u(79-v,W,x,R),_[g[v]+E],f(v)),b[v]),B),$=B,B=R,R=o(x,10),x=W,W=y}y=a(this.h[1],H,R),this.h[1]=a(this.h[2],F,B),this.h[2]=a(this.h[3],L,$),this.h[3]=a(this.h[4],O,W),this.h[4]=a(this.h[0],V,x),this.h[0]=y},d.prototype._digest=function(_){return _==="hex"?i.toHex32(this.h,"little"):i.split32(this.h,"little")};var m=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],g=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],p=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],b=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(e,t,r){"use strict";r.sha1=e("./sha/1"),r.sha224=e("./sha/224"),r.sha256=e("./sha/256"),r.sha384=e("./sha/384"),r.sha512=e("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(e,t,r){"use strict";var i=e("../utils"),n=e("../common"),o=e("./common"),s=i.rotl32,a=i.sum32,l=i.sum32_5,c=o.ft_1,d=n.BlockHash,u=[1518500249,1859775393,2400959708,3395469782];function h(){if(!(this instanceof h))return new h;d.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}i.inherits(h,d),t.exports=h,h.blockSize=512,h.outSize=160,h.hmacStrength=80,h.padLength=64,h.prototype._update=function(f,m){for(var g=this.W,p=0;p<16;p++)g[p]=f[m+p];for(;p<g.length;p++)g[p]=s(g[p-3]^g[p-8]^g[p-14]^g[p-16],1);var b=this.h[0],_=this.h[1],E=this.h[2],O=this.h[3],V=this.h[4];for(p=0;p<g.length;p++){var H=~~(p/20),F=l(s(b,5),c(H,_,E,O),V,g[p],u[H]);V=O,O=E,E=s(_,30),_=b,b=F}this.h[0]=a(this.h[0],b),this.h[1]=a(this.h[1],_),this.h[2]=a(this.h[2],E),this.h[3]=a(this.h[3],O),this.h[4]=a(this.h[4],V)},h.prototype._digest=function(f){return f==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(e,t,r){"use strict";var i=e("../utils"),n=e("./256");function o(){if(!(this instanceof o))return new o;n.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}i.inherits(o,n),t.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(s){return s==="hex"?i.toHex32(this.h.slice(0,7),"big"):i.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(e,t,r){"use strict";var i=e("../utils"),n=e("../common"),o=e("./common"),s=e("minimalistic-assert"),a=i.sum32,l=i.sum32_4,c=i.sum32_5,d=o.ch32,u=o.maj32,h=o.s0_256,f=o.s1_256,m=o.g0_256,g=o.g1_256,p=n.BlockHash,b=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function _(){if(!(this instanceof _))return new _;p.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=b,this.W=new Array(64)}i.inherits(_,p),t.exports=_,_.blockSize=512,_.outSize=256,_.hmacStrength=192,_.padLength=64,_.prototype._update=function(E,O){for(var V=this.W,H=0;H<16;H++)V[H]=E[O+H];for(;H<V.length;H++)V[H]=l(g(V[H-2]),V[H-7],m(V[H-15]),V[H-16]);var F=this.h[0],L=this.h[1],$=this.h[2],W=this.h[3],x=this.h[4],R=this.h[5],B=this.h[6],v=this.h[7];for(s(this.k.length===V.length),H=0;H<V.length;H++){var y=c(v,f(x),d(x,R,B),this.k[H],V[H]),C=a(h(F),u(F,L,$));v=B,B=R,R=x,x=a(W,y),W=$,$=L,L=F,F=a(y,C)}this.h[0]=a(this.h[0],F),this.h[1]=a(this.h[1],L),this.h[2]=a(this.h[2],$),this.h[3]=a(this.h[3],W),this.h[4]=a(this.h[4],x),this.h[5]=a(this.h[5],R),this.h[6]=a(this.h[6],B),this.h[7]=a(this.h[7],v)},_.prototype._digest=function(E){return E==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(e,t,r){"use strict";var i=e("../utils"),n=e("./512");function o(){if(!(this instanceof o))return new o;n.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}i.inherits(o,n),t.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(s){return s==="hex"?i.toHex32(this.h.slice(0,12),"big"):i.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(e,t,r){"use strict";var i=e("../utils"),n=e("../common"),o=e("minimalistic-assert"),s=i.rotr64_hi,a=i.rotr64_lo,l=i.shr64_hi,c=i.shr64_lo,d=i.sum64,u=i.sum64_hi,h=i.sum64_lo,f=i.sum64_4_hi,m=i.sum64_4_lo,g=i.sum64_5_hi,p=i.sum64_5_lo,b=n.BlockHash,_=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function E(){if(!(this instanceof E))return new E;b.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=_,this.W=new Array(160)}function O(C,w,S,M,U){var N=C&S^~C&U;return N<0&&(N+=4294967296),N}function V(C,w,S,M,U,N){var T=w&M^~w&N;return T<0&&(T+=4294967296),T}function H(C,w,S,M,U){var N=C&S^C&U^S&U;return N<0&&(N+=4294967296),N}function F(C,w,S,M,U,N){var T=w&M^w&N^M&N;return T<0&&(T+=4294967296),T}function L(C,w){var S=s(C,w,28)^s(w,C,2)^s(w,C,7);return S<0&&(S+=4294967296),S}function $(C,w){var S=a(C,w,28)^a(w,C,2)^a(w,C,7);return S<0&&(S+=4294967296),S}function W(C,w){var S=s(C,w,14)^s(C,w,18)^s(w,C,9);return S<0&&(S+=4294967296),S}function x(C,w){var S=a(C,w,14)^a(C,w,18)^a(w,C,9);return S<0&&(S+=4294967296),S}function R(C,w){var S=s(C,w,1)^s(C,w,8)^l(C,w,7);return S<0&&(S+=4294967296),S}function B(C,w){var S=a(C,w,1)^a(C,w,8)^c(C,w,7);return S<0&&(S+=4294967296),S}function v(C,w){var S=s(C,w,19)^s(w,C,29)^l(C,w,6);return S<0&&(S+=4294967296),S}function y(C,w){var S=a(C,w,19)^a(w,C,29)^c(C,w,6);return S<0&&(S+=4294967296),S}i.inherits(E,b),t.exports=E,E.blockSize=1024,E.outSize=512,E.hmacStrength=192,E.padLength=128,E.prototype._prepareBlock=function(C,w){for(var S=this.W,M=0;M<32;M++)S[M]=C[w+M];for(;M<S.length;M+=2){var U=v(S[M-4],S[M-3]),N=y(S[M-4],S[M-3]),T=S[M-14],j=S[M-13],I=R(S[M-30],S[M-29]),q=B(S[M-30],S[M-29]),A=S[M-32],k=S[M-31];S[M]=f(U,N,T,j,I,q,A,k),S[M+1]=m(U,N,T,j,I,q,A,k)}},E.prototype._update=function(C,w){this._prepareBlock(C,w);var S=this.W,M=this.h[0],U=this.h[1],N=this.h[2],T=this.h[3],j=this.h[4],I=this.h[5],q=this.h[6],A=this.h[7],k=this.h[8],Y=this.h[9],Z=this.h[10],lt=this.h[11],J=this.h[12],et=this.h[13],Et=this.h[14],Rt=this.h[15];o(this.k.length===S.length);for(var nt=0;nt<S.length;nt+=2){var at=Et,Ct=Rt,tt=W(k,Y),it=x(k,Y),ct=O(k,Y,Z,lt,J),mt=V(k,Y,Z,lt,J,et),bt=this.k[nt],St=this.k[nt+1],wt=S[nt],At=S[nt+1],kt=g(at,Ct,tt,it,ct,mt,bt,St,wt,At),Mt=p(at,Ct,tt,it,ct,mt,bt,St,wt,At);at=L(M,U),Ct=$(M,U),tt=H(M,U,N,T,j),it=F(M,U,N,T,j,I);var Nt=u(at,Ct,tt,it),Ut=h(at,Ct,tt,it);Et=J,Rt=et,J=Z,et=lt,Z=k,lt=Y,k=u(q,A,kt,Mt),Y=h(A,A,kt,Mt),q=j,A=I,j=N,I=T,N=M,T=U,M=u(kt,Mt,Nt,Ut),U=h(kt,Mt,Nt,Ut)}d(this.h,0,M,U),d(this.h,2,N,T),d(this.h,4,j,I),d(this.h,6,q,A),d(this.h,8,k,Y),d(this.h,10,Z,lt),d(this.h,12,J,et),d(this.h,14,Et,Rt)},E.prototype._digest=function(C){return C==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(e,t,r){"use strict";var i=e("../utils").rotr32;function n(a,l,c){return a&l^~a&c}function o(a,l,c){return a&l^a&c^l&c}function s(a,l,c){return a^l^c}r.ft_1=function(a,l,c,d){return a===0?n(l,c,d):a===1||a===3?s(l,c,d):a===2?o(l,c,d):void 0},r.ch32=n,r.maj32=o,r.p32=s,r.s0_256=function(a){return i(a,2)^i(a,13)^i(a,22)},r.s1_256=function(a){return i(a,6)^i(a,11)^i(a,25)},r.g0_256=function(a){return i(a,7)^i(a,18)^a>>>3},r.g1_256=function(a){return i(a,17)^i(a,19)^a>>>10}},{"../utils":437}],437:[function(e,t,r){"use strict";var i=e("minimalistic-assert"),n=e("inherits");function o(c,d){return(64512&c.charCodeAt(d))==55296&&!(d<0||d+1>=c.length)&&(64512&c.charCodeAt(d+1))==56320}function s(c){return(c>>>24|c>>>8&65280|c<<8&16711680|(255&c)<<24)>>>0}function a(c){return c.length===1?"0"+c:c}function l(c){return c.length===7?"0"+c:c.length===6?"00"+c:c.length===5?"000"+c:c.length===4?"0000"+c:c.length===3?"00000"+c:c.length===2?"000000"+c:c.length===1?"0000000"+c:c}r.inherits=n,r.toArray=function(c,d){if(Array.isArray(c))return c.slice();if(!c)return[];var u=[];if(typeof c=="string")if(d){if(d==="hex")for((c=c.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(c="0"+c),f=0;f<c.length;f+=2)u.push(parseInt(c[f]+c[f+1],16))}else for(var h=0,f=0;f<c.length;f++){var m=c.charCodeAt(f);m<128?u[h++]=m:m<2048?(u[h++]=m>>6|192,u[h++]=63&m|128):o(c,f)?(m=65536+((1023&m)<<10)+(1023&c.charCodeAt(++f)),u[h++]=m>>18|240,u[h++]=m>>12&63|128,u[h++]=m>>6&63|128,u[h++]=63&m|128):(u[h++]=m>>12|224,u[h++]=m>>6&63|128,u[h++]=63&m|128)}else for(f=0;f<c.length;f++)u[f]=0|c[f];return u},r.toHex=function(c){for(var d="",u=0;u<c.length;u++)d+=a(c[u].toString(16));return d},r.htonl=s,r.toHex32=function(c,d){for(var u="",h=0;h<c.length;h++){var f=c[h];d==="little"&&(f=s(f)),u+=l(f.toString(16))}return u},r.zero2=a,r.zero8=l,r.join32=function(c,d,u,h){var f=u-d;i(f%4==0);for(var m=new Array(f/4),g=0,p=d;g<m.length;g++,p+=4){var b;b=h==="big"?c[p]<<24|c[p+1]<<16|c[p+2]<<8|c[p+3]:c[p+3]<<24|c[p+2]<<16|c[p+1]<<8|c[p],m[g]=b>>>0}return m},r.split32=function(c,d){for(var u=new Array(4*c.length),h=0,f=0;h<c.length;h++,f+=4){var m=c[h];d==="big"?(u[f]=m>>>24,u[f+1]=m>>>16&255,u[f+2]=m>>>8&255,u[f+3]=255&m):(u[f+3]=m>>>24,u[f+2]=m>>>16&255,u[f+1]=m>>>8&255,u[f]=255&m)}return u},r.rotr32=function(c,d){return c>>>d|c<<32-d},r.rotl32=function(c,d){return c<<d|c>>>32-d},r.sum32=function(c,d){return c+d>>>0},r.sum32_3=function(c,d,u){return c+d+u>>>0},r.sum32_4=function(c,d,u,h){return c+d+u+h>>>0},r.sum32_5=function(c,d,u,h,f){return c+d+u+h+f>>>0},r.sum64=function(c,d,u,h){var f=c[d],m=h+c[d+1]>>>0,g=(m<h?1:0)+u+f;c[d]=g>>>0,c[d+1]=m},r.sum64_hi=function(c,d,u,h){return(d+h>>>0<d?1:0)+c+u>>>0},r.sum64_lo=function(c,d,u,h){return d+h>>>0},r.sum64_4_hi=function(c,d,u,h,f,m,g,p){var b=0,_=d;return b+=(_=_+h>>>0)<d?1:0,b+=(_=_+m>>>0)<m?1:0,c+u+f+g+(b+=(_=_+p>>>0)<p?1:0)>>>0},r.sum64_4_lo=function(c,d,u,h,f,m,g,p){return d+h+m+p>>>0},r.sum64_5_hi=function(c,d,u,h,f,m,g,p,b,_){var E=0,O=d;return E+=(O=O+h>>>0)<d?1:0,E+=(O=O+m>>>0)<m?1:0,E+=(O=O+p>>>0)<p?1:0,c+u+f+g+b+(E+=(O=O+_>>>0)<_?1:0)>>>0},r.sum64_5_lo=function(c,d,u,h,f,m,g,p,b,_){return d+h+m+p+_>>>0},r.rotr64_hi=function(c,d,u){return(d<<32-u|c>>>u)>>>0},r.rotr64_lo=function(c,d,u){return(c<<32-u|d>>>u)>>>0},r.shr64_hi=function(c,d,u){return c>>>u},r.shr64_lo=function(c,d,u){return(c<<32-u|d>>>u)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(e,t,r){"use strict";var i=e("hash.js"),n=e("minimalistic-crypto-utils"),o=e("minimalistic-assert");function s(a){if(!(this instanceof s))return new s(a);this.hash=a.hash,this.predResist=!!a.predResist,this.outLen=this.hash.outSize,this.minEntropy=a.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var l=n.toArray(a.entropy,a.entropyEnc||"hex"),c=n.toArray(a.nonce,a.nonceEnc||"hex"),d=n.toArray(a.pers,a.persEnc||"hex");o(l.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(l,c,d)}t.exports=s,s.prototype._init=function(a,l,c){var d=a.concat(l).concat(c);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var u=0;u<this.V.length;u++)this.K[u]=0,this.V[u]=1;this._update(d),this._reseed=1,this.reseedInterval=281474976710656},s.prototype._hmac=function(){return new i.hmac(this.hash,this.K)},s.prototype._update=function(a){var l=this._hmac().update(this.V).update([0]);a&&(l=l.update(a)),this.K=l.digest(),this.V=this._hmac().update(this.V).digest(),a&&(this.K=this._hmac().update(this.V).update([1]).update(a).digest(),this.V=this._hmac().update(this.V).digest())},s.prototype.reseed=function(a,l,c,d){typeof l!="string"&&(d=c,c=l,l=null),a=n.toArray(a,l),c=n.toArray(c,d),o(a.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(a.concat(c||[])),this._reseed=1},s.prototype.generate=function(a,l,c,d){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof l!="string"&&(d=c,c=l,l=null),c&&(c=n.toArray(c,d||"hex"),this._update(c));for(var u=[];u.length<a;)this.V=this._hmac().update(this.V).digest(),u=u.concat(this.V);var h=u.slice(0,a);return this._update(c),this._reseed++,n.encode(h,l)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(e,t,r){"use strict";r.read=function(i,n,o,s,a){var l,c,d=8*a-s-1,u=(1<<d)-1,h=u>>1,f=-7,m=o?a-1:0,g=o?-1:1,p=i[n+m];for(m+=g,l=p&(1<<-f)-1,p>>=-f,f+=d;f>0;l=256*l+i[n+m],m+=g,f-=8);for(c=l&(1<<-f)-1,l>>=-f,f+=s;f>0;c=256*c+i[n+m],m+=g,f-=8);if(l===0)l=1-h;else{if(l===u)return c?NaN:1/0*(p?-1:1);c+=Math.pow(2,s),l-=h}return(p?-1:1)*c*Math.pow(2,l-s)},r.write=function(i,n,o,s,a,l){var c,d,u,h=8*l-a-1,f=(1<<h)-1,m=f>>1,g=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=s?0:l-1,b=s?1:-1,_=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(d=isNaN(n)?1:0,c=f):(c=Math.floor(Math.log(n)/Math.LN2),n*(u=Math.pow(2,-c))<1&&(c--,u*=2),(n+=c+m>=1?g/u:g*Math.pow(2,1-m))*u>=2&&(c++,u/=2),c+m>=f?(d=0,c=f):c+m>=1?(d=(n*u-1)*Math.pow(2,a),c+=m):(d=n*Math.pow(2,m-1)*Math.pow(2,a),c=0));a>=8;i[o+p]=255&d,p+=b,d/=256,a-=8);for(c=c<<a|d,h+=a;h>0;i[o+p]=255&c,p+=b,c/=256,h-=8);i[o+p-b]|=128*_}},{}],440:[function(e,t,r){"use strict";typeof Object.create=="function"?t.exports=function(i,n){n&&(i.super_=n,i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(i,n){if(n){i.super_=n;var o=function(){};o.prototype=n.prototype,i.prototype=new o,i.prototype.constructor=i}}},{}],441:[function(e,t,r){(function(i,n,o,s,a,l,c,d){(function(){"use strict";(function(u){typeof r=="object"&&t!==void 0?t.exports=u():(typeof window<"u"?window:n!==void 0?n:typeof self<"u"?self:this).JSZip=u()})(function(){return function u(h,f,m){function g(_,E){if(!f[_]){if(!h[_]){var O=typeof e=="function"&&e;if(!E&&O)return O(_,!0);if(p)return p(_,!0);var V=new Error("Cannot find module '"+_+"'");throw V.code="MODULE_NOT_FOUND",V}var H=f[_]={exports:{}};h[_][0].call(H.exports,function(F){return g(h[_][1][F]||F)},H,H.exports,u,h,f,m)}return f[_].exports}for(var p=typeof e=="function"&&e,b=0;b<m.length;b++)g(m[b]);return g}({1:[function(u,h,f){var m=u("./utils"),g=u("./support"),p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";f.encode=function(b){for(var _,E,O,V,H,F,L,$=[],W=0,x=b.length,R=x,B=m.getTypeOf(b)!=="string";W<b.length;)R=x-W,O=B?(_=b[W++],E=W<x?b[W++]:0,W<x?b[W++]:0):(_=b.charCodeAt(W++),E=W<x?b.charCodeAt(W++):0,W<x?b.charCodeAt(W++):0),V=_>>2,H=(3&_)<<4|E>>4,F=1<R?(15&E)<<2|O>>6:64,L=2<R?63&O:64,$.push(p.charAt(V)+p.charAt(H)+p.charAt(F)+p.charAt(L));return $.join("")},f.decode=function(b){var _,E,O,V,H,F,L=0,$=0,W="data:";if(b.substr(0,W.length)===W)throw new Error("Invalid base64 input, it looks like a data url.");var x,R=3*(b=b.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(b.charAt(b.length-1)===p.charAt(64)&&R--,b.charAt(b.length-2)===p.charAt(64)&&R--,R%1!=0)throw new Error("Invalid base64 input, bad content length.");for(x=g.uint8array?new Uint8Array(0|R):new Array(0|R);L<b.length;)_=p.indexOf(b.charAt(L++))<<2|(V=p.indexOf(b.charAt(L++)))>>4,E=(15&V)<<4|(H=p.indexOf(b.charAt(L++)))>>2,O=(3&H)<<6|(F=p.indexOf(b.charAt(L++))),x[$++]=_,H!==64&&(x[$++]=E),F!==64&&(x[$++]=O);return x}},{"./support":30,"./utils":32}],2:[function(u,h,f){var m=u("./external"),g=u("./stream/DataWorker"),p=u("./stream/Crc32Probe"),b=u("./stream/DataLengthProbe");function _(E,O,V,H,F){this.compressedSize=E,this.uncompressedSize=O,this.crc32=V,this.compression=H,this.compressedContent=F}_.prototype={getContentWorker:function(){var E=new g(m.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new b("data_length")),O=this;return E.on("end",function(){if(this.streamInfo.data_length!==O.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),E},getCompressedWorker:function(){return new g(m.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},_.createWorkerFrom=function(E,O,V){return E.pipe(new p).pipe(new b("uncompressedSize")).pipe(O.compressWorker(V)).pipe(new b("compressedSize")).withStreamInfo("compression",O)},h.exports=_},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(u,h,f){var m=u("./stream/GenericWorker");f.STORE={magic:"\0\0",compressWorker:function(){return new m("STORE compression")},uncompressWorker:function(){return new m("STORE decompression")}},f.DEFLATE=u("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(u,h,f){var m=u("./utils"),g=function(){for(var p,b=[],_=0;_<256;_++){p=_;for(var E=0;E<8;E++)p=1&p?3988292384^p>>>1:p>>>1;b[_]=p}return b}();h.exports=function(p,b){return p!==void 0&&p.length?m.getTypeOf(p)!=="string"?function(_,E,O,V){var H=g,F=0+O;_^=-1;for(var L=0;L<F;L++)_=_>>>8^H[255&(_^E[L])];return-1^_}(0|b,p,p.length):function(_,E,O,V){var H=g,F=0+O;_^=-1;for(var L=0;L<F;L++)_=_>>>8^H[255&(_^E.charCodeAt(L))];return-1^_}(0|b,p,p.length):0}},{"./utils":32}],5:[function(u,h,f){f.base64=!1,f.binary=!1,f.dir=!1,f.createFolders=!0,f.date=null,f.compression=null,f.compressionOptions=null,f.comment=null,f.unixPermissions=null,f.dosPermissions=null},{}],6:[function(u,h,f){var m;m=typeof Promise<"u"?Promise:u("lie"),h.exports={Promise:m}},{lie:37}],7:[function(u,h,f){var m=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",g=u("pako"),p=u("./utils"),b=u("./stream/GenericWorker"),_=m?"uint8array":"array";function E(O,V){b.call(this,"FlateWorker/"+O),this._pako=null,this._pakoAction=O,this._pakoOptions=V,this.meta={}}f.magic="\b\0",p.inherits(E,b),E.prototype.processChunk=function(O){this.meta=O.meta,this._pako===null&&this._createPako(),this._pako.push(p.transformTo(_,O.data),!1)},E.prototype.flush=function(){b.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},E.prototype.cleanUp=function(){b.prototype.cleanUp.call(this),this._pako=null},E.prototype._createPako=function(){this._pako=new g[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var O=this;this._pako.onData=function(V){O.push({data:V,meta:O.meta})}},f.compressWorker=function(O){return new E("Deflate",O)},f.uncompressWorker=function(){return new E("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(u,h,f){function m(H,F){var L,$="";for(L=0;L<F;L++)$+=String.fromCharCode(255&H),H>>>=8;return $}function g(H,F,L,$,W,x){var R,B,v=H.file,y=H.compression,C=x!==_.utf8encode,w=p.transformTo("string",x(v.name)),S=p.transformTo("string",_.utf8encode(v.name)),M=v.comment,U=p.transformTo("string",x(M)),N=p.transformTo("string",_.utf8encode(M)),T=S.length!==v.name.length,j=N.length!==M.length,I="",q="",A="",k=v.dir,Y=v.date,Z={crc32:0,compressedSize:0,uncompressedSize:0};F&&!L||(Z.crc32=H.crc32,Z.compressedSize=H.compressedSize,Z.uncompressedSize=H.uncompressedSize);var lt=0;F&&(lt|=8),C||!T&&!j||(lt|=2048);var J=0,et=0;k&&(J|=16),W==="UNIX"?(et=798,J|=function(Rt,nt){var at=Rt;return Rt||(at=nt?16893:33204),(65535&at)<<16}(v.unixPermissions,k)):(et=20,J|=function(Rt){return 63&(Rt||0)}(v.dosPermissions)),R=Y.getUTCHours(),R<<=6,R|=Y.getUTCMinutes(),R<<=5,R|=Y.getUTCSeconds()/2,B=Y.getUTCFullYear()-1980,B<<=4,B|=Y.getUTCMonth()+1,B<<=5,B|=Y.getUTCDate(),T&&(q=m(1,1)+m(E(w),4)+S,I+="up"+m(q.length,2)+q),j&&(A=m(1,1)+m(E(U),4)+N,I+="uc"+m(A.length,2)+A);var Et="";return Et+=`
\0`,Et+=m(lt,2),Et+=y.magic,Et+=m(R,2),Et+=m(B,2),Et+=m(Z.crc32,4),Et+=m(Z.compressedSize,4),Et+=m(Z.uncompressedSize,4),Et+=m(w.length,2),Et+=m(I.length,2),{fileRecord:O.LOCAL_FILE_HEADER+Et+w+I,dirRecord:O.CENTRAL_FILE_HEADER+m(et,2)+Et+m(U.length,2)+"\0\0\0\0"+m(J,4)+m($,4)+w+I+U}}var p=u("../utils"),b=u("../stream/GenericWorker"),_=u("../utf8"),E=u("../crc32"),O=u("../signature");function V(H,F,L,$){b.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=F,this.zipPlatform=L,this.encodeFileName=$,this.streamFiles=H,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}p.inherits(V,b),V.prototype.push=function(H){var F=H.meta.percent||0,L=this.entriesCount,$=this._sources.length;this.accumulate?this.contentBuffer.push(H):(this.bytesWritten+=H.data.length,b.prototype.push.call(this,{data:H.data,meta:{currentFile:this.currentFile,percent:L?(F+100*(L-$-1))/L:100}}))},V.prototype.openedSource=function(H){this.currentSourceOffset=this.bytesWritten,this.currentFile=H.file.name;var F=this.streamFiles&&!H.file.dir;if(F){var L=g(H,F,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:L.fileRecord,meta:{percent:0}})}else this.accumulate=!0},V.prototype.closedSource=function(H){this.accumulate=!1;var F=this.streamFiles&&!H.file.dir,L=g(H,F,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(L.dirRecord),F)this.push({data:function($){return O.DATA_DESCRIPTOR+m($.crc32,4)+m($.compressedSize,4)+m($.uncompressedSize,4)}(H),meta:{percent:100}});else for(this.push({data:L.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},V.prototype.flush=function(){for(var H=this.bytesWritten,F=0;F<this.dirRecords.length;F++)this.push({data:this.dirRecords[F],meta:{percent:100}});var L=this.bytesWritten-H,$=function(W,x,R,B,v){var y=p.transformTo("string",v(B));return O.CENTRAL_DIRECTORY_END+"\0\0\0\0"+m(W,2)+m(W,2)+m(x,4)+m(R,4)+m(y.length,2)+y}(this.dirRecords.length,L,H,this.zipComment,this.encodeFileName);this.push({data:$,meta:{percent:100}})},V.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},V.prototype.registerPrevious=function(H){this._sources.push(H);var F=this;return H.on("data",function(L){F.processChunk(L)}),H.on("end",function(){F.closedSource(F.previous.streamInfo),F._sources.length?F.prepareNextSource():F.end()}),H.on("error",function(L){F.error(L)}),this},V.prototype.resume=function(){return!!b.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},V.prototype.error=function(H){var F=this._sources;if(!b.prototype.error.call(this,H))return!1;for(var L=0;L<F.length;L++)try{F[L].error(H)}catch{}return!0},V.prototype.lock=function(){b.prototype.lock.call(this);for(var H=this._sources,F=0;F<H.length;F++)H[F].lock()},h.exports=V},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(u,h,f){var m=u("../compressions"),g=u("./ZipFileWorker");f.generateWorker=function(p,b,_){var E=new g(b.streamFiles,_,b.platform,b.encodeFileName),O=0;try{p.forEach(function(V,H){O++;var F=function(x,R){var B=x||R,v=m[B];if(!v)throw new Error(B+" is not a valid compression method !");return v}(H.options.compression,b.compression),L=H.options.compressionOptions||b.compressionOptions||{},$=H.dir,W=H.date;H._compressWorker(F,L).withStreamInfo("file",{name:V,dir:$,date:W,comment:H.comment||"",unixPermissions:H.unixPermissions,dosPermissions:H.dosPermissions}).pipe(E)}),E.entriesCount=O}catch(V){E.error(V)}return E}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(u,h,f){function m(){if(!(this instanceof m))return new m;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var g=new m;for(var p in this)typeof this[p]!="function"&&(g[p]=this[p]);return g}}(m.prototype=u("./object")).loadAsync=u("./load"),m.support=u("./support"),m.defaults=u("./defaults"),m.version="3.10.1",m.loadAsync=function(g,p){return new m().loadAsync(g,p)},m.external=u("./external"),h.exports=m},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(u,h,f){var m=u("./utils"),g=u("./external"),p=u("./utf8"),b=u("./zipEntries"),_=u("./stream/Crc32Probe"),E=u("./nodejsUtils");function O(V){return new g.Promise(function(H,F){var L=V.decompressed.getContentWorker().pipe(new _);L.on("error",function($){F($)}).on("end",function(){L.streamInfo.crc32!==V.decompressed.crc32?F(new Error("Corrupted zip : CRC32 mismatch")):H()}).resume()})}h.exports=function(V,H){var F=this;return H=m.extend(H||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:p.utf8decode}),E.isNode&&E.isStream(V)?g.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):m.prepareContent("the loaded zip file",V,!0,H.optimizedBinaryString,H.base64).then(function(L){var $=new b(H);return $.load(L),$}).then(function(L){var $=[g.Promise.resolve(L)],W=L.files;if(H.checkCRC32)for(var x=0;x<W.length;x++)$.push(O(W[x]));return g.Promise.all($)}).then(function(L){for(var $=L.shift(),W=$.files,x=0;x<W.length;x++){var R=W[x],B=R.fileNameStr,v=m.resolve(R.fileNameStr);F.file(v,R.decompressed,{binary:!0,optimizedBinaryString:!0,date:R.date,dir:R.dir,comment:R.fileCommentStr.length?R.fileCommentStr:null,unixPermissions:R.unixPermissions,dosPermissions:R.dosPermissions,createFolders:H.createFolders}),R.dir||(F.file(v).unsafeOriginalName=B)}return $.zipComment.length&&(F.comment=$.zipComment),F})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(u,h,f){var m=u("../utils"),g=u("../stream/GenericWorker");function p(b,_){g.call(this,"Nodejs stream input adapter for "+b),this._upstreamEnded=!1,this._bindStream(_)}m.inherits(p,g),p.prototype._bindStream=function(b){var _=this;(this._stream=b).pause(),b.on("data",function(E){_.push({data:E,meta:{percent:0}})}).on("error",function(E){_.isPaused?this.generatedError=E:_.error(E)}).on("end",function(){_.isPaused?_._upstreamEnded=!0:_.end()})},p.prototype.pause=function(){return!!g.prototype.pause.call(this)&&(this._stream.pause(),!0)},p.prototype.resume=function(){return!!g.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},h.exports=p},{"../stream/GenericWorker":28,"../utils":32}],13:[function(u,h,f){var m=u("readable-stream").Readable;function g(p,b,_){m.call(this,b),this._helper=p;var E=this;p.on("data",function(O,V){E.push(O)||E._helper.pause(),_&&_(V)}).on("error",function(O){E.emit("error",O)}).on("end",function(){E.push(null)})}u("../utils").inherits(g,m),g.prototype._read=function(){this._helper.resume()},h.exports=g},{"../utils":32,"readable-stream":16}],14:[function(u,h,f){h.exports={isNode:o!==void 0,newBufferFrom:function(m,g){if(o.from&&o.from!==Uint8Array.from)return o.from(m,g);if(typeof m=="number")throw new Error('The "data" argument must not be a number');return new o(m,g)},allocBuffer:function(m){if(o.alloc)return o.alloc(m);var g=new o(m);return g.fill(0),g},isBuffer:function(m){return o.isBuffer(m)},isStream:function(m){return m&&typeof m.on=="function"&&typeof m.pause=="function"&&typeof m.resume=="function"}}},{}],15:[function(u,h,f){function m(v,y,C){var w,S=p.getTypeOf(y),M=p.extend(C||{},E);M.date=M.date||new Date,M.compression!==null&&(M.compression=M.compression.toUpperCase()),typeof M.unixPermissions=="string"&&(M.unixPermissions=parseInt(M.unixPermissions,8)),M.unixPermissions&&16384&M.unixPermissions&&(M.dir=!0),M.dosPermissions&&16&M.dosPermissions&&(M.dir=!0),M.dir&&(v=W(v)),M.createFolders&&(w=$(v))&&x.call(this,w,!0);var U=S==="string"&&M.binary===!1&&M.base64===!1;C&&C.binary!==void 0||(M.binary=!U),(y instanceof O&&y.uncompressedSize===0||M.dir||!y||y.length===0)&&(M.base64=!1,M.binary=!0,y="",M.compression="STORE",S="string");var N;N=y instanceof O||y instanceof b?y:F.isNode&&F.isStream(y)?new L(v,y):p.prepareContent(v,y,M.binary,M.optimizedBinaryString,M.base64);var T=new V(v,N,M);this.files[v]=T}var g=u("./utf8"),p=u("./utils"),b=u("./stream/GenericWorker"),_=u("./stream/StreamHelper"),E=u("./defaults"),O=u("./compressedObject"),V=u("./zipObject"),H=u("./generate"),F=u("./nodejsUtils"),L=u("./nodejs/NodejsStreamInputAdapter"),$=function(v){v.slice(-1)==="/"&&(v=v.substring(0,v.length-1));var y=v.lastIndexOf("/");return 0<y?v.substring(0,y):""},W=function(v){return v.slice(-1)!=="/"&&(v+="/"),v},x=function(v,y){return y=y!==void 0?y:E.createFolders,v=W(v),this.files[v]||m.call(this,v,null,{dir:!0,createFolders:y}),this.files[v]};function R(v){return Object.prototype.toString.call(v)==="[object RegExp]"}var B={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(v){var y,C,w;for(y in this.files)w=this.files[y],(C=y.slice(this.root.length,y.length))&&y.slice(0,this.root.length)===this.root&&v(C,w)},filter:function(v){var y=[];return this.forEach(function(C,w){v(C,w)&&y.push(w)}),y},file:function(v,y,C){if(arguments.length!==1)return v=this.root+v,m.call(this,v,y,C),this;if(R(v)){var w=v;return this.filter(function(M,U){return!U.dir&&w.test(M)})}var S=this.files[this.root+v];return S&&!S.dir?S:null},folder:function(v){if(!v)return this;if(R(v))return this.filter(function(S,M){return M.dir&&v.test(S)});var y=this.root+v,C=x.call(this,y),w=this.clone();return w.root=C.name,w},remove:function(v){v=this.root+v;var y=this.files[v];if(y||(v.slice(-1)!=="/"&&(v+="/"),y=this.files[v]),y&&!y.dir)delete this.files[v];else for(var C=this.filter(function(S,M){return M.name.slice(0,v.length)===v}),w=0;w<C.length;w++)delete this.files[C[w].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(v){var y,C={};try{if((C=p.extend(v||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:g.utf8encode})).type=C.type.toLowerCase(),C.compression=C.compression.toUpperCase(),C.type==="binarystring"&&(C.type="string"),!C.type)throw new Error("No output type specified.");p.checkSupport(C.type),C.platform!=="darwin"&&C.platform!=="freebsd"&&C.platform!=="linux"&&C.platform!=="sunos"||(C.platform="UNIX"),C.platform==="win32"&&(C.platform="DOS");var w=C.comment||this.comment||"";y=H.generateWorker(this,C,w)}catch(S){(y=new b("error")).error(S)}return new _(y,C.type||"string",C.mimeType)},generateAsync:function(v,y){return this.generateInternalStream(v).accumulate(y)},generateNodeStream:function(v,y){return(v=v||{}).type||(v.type="nodebuffer"),this.generateInternalStream(v).toNodejsStream(y)}};h.exports=B},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(u,h,f){h.exports=u("stream")},{stream:void 0}],17:[function(u,h,f){var m=u("./DataReader");function g(p){m.call(this,p);for(var b=0;b<this.data.length;b++)p[b]=255&p[b]}u("../utils").inherits(g,m),g.prototype.byteAt=function(p){return this.data[this.zero+p]},g.prototype.lastIndexOfSignature=function(p){for(var b=p.charCodeAt(0),_=p.charCodeAt(1),E=p.charCodeAt(2),O=p.charCodeAt(3),V=this.length-4;0<=V;--V)if(this.data[V]===b&&this.data[V+1]===_&&this.data[V+2]===E&&this.data[V+3]===O)return V-this.zero;return-1},g.prototype.readAndCheckSignature=function(p){var b=p.charCodeAt(0),_=p.charCodeAt(1),E=p.charCodeAt(2),O=p.charCodeAt(3),V=this.readData(4);return b===V[0]&&_===V[1]&&E===V[2]&&O===V[3]},g.prototype.readData=function(p){if(this.checkOffset(p),p===0)return[];var b=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,b},h.exports=g},{"../utils":32,"./DataReader":18}],18:[function(u,h,f){var m=u("../utils");function g(p){this.data=p,this.length=p.length,this.index=0,this.zero=0}g.prototype={checkOffset:function(p){this.checkIndex(this.index+p)},checkIndex:function(p){if(this.length<this.zero+p||p<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+p+"). Corrupted zip ?")},setIndex:function(p){this.checkIndex(p),this.index=p},skip:function(p){this.setIndex(this.index+p)},byteAt:function(){},readInt:function(p){var b,_=0;for(this.checkOffset(p),b=this.index+p-1;b>=this.index;b--)_=(_<<8)+this.byteAt(b);return this.index+=p,_},readString:function(p){return m.transformTo("string",this.readData(p))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var p=this.readInt(4);return new Date(Date.UTC(1980+(p>>25&127),(p>>21&15)-1,p>>16&31,p>>11&31,p>>5&63,(31&p)<<1))}},h.exports=g},{"../utils":32}],19:[function(u,h,f){var m=u("./Uint8ArrayReader");function g(p){m.call(this,p)}u("../utils").inherits(g,m),g.prototype.readData=function(p){this.checkOffset(p);var b=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,b},h.exports=g},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(u,h,f){var m=u("./DataReader");function g(p){m.call(this,p)}u("../utils").inherits(g,m),g.prototype.byteAt=function(p){return this.data.charCodeAt(this.zero+p)},g.prototype.lastIndexOfSignature=function(p){return this.data.lastIndexOf(p)-this.zero},g.prototype.readAndCheckSignature=function(p){return p===this.readData(4)},g.prototype.readData=function(p){this.checkOffset(p);var b=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,b},h.exports=g},{"../utils":32,"./DataReader":18}],21:[function(u,h,f){var m=u("./ArrayReader");function g(p){m.call(this,p)}u("../utils").inherits(g,m),g.prototype.readData=function(p){if(this.checkOffset(p),p===0)return new Uint8Array(0);var b=this.data.subarray(this.zero+this.index,this.zero+this.index+p);return this.index+=p,b},h.exports=g},{"../utils":32,"./ArrayReader":17}],22:[function(u,h,f){var m=u("../utils"),g=u("../support"),p=u("./ArrayReader"),b=u("./StringReader"),_=u("./NodeBufferReader"),E=u("./Uint8ArrayReader");h.exports=function(O){var V=m.getTypeOf(O);return m.checkSupport(V),V!=="string"||g.uint8array?V==="nodebuffer"?new _(O):g.uint8array?new E(m.transformTo("uint8array",O)):new p(m.transformTo("array",O)):new b(O)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(u,h,f){f.LOCAL_FILE_HEADER="PK",f.CENTRAL_FILE_HEADER="PK",f.CENTRAL_DIRECTORY_END="PK",f.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",f.ZIP64_CENTRAL_DIRECTORY_END="PK",f.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(u,h,f){var m=u("./GenericWorker"),g=u("../utils");function p(b){m.call(this,"ConvertWorker to "+b),this.destType=b}g.inherits(p,m),p.prototype.processChunk=function(b){this.push({data:g.transformTo(this.destType,b.data),meta:b.meta})},h.exports=p},{"../utils":32,"./GenericWorker":28}],25:[function(u,h,f){var m=u("./GenericWorker"),g=u("../crc32");function p(){m.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}u("../utils").inherits(p,m),p.prototype.processChunk=function(b){this.streamInfo.crc32=g(b.data,this.streamInfo.crc32||0),this.push(b)},h.exports=p},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(u,h,f){var m=u("../utils"),g=u("./GenericWorker");function p(b){g.call(this,"DataLengthProbe for "+b),this.propName=b,this.withStreamInfo(b,0)}m.inherits(p,g),p.prototype.processChunk=function(b){if(b){var _=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=_+b.data.length}g.prototype.processChunk.call(this,b)},h.exports=p},{"../utils":32,"./GenericWorker":28}],27:[function(u,h,f){var m=u("../utils"),g=u("./GenericWorker");function p(b){g.call(this,"DataWorker");var _=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,b.then(function(E){_.dataIsReady=!0,_.data=E,_.max=E&&E.length||0,_.type=m.getTypeOf(E),_.isPaused||_._tickAndRepeat()},function(E){_.error(E)})}m.inherits(p,g),p.prototype.cleanUp=function(){g.prototype.cleanUp.call(this),this.data=null},p.prototype.resume=function(){return!!g.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,m.delay(this._tickAndRepeat,[],this)),!0)},p.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(m.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},p.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var b=null,_=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":b=this.data.substring(this.index,_);break;case"uint8array":b=this.data.subarray(this.index,_);break;case"array":case"nodebuffer":b=this.data.slice(this.index,_)}return this.index=_,this.push({data:b,meta:{percent:this.max?this.index/this.max*100:0}})},h.exports=p},{"../utils":32,"./GenericWorker":28}],28:[function(u,h,f){function m(g){this.name=g||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}m.prototype={push:function(g){this.emit("data",g)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(g){this.emit("error",g)}return!0},error:function(g){return!this.isFinished&&(this.isPaused?this.generatedError=g:(this.isFinished=!0,this.emit("error",g),this.previous&&this.previous.error(g),this.cleanUp()),!0)},on:function(g,p){return this._listeners[g].push(p),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(g,p){if(this._listeners[g])for(var b=0;b<this._listeners[g].length;b++)this._listeners[g][b].call(this,p)},pipe:function(g){return g.registerPrevious(this)},registerPrevious:function(g){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=g.streamInfo,this.mergeStreamInfo(),this.previous=g;var p=this;return g.on("data",function(b){p.processChunk(b)}),g.on("end",function(){p.end()}),g.on("error",function(b){p.error(b)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var g=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),g=!0),this.previous&&this.previous.resume(),!g},flush:function(){},processChunk:function(g){this.push(g)},withStreamInfo:function(g,p){return this.extraStreamInfo[g]=p,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var g in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,g)&&(this.streamInfo[g]=this.extraStreamInfo[g])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var g="Worker "+this.name;return this.previous?this.previous+" -> "+g:g}},h.exports=m},{}],29:[function(u,h,f){var m=u("../utils"),g=u("./ConvertWorker"),p=u("./GenericWorker"),b=u("../base64"),_=u("../support"),E=u("../external"),O=null;if(_.nodestream)try{O=u("../nodejs/NodejsStreamOutputAdapter")}catch{}function V(H,F,L){var $=F;switch(F){case"blob":case"arraybuffer":$="uint8array";break;case"base64":$="string"}try{this._internalType=$,this._outputType=F,this._mimeType=L,m.checkSupport($),this._worker=H.pipe(new g($)),H.lock()}catch(W){this._worker=new p("error"),this._worker.error(W)}}V.prototype={accumulate:function(H){return function(F,L){return new E.Promise(function($,W){var x=[],R=F._internalType,B=F._outputType,v=F._mimeType;F.on("data",function(y,C){x.push(y),L&&L(C)}).on("error",function(y){x=[],W(y)}).on("end",function(){try{var y=function(C,w,S){switch(C){case"blob":return m.newBlob(m.transformTo("arraybuffer",w),S);case"base64":return b.encode(w);default:return m.transformTo(C,w)}}(B,function(C,w){var S,M=0,U=null,N=0;for(S=0;S<w.length;S++)N+=w[S].length;switch(C){case"string":return w.join("");case"array":return Array.prototype.concat.apply([],w);case"uint8array":for(U=new Uint8Array(N),S=0;S<w.length;S++)U.set(w[S],M),M+=w[S].length;return U;case"nodebuffer":return o.concat(w);default:throw new Error("concat : unsupported type '"+C+"'")}}(R,x),v);$(y)}catch(C){W(C)}x=[]}).resume()})}(this,H)},on:function(H,F){var L=this;return H==="data"?this._worker.on(H,function($){F.call(L,$.data,$.meta)}):this._worker.on(H,function(){m.delay(F,arguments,L)}),this},resume:function(){return m.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(H){if(m.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new O(this,{objectMode:this._outputType!=="nodebuffer"},H)}},h.exports=V},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(u,h,f){if(f.base64=!0,f.array=!0,f.string=!0,f.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",f.nodebuffer=o!==void 0,f.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")f.blob=!1;else{var m=new ArrayBuffer(0);try{f.blob=new Blob([m],{type:"application/zip"}).size===0}catch{try{var g=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);g.append(m),f.blob=g.getBlob("application/zip").size===0}catch{f.blob=!1}}}try{f.nodestream=!!u("readable-stream").Readable}catch{f.nodestream=!1}},{"readable-stream":16}],31:[function(u,h,f){for(var m=u("./utils"),g=u("./support"),p=u("./nodejsUtils"),b=u("./stream/GenericWorker"),_=new Array(256),E=0;E<256;E++)_[E]=252<=E?6:248<=E?5:240<=E?4:224<=E?3:192<=E?2:1;function O(){b.call(this,"utf-8 decode"),this.leftOver=null}function V(){b.call(this,"utf-8 encode")}_[254]=_[254]=1,f.utf8encode=function(H){return g.nodebuffer?p.newBufferFrom(H,"utf-8"):function(F){var L,$,W,x,R,B=F.length,v=0;for(x=0;x<B;x++)(64512&($=F.charCodeAt(x)))==55296&&x+1<B&&(64512&(W=F.charCodeAt(x+1)))==56320&&($=65536+($-55296<<10)+(W-56320),x++),v+=$<128?1:$<2048?2:$<65536?3:4;for(L=g.uint8array?new Uint8Array(v):new Array(v),x=R=0;R<v;x++)(64512&($=F.charCodeAt(x)))==55296&&x+1<B&&(64512&(W=F.charCodeAt(x+1)))==56320&&($=65536+($-55296<<10)+(W-56320),x++),$<128?L[R++]=$:($<2048?L[R++]=192|$>>>6:($<65536?L[R++]=224|$>>>12:(L[R++]=240|$>>>18,L[R++]=128|$>>>12&63),L[R++]=128|$>>>6&63),L[R++]=128|63&$);return L}(H)},f.utf8decode=function(H){return g.nodebuffer?m.transformTo("nodebuffer",H).toString("utf-8"):function(F){var L,$,W,x,R=F.length,B=new Array(2*R);for(L=$=0;L<R;)if((W=F[L++])<128)B[$++]=W;else if(4<(x=_[W]))B[$++]=65533,L+=x-1;else{for(W&=x===2?31:x===3?15:7;1<x&&L<R;)W=W<<6|63&F[L++],x--;1<x?B[$++]=65533:W<65536?B[$++]=W:(W-=65536,B[$++]=55296|W>>10&1023,B[$++]=56320|1023&W)}return B.length!==$&&(B.subarray?B=B.subarray(0,$):B.length=$),m.applyFromCharCode(B)}(H=m.transformTo(g.uint8array?"uint8array":"array",H))},m.inherits(O,b),O.prototype.processChunk=function(H){var F=m.transformTo(g.uint8array?"uint8array":"array",H.data);if(this.leftOver&&this.leftOver.length){if(g.uint8array){var L=F;(F=new Uint8Array(L.length+this.leftOver.length)).set(this.leftOver,0),F.set(L,this.leftOver.length)}else F=this.leftOver.concat(F);this.leftOver=null}var $=function(x,R){var B;for((R=R||x.length)>x.length&&(R=x.length),B=R-1;0<=B&&(192&x[B])==128;)B--;return B<0||B===0?R:B+_[x[B]]>R?B:R}(F),W=F;$!==F.length&&(g.uint8array?(W=F.subarray(0,$),this.leftOver=F.subarray($,F.length)):(W=F.slice(0,$),this.leftOver=F.slice($,F.length))),this.push({data:f.utf8decode(W),meta:H.meta})},O.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:f.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},f.Utf8DecodeWorker=O,m.inherits(V,b),V.prototype.processChunk=function(H){this.push({data:f.utf8encode(H.data),meta:H.meta})},f.Utf8EncodeWorker=V},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(u,h,f){var m=u("./support"),g=u("./base64"),p=u("./nodejsUtils"),b=u("./external");function _(L){return L}function E(L,$){for(var W=0;W<L.length;++W)$[W]=255&L.charCodeAt(W);return $}u("setimmediate"),f.newBlob=function(L,$){f.checkSupport("blob");try{return new Blob([L],{type:$})}catch{try{var W=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return W.append(L),W.getBlob($)}catch{throw new Error("Bug : can't construct the Blob.")}}};var O={stringifyByChunk:function(L,$,W){var x=[],R=0,B=L.length;if(B<=W)return String.fromCharCode.apply(null,L);for(;R<B;)$==="array"||$==="nodebuffer"?x.push(String.fromCharCode.apply(null,L.slice(R,Math.min(R+W,B)))):x.push(String.fromCharCode.apply(null,L.subarray(R,Math.min(R+W,B)))),R+=W;return x.join("")},stringifyByChar:function(L){for(var $="",W=0;W<L.length;W++)$+=String.fromCharCode(L[W]);return $},applyCanBeUsed:{uint8array:function(){try{return m.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return m.nodebuffer&&String.fromCharCode.apply(null,p.allocBuffer(1)).length===1}catch{return!1}}()}};function V(L){var $=65536,W=f.getTypeOf(L),x=!0;if(W==="uint8array"?x=O.applyCanBeUsed.uint8array:W==="nodebuffer"&&(x=O.applyCanBeUsed.nodebuffer),x)for(;1<$;)try{return O.stringifyByChunk(L,W,$)}catch{$=Math.floor($/2)}return O.stringifyByChar(L)}function H(L,$){for(var W=0;W<L.length;W++)$[W]=L[W];return $}f.applyFromCharCode=V;var F={};F.string={string:_,array:function(L){return E(L,new Array(L.length))},arraybuffer:function(L){return F.string.uint8array(L).buffer},uint8array:function(L){return E(L,new Uint8Array(L.length))},nodebuffer:function(L){return E(L,p.allocBuffer(L.length))}},F.array={string:V,array:_,arraybuffer:function(L){return new Uint8Array(L).buffer},uint8array:function(L){return new Uint8Array(L)},nodebuffer:function(L){return p.newBufferFrom(L)}},F.arraybuffer={string:function(L){return V(new Uint8Array(L))},array:function(L){return H(new Uint8Array(L),new Array(L.byteLength))},arraybuffer:_,uint8array:function(L){return new Uint8Array(L)},nodebuffer:function(L){return p.newBufferFrom(new Uint8Array(L))}},F.uint8array={string:V,array:function(L){return H(L,new Array(L.length))},arraybuffer:function(L){return L.buffer},uint8array:_,nodebuffer:function(L){return p.newBufferFrom(L)}},F.nodebuffer={string:V,array:function(L){return H(L,new Array(L.length))},arraybuffer:function(L){return F.nodebuffer.uint8array(L).buffer},uint8array:function(L){return H(L,new Uint8Array(L.length))},nodebuffer:_},f.transformTo=function(L,$){if($=$||"",!L)return $;f.checkSupport(L);var W=f.getTypeOf($);return F[W][L]($)},f.resolve=function(L){for(var $=L.split("/"),W=[],x=0;x<$.length;x++){var R=$[x];R==="."||R===""&&x!==0&&x!==$.length-1||(R===".."?W.pop():W.push(R))}return W.join("/")},f.getTypeOf=function(L){return typeof L=="string"?"string":Object.prototype.toString.call(L)==="[object Array]"?"array":m.nodebuffer&&p.isBuffer(L)?"nodebuffer":m.uint8array&&L instanceof Uint8Array?"uint8array":m.arraybuffer&&L instanceof ArrayBuffer?"arraybuffer":void 0},f.checkSupport=function(L){if(!m[L.toLowerCase()])throw new Error(L+" is not supported by this platform")},f.MAX_VALUE_16BITS=65535,f.MAX_VALUE_32BITS=-1,f.pretty=function(L){var $,W,x="";for(W=0;W<(L||"").length;W++)x+="\\x"+(($=L.charCodeAt(W))<16?"0":"")+$.toString(16).toUpperCase();return x},f.delay=function(L,$,W){d(function(){L.apply(W||null,$||[])})},f.inherits=function(L,$){function W(){}W.prototype=$.prototype,L.prototype=new W},f.extend=function(){var L,$,W={};for(L=0;L<arguments.length;L++)for($ in arguments[L])Object.prototype.hasOwnProperty.call(arguments[L],$)&&W[$]===void 0&&(W[$]=arguments[L][$]);return W},f.prepareContent=function(L,$,W,x,R){return b.Promise.resolve($).then(function(B){return m.blob&&(B instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(B))!==-1)&&typeof FileReader<"u"?new b.Promise(function(v,y){var C=new FileReader;C.onload=function(w){v(w.target.result)},C.onerror=function(w){y(w.target.error)},C.readAsArrayBuffer(B)}):B}).then(function(B){var v=f.getTypeOf(B);return v?(v==="arraybuffer"?B=f.transformTo("uint8array",B):v==="string"&&(R?B=g.decode(B):W&&x!==!0&&(B=function(y){return E(y,m.uint8array?new Uint8Array(y.length):new Array(y.length))}(B))),B):b.Promise.reject(new Error("Can't read the data of '"+L+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(u,h,f){var m=u("./reader/readerFor"),g=u("./utils"),p=u("./signature"),b=u("./zipEntry"),_=u("./support");function E(O){this.files=[],this.loadOptions=O}E.prototype={checkSignature:function(O){if(!this.reader.readAndCheckSignature(O)){this.reader.index-=4;var V=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+g.pretty(V)+", expected "+g.pretty(O)+")")}},isSignature:function(O,V){var H=this.reader.index;this.reader.setIndex(O);var F=this.reader.readString(4)===V;return this.reader.setIndex(H),F},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var O=this.reader.readData(this.zipCommentLength),V=_.uint8array?"uint8array":"array",H=g.transformTo(V,O);this.zipComment=this.loadOptions.decodeFileName(H)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var O,V,H,F=this.zip64EndOfCentralSize-44;0<F;)O=this.reader.readInt(2),V=this.reader.readInt(4),H=this.reader.readData(V),this.zip64ExtensibleData[O]={id:O,length:V,value:H}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var O,V;for(O=0;O<this.files.length;O++)V=this.files[O],this.reader.setIndex(V.localHeaderOffset),this.checkSignature(p.LOCAL_FILE_HEADER),V.readLocalPart(this.reader),V.handleUTF8(),V.processAttributes()},readCentralDir:function(){var O;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(p.CENTRAL_FILE_HEADER);)(O=new b({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(O);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var O=this.reader.lastIndexOfSignature(p.CENTRAL_DIRECTORY_END);if(O<0)throw this.isSignature(0,p.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(O);var V=O;if(this.checkSignature(p.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===g.MAX_VALUE_16BITS||this.diskWithCentralDirStart===g.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===g.MAX_VALUE_16BITS||this.centralDirRecords===g.MAX_VALUE_16BITS||this.centralDirSize===g.MAX_VALUE_32BITS||this.centralDirOffset===g.MAX_VALUE_32BITS){if(this.zip64=!0,(O=this.reader.lastIndexOfSignature(p.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(O),this.checkSignature(p.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,p.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(p.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(p.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var H=this.centralDirOffset+this.centralDirSize;this.zip64&&(H+=20,H+=12+this.zip64EndOfCentralSize);var F=V-H;if(0<F)this.isSignature(V,p.CENTRAL_FILE_HEADER)||(this.reader.zero=F);else if(F<0)throw new Error("Corrupted zip: missing "+Math.abs(F)+" bytes.")},prepareReader:function(O){this.reader=m(O)},load:function(O){this.prepareReader(O),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},h.exports=E},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(u,h,f){var m=u("./reader/readerFor"),g=u("./utils"),p=u("./compressedObject"),b=u("./crc32"),_=u("./utf8"),E=u("./compressions"),O=u("./support");function V(H,F){this.options=H,this.loadOptions=F}V.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(H){var F,L;if(H.skip(22),this.fileNameLength=H.readInt(2),L=H.readInt(2),this.fileName=H.readData(this.fileNameLength),H.skip(L),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((F=function($){for(var W in E)if(Object.prototype.hasOwnProperty.call(E,W)&&E[W].magic===$)return E[W];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+g.pretty(this.compressionMethod)+" unknown (inner file : "+g.transformTo("string",this.fileName)+")");this.decompressed=new p(this.compressedSize,this.uncompressedSize,this.crc32,F,H.readData(this.compressedSize))},readCentralPart:function(H){this.versionMadeBy=H.readInt(2),H.skip(2),this.bitFlag=H.readInt(2),this.compressionMethod=H.readString(2),this.date=H.readDate(),this.crc32=H.readInt(4),this.compressedSize=H.readInt(4),this.uncompressedSize=H.readInt(4);var F=H.readInt(2);if(this.extraFieldsLength=H.readInt(2),this.fileCommentLength=H.readInt(2),this.diskNumberStart=H.readInt(2),this.internalFileAttributes=H.readInt(2),this.externalFileAttributes=H.readInt(4),this.localHeaderOffset=H.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");H.skip(F),this.readExtraFields(H),this.parseZIP64ExtraField(H),this.fileComment=H.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var H=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),H==0&&(this.dosPermissions=63&this.externalFileAttributes),H==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var H=m(this.extraFields[1].value);this.uncompressedSize===g.MAX_VALUE_32BITS&&(this.uncompressedSize=H.readInt(8)),this.compressedSize===g.MAX_VALUE_32BITS&&(this.compressedSize=H.readInt(8)),this.localHeaderOffset===g.MAX_VALUE_32BITS&&(this.localHeaderOffset=H.readInt(8)),this.diskNumberStart===g.MAX_VALUE_32BITS&&(this.diskNumberStart=H.readInt(4))}},readExtraFields:function(H){var F,L,$,W=H.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});H.index+4<W;)F=H.readInt(2),L=H.readInt(2),$=H.readData(L),this.extraFields[F]={id:F,length:L,value:$};H.setIndex(W)},handleUTF8:function(){var H=O.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=_.utf8decode(this.fileName),this.fileCommentStr=_.utf8decode(this.fileComment);else{var F=this.findExtraFieldUnicodePath();if(F!==null)this.fileNameStr=F;else{var L=g.transformTo(H,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(L)}var $=this.findExtraFieldUnicodeComment();if($!==null)this.fileCommentStr=$;else{var W=g.transformTo(H,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(W)}}},findExtraFieldUnicodePath:function(){var H=this.extraFields[28789];if(H){var F=m(H.value);return F.readInt(1)!==1||b(this.fileName)!==F.readInt(4)?null:_.utf8decode(F.readData(H.length-5))}return null},findExtraFieldUnicodeComment:function(){var H=this.extraFields[25461];if(H){var F=m(H.value);return F.readInt(1)!==1||b(this.fileComment)!==F.readInt(4)?null:_.utf8decode(F.readData(H.length-5))}return null}},h.exports=V},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(u,h,f){function m(F,L,$){this.name=F,this.dir=$.dir,this.date=$.date,this.comment=$.comment,this.unixPermissions=$.unixPermissions,this.dosPermissions=$.dosPermissions,this._data=L,this._dataBinary=$.binary,this.options={compression:$.compression,compressionOptions:$.compressionOptions}}var g=u("./stream/StreamHelper"),p=u("./stream/DataWorker"),b=u("./utf8"),_=u("./compressedObject"),E=u("./stream/GenericWorker");m.prototype={internalStream:function(F){var L=null,$="string";try{if(!F)throw new Error("No output type specified.");var W=($=F.toLowerCase())==="string"||$==="text";$!=="binarystring"&&$!=="text"||($="string"),L=this._decompressWorker();var x=!this._dataBinary;x&&!W&&(L=L.pipe(new b.Utf8EncodeWorker)),!x&&W&&(L=L.pipe(new b.Utf8DecodeWorker))}catch(R){(L=new E("error")).error(R)}return new g(L,$,"")},async:function(F,L){return this.internalStream(F).accumulate(L)},nodeStream:function(F,L){return this.internalStream(F||"nodebuffer").toNodejsStream(L)},_compressWorker:function(F,L){if(this._data instanceof _&&this._data.compression.magic===F.magic)return this._data.getCompressedWorker();var $=this._decompressWorker();return this._dataBinary||($=$.pipe(new b.Utf8EncodeWorker)),_.createWorkerFrom($,F,L)},_decompressWorker:function(){return this._data instanceof _?this._data.getContentWorker():this._data instanceof E?this._data:new p(this._data)}};for(var O=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],V=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},H=0;H<O.length;H++)m.prototype[O[H]]=V;h.exports=m},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(u,h,f){(function(m){var g,p,b=m.MutationObserver||m.WebKitMutationObserver;if(b){var _=0,E=new b(F),O=m.document.createTextNode("");E.observe(O,{characterData:!0}),g=function(){O.data=_=++_%2}}else if(m.setImmediate||m.MessageChannel===void 0)g="document"in m&&"onreadystatechange"in m.document.createElement("script")?function(){var L=m.document.createElement("script");L.onreadystatechange=function(){F(),L.onreadystatechange=null,L.parentNode.removeChild(L),L=null},m.document.documentElement.appendChild(L)}:function(){setTimeout(F,0)};else{var V=new m.MessageChannel;V.port1.onmessage=F,g=function(){V.port2.postMessage(0)}}var H=[];function F(){var L,$;p=!0;for(var W=H.length;W;){for($=H,H=[],L=-1;++L<W;)$[L]();W=H.length}p=!1}h.exports=function(L){H.push(L)!==1||p||g()}}).call(this,n!==void 0?n:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(u,h,f){var m=u("immediate");function g(){}var p={},b=["REJECTED"],_=["FULFILLED"],E=["PENDING"];function O(W){if(typeof W!="function")throw new TypeError("resolver must be a function");this.state=E,this.queue=[],this.outcome=void 0,W!==g&&L(this,W)}function V(W,x,R){this.promise=W,typeof x=="function"&&(this.onFulfilled=x,this.callFulfilled=this.otherCallFulfilled),typeof R=="function"&&(this.onRejected=R,this.callRejected=this.otherCallRejected)}function H(W,x,R){m(function(){var B;try{B=x(R)}catch(v){return p.reject(W,v)}B===W?p.reject(W,new TypeError("Cannot resolve promise with itself")):p.resolve(W,B)})}function F(W){var x=W&&W.then;if(W&&(typeof W=="object"||typeof W=="function")&&typeof x=="function")return function(){x.apply(W,arguments)}}function L(W,x){var R=!1;function B(C){R||(R=!0,p.reject(W,C))}function v(C){R||(R=!0,p.resolve(W,C))}var y=$(function(){x(v,B)});y.status==="error"&&B(y.value)}function $(W,x){var R={};try{R.value=W(x),R.status="success"}catch(B){R.status="error",R.value=B}return R}(h.exports=O).prototype.finally=function(W){if(typeof W!="function")return this;var x=this.constructor;return this.then(function(R){return x.resolve(W()).then(function(){return R})},function(R){return x.resolve(W()).then(function(){throw R})})},O.prototype.catch=function(W){return this.then(null,W)},O.prototype.then=function(W,x){if(typeof W!="function"&&this.state===_||typeof x!="function"&&this.state===b)return this;var R=new this.constructor(g);return this.state!==E?H(R,this.state===_?W:x,this.outcome):this.queue.push(new V(R,W,x)),R},V.prototype.callFulfilled=function(W){p.resolve(this.promise,W)},V.prototype.otherCallFulfilled=function(W){H(this.promise,this.onFulfilled,W)},V.prototype.callRejected=function(W){p.reject(this.promise,W)},V.prototype.otherCallRejected=function(W){H(this.promise,this.onRejected,W)},p.resolve=function(W,x){var R=$(F,x);if(R.status==="error")return p.reject(W,R.value);var B=R.value;if(B)L(W,B);else{W.state=_,W.outcome=x;for(var v=-1,y=W.queue.length;++v<y;)W.queue[v].callFulfilled(x)}return W},p.reject=function(W,x){W.state=b,W.outcome=x;for(var R=-1,B=W.queue.length;++R<B;)W.queue[R].callRejected(x);return W},O.resolve=function(W){return W instanceof this?W:p.resolve(new this(g),W)},O.reject=function(W){var x=new this(g);return p.reject(x,W)},O.all=function(W){var x=this;if(Object.prototype.toString.call(W)!=="[object Array]")return this.reject(new TypeError("must be an array"));var R=W.length,B=!1;if(!R)return this.resolve([]);for(var v=new Array(R),y=0,C=-1,w=new this(g);++C<R;)S(W[C],C);return w;function S(M,U){x.resolve(M).then(function(N){v[U]=N,++y!==R||B||(B=!0,p.resolve(w,v))},function(N){B||(B=!0,p.reject(w,N))})}},O.race=function(W){if(Object.prototype.toString.call(W)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=W.length,R=!1;if(!x)return this.resolve([]);for(var B,v=-1,y=new this(g);++v<x;)B=W[v],this.resolve(B).then(function(C){R||(R=!0,p.resolve(y,C))},function(C){R||(R=!0,p.reject(y,C))});return y}},{immediate:36}],38:[function(u,h,f){var m={};(0,u("./lib/utils/common").assign)(m,u("./lib/deflate"),u("./lib/inflate"),u("./lib/zlib/constants")),h.exports=m},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(u,h,f){var m=u("./zlib/deflate"),g=u("./utils/common"),p=u("./utils/strings"),b=u("./zlib/messages"),_=u("./zlib/zstream"),E=Object.prototype.toString;function O(H){if(!(this instanceof O))return new O(H);this.options=g.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},H||{});var F=this.options;F.raw&&0<F.windowBits?F.windowBits=-F.windowBits:F.gzip&&0<F.windowBits&&F.windowBits<16&&(F.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _,this.strm.avail_out=0;var L=m.deflateInit2(this.strm,F.level,F.method,F.windowBits,F.memLevel,F.strategy);if(L!==0)throw new Error(b[L]);if(F.header&&m.deflateSetHeader(this.strm,F.header),F.dictionary){var $;if($=typeof F.dictionary=="string"?p.string2buf(F.dictionary):E.call(F.dictionary)==="[object ArrayBuffer]"?new Uint8Array(F.dictionary):F.dictionary,(L=m.deflateSetDictionary(this.strm,$))!==0)throw new Error(b[L]);this._dict_set=!0}}function V(H,F){var L=new O(F);if(L.push(H,!0),L.err)throw L.msg||b[L.err];return L.result}O.prototype.push=function(H,F){var L,$,W=this.strm,x=this.options.chunkSize;if(this.ended)return!1;$=F===~~F?F:F===!0?4:0,typeof H=="string"?W.input=p.string2buf(H):E.call(H)==="[object ArrayBuffer]"?W.input=new Uint8Array(H):W.input=H,W.next_in=0,W.avail_in=W.input.length;do{if(W.avail_out===0&&(W.output=new g.Buf8(x),W.next_out=0,W.avail_out=x),(L=m.deflate(W,$))!==1&&L!==0)return this.onEnd(L),!(this.ended=!0);W.avail_out!==0&&(W.avail_in!==0||$!==4&&$!==2)||(this.options.to==="string"?this.onData(p.buf2binstring(g.shrinkBuf(W.output,W.next_out))):this.onData(g.shrinkBuf(W.output,W.next_out)))}while((0<W.avail_in||W.avail_out===0)&&L!==1);return $===4?(L=m.deflateEnd(this.strm),this.onEnd(L),this.ended=!0,L===0):$!==2||(this.onEnd(0),!(W.avail_out=0))},O.prototype.onData=function(H){this.chunks.push(H)},O.prototype.onEnd=function(H){H===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=g.flattenChunks(this.chunks)),this.chunks=[],this.err=H,this.msg=this.strm.msg},f.Deflate=O,f.deflate=V,f.deflateRaw=function(H,F){return(F=F||{}).raw=!0,V(H,F)},f.gzip=function(H,F){return(F=F||{}).gzip=!0,V(H,F)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(u,h,f){var m=u("./zlib/inflate"),g=u("./utils/common"),p=u("./utils/strings"),b=u("./zlib/constants"),_=u("./zlib/messages"),E=u("./zlib/zstream"),O=u("./zlib/gzheader"),V=Object.prototype.toString;function H(L){if(!(this instanceof H))return new H(L);this.options=g.assign({chunkSize:16384,windowBits:0,to:""},L||{});var $=this.options;$.raw&&0<=$.windowBits&&$.windowBits<16&&($.windowBits=-$.windowBits,$.windowBits===0&&($.windowBits=-15)),!(0<=$.windowBits&&$.windowBits<16)||L&&L.windowBits||($.windowBits+=32),15<$.windowBits&&$.windowBits<48&&!(15&$.windowBits)&&($.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new E,this.strm.avail_out=0;var W=m.inflateInit2(this.strm,$.windowBits);if(W!==b.Z_OK)throw new Error(_[W]);this.header=new O,m.inflateGetHeader(this.strm,this.header)}function F(L,$){var W=new H($);if(W.push(L,!0),W.err)throw W.msg||_[W.err];return W.result}H.prototype.push=function(L,$){var W,x,R,B,v,y,C=this.strm,w=this.options.chunkSize,S=this.options.dictionary,M=!1;if(this.ended)return!1;x=$===~~$?$:$===!0?b.Z_FINISH:b.Z_NO_FLUSH,typeof L=="string"?C.input=p.binstring2buf(L):V.call(L)==="[object ArrayBuffer]"?C.input=new Uint8Array(L):C.input=L,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new g.Buf8(w),C.next_out=0,C.avail_out=w),(W=m.inflate(C,b.Z_NO_FLUSH))===b.Z_NEED_DICT&&S&&(y=typeof S=="string"?p.string2buf(S):V.call(S)==="[object ArrayBuffer]"?new Uint8Array(S):S,W=m.inflateSetDictionary(this.strm,y)),W===b.Z_BUF_ERROR&&M===!0&&(W=b.Z_OK,M=!1),W!==b.Z_STREAM_END&&W!==b.Z_OK)return this.onEnd(W),!(this.ended=!0);C.next_out&&(C.avail_out!==0&&W!==b.Z_STREAM_END&&(C.avail_in!==0||x!==b.Z_FINISH&&x!==b.Z_SYNC_FLUSH)||(this.options.to==="string"?(R=p.utf8border(C.output,C.next_out),B=C.next_out-R,v=p.buf2string(C.output,R),C.next_out=B,C.avail_out=w-B,B&&g.arraySet(C.output,C.output,R,B,0),this.onData(v)):this.onData(g.shrinkBuf(C.output,C.next_out)))),C.avail_in===0&&C.avail_out===0&&(M=!0)}while((0<C.avail_in||C.avail_out===0)&&W!==b.Z_STREAM_END);return W===b.Z_STREAM_END&&(x=b.Z_FINISH),x===b.Z_FINISH?(W=m.inflateEnd(this.strm),this.onEnd(W),this.ended=!0,W===b.Z_OK):x!==b.Z_SYNC_FLUSH||(this.onEnd(b.Z_OK),!(C.avail_out=0))},H.prototype.onData=function(L){this.chunks.push(L)},H.prototype.onEnd=function(L){L===b.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=g.flattenChunks(this.chunks)),this.chunks=[],this.err=L,this.msg=this.strm.msg},f.Inflate=H,f.inflate=F,f.inflateRaw=function(L,$){return($=$||{}).raw=!0,F(L,$)},f.ungzip=F},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(u,h,f){var m=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";f.assign=function(b){for(var _=Array.prototype.slice.call(arguments,1);_.length;){var E=_.shift();if(E){if(typeof E!="object")throw new TypeError(E+"must be non-object");for(var O in E)E.hasOwnProperty(O)&&(b[O]=E[O])}}return b},f.shrinkBuf=function(b,_){return b.length===_?b:b.subarray?b.subarray(0,_):(b.length=_,b)};var g={arraySet:function(b,_,E,O,V){if(_.subarray&&b.subarray)b.set(_.subarray(E,E+O),V);else for(var H=0;H<O;H++)b[V+H]=_[E+H]},flattenChunks:function(b){var _,E,O,V,H,F;for(_=O=0,E=b.length;_<E;_++)O+=b[_].length;for(F=new Uint8Array(O),_=V=0,E=b.length;_<E;_++)H=b[_],F.set(H,V),V+=H.length;return F}},p={arraySet:function(b,_,E,O,V){for(var H=0;H<O;H++)b[V+H]=_[E+H]},flattenChunks:function(b){return[].concat.apply([],b)}};f.setTyped=function(b){b?(f.Buf8=Uint8Array,f.Buf16=Uint16Array,f.Buf32=Int32Array,f.assign(f,g)):(f.Buf8=Array,f.Buf16=Array,f.Buf32=Array,f.assign(f,p))},f.setTyped(m)},{}],42:[function(u,h,f){var m=u("./common"),g=!0,p=!0;try{String.fromCharCode.apply(null,[0])}catch{g=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{p=!1}for(var b=new m.Buf8(256),_=0;_<256;_++)b[_]=252<=_?6:248<=_?5:240<=_?4:224<=_?3:192<=_?2:1;function E(O,V){if(V<65537&&(O.subarray&&p||!O.subarray&&g))return String.fromCharCode.apply(null,m.shrinkBuf(O,V));for(var H="",F=0;F<V;F++)H+=String.fromCharCode(O[F]);return H}b[254]=b[254]=1,f.string2buf=function(O){var V,H,F,L,$,W=O.length,x=0;for(L=0;L<W;L++)(64512&(H=O.charCodeAt(L)))==55296&&L+1<W&&(64512&(F=O.charCodeAt(L+1)))==56320&&(H=65536+(H-55296<<10)+(F-56320),L++),x+=H<128?1:H<2048?2:H<65536?3:4;for(V=new m.Buf8(x),L=$=0;$<x;L++)(64512&(H=O.charCodeAt(L)))==55296&&L+1<W&&(64512&(F=O.charCodeAt(L+1)))==56320&&(H=65536+(H-55296<<10)+(F-56320),L++),H<128?V[$++]=H:(H<2048?V[$++]=192|H>>>6:(H<65536?V[$++]=224|H>>>12:(V[$++]=240|H>>>18,V[$++]=128|H>>>12&63),V[$++]=128|H>>>6&63),V[$++]=128|63&H);return V},f.buf2binstring=function(O){return E(O,O.length)},f.binstring2buf=function(O){for(var V=new m.Buf8(O.length),H=0,F=V.length;H<F;H++)V[H]=O.charCodeAt(H);return V},f.buf2string=function(O,V){var H,F,L,$,W=V||O.length,x=new Array(2*W);for(H=F=0;H<W;)if((L=O[H++])<128)x[F++]=L;else if(4<($=b[L]))x[F++]=65533,H+=$-1;else{for(L&=$===2?31:$===3?15:7;1<$&&H<W;)L=L<<6|63&O[H++],$--;1<$?x[F++]=65533:L<65536?x[F++]=L:(L-=65536,x[F++]=55296|L>>10&1023,x[F++]=56320|1023&L)}return E(x,F)},f.utf8border=function(O,V){var H;for((V=V||O.length)>O.length&&(V=O.length),H=V-1;0<=H&&(192&O[H])==128;)H--;return H<0||H===0?V:H+b[O[H]]>V?H:V}},{"./common":41}],43:[function(u,h,f){h.exports=function(m,g,p,b){for(var _=65535&m|0,E=m>>>16&65535|0,O=0;p!==0;){for(p-=O=2e3<p?2e3:p;E=E+(_=_+g[b++]|0)|0,--O;);_%=65521,E%=65521}return _|E<<16|0}},{}],44:[function(u,h,f){h.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(u,h,f){var m=function(){for(var g,p=[],b=0;b<256;b++){g=b;for(var _=0;_<8;_++)g=1&g?3988292384^g>>>1:g>>>1;p[b]=g}return p}();h.exports=function(g,p,b,_){var E=m,O=_+b;g^=-1;for(var V=_;V<O;V++)g=g>>>8^E[255&(g^p[V])];return-1^g}},{}],46:[function(u,h,f){var m,g=u("../utils/common"),p=u("./trees"),b=u("./adler32"),_=u("./crc32"),E=u("./messages"),O=-2,V=258,H=262,F=113;function L(I,q){return I.msg=E[q],q}function $(I){return(I<<1)-(4<I?9:0)}function W(I){for(var q=I.length;0<=--q;)I[q]=0}function x(I){var q=I.state,A=q.pending;A>I.avail_out&&(A=I.avail_out),A!==0&&(g.arraySet(I.output,q.pending_buf,q.pending_out,A,I.next_out),I.next_out+=A,q.pending_out+=A,I.total_out+=A,I.avail_out-=A,q.pending-=A,q.pending===0&&(q.pending_out=0))}function R(I,q){p._tr_flush_block(I,0<=I.block_start?I.block_start:-1,I.strstart-I.block_start,q),I.block_start=I.strstart,x(I.strm)}function B(I,q){I.pending_buf[I.pending++]=q}function v(I,q){I.pending_buf[I.pending++]=q>>>8&255,I.pending_buf[I.pending++]=255&q}function y(I,q){var A,k,Y=I.max_chain_length,Z=I.strstart,lt=I.prev_length,J=I.nice_match,et=I.strstart>I.w_size-H?I.strstart-(I.w_size-H):0,Et=I.window,Rt=I.w_mask,nt=I.prev,at=I.strstart+V,Ct=Et[Z+lt-1],tt=Et[Z+lt];I.prev_length>=I.good_match&&(Y>>=2),J>I.lookahead&&(J=I.lookahead);do if(Et[(A=q)+lt]===tt&&Et[A+lt-1]===Ct&&Et[A]===Et[Z]&&Et[++A]===Et[Z+1]){Z+=2,A++;do;while(Et[++Z]===Et[++A]&&Et[++Z]===Et[++A]&&Et[++Z]===Et[++A]&&Et[++Z]===Et[++A]&&Et[++Z]===Et[++A]&&Et[++Z]===Et[++A]&&Et[++Z]===Et[++A]&&Et[++Z]===Et[++A]&&Z<at);if(k=V-(at-Z),Z=at-V,lt<k){if(I.match_start=q,J<=(lt=k))break;Ct=Et[Z+lt-1],tt=Et[Z+lt]}}while((q=nt[q&Rt])>et&&--Y!=0);return lt<=I.lookahead?lt:I.lookahead}function C(I){var q,A,k,Y,Z,lt,J,et,Et,Rt,nt=I.w_size;do{if(Y=I.window_size-I.lookahead-I.strstart,I.strstart>=nt+(nt-H)){for(g.arraySet(I.window,I.window,nt,nt,0),I.match_start-=nt,I.strstart-=nt,I.block_start-=nt,q=A=I.hash_size;k=I.head[--q],I.head[q]=nt<=k?k-nt:0,--A;);for(q=A=nt;k=I.prev[--q],I.prev[q]=nt<=k?k-nt:0,--A;);Y+=nt}if(I.strm.avail_in===0)break;if(lt=I.strm,J=I.window,et=I.strstart+I.lookahead,Rt=void 0,(Et=Y)<(Rt=lt.avail_in)&&(Rt=Et),A=Rt===0?0:(lt.avail_in-=Rt,g.arraySet(J,lt.input,lt.next_in,Rt,et),lt.state.wrap===1?lt.adler=b(lt.adler,J,Rt,et):lt.state.wrap===2&&(lt.adler=_(lt.adler,J,Rt,et)),lt.next_in+=Rt,lt.total_in+=Rt,Rt),I.lookahead+=A,I.lookahead+I.insert>=3)for(Z=I.strstart-I.insert,I.ins_h=I.window[Z],I.ins_h=(I.ins_h<<I.hash_shift^I.window[Z+1])&I.hash_mask;I.insert&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[Z+3-1])&I.hash_mask,I.prev[Z&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=Z,Z++,I.insert--,!(I.lookahead+I.insert<3)););}while(I.lookahead<H&&I.strm.avail_in!==0)}function w(I,q){for(var A,k;;){if(I.lookahead<H){if(C(I),I.lookahead<H&&q===0)return 1;if(I.lookahead===0)break}if(A=0,I.lookahead>=3&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+3-1])&I.hash_mask,A=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart),A!==0&&I.strstart-A<=I.w_size-H&&(I.match_length=y(I,A)),I.match_length>=3)if(k=p._tr_tally(I,I.strstart-I.match_start,I.match_length-3),I.lookahead-=I.match_length,I.match_length<=I.max_lazy_match&&I.lookahead>=3){for(I.match_length--;I.strstart++,I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+3-1])&I.hash_mask,A=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart,--I.match_length!=0;);I.strstart++}else I.strstart+=I.match_length,I.match_length=0,I.ins_h=I.window[I.strstart],I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+1])&I.hash_mask;else k=p._tr_tally(I,0,I.window[I.strstart]),I.lookahead--,I.strstart++;if(k&&(R(I,!1),I.strm.avail_out===0))return 1}return I.insert=I.strstart<2?I.strstart:2,q===4?(R(I,!0),I.strm.avail_out===0?3:4):I.last_lit&&(R(I,!1),I.strm.avail_out===0)?1:2}function S(I,q){for(var A,k,Y;;){if(I.lookahead<H){if(C(I),I.lookahead<H&&q===0)return 1;if(I.lookahead===0)break}if(A=0,I.lookahead>=3&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+3-1])&I.hash_mask,A=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart),I.prev_length=I.match_length,I.prev_match=I.match_start,I.match_length=2,A!==0&&I.prev_length<I.max_lazy_match&&I.strstart-A<=I.w_size-H&&(I.match_length=y(I,A),I.match_length<=5&&(I.strategy===1||I.match_length===3&&4096<I.strstart-I.match_start)&&(I.match_length=2)),I.prev_length>=3&&I.match_length<=I.prev_length){for(Y=I.strstart+I.lookahead-3,k=p._tr_tally(I,I.strstart-1-I.prev_match,I.prev_length-3),I.lookahead-=I.prev_length-1,I.prev_length-=2;++I.strstart<=Y&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+3-1])&I.hash_mask,A=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart),--I.prev_length!=0;);if(I.match_available=0,I.match_length=2,I.strstart++,k&&(R(I,!1),I.strm.avail_out===0))return 1}else if(I.match_available){if((k=p._tr_tally(I,0,I.window[I.strstart-1]))&&R(I,!1),I.strstart++,I.lookahead--,I.strm.avail_out===0)return 1}else I.match_available=1,I.strstart++,I.lookahead--}return I.match_available&&(k=p._tr_tally(I,0,I.window[I.strstart-1]),I.match_available=0),I.insert=I.strstart<2?I.strstart:2,q===4?(R(I,!0),I.strm.avail_out===0?3:4):I.last_lit&&(R(I,!1),I.strm.avail_out===0)?1:2}function M(I,q,A,k,Y){this.good_length=I,this.max_lazy=q,this.nice_length=A,this.max_chain=k,this.func=Y}function U(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new g.Buf16(1146),this.dyn_dtree=new g.Buf16(122),this.bl_tree=new g.Buf16(78),W(this.dyn_ltree),W(this.dyn_dtree),W(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new g.Buf16(16),this.heap=new g.Buf16(573),W(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new g.Buf16(573),W(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function N(I){var q;return I&&I.state?(I.total_in=I.total_out=0,I.data_type=2,(q=I.state).pending=0,q.pending_out=0,q.wrap<0&&(q.wrap=-q.wrap),q.status=q.wrap?42:F,I.adler=q.wrap===2?0:1,q.last_flush=0,p._tr_init(q),0):L(I,O)}function T(I){var q=N(I);return q===0&&function(A){A.window_size=2*A.w_size,W(A.head),A.max_lazy_match=m[A.level].max_lazy,A.good_match=m[A.level].good_length,A.nice_match=m[A.level].nice_length,A.max_chain_length=m[A.level].max_chain,A.strstart=0,A.block_start=0,A.lookahead=0,A.insert=0,A.match_length=A.prev_length=2,A.match_available=0,A.ins_h=0}(I.state),q}function j(I,q,A,k,Y,Z){if(!I)return O;var lt=1;if(q===-1&&(q=6),k<0?(lt=0,k=-k):15<k&&(lt=2,k-=16),Y<1||9<Y||A!==8||k<8||15<k||q<0||9<q||Z<0||4<Z)return L(I,O);k===8&&(k=9);var J=new U;return(I.state=J).strm=I,J.wrap=lt,J.gzhead=null,J.w_bits=k,J.w_size=1<<J.w_bits,J.w_mask=J.w_size-1,J.hash_bits=Y+7,J.hash_size=1<<J.hash_bits,J.hash_mask=J.hash_size-1,J.hash_shift=~~((J.hash_bits+3-1)/3),J.window=new g.Buf8(2*J.w_size),J.head=new g.Buf16(J.hash_size),J.prev=new g.Buf16(J.w_size),J.lit_bufsize=1<<Y+6,J.pending_buf_size=4*J.lit_bufsize,J.pending_buf=new g.Buf8(J.pending_buf_size),J.d_buf=1*J.lit_bufsize,J.l_buf=3*J.lit_bufsize,J.level=q,J.strategy=Z,J.method=A,T(I)}m=[new M(0,0,0,0,function(I,q){var A=65535;for(A>I.pending_buf_size-5&&(A=I.pending_buf_size-5);;){if(I.lookahead<=1){if(C(I),I.lookahead===0&&q===0)return 1;if(I.lookahead===0)break}I.strstart+=I.lookahead,I.lookahead=0;var k=I.block_start+A;if((I.strstart===0||I.strstart>=k)&&(I.lookahead=I.strstart-k,I.strstart=k,R(I,!1),I.strm.avail_out===0)||I.strstart-I.block_start>=I.w_size-H&&(R(I,!1),I.strm.avail_out===0))return 1}return I.insert=0,q===4?(R(I,!0),I.strm.avail_out===0?3:4):(I.strstart>I.block_start&&(R(I,!1),I.strm.avail_out),1)}),new M(4,4,8,4,w),new M(4,5,16,8,w),new M(4,6,32,32,w),new M(4,4,16,16,S),new M(8,16,32,32,S),new M(8,16,128,128,S),new M(8,32,128,256,S),new M(32,128,258,1024,S),new M(32,258,258,4096,S)],f.deflateInit=function(I,q){return j(I,q,8,15,8,0)},f.deflateInit2=j,f.deflateReset=T,f.deflateResetKeep=N,f.deflateSetHeader=function(I,q){return I&&I.state?I.state.wrap!==2?O:(I.state.gzhead=q,0):O},f.deflate=function(I,q){var A,k,Y,Z;if(!I||!I.state||5<q||q<0)return I?L(I,O):O;if(k=I.state,!I.output||!I.input&&I.avail_in!==0||k.status===666&&q!==4)return L(I,I.avail_out===0?-5:O);if(k.strm=I,A=k.last_flush,k.last_flush=q,k.status===42)if(k.wrap===2)I.adler=0,B(k,31),B(k,139),B(k,8),k.gzhead?(B(k,(k.gzhead.text?1:0)+(k.gzhead.hcrc?2:0)+(k.gzhead.extra?4:0)+(k.gzhead.name?8:0)+(k.gzhead.comment?16:0)),B(k,255&k.gzhead.time),B(k,k.gzhead.time>>8&255),B(k,k.gzhead.time>>16&255),B(k,k.gzhead.time>>24&255),B(k,k.level===9?2:2<=k.strategy||k.level<2?4:0),B(k,255&k.gzhead.os),k.gzhead.extra&&k.gzhead.extra.length&&(B(k,255&k.gzhead.extra.length),B(k,k.gzhead.extra.length>>8&255)),k.gzhead.hcrc&&(I.adler=_(I.adler,k.pending_buf,k.pending,0)),k.gzindex=0,k.status=69):(B(k,0),B(k,0),B(k,0),B(k,0),B(k,0),B(k,k.level===9?2:2<=k.strategy||k.level<2?4:0),B(k,3),k.status=F);else{var lt=8+(k.w_bits-8<<4)<<8;lt|=(2<=k.strategy||k.level<2?0:k.level<6?1:k.level===6?2:3)<<6,k.strstart!==0&&(lt|=32),lt+=31-lt%31,k.status=F,v(k,lt),k.strstart!==0&&(v(k,I.adler>>>16),v(k,65535&I.adler)),I.adler=1}if(k.status===69)if(k.gzhead.extra){for(Y=k.pending;k.gzindex<(65535&k.gzhead.extra.length)&&(k.pending!==k.pending_buf_size||(k.gzhead.hcrc&&k.pending>Y&&(I.adler=_(I.adler,k.pending_buf,k.pending-Y,Y)),x(I),Y=k.pending,k.pending!==k.pending_buf_size));)B(k,255&k.gzhead.extra[k.gzindex]),k.gzindex++;k.gzhead.hcrc&&k.pending>Y&&(I.adler=_(I.adler,k.pending_buf,k.pending-Y,Y)),k.gzindex===k.gzhead.extra.length&&(k.gzindex=0,k.status=73)}else k.status=73;if(k.status===73)if(k.gzhead.name){Y=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>Y&&(I.adler=_(I.adler,k.pending_buf,k.pending-Y,Y)),x(I),Y=k.pending,k.pending===k.pending_buf_size)){Z=1;break}Z=k.gzindex<k.gzhead.name.length?255&k.gzhead.name.charCodeAt(k.gzindex++):0,B(k,Z)}while(Z!==0);k.gzhead.hcrc&&k.pending>Y&&(I.adler=_(I.adler,k.pending_buf,k.pending-Y,Y)),Z===0&&(k.gzindex=0,k.status=91)}else k.status=91;if(k.status===91)if(k.gzhead.comment){Y=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>Y&&(I.adler=_(I.adler,k.pending_buf,k.pending-Y,Y)),x(I),Y=k.pending,k.pending===k.pending_buf_size)){Z=1;break}Z=k.gzindex<k.gzhead.comment.length?255&k.gzhead.comment.charCodeAt(k.gzindex++):0,B(k,Z)}while(Z!==0);k.gzhead.hcrc&&k.pending>Y&&(I.adler=_(I.adler,k.pending_buf,k.pending-Y,Y)),Z===0&&(k.status=103)}else k.status=103;if(k.status===103&&(k.gzhead.hcrc?(k.pending+2>k.pending_buf_size&&x(I),k.pending+2<=k.pending_buf_size&&(B(k,255&I.adler),B(k,I.adler>>8&255),I.adler=0,k.status=F)):k.status=F),k.pending!==0){if(x(I),I.avail_out===0)return k.last_flush=-1,0}else if(I.avail_in===0&&$(q)<=$(A)&&q!==4)return L(I,-5);if(k.status===666&&I.avail_in!==0)return L(I,-5);if(I.avail_in!==0||k.lookahead!==0||q!==0&&k.status!==666){var J=k.strategy===2?function(et,Et){for(var Rt;;){if(et.lookahead===0&&(C(et),et.lookahead===0)){if(Et===0)return 1;break}if(et.match_length=0,Rt=p._tr_tally(et,0,et.window[et.strstart]),et.lookahead--,et.strstart++,Rt&&(R(et,!1),et.strm.avail_out===0))return 1}return et.insert=0,Et===4?(R(et,!0),et.strm.avail_out===0?3:4):et.last_lit&&(R(et,!1),et.strm.avail_out===0)?1:2}(k,q):k.strategy===3?function(et,Et){for(var Rt,nt,at,Ct,tt=et.window;;){if(et.lookahead<=V){if(C(et),et.lookahead<=V&&Et===0)return 1;if(et.lookahead===0)break}if(et.match_length=0,et.lookahead>=3&&0<et.strstart&&(nt=tt[at=et.strstart-1])===tt[++at]&&nt===tt[++at]&&nt===tt[++at]){Ct=et.strstart+V;do;while(nt===tt[++at]&&nt===tt[++at]&&nt===tt[++at]&&nt===tt[++at]&&nt===tt[++at]&&nt===tt[++at]&&nt===tt[++at]&&nt===tt[++at]&&at<Ct);et.match_length=V-(Ct-at),et.match_length>et.lookahead&&(et.match_length=et.lookahead)}if(et.match_length>=3?(Rt=p._tr_tally(et,1,et.match_length-3),et.lookahead-=et.match_length,et.strstart+=et.match_length,et.match_length=0):(Rt=p._tr_tally(et,0,et.window[et.strstart]),et.lookahead--,et.strstart++),Rt&&(R(et,!1),et.strm.avail_out===0))return 1}return et.insert=0,Et===4?(R(et,!0),et.strm.avail_out===0?3:4):et.last_lit&&(R(et,!1),et.strm.avail_out===0)?1:2}(k,q):m[k.level].func(k,q);if(J!==3&&J!==4||(k.status=666),J===1||J===3)return I.avail_out===0&&(k.last_flush=-1),0;if(J===2&&(q===1?p._tr_align(k):q!==5&&(p._tr_stored_block(k,0,0,!1),q===3&&(W(k.head),k.lookahead===0&&(k.strstart=0,k.block_start=0,k.insert=0))),x(I),I.avail_out===0))return k.last_flush=-1,0}return q!==4?0:k.wrap<=0?1:(k.wrap===2?(B(k,255&I.adler),B(k,I.adler>>8&255),B(k,I.adler>>16&255),B(k,I.adler>>24&255),B(k,255&I.total_in),B(k,I.total_in>>8&255),B(k,I.total_in>>16&255),B(k,I.total_in>>24&255)):(v(k,I.adler>>>16),v(k,65535&I.adler)),x(I),0<k.wrap&&(k.wrap=-k.wrap),k.pending!==0?0:1)},f.deflateEnd=function(I){var q;return I&&I.state?(q=I.state.status)!==42&&q!==69&&q!==73&&q!==91&&q!==103&&q!==F&&q!==666?L(I,O):(I.state=null,q===F?L(I,-3):0):O},f.deflateSetDictionary=function(I,q){var A,k,Y,Z,lt,J,et,Et,Rt=q.length;if(!I||!I.state||(Z=(A=I.state).wrap)===2||Z===1&&A.status!==42||A.lookahead)return O;for(Z===1&&(I.adler=b(I.adler,q,Rt,0)),A.wrap=0,Rt>=A.w_size&&(Z===0&&(W(A.head),A.strstart=0,A.block_start=0,A.insert=0),Et=new g.Buf8(A.w_size),g.arraySet(Et,q,Rt-A.w_size,A.w_size,0),q=Et,Rt=A.w_size),lt=I.avail_in,J=I.next_in,et=I.input,I.avail_in=Rt,I.next_in=0,I.input=q,C(A);A.lookahead>=3;){for(k=A.strstart,Y=A.lookahead-2;A.ins_h=(A.ins_h<<A.hash_shift^A.window[k+3-1])&A.hash_mask,A.prev[k&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=k,k++,--Y;);A.strstart=k,A.lookahead=2,C(A)}return A.strstart+=A.lookahead,A.block_start=A.strstart,A.insert=A.lookahead,A.lookahead=0,A.match_length=A.prev_length=2,A.match_available=0,I.next_in=J,I.input=et,I.avail_in=lt,A.wrap=Z,0},f.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(u,h,f){h.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(u,h,f){h.exports=function(m,g){var p,b,_,E,O,V,H,F,L,$,W,x,R,B,v,y,C,w,S,M,U,N,T,j,I;p=m.state,b=m.next_in,j=m.input,_=b+(m.avail_in-5),E=m.next_out,I=m.output,O=E-(g-m.avail_out),V=E+(m.avail_out-257),H=p.dmax,F=p.wsize,L=p.whave,$=p.wnext,W=p.window,x=p.hold,R=p.bits,B=p.lencode,v=p.distcode,y=(1<<p.lenbits)-1,C=(1<<p.distbits)-1;t:do{R<15&&(x+=j[b++]<<R,R+=8,x+=j[b++]<<R,R+=8),w=B[x&y];e:for(;;){if(x>>>=S=w>>>24,R-=S,(S=w>>>16&255)==0)I[E++]=65535&w;else{if(!(16&S)){if(!(64&S)){w=B[(65535&w)+(x&(1<<S)-1)];continue e}if(32&S){p.mode=12;break t}m.msg="invalid literal/length code",p.mode=30;break t}M=65535&w,(S&=15)&&(R<S&&(x+=j[b++]<<R,R+=8),M+=x&(1<<S)-1,x>>>=S,R-=S),R<15&&(x+=j[b++]<<R,R+=8,x+=j[b++]<<R,R+=8),w=v[x&C];i:for(;;){if(x>>>=S=w>>>24,R-=S,!(16&(S=w>>>16&255))){if(!(64&S)){w=v[(65535&w)+(x&(1<<S)-1)];continue i}m.msg="invalid distance code",p.mode=30;break t}if(U=65535&w,R<(S&=15)&&(x+=j[b++]<<R,(R+=8)<S&&(x+=j[b++]<<R,R+=8)),H<(U+=x&(1<<S)-1)){m.msg="invalid distance too far back",p.mode=30;break t}if(x>>>=S,R-=S,(S=E-O)<U){if(L<(S=U-S)&&p.sane){m.msg="invalid distance too far back",p.mode=30;break t}if(T=W,(N=0)===$){if(N+=F-S,S<M){for(M-=S;I[E++]=W[N++],--S;);N=E-U,T=I}}else if($<S){if(N+=F+$-S,(S-=$)<M){for(M-=S;I[E++]=W[N++],--S;);if(N=0,$<M){for(M-=S=$;I[E++]=W[N++],--S;);N=E-U,T=I}}}else if(N+=$-S,S<M){for(M-=S;I[E++]=W[N++],--S;);N=E-U,T=I}for(;2<M;)I[E++]=T[N++],I[E++]=T[N++],I[E++]=T[N++],M-=3;M&&(I[E++]=T[N++],1<M&&(I[E++]=T[N++]))}else{for(N=E-U;I[E++]=I[N++],I[E++]=I[N++],I[E++]=I[N++],2<(M-=3););M&&(I[E++]=I[N++],1<M&&(I[E++]=I[N++]))}break}}break}}while(b<_&&E<V);b-=M=R>>3,x&=(1<<(R-=M<<3))-1,m.next_in=b,m.next_out=E,m.avail_in=b<_?_-b+5:5-(b-_),m.avail_out=E<V?V-E+257:257-(E-V),p.hold=x,p.bits=R}},{}],49:[function(u,h,f){var m=u("../utils/common"),g=u("./adler32"),p=u("./crc32"),b=u("./inffast"),_=u("./inftrees"),E=-2;function O(y){return(y>>>24&255)+(y>>>8&65280)+((65280&y)<<8)+((255&y)<<24)}function V(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new m.Buf16(320),this.work=new m.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function H(y){var C;return y&&y.state?(C=y.state,y.total_in=y.total_out=C.total=0,y.msg="",C.wrap&&(y.adler=1&C.wrap),C.mode=1,C.last=0,C.havedict=0,C.dmax=32768,C.head=null,C.hold=0,C.bits=0,C.lencode=C.lendyn=new m.Buf32(852),C.distcode=C.distdyn=new m.Buf32(592),C.sane=1,C.back=-1,0):E}function F(y){var C;return y&&y.state?((C=y.state).wsize=0,C.whave=0,C.wnext=0,H(y)):E}function L(y,C){var w,S;return y&&y.state?(S=y.state,C<0?(w=0,C=-C):(w=1+(C>>4),C<48&&(C&=15)),C&&(C<8||15<C)?E:(S.window!==null&&S.wbits!==C&&(S.window=null),S.wrap=w,S.wbits=C,F(y))):E}function $(y,C){var w,S;return y?(S=new V,(y.state=S).window=null,(w=L(y,C))!==0&&(y.state=null),w):E}var W,x,R=!0;function B(y){if(R){var C;for(W=new m.Buf32(512),x=new m.Buf32(32),C=0;C<144;)y.lens[C++]=8;for(;C<256;)y.lens[C++]=9;for(;C<280;)y.lens[C++]=7;for(;C<288;)y.lens[C++]=8;for(_(1,y.lens,0,288,W,0,y.work,{bits:9}),C=0;C<32;)y.lens[C++]=5;_(2,y.lens,0,32,x,0,y.work,{bits:5}),R=!1}y.lencode=W,y.lenbits=9,y.distcode=x,y.distbits=5}function v(y,C,w,S){var M,U=y.state;return U.window===null&&(U.wsize=1<<U.wbits,U.wnext=0,U.whave=0,U.window=new m.Buf8(U.wsize)),S>=U.wsize?(m.arraySet(U.window,C,w-U.wsize,U.wsize,0),U.wnext=0,U.whave=U.wsize):(S<(M=U.wsize-U.wnext)&&(M=S),m.arraySet(U.window,C,w-S,M,U.wnext),(S-=M)?(m.arraySet(U.window,C,w-S,S,0),U.wnext=S,U.whave=U.wsize):(U.wnext+=M,U.wnext===U.wsize&&(U.wnext=0),U.whave<U.wsize&&(U.whave+=M))),0}f.inflateReset=F,f.inflateReset2=L,f.inflateResetKeep=H,f.inflateInit=function(y){return $(y,15)},f.inflateInit2=$,f.inflate=function(y,C){var w,S,M,U,N,T,j,I,q,A,k,Y,Z,lt,J,et,Et,Rt,nt,at,Ct,tt,it,ct,mt=0,bt=new m.Buf8(4),St=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!y||!y.state||!y.output||!y.input&&y.avail_in!==0)return E;(w=y.state).mode===12&&(w.mode=13),N=y.next_out,M=y.output,j=y.avail_out,U=y.next_in,S=y.input,T=y.avail_in,I=w.hold,q=w.bits,A=T,k=j,tt=0;t:for(;;)switch(w.mode){case 1:if(w.wrap===0){w.mode=13;break}for(;q<16;){if(T===0)break t;T--,I+=S[U++]<<q,q+=8}if(2&w.wrap&&I===35615){bt[w.check=0]=255&I,bt[1]=I>>>8&255,w.check=p(w.check,bt,2,0),q=I=0,w.mode=2;break}if(w.flags=0,w.head&&(w.head.done=!1),!(1&w.wrap)||(((255&I)<<8)+(I>>8))%31){y.msg="incorrect header check",w.mode=30;break}if((15&I)!=8){y.msg="unknown compression method",w.mode=30;break}if(q-=4,Ct=8+(15&(I>>>=4)),w.wbits===0)w.wbits=Ct;else if(Ct>w.wbits){y.msg="invalid window size",w.mode=30;break}w.dmax=1<<Ct,y.adler=w.check=1,w.mode=512&I?10:12,q=I=0;break;case 2:for(;q<16;){if(T===0)break t;T--,I+=S[U++]<<q,q+=8}if(w.flags=I,(255&w.flags)!=8){y.msg="unknown compression method",w.mode=30;break}if(57344&w.flags){y.msg="unknown header flags set",w.mode=30;break}w.head&&(w.head.text=I>>8&1),512&w.flags&&(bt[0]=255&I,bt[1]=I>>>8&255,w.check=p(w.check,bt,2,0)),q=I=0,w.mode=3;case 3:for(;q<32;){if(T===0)break t;T--,I+=S[U++]<<q,q+=8}w.head&&(w.head.time=I),512&w.flags&&(bt[0]=255&I,bt[1]=I>>>8&255,bt[2]=I>>>16&255,bt[3]=I>>>24&255,w.check=p(w.check,bt,4,0)),q=I=0,w.mode=4;case 4:for(;q<16;){if(T===0)break t;T--,I+=S[U++]<<q,q+=8}w.head&&(w.head.xflags=255&I,w.head.os=I>>8),512&w.flags&&(bt[0]=255&I,bt[1]=I>>>8&255,w.check=p(w.check,bt,2,0)),q=I=0,w.mode=5;case 5:if(1024&w.flags){for(;q<16;){if(T===0)break t;T--,I+=S[U++]<<q,q+=8}w.length=I,w.head&&(w.head.extra_len=I),512&w.flags&&(bt[0]=255&I,bt[1]=I>>>8&255,w.check=p(w.check,bt,2,0)),q=I=0}else w.head&&(w.head.extra=null);w.mode=6;case 6:if(1024&w.flags&&(T<(Y=w.length)&&(Y=T),Y&&(w.head&&(Ct=w.head.extra_len-w.length,w.head.extra||(w.head.extra=new Array(w.head.extra_len)),m.arraySet(w.head.extra,S,U,Y,Ct)),512&w.flags&&(w.check=p(w.check,S,Y,U)),T-=Y,U+=Y,w.length-=Y),w.length))break t;w.length=0,w.mode=7;case 7:if(2048&w.flags){if(T===0)break t;for(Y=0;Ct=S[U+Y++],w.head&&Ct&&w.length<65536&&(w.head.name+=String.fromCharCode(Ct)),Ct&&Y<T;);if(512&w.flags&&(w.check=p(w.check,S,Y,U)),T-=Y,U+=Y,Ct)break t}else w.head&&(w.head.name=null);w.length=0,w.mode=8;case 8:if(4096&w.flags){if(T===0)break t;for(Y=0;Ct=S[U+Y++],w.head&&Ct&&w.length<65536&&(w.head.comment+=String.fromCharCode(Ct)),Ct&&Y<T;);if(512&w.flags&&(w.check=p(w.check,S,Y,U)),T-=Y,U+=Y,Ct)break t}else w.head&&(w.head.comment=null);w.mode=9;case 9:if(512&w.flags){for(;q<16;){if(T===0)break t;T--,I+=S[U++]<<q,q+=8}if(I!==(65535&w.check)){y.msg="header crc mismatch",w.mode=30;break}q=I=0}w.head&&(w.head.hcrc=w.flags>>9&1,w.head.done=!0),y.adler=w.check=0,w.mode=12;break;case 10:for(;q<32;){if(T===0)break t;T--,I+=S[U++]<<q,q+=8}y.adler=w.check=O(I),q=I=0,w.mode=11;case 11:if(w.havedict===0)return y.next_out=N,y.avail_out=j,y.next_in=U,y.avail_in=T,w.hold=I,w.bits=q,2;y.adler=w.check=1,w.mode=12;case 12:if(C===5||C===6)break t;case 13:if(w.last){I>>>=7&q,q-=7&q,w.mode=27;break}for(;q<3;){if(T===0)break t;T--,I+=S[U++]<<q,q+=8}switch(w.last=1&I,q-=1,3&(I>>>=1)){case 0:w.mode=14;break;case 1:if(B(w),w.mode=20,C!==6)break;I>>>=2,q-=2;break t;case 2:w.mode=17;break;case 3:y.msg="invalid block type",w.mode=30}I>>>=2,q-=2;break;case 14:for(I>>>=7&q,q-=7&q;q<32;){if(T===0)break t;T--,I+=S[U++]<<q,q+=8}if((65535&I)!=(I>>>16^65535)){y.msg="invalid stored block lengths",w.mode=30;break}if(w.length=65535&I,q=I=0,w.mode=15,C===6)break t;case 15:w.mode=16;case 16:if(Y=w.length){if(T<Y&&(Y=T),j<Y&&(Y=j),Y===0)break t;m.arraySet(M,S,U,Y,N),T-=Y,U+=Y,j-=Y,N+=Y,w.length-=Y;break}w.mode=12;break;case 17:for(;q<14;){if(T===0)break t;T--,I+=S[U++]<<q,q+=8}if(w.nlen=257+(31&I),I>>>=5,q-=5,w.ndist=1+(31&I),I>>>=5,q-=5,w.ncode=4+(15&I),I>>>=4,q-=4,286<w.nlen||30<w.ndist){y.msg="too many length or distance symbols",w.mode=30;break}w.have=0,w.mode=18;case 18:for(;w.have<w.ncode;){for(;q<3;){if(T===0)break t;T--,I+=S[U++]<<q,q+=8}w.lens[St[w.have++]]=7&I,I>>>=3,q-=3}for(;w.have<19;)w.lens[St[w.have++]]=0;if(w.lencode=w.lendyn,w.lenbits=7,it={bits:w.lenbits},tt=_(0,w.lens,0,19,w.lencode,0,w.work,it),w.lenbits=it.bits,tt){y.msg="invalid code lengths set",w.mode=30;break}w.have=0,w.mode=19;case 19:for(;w.have<w.nlen+w.ndist;){for(;et=(mt=w.lencode[I&(1<<w.lenbits)-1])>>>16&255,Et=65535&mt,!((J=mt>>>24)<=q);){if(T===0)break t;T--,I+=S[U++]<<q,q+=8}if(Et<16)I>>>=J,q-=J,w.lens[w.have++]=Et;else{if(Et===16){for(ct=J+2;q<ct;){if(T===0)break t;T--,I+=S[U++]<<q,q+=8}if(I>>>=J,q-=J,w.have===0){y.msg="invalid bit length repeat",w.mode=30;break}Ct=w.lens[w.have-1],Y=3+(3&I),I>>>=2,q-=2}else if(Et===17){for(ct=J+3;q<ct;){if(T===0)break t;T--,I+=S[U++]<<q,q+=8}q-=J,Ct=0,Y=3+(7&(I>>>=J)),I>>>=3,q-=3}else{for(ct=J+7;q<ct;){if(T===0)break t;T--,I+=S[U++]<<q,q+=8}q-=J,Ct=0,Y=11+(127&(I>>>=J)),I>>>=7,q-=7}if(w.have+Y>w.nlen+w.ndist){y.msg="invalid bit length repeat",w.mode=30;break}for(;Y--;)w.lens[w.have++]=Ct}}if(w.mode===30)break;if(w.lens[256]===0){y.msg="invalid code -- missing end-of-block",w.mode=30;break}if(w.lenbits=9,it={bits:w.lenbits},tt=_(1,w.lens,0,w.nlen,w.lencode,0,w.work,it),w.lenbits=it.bits,tt){y.msg="invalid literal/lengths set",w.mode=30;break}if(w.distbits=6,w.distcode=w.distdyn,it={bits:w.distbits},tt=_(2,w.lens,w.nlen,w.ndist,w.distcode,0,w.work,it),w.distbits=it.bits,tt){y.msg="invalid distances set",w.mode=30;break}if(w.mode=20,C===6)break t;case 20:w.mode=21;case 21:if(6<=T&&258<=j){y.next_out=N,y.avail_out=j,y.next_in=U,y.avail_in=T,w.hold=I,w.bits=q,b(y,k),N=y.next_out,M=y.output,j=y.avail_out,U=y.next_in,S=y.input,T=y.avail_in,I=w.hold,q=w.bits,w.mode===12&&(w.back=-1);break}for(w.back=0;et=(mt=w.lencode[I&(1<<w.lenbits)-1])>>>16&255,Et=65535&mt,!((J=mt>>>24)<=q);){if(T===0)break t;T--,I+=S[U++]<<q,q+=8}if(et&&!(240&et)){for(Rt=J,nt=et,at=Et;et=(mt=w.lencode[at+((I&(1<<Rt+nt)-1)>>Rt)])>>>16&255,Et=65535&mt,!(Rt+(J=mt>>>24)<=q);){if(T===0)break t;T--,I+=S[U++]<<q,q+=8}I>>>=Rt,q-=Rt,w.back+=Rt}if(I>>>=J,q-=J,w.back+=J,w.length=Et,et===0){w.mode=26;break}if(32&et){w.back=-1,w.mode=12;break}if(64&et){y.msg="invalid literal/length code",w.mode=30;break}w.extra=15&et,w.mode=22;case 22:if(w.extra){for(ct=w.extra;q<ct;){if(T===0)break t;T--,I+=S[U++]<<q,q+=8}w.length+=I&(1<<w.extra)-1,I>>>=w.extra,q-=w.extra,w.back+=w.extra}w.was=w.length,w.mode=23;case 23:for(;et=(mt=w.distcode[I&(1<<w.distbits)-1])>>>16&255,Et=65535&mt,!((J=mt>>>24)<=q);){if(T===0)break t;T--,I+=S[U++]<<q,q+=8}if(!(240&et)){for(Rt=J,nt=et,at=Et;et=(mt=w.distcode[at+((I&(1<<Rt+nt)-1)>>Rt)])>>>16&255,Et=65535&mt,!(Rt+(J=mt>>>24)<=q);){if(T===0)break t;T--,I+=S[U++]<<q,q+=8}I>>>=Rt,q-=Rt,w.back+=Rt}if(I>>>=J,q-=J,w.back+=J,64&et){y.msg="invalid distance code",w.mode=30;break}w.offset=Et,w.extra=15&et,w.mode=24;case 24:if(w.extra){for(ct=w.extra;q<ct;){if(T===0)break t;T--,I+=S[U++]<<q,q+=8}w.offset+=I&(1<<w.extra)-1,I>>>=w.extra,q-=w.extra,w.back+=w.extra}if(w.offset>w.dmax){y.msg="invalid distance too far back",w.mode=30;break}w.mode=25;case 25:if(j===0)break t;if(Y=k-j,w.offset>Y){if((Y=w.offset-Y)>w.whave&&w.sane){y.msg="invalid distance too far back",w.mode=30;break}Z=Y>w.wnext?(Y-=w.wnext,w.wsize-Y):w.wnext-Y,Y>w.length&&(Y=w.length),lt=w.window}else lt=M,Z=N-w.offset,Y=w.length;for(j<Y&&(Y=j),j-=Y,w.length-=Y;M[N++]=lt[Z++],--Y;);w.length===0&&(w.mode=21);break;case 26:if(j===0)break t;M[N++]=w.length,j--,w.mode=21;break;case 27:if(w.wrap){for(;q<32;){if(T===0)break t;T--,I|=S[U++]<<q,q+=8}if(k-=j,y.total_out+=k,w.total+=k,k&&(y.adler=w.check=w.flags?p(w.check,M,k,N-k):g(w.check,M,k,N-k)),k=j,(w.flags?I:O(I))!==w.check){y.msg="incorrect data check",w.mode=30;break}q=I=0}w.mode=28;case 28:if(w.wrap&&w.flags){for(;q<32;){if(T===0)break t;T--,I+=S[U++]<<q,q+=8}if(I!==(4294967295&w.total)){y.msg="incorrect length check",w.mode=30;break}q=I=0}w.mode=29;case 29:tt=1;break t;case 30:tt=-3;break t;case 31:return-4;case 32:default:return E}return y.next_out=N,y.avail_out=j,y.next_in=U,y.avail_in=T,w.hold=I,w.bits=q,(w.wsize||k!==y.avail_out&&w.mode<30&&(w.mode<27||C!==4))&&v(y,y.output,y.next_out,k-y.avail_out)?(w.mode=31,-4):(A-=y.avail_in,k-=y.avail_out,y.total_in+=A,y.total_out+=k,w.total+=k,w.wrap&&k&&(y.adler=w.check=w.flags?p(w.check,M,k,y.next_out-k):g(w.check,M,k,y.next_out-k)),y.data_type=w.bits+(w.last?64:0)+(w.mode===12?128:0)+(w.mode===20||w.mode===15?256:0),(A==0&&k===0||C===4)&&tt===0&&(tt=-5),tt)},f.inflateEnd=function(y){if(!y||!y.state)return E;var C=y.state;return C.window&&(C.window=null),y.state=null,0},f.inflateGetHeader=function(y,C){var w;return y&&y.state&&2&(w=y.state).wrap?((w.head=C).done=!1,0):E},f.inflateSetDictionary=function(y,C){var w,S=C.length;return y&&y.state?(w=y.state).wrap!==0&&w.mode!==11?E:w.mode===11&&g(1,C,S,0)!==w.check?-3:v(y,C,S,S)?(w.mode=31,-4):(w.havedict=1,0):E},f.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(u,h,f){var m=u("../utils/common"),g=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],p=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],b=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],_=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];h.exports=function(E,O,V,H,F,L,$,W){var x,R,B,v,y,C,w,S,M,U=W.bits,N=0,T=0,j=0,I=0,q=0,A=0,k=0,Y=0,Z=0,lt=0,J=null,et=0,Et=new m.Buf16(16),Rt=new m.Buf16(16),nt=null,at=0;for(N=0;N<=15;N++)Et[N]=0;for(T=0;T<H;T++)Et[O[V+T]]++;for(q=U,I=15;1<=I&&Et[I]===0;I--);if(I<q&&(q=I),I===0)return F[L++]=20971520,F[L++]=20971520,W.bits=1,0;for(j=1;j<I&&Et[j]===0;j++);for(q<j&&(q=j),N=Y=1;N<=15;N++)if(Y<<=1,(Y-=Et[N])<0)return-1;if(0<Y&&(E===0||I!==1))return-1;for(Rt[1]=0,N=1;N<15;N++)Rt[N+1]=Rt[N]+Et[N];for(T=0;T<H;T++)O[V+T]!==0&&($[Rt[O[V+T]]++]=T);if(C=E===0?(J=nt=$,19):E===1?(J=g,et-=257,nt=p,at-=257,256):(J=b,nt=_,-1),N=j,y=L,k=T=lt=0,B=-1,v=(Z=1<<(A=q))-1,E===1&&852<Z||E===2&&592<Z)return 1;for(;;){for(w=N-k,M=$[T]<C?(S=0,$[T]):$[T]>C?(S=nt[at+$[T]],J[et+$[T]]):(S=96,0),x=1<<N-k,j=R=1<<A;F[y+(lt>>k)+(R-=x)]=w<<24|S<<16|M|0,R!==0;);for(x=1<<N-1;lt&x;)x>>=1;if(x!==0?(lt&=x-1,lt+=x):lt=0,T++,--Et[N]==0){if(N===I)break;N=O[V+$[T]]}if(q<N&&(lt&v)!==B){for(k===0&&(k=q),y+=j,Y=1<<(A=N-k);A+k<I&&!((Y-=Et[A+k])<=0);)A++,Y<<=1;if(Z+=1<<A,E===1&&852<Z||E===2&&592<Z)return 1;F[B=lt&v]=q<<24|A<<16|y-L|0}}return lt!==0&&(F[y+lt]=N-k<<24|64<<16|0),W.bits=q,0}},{"../utils/common":41}],51:[function(u,h,f){h.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(u,h,f){var m=u("../utils/common");function g(nt){for(var at=nt.length;0<=--at;)nt[at]=0}var p=256,b=286,_=30,E=15,O=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],V=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],H=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],F=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],L=new Array(576);g(L);var $=new Array(60);g($);var W=new Array(512);g(W);var x=new Array(256);g(x);var R=new Array(29);g(R);var B,v,y,C=new Array(_);function w(nt,at,Ct,tt,it){this.static_tree=nt,this.extra_bits=at,this.extra_base=Ct,this.elems=tt,this.max_length=it,this.has_stree=nt&&nt.length}function S(nt,at){this.dyn_tree=nt,this.max_code=0,this.stat_desc=at}function M(nt){return nt<256?W[nt]:W[256+(nt>>>7)]}function U(nt,at){nt.pending_buf[nt.pending++]=255&at,nt.pending_buf[nt.pending++]=at>>>8&255}function N(nt,at,Ct){nt.bi_valid>16-Ct?(nt.bi_buf|=at<<nt.bi_valid&65535,U(nt,nt.bi_buf),nt.bi_buf=at>>16-nt.bi_valid,nt.bi_valid+=Ct-16):(nt.bi_buf|=at<<nt.bi_valid&65535,nt.bi_valid+=Ct)}function T(nt,at,Ct){N(nt,Ct[2*at],Ct[2*at+1])}function j(nt,at){for(var Ct=0;Ct|=1&nt,nt>>>=1,Ct<<=1,0<--at;);return Ct>>>1}function I(nt,at,Ct){var tt,it,ct=new Array(16),mt=0;for(tt=1;tt<=E;tt++)ct[tt]=mt=mt+Ct[tt-1]<<1;for(it=0;it<=at;it++){var bt=nt[2*it+1];bt!==0&&(nt[2*it]=j(ct[bt]++,bt))}}function q(nt){var at;for(at=0;at<b;at++)nt.dyn_ltree[2*at]=0;for(at=0;at<_;at++)nt.dyn_dtree[2*at]=0;for(at=0;at<19;at++)nt.bl_tree[2*at]=0;nt.dyn_ltree[512]=1,nt.opt_len=nt.static_len=0,nt.last_lit=nt.matches=0}function A(nt){8<nt.bi_valid?U(nt,nt.bi_buf):0<nt.bi_valid&&(nt.pending_buf[nt.pending++]=nt.bi_buf),nt.bi_buf=0,nt.bi_valid=0}function k(nt,at,Ct,tt){var it=2*at,ct=2*Ct;return nt[it]<nt[ct]||nt[it]===nt[ct]&&tt[at]<=tt[Ct]}function Y(nt,at,Ct){for(var tt=nt.heap[Ct],it=Ct<<1;it<=nt.heap_len&&(it<nt.heap_len&&k(at,nt.heap[it+1],nt.heap[it],nt.depth)&&it++,!k(at,tt,nt.heap[it],nt.depth));)nt.heap[Ct]=nt.heap[it],Ct=it,it<<=1;nt.heap[Ct]=tt}function Z(nt,at,Ct){var tt,it,ct,mt,bt=0;if(nt.last_lit!==0)for(;tt=nt.pending_buf[nt.d_buf+2*bt]<<8|nt.pending_buf[nt.d_buf+2*bt+1],it=nt.pending_buf[nt.l_buf+bt],bt++,tt===0?T(nt,it,at):(T(nt,(ct=x[it])+p+1,at),(mt=O[ct])!==0&&N(nt,it-=R[ct],mt),T(nt,ct=M(--tt),Ct),(mt=V[ct])!==0&&N(nt,tt-=C[ct],mt)),bt<nt.last_lit;);T(nt,256,at)}function lt(nt,at){var Ct,tt,it,ct=at.dyn_tree,mt=at.stat_desc.static_tree,bt=at.stat_desc.has_stree,St=at.stat_desc.elems,wt=-1;for(nt.heap_len=0,nt.heap_max=573,Ct=0;Ct<St;Ct++)ct[2*Ct]!==0?(nt.heap[++nt.heap_len]=wt=Ct,nt.depth[Ct]=0):ct[2*Ct+1]=0;for(;nt.heap_len<2;)ct[2*(it=nt.heap[++nt.heap_len]=wt<2?++wt:0)]=1,nt.depth[it]=0,nt.opt_len--,bt&&(nt.static_len-=mt[2*it+1]);for(at.max_code=wt,Ct=nt.heap_len>>1;1<=Ct;Ct--)Y(nt,ct,Ct);for(it=St;Ct=nt.heap[1],nt.heap[1]=nt.heap[nt.heap_len--],Y(nt,ct,1),tt=nt.heap[1],nt.heap[--nt.heap_max]=Ct,nt.heap[--nt.heap_max]=tt,ct[2*it]=ct[2*Ct]+ct[2*tt],nt.depth[it]=(nt.depth[Ct]>=nt.depth[tt]?nt.depth[Ct]:nt.depth[tt])+1,ct[2*Ct+1]=ct[2*tt+1]=it,nt.heap[1]=it++,Y(nt,ct,1),2<=nt.heap_len;);nt.heap[--nt.heap_max]=nt.heap[1],function(At,kt){var Mt,Nt,Ut,qt,Wt,re,Qt=kt.dyn_tree,Fe=kt.max_code,le=kt.stat_desc.static_tree,fe=kt.stat_desc.has_stree,Di=kt.stat_desc.extra_bits,Ae=kt.stat_desc.extra_base,oi=kt.stat_desc.max_length,Ni=0;for(qt=0;qt<=E;qt++)At.bl_count[qt]=0;for(Qt[2*At.heap[At.heap_max]+1]=0,Mt=At.heap_max+1;Mt<573;Mt++)oi<(qt=Qt[2*Qt[2*(Nt=At.heap[Mt])+1]+1]+1)&&(qt=oi,Ni++),Qt[2*Nt+1]=qt,Fe<Nt||(At.bl_count[qt]++,Wt=0,Ae<=Nt&&(Wt=Di[Nt-Ae]),re=Qt[2*Nt],At.opt_len+=re*(qt+Wt),fe&&(At.static_len+=re*(le[2*Nt+1]+Wt)));if(Ni!==0){do{for(qt=oi-1;At.bl_count[qt]===0;)qt--;At.bl_count[qt]--,At.bl_count[qt+1]+=2,At.bl_count[oi]--,Ni-=2}while(0<Ni);for(qt=oi;qt!==0;qt--)for(Nt=At.bl_count[qt];Nt!==0;)Fe<(Ut=At.heap[--Mt])||(Qt[2*Ut+1]!==qt&&(At.opt_len+=(qt-Qt[2*Ut+1])*Qt[2*Ut],Qt[2*Ut+1]=qt),Nt--)}}(nt,at),I(ct,wt,nt.bl_count)}function J(nt,at,Ct){var tt,it,ct=-1,mt=at[1],bt=0,St=7,wt=4;for(mt===0&&(St=138,wt=3),at[2*(Ct+1)+1]=65535,tt=0;tt<=Ct;tt++)it=mt,mt=at[2*(tt+1)+1],++bt<St&&it===mt||(bt<wt?nt.bl_tree[2*it]+=bt:it!==0?(it!==ct&&nt.bl_tree[2*it]++,nt.bl_tree[32]++):bt<=10?nt.bl_tree[34]++:nt.bl_tree[36]++,ct=it,wt=(bt=0)===mt?(St=138,3):it===mt?(St=6,3):(St=7,4))}function et(nt,at,Ct){var tt,it,ct=-1,mt=at[1],bt=0,St=7,wt=4;for(mt===0&&(St=138,wt=3),tt=0;tt<=Ct;tt++)if(it=mt,mt=at[2*(tt+1)+1],!(++bt<St&&it===mt)){if(bt<wt)for(;T(nt,it,nt.bl_tree),--bt!=0;);else it!==0?(it!==ct&&(T(nt,it,nt.bl_tree),bt--),T(nt,16,nt.bl_tree),N(nt,bt-3,2)):bt<=10?(T(nt,17,nt.bl_tree),N(nt,bt-3,3)):(T(nt,18,nt.bl_tree),N(nt,bt-11,7));ct=it,wt=(bt=0)===mt?(St=138,3):it===mt?(St=6,3):(St=7,4)}}g(C);var Et=!1;function Rt(nt,at,Ct,tt){N(nt,0+(tt?1:0),3),function(it,ct,mt,bt){A(it),U(it,mt),U(it,~mt),m.arraySet(it.pending_buf,it.window,ct,mt,it.pending),it.pending+=mt}(nt,at,Ct)}f._tr_init=function(nt){Et||(function(){var at,Ct,tt,it,ct,mt=new Array(16);for(it=tt=0;it<28;it++)for(R[it]=tt,at=0;at<1<<O[it];at++)x[tt++]=it;for(x[tt-1]=it,it=ct=0;it<16;it++)for(C[it]=ct,at=0;at<1<<V[it];at++)W[ct++]=it;for(ct>>=7;it<_;it++)for(C[it]=ct<<7,at=0;at<1<<V[it]-7;at++)W[256+ct++]=it;for(Ct=0;Ct<=E;Ct++)mt[Ct]=0;for(at=0;at<=143;)L[2*at+1]=8,at++,mt[8]++;for(;at<=255;)L[2*at+1]=9,at++,mt[9]++;for(;at<=279;)L[2*at+1]=7,at++,mt[7]++;for(;at<=287;)L[2*at+1]=8,at++,mt[8]++;for(I(L,287,mt),at=0;at<_;at++)$[2*at+1]=5,$[2*at]=j(at,5);B=new w(L,O,257,b,E),v=new w($,V,0,_,E),y=new w(new Array(0),H,0,19,7)}(),Et=!0),nt.l_desc=new S(nt.dyn_ltree,B),nt.d_desc=new S(nt.dyn_dtree,v),nt.bl_desc=new S(nt.bl_tree,y),nt.bi_buf=0,nt.bi_valid=0,q(nt)},f._tr_stored_block=Rt,f._tr_flush_block=function(nt,at,Ct,tt){var it,ct,mt=0;0<nt.level?(nt.strm.data_type===2&&(nt.strm.data_type=function(bt){var St,wt=4093624447;for(St=0;St<=31;St++,wt>>>=1)if(1&wt&&bt.dyn_ltree[2*St]!==0)return 0;if(bt.dyn_ltree[18]!==0||bt.dyn_ltree[20]!==0||bt.dyn_ltree[26]!==0)return 1;for(St=32;St<p;St++)if(bt.dyn_ltree[2*St]!==0)return 1;return 0}(nt)),lt(nt,nt.l_desc),lt(nt,nt.d_desc),mt=function(bt){var St;for(J(bt,bt.dyn_ltree,bt.l_desc.max_code),J(bt,bt.dyn_dtree,bt.d_desc.max_code),lt(bt,bt.bl_desc),St=18;3<=St&&bt.bl_tree[2*F[St]+1]===0;St--);return bt.opt_len+=3*(St+1)+5+5+4,St}(nt),it=nt.opt_len+3+7>>>3,(ct=nt.static_len+3+7>>>3)<=it&&(it=ct)):it=ct=Ct+5,Ct+4<=it&&at!==-1?Rt(nt,at,Ct,tt):nt.strategy===4||ct===it?(N(nt,2+(tt?1:0),3),Z(nt,L,$)):(N(nt,4+(tt?1:0),3),function(bt,St,wt,At){var kt;for(N(bt,St-257,5),N(bt,wt-1,5),N(bt,At-4,4),kt=0;kt<At;kt++)N(bt,bt.bl_tree[2*F[kt]+1],3);et(bt,bt.dyn_ltree,St-1),et(bt,bt.dyn_dtree,wt-1)}(nt,nt.l_desc.max_code+1,nt.d_desc.max_code+1,mt+1),Z(nt,nt.dyn_ltree,nt.dyn_dtree)),q(nt),tt&&A(nt)},f._tr_tally=function(nt,at,Ct){return nt.pending_buf[nt.d_buf+2*nt.last_lit]=at>>>8&255,nt.pending_buf[nt.d_buf+2*nt.last_lit+1]=255&at,nt.pending_buf[nt.l_buf+nt.last_lit]=255&Ct,nt.last_lit++,at===0?nt.dyn_ltree[2*Ct]++:(nt.matches++,at--,nt.dyn_ltree[2*(x[Ct]+p+1)]++,nt.dyn_dtree[2*M(at)]++),nt.last_lit===nt.lit_bufsize-1},f._tr_align=function(nt){N(nt,2,3),T(nt,256,L),function(at){at.bi_valid===16?(U(at,at.bi_buf),at.bi_buf=0,at.bi_valid=0):8<=at.bi_valid&&(at.pending_buf[at.pending++]=255&at.bi_buf,at.bi_buf>>=8,at.bi_valid-=8)}(nt)}},{"../utils/common":41}],53:[function(u,h,f){h.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(u,h,f){(function(m){(function(g,p){if(!g.setImmediate){var b,_,E,O,V=1,H={},F=!1,L=g.document,$=Object.getPrototypeOf&&Object.getPrototypeOf(g);$=$&&$.setTimeout?$:g,b={}.toString.call(g.process)==="[object process]"?function(B){i.nextTick(function(){x(B)})}:function(){if(g.postMessage&&!g.importScripts){var B=!0,v=g.onmessage;return g.onmessage=function(){B=!1},g.postMessage("","*"),g.onmessage=v,B}}()?(O="setImmediate$"+Math.random()+"$",g.addEventListener?g.addEventListener("message",R,!1):g.attachEvent("onmessage",R),function(B){g.postMessage(O+B,"*")}):g.MessageChannel?((E=new MessageChannel).port1.onmessage=function(B){x(B.data)},function(B){E.port2.postMessage(B)}):L&&"onreadystatechange"in L.createElement("script")?(_=L.documentElement,function(B){var v=L.createElement("script");v.onreadystatechange=function(){x(B),v.onreadystatechange=null,_.removeChild(v),v=null},_.appendChild(v)}):function(B){setTimeout(x,0,B)},$.setImmediate=function(B){typeof B!="function"&&(B=new Function(""+B));for(var v=new Array(arguments.length-1),y=0;y<v.length;y++)v[y]=arguments[y+1];var C={callback:B,args:v};return H[V]=C,b(V),V++},$.clearImmediate=W}function W(B){delete H[B]}function x(B){if(F)setTimeout(x,0,B);else{var v=H[B];if(v){F=!0;try{(function(y){var C=y.callback,w=y.args;switch(w.length){case 0:C();break;case 1:C(w[0]);break;case 2:C(w[0],w[1]);break;case 3:C(w[0],w[1],w[2]);break;default:C.apply(void 0,w)}})(v)}finally{W(B),F=!1}}}}function R(B){B.source===g&&typeof B.data=="string"&&B.data.indexOf(O)===0&&x(+B.data.slice(O.length))}})(typeof self>"u"?m===void 0?this:m:self)}).call(this,n!==void 0?n:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}).call(this)}).call(this,e("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(e,t,r){(function(i){(function(){"use strict";var n=/[\\^$.*+?()[\]{}|]/g,o=RegExp(n.source),s=typeof i=="object"&&i&&i.Object===Object&&i,a=typeof self=="object"&&self&&self.Object===Object&&self,l=s||a||Function("return this")(),c=Object.prototype.toString,d=l.Symbol,u=d?d.prototype:void 0,h=u?u.toString:void 0;function f(m){if(typeof m=="string")return m;if(function(p){return typeof p=="symbol"||function(b){return!!b&&typeof b=="object"}(p)&&c.call(p)=="[object Symbol]"}(m))return h?h.call(m):"";var g=m+"";return g=="0"&&1/m==-1/0?"-0":g}t.exports=function(m){var g;return(m=(g=m)==null?"":f(g))&&o.test(m)?m.replace(n,"\\$&"):m}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(e,t,r){(function(i){(function(){"use strict";var n="[object Arguments]",o="[object Map]",s="[object Object]",a="[object Set]",l=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c=/^\w*$/,d=/^\./,u=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,h=/\\(\\)?/g,f=/^\[object .+?Constructor\]$/,m=/^(?:0|[1-9]\d*)$/,g={};g["[object Float32Array]"]=g["[object Float64Array]"]=g["[object Int8Array]"]=g["[object Int16Array]"]=g["[object Int32Array]"]=g["[object Uint8Array]"]=g["[object Uint8ClampedArray]"]=g["[object Uint16Array]"]=g["[object Uint32Array]"]=!0,g[n]=g["[object Array]"]=g["[object ArrayBuffer]"]=g["[object Boolean]"]=g["[object DataView]"]=g["[object Date]"]=g["[object Error]"]=g["[object Function]"]=g[o]=g["[object Number]"]=g[s]=g["[object RegExp]"]=g[a]=g["[object String]"]=g["[object WeakMap]"]=!1;var p=typeof i=="object"&&i&&i.Object===Object&&i,b=typeof self=="object"&&self&&self.Object===Object&&self,_=p||b||Function("return this")(),E=typeof r=="object"&&r&&!r.nodeType&&r,O=E&&typeof t=="object"&&t&&!t.nodeType&&t,V=O&&O.exports===E&&p.process,H=function(){try{return V&&V.binding("util")}catch{}}(),F=H&&H.isTypedArray;function L(Dt,Kt,oe,ae){for(var Ie=-1,ci=Dt?Dt.length:0;++Ie<ci;){var si=Dt[Ie];Kt(ae,si,oe(si),Dt)}return ae}function $(Dt,Kt){for(var oe=-1,ae=Dt?Dt.length:0;++oe<ae;)if(Kt(Dt[oe],oe,Dt))return!0;return!1}function W(Dt){var Kt=!1;if(Dt!=null&&typeof Dt.toString!="function")try{Kt=!!(Dt+"")}catch{}return Kt}function x(Dt){var Kt=-1,oe=Array(Dt.size);return Dt.forEach(function(ae,Ie){oe[++Kt]=[Ie,ae]}),oe}function R(Dt){var Kt=-1,oe=Array(Dt.size);return Dt.forEach(function(ae){oe[++Kt]=ae}),oe}var B,v,y,C=Array.prototype,w=Function.prototype,S=Object.prototype,M=_["__core-js_shared__"],U=(B=/[^.]+$/.exec(M&&M.keys&&M.keys.IE_PROTO||""))?"Symbol(src)_1."+B:"",N=w.toString,T=S.hasOwnProperty,j=S.toString,I=RegExp("^"+N.call(T).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),q=_.Symbol,A=_.Uint8Array,k=S.propertyIsEnumerable,Y=C.splice,Z=(v=Object.keys,y=Object,function(Dt){return v(y(Dt))}),lt=xe(_,"DataView"),J=xe(_,"Map"),et=xe(_,"Promise"),Et=xe(_,"Set"),Rt=xe(_,"WeakMap"),nt=xe(Object,"create"),at=ie(lt),Ct=ie(J),tt=ie(et),it=ie(Et),ct=ie(Rt),mt=q?q.prototype:void 0,bt=mt?mt.valueOf:void 0,St=mt?mt.toString:void 0;function wt(Dt){var Kt=-1,oe=Dt?Dt.length:0;for(this.clear();++Kt<oe;){var ae=Dt[Kt];this.set(ae[0],ae[1])}}function At(Dt){var Kt=-1,oe=Dt?Dt.length:0;for(this.clear();++Kt<oe;){var ae=Dt[Kt];this.set(ae[0],ae[1])}}function kt(Dt){var Kt=-1,oe=Dt?Dt.length:0;for(this.clear();++Kt<oe;){var ae=Dt[Kt];this.set(ae[0],ae[1])}}function Mt(Dt){var Kt=-1,oe=Dt?Dt.length:0;for(this.__data__=new kt;++Kt<oe;)this.add(Dt[Kt])}function Nt(Dt){this.__data__=new At(Dt)}function Ut(Dt,Kt){var oe=Pe(Dt)||qe(Dt)?function(si,pr){for(var ji=-1,Oi=Array(si);++ji<si;)Oi[ji]=pr(ji);return Oi}(Dt.length,String):[],ae=oe.length,Ie=!!ae;for(var ci in Dt)!Kt&&!T.call(Dt,ci)||Ie&&(ci=="length"||Ye(ci,ae))||oe.push(ci);return oe}function qt(Dt,Kt){for(var oe=Dt.length;oe--;)if(Ui(Dt[oe][0],Kt))return oe;return-1}function Wt(Dt,Kt,oe,ae){return Fe(Dt,function(Ie,ci,si){Kt(ae,Ie,oe(Ie),si)}),ae}wt.prototype.clear=function(){this.__data__=nt?nt(null):{}},wt.prototype.delete=function(Dt){return this.has(Dt)&&delete this.__data__[Dt]},wt.prototype.get=function(Dt){var Kt=this.__data__;if(nt){var oe=Kt[Dt];return oe==="__lodash_hash_undefined__"?void 0:oe}return T.call(Kt,Dt)?Kt[Dt]:void 0},wt.prototype.has=function(Dt){var Kt=this.__data__;return nt?Kt[Dt]!==void 0:T.call(Kt,Dt)},wt.prototype.set=function(Dt,Kt){return this.__data__[Dt]=nt&&Kt===void 0?"__lodash_hash_undefined__":Kt,this},At.prototype.clear=function(){this.__data__=[]},At.prototype.delete=function(Dt){var Kt=this.__data__,oe=qt(Kt,Dt);return!(oe<0)&&(oe==Kt.length-1?Kt.pop():Y.call(Kt,oe,1),!0)},At.prototype.get=function(Dt){var Kt=this.__data__,oe=qt(Kt,Dt);return oe<0?void 0:Kt[oe][1]},At.prototype.has=function(Dt){return qt(this.__data__,Dt)>-1},At.prototype.set=function(Dt,Kt){var oe=this.__data__,ae=qt(oe,Dt);return ae<0?oe.push([Dt,Kt]):oe[ae][1]=Kt,this},kt.prototype.clear=function(){this.__data__={hash:new wt,map:new(J||At),string:new wt}},kt.prototype.delete=function(Dt){return ye(this,Dt).delete(Dt)},kt.prototype.get=function(Dt){return ye(this,Dt).get(Dt)},kt.prototype.has=function(Dt){return ye(this,Dt).has(Dt)},kt.prototype.set=function(Dt,Kt){return ye(this,Dt).set(Dt,Kt),this},Mt.prototype.add=Mt.prototype.push=function(Dt){return this.__data__.set(Dt,"__lodash_hash_undefined__"),this},Mt.prototype.has=function(Dt){return this.__data__.has(Dt)},Nt.prototype.clear=function(){this.__data__=new At},Nt.prototype.delete=function(Dt){return this.__data__.delete(Dt)},Nt.prototype.get=function(Dt){return this.__data__.get(Dt)},Nt.prototype.has=function(Dt){return this.__data__.has(Dt)},Nt.prototype.set=function(Dt,Kt){var oe=this.__data__;if(oe instanceof At){var ae=oe.__data__;if(!J||ae.length<199)return ae.push([Dt,Kt]),this;oe=this.__data__=new kt(ae)}return oe.set(Dt,Kt),this};var re,Qt,Fe=(re=function(Dt,Kt){return Dt&&le(Dt,Kt,Tn)},function(Dt,Kt){if(Dt==null)return Dt;if(!ar(Dt))return re(Dt,Kt);for(var oe=Dt.length,ae=Qt?oe:-1,Ie=Object(Dt);(Qt?ae--:++ae<oe)&&Kt(Ie[ae],ae,Ie)!==!1;);return Dt}),le=function(Dt){return function(Kt,oe,ae){for(var Ie=-1,ci=Object(Kt),si=ae(Kt),pr=si.length;pr--;){var ji=si[Dt?pr:++Ie];if(oe(ci[ji],ji,ci)===!1)break}return Kt}}();function fe(Dt,Kt){for(var oe=0,ae=(Kt=Te(Kt,Dt)?[Kt]:fi(Kt)).length;Dt!=null&&oe<ae;)Dt=Dt[Jt(Kt[oe++])];return oe&&oe==ae?Dt:void 0}function Di(Dt,Kt){return Dt!=null&&Kt in Object(Dt)}function Ae(Dt,Kt,oe,ae,Ie){return Dt===Kt||(Dt==null||Kt==null||!yr(Dt)&&!rn(Kt)?Dt!=Dt&&Kt!=Kt:function(ci,si,pr,ji,Oi,Li){var Nn=Pe(ci),nr=Pe(si),kr="[object Array]",zr="[object Array]";Nn||(kr=(kr=Yr(ci))==n?s:kr),nr||(zr=(zr=Yr(si))==n?s:zr);var So=kr==s&&!W(ci),ns=zr==s&&!W(si),Cs=kr==zr;if(Cs&&!So)return Li||(Li=new Nt),Nn||Yn(ci)?be(ci,si,pr,ji,Oi,Li):function(Tr,Dr,xs,Pl,ad,us,qs){switch(xs){case"[object DataView]":if(Tr.byteLength!=Dr.byteLength||Tr.byteOffset!=Dr.byteOffset)return!1;Tr=Tr.buffer,Dr=Dr.buffer;case"[object ArrayBuffer]":return!(Tr.byteLength!=Dr.byteLength||!Pl(new A(Tr),new A(Dr)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ui(+Tr,+Dr);case"[object Error]":return Tr.name==Dr.name&&Tr.message==Dr.message;case"[object RegExp]":case"[object String]":return Tr==Dr+"";case o:var tl=x;case a:var ld=2&us;if(tl||(tl=R),Tr.size!=Dr.size&&!ld)return!1;var nu=qs.get(Tr);if(nu)return nu==Dr;us|=1,qs.set(Tr,Dr);var Ss=be(tl(Tr),tl(Dr),Pl,ad,us,qs);return qs.delete(Tr),Ss;case"[object Symbol]":if(bt)return bt.call(Tr)==bt.call(Dr)}return!1}(ci,si,kr,pr,ji,Oi,Li);if(!(2&Oi)){var so=So&&T.call(ci,"__wrapped__"),la=ns&&T.call(si,"__wrapped__");if(so||la){var ao=so?ci.value():ci,Ys=la?si.value():si;return Li||(Li=new Nt),pr(ao,Ys,ji,Oi,Li)}}return Cs?(Li||(Li=new Nt),function(Tr,Dr,xs,Pl,ad,us){var qs=2&ad,tl=Tn(Tr),ld=tl.length,nu=Tn(Dr).length;if(ld!=nu&&!qs)return!1;for(var Ss=ld;Ss--;){var hs=tl[Ss];if(!(qs?hs in Dr:T.call(Dr,hs)))return!1}var cd=us.get(Tr);if(cd&&us.get(Dr))return cd==Dr;var pc=!0;us.set(Tr,Dr),us.set(Dr,Tr);for(var Oo=qs;++Ss<ld;){hs=tl[Ss];var ou=Tr[hs],dd=Dr[hs];if(Pl)var $i=qs?Pl(dd,ou,hs,Dr,Tr,us):Pl(ou,dd,hs,Tr,Dr,us);if(!($i===void 0?ou===dd||xs(ou,dd,Pl,ad,us):$i)){pc=!1;break}Oo||(Oo=hs=="constructor")}if(pc&&!Oo){var su=Tr.constructor,au=Dr.constructor;su==au||!("constructor"in Tr)||!("constructor"in Dr)||typeof su=="function"&&su instanceof su&&typeof au=="function"&&au instanceof au||(pc=!1)}return us.delete(Tr),us.delete(Dr),pc}(ci,si,pr,ji,Oi,Li)):!1}(Dt,Kt,Ae,oe,ae,Ie))}function oi(Dt){return!(!yr(Dt)||function(Kt){return!!U&&U in Kt}(Dt))&&(Wi(Dt)||W(Dt)?I:f).test(ie(Dt))}function Ni(Dt){return typeof Dt=="function"?Dt:Dt==null?mo:typeof Dt=="object"?Pe(Dt)?function(ae,Ie){return Te(ae)&&Jn(Ie)?he(Jt(ae),Ie):function(ci){var si=function(pr,ji,Oi){var Li=pr==null?void 0:fe(pr,ji);return Li===void 0?Oi:Li}(ci,ae);return si===void 0&&si===Ie?function(pr,ji){return pr!=null&&function(Oi,Li,Nn){Li=Te(Li,Oi)?[Li]:fi(Li);for(var nr,kr=-1,zr=Li.length;++kr<zr;){var So=Jt(Li[kr]);if(!(nr=Oi!=null&&Nn(Oi,So)))break;Oi=Oi[So]}return nr||!!(zr=Oi?Oi.length:0)&&Ti(zr)&&Ye(So,zr)&&(Pe(Oi)||qe(Oi))}(pr,ji,Di)}(ci,ae):Ae(Ie,si,void 0,3)}}(Dt[0],Dt[1]):function(ae){var Ie=function(ci){for(var si=Tn(ci),pr=si.length;pr--;){var ji=si[pr],Oi=ci[ji];si[pr]=[ji,Oi,Jn(Oi)]}return si}(ae);return Ie.length==1&&Ie[0][2]?he(Ie[0][0],Ie[0][1]):function(ci){return ci===ae||function(si,pr,ji,Oi){var Li=ji.length,Nn=Li,nr=!Oi;if(si==null)return!Nn;for(si=Object(si);Li--;){var kr=ji[Li];if(nr&&kr[2]?kr[1]!==si[kr[0]]:!(kr[0]in si))return!1}for(;++Li<Nn;){var zr=(kr=ji[Li])[0],So=si[zr],ns=kr[1];if(nr&&kr[2]){if(So===void 0&&!(zr in si))return!1}else{var Cs=new Nt;if(Oi)var so=Oi(So,ns,zr,si,pr,Cs);if(!(so===void 0?Ae(ns,So,Oi,3,Cs):so))return!1}}return!0}(ci,ae,Ie)}}(Dt):Te(Kt=Dt)?(oe=Jt(Kt),function(ae){return ae?.[oe]}):function(ae){return function(Ie){return fe(Ie,ae)}}(Kt);var Kt,oe}function ei(Dt){if(oe=(Kt=Dt)&&Kt.constructor,ae=typeof oe=="function"&&oe.prototype||S,Kt!==ae)return Z(Dt);var Kt,oe,ae,Ie=[];for(var ci in Object(Dt))T.call(Dt,ci)&&ci!="constructor"&&Ie.push(ci);return Ie}function fi(Dt){return Pe(Dt)?Dt:Lt(Dt)}function be(Dt,Kt,oe,ae,Ie,ci){var si=2&Ie,pr=Dt.length,ji=Kt.length;if(pr!=ji&&!(si&&ji>pr))return!1;var Oi=ci.get(Dt);if(Oi&&ci.get(Kt))return Oi==Kt;var Li=-1,Nn=!0,nr=1&Ie?new Mt:void 0;for(ci.set(Dt,Kt),ci.set(Kt,Dt);++Li<pr;){var kr=Dt[Li],zr=Kt[Li];if(ae)var So=si?ae(zr,kr,Li,Kt,Dt,ci):ae(kr,zr,Li,Dt,Kt,ci);if(So!==void 0){if(So)continue;Nn=!1;break}if(nr){if(!$(Kt,function(ns,Cs){if(!nr.has(Cs)&&(kr===ns||oe(kr,ns,ae,Ie,ci)))return nr.add(Cs)})){Nn=!1;break}}else if(kr!==zr&&!oe(kr,zr,ae,Ie,ci)){Nn=!1;break}}return ci.delete(Dt),ci.delete(Kt),Nn}function ye(Dt,Kt){var oe,ae,Ie=Dt.__data__;return((ae=typeof(oe=Kt))=="string"||ae=="number"||ae=="symbol"||ae=="boolean"?oe!=="__proto__":oe===null)?Ie[typeof Kt=="string"?"string":"hash"]:Ie.map}function xe(Dt,Kt){var oe=function(ae,Ie){return ae?.[Ie]}(Dt,Kt);return oi(oe)?oe:void 0}var Yr=function(Dt){return j.call(Dt)};function Ye(Dt,Kt){return!!(Kt=Kt??9007199254740991)&&(typeof Dt=="number"||m.test(Dt))&&Dt>-1&&Dt%1==0&&Dt<Kt}function Te(Dt,Kt){if(Pe(Dt))return!1;var oe=typeof Dt;return!(oe!="number"&&oe!="symbol"&&oe!="boolean"&&Dt!=null&&!nn(Dt))||c.test(Dt)||!l.test(Dt)||Kt!=null&&Dt in Object(Kt)}function Jn(Dt){return Dt==Dt&&!yr(Dt)}function he(Dt,Kt){return function(oe){return oe!=null&&oe[Dt]===Kt&&(Kt!==void 0||Dt in Object(oe))}}(lt&&Yr(new lt(new ArrayBuffer(1)))!="[object DataView]"||J&&Yr(new J)!=o||et&&Yr(et.resolve())!="[object Promise]"||Et&&Yr(new Et)!=a||Rt&&Yr(new Rt)!="[object WeakMap]")&&(Yr=function(Dt){var Kt=j.call(Dt),oe=Kt==s?Dt.constructor:void 0,ae=oe?ie(oe):void 0;if(ae)switch(ae){case at:return"[object DataView]";case Ct:return o;case tt:return"[object Promise]";case it:return a;case ct:return"[object WeakMap]"}return Kt});var Lt=ke(function(Dt){var Kt;Dt=(Kt=Dt)==null?"":function(ae){if(typeof ae=="string")return ae;if(nn(ae))return St?St.call(ae):"";var Ie=ae+"";return Ie=="0"&&1/ae==-1/0?"-0":Ie}(Kt);var oe=[];return d.test(Dt)&&oe.push(""),Dt.replace(u,function(ae,Ie,ci,si){oe.push(ci?si.replace(h,"$1"):Ie||ae)}),oe});function Jt(Dt){if(typeof Dt=="string"||nn(Dt))return Dt;var Kt=Dt+"";return Kt=="0"&&1/Dt==-1/0?"-0":Kt}function ie(Dt){if(Dt!=null){try{return N.call(Dt)}catch{}try{return Dt+""}catch{}}return""}var se,mi,Ee=(se=function(Dt,Kt,oe){T.call(Dt,oe)?Dt[oe].push(Kt):Dt[oe]=[Kt]},function(Dt,Kt){var oe=Pe(Dt)?L:Wt,ae=mi?mi():{};return oe(Dt,se,Ni(Kt),ae)});function ke(Dt,Kt){if(typeof Dt!="function"||Kt&&typeof Kt!="function")throw new TypeError("Expected a function");var oe=function(){var ae=arguments,Ie=Kt?Kt.apply(this,ae):ae[0],ci=oe.cache;if(ci.has(Ie))return ci.get(Ie);var si=Dt.apply(this,ae);return oe.cache=ci.set(Ie,si),si};return oe.cache=new(ke.Cache||kt),oe}function Ui(Dt,Kt){return Dt===Kt||Dt!=Dt&&Kt!=Kt}function qe(Dt){return function(Kt){return rn(Kt)&&ar(Kt)}(Dt)&&T.call(Dt,"callee")&&(!k.call(Dt,"callee")||j.call(Dt)==n)}ke.Cache=kt;var Pe=Array.isArray;function ar(Dt){return Dt!=null&&Ti(Dt.length)&&!Wi(Dt)}function Wi(Dt){var Kt=yr(Dt)?j.call(Dt):"";return Kt=="[object Function]"||Kt=="[object GeneratorFunction]"}function Ti(Dt){return typeof Dt=="number"&&Dt>-1&&Dt%1==0&&Dt<=9007199254740991}function yr(Dt){var Kt=typeof Dt;return!!Dt&&(Kt=="object"||Kt=="function")}function rn(Dt){return!!Dt&&typeof Dt=="object"}function nn(Dt){return typeof Dt=="symbol"||rn(Dt)&&j.call(Dt)=="[object Symbol]"}var Yn=F?function(Dt){return function(Kt){return Dt(Kt)}}(F):function(Dt){return rn(Dt)&&Ti(Dt.length)&&!!g[j.call(Dt)]};function Tn(Dt){return ar(Dt)?Ut(Dt):ei(Dt)}function mo(Dt){return Dt}t.exports=Ee}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(e,t,r){"use strict";var i=Object.prototype.toString;t.exports=function(n){return n===!0||n===!1||function(o){return!!o&&typeof o=="object"}(n)&&i.call(n)=="[object Boolean]"}},{}],445:[function(e,t,r){(function(i){(function(){"use strict";var n="[object Arguments]",o="[object Map]",s="[object Object]",a="[object Set]",l=/^\[object .+?Constructor\]$/,c=/^(?:0|[1-9]\d*)$/,d={};d["[object Float32Array]"]=d["[object Float64Array]"]=d["[object Int8Array]"]=d["[object Int16Array]"]=d["[object Int32Array]"]=d["[object Uint8Array]"]=d["[object Uint8ClampedArray]"]=d["[object Uint16Array]"]=d["[object Uint32Array]"]=!0,d[n]=d["[object Array]"]=d["[object ArrayBuffer]"]=d["[object Boolean]"]=d["[object DataView]"]=d["[object Date]"]=d["[object Error]"]=d["[object Function]"]=d[o]=d["[object Number]"]=d[s]=d["[object RegExp]"]=d[a]=d["[object String]"]=d["[object WeakMap]"]=!1;var u=typeof i=="object"&&i&&i.Object===Object&&i,h=typeof self=="object"&&self&&self.Object===Object&&self,f=u||h||Function("return this")(),m=typeof r=="object"&&r&&!r.nodeType&&r,g=m&&typeof t=="object"&&t&&!t.nodeType&&t,p=g&&g.exports===m,b=p&&u.process,_=function(){try{return b&&b.binding&&b.binding("util")}catch{}}(),E=_&&_.isTypedArray;function O(Lt,Jt){for(var ie=-1,se=Lt==null?0:Lt.length;++ie<se;)if(Jt(Lt[ie],ie,Lt))return!0;return!1}function V(Lt){var Jt=-1,ie=Array(Lt.size);return Lt.forEach(function(se,mi){ie[++Jt]=[mi,se]}),ie}function H(Lt){var Jt=-1,ie=Array(Lt.size);return Lt.forEach(function(se){ie[++Jt]=se}),ie}var F,L,$,W=Array.prototype,x=Function.prototype,R=Object.prototype,B=f["__core-js_shared__"],v=x.toString,y=R.hasOwnProperty,C=(F=/[^.]+$/.exec(B&&B.keys&&B.keys.IE_PROTO||""))?"Symbol(src)_1."+F:"",w=R.toString,S=RegExp("^"+v.call(y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),M=p?f.Buffer:void 0,U=f.Symbol,N=f.Uint8Array,T=R.propertyIsEnumerable,j=W.splice,I=U?U.toStringTag:void 0,q=Object.getOwnPropertySymbols,A=M?M.isBuffer:void 0,k=(L=Object.keys,$=Object,function(Lt){return L($(Lt))}),Y=fe(f,"DataView"),Z=fe(f,"Map"),lt=fe(f,"Promise"),J=fe(f,"Set"),et=fe(f,"WeakMap"),Et=fe(Object,"create"),Rt=Ni(Y),nt=Ni(Z),at=Ni(lt),Ct=Ni(J),tt=Ni(et),it=U?U.prototype:void 0,ct=it?it.valueOf:void 0;function mt(Lt){var Jt=-1,ie=Lt==null?0:Lt.length;for(this.clear();++Jt<ie;){var se=Lt[Jt];this.set(se[0],se[1])}}function bt(Lt){var Jt=-1,ie=Lt==null?0:Lt.length;for(this.clear();++Jt<ie;){var se=Lt[Jt];this.set(se[0],se[1])}}function St(Lt){var Jt=-1,ie=Lt==null?0:Lt.length;for(this.clear();++Jt<ie;){var se=Lt[Jt];this.set(se[0],se[1])}}function wt(Lt){var Jt=-1,ie=Lt==null?0:Lt.length;for(this.__data__=new St;++Jt<ie;)this.add(Lt[Jt])}function At(Lt){var Jt=this.__data__=new bt(Lt);this.size=Jt.size}function kt(Lt,Jt){var ie=be(Lt),se=!ie&&fi(Lt),mi=!ie&&!se&&ye(Lt),Ee=!ie&&!se&&!mi&&Jn(Lt),ke=ie||se||mi||Ee,Ui=ke?function(ar,Wi){for(var Ti=-1,yr=Array(ar);++Ti<ar;)yr[Ti]=Wi(Ti);return yr}(Lt.length,String):[],qe=Ui.length;for(var Pe in Lt)!Jt&&!y.call(Lt,Pe)||ke&&(Pe=="length"||mi&&(Pe=="offset"||Pe=="parent")||Ee&&(Pe=="buffer"||Pe=="byteLength"||Pe=="byteOffset")||oi(Pe,qe))||Ui.push(Pe);return Ui}function Mt(Lt,Jt){for(var ie=Lt.length;ie--;)if(ei(Lt[ie][0],Jt))return ie;return-1}function Nt(Lt){return Lt==null?Lt===void 0?"[object Undefined]":"[object Null]":I&&I in Object(Lt)?function(Jt){var ie=y.call(Jt,I),se=Jt[I];try{Jt[I]=void 0;var mi=!0}catch{}var Ee=w.call(Jt);return mi&&(ie?Jt[I]=se:delete Jt[I]),Ee}(Lt):function(Jt){return w.call(Jt)}(Lt)}function Ut(Lt){return Te(Lt)&&Nt(Lt)==n}function qt(Lt,Jt,ie,se,mi){return Lt===Jt||(Lt==null||Jt==null||!Te(Lt)&&!Te(Jt)?Lt!=Lt&&Jt!=Jt:function(Ee,ke,Ui,qe,Pe,ar){var Wi=be(Ee),Ti=be(ke),yr=Wi?"[object Array]":Ae(Ee),rn=Ti?"[object Array]":Ae(ke),nn=(yr=yr==n?s:yr)==s,Yn=(rn=rn==n?s:rn)==s,Tn=yr==rn;if(Tn&&ye(Ee)){if(!ye(ke))return!1;Wi=!0,nn=!1}if(Tn&&!nn)return ar||(ar=new At),Wi||Jn(Ee)?Qt(Ee,ke,Ui,qe,Pe,ar):function(ae,Ie,ci,si,pr,ji,Oi){switch(ci){case"[object DataView]":if(ae.byteLength!=Ie.byteLength||ae.byteOffset!=Ie.byteOffset)return!1;ae=ae.buffer,Ie=Ie.buffer;case"[object ArrayBuffer]":return!(ae.byteLength!=Ie.byteLength||!ji(new N(ae),new N(Ie)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ei(+ae,+Ie);case"[object Error]":return ae.name==Ie.name&&ae.message==Ie.message;case"[object RegExp]":case"[object String]":return ae==Ie+"";case o:var Li=V;case a:var Nn=1&si;if(Li||(Li=H),ae.size!=Ie.size&&!Nn)return!1;var nr=Oi.get(ae);if(nr)return nr==Ie;si|=2,Oi.set(ae,Ie);var kr=Qt(Li(ae),Li(Ie),si,pr,ji,Oi);return Oi.delete(ae),kr;case"[object Symbol]":if(ct)return ct.call(ae)==ct.call(Ie)}return!1}(Ee,ke,yr,Ui,qe,Pe,ar);if(!(1&Ui)){var mo=nn&&y.call(Ee,"__wrapped__"),Dt=Yn&&y.call(ke,"__wrapped__");if(mo||Dt){var Kt=mo?Ee.value():Ee,oe=Dt?ke.value():ke;return ar||(ar=new At),Pe(Kt,oe,Ui,qe,ar)}}return Tn?(ar||(ar=new At),function(ae,Ie,ci,si,pr,ji){var Oi=1&ci,Li=Fe(ae),Nn=Li.length,nr=Fe(Ie).length;if(Nn!=nr&&!Oi)return!1;for(var kr=Nn;kr--;){var zr=Li[kr];if(!(Oi?zr in Ie:y.call(Ie,zr)))return!1}var So=ji.get(ae);if(So&&ji.get(Ie))return So==Ie;var ns=!0;ji.set(ae,Ie),ji.set(Ie,ae);for(var Cs=Oi;++kr<Nn;){zr=Li[kr];var so=ae[zr],la=Ie[zr];if(si)var ao=Oi?si(la,so,zr,Ie,ae,ji):si(so,la,zr,ae,Ie,ji);if(!(ao===void 0?so===la||pr(so,la,ci,si,ji):ao)){ns=!1;break}Cs||(Cs=zr=="constructor")}if(ns&&!Cs){var Ys=ae.constructor,Tr=Ie.constructor;Ys==Tr||!("constructor"in ae)||!("constructor"in Ie)||typeof Ys=="function"&&Ys instanceof Ys&&typeof Tr=="function"&&Tr instanceof Tr||(ns=!1)}return ji.delete(ae),ji.delete(Ie),ns}(Ee,ke,Ui,qe,Pe,ar)):!1}(Lt,Jt,ie,se,qt,mi))}function Wt(Lt){return!(!Ye(Lt)||function(Jt){return!!C&&C in Jt}(Lt))&&(xe(Lt)?S:l).test(Ni(Lt))}function re(Lt){if(ie=(Jt=Lt)&&Jt.constructor,se=typeof ie=="function"&&ie.prototype||R,Jt!==se)return k(Lt);var Jt,ie,se,mi=[];for(var Ee in Object(Lt))y.call(Lt,Ee)&&Ee!="constructor"&&mi.push(Ee);return mi}function Qt(Lt,Jt,ie,se,mi,Ee){var ke=1&ie,Ui=Lt.length,qe=Jt.length;if(Ui!=qe&&!(ke&&qe>Ui))return!1;var Pe=Ee.get(Lt);if(Pe&&Ee.get(Jt))return Pe==Jt;var ar=-1,Wi=!0,Ti=2&ie?new wt:void 0;for(Ee.set(Lt,Jt),Ee.set(Jt,Lt);++ar<Ui;){var yr=Lt[ar],rn=Jt[ar];if(se)var nn=ke?se(rn,yr,ar,Jt,Lt,Ee):se(yr,rn,ar,Lt,Jt,Ee);if(nn!==void 0){if(nn)continue;Wi=!1;break}if(Ti){if(!O(Jt,function(Yn,Tn){if(mo=Tn,!Ti.has(mo)&&(yr===Yn||mi(yr,Yn,ie,se,Ee)))return Ti.push(Tn);var mo})){Wi=!1;break}}else if(yr!==rn&&!mi(yr,rn,ie,se,Ee)){Wi=!1;break}}return Ee.delete(Lt),Ee.delete(Jt),Wi}function Fe(Lt){return function(Jt,ie,se){var mi=ie(Jt);return be(Jt)?mi:function(Ee,ke){for(var Ui=-1,qe=ke.length,Pe=Ee.length;++Ui<qe;)Ee[Pe+Ui]=ke[Ui];return Ee}(mi,se(Jt))}(Lt,he,Di)}function le(Lt,Jt){var ie,se,mi=Lt.__data__;return((se=typeof(ie=Jt))=="string"||se=="number"||se=="symbol"||se=="boolean"?ie!=="__proto__":ie===null)?mi[typeof Jt=="string"?"string":"hash"]:mi.map}function fe(Lt,Jt){var ie=function(se,mi){return se?.[mi]}(Lt,Jt);return Wt(ie)?ie:void 0}mt.prototype.clear=function(){this.__data__=Et?Et(null):{},this.size=0},mt.prototype.delete=function(Lt){var Jt=this.has(Lt)&&delete this.__data__[Lt];return this.size-=Jt?1:0,Jt},mt.prototype.get=function(Lt){var Jt=this.__data__;if(Et){var ie=Jt[Lt];return ie==="__lodash_hash_undefined__"?void 0:ie}return y.call(Jt,Lt)?Jt[Lt]:void 0},mt.prototype.has=function(Lt){var Jt=this.__data__;return Et?Jt[Lt]!==void 0:y.call(Jt,Lt)},mt.prototype.set=function(Lt,Jt){var ie=this.__data__;return this.size+=this.has(Lt)?0:1,ie[Lt]=Et&&Jt===void 0?"__lodash_hash_undefined__":Jt,this},bt.prototype.clear=function(){this.__data__=[],this.size=0},bt.prototype.delete=function(Lt){var Jt=this.__data__,ie=Mt(Jt,Lt);return!(ie<0)&&(ie==Jt.length-1?Jt.pop():j.call(Jt,ie,1),--this.size,!0)},bt.prototype.get=function(Lt){var Jt=this.__data__,ie=Mt(Jt,Lt);return ie<0?void 0:Jt[ie][1]},bt.prototype.has=function(Lt){return Mt(this.__data__,Lt)>-1},bt.prototype.set=function(Lt,Jt){var ie=this.__data__,se=Mt(ie,Lt);return se<0?(++this.size,ie.push([Lt,Jt])):ie[se][1]=Jt,this},St.prototype.clear=function(){this.size=0,this.__data__={hash:new mt,map:new(Z||bt),string:new mt}},St.prototype.delete=function(Lt){var Jt=le(this,Lt).delete(Lt);return this.size-=Jt?1:0,Jt},St.prototype.get=function(Lt){return le(this,Lt).get(Lt)},St.prototype.has=function(Lt){return le(this,Lt).has(Lt)},St.prototype.set=function(Lt,Jt){var ie=le(this,Lt),se=ie.size;return ie.set(Lt,Jt),this.size+=ie.size==se?0:1,this},wt.prototype.add=wt.prototype.push=function(Lt){return this.__data__.set(Lt,"__lodash_hash_undefined__"),this},wt.prototype.has=function(Lt){return this.__data__.has(Lt)},At.prototype.clear=function(){this.__data__=new bt,this.size=0},At.prototype.delete=function(Lt){var Jt=this.__data__,ie=Jt.delete(Lt);return this.size=Jt.size,ie},At.prototype.get=function(Lt){return this.__data__.get(Lt)},At.prototype.has=function(Lt){return this.__data__.has(Lt)},At.prototype.set=function(Lt,Jt){var ie=this.__data__;if(ie instanceof bt){var se=ie.__data__;if(!Z||se.length<199)return se.push([Lt,Jt]),this.size=++ie.size,this;ie=this.__data__=new St(se)}return ie.set(Lt,Jt),this.size=ie.size,this};var Di=q?function(Lt){return Lt==null?[]:(Lt=Object(Lt),function(Jt,ie){for(var se=-1,mi=Jt==null?0:Jt.length,Ee=0,ke=[];++se<mi;){var Ui=Jt[se];ie(Ui,se,Jt)&&(ke[Ee++]=Ui)}return ke}(q(Lt),function(Jt){return T.call(Lt,Jt)}))}:function(){return[]},Ae=Nt;function oi(Lt,Jt){return!!(Jt=Jt??9007199254740991)&&(typeof Lt=="number"||c.test(Lt))&&Lt>-1&&Lt%1==0&&Lt<Jt}function Ni(Lt){if(Lt!=null){try{return v.call(Lt)}catch{}try{return Lt+""}catch{}}return""}function ei(Lt,Jt){return Lt===Jt||Lt!=Lt&&Jt!=Jt}(Y&&Ae(new Y(new ArrayBuffer(1)))!="[object DataView]"||Z&&Ae(new Z)!=o||lt&&Ae(lt.resolve())!="[object Promise]"||J&&Ae(new J)!=a||et&&Ae(new et)!="[object WeakMap]")&&(Ae=function(Lt){var Jt=Nt(Lt),ie=Jt==s?Lt.constructor:void 0,se=ie?Ni(ie):"";if(se)switch(se){case Rt:return"[object DataView]";case nt:return o;case at:return"[object Promise]";case Ct:return a;case tt:return"[object WeakMap]"}return Jt});var fi=Ut(function(){return arguments}())?Ut:function(Lt){return Te(Lt)&&y.call(Lt,"callee")&&!T.call(Lt,"callee")},be=Array.isArray,ye=A||function(){return!1};function xe(Lt){if(!Ye(Lt))return!1;var Jt=Nt(Lt);return Jt=="[object Function]"||Jt=="[object GeneratorFunction]"||Jt=="[object AsyncFunction]"||Jt=="[object Proxy]"}function Yr(Lt){return typeof Lt=="number"&&Lt>-1&&Lt%1==0&&Lt<=9007199254740991}function Ye(Lt){var Jt=typeof Lt;return Lt!=null&&(Jt=="object"||Jt=="function")}function Te(Lt){return Lt!=null&&typeof Lt=="object"}var Jn=E?function(Lt){return function(Jt){return Lt(Jt)}}(E):function(Lt){return Te(Lt)&&Yr(Lt.length)&&!!d[Nt(Lt)]};function he(Lt){return(Jt=Lt)!=null&&Yr(Jt.length)&&!xe(Jt)?kt(Lt):re(Lt);var Jt}t.exports=function(Lt,Jt){return qt(Lt,Jt)}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(e,t,r){(function(i){(function(){"use strict";var n=typeof i=="object"&&i&&i.Object===Object&&i,o=typeof self=="object"&&self&&self.Object===Object&&self,s=n||o||Function("return this")(),a=Object.prototype,l=a.hasOwnProperty,c=a.toString,d=s.Symbol,u=d?d.toStringTag:void 0;function h(f){return f==null?f===void 0?"[object Undefined]":"[object Null]":u&&u in Object(f)?function(m){var g=l.call(m,u),p=m[u];try{m[u]=void 0;var b=!0}catch{}var _=c.call(m);return b&&(g?m[u]=p:delete m[u]),_}(f):function(m){return c.call(m)}(f)}t.exports=function(f){if(!function(g){var p=typeof g;return g!=null&&(p=="object"||p=="function")}(f))return!1;var m=h(f);return m=="[object Function]"||m=="[object GeneratorFunction]"||m=="[object AsyncFunction]"||m=="[object Proxy]"}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(e,t,r){"use strict";t.exports=function(i){return i==null}},{}],448:[function(e,t,r){"use strict";t.exports=function(i){return i===void 0}},{}],449:[function(e,t,r){(function(i){(function(){"use strict";var n=/^\[object .+?Constructor\]$/,o=typeof i=="object"&&i&&i.Object===Object&&i,s=typeof self=="object"&&self&&self.Object===Object&&self,a=o||s||Function("return this")();function l(N,T){return!!(N&&N.length)&&function(j,I,q){if(I!=I)return function(Y,Z,lt,J){for(var et=Y.length,Et=lt+(J?1:-1);J?Et--:++Et<et;)if(Z(Y[Et],Et,Y))return Et;return-1}(j,d,q);for(var A=q-1,k=j.length;++A<k;)if(j[A]===I)return A;return-1}(N,T,0)>-1}function c(N,T,j){for(var I=-1,q=N?N.length:0;++I<q;)if(j(T,N[I]))return!0;return!1}function d(N){return N!=N}function u(N,T){return N.has(T)}function h(N){var T=-1,j=Array(N.size);return N.forEach(function(I){j[++T]=I}),j}var f,m=Array.prototype,g=Function.prototype,p=Object.prototype,b=a["__core-js_shared__"],_=(f=/[^.]+$/.exec(b&&b.keys&&b.keys.IE_PROTO||""))?"Symbol(src)_1."+f:"",E=g.toString,O=p.hasOwnProperty,V=p.toString,H=RegExp("^"+E.call(O).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),F=m.splice,L=M(a,"Map"),$=M(a,"Set"),W=M(Object,"create");function x(N){var T=-1,j=N?N.length:0;for(this.clear();++T<j;){var I=N[T];this.set(I[0],I[1])}}function R(N){var T=-1,j=N?N.length:0;for(this.clear();++T<j;){var I=N[T];this.set(I[0],I[1])}}function B(N){var T=-1,j=N?N.length:0;for(this.clear();++T<j;){var I=N[T];this.set(I[0],I[1])}}function v(N){var T=-1,j=N?N.length:0;for(this.__data__=new B;++T<j;)this.add(N[T])}function y(N,T){for(var j,I,q=N.length;q--;)if((j=N[q][0])===(I=T)||j!=j&&I!=I)return q;return-1}function C(N){return!(!U(N)||(T=N,_&&_ in T))&&(function(j){var I=U(j)?V.call(j):"";return I=="[object Function]"||I=="[object GeneratorFunction]"}(N)||function(j){var I=!1;if(j!=null&&typeof j.toString!="function")try{I=!!(j+"")}catch{}return I}(N)?H:n).test(function(j){if(j!=null){try{return E.call(j)}catch{}try{return j+""}catch{}}return""}(N));var T}x.prototype.clear=function(){this.__data__=W?W(null):{}},x.prototype.delete=function(N){return this.has(N)&&delete this.__data__[N]},x.prototype.get=function(N){var T=this.__data__;if(W){var j=T[N];return j==="__lodash_hash_undefined__"?void 0:j}return O.call(T,N)?T[N]:void 0},x.prototype.has=function(N){var T=this.__data__;return W?T[N]!==void 0:O.call(T,N)},x.prototype.set=function(N,T){return this.__data__[N]=W&&T===void 0?"__lodash_hash_undefined__":T,this},R.prototype.clear=function(){this.__data__=[]},R.prototype.delete=function(N){var T=this.__data__,j=y(T,N);return!(j<0)&&(j==T.length-1?T.pop():F.call(T,j,1),!0)},R.prototype.get=function(N){var T=this.__data__,j=y(T,N);return j<0?void 0:T[j][1]},R.prototype.has=function(N){return y(this.__data__,N)>-1},R.prototype.set=function(N,T){var j=this.__data__,I=y(j,N);return I<0?j.push([N,T]):j[I][1]=T,this},B.prototype.clear=function(){this.__data__={hash:new x,map:new(L||R),string:new x}},B.prototype.delete=function(N){return S(this,N).delete(N)},B.prototype.get=function(N){return S(this,N).get(N)},B.prototype.has=function(N){return S(this,N).has(N)},B.prototype.set=function(N,T){return S(this,N).set(N,T),this},v.prototype.add=v.prototype.push=function(N){return this.__data__.set(N,"__lodash_hash_undefined__"),this},v.prototype.has=function(N){return this.__data__.has(N)};var w=$&&1/h(new $([,-0]))[1]==1/0?function(N){return new $(N)}:function(){};function S(N,T){var j,I,q=N.__data__;return((I=typeof(j=T))=="string"||I=="number"||I=="symbol"||I=="boolean"?j!=="__proto__":j===null)?q[typeof T=="string"?"string":"hash"]:q.map}function M(N,T){var j=function(I,q){return I?.[q]}(N,T);return C(j)?j:void 0}function U(N){var T=typeof N;return!!N&&(T=="object"||T=="function")}t.exports=function(N){return N&&N.length?function(T,j,I){var q=-1,A=l,k=T.length,Y=!0,Z=[],lt=Z;if(I)Y=!1,A=c;else if(k>=200){var J=j?null:w(T);if(J)return h(J);Y=!1,A=u,lt=new v}else lt=j?[]:Z;t:for(;++q<k;){var et=T[q],Et=j?j(et):et;if(et=I||et!==0?et:0,Y&&Et==Et){for(var Rt=lt.length;Rt--;)if(lt[Rt]===Et)continue t;j&&lt.push(Et),Z.push(et)}else A(lt,Et,I)||(lt!==Z&&lt.push(Et),Z.push(et))}return Z}(N):[]}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(e,t,r){"use strict";var i=e("inherits"),n=e("hash-base"),o=e("safe-buffer").Buffer,s=new Array(16);function a(){n.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function l(f,m){return f<<m|f>>>32-m}function c(f,m,g,p,b,_,E){return l(f+(m&g|~m&p)+b+_|0,E)+m|0}function d(f,m,g,p,b,_,E){return l(f+(m&p|g&~p)+b+_|0,E)+m|0}function u(f,m,g,p,b,_,E){return l(f+(m^g^p)+b+_|0,E)+m|0}function h(f,m,g,p,b,_,E){return l(f+(g^(m|~p))+b+_|0,E)+m|0}i(a,n),a.prototype._update=function(){for(var f=s,m=0;m<16;++m)f[m]=this._block.readInt32LE(4*m);var g=this._a,p=this._b,b=this._c,_=this._d;g=c(g,p,b,_,f[0],3614090360,7),_=c(_,g,p,b,f[1],3905402710,12),b=c(b,_,g,p,f[2],606105819,17),p=c(p,b,_,g,f[3],3250441966,22),g=c(g,p,b,_,f[4],4118548399,7),_=c(_,g,p,b,f[5],1200080426,12),b=c(b,_,g,p,f[6],2821735955,17),p=c(p,b,_,g,f[7],4249261313,22),g=c(g,p,b,_,f[8],1770035416,7),_=c(_,g,p,b,f[9],2336552879,12),b=c(b,_,g,p,f[10],4294925233,17),p=c(p,b,_,g,f[11],2304563134,22),g=c(g,p,b,_,f[12],1804603682,7),_=c(_,g,p,b,f[13],4254626195,12),b=c(b,_,g,p,f[14],2792965006,17),g=d(g,p=c(p,b,_,g,f[15],1236535329,22),b,_,f[1],4129170786,5),_=d(_,g,p,b,f[6],3225465664,9),b=d(b,_,g,p,f[11],643717713,14),p=d(p,b,_,g,f[0],3921069994,20),g=d(g,p,b,_,f[5],3593408605,5),_=d(_,g,p,b,f[10],38016083,9),b=d(b,_,g,p,f[15],3634488961,14),p=d(p,b,_,g,f[4],3889429448,20),g=d(g,p,b,_,f[9],568446438,5),_=d(_,g,p,b,f[14],3275163606,9),b=d(b,_,g,p,f[3],4107603335,14),p=d(p,b,_,g,f[8],1163531501,20),g=d(g,p,b,_,f[13],2850285829,5),_=d(_,g,p,b,f[2],4243563512,9),b=d(b,_,g,p,f[7],1735328473,14),g=u(g,p=d(p,b,_,g,f[12],2368359562,20),b,_,f[5],4294588738,4),_=u(_,g,p,b,f[8],2272392833,11),b=u(b,_,g,p,f[11],1839030562,16),p=u(p,b,_,g,f[14],4259657740,23),g=u(g,p,b,_,f[1],2763975236,4),_=u(_,g,p,b,f[4],1272893353,11),b=u(b,_,g,p,f[7],4139469664,16),p=u(p,b,_,g,f[10],3200236656,23),g=u(g,p,b,_,f[13],681279174,4),_=u(_,g,p,b,f[0],3936430074,11),b=u(b,_,g,p,f[3],3572445317,16),p=u(p,b,_,g,f[6],76029189,23),g=u(g,p,b,_,f[9],3654602809,4),_=u(_,g,p,b,f[12],3873151461,11),b=u(b,_,g,p,f[15],530742520,16),g=h(g,p=u(p,b,_,g,f[2],3299628645,23),b,_,f[0],4096336452,6),_=h(_,g,p,b,f[7],1126891415,10),b=h(b,_,g,p,f[14],2878612391,15),p=h(p,b,_,g,f[5],4237533241,21),g=h(g,p,b,_,f[12],1700485571,6),_=h(_,g,p,b,f[3],2399980690,10),b=h(b,_,g,p,f[10],4293915773,15),p=h(p,b,_,g,f[1],2240044497,21),g=h(g,p,b,_,f[8],1873313359,6),_=h(_,g,p,b,f[15],4264355552,10),b=h(b,_,g,p,f[6],2734768916,15),p=h(p,b,_,g,f[13],1309151649,21),g=h(g,p,b,_,f[4],4149444226,6),_=h(_,g,p,b,f[11],3174756917,10),b=h(b,_,g,p,f[2],718787259,15),p=h(p,b,_,g,f[9],3951481745,21),this._a=this._a+g|0,this._b=this._b+p|0,this._c=this._c+b|0,this._d=this._d+_|0},a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var f=o.allocUnsafe(16);return f.writeInt32LE(this._a,0),f.writeInt32LE(this._b,4),f.writeInt32LE(this._c,8),f.writeInt32LE(this._d,12),f},t.exports=a},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(e,t,r){"use strict";var i=e("bn.js"),n=e("brorand");function o(s){this.rand=s||new n.Rand}t.exports=o,o.create=function(s){return new o(s)},o.prototype._randbelow=function(s){var a=s.bitLength(),l=Math.ceil(a/8);do var c=new i(this.rand.generate(l));while(c.cmp(s)>=0);return c},o.prototype._randrange=function(s,a){var l=a.sub(s);return s.add(this._randbelow(l))},o.prototype.test=function(s,a,l){var c=s.bitLength(),d=i.mont(s),u=new i(1).toRed(d);a||(a=Math.max(1,c/48|0));for(var h=s.subn(1),f=0;!h.testn(f);f++);for(var m=s.shrn(f),g=h.toRed(d);a>0;a--){var p=this._randrange(new i(2),h);l&&l(p);var b=p.toRed(d).redPow(m);if(b.cmp(u)!==0&&b.cmp(g)!==0){for(var _=1;_<f;_++){if((b=b.redSqr()).cmp(u)===0)return!1;if(b.cmp(g)===0)break}if(_===f)return!1}}return!0},o.prototype.getDivisor=function(s,a){var l=s.bitLength(),c=i.mont(s),d=new i(1).toRed(c);a||(a=Math.max(1,l/48|0));for(var u=s.subn(1),h=0;!u.testn(h);h++);for(var f=s.shrn(h),m=u.toRed(c);a>0;a--){var g=this._randrange(new i(2),u),p=s.gcd(g);if(p.cmpn(1)!==0)return p;var b=g.toRed(c).redPow(f);if(b.cmp(d)!==0&&b.cmp(m)!==0){for(var _=1;_<h;_++){if((b=b.redSqr()).cmp(d)===0)return b.fromRed().subn(1).gcd(s);if(b.cmp(m)===0)break}if(_===h)return(b=b.redSqr()).fromRed().subn(1).gcd(s)}}return!1}},{"bn.js":452,brorand:187}],452:[function(e,t,r){arguments[4][184][0].apply(r,arguments)},{buffer:188,dup:184}],453:[function(e,t,r){"use strict";function i(n,o){if(!n)throw new Error(o||"Assertion failed")}t.exports=i,i.equal=function(n,o,s){if(n!=o)throw new Error(s||"Assertion failed: "+n+" != "+o)}},{}],454:[function(e,t,r){"use strict";var i=r;function n(s){return s.length===1?"0"+s:s}function o(s){for(var a="",l=0;l<s.length;l++)a+=n(s[l].toString(16));return a}i.toArray=function(s,a){if(Array.isArray(s))return s.slice();if(!s)return[];var l=[];if(typeof s!="string"){for(var c=0;c<s.length;c++)l[c]=0|s[c];return l}if(a==="hex")for((s=s.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(s="0"+s),c=0;c<s.length;c+=2)l.push(parseInt(s[c]+s[c+1],16));else for(c=0;c<s.length;c++){var d=s.charCodeAt(c),u=d>>8,h=255&d;u?l.push(u,h):l.push(h)}return l},i.zero2=n,i.toHex=o,i.encode=function(s,a){return a==="hex"?o(s):s}},{}],455:[function(e,t,r){t.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(e,t,r){"use strict";var i=e("asn1.js");r.certificate=e("./certificate");var n=i.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});r.RSAPrivateKey=n;var o=i.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});r.RSAPublicKey=o;var s=i.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())});r.PublicKey=s;var a=i.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),l=i.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(a),this.key("subjectPrivateKey").octstr())});r.PrivateKey=l;var c=i.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});r.EncryptedPrivateKey=c;var d=i.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});r.DSAPrivateKey=d,r.DSAparam=i.define("DSAparam",function(){this.int()});var u=i.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(h),this.key("publicKey").optional().explicit(1).bitstr())});r.ECPrivateKey=u;var h=i.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});r.signature=i.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":457,"asn1.js":170}],457:[function(e,t,r){"use strict";var i=e("asn1.js"),n=i.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),o=i.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),s=i.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),a=i.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())}),l=i.define("RelativeDistinguishedName",function(){this.setof(o)}),c=i.define("RDNSequence",function(){this.seqof(l)}),d=i.define("Name",function(){this.choice({rdnSequence:this.use(c)})}),u=i.define("Validity",function(){this.seq().obj(this.key("notBefore").use(n),this.key("notAfter").use(n))}),h=i.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),f=i.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(s),this.key("issuer").use(d),this.key("validity").use(u),this.key("subject").use(d),this.key("subjectPublicKeyInfo").use(a),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(h).optional())}),m=i.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(f),this.key("signatureAlgorithm").use(s),this.key("signatureValue").bitstr())});t.exports=m},{"asn1.js":170}],458:[function(e,t,r){"use strict";var i=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,n=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,s=e("evp_bytestokey"),a=e("browserify-aes"),l=e("safe-buffer").Buffer;t.exports=function(c,d){var u,h=c.toString(),f=h.match(i);if(f){var m="aes"+f[1],g=l.from(f[2],"hex"),p=l.from(f[3].replace(/[\r\n]/g,""),"base64"),b=s(d,g.slice(0,8),parseInt(f[1],10)).key,_=[],E=a.createDecipheriv(m,b,g);_.push(E.update(p)),_.push(E.final()),u=l.concat(_)}else{var O=h.match(o);u=l.from(O[2].replace(/[\r\n]/g,""),"base64")}return{tag:h.match(n)[1],data:u}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(e,t,r){"use strict";var i=e("./asn1"),n=e("./aesid.json"),o=e("./fixProc"),s=e("browserify-aes"),a=e("pbkdf2"),l=e("safe-buffer").Buffer;function c(d){var u;typeof d!="object"||l.isBuffer(d)||(u=d.passphrase,d=d.key),typeof d=="string"&&(d=l.from(d));var h,f,m=o(d,u),g=m.tag,p=m.data;switch(g){case"CERTIFICATE":f=i.certificate.decode(p,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(f||(f=i.PublicKey.decode(p,"der")),h=f.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPublicKey.decode(f.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return f.subjectPrivateKey=f.subjectPublicKey,{type:"ec",data:f};case"1.2.840.10040.4.1":return f.algorithm.params.pub_key=i.DSAparam.decode(f.subjectPublicKey.data,"der"),{type:"dsa",data:f.algorithm.params};default:throw new Error("unknown key id "+h)}case"ENCRYPTED PRIVATE KEY":p=function(b,_){var E=b.algorithm.decrypt.kde.kdeparams.salt,O=parseInt(b.algorithm.decrypt.kde.kdeparams.iters.toString(),10),V=n[b.algorithm.decrypt.cipher.algo.join(".")],H=b.algorithm.decrypt.cipher.iv,F=b.subjectPrivateKey,L=parseInt(V.split("-")[1],10)/8,$=a.pbkdf2Sync(_,E,O,L,"sha1"),W=s.createDecipheriv(V,$,H),x=[];return x.push(W.update(F)),x.push(W.final()),l.concat(x)}(p=i.EncryptedPrivateKey.decode(p,"der"),u);case"PRIVATE KEY":switch(h=(f=i.PrivateKey.decode(p,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPrivateKey.decode(f.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:f.algorithm.curve,privateKey:i.ECPrivateKey.decode(f.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return f.algorithm.params.priv_key=i.DSAparam.decode(f.subjectPrivateKey,"der"),{type:"dsa",params:f.algorithm.params};default:throw new Error("unknown key id "+h)}case"RSA PUBLIC KEY":return i.RSAPublicKey.decode(p,"der");case"RSA PRIVATE KEY":return i.RSAPrivateKey.decode(p,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:i.DSAPrivateKey.decode(p,"der")};case"EC PRIVATE KEY":return{curve:(p=i.ECPrivateKey.decode(p,"der")).parameters.value,privateKey:p.privateKey};default:throw new Error("unknown key type "+g)}}t.exports=c,c.signature=i.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(e,t,r){"use strict";r.pbkdf2=e("./lib/async"),r.pbkdf2Sync=e("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(e,t,r){(function(i){(function(){"use strict";var n,o,s=e("safe-buffer").Buffer,a=e("./precondition"),l=e("./default-encoding"),c=e("./sync"),d=e("./to-buffer"),u=i.crypto&&i.crypto.subtle,h={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},f=[];function m(){return o||(o=i.process&&i.process.nextTick?i.process.nextTick:i.queueMicrotask?i.queueMicrotask:i.setImmediate?i.setImmediate:i.setTimeout)}function g(p,b,_,E,O){return u.importKey("raw",p,{name:"PBKDF2"},!1,["deriveBits"]).then(function(V){return u.deriveBits({name:"PBKDF2",salt:b,iterations:_,hash:{name:O}},V,E<<3)}).then(function(V){return s.from(V)})}t.exports=function(p,b,_,E,O,V){typeof O=="function"&&(V=O,O=void 0);var H=h[(O=O||"sha1").toLowerCase()];if(H&&typeof i.Promise=="function"){if(a(_,E),p=d(p,l,"Password"),b=d(b,l,"Salt"),typeof V!="function")throw new Error("No callback provided to pbkdf2");(function(F,L){F.then(function($){m()(function(){L(null,$)})},function($){m()(function(){L($)})})})(function(F){if(i.process&&!i.process.browser||!u||!u.importKey||!u.deriveBits)return Promise.resolve(!1);if(f[F]!==void 0)return f[F];var L=g(n=n||s.alloc(8),n,10,128,F).then(function(){return!0}).catch(function(){return!1});return f[F]=L,L}(H).then(function(F){return F?g(p,b,_,E,H):c(p,b,_,E,O)}),V)}else m()(function(){var F;try{F=c(p,b,_,E,O)}catch(L){return V(L)}V(null,F)})}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(e,t,r){(function(i,n){(function(){"use strict";var o;n.process&&n.process.browser?o="utf-8":n.process&&n.process.version?o=parseInt(i.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":o="utf-8",t.exports=o}).call(this)}).call(this,e("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(e,t,r){"use strict";var i=Math.pow(2,30)-1;t.exports=function(n,o){if(typeof n!="number")throw new TypeError("Iterations not a number");if(n<0)throw new TypeError("Bad iterations");if(typeof o!="number")throw new TypeError("Key length not a number");if(o<0||o>i||o!=o)throw new TypeError("Bad key length")}},{}],464:[function(e,t,r){"use strict";var i=e("create-hash/md5"),n=e("ripemd160"),o=e("sha.js"),s=e("safe-buffer").Buffer,a=e("./precondition"),l=e("./default-encoding"),c=e("./to-buffer"),d=s.alloc(128),u={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function h(f,m,g){var p=function(H){function F(L){return o(H).update(L).digest()}return H==="rmd160"||H==="ripemd160"?function(L){return new n().update(L).digest()}:H==="md5"?i:F}(f),b=f==="sha512"||f==="sha384"?128:64;m.length>b?m=p(m):m.length<b&&(m=s.concat([m,d],b));for(var _=s.allocUnsafe(b+u[f]),E=s.allocUnsafe(b+u[f]),O=0;O<b;O++)_[O]=54^m[O],E[O]=92^m[O];var V=s.allocUnsafe(b+g+4);_.copy(V,0,0,b),this.ipad1=V,this.ipad2=_,this.opad=E,this.alg=f,this.blocksize=b,this.hash=p,this.size=u[f]}h.prototype.run=function(f,m){return f.copy(m,this.blocksize),this.hash(m).copy(this.opad,this.blocksize),this.hash(this.opad)},t.exports=function(f,m,g,p,b){a(g,p);var _=new h(b=b||"sha1",f=c(f,l,"Password"),(m=c(m,l,"Salt")).length),E=s.allocUnsafe(p),O=s.allocUnsafe(m.length+4);m.copy(O,0,0,m.length);for(var V=0,H=u[b],F=Math.ceil(p/H),L=1;L<=F;L++){O.writeUInt32BE(L,m.length);for(var $=_.run(O,_.ipad1),W=$,x=1;x<g;x++){W=_.run(W,_.ipad2);for(var R=0;R<H;R++)$[R]^=W[R]}$.copy(E,V),V+=H}return E}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(e,t,r){"use strict";var i=e("safe-buffer").Buffer;t.exports=function(n,o,s){if(i.isBuffer(n))return n;if(typeof n=="string")return i.from(n,o);if(ArrayBuffer.isView(n))return i.from(n.buffer);throw new TypeError(s+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(e,t,r){(function(i){(function(){"use strict";i===void 0||!i.version||i.version.indexOf("v0.")===0||i.version.indexOf("v1.")===0&&i.version.indexOf("v1.8.")!==0?t.exports={nextTick:function(n,o,s,a){if(typeof n!="function")throw new TypeError('"callback" argument must be a function');var l,c,d=arguments.length;switch(d){case 0:case 1:return i.nextTick(n);case 2:return i.nextTick(function(){n.call(null,o)});case 3:return i.nextTick(function(){n.call(null,o,s)});case 4:return i.nextTick(function(){n.call(null,o,s,a)});default:for(l=new Array(d-1),c=0;c<l.length;)l[c++]=arguments[c];return i.nextTick(function(){n.apply(null,l)})}}}:t.exports=i}).call(this)}).call(this,e("_process"))},{_process:467}],467:[function(e,t,r){"use strict";var i,n,o=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function l(b){if(i===setTimeout)return setTimeout(b,0);if((i===s||!i)&&setTimeout)return i=setTimeout,setTimeout(b,0);try{return i(b,0)}catch{try{return i.call(null,b,0)}catch{return i.call(this,b,0)}}}(function(){try{i=typeof setTimeout=="function"?setTimeout:s}catch{i=s}try{n=typeof clearTimeout=="function"?clearTimeout:a}catch{n=a}})();var c,d=[],u=!1,h=-1;function f(){u&&c&&(u=!1,c.length?d=c.concat(d):h=-1,d.length&&m())}function m(){if(!u){var b=l(f);u=!0;for(var _=d.length;_;){for(c=d,d=[];++h<_;)c&&c[h].run();h=-1,_=d.length}c=null,u=!1,function(E){if(n===clearTimeout)return clearTimeout(E);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(E);try{n(E)}catch{try{return n.call(null,E)}catch{return n.call(this,E)}}}(b)}}function g(b,_){this.fun=b,this.array=_}function p(){}o.nextTick=function(b){var _=new Array(arguments.length-1);if(arguments.length>1)for(var E=1;E<arguments.length;E++)_[E-1]=arguments[E];d.push(new g(b,_)),d.length!==1||u||l(m)},g.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=p,o.addListener=p,o.once=p,o.off=p,o.removeListener=p,o.removeAllListeners=p,o.emit=p,o.prependListener=p,o.prependOnceListener=p,o.listeners=function(b){return[]},o.binding=function(b){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(b){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],468:[function(e,t,r){"use strict";r.publicEncrypt=e("./publicEncrypt"),r.privateDecrypt=e("./privateDecrypt"),r.privateEncrypt=function(i,n){return r.publicEncrypt(i,n,!0)},r.publicDecrypt=function(i,n){return r.privateDecrypt(i,n,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(e,t,r){"use strict";var i=e("create-hash"),n=e("safe-buffer").Buffer;function o(s){var a=n.allocUnsafe(4);return a.writeUInt32BE(s,0),a}t.exports=function(s,a){for(var l,c=n.alloc(0),d=0;c.length<a;)l=o(d++),c=n.concat([c,i("sha1").update(s).update(l).digest()]);return c.slice(0,a)}},{"create-hash":386,"safe-buffer":494}],470:[function(e,t,r){arguments[4][184][0].apply(r,arguments)},{buffer:188,dup:184}],471:[function(e,t,r){"use strict";var i=e("parse-asn1"),n=e("./mgf"),o=e("./xor"),s=e("bn.js"),a=e("browserify-rsa"),l=e("create-hash"),c=e("./withPublic"),d=e("safe-buffer").Buffer;t.exports=function(u,h,f){var m;m=u.padding?u.padding:f?1:4;var g,p=i(u),b=p.modulus.byteLength();if(h.length>b||new s(h).cmp(p.modulus)>=0)throw new Error("decryption error");g=f?c(new s(h),p):a(h,p);var _=d.alloc(b-g.length);if(g=d.concat([_,g],b),m===4)return function(E,O){var V=E.modulus.byteLength(),H=l("sha1").update(d.alloc(0)).digest(),F=H.length;if(O[0]!==0)throw new Error("decryption error");var L=O.slice(1,F+1),$=O.slice(F+1),W=o(L,n($,F)),x=o($,n(W,V-F-1));if(function(B,v){B=d.from(B),v=d.from(v);var y=0,C=B.length;B.length!==v.length&&(y++,C=Math.min(B.length,v.length));for(var w=-1;++w<C;)y+=B[w]^v[w];return y}(H,x.slice(0,F)))throw new Error("decryption error");for(var R=F;x[R]===0;)R++;if(x[R++]!==1)throw new Error("decryption error");return x.slice(R)}(p,g);if(m===1)return function(E,O,V){for(var H=O.slice(0,2),F=2,L=0;O[F++]!==0;)if(F>=O.length){L++;break}var $=O.slice(2,F-1);if((H.toString("hex")!=="0002"&&!V||H.toString("hex")!=="0001"&&V)&&L++,$.length<8&&L++,L)throw new Error("decryption error");return O.slice(F)}(0,g,f);if(m===3)return g;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(e,t,r){"use strict";var i=e("parse-asn1"),n=e("randombytes"),o=e("create-hash"),s=e("./mgf"),a=e("./xor"),l=e("bn.js"),c=e("./withPublic"),d=e("browserify-rsa"),u=e("safe-buffer").Buffer;t.exports=function(h,f,m){var g;g=h.padding?h.padding:m?1:4;var p,b=i(h);if(g===4)p=function(_,E){var O=_.modulus.byteLength(),V=E.length,H=o("sha1").update(u.alloc(0)).digest(),F=H.length,L=2*F;if(V>O-L-2)throw new Error("message too long");var $=u.alloc(O-V-L-2),W=O-F-1,x=n(F),R=a(u.concat([H,$,u.alloc(1,1),E],W),s(x,W)),B=a(x,s(R,F));return new l(u.concat([u.alloc(1),B,R],O))}(b,f);else if(g===1)p=function(_,E,O){var V,H=E.length,F=_.modulus.byteLength();if(H>F-11)throw new Error("message too long");return V=O?u.alloc(F-H-3,255):function(L){for(var $,W=u.allocUnsafe(L),x=0,R=n(2*L),B=0;x<L;)B===R.length&&(R=n(2*L),B=0),($=R[B++])&&(W[x++]=$);return W}(F-H-3),new l(u.concat([u.from([0,O?1:2]),V,u.alloc(1),E],F))}(b,f,m);else{if(g!==3)throw new Error("unknown padding");if((p=new l(f)).cmp(b.modulus)>=0)throw new Error("data too long for modulus")}return m?d(p,b):c(p,b)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(e,t,r){"use strict";var i=e("bn.js"),n=e("safe-buffer").Buffer;t.exports=function(o,s){return n.from(o.toRed(i.mont(s.modulus)).redPow(new i(s.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(e,t,r){"use strict";t.exports=function(i,n){for(var o=i.length,s=-1;++s<o;)i[s]^=n[s];return i}},{}],475:[function(e,t,r){(function(i,n){(function(){"use strict";var o=e("safe-buffer").Buffer,s=n.crypto||n.msCrypto;s&&s.getRandomValues?t.exports=function(a,l){if(a>4294967295)throw new RangeError("requested too many random bytes");var c=o.allocUnsafe(a);if(a>0)if(a>65536)for(var d=0;d<a;d+=65536)s.getRandomValues(c.slice(d,d+65536));else s.getRandomValues(c);return typeof l=="function"?i.nextTick(function(){l(null,c)}):c}:t.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,e("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(e,t,r){(function(i,n){(function(){"use strict";function o(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var s=e("safe-buffer"),a=e("randombytes"),l=s.Buffer,c=s.kMaxLength,d=n.crypto||n.msCrypto,u=Math.pow(2,32)-1;function h(g,p){if(typeof g!="number"||g!=g)throw new TypeError("offset must be a number");if(g>u||g<0)throw new TypeError("offset must be a uint32");if(g>c||g>p)throw new RangeError("offset out of range")}function f(g,p,b){if(typeof g!="number"||g!=g)throw new TypeError("size must be a number");if(g>u||g<0)throw new TypeError("size must be a uint32");if(g+p>b||g>c)throw new RangeError("buffer too small")}function m(g,p,b,_){if(i.browser){var E=g.buffer,O=new Uint8Array(E,p,b);return d.getRandomValues(O),_?void i.nextTick(function(){_(null,g)}):g}if(!_)return a(b).copy(g,p),g;a(b,function(V,H){if(V)return _(V);H.copy(g,p),_(null,g)})}d&&d.getRandomValues||!i.browser?(r.randomFill=function(g,p,b,_){if(!(l.isBuffer(g)||g instanceof n.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof p=="function")_=p,p=0,b=g.length;else if(typeof b=="function")_=b,b=g.length-p;else if(typeof _!="function")throw new TypeError('"cb" argument must be a function');return h(p,g.length),f(b,p,g.length),m(g,p,b,_)},r.randomFillSync=function(g,p,b){if(p===void 0&&(p=0),!(l.isBuffer(g)||g instanceof n.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return h(p,g.length),b===void 0&&(b=g.length-p),f(b,p,g.length),m(g,p,b)}):(r.randomFill=o,r.randomFillSync=o)}).call(this)}).call(this,e("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(e,t,r){"use strict";var i={};function n(s,a,l){l||(l=Error);var c=function(d){var u,h;function f(m,g,p){return d.call(this,function(b,_,E){return typeof a=="string"?a:a(b,_,E)}(m,g,p))||this}return h=d,(u=f).prototype=Object.create(h.prototype),u.prototype.constructor=u,u.__proto__=h,f}(l);c.prototype.name=l.name,c.prototype.code=s,i[s]=c}function o(s,a){if(Array.isArray(s)){var l=s.length;return s=s.map(function(c){return String(c)}),l>2?"one of ".concat(a," ").concat(s.slice(0,l-1).join(", "),", or ")+s[l-1]:l===2?"one of ".concat(a," ").concat(s[0]," or ").concat(s[1]):"of ".concat(a," ").concat(s[0])}return"of ".concat(a," ").concat(String(s))}n("ERR_INVALID_OPT_VALUE",function(s,a){return'The value "'+a+'" is invalid for option "'+s+'"'},TypeError),n("ERR_INVALID_ARG_TYPE",function(s,a,l){var c,d,u,h;if(typeof a=="string"&&(d="not ",a.substr(!u||u<0?0:+u,d.length)===d)?(c="must not be",a=a.replace(/^not /,"")):c="must be",function(m,g,p){return(p===void 0||p>m.length)&&(p=m.length),m.substring(p-g.length,p)===g}(s," argument"))h="The ".concat(s," ").concat(c," ").concat(o(a,"type"));else{var f=function(m,g,p){return typeof p!="number"&&(p=0),!(p+g.length>m.length)&&m.indexOf(g,p)!==-1}(s,".")?"property":"argument";h='The "'.concat(s,'" ').concat(f," ").concat(c," ").concat(o(a,"type"))}return h+=". Received type ".concat(typeof l)},TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",function(s){return"The "+s+" method is not implemented"}),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",function(s){return"Cannot call "+s+" after a stream was destroyed"}),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",function(s){return"Unknown encoding: "+s},TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=i},{}],478:[function(e,t,r){(function(i){(function(){"use strict";var n=Object.keys||function(f){var m=[];for(var g in f)m.push(g);return m};t.exports=d;var o=e("./_stream_readable"),s=e("./_stream_writable");e("inherits")(d,o);for(var a=n(s.prototype),l=0;l<a.length;l++){var c=a[l];d.prototype[c]||(d.prototype[c]=s.prototype[c])}function d(f){if(!(this instanceof d))return new d(f);o.call(this,f),s.call(this,f),this.allowHalfOpen=!0,f&&(f.readable===!1&&(this.readable=!1),f.writable===!1&&(this.writable=!1),f.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",u)))}function u(){this._writableState.ended||i.nextTick(h,this)}function h(f){f.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(d.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(d.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(f){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=f,this._writableState.destroyed=f)}})}).call(this)}).call(this,e("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(e,t,r){"use strict";t.exports=n;var i=e("./_stream_transform");function n(o){if(!(this instanceof n))return new n(o);i.call(this,o)}e("inherits")(n,i),n.prototype._transform=function(o,s,a){a(null,o)}},{"./_stream_transform":481,inherits:440}],480:[function(e,t,r){(function(i,n){(function(){"use strict";var o;t.exports=W,W.ReadableState=$,e("events").EventEmitter;var s=function(A,k){return A.listeners(k).length},a=e("./internal/streams/stream"),l=e("buffer").Buffer,c=(n!==void 0?n:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},d,u=e("util");d=u&&u.debuglog?u.debuglog("stream"):function(){};var h,f,m,g=e("./internal/streams/buffer_list"),p=e("./internal/streams/destroy"),b=e("./internal/streams/state").getHighWaterMark,_=e("../errors").codes,E=_.ERR_INVALID_ARG_TYPE,O=_.ERR_STREAM_PUSH_AFTER_EOF,V=_.ERR_METHOD_NOT_IMPLEMENTED,H=_.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(W,a);var F=p.errorOrDestroy,L=["error","close","destroy","pause","resume"];function $(A,k,Y){o=o||e("./_stream_duplex"),A=A||{},typeof Y!="boolean"&&(Y=k instanceof o),this.objectMode=!!A.objectMode,Y&&(this.objectMode=this.objectMode||!!A.readableObjectMode),this.highWaterMark=b(this,A,"readableHighWaterMark",Y),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=A.emitClose!==!1,this.autoDestroy=!!A.autoDestroy,this.destroyed=!1,this.defaultEncoding=A.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,A.encoding&&(h||(h=e("string_decoder/").StringDecoder),this.decoder=new h(A.encoding),this.encoding=A.encoding)}function W(A){if(o=o||e("./_stream_duplex"),!(this instanceof W))return new W(A);var k=this instanceof o;this._readableState=new $(A,this,k),this.readable=!0,A&&(typeof A.read=="function"&&(this._read=A.read),typeof A.destroy=="function"&&(this._destroy=A.destroy)),a.call(this)}function x(A,k,Y,Z,lt){d("readableAddChunk",k);var J,et=A._readableState;if(k===null)et.reading=!1,function(Et,Rt){if(d("onEofChunk"),!Rt.ended){if(Rt.decoder){var nt=Rt.decoder.end();nt&&nt.length&&(Rt.buffer.push(nt),Rt.length+=Rt.objectMode?1:nt.length)}Rt.ended=!0,Rt.sync?v(Et):(Rt.needReadable=!1,Rt.emittedReadable||(Rt.emittedReadable=!0,y(Et)))}}(A,et);else if(lt||(J=function(Et,Rt){var nt;at=Rt,l.isBuffer(at)||at instanceof c||typeof Rt=="string"||Rt===void 0||Et.objectMode||(nt=new E("chunk",["string","Buffer","Uint8Array"],Rt));var at;return nt}(et,k)),J)F(A,J);else if(et.objectMode||k&&k.length>0)if(typeof k=="string"||et.objectMode||Object.getPrototypeOf(k)===l.prototype||(k=function(Et){return l.from(Et)}(k)),Z)et.endEmitted?F(A,new H):R(A,et,k,!0);else if(et.ended)F(A,new O);else{if(et.destroyed)return!1;et.reading=!1,et.decoder&&!Y?(k=et.decoder.write(k),et.objectMode||k.length!==0?R(A,et,k,!1):C(A,et)):R(A,et,k,!1)}else Z||(et.reading=!1,C(A,et));return!et.ended&&(et.length<et.highWaterMark||et.length===0)}function R(A,k,Y,Z){k.flowing&&k.length===0&&!k.sync?(k.awaitDrain=0,A.emit("data",Y)):(k.length+=k.objectMode?1:Y.length,Z?k.buffer.unshift(Y):k.buffer.push(Y),k.needReadable&&v(A)),C(A,k)}Object.defineProperty(W.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(A){this._readableState&&(this._readableState.destroyed=A)}}),W.prototype.destroy=p.destroy,W.prototype._undestroy=p.undestroy,W.prototype._destroy=function(A,k){k(A)},W.prototype.push=function(A,k){var Y,Z=this._readableState;return Z.objectMode?Y=!0:typeof A=="string"&&((k=k||Z.defaultEncoding)!==Z.encoding&&(A=l.from(A,k),k=""),Y=!0),x(this,A,k,!1,Y)},W.prototype.unshift=function(A){return x(this,A,null,!0,!1)},W.prototype.isPaused=function(){return this._readableState.flowing===!1},W.prototype.setEncoding=function(A){h||(h=e("string_decoder/").StringDecoder);var k=new h(A);this._readableState.decoder=k,this._readableState.encoding=this._readableState.decoder.encoding;for(var Y=this._readableState.buffer.head,Z="";Y!==null;)Z+=k.write(Y.data),Y=Y.next;return this._readableState.buffer.clear(),Z!==""&&this._readableState.buffer.push(Z),this._readableState.length=Z.length,this};function B(A,k){return A<=0||k.length===0&&k.ended?0:k.objectMode?1:A!=A?k.flowing&&k.length?k.buffer.head.data.length:k.length:(A>k.highWaterMark&&(k.highWaterMark=function(Y){return Y>=1073741824?Y=1073741824:(Y--,Y|=Y>>>1,Y|=Y>>>2,Y|=Y>>>4,Y|=Y>>>8,Y|=Y>>>16,Y++),Y}(A)),A<=k.length?A:k.ended?k.length:(k.needReadable=!0,0))}function v(A){var k=A._readableState;d("emitReadable",k.needReadable,k.emittedReadable),k.needReadable=!1,k.emittedReadable||(d("emitReadable",k.flowing),k.emittedReadable=!0,i.nextTick(y,A))}function y(A){var k=A._readableState;d("emitReadable_",k.destroyed,k.length,k.ended),k.destroyed||!k.length&&!k.ended||(A.emit("readable"),k.emittedReadable=!1),k.needReadable=!k.flowing&&!k.ended&&k.length<=k.highWaterMark,N(A)}function C(A,k){k.readingMore||(k.readingMore=!0,i.nextTick(w,A,k))}function w(A,k){for(;!k.reading&&!k.ended&&(k.length<k.highWaterMark||k.flowing&&k.length===0);){var Y=k.length;if(d("maybeReadMore read 0"),A.read(0),Y===k.length)break}k.readingMore=!1}function S(A){var k=A._readableState;k.readableListening=A.listenerCount("readable")>0,k.resumeScheduled&&!k.paused?k.flowing=!0:A.listenerCount("data")>0&&A.resume()}function M(A){d("readable nexttick read 0"),A.read(0)}function U(A,k){d("resume",k.reading),k.reading||A.read(0),k.resumeScheduled=!1,A.emit("resume"),N(A),k.flowing&&!k.reading&&A.read(0)}function N(A){var k=A._readableState;for(d("flow",k.flowing);k.flowing&&A.read()!==null;);}function T(A,k){return k.length===0?null:(k.objectMode?Y=k.buffer.shift():!A||A>=k.length?(Y=k.decoder?k.buffer.join(""):k.buffer.length===1?k.buffer.first():k.buffer.concat(k.length),k.buffer.clear()):Y=k.buffer.consume(A,k.decoder),Y);var Y}function j(A){var k=A._readableState;d("endReadable",k.endEmitted),k.endEmitted||(k.ended=!0,i.nextTick(I,k,A))}function I(A,k){if(d("endReadableNT",A.endEmitted,A.length),!A.endEmitted&&A.length===0&&(A.endEmitted=!0,k.readable=!1,k.emit("end"),A.autoDestroy)){var Y=k._writableState;(!Y||Y.autoDestroy&&Y.finished)&&k.destroy()}}function q(A,k){for(var Y=0,Z=A.length;Y<Z;Y++)if(A[Y]===k)return Y;return-1}W.prototype.read=function(A){d("read",A),A=parseInt(A,10);var k=this._readableState,Y=A;if(A!==0&&(k.emittedReadable=!1),A===0&&k.needReadable&&((k.highWaterMark!==0?k.length>=k.highWaterMark:k.length>0)||k.ended))return d("read: emitReadable",k.length,k.ended),k.length===0&&k.ended?j(this):v(this),null;if((A=B(A,k))===0&&k.ended)return k.length===0&&j(this),null;var Z,lt=k.needReadable;return d("need readable",lt),(k.length===0||k.length-A<k.highWaterMark)&&d("length less than watermark",lt=!0),k.ended||k.reading?d("reading or ended",lt=!1):lt&&(d("do read"),k.reading=!0,k.sync=!0,k.length===0&&(k.needReadable=!0),this._read(k.highWaterMark),k.sync=!1,k.reading||(A=B(Y,k))),(Z=A>0?T(A,k):null)===null?(k.needReadable=k.length<=k.highWaterMark,A=0):(k.length-=A,k.awaitDrain=0),k.length===0&&(k.ended||(k.needReadable=!0),Y!==A&&k.ended&&j(this)),Z!==null&&this.emit("data",Z),Z},W.prototype._read=function(A){F(this,new V("_read()"))},W.prototype.pipe=function(A,k){var Y=this,Z=this._readableState;switch(Z.pipesCount){case 0:Z.pipes=A;break;case 1:Z.pipes=[Z.pipes,A];break;default:Z.pipes.push(A)}Z.pipesCount+=1,d("pipe count=%d opts=%j",Z.pipesCount,k);var lt=(!k||k.end!==!1)&&A!==i.stdout&&A!==i.stderr?et:it;function J(ct,mt){d("onunpipe"),ct===Y&&mt&&mt.hasUnpiped===!1&&(mt.hasUnpiped=!0,d("cleanup"),A.removeListener("close",Ct),A.removeListener("finish",tt),A.removeListener("drain",Et),A.removeListener("error",at),A.removeListener("unpipe",J),Y.removeListener("end",et),Y.removeListener("end",it),Y.removeListener("data",nt),Rt=!0,!Z.awaitDrain||A._writableState&&!A._writableState.needDrain||Et())}function et(){d("onend"),A.end()}Z.endEmitted?i.nextTick(lt):Y.once("end",lt),A.on("unpipe",J);var Et=function(ct){return function(){var mt=ct._readableState;d("pipeOnDrain",mt.awaitDrain),mt.awaitDrain&&mt.awaitDrain--,mt.awaitDrain===0&&s(ct,"data")&&(mt.flowing=!0,N(ct))}}(Y);A.on("drain",Et);var Rt=!1;function nt(ct){d("ondata");var mt=A.write(ct);d("dest.write",mt),mt===!1&&((Z.pipesCount===1&&Z.pipes===A||Z.pipesCount>1&&q(Z.pipes,A)!==-1)&&!Rt&&(d("false write response, pause",Z.awaitDrain),Z.awaitDrain++),Y.pause())}function at(ct){d("onerror",ct),it(),A.removeListener("error",at),s(A,"error")===0&&F(A,ct)}function Ct(){A.removeListener("finish",tt),it()}function tt(){d("onfinish"),A.removeListener("close",Ct),it()}function it(){d("unpipe"),Y.unpipe(A)}return Y.on("data",nt),function(ct,mt,bt){if(typeof ct.prependListener=="function")return ct.prependListener(mt,bt);ct._events&&ct._events[mt]?Array.isArray(ct._events[mt])?ct._events[mt].unshift(bt):ct._events[mt]=[bt,ct._events[mt]]:ct.on(mt,bt)}(A,"error",at),A.once("close",Ct),A.once("finish",tt),A.emit("pipe",Y),Z.flowing||(d("pipe resume"),Y.resume()),A},W.prototype.unpipe=function(A){var k=this._readableState,Y={hasUnpiped:!1};if(k.pipesCount===0)return this;if(k.pipesCount===1)return A&&A!==k.pipes||(A||(A=k.pipes),k.pipes=null,k.pipesCount=0,k.flowing=!1,A&&A.emit("unpipe",this,Y)),this;if(!A){var Z=k.pipes,lt=k.pipesCount;k.pipes=null,k.pipesCount=0,k.flowing=!1;for(var J=0;J<lt;J++)Z[J].emit("unpipe",this,{hasUnpiped:!1});return this}var et=q(k.pipes,A);return et===-1||(k.pipes.splice(et,1),k.pipesCount-=1,k.pipesCount===1&&(k.pipes=k.pipes[0]),A.emit("unpipe",this,Y)),this},W.prototype.on=function(A,k){var Y=a.prototype.on.call(this,A,k),Z=this._readableState;return A==="data"?(Z.readableListening=this.listenerCount("readable")>0,Z.flowing!==!1&&this.resume()):A==="readable"&&(Z.endEmitted||Z.readableListening||(Z.readableListening=Z.needReadable=!0,Z.flowing=!1,Z.emittedReadable=!1,d("on readable",Z.length,Z.reading),Z.length?v(this):Z.reading||i.nextTick(M,this))),Y},W.prototype.addListener=W.prototype.on,W.prototype.removeListener=function(A,k){var Y=a.prototype.removeListener.call(this,A,k);return A==="readable"&&i.nextTick(S,this),Y},W.prototype.removeAllListeners=function(A){var k=a.prototype.removeAllListeners.apply(this,arguments);return A!=="readable"&&A!==void 0||i.nextTick(S,this),k},W.prototype.resume=function(){var A=this._readableState;return A.flowing||(d("resume"),A.flowing=!A.readableListening,function(k,Y){Y.resumeScheduled||(Y.resumeScheduled=!0,i.nextTick(U,k,Y))}(this,A)),A.paused=!1,this},W.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},W.prototype.wrap=function(A){var k=this,Y=this._readableState,Z=!1;for(var lt in A.on("end",function(){if(d("wrapped end"),Y.decoder&&!Y.ended){var et=Y.decoder.end();et&&et.length&&k.push(et)}k.push(null)}),A.on("data",function(et){d("wrapped data"),Y.decoder&&(et=Y.decoder.write(et)),Y.objectMode&&et==null||(Y.objectMode||et&&et.length)&&(k.push(et)||(Z=!0,A.pause()))}),A)this[lt]===void 0&&typeof A[lt]=="function"&&(this[lt]=function(et){return function(){return A[et].apply(A,arguments)}}(lt));for(var J=0;J<L.length;J++)A.on(L[J],this.emit.bind(this,L[J]));return this._read=function(et){d("wrapped _read",et),Z&&(Z=!1,A.resume())},this},typeof Symbol=="function"&&(W.prototype[Symbol.asyncIterator]=function(){return f===void 0&&(f=e("./internal/streams/async_iterator")),f(this)}),Object.defineProperty(W.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(W.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(W.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(A){this._readableState&&(this._readableState.flowing=A)}}),W._fromList=T,Object.defineProperty(W.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(W.from=function(A,k){return m===void 0&&(m=e("./internal/streams/from")),m(W,A,k)})}).call(this)}).call(this,e("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(e,t,r){"use strict";t.exports=d;var i=e("../errors").codes,n=i.ERR_METHOD_NOT_IMPLEMENTED,o=i.ERR_MULTIPLE_CALLBACK,s=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=i.ERR_TRANSFORM_WITH_LENGTH_0,l=e("./_stream_duplex");function c(f,m){var g=this._transformState;g.transforming=!1;var p=g.writecb;if(p===null)return this.emit("error",new o);g.writechunk=null,g.writecb=null,m!=null&&this.push(m),p(f);var b=this._readableState;b.reading=!1,(b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}function d(f){if(!(this instanceof d))return new d(f);l.call(this,f),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",u)}function u(){var f=this;typeof this._flush!="function"||this._readableState.destroyed?h(this,null,null):this._flush(function(m,g){h(f,m,g)})}function h(f,m,g){if(m)return f.emit("error",m);if(g!=null&&f.push(g),f._writableState.length)throw new a;if(f._transformState.transforming)throw new s;return f.push(null)}e("inherits")(d,l),d.prototype.push=function(f,m){return this._transformState.needTransform=!1,l.prototype.push.call(this,f,m)},d.prototype._transform=function(f,m,g){g(new n("_transform()"))},d.prototype._write=function(f,m,g){var p=this._transformState;if(p.writecb=g,p.writechunk=f,p.writeencoding=m,!p.transforming){var b=this._readableState;(p.needTransform||b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}},d.prototype._read=function(f){var m=this._transformState;m.writechunk===null||m.transforming?m.needTransform=!0:(m.transforming=!0,this._transform(m.writechunk,m.writeencoding,m.afterTransform))},d.prototype._destroy=function(f,m){l.prototype._destroy.call(this,f,function(g){m(g)})}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(e,t,r){(function(i,n){(function(){"use strict";function o(w){var S=this;this.next=null,this.entry=null,this.finish=function(){(function(M,U,N){var T=M.entry;for(M.entry=null;T;){var j=T.callback;U.pendingcb--,j(N),T=T.next}U.corkedRequestsFree.next=M})(S,w)}}var s;t.exports=W,W.WritableState=$;var a={deprecate:e("util-deprecate")},l=e("./internal/streams/stream"),c=e("buffer").Buffer,d=(n!==void 0?n:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},u,h=e("./internal/streams/destroy"),f=e("./internal/streams/state").getHighWaterMark,m=e("../errors").codes,g=m.ERR_INVALID_ARG_TYPE,p=m.ERR_METHOD_NOT_IMPLEMENTED,b=m.ERR_MULTIPLE_CALLBACK,_=m.ERR_STREAM_CANNOT_PIPE,E=m.ERR_STREAM_DESTROYED,O=m.ERR_STREAM_NULL_VALUES,V=m.ERR_STREAM_WRITE_AFTER_END,H=m.ERR_UNKNOWN_ENCODING,F=h.errorOrDestroy;function L(){}function $(w,S,M){s=s||e("./_stream_duplex"),w=w||{},typeof M!="boolean"&&(M=S instanceof s),this.objectMode=!!w.objectMode,M&&(this.objectMode=this.objectMode||!!w.writableObjectMode),this.highWaterMark=f(this,w,"writableHighWaterMark",M),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var U=w.decodeStrings===!1;this.decodeStrings=!U,this.defaultEncoding=w.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(N){(function(T,j){var I=T._writableState,q=I.sync,A=I.writecb;if(typeof A!="function")throw new b;if(function(Y){Y.writing=!1,Y.writecb=null,Y.length-=Y.writelen,Y.writelen=0}(I),j)(function(Y,Z,lt,J,et){--Z.pendingcb,lt?(i.nextTick(et,J),i.nextTick(C,Y,Z),Y._writableState.errorEmitted=!0,F(Y,J)):(et(J),Y._writableState.errorEmitted=!0,F(Y,J),C(Y,Z))})(T,I,q,j,A);else{var k=v(I)||T.destroyed;k||I.corked||I.bufferProcessing||!I.bufferedRequest||B(T,I),q?i.nextTick(R,T,I,k,A):R(T,I,k,A)}})(S,N)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=w.emitClose!==!1,this.autoDestroy=!!w.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function W(w){var S=this instanceof(s=s||e("./_stream_duplex"));if(!S&&!u.call(W,this))return new W(w);this._writableState=new $(w,this,S),this.writable=!0,w&&(typeof w.write=="function"&&(this._write=w.write),typeof w.writev=="function"&&(this._writev=w.writev),typeof w.destroy=="function"&&(this._destroy=w.destroy),typeof w.final=="function"&&(this._final=w.final)),l.call(this)}function x(w,S,M,U,N,T,j){S.writelen=U,S.writecb=j,S.writing=!0,S.sync=!0,S.destroyed?S.onwrite(new E("write")):M?w._writev(N,S.onwrite):w._write(N,T,S.onwrite),S.sync=!1}function R(w,S,M,U){M||function(N,T){T.length===0&&T.needDrain&&(T.needDrain=!1,N.emit("drain"))}(w,S),S.pendingcb--,U(),C(w,S)}function B(w,S){S.bufferProcessing=!0;var M=S.bufferedRequest;if(w._writev&&M&&M.next){var U=S.bufferedRequestCount,N=new Array(U),T=S.corkedRequestsFree;T.entry=M;for(var j=0,I=!0;M;)N[j]=M,M.isBuf||(I=!1),M=M.next,j+=1;N.allBuffers=I,x(w,S,!0,S.length,N,"",T.finish),S.pendingcb++,S.lastBufferedRequest=null,T.next?(S.corkedRequestsFree=T.next,T.next=null):S.corkedRequestsFree=new o(S),S.bufferedRequestCount=0}else{for(;M;){var q=M.chunk,A=M.encoding,k=M.callback;if(x(w,S,!1,S.objectMode?1:q.length,q,A,k),M=M.next,S.bufferedRequestCount--,S.writing)break}M===null&&(S.lastBufferedRequest=null)}S.bufferedRequest=M,S.bufferProcessing=!1}function v(w){return w.ending&&w.length===0&&w.bufferedRequest===null&&!w.finished&&!w.writing}function y(w,S){w._final(function(M){S.pendingcb--,M&&F(w,M),S.prefinished=!0,w.emit("prefinish"),C(w,S)})}function C(w,S){var M=v(S);if(M&&(function(N,T){T.prefinished||T.finalCalled||(typeof N._final!="function"||T.destroyed?(T.prefinished=!0,N.emit("prefinish")):(T.pendingcb++,T.finalCalled=!0,i.nextTick(y,N,T)))}(w,S),S.pendingcb===0&&(S.finished=!0,w.emit("finish"),S.autoDestroy))){var U=w._readableState;(!U||U.autoDestroy&&U.endEmitted)&&w.destroy()}return M}e("inherits")(W,l),$.prototype.getBuffer=function(){for(var w=this.bufferedRequest,S=[];w;)S.push(w),w=w.next;return S},function(){try{Object.defineProperty($.prototype,"buffer",{get:a.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(u=Function.prototype[Symbol.hasInstance],Object.defineProperty(W,Symbol.hasInstance,{value:function(w){return!!u.call(this,w)||this===W&&w&&w._writableState instanceof $}})):u=function(w){return w instanceof this},W.prototype.pipe=function(){F(this,new _)},W.prototype.write=function(w,S,M){var U,N=this._writableState,T=!1,j=!N.objectMode&&(U=w,c.isBuffer(U)||U instanceof d);return j&&!c.isBuffer(w)&&(w=function(I){return c.from(I)}(w)),typeof S=="function"&&(M=S,S=null),j?S="buffer":S||(S=N.defaultEncoding),typeof M!="function"&&(M=L),N.ending?function(I,q){var A=new V;F(I,A),i.nextTick(q,A)}(this,M):(j||function(I,q,A,k){var Y;return A===null?Y=new O:typeof A=="string"||q.objectMode||(Y=new g("chunk",["string","Buffer"],A)),!Y||(F(I,Y),i.nextTick(k,Y),!1)}(this,N,w,M))&&(N.pendingcb++,T=function(I,q,A,k,Y,Z){if(!A){var lt=function(Rt,nt,at){return Rt.objectMode||Rt.decodeStrings===!1||typeof nt!="string"||(nt=c.from(nt,at)),nt}(q,k,Y);k!==lt&&(A=!0,Y="buffer",k=lt)}var J=q.objectMode?1:k.length;q.length+=J;var et=q.length<q.highWaterMark;if(et||(q.needDrain=!0),q.writing||q.corked){var Et=q.lastBufferedRequest;q.lastBufferedRequest={chunk:k,encoding:Y,isBuf:A,callback:Z,next:null},Et?Et.next=q.lastBufferedRequest:q.bufferedRequest=q.lastBufferedRequest,q.bufferedRequestCount+=1}else x(I,q,!1,J,k,Y,Z);return et}(this,N,j,w,S,M)),T},W.prototype.cork=function(){this._writableState.corked++},W.prototype.uncork=function(){var w=this._writableState;w.corked&&(w.corked--,w.writing||w.corked||w.bufferProcessing||!w.bufferedRequest||B(this,w))},W.prototype.setDefaultEncoding=function(w){if(typeof w=="string"&&(w=w.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((w+"").toLowerCase())>-1))throw new H(w);return this._writableState.defaultEncoding=w,this},Object.defineProperty(W.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(W.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),W.prototype._write=function(w,S,M){M(new p("_write()"))},W.prototype._writev=null,W.prototype.end=function(w,S,M){var U=this._writableState;return typeof w=="function"?(M=w,w=null,S=null):typeof S=="function"&&(M=S,S=null),w!=null&&this.write(w,S),U.corked&&(U.corked=1,this.uncork()),U.ending||function(N,T,j){T.ending=!0,C(N,T),j&&(T.finished?i.nextTick(j):N.once("finish",j)),T.ended=!0,N.writable=!1}(this,U,M),this},Object.defineProperty(W.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(W.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(w){this._writableState&&(this._writableState.destroyed=w)}}),W.prototype.destroy=h.destroy,W.prototype._undestroy=h.undestroy,W.prototype._destroy=function(w,S){S(w)}}).call(this)}).call(this,e("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(e,t,r){(function(i){(function(){"use strict";var n;function o(E,O,V){return(O=function(H){var F=function(L,$){if(typeof L!="object"||L===null)return L;var W=L[Symbol.toPrimitive];if(W!==void 0){var x=W.call(L,$||"default");if(typeof x!="object")return x;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(L)}(H,"string");return typeof F=="symbol"?F:String(F)}(O))in E?Object.defineProperty(E,O,{value:V,enumerable:!0,configurable:!0,writable:!0}):E[O]=V,E}var s=e("./end-of-stream"),a=Symbol("lastResolve"),l=Symbol("lastReject"),c=Symbol("error"),d=Symbol("ended"),u=Symbol("lastPromise"),h=Symbol("handlePromise"),f=Symbol("stream");function m(E,O){return{value:E,done:O}}function g(E){var O=E[a];if(O!==null){var V=E[f].read();V!==null&&(E[u]=null,E[a]=null,E[l]=null,O(m(V,!1)))}}function p(E){i.nextTick(g,E)}var b=Object.getPrototypeOf(function(){}),_=Object.setPrototypeOf((o(n={get stream(){return this[f]},next:function(){var E=this,O=this[c];if(O!==null)return Promise.reject(O);if(this[d])return Promise.resolve(m(void 0,!0));if(this[f].destroyed)return new Promise(function(L,$){i.nextTick(function(){E[c]?$(E[c]):L(m(void 0,!0))})});var V,H=this[u];if(H)V=new Promise(function(L,$){return function(W,x){L.then(function(){$[d]?W(m(void 0,!0)):$[h](W,x)},x)}}(H,this));else{var F=this[f].read();if(F!==null)return Promise.resolve(m(F,!1));V=new Promise(this[h])}return this[u]=V,V}},Symbol.asyncIterator,function(){return this}),o(n,"return",function(){var E=this;return new Promise(function(O,V){E[f].destroy(null,function(H){H?V(H):O(m(void 0,!0))})})}),n),b);t.exports=function(E){var O,V=Object.create(_,(o(O={},f,{value:E,writable:!0}),o(O,a,{value:null,writable:!0}),o(O,l,{value:null,writable:!0}),o(O,c,{value:null,writable:!0}),o(O,d,{value:E._readableState.endEmitted,writable:!0}),o(O,h,{value:function(H,F){var L=V[f].read();L?(V[u]=null,V[a]=null,V[l]=null,H(m(L,!1))):(V[a]=H,V[l]=F)},writable:!0}),O));return V[u]=null,s(E,function(H){if(H&&H.code!=="ERR_STREAM_PREMATURE_CLOSE"){var F=V[l];return F!==null&&(V[u]=null,V[a]=null,V[l]=null,F(H)),void(V[c]=H)}var L=V[a];L!==null&&(V[u]=null,V[a]=null,V[l]=null,L(m(void 0,!0))),V[d]=!0}),E.on("readable",p.bind(null,V)),V}}).call(this)}).call(this,e("_process"))},{"./end-of-stream":486,_process:467}],484:[function(e,t,r){"use strict";function i(u,h){var f=Object.keys(u);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(u);h&&(m=m.filter(function(g){return Object.getOwnPropertyDescriptor(u,g).enumerable})),f.push.apply(f,m)}return f}function n(u){for(var h=1;h<arguments.length;h++){var f=arguments[h]!=null?arguments[h]:{};h%2?i(Object(f),!0).forEach(function(m){o(u,m,f[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(f)):i(Object(f)).forEach(function(m){Object.defineProperty(u,m,Object.getOwnPropertyDescriptor(f,m))})}return u}function o(u,h,f){return(h=a(h))in u?Object.defineProperty(u,h,{value:f,enumerable:!0,configurable:!0,writable:!0}):u[h]=f,u}function s(u,h){for(var f=0;f<h.length;f++){var m=h[f];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(u,a(m.key),m)}}function a(u){var h=function(f,m){if(typeof f!="object"||f===null)return f;var g=f[Symbol.toPrimitive];if(g!==void 0){var p=g.call(f,m||"default");if(typeof p!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(m==="string"?String:Number)(f)}(u,"string");return typeof h=="symbol"?h:String(h)}var l=e("buffer").Buffer,c=e("util").inspect,d=c&&c.custom||"inspect";t.exports=function(){function u(){(function(g,p){if(!(g instanceof p))throw new TypeError("Cannot call a class as a function")})(this,u),this.head=null,this.tail=null,this.length=0}var h,f,m;return h=u,(f=[{key:"push",value:function(g){var p={data:g,next:null};this.length>0?this.tail.next=p:this.head=p,this.tail=p,++this.length}},{key:"unshift",value:function(g){var p={data:g,next:this.head};this.length===0&&(this.tail=p),this.head=p,++this.length}},{key:"shift",value:function(){if(this.length!==0){var g=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,g}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(g){if(this.length===0)return"";for(var p=this.head,b=""+p.data;p=p.next;)b+=g+p.data;return b}},{key:"concat",value:function(g){if(this.length===0)return l.alloc(0);for(var p,b,_,E=l.allocUnsafe(g>>>0),O=this.head,V=0;O;)p=O.data,b=E,_=V,l.prototype.copy.call(p,b,_),V+=O.data.length,O=O.next;return E}},{key:"consume",value:function(g,p){var b;return g<this.head.data.length?(b=this.head.data.slice(0,g),this.head.data=this.head.data.slice(g)):b=g===this.head.data.length?this.shift():p?this._getString(g):this._getBuffer(g),b}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(g){var p=this.head,b=1,_=p.data;for(g-=_.length;p=p.next;){var E=p.data,O=g>E.length?E.length:g;if(O===E.length?_+=E:_+=E.slice(0,g),(g-=O)==0){O===E.length?(++b,p.next?this.head=p.next:this.head=this.tail=null):(this.head=p,p.data=E.slice(O));break}++b}return this.length-=b,_}},{key:"_getBuffer",value:function(g){var p=l.allocUnsafe(g),b=this.head,_=1;for(b.data.copy(p),g-=b.data.length;b=b.next;){var E=b.data,O=g>E.length?E.length:g;if(E.copy(p,p.length-g,0,O),(g-=O)==0){O===E.length?(++_,b.next?this.head=b.next:this.head=this.tail=null):(this.head=b,b.data=E.slice(O));break}++_}return this.length-=_,p}},{key:d,value:function(g,p){return c(this,n(n({},p),{},{depth:0,customInspect:!1}))}}])&&s(h.prototype,f),m&&s(h,m),Object.defineProperty(h,"prototype",{writable:!1}),u}()},{buffer:220,util:188}],485:[function(e,t,r){(function(i){(function(){"use strict";function n(a,l){s(a,l),o(a)}function o(a){a._writableState&&!a._writableState.emitClose||a._readableState&&!a._readableState.emitClose||a.emit("close")}function s(a,l){a.emit("error",l)}t.exports={destroy:function(a,l){var c=this,d=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return d||u?(l?l(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(s,this,a)):i.nextTick(s,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(h){!l&&h?c._writableState?c._writableState.errorEmitted?i.nextTick(o,c):(c._writableState.errorEmitted=!0,i.nextTick(n,c,h)):i.nextTick(n,c,h):l?(i.nextTick(o,c),l(h)):i.nextTick(o,c)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(a,l){var c=a._readableState,d=a._writableState;c&&c.autoDestroy||d&&d.autoDestroy?a.destroy(l):a.emit("error",l)}}}).call(this)}).call(this,e("_process"))},{_process:467}],486:[function(e,t,r){"use strict";var i=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function n(){}t.exports=function o(s,a,l){if(typeof a=="function")return o(s,null,a);a||(a={}),l=function(E){var O=!1;return function(){if(!O){O=!0;for(var V=arguments.length,H=new Array(V),F=0;F<V;F++)H[F]=arguments[F];E.apply(this,H)}}}(l||n);var c=a.readable||a.readable!==!1&&s.readable,d=a.writable||a.writable!==!1&&s.writable,u=function(){s.writable||f()},h=s._writableState&&s._writableState.finished,f=function(){d=!1,h=!0,c||l.call(s)},m=s._readableState&&s._readableState.endEmitted,g=function(){c=!1,m=!0,d||l.call(s)},p=function(E){l.call(s,E)},b=function(){var E;return c&&!m?(s._readableState&&s._readableState.ended||(E=new i),l.call(s,E)):d&&!h?(s._writableState&&s._writableState.ended||(E=new i),l.call(s,E)):void 0},_=function(){s.req.on("finish",f)};return function(E){return E.setHeader&&typeof E.abort=="function"}(s)?(s.on("complete",f),s.on("abort",b),s.req?_():s.on("request",_)):d&&!s._writableState&&(s.on("end",u),s.on("close",u)),s.on("end",g),s.on("finish",f),a.error!==!1&&s.on("error",p),s.on("close",b),function(){s.removeListener("complete",f),s.removeListener("abort",b),s.removeListener("request",_),s.req&&s.req.removeListener("finish",f),s.removeListener("end",u),s.removeListener("close",u),s.removeListener("finish",f),s.removeListener("end",g),s.removeListener("error",p),s.removeListener("close",b)}}},{"../../../errors":477}],487:[function(e,t,r){"use strict";t.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(e,t,r){"use strict";var i,n=e("../../../errors").codes,o=n.ERR_MISSING_ARGS,s=n.ERR_STREAM_DESTROYED;function a(h){if(h)throw h}function l(h,f,m,g){g=function(_){var E=!1;return function(){E||(E=!0,_.apply(void 0,arguments))}}(g);var p=!1;h.on("close",function(){p=!0}),i===void 0&&(i=e("./end-of-stream")),i(h,{readable:f,writable:m},function(_){if(_)return g(_);p=!0,g()});var b=!1;return function(_){if(!p&&!b)return b=!0,function(E){return E.setHeader&&typeof E.abort=="function"}(h)?h.abort():typeof h.destroy=="function"?h.destroy():void g(_||new s("pipe"))}}function c(h){h()}function d(h,f){return h.pipe(f)}function u(h){return h.length?typeof h[h.length-1]!="function"?a:h.pop():a}t.exports=function(){for(var h=arguments.length,f=new Array(h),m=0;m<h;m++)f[m]=arguments[m];var g,p=u(f);if(Array.isArray(f[0])&&(f=f[0]),f.length<2)throw new o("streams");var b=f.map(function(_,E){var O=E<f.length-1;return l(_,O,E>0,function(V){g||(g=V),V&&b.forEach(c),O||(b.forEach(c),p(g))})});return f.reduce(d)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(e,t,r){"use strict";var i=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(n,o,s,a){var l=function(c,d,u){return c.highWaterMark!=null?c.highWaterMark:d?c[u]:null}(o,a,s);if(l!=null){if(!isFinite(l)||Math.floor(l)!==l||l<0)throw new i(a?s:"highWaterMark",l);return Math.floor(l)}return n.objectMode?16:16384}}},{"../../../errors":477}],490:[function(e,t,r){"use strict";t.exports=e("events").EventEmitter},{events:422}],491:[function(e,t,r){"use strict";(r=t.exports=e("./lib/_stream_readable.js")).Stream=r,r.Readable=r,r.Writable=e("./lib/_stream_writable.js"),r.Duplex=e("./lib/_stream_duplex.js"),r.Transform=e("./lib/_stream_transform.js"),r.PassThrough=e("./lib/_stream_passthrough.js"),r.finished=e("./lib/internal/streams/end-of-stream.js"),r.pipeline=e("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(e,t,r){"use strict";var i=function(n){var o=Object.prototype,s=o.hasOwnProperty,a=Object.defineProperty||function(C,w,S){C[w]=S.value},l=typeof Symbol=="function"?Symbol:{},c=l.iterator||"@@iterator",d=l.asyncIterator||"@@asyncIterator",u=l.toStringTag||"@@toStringTag";function h(C,w,S){return Object.defineProperty(C,w,{value:S,enumerable:!0,configurable:!0,writable:!0}),C[w]}try{h({},"")}catch{h=function(w,S,M){return w[S]=M}}function f(C,w,S,M){var U=w&&w.prototype instanceof p?w:p,N=Object.create(U.prototype),T=new B(M||[]);return a(N,"_invoke",{value:$(C,S,T)}),N}function m(C,w,S){try{return{type:"normal",arg:C.call(w,S)}}catch(M){return{type:"throw",arg:M}}}n.wrap=f;var g={};function p(){}function b(){}function _(){}var E={};h(E,c,function(){return this});var O=Object.getPrototypeOf,V=O&&O(O(v([])));V&&V!==o&&s.call(V,c)&&(E=V);var H=_.prototype=p.prototype=Object.create(E);function F(C){["next","throw","return"].forEach(function(w){h(C,w,function(S){return this._invoke(w,S)})})}function L(C,w){var S;a(this,"_invoke",{value:function(M,U){function N(){return new w(function(T,j){(function I(q,A,k,Y){var Z=m(C[q],C,A);if(Z.type!=="throw"){var lt=Z.arg,J=lt.value;return J&&typeof J=="object"&&s.call(J,"__await")?w.resolve(J.__await).then(function(et){I("next",et,k,Y)},function(et){I("throw",et,k,Y)}):w.resolve(J).then(function(et){lt.value=et,k(lt)},function(et){return I("throw",et,k,Y)})}Y(Z.arg)})(M,U,T,j)})}return S=S?S.then(N,N):N()}})}function $(C,w,S){var M="suspendedStart";return function(U,N){if(M==="executing")throw new Error("Generator is already running");if(M==="completed"){if(U==="throw")throw N;return y()}for(S.method=U,S.arg=N;;){var T=S.delegate;if(T){var j=W(T,S);if(j){if(j===g)continue;return j}}if(S.method==="next")S.sent=S._sent=S.arg;else if(S.method==="throw"){if(M==="suspendedStart")throw M="completed",S.arg;S.dispatchException(S.arg)}else S.method==="return"&&S.abrupt("return",S.arg);M="executing";var I=m(C,w,S);if(I.type==="normal"){if(M=S.done?"completed":"suspendedYield",I.arg===g)continue;return{value:I.arg,done:S.done}}I.type==="throw"&&(M="completed",S.method="throw",S.arg=I.arg)}}}function W(C,w){var S=w.method,M=C.iterator[S];if(M===void 0)return w.delegate=null,S==="throw"&&C.iterator.return&&(w.method="return",w.arg=void 0,W(C,w),w.method==="throw")||S!=="return"&&(w.method="throw",w.arg=new TypeError("The iterator does not provide a '"+S+"' method")),g;var U=m(M,C.iterator,w.arg);if(U.type==="throw")return w.method="throw",w.arg=U.arg,w.delegate=null,g;var N=U.arg;return N?N.done?(w[C.resultName]=N.value,w.next=C.nextLoc,w.method!=="return"&&(w.method="next",w.arg=void 0),w.delegate=null,g):N:(w.method="throw",w.arg=new TypeError("iterator result is not an object"),w.delegate=null,g)}function x(C){var w={tryLoc:C[0]};1 in C&&(w.catchLoc=C[1]),2 in C&&(w.finallyLoc=C[2],w.afterLoc=C[3]),this.tryEntries.push(w)}function R(C){var w=C.completion||{};w.type="normal",delete w.arg,C.completion=w}function B(C){this.tryEntries=[{tryLoc:"root"}],C.forEach(x,this),this.reset(!0)}function v(C){if(C){var w=C[c];if(w)return w.call(C);if(typeof C.next=="function")return C;if(!isNaN(C.length)){var S=-1,M=function U(){for(;++S<C.length;)if(s.call(C,S))return U.value=C[S],U.done=!1,U;return U.value=void 0,U.done=!0,U};return M.next=M}}return{next:y}}function y(){return{value:void 0,done:!0}}return b.prototype=_,a(H,"constructor",{value:_,configurable:!0}),a(_,"constructor",{value:b,configurable:!0}),b.displayName=h(_,u,"GeneratorFunction"),n.isGeneratorFunction=function(C){var w=typeof C=="function"&&C.constructor;return!!w&&(w===b||(w.displayName||w.name)==="GeneratorFunction")},n.mark=function(C){return Object.setPrototypeOf?Object.setPrototypeOf(C,_):(C.__proto__=_,h(C,u,"GeneratorFunction")),C.prototype=Object.create(H),C},n.awrap=function(C){return{__await:C}},F(L.prototype),h(L.prototype,d,function(){return this}),n.AsyncIterator=L,n.async=function(C,w,S,M,U){U===void 0&&(U=Promise);var N=new L(f(C,w,S,M),U);return n.isGeneratorFunction(w)?N:N.next().then(function(T){return T.done?T.value:N.next()})},F(H),h(H,u,"Generator"),h(H,c,function(){return this}),h(H,"toString",function(){return"[object Generator]"}),n.keys=function(C){var w=Object(C),S=[];for(var M in w)S.push(M);return S.reverse(),function U(){for(;S.length;){var N=S.pop();if(N in w)return U.value=N,U.done=!1,U}return U.done=!0,U}},n.values=v,B.prototype={constructor:B,reset:function(C){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(R),!C)for(var w in this)w.charAt(0)==="t"&&s.call(this,w)&&!isNaN(+w.slice(1))&&(this[w]=void 0)},stop:function(){this.done=!0;var C=this.tryEntries[0].completion;if(C.type==="throw")throw C.arg;return this.rval},dispatchException:function(C){if(this.done)throw C;var w=this;function S(I,q){return N.type="throw",N.arg=C,w.next=I,q&&(w.method="next",w.arg=void 0),!!q}for(var M=this.tryEntries.length-1;M>=0;--M){var U=this.tryEntries[M],N=U.completion;if(U.tryLoc==="root")return S("end");if(U.tryLoc<=this.prev){var T=s.call(U,"catchLoc"),j=s.call(U,"finallyLoc");if(T&&j){if(this.prev<U.catchLoc)return S(U.catchLoc,!0);if(this.prev<U.finallyLoc)return S(U.finallyLoc)}else if(T){if(this.prev<U.catchLoc)return S(U.catchLoc,!0)}else{if(!j)throw new Error("try statement without catch or finally");if(this.prev<U.finallyLoc)return S(U.finallyLoc)}}}},abrupt:function(C,w){for(var S=this.tryEntries.length-1;S>=0;--S){var M=this.tryEntries[S];if(M.tryLoc<=this.prev&&s.call(M,"finallyLoc")&&this.prev<M.finallyLoc){var U=M;break}}U&&(C==="break"||C==="continue")&&U.tryLoc<=w&&w<=U.finallyLoc&&(U=null);var N=U?U.completion:{};return N.type=C,N.arg=w,U?(this.method="next",this.next=U.finallyLoc,g):this.complete(N)},complete:function(C,w){if(C.type==="throw")throw C.arg;return C.type==="break"||C.type==="continue"?this.next=C.arg:C.type==="return"?(this.rval=this.arg=C.arg,this.method="return",this.next="end"):C.type==="normal"&&w&&(this.next=w),g},finish:function(C){for(var w=this.tryEntries.length-1;w>=0;--w){var S=this.tryEntries[w];if(S.finallyLoc===C)return this.complete(S.completion,S.afterLoc),R(S),g}},catch:function(C){for(var w=this.tryEntries.length-1;w>=0;--w){var S=this.tryEntries[w];if(S.tryLoc===C){var M=S.completion;if(M.type==="throw"){var U=M.arg;R(S)}return U}}throw new Error("illegal catch attempt")},delegateYield:function(C,w,S){return this.delegate={iterator:v(C),resultName:w,nextLoc:S},this.method==="next"&&(this.arg=void 0),g}},n}(typeof t=="object"?t.exports:{});try{regeneratorRuntime=i}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}},{}],493:[function(e,t,r){"use strict";var i=e("buffer").Buffer,n=e("inherits"),o=e("hash-base"),s=new Array(16),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],l=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],c=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],d=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],u=[0,1518500249,1859775393,2400959708,2840853838],h=[1352829926,1548603684,1836072691,2053994217,0];function f(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function m(O,V){return O<<V|O>>>32-V}function g(O,V,H,F,L,$,W,x){return m(O+(V^H^F)+$+W|0,x)+L|0}function p(O,V,H,F,L,$,W,x){return m(O+(V&H|~V&F)+$+W|0,x)+L|0}function b(O,V,H,F,L,$,W,x){return m(O+((V|~H)^F)+$+W|0,x)+L|0}function _(O,V,H,F,L,$,W,x){return m(O+(V&F|H&~F)+$+W|0,x)+L|0}function E(O,V,H,F,L,$,W,x){return m(O+(V^(H|~F))+$+W|0,x)+L|0}n(f,o),f.prototype._update=function(){for(var O=s,V=0;V<16;++V)O[V]=this._block.readInt32LE(4*V);for(var H=0|this._a,F=0|this._b,L=0|this._c,$=0|this._d,W=0|this._e,x=0|this._a,R=0|this._b,B=0|this._c,v=0|this._d,y=0|this._e,C=0;C<80;C+=1){var w,S;C<16?(w=g(H,F,L,$,W,O[a[C]],u[0],c[C]),S=E(x,R,B,v,y,O[l[C]],h[0],d[C])):C<32?(w=p(H,F,L,$,W,O[a[C]],u[1],c[C]),S=_(x,R,B,v,y,O[l[C]],h[1],d[C])):C<48?(w=b(H,F,L,$,W,O[a[C]],u[2],c[C]),S=b(x,R,B,v,y,O[l[C]],h[2],d[C])):C<64?(w=_(H,F,L,$,W,O[a[C]],u[3],c[C]),S=p(x,R,B,v,y,O[l[C]],h[3],d[C])):(w=E(H,F,L,$,W,O[a[C]],u[4],c[C]),S=g(x,R,B,v,y,O[l[C]],h[4],d[C])),H=W,W=$,$=m(L,10),L=F,F=w,x=y,y=v,v=m(B,10),B=R,R=S}var M=this._b+L+v|0;this._b=this._c+$+y|0,this._c=this._d+W+x|0,this._d=this._e+H+R|0,this._e=this._a+F+B|0,this._a=M},f.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var O=i.alloc?i.alloc(20):new i(20);return O.writeInt32LE(this._a,0),O.writeInt32LE(this._b,4),O.writeInt32LE(this._c,8),O.writeInt32LE(this._d,12),O.writeInt32LE(this._e,16),O},t.exports=f},{buffer:220,"hash-base":425,inherits:440}],494:[function(e,t,r){"use strict";var i=e("buffer"),n=i.Buffer;function o(a,l){for(var c in a)l[c]=a[c]}function s(a,l,c){return n(a,l,c)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=i:(o(i,r),r.Buffer=s),s.prototype=Object.create(n.prototype),o(n,s),s.from=function(a,l,c){if(typeof a=="number")throw new TypeError("Argument must not be a number");return n(a,l,c)},s.alloc=function(a,l,c){if(typeof a!="number")throw new TypeError("Argument must be a number");var d=n(a);return l!==void 0?typeof c=="string"?d.fill(l,c):d.fill(l):d.fill(0),d},s.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return n(a)},s.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return i.SlowBuffer(a)}},{buffer:220}],495:[function(e,t,r){(function(i){(function(){"use strict";var n,o=e("buffer"),s=o.Buffer,a={};for(n in o)o.hasOwnProperty(n)&&n!=="SlowBuffer"&&n!=="Buffer"&&(a[n]=o[n]);var l=a.Buffer={};for(n in s)s.hasOwnProperty(n)&&n!=="allocUnsafe"&&n!=="allocUnsafeSlow"&&(l[n]=s[n]);if(a.Buffer.prototype=s.prototype,l.from&&l.from!==Uint8Array.from||(l.from=function(c,d,u){if(typeof c=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof c);if(c&&c.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof c);return s(c,d,u)}),l.alloc||(l.alloc=function(c,d,u){if(typeof c!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof c);if(c<0||c>=2*(1<<30))throw new RangeError('The value "'+c+'" is invalid for option "size"');var h=s(c);return d&&d.length!==0?typeof u=="string"?h.fill(d,u):h.fill(d):h.fill(0),h}),!a.kStringMaxLength)try{a.kStringMaxLength=i.binding("buffer").kStringMaxLength}catch{}a.constants||(a.constants={MAX_LENGTH:a.kMaxLength},a.kStringMaxLength&&(a.constants.MAX_STRING_LENGTH=a.kStringMaxLength)),t.exports=a}).call(this)}).call(this,e("_process"))},{_process:467,buffer:220}],496:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});let i=e("xmlchars/xml/1.0/ed5"),n=e("xmlchars/xml/1.1/ed2"),o=e("xmlchars/xmlns/1.0/ed3");var s=i.isS,a=i.isChar,l=i.isNameStartChar,c=i.isNameChar,d=i.S_LIST,u=i.NAME_RE,h=n.isChar,f=o.isNCNameStartChar,m=o.isNCNameChar,g=o.NC_NAME_RE;let p="http://www.w3.org/XML/1998/namespace",b="http://www.w3.org/2000/xmlns/",_={__proto__:null,xml:p,xmlns:b},E={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},O=v=>v===34||v===39,V=[34,39],H=[...V,91,62],F=[...V,60,93],L=[61,63,...d],$=[...d,62,38,60];function W(v,y,C){switch(y){case"xml":C!==p&&v.fail(`xml prefix must be bound to ${p}.`);break;case"xmlns":C!==b&&v.fail(`xmlns prefix must be bound to ${b}.`)}switch(C){case b:v.fail(y===""?`the default namespace may not be set to ${C}.`:`may not assign a prefix (even "xmlns") to the URI ${b}.`);break;case p:switch(y){case"xml":break;case"":v.fail(`the default namespace may not be set to ${C}.`);break;default:v.fail("may not assign the xml namespace to another prefix.")}}}let x=v=>g.test(v),R=v=>u.test(v);r.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];let B={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};r.SaxesParser=class{constructor(v){this.opt=v??{},this.fragmentOpt=!!this.opt.fragment;let y=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,y){this.nameStartCheck=f,this.nameCheck=m,this.isName=x,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},_);let C=this.opt.additionalNamespaces;C!=null&&(function(w,S){for(let M of Object.keys(S))W(w,M,S[M])}(this,C),Object.assign(this.ns,C))}else this.nameStartCheck=l,this.nameCheck=c,this.isName=R,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var v;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];let{fragmentOpt:y}=this;this.state=y?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=y,this.xmlDeclPossible=!y,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:C}=this.opt;if(C===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");C="1.0"}this.setXMLVersion(C),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(E),(v=this.readyHandler)===null||v===void 0||v.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(v,y){this[B[v]]=y}off(v){this[B[v]]=void 0}makeError(v){var y;let C=(y=this.fileName)!==null&&y!==void 0?y:"";return this.trackPosition&&(C.length>0&&(C+=":"),C+=`${this.line}:${this.column}`),C.length>0&&(C+=": "),new Error(C+v)}fail(v){let y=this.makeError(v),C=this.errorHandler;if(C===void 0)throw y;return C(y),this}write(v){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let y=!1;v===null?(y=!0,v=""):typeof v=="object"&&(v=v.toString()),this.carriedFromPrevious!==void 0&&(v=`${this.carriedFromPrevious}${v}`,this.carriedFromPrevious=void 0);let C=v.length,w=v.charCodeAt(C-1);!y&&(w===13||w>=55296&&w<=56319)&&(this.carriedFromPrevious=v[C-1],C--,v=v.slice(0,C));let{stateTable:S}=this;for(this.chunk=v,this.i=0;this.i<C;)S[this.state].call(this);return this.chunkPosition+=C,y?this.end():this}close(){return this.write(null)}getCode10(){let{chunk:v,i:y}=this;if(this.prevI=y,this.i=y+1,y>=v.length)return-1;let C=v.charCodeAt(y);if(this.column++,C<55296){if(C>=32||C===9)return C;switch(C){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return v.charCodeAt(y+1)===10&&(this.i=y+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),C}}if(C>56319)return C>=57344&&C<=65533||this.fail("disallowed character."),C;let w=65536+1024*(C-55296)+(v.charCodeAt(y+1)-56320);return this.i=y+2,w>1114111&&this.fail("disallowed character."),w}getCode11(){let{chunk:v,i:y}=this;if(this.prevI=y,this.i=y+1,y>=v.length)return-1;let C=v.charCodeAt(y);if(this.column++,C<55296){if(C>31&&C<127||C>159&&C!==8232||C===9)return C;switch(C){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{let S=v.charCodeAt(y+1);S!==10&&S!==133||(this.i=y+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),C}}if(C>56319)return C>=57344&&C<=65533||this.fail("disallowed character."),C;let w=65536+1024*(C-55296)+(v.charCodeAt(y+1)-56320);return this.i=y+2,w>1114111&&this.fail("disallowed character."),w}getCodeNorm(){let v=this.getCode();return v===-2?10:v}unget(){this.i=this.prevI,this.column--}captureTo(v){let{i:y}=this,{chunk:C}=this;for(;;){let w=this.getCode(),S=w===-2,M=S?10:w;if(M===-1||v.includes(M))return this.text+=C.slice(y,this.prevI),M;S&&(this.text+=C.slice(y,this.prevI)+`
`,y=this.i)}}captureToChar(v){let{i:y}=this,{chunk:C}=this;for(;;){let w=this.getCode();switch(w){case-2:this.text+=C.slice(y,this.prevI)+`
`,y=this.i,w=10;break;case-1:return this.text+=C.slice(y),!1}if(w===v)return this.text+=C.slice(y,this.prevI),!0}}captureNameChars(){let{chunk:v,i:y}=this;for(;;){let C=this.getCode();if(C===-1)return this.name+=v.slice(y),-1;if(!c(C))return this.name+=v.slice(y,this.prevI),C===-2?10:C}}skipSpaces(){for(;;){let v=this.getCodeNorm();if(v===-1||!s(v))return v}}setXMLVersion(v){this.currentXMLVersion=v,v==="1.0"?(this.isChar=a,this.getCode=this.getCode10):(this.isChar=h,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){let v=this.i,y=this.skipSpaces();switch(this.prevI!==v&&(this.xmlDeclPossible=!1),y){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var v;let y=this.captureTo(H);switch(y){case 62:(v=this.doctypeHandler)===null||v===void 0||v.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(y),y===91?this.state=4:O(y)&&(this.state=3,this.q=y)}}sDoctypeQuote(){let v=this.q;this.captureToChar(v)&&(this.text+=String.fromCodePoint(v),this.q=null,this.state=2)}sDTD(){let v=this.captureTo(F);v!==-1&&(this.text+=String.fromCodePoint(v),v===93?this.state=2:v===60?this.state=6:O(v)&&(this.state=5,this.q=v))}sDTDQuoted(){let v=this.q;this.captureToChar(v)&&(this.text+=String.fromCodePoint(v),this.state=4,this.q=null)}sDTDOpenWaka(){let v=this.getCodeNorm();switch(this.text+=String.fromCodePoint(v),v){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){let v=String.fromCodePoint(this.getCodeNorm()),y=this.openWakaBang+=v;this.text+=v,y!=="-"&&(this.state=y==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){let v=this.getCodeNorm();this.text+=String.fromCodePoint(v),this.state=v===45?10:8}sDTDCommentEnded(){let v=this.getCodeNorm();this.text+=String.fromCodePoint(v),v===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){let v=this.getCodeNorm();this.text+=String.fromCodePoint(v),v===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:v}=this,{chunk:y}=this;t:for(;;)switch(this.getCode()){case-2:this.entity+=y.slice(v,this.prevI)+`
`,v=this.i;break;case 59:{let{entityReturnState:C}=this,w=this.entity+y.slice(v,this.prevI),S;this.state=C,w===""?(this.fail("empty entity name."),S="&;"):(S=this.parseEntity(w),this.entity=""),C===13&&this.textHandler===void 0||(this.text+=S);break t}case-1:this.entity+=y.slice(v);break t}}sOpenWaka(){let v=this.getCode();if(l(v))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(v){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var v;let y=this.getCodeNorm();y===45?(this.state=19,(v=this.commentHandler)===null||v===void 0||v.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(y),this.state=17)}sCommentEnded(){let v=this.getCodeNorm();v!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(v),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){let v=this.getCodeNorm();v===93?this.state=22:(this.text+="]"+String.fromCodePoint(v),this.state=20)}sCDataEnding2(){var v;let y=this.getCodeNorm();switch(y){case 62:(v=this.cdataHandler)===null||v===void 0||v.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(y),this.state=20}}sPIFirstChar(){let v=this.getCodeNorm();this.nameStartCheck(v)?(this.piTarget+=String.fromCodePoint(v),this.state=24):v===63||s(v)?(this.fail("processing instruction without a target."),this.state=v===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(v),this.state=24)}sPIRest(){let{chunk:v,i:y}=this;for(;;){let C=this.getCodeNorm();if(C===-1)return void(this.piTarget+=v.slice(y));if(!this.nameCheck(C)){this.piTarget+=v.slice(y,this.prevI);let w=C===63;w||s(C)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=w?33:27):this.state=w?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(C));break}}}sPIBody(){if(this.text.length===0){let v=this.getCodeNorm();v===63?this.state=26:s(v)||(this.text=String.fromCodePoint(v))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var v;let y=this.getCodeNorm();if(y===62){let{piTarget:C}=this;C.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(v=this.piHandler)===null||v===void 0||v.call(this,{target:C,body:this.text}),this.piTarget=this.text="",this.state=13}else y===63?this.text+="?":(this.text+="?"+String.fromCodePoint(y),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){let v=this.skipSpaces();v!==63?v!==-1&&(this.state=28,this.name=String.fromCodePoint(v)):this.state=33}sXMLDeclName(){let v=this.captureTo(L);if(v===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(s(v)||v===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=v===61?30:29}}sXMLDeclEq(){let v=this.getCodeNorm();if(v===63)return this.state=33,void this.fail("XML declaration is incomplete.");s(v)||(v!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){let v=this.getCodeNorm();if(v===63)return this.state=33,void this.fail("XML declaration is incomplete.");s(v)||(O(v)?this.q=v:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){let v=this.captureTo([this.q,63]);if(v===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(v===-1)return;let y=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];let C=y;this.xmlDecl.version=C,/^1\.[0-9]+$/.test(C)?this.opt.forceXMLVersion||this.setXMLVersion(C):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(y)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=y;break;case"standalone":y!=="yes"&&y!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=y}this.name="",this.state=32}sXMLDeclSeparator(){let v=this.getCodeNorm();v!==63?(s(v)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var v;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(v=this.xmldeclHandler)===null||v===void 0||v.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var v;let y=this.captureNameChars();if(y===-1)return;let C=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=C.ns=Object.create(null)),(v=this.openTagStartHandler)===null||v===void 0||v.call(this,C),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),y){case 62:this.openTag();break;case 47:this.state=35;break;default:s(y)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){let v=this.skipSpaces();v!==-1&&(l(v)?(this.unget(),this.state=37):v===62?this.openTag():v===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){let v=this.captureNameChars();v===61?this.state=39:s(v)?this.state=38:v===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):v!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){let v=this.skipSpaces();switch(v){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",v===62?this.openTag():l(v)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){let v=this.getCodeNorm();O(v)?(this.q=v,this.state=40):s(v)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){let{q:v,chunk:y}=this,{i:C}=this;for(;;)switch(this.getCode()){case v:return this.pushAttrib(this.name,this.text+y.slice(C,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=y.slice(C,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=y.slice(C,this.prevI)+" ",C=this.i;break;case 60:return this.text+=y.slice(C,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=y.slice(C))}}sAttribValueClosed(){let v=this.getCodeNorm();s(v)?this.state=36:v===62?this.openTag():v===47?this.state=35:l(v)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){let v=this.captureTo($);switch(v){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",v===62?this.openTag():this.state=36}}sCloseTag(){let v=this.captureNameChars();v===62?this.closeTag():s(v)?this.state=44:v!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:v,forbiddenState:y}=this,{chunk:C,textHandler:w}=this;t:for(;;)switch(this.getCode()){case 60:if(this.state=15,w!==void 0){let{text:S}=this,M=C.slice(v,this.prevI);S.length!==0?(w(S+M),this.text=""):M.length!==0&&w(M)}y=0;break t;case 38:this.state=14,this.entityReturnState=13,w!==void 0&&(this.text+=C.slice(v,this.prevI)),y=0;break t;case 93:switch(y){case 0:y=1;break;case 1:y=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:y===2&&this.fail('the string "]]>" is disallowed in char data.'),y=0;break;case-2:w!==void 0&&(this.text+=C.slice(v,this.prevI)+`
`),v=this.i,y=0;break;case-1:w!==void 0&&(this.text+=C.slice(v));break t;default:y=0}this.forbiddenState=y}handleTextOutsideRoot(){let{i:v}=this,{chunk:y,textHandler:C}=this,w=!1;t:for(;;){let S=this.getCode();switch(S){case 60:if(this.state=15,C!==void 0){let{text:M}=this,U=y.slice(v,this.prevI);M.length!==0?(C(M+U),this.text=""):U.length!==0&&C(U)}break t;case 38:this.state=14,this.entityReturnState=13,C!==void 0&&(this.text+=y.slice(v,this.prevI)),w=!0;break t;case-2:C!==void 0&&(this.text+=y.slice(v,this.prevI)+`
`),v=this.i;break;case-1:C!==void 0&&(this.text+=y.slice(v));break t;default:s(S)||(w=!0)}}w&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(v,y){var C;let{prefix:w,local:S}=this.qname(v),M={name:v,prefix:w,local:S,value:y};if(this.attribList.push(M),(C=this.attributeHandler)===null||C===void 0||C.call(this,M),w==="xmlns"){let U=y.trim();this.currentXMLVersion==="1.0"&&U===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[S]=U,W(this,S,U)}else if(v==="xmlns"){let U=y.trim();this.topNS[""]=U,W(this,"",U)}}pushAttribPlain(v,y){var C;let w={name:v,value:y};this.attribList.push(w),(C=this.attributeHandler)===null||C===void 0||C.call(this,w)}end(){var v,y;this.sawRoot||this.fail("document must contain a root element.");let{tags:C}=this;for(;C.length>0;){let S=C.pop();this.fail("unclosed tag: "+S.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");let{text:w}=this;return w.length!==0&&((v=this.textHandler)===null||v===void 0||v.call(this,w),this.text=""),this._closed=!0,(y=this.endHandler)===null||y===void 0||y.call(this),this._init(),this}resolve(v){var y,C;let w=this.topNS[v];if(w!==void 0)return w;let{tags:S}=this;for(let M=S.length-1;M>=0;M--)if(w=S[M].ns[v],w!==void 0)return w;return w=this.ns[v],w!==void 0?w:(C=(y=this.opt).resolvePrefix)===null||C===void 0?void 0:C.call(y,v)}qname(v){let y=v.indexOf(":");if(y===-1)return{prefix:"",local:v};let C=v.slice(y+1),w=v.slice(0,y);return(w===""||C===""||C.includes(":"))&&this.fail(`malformed name: ${v}.`),{prefix:w,local:C}}processAttribsNS(){var v;let{attribList:y}=this,C=this.tag;{let{prefix:M,local:U}=this.qname(C.name);C.prefix=M,C.local=U;let N=C.uri=(v=this.resolve(M))!==null&&v!==void 0?v:"";M!==""&&(M==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),N===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(M)}.`),C.uri=M))}if(y.length===0)return;let{attributes:w}=C,S=new Set;for(let M of y){let{name:U,prefix:N,local:T}=M,j,I;N===""?(j=U==="xmlns"?b:"",I=U):(j=this.resolve(N),j===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(N)}.`),j=N),I=`{${j}}${T}`),S.has(I)&&this.fail(`duplicate attribute: ${I}.`),S.add(I),M.uri=j,w[U]=M}this.attribList=[]}processAttribsPlain(){let{attribList:v}=this,y=this.tag.attributes;for(let{name:C,value:w}of v)y[C]!==void 0&&this.fail(`duplicate attribute: ${C}.`),y[C]=w;this.attribList=[]}openTag(){var v;this.processAttribs();let{tags:y}=this,C=this.tag;C.isSelfClosing=!1,(v=this.openTagHandler)===null||v===void 0||v.call(this,C),y.push(C),this.state=13,this.name=""}openSelfClosingTag(){var v,y,C;this.processAttribs();let{tags:w}=this,S=this.tag;S.isSelfClosing=!0,(v=this.openTagHandler)===null||v===void 0||v.call(this,S),(y=this.closeTagHandler)===null||y===void 0||y.call(this,S),(this.tag=(C=w[w.length-1])!==null&&C!==void 0?C:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){let{tags:v,name:y}=this;if(this.state=13,this.name="",y==="")return this.fail("weird empty close tag."),void(this.text+="</>");let C=this.closeTagHandler,w=v.length;for(;w-- >0;){let S=this.tag=v.pop();if(this.topNS=S.ns,C?.(S),S.name===y)break;this.fail("unexpected close tag.")}w===0?this.closedRoot=!0:w<0&&(this.fail(`unmatched closing tag: ${y}.`),this.text+=`</${y}>`)}parseEntity(v){if(v[0]!=="#"){let C=this.ENTITIES[v];return C!==void 0?C:(this.fail(this.isName(v)?"undefined entity.":"disallowed character in entity name."),`&${v};`)}let y=NaN;return v[1]==="x"&&/^#x[0-9a-f]+$/i.test(v)?y=parseInt(v.slice(2),16):/^#[0-9]+$/.test(v)&&(y=parseInt(v.slice(1),10)),this.isChar(y)?String.fromCodePoint(y):(this.fail("malformed character entity."),`&${v};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(e,t,r){"use strict";var i=e("safe-buffer").Buffer;function n(o,s){this._block=i.alloc(o),this._finalSize=s,this._blockSize=o,this._len=0}n.prototype.update=function(o,s){typeof o=="string"&&(s=s||"utf8",o=i.from(o,s));for(var a=this._block,l=this._blockSize,c=o.length,d=this._len,u=0;u<c;){for(var h=d%l,f=Math.min(c-u,l-h),m=0;m<f;m++)a[h+m]=o[u+m];u+=f,(d+=f)%l==0&&this._update(a)}return this._len+=c,this},n.prototype.digest=function(o){var s=this._len%this._blockSize;this._block[s]=128,this._block.fill(0,s+1),s>=this._finalSize&&(this._update(this._block),this._block.fill(0));var a=8*this._len;if(a<=4294967295)this._block.writeUInt32BE(a,this._blockSize-4);else{var l=(4294967295&a)>>>0,c=(a-l)/4294967296;this._block.writeUInt32BE(c,this._blockSize-8),this._block.writeUInt32BE(l,this._blockSize-4)}this._update(this._block);var d=this._hash();return o?d.toString(o):d},n.prototype._update=function(){throw new Error("_update must be implemented by subclass")},t.exports=n},{"safe-buffer":494}],498:[function(e,t,r){"use strict";var i=t.exports=function(n){n=n.toLowerCase();var o=i[n];if(!o)throw new Error(n+" is not supported (we accept pull requests)");return new o};i.sha=e("./sha"),i.sha1=e("./sha1"),i.sha224=e("./sha224"),i.sha256=e("./sha256"),i.sha384=e("./sha384"),i.sha512=e("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(e,t,r){"use strict";var i=e("inherits"),n=e("./hash"),o=e("safe-buffer").Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function l(){this.init(),this._w=a,n.call(this,64,56)}function c(u){return u<<30|u>>>2}function d(u,h,f,m){return u===0?h&f|~h&m:u===2?h&f|h&m|f&m:h^f^m}i(l,n),l.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},l.prototype._update=function(u){for(var h,f=this._w,m=0|this._a,g=0|this._b,p=0|this._c,b=0|this._d,_=0|this._e,E=0;E<16;++E)f[E]=u.readInt32BE(4*E);for(;E<80;++E)f[E]=f[E-3]^f[E-8]^f[E-14]^f[E-16];for(var O=0;O<80;++O){var V=~~(O/20),H=0|((h=m)<<5|h>>>27)+d(V,g,p,b)+_+f[O]+s[V];_=b,b=p,p=c(g),g=m,m=H}this._a=m+this._a|0,this._b=g+this._b|0,this._c=p+this._c|0,this._d=b+this._d|0,this._e=_+this._e|0},l.prototype._hash=function(){var u=o.allocUnsafe(20);return u.writeInt32BE(0|this._a,0),u.writeInt32BE(0|this._b,4),u.writeInt32BE(0|this._c,8),u.writeInt32BE(0|this._d,12),u.writeInt32BE(0|this._e,16),u},t.exports=l},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(e,t,r){"use strict";var i=e("inherits"),n=e("./hash"),o=e("safe-buffer").Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function l(){this.init(),this._w=a,n.call(this,64,56)}function c(h){return h<<5|h>>>27}function d(h){return h<<30|h>>>2}function u(h,f,m,g){return h===0?f&m|~f&g:h===2?f&m|f&g|m&g:f^m^g}i(l,n),l.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},l.prototype._update=function(h){for(var f,m=this._w,g=0|this._a,p=0|this._b,b=0|this._c,_=0|this._d,E=0|this._e,O=0;O<16;++O)m[O]=h.readInt32BE(4*O);for(;O<80;++O)m[O]=(f=m[O-3]^m[O-8]^m[O-14]^m[O-16])<<1|f>>>31;for(var V=0;V<80;++V){var H=~~(V/20),F=c(g)+u(H,p,b,_)+E+m[V]+s[H]|0;E=_,_=b,b=d(p),p=g,g=F}this._a=g+this._a|0,this._b=p+this._b|0,this._c=b+this._c|0,this._d=_+this._d|0,this._e=E+this._e|0},l.prototype._hash=function(){var h=o.allocUnsafe(20);return h.writeInt32BE(0|this._a,0),h.writeInt32BE(0|this._b,4),h.writeInt32BE(0|this._c,8),h.writeInt32BE(0|this._d,12),h.writeInt32BE(0|this._e,16),h},t.exports=l},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(e,t,r){"use strict";var i=e("inherits"),n=e("./sha256"),o=e("./hash"),s=e("safe-buffer").Buffer,a=new Array(64);function l(){this.init(),this._w=a,o.call(this,64,56)}i(l,n),l.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},l.prototype._hash=function(){var c=s.allocUnsafe(28);return c.writeInt32BE(this._a,0),c.writeInt32BE(this._b,4),c.writeInt32BE(this._c,8),c.writeInt32BE(this._d,12),c.writeInt32BE(this._e,16),c.writeInt32BE(this._f,20),c.writeInt32BE(this._g,24),c},t.exports=l},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(e,t,r){"use strict";var i=e("inherits"),n=e("./hash"),o=e("safe-buffer").Buffer,s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);function l(){this.init(),this._w=a,n.call(this,64,56)}function c(m,g,p){return p^m&(g^p)}function d(m,g,p){return m&g|p&(m|g)}function u(m){return(m>>>2|m<<30)^(m>>>13|m<<19)^(m>>>22|m<<10)}function h(m){return(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7)}function f(m){return(m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3}i(l,n),l.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},l.prototype._update=function(m){for(var g,p=this._w,b=0|this._a,_=0|this._b,E=0|this._c,O=0|this._d,V=0|this._e,H=0|this._f,F=0|this._g,L=0|this._h,$=0;$<16;++$)p[$]=m.readInt32BE(4*$);for(;$<64;++$)p[$]=0|(((g=p[$-2])>>>17|g<<15)^(g>>>19|g<<13)^g>>>10)+p[$-7]+f(p[$-15])+p[$-16];for(var W=0;W<64;++W){var x=L+h(V)+c(V,H,F)+s[W]+p[W]|0,R=u(b)+d(b,_,E)|0;L=F,F=H,H=V,V=O+x|0,O=E,E=_,_=b,b=x+R|0}this._a=b+this._a|0,this._b=_+this._b|0,this._c=E+this._c|0,this._d=O+this._d|0,this._e=V+this._e|0,this._f=H+this._f|0,this._g=F+this._g|0,this._h=L+this._h|0},l.prototype._hash=function(){var m=o.allocUnsafe(32);return m.writeInt32BE(this._a,0),m.writeInt32BE(this._b,4),m.writeInt32BE(this._c,8),m.writeInt32BE(this._d,12),m.writeInt32BE(this._e,16),m.writeInt32BE(this._f,20),m.writeInt32BE(this._g,24),m.writeInt32BE(this._h,28),m},t.exports=l},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(e,t,r){"use strict";var i=e("inherits"),n=e("./sha512"),o=e("./hash"),s=e("safe-buffer").Buffer,a=new Array(160);function l(){this.init(),this._w=a,o.call(this,128,112)}i(l,n),l.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},l.prototype._hash=function(){var c=s.allocUnsafe(48);function d(u,h,f){c.writeInt32BE(u,f),c.writeInt32BE(h,f+4)}return d(this._ah,this._al,0),d(this._bh,this._bl,8),d(this._ch,this._cl,16),d(this._dh,this._dl,24),d(this._eh,this._el,32),d(this._fh,this._fl,40),c},t.exports=l},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(e,t,r){"use strict";var i=e("inherits"),n=e("./hash"),o=e("safe-buffer").Buffer,s=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=new Array(160);function l(){this.init(),this._w=a,n.call(this,128,112)}function c(_,E,O){return O^_&(E^O)}function d(_,E,O){return _&E|O&(_|E)}function u(_,E){return(_>>>28|E<<4)^(E>>>2|_<<30)^(E>>>7|_<<25)}function h(_,E){return(_>>>14|E<<18)^(_>>>18|E<<14)^(E>>>9|_<<23)}function f(_,E){return(_>>>1|E<<31)^(_>>>8|E<<24)^_>>>7}function m(_,E){return(_>>>1|E<<31)^(_>>>8|E<<24)^(_>>>7|E<<25)}function g(_,E){return(_>>>19|E<<13)^(E>>>29|_<<3)^_>>>6}function p(_,E){return(_>>>19|E<<13)^(E>>>29|_<<3)^(_>>>6|E<<26)}function b(_,E){return _>>>0<E>>>0?1:0}i(l,n),l.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},l.prototype._update=function(_){for(var E=this._w,O=0|this._ah,V=0|this._bh,H=0|this._ch,F=0|this._dh,L=0|this._eh,$=0|this._fh,W=0|this._gh,x=0|this._hh,R=0|this._al,B=0|this._bl,v=0|this._cl,y=0|this._dl,C=0|this._el,w=0|this._fl,S=0|this._gl,M=0|this._hl,U=0;U<32;U+=2)E[U]=_.readInt32BE(4*U),E[U+1]=_.readInt32BE(4*U+4);for(;U<160;U+=2){var N=E[U-30],T=E[U-30+1],j=f(N,T),I=m(T,N),q=g(N=E[U-4],T=E[U-4+1]),A=p(T,N),k=E[U-14],Y=E[U-14+1],Z=E[U-32],lt=E[U-32+1],J=I+Y|0,et=j+k+b(J,I)|0;et=(et=et+q+b(J=J+A|0,A)|0)+Z+b(J=J+lt|0,lt)|0,E[U]=et,E[U+1]=J}for(var Et=0;Et<160;Et+=2){et=E[Et],J=E[Et+1];var Rt=d(O,V,H),nt=d(R,B,v),at=u(O,R),Ct=u(R,O),tt=h(L,C),it=h(C,L),ct=s[Et],mt=s[Et+1],bt=c(L,$,W),St=c(C,w,S),wt=M+it|0,At=x+tt+b(wt,M)|0;At=(At=(At=At+bt+b(wt=wt+St|0,St)|0)+ct+b(wt=wt+mt|0,mt)|0)+et+b(wt=wt+J|0,J)|0;var kt=Ct+nt|0,Mt=at+Rt+b(kt,Ct)|0;x=W,M=S,W=$,S=w,$=L,w=C,L=F+At+b(C=y+wt|0,y)|0,F=H,y=v,H=V,v=B,V=O,B=R,O=At+Mt+b(R=wt+kt|0,wt)|0}this._al=this._al+R|0,this._bl=this._bl+B|0,this._cl=this._cl+v|0,this._dl=this._dl+y|0,this._el=this._el+C|0,this._fl=this._fl+w|0,this._gl=this._gl+S|0,this._hl=this._hl+M|0,this._ah=this._ah+O+b(this._al,R)|0,this._bh=this._bh+V+b(this._bl,B)|0,this._ch=this._ch+H+b(this._cl,v)|0,this._dh=this._dh+F+b(this._dl,y)|0,this._eh=this._eh+L+b(this._el,C)|0,this._fh=this._fh+$+b(this._fl,w)|0,this._gh=this._gh+W+b(this._gl,S)|0,this._hh=this._hh+x+b(this._hl,M)|0},l.prototype._hash=function(){var _=o.allocUnsafe(64);function E(O,V,H){_.writeInt32BE(O,H),_.writeInt32BE(V,H+4)}return E(this._ah,this._al,0),E(this._bh,this._bl,8),E(this._ch,this._cl,16),E(this._dh,this._dl,24),E(this._eh,this._el,32),E(this._fh,this._fl,40),E(this._gh,this._gl,48),E(this._hh,this._hl,56),_},t.exports=l},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(e,t,r){"use strict";t.exports=n;var i=e("events").EventEmitter;function n(){i.call(this)}e("inherits")(n,i),n.Readable=e("readable-stream/readable.js"),n.Writable=e("readable-stream/writable.js"),n.Duplex=e("readable-stream/duplex.js"),n.Transform=e("readable-stream/transform.js"),n.PassThrough=e("readable-stream/passthrough.js"),n.Stream=n,n.prototype.pipe=function(o,s){var a=this;function l(g){o.writable&&o.write(g)===!1&&a.pause&&a.pause()}function c(){a.readable&&a.resume&&a.resume()}a.on("data",l),o.on("drain",c),o._isStdio||s&&s.end===!1||(a.on("end",u),a.on("close",h));var d=!1;function u(){d||(d=!0,o.end())}function h(){d||(d=!0,typeof o.destroy=="function"&&o.destroy())}function f(g){if(m(),i.listenerCount(this,"error")===0)throw g}function m(){a.removeListener("data",l),o.removeListener("drain",c),a.removeListener("end",u),a.removeListener("close",h),a.removeListener("error",f),o.removeListener("error",f),a.removeListener("end",m),a.removeListener("close",m),o.removeListener("close",m)}return a.on("error",f),o.on("error",f),a.on("end",m),a.on("close",m),o.on("close",m),o.emit("pipe",a),o}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(e,t,r){"use strict";var i={}.toString;t.exports=Array.isArray||function(n){return i.call(n)=="[object Array]"}},{}],507:[function(e,t,r){"use strict";t.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(e,t,r){"use strict";var i=e("process-nextick-args"),n=Object.keys||function(m){var g=[];for(var p in m)g.push(p);return g};t.exports=u;var o=Object.create(e("core-util-is"));o.inherits=e("inherits");var s=e("./_stream_readable"),a=e("./_stream_writable");o.inherits(u,s);for(var l=n(a.prototype),c=0;c<l.length;c++){var d=l[c];u.prototype[d]||(u.prototype[d]=a.prototype[d])}function u(m){if(!(this instanceof u))return new u(m);s.call(this,m),a.call(this,m),m&&m.readable===!1&&(this.readable=!1),m&&m.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,m&&m.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||i.nextTick(f,this)}function f(m){m.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(m){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=m,this._writableState.destroyed=m)}}),u.prototype._destroy=function(m,g){this.push(null),this.end(),i.nextTick(g,m)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(e,t,r){"use strict";t.exports=o;var i=e("./_stream_transform"),n=Object.create(e("core-util-is"));function o(s){if(!(this instanceof o))return new o(s);i.call(this,s)}n.inherits=e("inherits"),n.inherits(o,i),o.prototype._transform=function(s,a,l){l(null,s)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(e,t,r){(function(i,n){(function(){"use strict";var o=e("process-nextick-args");t.exports=O;var s,a=e("isarray");O.ReadableState=E,e("events").EventEmitter;var l=function(M,U){return M.listeners(U).length},c=e("./internal/streams/stream"),d=e("safe-buffer").Buffer,u=(n!==void 0?n:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},h=Object.create(e("core-util-is"));h.inherits=e("inherits");var f=e("util"),m=void 0;m=f&&f.debuglog?f.debuglog("stream"):function(){};var g,p=e("./internal/streams/BufferList"),b=e("./internal/streams/destroy");h.inherits(O,c);var _=["error","close","destroy","pause","resume"];function E(M,U){M=M||{};var N=U instanceof(s=s||e("./_stream_duplex"));this.objectMode=!!M.objectMode,N&&(this.objectMode=this.objectMode||!!M.readableObjectMode);var T=M.highWaterMark,j=M.readableHighWaterMark,I=this.objectMode?16:16384;this.highWaterMark=T||T===0?T:N&&(j||j===0)?j:I,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=M.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,M.encoding&&(g||(g=e("string_decoder/").StringDecoder),this.decoder=new g(M.encoding),this.encoding=M.encoding)}function O(M){if(s=s||e("./_stream_duplex"),!(this instanceof O))return new O(M);this._readableState=new E(M,this),this.readable=!0,M&&(typeof M.read=="function"&&(this._read=M.read),typeof M.destroy=="function"&&(this._destroy=M.destroy)),c.call(this)}function V(M,U,N,T,j){var I,q=M._readableState;return U===null?(q.reading=!1,function(A,k){if(!k.ended){if(k.decoder){var Y=k.decoder.end();Y&&Y.length&&(k.buffer.push(Y),k.length+=k.objectMode?1:Y.length)}k.ended=!0,L(A)}}(M,q)):(j||(I=function(A,k){var Y;Z=k,d.isBuffer(Z)||Z instanceof u||typeof k=="string"||k===void 0||A.objectMode||(Y=new TypeError("Invalid non-string/buffer chunk"));var Z;return Y}(q,U)),I?M.emit("error",I):q.objectMode||U&&U.length>0?(typeof U=="string"||q.objectMode||Object.getPrototypeOf(U)===d.prototype||(U=function(A){return d.from(A)}(U)),T?q.endEmitted?M.emit("error",new Error("stream.unshift() after end event")):H(M,q,U,!0):q.ended?M.emit("error",new Error("stream.push() after EOF")):(q.reading=!1,q.decoder&&!N?(U=q.decoder.write(U),q.objectMode||U.length!==0?H(M,q,U,!1):W(M,q)):H(M,q,U,!1))):T||(q.reading=!1)),function(A){return!A.ended&&(A.needReadable||A.length<A.highWaterMark||A.length===0)}(q)}function H(M,U,N,T){U.flowing&&U.length===0&&!U.sync?(M.emit("data",N),M.read(0)):(U.length+=U.objectMode?1:N.length,T?U.buffer.unshift(N):U.buffer.push(N),U.needReadable&&L(M)),W(M,U)}Object.defineProperty(O.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(M){this._readableState&&(this._readableState.destroyed=M)}}),O.prototype.destroy=b.destroy,O.prototype._undestroy=b.undestroy,O.prototype._destroy=function(M,U){this.push(null),U(M)},O.prototype.push=function(M,U){var N,T=this._readableState;return T.objectMode?N=!0:typeof M=="string"&&((U=U||T.defaultEncoding)!==T.encoding&&(M=d.from(M,U),U=""),N=!0),V(this,M,U,!1,N)},O.prototype.unshift=function(M){return V(this,M,null,!0,!1)},O.prototype.isPaused=function(){return this._readableState.flowing===!1},O.prototype.setEncoding=function(M){return g||(g=e("string_decoder/").StringDecoder),this._readableState.decoder=new g(M),this._readableState.encoding=M,this};function F(M,U){return M<=0||U.length===0&&U.ended?0:U.objectMode?1:M!=M?U.flowing&&U.length?U.buffer.head.data.length:U.length:(M>U.highWaterMark&&(U.highWaterMark=function(N){return N>=8388608?N=8388608:(N--,N|=N>>>1,N|=N>>>2,N|=N>>>4,N|=N>>>8,N|=N>>>16,N++),N}(M)),M<=U.length?M:U.ended?U.length:(U.needReadable=!0,0))}function L(M){var U=M._readableState;U.needReadable=!1,U.emittedReadable||(m("emitReadable",U.flowing),U.emittedReadable=!0,U.sync?o.nextTick($,M):$(M))}function $(M){m("emit readable"),M.emit("readable"),v(M)}function W(M,U){U.readingMore||(U.readingMore=!0,o.nextTick(x,M,U))}function x(M,U){for(var N=U.length;!U.reading&&!U.flowing&&!U.ended&&U.length<U.highWaterMark&&(m("maybeReadMore read 0"),M.read(0),N!==U.length);)N=U.length;U.readingMore=!1}function R(M){m("readable nexttick read 0"),M.read(0)}function B(M,U){U.reading||(m("resume read 0"),M.read(0)),U.resumeScheduled=!1,U.awaitDrain=0,M.emit("resume"),v(M),U.flowing&&!U.reading&&M.read(0)}function v(M){var U=M._readableState;for(m("flow",U.flowing);U.flowing&&M.read()!==null;);}function y(M,U){return U.length===0?null:(U.objectMode?N=U.buffer.shift():!M||M>=U.length?(N=U.decoder?U.buffer.join(""):U.buffer.length===1?U.buffer.head.data:U.buffer.concat(U.length),U.buffer.clear()):N=function(T,j,I){var q;return T<j.head.data.length?(q=j.head.data.slice(0,T),j.head.data=j.head.data.slice(T)):q=T===j.head.data.length?j.shift():I?function(A,k){var Y=k.head,Z=1,lt=Y.data;for(A-=lt.length;Y=Y.next;){var J=Y.data,et=A>J.length?J.length:A;if(et===J.length?lt+=J:lt+=J.slice(0,A),(A-=et)===0){et===J.length?(++Z,Y.next?k.head=Y.next:k.head=k.tail=null):(k.head=Y,Y.data=J.slice(et));break}++Z}return k.length-=Z,lt}(T,j):function(A,k){var Y=d.allocUnsafe(A),Z=k.head,lt=1;for(Z.data.copy(Y),A-=Z.data.length;Z=Z.next;){var J=Z.data,et=A>J.length?J.length:A;if(J.copy(Y,Y.length-A,0,et),(A-=et)===0){et===J.length?(++lt,Z.next?k.head=Z.next:k.head=k.tail=null):(k.head=Z,Z.data=J.slice(et));break}++lt}return k.length-=lt,Y}(T,j),q}(M,U.buffer,U.decoder),N);var N}function C(M){var U=M._readableState;if(U.length>0)throw new Error('"endReadable()" called on non-empty stream');U.endEmitted||(U.ended=!0,o.nextTick(w,U,M))}function w(M,U){M.endEmitted||M.length!==0||(M.endEmitted=!0,U.readable=!1,U.emit("end"))}function S(M,U){for(var N=0,T=M.length;N<T;N++)if(M[N]===U)return N;return-1}O.prototype.read=function(M){m("read",M),M=parseInt(M,10);var U=this._readableState,N=M;if(M!==0&&(U.emittedReadable=!1),M===0&&U.needReadable&&(U.length>=U.highWaterMark||U.ended))return m("read: emitReadable",U.length,U.ended),U.length===0&&U.ended?C(this):L(this),null;if((M=F(M,U))===0&&U.ended)return U.length===0&&C(this),null;var T,j=U.needReadable;return m("need readable",j),(U.length===0||U.length-M<U.highWaterMark)&&m("length less than watermark",j=!0),U.ended||U.reading?m("reading or ended",j=!1):j&&(m("do read"),U.reading=!0,U.sync=!0,U.length===0&&(U.needReadable=!0),this._read(U.highWaterMark),U.sync=!1,U.reading||(M=F(N,U))),(T=M>0?y(M,U):null)===null?(U.needReadable=!0,M=0):U.length-=M,U.length===0&&(U.ended||(U.needReadable=!0),N!==M&&U.ended&&C(this)),T!==null&&this.emit("data",T),T},O.prototype._read=function(M){this.emit("error",new Error("_read() is not implemented"))},O.prototype.pipe=function(M,U){var N=this,T=this._readableState;switch(T.pipesCount){case 0:T.pipes=M;break;case 1:T.pipes=[T.pipes,M];break;default:T.pipes.push(M)}T.pipesCount+=1,m("pipe count=%d opts=%j",T.pipesCount,U);var j=(!U||U.end!==!1)&&M!==i.stdout&&M!==i.stderr?q:Et;function I(Rt,nt){m("onunpipe"),Rt===N&&nt&&nt.hasUnpiped===!1&&(nt.hasUnpiped=!0,m("cleanup"),M.removeListener("close",J),M.removeListener("finish",et),M.removeListener("drain",A),M.removeListener("error",lt),M.removeListener("unpipe",I),N.removeListener("end",q),N.removeListener("end",Et),N.removeListener("data",Z),k=!0,!T.awaitDrain||M._writableState&&!M._writableState.needDrain||A())}function q(){m("onend"),M.end()}T.endEmitted?o.nextTick(j):N.once("end",j),M.on("unpipe",I);var A=function(Rt){return function(){var nt=Rt._readableState;m("pipeOnDrain",nt.awaitDrain),nt.awaitDrain&&nt.awaitDrain--,nt.awaitDrain===0&&l(Rt,"data")&&(nt.flowing=!0,v(Rt))}}(N);M.on("drain",A);var k=!1,Y=!1;function Z(Rt){m("ondata"),Y=!1,M.write(Rt)!==!1||Y||((T.pipesCount===1&&T.pipes===M||T.pipesCount>1&&S(T.pipes,M)!==-1)&&!k&&(m("false write response, pause",T.awaitDrain),T.awaitDrain++,Y=!0),N.pause())}function lt(Rt){m("onerror",Rt),Et(),M.removeListener("error",lt),l(M,"error")===0&&M.emit("error",Rt)}function J(){M.removeListener("finish",et),Et()}function et(){m("onfinish"),M.removeListener("close",J),Et()}function Et(){m("unpipe"),N.unpipe(M)}return N.on("data",Z),function(Rt,nt,at){if(typeof Rt.prependListener=="function")return Rt.prependListener(nt,at);Rt._events&&Rt._events[nt]?a(Rt._events[nt])?Rt._events[nt].unshift(at):Rt._events[nt]=[at,Rt._events[nt]]:Rt.on(nt,at)}(M,"error",lt),M.once("close",J),M.once("finish",et),M.emit("pipe",N),T.flowing||(m("pipe resume"),N.resume()),M},O.prototype.unpipe=function(M){var U=this._readableState,N={hasUnpiped:!1};if(U.pipesCount===0)return this;if(U.pipesCount===1)return M&&M!==U.pipes||(M||(M=U.pipes),U.pipes=null,U.pipesCount=0,U.flowing=!1,M&&M.emit("unpipe",this,N)),this;if(!M){var T=U.pipes,j=U.pipesCount;U.pipes=null,U.pipesCount=0,U.flowing=!1;for(var I=0;I<j;I++)T[I].emit("unpipe",this,{hasUnpiped:!1});return this}var q=S(U.pipes,M);return q===-1||(U.pipes.splice(q,1),U.pipesCount-=1,U.pipesCount===1&&(U.pipes=U.pipes[0]),M.emit("unpipe",this,N)),this},O.prototype.on=function(M,U){var N=c.prototype.on.call(this,M,U);if(M==="data")this._readableState.flowing!==!1&&this.resume();else if(M==="readable"){var T=this._readableState;T.endEmitted||T.readableListening||(T.readableListening=T.needReadable=!0,T.emittedReadable=!1,T.reading?T.length&&L(this):o.nextTick(R,this))}return N},O.prototype.addListener=O.prototype.on,O.prototype.resume=function(){var M=this._readableState;return M.flowing||(m("resume"),M.flowing=!0,function(U,N){N.resumeScheduled||(N.resumeScheduled=!0,o.nextTick(B,U,N))}(this,M)),this},O.prototype.pause=function(){return m("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(m("pause"),this._readableState.flowing=!1,this.emit("pause")),this},O.prototype.wrap=function(M){var U=this,N=this._readableState,T=!1;for(var j in M.on("end",function(){if(m("wrapped end"),N.decoder&&!N.ended){var q=N.decoder.end();q&&q.length&&U.push(q)}U.push(null)}),M.on("data",function(q){m("wrapped data"),N.decoder&&(q=N.decoder.write(q)),N.objectMode&&q==null||(N.objectMode||q&&q.length)&&(U.push(q)||(T=!0,M.pause()))}),M)this[j]===void 0&&typeof M[j]=="function"&&(this[j]=function(q){return function(){return M[q].apply(M,arguments)}}(j));for(var I=0;I<_.length;I++)M.on(_[I],this.emit.bind(this,_[I]));return this._read=function(q){m("wrapped _read",q),T&&(T=!1,M.resume())},this},Object.defineProperty(O.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),O._fromList=y}).call(this)}).call(this,e("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(e,t,r){"use strict";t.exports=s;var i=e("./_stream_duplex"),n=Object.create(e("core-util-is"));function o(c,d){var u=this._transformState;u.transforming=!1;var h=u.writecb;if(!h)return this.emit("error",new Error("write callback called multiple times"));u.writechunk=null,u.writecb=null,d!=null&&this.push(d),h(c);var f=this._readableState;f.reading=!1,(f.needReadable||f.length<f.highWaterMark)&&this._read(f.highWaterMark)}function s(c){if(!(this instanceof s))return new s(c);i.call(this,c),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,c&&(typeof c.transform=="function"&&(this._transform=c.transform),typeof c.flush=="function"&&(this._flush=c.flush)),this.on("prefinish",a)}function a(){var c=this;typeof this._flush=="function"?this._flush(function(d,u){l(c,d,u)}):l(this,null,null)}function l(c,d,u){if(d)return c.emit("error",d);if(u!=null&&c.push(u),c._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(c._transformState.transforming)throw new Error("Calling transform done when still transforming");return c.push(null)}n.inherits=e("inherits"),n.inherits(s,i),s.prototype.push=function(c,d){return this._transformState.needTransform=!1,i.prototype.push.call(this,c,d)},s.prototype._transform=function(c,d,u){throw new Error("_transform() is not implemented")},s.prototype._write=function(c,d,u){var h=this._transformState;if(h.writecb=u,h.writechunk=c,h.writeencoding=d,!h.transforming){var f=this._readableState;(h.needTransform||f.needReadable||f.length<f.highWaterMark)&&this._read(f.highWaterMark)}},s.prototype._read=function(c){var d=this._transformState;d.writechunk!==null&&d.writecb&&!d.transforming?(d.transforming=!0,this._transform(d.writechunk,d.writeencoding,d.afterTransform)):d.needTransform=!0},s.prototype._destroy=function(c,d){var u=this;i.prototype._destroy.call(this,c,function(h){d(h),u.emit("close")})}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(e,t,r){(function(i,n,o){(function(){"use strict";var s=e("process-nextick-args");function a(W){var x=this;this.next=null,this.entry=null,this.finish=function(){(function(R,B,v){var y=R.entry;for(R.entry=null;y;){var C=y.callback;B.pendingcb--,C(v),y=y.next}B.corkedRequestsFree.next=R})(x,W)}}t.exports=E;var l,c=!i.browser&&["v0.10","v0.9."].indexOf(i.version.slice(0,5))>-1?o:s.nextTick;E.WritableState=_;var d=Object.create(e("core-util-is"));d.inherits=e("inherits");var u={deprecate:e("util-deprecate")},h=e("./internal/streams/stream"),f=e("safe-buffer").Buffer,m=(n!==void 0?n:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},g,p=e("./internal/streams/destroy");function b(){}function _(W,x){l=l||e("./_stream_duplex"),W=W||{};var R=x instanceof l;this.objectMode=!!W.objectMode,R&&(this.objectMode=this.objectMode||!!W.writableObjectMode);var B=W.highWaterMark,v=W.writableHighWaterMark,y=this.objectMode?16:16384;this.highWaterMark=B||B===0?B:R&&(v||v===0)?v:y,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var C=W.decodeStrings===!1;this.decodeStrings=!C,this.defaultEncoding=W.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(w){(function(S,M){var U=S._writableState,N=U.sync,T=U.writecb;if(function(I){I.writing=!1,I.writecb=null,I.length-=I.writelen,I.writelen=0}(U),M)(function(I,q,A,k,Y){--q.pendingcb,A?(s.nextTick(Y,k),s.nextTick($,I,q),I._writableState.errorEmitted=!0,I.emit("error",k)):(Y(k),I._writableState.errorEmitted=!0,I.emit("error",k),$(I,q))})(S,U,N,M,T);else{var j=F(U);j||U.corked||U.bufferProcessing||!U.bufferedRequest||H(S,U),N?c(V,S,U,j,T):V(S,U,j,T)}})(x,w)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function E(W){if(l=l||e("./_stream_duplex"),!(g.call(E,this)||this instanceof l))return new E(W);this._writableState=new _(W,this),this.writable=!0,W&&(typeof W.write=="function"&&(this._write=W.write),typeof W.writev=="function"&&(this._writev=W.writev),typeof W.destroy=="function"&&(this._destroy=W.destroy),typeof W.final=="function"&&(this._final=W.final)),h.call(this)}function O(W,x,R,B,v,y,C){x.writelen=B,x.writecb=C,x.writing=!0,x.sync=!0,R?W._writev(v,x.onwrite):W._write(v,y,x.onwrite),x.sync=!1}function V(W,x,R,B){R||function(v,y){y.length===0&&y.needDrain&&(y.needDrain=!1,v.emit("drain"))}(W,x),x.pendingcb--,B(),$(W,x)}function H(W,x){x.bufferProcessing=!0;var R=x.bufferedRequest;if(W._writev&&R&&R.next){var B=x.bufferedRequestCount,v=new Array(B),y=x.corkedRequestsFree;y.entry=R;for(var C=0,w=!0;R;)v[C]=R,R.isBuf||(w=!1),R=R.next,C+=1;v.allBuffers=w,O(W,x,!0,x.length,v,"",y.finish),x.pendingcb++,x.lastBufferedRequest=null,y.next?(x.corkedRequestsFree=y.next,y.next=null):x.corkedRequestsFree=new a(x),x.bufferedRequestCount=0}else{for(;R;){var S=R.chunk,M=R.encoding,U=R.callback;if(O(W,x,!1,x.objectMode?1:S.length,S,M,U),R=R.next,x.bufferedRequestCount--,x.writing)break}R===null&&(x.lastBufferedRequest=null)}x.bufferedRequest=R,x.bufferProcessing=!1}function F(W){return W.ending&&W.length===0&&W.bufferedRequest===null&&!W.finished&&!W.writing}function L(W,x){W._final(function(R){x.pendingcb--,R&&W.emit("error",R),x.prefinished=!0,W.emit("prefinish"),$(W,x)})}function $(W,x){var R=F(x);return R&&(function(B,v){v.prefinished||v.finalCalled||(typeof B._final=="function"?(v.pendingcb++,v.finalCalled=!0,s.nextTick(L,B,v)):(v.prefinished=!0,B.emit("prefinish")))}(W,x),x.pendingcb===0&&(x.finished=!0,W.emit("finish"))),R}d.inherits(E,h),_.prototype.getBuffer=function(){for(var W=this.bufferedRequest,x=[];W;)x.push(W),W=W.next;return x},function(){try{Object.defineProperty(_.prototype,"buffer",{get:u.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(g=Function.prototype[Symbol.hasInstance],Object.defineProperty(E,Symbol.hasInstance,{value:function(W){return!!g.call(this,W)||this===E&&W&&W._writableState instanceof _}})):g=function(W){return W instanceof this},E.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},E.prototype.write=function(W,x,R){var B,v=this._writableState,y=!1,C=!v.objectMode&&(B=W,f.isBuffer(B)||B instanceof m);return C&&!f.isBuffer(W)&&(W=function(w){return f.from(w)}(W)),typeof x=="function"&&(R=x,x=null),C?x="buffer":x||(x=v.defaultEncoding),typeof R!="function"&&(R=b),v.ended?function(w,S){var M=new Error("write after end");w.emit("error",M),s.nextTick(S,M)}(this,R):(C||function(w,S,M,U){var N=!0,T=!1;return M===null?T=new TypeError("May not write null values to stream"):typeof M=="string"||M===void 0||S.objectMode||(T=new TypeError("Invalid non-string/buffer chunk")),T&&(w.emit("error",T),s.nextTick(U,T),N=!1),N}(this,v,W,R))&&(v.pendingcb++,y=function(w,S,M,U,N,T){if(!M){var j=function(k,Y,Z){return k.objectMode||k.decodeStrings===!1||typeof Y!="string"||(Y=f.from(Y,Z)),Y}(S,U,N);U!==j&&(M=!0,N="buffer",U=j)}var I=S.objectMode?1:U.length;S.length+=I;var q=S.length<S.highWaterMark;if(q||(S.needDrain=!0),S.writing||S.corked){var A=S.lastBufferedRequest;S.lastBufferedRequest={chunk:U,encoding:N,isBuf:M,callback:T,next:null},A?A.next=S.lastBufferedRequest:S.bufferedRequest=S.lastBufferedRequest,S.bufferedRequestCount+=1}else O(w,S,!1,I,U,N,T);return q}(this,v,C,W,x,R)),y},E.prototype.cork=function(){this._writableState.corked++},E.prototype.uncork=function(){var W=this._writableState;W.corked&&(W.corked--,W.writing||W.corked||W.bufferProcessing||!W.bufferedRequest||H(this,W))},E.prototype.setDefaultEncoding=function(W){if(typeof W=="string"&&(W=W.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((W+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+W);return this._writableState.defaultEncoding=W,this},Object.defineProperty(E.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),E.prototype._write=function(W,x,R){R(new Error("_write() is not implemented"))},E.prototype._writev=null,E.prototype.end=function(W,x,R){var B=this._writableState;typeof W=="function"?(R=W,W=null,x=null):typeof x=="function"&&(R=x,x=null),W!=null&&this.write(W,x),B.corked&&(B.corked=1,this.uncork()),B.ending||function(v,y,C){y.ending=!0,$(v,y),C&&(y.finished?s.nextTick(C):v.once("finish",C)),y.ended=!0,v.writable=!1}(this,B,R)},Object.defineProperty(E.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(W){this._writableState&&(this._writableState.destroyed=W)}}),E.prototype.destroy=p.destroy,E.prototype._undestroy=p.undestroy,E.prototype._destroy=function(W,x){this.end(),x(W)}}).call(this)}).call(this,e("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},e("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(e,t,r){"use strict";var i=e("safe-buffer").Buffer,n=e("util");t.exports=function(){function o(){(function(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")})(this,o),this.head=null,this.tail=null,this.length=0}return o.prototype.push=function(s){var a={data:s,next:null};this.length>0?this.tail.next=a:this.head=a,this.tail=a,++this.length},o.prototype.unshift=function(s){var a={data:s,next:this.head};this.length===0&&(this.tail=a),this.head=a,++this.length},o.prototype.shift=function(){if(this.length!==0){var s=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,s}},o.prototype.clear=function(){this.head=this.tail=null,this.length=0},o.prototype.join=function(s){if(this.length===0)return"";for(var a=this.head,l=""+a.data;a=a.next;)l+=s+a.data;return l},o.prototype.concat=function(s){if(this.length===0)return i.alloc(0);for(var a,l,c,d=i.allocUnsafe(s>>>0),u=this.head,h=0;u;)a=u.data,l=d,c=h,a.copy(l,c),h+=u.data.length,u=u.next;return d},o}(),n&&n.inspect&&n.inspect.custom&&(t.exports.prototype[n.inspect.custom]=function(){var o=n.inspect({length:this.length});return this.constructor.name+" "+o})},{"safe-buffer":520,util:188}],514:[function(e,t,r){"use strict";var i=e("process-nextick-args");function n(o,s){o.emit("error",s)}t.exports={destroy:function(o,s){var a=this,l=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return l||c?(s?s(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(n,this,o)):i.nextTick(n,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(d){!s&&d?a._writableState?a._writableState.errorEmitted||(a._writableState.errorEmitted=!0,i.nextTick(n,a,d)):i.nextTick(n,a,d):s&&s(d)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(e,t,r){arguments[4][490][0].apply(r,arguments)},{dup:490,events:422}],516:[function(e,t,r){"use strict";t.exports=e("./readable").PassThrough},{"./readable":517}],517:[function(e,t,r){"use strict";(r=t.exports=e("./lib/_stream_readable.js")).Stream=r,r.Readable=r,r.Writable=e("./lib/_stream_writable.js"),r.Duplex=e("./lib/_stream_duplex.js"),r.Transform=e("./lib/_stream_transform.js"),r.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(e,t,r){"use strict";t.exports=e("./readable").Transform},{"./readable":517}],519:[function(e,t,r){"use strict";t.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(e,t,r){arguments[4][217][0].apply(r,arguments)},{buffer:220,dup:217}],521:[function(e,t,r){arguments[4][218][0].apply(r,arguments)},{dup:218,"safe-buffer":520}],522:[function(e,t,r){arguments[4][218][0].apply(r,arguments)},{dup:218,"safe-buffer":494}],523:[function(e,t,r){(function(i,n){(function(){"use strict";var o=e("process/browser.js").nextTick,s=Function.prototype.apply,a=Array.prototype.slice,l={},c=0;function d(u,h){this._id=u,this._clearFn=h}r.setTimeout=function(){return new d(s.call(setTimeout,window,arguments),clearTimeout)},r.setInterval=function(){return new d(s.call(setInterval,window,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(u){u.close()},d.prototype.unref=d.prototype.ref=function(){},d.prototype.close=function(){this._clearFn.call(window,this._id)},r.enroll=function(u,h){clearTimeout(u._idleTimeoutId),u._idleTimeout=h},r.unenroll=function(u){clearTimeout(u._idleTimeoutId),u._idleTimeout=-1},r._unrefActive=r.active=function(u){clearTimeout(u._idleTimeoutId);var h=u._idleTimeout;h>=0&&(u._idleTimeoutId=setTimeout(function(){u._onTimeout&&u._onTimeout()},h))},r.setImmediate=typeof i=="function"?i:function(u){var h=c++,f=!(arguments.length<2)&&a.call(arguments,1);return l[h]=!0,o(function(){l[h]&&(f?u.apply(null,f):u.call(null),r.clearImmediate(h))}),h},r.clearImmediate=typeof n=="function"?n:function(u){delete l[u]}}).call(this)}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(e,t,r){(function(i){(function(){"use strict";function n(o){try{if(!i.localStorage)return!1}catch{return!1}var s=i.localStorage[o];return s!=null&&String(s).toLowerCase()==="true"}t.exports=function(o,s){if(n("noDeprecation"))return o;var a=!1;return function(){if(!a){if(n("throwDeprecation"))throw new Error(s);n("traceDeprecation")?console.trace(s):console.warn(s),a=!0}return o.apply(this,arguments)}}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(e,t,r){"use strict";typeof Object.create=="function"?t.exports=function(i,n){i.super_=n,i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(i,n){i.super_=n;var o=function(){};o.prototype=n.prototype,i.prototype=new o,i.prototype.constructor=i}},{}],526:[function(e,t,r){"use strict";t.exports=function(i){return i&&typeof i=="object"&&typeof i.copy=="function"&&typeof i.fill=="function"&&typeof i.readUInt8=="function"}},{}],527:[function(e,t,r){(function(i,n){(function(){"use strict";var o=/%[sdj%]/g;r.format=function(v){if(!_(v)){for(var y=[],C=0;C<arguments.length;C++)y.push(l(arguments[C]));return y.join(" ")}C=1;for(var w=arguments,S=w.length,M=String(v).replace(o,function(N){if(N==="%%")return"%";if(C>=S)return N;switch(N){case"%s":return String(w[C++]);case"%d":return Number(w[C++]);case"%j":try{return JSON.stringify(w[C++])}catch{return"[Circular]"}default:return N}}),U=w[C];C<S;U=w[++C])p(U)||!V(U)?M+=" "+U:M+=" "+l(U);return M},r.deprecate=function(v,y){if(E(n.process))return function(){return r.deprecate(v,y).apply(this,arguments)};if(i.noDeprecation===!0)return v;var C=!1;return function(){if(!C){if(i.throwDeprecation)throw new Error(y);i.traceDeprecation?console.trace(y):console.error(y),C=!0}return v.apply(this,arguments)}};var s,a={};function l(v,y){var C={seen:[],stylize:d};return arguments.length>=3&&(C.depth=arguments[2]),arguments.length>=4&&(C.colors=arguments[3]),g(y)?C.showHidden=y:y&&r._extend(C,y),E(C.showHidden)&&(C.showHidden=!1),E(C.depth)&&(C.depth=2),E(C.colors)&&(C.colors=!1),E(C.customInspect)&&(C.customInspect=!0),C.colors&&(C.stylize=c),u(C,v,C.depth)}function c(v,y){var C=l.styles[y];return C?"\x1B["+l.colors[C][0]+"m"+v+"\x1B["+l.colors[C][1]+"m":v}function d(v,y){return v}function u(v,y,C){if(v.customInspect&&y&&L(y.inspect)&&y.inspect!==r.inspect&&(!y.constructor||y.constructor.prototype!==y)){var w=y.inspect(C,v);return _(w)||(w=u(v,w,C)),w}var S=function(A,k){if(E(k))return A.stylize("undefined","undefined");if(_(k)){var Y="'"+JSON.stringify(k).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return A.stylize(Y,"string")}if(b(k))return A.stylize(""+k,"number");if(g(k))return A.stylize(""+k,"boolean");if(p(k))return A.stylize("null","null")}(v,y);if(S)return S;var M=Object.keys(y),U=function(A){var k={};return A.forEach(function(Y,Z){k[Y]=!0}),k}(M);if(v.showHidden&&(M=Object.getOwnPropertyNames(y)),F(y)&&(M.indexOf("message")>=0||M.indexOf("description")>=0))return h(y);if(M.length===0){if(L(y)){var N=y.name?": "+y.name:"";return v.stylize("[Function"+N+"]","special")}if(O(y))return v.stylize(RegExp.prototype.toString.call(y),"regexp");if(H(y))return v.stylize(Date.prototype.toString.call(y),"date");if(F(y))return h(y)}var T,j="",I=!1,q=["{","}"];return m(y)&&(I=!0,q=["[","]"]),L(y)&&(j=" [Function"+(y.name?": "+y.name:"")+"]"),O(y)&&(j=" "+RegExp.prototype.toString.call(y)),H(y)&&(j=" "+Date.prototype.toUTCString.call(y)),F(y)&&(j=" "+h(y)),M.length!==0||I&&y.length!=0?C<0?O(y)?v.stylize(RegExp.prototype.toString.call(y),"regexp"):v.stylize("[Object]","special"):(v.seen.push(y),T=I?function(A,k,Y,Z,lt){for(var J=[],et=0,Et=k.length;et<Et;++et)B(k,String(et))?J.push(f(A,k,Y,Z,String(et),!0)):J.push("");return lt.forEach(function(Rt){Rt.match(/^\d+$/)||J.push(f(A,k,Y,Z,Rt,!0))}),J}(v,y,C,U,M):M.map(function(A){return f(v,y,C,U,A,I)}),v.seen.pop(),function(A,k,Y){return A.reduce(function(Z,lt){return lt.indexOf(`
`)>=0,Z+lt.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?Y[0]+(k===""?"":k+`
 `)+" "+A.join(`,
  `)+" "+Y[1]:Y[0]+k+" "+A.join(", ")+" "+Y[1]}(T,j,q)):q[0]+j+q[1]}function h(v){return"["+Error.prototype.toString.call(v)+"]"}function f(v,y,C,w,S,M){var U,N,T;if((T=Object.getOwnPropertyDescriptor(y,S)||{value:y[S]}).get?N=T.set?v.stylize("[Getter/Setter]","special"):v.stylize("[Getter]","special"):T.set&&(N=v.stylize("[Setter]","special")),B(w,S)||(U="["+S+"]"),N||(v.seen.indexOf(T.value)<0?(N=p(C)?u(v,T.value,null):u(v,T.value,C-1)).indexOf(`
`)>-1&&(N=M?N.split(`
`).map(function(j){return"  "+j}).join(`
`).substr(2):`
`+N.split(`
`).map(function(j){return"   "+j}).join(`
`)):N=v.stylize("[Circular]","special")),E(U)){if(M&&S.match(/^\d+$/))return N;(U=JSON.stringify(""+S)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(U=U.substr(1,U.length-2),U=v.stylize(U,"name")):(U=U.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),U=v.stylize(U,"string"))}return U+": "+N}function m(v){return Array.isArray(v)}function g(v){return typeof v=="boolean"}function p(v){return v===null}function b(v){return typeof v=="number"}function _(v){return typeof v=="string"}function E(v){return v===void 0}function O(v){return V(v)&&$(v)==="[object RegExp]"}function V(v){return typeof v=="object"&&v!==null}function H(v){return V(v)&&$(v)==="[object Date]"}function F(v){return V(v)&&($(v)==="[object Error]"||v instanceof Error)}function L(v){return typeof v=="function"}function $(v){return Object.prototype.toString.call(v)}function W(v){return v<10?"0"+v.toString(10):v.toString(10)}r.debuglog=function(v){if(E(s)&&(s=i.env.NODE_DEBUG||""),v=v.toUpperCase(),!a[v])if(new RegExp("\\b"+v+"\\b","i").test(s)){var y=i.pid;a[v]=function(){var C=r.format.apply(r,arguments);console.error("%s %d: %s",v,y,C)}}else a[v]=function(){};return a[v]},r.inspect=l,l.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},r.isArray=m,r.isBoolean=g,r.isNull=p,r.isNullOrUndefined=function(v){return v==null},r.isNumber=b,r.isString=_,r.isSymbol=function(v){return typeof v=="symbol"},r.isUndefined=E,r.isRegExp=O,r.isObject=V,r.isDate=H,r.isError=F,r.isFunction=L,r.isPrimitive=function(v){return v===null||typeof v=="boolean"||typeof v=="number"||typeof v=="string"||typeof v=="symbol"||v===void 0},r.isBuffer=e("./support/isBuffer");var x=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function R(){var v=new Date,y=[W(v.getHours()),W(v.getMinutes()),W(v.getSeconds())].join(":");return[v.getDate(),x[v.getMonth()],y].join(" ")}function B(v,y){return Object.prototype.hasOwnProperty.call(v,y)}r.log=function(){console.log("%s - %s",R(),r.format.apply(r,arguments))},r.inherits=e("inherits"),r._extend=function(v,y){if(!y||!V(y))return v;for(var C=Object.keys(y),w=C.length;w--;)v[C[w]]=y[C[w]];return v}}).call(this)}).call(this,e("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"v1",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(r,"v3",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(r,"v4",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(r,"v5",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(r,"NIL",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(r,"version",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(r,"validate",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(r,"stringify",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(r,"parse",{enumerable:!0,get:function(){return u.default}});var i=h(e("./v1.js")),n=h(e("./v3.js")),o=h(e("./v4.js")),s=h(e("./v5.js")),a=h(e("./nil.js")),l=h(e("./version.js")),c=h(e("./validate.js")),d=h(e("./stringify.js")),u=h(e("./parse.js"));function h(f){return f&&f.__esModule?f:{default:f}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(e,t,r){"use strict";function i(u){return 14+(u+64>>>9<<4)+1}function n(u,h){let f=(65535&u)+(65535&h);return(u>>16)+(h>>16)+(f>>16)<<16|65535&f}function o(u,h,f,m,g,p){return n((b=n(n(h,u),n(m,p)))<<(_=g)|b>>>32-_,f);var b,_}function s(u,h,f,m,g,p,b){return o(h&f|~h&m,u,h,g,p,b)}function a(u,h,f,m,g,p,b){return o(h&m|f&~m,u,h,g,p,b)}function l(u,h,f,m,g,p,b){return o(h^f^m,u,h,g,p,b)}function c(u,h,f,m,g,p,b){return o(f^(h|~m),u,h,g,p,b)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var d=function(u){if(typeof u=="string"){let h=unescape(encodeURIComponent(u));u=new Uint8Array(h.length);for(let f=0;f<h.length;++f)u[f]=h.charCodeAt(f)}return function(h){let f=[],m=32*h.length;for(let g=0;g<m;g+=8){let p=h[g>>5]>>>g%32&255,b=parseInt("0123456789abcdef".charAt(p>>>4&15)+"0123456789abcdef".charAt(15&p),16);f.push(b)}return f}(function(h,f){h[f>>5]|=128<<f%32,h[i(f)-1]=f;let m=1732584193,g=-271733879,p=-1732584194,b=271733878;for(let _=0;_<h.length;_+=16){let E=m,O=g,V=p,H=b;m=s(m,g,p,b,h[_],7,-680876936),b=s(b,m,g,p,h[_+1],12,-389564586),p=s(p,b,m,g,h[_+2],17,606105819),g=s(g,p,b,m,h[_+3],22,-1044525330),m=s(m,g,p,b,h[_+4],7,-176418897),b=s(b,m,g,p,h[_+5],12,1200080426),p=s(p,b,m,g,h[_+6],17,-1473231341),g=s(g,p,b,m,h[_+7],22,-45705983),m=s(m,g,p,b,h[_+8],7,1770035416),b=s(b,m,g,p,h[_+9],12,-1958414417),p=s(p,b,m,g,h[_+10],17,-42063),g=s(g,p,b,m,h[_+11],22,-1990404162),m=s(m,g,p,b,h[_+12],7,1804603682),b=s(b,m,g,p,h[_+13],12,-40341101),p=s(p,b,m,g,h[_+14],17,-1502002290),g=s(g,p,b,m,h[_+15],22,1236535329),m=a(m,g,p,b,h[_+1],5,-165796510),b=a(b,m,g,p,h[_+6],9,-1069501632),p=a(p,b,m,g,h[_+11],14,643717713),g=a(g,p,b,m,h[_],20,-373897302),m=a(m,g,p,b,h[_+5],5,-701558691),b=a(b,m,g,p,h[_+10],9,38016083),p=a(p,b,m,g,h[_+15],14,-660478335),g=a(g,p,b,m,h[_+4],20,-405537848),m=a(m,g,p,b,h[_+9],5,568446438),b=a(b,m,g,p,h[_+14],9,-1019803690),p=a(p,b,m,g,h[_+3],14,-187363961),g=a(g,p,b,m,h[_+8],20,1163531501),m=a(m,g,p,b,h[_+13],5,-1444681467),b=a(b,m,g,p,h[_+2],9,-51403784),p=a(p,b,m,g,h[_+7],14,1735328473),g=a(g,p,b,m,h[_+12],20,-1926607734),m=l(m,g,p,b,h[_+5],4,-378558),b=l(b,m,g,p,h[_+8],11,-2022574463),p=l(p,b,m,g,h[_+11],16,1839030562),g=l(g,p,b,m,h[_+14],23,-35309556),m=l(m,g,p,b,h[_+1],4,-1530992060),b=l(b,m,g,p,h[_+4],11,1272893353),p=l(p,b,m,g,h[_+7],16,-155497632),g=l(g,p,b,m,h[_+10],23,-1094730640),m=l(m,g,p,b,h[_+13],4,681279174),b=l(b,m,g,p,h[_],11,-358537222),p=l(p,b,m,g,h[_+3],16,-722521979),g=l(g,p,b,m,h[_+6],23,76029189),m=l(m,g,p,b,h[_+9],4,-640364487),b=l(b,m,g,p,h[_+12],11,-421815835),p=l(p,b,m,g,h[_+15],16,530742520),g=l(g,p,b,m,h[_+2],23,-995338651),m=c(m,g,p,b,h[_],6,-198630844),b=c(b,m,g,p,h[_+7],10,1126891415),p=c(p,b,m,g,h[_+14],15,-1416354905),g=c(g,p,b,m,h[_+5],21,-57434055),m=c(m,g,p,b,h[_+12],6,1700485571),b=c(b,m,g,p,h[_+3],10,-1894986606),p=c(p,b,m,g,h[_+10],15,-1051523),g=c(g,p,b,m,h[_+1],21,-2054922799),m=c(m,g,p,b,h[_+8],6,1873313359),b=c(b,m,g,p,h[_+15],10,-30611744),p=c(p,b,m,g,h[_+6],15,-1560198380),g=c(g,p,b,m,h[_+13],21,1309151649),m=c(m,g,p,b,h[_+4],6,-145523070),b=c(b,m,g,p,h[_+11],10,-1120210379),p=c(p,b,m,g,h[_+2],15,718787259),g=c(g,p,b,m,h[_+9],21,-343485551),m=n(m,E),g=n(g,O),p=n(p,V),b=n(b,H)}return[m,g,p,b]}(function(h){if(h.length===0)return[];let f=8*h.length,m=new Uint32Array(i(f));for(let g=0;g<f;g+=8)m[g>>5]|=(255&h[g/8])<<g%32;return m}(u),8*u.length))};r.default=d},{}],530:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,r.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,n=(i=e("./validate.js"))&&i.__esModule?i:{default:i},o=function(s){if(!(0,n.default)(s))throw TypeError("Invalid UUID");let a,l=new Uint8Array(16);return l[0]=(a=parseInt(s.slice(0,8),16))>>>24,l[1]=a>>>16&255,l[2]=a>>>8&255,l[3]=255&a,l[4]=(a=parseInt(s.slice(9,13),16))>>>8,l[5]=255&a,l[6]=(a=parseInt(s.slice(14,18),16))>>>8,l[7]=255&a,l[8]=(a=parseInt(s.slice(19,23),16))>>>8,l[9]=255&a,l[10]=(a=parseInt(s.slice(24,36),16))/1099511627776&255,l[11]=a/4294967296&255,l[12]=a>>>24&255,l[13]=a>>>16&255,l[14]=a>>>8&255,l[15]=255&a,l};r.default=o},{"./validate.js":541}],532:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,r.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(e,t,r){"use strict";let i;Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){if(!i&&(i=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!i))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(n)};let n=new Uint8Array(16)},{}],534:[function(e,t,r){"use strict";function i(s,a,l,c){switch(s){case 0:return a&l^~a&c;case 1:return a^l^c;case 2:return a&l^a&c^l&c;case 3:return a^l^c}}function n(s,a){return s<<a|s>>>32-a}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(s){let a=[1518500249,1859775393,2400959708,3395469782],l=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof s=="string"){let h=unescape(encodeURIComponent(s));s=[];for(let f=0;f<h.length;++f)s.push(h.charCodeAt(f))}else Array.isArray(s)||(s=Array.prototype.slice.call(s));s.push(128);let c=s.length/4+2,d=Math.ceil(c/16),u=new Array(d);for(let h=0;h<d;++h){let f=new Uint32Array(16);for(let m=0;m<16;++m)f[m]=s[64*h+4*m]<<24|s[64*h+4*m+1]<<16|s[64*h+4*m+2]<<8|s[64*h+4*m+3];u[h]=f}u[d-1][14]=8*(s.length-1)/Math.pow(2,32),u[d-1][14]=Math.floor(u[d-1][14]),u[d-1][15]=8*(s.length-1)&4294967295;for(let h=0;h<d;++h){let f=new Uint32Array(80);for(let E=0;E<16;++E)f[E]=u[h][E];for(let E=16;E<80;++E)f[E]=n(f[E-3]^f[E-8]^f[E-14]^f[E-16],1);let m=l[0],g=l[1],p=l[2],b=l[3],_=l[4];for(let E=0;E<80;++E){let O=Math.floor(E/20),V=n(m,5)+i(O,g,p,b)+_+a[O]+f[E]>>>0;_=b,b=p,p=n(g,30)>>>0,g=m,m=V}l[0]=l[0]+m>>>0,l[1]=l[1]+g>>>0,l[2]=l[2]+p>>>0,l[3]=l[3]+b>>>0,l[4]=l[4]+_>>>0}return[l[0]>>24&255,l[0]>>16&255,l[0]>>8&255,255&l[0],l[1]>>24&255,l[1]>>16&255,l[1]>>8&255,255&l[1],l[2]>>24&255,l[2]>>16&255,l[2]>>8&255,255&l[2],l[3]>>24&255,l[3]>>16&255,l[3]>>8&255,255&l[3],l[4]>>24&255,l[4]>>16&255,l[4]>>8&255,255&l[4]]};r.default=o},{}],535:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,n=(i=e("./validate.js"))&&i.__esModule?i:{default:i};let o=[];for(let a=0;a<256;++a)o.push((a+256).toString(16).substr(1));var s=function(a){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,c=(o[a[l+0]]+o[a[l+1]]+o[a[l+2]]+o[a[l+3]]+"-"+o[a[l+4]]+o[a[l+5]]+"-"+o[a[l+6]]+o[a[l+7]]+"-"+o[a[l+8]]+o[a[l+9]]+"-"+o[a[l+10]]+o[a[l+11]]+o[a[l+12]]+o[a[l+13]]+o[a[l+14]]+o[a[l+15]]).toLowerCase();if(!(0,n.default)(c))throw TypeError("Stringified UUID is invalid");return c};r.default=s},{"./validate.js":541}],536:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=o(e("./rng.js")),n=o(e("./stringify.js"));function o(u){return u&&u.__esModule?u:{default:u}}let s,a,l=0,c=0;var d=function(u,h,f){let m=h&&f||0,g=h||new Array(16),p=(u=u||{}).node||s,b=u.clockseq!==void 0?u.clockseq:a;if(p==null||b==null){let F=u.random||(u.rng||i.default)();p==null&&(p=s=[1|F[0],F[1],F[2],F[3],F[4],F[5]]),b==null&&(b=a=16383&(F[6]<<8|F[7]))}let _=u.msecs!==void 0?u.msecs:Date.now(),E=u.nsecs!==void 0?u.nsecs:c+1,O=_-l+(E-c)/1e4;if(O<0&&u.clockseq===void 0&&(b=b+1&16383),(O<0||_>l)&&u.nsecs===void 0&&(E=0),E>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");l=_,c=E,a=b,_+=122192928e5;let V=(1e4*(268435455&_)+E)%4294967296;g[m++]=V>>>24&255,g[m++]=V>>>16&255,g[m++]=V>>>8&255,g[m++]=255&V;let H=_/4294967296*1e4&268435455;g[m++]=H>>>8&255,g[m++]=255&H,g[m++]=H>>>24&15|16,g[m++]=H>>>16&255,g[m++]=b>>>8|128,g[m++]=255&b;for(let F=0;F<6;++F)g[m+F]=p[F];return h||(0,n.default)(g)};r.default=d},{"./rng.js":533,"./stringify.js":535}],537:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=o(e("./v35.js")),n=o(e("./md5.js"));function o(a){return a&&a.__esModule?a:{default:a}}var s=(0,i.default)("v3",48,n.default);r.default=s},{"./md5.js":529,"./v35.js":538}],538:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(l,c,d){function u(h,f,m,g){if(typeof h=="string"&&(h=function(b){b=unescape(encodeURIComponent(b));let _=[];for(let E=0;E<b.length;++E)_.push(b.charCodeAt(E));return _}(h)),typeof f=="string"&&(f=(0,n.default)(f)),f.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let p=new Uint8Array(16+h.length);if(p.set(f),p.set(h,f.length),p=d(p),p[6]=15&p[6]|c,p[8]=63&p[8]|128,m){g=g||0;for(let b=0;b<16;++b)m[g+b]=p[b];return m}return(0,i.default)(p)}try{u.name=l}catch{}return u.DNS=s,u.URL=a,u},r.URL=r.DNS=void 0;var i=o(e("./stringify.js")),n=o(e("./parse.js"));function o(l){return l&&l.__esModule?l:{default:l}}let s="6ba7b810-9dad-11d1-80b4-00c04fd430c8";r.DNS=s;let a="6ba7b811-9dad-11d1-80b4-00c04fd430c8";r.URL=a},{"./parse.js":531,"./stringify.js":535}],539:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=o(e("./rng.js")),n=o(e("./stringify.js"));function o(a){return a&&a.__esModule?a:{default:a}}var s=function(a,l,c){let d=(a=a||{}).random||(a.rng||i.default)();if(d[6]=15&d[6]|64,d[8]=63&d[8]|128,l){c=c||0;for(let u=0;u<16;++u)l[c+u]=d[u];return l}return(0,n.default)(d)};r.default=s},{"./rng.js":533,"./stringify.js":535}],540:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=o(e("./v35.js")),n=o(e("./sha1.js"));function o(a){return a&&a.__esModule?a:{default:a}}var s=(0,i.default)("v5",80,n.default);r.default=s},{"./sha1.js":534,"./v35.js":538}],541:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,n=(i=e("./regex.js"))&&i.__esModule?i:{default:i},o=function(s){return typeof s=="string"&&n.default.test(s)};r.default=o},{"./regex.js":532}],542:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,n=(i=e("./validate.js"))&&i.__esModule?i:{default:i},o=function(s){if(!(0,n.default)(s))throw TypeError("Invalid UUID");return parseInt(s.substr(14,1),16)};r.default=o},{"./validate.js":541}],543:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.CHAR=`	
\r -\uD7FF\uE000-\uFFFD\u{10000}-\u{10FFFF}`,r.S=` 	\r
`,r.NAME_START_CHAR=":A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u{10000}-\u{EFFFF}",r.NAME_CHAR="-"+r.NAME_START_CHAR+".0-9\xB7\u0300-\u036F\u203F-\u2040",r.CHAR_RE=new RegExp("^["+r.CHAR+"]$","u"),r.S_RE=new RegExp("^["+r.S+"]+$","u"),r.NAME_START_CHAR_RE=new RegExp("^["+r.NAME_START_CHAR+"]$","u"),r.NAME_CHAR_RE=new RegExp("^["+r.NAME_CHAR+"]$","u"),r.NAME_RE=new RegExp("^["+r.NAME_START_CHAR+"]["+r.NAME_CHAR+"]*$","u"),r.NMTOKEN_RE=new RegExp("^["+r.NAME_CHAR+"]+$","u");function i(n){return n>=65&&n<=90||n>=97&&n<=122||n===58||n===95||n===8204||n===8205||n>=192&&n<=214||n>=216&&n<=246||n>=248&&n<=767||n>=880&&n<=893||n>=895&&n<=8191||n>=8304&&n<=8591||n>=11264&&n<=12271||n>=12289&&n<=55295||n>=63744&&n<=64975||n>=65008&&n<=65533||n>=65536&&n<=983039}r.S_LIST=[32,10,13,9],r.isChar=function(n){return n>=32&&n<=55295||n===10||n===13||n===9||n>=57344&&n<=65533||n>=65536&&n<=1114111},r.isS=function(n){return n===32||n===10||n===13||n===9},r.isNameStartChar=i,r.isNameChar=function(n){return i(n)||n>=48&&n<=57||n===45||n===46||n===183||n>=768&&n<=879||n>=8255&&n<=8256}},{}],544:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.CHAR="-\uD7FF\uE000-\uFFFD\u{10000}-\u{10FFFF}",r.RESTRICTED_CHAR="-\b\v\f-\x7F-\x84\x86-\x9F",r.S=` 	\r
`,r.NAME_START_CHAR=":A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u{10000}-\u{EFFFF}",r.NAME_CHAR="-"+r.NAME_START_CHAR+".0-9\xB7\u0300-\u036F\u203F-\u2040",r.CHAR_RE=new RegExp("^["+r.CHAR+"]$","u"),r.RESTRICTED_CHAR_RE=new RegExp("^["+r.RESTRICTED_CHAR+"]$","u"),r.S_RE=new RegExp("^["+r.S+"]+$","u"),r.NAME_START_CHAR_RE=new RegExp("^["+r.NAME_START_CHAR+"]$","u"),r.NAME_CHAR_RE=new RegExp("^["+r.NAME_CHAR+"]$","u"),r.NAME_RE=new RegExp("^["+r.NAME_START_CHAR+"]["+r.NAME_CHAR+"]*$","u"),r.NMTOKEN_RE=new RegExp("^["+r.NAME_CHAR+"]+$","u");function i(n){return n>=65&&n<=90||n>=97&&n<=122||n===58||n===95||n===8204||n===8205||n>=192&&n<=214||n>=216&&n<=246||n>=248&&n<=767||n>=880&&n<=893||n>=895&&n<=8191||n>=8304&&n<=8591||n>=11264&&n<=12271||n>=12289&&n<=55295||n>=63744&&n<=64975||n>=65008&&n<=65533||n>=65536&&n<=983039}r.S_LIST=[32,10,13,9],r.isChar=function(n){return n>=1&&n<=55295||n>=57344&&n<=65533||n>=65536&&n<=1114111},r.isRestrictedChar=function(n){return n>=1&&n<=8||n===11||n===12||n>=14&&n<=31||n>=127&&n<=132||n>=134&&n<=159},r.isCharAndNotRestricted=function(n){return n===9||n===10||n===13||n>31&&n<127||n===133||n>159&&n<=55295||n>=57344&&n<=65533||n>=65536&&n<=1114111},r.isS=function(n){return n===32||n===10||n===13||n===9},r.isNameStartChar=i,r.isNameChar=function(n){return i(n)||n>=48&&n<=57||n===45||n===46||n===183||n>=768&&n<=879||n>=8255&&n<=8256}},{}],545:[function(e,t,r){"use strict";function i(n){return n>=65&&n<=90||n===95||n>=97&&n<=122||n>=192&&n<=214||n>=216&&n<=246||n>=248&&n<=767||n>=880&&n<=893||n>=895&&n<=8191||n>=8204&&n<=8205||n>=8304&&n<=8591||n>=11264&&n<=12271||n>=12289&&n<=55295||n>=63744&&n<=64975||n>=65008&&n<=65533||n>=65536&&n<=983039}Object.defineProperty(r,"__esModule",{value:!0}),r.NC_NAME_START_CHAR="A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u{10000}-\u{EFFFF}",r.NC_NAME_CHAR="-"+r.NC_NAME_START_CHAR+".0-9\xB7\u0300-\u036F\u203F-\u2040",r.NC_NAME_START_CHAR_RE=new RegExp("^["+r.NC_NAME_START_CHAR+"]$","u"),r.NC_NAME_CHAR_RE=new RegExp("^["+r.NC_NAME_CHAR+"]$","u"),r.NC_NAME_RE=new RegExp("^["+r.NC_NAME_START_CHAR+"]["+r.NC_NAME_CHAR+"]*$","u"),r.isNCNameStartChar=i,r.isNCNameChar=function(n){return i(n)||n===45||n===46||n>=48&&n<=57||n===183||n>=768&&n<=879||n>=8255&&n<=8256}},{}]},{},[15])(15)})});var hot=Ci((Q7,J7)=>{"use strict";(function(e,t){typeof define=="function"&&define.amd?define([],t):typeof Q7<"u"?t():(t(),e.FileSaver={})})(Q7,function(){"use strict";function e(a,l){return typeof l>"u"?l={autoBom:!1}:typeof l!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}function t(a,l,c){var d=new XMLHttpRequest;d.open("GET",a),d.responseType="blob",d.onload=function(){s(d.response,l,c)},d.onerror=function(){console.error("could not download file")},d.send()}function r(a){var l=new XMLHttpRequest;l.open("HEAD",a,!1);try{l.send()}catch{}return 200<=l.status&&299>=l.status}function i(a){try{a.dispatchEvent(new MouseEvent("click"))}catch{var l=document.createEvent("MouseEvents");l.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(l)}}var n=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,o=n.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=n.saveAs||(typeof window!="object"||window!==n?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(a,l,c){var d=n.URL||n.webkitURL,u=document.createElement("a");l=l||a.name||"download",u.download=l,u.rel="noopener",typeof a=="string"?(u.href=a,u.origin===location.origin?i(u):r(u.href)?t(a,l,c):i(u,u.target="_blank")):(u.href=d.createObjectURL(a),setTimeout(function(){d.revokeObjectURL(u.href)},4e4),setTimeout(function(){i(u)},0))}:"msSaveOrOpenBlob"in navigator?function(a,l,c){if(l=l||a.name||"download",typeof a!="string")navigator.msSaveOrOpenBlob(e(a,c),l);else if(r(a))t(a,l,c);else{var d=document.createElement("a");d.href=a,d.target="_blank",setTimeout(function(){i(d)})}}:function(a,l,c,d){if(d=d||open("","_blank"),d&&(d.document.title=d.document.body.innerText="downloading..."),typeof a=="string")return t(a,l,c);var u=a.type==="application/octet-stream",h=/constructor/i.test(n.HTMLElement)||n.safari,f=/CriOS\/[\d]+/.test(navigator.userAgent);if((f||u&&h||o)&&typeof FileReader<"u"){var m=new FileReader;m.onloadend=function(){var b=m.result;b=f?b:b.replace(/^data:[^;]*;/,"data:attachment/file;"),d?d.location.href=b:location=b,d=null},m.readAsDataURL(a)}else{var g=n.URL||n.webkitURL,p=g.createObjectURL(a);d?d.location=p:location.href=p,d=null,setTimeout(function(){g.revokeObjectURL(p)},4e4)}});n.saveAs=s.saveAs=s,typeof J7<"u"&&(J7.exports=s)})});var Tst=Ci((TH,Rst)=>{"use strict";(function(e,t){typeof TH=="object"&&typeof Rst<"u"&&typeof ll=="function"?t(ea()):typeof define=="function"&&define.amd?define(["../moment"],t):t(e.moment)})(TH,function(e){"use strict";var t=/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i,r=/(janv\.?|févr\.?|mars|avr\.?|mai|juin|juil\.?|août|sept\.?|oct\.?|nov\.?|déc\.?)/i,i=/(janv\.?|févr\.?|mars|avr\.?|mai|juin|juil\.?|août|sept\.?|oct\.?|nov\.?|déc\.?|janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i,n=[/^janv/i,/^févr/i,/^mars/i,/^avr/i,/^mai/i,/^juin/i,/^juil/i,/^août/i,/^sept/i,/^oct/i,/^nov/i,/^déc/i],o=e.defineLocale("fr",{months:"janvier_f\xE9vrier_mars_avril_mai_juin_juillet_ao\xFBt_septembre_octobre_novembre_d\xE9cembre".split("_"),monthsShort:"janv._f\xE9vr._mars_avr._mai_juin_juil._ao\xFBt_sept._oct._nov._d\xE9c.".split("_"),monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:t,monthsShortStrictRegex:r,monthsParse:n,longMonthsParse:n,shortMonthsParse:n,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xE0] LT",nextDay:"[Demain \xE0] LT",nextWeek:"dddd [\xE0] LT",lastDay:"[Hier \xE0] LT",lastWeek:"dddd [dernier \xE0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",w:"une semaine",ww:"%d semaines",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(s,a){switch(a){case"D":return s+(s===1?"er":"");default:case"M":case"Q":case"DDD":case"d":return s+(s===1?"er":"e");case"w":case"W":return s+(s===1?"re":"e")}},week:{dow:1,doy:4}});return o})});var K1=class{},iT=class{},Yh=class e{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(r=>{let i=r.indexOf(":");if(i>0){let n=r.slice(0,i),o=n.toLowerCase(),s=r.slice(i+1).trim();this.maybeSetNormalizedName(n,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((r,i)=>{this.setHeaderEntries(i,r)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([r,i])=>{this.setHeaderEntries(r,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let r=this.headers.get(t.toLowerCase());return r&&r.length>0?r[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,r){return this.clone({name:t,value:r,op:"a"})}set(t,r){return this.clone({name:t,value:r,op:"s"})}delete(t,r){return this.clone({name:t,value:r,op:"d"})}maybeSetNormalizedName(t,r){this.normalizedNames.has(r)||this.normalizedNames.set(r,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(r=>{this.headers.set(r,t.headers.get(r)),this.normalizedNames.set(r,t.normalizedNames.get(r))})}clone(t){let r=new e;return r.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,r.lazyUpdate=(this.lazyUpdate||[]).concat([t]),r}applyUpdate(t){let r=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(t.name,r);let n=(t.op==="a"?this.headers.get(r):void 0)||[];n.push(...i),this.headers.set(r,n);break;case"d":let o=t.value;if(!o)this.headers.delete(r),this.normalizedNames.delete(r);else{let s=this.headers.get(r);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(r),this.normalizedNames.delete(r)):this.headers.set(r,s)}break}}setHeaderEntries(t,r){let i=(Array.isArray(r)?r:[r]).map(o=>o.toString()),n=t.toLowerCase();this.headers.set(n,i),this.maybeSetNormalizedName(t,n)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(r=>t(this.normalizedNames.get(r),this.headers.get(r)))}};var qO=class{encodeKey(t){return HB(t)}encodeValue(t){return HB(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function lat(e,t){let r=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(n=>{let o=n.indexOf("="),[s,a]=o==-1?[t.decodeKey(n),""]:[t.decodeKey(n.slice(0,o)),t.decodeValue(n.slice(o+1))],l=r.get(s)||[];l.push(a),r.set(s,l)}),r}var cat=/%(\d[a-f0-9])/gi,dat={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function HB(e){return encodeURIComponent(e).replace(cat,(t,r)=>dat[r]??t)}function eT(e){return`${e}`}var hm=class e{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new qO,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=lat(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(r=>{let i=t.fromObject[r],n=Array.isArray(i)?i.map(eT):[eT(i)];this.map.set(r,n)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let r=this.map.get(t);return r?r[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,r){return this.clone({param:t,value:r,op:"a"})}appendAll(t){let r=[];return Object.keys(t).forEach(i=>{let n=t[i];Array.isArray(n)?n.forEach(o=>{r.push({param:i,value:o,op:"a"})}):r.push({param:i,value:n,op:"a"})}),this.clone(r)}set(t,r){return this.clone({param:t,value:r,op:"s"})}delete(t,r){return this.clone({param:t,value:r,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let r=this.encoder.encodeKey(t);return this.map.get(t).map(i=>r+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let r=new e({encoder:this.encoder});return r.cloneFrom=this.cloneFrom||this,r.updates=(this.updates||[]).concat(t),r}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let r=(t.op==="a"?this.map.get(t.param):void 0)||[];r.push(eT(t.value)),this.map.set(t.param,r);break;case"d":if(t.value!==void 0){let i=this.map.get(t.param)||[],n=i.indexOf(eT(t.value));n!==-1&&i.splice(n,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var $O=class{constructor(){this.map=new Map}set(t,r){return this.map.set(t,r),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function uat(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function BB(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function jB(e){return typeof Blob<"u"&&e instanceof Blob}function VB(e){return typeof FormData<"u"&&e instanceof FormData}function hat(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var G1=class e{constructor(t,r,i,n){this.url=r,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase();let o;if(uat(this.method)||n?(this.body=i!==void 0?i:null,o=n):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Yh,this.context??=new $O,!this.params)this.params=new hm,this.urlWithParams=r;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=r;else{let a=r.indexOf("?"),l=a===-1?"?":a<r.length-1?"&":"";this.urlWithParams=r+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||BB(this.body)||jB(this.body)||VB(this.body)||hat(this.body)?this.body:this.body instanceof hm?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||VB(this.body)?null:jB(this.body)?this.body.type||null:BB(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof hm?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(t={}){let r=t.method||this.method,i=t.url||this.url,n=t.responseType||this.responseType,o=t.transferCache??this.transferCache,s=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress,c=t.headers||this.headers,d=t.params||this.params,u=t.context??this.context;return t.setHeaders!==void 0&&(c=Object.keys(t.setHeaders).reduce((h,f)=>h.set(f,t.setHeaders[f]),c)),t.setParams&&(d=Object.keys(t.setParams).reduce((h,f)=>h.set(f,t.setParams[f]),d)),new e(r,i,s,{params:d,headers:c,context:u,reportProgress:l,responseType:n,withCredentials:a,transferCache:o})}},fm=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(fm||{}),X1=class{constructor(t,r=200,i="OK"){this.headers=t.headers||new Yh,this.status=t.status!==void 0?t.status:r,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},rT=class e extends X1{constructor(t={}){super(t),this.type=fm.ResponseHeader}clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Z1=class e extends X1{constructor(t={}){super(t),this.type=fm.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},um=class extends X1{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},qB=200,fat=204;function YO(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var qh=(()=>{let t=class t{constructor(i){this.handler=i}request(i,n,o={}){let s;if(i instanceof G1)s=i;else{let c;o.headers instanceof Yh?c=o.headers:c=new Yh(o.headers);let d;o.params&&(o.params instanceof hm?d=o.params:d=new hm({fromObject:o.params})),s=new G1(i,n,o.body!==void 0?o.body:null,{headers:c,context:o.context,params:d,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=De(s).pipe(yd(c=>this.handler.handle(c)));if(i instanceof G1||o.observe==="events")return a;let l=a.pipe(co(c=>c instanceof Z1));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe(di(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return l.pipe(di(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return l.pipe(di(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return l.pipe(di(c=>c.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(i,n={}){return this.request("DELETE",i,n)}get(i,n={}){return this.request("GET",i,n)}head(i,n={}){return this.request("HEAD",i,n)}jsonp(i,n){return this.request("JSONP",i,{params:new hm().append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,n={}){return this.request("OPTIONS",i,n)}patch(i,n,o={}){return this.request("PATCH",i,YO(o,n))}post(i,n,o={}){return this.request("POST",i,YO(o,n))}put(i,n,o={}){return this.request("PUT",i,YO(o,n))}};t.\u0275fac=function(n){return new(n||t)(ee(K1))},t.\u0275prov=_e({token:t,factory:t.\u0275fac});let e=t;return e})(),mat=/^\)\]\}',?\n/,pat="X-Request-URL";function zB(e){if(e.url)return e.url;let t=pat.toLocaleLowerCase();return e.headers.get(t)}var gat=(()=>{let t=class t{constructor(){this.fetchImpl=pe(GO,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=pe(ui)}handle(i){return new Eu(n=>{let o=new AbortController;return this.doRequest(i,o.signal,n).then(KO,s=>n.error(new um({error:s}))),()=>o.abort()})}doRequest(i,n,o){return xr(this,null,function*(){let s=this.createRequestInit(i),a;try{let m=this.fetchImpl(i.urlWithParams,Vt({signal:n},s));bat(m),o.next({type:fm.Sent}),a=yield m}catch(m){o.error(new um({error:m,status:m.status??0,statusText:m.statusText,url:i.urlWithParams,headers:m.headers}));return}let l=new Yh(a.headers),c=a.statusText,d=zB(a)??i.urlWithParams,u=a.status,h=null;if(i.reportProgress&&o.next(new rT({headers:l,status:u,statusText:c,url:d})),a.body){let m=a.headers.get("content-length"),g=[],p=a.body.getReader(),b=0,_,E,O=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>xr(this,null,function*(){for(;;){let{done:H,value:F}=yield p.read();if(H)break;if(g.push(F),b+=F.length,i.reportProgress){E=i.responseType==="text"?(E??"")+(_??=new TextDecoder).decode(F,{stream:!0}):void 0;let L=()=>o.next({type:fm.DownloadProgress,total:m?+m:void 0,loaded:b,partialText:E});O?O.run(L):L()}}}));let V=this.concatChunks(g,b);try{let H=a.headers.get("Content-Type")??"";h=this.parseBody(i,V,H)}catch(H){o.error(new um({error:H,headers:new Yh(a.headers),status:a.status,statusText:a.statusText,url:zB(a)??i.urlWithParams}));return}}u===0&&(u=h?qB:0),u>=200&&u<300?(o.next(new Z1({body:h,headers:l,status:u,statusText:c,url:d})),o.complete()):o.error(new um({error:h,headers:l,status:u,statusText:c,url:d}))})}parseBody(i,n,o){switch(i.responseType){case"json":let s=new TextDecoder().decode(n).replace(mat,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(n);case"blob":return new Blob([n],{type:o});case"arraybuffer":return n.buffer}}createRequestInit(i){let n={},o=i.withCredentials?"include":void 0;if(i.headers.forEach((s,a)=>n[s]=a.join(",")),n.Accept??="application/json, text/plain, */*",!n["Content-Type"]){let s=i.detectContentTypeHeader();s!==null&&(n["Content-Type"]=s)}return{body:i.serializeBody(),method:i.method,headers:n,credentials:o}}concatChunks(i,n){let o=new Uint8Array(n),s=0;for(let a of i)o.set(a,s),s+=a.length;return o}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=_e({token:t,factory:t.\u0275fac});let e=t;return e})(),GO=class{};function KO(){}function bat(e){e.then(KO,KO)}function $B(e,t){return t(e)}function vat(e,t){return(r,i)=>t.intercept(r,{handle:n=>e(n,i)})}function yat(e,t,r){return(i,n)=>Cc(r,()=>t(i,o=>e(o,n)))}var _at=new Se(""),XO=new Se(""),wat=new Se(""),GB=new Se("",{providedIn:"root",factory:()=>!0});function Cat(){let e=null;return(t,r)=>{e===null&&(e=(pe(_at,{optional:!0})??[]).reduceRight(vat,$B));let i=pe(L1);if(pe(GB)){let o=i.add();return e(t,r).pipe(jh(()=>i.remove(o)))}else return e(t,r)}}var UB=(()=>{let t=class t extends K1{constructor(i,n){super(),this.backend=i,this.injector=n,this.chain=null,this.pendingTasks=pe(L1),this.contributeToStability=pe(GB)}handle(i){if(this.chain===null){let n=Array.from(new Set([...this.injector.get(XO),...this.injector.get(wat,[])]));this.chain=n.reduceRight((o,s)=>yat(o,s,this.injector),$B)}if(this.contributeToStability){let n=this.pendingTasks.add();return this.chain(i,o=>this.backend.handle(o)).pipe(jh(()=>this.pendingTasks.remove(n)))}else return this.chain(i,n=>this.backend.handle(n))}};t.\u0275fac=function(n){return new(n||t)(ee(iT),ee(Mu))},t.\u0275prov=_e({token:t,factory:t.\u0275fac});let e=t;return e})();var xat=/^\)\]\}',?\n/;function Sat(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}var WB=(()=>{let t=class t{constructor(i){this.xhrFactory=i}handle(i){if(i.method==="JSONP")throw new In(-2800,!1);let n=this.xhrFactory;return(n.\u0275loadImpl?as(n.\u0275loadImpl()):De(null)).pipe(yo(()=>new Eu(s=>{let a=n.build();if(a.open(i.method,i.urlWithParams),i.withCredentials&&(a.withCredentials=!0),i.headers.forEach((p,b)=>a.setRequestHeader(p,b.join(","))),i.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!i.headers.has("Content-Type")){let p=i.detectContentTypeHeader();p!==null&&a.setRequestHeader("Content-Type",p)}if(i.responseType){let p=i.responseType.toLowerCase();a.responseType=p!=="json"?p:"text"}let l=i.serializeBody(),c=null,d=()=>{if(c!==null)return c;let p=a.statusText||"OK",b=new Yh(a.getAllResponseHeaders()),_=Sat(a)||i.url;return c=new rT({headers:b,status:a.status,statusText:p,url:_}),c},u=()=>{let{headers:p,status:b,statusText:_,url:E}=d(),O=null;b!==fat&&(O=typeof a.response>"u"?a.responseText:a.response),b===0&&(b=O?qB:0);let V=b>=200&&b<300;if(i.responseType==="json"&&typeof O=="string"){let H=O;O=O.replace(xat,"");try{O=O!==""?JSON.parse(O):null}catch(F){O=H,V&&(V=!1,O={error:F,text:O})}}V?(s.next(new Z1({body:O,headers:p,status:b,statusText:_,url:E||void 0})),s.complete()):s.error(new um({error:O,headers:p,status:b,statusText:_,url:E||void 0}))},h=p=>{let{url:b}=d(),_=new um({error:p,status:a.status||0,statusText:a.statusText||"Unknown Error",url:b||void 0});s.error(_)},f=!1,m=p=>{f||(s.next(d()),f=!0);let b={type:fm.DownloadProgress,loaded:p.loaded};p.lengthComputable&&(b.total=p.total),i.responseType==="text"&&a.responseText&&(b.partialText=a.responseText),s.next(b)},g=p=>{let b={type:fm.UploadProgress,loaded:p.loaded};p.lengthComputable&&(b.total=p.total),s.next(b)};return a.addEventListener("load",u),a.addEventListener("error",h),a.addEventListener("timeout",h),a.addEventListener("abort",h),i.reportProgress&&(a.addEventListener("progress",m),l!==null&&a.upload&&a.upload.addEventListener("progress",g)),a.send(l),s.next({type:fm.Sent}),()=>{a.removeEventListener("error",h),a.removeEventListener("abort",h),a.removeEventListener("load",u),a.removeEventListener("timeout",h),i.reportProgress&&(a.removeEventListener("progress",m),l!==null&&a.upload&&a.upload.removeEventListener("progress",g)),a.readyState!==a.DONE&&a.abort()}})))}};t.\u0275fac=function(n){return new(n||t)(ee(ZR))},t.\u0275prov=_e({token:t,factory:t.\u0275fac});let e=t;return e})(),KB=new Se(""),Eat="XSRF-TOKEN",Rat=new Se("",{providedIn:"root",factory:()=>Eat}),Tat="X-XSRF-TOKEN",Mat=new Se("",{providedIn:"root",factory:()=>Tat}),nT=class{},Aat=(()=>{let t=class t{constructor(i,n,o){this.doc=i,this.platform=n,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=qR(i,this.cookieName),this.lastCookieString=i),this.lastToken}};t.\u0275fac=function(n){return new(n||t)(ee(Ai),ee(zh),ee(Rat))},t.\u0275prov=_e({token:t,factory:t.\u0275fac});let e=t;return e})();function Iat(e,t){let r=e.url.toLowerCase();if(!pe(KB)||e.method==="GET"||e.method==="HEAD"||r.startsWith("http://")||r.startsWith("https://"))return t(e);let i=pe(nT).getToken(),n=pe(Mat);return i!=null&&!e.headers.has(n)&&(e=e.clone({headers:e.headers.set(n,i)})),t(e)}var XB=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(XB||{});function kat(e,t){return{\u0275kind:e,\u0275providers:t}}function ZO(...e){let t=[qh,WB,UB,{provide:K1,useExisting:UB},{provide:iT,useFactory:()=>pe(gat,{optional:!0})??pe(WB)},{provide:XO,useValue:Iat,multi:!0},{provide:KB,useValue:!0},{provide:nT,useClass:Aat}];for(let r of e)t.push(...r.\u0275providers);return Wl(t)}var YB=new Se("");function Dat(){return kat(XB.LegacyInterceptors,[{provide:YB,useFactory:Cat},{provide:XO,useExisting:YB,multi:!0}])}var ZB=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ue({type:t}),t.\u0275inj=ze({providers:[ZO(Dat())]});let e=t;return e})();var e3=class extends wB{constructor(){super(...arguments),this.supportsDOMEvents=!0}},i3=class e extends e3{static makeCurrent(){_B(new e)}onAndCancel(t,r,i){return t.addEventListener(r,i),()=>{t.removeEventListener(r,i)}}dispatchEvent(t,r){t.dispatchEvent(r)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,r){return r=r||this.getDefaultDocument(),r.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,r){return r==="window"?window:r==="document"?t:r==="body"?t.body:null}getBaseHref(t){let r=Pat();return r==null?null:Nat(r)}resetBaseElement(){J1=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return qR(document.cookie,t)}},J1=null;function Pat(){return J1=J1||document.querySelector("base"),J1?J1.getAttribute("href"):null}function Nat(e){return new URL(e,document.baseURI).pathname}var Lat=(()=>{let t=class t{build(){return new XMLHttpRequest}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=_e({token:t,factory:t.\u0275fac});let e=t;return e})(),r3=new Se(""),tj=(()=>{let t=class t{constructor(i,n){this._zone=n,this._eventNameToPlugin=new Map,i.forEach(o=>{o.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,n,o){return this._findPluginFor(n).addEventListener(i,n,o)}getZone(){return this._zone}_findPluginFor(i){let n=this._eventNameToPlugin.get(i);if(n)return n;if(n=this._plugins.find(s=>s.supports(i)),!n)throw new In(5101,!1);return this._eventNameToPlugin.set(i,n),n}};t.\u0275fac=function(n){return new(n||t)(ee(r3),ee(ui))},t.\u0275prov=_e({token:t,factory:t.\u0275fac});let e=t;return e})(),oT=class{constructor(t){this._doc=t}},JO="ng-app-id",ej=(()=>{let t=class t{constructor(i,n,o,s={}){this.doc=i,this.appId=n,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=XR(s),this.resetHostNodes()}addStyles(i){for(let n of i)this.changeUsageCount(n,1)===1&&this.onStyleAdded(n)}removeStyles(i){for(let n of i)this.changeUsageCount(n,-1)<=0&&this.onStyleRemoved(n)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(n=>n.remove()),i.clear());for(let n of this.getAllStyles())this.onStyleRemoved(n);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let n of this.getAllStyles())this.addStyleToHost(i,n)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let n of this.hostNodes)this.addStyleToHost(n,i)}onStyleRemoved(i){let n=this.styleRef;n.get(i)?.elements?.forEach(o=>o.remove()),n.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${JO}="${this.appId}"]`);if(i?.length){let n=new Map;return i.forEach(o=>{o.textContent!=null&&n.set(o.textContent,o)}),n}return null}changeUsageCount(i,n){let o=this.styleRef;if(o.has(i)){let s=o.get(i);return s.usage+=n,s.usage}return o.set(i,{usage:n,elements:[]}),n}getStyleElement(i,n){let o=this.styleNodesInDOM,s=o?.get(n);if(s?.parentNode===i)return o.delete(n),s.removeAttribute(JO),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=n,this.platformIsServer&&a.setAttribute(JO,this.appId),i.appendChild(a),a}}addStyleToHost(i,n){let o=this.getStyleElement(i,n),s=this.styleRef,a=s.get(n)?.elements;a?a.push(o):s.set(n,{elements:[o],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};t.\u0275fac=function(n){return new(n||t)(ee(Ai),ee(F1),ee(H1,8),ee(zh))},t.\u0275prov=_e({token:t,factory:t.\u0275fac});let e=t;return e})(),t3={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},s3=/%COMP%/g,ij="%COMP%",Fat=`_nghost-${ij}`,Hat=`_ngcontent-${ij}`,Bat=!0,jat=new Se("",{providedIn:"root",factory:()=>Bat});function Vat(e){return Hat.replace(s3,e)}function zat(e){return Fat.replace(s3,e)}function rj(e,t){return t.map(r=>r.replace(s3,e))}var sT=(()=>{let t=class t{constructor(i,n,o,s,a,l,c,d=null){this.eventManager=i,this.sharedStylesHost=n,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=XR(l),this.defaultRenderer=new tw(i,a,c,this.platformIsServer)}createRenderer(i,n){if(!i||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===N1.ShadowDom&&(n=je(Vt({},n),{encapsulation:N1.Emulated}));let o=this.getOrCreateRenderer(i,n);return o instanceof aT?o.applyToHost(i):o instanceof ew&&o.applyStyles(),o}getOrCreateRenderer(i,n){let o=this.rendererByCompId,s=o.get(n.id);if(!s){let a=this.doc,l=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(n.encapsulation){case N1.Emulated:s=new aT(c,d,n,this.appId,u,a,l,h);break;case N1.ShadowDom:return new n3(c,d,i,n,a,l,this.nonce,h);default:s=new ew(c,d,n,u,a,l,h);break}o.set(n.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};t.\u0275fac=function(n){return new(n||t)(ee(tj),ee(ej),ee(F1),ee(jat),ee(Ai),ee(zh),ee(ui),ee(H1))},t.\u0275prov=_e({token:t,factory:t.\u0275fac});let e=t;return e})(),tw=class{constructor(t,r,i,n){this.eventManager=t,this.doc=r,this.ngZone=i,this.platformIsServer=n,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,r){return r?this.doc.createElementNS(t3[r]||r,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,r){(QB(t)?t.content:t).appendChild(r)}insertBefore(t,r,i){t&&(QB(t)?t.content:t).insertBefore(r,i)}removeChild(t,r){t&&t.removeChild(r)}selectRootElement(t,r){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new In(-5104,!1);return r||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,r,i,n){if(n){r=n+":"+r;let o=t3[n];o?t.setAttributeNS(o,r,i):t.setAttribute(r,i)}else t.setAttribute(r,i)}removeAttribute(t,r,i){if(i){let n=t3[i];n?t.removeAttributeNS(n,r):t.removeAttribute(`${i}:${r}`)}else t.removeAttribute(r)}addClass(t,r){t.classList.add(r)}removeClass(t,r){t.classList.remove(r)}setStyle(t,r,i,n){n&(B1.DashCase|B1.Important)?t.style.setProperty(r,i,n&B1.Important?"important":""):t.style[r]=i}removeStyle(t,r,i){i&B1.DashCase?t.style.removeProperty(r):t.style[r]=""}setProperty(t,r,i){t!=null&&(t[r]=i)}setValue(t,r){t.nodeValue=r}listen(t,r,i){if(typeof t=="string"&&(t=zb().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${r}`);return this.eventManager.addEventListener(t,r,this.decoratePreventDefault(i))}decoratePreventDefault(t){return r=>{if(r==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(r)):t(r))===!1&&r.preventDefault()}}};function QB(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var n3=class extends tw{constructor(t,r,i,n,o,s,a,l){super(t,o,s,l),this.sharedStylesHost=r,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=rj(n.id,n.styles);for(let d of c){let u=document.createElement("style");a&&u.setAttribute("nonce",a),u.textContent=d,this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,r){return super.appendChild(this.nodeOrShadowRoot(t),r)}insertBefore(t,r,i){return super.insertBefore(this.nodeOrShadowRoot(t),r,i)}removeChild(t,r){return super.removeChild(this.nodeOrShadowRoot(t),r)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ew=class extends tw{constructor(t,r,i,n,o,s,a,l){super(t,o,s,a),this.sharedStylesHost=r,this.removeStylesOnCompDestroy=n,this.styles=l?rj(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},aT=class extends ew{constructor(t,r,i,n,o,s,a,l){let c=n+"-"+i.id;super(t,r,i,o,s,a,l,c),this.contentAttr=Vat(c),this.hostAttr=zat(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,r){let i=super.createElement(t,r);return super.setAttribute(i,this.contentAttr,""),i}},Uat=(()=>{let t=class t extends oT{constructor(i){super(i)}supports(i){return!0}addEventListener(i,n,o){return i.addEventListener(n,o,!1),()=>this.removeEventListener(i,n,o)}removeEventListener(i,n,o){return i.removeEventListener(n,o)}};t.\u0275fac=function(n){return new(n||t)(ee(Ai))},t.\u0275prov=_e({token:t,factory:t.\u0275fac});let e=t;return e})(),JB=["alt","control","meta","shift"],Wat={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Yat={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},qat=(()=>{let t=class t extends oT{constructor(i){super(i)}supports(i){return t.parseEventName(i)!=null}addEventListener(i,n,o){let s=t.parseEventName(n),a=t.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>zb().onAndCancel(i,s.domEventName,a))}static parseEventName(i){let n=i.toLowerCase().split("."),o=n.shift();if(n.length===0||!(o==="keydown"||o==="keyup"))return null;let s=t._normalizeKey(n.pop()),a="",l=n.indexOf("code");if(l>-1&&(n.splice(l,1),a="code."),JB.forEach(d=>{let u=n.indexOf(d);u>-1&&(n.splice(u,1),a+=d+".")}),a+=s,n.length!=0||s.length===0)return null;let c={};return c.domEventName=o,c.fullKey=a,c}static matchEventFullKeyCode(i,n){let o=Wat[i.key]||i.key,s="";return n.indexOf("code.")>-1&&(o=i.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),JB.forEach(a=>{if(a!==o){let l=Yat[a];l(i)&&(s+=a+".")}}),s+=o,s===n)}static eventCallback(i,n,o){return s=>{t.matchEventFullKeyCode(s,i)&&o.runGuarded(()=>n(s))}}static _normalizeKey(i){return i==="esc"?"escape":i}};t.\u0275fac=function(n){return new(n||t)(ee(Ai))},t.\u0275prov=_e({token:t,factory:t.\u0275fac});let e=t;return e})();function nj(e,t){return bB(Vt({rootComponent:e},$at(t)))}function $at(e){return{appProviders:[...Qat,...e?.providers??[]],platformProviders:Zat}}function Gat(){i3.makeCurrent()}function Kat(){return new Eg}function Xat(){return ZH(document),document}var Zat=[{provide:zh,useValue:EB},{provide:QH,useValue:Gat,multi:!0},{provide:Ai,useFactory:Xat,deps:[]}];var Qat=[{provide:XH,useValue:"root"},{provide:Eg,useFactory:Kat,deps:[]},{provide:r3,useClass:Uat,multi:!0,deps:[Ai,ui,zh]},{provide:r3,useClass:qat,multi:!0,deps:[Ai]},sT,ej,tj,{provide:BR,useExisting:sT},{provide:ZR,useClass:Lat,deps:[]},[]];var oj=(()=>{let t=class t{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};t.\u0275fac=function(n){return new(n||t)(ee(Ai))},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var a3=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=_e({token:t,factory:function(n){let o=null;return n?o=new(n||t):o=ee(Jat),o},providedIn:"root"});let e=t;return e})(),Jat=(()=>{let t=class t extends a3{constructor(i){super(),this._doc=i}sanitize(i,n){if(n==null)return null;switch(i){case ql.NONE:return n;case ql.HTML:return Fb(n,"HTML")?Lb(n):oB(this._doc,String(n)).toString();case ql.STYLE:return Fb(n,"Style")?Lb(n):n;case ql.SCRIPT:if(Fb(n,"Script"))return Lb(n);throw new In(5200,!1);case ql.URL:return Fb(n,"URL")?Lb(n):nB(String(n));case ql.RESOURCE_URL:if(Fb(n,"ResourceURL"))return Lb(n);throw new In(5201,!1);default:throw new In(5202,!1)}}bypassSecurityTrustHtml(i){return JH(i)}bypassSecurityTrustStyle(i){return tB(i)}bypassSecurityTrustScript(i){return eB(i)}bypassSecurityTrustUrl(i){return iB(i)}bypassSecurityTrustResourceUrl(i){return rB(i)}};t.\u0275fac=function(n){return new(n||t)(ee(Ai))},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Er="primary",gw=Symbol("RouteTitle"),h3=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let r=this.params[t];return Array.isArray(r)?r[0]:r}return null}getAll(t){if(this.has(t)){let r=this.params[t];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}};function Xb(e){return new h3(e)}function tlt(e,t,r){let i=r.path.split("/");if(i.length>e.length||r.pathMatch==="full"&&(t.hasChildren()||i.length<e.length))return null;let n={};for(let o=0;o<i.length;o++){let s=i[o],a=e[o];if(s[0]===":")n[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,i.length),posParams:n}}function elt(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!Au(e[r],t[r]))return!1;return!0}function Au(e,t){let r=e?f3(e):void 0,i=t?f3(t):void 0;if(!r||!i||r.length!=i.length)return!1;let n;for(let o=0;o<r.length;o++)if(n=r[o],!bj(e[n],t[n]))return!1;return!0}function f3(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function bj(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let r=[...e].sort(),i=[...t].sort();return r.every((n,o)=>i[o]===n)}else return e===t}function vj(e){return e.length>0?e[e.length-1]:null}function gm(e){return Ru(e)?e:UR(e)?as(Promise.resolve(e)):De(e)}var ilt={exact:_j,subset:wj},yj={exact:rlt,subset:nlt,ignored:()=>!0};function aj(e,t,r){return ilt[r.paths](e.root,t.root,r.matrixParams)&&yj[r.queryParams](e.queryParams,t.queryParams)&&!(r.fragment==="exact"&&e.fragment!==t.fragment)}function rlt(e,t){return Au(e,t)}function _j(e,t,r){if(!Ag(e.segments,t.segments)||!dT(e.segments,t.segments,r)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let i in t.children)if(!e.children[i]||!_j(e.children[i],t.children[i],r))return!1;return!0}function nlt(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(r=>bj(e[r],t[r]))}function wj(e,t,r){return Cj(e,t,t.segments,r)}function Cj(e,t,r,i){if(e.segments.length>r.length){let n=e.segments.slice(0,r.length);return!(!Ag(n,r)||t.hasChildren()||!dT(n,r,i))}else if(e.segments.length===r.length){if(!Ag(e.segments,r)||!dT(e.segments,r,i))return!1;for(let n in t.children)if(!e.children[n]||!wj(e.children[n],t.children[n],i))return!1;return!0}else{let n=r.slice(0,e.segments.length),o=r.slice(e.segments.length);return!Ag(e.segments,n)||!dT(e.segments,n,i)||!e.children[Er]?!1:Cj(e.children[Er],t,o,i)}}function dT(e,t,r){return t.every((i,n)=>yj[r](e[n].parameters,i.parameters))}var mm=class{constructor(t=new gn([],{}),r={},i=null){this.root=t,this.queryParams=r,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Xb(this.queryParams),this._queryParamMap}toString(){return alt.serialize(this)}},gn=class{constructor(t,r){this.segments=t,this.children=r,this.parent=null,Object.values(r).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return uT(this)}},Mg=class{constructor(t,r){this.path=t,this.parameters=r}get parameterMap(){return this._parameterMap??=Xb(this.parameters),this._parameterMap}toString(){return Sj(this)}};function olt(e,t){return Ag(e,t)&&e.every((r,i)=>Au(r.parameters,t[i].parameters))}function Ag(e,t){return e.length!==t.length?!1:e.every((r,i)=>r.path===t[i].path)}function slt(e,t){let r=[];return Object.entries(e.children).forEach(([i,n])=>{i===Er&&(r=r.concat(t(n,i)))}),Object.entries(e.children).forEach(([i,n])=>{i!==Er&&(r=r.concat(t(n,i)))}),r}var bw=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=_e({token:t,factory:()=>new Zb,providedIn:"root"});let e=t;return e})(),Zb=class{parse(t){let r=new p3(t);return new mm(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(t){let r=`/${iw(t.root,!0)}`,i=dlt(t.queryParams),n=typeof t.fragment=="string"?`#${llt(t.fragment)}`:"";return`${r}${i}${n}`}},alt=new Zb;function uT(e){return e.segments.map(t=>Sj(t)).join("/")}function iw(e,t){if(!e.hasChildren())return uT(e);if(t){let r=e.children[Er]?iw(e.children[Er],!1):"",i=[];return Object.entries(e.children).forEach(([n,o])=>{n!==Er&&i.push(`${n}:${iw(o,!1)}`)}),i.length>0?`${r}(${i.join("//")})`:r}else{let r=slt(e,(i,n)=>n===Er?[iw(e.children[Er],!1)]:[`${n}:${iw(i,!1)}`]);return Object.keys(e.children).length===1&&e.children[Er]!=null?`${uT(e)}/${r[0]}`:`${uT(e)}/(${r.join("//")})`}}function xj(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function lT(e){return xj(e).replace(/%3B/gi,";")}function llt(e){return encodeURI(e)}function m3(e){return xj(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function hT(e){return decodeURIComponent(e)}function lj(e){return hT(e.replace(/\+/g,"%20"))}function Sj(e){return`${m3(e.path)}${clt(e.parameters)}`}function clt(e){return Object.entries(e).map(([t,r])=>`;${m3(t)}=${m3(r)}`).join("")}function dlt(e){let t=Object.entries(e).map(([r,i])=>Array.isArray(i)?i.map(n=>`${lT(r)}=${lT(n)}`).join("&"):`${lT(r)}=${lT(i)}`).filter(r=>r);return t.length?`?${t.join("&")}`:""}var ult=/^[^\/()?;#]+/;function l3(e){let t=e.match(ult);return t?t[0]:""}var hlt=/^[^\/()?;=#]+/;function flt(e){let t=e.match(hlt);return t?t[0]:""}var mlt=/^[^=?&#]+/;function plt(e){let t=e.match(mlt);return t?t[0]:""}var glt=/^[^&#]+/;function blt(e){let t=e.match(glt);return t?t[0]:""}var p3=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new gn([],{}):new gn([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(r).length>0)&&(i[Er]=new gn(t,r)),i}parseSegment(){let t=l3(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new In(4009,!1);return this.capture(t),new Mg(hT(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let r=flt(this.remaining);if(!r)return;this.capture(r);let i="";if(this.consumeOptional("=")){let n=l3(this.remaining);n&&(i=n,this.capture(i))}t[hT(r)]=hT(i)}parseQueryParam(t){let r=plt(this.remaining);if(!r)return;this.capture(r);let i="";if(this.consumeOptional("=")){let s=blt(this.remaining);s&&(i=s,this.capture(i))}let n=lj(r),o=lj(i);if(t.hasOwnProperty(n)){let s=t[n];Array.isArray(s)||(s=[s],t[n]=s),s.push(o)}else t[n]=o}parseParens(t){let r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=l3(this.remaining),n=this.remaining[i.length];if(n!=="/"&&n!==")"&&n!==";")throw new In(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Er);let s=this.parseChildren();r[o]=Object.keys(s).length===1?s[Er]:new gn([],s),this.consumeOptional("//")}return r}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new In(4011,!1)}};function Ej(e){return e.segments.length>0?new gn([],{[Er]:e}):e}function Rj(e){let t={};for(let[i,n]of Object.entries(e.children)){let o=Rj(n);if(i===Er&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[i]=o)}let r=new gn(e.segments,t);return vlt(r)}function vlt(e){if(e.numberOfChildren===1&&e.children[Er]){let t=e.children[Er];return new gn(e.segments.concat(t.segments),t.children)}return e}function lw(e){return e instanceof mm}function ylt(e,t,r=null,i=null){let n=Tj(e);return Mj(n,t,r,i)}function Tj(e){let t;function r(o){let s={};for(let l of o.children){let c=r(l);s[l.outlet]=c}let a=new gn(o.url,s);return o===e&&(t=a),a}let i=r(e.root),n=Ej(i);return t??n}function Mj(e,t,r,i){let n=e;for(;n.parent;)n=n.parent;if(t.length===0)return c3(n,n,n,r,i);let o=_lt(t);if(o.toRoot())return c3(n,n,new gn([],{}),r,i);let s=wlt(o,n,e),a=s.processChildren?ow(s.segmentGroup,s.index,o.commands):Ij(s.segmentGroup,s.index,o.commands);return c3(n,s.segmentGroup,a,r,i)}function fT(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function cw(e){return typeof e=="object"&&e!=null&&e.outlets}function c3(e,t,r,i,n){let o={};i&&Object.entries(i).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`});let s;e===t?s=r:s=Aj(e,t,r);let a=Ej(Rj(s));return new mm(a,o,n)}function Aj(e,t,r){let i={};return Object.entries(e.children).forEach(([n,o])=>{o===t?i[n]=r:i[n]=Aj(o,t,r)}),new gn(e.segments,i)}var mT=class{constructor(t,r,i){if(this.isAbsolute=t,this.numberOfDoubleDots=r,this.commands=i,t&&i.length>0&&fT(i[0]))throw new In(4003,!1);let n=i.find(cw);if(n&&n!==vj(i))throw new In(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function _lt(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new mT(!0,0,e);let t=0,r=!1,i=e.reduce((n,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...n,{outlets:a}]}if(o.segmentPath)return[...n,o.segmentPath]}return typeof o!="string"?[...n,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?r=!0:a===".."?t++:a!=""&&n.push(a))}),n):[...n,o]},[]);return new mT(r,t,i)}var $b=class{constructor(t,r,i){this.segmentGroup=t,this.processChildren=r,this.index=i}};function wlt(e,t,r){if(e.isAbsolute)return new $b(t,!0,0);if(!r)return new $b(t,!1,NaN);if(r.parent===null)return new $b(r,!0,0);let i=fT(e.commands[0])?0:1,n=r.segments.length-1+i;return Clt(r,n,e.numberOfDoubleDots)}function Clt(e,t,r){let i=e,n=t,o=r;for(;o>n;){if(o-=n,i=i.parent,!i)throw new In(4005,!1);n=i.segments.length}return new $b(i,!1,n-o)}function xlt(e){return cw(e[0])?e[0].outlets:{[Er]:e}}function Ij(e,t,r){if(e??=new gn([],{}),e.segments.length===0&&e.hasChildren())return ow(e,t,r);let i=Slt(e,t,r),n=r.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){let o=new gn(e.segments.slice(0,i.pathIndex),{});return o.children[Er]=new gn(e.segments.slice(i.pathIndex),e.children),ow(o,0,n)}else return i.match&&n.length===0?new gn(e.segments,{}):i.match&&!e.hasChildren()?g3(e,t,r):i.match?ow(e,0,n):g3(e,t,r)}function ow(e,t,r){if(r.length===0)return new gn(e.segments,{});{let i=xlt(r),n={};if(Object.keys(i).some(o=>o!==Er)&&e.children[Er]&&e.numberOfChildren===1&&e.children[Er].segments.length===0){let o=ow(e.children[Er],t,r);return new gn(e.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(n[o]=Ij(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{i[o]===void 0&&(n[o]=s)}),new gn(e.segments,n)}}function Slt(e,t,r){let i=0,n=t,o={match:!1,pathIndex:0,commandIndex:0};for(;n<e.segments.length;){if(i>=r.length)return o;let s=e.segments[n],a=r[i];if(cw(a))break;let l=`${a}`,c=i<r.length-1?r[i+1]:null;if(n>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!dj(l,c,s))return o;i+=2}else{if(!dj(l,{},s))return o;i++}n++}return{match:!0,pathIndex:n,commandIndex:i}}function g3(e,t,r){let i=e.segments.slice(0,t),n=0;for(;n<r.length;){let o=r[n];if(cw(o)){let l=Elt(o.outlets);return new gn(i,l)}if(n===0&&fT(r[0])){let l=e.segments[t];i.push(new Mg(l.path,cj(r[0]))),n++;continue}let s=cw(o)?o.outlets[Er]:`${o}`,a=n<r.length-1?r[n+1]:null;s&&a&&fT(a)?(i.push(new Mg(s,cj(a))),n+=2):(i.push(new Mg(s,{})),n++)}return new gn(i,{})}function Elt(e){let t={};return Object.entries(e).forEach(([r,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(t[r]=g3(new gn([],{}),0,i))}),t}function cj(e){let t={};return Object.entries(e).forEach(([r,i])=>t[r]=`${i}`),t}function dj(e,t,r){return e==r.path&&Au(t,r.parameters)}var sw="imperative",Is=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Is||{}),xc=class{constructor(t,r){this.id=t,this.url=r}},Qb=class extends xc{constructor(t,r,i="imperative",n=null){super(t,r),this.type=Is.NavigationStart,this.navigationTrigger=i,this.restoredState=n}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Gh=class extends xc{constructor(t,r,i){super(t,r),this.urlAfterRedirects=i,this.type=Is.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Gl=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Gl||{}),pT=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(pT||{}),$h=class extends xc{constructor(t,r,i,n){super(t,r),this.reason=i,this.code=n,this.type=Is.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},pm=class extends xc{constructor(t,r,i,n){super(t,r),this.reason=i,this.code=n,this.type=Is.NavigationSkipped}},dw=class extends xc{constructor(t,r,i,n){super(t,r),this.error=i,this.target=n,this.type=Is.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},gT=class extends xc{constructor(t,r,i,n){super(t,r),this.urlAfterRedirects=i,this.state=n,this.type=Is.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},b3=class extends xc{constructor(t,r,i,n){super(t,r),this.urlAfterRedirects=i,this.state=n,this.type=Is.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},v3=class extends xc{constructor(t,r,i,n,o){super(t,r),this.urlAfterRedirects=i,this.state=n,this.shouldActivate=o,this.type=Is.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},y3=class extends xc{constructor(t,r,i,n){super(t,r),this.urlAfterRedirects=i,this.state=n,this.type=Is.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_3=class extends xc{constructor(t,r,i,n){super(t,r),this.urlAfterRedirects=i,this.state=n,this.type=Is.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},w3=class{constructor(t){this.route=t,this.type=Is.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},C3=class{constructor(t){this.route=t,this.type=Is.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},x3=class{constructor(t){this.snapshot=t,this.type=Is.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},S3=class{constructor(t){this.snapshot=t,this.type=Is.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},E3=class{constructor(t){this.snapshot=t,this.type=Is.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},R3=class{constructor(t){this.snapshot=t,this.type=Is.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bT=class{constructor(t,r,i){this.routerEvent=t,this.position=r,this.anchor=i,this.type=Is.Scroll}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},uw=class{},Jb=class{constructor(t,r){this.url=t,this.navigationBehaviorOptions=r}};var T3=class{constructor(t){this.injector=t,this.outlet=null,this.route=null,this.children=new vw(this.injector),this.attachRef=null}},vw=(()=>{let t=class t{constructor(i){this.parentInjector=i,this.contexts=new Map}onChildOutletCreated(i,n){let o=this.getOrCreateContext(i);o.outlet=n,this.contexts.set(i,o)}onChildOutletDestroyed(i){let n=this.getContext(i);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let n=this.getContext(i);return n||(n=new T3(this.parentInjector),this.contexts.set(i,n)),n}getContext(i){return this.contexts.get(i)||null}};t.\u0275fac=function(n){return new(n||t)(ee(Mu))},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),vT=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let r=this.pathFromRoot(t);return r.length>1?r[r.length-2]:null}children(t){let r=M3(t,this._root);return r?r.children.map(i=>i.value):[]}firstChild(t){let r=M3(t,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(t){let r=A3(t,this._root);return r.length<2?[]:r[r.length-2].children.map(n=>n.value).filter(n=>n!==t)}pathFromRoot(t){return A3(t,this._root).map(r=>r.value)}};function M3(e,t){if(e===t.value)return t;for(let r of t.children){let i=M3(e,r);if(i)return i}return null}function A3(e,t){if(e===t.value)return[t];for(let r of t.children){let i=A3(e,r);if(i.length)return i.unshift(t),i}return[]}var $l=class{constructor(t,r){this.value=t,this.children=r}toString(){return`TreeNode(${this.value})`}};function qb(e){let t={};return e&&e.children.forEach(r=>t[r.value.outlet]=r),t}var yT=class extends vT{constructor(t,r){super(t),this.snapshot=r,H3(this,t)}toString(){return this.snapshot.toString()}};function kj(e){let t=Rlt(e),r=new An([new Mg("",{})]),i=new An({}),n=new An({}),o=new An({}),s=new An(""),a=new tv(r,i,o,s,n,Er,e,t.root);return a.snapshot=t.root,new yT(new $l(a,[]),t)}function Rlt(e){let t={},r={},i={},n="",o=new Gb([],t,i,n,r,Er,e,null,{});return new wT("",new $l(o,[]))}var tv=class{constructor(t,r,i,n,o,s,a,l){this.urlSubject=t,this.paramsSubject=r,this.queryParamsSubject=i,this.fragmentSubject=n,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(di(c=>c[gw]))??De(void 0),this.url=t,this.params=r,this.queryParams=i,this.fragment=n,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(di(t=>Xb(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(di(t=>Xb(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function _T(e,t,r="emptyOnly"){let i,{routeConfig:n}=e;return t!==null&&(r==="always"||n?.path===""||!t.component&&!t.routeConfig?.loadComponent)?i={params:Vt(Vt({},t.params),e.params),data:Vt(Vt({},t.data),e.data),resolve:Vt(Vt(Vt(Vt({},e.data),t.data),n?.data),e._resolvedData)}:i={params:Vt({},e.params),data:Vt({},e.data),resolve:Vt(Vt({},e.data),e._resolvedData??{})},n&&Oj(n)&&(i.resolve[gw]=n.title),i}var Gb=class{get title(){return this.data?.[gw]}constructor(t,r,i,n,o,s,a,l,c){this.url=t,this.params=r,this.queryParams=i,this.fragment=n,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Xb(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Xb(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(i=>i.toString()).join("/"),r=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${r}')`}},wT=class extends vT{constructor(t,r){super(r),this.url=t,H3(this,r)}toString(){return Dj(this._root)}};function H3(e,t){t.value._routerState=e,t.children.forEach(r=>H3(e,r))}function Dj(e){let t=e.children.length>0?` { ${e.children.map(Dj).join(", ")} } `:"";return`${e.value}${t}`}function d3(e){if(e.snapshot){let t=e.snapshot,r=e._futureSnapshot;e.snapshot=r,Au(t.queryParams,r.queryParams)||e.queryParamsSubject.next(r.queryParams),t.fragment!==r.fragment&&e.fragmentSubject.next(r.fragment),Au(t.params,r.params)||e.paramsSubject.next(r.params),elt(t.url,r.url)||e.urlSubject.next(r.url),Au(t.data,r.data)||e.dataSubject.next(r.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function I3(e,t){let r=Au(e.params,t.params)&&olt(e.url,t.url),i=!e.parent!=!t.parent;return r&&!i&&(!e.parent||I3(e.parent,t.parent))}function Oj(e){return typeof e.title=="string"||e.title===null}var Tlt=(()=>{let t=class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Er,this.activateEvents=new ai,this.deactivateEvents=new ai,this.attachEvents=new ai,this.detachEvents=new ai,this.parentContexts=pe(vw),this.location=pe(ps),this.changeDetector=pe(hr),this.inputBinder=pe(RT,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:n,previousValue:o}=i.name;if(n)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new In(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new In(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new In(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,n){this.activated=i,this._activatedRoute=n,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,n){if(this.isActivated)throw new In(4013,!1);this._activatedRoute=i;let o=this.location,a=i.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new k3(i,l,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:c,environmentInjector:n}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=ni({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[er]});let e=t;return e})(),k3=class e{__ngOutletInjector(t){return new e(this.route,this.childContexts,t)}constructor(t,r,i){this.route=t,this.childContexts=r,this.parent=i}get(t,r){return t===tv?this.route:t===vw?this.childContexts:this.parent.get(t,r)}},RT=new Se(""),uj=(()=>{let t=class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){let{activatedRoute:n}=i,o=wc([n.queryParams,n.params,n.data]).pipe(yo(([s,a,l],c)=>(l=Vt(Vt(Vt({},s),a),l),c===0?De(l):Promise.resolve(l)))).subscribe(s=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==n||n.component===null){this.unsubscribeFromRouteData(i);return}let a=yB(n.component);if(!a){this.unsubscribeFromRouteData(i);return}for(let{templateName:l}of a.inputs)i.activatedComponentRef.setInput(l,s[l])});this.outletDataSubscriptions.set(i,o)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=_e({token:t,factory:t.\u0275fac});let e=t;return e})();function Mlt(e,t,r){let i=hw(e,t._root,r?r._root:void 0);return new yT(i,t)}function hw(e,t,r){if(r&&e.shouldReuseRoute(t.value,r.value.snapshot)){let i=r.value;i._futureSnapshot=t.value;let n=Alt(e,t,r);return new $l(i,n)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>hw(e,a)),s}}let i=Ilt(t.value),n=t.children.map(o=>hw(e,o));return new $l(i,n)}}function Alt(e,t,r){return t.children.map(i=>{for(let n of r.children)if(e.shouldReuseRoute(i.value,n.value.snapshot))return hw(e,i,n);return hw(e,i)})}function Ilt(e){return new tv(new An(e.url),new An(e.params),new An(e.queryParams),new An(e.fragment),new An(e.data),e.outlet,e.component,e)}var fw=class{constructor(t,r){this.redirectTo=t,this.navigationBehaviorOptions=r}},Pj="ngNavigationCancelingError";function CT(e,t){let{redirectTo:r,navigationBehaviorOptions:i}=lw(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,n=Nj(!1,Gl.Redirect);return n.url=r,n.navigationBehaviorOptions=i,n}function Nj(e,t){let r=new Error(`NavigationCancelingError: ${e||""}`);return r[Pj]=!0,r.cancellationCode=t,r}function klt(e){return Lj(e)&&lw(e.url)}function Lj(e){return!!e&&e[Pj]}var Dlt=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=We({type:t,selectors:[["ng-component"]],standalone:!0,features:[li],decls:1,vars:0,template:function(n,o){n&1&&He(0,"router-outlet")},dependencies:[Tlt],encapsulation:2});let e=t;return e})();function Olt(e,t){return e.providers&&!e._injector&&(e._injector=AO(e.providers,t,`Route: ${e.path}`)),e._injector??t}function B3(e){let t=e.children&&e.children.map(B3),r=t?je(Vt({},e),{children:t}):Vt({},e);return!r.component&&!r.loadComponent&&(t||r.loadChildren)&&r.outlet&&r.outlet!==Er&&(r.component=Dlt),r}function Cd(e){return e.outlet||Er}function Plt(e,t){let r=e.filter(i=>Cd(i)===t);return r.push(...e.filter(i=>Cd(i)!==t)),r}function yw(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let r=t.routeConfig;if(r?._loadedInjector)return r._loadedInjector;if(r?._injector)return r._injector}return null}var Nlt=(e,t,r,i)=>di(n=>(new D3(t,n.targetRouterState,n.currentRouterState,r,i).activate(e),n)),D3=class{constructor(t,r,i,n,o){this.routeReuseStrategy=t,this.futureState=r,this.currState=i,this.forwardEvent=n,this.inputBindingEnabled=o}activate(t){let r=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,i,t),d3(this.futureState.root),this.activateChildRoutes(r,i,t)}deactivateChildRoutes(t,r,i){let n=qb(r);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,n[s],i),delete n[s]}),Object.values(n).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,r,i){let n=t.value,o=r?r.value:null;if(n===o)if(n.component){let s=i.getContext(n.outlet);s&&this.deactivateChildRoutes(t,r,s.children)}else this.deactivateChildRoutes(t,r,i);else o&&this.deactivateRouteAndItsChildren(r,i)}deactivateRouteAndItsChildren(t,r){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,r):this.deactivateRouteAndOutlet(t,r)}detachAndStoreRouteSubtree(t,r){let i=r.getContext(t.value.outlet),n=i&&t.value.component?i.children:r,o=qb(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,n);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,r){let i=r.getContext(t.value.outlet),n=i&&t.value.component?i.children:r,o=qb(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,n);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,r,i){let n=qb(r);t.children.forEach(o=>{this.activateRoutes(o,n[o.value.outlet],i),this.forwardEvent(new R3(o.value.snapshot))}),t.children.length&&this.forwardEvent(new S3(t.value.snapshot))}activateRoutes(t,r,i){let n=t.value,o=r?r.value:null;if(d3(n),n===o)if(n.component){let s=i.getOrCreateContext(n.outlet);this.activateChildRoutes(t,r,s.children)}else this.activateChildRoutes(t,r,i);else if(n.component){let s=i.getOrCreateContext(n.outlet);if(this.routeReuseStrategy.shouldAttach(n.snapshot)){let a=this.routeReuseStrategy.retrieve(n.snapshot);this.routeReuseStrategy.store(n.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),d3(a.route.value),this.activateChildRoutes(t,null,s.children)}else{let a=yw(n.snapshot);s.attachRef=null,s.route=n,s.injector=a??s.injector,s.outlet&&s.outlet.activateWith(n,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,i)}},xT=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Kb=class{constructor(t,r){this.component=t,this.route=r}};function Llt(e,t,r){let i=e._root,n=t?t._root:null;return rw(i,n,r,[i.value])}function Flt(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function iv(e,t){let r=Symbol(),i=t.get(e,r);return i===r?typeof e=="function"&&!GH(e)?e:t.get(e):i}function rw(e,t,r,i,n={canDeactivateChecks:[],canActivateChecks:[]}){let o=qb(t);return e.children.forEach(s=>{Hlt(s,o[s.value.outlet],r,i.concat([s.value]),n),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>aw(a,r.getContext(s),n)),n}function Hlt(e,t,r,i,n={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,a=r?r.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=Blt(s,o,o.routeConfig.runGuardsAndResolvers);l?n.canActivateChecks.push(new xT(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?rw(e,t,a?a.children:null,i,n):rw(e,t,r,i,n),l&&a&&a.outlet&&a.outlet.isActivated&&n.canDeactivateChecks.push(new Kb(a.outlet.component,s))}else s&&aw(t,a,n),n.canActivateChecks.push(new xT(i)),o.component?rw(e,null,a?a.children:null,i,n):rw(e,null,r,i,n);return n}function Blt(e,t,r){if(typeof r=="function")return r(e,t);switch(r){case"pathParamsChange":return!Ag(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Ag(e.url,t.url)||!Au(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!I3(e,t)||!Au(e.queryParams,t.queryParams);case"paramsChange":default:return!I3(e,t)}}function aw(e,t,r){let i=qb(e),n=e.value;Object.entries(i).forEach(([o,s])=>{n.component?t?aw(s,t.children.getContext(o),r):aw(s,null,r):aw(s,t,r)}),n.component?t&&t.outlet&&t.outlet.isActivated?r.canDeactivateChecks.push(new Kb(t.outlet.component,n)):r.canDeactivateChecks.push(new Kb(null,n)):r.canDeactivateChecks.push(new Kb(null,n))}function _w(e){return typeof e=="function"}function jlt(e){return typeof e=="boolean"}function Vlt(e){return e&&_w(e.canLoad)}function zlt(e){return e&&_w(e.canActivate)}function Ult(e){return e&&_w(e.canActivateChild)}function Wlt(e){return e&&_w(e.canDeactivate)}function Ylt(e){return e&&_w(e.canMatch)}function Fj(e){return e instanceof zH||e?.name==="EmptyError"}var cT=Symbol("INITIAL_VALUE");function ev(){return yo(e=>wc(e.map(t=>t.pipe(to(1),Ts(cT)))).pipe(di(t=>{for(let r of t)if(r!==!0){if(r===cT)return cT;if(r===!1||qlt(r))return r}return!0}),co(t=>t!==cT),to(1)))}function qlt(e){return lw(e)||e instanceof fw}function $lt(e,t){return jl(r=>{let{targetSnapshot:i,currentSnapshot:n,guards:{canActivateChecks:o,canDeactivateChecks:s}}=r;return s.length===0&&o.length===0?De(je(Vt({},r),{guardsResult:!0})):Glt(s,i,n,e).pipe(jl(a=>a&&jlt(a)?Klt(i,o,e,t):De(a)),di(a=>je(Vt({},r),{guardsResult:a})))})}function Glt(e,t,r,i){return as(e).pipe(jl(n=>tct(n.component,n.route,r,t,i)),am(n=>n!==!0,!0))}function Klt(e,t,r,i){return as(t).pipe(yd(n=>wg(Zlt(n.route.parent,i),Xlt(n.route,i),Jlt(e,n.path,r),Qlt(e,n.route,r))),am(n=>n!==!0,!0))}function Xlt(e,t){return e!==null&&t&&t(new E3(e)),De(!0)}function Zlt(e,t){return e!==null&&t&&t(new x3(e)),De(!0)}function Qlt(e,t,r){let i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||i.length===0)return De(!0);let n=i.map(o=>Cg(()=>{let s=yw(t)??r,a=iv(o,s),l=zlt(a)?a.canActivate(t,e):Cc(s,()=>a(t,e));return gm(l).pipe(am())}));return De(n).pipe(ev())}function Jlt(e,t,r){let i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>Flt(s)).filter(s=>s!==null).map(s=>Cg(()=>{let a=s.guards.map(l=>{let c=yw(s.node)??r,d=iv(l,c),u=Ult(d)?d.canActivateChild(i,e):Cc(c,()=>d(i,e));return gm(u).pipe(am())});return De(a).pipe(ev())}));return De(o).pipe(ev())}function tct(e,t,r,i,n){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return De(!0);let s=o.map(a=>{let l=yw(t)??n,c=iv(a,l),d=Wlt(c)?c.canDeactivate(e,t,r,i):Cc(l,()=>c(e,t,r,i));return gm(d).pipe(am())});return De(s).pipe(ev())}function ect(e,t,r,i){let n=t.canLoad;if(n===void 0||n.length===0)return De(!0);let o=n.map(s=>{let a=iv(s,e),l=Vlt(a)?a.canLoad(t,r):Cc(e,()=>a(t,r));return gm(l)});return De(o).pipe(ev(),Hj(i))}function Hj(e){return jH(fn(t=>{if(typeof t!="boolean")throw CT(e,t)}),di(t=>t===!0))}function ict(e,t,r,i){let n=t.canMatch;if(!n||n.length===0)return De(!0);let o=n.map(s=>{let a=iv(s,e),l=Ylt(a)?a.canMatch(t,r):Cc(e,()=>a(t,r));return gm(l)});return De(o).pipe(ev(),Hj(i))}var mw=class{constructor(t){this.segmentGroup=t||null}},pw=class extends Error{constructor(t){super(),this.urlTree=t}};function Yb(e){return _g(new mw(e))}function rct(e){return _g(new In(4e3,!1))}function nct(e){return _g(Nj(!1,Gl.GuardRejected))}var O3=class{constructor(t,r){this.urlSerializer=t,this.urlTree=r}lineralizeSegments(t,r){let i=[],n=r.root;for(;;){if(i=i.concat(n.segments),n.numberOfChildren===0)return De(i);if(n.numberOfChildren>1||!n.children[Er])return rct(`${t.redirectTo}`);n=n.children[Er]}}applyRedirectCommands(t,r,i,n,o){if(typeof r!="string"){let a=r,{queryParams:l,fragment:c,routeConfig:d,url:u,outlet:h,params:f,data:m,title:g}=n,p=Cc(o,()=>a({params:f,data:m,queryParams:l,fragment:c,routeConfig:d,url:u,outlet:h,title:g}));if(p instanceof mm)throw new pw(p);r=p}let s=this.applyRedirectCreateUrlTree(r,this.urlSerializer.parse(r),t,i);if(r[0]==="/")throw new pw(s);return s}applyRedirectCreateUrlTree(t,r,i,n){let o=this.createSegmentGroup(t,r.root,i,n);return new mm(o,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(t,r){let i={};return Object.entries(t).forEach(([n,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);i[n]=r[a]}else i[n]=o}),i}createSegmentGroup(t,r,i,n){let o=this.createSegments(t,r.segments,i,n),s={};return Object.entries(r.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,i,n)}),new gn(o,s)}createSegments(t,r,i,n){return r.map(o=>o.path[0]===":"?this.findPosParam(t,o,n):this.findOrReturn(o,i))}findPosParam(t,r,i){let n=i[r.path.substring(1)];if(!n)throw new In(4001,!1);return n}findOrReturn(t,r){let i=0;for(let n of r){if(n.path===t.path)return r.splice(i),n;i++}return t}},P3={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function oct(e,t,r,i,n){let o=j3(e,t,r);return o.matched?(i=Olt(t,i),ict(i,t,r,n).pipe(di(s=>s===!0?o:Vt({},P3)))):De(o)}function j3(e,t,r){if(t.path==="**")return sct(r);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||r.length>0)?Vt({},P3):{matched:!0,consumedSegments:[],remainingSegments:r,parameters:{},positionalParamSegments:{}};let n=(t.matcher||tlt)(r,e,t);if(!n)return Vt({},P3);let o={};Object.entries(n.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=n.consumed.length>0?Vt(Vt({},o),n.consumed[n.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:n.consumed,remainingSegments:r.slice(n.consumed.length),parameters:s,positionalParamSegments:n.posParams??{}}}function sct(e){return{matched:!0,parameters:e.length>0?vj(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function hj(e,t,r,i){return r.length>0&&cct(e,r,i)?{segmentGroup:new gn(t,lct(i,new gn(r,e.children))),slicedSegments:[]}:r.length===0&&dct(e,r,i)?{segmentGroup:new gn(e.segments,act(e,r,i,e.children)),slicedSegments:r}:{segmentGroup:new gn(e.segments,e.children),slicedSegments:r}}function act(e,t,r,i){let n={};for(let o of r)if(TT(e,t,o)&&!i[Cd(o)]){let s=new gn([],{});n[Cd(o)]=s}return Vt(Vt({},i),n)}function lct(e,t){let r={};r[Er]=t;for(let i of e)if(i.path===""&&Cd(i)!==Er){let n=new gn([],{});r[Cd(i)]=n}return r}function cct(e,t,r){return r.some(i=>TT(e,t,i)&&Cd(i)!==Er)}function dct(e,t,r){return r.some(i=>TT(e,t,i))}function TT(e,t,r){return(e.hasChildren()||t.length>0)&&r.pathMatch==="full"?!1:r.path===""}function uct(e,t,r,i){return Cd(e)!==i&&(i===Er||!TT(t,r,e))?!1:j3(t,e,r).matched}function hct(e,t,r){return t.length===0&&!e.children[r]}var N3=class{};function fct(e,t,r,i,n,o,s="emptyOnly"){return new L3(e,t,r,i,n,s,o).recognize()}var mct=31,L3=class{constructor(t,r,i,n,o,s,a){this.injector=t,this.configLoader=r,this.rootComponentType=i,this.config=n,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new O3(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new In(4002,`'${t.segmentGroup}'`)}recognize(){let t=hj(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(di(({children:r,rootSnapshot:i})=>{let n=new $l(i,r),o=new wT("",n),s=ylt(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let r=new Gb([],Object.freeze({}),Object.freeze(Vt({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Er,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,Er,r).pipe(di(i=>({children:i,rootSnapshot:r})),zl(i=>{if(i instanceof pw)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof mw?this.noMatchError(i):i}))}processSegmentGroup(t,r,i,n,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(t,r,i,o):this.processSegment(t,r,i,i.segments,n,!0,o).pipe(di(s=>s instanceof $l?[s]:[]))}processChildren(t,r,i,n){let o=[];for(let s of Object.keys(i.children))s==="primary"?o.unshift(s):o.push(s);return as(o).pipe(yd(s=>{let a=i.children[s],l=Plt(r,s);return this.processSegmentGroup(t,l,a,s,n)}),qH((s,a)=>(s.push(...a),s)),SO(null),WH(),jl(s=>{if(s===null)return Yb(i);let a=Bj(s);return pct(a),De(a)}))}processSegment(t,r,i,n,o,s,a){return as(r).pipe(yd(l=>this.processSegmentAgainstRoute(l._injector??t,r,l,i,n,o,s,a).pipe(zl(c=>{if(c instanceof mw)return De(null);throw c}))),am(l=>!!l),zl(l=>{if(Fj(l))return hct(i,n,o)?De(new N3):Yb(i);throw l}))}processSegmentAgainstRoute(t,r,i,n,o,s,a,l){return uct(i,n,o,s)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(t,n,i,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s,l):Yb(n):Yb(n)}expandSegmentAgainstRouteUsingRedirect(t,r,i,n,o,s,a){let{matched:l,parameters:c,consumedSegments:d,positionalParamSegments:u,remainingSegments:h}=j3(r,n,o);if(!l)return Yb(r);typeof n.redirectTo=="string"&&n.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>mct&&(this.allowRedirects=!1));let f=new Gb(o,c,Object.freeze(Vt({},this.urlTree.queryParams)),this.urlTree.fragment,fj(n),Cd(n),n.component??n._loadedComponent??null,n,mj(n)),m=_T(f,a,this.paramsInheritanceStrategy);f.params=Object.freeze(m.params),f.data=Object.freeze(m.data);let g=this.applyRedirects.applyRedirectCommands(d,n.redirectTo,u,f,t);return this.applyRedirects.lineralizeSegments(n,g).pipe(jl(p=>this.processSegment(t,i,r,p.concat(h),s,!1,a)))}matchSegmentAgainstRoute(t,r,i,n,o,s){let a=oct(r,i,n,t,this.urlSerializer);return i.path==="**"&&(r.children={}),a.pipe(yo(l=>l.matched?(t=i._injector??t,this.getChildConfig(t,i,n).pipe(yo(({routes:c})=>{let d=i._loadedInjector??t,{parameters:u,consumedSegments:h,remainingSegments:f}=l,m=new Gb(h,u,Object.freeze(Vt({},this.urlTree.queryParams)),this.urlTree.fragment,fj(i),Cd(i),i.component??i._loadedComponent??null,i,mj(i)),g=_T(m,s,this.paramsInheritanceStrategy);m.params=Object.freeze(g.params),m.data=Object.freeze(g.data);let{segmentGroup:p,slicedSegments:b}=hj(r,h,f,c);if(b.length===0&&p.hasChildren())return this.processChildren(d,c,p,m).pipe(di(E=>new $l(m,E)));if(c.length===0&&b.length===0)return De(new $l(m,[]));let _=Cd(i)===o;return this.processSegment(d,c,p,b,_?Er:o,!0,m).pipe(di(E=>new $l(m,E instanceof $l?[E]:[])))}))):Yb(r)))}getChildConfig(t,r,i){return r.children?De({routes:r.children,injector:t}):r.loadChildren?r._loadedRoutes!==void 0?De({routes:r._loadedRoutes,injector:r._loadedInjector}):ect(t,r,i,this.urlSerializer).pipe(jl(n=>n?this.configLoader.loadChildren(t,r).pipe(fn(o=>{r._loadedRoutes=o.routes,r._loadedInjector=o.injector})):nct(r))):De({routes:[],injector:t})}};function pct(e){e.sort((t,r)=>t.value.outlet===Er?-1:r.value.outlet===Er?1:t.value.outlet.localeCompare(r.value.outlet))}function gct(e){let t=e.value.routeConfig;return t&&t.path===""}function Bj(e){let t=[],r=new Set;for(let i of e){if(!gct(i)){t.push(i);continue}let n=t.find(o=>i.value.routeConfig===o.value.routeConfig);n!==void 0?(n.children.push(...i.children),r.add(n)):t.push(i)}for(let i of r){let n=Bj(i.children);t.push(new $l(i.value,n))}return t.filter(i=>!r.has(i))}function fj(e){return e.data||{}}function mj(e){return e.resolve||{}}function bct(e,t,r,i,n,o){return jl(s=>fct(e,t,r,i,s.extractedUrl,n,o).pipe(di(({state:a,tree:l})=>je(Vt({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function vct(e,t){return jl(r=>{let{targetSnapshot:i,guards:{canActivateChecks:n}}=r;if(!n.length)return De(r);let o=new Set(n.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of jj(l))s.add(c);let a=0;return as(s).pipe(yd(l=>o.has(l)?yct(l,i,e,t):(l.data=_T(l,l.parent,e).resolve,De(void 0))),fn(()=>a++),EO(1),jl(l=>a===s.size?De(r):cl))})}function jj(e){let t=e.children.map(r=>jj(r)).flat();return[e,...t]}function yct(e,t,r,i){let n=e.routeConfig,o=e._resolve;return n?.title!==void 0&&!Oj(n)&&(o[gw]=n.title),_ct(o,e,t,i).pipe(di(s=>(e._resolvedData=s,e.data=_T(e,e.parent,r).resolve,null)))}function _ct(e,t,r,i){let n=f3(e);if(n.length===0)return De({});let o={};return as(n).pipe(jl(s=>wct(e[s],t,r,i).pipe(am(),fn(a=>{if(a instanceof fw)throw CT(new Zb,a);o[s]=a}))),EO(1),UH(o),zl(s=>Fj(s)?cl:_g(s)))}function wct(e,t,r,i){let n=yw(t)??i,o=iv(e,n),s=o.resolve?o.resolve(t,r):Cc(n,()=>o(t,r));return gm(s)}function u3(e){return yo(t=>{let r=e(t);return r?as(r).pipe(di(()=>t)):De(t)})}var Vj=(()=>{let t=class t{buildTitle(i){let n,o=i.root;for(;o!==void 0;)n=this.getResolvedTitleForRoute(o)??n,o=o.children.find(s=>s.outlet===Er);return n}getResolvedTitleForRoute(i){return i.data[gw]}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=_e({token:t,factory:()=>pe(Cct),providedIn:"root"});let e=t;return e})(),Cct=(()=>{let t=class t extends Vj{constructor(i){super(),this.title=i}updateTitle(i){let n=this.buildTitle(i);n!==void 0&&this.title.setTitle(n)}};t.\u0275fac=function(n){return new(n||t)(ee(oj))},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),ww=new Se("",{providedIn:"root",factory:()=>({})}),ST=new Se(""),V3=(()=>{let t=class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=pe(YR)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return De(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let n=gm(i.loadComponent()).pipe(di(zj),fn(s=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=s}),jh(()=>{this.componentLoaders.delete(i)})),o=new O1(n,()=>new Je).pipe(yO());return this.componentLoaders.set(i,o),o}loadChildren(i,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return De({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);let s=xct(n,this.compiler,i,this.onLoadEndListener).pipe(jh(()=>{this.childrenLoaders.delete(n)})),a=new O1(s,()=>new Je).pipe(yO());return this.childrenLoaders.set(n,a),a}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function xct(e,t,r,i){return gm(e.loadChildren()).pipe(di(zj),jl(n=>n instanceof lB||Array.isArray(n)?De(n):as(t.compileModuleAsync(n))),di(n=>{i&&i(e);let o,s,a=!1;return Array.isArray(n)?(s=n,a=!0):(o=n.create(r).injector,s=o.get(ST,[],{optional:!0,self:!0}).flat()),{routes:s.map(B3),injector:o}}))}function Sct(e){return e&&typeof e=="object"&&"default"in e}function zj(e){return Sct(e)?e.default:e}var z3=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=_e({token:t,factory:()=>pe(Ect),providedIn:"root"});let e=t;return e})(),Ect=(()=>{let t=class t{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,n){return i}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Uj=new Se(""),Wj=new Se("");function Rct(e,t,r){let i=e.get(Wj),n=e.get(Ai);return e.get(ui).runOutsideAngular(()=>{if(!n.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,s=new Promise(c=>{o=c}),a=n.startViewTransition(()=>(o(),Tct(e))),{onViewTransitionCreated:l}=i;return l&&Cc(e,()=>l({transition:a,from:t,to:r})),s})}function Tct(e){return new Promise(t=>{ma(t,{injector:e})})}var Mct=new Se(""),U3=(()=>{let t=class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Je,this.transitionAbortSubject=new Je,this.configLoader=pe(V3),this.environmentInjector=pe(Mu),this.urlSerializer=pe(bw),this.rootContexts=pe(vw),this.location=pe(Wh),this.inputBindingEnabled=pe(RT,{optional:!0})!==null,this.titleStrategy=pe(Vj),this.options=pe(ww,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=pe(z3),this.createViewTransition=pe(Uj,{optional:!0}),this.navigationErrorHandler=pe(Mct,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>De(void 0),this.rootComponentType=null;let i=o=>this.events.next(new w3(o)),n=o=>this.events.next(new C3(o));this.configLoader.onLoadEndListener=n,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let n=++this.navigationId;this.transitions?.next(je(Vt(Vt({},this.transitions.value),i),{id:n}))}setupNavigations(i,n,o){return this.transitions=new An({id:0,currentUrlTree:n,currentRawUrl:n,extractedUrl:this.urlHandlingStrategy.extract(n),urlAfterRedirects:this.urlHandlingStrategy.extract(n),rawUrl:n,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:sw,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(co(s=>s.id!==0),di(s=>je(Vt({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),yo(s=>{let a=!1,l=!1;return De(s).pipe(yo(c=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Gl.SupersededByNewNavigation),cl;this.currentTransition=s,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?je(Vt({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=c.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!d&&u!=="reload"){let h="";return this.events.next(new pm(c.id,this.urlSerializer.serialize(c.rawUrl),h,pT.IgnoredSameUrlNavigation)),c.resolve(!1),cl}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return De(c).pipe(yo(h=>{let f=this.transitions?.getValue();return this.events.next(new Qb(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?cl:Promise.resolve(h)}),bct(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),fn(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=je(Vt({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new gT(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:h,extractedUrl:f,source:m,restoredState:g,extras:p}=c,b=new Qb(h,this.urlSerializer.serialize(f),m,g);this.events.next(b);let _=kj(this.rootComponentType).snapshot;return this.currentTransition=s=je(Vt({},c),{targetSnapshot:_,urlAfterRedirects:f,extras:je(Vt({},p),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,De(s)}else{let h="";return this.events.next(new pm(c.id,this.urlSerializer.serialize(c.extractedUrl),h,pT.IgnoredByUrlHandlingStrategy)),c.resolve(!1),cl}}),fn(c=>{let d=new b3(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),di(c=>(this.currentTransition=s=je(Vt({},c),{guards:Llt(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),s)),$lt(this.environmentInjector,c=>this.events.next(c)),fn(c=>{if(s.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw CT(this.urlSerializer,c.guardsResult);let d=new v3(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(d)}),co(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Gl.GuardRejected),!1)),u3(c=>{if(c.guards.canActivateChecks.length)return De(c).pipe(fn(d=>{let u=new y3(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(u)}),yo(d=>{let u=!1;return De(d).pipe(vct(this.paramsInheritanceStrategy,this.environmentInjector),fn({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(d,"",Gl.NoDataFromResolver)}}))}),fn(d=>{let u=new _3(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(u)}))}),u3(c=>{let d=u=>{let h=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(u.routeConfig).pipe(fn(f=>{u.component=f}),di(()=>{})));for(let f of u.children)h.push(...d(f));return h};return wc(d(c.targetSnapshot.root)).pipe(SO(null),to(1))}),u3(()=>this.afterPreactivation()),yo(()=>{let{currentSnapshot:c,targetSnapshot:d}=s,u=this.createViewTransition?.(this.environmentInjector,c.root,d.root);return u?as(u).pipe(di(()=>s)):De(s)}),di(c=>{let d=Mlt(i.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s=je(Vt({},c),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,s}),fn(()=>{this.events.next(new uw)}),Nlt(this.rootContexts,i.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),to(1),fn({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Gh(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),qn(this.transitionAbortSubject.pipe(fn(c=>{throw c}))),jh(()=>{!a&&!l&&this.cancelNavigationTransition(s,"",Gl.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),zl(c=>{if(l=!0,Lj(c))this.events.next(new $h(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),klt(c)?this.events.next(new Jb(c.url,c.navigationBehaviorOptions)):s.resolve(!1);else{let d=new dw(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0);try{let u=Cc(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(u instanceof fw){let{message:h,cancellationCode:f}=CT(this.urlSerializer,u);this.events.next(new $h(s.id,this.urlSerializer.serialize(s.extractedUrl),h,f)),this.events.next(new Jb(u.redirectTo,u.navigationBehaviorOptions))}else{this.events.next(d);let h=i.errorHandler(c);s.resolve(!!h)}}catch(u){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(u)}}return cl}))}))}cancelNavigationTransition(i,n,o){let s=new $h(i.id,this.urlSerializer.serialize(i.extractedUrl),n,o);this.events.next(s),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Act(e){return e!==sw}var Ict=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=_e({token:t,factory:()=>pe(kct),providedIn:"root"});let e=t;return e})(),F3=class{shouldDetach(t){return!1}store(t,r){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,r){return t.routeConfig===r.routeConfig}},kct=(()=>{let t=class t extends F3{};t.\u0275fac=(()=>{let i;return function(o){return(i||(i=Ms(t)))(o||t)}})(),t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Yj=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=_e({token:t,factory:()=>pe(Dct),providedIn:"root"});let e=t;return e})(),Dct=(()=>{let t=class t extends Yj{constructor(){super(...arguments),this.location=pe(Wh),this.urlSerializer=pe(bw),this.options=pe(ww,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=pe(z3),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new mm,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=kj(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(n=>{n.type==="popstate"&&i(n.url,n.state)})}handleRouterEvent(i,n){if(i instanceof Qb)this.stateMemento=this.createStateMemento();else if(i instanceof pm)this.rawUrlTree=n.initialUrl;else if(i instanceof gT){if(this.urlUpdateStrategy==="eager"&&!n.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl);this.setBrowserUrl(o,n)}}else i instanceof uw?(this.currentUrlTree=n.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl),this.routerState=n.targetRouterState,this.urlUpdateStrategy==="deferred"&&(n.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,n))):i instanceof $h&&(i.code===Gl.GuardRejected||i.code===Gl.NoDataFromResolver)?this.restoreHistory(n):i instanceof dw?this.restoreHistory(n,!0):i instanceof Gh&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,n){let o=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(o)||n.extras.replaceUrl){let s=this.browserPageId,a=Vt(Vt({},n.extras.state),this.generateNgRouterState(n.id,s));this.location.replaceState(o,"",a)}else{let s=Vt(Vt({},n.extras.state),this.generateNgRouterState(n.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(i,n=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===i.finalUrl&&s===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(n&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,n){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:n}:{navigationId:i}}};t.\u0275fac=(()=>{let i;return function(o){return(i||(i=Ms(t)))(o||t)}})(),t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),nw=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(nw||{});function qj(e,t){e.events.pipe(co(r=>r instanceof Gh||r instanceof $h||r instanceof dw||r instanceof pm),di(r=>r instanceof Gh||r instanceof pm?nw.COMPLETE:(r instanceof $h?r.code===Gl.Redirect||r.code===Gl.SupersededByNewNavigation:!1)?nw.REDIRECTING:nw.FAILED),co(r=>r!==nw.REDIRECTING),to(1)).subscribe(()=>{t()})}function Oct(e){throw e}var Pct={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Nct={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ig=(()=>{let t=class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=pe(zR),this.stateManager=pe(Yj),this.options=pe(ww,{optional:!0})||{},this.pendingTasks=pe(L1),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=pe(U3),this.urlSerializer=pe(bw),this.location=pe(Wh),this.urlHandlingStrategy=pe(z3),this._events=new Je,this.errorHandler=this.options.errorHandler||Oct,this.navigated=!1,this.routeReuseStrategy=pe(Ict),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=pe(ST,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!pe(RT,{optional:!0}),this.eventsSubscription=new Ro,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(n=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(n,s),n instanceof $h&&n.code!==Gl.Redirect&&n.code!==Gl.SupersededByNewNavigation)this.navigated=!0;else if(n instanceof Gh)this.navigated=!0;else if(n instanceof Jb){let a=n.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(n.url,o.currentRawUrl),c=Vt({info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Act(o.source)},a);this.scheduleNavigation(l,sw,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}Fct(n)&&this._events.next(n)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),sw,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,n)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",n)},0)})}navigateToSyncWithBrowser(i,n,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let c=Vt({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(s.state=c)}let l=this.parseUrl(i);this.scheduleNavigation(l,n,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(B3),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,n={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:c}=n,d=c?this.currentUrlTree.fragment:a,u=null;switch(l){case"merge":u=Vt(Vt({},this.currentUrlTree.queryParams),s);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}u!==null&&(u=this.removeEmptyProps(u));let h;try{let f=o?o.snapshot:this.routerState.snapshot.root;h=Tj(f)}catch{(typeof i[0]!="string"||i[0][0]!=="/")&&(i=[]),h=this.currentUrlTree.root}return Mj(h,i,u,d??null)}navigateByUrl(i,n={skipLocationChange:!1}){let o=lw(i)?i:this.parseUrl(i),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,sw,null,n)}navigate(i,n={skipLocationChange:!1}){return Lct(i),this.navigateByUrl(this.createUrlTree(i,n),n)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,n){let o;if(n===!0?o=Vt({},Pct):n===!1?o=Vt({},Nct):o=n,lw(i))return aj(this.currentUrlTree,i,o);let s=this.parseUrl(i);return aj(this.currentUrlTree,s,o)}removeEmptyProps(i){return Object.entries(i).reduce((n,[o,s])=>(s!=null&&(n[o]=s),n),{})}scheduleNavigation(i,n,o,s,a){if(this.disposed)return Promise.resolve(!1);let l,c,d;a?(l=a.resolve,c=a.reject,d=a.promise):d=new Promise((h,f)=>{l=h,c=f});let u=this.pendingTasks.add();return qj(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:s,resolve:l,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(h=>Promise.reject(h))}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Lct(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new In(4008,!1)}function Fct(e){return!(e instanceof uw)&&!(e instanceof Jb)}var ET=class{};var Hct=(()=>{let t=class t{constructor(i,n,o,s,a){this.router=i,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(co(i=>i instanceof Gh),yd(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,n){let o=[];for(let s of n){s.providers&&!s._injector&&(s._injector=AO(s.providers,i,`Route: ${s.path}`));let a=s._injector??i,l=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(l,s.children??s._loadedRoutes))}return as(o).pipe(_O())}preloadConfig(i,n){return this.preloadingStrategy.preload(n,()=>{let o;n.loadChildren&&n.canLoad===void 0?o=this.loader.loadChildren(i,n):o=De(null);let s=o.pipe(jl(a=>a===null?De(void 0):(n._loadedRoutes=a.routes,n._loadedInjector=a.injector,this.processRoutes(a.injector??i,a.routes))));if(n.loadComponent&&!n._loadedComponent){let a=this.loader.loadComponent(n);return as([s,a]).pipe(_O())}else return s})}};t.\u0275fac=function(n){return new(n||t)(ee(Ig),ee(YR),ee(Mu),ee(ET),ee(V3))},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),$j=new Se(""),Bct=(()=>{let t=class t{constructor(i,n,o,s,a={}){this.urlSerializer=i,this.transitions=n,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=pe(Mu),a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof Qb?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof Gh?(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment)):i instanceof pm&&i.code===pT.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof bT&&(i.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(i.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,n){this.zone.runOutsideAngular(()=>xr(this,null,function*(){yield new Promise(o=>{setTimeout(()=>{o()}),ma(()=>{o()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new bT(i,this.lastSource==="popstate"?this.store[this.restoredId]:null,n))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};t.\u0275fac=function(n){Uh()},t.\u0275prov=_e({token:t,factory:t.\u0275fac});let e=t;return e})();function jct(e){return e.routerState.root}function Cw(e,t){return{\u0275kind:e,\u0275providers:t}}function Vct(){let e=pe(mn);return t=>{let r=e.get(Tg);if(t!==r.components[0])return;let i=e.get(Ig),n=e.get(Gj);e.get(W3)===1&&i.initialNavigation(),e.get(Kj,null,RO.Optional)?.setUpPreloading(),e.get($j,null,RO.Optional)?.init(),i.resetRootComponentType(r.componentTypes[0]),n.closed||(n.next(),n.complete(),n.unsubscribe())}}var Gj=new Se("",{factory:()=>new Je}),W3=new Se("",{providedIn:"root",factory:()=>1});function zct(){return Cw(2,[{provide:W3,useValue:0},{provide:WR,multi:!0,deps:[mn],useFactory:t=>{let r=t.get(CB,Promise.resolve());return()=>r.then(()=>new Promise(i=>{let n=t.get(Ig),o=t.get(Gj);qj(n,()=>{i(!0)}),t.get(U3).afterPreactivation=()=>(i(!0),o.closed?De(void 0):o),n.initialNavigation()}))}}])}function Uct(){return Cw(3,[{provide:WR,multi:!0,useFactory:()=>{let t=pe(Ig);return()=>{t.setUpLocationChangeListener()}}},{provide:W3,useValue:2}])}var Kj=new Se("");function Wct(e){return Cw(0,[{provide:Kj,useExisting:Hct},{provide:ET,useExisting:e}])}function Yct(){return Cw(8,[uj,{provide:RT,useExisting:uj}])}function qct(e){let t=[{provide:Uj,useValue:Rct},{provide:Wj,useValue:Vt({skipNextTransition:!!e?.skipInitialTransition},e)}];return Cw(9,t)}var pj=new Se("ROUTER_FORROOT_GUARD"),$ct=[Wh,{provide:bw,useClass:Zb},Ig,vw,{provide:tv,useFactory:jct,deps:[Ig]},V3,[]],Xj=(()=>{let t=class t{constructor(i){}static forRoot(i,n){return{ngModule:t,providers:[$ct,[],{provide:ST,multi:!0,useValue:i},{provide:pj,useFactory:Zct,deps:[[Ig,new lm,new Sg]]},{provide:ww,useValue:n||{}},n?.useHash?Kct():Xct(),Gct(),n?.preloadingStrategy?Wct(n.preloadingStrategy).\u0275providers:[],n?.initialNavigation?Qct(n):[],n?.bindToComponentInputs?Yct().\u0275providers:[],n?.enableViewTransitions?qct().\u0275providers:[],Jct()]}}static forChild(i){return{ngModule:t,providers:[{provide:ST,multi:!0,useValue:i}]}}};t.\u0275fac=function(n){return new(n||t)(ee(pj,8))},t.\u0275mod=Ue({type:t}),t.\u0275inj=ze({});let e=t;return e})();function Gct(){return{provide:$j,useFactory:()=>{let e=pe(TB),t=pe(ui),r=pe(ww),i=pe(U3),n=pe(bw);return r.scrollOffset&&e.setOffset(r.scrollOffset),new Bct(n,i,e,t,r)}}}function Kct(){return{provide:PO,useClass:SB}}function Xct(){return{provide:PO,useClass:xB}}function Zct(e){return"guarded"}function Qct(e){return[e.initialNavigation==="disabled"?Uct().\u0275providers:[],e.initialNavigation==="enabledBlocking"?zct().\u0275providers:[]]}var gj=new Se("");function Jct(){return[{provide:gj,useFactory:Vct},{provide:DO,multi:!0,useExisting:gj}]}var q3;try{q3=typeof Intl<"u"&&Intl.v8BreakIterator}catch{q3=!1}var jr=(()=>{let t=class t{constructor(i){this._platformId=i,this.isBrowser=this._platformId?RB(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||q3)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};t.\u0275fac=function(n){return new(n||t)(ee(zh))},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var rv,Zj=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function $3(){if(rv)return rv;if(typeof document!="object"||!document)return rv=new Set(Zj),rv;let e=document.createElement("input");return rv=new Set(Zj.filter(t=>(e.setAttribute("type",t),e.type===t))),rv}var xw;function tdt(){if(xw==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>xw=!0}))}finally{xw=xw||!1}return xw}function ul(e){return tdt()?e:!!e.capture}var kg;function Qj(){if(kg==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return kg=!1,kg;if("scrollBehavior"in document.documentElement.style)kg=!0;else{let e=Element.prototype.scrollTo;e?kg=!/\{\s*\[native code\]\s*\}/.test(e.toString()):kg=!1}}return kg}var Y3;function edt(){if(Y3==null){let e=typeof document<"u"?document.head:null;Y3=!!(e&&(e.createShadowRoot||e.attachShadow))}return Y3}function Jj(e){if(edt()){let t=e.getRootNode?e.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function bm(){let e=typeof document<"u"&&document?document.activeElement:null;for(;e&&e.shadowRoot;){let t=e.shadowRoot.activeElement;if(t===e)break;e=t}return e}function Sc(e){return e.composedPath?e.composedPath()[0]:e.target}function Sw(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Kl(e,...t){return t.length?t.some(r=>e[r]):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}function Dg(e){return Ru(e)?e:De(e)}function ku(e){return e!=null&&`${e}`!="false"}function Kh(e,t=0){return idt(e)?Number(e):arguments.length===2?t:0}function idt(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}function nv(e){return Array.isArray(e)?e:[e]}function Ko(e){return e==null?"":typeof e=="string"?e:`${e}px`}function Ec(e){return e instanceof hi?e.nativeElement:e}function tV(e,t=/\s+/){let r=[];if(e!=null){let i=Array.isArray(e)?e:`${e}`.split(t);for(let n of i){let o=`${n}`.trim();o&&r.push(o)}}return r}var rdt=(()=>{let t=class t{create(i){return typeof MutationObserver>"u"?null:new MutationObserver(i)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var ov=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ue({type:t}),t.\u0275inj=ze({providers:[rdt]});let e=t;return e})();var eV=new Set,Og,ndt=(()=>{let t=class t{constructor(i,n){this._platform=i,this._nonce=n,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):sdt}matchMedia(i){return(this._platform.WEBKIT||this._platform.BLINK)&&odt(i,this._nonce),this._matchMedia(i)}};t.\u0275fac=function(n){return new(n||t)(ee(jr),ee(H1,8))},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function odt(e,t){if(!eV.has(e))try{Og||(Og=document.createElement("style"),t&&Og.setAttribute("nonce",t),Og.setAttribute("type","text/css"),document.head.appendChild(Og)),Og.sheet&&(Og.sheet.insertRule(`@media ${e} {body{ }}`,0),eV.add(e))}catch(r){console.error(r)}}function sdt(e){return{matches:e==="all"||e==="",media:e,addListener:()=>{},removeListener:()=>{}}}var rV=(()=>{let t=class t{constructor(i,n){this._mediaMatcher=i,this._zone=n,this._queries=new Map,this._destroySubject=new Je}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(i){return iV(nv(i)).some(o=>this._registerQuery(o).mql.matches)}observe(i){let o=iV(nv(i)).map(a=>this._registerQuery(a).observable),s=wc(o);return s=wg(s.pipe(to(1)),s.pipe(HR(1),FR(0))),s.pipe(di(a=>{let l={matches:!1,breakpoints:{}};return a.forEach(({matches:c,query:d})=>{l.matches=l.matches||c,l.breakpoints[d]=c}),l}))}_registerQuery(i){if(this._queries.has(i))return this._queries.get(i);let n=this._mediaMatcher.matchMedia(i),s={observable:new Eu(a=>{let l=c=>this._zone.run(()=>a.next(c));return n.addListener(l),()=>{n.removeListener(l)}}).pipe(Ts(n),di(({matches:a})=>({query:i,matches:a})),qn(this._destroySubject)),mql:n};return this._queries.set(i,s),s}};t.\u0275fac=function(n){return new(n||t)(ee(ndt),ee(ui))},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function iV(e){return e.map(t=>t.split(",")).reduce((t,r)=>t.concat(r)).map(t=>t.trim())}var lV=" ";function adt(e,t,r){let i=kT(e,t);r=r.trim(),!i.some(n=>n.trim()===r)&&(i.push(r),e.setAttribute(t,i.join(lV)))}function ldt(e,t,r){let i=kT(e,t);r=r.trim();let n=i.filter(o=>o!==r);n.length?e.setAttribute(t,n.join(lV)):e.removeAttribute(t)}function kT(e,t){return e.getAttribute(t)?.match(/\S+/g)??[]}var cV="cdk-describedby-message",MT="cdk-describedby-host",X3=0,dV=(()=>{let t=class t{constructor(i,n){this._platform=n,this._messageRegistry=new Map,this._messagesContainer=null,this._id=`${X3++}`,this._document=i,this._id=pe(F1)+"-"+X3++}describe(i,n,o){if(!this._canBeDescribed(i,n))return;let s=G3(n,o);typeof n!="string"?(nV(n,this._id),this._messageRegistry.set(s,{messageElement:n,referenceCount:0})):this._messageRegistry.has(s)||this._createMessageElement(n,o),this._isElementDescribedByMessage(i,s)||this._addMessageReference(i,s)}removeDescription(i,n,o){if(!n||!this._isElementNode(i))return;let s=G3(n,o);if(this._isElementDescribedByMessage(i,s)&&this._removeMessageReference(i,s),typeof n=="string"){let a=this._messageRegistry.get(s);a&&a.referenceCount===0&&this._deleteMessageElement(s)}this._messagesContainer?.childNodes.length===0&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){let i=this._document.querySelectorAll(`[${MT}="${this._id}"]`);for(let n=0;n<i.length;n++)this._removeCdkDescribedByReferenceIds(i[n]),i[n].removeAttribute(MT);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(i,n){let o=this._document.createElement("div");nV(o,this._id),o.textContent=i,n&&o.setAttribute("role",n),this._createMessagesContainer(),this._messagesContainer.appendChild(o),this._messageRegistry.set(G3(i,n),{messageElement:o,referenceCount:0})}_deleteMessageElement(i){this._messageRegistry.get(i)?.messageElement?.remove(),this._messageRegistry.delete(i)}_createMessagesContainer(){if(this._messagesContainer)return;let i="cdk-describedby-message-container",n=this._document.querySelectorAll(`.${i}[platform="server"]`);for(let s=0;s<n.length;s++)n[s].remove();let o=this._document.createElement("div");o.style.visibility="hidden",o.classList.add(i),o.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&o.setAttribute("platform","server"),this._document.body.appendChild(o),this._messagesContainer=o}_removeCdkDescribedByReferenceIds(i){let n=kT(i,"aria-describedby").filter(o=>o.indexOf(cV)!=0);i.setAttribute("aria-describedby",n.join(" "))}_addMessageReference(i,n){let o=this._messageRegistry.get(n);adt(i,"aria-describedby",o.messageElement.id),i.setAttribute(MT,this._id),o.referenceCount++}_removeMessageReference(i,n){let o=this._messageRegistry.get(n);o.referenceCount--,ldt(i,"aria-describedby",o.messageElement.id),i.removeAttribute(MT)}_isElementDescribedByMessage(i,n){let o=kT(i,"aria-describedby"),s=this._messageRegistry.get(n),a=s&&s.messageElement.id;return!!a&&o.indexOf(a)!=-1}_canBeDescribed(i,n){if(!this._isElementNode(i))return!1;if(n&&typeof n=="object")return!0;let o=n==null?"":`${n}`.trim(),s=i.getAttribute("aria-label");return o?!s||s.trim()!==o:!1}_isElementNode(i){return i.nodeType===this._document.ELEMENT_NODE}};t.\u0275fac=function(n){return new(n||t)(ee(Ai),ee(jr))},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function G3(e,t){return typeof e=="string"?`${t||""}/${e}`:e}function nV(e,t){e.id||(e.id=`${cV}-${t}-${X3++}`)}var cdt=200,Z3=class{constructor(t,r){this._letterKeyStream=new Je,this._items=[],this._selectedItemIndex=-1,this._pressedLetters=[],this._selectedItem=new Je,this.selectedItem=this._selectedItem;let i=typeof r?.debounceInterval=="number"?r.debounceInterval:cdt;r?.skipPredicate&&(this._skipPredicateFn=r.skipPredicate),this.setItems(t),this._setupKeyHandler(i)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(t){this._selectedItemIndex=t}setItems(t){this._items=t}handleKey(t){let r=t.keyCode;t.key&&t.key.length===1?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(r>=65&&r<=90||r>=48&&r<=57)&&this._letterKeyStream.next(String.fromCharCode(r))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(t){this._letterKeyStream.pipe(fn(r=>this._pressedLetters.push(r)),FR(t),co(()=>this._pressedLetters.length>0),di(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(r=>{for(let i=1;i<this._items.length+1;i++){let n=(this._selectedItemIndex+i)%this._items.length,o=this._items[n];if(!this._skipPredicateFn?.(o)&&o.getLabel?.().toLocaleUpperCase().trim().indexOf(r)===0){this._selectedItem.next(o);break}}this._pressedLetters=[]})}};var Q3=class{_initializeFocus(){if(this._hasInitialFocused||this._items.length===0)return;let t=0;for(let i=0;i<this._items.length;i++)if(!this._skipPredicateFn(this._items[i])&&!this._isItemDisabled(this._items[i])){t=i;break}let r=this._items[t];r.makeFocusable?(this._activeItem?.unfocus(),this._activeItemIndex=t,this._activeItem=r,this._typeahead?.setCurrentSelectedItemIndex(t),r.makeFocusable()):this.focusItem(t),this._hasInitialFocused=!0}constructor(t,r){this._activeItemIndex=-1,this._activeItem=null,this._shouldActivationFollowFocus=!1,this._horizontalOrientation="ltr",this._skipPredicateFn=i=>!1,this._trackByFn=i=>i,this._items=[],this._typeaheadSubscription=Ro.EMPTY,this._hasInitialFocused=!1,this.change=new Je,t instanceof TO?(this._items=t.toArray(),t.changes.subscribe(i=>{this._items=i.toArray(),this._typeahead?.setItems(this._items),this._updateActiveItemIndex(this._items),this._initializeFocus()})):Ru(t)?t.subscribe(i=>{this._items=i,this._typeahead?.setItems(i),this._updateActiveItemIndex(i),this._initializeFocus()}):(this._items=t,this._initializeFocus()),typeof r.shouldActivationFollowFocus=="boolean"&&(this._shouldActivationFollowFocus=r.shouldActivationFollowFocus),r.horizontalOrientation&&(this._horizontalOrientation=r.horizontalOrientation),r.skipPredicate&&(this._skipPredicateFn=r.skipPredicate),r.trackBy&&(this._trackByFn=r.trackBy),typeof r.typeAheadDebounceInterval<"u"&&this._setTypeAhead(r.typeAheadDebounceInterval)}destroy(){this._typeaheadSubscription.unsubscribe(),this._typeahead?.destroy(),this.change.complete()}onKeydown(t){switch(t.key){case"Tab":return;case"ArrowDown":this._focusNextItem();break;case"ArrowUp":this._focusPreviousItem();break;case"ArrowRight":this._horizontalOrientation==="rtl"?this._collapseCurrentItem():this._expandCurrentItem();break;case"ArrowLeft":this._horizontalOrientation==="rtl"?this._expandCurrentItem():this._collapseCurrentItem();break;case"Home":this._focusFirstItem();break;case"End":this._focusLastItem();break;case"Enter":case" ":this._activateCurrentItem();break;default:if(t.key==="*"){this._expandAllItemsAtCurrentItemLevel();break}this._typeahead?.handleKey(t);return}this._typeahead?.reset(),t.preventDefault()}getActiveItemIndex(){return this._activeItemIndex}getActiveItem(){return this._activeItem}_focusFirstItem(){this.focusItem(this._findNextAvailableItemIndex(-1))}_focusLastItem(){this.focusItem(this._findPreviousAvailableItemIndex(this._items.length))}_focusNextItem(){this.focusItem(this._findNextAvailableItemIndex(this._activeItemIndex))}_focusPreviousItem(){this.focusItem(this._findPreviousAvailableItemIndex(this._activeItemIndex))}focusItem(t,r={}){r.emitChangeEvent??=!0;let i=typeof t=="number"?t:this._items.findIndex(s=>this._trackByFn(s)===this._trackByFn(t));if(i<0||i>=this._items.length)return;let n=this._items[i];if(this._activeItem!==null&&this._trackByFn(n)===this._trackByFn(this._activeItem))return;let o=this._activeItem;this._activeItem=n??null,this._activeItemIndex=i,this._typeahead?.setCurrentSelectedItemIndex(i),this._activeItem?.focus(),o?.unfocus(),r.emitChangeEvent&&this.change.next(this._activeItem),this._shouldActivationFollowFocus&&this._activateCurrentItem()}_updateActiveItemIndex(t){let r=this._activeItem;if(!r)return;let i=t.findIndex(n=>this._trackByFn(n)===this._trackByFn(r));i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i,this._typeahead?.setCurrentSelectedItemIndex(i))}_setTypeAhead(t){this._typeahead=new Z3(this._items,{debounceInterval:typeof t=="number"?t:void 0,skipPredicate:r=>this._skipPredicateFn(r)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(r=>{this.focusItem(r)})}_findNextAvailableItemIndex(t){for(let r=t+1;r<this._items.length;r++)if(!this._skipPredicateFn(this._items[r]))return r;return t}_findPreviousAvailableItemIndex(t){for(let r=t-1;r>=0;r--)if(!this._skipPredicateFn(this._items[r]))return r;return t}_collapseCurrentItem(){if(this._activeItem)if(this._isCurrentItemExpanded())this._activeItem.collapse();else{let t=this._activeItem.getParent();if(!t||this._skipPredicateFn(t))return;this.focusItem(t)}}_expandCurrentItem(){this._activeItem&&(this._isCurrentItemExpanded()?Dg(this._activeItem.getChildren()).pipe(to(1)).subscribe(t=>{let r=t.find(i=>!this._skipPredicateFn(i));r&&this.focusItem(r)}):this._activeItem.expand())}_isCurrentItemExpanded(){return this._activeItem?typeof this._activeItem.isExpanded=="boolean"?this._activeItem.isExpanded:this._activeItem.isExpanded():!1}_isItemDisabled(t){return typeof t.isDisabled=="boolean"?t.isDisabled:t.isDisabled?.()}_expandAllItemsAtCurrentItemLevel(){if(!this._activeItem)return;let t=this._activeItem.getParent(),r;t?r=Dg(t.getChildren()):r=De(this._items.filter(i=>i.getParent()===null)),r.pipe(to(1)).subscribe(i=>{for(let n of i)n.expand()})}_activateCurrentItem(){this._activeItem?.activate()}};function ddt(){return(e,t)=>new Q3(e,t)}var uV=new Se("tree-key-manager",{providedIn:"root",factory:ddt});var Ew=(()=>{let t=class t{constructor(i){this._platform=i}isDisabled(i){return i.hasAttribute("disabled")}isVisible(i){return hdt(i)&&getComputedStyle(i).visibility==="visible"}isTabbable(i){if(!this._platform.isBrowser)return!1;let n=udt(_dt(i));if(n&&(oV(n)===-1||!this.isVisible(n)))return!1;let o=i.nodeName.toLowerCase(),s=oV(i);return i.hasAttribute("contenteditable")?s!==-1:o==="iframe"||o==="object"||this._platform.WEBKIT&&this._platform.IOS&&!vdt(i)?!1:o==="audio"?i.hasAttribute("controls")?s!==-1:!1:o==="video"?s===-1?!1:s!==null?!0:this._platform.FIREFOX||i.hasAttribute("controls"):i.tabIndex>=0}isFocusable(i,n){return ydt(i)&&!this.isDisabled(i)&&(n?.ignoreVisibility||this.isVisible(i))}};t.\u0275fac=function(n){return new(n||t)(ee(jr))},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function udt(e){try{return e.frameElement}catch{return null}}function hdt(e){return!!(e.offsetWidth||e.offsetHeight||typeof e.getClientRects=="function"&&e.getClientRects().length)}function fdt(e){let t=e.nodeName.toLowerCase();return t==="input"||t==="select"||t==="button"||t==="textarea"}function mdt(e){return gdt(e)&&e.type=="hidden"}function pdt(e){return bdt(e)&&e.hasAttribute("href")}function gdt(e){return e.nodeName.toLowerCase()=="input"}function bdt(e){return e.nodeName.toLowerCase()=="a"}function hV(e){if(!e.hasAttribute("tabindex")||e.tabIndex===void 0)return!1;let t=e.getAttribute("tabindex");return!!(t&&!isNaN(parseInt(t,10)))}function oV(e){if(!hV(e))return null;let t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}function vdt(e){let t=e.nodeName.toLowerCase(),r=t==="input"&&e.type;return r==="text"||r==="password"||t==="select"||t==="textarea"}function ydt(e){return mdt(e)?!1:fdt(e)||pdt(e)||e.hasAttribute("contenteditable")||hV(e)}function _dt(e){return e.ownerDocument&&e.ownerDocument.defaultView||window}var J3=class{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,r,i,n,o=!1,s){this._element=t,this._checker=r,this._ngZone=i,this._document=n,this._injector=s,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){let t=this._startAnchor,r=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),r&&(r.removeEventListener("focus",this.endAnchorListener),r.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(r=>{this._executeOnStable(()=>r(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(r=>{this._executeOnStable(()=>r(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(r=>{this._executeOnStable(()=>r(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let r=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return t=="start"?r.length?r[0]:this._getFirstTabbableElement(this._element):r.length?r[r.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){let r=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(r){if(!this._checker.isFocusable(r)){let i=this._getFirstTabbableElement(r);return i?.focus(t),!!i}return r.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){let r=this._getRegionBoundary("start");return r&&r.focus(t),!!r}focusLastTabbableElement(t){let r=this._getRegionBoundary("end");return r&&r.focus(t),!!r}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let r=t.children;for(let i=0;i<r.length;i++){let n=r[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(r[i]):null;if(n)return n}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let r=t.children;for(let i=r.length-1;i>=0;i--){let n=r[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(r[i]):null;if(n)return n}return null}_createAnchor(){let t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,r){t?r.setAttribute("tabindex","0"):r.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._injector?ma(t,{injector:this._injector}):setTimeout(t)}},Rw=(()=>{let t=class t{constructor(i,n,o){this._checker=i,this._ngZone=n,this._injector=pe(mn),this._document=o}create(i,n=!1){return new J3(i,this._checker,this._ngZone,this._document,n,this._injector)}};t.\u0275fac=function(n){return new(n||t)(ee(Ew),ee(ui),ee(Ai))},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),fV=(()=>{let t=class t{get enabled(){return this.focusTrap?.enabled||!1}set enabled(i){this.focusTrap&&(this.focusTrap.enabled=i)}constructor(i,n,o){this._elementRef=i,this._focusTrapFactory=n,this._previouslyFocusedElement=null,pe(jr).isBrowser&&(this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0))}ngOnDestroy(){this.focusTrap?.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap?.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap&&!this.focusTrap.hasAttached()&&this.focusTrap.attachAnchors()}ngOnChanges(i){let n=i.autoCapture;n&&!n.firstChange&&this.autoCapture&&this.focusTrap?.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=bm(),this.focusTrap?.focusInitialElementWhenReady()}};t.\u0275fac=function(n){return new(n||t)(Pt(hi),Pt(Rw),Pt(Ai))},t.\u0275dir=ni({type:t,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:[2,"cdkTrapFocus","enabled",Sr],autoCapture:[2,"cdkTrapFocusAutoCapture","autoCapture",Sr]},exportAs:["cdkTrapFocus"],standalone:!0,features:[Br,er]});let e=t;return e})();function t4(e){return e.buttons===0||e.detail===0}function e4(e){let t=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}var wdt=new Se("cdk-input-modality-detector-options"),Cdt={ignoreKeys:[18,17,224,91,16]},mV=650,sv=ul({passive:!0,capture:!0}),xdt=(()=>{let t=class t{get mostRecentModality(){return this._modality.value}constructor(i,n,o,s){this._platform=i,this._mostRecentTarget=null,this._modality=new An(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(l=>l===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Sc(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<mV||(this._modality.next(t4(a)?"keyboard":"mouse"),this._mostRecentTarget=Sc(a))},this._onTouchstart=a=>{if(e4(a)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Sc(a)},this._options=Vt(Vt({},Cdt),s),this.modalityDetected=this._modality.pipe(HR(1)),this.modalityChanged=this.modalityDetected.pipe(xg()),i.isBrowser&&n.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,sv),o.addEventListener("mousedown",this._onMousedown,sv),o.addEventListener("touchstart",this._onTouchstart,sv)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,sv),document.removeEventListener("mousedown",this._onMousedown,sv),document.removeEventListener("touchstart",this._onTouchstart,sv))}};t.\u0275fac=function(n){return new(n||t)(ee(jr),ee(ui),ee(Ai),ee(wdt,8))},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Sdt=new Se("liveAnnouncerElement",{providedIn:"root",factory:Edt});function Edt(){return null}var Rdt=new Se("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),Tdt=0,pV=(()=>{let t=class t{constructor(i,n,o,s){this._ngZone=n,this._defaultOptions=s,this._document=o,this._liveElement=i||this._createLiveElement()}announce(i,...n){let o=this._defaultOptions,s,a;return n.length===1&&typeof n[0]=="number"?a=n[0]:[s,a]=n,this.clear(),clearTimeout(this._previousTimeout),s||(s=o&&o.politeness?o.politeness:"polite"),a==null&&o&&(a=o.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(l=>this._currentResolve=l)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=i,typeof a=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),a)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let i="cdk-live-announcer-element",n=this._document.getElementsByClassName(i),o=this._document.createElement("div");for(let s=0;s<n.length;s++)n[s].remove();return o.classList.add(i),o.classList.add("cdk-visually-hidden"),o.setAttribute("aria-atomic","true"),o.setAttribute("aria-live","polite"),o.id=`cdk-live-announcer-${Tdt++}`,this._document.body.appendChild(o),o}_exposeAnnouncerToModals(i){let n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let o=0;o<n.length;o++){let s=n[o],a=s.getAttribute("aria-owns");a?a.indexOf(i)===-1&&s.setAttribute("aria-owns",a+" "+i):s.setAttribute("aria-owns",i)}}};t.\u0275fac=function(n){return new(n||t)(ee(Sdt,8),ee(ui),ee(Ai),ee(Rdt,8))},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var IT=function(e){return e[e.IMMEDIATE=0]="IMMEDIATE",e[e.EVENTUAL=1]="EVENTUAL",e}(IT||{}),Mdt=new Se("cdk-focus-monitor-default-options"),AT=ul({passive:!0,capture:!0}),Xh=(()=>{let t=class t{constructor(i,n,o,s,a){this._ngZone=i,this._platform=n,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Je,this._rootNodeFocusAndBlurListener=l=>{let c=Sc(l);for(let d=c;d;d=d.parentElement)l.type==="focus"?this._onFocus(l,d):this._onBlur(l,d)},this._document=s,this._detectionMode=a?.detectionMode||IT.IMMEDIATE}monitor(i,n=!1){let o=Ec(i);if(!this._platform.isBrowser||o.nodeType!==1)return De();let s=Jj(o)||this._getDocument(),a=this._elementInfo.get(o);if(a)return n&&(a.checkChildren=!0),a.subject;let l={checkChildren:n,subject:new Je,rootNode:s};return this._elementInfo.set(o,l),this._registerGlobalListeners(l),l.subject}stopMonitoring(i){let n=Ec(i),o=this._elementInfo.get(n);o&&(o.subject.complete(),this._setClasses(n),this._elementInfo.delete(n),this._removeGlobalListeners(o))}focusVia(i,n,o){let s=Ec(i),a=this._getDocument().activeElement;s===a?this._getClosestElementsInfo(s).forEach(([l,c])=>this._originChanged(l,n,c)):(this._setOrigin(n),typeof s.focus=="function"&&s.focus(o))}ngOnDestroy(){this._elementInfo.forEach((i,n)=>this.stopMonitoring(n))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(i){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(i)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:i&&this._isLastInteractionFromInputLabel(i)?"mouse":"program"}_shouldBeAttributedToTouch(i){return this._detectionMode===IT.EVENTUAL||!!i?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(i,n){i.classList.toggle("cdk-focused",!!n),i.classList.toggle("cdk-touch-focused",n==="touch"),i.classList.toggle("cdk-keyboard-focused",n==="keyboard"),i.classList.toggle("cdk-mouse-focused",n==="mouse"),i.classList.toggle("cdk-program-focused",n==="program")}_setOrigin(i,n=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=i,this._originFromTouchInteraction=i==="touch"&&n,this._detectionMode===IT.IMMEDIATE){clearTimeout(this._originTimeoutId);let o=this._originFromTouchInteraction?mV:1;this._originTimeoutId=setTimeout(()=>this._origin=null,o)}})}_onFocus(i,n){let o=this._elementInfo.get(n),s=Sc(i);!o||!o.checkChildren&&n!==s||this._originChanged(n,this._getFocusOrigin(s),o)}_onBlur(i,n){let o=this._elementInfo.get(n);!o||o.checkChildren&&i.relatedTarget instanceof Node&&n.contains(i.relatedTarget)||(this._setClasses(n),this._emitOrigin(o,null))}_emitOrigin(i,n){i.subject.observers.length&&this._ngZone.run(()=>i.subject.next(n))}_registerGlobalListeners(i){if(!this._platform.isBrowser)return;let n=i.rootNode,o=this._rootNodeFocusListenerCount.get(n)||0;o||this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",this._rootNodeFocusAndBlurListener,AT),n.addEventListener("blur",this._rootNodeFocusAndBlurListener,AT)}),this._rootNodeFocusListenerCount.set(n,o+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(qn(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(i){let n=i.rootNode;if(this._rootNodeFocusListenerCount.has(n)){let o=this._rootNodeFocusListenerCount.get(n);o>1?this._rootNodeFocusListenerCount.set(n,o-1):(n.removeEventListener("focus",this._rootNodeFocusAndBlurListener,AT),n.removeEventListener("blur",this._rootNodeFocusAndBlurListener,AT),this._rootNodeFocusListenerCount.delete(n))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(i,n,o){this._setClasses(i,n),this._emitOrigin(o,n),this._lastFocusOrigin=n}_getClosestElementsInfo(i){let n=[];return this._elementInfo.forEach((o,s)=>{(s===i||o.checkChildren&&s.contains(i))&&n.push([s,o])}),n}_isLastInteractionFromInputLabel(i){let{_mostRecentTarget:n,mostRecentModality:o}=this._inputModalityDetector;if(o!=="mouse"||!n||n===i||i.nodeName!=="INPUT"&&i.nodeName!=="TEXTAREA"||i.disabled)return!1;let s=i.labels;if(s){for(let a=0;a<s.length;a++)if(s[a].contains(n))return!0}return!1}};t.\u0275fac=function(n){return new(n||t)(ee(ui),ee(jr),ee(xdt),ee(Ai,8),ee(Mdt,8))},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),gV=(()=>{let t=class t{constructor(i,n){this._elementRef=i,this._focusMonitor=n,this._focusOrigin=null,this.cdkFocusChange=new ai}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){let i=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(i,i.nodeType===1&&i.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(n=>{this._focusOrigin=n,this.cdkFocusChange.emit(n)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}};t.\u0275fac=function(n){return new(n||t)(Pt(hi),Pt(Xh))},t.\u0275dir=ni({type:t,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"],standalone:!0});let e=t;return e})(),Pg=function(e){return e[e.NONE=0]="NONE",e[e.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",e[e.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",e}(Pg||{}),sV="cdk-high-contrast-black-on-white",aV="cdk-high-contrast-white-on-black",K3="cdk-high-contrast-active",i4=(()=>{let t=class t{constructor(i,n){this._platform=i,this._document=n,this._breakpointSubscription=pe(rV).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Pg.NONE;let i=this._document.createElement("div");i.style.backgroundColor="rgb(1,2,3)",i.style.position="absolute",this._document.body.appendChild(i);let n=this._document.defaultView||window,o=n&&n.getComputedStyle?n.getComputedStyle(i):null,s=(o&&o.backgroundColor||"").replace(/ /g,"");switch(i.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Pg.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Pg.BLACK_ON_WHITE}return Pg.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let i=this._document.body.classList;i.remove(K3,sV,aV),this._hasCheckedHighContrastMode=!0;let n=this.getHighContrastMode();n===Pg.BLACK_ON_WHITE?i.add(K3,sV):n===Pg.WHITE_ON_BLACK&&i.add(K3,aV)}}};t.\u0275fac=function(n){return new(n||t)(ee(jr),ee(Ai))},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),DT=(()=>{let t=class t{constructor(i){i._applyBodyHighContrastModeCssClasses()}};t.\u0275fac=function(n){return new(n||t)(ee(i4))},t.\u0275mod=Ue({type:t}),t.\u0275inj=ze({imports:[ov]});let e=t;return e})();var Adt=new Se("cdk-dir-doc",{providedIn:"root",factory:Idt});function Idt(){return pe(Ai)}var kdt=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function Ddt(e){let t=e?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?kdt.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var ks=(()=>{let t=class t{constructor(i){if(this.value="ltr",this.change=new ai,i){let n=i.body?i.body.dir:null,o=i.documentElement?i.documentElement.dir:null;this.value=Ddt(n||o||"ltr")}}ngOnDestroy(){this.change.complete()}};t.\u0275fac=function(n){return new(n||t)(ee(Adt,8))},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var vm=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ue({type:t}),t.\u0275inj=ze({});let e=t;return e})();var Odt=["mat-internal-form-field",""],Pdt=["*"];var EV=(()=>{let t=class t{};t.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",t.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",t.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",t.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)";let e=t;return e})(),RV=(()=>{let t=class t{};t.COMPLEX="375ms",t.ENTERING="225ms",t.EXITING="195ms";let e=t;return e})();function Ndt(){return!0}var Ldt=new Se("mat-sanity-checks",{providedIn:"root",factory:Ndt}),Si=(()=>{let t=class t{constructor(i,n,o){this._sanityChecks=n,this._document=o,this._hasDoneGlobalChecks=!1,i._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(i){return Sw()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[i]}};t.\u0275fac=function(n){return new(n||t)(ee(i4),ee(Ldt,8),ee(Ai))},t.\u0275mod=Ue({type:t}),t.\u0275inj=ze({imports:[vm,vm]});let e=t;return e})();var av=class{constructor(t,r,i,n,o){this._defaultMatcher=t,this.ngControl=r,this._parentFormGroup=i,this._parentForm=n,this._stateChanges=o,this.errorState=!1}updateErrorState(){let t=this.errorState,r=this._parentFormGroup||this._parentForm,i=this.matcher||this._defaultMatcher,n=this.ngControl?this.ngControl.control:null,o=i?.isErrorState(n,r)??!1;o!==t&&(this.errorState=o,this._stateChanges.next())}};var a4=new Se("MAT_DATE_LOCALE",{providedIn:"root",factory:Fdt});function Fdt(){return pe(pB)}var Ds=class{constructor(){this._localeChanges=new Je,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return t==null||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,r){return this.getYear(t)-this.getYear(r)||this.getMonth(t)-this.getMonth(r)||this.getDate(t)-this.getDate(r)}sameDate(t,r){if(t&&r){let i=this.isValid(t),n=this.isValid(r);return i&&n?!this.compareDate(t,r):i==n}return t==r}clampDate(t,r,i){return r&&this.compareDate(t,r)<0?r:i&&this.compareDate(t,i)>0?i:t}},Zh=new Se("mat-date-formats");var l4=(()=>{let t=class t{isErrorState(i,n){return!!(i&&i.invalid&&(i.touched||n&&n.submitted))}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var c4=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ue({type:t}),t.\u0275inj=ze({imports:[Si,Si]});let e=t;return e})(),Rc=function(e){return e[e.FADING_IN=0]="FADING_IN",e[e.VISIBLE=1]="VISIBLE",e[e.FADING_OUT=2]="FADING_OUT",e[e.HIDDEN=3]="HIDDEN",e}(Rc||{}),o4=class{constructor(t,r,i,n=!1){this._renderer=t,this.element=r,this.config=i,this._animationForciblyDisabledThroughCss=n,this.state=Rc.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},bV=ul({passive:!0,capture:!0}),s4=class{constructor(){this._events=new Map,this._delegateEventHandler=t=>{let r=Sc(t);r&&this._events.get(t.type)?.forEach((i,n)=>{(n===r||n.contains(r))&&i.forEach(o=>o.handleEvent(t))})}}addHandler(t,r,i,n){let o=this._events.get(r);if(o){let s=o.get(i);s?s.add(n):o.set(i,new Set([n]))}else this._events.set(r,new Map([[i,new Set([n])]])),t.runOutsideAngular(()=>{document.addEventListener(r,this._delegateEventHandler,bV)})}removeHandler(t,r,i){let n=this._events.get(t);if(!n)return;let o=n.get(r);o&&(o.delete(i),o.size===0&&n.delete(r),n.size===0&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,bV)))}},vV={enterDuration:225,exitDuration:150},Hdt=800,yV=ul({passive:!0,capture:!0}),_V=["mousedown","touchstart"],wV=["mouseup","mouseleave","touchend","touchcancel"],Aw=class Aw{constructor(t,r,i,n){this._target=t,this._ngZone=r,this._platform=n,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,n.isBrowser&&(this._containerElement=Ec(i))}fadeInRipple(t,r,i={}){let n=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=Vt(Vt({},vV),i.animation);i.centered&&(t=n.left+n.width/2,r=n.top+n.height/2);let s=i.radius||Bdt(t,r,n),a=t-n.left,l=r-n.top,c=o.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=`${a-s}px`,d.style.top=`${l-s}px`,d.style.height=`${s*2}px`,d.style.width=`${s*2}px`,i.color!=null&&(d.style.backgroundColor=i.color),d.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(d);let u=window.getComputedStyle(d),h=u.transitionProperty,f=u.transitionDuration,m=h==="none"||f==="0s"||f==="0s, 0s"||n.width===0&&n.height===0,g=new o4(this,d,i,m);d.style.transform="scale3d(1, 1, 1)",g.state=Rc.FADING_IN,i.persistent||(this._mostRecentTransientRipple=g);let p=null;return!m&&(c||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let b=()=>{p&&(p.fallbackTimer=null),clearTimeout(E),this._finishRippleTransition(g)},_=()=>this._destroyRipple(g),E=setTimeout(_,c+100);d.addEventListener("transitionend",b),d.addEventListener("transitioncancel",_),p={onTransitionEnd:b,onTransitionCancel:_,fallbackTimer:E}}),this._activeRipples.set(g,p),(m||!c)&&this._finishRippleTransition(g),g}fadeOutRipple(t){if(t.state===Rc.FADING_OUT||t.state===Rc.HIDDEN)return;let r=t.element,i=Vt(Vt({},vV),t.config.animation);r.style.transitionDuration=`${i.exitDuration}ms`,r.style.opacity="0",t.state=Rc.FADING_OUT,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){let r=Ec(t);!this._platform.isBrowser||!r||r===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=r,_V.forEach(i=>{Aw._eventManager.addHandler(this._ngZone,i,r,this)}))}handleEvent(t){t.type==="mousedown"?this._onMousedown(t):t.type==="touchstart"?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{wV.forEach(r=>{this._triggerElement.addEventListener(r,this,yV)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===Rc.FADING_IN?this._startFadeOutTransition(t):t.state===Rc.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){let r=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=Rc.VISIBLE,!i&&(!r||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){let r=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=Rc.HIDDEN,r!==null&&(t.element.removeEventListener("transitionend",r.onTransitionEnd),t.element.removeEventListener("transitioncancel",r.onTransitionCancel),r.fallbackTimer!==null&&clearTimeout(r.fallbackTimer)),t.element.remove()}_onMousedown(t){let r=t4(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+Hdt;!this._target.rippleDisabled&&!r&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!e4(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let r=t.changedTouches;if(r)for(let i=0;i<r.length;i++)this.fadeInRipple(r[i].clientX,r[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{let r=t.state===Rc.VISIBLE||t.config.terminateOnPointerUp&&t.state===Rc.FADING_IN;!t.config.persistent&&r&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let t=this._triggerElement;t&&(_V.forEach(r=>Aw._eventManager.removeHandler(r,t,this)),this._pointerUpEventsRegistered&&(wV.forEach(r=>t.removeEventListener(r,this,yV)),this._pointerUpEventsRegistered=!1))}};Aw._eventManager=new s4;var PT=Aw;function Bdt(e,t,r){let i=Math.max(Math.abs(e-r.left),Math.abs(e-r.right)),n=Math.max(Math.abs(t-r.top),Math.abs(t-r.bottom));return Math.sqrt(i*i+n*n)}var NT=new Se("mat-ripple-global-options"),lv=(()=>{let t=class t{get disabled(){return this._disabled}set disabled(i){i&&this.fadeOutAllNonPersistent(),this._disabled=i,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(i){this._trigger=i,this._setupTriggerEventsIfEnabled()}constructor(i,n,o,s,a){this._elementRef=i,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new PT(this,n,i,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Vt(Vt(Vt({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(i,n=0,o){return typeof i=="number"?this._rippleRenderer.fadeInRipple(i,n,Vt(Vt({},this.rippleConfig),o)):this._rippleRenderer.fadeInRipple(0,0,Vt(Vt({},this.rippleConfig),i))}};t.\u0275fac=function(n){return new(n||t)(Pt(hi),Pt(ui),Pt(jr),Pt(NT,8),Pt(Fo,8))},t.\u0275dir=ni({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(n,o){n&2&&Vi("mat-ripple-unbounded",o.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0});let e=t;return e})(),Ng=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ue({type:t}),t.\u0275inj=ze({imports:[Si,Si]});let e=t;return e})();var d4=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ue({type:t}),t.\u0275inj=ze({imports:[Si]});let e=t;return e})();var cv=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ue({type:t}),t.\u0275inj=ze({imports:[Ng,Si,d4]});let e=t;return e})(),CV={capture:!0},xV=["focus","mousedown","mouseenter","touchstart"],r4="mat-ripple-loader-uninitialized",n4="mat-ripple-loader-class-name",SV="mat-ripple-loader-centered",OT="mat-ripple-loader-disabled",TV=(()=>{let t=class t{constructor(){this._document=pe(Ai,{optional:!0}),this._animationMode=pe(Fo,{optional:!0}),this._globalRippleOptions=pe(NT,{optional:!0}),this._platform=pe(jr),this._ngZone=pe(ui),this._hosts=new Map,this._onInteraction=i=>{let n=Sc(i);if(n instanceof HTMLElement){let o=n.closest(`[${r4}="${this._globalRippleOptions?.namespace??""}"]`);o&&this._createRipple(o)}},this._ngZone.runOutsideAngular(()=>{for(let i of xV)this._document?.addEventListener(i,this._onInteraction,CV)})}ngOnDestroy(){let i=this._hosts.keys();for(let n of i)this.destroyRipple(n);for(let n of xV)this._document?.removeEventListener(n,this._onInteraction,CV)}configureRipple(i,n){i.setAttribute(r4,this._globalRippleOptions?.namespace??""),(n.className||!i.hasAttribute(n4))&&i.setAttribute(n4,n.className||""),n.centered&&i.setAttribute(SV,""),n.disabled&&i.setAttribute(OT,"")}getRipple(i){return this._hosts.get(i)||this._createRipple(i)}setDisabled(i,n){let o=this._hosts.get(i);if(o){o.disabled=n;return}n?i.setAttribute(OT,""):i.removeAttribute(OT)}_createRipple(i){if(!this._document)return;let n=this._hosts.get(i);if(n)return n;i.querySelector(".mat-ripple")?.remove();let o=this._document.createElement("span");o.classList.add("mat-ripple",i.getAttribute(n4)),i.append(o);let s=new lv(new hi(o),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return s._isInitialized=!0,s.trigger=i,s.centered=i.hasAttribute(SV),s.disabled=i.hasAttribute(OT),this.attachRipple(i,s),s}attachRipple(i,n){i.removeAttribute(r4),this._hosts.set(i,n)}destroyRipple(i){let n=this._hosts.get(i);n&&(n.ngOnDestroy(),this._hosts.delete(i))}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),MV=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=We({type:t,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(n,o){n&2&&Vi("mdc-form-field--align-end",o.labelPosition==="before")},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[li],attrs:Odt,ngContentSelectors:Pdt,decls:1,vars:0,template:function(n,o){n&1&&(pn(),ir(0))},styles:[".mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}"],encapsulation:2,changeDetection:0});let e=t;return e})();var Iw=class{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},xd=class extends Iw{constructor(t,r,i,n,o){super(),this.component=t,this.viewContainerRef=r,this.injector=i,this.componentFactoryResolver=n,this.projectableNodes=o}},Lg=class extends Iw{constructor(t,r,i,n){super(),this.templateRef=t,this.viewContainerRef=r,this.context=i,this.injector=n}get origin(){return this.templateRef.elementRef}attach(t,r=this.context){return this.context=r,super.attach(t)}detach(){return this.context=void 0,super.detach()}},u4=class extends Iw{constructor(t){super(),this.element=t instanceof hi?t.nativeElement:t}},dv=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof xd)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof Lg)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof u4)return this._attachedPortal=t,this.attachDomPortal(t)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var LT=class extends dv{constructor(t,r,i,n,o){super(),this.outletElement=t,this._componentFactoryResolver=r,this._appRef=i,this._defaultInjector=n,this.attachDomPortal=s=>{this._document;let a=s.element;a.parentNode;let l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=o}attachComponentPortal(t){let i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>n.destroy())):(n=i.create(t.injector||this._defaultInjector||mn.NULL),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),this._attachedPortal=t,n}attachTemplatePortal(t){let r=t.viewContainerRef,i=r.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(n=>this.outletElement.appendChild(n)),i.detectChanges(),this.setDisposeFn(()=>{let n=r.indexOf(i);n!==-1&&r.remove(n)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var ym=(()=>{let t=class t extends dv{constructor(i,n,o){super(),this._componentFactoryResolver=i,this._viewContainerRef=n,this._isInitialized=!1,this.attached=new ai,this.attachDomPortal=s=>{this._document;let a=s.element;a.parentNode;let l=this._document.createComment("dom-portal");s.setAttachedHost(this),a.parentNode.insertBefore(l,a),this._getRootNode().appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=o}get portal(){return this._attachedPortal}set portal(i){this.hasAttached()&&!i&&!this._isInitialized||(this.hasAttached()&&super.detach(),i&&super.attach(i),this._attachedPortal=i||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(i){i.setAttachedHost(this);let n=i.viewContainerRef!=null?i.viewContainerRef:this._viewContainerRef,s=(i.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(i.component),a=n.createComponent(s,n.length,i.injector||n.injector,i.projectableNodes||void 0);return n!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=i,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(i){i.setAttachedHost(this);let n=this._viewContainerRef.createEmbeddedView(i.templateRef,i.context,{injector:i.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=i,this._attachedRef=n,this.attached.emit(n),n}_getRootNode(){let i=this._viewContainerRef.element.nativeElement;return i.nodeType===i.ELEMENT_NODE?i:i.parentNode}};t.\u0275fac=function(n){return new(n||t)(Pt(Hb),Pt(ps),Pt(Ai))},t.\u0275dir=ni({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[Gr]});let e=t;return e})();var uv=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ue({type:t}),t.\u0275inj=ze({});let e=t;return e})();function IV(e){return e&&typeof e.connect=="function"&&!(e instanceof O1)}var kw=class{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(t=!1,r,i=!0,n){this._multiple=t,this._emitChanges=i,this.compareWith=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Je,r&&r.length&&(t?r.forEach(o=>this._markSelected(o)):this._markSelected(r[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));let r=this._hasQueuedChanges();return this._emitChangeEvent(),r}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));let r=this._hasQueuedChanges();return this._emitChangeEvent(),r}setSelection(...t){this._verifyValueAssignment(t);let r=this.selected,i=new Set(t);t.forEach(o=>this._markSelected(o)),r.filter(o=>!i.has(this._getConcreteValue(o,i))).forEach(o=>this._unmarkSelected(o));let n=this._hasQueuedChanges();return this._emitChangeEvent(),n}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();let r=this._hasQueuedChanges();return t&&this._emitChangeEvent(),r}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){t.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(t,r){if(this.compareWith){r=r??this._selection;for(let i of r)if(this.compareWith(t,i))return i;return t}else return t}};var jdt=20,Dw=(()=>{let t=class t{constructor(i,n,o){this._ngZone=i,this._platform=n,this._scrolled=new Je,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(i){this.scrollContainers.has(i)||this.scrollContainers.set(i,i.elementScrolled().subscribe(()=>this._scrolled.next(i)))}deregister(i){let n=this.scrollContainers.get(i);n&&(n.unsubscribe(),this.scrollContainers.delete(i))}scrolled(i=jdt){return this._platform.isBrowser?new Eu(n=>{this._globalSubscription||this._addGlobalListener();let o=i>0?this._scrolled.pipe(CO(i)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):De()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((i,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(i,n){let o=this.getAncestorScrollContainers(i);return this.scrolled(n).pipe(co(s=>!s||o.indexOf(s)>-1))}getAncestorScrollContainers(i){let n=[];return this.scrollContainers.forEach((o,s)=>{this._scrollableContainsElement(s,i)&&n.push(s)}),n}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(i,n){let o=Ec(n),s=i.getElementRef().nativeElement;do if(o==s)return!0;while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let i=this._getWindow();return wO(i.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};t.\u0275fac=function(n){return new(n||t)(ee(ui),ee(jr),ee(Ai,8))},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Vdt=20,FT=(()=>{let t=class t{constructor(i,n,o){this._platform=i,this._change=new Je,this._changeListener=s=>{this._change.next(s)},this._document=o,n.runOutsideAngular(()=>{if(i.isBrowser){let s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let i=this._getWindow();i.removeEventListener("resize",this._changeListener),i.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let i={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),i}getViewportRect(){let i=this.getViewportScrollPosition(),{width:n,height:o}=this.getViewportSize();return{top:i.top,left:i.left,bottom:i.top+o,right:i.left+n,height:o,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let i=this._document,n=this._getWindow(),o=i.documentElement,s=o.getBoundingClientRect(),a=-s.top||i.body.scrollTop||n.scrollY||o.scrollTop||0,l=-s.left||i.body.scrollLeft||n.scrollX||o.scrollLeft||0;return{top:a,left:l}}change(i=Vdt){return i>0?this._change.pipe(CO(i)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let i=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:i.innerWidth,height:i.innerHeight}:{width:0,height:0}}};t.\u0275fac=function(n){return new(n||t)(ee(jr),ee(ui),ee(Ai,8))},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Tc=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ue({type:t}),t.\u0275inj=ze({});let e=t;return e})(),Ow=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ue({type:t}),t.\u0275inj=ze({imports:[vm,Tc,vm,Tc]});let e=t;return e})();var h4=class{constructor(t){this._box=t,this._destroyed=new Je,this._resizeSubject=new Je,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(r=>this._resizeSubject.next(r)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new Eu(r=>{let i=this._resizeSubject.subscribe(r);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),i.unsubscribe(),this._elementObservables.delete(t)}}).pipe(co(r=>r.some(i=>i.target===t)),P1({bufferSize:1,refCount:!0}),qn(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},kV=(()=>{let t=class t{constructor(){this._observers=new Map,this._ngZone=pe(ui),typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,i]of this._observers)i.destroy();this._observers.clear(),typeof ResizeObserver<"u"}observe(i,n){let o=n?.box||"content-box";return this._observers.has(o)||this._observers.set(o,new h4(o)),this._observers.get(o).observe(i)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var DV=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ue({type:t}),t.\u0275inj=ze({imports:[Si,Si]});let e=t;return e})();var OV=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ue({type:t}),t.\u0275inj=ze({imports:[Ow]});let e=t;return e})();var PV=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ue({type:t}),t.\u0275inj=ze({imports:[Si,OV,Si]});let e=t;return e})();var zV=(()=>{let t=class t{constructor(i,n){this._renderer=i,this._elementRef=n,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(i,n){this._renderer.setProperty(this._elementRef.nativeElement,i,n)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};t.\u0275fac=function(n){return new(n||t)(Pt(j1),Pt(hi))},t.\u0275dir=ni({type:t});let e=t;return e})(),Ydt=(()=>{let t=class t extends zV{};t.\u0275fac=(()=>{let i;return function(o){return(i||(i=Ms(t)))(o||t)}})(),t.\u0275dir=ni({type:t,features:[Gr]});let e=t;return e})(),Hg=new Se("");var qdt={provide:Hg,useExisting:Ul(()=>gv),multi:!0};function $dt(){let e=zb()?zb().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var Gdt=new Se(""),gv=(()=>{let t=class t extends zV{constructor(i,n,o){super(i,n),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!$dt())}writeValue(i){let n=i??"";this.setProperty("value",n)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};t.\u0275fac=function(n){return new(n||t)(Pt(j1),Pt(hi),Pt(Gdt,8))},t.\u0275dir=ni({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,o){n&1&&Ke("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[gr([qdt]),Gr]});let e=t;return e})();function _m(e){return e==null||(typeof e=="string"||Array.isArray(e))&&e.length===0}function UV(e){return e!=null&&typeof e.length=="number"}var xm=new Se(""),YT=new Se(""),Kdt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,mv=class{static min(t){return Xdt(t)}static max(t){return Zdt(t)}static required(t){return Qdt(t)}static requiredTrue(t){return Jdt(t)}static email(t){return tut(t)}static minLength(t){return eut(t)}static maxLength(t){return iut(t)}static pattern(t){return rut(t)}static nullValidator(t){return WV(t)}static compose(t){return XV(t)}static composeAsync(t){return ZV(t)}};function Xdt(e){return t=>{if(_m(t.value)||_m(e))return null;let r=parseFloat(t.value);return!isNaN(r)&&r<e?{min:{min:e,actual:t.value}}:null}}function Zdt(e){return t=>{if(_m(t.value)||_m(e))return null;let r=parseFloat(t.value);return!isNaN(r)&&r>e?{max:{max:e,actual:t.value}}:null}}function Qdt(e){return _m(e.value)?{required:!0}:null}function Jdt(e){return e.value===!0?null:{required:!0}}function tut(e){return _m(e.value)||Kdt.test(e.value)?null:{email:!0}}function eut(e){return t=>_m(t.value)||!UV(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}function iut(e){return t=>UV(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}function rut(e){if(!e)return WV;let t,r;return typeof e=="string"?(r="",e.charAt(0)!=="^"&&(r+="^"),r+=e,e.charAt(e.length-1)!=="$"&&(r+="$"),t=new RegExp(r)):(r=e.toString(),t=e),i=>{if(_m(i.value))return null;let n=i.value;return t.test(n)?null:{pattern:{requiredPattern:r,actualValue:n}}}}function WV(e){return null}function YV(e){return e!=null}function qV(e){return UR(e)?as(e):e}function $V(e){let t={};return e.forEach(r=>{t=r!=null?Vt(Vt({},t),r):t}),Object.keys(t).length===0?null:t}function GV(e,t){return t.map(r=>r(e))}function nut(e){return!e.validate}function KV(e){return e.map(t=>nut(t)?t:r=>t.validate(r))}function XV(e){if(!e)return null;let t=e.filter(YV);return t.length==0?null:function(r){return $V(GV(r,t))}}function y4(e){return e!=null?XV(KV(e)):null}function ZV(e){if(!e)return null;let t=e.filter(YV);return t.length==0?null:function(r){let i=GV(r,t).map(qV);return Tu(i).pipe(di($V))}}function _4(e){return e!=null?ZV(KV(e)):null}function NV(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function QV(e){return e._rawValidators}function JV(e){return e._rawAsyncValidators}function f4(e){return e?Array.isArray(e)?e:[e]:[]}function BT(e,t){return Array.isArray(e)?e.includes(t):e===t}function LV(e,t){let r=f4(t);return f4(e).forEach(n=>{BT(r,n)||r.push(n)}),r}function FV(e,t){return f4(t).filter(r=>!BT(e,r))}var jT=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=y4(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=_4(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,r){return this.control?this.control.hasError(t,r):!1}getError(t,r){return this.control?this.control.getError(t,r):null}},Fg=class extends jT{get formDirective(){return null}get path(){return null}},Du=class extends jT{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},m4=class{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},out={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},KFt=je(Vt({},out),{"[class.ng-submitted]":"isSubmitted"}),qT=(()=>{let t=class t extends m4{constructor(i){super(i)}};t.\u0275fac=function(n){return new(n||t)(Pt(Du,2))},t.\u0275dir=ni({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,o){n&2&&Vi("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Gr]});let e=t;return e})();var Pw="VALID",HT="INVALID",hv="PENDING",Nw="DISABLED",wm=class{},VT=class extends wm{constructor(t,r){super(),this.value=t,this.source=r}},Fw=class extends wm{constructor(t,r){super(),this.pristine=t,this.source=r}},Hw=class extends wm{constructor(t,r){super(),this.touched=t,this.source=r}},fv=class extends wm{constructor(t,r){super(),this.status=t,this.source=r}},p4=class extends wm{constructor(t){super(),this.source=t}},g4=class extends wm{constructor(t){super(),this.source=t}};function w4(e){return($T(e)?e.validators:e)||null}function sut(e){return Array.isArray(e)?y4(e):e||null}function C4(e,t){return($T(t)?t.asyncValidators:e)||null}function aut(e){return Array.isArray(e)?_4(e):e||null}function $T(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function tz(e,t,r){let i=e.controls;if(!(t?Object.keys(i):i).length)throw new In(1e3,"");if(!i[r])throw new In(1001,"")}function ez(e,t,r){e._forEachChild((i,n)=>{if(r[n]===void 0)throw new In(1002,"")})}var pv=class{constructor(t,r){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._events=new Je,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(r)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Pw}get invalid(){return this.status===HT}get pending(){return this.status==hv}get disabled(){return this.status===Nw}get enabled(){return this.status!==Nw}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(LV(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(LV(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(FV(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(FV(t,this._rawAsyncValidators))}hasValidator(t){return BT(this._rawValidators,t)}hasAsyncValidator(t){return BT(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let r=this.touched===!1;this.touched=!0;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(je(Vt({},t),{sourceControl:i})),r&&t.emitEvent!==!1&&this._events.next(new Hw(!0,i))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(r=>r.markAllAsTouched(t))}markAsUntouched(t={}){let r=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=t.sourceControl??this;this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),r&&t.emitEvent!==!1&&this._events.next(new Hw(!1,i))}markAsDirty(t={}){let r=this.pristine===!0;this.pristine=!1;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(je(Vt({},t),{sourceControl:i})),r&&t.emitEvent!==!1&&this._events.next(new Fw(!1,i))}markAsPristine(t={}){let r=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=t.sourceControl??this;this._forEachChild(n=>{n.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),r&&t.emitEvent!==!1&&this._events.next(new Fw(!0,i))}markAsPending(t={}){this.status=hv;let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new fv(this.status,r)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(je(Vt({},t),{sourceControl:r}))}disable(t={}){let r=this._parentMarkedDirty(t.onlySelf);this.status=Nw,this.errors=null,this._forEachChild(n=>{n.disable(je(Vt({},t),{onlySelf:!0}))}),this._updateValue();let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new VT(this.value,i)),this._events.next(new fv(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(je(Vt({},t),{skipPristineCheck:r}),this),this._onDisabledChange.forEach(n=>n(!0))}enable(t={}){let r=this._parentMarkedDirty(t.onlySelf);this.status=Pw,this._forEachChild(i=>{i.enable(je(Vt({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(je(Vt({},t),{skipPristineCheck:r}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,r){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},r),this._parent._updateTouched({},r))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Pw||this.status===hv)&&this._runAsyncValidator(i,t.emitEvent)}let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new VT(this.value,r)),this._events.next(new fv(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(je(Vt({},t),{sourceControl:r}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Nw:Pw}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,r){if(this.asyncValidator){this.status=hv,this._hasOwnPendingAsyncValidator={emitEvent:r!==!1};let i=qV(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(n=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(n,{emitEvent:r,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,r={}){this.errors=t,this._updateControlsErrors(r.emitEvent!==!1,this,r.shouldHaveEmitted)}get(t){let r=t;return r==null||(Array.isArray(r)||(r=r.split(".")),r.length===0)?null:r.reduce((i,n)=>i&&i._find(n),this)}getError(t,r){let i=r?this.get(r):this;return i&&i.errors?i.errors[t]:null}hasError(t,r){return!!this.getError(t,r)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,r,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new fv(this.status,r)),this._parent&&this._parent._updateControlsErrors(t,r,i)}_initObservables(){this.valueChanges=new ai,this.statusChanges=new ai}_calculateStatus(){return this._allControlsDisabled()?Nw:this.errors?HT:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(hv)?hv:this._anyControlsHaveStatus(HT)?HT:Pw}_anyControlsHaveStatus(t){return this._anyControls(r=>r.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,r){let i=!this._anyControlsDirty(),n=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&this._events.next(new Fw(this.pristine,r))}_updateTouched(t={},r){this.touched=this._anyControlsTouched(),this._events.next(new Hw(this.touched,r)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){$T(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let r=this._parent&&this._parent.dirty;return!t&&!!r&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=sut(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=aut(this._rawAsyncValidators)}},Cm=class extends pv{constructor(t,r,i){super(w4(r),C4(i,r)),this.controls=t,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,r){return this.controls[t]?this.controls[t]:(this.controls[t]=r,r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange),r)}addControl(t,r,i={}){this.registerControl(t,r),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}setControl(t,r,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],r&&this.registerControl(t,r),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,r={}){ez(this,!0,t),Object.keys(t).forEach(i=>{tz(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(t,r={}){t!=null&&(Object.keys(t).forEach(i=>{let n=this.controls[i];n&&n.patchValue(t[i],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(t={},r={}){this._forEachChild((i,n)=>{i.reset(t?t[n]:null,{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r,this),this._updateTouched(r,this),this.updateValueAndValidity(r)}getRawValue(){return this._reduceChildren({},(t,r,i)=>(t[i]=r.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(r,i)=>i._syncPendingControls()?!0:r);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(r=>{let i=this.controls[r];i&&t(i,r)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[r,i]of Object.entries(this.controls))if(this.contains(r)&&t(i))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(r,i,n)=>((i.enabled||this.disabled)&&(r[n]=i.value),r))}_reduceChildren(t,r){let i=t;return this._forEachChild((n,o)=>{i=r(i,n,o)}),i}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var b4=class extends Cm{};var bv=new Se("CallSetDisabledState",{providedIn:"root",factory:()=>GT}),GT="always";function lut(e,t){return[...t.path,e]}function Bw(e,t,r=GT){x4(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||r==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),dut(e,t),hut(e,t),uut(e,t),cut(e,t)}function zT(e,t,r=!0){let i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),WT(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function UT(e,t){e.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(t)})}function cut(e,t){if(t.valueAccessor.setDisabledState){let r=i=>{t.valueAccessor.setDisabledState(i)};e.registerOnDisabledChange(r),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(r)})}}function x4(e,t){let r=QV(e);t.validator!==null?e.setValidators(NV(r,t.validator)):typeof r=="function"&&e.setValidators([r]);let i=JV(e);t.asyncValidator!==null?e.setAsyncValidators(NV(i,t.asyncValidator)):typeof i=="function"&&e.setAsyncValidators([i]);let n=()=>e.updateValueAndValidity();UT(t._rawValidators,n),UT(t._rawAsyncValidators,n)}function WT(e,t){let r=!1;if(e!==null){if(t.validator!==null){let n=QV(e);if(Array.isArray(n)&&n.length>0){let o=n.filter(s=>s!==t.validator);o.length!==n.length&&(r=!0,e.setValidators(o))}}if(t.asyncValidator!==null){let n=JV(e);if(Array.isArray(n)&&n.length>0){let o=n.filter(s=>s!==t.asyncValidator);o.length!==n.length&&(r=!0,e.setAsyncValidators(o))}}}let i=()=>{};return UT(t._rawValidators,i),UT(t._rawAsyncValidators,i),r}function dut(e,t){t.valueAccessor.registerOnChange(r=>{e._pendingValue=r,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&iz(e,t)})}function uut(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&iz(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function iz(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function hut(e,t){let r=(i,n)=>{t.valueAccessor.writeValue(i),n&&t.viewToModelUpdate(i)};e.registerOnChange(r),t._registerOnDestroy(()=>{e._unregisterOnChange(r)})}function rz(e,t){e==null,x4(e,t)}function fut(e,t){return WT(e,t)}function nz(e,t){if(!e.hasOwnProperty("model"))return!1;let r=e.model;return r.isFirstChange()?!0:!Object.is(t,r.currentValue)}function mut(e){return Object.getPrototypeOf(e.constructor)===Ydt}function oz(e,t){e._syncPendingControls(),t.forEach(r=>{let i=r.control;i.updateOn==="submit"&&i._pendingChange&&(r.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function sz(e,t){if(!t)return null;Array.isArray(t);let r,i,n;return t.forEach(o=>{o.constructor===gv?r=o:mut(o)?i=o:n=o}),n||i||r||null}function put(e,t){let r=e.indexOf(t);r>-1&&e.splice(r,1)}var gut={provide:Fg,useExisting:Ul(()=>S4)},Lw=Promise.resolve(),S4=(()=>{let t=class t extends Fg{constructor(i,n,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new ai,this.form=new Cm({},y4(i),_4(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(i){Lw.then(()=>{let n=this._findContainer(i.path);i.control=n.registerControl(i.name,i.control),Bw(i.control,i,this.callSetDisabledState),i.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(i)})}getControl(i){return this.form.get(i.path)}removeControl(i){Lw.then(()=>{let n=this._findContainer(i.path);n&&n.removeControl(i.name),this._directives.delete(i)})}addFormGroup(i){Lw.then(()=>{let n=this._findContainer(i.path),o=new Cm({});rz(o,i),n.registerControl(i.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(i){Lw.then(()=>{let n=this._findContainer(i.path);n&&n.removeControl(i.name)})}getFormGroup(i){return this.form.get(i.path)}updateModel(i,n){Lw.then(()=>{this.form.get(i.path).setValue(n)})}setValue(i){this.control.setValue(i)}onSubmit(i){return this.submitted=!0,oz(this.form,this._directives),this.ngSubmit.emit(i),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(i){return i.pop(),i.length?this.form.get(i):this.form}};t.\u0275fac=function(n){return new(n||t)(Pt(xm,10),Pt(YT,10),Pt(bv,8))},t.\u0275dir=ni({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,o){n&1&&Ke("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[gr([gut]),Gr]});let e=t;return e})();function HV(e,t){let r=e.indexOf(t);r>-1&&e.splice(r,1)}function BV(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var Mc=class extends pv{constructor(t=null,r,i){super(w4(r),C4(i,r)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),$T(r)&&(r.nonNullable||r.initialValueIsDefault)&&(BV(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,r={}){this.value=this._pendingValue=t,this._onChange.length&&r.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,r.emitViewToModelChange!==!1)),this.updateValueAndValidity(r)}patchValue(t,r={}){this.setValue(t,r)}reset(t=this.defaultValue,r={}){this._applyFormState(t),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){HV(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){HV(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){BV(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var but=e=>e instanceof Mc;var vut={provide:Du,useExisting:Ul(()=>jw)},jV=Promise.resolve(),jw=(()=>{let t=class t extends Du{constructor(i,n,o,s,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new Mc,this._registered=!1,this.name="",this.update=new ai,this._parent=i,this._setValidators(n),this._setAsyncValidators(o),this.valueAccessor=sz(this,s)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){let n=i.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),nz(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Bw(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(i){jV.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){let n=i.isDisabled.currentValue,o=n!==0&&Sr(n);jV.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?lut(i,this._parent):[i]}};t.\u0275fac=function(n){return new(n||t)(Pt(Fg,9),Pt(xm,10),Pt(YT,10),Pt(Hg,10),Pt(hr,8),Pt(bv,8))},t.\u0275dir=ni({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[gr([vut]),Gr,er]});let e=t;return e})();var az=new Se(""),yut={provide:Du,useExisting:Ul(()=>E4)},E4=(()=>{let t=class t extends Du{set isDisabled(i){}constructor(i,n,o,s,a){super(),this._ngModelWarningConfig=s,this.callSetDisabledState=a,this.update=new ai,this._ngModelWarningSent=!1,this._setValidators(i),this._setAsyncValidators(n),this.valueAccessor=sz(this,o)}ngOnChanges(i){if(this._isControlChanged(i)){let n=i.form.previousValue;n&&zT(n,this,!1),Bw(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}nz(i,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&zT(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_isControlChanged(i){return i.hasOwnProperty("form")}};t._ngModelWarningSentOnce=!1,t.\u0275fac=function(n){return new(n||t)(Pt(xm,10),Pt(YT,10),Pt(Hg,10),Pt(az,8),Pt(bv,8))},t.\u0275dir=ni({type:t,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[gr([yut]),Gr,er]});let e=t;return e})(),_ut={provide:Fg,useExisting:Ul(()=>R4)},R4=(()=>{let t=class t extends Fg{constructor(i,n,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ai,this._setValidators(i),this._setAsyncValidators(n)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(WT(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){let n=this.form.get(i.path);return Bw(n,i,this.callSetDisabledState),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),n}getControl(i){return this.form.get(i.path)}removeControl(i){zT(i.control||null,i,!1),put(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,n){this.form.get(i.path).setValue(n)}onSubmit(i){return this.submitted=!0,oz(this.form,this.directives),this.ngSubmit.emit(i),this.form._events.next(new p4(this.control)),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1,this.form._events.next(new g4(this.form))}_updateDomValue(){this.directives.forEach(i=>{let n=i.control,o=this.form.get(i.path);n!==o&&(zT(n||null,i),but(o)&&(Bw(o,i,this.callSetDisabledState),i.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){let n=this.form.get(i.path);rz(n,i),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){let n=this.form.get(i.path);n&&fut(n,i)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){x4(this.form,this),this._oldForm&&WT(this._oldForm,this)}_checkFormPresent(){this.form}};t.\u0275fac=function(n){return new(n||t)(Pt(xm,10),Pt(YT,10),Pt(bv,8))},t.\u0275dir=ni({type:t,selectors:[["","formGroup",""]],hostBindings:function(n,o){n&1&&Ke("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[gr([_ut]),Gr,er]});let e=t;return e})();var lz=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ue({type:t}),t.\u0275inj=ze({});let e=t;return e})(),v4=class extends pv{constructor(t,r,i){super(w4(r),C4(i,r)),this.controls=t,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,r={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}insert(t,r,i={}){this.controls.splice(t,0,r),this._registerControl(r),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,r={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:r.emitEvent})}setControl(t,r,i={}){let n=this._adjustIndex(t);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),r&&(this.controls.splice(n,0,r),this._registerControl(r)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,r={}){ez(this,!1,t),t.forEach((i,n)=>{tz(this,!1,n),this.at(n).setValue(i,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(t,r={}){t!=null&&(t.forEach((i,n)=>{this.at(n)&&this.at(n).patchValue(i,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(t=[],r={}){this._forEachChild((i,n)=>{i.reset(t[n],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r,this),this._updateTouched(r,this),this.updateValueAndValidity(r)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(r=>r._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((r,i)=>i._syncPendingControls()?!0:r,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((r,i)=>{t(r,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(r=>r.enabled&&t(r))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function VV(e){return!!e&&(e.asyncValidators!==void 0||e.validators!==void 0||e.updateOn!==void 0)}var cz=(()=>{let t=class t{constructor(){this.useNonNullable=!1}get nonNullable(){let i=new t;return i.useNonNullable=!0,i}group(i,n=null){let o=this._reduceControls(i),s={};return VV(n)?s=n:n!==null&&(s.validators=n.validator,s.asyncValidators=n.asyncValidator),new Cm(o,s)}record(i,n=null){let o=this._reduceControls(i);return new b4(o,n)}control(i,n,o){let s={};return this.useNonNullable?(VV(n)?s=n:(s.validators=n,s.asyncValidators=o),new Mc(i,je(Vt({},s),{nonNullable:!0}))):new Mc(i,n,o)}array(i,n,o){let s=i.map(a=>this._createControl(a));return new v4(s,n,o)}_reduceControls(i){let n={};return Object.keys(i).forEach(o=>{n[o]=this._createControl(i[o])}),n}_createControl(i){if(i instanceof Mc)return i;if(i instanceof pv)return i;if(Array.isArray(i)){let n=i[0],o=i.length>1?i[1]:null,s=i.length>2?i[2]:null;return this.control(n,o,s)}else return this.control(i)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var KT=(()=>{let t=class t{static withConfig(i){return{ngModule:t,providers:[{provide:bv,useValue:i.callSetDisabledState??GT}]}}};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ue({type:t}),t.\u0275inj=ze({imports:[lz]});let e=t;return e})(),dz=(()=>{let t=class t{static withConfig(i){return{ngModule:t,providers:[{provide:az,useValue:i.warnOnNgModelWithFormControl??"always"},{provide:bv,useValue:i.callSetDisabledState??GT}]}}};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ue({type:t}),t.\u0275inj=ze({imports:[lz]});let e=t;return e})();var wut=ot(ea(),1),uz=ot(ea(),1),Bg=uz.default||wut,A4=new Se("MAT_MOMENT_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:Cut});function Cut(){return{useUtc:!1}}function xut(e,t){let r=Array(e);for(let i=0;i<e;i++)r[i]=t(i);return r}var Sut=(()=>{let t=class t extends Ds{constructor(i,n){super(),this._options=n,this.setLocale(i||Bg.locale())}setLocale(i){super.setLocale(i);let n=Bg.localeData(i);this._localeData={firstDayOfWeek:n.firstDayOfWeek(),longMonths:n.months(),shortMonths:n.monthsShort(),dates:xut(31,o=>this.createDate(2017,0,o+1).format("D")),longDaysOfWeek:n.weekdays(),shortDaysOfWeek:n.weekdaysShort(),narrowDaysOfWeek:n.weekdaysMin()}}getYear(i){return this.clone(i).year()}getMonth(i){return this.clone(i).month()}getDate(i){return this.clone(i).date()}getDayOfWeek(i){return this.clone(i).day()}getMonthNames(i){return i=="long"?this._localeData.longMonths:this._localeData.shortMonths}getDateNames(){return this._localeData.dates}getDayOfWeekNames(i){return i=="long"?this._localeData.longDaysOfWeek:i=="short"?this._localeData.shortDaysOfWeek:this._localeData.narrowDaysOfWeek}getYearName(i){return this.clone(i).format("YYYY")}getFirstDayOfWeek(){return this._localeData.firstDayOfWeek}getNumDaysInMonth(i){return this.clone(i).daysInMonth()}clone(i){return i.clone().locale(this.locale)}createDate(i,n,o){let s=this._createMoment({year:i,month:n,date:o}).locale(this.locale);return s.isValid(),s}today(){return this._createMoment().locale(this.locale)}parse(i,n){return i&&typeof i=="string"?this._createMoment(i,n,this.locale):i?this._createMoment(i).locale(this.locale):null}format(i,n){return i=this.clone(i),this.isValid(i),i.format(n)}addCalendarYears(i,n){return this.clone(i).add({years:n})}addCalendarMonths(i,n){return this.clone(i).add({months:n})}addCalendarDays(i,n){return this.clone(i).add({days:n})}toIso8601(i){return this.clone(i).format()}deserialize(i){let n;if(i instanceof Date)n=this._createMoment(i).locale(this.locale);else if(this.isDateInstance(i))return this.clone(i);if(typeof i=="string"){if(!i)return null;n=this._createMoment(i,Bg.ISO_8601).locale(this.locale)}return n&&this.isValid(n)?this._createMoment(n).locale(this.locale):super.deserialize(i)}isDateInstance(i){return Bg.isMoment(i)}isValid(i){return this.clone(i).isValid()}invalid(){return Bg.invalid()}_createMoment(i,n,o){let{strict:s,useUtc:a}=this._options||{};return a?Bg.utc(i,n,o,s):Bg(i,n,o,s)}};t.\u0275fac=function(n){return new(n||t)(ee(a4,8),ee(A4,8))},t.\u0275prov=_e({token:t,factory:t.\u0275fac});let e=t;return e})(),Eut={parse:{dateInput:"l"},display:{dateInput:"l",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}};function hz(e=Eut,t){let r=[{provide:Ds,useClass:Sut,deps:[a4,A4]},{provide:Zh,useValue:e}];return t&&r.push({provide:A4,useValue:t}),r}var fz=ul({passive:!0}),mz=(()=>{let t=class t{constructor(i,n){this._platform=i,this._ngZone=n,this._monitoredElements=new Map}monitor(i){if(!this._platform.isBrowser)return cl;let n=Ec(i),o=this._monitoredElements.get(n);if(o)return o.subject;let s=new Je,a="cdk-text-field-autofilled",l=c=>{c.animationName==="cdk-text-field-autofill-start"&&!n.classList.contains(a)?(n.classList.add(a),this._ngZone.run(()=>s.next({target:c.target,isAutofilled:!0}))):c.animationName==="cdk-text-field-autofill-end"&&n.classList.contains(a)&&(n.classList.remove(a),this._ngZone.run(()=>s.next({target:c.target,isAutofilled:!1})))};return this._ngZone.runOutsideAngular(()=>{n.addEventListener("animationstart",l,fz),n.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(n,{subject:s,unlisten:()=>{n.removeEventListener("animationstart",l,fz)}}),s}stopMonitoring(i){let n=Ec(i),o=this._monitoredElements.get(n);o&&(o.unlisten(),o.subject.complete(),n.classList.remove("cdk-text-field-autofill-monitored"),n.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(n))}ngOnDestroy(){this._monitoredElements.forEach((i,n)=>this.stopMonitoring(n))}};t.\u0275fac=function(n){return new(n||t)(ee(jr),ee(ui))},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var pz=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ue({type:t}),t.\u0275inj=ze({});let e=t;return e})();var Tut=["notch"],Mut=["matFormFieldNotchedOutline",""],Aut=["*"],Iut=["textField"],kut=["iconPrefixContainer"],Dut=["textPrefixContainer"],Out=["iconSuffixContainer"],Put=["textSuffixContainer"],Nut=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Lut=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function Fut(e,t){e&1&&He(0,"span",21)}function Hut(e,t){if(e&1&&(ut(0,"label",20),ir(1,1),Xi(2,Fut,1,0,"span",21),dt()),e&2){let r=ki(2);Me("floating",r._shouldLabelFloat())("monitorResize",r._hasOutline())("id",r._labelId),Yi("for",r._control.disableAutomaticLabeling?null:r._control.id),te(2),kn(!r.hideRequiredMarker&&r._control.required?2:-1)}}function But(e,t){if(e&1&&Xi(0,Hut,3,5,"label",20),e&2){let r=ki();kn(r._hasFloatingLabel()?0:-1)}}function jut(e,t){e&1&&He(0,"div",7)}function Vut(e,t){}function zut(e,t){if(e&1&&Xi(0,Vut,0,0,"ng-template",13),e&2){ki(2);let r=ja(1);Me("ngTemplateOutlet",r)}}function Uut(e,t){if(e&1&&(ut(0,"div",9),Xi(1,zut,1,1,null,13),dt()),e&2){let r=ki();Me("matFormFieldNotchedOutlineOpen",r._shouldLabelFloat()),te(),kn(r._forceDisplayInfixLabel()?-1:1)}}function Wut(e,t){e&1&&(ut(0,"div",10,2),ir(2,2),dt())}function Yut(e,t){e&1&&(ut(0,"div",11,3),ir(2,3),dt())}function qut(e,t){}function $ut(e,t){if(e&1&&Xi(0,qut,0,0,"ng-template",13),e&2){ki();let r=ja(1);Me("ngTemplateOutlet",r)}}function Gut(e,t){e&1&&(ut(0,"div",14,4),ir(2,4),dt())}function Kut(e,t){e&1&&(ut(0,"div",15,5),ir(2,5),dt())}function Xut(e,t){e&1&&He(0,"div",16)}function Zut(e,t){if(e&1&&(ut(0,"div",18),ir(1,6),dt()),e&2){let r=ki();Me("@transitionMessages",r._subscriptAnimationState)}}function Qut(e,t){if(e&1&&(ut(0,"mat-hint",22),gt(1),dt()),e&2){let r=ki(2);Me("id",r._hintLabelId),te(),_o(r.hintLabel)}}function Jut(e,t){if(e&1&&(ut(0,"div",19),Xi(1,Qut,2,2,"mat-hint",22),ir(2,7),He(3,"div",23),ir(4,8),dt()),e&2){let r=ki();Me("@transitionMessages",r._subscriptAnimationState),te(),kn(r.hintLabel?1:-1)}}var ZT=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=ni({type:t,selectors:[["mat-label"]],standalone:!0});let e=t;return e})();var tht=new Se("MatError");var eht=0,gz=(()=>{let t=class t{constructor(){this.align="start",this.id=`mat-mdc-hint-${eht++}`}};t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=ni({type:t,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(n,o){n&2&&(Ba("id",o.id),Yi("align",null),Vi("mat-mdc-form-field-hint-end",o.align==="end"))},inputs:{align:"align",id:"id"},standalone:!0});let e=t;return e})(),iht=new Se("MatPrefix");var Sz=new Se("MatSuffix"),Ez=(()=>{let t=class t{constructor(){this._isText=!1}set _isTextSelector(i){this._isText=!0}};t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=ni({type:t,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:[0,"matTextSuffix","_isTextSelector"]},standalone:!0,features:[gr([{provide:Sz,useExisting:t}])]});let e=t;return e})(),Rz=new Se("FloatingLabelParent"),bz=(()=>{let t=class t{get floating(){return this._floating}set floating(i){this._floating=i,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(i){this._monitorResize=i,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(i){this._elementRef=i,this._floating=!1,this._monitorResize=!1,this._resizeObserver=pe(kV),this._ngZone=pe(ui),this._parent=pe(Rz),this._resizeSubscription=new Ro}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return rht(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}};t.\u0275fac=function(n){return new(n||t)(Pt(hi))},t.\u0275dir=ni({type:t,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(n,o){n&2&&Vi("mdc-floating-label--float-above",o.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0});let e=t;return e})();function rht(e){let t=e;if(t.offsetParent!==null)return t.scrollWidth;let r=t.cloneNode(!0);r.style.setProperty("position","absolute"),r.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(r);let i=r.scrollWidth;return r.remove(),i}var vz="mdc-line-ripple--active",XT="mdc-line-ripple--deactivating",yz=(()=>{let t=class t{constructor(i,n){this._elementRef=i,this._handleTransitionEnd=o=>{let s=this._elementRef.nativeElement.classList,a=s.contains(XT);o.propertyName==="opacity"&&a&&s.remove(vz,XT)},n.runOutsideAngular(()=>{i.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){let i=this._elementRef.nativeElement.classList;i.remove(XT),i.add(vz)}deactivate(){this._elementRef.nativeElement.classList.add(XT)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}};t.\u0275fac=function(n){return new(n||t)(Pt(hi),Pt(ui))},t.\u0275dir=ni({type:t,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0});let e=t;return e})(),_z=(()=>{let t=class t{constructor(i,n){this._elementRef=i,this._ngZone=n,this.open=!1}ngAfterViewInit(){let i=this._elementRef.nativeElement.querySelector(".mdc-floating-label");i?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(i.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>i.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(i){!this.open||!i?this._notch.nativeElement.style.width="":this._notch.nativeElement.style.width=`calc(${i}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}};t.\u0275fac=function(n){return new(n||t)(Pt(hi),Pt(ui))},t.\u0275cmp=We({type:t,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(n,o){if(n&1&&or(Tut,5),n&2){let s;Hi(s=Bi())&&(o._notch=s.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(n,o){n&2&&Vi("mdc-notched-outline--notched",o.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[li],attrs:Mut,ngContentSelectors:Aut,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(n,o){n&1&&(pn(),He(0,"div",1),ut(1,"div",2,0),ir(3),dt(),He(4,"div",3))},encapsulation:2,changeDetection:0});let e=t;return e})(),nht={transitionMessages:cm("transitionMessages",[dm("enter",ta({opacity:1,transform:"translateY(0%)"})),wd("void => enter",[ta({opacity:0,transform:"translateY(-5px)"}),_d("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},Vw=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=ni({type:t});let e=t;return e})();var yv=new Se("MatFormField"),oht=new Se("MAT_FORM_FIELD_DEFAULT_OPTIONS"),wz=0,Cz="fill",sht="auto",xz="fixed",aht="translateY(-50%)",Tz=(()=>{let t=class t{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(i){this._hideRequiredMarker=ku(i)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||sht}set floatLabel(i){i!==this._floatLabel&&(this._floatLabel=i,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(i){let n=this._appearance,o=i||this._defaults?.appearance||Cz;this._appearance=o,this._appearance==="outline"&&this._appearance!==n&&(this._needsOutlineLabelOffsetUpdate=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||xz}set subscriptSizing(i){this._subscriptSizing=i||this._defaults?.subscriptSizing||xz}get hintLabel(){return this._hintLabel}set hintLabel(i){this._hintLabel=i,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(i){this._explicitFormFieldControl=i}constructor(i,n,o,s,a,l,c,d){this._elementRef=i,this._changeDetectorRef=n,this._dir=s,this._platform=a,this._defaults=l,this._animationMode=c,this._labelChild=aB(ZT),this._hideRequiredMarker=!1,this.color="primary",this._appearance=Cz,this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId=`mat-mdc-form-field-label-${wz++}`,this._hintLabelId=`mat-mdc-hint-${wz++}`,this._subscriptAnimationState="",this._destroyed=new Je,this._isFocused=null,this._needsOutlineLabelOffsetUpdate=!1,this._previousControl=null,this._injector=pe(mn),this.getLabelId=OO(()=>this._hasFloatingLabel()?this._labelId:null),this._hasFloatingLabel=OO(()=>!!this._labelChild()),l&&(l.appearance&&(this.appearance=l.appearance),this._hideRequiredMarker=!!l?.hideRequiredMarker,l.color&&(this.color=l.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._previousControl=this._control)}ngOnDestroy(){this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(i){let n=this._control,o="mat-mdc-form-field-type-";i&&this._elementRef.nativeElement.classList.remove(o+i.controlType),n.controlType&&this._elementRef.nativeElement.classList.add(o+n.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=n.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._valueChanges?.unsubscribe(),n.ngControl&&n.ngControl.valueChanges&&(this._valueChanges=n.ngControl.valueChanges.pipe(qn(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(i=>!i._isText),this._hasTextPrefix=!!this._prefixChildren.find(i=>i._isText),this._hasIconSuffix=!!this._suffixChildren.find(i=>!i._isText),this._hasTextSuffix=!!this._suffixChildren.find(i=>i._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),Vl(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),jR(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe(qn(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(i){let n=this._control?this._control.ngControl:null;return n&&n[i]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let i=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&i.push(...this._control.userAriaDescribedBy.split(" ")),this._getDisplayedMessages()==="hint"){let n=this._hintChildren?this._hintChildren.find(s=>s.align==="start"):null,o=this._hintChildren?this._hintChildren.find(s=>s.align==="end"):null;n?i.push(n.id):this._hintLabel&&i.push(this._hintLabelId),o&&i.push(o.id)}else this._errorChildren&&i.push(...this._errorChildren.map(n=>n.id));this._control.setDescribedByIds(i)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;let i=this._floatingLabel.element;if(!(this._iconPrefixContainer||this._textPrefixContainer)){i.style.transform="";return}if(!this._isAttachedToDom()){this._needsOutlineLabelOffsetUpdate=!0;return}let n=this._iconPrefixContainer?.nativeElement,o=this._textPrefixContainer?.nativeElement,s=this._iconSuffixContainer?.nativeElement,a=this._textSuffixContainer?.nativeElement,l=n?.getBoundingClientRect().width??0,c=o?.getBoundingClientRect().width??0,d=s?.getBoundingClientRect().width??0,u=a?.getBoundingClientRect().width??0,h=this._dir.value==="rtl"?"-1":"1",f=`${l+c}px`,g=`calc(${h} * (${f} + var(--mat-mdc-form-field-label-offset-x, 0px)))`;i.style.transform=`var(
        --mat-mdc-form-field-label-transform,
        ${aht} translateX(${g})
    )`;let p=l+c+d+u;this._elementRef.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${p}px)`)}_isAttachedToDom(){let i=this._elementRef.nativeElement;if(i.getRootNode){let n=i.getRootNode();return n&&n!==i}return document.documentElement.contains(i)}};t.\u0275fac=function(n){return new(n||t)(Pt(hi),Pt(hr),Pt(ui),Pt(ks),Pt(jr),Pt(oht,8),Pt(Fo,8),Pt(Ai))},t.\u0275cmp=We({type:t,selectors:[["mat-form-field"]],contentQueries:function(n,o,s){if(n&1&&(hB(s,o._labelChild,ZT,5),As(s,Vw,5),As(s,iht,5),As(s,Sz,5),As(s,tht,5),As(s,gz,5)),n&2){fB();let a;Hi(a=Bi())&&(o._formFieldControl=a.first),Hi(a=Bi())&&(o._prefixChildren=a),Hi(a=Bi())&&(o._suffixChildren=a),Hi(a=Bi())&&(o._errorChildren=a),Hi(a=Bi())&&(o._hintChildren=a)}},viewQuery:function(n,o){if(n&1&&(or(Iut,5),or(kut,5),or(Dut,5),or(Out,5),or(Put,5),or(bz,5),or(_z,5),or(yz,5)),n&2){let s;Hi(s=Bi())&&(o._textField=s.first),Hi(s=Bi())&&(o._iconPrefixContainer=s.first),Hi(s=Bi())&&(o._textPrefixContainer=s.first),Hi(s=Bi())&&(o._iconSuffixContainer=s.first),Hi(s=Bi())&&(o._textSuffixContainer=s.first),Hi(s=Bi())&&(o._floatingLabel=s.first),Hi(s=Bi())&&(o._notchedOutline=s.first),Hi(s=Bi())&&(o._lineRipple=s.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(n,o){n&2&&Vi("mat-mdc-form-field-label-always-float",o._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",o._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",o._hasIconSuffix)("mat-form-field-invalid",o._control.errorState)("mat-form-field-disabled",o._control.disabled)("mat-form-field-autofilled",o._control.autofilled)("mat-form-field-no-animations",o._animationMode==="NoopAnimations")("mat-form-field-appearance-fill",o.appearance=="fill")("mat-form-field-appearance-outline",o.appearance=="outline")("mat-form-field-hide-placeholder",o._hasFloatingLabel()&&!o._shouldLabelFloat())("mat-focused",o._control.focused)("mat-primary",o.color!=="accent"&&o.color!=="warn")("mat-accent",o.color==="accent")("mat-warn",o.color==="warn")("ng-untouched",o._shouldForward("untouched"))("ng-touched",o._shouldForward("touched"))("ng-pristine",o._shouldForward("pristine"))("ng-dirty",o._shouldForward("dirty"))("ng-valid",o._shouldForward("valid"))("ng-invalid",o._shouldForward("invalid"))("ng-pending",o._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[gr([{provide:yv,useExisting:t},{provide:Rz,useExisting:t}]),li],ngContentSelectors:Lut,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(n,o){if(n&1){let s=Ho();pn(Nut),Xi(0,But,1,1,"ng-template",null,0,VR),ut(2,"div",6,1),Ke("click",function(l){return cr(s),dr(o._control.onContainerClick(l))}),Xi(4,jut,1,0,"div",7),ut(5,"div",8),Xi(6,Uut,2,2,"div",9)(7,Wut,3,0,"div",10)(8,Yut,3,0,"div",11),ut(9,"div",12),Xi(10,$ut,1,1,null,13),ir(11),dt(),Xi(12,Gut,3,0,"div",14)(13,Kut,3,0,"div",15),dt(),Xi(14,Xut,1,0,"div",16),dt(),ut(15,"div",17),Xi(16,Zut,2,1,"div",18)(17,Jut,5,2,"div",19),dt()}if(n&2){let s;te(2),Vi("mdc-text-field--filled",!o._hasOutline())("mdc-text-field--outlined",o._hasOutline())("mdc-text-field--no-label",!o._hasFloatingLabel())("mdc-text-field--disabled",o._control.disabled)("mdc-text-field--invalid",o._control.errorState),te(2),kn(!o._hasOutline()&&!o._control.disabled?4:-1),te(2),kn(o._hasOutline()?6:-1),te(),kn(o._hasIconPrefix?7:-1),te(),kn(o._hasTextPrefix?8:-1),te(2),kn(!o._hasOutline()||o._forceDisplayInfixLabel()?10:-1),te(2),kn(o._hasTextSuffix?12:-1),te(),kn(o._hasIconSuffix?13:-1),te(),kn(o._hasOutline()?-1:14),te(),Vi("mat-mdc-form-field-subscript-dynamic-size",o.subscriptSizing==="dynamic"),te(),kn((s=o._getDisplayedMessages())==="error"?16:s==="hint"?17:-1)}},dependencies:[bz,_z,GR,yz,gz],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-filled-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-outlined-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--disabled .cdk-high-contrast-active .mdc-text-field__input{background-color:Window}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top));border-top-right-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color, var(--mat-app-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.cdk-high-contrast-active .mdc-text-field--disabled .mdc-floating-label{z-index:1}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-filled-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-filled-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-filled-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color, var(--mat-app-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-outlined-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-outlined-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-outlined-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color, var(--mat-app-outline));border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color, var(--mat-app-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color, var(--mat-app-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),100% - max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))*2)}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none;--mat-form-field-notch-max-width: 100%}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color, var(--mat-app-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color, var(--mat-app-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color, var(--mat-app-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color, var(--mat-app-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-app-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-app-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-app-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-app-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-app-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-app-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-app-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-app-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-app-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-app-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-app-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-app-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-app-body-large-weight))}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-app-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-app-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-app-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field-infix:has(textarea[cols]){width:auto}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[nht.transitionMessages]},changeDetection:0});let e=t;return e})(),jg=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ue({type:t}),t.\u0275inj=ze({imports:[Si,$n,ov,Si]});let e=t;return e})();var I4=new Se("MAT_INPUT_VALUE_ACCESSOR"),cht=["button","checkbox","file","hidden","image","radio","range","reset","submit"],dht=0,Mz=(()=>{let t=class t{get disabled(){return this._disabled}set disabled(i){this._disabled=ku(i),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(i){this._id=i||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(mv.required)??!1}set required(i){this._required=ku(i)}get type(){return this._type}set type(i){this._type=i||"text",this._validateType(),!this._isTextarea&&$3().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._ensureWheelDefaultBehavior()}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(i){this._errorStateTracker.matcher=i}get value(){return this._inputValueAccessor.value}set value(i){i!==this.value&&(this._inputValueAccessor.value=i,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(i){this._readonly=ku(i)}get errorState(){return this._errorStateTracker.errorState}set errorState(i){this._errorStateTracker.errorState=i}constructor(i,n,o,s,a,l,c,d,u,h){this._elementRef=i,this._platform=n,this.ngControl=o,this._autofillMonitor=d,this._ngZone=u,this._formField=h,this._uid=`mat-input-${dht++}`,this._webkitBlinkWheelListenerAttached=!1,this.focused=!1,this.stateChanges=new Je,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(g=>$3().has(g)),this._iOSKeyupListener=g=>{let p=g.target;!p.value&&p.selectionStart===0&&p.selectionEnd===0&&(p.setSelectionRange(1,1),p.setSelectionRange(0,0))},this._webkitBlinkWheelListener=()=>{};let f=this._elementRef.nativeElement,m=f.nodeName.toLowerCase();this._inputValueAccessor=c||f,this._previousNativeValue=this.value,this.id=this.id,n.IOS&&u.runOutsideAngular(()=>{i.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new av(l,o,a,s,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=m==="select",this._isTextarea=m==="textarea",this._isInFormField=!!h,this._isNativeSelect&&(this.controlType=f.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(i=>{this.autofilled=i.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener),this._webkitBlinkWheelListenerAttached&&this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(i){this._elementRef.nativeElement.focus(i)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(i){i!==this.focused&&(this.focused=i,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){let i=this._elementRef.nativeElement.value;this._previousNativeValue!==i&&(this._previousNativeValue=i,this.stateChanges.next())}_dirtyCheckPlaceholder(){let i=this._getPlaceholder();if(i!==this._previousPlaceholder){let n=this._elementRef.nativeElement;this._previousPlaceholder=i,i?n.setAttribute("placeholder",i):n.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){cht.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let i=this._elementRef.nativeElement.validity;return i&&i.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let i=this._elementRef.nativeElement,n=i.options[0];return this.focused||i.multiple||!this.empty||!!(i.selectedIndex>-1&&n&&n.label)}else return this.focused||!this.empty}setDescribedByIds(i){i.length?this._elementRef.nativeElement.setAttribute("aria-describedby",i.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let i=this._elementRef.nativeElement;return this._isNativeSelect&&(i.multiple||i.size>1)}_ensureWheelDefaultBehavior(){!this._webkitBlinkWheelListenerAttached&&this._type==="number"&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("wheel",this._webkitBlinkWheelListener)}),this._webkitBlinkWheelListenerAttached=!0),this._webkitBlinkWheelListenerAttached&&this._type!=="number"&&(this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener),this._webkitBlinkWheelListenerAttached=!0)}};t.\u0275fac=function(n){return new(n||t)(Pt(hi),Pt(jr),Pt(Du,10),Pt(S4,8),Pt(R4,8),Pt(l4),Pt(I4,10),Pt(mz),Pt(ui),Pt(yv,8))},t.\u0275dir=ni({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(n,o){n&1&&Ke("focus",function(){return o._focusChanged(!0)})("blur",function(){return o._focusChanged(!1)})("input",function(){return o._onInput()}),n&2&&(Ba("id",o.id)("disabled",o.disabled)("required",o.required),Yi("name",o.name||null)("readonly",o.readonly&&!o._isNativeSelect||null)("aria-invalid",o.empty&&o.required?null:o.errorState)("aria-required",o.required)("id",o.id),Vi("mat-input-server",o._isServer)("mat-mdc-form-field-textarea-control",o._isInFormField&&o._isTextarea)("mat-mdc-form-field-input-control",o._isInFormField)("mdc-text-field__input",o._isInFormField)("mat-mdc-native-select-inline",o._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[gr([{provide:Vw,useExisting:t}]),er]});let e=t;return e})(),Az=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ue({type:t}),t.\u0275inj=ze({imports:[Si,jg,jg,pz,Si]});let e=t;return e})();var Iz=Qj(),k4=class{constructor(t,r){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=r}attach(){}enable(){if(this._canBeEnabled()){let t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Ko(-this._previousScrollPosition.left),t.style.top=Ko(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let t=this._document.documentElement,r=this._document.body,i=t.style,n=r.style,o=i.scrollBehavior||"",s=n.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),Iz&&(i.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Iz&&(i.scrollBehavior=o,n.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let r=this._document.body,i=this._viewportRuler.getViewportSize();return r.scrollHeight>i.height||r.scrollWidth>i.width}};var D4=class{constructor(t,r,i,n){this._scrollDispatcher=t,this._ngZone=r,this._viewportRuler=i,this._config=n,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(this._scrollSubscription)return;let t=this._scrollDispatcher.scrolled(0).pipe(co(r=>!r||!this._overlayRef.overlayElement.contains(r.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{let r=this._viewportRuler.getViewportScrollPosition().top;Math.abs(r-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},QT=class{enable(){}disable(){}attach(){}};function O4(e,t){return t.some(r=>{let i=e.bottom<r.top,n=e.top>r.bottom,o=e.right<r.left,s=e.left>r.right;return i||n||o||s})}function kz(e,t){return t.some(r=>{let i=e.top<r.top,n=e.bottom>r.bottom,o=e.left<r.left,s=e.right>r.right;return i||n||o||s})}var P4=class{constructor(t,r,i,n){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this._config=n,this._scrollSubscription=null}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(!this._scrollSubscription){let t=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(t).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let r=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:n}=this._viewportRuler.getViewportSize();O4(r,[{width:i,height:n,bottom:n,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},hht=(()=>{let t=class t{constructor(i,n,o,s){this._scrollDispatcher=i,this._viewportRuler=n,this._ngZone=o,this.noop=()=>new QT,this.close=a=>new D4(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new k4(this._viewportRuler,this._document),this.reposition=a=>new P4(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=s}};t.\u0275fac=function(n){return new(n||t)(ee(Dw),ee(FT),ee(ui),ee(Ai))},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Qh=class{constructor(t){if(this.scrollStrategy=new QT,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){let r=Object.keys(t);for(let i of r)t[i]!==void 0&&(this[i]=t[i])}}};var N4=class{constructor(t,r){this.connectionPair=t,this.scrollableViewProperties=r}};var Fz=(()=>{let t=class t{constructor(i){this._attachedOverlays=[],this._document=i}ngOnDestroy(){this.detach()}add(i){this.remove(i),this._attachedOverlays.push(i)}remove(i){let n=this._attachedOverlays.indexOf(i);n>-1&&this._attachedOverlays.splice(n,1),this._attachedOverlays.length===0&&this.detach()}};t.\u0275fac=function(n){return new(n||t)(ee(Ai))},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),fht=(()=>{let t=class t extends Fz{constructor(i,n){super(i),this._ngZone=n,this._keydownListener=o=>{let s=this._attachedOverlays;for(let a=s.length-1;a>-1;a--)if(s[a]._keydownEvents.observers.length>0){let l=s[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>l.next(o)):l.next(o);break}}}add(i){super.add(i),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}};t.\u0275fac=function(n){return new(n||t)(ee(Ai),ee(ui,8))},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),mht=(()=>{let t=class t extends Fz{constructor(i,n,o){super(i),this._platform=n,this._ngZone=o,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=Sc(s)},this._clickListener=s=>{let a=Sc(s),l=s.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;let c=this._attachedOverlays.slice();for(let d=c.length-1;d>-1;d--){let u=c[d];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(Dz(u.overlayElement,a)||Dz(u.overlayElement,l))break;let h=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>h.next(s)):h.next(s)}}}add(i){if(super.add(i),!this._isAttached){let n=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(n)):this._addEventListeners(n),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=n.style.cursor,n.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let i=this._document.body;i.removeEventListener("pointerdown",this._pointerDownListener,!0),i.removeEventListener("click",this._clickListener,!0),i.removeEventListener("auxclick",this._clickListener,!0),i.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(i.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(i){i.addEventListener("pointerdown",this._pointerDownListener,!0),i.addEventListener("click",this._clickListener,!0),i.addEventListener("auxclick",this._clickListener,!0),i.addEventListener("contextmenu",this._clickListener,!0)}};t.\u0275fac=function(n){return new(n||t)(ee(Ai),ee(jr),ee(ui,8))},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Dz(e,t){let r=typeof ShadowRoot<"u"&&ShadowRoot,i=t;for(;i;){if(i===e)return!0;i=r&&i instanceof ShadowRoot?i.host:i.parentNode}return!1}var _v=(()=>{let t=class t{constructor(i,n){this._platform=n,this._document=i}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let i="cdk-overlay-container";if(this._platform.isBrowser||Sw()){let o=this._document.querySelectorAll(`.${i}[platform="server"], .${i}[platform="test"]`);for(let s=0;s<o.length;s++)o[s].remove()}let n=this._document.createElement("div");n.classList.add(i),Sw()?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}};t.\u0275fac=function(n){return new(n||t)(ee(Ai),ee(jr))},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Jh=class{constructor(t,r,i,n,o,s,a,l,c,d=!1,u){this._portalOutlet=t,this._host=r,this._pane=i,this._config=n,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=d,this._injector=u,this._backdropElement=null,this._backdropClick=new Je,this._attachments=new Je,this._detachments=new Je,this._locationChanges=Ro.EMPTY,this._backdropClickHandler=h=>this._backdropClick.next(h),this._backdropTransitionendHandler=h=>{this._disposeBackdrop(h.target)},this._keydownEvents=new Je,this._outsidePointerEvents=new Je,this._renders=new Je,n.scrollStrategy&&(this._scrollStrategy=n.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=n.positionStrategy,this._afterRenderRef=vB(()=>jR(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let r=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=ma(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof r?.onDestroy=="function"&&r.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),r}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){let t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Vt(Vt({},this._config),t),this._updateElementSize()}setDirection(t){this._config=je(Vt({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){let t=this._config.direction;return t?typeof t=="string"?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let t=this._pane.style;t.width=Ko(this._config.width),t.height=Ko(this._config.height),t.minWidth=Ko(this._config.minWidth),t.minHeight=Ko(this._config.minHeight),t.maxWidth=Ko(this._config.maxWidth),t.maxHeight=Ko(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){let t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t=this._backdropElement;if(t){if(this._animationsDisabled){this._disposeBackdrop(t);return}t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,r,i){let n=nv(r||[]).filter(o=>!!o);n.length&&(i?t.classList.add(...n):t.classList.remove(...n))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let t=this._renders.pipe(qn(Vl(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){let t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},Oz="cdk-overlay-connected-position-bounding-box",pht=/([A-Za-z%]+)$/,zw=class{get positions(){return this._preferredPositions}constructor(t,r,i,n,o){this._viewportRuler=r,this._document=i,this._platform=n,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Je,this._resizeSubscription=Ro.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._overlayRef&&this._overlayRef,this._validatePositions(),t.hostElement.classList.add(Oz),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._originRect,r=this._overlayRect,i=this._viewportRect,n=this._containerRect,o=[],s;for(let a of this._preferredPositions){let l=this._getOriginPoint(t,n,a),c=this._getOverlayPoint(l,r,a),d=this._getOverlayFit(c,r,i,a);if(d.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,l);return}if(this._canFitWithFlexibleDimensions(d,c,i)){o.push({position:a,origin:l,overlayRect:r,boundingBoxRect:this._calculateBoundingBoxRect(l,a)});continue}(!s||s.overlayFit.visibleArea<d.visibleArea)&&(s={overlayFit:d,overlayPoint:c,originPoint:l,position:a,overlayRect:r})}if(o.length){let a=null,l=-1;for(let c of o){let d=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);d>l&&(l=d,a=c)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Vg(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Oz),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let r=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,r)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,t.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,r,i){let n;if(i.originX=="center")n=t.left+t.width/2;else{let s=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;n=i.originX=="start"?s:a}r.left<0&&(n-=r.left);let o;return i.originY=="center"?o=t.top+t.height/2:o=i.originY=="top"?t.top:t.bottom,r.top<0&&(o-=r.top),{x:n,y:o}}_getOverlayPoint(t,r,i){let n;i.overlayX=="center"?n=-r.width/2:i.overlayX==="start"?n=this._isRtl()?-r.width:0:n=this._isRtl()?0:-r.width;let o;return i.overlayY=="center"?o=-r.height/2:o=i.overlayY=="top"?0:-r.height,{x:t.x+n,y:t.y+o}}_getOverlayFit(t,r,i,n){let o=Nz(r),{x:s,y:a}=t,l=this._getOffset(n,"x"),c=this._getOffset(n,"y");l&&(s+=l),c&&(a+=c);let d=0-s,u=s+o.width-i.width,h=0-a,f=a+o.height-i.height,m=this._subtractOverflows(o.width,d,u),g=this._subtractOverflows(o.height,h,f),p=m*g;return{visibleArea:p,isCompletelyWithinViewport:o.width*o.height===p,fitsInViewportVertically:g===o.height,fitsInViewportHorizontally:m==o.width}}_canFitWithFlexibleDimensions(t,r,i){if(this._hasFlexibleDimensions){let n=i.bottom-r.y,o=i.right-r.x,s=Pz(this._overlayRef.getConfig().minHeight),a=Pz(this._overlayRef.getConfig().minWidth),l=t.fitsInViewportVertically||s!=null&&s<=n,c=t.fitsInViewportHorizontally||a!=null&&a<=o;return l&&c}return!1}_pushOverlayOnScreen(t,r,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};let n=Nz(r),o=this._viewportRect,s=Math.max(t.x+n.width-o.width,0),a=Math.max(t.y+n.height-o.height,0),l=Math.max(o.top-i.top-t.y,0),c=Math.max(o.left-i.left-t.x,0),d=0,u=0;return n.width<=o.width?d=c||-s:d=t.x<this._viewportMargin?o.left-i.left-t.x:0,n.height<=o.height?u=l||-a:u=t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:d,y:u},{x:t.x+d,y:t.y+u}}_applyPosition(t,r){if(this._setTransformOrigin(t),this._setOverlayElementStyles(r,t),this._setBoundingBoxStyles(r,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){let i=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!ght(this._lastScrollVisibility,i)){let n=new N4(t,i);this._positionChanges.next(n)}this._lastScrollVisibility=i}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;let r=this._boundingBox.querySelectorAll(this._transformOriginSelector),i,n=t.overlayY;t.overlayX==="center"?i="center":this._isRtl()?i=t.overlayX==="start"?"right":"left":i=t.overlayX==="start"?"left":"right";for(let o=0;o<r.length;o++)r[o].style.transformOrigin=`${i} ${n}`}_calculateBoundingBoxRect(t,r){let i=this._viewportRect,n=this._isRtl(),o,s,a;if(r.overlayY==="top")s=t.y,o=i.height-s+this._viewportMargin;else if(r.overlayY==="bottom")a=i.height-t.y+this._viewportMargin*2,o=i.height-a+this._viewportMargin;else{let f=Math.min(i.bottom-t.y+i.top,t.y),m=this._lastBoundingBoxSize.height;o=f*2,s=t.y-f,o>m&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-m/2)}let l=r.overlayX==="start"&&!n||r.overlayX==="end"&&n,c=r.overlayX==="end"&&!n||r.overlayX==="start"&&n,d,u,h;if(c)h=i.width-t.x+this._viewportMargin*2,d=t.x-this._viewportMargin;else if(l)u=t.x,d=i.right-t.x;else{let f=Math.min(i.right-t.x+i.left,t.x),m=this._lastBoundingBoxSize.width;d=f*2,u=t.x-f,d>m&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.x-m/2)}return{top:s,left:u,bottom:a,right:h,width:d,height:o}}_setBoundingBoxStyles(t,r){let i=this._calculateBoundingBoxRect(t,r);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));let n={};if(this._hasExactPosition())n.top=n.left="0",n.bottom=n.right=n.maxHeight=n.maxWidth="",n.width=n.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;n.height=Ko(i.height),n.top=Ko(i.top),n.bottom=Ko(i.bottom),n.width=Ko(i.width),n.left=Ko(i.left),n.right=Ko(i.right),r.overlayX==="center"?n.alignItems="center":n.alignItems=r.overlayX==="end"?"flex-end":"flex-start",r.overlayY==="center"?n.justifyContent="center":n.justifyContent=r.overlayY==="bottom"?"flex-end":"flex-start",o&&(n.maxHeight=Ko(o)),s&&(n.maxWidth=Ko(s))}this._lastBoundingBoxSize=i,Vg(this._boundingBox.style,n)}_resetBoundingBoxStyles(){Vg(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Vg(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,r){let i={},n=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(n){let d=this._viewportRuler.getViewportScrollPosition();Vg(i,this._getExactOverlayY(r,t,d)),Vg(i,this._getExactOverlayX(r,t,d))}else i.position="static";let a="",l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),i.transform=a.trim(),s.maxHeight&&(n?i.maxHeight=Ko(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(n?i.maxWidth=Ko(s.maxWidth):o&&(i.maxWidth="")),Vg(this._pane.style,i)}_getExactOverlayY(t,r,i){let n={top:"",bottom:""},o=this._getOverlayPoint(r,this._overlayRect,t);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),t.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;n.bottom=`${s-(o.y+this._overlayRect.height)}px`}else n.top=Ko(o.y);return n}_getExactOverlayX(t,r,i){let n={left:"",right:""},o=this._getOverlayPoint(r,this._overlayRect,t);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i));let s;if(this._isRtl()?s=t.overlayX==="end"?"left":"right":s=t.overlayX==="end"?"right":"left",s==="right"){let a=this._document.documentElement.clientWidth;n.right=`${a-(o.x+this._overlayRect.width)}px`}else n.left=Ko(o.x);return n}_getScrollVisibility(){let t=this._getOriginRect(),r=this._pane.getBoundingClientRect(),i=this._scrollables.map(n=>n.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:kz(t,i),isOriginOutsideView:O4(t,i),isOverlayClipped:kz(r,i),isOverlayOutsideView:O4(r,i)}}_subtractOverflows(t,...r){return r.reduce((i,n)=>i-Math.max(n,0),t)}_getNarrowedViewportRect(){let t=this._document.documentElement.clientWidth,r=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+r-this._viewportMargin,width:t-2*this._viewportMargin,height:r-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,r){return r==="x"?t.offsetX==null?this._offsetX:t.offsetX:t.offsetY==null?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&nv(t).forEach(r=>{r!==""&&this._appliedPanelClasses.indexOf(r)===-1&&(this._appliedPanelClasses.push(r),this._pane.classList.add(r))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){let t=this._origin;if(t instanceof hi)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();let r=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+r,height:i,width:r}}};function Vg(e,t){for(let r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}function Pz(e){if(typeof e!="number"&&e!=null){let[t,r]=e.split(pht);return!r||r==="px"?parseFloat(t):null}return e||null}function Nz(e){return{top:Math.floor(e.top),right:Math.floor(e.right),bottom:Math.floor(e.bottom),left:Math.floor(e.left),width:Math.floor(e.width),height:Math.floor(e.height)}}function ght(e,t){return e===t?!0:e.isOriginClipped===t.isOriginClipped&&e.isOriginOutsideView===t.isOriginOutsideView&&e.isOverlayClipped===t.isOverlayClipped&&e.isOverlayOutsideView===t.isOverlayOutsideView}var Lz="cdk-global-overlay-wrapper",L4=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){let r=t.getConfig();this._overlayRef=t,this._width&&!r.width&&t.updateSize({width:this._width}),this._height&&!r.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(Lz),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let t=this._overlayRef.overlayElement.style,r=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:n,height:o,maxWidth:s,maxHeight:a}=i,l=(n==="100%"||n==="100vw")&&(!s||s==="100%"||s==="100vw"),c=(o==="100%"||o==="100vh")&&(!a||a==="100%"||a==="100vh"),d=this._xPosition,u=this._xOffset,h=this._overlayRef.getConfig().direction==="rtl",f="",m="",g="";l?g="flex-start":d==="center"?(g="center",h?m=u:f=u):h?d==="left"||d==="end"?(g="flex-end",f=u):(d==="right"||d==="start")&&(g="flex-start",m=u):d==="left"||d==="start"?(g="flex-start",f=u):(d==="right"||d==="end")&&(g="flex-end",m=u),t.position=this._cssPosition,t.marginLeft=l?"0":f,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=l?"0":m,r.justifyContent=g,r.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let t=this._overlayRef.overlayElement.style,r=this._overlayRef.hostElement,i=r.style;r.classList.remove(Lz),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},bht=(()=>{let t=class t{constructor(i,n,o,s){this._viewportRuler=i,this._document=n,this._platform=o,this._overlayContainer=s}global(){return new L4}flexibleConnectedTo(i){return new zw(i,this._viewportRuler,this._document,this._platform,this._overlayContainer)}};t.\u0275fac=function(n){return new(n||t)(ee(FT),ee(Ai),ee(jr),ee(_v))},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),vht=0,bn=(()=>{let t=class t{constructor(i,n,o,s,a,l,c,d,u,h,f,m){this.scrollStrategies=i,this._overlayContainer=n,this._componentFactoryResolver=o,this._positionBuilder=s,this._keyboardDispatcher=a,this._injector=l,this._ngZone=c,this._document=d,this._directionality=u,this._location=h,this._outsideClickDispatcher=f,this._animationsModuleType=m}create(i){let n=this._createHostElement(),o=this._createPaneElement(n),s=this._createPortalOutlet(o),a=new Qh(i);return a.direction=a.direction||this._directionality.value,new Jh(s,n,o,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(Mu))}position(){return this._positionBuilder}_createPaneElement(i){let n=this._document.createElement("div");return n.id=`cdk-overlay-${vht++}`,n.classList.add("cdk-overlay-pane"),i.appendChild(n),n}_createHostElement(){let i=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalOutlet(i){return this._appRef||(this._appRef=this._injector.get(Tg)),new LT(i,this._componentFactoryResolver,this._appRef,this._injector,this._document)}};t.\u0275fac=function(n){return new(n||t)(ee(hht),ee(_v),ee(Hb),ee(bht),ee(fht),ee(mn),ee(ui),ee(Ai),ee(ks),ee(Wh),ee(mht),ee(Fo,8))},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var yht=new Se("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let e=pe(bn);return()=>e.scrollStrategies.reposition()}});function _ht(e){return()=>e.scrollStrategies.reposition()}var wht={provide:yht,deps:[bn],useFactory:_ht},Ac=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ue({type:t}),t.\u0275inj=ze({providers:[bn,wht],imports:[vm,uv,Ow,Ow]});let e=t;return e})();var Tht=new Se("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let e=pe(bn);return()=>e.scrollStrategies.reposition()}});function Mht(e){return()=>e.scrollStrategies.reposition()}var Aht={provide:Tht,deps:[bn],useFactory:Mht};var Hz=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ue({type:t}),t.\u0275inj=ze({providers:[Aht],imports:[$n,Ac,cv,Si,Tc,jg,cv,Si]});let e=t;return e})();var Iht=new Se("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{let e=pe(bn);return()=>e.scrollStrategies.reposition()}});function kht(e){return()=>e.scrollStrategies.reposition()}var Dht={provide:Iht,deps:[bn],useFactory:kht};var Bz=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ue({type:t}),t.\u0275inj=ze({providers:[Dht],imports:[Ac,cv,Si,$n,Tc,cv,Si]});let e=t;return e})();function Yw(e){return e+.5|0}var Sm=(e,t,r)=>Math.max(Math.min(e,r),t);function Uw(e){return Sm(Yw(e*2.55),0,255)}function Em(e){return Sm(Yw(e*255),0,255)}function tf(e){return Sm(Yw(e/2.55)/100,0,1)}function jz(e){return Sm(Yw(e*100),0,100)}var Ic={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},H4=[..."0123456789ABCDEF"],Oht=e=>H4[e&15],Pht=e=>H4[(e&240)>>4]+H4[e&15],t5=e=>(e&240)>>4===(e&15),Nht=e=>t5(e.r)&&t5(e.g)&&t5(e.b)&&t5(e.a);function Lht(e){var t=e.length,r;return e[0]==="#"&&(t===4||t===5?r={r:255&Ic[e[1]]*17,g:255&Ic[e[2]]*17,b:255&Ic[e[3]]*17,a:t===5?Ic[e[4]]*17:255}:(t===7||t===9)&&(r={r:Ic[e[1]]<<4|Ic[e[2]],g:Ic[e[3]]<<4|Ic[e[4]],b:Ic[e[5]]<<4|Ic[e[6]],a:t===9?Ic[e[7]]<<4|Ic[e[8]]:255})),r}var Fht=(e,t)=>e<255?t(e):"";function Hht(e){var t=Nht(e)?Oht:Pht;return e?"#"+t(e.r)+t(e.g)+t(e.b)+Fht(e.a,t):void 0}var Bht=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Wz(e,t,r){let i=t*Math.min(r,1-r),n=(o,s=(o+e/30)%12)=>r-i*Math.max(Math.min(s-3,9-s,1),-1);return[n(0),n(8),n(4)]}function jht(e,t,r){let i=(n,o=(n+e/60)%6)=>r-r*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function Vht(e,t,r){let i=Wz(e,1,.5),n;for(t+r>1&&(n=1/(t+r),t*=n,r*=n),n=0;n<3;n++)i[n]*=1-t-r,i[n]+=t;return i}function zht(e,t,r,i,n){return e===n?(t-r)/i+(t<r?6:0):t===n?(r-e)/i+2:(e-t)/i+4}function B4(e){let r=e.r/255,i=e.g/255,n=e.b/255,o=Math.max(r,i,n),s=Math.min(r,i,n),a=(o+s)/2,l,c,d;return o!==s&&(d=o-s,c=a>.5?d/(2-o-s):d/(o+s),l=zht(r,i,n,d,o),l=l*60+.5),[l|0,c||0,a]}function j4(e,t,r,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,r,i)).map(Em)}function V4(e,t,r){return j4(Wz,e,t,r)}function Uht(e,t,r){return j4(Vht,e,t,r)}function Wht(e,t,r){return j4(jht,e,t,r)}function Yz(e){return(e%360+360)%360}function Yht(e){let t=Bht.exec(e),r=255,i;if(!t)return;t[5]!==i&&(r=t[6]?Uw(+t[5]):Em(+t[5]));let n=Yz(+t[2]),o=+t[3]/100,s=+t[4]/100;return t[1]==="hwb"?i=Uht(n,o,s):t[1]==="hsv"?i=Wht(n,o,s):i=V4(n,o,s),{r:i[0],g:i[1],b:i[2],a:r}}function qht(e,t){var r=B4(e);r[0]=Yz(r[0]+t),r=V4(r),e.r=r[0],e.g=r[1],e.b=r[2]}function $ht(e){if(!e)return;let t=B4(e),r=t[0],i=jz(t[1]),n=jz(t[2]);return e.a<255?`hsla(${r}, ${i}%, ${n}%, ${tf(e.a)})`:`hsl(${r}, ${i}%, ${n}%)`}var Vz={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},zz={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Ght(){let e={},t=Object.keys(zz),r=Object.keys(Vz),i,n,o,s,a;for(i=0;i<t.length;i++){for(s=a=t[i],n=0;n<r.length;n++)o=r[n],a=a.replace(o,Vz[o]);o=parseInt(zz[s],16),e[a]=[o>>16&255,o>>8&255,o&255]}return e}var e5;function Kht(e){e5||(e5=Ght(),e5.transparent=[0,0,0,0]);let t=e5[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}var Xht=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Zht(e){let t=Xht.exec(e),r=255,i,n,o;if(t){if(t[7]!==i){let s=+t[7];r=t[8]?Uw(s):Sm(s*255,0,255)}return i=+t[1],n=+t[3],o=+t[5],i=255&(t[2]?Uw(i):Sm(i,0,255)),n=255&(t[4]?Uw(n):Sm(n,0,255)),o=255&(t[6]?Uw(o):Sm(o,0,255)),{r:i,g:n,b:o,a:r}}}function Qht(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${tf(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}var F4=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,wv=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function Jht(e,t,r){let i=wv(tf(e.r)),n=wv(tf(e.g)),o=wv(tf(e.b));return{r:Em(F4(i+r*(wv(tf(t.r))-i))),g:Em(F4(n+r*(wv(tf(t.g))-n))),b:Em(F4(o+r*(wv(tf(t.b))-o))),a:e.a+r*(t.a-e.a)}}function i5(e,t,r){if(e){let i=B4(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*r,t===0?360:1)),i=V4(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function qz(e,t){return e&&Object.assign(t||{},e)}function Uz(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Em(e[3]))):(t=qz(e,{r:0,g:0,b:0,a:1}),t.a=Em(t.a)),t}function tft(e){return e.charAt(0)==="r"?Zht(e):Yht(e)}var Ww=class e{constructor(t){if(t instanceof e)return t;let r=typeof t,i;r==="object"?i=Uz(t):r==="string"&&(i=Lht(t)||Kht(t)||tft(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=qz(this._rgb);return t&&(t.a=tf(t.a)),t}set rgb(t){this._rgb=Uz(t)}rgbString(){return this._valid?Qht(this._rgb):void 0}hexString(){return this._valid?Hht(this._rgb):void 0}hslString(){return this._valid?$ht(this._rgb):void 0}mix(t,r){if(t){let i=this.rgb,n=t.rgb,o,s=r===o?.5:r,a=2*s-1,l=i.a-n.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;o=1-c,i.r=255&c*i.r+o*n.r+.5,i.g=255&c*i.g+o*n.g+.5,i.b=255&c*i.b+o*n.b+.5,i.a=s*i.a+(1-s)*n.a,this.rgb=i}return this}interpolate(t,r){return t&&(this._rgb=Jht(this._rgb,t._rgb,r)),this}clone(){return new e(this.rgb)}alpha(t){return this._rgb.a=Em(t),this}clearer(t){let r=this._rgb;return r.a*=1-t,this}greyscale(){let t=this._rgb,r=Yw(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=r,this}opaquer(t){let r=this._rgb;return r.a*=1+t,this}negate(){let t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return i5(this._rgb,2,t),this}darken(t){return i5(this._rgb,2,-t),this}saturate(t){return i5(this._rgb,1,t),this}desaturate(t){return i5(this._rgb,1,-t),this}rotate(t){return qht(this._rgb,t),this}};function Nu(){}var rU=(()=>{let e=0;return()=>e++})();function Qr(e){return e===null||typeof e>"u"}function eo(e){if(Array.isArray&&Array.isArray(e))return!0;let t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Vr(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function To(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function fl(e,t){return To(e)?e:t}function br(e,t){return typeof e>"u"?t:e}var nU=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,Y4=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Gn(e,t,r){if(e&&typeof e.call=="function")return e.apply(r,t)}function vn(e,t,r,i){let n,o,s;if(eo(e))if(o=e.length,i)for(n=o-1;n>=0;n--)t.call(r,e[n],n);else for(n=0;n<o;n++)t.call(r,e[n],n);else if(Vr(e))for(s=Object.keys(e),o=s.length,n=0;n<o;n++)t.call(r,e[s[n]],s[n])}function Gw(e,t){let r,i,n,o;if(!e||!t||e.length!==t.length)return!1;for(r=0,i=e.length;r<i;++r)if(n=e[r],o=t[r],n.datasetIndex!==o.datasetIndex||n.index!==o.index)return!1;return!0}function s5(e){if(eo(e))return e.map(s5);if(Vr(e)){let t=Object.create(null),r=Object.keys(e),i=r.length,n=0;for(;n<i;++n)t[r[n]]=s5(e[r[n]]);return t}return e}function oU(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function eft(e,t,r,i){if(!oU(e))return;let n=t[e],o=r[e];Vr(n)&&Vr(o)?xv(n,o,i):t[e]=s5(o)}function xv(e,t,r){let i=eo(t)?t:[t],n=i.length;if(!Vr(e))return e;r=r||{};let o=r.merger||eft,s;for(let a=0;a<n;++a){if(s=i[a],!Vr(s))continue;let l=Object.keys(s);for(let c=0,d=l.length;c<d;++c)o(l[c],e,s,r)}return e}function Ev(e,t){return xv(e,t,{merger:ift})}function ift(e,t,r){if(!oU(e))return;let i=t[e],n=r[e];Vr(i)&&Vr(n)?Ev(i,n):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=s5(n))}var $z={"":e=>e,x:e=>e.x,y:e=>e.y};function rft(e){let t=e.split("."),r=[],i="";for(let n of t)i+=n,i.endsWith("\\")?i=i.slice(0,-1)+".":(r.push(i),i="");return r}function nft(e){let t=rft(e);return r=>{for(let i of t){if(i==="")break;r=r&&r[i]}return r}}function nf(e,t){return($z[t]||($z[t]=nft(t)))(e)}function d5(e){return e.charAt(0).toUpperCase()+e.slice(1)}var Rv=e=>typeof e<"u",ef=e=>typeof e=="function",q4=(e,t)=>{if(e.size!==t.size)return!1;for(let r of e)if(!t.has(r))return!1;return!0};function sU(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}var io=Math.PI,ro=2*io,oft=ro+io,a5=Number.POSITIVE_INFINITY,sft=io/180,Bo=io/2,zg=io/4,Gz=io*2/3,rf=Math.log10,Sd=Math.sign;function Tv(e,t,r){return Math.abs(e-t)<r}function $4(e){let t=Math.round(e);e=Tv(e,t,e/1e3)?t:e;let r=Math.pow(10,Math.floor(rf(e))),i=e/r;return(i<=1?1:i<=2?2:i<=5?5:10)*r}function aU(e){let t=[],r=Math.sqrt(e),i;for(i=1;i<r;i++)e%i===0&&(t.push(i),t.push(e/i));return r===(r|0)&&t.push(r),t.sort((n,o)=>n-o).pop(),t}function Yg(e){return!isNaN(parseFloat(e))&&isFinite(e)}function lU(e,t){let r=Math.round(e);return r-t<=e&&r+t>=e}function G4(e,t,r){let i,n,o;for(i=0,n=e.length;i<n;i++)o=e[i][r],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function kc(e){return e*(io/180)}function u5(e){return e*(180/io)}function K4(e){if(!To(e))return;let t=1,r=0;for(;Math.round(e*t)/t!==e;)t*=10,r++;return r}function X4(e,t){let r=t.x-e.x,i=t.y-e.y,n=Math.sqrt(r*r+i*i),o=Math.atan2(i,r);return o<-.5*io&&(o+=ro),{angle:o,distance:n}}function l5(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function aft(e,t){return(e-t+oft)%ro-io}function hl(e){return(e%ro+ro)%ro}function Mv(e,t,r,i){let n=hl(e),o=hl(t),s=hl(r),a=hl(o-n),l=hl(s-n),c=hl(n-o),d=hl(n-s);return n===o||n===s||i&&o===s||a>l&&c<d}function gs(e,t,r){return Math.max(t,Math.min(r,e))}function cU(e){return gs(e,-32768,32767)}function Lu(e,t,r,i=1e-6){return e>=Math.min(t,r)-i&&e<=Math.max(t,r)+i}function h5(e,t,r){r=r||(s=>e[s]<t);let i=e.length-1,n=0,o;for(;i-n>1;)o=n+i>>1,r(o)?n=o:i=o;return{lo:n,hi:i}}var Ou=(e,t,r,i)=>h5(e,r,i?n=>{let o=e[n][t];return o<r||o===r&&e[n+1][t]===r}:n=>e[n][t]<r),dU=(e,t,r)=>h5(e,r,i=>e[i][t]>=r);function uU(e,t,r){let i=0,n=e.length;for(;i<n&&e[i]<t;)i++;for(;n>i&&e[n-1]>r;)n--;return i>0||n<e.length?e.slice(i,n):e}var hU=["push","pop","shift","splice","unshift"];function fU(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),hU.forEach(r=>{let i="_onData"+d5(r),n=e[r];Object.defineProperty(e,r,{configurable:!0,enumerable:!1,value(...o){let s=n.apply(this,o);return e._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...o)}),s}})})}function Z4(e,t){let r=e._chartjs;if(!r)return;let i=r.listeners,n=i.indexOf(t);n!==-1&&i.splice(n,1),!(i.length>0)&&(hU.forEach(o=>{delete e[o]}),delete e._chartjs)}function Q4(e){let t=new Set(e);return t.size===e.length?e:Array.from(t)}var J4=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function tP(e,t){let r=[],i=!1;return function(...n){r=n,i||(i=!0,J4.call(window,()=>{i=!1,e.apply(t,r)}))}}function mU(e,t){let r;return function(...i){return t?(clearTimeout(r),r=setTimeout(e,t,i)):e.apply(this,i),t}}var f5=e=>e==="start"?"left":e==="end"?"right":"center",ia=(e,t,r)=>e==="start"?t:e==="end"?r:(t+r)/2,pU=(e,t,r,i)=>e===(i?"left":"right")?r:e==="center"?(t+r)/2:t;function eP(e,t,r){let i=t.length,n=0,o=i;if(e._sorted){let{iScale:s,_parsed:a}=e,l=s.axis,{min:c,max:d,minDefined:u,maxDefined:h}=s.getUserBounds();u&&(n=gs(Math.min(Ou(a,l,c).lo,r?i:Ou(t,l,s.getPixelForValue(c)).lo),0,i-1)),h?o=gs(Math.max(Ou(a,s.axis,d,!0).hi+1,r?0:Ou(t,l,s.getPixelForValue(d),!0).hi+1),n,i)-n:o=i-n}return{start:n,count:o}}function iP(e){let{xScale:t,yScale:r,_scaleRanges:i}=e,n={xmin:t.min,xmax:t.max,ymin:r.min,ymax:r.max};if(!i)return e._scaleRanges=n,!0;let o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==r.min||i.ymax!==r.max;return Object.assign(i,n),o}var r5=e=>e===0||e===1,Kz=(e,t,r)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*ro/r)),Xz=(e,t,r)=>Math.pow(2,-10*e)*Math.sin((e-t)*ro/r)+1,Cv={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Bo)+1,easeOutSine:e=>Math.sin(e*Bo),easeInOutSine:e=>-.5*(Math.cos(io*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>r5(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>r5(e)?e:Kz(e,.075,.3),easeOutElastic:e=>r5(e)?e:Xz(e,.075,.3),easeInOutElastic(e){return r5(e)?e:e<.5?.5*Kz(e*2,.1125,.45):.5+.5*Xz(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Cv.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Cv.easeInBounce(e*2)*.5:Cv.easeOutBounce(e*2-1)*.5+.5};function rP(e){if(e&&typeof e=="object"){let t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function nP(e){return rP(e)?e:new Ww(e)}function z4(e){return rP(e)?e:new Ww(e).saturate(.5).darken(.1).hexString()}var lft=["x","y","borderWidth","radius","tension"],cft=["color","borderColor","backgroundColor"];function dft(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:cft},numbers:{type:"number",properties:lft}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function uft(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var Zz=new Map;function hft(e,t){t=t||{};let r=e+JSON.stringify(t),i=Zz.get(r);return i||(i=new Intl.NumberFormat(e,t),Zz.set(r,i)),i}function Av(e,t,r){return hft(t,r).format(e)}var gU={values(e){return eo(e)?e:""+e},numeric(e,t,r){if(e===0)return"0";let i=this.chart.options.locale,n,o=e;if(r.length>1){let c=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(c<1e-4||c>1e15)&&(n="scientific"),o=fft(e,r)}let s=rf(Math.abs(o)),a=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),l={notation:n,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Av(e,i,l)},logarithmic(e,t,r){if(e===0)return"0";let i=r[t].significand||e/Math.pow(10,Math.floor(rf(e)));return[1,2,3,5,10,15].includes(i)||t>.8*r.length?gU.numeric.call(this,e,t,r):""}};function fft(e,t){let r=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(r)>=1&&e!==Math.floor(e)&&(r=e-Math.floor(e)),r}var Kw={formatters:gU};function mft(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,r)=>r.lineWidth,tickColor:(t,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Kw.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}var Tm=Object.create(null),m5=Object.create(null);function qw(e,t){if(!t)return e;let r=t.split(".");for(let i=0,n=r.length;i<n;++i){let o=r[i];e=e[o]||(e[o]=Object.create(null))}return e}function U4(e,t,r){return typeof t=="string"?xv(qw(e,t),r):xv(qw(e,""),t)}var W4=class{constructor(t,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,n)=>z4(n.backgroundColor),this.hoverBorderColor=(i,n)=>z4(n.borderColor),this.hoverColor=(i,n)=>z4(n.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(r)}set(t,r){return U4(this,t,r)}get(t){return qw(this,t)}describe(t,r){return U4(m5,t,r)}override(t,r){return U4(Tm,t,r)}route(t,r,i,n){let o=qw(this,t),s=qw(this,i),a="_"+r;Object.defineProperties(o,{[a]:{value:o[r],writable:!0},[r]:{enumerable:!0,get(){let l=this[a],c=s[n];return Vr(l)?Object.assign({},c,l):br(l,c)},set(l){this[a]=l}}})}apply(t){t.forEach(r=>r(this))}},uo=new W4({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[dft,uft,mft]);function pft(e){return!e||Qr(e.size)||Qr(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function $w(e,t,r,i,n){let o=t[n];return o||(o=t[n]=e.measureText(n).width,r.push(n)),o>i&&(i=o),i}function bU(e,t,r,i){i=i||{};let n=i.data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(n=i.data={},o=i.garbageCollect=[],i.font=t),e.save(),e.font=t;let s=0,a=r.length,l,c,d,u,h;for(l=0;l<a;l++)if(u=r[l],u!=null&&!eo(u))s=$w(e,n,o,s,u);else if(eo(u))for(c=0,d=u.length;c<d;c++)h=u[c],h!=null&&!eo(h)&&(s=$w(e,n,o,s,h));e.restore();let f=o.length/2;if(f>r.length){for(l=0;l<f;l++)delete n[o[l]];o.splice(0,f)}return s}function Mm(e,t,r){let i=e.currentDevicePixelRatio,n=r!==0?Math.max(r/2,.5):0;return Math.round((t-n)*i)/i+n}function oP(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function p5(e,t,r,i){sP(e,t,r,i,null)}function sP(e,t,r,i,n){let o,s,a,l,c,d,u,h,f=t.pointStyle,m=t.rotation,g=t.radius,p=(m||0)*sft;if(f&&typeof f=="object"&&(o=f.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){e.save(),e.translate(r,i),e.rotate(p),e.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),e.restore();return}if(!(isNaN(g)||g<=0)){switch(e.beginPath(),f){default:n?e.ellipse(r,i,n/2,g,0,0,ro):e.arc(r,i,g,0,ro),e.closePath();break;case"triangle":d=n?n/2:g,e.moveTo(r+Math.sin(p)*d,i-Math.cos(p)*g),p+=Gz,e.lineTo(r+Math.sin(p)*d,i-Math.cos(p)*g),p+=Gz,e.lineTo(r+Math.sin(p)*d,i-Math.cos(p)*g),e.closePath();break;case"rectRounded":c=g*.516,l=g-c,s=Math.cos(p+zg)*l,u=Math.cos(p+zg)*(n?n/2-c:l),a=Math.sin(p+zg)*l,h=Math.sin(p+zg)*(n?n/2-c:l),e.arc(r-u,i-a,c,p-io,p-Bo),e.arc(r+h,i-s,c,p-Bo,p),e.arc(r+u,i+a,c,p,p+Bo),e.arc(r-h,i+s,c,p+Bo,p+io),e.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*g,d=n?n/2:l,e.rect(r-d,i-l,2*d,2*l);break}p+=zg;case"rectRot":u=Math.cos(p)*(n?n/2:g),s=Math.cos(p)*g,a=Math.sin(p)*g,h=Math.sin(p)*(n?n/2:g),e.moveTo(r-u,i-a),e.lineTo(r+h,i-s),e.lineTo(r+u,i+a),e.lineTo(r-h,i+s),e.closePath();break;case"crossRot":p+=zg;case"cross":u=Math.cos(p)*(n?n/2:g),s=Math.cos(p)*g,a=Math.sin(p)*g,h=Math.sin(p)*(n?n/2:g),e.moveTo(r-u,i-a),e.lineTo(r+u,i+a),e.moveTo(r+h,i-s),e.lineTo(r-h,i+s);break;case"star":u=Math.cos(p)*(n?n/2:g),s=Math.cos(p)*g,a=Math.sin(p)*g,h=Math.sin(p)*(n?n/2:g),e.moveTo(r-u,i-a),e.lineTo(r+u,i+a),e.moveTo(r+h,i-s),e.lineTo(r-h,i+s),p+=zg,u=Math.cos(p)*(n?n/2:g),s=Math.cos(p)*g,a=Math.sin(p)*g,h=Math.sin(p)*(n?n/2:g),e.moveTo(r-u,i-a),e.lineTo(r+u,i+a),e.moveTo(r+h,i-s),e.lineTo(r-h,i+s);break;case"line":s=n?n/2:Math.cos(p)*g,a=Math.sin(p)*g,e.moveTo(r-s,i-a),e.lineTo(r+s,i+a);break;case"dash":e.moveTo(r,i),e.lineTo(r+Math.cos(p)*(n?n/2:g),i+Math.sin(p)*g);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function Pu(e,t,r){return r=r||.5,!t||e&&e.x>t.left-r&&e.x<t.right+r&&e.y>t.top-r&&e.y<t.bottom+r}function Xw(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Zw(e){e.restore()}function vU(e,t,r,i,n){if(!t)return e.lineTo(r.x,r.y);if(n==="middle"){let o=(t.x+r.x)/2;e.lineTo(o,t.y),e.lineTo(o,r.y)}else n==="after"!=!!i?e.lineTo(t.x,r.y):e.lineTo(r.x,t.y);e.lineTo(r.x,r.y)}function yU(e,t,r,i){if(!t)return e.lineTo(r.x,r.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?r.cp2x:r.cp1x,i?r.cp2y:r.cp1y,r.x,r.y)}function gft(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Qr(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function bft(e,t,r,i,n){if(n.strikethrough||n.underline){let o=e.measureText(i),s=t-o.actualBoundingBoxLeft,a=t+o.actualBoundingBoxRight,l=r-o.actualBoundingBoxAscent,c=r+o.actualBoundingBoxDescent,d=n.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=n.decorationWidth||2,e.moveTo(s,d),e.lineTo(a,d),e.stroke()}}function vft(e,t){let r=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=r}function Am(e,t,r,i,n,o={}){let s=eo(t)?t:[t],a=o.strokeWidth>0&&o.strokeColor!=="",l,c;for(e.save(),e.font=n.string,gft(e,o),l=0;l<s.length;++l)c=s[l],o.backdrop&&vft(e,o.backdrop),a&&(o.strokeColor&&(e.strokeStyle=o.strokeColor),Qr(o.strokeWidth)||(e.lineWidth=o.strokeWidth),e.strokeText(c,r,i,o.maxWidth)),e.fillText(c,r,i,o.maxWidth),bft(e,r,i,c,o),i+=Number(n.lineHeight);e.restore()}function Iv(e,t){let{x:r,y:i,w:n,h:o,radius:s}=t;e.arc(r+s.topLeft,i+s.topLeft,s.topLeft,1.5*io,io,!0),e.lineTo(r,i+o-s.bottomLeft),e.arc(r+s.bottomLeft,i+o-s.bottomLeft,s.bottomLeft,io,Bo,!0),e.lineTo(r+n-s.bottomRight,i+o),e.arc(r+n-s.bottomRight,i+o-s.bottomRight,s.bottomRight,Bo,0,!0),e.lineTo(r+n,i+s.topRight),e.arc(r+n-s.topRight,i+s.topRight,s.topRight,0,-Bo,!0),e.lineTo(r+s.topLeft,i)}var yft=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,_ft=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function wft(e,t){let r=(""+e).match(yft);if(!r||r[1]==="normal")return t*1.2;switch(e=+r[2],r[3]){case"px":return e;case"%":e/=100;break}return t*e}var Cft=e=>+e||0;function g5(e,t){let r={},i=Vr(t),n=i?Object.keys(t):t,o=Vr(e)?i?s=>br(e[s],e[t[s]]):s=>e[s]:()=>e;for(let s of n)r[s]=Cft(o(s));return r}function aP(e){return g5(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Im(e){return g5(e,["topLeft","topRight","bottomLeft","bottomRight"])}function ra(e){let t=aP(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function ls(e,t){e=e||{},t=t||uo.font;let r=br(e.size,t.size);typeof r=="string"&&(r=parseInt(r,10));let i=br(e.style,t.style);i&&!(""+i).match(_ft)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);let n={family:br(e.family,t.family),lineHeight:wft(br(e.lineHeight,t.lineHeight),r),size:r,style:i,weight:br(e.weight,t.weight),string:""};return n.string=pft(n),n}function kv(e,t,r,i){let n=!0,o,s,a;for(o=0,s=e.length;o<s;++o)if(a=e[o],a!==void 0&&(t!==void 0&&typeof a=="function"&&(a=a(t),n=!1),r!==void 0&&eo(a)&&(a=a[r%a.length],n=!1),a!==void 0))return i&&!n&&(i.cacheable=!1),a}function _U(e,t,r){let{min:i,max:n}=e,o=Y4(t,(n-i)/2),s=(a,l)=>r&&a===0?0:a+l;return{min:s(i,-Math.abs(o)),max:s(n,o)}}function of(e,t){return Object.assign(Object.create(e),t)}function b5(e,t=[""],r,i,n=()=>e[0]){let o=r||e;typeof i>"u"&&(i=xU("_fallback",e));let s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:o,_fallback:i,_getTarget:n,override:a=>b5([a,...e],t,o,i)};return new Proxy(s,{deleteProperty(a,l){return delete a[l],delete a._keys,delete e[0][l],!0},get(a,l){return wU(a,l,()=>Ift(l,t,e,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,l){return Jz(a).includes(l)},ownKeys(a){return Jz(a)},set(a,l,c){let d=a._storage||(a._storage=n());return a[l]=d[l]=c,delete a._keys,!0}})}function Wg(e,t,r,i){let n={_cacheable:!1,_proxy:e,_context:t,_subProxy:r,_stack:new Set,_descriptors:lP(e,i),setContext:o=>Wg(e,o,r,i),override:o=>Wg(e.override(o),t,r,i)};return new Proxy(n,{deleteProperty(o,s){return delete o[s],delete e[s],!0},get(o,s,a){return wU(o,s,()=>Sft(o,s,a))},getOwnPropertyDescriptor(o,s){return o._descriptors.allKeys?Reflect.has(e,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,s)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(o,s){return Reflect.has(e,s)},ownKeys(){return Reflect.ownKeys(e)},set(o,s,a){return e[s]=a,delete o[s],!0}})}function lP(e,t={scriptable:!0,indexable:!0}){let{_scriptable:r=t.scriptable,_indexable:i=t.indexable,_allKeys:n=t.allKeys}=e;return{allKeys:n,scriptable:r,indexable:i,isScriptable:ef(r)?r:()=>r,isIndexable:ef(i)?i:()=>i}}var xft=(e,t)=>e?e+d5(t):t,cP=(e,t)=>Vr(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function wU(e,t,r){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];let i=r();return e[t]=i,i}function Sft(e,t,r){let{_proxy:i,_context:n,_subProxy:o,_descriptors:s}=e,a=i[t];return ef(a)&&s.isScriptable(t)&&(a=Eft(t,a,e,r)),eo(a)&&a.length&&(a=Rft(t,a,e,s.isIndexable)),cP(t,a)&&(a=Wg(a,n,o&&o[t],s)),a}function Eft(e,t,r,i){let{_proxy:n,_context:o,_subProxy:s,_stack:a}=r;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(o,s||i);return a.delete(e),cP(e,l)&&(l=dP(n._scopes,n,e,l)),l}function Rft(e,t,r,i){let{_proxy:n,_context:o,_subProxy:s,_descriptors:a}=r;if(typeof o.index<"u"&&i(e))return t[o.index%t.length];if(Vr(t[0])){let l=t,c=n._scopes.filter(d=>d!==l);t=[];for(let d of l){let u=dP(c,n,e,d);t.push(Wg(u,o,s&&s[e],a))}}return t}function CU(e,t,r){return ef(e)?e(t,r):e}var Tft=(e,t)=>e===!0?t:typeof e=="string"?nf(t,e):void 0;function Mft(e,t,r,i,n){for(let o of t){let s=Tft(r,o);if(s){e.add(s);let a=CU(s._fallback,r,n);if(typeof a<"u"&&a!==r&&a!==i)return a}else if(s===!1&&typeof i<"u"&&r!==i)return null}return!1}function dP(e,t,r,i){let n=t._rootScopes,o=CU(t._fallback,r,i),s=[...e,...n],a=new Set;a.add(i);let l=Qz(a,s,r,o||r,i);return l===null||typeof o<"u"&&o!==r&&(l=Qz(a,s,o,l,i),l===null)?!1:b5(Array.from(a),[""],n,o,()=>Aft(t,r,i))}function Qz(e,t,r,i,n){for(;r;)r=Mft(e,t,r,i,n);return r}function Aft(e,t,r){let i=e._getTarget();t in i||(i[t]={});let n=i[t];return eo(n)&&Vr(r)?r:n||{}}function Ift(e,t,r,i){let n;for(let o of t)if(n=xU(xft(o,e),r),typeof n<"u")return cP(e,n)?dP(r,i,e,n):n}function xU(e,t){for(let r of t){if(!r)continue;let i=r[e];if(typeof i<"u")return i}}function Jz(e){let t=e._keys;return t||(t=e._keys=kft(e._scopes)),t}function kft(e){let t=new Set;for(let r of e)for(let i of Object.keys(r).filter(n=>!n.startsWith("_")))t.add(i);return Array.from(t)}function uP(e,t,r,i){let{iScale:n}=e,{key:o="r"}=this._parsing,s=new Array(i),a,l,c,d;for(a=0,l=i;a<l;++a)c=a+r,d=t[c],s[a]={r:n.parse(nf(d,o),c)};return s}var Dft=Number.EPSILON||1e-14,Sv=(e,t)=>t<e.length&&!e[t].skip&&e[t],SU=e=>e==="x"?"y":"x";function Oft(e,t,r,i){let n=e.skip?t:e,o=t,s=r.skip?t:r,a=l5(o,n),l=l5(s,o),c=a/(a+l),d=l/(a+l);c=isNaN(c)?0:c,d=isNaN(d)?0:d;let u=i*c,h=i*d;return{previous:{x:o.x-u*(s.x-n.x),y:o.y-u*(s.y-n.y)},next:{x:o.x+h*(s.x-n.x),y:o.y+h*(s.y-n.y)}}}function Pft(e,t,r){let i=e.length,n,o,s,a,l,c=Sv(e,0);for(let d=0;d<i-1;++d)if(l=c,c=Sv(e,d+1),!(!l||!c)){if(Tv(t[d],0,Dft)){r[d]=r[d+1]=0;continue}n=r[d]/t[d],o=r[d+1]/t[d],a=Math.pow(n,2)+Math.pow(o,2),!(a<=9)&&(s=3/Math.sqrt(a),r[d]=n*s*t[d],r[d+1]=o*s*t[d])}}function Nft(e,t,r="x"){let i=SU(r),n=e.length,o,s,a,l=Sv(e,0);for(let c=0;c<n;++c){if(s=a,a=l,l=Sv(e,c+1),!a)continue;let d=a[r],u=a[i];s&&(o=(d-s[r])/3,a[`cp1${r}`]=d-o,a[`cp1${i}`]=u-o*t[c]),l&&(o=(l[r]-d)/3,a[`cp2${r}`]=d+o,a[`cp2${i}`]=u+o*t[c])}}function Lft(e,t="x"){let r=SU(t),i=e.length,n=Array(i).fill(0),o=Array(i),s,a,l,c=Sv(e,0);for(s=0;s<i;++s)if(a=l,l=c,c=Sv(e,s+1),!!l){if(c){let d=c[t]-l[t];n[s]=d!==0?(c[r]-l[r])/d:0}o[s]=a?c?Sd(n[s-1])!==Sd(n[s])?0:(n[s-1]+n[s])/2:n[s-1]:n[s]}Pft(e,n,o),Nft(e,o,t)}function n5(e,t,r){return Math.max(Math.min(e,r),t)}function Fft(e,t){let r,i,n,o,s,a=Pu(e[0],t);for(r=0,i=e.length;r<i;++r)s=o,o=a,a=r<i-1&&Pu(e[r+1],t),o&&(n=e[r],s&&(n.cp1x=n5(n.cp1x,t.left,t.right),n.cp1y=n5(n.cp1y,t.top,t.bottom)),a&&(n.cp2x=n5(n.cp2x,t.left,t.right),n.cp2y=n5(n.cp2y,t.top,t.bottom)))}function EU(e,t,r,i,n){let o,s,a,l;if(t.spanGaps&&(e=e.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")Lft(e,n);else{let c=i?e[e.length-1]:e[0];for(o=0,s=e.length;o<s;++o)a=e[o],l=Oft(c,a,e[Math.min(o+1,s-(i?0:1))%s],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}t.capBezierPoints&&Fft(e,r)}function v5(){return typeof window<"u"&&typeof document<"u"}function y5(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function c5(e,t,r){let i;return typeof e=="string"?(i=parseInt(e,10),e.indexOf("%")!==-1&&(i=i/100*t.parentNode[r])):i=e,i}var _5=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function Hft(e,t){return _5(e).getPropertyValue(t)}var Bft=["top","right","bottom","left"];function Ug(e,t,r){let i={};r=r?"-"+r:"";for(let n=0;n<4;n++){let o=Bft[n];i[o]=parseFloat(e[t+"-"+o+r])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}var jft=(e,t,r)=>(e>0||t>0)&&(!r||!r.shadowRoot);function Vft(e,t){let r=e.touches,i=r&&r.length?r[0]:e,{offsetX:n,offsetY:o}=i,s=!1,a,l;if(jft(n,o,e.target))a=n,l=o;else{let c=t.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,s=!0}return{x:a,y:l,box:s}}function km(e,t){if("native"in e)return e;let{canvas:r,currentDevicePixelRatio:i}=t,n=_5(r),o=n.boxSizing==="border-box",s=Ug(n,"padding"),a=Ug(n,"border","width"),{x:l,y:c,box:d}=Vft(e,r),u=s.left+(d&&a.left),h=s.top+(d&&a.top),{width:f,height:m}=t;return o&&(f-=s.width+a.width,m-=s.height+a.height),{x:Math.round((l-u)/f*r.width/i),y:Math.round((c-h)/m*r.height/i)}}function zft(e,t,r){let i,n;if(t===void 0||r===void 0){let o=e&&y5(e);if(!o)t=e.clientWidth,r=e.clientHeight;else{let s=o.getBoundingClientRect(),a=_5(o),l=Ug(a,"border","width"),c=Ug(a,"padding");t=s.width-c.width-l.width,r=s.height-c.height-l.height,i=c5(a.maxWidth,o,"clientWidth"),n=c5(a.maxHeight,o,"clientHeight")}}return{width:t,height:r,maxWidth:i||a5,maxHeight:n||a5}}var o5=e=>Math.round(e*10)/10;function RU(e,t,r,i){let n=_5(e),o=Ug(n,"margin"),s=c5(n.maxWidth,e,"clientWidth")||a5,a=c5(n.maxHeight,e,"clientHeight")||a5,l=zft(e,t,r),{width:c,height:d}=l;if(n.boxSizing==="content-box"){let h=Ug(n,"border","width"),f=Ug(n,"padding");c-=f.width+h.width,d-=f.height+h.height}return c=Math.max(0,c-o.width),d=Math.max(0,i?c/i:d-o.height),c=o5(Math.min(c,s,l.maxWidth)),d=o5(Math.min(d,a,l.maxHeight)),c&&!d&&(d=o5(c/2)),(t!==void 0||r!==void 0)&&i&&l.height&&d>l.height&&(d=l.height,c=o5(Math.floor(d*i))),{width:c,height:d}}function hP(e,t,r){let i=t||1,n=Math.floor(e.height*i),o=Math.floor(e.width*i);e.height=Math.floor(e.height),e.width=Math.floor(e.width);let s=e.canvas;return s.style&&(r||!s.style.height&&!s.style.width)&&(s.style.height=`${e.height}px`,s.style.width=`${e.width}px`),e.currentDevicePixelRatio!==i||s.height!==n||s.width!==o?(e.currentDevicePixelRatio=i,s.height=n,s.width=o,e.ctx.setTransform(i,0,0,i,0,0),!0):!1}var TU=function(){let e=!1;try{let t={get passive(){return e=!0,!1}};v5()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function fP(e,t){let r=Hft(e,t),i=r&&r.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Rm(e,t,r,i){return{x:e.x+r*(t.x-e.x),y:e.y+r*(t.y-e.y)}}function MU(e,t,r,i){return{x:e.x+r*(t.x-e.x),y:i==="middle"?r<.5?e.y:t.y:i==="after"?r<1?e.y:t.y:r>0?t.y:e.y}}function AU(e,t,r,i){let n={x:e.cp2x,y:e.cp2y},o={x:t.cp1x,y:t.cp1y},s=Rm(e,n,r),a=Rm(n,o,r),l=Rm(o,t,r),c=Rm(s,a,r),d=Rm(a,l,r);return Rm(c,d,r)}var Uft=function(e,t){return{x(r){return e+e+t-r},setWidth(r){t=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,i){return r-i},leftForLtr(r,i){return r-i}}},Wft=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function qg(e,t,r){return e?Uft(t,r):Wft()}function mP(e,t){let r,i;(t==="ltr"||t==="rtl")&&(r=e.canvas.style,i=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",t,"important"),e.prevTextDirection=i)}function pP(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function IU(e){return e==="angle"?{between:Mv,compare:aft,normalize:hl}:{between:Lu,compare:(t,r)=>t-r,normalize:t=>t}}function tU({start:e,end:t,count:r,loop:i,style:n}){return{start:e%r,end:t%r,loop:i&&(t-e+1)%r===0,style:n}}function Yft(e,t,r){let{property:i,start:n,end:o}=r,{between:s,normalize:a}=IU(i),l=t.length,{start:c,end:d,loop:u}=e,h,f;if(u){for(c+=l,d+=l,h=0,f=l;h<f&&s(a(t[c%l][i]),n,o);++h)c--,d--;c%=l,d%=l}return d<c&&(d+=l),{start:c,end:d,loop:u,style:e.style}}function gP(e,t,r){if(!r)return[e];let{property:i,start:n,end:o}=r,s=t.length,{compare:a,between:l,normalize:c}=IU(i),{start:d,end:u,loop:h,style:f}=Yft(e,t,r),m=[],g=!1,p=null,b,_,E,O=()=>l(n,E,b)&&a(n,E)!==0,V=()=>a(o,b)===0||l(o,E,b),H=()=>g||O(),F=()=>!g||V();for(let L=d,$=d;L<=u;++L)_=t[L%s],!_.skip&&(b=c(_[i]),b!==E&&(g=l(b,n,o),p===null&&H()&&(p=a(b,n)===0?L:$),p!==null&&F()&&(m.push(tU({start:p,end:L,loop:h,count:s,style:f})),p=null),$=L,E=b));return p!==null&&m.push(tU({start:p,end:u,loop:h,count:s,style:f})),m}function bP(e,t){let r=[],i=e.segments;for(let n=0;n<i.length;n++){let o=gP(i[n],e.points,t);o.length&&r.push(...o)}return r}function qft(e,t,r,i){let n=0,o=t-1;if(r&&!i)for(;n<t&&!e[n].skip;)n++;for(;n<t&&e[n].skip;)n++;for(n%=t,r&&(o+=n);o>n&&e[o%t].skip;)o--;return o%=t,{start:n,end:o}}function $ft(e,t,r,i){let n=e.length,o=[],s=t,a=e[t],l;for(l=t+1;l<=r;++l){let c=e[l%n];c.skip||c.stop?a.skip||(i=!1,o.push({start:t%n,end:(l-1)%n,loop:i}),t=s=c.stop?l:null):(s=l,a.skip&&(t=l)),a=c}return s!==null&&o.push({start:t%n,end:s%n,loop:i}),o}function kU(e,t){let r=e.points,i=e.options.spanGaps,n=r.length;if(!n)return[];let o=!!e._loop,{start:s,end:a}=qft(r,n,o,i);if(i===!0)return eU(e,[{start:s,end:a,loop:o}],r,t);let l=a<s?a+n:a,c=!!e._fullLoop&&s===0&&a===n-1;return eU(e,$ft(r,s,l,c),r,t)}function eU(e,t,r,i){return!i||!i.setContext||!r?t:Gft(e,t,r,i)}function Gft(e,t,r,i){let n=e._chart.getContext(),o=iU(e.options),{_datasetIndex:s,options:{spanGaps:a}}=e,l=r.length,c=[],d=o,u=t[0].start,h=u;function f(m,g,p,b){let _=a?-1:1;if(m!==g){for(m+=l;r[m%l].skip;)m-=_;for(;r[g%l].skip;)g+=_;m%l!==g%l&&(c.push({start:m%l,end:g%l,loop:p,style:b}),d=b,u=g%l)}}for(let m of t){u=a?u:m.start;let g=r[u%l],p;for(h=u+1;h<=m.end;h++){let b=r[h%l];p=iU(i.setContext(of(n,{type:"segment",p0:g,p1:b,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:s}))),Kft(p,d)&&f(u,h-1,m.loop,d),g=b,d=p}u<h-1&&f(u,h-1,m.loop,d)}return c}function iU(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function Kft(e,t){if(!t)return!1;let r=[],i=function(n,o){return rP(o)?(r.includes(o)||r.push(o),r.indexOf(o)):o};return JSON.stringify(e,i)!==JSON.stringify(t,i)}var TP=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,r,i,n){let o=r.listeners[n],s=r.duration;o.forEach(a=>a({chart:t,initial:r.initial,numSteps:s,currentStep:Math.min(i-r.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=J4.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let r=0;this._charts.forEach((i,n)=>{if(!i.running||!i.items.length)return;let o=i.items,s=o.length-1,a=!1,l;for(;s>=0;--s)l=o[s],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(t),a=!0):(o[s]=o[o.length-1],o.pop());a&&(n.draw(),this._notify(n,i,t,"progress")),o.length||(i.running=!1,this._notify(n,i,t,"complete"),i.initial=!1),r+=o.length}),this._lastDate=t,r===0&&(this._running=!1)}_getAnims(t){let r=this._charts,i=r.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(t,i)),i}listen(t,r,i){this._getAnims(t).listeners[r].push(i)}add(t,r){!r||!r.length||this._getAnims(t).items.push(...r)}has(t){return this._getAnims(t).items.length>0}start(t){let r=this._charts.get(t);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((i,n)=>Math.max(i,n._duration),0),this._refresh())}running(t){if(!this._running)return!1;let r=this._charts.get(t);return!(!r||!r.running||!r.items.length)}stop(t){let r=this._charts.get(t);if(!r||!r.items.length)return;let i=r.items,n=i.length-1;for(;n>=0;--n)i[n].cancel();r.items=[],this._notify(t,r,Date.now(),"complete")}remove(t){return this._charts.delete(t)}},sf=new TP,DU="transparent",Xft={boolean(e,t,r){return r>.5?t:e},color(e,t,r){let i=nP(e||DU),n=i.valid&&nP(t||DU);return n&&n.valid?n.mix(i,r).hexString():t},number(e,t,r){return e+(t-e)*r}},MP=class{constructor(t,r,i,n){let o=r[i];n=kv([t.to,n,o,t.from]);let s=kv([t.from,o,n]);this._active=!0,this._fn=t.fn||Xft[t.type||typeof s],this._easing=Cv[t.easing]||Cv.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=r,this._prop=i,this._from=s,this._to=n,this._promises=void 0}active(){return this._active}update(t,r,i){if(this._active){this._notify(!1);let n=this._target[this._prop],o=i-this._start,s=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(s,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=kv([t.to,r,n,t.from]),this._from=kv([t.from,n,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){let r=t-this._start,i=this._duration,n=this._prop,o=this._from,s=this._loop,a=this._to,l;if(this._active=o!==a&&(s||r<i),!this._active){this._target[n]=a,this._notify(!0);return}if(r<0){this._target[n]=o;return}l=r/i%2,l=s&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[n]=this._fn(o,a,l)}wait(){let t=this._promises||(this._promises=[]);return new Promise((r,i)=>{t.push({res:r,rej:i})})}_notify(t){let r=t?"res":"rej",i=this._promises||[];for(let n=0;n<i.length;n++)i[n][r]()}},I5=class{constructor(t,r){this._chart=t,this._properties=new Map,this.configure(r)}configure(t){if(!Vr(t))return;let r=Object.keys(uo.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(n=>{let o=t[n];if(!Vr(o))return;let s={};for(let a of r)s[a]=o[a];(eo(o.properties)&&o.properties||[n]).forEach(a=>{(a===n||!i.has(a))&&i.set(a,s)})})}_animateOptions(t,r){let i=r.options,n=Qft(t,i);if(!n)return[];let o=this._createAnimations(n,i);return i.$shared&&Zft(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,r){let i=this._properties,n=[],o=t.$animations||(t.$animations={}),s=Object.keys(r),a=Date.now(),l;for(l=s.length-1;l>=0;--l){let c=s[l];if(c.charAt(0)==="$")continue;if(c==="options"){n.push(...this._animateOptions(t,r));continue}let d=r[c],u=o[c],h=i.get(c);if(u)if(h&&u.active()){u.update(h,d,a);continue}else u.cancel();if(!h||!h.duration){t[c]=d;continue}o[c]=u=new MP(h,t,c,d),n.push(u)}return n}update(t,r){if(this._properties.size===0){Object.assign(t,r);return}let i=this._createAnimations(t,r);if(i.length)return sf.add(this._chart,i),!0}};function Zft(e,t){let r=[],i=Object.keys(t);for(let n=0;n<i.length;n++){let o=e[i[n]];o&&o.active()&&r.push(o.wait())}return Promise.all(r)}function Qft(e,t){if(!t)return;let r=e.options;if(!r){e.options=t;return}return r.$shared&&(e.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function OU(e,t){let r=e&&e.options||{},i=r.reverse,n=r.min===void 0?t:0,o=r.max===void 0?t:0;return{start:i?o:n,end:i?n:o}}function Jft(e,t,r){if(r===!1)return!1;let i=OU(e,r),n=OU(t,r);return{top:n.end,right:i.end,bottom:n.start,left:i.start}}function tmt(e){let t,r,i,n;return Vr(e)?(t=e.top,r=e.right,i=e.bottom,n=e.left):t=r=i=n=e,{top:t,right:r,bottom:i,left:n,disabled:e===!1}}function OW(e,t){let r=[],i=e._getSortedDatasetMetas(t),n,o;for(n=0,o=i.length;n<o;++n)r.push(i[n].index);return r}function PU(e,t,r,i={}){let n=e.keys,o=i.mode==="single",s,a,l,c;if(t!==null){for(s=0,a=n.length;s<a;++s){if(l=+n[s],l===r){if(i.all)continue;break}c=e.values[l],To(c)&&(o||t===0||Sd(t)===Sd(c))&&(t+=c)}return t}}function emt(e,t){let{iScale:r,vScale:i}=t,n=r.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",s=Object.keys(e),a=new Array(s.length),l,c,d;for(l=0,c=s.length;l<c;++l)d=s[l],a[l]={[n]:d,[o]:e[d]};return a}function NU(e,t){let r=e&&e.options.stacked;return r||r===void 0&&t.stack!==void 0}function imt(e,t,r){return`${e.id}.${t.id}.${r.stack||r.type}`}function rmt(e){let{min:t,max:r,minDefined:i,maxDefined:n}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:n?r:Number.POSITIVE_INFINITY}}function nmt(e,t,r){let i=e[t]||(e[t]={});return i[r]||(i[r]={})}function LU(e,t,r,i){for(let n of t.getMatchingVisibleMetas(i).reverse()){let o=e[n.index];if(r&&o>0||!r&&o<0)return n.index}return null}function FU(e,t){let{chart:r,_cachedMeta:i}=e,n=r._stacks||(r._stacks={}),{iScale:o,vScale:s,index:a}=i,l=o.axis,c=s.axis,d=imt(o,s,i),u=t.length,h;for(let f=0;f<u;++f){let m=t[f],{[l]:g,[c]:p}=m,b=m._stacks||(m._stacks={});h=b[c]=nmt(n,d,g),h[a]=p,h._top=LU(h,s,!0,i.type),h._bottom=LU(h,s,!1,i.type);let _=h._visualValues||(h._visualValues={});_[a]=p}}function vP(e,t){let r=e.scales;return Object.keys(r).filter(i=>r[i].axis===t).shift()}function omt(e,t){return of(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function smt(e,t,r){return of(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:r,index:t,mode:"default",type:"data"})}function Qw(e,t){let r=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(let n of t){let o=n._stacks;if(!o||o[i]===void 0||o[i][r]===void 0)return;delete o[i][r],o[i]._visualValues!==void 0&&o[i]._visualValues[r]!==void 0&&delete o[i]._visualValues[r]}}}var yP=e=>e==="reset"||e==="none",HU=(e,t)=>t?e:Object.assign({},e),amt=(e,t,r)=>e&&!t.hidden&&t._stacked&&{keys:OW(r,!0),values:null},Om=(()=>{class e{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(r,i){this.chart=r,this._ctx=r.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let r=this._cachedMeta;this.configure(),this.linkScales(),r._stacked=NU(r.vScale,r),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(r){this.index!==r&&Qw(this._cachedMeta),this.index=r}linkScales(){let r=this.chart,i=this._cachedMeta,n=this.getDataset(),o=(h,f,m,g)=>h==="x"?f:h==="r"?g:m,s=i.xAxisID=br(n.xAxisID,vP(r,"x")),a=i.yAxisID=br(n.yAxisID,vP(r,"y")),l=i.rAxisID=br(n.rAxisID,vP(r,"r")),c=i.indexAxis,d=i.iAxisID=o(c,s,a,l),u=i.vAxisID=o(c,a,s,l);i.xScale=this.getScaleForId(s),i.yScale=this.getScaleForId(a),i.rScale=this.getScaleForId(l),i.iScale=this.getScaleForId(d),i.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(r){return this.chart.scales[r]}_getOtherScale(r){let i=this._cachedMeta;return r===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){let r=this._cachedMeta;this._data&&Z4(this._data,this),r._stacked&&Qw(r)}_dataCheck(){let r=this.getDataset(),i=r.data||(r.data=[]),n=this._data;if(Vr(i)){let o=this._cachedMeta;this._data=emt(i,o)}else if(n!==i){if(n){Z4(n,this);let o=this._cachedMeta;Qw(o),o._parsed=[]}i&&Object.isExtensible(i)&&fU(i,this),this._syncList=[],this._data=i}}addElements(){let r=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(r.dataset=new this.datasetElementType)}buildOrUpdateElements(r){let i=this._cachedMeta,n=this.getDataset(),o=!1;this._dataCheck();let s=i._stacked;i._stacked=NU(i.vScale,i),i.stack!==n.stack&&(o=!0,Qw(i),i.stack=n.stack),this._resyncElements(r),(o||s!==i._stacked)&&FU(this,i._parsed)}configure(){let r=this.chart.config,i=r.datasetScopeKeys(this._type),n=r.getOptionScopes(this.getDataset(),i,!0);this.options=r.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(r,i){let{_cachedMeta:n,_data:o}=this,{iScale:s,_stacked:a}=n,l=s.axis,c=r===0&&i===o.length?!0:n._sorted,d=r>0&&n._parsed[r-1],u,h,f;if(this._parsing===!1)n._parsed=o,n._sorted=!0,f=o;else{eo(o[r])?f=this.parseArrayData(n,o,r,i):Vr(o[r])?f=this.parseObjectData(n,o,r,i):f=this.parsePrimitiveData(n,o,r,i);let m=()=>h[l]===null||d&&h[l]<d[l];for(u=0;u<i;++u)n._parsed[u+r]=h=f[u],c&&(m()&&(c=!1),d=h);n._sorted=c}a&&FU(this,f)}parsePrimitiveData(r,i,n,o){let{iScale:s,vScale:a}=r,l=s.axis,c=a.axis,d=s.getLabels(),u=s===a,h=new Array(o),f,m,g;for(f=0,m=o;f<m;++f)g=f+n,h[f]={[l]:u||s.parse(d[g],g),[c]:a.parse(i[g],g)};return h}parseArrayData(r,i,n,o){let{xScale:s,yScale:a}=r,l=new Array(o),c,d,u,h;for(c=0,d=o;c<d;++c)u=c+n,h=i[u],l[c]={x:s.parse(h[0],u),y:a.parse(h[1],u)};return l}parseObjectData(r,i,n,o){let{xScale:s,yScale:a}=r,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=new Array(o),u,h,f,m;for(u=0,h=o;u<h;++u)f=u+n,m=i[f],d[u]={x:s.parse(nf(m,l),f),y:a.parse(nf(m,c),f)};return d}getParsed(r){return this._cachedMeta._parsed[r]}getDataElement(r){return this._cachedMeta.data[r]}applyStack(r,i,n){let o=this.chart,s=this._cachedMeta,a=i[r.axis],l={keys:OW(o,!0),values:i._stacks[r.axis]._visualValues};return PU(l,a,s.index,{mode:n})}updateRangeFromParsed(r,i,n,o){let s=n[i.axis],a=s===null?NaN:s,l=o&&n._stacks[i.axis];o&&l&&(o.values=l,a=PU(o,s,this._cachedMeta.index)),r.min=Math.min(r.min,a),r.max=Math.max(r.max,a)}getMinMax(r,i){let n=this._cachedMeta,o=n._parsed,s=n._sorted&&r===n.iScale,a=o.length,l=this._getOtherScale(r),c=amt(i,n,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=rmt(l),f,m;function g(){m=o[f];let p=m[l.axis];return!To(m[r.axis])||u>p||h<p}for(f=0;f<a&&!(!g()&&(this.updateRangeFromParsed(d,r,m,c),s));++f);if(s){for(f=a-1;f>=0;--f)if(!g()){this.updateRangeFromParsed(d,r,m,c);break}}return d}getAllParsedValues(r){let i=this._cachedMeta._parsed,n=[],o,s,a;for(o=0,s=i.length;o<s;++o)a=i[o][r.axis],To(a)&&n.push(a);return n}getMaxOverflow(){return!1}getLabelAndValue(r){let i=this._cachedMeta,n=i.iScale,o=i.vScale,s=this.getParsed(r);return{label:n?""+n.getLabelForValue(s[n.axis]):"",value:o?""+o.getLabelForValue(s[o.axis]):""}}_update(r){let i=this._cachedMeta;this.update(r||"default"),i._clip=tmt(br(this.options.clip,Jft(i.xScale,i.yScale,this.getMaxOverflow())))}update(r){}draw(){let r=this._ctx,i=this.chart,n=this._cachedMeta,o=n.data||[],s=i.chartArea,a=[],l=this._drawStart||0,c=this._drawCount||o.length-l,d=this.options.drawActiveElementsOnTop,u;for(n.dataset&&n.dataset.draw(r,s,l,c),u=l;u<l+c;++u){let h=o[u];h.hidden||(h.active&&d?a.push(h):h.draw(r,s))}for(u=0;u<a.length;++u)a[u].draw(r,s)}getStyle(r,i){let n=i?"active":"default";return r===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(r||0,n)}getContext(r,i,n){let o=this.getDataset(),s;if(r>=0&&r<this._cachedMeta.data.length){let a=this._cachedMeta.data[r];s=a.$context||(a.$context=smt(this.getContext(),r,a)),s.parsed=this.getParsed(r),s.raw=o.data[r],s.index=s.dataIndex=r}else s=this.$context||(this.$context=omt(this.chart.getContext(),this.index)),s.dataset=o,s.index=s.datasetIndex=this.index;return s.active=!!i,s.mode=n,s}resolveDatasetElementOptions(r){return this._resolveElementOptions(this.datasetElementType.id,r)}resolveDataElementOptions(r,i){return this._resolveElementOptions(this.dataElementType.id,i,r)}_resolveElementOptions(r,i="default",n){let o=i==="active",s=this._cachedDataOpts,a=r+"-"+i,l=s[a],c=this.enableOptionSharing&&Rv(n);if(l)return HU(l,c);let d=this.chart.config,u=d.datasetElementScopeKeys(this._type,r),h=o?[`${r}Hover`,"hover",r,""]:[r,""],f=d.getOptionScopes(this.getDataset(),u),m=Object.keys(uo.elements[r]),g=()=>this.getContext(n,o,i),p=d.resolveNamedOptions(f,m,g,h);return p.$shared&&(p.$shared=c,s[a]=Object.freeze(HU(p,c))),p}_resolveAnimations(r,i,n){let o=this.chart,s=this._cachedDataOpts,a=`animation-${i}`,l=s[a];if(l)return l;let c;if(o.options.animation!==!1){let u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,i),f=u.getOptionScopes(this.getDataset(),h);c=u.createResolver(f,this.getContext(r,n,i))}let d=new I5(o,c&&c.animations);return c&&c._cacheable&&(s[a]=Object.freeze(d)),d}getSharedOptions(r){if(r.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},r))}includeOptions(r,i){return!i||yP(r)||this.chart._animationsDisabled}_getSharedOptions(r,i){let n=this.resolveDataElementOptions(r,i),o=this._sharedOptions,s=this.getSharedOptions(n),a=this.includeOptions(i,s)||s!==o;return this.updateSharedOptions(s,i,n),{sharedOptions:s,includeOptions:a}}updateElement(r,i,n,o){yP(o)?Object.assign(r,n):this._resolveAnimations(i,o).update(r,n)}updateSharedOptions(r,i,n){r&&!yP(i)&&this._resolveAnimations(void 0,i).update(r,n)}_setStyle(r,i,n,o){r.active=o;let s=this.getStyle(i,o);this._resolveAnimations(i,n,o).update(r,{options:!o&&this.getSharedOptions(s)||s})}removeHoverStyle(r,i,n){this._setStyle(r,n,"active",!1)}setHoverStyle(r,i,n){this._setStyle(r,n,"active",!0)}_removeDatasetHoverStyle(){let r=this._cachedMeta.dataset;r&&this._setStyle(r,void 0,"active",!1)}_setDatasetHoverStyle(){let r=this._cachedMeta.dataset;r&&this._setStyle(r,void 0,"active",!0)}_resyncElements(r){let i=this._data,n=this._cachedMeta.data;for(let[l,c,d]of this._syncList)this[l](c,d);this._syncList=[];let o=n.length,s=i.length,a=Math.min(s,o);a&&this.parse(0,a),s>o?this._insertElements(o,s-o,r):s<o&&this._removeElements(s,o-s)}_insertElements(r,i,n=!0){let o=this._cachedMeta,s=o.data,a=r+i,l,c=d=>{for(d.length+=i,l=d.length-1;l>=a;l--)d[l]=d[l-i]};for(c(s),l=r;l<a;++l)s[l]=new this.dataElementType;this._parsing&&c(o._parsed),this.parse(r,i),n&&this.updateElements(s,r,i,"reset")}updateElements(r,i,n,o){}_removeElements(r,i){let n=this._cachedMeta;if(this._parsing){let o=n._parsed.splice(r,i);n._stacked&&Qw(n,o)}n.data.splice(r,i)}_sync(r){if(this._parsing)this._syncList.push(r);else{let[i,n,o]=r;this[i](n,o)}this.chart._dataChanges.push([this.index,...r])}_onDataPush(){let r=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-r,r])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(r,i){i&&this._sync(["_removeElements",r,i]);let n=arguments.length-2;n&&this._sync(["_insertElements",r,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return e})();function lmt(e,t){if(!e._cache.$bar){let r=e.getMatchingVisibleMetas(t),i=[];for(let n=0,o=r.length;n<o;n++)i=i.concat(r[n].controller.getAllParsedValues(e));e._cache.$bar=Q4(i.sort((n,o)=>n-o))}return e._cache.$bar}function cmt(e){let t=e.iScale,r=lmt(t,e.type),i=t._length,n,o,s,a,l=()=>{s===32767||s===-32768||(Rv(a)&&(i=Math.min(i,Math.abs(s-a)||i)),a=s)};for(n=0,o=r.length;n<o;++n)s=t.getPixelForValue(r[n]),l();for(a=void 0,n=0,o=t.ticks.length;n<o;++n)s=t.getPixelForTick(n),l();return i}function dmt(e,t,r,i){let n=r.barThickness,o,s;return Qr(n)?(o=t.min*r.categoryPercentage,s=r.barPercentage):(o=n*i,s=1),{chunk:o/i,ratio:s,start:t.pixels[e]-o/2}}function umt(e,t,r,i){let n=t.pixels,o=n[e],s=e>0?n[e-1]:null,a=e<n.length-1?n[e+1]:null,l=r.categoryPercentage;s===null&&(s=o-(a===null?t.end-t.start:a-o)),a===null&&(a=o+o-s);let c=o-(o-Math.min(s,a))/2*l;return{chunk:Math.abs(a-s)/2*l/i,ratio:r.barPercentage,start:c}}function hmt(e,t,r,i){let n=r.parse(e[0],i),o=r.parse(e[1],i),s=Math.min(n,o),a=Math.max(n,o),l=s,c=a;Math.abs(s)>Math.abs(a)&&(l=a,c=s),t[r.axis]=c,t._custom={barStart:l,barEnd:c,start:n,end:o,min:s,max:a}}function PW(e,t,r,i){return eo(e)?hmt(e,t,r,i):t[r.axis]=r.parse(e,i),t}function BU(e,t,r,i){let n=e.iScale,o=e.vScale,s=n.getLabels(),a=n===o,l=[],c,d,u,h;for(c=r,d=r+i;c<d;++c)h=t[c],u={},u[n.axis]=a||n.parse(s[c],c),l.push(PW(h,u,o,c));return l}function _P(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function fmt(e,t,r){return e!==0?Sd(e):(t.isHorizontal()?1:-1)*(t.min>=r?1:-1)}function mmt(e){let t,r,i,n,o;return e.horizontal?(t=e.base>e.x,r="left",i="right"):(t=e.base<e.y,r="bottom",i="top"),t?(n="end",o="start"):(n="start",o="end"),{start:r,end:i,reverse:t,top:n,bottom:o}}function pmt(e,t,r,i){let n=t.borderSkipped,o={};if(!n){e.borderSkipped=o;return}if(n===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:s,end:a,reverse:l,top:c,bottom:d}=mmt(e);n==="middle"&&r&&(e.enableBorderRadius=!0,(r._top||0)===i?n=c:(r._bottom||0)===i?n=d:(o[jU(d,s,a,l)]=!0,n=c)),o[jU(n,s,a,l)]=!0,e.borderSkipped=o}function jU(e,t,r,i){return i?(e=gmt(e,t,r),e=VU(e,r,t)):e=VU(e,t,r),e}function gmt(e,t,r){return e===t?r:e===r?t:e}function VU(e,t,r){return e==="start"?t:e==="end"?r:e}function bmt(e,{inflateAmount:t},r){e.inflateAmount=t==="auto"?r===1?.33:0:t}var vmt=(()=>{class e extends Om{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(r,i,n,o){return BU(r,i,n,o)}parseArrayData(r,i,n,o){return BU(r,i,n,o)}parseObjectData(r,i,n,o){let{iScale:s,vScale:a}=r,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=s.axis==="x"?l:c,u=a.axis==="x"?l:c,h=[],f,m,g,p;for(f=n,m=n+o;f<m;++f)p=i[f],g={},g[s.axis]=s.parse(nf(p,d),f),h.push(PW(nf(p,u),g,a,f));return h}updateRangeFromParsed(r,i,n,o){super.updateRangeFromParsed(r,i,n,o);let s=n._custom;s&&i===this._cachedMeta.vScale&&(r.min=Math.min(r.min,s.min),r.max=Math.max(r.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(r){let i=this._cachedMeta,{iScale:n,vScale:o}=i,s=this.getParsed(r),a=s._custom,l=_P(a)?"["+a.start+", "+a.end+"]":""+o.getLabelForValue(s[o.axis]);return{label:""+n.getLabelForValue(s[n.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();let r=this._cachedMeta;r.stack=this.getDataset().stack}update(r){let i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,r)}updateElements(r,i,n,o){let s=o==="reset",{index:a,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),d=l.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(i,o);for(let m=i;m<i+n;m++){let g=this.getParsed(m),p=s||Qr(g[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(m),b=this._calculateBarIndexPixels(m,u),_=(g._stacks||{})[l.axis],E={horizontal:d,base:p.base,enableBorderRadius:!_||_P(g._custom)||a===_._top||a===_._bottom,x:d?p.head:b.center,y:d?b.center:p.head,height:d?b.size:Math.abs(p.size),width:d?Math.abs(p.size):b.size};f&&(E.options=h||this.resolveDataElementOptions(m,r[m].active?"active":o));let O=E.options||r[m].options;pmt(E,O,_,a),bmt(E,O,u.ratio),this.updateElement(r[m],m,E,o)}}_getStacks(r,i){let{iScale:n}=this._cachedMeta,o=n.getMatchingVisibleMetas(this._type).filter(c=>c.controller.options.grouped),s=n.options.stacked,a=[],l=c=>{let d=c.controller.getParsed(i),u=d&&d[c.vScale.axis];if(Qr(u)||isNaN(u))return!0};for(let c of o)if(!(i!==void 0&&l(c))&&((s===!1||a.indexOf(c.stack)===-1||s===void 0&&c.stack===void 0)&&a.push(c.stack),c.index===r))break;return a.length||a.push(void 0),a}_getStackCount(r){return this._getStacks(void 0,r).length}_getStackIndex(r,i,n){let o=this._getStacks(r,n),s=i!==void 0?o.indexOf(i):-1;return s===-1?o.length-1:s}_getRuler(){let r=this.options,i=this._cachedMeta,n=i.iScale,o=[],s,a;for(s=0,a=i.data.length;s<a;++s)o.push(n.getPixelForValue(this.getParsed(s)[n.axis],s));let l=r.barThickness;return{min:l||cmt(i),pixels:o,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:r.grouped,ratio:l?1:r.categoryPercentage*r.barPercentage}}_calculateBarValuePixels(r){let{_cachedMeta:{vScale:i,_stacked:n,index:o},options:{base:s,minBarLength:a}}=this,l=s||0,c=this.getParsed(r),d=c._custom,u=_P(d),h=c[i.axis],f=0,m=n?this.applyStack(i,c,n):h,g,p;m!==h&&(f=m-h,m=h),u&&(h=d.barStart,m=d.barEnd-d.barStart,h!==0&&Sd(h)!==Sd(d.barEnd)&&(f=0),f+=h);let b=!Qr(s)&&!u?s:f,_=i.getPixelForValue(b);if(this.chart.getDataVisibility(r)?g=i.getPixelForValue(f+m):g=_,p=g-_,Math.abs(p)<a){p=fmt(p,i,l)*a,h===l&&(_-=p/2);let E=i.getPixelForDecimal(0),O=i.getPixelForDecimal(1),V=Math.min(E,O),H=Math.max(E,O);_=Math.max(Math.min(_,H),V),g=_+p,n&&!u&&(c._stacks[i.axis]._visualValues[o]=i.getValueForPixel(g)-i.getValueForPixel(_))}if(_===i.getPixelForValue(l)){let E=Sd(p)*i.getLineWidthForValue(l)/2;_+=E,p-=E}return{size:p,base:_,head:g,center:g+p/2}}_calculateBarIndexPixels(r,i){let n=i.scale,o=this.options,s=o.skipNull,a=br(o.maxBarThickness,1/0),l,c;if(i.grouped){let d=s?this._getStackCount(r):i.stackCount,u=o.barThickness==="flex"?umt(r,i,o,d):dmt(r,i,o,d),h=this._getStackIndex(this.index,this._cachedMeta.stack,s?r:void 0);l=u.start+u.chunk*h+u.chunk/2,c=Math.min(a,u.chunk*u.ratio)}else l=n.getPixelForValue(this.getParsed(r)[n.axis],r),c=Math.min(a,i.min*i.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){let r=this._cachedMeta,i=r.vScale,n=r.data,o=n.length,s=0;for(;s<o;++s)this.getParsed(s)[i.axis]!==null&&!n[s].hidden&&n[s].draw(this._ctx)}}return e})(),ymt=(()=>{class e extends Om{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(r,i,n,o){let s=super.parsePrimitiveData(r,i,n,o);for(let a=0;a<s.length;a++)s[a]._custom=this.resolveDataElementOptions(a+n).radius;return s}parseArrayData(r,i,n,o){let s=super.parseArrayData(r,i,n,o);for(let a=0;a<s.length;a++){let l=i[n+a];s[a]._custom=br(l[2],this.resolveDataElementOptions(a+n).radius)}return s}parseObjectData(r,i,n,o){let s=super.parseObjectData(r,i,n,o);for(let a=0;a<s.length;a++){let l=i[n+a];s[a]._custom=br(l&&l.r&&+l.r,this.resolveDataElementOptions(a+n).radius)}return s}getMaxOverflow(){let r=this._cachedMeta.data,i=0;for(let n=r.length-1;n>=0;--n)i=Math.max(i,r[n].size(this.resolveDataElementOptions(n))/2);return i>0&&i}getLabelAndValue(r){let i=this._cachedMeta,n=this.chart.data.labels||[],{xScale:o,yScale:s}=i,a=this.getParsed(r),l=o.getLabelForValue(a.x),c=s.getLabelForValue(a.y),d=a._custom;return{label:n[r]||"",value:"("+l+", "+c+(d?", "+d:"")+")"}}update(r){let i=this._cachedMeta.data;this.updateElements(i,0,i.length,r)}updateElements(r,i,n,o){let s=o==="reset",{iScale:a,vScale:l}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(i,o),u=a.axis,h=l.axis;for(let f=i;f<i+n;f++){let m=r[f],g=!s&&this.getParsed(f),p={},b=p[u]=s?a.getPixelForDecimal(.5):a.getPixelForValue(g[u]),_=p[h]=s?l.getBasePixel():l.getPixelForValue(g[h]);p.skip=isNaN(b)||isNaN(_),d&&(p.options=c||this.resolveDataElementOptions(f,m.active?"active":o),s&&(p.options.radius=0)),this.updateElement(m,f,p,o)}}resolveDataElementOptions(r,i){let n=this.getParsed(r),o=super.resolveDataElementOptions(r,i);o.$shared&&(o=Object.assign({},o,{$shared:!1}));let s=o.radius;return i!=="active"&&(o.radius=0),o.radius+=br(n&&n._custom,s),o}}return e})();function _mt(e,t,r){let i=1,n=1,o=0,s=0;if(t<ro){let a=e,l=a+t,c=Math.cos(a),d=Math.sin(a),u=Math.cos(l),h=Math.sin(l),f=(E,O,V)=>Mv(E,a,l,!0)?1:Math.max(O,O*r,V,V*r),m=(E,O,V)=>Mv(E,a,l,!0)?-1:Math.min(O,O*r,V,V*r),g=f(0,c,u),p=f(Bo,d,h),b=m(io,c,u),_=m(io+Bo,d,h);i=(g-b)/2,n=(p-_)/2,o=-(g+b)/2,s=-(p+_)/2}return{ratioX:i,ratioY:n,offsetX:o,offsetY:s}}var GP=(()=>{class e extends Om{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:r=>r!=="spacing",_indexable:r=>r!=="spacing"&&!r.startsWith("borderDash")&&!r.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(r){let i=r.data;if(i.labels.length&&i.datasets.length){let{labels:{pointStyle:n,color:o}}=r.legend.options;return i.labels.map((s,a)=>{let c=r.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:o,lineWidth:c.borderWidth,pointStyle:n,hidden:!r.getDataVisibility(a),index:a}})}return[]}},onClick(r,i,n){n.chart.toggleDataVisibility(i.index),n.chart.update()}}}};constructor(r,i){super(r,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(r,i){let n=this.getDataset().data,o=this._cachedMeta;if(this._parsing===!1)o._parsed=n;else{let s=c=>+n[c];if(Vr(n[r])){let{key:c="value"}=this._parsing;s=d=>+nf(n[d],c)}let a,l;for(a=r,l=r+i;a<l;++a)o._parsed[a]=s(a)}}_getRotation(){return kc(this.options.rotation-90)}_getCircumference(){return kc(this.options.circumference)}_getRotationExtents(){let r=ro,i=-ro;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){let o=this.chart.getDatasetMeta(n).controller,s=o._getRotation(),a=o._getCircumference();r=Math.min(r,s),i=Math.max(i,s+a)}return{rotation:r,circumference:i-r}}update(r){let i=this.chart,{chartArea:n}=i,o=this._cachedMeta,s=o.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,l=Math.max((Math.min(n.width,n.height)-a)/2,0),c=Math.min(nU(this.options.cutout,l),1),d=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:m,offsetX:g,offsetY:p}=_mt(h,u,c),b=(n.width-a)/f,_=(n.height-a)/m,E=Math.max(Math.min(b,_)/2,0),O=Y4(this.options.radius,E),V=Math.max(O*c,0),H=(O-V)/this._getVisibleDatasetWeightTotal();this.offsetX=g*O,this.offsetY=p*O,o.total=this.calculateTotal(),this.outerRadius=O-H*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-H*d,0),this.updateElements(s,0,s.length,r)}_circumference(r,i){let n=this.options,o=this._cachedMeta,s=this._getCircumference();return i&&n.animation.animateRotate||!this.chart.getDataVisibility(r)||o._parsed[r]===null||o.data[r].hidden?0:this.calculateCircumference(o._parsed[r]*s/ro)}updateElements(r,i,n,o){let s=o==="reset",a=this.chart,l=a.chartArea,d=a.options.animation,u=(l.left+l.right)/2,h=(l.top+l.bottom)/2,f=s&&d.animateScale,m=f?0:this.innerRadius,g=f?0:this.outerRadius,{sharedOptions:p,includeOptions:b}=this._getSharedOptions(i,o),_=this._getRotation(),E;for(E=0;E<i;++E)_+=this._circumference(E,s);for(E=i;E<i+n;++E){let O=this._circumference(E,s),V=r[E],H={x:u+this.offsetX,y:h+this.offsetY,startAngle:_,endAngle:_+O,circumference:O,outerRadius:g,innerRadius:m};b&&(H.options=p||this.resolveDataElementOptions(E,V.active?"active":o)),_+=O,this.updateElement(V,E,H,o)}}calculateTotal(){let r=this._cachedMeta,i=r.data,n=0,o;for(o=0;o<i.length;o++){let s=r._parsed[o];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(o)&&!i[o].hidden&&(n+=Math.abs(s))}return n}calculateCircumference(r){let i=this._cachedMeta.total;return i>0&&!isNaN(r)?ro*(Math.abs(r)/i):0}getLabelAndValue(r){let i=this._cachedMeta,n=this.chart,o=n.data.labels||[],s=Av(i._parsed[r],n.options.locale);return{label:o[r]||"",value:s}}getMaxBorderWidth(r){let i=0,n=this.chart,o,s,a,l,c;if(!r){for(o=0,s=n.data.datasets.length;o<s;++o)if(n.isDatasetVisible(o)){a=n.getDatasetMeta(o),r=a.data,l=a.controller;break}}if(!r)return 0;for(o=0,s=r.length;o<s;++o)c=l.resolveDataElementOptions(o),c.borderAlign!=="inner"&&(i=Math.max(i,c.borderWidth||0,c.hoverBorderWidth||0));return i}getMaxOffset(r){let i=0;for(let n=0,o=r.length;n<o;++n){let s=this.resolveDataElementOptions(n);i=Math.max(i,s.offset||0,s.hoverOffset||0)}return i}_getRingWeightOffset(r){let i=0;for(let n=0;n<r;++n)this.chart.isDatasetVisible(n)&&(i+=this._getRingWeight(n));return i}_getRingWeight(r){return Math.max(br(this.chart.data.datasets[r].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return e})(),wmt=(()=>{class e extends Om{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(r){let i=this._cachedMeta,{dataset:n,data:o=[],_dataset:s}=i,a=this.chart._animationsDisabled,{start:l,count:c}=eP(i,o,a);this._drawStart=l,this._drawCount=c,iP(i)&&(l=0,c=o.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!s._decimated,n.points=o;let d=this.resolveDatasetElementOptions(r);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(n,void 0,{animated:!a,options:d},r),this.updateElements(o,l,c,r)}updateElements(r,i,n,o){let s=o==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:d}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(i,o),f=a.axis,m=l.axis,{spanGaps:g,segment:p}=this.options,b=Yg(g)?g:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||s||o==="none",E=i+n,O=r.length,V=i>0&&this.getParsed(i-1);for(let H=0;H<O;++H){let F=r[H],L=_?F:{};if(H<i||H>=E){L.skip=!0;continue}let $=this.getParsed(H),W=Qr($[m]),x=L[f]=a.getPixelForValue($[f],H),R=L[m]=s||W?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,$,c):$[m],H);L.skip=isNaN(x)||isNaN(R)||W,L.stop=H>0&&Math.abs($[f]-V[f])>b,p&&(L.parsed=$,L.raw=d.data[H]),h&&(L.options=u||this.resolveDataElementOptions(H,F.active?"active":o)),_||this.updateElement(F,H,L,o),V=$}}getMaxOverflow(){let r=this._cachedMeta,i=r.dataset,n=i.options&&i.options.borderWidth||0,o=r.data||[];if(!o.length)return n;let s=o[0].size(this.resolveDataElementOptions(0)),a=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(n,s,a)/2}draw(){let r=this._cachedMeta;r.dataset.updateControlPoints(this.chart.chartArea,r.iScale.axis),super.draw()}}return e})(),NW=(()=>{class e extends Om{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(r){let i=r.data;if(i.labels.length&&i.datasets.length){let{labels:{pointStyle:n,color:o}}=r.legend.options;return i.labels.map((s,a)=>{let c=r.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:o,lineWidth:c.borderWidth,pointStyle:n,hidden:!r.getDataVisibility(a),index:a}})}return[]}},onClick(r,i,n){n.chart.toggleDataVisibility(i.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(r,i){super(r,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(r){let i=this._cachedMeta,n=this.chart,o=n.data.labels||[],s=Av(i._parsed[r].r,n.options.locale);return{label:o[r]||"",value:s}}parseObjectData(r,i,n,o){return uP.bind(this)(r,i,n,o)}update(r){let i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,r)}getMinMax(){let r=this._cachedMeta,i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return r.data.forEach((n,o)=>{let s=this.getParsed(o).r;!isNaN(s)&&this.chart.getDataVisibility(o)&&(s<i.min&&(i.min=s),s>i.max&&(i.max=s))}),i}_updateRadius(){let r=this.chart,i=r.chartArea,n=r.options,o=Math.min(i.right-i.left,i.bottom-i.top),s=Math.max(o/2,0),a=Math.max(n.cutoutPercentage?s/100*n.cutoutPercentage:1,0),l=(s-a)/r.getVisibleDatasetCount();this.outerRadius=s-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(r,i,n,o){let s=o==="reset",a=this.chart,c=a.options.animation,d=this._cachedMeta.rScale,u=d.xCenter,h=d.yCenter,f=d.getIndexAngle(0)-.5*io,m=f,g,p=360/this.countVisibleElements();for(g=0;g<i;++g)m+=this._computeAngle(g,o,p);for(g=i;g<i+n;g++){let b=r[g],_=m,E=m+this._computeAngle(g,o,p),O=a.getDataVisibility(g)?d.getDistanceFromCenterForValue(this.getParsed(g).r):0;m=E,s&&(c.animateScale&&(O=0),c.animateRotate&&(_=E=f));let V={x:u,y:h,innerRadius:0,outerRadius:O,startAngle:_,endAngle:E,options:this.resolveDataElementOptions(g,b.active?"active":o)};this.updateElement(b,g,V,o)}}countVisibleElements(){let r=this._cachedMeta,i=0;return r.data.forEach((n,o)=>{!isNaN(this.getParsed(o).r)&&this.chart.getDataVisibility(o)&&i++}),i}_computeAngle(r,i,n){return this.chart.getDataVisibility(r)?kc(this.resolveDataElementOptions(r,i).angle||n):0}}return e})(),Cmt=(()=>{class e extends GP{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}return e})(),xmt=(()=>{class e extends Om{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(r){let i=this._cachedMeta.vScale,n=this.getParsed(r);return{label:i.getLabels()[r],value:""+i.getLabelForValue(n[i.axis])}}parseObjectData(r,i,n,o){return uP.bind(this)(r,i,n,o)}update(r){let i=this._cachedMeta,n=i.dataset,o=i.data||[],s=i.iScale.getLabels();if(n.points=o,r!=="resize"){let a=this.resolveDatasetElementOptions(r);this.options.showLine||(a.borderWidth=0);let l={_loop:!0,_fullLoop:s.length===o.length,options:a};this.updateElement(n,void 0,l,r)}this.updateElements(o,0,o.length,r)}updateElements(r,i,n,o){let s=this._cachedMeta.rScale,a=o==="reset";for(let l=i;l<i+n;l++){let c=r[l],d=this.resolveDataElementOptions(l,c.active?"active":o),u=s.getPointPositionForValue(l,this.getParsed(l).r),h=a?s.xCenter:u.x,f=a?s.yCenter:u.y,m={x:h,y:f,angle:u.angle,skip:isNaN(h)||isNaN(f),options:d};this.updateElement(c,l,m,o)}}}return e})(),Smt=(()=>{class e extends Om{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(r){let i=this._cachedMeta,n=this.chart.data.labels||[],{xScale:o,yScale:s}=i,a=this.getParsed(r),l=o.getLabelForValue(a.x),c=s.getLabelForValue(a.y);return{label:n[r]||"",value:"("+l+", "+c+")"}}update(r){let i=this._cachedMeta,{data:n=[]}=i,o=this.chart._animationsDisabled,{start:s,count:a}=eP(i,n,o);if(this._drawStart=s,this._drawCount=a,iP(i)&&(s=0,a=n.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:l,_dataset:c}=i;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!c._decimated,l.points=n;let d=this.resolveDatasetElementOptions(r);d.segment=this.options.segment,this.updateElement(l,void 0,{animated:!o,options:d},r)}else this.datasetElementType&&(delete i.dataset,this.datasetElementType=!1);this.updateElements(n,s,a,r)}addElements(){let{showLine:r}=this.options;!this.datasetElementType&&r&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(r,i,n,o){let s=o==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:d}=this._cachedMeta,u=this.resolveDataElementOptions(i,o),h=this.getSharedOptions(u),f=this.includeOptions(o,h),m=a.axis,g=l.axis,{spanGaps:p,segment:b}=this.options,_=Yg(p)?p:Number.POSITIVE_INFINITY,E=this.chart._animationsDisabled||s||o==="none",O=i>0&&this.getParsed(i-1);for(let V=i;V<i+n;++V){let H=r[V],F=this.getParsed(V),L=E?H:{},$=Qr(F[g]),W=L[m]=a.getPixelForValue(F[m],V),x=L[g]=s||$?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,F,c):F[g],V);L.skip=isNaN(W)||isNaN(x)||$,L.stop=V>0&&Math.abs(F[m]-O[m])>_,b&&(L.parsed=F,L.raw=d.data[V]),f&&(L.options=h||this.resolveDataElementOptions(V,H.active?"active":o)),E||this.updateElement(H,V,L,o),O=F}this.updateSharedOptions(h,o,u)}getMaxOverflow(){let r=this._cachedMeta,i=r.data||[];if(!this.options.showLine){let l=0;for(let c=i.length-1;c>=0;--c)l=Math.max(l,i[c].size(this.resolveDataElementOptions(c))/2);return l>0&&l}let n=r.dataset,o=n.options&&n.options.borderWidth||0;if(!i.length)return o;let s=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(o,s,a)/2}}return e})(),Emt=Object.freeze({__proto__:null,BarController:vmt,BubbleController:ymt,DoughnutController:GP,LineController:wmt,PieController:Cmt,PolarAreaController:NW,RadarController:xmt,ScatterController:Smt});function $g(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var AP=class e{static override(t){Object.assign(e.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return $g()}parse(){return $g()}format(){return $g()}add(){return $g()}diff(){return $g()}startOf(){return $g()}endOf(){return $g()}},Rmt={_date:AP};function Tmt(e,t,r,i){let{controller:n,data:o,_sorted:s}=e,a=n._cachedMeta.iScale;if(a&&t===a.axis&&t!=="r"&&s&&o.length){let l=a._reversePixels?dU:Ou;if(i){if(n._sharedOptions){let c=o[0],d=typeof c.getRange=="function"&&c.getRange(t);if(d){let u=l(o,t,r-d),h=l(o,t,r+d);return{lo:u.lo,hi:h.hi}}}}else return l(o,t,r)}return{lo:0,hi:o.length-1}}function lC(e,t,r,i,n){let o=e.getSortedVisibleDatasetMetas(),s=r[t];for(let a=0,l=o.length;a<l;++a){let{index:c,data:d}=o[a],{lo:u,hi:h}=Tmt(o[a],t,s,n);for(let f=u;f<=h;++f){let m=d[f];m.skip||i(m,c,f)}}}function Mmt(e){let t=e.indexOf("x")!==-1,r=e.indexOf("y")!==-1;return function(i,n){let o=t?Math.abs(i.x-n.x):0,s=r?Math.abs(i.y-n.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(s,2))}}function wP(e,t,r,i,n){let o=[];return!n&&!e.isPointInArea(t)||lC(e,r,t,function(a,l,c){!n&&!Pu(a,e.chartArea,0)||a.inRange(t.x,t.y,i)&&o.push({element:a,datasetIndex:l,index:c})},!0),o}function Amt(e,t,r,i){let n=[];function o(s,a,l){let{startAngle:c,endAngle:d}=s.getProps(["startAngle","endAngle"],i),{angle:u}=X4(s,{x:t.x,y:t.y});Mv(u,c,d)&&n.push({element:s,datasetIndex:a,index:l})}return lC(e,r,t,o),n}function Imt(e,t,r,i,n,o){let s=[],a=Mmt(r),l=Number.POSITIVE_INFINITY;function c(d,u,h){let f=d.inRange(t.x,t.y,n);if(i&&!f)return;let m=d.getCenterPoint(n);if(!(!!o||e.isPointInArea(m))&&!f)return;let p=a(t,m);p<l?(s=[{element:d,datasetIndex:u,index:h}],l=p):p===l&&s.push({element:d,datasetIndex:u,index:h})}return lC(e,r,t,c),s}function CP(e,t,r,i,n,o){return!o&&!e.isPointInArea(t)?[]:r==="r"&&!i?Amt(e,t,r,n):Imt(e,t,r,i,n,o)}function zU(e,t,r,i,n){let o=[],s=r==="x"?"inXRange":"inYRange",a=!1;return lC(e,r,t,(l,c,d)=>{l[s](t[r],n)&&(o.push({element:l,datasetIndex:c,index:d}),a=a||l.inRange(t.x,t.y,n))}),i&&!a?[]:o}var kmt={evaluateInteractionItems:lC,modes:{index(e,t,r,i){let n=km(t,e),o=r.axis||"x",s=r.includeInvisible||!1,a=r.intersect?wP(e,n,o,i,s):CP(e,n,o,!1,i,s),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(c=>{let d=a[0].index,u=c.data[d];u&&!u.skip&&l.push({element:u,datasetIndex:c.index,index:d})}),l):[]},dataset(e,t,r,i){let n=km(t,e),o=r.axis||"xy",s=r.includeInvisible||!1,a=r.intersect?wP(e,n,o,i,s):CP(e,n,o,!1,i,s);if(a.length>0){let l=a[0].datasetIndex,c=e.getDatasetMeta(l).data;a=[];for(let d=0;d<c.length;++d)a.push({element:c[d],datasetIndex:l,index:d})}return a},point(e,t,r,i){let n=km(t,e),o=r.axis||"xy",s=r.includeInvisible||!1;return wP(e,n,o,i,s)},nearest(e,t,r,i){let n=km(t,e),o=r.axis||"xy",s=r.includeInvisible||!1;return CP(e,n,o,r.intersect,i,s)},x(e,t,r,i){let n=km(t,e);return zU(e,n,"x",r.intersect,i)},y(e,t,r,i){let n=km(t,e);return zU(e,n,"y",r.intersect,i)}}},LW=["left","top","right","bottom"];function Jw(e,t){return e.filter(r=>r.pos===t)}function UU(e,t){return e.filter(r=>LW.indexOf(r.pos)===-1&&r.box.axis===t)}function tC(e,t){return e.sort((r,i)=>{let n=t?i:r,o=t?r:i;return n.weight===o.weight?n.index-o.index:n.weight-o.weight})}function Dmt(e){let t=[],r,i,n,o,s,a;for(r=0,i=(e||[]).length;r<i;++r)n=e[r],{position:o,options:{stack:s,stackWeight:a=1}}=n,t.push({index:r,box:n,pos:o,horizontal:n.isHorizontal(),weight:n.weight,stack:s&&o+s,stackWeight:a});return t}function Omt(e){let t={};for(let r of e){let{stack:i,pos:n,stackWeight:o}=r;if(!i||!LW.includes(n))continue;let s=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=o}return t}function Pmt(e,t){let r=Omt(e),{vBoxMaxWidth:i,hBoxMaxHeight:n}=t,o,s,a;for(o=0,s=e.length;o<s;++o){a=e[o];let{fullSize:l}=a.box,c=r[a.stack],d=c&&a.stackWeight/c.weight;a.horizontal?(a.width=d?d*i:l&&t.availableWidth,a.height=n):(a.width=i,a.height=d?d*n:l&&t.availableHeight)}return r}function Nmt(e){let t=Dmt(e),r=tC(t.filter(c=>c.box.fullSize),!0),i=tC(Jw(t,"left"),!0),n=tC(Jw(t,"right")),o=tC(Jw(t,"top"),!0),s=tC(Jw(t,"bottom")),a=UU(t,"x"),l=UU(t,"y");return{fullSize:r,leftAndTop:i.concat(o),rightAndBottom:n.concat(l).concat(s).concat(a),chartArea:Jw(t,"chartArea"),vertical:i.concat(n).concat(l),horizontal:o.concat(s).concat(a)}}function WU(e,t,r,i){return Math.max(e[r],t[r])+Math.max(e[i],t[i])}function FW(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function Lmt(e,t,r,i){let{pos:n,box:o}=r,s=e.maxPadding;if(!Vr(n)){r.size&&(e[n]-=r.size);let u=i[r.stack]||{size:0,count:1};u.size=Math.max(u.size,r.horizontal?o.height:o.width),r.size=u.size/u.count,e[n]+=r.size}o.getPadding&&FW(s,o.getPadding());let a=Math.max(0,t.outerWidth-WU(s,e,"left","right")),l=Math.max(0,t.outerHeight-WU(s,e,"top","bottom")),c=a!==e.w,d=l!==e.h;return e.w=a,e.h=l,r.horizontal?{same:c,other:d}:{same:d,other:c}}function Fmt(e){let t=e.maxPadding;function r(i){let n=Math.max(t[i]-e[i],0);return e[i]+=n,n}e.y+=r("top"),e.x+=r("left"),r("right"),r("bottom")}function Hmt(e,t){let r=t.maxPadding;function i(n){let o={left:0,top:0,right:0,bottom:0};return n.forEach(s=>{o[s]=Math.max(t[s],r[s])}),o}return i(e?["left","right"]:["top","bottom"])}function rC(e,t,r,i){let n=[],o,s,a,l,c,d;for(o=0,s=e.length,c=0;o<s;++o){a=e[o],l=a.box,l.update(a.width||t.w,a.height||t.h,Hmt(a.horizontal,t));let{same:u,other:h}=Lmt(t,r,a,i);c|=u&&n.length,d=d||h,l.fullSize||n.push(a)}return c&&rC(n,t,r,i)||d}function w5(e,t,r,i,n){e.top=r,e.left=t,e.right=t+i,e.bottom=r+n,e.width=i,e.height=n}function YU(e,t,r,i){let n=r.padding,{x:o,y:s}=t;for(let a of e){let l=a.box,c=i[a.stack]||{count:1,placed:0,weight:1},d=a.stackWeight/c.weight||1;if(a.horizontal){let u=t.w*d,h=c.size||l.height;Rv(c.start)&&(s=c.start),l.fullSize?w5(l,n.left,s,r.outerWidth-n.right-n.left,h):w5(l,t.left+c.placed,s,u,h),c.start=s,c.placed+=u,s=l.bottom}else{let u=t.h*d,h=c.size||l.width;Rv(c.start)&&(o=c.start),l.fullSize?w5(l,o,n.top,h,r.outerHeight-n.bottom-n.top):w5(l,o,t.top+c.placed,h,u),c.start=o,c.placed+=u,o=l.right}}t.x=o,t.y=s}var ba={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(r){t.draw(r)}}]},e.boxes.push(t)},removeBox(e,t){let r=e.boxes?e.boxes.indexOf(t):-1;r!==-1&&e.boxes.splice(r,1)},configure(e,t,r){t.fullSize=r.fullSize,t.position=r.position,t.weight=r.weight},update(e,t,r,i){if(!e)return;let n=ra(e.options.layout.padding),o=Math.max(t-n.width,0),s=Math.max(r-n.height,0),a=Nmt(e.boxes),l=a.vertical,c=a.horizontal;vn(e.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});let d=l.reduce((g,p)=>p.box.options&&p.box.options.display===!1?g:g+1,0)||1,u=Object.freeze({outerWidth:t,outerHeight:r,padding:n,availableWidth:o,availableHeight:s,vBoxMaxWidth:o/2/d,hBoxMaxHeight:s/2}),h=Object.assign({},n);FW(h,ra(i));let f=Object.assign({maxPadding:h,w:o,h:s,x:n.left,y:n.top},n),m=Pmt(l.concat(c),u);rC(a.fullSize,f,u,m),rC(l,f,u,m),rC(c,f,u,m)&&rC(l,f,u,m),Fmt(f),YU(a.leftAndTop,f,u,m),f.x+=f.w,f.y+=f.h,YU(a.rightAndBottom,f,u,m),e.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},vn(a.chartArea,g=>{let p=g.box;Object.assign(p,e.chartArea),p.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}},k5=class{acquireContext(t,r){}releaseContext(t){return!1}addEventListener(t,r,i){}removeEventListener(t,r,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,r,i,n){return r=Math.max(0,r||t.width),i=i||t.height,{width:r,height:Math.max(0,n?Math.floor(r/n):i)}}isAttached(t){return!0}updateConfig(t){}},IP=class extends k5{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}},M5="$chartjs",Bmt={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},qU=e=>e===null||e==="";function jmt(e,t){let r=e.style,i=e.getAttribute("height"),n=e.getAttribute("width");if(e[M5]={initial:{height:i,width:n,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",qU(n)){let o=fP(e,"width");o!==void 0&&(e.width=o)}if(qU(i))if(e.style.height==="")e.height=e.width/(t||2);else{let o=fP(e,"height");o!==void 0&&(e.height=o)}return e}var HW=TU?{passive:!0}:!1;function Vmt(e,t,r){e&&e.addEventListener(t,r,HW)}function zmt(e,t,r){e&&e.canvas&&e.canvas.removeEventListener(t,r,HW)}function Umt(e,t){let r=Bmt[e.type]||e.type,{x:i,y:n}=km(e,t);return{type:r,chart:t,native:e,x:i!==void 0?i:null,y:n!==void 0?n:null}}function D5(e,t){for(let r of e)if(r===t||r.contains(t))return!0}function Wmt(e,t,r){let i=e.canvas,n=new MutationObserver(o=>{let s=!1;for(let a of o)s=s||D5(a.addedNodes,i),s=s&&!D5(a.removedNodes,i);s&&r()});return n.observe(document,{childList:!0,subtree:!0}),n}function Ymt(e,t,r){let i=e.canvas,n=new MutationObserver(o=>{let s=!1;for(let a of o)s=s||D5(a.removedNodes,i),s=s&&!D5(a.addedNodes,i);s&&r()});return n.observe(document,{childList:!0,subtree:!0}),n}var oC=new Map,$U=0;function BW(){let e=window.devicePixelRatio;e!==$U&&($U=e,oC.forEach((t,r)=>{r.currentDevicePixelRatio!==e&&t()}))}function qmt(e,t){oC.size||window.addEventListener("resize",BW),oC.set(e,t)}function $mt(e){oC.delete(e),oC.size||window.removeEventListener("resize",BW)}function Gmt(e,t,r){let i=e.canvas,n=i&&y5(i);if(!n)return;let o=tP((a,l)=>{let c=n.clientWidth;r(a,l),c<n.clientWidth&&r()},window),s=new ResizeObserver(a=>{let l=a[0],c=l.contentRect.width,d=l.contentRect.height;c===0&&d===0||o(c,d)});return s.observe(n),qmt(e,o),s}function xP(e,t,r){r&&r.disconnect(),t==="resize"&&$mt(e)}function Kmt(e,t,r){let i=e.canvas,n=tP(o=>{e.ctx!==null&&r(Umt(o,e))},e);return Vmt(i,t,n),n}var kP=class extends k5{acquireContext(t,r){let i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(jmt(t,r),i):null}releaseContext(t){let r=t.canvas;if(!r[M5])return!1;let i=r[M5].initial;["height","width"].forEach(o=>{let s=i[o];Qr(s)?r.removeAttribute(o):r.setAttribute(o,s)});let n=i.style||{};return Object.keys(n).forEach(o=>{r.style[o]=n[o]}),r.width=r.width,delete r[M5],!0}addEventListener(t,r,i){this.removeEventListener(t,r);let n=t.$proxies||(t.$proxies={}),s={attach:Wmt,detach:Ymt,resize:Gmt}[r]||Kmt;n[r]=s(t,r,i)}removeEventListener(t,r){let i=t.$proxies||(t.$proxies={}),n=i[r];if(!n)return;({attach:xP,detach:xP,resize:xP}[r]||zmt)(t,r,n),i[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,r,i,n){return RU(t,r,i,n)}isAttached(t){let r=t&&y5(t);return!!(r&&r.isConnected)}};function Xmt(e){return!v5()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?IP:kP}var Ed=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){let{x:r,y:i}=this.getProps(["x","y"],t);return{x:r,y:i}}hasValue(){return Yg(this.x)&&Yg(this.y)}getProps(t,r){let i=this.$animations;if(!r||!i)return this;let n={};return t.forEach(o=>{n[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),n}};function Zmt(e,t){let r=e.options.ticks,i=Qmt(e),n=Math.min(r.maxTicksLimit||i,i),o=r.major.enabled?tpt(t):[],s=o.length,a=o[0],l=o[s-1],c=[];if(s>n)return ept(t,c,o,s/n),c;let d=Jmt(o,t,n);if(s>0){let u,h,f=s>1?Math.round((l-a)/(s-1)):null;for(C5(t,c,d,Qr(f)?0:a-f,a),u=0,h=s-1;u<h;u++)C5(t,c,d,o[u],o[u+1]);return C5(t,c,d,l,Qr(f)?t.length:l+f),c}return C5(t,c,d),c}function Qmt(e){let t=e.options.offset,r=e._tickSize(),i=e._length/r+(t?0:1),n=e._maxLength/r;return Math.floor(Math.min(i,n))}function Jmt(e,t,r){let i=ipt(e),n=t.length/r;if(!i)return Math.max(n,1);let o=aU(i);for(let s=0,a=o.length-1;s<a;s++){let l=o[s];if(l>n)return l}return Math.max(n,1)}function tpt(e){let t=[],r,i;for(r=0,i=e.length;r<i;r++)e[r].major&&t.push(r);return t}function ept(e,t,r,i){let n=0,o=r[0],s;for(i=Math.ceil(i),s=0;s<e.length;s++)s===o&&(t.push(e[s]),n++,o=r[n*i])}function C5(e,t,r,i,n){let o=br(i,0),s=Math.min(br(n,e.length),e.length),a=0,l,c,d;for(r=Math.ceil(r),n&&(l=n-i,r=l/Math.floor(l/r)),d=o;d<0;)a++,d=Math.round(o+a*r);for(c=Math.max(o,0);c<s;c++)c===d&&(t.push(e[c]),a++,d=Math.round(o+a*r))}function ipt(e){let t=e.length,r,i;if(t<2)return!1;for(i=e[0],r=1;r<t;++r)if(e[r]-e[r-1]!==i)return!1;return i}var rpt=e=>e==="left"?"right":e==="right"?"left":e,GU=(e,t,r)=>t==="top"||t==="left"?e[t]+r:e[t]-r,KU=(e,t)=>Math.min(t||e,e);function XU(e,t){let r=[],i=e.length/t,n=e.length,o=0;for(;o<n;o+=i)r.push(e[Math.floor(o)]);return r}function npt(e,t,r){let i=e.ticks.length,n=Math.min(t,i-1),o=e._startPixel,s=e._endPixel,a=1e-6,l=e.getPixelForTick(n),c;if(!(r&&(i===1?c=Math.max(l-o,s-l):t===0?c=(e.getPixelForTick(1)-l)/2:c=(l-e.getPixelForTick(n-1))/2,l+=n<t?c:-c,l<o-a||l>s+a)))return l}function opt(e,t){vn(e,r=>{let i=r.gc,n=i.length/2,o;if(n>t){for(o=0;o<n;++o)delete r.data[i[o]];i.splice(0,n)}})}function eC(e){return e.drawTicks?e.tickLength:0}function ZU(e,t){if(!e.display)return 0;let r=ls(e.font,t),i=ra(e.padding);return(eo(e.text)?e.text.length:1)*r.lineHeight+i.height}function spt(e,t){return of(e,{scale:t,type:"scale"})}function apt(e,t,r){return of(e,{tick:r,index:t,type:"tick"})}function lpt(e,t,r){let i=f5(e);return(r&&t!=="right"||!r&&t==="right")&&(i=rpt(i)),i}function cpt(e,t,r,i){let{top:n,left:o,bottom:s,right:a,chart:l}=e,{chartArea:c,scales:d}=l,u=0,h,f,m,g=s-n,p=a-o;if(e.isHorizontal()){if(f=ia(i,o,a),Vr(r)){let b=Object.keys(r)[0],_=r[b];m=d[b].getPixelForValue(_)+g-t}else r==="center"?m=(c.bottom+c.top)/2+g-t:m=GU(e,r,t);h=a-o}else{if(Vr(r)){let b=Object.keys(r)[0],_=r[b];f=d[b].getPixelForValue(_)-p+t}else r==="center"?f=(c.left+c.right)/2-p+t:f=GU(e,r,t);m=ia(i,s,n),u=r==="left"?-Bo:Bo}return{titleX:f,titleY:m,maxWidth:h,rotation:u}}var Kg=class e extends Ed{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,r){return t}getUserBounds(){let{_userMin:t,_userMax:r,_suggestedMin:i,_suggestedMax:n}=this;return t=fl(t,Number.POSITIVE_INFINITY),r=fl(r,Number.NEGATIVE_INFINITY),i=fl(i,Number.POSITIVE_INFINITY),n=fl(n,Number.NEGATIVE_INFINITY),{min:fl(t,i),max:fl(r,n),minDefined:To(t),maxDefined:To(r)}}getMinMax(t){let{min:r,max:i,minDefined:n,maxDefined:o}=this.getUserBounds(),s;if(n&&o)return{min:r,max:i};let a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)s=a[l].controller.getMinMax(this,t),n||(r=Math.min(r,s.min)),o||(i=Math.max(i,s.max));return r=o&&r>i?i:r,i=n&&r>i?r:i,{min:fl(r,fl(i,r)),max:fl(i,fl(r,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Gn(this.options.beforeUpdate,[this])}update(t,r,i){let{beginAtZero:n,grace:o,ticks:s}=this.options,a=s.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=r,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=_U(this,o,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let l=a<this.ticks.length;this._convertTicksToLabels(l?XU(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||s.source==="auto")&&(this.ticks=Zmt(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,r,i;this.isHorizontal()?(r=this.left,i=this.right):(r=this.top,i=this.bottom,t=!t),this._startPixel=r,this._endPixel=i,this._reversePixels=t,this._length=i-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Gn(this.options.afterUpdate,[this])}beforeSetDimensions(){Gn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Gn(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Gn(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Gn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){let r=this.options.ticks,i,n,o;for(i=0,n=t.length;i<n;i++)o=t[i],o.label=Gn(r.callback,[o.value,i,t],this)}afterTickToLabelConversion(){Gn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Gn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let t=this.options,r=t.ticks,i=KU(this.ticks.length,t.ticks.maxTicksLimit),n=r.minRotation||0,o=r.maxRotation,s=n,a,l,c;if(!this._isVisible()||!r.display||n>=o||i<=1||!this.isHorizontal()){this.labelRotation=n;return}let d=this._getLabelSizes(),u=d.widest.width,h=d.highest.height,f=gs(this.chart.width-u,0,this.maxWidth);a=t.offset?this.maxWidth/i:f/(i-1),u+6>a&&(a=f/(i-(t.offset?.5:1)),l=this.maxHeight-eC(t.grid)-r.padding-ZU(t.title,this.chart.options.font),c=Math.sqrt(u*u+h*h),s=u5(Math.min(Math.asin(gs((d.highest.height+6)/a,-1,1)),Math.asin(gs(l/c,-1,1))-Math.asin(gs(h/c,-1,1)))),s=Math.max(n,Math.min(o,s))),this.labelRotation=s}afterCalculateLabelRotation(){Gn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Gn(this.options.beforeFit,[this])}fit(){let t={width:0,height:0},{chart:r,options:{ticks:i,title:n,grid:o}}=this,s=this._isVisible(),a=this.isHorizontal();if(s){let l=ZU(n,r.options.font);if(a?(t.width=this.maxWidth,t.height=eC(o)+l):(t.height=this.maxHeight,t.width=eC(o)+l),i.display&&this.ticks.length){let{first:c,last:d,widest:u,highest:h}=this._getLabelSizes(),f=i.padding*2,m=kc(this.labelRotation),g=Math.cos(m),p=Math.sin(m);if(a){let b=i.mirror?0:p*u.width+g*h.height;t.height=Math.min(this.maxHeight,t.height+b+f)}else{let b=i.mirror?0:g*u.width+p*h.height;t.width=Math.min(this.maxWidth,t.width+b+f)}this._calculatePadding(c,d,p,g)}}this._handleMargins(),a?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,r,i,n){let{ticks:{align:o,padding:s},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){let d=this.getPixelForTick(0)-this.left,u=this.right-this.getPixelForTick(this.ticks.length-1),h=0,f=0;l?c?(h=n*t.width,f=i*r.height):(h=i*t.height,f=n*r.width):o==="start"?f=r.width:o==="end"?h=t.width:o!=="inner"&&(h=t.width/2,f=r.width/2),this.paddingLeft=Math.max((h-d+s)*this.width/(this.width-d),0),this.paddingRight=Math.max((f-u+s)*this.width/(this.width-u),0)}else{let d=r.height/2,u=t.height/2;o==="start"?(d=0,u=t.height):o==="end"&&(d=r.height,u=0),this.paddingTop=d+s,this.paddingBottom=u+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Gn(this.options.afterFit,[this])}isHorizontal(){let{axis:t,position:r}=this.options;return r==="top"||r==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let r,i;for(r=0,i=t.length;r<i;r++)Qr(t[r].label)&&(t.splice(r,1),i--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){let r=this.options.ticks.sampleSize,i=this.ticks;r<i.length&&(i=XU(i,r)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,r,i){let{ctx:n,_longestTextCache:o}=this,s=[],a=[],l=Math.floor(r/KU(r,i)),c=0,d=0,u,h,f,m,g,p,b,_,E,O,V;for(u=0;u<r;u+=l){if(m=t[u].label,g=this._resolveTickFontOptions(u),n.font=p=g.string,b=o[p]=o[p]||{data:{},gc:[]},_=g.lineHeight,E=O=0,!Qr(m)&&!eo(m))E=$w(n,b.data,b.gc,E,m),O=_;else if(eo(m))for(h=0,f=m.length;h<f;++h)V=m[h],!Qr(V)&&!eo(V)&&(E=$w(n,b.data,b.gc,E,V),O+=_);s.push(E),a.push(O),c=Math.max(E,c),d=Math.max(O,d)}opt(o,r);let H=s.indexOf(c),F=a.indexOf(d),L=$=>({width:s[$]||0,height:a[$]||0});return{first:L(0),last:L(r-1),widest:L(H),highest:L(F),widths:s,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,r){return NaN}getValueForPixel(t){}getPixelForTick(t){let r=this.ticks;return t<0||t>r.length-1?null:this.getPixelForValue(r[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);let r=this._startPixel+t*this._length;return cU(this._alignToPixels?Mm(this.chart,r,0):r)}getDecimalForPixel(t){let r=(t-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:t,max:r}=this;return t<0&&r<0?r:t>0&&r>0?t:0}getContext(t){let r=this.ticks||[];if(t>=0&&t<r.length){let i=r[t];return i.$context||(i.$context=apt(this.getContext(),t,i))}return this.$context||(this.$context=spt(this.chart.getContext(),this))}_tickSize(){let t=this.options.ticks,r=kc(this.labelRotation),i=Math.abs(Math.cos(r)),n=Math.abs(Math.sin(r)),o=this._getLabelSizes(),s=t.autoSkipPadding||0,a=o?o.widest.width+s:0,l=o?o.highest.height+s:0;return this.isHorizontal()?l*i>a*n?a/i:l/n:l*n<a*i?l/i:a/n}_isVisible(){let t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){let r=this.axis,i=this.chart,n=this.options,{grid:o,position:s,border:a}=n,l=o.offset,c=this.isHorizontal(),u=this.ticks.length+(l?1:0),h=eC(o),f=[],m=a.setContext(this.getContext()),g=m.display?m.width:0,p=g/2,b=function(C){return Mm(i,C,g)},_,E,O,V,H,F,L,$,W,x,R,B;if(s==="top")_=b(this.bottom),F=this.bottom-h,$=_-p,x=b(t.top)+p,B=t.bottom;else if(s==="bottom")_=b(this.top),x=t.top,B=b(t.bottom)-p,F=_+p,$=this.top+h;else if(s==="left")_=b(this.right),H=this.right-h,L=_-p,W=b(t.left)+p,R=t.right;else if(s==="right")_=b(this.left),W=t.left,R=b(t.right)-p,H=_+p,L=this.left+h;else if(r==="x"){if(s==="center")_=b((t.top+t.bottom)/2+.5);else if(Vr(s)){let C=Object.keys(s)[0],w=s[C];_=b(this.chart.scales[C].getPixelForValue(w))}x=t.top,B=t.bottom,F=_+p,$=F+h}else if(r==="y"){if(s==="center")_=b((t.left+t.right)/2);else if(Vr(s)){let C=Object.keys(s)[0],w=s[C];_=b(this.chart.scales[C].getPixelForValue(w))}H=_-p,L=H-h,W=t.left,R=t.right}let v=br(n.ticks.maxTicksLimit,u),y=Math.max(1,Math.ceil(u/v));for(E=0;E<u;E+=y){let C=this.getContext(E),w=o.setContext(C),S=a.setContext(C),M=w.lineWidth,U=w.color,N=S.dash||[],T=S.dashOffset,j=w.tickWidth,I=w.tickColor,q=w.tickBorderDash||[],A=w.tickBorderDashOffset;O=npt(this,E,l),O!==void 0&&(V=Mm(i,O,M),c?H=L=W=R=V:F=$=x=B=V,f.push({tx1:H,ty1:F,tx2:L,ty2:$,x1:W,y1:x,x2:R,y2:B,width:M,color:U,borderDash:N,borderDashOffset:T,tickWidth:j,tickColor:I,tickBorderDash:q,tickBorderDashOffset:A}))}return this._ticksLength=u,this._borderValue=_,f}_computeLabelItems(t){let r=this.axis,i=this.options,{position:n,ticks:o}=i,s=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:d,mirror:u}=o,h=eC(i.grid),f=h+d,m=u?-d:f,g=-kc(this.labelRotation),p=[],b,_,E,O,V,H,F,L,$,W,x,R,B="middle";if(n==="top")H=this.bottom-m,F=this._getXAxisLabelAlignment();else if(n==="bottom")H=this.top+m,F=this._getXAxisLabelAlignment();else if(n==="left"){let y=this._getYAxisLabelAlignment(h);F=y.textAlign,V=y.x}else if(n==="right"){let y=this._getYAxisLabelAlignment(h);F=y.textAlign,V=y.x}else if(r==="x"){if(n==="center")H=(t.top+t.bottom)/2+f;else if(Vr(n)){let y=Object.keys(n)[0],C=n[y];H=this.chart.scales[y].getPixelForValue(C)+f}F=this._getXAxisLabelAlignment()}else if(r==="y"){if(n==="center")V=(t.left+t.right)/2-f;else if(Vr(n)){let y=Object.keys(n)[0],C=n[y];V=this.chart.scales[y].getPixelForValue(C)}F=this._getYAxisLabelAlignment(h).textAlign}r==="y"&&(l==="start"?B="top":l==="end"&&(B="bottom"));let v=this._getLabelSizes();for(b=0,_=a.length;b<_;++b){E=a[b],O=E.label;let y=o.setContext(this.getContext(b));L=this.getPixelForTick(b)+o.labelOffset,$=this._resolveTickFontOptions(b),W=$.lineHeight,x=eo(O)?O.length:1;let C=x/2,w=y.color,S=y.textStrokeColor,M=y.textStrokeWidth,U=F;s?(V=L,F==="inner"&&(b===_-1?U=this.options.reverse?"left":"right":b===0?U=this.options.reverse?"right":"left":U="center"),n==="top"?c==="near"||g!==0?R=-x*W+W/2:c==="center"?R=-v.highest.height/2-C*W+W:R=-v.highest.height+W/2:c==="near"||g!==0?R=W/2:c==="center"?R=v.highest.height/2-C*W:R=v.highest.height-x*W,u&&(R*=-1),g!==0&&!y.showLabelBackdrop&&(V+=W/2*Math.sin(g))):(H=L,R=(1-x)*W/2);let N;if(y.showLabelBackdrop){let T=ra(y.backdropPadding),j=v.heights[b],I=v.widths[b],q=R-T.top,A=0-T.left;switch(B){case"middle":q-=j/2;break;case"bottom":q-=j;break}switch(F){case"center":A-=I/2;break;case"right":A-=I;break;case"inner":b===_-1?A-=I:b>0&&(A-=I/2);break}N={left:A,top:q,width:I+T.width,height:j+T.height,color:y.backdropColor}}p.push({label:O,font:$,textOffset:R,options:{rotation:g,color:w,strokeColor:S,strokeWidth:M,textAlign:U,textBaseline:B,translation:[V,H],backdrop:N}})}return p}_getXAxisLabelAlignment(){let{position:t,ticks:r}=this.options;if(-kc(this.labelRotation))return t==="top"?"left":"right";let n="center";return r.align==="start"?n="left":r.align==="end"?n="right":r.align==="inner"&&(n="inner"),n}_getYAxisLabelAlignment(t){let{position:r,ticks:{crossAlign:i,mirror:n,padding:o}}=this.options,s=this._getLabelSizes(),a=t+o,l=s.widest.width,c,d;return r==="left"?n?(d=this.right+o,i==="near"?c="left":i==="center"?(c="center",d+=l/2):(c="right",d+=l)):(d=this.right-a,i==="near"?c="right":i==="center"?(c="center",d-=l/2):(c="left",d=this.left)):r==="right"?n?(d=this.left+o,i==="near"?c="right":i==="center"?(c="center",d-=l/2):(c="left",d-=l)):(d=this.left+a,i==="near"?c="left":i==="center"?(c="center",d+=l/2):(c="right",d=this.right)):c="right",{textAlign:c,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;let t=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){let{ctx:t,options:{backgroundColor:r},left:i,top:n,width:o,height:s}=this;r&&(t.save(),t.fillStyle=r,t.fillRect(i,n,o,s),t.restore())}getLineWidthForValue(t){let r=this.options.grid;if(!this._isVisible()||!r.display)return 0;let n=this.ticks.findIndex(o=>o.value===t);return n>=0?r.setContext(this.getContext(n)).lineWidth:0}drawGrid(t){let r=this.options.grid,i=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t)),o,s,a=(l,c,d)=>{!d.width||!d.color||(i.save(),i.lineWidth=d.width,i.strokeStyle=d.color,i.setLineDash(d.borderDash||[]),i.lineDashOffset=d.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(r.display)for(o=0,s=n.length;o<s;++o){let l=n[o];r.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),r.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){let{chart:t,ctx:r,options:{border:i,grid:n}}=this,o=i.setContext(this.getContext()),s=i.display?o.width:0;if(!s)return;let a=n.setContext(this.getContext(0)).lineWidth,l=this._borderValue,c,d,u,h;this.isHorizontal()?(c=Mm(t,this.left,s)-s/2,d=Mm(t,this.right,a)+a/2,u=h=l):(u=Mm(t,this.top,s)-s/2,h=Mm(t,this.bottom,a)+a/2,c=d=l),r.save(),r.lineWidth=o.width,r.strokeStyle=o.color,r.beginPath(),r.moveTo(c,u),r.lineTo(d,h),r.stroke(),r.restore()}drawLabels(t){if(!this.options.ticks.display)return;let i=this.ctx,n=this._computeLabelArea();n&&Xw(i,n);let o=this.getLabelItems(t);for(let s of o){let a=s.options,l=s.font,c=s.label,d=s.textOffset;Am(i,c,0,d,l,a)}n&&Zw(i)}drawTitle(){let{ctx:t,options:{position:r,title:i,reverse:n}}=this;if(!i.display)return;let o=ls(i.font),s=ra(i.padding),a=i.align,l=o.lineHeight/2;r==="bottom"||r==="center"||Vr(r)?(l+=s.bottom,eo(i.text)&&(l+=o.lineHeight*(i.text.length-1))):l+=s.top;let{titleX:c,titleY:d,maxWidth:u,rotation:h}=cpt(this,l,r,a);Am(t,i.text,0,0,o,{color:i.color,maxWidth:u,rotation:h,textAlign:lpt(a,r,n),textBaseline:"middle",translation:[c,d]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){let t=this.options,r=t.ticks&&t.ticks.z||0,i=br(t.grid&&t.grid.z,-1),n=br(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==e.prototype.draw?[{z:r,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:r,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){let r=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",n=[],o,s;for(o=0,s=r.length;o<s;++o){let a=r[o];a[i]===this.id&&(!t||a.type===t)&&n.push(a)}return n}_resolveTickFontOptions(t){let r=this.options.ticks.setContext(this.getContext(t));return ls(r.font)}_maxDigits(){let t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}},Ov=class{constructor(t,r,i){this.type=t,this.scope=r,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){let r=Object.getPrototypeOf(t),i;hpt(r)&&(i=this.register(r));let n=this.items,o=t.id,s=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in n||(n[o]=t,dpt(t,s,i),this.override&&uo.override(t.id,t.overrides)),s}get(t){return this.items[t]}unregister(t){let r=this.items,i=t.id,n=this.scope;i in r&&delete r[i],n&&i in uo[n]&&(delete uo[n][i],this.override&&delete Tm[i])}};function dpt(e,t,r){let i=xv(Object.create(null),[r?uo.get(r):{},uo.get(t),e.defaults]);uo.set(t,i),e.defaultRoutes&&upt(t,e.defaultRoutes),e.descriptors&&uo.describe(t,e.descriptors)}function upt(e,t){Object.keys(t).forEach(r=>{let i=r.split("."),n=i.pop(),o=[e].concat(i).join("."),s=t[r].split("."),a=s.pop(),l=s.join(".");uo.route(o,n,l,a)})}function hpt(e){return"id"in e&&"defaults"in e}var DP=class{constructor(){this.controllers=new Ov(Om,"datasets",!0),this.elements=new Ov(Ed,"elements"),this.plugins=new Ov(Object,"plugins"),this.scales=new Ov(Kg,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,r,i){[...r].forEach(n=>{let o=i||this._getRegistryForType(n);i||o.isForType(n)||o===this.plugins&&n.id?this._exec(t,o,n):vn(n,s=>{let a=i||this._getRegistryForType(s);this._exec(t,a,s)})})}_exec(t,r,i){let n=d5(t);Gn(i["before"+n],[],i),r[t](i),Gn(i["after"+n],[],i)}_getRegistryForType(t){for(let r=0;r<this._typedRegistries.length;r++){let i=this._typedRegistries[r];if(i.isForType(t))return i}return this.plugins}_get(t,r,i){let n=r.get(t);if(n===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return n}},Hu=new DP,OP=class{constructor(){this._init=[]}notify(t,r,i,n){r==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));let o=n?this._descriptors(t).filter(n):this._descriptors(t),s=this._notify(o,t,r,i);return r==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),s}_notify(t,r,i,n){n=n||{};for(let o of t){let s=o.plugin,a=s[i],l=[r,n,o.options];if(Gn(a,l,s)===!1&&n.cancelable)return!1}return!0}invalidate(){Qr(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;let r=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),r}_createDescriptors(t,r){let i=t&&t.config,n=br(i.options&&i.options.plugins,{}),o=fpt(i);return n===!1&&!r?[]:ppt(t,o,n,r)}_notifyStateChanges(t){let r=this._oldCache||[],i=this._cache,n=(o,s)=>o.filter(a=>!s.some(l=>a.plugin.id===l.plugin.id));this._notify(n(r,i),t,"stop"),this._notify(n(i,r),t,"start")}};function fpt(e){let t={},r=[],i=Object.keys(Hu.plugins.items);for(let o=0;o<i.length;o++)r.push(Hu.getPlugin(i[o]));let n=e.plugins||[];for(let o=0;o<n.length;o++){let s=n[o];r.indexOf(s)===-1&&(r.push(s),t[s.id]=!0)}return{plugins:r,localIds:t}}function mpt(e,t){return!t&&e===!1?null:e===!0?{}:e}function ppt(e,{plugins:t,localIds:r},i,n){let o=[],s=e.getContext();for(let a of t){let l=a.id,c=mpt(i[l],n);c!==null&&o.push({plugin:a,options:gpt(e.config,{plugin:a,local:r[l]},c,s)})}return o}function gpt(e,{plugin:t,local:r},i,n){let o=e.pluginScopeKeys(t),s=e.getOptionScopes(i,o);return r&&t.defaults&&s.push(t.defaults),e.createResolver(s,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function PP(e,t){let r=uo.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||r.indexAxis||"x"}function bpt(e,t){let r=e;return e==="_index_"?r=t:e==="_value_"&&(r=t==="x"?"y":"x"),r}function vpt(e,t){return e===t?"_index_":"_value_"}function QU(e){if(e==="x"||e==="y"||e==="r")return e}function ypt(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function NP(e,...t){if(QU(e))return e;for(let r of t){let i=r.axis||ypt(r.position)||e.length>1&&QU(e[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function JU(e,t,r){if(r[t+"AxisID"]===e)return{axis:t}}function _pt(e,t){if(t.data&&t.data.datasets){let r=t.data.datasets.filter(i=>i.xAxisID===e||i.yAxisID===e);if(r.length)return JU(e,"x",r[0])||JU(e,"y",r[0])}return{}}function wpt(e,t){let r=Tm[e.type]||{scales:{}},i=t.scales||{},n=PP(e.type,t),o=Object.create(null);return Object.keys(i).forEach(s=>{let a=i[s];if(!Vr(a))return console.error(`Invalid scale configuration for scale: ${s}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${s}`);let l=NP(s,a,_pt(s,e),uo.scales[a.type]),c=vpt(l,n),d=r.scales||{};o[s]=Ev(Object.create(null),[{axis:l},a,d[l],d[c]])}),e.data.datasets.forEach(s=>{let a=s.type||e.type,l=s.indexAxis||PP(a,t),d=(Tm[a]||{}).scales||{};Object.keys(d).forEach(u=>{let h=bpt(u,l),f=s[h+"AxisID"]||h;o[f]=o[f]||Object.create(null),Ev(o[f],[{axis:h},i[f],d[u]])})}),Object.keys(o).forEach(s=>{let a=o[s];Ev(a,[uo.scales[a.type],uo.scale])}),o}function jW(e){let t=e.options||(e.options={});t.plugins=br(t.plugins,{}),t.scales=wpt(e,t)}function VW(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function Cpt(e){return e=e||{},e.data=VW(e.data),jW(e),e}var tW=new Map,zW=new Set;function x5(e,t){let r=tW.get(e);return r||(r=t(),tW.set(e,r),zW.add(r)),r}var iC=(e,t,r)=>{let i=nf(t,r);i!==void 0&&e.add(i)},LP=class{constructor(t){this._config=Cpt(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=VW(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){let t=this._config;this.clearCache(),jW(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return x5(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,r){return x5(`${t}.transition.${r}`,()=>[[`datasets.${t}.transitions.${r}`,`transitions.${r}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,r){return x5(`${t}-${r}`,()=>[[`datasets.${t}.elements.${r}`,`datasets.${t}`,`elements.${r}`,""]])}pluginScopeKeys(t){let r=t.id,i=this.type;return x5(`${i}-plugin-${r}`,()=>[[`plugins.${r}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,r){let i=this._scopeCache,n=i.get(t);return(!n||r)&&(n=new Map,i.set(t,n)),n}getOptionScopes(t,r,i){let{options:n,type:o}=this,s=this._cachedScopes(t,i),a=s.get(r);if(a)return a;let l=new Set;r.forEach(d=>{t&&(l.add(t),d.forEach(u=>iC(l,t,u))),d.forEach(u=>iC(l,n,u)),d.forEach(u=>iC(l,Tm[o]||{},u)),d.forEach(u=>iC(l,uo,u)),d.forEach(u=>iC(l,m5,u))});let c=Array.from(l);return c.length===0&&c.push(Object.create(null)),zW.has(r)&&s.set(r,c),c}chartOptionScopes(){let{options:t,type:r}=this;return[t,Tm[r]||{},uo.datasets[r]||{},{type:r},uo,m5]}resolveNamedOptions(t,r,i,n=[""]){let o={$shared:!0},{resolver:s,subPrefixes:a}=eW(this._resolverCache,t,n),l=s;if(Spt(s,r)){o.$shared=!1,i=ef(i)?i():i;let c=this.createResolver(t,i,a);l=Wg(s,i,c)}for(let c of r)o[c]=l[c];return o}createResolver(t,r,i=[""],n){let{resolver:o}=eW(this._resolverCache,t,i);return Vr(r)?Wg(o,r,void 0,n):o}};function eW(e,t,r){let i=e.get(t);i||(i=new Map,e.set(t,i));let n=r.join(),o=i.get(n);return o||(o={resolver:b5(t,r),subPrefixes:r.filter(a=>!a.toLowerCase().includes("hover"))},i.set(n,o)),o}var xpt=e=>Vr(e)&&Object.getOwnPropertyNames(e).some(t=>ef(e[t]));function Spt(e,t){let{isScriptable:r,isIndexable:i}=lP(e);for(let n of t){let o=r(n),s=i(n),a=(s||o)&&e[n];if(o&&(ef(a)||xpt(a))||s&&eo(a))return!0}return!1}var Ept="4.4.3",Rpt=["top","bottom","left","right","chartArea"];function iW(e,t){return e==="top"||e==="bottom"||Rpt.indexOf(e)===-1&&t==="x"}function rW(e,t){return function(r,i){return r[e]===i[e]?r[t]-i[t]:r[e]-i[e]}}function nW(e){let t=e.chart,r=t.options.animation;t.notifyPlugins("afterRender"),Gn(r&&r.onComplete,[e],t)}function Tpt(e){let t=e.chart,r=t.options.animation;Gn(r&&r.onProgress,[e],t)}function UW(e){return v5()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}var A5={},oW=e=>{let t=UW(e);return Object.values(A5).filter(r=>r.canvas===t).pop()};function Mpt(e,t,r){let i=Object.keys(e);for(let n of i){let o=+n;if(o>=t){let s=e[n];delete e[n],(r>0||o>t)&&(e[o+r]=s)}}}function Apt(e,t,r,i){return!r||e.type==="mouseout"?null:i?t:e}function S5(e,t,r){return e.options.clip?e[r]:t[r]}function Ipt(e,t){let{xScale:r,yScale:i}=e;return r&&i?{left:S5(r,t,"left"),right:S5(r,t,"right"),top:S5(i,t,"top"),bottom:S5(i,t,"bottom")}:t}var Nv=(()=>{class e{static defaults=uo;static instances=A5;static overrides=Tm;static registry=Hu;static version=Ept;static getChart=oW;static register(...r){Hu.add(...r),sW()}static unregister(...r){Hu.remove(...r),sW()}constructor(r,i){let n=this.config=new LP(i),o=UW(r),s=oW(o);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");let a=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||Xmt(o)),this.platform.updateConfig(n);let l=this.platform.acquireContext(o,a.aspectRatio),c=l&&l.canvas,d=c&&c.height,u=c&&c.width;if(this.id=rU(),this.ctx=l,this.canvas=c,this.width=u,this.height=d,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new OP,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=mU(h=>this.update(h),a.resizeDelay||0),this._dataChanges=[],A5[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}sf.listen(this,"complete",nW),sf.listen(this,"progress",Tpt),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:r,maintainAspectRatio:i},width:n,height:o,_aspectRatio:s}=this;return Qr(r)?i&&s?s:o?n/o:null:r}get data(){return this.config.data}set data(r){this.config.data=r}get options(){return this._options}set options(r){this.config.options=r}get registry(){return Hu}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():hP(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return oP(this.canvas,this.ctx),this}stop(){return sf.stop(this),this}resize(r,i){sf.running(this)?this._resizeBeforeDraw={width:r,height:i}:this._resize(r,i)}_resize(r,i){let n=this.options,o=this.canvas,s=n.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(o,r,i,s),l=n.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,hP(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),Gn(n.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){let i=this.options.scales||{};vn(i,(n,o)=>{n.id=o})}buildOrUpdateScales(){let r=this.options,i=r.scales,n=this.scales,o=Object.keys(n).reduce((a,l)=>(a[l]=!1,a),{}),s=[];i&&(s=s.concat(Object.keys(i).map(a=>{let l=i[a],c=NP(a,l),d=c==="r",u=c==="x";return{options:l,dposition:d?"chartArea":u?"bottom":"left",dtype:d?"radialLinear":u?"category":"linear"}}))),vn(s,a=>{let l=a.options,c=l.id,d=NP(c,l),u=br(l.type,a.dtype);(l.position===void 0||iW(l.position,d)!==iW(a.dposition))&&(l.position=a.dposition),o[c]=!0;let h=null;if(c in n&&n[c].type===u)h=n[c];else{let f=Hu.getScale(u);h=new f({id:c,type:u,ctx:this.ctx,chart:this}),n[h.id]=h}h.init(l,r)}),vn(o,(a,l)=>{a||delete n[l]}),vn(n,a=>{ba.configure(this,a,a.options),ba.addBox(this,a)})}_updateMetasets(){let r=this._metasets,i=this.data.datasets.length,n=r.length;if(r.sort((o,s)=>o.index-s.index),n>i){for(let o=i;o<n;++o)this._destroyDatasetMeta(o);r.splice(i,n-i)}this._sortedMetasets=r.slice(0).sort(rW("order","index"))}_removeUnreferencedMetasets(){let{_metasets:r,data:{datasets:i}}=this;r.length>i.length&&delete this._stacks,r.forEach((n,o)=>{i.filter(s=>s===n._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){let r=[],i=this.data.datasets,n,o;for(this._removeUnreferencedMetasets(),n=0,o=i.length;n<o;n++){let s=i[n],a=this.getDatasetMeta(n),l=s.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(n),a=this.getDatasetMeta(n)),a.type=l,a.indexAxis=s.indexAxis||PP(l,this.options),a.order=s.order||0,a.index=n,a.label=""+s.label,a.visible=this.isDatasetVisible(n),a.controller)a.controller.updateIndex(n),a.controller.linkScales();else{let c=Hu.getController(l),{datasetElementType:d,dataElementType:u}=uo.datasets[l];Object.assign(c,{dataElementType:Hu.getElement(u),datasetElementType:d&&Hu.getElement(d)}),a.controller=new c(this,n),r.push(a.controller)}}return this._updateMetasets(),r}_resetElements(){vn(this.data.datasets,(r,i)=>{this.getDatasetMeta(i).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(r){let i=this.config;i.update();let n=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:r,cancelable:!0})===!1)return;let s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let d=0,u=this.data.datasets.length;d<u;d++){let{controller:h}=this.getDatasetMeta(d),f=!o&&s.indexOf(h)===-1;h.buildOrUpdateElements(f),a=Math.max(+h.getMaxOverflow(),a)}a=this._minPadding=n.layout.autoPadding?a:0,this._updateLayout(a),o||vn(s,d=>{d.reset()}),this._updateDatasets(r),this.notifyPlugins("afterUpdate",{mode:r}),this._layers.sort(rW("z","_idx"));let{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){vn(this.scales,r=>{ba.removeBox(this,r)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let r=this.options,i=new Set(Object.keys(this._listeners)),n=new Set(r.events);(!q4(i,n)||!!this._responsiveListeners!==r.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:r}=this,i=this._getUniformDataChanges()||[];for(let{method:n,start:o,count:s}of i){let a=n==="_removeElements"?-s:s;Mpt(r,o,a)}}_getUniformDataChanges(){let r=this._dataChanges;if(!r||!r.length)return;this._dataChanges=[];let i=this.data.datasets.length,n=s=>new Set(r.filter(a=>a[0]===s).map((a,l)=>l+","+a.splice(1).join(","))),o=n(0);for(let s=1;s<i;s++)if(!q4(o,n(s)))return;return Array.from(o).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(r){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ba.update(this,this.width,this.height,r);let i=this.chartArea,n=i.width<=0||i.height<=0;this._layers=[],vn(this.boxes,o=>{n&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,s)=>{o._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(r){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:r,cancelable:!0})!==!1){for(let i=0,n=this.data.datasets.length;i<n;++i)this.getDatasetMeta(i).controller.configure();for(let i=0,n=this.data.datasets.length;i<n;++i)this._updateDataset(i,ef(r)?r({datasetIndex:i}):r);this.notifyPlugins("afterDatasetsUpdate",{mode:r})}}_updateDataset(r,i){let n=this.getDatasetMeta(r),o={meta:n,index:r,mode:i,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(n.controller._update(i),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(sf.has(this)?this.attached&&!sf.running(this)&&sf.start(this):(this.draw(),nW({chart:this})))}draw(){let r;if(this._resizeBeforeDraw){let{width:n,height:o}=this._resizeBeforeDraw;this._resize(n,o),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let i=this._layers;for(r=0;r<i.length&&i[r].z<=0;++r)i[r].draw(this.chartArea);for(this._drawDatasets();r<i.length;++r)i[r].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(r){let i=this._sortedMetasets,n=[],o,s;for(o=0,s=i.length;o<s;++o){let a=i[o];(!r||a.visible)&&n.push(a)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let r=this.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i)this._drawDataset(r[i]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(r){let i=this.ctx,n=r._clip,o=!n.disabled,s=Ipt(r,this.chartArea),a={meta:r,index:r.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(o&&Xw(i,{left:n.left===!1?0:s.left-n.left,right:n.right===!1?this.width:s.right+n.right,top:n.top===!1?0:s.top-n.top,bottom:n.bottom===!1?this.height:s.bottom+n.bottom}),r.controller.draw(),o&&Zw(i),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(r){return Pu(r,this.chartArea,this._minPadding)}getElementsAtEventForMode(r,i,n,o){let s=kmt.modes[i];return typeof s=="function"?s(this,r,n,o):[]}getDatasetMeta(r){let i=this.data.datasets[r],n=this._metasets,o=n.filter(s=>s&&s._dataset===i).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:r,_dataset:i,_parsed:[],_sorted:!1},n.push(o)),o}getContext(){return this.$context||(this.$context=of(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(r){let i=this.data.datasets[r];if(!i)return!1;let n=this.getDatasetMeta(r);return typeof n.hidden=="boolean"?!n.hidden:!i.hidden}setDatasetVisibility(r,i){let n=this.getDatasetMeta(r);n.hidden=!i}toggleDataVisibility(r){this._hiddenIndices[r]=!this._hiddenIndices[r]}getDataVisibility(r){return!this._hiddenIndices[r]}_updateVisibility(r,i,n){let o=n?"show":"hide",s=this.getDatasetMeta(r),a=s.controller._resolveAnimations(void 0,o);Rv(i)?(s.data[i].hidden=!n,this.update()):(this.setDatasetVisibility(r,n),a.update(s,{visible:n}),this.update(l=>l.datasetIndex===r?o:void 0))}hide(r,i){this._updateVisibility(r,i,!1)}show(r,i){this._updateVisibility(r,i,!0)}_destroyDatasetMeta(r){let i=this._metasets[r];i&&i.controller&&i.controller._destroy(),delete this._metasets[r]}_stop(){let r,i;for(this.stop(),sf.remove(this),r=0,i=this.data.datasets.length;r<i;++r)this._destroyDatasetMeta(r)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:r,ctx:i}=this;this._stop(),this.config.clearCache(),r&&(this.unbindEvents(),oP(r,i),this.platform.releaseContext(i),this.canvas=null,this.ctx=null),delete A5[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...r){return this.canvas.toDataURL(...r)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let r=this._listeners,i=this.platform,n=(s,a)=>{i.addEventListener(this,s,a),r[s]=a},o=(s,a,l)=>{s.offsetX=a,s.offsetY=l,this._eventHandler(s)};vn(this.options.events,s=>n(s,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let r=this._responsiveListeners,i=this.platform,n=(c,d)=>{i.addEventListener(this,c,d),r[c]=d},o=(c,d)=>{r[c]&&(i.removeEventListener(this,c,d),delete r[c])},s=(c,d)=>{this.canvas&&this.resize(c,d)},a,l=()=>{o("attach",l),this.attached=!0,this.resize(),n("resize",s),n("detach",a)};a=()=>{this.attached=!1,o("resize",s),this._stop(),this._resize(0,0),n("attach",l)},i.isAttached(this.canvas)?l():a()}unbindEvents(){vn(this._listeners,(r,i)=>{this.platform.removeEventListener(this,i,r)}),this._listeners={},vn(this._responsiveListeners,(r,i)=>{this.platform.removeEventListener(this,i,r)}),this._responsiveListeners=void 0}updateHoverStyle(r,i,n){let o=n?"set":"remove",s,a,l,c;for(i==="dataset"&&(s=this.getDatasetMeta(r[0].datasetIndex),s.controller["_"+o+"DatasetHoverStyle"]()),l=0,c=r.length;l<c;++l){a=r[l];let d=a&&this.getDatasetMeta(a.datasetIndex).controller;d&&d[o+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(r){let i=this._active||[],n=r.map(({datasetIndex:s,index:a})=>{let l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[a],index:a}});!Gw(n,i)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,i))}notifyPlugins(r,i,n){return this._plugins.notify(this,r,i,n)}isPluginEnabled(r){return this._plugins._cache.filter(i=>i.plugin.id===r).length===1}_updateHoverStyles(r,i,n){let o=this.options.hover,s=(c,d)=>c.filter(u=>!d.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),a=s(i,r),l=n?r:s(r,i);a.length&&this.updateHoverStyle(a,o.mode,!1),l.length&&o.mode&&this.updateHoverStyle(l,o.mode,!0)}_eventHandler(r,i){let n={event:r,replay:i,cancelable:!0,inChartArea:this.isPointInArea(r)},o=a=>(a.options.events||this.options.events).includes(r.native.type);if(this.notifyPlugins("beforeEvent",n,o)===!1)return;let s=this._handleEvent(r,i,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,o),(s||n.changed)&&this.render(),this}_handleEvent(r,i,n){let{_active:o=[],options:s}=this,a=i,l=this._getActiveElements(r,o,n,a),c=sU(r),d=Apt(r,this._lastEvent,n,c);n&&(this._lastEvent=null,Gn(s.onHover,[r,l,this],this),c&&Gn(s.onClick,[r,l,this],this));let u=!Gw(l,o);return(u||i)&&(this._active=l,this._updateHoverStyles(l,o,i)),this._lastEvent=d,u}_getActiveElements(r,i,n,o){if(r.type==="mouseout")return[];if(!n)return i;let s=this.options.hover;return this.getElementsAtEventForMode(r,s.mode,s,o)}}return e})();function sW(){return vn(Nv.instances,e=>e._plugins.invalidate())}function kpt(e,t,r){let{startAngle:i,pixelMargin:n,x:o,y:s,outerRadius:a,innerRadius:l}=t,c=n/a;e.beginPath(),e.arc(o,s,a,i-c,r+c),l>n?(c=n/l,e.arc(o,s,l,r+c,i-c,!0)):e.arc(o,s,n,r+Bo,i-Bo),e.closePath(),e.clip()}function Dpt(e){return g5(e,["outerStart","outerEnd","innerStart","innerEnd"])}function Opt(e,t,r,i){let n=Dpt(e.options.borderRadius),o=(r-t)/2,s=Math.min(o,i*t/2),a=l=>{let c=(r-Math.min(o,l))*i/2;return gs(l,0,Math.min(o,c))};return{outerStart:a(n.outerStart),outerEnd:a(n.outerEnd),innerStart:gs(n.innerStart,0,s),innerEnd:gs(n.innerEnd,0,s)}}function Dv(e,t,r,i){return{x:r+e*Math.cos(t),y:i+e*Math.sin(t)}}function O5(e,t,r,i,n,o){let{x:s,y:a,startAngle:l,pixelMargin:c,innerRadius:d}=t,u=Math.max(t.outerRadius+i+r-c,0),h=d>0?d+i+r+c:0,f=0,m=n-l;if(i){let y=d>0?d-i:0,C=u>0?u-i:0,w=(y+C)/2,S=w!==0?m*w/(w+i):m;f=(m-S)/2}let g=Math.max(.001,m*u-r/io)/u,p=(m-g)/2,b=l+p+f,_=n-p-f,{outerStart:E,outerEnd:O,innerStart:V,innerEnd:H}=Opt(t,h,u,_-b),F=u-E,L=u-O,$=b+E/F,W=_-O/L,x=h+V,R=h+H,B=b+V/x,v=_-H/R;if(e.beginPath(),o){let y=($+W)/2;if(e.arc(s,a,u,$,y),e.arc(s,a,u,y,W),O>0){let M=Dv(L,W,s,a);e.arc(M.x,M.y,O,W,_+Bo)}let C=Dv(R,_,s,a);if(e.lineTo(C.x,C.y),H>0){let M=Dv(R,v,s,a);e.arc(M.x,M.y,H,_+Bo,v+Math.PI)}let w=(_-H/h+(b+V/h))/2;if(e.arc(s,a,h,_-H/h,w,!0),e.arc(s,a,h,w,b+V/h,!0),V>0){let M=Dv(x,B,s,a);e.arc(M.x,M.y,V,B+Math.PI,b-Bo)}let S=Dv(F,b,s,a);if(e.lineTo(S.x,S.y),E>0){let M=Dv(F,$,s,a);e.arc(M.x,M.y,E,b-Bo,$)}}else{e.moveTo(s,a);let y=Math.cos($)*u+s,C=Math.sin($)*u+a;e.lineTo(y,C);let w=Math.cos(W)*u+s,S=Math.sin(W)*u+a;e.lineTo(w,S)}e.closePath()}function Ppt(e,t,r,i,n){let{fullCircles:o,startAngle:s,circumference:a}=t,l=t.endAngle;if(o){O5(e,t,r,i,l,n);for(let c=0;c<o;++c)e.fill();isNaN(a)||(l=s+(a%ro||ro))}return O5(e,t,r,i,l,n),e.fill(),l}function Npt(e,t,r,i,n){let{fullCircles:o,startAngle:s,circumference:a,options:l}=t,{borderWidth:c,borderJoinStyle:d,borderDash:u,borderDashOffset:h}=l,f=l.borderAlign==="inner";if(!c)return;e.setLineDash(u||[]),e.lineDashOffset=h,f?(e.lineWidth=c*2,e.lineJoin=d||"round"):(e.lineWidth=c,e.lineJoin=d||"bevel");let m=t.endAngle;if(o){O5(e,t,r,i,m,n);for(let g=0;g<o;++g)e.stroke();isNaN(a)||(m=s+(a%ro||ro))}f&&kpt(e,t,m),o||(O5(e,t,r,i,m,n),e.stroke())}var FP=class extends Ed{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,r,i){let n=this.getProps(["x","y"],i),{angle:o,distance:s}=X4(n,{x:t,y:r}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:d,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),h=(this.options.spacing+this.options.borderWidth)/2,m=br(u,l-a)>=ro||Mv(o,a,l),g=Lu(s,c+h,d+h);return m&&g}getCenterPoint(t){let{x:r,y:i,startAngle:n,endAngle:o,innerRadius:s,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:l,spacing:c}=this.options,d=(n+o)/2,u=(s+a+c+l)/2;return{x:r+Math.cos(d)*u,y:i+Math.sin(d)*u}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){let{options:r,circumference:i}=this,n=(r.offset||0)/4,o=(r.spacing||0)/2,s=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=i>ro?Math.floor(i/ro):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();let a=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(a)*n,Math.sin(a)*n);let l=1-Math.sin(Math.min(io,i||0)),c=n*l;t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,Ppt(t,this,c,o,s),Npt(t,this,c,o,s),t.restore()}};function WW(e,t,r=t){e.lineCap=br(r.borderCapStyle,t.borderCapStyle),e.setLineDash(br(r.borderDash,t.borderDash)),e.lineDashOffset=br(r.borderDashOffset,t.borderDashOffset),e.lineJoin=br(r.borderJoinStyle,t.borderJoinStyle),e.lineWidth=br(r.borderWidth,t.borderWidth),e.strokeStyle=br(r.borderColor,t.borderColor)}function Lpt(e,t,r){e.lineTo(r.x,r.y)}function Fpt(e){return e.stepped?vU:e.tension||e.cubicInterpolationMode==="monotone"?yU:Lpt}function YW(e,t,r={}){let i=e.length,{start:n=0,end:o=i-1}=r,{start:s,end:a}=t,l=Math.max(n,s),c=Math.min(o,a),d=n<s&&o<s||n>a&&o>a;return{count:i,start:l,loop:t.loop,ilen:c<l&&!d?i+c-l:c-l}}function Hpt(e,t,r,i){let{points:n,options:o}=t,{count:s,start:a,loop:l,ilen:c}=YW(n,r,i),d=Fpt(o),{move:u=!0,reverse:h}=i||{},f,m,g;for(f=0;f<=c;++f)m=n[(a+(h?c-f:f))%s],!m.skip&&(u?(e.moveTo(m.x,m.y),u=!1):d(e,g,m,h,o.stepped),g=m);return l&&(m=n[(a+(h?c:0))%s],d(e,g,m,h,o.stepped)),!!l}function Bpt(e,t,r,i){let n=t.points,{count:o,start:s,ilen:a}=YW(n,r,i),{move:l=!0,reverse:c}=i||{},d=0,u=0,h,f,m,g,p,b,_=O=>(s+(c?a-O:O))%o,E=()=>{g!==p&&(e.lineTo(d,p),e.lineTo(d,g),e.lineTo(d,b))};for(l&&(f=n[_(0)],e.moveTo(f.x,f.y)),h=0;h<=a;++h){if(f=n[_(h)],f.skip)continue;let O=f.x,V=f.y,H=O|0;H===m?(V<g?g=V:V>p&&(p=V),d=(u*d+O)/++u):(E(),e.lineTo(O,V),m=H,u=0,g=p=V),b=V}E()}function HP(e){let t=e.options,r=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!r?Bpt:Hpt}function jpt(e){return e.stepped?MU:e.tension||e.cubicInterpolationMode==="monotone"?AU:Rm}function Vpt(e,t,r,i){let n=t._path;n||(n=t._path=new Path2D,t.path(n,r,i)&&n.closePath()),WW(e,t.options),e.stroke(n)}function zpt(e,t,r,i){let{segments:n,options:o}=t,s=HP(t);for(let a of n)WW(e,o,a.style),e.beginPath(),s(e,t,a,{start:r,end:r+i-1})&&e.closePath(),e.stroke()}var Upt=typeof Path2D=="function";function Wpt(e,t,r,i){Upt&&!t.options.segment?Vpt(e,t,r,i):zpt(e,t,r,i)}var L5=(()=>{class e extends Ed{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:r=>r!=="borderDash"&&r!=="fill"};constructor(r){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,r&&Object.assign(this,r)}updateControlPoints(r,i){let n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){let o=n.spanGaps?this._loop:this._fullLoop;EU(this._points,n,r,o,i),this._pointsUpdated=!0}}set points(r){this._points=r,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=kU(this,this.options.segment))}first(){let r=this.segments,i=this.points;return r.length&&i[r[0].start]}last(){let r=this.segments,i=this.points,n=r.length;return n&&i[r[n-1].end]}interpolate(r,i){let n=this.options,o=r[i],s=this.points,a=bP(this,{property:i,start:o,end:o});if(!a.length)return;let l=[],c=jpt(n),d,u;for(d=0,u=a.length;d<u;++d){let{start:h,end:f}=a[d],m=s[h],g=s[f];if(m===g){l.push(m);continue}let p=Math.abs((o-m[i])/(g[i]-m[i])),b=c(m,g,p,n.stepped);b[i]=r[i],l.push(b)}return l.length===1?l[0]:l}pathSegment(r,i,n){return HP(this)(r,this,i,n)}path(r,i,n){let o=this.segments,s=HP(this),a=this._loop;i=i||0,n=n||this.points.length-i;for(let l of o)a&=s(r,this,l,{start:i,end:i+n-1});return!!a}draw(r,i,n,o){let s=this.options||{};(this.points||[]).length&&s.borderWidth&&(r.save(),Wpt(r,this,n,o),r.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return e})();function aW(e,t,r,i){let n=e.options,{[r]:o}=e.getProps([r],i);return Math.abs(t-o)<n.radius+n.hitRadius}var Ypt=(()=>{class e extends Ed{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(r){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,r&&Object.assign(this,r)}inRange(r,i,n){let o=this.options,{x:s,y:a}=this.getProps(["x","y"],n);return Math.pow(r-s,2)+Math.pow(i-a,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(r,i){return aW(this,r,"x",i)}inYRange(r,i){return aW(this,r,"y",i)}getCenterPoint(r){let{x:i,y:n}=this.getProps(["x","y"],r);return{x:i,y:n}}size(r){r=r||this.options||{};let i=r.radius||0;i=Math.max(i,i&&r.hoverRadius||0);let n=i&&r.borderWidth||0;return(i+n)*2}draw(r,i){let n=this.options;this.skip||n.radius<.1||!Pu(this,i,this.size(n)/2)||(r.strokeStyle=n.borderColor,r.lineWidth=n.borderWidth,r.fillStyle=n.backgroundColor,p5(r,n,this.x,this.y))}getRange(){let r=this.options||{};return r.radius+r.hitRadius}}return e})();function qW(e,t){let{x:r,y:i,base:n,width:o,height:s}=e.getProps(["x","y","base","width","height"],t),a,l,c,d,u;return e.horizontal?(u=s/2,a=Math.min(r,n),l=Math.max(r,n),c=i-u,d=i+u):(u=o/2,a=r-u,l=r+u,c=Math.min(i,n),d=Math.max(i,n)),{left:a,top:c,right:l,bottom:d}}function Dm(e,t,r,i){return e?0:gs(t,r,i)}function qpt(e,t,r){let i=e.options.borderWidth,n=e.borderSkipped,o=aP(i);return{t:Dm(n.top,o.top,0,r),r:Dm(n.right,o.right,0,t),b:Dm(n.bottom,o.bottom,0,r),l:Dm(n.left,o.left,0,t)}}function $pt(e,t,r){let{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),n=e.options.borderRadius,o=Im(n),s=Math.min(t,r),a=e.borderSkipped,l=i||Vr(n);return{topLeft:Dm(!l||a.top||a.left,o.topLeft,0,s),topRight:Dm(!l||a.top||a.right,o.topRight,0,s),bottomLeft:Dm(!l||a.bottom||a.left,o.bottomLeft,0,s),bottomRight:Dm(!l||a.bottom||a.right,o.bottomRight,0,s)}}function Gpt(e){let t=qW(e),r=t.right-t.left,i=t.bottom-t.top,n=qpt(e,r/2,i/2),o=$pt(e,r/2,i/2);return{outer:{x:t.left,y:t.top,w:r,h:i,radius:o},inner:{x:t.left+n.l,y:t.top+n.t,w:r-n.l-n.r,h:i-n.t-n.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(n.t,n.l)),topRight:Math.max(0,o.topRight-Math.max(n.t,n.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(n.b,n.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(n.b,n.r))}}}}function SP(e,t,r,i){let n=t===null,o=r===null,a=e&&!(n&&o)&&qW(e,i);return a&&(n||Lu(t,a.left,a.right))&&(o||Lu(r,a.top,a.bottom))}function Kpt(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function Xpt(e,t){e.rect(t.x,t.y,t.w,t.h)}function EP(e,t,r={}){let i=e.x!==r.x?-t:0,n=e.y!==r.y?-t:0,o=(e.x+e.w!==r.x+r.w?t:0)-i,s=(e.y+e.h!==r.y+r.h?t:0)-n;return{x:e.x+i,y:e.y+n,w:e.w+o,h:e.h+s,radius:e.radius}}var BP=class extends Ed{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){let{inflateAmount:r,options:{borderColor:i,backgroundColor:n}}=this,{inner:o,outer:s}=Gpt(this),a=Kpt(s.radius)?Iv:Xpt;t.save(),(s.w!==o.w||s.h!==o.h)&&(t.beginPath(),a(t,EP(s,r,o)),t.clip(),a(t,EP(o,-r,s)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),a(t,EP(o,r)),t.fillStyle=n,t.fill(),t.restore()}inRange(t,r,i){return SP(this,t,r,i)}inXRange(t,r){return SP(this,t,null,r)}inYRange(t,r){return SP(this,null,t,r)}getCenterPoint(t){let{x:r,y:i,base:n,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(r+n)/2:r,y:o?i:(i+n)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}},Zpt=Object.freeze({__proto__:null,ArcElement:FP,BarElement:BP,LineElement:L5,PointElement:Ypt}),jP=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],lW=jP.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function $W(e){return jP[e%jP.length]}function GW(e){return lW[e%lW.length]}function Qpt(e,t){return e.borderColor=$W(t),e.backgroundColor=GW(t),++t}function Jpt(e,t){return e.backgroundColor=e.data.map(()=>$W(t++)),t}function tgt(e,t){return e.backgroundColor=e.data.map(()=>GW(t++)),t}function egt(e){let t=0;return(r,i)=>{let n=e.getDatasetMeta(i).controller;n instanceof GP?t=Jpt(r,t):n instanceof NW?t=tgt(r,t):n&&(t=Qpt(r,t))}}function cW(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function igt(e){return e&&(e.borderColor||e.backgroundColor)}var rgt={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,r){if(!r.enabled)return;let{data:{datasets:i},options:n}=e.config,{elements:o}=n;if(!r.forceOverride&&(cW(i)||igt(n)||o&&cW(o)))return;let s=egt(e);i.forEach(s)}};function ngt(e,t,r,i,n){let o=n.samples||i;if(o>=r)return e.slice(t,t+r);let s=[],a=(r-2)/(o-2),l=0,c=t+r-1,d=t,u,h,f,m,g;for(s[l++]=e[d],u=0;u<o-2;u++){let p=0,b=0,_,E=Math.floor((u+1)*a)+1+t,O=Math.min(Math.floor((u+2)*a)+1,r)+t,V=O-E;for(_=E;_<O;_++)p+=e[_].x,b+=e[_].y;p/=V,b/=V;let H=Math.floor(u*a)+1+t,F=Math.min(Math.floor((u+1)*a)+1,r)+t,{x:L,y:$}=e[d];for(f=m=-1,_=H;_<F;_++)m=.5*Math.abs((L-p)*(e[_].y-$)-(L-e[_].x)*(b-$)),m>f&&(f=m,h=e[_],g=_);s[l++]=h,d=g}return s[l++]=e[c],s}function ogt(e,t,r,i){let n=0,o=0,s,a,l,c,d,u,h,f,m,g,p=[],b=t+r-1,_=e[t].x,O=e[b].x-_;for(s=t;s<t+r;++s){a=e[s],l=(a.x-_)/O*i,c=a.y;let V=l|0;if(V===d)c<m?(m=c,u=s):c>g&&(g=c,h=s),n=(o*n+a.x)/++o;else{let H=s-1;if(!Qr(u)&&!Qr(h)){let F=Math.min(u,h),L=Math.max(u,h);F!==f&&F!==H&&p.push(je(Vt({},e[F]),{x:n})),L!==f&&L!==H&&p.push(je(Vt({},e[L]),{x:n}))}s>0&&H!==f&&p.push(e[H]),p.push(a),d=V,o=0,m=g=c,u=h=f=s}}return p}function KW(e){if(e._decimated){let t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function dW(e){e.data.datasets.forEach(t=>{KW(t)})}function sgt(e,t){let r=t.length,i=0,n,{iScale:o}=e,{min:s,max:a,minDefined:l,maxDefined:c}=o.getUserBounds();return l&&(i=gs(Ou(t,o.axis,s).lo,0,r-1)),c?n=gs(Ou(t,o.axis,a).hi+1,i,r)-i:n=r-i,{start:i,count:n}}var agt={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,r)=>{if(!r.enabled){dW(e);return}let i=e.width;e.data.datasets.forEach((n,o)=>{let{_data:s,indexAxis:a}=n,l=e.getDatasetMeta(o),c=s||n.data;if(kv([a,e.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;let d=e.scales[l.xAxisID];if(d.type!=="linear"&&d.type!=="time"||e.options.parsing)return;let{start:u,count:h}=sgt(l,c),f=r.threshold||4*i;if(h<=f){KW(n);return}Qr(s)&&(n._data=c,delete n.data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}}));let m;switch(r.algorithm){case"lttb":m=ngt(c,u,h,i,r);break;case"min-max":m=ogt(c,u,h,i);break;default:throw new Error(`Unsupported decimation algorithm '${r.algorithm}'`)}n._decimated=m})},destroy(e){dW(e)}};function lgt(e,t,r){let i=e.segments,n=e.points,o=t.points,s=[];for(let a of i){let{start:l,end:c}=a;c=KP(l,c,n);let d=VP(r,n[l],n[c],a.loop);if(!t.segments){s.push({source:a,target:d,start:n[l],end:n[c]});continue}let u=bP(t,d);for(let h of u){let f=VP(r,o[h.start],o[h.end],h.loop),m=gP(a,n,f);for(let g of m)s.push({source:g,target:h,start:{[r]:uW(d,f,"start",Math.max)},end:{[r]:uW(d,f,"end",Math.min)}})}}return s}function VP(e,t,r,i){if(i)return;let n=t[e],o=r[e];return e==="angle"&&(n=hl(n),o=hl(o)),{property:e,start:n,end:o}}function cgt(e,t){let{x:r=null,y:i=null}=e||{},n=t.points,o=[];return t.segments.forEach(({start:s,end:a})=>{a=KP(s,a,n);let l=n[s],c=n[a];i!==null?(o.push({x:l.x,y:i}),o.push({x:c.x,y:i})):r!==null&&(o.push({x:r,y:l.y}),o.push({x:r,y:c.y}))}),o}function KP(e,t,r){for(;t>e;t--){let i=r[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function uW(e,t,r,i){return e&&t?i(e[r],t[r]):e?e[r]:t?t[r]:0}function XW(e,t){let r=[],i=!1;return eo(e)?(i=!0,r=e):r=cgt(e,t),r.length?new L5({points:r,options:{tension:0},_loop:i,_fullLoop:i}):null}function hW(e){return e&&e.fill!==!1}function dgt(e,t,r){let n=e[t].fill,o=[t],s;if(!r)return n;for(;n!==!1&&o.indexOf(n)===-1;){if(!To(n))return n;if(s=e[n],!s)return!1;if(s.visible)return n;o.push(n),n=s.fill}return!1}function ugt(e,t,r){let i=pgt(e);if(Vr(i))return isNaN(i.value)?!1:i;let n=parseFloat(i);return To(n)&&Math.floor(n)===n?hgt(i[0],t,n,r):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function hgt(e,t,r,i){return(e==="-"||e==="+")&&(r=t+r),r===t||r<0||r>=i?!1:r}function fgt(e,t){let r=null;return e==="start"?r=t.bottom:e==="end"?r=t.top:Vr(e)?r=t.getPixelForValue(e.value):t.getBasePixel&&(r=t.getBasePixel()),r}function mgt(e,t,r){let i;return e==="start"?i=r:e==="end"?i=t.options.reverse?t.min:t.max:Vr(e)?i=e.value:i=t.getBaseValue(),i}function pgt(e){let t=e.options,r=t.fill,i=br(r&&r.target,r);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function ggt(e){let{scale:t,index:r,line:i}=e,n=[],o=i.segments,s=i.points,a=bgt(t,r);a.push(XW({x:null,y:t.bottom},i));for(let l=0;l<o.length;l++){let c=o[l];for(let d=c.start;d<=c.end;d++)vgt(n,s[d],a)}return new L5({points:n,options:{}})}function bgt(e,t){let r=[],i=e.getMatchingVisibleMetas("line");for(let n=0;n<i.length;n++){let o=i[n];if(o.index===t)break;o.hidden||r.unshift(o.dataset)}return r}function vgt(e,t,r){let i=[];for(let n=0;n<r.length;n++){let o=r[n],{first:s,last:a,point:l}=ygt(o,t,"x");if(!(!l||s&&a)){if(s)i.unshift(l);else if(e.push(l),!a)break}}e.push(...i)}function ygt(e,t,r){let i=e.interpolate(t,r);if(!i)return{};let n=i[r],o=e.segments,s=e.points,a=!1,l=!1;for(let c=0;c<o.length;c++){let d=o[c],u=s[d.start][r],h=s[d.end][r];if(Lu(n,u,h)){a=n===u,l=n===h;break}}return{first:a,last:l,point:i}}var P5=class{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,r,i){let{x:n,y:o,radius:s}=this;return r=r||{start:0,end:ro},t.arc(n,o,s,r.end,r.start,!0),!i.bounds}interpolate(t){let{x:r,y:i,radius:n}=this,o=t.angle;return{x:r+Math.cos(o)*n,y:i+Math.sin(o)*n,angle:o}}};function _gt(e){let{chart:t,fill:r,line:i}=e;if(To(r))return wgt(t,r);if(r==="stack")return ggt(e);if(r==="shape")return!0;let n=Cgt(e);return n instanceof P5?n:XW(n,i)}function wgt(e,t){let r=e.getDatasetMeta(t);return r&&e.isDatasetVisible(t)?r.dataset:null}function Cgt(e){return(e.scale||{}).getPointPositionForValue?Sgt(e):xgt(e)}function xgt(e){let{scale:t={},fill:r}=e,i=fgt(r,t);if(To(i)){let n=t.isHorizontal();return{x:n?i:null,y:n?null:i}}return null}function Sgt(e){let{scale:t,fill:r}=e,i=t.options,n=t.getLabels().length,o=i.reverse?t.max:t.min,s=mgt(r,t,o),a=[];if(i.grid.circular){let l=t.getPointPositionForValue(0,o);return new P5({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(s)})}for(let l=0;l<n;++l)a.push(t.getPointPositionForValue(l,s));return a}function RP(e,t,r){let i=_gt(t),{line:n,scale:o,axis:s}=t,a=n.options,l=a.fill,c=a.backgroundColor,{above:d=c,below:u=c}=l||{};i&&n.points.length&&(Xw(e,r),Egt(e,{line:n,target:i,above:d,below:u,area:r,scale:o,axis:s}),Zw(e))}function Egt(e,t){let{line:r,target:i,above:n,below:o,area:s,scale:a}=t,l=r._loop?"angle":t.axis;e.save(),l==="x"&&o!==n&&(fW(e,i,s.top),mW(e,{line:r,target:i,color:n,scale:a,property:l}),e.restore(),e.save(),fW(e,i,s.bottom)),mW(e,{line:r,target:i,color:o,scale:a,property:l}),e.restore()}function fW(e,t,r){let{segments:i,points:n}=t,o=!0,s=!1;e.beginPath();for(let a of i){let{start:l,end:c}=a,d=n[l],u=n[KP(l,c,n)];o?(e.moveTo(d.x,d.y),o=!1):(e.lineTo(d.x,r),e.lineTo(d.x,d.y)),s=!!t.pathSegment(e,a,{move:s}),s?e.closePath():e.lineTo(u.x,r)}e.lineTo(t.first().x,r),e.closePath(),e.clip()}function mW(e,t){let{line:r,target:i,property:n,color:o,scale:s}=t,a=lgt(r,i,n);for(let{source:l,target:c,start:d,end:u}of a){let{style:{backgroundColor:h=o}={}}=l,f=i!==!0;e.save(),e.fillStyle=h,Rgt(e,s,f&&VP(n,d,u)),e.beginPath();let m=!!r.pathSegment(e,l),g;if(f){m?e.closePath():pW(e,i,u,n);let p=!!i.pathSegment(e,c,{move:m,reverse:!0});g=m&&p,g||pW(e,i,d,n)}e.closePath(),e.fill(g?"evenodd":"nonzero"),e.restore()}}function Rgt(e,t,r){let{top:i,bottom:n}=t.chart.chartArea,{property:o,start:s,end:a}=r||{};o==="x"&&(e.beginPath(),e.rect(s,i,a-s,n-i),e.clip())}function pW(e,t,r,i){let n=t.interpolate(r,i);n&&e.lineTo(n.x,n.y)}var Tgt={id:"filler",afterDatasetsUpdate(e,t,r){let i=(e.data.datasets||[]).length,n=[],o,s,a,l;for(s=0;s<i;++s)o=e.getDatasetMeta(s),a=o.dataset,l=null,a&&a.options&&a instanceof L5&&(l={visible:e.isDatasetVisible(s),index:s,fill:ugt(a,s,i),chart:e,axis:o.controller.options.indexAxis,scale:o.vScale,line:a}),o.$filler=l,n.push(l);for(s=0;s<i;++s)l=n[s],!(!l||l.fill===!1)&&(l.fill=dgt(n,s,r.propagate))},beforeDraw(e,t,r){let i=r.drawTime==="beforeDraw",n=e.getSortedVisibleDatasetMetas(),o=e.chartArea;for(let s=n.length-1;s>=0;--s){let a=n[s].$filler;a&&(a.line.updateControlPoints(o,a.axis),i&&a.fill&&RP(e.ctx,a,o))}},beforeDatasetsDraw(e,t,r){if(r.drawTime!=="beforeDatasetsDraw")return;let i=e.getSortedVisibleDatasetMetas();for(let n=i.length-1;n>=0;--n){let o=i[n].$filler;hW(o)&&RP(e.ctx,o,e.chartArea)}},beforeDatasetDraw(e,t,r){let i=t.meta.$filler;!hW(i)||r.drawTime!=="beforeDatasetDraw"||RP(e.ctx,i,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},gW=(e,t)=>{let{boxHeight:r=t,boxWidth:i=t}=e;return e.usePointStyle&&(r=Math.min(r,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:r,itemHeight:Math.max(t,r)}},Mgt=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index,N5=class extends Ed{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,r,i){this.maxWidth=t,this.maxHeight=r,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let t=this.options.labels||{},r=Gn(t.generateLabels,[this.chart],this)||[];t.filter&&(r=r.filter(i=>t.filter(i,this.chart.data))),t.sort&&(r=r.sort((i,n)=>t.sort(i,n,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){let{options:t,ctx:r}=this;if(!t.display){this.width=this.height=0;return}let i=t.labels,n=ls(i.font),o=n.size,s=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=gW(i,o),c,d;r.font=n.string,this.isHorizontal()?(c=this.maxWidth,d=this._fitRows(s,o,a,l)+10):(d=this.maxHeight,c=this._fitCols(s,n,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(d,t.maxHeight||this.maxHeight)}_fitRows(t,r,i,n){let{ctx:o,maxWidth:s,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],d=n+a,u=t;o.textAlign="left",o.textBaseline="middle";let h=-1,f=-d;return this.legendItems.forEach((m,g)=>{let p=i+r/2+o.measureText(m.text).width;(g===0||c[c.length-1]+p+2*a>s)&&(u+=d,c[c.length-(g>0?0:1)]=0,f+=d,h++),l[g]={left:0,top:f,row:h,width:p,height:n},c[c.length-1]+=p+a}),u}_fitCols(t,r,i,n){let{ctx:o,maxHeight:s,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],d=s-t,u=a,h=0,f=0,m=0,g=0;return this.legendItems.forEach((p,b)=>{let{itemWidth:_,itemHeight:E}=Agt(i,r,o,p,n);b>0&&f+E+2*a>d&&(u+=h+a,c.push({width:h,height:f}),m+=h+a,g++,h=f=0),l[b]={left:m,top:f,col:g,width:_,height:E},h=Math.max(h,_),f+=E+a}),u+=h,c.push({width:h,height:f}),u}adjustHitBoxes(){if(!this.options.display)return;let t=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:i,labels:{padding:n},rtl:o}}=this,s=qg(o,this.left,this.width);if(this.isHorizontal()){let a=0,l=ia(i,this.left+n,this.right-this.lineWidths[a]);for(let c of r)a!==c.row&&(a=c.row,l=ia(i,this.left+n,this.right-this.lineWidths[a])),c.top+=this.top+t+n,c.left=s.leftForLtr(s.x(l),c.width),l+=c.width+n}else{let a=0,l=ia(i,this.top+t+n,this.bottom-this.columnSizes[a].height);for(let c of r)c.col!==a&&(a=c.col,l=ia(i,this.top+t+n,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+n,c.left=s.leftForLtr(s.x(c.left),c.width),l+=c.height+n}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let t=this.ctx;Xw(t,this),this._draw(),Zw(t)}}_draw(){let{options:t,columnSizes:r,lineWidths:i,ctx:n}=this,{align:o,labels:s}=t,a=uo.color,l=qg(t.rtl,this.left,this.width),c=ls(s.font),{padding:d}=s,u=c.size,h=u/2,f;this.drawTitle(),n.textAlign=l.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=c.string;let{boxWidth:m,boxHeight:g,itemHeight:p}=gW(s,u),b=function(H,F,L){if(isNaN(m)||m<=0||isNaN(g)||g<0)return;n.save();let $=br(L.lineWidth,1);if(n.fillStyle=br(L.fillStyle,a),n.lineCap=br(L.lineCap,"butt"),n.lineDashOffset=br(L.lineDashOffset,0),n.lineJoin=br(L.lineJoin,"miter"),n.lineWidth=$,n.strokeStyle=br(L.strokeStyle,a),n.setLineDash(br(L.lineDash,[])),s.usePointStyle){let W={radius:g*Math.SQRT2/2,pointStyle:L.pointStyle,rotation:L.rotation,borderWidth:$},x=l.xPlus(H,m/2),R=F+h;sP(n,W,x,R,s.pointStyleWidth&&m)}else{let W=F+Math.max((u-g)/2,0),x=l.leftForLtr(H,m),R=Im(L.borderRadius);n.beginPath(),Object.values(R).some(B=>B!==0)?Iv(n,{x,y:W,w:m,h:g,radius:R}):n.rect(x,W,m,g),n.fill(),$!==0&&n.stroke()}n.restore()},_=function(H,F,L){Am(n,L.text,H,F+p/2,c,{strikethrough:L.hidden,textAlign:l.textAlign(L.textAlign)})},E=this.isHorizontal(),O=this._computeTitleHeight();E?f={x:ia(o,this.left+d,this.right-i[0]),y:this.top+d+O,line:0}:f={x:this.left+d,y:ia(o,this.top+O+d,this.bottom-r[0].height),line:0},mP(this.ctx,t.textDirection);let V=p+d;this.legendItems.forEach((H,F)=>{n.strokeStyle=H.fontColor,n.fillStyle=H.fontColor;let L=n.measureText(H.text).width,$=l.textAlign(H.textAlign||(H.textAlign=s.textAlign)),W=m+h+L,x=f.x,R=f.y;l.setWidth(this.width),E?F>0&&x+W+d>this.right&&(R=f.y+=V,f.line++,x=f.x=ia(o,this.left+d,this.right-i[f.line])):F>0&&R+V>this.bottom&&(x=f.x=x+r[f.line].width+d,f.line++,R=f.y=ia(o,this.top+O+d,this.bottom-r[f.line].height));let B=l.x(x);if(b(B,R,H),x=pU($,x+m+h,E?x+W:this.right,t.rtl),_(l.x(x),R,H),E)f.x+=W+d;else if(typeof H.text!="string"){let v=c.lineHeight;f.y+=ZW(H,v)+d}else f.y+=V}),pP(this.ctx,t.textDirection)}drawTitle(){let t=this.options,r=t.title,i=ls(r.font),n=ra(r.padding);if(!r.display)return;let o=qg(t.rtl,this.left,this.width),s=this.ctx,a=r.position,l=i.size/2,c=n.top+l,d,u=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),d=this.top+c,u=ia(t.align,u,this.right-h);else{let m=this.columnSizes.reduce((g,p)=>Math.max(g,p.height),0);d=c+ia(t.align,this.top,this.bottom-m-t.labels.padding-this._computeTitleHeight())}let f=ia(a,u,u+h);s.textAlign=o.textAlign(f5(a)),s.textBaseline="middle",s.strokeStyle=r.color,s.fillStyle=r.color,s.font=i.string,Am(s,r.text,f,d,i)}_computeTitleHeight(){let t=this.options.title,r=ls(t.font),i=ra(t.padding);return t.display?r.lineHeight+i.height:0}_getLegendItemAt(t,r){let i,n,o;if(Lu(t,this.left,this.right)&&Lu(r,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(n=o[i],Lu(t,n.left,n.left+n.width)&&Lu(r,n.top,n.top+n.height))return this.legendItems[i]}return null}handleEvent(t){let r=this.options;if(!Dgt(t.type,r))return;let i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){let n=this._hoveredItem,o=Mgt(n,i);n&&!o&&Gn(r.onLeave,[t,n,this],this),this._hoveredItem=i,i&&!o&&Gn(r.onHover,[t,i,this],this)}else i&&Gn(r.onClick,[t,i,this],this)}};function Agt(e,t,r,i,n){let o=Igt(i,e,t,r),s=kgt(n,i,t.lineHeight);return{itemWidth:o,itemHeight:s}}function Igt(e,t,r,i){let n=e.text;return n&&typeof n!="string"&&(n=n.reduce((o,s)=>o.length>s.length?o:s)),t+r.size/2+i.measureText(n).width}function kgt(e,t,r){let i=e;return typeof t.text!="string"&&(i=ZW(t,r)),i}function ZW(e,t){let r=e.text?e.text.length:0;return t*r}function Dgt(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var Ogt={id:"legend",_element:N5,start(e,t,r){let i=e.legend=new N5({ctx:e.ctx,options:r,chart:e});ba.configure(e,i,r),ba.addBox(e,i)},stop(e){ba.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,r){let i=e.legend;ba.configure(e,i,r),i.options=r},afterUpdate(e){let t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,r){let i=t.datasetIndex,n=r.chart;n.isDatasetVisible(i)?(n.hide(i),t.hidden=!0):(n.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){let t=e.data.datasets,{labels:{usePointStyle:r,pointStyle:i,textAlign:n,color:o,useBorderRadius:s,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{let c=l.controller.getStyle(r?0:void 0),d=ra(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:o,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:n||c.textAlign,borderRadius:s&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}},sC=class extends Ed{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,r){let i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=r;let n=eo(i.text)?i.text.length:1;this._padding=ra(i.padding);let o=n*ls(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){let t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){let{top:r,left:i,bottom:n,right:o,options:s}=this,a=s.align,l=0,c,d,u;return this.isHorizontal()?(d=ia(a,i,o),u=r+t,c=o-i):(s.position==="left"?(d=i+t,u=ia(a,n,r),l=io*-.5):(d=o-t,u=ia(a,r,n),l=io*.5),c=n-r),{titleX:d,titleY:u,maxWidth:c,rotation:l}}draw(){let t=this.ctx,r=this.options;if(!r.display)return;let i=ls(r.font),o=i.lineHeight/2+this._padding.top,{titleX:s,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(o);Am(t,r.text,0,0,i,{color:r.color,maxWidth:l,rotation:c,textAlign:f5(r.align),textBaseline:"middle",translation:[s,a]})}};function Pgt(e,t){let r=new sC({ctx:e.ctx,options:t,chart:e});ba.configure(e,r,t),ba.addBox(e,r),e.titleBlock=r}var Ngt={id:"title",_element:sC,start(e,t,r){Pgt(e,r)},stop(e){let t=e.titleBlock;ba.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,r){let i=e.titleBlock;ba.configure(e,i,r),i.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},E5=new WeakMap,Lgt={id:"subtitle",start(e,t,r){let i=new sC({ctx:e.ctx,options:r,chart:e});ba.configure(e,i,r),ba.addBox(e,i),E5.set(e,i)},stop(e){ba.removeBox(e,E5.get(e)),E5.delete(e)},beforeUpdate(e,t,r){let i=E5.get(e);ba.configure(e,i,r),i.options=r},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},nC={average(e){if(!e.length)return!1;let t,r,i=new Set,n=0,o=0;for(t=0,r=e.length;t<r;++t){let a=e[t].element;if(a&&a.hasValue()){let l=a.tooltipPosition();i.add(l.x),n+=l.y,++o}}return{x:[...i].reduce((a,l)=>a+l)/i.size,y:n/o}},nearest(e,t){if(!e.length)return!1;let r=t.x,i=t.y,n=Number.POSITIVE_INFINITY,o,s,a;for(o=0,s=e.length;o<s;++o){let l=e[o].element;if(l&&l.hasValue()){let c=l.getCenterPoint(),d=l5(t,c);d<n&&(n=d,a=l)}}if(a){let l=a.tooltipPosition();r=l.x,i=l.y}return{x:r,y:i}}};function Fu(e,t){return t&&(eo(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function af(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function Fgt(e,t){let{element:r,datasetIndex:i,index:n}=t,o=e.getDatasetMeta(i).controller,{label:s,value:a}=o.getLabelAndValue(n);return{chart:e,label:s,parsed:o.getParsed(n),raw:e.data.datasets[i].data[n],formattedValue:a,dataset:o.getDataset(),dataIndex:n,datasetIndex:i,element:r}}function bW(e,t){let r=e.chart.ctx,{body:i,footer:n,title:o}=e,{boxWidth:s,boxHeight:a}=t,l=ls(t.bodyFont),c=ls(t.titleFont),d=ls(t.footerFont),u=o.length,h=n.length,f=i.length,m=ra(t.padding),g=m.height,p=0,b=i.reduce((O,V)=>O+V.before.length+V.lines.length+V.after.length,0);if(b+=e.beforeBody.length+e.afterBody.length,u&&(g+=u*c.lineHeight+(u-1)*t.titleSpacing+t.titleMarginBottom),b){let O=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=f*O+(b-f)*l.lineHeight+(b-1)*t.bodySpacing}h&&(g+=t.footerMarginTop+h*d.lineHeight+(h-1)*t.footerSpacing);let _=0,E=function(O){p=Math.max(p,r.measureText(O).width+_)};return r.save(),r.font=c.string,vn(e.title,E),r.font=l.string,vn(e.beforeBody.concat(e.afterBody),E),_=t.displayColors?s+2+t.boxPadding:0,vn(i,O=>{vn(O.before,E),vn(O.lines,E),vn(O.after,E)}),_=0,r.font=d.string,vn(e.footer,E),r.restore(),p+=m.width,{width:p,height:g}}function Hgt(e,t){let{y:r,height:i}=t;return r<i/2?"top":r>e.height-i/2?"bottom":"center"}function Bgt(e,t,r,i){let{x:n,width:o}=i,s=r.caretSize+r.caretPadding;if(e==="left"&&n+o+s>t.width||e==="right"&&n-o-s<0)return!0}function jgt(e,t,r,i){let{x:n,width:o}=r,{width:s,chartArea:{left:a,right:l}}=e,c="center";return i==="center"?c=n<=(a+l)/2?"left":"right":n<=o/2?c="left":n>=s-o/2&&(c="right"),Bgt(c,e,t,r)&&(c="center"),c}function vW(e,t,r){let i=r.yAlign||t.yAlign||Hgt(e,r);return{xAlign:r.xAlign||t.xAlign||jgt(e,t,r,i),yAlign:i}}function Vgt(e,t){let{x:r,width:i}=e;return t==="right"?r-=i:t==="center"&&(r-=i/2),r}function zgt(e,t,r){let{y:i,height:n}=e;return t==="top"?i+=r:t==="bottom"?i-=n+r:i-=n/2,i}function yW(e,t,r,i){let{caretSize:n,caretPadding:o,cornerRadius:s}=e,{xAlign:a,yAlign:l}=r,c=n+o,{topLeft:d,topRight:u,bottomLeft:h,bottomRight:f}=Im(s),m=Vgt(t,a),g=zgt(t,l,c);return l==="center"?a==="left"?m+=c:a==="right"&&(m-=c):a==="left"?m-=Math.max(d,h)+n:a==="right"&&(m+=Math.max(u,f)+n),{x:gs(m,0,i.width-t.width),y:gs(g,0,i.height-t.height)}}function R5(e,t,r){let i=ra(r.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-i.right:e.x+i.left}function _W(e){return Fu([],af(e))}function Ugt(e,t,r){return of(e,{tooltip:t,tooltipItems:r,type:"tooltip"})}function wW(e,t){let r=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return r?e.override(r):e}var QW={beforeTitle:Nu,title(e){if(e.length>0){let t=e[0],r=t.chart.data.labels,i=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return r[t.dataIndex]}return""},afterTitle:Nu,beforeBody:Nu,beforeLabel:Nu,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");let r=e.formattedValue;return Qr(r)||(t+=r),t},labelColor(e){let r=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){let r=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:Nu,afterBody:Nu,beforeFooter:Nu,footer:Nu,afterFooter:Nu};function ml(e,t,r,i){let n=e[t].call(r,i);return typeof n>"u"?QW[t].call(r,i):n}var CW=(()=>{class e extends Ed{static positioners=nC;constructor(r){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=r.chart,this.options=r.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(r){this.options=r,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let r=this._cachedAnimations;if(r)return r;let i=this.chart,n=this.options.setContext(this.getContext()),o=n.enabled&&i.options.animation&&n.animations,s=new I5(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=Ugt(this.chart.getContext(),this,this._tooltipItems))}getTitle(r,i){let{callbacks:n}=i,o=ml(n,"beforeTitle",this,r),s=ml(n,"title",this,r),a=ml(n,"afterTitle",this,r),l=[];return l=Fu(l,af(o)),l=Fu(l,af(s)),l=Fu(l,af(a)),l}getBeforeBody(r,i){return _W(ml(i.callbacks,"beforeBody",this,r))}getBody(r,i){let{callbacks:n}=i,o=[];return vn(r,s=>{let a={before:[],lines:[],after:[]},l=wW(n,s);Fu(a.before,af(ml(l,"beforeLabel",this,s))),Fu(a.lines,ml(l,"label",this,s)),Fu(a.after,af(ml(l,"afterLabel",this,s))),o.push(a)}),o}getAfterBody(r,i){return _W(ml(i.callbacks,"afterBody",this,r))}getFooter(r,i){let{callbacks:n}=i,o=ml(n,"beforeFooter",this,r),s=ml(n,"footer",this,r),a=ml(n,"afterFooter",this,r),l=[];return l=Fu(l,af(o)),l=Fu(l,af(s)),l=Fu(l,af(a)),l}_createItems(r){let i=this._active,n=this.chart.data,o=[],s=[],a=[],l=[],c,d;for(c=0,d=i.length;c<d;++c)l.push(Fgt(this.chart,i[c]));return r.filter&&(l=l.filter((u,h,f)=>r.filter(u,h,f,n))),r.itemSort&&(l=l.sort((u,h)=>r.itemSort(u,h,n))),vn(l,u=>{let h=wW(r.callbacks,u);o.push(ml(h,"labelColor",this,u)),s.push(ml(h,"labelPointStyle",this,u)),a.push(ml(h,"labelTextColor",this,u))}),this.labelColors=o,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=l,l}update(r,i){let n=this.options.setContext(this.getContext()),o=this._active,s,a=[];if(!o.length)this.opacity!==0&&(s={opacity:0});else{let l=nC[n.position].call(this,o,this._eventPosition);a=this._createItems(n),this.title=this.getTitle(a,n),this.beforeBody=this.getBeforeBody(a,n),this.body=this.getBody(a,n),this.afterBody=this.getAfterBody(a,n),this.footer=this.getFooter(a,n);let c=this._size=bW(this,n),d=Object.assign({},l,c),u=vW(this.chart,n,d),h=yW(n,d,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),r&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(r,i,n,o){let s=this.getCaretPosition(r,n,o);i.lineTo(s.x1,s.y1),i.lineTo(s.x2,s.y2),i.lineTo(s.x3,s.y3)}getCaretPosition(r,i,n){let{xAlign:o,yAlign:s}=this,{caretSize:a,cornerRadius:l}=n,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:h}=Im(l),{x:f,y:m}=r,{width:g,height:p}=i,b,_,E,O,V,H;return s==="center"?(V=m+p/2,o==="left"?(b=f,_=b-a,O=V+a,H=V-a):(b=f+g,_=b+a,O=V-a,H=V+a),E=b):(o==="left"?_=f+Math.max(c,u)+a:o==="right"?_=f+g-Math.max(d,h)-a:_=this.caretX,s==="top"?(O=m,V=O-a,b=_-a,E=_+a):(O=m+p,V=O+a,b=_+a,E=_-a),H=O),{x1:b,x2:_,x3:E,y1:O,y2:V,y3:H}}drawTitle(r,i,n){let o=this.title,s=o.length,a,l,c;if(s){let d=qg(n.rtl,this.x,this.width);for(r.x=R5(this,n.titleAlign,n),i.textAlign=d.textAlign(n.titleAlign),i.textBaseline="middle",a=ls(n.titleFont),l=n.titleSpacing,i.fillStyle=n.titleColor,i.font=a.string,c=0;c<s;++c)i.fillText(o[c],d.x(r.x),r.y+a.lineHeight/2),r.y+=a.lineHeight+l,c+1===s&&(r.y+=n.titleMarginBottom-l)}}_drawColorBox(r,i,n,o,s){let a=this.labelColors[n],l=this.labelPointStyles[n],{boxHeight:c,boxWidth:d}=s,u=ls(s.bodyFont),h=R5(this,"left",s),f=o.x(h),m=c<u.lineHeight?(u.lineHeight-c)/2:0,g=i.y+m;if(s.usePointStyle){let p={radius:Math.min(d,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},b=o.leftForLtr(f,d)+d/2,_=g+c/2;r.strokeStyle=s.multiKeyBackground,r.fillStyle=s.multiKeyBackground,p5(r,p,b,_),r.strokeStyle=a.borderColor,r.fillStyle=a.backgroundColor,p5(r,p,b,_)}else{r.lineWidth=Vr(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,r.strokeStyle=a.borderColor,r.setLineDash(a.borderDash||[]),r.lineDashOffset=a.borderDashOffset||0;let p=o.leftForLtr(f,d),b=o.leftForLtr(o.xPlus(f,1),d-2),_=Im(a.borderRadius);Object.values(_).some(E=>E!==0)?(r.beginPath(),r.fillStyle=s.multiKeyBackground,Iv(r,{x:p,y:g,w:d,h:c,radius:_}),r.fill(),r.stroke(),r.fillStyle=a.backgroundColor,r.beginPath(),Iv(r,{x:b,y:g+1,w:d-2,h:c-2,radius:_}),r.fill()):(r.fillStyle=s.multiKeyBackground,r.fillRect(p,g,d,c),r.strokeRect(p,g,d,c),r.fillStyle=a.backgroundColor,r.fillRect(b,g+1,d-2,c-2))}r.fillStyle=this.labelTextColors[n]}drawBody(r,i,n){let{body:o}=this,{bodySpacing:s,bodyAlign:a,displayColors:l,boxHeight:c,boxWidth:d,boxPadding:u}=n,h=ls(n.bodyFont),f=h.lineHeight,m=0,g=qg(n.rtl,this.x,this.width),p=function($){i.fillText($,g.x(r.x+m),r.y+f/2),r.y+=f+s},b=g.textAlign(a),_,E,O,V,H,F,L;for(i.textAlign=a,i.textBaseline="middle",i.font=h.string,r.x=R5(this,b,n),i.fillStyle=n.bodyColor,vn(this.beforeBody,p),m=l&&b!=="right"?a==="center"?d/2+u:d+2+u:0,V=0,F=o.length;V<F;++V){for(_=o[V],E=this.labelTextColors[V],i.fillStyle=E,vn(_.before,p),O=_.lines,l&&O.length&&(this._drawColorBox(i,r,V,g,n),f=Math.max(h.lineHeight,c)),H=0,L=O.length;H<L;++H)p(O[H]),f=h.lineHeight;vn(_.after,p)}m=0,f=h.lineHeight,vn(this.afterBody,p),r.y-=s}drawFooter(r,i,n){let o=this.footer,s=o.length,a,l;if(s){let c=qg(n.rtl,this.x,this.width);for(r.x=R5(this,n.footerAlign,n),r.y+=n.footerMarginTop,i.textAlign=c.textAlign(n.footerAlign),i.textBaseline="middle",a=ls(n.footerFont),i.fillStyle=n.footerColor,i.font=a.string,l=0;l<s;++l)i.fillText(o[l],c.x(r.x),r.y+a.lineHeight/2),r.y+=a.lineHeight+n.footerSpacing}}drawBackground(r,i,n,o){let{xAlign:s,yAlign:a}=this,{x:l,y:c}=r,{width:d,height:u}=n,{topLeft:h,topRight:f,bottomLeft:m,bottomRight:g}=Im(o.cornerRadius);i.fillStyle=o.backgroundColor,i.strokeStyle=o.borderColor,i.lineWidth=o.borderWidth,i.beginPath(),i.moveTo(l+h,c),a==="top"&&this.drawCaret(r,i,n,o),i.lineTo(l+d-f,c),i.quadraticCurveTo(l+d,c,l+d,c+f),a==="center"&&s==="right"&&this.drawCaret(r,i,n,o),i.lineTo(l+d,c+u-g),i.quadraticCurveTo(l+d,c+u,l+d-g,c+u),a==="bottom"&&this.drawCaret(r,i,n,o),i.lineTo(l+m,c+u),i.quadraticCurveTo(l,c+u,l,c+u-m),a==="center"&&s==="left"&&this.drawCaret(r,i,n,o),i.lineTo(l,c+h),i.quadraticCurveTo(l,c,l+h,c),i.closePath(),i.fill(),o.borderWidth>0&&i.stroke()}_updateAnimationTarget(r){let i=this.chart,n=this.$animations,o=n&&n.x,s=n&&n.y;if(o||s){let a=nC[r.position].call(this,this._active,this._eventPosition);if(!a)return;let l=this._size=bW(this,r),c=Object.assign({},a,this._size),d=vW(i,r,c),u=yW(r,c,d,i);(o._to!==u.x||s._to!==u.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(r){let i=this.options.setContext(this.getContext()),n=this.opacity;if(!n)return;this._updateAnimationTarget(i);let o={width:this.width,height:this.height},s={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;let a=ra(i.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;i.enabled&&l&&(r.save(),r.globalAlpha=n,this.drawBackground(s,r,o,i),mP(r,i.textDirection),s.y+=a.top,this.drawTitle(s,r,i),this.drawBody(s,r,i),this.drawFooter(s,r,i),pP(r,i.textDirection),r.restore())}getActiveElements(){return this._active||[]}setActiveElements(r,i){let n=this._active,o=r.map(({datasetIndex:l,index:c})=>{let d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[c],index:c}}),s=!Gw(n,o),a=this._positionChanged(o,i);(s||a)&&(this._active=o,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(r,i,n=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let o=this.options,s=this._active||[],a=this._getActiveElements(r,s,i,n),l=this._positionChanged(a,r),c=i||!Gw(a,s)||l;return c&&(this._active=a,(o.enabled||o.external)&&(this._eventPosition={x:r.x,y:r.y},this.update(!0,i))),c}_getActiveElements(r,i,n,o){let s=this.options;if(r.type==="mouseout")return[];if(!o)return i.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);let a=this.chart.getElementsAtEventForMode(r,s.mode,s,n);return s.reverse&&a.reverse(),a}_positionChanged(r,i){let{caretX:n,caretY:o,options:s}=this,a=nC[s.position].call(this,r,i);return a!==!1&&(n!==a.x||o!==a.y)}}return e})(),Wgt={id:"tooltip",_element:CW,positioners:nC,afterInit(e,t,r){r&&(e.tooltip=new CW({chart:e,options:r}))},beforeUpdate(e,t,r){e.tooltip&&e.tooltip.initialize(r)},reset(e,t,r){e.tooltip&&e.tooltip.initialize(r)},afterDraw(e){let t=e.tooltip;if(t&&t._willRender()){let r={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",je(Vt({},r),{cancelable:!0}))===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",r)}},afterEvent(e,t){if(e.tooltip){let r=t.replay;e.tooltip.handleEvent(t.event,r,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:QW},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Ygt=Object.freeze({__proto__:null,Colors:rgt,Decimation:agt,Filler:Tgt,Legend:Ogt,SubTitle:Lgt,Title:Ngt,Tooltip:Wgt}),qgt=(e,t,r,i)=>(typeof t=="string"?(r=e.push(t)-1,i.unshift({index:r,label:t})):isNaN(t)&&(r=null),r);function $gt(e,t,r,i){let n=e.indexOf(t);if(n===-1)return qgt(e,t,r,i);let o=e.lastIndexOf(t);return n!==o?r:n}var Ggt=(e,t)=>e===null?null:gs(Math.round(e),0,t);function xW(e){let t=this.getLabels();return e>=0&&e<t.length?t[e]:e}var Kgt=(()=>{class e extends Kg{static id="category";static defaults={ticks:{callback:xW}};constructor(r){super(r),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(r){let i=this._addedLabels;if(i.length){let n=this.getLabels();for(let{index:o,label:s}of i)n[o]===s&&n.splice(o,1);this._addedLabels=[]}super.init(r)}parse(r,i){if(Qr(r))return null;let n=this.getLabels();return i=isFinite(i)&&n[i]===r?i:$gt(n,r,br(i,r),this._addedLabels),Ggt(i,n.length-1)}determineDataLimits(){let{minDefined:r,maxDefined:i}=this.getUserBounds(),{min:n,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(r||(n=0),i||(o=this.getLabels().length-1)),this.min=n,this.max=o}buildTicks(){let r=this.min,i=this.max,n=this.options.offset,o=[],s=this.getLabels();s=r===0&&i===s.length-1?s:s.slice(r,i+1),this._valueRange=Math.max(s.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let a=r;a<=i;a++)o.push({value:a});return o}getLabelForValue(r){return xW.call(this,r)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(r){return typeof r!="number"&&(r=this.parse(r)),r===null?NaN:this.getPixelForDecimal((r-this._startValue)/this._valueRange)}getPixelForTick(r){let i=this.ticks;return r<0||r>i.length-1?null:this.getPixelForValue(i[r].value)}getValueForPixel(r){return Math.round(this._startValue+this.getDecimalForPixel(r)*this._valueRange)}getBasePixel(){return this.bottom}}return e})();function Xgt(e,t){let r=[],{bounds:n,step:o,min:s,max:a,precision:l,count:c,maxTicks:d,maxDigits:u,includeBounds:h}=e,f=o||1,m=d-1,{min:g,max:p}=t,b=!Qr(s),_=!Qr(a),E=!Qr(c),O=(p-g)/(u+1),V=$4((p-g)/m/f)*f,H,F,L,$;if(V<1e-14&&!b&&!_)return[{value:g},{value:p}];$=Math.ceil(p/V)-Math.floor(g/V),$>m&&(V=$4($*V/m/f)*f),Qr(l)||(H=Math.pow(10,l),V=Math.ceil(V*H)/H),n==="ticks"?(F=Math.floor(g/V)*V,L=Math.ceil(p/V)*V):(F=g,L=p),b&&_&&o&&lU((a-s)/o,V/1e3)?($=Math.round(Math.min((a-s)/V,d)),V=(a-s)/$,F=s,L=a):E?(F=b?s:F,L=_?a:L,$=c-1,V=(L-F)/$):($=(L-F)/V,Tv($,Math.round($),V/1e3)?$=Math.round($):$=Math.ceil($));let W=Math.max(K4(V),K4(F));H=Math.pow(10,Qr(l)?W:l),F=Math.round(F*H)/H,L=Math.round(L*H)/H;let x=0;for(b&&(h&&F!==s?(r.push({value:s}),F<s&&x++,Tv(Math.round((F+x*V)*H)/H,s,SW(s,O,e))&&x++):F<s&&x++);x<$;++x){let R=Math.round((F+x*V)*H)/H;if(_&&R>a)break;r.push({value:R})}return _&&h&&L!==a?r.length&&Tv(r[r.length-1].value,a,SW(a,O,e))?r[r.length-1].value=a:r.push({value:a}):(!_||L===a)&&r.push({value:L}),r}function SW(e,t,{horizontal:r,minRotation:i}){let n=kc(i),o=(r?Math.sin(n):Math.cos(n))||.001,s=.75*t*(""+e).length;return Math.min(t/o,s)}var Pv=class extends Kg{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,r){return Qr(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){let{beginAtZero:t}=this.options,{minDefined:r,maxDefined:i}=this.getUserBounds(),{min:n,max:o}=this,s=l=>n=r?n:l,a=l=>o=i?o:l;if(t){let l=Sd(n),c=Sd(o);l<0&&c<0?a(0):l>0&&c>0&&s(0)}if(n===o){let l=o===0?1:Math.abs(o*.05);a(o+l),t||s(n-l)}this.min=n,this.max=o}getTickLimit(){let t=this.options.ticks,{maxTicksLimit:r,stepSize:i}=t,n;return i?(n=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,n>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${n} ticks. Limiting to 1000.`),n=1e3)):(n=this.computeTickLimit(),r=r||11),r&&(n=Math.min(r,n)),n}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let t=this.options,r=t.ticks,i=this.getTickLimit();i=Math.max(2,i);let n={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},o=this._range||this,s=Xgt(n,o);return t.bounds==="ticks"&&G4(s,this,"value"),t.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){let t=this.ticks,r=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){let n=(i-r)/Math.max(t.length-1,1)/2;r-=n,i+=n}this._startValue=r,this._endValue=i,this._valueRange=i-r}getLabelForValue(t){return Av(t,this.chart.options.locale,this.options.ticks.format)}},zP=class extends Pv{static id="linear";static defaults={ticks:{callback:Kw.formatters.numeric}};determineDataLimits(){let{min:t,max:r}=this.getMinMax(!0);this.min=To(t)?t:0,this.max=To(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){let t=this.isHorizontal(),r=t?this.width:this.height,i=kc(this.options.ticks.minRotation),n=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,o.lineHeight/n))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}},aC=e=>Math.floor(rf(e)),Gg=(e,t)=>Math.pow(10,aC(e)+t);function EW(e){return e/Math.pow(10,aC(e))===1}function RW(e,t,r){let i=Math.pow(10,r),n=Math.floor(e/i);return Math.ceil(t/i)-n}function Zgt(e,t){let r=t-e,i=aC(r);for(;RW(e,t,i)>10;)i++;for(;RW(e,t,i)<10;)i--;return Math.min(i,aC(e))}function Qgt(e,{min:t,max:r}){t=fl(e.min,t);let i=[],n=aC(t),o=Zgt(t,r),s=o<0?Math.pow(10,Math.abs(o)):1,a=Math.pow(10,o),l=n>o?Math.pow(10,n):0,c=Math.round((t-l)*s)/s,d=Math.floor((t-l)/a/10)*a*10,u=Math.floor((c-d)/Math.pow(10,o)),h=fl(e.min,Math.round((l+d+u*Math.pow(10,o))*s)/s);for(;h<r;)i.push({value:h,major:EW(h),significand:u}),u>=10?u=u<15?15:20:u++,u>=20&&(o++,u=2,s=o>=0?1:s),h=Math.round((l+d+u*Math.pow(10,o))*s)/s;let f=fl(e.max,h);return i.push({value:f,major:EW(f),significand:u}),i}var UP=class extends Kg{static id="logarithmic";static defaults={ticks:{callback:Kw.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,r){let i=Pv.prototype.parse.apply(this,[t,r]);if(i===0){this._zero=!0;return}return To(i)&&i>0?i:null}determineDataLimits(){let{min:t,max:r}=this.getMinMax(!0);this.min=To(t)?Math.max(0,t):null,this.max=To(r)?Math.max(0,r):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!To(this._userMin)&&(this.min=t===Gg(this.min,0)?Gg(this.min,-1):Gg(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:t,maxDefined:r}=this.getUserBounds(),i=this.min,n=this.max,o=a=>i=t?i:a,s=a=>n=r?n:a;i===n&&(i<=0?(o(1),s(10)):(o(Gg(i,-1)),s(Gg(n,1)))),i<=0&&o(Gg(n,-1)),n<=0&&s(Gg(i,1)),this.min=i,this.max=n}buildTicks(){let t=this.options,r={min:this._userMin,max:this._userMax},i=Qgt(r,this);return t.bounds==="ticks"&&G4(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":Av(t,this.chart.options.locale,this.options.ticks.format)}configure(){let t=this.min;super.configure(),this._startValue=rf(t),this._valueRange=rf(this.max)-rf(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(rf(t)-this._startValue)/this._valueRange)}getValueForPixel(t){let r=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+r*this._valueRange)}};function WP(e){let t=e.ticks;if(t.display&&e.display){let r=ra(t.backdropPadding);return br(t.font&&t.font.size,uo.font.size)+r.height}return 0}function Jgt(e,t,r){return r=eo(r)?r:[r],{w:bU(e,t.string,r),h:r.length*t.lineHeight}}function TW(e,t,r,i,n){return e===i||e===n?{start:t-r/2,end:t+r/2}:e<i||e>n?{start:t-r,end:t}:{start:t,end:t+r}}function t0t(e){let t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},r=Object.assign({},t),i=[],n=[],o=e._pointLabels.length,s=e.options.pointLabels,a=s.centerPointLabels?io/o:0;for(let l=0;l<o;l++){let c=s.setContext(e.getPointLabelContext(l));n[l]=c.padding;let d=e.getPointPosition(l,e.drawingArea+n[l],a),u=ls(c.font),h=Jgt(e.ctx,u,e._pointLabels[l]);i[l]=h;let f=hl(e.getIndexAngle(l)+a),m=Math.round(u5(f)),g=TW(m,d.x,h.w,0,180),p=TW(m,d.y,h.h,90,270);e0t(r,t,f,g,p)}e.setCenterPoint(t.l-r.l,r.r-t.r,t.t-r.t,r.b-t.b),e._pointLabelItems=n0t(e,i,n)}function e0t(e,t,r,i,n){let o=Math.abs(Math.sin(r)),s=Math.abs(Math.cos(r)),a=0,l=0;i.start<t.l?(a=(t.l-i.start)/o,e.l=Math.min(e.l,t.l-a)):i.end>t.r&&(a=(i.end-t.r)/o,e.r=Math.max(e.r,t.r+a)),n.start<t.t?(l=(t.t-n.start)/s,e.t=Math.min(e.t,t.t-l)):n.end>t.b&&(l=(n.end-t.b)/s,e.b=Math.max(e.b,t.b+l))}function i0t(e,t,r){let i=e.drawingArea,{extra:n,additionalAngle:o,padding:s,size:a}=r,l=e.getPointPosition(t,i+n+s,o),c=Math.round(u5(hl(l.angle+Bo))),d=a0t(l.y,a.h,c),u=o0t(c),h=s0t(l.x,a.w,u);return{visible:!0,x:l.x,y:d,textAlign:u,left:h,top:d,right:h+a.w,bottom:d+a.h}}function r0t(e,t){if(!t)return!0;let{left:r,top:i,right:n,bottom:o}=e;return!(Pu({x:r,y:i},t)||Pu({x:r,y:o},t)||Pu({x:n,y:i},t)||Pu({x:n,y:o},t))}function n0t(e,t,r){let i=[],n=e._pointLabels.length,o=e.options,{centerPointLabels:s,display:a}=o.pointLabels,l={extra:WP(o)/2,additionalAngle:s?io/n:0},c;for(let d=0;d<n;d++){l.padding=r[d],l.size=t[d];let u=i0t(e,d,l);i.push(u),a==="auto"&&(u.visible=r0t(u,c),u.visible&&(c=u))}return i}function o0t(e){return e===0||e===180?"center":e<180?"left":"right"}function s0t(e,t,r){return r==="right"?e-=t:r==="center"&&(e-=t/2),e}function a0t(e,t,r){return r===90||r===270?e-=t/2:(r>270||r<90)&&(e-=t),e}function l0t(e,t,r){let{left:i,top:n,right:o,bottom:s}=r,{backdropColor:a}=t;if(!Qr(a)){let l=Im(t.borderRadius),c=ra(t.backdropPadding);e.fillStyle=a;let d=i-c.left,u=n-c.top,h=o-i+c.width,f=s-n+c.height;Object.values(l).some(m=>m!==0)?(e.beginPath(),Iv(e,{x:d,y:u,w:h,h:f,radius:l}),e.fill()):e.fillRect(d,u,h,f)}}function c0t(e,t){let{ctx:r,options:{pointLabels:i}}=e;for(let n=t-1;n>=0;n--){let o=e._pointLabelItems[n];if(!o.visible)continue;let s=i.setContext(e.getPointLabelContext(n));l0t(r,s,o);let a=ls(s.font),{x:l,y:c,textAlign:d}=o;Am(r,e._pointLabels[n],l,c+a.lineHeight/2,a,{color:s.color,textAlign:d,textBaseline:"middle"})}}function JW(e,t,r,i){let{ctx:n}=e;if(r)n.arc(e.xCenter,e.yCenter,t,0,ro);else{let o=e.getPointPosition(0,t);n.moveTo(o.x,o.y);for(let s=1;s<i;s++)o=e.getPointPosition(s,t),n.lineTo(o.x,o.y)}}function d0t(e,t,r,i,n){let o=e.ctx,s=t.circular,{color:a,lineWidth:l}=t;!s&&!i||!a||!l||r<0||(o.save(),o.strokeStyle=a,o.lineWidth=l,o.setLineDash(n.dash),o.lineDashOffset=n.dashOffset,o.beginPath(),JW(e,r,s,i),o.closePath(),o.stroke(),o.restore())}function u0t(e,t,r){return of(e,{label:r,index:t,type:"pointLabel"})}var YP=class extends Pv{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Kw.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let t=this._padding=ra(WP(this.options)/2),r=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+r/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(r,i)/2)}determineDataLimits(){let{min:t,max:r}=this.getMinMax(!1);this.min=To(t)&&!isNaN(t)?t:0,this.max=To(r)&&!isNaN(r)?r:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/WP(this.options))}generateTickLabels(t){Pv.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((r,i)=>{let n=Gn(this.options.pointLabels.callback,[r,i],this);return n||n===0?n:""}).filter((r,i)=>this.chart.getDataVisibility(i))}fit(){let t=this.options;t.display&&t.pointLabels.display?t0t(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,r,i,n){this.xCenter+=Math.floor((t-r)/2),this.yCenter+=Math.floor((i-n)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,r,i,n))}getIndexAngle(t){let r=ro/(this._pointLabels.length||1),i=this.options.startAngle||0;return hl(t*r+kc(i))}getDistanceFromCenterForValue(t){if(Qr(t))return NaN;let r=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*r:(t-this.min)*r}getValueForDistanceFromCenter(t){if(Qr(t))return NaN;let r=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-r:this.min+r}getPointLabelContext(t){let r=this._pointLabels||[];if(t>=0&&t<r.length){let i=r[t];return u0t(this.getContext(),t,i)}}getPointPosition(t,r,i=0){let n=this.getIndexAngle(t)-Bo+i;return{x:Math.cos(n)*r+this.xCenter,y:Math.sin(n)*r+this.yCenter,angle:n}}getPointPositionForValue(t,r){return this.getPointPosition(t,this.getDistanceFromCenterForValue(r))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){let{left:r,top:i,right:n,bottom:o}=this._pointLabelItems[t];return{left:r,top:i,right:n,bottom:o}}drawBackground(){let{backgroundColor:t,grid:{circular:r}}=this.options;if(t){let i=this.ctx;i.save(),i.beginPath(),JW(this,this.getDistanceFromCenterForValue(this._endValue),r,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){let t=this.ctx,r=this.options,{angleLines:i,grid:n,border:o}=r,s=this._pointLabels.length,a,l,c;if(r.pointLabels.display&&c0t(this,s),n.display&&this.ticks.forEach((d,u)=>{if(u!==0||u===0&&this.min<0){l=this.getDistanceFromCenterForValue(d.value);let h=this.getContext(u),f=n.setContext(h),m=o.setContext(h);d0t(this,f,l,s,m)}}),i.display){for(t.save(),a=s-1;a>=0;a--){let d=i.setContext(this.getPointLabelContext(a)),{color:u,lineWidth:h}=d;!h||!u||(t.lineWidth=h,t.strokeStyle=u,t.setLineDash(d.borderDash),t.lineDashOffset=d.borderDashOffset,l=this.getDistanceFromCenterForValue(r.ticks.reverse?this.min:this.max),c=this.getPointPosition(a,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){let t=this.ctx,r=this.options,i=r.ticks;if(!i.display)return;let n=this.getIndexAngle(0),o,s;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(n),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!r.reverse)return;let c=i.setContext(this.getContext(l)),d=ls(c.font);if(o=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){t.font=d.string,s=t.measureText(a.label).width,t.fillStyle=c.backdropColor;let u=ra(c.backdropPadding);t.fillRect(-s/2-u.left,-o-d.size/2-u.top,s+u.width,d.size+u.height)}Am(t,a.label,0,-o,d,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),t.restore()}drawTitle(){}},F5={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},pl=Object.keys(F5);function MW(e,t){return e-t}function AW(e,t){if(Qr(t))return null;let r=e._adapter,{parser:i,round:n,isoWeekday:o}=e._parseOpts,s=t;return typeof i=="function"&&(s=i(s)),To(s)||(s=typeof i=="string"?r.parse(s,i):r.parse(s)),s===null?null:(n&&(s=n==="week"&&(Yg(o)||o===!0)?r.startOf(s,"isoWeek",o):r.startOf(s,n)),+s)}function IW(e,t,r,i){let n=pl.length;for(let o=pl.indexOf(e);o<n-1;++o){let s=F5[pl[o]],a=s.steps?s.steps:Number.MAX_SAFE_INTEGER;if(s.common&&Math.ceil((r-t)/(a*s.size))<=i)return pl[o]}return pl[n-1]}function h0t(e,t,r,i,n){for(let o=pl.length-1;o>=pl.indexOf(r);o--){let s=pl[o];if(F5[s].common&&e._adapter.diff(n,i,s)>=t-1)return s}return pl[r?pl.indexOf(r):0]}function f0t(e){for(let t=pl.indexOf(e)+1,r=pl.length;t<r;++t)if(F5[pl[t]].common)return pl[t]}function kW(e,t,r){if(!r)e[t]=!0;else if(r.length){let{lo:i,hi:n}=h5(r,t),o=r[i]>=t?r[i]:r[n];e[o]=!0}}function m0t(e,t,r,i){let n=e._adapter,o=+n.startOf(t[0].value,i),s=t[t.length-1].value,a,l;for(a=o;a<=s;a=+n.add(a,1,i))l=r[a],l>=0&&(t[l].major=!0);return t}function DW(e,t,r){let i=[],n={},o=t.length,s,a;for(s=0;s<o;++s)a=t[s],n[a]=s,i.push({value:a,major:!1});return o===0||!r?i:m0t(e,i,n,r)}var qP=(()=>{class e extends Kg{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(r){super(r),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(r,i={}){let n=r.time||(r.time={}),o=this._adapter=new Rmt._date(r.adapters.date);o.init(i),Ev(n.displayFormats,o.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(r),this._normalized=i.normalized}parse(r,i){return r===void 0?null:AW(this,r)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let r=this.options,i=this._adapter,n=r.time.unit||"day",{min:o,max:s,minDefined:a,maxDefined:l}=this.getUserBounds();function c(d){!a&&!isNaN(d.min)&&(o=Math.min(o,d.min)),!l&&!isNaN(d.max)&&(s=Math.max(s,d.max))}(!a||!l)&&(c(this._getLabelBounds()),(r.bounds!=="ticks"||r.ticks.source!=="labels")&&c(this.getMinMax(!1))),o=To(o)&&!isNaN(o)?o:+i.startOf(Date.now(),n),s=To(s)&&!isNaN(s)?s:+i.endOf(Date.now(),n)+1,this.min=Math.min(o,s-1),this.max=Math.max(o+1,s)}_getLabelBounds(){let r=this.getLabelTimestamps(),i=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return r.length&&(i=r[0],n=r[r.length-1]),{min:i,max:n}}buildTicks(){let r=this.options,i=r.time,n=r.ticks,o=n.source==="labels"?this.getLabelTimestamps():this._generate();r.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);let s=this.min,a=this.max,l=uU(o,s,a);return this._unit=i.unit||(n.autoSkip?IW(i.minUnit,this.min,this.max,this._getLabelCapacity(s)):h0t(this,l.length,i.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:f0t(this._unit),this.initOffsets(o),r.reverse&&l.reverse(),DW(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(r=>+r.value))}initOffsets(r=[]){let i=0,n=0,o,s;this.options.offset&&r.length&&(o=this.getDecimalForValue(r[0]),r.length===1?i=1-o:i=(this.getDecimalForValue(r[1])-o)/2,s=this.getDecimalForValue(r[r.length-1]),r.length===1?n=s:n=(s-this.getDecimalForValue(r[r.length-2]))/2);let a=r.length<3?.5:.25;i=gs(i,0,a),n=gs(n,0,a),this._offsets={start:i,end:n,factor:1/(i+1+n)}}_generate(){let r=this._adapter,i=this.min,n=this.max,o=this.options,s=o.time,a=s.unit||IW(s.minUnit,i,n,this._getLabelCapacity(i)),l=br(o.ticks.stepSize,1),c=a==="week"?s.isoWeekday:!1,d=Yg(c)||c===!0,u={},h=i,f,m;if(d&&(h=+r.startOf(h,"isoWeek",c)),h=+r.startOf(h,d?"day":a),r.diff(n,i,a)>1e5*l)throw new Error(i+" and "+n+" are too far apart with stepSize of "+l+" "+a);let g=o.ticks.source==="data"&&this.getDataTimestamps();for(f=h,m=0;f<n;f=+r.add(f,l,a),m++)kW(u,f,g);return(f===n||o.bounds==="ticks"||m===1)&&kW(u,f,g),Object.keys(u).sort(MW).map(p=>+p)}getLabelForValue(r){let i=this._adapter,n=this.options.time;return n.tooltipFormat?i.format(r,n.tooltipFormat):i.format(r,n.displayFormats.datetime)}format(r,i){let o=this.options.time.displayFormats,s=this._unit,a=i||o[s];return this._adapter.format(r,a)}_tickFormatFunction(r,i,n,o){let s=this.options,a=s.ticks.callback;if(a)return Gn(a,[r,i,n],this);let l=s.time.displayFormats,c=this._unit,d=this._majorUnit,u=c&&l[c],h=d&&l[d],f=n[i],m=d&&h&&f&&f.major;return this._adapter.format(r,o||(m?h:u))}generateTickLabels(r){let i,n,o;for(i=0,n=r.length;i<n;++i)o=r[i],o.label=this._tickFormatFunction(o.value,i,r)}getDecimalForValue(r){return r===null?NaN:(r-this.min)/(this.max-this.min)}getPixelForValue(r){let i=this._offsets,n=this.getDecimalForValue(r);return this.getPixelForDecimal((i.start+n)*i.factor)}getValueForPixel(r){let i=this._offsets,n=this.getDecimalForPixel(r)/i.factor-i.end;return this.min+n*(this.max-this.min)}_getLabelSize(r){let i=this.options.ticks,n=this.ctx.measureText(r).width,o=kc(this.isHorizontal()?i.maxRotation:i.minRotation),s=Math.cos(o),a=Math.sin(o),l=this._resolveTickFontOptions(0).size;return{w:n*s+l*a,h:n*a+l*s}}_getLabelCapacity(r){let i=this.options.time,n=i.displayFormats,o=n[i.unit]||n.millisecond,s=this._tickFormatFunction(r,0,DW(this,[r],this._majorUnit),o),a=this._getLabelSize(s),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let r=this._cache.data||[],i,n;if(r.length)return r;let o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(i=0,n=o.length;i<n;++i)r=r.concat(o[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(r)}getLabelTimestamps(){let r=this._cache.labels||[],i,n;if(r.length)return r;let o=this.getLabels();for(i=0,n=o.length;i<n;++i)r.push(AW(this,o[i]));return this._cache.labels=this._normalized?r:this.normalize(r)}normalize(r){return Q4(r.sort(MW))}}return e})();function T5(e,t,r){let i=0,n=e.length-1,o,s,a,l;r?(t>=e[i].pos&&t<=e[n].pos&&({lo:i,hi:n}=Ou(e,"pos",t)),{pos:o,time:a}=e[i],{pos:s,time:l}=e[n]):(t>=e[i].time&&t<=e[n].time&&({lo:i,hi:n}=Ou(e,"time",t)),{time:o,pos:a}=e[i],{time:s,pos:l}=e[n]);let c=s-o;return c?a+(l-a)*(t-o)/c:a}var $P=class extends qP{static id="timeseries";static defaults=qP.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let t=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(t);this._minPos=T5(r,this.min),this._tableRange=T5(r,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){let{min:r,max:i}=this,n=[],o=[],s,a,l,c,d;for(s=0,a=t.length;s<a;++s)c=t[s],c>=r&&c<=i&&n.push(c);if(n.length<2)return[{time:r,pos:0},{time:i,pos:1}];for(s=0,a=n.length;s<a;++s)d=n[s+1],l=n[s-1],c=n[s],Math.round((d+l)/2)!==c&&o.push({time:c,pos:s/(a-1)});return o}_generate(){let t=this.min,r=this.max,i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(r)||i.length===1)&&i.push(r),i.sort((n,o)=>n-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;let r=this.getDataTimestamps(),i=this.getLabelTimestamps();return r.length&&i.length?t=this.normalize(r.concat(i)):t=r.length?r:i,t=this._cache.all=t,t}getDecimalForValue(t){return(T5(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){let r=this._offsets,i=this.getDecimalForPixel(t)/r.factor-r.end;return T5(this._table,i*this._tableRange+this._minPos,!0)}},p0t=Object.freeze({__proto__:null,CategoryScale:Kgt,LinearScale:zP,LogarithmicScale:UP,RadialLinearScale:YP,TimeScale:qP,TimeSeriesScale:$P}),tY=[Emt,Zpt,Ygt,p0t];var g0t=typeof global=="object"&&global&&global.Object===Object&&global,H5=g0t;var b0t=typeof self=="object"&&self&&self.Object===Object&&self,v0t=H5||b0t||Function("return this")(),Dc=v0t;var y0t=Dc.Symbol,Lv=y0t;var eY=Object.prototype,_0t=eY.hasOwnProperty,w0t=eY.toString,cC=Lv?Lv.toStringTag:void 0;function C0t(e){var t=_0t.call(e,cC),r=e[cC];try{e[cC]=void 0;var i=!0}catch{}var n=w0t.call(e);return i&&(t?e[cC]=r:delete e[cC]),n}var iY=C0t;var x0t=Object.prototype,S0t=x0t.toString;function E0t(e){return S0t.call(e)}var rY=E0t;var R0t="[object Null]",T0t="[object Undefined]",nY=Lv?Lv.toStringTag:void 0;function M0t(e){return e==null?e===void 0?T0t:R0t:nY&&nY in Object(e)?iY(e):rY(e)}var Pm=M0t;function A0t(e){return e!=null&&typeof e=="object"}var Bu=A0t;var I0t=Array.isArray,dC=I0t;function k0t(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var gl=k0t;function D0t(e){return e}var B5=D0t;var O0t="[object AsyncFunction]",P0t="[object Function]",N0t="[object GeneratorFunction]",L0t="[object Proxy]";function F0t(e){if(!gl(e))return!1;var t=Pm(e);return t==P0t||t==N0t||t==O0t||t==L0t}var Fv=F0t;var H0t=Dc["__core-js_shared__"],j5=H0t;var oY=function(){var e=/[^.]+$/.exec(j5&&j5.keys&&j5.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function B0t(e){return!!oY&&oY in e}var sY=B0t;var j0t=Function.prototype,V0t=j0t.toString;function z0t(e){if(e!=null){try{return V0t.call(e)}catch{}try{return e+""}catch{}}return""}var aY=z0t;var U0t=/[\\^$.*+?()[\]{}|]/g,W0t=/^\[object .+?Constructor\]$/,Y0t=Function.prototype,q0t=Object.prototype,$0t=Y0t.toString,G0t=q0t.hasOwnProperty,K0t=RegExp("^"+$0t.call(G0t).replace(U0t,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function X0t(e){if(!gl(e)||sY(e))return!1;var t=Fv(e)?K0t:W0t;return t.test(aY(e))}var lY=X0t;function Z0t(e,t){return e?.[t]}var cY=Z0t;function Q0t(e,t){var r=cY(e,t);return lY(r)?r:void 0}var Hv=Q0t;var dY=Object.create,J0t=function(){function e(){}return function(t){if(!gl(t))return{};if(dY)return dY(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),uY=J0t;function tbt(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var hY=tbt;function ebt(e,t){var r=-1,i=e.length;for(t||(t=Array(i));++r<i;)t[r]=e[r];return t}var fY=ebt;var ibt=800,rbt=16,nbt=Date.now;function obt(e){var t=0,r=0;return function(){var i=nbt(),n=rbt-(i-r);if(r=i,n>0){if(++t>=ibt)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var mY=obt;function sbt(e){return function(){return e}}var pY=sbt;var abt=function(){try{var e=Hv(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Bv=abt;var lbt=Bv?function(e,t){return Bv(e,"toString",{configurable:!0,enumerable:!1,value:pY(t),writable:!0})}:B5,gY=lbt;var cbt=mY(gY),bY=cbt;var dbt=9007199254740991,ubt=/^(?:0|[1-9]\d*)$/;function hbt(e,t){var r=typeof e;return t=t??dbt,!!t&&(r=="number"||r!="symbol"&&ubt.test(e))&&e>-1&&e%1==0&&e<t}var V5=hbt;function fbt(e,t,r){t=="__proto__"&&Bv?Bv(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var jv=fbt;function mbt(e,t){return e===t||e!==e&&t!==t}var Nm=mbt;var pbt=Object.prototype,gbt=pbt.hasOwnProperty;function bbt(e,t,r){var i=e[t];(!(gbt.call(e,t)&&Nm(i,r))||r===void 0&&!(t in e))&&jv(e,t,r)}var vY=bbt;function vbt(e,t,r,i){var n=!r;r||(r={});for(var o=-1,s=t.length;++o<s;){var a=t[o],l=i?i(r[a],e[a],a,r,e):void 0;l===void 0&&(l=e[a]),n?jv(r,a,l):vY(r,a,l)}return r}var yY=vbt;var _Y=Math.max;function ybt(e,t,r){return t=_Y(t===void 0?e.length-1:t,0),function(){for(var i=arguments,n=-1,o=_Y(i.length-t,0),s=Array(o);++n<o;)s[n]=i[t+n];n=-1;for(var a=Array(t+1);++n<t;)a[n]=i[n];return a[t]=r(s),hY(e,this,a)}}var wY=ybt;function _bt(e,t){return bY(wY(e,t,B5),e+"")}var CY=_bt;var wbt=9007199254740991;function Cbt(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=wbt}var z5=Cbt;function xbt(e){return e!=null&&z5(e.length)&&!Fv(e)}var Vv=xbt;function Sbt(e,t,r){if(!gl(r))return!1;var i=typeof t;return(i=="number"?Vv(r)&&V5(t,r.length):i=="string"&&t in r)?Nm(r[t],e):!1}var xY=Sbt;function Ebt(e){return CY(function(t,r){var i=-1,n=r.length,o=n>1?r[n-1]:void 0,s=n>2?r[2]:void 0;for(o=e.length>3&&typeof o=="function"?(n--,o):void 0,s&&xY(r[0],r[1],s)&&(o=n<3?void 0:o,n=1),t=Object(t);++i<n;){var a=r[i];a&&e(t,a,i,o)}return t})}var SY=Ebt;var Rbt=Object.prototype;function Tbt(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Rbt;return e===r}var U5=Tbt;function Mbt(e,t){for(var r=-1,i=Array(e);++r<e;)i[r]=t(r);return i}var EY=Mbt;var Abt="[object Arguments]";function Ibt(e){return Bu(e)&&Pm(e)==Abt}var XP=Ibt;var RY=Object.prototype,kbt=RY.hasOwnProperty,Dbt=RY.propertyIsEnumerable,Obt=XP(function(){return arguments}())?XP:function(e){return Bu(e)&&kbt.call(e,"callee")&&!Dbt.call(e,"callee")},uC=Obt;function Pbt(){return!1}var TY=Pbt;var IY=typeof exports=="object"&&exports&&!exports.nodeType&&exports,MY=IY&&typeof module=="object"&&module&&!module.nodeType&&module,Nbt=MY&&MY.exports===IY,AY=Nbt?Dc.Buffer:void 0,Lbt=AY?AY.isBuffer:void 0,Fbt=Lbt||TY,W5=Fbt;var Hbt="[object Arguments]",Bbt="[object Array]",jbt="[object Boolean]",Vbt="[object Date]",zbt="[object Error]",Ubt="[object Function]",Wbt="[object Map]",Ybt="[object Number]",qbt="[object Object]",$bt="[object RegExp]",Gbt="[object Set]",Kbt="[object String]",Xbt="[object WeakMap]",Zbt="[object ArrayBuffer]",Qbt="[object DataView]",Jbt="[object Float32Array]",tvt="[object Float64Array]",evt="[object Int8Array]",ivt="[object Int16Array]",rvt="[object Int32Array]",nvt="[object Uint8Array]",ovt="[object Uint8ClampedArray]",svt="[object Uint16Array]",avt="[object Uint32Array]",ho={};ho[Jbt]=ho[tvt]=ho[evt]=ho[ivt]=ho[rvt]=ho[nvt]=ho[ovt]=ho[svt]=ho[avt]=!0;ho[Hbt]=ho[Bbt]=ho[Zbt]=ho[jbt]=ho[Qbt]=ho[Vbt]=ho[zbt]=ho[Ubt]=ho[Wbt]=ho[Ybt]=ho[qbt]=ho[$bt]=ho[Gbt]=ho[Kbt]=ho[Xbt]=!1;function lvt(e){return Bu(e)&&z5(e.length)&&!!ho[Pm(e)]}var kY=lvt;function cvt(e){return function(t){return e(t)}}var DY=cvt;var OY=typeof exports=="object"&&exports&&!exports.nodeType&&exports,hC=OY&&typeof module=="object"&&module&&!module.nodeType&&module,dvt=hC&&hC.exports===OY,ZP=dvt&&H5.process,uvt=function(){try{var e=hC&&hC.require&&hC.require("util").types;return e||ZP&&ZP.binding&&ZP.binding("util")}catch{}}(),QP=uvt;var PY=QP&&QP.isTypedArray,hvt=PY?DY(PY):kY,Y5=hvt;var fvt=Object.prototype,mvt=fvt.hasOwnProperty;function pvt(e,t){var r=dC(e),i=!r&&uC(e),n=!r&&!i&&W5(e),o=!r&&!i&&!n&&Y5(e),s=r||i||n||o,a=s?EY(e.length,String):[],l=a.length;for(var c in e)(t||mvt.call(e,c))&&!(s&&(c=="length"||n&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||V5(c,l)))&&a.push(c);return a}var NY=pvt;function gvt(e,t){return function(r){return e(t(r))}}var LY=gvt;function bvt(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var FY=bvt;var vvt=Object.prototype,yvt=vvt.hasOwnProperty;function _vt(e){if(!gl(e))return FY(e);var t=U5(e),r=[];for(var i in e)i=="constructor"&&(t||!yvt.call(e,i))||r.push(i);return r}var HY=_vt;function wvt(e){return Vv(e)?NY(e,!0):HY(e)}var q5=wvt;var Cvt=Hv(Object,"create"),lf=Cvt;function xvt(){this.__data__=lf?lf(null):{},this.size=0}var BY=xvt;function Svt(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var jY=Svt;var Evt="__lodash_hash_undefined__",Rvt=Object.prototype,Tvt=Rvt.hasOwnProperty;function Mvt(e){var t=this.__data__;if(lf){var r=t[e];return r===Evt?void 0:r}return Tvt.call(t,e)?t[e]:void 0}var VY=Mvt;var Avt=Object.prototype,Ivt=Avt.hasOwnProperty;function kvt(e){var t=this.__data__;return lf?t[e]!==void 0:Ivt.call(t,e)}var zY=kvt;var Dvt="__lodash_hash_undefined__";function Ovt(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=lf&&t===void 0?Dvt:t,this}var UY=Ovt;function zv(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}zv.prototype.clear=BY;zv.prototype.delete=jY;zv.prototype.get=VY;zv.prototype.has=zY;zv.prototype.set=UY;var JP=zv;function Pvt(){this.__data__=[],this.size=0}var WY=Pvt;function Nvt(e,t){for(var r=e.length;r--;)if(Nm(e[r][0],t))return r;return-1}var Lm=Nvt;var Lvt=Array.prototype,Fvt=Lvt.splice;function Hvt(e){var t=this.__data__,r=Lm(t,e);if(r<0)return!1;var i=t.length-1;return r==i?t.pop():Fvt.call(t,r,1),--this.size,!0}var YY=Hvt;function Bvt(e){var t=this.__data__,r=Lm(t,e);return r<0?void 0:t[r][1]}var qY=Bvt;function jvt(e){return Lm(this.__data__,e)>-1}var $Y=jvt;function Vvt(e,t){var r=this.__data__,i=Lm(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this}var GY=Vvt;function Uv(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}Uv.prototype.clear=WY;Uv.prototype.delete=YY;Uv.prototype.get=qY;Uv.prototype.has=$Y;Uv.prototype.set=GY;var Fm=Uv;var zvt=Hv(Dc,"Map"),$5=zvt;function Uvt(){this.size=0,this.__data__={hash:new JP,map:new($5||Fm),string:new JP}}var KY=Uvt;function Wvt(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var XY=Wvt;function Yvt(e,t){var r=e.__data__;return XY(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Hm=Yvt;function qvt(e){var t=Hm(this,e).delete(e);return this.size-=t?1:0,t}var ZY=qvt;function $vt(e){return Hm(this,e).get(e)}var QY=$vt;function Gvt(e){return Hm(this,e).has(e)}var JY=Gvt;function Kvt(e,t){var r=Hm(this,e),i=r.size;return r.set(e,t),this.size+=r.size==i?0:1,this}var tq=Kvt;function Wv(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}Wv.prototype.clear=KY;Wv.prototype.delete=ZY;Wv.prototype.get=QY;Wv.prototype.has=JY;Wv.prototype.set=tq;var eq=Wv;var Xvt=LY(Object.getPrototypeOf,Object),G5=Xvt;var Zvt="[object Object]",Qvt=Function.prototype,Jvt=Object.prototype,iq=Qvt.toString,tyt=Jvt.hasOwnProperty,eyt=iq.call(Object);function iyt(e){if(!Bu(e)||Pm(e)!=Zvt)return!1;var t=G5(e);if(t===null)return!0;var r=tyt.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&iq.call(r)==eyt}var rq=iyt;function ryt(){this.__data__=new Fm,this.size=0}var nq=ryt;function nyt(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var oq=nyt;function oyt(e){return this.__data__.get(e)}var sq=oyt;function syt(e){return this.__data__.has(e)}var aq=syt;var ayt=200;function lyt(e,t){var r=this.__data__;if(r instanceof Fm){var i=r.__data__;if(!$5||i.length<ayt-1)return i.push([e,t]),this.size=++r.size,this;r=this.__data__=new eq(i)}return r.set(e,t),this.size=r.size,this}var lq=lyt;function Yv(e){var t=this.__data__=new Fm(e);this.size=t.size}Yv.prototype.clear=nq;Yv.prototype.delete=oq;Yv.prototype.get=sq;Yv.prototype.has=aq;Yv.prototype.set=lq;var cq=Yv;var fq=typeof exports=="object"&&exports&&!exports.nodeType&&exports,dq=fq&&typeof module=="object"&&module&&!module.nodeType&&module,cyt=dq&&dq.exports===fq,uq=cyt?Dc.Buffer:void 0,hq=uq?uq.allocUnsafe:void 0;function dyt(e,t){if(t)return e.slice();var r=e.length,i=hq?hq(r):new e.constructor(r);return e.copy(i),i}var mq=dyt;var uyt=Dc.Uint8Array,tN=uyt;function hyt(e){var t=new e.constructor(e.byteLength);return new tN(t).set(new tN(e)),t}var pq=hyt;function fyt(e,t){var r=t?pq(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var gq=fyt;function myt(e){return typeof e.constructor=="function"&&!U5(e)?uY(G5(e)):{}}var bq=myt;function pyt(e){return function(t,r,i){for(var n=-1,o=Object(t),s=i(t),a=s.length;a--;){var l=s[e?a:++n];if(r(o[l],l,o)===!1)break}return t}}var vq=pyt;var gyt=vq(),yq=gyt;function byt(e,t,r){(r!==void 0&&!Nm(e[t],r)||r===void 0&&!(t in e))&&jv(e,t,r)}var fC=byt;function vyt(e){return Bu(e)&&Vv(e)}var _q=vyt;function yyt(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var mC=yyt;function _yt(e){return yY(e,q5(e))}var wq=_yt;function wyt(e,t,r,i,n,o,s){var a=mC(e,r),l=mC(t,r),c=s.get(l);if(c){fC(e,r,c);return}var d=o?o(a,l,r+"",e,t,s):void 0,u=d===void 0;if(u){var h=dC(l),f=!h&&W5(l),m=!h&&!f&&Y5(l);d=l,h||f||m?dC(a)?d=a:_q(a)?d=fY(a):f?(u=!1,d=mq(l,!0)):m?(u=!1,d=gq(l,!0)):d=[]:rq(l)||uC(l)?(d=a,uC(a)?d=wq(a):(!gl(a)||Fv(a))&&(d=bq(l))):u=!1}u&&(s.set(l,d),n(d,l,i,o,s),s.delete(l)),fC(e,r,d)}var Cq=wyt;function xq(e,t,r,i,n){e!==t&&yq(t,function(o,s){if(n||(n=new cq),gl(o))Cq(e,t,s,r,xq,i,n);else{var a=i?i(mC(e,s),o,s+"",e,t,n):void 0;a===void 0&&(a=o),fC(e,s,a)}},q5)}var Sq=xq;var Cyt=SY(function(e,t,r){Sq(e,t,r)}),K5=Cyt;var Eq=new Se("Configuration for ngCharts");function Rq(...e){return{registerables:[...tY,...e]}}function Tq(...e){let t=K5({},...e);return{provide:Eq,useValue:t}}var xyt=(()=>{let t=class t{constructor(){this.colorschemesOptions=new An(void 0)}setColorschemesOptions(i){this.pColorschemesOptions=i,this.colorschemesOptions.next(i)}getColorschemesOptions(){return this.pColorschemesOptions}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),X5=(()=>{let t=class t{constructor(i,n,o,s){this.zone=n,this.themeService=o,this.type="bar",this.plugins=[],this.chartClick=new ai,this.chartHover=new ai,this.subs=[],this.themeOverrides={},s?.registerables&&Nv.register(...s.registerables),s?.defaults&&uo.set(s.defaults),this.ctx=i.nativeElement.getContext("2d"),this.subs.push(this.themeService.colorschemesOptions.pipe(xg()).subscribe(a=>this.themeChanged(a)))}ngOnChanges(i){let n=["type"],o=Object.getOwnPropertyNames(i);if(o.some(s=>n.includes(s))||o.every(s=>i[s].isFirstChange()))this.render();else{let s=this.getChartConfiguration();this.chart&&(Object.assign(this.chart.config.data,s.data),this.chart.config.plugins&&Object.assign(this.chart.config.plugins,s.plugins),this.chart.config.options&&Object.assign(this.chart.config.options,s.options)),this.update()}}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=void 0),this.subs.forEach(i=>i.unsubscribe())}render(){return this.chart&&this.chart.destroy(),this.zone.runOutsideAngular(()=>this.chart=new Nv(this.ctx,this.getChartConfiguration()))}update(i){this.chart&&this.zone.runOutsideAngular(()=>this.chart?.update(i))}hideDataset(i,n){this.chart&&(this.chart.getDatasetMeta(i).hidden=n,this.update())}isDatasetHidden(i){return this.chart?.getDatasetMeta(i)?.hidden}toBase64Image(){return this.chart?.toBase64Image()}themeChanged(i){this.themeOverrides=i,this.chart&&(this.chart.config.options&&Object.assign(this.chart.config.options,this.getChartOptions()),this.update())}getChartOptions(){return K5({onHover:(i,n)=>{!this.chartHover.observed&&!this.chartHover.observers?.length||this.zone.run(()=>this.chartHover.emit({event:i,active:n}))},onClick:(i,n)=>{!this.chartClick.observed&&!this.chartClick.observers?.length||this.zone.run(()=>this.chartClick.emit({event:i,active:n}))}},this.themeOverrides,this.options,{plugins:{legend:{display:this.legend}}})}getChartConfiguration(){return{type:this.type,data:this.getChartData(),options:this.getChartOptions(),plugins:this.plugins}}getChartData(){return this.data?this.data:{labels:this.labels||[],datasets:this.datasets||[]}}};t.\u0275fac=function(n){return new(n||t)(Pt(hi),Pt(ui),Pt(xyt),Pt(Eq,8))},t.\u0275dir=ni({type:t,selectors:[["canvas","baseChart",""]],inputs:{type:"type",legend:"legend",data:"data",options:"options",plugins:"plugins",labels:"labels",datasets:"datasets"},outputs:{chartClick:"chartClick",chartHover:"chartHover"},exportAs:["base-chart"],standalone:!0,features:[er]});let e=t;return e})();function Mq(e){return e&&e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function Aq(e){return e}function eN(e,t){t=t||{};let r=t.delimiter||".",i=t.maxDepth,n=t.transformKey||Aq,o={};function s(a,l,c){c=c||1,Object.keys(a).forEach(function(d){let u=a[d],h=t.safe&&Array.isArray(u),f=Object.prototype.toString.call(u),m=Mq(u),g=f==="[object Object]"||f==="[object Array]",p=l?l+r+n(d):n(d);if(!h&&!m&&g&&Object.keys(u).length&&(!t.maxDepth||c<i))return s(u,p,c+1);o[p]=u})}return s(e),o}function iN(e,t){t=t||{};let r=t.delimiter||".",i=t.overwrite||!1,n=t.transformKey||Aq,o={};if(Mq(e)||Object.prototype.toString.call(e)!=="[object Object]")return e;function a(d){let u=Number(d);return isNaN(u)||d.indexOf(".")!==-1||t.object?d:u}function l(d,u,h){return Object.keys(h).reduce(function(f,m){return f[d+r+m]=h[m],f},u)}function c(d){let u=Object.prototype.toString.call(d),h=u==="[object Array]",f=u==="[object Object]";if(d){if(h)return!d.length;if(f)return!Object.keys(d).length}else return!0}return e=Object.keys(e).reduce(function(d,u){let h=Object.prototype.toString.call(e[u]);return!(h==="[object Object]"||h==="[object Array]")||c(e[u])?(d[u]=e[u],d):l(u,d,eN(e[u],t))},{}),Object.keys(e).forEach(function(d){let u=d.split(r).map(n),h=a(u.shift()),f=a(u[0]),m=o;for(;f!==void 0;){if(h==="__proto__")return;let g=Object.prototype.toString.call(m[h]),p=g==="[object Object]"||g==="[object Array]";if(!i&&!p&&typeof m[h]<"u")return;(i&&!p||!i&&m[h]==null)&&(m[h]=typeof f=="number"&&!t.object?[]:{}),m=m[h],u.length>0&&(h=a(u.shift()),f=a(u[0]))}m[h]=iN(e[d],t)}),o}var nN=class{translations;constructor(t){this.translations=t}getTranslation(t){return De(this.translations.get(t)||{})}},Oq=new Se("TRANSLOCO_LOADER");function Iq(e,t){return e&&(Object.prototype.hasOwnProperty.call(e,t)?e[t]:t.split(".").reduce((r,i)=>r?.[i],e))}function Syt(e,t,r){e=Vt({},e);let i=t.split("."),n=i.length-1;return i.reduce((o,s,a)=>(a===n?o[s]=r:o[s]=Array.isArray(o[s])?o[s].slice():Vt({},o[s]),o&&o[s]),e),e}function Pq(e){return e?Array.isArray(e)?e.length:cN(e)?Object.keys(e).length:e?e.length:0:0}function Eyt(e){return Pq(e)===0}function Ryt(e){return typeof e=="function"}function pC(e){return typeof e=="string"}function cN(e){return!!e&&typeof e=="object"&&!Array.isArray(e)}function Nq(e){return e.replace(/(?:^\w|[A-Z]|\b\w)/g,(t,r)=>r==0?t.toLowerCase():t.toUpperCase()).replace(/\s+|_|-|\//g,"")}function oN(e){return e==null}function kq(e){return oN(e)===!1}function dN(e){return e&&typeof e.scope=="string"}function Tyt(e){return Array.isArray(e)&&e.every(dN)}function Myt(e){return e&&cN(e.loader)}function Ayt(e){return iN(e)}function Dq(e){return eN(e,{safe:!0})}var qv=new Se("TRANSLOCO_CONFIG",{providedIn:"root",factory:()=>gC}),gC={defaultLang:"en",reRenderOnLangChange:!1,prodMode:!1,failedRetries:2,fallbackLang:[],availableLangs:[],missingHandler:{logMissingKey:!0,useFallbackTranslation:!1,allowEmpty:!1},flatten:{aot:!1},interpolation:["{{","}}"]};function Iyt(e={}){return je(Vt(Vt({},gC),e),{missingHandler:Vt(Vt({},gC.missingHandler),e.missingHandler),flatten:Vt(Vt({},gC.flatten),e.flatten)})}var Lq=new Se("TRANSLOCO_TRANSPILER"),kyt=(()=>{class e{interpolationMatcher;constructor(r){this.interpolationMatcher=Dyt(r??gC)}transpile(r,i={},n,o){return pC(r)?r.replace(this.interpolationMatcher,(s,a)=>(a=a.trim(),kq(i[a])?i[a]:kq(n[a])?this.transpile(n[a],i,n,o):"")):(i&&(cN(r)?r=this.handleObject(r,i,n,o):Array.isArray(r)&&(r=this.handleArray(r,i,n,o))),r)}handleObject(r,i={},n,o){let s=r;return Object.keys(i).forEach(a=>{let l=Iq(s,a),c=Iq(i,a),d=this.transpile(l,c,n,o);s=Syt(s,a,d)}),s}handleArray(r,i={},n,o){return r.map(s=>this.transpile(s,i,n,o))}static \u0275fac=function(i){return new(i||e)(ee(qv,8))};static \u0275prov=_e({token:e,factory:e.\u0275fac})}return e})();function Dyt(e){let[t,r]=e.interpolation;return new RegExp(`${t}(.*?)${r}`,"g")}var Fq=new Se("TRANSLOCO_MISSING_HANDLER"),Oyt=(()=>{class e{handle(r,i){if(i.missingHandler.logMissingKey&&!i.prodMode){let n=`Missing translation for '${r}'`;console.warn(`%c ${n}`,"font-size: 12px; color: red")}return r}static \u0275fac=function(i){return new(i||e)};static \u0275prov=_e({token:e,factory:e.\u0275fac})}return e})(),Hq=new Se("TRANSLOCO_INTERCEPTOR"),Pyt=(()=>{class e{preSaveTranslation(r){return r}preSaveTranslationKey(r,i){return i}static \u0275fac=function(i){return new(i||e)};static \u0275prov=_e({token:e,factory:e.\u0275fac})}return e})(),Bq=new Se("TRANSLOCO_FALLBACK_STRATEGY"),Nyt=(()=>{class e{userConfig;constructor(r){this.userConfig=r}getNextLangs(){let r=this.userConfig.fallbackLang;if(!r)throw new Error("When using the default fallback, a fallback language must be provided in the config!");return Array.isArray(r)?r:[r]}static \u0275fac=function(i){return new(i||e)(ee(qv))};static \u0275prov=_e({token:e,factory:e.\u0275fac})}return e})();function bC(e){if(!e)return"";let t=e.split("/");return t.pop(),t.join("/")}function Bm(e){return e?e.split("/").pop():""}function sN(e,t,r="|"){if(pC(e)){let i=e.split(r),n=i.pop();return n===t?[!0,i.toString()]:[!1,n]}return[!1,""]}function Lyt(e,t){let[r]=sN(t,"static");return r?!1:!!e.config.reRenderOnLangChange}function Fyt(e){return e?t=>t:to(1)}function Hyt(e,t){return Object.keys(e).reduce((r,i)=>(r[`${t}/${i}`]=e[i],r),{})}function jq(e,t){return Myt(e)?Hyt(e.loader,t):void 0}function rN(e){return{scope:bC(e)||null,langName:Bm(e)}}function Vq(e){let{path:t,inlineLoader:r,mainLoader:i,data:n}=e;if(r){let o=r[t];if(Ryt(o)===!1)throw`You're using an inline loader but didn't provide a loader for ${t}`;return r[t]().then(s=>s.default?s.default:s)}return i.getTranslation(t,n)}function Byt({mainLoader:e,path:t,data:r,fallbackPath:i,inlineLoader:n}){return(i?[t,i]:[t]).map(s=>{let a=Vq({path:s,mainLoader:e,inlineLoader:n,data:r});return as(a).pipe(di(l=>({translation:l,lang:s})))})}var jyt;var Xl=(()=>{class e{loader;parser;missingHandler;interceptor;fallbackStrategy;langChanges$;subscription=null;translations=new Map;cache=new Map;firstFallbackLang;defaultLang="";availableLangs=[];isResolvedMissingOnce=!1;lang;failedLangs=new Set;events=new Je;events$=this.events.asObservable();config;constructor(r,i,n,o,s,a){this.loader=r,this.parser=i,this.missingHandler=n,this.interceptor=o,this.fallbackStrategy=a,this.loader||(this.loader=new nN(this.translations)),jyt=this,this.config=JSON.parse(JSON.stringify(s)),this.setAvailableLangs(this.config.availableLangs||[]),this.setFallbackLangForMissingTranslation(this.config),this.setDefaultLang(this.config.defaultLang),this.lang=new An(this.getDefaultLang()),this.langChanges$=this.lang.asObservable(),this.subscription=this.events$.subscribe(l=>{l.type==="translationLoadSuccess"&&l.wasFailure&&this.setActiveLang(l.payload.langName)})}getDefaultLang(){return this.defaultLang}setDefaultLang(r){this.defaultLang=r}getActiveLang(){return this.lang.getValue()}setActiveLang(r){return this.parser.onLangChanged?.(r),this.lang.next(r),this.events.next({type:"langChanged",payload:rN(r)}),this}setAvailableLangs(r){this.availableLangs=r}getAvailableLangs(){return this.availableLangs}load(r,i={}){let n=this.cache.get(r);if(n)return n;let o,s=this._isLangScoped(r),a;s&&(a=bC(r));let l={path:r,mainLoader:this.loader,inlineLoader:i.inlineLoader,data:s?{scope:a}:void 0};if(this.useFallbackTranslation(r)){let d=s?`${a}/${this.firstFallbackLang}`:this.firstFallbackLang,u=Byt(je(Vt({},l),{fallbackPath:d}));o=Tu(u)}else{let d=Vq(l);o=as(d)}let c=o.pipe(YH(this.config.failedRetries),fn(d=>{if(Array.isArray(d)){d.forEach(u=>{this.handleSuccess(u.lang,u.translation),u.lang!==r&&this.cache.set(u.lang,De({}))});return}this.handleSuccess(r,d)}),zl(d=>(this.config.prodMode||console.error(`Error while trying to load "${r}"`,d),this.handleFailure(r,i))),P1(1));return this.cache.set(r,c),c}translate(r,i={},n=this.getActiveLang()){if(!r)return r;let{scope:o,resolveLang:s}=this.resolveLangAndScope(n);if(Array.isArray(r))return r.map(c=>this.translate(o?`${o}.${c}`:c,i,s));r=o?`${o}.${r}`:r;let a=this.getTranslation(s),l=a[r];return l?this.parser.transpile(l,i,a,r):this._handleMissingKey(r,l,i)}selectTranslate(r,i,n,o=!1){let s,a=(c,d)=>this.load(c,d).pipe(di(()=>o?this.translateObject(r,i,c):this.translate(r,i,c)));if(oN(n))return this.langChanges$.pipe(yo(c=>a(c)));if(Tyt(n)||dN(n)){let c=Array.isArray(n)?n[0]:n;n=c.scope,s=jq(c,c.scope)}if(n=n,this.isLang(n)||this.isScopeWithLang(n))return a(n);let l=n;return this.langChanges$.pipe(yo(c=>a(`${l}/${c}`,{inlineLoader:s})))}isScopeWithLang(r){return this.isLang(Bm(r))}translateObject(r,i={},n=this.getActiveLang()){if(pC(r)||Array.isArray(r)){let{resolveLang:s,scope:a}=this.resolveLangAndScope(n);if(Array.isArray(r))return r.map(d=>this.translateObject(a?`${a}.${d}`:d,i,s));let l=this.getTranslation(s);r=a?`${a}.${r}`:r;let c=Ayt(this.getObjectByKey(l,r));return Eyt(c)?this.translate(r,i,n):this.parser.transpile(c,i,l,r)}let o=[];for(let[s,a]of this.getEntries(r))o.push(this.translateObject(s,a,n));return o}selectTranslateObject(r,i,n){if(pC(r)||Array.isArray(r))return this.selectTranslate(r,i,n,!0);let[[o,s],...a]=this.getEntries(r);return this.selectTranslateObject(o,s,n).pipe(di(l=>{let c=[l];for(let[d,u]of a)c.push(this.translateObject(d,u,n));return c}))}getTranslation(r){if(r){if(this.isLang(r))return this.translations.get(r)||{};{let{scope:i,resolveLang:n}=this.resolveLangAndScope(r),o=this.translations.get(n)||{};return this.getObjectByKey(o,i)}}return this.translations}selectTranslation(r){let i=this.langChanges$;if(r){let n=Bm(r)!==r;this.isLang(r)||n?i=De(r):i=this.langChanges$.pipe(di(o=>`${r}/${o}`))}return i.pipe(yo(n=>this.load(n).pipe(di(()=>this.getTranslation(n)))))}setTranslation(r,i=this.getActiveLang(),n={}){let s=Vt(Vt({},{merge:!0,emitChange:!0}),n),a=bC(i),l=r;if(a){let f=this.getMappedScope(a);l=Dq({[f]:r})}let c=a?Bm(i):i,d=Vt(Vt({},s.merge&&this.getTranslation(c)),l),u=this.config.flatten.aot?d:Dq(d),h=this.interceptor.preSaveTranslation(u,c);this.translations.set(c,h),s.emitChange&&this.setActiveLang(this.getActiveLang())}setTranslationKey(r,i,n=this.getActiveLang(),o={}){let s=this.interceptor.preSaveTranslationKey(r,i,n),a={[r]:s};this.setTranslation(a,n,je(Vt({},o),{merge:!0}))}setFallbackLangForMissingTranslation({fallbackLang:r}){let i=Array.isArray(r)?r[0]:r;r&&this.useFallbackTranslation(i)&&(this.firstFallbackLang=i)}_handleMissingKey(r,i,n){if(this.config.missingHandler.allowEmpty&&i==="")return"";if(!this.isResolvedMissingOnce&&this.useFallbackTranslation()){this.isResolvedMissingOnce=!0;let o=this.translate(r,n,this.firstFallbackLang);return this.isResolvedMissingOnce=!1,o}return this.missingHandler.handle(r,this.getMissingHandlerData(),n)}_isLangScoped(r){return this.getAvailableLangsIds().indexOf(r)===-1}isLang(r){return this.getAvailableLangsIds().indexOf(r)!==-1}_loadDependencies(r,i){let n=Bm(r);return this._isLangScoped(r)&&!this.isLoadedTranslation(n)?wc([this.load(n),this.load(r,{inlineLoader:i})]):this.load(r,{inlineLoader:i})}_completeScopeWithLang(r){return this._isLangScoped(r)&&!this.isLang(Bm(r))?`${r}/${this.getActiveLang()}`:r}_setScopeAlias(r,i){this.config.scopeMapping||(this.config.scopeMapping={}),this.config.scopeMapping[r]=i}ngOnDestroy(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null),this.cache.clear()}isLoadedTranslation(r){return Pq(this.getTranslation(r))}getAvailableLangsIds(){let r=this.getAvailableLangs()[0];return pC(r)?this.getAvailableLangs():this.getAvailableLangs().map(i=>i.id)}getMissingHandlerData(){return je(Vt({},this.config),{activeLang:this.getActiveLang(),availableLangs:this.availableLangs,defaultLang:this.defaultLang})}useFallbackTranslation(r){return this.config.missingHandler.useFallbackTranslation&&r!==this.firstFallbackLang}handleSuccess(r,i){this.setTranslation(i,r,{emitChange:!1}),this.events.next({wasFailure:!!this.failedLangs.size,type:"translationLoadSuccess",payload:rN(r)}),this.failedLangs.forEach(n=>this.cache.delete(n)),this.failedLangs.clear()}handleFailure(r,i){oN(i.failedCounter)&&(i.failedCounter=0,i.fallbackLangs||(i.fallbackLangs=this.fallbackStrategy.getNextLangs(r)));let n=r.split("/"),s=i.fallbackLangs[i.failedCounter];if(this.failedLangs.add(r),this.cache.has(s))return this.handleSuccess(s,this.getTranslation(s)),cl;let a=s===n[n.length-1];if(!s||a){let c="Unable to load translation and all the fallback languages";throw n.length>1&&(c+=", did you misspelled the scope name?"),new Error(c)}let l=s;return n.length>1&&(n[n.length-1]=s,l=n.join("/")),i.failedCounter++,this.events.next({type:"translationLoadFailure",payload:rN(r)}),this.load(l,i)}getMappedScope(r){let{scopeMapping:i={}}=this.config;return i[r]||Nq(r)}resolveLangAndScope(r){let i=r,n;if(this._isLangScoped(r)){let o=Bm(r),s=this.isLang(o);i=s?o:this.getActiveLang(),n=this.getMappedScope(s?bC(r):r)}return{scope:n,resolveLang:i}}getObjectByKey(r,i){let n={},o=`${i}.`;for(let s in r)s.startsWith(o)&&(n[s.replace(o,"")]=r[s]);return n}getEntries(r){return r instanceof Map?r.entries():Object.entries(r)}static \u0275fac=function(i){return new(i||e)(ee(Oq,8),ee(Lq),ee(Fq),ee(Hq),ee(qv),ee(Bq))};static \u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Vyt=new Se("TRANSLOCO_LANG"),uUt=new Se("TRANSLOCO_LOADING_TEMPLATE"),zyt=new Se("TRANSLOCO_SCOPE"),aN=class{initialized=!1;resolve({inline:t,provider:r,active:i}){let n=i;if(this.initialized)return n=i,n;if(r){let[,o]=sN(r,"static");n=o}if(t){let[,o]=sN(t,"static");n=o}return this.initialized=!0,n}resolveLangBasedOnScope(t){return bC(t)?Bm(t):t}resolveLangPath(t,r){return r?`${r}/${t}`:t}},lN=class{service;constructor(t){this.service=t}resolve(t){let{inline:r,provider:i}=t;if(r)return r;if(i){if(dN(i)){let{scope:n,alias:o=Nq(n)}=i;return this.service._setScopeAlias(n,o),n}return i}}};var jm=(()=>{class e{service;providerScope;providerLang;cdr;subscription=null;lastValue="";lastKey;path;langResolver=new aN;scopeResolver;constructor(r,i,n,o){this.service=r,this.providerScope=i,this.providerLang=n,this.cdr=o,this.scopeResolver=new lN(this.service)}transform(r,i,n){if(!r)return r;let o=i?`${r}${JSON.stringify(i)}`:r;if(o===this.lastKey)return this.lastValue;this.lastKey=o,this.subscription?.unsubscribe();let s=Lyt(this.service,this.providerLang||n);return this.subscription=this.service.langChanges$.pipe(yo(a=>{let l=this.langResolver.resolve({inline:n,provider:this.providerLang,active:a});return Array.isArray(this.providerScope)?Tu(this.providerScope.map(c=>this.resolveScope(l,c))):this.resolveScope(l,this.providerScope)}),Fyt(s)).subscribe(()=>this.updateValue(r,i)),this.lastValue}ngOnDestroy(){this.subscription?.unsubscribe(),this.subscription=null}updateValue(r,i){let n=this.langResolver.resolveLangBasedOnScope(this.path);this.lastValue=this.service.translate(r,i,n),this.cdr.markForCheck()}resolveScope(r,i){let n=this.scopeResolver.resolve({inline:void 0,provider:i});this.path=this.langResolver.resolveLangPath(r,n);let o=jq(i,n);return this.service._loadDependencies(this.path,o)}static \u0275fac=function(i){return new(i||e)(Pt(Xl,16),Pt(zyt,24),Pt(Vyt,24),Pt(hr,16))};static \u0275pipe=KH({name:"transloco",type:e,pure:!1,standalone:!0})}return e})();var Vm=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=Ue({type:e});static \u0275inj=ze({})}return e})();function zq(e){let t=[Yyt(kyt),$yt(Oyt),Gyt(Pyt),qyt(Nyt)];return e.config&&t.push(Uyt(e.config)),e.loader&&t.push(Wyt(e.loader)),t}function Uyt(e){return Wl([{provide:qv,useValue:Iyt(e)}])}function Wyt(e){return Wl([{provide:Oq,useClass:e}])}function Yyt(e){return Wl([{provide:Lq,useClass:e,deps:[qv]}])}function qyt(e){return Wl([{provide:Bq,useClass:e,deps:[qv]}])}function $yt(e){return Wl([{provide:Fq,useClass:e}])}function Gyt(e){return Wl([{provide:Hq,useClass:e}])}var hUt=new Se("TRANSLOCO_TEST_LANGS - Available testing languages"),fUt=new Se("TRANSLOCO_TEST_OPTIONS - Testing options");var Uq=(()=>{let t=class t{constructor(i){this.translocoService=i,this.barChartData_datasets=[],this.barChartData_labels=[],this.barChartOptions={responsive:!0,plugins:{legend:{display:!0,labels:{generateLabels:n=>{let o=Nv.defaults.plugins.legend.labels.generateLabels;return o(n).map(a=>{let l=a.datasetIndex;if(l===void 0)return a;let c=n.data.datasets[l],d=n.isDatasetVisible(l),u=c.label??`Dataset ${l+1}`;return je(Vt({},a),{text:d?`${u} \u2714\uFE0F`:u})})}}},tooltip:{callbacks:{label:n=>{let o=n.dataset.label||"",s=n.parsed.y!==null?this.formatNumber(n.parsed.y):"";return`${o}: ${s}`}}}},scales:{x:{stacked:!0},y:{stacked:!1,ticks:{callback:n=>this.formatNumber(n)}}}},this.barChartLegend=!0,this.barChartType="bar"}formatNumber(i){let n=this.translocoService.getActiveLang();return Number(i).toLocaleString(n==="fr"?"fr-FR":"en-US",{useGrouping:!0})}ngOnChanges(i){i.barChartData&&this.barChartData&&(this.barChartData_datasets=this.barChartData.datasets,this.barChartData_labels=this.barChartData.labels)}};t.\u0275fac=function(n){return new(n||t)(Pt(Xl))},t.\u0275cmp=We({type:t,selectors:[["app-horizontal-bar-graph"]],inputs:{barChartData:"barChartData"},standalone:!0,features:[er,li],decls:1,vars:5,consts:[["baseChart","",3,"datasets","labels","options","legend","type"]],template:function(n,o){n&1&&He(0,"canvas",0),n&2&&Me("datasets",o.barChartData_datasets)("labels",o.barChartData_labels)("options",o.barChartOptions)("legend",o.barChartLegend)("type",o.barChartType)},dependencies:[X5]});let e=t;return e})();var Wq=(()=>{let t=class t{constructor(){this.pieChartOptions={devicePixelRatio:1,responsive:!1,plugins:{title:{display:!1,text:"Custom Chart Title"},legend:{position:"right",labels:{textAlign:"left",padding:1}}}},this.pieChartLegend=!0,this.pieChartType="doughnut"}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=We({type:t,selectors:[["app-pie-graph"]],inputs:{pieChartLabels:"pieChartLabels",pieChartData:"pieChartData",width:"width",height:"height"},standalone:!0,features:[li],decls:2,vars:7,consts:[["baseChart","",3,"width","height","datasets","labels","options","legend","type"]],template:function(n,o){n&1&&(ut(0,"div"),He(1,"canvas",0),dt()),n&2&&(te(),Me("width",o.width)("height",o.height)("datasets",o.pieChartData)("labels",o.pieChartLabels)("options",o.pieChartOptions)("legend",o.pieChartLegend)("type",o.pieChartType))},dependencies:[X5]});let e=t;return e})();var Yq=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ue({type:t}),t.\u0275inj=ze({imports:[c4,Si,c4,Si]});let e=t;return e})();var qq=["mat-button",""],$q=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Gq=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],Kyt='.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-app-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-app-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-app-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-app-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-app-level1));height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-app-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-app-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-app-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-app-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-app-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-app-corner-full));border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-app-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-app-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',Kq=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}";var Xyt=["mat-icon-button",""],Zyt=["*"];var Qyt=new Se("MAT_BUTTON_CONFIG");var Jyt=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],uN=(()=>{let t=class t{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(i){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,i)}get disableRipple(){return this._disableRipple}set disableRipple(i){this._disableRipple=i,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(i){this._disabled=i,this._updateRippleDisabled()}constructor(i,n,o,s){this._elementRef=i,this._platform=n,this._ngZone=o,this._animationMode=s,this._focusMonitor=pe(Xh),this._rippleLoader=pe(TV),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;let a=pe(Qyt,{optional:!0}),l=i.nativeElement,c=l.classList;this.disabledInteractive=a?.disabledInteractive??!1,this.color=a?.color??null,this._rippleLoader?.configureRipple(l,{className:"mat-mdc-button-ripple"});for(let{attribute:d,mdcClasses:u}of Jyt)l.hasAttribute(d)&&c.add(...u)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(i="program",n){i?this._focusMonitor.focusVia(this._elementRef.nativeElement,i,n):this._elementRef.nativeElement.focus(n)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}};t.\u0275fac=function(n){Uh()},t.\u0275dir=ni({type:t,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",Sr],disabled:[2,"disabled","disabled",Sr],ariaDisabled:[2,"aria-disabled","ariaDisabled",Sr],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Sr]},features:[Br]});let e=t;return e})();var t_t=(()=>{let t=class t extends uN{constructor(i,n,o,s){super(i,n,o,s),this._haltDisabledEvents=a=>{this.disabled&&(a.preventDefault(),a.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}_getAriaDisabled(){return this.ariaDisabled==null?this.disabled:this.ariaDisabled}};t.\u0275fac=function(n){Uh()},t.\u0275dir=ni({type:t,inputs:{tabIndex:[2,"tabIndex","tabIndex",i=>i==null?void 0:Va(i)]},features:[Br,Gr]});let e=t;return e})(),Rd=(()=>{let t=class t extends uN{constructor(i,n,o,s){super(i,n,o,s)}};t.\u0275fac=function(n){return new(n||t)(Pt(hi),Pt(jr),Pt(ui),Pt(Fo,8))},t.\u0275cmp=We({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(n,o){n&2&&(Yi("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),Js(o.color?"mat-"+o.color:""),Vi("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[Gr,li],attrs:qq,ngContentSelectors:Gq,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,o){n&1&&(pn($q),He(0,"span",0),ir(1),ut(2,"span",1),ir(3,1),dt(),ir(4,2),He(5,"span",2)(6,"span",3)),n&2&&Vi("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-app-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-app-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-app-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-app-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-app-level1));height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-app-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-app-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-app-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-app-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-app-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-app-corner-full));border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-app-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-app-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0});let e=t;return e})(),Xq=(()=>{let t=class t extends t_t{constructor(i,n,o,s){super(i,n,o,s)}};t.\u0275fac=function(n){return new(n||t)(Pt(hi),Pt(jr),Pt(ui),Pt(Fo,8))},t.\u0275cmp=We({type:t,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:15,hostBindings:function(n,o){n&2&&(Yi("disabled",o._getDisabledAttribute())("tabindex",o.disabled&&!o.disabledInteractive?-1:o.tabIndex)("aria-disabled",o._getDisabledAttribute()),Js(o.color?"mat-"+o.color:""),Vi("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton","matAnchor"],standalone:!0,features:[Gr,li],attrs:qq,ngContentSelectors:Gq,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,o){n&1&&(pn($q),He(0,"span",0),ir(1),ut(2,"span",1),ir(3,1),dt(),ir(4,2),He(5,"span",2)(6,"span",3)),n&2&&Vi("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:[Kyt,Kq],encapsulation:2,changeDetection:0});let e=t;return e})();var vC=(()=>{let t=class t extends uN{constructor(i,n,o,s){super(i,n,o,s),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}};t.\u0275fac=function(n){return new(n||t)(Pt(hi),Pt(jr),Pt(ui),Pt(Fo,8))},t.\u0275cmp=We({type:t,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(n,o){n&2&&(Yi("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),Js(o.color?"mat-"+o.color:""),Vi("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[Gr,li],attrs:Xyt,ngContentSelectors:Zyt,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,o){n&1&&(pn(),He(0,"span",0),ir(1),He(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);color:var(--mdc-icon-button-icon-color, var(--mat-app-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',Kq],encapsulation:2,changeDetection:0});let e=t;return e})();var ju=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ue({type:t}),t.\u0275inj=ze({imports:[Si,Ng,Si]});let e=t;return e})();var e_t=["*"],Q5;function i_t(){if(Q5===void 0&&(Q5=null,typeof window<"u")){let e=window;e.trustedTypes!==void 0&&(Q5=e.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return Q5}function yC(e){return i_t()?.createHTML(e)||e}function Zq(e){return Error(`Unable to find icon with the name "${e}"`)}function r_t(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function Qq(e){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${e}".`)}function Jq(e){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${e}".`)}var cf=class{constructor(t,r,i){this.url=t,this.svgText=r,this.options=i}},n_t=(()=>{let t=class t{constructor(i,n,o,s){this._httpClient=i,this._sanitizer=n,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=o}addSvgIcon(i,n,o){return this.addSvgIconInNamespace("",i,n,o)}addSvgIconLiteral(i,n,o){return this.addSvgIconLiteralInNamespace("",i,n,o)}addSvgIconInNamespace(i,n,o,s){return this._addSvgIconConfig(i,n,new cf(o,null,s))}addSvgIconResolver(i){return this._resolvers.push(i),this}addSvgIconLiteralInNamespace(i,n,o,s){let a=this._sanitizer.sanitize(ql.HTML,o);if(!a)throw Jq(o);let l=yC(a);return this._addSvgIconConfig(i,n,new cf("",l,s))}addSvgIconSet(i,n){return this.addSvgIconSetInNamespace("",i,n)}addSvgIconSetLiteral(i,n){return this.addSvgIconSetLiteralInNamespace("",i,n)}addSvgIconSetInNamespace(i,n,o){return this._addSvgIconSetConfig(i,new cf(n,null,o))}addSvgIconSetLiteralInNamespace(i,n,o){let s=this._sanitizer.sanitize(ql.HTML,n);if(!s)throw Jq(n);let a=yC(s);return this._addSvgIconSetConfig(i,new cf("",a,o))}registerFontClassAlias(i,n=i){return this._fontCssClassesByAlias.set(i,n),this}classNameForFontAlias(i){return this._fontCssClassesByAlias.get(i)||i}setDefaultFontSetClass(...i){return this._defaultFontSetClass=i,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(i){let n=this._sanitizer.sanitize(ql.RESOURCE_URL,i);if(!n)throw Qq(i);let o=this._cachedIconsByUrl.get(n);return o?De(J5(o)):this._loadSvgIconFromConfig(new cf(i,null)).pipe(fn(s=>this._cachedIconsByUrl.set(n,s)),di(s=>J5(s)))}getNamedSvgIcon(i,n=""){let o=t$(n,i),s=this._svgIconConfigs.get(o);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(n,i),s)return this._svgIconConfigs.set(o,s),this._getSvgFromConfig(s);let a=this._iconSetConfigs.get(n);return a?this._getSvgFromIconSetConfigs(i,a):_g(Zq(o))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(i){return i.svgText?De(J5(this._svgElementFromConfig(i))):this._loadSvgIconFromConfig(i).pipe(di(n=>J5(n)))}_getSvgFromIconSetConfigs(i,n){let o=this._extractIconWithNameFromAnySet(i,n);if(o)return De(o);let s=n.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(zl(l=>{let d=`Loading icon set URL: ${this._sanitizer.sanitize(ql.RESOURCE_URL,a.url)} failed: ${l.message}`;return this._errorHandler.handleError(new Error(d)),De(null)})));return Tu(s).pipe(di(()=>{let a=this._extractIconWithNameFromAnySet(i,n);if(!a)throw Zq(i);return a}))}_extractIconWithNameFromAnySet(i,n){for(let o=n.length-1;o>=0;o--){let s=n[o];if(s.svgText&&s.svgText.toString().indexOf(i)>-1){let a=this._svgElementFromConfig(s),l=this._extractSvgIconFromSet(a,i,s.options);if(l)return l}}return null}_loadSvgIconFromConfig(i){return this._fetchIcon(i).pipe(fn(n=>i.svgText=n),di(()=>this._svgElementFromConfig(i)))}_loadSvgIconSetFromConfig(i){return i.svgText?De(null):this._fetchIcon(i).pipe(fn(n=>i.svgText=n))}_extractSvgIconFromSet(i,n,o){let s=i.querySelector(`[id="${n}"]`);if(!s)return null;let a=s.cloneNode(!0);if(a.removeAttribute("id"),a.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(a,o);if(a.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(a),o);let l=this._svgElementFromString(yC("<svg></svg>"));return l.appendChild(a),this._setSvgAttributes(l,o)}_svgElementFromString(i){let n=this._document.createElement("DIV");n.innerHTML=i;let o=n.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}_toSvgElement(i){let n=this._svgElementFromString(yC("<svg></svg>")),o=i.attributes;for(let s=0;s<o.length;s++){let{name:a,value:l}=o[s];a!=="id"&&n.setAttribute(a,l)}for(let s=0;s<i.childNodes.length;s++)i.childNodes[s].nodeType===this._document.ELEMENT_NODE&&n.appendChild(i.childNodes[s].cloneNode(!0));return n}_setSvgAttributes(i,n){return i.setAttribute("fit",""),i.setAttribute("height","100%"),i.setAttribute("width","100%"),i.setAttribute("preserveAspectRatio","xMidYMid meet"),i.setAttribute("focusable","false"),n&&n.viewBox&&i.setAttribute("viewBox",n.viewBox),i}_fetchIcon(i){let{url:n,options:o}=i,s=o?.withCredentials??!1;if(!this._httpClient)throw r_t();if(n==null)throw Error(`Cannot fetch icon from URL "${n}".`);let a=this._sanitizer.sanitize(ql.RESOURCE_URL,n);if(!a)throw Qq(n);let l=this._inProgressUrlFetches.get(a);if(l)return l;let c=this._httpClient.get(a,{responseType:"text",withCredentials:s}).pipe(di(d=>yC(d)),jh(()=>this._inProgressUrlFetches.delete(a)),$H());return this._inProgressUrlFetches.set(a,c),c}_addSvgIconConfig(i,n,o){return this._svgIconConfigs.set(t$(i,n),o),this}_addSvgIconSetConfig(i,n){let o=this._iconSetConfigs.get(i);return o?o.push(n):this._iconSetConfigs.set(i,[n]),this}_svgElementFromConfig(i){if(!i.svgElement){let n=this._svgElementFromString(i.svgText);this._setSvgAttributes(n,i.options),i.svgElement=n}return i.svgElement}_getIconConfigFromResolvers(i,n){for(let o=0;o<this._resolvers.length;o++){let s=this._resolvers[o](n,i);if(s)return o_t(s)?new cf(s.url,null,s.options):new cf(s,null)}}};t.\u0275fac=function(n){return new(n||t)(ee(qh,8),ee(a3),ee(Ai,8),ee(Eg))},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function J5(e){return e.cloneNode(!0)}function t$(e,t){return e+":"+t}function o_t(e){return!!(e.url&&e.options)}var s_t=new Se("MAT_ICON_DEFAULT_OPTIONS"),a_t=new Se("mat-icon-location",{providedIn:"root",factory:l_t});function l_t(){let e=pe(Ai),t=e?e.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}var e$=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],c_t=e$.map(e=>`[${e}]`).join(", "),d_t=/^url\(['"]?#(.*?)['"]?\)$/,zm=(()=>{let t=class t{get color(){return this._color||this._defaultColor}set color(i){this._color=i}get svgIcon(){return this._svgIcon}set svgIcon(i){i!==this._svgIcon&&(i?this._updateSvgIcon(i):this._svgIcon&&this._clearSvgElement(),this._svgIcon=i)}get fontSet(){return this._fontSet}set fontSet(i){let n=this._cleanupFontValue(i);n!==this._fontSet&&(this._fontSet=n,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(i){let n=this._cleanupFontValue(i);n!==this._fontIcon&&(this._fontIcon=n,this._updateFontIconClasses())}constructor(i,n,o,s,a,l){this._elementRef=i,this._iconRegistry=n,this._location=s,this._errorHandler=a,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Ro.EMPTY,l&&(l.color&&(this.color=this._defaultColor=l.color),l.fontSet&&(this.fontSet=l.fontSet)),o||i.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(i){if(!i)return["",""];let n=i.split(":");switch(n.length){case 1:return["",n[0]];case 2:return n;default:throw Error(`Invalid icon name: "${i}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let i=this._elementsWithExternalReferences;if(i&&i.size){let n=this._location.getPathname();n!==this._previousPath&&(this._previousPath=n,this._prependPathToReferences(n))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(i){this._clearSvgElement();let n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(i),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(i)}_clearSvgElement(){let i=this._elementRef.nativeElement,n=i.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();n--;){let o=i.childNodes[n];(o.nodeType!==1||o.nodeName.toLowerCase()==="svg")&&o.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let i=this._elementRef.nativeElement,n=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(o=>o.length>0);this._previousFontSetClass.forEach(o=>i.classList.remove(o)),n.forEach(o=>i.classList.add(o)),this._previousFontSetClass=n,this.fontIcon!==this._previousFontIconClass&&!n.includes("mat-ligature-font")&&(this._previousFontIconClass&&i.classList.remove(this._previousFontIconClass),this.fontIcon&&i.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(i){return typeof i=="string"?i.trim().split(" ")[0]:i}_prependPathToReferences(i){let n=this._elementsWithExternalReferences;n&&n.forEach((o,s)=>{o.forEach(a=>{s.setAttribute(a.name,`url('${i}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(i){let n=i.querySelectorAll(c_t),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<n.length;s++)e$.forEach(a=>{let l=n[s],c=l.getAttribute(a),d=c?c.match(d_t):null;if(d){let u=o.get(l);u||(u=[],o.set(l,u)),u.push({name:a,value:d[1]})}})}_updateSvgIcon(i){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),i){let[n,o]=this._splitIconName(i);n&&(this._svgNamespace=n),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,n).pipe(to(1)).subscribe(s=>this._setSvgElement(s),s=>{let a=`Error retrieving icon ${n}:${o}! ${s.message}`;this._errorHandler.handleError(new Error(a))})}}};t.\u0275fac=function(n){return new(n||t)(Pt(hi),Pt(n_t),Yl("aria-hidden"),Pt(a_t),Pt(Eg),Pt(s_t,8))},t.\u0275cmp=We({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(n,o){n&2&&(Yi("data-mat-icon-type",o._usingFontIcon()?"font":"svg")("data-mat-icon-name",o._svgName||o.fontIcon)("data-mat-icon-namespace",o._svgNamespace||o.fontSet)("fontIcon",o._usingFontIcon()?o.fontIcon:null),Js(o.color?"mat-"+o.color:""),Vi("mat-icon-inline",o.inline)("mat-icon-no-color",o.color!=="primary"&&o.color!=="accent"&&o.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",Sr],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[Br,li],ngContentSelectors:e_t,decls:1,vars:0,template:function(n,o){n&1&&(pn(),ir(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0});let e=t;return e})(),$v=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ue({type:t}),t.\u0275inj=ze({imports:[Si,Si]});let e=t;return e})();var u_t=new Se("MAT_SORT_DEFAULT_OPTIONS"),i$=(()=>{let t=class t{get direction(){return this._direction}set direction(i){this._direction=i}constructor(i){this._defaultOptions=i,this._initializedStream=new VH(1),this.sortables=new Map,this._stateChanges=new Je,this.start="asc",this._direction="",this.disabled=!1,this.sortChange=new ai,this.initialized=this._initializedStream}register(i){this.sortables.set(i.id,i)}deregister(i){this.sortables.delete(i.id)}sort(i){this.active!=i.id?(this.active=i.id,this.direction=i.start?i.start:this.start):this.direction=this.getNextSortDirection(i),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(i){if(!i)return"";let n=i?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear,o=h_t(i.start||this.start,n),s=o.indexOf(this.direction)+1;return s>=o.length&&(s=0),o[s]}ngOnInit(){this._initializedStream.next()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete(),this._initializedStream.complete()}};t.\u0275fac=function(n){return new(n||t)(Pt(u_t,8))},t.\u0275dir=ni({type:t,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{active:[0,"matSortActive","active"],start:[0,"matSortStart","start"],direction:[0,"matSortDirection","direction"],disableClear:[2,"matSortDisableClear","disableClear",Sr],disabled:[2,"matSortDisabled","disabled",Sr]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],standalone:!0,features:[Br,er]});let e=t;return e})();function h_t(e,t){let r=["asc","desc"];return e=="desc"&&r.reverse(),t||r.push(""),r}var aWt=RV.ENTERING+" "+EV.STANDARD_CURVE;var fN=(()=>{let t=class t{constructor(){this.changes=new Je}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function f_t(e){return e||new fN}var m_t={provide:fN,deps:[[new lm,new Sg,fN]],useFactory:f_t};var r$=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ue({type:t}),t.\u0275inj=ze({providers:[m_t],imports:[Si]});let e=t;return e})();var mce=ot(Gt(),1),pce=ot(we(),1),gce=ot(yn(),1),bce=ot(_n(),1),vce=ot(wn(),1),yce=ot(Cn(),1),_ce=ot(xn(),1),wce=ot(Sn(),1),Cce=ot(En(),1),xce=ot(FG(),1);var FYt=ot(Gt(),1),HYt=ot(we(),1);var PYt=ot(we(),1),YG=ot(iat(),1);var SN=ot(ea(),1);var wYt=ot(we(),1),CYt=ot(yn(),1),xYt=ot(_n(),1),SYt=ot(wn(),1),EYt=ot(Cn(),1),RYt=ot(xn(),1),TYt=ot(Sn(),1),MYt=ot(En(),1);function HG(e){let t=e.length,r=0;for(;r<t;)e[r]=[e[r]],r+=1}function wN(e,t){let r=t.length,i=0;for(;i<r;)e.push(t[i]),i+=1}function Xv(e){let t=[];if(!e||e.length===0||!e[0]||e[0].length===0)return t;let r=e.length,i=e[0].length;for(let n=0;n<r;n++)for(let o=0;o<i;o++)t[o]||(t[o]=[]),t[o][n]=e[n][o];return t}function cn(e,t,r,i){let n=-1,o=e,s=r;Array.isArray(e)||(o=Array.from(e));let a=o.length;for(i&&a&&(n+=1,s=o[n]),n+=1;n<a;)s=t(s,o[n],n,o),n+=1;return s}function cs(e,t){let r=0,i=e;Array.isArray(e)||(i=Array.from(e));let n=i.length,o=[],s=-1;for(;r<n;){let a=i[r];t(a,r,i)&&(s+=1,o[s]=a),r+=1}return o}function xi(e,t){let r=0,i=e;Array.isArray(e)||(i=Array.from(e));let n=i.length,o=[],s=-1;for(;r<n;){let a=i[r];s+=1,o[s]=t(a,r,i),r+=1}return o}function Tt(e,t){let r=0,i=e;Array.isArray(e)||(i=Array.from(e));let n=i.length;for(;r<n&&t(i[r],r,i)!==!1;)r+=1;return e}function rM(e){let t=[];return Tt(e,r=>{t.indexOf(r)===-1&&t.push(r)}),t}function CN(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];let[i,...n]=[...t],o=i;return Tt(n,s=>{o=o.filter(a=>!s.includes(a))}),o}function xN(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:" ";return e.split(t)}function Gi(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return cn(e,(o,s,a)=>{let l=s.replace(/\r?\n\s*/g,""),c=r[a]?r[a]:"";return o+l+c},"").trim()}function on(e){let t;switch(typeof e){case"string":case"number":t=`${e}`;break;case"object":t=e===null?"":e.toString();break;case"undefined":t="";break;default:t=e.toString();break}return t}function Ne(e){return typeof e<"u"}function _r(e){return typeof e>"u"}function sn(e){return e===null||e===""||_r(e)}function UG(e){return Object.prototype.toString.call(e)==="[object RegExp]"}var _C="length",wC=e=>parseInt(e,16),BG=e=>parseInt(e,10),nM=(e,t,r)=>e.substr(t,r),CC=e=>e.codePointAt(0)-65,EN=e=>`${e}`.replace(/\-/g,""),Vwt=e=>wC(nM(EN(e),wC("12"),CC("F")))/(wC(nM(EN(e),CC("B"),~~![][_C]))||9),zwt=()=>typeof location<"u"&&/^([a-z0-9\-]+\.)?\x68\x61\x6E\x64\x73\x6F\x6E\x74\x61\x62\x6C\x65\x2E\x63\x6F\x6D$/i.test(location.host),jG=!1,VG={invalid:()=>Gi`
    The license key for Handsontable is invalid.\x20
    If you need any help, contact us at support@handsontable.com.`,expired:e=>{let{keyValidityDate:t,hotVersion:r}=e;return Gi`
    The license key for Handsontable expired on ${t}, and is not valid for the installed\x20
    version ${r}. Renew your license key at handsontable.com or downgrade to a version released prior\x20
    to ${t}. If you need any help, contact us at sales@handsontable.com.`},missing:()=>Gi`
    The license key for Handsontable is missing. Use your purchased key to activate the product.\x20
    Alternatively, you can activate Handsontable to use for non-commercial purposes by\x20
    passing the key: 'non-commercial-and-evaluation'. If you need any help, contact\x20
    us at support@handsontable.com.`,non_commercial:()=>""},zG={invalid:()=>Gi`
    The license key for Handsontable is invalid.\x20
    <a href="https://handsontable.com/docs/tutorial-license-key.html" target="_blank">Read more</a> on how to\x20
    install it properly or contact us at <a href="mailto:support@handsontable.com">support@handsontable.com</a>.`,expired:e=>{let{keyValidityDate:t,hotVersion:r}=e;return Gi`
    The license key for Handsontable expired on ${t}, and is not valid for the installed\x20
    version ${r}. <a href="https://handsontable.com/pricing" target="_blank">Renew</a> your\x20
    license key or downgrade to a version released prior to ${t}. If you need any\x20
    help, contact us at <a href="mailto:sales@handsontable.com">sales@handsontable.com</a>.`},missing:()=>Gi`
    The license key for Handsontable is missing. Use your purchased key to activate the product.\x20
    Alternatively, you can activate Handsontable to use for non-commercial purposes by\x20
    passing the key: 'non-commercial-and-evaluation'.\x20
    <a href="https://handsontable.com/docs/tutorial-license-key.html" target="_blank">Read more</a> about it in\x20
    the documentation or contact us at <a href="mailto:support@handsontable.com">support@handsontable.com</a>.`,non_commercial:()=>""};function WG(e,t){let r=!sn(e),i=typeof e=="string"&&e.toLowerCase()==="non-commercial-and-evaluation",n="14.4.0",o,s="invalid",a="invalid";e=EN(e||"");let l=Uwt(e);if(r||i||l)if(l){let c=(0,SN.default)("11/06/2024","DD/MM/YYYY"),d=Math.floor(c.toDate().getTime()/864e5),u=Vwt(e);o=(0,SN.default)((u+1)*864e5,"x").format("MMMM DD, YYYY"),d>u?(s="expired",a="expired"):(s="valid",a="valid")}else i?(s="non_commercial",a="valid"):(s="invalid",a="invalid");else s="missing",a="missing";if(zwt()&&(s="valid",a="valid"),!jG&&s!=="valid"&&(VG[s]({keyValidityDate:o,hotVersion:n})&&console[s==="non_commercial"?"info":"warn"](VG[s]({keyValidityDate:o,hotVersion:n})),jG=!0),a!=="valid"&&t.parentNode&&zG[a]({keyValidityDate:o,hotVersion:n})){let d=document.createElement("div");d.className="hot-display-license-info",d.innerHTML=zG[a]({keyValidityDate:o,hotVersion:n}),t.parentNode.insertBefore(d,t.nextSibling)}}function Uwt(e){let t=[][_C],r=t;if(e[_C]!==CC("Z"))return!1;for(let i="",n="B<H4P+".split(""),o=CC(n.shift());o;o=CC(n.shift()||"A"))--o<""[_C]?r=r|(BG(`${BG(wC(i)+(wC(nM(e,Math.abs(o),2))+[]).padStart(2,"0"))}`)%97||2)>>1:i=nM(e,o,o?n[_C]===1?9:8:6);return r===t}function na(e){return e[0].toUpperCase()+e.substr(1)}function oM(){function e(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return e()+e()+e()+e()}function sM(e){return/^([0-9][0-9]?%$)|(^100%$)/.test(e)}function aM(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return`${e}`.replace(/(?:\\)?\[([^[\]]+)]/g,(r,i)=>r.charAt(0)==="\\"?r.substr(1,r.length-1):t[i]===void 0?"":t[i])}function RN(e){return xC(`${e}`,{ALLOWED_TAGS:[]})}function xC(e,t){return YG.default.sanitize(e,t)}var Oc=e=>["tabindex",e],qG=()=>["role","treegrid"],za=()=>["role","presentation"],$G=()=>["role","gridcell"],GG=()=>["role","rowheader"],lM=()=>["role","rowgroup"],KG=()=>["role","columnheader"],SC=()=>["role","row"],XG=()=>["role","menu"],ZG=()=>["role","menuitem"],QG=()=>["role","combobox"],cM=()=>["role","listbox"],JG=()=>["role","option"],tK=()=>["role","checkbox"],eK=()=>["scope","col"],iK=()=>["scope","row"],rK=()=>["type","text"],Zv=e=>["aria-label",e],Os=()=>["aria-hidden","true"],nK=()=>["aria-disabled","true"],oK=()=>["aria-multiselectable","true"],dM=e=>["aria-haspopup",e],uM=e=>["aria-rowcount",e],Qv=e=>["aria-colcount",e],hM=e=>["aria-rowindex",e],Jv=e=>["aria-colindex",e],oa=e=>["aria-expanded",e],sK=e=>["aria-sort",e],TN=()=>["aria-readonly","true"],MN=()=>["aria-invalid","true"],aK=e=>["aria-checked",e],ty=()=>["aria-selected","true"],lK=()=>["aria-autocomplete","list"],cK=e=>["aria-controls",e],dK=e=>["aria-activedescendant",e],uK=e=>["aria-live",e],hK=e=>["aria-relevant",e],fK=e=>["aria-setsize",e],mK=e=>["aria-posinset",e];function pK(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,i=null,n=e;for(;n!==null;){if(r===t){i=n;break}n.host&&n.nodeType===Node.DOCUMENT_FRAGMENT_NODE?n=n.host:(r+=1,n=n.parentNode)}return i}function gK(e,t){let r=e.closest(".handsontable");return!!r&&(r.parentNode===t||r===t)}function Wwt(e){return Object.getPrototypeOf(e.parent)&&e.frameElement}function zu(e){return Wwt(e)&&e.parent}function Md(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,{ELEMENT_NODE:i,DOCUMENT_FRAGMENT_NODE:n}=Node,o=e;for(;o!=null&&o!==r;){let{nodeType:s,nodeName:a}=o;if(s===i&&(t.includes(a)||t.includes(o)))return o;let{host:l}=o;l&&s===n?o=l:o=o.parentNode}return null}function EC(e,t,r){let i=[],n=e;for(;n&&(n=Md(n,t,r),!(!n||r&&!r.contains(n)));)i.push(n),n.host&&n.nodeType===Node.DOCUMENT_FRAGMENT_NODE?n=n.host:n=n.parentNode;let o=i.length;return o?i[o-1]:null}function Ad(e,t){let r=e.parentNode,i=[];for(typeof t=="string"?e.defaultView?i=Array.prototype.slice.call(e.querySelectorAll(t),0):i=Array.prototype.slice.call(e.ownerDocument.querySelectorAll(t),0):i.push(t);r!==null;){if(i.indexOf(r)>-1)return!0;r=r.parentNode}return!1}function bK(e){let t=0,r=e;if(r.previousSibling)for(;r=r.previousSibling;)t+=1;return t}function $m(e,t,r){let i=r.parentElement.querySelector(`.ht_clone_${e}`);return i?i.contains(t):null}function vK(e){return!e||!e.length?[]:e.filter(t=>!!t)}function yK(e,t){if(!e||!e.length)return t?{regexFree:[],regexes:[]}:[];let r=[],i=[];return i.push(...e.filter(n=>{let o=n instanceof RegExp;return o&&t&&r.push(n),!o})),t?{regexFree:i,regexes:r}:i}function Ze(e,t){return e.classList===void 0||typeof t!="string"||t===""?!1:e.classList.contains(t)}function ne(e,t){typeof t=="string"&&(t=t.split(" ")),t=vK(t),t.length>0&&e.classList.add(...t)}function pi(e,t){typeof t=="string"?t=t.split(" "):t instanceof RegExp&&(t=[t]);let{regexFree:r,regexes:i}=yK(t,!0);r=vK(r),r.length>0&&e.classList.remove(...r),i.forEach(n=>{e.classList.forEach(o=>{n.test(o)&&e.classList.remove(o)})})}function Xe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;Array.isArray(t)||(t=[[t,r]]),t.forEach(i=>{Array.isArray(i)&&i[0]!==""&&e.setAttribute(...i)})}function Nc(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];typeof t=="string"?t=t.split(" "):t instanceof RegExp&&(t=[t]);let{regexFree:r,regexes:i}=yK(t,!0);r.forEach(n=>{n!==""&&e.removeAttribute(n)}),i.forEach(n=>{e.getAttributeNames().forEach(o=>{n.test(o)&&e.removeAttribute(o)})})}function IN(e){if(e.nodeType===3)e.parentNode.removeChild(e);else if(["TABLE","THEAD","TBODY","TFOOT","TR"].indexOf(e.nodeName)>-1){let t=e.childNodes;for(let r=t.length-1;r>=0;r--)IN(t[r])}}function Ps(e){let t;for(;t=e.lastChild;)e.removeChild(t)}var Ywt=/(<(.*)>|&(.*);)/;function Lc(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;Ywt.test(t)?e.innerHTML=r?xC(t):t:Fc(e,t)}function Fc(e,t){let r=e.firstChild;r&&r.nodeType===3&&r.nextSibling===null?r.textContent=t:(Ps(e),e.appendChild(e.ownerDocument.createTextNode(t)))}function Pc(e){let t=e.ownerDocument.documentElement,r=e;for(;r!==t;){if(r===null)return!1;if(r.nodeType===Node.DOCUMENT_FRAGMENT_NODE)if(r.host){if(r.host.impl)return Pc(r.host.impl);if(r.host)return Pc(r.host);throw new Error("Lost in Web Components world")}else return!1;else if(Hc(r).display==="none")return!1;r=r.parentNode}return!0}function Kn(e){let t=e.ownerDocument,r=t.defaultView,i=t.documentElement,n=e,o,s,a;for(o=n.offsetLeft,s=n.offsetTop,a=n;(n=n.offsetParent)&&!(n===t.body||!("offsetLeft"in n));)o+=n.offsetLeft,s+=n.offsetTop,a=n;return a&&a.style.position==="fixed"&&(o+=r.pageXOffset||i.scrollLeft,s+=r.pageYOffset||i.scrollTop),{left:o,top:s}}function kN(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:window).scrollY}function RC(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:window).scrollX}function ey(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window;return e===t?kN(t):e.scrollTop}function fM(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window;return e===t?RC(t):e.scrollLeft}function iy(e){let t=e.ownerDocument,r=t?t.defaultView:void 0;t||(t=e.document?e.document:e,r=t.defaultView);let i=["auto","scroll"],n=e.parentNode;for(;n&&n.style&&t.body!==n;){let{overflow:o,overflowX:s,overflowY:a}=n.style;if([o,s,a].includes("scroll"))return n;if({overflow:o,overflowX:s,overflowY:a}=r.getComputedStyle(n),i.includes(o)||i.includes(s)||i.includes(a)||n.clientHeight<=n.scrollHeight+1&&(i.includes(a)||i.includes(o))||n.clientWidth<=n.scrollWidth+1&&(i.includes(s)||i.includes(o)))return n;n=n.parentNode}return r}function _K(e){return e.scrollHeight-e.clientHeight}function wK(e){return e.scrollWidth-e.clientWidth}function Id(e){let t=e.ownerDocument,r=t.defaultView,i=e.parentNode;for(;i&&i.style&&t.body!==i;){if(i.style.overflow!=="visible"&&i.style.overflow!=="")return i;let n=Hc(i,r),o=["scroll","hidden","auto"],s=n.getPropertyValue("overflow"),a=n.getPropertyValue("overflow-y"),l=n.getPropertyValue("overflow-x");if(o.includes(s)||o.includes(a)||o.includes(l))return i;i=i.parentNode}return r}function Gm(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:window;if(e){if(e===r)return t==="width"?`${r.innerWidth}px`:t==="height"?`${r.innerHeight}px`:void 0}else return;let i=e.style[t];if(i!==""&&i!==void 0)return i;let n=Hc(e,r);if(n[t]!==""&&n[t]!==void 0)return n[t]}function Hc(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window;return e.currentStyle||t.getComputedStyle(e)}function wr(e){return e.offsetWidth}function Fr(e){return e.offsetHeight}function df(e){return e.clientHeight||e.innerHeight}function mM(e){return e.clientWidth||e.innerWidth}function pM(e){return e.selectionStart?e.selectionStart:0}function CK(e){return e.selectionEnd?e.selectionEnd:0}function DN(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;e.getSelection&&(e.getSelection().empty?e.getSelection().empty():e.getSelection().removeAllRanges&&e.getSelection().removeAllRanges())}function Km(e,t,r){if(r===void 0&&(r=t),e.setSelectionRange){e.focus();try{e.setSelectionRange(t,r)}catch{let n=e.parentNode,o=n.style.display;n.style.display="block",e.setSelectionRange(t,r),n.style.display=o}}}var AN;function qwt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document,t=e.createElement("div");t.style.height="200px",t.style.width="100%";let r=e.createElement("div");r.style.boxSizing="content-box",r.style.height="150px",r.style.left="0px",r.style.overflow="hidden",r.style.position="absolute",r.style.top="0px",r.style.width="200px",r.style.visibility="hidden",r.appendChild(t),(e.body||e.documentElement).appendChild(r);let i=t.offsetWidth;r.style.overflow="scroll";let n=t.offsetWidth;return i===n&&(n=r.clientWidth),(e.body||e.documentElement).removeChild(r),i-n}function Rn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return AN===void 0&&(AN=qwt(e)),AN}function xK(e){return e.offsetWidth!==e.clientWidth}function SK(e){return e.offsetHeight!==e.clientHeight}function ry(e,t,r){e.style.transform=`translate3d(${t},${r},0)`}function Xm(e){e.style.transform&&e.style.transform!==""&&(e.style.transform="")}function TC(e){return e&&(["INPUT","SELECT","TEXTAREA"].indexOf(e.nodeName)>-1||e.contentEditable==="true")}function gM(e){return TC(e)&&e.hasAttribute("data-hot-input")===!1}function bM(e){return!e.parentNode}function EK(e,t){new IntersectionObserver((i,n)=>{i.forEach(o=>{o.isIntersecting&&e.offsetParent!==null&&(t(),n.unobserve(e))})},{root:e.ownerDocument.body}).observe(e)}function ON(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=e.ownerDocument,n=i.createRange(),o=i.defaultView.getSelection();Xe(e,"contenteditable",!0),r&&Xe(e,...Os()),t&&ne(e,"invisibleSelection"),n.selectNodeContents(e),o.removeAllRanges(),o.addRange(n)}function PN(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=e.ownerDocument.defaultView.getSelection();e.hasAttribute("aria-hidden")&&e.removeAttribute("aria-hidden"),r.removeAllRanges(),t&&pi(e,"invisibleSelection"),e.removeAttribute("contenteditable")}function RK(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;ON(e,r),t(),PN(e,r)}function Mr(e){return typeof e=="function"}function ny(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:200,r=null,i;function n(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return r&&clearTimeout(r),r=setTimeout(()=>{i=e.apply(this,s)},t),i}return n}function vM(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return e.apply(this,r.concat(s))}}function TK(e){let t=e.length;function r(i){return function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];let l=i.concat(s),c;return l.length>=t?c=e.apply(this,l):c=r(l),c}}return r([])}function MC(e,t,r,i,n,o,s,a){return Ne(a)?e.call(t,r,i,n,o,s,a):Ne(s)?e.call(t,r,i,n,o,s):Ne(o)?e.call(t,r,i,n,o):Ne(n)?e.call(t,r,i,n):Ne(i)?e.call(t,r,i):Ne(r)?e.call(t,r):e.call(t)}var $Yt=ot(Gt(),1),GYt=ot(we(),1),KYt=ot(_M(),1);function Qg(e){let t;return Array.isArray(e)?t=e.length?new Array(e.length).fill(null):[]:(t={},bi(e,(r,i)=>{i!=="__children"&&(r&&typeof r=="object"&&!Array.isArray(r)?t[i]=Qg(r):Array.isArray(r)?r.length&&typeof r[0]=="object"&&!Array.isArray(r[0])?t[i]=[Qg(r[0])]:t[i]=[]:t[i]=null)})),t}function kd(e,t){return t.prototype.constructor=t,e.prototype=new t,e.prototype.constructor=e,e}function Wr(e,t,r){let i=Array.isArray(r);return bi(t,(n,o)=>{(i===!1||r.includes(o))&&(e[o]=n)}),e}function Jg(e,t){bi(t,(r,i)=>{t[i]&&typeof t[i]=="object"?(e[i]||(Array.isArray(t[i])?e[i]=[]:Object.prototype.toString.call(t[i])==="[object Date]"?e[i]=t[i]:e[i]={}),Jg(e[i],t[i])):e[i]=t[i]})}function jo(e){return typeof e=="object"?JSON.parse(JSON.stringify(e)):e}function Xo(e){let t={};return bi(e,(r,i)=>{t[i]=r}),t}function Zi(e){e.MIXINS||(e.MIXINS=[]);for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return Tt(r,n=>{e.MIXINS.push(n.MIXIN_NAME),bi(n,(o,s)=>{if(e.prototype[s]!==void 0)throw new Error(`Mixin conflict. Property '${s}' already exist and cannot be overwritten.`);if(typeof o=="function")e.prototype[s]=o;else{let a=function(d,u){let h=`_${d}`,f=m=>{let g=m;return(Array.isArray(g)||gi(g))&&(g=jo(g)),g};return function(){return this[h]===void 0&&(this[h]=f(u)),this[h]}},l=function(d){let u=`_${d}`;return function(h){this[u]=h}};Object.defineProperty(e.prototype,s,{get:a(s,o),set:l(s),configurable:!0})}})}),e}function oy(e,t){return JSON.stringify(e)===JSON.stringify(t)}function gi(e){return Object.prototype.toString.call(e)==="[object Object]"}function Ns(e,t,r,i){i.value=r,i.writable=i.writable!==!1,i.enumerable=i.enumerable!==!1,i.configurable=i.configurable!==!1,Object.defineProperty(e,t,i)}function bi(e,t){for(let r in e)if((!e.hasOwnProperty||e.hasOwnProperty&&Object.prototype.hasOwnProperty.call(e,r))&&t(e[r],r,e)===!1)break;return e}function WK(e,t){let r=t.split("."),i=e;return bi(r,n=>{if(i=i[n],i===void 0)return i=void 0,!1}),i}function wM(e,t,r){let i=t.split("."),n=e;i.forEach((o,s)=>{s!==i.length-1?(en(n,o)||(n[o]={}),n=n[o]):n[o]=r})}function sy(e){if(!gi(e))return 0;let t=function(r){let i=0;return gi(r)?bi(r,(n,o)=>{o!=="__children"&&(i+=t(n))}):i+=1,i};return t(e)}function va(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"value",r=`_${t}`,i={_touched:!1,[r]:e,isTouched(){return this._touched}};return Object.defineProperty(i,t,{get(){return this[r]},set(n){this._touched=!0,this[r]=n},enumerable:!0,configurable:!0}),i}function en(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ly(e){return window.requestAnimationFrame(e)}function cy(e){window.cancelAnimationFrame(e)}function CM(){return"ontouchstart"in window}function YK(){return typeof window<"u"}var ay;function qK(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return ay||(typeof Intl=="object"?ay=new Intl.Collator(e,t).compare:typeof String.prototype.localeCompare=="function"?ay=(r,i)=>`${r}`.localeCompare(i):ay=(r,i)=>r===i?0:r>i?-1:1,ay)}var Bc=e=>{let t={value:!1};return t.test=(r,i)=>{t.value=e(r,i)},t},Qm={chrome:Bc((e,t)=>/Chrome/.test(e)&&/Google/.test(t)),chromeWebKit:Bc(e=>/CriOS/.test(e)),edge:Bc(e=>/Edge/.test(e)),edgeWebKit:Bc(e=>/EdgiOS/.test(e)),firefox:Bc(e=>/Firefox/.test(e)),firefoxWebKit:Bc(e=>/FxiOS/.test(e)),mobile:Bc(e=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e)),safari:Bc((e,t)=>/Safari/.test(e)&&/Apple Computer/.test(t))},IC={mac:Bc(e=>/^Mac/.test(e)),win:Bc(e=>/^Win/.test(e)),linux:Bc(e=>/^Linux/.test(e)),ios:Bc(e=>/iPhone|iPad|iPod/i.test(e))};function aCt(){let{userAgent:e=navigator.userAgent,vendor:t=navigator.vendor}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};bi(Qm,r=>{let{test:i}=r;return void i(e,t)})}function lCt(){let{platform:e=navigator.platform}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};bi(IC,t=>{let{test:r}=t;return void r(e)})}YK()&&(aCt(),lCt());function xM(){return Qm.chrome.value}function $K(){return Qm.chromeWebKit.value}function SM(){return Qm.firefox.value}function GK(){return Qm.firefoxWebKit.value}function NN(){return Qm.safari.value}function KK(){return Qm.edge.value}function Zl(){return Qm.mobile.value}function EM(){return IC.ios.value}function RM(){let{maxTouchPoints:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:navigator;return e>2&&IC.mac.value}function LN(){return IC.win.value}function dy(){return IC.mac.value}var Dqt=ot(Gt(),1);var iqt=ot(we(),1);var Ri={ALT:18,ARROW_DOWN:40,ARROW_LEFT:37,ARROW_RIGHT:39,ARROW_UP:38,AUDIO_DOWN:SM()?182:174,AUDIO_MUTE:SM()?181:173,AUDIO_UP:SM()?183:175,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND_LEFT:91,COMMAND_RIGHT:93,COMMAND_FIREFOX:224,CONTROL:17,DELETE:46,END:35,ENTER:13,ESCAPE:27,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,HOME:36,INSERT:45,MEDIA_NEXT:176,MEDIA_PLAY_PAUSE:179,MEDIA_PREV:177,MEDIA_STOP:178,NULL:0,NUM_LOCK:144,PAGE_DOWN:34,PAGE_UP:33,PAUSE:19,PERIOD:190,SCROLL_LOCK:145,SHIFT:16,SPACE:32,TAB:9,A:65,C:67,D:68,F:70,L:76,O:79,P:80,S:83,V:86,X:88,Y:89,Z:90},cCt=[Ri.ALT,Ri.ARROW_DOWN,Ri.ARROW_LEFT,Ri.ARROW_RIGHT,Ri.ARROW_UP,Ri.AUDIO_DOWN,Ri.AUDIO_MUTE,Ri.AUDIO_UP,Ri.BACKSPACE,Ri.CAPS_LOCK,Ri.DELETE,Ri.END,Ri.ENTER,Ri.ESCAPE,Ri.F1,Ri.F2,Ri.F3,Ri.F4,Ri.F5,Ri.F6,Ri.F7,Ri.F8,Ri.F9,Ri.F10,Ri.F11,Ri.F12,Ri.F13,Ri.F14,Ri.F15,Ri.F16,Ri.F17,Ri.F18,Ri.F19,Ri.HOME,Ri.INSERT,Ri.MEDIA_NEXT,Ri.MEDIA_PLAY_PAUSE,Ri.MEDIA_PREV,Ri.MEDIA_STOP,Ri.NULL,Ri.NUM_LOCK,Ri.PAGE_DOWN,Ri.PAGE_UP,Ri.PAUSE,Ri.SCROLL_LOCK,Ri.SHIFT,Ri.TAB];function XK(e){return e===32||e>=48&&e<=57||e>=96&&e<=111||e>=186&&e<=192||e>=219&&e<=222||e>=226||e>=65&&e<=90}function TM(e){return cCt.includes(e)}function ZK(e){return[Ri.CONTROL,Ri.COMMAND_LEFT,Ri.COMMAND_RIGHT,Ri.COMMAND_FIREFOX].includes(e)}function Uu(e,t){let r=t.split("|"),i=!1;return Tt(r,n=>{if(e===Ri[n])return i=!0,!1}),i}function Vo(e){e.isImmediatePropagationEnabled=!1,e.cancelBubble=!0}function Wu(e){return e.isImmediatePropagationEnabled===!1}function Ql(e){return e.button===2}function uy(e){return e.button===0}function QK(e,t){let r={x:e.offsetX,y:e.offsetY},i=e.target;if(!(t instanceof HTMLElement)||i!==t&&i.contains(t))return r;for(;i!==t;)r.x+=i.offsetLeft,r.y+=i.offsetTop,i=i.offsetParent;return r}var Cqt=ot(Gt(),1);var uqt=ot(Gt(),1),hqt=ot(we(),1),fqt=ot(FN(),1);function vr(){Ne(console)&&console.warn(...arguments)}function hy(){Ne(console)&&console.error(...arguments)}function uCt(e,t,r){return t=hCt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hCt(e){var t=fCt(e,"string");return typeof t=="symbol"?t:t+""}function fCt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fy=["afterCellMetaReset","afterChange","afterContextMenuDefaultOptions","beforeContextMenuSetItems","afterDropdownMenuDefaultOptions","beforeDropdownMenuSetItems","afterContextMenuHide","beforeContextMenuShow","afterContextMenuShow","afterCopyLimit","beforeCreateCol","afterColumnSequenceChange","afterCreateCol","beforeCreateRow","afterCreateRow","afterDeselect","afterDestroy","afterDocumentKeyDown","afterDrawSelection","beforeRemoveCellClassNames","afterGetCellMeta","afterGetColHeader","afterGetRowHeader","afterInit","afterLoadData","afterUpdateData","afterMomentumScroll","afterOnCellCornerMouseDown","afterOnCellCornerDblClick","afterOnCellMouseDown","afterOnCellMouseUp","afterOnCellContextMenu","afterOnCellMouseOver","afterOnCellMouseOut","afterRemoveCol","afterRemoveRow","beforeRenderer","afterRenderer","afterRowSequenceChange","beforeViewportScrollVertically","beforeViewportScrollHorizontally","beforeViewportScroll","afterScrollHorizontally","afterScrollVertically","afterScroll","afterSelection","afterSelectionByProp","afterSelectionEnd","afterSelectionEndByProp","afterSelectionFocusSet","beforeSelectColumns","afterSelectColumns","beforeSelectRows","afterSelectRows","afterSetCellMeta","afterRemoveCellMeta","afterSetDataAtCell","afterSetDataAtRowProp","afterSetSourceDataAtCell","afterUpdateSettings","afterValidate","beforeLanguageChange","afterLanguageChange","beforeAutofill","afterAutofill","beforeCellAlignment","beforeChange","beforeChangeRender","beforeDrawBorders","beforeGetCellMeta","beforeRemoveCellMeta","beforeInit","beforeInitWalkontable","beforeLoadData","beforeUpdateData","beforeKeyDown","beforeOnCellMouseDown","beforeOnCellMouseUp","beforeOnCellContextMenu","beforeOnCellMouseOver","beforeOnCellMouseOut","beforeRemoveCol","beforeRemoveRow","beforeViewRender","afterViewRender","beforeRender","afterRender","beforeRowWrap","beforeColumnWrap","beforeSetCellMeta","beforeSelectionFocusSet","beforeSetRangeStartOnly","beforeSetRangeStart","beforeSetRangeEnd","beforeSelectionHighlightSet","beforeTouchScroll","beforeValidate","beforeValueRender","construct","init","modifyColHeader","modifyColWidth","modifyFiltersMultiSelectValue","modifyFocusedElement","modifyRowHeader","modifyRowHeight","modifyData","modifySourceData","modifyRowData","modifyGetCellCoords","modifyFocusOnTabNavigation","beforeHighlightingRowHeader","beforeHighlightingColumnHeader","persistentStateLoad","persistentStateReset","persistentStateSave","beforeColumnSort","afterColumnSort","modifyAutofillRange","modifyCopyableRange","beforeCut","afterCut","beforeCopy","afterCopy","beforePaste","afterPaste","beforeColumnFreeze","afterColumnFreeze","beforeColumnMove","afterColumnMove","beforeColumnUnfreeze","afterColumnUnfreeze","beforeRowMove","afterRowMove","beforeColumnResize","afterColumnResize","beforeRowResize","afterRowResize","afterGetColumnHeaderRenderers","afterGetRowHeaderRenderers","beforeStretchingColumnWidth","beforeFilter","afterFilter","afterFormulasValuesUpdate","afterNamedExpressionAdded","afterNamedExpressionRemoved","afterSheetAdded","afterSheetRenamed","afterSheetRemoved","modifyColumnHeaderHeight","modifyColumnHeaderValue","beforeUndo","beforeUndoStackChange","afterUndo","afterUndoStackChange","beforeRedo","beforeRedoStackChange","afterRedo","afterRedoStackChange","modifyRowHeaderWidth","modifyTransformFocus","modifyTransformStart","modifyTransformEnd","afterModifyTransformFocus","afterModifyTransformStart","afterModifyTransformEnd","afterViewportRowCalculatorOverride","afterViewportColumnCalculatorOverride","afterPluginsInitialized","beforeHideRows","afterHideRows","beforeUnhideRows","afterUnhideRows","beforeHideColumns","afterHideColumns","beforeUnhideColumns","afterUnhideColumns","beforeTrimRow","afterTrimRow","beforeUntrimRow","afterUntrimRow","beforeDropdownMenuShow","afterDropdownMenuShow","afterDropdownMenuHide","beforeAddChild","afterAddChild","beforeDetachChild","afterDetachChild","beforeBeginEditing","afterBeginEditing","beforeMergeCells","afterMergeCells","beforeUnmergeCells","afterUnmergeCells","afterListen","afterUnlisten","afterRefreshDimensions","beforeRefreshDimensions","beforeColumnCollapse","afterColumnCollapse","beforeColumnExpand","afterColumnExpand","modifyAutoColumnSizeSeed"],mCt=Gi`The plugin hook "[hookName]" was removed in Handsontable [removedInVersion].\x20
  Please consult release notes https://github.com/handsontable/handsontable/releases/tag/[removedInVersion] to\x20
  learn about the migration path.`,HN=new Map([["modifyRow","8.0.0"],["modifyCol","8.0.0"],["unmodifyRow","8.0.0"],["unmodifyCol","8.0.0"],["skipLengthCache","8.0.0"],["hiddenColumn","8.0.0"],["hiddenRow","8.0.0"]]),BN=new Map([[]]),MM=new WeakMap,AM=class{static getSingleton(){return gCt()}constructor(){uCt(this,"globalBucket",void 0),this.globalBucket=this.createEmptyBucket()}createEmptyBucket(){let t=Object.create(null);return Tt(fy,r=>{t[r]=[],this.initOrderMap(t,r)}),t}getBucket(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return t?(t.pluginHookBucket||(t.pluginHookBucket=this.createEmptyBucket()),t.pluginHookBucket):this.globalBucket}add(t,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,n=arguments.length>3?arguments[3]:void 0;if(Array.isArray(r))Tt(r,o=>this.add(t,o,i));else{HN.has(t)&&vr(aM(mCt,{hookName:t,removedInVersion:HN.get(t)})),BN.has(t)&&vr(BN.get(t));let o=this.getBucket(i);if(typeof o[t]>"u"&&(this.register(t),o[t]=[],this.initOrderMap(o,t)),r.skip=!1,o[t].indexOf(r)===-1){let s=!1;r.initialHook&&Tt(o[t],(a,l)=>{if(a.initialHook)return o[t][l]=r,s=!0,!1}),s||o[t].push(r)}this.setCallbackOrderIndex(o,t,r,n),this.orderBucketByOrderIndex(o,t)}return this}once(t,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,n=arguments.length>3?arguments[3]:void 0;Array.isArray(r)?Tt(r,o=>this.once(t,o,i)):(r.runOnce=!0,this.add(t,r,i,n))}remove(t,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,n=this.getBucket(i);return typeof n[t]<"u"&&n[t].indexOf(r)>=0?(r.skip=!0,!0):!1}has(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,i=this.getBucket(r);return!!(i[t]!==void 0&&i[t].length)}run(t,r,i,n,o,s,a,l){{let c=this.globalBucket[r],d=c?c.length:0,u=0;if(d)for(;u<d;){if(!c[u]||c[u].skip){u+=1;continue}let h=MC(c[u],t,i,n,o,s,a,l);h!==void 0&&(i=h),c[u]&&c[u].runOnce&&this.remove(r,c[u]),u+=1}}{let c=this.getBucket(t)[r],d=c?c.length:0,u=0;if(d)for(;u<d;){if(!c[u]||c[u].skip){u+=1;continue}let h=MC(c[u],t,i,n,o,s,a,l);h!==void 0&&(i=h),c[u]&&c[u].runOnce&&this.remove(r,c[u],t),u+=1}}return i}destroy(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;bi(this.getBucket(t),(r,i,n)=>n[i].length=0)}register(t){this.isRegistered(t)||fy.push(t)}deregister(t){this.isRegistered(t)&&fy.splice(fy.indexOf(t),1)}isDeprecated(t){return BN.has(t)||HN.has(t)}isRegistered(t){return fy.indexOf(t)>=0}getRegistered(){return fy}setCallbackOrderIndex(t,r,i,n){let o=Number.isInteger(n)?n:0,s=this.getCallbackOrderMap(t,r);s.set(o,[...s.get(o)||[],i])}orderBucketByOrderIndex(t,r){let i=this.getCallbackOrderMap(t,r);i===void 0||i.size===0||i.size===1&&i.has(0)||(t[r]=[...i].sort((n,o)=>n[0]-o[0]).flatMap(n=>{let[,o]=n;return o}))}initOrderMap(t,r){MM.has(t)||MM.set(t,[]),MM.get(t)[r]=new Map}getCallbackOrderMap(t,r){return MM.get(t)[r]}},pCt=new AM;function gCt(){return pCt}var Le=AM;var jN=new Map;function Zo(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"common";jN.has(e)||jN.set(e,new Map);let t=jN.get(e);function r(a,l){t.set(a,l)}function i(a){return t.get(a)}function n(a){return t.has(a)}function o(){return[...t.keys()]}function s(){return[...t.values()]}return{register:r,getItem:i,hasItem:n,getNames:o,getValues:s}}var VN=new WeakMap,{register:bCt,getItem:JK,hasItem:zN,getNames:Eqt,getValues:Rqt}=Zo("editors");function vCt(e){let t={},r=e;this.getConstructor=function(){return e},this.getInstance=function(i){return i.guid in t||(t[i.guid]=new r(i)),t[i.guid]},Le.getSingleton().add("afterDestroy",function(){t[this.guid]=null})}function IM(e,t){let r;if(typeof e=="function")VN.get(e)||Ua(null,e),r=VN.get(e);else if(typeof e=="string")r=JK(e);else throw Error('Only strings and functions can be passed as "editor" parameter');if(!r)throw Error(`No editor registered under name "${e}"`);return r.getInstance(t)}function UN(e){if(typeof e=="function")return e;if(!zN(e))throw Error(`No registered editor found under "${e}" name`);return JK(e).getConstructor()}function Ua(e,t){e&&typeof e!="string"&&(t=e,e=t.EDITOR_TYPE);let r=new vCt(t);typeof e=="string"&&bCt(e,r),VN.set(t,r)}var Mqt=ot(Gt(),1),Aqt=ot(we(),1);function yCt(e,t,r){return t=_Ct(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Ct(e){var t=wCt(e,"string");return typeof t=="symbol"?t:t+""}function wCt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WN=0,YN=class{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;yCt(this,"context",void 0),this.context=t||this,this.context.eventListeners||(this.context.eventListeners=[])}addEventListener(t,r,i){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;function o(s){i.call(this,CCt(s))}return this.context.eventListeners.push({element:t,event:r,callback:i,callbackProxy:o,options:n,eventManager:this}),t.addEventListener(r,o,n),WN+=1,()=>{this.removeEventListener(t,r,i)}}removeEventListener(t,r,i){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=this.context.eventListeners.length,s;for(;o;)if(o-=1,s=this.context.eventListeners[o],s.event===r&&s.element===t){if(i&&i!==s.callback||n&&s.eventManager!==this)continue;this.context.eventListeners.splice(o,1),s.element.removeEventListener(s.event,s.callbackProxy,s.options),WN-=1}}clearEvents(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.context)return;let r=this.context.eventListeners.length;for(;r;){r-=1;let i=this.context.eventListeners[r];t&&i.eventManager!==this||(this.context.eventListeners.splice(r,1),i.element.removeEventListener(i.event,i.callbackProxy,i.options),WN-=1)}}clear(){this.clearEvents()}destroy(){this.clearEvents(),this.context=null}destroyWithOwnEventsOnly(){this.clearEvents(!0),this.context=null}fireEvent(t,r){let i=t.document,n=t;i||(i=t.ownerDocument?t.ownerDocument:t,n=i.defaultView);let o={bubbles:!0,cancelable:r!=="mousemove",view:n,detail:0,screenX:0,screenY:0,clientX:1,clientY:1,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:void 0},s;i.createEvent?(s=i.createEvent("MouseEvents"),s.initMouseEvent(r,o.bubbles,o.cancelable,o.view,o.detail,o.screenX,o.screenY,o.clientX,o.clientY,o.ctrlKey,o.altKey,o.shiftKey,o.metaKey,o.button,o.relatedTarget||i.body.parentNode)):s=i.createEventObject(),t.dispatchEvent?t.dispatchEvent(s):t.fireEvent(`on${r}`,s)}};function CCt(e){let t=e.stopImmediatePropagation;return e.stopImmediatePropagation=function(){t.apply(this),Vo(this)},e}var Qo=YN;function xCt(e,t){SCt(e,t),t.add(e)}function SCt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function t0(e,t,r){return t=ECt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ECt(e){var t=RCt(e,"string");return typeof t=="symbol"?t:t+""}function RCt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tX(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var qN=new WeakSet,kC=class{constructor(t,r,i){xCt(this,qN),t0(this,"hot",void 0),t0(this,"tableMeta",void 0),t0(this,"selection",void 0),t0(this,"eventManager",void 0),t0(this,"destroyed",!1),t0(this,"activeEditor",void 0),t0(this,"cellProperties",void 0),this.hot=t,this.tableMeta=r,this.selection=i,this.eventManager=new Qo(t),this.hot.addHook("afterDocumentKeyDown",n=>tX(qN,this,TCt).call(this,n)),this.eventManager.addEventListener(this.hot.rootDocument.documentElement,"compositionstart",n=>{!this.destroyed&&this.hot.isListening()&&this.openEditor("",n)}),this.hot.view._wt.update("onCellDblClick",(n,o,s)=>tX(qN,this,MCt).call(this,n,o,s))}getActiveEditor(){return this.activeEditor}prepareEditor(){var t;if(this.activeEditor&&this.activeEditor.isWaiting()){this.closeEditor(!1,!1,c=>{c&&this.prepareEditor()});return}let r=(t=this.hot.getSelectedRangeLast())===null||t===void 0?void 0:t.highlight;if(!r||r.isHeader())return;let{row:i,col:n}=r,o=this.hot.runHooks("modifyGetCellCoords",i,n),s=i,a=n;if(Array.isArray(o)&&([s,a]=o),this.cellProperties=this.hot.getCellMeta(s,a),!this.isCellEditable()){this.clearActiveEditor();return}let l=this.hot.getCell(i,n,!0);if(l){let c=this.hot.getCellEditor(this.cellProperties),d=this.hot.colToProp(a),u=this.hot.getSourceDataAtCell(this.hot.toPhysicalRow(s),a);this.activeEditor=IM(c,this.hot),this.activeEditor.prepare(i,n,d,l,u,this.cellProperties)}}isEditorOpened(){return this.activeEditor&&this.activeEditor.isOpened()}openEditor(t,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!this.isCellEditable()){this.clearActiveEditor();return}let n=this.hot.getSelectedRangeLast(),o=this.hot.runHooks("beforeBeginEditing",n.highlight.row,n.highlight.col,t,r,i);if(r instanceof MouseEvent&&typeof o!="boolean"&&(o=this.hot.selection.getLayerLevel()===0&&n.isSingle()),o===!1){this.clearActiveEditor();return}this.activeEditor||(this.hot.scrollToFocusedCell(),this.prepareEditor()),this.activeEditor&&(i&&this.activeEditor.enableFullEditMode(),this.activeEditor.beginEditing(t,r))}closeEditor(t,r,i){this.activeEditor?this.activeEditor.finishEditing(t,r,i):i&&i(!1)}closeEditorAndSaveChanges(t){this.closeEditor(!1,t)}closeEditorAndRestoreOriginalValue(t){this.closeEditor(!0,t)}clearActiveEditor(){this.activeEditor=void 0}isCellEditable(){let t=this.hot.getSelectedRangeLast();if(!t)return!1;let r=this.hot.getCellEditor(this.cellProperties),{row:i,col:n}=t.highlight,{rowIndexMapper:o,columnIndexMapper:s}=this.hot,a=o.isHidden(this.hot.toPhysicalRow(i))||s.isHidden(this.hot.toPhysicalColumn(n));return!(this.cellProperties.readOnly||!r||a)}moveSelectionAfterEnter(t){let r=Vt({},typeof this.tableMeta.enterMoves=="function"?this.tableMeta.enterMoves(t):this.tableMeta.enterMoves);t.shiftKey&&(r.row=-r.row,r.col=-r.col),this.hot.selection.isMultiple()?this.selection.transformFocus(r.row,r.col):this.selection.transformStart(r.row,r.col,!0)}destroy(){this.destroyed=!0,this.eventManager.destroy()}};function TCt(e){let t=this.hot.getSelectedRangeLast();if(!this.hot.isListening()||!t||t.highlight.isHeader()||Wu(e))return;let{keyCode:r}=e,i=(e.ctrlKey||e.metaKey)&&!e.altKey;(!this.activeEditor||this.activeEditor&&!this.activeEditor.isWaiting())&&!TM(r)&&!ZK(r)&&!i&&!this.isEditorOpened()&&this.openEditor("",e)}function MCt(e,t){t.isCell()&&this.openEditor(null,e,!0)}var eX=new WeakMap;kC.getInstance=function(e,t,r){let i=eX.get(e);return i||(i=new kC(e,t,r),eX.set(e,i)),i};var iX=kC;var Bqt=ot(Gt(),1);function ACt(e,t){nX(e,t),t.add(e)}function DC(e,t,r){nX(e,t),t.set(e,r)}function nX(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function wo(e,t){return e.get(uf(e,t))}function OC(e,t,r){return e.set(uf(e,t),r),r}function uf(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var my=Object.freeze({CELL:"cell",MIXED:"mixed"}),Ls=new WeakMap,kM=new WeakMap,DM=new WeakMap,OM=new WeakMap,PM=new WeakMap,Jm=new WeakSet,NM=class{constructor(t){var r=this;ACt(this,Jm),DC(this,Ls,void 0),DC(this,kM,void 0),DC(this,DM,1),DC(this,OM,null),DC(this,PM,new Map);let i=t.getSettings();OC(Ls,this,t),OC(kM,this,i.imeFastEdit?my.MIXED:my.CELL),wo(Ls,this).addHook("afterUpdateSettings",function(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return uf(Jm,r,kCt).call(r,...o)}),wo(Ls,this).addHook("afterSelection",function(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return uf(Jm,r,rX).call(r,...o)}),wo(Ls,this).addHook("afterSelectionFocusSet",function(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return uf(Jm,r,rX).call(r,...o)}),wo(Ls,this).addHook("afterSelectionEnd",function(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return uf(Jm,r,ICt).call(r,...o)})}getFocusMode(){return wo(kM,this)}setFocusMode(t){Object.values(my).includes(t)?OC(kM,this,t):vr(`"${t}" is not a valid focus mode.`)}getRefocusDelay(){return wo(DM,this)}setRefocusDelay(t){OC(DM,this,t)}setRefocusElementGetter(t){OC(OM,this,t)}getRefocusElement(){if(typeof wo(OM,this)=="function")return wo(OM,this).call(this);var t;return(t=wo(Ls,this).getActiveEditor())===null||t===void 0?void 0:t.TEXTAREA}focusOnHighlightedCell(t){let r=i=>{var n,o;let s=(n=wo(Ls,this).getSelectedRangeLast())===null||n===void 0?void 0:n.highlight;if(!s)return;let a=wo(Ls,this).runHooks("modifyFocusedElement",s.row,s.col,i);a instanceof HTMLElement||(a=i),a&&!((o=wo(Ls,this).getActiveEditor())!==null&&o!==void 0&&o.isOpened())&&a.focus({preventScroll:!0})};t?r(t):uf(Jm,this,$N).call(this,i=>r(i))}refocusToEditorTextarea(){var t;let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:wo(DM,this),i=this.getRefocusElement();wo(Ls,this).getSettings().imeFastEdit&&!((t=wo(Ls,this).getActiveEditor())!==null&&t!==void 0&&t.isOpened())&&i&&(wo(PM,this).has(r)||wo(PM,this).set(r,ny(()=>{i.select()},r)),wo(PM,this).get(r)())}};function $N(e){var t;let r=(t=wo(Ls,this).getSelectedRangeLast())===null||t===void 0?void 0:t.highlight;if(!r||!wo(Ls,this).selection.isCellVisible(r)){e(null);return}let i=wo(Ls,this).getCell(r.row,r.col,!0);i===null?wo(Ls,this).addHookOnce("afterScroll",()=>{e(wo(Ls,this).getCell(r.row,r.col,!0))}):e(i)}function rX(){uf(Jm,this,$N).call(this,e=>{let{activeElement:t}=wo(Ls,this).rootDocument;t&&gM(t)&&t.blur(),this.focusOnHighlightedCell(e)})}function ICt(){uf(Jm,this,$N).call(this,e=>{this.getFocusMode()===my.MIXED&&e.nodeName==="TD"&&this.refocusToEditorTextarea()})}function kCt(e){typeof e.imeFastEdit=="boolean"&&this.setFocusMode(e.imeFastEdit?my.MIXED:my.CELL)}var qqt=ot(we(),1),$qt=ot(aX(),1);var lX={"&nbsp;":" ","&amp;":"&","&lt;":"<","&gt;":">"},qCt=new RegExp(Object.keys(lX).map(e=>`(${e})`).join("|"),"gi");function $Ct(e){return(e&&e.nodeName||"")==="TABLE"}function XN(e){let t=e.hasColHeaders(),r=e.hasRowHeaders(),i=[t?-1:0,r?-1:0,e.countRows()-1,e.countCols()-1],n=e.getData(...i),o=n.length,s=o>0?n[0].length:0,a=["<table>","</table>"],l=t?["<thead>","</thead>"]:[],c=["<tbody>","</tbody>"],d=r?1:0,u=t?1:0;for(let h=0;h<o;h+=1){let f=t&&h===0,m=[];for(let p=0;p<s;p+=1){let b=!f&&r&&p===0,_="";if(f)_=`<th>${e.getColHeader(p-d)}</th>`;else if(b)_=`<th>${e.getRowHeader(h-u)}</th>`;else{let E=n[h][p],{hidden:O,rowspan:V,colspan:H}=e.getCellMeta(h-u,p-d);if(!O){let F=[];if(V&&F.push(`rowspan="${V}"`),H&&F.push(`colspan="${H}"`),sn(E))_=`<td ${F.join(" ")}></td>`;else{let L=E.toString().replace("<","&lt;").replace(">","&gt;").replace(/(<br(\s*|\/)>(\r\n|\n)?|\r\n|\n)/g,`<br>\r
`).replace(/\x20/gi,"&nbsp;").replace(/\t/gi,"&#9;");_=`<td ${F.join(" ")}>${L}</td>`}}}m.push(_)}let g=["<tr>",...m,"</tr>"].join("");f?l.splice(1,0,g):c.splice(-1,0,g)}return a.splice(1,0,l.join(""),c.join("")),a.join("")}function ZN(e){let t=e.length,r=["<table>"];for(let i=0;i<t;i+=1){let n=e[i],o=n.length,s=[];i===0&&r.push("<tbody>");for(let a=0;a<o;a+=1){let l=n[a],c=sn(l)?"":l.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/(<br(\s*|\/)>(\r\n|\n)?|\r\n|\n)/g,`<br>\r
`).replace(/\x20{2,}/gi,d=>`<span style="mso-spacerun: yes">${"&nbsp;".repeat(d.length-1)} </span>`).replace(/\t/gi,"&#9;");s.push(`<td>${c}</td>`)}r.push("<tr>",...s,"</tr>"),i+1===t&&r.push("</tbody>")}return r.push("</table>"),r.join("")}function cX(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document,r={},i=t.createDocumentFragment(),n=t.createElement("div");i.appendChild(n);let o=e;if(typeof o=="string"){let E=o.replace(/<td\b[^>]*?>([\s\S]*?)<\/\s*td>/g,O=>{let V=O.match(/<td\b[^>]*?>/g)[0],H=/<p.*?>/g,F=O.substring(V.length,O.lastIndexOf("<")).trim().replaceAll(/\n\s+/g," ").replaceAll(H,`
`).replace(`
`,"").replaceAll(/<\/(.*)>\s+$/mg,"</$1>").replace(/(<(?!br)([^>]+)>)/gi,"").replaceAll(/^&nbsp;$/mg,"");return`${V}${F}</td>`});n.insertAdjacentHTML("afterbegin",`${E}`),o=n.querySelector("table")}if(!o||!$Ct(o))return;let s=n.querySelector('meta[name$="enerator"]'),a=o.querySelector("tbody th")!==null,l=o.querySelector("tr"),c=l?Array.from(l.cells).reduce((E,O)=>E+O.colSpan,0)-(a?1:0):0,d=o.tFoot&&Array.from(o.tFoot.rows)||[],u=[],h=!1,f=0,m=0;if(o.tHead){let E=Array.from(o.tHead.rows).filter(O=>{let V=O.querySelector("td")!==null;return V&&u.push(O),!V});f=E.length,h=f>0,f>1?r.nestedHeaders=Array.from(E).reduce((O,V)=>{let H=Array.from(V.cells).reduce((F,L,$)=>{if(a&&$===0)return F;let{colSpan:W,innerHTML:x}=L,R=W>1?{label:x,colspan:W}:x;return F.push(R),F},[]);return O.push(H),O},[]):h&&(r.colHeaders=Array.from(E[0].children).reduce((O,V,H)=>(a&&H===0||O.push(V.innerHTML),O),[]))}u.length&&(r.fixedRowsTop=u.length),d.length&&(r.fixedRowsBottom=d.length);let g=[...u,...Array.from(o.tBodies).reduce((E,O)=>(E.push(...Array.from(O.rows)),E),[]),...d];m=g.length;let p=new Array(m);for(let E=0;E<m;E++)p[E]=new Array(c);let b=[],_=[];for(let E=0;E<m;E++){let O=g[E],V=Array.from(O.cells),H=V.length;for(let F=0;F<H;F++){let L=V[F],{nodeName:$,innerHTML:W,rowSpan:x,colSpan:R}=L,B=p[E].findIndex(v=>v===void 0);if($==="TD"){if(x>1||R>1){for(let w=E;w<E+x;w++)if(w<m)for(let S=B;S<B+R;S++)p[w][S]=null;let y=L.getAttribute("style");y&&y.includes("mso-ignore:colspan")||b.push({col:B,row:E,rowspan:x,colspan:R})}let v="";s&&/excel/gi.test(s.content)?v=W.replace(/[\r\n][\x20]{0,2}/g," ").replace(/<br(\s*|\/)>[\r\n]?[\x20]{0,3}/gim,`\r
`):v=W.replace(/<br(\s*|\/)>[\r\n]?/gim,`\r
`),p[E][B]=v.replace(qCt,y=>lX[y])}else _.push(W)}}return b.length&&(r.mergeCells=b),_.length&&(r.rowHeaders=_),p.length&&(r.data=p),r}var w$t=ot(Gt(),1);var n$t=ot(Gt(),1);var Xqt=ot(yn(),1),Zqt=ot(_n(),1),Qqt=ot(wn(),1),Jqt=ot(Cn(),1),t$t=ot(xn(),1),e$t=ot(Sn(),1),i$t=ot(En(),1);function Jo(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=typeof e;if(r==="number")return!isNaN(e)&&isFinite(e);if(r==="string"){if(e.length===0)return!1;if(e.length===1)return/\d/.test(e);let i=Array.from(new Set([".",...t])).map(n=>`\\${n}`).join("|");return new RegExp(`^[+-]?(((${i})?\\d+((${i})\\d+)?(e[+-]?\\d+)?)|(0x[a-f\\d]+))$`,"i").test(e.trim())}else if(r==="object")return!!e&&typeof e.valueOf()=="number"&&!(e instanceof Date);return!1}function dX(e){return Jo(e,[","])}function Oe(e,t,r){let i=-1;for(typeof t=="function"?(r=t,t=e):i=e-1;++i<=t&&r(i)!==!1;);}function PC(e,t,r){let i=e+1;for(typeof t=="function"&&(r=t,t=0);--i>=t&&r(i)!==!1;);}function LM(e,t){return t=parseInt(t.toString().replace("%",""),10),t=isNaN(t)?0:t,parseInt(e*t/100,10)}function Kr(e,t,r){return Math.min(e,t)===e?t:Math.max(e,r)===e?r:e}var QN="asc",GCt="desc",uX=new Map([[QN,[-1,1]],[GCt,[1,-1]]]),KCt=e=>`The priority '${e}' is already declared in a map.`,XCt=e=>`The priority '${e}' is not a number.`;function hX(){let{errorPriorityExists:e,errorPriorityNaN:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=new Map;e=Mr(e)?e:KCt,t=Mr(t)?t:XCt;function i(o,s){if(!Jo(o))throw new Error(t(o));if(r.has(o))throw new Error(e(o));r.set(o,s)}function n(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:QN,[s,a]=uX.get(o)||uX.get(QN);return[...r].sort((l,c)=>l[0]<c[0]?s:a).map(l=>l[1])}return{addItem:i,getItems:n}}var l$t=ot(Gt(),1);var ZCt=e=>`The id '${e}' is already declared in a map.`;function tp(){let{errorIdExists:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=new Map;e=Mr(e)?e:ZCt;function r(c,d){if(l(c))throw new Error(e(c));t.set(c,d)}function i(c){return t.delete(c)}function n(){t.clear()}function o(c){let[d]=a().find(u=>{let[h,f]=u;return c===f?h:!1})||[null];return d}function s(c){return t.get(c)}function a(){return[...t]}function l(c){return t.has(c)}return{addItem:r,clear:n,getId:o,getItem:s,getItems:a,hasItem:l,removeItem:i}}var u$t=ot(Gt(),1),h$t=ot(yn(),1),f$t=ot(_n(),1),m$t=ot(wn(),1),p$t=ot(Cn(),1),g$t=ot(xn(),1),b$t=ot(Sn(),1),v$t=ot(En(),1);var QCt=e=>`'${e}' value is already declared in a unique set.`;function fX(){let{errorItemExists:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=new Set;e=Mr(e)?e:QCt;function r(o){if(t.has(o))throw new Error(e(o));t.add(o)}function i(){return[...t]}function n(){t.clear()}return{addItem:r,clear:n,getItems:i}}var t6=e=>`There is already registered "${e}" plugin.`,JCt=e=>`There is already registered plugin on priority "${e}".`,txt=e=>`The priority "${e}" is not a number.`,mX=hX({errorPriorityExists:JCt,errorPriorityNaN:txt}),pX=fX({errorItemExists:t6}),JN=tp({errorIdExists:t6});function FM(){return[...mX.getItems(),...pX.getItems()]}function HM(e){let t=na(e);return JN.getItem(t)}function gX(e){return!!HM(e)}function Jr(e,t,r){[e,t,r]=ixt(e,t,r),HM(e)===void 0&&ext(e,t,r)}function ext(e,t,r){let i=na(e);if(JN.hasItem(i))throw new Error(t6(i));r===void 0?pX.addItem(i):mX.addItem(r,i),JN.addItem(i,t)}function ixt(e,t,r){return typeof e=="function"&&(t=e,e=t.PLUGIN_KEY,r=t.PLUGIN_PRIORITY),[e,t,r]}var T$t=ot(Gt(),1);var{register:rxt,getItem:nxt,hasItem:e6,getNames:A$t,getValues:I$t}=Zo("renderers");function i6(e){if(typeof e=="function")return e;if(!e6(e))throw Error(`No registered renderer found under "${e}" name`);return nxt(e)}function bl(e,t){typeof e!="string"&&(t=e,e=t.RENDERER_TYPE),rxt(e,t)}var D$t=ot(Gt(),1);var{register:oxt,getItem:sxt,hasItem:r6,getNames:P$t,getValues:N$t}=Zo("validators");function bX(e){if(typeof e=="function")return e;if(!r6(e))throw Error(`No registered validator found under "${e}" name`);return sxt(e)}function ep(e,t){typeof e!="string"&&(t=e,e=t.VALIDATOR_TYPE),oxt(e,t)}var xJt=ot(Gt(),1),SJt=ot(we(),1);var F$t=ot(Gt(),1);function BM(e,t,r){return t=axt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function axt(e){var t=lxt(e,"string");return typeof t=="symbol"?t:t+""}function lxt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NC=class{constructor(t){BM(this,"count",0),BM(this,"startColumn",0),BM(this,"endColumn",0),BM(this,"startPosition",0),this.count=t.totalColumns,this.endColumn=this.count-1}};var B$t=ot(Gt(),1);function jM(e,t,r){return t=cxt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cxt(e){var t=dxt(e,"string");return typeof t=="symbol"?t:t+""}function dxt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LC=class{constructor(t){jM(this,"count",0),jM(this,"startRow",0),jM(this,"endRow",0),jM(this,"startPosition",0),this.count=t.totalRows,this.endRow=this.count-1}};var U$t=ot(Gt(),1),W$t=ot(n6(),1),Y$t=ot(we(),1);function gxt(e,t,r){bxt(e,t),t.set(e,r)}function bxt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function FC(e,t,r){return t=vxt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vxt(e){var t=yxt(e,"string");return typeof t=="symbol"?t:t+""}function yxt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gy(e,t){return e.get(vX(e,t))}function _xt(e,t,r){return e.set(vX(e,t),r),r}function vX(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var ip=new WeakMap,Yu=class e{static get DEFAULT_WIDTH(){return 50}constructor(t){FC(this,"count",0),FC(this,"startColumn",null),FC(this,"endColumn",null),FC(this,"startPosition",null),FC(this,"isVisibleInTrimmingContainer",!1),gxt(this,ip,void 0),_xt(ip,this,t),this.calculate()}calculate(){let{calculationType:t,overrideFn:r,scrollOffset:i,totalColumns:n,viewportWidth:o}=gy(ip,this),s=Math.max(gy(ip,this).scrollOffset,0),a=s>0?o+1:o,l=0,c=!0,d=[],u,h=0,f=0;for(let b=0;b<n;b++)if(u=this._getColumnWidth(b),l<=s&&t!==2&&(this.startColumn=b,h=u),l>=s&&l+(t===2?u:0)<=s+a&&((this.startColumn===null||this.startColumn===void 0)&&(this.startColumn=b,h=u),this.endColumn=b),d.push(l),l+=u,f=u,t!==2&&(this.endColumn=b),l>=s+o){c=!1;break}let m=i+o-a,g=t===2?0:f,p=t===2?h:0;if(m<-1*gy(ip,this).inlineStartOffset||i>d.at(-1)+g||-1*gy(ip,this).scrollOffset-gy(ip,this).viewportWidth>-1*p?this.isVisibleInTrimmingContainer=!1:this.isVisibleInTrimmingContainer=!0,this.endColumn===n-1&&c)for(this.startColumn=this.endColumn;this.startColumn>0;){let b=d[this.endColumn]+u-d[this.startColumn-1];if((b<=o||t!==2)&&(this.startColumn-=1),b>o)break}t===1&&this.startColumn!==null&&r&&r(this),this.startPosition=d[this.startColumn],this.startPosition===void 0&&(this.startPosition=null),n<this.endColumn&&(this.endColumn=n-1),this.startColumn!==null&&(this.count=this.endColumn-this.startColumn+1)}_getColumnWidth(t){let r=gy(ip,this).columnWidthFn(t);return isNaN(r)&&(r=e.DEFAULT_WIDTH),r}};var $$t=ot(Gt(),1),G$t=ot(n6(),1),K$t=ot(we(),1);function wxt(e,t,r){Cxt(e,t),t.set(e,r)}function Cxt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function HC(e,t,r){return t=xxt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xxt(e){var t=Sxt(e,"string");return typeof t=="symbol"?t:t+""}function Sxt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function o6(e,t){return e.get(yX(e,t))}function Ext(e,t,r){return e.set(yX(e,t),r),r}function yX(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var BC=new WeakMap,np=class e{static get DEFAULT_HEIGHT(){return 23}constructor(t){HC(this,"count",0),HC(this,"startRow",null),HC(this,"endRow",null),HC(this,"startPosition",null),HC(this,"isVisibleInTrimmingContainer",!1),wxt(this,BC,void 0),Ext(BC,this,t),this.calculate()}calculate(){let{calculationType:t,overrideFn:r,rowHeightFn:i,scrollOffset:n,totalRows:o,viewportHeight:s}=o6(BC,this),a=Math.max(o6(BC,this).scrollOffset,0),l=o6(BC,this).horizontalScrollbarHeight||0,c=a+s-l,d=0,u=!0,h=[],f,m=0,g=0;for(let E=0;E<o;E++)if(f=i(E),isNaN(f)&&(f=e.DEFAULT_HEIGHT),d<=a&&t!==2&&(this.startRow=E,m=f),d>=a&&d+(t===2?f:0)<=c&&(this.startRow===null&&(this.startRow=E,m=f),this.endRow=E),h.push(d),d+=f,g=f,t!==2&&(this.endRow=E),d>=c){u=!1;break}let p=n+s-l,b=t===2?m:0,_=t===2?0:g;if(p<b||n>h.at(-1)+_?this.isVisibleInTrimmingContainer=!1:this.isVisibleInTrimmingContainer=!0,this.endRow===o-1&&u)for(this.startRow=this.endRow;this.startRow>0;){let E=h[this.endRow]+f-h[this.startRow-1];if((E<=s-l||t!==2)&&(this.startRow-=1),E>=s-l)break}t===1&&this.startRow!==null&&r&&r(this),this.startPosition=h[this.startRow],this.startPosition===void 0&&(this.startPosition=null),o<this.endRow&&(this.endRow=o-1),this.startRow!==null&&(this.count=this.endRow-this.startRow+1)}};var rGt=ot(Gt(),1);function Rxt(e,t,r){Txt(e,t),t.set(e,r)}function Txt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _X(e,t,r){return t=Mxt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mxt(e){var t=Axt(e,"string");return typeof t=="symbol"?t:t+""}function Axt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function by(e,t){return e.get(CX(e,t))}function wX(e,t,r){return e.set(CX(e,t),r),r}function CX(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var hf=new WeakMap,s6=class e{constructor(t,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;_X(this,"row",null),_X(this,"col",null),Rxt(this,hf,!1),wX(hf,this,i),typeof t<"u"&&typeof r<"u"&&(this.row=t,this.col=r)}isValid(t){let{countRows:r,countCols:i,countRowHeaders:n,countColHeaders:o}=Vt({countRows:0,countCols:0,countRowHeaders:0,countColHeaders:0},t);return!(!Number.isInteger(this.row)||!Number.isInteger(this.col)||this.row<-o||this.col<-n||this.row>=r||this.col>=i)}isEqual(t){return t===this?!0:this.row===t.row&&this.col===t.col}isHeader(){return!this.isCell()}isCell(){return this.row>=0&&this.col>=0}isRtl(){return by(hf,this)}isSouthEastOf(t){return this.row>=t.row&&(by(hf,this)?this.col<=t.col:this.col>=t.col)}isNorthWestOf(t){return this.row<=t.row&&(by(hf,this)?this.col>=t.col:this.col<=t.col)}isSouthWestOf(t){return this.row>=t.row&&(by(hf,this)?this.col>=t.col:this.col<=t.col)}isNorthEastOf(t){return this.row<=t.row&&(by(hf,this)?this.col<=t.col:this.col>=t.col)}normalize(){return this.row=this.row===null?this.row:Math.max(this.row,0),this.col=this.col===null?this.col:Math.max(this.col,0),this}assign(t){return Number.isInteger(t?.row)&&(this.row=t.row),Number.isInteger(t?.col)&&(this.col=t.col),t instanceof e&&wX(hf,this,t.isRtl()),this}clone(){return new e(this.row,this.col,by(hf,this))}toObject(){return{row:this.row,col:this.col}}},op=s6;var sGt=ot(Gt(),1),aGt=ot(we(),1);function Ixt(e,t,r){kxt(e,t),t.set(e,r)}function kxt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function a6(e,t,r){return t=Dxt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dxt(e){var t=Oxt(e,"string");return typeof t=="symbol"?t:t+""}function Oxt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jc(e,t){return e.get(xX(e,t))}function Pxt(e,t,r){return e.set(xX(e,t),r),r}function xX(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var vl=new WeakMap,l6=class e{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;a6(this,"highlight",null),a6(this,"from",null),a6(this,"to",null),Ixt(this,vl,!1),this.highlight=t.clone(),this.from=r.clone(),this.to=i.clone(),Pxt(vl,this,n)}setHighlight(t){return this.highlight=t.clone(),this}setFrom(t){return this.from=t.clone(),this}setTo(t){return this.to=t.clone(),this}isValid(t){return this.from.isValid(t)&&this.to.isValid(t)}isSingle(){return this.isSingleCell()||this.isSingleHeader()}isSingleCell(){return this.from.row>=0&&this.from.row===this.to.row&&this.from.col>=0&&this.from.col===this.to.col}isSingleHeader(){return(this.from.row<0||this.from.col<0)&&this.from.row===this.to.row&&this.from.col===this.to.col}isHeader(){return this.from.isHeader()&&this.to.isHeader()?!0:this.from.col<0&&this.to.col<0||this.from.row<0&&this.to.row<0}containsHeaders(){return this.from.isHeader()||this.to.isHeader()}getOuterHeight(){return Math.max(this.from.row,this.to.row)-Math.min(this.from.row,this.to.row)+1}getOuterWidth(){return Math.max(this.from.col,this.to.col)-Math.min(this.from.col,this.to.col)+1}getHeight(){if(this.from.row<0&&this.to.row<0)return 0;let t=Math.max(this.from.row,0),r=Math.max(this.to.row,0);return Math.max(t,r)-Math.min(t,r)+1}getWidth(){if(this.from.col<0&&this.to.col<0)return 0;let t=Math.max(this.from.col,0),r=Math.max(this.to.col,0);return Math.max(t,r)-Math.min(t,r)+1}getCellsCount(){return this.getWidth()*this.getHeight()}includes(t){let{row:r,col:i}=t,n=this.getOuterTopStartCorner(),o=this.getOuterBottomEndCorner();return n.row<=r&&o.row>=r&&n.col<=i&&o.col>=i}includesRange(t){return this.includes(t.getOuterTopStartCorner())&&this.includes(t.getOuterBottomEndCorner())}isEqual(t){return Math.min(this.from.row,this.to.row)===Math.min(t.from.row,t.to.row)&&Math.max(this.from.row,this.to.row)===Math.max(t.from.row,t.to.row)&&Math.min(this.from.col,this.to.col)===Math.min(t.from.col,t.to.col)&&Math.max(this.from.col,this.to.col)===Math.max(t.from.col,t.to.col)}overlaps(t){return t.isSouthEastOf(this.getOuterTopLeftCorner())&&t.isNorthWestOf(this.getOuterBottomRightCorner())}isSouthEastOf(t){return this.getOuterTopLeftCorner().isSouthEastOf(t)||this.getOuterBottomRightCorner().isSouthEastOf(t)}isNorthWestOf(t){return this.getOuterTopLeftCorner().isNorthWestOf(t)||this.getOuterBottomRightCorner().isNorthWestOf(t)}isOverlappingHorizontally(t){return this.getOuterTopEndCorner().col>=t.getOuterTopStartCorner().col&&this.getOuterTopEndCorner().col<=t.getOuterTopEndCorner().col||this.getOuterTopStartCorner().col<=t.getOuterTopEndCorner().col&&this.getOuterTopStartCorner().col>=t.getOuterTopStartCorner().col}isOverlappingVertically(t){return this.getOuterBottomStartCorner().row>=t.getOuterTopRightCorner().row&&this.getOuterBottomStartCorner().row<=t.getOuterBottomStartCorner().row||this.getOuterTopEndCorner().row<=t.getOuterBottomStartCorner().row&&this.getOuterTopEndCorner().row>=t.getOuterTopRightCorner().row}expand(t){let r=this.getOuterTopStartCorner(),i=this.getOuterBottomEndCorner();return t.row<r.row||t.col<r.col||t.row>i.row||t.col>i.col?(this.from=this._createCellCoords(Math.min(r.row,t.row),Math.min(r.col,t.col)),this.to=this._createCellCoords(Math.max(i.row,t.row),Math.max(i.col,t.col)),!0):!1}expandByRange(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(this.includesRange(t)||!this.overlaps(t))return!1;let i=this.getOuterTopStartCorner(),n=this.getOuterBottomEndCorner(),o=this.getDirection(),s=t.getOuterTopStartCorner(),a=t.getOuterBottomEndCorner(),l=Math.min(i.row,s.row),c=Math.min(i.col,s.col),d=Math.max(n.row,a.row),u=Math.max(n.col,a.col),h=this._createCellCoords(l,c),f=this._createCellCoords(d,u);return this.from=h,this.to=f,this.setDirection(o),r&&(this.highlight.row===this.getOuterBottomRightCorner().row&&this.getVerticalDirection()==="N-S"&&this.flipDirectionVertically(),this.highlight.col===this.getOuterTopRightCorner().col&&this.getHorizontalDirection()==="W-E"&&this.flipDirectionHorizontally()),!0}getDirection(){if(this.from.isNorthWestOf(this.to))return"NW-SE";if(this.from.isNorthEastOf(this.to))return"NE-SW";if(this.from.isSouthEastOf(this.to))return"SE-NW";if(this.from.isSouthWestOf(this.to))return"SW-NE"}setDirection(t){switch(t){case"NW-SE":[this.from,this.to]=[this.getOuterTopLeftCorner(),this.getOuterBottomRightCorner()];break;case"NE-SW":[this.from,this.to]=[this.getOuterTopRightCorner(),this.getOuterBottomLeftCorner()];break;case"SE-NW":[this.from,this.to]=[this.getOuterBottomRightCorner(),this.getOuterTopLeftCorner()];break;case"SW-NE":[this.from,this.to]=[this.getOuterBottomLeftCorner(),this.getOuterTopRightCorner()];break;default:break}}getVerticalDirection(){return["NE-SW","NW-SE"].indexOf(this.getDirection())>-1?"N-S":"S-N"}getHorizontalDirection(){return["NW-SE","SW-NE"].indexOf(this.getDirection())>-1?"W-E":"E-W"}flipDirectionVertically(){switch(this.getDirection()){case"NW-SE":this.setDirection("SW-NE");break;case"NE-SW":this.setDirection("SE-NW");break;case"SE-NW":this.setDirection("NE-SW");break;case"SW-NE":this.setDirection("NW-SE");break;default:break}}flipDirectionHorizontally(){switch(this.getDirection()){case"NW-SE":this.setDirection("NE-SW");break;case"NE-SW":this.setDirection("NW-SE");break;case"SE-NW":this.setDirection("SW-NE");break;case"SW-NE":this.setDirection("SE-NW");break;default:break}}getTopStartCorner(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.min(this.from.col,this.to.col)).normalize()}getTopLeftCorner(){return jc(vl,this)?this.getTopEndCorner():this.getTopStartCorner()}getBottomEndCorner(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.max(this.from.col,this.to.col)).normalize()}getBottomRightCorner(){return jc(vl,this)?this.getBottomStartCorner():this.getBottomEndCorner()}getTopEndCorner(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.max(this.from.col,this.to.col)).normalize()}getTopRightCorner(){return jc(vl,this)?this.getTopStartCorner():this.getTopEndCorner()}getBottomStartCorner(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.min(this.from.col,this.to.col)).normalize()}getBottomLeftCorner(){return jc(vl,this)?this.getBottomEndCorner():this.getBottomStartCorner()}getOuterTopStartCorner(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))}getOuterTopLeftCorner(){return jc(vl,this)?this.getOuterTopEndCorner():this.getOuterTopStartCorner()}getOuterBottomEndCorner(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))}getOuterBottomRightCorner(){return jc(vl,this)?this.getOuterBottomStartCorner():this.getOuterBottomEndCorner()}getOuterTopEndCorner(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))}getOuterTopRightCorner(){return jc(vl,this)?this.getOuterTopStartCorner():this.getOuterTopEndCorner()}getOuterBottomStartCorner(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))}getOuterBottomLeftCorner(){return jc(vl,this)?this.getOuterBottomEndCorner():this.getOuterBottomStartCorner()}isCorner(t){return t.isEqual(this.getOuterTopLeftCorner())||t.isEqual(this.getOuterTopRightCorner())||t.isEqual(this.getOuterBottomLeftCorner())||t.isEqual(this.getOuterBottomRightCorner())}getOppositeCorner(t){if(!(t instanceof op))return!1;if(t.isEqual(this.getOuterBottomEndCorner()))return this.getOuterTopStartCorner();if(t.isEqual(this.getOuterTopStartCorner()))return this.getOuterBottomEndCorner();if(t.isEqual(this.getOuterTopEndCorner()))return this.getOuterBottomStartCorner();if(t.isEqual(this.getOuterBottomStartCorner()))return this.getOuterTopEndCorner()}getBordersSharedWith(t){if(!this.includesRange(t))return[];let r={top:Math.min(this.from.row,this.to.row),bottom:Math.max(this.from.row,this.to.row),left:Math.min(this.from.col,this.to.col),right:Math.max(this.from.col,this.to.col)},i={top:Math.min(t.from.row,t.to.row),bottom:Math.max(t.from.row,t.to.row),left:Math.min(t.from.col,t.to.col),right:Math.max(t.from.col,t.to.col)},n=[];return r.top===i.top&&n.push("top"),r.right===i.right&&n.push(jc(vl,this)?"left":"right"),r.bottom===i.bottom&&n.push("bottom"),r.left===i.left&&n.push(jc(vl,this)?"right":"left"),n}getInner(){let t=this.getOuterTopStartCorner(),r=this.getOuterBottomEndCorner(),i=[];for(let n=t.row;n<=r.row;n++)for(let o=t.col;o<=r.col;o++)!(this.from.row===n&&this.from.col===o)&&!(this.to.row===n&&this.to.col===o)&&i.push(this._createCellCoords(n,o));return i}getAll(){let t=this.getOuterTopStartCorner(),r=this.getOuterBottomEndCorner(),i=[];for(let n=t.row;n<=r.row;n++)for(let o=t.col;o<=r.col;o++)t.row===n&&t.col===o?i.push(t):r.row===n&&r.col===o?i.push(r):i.push(this._createCellCoords(n,o));return i}forAll(t){let r=this.getOuterTopStartCorner(),i=this.getOuterBottomEndCorner();for(let n=r.row;n<=i.row;n++)for(let o=r.col;o<=i.col;o++)if(t(n,o)===!1)return}clone(){return new e(this.highlight,this.from,this.to,jc(vl,this))}toObject(){return{from:this.from.toObject(),to:this.to.toObject()}}_createCellCoords(t,r){return new op(t,r,jc(vl,this))}},e0=l6;var tJt=ot(we(),1);var dGt=ot(Gt(),1);function qu(e,t,r){Nxt(e,t),t.set(e,r)}function Nxt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ei(e,t){return e.get(SX(e,t))}function sp(e,t,r){return e.set(SX(e,t),r),r}function SX(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var Vc=new WeakMap,c6=new WeakMap,Fs=new WeakMap,vy=new WeakMap,VM=new WeakMap,Dd=new WeakMap,d6=new WeakMap,jC=new WeakMap,i0=new WeakMap,$u=new WeakMap,u6=class{constructor(t,r,i,n,o,s){let a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null;qu(this,Vc,void 0),qu(this,c6,void 0),qu(this,Fs,void 0),qu(this,vy,void 0),qu(this,VM,void 0),qu(this,Dd,void 0),qu(this,d6,void 0),qu(this,jC,void 0),qu(this,i0,[null,null]),qu(this,$u,[null,null]),sp(Vc,this,i),sp(c6,this,r),sp(Fs,this,o),sp(vy,this,s),sp(VM,this,a),sp(Dd,this,n),sp(d6,this,t),this.registerEvents()}registerEvents(){Ei(Dd,this).addEventListener(Ei(Fs,this).holder,"contextmenu",i=>this.onContextMenu(i)),Ei(Dd,this).addEventListener(Ei(Fs,this).TABLE,"mouseover",i=>this.onMouseOver(i)),Ei(Dd,this).addEventListener(Ei(Fs,this).TABLE,"mouseout",i=>this.onMouseOut(i));let t=()=>{Ei(Dd,this).addEventListener(Ei(Fs,this).holder,"touchstart",i=>this.onTouchStart(i)),Ei(Dd,this).addEventListener(Ei(Fs,this).holder,"touchend",i=>this.onTouchEnd(i)),this.momentumScrolling||(this.momentumScrolling={}),Ei(Dd,this).addEventListener(Ei(Fs,this).holder,"scroll",()=>{clearTimeout(this.momentumScrolling._timeout),this.momentumScrolling.ongoing||Ei(Vc,this).getSetting("onBeforeTouchScroll"),this.momentumScrolling.ongoing=!0,this.momentumScrolling._timeout=setTimeout(()=>{this.touchApplied||(this.momentumScrolling.ongoing=!1,Ei(Vc,this).getSetting("onAfterMomentumScroll"))},200)})},r=()=>{Ei(Dd,this).addEventListener(Ei(Fs,this).holder,"mouseup",i=>this.onMouseUp(i)),Ei(Dd,this).addEventListener(Ei(Fs,this).holder,"mousedown",i=>this.onMouseDown(i))};Zl()?t():(CM()&&t(),r())}selectedCellWasTouched(t){let i=this.parentCell(t).coords;if(Ei(jC,this)&&i){let[n,o]=[i.row,Ei(jC,this).from.row],[s,a]=[i.col,Ei(jC,this).from.col];return n===o&&s===a}return!1}parentCell(t){let r={},i=Ei(Fs,this).TABLE,n=EC(t,["TD","TH"],i);return n?(r.coords=Ei(Fs,this).getCoords(n),r.TD=n):Ze(t,"wtBorder")&&Ze(t,"current")?(r.coords=Ei(vy,this).getFocusSelection().cellRange.highlight,r.TD=Ei(Fs,this).getCell(r.coords)):Ze(t,"wtBorder")&&Ze(t,"area")&&Ei(vy,this).getAreaSelection().cellRange&&(r.coords=Ei(vy,this).getAreaSelection().cellRange.to,r.TD=Ei(Fs,this).getCell(r.coords)),r}onMouseDown(t){let r=Ei(c6,this).rootDocument.activeElement,i=vM(pK,t.target),n=t.target;if(!["TD","TH"].includes(r.nodeName)&&(n===r||i(0)===r||i(1)===r))return;let o=this.parentCell(n);Ze(n,"corner")?Ei(Vc,this).getSetting("onCellCornerMouseDown",t,n):o.TD&&Ei(Vc,this).has("onCellMouseDown")&&this.callListener("onCellMouseDown",t,o.coords,o.TD),(t.button===0||this.touchApplied)&&o.TD&&(Ei($u,this)[0]=o.TD,clearTimeout(Ei(i0,this)[0]),Ei(i0,this)[0]=setTimeout(()=>{Ei($u,this)[0]=null},1e3))}onContextMenu(t){if(Ei(Vc,this).has("onCellContextMenu")){let r=this.parentCell(t.target);r.TD&&this.callListener("onCellContextMenu",t,r.coords,r.TD)}}onMouseOver(t){if(!Ei(Vc,this).has("onCellMouseOver"))return;let r=Ei(Fs,this).TABLE,i=EC(t.target,["TD","TH"],r),n=Ei(VM,this)||this;i&&i!==n.lastMouseOver&&Ad(i,r)&&(n.lastMouseOver=i,this.callListener("onCellMouseOver",t,Ei(Fs,this).getCoords(i),i))}onMouseOut(t){if(!Ei(Vc,this).has("onCellMouseOut"))return;let r=Ei(Fs,this).TABLE,i=EC(t.target,["TD","TH"],r),n=EC(t.relatedTarget,["TD","TH"],r),o=Ei(VM,this)||this;i&&i!==n&&Ad(i,r)&&(this.callListener("onCellMouseOut",t,Ei(Fs,this).getCoords(i),i),n===null&&(o.lastMouseOver=null))}onMouseUp(t){let r=this.parentCell(t.target);r.TD&&Ei(Vc,this).has("onCellMouseUp")&&this.callListener("onCellMouseUp",t,r.coords,r.TD),!(t.button!==0&&!this.touchApplied)&&(r.TD===Ei($u,this)[0]&&r.TD===Ei($u,this)[1]?(Ze(t.target,"corner")?this.callListener("onCellCornerDblClick",t,r.coords,r.TD):this.callListener("onCellDblClick",t,r.coords,r.TD),Ei($u,this)[0]=null,Ei($u,this)[1]=null):r.TD===Ei($u,this)[0]&&(Ei($u,this)[1]=r.TD,clearTimeout(Ei(i0,this)[1]),Ei(i0,this)[1]=setTimeout(()=>{Ei($u,this)[1]=null},500)))}onTouchStart(t){sp(jC,this,Ei(vy,this).getFocusSelection().cellRange),this.touchApplied=!0,this.onMouseDown(t)}onTouchEnd(t){var r;let i=t.target,n=(r=this.parentCell(i))===null||r===void 0?void 0:r.coords,o=Ne(n)&&n.row>=0&&n.col>=0;if(t.cancelable&&o&&Ei(Vc,this).getSetting("isDataViewInstance")){let a=["A","BUTTON","INPUT"];EM()&&($K()||GK())&&this.selectedCellWasTouched(i)&&!a.includes(i.tagName)?t.preventDefault():this.selectedCellWasTouched(i)||t.preventDefault()}this.onMouseUp(t),this.touchApplied=!1}callListener(t,r,i,n){let o=Ei(Vc,this).getSettingPure(t);o&&o(r,i,n,Ei(d6,this).call(this))}destroy(){clearTimeout(Ei(i0,this)[0]),clearTimeout(Ei(i0,this)[1]),Ei(Dd,this).destroy()}},zM=u6;var kQt=ot(Gt(),1),DQt=ot(we(),1);var OKt=ot(Gt(),1),PKt=ot(we(),1);var bGt=ot(Gt(),1);function h6(e,t,r){return t=Lxt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lxt(e){var t=Fxt(e,"string");return typeof t=="symbol"?t:t+""}function Fxt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var f6=class{constructor(t,r,i){h6(this,"offset",void 0),h6(this,"total",void 0),h6(this,"countTH",void 0),this.offset=t,this.total=r,this.countTH=i}offsetted(t){return t+this.offset}unOffsetted(t){return t-this.offset}renderedToSource(t){return this.offsetted(t)}sourceToRendered(t){return this.unOffsetted(t)}offsettedTH(t){return t-this.countTH}unOffsettedTH(t){return t+this.countTH}visibleRowHeadedColumnToSourceColumn(t){return this.renderedToSource(this.offsettedTH(t))}sourceColumnToVisibleRowHeadedColumn(t){return this.unOffsettedTH(this.sourceToRendered(t))}},EX=f6;var yGt=ot(Gt(),1);function m6(e,t,r){return t=Hxt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hxt(e){var t=Bxt(e,"string");return typeof t=="symbol"?t:t+""}function Bxt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var p6=class{constructor(t,r,i){m6(this,"offset",void 0),m6(this,"total",void 0),m6(this,"countTH",void 0),this.offset=t,this.total=r,this.countTH=i}offsetted(t){return t+this.offset}unOffsetted(t){return t-this.offset}renderedToSource(t){return this.offsetted(t)}sourceToRendered(t){return this.unOffsetted(t)}offsettedTH(t){return t-this.countTH}unOffsettedTH(t){return t+this.countTH}visibleColHeadedRowToSourceRow(t){return this.renderedToSource(this.offsettedTH(t))}sourceRowToVisibleColHeadedRow(t){return this.unOffsettedTH(this.sourceToRendered(t))}},RX=p6;var VGt=ot(Gt(),1);var TGt=ot(Gt(),1),MGt=ot(we(),1);var SGt=ot(Gt(),1);var wGt=ot(Gt(),1);function UM(e,t,r){return t=jxt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jxt(e){var t=Vxt(e,"string");return typeof t=="symbol"?t:t+""}function Vxt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VC=class{constructor(){UM(this,"currentSize",0),UM(this,"nextSize",0),UM(this,"currentOffset",0),UM(this,"nextOffset",0)}setSize(t){this.currentSize=this.nextSize,this.nextSize=t}setOffset(t){this.currentOffset=this.nextOffset,this.nextOffset=t}};function g6(e,t,r){return t=zxt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zxt(e){var t=Uxt(e,"string");return typeof t=="symbol"?t:t+""}function Uxt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WM=class{constructor(){g6(this,"size",new VC),g6(this,"workingSpace",0),g6(this,"sharedSize",null)}setSize(t){this.size.setSize(t)}setOffset(t){this.size.setOffset(t)}getViewSize(){return this.size}isShared(){return this.sharedSize instanceof VC}isPlaceOn(t){return this.workingSpace===t}append(t){this.workingSpace=1,t.workingSpace=2,this.sharedSize=t.getViewSize()}prepend(t){this.workingSpace=2,t.workingSpace=1,this.sharedSize=t.getViewSize()}};function yy(e,t,r){return t=Wxt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wxt(e){var t=Yxt(e,"string");return typeof t=="symbol"?t:t+""}function Yxt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var r0=class{constructor(t,r,i){yy(this,"rootNode",void 0),yy(this,"nodesPool",void 0),yy(this,"sizeSet",new WM),yy(this,"childNodeType",void 0),yy(this,"visualIndex",0),yy(this,"collectedNodes",[]),this.rootNode=t,this.nodesPool=r,this.childNodeType=i.toUpperCase()}setSize(t){return this.sizeSet.setSize(t),this}setOffset(t){return this.sizeSet.setOffset(t),this}isSharedViewSet(){return this.sizeSet.isShared()}getNode(t){return t<this.collectedNodes.length?this.collectedNodes[t]:null}getCurrentNode(){let t=this.collectedNodes.length;return t>0?this.collectedNodes[t-1]:null}getRenderedChildCount(){let{rootNode:t,sizeSet:r}=this,i=0;if(this.isSharedViewSet()){let n=t.firstElementChild;for(;n;){if(n.tagName===this.childNodeType)i+=1;else if(r.isPlaceOn(1))break;n=n.nextElementSibling}}else i=t.childElementCount;return i}start(){this.collectedNodes.length=0,this.visualIndex=0;let{rootNode:t,sizeSet:r}=this,i=this.isSharedViewSet(),{nextSize:n}=r.getViewSize(),o=this.getRenderedChildCount();for(;o<n;){let a=this.nodesPool();!i||i&&r.isPlaceOn(2)?t.appendChild(a):t.insertBefore(a,t.firstChild),o+=1}let s=i&&r.isPlaceOn(1);for(;o>n;)t.removeChild(s?t.firstChild:t.lastChild),o-=1}render(){let{rootNode:t,sizeSet:r}=this,i=this.visualIndex;this.isSharedViewSet()&&r.isPlaceOn(2)&&(i+=r.sharedSize.nextSize);let n=t.childNodes[i];if(n.tagName!==this.childNodeType){let o=this.nodesPool();t.replaceChild(o,n),n=o}this.collectedNodes.push(n),this.visualIndex+=1}end(){}};var n0=class extends r0{prependView(t){return this.sizeSet.prepend(t.sizeSet),t.sizeSet.append(this.sizeSet),this}appendView(t){return this.sizeSet.append(t.sizeSet),t.sizeSet.prepend(this.sizeSet),this}};var HGt=ot(Gt(),1);var LGt=ot(Gt(),1);function qxt(e,t,r){return t=$xt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $xt(e){var t=Gxt(e,"string");return typeof t=="symbol"?t:t+""}function Gxt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YM=class{constructor(t){qxt(this,"nodeType",void 0),this.nodeType=t.toUpperCase()}setRootDocument(t){this.rootDocument=t}obtain(){return this.rootDocument.createElement(this.nodeType)}};function zC(e,t,r){return t=Kxt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kxt(e){var t=Xxt(e,"string");return typeof t=="symbol"?t:t+""}function Xxt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zc=class{constructor(t,r){zC(this,"nodesPool",null),zC(this,"nodeType",void 0),zC(this,"rootNode",void 0),zC(this,"table",null),zC(this,"renderedNodes",0),this.nodesPool=typeof t=="string"?new YM(t):null,this.nodeType=t,this.rootNode=r}setTable(t){this.nodesPool&&this.nodesPool.setRootDocument(t.rootDocument),this.table=t}adjust(){}render(){}};function TX(e,t,r){return t=Zxt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zxt(e){var t=Qxt(e,"string");return typeof t=="symbol"?t:t+""}function Qxt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qM=class extends zc{constructor(){super("TH"),TX(this,"orderViews",new WeakMap),TX(this,"sourceRowIndex",0)}obtainOrderView(t){let r;return this.orderViews.has(t)?r=this.orderViews.get(t):(r=new n0(t,i=>this.nodesPool.obtain(this.sourceRowIndex,i),this.nodeType),this.orderViews.set(t,r)),r}render(){let{rowsToRender:t,rowHeaderFunctions:r,rowHeadersCount:i,rows:n,cells:o}=this.table;for(let s=0;s<t;s++){let a=this.table.renderedRowToSource(s),l=n.getRenderedNode(s);this.sourceRowIndex=a;let c=this.obtainOrderView(l),d=o.obtainOrderView(l);c.appendView(d).setSize(i).setOffset(this.table.renderedColumnToSource(0)).start();for(let u=0;u<i;u++){c.render();let h=c.getCurrentNode();h.className="",h.removeAttribute("style"),Nc(h,[new RegExp("aria-(.*)"),new RegExp("role")]),this.table.isAriaEnabled()&&Xe(h,[GG(),iK(),Jv(u+1),Oc(-1)]),r[u](a,h,u)}c.end()}}};var $M=class extends zc{constructor(t){super(null,t)}adjust(){let{columnHeadersCount:t,rowHeadersCount:r}=this.table,i=this.rootNode.firstChild;if(t){let{columnsToRender:n}=this.table,o=n+r;for(let a=0,l=t;a<l;a++){for(i=this.rootNode.childNodes[a],i||(i=this.table.rootDocument.createElement("tr"),this.rootNode.appendChild(i)),this.renderedNodes=i.childNodes.length;this.renderedNodes<o;)i.appendChild(this.table.rootDocument.createElement("th")),this.renderedNodes+=1;for(;this.renderedNodes>o;)i.removeChild(i.lastChild),this.renderedNodes-=1}let s=this.rootNode.childNodes.length;if(s>t)for(let a=t;a<s;a++)this.rootNode.removeChild(this.rootNode.lastChild)}else i&&Ps(i)}render(){let{columnHeadersCount:t}=this.table;this.table.isAriaEnabled()&&Xe(this.rootNode,[lM()]);for(let r=0;r<t;r+=1){let{columnHeaderFunctions:i,columnsToRender:n,rowHeadersCount:o}=this.table,s=this.rootNode.childNodes[r];this.table.isAriaEnabled()&&Xe(s,[SC(),hM(r+1)]);for(let a=-1*o;a<n;a+=1){let l=this.table.renderedColumnToSource(a),c=s.childNodes[a+o];c.className="",c.removeAttribute("style"),Nc(c,[new RegExp("aria-(.*)"),new RegExp("role")]),this.table.isAriaEnabled()&&Xe(c,[Jv(a+1+this.table.rowHeadersCount),Oc(-1),KG(),...a>=0?[eK()]:[SC()]]),i[r](l,c,r)}}}};var MX=!1,GM=class extends zc{constructor(t){super(null,t)}adjust(){let{columnsToRender:t,rowHeadersCount:r}=this.table,i=t+r;for(;this.renderedNodes<i;)this.rootNode.appendChild(this.table.rootDocument.createElement("col")),this.renderedNodes+=1;for(;this.renderedNodes>i;)this.rootNode.removeChild(this.rootNode.lastChild),this.renderedNodes-=1}render(){this.adjust();let{columnsToRender:t,rowHeadersCount:r}=this.table;!MX&&t>1e3&&(MX=!0,vr(Gi`Performance tip: Handsontable rendered more than 1000 visible columns.\x20
        Consider limiting the number of rendered columns by specifying the table width and/or\x20
        turning off the "renderAllColumns" option.`));for(let n=0;n<r;n++){let o=this.table.renderedColumnToSource(n),s=this.table.columnUtils.getHeaderWidth(o);this.rootNode.childNodes[n].style.width=`${s}px`}for(let n=0;n<t;n++){let o=this.table.renderedColumnToSource(n),s=this.table.columnUtils.getStretchedColumnWidth(o);this.rootNode.childNodes[n+r].style.width=`${s}px`}let i=this.rootNode.firstChild;i&&ne(i,"rowHeader")}};var iKt=ot(Gt(),1);function Jxt(e,t,r){return t=t2t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t2t(e){var t=e2t(e,"string");return typeof t=="symbol"?t:t+""}function e2t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AX=!1,KM=class extends zc{constructor(t){super("TR",t),Jxt(this,"orderView",void 0),this.orderView=new r0(t,r=>this.nodesPool.obtain(r),this.nodeType)}getRenderedNode(t){return this.orderView.getNode(t)}render(){let{rowsToRender:t}=this.table;!AX&&t>1e3&&(AX=!0,vr(Gi`Performance tip: Handsontable rendered more than 1000 visible rows.\x20
        Consider limiting the number of rendered rows by specifying the table height and/or\x20
        turning off the "renderAllRows" option.`)),this.table.isAriaEnabled()&&Xe(this.rootNode,[lM()]),this.orderView.setSize(t).setOffset(this.table.renderedRowToSource(0)).start();for(let n=0;n<t;n++){this.orderView.render();let o=this.orderView.getCurrentNode(),s=this.table.renderedRowToSource(n);if(this.table.isAriaEnabled()){var r,i;Xe(o,[SC(),hM(s+((r=(i=this.table.rowUtils)===null||i===void 0||(i=i.dataAccessObject)===null||i===void 0?void 0:i.columnHeaders.length)!==null&&r!==void 0?r:0)+1)])}}this.orderView.end()}};var dKt=ot(Gt(),1);function IX(e,t,r){return t=i2t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i2t(e){var t=r2t(e,"string");return typeof t=="symbol"?t:t+""}function r2t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XM=class extends zc{constructor(){super("TD"),IX(this,"orderViews",new WeakMap),IX(this,"sourceRowIndex",0)}obtainOrderView(t){let r;return this.orderViews.has(t)?r=this.orderViews.get(t):(r=new n0(t,i=>this.nodesPool.obtain(this.sourceRowIndex,i),this.nodeType),this.orderViews.set(t,r)),r}render(){let{rowsToRender:t,columnsToRender:r,rows:i,rowHeaders:n}=this.table;for(let a=0;a<t;a++){let l=this.table.renderedRowToSource(a),c=i.getRenderedNode(a);this.sourceRowIndex=l;let d=this.obtainOrderView(c),u=n.obtainOrderView(c);d.prependView(u).setSize(r).setOffset(this.table.renderedColumnToSource(0)).start();for(let h=0;h<r;h++){d.render();let f=d.getCurrentNode(),m=this.table.renderedColumnToSource(h);if(Ze(f,"hide")||(f.className=""),f.removeAttribute("style"),f.removeAttribute("dir"),Nc(f,[new RegExp("aria-(.*)"),new RegExp("role")]),this.table.cellRenderer(l,m,f),this.table.isAriaEnabled()){var o,s;Xe(f,[...f.hasAttribute("role")?[]:[$G()],Oc(-1),Jv(m+((o=(s=this.table.rowUtils)===null||s===void 0||(s=s.dataAccessObject)===null||s===void 0?void 0:s.rowHeaders.length)!==null&&o!==void 0?o:0)+1)])}}d.end()}}};var gKt=ot(Gt(),1);function Hs(e,t,r){return t=n2t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n2t(e){var t=o2t(e,"string");return typeof t=="symbol"?t:t+""}function o2t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZM=class{constructor(t){let{cellRenderer:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Hs(this,"rootNode",void 0),Hs(this,"rootDocument",void 0),Hs(this,"rowHeaders",null),Hs(this,"columnHeaders",null),Hs(this,"colGroup",null),Hs(this,"rows",null),Hs(this,"cells",null),Hs(this,"rowFilter",null),Hs(this,"columnFilter",null),Hs(this,"rowUtils",null),Hs(this,"columnUtils",null),Hs(this,"rowsToRender",0),Hs(this,"columnsToRender",0),Hs(this,"rowHeaderFunctions",[]),Hs(this,"rowHeadersCount",0),Hs(this,"columnHeaderFunctions",[]),Hs(this,"columnHeadersCount",0),Hs(this,"cellRenderer",void 0),this.rootNode=t,this.rootDocument=this.rootNode.ownerDocument,this.cellRenderer=r}setAxisUtils(t,r){this.rowUtils=t,this.columnUtils=r}setViewportSize(t,r){this.rowsToRender=t,this.columnsToRender=r}setFilters(t,r){this.rowFilter=t,this.columnFilter=r}setHeaderContentRenderers(t,r){this.rowHeaderFunctions=t,this.rowHeadersCount=t.length,this.columnHeaderFunctions=r,this.columnHeadersCount=r.length}setRenderers(){let{rowHeaders:t,columnHeaders:r,colGroup:i,rows:n,cells:o}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.setTable(this),r.setTable(this),i.setTable(this),n.setTable(this),o.setTable(this),this.rowHeaders=t,this.columnHeaders=r,this.colGroup=i,this.rows=n,this.cells=o}renderedRowToSource(t){return this.rowFilter.renderedToSource(t)}renderedColumnToSource(t){return this.columnFilter.renderedToSource(t)}isAriaEnabled(){return this.rowUtils.wtSettings.getSetting("ariaTags")}render(){this.colGroup.adjust(),this.columnHeaders.adjust(),this.rows.adjust(),this.rowHeaders.adjust(),this.columnHeaders.render(),this.rows.render(),this.rowHeaders.render(),this.cells.render(),this.columnUtils.calculateWidths(),this.colGroup.render();let{rowsToRender:t,rows:r}=this;for(let i=0;i<t;i++){let n=r.getRenderedNode(i);if(n.firstChild){let o=this.renderedRowToSource(i),s=this.rowUtils.getHeight(o);s?n.firstChild.style.height=`${s-1}px`:n.firstChild.style.height=""}}}};var QM=class{constructor(){let{TABLE:t,THEAD:r,COLGROUP:i,TBODY:n,rowUtils:o,columnUtils:s,cellRenderer:a}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.renderer=new ZM(t,{cellRenderer:a}),this.renderer.setRenderers({rowHeaders:new qM,columnHeaders:new $M(r),colGroup:new GM(i),rows:new KM(n),cells:new XM}),this.renderer.setAxisUtils(o,s)}setFilters(t,r){return this.renderer.setFilters(t,r),this}setViewportSize(t,r){return this.renderer.setViewportSize(t,r),this}setHeaderContentRenderers(t,r){return this.renderer.setHeaderContentRenderers(t,r),this}adjust(){this.renderer.adjust()}render(){this.renderer.render()}};var TKt=ot(Gt(),1);var EKt=ot(Gt(),1);function UC(e,t,r){s2t(e,t),t.set(e,r)}function s2t(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function JM(e,t,r){return t=a2t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a2t(e){var t=l2t(e,"string");return typeof t=="symbol"?t:t+""}function l2t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _a(e,t){return e.get(kX(e,t))}function WC(e,t,r){return e.set(kX(e,t),r),r}function kX(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var tA=new WeakMap,_y=new WeakMap,YC=new WeakMap,eA=new WeakMap,o0=new WeakMap,iA=class e{static get DEFAULT_WIDTH(){return 50}constructor(t){let{totalColumns:r,stretchMode:i,stretchingColumnWidthFn:n,columnWidthFn:o}=t;JM(this,"stretchAllRatio",0),JM(this,"stretchLastWidth",0),JM(this,"stretchAllColumnsWidth",[]),UC(this,tA,0),JM(this,"needVerifyLastColumnWidth",!0),UC(this,_y,()=>0),UC(this,YC,s=>s),UC(this,eA,s=>s),UC(this,o0,()=>"none"),WC(_y,this,r),WC(o0,this,i),WC(YC,this,n??_a(YC,this)),WC(eA,this,o??_a(eA,this))}refreshStretching(t){if(_a(o0,this).call(this)==="none")return;this.stretchAllRatio=0,this.stretchAllColumnsWidth=[],this.needVerifyLastColumnWidth=!0,this.stretchLastWidth=0,WC(tA,this,t);let r=0;for(let n=0;n<_a(_y,this).call(this);n++){let o=this._getColumnWidth(n),s=_a(YC,this).call(this,void 0,n);typeof s=="number"?t-=s:r+=o}let i=t-r;if(_a(o0,this).call(this)==="all"&&i>0)this.stretchAllRatio=t/r,this.stretchAllColumnsWidth=[],this.needVerifyLastColumnWidth=!0;else if(_a(o0,this).call(this)==="last"&&t!==1/0){let n=this._getColumnWidth(_a(_y,this).call(this)-1),o=i+n;this.stretchLastWidth=o>=0?o:n}}getStretchedColumnWidth(t,r){let i=null;return _a(o0,this).call(this)==="all"&&this.stretchAllRatio!==0?i=this._getStretchedAllColumnWidth(t,r):_a(o0,this).call(this)==="last"&&this.stretchLastWidth!==0&&(i=this._getStretchedLastColumnWidth(t)),i}_getStretchedAllColumnWidth(t,r){let i=0;if(!this.stretchAllColumnsWidth[t]){let n=Math.round(r*this.stretchAllRatio),o=_a(YC,this).call(this,n,t);o===void 0?this.stretchAllColumnsWidth[t]=n:this.stretchAllColumnsWidth[t]=isNaN(o)?this._getColumnWidth(t):o}if(this.stretchAllColumnsWidth.length===_a(_y,this).call(this)&&this.needVerifyLastColumnWidth){this.needVerifyLastColumnWidth=!1;for(let n=0;n<this.stretchAllColumnsWidth.length;n++)i+=this.stretchAllColumnsWidth[n];i!==_a(tA,this)&&(this.stretchAllColumnsWidth[this.stretchAllColumnsWidth.length-1]+=_a(tA,this)-i)}return this.stretchAllColumnsWidth[t]}_getStretchedLastColumnWidth(t){return t===_a(_y,this).call(this)-1?this.stretchLastWidth:null}_getColumnWidth(t){let r=_a(eA,this).call(this,t);return isNaN(r)&&(r=e.DEFAULT_WIDTH),r}};function rA(e,t,r){return t=c2t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c2t(e){var t=d2t(e,"string");return typeof t=="symbol"?t:t+""}function d2t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nA=class{constructor(t,r){rA(this,"dataAccessObject",void 0),rA(this,"wtSettings",void 0),rA(this,"headerWidths",new Map),rA(this,"stretching",void 0),this.dataAccessObject=t,this.wtSettings=r,this.stretching=new iA({totalColumns:()=>this.wtSettings.getSetting("totalColumns"),stretchMode:()=>this.wtSettings.getSetting("stretchH"),stretchingColumnWidthFn:(i,n)=>this.wtSettings.getSetting("onBeforeStretchingColumnWidth",i,n),columnWidthFn:i=>this.dataAccessObject.wtTable.getColumnWidth(i)})}getWidth(t){return this.wtSettings.getSetting("columnWidth",t)||this.wtSettings.getSetting("defaultColumnWidth")}getStretchedColumnWidth(t){let r=this.getWidth(t),i=this.stretching.getStretchedColumnWidth(t,r);return i&&(r=i),r}getHeaderHeight(t){let r=this.wtSettings.getSetting("defaultRowHeight"),i=this.dataAccessObject.wtViewport.oversizedColumnHeaders[t];return i!==void 0&&(r=r?Math.max(r,i):i),r}getHeaderWidth(t){return this.headerWidths.get(this.dataAccessObject.wtTable.columnFilter.sourceToRendered(t))}refreshStretching(){let{wtTable:t,wtViewport:r,cloneSource:i}=this.dataAccessObject,n=i?i.wtTable.holder:t.holder,o=n.offsetHeight<n.scrollHeight?Rn():0;this.stretching.refreshStretching(r.getViewportWidth()-o)}calculateWidths(){let{wtSettings:t}=this,r=t.getSetting("rowHeaderWidth");if(this.refreshStretching(),r=t.getSetting("onModifyRowHeaderWidth",r),r!=null){let i=t.getSetting("rowHeaders").length,n=t.getSetting("defaultColumnWidth");for(let o=0;o<i;o++){let s=Array.isArray(r)?r[o]:r;s=s??n,this.headerWidths.set(o,s)}}}};var kKt=ot(Gt(),1);function DX(e,t,r){return t=u2t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u2t(e){var t=h2t(e,"string");return typeof t=="symbol"?t:t+""}function h2t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oA=class{constructor(t,r){DX(this,"dataAccessObject",void 0),DX(this,"wtSettings",void 0),this.dataAccessObject=t,this.wtSettings=r}getHeight(t){let r=this.wtSettings.getSetting("rowHeight",t),i=this.dataAccessObject.wtViewport.oversizedRows[t];return i!==void 0&&(r=r===void 0?i:Math.max(r,i)),r}};function Gu(e,t,r){return t=f2t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f2t(e){var t=m2t(e,"string");return typeof t=="symbol"?t:t+""}function m2t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var y6=class{constructor(t,r,i,n,o){Gu(this,"wtSettings",null),Gu(this,"domBindings",void 0),Gu(this,"TBODY",null),Gu(this,"THEAD",null),Gu(this,"COLGROUP",null),Gu(this,"hasTableHeight",!0),Gu(this,"hasTableWidth",!0),Gu(this,"isTableVisible",!1),Gu(this,"tableOffset",0),Gu(this,"holderOffset",0),this.domBindings=i,this.isMaster=o==="master",this.name=o,this.dataAccessObject=t,this.facadeGetter=r,this.wtSettings=n,this.instance=this.dataAccessObject.wot,this.wot=this.dataAccessObject.wot,this.TABLE=i.rootTable,IN(this.TABLE),this.spreader=this.createSpreader(this.TABLE),this.hider=this.createHider(this.spreader),this.holder=this.createHolder(this.hider),this.wtRootElement=this.holder.parentNode,this.isMaster&&this.alignOverlaysWithTrimmingContainer(),this.fixTableDomTree(),this.rowFilter=null,this.columnFilter=null,this.correctHeaderWidth=!1;let s=this.wtSettings.getSettingPure("rowHeaderWidth");this.wtSettings.update("rowHeaderWidth",()=>this._modifyRowHeaderWidth(s)),this.rowUtils=new oA(this.dataAccessObject,this.wtSettings),this.columnUtils=new nA(this.dataAccessObject,this.wtSettings),this.tableRenderer=new QM({TABLE:this.TABLE,THEAD:this.THEAD,COLGROUP:this.COLGROUP,TBODY:this.TBODY,rowUtils:this.rowUtils,columnUtils:this.columnUtils,cellRenderer:this.wtSettings.getSettingPure("cellRenderer")})}is(t){return this.name===t}fixTableDomTree(){let t=this.domBindings.rootDocument;this.TBODY=this.TABLE.querySelector("tbody"),this.TBODY||(this.TBODY=t.createElement("tbody"),this.TABLE.appendChild(this.TBODY)),this.THEAD=this.TABLE.querySelector("thead"),this.THEAD||(this.THEAD=t.createElement("thead"),this.TABLE.insertBefore(this.THEAD,this.TBODY)),this.COLGROUP=this.TABLE.querySelector("colgroup"),this.COLGROUP||(this.COLGROUP=t.createElement("colgroup"),this.TABLE.insertBefore(this.COLGROUP,this.THEAD))}createSpreader(t){let r=t.parentNode,i;return(!r||r.nodeType!==Node.ELEMENT_NODE||!Ze(r,"wtHolder"))&&(i=this.domBindings.rootDocument.createElement("div"),i.className="wtSpreader",r&&r.insertBefore(i,t),i.appendChild(t)),i.style.position="relative",this.wtSettings.getSetting("ariaTags")&&Xe(i,[za()]),i}createHider(t){let r=t.parentNode,i;return(!r||r.nodeType!==Node.ELEMENT_NODE||!Ze(r,"wtHolder"))&&(i=this.domBindings.rootDocument.createElement("div"),i.className="wtHider",r&&r.insertBefore(i,t),i.appendChild(t)),this.wtSettings.getSetting("ariaTags")&&Xe(i,[za()]),i}createHolder(t){let r=t.parentNode,i;return(!r||r.nodeType!==Node.ELEMENT_NODE||!Ze(r,"wtHolder"))&&(i=this.domBindings.rootDocument.createElement("div"),i.style.position="relative",i.className="wtHolder",r&&r.insertBefore(i,t),this.isMaster&&(i.parentNode.className+="ht_master handsontable",i.parentNode.setAttribute("dir",this.wtSettings.getSettingPure("rtlMode")?"rtl":"ltr"),this.wtSettings.getSetting("ariaTags")&&Xe(i.parentNode,[za()])),i.appendChild(t)),this.wtSettings.getSetting("ariaTags")&&Xe(i,[za()]),i}draw(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,{wtSettings:r}=this,{wtOverlays:i,wtViewport:n}=this.dataAccessObject,o=r.getSetting("totalRows"),s=r.getSetting("totalColumns"),a=r.getSetting("rowHeaders"),l=a.length,c=r.getSetting("columnHeaders"),d=c.length,u=t;if(this.isMaster&&(this.holderOffset=Kn(this.holder),u=n.createRenderCalculators(u),l&&!r.getSetting("fixedColumnsStart"))){let f=i.inlineStartOverlay.getScrollPosition(),m=this.correctHeaderWidth;this.correctHeaderWidth=f!==0,m!==this.correctHeaderWidth&&(u=!1)}if(this.isMaster&&i.beforeDraw(),u)this.isMaster&&(n.createVisibleCalculators(),n.createPartiallyVisibleCalculators()),i&&i.refresh(!0);else{this.isMaster?this.tableOffset=Kn(this.TABLE):this.tableOffset=this.dataAccessObject.parentTableOffset;let f=o>0?this.getFirstRenderedRow():0,m=s>0?this.getFirstRenderedColumn():0;this.rowFilter=new RX(f,o,d),this.columnFilter=new EX(m,s,l);let g=!0;if(this.isMaster){this.alignOverlaysWithTrimmingContainer();let p={};this.wtSettings.getSetting("beforeDraw",!0,p),g=p.skipRender!==!0}if(g){this.tableRenderer.setHeaderContentRenderers(a,c),(this.is(Jl)||this.is(Od))&&this.tableRenderer.setHeaderContentRenderers(a,[]),this.resetOversizedRows(),this.tableRenderer.setViewportSize(this.getRenderedRowsCount(),this.getRenderedColumnsCount()).setFilters(this.rowFilter,this.columnFilter).render();let p;if(this.isMaster&&(p=this.dataAccessObject.workspaceWidth,n.containerWidth=null,this.markOversizedColumnHeaders()),this.adjustColumnHeaderHeights(),(this.isMaster||this.is(Jl))&&this.markOversizedRows(),this.isMaster){n.createVisibleCalculators(),n.createPartiallyVisibleCalculators(),i.refresh(!1),i.applyToDOM();let b=wr(this.hider),_=wr(this.TABLE);b!==0&&_!==b&&(this.columnUtils.calculateWidths(),this.tableRenderer.renderer.colGroup.render()),p!==n.getWorkspaceWidth()&&(n.containerWidth=null,this.columnUtils.calculateWidths(),this.tableRenderer.renderer.colGroup.render()),this.wtSettings.getSetting("onDraw",!0)}else this.is(Jl)&&this.dataAccessObject.cloneSource.wtOverlays.adjustElementsSize()}}let h=!1;return this.isMaster&&(h=i.topOverlay.resetFixedPosition(),i.bottomOverlay.clone&&(h=i.bottomOverlay.resetFixedPosition()||h),h=i.inlineStartOverlay.resetFixedPosition()||h,i.topInlineStartCornerOverlay&&i.topInlineStartCornerOverlay.resetFixedPosition(),i.bottomInlineStartCornerOverlay&&i.bottomInlineStartCornerOverlay.clone&&i.bottomInlineStartCornerOverlay.resetFixedPosition()),h?(i.refreshAll(),i.adjustElementsSize()):this.dataAccessObject.selectionManager.setActiveOverlay(this.facadeGetter()).render(u),this.isMaster&&i.afterDraw(),this.dataAccessObject.drawn=!0,this}markIfOversizedColumnHeader(t){let r=this.columnFilter.renderedToSource(t),i=this.wtSettings.getSetting("columnHeaders").length,n=this.wtSettings.getSetting("defaultRowHeight"),o,s,a,l=this.wtSettings.getSetting("columnHeaderHeight")||[];for(;i;)i-=1,o=this.getColumnHeaderHeight(i),s=this.getColumnHeader(r,i),s&&(a=df(s),(!o&&n<a||o<a)&&(this.dataAccessObject.wtViewport.oversizedColumnHeaders[i]=a),Array.isArray(l)?l[i]!==null&&l[i]!==void 0&&(this.dataAccessObject.wtViewport.oversizedColumnHeaders[i]=l[i]):isNaN(l)||(this.dataAccessObject.wtViewport.oversizedColumnHeaders[i]=l),this.dataAccessObject.wtViewport.oversizedColumnHeaders[i]<(l[i]||l)&&(this.dataAccessObject.wtViewport.oversizedColumnHeaders[i]=l[i]||l))}adjustColumnHeaderHeights(){let{wtSettings:t}=this,r=this.THEAD.childNodes,i=this.dataAccessObject.wtViewport.oversizedColumnHeaders,n=t.getSetting("columnHeaders");for(let o=0,s=n.length;o<s;o++)if(i[o]){if(!r[o]||r[o].childNodes.length===0)return;r[o].childNodes[0].style.height=`${i[o]}px`}}resetOversizedRows(){let{wtSettings:t}=this,{wtViewport:r}=this.dataAccessObject;if(!(!this.isMaster&&!this.is(Jl))&&!t.getSetting("externalRowCalculator")){let i=this.getRenderedRowsCount();for(let n=0;n<i;n++){let o=this.rowFilter.renderedToSource(n);r.oversizedRows&&r.oversizedRows[o]&&(r.oversizedRows[o]=void 0)}}}getCell(t){let r=t.row,i=t.col,n=this.wtSettings.getSetting("onModifyGetCellCoords",r,i);if(n&&Array.isArray(n)&&([r,i]=n),this.isRowBeforeRenderedRows(r))return-1;if(this.isRowAfterRenderedRows(r))return-2;if(this.isColumnBeforeRenderedColumns(i))return-3;if(this.isColumnAfterRenderedColumns(i))return-4;let o=this.getRow(r);if(!o&&r>=0)throw new Error("TR was expected to be rendered but is not");let s=o.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(i)];if(!s&&i>=0)throw new Error("TD or TH was expected to be rendered but is not");return s}getRow(t){let r=null,i=null;if(t<0){var n;r=(n=this.rowFilter)===null||n===void 0?void 0:n.sourceRowToVisibleColHeadedRow(t),i=this.THEAD}else{var o;r=(o=this.rowFilter)===null||o===void 0?void 0:o.sourceToRendered(t),i=this.TBODY}return r!==void 0&&i!==void 0?i.childNodes.length<r+1?!1:i.childNodes[r]:!1}getColumnHeader(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=this.THEAD.childNodes[r];return i?.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(t)]}getColumnHeaders(t){let r=[],i=this.columnFilter.sourceColumnToVisibleRowHeadedColumn(t);return this.THEAD.childNodes.forEach(n=>{let o=n.childNodes[i];o&&r.push(o)}),r}getRowHeader(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=this.wtSettings.getSetting("rowHeaders").length;if(r>=i)return;let n=this.rowFilter.sourceToRendered(t),o=n<0?this.rowFilter.sourceRowToVisibleColHeadedRow(t):n,a=(n<0?this.THEAD:this.TBODY).childNodes[o];return a?.childNodes[r]}getRowHeaders(t){let r=[],i=this.wtSettings.getSetting("rowHeaders").length;for(let n=0;n<i;n++){let o=this.TBODY.childNodes[this.rowFilter.sourceToRendered(t)],s=o?.childNodes[n];s&&r.push(s)}return r}getCoords(t){let r=t;if(r.nodeName!=="TD"&&r.nodeName!=="TH"&&(r=Md(r,["TD","TH"])),r===null)return null;let i=r.parentNode,n=i.parentNode,o=bK(i),s=r.cellIndex;return $m(Ku,r,this.wtRootElement)||$m(Pd,r,this.wtRootElement)?n.nodeName==="THEAD"&&(o-=n.childNodes.length):$m(Od,r,this.wtRootElement)||$m(Jl,r,this.wtRootElement)?o=this.wtSettings.getSetting("totalRows")-n.childNodes.length+o:n===this.THEAD?o=this.rowFilter.visibleColHeadedRowToSourceRow(o):o=this.rowFilter.renderedToSource(o),$m(Ku,r,this.wtRootElement)||$m(Nd,r,this.wtRootElement)||$m(Od,r,this.wtRootElement)?s=this.columnFilter.offsettedTH(s):s=this.columnFilter.visibleRowHeadedColumnToSourceColumn(s),this.wot.createCellCoords(o,s)}markOversizedRows(){if(this.wtSettings.getSetting("externalRowCalculator"))return;let t=this.TBODY.childNodes.length,r=t*this.wtSettings.getSetting("defaultRowHeight"),i=df(this.TBODY)-1,n,o,s,a,l;if(!(r===i&&!this.wtSettings.getSetting("fixedRowsBottom")))for(;t;)t-=1,s=this.rowFilter.renderedToSource(t),n=this.getRowHeight(s),a=this.getTrForRow(s),l=a.querySelector("th"),l?o=df(l):o=df(a)-1,(!n&&this.wtSettings.getSetting("defaultRowHeight")<o||n<o)&&(o+=1,this.dataAccessObject.wtViewport.oversizedRows[s]=o)}getTrForRow(t){return this.TBODY.childNodes[this.rowFilter.sourceToRendered(t)]}isColumnHeaderRendered(t){if(t>=0)return!1;let i=this.wtSettings.getSetting("rowHeaders").length;return Math.abs(t)<=i}isRowHeaderRendered(t){if(t>=0)return!1;let i=this.wtSettings.getSetting("columnHeaders").length;return Math.abs(t)<=i}isRowBeforeRenderedRows(t){let r=this.getFirstRenderedRow();return t<0&&r<=0?!this.isRowHeaderRendered(t):t<r}isRowAfterRenderedRows(t){return t>this.getLastRenderedRow()}isColumnBeforeRenderedColumns(t){let r=this.getFirstRenderedColumn();return t<0&&r<=0?!this.isColumnHeaderRendered(t):t<r}isColumnAfterRenderedColumns(t){return this.columnFilter&&t>this.getLastRenderedColumn()}isColumnAfterViewport(t){return this.columnFilter&&t>this.getLastVisibleColumn()}isRowAfterViewport(t){return this.rowFilter&&t>this.getLastVisibleRow()}isColumnBeforeViewport(t){return this.columnFilter&&this.columnFilter.sourceToRendered(t)<0&&t>=0}isLastRowFullyVisible(){return this.getLastVisibleRow()===this.getLastRenderedRow()}isLastColumnFullyVisible(){return this.getLastVisibleColumn()===this.getLastRenderedColumn()}allRowsInViewport(){return this.wtSettings.getSetting("totalRows")===this.getVisibleRowsCount()}allColumnsInViewport(){return this.wtSettings.getSetting("totalColumns")===this.getVisibleColumnsCount()}getRowHeight(t){return this.rowUtils.getHeight(t)}getColumnHeaderHeight(t){return this.columnUtils.getHeaderHeight(t)}getColumnWidth(t){return this.columnUtils.getWidth(t)}getStretchedColumnWidth(t){return this.columnUtils.getStretchedColumnWidth(t)}hasDefinedSize(){return this.hasTableHeight&&this.hasTableWidth}getWidth(){return wr(this.TABLE)}getHeight(){return Fr(this.TABLE)}getTotalWidth(){let t=wr(this.hider);return t!==0?t:this.getWidth()}getTotalHeight(){let t=Fr(this.hider);return t!==0?t:this.getHeight()}isVisible(){return Pc(this.TABLE)}_modifyRowHeaderWidth(t){let r=Mr(t)?t():null;return Array.isArray(r)?(r=[...r],r[r.length-1]=this._correctRowHeaderWidth(r[r.length-1])):r=this._correctRowHeaderWidth(r),r}_correctRowHeaderWidth(t){let r=t;return typeof t!="number"&&(r=this.wtSettings.getSetting("defaultColumnWidth")),this.correctHeaderWidth&&(r+=1),r}},Uc=y6;var p2t="stickyRowsBottom",OX={getFirstRenderedRow(){let e=this.wtSettings.getSetting("totalRows"),t=this.wtSettings.getSetting("fixedRowsBottom"),r=e-t;return e===0||t===0?-1:r<0?0:r},getFirstVisibleRow(){return this.getFirstRenderedRow()},getFirstPartiallyVisibleRow(){return this.getFirstRenderedRow()},getLastRenderedRow(){return this.wtSettings.getSetting("totalRows")-1},getLastVisibleRow(){return this.getLastRenderedRow()},getLastPartiallyVisibleRow(){return this.getLastRenderedRow()},getRenderedRowsCount(){let e=this.wtSettings.getSetting("totalRows");return Math.min(this.wtSettings.getSetting("fixedRowsBottom"),e)},getVisibleRowsCount(){return this.getRenderedRowsCount()},getColumnHeadersCount(){return 0}};Ns(OX,"MIXIN_NAME",p2t,{writable:!1,enumerable:!1});var sA=OX;var g2t="stickyColumnsStart",PX={getFirstRenderedColumn(){return this.wtSettings.getSetting("totalColumns")===0?-1:0},getFirstVisibleColumn(){return this.getFirstRenderedColumn()},getFirstPartiallyVisibleColumn(){return this.getFirstRenderedColumn()},getLastRenderedColumn(){return this.getRenderedColumnsCount()-1},getLastVisibleColumn(){return this.getLastRenderedColumn()},getLastPartiallyVisibleColumn(){return this.getLastRenderedColumn()},getRenderedColumnsCount(){let e=this.wtSettings.getSetting("totalColumns");return Math.min(this.wtSettings.getSetting("fixedColumnsStart"),e)},getVisibleColumnsCount(){return this.getRenderedColumnsCount()},getRowHeadersCount(){return this.dataAccessObject.rowHeaders.length}};Ns(PX,"MIXIN_NAME",g2t,{writable:!1,enumerable:!1});var wy=PX;var qC=class extends Uc{constructor(t,r,i,n){super(t,r,i,n,Od)}};Zi(qC,sA);Zi(qC,wy);var NX=qC;var vXt=ot(Gt(),1);var Pd="top",Jl="bottom",Nd="inline_start",Ku="top_inline_start_corner",Od="bottom_inline_start_corner",LX=[Pd,Jl,Nd,Ku,Od],FX=new Map([[Pd,`ht_clone_${Pd}`],[Jl,`ht_clone_${Jl}`],[Nd,`ht_clone_${Nd} ht_clone_left`],[Ku,`ht_clone_${Ku} ht_clone_top_left_corner`],[Od,`ht_clone_${Od} ht_clone_bottom_left_corner`]]);var mXt=ot(Gt(),1);var oXt=ot(Gt(),1),sXt=ot(we(),1);var iXt=ot(Gt(),1);function b2t(e,t){v2t(e,t),t.add(e)}function v2t(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function y2t(e,t,r){return t=_2t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _2t(e){var t=w2t(e,"string");return typeof t=="symbol"?t:t+""}function w2t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aA(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var $C=new WeakSet,_6=class{constructor(t){b2t(this,$C),y2t(this,"dataAccessObject",void 0),this.dataAccessObject=t}scrollViewport(t,r,i,n,o){let s=this.scrollViewportHorizontally(t.col,i,o),a=this.scrollViewportVertically(t.row,r,n);return s||a}scrollViewportHorizontally(t,r,i){let{drawn:n,totalColumns:o}=this.dataAccessObject;if(!n||!Number.isInteger(t)||t<0||t>o)return!1;let s=r===void 0&&i===void 0,{fixedColumnsStart:a,inlineStartOverlay:l}=this.dataAccessObject;if(s&&t<a||(t=this.dataAccessObject.wtSettings.getSetting("onBeforeViewportScrollHorizontally",t),!Number.isInteger(t)||t<0||t>o))return!1;let c=this.getFirstVisibleColumn(),d=this.getLastVisibleColumn(),u=!1;return(s&&(t<c||t>d)||!s)&&(u=l.scrollTo(t,s?t>=this.getLastPartiallyVisibleColumn():r)),u}scrollViewportVertically(t,r,i){let{drawn:n,totalRows:o}=this.dataAccessObject;if(!n||!Number.isInteger(t)||t<0||t>o)return!1;let s=r===void 0&&i===void 0,{fixedRowsBottom:a,fixedRowsTop:l,topOverlay:c}=this.dataAccessObject;if(s&&(t<l||t>o-a-1)||(t=this.dataAccessObject.wtSettings.getSetting("onBeforeViewportScrollVertically",t),!Number.isInteger(t)||t<0||t>o))return!1;let d=this.getFirstVisibleRow(),u=this.getLastVisibleRow(),h=!1;return(s&&(t<d||t>u)||!s)&&(h=c.scrollTo(t,s?t>=this.getLastPartiallyVisibleRow():i)),h}getFirstVisibleRow(){return this.dataAccessObject.wtTable.getFirstVisibleRow()}getLastVisibleRow(){return aA($C,this,BX).call(this,this.dataAccessObject.wtTable.getLastVisibleRow())}getFirstPartiallyVisibleRow(){return this.dataAccessObject.wtTable.getFirstPartiallyVisibleRow()}getLastPartiallyVisibleRow(){return aA($C,this,BX).call(this,this.dataAccessObject.wtTable.getLastPartiallyVisibleRow())}getFirstVisibleColumn(){return this.dataAccessObject.wtTable.getFirstVisibleColumn()}getLastVisibleColumn(){return aA($C,this,HX).call(this,this.dataAccessObject.wtTable.getLastVisibleColumn())}getFirstPartiallyVisibleColumn(){return this.dataAccessObject.wtTable.getFirstPartiallyVisibleColumn()}getLastPartiallyVisibleColumn(){return aA($C,this,HX).call(this,this.dataAccessObject.wtTable.getLastPartiallyVisibleColumn())}};function HX(e){let{wtSettings:t,inlineStartOverlay:r,wtTable:i,wtViewport:n,totalColumns:o,rootWindow:s}=this.dataAccessObject;if(r.mainTableScrollableElement===s){let a=t.getSetting("rtlMode"),l=null;if(a){let d=i.TABLE.getBoundingClientRect(),h=this.dataAccessObject.rootWindow.document.documentElement.offsetWidth;l=Math.abs(d.right-h)}else l=Kn(i.wtRootElement).left;let c=Math.abs(fM(s,s));if(l>c){let d=mM(s),u=n.getRowHeaderWidth();for(let h=1;h<=o;h++)if(u+=r.sumCellSizes(h-1,h),l+u-c>=d){e=h-2;break}}}return e}function BX(e){let{topOverlay:t,wtTable:r,wtViewport:i,totalRows:n,rootWindow:o}=this.dataAccessObject;if(t.mainTableScrollableElement===o){let s=Kn(r.wtRootElement),a=ey(o,o);if(s.top>a){let l=df(o),c=i.getColumnHeaderHeight();for(let d=1;d<=n;d++)if(c+=t.sumCellSizes(d-1,d),s.top+c-a>=l){e=d-2;break}}}return e}var jX=_6;function Ld(e,t,r){return t=C2t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C2t(e){var t=x2t(e,"string");return typeof t=="symbol"?t:t+""}function x2t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ap=class{get eventManager(){return new Qo(this)}constructor(t,r){Ld(this,"wtTable",void 0),Ld(this,"wtScroll",void 0),Ld(this,"wtViewport",void 0),Ld(this,"wtOverlays",void 0),Ld(this,"selectionManager",void 0),Ld(this,"wtEvent",void 0),Ld(this,"guid",`wt_${oM()}`),Ld(this,"drawInterrupted",!1),Ld(this,"drawn",!1),Ld(this,"domBindings",void 0),Ld(this,"wtSettings",void 0),this.domBindings={rootTable:t,rootDocument:t.ownerDocument,rootWindow:t.ownerDocument.defaultView},this.wtSettings=r,this.wtScroll=new jX(this.createScrollDao())}findOriginalHeaders(){let t=[];if(this.wtTable.THEAD.childNodes.length&&this.wtTable.THEAD.childNodes[0].childNodes.length){for(let r=0,i=this.wtTable.THEAD.childNodes[0].childNodes.length;r<i;r++)t.push(this.wtTable.THEAD.childNodes[0].childNodes[r].innerHTML);this.wtSettings.getSetting("columnHeaders").length||this.wtSettings.update("columnHeaders",[function(r,i){Fc(i,t[r])}])}}createCellCoords(t,r){return new op(t,r,this.wtSettings.getSetting("rtlMode"))}createCellRange(t,r,i){return new e0(t,r,i,this.wtSettings.getSetting("rtlMode"))}draw(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this.drawInterrupted=!1,this.wtTable.isVisible()?this.wtTable.draw(t):this.drawInterrupted=!0,this}getCell(t){if(!(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1))return this.wtTable.getCell(t);let i=this.wtSettings.getSetting("totalRows"),n=this.wtSettings.getSetting("fixedRowsTop"),o=this.wtSettings.getSetting("fixedRowsBottom"),s=this.wtSettings.getSetting("fixedColumnsStart");if(t.row<n&&t.col<s)return this.wtOverlays.topInlineStartCornerOverlay.clone.wtTable.getCell(t);if(t.row<n)return this.wtOverlays.topOverlay.clone.wtTable.getCell(t);if(t.col<s&&t.row>=i-o){if(this.wtOverlays.bottomInlineStartCornerOverlay&&this.wtOverlays.bottomInlineStartCornerOverlay.clone)return this.wtOverlays.bottomInlineStartCornerOverlay.clone.wtTable.getCell(t)}else{if(t.col<s)return this.wtOverlays.inlineStartOverlay.clone.wtTable.getCell(t);if(t.row<i&&t.row>=i-o&&this.wtOverlays.bottomOverlay&&this.wtOverlays.bottomOverlay.clone)return this.wtOverlays.bottomOverlay.clone.wtTable.getCell(t)}return this.wtTable.getCell(t)}scrollViewport(t,r,i,n,o){return t.col<0||t.row<0?!1:this.wtScroll.scrollViewport(t,r,i,n,o)}scrollViewportHorizontally(t,r,i){return t<0?!1:this.wtScroll.scrollViewportHorizontally(t,r,i)}scrollViewportVertically(t,r,i){return t<0?!1:this.wtScroll.scrollViewportVertically(t,r,i)}getViewport(){return[this.wtTable.getFirstVisibleRow(),this.wtTable.getFirstVisibleColumn(),this.wtTable.getLastVisibleRow(),this.wtTable.getLastVisibleColumn()]}destroy(){this.wtOverlays.destroy(),this.wtEvent.destroy()}createScrollDao(){let t=this;return{get drawn(){return t.drawn},get topOverlay(){return t.wtOverlays.topOverlay},get inlineStartOverlay(){return t.wtOverlays.inlineStartOverlay},get wtTable(){return t.wtTable},get wtViewport(){return t.wtViewport},get wtSettings(){return t.wtSettings},get rootWindow(){return t.domBindings.rootWindow},get totalRows(){return t.wtSettings.getSetting("totalRows")},get totalColumns(){return t.wtSettings.getSetting("totalColumns")},get fixedRowsTop(){return t.wtSettings.getSetting("fixedRowsTop")},get fixedRowsBottom(){return t.wtSettings.getSetting("fixedRowsBottom")},get fixedColumnsStart(){return t.wtSettings.getSetting("fixedColumnsStart")}}}getTableDao(){let t=this;return{get wot(){return t},get parentTableOffset(){return t.cloneSource.wtTable.tableOffset},get cloneSource(){return t.cloneSource},get workspaceWidth(){return t.wtViewport.getWorkspaceWidth()},get wtViewport(){return t.wtViewport},get wtOverlays(){return t.wtOverlays},get selectionManager(){return t.selectionManager},get drawn(){return t.drawn},set drawn(r){t.drawn=r},get wtTable(){return t.wtTable},get startColumnRendered(){return t.wtViewport.columnsRenderCalculator.startColumn},get startColumnVisible(){return t.wtViewport.columnsVisibleCalculator.startColumn},get startColumnPartiallyVisible(){return t.wtViewport.columnsPartiallyVisibleCalculator.startColumn},get endColumnRendered(){return t.wtViewport.columnsRenderCalculator.endColumn},get endColumnVisible(){return t.wtViewport.columnsVisibleCalculator.endColumn},get endColumnPartiallyVisible(){return t.wtViewport.columnsPartiallyVisibleCalculator.endColumn},get countColumnsRendered(){return t.wtViewport.columnsRenderCalculator.count},get countColumnsVisible(){return t.wtViewport.columnsVisibleCalculator.count},get startRowRendered(){return t.wtViewport.rowsRenderCalculator.startRow},get startRowVisible(){return t.wtViewport.rowsVisibleCalculator.startRow},get startRowPartiallyVisible(){return t.wtViewport.rowsPartiallyVisibleCalculator.startRow},get endRowRendered(){return t.wtViewport.rowsRenderCalculator.endRow},get endRowVisible(){return t.wtViewport.rowsVisibleCalculator.endRow},get endRowPartiallyVisible(){return t.wtViewport.rowsPartiallyVisibleCalculator.endRow},get countRowsRendered(){return t.wtViewport.rowsRenderCalculator.count},get countRowsVisible(){return t.wtViewport.rowsVisibleCalculator.count},get columnHeaders(){return t.wtSettings.getSetting("columnHeaders")},get rowHeaders(){return t.wtSettings.getSetting("rowHeaders")}}}};function VX(e,t,r){return t=S2t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S2t(e){var t=E2t(e,"string");return typeof t=="symbol"?t:t+""}function E2t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lA=class extends ap{constructor(t,r,i){super(t,r),VX(this,"cloneSource",void 0),VX(this,"cloneOverlay",void 0);let n=this.wtSettings.getSetting("facade",this);this.cloneSource=i.source,this.cloneOverlay=i.overlay,this.wtTable=this.cloneOverlay.createTable(this.getTableDao(),n,this.domBindings,this.wtSettings),this.wtViewport=i.viewport,this.selectionManager=i.selectionManager,this.wtEvent=new zM(n,this.domBindings,this.wtSettings,this.eventManager,this.wtTable,this.selectionManager,i.event),this.findOriginalHeaders()}};function R2t(e,t,r){return t=T2t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T2t(e){var t=M2t(e,"string");return typeof t=="symbol"?t:t+""}function M2t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wc=class{constructor(t,r,i,n,o){R2t(this,"wtSettings",null),Ns(this,"wot",t,{writable:!1}),this.domBindings=o,this.facadeGetter=r,this.wtSettings=n;let{TABLE:s,hider:a,spreader:l,holder:c,wtRootElement:d}=this.wot.wtTable;this.instance=this.wot,this.type=i,this.mainTableScrollableElement=null,this.TABLE=s,this.hider=a,this.spreader=l,this.holder=c,this.wtRootElement=d,this.trimmingContainer=Id(this.hider.parentNode.parentNode),this.needFullRender=this.shouldBeRendered(),this.clone=this.makeClone()}hasRenderingStateChanged(){return this.needFullRender!==this.shouldBeRendered()}updateStateOfRendering(t){t==="before"&&this.shouldBeRendered()?this.needFullRender=!0:t==="after"&&!this.shouldBeRendered()&&(this.needFullRender=!1)}shouldBeRendered(){return!0}updateTrimmingContainer(){this.trimmingContainer=Id(this.hider.parentNode.parentNode)}updateMainScrollableElement(){let{wtTable:t}=this.wot,{rootWindow:r}=this.domBindings;r.getComputedStyle(t.wtRootElement.parentNode).getPropertyValue("overflow")==="hidden"?this.mainTableScrollableElement=this.wot.wtTable.holder:this.mainTableScrollableElement=iy(t.TABLE)}getRelativeCellPosition(t,r,i){if(this.clone.wtTable.holder.contains(t)===!1){vr(`The provided element is not a child of the ${this.type} overlay`);return}let n=this.mainTableScrollableElement===this.domBindings.rootWindow,o=i<this.wtSettings.getSetting("fixedColumnsStart"),s=r<this.wtSettings.getSetting("fixedRowsTop"),a=r>=this.wtSettings.getSetting("totalRows")-this.wtSettings.getSetting("fixedRowsBottom"),l=this.clone.wtTable.spreader,c={start:this.getRelativeStartPosition(l),top:l.offsetTop},d={start:this.getRelativeStartPosition(t),top:t.offsetTop},u=null;return n?u=this.getRelativeCellPositionWithinWindow(s,o,d,c):u=this.getRelativeCellPositionWithinHolder(s,a,o,d,c),u}getRelativeStartPosition(t){return this.isRtl()?t.offsetParent.offsetWidth-t.offsetLeft-t.offsetWidth:t.offsetLeft}getRelativeCellPositionWithinWindow(t,r,i,n){let o=this.wot.wtTable.wtRootElement.getBoundingClientRect(),s=0,a=0;if(!r)s=n.start;else{let l=o.left;this.isRtl()&&(l=this.domBindings.rootWindow.innerWidth-(o.left+o.width+Rn())),s=l<=0?-1*l:0}return t?a=this.clone.wtTable.TABLE.getBoundingClientRect().top-o.top:a=n.top,{start:i.start+s,top:i.top+a}}getRelativeCellPositionWithinHolder(t,r,i,n,o){let s={horizontal:this.wot.wtOverlays.inlineStartOverlay.getScrollPosition(),vertical:this.wot.wtOverlays.topOverlay.getScrollPosition()},a=0,l=0;if(i||(a=s.horizontal-o.start),r){let c=this.wot.wtTable.wtRootElement.getBoundingClientRect();l=this.clone.wtTable.TABLE.getBoundingClientRect().top*-1+c.top}else t||(l=s.vertical-o.top);return{start:n.start-a,top:n.top-l}}makeClone(){if(LX.indexOf(this.type)===-1)throw new Error(`Clone type "${this.type}" is not supported.`);let{wtTable:t,wtSettings:r}=this.wot,{rootDocument:i,rootWindow:n}=this.domBindings,o=i.createElement("div"),s=i.createElement("table"),a=t.wtRootElement.parentNode;o.className=`${FX.get(this.type)} handsontable`,o.setAttribute("dir",this.isRtl()?"rtl":"ltr"),o.style.position="absolute",o.style.top=0,o.style.overflow="visible",this.isRtl()?o.style.right=0:o.style.left=0,r.getSetting("ariaTags")&&Xe(o,[za()]),s.className=t.TABLE.className,t.TABLE.getAttribute("role")&&s.setAttribute("role",t.TABLE.getAttribute("role")),o.appendChild(s),a.appendChild(o);let c=this.wtSettings.getSetting("preventOverflow");return c===!0||c==="horizontal"&&this.type===Pd||c==="vertical"&&this.type===Nd?this.mainTableScrollableElement=n:n.getComputedStyle(a).getPropertyValue("overflow")==="hidden"?this.mainTableScrollableElement=t.holder:this.mainTableScrollableElement=iy(t.TABLE),new lA(s,this.wtSettings,{source:this.wot,overlay:this,viewport:this.wot.wtViewport,event:this.wot.wtEvent,selectionManager:this.wot.selectionManager})}refresh(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.needFullRender&&this.clone.draw(t)}reset(){let t=this.clone.wtTable.holder,r=this.clone.wtTable.hider,i=t.style,n=r.style,o=t.parentNode.style;[i,n,o].forEach(s=>{s.width="",s.height=""})}isRtl(){return this.wtSettings.getSetting("rtlMode")}destroy(){this.clone.eventManager.destroy()}};var GC=class extends Wc{constructor(t,r,i,n,o,s){super(t,r,Od,i,n),this.bottomOverlay=o,this.inlineStartOverlay=s}createTable(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return new NX(...r)}shouldBeRendered(){return this.wtSettings.getSetting("shouldRenderBottomOverlay")&&this.wtSettings.getSetting("shouldRenderInlineStartOverlay")}resetFixedPosition(){let{wot:t}=this;if(this.updateTrimmingContainer(),!t.wtTable.holder.parentNode)return!1;let r=this.clone.wtTable.holder.parentNode;if(r.style.top="",this.trimmingContainer===this.domBindings.rootWindow){let o=this.inlineStartOverlay.getOverlayOffset(),s=this.bottomOverlay.getOverlayOffset();r.style[this.isRtl()?"right":"left"]=`${o}px`,r.style.bottom=`${s}px`}else Xm(r),this.repositionOverlay();let i=Fr(this.clone.wtTable.TABLE),n=wr(this.clone.wtTable.TABLE);return this.wot.wtTable.hasDefinedSize()||(i=0),r.style.height=`${i}px`,r.style.width=`${n}px`,!1}repositionOverlay(){let{wtTable:t,wtViewport:r}=this.wot,{rootDocument:i}=this.domBindings,n=this.clone.wtTable.holder.parentNode,o=0;r.hasVerticalScroll()||(o+=r.getWorkspaceHeight()-t.getTotalHeight()),r.hasVerticalScroll()&&r.hasHorizontalScroll()&&(o+=Rn(i)),n.style.bottom=`${o}px`}};var BXt=ot(Gt(),1);var A2t="calculatedColumns",zX={getFirstRenderedColumn(){let e=this.dataAccessObject.startColumnRendered;return e===null?-1:e},getFirstVisibleColumn(){let e=this.dataAccessObject.startColumnVisible;return e===null?-1:e},getFirstPartiallyVisibleColumn(){let e=this.dataAccessObject.startColumnPartiallyVisible;return e===null?-1:e},getLastRenderedColumn(){let e=this.dataAccessObject.endColumnRendered;return e===null?-1:e},getLastVisibleColumn(){let e=this.dataAccessObject.endColumnVisible;return e===null?-1:e},getLastPartiallyVisibleColumn(){let e=this.dataAccessObject.endColumnPartiallyVisible;return e===null?-1:e},getRenderedColumnsCount(){return this.dataAccessObject.countColumnsRendered},getVisibleColumnsCount(){return this.dataAccessObject.countColumnsVisible},getRowHeadersCount(){return this.dataAccessObject.rowHeaders.length}};Ns(zX,"MIXIN_NAME",A2t,{writable:!1,enumerable:!1});var Cy=zX;var KC=class extends Uc{constructor(t,r,i,n){super(t,r,i,n,Jl)}};Zi(KC,sA);Zi(KC,Cy);var UX=KC;function I2t(e,t,r){return t=k2t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k2t(e){var t=D2t(e,"string");return typeof t=="symbol"?t:t+""}function D2t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XC=class extends Wc{constructor(t,r,i,n){super(t,r,Jl,i,n),I2t(this,"cachedFixedRowsBottom",-1),this.cachedFixedRowsBottom=this.wtSettings.getSetting("fixedRowsBottom")}createTable(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return new UX(...r)}shouldBeRendered(){return this.wtSettings.getSetting("shouldRenderBottomOverlay")}resetFixedPosition(){if(!this.needFullRender||!this.shouldBeRendered()||!this.wot.wtTable.holder.parentNode)return!1;let{rootWindow:t}=this.domBindings,r=this.clone.wtTable.holder.parentNode;r.style.top="";let i=0,n=this.wtSettings.getSetting("preventOverflow");this.trimmingContainer===t&&(!n||n!=="vertical")?(i=this.getOverlayOffset(),r.style.bottom=`${i}px`):(i=this.getScrollPosition(),this.repositionOverlay());let o=this.adjustHeaderBordersPosition(i);return this.adjustElementsSize(),o}repositionOverlay(){let{wtTable:t,wtViewport:r}=this.wot,{rootDocument:i}=this.domBindings,n=this.clone.wtTable.holder.parentNode,o=0;r.hasVerticalScroll()||(o+=r.getWorkspaceHeight()-t.getTotalHeight()),r.hasVerticalScroll()&&r.hasHorizontalScroll()&&(o+=Rn(i)),n.style.bottom=`${o}px`}setScrollPosition(t){let{rootWindow:r}=this.domBindings,i=!1;return this.mainTableScrollableElement===r?(r.scrollTo(RC(r),t),i=!0):this.mainTableScrollableElement.scrollTop!==t&&(this.mainTableScrollableElement.scrollTop=t,i=!0),i}onScroll(){this.wtSettings.getSetting("onScrollHorizontally")}sumCellSizes(t,r){let{wtTable:i,wtSettings:n}=this.wot,o=n.getSetting("defaultRowHeight"),s=t,a=0;for(;s<r;){let l=i.getRowHeight(s);a+=l===void 0?o:l,s+=1}return a}adjustElementsSize(){this.updateTrimmingContainer(),this.needFullRender&&(this.adjustRootElementSize(),this.adjustRootChildrenSize())}adjustRootElementSize(){let{wtTable:t,wtViewport:r}=this.wot,{rootDocument:i,rootWindow:n}=this.domBindings,o=Rn(i),a=this.clone.wtTable.holder.parentNode.style,l=this.wtSettings.getSetting("preventOverflow");if(this.trimmingContainer!==n||l==="horizontal"){let d=r.getWorkspaceWidth();this.wot.wtOverlays.hasScrollbarRight&&(d-=o),d=Math.min(d,t.wtRootElement.scrollWidth),a.width=`${d}px`}else a.width="";this.clone.wtTable.holder.style.width=a.width;let c=Fr(this.clone.wtTable.TABLE);this.wot.wtTable.hasDefinedSize()||(c=0),a.height=`${c}px`}adjustRootChildrenSize(){let{holder:t}=this.clone.wtTable;this.clone.wtTable.hider.style.width=this.hider.style.width,t.style.width=t.parentNode.style.width,t.style.height=t.parentNode.style.height}applyToDOM(){let t=this.wtSettings.getSetting("totalRows");if(typeof this.wot.wtViewport.rowsRenderCalculator.startPosition=="number")this.spreader.style.top=`${this.wot.wtViewport.rowsRenderCalculator.startPosition}px`;else if(t===0)this.spreader.style.top="0";else throw new Error("Incorrect value of the rowsRenderCalculator");this.spreader.style.bottom="",this.needFullRender&&this.syncOverlayOffset()}syncOverlayOffset(){let t=this.isRtl()?"right":"left",{spreader:r}=this.clone.wtTable;typeof this.wot.wtViewport.columnsRenderCalculator.startPosition=="number"?r.style[t]=`${this.wot.wtViewport.columnsRenderCalculator.startPosition}px`:r.style[t]=""}scrollTo(t,r){let i=this.getTableParentOffset(),o=(this.wot.cloneSource?this.wot.cloneSource:this.wot).wtTable.holder,s=0;r&&o.offsetHeight!==o.clientHeight&&(s=Rn(this.domBindings.rootDocument)),r?(i+=this.sumCellSizes(0,t+1),i-=this.wot.wtViewport.getViewportHeight(),i+=1):i+=this.sumCellSizes(this.wtSettings.getSetting("fixedRowsBottom"),t),i+=s,this.setScrollPosition(i)}getTableParentOffset(){return this.mainTableScrollableElement===this.domBindings.rootWindow?this.wot.wtTable.holderOffset.top:0}getScrollPosition(){return ey(this.mainTableScrollableElement,this.domBindings.rootWindow)}getOverlayOffset(){let{rootWindow:t}=this.domBindings,r=this.wtSettings.getSetting("preventOverflow"),i=0;if(this.trimmingContainer===t&&(!r||r!=="vertical")){let n=this.wot.wtTable.getTotalHeight(),o=this.clone.wtTable.getTotalHeight(),s=n-o,a=this.domBindings.rootDocument.documentElement.clientHeight;i=Math.max(this.getTableParentOffset()-this.getScrollPosition()-a+n,0),i>s&&(i=0)}return i}adjustHeaderBordersPosition(t){let r=this.wtSettings.getSetting("fixedRowsBottom"),i=this.cachedFixedRowsBottom!==r,n=this.wtSettings.getSetting("columnHeaders"),o=!1;if((i||r===0)&&n.length>0){let s=this.wot.wtTable.holder.parentNode,a=Ze(s,"innerBorderBottom");this.cachedFixedRowsBottom=this.wtSettings.getSetting("fixedRowsBottom"),t||this.wtSettings.getSetting("totalRows")===0?(ne(s,"innerBorderBottom"),o=!a):(pi(s,"innerBorderBottom"),o=a)}return o}};var WZt=ot(Gt(),1);var O2t="calculatedRows",WX={getFirstRenderedRow(){let e=this.dataAccessObject.startRowRendered;return e===null?-1:e},getFirstVisibleRow(){let e=this.dataAccessObject.startRowVisible;return e===null?-1:e},getFirstPartiallyVisibleRow(){let e=this.dataAccessObject.startRowPartiallyVisible;return e===null?-1:e},getLastRenderedRow(){let e=this.dataAccessObject.endRowRendered;return e===null?-1:e},getLastVisibleRow(){let e=this.dataAccessObject.endRowVisible;return e===null?-1:e},getLastPartiallyVisibleRow(){let e=this.dataAccessObject.endRowPartiallyVisible;return e===null?-1:e},getRenderedRowsCount(){return this.dataAccessObject.countRowsRendered},getVisibleRowsCount(){return this.dataAccessObject.countRowsVisible},getColumnHeadersCount(){return this.dataAccessObject.columnHeaders.length}};Ns(WX,"MIXIN_NAME",O2t,{writable:!1,enumerable:!1});var cA=WX;var ZC=class extends Uc{constructor(t,r,i,n){super(t,r,i,n,Nd)}};Zi(ZC,cA);Zi(ZC,wy);var YX=ZC;var JXt=ot(we(),1);var P2t="localHooks",qX={_localHooks:Object.create(null),addLocalHook(e,t){return this._localHooks[e]||(this._localHooks[e]=[]),this._localHooks[e].push(t),this},runLocalHooks(e,t,r,i,n,o,s){if(this._localHooks[e]){let a=this._localHooks[e].length;for(let l=0;l<a;l++)MC(this._localHooks[e][l],this,t,r,i,n,o,s)}},clearLocalHooks(){return this._localHooks={},this}};Ns(qX,"MIXIN_NAME",P2t,{writable:!1,enumerable:!1});var jn=qX;var dA=class{constructor(t,r){this.settings=t,this.cellRange=r||null}isEmpty(){return this.cellRange===null}add(t){return this.isEmpty()?this.cellRange=this.settings.createCellRange(t):this.cellRange.expand(t),this}replace(t,r){if(!this.isEmpty()){if(this.cellRange.from.isEqual(t))return this.cellRange.from=r,!0;if(this.cellRange.to.isEqual(t))return this.cellRange.to=r,!0}return!1}clear(){return this.cellRange=null,this}getCorners(){let t=this.cellRange.getOuterTopStartCorner(),r=this.cellRange.getOuterBottomEndCorner();return[t.row,t.col,r.row,r.col]}destroy(){this.runLocalHooks("destroy")}};Zi(dA,jn);var uA=dA;var xy="active-header",lp="header",cp="area",s0="focus",hA="fill",fA="row",mA="column",pA="custom-selection";var Sy=Object.freeze({width:"6px",height:"6px",borderWidth:"1px",borderStyle:"solid",borderColor:"#FFF"});var RZt=ot(Gt(),1),TZt=ot(we(),1),MZt=ot(w6(),1),AZt=ot(yn(),1),IZt=ot(_n(),1),kZt=ot(wn(),1),DZt=ot(Cn(),1),OZt=ot(xn(),1),PZt=ot(Sn(),1),NZt=ot(En(),1);var dZt=ot(Gt(),1),uZt=ot(yn(),1),hZt=ot(_n(),1),fZt=ot(wn(),1),mZt=ot(Cn(),1),pZt=ot(xn(),1),gZt=ot(Sn(),1),bZt=ot(En(),1);function L2t(e,t){KX(e,t),t.add(e)}function $X(e,t,r){KX(e,t),t.set(e,r)}function KX(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ts(e,t){return e.get(QC(e,t))}function GX(e,t,r){return e.set(QC(e,t),r),r}function QC(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var Fd=new WeakMap,yl=new WeakMap,gA=new WeakSet,bA=class{constructor(){L2t(this,gA),$X(this,Fd,void 0),$X(this,yl,void 0)}setActiveOverlay(t){return GX(yl,this,t),this}setActiveSelection(t){return GX(Fd,this,t),this}scan(){let t=ts(Fd,this).settings.selectionType,r=new Set;return t==="active-header"?(this.scanColumnsInHeadersRange(i=>r.add(i)),this.scanRowsInHeadersRange(i=>r.add(i))):t==="area"?this.scanCellsRange(i=>r.add(i)):t==="focus"?(this.scanColumnsInHeadersRange(i=>r.add(i)),this.scanRowsInHeadersRange(i=>r.add(i)),this.scanCellsRange(i=>r.add(i))):t==="fill"?this.scanCellsRange(i=>r.add(i)):t==="header"?(this.scanColumnsInHeadersRange(i=>r.add(i)),this.scanRowsInHeadersRange(i=>r.add(i))):t==="row"?(this.scanRowsInHeadersRange(i=>r.add(i)),this.scanRowsInCellsRange(i=>r.add(i))):t==="column"&&(this.scanColumnsInHeadersRange(i=>r.add(i)),this.scanColumnsInCellsRange(i=>r.add(i))),r}scanColumnsInHeadersRange(t){let[r,i,n,o]=ts(Fd,this).getCorners(),{wtTable:s}=ts(yl,this),a=s.getRenderedColumnsCount(),l=s.getColumnHeadersCount(),c=0;for(let d=-s.getRowHeadersCount();d<a;d++){let u=s.columnFilter.renderedToSource(d);if(!(u<i||u>o)){for(let h=-l;h<0;h++){if(h<r||h>n)continue;let f=h+l,m=s.getColumnHeader(u,f),g=ts(yl,this).getSetting("onBeforeHighlightingColumnHeader",u,f,{selectionType:ts(Fd,this).settings.selectionType,columnCursor:c,selectionWidth:o-i+1});g!==null&&(g!==u&&(m=s.getColumnHeader(g,f)),t(m))}c+=1}}}scanRowsInHeadersRange(t){let[r,i,n,o]=ts(Fd,this).getCorners(),{wtTable:s}=ts(yl,this),a=s.getRenderedRowsCount(),l=s.getRowHeadersCount(),c=0;for(let d=-s.getColumnHeadersCount();d<a;d++){let u=s.rowFilter.renderedToSource(d);if(!(u<r||u>n)){for(let h=-l;h<0;h++){if(h<i||h>o)continue;let f=h+l,m=s.getRowHeader(u,f),g=ts(yl,this).getSetting("onBeforeHighlightingRowHeader",u,f,{selectionType:ts(Fd,this).settings.selectionType,rowCursor:c,selectionHeight:n-r+1});g!==null&&(g!==u&&(m=s.getRowHeader(g,f)),t(m))}c+=1}}}scanCellsRange(t){let[r,i,n,o]=ts(Fd,this).getCorners(),{wtTable:s}=ts(yl,this);QC(gA,this,C6).call(this,(a,l)=>{if(a>=r&&a<=n&&l>=i&&l<=o){let c=s.getCell(ts(yl,this).createCellCoords(a,l)),d=ts(yl,this).getSetting("onAfterDrawSelection",a,l,ts(Fd,this).settings.layerLevel);typeof d=="string"&&ne(c,d),t(c)}})}scanRowsInCellsRange(t){let[r,,i]=ts(Fd,this).getCorners(),{wtTable:n}=ts(yl,this);QC(gA,this,C6).call(this,(o,s)=>{if(o>=r&&o<=i){let a=n.getCell(ts(yl,this).createCellCoords(o,s));t(a)}})}scanColumnsInCellsRange(t){let[,r,,i]=ts(Fd,this).getCorners(),{wtTable:n}=ts(yl,this);QC(gA,this,C6).call(this,(o,s)=>{if(s>=r&&s<=i){let a=n.getCell(ts(yl,this).createCellCoords(o,s));t(a)}})}};function C6(e){let{wtTable:t}=ts(yl,this),r=t.getRenderedRowsCount(),i=t.getRenderedColumnsCount();for(let n=0;n<r;n+=1){let o=t.rowFilter.renderedToSource(n);for(let s=0;s<i;s+=1)e(o,t.columnFilter.renderedToSource(s))}}var x6=class{constructor(t,r){r&&(this.eventManager=t.eventManager,this.instance=t,this.wot=t,this.settings=r,this.mouseDown=!1,this.main=null,this.top=null,this.bottom=null,this.start=null,this.end=null,this.topStyle=null,this.bottomStyle=null,this.startStyle=null,this.endStyle=null,this.cornerDefaultStyle=Sy,this.cornerCenterPointOffset=-(parseInt(this.cornerDefaultStyle.width,10)/2),this.corner=null,this.cornerStyle=null,this.createBorders(r),this.registerListeners())}registerListeners(){let t=this.wot.rootDocument.body;this.eventManager.addEventListener(t,"mousedown",()=>this.onMouseDown()),this.eventManager.addEventListener(t,"mouseup",()=>this.onMouseUp());for(let r=0,i=this.main.childNodes.length;r<i;r++){let n=this.main.childNodes[r];this.eventManager.addEventListener(n,"mouseenter",o=>this.onMouseEnter(o,this.main.childNodes[r]))}}onMouseDown(){this.mouseDown=!0}onMouseUp(){this.mouseDown=!1}onMouseEnter(t,r){if(!this.mouseDown||!this.wot.getSetting("hideBorderOnMouseDownOver"))return;t.preventDefault(),Vo(t);let i=this,n=this.wot.rootDocument.body,o=r.getBoundingClientRect();r.style.display="none";function s(l){if(l.clientY<Math.floor(o.top)||l.clientY>Math.ceil(o.top+o.height)||l.clientX<Math.floor(o.left)||l.clientX>Math.ceil(o.left+o.width))return!0}function a(l){s(l)&&(i.eventManager.removeEventListener(n,"mousemove",a),r.style.display="block")}this.eventManager.addEventListener(n,"mousemove",a)}createBorders(t){let{rootDocument:r}=this.wot;this.main=r.createElement("div");let i=["top","start","bottom","end","corner"],n=this.main.style;n.position="absolute",n.top=0,n.left=0;for(let a=0;a<5;a++){let l=i[a],c=r.createElement("div");c.className=`wtBorder ${this.settings.className||""}`,this.settings[l]&&this.settings[l].hide&&(c.className+=" hidden"),n=c.style,n.backgroundColor=this.settings[l]&&this.settings[l].color?this.settings[l].color:t.border.color,n.height=this.settings[l]&&this.settings[l].width?`${this.settings[l].width}px`:`${t.border.width}px`,n.width=this.settings[l]&&this.settings[l].width?`${this.settings[l].width}px`:`${t.border.width}px`,this.main.appendChild(c)}this.top=this.main.childNodes[0],this.start=this.main.childNodes[1],this.bottom=this.main.childNodes[2],this.end=this.main.childNodes[3],this.topStyle=this.top.style,this.startStyle=this.start.style,this.bottomStyle=this.bottom.style,this.endStyle=this.end.style,this.corner=this.main.childNodes[4],this.corner.className+=" corner",this.cornerStyle=this.corner.style,this.cornerStyle.width=this.cornerDefaultStyle.width,this.cornerStyle.height=this.cornerDefaultStyle.height,this.cornerStyle.border=[this.cornerDefaultStyle.borderWidth,this.cornerDefaultStyle.borderStyle,this.cornerDefaultStyle.borderColor].join(" "),Zl()&&this.instance.getSetting("isDataViewInstance")&&this.createMultipleSelectorHandles(),this.disappear();let{wtTable:o}=this.wot,s=o.bordersHolder;s||(s=r.createElement("div"),s.className="htBorders",o.bordersHolder=s,o.spreader.appendChild(s)),s.appendChild(this.main)}createMultipleSelectorHandles(){let{rootDocument:t}=this.wot;this.selectionHandles={top:t.createElement("DIV"),topHitArea:t.createElement("DIV"),bottom:t.createElement("DIV"),bottomHitArea:t.createElement("DIV")};let r=10,i=40;this.selectionHandles.top.className="topSelectionHandle topLeftSelectionHandle",this.selectionHandles.topHitArea.className="topSelectionHandle-HitArea topLeftSelectionHandle-HitArea",this.selectionHandles.bottom.className="bottomSelectionHandle bottomRightSelectionHandle",this.selectionHandles.bottomHitArea.className="bottomSelectionHandle-HitArea bottomRightSelectionHandle-HitArea",this.selectionHandles.styles={top:this.selectionHandles.top.style,topHitArea:this.selectionHandles.topHitArea.style,bottom:this.selectionHandles.bottom.style,bottomHitArea:this.selectionHandles.bottomHitArea.style};let n={position:"absolute",height:`${i}px`,width:`${i}px`,"border-radius":`${parseInt(i/1.5,10)}px`};bi(n,(s,a)=>{this.selectionHandles.styles.bottomHitArea[a]=s,this.selectionHandles.styles.topHitArea[a]=s});let o={position:"absolute",height:`${r}px`,width:`${r}px`,"border-radius":`${parseInt(r/1.5,10)}px`,background:"#F5F5FF",border:"1px solid #4285c8"};bi(o,(s,a)=>{this.selectionHandles.styles.bottom[a]=s,this.selectionHandles.styles.top[a]=s}),this.main.appendChild(this.selectionHandles.top),this.main.appendChild(this.selectionHandles.bottom),this.main.appendChild(this.selectionHandles.topHitArea),this.main.appendChild(this.selectionHandles.bottomHitArea)}isPartRange(t,r){let i=this.wot.selectionManager.getAreaSelection();return!!(i.cellRange&&(t!==i.cellRange.to.row||r!==i.cellRange.to.col))}updateMultipleSelectionHandlesPosition(t,r,i,n,o,s){let l=this.wot.wtSettings.getSetting("rtlMode")?"right":"left",{top:c,topHitArea:d,bottom:u,bottomHitArea:h}=this.selectionHandles.styles,f=parseInt(c.borderWidth,10),m=parseInt(c.width,10),g=parseInt(d.width,10),p=this.wot.wtTable.getWidth(),b=this.wot.wtTable.getHeight();c.top=`${parseInt(i-m-1,10)}px`,c[l]=`${parseInt(n-m-1,10)}px`,d.top=`${parseInt(i-g/4*3,10)}px`,d[l]=`${parseInt(n-g/4*3,10)}px`;let _=Math.min(parseInt(n+o,10),p-m-f*2),E=Math.min(parseInt(n+o-g/4,10),p-g-f*2);u[l]=`${_}px`,h[l]=`${E}px`;let O=Math.min(parseInt(i+s,10),b-m-f*2),V=Math.min(parseInt(i+s-g/4,10),b-g-f*2);u.top=`${O}px`,h.top=`${V}px`,this.settings.border.cornerVisible&&this.settings.border.cornerVisible()?(c.display="block",d.display="block",this.isPartRange(t,r)?(u.display="none",h.display="none"):(u.display="block",h.display="block")):(c.display="none",u.display="none",d.display="none",h.display="none"),t===this.wot.wtSettings.getSetting("fixedRowsTop")||r===this.wot.wtSettings.getSetting("fixedColumnsStart")?(c.zIndex="9999",d.zIndex="9999"):(c.zIndex="",d.zIndex="")}appear(t){if(this.disabled)return;let{wtTable:r,rootDocument:i,rootWindow:n}=this.wot,o,s,a,l,c,d,u=r.getRenderedRowsCount();for(let S=0;S<u;S+=1){let M=r.rowFilter.renderedToSource(S);if(M>=t[0]&&M<=t[2]){o=M,c=t[0];break}}for(let S=u-1;S>=0;S-=1){let M=r.rowFilter.renderedToSource(S);if(M>=t[0]&&M<=t[2]){s=M;break}}let h=r.getRenderedColumnsCount();for(let S=0;S<h;S+=1){let M=r.columnFilter.renderedToSource(S);if(M>=t[1]&&M<=t[3]){a=M,d=t[1];break}}for(let S=h-1;S>=0;S-=1){let M=r.columnFilter.renderedToSource(S);if(M>=t[1]&&M<=t[3]){l=M;break}}if(o===void 0||a===void 0){this.disappear();return}let f=r.getCell(this.wot.createCellCoords(o,a)),m=o!==s||a!==l,g=m?r.getCell(this.wot.createCellCoords(s,l)):f,p=Kn(f),b=m?Kn(g):p,_=Kn(r.TABLE),E=wr(r.TABLE),O=p.top,V=p.left,H=this.wot.wtSettings.getSetting("rtlMode"),F=0,L=0;if(H){let S=wr(f),M=n.innerWidth-_.left-E;L=V+S-b.left,F=n.innerWidth-V-S-M-1}else L=b.left+wr(g)-V,F=V-_.left-1;if(this.isEntireColumnSelected(o,s)){let S=this.getDimensionsFromHeader("columns",a,l,c,_),M=null;S&&([M,F,L]=S),M&&(f=M)}let $=O-_.top-1,W=b.top+Fr(g)-O;if(this.isEntireRowSelected(a,l)){let S=this.getDimensionsFromHeader("rows",o,s,d,_),M=null;S&&([M,$,W]=S),M&&(f=M)}let x=Hc(f,n);parseInt(x.borderTopWidth,10)>0&&($+=1,W=W>0?W-1:0),parseInt(x[H?"borderRightWidth":"borderLeftWidth"],10)>0&&(F+=1,L=L>0?L-1:0);let R=H?"right":"left";this.topStyle.top=`${$}px`,this.topStyle[R]=`${F}px`,this.topStyle.width=`${L}px`,this.topStyle.display="block",this.startStyle.top=`${$}px`,this.startStyle[R]=`${F}px`,this.startStyle.height=`${W}px`,this.startStyle.display="block";let B=Math.floor(this.settings.border.width/2);this.bottomStyle.top=`${$+W-B}px`,this.bottomStyle[R]=`${F}px`,this.bottomStyle.width=`${L}px`,this.bottomStyle.display="block",this.endStyle.top=`${$}px`,this.endStyle[R]=`${F+L-B}px`,this.endStyle.height=`${W+1}px`,this.endStyle.display="block";let v=this.settings.border.cornerVisible;v=typeof v=="function"?v(this.settings.layerLevel):v;let y=this.wot.getSetting("onModifyGetCellCoords",s,l),[C,w]=[s,l];if(y&&Array.isArray(y)&&([,,C,w]=y),Zl()||!v||this.isPartRange(C,w))this.cornerStyle.display="none";else{this.cornerStyle.top=`${$+W+this.cornerCenterPointOffset-1}px`,this.cornerStyle[R]=`${F+L+this.cornerCenterPointOffset-1}px`,this.cornerStyle.borderRightWidth=this.cornerDefaultStyle.borderWidth,this.cornerStyle.width=this.cornerDefaultStyle.width,this.cornerStyle.display="none";let S=Id(r.TABLE),M=S===n;M&&(S=i.documentElement);let U=parseInt(this.cornerDefaultStyle.width,10)/2,N=parseInt(this.cornerDefaultStyle.height,10)/2;if(l===this.wot.getSetting("totalColumns")-1){let T=M?g.getBoundingClientRect().left:g.offsetLeft,j=!1,I=0;H?(I=T-parseInt(this.cornerDefaultStyle.width,10)/2,j=I<0):(I=T+wr(g)+parseInt(this.cornerDefaultStyle.width,10)/2,j=I>=mM(S)),j&&(this.cornerStyle[R]=`${Math.floor(F+L+this.cornerCenterPointOffset-U)}px`,this.cornerStyle[H?"borderLeftWidth":"borderRightWidth"]=0)}s===this.wot.getSetting("totalRows")-1&&(M?g.getBoundingClientRect().top:g.offsetTop)+Fr(g)+parseInt(this.cornerDefaultStyle.height,10)/2>=df(S)&&(this.cornerStyle.top=`${Math.floor($+W+this.cornerCenterPointOffset-N)}px`,this.cornerStyle.borderBottomWidth=0),this.cornerStyle.display="block"}Zl()&&this.instance.getSetting("isDataViewInstance")&&this.updateMultipleSelectionHandlesPosition(s,l,$,F,L,W)}isEntireColumnSelected(t,r){return t===this.wot.wtTable.getFirstRenderedRow()&&r===this.wot.wtTable.getLastRenderedRow()}isEntireRowSelected(t,r){return t===this.wot.wtTable.getFirstRenderedColumn()&&r===this.wot.wtTable.getLastRenderedColumn()}getDimensionsFromHeader(t,r,i,n,o){let{wtTable:s}=this.wot,a=s.wtRootElement.parentNode,l=null,c=null,d=null,u=null,h=null,f=null,m=null,g=null;switch(t){case"rows":l=function(){return s.getRowHeader(...arguments)},c=function(){return Fr(...arguments)},d="ht__selection--rows",f="top";break;case"columns":l=function(){return s.getColumnHeader(...arguments)},c=function(){return wr(...arguments)},d="ht__selection--columns",f="left";break;default:}if(a.classList.contains(d)){let p=this.wot.getSetting("columnHeaders").length;if(m=l(r,p-n),g=l(i,p-n),!m||!g)return!1;let b=Kn(m),_=Kn(g);return m&&g&&(u=b[f]-o[f]-1,h=_[f]+c(g)-b[f]),[m,u,h]}return!1}changeBorderStyle(t,r){let i=this[t].style,n=r[t];!n||n.hide?ne(this[t],"hidden"):(Ze(this[t],"hidden")&&pi(this[t],"hidden"),i.backgroundColor=n.color,(t==="top"||t==="bottom")&&(i.height=`${n.width}px`),(t==="start"||t==="end")&&(i.width=`${n.width}px`))}changeBorderToDefaultStyle(t){let r={width:1,color:"#000"},i=this[t].style;i.backgroundColor=r.color,i.width=`${r.width}px`,i.height=`${r.width}px`}toggleHiddenClass(t,r){this.changeBorderToDefaultStyle(t),r?ne(this[t],"hidden"):pi(this[t],"hidden")}disappear(){this.topStyle.display="none",this.bottomStyle.display="none",this.startStyle.display="none",this.endStyle.display="none",this.cornerStyle.display="none",Zl()&&this.instance.getSetting("isDataViewInstance")&&(this.selectionHandles.styles.top.display="none",this.selectionHandles.styles.topHitArea.display="none",this.selectionHandles.styles.bottom.display="none",this.selectionHandles.styles.bottomHitArea.display="none")}destroy(){this.eventManager.destroyWithOwnEventsOnly(),this.main.parentNode.removeChild(this.main)}},S6=x6;function F2t(e,t){QX(e,t),t.add(e)}function Ey(e,t,r){QX(e,t),t.set(e,r)}function QX(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ar(e,t){return e.get(T6(e,t))}function XX(e,t,r){return e.set(T6(e,t),r),r}function T6(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var wa=new WeakMap,_l=new WeakMap,E6=new WeakMap,JC=new WeakMap,R6=new WeakMap,a0=new WeakMap,ZX=new WeakSet,vA=class{constructor(t){F2t(this,ZX),Ey(this,wa,void 0),Ey(this,_l,void 0),Ey(this,E6,new bA),Ey(this,JC,new WeakMap),Ey(this,R6,new WeakSet),Ey(this,a0,new Map),XX(_l,this,t)}setActiveOverlay(t){return XX(wa,this,t),Ar(E6,this).setActiveOverlay(Ar(wa,this)),Ar(JC,this).has(Ar(wa,this))||Ar(JC,this).set(Ar(wa,this),new Set),this}getFocusSelection(){return Ar(_l,this)!==null?Ar(_l,this).getFocus():null}getAreaSelection(){return Ar(_l,this)!==null?Ar(_l,this).createLayeredArea():null}getBorderInstance(t){if(!t.settings.border)return null;if(Ar(a0,this).has(t)){let i=Ar(a0,this).get(t);if(i.has(Ar(wa,this)))return i.get(Ar(wa,this));let n=new S6(Ar(wa,this),t.settings);return i.set(Ar(wa,this),n),n}let r=new S6(Ar(wa,this),t.settings);return Ar(a0,this).set(t,new Map([[Ar(wa,this),r]])),r}getBorderInstances(t){var r,i;return Array.from((r=(i=Ar(a0,this).get(t))===null||i===void 0?void 0:i.values())!==null&&r!==void 0?r:[])}destroyBorders(t){Ar(a0,this).get(t).forEach(r=>r.destroy()),Ar(a0,this).delete(t)}render(t){if(Ar(_l,this)===null)return;t&&T6(ZX,this,H2t).call(this);let r=Array.from(Ar(_l,this)),i=new Map,n=new Map;for(let o=0;o<r.length;o++){let s=r[o],{className:a,headerAttributes:l,createLayers:c,selectionType:d}=s.settings;Ar(R6,this).has(s)||(Ar(R6,this).add(s),s.addLocalHook("destroy",()=>this.destroyBorders(s)));let u=this.getBorderInstance(s);if(s.isEmpty()){u?.disappear();continue}a&&Ar(E6,this).setActiveSelection(s).scan().forEach(m=>{if(i.has(m)){let g=i.get(m);g.has(a)&&c===!0?g.set(a,g.get(a)+1):g.set(a,1)}else i.set(m,new Map([[a,1]]));l&&(n.has(m)||n.set(m,[]),m.nodeName==="TH"&&n.get(m).push(...l))});let h=s.getCorners();Ar(wa,this).getSetting("onBeforeDrawBorders",h,d),u?.appear(h)}i.forEach((o,s)=>{var a;let l=Array.from(o).map(c=>{let[d,u]=c;return u===1?d:[d,...Array.from({length:u-1},(h,f)=>`${d}-${f+1}`)]}).flat();l.forEach(c=>Ar(JC,this).get(Ar(wa,this)).add(c)),ne(s,l),s.nodeName==="TD"&&Array.isArray((a=Ar(_l,this).options)===null||a===void 0?void 0:a.cellAttributes)&&Xe(s,Ar(_l,this).options.cellAttributes)}),Array.from(n.keys()).forEach(o=>{Xe(o,[...n.get(o)])})}};function H2t(){let e=Ar(JC,this).get(Ar(wa,this)),t=Ar(wa,this).wtSettings.getSetting("onBeforeRemoveCellClassNames");if(Array.isArray(t))for(let r=0;r<t.length;r++)e.add(t[r]);e.forEach(r=>{var i,n;let o=Ar(wa,this).wtTable.TABLE.querySelectorAll(`.${r}`),s=[];Array.isArray((i=Ar(_l,this).options)===null||i===void 0?void 0:i.cellAttributes)&&(s=Ar(_l,this).options.cellAttributes.map(a=>a[0])),Array.isArray((n=Ar(_l,this).options)===null||n===void 0?void 0:n.headerAttributes)&&(s=[...s,...Ar(_l,this).options.headerAttributes.map(a=>a[0])]);for(let a=0,l=o.length;a<l;a++)pi(o[a],r),Nc(o[a],s)}),e.clear()}var tx=class extends Wc{constructor(t,r,i,n){super(t,r,Nd,i,n)}createTable(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return new YX(...r)}shouldBeRendered(){return this.wtSettings.getSetting("shouldRenderInlineStartOverlay")}resetFixedPosition(){let{wtTable:t}=this.wot;if(!this.needFullRender||!this.shouldBeRendered()||!t.holder.parentNode)return!1;let{rootWindow:r}=this.domBindings,i=this.clone.wtTable.holder.parentNode,n=this.wtSettings.getSetting("preventOverflow"),o=0;this.trimmingContainer===r&&(!n||n!=="horizontal")?(o=this.getOverlayOffset()*(this.isRtl()?-1:1),ry(i,`${o}px`,"0px")):(o=this.getScrollPosition(),Xm(i));let s=this.adjustHeaderBordersPosition(o);return this.adjustElementsSize(),s}setScrollPosition(t){let{rootWindow:r}=this.domBindings,i=!1;return this.isRtl()&&(t=-t),this.mainTableScrollableElement===r&&r.scrollX!==t?(r.scrollTo(t,kN(r)),i=!0):this.mainTableScrollableElement.scrollLeft!==t&&(this.mainTableScrollableElement.scrollLeft=t,i=!0),i}onScroll(){this.wtSettings.getSetting("onScrollVertically")}sumCellSizes(t,r){let i=this.wtSettings.getSetting("defaultColumnWidth"),n=t,o=0;for(;n<r;)o+=this.wot.wtTable.getStretchedColumnWidth(n)||i,n+=1;return o}adjustElementsSize(){this.updateTrimmingContainer(),this.needFullRender&&(this.adjustRootElementSize(),this.adjustRootChildrenSize())}adjustRootElementSize(){let{wtTable:t}=this.wot,{rootDocument:r,rootWindow:i}=this.domBindings,n=Rn(r),s=this.clone.wtTable.holder.parentNode.style,a=this.wtSettings.getSetting("preventOverflow");if(this.trimmingContainer!==i||a==="vertical"){let c=this.wot.wtViewport.getWorkspaceHeight();this.wot.wtOverlays.hasScrollbarBottom&&(c-=n),c=Math.min(c,t.wtRootElement.scrollHeight),s.height=`${c}px`}else s.height="";this.clone.wtTable.holder.style.height=s.height;let l=wr(this.clone.wtTable.TABLE);s.width=`${l}px`}adjustRootChildrenSize(){let{holder:t}=this.clone.wtTable,r=this.wot.selectionManager.getFocusSelection()?parseInt(Sy.width,10)/2:0;this.clone.wtTable.hider.style.height=this.hider.style.height,t.style.height=t.parentNode.style.height,t.style.width=`${parseInt(t.parentNode.style.width,10)+r}px`}applyToDOM(){let t=this.wtSettings.getSetting("totalColumns"),r=this.isRtl()?"right":"left";if(typeof this.wot.wtViewport.columnsRenderCalculator.startPosition=="number")this.spreader.style[r]=`${this.wot.wtViewport.columnsRenderCalculator.startPosition}px`;else if(t===0)this.spreader.style[r]="0";else throw new Error("Incorrect value of the columnsRenderCalculator");this.isRtl()?this.spreader.style.left="":this.spreader.style.right="",this.needFullRender&&this.syncOverlayOffset()}syncOverlayOffset(){typeof this.wot.wtViewport.rowsRenderCalculator.startPosition=="number"?this.clone.wtTable.spreader.style.top=`${this.wot.wtViewport.rowsRenderCalculator.startPosition}px`:this.clone.wtTable.spreader.style.top=""}scrollTo(t,r){let{wtSettings:i}=this,n=i.getSetting("rowHeaders"),o=i.getSetting("fixedColumnsStart"),a=(this.wot.cloneSource?this.wot.cloneSource:this.wot).wtTable.holder,l=o===0&&n.length>0&&!Ze(a.parentNode,"innerBorderInlineStart")?1:0,c=this.getTableParentOffset(),d=0;if(r){let u=this.wot.wtTable.getColumnWidth(t),h=this.wot.wtViewport.getViewportWidth();u>h&&(r=!1)}return r&&a.offsetWidth!==a.clientWidth&&(d=Rn(this.domBindings.rootDocument)),r?(c+=this.sumCellSizes(0,t+1),c-=this.wot.wtViewport.getViewportWidth(),c+=l):c+=this.sumCellSizes(this.wtSettings.getSetting("fixedColumnsStart"),t),c+=d,wK(this.mainTableScrollableElement)===c-l&&l>0&&this.wot.wtOverlays.expandHiderHorizontallyBy(l),this.setScrollPosition(c)}getTableParentOffset(){let t=this.wtSettings.getSetting("preventOverflow"),r=0;return!t&&this.trimmingContainer===this.domBindings.rootWindow&&(r=this.wot.wtTable.holderOffset.left),r}getScrollPosition(){return Math.abs(fM(this.mainTableScrollableElement,this.domBindings.rootWindow))}getOverlayOffset(){let{rootWindow:t}=this.domBindings,r=this.wtSettings.getSetting("preventOverflow"),i=0;if(this.trimmingContainer===t&&(!r||r!=="horizontal")){this.isRtl()?i=Math.abs(Math.min(this.getTableParentOffset()-this.getScrollPosition(),0)):i=Math.max(this.getScrollPosition()-this.getTableParentOffset(),0);let n=this.wot.wtTable.getTotalWidth(),o=this.clone.wtTable.getTotalWidth(),s=n-o;i>s&&(i=0)}return i}adjustHeaderBordersPosition(t){let{wtSettings:r}=this,i=this.wot.wtTable.holder.parentNode,n=r.getSetting("rowHeaders"),o=r.getSetting("fixedColumnsStart"),s=r.getSetting("totalRows"),a=r.getSetting("preventOverflow")==="vertical";s?pi(i,"emptyRows"):ne(i,"emptyRows");let l=!1;if(!a){if(o&&!n.length)ne(i,"innerBorderLeft innerBorderInlineStart");else if(!o&&n.length){let c=Ze(i,"innerBorderInlineStart");t?(ne(i,"innerBorderLeft innerBorderInlineStart"),l=!c):(pi(i,"innerBorderLeft innerBorderInlineStart"),l=c)}}return l}};var oQt=ot(Gt(),1);var B2t="stickyRowsTop",JX={getFirstRenderedRow(){return this.wtSettings.getSetting("totalRows")===0?-1:0},getFirstVisibleRow(){return this.getFirstRenderedRow()},getFirstPartiallyVisibleRow(){return this.getFirstRenderedRow()},getLastRenderedRow(){return this.getRenderedRowsCount()-1},getLastVisibleRow(){return this.getLastRenderedRow()},getLastPartiallyVisibleRow(){return this.getLastRenderedRow()},getRenderedRowsCount(){let e=this.wtSettings.getSetting("totalRows");return Math.min(this.wtSettings.getSetting("fixedRowsTop"),e)},getVisibleRowsCount(){return this.getRenderedRowsCount()},getColumnHeadersCount(){return this.dataAccessObject.columnHeaders.length}};Ns(JX,"MIXIN_NAME",B2t,{writable:!1,enumerable:!1});var yA=JX;var ex=class extends Uc{constructor(t,r,i,n){super(t,r,i,n,Ku)}};Zi(ex,yA);Zi(ex,wy);var tZ=ex;function eZ(e,t,r){return t=j2t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j2t(e){var t=V2t(e,"string");return typeof t=="symbol"?t:t+""}function V2t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ix=class extends Wc{constructor(t,r,i,n,o,s){super(t,r,Ku,i,n),eZ(this,"topOverlay",void 0),eZ(this,"inlineStartOverlay",void 0),this.topOverlay=o,this.inlineStartOverlay=s}createTable(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return new tZ(...r)}shouldBeRendered(){return this.wtSettings.getSetting("shouldRenderTopOverlay")&&this.wtSettings.getSetting("shouldRenderInlineStartOverlay")}resetFixedPosition(){if(this.updateTrimmingContainer(),!this.wot.wtTable.holder.parentNode)return!1;let t=this.clone.wtTable.holder.parentNode;if(this.trimmingContainer===this.domBindings.rootWindow){let n=this.inlineStartOverlay.getOverlayOffset()*(this.isRtl()?-1:1),o=this.topOverlay.getOverlayOffset();ry(t,`${n}px`,`${o}px`)}else Xm(t);let r=Fr(this.clone.wtTable.TABLE),i=wr(this.clone.wtTable.TABLE);return this.wot.wtTable.hasDefinedSize()||(r=0),t.style.height=`${r}px`,t.style.width=`${i}px`,!1}};var bQt=ot(Gt(),1);var rx=class extends Uc{constructor(t,r,i,n){super(t,r,i,n,Pd)}};Zi(rx,yA);Zi(rx,Cy);var iZ=rx;function z2t(e,t,r){return t=U2t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U2t(e){var t=W2t(e,"string");return typeof t=="symbol"?t:t+""}function W2t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nx=class extends Wc{constructor(t,r,i,n){super(t,r,Pd,i,n),z2t(this,"cachedFixedRowsTop",-1),this.cachedFixedRowsTop=this.wtSettings.getSetting("fixedRowsTop")}createTable(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return new iZ(...r)}shouldBeRendered(){return this.wtSettings.getSetting("shouldRenderTopOverlay")}resetFixedPosition(){if(!this.needFullRender||!this.shouldBeRendered()||!this.wot.wtTable.holder.parentNode)return!1;let t=this.clone.wtTable.holder.parentNode,{rootWindow:r}=this.domBindings,i=this.wtSettings.getSetting("preventOverflow"),n=0,o=!1;if(this.trimmingContainer===r&&(!i||i!=="vertical")){let{wtTable:a}=this.wot,l=a.hider.getBoundingClientRect(),c=Math.ceil(l.bottom),d=t.offsetHeight;o=c===d,n=this.getOverlayOffset(),ry(t,"0px",`${n}px`)}else n=this.getScrollPosition(),Xm(t);let s=this.adjustHeaderBordersPosition(n,o);return this.adjustElementsSize(),s}setScrollPosition(t){let r=this.domBindings.rootWindow,i=!1;return this.mainTableScrollableElement===r&&r.scrollY!==t?(r.scrollTo(RC(r),t),i=!0):this.mainTableScrollableElement.scrollTop!==t&&(this.mainTableScrollableElement.scrollTop=t,i=!0),i}onScroll(){this.wtSettings.getSetting("onScrollHorizontally")}sumCellSizes(t,r){let i=this.wtSettings.getSetting("defaultRowHeight"),n=t,o=0;for(;n<r;){let s=this.wot.wtTable.getRowHeight(n);o+=s===void 0?i:s,n+=1}return o}adjustElementsSize(){this.updateTrimmingContainer(),this.needFullRender&&(this.adjustRootElementSize(),this.adjustRootChildrenSize())}adjustRootElementSize(){let{wtTable:t}=this.wot,{rootDocument:r,rootWindow:i}=this.domBindings,n=Rn(r),s=this.clone.wtTable.holder.parentNode.style,a=this.wtSettings.getSetting("preventOverflow");if(this.trimmingContainer!==i||a==="horizontal"){let c=this.wot.wtViewport.getWorkspaceWidth();this.wot.wtOverlays.hasScrollbarRight&&(c-=n),c=Math.min(c,t.wtRootElement.scrollWidth),s.width=`${c}px`}else s.width="";this.clone.wtTable.holder.style.width=s.width;let l=Fr(this.clone.wtTable.TABLE);this.wot.wtTable.hasDefinedSize()||(l=0),s.height=`${l}px`}adjustRootChildrenSize(){let{holder:t}=this.clone.wtTable,r=this.wot.selectionManager.getFocusSelection()?parseInt(Sy.height,10)/2:0;this.clone.wtTable.hider.style.width=this.hider.style.width,t.style.width=t.parentNode.style.width,t.style.height=`${parseInt(t.parentNode.style.height,10)+r}px`}applyToDOM(){let t=this.wtSettings.getSetting("totalRows");if(typeof this.wot.wtViewport.rowsRenderCalculator.startPosition=="number")this.spreader.style.top=`${this.wot.wtViewport.rowsRenderCalculator.startPosition}px`;else if(t===0)this.spreader.style.top="0";else throw new Error("Incorrect value of the rowsRenderCalculator");this.spreader.style.bottom="",this.needFullRender&&this.syncOverlayOffset()}syncOverlayOffset(){let t=this.isRtl()?"right":"left",{spreader:r}=this.clone.wtTable;typeof this.wot.wtViewport.columnsRenderCalculator.startPosition=="number"?r.style[t]=`${this.wot.wtViewport.columnsRenderCalculator.startPosition}px`:r.style[t]=""}scrollTo(t,r){let{wot:i,wtSettings:n}=this,s=(i.cloneSource?i.cloneSource:i).wtTable.holder,a=n.getSetting("columnHeaders"),c=n.getSetting("fixedRowsTop")===0&&a.length>0&&!Ze(s.parentNode,"innerBorderTop")?1:0,d=this.getTableParentOffset(),u=0;if(r){let h=this.wot.wtTable.getRowHeight(t),f=this.wot.wtViewport.getViewportHeight();h>f&&(r=!1)}if(r&&s.offsetHeight!==s.clientHeight&&(u=Rn(this.domBindings.rootDocument)),r){let h=n.getSetting("fixedRowsBottom"),f=n.getSetting("totalRows");d+=this.sumCellSizes(0,t+1),d-=i.wtViewport.getViewportHeight()-this.sumCellSizes(f-h,f),d+=1,d+=c}else d+=this.sumCellSizes(n.getSetting("fixedRowsTop"),t);return d+=u,_K(this.mainTableScrollableElement)===d-c&&c>0&&this.wot.wtOverlays.expandHiderVerticallyBy(c),this.setScrollPosition(d)}getTableParentOffset(){return this.mainTableScrollableElement===this.domBindings.rootWindow?this.wot.wtTable.holderOffset.top:0}getScrollPosition(){return ey(this.mainTableScrollableElement,this.domBindings.rootWindow)}getOverlayOffset(){let{rootWindow:t}=this.domBindings,r=this.wtSettings.getSetting("preventOverflow"),i=0;if(this.trimmingContainer===t&&(!r||r!=="vertical")){let n=this.wot.wtTable.getTotalHeight(),o=this.clone.wtTable.getTotalHeight(),s=n-o;i=Math.max(this.getScrollPosition()-this.getTableParentOffset(),0),i>s&&(i=0)}return i}adjustHeaderBordersPosition(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,{wtSettings:i}=this,n=this.wot.wtTable.holder.parentNode,o=i.getSetting("totalColumns"),s=i.getSetting("preventOverflow")==="horizontal";o?pi(n,"emptyColumns"):ne(n,"emptyColumns");let a=!1;if(!r&&!s){let l=i.getSetting("fixedRowsTop"),c=this.cachedFixedRowsTop!==l,d=i.getSetting("columnHeaders");if((c||l===0)&&d.length>0){let u=Ze(n,"innerBorderTop");this.cachedFixedRowsTop=i.getSetting("fixedRowsTop"),t||i.getSetting("totalRows")===0?(ne(n,"innerBorderTop"),a=!u):(pi(n,"innerBorderTop"),a=u)}}return a}};function rZ(e,t,r){Y2t(e,t),t.set(e,r)}function Y2t(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ff(e,t,r){return t=q2t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q2t(e){var t=$2t(e,"string");return typeof t=="symbol"?t:t+""}function $2t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function M6(e,t,r){return e.set(nZ(e,t),r),r}function ox(e,t){return e.get(nZ(e,t))}function nZ(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var Ry=new WeakMap,_A=new WeakMap,A6=class{constructor(t,r,i,n,o,s){ff(this,"wot",null),rZ(this,Ry,[]),ff(this,"topOverlay",null),ff(this,"bottomOverlay",null),ff(this,"inlineStartOverlay",null),ff(this,"topInlineStartCornerOverlay",null),ff(this,"bottomInlineStartCornerOverlay",null),ff(this,"browserLineHeight",void 0),ff(this,"wtSettings",null),rZ(this,_A,!1),ff(this,"resizeObserver",new ResizeObserver(d=>{ly(()=>{!Array.isArray(d)||!d.length||this.wtSettings.getSetting("onContainerElementResize")})})),this.wot=t,this.wtSettings=n,this.domBindings=i,this.facadeGetter=r,this.wtTable=s;let{rootDocument:a,rootWindow:l}=this.domBindings;this.instance=this.wot,this.eventManager=o,this.scrollbarSize=Rn(a);let c=l.getComputedStyle(s.wtRootElement.parentNode).getPropertyValue("overflow")==="hidden";this.scrollableElement=c?s.holder:iy(s.TABLE),this.initOverlays(),this.hasScrollbarBottom=!1,this.hasScrollbarRight=!1,this.destroyed=!1,this.keyPressed=!1,this.spreaderLastSize={width:null,height:null},this.verticalScrolling=!1,this.horizontalScrolling=!1,this.initBrowserLineHeight(),this.registerListeners(),this.lastScrollX=l.scrollX,this.lastScrollY=l.scrollY}getOverlays(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=[...ox(Ry,this)];return t&&r.push(this.wtTable),r}initBrowserLineHeight(){let{rootWindow:t,rootDocument:r}=this.domBindings,i=t.getComputedStyle(r.body),n=parseInt(i.lineHeight,10),o=parseInt(i.fontSize,10)*1.2;this.browserLineHeight=n||o}initOverlays(){let t=[this.wot,this.facadeGetter,this.wtSettings,this.domBindings];this.topOverlay=new nx(...t),this.bottomOverlay=new XC(...t),this.inlineStartOverlay=new tx(...t),this.topInlineStartCornerOverlay=new ix(...t,this.topOverlay,this.inlineStartOverlay),this.bottomInlineStartCornerOverlay=new GC(...t,this.bottomOverlay,this.inlineStartOverlay),M6(Ry,this,[this.topOverlay,this.bottomOverlay,this.inlineStartOverlay,this.topInlineStartCornerOverlay,this.bottomInlineStartCornerOverlay])}beforeDraw(){M6(_A,this,ox(Ry,this).reduce((t,r)=>r.hasRenderingStateChanged()||t,!1)),ox(Ry,this).forEach(t=>t.updateStateOfRendering("before"))}afterDraw(){this.syncScrollWithMaster(),ox(Ry,this).forEach(t=>{let r=t.hasRenderingStateChanged();t.updateStateOfRendering("after"),r&&!t.needFullRender&&t.reset()})}refreshAll(){if(this.wot.drawn){if(!this.wtTable.holder.parentNode){this.destroy();return}this.wot.draw(!0),this.verticalScrolling&&this.inlineStartOverlay.onScroll(),this.horizontalScrolling&&this.topOverlay.onScroll(),this.verticalScrolling=!1,this.horizontalScrolling=!1}}registerListeners(){let{rootDocument:t,rootWindow:r}=this.domBindings,{mainTableScrollableElement:i}=this.topOverlay,{mainTableScrollableElement:n}=this.inlineStartOverlay;this.eventManager.addEventListener(t.documentElement,"keydown",u=>this.onKeyDown(u)),this.eventManager.addEventListener(t.documentElement,"keyup",()=>this.onKeyUp()),this.eventManager.addEventListener(t,"visibilitychange",()=>this.onKeyUp()),this.eventManager.addEventListener(i,"scroll",u=>this.onTableScroll(u),{passive:!0}),i!==n&&this.eventManager.addEventListener(n,"scroll",u=>this.onTableScroll(u),{passive:!0});let o=r.devicePixelRatio&&r.devicePixelRatio>1,s=this.scrollableElement===r,a=this.wtSettings.getSetting("preventWheel"),l={passive:s};(a||o||!xM())&&this.eventManager.addEventListener(this.wtTable.wtRootElement,"wheel",u=>this.onCloneWheel(u,a),l),[this.topOverlay,this.bottomOverlay,this.inlineStartOverlay,this.topInlineStartCornerOverlay,this.bottomInlineStartCornerOverlay].forEach(u=>{if(u&&u.needFullRender){let{holder:h}=u.clone.wtTable;this.eventManager.addEventListener(h,"wheel",f=>this.onCloneWheel(f,a),l)}});let d;this.eventManager.addEventListener(r,"resize",()=>{clearTimeout(d),d=setTimeout(()=>{this.wtSettings.getSetting("onWindowResize")},200)}),s||this.resizeObserver.observe(this.wtTable.wtRootElement.parentElement)}deregisterListeners(){this.eventManager.clearEvents(!0)}onTableScroll(t){let r=this.domBindings.rootWindow,i=this.inlineStartOverlay.mainTableScrollableElement,n=this.topOverlay.mainTableScrollableElement,o=t.target;this.keyPressed&&(n!==r&&o!==r&&!t.target.contains(n)||i!==r&&o!==r&&!t.target.contains(i))||this.syncScrollPositions(t)}onCloneWheel(t,r){let{rootWindow:i}=this.domBindings,n=this.inlineStartOverlay.mainTableScrollableElement,o=this.topOverlay.mainTableScrollableElement,s=t.target,a=o!==i&&s!==i&&!s.contains(o),l=n!==i&&s!==i&&!s.contains(n);if(this.keyPressed&&(a||l))return;let c=this.translateMouseWheelToScroll(t);(r||this.scrollableElement!==i&&c)&&t.preventDefault()}onKeyDown(t){this.keyPressed=Uu(t.keyCode,"ARROW_UP|ARROW_RIGHT|ARROW_DOWN|ARROW_LEFT")}onKeyUp(){this.keyPressed=!1}translateMouseWheelToScroll(t){let r=isNaN(t.deltaY)?-1*t.wheelDeltaY:t.deltaY,i=isNaN(t.deltaX)?-1*t.wheelDeltaX:t.deltaX;t.deltaMode===1&&(i+=i*this.browserLineHeight,r+=r*this.browserLineHeight);let n=this.scrollVertically(r),o=this.scrollHorizontally(i);return n||o}scrollVertically(t){let r=this.scrollableElement.scrollTop;return this.scrollableElement.scrollTop+=t,r!==this.scrollableElement.scrollTop}scrollHorizontally(t){let r=this.scrollableElement.scrollLeft;return this.scrollableElement.scrollLeft+=t,r!==this.scrollableElement.scrollLeft}syncScrollPositions(){if(this.destroyed)return;let{rootWindow:t}=this.domBindings,r=this.topOverlay.clone.wtTable.holder,i=this.inlineStartOverlay.clone.wtTable.holder,[n,o]=[this.scrollableElement.scrollLeft,this.scrollableElement.scrollTop];if(this.horizontalScrolling=r.scrollLeft!==n||this.lastScrollX!==t.scrollX,this.verticalScrolling=i.scrollTop!==o||this.lastScrollY!==t.scrollY,this.lastScrollX=t.scrollX,this.lastScrollY=t.scrollY,this.horizontalScrolling){r.scrollLeft=n;let s=this.bottomOverlay.needFullRender?this.bottomOverlay.clone.wtTable.holder:null;s&&(s.scrollLeft=n)}this.verticalScrolling&&(i.scrollTop=o),this.refreshAll()}syncScrollWithMaster(){if(!ox(_A,this))return;let t=this.topOverlay.mainTableScrollableElement,{scrollLeft:r,scrollTop:i}=t;this.topOverlay.needFullRender&&(this.topOverlay.clone.wtTable.holder.scrollLeft=r),this.bottomOverlay.needFullRender&&(this.bottomOverlay.clone.wtTable.holder.scrollLeft=r),this.inlineStartOverlay.needFullRender&&(this.inlineStartOverlay.clone.wtTable.holder.scrollTop=i),M6(_A,this,!1)}updateMainScrollableElements(){this.deregisterListeners(),this.inlineStartOverlay.updateMainScrollableElement(),this.topOverlay.updateMainScrollableElement(),this.bottomOverlay.needFullRender&&this.bottomOverlay.updateMainScrollableElement();let{wtTable:t}=this,{rootWindow:r}=this.domBindings;r.getComputedStyle(t.wtRootElement.parentNode).getPropertyValue("overflow")==="hidden"?this.scrollableElement=t.holder:this.scrollableElement=iy(t.TABLE),this.registerListeners()}destroy(){this.resizeObserver.disconnect(),this.eventManager.destroy(),this.topOverlay.destroy(),this.bottomOverlay.clone&&this.bottomOverlay.destroy(),this.inlineStartOverlay.destroy(),this.topInlineStartCornerOverlay&&this.topInlineStartCornerOverlay.destroy(),this.bottomInlineStartCornerOverlay&&this.bottomInlineStartCornerOverlay.clone&&this.bottomInlineStartCornerOverlay.destroy(),this.destroyed=!0}refresh(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.updateLastSpreaderSize()&&this.adjustElementsSize(),this.bottomOverlay.clone&&this.bottomOverlay.refresh(t),this.inlineStartOverlay.refresh(t),this.topOverlay.refresh(t),this.topInlineStartCornerOverlay&&this.topInlineStartCornerOverlay.refresh(t),this.bottomInlineStartCornerOverlay&&this.bottomInlineStartCornerOverlay.clone&&this.bottomInlineStartCornerOverlay.refresh(t)}updateLastSpreaderSize(){let t=this.wtTable.spreader,r=t.clientWidth,i=t.clientHeight,n=r!==this.spreaderLastSize.width||i!==this.spreaderLastSize.height;return n&&(this.spreaderLastSize.width=r,this.spreaderLastSize.height=i),n}adjustElementsSize(){let{wtViewport:t}=this.wot,{wtTable:r}=this,{rootWindow:i}=this.domBindings,n=this.scrollableElement===i,o=this.wtSettings.getSetting("totalColumns"),s=this.wtSettings.getSetting("totalRows"),a=t.getRowHeaderWidth(),c=t.getColumnHeaderHeight()+this.topOverlay.sumCellSizes(0,s)+1,d=a+this.inlineStartOverlay.sumCellSizes(0,o),h=r.hider.style,f=()=>n?!1:this.scrollableElement.scrollTop>Math.max(0,c-r.holder.clientHeight),m=()=>n?!1:this.scrollableElement.scrollLeft>Math.max(0,d-r.holder.clientWidth),g=f()?1:0,p=m()?1:0;if(h.width=`${d+p}px`,h.height=`${c+g}px`,this.scrollbarSize>0){let{scrollHeight:b,scrollWidth:_}=r.wtRootElement,{scrollHeight:E,scrollWidth:O}=r.holder;this.hasScrollbarRight=b<E,this.hasScrollbarBottom=_<O,this.hasScrollbarRight&&r.hider.scrollWidth+this.scrollbarSize>_?this.hasScrollbarBottom=!0:this.hasScrollbarBottom&&r.hider.scrollHeight+this.scrollbarSize>b&&(this.hasScrollbarRight=!0)}this.topOverlay.adjustElementsSize(),this.inlineStartOverlay.adjustElementsSize(),this.bottomOverlay.adjustElementsSize()}expandHiderVerticallyBy(t){let{wtTable:r}=this;r.hider.style.height=`${parseInt(r.hider.style.height,10)+t}px`}expandHiderHorizontallyBy(t){let{wtTable:r}=this;r.hider.style.width=`${parseInt(r.hider.style.width,10)+t}px`}applyToDOM(){this.wtTable.isVisible()&&(this.topOverlay.applyToDOM(),this.bottomOverlay.clone&&this.bottomOverlay.applyToDOM(),this.inlineStartOverlay.applyToDOM())}getParentOverlay(t){if(!t)return null;let r=[this.topOverlay,this.inlineStartOverlay,this.bottomOverlay,this.topInlineStartCornerOverlay,this.bottomInlineStartCornerOverlay],i=null;return Tt(r,n=>{n&&n.clone&&n.clone.wtTable.TABLE.contains(t)&&(i=n.clone)}),i}syncOverlayTableClassNames(){let t=this.wtTable.TABLE,r=[this.topOverlay,this.inlineStartOverlay,this.bottomOverlay,this.topInlineStartCornerOverlay,this.bottomInlineStartCornerOverlay];Tt(r,i=>{i&&(i.clone.wtTable.TABLE.className=t.className)})}},oZ=A6;var jQt=ot(Gt(),1);function sZ(e,t,r){return t=G2t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G2t(e){var t=K2t(e,"string");return typeof t=="symbol"?t:t+""}function K2t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wA=class{constructor(t){sZ(this,"settings",{}),sZ(this,"defaults",Object.freeze(this.getDefaults())),bi(this.defaults,(r,i)=>{if(t[i]!==void 0)this.settings[i]=t[i];else{if(r===void 0)throw new Error(`A required setting "${i}" was not provided`);this.settings[i]=r}})}getDefaults(){return{facade:void 0,table:void 0,isDataViewInstance:!0,externalRowCalculator:!1,stretchH:"none",currentRowClassName:null,currentColumnClassName:null,preventOverflow(){return!1},preventWheel:!1,data:void 0,freezeOverlays:!1,fixedColumnsStart:0,fixedRowsTop:0,fixedRowsBottom:0,shouldRenderInlineStartOverlay:()=>this.getSetting("fixedColumnsStart")>0||this.getSetting("rowHeaders").length>0,shouldRenderTopOverlay:()=>this.getSetting("fixedRowsTop")>0||this.getSetting("columnHeaders").length>0,shouldRenderBottomOverlay:()=>this.getSetting("fixedRowsBottom")>0,minSpareRows:0,rowHeaders(){return[]},columnHeaders(){return[]},totalRows:void 0,totalColumns:void 0,cellRenderer:(t,r,i)=>{let n=this.getSetting("data",t,r);Fc(i,n??"")},columnWidth(){},rowHeight(){},defaultRowHeight:23,defaultColumnWidth:50,selections:null,hideBorderOnMouseDownOver:!1,viewportRowCalculatorOverride:null,viewportColumnCalculatorOverride:null,onCellMouseDown:null,onCellContextMenu:null,onCellMouseOver:null,onCellMouseOut:null,onCellMouseUp:null,onCellDblClick:null,onCellCornerMouseDown:null,onCellCornerDblClick:null,beforeDraw:null,onDraw:null,onBeforeRemoveCellClassNames:null,onAfterDrawSelection:null,onBeforeDrawBorders:null,onBeforeViewportScrollHorizontally:t=>t,onBeforeViewportScrollVertically:t=>t,onScrollHorizontally:null,onScrollVertically:null,onBeforeTouchScroll:null,onAfterMomentumScroll:null,onBeforeStretchingColumnWidth:t=>t,onModifyRowHeaderWidth:null,onModifyGetCellCoords:null,onBeforeHighlightingRowHeader:t=>t,onBeforeHighlightingColumnHeader:t=>t,onWindowResize:null,onContainerElementResize:null,renderAllColumns:!1,renderAllRows:!1,groups:!1,rowHeaderWidth:null,columnHeaderHeight:null,headerClassName:null,rtlMode:!1,ariaTags:!0}}update(t,r){return r===void 0?bi(t,(i,n)=>{this.settings[n]=i}):this.settings[t]=r,this}getSetting(t,r,i,n,o){return typeof this.settings[t]=="function"?this.settings[t](r,i,n,o):r!==void 0&&Array.isArray(this.settings[t])?this.settings[t][r]:this.settings[t]}getSettingPure(t){return this.settings[t]}has(t){return!!this.settings[t]}};var sx=class extends Uc{constructor(t,r,i,n){super(t,r,i,n,"master")}alignOverlaysWithTrimmingContainer(){let t=Id(this.wtRootElement),{rootWindow:r}=this.domBindings;if(t===r)this.wtSettings.getSetting("preventOverflow")||(this.holder.style.overflow="visible",this.wtRootElement.style.overflow="visible");else{let i=t.parentElement,n=Gm(t,"height",r),o=Gm(t,"overflow",r),s=this.holder.style,{scrollWidth:a,scrollHeight:l}=t,c=t.offsetWidth,d=t.offsetHeight;if(i&&["auto","hidden","scroll"].includes(o)){let h=t.cloneNode(!1);h.style.overflow="auto",h.style.position="absolute",t.nextElementSibling?i.insertBefore(h,t.nextElementSibling):i.appendChild(h);let f=parseInt(Hc(h,r).height,10);i.removeChild(h),f===0&&(d=0)}d=Math.min(d,l),s.height=n==="auto"?"auto":`${d}px`,c=Math.min(c,a),s.width=`${c}px`,s.overflow="",this.hasTableHeight=s.height==="auto"?!0:d>0,this.hasTableWidth=c>0}this.isTableVisible=Pc(this.TABLE)}markOversizedColumnHeaders(){let{wtSettings:t}=this,{wtViewport:r}=this.dataAccessObject,i="master",o=t.getSetting("columnHeaders").length;if(o&&!r.hasOversizedColumnHeadersMarked[i]){let a=t.getSetting("rowHeaders").length,l=this.getRenderedColumnsCount();for(let c=0;c<o;c++)for(let d=-1*a;d<l;d++)this.markIfOversizedColumnHeader(d);r.hasOversizedColumnHeadersMarked[i]=!0}}};Zi(sx,cA);Zi(sx,Cy);var aZ=sx;var I6=class{constructor(t,r,i,n,o){this.dataAccessObject=t,this.wot=t.wot,this.instance=this.wot,this.domBindings=r,this.wtSettings=i,this.wtTable=o,this.oversizedRows=[],this.oversizedColumnHeaders=[],this.hasOversizedColumnHeadersMarked={},this.clientHeight=0,this.containerWidth=NaN,this.rowHeaderWidth=NaN,this.rowsVisibleCalculator=null,this.columnsVisibleCalculator=null,this.eventManager=n,this.eventManager.addEventListener(this.domBindings.rootWindow,"resize",()=>{this.clientHeight=this.getWorkspaceHeight()})}getWorkspaceHeight(){let t=this.domBindings.rootDocument,r=this.dataAccessObject.topOverlayTrimmingContainer,i=0;return r===this.domBindings.rootWindow?i=t.documentElement.clientHeight:i=Fr(r)>0&&r.clientHeight>0?r.clientHeight:1/0,i}getWorkspaceWidth(){let{wtSettings:t}=this,{rootDocument:r,rootWindow:i}=this.domBindings,n=this.dataAccessObject.inlineStartOverlayTrimmingContainer,o=r.documentElement.offsetWidth,s=t.getSetting("totalColumns"),a=t.getSetting("preventOverflow"),l=t.getSetting("rtlMode"),c=this.wtTable.TABLE.getBoundingClientRect(),d=l?c.right-o:c.left,u=o-d,h,f;if(a)return wr(this.wtTable.wtRootElement);if(t.getSetting("freezeOverlays")?h=Math.min(u,o):h=Math.min(this.getContainerFillWidth(),u,o),n===i&&s>0&&this.sumColumnWidths(0,s-1)>h)return r.documentElement.clientWidth;if(n!==i&&(f=Gm(this.dataAccessObject.inlineStartOverlayTrimmingContainer,"overflow",i),f==="scroll"||f==="hidden"||f==="auto"))return Math.max(h,n.clientWidth);let m=t.getSetting("stretchH");return m==="none"||!m?Math.max(h,wr(this.wtTable.TABLE)):h}hasVerticalScroll(){return this.wtTable.hider.offsetHeight>this.getWorkspaceHeight()}hasHorizontalScroll(){return this.wtTable.hider.offsetWidth>this.getWorkspaceWidth()}sumColumnWidths(t,r){let i=0,n=t;for(;n<r;)i+=this.wtTable.getColumnWidth(n),n+=1;return i}getContainerFillWidth(){if(this.containerWidth)return this.containerWidth;let t=this.wtTable.holder,r=this.domBindings.rootDocument.createElement("div");r.style.width="100%",r.style.height="1px",t.appendChild(r);let i=r.offsetWidth;return this.containerWidth=i,t.removeChild(r),i}getWorkspaceOffset(){return Kn(this.wtTable.TABLE)}getColumnHeaderHeight(){return this.wtSettings.getSetting("columnHeaders").length?isNaN(this.columnHeaderHeight)&&(this.columnHeaderHeight=Fr(this.wtTable.THEAD)):this.columnHeaderHeight=0,this.columnHeaderHeight}getViewportHeight(){let t=this.getWorkspaceHeight();if(t===1/0)return t;let r=this.getColumnHeaderHeight();return r>0&&(t-=r),t}getRowHeaderWidth(){let t=this.wtSettings.getSetting("rowHeaderWidth"),r=this.wtSettings.getSetting("rowHeaders");if(t){this.rowHeaderWidth=0;for(let i=0,n=r.length;i<n;i++)this.rowHeaderWidth+=t[i]||t}if(isNaN(this.rowHeaderWidth))if(r.length){let i=this.wtTable.TABLE.querySelector("TH");this.rowHeaderWidth=0;for(let n=0,o=r.length;n<o;n++)i?(this.rowHeaderWidth+=wr(i),i=i.nextSibling):this.rowHeaderWidth+=50}else this.rowHeaderWidth=0;return this.rowHeaderWidth=this.wtSettings.getSetting("onModifyRowHeaderWidth",this.rowHeaderWidth)||this.rowHeaderWidth,this.rowHeaderWidth}getViewportWidth(){let t=this.getWorkspaceWidth();if(t===1/0)return t;let r=this.getRowHeaderWidth();return r>0?t-r:t}createRowsCalculator(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,{wtSettings:r,wtTable:i}=this;if(r.getSetting("renderAllRows")&&t===1)return new LC({totalRows:r.getSetting("totalRows")});let n=this.getViewportHeight(),o,s;this.rowHeaderWidth=NaN;let a=this.dataAccessObject.topScrollPosition-this.dataAccessObject.topParentOffset,l=r.getSetting("fixedRowsTop"),c=r.getSetting("fixedRowsBottom"),d=r.getSetting("totalRows");return l&&a>=0&&(s=this.dataAccessObject.topOverlay.sumCellSizes(0,l),a+=s,n-=s),c&&this.dataAccessObject.bottomOverlay.clone&&(s=this.dataAccessObject.bottomOverlay.sumCellSizes(d-c,d),n-=s),i.holder.clientHeight===i.holder.offsetHeight?o=0:o=Rn(this.domBindings.rootDocument),new np({viewportHeight:n,scrollOffset:a,totalRows:r.getSetting("totalRows"),rowHeightFn:u=>i.getRowHeight(u),overrideFn:r.getSettingPure("viewportRowCalculatorOverride"),calculationType:t,horizontalScrollbarHeight:o})}createColumnsCalculator(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,{wtSettings:r,wtTable:i}=this;if(r.getSetting("renderAllColumns")&&t===1)return new NC({totalColumns:r.getSetting("totalColumns")});let n=this.getViewportWidth(),o=Math.abs(this.dataAccessObject.inlineStartScrollPosition)-this.dataAccessObject.inlineStartParentOffset;this.columnHeaderHeight=NaN;let s=r.getSetting("fixedColumnsStart");if(s&&o>=0){let a=this.dataAccessObject.inlineStartOverlay.sumCellSizes(0,s);o+=a,n-=a}return i.holder.clientWidth!==i.holder.offsetWidth&&(n-=Rn(this.domBindings.rootDocument)),new Yu({viewportWidth:n,scrollOffset:o,totalColumns:r.getSetting("totalColumns"),columnWidthFn:a=>i.getColumnWidth(a),overrideFn:r.getSettingPure("viewportColumnCalculatorOverride"),calculationType:t,inlineStartOffset:this.dataAccessObject.inlineStartParentOffset})}createRenderCalculators(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,{wtSettings:r}=this;if(t&&!r.getSetting("renderAllRows")){let i=this.createRowsCalculator(2);t=this.areAllProposedVisibleRowsAlreadyRendered(i)}if(t&&!r.getSetting("renderAllColumns")){let i=this.createColumnsCalculator(2);t=this.areAllProposedVisibleColumnsAlreadyRendered(i)}return t||(this.rowsRenderCalculator=this.createRowsCalculator(1),this.columnsRenderCalculator=this.createColumnsCalculator(1)),this.rowsVisibleCalculator=null,this.columnsVisibleCalculator=null,t}createVisibleCalculators(){this.rowsVisibleCalculator=this.createRowsCalculator(2),this.columnsVisibleCalculator=this.createColumnsCalculator(2)}createPartiallyVisibleCalculators(){this.rowsPartiallyVisibleCalculator=this.createRowsCalculator(3),this.columnsPartiallyVisibleCalculator=this.createColumnsCalculator(3)}areAllProposedVisibleRowsAlreadyRendered(t){if(!this.rowsVisibleCalculator)return!1;let{startRow:r,endRow:i}=t;if(r===null&&i===null){if(!t.isVisibleInTrimmingContainer)return!0;r=this.rowsPartiallyVisibleCalculator.startRow,i=this.rowsPartiallyVisibleCalculator.endRow}let{startRow:n,endRow:o}=this.rowsRenderCalculator;return r<n||r===n&&r>0?!1:!(i>o||i===o&&i<this.wtSettings.getSetting("totalRows")-1)}areAllProposedVisibleColumnsAlreadyRendered(t){if(!this.columnsVisibleCalculator)return!1;let{startColumn:r,endColumn:i}=t;if(r===null&&i===null){if(!t.isVisibleInTrimmingContainer)return!0;r=this.columnsPartiallyVisibleCalculator.startColumn,i=this.columnsPartiallyVisibleCalculator.endColumn}let{startColumn:n,endColumn:o}=this.columnsRenderCalculator;return r<n||r===n&&r>0?!1:!(i>o||i===o&&i<this.wtSettings.getSetting("totalColumns")-1)}resetHasOversizedColumnHeadersMarked(){bi(this.hasOversizedColumnHeadersMarked,(t,r,i)=>{i[r]=void 0})}},cZ=I6;var CA=class extends ap{constructor(t,r){super(t,new wA(r));let i=this.wtSettings.getSetting("facade",this);this.wtTable=new aZ(this.getTableDao(),i,this.domBindings,this.wtSettings),this.wtViewport=new cZ(this.getViewportDao(),this.domBindings,this.wtSettings,this.eventManager,this.wtTable),this.selectionManager=new vA(this.wtSettings.getSetting("selections")),this.wtEvent=new zM(i,this.domBindings,this.wtSettings,this.eventManager,this.wtTable,this.selectionManager),this.wtOverlays=new oZ(this,i,this.domBindings,this.wtSettings,this.eventManager,this.wtTable),this.exportSettingsAsClassNames(),this.findOriginalHeaders()}exportSettingsAsClassNames(){let t={rowHeaders:"htRowHeaders",columnHeaders:"htColumnHeaders"},r=[],i=[];bi(t,(n,o)=>{this.wtSettings.getSetting(o).length&&i.push(n),r.push(n)}),pi(this.wtTable.wtRootElement.parentNode,r),ne(this.wtTable.wtRootElement.parentNode,i)}getViewportDao(){let t=this;return{get wot(){return t},get topOverlayTrimmingContainer(){return t.wtOverlays.topOverlay.trimmingContainer},get inlineStartOverlayTrimmingContainer(){return t.wtOverlays.inlineStartOverlay.trimmingContainer},get topScrollPosition(){return t.wtOverlays.topOverlay.getScrollPosition()},get topParentOffset(){return t.wtOverlays.topOverlay.getTableParentOffset()},get inlineStartScrollPosition(){return t.wtOverlays.inlineStartOverlay.getScrollPosition()},get inlineStartParentOffset(){return t.wtOverlays.inlineStartOverlay.getTableParentOffset()},get topOverlay(){return t.wtOverlays.topOverlay},get inlineStartOverlay(){return t.wtOverlays.inlineStartOverlay},get bottomOverlay(){return t.wtOverlays.bottomOverlay}}}};var ax=class e{constructor(t){t instanceof ap?this._wot=t:this._initFromSettings(t)}_initFromSettings(t){t.facade=r=>{let i=new e(r);return()=>i},this._wot=new CA(t.table,t)}get guid(){return this._wot.guid}get rootDocument(){return this._wot.domBindings.rootDocument}get rootWindow(){return this._wot.domBindings.rootWindow}get wtSettings(){return this._wot.wtSettings}get cloneSource(){return this._wot.cloneSource}get cloneOverlay(){return this._wot.cloneOverlay}get selectionManager(){return this._wot.selectionManager}get wtViewport(){return this._wot.wtViewport}get wtOverlays(){return this._wot.wtOverlays}get wtTable(){return this._wot.wtTable}get wtEvent(){return this._wot.wtEvent}get wtScroll(){return this._wot.wtScroll}get drawn(){return this._wot.drawn}set drawn(t){this._wot.drawn=t}get drawInterrupted(){return this._wot.drawInterrupted}set drawInterrupted(t){this._wot.drawInterrupted=t}get lastMouseOver(){return this._wot.lastMouseOver}set lastMouseOver(t){this._wot.lastMouseOver=t}get momentumScrolling(){return this._wot.momentumScrolling}set momentumScrolling(t){this._wot.momentumScrolling=t}get touchApplied(){return this._wot.touchApplied}set touchApplied(t){this._wot.touchApplied=t}get domBindings(){return this._wot.domBindings}get eventListeners(){return this._wot.eventListeners}set eventListeners(t){this._wot.eventListeners=t}get eventManager(){return this._wot.eventManager}createCellCoords(t,r){return this._wot.createCellCoords(t,r)}createCellRange(t,r,i){return this._wot.createCellRange(t,r,i)}draw(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this._wot.draw(t),this}getCell(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this._wot.getCell(t,r)}scrollViewport(t,r,i,n,o){return this._wot.scrollViewport(t,r,i,n,o)}scrollViewportHorizontally(t,r,i){return this._wot.scrollViewportHorizontally(t,r,i)}scrollViewportVertically(t,r,i){return this._wot.scrollViewportVertically(t,r,i)}getViewport(){return this._wot.getViewport()}getOverlayName(){return this._wot.cloneOverlay?this._wot.cloneOverlay.type:"master"}exportSettingsAsClassNames(){return this._wot.exportSettingsAsClassNames()}update(t,r){return this._wot.wtSettings.update(t,r),this}getSetting(t,r,i,n,o){return this._wot.wtSettings.getSetting(t,r,i,n,o)}hasSetting(t){return this._wot.wtSettings.hasSetting(t)}destroy(){this._wot.destroy()}};function dZ(e){let{isShiftKey:t,isLeftClick:r,isRightClick:i,coords:n,selection:o,controller:s,cellCoordsFactory:a}=e,l=o.isSelected()?o.getSelectedRange().current():null,c=o.isSelectedByCorner(),d=o.isSelectedByRowHeader();if(o.markSource("mouse"),t&&l)n.row>=0&&n.col>=0&&!s.cell?o.setRangeEnd(n):(c||d)&&n.row>=0&&n.col>=0&&!s.cell?o.setRangeEnd(a(n.row,n.col)):c&&n.row<0&&!s.column?o.setRangeEnd(a(l.to.row,n.col)):d&&n.col<0&&!s.row?o.setRangeEnd(a(n.row,l.to.col)):(!c&&!d&&n.col<0||c&&n.col<0)&&!s.row?o.selectRows(Math.max(l.from.row,0),n.row,n.col):(!c&&!d&&n.row<0||d&&n.row<0)&&!s.column&&o.selectColumns(Math.max(l.from.col,0),n.col,n.row);else{let u=!o.inInSelection(n),h=r||i&&u;n.row<0&&n.col>=0&&!s.column?h&&o.selectColumns(n.col,n.col,n.row):n.col<0&&n.row>=0&&!s.row?h&&o.selectRows(n.row,n.row,n.col):n.col>=0&&n.row>=0&&!s.cell?h&&o.setRangeStart(n):n.col<0&&n.row<0&&o.selectAll(!0,!0,{disableHeadersHighlight:!0,focusPosition:{row:0,col:0}})}o.markEndSource()}function X2t(e){let{isLeftClick:t,coords:r,selection:i,controller:n,cellCoordsFactory:o}=e;if(!t)return;let s=i.isSelectedByRowHeader(),a=i.isSelectedByColumnHeader(),l=i.tableProps.countCols(),c=i.tableProps.countRows();i.markSource("mouse"),a&&!n.column?i.setRangeEnd(o(c-1,r.col)):s&&!n.row?i.setRangeEnd(o(r.row,l-1)):n.cell||i.setRangeEnd(r),i.markEndSource()}var Z2t=new Map([["mousedown",dZ],["mouseover",X2t],["touchstart",dZ]]);function k6(e,t){let{coords:r,selection:i,controller:n,cellCoordsFactory:o}=t;Z2t.get(e.type)({coords:r,selection:i,controller:n,cellCoordsFactory:o,isShiftKey:e.shiftKey,isLeftClick:uy(e)||e.type==="touchstart",isRightClick:Ql(e)})}var uZ=new WeakMap,xA=Symbol("rootInstance");function hZ(e){uZ.set(e,!0)}function fZ(e){return e===xA}function Ty(e){return uZ.has(e)}function Q2t(e,t){mZ(e,t),t.add(e)}function l0(e,t,r){mZ(e,t),t.set(e,r)}function mZ(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function dp(e,t,r){return t=J2t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J2t(e){var t=tSt(e,"string");return typeof t=="symbol"?t:t+""}function tSt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bs(e,t){return e.get(lx(e,t))}function Yc(e,t,r){return e.set(lx(e,t),r),r}function lx(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var D6=new WeakMap,SA=new WeakMap,EA=new WeakMap,mf=new WeakMap,Hd=new WeakMap,O6=new WeakMap,P6=new WeakMap,RA=new WeakSet,N6=class{constructor(t){Q2t(this,RA),dp(this,"hot",void 0),dp(this,"eventManager",void 0),dp(this,"settings",void 0),dp(this,"THEAD",void 0),dp(this,"TBODY",void 0),dp(this,"_wt",void 0),dp(this,"activeWt",void 0),l0(this,D6,0),l0(this,SA,0),dp(this,"postponedAdjustElementsSize",!1),l0(this,EA,!1),l0(this,mf,void 0),l0(this,Hd,void 0),l0(this,O6,0),l0(this,P6,0),this.hot=t,this.eventManager=new Qo(this.hot),this.settings=this.hot.getSettings(),this.createElements(),this.registerEvents(),this.initializeWalkontable()}render(){this.hot.isRenderSuspended()||(this.hot.runHooks("beforeRender",this.hot.forceFullRender),this.postponedAdjustElementsSize&&(this.postponedAdjustElementsSize=!1,this.adjustElementsSize(!0)),this._wt.draw(!this.hot.forceFullRender),this.hot.runHooks("afterRender",this.hot.forceFullRender),this.hot.forceFullRender=!1,this.hot.renderCall=!1)}adjustElementsSize(){this.hot.isRenderSuspended()?this.postponedAdjustElementsSize=!0:this._wt.wtOverlays.adjustElementsSize()}getCellAtCoords(t,r){let i=this._wt.getCell(t,r);return i<0?null:i}scrollViewport(t,r,i,n,o){return this._wt.scrollViewport(t,r,i,n,o)}scrollViewportHorizontally(t,r,i){return this._wt.scrollViewportHorizontally(t,r,i)}scrollViewportVertically(t,r,i){return this._wt.scrollViewportVertically(t,r,i)}createElements(){let{rootElement:t,rootDocument:r}=this.hot,i=t.getAttribute("style");i&&t.setAttribute("data-originalstyle",i),ne(t,"handsontable"),Yc(Hd,this,r.createElement("TABLE")),ne(Bs(Hd,this),"htCore"),this.hot.getSettings().tableClassName&&ne(Bs(Hd,this),this.hot.getSettings().tableClassName),this.settings.ariaTags&&(Xe(Bs(Hd,this),[za()]),Xe(t,[qG(),uM(-1),Qv(this.hot.countCols()),oK()])),this.THEAD=r.createElement("THEAD"),Bs(Hd,this).appendChild(this.THEAD),this.TBODY=r.createElement("TBODY"),Bs(Hd,this).appendChild(this.TBODY),this.hot.table=Bs(Hd,this),this.hot.container.insertBefore(Bs(Hd,this),this.hot.container.firstChild)}registerEvents(){let{rootElement:t,rootDocument:r,selection:i,rootWindow:n}=this.hot,o=r.documentElement;this.eventManager.addEventListener(t,"mousedown",a=>{Yc(EA,this,!0),this.isTextSelectionAllowed(a.target)||(DN(n),a.preventDefault(),n.focus())}),this.eventManager.addEventListener(t,"mouseup",()=>{Yc(EA,this,!1)}),this.eventManager.addEventListener(t,"mousemove",a=>{Bs(EA,this)&&!this.isTextSelectionAllowed(a.target)&&(this.settings.fragmentSelection&&DN(n),a.preventDefault())}),this.eventManager.addEventListener(o,"keyup",a=>{i.isInProgress()&&!a.shiftKey&&i.finish()}),this.eventManager.addEventListener(o,"mouseup",a=>{i.isInProgress()&&uy(a)&&i.finish(),Yc(mf,this,!1);let l=gM(r.activeElement);TC(r.activeElement)&&!l||(l||!i.isSelected()&&!i.isSelectedByAnyHeader()&&!t.contains(a.target)&&!Ql(a))&&this.hot.unlisten()}),this.eventManager.addEventListener(o,"contextmenu",a=>{i.isInProgress()&&Ql(a)&&(i.finish(),Yc(mf,this,!1))}),this.eventManager.addEventListener(o,"touchend",()=>{i.isInProgress()&&i.finish(),Yc(mf,this,!1)}),this.eventManager.addEventListener(o,"mousedown",a=>{let l=a.target,c=a.x||a.clientX,d=a.y||a.clientY,u=a.target;if(Bs(mf,this)||!t||!this.hot.view)return;let{holder:h}=this.hot.view._wt.wtTable;if(u===h){let m=Rn(r);if(r.elementFromPoint(c+m,d)!==h||r.elementFromPoint(c,d+m)!==h)return}else for(;u!==o;){if(u===null){if(a.isTargetWebComponent)break;return}if(u===t)return;u=u.parentNode}(typeof this.settings.outsideClickDeselects=="function"?this.settings.outsideClickDeselects(l):this.settings.outsideClickDeselects)?this.hot.deselectCell():this.hot.destroyEditor(!1,!1)});let s=zu(n);for(;s!==null;)this.eventManager.addEventListener(s.document.documentElement,"click",()=>{this.hot.unlisten()}),s=zu(s);this.eventManager.addEventListener(Bs(Hd,this),"selectstart",a=>{this.settings.fragmentSelection||TC(a.target)||a.preventDefault()})}translateFromRenderableToVisualCoords(t){let{row:r,col:i}=t;return this.hot._createCellCoords(...this.translateFromRenderableToVisualIndex(r,i))}translateFromRenderableToVisualIndex(t,r){let i=t>=0?this.hot.rowIndexMapper.getVisualFromRenderableIndex(t):t,n=r>=0?this.hot.columnIndexMapper.getVisualFromRenderableIndex(r):r;return i===null&&(i=t),n===null&&(n=r),[i,n]}countRenderableIndexes(t,r){let i=Math.min(t.getNotTrimmedIndexesLength(),r),n=t.getNearestNotHiddenIndex(i-1,-1);return n===null?0:t.getRenderableFromVisualIndex(n)+1}countRenderableColumns(){return this.countRenderableIndexes(this.hot.columnIndexMapper,this.settings.maxCols)}countRenderableRows(){return this.countRenderableIndexes(this.hot.rowIndexMapper,this.settings.maxRows)}countNotHiddenRowIndexes(t,r){return this.countNotHiddenIndexes(t,r,this.hot.rowIndexMapper,this.countRenderableRows())}countNotHiddenColumnIndexes(t,r){return this.countNotHiddenIndexes(t,r,this.hot.columnIndexMapper,this.countRenderableColumns())}countNotHiddenIndexes(t,r,i,n){if(isNaN(t)||t<0)return 0;let o=i.getNearestNotHiddenIndex(t,r),s=i.getRenderableFromVisualIndex(o);if(!Number.isInteger(s))return 0;let a=0;return r<0?a=s+1:r>0&&(a=n-s),a}countNotHiddenFixedColumnsStart(){let t=this.hot.countCols(),r=Math.min(parseInt(this.settings.fixedColumnsStart,10),t)-1;return this.countNotHiddenColumnIndexes(r,-1)}countNotHiddenFixedRowsTop(){let t=this.hot.countRows(),r=Math.min(parseInt(this.settings.fixedRowsTop,10),t)-1;return this.countNotHiddenRowIndexes(r,-1)}countNotHiddenFixedRowsBottom(){let t=this.hot.countRows(),r=Math.max(t-parseInt(this.settings.fixedRowsBottom,10),0);return this.countNotHiddenRowIndexes(r,1)}countRenderableColumnsInRange(t,r){let i=0;for(let n=t;n<=r;n++)this.hot.columnIndexMapper.getRenderableFromVisualIndex(n)!==null&&(i+=1);return i}countRenderableRowsInRange(t,r){let i=0;for(let n=t;n<=r;n++)this.hot.rowIndexMapper.getRenderableFromVisualIndex(n)!==null&&(i+=1);return i}isMainTableNotFullyCoveredByOverlays(){let t=this.countNotHiddenFixedRowsTop()+this.countNotHiddenFixedRowsBottom(),r=this.countNotHiddenFixedColumnsStart();return this.hot.countRenderedRows()>t&&this.hot.countRenderedCols()>r}initializeWalkontable(){let t={ariaTags:this.settings.ariaTags,rtlMode:this.hot.isRtl(),externalRowCalculator:this.hot.getPlugin("autoRowSize")&&this.hot.getPlugin("autoRowSize").isEnabled(),table:Bs(Hd,this),isDataViewInstance:()=>Ty(this.hot),preventOverflow:()=>this.settings.preventOverflow,preventWheel:()=>this.settings.preventWheel,stretchH:()=>this.settings.stretchH,data:(o,s)=>this.hot.getDataAtCell(...this.translateFromRenderableToVisualIndex(o,s)),totalRows:()=>this.countRenderableRows(),totalColumns:()=>this.countRenderableColumns(),fixedColumnsStart:()=>this.countNotHiddenFixedColumnsStart(),fixedRowsTop:()=>this.countNotHiddenFixedRowsTop(),fixedRowsBottom:()=>this.countNotHiddenFixedRowsBottom(),shouldRenderInlineStartOverlay:()=>this.settings.fixedColumnsStart>0||t.rowHeaders().length>0,shouldRenderTopOverlay:()=>this.settings.fixedRowsTop>0||t.columnHeaders().length>0,shouldRenderBottomOverlay:()=>this.settings.fixedRowsBottom>0,minSpareRows:()=>this.settings.minSpareRows,renderAllRows:this.settings.renderAllRows,renderAllColumns:this.settings.renderAllColumns,rowHeaders:()=>{let o=[];return this.hot.hasRowHeaders()&&o.push((s,a)=>{let l=s>=0?this.hot.rowIndexMapper.getVisualFromRenderableIndex(s):s;this.appendRowHeader(l,a)}),this.hot.runHooks("afterGetRowHeaderRenderers",o),Yc(SA,this,o.length),this.hot.getSettings().ariaTags&&lx(RA,this,pZ).call(this)===this.hot.countCols()&&lx(RA,this,eSt).call(this,Bs(SA,this)),o},columnHeaders:()=>{let o=[];return this.hot.hasColHeaders()&&o.push((s,a)=>{let l=s>=0?this.hot.columnIndexMapper.getVisualFromRenderableIndex(s):s;this.appendColHeader(l,a)}),this.hot.runHooks("afterGetColumnHeaderRenderers",o),Yc(D6,this,o.length),o},columnWidth:o=>{let s=this.hot.columnIndexMapper.getVisualFromRenderableIndex(o);return this.hot.getColWidth(s===null?o:s)},rowHeight:o=>{let s=this.hot.rowIndexMapper.getVisualFromRenderableIndex(o);return this.hot.getRowHeight(s===null?o:s)},cellRenderer:(o,s,a)=>{let[l,c]=this.translateFromRenderableToVisualIndex(o,s),d=this.hot.runHooks("modifyGetCellCoords",l,c),u=l,h=c;Array.isArray(d)&&([u,h]=d);let f=this.hot.getCellMeta(u,h),m=this.hot.colToProp(h),g=this.hot.getDataAtRowProp(u,m);this.hot.hasHook("beforeValueRender")&&(g=this.hot.runHooks("beforeValueRender",g,f)),this.hot.runHooks("beforeRenderer",a,l,c,m,g,f),this.hot.getCellRenderer(f)(this.hot,a,l,c,m,g,f),this.hot.runHooks("afterRenderer",a,l,c,m,g,f)},selections:this.hot.selection.highlight,hideBorderOnMouseDownOver:()=>this.settings.fragmentSelection,onWindowResize:()=>{this.hot&&!this.hot.isDestroyed&&this.hot.refreshDimensions()},onContainerElementResize:()=>{this.hot&&!this.hot.isDestroyed&&Pc(this.hot.rootElement)&&this.hot.refreshDimensions()},onCellMouseDown:(o,s,a,l)=>{let c=this.translateFromRenderableToVisualCoords(s),d={row:!1,column:!1,cell:!1};this.hot.listen(),this.activeWt=l,Yc(mf,this,!0),this.hot.runHooks("beforeOnCellMouseDown",o,c,a,d),!Wu(o)&&(k6(o,{coords:c,selection:this.hot.selection,controller:d,cellCoordsFactory:(u,h)=>this.hot._createCellCoords(u,h)}),this.hot.runHooks("afterOnCellMouseDown",o,c,a),this.activeWt=this._wt)},onCellContextMenu:(o,s,a,l)=>{let c=this.translateFromRenderableToVisualCoords(s);this.activeWt=l,Yc(mf,this,!1),this.hot.selection.isInProgress()&&this.hot.selection.finish(),this.hot.runHooks("beforeOnCellContextMenu",o,c,a),!Wu(o)&&(this.hot.runHooks("afterOnCellContextMenu",o,c,a),this.activeWt=this._wt)},onCellMouseOut:(o,s,a,l)=>{let c=this.translateFromRenderableToVisualCoords(s);this.activeWt=l,this.hot.runHooks("beforeOnCellMouseOut",o,c,a),!Wu(o)&&(this.hot.runHooks("afterOnCellMouseOut",o,c,a),this.activeWt=this._wt)},onCellMouseOver:(o,s,a,l)=>{let c=this.translateFromRenderableToVisualCoords(s),d={row:!1,column:!1,cell:!1};this.activeWt=l,this.hot.runHooks("beforeOnCellMouseOver",o,c,a,d),!Wu(o)&&(Bs(mf,this)&&k6(o,{coords:c,selection:this.hot.selection,controller:d,cellCoordsFactory:(u,h)=>this.hot._createCellCoords(u,h)}),this.hot.runHooks("afterOnCellMouseOver",o,c,a),this.activeWt=this._wt)},onCellMouseUp:(o,s,a,l)=>{let c=this.translateFromRenderableToVisualCoords(s);this.activeWt=l,this.hot.runHooks("beforeOnCellMouseUp",o,c,a),!(Wu(o)||this.hot.isDestroyed)&&(this.hot.runHooks("afterOnCellMouseUp",o,c,a),this.activeWt=this._wt)},onCellCornerMouseDown:o=>{o.preventDefault(),this.hot.runHooks("afterOnCellCornerMouseDown",o)},onCellCornerDblClick:o=>{o.preventDefault(),this.hot.runHooks("afterOnCellCornerDblClick",o)},beforeDraw:(o,s)=>this.beforeRender(o,s),onDraw:o=>this.afterRender(o),onBeforeViewportScrollVertically:o=>{let s=this.hot.rowIndexMapper,a=o<0,l=o;return!a&&(l=s.getVisualFromRenderableIndex(o),l===null)?o:(l=this.hot.runHooks("beforeViewportScrollVertically",l),this.hot.runHooks("beforeViewportScroll"),a?l:s.getRenderableFromVisualIndex(l))},onBeforeViewportScrollHorizontally:o=>{let s=this.hot.columnIndexMapper,a=o<0,l=o;return!a&&(l=s.getVisualFromRenderableIndex(o),l===null)?o:(l=this.hot.runHooks("beforeViewportScrollHorizontally",l),this.hot.runHooks("beforeViewportScroll"),a?l:s.getRenderableFromVisualIndex(l))},onScrollVertically:()=>{this.hot.runHooks("afterScrollVertically"),this.hot.runHooks("afterScroll")},onScrollHorizontally:()=>{this.hot.runHooks("afterScrollHorizontally"),this.hot.runHooks("afterScroll")},onBeforeRemoveCellClassNames:()=>this.hot.runHooks("beforeRemoveCellClassNames"),onBeforeHighlightingRowHeader:(o,s,a)=>{let l=this.hot.rowIndexMapper,c=o<0,d=o;c||(d=l.getVisualFromRenderableIndex(o));let u=this.hot.runHooks("beforeHighlightingRowHeader",d,s,a);return c?u:l.getRenderableFromVisualIndex(l.getNearestNotHiddenIndex(u,1))},onBeforeHighlightingColumnHeader:(o,s,a)=>{let l=this.hot.columnIndexMapper,c=o<0,d=o;c||(d=l.getVisualFromRenderableIndex(o));let u=this.hot.runHooks("beforeHighlightingColumnHeader",d,s,a);return c?u:l.getRenderableFromVisualIndex(l.getNearestNotHiddenIndex(u,1))},onAfterDrawSelection:(o,s,a)=>{let l,[c,d]=this.translateFromRenderableToVisualIndex(o,s),u=this.hot.selection.getSelectedRange();if(u.size()>0){let f=u.peekByIndex(a??0);l=[f.from.row,f.from.col,f.to.row,f.to.col]}return this.hot.runHooks("afterDrawSelection",c,d,l,a)},onBeforeDrawBorders:(o,s)=>{let[a,l,c,d]=o,u=[this.hot.rowIndexMapper.getVisualFromRenderableIndex(a),this.hot.columnIndexMapper.getVisualFromRenderableIndex(l),this.hot.rowIndexMapper.getVisualFromRenderableIndex(c),this.hot.columnIndexMapper.getVisualFromRenderableIndex(d)];return this.hot.runHooks("beforeDrawBorders",u,s)},onBeforeTouchScroll:()=>this.hot.runHooks("beforeTouchScroll"),onAfterMomentumScroll:()=>this.hot.runHooks("afterMomentumScroll"),onBeforeStretchingColumnWidth:(o,s)=>{let a=this.hot.columnIndexMapper.getVisualFromRenderableIndex(s);return this.hot.runHooks("beforeStretchingColumnWidth",o,a)},onModifyRowHeaderWidth:o=>this.hot.runHooks("modifyRowHeaderWidth",o),onModifyGetCellCoords:(o,s,a)=>{let l=this.hot.rowIndexMapper,c=this.hot.columnIndexMapper,d=s>=0?c.getVisualFromRenderableIndex(s):s,u=o>=0?l.getVisualFromRenderableIndex(o):o,h=this.hot.runHooks("modifyGetCellCoords",u,d,a);if(Array.isArray(h)){let[f,m,g,p]=h;return[f>=0?l.getRenderableFromVisualIndex(l.getNearestNotHiddenIndex(f,1)):f,m>=0?c.getRenderableFromVisualIndex(c.getNearestNotHiddenIndex(m,1)):m,g>=0?l.getRenderableFromVisualIndex(l.getNearestNotHiddenIndex(g,-1)):g,p>=0?c.getRenderableFromVisualIndex(c.getNearestNotHiddenIndex(p,-1)):p]}},viewportRowCalculatorOverride:o=>{let s=this.settings.viewportRowRenderingOffset;if(s==="auto"&&this.settings.fixedRowsTop&&(s=10),s>0||s==="auto"){let a=this.countRenderableRows(),l=o.startRow,c=o.endRow;if(typeof s=="number")o.startRow=Math.max(l-s,0),o.endRow=Math.min(c+s,a-1);else if(s==="auto"){let d=Math.ceil(c/a*12);o.startRow=Math.max(l-d,0),o.endRow=Math.min(c+d,a-1)}}this.hot.runHooks("afterViewportRowCalculatorOverride",o)},viewportColumnCalculatorOverride:o=>{let s=this.settings.viewportColumnRenderingOffset;if(s==="auto"&&this.settings.fixedColumnsStart&&(s=10),s>0||s==="auto"){let a=this.countRenderableColumns(),l=o.startColumn,c=o.endColumn;if(typeof s=="number"&&(o.startColumn=Math.max(l-s,0),o.endColumn=Math.min(c+s,a-1)),s==="auto"){let d=Math.ceil(c/a*6);o.startColumn=Math.max(l-d,0),o.endColumn=Math.min(c+d,a-1)}}this.hot.runHooks("afterViewportColumnCalculatorOverride",o)},rowHeaderWidth:()=>this.settings.rowHeaderWidth,columnHeaderHeight:()=>{let o=this.hot.runHooks("modifyColumnHeaderHeight");return this.settings.columnHeaderHeight||o}};this.hot.runHooks("beforeInitWalkontable",t),this._wt=new ax(t),this.activeWt=this._wt;let r=this._wt.wtTable.spreader,{width:i,height:n}=this.hot.rootElement.getBoundingClientRect();this.setLastSize(i,n),this.eventManager.addEventListener(r,"mousedown",o=>{o.target===r&&o.which===3&&o.stopPropagation()}),this.eventManager.addEventListener(r,"contextmenu",o=>{o.target===r&&o.which===3&&o.stopPropagation()}),this.eventManager.addEventListener(this.hot.rootDocument.documentElement,"click",()=>{this.settings.observeDOMVisibility&&this._wt.drawInterrupted&&(this.hot.forceFullRender=!0,this.render())})}isTextSelectionAllowed(t){if(TC(t))return!0;let r=Ad(t,this.hot.view._wt.wtTable.spreader);return!!(this.settings.fragmentSelection===!0&&r||this.settings.fragmentSelection==="cell"&&this.isSelectedOnlyCell()&&r||!this.settings.fragmentSelection&&this.isCellEdited()&&this.isSelectedOnlyCell())}isMouseDown(){return Bs(mf,this)}isSelectedOnlyCell(){var t,r;return(t=(r=this.hot.getSelectedRangeLast())===null||r===void 0?void 0:r.isSingleCell())!==null&&t!==void 0?t:!1}isCellEdited(){let t=this.hot.getActiveEditor();return t&&t.isOpened()}beforeRender(t,r){t&&this.hot.runHooks("beforeViewRender",this.hot.forceFullRender,r)}afterRender(t){t&&this.hot.runHooks("afterViewRender",this.hot.forceFullRender)}appendRowHeader(t,r){if(r.firstChild){let i=r.firstChild;if(!Ze(i,"relative")){Ps(r),this.appendRowHeader(t,r);return}this.updateCellHeader(i.querySelector(".rowHeader"),t,this.hot.getRowHeader)}else{let{rootDocument:i,getRowHeader:n}=this.hot,o=i.createElement("div"),s=i.createElement("span");o.className="relative",s.className="rowHeader",this.updateCellHeader(s,t,n),o.appendChild(s),r.appendChild(o)}this.hot.runHooks("afterGetRowHeader",t,r)}appendColHeader(t,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hot.getColHeader,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(r.firstChild){let o=r.firstChild;Ze(o,"relative")?this.updateCellHeader(o.querySelector(".colHeader"),t,i,n):(Ps(r),this.appendColHeader(t,r,i,n))}else{let{rootDocument:o}=this.hot,s=o.createElement("div"),a=o.createElement("span");s.className="relative",a.className="colHeader",this.settings.ariaTags&&(Xe(s,...za()),Xe(a,...za())),this.updateCellHeader(a,t,i,n),s.appendChild(a),r.appendChild(s)}this.hot.runHooks("afterGetColHeader",t,r,n)}updateCellHeader(t,r,i){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=r,s=this._wt.wtOverlays.getParentOverlay(t)||this._wt;t.parentNode&&(Ze(t,"colHeader")?o=s.wtTable.columnFilter.sourceToRendered(r):Ze(t,"rowHeader")&&(o=s.wtTable.rowFilter.sourceToRendered(r))),o>-1?Lc(t,i(r,n)):(Fc(t,"\xA0"),ne(t,"cornerHeader"))}maximumVisibleElementWidth(t){let i=this._wt.wtViewport.getWorkspaceWidth()-t;return i>0?i:0}maximumVisibleElementHeight(t){let i=this._wt.wtViewport.getWorkspaceHeight()-t;return i>0?i:0}setLastSize(t,r){Yc(O6,this,t),Yc(P6,this,r)}getLastSize(){return{width:Bs(O6,this),height:Bs(P6,this)}}getFirstFullyVisibleRow(){return this.hot.rowIndexMapper.getVisualFromRenderableIndex(this.hot.view._wt.wtScroll.getFirstVisibleRow())}getLastFullyVisibleRow(){return this.hot.rowIndexMapper.getVisualFromRenderableIndex(this.hot.view._wt.wtScroll.getLastVisibleRow())}getFirstFullyVisibleColumn(){return this.hot.columnIndexMapper.getVisualFromRenderableIndex(this.hot.view._wt.wtScroll.getFirstVisibleColumn())}getLastFullyVisibleColumn(){return this.hot.columnIndexMapper.getVisualFromRenderableIndex(this.hot.view._wt.wtScroll.getLastVisibleColumn())}getFirstPartiallyVisibleRow(){return this.hot.rowIndexMapper.getVisualFromRenderableIndex(this.hot.view._wt.wtScroll.getFirstPartiallyVisibleRow())}getLastPartiallyVisibleRow(){return this.hot.rowIndexMapper.getVisualFromRenderableIndex(this.hot.view._wt.wtScroll.getLastPartiallyVisibleRow())}getFirstPartiallyVisibleColumn(){return this.hot.columnIndexMapper.getVisualFromRenderableIndex(this.hot.view._wt.wtScroll.getFirstPartiallyVisibleColumn())}getLastPartiallyVisibleColumn(){return this.hot.columnIndexMapper.getVisualFromRenderableIndex(this.hot.view._wt.wtScroll.getLastPartiallyVisibleColumn())}getColumnHeadersCount(){return Bs(D6,this)}getRowHeadersCount(){return Bs(SA,this)}getViewportWidth(){return this.hot.view._wt.wtViewport.getViewportWidth()}getWorkspaceWidth(){return this.hot.view._wt.wtViewport.getWorkspaceWidth()}getViewportHeight(){return this.hot.view._wt.wtViewport.getViewportHeight()}getWorkspaceHeight(){return this.hot.view._wt.wtViewport.getWorkspaceHeight()}destroy(){this._wt.destroy(),this.eventManager.destroy()}};function pZ(){return parseInt(this.hot.rootElement.getAttribute(Qv()[0]),10)}function eSt(e){let t=lx(RA,this,pZ).call(this)+e;Xe(this.hot.rootElement,...Qv(t))}var gZ=N6;var LJt=ot(Gt(),1),FJt=ot(we(),1);var OJt=ot(we(),1);var iSt="ABCDEFGHIJKLMNOPQRSTUVWXYZ",bZ=iSt.length;function vZ(e){let t=e+1,r="",i;for(;t>0;)i=(t-1)%bZ,r=String.fromCharCode(65+i)+r,t=parseInt((t-i)/bZ,10);return r}function L6(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=e,i=[];return(!Array.isArray(e)||!Array.isArray(e[0]))&&(r=[e]),r.forEach((n,o)=>{Array.isArray(n)?n.forEach((s,a)=>{i.push([o+t,a,s])}):Object.keys(n).forEach(s=>{i.push([o+t,s,n[s]])})}),i}function TA(e){let t=0;return Array.isArray(e)&&(e[0]&&Array.isArray(e[0])?t=e[0].length:e[0]&&gi(e[0])&&(t=sy(e[0]))),t}function yZ(e){return!!(Array.isArray(e)&&e.length&&e.every(t=>Array.isArray(t)))}function _Z(e){return!!(Array.isArray(e)&&e.length&&e.every(t=>typeof t=="object"&&!Array.isArray(t)&&t!==null))}function cx(e,t,r){return t=rSt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rSt(e){var t=nSt(e,"string");return typeof t=="symbol"?t:t+""}function nSt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var F6=class{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];cx(this,"hot",void 0),cx(this,"data",void 0),cx(this,"dataType","array"),cx(this,"colToProp",()=>{}),cx(this,"propToCol",()=>{}),this.hot=t,this.data=r}modifyRowData(t){let r;return this.hot.hasHook("modifyRowData")&&(r=this.hot.runHooks("modifyRowData",t)),r!==void 0&&!Number.isInteger(r)?r:this.data[t]}getData(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return!this.data||this.data.length===0?this.data:this.getByRange(null,null,t)}setData(t){this.data=t}getAtColumn(t){let r=[];return Tt(this.data,(i,n)=>{let o=this.getAtCell(n,t);r.push(o)}),r}getAtRow(t,r,i){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=r===void 0&&i===void 0,{dataDotNotation:s}=this.hot.getSettings(),a=null,l=null;if(a=this.modifyRowData(t),Array.isArray(a))l=[],o?a.forEach((c,d)=>{l[d]=this.getAtPhysicalCell(t,d,a)}):Oe(r,i,c=>{l[c-r]=this.getAtPhysicalCell(t,c,a)});else if(gi(a)||Mr(a))if(n?l=[]:l={},!o||n){let d=this.countFirstRowKeys()-1;Oe(0,d,u=>{let h=this.colToProp(u);if(u>=(r||0)&&u<=(i||d)&&!Number.isInteger(h)){let f=this.getAtPhysicalCell(t,h,a);n?l.push(f):s?wM(l,h,f):l[h]=f}})}else bi(a,(c,d)=>{let u=this.getAtPhysicalCell(t,d,a);s?wM(l,d,u):l[d]=u});return l}setAtCell(t,r,i){if(!(t>=this.countRows()||r>=this.countFirstRowKeys())){if(this.hot.hasHook("modifySourceData")){let n=va(i);this.hot.runHooks("modifySourceData",t,r,n,"set"),n.isTouched()&&(i=n.value)}Number.isInteger(r)?this.data[t][r]=i:wM(this.data[t],r,i)}}getAtPhysicalCell(t,r,i){let n=null;if(i)if(typeof r=="string"){let{dataDotNotation:o}=this.hot.getSettings();n=o?WK(i,r):i[r]}else typeof r=="function"?n=r(i):n=i[r];if(this.hot.hasHook("modifySourceData")){let o=va(n);this.hot.runHooks("modifySourceData",t,r,o,"get"),o.isTouched()&&(n=o.value)}return n}getAtCell(t,r){let i=this.modifyRowData(t);return this.getAtPhysicalCell(t,this.colToProp(r),i)}getByRange(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=!1,o=null,s=null,a=null,l=null;t===null||r===null?(n=!0,o=0,a=this.countRows()-1):(o=Math.min(t.row,r.row),s=Math.min(t.col,r.col),a=Math.max(t.row,r.row),l=Math.max(t.col,r.col));let c=[];return Oe(o,a,d=>{c.push(n?this.getAtRow(d,void 0,void 0,i):this.getAtRow(d,s,l,i))}),c}countRows(){if(this.hot.hasHook("modifySourceLength")){let t=this.hot.runHooks("modifySourceLength");if(Number.isInteger(t))return t}return this.data.length}countFirstRowKeys(){return TA(this.data)}destroy(){this.data=null,this.hot=null}},wZ=F6;var mee=ot(Gt(),1),pee=ot(yn(),1),gee=ot(_n(),1),bee=ot(wn(),1),vee=ot(Cn(),1),yee=ot(xn(),1),_ee=ot(Sn(),1),wee=ot(En(),1);var kte=ot(Gt(),1);var rte=ot(we(),1);var WJt=ot(Gt(),1),YJt=ot(we(),1);function CZ(e,t,r){return t=oSt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oSt(e){var t=sSt(e,"string");return typeof t=="symbol"?t:t+""}function sSt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wa=class{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;CZ(this,"indexedValues",[]),CZ(this,"initValueOrFn",void 0),this.initValueOrFn=t}getValues(){return this.indexedValues}getValueAtIndex(t){let r=this.indexedValues;if(t<r.length)return r[t]}setValues(t){this.indexedValues=t.slice(),this.runLocalHooks("change")}setValueAtIndex(t,r){return t<this.indexedValues.length?(this.indexedValues[t]=r,this.runLocalHooks("change"),!0):!1}clear(){this.setDefaultValues()}getLength(){return this.getValues().length}setDefaultValues(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.indexedValues.length;this.indexedValues.length=0,Mr(this.initValueOrFn)?Oe(t-1,r=>this.indexedValues.push(this.initValueOrFn(r))):Oe(t-1,()=>this.indexedValues.push(this.initValueOrFn)),this.runLocalHooks("change")}init(t){return this.setDefaultValues(t),this.runLocalHooks("init"),this}insert(){this.runLocalHooks("change")}remove(){this.runLocalHooks("change")}destroy(){this.clearLocalHooks(),this.indexedValues=null,this.initValueOrFn=null}};Zi(Wa,jn);function My(e,t,r,i){let n=r.length?r[0]:void 0;return[...e.slice(0,n),...r.map((o,s)=>Mr(i)?i(o,s):i),...n===void 0?[]:e.slice(n)]}function Ay(e,t){return cs(e,(r,i)=>t.includes(i)===!1)}var js=class extends Wa{insert(t,r){this.indexedValues=My(this.indexedValues,t,r,this.initValueOrFn),super.insert(t,r)}remove(t){this.indexedValues=Ay(this.indexedValues,t),super.remove(t)}};var Xu=class extends js{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;super(t)}getHiddenIndexes(){return cn(this.getValues(),(t,r,i)=>(r&&t.push(i),t),[])}};var ute=ot(Gt(),1);function Iy(e,t,r){return[...e.slice(0,t),...r,...e.slice(t)]}function pf(e,t){return cs(e,r=>t.includes(r)===!1)}function up(e,t){return xi(e,r=>r-t.filter(i=>i<r).length)}function hp(e,t){let r=t[0],i=t.length;return xi(e,n=>n>=r?n+i:n)}function aSt(e,t,r){return t=lSt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lSt(e){var t=cSt(e,"string");return typeof t=="symbol"?t:t+""}function cSt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zu=class extends Wa{constructor(){super(...arguments),aSt(this,"orderOfIndexes",[])}getValues(){return this.orderOfIndexes.map(t=>this.indexedValues[t])}setValues(t){this.orderOfIndexes=[...Array(t.length).keys()],super.setValues(t)}setValueAtIndex(t,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.orderOfIndexes.length;return t<this.indexedValues.length?(this.indexedValues[t]=r,this.orderOfIndexes.includes(t)===!1&&this.orderOfIndexes.splice(i,0,t),this.runLocalHooks("change"),!0):!1}clearValue(t){this.orderOfIndexes=pf(this.orderOfIndexes,[t]),Mr(this.initValueOrFn)?super.setValueAtIndex(t,this.initValueOrFn(t)):super.setValueAtIndex(t,this.initValueOrFn)}getLength(){return this.orderOfIndexes.length}setDefaultValues(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.indexedValues.length;this.orderOfIndexes.length=0,super.setDefaultValues(t)}insert(t,r){this.indexedValues=My(this.indexedValues,t,r,this.initValueOrFn),this.orderOfIndexes=hp(this.orderOfIndexes,r),super.insert(t,r)}remove(t){this.indexedValues=Ay(this.indexedValues,t),this.orderOfIndexes=pf(this.orderOfIndexes,t),this.orderOfIndexes=up(this.orderOfIndexes,t),super.remove(t)}getEntries(){return this.orderOfIndexes.map(t=>[t,this.getValueAtIndex(t)])}};var vte=ot(we(),1);var qc=class extends js{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;super(t)}getTrimmedIndexes(){return cn(this.getValues(),(t,r,i)=>(r&&t.push(i),t),[])}};var Cte=ot(Gt(),1);var xZ=new Map([["indexesSequence",{getListWithInsertedItems:Iy,getListWithRemovedItems:pf}],["physicallyIndexed",{getListWithInsertedItems:My,getListWithRemovedItems:Ay}]]),dx=e=>{if(xZ.has(e)===!1)throw new Error(`Alter strategy with ID '${e}' does not exist.`);return xZ.get(e)};var ky=class extends Wa{constructor(){super(t=>t)}insert(t,r){let i=hp(this.indexedValues,r);this.indexedValues=Iy(i,t,r),super.insert(t,r)}remove(t){let r=pf(this.indexedValues,t);this.indexedValues=up(r,t),super.remove(t)}};var SZ=new Map([["hiding",Xu],["index",Wa],["linkedPhysicalIndexToValue",Zu],["physicalIndexToValue",js],["trimming",qc]]);function EZ(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!SZ.has(e))throw new Error(`The provided map type ("${e}") does not exist.`);return new(SZ.get(e))(t)}var Yte=ot(Gt(),1),qte=ot(we(),1);var jte=ot(Gt(),1);function dSt(e,t,r){return t=uSt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uSt(e){var t=hSt(e,"string");return typeof t=="symbol"?t:t+""}function hSt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RZ=0,c0=class{constructor(){dSt(this,"collection",new Map)}register(t,r){this.collection.has(t)===!1&&(this.collection.set(t,r),r.addLocalHook("change",()=>this.runLocalHooks("change",r)),RZ+=1)}unregister(t){let r=this.collection.get(t);Ne(r)&&(r.destroy(),this.collection.delete(t),this.runLocalHooks("change",r),RZ-=1)}unregisterAll(){this.collection.forEach((t,r)=>this.unregister(r)),this.collection.clear()}get(t){return _r(t)?Array.from(this.collection.values()):this.collection.get(t)}getLength(){return this.collection.size}removeFromEvery(t){this.collection.forEach(r=>{r.remove(t)})}insertToEvery(t,r){this.collection.forEach(i=>{i.insert(t,r)})}initEvery(t){this.collection.forEach(r=>{r.init(t)})}};Zi(c0,jn);function H6(e,t,r){return t=fSt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fSt(e){var t=mSt(e,"string");return typeof t=="symbol"?t:t+""}function mSt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ux=class extends c0{constructor(t,r){super(),H6(this,"mergedValuesCache",[]),H6(this,"aggregationFunction",void 0),H6(this,"fallbackValue",void 0),this.aggregationFunction=t,this.fallbackValue=r}getMergedValues(){if((arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0)return this.mergedValuesCache;if(this.getLength()===0)return[];let r=xi(this.get(),o=>o.getValues()),i=[],n=Ne(r[0])&&r[0].length||0;for(let o=0;o<n;o+=1){let s=[];for(let a=0;a<this.getLength();a+=1)s.push(r[a][o]);i.push(s)}return xi(i,this.aggregationFunction)}getMergedValueAtIndex(t,r){let i=this.getMergedValues(r)[t];return Ne(i)?i:this.fallbackValue}updateCache(){this.mergedValuesCache=this.getMergedValues(!1)}};var ree=ot(Gt(),1),nee=ot(yn(),1),oee=ot(_n(),1),see=ot(wn(),1),aee=ot(Cn(),1),lee=ot(xn(),1),cee=ot(Sn(),1),dee=ot(En(),1);var Zte=ot(Gt(),1);function pSt(e,t,r){gSt(e,t),t.set(e,r)}function gSt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function bSt(e,t,r){return e.set(TZ(e,t),r),r}function vSt(e,t){return e.get(TZ(e,t))}function TZ(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var B6=new WeakMap,hx=class{constructor(){pSt(this,B6,[])}subscribe(t){return this.addLocalHook("change",t),this._write(vSt(B6,this)),this}unsubscribe(){return this.runLocalHooks("unsubscribe"),this.clearLocalHooks(),this}_write(t){return t.length>0&&this.runLocalHooks("change",t),this}_writeInitialChanges(t){bSt(B6,this,t)}};Zi(hx,jn);var eee=ot(we(),1);function j6(e,t){let r=[],i=0,n=0;for(;i<e.length&&n<t.length;i++,n++)e[i]!==t[n]&&r.push({op:"replace",index:n,oldValue:e[i],newValue:t[n]});for(;i<t.length;i++)r.push({op:"insert",index:i,oldValue:void 0,newValue:t[i]});for(;n<e.length;n++)r.push({op:"remove",index:n,oldValue:e[n],newValue:void 0});return r}function fx(e,t,r){ySt(e,t),t.set(e,r)}function ySt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function $c(e,t){return e.get(MZ(e,t))}function MA(e,t,r){return e.set(MZ(e,t),r),r}function MZ(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var AA=new WeakMap,mx=new WeakMap,IA=new WeakMap,kA=new WeakMap,DA=new WeakMap,OA=class{constructor(){let{initialIndexValue:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};fx(this,AA,new Set),fx(this,mx,[]),fx(this,IA,[]),fx(this,kA,!1),fx(this,DA,!1),MA(DA,this,t??!1)}createObserver(){let t=new hx;return $c(AA,this).add(t),t.addLocalHook("unsubscribe",()=>{$c(AA,this).delete(t)}),t._writeInitialChanges(j6($c(mx,this),$c(IA,this))),t}emit(t){let r=$c(IA,this);(!$c(kA,this)||$c(mx,this).length!==t.length)&&(t.length===0?t=new Array(r.length).fill($c(DA,this)):MA(mx,this,new Array(t.length).fill($c(DA,this))),$c(kA,this)||(MA(kA,this,!0),r=$c(mx,this)));let i=j6(r,t);$c(AA,this).forEach(n=>n._write(i)),MA(IA,this,t)}};function Ya(e,t,r){return t=_St(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _St(e){var t=wSt(e,"string");return typeof t=="symbol"?t:t+""}function wSt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var d0=class{constructor(){Ya(this,"indexesSequence",new ky),Ya(this,"trimmingMapsCollection",new ux(t=>t.some(r=>r===!0),!1)),Ya(this,"hidingMapsCollection",new ux(t=>t.some(r=>r===!0),!1)),Ya(this,"variousMapsCollection",new c0),Ya(this,"hidingChangesObservable",new OA({initialIndexValue:!1})),Ya(this,"notTrimmedIndexesCache",[]),Ya(this,"notHiddenIndexesCache",[]),Ya(this,"isBatched",!1),Ya(this,"indexesSequenceChanged",!1),Ya(this,"indexesChangeSource",void 0),Ya(this,"trimmedIndexesChanged",!1),Ya(this,"hiddenIndexesChanged",!1),Ya(this,"renderablePhysicalIndexesCache",[]),Ya(this,"fromPhysicalToVisualIndexesCache",new Map),Ya(this,"fromVisualToRenderableIndexesCache",new Map),this.indexesSequence.addLocalHook("change",()=>{this.indexesSequenceChanged=!0,this.updateCache(),this.runLocalHooks("indexesSequenceChange",this.indexesChangeSource),this.runLocalHooks("change",this.indexesSequence,null)}),this.trimmingMapsCollection.addLocalHook("change",t=>{this.trimmedIndexesChanged=!0,this.updateCache(),this.runLocalHooks("change",t,this.trimmingMapsCollection)}),this.hidingMapsCollection.addLocalHook("change",t=>{this.hiddenIndexesChanged=!0,this.updateCache(),this.runLocalHooks("change",t,this.hidingMapsCollection)}),this.variousMapsCollection.addLocalHook("change",t=>{this.runLocalHooks("change",t,this.variousMapsCollection)})}suspendOperations(){this.isBatched=!0}resumeOperations(){this.isBatched=!1,this.updateCache()}createChangesObserver(t){if(t!=="hiding")throw new Error(`Unsupported index map type "${t}".`);return this.hidingChangesObservable.createObserver()}createAndRegisterIndexMap(t,r,i){return this.registerMap(t,EZ(r,i))}registerMap(t,r){if(this.trimmingMapsCollection.get(t)||this.hidingMapsCollection.get(t)||this.variousMapsCollection.get(t))throw Error(`Map with name "${t}" has been already registered.`);r instanceof qc?this.trimmingMapsCollection.register(t,r):r instanceof Xu?this.hidingMapsCollection.register(t,r):this.variousMapsCollection.register(t,r);let i=this.getNumberOfIndexes();return i>0&&r.init(i),r}unregisterMap(t){this.trimmingMapsCollection.unregister(t),this.hidingMapsCollection.unregister(t),this.variousMapsCollection.unregister(t)}unregisterAll(){this.trimmingMapsCollection.unregisterAll(),this.hidingMapsCollection.unregisterAll(),this.variousMapsCollection.unregisterAll()}getPhysicalFromVisualIndex(t){let r=this.notTrimmedIndexesCache[t];return Ne(r)?r:null}getPhysicalFromRenderableIndex(t){let r=this.renderablePhysicalIndexesCache[t];return Ne(r)?r:null}getVisualFromPhysicalIndex(t){let r=this.fromPhysicalToVisualIndexesCache.get(t);return Ne(r)?r:null}getVisualFromRenderableIndex(t){return this.getVisualFromPhysicalIndex(this.getPhysicalFromRenderableIndex(t))}getRenderableFromVisualIndex(t){let r=this.fromVisualToRenderableIndexesCache.get(t);return Ne(r)?r:null}getNearestNotHiddenIndex(t,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(this.getPhysicalFromVisualIndex(t)===null)return null;if(this.fromVisualToRenderableIndexesCache.has(t))return t;let o=Array.from(this.fromVisualToRenderableIndexesCache.keys()),s=-1;return r>0?s=o.findIndex(a=>a>t):s=o.reverse().findIndex(a=>a<t),s===-1?i?this.getNearestNotHiddenIndex(t,-r,!1):null:o[s]}initToLength(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getNumberOfIndexes();this.notTrimmedIndexesCache=[...new Array(t).keys()],this.notHiddenIndexesCache=[...new Array(t).keys()],this.suspendOperations(),this.indexesChangeSource="init",this.indexesSequence.init(t),this.indexesChangeSource=void 0,this.trimmingMapsCollection.initEvery(t),this.resumeOperations(),this.suspendOperations(),this.hidingMapsCollection.initEvery(t),this.variousMapsCollection.initEvery(t),this.resumeOperations(),this.runLocalHooks("init")}fitToLength(t){let r=this.getNumberOfIndexes();if(t<r){let i=[...Array(this.getNumberOfIndexes()-t).keys()].map(n=>n+t);this.removeIndexes(i)}else this.insertIndexes(r,t-r)}getIndexesSequence(){return this.indexesSequence.getValues()}setIndexesSequence(t){this.indexesChangeSource===void 0&&(this.indexesChangeSource="update"),this.indexesSequence.setValues(t),this.indexesChangeSource==="update"&&(this.indexesChangeSource=void 0)}getNotTrimmedIndexes(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0?this.notTrimmedIndexesCache:this.getIndexesSequence().filter(i=>this.isTrimmed(i)===!1)}getNotTrimmedIndexesLength(){return this.getNotTrimmedIndexes().length}getNotHiddenIndexes(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0?this.notHiddenIndexesCache:this.getIndexesSequence().filter(i=>this.isHidden(i)===!1)}getNotHiddenIndexesLength(){return this.getNotHiddenIndexes().length}getRenderableIndexes(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0?this.renderablePhysicalIndexesCache:this.getNotTrimmedIndexes().filter(i=>this.isHidden(i)===!1)}getRenderableIndexesLength(){return this.getRenderableIndexes().length}getNumberOfIndexes(){return this.getIndexesSequence().length}moveIndexes(t,r){typeof t=="number"&&(t=[t]);let i=xi(t,c=>this.getPhysicalFromVisualIndex(c)),n=this.getNotTrimmedIndexesLength(),o=t.length,s=pf(this.getIndexesSequence(),i),a=s.filter(c=>this.isTrimmed(c)===!1),l=s.indexOf(a[a.length-1])+1;if(r+o<n){let c=a[r];l=s.indexOf(c)}this.indexesChangeSource="move",this.setIndexesSequence(Iy(s,l,i)),this.indexesChangeSource=void 0}isTrimmed(t){return this.trimmingMapsCollection.getMergedValueAtIndex(t)}isHidden(t){return this.hidingMapsCollection.getMergedValueAtIndex(t)}insertIndexes(t,r){let i=this.getNotTrimmedIndexes()[t],n=Ne(i)?i:this.getNumberOfIndexes(),o=this.getIndexesSequence().includes(i)?this.getIndexesSequence().indexOf(i):this.getNumberOfIndexes(),s=xi(new Array(r).fill(n),(a,l)=>a+l);this.suspendOperations(),this.indexesChangeSource="insert",this.indexesSequence.insert(o,s),this.indexesChangeSource=void 0,this.trimmingMapsCollection.insertToEvery(o,s),this.hidingMapsCollection.insertToEvery(o,s),this.variousMapsCollection.insertToEvery(o,s),this.resumeOperations()}removeIndexes(t){this.suspendOperations(),this.indexesChangeSource="remove",this.indexesSequence.remove(t),this.indexesChangeSource=void 0,this.trimmingMapsCollection.removeFromEvery(t),this.hidingMapsCollection.removeFromEvery(t),this.variousMapsCollection.removeFromEvery(t),this.resumeOperations()}updateCache(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=this.indexesSequenceChanged||this.trimmedIndexesChanged||this.hiddenIndexesChanged;(t===!0||this.isBatched===!1&&r===!0)&&(this.trimmingMapsCollection.updateCache(),this.hidingMapsCollection.updateCache(),this.notTrimmedIndexesCache=this.getNotTrimmedIndexes(!1),this.notHiddenIndexesCache=this.getNotHiddenIndexes(!1),this.renderablePhysicalIndexesCache=this.getRenderableIndexes(!1),this.cacheFromPhysicalToVisualIndexes(),this.cacheFromVisualToRenderableIndexes(),this.hiddenIndexesChanged&&this.hidingChangesObservable.emit(this.hidingMapsCollection.getMergedValues()),this.runLocalHooks("cacheUpdated",{indexesSequenceChanged:this.indexesSequenceChanged,trimmedIndexesChanged:this.trimmedIndexesChanged,hiddenIndexesChanged:this.hiddenIndexesChanged}),this.indexesSequenceChanged=!1,this.trimmedIndexesChanged=!1,this.hiddenIndexesChanged=!1)}cacheFromPhysicalToVisualIndexes(){let t=this.getNotTrimmedIndexesLength();this.fromPhysicalToVisualIndexesCache.clear();for(let r=0;r<t;r+=1){let i=this.getPhysicalFromVisualIndex(r);this.fromPhysicalToVisualIndexesCache.set(i,r)}}cacheFromVisualToRenderableIndexes(){let t=this.getRenderableIndexesLength();this.fromVisualToRenderableIndexesCache.clear();for(let r=0;r<t;r+=1){let i=this.getPhysicalFromRenderableIndex(r),n=this.getVisualFromPhysicalIndex(i);this.fromVisualToRenderableIndexesCache.set(n,r)}}};Zi(d0,jn);function AZ(e,t){return bi(t,(r,i)=>{_r(e[i])&&(e[i]=r)}),e}function PA(e){let r=/^([a-zA-Z]{2})-([a-zA-Z]{2})$/.exec(e);return r?`${r[1].toLowerCase()}-${r[2].toUpperCase()}`:e}function NA(e){Ne(e)&&hy(Gi`Language with code "${e}" was not found. You should register particular language\x20
    before using it. Read more about this issue at: https://docs.handsontable.com/i18n/missing-language-code.`)}function V6(e,t){return Array.isArray(e)&&Number.isInteger(t)?e[t]:e}var{register:CSt,getValues:xSt}=Zo("phraseFormatters");function SSt(e,t){CSt(e,t)}function IZ(){return xSt()}SSt("pluralize",V6);var wi={};Bst(wi,{CHECKBOX_CHECKED:()=>P2,CHECKBOX_RENDERER_NAMESPACE:()=>z6,CHECKBOX_UNCHECKED:()=>N2,CONTEXTMENU_ITEMS_ADD_COMMENT:()=>Nx,CONTEXTMENU_ITEMS_ALIGNMENT:()=>Bx,CONTEXTMENU_ITEMS_ALIGNMENT_BOTTOM:()=>qx,CONTEXTMENU_ITEMS_ALIGNMENT_CENTER:()=>Vx,CONTEXTMENU_ITEMS_ALIGNMENT_JUSTIFY:()=>Ux,CONTEXTMENU_ITEMS_ALIGNMENT_LEFT:()=>jx,CONTEXTMENU_ITEMS_ALIGNMENT_MIDDLE:()=>Yx,CONTEXTMENU_ITEMS_ALIGNMENT_RIGHT:()=>zx,CONTEXTMENU_ITEMS_ALIGNMENT_TOP:()=>Wx,CONTEXTMENU_ITEMS_BORDERS:()=>$x,CONTEXTMENU_ITEMS_BORDERS_BOTTOM:()=>Xx,CONTEXTMENU_ITEMS_BORDERS_LEFT:()=>Zx,CONTEXTMENU_ITEMS_BORDERS_RIGHT:()=>Kx,CONTEXTMENU_ITEMS_BORDERS_TOP:()=>Gx,CONTEXTMENU_ITEMS_CLEAR_COLUMN:()=>Ex,CONTEXTMENU_ITEMS_COPY:()=>Rx,CONTEXTMENU_ITEMS_COPY_COLUMN_HEADERS_ONLY:()=>Ax,CONTEXTMENU_ITEMS_COPY_WITH_COLUMN_GROUP_HEADERS:()=>Mx,CONTEXTMENU_ITEMS_COPY_WITH_COLUMN_HEADERS:()=>Tx,CONTEXTMENU_ITEMS_CUT:()=>Ix,CONTEXTMENU_ITEMS_EDIT_COMMENT:()=>Lx,CONTEXTMENU_ITEMS_FREEZE_COLUMN:()=>kx,CONTEXTMENU_ITEMS_HIDE_COLUMN:()=>e2,CONTEXTMENU_ITEMS_HIDE_ROW:()=>r2,CONTEXTMENU_ITEMS_INSERT_LEFT:()=>vx,CONTEXTMENU_ITEMS_INSERT_RIGHT:()=>yx,CONTEXTMENU_ITEMS_MERGE_CELLS:()=>Ox,CONTEXTMENU_ITEMS_NESTED_ROWS_DETACH_CHILD:()=>t2,CONTEXTMENU_ITEMS_NESTED_ROWS_INSERT_CHILD:()=>Jx,CONTEXTMENU_ITEMS_NO_ITEMS:()=>px,CONTEXTMENU_ITEMS_READ_ONLY:()=>Sx,CONTEXTMENU_ITEMS_READ_ONLY_COMMENT:()=>Hx,CONTEXTMENU_ITEMS_REDO:()=>xx,CONTEXTMENU_ITEMS_REMOVE_BORDERS:()=>Qx,CONTEXTMENU_ITEMS_REMOVE_COLUMN:()=>wx,CONTEXTMENU_ITEMS_REMOVE_COMMENT:()=>Fx,CONTEXTMENU_ITEMS_REMOVE_ROW:()=>_x,CONTEXTMENU_ITEMS_ROW_ABOVE:()=>gx,CONTEXTMENU_ITEMS_ROW_BELOW:()=>bx,CONTEXTMENU_ITEMS_SHOW_COLUMN:()=>i2,CONTEXTMENU_ITEMS_SHOW_ROW:()=>n2,CONTEXTMENU_ITEMS_UNDO:()=>Cx,CONTEXTMENU_ITEMS_UNFREEZE_COLUMN:()=>Dx,CONTEXTMENU_ITEMS_UNMERGE_CELLS:()=>Px,CONTEXT_MENU_ITEMS_NAMESPACE:()=>kZ,FILTERS_BUTTONS_CANCEL:()=>I2,FILTERS_BUTTONS_CLEAR:()=>M2,FILTERS_BUTTONS_OK:()=>A2,FILTERS_BUTTONS_PLACEHOLDER_SEARCH:()=>k2,FILTERS_BUTTONS_PLACEHOLDER_SECOND_VALUE:()=>O2,FILTERS_BUTTONS_PLACEHOLDER_VALUE:()=>D2,FILTERS_BUTTONS_SELECT_ALL:()=>T2,FILTERS_CONDITIONS_AFTER:()=>y2,FILTERS_CONDITIONS_BEFORE:()=>_2,FILTERS_CONDITIONS_BEGINS_WITH:()=>c2,FILTERS_CONDITIONS_BETWEEN:()=>b2,FILTERS_CONDITIONS_BY_VALUE:()=>ESt,FILTERS_CONDITIONS_CONTAINS:()=>u2,FILTERS_CONDITIONS_EMPTY:()=>o2,FILTERS_CONDITIONS_ENDS_WITH:()=>d2,FILTERS_CONDITIONS_EQUAL:()=>a2,FILTERS_CONDITIONS_GREATER_THAN:()=>f2,FILTERS_CONDITIONS_GREATER_THAN_OR_EQUAL:()=>m2,FILTERS_CONDITIONS_LESS_THAN:()=>p2,FILTERS_CONDITIONS_LESS_THAN_OR_EQUAL:()=>g2,FILTERS_CONDITIONS_NAMESPACE:()=>Co,FILTERS_CONDITIONS_NONE:()=>u0,FILTERS_CONDITIONS_NOT_BETWEEN:()=>v2,FILTERS_CONDITIONS_NOT_CONTAIN:()=>h2,FILTERS_CONDITIONS_NOT_EMPTY:()=>s2,FILTERS_CONDITIONS_NOT_EQUAL:()=>l2,FILTERS_CONDITIONS_TODAY:()=>w2,FILTERS_CONDITIONS_TOMORROW:()=>C2,FILTERS_CONDITIONS_YESTERDAY:()=>x2,FILTERS_DIVS_FILTER_BY_CONDITION:()=>S2,FILTERS_DIVS_FILTER_BY_VALUE:()=>E2,FILTERS_LABELS_CONJUNCTION:()=>R2,FILTERS_LABELS_DISJUNCTION:()=>h0,FILTERS_NAMESPACE:()=>Ca,FILTERS_VALUES_BLANK_CELLS:()=>Dy});var kZ="ContextMenu:items",fr=kZ,px=`${fr}.noItems`,gx=`${fr}.insertRowAbove`,bx=`${fr}.insertRowBelow`,vx=`${fr}.insertColumnOnTheLeft`,yx=`${fr}.insertColumnOnTheRight`,_x=`${fr}.removeRow`,wx=`${fr}.removeColumn`,Cx=`${fr}.undo`,xx=`${fr}.redo`,Sx=`${fr}.readOnly`,Ex=`${fr}.clearColumn`,Rx=`${fr}.copy`,Tx=`${fr}.copyWithHeaders`,Mx=`${fr}.copyWithGroupHeaders`,Ax=`${fr}.copyHeadersOnly`,Ix=`${fr}.cut`,kx=`${fr}.freezeColumn`,Dx=`${fr}.unfreezeColumn`,Ox=`${fr}.mergeCells`,Px=`${fr}.unmergeCells`,Nx=`${fr}.addComment`,Lx=`${fr}.editComment`,Fx=`${fr}.removeComment`,Hx=`${fr}.readOnlyComment`,Bx=`${fr}.align`,jx=`${fr}.align.left`,Vx=`${fr}.align.center`,zx=`${fr}.align.right`,Ux=`${fr}.align.justify`,Wx=`${fr}.align.top`,Yx=`${fr}.align.middle`,qx=`${fr}.align.bottom`,$x=`${fr}.borders`,Gx=`${fr}.borders.top`,Kx=`${fr}.borders.right`,Xx=`${fr}.borders.bottom`,Zx=`${fr}.borders.left`,Qx=`${fr}.borders.remove`,Jx=`${fr}.nestedHeaders.insertChildRow`,t2=`${fr}.nestedHeaders.detachFromParent`,e2=`${fr}.hideColumn`,i2=`${fr}.showColumn`,r2=`${fr}.hideRow`,n2=`${fr}.showRow`,Ca="Filters:",Co=`${Ca}conditions`,u0=`${Co}.none`,o2=`${Co}.isEmpty`,s2=`${Co}.isNotEmpty`,a2=`${Co}.isEqualTo`,l2=`${Co}.isNotEqualTo`,c2=`${Co}.beginsWith`,d2=`${Co}.endsWith`,u2=`${Co}.contains`,h2=`${Co}.doesNotContain`,ESt=`${Co}.byValue`,f2=`${Co}.greaterThan`,m2=`${Co}.greaterThanOrEqualTo`,p2=`${Co}.lessThan`,g2=`${Co}.lessThanOrEqualTo`,b2=`${Co}.isBetween`,v2=`${Co}.isNotBetween`,y2=`${Co}.after`,_2=`${Co}.before`,w2=`${Co}.today`,C2=`${Co}.tomorrow`,x2=`${Co}.yesterday`,S2=`${Ca}labels.filterByCondition`,E2=`${Ca}labels.filterByValue`,R2=`${Ca}labels.conjunction`,h0=`${Ca}labels.disjunction`,Dy=`${Ca}values.blankCells`,T2=`${Ca}buttons.selectAll`,M2=`${Ca}buttons.clear`,A2=`${Ca}buttons.ok`,I2=`${Ca}buttons.cancel`,k2=`${Ca}buttons.placeholder.search`,D2=`${Ca}buttons.placeholder.value`,O2=`${Ca}buttons.placeholder.secondValue`,z6="CheckboxRenderer:",P2=`${z6}checked`,N2=`${z6}unchecked`;var RSt={languageCode:"en-US",[px]:"No available options",[gx]:"Insert row above",[bx]:"Insert row below",[vx]:"Insert column left",[yx]:"Insert column right",[_x]:["Remove row","Remove rows"],[wx]:["Remove column","Remove columns"],[Cx]:"Undo",[xx]:"Redo",[Sx]:"Read only",[Ex]:"Clear column",[Bx]:"Alignment",[jx]:"Left",[Vx]:"Center",[zx]:"Right",[Ux]:"Justify",[Wx]:"Top",[Yx]:"Middle",[qx]:"Bottom",[kx]:"Freeze column",[Dx]:"Unfreeze column",[$x]:"Borders",[Gx]:"Top",[Kx]:"Right",[Xx]:"Bottom",[Zx]:"Left",[Qx]:"Remove border(s)",[Nx]:"Add comment",[Lx]:"Edit comment",[Fx]:"Delete comment",[Hx]:"Read-only comment",[Ox]:"Merge cells",[Px]:"Unmerge cells",[Rx]:"Copy",[Tx]:["Copy with header","Copy with headers"],[Mx]:["Copy with group header","Copy with group headers"],[Ax]:["Copy header only","Copy headers only"],[Ix]:"Cut",[Jx]:"Insert child row",[t2]:"Detach from parent",[e2]:["Hide column","Hide columns"],[i2]:["Show column","Show columns"],[r2]:["Hide row","Hide rows"],[n2]:["Show row","Show rows"],[u0]:"None",[o2]:"Is empty",[s2]:"Is not empty",[a2]:"Is equal to",[l2]:"Is not equal to",[c2]:"Begins with",[d2]:"Ends with",[u2]:"Contains",[h2]:"Does not contain",[f2]:"Greater than",[m2]:"Greater than or equal to",[p2]:"Less than",[g2]:"Less than or equal to",[b2]:"Is between",[v2]:"Is not between",[y2]:"After",[_2]:"Before",[w2]:"Today",[C2]:"Tomorrow",[x2]:"Yesterday",[Dy]:"Blank cells",[S2]:"Filter by condition",[E2]:"Filter by value",[R2]:"And",[h0]:"Or",[T2]:"Select all",[M2]:"Clear",[A2]:"OK",[I2]:"Cancel",[k2]:"Search",[D2]:"Value",[O2]:"Second value",[P2]:"Checked",[N2]:"Unchecked"},U6=RSt;var DZ=wi,W6=U6.languageCode,{register:TSt,getItem:OZ,hasItem:MSt,getValues:ASt}=Zo("languagesDictionaries");Y6(U6);function Y6(e,t){let r=e,i=t;return gi(e)&&(i=e,r=i.languageCode),ISt(r,i),TSt(r,jo(i)),jo(i)}function ISt(e,t){e!==W6&&AZ(t,OZ(W6))}function q6(e){return LA(e)?jo(OZ(e)):null}function LA(e){return MSt(e)}function PZ(){return ASt()}function FA(e,t,r){let i=q6(e);if(i===null)return null;let n=i[t];if(_r(n))return null;let o=kSt(n,r);return Array.isArray(o)?o[0]:o}function kSt(e,t){let r=e;return Tt(IZ(),i=>{r=i(e,t)}),r}function NZ(e){let t=PA(e);return LA(t)||(t=W6,NA(e)),t}var yre=ot(Gt(),1),_re=ot(we(),1),wre=ot(yn(),1),Cre=ot(_n(),1),xre=ot(wn(),1),Sre=ot(Cn(),1),Ere=ot(xn(),1),Rre=ot(Sn(),1),Tre=ot(En(),1);var Hie=ot(Gt(),1),Bie=ot(we(),1);var Qee=ot(Gt(),1);function DSt(e,t,r){return t=OSt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OSt(e){var t=PSt(e,"string");return typeof t=="symbol"?t:t+""}function PSt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $6=class extends uA{constructor(t,r){super(t,null),DSt(this,"visualCellRange",null),this.visualCellRange=r||null,this.commit()}add(t){return this.visualCellRange===null?this.visualCellRange=this.settings.createCellRange(t):this.visualCellRange.expand(t),this}clear(){return this.visualCellRange=null,super.clear()}trimToVisibleCellsRangeOnly(t){let{from:r,to:i}=t,n=this.getNearestNotHiddenCoords(r,1),o=this.getNearestNotHiddenCoords(i,-1);return n===null||o===null?null:((n.row>o.row||n.col>o.col)&&(n=r,o=i),this.settings.createCellRange(n,n,o))}getNearestNotHiddenCoords(t,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:r,n=this.getNearestNotHiddenIndex(this.settings.rowIndexMapper,t.row,r);if(n===null)return null;let o=this.getNearestNotHiddenIndex(this.settings.columnIndexMapper,t.col,i);return o===null?null:this.settings.createCellCoords(n,o)}getNearestNotHiddenIndex(t,r,i){return r<0?r:t.getNearestNotHiddenIndex(r,i)}commit(){if(this.visualCellRange===null)return this;let t=this.trimToVisibleCellsRangeOnly(this.visualCellRange);return t===null?this.cellRange=null:this.cellRange=this.createRenderableCellRange(t.from,t.to),this}syncWith(t){let r=t.from.clone().normalize(),i=t.getVerticalDirection()==="N-S"?1:-1,n=t.getHorizontalDirection()==="W-E"?1:-1,o=this.settings.visualToRenderableCoords(this.visualCellRange.highlight),s=null;if((o===null||o.col===null||o.row===null)&&(s=this.getNearestNotHiddenCoords(r,i,n)),s!==null&&t.overlaps(s)){let a=t.highlight.clone();if(a.row>=0&&(a.row=s.row),a.col>=0&&(a.col=s.col),this.cellRange===null){let l=this.settings.visualToRenderableCoords(a);this.cellRange=this.settings.createCellRange(l)}t.setHighlight(a)}return this.settings.selectionType==="focus"&&o!==null&&s===null&&t.setHighlight(this.visualCellRange.highlight),this}getCorners(){let{from:t,to:r}=this.cellRange;return[Math.min(t.row,r.row),Math.min(t.col,r.col),Math.max(t.row,r.row),Math.max(t.col,r.col)]}getVisualCorners(){let t=this.settings.renderableToVisualCoords(this.cellRange.getTopStartCorner()),r=this.settings.renderableToVisualCoords(this.cellRange.getBottomEndCorner());return[t.row,t.col,r.row,r.col]}createRenderableCellRange(t,r){let i=this.settings.visualToRenderableCoords(t),n=this.settings.visualToRenderableCoords(r);return i.row===null||i.col===null||n.row===null||n.col===null?null:this.settings.createCellRange(i,i,n)}},Vs=$6;function HA(e){let i=e,{activeHeaderClassName:t}=i,r=Hn(i,["activeHeaderClassName"]);return new Vs(je(Vt({className:t},r),{selectionType:xy}))}function LZ(e){let i=e,{areaCornerVisible:t}=i,r=Hn(i,["areaCornerVisible"]);return new Vs(je(Vt({className:"area",createLayers:!0,border:{width:1,color:"#4b89ff",cornerVisible:t}},r),{selectionType:cp}))}function FZ(e){let t=Hn(e,[]);return new Vs(je(Vt({className:"highlight"},t),{selectionType:cp}))}function HZ(e){let i=e,{columnClassName:t}=i,r=Hn(i,["columnClassName"]);return new Vs(je(Vt({className:t},r),{selectionType:mA}))}function BZ(e){let i=e,{cellCornerVisible:t}=i,r=Hn(i,["cellCornerVisible"]);return new Vs(je(Vt({className:"current",headerAttributes:[ty()],border:{width:2,color:"#4b89ff",cornerVisible:t}},r),{selectionType:s0}))}function jZ(e){let n=e,{border:t,visualCellRange:r}=n,i=Hn(n,["border","visualCellRange"]);return new Vs(je(Vt(Vt({},t),i),{selectionType:pA}),r)}function VZ(e){let t=Hn(e,[]);return new Vs(je(Vt({className:"fill",border:{width:1,color:"#ff0000"}},t),{selectionType:hA}))}function G6(e){let i=e,{headerClassName:t}=i,r=Hn(i,["headerClassName"]);return new Vs(je(Vt({className:t},r),{selectionType:lp}))}function zZ(e){let i=e,{rowClassName:t}=i,r=Hn(i,["rowClassName"]);return new Vs(je(Vt({className:t},r),{selectionType:fA}))}function NSt(e,t){LSt(e,t),t.add(e)}function LSt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function wl(e,t,r){return t=FSt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FSt(e){var t=HSt(e,"string");return typeof t=="symbol"?t:t+""}function HSt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gf(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var Qu=new WeakSet,K6=class{constructor(t){NSt(this,Qu),wl(this,"options",void 0),wl(this,"layerLevel",0),wl(this,"focus",void 0),wl(this,"fill",void 0),wl(this,"layeredAreas",new Map),wl(this,"areas",new Map),wl(this,"rowHeaders",new Map),wl(this,"columnHeaders",new Map),wl(this,"activeRowHeaders",new Map),wl(this,"activeColumnHeaders",new Map),wl(this,"activeCornerHeaders",new Map),wl(this,"rowHighlights",new Map),wl(this,"columnHighlights",new Map),wl(this,"customSelections",[]),this.options=t,this.focus=BZ(t),this.fill=VZ(t)}isEnabledFor(t,r){let i=t;t===s0&&(i="current");let n=this.options.disabledCellSelection(r.row,r.col);return typeof n=="string"&&(n=[n]),n===!1||Array.isArray(n)&&!n.includes(i)}useLayerLevel(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.layerLevel=t,this}getFocus(){return this.focus}getFill(){return this.fill}createLayeredArea(){return gf(Qu,this,bf).call(this,this.layeredAreas,LZ)}getLayeredAreas(){return[...this.layeredAreas.values()]}createArea(){return gf(Qu,this,bf).call(this,this.areas,FZ)}getAreas(){return[...this.areas.values()]}createRowHeader(){return gf(Qu,this,bf).call(this,this.rowHeaders,G6)}getRowHeaders(){return[...this.rowHeaders.values()]}createColumnHeader(){return gf(Qu,this,bf).call(this,this.columnHeaders,G6)}getColumnHeaders(){return[...this.columnHeaders.values()]}createActiveRowHeader(){return gf(Qu,this,bf).call(this,this.activeRowHeaders,HA)}getActiveRowHeaders(){return[...this.activeRowHeaders.values()]}createActiveColumnHeader(){return gf(Qu,this,bf).call(this,this.activeColumnHeaders,HA)}getActiveColumnHeaders(){return[...this.activeColumnHeaders.values()]}createActiveCornerHeader(){return gf(Qu,this,bf).call(this,this.activeCornerHeaders,HA)}getActiveCornerHeaders(){return[...this.activeCornerHeaders.values()]}createRowHighlight(){return gf(Qu,this,bf).call(this,this.rowHighlights,zZ)}getRowHighlights(){return[...this.rowHighlights.values()]}createColumnHighlight(){return gf(Qu,this,bf).call(this,this.columnHighlights,HZ)}getColumnHighlights(){return[...this.columnHighlights.values()]}getCustomSelections(){return[...this.customSelections.values()]}addCustomSelection(t){this.customSelections.push(jZ(Vt(Vt({},this.options),t)))}clear(){this.focus.clear(),this.fill.clear(),Tt(this.areas.values(),t=>void t.clear()),Tt(this.layeredAreas.values(),t=>void t.clear()),Tt(this.rowHeaders.values(),t=>void t.clear()),Tt(this.columnHeaders.values(),t=>void t.clear()),Tt(this.activeRowHeaders.values(),t=>void t.clear()),Tt(this.activeColumnHeaders.values(),t=>void t.clear()),Tt(this.activeCornerHeaders.values(),t=>void t.clear()),Tt(this.rowHighlights.values(),t=>void t.clear()),Tt(this.columnHighlights.values(),t=>void t.clear())}[Symbol.iterator](){return[this.focus,this.fill,...this.areas.values(),...this.layeredAreas.values(),...this.rowHeaders.values(),...this.columnHeaders.values(),...this.activeRowHeaders.values(),...this.activeColumnHeaders.values(),...this.activeCornerHeaders.values(),...this.rowHighlights.values(),...this.columnHighlights.values(),...this.customSelections][Symbol.iterator]()}};function bf(e,t){let r=this.layerLevel;if(e.has(r))return e.get(r);let i=t(Vt({layerLevel:r},this.options));return e.set(r,i),i}var UZ=K6;var Jie=ot(Gt(),1),tre=ot(we(),1);function WZ(e,t,r){return t=BSt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BSt(e){var t=jSt(e,"string");return typeof t=="symbol"?t:t+""}function jSt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var X6=class{constructor(t){WZ(this,"ranges",[]),WZ(this,"createCellRange",void 0),this.createCellRange=t}isEmpty(){return this.size()===0}set(t){return this.clear(),this.ranges.push(this.createCellRange(t)),this}add(t){return this.ranges.push(this.createCellRange(t)),this}pop(){return this.ranges.pop(),this}current(){return this.peekByIndex(this.size()-1)}previous(){return this.peekByIndex(this.size()-2)}includes(t){return this.ranges.some(r=>r.includes(t))}clear(){return this.ranges.length=0,this}size(){return this.ranges.length}peekByIndex(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r;return t>=0&&t<this.size()&&(r=this.ranges[t]),r}[Symbol.iterator](){return this.ranges[Symbol.iterator]()}},YZ=X6;var ire=ot(Gt(),1);function VSt(e,t){GZ(e,t),t.add(e)}function Z6(e,t,r){GZ(e,t),t.set(e,r)}function GZ(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function tn(e,t){return e.get(ds(e,t))}function Q6(e,t,r){return e.set(ds(e,t),r),r}function ds(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var BA=new WeakMap,no=new WeakMap,Ju=new WeakMap,bs=new WeakSet,jA=class{constructor(t,r){VSt(this,bs),Z6(this,BA,void 0),Z6(this,no,void 0),Z6(this,Ju,{x:0,y:0}),Q6(BA,this,t),Q6(no,this,r)}transformStart(t,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=tn(no,this).createCellCoords(t,r),o=tn(BA,this).current().highlight,s=tn(no,this).visualToRenderableCoords(o),a=0,l=0;if(this.runLocalHooks("beforeTransformStart",n),s.row!==null&&s.col!==null){let{width:c,height:d}=ds(bs,this,KZ).call(this),{row:u,col:h}=ds(bs,this,$Z).call(this,o),f=tn(no,this).fixedRowsBottom(),m=tn(no,this).minSpareRows(),g=tn(no,this).minSpareCols(),p=tn(no,this).autoWrapRow(),b=tn(no,this).autoWrapCol(),_=tn(no,this).createCellCoords(u+n.row,h+n.col);if(_.row>=d){let V=va(i&&m>0&&f===0),H=_.col+1,F=tn(no,this).createCellCoords(_.row-d,H>=c?H-c:H);this.runLocalHooks("beforeColumnWrap",V,ds(bs,this,Oy).call(this,F),H>=c),V.value?this.runLocalHooks("insertRowRequire",tn(no,this).countRenderableRows()):b&&_.assign(F)}else if(_.row<0){let V=va(b),H=_.col-1,F=tn(no,this).createCellCoords(d+_.row,H<0?c+H:H);this.runLocalHooks("beforeColumnWrap",V,ds(bs,this,Oy).call(this,F),H<0),b&&_.assign(F)}if(_.col>=c){let V=va(i&&g>0),H=_.row+1,F=tn(no,this).createCellCoords(H>=d?H-d:H,_.col-c);this.runLocalHooks("beforeRowWrap",V,ds(bs,this,Oy).call(this,F),H>=d),V.value?this.runLocalHooks("insertColRequire",tn(no,this).countRenderableColumns()):p&&_.assign(F)}else if(_.col<0){let V=va(p),H=_.row-1,F=tn(no,this).createCellCoords(H<0?d+H:H,c+_.col);this.runLocalHooks("beforeRowWrap",V,ds(bs,this,Oy).call(this,F),H<0),p&&_.assign(F)}let{rowDir:E,colDir:O}=ds(bs,this,qZ).call(this,_);a=E,l=O,o=ds(bs,this,Oy).call(this,_)}return this.runLocalHooks("afterTransformStart",o,a,l),o}transformEnd(t,r){let i=tn(no,this).createCellCoords(t,r),n=tn(BA,this).current(),o=tn(no,this).visualToRenderableCoords(n.highlight),s=ds(bs,this,J6).call(this,n.to.row,n.from.row),a=ds(bs,this,tL).call(this,n.to.col,n.from.col),l=n.to.clone(),c=0,d=0;if(this.runLocalHooks("beforeTransformEnd",i),o.row!==null&&o.col!==null&&s!==null&&a!==null){let{row:u,col:h}=ds(bs,this,$Z).call(this,n.highlight),f=tn(no,this).createCellCoords(s+i.row,a+i.col),m=n.getTopStartCorner(),g=n.getTopEndCorner(),p=n.getBottomEndCorner();if(i.col<0&&a>=h&&f.col<h){let O=f.col-h;f.col=ds(bs,this,tL).call(this,m.col,g.col)+O}else if(i.col>0&&a<=h&&f.col>h){let O=ds(bs,this,tL).call(this,g.col,m.col),V=Math.max(f.col-O,1);f.col=O+V}if(i.row<0&&s>=u&&f.row<u){let O=f.row-u;f.row=ds(bs,this,J6).call(this,m.row,p.row)+O}else if(i.row>0&&s<=u&&f.row>u){let O=ds(bs,this,J6).call(this,p.row,m.row),V=Math.max(f.row-O,1);f.row=O+V}let{rowDir:b,colDir:_}=ds(bs,this,qZ).call(this,f);c=b,d=_;let E=ds(bs,this,Oy).call(this,f);i.row===0&&i.col!==0?l.col=E.col:i.row!==0&&i.col===0?l.row=E.row:(l.row=E.row,l.col=E.col)}return this.runLocalHooks("afterTransformEnd",l,c,d),l}setOffsetSize(t){let{x:r,y:i}=t;Q6(Ju,this,{x:r,y:i})}};function qZ(e){let{width:t,height:r}=ds(bs,this,KZ).call(this),i=0,n=0;return e.row<0?(i=-1,e.row=0):e.row>0&&e.row>=r&&(i=1,e.row=r-1),e.col<0?(n=-1,e.col=0):e.col>0&&e.col>=t&&(n=1,e.col=t-1),{rowDir:i,colDir:n}}function KZ(){return{width:tn(Ju,this).x+tn(no,this).countRenderableColumns(),height:tn(Ju,this).y+tn(no,this).countRenderableRows()}}function J6(e,t){let r=tn(no,this).findFirstNonHiddenRenderableRow(e,t);return r===null?null:tn(Ju,this).y+r}function tL(e,t){let r=tn(no,this).findFirstNonHiddenRenderableColumn(e,t);return r===null?null:tn(Ju,this).x+r}function $Z(e){let{row:t,col:r}=tn(no,this).visualToRenderableCoords(e);if(t===null||r===null)throw new Error("Renderable coords are not visible.");return tn(no,this).createCellCoords(tn(Ju,this).y+t,tn(Ju,this).x+r)}function Oy(e){let t=e.clone();return t.col=e.col-tn(Ju,this).x,t.row=e.row-tn(Ju,this).y,tn(no,this).renderableToVisualCoords(t)}Zi(jA,jn);var eL=jA;var sre=ot(Gt(),1),are=ot(we(),1),lre=ot(yn(),1),cre=ot(_n(),1),dre=ot(wn(),1),ure=ot(Cn(),1),hre=ot(xn(),1),fre=ot(Sn(),1),mre=ot(En(),1);var L2=0,F2=1,ZZ=2,rL=3,zSt=[rL,ZZ],USt=[["number"],["number","string"],["number","undefined"],["number","string","undefined"]],iL=Symbol("root"),XZ=Symbol("child");function vf(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:iL;if(t!==iL&&t!==XZ)throw new Error("The second argument is used internally only and cannot be overwritten.");let r=Array.isArray(e),i=t===iL,n=L2;if(r){let o=e[0];e.length===0?n=F2:i&&o instanceof e0?n=rL:i&&Array.isArray(o)?n=vf(o,XZ):e.length>=2&&e.length<=4&&!e.some((a,l)=>!USt[l].includes(typeof a))&&(n=ZZ)}return n}function fp(e){let{createCellCoords:t,createCellRange:r,keepDirection:i=!1,propToCol:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!zSt.includes(e))throw new Error("Unsupported selection ranges schema type was provided.");return function(o){let s=e===rL,a=s?o.from.row:o[0],l=s?o.from.col:o[1],c=s?o.to.row:o[2],d=s?o.to.col:o[3];if(typeof n=="function"&&(typeof l=="string"&&(l=n(l)),typeof d=="string"&&(d=n(d))),_r(c)&&(c=a),_r(d)&&(d=l),!i){let f=a,m=l,g=c,p=d;a=Math.min(f,g),l=Math.min(m,p),c=Math.max(f,g),d=Math.max(m,p)}let u=t(a,l),h=t(c,d);return r(u,u,h)}}function QZ(e){let t=vf(e.getSelected());if(t===L2||t===F2)return[];let r=fp(t,{createCellCoords:e._createCellCoords.bind(e),createCellRange:e._createCellRange.bind(e)}),i=new Set;Tt(e.getSelected(),s=>{let{from:a,to:l}=r(s),c=Math.max(a.col,0),d=l.col-c+1;Tt(Array.from(new Array(d),(u,h)=>c+h),u=>{i.has(u)||i.add(u)})});let n=Array.from(i).sort((s,a)=>s-a);return cn(n,(s,a,l,c)=>(l!==0&&a===c[l-1]+1?s[s.length-1][1]+=1:s.push([a,1]),s),[])}function JZ(e){let t=vf(e.getSelected());if(t===L2||t===F2)return[];let r=fp(t,{createCellCoords:e._createCellCoords.bind(e),createCellRange:e._createCellRange.bind(e)}),i=new Set;Tt(e.getSelected(),s=>{let{from:a,to:l}=r(s),c=Math.max(a.row,0),d=l.row-c+1;Tt(Array.from(new Array(d),(u,h)=>c+h),u=>{i.has(u)||i.add(u)})});let n=Array.from(i).sort((s,a)=>s-a);return cn(n,(s,a,l,c)=>(l!==0&&a===c[l-1]+1?s[s.length-1][1]+=1:s.push([a,1]),s),[])}function Py(e,t,r){WSt(e,t),t.set(e,r)}function WSt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function f0(e,t,r){return t=YSt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YSt(e){var t=qSt(e,"string");return typeof t=="symbol"?t:t+""}function qSt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mo(e,t){return e.get(tQ(e,t))}function th(e,t,r){return e.set(tQ(e,t),r),r}function tQ(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var Cl=new WeakMap,m0=new WeakMap,VA=new WeakMap,H2=new WeakMap,zA=new WeakMap,B2=new WeakMap,UA=class{constructor(t,r){var i=this;f0(this,"settings",void 0),f0(this,"tableProps",void 0),f0(this,"inProgress",!1),f0(this,"selectedRange",new YZ((n,o,s)=>this.tableProps.createCellRange(n,o,s))),f0(this,"highlight",void 0),Py(this,Cl,void 0),Py(this,m0,void 0),f0(this,"selectedByRowHeader",new Set),f0(this,"selectedByColumnHeader",new Set),Py(this,VA,!1),Py(this,H2,!1),Py(this,zA,"unknown"),Py(this,B2,-1),this.settings=t,this.tableProps=r,this.highlight=new UZ({headerClassName:t.currentHeaderClassName,activeHeaderClassName:t.activeHeaderClassName,rowClassName:t.currentRowClassName,columnClassName:t.currentColClassName,cellAttributes:[ty()],rowIndexMapper:this.tableProps.rowIndexMapper,columnIndexMapper:this.tableProps.columnIndexMapper,disabledCellSelection:(n,o)=>this.tableProps.isDisabledCellSelection(n,o),cellCornerVisible:function(){return i.isCellCornerVisible(...arguments)},areaCornerVisible:function(){return i.isAreaCornerVisible(...arguments)},visualToRenderableCoords:n=>this.tableProps.visualToRenderableCoords(n),renderableToVisualCoords:n=>this.tableProps.renderableToVisualCoords(n),createCellCoords:(n,o)=>this.tableProps.createCellCoords(n,o),createCellRange:(n,o,s)=>this.tableProps.createCellRange(n,o,s)}),th(Cl,this,new eL(this.selectedRange,{rowIndexMapper:this.tableProps.rowIndexMapper,columnIndexMapper:this.tableProps.columnIndexMapper,countRenderableRows:()=>this.tableProps.countRenderableRows(),countRenderableColumns:()=>this.tableProps.countRenderableColumns(),visualToRenderableCoords:n=>this.tableProps.visualToRenderableCoords(n),renderableToVisualCoords:n=>this.tableProps.renderableToVisualCoords(n),findFirstNonHiddenRenderableRow:function(){return i.tableProps.findFirstNonHiddenRenderableRow(...arguments)},findFirstNonHiddenRenderableColumn:function(){return i.tableProps.findFirstNonHiddenRenderableColumn(...arguments)},createCellCoords:(n,o)=>this.tableProps.createCellCoords(n,o),fixedRowsBottom:()=>t.fixedRowsBottom,minSpareRows:()=>t.minSpareRows,minSpareCols:()=>t.minSpareCols,autoWrapRow:()=>t.autoWrapRow,autoWrapCol:()=>t.autoWrapCol})),th(m0,this,new eL(this.selectedRange,{rowIndexMapper:this.tableProps.rowIndexMapper,columnIndexMapper:this.tableProps.columnIndexMapper,countRenderableRows:()=>{let n=this.selectedRange.current();return this.tableProps.countRenderableRowsInRange(0,n.getOuterBottomEndCorner().row)},countRenderableColumns:()=>{let n=this.selectedRange.current();return this.tableProps.countRenderableColumnsInRange(0,n.getOuterBottomEndCorner().col)},visualToRenderableCoords:n=>this.tableProps.visualToRenderableCoords(n),renderableToVisualCoords:n=>this.tableProps.renderableToVisualCoords(n),findFirstNonHiddenRenderableRow:function(){return i.tableProps.findFirstNonHiddenRenderableRow(...arguments)},findFirstNonHiddenRenderableColumn:function(){return i.tableProps.findFirstNonHiddenRenderableColumn(...arguments)},createCellCoords:(n,o)=>this.tableProps.createCellCoords(n,o),fixedRowsBottom:()=>0,minSpareRows:()=>0,minSpareCols:()=>0,autoWrapRow:()=>!0,autoWrapCol:()=>!0})),Mo(Cl,this).addLocalHook("beforeTransformStart",function(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return i.runLocalHooks("beforeModifyTransformStart",...o)}),Mo(Cl,this).addLocalHook("afterTransformStart",function(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return i.runLocalHooks("afterModifyTransformStart",...o)}),Mo(Cl,this).addLocalHook("beforeTransformEnd",function(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return i.runLocalHooks("beforeModifyTransformEnd",...o)}),Mo(Cl,this).addLocalHook("afterTransformEnd",function(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return i.runLocalHooks("afterModifyTransformEnd",...o)}),Mo(Cl,this).addLocalHook("insertRowRequire",function(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return i.runLocalHooks("insertRowRequire",...o)}),Mo(Cl,this).addLocalHook("insertColRequire",function(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return i.runLocalHooks("insertColRequire",...o)}),Mo(Cl,this).addLocalHook("beforeRowWrap",function(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return i.runLocalHooks("beforeRowWrap",...o)}),Mo(Cl,this).addLocalHook("beforeColumnWrap",function(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return i.runLocalHooks("beforeColumnWrap",...o)}),Mo(m0,this).addLocalHook("beforeTransformStart",function(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return i.runLocalHooks("beforeModifyTransformFocus",...o)}),Mo(m0,this).addLocalHook("afterTransformStart",function(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return i.runLocalHooks("afterModifyTransformFocus",...o)})}getSelectedRange(){return this.selectedRange}markSource(t){th(zA,this,t)}markEndSource(){th(zA,this,"unknown")}getSelectionSource(){return Mo(zA,this)}setExpectedLayers(t){th(B2,this,t)}begin(){this.inProgress=!0}finish(){this.runLocalHooks("afterSelectionFinished",Array.from(this.selectedRange)),this.inProgress=!1,th(B2,this,-1)}isInProgress(){return this.inProgress}setRangeStart(t,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:t,o=this.settings.selectionMode==="multiple",s=_r(r)?this.tableProps.getShortcutManager().isCtrlPressed():r,a=t.clone();th(VA,this,!1),this.runLocalHooks(`beforeSetRangeStart${i?"Only":""}`,a),(!o||o&&!s&&_r(r))&&this.selectedRange.clear(),this.selectedRange.add(a).current().setHighlight(n.clone()),this.getLayerLevel()===0&&(this.selectedByRowHeader.clear(),this.selectedByColumnHeader.clear()),i||this.setRangeEnd(t)}setRangeStartOnly(t,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t;this.setRangeStart(t,r,!0,i)}setRangeEnd(t){if(this.selectedRange.isEmpty())return;let r=t.clone(),i=this.tableProps.countRows(),n=this.tableProps.countCols(),o=this.selectedRange.current().clone().setTo(t).isSingleHeader();if((i>0||n>0)&&(i===0&&r.col<0&&!o||n===0&&r.row<0&&!o))return;this.runLocalHooks("beforeSetRangeEnd",r),this.begin();let s=this.selectedRange.current();if(this.settings.navigableHeaders||s.highlight.normalize(),this.settings.selectionMode==="single")s.setFrom(s.highlight),s.setTo(s.highlight);else{let l=s.getHorizontalDirection(),c=s.getVerticalDirection(),d=this.isMultiple();s.setTo(r),d&&(l!==s.getHorizontalDirection()||s.getWidth()===1&&!s.includes(s.highlight))&&s.from.assign({col:s.highlight.col}),d&&(c!==s.getVerticalDirection()||s.getHeight()===1&&!s.includes(s.highlight))&&s.from.assign({row:s.highlight.row})}i>0&&n>0&&(!this.settings.navigableHeaders||this.settings.navigableHeaders&&!s.isSingleHeader())&&s.to.normalize(),this.runLocalHooks("beforeHighlightSet"),this.setRangeFocus(this.selectedRange.current().highlight),this.applyAndCommit();let a=Mo(B2,this)===-1||this.selectedRange.size()===Mo(B2,this);this.runLocalHooks("afterSetRangeEnd",t,a)}applyAndCommit(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectedRange.current(),r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLayerLevel(),i=this.tableProps.countRows(),n=this.tableProps.countCols();r<this.highlight.layerLevel&&(Tt(this.highlight.getAreas(),m=>void m.clear()),Tt(this.highlight.getLayeredAreas(),m=>void m.clear()),Tt(this.highlight.getRowHeaders(),m=>void m.clear()),Tt(this.highlight.getColumnHeaders(),m=>void m.clear()),Tt(this.highlight.getActiveRowHeaders(),m=>void m.clear()),Tt(this.highlight.getActiveColumnHeaders(),m=>void m.clear()),Tt(this.highlight.getActiveCornerHeaders(),m=>void m.clear()),Tt(this.highlight.getRowHighlights(),m=>void m.clear()),Tt(this.highlight.getColumnHighlights(),m=>void m.clear())),this.highlight.useLayerLevel(r);let o=this.highlight.createArea(),s=this.highlight.createLayeredArea(),a=this.highlight.createRowHeader(),l=this.highlight.createColumnHeader(),c=this.highlight.createActiveRowHeader(),d=this.highlight.createActiveColumnHeader(),u=this.highlight.createActiveCornerHeader(),h=this.highlight.createRowHighlight(),f=this.highlight.createColumnHighlight();if(o.clear(),s.clear(),a.clear(),l.clear(),c.clear(),d.clear(),u.clear(),h.clear(),f.clear(),this.highlight.isEnabledFor(cp,t.highlight)&&(this.isMultiple()||r>=1)&&(o.add(t.from).add(t.to).commit(),s.add(t.from).add(t.to).commit(),r===1)){let m=this.selectedRange.previous();this.highlight.useLayerLevel(r-1),this.highlight.createArea().add(m.from).commit().syncWith(m),this.highlight.createLayeredArea().add(m.from).commit().syncWith(m),this.highlight.useLayerLevel(r)}if(this.highlight.isEnabledFor(lp,t.highlight)){if(!t.isSingleHeader()){let p=this.tableProps.createCellCoords(Math.max(t.from.row,0),-1),b=this.tableProps.createCellCoords(t.to.row,-1),_=this.tableProps.createCellCoords(-1,Math.max(t.from.col,0)),E=this.tableProps.createCellCoords(-1,t.to.col);this.settings.selectionMode==="single"?(a.add(p).commit(),l.add(_).commit(),h.add(p).commit(),f.add(_).commit()):(a.add(p).add(b).commit(),l.add(_).add(E).commit(),h.add(p).add(b).commit(),f.add(_).add(E).commit())}let m=!Mo(H2,this)&&this.isEntireRowSelected()&&(n>0&&n===t.getWidth()||n===0&&this.isSelectedByRowHeader()),g=!Mo(H2,this)&&this.isEntireColumnSelected()&&(i>0&&i===t.getHeight()||i===0&&this.isSelectedByColumnHeader());m&&c.add(this.tableProps.createCellCoords(Math.max(t.from.row,0),Math.min(-this.tableProps.countRowHeaders(),-1))).add(this.tableProps.createCellCoords(Math.max(t.to.row,0),-1)).commit(),g&&d.add(this.tableProps.createCellCoords(Math.min(-this.tableProps.countColHeaders(),-1),Math.max(t.from.col,0))).add(this.tableProps.createCellCoords(-1,Math.max(t.to.col,0))).commit(),m&&g&&u.add(this.tableProps.createCellCoords(-this.tableProps.countColHeaders(),-this.tableProps.countRowHeaders())).add(this.tableProps.createCellCoords(-1,-1)).commit()}}setRangeFocus(t){if(this.selectedRange.isEmpty())return;let r=this.selectedRange.current();this.inProgress||this.runLocalHooks("beforeSetFocus",t);let i=this.highlight.getFocus();i.clear(),r.setHighlight(t),this.inProgress||this.runLocalHooks("beforeHighlightSet"),this.highlight.isEnabledFor(s0,r.highlight)&&i.add(r.highlight).commit().syncWith(r),this.inProgress||(th(VA,this,!0),this.runLocalHooks("afterSetFocus",r.highlight))}transformStart(t,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.settings.navigableHeaders&&Mo(Cl,this).setOffsetSize({x:this.tableProps.countRowHeaders(),y:this.tableProps.countColHeaders()}),this.setRangeStart(Mo(Cl,this).transformStart(t,r,i))}transformEnd(t,r){this.settings.navigableHeaders&&Mo(Cl,this).setOffsetSize({x:this.tableProps.countRowHeaders(),y:this.tableProps.countColHeaders()}),this.setRangeEnd(Mo(Cl,this).transformEnd(t,r))}transformFocus(t,r){let i=this.selectedRange.current(),{row:n,col:o}=i.getOuterTopStartCorner(),s=this.tableProps.countRenderableColumnsInRange(0,o-1),a=this.tableProps.countRenderableRowsInRange(0,n-1);i.highlight.isHeader()?Mo(m0,this).setOffsetSize({x:o<0?Math.abs(o):-s,y:n<0?Math.abs(n):-a}):Mo(m0,this).setOffsetSize({x:o<0?0:-s,y:n<0?0:-a});let l=Mo(m0,this).transformStart(t,r);this.setRangeFocus(l.normalize())}shiftRows(t,r){if(!this.isSelected())return;let i=this.selectedRange.current();if(this.isSelectedByCorner())this.selectAll(!0,!0,{disableHeadersHighlight:!0});else if(this.isSelectedByColumnHeader()||i.getOuterTopStartCorner().row>=t){let{from:n,to:o,highlight:s}=i,a=this.tableProps.countRows(),l=this.isSelectedByRowHeader(),c=this.isSelectedByColumnHeader(),d=c?-1:0,u=c?0:r;this.getSelectedRange().pop();let h=this.tableProps.createCellCoords(Kr(n.row+u,d,a-1),n.col),f=this.tableProps.createCellCoords(Kr(o.row+r,d,a-1),o.col);this.markSource("shift"),s.row>=t?this.setRangeStartOnly(h,!0,this.tableProps.createCellCoords(Kr(s.row+r,0,a-1),s.col)):this.setRangeStartOnly(h,!0),l&&this.selectedByRowHeader.add(this.getLayerLevel()),c&&this.selectedByColumnHeader.add(this.getLayerLevel()),this.setRangeEnd(f),this.markEndSource()}}shiftColumns(t,r){if(!this.isSelected())return;let i=this.selectedRange.current();if(this.isSelectedByCorner())this.selectAll(!0,!0,{disableHeadersHighlight:!0});else if(this.isSelectedByRowHeader()||i.getOuterTopStartCorner().col>=t){let{from:n,to:o,highlight:s}=i,a=this.tableProps.countCols(),l=this.isSelectedByRowHeader(),c=this.isSelectedByColumnHeader(),d=l?-1:0,u=l?0:r;this.getSelectedRange().pop();let h=this.tableProps.createCellCoords(n.row,Kr(n.col+u,d,a-1)),f=this.tableProps.createCellCoords(o.row,Kr(o.col+r,d,a-1));this.markSource("shift"),s.col>=t?this.setRangeStartOnly(h,!0,this.tableProps.createCellCoords(s.row,Kr(s.col+r,0,a-1))):this.setRangeStartOnly(h,!0),l&&this.selectedByRowHeader.add(this.getLayerLevel()),c&&this.selectedByColumnHeader.add(this.getLayerLevel()),this.setRangeEnd(f),this.markEndSource()}}getLayerLevel(){return this.selectedRange.size()-1}isSelected(){return!this.selectedRange.isEmpty()}isMultiple(){if(!this.isSelected())return!1;let t=va(!this.selectedRange.current().isSingle());return this.runLocalHooks("afterIsMultipleSelection",t),t.value}isFocusSelectionChanged(){return this.isSelected()&&Mo(VA,this)}isSelectedByRowHeader(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getLayerLevel();return!this.isSelectedByCorner(t)&&(t===-1?this.selectedByRowHeader.size>0:this.selectedByRowHeader.has(t))}isEntireRowSelected(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getLayerLevel(),r=n=>{let{col:o}=n.getOuterTopStartCorner(),s=this.tableProps.countRowHeaders(),a=this.tableProps.countCols();return(s>0&&o<0||s===0)&&n.getWidth()===a};if(t===-1)return Array.from(this.selectedRange).some(n=>r(n));let i=this.selectedRange.peekByIndex(t);return i?r(i):!1}isSelectedByColumnHeader(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getLayerLevel();return!this.isSelectedByCorner()&&(t===-1?this.selectedByColumnHeader.size>0:this.selectedByColumnHeader.has(t))}isEntireColumnSelected(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getLayerLevel(),r=n=>{let{row:o}=n.getOuterTopStartCorner(),s=this.tableProps.countColHeaders(),a=this.tableProps.countRows();return(s>0&&o<0||s===0)&&n.getHeight()===a};if(t===-1)return Array.from(this.selectedRange).some(n=>r(n));let i=this.selectedRange.peekByIndex(t);return i?r(i):!1}isSelectedByAnyHeader(){return this.isSelectedByRowHeader(-1)||this.isSelectedByColumnHeader(-1)||this.isSelectedByCorner()}isSelectedByCorner(){return this.selectedByColumnHeader.has(this.getLayerLevel())&&this.selectedByRowHeader.has(this.getLayerLevel())}inInSelection(t){return this.selectedRange.includes(t)}isCellCornerVisible(){return this.settings.fillHandle&&!this.tableProps.isEditorOpened()&&!this.isMultiple()}isCellVisible(t){let r=this.tableProps.visualToRenderableCoords(t);return r.row!==null&&r.col!==null}isAreaCornerVisible(t){return Number.isInteger(t)&&t!==this.getLayerLevel()?!1:this.settings.fillHandle&&!this.tableProps.isEditorOpened()&&this.isMultiple()}clear(){this.selectedRange.clear(),this.highlight.clear()}deselect(){this.isSelected()&&(this.inProgress=!1,this.clear(),this.runLocalHooks("afterDeselect"))}selectAll(){var t;let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{focusPosition:!1,disableHeadersHighlight:!1},o=this.tableProps.countRows(),s=this.tableProps.countCols(),a=this.tableProps.countRowHeaders(),l=this.tableProps.countColHeaders(),c=i?-l:0,d=r?-a:0;if(c===0&&d===0&&(o===0||s===0))return;let u=(t=this.getSelectedRange().current())===null||t===void 0?void 0:t.highlight,{focusPosition:h,disableHeadersHighlight:f}=n;th(H2,this,f),h&&Number.isInteger(h?.row)&&Number.isInteger(h?.col)&&(u=this.tableProps.createCellCoords(Kr(h.row,c,o-1),Kr(h.col,d,s-1)));let m=this.tableProps.createCellCoords(c,d),g=this.tableProps.createCellCoords(o-1,s-1);this.clear(),this.setRangeStartOnly(m,void 0,u),d<0&&this.selectedByRowHeader.add(this.getLayerLevel()),c<0&&this.selectedByColumnHeader.add(this.getLayerLevel()),this.setRangeEnd(g),this.finish(),th(H2,this,!1)}selectCells(t){var r=this;let i=vf(t);if(i===F2)return!1;if(i===L2)throw new Error(Gi`Unsupported format of the selection ranges was passed. To select cells pass\x20
        the coordinates as an array of arrays ([[rowStart, columnStart/columnPropStart, rowEnd,\x20
        columnEnd/columnPropEnd]]) or as an array of CellRange objects.`);let n=fp(i,{createCellCoords:function(){return r.tableProps.createCellCoords(...arguments)},createCellRange:function(){return r.tableProps.createCellRange(...arguments)},propToCol:l=>this.tableProps.propToCol(l),keepDirection:!0}),o=this.settings.navigableHeaders,s={countRows:this.tableProps.countRows(),countCols:this.tableProps.countCols(),countRowHeaders:o?this.tableProps.countRowHeaders():0,countColHeaders:o?this.tableProps.countColHeaders():0},a=!t.some(l=>{let c=n(l),d=c.isValid(s);return!(d&&!c.containsHeaders()||d&&c.containsHeaders()&&c.isSingleHeader())});return a&&(this.clear(),this.setExpectedLayers(t.length),Tt(t,l=>{let{from:c,to:d}=n(l);this.setRangeStartOnly(c.clone(),!1),this.setRangeEnd(d.clone())}),this.finish()),a}selectColumns(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=typeof t=="string"?this.tableProps.propToCol(t):t,o=typeof r=="string"?this.tableProps.propToCol(r):r,s=this.tableProps.countRows(),a=this.tableProps.countCols(),l=this.tableProps.countColHeaders(),c=l===0?0:-l,d=this.tableProps.createCellCoords(c,n),u=this.tableProps.createCellCoords(s-1,o),h=this.tableProps.createCellRange(d,d,u).isValid({countRows:s,countCols:a,countRowHeaders:0,countColHeaders:l});if(h){let f=0,m=0;Number.isInteger(i?.row)&&Number.isInteger(i?.col)?(f=Kr(i.row,c,s-1),m=Kr(i.col,Math.min(n,o),Math.max(n,o))):(f=Kr(i,c,s-1),m=n);let g=this.tableProps.createCellCoords(f,m),p=l===0?0:Kr(g.row,c,-1),b=s-1,_=this.tableProps.createCellCoords(p,n),E=this.tableProps.createCellCoords(b,o);this.runLocalHooks("beforeSelectColumns",_,E,g),_.row=p,E.row=b,this.setRangeStartOnly(_,void 0,g),this.selectedByColumnHeader.add(this.getLayerLevel()),this.setRangeEnd(E),this.runLocalHooks("afterSelectColumns",_,E,g),this.finish()}return h}selectRows(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=this.tableProps.countRows(),o=this.tableProps.countCols(),s=this.tableProps.countRowHeaders(),a=s===0?0:-s,l=this.tableProps.createCellCoords(t,a),c=this.tableProps.createCellCoords(r,o-1),d=this.tableProps.createCellRange(l,l,c).isValid({countRows:n,countCols:o,countRowHeaders:s,countColHeaders:0});if(d){let u=0,h=0;Number.isInteger(i?.row)&&Number.isInteger(i?.col)?(u=Kr(i.row,Math.min(t,r),Math.max(t,r)),h=Kr(i.col,a,o-1)):(u=t,h=Kr(i,a,o-1));let f=this.tableProps.createCellCoords(u,h),m=s===0?0:Kr(f.col,a,-1),g=o-1,p=this.tableProps.createCellCoords(t,m),b=this.tableProps.createCellCoords(r,g);this.runLocalHooks("beforeSelectRows",p,b,f),p.col=m,b.col=g,this.setRangeStartOnly(p,void 0,f),this.selectedByRowHeader.add(this.getLayerLevel()),this.setRangeEnd(b),this.runLocalHooks("afterSelectRows",p,b,f),this.finish()}return d}refresh(){if(!this.isSelected())return;let t=this.tableProps.countRows(),r=this.tableProps.countCols();if(t===0||r===0){this.deselect();return}let i=this.selectedRange.peekByIndex(this.selectedRange.size()-1),{from:n,to:o,highlight:s}=i;this.clear(),s.assign({row:Kr(s.row,-1/0,t-1),col:Kr(s.col,-1/0,r-1)}),n.assign({row:Kr(n.row,-1/0,t-1),col:Kr(n.col,-1/0,r-1)}),o.assign({row:Kr(o.row,0,t-1),col:Kr(o.col,0,r-1)}),this.selectedRange.ranges.push(i),this.highlight.getFocus().add(s).commit().syncWith(i),this.applyAndCommit(i)}commit(){if(this.highlight.getCustomSelections().forEach(n=>{n.commit()}),!this.isSelected())return;let r=this.highlight.getFocus(),i=this.getLayerLevel();r.commit().syncWith(this.selectedRange.current());for(let n=0;n<this.selectedRange.size();n+=1){this.highlight.useLayerLevel(n);let o=this.highlight.createArea(),s=this.highlight.createLayeredArea(),a=this.highlight.createRowHeader(),l=this.highlight.createColumnHeader(),c=this.highlight.createActiveRowHeader(),d=this.highlight.createActiveColumnHeader(),u=this.highlight.createActiveCornerHeader(),h=this.highlight.createRowHighlight(),f=this.highlight.createColumnHighlight();o.commit(),s.commit(),a.commit(),l.commit(),c.commit(),d.commit(),u.commit(),h.commit(),f.commit()}this.highlight.useLayerLevel(i)}};Zi(UA,jn);var nL=UA;var $re=ot(Gt(),1),Gre=ot(we(),1);var eQ=/^(\r\n|\n\r|\r|\n)/,$St=/^[^\t\r\n]+/,iQ=/^\t/;function oL(e){let t=[[""]];if(e.length===0)return t;let r=0,i=0,n;for(;e.length>0&&n!==e.length;)if(n=e.length,e.match(iQ))e=e.replace(iQ,""),r+=1,t[i][r]="";else if(e.match(eQ))e=e.replace(eQ,""),r=0,i+=1,t[i]=[""];else{let o="";if(e.startsWith('"')){let s=0,a=!0;for(;a;){let l=e.slice(0,1);l==='"'&&(s+=1),o+=l,e=e.slice(1),(e.length===0||e.match(/^[\t\r\n]/)&&s%2===0)&&(a=!1)}o=o.replace(/^"/,"").replace(/"$/,"").replace(/["]*/g,l=>new Array(Math.floor(l.length/2)).fill('"').join(""))}else{let s=e.match($St);o=s?s[0]:"",e=e.slice(o.length)}t[i][r]=o}return t}function mp(e){let t,r,i,n,o="",s;for(t=0,r=e.length;t<r;t+=1){for(n=e[t].length,i=0;i<n;i+=1)i>0&&(o+="	"),s=e[t][i],typeof s=="string"?s.indexOf(`
`)>-1?o+=`"${s.replace(/"/g,'""')}"`:o+=s:s==null?o+="":o+=s;t!==r-1&&(o+=`
`)}return o}function p0(e,t,r){return t=GSt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GSt(e){var t=KSt(e,"string");return typeof t=="symbol"?t:t+""}function KSt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sL=class e{static get DESTINATION_RENDERER(){return 1}static get DESTINATION_CLIPBOARD_GENERATOR(){return 2}constructor(t,r,i){p0(this,"hot",void 0),p0(this,"metaManager",void 0),p0(this,"tableMeta",void 0),p0(this,"dataSource",void 0),p0(this,"duckSchema",void 0),p0(this,"colToPropCache",void 0),p0(this,"propToColCache",void 0),this.hot=t,this.metaManager=i,this.tableMeta=i.getTableMeta(),this.dataSource=r,this.duckSchema=this.createDuckSchema(),this.createMap()}createMap(){let t=this.getSchema();if(typeof t>"u")throw new Error("trying to create `columns` definition but you didn't provide `schema` nor `data`");let r=this.tableMeta.columns,i;if(this.colToPropCache=[],this.propToColCache=new Map,r){let n=0,o=0,s=!1;if(typeof r=="function"){let a=sy(t);n=a>0?a:this.countFirstRowKeys(),s=!0}else{let a=this.tableMeta.maxCols;n=Math.min(a,r.length)}for(i=0;i<n;i++){let a=s?r(i):r[i];if(gi(a)){if(typeof a.data<"u"){let l=s?o:i;this.colToPropCache[l]=a.data,this.propToColCache.set(a.data,l)}o+=1}}}else this.recursiveDuckColumns(t)}countFirstRowKeys(){return TA(this.dataSource)}recursiveDuckColumns(t,r,i){let n=r,o=i,s;return typeof n>"u"&&(n=0,o=""),typeof t=="object"&&!Array.isArray(t)&&bi(t,(a,l)=>{a===null?(s=o+l,this.colToPropCache.push(s),this.propToColCache.set(s,n),n+=1):n=this.recursiveDuckColumns(a,n,`${l}.`)}),n}colToProp(t){if(Number.isInteger(t)===!1)return t;let r=this.hot.toPhysicalColumn(t);return r===null?t:this.colToPropCache&&Ne(this.colToPropCache[r])?this.colToPropCache[r]:r}propToCol(t){let r=this.propToColCache.get(t);if(Ne(r))return this.hot.toVisualColumn(r);let i=this.hot.toVisualColumn(t);return i===null?t:i}getSchema(){let t=this.tableMeta.dataSchema;return t?typeof t=="function"?t():t:this.duckSchema}createDuckSchema(){return this.dataSource&&this.dataSource[0]?Qg(this.dataSource[0]):{}}refreshDuckSchema(){this.duckSchema=this.createDuckSchema()}createRow(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,{source:i,mode:n="above"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=this.hot.countSourceRows(),s=o,a=0,l=t;if((typeof l!="number"||l>=o)&&(l=o),l<this.hot.countRows()&&(s=this.hot.toPhysicalRow(l)),this.hot.runHooks("beforeCreateRow",l,r,i)===!1||s===null)return{delta:0};let d=this.tableMeta.maxRows,u=this.getSchema().length,h=[];for(;a<r&&o+a<d;){let m=null;this.hot.dataType==="array"?this.tableMeta.dataSchema?m=jo(this.getSchema()):(m=[],Oe(u-1,()=>m.push(null))):this.hot.dataType==="function"?m=this.tableMeta.dataSchema(l+a):(m={},Jg(m,this.getSchema())),h.push(m),a+=1}this.hot.rowIndexMapper.insertIndexes(l,a),n==="below"&&(s=Math.min(s+1,o)),this.spliceData(s,0,h);let f=this.hot.toVisualRow(s);return this.hot.countSourceRows()===h.length&&this.hot.columnIndexMapper.initToLength(this.hot.getInitialColumnCount()),a>0&&(t==null?this.metaManager.createRow(null,a):i!=="auto"&&this.metaManager.createRow(s,r)),this.hot.runHooks("afterCreateRow",f,a,i),this.hot.forceFullRender=!0,{delta:a,startPhysicalIndex:s}}createCol(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,{source:i,mode:n="start"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!this.hot.isColumnModificationAllowed())throw new Error("Cannot create new column. When data source in an object, you can only have as much columns as defined in first data row, data schema or in the 'columns' setting.If you want to be able to add new columns, you have to use array datasource.");let o=this.dataSource,s=this.tableMeta.maxCols,a=this.hot.countSourceCols(),l=t;if((typeof l!="number"||l>=a)&&(l=a),this.hot.runHooks("beforeCreateCol",l,r,i)===!1)return{delta:0};let d=a;l<this.hot.countCols()&&(d=this.hot.toPhysicalColumn(l));let u=this.hot.countSourceRows(),h=this.hot.countCols(),f=0,m=d;n==="end"&&(m=Math.min(m+1,a));let g=m;for(;f<r&&h<s;){if(typeof l!="number"||l>=h)if(u>0)for(let b=0;b<u;b+=1)typeof o[b]>"u"&&(o[b]=[]),o[b].push(null);else o.push([null]);else for(let b=0;b<u;b++)o[b].splice(m,0,null);f+=1,m+=1,h+=1}this.hot.columnIndexMapper.insertIndexes(l,f),f>0&&(t==null?this.metaManager.createColumn(null,f):i!=="auto"&&this.metaManager.createColumn(g,r));let p=this.hot.toVisualColumn(g);return this.hot.runHooks("afterCreateCol",p,f,i),this.hot.forceFullRender=!0,this.refreshDuckSchema(),{delta:f,startPhysicalIndex:g}}removeRow(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,i=arguments.length>2?arguments[2]:void 0,n=Number.isInteger(t)?t:-r,o=this.visualRowsToPhysical(n,r),s=this.hot.countSourceRows();if(n=(s+n)%s,this.hot.runHooks("beforeRemoveRow",n,o.length,o,i)===!1)return!1;let l=o.length;if(this.filterData(n,l,o),n<this.hot.countRows()){this.hot.rowIndexMapper.removeIndexes(o);let d=Ne(this.tableMeta.columns)||Ne(this.tableMeta.dataSchema);this.hot.rowIndexMapper.getNotTrimmedIndexesLength()===0&&d===!1&&this.hot.columnIndexMapper.setIndexesSequence([])}return o.slice(0).sort((d,u)=>u-d).forEach(d=>{this.metaManager.removeRow(d,1)}),this.hot.runHooks("afterRemoveRow",n,l,o,i),this.hot.forceFullRender=!0,!0}removeCol(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,i=arguments.length>2?arguments[2]:void 0;if(this.hot.dataType==="object"||this.tableMeta.columns)throw new Error("cannot remove column with object data source or columns option specified");let n=typeof t!="number"?-r:t;n=(this.hot.countCols()+n)%this.hot.countCols();let o=this.visualColumnsToPhysical(n,r),s=o.slice(0).sort((u,h)=>h-u);if(this.hot.runHooks("beforeRemoveCol",n,r,o,i)===!1)return!1;let l=!0,c=s.length,d=this.dataSource;for(let u=0;u<c;u++)l&&o[0]!==o[u]-u&&(l=!1);if(l)for(let u=0,h=this.hot.countSourceRows();u<h;u++)d[u].splice(o[0],r),u===0&&this.metaManager.removeColumn(o[0],r);else for(let u=0,h=this.hot.countSourceRows();u<h;u++)for(let f=0;f<c;f++)d[u].splice(s[f],1),u===0&&this.metaManager.removeColumn(s[f],1);return n<this.hot.countCols()&&(this.hot.columnIndexMapper.removeIndexes(o),this.hot.columnIndexMapper.getNotTrimmedIndexesLength()===0&&this.hot.rowIndexMapper.setIndexesSequence([])),this.hot.runHooks("afterRemoveCol",n,r,o,i),this.hot.forceFullRender=!0,this.refreshDuckSchema(),!0}spliceCol(t,r,i){let n=this.hot.getDataAtCol(t),o=n.slice(r,r+i),s=n.slice(r+i);for(var a=arguments.length,l=new Array(a>3?a-3:0),c=3;c<a;c++)l[c-3]=arguments[c];wN(l,s);let d=0;for(;d<i;)l.push(null),d+=1;return HG(l),this.hot.populateFromArray(r,t,l,null,null,"spliceCol"),o}spliceRow(t,r,i){let n=this.hot.getSourceDataAtRow(t),o=n.slice(r,r+i),s=n.slice(r+i);for(var a=arguments.length,l=new Array(a>3?a-3:0),c=3;c<a;c++)l[c-3]=arguments[c];wN(l,s);let d=0;for(;d<i;)l.push(null),d+=1;return this.hot.populateFromArray(t,r,[l],null,null,"spliceRow"),o}spliceData(t,r,i){if(this.hot.runHooks("beforeDataSplice",t,r,i)!==!1){let o=[...this.dataSource.slice(0,t),...i,...this.dataSource.slice(t)];this.dataSource.length=0,o.forEach(s=>this.dataSource.push(s))}}filterData(t,r,i){let n=this.hot.runHooks("filterData",t,r,i);Array.isArray(n)===!1&&(n=this.dataSource.filter((o,s)=>i.indexOf(s)===-1)),this.dataSource.length=0,Array.prototype.push.apply(this.dataSource,n)}get(t,r){let i=this.hot.toPhysicalRow(t),n=this.dataSource[i],o=this.hot.runHooks("modifyRowData",i);n=isNaN(o)?o:n;let{dataDotNotation:s}=this.hot.getSettings(),a=null;if(n&&n.hasOwnProperty&&en(n,r))a=n[r];else if(s&&typeof r=="string"&&r.indexOf(".")>-1){let l=n;if(!l)return null;let c=r.split(".");for(let d=0,u=c.length;d<u;d++)if(l=l[c[d]],typeof l>"u")return null;a=l}else typeof r=="function"&&(a=r(this.dataSource.slice(i,i+1)[0]));if(this.hot.hasHook("modifyData")){let l=va(a);this.hot.runHooks("modifyData",i,this.propToCol(r),l,"get"),l.isTouched()&&(a=l.value)}return a}getCopyable(t,r){return this.hot.getCellMeta(t,this.propToCol(r)).copyable?this.get(t,r):""}set(t,r,i){let n=this.hot.toPhysicalRow(t),o=i,s=this.dataSource[n],a=this.hot.runHooks("modifyRowData",n);if(s=isNaN(a)?a:s,this.hot.hasHook("modifyData")){let c=va(o);this.hot.runHooks("modifyData",n,this.propToCol(r),c,"set"),c.isTouched()&&(o=c.value)}let{dataDotNotation:l}=this.hot.getSettings();if(s&&s.hasOwnProperty&&en(s,r))s[r]=o;else if(l&&typeof r=="string"&&r.indexOf(".")>-1){let c=s,d=0,u,h=r.split(".");for(d=0,u=h.length-1;d<u;d++)typeof c[h[d]]>"u"&&(c[h[d]]={}),c=c[h[d]];c[h[d]]=o}else typeof r=="function"?r(this.dataSource.slice(n,n+1)[0],o):s[r]=o}visualRowsToPhysical(t,r){let i=this.hot.countSourceRows(),n=[],o=(i+t)%i,s=r,a;for(;o<i&&s;)a=this.hot.toPhysicalRow(o),n.push(a),s-=1,o+=1;return n}visualColumnsToPhysical(t,r){let i=this.hot.countCols(),n=[],o=(i+t)%i,s=r;for(;o<i&&s;){let a=this.hot.toPhysicalColumn(o);n.push(a),s-=1,o+=1}return n}clear(){for(let t=0;t<this.hot.countSourceRows();t++)for(let r=0;r<this.hot.countCols();r++)this.set(t,this.colToProp(r),"")}getLength(){let t=this.tableMeta.maxRows,r;t<0||t===0?r=0:r=t||1/0;let i=this.hot.rowIndexMapper.getNotTrimmedIndexesLength();return Math.min(i,r)}getAll(){let t={row:0,col:0},r={row:Math.max(this.hot.countRows()-1,0),col:Math.max(this.hot.countCols()-1,0)};return t.row-r.row===0&&!this.hot.countSourceRows()?[]:this.getRange(t,r,e.DESTINATION_RENDERER)}countCachedColumns(){return this.colToPropCache.length}getRange(t,r,i){let n=[],o,s,a,l=this.tableMeta.maxRows,c=this.tableMeta.maxCols;if(l===0||c===0)return[];let d=i===e.DESTINATION_CLIPBOARD_GENERATOR?this.getCopyable:this.get,u=Math.min(Math.max(l-1,0),Math.max(t.row,r.row)),h=Math.min(Math.max(c-1,0),Math.max(t.col,r.col));for(o=Math.min(t.row,r.row);o<=u;o++){a=[];let f=o>=0?this.hot.toPhysicalRow(o):o;for(s=Math.min(t.col,r.col);s<=h&&f!==null;s++)a.push(d.call(this,o,this.colToProp(s)));f!==null&&n.push(a)}return n}getText(t,r){return mp(this.getRange(t,r,e.DESTINATION_RENDERER))}getCopyableText(t,r){return mp(this.getRange(t,r,e.DESTINATION_CLIPBOARD_GENERATOR))}destroy(){this.hot=null,this.metaManager=null,this.dataSource=null,this.duckSchema=null,this.colToPropCache.length=0,this.propToColCache.clear(),this.propToColCache=void 0}},rQ=sL;var ooe=ot(Gt(),1);var Sne=ot(Gt(),1);var dne=ot(Gt(),1),une=ot(yn(),1),hne=ot(_n(),1),fne=ot(wn(),1),mne=ot(Cn(),1),pne=ot(xn(),1),gne=ot(Sn(),1),bne=ot(En(),1);var ine=ot(Gt(),1);var{register:XSt,getItem:ZSt,hasItem:aL,getNames:ane,getValues:lne}=Zo("cellTypes");function nQ(e){if(!aL(e))throw Error(`You declared cell type "${e}" as a string that is not mapped to a known object.
                 Cell type must be an object or a string mapped to an object registered by
                 "Handsontable.cellTypes.registerCellType" method`);return ZSt(e)}function tc(e,t){typeof e!="string"&&(t=e,e=t.CELL_TYPE);let{editor:r,renderer:i,validator:n}=t;r&&Ua(e,r),i&&bl(e,i),n&&ep(e,n),XSt(e,t)}function QSt(e,t){var r;return e==="CELL_TYPE"?!1:((r=t._automaticallyAssignedMetaProps)===null||r===void 0?void 0:r.has(e))||!en(t,e)}function pp(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,i=typeof t.type=="string"?nQ(t.type):t.type;if(e._automaticallyAssignedMetaProps&&bi(t,(o,s)=>void e._automaticallyAssignedMetaProps.delete(s)),!gi(i))return;r===e&&!e._automaticallyAssignedMetaProps&&(e._automaticallyAssignedMetaProps=new Set);let n={};bi(i,(o,s)=>{if(QSt(s,r)){var a;n[s]=o,(a=e._automaticallyAssignedMetaProps)===null||a===void 0||a.add(s)}}),Wr(e,n)}function oQ(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];function r(){}kd(r,e);for(let i=0;i<t.length;i++)r.prototype[t[i]]=void 0;return r}function Ny(e){return Number.isInteger(e)&&e>=0}function Ly(e,t){if(!e())throw new Error(`Assertion failed: ${t}`)}function j2(e){return e==null}var V2=()=>({_automaticallyAssignedMetaProps:void 0,activeHeaderClassName:"ht__active_highlight",allowEmpty:!0,allowHtml:!1,allowInsertColumn:!0,allowInsertRow:!0,allowInvalid:!0,allowRemoveColumn:!0,allowRemoveRow:!0,ariaTags:!0,autoColumnSize:void 0,autoRowSize:void 0,autoWrapCol:!1,autoWrapRow:!1,bindRowsWithHeaders:void 0,cell:[],cells:void 0,checkedTemplate:void 0,className:void 0,colHeaders:null,collapsibleColumns:void 0,columnHeaderHeight:void 0,columns:void 0,columnSorting:void 0,columnSummary:void 0,colWidths:void 0,commentedCellClassName:"htCommentCell",comments:!1,contextMenu:void 0,copyable:!0,copyPaste:!0,correctFormat:!1,currentColClassName:void 0,currentHeaderClassName:"ht__highlight",currentRowClassName:void 0,customBorders:!1,data:void 0,dataDotNotation:!0,dataSchema:void 0,dateFormat:"DD/MM/YYYY",timeFormat:"h:mm:ss a",datePickerConfig:void 0,defaultDate:void 0,disableVisualSelection:!1,dragToScroll:!0,dropdownMenu:void 0,editor:void 0,enterBeginsEditing:!0,enterMoves:{col:0,row:1},fillHandle:{autoInsertRow:!1},filter:!0,filteringCaseSensitive:!1,filters:void 0,fixedColumnsLeft:0,fixedColumnsStart:0,fixedRowsBottom:0,fixedRowsTop:0,formulas:void 0,fragmentSelection:!1,height:void 0,hiddenColumns:void 0,hiddenRows:void 0,invalidCellClassName:"htInvalid",imeFastEdit:!1,isEmptyCol(e){let t,r,i;for(t=0,r=this.countRows();t<r;t++)if(i=this.getDataAtCell(t,e),sn(i)===!1)return!1;return!0},isEmptyRow(e){let t,r,i,n;for(t=0,r=this.countCols();t<r;t++)if(i=this.getDataAtCell(e,t),sn(i)===!1)return typeof i=="object"?(n=this.getCellMeta(e,t),oy(this.getSchema()[n.prop],i)):!1;return!0},label:void 0,language:"en-US",layoutDirection:"inherit",licenseKey:void 0,locale:"en-US",manualColumnFreeze:void 0,manualColumnMove:void 0,manualColumnResize:void 0,manualRowMove:void 0,manualRowResize:void 0,maxCols:1/0,maxRows:1/0,mergeCells:!1,minCols:0,minRows:0,minSpareCols:0,minSpareRows:0,multiColumnSorting:void 0,navigableHeaders:!1,tabNavigation:!0,nestedHeaders:void 0,nestedRows:void 0,noWordWrapClassName:"htNoWrap",numericFormat:void 0,observeDOMVisibility:!0,outsideClickDeselects:!0,persistentState:void 0,placeholder:void 0,placeholderCellClassName:"htPlaceholder",preventOverflow:!1,preventWheel:!1,readOnly:!1,readOnlyCellClassName:"htDimmed",renderAllRows:!1,renderAllColumns:!1,renderer:void 0,rowHeaders:void 0,rowHeaderWidth:void 0,rowHeights:void 0,search:!1,selectionMode:"multiple",selectOptions:void 0,skipColumnOnPaste:!1,skipRowOnPaste:!1,sortByRelevance:!0,source:void 0,startCols:5,startRows:5,stretchH:"none",strict:void 0,tableClassName:void 0,tabMoves:{row:0,col:1},title:void 0,trimDropdown:!0,trimRows:void 0,trimWhitespace:!0,type:"text",uncheckedTemplate:void 0,undo:void 0,validator:void 0,viewportColumnRenderingOffset:"auto",viewportRowRenderingOffset:"auto",visibleRows:10,width:void 0,wordWrap:!0});function sQ(e,t,r){return t=JSt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JSt(e){var t=tEt(e,"string");return typeof t=="symbol"?t:t+""}function tEt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eEt(){return class{}}var WA=class{constructor(t){sQ(this,"metaCtor",eEt()),sQ(this,"meta",void 0),this.meta=this.metaCtor.prototype,Wr(this.meta,V2()),this.meta.instance=t}getMetaConstructor(){return this.metaCtor}getMeta(){return this.meta}updateMeta(t){var r;Wr(this.meta,t),pp(this.meta,je(Vt({},t),{type:(r=t.type)!==null&&r!==void 0?r:this.meta.type}),t)}};var kne=ot(Gt(),1);function iEt(e,t,r){return t=rEt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rEt(e){var t=nEt(e,"string");return typeof t=="symbol"?t:t+""}function nEt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YA=class{constructor(t){iEt(this,"meta",void 0);let r=t.getMetaConstructor();this.meta=new r}getMeta(){return this.meta}updateMeta(t){Wr(this.meta,t),pp(this.meta,t,t)}};var $ne=ot(Gt(),1);var Nne=ot(Gt(),1),Lne=ot(we(),1),Fne=ot(yn(),1),Hne=ot(_n(),1),Bne=ot(wn(),1),jne=ot(Cn(),1),Vne=ot(xn(),1),zne=ot(Sn(),1),Une=ot(En(),1);function qA(e,t,r){return t=oEt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oEt(e){var t=sEt(e,"string");return typeof t=="symbol"?t:t+""}function sEt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gp=class{constructor(t){qA(this,"valueFactory",void 0),qA(this,"data",[]),qA(this,"index",[]),qA(this,"holes",new Set),this.valueFactory=t}obtain(t){Ly(()=>Ny(t),"Expecting an unsigned number.");let r=this._getStorageIndexByKey(t),i;if(r>=0)i=this.data[r],i===void 0&&(i=this.valueFactory(t),this.data[r]=i);else if(i=this.valueFactory(t),this.holes.size>0){let n=this.holes.values().next().value;this.holes.delete(n),this.data[n]=i,this.index[t]=n}else this.data.push(i),this.index[t]=this.data.length-1;return i}insert(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;Ly(()=>Ny(t)||j2(t),"Expecting an unsigned number or null/undefined argument.");let i=[],n=this.data.length;for(let s=0;s<r;s++)i.push(n+s),this.data.push(void 0);let o=j2(t)?this.index.length:t;this.index=[...this.index.slice(0,o),...i,...this.index.slice(o)]}remove(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;Ly(()=>Ny(t)||j2(t),"Expecting an unsigned number or null/undefined argument.");let i=this.index.splice(j2(t)?this.index.length-r:t,r);for(let n=0;n<i.length;n++){let o=i[n];typeof o=="number"&&this.holes.add(o)}}size(){return this.data.length-this.holes.size}values(){return cs(this.data,(t,r)=>!this.holes.has(r))[Symbol.iterator]()}entries(){let t=[];for(let i=0;i<this.data.length;i++){let n=this._getKeyByStorageIndex(i);n!==-1&&t.push([n,this.data[i]])}let r=0;return{next:()=>{if(r<t.length){let i=t[r];return r+=1,{value:i,done:!1}}return{done:!0}}}}clear(){this.data=[],this.index=[],this.holes.clear()}_getStorageIndexByKey(t){return this.index.length>t?this.index[t]:-1}_getKeyByStorageIndex(t){return this.index.indexOf(t)}[Symbol.iterator](){return this.entries()}};function aQ(e,t,r){return t=aEt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aEt(e){var t=lEt(e,"string");return typeof t=="symbol"?t:t+""}function lEt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cEt=["data","width"],$A=class{constructor(t){aQ(this,"globalMeta",void 0),aQ(this,"metas",new gp(()=>this._createMeta())),this.globalMeta=t,this.metas=new gp(()=>this._createMeta())}updateMeta(t,r){let i=this.getMeta(t);Wr(i,r),pp(i,r)}createColumn(t,r){this.metas.insert(t,r)}removeColumn(t,r){this.metas.remove(t,r)}getMeta(t){return this.metas.obtain(t)}getMetaConstructor(t){return this.metas.obtain(t).constructor}clearCache(){this.metas.clear()}_createMeta(){return oQ(this.globalMeta.getMetaConstructor(),cEt).prototype}};var Qne=ot(Gt(),1),Jne=ot(we(),1);function lQ(e,t,r){return t=dEt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dEt(e){var t=uEt(e,"string");return typeof t=="symbol"?t:t+""}function uEt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GA=class{constructor(t){lQ(this,"columnMeta",void 0),lQ(this,"metas",new gp(()=>this._createRow())),this.columnMeta=t}updateMeta(t,r,i){let n=this.getMeta(t,r);Wr(n,i),pp(n,i)}createRow(t,r){this.metas.insert(t,r)}createColumn(t,r){for(let i=0;i<this.metas.size();i++)this.metas.obtain(i).insert(t,r)}removeRow(t,r){this.metas.remove(t,r)}removeColumn(t,r){for(let i=0;i<this.metas.size();i++)this.metas.obtain(i).remove(t,r)}getMeta(t,r,i){let n=this.metas.obtain(t).obtain(r);return i===void 0?n:n[i]}setMeta(t,r,i,n){var o;let s=this.metas.obtain(t).obtain(r);(o=s._automaticallyAssignedMetaProps)===null||o===void 0||o.delete(i),s[i]=n}removeMeta(t,r,i){let n=this.metas.obtain(t).obtain(r);delete n[i]}getMetas(){let t=[],r=Array.from(this.metas.values());for(let i=0;i<r.length;i++)Ne(r[i])&&t.push(...r[i].values());return t}getMetasAtRow(t){Ly(()=>Ny(t),"Expecting an unsigned number.");let r=new Map(this.metas);return r.has(t)?Array.from(r.get(t).values()):[]}clearCache(){this.metas.clear()}_createRow(){return new gp(t=>this._createMeta(t))}_createMeta(t){let r=this.columnMeta.getMetaConstructor(t);return new r}};var Fy=class{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];this.hot=t,this.globalMeta=new WA(t),this.tableMeta=new YA(this.globalMeta),this.columnMeta=new $A(this.globalMeta),this.cellMeta=new GA(this.columnMeta),i.forEach(n=>new n(this)),this.globalMeta.updateMeta(r)}getGlobalMeta(){return this.globalMeta.getMeta()}updateGlobalMeta(t){this.globalMeta.updateMeta(t)}getTableMeta(){return this.tableMeta.getMeta()}updateTableMeta(t){this.tableMeta.updateMeta(t)}getColumnMeta(t){return this.columnMeta.getMeta(t)}updateColumnMeta(t,r){this.columnMeta.updateMeta(t,r)}getCellMeta(t,r,i){let{visualRow:n,visualColumn:o}=i,s=this.cellMeta.getMeta(t,r);return s.visualRow=n,s.visualCol=o,s.row=t,s.col=r,this.runLocalHooks("afterGetCellMeta",s),s}getCellMetaKeyValue(t,r,i){if(typeof i!="string")throw new Error("The passed cell meta object key is not a string");return this.cellMeta.getMeta(t,r,i)}setCellMeta(t,r,i,n){this.cellMeta.setMeta(t,r,i,n)}updateCellMeta(t,r,i){this.cellMeta.updateMeta(t,r,i)}removeCellMeta(t,r,i){this.cellMeta.removeMeta(t,r,i)}getCellsMeta(){return this.cellMeta.getMetas()}getCellsMetaAtRow(t){return this.cellMeta.getMetasAtRow(t)}createRow(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cellMeta.createRow(t,r)}removeRow(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cellMeta.removeRow(t,r)}createColumn(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cellMeta.createColumn(t,r),this.columnMeta.createColumn(t,r)}removeColumn(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cellMeta.removeColumn(t,r),this.columnMeta.removeColumn(t,r)}clearCellsCache(){this.cellMeta.clearCache()}clearCache(){this.cellMeta.clearCache(),this.columnMeta.clearCache()}};Zi(Fy,jn);var foe=ot(Gt(),1),moe=ot(we(),1);function KA(e,t,r,i){let{hotInstance:n,dataMap:o,dataSource:s,internalSource:a,source:l,metaManager:c,firstRun:d}=i,u=na(a),h=n.getSettings();Array.isArray(h.dataSchema)?n.dataType="array":Mr(h.dataSchema)?n.dataType="function":n.dataType="object",o&&o.destroy(),e=n.runHooks(`before${u}`,e,d,l);let f=new rQ(n,e,c);if(t(f),typeof e=="object"&&e!==null)e.push&&e.splice||(e=[e]);else if(e===null){let m=f.getSchema();e=[];let g,p=0,b=0;for(p=0,b=h.startRows;p<b;p++)if((n.dataType==="object"||n.dataType==="function")&&h.dataSchema)g=jo(m),e.push(g);else if(n.dataType==="array")g=jo(m[0]),e.push(g);else{g=[];for(let _=0,E=h.startCols;_<E;_++)g.push(null);e.push(g)}}else throw new Error(`${a} only accepts array of objects or array of arrays (${typeof e} given)`);Array.isArray(e[0])&&(n.dataType="array"),h.data=e,f.dataSource=e,s.data=e,s.dataType=n.dataType,s.colToProp=f.colToProp.bind(f),s.propToCol=f.propToCol.bind(f),s.countCachedColumns=f.countCachedColumns.bind(f),r(f),n.runHooks(`after${u}`,e,d,l),d||(n.runHooks("afterChange",null,a),n.render()),n.getSettings().ariaTags&&Xe(n.rootElement,[uM(-1),Qv(n.countCols()+(n.view?n.countRowHeaders():0))])}var Coe=ot(Gt(),1),xoe=ot(yn(),1),Soe=ot(_n(),1),Eoe=ot(wn(),1),Roe=ot(Cn(),1),Toe=ot(xn(),1),Moe=ot(Sn(),1),Aoe=ot(En(),1);function cQ(e,t,r){return t=hEt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hEt(e){var t=fEt(e,"string");return typeof t=="symbol"?t:t+""}function fEt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var z2=class{constructor(t){cQ(this,"metaManager",void 0),cQ(this,"metaSyncMemo",new Map),this.metaManager=t,t.addLocalHook("afterGetCellMeta",r=>this.extendCellMeta(r)),Le.getSingleton().add("beforeRender",r=>{r&&this.metaSyncMemo.clear()},this.metaManager.hot)}extendCellMeta(t){var r;let{row:i,col:n}=t;if((r=this.metaSyncMemo.get(i))!==null&&r!==void 0&&r.has(n))return;let{visualRow:o,visualCol:s}=t,a=this.metaManager.hot,l=a.colToProp(s);t.prop=l,a.runHooks("beforeGetCellMeta",o,s,t);let c=en(t,"type")?t.type:null,d=Mr(t.cells)?t.cells(i,n,l):null;if(c)if(d){var u;d.type=(u=d.type)!==null&&u!==void 0?u:c}else d={type:c};d&&this.metaManager.updateCellMeta(i,n,d),a.runHooks("afterGetCellMeta",o,s,t),this.metaSyncMemo.has(i)||this.metaSyncMemo.set(i,new Set),this.metaSyncMemo.get(i).add(n)}};var Poe=ot(Gt(),1),Noe=ot(we(),1),Loe=ot(yn(),1),Foe=ot(_n(),1),Hoe=ot(wn(),1),Boe=ot(Cn(),1),joe=ot(xn(),1),Voe=ot(Sn(),1),zoe=ot(En(),1);function mEt(e,t,r){pEt(e,t),t.set(e,r)}function pEt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function lL(e,t,r){return t=gEt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gEt(e){var t=bEt(e,"string");return typeof t=="symbol"?t:t+""}function bEt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vEt(e,t){return e.get(yEt(e,t))}function yEt(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var dQ=new WeakMap,U2=class{constructor(t){lL(this,"metaManager",void 0),lL(this,"usageTracker",new Set),lL(this,"propDescriptors",new Map([["ariaTags",{initOnly:!0}],["fixedColumnsLeft",{target:"fixedColumnsStart",onChange(r){if(this.metaManager.hot.isRtl()&&r==="fixedColumnsLeft")throw new Error("The `fixedColumnsLeft` is not supported for RTL. Please use option `fixedColumnsStart`.");if(this.usageTracker.has("fixedColumnsLeft")&&this.usageTracker.has("fixedColumnsStart"))throw new Error("The `fixedColumnsLeft` and `fixedColumnsStart` should not be used together. Please use only the option `fixedColumnsStart`.")}}],["layoutDirection",{initOnly:!0}],["renderAllColumns",{initOnly:!0}],["renderAllRows",{initOnly:!0}]])),mEt(this,dQ,(r,i,n)=>{if(!n)throw new Error(`The \`${r}\` option can not be updated after the Handsontable is initialized.`)}),this.metaManager=t,this.extendMetaProps()}extendMetaProps(){this.propDescriptors.forEach((t,r)=>{let{initOnly:i,target:n,onChange:o}=t,s=typeof n=="string",a=s?n:r,l=`_${a}`;this.metaManager.globalMeta.meta[l]=this.metaManager.globalMeta.meta[a],o?(this.installPropWatcher(r,l,o),s&&this.installPropWatcher(n,l,o)):i&&(this.installPropWatcher(r,l,vEt(dQ,this)),this.metaManager.globalMeta.meta._initOnlySettings||(this.metaManager.globalMeta.meta._initOnlySettings=[]),this.metaManager.globalMeta.meta._initOnlySettings.push(r))})}installPropWatcher(t,r,i){let n=this;Object.defineProperty(this.metaManager.globalMeta.meta,t,{get(){return this[r]},set(o){let s=!n.usageTracker.has(t);n.usageTracker.add(t),i.call(n,t,o,s),this[r]=o},enumerable:!0,configurable:!0})}};var XA="gridDefault",xa="editorManager.handlingEditor";var uQ={name:"editorCloseAndSave",callback(e){e._getEditorManager().closeEditorAndSaveChanges()}};var ise=ot(Gt(),1);var Qoe=ot(we(),1);var _Et="hooksRefRegisterer",hQ={_hooksStorage:Object.create(null),addHook(e,t){return this._hooksStorage[e]||(this._hooksStorage[e]=[]),this.hot.addHook(e,t),this._hooksStorage[e].push(t),this},removeHooksByKey(e){Tt(this._hooksStorage[e]||[],t=>{this.hot.removeHook(e,t)})},clearHooks(){bi(this._hooksStorage,(e,t)=>this.removeHooksByKey(t)),this._hooksStorage={}}};Ns(hQ,"MIXIN_NAME",_Et,{writable:!1,enumerable:!1});var fQ=hQ;function Bd(e,t,r){return t=wEt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wEt(e){var t=CEt(e,"string");return typeof t=="symbol"?t:t+""}function CEt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cL="base",Xn=Object.freeze({VIRGIN:"STATE_VIRGIN",EDITING:"STATE_EDITING",WAITING:"STATE_WAITING",FINISHED:"STATE_FINISHED"}),xl=class{static get EDITOR_TYPE(){return cL}constructor(t){Bd(this,"hot",void 0),Bd(this,"state",Xn.VIRGIN),Bd(this,"_opened",!1),Bd(this,"_fullEditMode",!1),Bd(this,"_closeCallback",null),Bd(this,"TD",null),Bd(this,"row",null),Bd(this,"col",null),Bd(this,"prop",null),Bd(this,"originalValue",null),Bd(this,"cellProperties",null),this.hot=t,this.init()}_fireCallbacks(t){this._closeCallback&&(this._closeCallback(t),this._closeCallback=null)}init(){}getValue(){throw Error("Editor getValue() method unimplemented")}setValue(){throw Error("Editor setValue() method unimplemented")}open(){throw Error("Editor open() method unimplemented")}close(){throw Error("Editor close() method unimplemented")}prepare(t,r,i,n,o,s){this.TD=n,this.row=t,this.col=r,this.prop=i,this.originalValue=o,this.cellProperties=s,this.state=this.isOpened()?this.state:Xn.VIRGIN}extend(){return class extends this.constructor{}}saveValue(t,r){let i,n,o,s;if(r){let l=this.hot.getSelectedLast();i=Math.max(Math.min(l[0],l[2]),0),n=Math.max(Math.min(l[1],l[3]),0),o=Math.max(l[0],l[2]),s=Math.max(l[1],l[3])}else[i,n,o,s]=[this.row,this.col,null,null];let a=this.hot.runHooks("modifyGetCellCoords",i,n);Array.isArray(a)&&([i,n]=a),this.hot.populateFromArray(i,n,t,o,s,"edit")}beginEditing(t,r){if(this.state!==Xn.VIRGIN)return;let i=this.hot,n=i.rowIndexMapper.getRenderableFromVisualIndex(this.row),o=i.columnIndexMapper.getRenderableFromVisualIndex(this.col);if(i.view.scrollViewport(i._createCellCoords(n,o)),this.state=Xn.EDITING,this.isInFullEditMode()){let s=typeof t=="string"?t:on(this.originalValue);this.setValue(s)}this.open(r),this._opened=!0,this.focus(),i.view.render(),i.runHooks("afterBeginEditing",this.row,this.col)}finishEditing(t,r,i){let n;if(i){let o=this._closeCallback;this._closeCallback=s=>{o&&o(s),i(s),this.hot.view.render()}}if(!this.isWaiting()){if(this.state===Xn.VIRGIN){this.hot._registerTimeout(()=>{this._fireCallbacks(!0)});return}if(this.state===Xn.EDITING){if(t){this.cancelChanges(),this.hot.view.render();return}let o=this.getValue();this.cellProperties.trimWhitespace?n=[[typeof o=="string"?String.prototype.trim.call(o||""):o]]:n=[[o]],this.state=Xn.WAITING,this.saveValue(n,r),this.hot.getCellValidator(this.cellProperties)?this.hot.addHookOnce("postAfterValidate",s=>{this.state=Xn.FINISHED,this.discardEditor(s)}):(this.state=Xn.FINISHED,this.discardEditor(!0))}}}cancelChanges(){this.state=Xn.FINISHED,this.discardEditor()}discardEditor(t){this.state===Xn.FINISHED&&(t===!1&&this.cellProperties.allowInvalid!==!0?(this.hot.selectCell(this.row,this.col),this.focus(),this.state=Xn.EDITING,this._fireCallbacks(!1)):(this.close(),this._opened=!1,this._fullEditMode=!1,this.state=Xn.VIRGIN,this._fireCallbacks(!0),this.hot.getShortcutManager().setActiveContextName("grid")))}enableFullEditMode(){this._fullEditMode=!0}isInFullEditMode(){return this._fullEditMode}isOpened(){return this._opened}isWaiting(){return this.state===Xn.WAITING}getEditedCellRect(){var t;let r=this.getEditedCell();if(!r)return;let{wtOverlays:i,wtViewport:n}=this.hot.view._wt,o=this.hot.rootWindow,s=Kn(r),a=wr(r),l=Kn(this.hot.rootElement),c=wr(this.hot.rootElement),d=i.topOverlay.holder,u=i.inlineStartOverlay.holder,h=d!==o?d.scrollTop:0,f=u!==o?u.scrollLeft:0,m=o.innerWidth-l.left-c,{wtTable:g}=(t=i.getParentOverlay(r))!==null&&t!==void 0?t:this.hot.view._wt,p=g.name,b=["master","inline_start"].includes(p)?h:0,_=["master","top","bottom"].includes(p)?f:0,E=s.top===l.top?0:1,O=s.top-l.top-E-b,V=0;this.hot.isRtl()?V=o.innerWidth-s.left-a-m-1+_:V=s.left-l.left-1-_,["top","top_inline_start_corner"].includes(p)&&(O+=i.topOverlay.getOverlayOffset()),["inline_start","top_inline_start_corner"].includes(p)&&(V+=Math.abs(i.inlineStartOverlay.getOverlayOffset()));let H=this.hot.hasColHeaders(),F=this.hot.rowIndexMapper.getRenderableFromVisualIndex(this.row),L=this.hot.columnIndexMapper.getRenderableFromVisualIndex(this.col),W=this.hot.rowIndexMapper.getRenderableIndexesLength()-this.hot.view._wt.getSetting("fixedRowsBottom");(H&&F<=0||F===W)&&(O+=1),L<=0&&(V+=1);let x=n.rowsRenderCalculator.startPosition,R=n.columnsRenderCalculator.startPosition,B=Math.abs(i.inlineStartOverlay.getScrollPosition()),v=i.topOverlay.getScrollPosition(),y=Rn(this.hot.rootDocument),C=r.offsetTop;if(["inline_start","master"].includes(p)&&(C+=x-v),["bottom","bottom_inline_start_corner"].includes(p)){let{wtViewport:Y,wtTable:Z}=i.bottomOverlay.clone;C+=Y.getWorkspaceHeight()-Z.getHeight()-y}let w=r.offsetLeft;this.hot.isRtl()?(w>=0?w=g.getWidth()-r.offsetLeft:w=Math.abs(w),w+=R-B-a):["top","master","bottom"].includes(p)&&(w+=R-B);let S=Hc(this.TD,this.hot.rootWindow),M=this.hot.isRtl()?"borderRightWidth":"borderLeftWidth",U=parseInt(S[M],10)>0?0:1,N=parseInt(S.borderTopWidth,10)>0?0:1,T=wr(r)+U,j=Fr(r)+N,I=xK(d)?y:0,q=SK(u)?y:0,A=this.hot.view.maximumVisibleElementWidth(w)-I+U,k=Math.max(this.hot.view.maximumVisibleElementHeight(C)-q+N,23);return{top:O,start:V,height:j,maxHeight:k,width:T,maxWidth:A}}getEditedCellsLayerClass(){switch(this.checkEditorSection()){case"inline-start":return"ht_clone_left ht_clone_inline_start";case"bottom":return"ht_clone_bottom";case"bottom-inline-start-corner":return"ht_clone_bottom_left_corner ht_clone_bottom_inline_start_corner";case"top":return"ht_clone_top";case"top-inline-start-corner":return"ht_clone_top_left_corner ht_clone_top_inline_start_corner";default:return"ht_clone_master"}}getEditedCell(){return this.hot.getCell(this.row,this.col,!0)}checkEditorSection(){let t=this.hot.countRows(),r="";return this.row<this.hot.getSettings().fixedRowsTop?this.col<this.hot.getSettings().fixedColumnsStart?r="top-inline-start-corner":r="top":this.hot.getSettings().fixedRowsBottom&&this.row>=t-this.hot.getSettings().fixedRowsBottom?this.col<this.hot.getSettings().fixedColumnsStart?r="bottom-inline-start-corner":r="bottom":this.col<this.hot.getSettings().fixedColumnsStart&&(r="inline-start"),r}};Zi(xl,fQ);var mQ={name:"editorCloseAndSaveByArrowKeys",callback(e,t,r){let i=e._getEditorManager(),n=i.getActiveEditor();n.isInFullEditMode()&&n.state===Xn.EDITING||(i.closeEditorAndSaveChanges(),e.getSelected()&&(r.includes("arrowdown")?e.selection.transformStart(1,0):r.includes("arrowup")?e.selection.transformStart(-1,0):r.includes("arrowleft")?e.selection.transformStart(0,-1*e.getDirectionFactor()):r.includes("arrowright")&&e.selection.transformStart(0,e.getDirectionFactor())),t.preventDefault())}};var pQ={name:"editorCloseAndSaveByEnter",callback(e,t){let r=e._getEditorManager();r.closeEditorAndSaveChanges(t.ctrlKey||t.metaKey),r.moveSelectionAfterEnter(t)}};var gQ={name:"editorCloseWithoutSaving",callback(e){let t=e._getEditorManager();t.closeEditorAndRestoreOriginalValue(e.getShortcutManager().isCtrlPressed()),t.activeEditor.focus()}};var bQ={name:"editorFastOpen",callback(e,t){let{highlight:r}=e.getSelectedRangeLast();r.isHeader()||e._getEditorManager().openEditor(null,t,!0)}};var vQ={name:"editorOpen",callback(e,t,r){let i=e._getEditorManager(),n=e.getSelectedRangeLast(),{highlight:o}=n;if(e.selection.isMultiple()&&!n.isHeader()&&e.countRenderedCols()>0&&e.countRenderedRows()>0){let s=e.getSettings(),a=typeof s.enterMoves=="function"?s.enterMoves(t):s.enterMoves;r.includes("shift")?e.selection.transformFocus(-a.row,-a.col):e.selection.transformFocus(a.row,a.col);return}o.isHeader()||(e.getSettings().enterBeginsEditing?i.cellProperties.readOnly?i.moveSelectionAfterEnter(t):i.openEditor(null,t,!0):i.moveSelectionAfterEnter(t),Vo(t))}};function yQ(){return[uQ,mQ,pQ,gQ,bQ,vQ]}var _Q={name:"extendCellsSelectionDown",callback(e){let{highlight:t}=e.getSelectedRangeLast();!e.selection.isSelectedByColumnHeader()&&!e.selection.isSelectedByCorner()&&(t.isCell()||t.isHeader()&&e.selection.isSelectedByRowHeader())&&e.selection.transformEnd(1,0)}};var wQ={name:"extendCellsSelectionDownByViewportHeight",callback(e){let{to:t}=e.getSelectedRangeLast(),r=Math.min(t.row+e.countVisibleRows(),e.countRows()-1),i=e.rowIndexMapper.getNearestNotHiddenIndex(r,-1);if(i!==null){let n=e._createCellCoords(i,t.col),o=t.row-e.view.getFirstFullyVisibleRow(),s=Math.min(n.row-o,e.countRows()-1);e.selection.setRangeEnd(n),e.scrollViewportTo({row:s,verticalSnap:"top",horizontalSnap:"start"})}}};var CQ={name:"extendCellsSelectionLeft",callback(e){let{highlight:t}=e.getSelectedRangeLast();!e.selection.isSelectedByRowHeader()&&!e.selection.isSelectedByCorner()&&(t.isCell()||t.isHeader()&&e.selection.isSelectedByColumnHeader())&&e.selection.transformEnd(0,-1*e.getDirectionFactor())}};var xQ={name:"extendCellsSelectionRight",callback(e){let{highlight:t}=e.getSelectedRangeLast();!e.selection.isSelectedByRowHeader()&&!e.selection.isSelectedByCorner()&&(t.isCell()||t.isHeader()&&e.selection.isSelectedByColumnHeader())&&e.selection.transformEnd(0,e.getDirectionFactor())}};var SQ={name:"extendCellsSelectionToColumns",callback(e){let{highlight:t,from:r,to:i}=e.getSelectedRangeLast();e.selection.isSelectedByRowHeader()?e.selection.selectAll(!0,!0):e.selectColumns(r.col,i.col,t)}};var EQ={name:"extendCellsSelectionToMostBottom",callback(e){let{selection:t,rowIndexMapper:r}=e,{highlight:i,from:n,to:o}=e.getSelectedRangeLast(),s=i.isHeader()&&e.selection.isSelectedByRowHeader();if(i.isCell()||s){let a=r.getNearestNotHiddenIndex(e.countRows()-1,-1),l=n.clone();l.row=i.row,t.setRangeStart(l,void 0,!1,i.clone()),s&&t.selectedByRowHeader.add(t.getLayerLevel()),t.setRangeEnd(e._createCellCoords(a,o.col))}}};var RQ={name:"extendCellsSelectionToMostInlineEnd",callback(e){let{selection:t,columnIndexMapper:r}=e,{highlight:i,from:n,to:o}=e.getSelectedRangeLast();if(!e.selection.isSelectedByRowHeader()&&!e.selection.isSelectedByCorner()&&i.isCell()){let s=r.getNearestNotHiddenIndex(e.countCols()-1,-1),a=n.clone();a.col=i.col,t.setRangeStart(a,void 0,!1,i.clone()),t.setRangeEnd(e._createCellCoords(o.row,s))}}};var TQ={name:"extendCellsSelectionToMostInlineStart",callback(e){let{selection:t,columnIndexMapper:r}=e,{highlight:i,from:n,to:o}=e.getSelectedRangeLast();if(!e.selection.isSelectedByRowHeader()&&!e.selection.isSelectedByCorner()&&i.isCell()){let s=parseInt(e.getSettings().fixedColumnsStart,10),a=r.getNearestNotHiddenIndex(s,1),l=n.clone();l.col=i.col,t.setRangeStart(l,void 0,!1,i.clone()),t.setRangeEnd(e._createCellCoords(o.row,a))}}};var MQ={name:"extendCellsSelectionToMostLeft",callback(e){let{selection:t,columnIndexMapper:r}=e,{highlight:i,from:n,to:o}=e.getSelectedRangeLast(),s=i.isHeader()&&e.selection.isSelectedByColumnHeader();if(i.isCell()||s){let a=r.getNearestNotHiddenIndex(...e.isRtl()?[e.countCols()-1,-1]:[0,1]),l=n.clone();l.col=i.col,t.setRangeStart(l,void 0,!1,i.clone()),s&&t.selectedByColumnHeader.add(t.getLayerLevel()),t.setRangeEnd(e._createCellCoords(o.row,a))}}};var AQ={name:"extendCellsSelectionToMostRight",callback(e){let{selection:t,columnIndexMapper:r}=e,{highlight:i,from:n,to:o}=e.getSelectedRangeLast(),s=i.isHeader()&&e.selection.isSelectedByColumnHeader();if(i.isCell()||s){let a=r.getNearestNotHiddenIndex(...e.isRtl()?[0,1]:[e.countCols()-1,-1]),l=n.clone();l.col=i.col,t.setRangeStart(l,void 0,!1,i.clone()),s&&t.selectedByColumnHeader.add(t.getLayerLevel()),t.setRangeEnd(e._createCellCoords(o.row,a))}}};var IQ={name:"extendCellsSelectionToMostTop",callback(e){let{selection:t,rowIndexMapper:r}=e,{highlight:i,from:n,to:o}=e.getSelectedRangeLast(),s=i.isHeader()&&e.selection.isSelectedByRowHeader();if(i.isCell()||s){let a=r.getNearestNotHiddenIndex(0,1),l=n.clone();l.row=i.row,t.setRangeStart(l,void 0,!1,i.clone()),s&&t.selectedByRowHeader.add(t.getLayerLevel()),t.setRangeEnd(e._createCellCoords(a,o.col))}}};var kQ={name:"extendCellsSelectionToRows",callback(e){let{highlight:t,from:r,to:i}=e.getSelectedRangeLast();e.selection.isSelectedByColumnHeader()?e.selection.selectAll(!0,!0):e.selectRows(r.row,i.row,t)}};var DQ={name:"extendCellsSelectionUp",callback(e){let{highlight:t}=e.getSelectedRangeLast();!e.selection.isSelectedByColumnHeader()&&!e.selection.isSelectedByCorner()&&(t.isCell()||t.isHeader()&&e.selection.isSelectedByRowHeader())&&e.selection.transformEnd(-1,0)}};var OQ={name:"extendCellsSelectionUpByViewportHeight",callback(e){let{to:t}=e.getSelectedRangeLast(),r=Math.max(t.row-e.countVisibleRows(),0),i=e.rowIndexMapper.getNearestNotHiddenIndex(r,1);if(i!==null){let n=e._createCellCoords(i,t.col),o=t.row-e.view.getFirstFullyVisibleRow(),s=Math.max(n.row-o,0);e.selection.setRangeEnd(n),e.scrollViewportTo({row:s,verticalSnap:"top",horizontalSnap:"start"})}}};function PQ(){return[_Q,wQ,CQ,xQ,SQ,EQ,RQ,TQ,MQ,AQ,IQ,kQ,DQ,OQ]}var NQ={name:"moveCellSelectionDown",callback(e){let{selection:t}=e;t.transformStart(1,0)}};var LQ={name:"moveCellSelectionDownByViewportHeight",callback(e){let{navigableHeaders:t}=e.getSettings(),r=t?e.countColHeaders():0,{row:i}=e.getSelectedRangeLast().highlight,n=e.countVisibleRows()+r;i===e.countRows()-1?n=1:i+n>e.countRows()&&(n=e.countRows()-i-1),e.selection.transformStart(n,0),e.getSelectedRangeLast().highlight.row<0&&e.scrollViewportTo({row:0})}};var FQ={name:"moveCellSelectionInlineEnd",callback(e,t){let r=e.getSettings(),i=e.getSelectedRangeLast(),n=typeof r.tabMoves=="function"?r.tabMoves(t):r.tabMoves;e.selection.isMultiple()&&!i.isHeader()&&e.countRenderedCols()>0&&e.countRenderedRows()>0?e.selection.transformFocus(-n.row,-n.col):e.selection.transformStart(-n.row,-n.col)}};var HQ={name:"moveCellSelectionInlineStart",callback(e,t){let r=e.getSettings(),i=e.getSelectedRangeLast(),n=typeof r.tabMoves=="function"?r.tabMoves(t):r.tabMoves;e.selection.isMultiple()&&!i.isHeader()&&e.countRenderedCols()>0&&e.countRenderedRows()>0?e.selection.transformFocus(n.row,n.col):e.selection.transformStart(n.row,n.col)}};var BQ={name:"moveCellSelectionLeft",callback(e){e.selection.transformStart(0,-1*e.getDirectionFactor())}};var jQ={name:"moveCellSelectionRight",callback(e){e.selection.transformStart(0,e.getDirectionFactor())}};var VQ={name:"moveCellSelectionToMostBottom",callback(e){let{col:t}=e.getSelectedRangeLast().highlight,r=e.rowIndexMapper.getNearestNotHiddenIndex(e.countRows()-1,-1);r===null&&(r=-1),e.selection.setRangeStart(e._createCellCoords(r,t))}};var zQ={name:"moveCellSelectionToMostBottomInlineEnd",callback(e){let{selection:t,rowIndexMapper:r,columnIndexMapper:i}=e,n=parseInt(e.getSettings().fixedRowsBottom,10),o=r.getNearestNotHiddenIndex(e.countRows()-n-1,-1),s=i.getNearestNotHiddenIndex(e.countCols()-1,-1);t.setRangeStart(e._createCellCoords(o,s))}};var UQ={name:"moveCellSelectionToMostInlineEnd",callback(e){let{selection:t,columnIndexMapper:r}=e;t.setRangeStart(e._createCellCoords(e.getSelectedRangeLast().highlight.row,r.getNearestNotHiddenIndex(e.countCols()-1,-1)))}};var WQ={name:"moveCellSelectionToMostInlineStart",callback(e){let{selection:t,columnIndexMapper:r}=e,i=parseInt(e.getSettings().fixedColumnsStart,10),n=e.getSelectedRangeLast().highlight.row,o=r.getNearestNotHiddenIndex(i,1);t.setRangeStart(e._createCellCoords(n,o))}};var YQ={name:"moveCellSelectionToMostLeft",callback(e){let{selection:t,columnIndexMapper:r}=e,i=e.getSelectedRangeLast().highlight.row,n=r.getNearestNotHiddenIndex(...e.isRtl()?[e.countCols()-1,-1]:[0,1]);n===null&&(n=e.isRtl()?-1:-e.countRowHeaders()),t.setRangeStart(e._createCellCoords(i,n))}};var qQ={name:"moveCellSelectionToMostRight",callback(e){let{selection:t,columnIndexMapper:r}=e,{row:i}=e.getSelectedRangeLast().highlight,n=r.getNearestNotHiddenIndex(...e.isRtl()?[0,1]:[e.countCols()-1,-1]);n===null&&(n=e.isRtl()?-e.countRowHeaders():-1),t.setRangeStart(e._createCellCoords(i,n))}};var $Q={name:"moveCellSelectionToMostTop",callback(e){let{col:t}=e.getSelectedRangeLast().highlight,r=e.rowIndexMapper.getNearestNotHiddenIndex(0,1);r===null&&(r=-e.countColHeaders()),e.selection.setRangeStart(e._createCellCoords(r,t))}};var GQ={name:"moveCellSelectionToMostTopInlineStart",callback(e){let{selection:t,rowIndexMapper:r,columnIndexMapper:i}=e,n=parseInt(e.getSettings().fixedRowsTop,10),o=parseInt(e.getSettings().fixedColumnsStart,10),s=r.getNearestNotHiddenIndex(n,1),a=i.getNearestNotHiddenIndex(o,1);t.setRangeStart(e._createCellCoords(s,a))}};var KQ={name:"moveCellSelectionUp",callback(e){let{selection:t}=e;t.transformStart(-1,0)}};var XQ={name:"moveCellSelectionUpByViewportHight",callback(e){let{navigableHeaders:t}=e.getSettings(),r=t?e.countColHeaders():0,{row:i}=e.getSelectedRangeLast().highlight,n=-(e.countVisibleRows()+r);i===-r?n=-1:i+n<r&&(n=-(i+r)),e.selection.transformStart(n,0),e.getSelectedRangeLast().highlight.row<0&&e.scrollViewportTo({row:0})}};function ZQ(){return[NQ,LQ,FQ,HQ,BQ,jQ,VQ,zQ,UQ,WQ,YQ,qQ,$Q,GQ,KQ,XQ]}var QQ={name:"emptySelectedCells",callback(e){e.emptySelectedCells(),e._getEditorManager().prepareEditor()}};var JQ={name:"scrollToFocusedCell",callback(e){let{highlight:t}=e.getSelectedRangeLast(),r=e.view.getFirstFullyVisibleRow()-1,i=e.view.getFirstFullyVisibleColumn()-1,n=e.view.getLastFullyVisibleRow()+1,o=e.view.getLastFullyVisibleColumn()+1,s=e._createCellCoords(r,i),a=e._createCellCoords(n,o);if(!e._createCellRange(s,s,a).includes(t)&&(t.row>=0||t.col>=0)){let c={};if(t.col>=0){let d=Math.floor(e.countVisibleCols()/2);c.col=Math.max(t.col-d,0)}if(t.row>=0){let d=Math.floor(e.countVisibleRows()/2);c.row=Math.max(t.row-d,0)}e.scrollViewportTo(je(Vt({},c),{verticalSnap:"top",horizontalSnap:"start"}))}}};var tJ={name:"selectAllCells",callback(e){e.selection.selectAll(!0,!0,{disableHeadersHighlight:!0})}};var eJ={name:"selectAllCellsAndHeaders",callback(e){e.selection.selectAll(!0,!0,{disableHeadersHighlight:!1})}};var iJ={name:"populateSelectedCellsData",callback(e){let t=e.getSelectedRange(),{row:r,col:i}=t[t.length-1].highlight.normalize(),n=e.getDataAtCell(r,i),o=new Map;for(let s=0;s<t.length;s++)t[s].forAll((a,l)=>{if(a>=0&&l>=0&&(a!==r||l!==i)){let{readOnly:c}=e.getCellMeta(a,l);c||o.set(`${a}x${l}`,[a,l,n])}});e.setDataAtCell(Array.from(o.values()))}};var xEt=[...yQ(),...PQ(),...ZQ(),QQ,JQ,tJ,eJ,iJ];function ZA(e){let t={};return xEt.forEach(r=>{let{name:i,callback:n}=r;t[i]=function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return n(e,...s)}}),t}function rJ(e){let t=e.getShortcutManager().addContext("editor"),r=ZA(e),i={group:xa};t.addShortcuts([{keys:[["Enter"],["Enter","Shift"]],callback:(n,o)=>r.editorCloseAndSaveByEnter(n,o)},{keys:[["Enter","Control/Meta"],["Enter","Control/Meta","Shift"]],captureCtrl:!0,callback:(n,o)=>r.editorCloseAndSaveByEnter(n,o)},{keys:[["Tab"],["Tab","Shift"],["PageDown"],["PageUp"]],forwardToContext:e.getShortcutManager().getContext("grid"),callback:(n,o)=>r.editorCloseAndSave(n,o)},{keys:[["ArrowDown"],["ArrowUp"],["ArrowLeft"],["ArrowRight"]],preventDefault:!1,callback:(n,o)=>r.editorCloseAndSaveByArrowKeys(n,o)},{keys:[["Escape"],["Escape","Control/Meta"]],callback:()=>r.editorCloseWithoutSaving()}],i)}function nJ(e){let t=e.getShortcutManager().addContext("grid"),r=ZA(e),i={runOnlyIf:()=>{let{navigableHeaders:n}=e.getSettings();return Ne(e.getSelected())&&(n||!n&&e.countRenderedRows()>0&&e.countRenderedCols()>0)},group:XA};t.addShortcuts([{keys:[["F2"]],callback:n=>r.editorFastOpen(n)},{keys:[["Enter"],["Enter","Shift"]],callback:(n,o)=>r.editorOpen(n,o)},{keys:[["Backspace"],["Delete"]],callback:()=>r.emptySelectedCells()}],{group:xa,runOnlyIf:()=>Ne(e.getSelected())}),t.addShortcuts([{keys:[["Control/Meta","A"]],callback:()=>r.selectAllCells(),runOnlyIf:()=>!e.getSelectedRangeLast().highlight.isHeader()},{keys:[["Control/Meta","A"]],callback:()=>{},runOnlyIf:()=>e.getSelectedRangeLast().highlight.isHeader(),preventDefault:!0},{keys:[["Control/Meta","Shift","Space"]],callback:()=>r.selectAllCellsAndHeaders()},{keys:[["Control/Meta","Enter"]],callback:()=>r.populateSelectedCellsData(),runOnlyIf:()=>!e.getSelectedRangeLast().highlight.isHeader()&&e.getSelectedRangeLast().getCellsCount()>1},{keys:[["Control","Space"]],captureCtrl:!0,callback:()=>r.extendCellsSelectionToColumns()},{keys:[["Shift","Space"]],stopPropagation:!0,callback:()=>r.extendCellsSelectionToRows()},{keys:[["ArrowUp"]],callback:()=>r.moveCellSelectionUp()},{keys:[["ArrowUp","Control/Meta"]],captureCtrl:!0,callback:()=>r.moveCellSelectionToMostTop()},{keys:[["ArrowUp","Shift"]],callback:()=>r.extendCellsSelectionUp()},{keys:[["ArrowUp","Shift","Control/Meta"]],captureCtrl:!0,callback:()=>r.extendCellsSelectionToMostTop(),runOnlyIf:()=>!(e.selection.isSelectedByCorner()||e.selection.isSelectedByColumnHeader())},{keys:[["ArrowDown"]],callback:()=>r.moveCellSelectionDown()},{keys:[["ArrowDown","Control/Meta"]],captureCtrl:!0,callback:()=>r.moveCellSelectionToMostBottom()},{keys:[["ArrowDown","Shift"]],callback:()=>r.extendCellsSelectionDown()},{keys:[["ArrowDown","Shift","Control/Meta"]],captureCtrl:!0,callback:()=>r.extendCellsSelectionToMostBottom(),runOnlyIf:()=>!(e.selection.isSelectedByCorner()||e.selection.isSelectedByColumnHeader())},{keys:[["ArrowLeft"]],callback:()=>r.moveCellSelectionLeft()},{keys:[["ArrowLeft","Control/Meta"]],captureCtrl:!0,callback:()=>r.moveCellSelectionToMostLeft()},{keys:[["ArrowLeft","Shift"]],callback:()=>r.extendCellsSelectionLeft()},{keys:[["ArrowLeft","Shift","Control/Meta"]],captureCtrl:!0,callback:()=>r.extendCellsSelectionToMostLeft(),runOnlyIf:()=>!(e.selection.isSelectedByCorner()||e.selection.isSelectedByRowHeader())},{keys:[["ArrowRight"]],callback:()=>r.moveCellSelectionRight()},{keys:[["ArrowRight","Control/Meta"]],captureCtrl:!0,callback:()=>r.moveCellSelectionToMostRight()},{keys:[["ArrowRight","Shift"]],callback:()=>r.extendCellsSelectionRight()},{keys:[["ArrowRight","Shift","Control/Meta"]],captureCtrl:!0,callback:()=>r.extendCellsSelectionToMostRight(),runOnlyIf:()=>!(e.selection.isSelectedByCorner()||e.selection.isSelectedByRowHeader())},{keys:[["Home"]],captureCtrl:!0,callback:()=>r.moveCellSelectionToMostInlineStart(),runOnlyIf:()=>e.view.isMainTableNotFullyCoveredByOverlays()},{keys:[["Home","Shift"]],callback:()=>r.extendCellsSelectionToMostInlineStart()},{keys:[["Home","Control/Meta"]],captureCtrl:!0,callback:()=>r.moveCellSelectionToMostTopInlineStart(),runOnlyIf:()=>e.view.isMainTableNotFullyCoveredByOverlays()},{keys:[["End"]],captureCtrl:!0,callback:()=>r.moveCellSelectionToMostInlineEnd(),runOnlyIf:()=>e.view.isMainTableNotFullyCoveredByOverlays()},{keys:[["End","Shift"]],callback:()=>r.extendCellsSelectionToMostInlineEnd()},{keys:[["End","Control/Meta"]],captureCtrl:!0,callback:()=>r.moveCellSelectionToMostBottomInlineEnd(),runOnlyIf:()=>e.view.isMainTableNotFullyCoveredByOverlays()},{keys:[["PageUp"]],callback:()=>r.moveCellSelectionUpByViewportHight()},{keys:[["PageUp","Shift"]],callback:()=>r.extendCellsSelectionUpByViewportHeight()},{keys:[["PageDown"]],callback:()=>r.moveCellSelectionDownByViewportHeight()},{keys:[["PageDown","Shift"]],callback:()=>r.extendCellsSelectionDownByViewportHeight()},{keys:[["Tab"]],preventDefault:!1,callback:n=>r.moveCellSelectionInlineStart(n)},{keys:[["Shift","Tab"]],preventDefault:!1,callback:n=>r.moveCellSelectionInlineEnd(n)},{keys:[["Control/Meta","Backspace"]],callback:()=>r.scrollToFocusedCell()}],i)}function oJ(e){[nJ,rJ].forEach(t=>t(e))}function aJ(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.rootElement,i=sJ(e),n=sJ(e);return i.addEventListener("focus",()=>t?.onFocusFromTop()),n.addEventListener("focus",()=>t?.onFocusFromBottom()),r.firstChild.before(i),r.lastChild.after(n),{activate(){e._registerTimeout(()=>{i.tabIndex=0,n.tabIndex=0},10)},deactivate(){e._registerTimeout(()=>{i.tabIndex=-1,n.tabIndex=-1},10)}}}function sJ(e){let r=e.rootDocument.createElement("input");return r.type="text",r.classList.add("htFocusCatcher"),e.getSettings().ariaTags&&Xe(r,[za(),Os()]),r}function lJ(e){let t=SEt(e),r,{activate:i,deactivate:n}=aJ(e,{onFocusFromTop(){var u;let h=(u=t(r))!==null&&u!==void 0?u:dL(e);h&&(e.runHooks("modifyFocusOnTabNavigation","from_above",h),e.selectCell(h.row,h.col)),e.listen()},onFocusFromBottom(){var u;let h=(u=t(r))!==null&&u!==void 0?u:uL(e);h&&(e.runHooks("modifyFocusOnTabNavigation","from_below",h),e.selectCell(h.row,h.col)),e.listen()}}),o={wrapped:!1,flipped:!1},s=!0,a=!1,l=!1;e.addHook("afterListen",()=>n()),e.addHook("afterUnlisten",()=>i()),e.addHook("afterSelection",(u,h,f,m,g)=>{if(a&&(o.wrapped&&o.flipped||l)&&(l=!1,g.value=!0),s){var p;r=(p=e.getSelectedRangeLast())===null||p===void 0?void 0:p.highlight}}),e.addHook("beforeRowWrap",(u,h,f)=>{o.wrapped=!0,o.flipped=f});function c(){o.wrapped=!1,o.flipped=!1,e.deselectCell(),e.unlisten()}let d={keys:[["Tab"],["Shift","Tab"]],preventDefault:!1,stopPropagation:!1,relativeToGroup:XA,group:"focusCatcher"};e.getShortcutManager().getContext("grid").addShortcuts([je(Vt({},d),{callback:()=>{let{tabNavigation:u}=e.getSettings();a=!0,e.getSelectedRangeLast()&&!u&&(s=!1),u||(l=!0)},position:"before"}),je(Vt({},d),{callback:u=>{let{tabNavigation:h,autoWrapRow:f}=e.getSettings();if(a=!1,s=!0,!h||!e.selection.isSelected()||f&&o.wrapped&&o.flipped||!f&&o.wrapped)return f&&o.wrapped&&o.flipped&&(r=u.shiftKey?dL(e):uL(e)),c(),!1;u.preventDefault()},position:"after"})])}function dL(e){let{rowIndexMapper:t,columnIndexMapper:r}=e,{navigableHeaders:i}=e.getSettings(),n=i&&e.countColHeaders()>0?-e.countColHeaders():0,o=i&&e.countRowHeaders()>0?-e.countRowHeaders():0;return n===0&&(n=t.getVisualFromRenderableIndex(n)),o===0&&(o=r.getVisualFromRenderableIndex(o)),n===null||o===null?null:e._createCellCoords(n,o)}function uL(e){var t,r;let{rowIndexMapper:i,columnIndexMapper:n}=e,{navigableHeaders:o}=e.getSettings(),s=i.getRenderableIndexesLength()-1,a=n.getRenderableIndexesLength()-1;if(s<0){if(!o||e.countColHeaders()===0)return null;s=-1}if(a<0){if(!o||e.countColHeaders()===0)return null;a=-1}return e._createCellCoords((t=i.getVisualFromRenderableIndex(s))!==null&&t!==void 0?t:s,(r=n.getVisualFromRenderableIndex(a))!==null&&r!==void 0?r:a)}function SEt(e){return t=>{if(!t)return null;let r=dL(e),i=uL(e);return t.col<r.col&&(t.col=r.col),t.col>i.col&&(t.col=i.col),t.row<r.row&&(t.row=r.row),t.row>i.row&&(t.row=i.row),t}}function cJ(e){return t=>{let{col:r}=t;e.scrollViewportTo({col:r})}}function dJ(){return()=>{}}function uJ(e){return t=>{e.scrollViewportTo(t.toObject())}}function hJ(e){return t=>{e.scrollViewportTo(t.toObject())}}function fJ(e){return t=>{e.scrollViewportTo(t.toObject())}}function mJ(e){return t=>{let{row:r}=t;e.scrollViewportTo({row:r})}}function pJ(e){return t=>{let r=e.selection.getSelectionSource(),{row:i,col:n}=t;if(i<0&&n>=0)e.scrollViewportTo({col:n});else if(n<0&&i>=0)e.scrollViewportTo({row:i});else{if(r==="mouse"&&(n===e.view.getLastPartiallyVisibleColumn()||i===e.view.getLastPartiallyVisibleRow()))return;e.scrollViewportTo({row:i,col:n})}}}function gJ(e){let{selection:t}=e,r=!1,i=!1;return{resume(){i=!1},suspend(){i=!0},skipNextScrollCycle(){r=!0},scrollTo(n){var o;if(r||i){r=!1;return}let s;t.isFocusSelectionChanged()?s=uJ(e):t.isSelectedByCorner()?s=dJ(e):t.isSelectedByRowHeader()?s=mJ(e):t.isSelectedByColumnHeader()?s=cJ(e):t.getSelectedRange().size()===1&&t.isMultiple()?s=hJ(e):t.getSelectedRange().size()===1&&!t.isMultiple()?s=pJ(e):t.getSelectedRange().size()>1&&(s=fJ(e)),(o=s)===null||o===void 0||o(n)}}}var oce=ot(Gt(),1);var Nle=ot(Gt(),1),Lle=ot(we(),1);var Tle=ot(yn(),1),Mle=ot(_n(),1),Ale=ot(wn(),1),Ile=ot(Cn(),1),kle=ot(xn(),1),Dle=ot(Sn(),1),Ole=ot(En(),1),bJ=new Map([[" ","space"],["spacebar","space"],["scroll","scrolllock"],["del","delete"],["esc","escape"],["medianexttrack","mediatracknext"],["mediaprevioustrack","mediatrackprevious"],["volumeup","audiovolumeup"],["volumedown","audiovolumedown"],["volumemute","audiovolumemute"],["multiply","*"],["add","+"],["divide","/"],["subtract","-"],["left","arrowleft"],["right","arrowright"],["up","arrowup"],["down","arrowdown"]]),W2=e=>e.map(t=>{let r=t.toLowerCase();return bJ.has(r)?bJ.get(r):r}).sort().join("+"),yJ=e=>e.split("+"),vJ=new RegExp("^(?:Key|Digit)([A-Z0-9])$"),EEt=new Set(["Backquote","Minus","Equal","BracketLeft","BracketRight","Backslash","Semicolon","Quote","Comma","Period","Slash"]),QA=e=>{let{key:t,code:r}=e,i=t;return vJ.test(r)?i=r.replace(vJ,"$1"):EEt.has(r)&&(i=r),i.toLowerCase()};var _J=Symbol("shortcut-context");function hL(e){return gi(e)&&e.__kindOf===_J}var wJ=e=>{let t=tp({errorIdExists:l=>`The "${l}" shortcut is already registered in the "${e}" context.`}),r=function(){let{keys:l,callback:c,group:d,runOnlyIf:u=()=>!0,captureCtrl:h=!1,preventDefault:f=!0,stopPropagation:m=!1,relativeToGroup:g,position:p,forwardToContext:b}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(_r(d))throw new Error("You need to define the shortcut's group.");if(Mr(c)===!1)throw new Error("The shortcut's callback needs to be a function.");if(Array.isArray(l)===!1)throw new Error(Gi`Pass the shortcut\'s keys as an array of arrays,\x20
      using the KeyboardEvent.key properties:\x20
      https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key/Key_Values.`);let _={callback:c,group:d,runOnlyIf:u,captureCtrl:h,preventDefault:f,stopPropagation:m};Ne(g)&&(_.relativeToGroup=g,_.position=p),hL(b)&&(_.forwardToContext=b),l.forEach(E=>{let O=W2(E);if(t.hasItem(O)){let H=t.getItem(O),F=H.findIndex(L=>L.group===g);F!==-1?p==="before"?F-=1:F+=1:F=H.length,H.splice(F,0,_)}else t.addItem(O,[_])})},i=function(l){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};l.forEach(d=>{bi(c,(u,h)=>{Object.prototype.hasOwnProperty.call(d,h)===!1&&(d[h]=c[h])}),r(d)})},n=l=>{let c=W2(l);t.removeItem(c)};return{__kindOf:_J,addShortcut:r,addShortcuts:i,getShortcuts:l=>{let c=W2(l),d=t.getItem(c);return Ne(d)?d.slice():[]},hasShortcut:l=>{let c=W2(l);return t.hasItem(c)},removeShortcutsByKeys:n,removeShortcutsByGroup:l=>{t.getItems().forEach(d=>{let[u,h]=d,f=h.filter(m=>m.group!==l);f.length===0?n(yJ(u)):(h.length=0,h.push(...f))})}}};var Qle=ot(we(),1);var Wle=ot(yn(),1),Yle=ot(_n(),1),qle=ot(wn(),1),$le=ot(Cn(),1),Gle=ot(xn(),1),Kle=ot(Sn(),1),Xle=ot(En(),1);function CJ(){let e=new Set;return{press(t){e.add(t)},release(t){e.delete(t)},releaseAll(){e.clear()},isPressed(t){return e.has(t)}}}var REt=["meta","alt","shift","control"],Y2=CJ(),q2=[],JA=0;function xJ(e,t,r,i,n){let o=f=>REt.includes(f),s=function(f){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,g=[];return f.altKey&&g.push("alt"),m&&(f.ctrlKey||f.metaKey)?g.push("control/meta"):(f.ctrlKey&&g.push("control"),f.metaKey&&g.push("meta")),f.shiftKey&&g.push("shift"),g},a=f=>{if(t(f)===!1)return;let m=r(f);if(f.keyCode===229||m===!1||Wu(f))return;let g=QA(f),p=[];o(g)||(p=s(f));let b=[g].concat(p);!n(f,b)&&(dy()&&p.includes("meta")||!dy()&&p.includes("control"))&&n(f,[g].concat(s(f,!0))),i(f)},l=f=>{if(f.key){let m=QA(f);o(m)&&Y2.press(m)}},c=f=>{if(f.key){let m=QA(f);o(m)&&Y2.release(m)}},d=()=>{Y2.releaseAll()};return{mount:()=>{let f=e;for(JA+=1;f;)JA===1&&(f.document.documentElement.addEventListener("keydown",l),q2.push({event:"keydown",listener:l}),f.document.documentElement.addEventListener("keyup",c),q2.push({event:"keyup",listener:c})),f.document.documentElement.addEventListener("keydown",a),f.document.documentElement.addEventListener("blur",d),f=zu(f)},unmount:()=>{let f=e;for(JA-=1;f;){if(JA===0){for(let m=0;m<q2.length;m++){let{event:g,listener:p}=q2[m];f.document.documentElement.removeEventListener(g,p)}q2.length=0}f.document.documentElement.removeEventListener("keydown",a),f.document.documentElement.removeEventListener("blur",d),f=zu(f)}},isPressed:f=>Y2.isPressed(f),releasePressedKeys:()=>Y2.releaseAll()}}var fL=e=>{let{ownerWindow:t,handleEvent:r,beforeKeyDown:i,afterKeyDown:n}=e,o=tp({errorIdExists:m=>`The "${m}" context name is already registered.`}),s="grid",a=m=>{let g=wJ(m);return o.addItem(m,g),g},l=()=>s,c=m=>o.getItem(m),d=m=>{if(!o.hasItem(m))throw new Error(Gi`You've tried to activate the "${m}" shortcut context\x20
        that does not exist. Before activation, register the context using the "addContext" method.`);s=m},u=!1,h=function(m,g){let p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l(),b=hL(p)?p:c(p),_=!1;if(!b.hasShortcut(g))return _;let E=b.getShortcuts(g);for(let O=0;O<E.length;O++){let{callback:V,runOnlyIf:H,preventDefault:F,stopPropagation:L,captureCtrl:$,forwardToContext:W}=E[O];if(H(m)===!0){if(u=$,_=V(m,g)===!1,u=!1,F&&m.preventDefault(),L&&(Vo(m),m.stopPropagation()),_)break;W&&h(m,g,W)}}return _},f=xJ(t,r,i,n,h);return f.mount(),{addContext:a,getActiveContextName:l,getContext:c,setActiveContextName:d,isCtrlPressed:()=>!u&&(f.isPressed("control")||f.isPressed("meta")),releasePressedKeys:()=>f.releasePressedKeys(),destroy:()=>f.unmount()}};var mL=null,pL=new Map;function tI(e,t){var r,i=this;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=this,s=new Qo(o),a,l,c,d,u,h,f=!0;fZ(n)&&hZ(this),this.rootElement=e,this.rootDocument=e.ownerDocument,this.rootWindow=this.rootDocument.defaultView,this.isDestroyed=!1,this.renderSuspendedCounter=0,this.executionSuspendedCounter=0;let m=(r=t?.layoutDirection)!==null&&r!==void 0?r:"inherit",g=["rtl","ltr"].includes(m)?m:this.rootWindow.getComputedStyle(this.rootElement).direction;this.rootElement.setAttribute("dir",g),this.isRtl=function(){return g==="rtl"},this.isLtr=function(){return!o.isRtl()},this.getDirectionFactor=function(){return o.isLtr()?1:-1},t.language=NZ(t.language);let p=new Fy(o,t,[z2,U2]),b=p.getTableMeta(),_=p.getGlobalMeta(),E=tp();this.container=this.rootDocument.createElement("div"),this.renderCall=!1,e.insertBefore(this.container,e.firstChild),Ty(this)&&WG(t.licenseKey,e),this.guid=`ht_${oM()}`,pL.set(this.guid,this),this.columnIndexMapper=new d0,this.rowIndexMapper=new d0,this.columnIndexMapper.addLocalHook("indexesSequenceChange",N=>{o.runHooks("afterColumnSequenceChange",N)}),this.rowIndexMapper.addLocalHook("indexesSequenceChange",N=>{o.runHooks("afterRowSequenceChange",N)}),l=new wZ(o),(!this.rootElement.id||this.rootElement.id.substring(0,3)==="ht_")&&(this.rootElement.id=this.guid);let O=N=>{let{row:T,col:j}=N;return o._createCellCoords(T>=0?o.rowIndexMapper.getRenderableFromVisualIndex(T):T,j>=0?o.columnIndexMapper.getRenderableFromVisualIndex(j):j)},V=N=>{let{row:T,col:j}=N;return o._createCellCoords(T>=0?o.rowIndexMapper.getVisualFromRenderableIndex(T):T,j>=0?o.columnIndexMapper.getVisualFromRenderableIndex(j):j)},H=(N,T)=>{let j=T>N?1:-1,I=Math.min(N,T),q=Math.max(N,T),A=o.rowIndexMapper.getNearestNotHiddenIndex(N,j);return A===null||j===1&&A>q||j===-1&&A<I?null:A>=0?o.rowIndexMapper.getRenderableFromVisualIndex(A):A},F=(N,T)=>{let j=T>N?1:-1,I=Math.min(N,T),q=Math.max(N,T),A=o.columnIndexMapper.getNearestNotHiddenIndex(N,j);return A===null||j===1&&A>q||j===-1&&A<I?null:A>=0?o.columnIndexMapper.getRenderableFromVisualIndex(A):A},L=new nL(b,{rowIndexMapper:o.rowIndexMapper,columnIndexMapper:o.columnIndexMapper,countCols:()=>o.countCols(),countRows:()=>o.countRows(),propToCol:N=>a.propToCol(N),isEditorOpened:()=>o.getActiveEditor()?o.getActiveEditor().isOpened():!1,countRenderableColumns:()=>this.view.countRenderableColumns(),countRenderableRows:()=>this.view.countRenderableRows(),countRowHeaders:()=>this.countRowHeaders(),countColHeaders:()=>this.countColHeaders(),countRenderableRowsInRange:function(){return i.view.countRenderableRowsInRange(...arguments)},countRenderableColumnsInRange:function(){return i.view.countRenderableColumnsInRange(...arguments)},getShortcutManager:()=>o.getShortcutManager(),createCellCoords:(N,T)=>o._createCellCoords(N,T),createCellRange:(N,T,j)=>o._createCellRange(N,T,j),visualToRenderableCoords:O,renderableToVisualCoords:V,findFirstNonHiddenRenderableRow:H,findFirstNonHiddenRenderableColumn:F,isDisabledCellSelection:(N,T)=>N<0||T<0?o.getSettings().disableVisualSelection:o.getCellMeta(N,T).disableVisualSelection});this.selection=L;let $=N=>{let{hiddenIndexesChanged:T}=N;T&&this.selection.commit()};this.columnIndexMapper.addLocalHook("cacheUpdated",$),this.rowIndexMapper.addLocalHook("cacheUpdated",$),this.selection.addLocalHook("afterSetRangeEnd",(N,T)=>{let j=va(!1),I=this.selection.getSelectedRange(),{from:q,to:A}=I.current(),k=I.size()-1;this.runHooks("afterSelection",q.row,q.col,A.row,A.col,j,k),this.runHooks("afterSelectionByProp",q.row,o.colToProp(q.col),A.row,o.colToProp(A.col),j,k),T&&(!j.isTouched()||j.isTouched()&&!j.value)&&h.scrollTo(N);let Y=L.isSelectedByRowHeader(),Z=L.isSelectedByColumnHeader();Y&&Z?ne(this.rootElement,["ht__selection--rows","ht__selection--columns"]):Y?(pi(this.rootElement,"ht__selection--columns"),ne(this.rootElement,"ht__selection--rows")):Z?(pi(this.rootElement,"ht__selection--rows"),ne(this.rootElement,"ht__selection--columns")):pi(this.rootElement,["ht__selection--rows","ht__selection--columns"]),L.getSelectionSource()!=="shift"&&d.closeEditor(null),o.view.render(),d.prepareEditor()}),this.selection.addLocalHook("beforeSetFocus",N=>{this.runHooks("beforeSelectionFocusSet",N.row,N.col)}),this.selection.addLocalHook("afterSetFocus",N=>{let T=va(!1);this.runHooks("afterSelectionFocusSet",N.row,N.col,T),(!T.isTouched()||T.isTouched()&&!T.value)&&h.scrollTo(N),d.closeEditor(),o.view.render(),d.prepareEditor()}),this.selection.addLocalHook("afterSelectionFinished",N=>{let T=N.length-1,{from:j,to:I}=N[T];this.runHooks("afterSelectionEnd",j.row,j.col,I.row,I.col,T),this.runHooks("afterSelectionEndByProp",j.row,o.colToProp(j.col),I.row,o.colToProp(I.col),T)}),this.selection.addLocalHook("afterIsMultipleSelection",N=>{let T=this.runHooks("afterIsMultipleSelection",N.value);N.value&&(N.value=T)}),this.selection.addLocalHook("afterDeselect",()=>{d.closeEditor(),o.view.render(),pi(this.rootElement,["ht__selection--rows","ht__selection--columns"]),this.runHooks("afterDeselect")}),this.selection.addLocalHook("beforeHighlightSet",()=>this.runHooks("beforeSelectionHighlightSet")).addLocalHook("beforeSetRangeStart",function(){for(var N=arguments.length,T=new Array(N),j=0;j<N;j++)T[j]=arguments[j];return i.runHooks("beforeSetRangeStart",...T)}).addLocalHook("beforeSetRangeStartOnly",function(){for(var N=arguments.length,T=new Array(N),j=0;j<N;j++)T[j]=arguments[j];return i.runHooks("beforeSetRangeStartOnly",...T)}).addLocalHook("beforeSetRangeEnd",function(){for(var N=arguments.length,T=new Array(N),j=0;j<N;j++)T[j]=arguments[j];return i.runHooks("beforeSetRangeEnd",...T)}).addLocalHook("beforeSelectColumns",function(){for(var N=arguments.length,T=new Array(N),j=0;j<N;j++)T[j]=arguments[j];return i.runHooks("beforeSelectColumns",...T)}).addLocalHook("afterSelectColumns",function(){for(var N=arguments.length,T=new Array(N),j=0;j<N;j++)T[j]=arguments[j];return i.runHooks("afterSelectColumns",...T)}).addLocalHook("beforeSelectRows",function(){for(var N=arguments.length,T=new Array(N),j=0;j<N;j++)T[j]=arguments[j];return i.runHooks("beforeSelectRows",...T)}).addLocalHook("afterSelectRows",function(){for(var N=arguments.length,T=new Array(N),j=0;j<N;j++)T[j]=arguments[j];return i.runHooks("afterSelectRows",...T)}).addLocalHook("beforeModifyTransformStart",function(){for(var N=arguments.length,T=new Array(N),j=0;j<N;j++)T[j]=arguments[j];return i.runHooks("modifyTransformStart",...T)}).addLocalHook("afterModifyTransformStart",function(){for(var N=arguments.length,T=new Array(N),j=0;j<N;j++)T[j]=arguments[j];return i.runHooks("afterModifyTransformStart",...T)}).addLocalHook("beforeModifyTransformFocus",function(){for(var N=arguments.length,T=new Array(N),j=0;j<N;j++)T[j]=arguments[j];return i.runHooks("modifyTransformFocus",...T)}).addLocalHook("afterModifyTransformFocus",function(){for(var N=arguments.length,T=new Array(N),j=0;j<N;j++)T[j]=arguments[j];return i.runHooks("afterModifyTransformFocus",...T)}).addLocalHook("beforeModifyTransformEnd",function(){for(var N=arguments.length,T=new Array(N),j=0;j<N;j++)T[j]=arguments[j];return i.runHooks("modifyTransformEnd",...T)}).addLocalHook("afterModifyTransformEnd",function(){for(var N=arguments.length,T=new Array(N),j=0;j<N;j++)T[j]=arguments[j];return i.runHooks("afterModifyTransformEnd",...T)}).addLocalHook("beforeRowWrap",function(){for(var N=arguments.length,T=new Array(N),j=0;j<N;j++)T[j]=arguments[j];return i.runHooks("beforeRowWrap",...T)}).addLocalHook("beforeColumnWrap",function(){for(var N=arguments.length,T=new Array(N),j=0;j<N;j++)T[j]=arguments[j];return i.runHooks("beforeColumnWrap",...T)}).addLocalHook("insertRowRequire",N=>this.alter("insert_row_above",N,1,"auto")).addLocalHook("insertColRequire",N=>this.alter("insert_col_start",N,1,"auto")),c={alter(N,T){var j,I;let q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=arguments.length>3?arguments[3]:void 0,k=arguments.length>4?arguments[4]:void 0,Y=Z=>{if(Z.length===0)return[];let lt=[...Z];return lt.sort((et,Et)=>{let[Rt]=et,[nt]=Et;return Rt===nt?0:Rt>nt?1:-1}),cn(lt,(et,Et)=>{let[Rt,nt]=Et,at=et[et.length-1],[Ct,tt]=at,it=Ct+tt;if(Rt<=it){let ct=Math.max(nt-(it-Rt),0);at[1]+=ct}else et.push([Rt,nt]);return et},[lt[0]])};switch(N){case"insert_row_below":case"insert_row_above":let Z=o.countSourceRows();if(b.maxRows===Z)return;let lt=N==="insert_row_below"?"below":"above";T=(j=T)!==null&&j!==void 0?j:lt==="below"?Z:0;let{delta:J,startPhysicalIndex:et}=a.createRow(T,q,{source:A,mode:lt});L.shiftRows(o.toVisualRow(et),J);break;case"insert_col_start":case"insert_col_end":let Et=N==="insert_col_end"?"end":"start";T=(I=T)!==null&&I!==void 0?I:Et==="end"?o.countSourceCols():0;let{delta:Rt,startPhysicalIndex:nt}=a.createCol(T,q,{source:A,mode:Et});if(Rt){if(Array.isArray(b.colHeaders)){let tt=[o.toVisualColumn(nt),0];tt.length+=Rt,Array.prototype.splice.apply(b.colHeaders,tt)}L.shiftColumns(o.toVisualColumn(nt),Rt)}break;case"remove_row":let at=tt=>{let it=0;Tt(tt,ct=>{let[mt,bt]=ct,St=sn(mt)?o.countRows()-1:Math.max(mt-it,0);if(Number.isInteger(mt)&&(mt=Math.max(mt-it,0)),!a.removeRow(mt,bt,A))return;if(L.isSelected()){let{row:Nt}=o.getSelectedRangeLast().highlight;Nt>=mt&&Nt<=mt+bt-1&&d.closeEditor(!0)}let At=o.countRows();At===0?L.deselect():A==="ContextMenu.removeRow"?L.refresh():L.shiftRows(mt,-bt);let kt=b.fixedRowsTop;kt>=St+1&&(b.fixedRowsTop-=Math.min(bt,kt-St));let Mt=b.fixedRowsBottom;Mt&&St>=At-Mt&&(b.fixedRowsBottom-=Math.min(bt,Mt)),it+=bt})};Array.isArray(T)?at(Y(T)):at([[T,q]]);break;case"remove_col":let Ct=tt=>{let it=0;Tt(tt,ct=>{let[mt,bt]=ct,St=sn(mt)?o.countCols()-1:Math.max(mt-it,0),wt=o.toPhysicalColumn(St);if(Number.isInteger(mt)&&(mt=Math.max(mt-it,0)),!a.removeCol(mt,bt,A))return;if(L.isSelected()){let{col:Nt}=o.getSelectedRangeLast().highlight;Nt>=mt&&Nt<=mt+bt-1&&d.closeEditor(!0)}o.countCols()===0?L.deselect():A==="ContextMenu.removeColumn"?L.refresh():L.shiftColumns(mt,-bt);let Mt=b.fixedColumnsStart;Mt>=St+1&&(b.fixedColumnsStart-=Math.min(bt,Mt-St)),Array.isArray(b.colHeaders)&&(typeof wt>"u"&&(wt=-1),b.colHeaders.splice(wt,bt)),it+=bt})};Array.isArray(T)?Ct(Y(T)):Ct([[T,q]]);break;default:throw new Error(`There is no such action "${N}"`)}o.view.render(),k||c.adjustRowsAndCols()},adjustRowsAndCols(){let N=b.minRows,T=b.minSpareRows,j=b.minCols,I=b.minSpareCols;if(N){let q=o.countRows();q<N&&a.createRow(q,N-q,{source:"auto"})}if(T){let q=o.countEmptyRows(!0);if(q<T){let A=T-q,k=Math.min(A,b.maxRows-o.countSourceRows());a.createRow(o.countRows(),k,{source:"auto"})}}{let q;(j||I)&&(q=o.countEmptyCols(!0));let A=o.countCols();if(j&&!b.columns&&A<j){let k=j-A;q+=k,a.createCol(A,k,{source:"auto"})}if(I&&!b.columns&&o.dataType==="array"&&q<I){A=o.countCols();let k=I-q,Y=Math.min(k,b.maxCols-A);a.createCol(A,Y,{source:"auto"})}}o.view&&o.view.adjustElementsSize()},populateFromArray(N,T,j,I,q){let A,k,Y,Z,lt=[],J={},et=[],Et=N.row,Rt=N.col;if(k=T.length,k===0)return!1;let nt=0,at=0;switch(gi(j)&&(nt=j.col-Rt+1,at=j.row-Et+1),q){case"shift_down":let Ct=Xv(T),tt=Ct.length,it=Math.max(tt,nt),ct=o.getData().slice(Et),mt=Xv(ct).slice(Rt,Rt+it);for(Y=0;Y<it;Y+=1)if(Y<tt){for(A=0,k=Ct[Y].length;A<at-k;A+=1)Ct[Y].push(Ct[Y][A%k]);Y<mt.length?et.push(Ct[Y].concat(mt[Y])):et.push(Ct[Y].concat(new Array(ct.length).fill(null)))}else et.push(Ct[Y%tt].concat(mt[Y]));o.populateFromArray(Et,Rt,Xv(et));break;case"shift_right":let bt=T.length,St=Math.max(bt,at),wt=o.getData().slice(Et).map(re=>re.slice(Rt));for(A=0;A<St;A+=1)if(A<bt){for(Y=0,Z=T[A].length;Y<nt-Z;Y+=1)T[A].push(T[A][Y%Z]);if(A<wt.length)for(let re=0;re<wt[A].length;re+=1)T[A].push(wt[A][re]);else T[A].push(...new Array(wt[0].length).fill(null))}else T.push(T[A%k].slice(0,St).concat(wt[A]));o.populateFromArray(Et,Rt,T);break;case"overwrite":default:J.row=N.row,J.col=N.col;let At=0,kt=0,Mt=!0,Nt,Ut=function(Qt){let Fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,le=T[Qt%T.length];return Fe!==null?le[Fe%le.length]:le},qt=T.length,Wt=j?j.row-N.row+1:0;for(j?k=Wt:k=Math.max(qt,Wt),A=0;A<k&&!(j&&J.row>j.row&&Wt>qt||!b.allowInsertRow&&J.row>o.countRows()-1||J.row>=b.maxRows);A++){let re=A-At,Qt=Ut(re).length,Fe=j?j.col-N.col+1:0;if(j?Z=Fe:Z=Math.max(Qt,Fe),J.col=N.col,Nt=o.getCellMeta(J.row,J.col),(I==="CopyPaste.paste"||I==="Autofill.fill")&&Nt.skipRowOnPaste){At+=1,J.row+=1,k+=1;continue}for(kt=0,Y=0;Y<Z&&!(j&&J.col>j.col&&Fe>Qt||!b.allowInsertColumn&&J.col>o.countCols()-1||J.col>=b.maxCols);Y++){if(Nt=o.getCellMeta(J.row,J.col),(I==="CopyPaste.paste"||I==="Autofill.fill")&&Nt.skipColumnOnPaste){kt+=1,J.col+=1,Z+=1;continue}if(Nt.readOnly&&I!=="UndoRedo.undo"){J.col+=1;continue}let le=Y-kt,fe=Ut(re,le),Di=o.getDataAtCell(J.row,J.col);if(fe!==null&&typeof fe=="object")if(Array.isArray(fe)&&Di===null&&(Di=[]),Di===null||typeof Di!="object")Mt=!1;else{let Ae=Qg(Array.isArray(Di)?Di:Di[0]||Di),oi=Qg(Array.isArray(fe)?fe:fe[0]||fe);oy(Ae,oi)||Array.isArray(Ae)&&Array.isArray(oi)?fe=jo(fe):Mt=!1}else Di!==null&&typeof Di=="object"&&(Mt=!1);Mt&&lt.push([J.row,J.col,fe]),Mt=!0,J.col+=1}J.row+=1}o.setDataAtCell(lt,null,null,I||"populateFromArray");break}}};function W(N){let T=PA(N);LA(T)?(o.runHooks("beforeLanguageChange",T),_.language=T,o.runHooks("afterLanguageChange",T)):NA(N)}function x(N,T){let j=N==="className"?o.rootElement:o.table;if(f)ne(j,T);else{let I=[],q=[];_[N]&&(I=Array.isArray(_[N])?_[N]:xN(_[N])),T&&(q=Array.isArray(T)?T:xN(T));let A=CN(I,q),k=CN(q,I);A.length&&pi(j,A),k.length&&ne(j,k)}_[N]=T}this.init=function(){l.setData(b.data),o.runHooks("beforeInit"),(Zl()||RM())&&ne(o.rootElement,"mobile"),this.updateSettings(b,!0),this.view=new gZ(this),d=iX.getInstance(o,b,L),h=gJ(o),u=new NM(o),Ty(this)&&lJ(o),o.runHooks("init"),this.forceFullRender=!0,this.view.render(),f&&o.rootElement.offsetParent===null&&EK(o.rootElement,()=>{o.view._wt.wtOverlays.updateLastSpreaderSize(),o.render(),o.view.adjustElementsSize()}),typeof f=="object"&&(o.runHooks("afterChange",f[0],f[1]),f=!1),o.runHooks("afterInit")};function R(){let N=!1;return{validatorsInQueue:0,valid:!0,addValidatorToQueue(){this.validatorsInQueue+=1,N=!1},removeValidatorFormQueue(){this.validatorsInQueue=this.validatorsInQueue-1<0?0:this.validatorsInQueue-1,this.checkIfQueueIsEmpty()},onQueueEmpty(){},checkIfQueueIsEmpty(){this.validatorsInQueue===0&&N===!1&&(N=!0,this.onQueueEmpty(this.valid))}}}function B(N){let T=N.replace(",",".");return isNaN(parseFloat(T))===!1?parseFloat(T):N}function v(N,T,j){if(!N.length)return;let I=o.getActiveEditor(),q=new R,A=!0;q.onQueueEmpty=k=>{I&&A&&I.cancelChanges(),j(k)};for(let k=N.length-1;k>=0;k--){let[Y,Z,,lt]=N[k],J=a.propToCol(Z),et;Number.isInteger(J)?et=o.getCellMeta(Y,J):et=Vt(Vt({},Object.getPrototypeOf(b)),b),et.type==="numeric"&&typeof lt=="string"&&dX(lt)&&(N[k][3]=B(lt)),o.getCellValidator(et)&&(q.addValidatorToQueue(),o.validateCell(N[k][3],et,function(Et,Rt){return function(nt){if(typeof nt!="boolean")throw new Error("Validation error: result is not boolean");if(nt===!1&&Rt.allowInvalid===!1){A=!1,N.splice(Et,1),Rt.valid=!0;let at=o.getCell(Rt.visualRow,Rt.visualCol);at!==null&&pi(at,b.invalidCellClassName)}q.removeValidatorFormQueue()}}(k,et),T))}q.checkIfQueueIsEmpty()}function y(N,T){let j=N.length-1;if(j<0)return;for(;j>=0;j--){let q=!1;if(N[j]===null){N.splice(j,1);continue}if(!((N[j][2]===null||N[j][2]===void 0)&&(N[j][3]===null||N[j][3]===void 0))){if(b.allowInsertRow)for(;N[j][0]>o.countRows()-1;){let{delta:A}=a.createRow(void 0,void 0,{source:T});if(A===0){q=!0;break}}if(o.dataType==="array"&&(!b.columns||b.columns.length===0)&&b.allowInsertColumn)for(;a.propToCol(N[j][1])>o.countCols()-1;){let{delta:A}=a.createCol(void 0,void 0,{source:T});if(A===0){q=!0;break}}q||a.set(N[j][0],N[j][1],N[j][3])}}o.forceFullRender=!0,c.adjustRowsAndCols(),o.runHooks("beforeChangeRender",N,T),d.closeEditor(),o.view.render(),d.prepareEditor(),o.view.adjustElementsSize(),o.runHooks("afterChange",N,T||"edit");let I=o.getActiveEditor();I&&Ne(I.refreshValue)&&I.refreshValue()}this._createCellCoords=function(N,T){return o.view._wt.createCellCoords(N,T)},this._createCellRange=function(N,T,j){return o.view._wt.createCellRange(N,T,j)},this.validateCell=function(N,T,j,I){let q=o.getCellValidator(T);function A(k){if(!(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)||T.hidden===!0){j(k);return}let Z=T.visualCol,lt=T.visualRow,J=o.getCell(lt,Z,!0);if(J&&J.nodeName!=="TH"){let et=o.rowIndexMapper.getRenderableFromVisualIndex(lt),Et=o.columnIndexMapper.getRenderableFromVisualIndex(Z);o.view._wt.getSetting("cellRenderer",et,Et,J)}j(k)}UG(q)&&(q=function(k){return function(Y,Z){Z(k.test(Y))}}(q)),Mr(q)?(N=o.runHooks("beforeValidate",N,T.visualRow,T.prop,I),o._registerImmediate(()=>{q.call(T,N,k=>{o&&(k=o.runHooks("afterValidate",k,N,T.visualRow,T.prop,I),T.valid=k,A(k),o.runHooks("postAfterValidate",k,N,T.visualRow,T.prop,I))})})):o._registerImmediate(()=>{T.valid=!0,A(T.valid,!1)})};function C(N,T,j){return Array.isArray(N)?N:[[N,T,j]]}function w(N,T){let j=o.getActiveEditor(),I=o.runHooks("beforeChange",N,T||"edit"),q=N.filter(A=>A!==null);return I===!1||q.length===0?(j&&j.cancelChanges(),[]):q}this.setDataAtCell=function(N,T,j,I){let q=C(N,T,j),A=[],k=I,Y,Z,lt;for(Y=0,Z=q.length;Y<Z;Y++){if(typeof q[Y]!="object")throw new Error("Method `setDataAtCell` accepts row number or changes array of arrays as its first parameter");if(typeof q[Y][1]!="number")throw new Error("Method `setDataAtCell` accepts row and column number as its parameters. If you want to use object property name, use method `setDataAtRowProp`");q[Y][1]>=this.countCols()?lt=q[Y][1]:lt=a.colToProp(q[Y][1]),A.push([q[Y][0],lt,l.getAtCell(this.toPhysicalRow(q[Y][0]),q[Y][1]),q[Y][2]])}!k&&typeof N=="object"&&(k=T);let J=w(A,I);o.runHooks("afterSetDataAtCell",J,k),v(J,k,()=>{y(J,k)})},this.setDataAtRowProp=function(N,T,j,I){let q=C(N,T,j),A=[],k=I,Y,Z;for(Y=0,Z=q.length;Y<Z;Y++)A.push([q[Y][0],q[Y][1],l.getAtCell(this.toPhysicalRow(q[Y][0]),q[Y][1]),q[Y][2]]);!k&&typeof N=="object"&&(k=T);let lt=w(A,I);o.runHooks("afterSetDataAtRowProp",lt,k),v(lt,k,()=>{y(lt,k)})},this.listen=function(){o&&!o.isListening()&&(pL.forEach(N=>{o!==N&&N.unlisten()}),mL=o.guid,o.runHooks("afterListen"))},this.unlisten=function(){this.isListening()&&(mL=null,o.runHooks("afterUnlisten"))},this.isListening=function(){return mL===o.guid},this.destroyEditor=function(){let N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;d.closeEditor(N),o.view.render(),T&&L.isSelected()&&d.prepareEditor()},this.populateFromArray=function(N,T,j,I,q,A,k){if(!(typeof j=="object"&&typeof j[0]=="object"))throw new Error("populateFromArray parameter `input` must be an array of arrays");let Y=typeof I=="number"?o._createCellCoords(I,q):null;return c.populateFromArray(o._createCellCoords(N,T),j,Y,A,k)},this.spliceCol=function(N,T,j){for(var I=arguments.length,q=new Array(I>3?I-3:0),A=3;A<I;A++)q[A-3]=arguments[A];return a.spliceCol(N,T,j,...q)},this.spliceRow=function(N,T,j){for(var I=arguments.length,q=new Array(I>3?I-3:0),A=3;A<I;A++)q[A-3]=arguments[A];return a.spliceRow(N,T,j,...q)},this.getSelected=function(){if(L.isSelected())return xi(L.getSelectedRange(),N=>{let{from:T,to:j}=N;return[T.row,T.col,j.row,j.col]})},this.getSelectedLast=function(){let N=this.getSelected(),T;return N&&N.length>0&&(T=N[N.length-1]),T},this.getSelectedRange=function(){if(L.isSelected())return Array.from(L.getSelectedRange())},this.getSelectedRangeLast=function(){let N=this.getSelectedRange(),T;return N&&N.length>0&&(T=N[N.length-1]),T},this.emptySelectedCells=function(N){if(!L.isSelected()||this.countRows()===0||this.countCols()===0)return;let T=[];Tt(L.getSelectedRange(),j=>{if(j.isSingleHeader())return;let I=j.getTopStartCorner(),q=j.getBottomEndCorner();Oe(I.row,q.row,A=>{Oe(I.col,q.col,k=>{this.getCellMeta(A,k).readOnly||T.push([A,k,null])})})}),T.length>0&&this.setDataAtCell(T,N)},this.isRenderSuspended=function(){return this.renderSuspendedCounter>0},this.suspendRender=function(){this.renderSuspendedCounter+=1},this.resumeRender=function(){let N=this.renderSuspendedCounter-1;this.renderSuspendedCounter=Math.max(N,0),!this.isRenderSuspended()&&N===this.renderSuspendedCounter&&(this.renderCall?this.render():o.view.render())},this.render=function(){this.view&&(this.renderCall=!0,this.forceFullRender=!0,this.isRenderSuspended()||o.view.render())},this.batchRender=function(N){this.suspendRender();let T=N();return this.resumeRender(),T},this.isExecutionSuspended=function(){return this.executionSuspendedCounter>0},this.suspendExecution=function(){this.executionSuspendedCounter+=1,this.columnIndexMapper.suspendOperations(),this.rowIndexMapper.suspendOperations()},this.resumeExecution=function(){let N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,T=this.executionSuspendedCounter-1;this.executionSuspendedCounter=Math.max(T,0),(!this.isExecutionSuspended()&&T===this.executionSuspendedCounter||N)&&(this.columnIndexMapper.resumeOperations(),this.rowIndexMapper.resumeOperations())},this.batchExecution=function(N){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this.suspendExecution();let j=N();return this.resumeExecution(T),j},this.batch=function(N){this.suspendRender(),this.suspendExecution();let T=N();return this.resumeExecution(),this.resumeRender(),T},this.refreshDimensions=function(){if(!o.view)return;let{width:N,height:T}=o.view.getLastSize(),{width:j,height:I}=o.rootElement.getBoundingClientRect(),q=j!==N||I!==T;o.runHooks("beforeRefreshDimensions",{width:N,height:T},{width:j,height:I},q)!==!1&&((q||o.view._wt.wtOverlays.scrollableElement===o.rootWindow)&&(o.view.setLastSize(j,I),o.render()),o.runHooks("afterRefreshDimensions",{width:N,height:T},{width:j,height:I},q))},this.updateData=function(N,T){KA(N,j=>{a=j},j=>{a=j,o.columnIndexMapper.fitToLength(this.getInitialColumnCount()),o.rowIndexMapper.fitToLength(this.countSourceRows()),c.adjustRowsAndCols(),L.refresh()},{hotInstance:o,dataMap:a,dataSource:l,internalSource:"updateData",source:T,metaManager:p,firstRun:f})},this.loadData=function(N,T){KA(N,j=>{a=j},()=>{p.clearCellsCache(),o.initIndexMappers(),c.adjustRowsAndCols(),L.refresh(),f&&(f=[null,"loadData"])},{hotInstance:o,dataMap:a,dataSource:l,internalSource:"loadData",source:T,metaManager:p,firstRun:f})},this.getInitialColumnCount=function(){let N=b.columns,T=0;if(Array.isArray(N))T=N.length;else if(Mr(N))if(o.dataType==="array"){let j=this.countSourceCols();for(let I=0;I<j;I+=1)N(I)&&(T+=1)}else(o.dataType==="object"||o.dataType==="function")&&(T=a.colToPropCache.length);else if(Ne(b.dataSchema)){let j=a.getSchema();T=Array.isArray(j)?j.length:sy(j)}else T=this.countSourceCols();return T},this.initIndexMappers=function(){this.columnIndexMapper.initToLength(this.getInitialColumnCount()),this.rowIndexMapper.initToLength(this.countSourceRows())},this.getData=function(N,T,j,I){return _r(N)?a.getAll():a.getRange(o._createCellCoords(N,T),o._createCellCoords(j,I),a.DESTINATION_RENDERER)},this.getCopyableText=function(N,T,j,I){return a.getCopyableText(o._createCellCoords(N,T),o._createCellCoords(j,I))},this.getCopyableData=function(N,T){return a.getCopyable(N,a.colToProp(T))},this.getSchema=function(){return a.getSchema()},this.updateSettings=function(N){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,j=(f?o.loadData:o.updateData).bind(this),I=!1,q,A;if(Ne(N.rows))throw new Error('The "rows" setting is no longer supported. Do you mean startRows, minRows or maxRows?');if(Ne(N.cols))throw new Error('The "cols" setting is no longer supported. Do you mean startCols, minCols or maxCols?');if(Ne(N.ganttChart))throw new Error('Since 8.0.0 the "ganttChart" setting is no longer supported.');for(q in N)q==="data"||(q==="language"?W(N.language):q==="className"?x("className",N.className):q==="tableClassName"&&o.table?(x("tableClassName",N.tableClassName),o.view._wt.wtOverlays.syncOverlayTableClassNames()):Le.getSingleton().isRegistered(q)||Le.getSingleton().isDeprecated(q)?(Mr(N[q])||Array.isArray(N[q]))&&(N[q].initialHook=!0,o.addHook(q,N[q])):!T&&en(N,q)&&(_[q]=N[q]));N.data===void 0&&b.data===void 0?j(null,"updateSettings"):N.data!==void 0?j(N.data,"updateSettings"):N.columns!==void 0&&(a.createMap(),o.initIndexMappers());let k=o.countCols(),Y=b.columns;if(Y&&Mr(Y)&&(I=!0),(N.cell!==void 0||N.cells!==void 0||N.columns!==void 0)&&p.clearCache(),k>0)for(q=0,A=0;q<k;q++){if(Y){let J=I?Y(q):Y[A];J&&p.updateColumnMeta(A,J)}A+=1}Ne(N.cell)&&bi(N.cell,J=>{o.setCellMetaObject(J.row,J.col,J)}),o.runHooks("afterCellMetaReset");let Z=o.rootElement.style.height;Z!==""&&(Z=parseInt(o.rootElement.style.height,10));let lt=N.height;if(Mr(lt)&&(lt=lt()),T&&o.rootElement.getAttribute("style")&&o.rootElement.setAttribute("data-initialstyle",o.rootElement.getAttribute("style")),lt===null){let J=o.rootElement.getAttribute("data-initialstyle");J&&(J.indexOf("height")>-1||J.indexOf("overflow")>-1)?o.rootElement.setAttribute("style",J):(o.rootElement.style.height="",o.rootElement.style.overflow="")}else lt!==void 0&&(o.rootElement.style.height=isNaN(lt)?`${lt}`:`${lt}px`,o.rootElement.style.overflow="hidden");if(typeof N.width<"u"){let J=N.width;Mr(J)&&(J=J()),o.rootElement.style.width=isNaN(J)?`${J}`:`${J}px`}T||(o.view&&(o.view._wt.wtViewport.resetHasOversizedColumnHeadersMarked(),o.view._wt.exportSettingsAsClassNames()),o.runHooks("afterUpdateSettings",N)),c.adjustRowsAndCols(),o.view&&!f&&(o.forceFullRender=!0,o.view.render(),o.view._wt.wtOverlays.adjustElementsSize()),!T&&o.view&&(Z===""||lt===""||lt===void 0)&&Z!==lt&&o.view._wt.wtOverlays.updateMainScrollableElements()},this.getValue=function(){let N=o.getSelectedLast();if(b.getValue){if(Mr(b.getValue))return b.getValue.call(o);if(N)return o.getData()[N[0][0]][b.getValue]}else if(N)return o.getDataAtCell(N[0],N[1])},this.getSettings=function(){return b},this.clear=function(){this.selectAll(),this.emptySelectedCells()},this.alter=function(N,T,j,I,q){c.alter(N,T,j,I,q)},this.getCell=function(N,T){let j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,I=T,q=N;if(T>=0){if(this.columnIndexMapper.isHidden(this.toPhysicalColumn(T)))return null;I=this.columnIndexMapper.getRenderableFromVisualIndex(T)}if(N>=0){if(this.rowIndexMapper.isHidden(this.toPhysicalRow(N)))return null;q=this.rowIndexMapper.getRenderableFromVisualIndex(N)}return q===null||I===null||q===void 0||I===void 0?null:o.view.getCellAtCoords(o._createCellCoords(q,I),j)},this.getCoords=function(N){let T=this.view._wt.wtTable.getCoords(N);if(T===null)return null;let{row:j,col:I}=T,q=j,A=I;return j>=0&&(q=this.rowIndexMapper.getVisualFromRenderableIndex(j)),I>=0&&(A=this.columnIndexMapper.getVisualFromRenderableIndex(I)),o._createCellCoords(q,A)},this.colToProp=function(N){return a.colToProp(N)},this.propToCol=function(N){return a.propToCol(N)},this.toVisualRow=N=>this.rowIndexMapper.getVisualFromPhysicalIndex(N),this.toVisualColumn=N=>this.columnIndexMapper.getVisualFromPhysicalIndex(N),this.toPhysicalRow=N=>this.rowIndexMapper.getPhysicalFromVisualIndex(N),this.toPhysicalColumn=N=>this.columnIndexMapper.getPhysicalFromVisualIndex(N),this.getDataAtCell=function(N,T){return a.get(N,a.colToProp(T))},this.getDataAtRowProp=function(N,T){return a.get(N,T)},this.getDataAtCol=function(N){let T=[],j=a.getRange(o._createCellCoords(0,N),o._createCellCoords(b.data.length-1,N),a.DESTINATION_RENDERER);for(let I=0;I<j.length;I+=1)for(let q=0;q<j[I].length;q+=1)T.push(j[I][q]);return T},this.getDataAtProp=function(N){let T=[],j=a.getRange(o._createCellCoords(0,a.propToCol(N)),o._createCellCoords(b.data.length-1,a.propToCol(N)),a.DESTINATION_RENDERER);for(let I=0;I<j.length;I+=1)for(let q=0;q<j[I].length;q+=1)T.push(j[I][q]);return T},this.getSourceData=function(N,T,j,I){let q;return N===void 0?q=l.getData():q=l.getByRange(o._createCellCoords(N,T),o._createCellCoords(j,I)),q},this.getSourceDataArray=function(N,T,j,I){let q;return N===void 0?q=l.getData(!0):q=l.getByRange(o._createCellCoords(N,T),o._createCellCoords(j,I),!0),q},this.getSourceDataAtCol=function(N){return l.getAtColumn(N)},this.setSourceDataAtCell=function(N,T,j,I){let q=C(N,T,j),A=this.hasHook("afterSetSourceDataAtCell"),k=[];A&&Tt(q,Z=>{let[lt,J,et]=Z;k.push([lt,J,l.getAtCell(lt,J),et])}),Tt(q,Z=>{let[lt,J,et]=Z;l.setAtCell(lt,J,et)}),A&&this.runHooks("afterSetSourceDataAtCell",k,I),this.render();let Y=o.getActiveEditor();Y&&Ne(Y.refreshValue)&&Y.refreshValue()},this.getSourceDataAtRow=function(N){return l.getAtRow(N)},this.getSourceDataAtCell=function(N,T){return l.getAtCell(N,T)},this.getDataAtRow=function(N){return a.getRange(o._createCellCoords(N,0),o._createCellCoords(N,this.countCols()-1),a.DESTINATION_RENDERER)[0]||[]},this.getDataType=function(N,T,j,I){let q=N===void 0?[0,0,this.countRows(),this.countCols()]:[N,T,j,I],[A,k]=q,[,,Y,Z]=q,lt=null,J=null;Y===void 0&&(Y=A),Z===void 0&&(Z=k);let et="mixed";return Oe(Math.max(Math.min(A,Y),0),Math.max(A,Y),Et=>{let Rt=!0;return Oe(Math.max(Math.min(k,Z),0),Math.max(k,Z),nt=>(J=this.getCellMeta(Et,nt).type,lt?Rt=lt===J:lt=J,Rt)),et=Rt?J:"mixed",Rt}),et},this.removeCellMeta=function(N,T,j){let[I,q]=[this.toPhysicalRow(N),this.toPhysicalColumn(T)],A=p.getCellMetaKeyValue(I,q,j);o.runHooks("beforeRemoveCellMeta",N,T,j,A)!==!1&&(p.removeCellMeta(I,q,j),o.runHooks("afterRemoveCellMeta",N,T,j,A)),A=null},this.spliceCellsMeta=function(N){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;for(var j=arguments.length,I=new Array(j>2?j-2:0),q=2;q<j;q++)I[q-2]=arguments[q];if(I.length>0&&!Array.isArray(I[0]))throw new Error("The 3rd argument (cellMetaRows) has to be passed as an array of cell meta objects array.");T>0&&p.removeRow(this.toPhysicalRow(N),T),I.length>0&&Tt(I.reverse(),A=>{p.createRow(this.toPhysicalRow(N)),Tt(A,(k,Y)=>this.setCellMetaObject(N,Y,k))}),o.render()},this.setCellMetaObject=function(N,T,j){typeof j=="object"&&bi(j,(I,q)=>{this.setCellMeta(N,T,q,I)})},this.setCellMeta=function(N,T,j,I){if(o.runHooks("beforeSetCellMeta",N,T,j,I)===!1)return;let A=N,k=T;N<this.countRows()&&(A=this.toPhysicalRow(N)),T<this.countCols()&&(k=this.toPhysicalColumn(T)),p.setCellMeta(A,k,j,I),o.runHooks("afterSetCellMeta",N,T,j,I)},this.getCellsMeta=function(){return p.getCellsMeta()},this.getCellMeta=function(N,T){let j=this.toPhysicalRow(N),I=this.toPhysicalColumn(T);return j===null&&(j=N),I===null&&(I=T),p.getCellMeta(j,I,{visualRow:N,visualColumn:T})},this.getCellMetaAtRow=function(N){return p.getCellsMetaAtRow(N)},this.isColumnModificationAllowed=function(){return!(o.dataType==="object"||b.columns)},this.getCellRenderer=function(N,T){let j=typeof N=="number"?o.getCellMeta(N,T).renderer:N.renderer;return typeof j=="string"?i6(j):_r(j)?i6("text"):j},this.getCellEditor=function(N,T){let j=typeof N=="number"?o.getCellMeta(N,T).editor:N.editor;return typeof j=="string"?UN(j):_r(j)?UN("text"):j},this.getCellValidator=function(N,T){let j=typeof N=="number"?o.getCellMeta(N,T).validator:N.validator;return typeof j=="string"?bX(j):j},this.validateCells=function(N){this._validateCells(N)},this.validateRows=function(N,T){if(!Array.isArray(N))throw new Error("validateRows parameter `rows` must be an array");this._validateCells(T,N)},this.validateColumns=function(N,T){if(!Array.isArray(N))throw new Error("validateColumns parameter `columns` must be an array");this._validateCells(T,void 0,N)},this._validateCells=function(N,T,j){let I=new R;N&&(I.onQueueEmpty=N);let q=o.countRows()-1;for(;q>=0;){if(T!==void 0&&T.indexOf(q)===-1){q-=1;continue}let A=o.countCols()-1;for(;A>=0;){if(j!==void 0&&j.indexOf(A)===-1){A-=1;continue}I.addValidatorToQueue(),o.validateCell(o.getDataAtCell(q,A),o.getCellMeta(q,A),k=>{if(typeof k!="boolean")throw new Error("Validation error: result is not boolean");k===!1&&(I.valid=!1),I.removeValidatorFormQueue()},"validateCells"),A-=1}q-=1}I.checkIfQueueIsEmpty()},this.getRowHeader=function(N){let T=b.rowHeaders,j=N;return j!==void 0&&(j=o.runHooks("modifyRowHeader",j)),j===void 0?(T=[],Oe(o.countRows()-1,I=>{T.push(o.getRowHeader(I))})):Array.isArray(T)&&T[j]!==void 0?T=T[j]:Mr(T)?T=T(j):T&&typeof T!="string"&&typeof T!="number"&&(T=j+1),T},this.hasRowHeaders=function(){return!!b.rowHeaders},this.hasColHeaders=function(){if(b.colHeaders!==void 0&&b.colHeaders!==null)return!!b.colHeaders;for(let N=0,T=o.countCols();N<T;N++)if(o.getColHeader(N))return!0;return!1},this.getColHeader=function(N){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,j=o.runHooks("modifyColHeader",N);if(j===void 0){let Y=[],Z=o.countCols();for(let lt=0;lt<Z;lt++)Y.push(o.getColHeader(lt));return Y}let I=b.colHeaders,q=function(Y){let Z=[],lt=o.countCols(),J=0;for(;J<lt;J++)Mr(b.columns)&&b.columns(J)&&Z.push(J);return Z[Y]},A=o.toPhysicalColumn(j),k=q(A);return b.colHeaders===!1?I=null:b.columns&&Mr(b.columns)&&b.columns(k)&&b.columns(k).title?I=b.columns(k).title:b.columns&&b.columns[A]&&b.columns[A].title?I=b.columns[A].title:Array.isArray(b.colHeaders)&&b.colHeaders[A]!==void 0?I=b.colHeaders[A]:Mr(b.colHeaders)?I=b.colHeaders(A):b.colHeaders&&typeof b.colHeaders!="string"&&typeof b.colHeaders!="number"&&(I=vZ(j)),I=o.runHooks("modifyColumnHeaderValue",I,N,T),I},this._getColWidthFromSettings=function(N){let T;if(N>=0&&(T=o.getCellMeta(0,N).width),(T===void 0||T===b.width)&&(T=b.colWidths),T!=null){switch(typeof T){case"object":T=T[N];break;case"function":T=T(N);break;default:break}typeof T=="string"&&(T=parseInt(T,10))}return T},this.getColWidth=function(N){let T=o._getColWidthFromSettings(N);return T=o.runHooks("modifyColWidth",T,N),T===void 0&&(T=Yu.DEFAULT_WIDTH),T},this._getRowHeightFromSettings=function(N){let T=b.rowHeights;if(T!=null){switch(typeof T){case"object":T=T[N];break;case"function":T=T(N);break;default:break}typeof T=="string"&&(T=parseInt(T,10))}return T},this.getRowHeight=function(N){let T=o._getRowHeightFromSettings(N);return T=o.runHooks("modifyRowHeight",T,N),T},this.countSourceRows=function(){return l.countRows()},this.countSourceCols=function(){return l.countFirstRowKeys()},this.countRows=function(){return a.getLength()},this.countCols=function(){let N=b.maxCols,T=this.columnIndexMapper.getNotTrimmedIndexesLength();return Math.min(N,T)},this.countRenderedRows=function(){return o.view._wt.drawn?o.view._wt.wtTable.getRenderedRowsCount():-1},this.countVisibleRows=function(){return o.view._wt.drawn?o.view._wt.wtTable.getVisibleRowsCount():-1},this.countRenderedCols=function(){return o.view._wt.drawn?o.view._wt.wtTable.getRenderedColumnsCount():-1},this.countVisibleCols=function(){return o.view._wt.drawn?o.view._wt.wtTable.getVisibleColumnsCount():-1},this.countRowHeaders=function(){return this.view.getRowHeadersCount()},this.countColHeaders=function(){return this.view.getColumnHeadersCount()},this.countEmptyRows=function(){let N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,T=0;return PC(o.countRows()-1,j=>{if(o.isEmptyRow(j))T+=1;else if(N===!0)return!1}),T},this.countEmptyCols=function(){let N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,T=0;return PC(o.countCols()-1,j=>{if(o.isEmptyCol(j))T+=1;else if(N===!0)return!1}),T},this.isEmptyRow=function(N){return b.isEmptyRow.call(o,N)},this.isEmptyCol=function(N){return b.isEmptyCol.call(o,N)},this.selectCell=function(N,T,j,I){let q=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,A=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;return _r(N)||_r(T)?!1:this.selectCells([[N,T,j,I]],q,A)},this.selectCells=function(){let N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[[]],T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;T===!1&&h.suspend();let I=L.selectCells(N);return I&&j&&o.listen(),h.resume(),I},this.selectColumns=function(N){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:N,j=arguments.length>2?arguments[2]:void 0;return L.selectColumns(N,T,j)},this.selectRows=function(N){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:N,j=arguments.length>2?arguments[2]:void 0;return L.selectRows(N,T,j)},this.deselectCell=function(){L.deselect()},this.selectAll=function(){let N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:N,j=arguments.length>2?arguments[2]:void 0;h.skipNextScrollCycle(),L.selectAll(N,T,j)};let S=(N,T)=>N.getNearestNotHiddenIndex(T,1,!0);this.scrollViewportTo=function(N){var T;if(typeof N=="number"){var j;N={row:arguments[0],col:arguments[1],verticalSnap:arguments[2]?"bottom":"top",horizontalSnap:arguments[3]?"end":"start",considerHiddenIndexes:(j=arguments[4])!==null&&j!==void 0?j:!0}}let{row:I,col:q,verticalSnap:A,horizontalSnap:k,considerHiddenIndexes:Y}=(T=N)!==null&&T!==void 0?T:{},Z,lt,J,et;A!==void 0&&(Z=A==="top",lt=!Z),k!==void 0&&(J=k==="start",et=!J);let Et=I,Rt=q;if(Y===void 0||Y){let Ct=Number.isInteger(I)&&I>=0,tt=Number.isInteger(q)&&q>=0,it=Ct?S(this.rowIndexMapper,I):void 0,ct=tt?S(this.columnIndexMapper,q):void 0;if(it===null||ct===null)return!1;Et=Ct?o.rowIndexMapper.getRenderableFromVisualIndex(it):I,Rt=tt?o.columnIndexMapper.getRenderableFromVisualIndex(ct):q}let nt=Number.isInteger(Et),at=Number.isInteger(Rt);return nt&&Et>=0&&at&&Rt>=0?o.view.scrollViewport(o._createCellCoords(Et,Rt),Z,et,lt,J):nt&&Et>=0&&(at&&Rt<0||!at)?o.view.scrollViewportVertically(Et,Z,lt):at&&Rt>=0&&(nt&&Et<0||!nt)?o.view.scrollViewportHorizontally(Rt,et,J):!1},this.scrollToFocusedCell=function(){let N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:()=>{};if(!this.selection.isSelected())return;this.addHookOnce("afterScroll",N);let{highlight:T}=this.getSelectedRangeLast();this.scrollViewportTo(T.toObject())?this.view.render():(this.removeHook("afterScroll",N),this._registerImmediate(()=>N()))},this.destroy=function(){if(o._clearTimeouts(),o._clearImmediates(),o.view&&o.view.destroy(),l&&l.destroy(),l=null,this.getShortcutManager().destroy(),p.clearCache(),pL.delete(this.guid),Ty(o)){let N=this.rootDocument.querySelector(".hot-display-license-info");N&&N.parentNode.removeChild(N)}Ps(o.rootElement),s.destroy(),d&&d.destroy(),o.batchExecution(()=>{o.rowIndexMapper.unregisterAll(),o.columnIndexMapper.unregisterAll(),E.getItems().forEach(N=>{let[,T]=N;T.destroy()}),E.clear(),o.runHooks("afterDestroy")},!0),Le.getSingleton().destroy(o),bi(o,(N,T,j)=>{Mr(N)?j[T]=M(T):T!=="guid"&&(j[T]=null)}),o.isDestroyed=!0,a&&a.destroy(),a=null,c=null,L=null,d=null,o=null};function M(N){return()=>{throw new Error(`The "${N}" method cannot be called because this Handsontable instance has been destroyed`)}}this.getActiveEditor=function(){return d.getActiveEditor()},this.getPlugin=function(N){let T=na(N);return T==="UndoRedo"?this.undoRedo:E.getItem(T)},this.getPluginName=function(N){return N===this.undoRedo?this.undoRedo.constructor.PLUGIN_KEY:E.getId(N)},this.getInstance=function(){return o},this.addHook=function(N,T,j){Le.getSingleton().add(N,T,o,j)},this.hasHook=function(N){return Le.getSingleton().has(N,o)||Le.getSingleton().has(N)},this.addHookOnce=function(N,T,j){Le.getSingleton().once(N,T,o,j)},this.removeHook=function(N,T){Le.getSingleton().remove(N,T,o)},this.runHooks=function(N,T,j,I,q,A,k){return Le.getSingleton().run(o,N,T,j,I,q,A,k)},this.getTranslatedPhrase=function(N,T){return FA(b.language,N,T)},this.toHTML=()=>XN(this),this.toTableElement=()=>{let N=this.rootDocument.createElement("div");return N.insertAdjacentHTML("afterbegin",XN(this)),N.firstElementChild},this.timeouts=[],this._registerTimeout=function(N){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,j=N;typeof j=="function"&&(j=setTimeout(j,T)),this.timeouts.push(j)},this._clearTimeouts=function(){Tt(this.timeouts,N=>{clearTimeout(N)})},this.immediates=[],this._registerImmediate=function(N){this.immediates.push(setImmediate(N))},this._clearImmediates=function(){Tt(this.immediates,N=>{clearImmediate(N)})},this._getEditorManager=function(){return d},this.isRtl=function(){return o.rootWindow.getComputedStyle(o.rootElement).direction==="rtl"},this.isLtr=function(){return!o.isRtl()},this.getDirectionFactor=function(){return o.isLtr()?1:-1};let U=fL({handleEvent(){return o.isListening()},beforeKeyDown:N=>this.runHooks("beforeKeyDown",N),afterKeyDown:N=>{this.isDestroyed||o.runHooks("afterDocumentKeyDown",N)},ownerWindow:this.rootWindow});this.addHook("beforeOnCellMouseDown",N=>{N.ctrlKey===!1&&N.metaKey===!1&&U.releasePressedKeys()}),this.getShortcutManager=function(){return U},this.getFocusManager=function(){return u},FM().forEach(N=>{let T=HM(N);E.addItem(N,new T(this))}),oJ(o),U.setActiveContextName("grid"),Le.getSingleton().run(o,"construct")}var sde=ot(Gt(),1);function SJ(e,t,r){e.addEventListener(t,r,!1)}function EJ(e,t,r){e.removeEventListener(t,r,!1)}function RJ(e){return e.ownerDocument.defaultView.getComputedStyle(e)}function TJ(e){let t={minHeight:200,maxHeight:300,minWidth:100,maxWidth:300},r=e.body,i=e.createTextNode(""),n=e.createElement("span"),o;function s(){i.textContent=o.value,n.style.position="absolute",n.style.fontSize=RJ(o).fontSize,n.style.fontFamily=RJ(o).fontFamily,n.style.whiteSpace="pre",r.appendChild(n);let d=n.clientWidth+2;r.removeChild(n);let u=o.style;u.height=`${t.minHeight}px`,t.minWidth>d?u.width=`${t.minWidth}px`:d>t.maxWidth?u.width=`${t.maxWidth}px`:u.width=`${d}px`;let h=o.scrollHeight?o.scrollHeight-1:0;t.minHeight>h?u.height=`${t.minHeight}px`:t.maxHeight<h?(u.height=`${t.maxHeight}px`,u.overflowY="visible"):u.height=`${h}px`}function a(){e.defaultView.setTimeout(s,0)}function l(d){if(d&&d.minHeight)if(d.minHeight==="inherit")t.minHeight=o.clientHeight;else{let u=parseInt(d.minHeight,10);isNaN(u)||(t.minHeight=u)}if(d&&d.maxHeight)if(d.maxHeight==="inherit")t.maxHeight=o.clientHeight;else{let u=parseInt(d.maxHeight,10);isNaN(u)||(t.maxHeight=u)}if(d&&d.minWidth)if(d.minWidth==="inherit")t.minWidth=o.clientWidth;else{let u=parseInt(d.minWidth,10);isNaN(u)||(t.minWidth=u)}if(d&&d.maxWidth)if(d.maxWidth==="inherit")t.maxWidth=o.clientWidth;else{let u=parseInt(d.maxWidth,10);isNaN(u)||(t.maxWidth=u)}n.firstChild||(n.className="autoResize",n.style.display="inline-block",n.appendChild(i))}function c(d,u){let h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;o=d,l(u),o.nodeName==="TEXTAREA"&&(o.style.resize="none",o.style.height=`${t.minHeight}px`,o.style.minWidth=`${t.minWidth}px`,o.style.maxWidth=`${t.maxWidth}px`,o.style.overflowY="hidden"),h&&(SJ(o,"input",s),SJ(o,"keydown",a)),s()}return{init:c,resize:s,unObserve(){EJ(o,"input",s),EJ(o,"keydown",a)}}}function gL(e,t){let r=pM(t),i=t.value.split(`
`),n=r,o=0;for(let s=0;s<i.length;s++){let a=i[s];s!==0&&(o+=i[s-1].length+1);let l=o+a.length;if(e==="home"?n=o:e==="end"&&(n=l),r<=l)break}Km(t,n)}function g0(e,t,r){return t=TEt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TEt(e){var t=MEt(e,"string");return typeof t=="symbol"?t:t+""}function MEt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AEt="ht_editor_visible",eI="ht_editor_hidden",MJ="textEditor",bL="text",sa=class extends xl{static get EDITOR_TYPE(){return bL}constructor(t){super(t),g0(this,"eventManager",new Qo(this)),g0(this,"autoResize",TJ(this.hot.rootDocument)),g0(this,"TEXTAREA",void 0),g0(this,"textareaStyle",void 0),g0(this,"TEXTAREA_PARENT",void 0),g0(this,"textareaParentStyle",void 0),g0(this,"layerClass",void 0),this.eventManager=new Qo(this),this.createElements(),this.bindEvents(),this.hot.addHookOnce("afterDestroy",()=>this.destroy())}getValue(){return this.TEXTAREA.value}setValue(t){this.TEXTAREA.value=t}open(){this.refreshDimensions(),this.showEditableElement(),this.hot.getShortcutManager().setActiveContextName("editor"),this.registerShortcuts()}close(){this.autoResize.unObserve(),gK(this.hot.rootDocument.activeElement,this.hot.rootElement)&&this.hot.listen(),this.hideEditableElement(),this.unregisterShortcuts()}prepare(t,r,i,n,o,s){let a=this.state;if(super.prepare(t,r,i,n,o,s),!s.readOnly){this.refreshDimensions(!0);let{allowInvalid:l}=s;l&&!this.isOpened()&&(this.TEXTAREA.value=""),a!==Xn.FINISHED&&!this.isOpened()&&this.hideEditableElement()}}beginEditing(t,r){this.state===Xn.VIRGIN&&(this.TEXTAREA.value="",super.beginEditing(t,r))}focus(){this.TEXTAREA.select(),Km(this.TEXTAREA,this.TEXTAREA.value.length)}createElements(){let{rootDocument:t}=this.hot;this.TEXTAREA=t.createElement("TEXTAREA"),Xe(this.TEXTAREA,[["data-hot-input",""],Oc(-1)]),this.hot.getSettings().ariaTags&&Xe(this.TEXTAREA,[Os()]),ne(this.TEXTAREA,"handsontableInput"),this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,this.textareaStyle.overflowY="visible",this.TEXTAREA_PARENT=t.createElement("DIV"),ne(this.TEXTAREA_PARENT,"handsontableInputHolder"),Ze(this.TEXTAREA_PARENT,this.layerClass)&&pi(this.TEXTAREA_PARENT,this.layerClass),ne(this.TEXTAREA_PARENT,eI),this.textareaParentStyle=this.TEXTAREA_PARENT.style,this.TEXTAREA_PARENT.appendChild(this.TEXTAREA),this.hot.rootElement.appendChild(this.TEXTAREA_PARENT)}hideEditableElement(){KK()&&(this.textareaStyle.textIndent="-99999px"),this.textareaStyle.overflowY="visible",this.textareaParentStyle.opacity="0",this.textareaParentStyle.height="1px",pi(this.TEXTAREA_PARENT,this.layerClass),ne(this.TEXTAREA_PARENT,eI)}showEditableElement(){this.textareaParentStyle.height="",this.textareaParentStyle.overflow="",this.textareaParentStyle.position="",this.textareaParentStyle[this.hot.isRtl()?"left":"right"]="auto",this.textareaParentStyle.opacity="1",this.textareaStyle.textIndent="";let t=this.TEXTAREA_PARENT.childNodes,r=!1;Oe(t.length-1,i=>{let n=t[i];if(Ze(n,"handsontableEditor"))return r=!0,!1}),Ze(this.TEXTAREA_PARENT,eI)&&pi(this.TEXTAREA_PARENT,eI),r?(this.layerClass=AEt,ne(this.TEXTAREA_PARENT,this.layerClass)):(this.layerClass=this.getEditedCellsLayerClass(),ne(this.TEXTAREA_PARENT,this.layerClass))}refreshValue(){let t=this.hot.toPhysicalRow(this.row),r=this.hot.getSourceDataAtCell(t,this.col);this.originalValue=r,this.setValue(r),this.refreshDimensions()}refreshDimensions(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.state!==Xn.EDITING&&!t)return;if(this.TD=this.getEditedCell(),!this.TD){t||this.close();return}let{top:r,start:i,width:n,maxWidth:o,height:s,maxHeight:a}=this.getEditedCellRect();this.textareaParentStyle.top=`${r}px`,this.textareaParentStyle[this.hot.isRtl()?"right":"left"]=`${i}px`,this.showEditableElement();let l=Hc(this.TD,this.hot.rootWindow);this.TEXTAREA.style.fontSize=l.fontSize,this.TEXTAREA.style.fontFamily=l.fontFamily,this.TEXTAREA.style.backgroundColor=this.TD.style.backgroundColor;let c=Hc(this.TEXTAREA),d=parseInt(c.paddingLeft,10)+parseInt(c.paddingRight,10),u=parseInt(c.paddingTop,10)+parseInt(c.paddingBottom,10),h=n-d,f=s-u,m=o-d,g=a-u;this.autoResize.init(this.TEXTAREA,{minWidth:Math.min(h,m),minHeight:Math.min(f,g),maxWidth:m,maxHeight:g},!0)}bindEvents(){EM()&&this.eventManager.addEventListener(this.TEXTAREA,"focusout",()=>this.finishEditing(!1)),this.addHook("afterScrollHorizontally",()=>this.refreshDimensions()),this.addHook("afterScrollVertically",()=>this.refreshDimensions()),this.addHook("afterColumnResize",()=>{this.refreshDimensions(),this.state===Xn.EDITING&&this.focus()}),this.addHook("afterRowResize",()=>{this.refreshDimensions(),this.state===Xn.EDITING&&this.focus()})}allowKeyEventPropagation(){}destroy(){this.eventManager.destroy(),this.clearHooks()}registerShortcuts(){let r=this.hot.getShortcutManager().getContext("editor"),i={runOnlyIf:()=>Ne(this.hot.getSelected()),group:MJ},n=()=>{this.hot.rootDocument.execCommand("insertText",!1,`
`)};r.addShortcuts([{keys:[["Control","Enter"]],callback:()=>(n(),!1),runOnlyIf:o=>!this.hot.selection.isMultiple()&&!o.altKey},{keys:[["Meta","Enter"]],callback:()=>(n(),!1),runOnlyIf:()=>!this.hot.selection.isMultiple()},{keys:[["Alt","Enter"]],callback:()=>(n(),!1)},{keys:[["Home"]],callback:(o,s)=>{let[a]=s;gL(a,this.TEXTAREA)}},{keys:[["End"]],callback:(o,s)=>{let[a]=s;gL(a,this.TEXTAREA)}}],i)}unregisterShortcuts(){this.hot.getShortcutManager().getContext("editor").removeShortcutsByGroup(MJ)}};var yde=ot(we(),1);var vL="base";function eh(e,t,r,i,n,o,s){let a=s.ariaTags,l=[],c=[],d=[],u=[];s.className&&ne(t,s.className),s.readOnly?(l.push(s.readOnlyCellClassName),a&&u.push(TN())):a&&d.push(TN()[0]),s.valid===!1&&s.invalidCellClassName?(l.push(s.invalidCellClassName),a&&u.push(MN())):(c.push(s.invalidCellClassName),a&&d.push(MN()[0])),s.wordWrap===!1&&s.noWordWrapClassName&&l.push(s.noWordWrapClassName),!o&&s.placeholder&&l.push(s.placeholderCellClassName),pi(t,c),ne(t,l),Nc(t,d),Xe(t,u)}eh.RENDERER_TYPE=vL;var yL="text";function zs(e,t,r,i,n,o,s){eh.apply(this,[e,t,r,i,n,o,s]);let a=o;if(!a&&s.placeholder&&(a=s.placeholder),a=on(a),s.trimWhitespace&&(a=a.trim()),s.rendererTemplate){Ps(t);let l=e.rootDocument.createElement("TEMPLATE");l.setAttribute("bind","{{}}"),l.innerHTML=s.rendererTemplate,HTMLTemplateElement.decorate(l),l.model=e.getSourceDataAtRow(r),t.appendChild(l)}else Fc(t,a)}zs.RENDERER_TYPE=yL;var _L="text",$2={CELL_TYPE:_L,editor:sa,renderer:zs};tc($2);jd.editors={BaseEditor:xl};function jd(e,t){let r=new tI(e,t||{},xA);return r.init(),r}jd.Core=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new tI(e,t,xA)};jd.DefaultSettings=V2();jd.hooks=Le.getSingleton();jd.CellCoords=op;jd.CellRange=e0;jd.packageName="handsontable";jd.buildDate="11/06/2024 09:51:42";jd.version="14.4.0";jd.languages={dictionaryKeys:DZ,getLanguageDictionary:q6,getLanguagesDictionaries:PZ,registerLanguageDictionary:Y6,getTranslatedPhrase:FA};var iI=jd;var IEt=["container"],wL=new Map,kJ="The Handsontable instance bound to this component was destroyed and cannot be used properly.",CL=(()=>{class e{getInstance(r){let i=wL.get(r);return i.isDestroyed?(console.warn(kJ),null):i}registerInstance(r,i){return wL.set(r,i)}removeInstance(r){return wL.delete(r)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=_e({token:e,factory:e.\u0275fac})}return e})(),kEt=Object.keys(iI.DefaultSettings),AJ=iI.hooks.getRegistered(),IJ=(()=>{class e{mergeSettings(r){let i="settings"in r&&typeof r.settings=="object",n=i?r.settings:{};return AJ.concat(kEt).forEach(s=>{let a=AJ.indexOf(s)>-1,l;i&&a&&(l=r.settings[s]),r[s]!==void 0&&(l=r[s]),l!==void 0&&("ngZone"in r&&typeof l=="function"&&a?n[s]=function(...c){return r.ngZone.run(()=>l.apply(this,c))}:n[s]=l)}),n}prepareChanges(r){let i={};return Object.keys(r).forEach(o=>{r.hasOwnProperty(o)&&(i[o]=r[o].currentValue)}),i}static \u0275fac=function(i){return new(i||e)};static \u0275prov=_e({token:e,factory:e.\u0275fac})}return e})(),DJ=(()=>{class e{_hotTableRegisterer;_hotSettingsResolver;ngZone;container;__hotInstance=null;columnsComponents=[];settings;hotId="";activeHeaderClassName;allowEmpty;allowHtml;allowInsertColumn;allowInsertRow;allowInvalid;allowRemoveColumn;allowRemoveRow;ariaTags;autoColumnSize;autoRowSize;autoWrapCol;autoWrapRow;bindRowsWithHeaders;cell;cells;checkedTemplate;className;colHeaders;collapsibleColumns;columnHeaderHeight;columns;columnSorting;columnSummary;colWidths;commentedCellClassName;comments;contextMenu;copyable;copyPaste;correctFormat;currentColClassName;currentHeaderClassName;currentRowClassName;customBorders;data;dataDotNotation;dataSchema;dateFormat;datePickerConfig;defaultDate;tabNavigation;disableVisualSelection;dragToScroll;dropdownMenu;editor;enterBeginsEditing;enterMoves;fillHandle;filter;filteringCaseSensitive;filters;fixedColumnsLeft;fixedColumnsStart;fixedRowsBottom;fixedRowsTop;formulas;fragmentSelection;height;hiddenColumns;hiddenRows;invalidCellClassName;imeFastEdit;label;language;layoutDirection;licenseKey;locale;manualColumnFreeze;manualColumnMove;manualColumnResize;manualRowMove;manualRowResize;maxCols;maxRows;mergeCells;minCols;minRows;minSpareCols;minSpareRows;multiColumnSorting;navigableHeaders;nestedHeaders;nestedRows;noWordWrapClassName;numericFormat;observeDOMVisibility;outsideClickDeselects;persistentState;placeholder;placeholderCellClassName;preventOverflow;preventWheel;readOnly;readOnlyCellClassName;renderAllColumns;renderAllRows;renderer;rowHeaders;rowHeaderWidth;rowHeights;search;selectionMode;selectOptions;skipColumnOnPaste;skipRowOnPaste;sortByRelevance;source;startCols;startRows;stretchH;strict;tableClassName;tabMoves;title;trimDropdown;trimRows;trimWhitespace;type;uncheckedTemplate;undo;validator;viewportColumnRenderingOffset;viewportRowRenderingOffset;visibleRows;width;wordWrap;afterAddChild;afterAutofill;afterBeginEditing;afterCellMetaReset;afterChange;afterChangesObserved;afterColumnCollapse;afterColumnExpand;afterColumnFreeze;afterColumnMove;afterColumnResize;afterColumnSequenceChange;afterColumnSort;afterColumnUnfreeze;afterContextMenuDefaultOptions;afterContextMenuHide;afterContextMenuShow;afterCopy;afterCopyLimit;afterCreateCol;afterCreateRow;afterCut;afterDeselect;afterDestroy;afterDetachChild;afterDocumentKeyDown;afterDrawSelection;afterDropdownMenuDefaultOptions;afterDropdownMenuHide;afterDropdownMenuShow;afterFilter;afterFormulasValuesUpdate;afterGetCellMeta;afterGetColHeader;afterGetColumnHeaderRenderers;afterGetRowHeader;afterGetRowHeaderRenderers;afterHideColumns;afterHideRows;afterInit;afterLanguageChange;afterListen;afterLoadData;afterMergeCells;afterModifyTransformEnd;afterModifyTransformFocus;afterModifyTransformStart;afterMomentumScroll;afterNamedExpressionAdded;afterNamedExpressionRemoved;afterOnCellContextMenu;afterOnCellCornerDblClick;afterOnCellCornerMouseDown;afterOnCellMouseDown;afterOnCellMouseOut;afterOnCellMouseOver;afterOnCellMouseUp;afterPaste;afterPluginsInitialized;afterRedo;afterRedoStackChange;afterRefreshDimensions;afterRemoveCellMeta;afterRemoveCol;afterRemoveRow;afterRender;afterRenderer;afterRowMove;afterRowResize;afterRowSequenceChange;afterScrollHorizontally;afterScrollVertically;afterScroll;afterSelectColumns;afterSelection;afterSelectionByProp;afterSelectionEnd;afterSelectionEndByProp;afterSelectionFocusSet;afterSelectRows;afterSetCellMeta;afterSetDataAtCell;afterSetDataAtRowProp;afterSetSourceDataAtCell;afterSheetAdded;afterSheetRenamed;afterSheetRemoved;afterTrimRow;afterUndo;afterUndoStackChange;afterUnhideColumns;afterUnhideRows;afterUnlisten;afterUnmergeCells;afterUntrimRow;afterUpdateData;afterUpdateSettings;afterValidate;afterViewportColumnCalculatorOverride;afterViewportRowCalculatorOverride;afterViewRender;beforeAddChild;beforeAutofill;beforeBeginEditing;beforeCellAlignment;beforeChange;beforeChangeRender;beforeColumnCollapse;beforeColumnExpand;beforeColumnFreeze;beforeColumnMove;beforeColumnResize;beforeColumnSort;beforeColumnWrap;beforeColumnUnfreeze;beforeContextMenuSetItems;beforeContextMenuShow;beforeCopy;beforeCreateCol;beforeCreateRow;beforeCut;beforeDetachChild;beforeDrawBorders;beforeDropdownMenuSetItems;beforeDropdownMenuShow;beforeFilter;beforeGetCellMeta;beforeHideColumns;beforeHideRows;beforeHighlightingColumnHeader;beforeHighlightingRowHeader;beforeInit;beforeInitWalkontable;beforeKeyDown;beforeLanguageChange;beforeLoadData;beforeMergeCells;beforeOnCellContextMenu;beforeOnCellMouseDown;beforeOnCellMouseOut;beforeOnCellMouseOver;beforeOnCellMouseUp;beforePaste;beforeRedo;beforeRedoStackChange;beforeRefreshDimensions;beforeRemoveCellClassNames;beforeRemoveCellMeta;beforeRemoveCol;beforeRemoveRow;beforeRender;beforeRenderer;beforeRowMove;beforeRowResize;beforeRowWrap;beforeSelectColumns;beforeSelectionFocusSet;beforeSelectionHighlightSet;beforeSelectRows;beforeSetCellMeta;beforeSetRangeEnd;beforeSetRangeStart;beforeSetRangeStartOnly;beforeStretchingColumnWidth;beforeTouchScroll;beforeTrimRow;beforeUndo;beforeUndoStackChange;beforeUnhideColumns;beforeUnhideRows;beforeUnmergeCells;beforeUntrimRow;beforeUpdateData;beforeValidate;beforeValueRender;beforeViewportScroll;beforeViewportScrollHorizontally;beforeViewportScrollVertically;beforeViewRender;construct;init;modifyAutoColumnSizeSeed;modifyAutofillRange;modifyColHeader;modifyColumnHeaderHeight;modifyColumnHeaderValue;modifyColWidth;modifyCopyableRange;modifyFiltersMultiSelectValue;modifyFocusedElement;modifyData;modifyFocusOnTabNavigation;modifyGetCellCoords;modifyRowData;modifyRowHeader;modifyRowHeaderWidth;modifyRowHeight;modifySourceData;modifyTransformEnd;modifyTransformFocus;modifyTransformStart;persistentStateLoad;persistentStateReset;persistentStateSave;constructor(r,i,n){this._hotTableRegisterer=r,this._hotSettingsResolver=i,this.ngZone=n}get hotInstance(){return!this.__hotInstance||this.__hotInstance&&!this.__hotInstance.isDestroyed?this.__hotInstance:(this._hotTableRegisterer.removeInstance(this.hotId),console.warn(kJ),null)}set hotInstance(r){this.__hotInstance=r}ngAfterViewInit(){let r=this._hotSettingsResolver.mergeSettings(this);if(this.columnsComponents.length>0){let i=[];this.columnsComponents.forEach(n=>{i.push(this._hotSettingsResolver.mergeSettings(n))}),r.columns=i}this.ngZone.runOutsideAngular(()=>{this.hotInstance=new iI.Core(this.container.nativeElement,r),this.hotId&&this._hotTableRegisterer.registerInstance(this.hotId,this.hotInstance),this.hotInstance.init()})}ngOnChanges(r){if(this.hotInstance===null)return;let i=this._hotSettingsResolver.prepareChanges(r);this.updateHotTable(i)}ngOnDestroy(){this.ngZone.runOutsideAngular(()=>{this.hotInstance&&this.hotInstance.destroy()}),this.hotId&&this._hotTableRegisterer.removeInstance(this.hotId)}updateHotTable(r){this.hotInstance&&this.ngZone.runOutsideAngular(()=>{this.hotInstance.updateSettings(r,!1)})}onAfterColumnsChange(){if(this.columnsComponents!==void 0&&this.columnsComponents.length>0){let r=[];this.columnsComponents.forEach(n=>{r.push(this._hotSettingsResolver.mergeSettings(n))});let i={columns:r};this.updateHotTable(i)}}onAfterColumnsNumberChange(){let r=[];this.columnsComponents.length>0&&this.columnsComponents.forEach(i=>{r.push(this._hotSettingsResolver.mergeSettings(i))}),this.updateHotTable({columns:r})}addColumn(r){this.columnsComponents.push(r),this.onAfterColumnsNumberChange()}removeColumn(r){let i=this.columnsComponents.indexOf(r);this.columnsComponents.splice(i,1),this.onAfterColumnsNumberChange()}static \u0275fac=function(i){return new(i||e)(Pt(CL),Pt(IJ),Pt(ui))};static \u0275cmp=We({type:e,selectors:[["hot-table"]],viewQuery:function(i,n){if(i&1&&or(IEt,5),i&2){let o;Hi(o=Bi())&&(n.container=o.first)}},inputs:{settings:"settings",hotId:"hotId",activeHeaderClassName:"activeHeaderClassName",allowEmpty:"allowEmpty",allowHtml:"allowHtml",allowInsertColumn:"allowInsertColumn",allowInsertRow:"allowInsertRow",allowInvalid:"allowInvalid",allowRemoveColumn:"allowRemoveColumn",allowRemoveRow:"allowRemoveRow",ariaTags:"ariaTags",autoColumnSize:"autoColumnSize",autoRowSize:"autoRowSize",autoWrapCol:"autoWrapCol",autoWrapRow:"autoWrapRow",bindRowsWithHeaders:"bindRowsWithHeaders",cell:"cell",cells:"cells",checkedTemplate:"checkedTemplate",className:"className",colHeaders:"colHeaders",collapsibleColumns:"collapsibleColumns",columnHeaderHeight:"columnHeaderHeight",columns:"columns",columnSorting:"columnSorting",columnSummary:"columnSummary",colWidths:"colWidths",commentedCellClassName:"commentedCellClassName",comments:"comments",contextMenu:"contextMenu",copyable:"copyable",copyPaste:"copyPaste",correctFormat:"correctFormat",currentColClassName:"currentColClassName",currentHeaderClassName:"currentHeaderClassName",currentRowClassName:"currentRowClassName",customBorders:"customBorders",data:"data",dataDotNotation:"dataDotNotation",dataSchema:"dataSchema",dateFormat:"dateFormat",datePickerConfig:"datePickerConfig",defaultDate:"defaultDate",tabNavigation:"tabNavigation",disableVisualSelection:"disableVisualSelection",dragToScroll:"dragToScroll",dropdownMenu:"dropdownMenu",editor:"editor",enterBeginsEditing:"enterBeginsEditing",enterMoves:"enterMoves",fillHandle:"fillHandle",filter:"filter",filteringCaseSensitive:"filteringCaseSensitive",filters:"filters",fixedColumnsLeft:"fixedColumnsLeft",fixedColumnsStart:"fixedColumnsStart",fixedRowsBottom:"fixedRowsBottom",fixedRowsTop:"fixedRowsTop",formulas:"formulas",fragmentSelection:"fragmentSelection",height:"height",hiddenColumns:"hiddenColumns",hiddenRows:"hiddenRows",invalidCellClassName:"invalidCellClassName",imeFastEdit:"imeFastEdit",label:"label",language:"language",layoutDirection:"layoutDirection",licenseKey:"licenseKey",locale:"locale",manualColumnFreeze:"manualColumnFreeze",manualColumnMove:"manualColumnMove",manualColumnResize:"manualColumnResize",manualRowMove:"manualRowMove",manualRowResize:"manualRowResize",maxCols:"maxCols",maxRows:"maxRows",mergeCells:"mergeCells",minCols:"minCols",minRows:"minRows",minSpareCols:"minSpareCols",minSpareRows:"minSpareRows",multiColumnSorting:"multiColumnSorting",navigableHeaders:"navigableHeaders",nestedHeaders:"nestedHeaders",nestedRows:"nestedRows",noWordWrapClassName:"noWordWrapClassName",numericFormat:"numericFormat",observeDOMVisibility:"observeDOMVisibility",outsideClickDeselects:"outsideClickDeselects",persistentState:"persistentState",placeholder:"placeholder",placeholderCellClassName:"placeholderCellClassName",preventOverflow:"preventOverflow",preventWheel:"preventWheel",readOnly:"readOnly",readOnlyCellClassName:"readOnlyCellClassName",renderAllColumns:"renderAllColumns",renderAllRows:"renderAllRows",renderer:"renderer",rowHeaders:"rowHeaders",rowHeaderWidth:"rowHeaderWidth",rowHeights:"rowHeights",search:"search",selectionMode:"selectionMode",selectOptions:"selectOptions",skipColumnOnPaste:"skipColumnOnPaste",skipRowOnPaste:"skipRowOnPaste",sortByRelevance:"sortByRelevance",source:"source",startCols:"startCols",startRows:"startRows",stretchH:"stretchH",strict:"strict",tableClassName:"tableClassName",tabMoves:"tabMoves",title:"title",trimDropdown:"trimDropdown",trimRows:"trimRows",trimWhitespace:"trimWhitespace",type:"type",uncheckedTemplate:"uncheckedTemplate",undo:"undo",validator:"validator",viewportColumnRenderingOffset:"viewportColumnRenderingOffset",viewportRowRenderingOffset:"viewportRowRenderingOffset",visibleRows:"visibleRows",width:"width",wordWrap:"wordWrap",afterAddChild:"afterAddChild",afterAutofill:"afterAutofill",afterBeginEditing:"afterBeginEditing",afterCellMetaReset:"afterCellMetaReset",afterChange:"afterChange",afterChangesObserved:"afterChangesObserved",afterColumnCollapse:"afterColumnCollapse",afterColumnExpand:"afterColumnExpand",afterColumnFreeze:"afterColumnFreeze",afterColumnMove:"afterColumnMove",afterColumnResize:"afterColumnResize",afterColumnSequenceChange:"afterColumnSequenceChange",afterColumnSort:"afterColumnSort",afterColumnUnfreeze:"afterColumnUnfreeze",afterContextMenuDefaultOptions:"afterContextMenuDefaultOptions",afterContextMenuHide:"afterContextMenuHide",afterContextMenuShow:"afterContextMenuShow",afterCopy:"afterCopy",afterCopyLimit:"afterCopyLimit",afterCreateCol:"afterCreateCol",afterCreateRow:"afterCreateRow",afterCut:"afterCut",afterDeselect:"afterDeselect",afterDestroy:"afterDestroy",afterDetachChild:"afterDetachChild",afterDocumentKeyDown:"afterDocumentKeyDown",afterDrawSelection:"afterDrawSelection",afterDropdownMenuDefaultOptions:"afterDropdownMenuDefaultOptions",afterDropdownMenuHide:"afterDropdownMenuHide",afterDropdownMenuShow:"afterDropdownMenuShow",afterFilter:"afterFilter",afterFormulasValuesUpdate:"afterFormulasValuesUpdate",afterGetCellMeta:"afterGetCellMeta",afterGetColHeader:"afterGetColHeader",afterGetColumnHeaderRenderers:"afterGetColumnHeaderRenderers",afterGetRowHeader:"afterGetRowHeader",afterGetRowHeaderRenderers:"afterGetRowHeaderRenderers",afterHideColumns:"afterHideColumns",afterHideRows:"afterHideRows",afterInit:"afterInit",afterLanguageChange:"afterLanguageChange",afterListen:"afterListen",afterLoadData:"afterLoadData",afterMergeCells:"afterMergeCells",afterModifyTransformEnd:"afterModifyTransformEnd",afterModifyTransformFocus:"afterModifyTransformFocus",afterModifyTransformStart:"afterModifyTransformStart",afterMomentumScroll:"afterMomentumScroll",afterNamedExpressionAdded:"afterNamedExpressionAdded",afterNamedExpressionRemoved:"afterNamedExpressionRemoved",afterOnCellContextMenu:"afterOnCellContextMenu",afterOnCellCornerDblClick:"afterOnCellCornerDblClick",afterOnCellCornerMouseDown:"afterOnCellCornerMouseDown",afterOnCellMouseDown:"afterOnCellMouseDown",afterOnCellMouseOut:"afterOnCellMouseOut",afterOnCellMouseOver:"afterOnCellMouseOver",afterOnCellMouseUp:"afterOnCellMouseUp",afterPaste:"afterPaste",afterPluginsInitialized:"afterPluginsInitialized",afterRedo:"afterRedo",afterRedoStackChange:"afterRedoStackChange",afterRefreshDimensions:"afterRefreshDimensions",afterRemoveCellMeta:"afterRemoveCellMeta",afterRemoveCol:"afterRemoveCol",afterRemoveRow:"afterRemoveRow",afterRender:"afterRender",afterRenderer:"afterRenderer",afterRowMove:"afterRowMove",afterRowResize:"afterRowResize",afterRowSequenceChange:"afterRowSequenceChange",afterScrollHorizontally:"afterScrollHorizontally",afterScrollVertically:"afterScrollVertically",afterScroll:"afterScroll",afterSelectColumns:"afterSelectColumns",afterSelection:"afterSelection",afterSelectionByProp:"afterSelectionByProp",afterSelectionEnd:"afterSelectionEnd",afterSelectionEndByProp:"afterSelectionEndByProp",afterSelectionFocusSet:"afterSelectionFocusSet",afterSelectRows:"afterSelectRows",afterSetCellMeta:"afterSetCellMeta",afterSetDataAtCell:"afterSetDataAtCell",afterSetDataAtRowProp:"afterSetDataAtRowProp",afterSetSourceDataAtCell:"afterSetSourceDataAtCell",afterSheetAdded:"afterSheetAdded",afterSheetRenamed:"afterSheetRenamed",afterSheetRemoved:"afterSheetRemoved",afterTrimRow:"afterTrimRow",afterUndo:"afterUndo",afterUndoStackChange:"afterUndoStackChange",afterUnhideColumns:"afterUnhideColumns",afterUnhideRows:"afterUnhideRows",afterUnlisten:"afterUnlisten",afterUnmergeCells:"afterUnmergeCells",afterUntrimRow:"afterUntrimRow",afterUpdateData:"afterUpdateData",afterUpdateSettings:"afterUpdateSettings",afterValidate:"afterValidate",afterViewportColumnCalculatorOverride:"afterViewportColumnCalculatorOverride",afterViewportRowCalculatorOverride:"afterViewportRowCalculatorOverride",afterViewRender:"afterViewRender",beforeAddChild:"beforeAddChild",beforeAutofill:"beforeAutofill",beforeBeginEditing:"beforeBeginEditing",beforeCellAlignment:"beforeCellAlignment",beforeChange:"beforeChange",beforeChangeRender:"beforeChangeRender",beforeColumnCollapse:"beforeColumnCollapse",beforeColumnExpand:"beforeColumnExpand",beforeColumnFreeze:"beforeColumnFreeze",beforeColumnMove:"beforeColumnMove",beforeColumnResize:"beforeColumnResize",beforeColumnSort:"beforeColumnSort",beforeColumnWrap:"beforeColumnWrap",beforeColumnUnfreeze:"beforeColumnUnfreeze",beforeContextMenuSetItems:"beforeContextMenuSetItems",beforeContextMenuShow:"beforeContextMenuShow",beforeCopy:"beforeCopy",beforeCreateCol:"beforeCreateCol",beforeCreateRow:"beforeCreateRow",beforeCut:"beforeCut",beforeDetachChild:"beforeDetachChild",beforeDrawBorders:"beforeDrawBorders",beforeDropdownMenuSetItems:"beforeDropdownMenuSetItems",beforeDropdownMenuShow:"beforeDropdownMenuShow",beforeFilter:"beforeFilter",beforeGetCellMeta:"beforeGetCellMeta",beforeHideColumns:"beforeHideColumns",beforeHideRows:"beforeHideRows",beforeHighlightingColumnHeader:"beforeHighlightingColumnHeader",beforeHighlightingRowHeader:"beforeHighlightingRowHeader",beforeInit:"beforeInit",beforeInitWalkontable:"beforeInitWalkontable",beforeKeyDown:"beforeKeyDown",beforeLanguageChange:"beforeLanguageChange",beforeLoadData:"beforeLoadData",beforeMergeCells:"beforeMergeCells",beforeOnCellContextMenu:"beforeOnCellContextMenu",beforeOnCellMouseDown:"beforeOnCellMouseDown",beforeOnCellMouseOut:"beforeOnCellMouseOut",beforeOnCellMouseOver:"beforeOnCellMouseOver",beforeOnCellMouseUp:"beforeOnCellMouseUp",beforePaste:"beforePaste",beforeRedo:"beforeRedo",beforeRedoStackChange:"beforeRedoStackChange",beforeRefreshDimensions:"beforeRefreshDimensions",beforeRemoveCellClassNames:"beforeRemoveCellClassNames",beforeRemoveCellMeta:"beforeRemoveCellMeta",beforeRemoveCol:"beforeRemoveCol",beforeRemoveRow:"beforeRemoveRow",beforeRender:"beforeRender",beforeRenderer:"beforeRenderer",beforeRowMove:"beforeRowMove",beforeRowResize:"beforeRowResize",beforeRowWrap:"beforeRowWrap",beforeSelectColumns:"beforeSelectColumns",beforeSelectionFocusSet:"beforeSelectionFocusSet",beforeSelectionHighlightSet:"beforeSelectionHighlightSet",beforeSelectRows:"beforeSelectRows",beforeSetCellMeta:"beforeSetCellMeta",beforeSetRangeEnd:"beforeSetRangeEnd",beforeSetRangeStart:"beforeSetRangeStart",beforeSetRangeStartOnly:"beforeSetRangeStartOnly",beforeStretchingColumnWidth:"beforeStretchingColumnWidth",beforeTouchScroll:"beforeTouchScroll",beforeTrimRow:"beforeTrimRow",beforeUndo:"beforeUndo",beforeUndoStackChange:"beforeUndoStackChange",beforeUnhideColumns:"beforeUnhideColumns",beforeUnhideRows:"beforeUnhideRows",beforeUnmergeCells:"beforeUnmergeCells",beforeUntrimRow:"beforeUntrimRow",beforeUpdateData:"beforeUpdateData",beforeValidate:"beforeValidate",beforeValueRender:"beforeValueRender",beforeViewportScroll:"beforeViewportScroll",beforeViewportScrollHorizontally:"beforeViewportScrollHorizontally",beforeViewportScrollVertically:"beforeViewportScrollVertically",beforeViewRender:"beforeViewRender",construct:"construct",init:"init",modifyAutoColumnSizeSeed:"modifyAutoColumnSizeSeed",modifyAutofillRange:"modifyAutofillRange",modifyColHeader:"modifyColHeader",modifyColumnHeaderHeight:"modifyColumnHeaderHeight",modifyColumnHeaderValue:"modifyColumnHeaderValue",modifyColWidth:"modifyColWidth",modifyCopyableRange:"modifyCopyableRange",modifyFiltersMultiSelectValue:"modifyFiltersMultiSelectValue",modifyFocusedElement:"modifyFocusedElement",modifyData:"modifyData",modifyFocusOnTabNavigation:"modifyFocusOnTabNavigation",modifyGetCellCoords:"modifyGetCellCoords",modifyRowData:"modifyRowData",modifyRowHeader:"modifyRowHeader",modifyRowHeaderWidth:"modifyRowHeaderWidth",modifyRowHeight:"modifyRowHeight",modifySourceData:"modifySourceData",modifyTransformEnd:"modifyTransformEnd",modifyTransformFocus:"modifyTransformFocus",modifyTransformStart:"modifyTransformStart",persistentStateLoad:"persistentStateLoad",persistentStateReset:"persistentStateReset",persistentStateSave:"persistentStateSave"},features:[gr([CL,IJ]),er],decls:2,vars:1,consts:[["container",""],[3,"id"]],template:function(i,n){i&1&&He(0,"div",1,0),i&2&&Me("id",n.hotId)},encapsulation:2})}return e})();var rI=(()=>{class e{static version="14.4.0";static forRoot(){return{ngModule:e,providers:[CL]}}static \u0275fac=function(i){return new(i||e)};static \u0275mod=Ue({type:e});static \u0275inj=ze({})}return e})();var eue=ot(Gt(),1),iue=ot(we(),1);var OJ="handsontableEditor",xL="handsontable",yf=class extends sa{static get EDITOR_TYPE(){return xL}open(){super.open(),this.htEditor&&this.htEditor.destroy(),this.htContainer.style.display==="none"&&(this.htContainer.style.display=""),this.htEditor=new this.hot.constructor(this.htContainer,this.htOptions),this.htEditor.init(),this.htEditor.rootElement.style.display="",this.cellProperties.strict?this.htEditor.selectCell(0,0):this.htEditor.deselectCell(),Km(this.TEXTAREA,0,this.TEXTAREA.value.length),this.refreshDimensions()}close(){this.htEditor&&(this.htEditor.rootElement.style.display="none"),this.removeHooksByKey("beforeKeyDown"),super.close()}prepare(t,r,i,n,o,s){super.prepare(t,r,i,n,o,s);let a=this,l={startRows:0,startCols:0,minRows:0,minCols:0,className:"listbox",copyPaste:!1,autoColumnSize:!1,autoRowSize:!1,readOnly:!0,fillHandle:!1,autoWrapCol:!1,autoWrapRow:!1,ariaTags:!1,afterOnCellMouseDown(c,d){let u=this.getSourceData(d.row,d.col);u!==void 0&&a.setValue(u),a.hot.destroyEditor()},preventWheel:!0,layoutDirection:this.hot.isRtl()?"rtl":"ltr"};this.cellProperties.handsontable&&Wr(l,s.handsontable),this.htOptions=l}beginEditing(t,r){let i=this.hot.getSettings().onBeginEditing;i&&i()===!1||super.beginEditing(t,r)}createElements(){super.createElements();let t=this.hot.rootDocument.createElement("DIV");t.className="handsontableEditor",this.TEXTAREA_PARENT.appendChild(t),this.htContainer=t,this.assignHooks()}finishEditing(t,r,i){if(this.htEditor&&this.htEditor.isListening()&&this.hot.listen(),this.htEditor&&this.htEditor.getSelectedLast()){let n=this.htEditor.getValue();n!==void 0&&this.setValue(n)}super.finishEditing(t,r,i)}assignHooks(){this.hot.addHook("afterDestroy",()=>{this.htEditor&&this.htEditor.destroy()})}registerShortcuts(){let r=this.hot.getShortcutManager().getContext("editor");super.registerShortcuts();let i={group:OJ,relativeToGroup:xa,position:"before"},n=(o,s)=>{let a=this.htEditor;if(o!==void 0&&(o<0||a.flipped&&o>a.countRows()-1?a.deselectCell():a.selectCell(o,0),a.getData().length))return s.preventDefault(),Vo(s),this.hot.listen(),this.TEXTAREA.focus(),!1};r.addShortcuts([{keys:[["ArrowUp"]],callback:o=>{let s=this.htEditor,a,l;return!s.getSelectedLast()&&s.flipped?a=s.countRows()-1:s.getSelectedLast()&&(s.flipped?(l=s.getSelectedLast()[0],a=Math.max(0,l-1)):(l=s.getSelectedLast()[0],a=l-1)),n(a,o)},preventDefault:!1},{keys:[["ArrowDown"]],callback:o=>{let s=this.htEditor,a,l;if(!s.getSelectedLast()&&!s.flipped)a=0;else if(s.getSelectedLast()){if(s.flipped)a=s.getSelectedLast()[0]+1;else if(!s.flipped){let c=s.countRows()-1;l=s.getSelectedLast()[0],a=Math.min(c,l+1)}}return n(a,o)},preventDefault:!1}],i)}unregisterShortcuts(){super.unregisterShortcuts(),this.hot.getShortcutManager().getContext("editor").removeShortcutsByGroup(OJ)}};function OEt(e,t,r){PEt(e,t),t.set(e,r)}function PEt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function nI(e,t,r){return t=NEt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NEt(e){var t=LEt(e,"string");return typeof t=="symbol"?t:t+""}function LEt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PJ(e,t){return e.get(FEt(e,t))}function FEt(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var EL="autocomplete",SL=new WeakMap,_f=class extends yf{constructor(){super(...arguments),nI(this,"query",null),nI(this,"strippedChoices",[]),nI(this,"rawChoices",[]),OEt(this,SL,this.hot.guid.slice(0,9)),nI(this,"sortByRelevance",function(t,r,i){let n=[],o=[],s=t.length,a=r.length,l,c,d,u;if(s===0){for(d=0;d<a;d++)o.push(d);return o}for(d=0;d<a;d++){if(c=RN(on(r[d])),i)u=c.indexOf(t);else{let h=this.cellProperties.locale;u=c.toLocaleLowerCase(h).indexOf(t.toLocaleLowerCase(h))}u!==-1&&(l=c.length-u-s,n.push({baseIndex:d,index:u,charsLeft:l,value:c}))}for(n.sort((h,f)=>{if(f.index===-1)return-1;if(h.index===-1)return 1;if(h.index<f.index)return-1;if(f.index<h.index)return 1;if(h.index===f.index){if(h.charsLeft<f.charsLeft)return-1;if(h.charsLeft>f.charsLeft)return 1}return 0}),d=0,a=n.length;d<a;d++)o.push(n[d].baseIndex);return o})}static get EDITOR_TYPE(){return EL}getValue(){let t=this.rawChoices.find(r=>this.stripValueIfNeeded(r)===this.TEXTAREA.value);return Ne(t)?t:this.TEXTAREA.value}createElements(){super.createElements(),ne(this.htContainer,"autocompleteEditor"),ne(this.htContainer,this.hot.rootWindow.navigator.platform.indexOf("Mac")===-1?"":"htMacScroll"),this.hot.getSettings().ariaTags&&Xe(this.TEXTAREA,[rK(),QG(),dM("listbox"),lK()])}prepare(t,r,i,n,o,s){super.prepare(t,r,i,n,o,s),this.hot.getSettings().ariaTags&&Xe(this.TEXTAREA,[oa("false"),cK(`${PJ(SL,this)}-listbox-${t}-${r}`)])}open(){super.open();let t=this.cellProperties.trimDropdown===void 0?!0:this.cellProperties.trimDropdown,r=this.hot.getSettings().ariaTags,i=Array.isArray(this.cellProperties.source)?this.cellProperties.source:null,n=i?.length,{row:o,col:s}=this;this.showEditableElement(),this.focus();let a=Rn();a===0&&dy()&&(a+=15),this.addHook("beforeKeyDown",l=>this.onBeforeKeyDown(l)),this.htEditor.updateSettings({colWidths:t?[wr(this.TEXTAREA)-2]:void 0,width:t?wr(this.TEXTAREA)+a:void 0,autoColumnSize:!0,renderer:(l,c,d,u,h,f,m)=>{zs(l,c,d,u,h,f,m);let{filteringCaseSensitive:g,allowHtml:p,locale:b}=this.cellProperties,_=this.query,E=on(f),O,V;E&&!p&&(O=g===!0?E.indexOf(_):E.toLocaleLowerCase(b).indexOf(_.toLocaleLowerCase(b)),O!==-1&&(V=E.substr(O,_.length),E=E.replace(V,`<strong>${V}</strong>`))),r&&Xe(c,[JG(),...i?[fK(n)]:[],...i?[mK(i.indexOf(f)+1)]:[],["id",`${this.htEditor.rootElement.id}_${d}-${u}`]]),c.innerHTML=E},afterSelectionEnd:(l,c)=>{if(r){let d=this.htEditor.getCell(l,c,!0);Xe(d,[ty()]),Xe(this.TEXTAREA,...dK(d.id))}}}),r&&(Xe(this.htEditor.view._wt.wtOverlays.wtTable.TABLE,...za()),Xe(this.htEditor.rootElement,[cM(),uK("polite"),hK("text"),["id",`${PJ(SL,this)}-listbox-${o}-${s}`]]),Xe(this.TEXTAREA,...oa("true"))),this.hot._registerTimeout(()=>{this.queryChoices(this.TEXTAREA.value)})}close(){this.removeHooksByKey("beforeKeyDown"),super.close(),this.hot.getSettings().ariaTags&&Xe(this.TEXTAREA,[oa("false")])}discardEditor(t){super.discardEditor(t),this.hot.view.render()}queryChoices(t){let r=this.cellProperties.source;this.query=t,typeof r=="function"?r.call(this.cellProperties,t,i=>{this.rawChoices=i,this.updateChoicesList(this.stripValuesIfNeeded(i))}):Array.isArray(r)?(this.rawChoices=r,this.updateChoicesList(this.stripValuesIfNeeded(r))):this.updateChoicesList([])}updateChoicesList(t){let r=pM(this.TEXTAREA),i=CK(this.TEXTAREA),n=this.cellProperties.sortByRelevance,o=this.cellProperties.filter,s=null,a=null,l=t;n&&(s=this.sortByRelevance(this.stripValueIfNeeded(this.getValue()),l,this.cellProperties.filteringCaseSensitive));let c=Array.isArray(s)?s.length:0;if(o===!1)c&&(a=s[0]);else{let d=[];for(let u=0,h=l.length;u<h&&!(n&&c<=u);u++)c?d.push(l[s[u]]):d.push(l[u]);a=0,l=d}this.strippedChoices=l,l.length===0?this.htEditor.rootElement.style.display="none":this.htEditor.rootElement.style.display="",this.htEditor.loadData(Xv([l])),l.length>0&&(this.updateDropdownDimensions(),this.flipDropdownIfNeeded(),this.cellProperties.strict===!0&&this.highlightBestMatchingChoice(a)),this.hot.listen(),Km(this.TEXTAREA,r,r===i?void 0:i)}flipDropdownIfNeeded(){let t=Id(this.hot.view._wt.wtTable.TABLE),r=t===this.hot.rootWindow,i=this.cellProperties.preventOverflow;if(r||!r&&(i||i==="horizontal"))return!1;let n=Kn(this.TEXTAREA),o=Fr(this.TEXTAREA),s=this.getDropdownHeight(),a=t.scrollTop,l=Fr(this.hot.view._wt.wtTable.THEAD),c=Kn(t),d=n.top-c.top-l+a,u=t.scrollHeight-d-l-o,h=s>u&&d>u;return h?this.flipDropdown(s):this.unflipDropdown(),this.limitDropdownIfNeeded(h?d:u,s),h}limitDropdownIfNeeded(t,r){if(r>t){let i=0,n=0,o=0,s=null;do o=this.htEditor.getRowHeight(n)||this.htEditor.view._wt.getSetting("defaultRowHeight"),i+=o,n+=1;while(i<t);s=i-o,this.htEditor.flipped&&(this.htEditor.rootElement.style.top=`${parseInt(this.htEditor.rootElement.style.top,10)+r-s}px`),this.setDropdownHeight(i-o)}}flipDropdown(t){let r=this.htEditor.rootElement.style;r.position="absolute",r.top=`${-t}px`,this.htEditor.flipped=!0}unflipDropdown(){let t=this.htEditor.rootElement.style;t.position="absolute",t.top="",this.htEditor.flipped=void 0}updateDropdownDimensions(){let t=this.htEditor.getColWidth(0)+Rn(this.hot.rootDocument)+2,r=this.cellProperties.trimDropdown;this.htEditor.updateSettings({height:this.getDropdownHeight(),width:r?void 0:t}),this.htEditor.view._wt.wtTable.alignOverlaysWithTrimmingContainer()}setDropdownHeight(t){this.htEditor.updateSettings({height:t})}highlightBestMatchingChoice(t){typeof t=="number"?this.htEditor.selectCell(t,0,void 0,void 0,void 0,!1):this.htEditor.deselectCell()}getDropdownHeight(){let t=this.htEditor.getRowHeight(0)||23,r=this.cellProperties.visibleRows;return this.strippedChoices.length>=r?r*t:this.strippedChoices.length*t+8}stripValueIfNeeded(t){return this.stripValuesIfNeeded([t])[0]}stripValuesIfNeeded(t){let{allowHtml:r}=this.cellProperties,i=xi(t,o=>on(o));return xi(i,o=>r?o:RN(o))}allowKeyEventPropagation(t){let r=this.htEditor.getSelectedRangeLast(),i={row:r?r.from.row:-1},n=!1;return t===Ri.ARROW_DOWN&&i.row>0&&i.row<this.htEditor.countRows()-1&&(n=!0),t===Ri.ARROW_UP&&i.row>-1&&(n=!0),n}onBeforeKeyDown(t){if(XK(t.keyCode)||t.keyCode===Ri.BACKSPACE||t.keyCode===Ri.DELETE||t.keyCode===Ri.INSERT){let r=10;if(t.keyCode===Ri.C&&(t.ctrlKey||t.metaKey))return;this.isOpened()||(r+=10),this.htEditor&&this.hot._registerTimeout(()=>{this.queryChoices(this.TEXTAREA.value)},r)}}};var RL="checkbox",b0=class extends xl{static get EDITOR_TYPE(){return RL}beginEditing(t,r){if(r&&r.type==="mouseup"&&r.target.nodeName==="TD"){let i=this.TD.querySelector('input[type="checkbox"]');Ze(i,"htBadValue")||i.click()}}finishEditing(){}init(){}open(){}close(){}getValue(){}setValue(){}focus(){}};var wue=ot(Gt(),1),vp=ot(ea(),1);var bp=()=>window,Gc=()=>window.document,AL=(e,t)=>window.setTimeout(e,t),rh=function(e,t,r,i){e.addEventListener(t,r,!!i)},wf=function(e,t,r,i){e.removeEventListener(t,r,!!i)},HEt=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},ec=function(e,t){return(" "+e.className+" ").indexOf(" "+t+" ")!==-1},TL=function(e,t){ec(e,t)||(e.className=e.className===""?t:e.className+" "+t)},ML=function(e,t){e.className=HEt((" "+e.className+" ").replace(" "+t+" "," "))},IL=function(e){return/Array/.test(Object.prototype.toString.call(e))},ic=function(e){return/Date/.test(Object.prototype.toString.call(e))&&!isNaN(e.getTime())},BEt=function(e){let t=e.getDay();return t===0||t===6},jEt=function(e){return e%4===0&&e%100!==0||e%400===0},NJ=function(e,t){return[31,jEt(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},oI=function(e){ic(e)&&e.setHours(0,0,0,0)},sI=function(e,t){return e.getTime()===t.getTime()},aI=function(e,t,r){let i,n;for(i in t)n=e[i]!==void 0,n&&typeof t[i]=="object"&&t[i]!==null&&t[i].nodeName===void 0?ic(t[i])?r&&(e[i]=new Date(t[i].getTime())):IL(t[i])?r&&(e[i]=t[i].slice(0)):e[i]=aI({},t[i],r):(r||!n)&&(e[i]=t[i]);return e},LJ=function(e,t,r){let i=Gc().createEvent("HTMLEvents");i.initEvent(t,!0,!1),i=aI(i,r),e.dispatchEvent(i)},FJ=function(e){return e.month<0&&(e.year-=Math.ceil(Math.abs(e.month)/12),e.month+=12),e.month>11&&(e.year+=Math.floor(Math.abs(e.month)/12),e.month-=12),e},ih={field:null,bound:void 0,ariaLabel:"Use the arrow keys to pick a date",position:"bottom left",reposition:!0,format:"YYYY-MM-DD",toString:null,parse:null,defaultDate:null,setDefaultDate:!1,firstDay:0,firstWeekOfYearMinDays:4,formatStrict:!1,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,pickWholeWeek:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,enableSelectionDaysInNextAndPreviousMonths:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,blurFieldOnSelect:!0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null,keyboardInput:!0},HJ=function(e,t,r){for(t+=e.firstDay;t>=7;)t-=7;return r?e.i18n.weekdaysShort[t]:e.i18n.weekdays[t]},VEt=function(e){let t=[],r="false";if(e.isEmpty)if(e.showDaysInNextAndPreviousMonths)t.push("is-outside-current-month"),e.enableSelectionDaysInNextAndPreviousMonths||t.push("is-selection-disabled");else return'<td class="is-empty"></td>';return e.isDisabled&&t.push("is-disabled"),e.isToday&&t.push("is-today"),e.isSelected&&(t.push("is-selected"),r="true"),e.hasEvent&&t.push("has-event"),e.isInRange&&t.push("is-inrange"),e.isStartRange&&t.push("is-startrange"),e.isEndRange&&t.push("is-endrange"),'<td data-day="'+e.day+'" class="'+t.join(" ")+'" aria-selected="'+r+'"><button class="pika-button pika-day" type="button" data-pika-year="'+e.year+'" data-pika-month="'+e.month+'" data-pika-day="'+e.day+'">'+e.day+"</button></td>"},zEt=function(e,t){e.setHours(0,0,0,0);let r=e.getDate(),i=e.getDay(),n=t,o=n-1,s=7,a=function(h){return(h+s-1)%s};e.setDate(r+o-a(i));let l=new Date(e.getFullYear(),0,n),c=24*60*60*1e3,d=(e.getTime()-l.getTime())/c;return 1+Math.round((d-o+a(l.getDay()))/s)},UEt=function(e,t,r,i,n){let o=new Date(i,r,t);return'<td class="pika-week">'+(e.hasMoment?e.moment(o).isoWeek():zEt(o,n))+"</td>"},WEt=function(e,t,r,i){return'<tr class="pika-row'+(r?" pick-whole-week":"")+(i?" is-selected":"")+'">'+(t?e.reverse():e).join("")+"</tr>"},YEt=function(e){return"<tbody>"+e.join("")+"</tbody>"},qEt=function(e){let t,r=[];for(e.showWeekNumber&&r.push("<th></th>"),t=0;t<7;t++)r.push('<th scope="col"><abbr title="'+HJ(e,t)+'">'+HJ(e,t,!0)+"</abbr></th>");return"<thead><tr>"+(e.isRTL?r.reverse():r).join("")+"</tr></thead>"},$Et=function(e,t,r,i,n,o){let s,a,l,c=e._o,d=r===c.minYear,u=r===c.maxYear,h='<div id="'+o+'" class="pika-title" role="heading" aria-live="polite">',f,m,g=!0,p=!0;for(l=[],s=0;s<12;s++)l.push('<option value="'+(r===n?s-t:12+s-t)+'"'+(s===i?' selected="selected"':"")+(d&&s<c.minMonth||u&&s>c.maxMonth?' disabled="disabled"':"")+">"+c.i18n.months[s]+"</option>");for(f='<div class="pika-label">'+c.i18n.months[i]+'<select class="pika-select pika-select-month" tabindex="-1">'+l.join("")+"</select></div>",IL(c.yearRange)?(s=c.yearRange[0],a=c.yearRange[1]+1):(s=r-c.yearRange,a=1+r+c.yearRange),l=[];s<a&&s<=c.maxYear;s++)s>=c.minYear&&l.push('<option value="'+s+'"'+(s===r?' selected="selected"':"")+">"+s+"</option>");return m='<div class="pika-label">'+r+c.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+l.join("")+"</select></div>",c.showMonthAfterYear?h+=m+f:h+=f+m,d&&(i===0||c.minMonth>=i)&&(g=!1),u&&(i===11||c.maxMonth<=i)&&(p=!1),t===0&&(h+='<button class="pika-prev'+(g?"":" is-disabled")+'" type="button">'+c.i18n.previousMonth+"</button>"),t===e._o.numberOfMonths-1&&(h+='<button class="pika-next'+(p?"":" is-disabled")+'" type="button">'+c.i18n.nextMonth+"</button>"),h+="</div>"},GEt=function(e,t,r){return'<table cellpadding="0" cellspacing="0" class="pika-table" role="grid" aria-labelledby="'+r+'">'+qEt(e)+YEt(t)+"</table>"};function lI(e){let t=this,r=t.config(e);t._onMouseDown=function(n){if(!t._v)return;n=n||bp().event;let o=n.target||n.srcElement;if(o)if(ec(o,"is-disabled")||(ec(o,"pika-button")&&!ec(o,"is-empty")&&!ec(o.parentNode,"is-disabled")?(t.setDate(new Date(o.getAttribute("data-pika-year"),o.getAttribute("data-pika-month"),o.getAttribute("data-pika-day"))),r.bound&&AL(function(){t.hide(),r.blurFieldOnSelect&&r.field&&r.field.blur()},100)):ec(o,"pika-prev")?t.prevMonth():ec(o,"pika-next")&&t.nextMonth()),ec(o,"pika-select"))t._c=!0;else if(n.preventDefault)n.preventDefault();else return n.returnValue=!1,!1},t._onChange=function(n){n=n||bp().event;let o=n.target||n.srcElement;o&&(ec(o,"pika-select-month")?t.gotoMonth(o.value):ec(o,"pika-select-year")&&t.gotoYear(o.value))},t._onKeyChange=function(n){if(n=n||bp().event,t.isVisible())switch(n.keyCode){case 13:case 27:r.field&&r.field.blur();break;case 37:t.adjustDate("subtract",1);break;case 38:t.adjustDate("subtract",7);break;case 39:t.adjustDate("add",1);break;case 40:t.adjustDate("add",7);break;case 8:case 46:t.setDate(null);break}},t._parseFieldValue=function(){if(r.parse)return r.parse(r.field.value,r.format);if(this.hasMoment){let n=this.moment(r.field.value,r.format,r.formatStrict);return n&&n.isValid()?n.toDate():null}else return new Date(Date.parse(r.field.value))},t._onInputChange=function(n){let o;n.firedBy!==t&&(o=t._parseFieldValue(),ic(o)&&t.setDate(o),t._v||t.show())},t._onInputFocus=function(){t.show()},t._onInputClick=function(){t.show()},t._onInputBlur=function(){let n=Gc().activeElement;do if(ec(n,"pika-single"))return;while(n=n.parentNode);t._c||(t._b=AL(function(){t.hide()},50)),t._c=!1},t._onClick=function(n){n=n||bp().event;let o=n.target||n.srcElement,s=o;if(o){!hasEventListeners&&ec(o,"pika-select")&&(o.onchange||(o.setAttribute("onchange","return;"),rh(o,"change",t._onChange)));do if(ec(s,"pika-single")||s===r.trigger)return;while(s=s.parentNode);t._v&&o!==r.trigger&&s!==r.trigger&&t.hide()}},t.el=Gc().createElement("div"),t.el.className="pika-single"+(r.isRTL?" is-rtl":"")+(r.theme?" "+r.theme:""),rh(t.el,"mousedown",t._onMouseDown,!0),rh(t.el,"touchend",t._onMouseDown,!0),rh(t.el,"change",t._onChange),r.keyboardInput&&rh(Gc(),"keydown",t._onKeyChange),r.field&&(r.container?r.container.appendChild(t.el):r.bound?Gc().body.appendChild(t.el):r.field.parentNode.insertBefore(t.el,r.field.nextSibling),rh(r.field,"change",t._onInputChange),r.defaultDate||(r.defaultDate=t._parseFieldValue(),r.setDefaultDate=!0));let i=r.defaultDate;ic(i)?r.setDefaultDate?t.setDate(i,!0):t.gotoDate(i):t.gotoDate(new Date),r.bound?(this.hide(),t.el.className+=" is-bound",rh(r.trigger,"click",t._onInputClick),rh(r.trigger,"focus",t._onInputFocus),rh(r.trigger,"blur",t._onInputBlur)):this.show()}lI.prototype={config:function(e){this._o||(this._o=aI({},ih,!0));let t=aI(this._o,e,!0);t.isRTL=!!t.isRTL,t.field=t.field&&t.field.nodeName?t.field:null,t.theme=typeof t.theme=="string"&&t.theme?t.theme:null,t.bound=!!(t.bound!==void 0?t.field&&t.bound:t.field),t.trigger=t.trigger&&t.trigger.nodeName?t.trigger:t.field,t.disableWeekends=!!t.disableWeekends,t.disableDayFn=typeof t.disableDayFn=="function"?t.disableDayFn:null;let r=parseInt(t.numberOfMonths,10)||1;if(t.numberOfMonths=r>4?4:r,ic(t.minDate)||(t.minDate=!1),ic(t.maxDate)||(t.maxDate=!1),t.minDate&&t.maxDate&&t.maxDate<t.minDate&&(t.maxDate=t.minDate=!1),t.minDate&&this.setMinDate(t.minDate),t.maxDate&&this.setMaxDate(t.maxDate),IL(t.yearRange)){let i=new Date().getFullYear()-10;t.yearRange[0]=parseInt(t.yearRange[0],10)||i,t.yearRange[1]=parseInt(t.yearRange[1],10)||i}else t.yearRange=Math.abs(parseInt(t.yearRange,10))||ih.yearRange,t.yearRange>100&&(t.yearRange=100);return t},toString:function(e){return e=e||this._o.format,ic(this._d)?this._o.toString?this._o.toString(this._d,e):this.hasMoment?this.moment(this._d).format(e):this._d.toDateString():""},getMoment:function(){return this.hasMoment?this.moment(this._d):null},setMoment:function(e,t){this.hasMoment&&this.moment.isMoment(e)&&this.setDate(e.toDate(),t)},useMoment:function(e){this.hasMoment=!0,this.moment=e},getDate:function(){return ic(this._d)?new Date(this._d.getTime()):null},setDate:function(e,t){if(!e)return this._d=null,this._o.field&&(this._o.field.value="",LJ(this._o.field,"change",{firedBy:this})),this.draw();if(typeof e=="string"&&(e=new Date(Date.parse(e))),!ic(e))return;let r=this._o.minDate,i=this._o.maxDate;ic(r)&&e<r?e=r:ic(i)&&e>i&&(e=i),this._d=new Date(e.getTime()),oI(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),LJ(this._o.field,"change",{firedBy:this})),!t&&typeof this._o.onSelect=="function"&&this._o.onSelect.call(this,this.getDate())},clear:function(){this.setDate(null)},gotoDate:function(e){let t=!0;if(ic(e)){if(this.calendars){let r=new Date(this.calendars[0].year,this.calendars[0].month,1),i=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),n=e.getTime();i.setMonth(i.getMonth()+1),i.setDate(i.getDate()-1),t=n<r.getTime()||i.getTime()<n}t&&(this.calendars=[{month:e.getMonth(),year:e.getFullYear()}],this._o.mainCalendar==="right"&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustDate:function(e,t){let r=this.getDate()||new Date,i=parseInt(t)*24*60*60*1e3,n;e==="add"?n=new Date(r.valueOf()+i):e==="subtract"&&(n=new Date(r.valueOf()-i)),this.setDate(n)},adjustCalendars:function(){this.calendars[0]=FJ(this.calendars[0]);for(let e=1;e<this._o.numberOfMonths;e++)this.calendars[e]=FJ({month:this.calendars[0].month+e,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(e){isNaN(e)||(this.calendars[0].month=parseInt(e,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(e){isNaN(e)||(this.calendars[0].year=parseInt(e,10),this.adjustCalendars())},setMinDate:function(e){e instanceof Date?(oI(e),this._o.minDate=e,this._o.minYear=e.getFullYear(),this._o.minMonth=e.getMonth()):(this._o.minDate=ih.minDate,this._o.minYear=ih.minYear,this._o.minMonth=ih.minMonth,this._o.startRange=ih.startRange),this.draw()},setMaxDate:function(e){e instanceof Date?(oI(e),this._o.maxDate=e,this._o.maxYear=e.getFullYear(),this._o.maxMonth=e.getMonth()):(this._o.maxDate=ih.maxDate,this._o.maxYear=ih.maxYear,this._o.maxMonth=ih.maxMonth,this._o.endRange=ih.endRange),this.draw()},setStartRange:function(e){this._o.startRange=e},setEndRange:function(e){this._o.endRange=e},draw:function(e){if(!this._v&&!e)return;let t=this._o,r=t.minYear,i=t.maxYear,n=t.minMonth,o=t.maxMonth,s="",a;this._y<=r&&(this._y=r,!isNaN(n)&&this._m<n&&(this._m=n)),this._y>=i&&(this._y=i,!isNaN(o)&&this._m>o&&(this._m=o));for(let l=0;l<t.numberOfMonths;l++)a="pika-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2),s+='<div class="pika-lendar">'+$Et(this,l,this.calendars[l].year,this.calendars[l].month,this.calendars[0].year,a)+this.render(this.calendars[l].year,this.calendars[l].month,a)+"</div>";this.el.innerHTML=s,t.bound&&t.field.type!=="hidden"&&AL(function(){t.trigger.focus()},1),typeof this._o.onDraw=="function"&&this._o.onDraw(this),t.bound&&t.field.setAttribute("aria-label",t.ariaLabel)},adjustPosition:function(){let e,t,r,i,n,o,s,a,l,c,d;this._o.container||(this.el.style.position="absolute",e=this._o.trigger,t=this.el.offsetWidth,r=this.el.offsetHeight,i=bp().innerWidth||Gc().documentElement.clientWidth,n=bp().innerHeight||Gc().documentElement.clientHeight,o=Gc().body.scrollTop||Gc().documentElement.scrollTop,c=!0,d=!0,l=e.getBoundingClientRect(),s=l.left+bp().pageXOffset,a=l.bottom+bp().pageYOffset,(this._o.reposition&&s+t>i||this._o.position.indexOf("right")>-1&&s-t+e.offsetWidth>0)&&(s=s-t+e.offsetWidth,c=!1),(this._o.reposition&&a+r>n+o||this._o.position.indexOf("top")>-1&&a-r-e.offsetHeight>0)&&(a=a-r-e.offsetHeight,d=!1),s<0&&(s=0),a<0&&(a=0),this.el.style.left=s+"px",this.el.style.top=a+"px",TL(this.el,c?"left-aligned":"right-aligned"),TL(this.el,d?"bottom-aligned":"top-aligned"),ML(this.el,c?"right-aligned":"left-aligned"),ML(this.el,d?"top-aligned":"bottom-aligned"))},render:function(e,t,r){let i=this._o,n=new Date,o=NJ(e,t),s=new Date(e,t,1).getDay(),a=[],l=[];oI(n),i.firstDay>0&&(s-=i.firstDay,s<0&&(s+=7));let c=t===0?11:t-1,d=t===11?0:t+1,u=t===0?e-1:e,h=t===11?e+1:e,f=NJ(u,c),m=o+s,g=m;for(;g>7;)g-=7;m+=7-g;let p=!1;for(let b=0,_=0;b<m;b++){let E=new Date(e,t,1+(b-s)),O=ic(this._d)?sI(E,this._d):!1,V=sI(E,n),H=i.events.indexOf(E.toDateString())!==-1,F=b<s||b>=o+s,L=1+(b-s),$=t,W=e,x=i.startRange&&sI(i.startRange,E),R=i.endRange&&sI(i.endRange,E),B=i.startRange&&i.endRange&&i.startRange<E&&E<i.endRange,v=i.minDate&&E<i.minDate||i.maxDate&&E>i.maxDate||i.disableWeekends&&BEt(E)||i.disableDayFn&&i.disableDayFn(E);F&&(b<s?(L=f+L,$=c,W=u):(L=L-o,$=d,W=h));let y={day:L,month:$,year:W,hasEvent:H,isSelected:O,isToday:V,isDisabled:v,isEmpty:F,isStartRange:x,isEndRange:R,isInRange:B,showDaysInNextAndPreviousMonths:i.showDaysInNextAndPreviousMonths,enableSelectionDaysInNextAndPreviousMonths:i.enableSelectionDaysInNextAndPreviousMonths};i.pickWholeWeek&&O&&(p=!0),l.push(VEt(y)),++_===7&&(i.showWeekNumber&&l.unshift(UEt(this,b-s,t,e,i.firstWeekOfYearMinDays)),a.push(WEt(l,i.isRTL,i.pickWholeWeek,p)),l=[],_=0,p=!1)}return GEt(i,a,r)},isVisible:function(){return this._v},show:function(){this.isVisible()||(this._v=!0,this.draw(),ML(this.el,"is-hidden"),this._o.bound&&(rh(Gc(),"click",this._onClick),this.adjustPosition()),typeof this._o.onOpen=="function"&&this._o.onOpen.call(this))},hide:function(){let e=this._v;e!==!1&&(this._o.bound&&wf(Gc(),"click",this._onClick),this._o.container||(this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto"),TL(this.el,"is-hidden"),this._v=!1,e!==void 0&&typeof this._o.onClose=="function"&&this._o.onClose.call(this))},destroy:function(){let e=this._o;this.hide(),wf(this.el,"mousedown",this._onMouseDown,!0),wf(this.el,"touchend",this._onMouseDown,!0),wf(this.el,"change",this._onChange),e.keyboardInput&&wf(Gc(),"keydown",this._onKeyChange),e.field&&(wf(e.field,"change",this._onInputChange),e.bound&&(wf(e.trigger,"click",this._onInputClick),wf(e.trigger,"focus",this._onInputFocus),wf(e.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}};function kL(e,t,r){return t=KEt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KEt(e){var t=XEt(e,"string");return typeof t=="symbol"?t:t+""}function XEt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var G2="date",BJ="dateEditor",v0=class extends sa{constructor(){super(...arguments),kL(this,"defaultDateFormat","DD/MM/YYYY"),kL(this,"parentDestroyed",!1),kL(this,"$datePicker",null)}static get EDITOR_TYPE(){return G2}init(){if(typeof vp.default!="function")throw new Error("You need to include moment.js to your project.");if(typeof lI!="function")throw new Error("You need to include Pikaday to your project.");super.init(),this.hot.addHook("afterDestroy",()=>{this.parentDestroyed=!0,this.destroyElements()})}createElements(){super.createElements(),this.datePicker=this.hot.rootDocument.createElement("DIV"),this.datePickerStyle=this.datePicker.style,this.datePickerStyle.position="absolute",this.datePickerStyle.top=0,this.datePickerStyle.left=0,this.datePickerStyle.zIndex=9999,this.datePicker.setAttribute("dir",this.hot.isRtl()?"rtl":"ltr"),ne(this.datePicker,"htDatepickerHolder"),this.hot.rootDocument.body.appendChild(this.datePicker),this.eventManager.addEventListener(this.datePicker,"mousedown",t=>{Ze(t.target,"pika-day")&&this.hideDatepicker(),t.stopPropagation()})}destroyElements(){let t=this.datePicker.parentNode;this.$datePicker&&this.$datePicker.destroy(),t&&t.removeChild(this.datePicker)}prepare(t,r,i,n,o,s){super.prepare(t,r,i,n,o,s)}open(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,i=this.hot.getShortcutManager().getContext("editor");this.showDatepicker(t),super.open(),i.addShortcuts([{keys:[["ArrowLeft"]],callback:()=>{this.$datePicker.adjustDate("subtract",1)}},{keys:[["ArrowRight"]],callback:()=>{this.$datePicker.adjustDate("add",1)}},{keys:[["ArrowUp"]],callback:()=>{this.$datePicker.adjustDate("subtract",7)}},{keys:[["ArrowDown"]],callback:()=>{this.$datePicker.adjustDate("add",7)}}],{group:BJ})}close(){var t;this._opened=!1,(t=this.$datePicker)!==null&&t!==void 0&&t.destroy&&this.$datePicker.destroy(),this.hot._registerTimeout(()=>{let n=this.hot._getEditorManager();n.closeEditor(),this.hot.view.render(),n.prepareEditor()}),this.hot.getShortcutManager().getContext("editor").removeShortcutsByGroup(BJ),super.close()}finishEditing(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;super.finishEditing(t,r)}showDatepicker(t){let r=this.cellProperties.dateFormat||this.defaultDateFormat,i=this.hot.view.isMouseDown(),n=t?TM(t.keyCode):!1,o;this.datePicker.style.display="block",this.$datePicker=new lI(this.getDatePickerConfig()),typeof this.$datePicker.useMoment=="function"&&this.$datePicker.useMoment(vp.default),this.$datePicker._onInputFocus=function(){},this.originalValue?(o=this.originalValue,(0,vp.default)(o,r,!0).isValid()&&this.$datePicker.setMoment((0,vp.default)(o,r),!0),this.getValue()!==this.originalValue&&this.setValue(this.originalValue),!n&&!i&&this.setValue("")):this.cellProperties.defaultDate?(o=this.cellProperties.defaultDate,(0,vp.default)(o,r,!0).isValid()&&this.$datePicker.setMoment((0,vp.default)(o,r),!0),!n&&!i&&this.setValue("")):this.$datePicker.gotoToday()}hideDatepicker(){this.datePickerStyle.display="none",this.$datePicker.hide()}getDatePickerConfig(){let t=this.TEXTAREA,r={};this.cellProperties&&this.cellProperties.datePickerConfig&&Jg(r,this.cellProperties.datePickerConfig);let i=r.onSelect,n=r.onClose;return r.field=t,r.trigger=t,r.container=this.datePicker,r.bound=!1,r.keyboardInput=!1,r.format=r.format||this.defaultDateFormat,r.reposition=r.reposition||!1,r.isRTL=!1,r.onSelect=o=>{let s=o;isNaN(s.getTime())||(s=(0,vp.default)(s).format(this.cellProperties.dateFormat||this.defaultDateFormat)),this.setValue(s),i&&i()},r.onClose=()=>{this.parentDestroyed||this.finishEditing(!1),n&&n()},r}refreshDimensions(t){var r;if(super.refreshDimensions(t),this.state!==Xn.EDITING)return;if(this.TD=this.getEditedCell(),!this.TD){this.hideDatepicker();return}let{rowIndexMapper:i,columnIndexMapper:n}=this.hot,{wtOverlays:o}=this.hot.view._wt,{wtTable:s}=(r=o.getParentOverlay(this.TD))!==null&&r!==void 0?r:this.hot.view._wt,a=i.getVisualFromRenderableIndex(s.getFirstPartiallyVisibleRow()),l=i.getVisualFromRenderableIndex(s.getLastPartiallyVisibleRow()),c=n.getVisualFromRenderableIndex(s.getFirstPartiallyVisibleColumn()),d=n.getVisualFromRenderableIndex(s.getLastPartiallyVisibleColumn());if(this.row>=a&&this.row<=l&&this.col>=c&&this.col<=d){let u=this.TD.getBoundingClientRect();this.datePickerStyle.top=`${this.hot.rootWindow.pageYOffset+u.top+Fr(this.TD)}px`;let h=this.hot.rootWindow.pageXOffset;this.hot.isRtl()?h+=u.right-wr(this.datePicker):h+=u.left,this.datePickerStyle.left=`${h}px`}else this.hideDatepicker()}};var DL="dropdown",yp=class extends _f{static get EDITOR_TYPE(){return DL}prepare(t,r,i,n,o,s){super.prepare(t,r,i,n,o,s),this.cellProperties.filter=!1,this.cellProperties.strict=!0}};Le.getSingleton().add("beforeValidate",function(e,t,r){let i=this.propToCol(r);if(Number.isInteger(i)){let n=this.getCellMeta(t,i);n.editor===yp&&n.strict===void 0&&(n.filter=!1,n.strict=!0)}});var OL="numeric",y0=class extends sa{static get EDITOR_TYPE(){return OL}};var PL="password",_0=class extends sa{static get EDITOR_TYPE(){return PL}createElements(){super.createElements(),this.TEXTAREA=this.hot.rootDocument.createElement("input"),this.TEXTAREA.setAttribute("type","password"),this.TEXTAREA.setAttribute("data-hot-input",""),this.TEXTAREA.className="handsontableInput",this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,this.hot.getSettings().ariaTags&&Xe(this.TEXTAREA,[Os()]),Ps(this.TEXTAREA_PARENT),this.TEXTAREA_PARENT.appendChild(this.TEXTAREA)}};var NL="ht_editor_visible",jJ="selectEditor",LL="select",w0=class extends xl{static get EDITOR_TYPE(){return LL}init(){this.select=this.hot.rootDocument.createElement("select"),this.select.setAttribute("data-hot-input","true"),this.select.style.display="none",ne(this.select,"htSelectEditor"),this.hot.rootElement.appendChild(this.select),this.registerHooks()}getValue(){return this.select.value}setValue(t){this.select.value=t}open(){this._opened=!0,this.refreshDimensions(),this.select.style.display="",this.hot.getShortcutManager().setActiveContextName("editor"),this.registerShortcuts()}close(){this._opened=!1,this.select.style.display="none",Ze(this.select,NL)&&pi(this.select,NL),this.unregisterShortcuts(),this.clearHooks()}focus(){this.select.focus()}registerHooks(){this.addHook("afterScrollHorizontally",()=>this.refreshDimensions()),this.addHook("afterScrollVertically",()=>this.refreshDimensions()),this.addHook("afterColumnResize",()=>this.refreshDimensions()),this.addHook("afterRowResize",()=>this.refreshDimensions())}prepare(t,r,i,n,o,s){super.prepare(t,r,i,n,o,s);let a=this.cellProperties.selectOptions,l;typeof a=="function"?l=this.prepareOptions(a(this.row,this.col,this.prop)):l=this.prepareOptions(a),Ps(this.select),bi(l,(c,d)=>{let u=this.hot.rootDocument.createElement("OPTION");u.value=d,Lc(u,c),this.select.appendChild(u)})}prepareOptions(t){let r={};if(Array.isArray(t))for(let i=0,n=t.length;i<n;i++)r[t[i]]=t[i];else typeof t=="object"&&(r=t);return r}refreshValue(){let t=this.hot.getSourceDataAtCell(this.row,this.prop);this.originalValue=t,this.setValue(t),this.refreshDimensions()}refreshDimensions(){if(this.state!==Xn.EDITING)return;if(this.TD=this.getEditedCell(),!this.TD){this.close();return}let{top:t,start:r,width:i,height:n}=this.getEditedCellRect(),o=this.select.style;o.height=`${n}px`,o.width=`${i}px`,o.top=`${t}px`,o[this.hot.isRtl()?"right":"left"]=`${r}px`,o.margin="0px",ne(this.select,NL)}registerShortcuts(){let r=this.hot.getShortcutManager().getContext("editor"),i={group:jJ};this.isInFullEditMode()&&r.addShortcuts([{keys:[["ArrowUp"]],callback:()=>{let n=this.select.selectedIndex-1;n>=0&&(this.select[n].selected=!0)}},{keys:[["ArrowDown"]],callback:()=>{let n=this.select.selectedIndex+1;n<=this.select.length-1&&(this.select[n].selected=!0)}}],i)}unregisterShortcuts(){this.hot.getShortcutManager().getContext("editor").removeShortcutsByGroup(jJ)}};var FL="time",C0=class extends sa{static get EDITOR_TYPE(){return FL}prepare(t,r,i,n,o,s){super.prepare(t,r,i,n,o,s),this.TEXTAREA.dir="ltr"}};function VJ(){Ua(xl),Ua(_f),Ua(b0),Ua(v0),Ua(yp),Ua(yf),Ua(y0),Ua(_0),Ua(w0),Ua(sa),Ua(C0)}var HL="html";function Hy(e,t,r,i,n,o,s){eh.apply(this,[e,t,r,i,n,o,s]),Lc(t,o??"",!1)}Hy.RENDERER_TYPE=HL;var BL="autocomplete";function Kc(e,t,r,i,n,o,s){let{rootDocument:a}=e,l=s.allowHtml?Hy:zs,c=a.createElement("DIV"),d=e.getSettings().ariaTags;if(c.className="htAutocompleteArrow",d&&c.setAttribute(...Os()),c.appendChild(a.createTextNode("\u25BC")),l.apply(this,[e,t,r,i,n,o,s]),t.firstChild||t.appendChild(a.createTextNode("\xA0")),t.insertBefore(c,t.firstChild),ne(t,"htAutocomplete"),!e.acArrowListener){let u=new Qo(e);e.acArrowListener=function(h){Ze(h.target,"htAutocompleteArrow")&&e.view._wt.getSetting("onCellDblClick",null,e._createCellCoords(r,i),t)},u.addEventListener(e.rootElement,"mousedown",e.acArrowListener),e.addHookOnce("afterDestroy",()=>{u.destroy()})}}Kc.RENDERER_TYPE=BL;var jL="dropdown";function By(e,t,r,i,n,o,s){Kc.apply(this,[e,t,r,i,n,o,s])}By.RENDERER_TYPE=jL;var Dhe=ot(we(),1);var zJ=new WeakMap,UJ=new WeakMap,ZEt="htBadValue",jy="data-row",Vy="data-col",QEt="checkboxRenderer",cI="checkbox";Le.getSingleton().add("modifyAutoColumnSizeSeed",function(e,t,r){let{label:i,type:n,row:o,column:s,prop:a}=t;if(n===cI){if(i){let{value:l,property:c}=i,d=r;if(l)d=typeof l=="function"?l(o,s,a,r):l;else if(c){let u=this.getDataAtRowProp(o,c);d=u!==null?u:r}e=d}return e}});function zy(e,t,r,i,n,o,s){let{rootDocument:a}=e,l=e.getSettings().ariaTags;eh.apply(this,[e,t,r,i,n,o,s]),JEt(e);let c=tRt(a),d=s.label,u=!1;if(typeof s.checkedTemplate>"u"&&(s.checkedTemplate=!0),typeof s.uncheckedTemplate>"u"&&(s.uncheckedTemplate=!1),Ps(t),o===s.checkedTemplate||on(o).toLocaleLowerCase(s.locale)===on(s.checkedTemplate).toLocaleLowerCase(s.locale)?c.checked=!0:o===s.uncheckedTemplate||on(o).toLocaleLowerCase(s.locale)===on(s.uncheckedTemplate).toLocaleLowerCase(s.locale)?c.checked=!1:sn(o)?ne(c,"noValue"):(c.style.display="none",ne(c,ZEt),u=!0),Xe(c,[[jy,r],[Vy,i]]),l&&Xe(c,[Zv(c.checked?e.getTranslatedPhrase(P2):e.getTranslatedPhrase(N2)),aK(c.checked),tK()]),!u&&d){let g="";if(d.value)g=typeof d.value=="function"?d.value.call(this,r,i,n,o):d.value;else if(d.property){let b=e.getDataAtRowProp(r,d.property);g=b!==null?b:""}let p=eRt(a,g,d.separated!==!0);d.position==="before"?d.separated?(t.appendChild(p),t.appendChild(c)):(p.appendChild(c),c=p):(!d.position||d.position==="after")&&(d.separated?(t.appendChild(c),t.appendChild(p)):(p.insertBefore(c,p.firstChild),c=p))}(!d||d&&!d.separated)&&t.appendChild(c),u&&t.appendChild(a.createTextNode("#bad-value#")),zJ.has(e)||(zJ.set(e,!0),h());function h(){let p=e.getShortcutManager().getContext("grid"),b={group:QEt,relativeToGroup:xa,position:"before"};p.addShortcuts([{keys:[["space"]],callback:()=>(f(),!m()),runOnlyIf:()=>{var _;return(_=e.getSelectedRangeLast())===null||_===void 0?void 0:_.highlight.isCell()}},{keys:[["enter"]],callback:()=>(f(),!m()),runOnlyIf:()=>{let _=e.getSelectedRangeLast();return e.getSettings().enterBeginsEditing&&_?.isSingle()&&_.highlight.isCell()}},{keys:[["delete"],["backspace"]],callback:()=>(f(!0),!m()),runOnlyIf:()=>{var _;return(_=e.getSelectedRangeLast())===null||_===void 0?void 0:_.highlight.isCell()}}],b)}function f(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,p=e.getSelectedRange(),b=[],_=[],E=0;if(p){for(let O=0;O<p.length;O++){let{row:V,col:H}=p[O].getTopStartCorner(),{row:F,col:L}=p[O].getBottomEndCorner();for(let $=V;$<=F;$+=1)for(let W=H;W<=L;W+=1){let x=e.getCellMeta($,W),R={checkedTemplate:x.checkedTemplate,uncheckedTemplate:x.uncheckedTemplate};if(x.type!=="checkbox")return;if(x.readOnly===!0)continue;typeof x.checkedTemplate>"u"&&(x.checkedTemplate=!0),typeof x.uncheckedTemplate>"u"&&(x.uncheckedTemplate=!1);let B=e.getDataAtCell($,W);g===!1?[x.checkedTemplate,x.checkedTemplate.toString()].includes(B)?_.push([$,W,x.uncheckedTemplate,R]):[x.uncheckedTemplate,x.uncheckedTemplate.toString(),null,void 0].includes(B)&&_.push([$,W,x.checkedTemplate,R]):_.push([$,W,x.uncheckedTemplate,R]),E+=1}b.push(E),E=0}_.every(O=>{let[,,V]=O;return V===_[0][2]})?_=_.map(O=>{let[V,H,F]=O;return[V,H,F]}):_=_.map(O=>{let[V,H,,F]=O;return[V,H,F.checkedTemplate]}),_.length>0&&b.forEach(O=>{let V=_.splice(0,O);e.setDataAtCell(V)})}}function m(){let g=e.getSelectedRange();if(g){for(let p=0;p<g.length;p++){let b=g[p].getTopStartCorner(),_=g[p].getBottomEndCorner();for(let E=b.row;E<=_.row;E++)for(let O=b.col;O<=_.col;O++){let V=e.getCellMeta(E,O);if(V.type!=="checkbox")return!1;let H=e.getCell(E,O);if(H==null)return!0;if(H.querySelectorAll("input[type=checkbox]").length>0&&!V.readOnly)return!0}}return!1}}}zy.RENDERER_TYPE=cI;function JEt(e){let t=UJ.get(e);if(!t){let{rootElement:r}=e;t=new Qo(e),t.addEventListener(r,"click",i=>rRt(i,e)),t.addEventListener(r,"mouseup",i=>iRt(i,e)),t.addEventListener(r,"change",i=>nRt(i,e)),UJ.set(e,t)}return t}function tRt(e){let t=e.createElement("input");return t.className="htCheckboxRendererInput",t.type="checkbox",t.setAttribute("tabindex","-1"),t.cloneNode(!1)}function eRt(e,t,r){let i=e.createElement("label");return i.className=`htCheckboxRendererLabel ${r?"fullWidth":""}`,i.appendChild(e.createTextNode(t)),i.cloneNode(!0)}function iRt(e,t){let{target:r}=e;VL(r)&&(!r.hasAttribute(jy)||!r.hasAttribute(Vy)||setTimeout(t.listen,10))}function rRt(e,t){let{target:r}=e;if(!VL(r)||!r.hasAttribute(jy)||!r.hasAttribute(Vy))return;let i=parseInt(r.getAttribute(jy),10),n=parseInt(r.getAttribute(Vy),10);t.getCellMeta(i,n).readOnly&&e.preventDefault()}function nRt(e,t){let{target:r}=e;if(!VL(r)||!r.hasAttribute(jy)||!r.hasAttribute(Vy))return;let i=parseInt(r.getAttribute(jy),10),n=parseInt(r.getAttribute(Vy),10),o=t.getCellMeta(i,n);if(!o.readOnly){let s=null;e.target.checked?s=o.uncheckedTemplate===void 0?!0:o.checkedTemplate:s=o.uncheckedTemplate===void 0?!1:o.uncheckedTemplate,t.setDataAtCell(i,n,s)}}function VL(e){return e.tagName==="INPUT"&&e.getAttribute("type")==="checkbox"}var zL="handsontable";function Uy(e,t,r,i,n,o,s){Kc.apply(this,[e,t,r,i,n,o,s])}Uy.RENDERER_TYPE=zL;var Khe=ot(we(),1),_p=ot(YJ(),1);var WL="numeric";function dI(e,t){if(Jo(e)){let r=t.numericFormat,i=r&&r.culture||"-",n=r&&r.pattern;if(typeof i<"u"&&!_p.default.languages()[i]){let o=i.replace("-",""),s=_p.default.allLanguages?_p.default.allLanguages[i]:_p.default[o];s&&_p.default.registerLanguage(s)}_p.default.setLanguage(i),e=(0,_p.default)(e).format(n||"0")}return e}function Wy(e,t,r,i,n,o,s){let a=o;if(Jo(a)){let l=s.className||"",c=l.length?l.split(" "):[];a=dI(a,s),c.indexOf("htLeft")<0&&c.indexOf("htCenter")<0&&c.indexOf("htRight")<0&&c.indexOf("htJustify")<0&&c.push("htRight"),c.indexOf("htNumeric")<0&&c.push("htNumeric"),s.className=c.join(" "),t.dir="ltr"}zs(e,t,r,i,n,a,s)}Wy.RENDERER_TYPE=WL;var YL="password";function Yy(e,t,r,i,n,o,s){zs.apply(this,[e,t,r,i,n,o,s]);let a=s.hashLength||t.innerHTML.length,l=s.hashSymbol||"*",c="";Oe(a-1,()=>{c+=l}),Lc(t,c)}Yy.RENDERER_TYPE=YL;var qL="select";function qy(e,t,r,i,n,o,s){zs.apply(this,[e,t,r,i,n,o,s])}qy.RENDERER_TYPE=qL;var $L="time";function $y(e,t,r,i,n,o,s){zs.apply(this,[e,t,r,i,n,o,s]),t.dir="ltr"}$y.RENDERER_TYPE=$L;function qJ(){bl(Kc),bl(eh),bl(zy),bl(By),bl(Uy),bl(Hy),bl(Wy),bl(Yy),bl(qy),bl(zs),bl($y)}var GL="autocomplete";function wp(e,t){let r=e;if(r==null&&(r=""),this.allowEmpty&&r===""){t(!0);return}this.strict&&this.source?typeof this.source=="function"?this.source(r,$J(r,t)):$J(r,t)(this.source):t(!0)}wp.VALIDATOR_TYPE=GL;function $J(e,t){let r=e;return function(i){let n=!1;for(let o=0,s=i.length;o<s;o++)if(r===i[o]){n=!0;break}t(n)}}var K2=ot(ea(),1);function GJ(e){let t=new Date(e);return isNaN(new Date(`${e}T00:00`).getDate())?t:new Date(t.getTime()+t.getTimezoneOffset()*6e4)}var KL="date";function Gy(e,t){let r=IM(G2,this.instance),i=e,n=!0;i==null&&(i="");let o=(0,K2.default)(i,this.dateFormat||r.defaultDateFormat,!0).isValid(),s=(0,K2.default)(new Date(i)).isValid()||o;if(this.allowEmpty&&i===""&&(s=!0,o=!0),s||(n=!1),!s&&o&&(n=!0),s&&!o)if(this.correctFormat===!0){let a=KJ(i,this.dateFormat);this.instance.setDataAtCell(this.visualRow,this.visualCol,a,"dateValidator"),n=!0}else n=!1;t(n)}Gy.VALIDATOR_TYPE=KL;function KJ(e,t){let r=(0,K2.default)(GJ(e)),i=(0,K2.default)(e,t),n=e.search(/[A-z]/g)>-1,o;return r.isValid()&&r.format("x")===i.format("x")||!i.isValid()||n?o=r:o=i,o.format(t)}var XL="dropdown";function Ky(e,t){wp.apply(this,[e,t])}Ky.VALIDATOR_TYPE=XL;var ZL="numeric";function Xy(e,t){let r=e;r==null&&(r=""),this.allowEmpty&&r===""?t(!0):t(r===""?!1:Jo(e))}Xy.VALIDATOR_TYPE=ZL;var X2=ot(ea(),1),oRt=["YYYY-MM-DDTHH:mm:ss.SSSZ","X","x"],QL="time";function Zy(e,t){let r=this.timeFormat||"h:mm:ss a",i=!0,n=e;n===null&&(n=""),n=/^\d{3,}$/.test(n)?parseInt(n,10):n;let o=/^\d{1,2}$/.test(n);o&&(n+=":00");let s=(0,X2.default)(n,oRt,!0).isValid()?(0,X2.default)(n):(0,X2.default)(n,r),a=s.isValid(),l=(0,X2.default)(n,r,!0).isValid()&&!o;if(this.allowEmpty&&n===""&&(a=!0,l=!0),a||(i=!1),!a&&l&&(i=!0),a&&!l)if(this.correctFormat===!0){let c=s.format(r);this.instance.setDataAtCell(this.visualRow,this.visualCol,c,"timeValidator"),i=!0}else i=!1;t(i)}Zy.VALIDATOR_TYPE=QL;function XJ(){ep(wp),ep(Ky),ep(Gy),ep(Xy),ep(Zy)}var JL="autocomplete",t8={CELL_TYPE:JL,editor:_f,renderer:Kc,validator:wp};var e8="checkbox",i8={CELL_TYPE:e8,editor:b0,renderer:zy};var ZJ="date";function uI(e,t,r,i,n,o,s){Kc.apply(this,[e,t,r,i,n,o,s])}uI.RENDERER_TYPE=ZJ;var r8="date",n8={CELL_TYPE:r8,editor:v0,renderer:uI,validator:Gy};var o8="dropdown",s8={CELL_TYPE:o8,editor:yp,renderer:By,validator:Ky};var a8="handsontable",l8={CELL_TYPE:a8,editor:yf,renderer:Uy};var c8="numeric",d8={CELL_TYPE:c8,editor:y0,renderer:Wy,validator:Xy,dataType:"number"};var u8="password",h8={CELL_TYPE:u8,editor:_0,renderer:Yy,copyable:!1};var f8="select",m8={CELL_TYPE:f8,editor:w0,renderer:qy};var p8="time",g8={CELL_TYPE:p8,editor:C0,renderer:$y,validator:Zy};function QJ(){tc(t8),tc(i8),tc(n8),tc(s8),tc(l8),tc(d8),tc(h8),tc(m8),tc($2),tc(g8)}var Hpe=ot(Gt(),1),Bpe=ot(we(),1),jpe=ot(yn(),1),Vpe=ot(_n(),1),zpe=ot(wn(),1),Upe=ot(Cn(),1),Wpe=ot(xn(),1),Ype=ot(Sn(),1),qpe=ot(En(),1);var mpe=ot(Gt(),1),ppe=ot(we(),1);function sRt(e,t){ett(e,t),t.add(e)}function aRt(e,t,r){ett(e,t),t.set(e,r)}function ett(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Qy(e,t,r){return t=lRt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lRt(e){var t=cRt(e,"string");return typeof t=="symbol"?t:t+""}function cRt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jy(e,t){return e.get(itt(e,t))}function itt(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var JJ=new Map([["plugin",gX],["cell-type",aL],["editor",zN],["renderer",e6],["validator",r6]]),rtt="base",b8=[],nh=null,x0=new WeakMap,ttt=new WeakSet,vi=class{static get PLUGIN_KEY(){return rtt}static get SETTING_KEYS(){return[this.PLUGIN_KEY]}constructor(t){sRt(this,ttt),Qy(this,"eventManager",new Qo(this)),Qy(this,"pluginName",null),Qy(this,"pluginsInitializedCallbacks",[]),Qy(this,"isPluginsReady",!1),Qy(this,"enabled",!1),Qy(this,"initialized",!1),aRt(this,x0,{}),Ns(this,"hot",t,{writable:!1}),nh=null,this.hot.addHook("afterPluginsInitialized",()=>this.onAfterPluginsInitialized()),this.hot.addHook("afterUpdateSettings",r=>this.onUpdateSettings(r)),this.hot.addHook("beforeInit",()=>this.init())}init(){this.pluginName=this.hot.getPluginName(this);let t=this.constructor.PLUGIN_DEPS,r=Array.isArray(t)?t:[];if(r.length>0){let n=[];if(r.forEach(o=>{let[s,a]=o.split(":");if(!JJ.has(s))throw new Error(`Unknown plugin dependency type "${s}" was found.`);JJ.get(s)(a)||n.push(` - ${a} (${s})`)}),n.length>0){let o=[`The ${this.pluginName} plugin requires the following modules:
`,`${n.join(`
`)}
`].join("");b8.push(o)}}if(nh||(nh=FM()),nh.indexOf("UndoRedo")>=0&&nh.splice(nh.indexOf("UndoRedo"),1),nh.indexOf(this.pluginName)>=0&&nh.splice(nh.indexOf(this.pluginName),1),this.hot.addHookOnce("afterPluginsInitialized",()=>{this.isEnabled&&this.isEnabled()&&this.enablePlugin()}),nh.length===0){if(b8.length>0){let n=[`${b8.join(`
`)}
`,"You have to import and register them manually."].join("");throw new Error(n)}this.hot.runHooks("afterPluginsInitialized")}this.initialized=!0}enablePlugin(){this.enabled=!0}disablePlugin(){var t;(t=this.eventManager)===null||t===void 0||t.clear(),this.clearHooks(),this.enabled=!1}addHook(t,r,i){Jy(x0,this)[t]=Jy(x0,this)[t]||[];let n=Jy(x0,this)[t];this.hot.addHook(t,r,i),n.push(r),Jy(x0,this)[t]=n}removeHooks(t){Tt(Jy(x0,this)[t]||[],r=>{this.hot.removeHook(t,r)})}clearHooks(){let t=Jy(x0,this);bi(t,(r,i)=>this.removeHooks(i)),t.length=0}callOnPluginsReady(t){this.isPluginsReady?t():this.pluginsInitializedCallbacks.push(t)}onAfterPluginsInitialized(){Tt(this.pluginsInitializedCallbacks,t=>t()),this.pluginsInitializedCallbacks.length=0,this.isPluginsReady=!0}onUpdateSettings(t){let r=itt(ttt,this,dRt).call(this,t);this.isEnabled&&(this.enabled&&!this.isEnabled()&&this.disablePlugin(),!this.enabled&&this.isEnabled()&&this.enablePlugin(),this.enabled&&this.isEnabled()&&r&&this.updatePlugin(t))}updatePlugin(){}destroy(){var t;(t=this.eventManager)===null||t===void 0||t.destroy(),this.clearHooks(),bi(this,(r,i)=>{i!=="hot"&&(this[i]=null)}),delete this.t,delete this.hot}};function dRt(e){if(!e)return!1;let t=this.constructor.SETTING_KEYS;if(typeof t=="boolean")return t;for(let r=0;r<t.length;r++)if(e[t[r]]!==void 0)return!0;return!1}var Tpe=ot(Gt(),1),Mpe=ot(we(),1);function S0(e,t,r){return t=uRt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uRt(e){var t=hRt(e,"string");return typeof t=="symbol"?t:t+""}function hRt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var v8=class{constructor(t){S0(this,"hot",null),S0(this,"container",null),S0(this,"injected",!1),S0(this,"rows",[]),S0(this,"columns",[]),S0(this,"samples",null),S0(this,"settings",{useHeaders:!0}),this.hot=t}addRow(t,r){if(this.columns.length)throw new Error("Doesn't support multi-dimensional table");this.rows.length||(this.container=this.createContainer(this.hot.rootElement.className));let i={row:t};this.rows.push(i),this.samples=r,this.table=this.createTable(this.hot.table.className),this.table.colGroup.appendChild(this.createColGroupsCol(t)),this.table.tr.appendChild(this.createRow(t)),this.container.container.appendChild(this.table.fragment),i.table=this.table.table}addColumnHeadersRow(t){let r=this.hot.getColHeader(0);if(r!=null){let i={row:-1};this.rows.push(i),this.container=this.createContainer(this.hot.rootElement.className),this.samples=t,this.table=this.createTable(this.hot.table.className),this.table.colGroup.appendChild(this.createColGroupsCol()),this.appendColumnHeadersRow(),this.container.container.appendChild(this.table.fragment),i.table=this.table.table}}addColumn(t,r){if(this.rows.length)throw new Error("Doesn't support multi-dimensional table");this.columns.length||(this.container=this.createContainer(this.hot.rootElement.className));let i={col:t};this.columns.push(i),this.samples=r,this.table=this.createTable(this.hot.table.className),this.getSetting("useHeaders")&&this.hot.getColHeader(t)!==null&&this.hot.view.appendColHeader(t,this.table.th),this.table.tBody.appendChild(this.createCol(t)),this.container.container.appendChild(this.table.fragment),i.table=this.table.table}getHeights(t){this.injected||this.injectTable(),Tt(this.rows,r=>{t(r.row,Fr(r.table)-1)})}getWidths(t){this.injected||this.injectTable(),Tt(this.columns,r=>{let{width:i}=r.table.getBoundingClientRect();t(r.col,Math.ceil(i))})}setSettings(t){this.settings=t}setSetting(t,r){this.settings||(this.settings={}),this.settings[t]=r}getSettings(){return this.settings}getSetting(t){return this.settings?this.settings[t]:null}createColGroupsCol(t){let r=this.hot.rootDocument.createDocumentFragment();return this.hot.hasRowHeaders()&&r.appendChild(this.createColElement(-1,-1)),this.samples.forEach(i=>{Tt(i.strings,n=>{r.appendChild(this.createColElement(n.col,t))})}),r}createRow(t){let{rootDocument:r}=this.hot,i=r.createDocumentFragment(),n=r.createElement("th");return this.hot.hasRowHeaders()&&(this.hot.view.appendRowHeader(t,n),i.appendChild(n)),this.samples.forEach(o=>{Tt(o.strings,s=>{let a=s.col,l=this.hot.getCellMeta(t,a),c=this.hot.getCellRenderer(l),d=r.createElement("td");d.setAttribute("ghost-table",1),c(this.hot,d,t,a,this.hot.colToProp(a),s.value,l),i.appendChild(d)})}),i}appendColumnHeadersRow(){let{rootDocument:t}=this.hot,r=t.createDocumentFragment(),i=[];if(this.hot.hasRowHeaders()){let n=t.createElement("th");i.push([-1,n]),r.appendChild(n)}this.samples.forEach(n=>{Tt(n.strings,o=>{let s=o.col,a=t.createElement("th");i.push([s,a]),r.appendChild(a)})}),this.table.tHead.appendChild(r),Tt(i,n=>{let[o,s]=n;this.hot.view.appendColHeader(o,s)})}createCol(t){let{rootDocument:r}=this.hot,i=r.createDocumentFragment();return this.samples.forEach(n=>{Tt(n.strings,o=>{let s=o.row,a=this.hot.getCellMeta(s,t),l=this.hot.getCellRenderer(a),c=r.createElement("td"),d=r.createElement("tr");c.setAttribute("ghost-table",1),l(this.hot,c,s,t,this.hot.colToProp(t),o.value,a),d.appendChild(c),i.appendChild(d)})}),i}clean(){this.rows.length=0,this.rows[-1]=void 0,this.columns.length=0,this.samples&&this.samples.clear(),this.samples=null,this.removeTable()}injectTable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this.injected||((t||this.hot.rootElement).appendChild(this.container.fragment),this.injected=!0)}removeTable(){this.injected&&this.container.container.parentNode&&(this.container.container.parentNode.removeChild(this.container.container),this.container=null,this.injected=!1)}createColElement(t,r){let i=this.hot.rootDocument.createElement("col"),n=0;r>=0&&t>=0&&(n=this.hot.getCellMeta(r,t).colspan);let o=this.hot.getColWidth(t);if(n>1)for(let s=t+1;s<t+n;s++)o+=this.hot.getColWidth(s);return i.style.width=`${o}px`,i}createTable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",{rootDocument:r}=this.hot,i=r.createDocumentFragment(),n=r.createElement("table"),o=r.createElement("thead"),s=r.createElement("tbody"),a=r.createElement("colgroup"),l=r.createElement("tr"),c=r.createElement("th");return this.isVertical()&&n.appendChild(a),this.isHorizontal()&&(l.appendChild(c),o.appendChild(l),n.style.tableLayout="auto",n.style.width="auto"),n.appendChild(o),this.isVertical()&&s.appendChild(l),n.appendChild(s),ne(n,t),i.appendChild(n),{fragment:i,table:n,tHead:o,tBody:s,colGroup:a,tr:l,th:c}}createContainer(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",{rootDocument:r}=this.hot,i=r.createDocumentFragment(),n=r.createElement("div"),o=`htGhostTable htAutoSize ${t.trim()}`;return ne(n,o),i.appendChild(n),{fragment:i,container:n}}isVertical(){return!!(this.rows.length&&!this.columns.length)}isHorizontal(){return!!(this.columns.length&&!this.rows.length)}},hI=v8;var Dpe=ot(Gt(),1),Ope=ot(we(),1);function fI(e,t,r){return t=fRt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fRt(e){var t=mRt(e,"string");return typeof t=="symbol"?t:t+""}function mRt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var y8=class e{static get SAMPLE_COUNT(){return 3}constructor(t){fI(this,"samples",null),fI(this,"dataFactory",null),fI(this,"customSampleCount",null),fI(this,"allowDuplicates",!1),this.dataFactory=t}getSampleCount(){return this.customSampleCount?this.customSampleCount:e.SAMPLE_COUNT}setSampleCount(t){this.customSampleCount=t}setAllowDuplicates(t){this.allowDuplicates=t}generateRowSamples(t,r){return this.generateSamples("row",r,t)}generateColumnSamples(t,r){return this.generateSamples("col",r,t)}generateSamples(t,r,i){let n=new Map,{from:o,to:s}=typeof i=="number"?{from:i,to:i}:i;return Oe(o,s,a=>{let l=this.generateSample(t,r,a);n.set(a,l)}),n}generateSample(t,r,i){if(t!=="row"&&t!=="col")throw new Error("Unsupported sample type");let n=new Map,o=t==="row"?"col":"row",s=[];return Oe(r.from,r.to,a=>{let l=t==="row"?this.dataFactory(i,a):this.dataFactory(a,i);if(l===!1)return;let{value:c,bundleSeed:d}=l,u=typeof d=="string"&&d.length>0,h;u?h=d:gi(c)?h=`${Object.keys(c).length}`:Array.isArray(c)?h=`${c.length}`:h=`${on(c).length}`,n.has(h)||n.set(h,{needed:this.getSampleCount(),strings:[]});let f=n.get(h);f.needed&&(!(s.indexOf(c)>-1)||this.allowDuplicates||u)&&(f.strings.push({value:c,[o]:a}),s.push(c),f.needed-=1)}),n}},mI=y8;function pRt(e,t){ott(e,t),t.add(e)}function gRt(e,t,r){ott(e,t),t.set(e,r)}function ott(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function t_(e,t,r){return t=bRt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bRt(e){var t=vRt(e,"string");return typeof t=="symbol"?t:t+""}function vRt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yRt(e,t,r){return e.set(Cf(e,t),r),r}function pI(e,t){return e.get(Cf(e,t))}function Cf(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}Le.getSingleton().register("modifyAutoColumnSizeSeed");var e_="autoColumnSize",stt=10,_Rt="autoColumnSize",i_=new WeakMap,Cp=new WeakSet,Z2=class e extends vi{static get PLUGIN_KEY(){return e_}static get PLUGIN_PRIORITY(){return stt}static get SETTING_KEYS(){return!0}static get CALCULATION_STEP(){return 50}static get SYNC_CALCULATION_LIMIT(){return 50}constructor(t){super(t),pRt(this,Cp),t_(this,"ghostTable",new hI(this.hot)),t_(this,"samplesGenerator",new mI((r,i)=>{let n=this.hot.toPhysicalRow(r),o=this.hot.toPhysicalColumn(i);if(this.hot.rowIndexMapper.isHidden(n)||this.hot.columnIndexMapper.isHidden(o))return!1;let s=this.hot.getCellMeta(r,i),a="";s.spanned||(a=this.hot.getDataAtCell(r,i));let l="";return this.hot.hasHook("modifyAutoColumnSizeSeed")&&(l=this.hot.runHooks("modifyAutoColumnSizeSeed",l,s,a)),{value:a,bundleSeed:l}})),t_(this,"firstCalculation",!0),t_(this,"inProgress",!1),t_(this,"measuredColumns",0),t_(this,"columnWidthsMap",new js),gRt(this,i_,[]),this.hot.columnIndexMapper.registerMap(_Rt,this.columnWidthsMap),this.addHook("beforeColumnResize",(r,i,n)=>Cf(Cp,this,ntt).call(this,r,i,n))}isEnabled(){return this.hot.getSettings()[e_]!==!1&&!this.hot.getSettings().colWidths}enablePlugin(){var t=this;if(this.enabled)return;let r=this.hot.getSettings()[e_];r&&r.useHeaders!==null&&r.useHeaders!==void 0&&this.ghostTable.setSetting("useHeaders",r.useHeaders),this.setSamplingOptions(),this.addHook("afterLoadData",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return Cf(Cp,t,CRt).call(t,...n)}),this.addHook("beforeChangeRender",i=>Cf(Cp,this,xRt).call(this,i)),this.addHook("afterFormulasValuesUpdate",i=>Cf(Cp,this,ERt).call(this,i)),this.addHook("beforeViewRender",i=>Cf(Cp,this,wRt).call(this,i)),this.addHook("modifyColWidth",(i,n)=>this.getColumnWidth(n,i)),this.addHook("afterInit",()=>Cf(Cp,this,SRt).call(this)),super.enablePlugin()}updatePlugin(){let t=this.findColumnsWhereHeaderWasChanged();t.length&&(this.clearCache(t),this.calculateVisibleColumnsWidth()),super.updatePlugin()}disablePlugin(){super.disablePlugin(),this.addHook("beforeColumnResize",(t,r,i)=>Cf(Cp,this,ntt).call(this,t,r,i))}calculateVisibleColumnsWidth(){if(!this.hot.countRows())return;let r=this.hot.renderCall,i=this.getFirstVisibleColumn(),n=this.getLastVisibleColumn();i===-1||n===-1||this.calculateColumnsWidth({from:i,to:n},void 0,r)}calculateColumnsWidth(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{from:0,to:this.hot.countCols()-1},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{from:0,to:this.hot.countRows()-1},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=typeof t=="number"?{from:t,to:t}:t,o=typeof r=="number"?{from:r,to:r}:r;Oe(n.from,n.to,s=>{let a=this.hot.toPhysicalColumn(s);if(a===null&&(a=s),i||this.columnWidthsMap.getValueAtIndex(a)===null&&!this.hot._getColWidthFromSettings(a)){let l=this.samplesGenerator.generateColumnSamples(s,o);Tt(l,c=>{let[d,u]=c;return this.ghostTable.addColumn(d,u)})}}),this.ghostTable.columns.length&&(this.hot.batchExecution(()=>{this.ghostTable.getWidths((s,a)=>{let l=this.hot.toPhysicalColumn(s);this.columnWidthsMap.setValueAtIndex(l,a)})},!0),this.measuredColumns=n.to+1,this.ghostTable.clean())}calculateAllColumnsWidth(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{from:0,to:this.hot.countRows()-1},r=0,i=this.hot.countCols()-1,n=null;this.inProgress=!0;let o=()=>{if(!this.hot){cy(n),this.inProgress=!1;return}this.calculateColumnsWidth({from:r,to:Math.min(r+e.CALCULATION_STEP,i)},t),r=r+e.CALCULATION_STEP+1,r<i?n=ly(o):(cy(n),this.inProgress=!1,this.hot.view.adjustElementsSize())},s=this.getSyncCalculationLimit();this.firstCalculation&&s>=0&&(this.calculateColumnsWidth({from:0,to:s},t),this.firstCalculation=!1,r=s+1),r<i?o():this.inProgress=!1}setSamplingOptions(){let t=this.hot.getSettings()[e_],r=t&&en(t,"samplingRatio")?t.samplingRatio:void 0,i=t&&en(t,"allowSampleDuplicates")?t.allowSampleDuplicates:void 0;r&&!isNaN(r)&&this.samplesGenerator.setSampleCount(parseInt(r,10)),i&&this.samplesGenerator.setAllowDuplicates(i)}recalculateAllColumnsWidth(){this.hot.view&&this.hot.view._wt.wtTable.isVisible()&&(this.clearCache(),this.calculateAllColumnsWidth())}getSyncCalculationLimit(){let t=this.hot.getSettings()[e_],r=e.SYNC_CALCULATION_LIMIT,i=this.hot.countCols()-1;return gi(t)&&(r=t.syncLimit,sM(r)?r=LM(i,r):r>>=0),Math.min(r,i)}getColumnWidth(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=r;return n===void 0&&(n=this.columnWidthsMap.getValueAtIndex(this.hot.toPhysicalColumn(t)),i&&typeof n=="number"&&(n=Math.max(n,Yu.DEFAULT_WIDTH))),n}getFirstVisibleColumn(){let t=this.hot.view._wt;if(t.wtViewport.columnsVisibleCalculator){let r=t.wtTable.getFirstVisibleColumn();if(r!==-1)return this.hot.columnIndexMapper.getVisualFromRenderableIndex(r)}if(t.wtViewport.columnsRenderCalculator){let r=t.wtTable.getFirstRenderedColumn();if(r!==-1)return this.hot.columnIndexMapper.getVisualFromRenderableIndex(r)}return-1}getLastVisibleColumn(){let t=this.hot.view._wt;if(t.wtViewport.columnsVisibleCalculator){let r=t.wtTable.getLastVisibleColumn();if(r!==-1)return this.hot.columnIndexMapper.getVisualFromRenderableIndex(r)}if(t.wtViewport.columnsRenderCalculator){let r=t.wtTable.getLastRenderedColumn();if(r!==-1)return this.hot.columnIndexMapper.getVisualFromRenderableIndex(r)}return-1}findColumnsWhereHeaderWasChanged(){let t=this.hot.getColHeader();return cn(t,(i,n,o)=>{let s=pI(i_,this).length;return(s-1<o||pI(i_,this)[o]!==n)&&i.push(o),s-1<o?pI(i_,this).push(n):pI(i_,this)[o]=n,i},[])}clearCache(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];t.length?this.hot.batchExecution(()=>{Tt(t,r=>{this.columnWidthsMap.setValueAtIndex(r,null)})},!0):this.columnWidthsMap.clear()}isNeedRecalculate(){return!!cs(this.columnWidthsMap.getValues().slice(0,this.measuredColumns),t=>t===null).length}destroy(){this.ghostTable.clean(),super.destroy()}};function wRt(){this.calculateVisibleColumnsWidth(),this.isNeedRecalculate()&&!this.inProgress&&this.calculateAllColumnsWidth()}function CRt(){this.hot.view?this.recalculateAllColumnsWidth():setTimeout(()=>{this.hot&&this.recalculateAllColumnsWidth()},0)}function xRt(e){let t=xi(e,r=>{let[,i]=r;return this.hot.toPhysicalColumn(this.hot.propToCol(i))});this.clearCache(Array.from(new Set(t)))}function ntt(e,t,r){let i=e;return r&&(this.calculateColumnsWidth(t,void 0,!0),i=this.getColumnWidth(t,void 0,!1)),i}function SRt(){yRt(i_,this,this.hot.getColHeader())}function ERt(e){let t=cs(e,i=>{var n;return Ne((n=i.address)===null||n===void 0?void 0:n.col)}),r=xi(t,i=>i.address.col);this.clearCache(Array.from(new Set(r)))}var uge=ot(Gt(),1),hge=ot(we(),1);var xp={horizontal:"horizontal",vertical:"vertical"};function att(e,t,r){let i,n,o;return t[0]===e[0]&&t[1]<e[1]?(o="left",i=r(t[0],t[1]),n=r(t[2],e[1]-1)):t[2]===e[2]&&t[0]===e[0]&&t[3]>e[3]?(o="right",i=r(t[0],e[3]+1),n=r(t[2],t[3])):t[0]<e[0]&&t[1]===e[1]?(o="up",i=r(t[0],t[1]),n=r(e[0]-1,t[3])):t[2]>e[2]&&t[1]===e[1]&&(o="down",i=r(e[2]+1,t[1]),n=r(t[2],t[3])),i&&i.normalize(),n&&n.normalize(),{directionOfDrag:o,startOfDragCoords:i,endOfDragCoords:n}}function ltt(e){let t={};return e===!0?(t.directions=Object.keys(xp),t.autoInsertRow=!0):gi(e)?(Ne(e.autoInsertRow)?e.direction===xp.horizontal?t.autoInsertRow=!1:t.autoInsertRow=e.autoInsertRow:t.autoInsertRow=!1,Ne(e.direction)?t.directions=[e.direction]:t.directions=Object.keys(xp)):typeof e=="string"?(t.directions=[e],t.autoInsertRow=!0):(t.directions=[],t.autoInsertRow=!1),t}function RRt(e,t){TRt(e,t),t.add(e)}function TRt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function r_(e,t,r){return t=MRt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MRt(e){var t=ARt(e,"string");return typeof t=="symbol"?t:t+""}function ARt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Q2(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}Le.getSingleton().register("modifyAutofillRange");Le.getSingleton().register("beforeAutofill");Le.getSingleton().register("afterAutofill");var _8="autofill",ctt=20,IRt=["fillHandle"],kRt="insert_row_below",DRt=200,n_=new WeakSet,J2=class extends vi{constructor(){super(...arguments),RRt(this,n_),r_(this,"addingStarted",!1),r_(this,"mouseDownOnCellCorner",!1),r_(this,"mouseDragOutside",!1),r_(this,"handleDraggedCells",0),r_(this,"directions",[]),r_(this,"autoInsertRow",!1)}static get PLUGIN_KEY(){return _8}static get PLUGIN_PRIORITY(){return ctt}static get SETTING_KEYS(){return[_8,...IRt]}isEnabled(){return this.hot.getSettings().fillHandle}enablePlugin(){this.enabled||(this.mapSettings(),this.registerEvents(),this.addHook("afterOnCellCornerMouseDown",t=>Q2(n_,this,PRt).call(this,t)),this.addHook("afterOnCellCornerDblClick",t=>Q2(n_,this,ORt).call(this,t)),this.addHook("beforeOnCellMouseOver",(t,r)=>Q2(n_,this,NRt).call(this,r)),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.clearMappedSettings(),super.disablePlugin()}getSelectionData(){let t=this.hot.getSelectedRangeLast(),{row:r,col:i}=t.getTopStartCorner(),{row:n,col:o}=t.getBottomEndCorner(),s=this.hot.runHooks("modifyCopyableRange",[{startRow:r,startCol:i,endRow:n,endCol:o}]),a=[],l=[],c=[];return Tt(s,d=>{for(let u=d.startRow;u<=d.endRow;u+=1)a.indexOf(u)===-1&&a.push(u);for(let u=d.startCol;u<=d.endCol;u+=1)l.indexOf(u)===-1&&l.push(u)}),Tt(a,d=>{let u=[];Tt(l,h=>{u.push(this.hot.getCopyableData(d,h))}),c.push(u)}),c}fillIn(){if(this.hot.selection.highlight.getFill().isEmpty())return!1;let[t,r,i,n]=this.hot.selection.highlight.getFill().getVisualCorners(),o=this.hot.getSelectedRangeLast(),s=o.getTopStartCorner(),a=o.getBottomEndCorner();this.resetSelectionOfDraggedArea();let l=[s.row,s.col,a.row,a.col],c=this.hot.runHooks("modifyAutofillRange",[Math.min(s.row,t),Math.min(s.col,r),Math.max(a.row,i),Math.max(a.col,n)],l),{directionOfDrag:d,startOfDragCoords:u,endOfDragCoords:h}=att(l,c,(f,m)=>this.hot._createCellCoords(f,m));if(u&&u.row>-1&&u.col>-1){let f=this.getSelectionData(),m=o.clone(),g=this.hot._createCellRange(u,u,h),p=this.hot.runHooks("beforeAutofill",f,m,g,d);if(p===!1)return this.hot.selection.highlight.getFill().clear(),this.hot.render(),!1;let b=p,_=p;if(["up","left"].indexOf(d)>-1&&!(_.length===1&&_[0].length===0))if(b=[],d==="up"){let E=h.row-u.row+1,O=E%_.length;for(let V=0;V<E;V++)b.push(_[(V+(_.length-O))%_.length])}else{let E=h.col-u.col+1,O=E%_[0].length;for(let V=0;V<_.length;V++){b.push([]);for(let H=0;H<E;H++)b[V].push(_[V][(H+(_[V].length-O))%_[V].length])}}this.hot.populateFromArray(u.row,u.col,b,h.row,h.col,`${this.pluginName}.fill`,null),this.setSelection(c),this.hot.runHooks("afterAutofill",b,m,g,d),this.hot.render()}else this.hot.view.render();return!0}reduceSelectionAreaIfNeeded(t){return t.row<0&&(t.row=0),t.col<0&&(t.col=0),t}getCoordsOfDragAndDropBorders(t){let r=this.hot.getSelectedRangeLast(),i=r.getBottomEndCorner(),n=t;if(this.directions.includes(xp.vertical)&&this.directions.includes(xp.horizontal)){let o=r.getTopStartCorner();(i.col<=t.col||o.col>=t.col)&&(n=this.hot._createCellCoords(i.row,t.col)),(i.row<t.row||o.row>t.row)&&(n=this.hot._createCellCoords(t.row,i.col))}else if(this.directions.includes(xp.vertical))n=this.hot._createCellCoords(t.row,i.col);else if(this.directions.includes(xp.horizontal))n=this.hot._createCellCoords(i.row,t.col);else return;return this.reduceSelectionAreaIfNeeded(n)}showBorder(t){let r=this.getCoordsOfDragAndDropBorders(t);r&&this.redrawBorders(r)}addRow(){this.hot._registerTimeout(()=>{this.hot.alter(kRt,void 0,1,`${this.pluginName}.fill`),this.addingStarted=!1},DRt)}addNewRowIfNeeded(){if(!this.hot.selection.highlight.getFill().isEmpty()&&this.addingStarted===!1&&this.autoInsertRow){let t=this.hot.getSelectedLast(),r=this.hot.selection.highlight.getFill().getVisualCorners(),i=this.hot.countRows();t[2]<i-1&&r[2]===i-1&&(this.addingStarted=!0,this.addRow())}}getIndexOfLastAdjacentFilledInRow(t){let r=this.hot.getData(),i=this.hot.countRows(),n;for(let o=t[2]+1;o<i;o++){for(let l=t[1];l<=t[3];l++){let c=r[o][l];if(!sn(c))return-1}let s=r[o][t[1]-1],a=r[o][t[3]+1];(!sn(s)||!sn(a))&&(n=o)}return n}addSelectionFromStartAreaToSpecificRowIndex(t,r){this.hot.selection.highlight.getFill().clear().add(this.hot._createCellCoords(t[0],t[1])).add(this.hot._createCellCoords(r,t[3])).commit()}setSelection(t){this.hot.selectCell(...xi(t,r=>Math.max(r,0)),!1,!1)}selectAdjacent(){let t=this.hot.getSelectedLast(),r=this.getIndexOfLastAdjacentFilledInRow(t);return r===-1||r===void 0?!1:(this.addSelectionFromStartAreaToSpecificRowIndex(t,r),!0)}resetSelectionOfDraggedArea(){this.handleDraggedCells=0,this.hot.selection.highlight.getFill().clear()}redrawBorders(t){this.hot.selection.highlight.getFill().clear().add(this.hot.getSelectedRangeLast().from).add(this.hot.getSelectedRangeLast().to).add(t).commit(),this.hot.view.render()}getIfMouseWasDraggedOutside(t){let{documentElement:r}=this.hot.rootDocument,i=Kn(this.hot.table).top-(this.hot.rootWindow.pageYOffset||r.scrollTop)+Fr(this.hot.table),n=Kn(this.hot.table).left-(this.hot.rootWindow.pageXOffset||r.scrollLeft)+wr(this.hot.table);return t.clientY>i&&t.clientX<=n}registerEvents(){let{documentElement:t}=this.hot.rootDocument;this.eventManager.addEventListener(t,"mouseup",()=>Q2(n_,this,LRt).call(this)),this.eventManager.addEventListener(t,"mousemove",r=>Q2(n_,this,FRt).call(this,r))}clearMappedSettings(){this.directions.length=0,this.autoInsertRow=!1}mapSettings(){let t=ltt(this.hot.getSettings().fillHandle);this.directions=t.directions,this.autoInsertRow=t.autoInsertRow}destroy(){super.destroy()}};function ORt(){this.selectAdjacent()&&this.fillIn()}function PRt(){this.handleDraggedCells=1,this.mouseDownOnCellCorner=!0}function NRt(e){this.mouseDownOnCellCorner&&!this.hot.view.isMouseDown()&&this.handleDraggedCells&&(this.handleDraggedCells+=1,this.showBorder(e),this.addNewRowIfNeeded())}function LRt(){this.handleDraggedCells&&(this.handleDraggedCells>1&&this.fillIn(),this.handleDraggedCells=0,this.mouseDownOnCellCorner=!1)}function FRt(e){let t=this.getIfMouseWasDraggedOutside(e);this.addingStarted===!1&&this.handleDraggedCells>0&&t?(this.mouseDragOutside=!0,this.addingStarted=!0):this.mouseDragOutside=!1,this.mouseDragOutside&&this.autoInsertRow&&this.addRow()}var Cge=ot(Gt(),1);function HRt(e,t){BRt(e,t),t.add(e)}function BRt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function E0(e,t,r){return t=jRt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jRt(e){var t=VRt(e,"string");return typeof t=="symbol"?t:t+""}function VRt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tS(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var eS="autoRowSize",utt=40,zRt="autoRowSize",o_=new WeakSet,iS=class e extends vi{static get PLUGIN_KEY(){return eS}static get PLUGIN_PRIORITY(){return utt}static get SETTING_KEYS(){return!0}static get CALCULATION_STEP(){return 50}static get SYNC_CALCULATION_LIMIT(){return 500}constructor(t){super(t),HRt(this,o_),E0(this,"headerHeight",null),E0(this,"ghostTable",new hI(this.hot)),E0(this,"samplesGenerator",new mI((r,i)=>{let n=this.hot.toPhysicalRow(r),o=this.hot.toPhysicalColumn(i);if(this.hot.rowIndexMapper.isHidden(n)||this.hot.columnIndexMapper.isHidden(o)||r>=0&&i>=0&&this.hot.getCellMeta(r,i).hidden)return!1;let s;return r>=0?s=this.hot.getDataAtCell(r,i):r===-1&&(s=this.hot.getColHeader(i)),{value:s}})),E0(this,"firstCalculation",!0),E0(this,"inProgress",!1),E0(this,"measuredRows",0),E0(this,"rowHeightsMap",new js),this.hot.rowIndexMapper.registerMap(zRt,this.rowHeightsMap),this.addHook("beforeRowResize",(r,i,n)=>tS(o_,this,dtt).call(this,r,i,n))}isEnabled(){let t=this.hot.getSettings()[eS];return t===!0||gi(t)}enablePlugin(){var t=this;this.enabled||(this.setSamplingOptions(),this.addHook("afterLoadData",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return tS(o_,t,WRt).call(t,...i)}),this.addHook("beforeChangeRender",r=>tS(o_,this,YRt).call(this,r)),this.addHook("beforeColumnResize",()=>this.recalculateAllRowsHeight()),this.addHook("beforeViewRender",r=>tS(o_,this,URt).call(this,r)),this.addHook("modifyRowHeight",(r,i)=>this.getRowHeight(i,r)),this.addHook("modifyColumnHeaderHeight",()=>this.getColumnHeaderHeight()),super.enablePlugin())}disablePlugin(){this.headerHeight=null,super.disablePlugin(),this.addHook("beforeRowResize",(t,r,i)=>tS(o_,this,dtt).call(this,t,r,i))}calculateRowsHeight(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{from:0,to:this.hot.countRows()-1},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{from:0,to:this.hot.countCols()-1},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=typeof t=="number"?{from:t,to:t}:t,o=typeof r=="number"?{from:r,to:r}:r;if(this.hot.getColHeader(0)!==null){let s=this.samplesGenerator.generateRowSamples(-1,o);this.ghostTable.addColumnHeadersRow(s.get(-1))}Oe(n.from,n.to,s=>{if(i||this.rowHeightsMap.getValueAtIndex(s)===null){let a=this.samplesGenerator.generateRowSamples(s,o);Tt(a,l=>{let[c,d]=l;return this.ghostTable.addRow(c,d)})}}),this.ghostTable.rows.length&&(this.hot.batchExecution(()=>{this.ghostTable.getHeights((s,a)=>{s<0?this.headerHeight=a:this.rowHeightsMap.setValueAtIndex(this.hot.toPhysicalRow(s),a)})},!0),this.measuredRows=n.to+1,this.ghostTable.clean())}calculateAllRowsHeight(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{from:0,to:this.hot.countCols()-1},r=0,i=this.hot.countRows()-1,n=null;this.inProgress=!0;let o=()=>{if(!this.hot){cy(n),this.inProgress=!1;return}this.calculateRowsHeight({from:r,to:Math.min(r+e.CALCULATION_STEP,i)},t),r=r+e.CALCULATION_STEP+1,r<i?n=ly(o):(cy(n),this.inProgress=!1,this.hot.view.adjustElementsSize(),this.hot.view._wt.wtOverlays.inlineStartOverlay.needFullRender&&this.hot.view._wt.wtOverlays.inlineStartOverlay.clone.draw())},s=this.getSyncCalculationLimit();this.firstCalculation&&s>=0&&(this.calculateRowsHeight({from:0,to:s},t),this.firstCalculation=!1,r=s+1),r<i?o():(this.inProgress=!1,this.hot.view.adjustElementsSize())}setSamplingOptions(){let t=this.hot.getSettings()[eS],r=t&&en(t,"samplingRatio")?t.samplingRatio:void 0,i=t&&en(t,"allowSampleDuplicates")?t.allowSampleDuplicates:void 0;r&&!isNaN(r)&&this.samplesGenerator.setSampleCount(parseInt(r,10)),i&&this.samplesGenerator.setAllowDuplicates(i)}recalculateAllRowsHeight(){Pc(this.hot.view._wt.wtTable.TABLE)&&(this.clearCache(),this.calculateAllRowsHeight())}getSyncCalculationLimit(){let t=this.hot.getSettings()[eS],r=e.SYNC_CALCULATION_LIMIT,i=this.hot.countRows()-1;return gi(t)&&(r=t.syncLimit,sM(r)?r=LM(i,r):r>>=0),Math.min(r,i)}getRowHeight(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,i=t<0?this.headerHeight:this.rowHeightsMap.getValueAtIndex(this.hot.toPhysicalRow(t)),n=r;return i!==null&&i>(r||0)&&(n=i),n}getColumnHeaderHeight(){return this.headerHeight}getFirstVisibleRow(){let t=this.hot.view._wt;return t.wtViewport.rowsVisibleCalculator?t.wtTable.getFirstVisibleRow():t.wtViewport.rowsRenderCalculator?t.wtTable.getFirstRenderedRow():-1}getLastVisibleRow(){let t=this.hot.view._wt;return t.wtViewport.rowsVisibleCalculator?t.wtTable.getLastVisibleRow():t.wtViewport.rowsRenderCalculator?t.wtTable.getLastRenderedRow():-1}clearCache(){this.headerHeight=null,this.rowHeightsMap.init()}clearCacheByRange(t){let{from:r,to:i}=typeof t=="number"?{from:t,to:t}:t;this.hot.batchExecution(()=>{Oe(Math.min(r,i),Math.max(r,i),n=>{this.rowHeightsMap.setValueAtIndex(n,null)})},!0)}isNeedRecalculate(){return!!cs(this.rowHeightsMap.getValues().slice(0,this.measuredRows),t=>t===null).length}destroy(){this.ghostTable.clean(),super.destroy()}};function URt(){let e=this.hot.renderCall,t=this.hot.getSettings().fixedRowsBottom,r=this.getFirstVisibleRow(),i=this.getLastVisibleRow();if(!(r===-1||i===-1)){if(this.calculateRowsHeight({from:r,to:i},void 0,e),t){let n=this.hot.countRows()-1;this.calculateRowsHeight({from:n-t,to:n})}this.isNeedRecalculate()&&!this.inProgress&&this.calculateAllRowsHeight()}}function dtt(e,t,r){let i=e;return r&&(this.calculateRowsHeight(t,void 0,!0),i=this.getRowHeight(t)),i}function WRt(){this.hot.view?this.recalculateAllRowsHeight():this.hot._registerTimeout(()=>{this.hot&&this.recalculateAllRowsHeight()})}function YRt(e){let t=null;e.length===1?t=e[0][0]:e.length>1&&(t={from:e[0][0],to:e[e.length-1][0]}),t!==null&&this.clearCacheByRange(t)}var jge=ot(Gt(),1);var{getListWithInsertedItems:qRt,getListWithRemovedItems:$Rt}=dx("physicallyIndexed"),w8=class extends Wa{constructor(){super(t=>t)}insert(t,r){let i=hp(this.indexedValues,r);this.indexedValues=qRt(i,t,r,this.initValueOrFn),super.insert(t,r)}remove(t){let r=$Rt(this.indexedValues,t);this.indexedValues=up(r,t),super.remove(t)}},htt=w8;var{getListWithInsertedItems:GRt,getListWithRemovedItems:KRt}=dx("physicallyIndexed"),C8=class extends Wa{constructor(){super(t=>t)}insert(t,r){this.indexedValues=GRt(this.indexedValues,t,r,(i,n)=>this.getNextValue(n)),super.insert(t,r)}remove(t){this.indexedValues=KRt(this.indexedValues,t),super.remove(t)}getNextValue(t){return Math.max(...this.getValues())+1+t}},ftt=C8;function XRt(e,t){ZRt(e,t),t.add(e)}function ZRt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function QRt(e,t,r){return t=JRt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JRt(e){var t=tTt(e,"string");return typeof t=="symbol"?t:t+""}function tTt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eTt(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var gI="bindRowsWithHeaders",ptt=210,iTt="loose",rTt=new Map([["loose",htt],["strict",ftt]]),mtt=new WeakSet,rS=class extends vi{constructor(){super(...arguments),XRt(this,mtt),QRt(this,"headerIndexes",null)}static get PLUGIN_KEY(){return gI}static get PLUGIN_PRIORITY(){return ptt}isEnabled(){return!!this.hot.getSettings()[gI]}enablePlugin(){if(this.enabled)return;let t=this.hot.getSettings()[gI];typeof t!="string"&&(t=iTt);let r=rTt.get(t);this.headerIndexes=this.hot.rowIndexMapper.registerMap("bindRowsWithHeaders",new r),this.addHook("modifyRowHeader",i=>eTt(mtt,this,nTt).call(this,i)),super.enablePlugin()}disablePlugin(){this.hot.rowIndexMapper.unregisterMap("bindRowsWithHeaders"),super.disablePlugin()}destroy(){super.destroy()}};function nTt(e){return this.headerIndexes.getValueAtIndex(this.hot.toPhysicalRow(e))}var $ge=ot(Gt(),1),Gge=ot(we(),1);function oTt(e,t){_tt(e,t),t.add(e)}function sTt(e,t,r){_tt(e,t),t.set(e,r)}function _tt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function gtt(e,t,r){return t=aTt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aTt(e){var t=lTt(e,"string");return typeof t=="symbol"?t:t+""}function lTt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function btt(e,t){return e.get(a_(e,t))}function x8(e,t,r){return e.set(a_(e,t),r),r}function a_(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var oS="collapsibleColumns",wtt=290,cTt=["nestedHeaders"],l_="collapsibleIndicator",vtt=oS,ytt=new Map([["collapse",{hideColumn:!0,beforeHook:"beforeColumnCollapse",afterHook:"afterColumnCollapse"}],["expand",{hideColumn:!1,beforeHook:"beforeColumnExpand",afterHook:"afterColumnExpand"}]]),s_=new WeakMap,nS=new WeakSet,sS=class extends vi{constructor(){super(...arguments),oTt(this,nS),gtt(this,"nestedHeadersPlugin",null),gtt(this,"headerStateManager",null),sTt(this,s_,null)}static get PLUGIN_KEY(){return oS}static get PLUGIN_PRIORITY(){return wtt}static get PLUGIN_DEPS(){return["plugin:NestedHeaders"]}static get SETTING_KEYS(){return[oS,...cTt]}isEnabled(){return!!this.hot.getSettings()[oS]}enablePlugin(){var t=this;if(this.enabled)return;let{nestedHeaders:r}=this.hot.getSettings();r||vr("You need to configure the Nested Headers plugin in order to use collapsible headers."),x8(s_,this,this.hot.columnIndexMapper.createAndRegisterIndexMap(this.pluginName,"hiding")),this.nestedHeadersPlugin=this.hot.getPlugin("nestedHeaders"),this.headerStateManager=this.nestedHeadersPlugin.getStateManager(),this.addHook("init",()=>a_(nS,this,hTt).call(this)),this.addHook("afterLoadData",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return a_(nS,t,fTt).call(t,...n)}),this.addHook("afterGetColHeader",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return a_(nS,t,dTt).call(t,...n)}),this.addHook("beforeOnCellMouseDown",(i,n,o)=>a_(nS,this,uTt).call(this,i,n,o)),this.registerShortcuts(),super.enablePlugin(),this.updatePlugin()}updatePlugin(){if(this.hot.view){if(!this.nestedHeadersPlugin.detectedOverlappedHeaders){let{collapsibleColumns:t}=this.hot.getSettings();typeof t=="boolean"?this.headerStateManager.mapState(r=>({collapsible:r.origColspan>1})):Array.isArray(t)&&(this.headerStateManager.mapState(()=>({collapsible:!1})),this.headerStateManager.mergeStateWith(t))}super.updatePlugin()}}disablePlugin(){this.hot.columnIndexMapper.unregisterMap(this.pluginName),x8(s_,this,null),this.nestedHeadersPlugin=null,this.unregisterShortcuts(),this.clearButtons(),super.disablePlugin()}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Enter"]],callback:()=>{var t;let{row:r,col:i}=this.hot.getSelectedRangeLast().highlight,{collapsible:n,isCollapsed:o,columnIndex:s}=(t=this.headerStateManager.getHeaderTreeNodeData(r,i))!==null&&t!==void 0?t:{};if(n)return o?this.expandSection({row:r,col:s}):this.collapseSection({row:r,col:s}),!1},runOnlyIf:()=>{var t,r;return((t=this.hot.getSelectedRangeLast())===null||t===void 0?void 0:t.isSingle())&&((r=this.hot.getSelectedRangeLast())===null||r===void 0?void 0:r.highlight.isHeader())},group:vtt,relativeToGroup:xa,position:"before"})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(vtt)}clearButtons(){if(!this.hot.view)return;let t=this.hot.view._wt.getSetting("columnHeaders").length,r=this.hot.view._wt.wtTable.THEAD,i=this.hot.view._wt.wtOverlays.topOverlay.clone.wtTable.THEAD,n=this.hot.view._wt.wtOverlays.topInlineStartCornerOverlay?this.hot.view._wt.wtOverlays.topInlineStartCornerOverlay.clone.wtTable.THEAD:null,o=function(s){s&&s.parentNode.removeChild(s)};Oe(0,t-1,s=>{let a=r.childNodes[s],l=i.childNodes[s],c=n?n.childNodes[s]:null;Oe(0,a.childNodes.length-1,d=>{let u=a.childNodes[d].querySelector(`.${l_}`);o(u),l&&l.childNodes[d]&&(u=l.childNodes[d].querySelector(`.${l_}`),o(u)),n&&c&&c.childNodes[d]&&(u=c.childNodes[d].querySelector(`.${l_}`),o(u))})},!0)}expandSection(t){this.toggleCollapsibleSection([t],"expand")}collapseSection(t){this.toggleCollapsibleSection([t],"collapse")}toggleAllCollapsibleSections(t){let r=this.headerStateManager.mapNodes(i=>{let{collapsible:n,origColspan:o,headerLevel:s,columnIndex:a,isCollapsed:l}=i;if(n===!0&&o>1&&(l&&t==="expand"||!l&&t==="collapse"))return{row:this.headerStateManager.levelToRowCoords(s),col:a}});this.toggleCollapsibleSection(r,t)}collapseAll(){this.toggleAllCollapsibleSections("collapse")}expandAll(){this.toggleAllCollapsibleSections("expand")}toggleCollapsibleSection(t,r){if(!ytt.has(r))throw new Error(`Unsupported action is passed (${r}).`);if(!Array.isArray(t))return;let i=cs(t,f=>{let{row:m}=f;return m<0}),n=i.length>0;Tt(i,f=>{var m;let{row:g,col:p}=f,{collapsible:b,isCollapsed:_}=(m=this.headerStateManager.getHeaderSettings(g,p))!==null&&m!==void 0?m:{};if(!b||_&&r==="collapse"||!_&&r==="expand")return n=!1,!1});let o=[],s=[];n&&Tt(i,f=>{let{row:m,col:g}=f,{colspanCompensation:p,affectedColumns:b,rollbackModification:_}=this.headerStateManager.triggerNodeModification(r,m,g);p>0&&(s.push(...b),o.push(_))});let a=this.getCollapsedColumns(),l=[];r==="collapse"?l=rM([...a,...s]):r==="expand"&&(l=cs(a,f=>!s.includes(f)));let c=ytt.get(r);if(this.hot.runHooks(c.beforeHook,a,l,n)===!1){Tt(o,f=>{f()});return}this.hot.batchExecution(()=>{Tt(s,f=>{btt(s_,this).setValueAtIndex(this.hot.toPhysicalColumn(f),c.hideColumn)})},!0);let u=this.getCollapsedColumns().length!==a.length,h=this.hot.getSelectedRangeLast();if(r==="collapse"&&u&&h){let{row:f,col:m}=h.highlight;if((this.hot.rowIndexMapper.isHidden(f)||this.hot.columnIndexMapper.isHidden(m))&&s.includes(m)){let p=f>=0?this.hot.rowIndexMapper.getNearestNotHiddenIndex(f,1,!0):f,b=m>=0?this.hot.columnIndexMapper.getNearestNotHiddenIndex(m,1,!0):m;p!==null&&b!==null&&this.hot.selectCell(p,b)}}this.hot.runHooks(c.afterHook,a,l,n,u),this.hot.render(),this.hot.view.adjustElementsSize()}getCollapsedColumns(){return btt(s_,this).getHiddenIndexes()}destroy(){x8(s_,this,null),super.destroy()}};function dTt(e,t,r){var i;let{collapsible:n,origColspan:o,isCollapsed:s}=(i=this.headerStateManager.getHeaderSettings(r,e))!==null&&i!==void 0?i:{},a=n&&o>1&&e>=this.hot.getSettings().fixedColumnsStart,l=this.hot.getSettings().ariaTags,c=t.querySelector(`.${l_}`);if(Nc(t,[oa("")[0]]),a)c||(c=this.hot.rootDocument.createElement("div"),ne(c,l_),t.querySelector("div:first-child").appendChild(c)),pi(c,["collapsed","expanded"]),s?(ne(c,"collapsed"),Fc(c,"+"),l&&Xe(t,...oa(!1))):(ne(c,"expanded"),Fc(c,"-"),l&&Xe(t,...oa(!0))),l&&Xe(c,...Os());else{var d;(d=c)===null||d===void 0||d.remove()}}function uTt(e,t){Ze(e.target,l_)&&(Ze(e.target,"expanded")?(this.eventManager.fireEvent(e.target,"mouseup"),this.toggleCollapsibleSection([t],"collapse")):Ze(e.target,"collapsed")&&(this.eventManager.fireEvent(e.target,"mouseup"),this.toggleCollapsibleSection([t],"expand")),Vo(e))}function hTt(){this.updatePlugin()}function fTt(e,t){t||this.updatePlugin()}var ibe=ot(Gt(),1),rbe=ot(we(),1);var s0e=ot(Gt(),1);function R0(e,t,r){return t=mTt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mTt(e){var t=pTt(e,"string");return typeof t=="symbol"?t:t+""}function pTt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gTt=["sortEmptyCells","indicator","headerAction","compareFunctionFactory"],bTt=!1,vTt=!0,yTt=!0,bI=class{constructor(t,r){R0(this,"hot",void 0),R0(this,"sortingStates",new Zu),R0(this,"sortEmptyCells",bTt),R0(this,"indicator",vTt),R0(this,"headerAction",yTt),R0(this,"compareFunctionFactory",void 0),R0(this,"mapName",void 0),this.hot=t,this.mapName=r,this.hot.columnIndexMapper.registerMap(r,this.sortingStates)}updateAllColumnsProperties(t){gi(t)&&bi(t,(r,i)=>{gTt.includes(i)&&(this[i]=r)})}getAllColumnsProperties(){let t={sortEmptyCells:this.sortEmptyCells,indicator:this.indicator,headerAction:this.headerAction};return typeof this.compareFunctionFactory=="function"&&(t.compareFunctionFactory=this.compareFunctionFactory),t}getSortOrderOfColumn(t){var r;return(r=this.sortingStates.getValueAtIndex(this.hot.toPhysicalColumn(t)))===null||r===void 0?void 0:r.sortOrder}getIndexOfColumnInSortQueue(t){return t=this.hot.toPhysicalColumn(t),this.sortingStates.getEntries().findIndex(r=>{let[i]=r;return i===t})}getNumberOfSortedColumns(){return this.sortingStates.getLength()}isListOfSortedColumnsEmpty(){return this.getNumberOfSortedColumns()===0}isColumnSorted(t){return gi(this.sortingStates.getValueAtIndex(this.hot.toPhysicalColumn(t)))}getSortStates(){return this.sortingStates===null?[]:this.sortingStates.getEntries().map(r=>{let[i,n]=r;return Vt({column:this.hot.toVisualColumn(i)},n)})}getColumnSortState(t){let r=this.getSortOrderOfColumn(t);if(Ne(r))return{column:t,sortOrder:r}}setSortStates(t){this.sortingStates.clear();for(let r=0;r<t.length;r+=1)this.sortingStates.setValueAtIndex(this.hot.toPhysicalColumn(t[r].column),{sortOrder:t[r].sortOrder})}destroy(){this.hot.columnIndexMapper.unregisterMap(this.mapName),this.sortingStates=null}};var H0e=ot(yn(),1),B0e=ot(_n(),1),j0e=ot(wn(),1),V0e=ot(Cn(),1),z0e=ot(xn(),1),U0e=ot(Sn(),1),W0e=ot(En(),1),T8=ot(ea(),1);function vI(e,t,r){let i=t.locale;return function(n,o){let{sortEmptyCells:s}=r;return typeof n=="string"&&(n=n.toLocaleLowerCase(i)),typeof o=="string"&&(o=o.toLocaleLowerCase(i)),n===o?Sa:sn(n)?sn(o)?Sa:s?e==="asc"?Vn:zn:zn:sn(o)?s?e==="asc"?zn:Vn:Vn:isNaN(n)&&!isNaN(o)?e==="asc"?zn:Vn:!isNaN(n)&&isNaN(o)?e==="asc"?Vn:zn:(isNaN(n)||isNaN(o)||(n=parseFloat(n),o=parseFloat(o)),n<o?e==="asc"?Vn:zn:n>o?e==="asc"?zn:Vn:Sa)}}var S8="default";function Ctt(e,t,r){return function(i,n){let o=parseFloat(i),s=parseFloat(n),{sortEmptyCells:a}=r;if(o===s||isNaN(o)&&isNaN(s))return Sa;if(a){if(sn(i))return e==="asc"?Vn:zn;if(sn(n))return e==="asc"?zn:Vn}return isNaN(o)?zn:isNaN(s)?Vn:o<s?e==="asc"?Vn:zn:o>s?e==="asc"?zn:Vn:Sa}}var xtt="numeric";function Stt(e,t,r){let i=t.checkedTemplate,n=t.uncheckedTemplate,{sortEmptyCells:o}=r;return function(s,a){let l=sn(s),c=sn(a),d=l?n:s,u=c?n:a,h=d===n||d===i,f=u===n||u===i;if(o===!1){if(l&&c===!1)return zn;if(l===!1&&c)return Vn}return h===!1&&f?e==="asc"?Vn:zn:h&&f===!1?e==="asc"?zn:Vn:h===!1&&f===!1?vI(e,t,r)(s,a):d===n&&u===i?e==="asc"?Vn:zn:d===i&&u===n?e==="asc"?zn:Vn:Sa}}var Ett="checkbox";function Rtt(e,t,r){return yI(e,t.dateFormat,r)}var Ttt="date";function Mtt(e,t,r){return yI(e,t.timeFormat,r)}var Att="time";var{register:aS,getItem:Itt,hasItem:_Tt}=Zo("sorting.compareFunctionFactory"),{register:lS,getItem:E8}=Zo("sorting.mainSortComparator");function cS(e){return _Tt(e)?Itt(e):Itt(S8)}aS(Ett,Stt);aS(Ttt,Rtt);aS(S8,vI);aS(xtt,Ctt);aS(Att,Mtt);var Sa=0,Vn=-1,zn=1;function R8(e,t){let r=E8(t);for(var i=arguments.length,n=new Array(i>2?i-2:0),o=2;o<i;o++)n[o-2]=arguments[o];e.sort(r(...n))}var dS="asc",uS="desc",M8="colHeader";function wTt(e){if(gi(e)===!1)return!1;let{column:t,sortOrder:r}=e;return Number.isInteger(t)&&[dS,uS].includes(r)}function ktt(e){if(e.some(r=>wTt(r)===!1))return!1;let t=e.map(r=>{let{column:i}=r;return i});return new Set(t).size===t.length}function A8(e){if(e!==uS)return e===dS?uS:dS}function I8(e){return e.querySelector(`.${M8}`)}function k8(e,t){if(e<0||!t.parentNode)return!1;let r=t.parentNode.parentNode.childNodes;return Array.from(r).indexOf(t.parentNode)-r.length===-1}function hS(e,t,r){return e===-1&&t>=0&&Ql(r)===!1}function yI(e,t,r){return function(i,n){let{sortEmptyCells:o}=r;if(i===n)return Sa;if(sn(i))return sn(n)?Sa:o?e==="asc"?Vn:zn:zn;if(sn(n))return o?e==="asc"?zn:Vn:Vn;let s=(0,T8.default)(i,t),a=(0,T8.default)(n,t);return s.isValid()?a.isValid()?a.isAfter(s)?e==="asc"?Vn:zn:a.isBefore(s)?e==="asc"?zn:Vn:Sa:Vn:zn}}var X0e=ot(we(),1);var CTt="ascending",xTt="descending",Dtt="indicatorDisabled",Ott="columnSorting",Ptt="sortAction",Ntt=new Map([[dS,CTt],[uS,xTt]]);function Ltt(e,t,r,i){let n=[Ott];if(i&&n.push(Ptt),r===!1)return n.push(Dtt),n;let o=e.getSortOrderOfColumn(t);return Ne(o)&&n.push(Ntt.get(o)),n}function Ftt(){return Array.from(Ntt.values()).concat(Ptt,Dtt,Ott)}function Htt(e,t){return function(r,i){let[,...n]=r,[,...o]=i;return function(a){let l=e[a],c=t[a],d=n[a],u=o[a],h=c.columnSorting;return(h.compareFunctionFactory?h.compareFunctionFactory:cS(c.type))(l,c,h)(d,u)}(0)}}function STt(e,t){ETt(e,t),t.add(e)}function ETt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _I(e,t,r){return t=RTt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RTt(e){var t=TTt(e,"string");return typeof t=="symbol"?t:t+""}function TTt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c_(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var fS="columnSorting",jtt=50,d_="append",Vtt="replace",Btt=fS;lS(fS,Htt);Le.getSingleton().register("beforeColumnSort");Le.getSingleton().register("afterColumnSort");var T0=new WeakSet,M0=class extends vi{constructor(){super(...arguments),STt(this,T0),_I(this,"columnStatesManager",null),_I(this,"columnMetaCache",null),_I(this,"pluginKey",fS),_I(this,"indexesSequenceCache",null)}static get PLUGIN_KEY(){return fS}static get PLUGIN_PRIORITY(){return jtt}isEnabled(){return!!this.hot.getSettings()[this.pluginKey]}enablePlugin(){var t=this;this.enabled||(this.columnStatesManager=new bI(this.hot,`${this.pluginKey}.sortingStates`),this.columnMetaCache=new js(r=>{let i=this.hot.toVisualColumn(r);return i===null&&(i=r),this.getMergedPluginSettings(i)}),this.hot.columnIndexMapper.registerMap(`${this.pluginKey}.columnMeta`,this.columnMetaCache),this.addHook("afterGetColHeader",(r,i)=>c_(T0,this,MTt).call(this,r,i)),this.addHook("beforeOnCellMouseDown",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return c_(T0,t,ITt).call(t,...i)}),this.addHook("afterOnCellMouseDown",(r,i)=>this.onAfterOnCellMouseDown(r,i)),this.addHook("afterInit",()=>c_(T0,this,D8).call(this)),this.addHook("afterLoadData",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return c_(T0,t,ATt).call(t,...i)}),this.hot.view&&c_(T0,this,D8).call(this),this.registerShortcuts(),super.enablePlugin())}disablePlugin(){let t=(r,i)=>{let n=I8(i);k8(r,i)===!1||n===null||this.updateHeaderClasses(n)};this.hot.addHook("afterGetColHeader",t),this.hot.addHookOnce("afterViewRender",()=>{this.hot.removeHook("afterGetColHeader",t)}),this.hot.batchExecution(()=>{this.indexesSequenceCache!==null&&(this.hot.rowIndexMapper.setIndexesSequence(this.indexesSequenceCache.getValues()),this.hot.rowIndexMapper.unregisterMap(this.pluginKey))},!0),this.hot.columnIndexMapper.unregisterMap(`${this.pluginKey}.columnMeta`),this.columnStatesManager.destroy(),this.columnMetaCache=null,this.columnStatesManager=null,this.unregisterShortcuts(),super.disablePlugin()}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Enter"]],callback:()=>{let{highlight:t}=this.hot.getSelectedRangeLast();return this.sort(this.getColumnNextConfig(t.col)),!1},runOnlyIf:()=>{var t,r;let i=(t=this.hot.getSelectedRangeLast())===null||t===void 0?void 0:t.highlight;return i&&((r=this.hot.getSelectedRangeLast())===null||r===void 0?void 0:r.isSingle())&&this.hot.selection.isCellVisible(i)&&i.row===-1&&i.col>=0},relativeToGroup:xa,position:"before",group:Btt})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(Btt)}sort(t){let r=this.getSortConfig(),i=this.getNormalizedSortConfigs(t),n=this.areValidSortConfigs(i);this.hot.runHooks("beforeColumnSort",r,i,n)!==!1&&(r.length===0&&this.indexesSequenceCache===null&&(this.indexesSequenceCache=this.hot.rowIndexMapper.registerMap(this.pluginKey,new ky),this.indexesSequenceCache.setValues(this.hot.rowIndexMapper.getIndexesSequence())),n&&(this.columnStatesManager.setSortStates(i),this.sortByPresetSortStates(i),this.saveAllSortSettings(i)),this.hot.runHooks("afterColumnSort",r,n?i:r,n),n&&(this.hot.render(),this.hot.forceFullRender=!1,this.hot.view.render()))}clearSort(){this.sort([])}isSorted(){return this.enabled&&!this.columnStatesManager.isListOfSortedColumnsEmpty()}getSortConfig(t){return Ne(t)?this.columnStatesManager.getColumnSortState(t):this.columnStatesManager.getSortStates()}setSortConfig(t){let r=this.getNormalizedSortConfigs(t);this.areValidSortConfigs(r)&&this.columnStatesManager.setSortStates(r)}getNormalizedSortConfigs(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Array.isArray(t)?t.slice(0,1):[t]}areValidSortConfigs(t){let r=this.hot.countCols();return ktt(t)&&t.every(i=>{let{column:n}=i;return n<=r&&n>=0})}saveAllSortSettings(t){let r=this.columnStatesManager.getAllColumnsProperties(),i=n=>{let a=n,{column:o}=a,s=Hn(a,["column"]);return Vt({column:this.hot.toPhysicalColumn(o)},s)};r.initialConfig=xi(t,i),this.hot.runHooks("persistentStateSave","columnSorting",r)}getAllSavedSortSettings(){let t={};this.hot.runHooks("persistentStateLoad","columnSorting",t);let r=t.value,i=n=>{let a=n,{column:o}=a,s=Hn(a,["column"]);return Vt({column:this.hot.toVisualColumn(o)},s)};return Ne(r)&&Array.isArray(r.initialConfig)&&(r.initialConfig=xi(r.initialConfig,i)),r}getColumnNextConfig(t){let r=this.columnStatesManager.getSortOrderOfColumn(t);if(Ne(r)){let n=A8(r);return Ne(n)?{column:t,sortOrder:n}:void 0}let i=this.hot.countCols();if(Number.isInteger(t)&&t>=0&&t<i)return{column:t,sortOrder:A8()}}getNextSortConfig(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d_,i=this.columnStatesManager.getIndexOfColumnInSortQueue(t),n=i!==-1,o=this.getSortConfig(),s=this.getColumnNextConfig(t);if(n){if(_r(s))return[...o.slice(0,i),...o.slice(i+1)];if(r===d_)return[...o.slice(0,i),...o.slice(i+1),s];if(r===Vtt)return[...o.slice(0,i),s,...o.slice(i+1)]}return Ne(s)?o.concat(s):o}getPluginColumnConfig(t){if(gi(t)){let r=t[this.pluginKey];if(gi(r))return r}return{}}getMergedPluginSettings(t){let r=this.hot.getSettings()[this.pluginKey],i=this.columnStatesManager.getAllColumnsProperties(),n=this.hot.getCellMeta(0,t),o=Object.getPrototypeOf(n);return Array.isArray(o.columns)?Object.assign(i,r,this.getPluginColumnConfig(o.columns[t])):Mr(o.columns)?Object.assign(i,r,this.getPluginColumnConfig(o.columns(t))):Object.assign(i,r)}getFirstCellSettings(t){let r=this.hot.getCellMeta(0,t),i=Object.create(r);return i[this.pluginKey]=this.columnMetaCache.getValueAtIndex(this.hot.toPhysicalColumn(t)),i}getNumberOfRowsToSort(t){let r=this.hot.getSettings();return r.maxRows<=t?r.maxRows:t-r.minSpareRows}sortByPresetSortStates(t){if(t.length===0){this.hot.rowIndexMapper.setIndexesSequence(this.indexesSequenceCache.getValues());return}let r=[],i=this.hot.countRows(),n=c=>xi(t,d=>this.hot.getDataAtCell(c,d.column));for(let c=0;c<this.getNumberOfRowsToSort(i);c+=1)r.push([this.hot.toPhysicalRow(c)].concat(n(c)));let o=xi(r,c=>c[0]);R8(r,this.pluginKey,xi(t,c=>c.sortOrder),xi(t,c=>this.getFirstCellSettings(c.column)));for(let c=r.length;c<i;c+=1)r.push([c].concat(n(c)));let s=xi(r,c=>c[0]),a=new Map(xi(o,(c,d)=>[c,s[d]])),l=xi(this.hot.rowIndexMapper.getIndexesSequence(),c=>a.has(c)?a.get(c):c);this.hot.rowIndexMapper.setIndexesSequence(l)}sortBySettings(t){if(gi(t)){this.columnStatesManager.updateAllColumnsProperties(t);let r=t.initialConfig;(Array.isArray(r)||gi(r))&&this.sort(r)}else this.hot.render()}updateHeaderClasses(t){if(pi(t,Ftt(t)),this.enabled!==!1){for(var r=arguments.length,i=new Array(r>1?r-1:0),n=1;n<r;n++)i[n-1]=arguments[n];ne(t,Ltt(...i))}}onUpdateSettings(t){super.onUpdateSettings(),this.columnMetaCache!==null&&this.columnMetaCache.init(this.hot.columnIndexMapper.getNumberOfIndexes()),Ne(t[this.pluginKey])&&this.sortBySettings(t[this.pluginKey])}wasClickableHeaderClicked(t,r){return this.getFirstCellSettings(r)[this.pluginKey].headerAction&&Ze(t.target,M8)}onAfterOnCellMouseDown(t,r){hS(r.row,r.col,t)!==!1&&this.wasClickableHeaderClicked(t,r.col)&&(this.hot.getShortcutManager().isCtrlPressed()&&(this.hot.deselectCell(),this.hot.selectColumns(r.col)),this.sort(this.getColumnNextConfig(r.col)))}destroy(){var t;(t=this.columnStatesManager)===null||t===void 0||t.destroy(),super.destroy()}};function D8(){let e=this.getAllSavedSortSettings();if(gi(e))this.sortBySettings(e);else{let t=this.hot.getSettings()[this.pluginKey];this.sortBySettings(t)}}function MTt(e,t){let r=I8(t);if(k8(e,t)===!1||r===null)return;let i=this.getFirstCellSettings(e)[this.pluginKey],n=i.indicator,o=i.headerAction;if(this.updateHeaderClasses(r,this.columnStatesManager,e,n,o),this.hot.getSettings().ariaTags){let s=this.columnStatesManager.getSortOrderOfColumn(e);Xe(t,...sK(s?`${s}ending`:"none"))}}function ATt(e){e===!0&&this.hot.view&&c_(T0,this,D8).call(this)}function ITt(e,t,r,i){hS(t.row,t.col,e)!==!1&&this.wasClickableHeaderClicked(e,t.col)&&this.hot.getShortcutManager().isCtrlPressed()&&(i.column=!0)}var Abe=ot(Gt(),1);var xbe=ot(Gt(),1),Sbe=ot(we(),1);function A0(e,t,r){return t=kTt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kTt(e){var t=DTt(e,"string");return typeof t=="symbol"?t:t+""}function DTt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var O8=class{constructor(t,r){A0(this,"plugin",void 0),A0(this,"hot",void 0),A0(this,"endpoints",[]),A0(this,"settings",void 0),A0(this,"settingsType","array"),A0(this,"currentEndpoint",null),A0(this,"cellsToSetCache",[]),this.plugin=t,this.hot=this.plugin.hot,this.settings=r}initEndpoints(){this.endpoints=this.parseSettings(),this.refreshAllEndpoints()}getEndpoint(t){return this.settingsType==="function"?this.fillMissingEndpointData(this.settings)[t]:this.endpoints[t]}getAllEndpoints(){return this.settingsType==="function"?this.fillMissingEndpointData(this.settings):this.endpoints}fillMissingEndpointData(t){return this.parseSettings(t.call(this))}parseSettings(t){let r=[],i=t;if(!i&&typeof this.settings=="function"){this.settingsType="function";return}return i||(i=this.settings),Tt(i,n=>{let o={};this.assignSetting(n,o,"ranges",[[0,this.hot.countRows()-1]]),this.assignSetting(n,o,"reversedRowCoords",!1),this.assignSetting(n,o,"destinationRow",new Error(`
        You must provide a destination row for the Column Summary plugin in order to work properly!
      `)),this.assignSetting(n,o,"destinationColumn",new Error(`
        You must provide a destination column for the Column Summary plugin in order to work properly!
      `)),this.assignSetting(n,o,"sourceColumn",n.destinationColumn),this.assignSetting(n,o,"type","sum"),this.assignSetting(n,o,"forceNumeric",!1),this.assignSetting(n,o,"suppressDataTypeErrors",!0),this.assignSetting(n,o,"customFunction",null),this.assignSetting(n,o,"readOnly",!0),this.assignSetting(n,o,"roundFloat",!1),r.push(o)}),r}assignSetting(t,r,i,n){if(i==="ranges"&&t[i]===void 0){r[i]=n;return}else if(i==="ranges"&&t[i].length===0)return;if(t[i]===void 0){if(n instanceof Error)throw n;r[i]=n}else i==="destinationRow"&&r.reversedRowCoords?r[i]=this.hot.countRows()-t[i]-1:r[i]=t[i]}resetSetupBeforeStructureAlteration(t,r,i){if(this.settingsType!=="function")return;let n=t.indexOf("row")>-1?"row":"col",o=this.getAllEndpoints();Tt(o,s=>{n==="row"&&s.destinationRow>=r&&(t==="insert_row"?s.alterRowOffset=i:t==="remove_row"&&(s.alterRowOffset=-1*i)),n==="col"&&s.destinationColumn>=r&&(t==="insert_col"?s.alterColumnOffset=i:t==="remove_col"&&(s.alterColumnOffset=-1*i))}),this.resetAllEndpoints(o,!1)}resetSetupAfterStructureAlteration(t,r,i,n,o){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;if(this.settingsType==="function"){let h=()=>(this.hot.removeHook("beforeViewRender",h),this.refreshAllEndpoints());this.hot.addHookOnce("beforeViewRender",h);return}let a=t.indexOf("row")>-1?"row":"col",l=t.indexOf("remove")>-1?-1:1,c=this.getAllEndpoints(),d=t.indexOf("move_row")===0,u=r;Tt(c,h=>{a==="row"&&h.destinationRow>=u&&(h.alterRowOffset=l*i),a==="col"&&h.destinationColumn>=u&&(h.alterColumnOffset=l*i)}),this.resetAllEndpoints(c,!d),d?Tt(c,h=>{this.extendEndpointRanges(h,u,n[0],n.length),this.recreatePhysicalRanges(h),this.clearOffsetInformation(h)}):Tt(c,h=>{this.shiftEndpointCoordinates(h,u)}),s&&this.refreshAllEndpoints()}clearOffsetInformation(t){t.alterRowOffset=void 0,t.alterColumnOffset=void 0}extendEndpointRanges(t,r,i,n){Tt(t.ranges,o=>{o[1]&&(r>=o[0]&&r<=o[1]?i>o[1]?o[1]+=n:i<o[0]&&(o[0]-=n):i>=o[0]&&i<=o[1]&&(o[1]-=n,r<=o[0]&&(o[0]+=1,o[1]+=1)))})}recreatePhysicalRanges(t){let r=t.ranges,i=[],n=[];Tt(r,o=>{let s=[];if(o[1])for(let a=o[0];a<=o[1];a++)s.push(this.hot.toPhysicalRow(a));else s.push(this.hot.toPhysicalRow(o[0]));n.push(s)}),Tt(n,o=>{let s=[];Tt(o,(a,l)=>{l===0?s.push(a):o[l]!==o[l-1]+1&&(s.push(o[l-1]),i.push(s),s=[],s.push(a)),l===o.length-1&&(s.push(a),i.push(s))})}),t.ranges=i}shiftEndpointCoordinates(t,r){t.alterRowOffset&&t.alterRowOffset!==0?(t.destinationRow+=t.alterRowOffset||0,Tt(t.ranges,i=>{Tt(i,(n,o)=>{n>=r&&(i[o]+=t.alterRowOffset||0)})})):t.alterColumnOffset&&t.alterColumnOffset!==0&&(t.destinationColumn+=t.alterColumnOffset||0,t.sourceColumn+=t.alterColumnOffset||0)}resetAllEndpoints(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getAllEndpoints(),r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;t.some(n=>{let o=n.alterRowOffset||0,s=n.alterColumnOffset||0;return n.destinationRow+o>=this.hot.countRows()||n.destinationColumn+s>=this.hot.countCols()})||(this.cellsToSetCache=[],Tt(t,n=>{this.resetEndpointValue(n,r)}),this.hot.setDataAtCell(this.cellsToSetCache,"ColumnSummary.reset"),this.cellsToSetCache=[])}refreshAllEndpoints(){this.cellsToSetCache=[],Tt(this.getAllEndpoints(),t=>{this.currentEndpoint=t,this.plugin.calculate(t),this.setEndpointValue(t,"init")}),this.currentEndpoint=null,this.hot.setDataAtCell(this.cellsToSetCache,"ColumnSummary.reset"),this.cellsToSetCache=[]}refreshChangedEndpoints(t){let r=[];this.cellsToSetCache=[],Tt(t,(i,n,o)=>{`${i[2]||""}`!=`${i[3]}`&&Tt(this.getAllEndpoints(),(s,a)=>{this.hot.propToCol(o[n][1])===s.sourceColumn&&r.indexOf(a)===-1&&r.push(a)})}),Tt(r,i=>{this.refreshEndpoint(this.getEndpoint(i))}),this.hot.setDataAtCell(this.cellsToSetCache,"ColumnSummary.reset"),this.cellsToSetCache=[]}refreshCellMetas(){this.endpoints.forEach(t=>{let r=this.hot.toVisualRow(t.destinationRow);if(r!==null){let i=this.hot.getCellMeta(r,t.destinationColumn);i.readOnly=t.readOnly,i.className="columnSummaryResult"}})}refreshEndpoint(t){this.currentEndpoint=t,this.plugin.calculate(t),this.setEndpointValue(t),this.currentEndpoint=null}resetEndpointValue(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,i=t.alterRowOffset||0,n=t.alterColumnOffset||0;this.cellsToSetCache.push([this.hot.toVisualRow(t.destinationRow+(r?i:0)),this.hot.toVisualColumn(t.destinationColumn+(r?n:0)),""])}setEndpointValue(t,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=this.hot.toVisualRow(t.destinationRow);if(t.destinationRow>=this.hot.countRows()||t.destinationColumn>=this.hot.countCols()){this.throwOutOfBoundsWarning();return}let o=this.hot.toVisualRow(t.destinationRow);if(o!==null){let s=this.hot.getCellMeta(o,t.destinationColumn);(r==="init"||s.readOnly!==t.readOnly)&&(s.readOnly=t.readOnly,s.className="columnSummaryResult")}if((t.roundFloat===!0||Number.isInteger(t.roundFloat))&&!isNaN(t.result)){let s=t.roundFloat,a=0;Number.isInteger(s)&&(a=Math.min(Math.max(0,s),100)),t.result=t.result.toFixed(a)}i?this.hot.setDataAtCell(n,t.destinationColumn,t.result,"ColumnSummary.set"):this.cellsToSetCache.push([n,t.destinationColumn,t.result]),t.alterRowOffset=void 0,t.alterColumnOffset=void 0}throwOutOfBoundsWarning(){vr("One of the Column Summary plugins' destination points you provided is beyond the table boundaries!")}},ztt=O8;function wI(e){return e==null||isNaN(e)}function OTt(e,t){PTt(e,t),t.add(e)}function PTt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function NTt(e,t,r){return t=LTt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LTt(e){var t=FTt(e,"string");return typeof t=="symbol"?t:t+""}function FTt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CI(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var xI="columnSummary",Utt=220,mS=new WeakSet,pS=class extends vi{constructor(){super(...arguments),OTt(this,mS),NTt(this,"endpoints",null)}static get PLUGIN_KEY(){return xI}static get PLUGIN_PRIORITY(){return Utt}isEnabled(){return!!this.hot.getSettings()[xI]}enablePlugin(){var t=this;this.enabled||(this.settings=this.hot.getSettings()[xI],this.endpoints=new ztt(this,this.settings),this.addHook("afterInit",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return CI(mS,t,HTt).call(t,...i)}),this.addHook("afterChange",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return CI(mS,t,jTt).call(t,...i)}),this.addHook("afterUpdateSettings",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return CI(mS,t,BTt).call(t,...i)}),this.addHook("beforeCreateRow",(r,i,n)=>this.endpoints.resetSetupBeforeStructureAlteration("insert_row",r,i,null,n)),this.addHook("beforeCreateCol",(r,i,n)=>this.endpoints.resetSetupBeforeStructureAlteration("insert_col",r,i,null,n)),this.addHook("beforeRemoveRow",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return t.endpoints.resetSetupBeforeStructureAlteration("remove_row",...i)}),this.addHook("beforeRemoveCol",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return t.endpoints.resetSetupBeforeStructureAlteration("remove_col",...i)}),this.addHook("afterCreateRow",(r,i,n)=>this.endpoints.resetSetupAfterStructureAlteration("insert_row",r,i,null,n)),this.addHook("afterCreateCol",(r,i,n)=>this.endpoints.resetSetupAfterStructureAlteration("insert_col",r,i,null,n)),this.addHook("afterRemoveRow",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return t.endpoints.resetSetupAfterStructureAlteration("remove_row",...i)}),this.addHook("afterRemoveCol",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return t.endpoints.resetSetupAfterStructureAlteration("remove_col",...i)}),this.addHook("afterRowMove",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return CI(mS,t,VTt).call(t,...i)}),super.enablePlugin())}disablePlugin(){this.endpoints=null,this.settings=null,this.currentEndpoint=null,super.disablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),this.endpoints.initEndpoints(),super.updatePlugin()}calculate(t){switch(t.type.toLowerCase()){case"sum":t.result=this.calculateSum(t);break;case"min":t.result=this.calculateMinMax(t,t.type);break;case"max":t.result=this.calculateMinMax(t,t.type);break;case"count":t.result=this.countEntries(t);break;case"average":t.result=this.calculateAverage(t);break;case"custom":t.result=t.customFunction.call(this,t);break;default:break}}calculateSum(t){let r=0;return bi(t.ranges,i=>{r+=this.getPartialSum(i,t.sourceColumn)}),r}getPartialSum(t,r){let i=0,n=t[1]||t[0],o=null,s=0;do{if(o=this.getCellValue(n,r),o=wI(o)?null:o,o!==null){let a=(`${o}`.split(".")[1]||[]).length||1;a>s&&(s=a)}i+=o||0,n-=1}while(n>=t[0]);return Math.round(i*10**s)/10**s}calculateMinMax(t,r){let i=null;return bi(t.ranges,n=>{let o=this.getPartialMinMax(n,t.sourceColumn,r);if(i===null&&o!==null&&(i=o),o!==null)switch(r){case"min":i=Math.min(i,o);break;case"max":i=Math.max(i,o);break;default:break}}),i===null?"Not enough data":i}getPartialMinMax(t,r,i){let n=null,o=t[1]||t[0],s;do{if(s=this.getCellValue(o,r),s=wI(s)?null:s,n===null)n=s;else if(s!==null)switch(i){case"min":n=Math.min(n,s);break;case"max":n=Math.max(n,s);break;default:break}o-=1}while(o>=t[0]);return n}countEmpty(t,r){let i,n=0,o=t[1]||t[0];do i=this.getCellValue(o,r),i=wI(i)?null:i,i===null&&(n+=1),o-=1;while(o>=t[0]);return n}countEntries(t){let r=0,i=t.ranges;return bi(i,n=>{let o=n[1]===void 0?1:n[1]-n[0]+1,s=this.countEmpty(n,t.sourceColumn);r+=o,r-=s}),r}calculateAverage(t){let r=this.calculateSum(t),i=this.countEntries(t);return r/i}getCellValue(t,r){let i=this.hot.toVisualRow(t),n=this.hot.toVisualColumn(r),o=this.hot.getSourceDataAtCell(t,r),s="";if(i!==null&&n!==null&&(s=this.hot.getCellMeta(i,n).className||""),s.indexOf("columnSummaryResult")>-1)return null;if(this.endpoints.currentEndpoint.forceNumeric&&(typeof o=="string"&&(o=o.replace(/,/,".")),o=parseFloat(o)),isNaN(o)&&!this.endpoints.currentEndpoint.suppressDataTypeErrors)throw new Error(Gi`ColumnSummary plugin: cell at (${t}, ${r}) is not in a\x20
          numeric format. Cannot do the calculation.`);return o}};function HTt(){this.endpoints.initEndpoints()}function BTt(e){e.columns!==void 0&&this.endpoints.refreshCellMetas()}function jTt(e,t){e&&t!=="ColumnSummary.reset"&&t!=="ColumnSummary.set"&&t!=="loadData"&&this.endpoints.refreshChangedEndpoints(e)}function VTt(e,t){this.endpoints.resetSetupBeforeStructureAlteration("move_row",e[0],e.length,e,this.pluginName),this.endpoints.resetSetupAfterStructureAlteration("move_row",t,e.length,e,this.pluginName)}var $ve=ot(Gt(),1),Gve=ot(we(),1);var Hbe=ot(Gt(),1);function u_(e,t,r){return t=zTt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zTt(e){var t=UTt(e,"string");return typeof t=="symbol"?t:t+""}function UTt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var P8=class e{static get CLASS_EDITOR_CONTAINER(){return"htCommentsContainer"}static get CLASS_EDITOR(){return"htComments"}static get CLASS_INPUT(){return"htCommentTextArea"}static get CLASS_CELL(){return"htCommentCell"}constructor(t,r){u_(this,"rootDocument",void 0),u_(this,"isRtl",!1),u_(this,"container",null),u_(this,"editor",void 0),u_(this,"editorStyle",void 0),u_(this,"hidden",!0),this.rootDocument=t,this.isRtl=r,this.editor=this.createEditor(),this.editorStyle=this.editor.style,this.hide()}setPosition(t,r){this.editorStyle.left=`${t}px`,this.editorStyle.top=`${r}px`}setSize(t,r){if(t&&r){let i=this.getInputElement();i.style.width=`${t}px`,i.style.height=`${r}px`}}getSize(){return{width:wr(this.getInputElement()),height:Fr(this.getInputElement())}}resetSize(){let t=this.getInputElement();t.style.width="",t.style.height=""}setReadOnlyState(t){let r=this.getInputElement();r.readOnly=t}show(){this.editorStyle.display="block",this.hidden=!1}hide(){this.hidden||(this.editorStyle.display="none"),this.hidden=!0}isVisible(){return this.editorStyle.display==="block"}setValue(){let r=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"")||"";this.getInputElement().value=r}getValue(){return this.getInputElement().value}isFocused(){return this.rootDocument.activeElement===this.getInputElement()}focus(){this.getInputElement().focus()}createEditor(){let t=this.rootDocument.createElement("div"),r=this.rootDocument.createElement("textarea");return t.style.display="none",this.container=this.rootDocument.createElement("div"),this.container.setAttribute("dir",this.isRtl?"rtl":"ltr"),ne(this.container,e.CLASS_EDITOR_CONTAINER),this.rootDocument.body.appendChild(this.container),ne(t,e.CLASS_EDITOR),ne(r,e.CLASS_INPUT),r.setAttribute("data-hot-input",!0),t.appendChild(r),this.container.appendChild(t),t}getInputElement(){return this.editor.querySelector(`.${e.CLASS_INPUT}`)}destroy(){let t=this.container?this.container.parentNode:null;this.editor.parentNode.removeChild(this.editor),this.editor=null,this.editorStyle=null,t&&t.removeChild(this.container)}},Wtt=P8;var Vbe=ot(Gt(),1);function N8(e,t,r){return t=WTt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WTt(e){var t=YTt(e,"string");return typeof t=="symbol"?t:t+""}function YTt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qTt=250,$Tt=250,SI=class{constructor(t){N8(this,"wasLastActionShow",!0),N8(this,"showDebounced",null),N8(this,"hidingTimer",null),this.updateDelay(t)}hide(){this.wasLastActionShow=!1,this.hidingTimer=setTimeout(()=>{this.wasLastActionShow===!1&&this.runLocalHooks("hide")},$Tt)}show(t){this.wasLastActionShow=!0,this.showDebounced(t)}cancelHiding(){this.wasLastActionShow=!0,clearTimeout(this.hidingTimer),this.hidingTimer=null}updateDelay(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:qTt;this.showDebounced=ny(r=>{this.wasLastActionShow&&this.runLocalHooks("show",r.from.row,r.from.col)},t)}destroy(){this.clearLocalHooks()}};Zi(SI,jn);var Ytt=SI;function GTt(e,t){return e.indexOf(t)!==-1?e:`${e.replace("htTop","").replace("htMiddle","").replace("htBottom","").replace("  ","")} ${t}`}function KTt(e,t){return e.indexOf(t)!==-1?e:`${e.replace("htLeft","").replace("htCenter","").replace("htRight","").replace("htJustify","").replace("  ","")} ${t}`}function Sp(e,t){let r={};return Tt(e,i=>{i.forAll((n,o)=>{n>=0&&o>=0&&(r[n]||(r[n]=[]),r[n][o]=t(n,o))})}),r}function oh(e,t,r,i,n){Tt(e,o=>{o.forAll((s,a)=>{s>=0&&a>=0&&XTt(s,a,t,r,i,n)})})}function XTt(e,t,r,i,n,o){let s=n(e,t),a=i;s.className&&(r==="vertical"?a=GTt(s.className,i):a=KTt(s.className,i)),o(e,t,"className",a)}function Xc(e){return`<span class="selected">\u2713</span>${e}`}function rc(e,t){let r=!1;return Array.isArray(e)&&Tt(e,i=>(i.forAll((n,o)=>{if(n>=0&&o>=0&&t(n,o))return r=!0,!1}),r)),r}function h_(e,t){let r={top:0,left:0};if(t!==e.ownerDocument){let{frameElement:i}=t.defaultView,{top:n,left:o}=i.getBoundingClientRect();r.top=n,r.left=o}return r}var Pi="---------";function L8(){return{name:Pi}}var Ea="alignment";function F8(){return{key:Ea,name(){return this.getTranslatedPhrase(Bx)},disabled(){if(this.countRows()===0||this.countCols()===0)return!0;let e=this.getSelectedRangeLast();return!e||e.isSingleHeader()?!0:!(this.getSelectedRange()&&!this.selection.isSelectedByCorner())},submenu:{items:[{key:`${Ea}:left`,name(){let e=this.getTranslatedPhrase(jx);return rc(this.getSelectedRange(),(r,i)=>{let n=this.getCellMeta(r,i).className;if(n&&n.indexOf("htLeft")!==-1)return!0})&&(e=Xc(e)),e},callback(){let e=this.getSelectedRange(),t=Sp(e,(n,o)=>this.getCellMeta(n,o).className),r="horizontal",i="htLeft";this.runHooks("beforeCellAlignment",t,e,r,i),oh(e,r,i,(n,o)=>this.getCellMeta(n,o),(n,o,s,a)=>this.setCellMeta(n,o,s,a)),this.render()},disabled:!1},{key:`${Ea}:center`,name(){let e=this.getTranslatedPhrase(Vx);return rc(this.getSelectedRange(),(r,i)=>{let n=this.getCellMeta(r,i).className;if(n&&n.indexOf("htCenter")!==-1)return!0})&&(e=Xc(e)),e},callback(){let e=this.getSelectedRange(),t=Sp(e,(n,o)=>this.getCellMeta(n,o).className),r="horizontal",i="htCenter";this.runHooks("beforeCellAlignment",t,e,r,i),oh(e,r,i,(n,o)=>this.getCellMeta(n,o),(n,o,s,a)=>this.setCellMeta(n,o,s,a)),this.render()},disabled:!1},{key:`${Ea}:right`,name(){let e=this.getTranslatedPhrase(zx);return rc(this.getSelectedRange(),(r,i)=>{let n=this.getCellMeta(r,i).className;if(n&&n.indexOf("htRight")!==-1)return!0})&&(e=Xc(e)),e},callback(){let e=this.getSelectedRange(),t=Sp(e,(n,o)=>this.getCellMeta(n,o).className),r="horizontal",i="htRight";this.runHooks("beforeCellAlignment",t,e,r,i),oh(e,r,i,(n,o)=>this.getCellMeta(n,o),(n,o,s,a)=>this.setCellMeta(n,o,s,a)),this.render()},disabled:!1},{key:`${Ea}:justify`,name(){let e=this.getTranslatedPhrase(Ux);return rc(this.getSelectedRange(),(r,i)=>{let n=this.getCellMeta(r,i).className;if(n&&n.indexOf("htJustify")!==-1)return!0})&&(e=Xc(e)),e},callback(){let e=this.getSelectedRange(),t=Sp(e,(n,o)=>this.getCellMeta(n,o).className),r="horizontal",i="htJustify";this.runHooks("beforeCellAlignment",t,e,r,i),oh(e,r,i,(n,o)=>this.getCellMeta(n,o),(n,o,s,a)=>this.setCellMeta(n,o,s,a)),this.render()},disabled:!1},{name:Pi},{key:`${Ea}:top`,name(){let e=this.getTranslatedPhrase(Wx);return rc(this.getSelectedRange(),(r,i)=>{let n=this.getCellMeta(r,i).className;if(n&&n.indexOf("htTop")!==-1)return!0})&&(e=Xc(e)),e},callback(){let e=this.getSelectedRange(),t=Sp(e,(n,o)=>this.getCellMeta(n,o).className),r="vertical",i="htTop";this.runHooks("beforeCellAlignment",t,e,r,i),oh(e,r,i,(n,o)=>this.getCellMeta(n,o),(n,o,s,a)=>this.setCellMeta(n,o,s,a)),this.render()},disabled:!1},{key:`${Ea}:middle`,name(){let e=this.getTranslatedPhrase(Yx);return rc(this.getSelectedRange(),(r,i)=>{let n=this.getCellMeta(r,i).className;if(n&&n.indexOf("htMiddle")!==-1)return!0})&&(e=Xc(e)),e},callback(){let e=this.getSelectedRange(),t=Sp(e,(n,o)=>this.getCellMeta(n,o).className),r="vertical",i="htMiddle";this.runHooks("beforeCellAlignment",t,e,r,i),oh(e,r,i,(n,o)=>this.getCellMeta(n,o),(n,o,s,a)=>this.setCellMeta(n,o,s,a)),this.render()},disabled:!1},{key:`${Ea}:bottom`,name(){let e=this.getTranslatedPhrase(qx);return rc(this.getSelectedRange(),(r,i)=>{let n=this.getCellMeta(r,i).className;if(n&&n.indexOf("htBottom")!==-1)return!0})&&(e=Xc(e)),e},callback(){let e=this.getSelectedRange(),t=Sp(e,(n,o)=>this.getCellMeta(n,o).className),r="vertical",i="htBottom";this.runHooks("beforeCellAlignment",t,e,r,i),oh(e,r,i,(n,o)=>this.getCellMeta(n,o),(n,o,s,a)=>this.setCellMeta(n,o,s,a)),this.render()},disabled:!1}]}}}var I0="clear_column";function H8(){return{key:I0,name(){return this.getTranslatedPhrase(Ex)},callback(e,t){let r=t[0].start.col,i=t[0].end.col;this.countRows()&&this.populateFromArray(0,r,[[null]],Math.max(t[0].start.row,t[0].end.row),i,"ContextMenu.clearColumn")},disabled(){let e=this.getSelectedRangeLast();return!e||e.isSingleHeader()&&e.highlight.col<0?!0:!this.selection.isSelectedByColumnHeader()}}}var xf="col_left";function B8(){return{key:xf,name(){return this.getTranslatedPhrase(vx)},callback(){let e=this.getSelectedRangeLast().getTopLeftCorner(),t=this.isRtl()?"insert_col_end":"insert_col_start";this.alter(t,e.col,1,"ContextMenu.columnLeft")},disabled(){if(!this.isColumnModificationAllowed())return!0;let e=this.getSelectedRangeLast();return!e||e.isSingleHeader()&&e.highlight.col<0?!0:this.selection.isSelectedByCorner()?this.countCols()===0:this.selection.isSelectedByRowHeader()||this.countCols()>=this.getSettings().maxCols},hidden(){return!this.getSettings().allowInsertColumn}}}var Sf="col_right";function j8(){return{key:Sf,name(){return this.getTranslatedPhrase(yx)},callback(){let e=this.getSelectedRangeLast().getTopRightCorner(),t=this.isRtl()?"insert_col_start":"insert_col_end";this.alter(t,e.col,1,"ContextMenu.columnRight")},disabled(){if(!this.isColumnModificationAllowed())return!0;let e=this.getSelectedRangeLast();return!e||e.isSingleHeader()&&e.highlight.col<0?!0:this.selection.isSelectedByCorner()?!1:this.selection.isSelectedByRowHeader()||this.countCols()>=this.getSettings().maxCols},hidden(){return!this.getSettings().allowInsertColumn}}}var Ef="make_read_only";function V8(){return{key:Ef,name(){let e=this.getTranslatedPhrase(Sx);return rc(this.getSelectedRange(),(r,i)=>this.getCellMeta(r,i).readOnly)&&(e=Xc(e)),e},callback(){let e=this.getSelectedRange(),t=rc(e,(r,i)=>this.getCellMeta(r,i).readOnly);Tt(e,r=>{r.forAll((i,n)=>{i>=0&&n>=0&&this.setCellMeta(i,n,"readOnly",!t)})}),this.render()},disabled(){let e=this.getSelectedRangeLast();return!!(!e||e.isSingleHeader()||this.selection.isSelectedByCorner()||this.countRows()===0||this.countCols()===0||!this.getSelectedRange()||this.getSelectedRange().length===0)}}}var k0="redo";function z8(){return{key:k0,name(){return this.getTranslatedPhrase(xx)},callback(){this.redo()},hidden(){let e=this.getPlugin("undoRedo");return!e||!e.isEnabled()},disabled(){return!this.getPlugin("undoRedo").isRedoAvailable()}}}var Rf="remove_col";function U8(){return{key:Rf,name(){let e=this.getSelected(),t=0;if(e)if(e.length>1)t=1;else{let[,r,,i]=e[0];r-i!==0&&(t=1)}return this.getTranslatedPhrase(wx,t)},callback(){this.alter("remove_col",QZ(this),null,"ContextMenu.removeColumn")},disabled(){if(!this.isColumnModificationAllowed())return!0;let e=this.getSelectedRangeLast();if(!e||e.isSingleHeader()&&e.highlight.col<0)return!0;let t=this.countCols();return this.selection.isSelectedByCorner()?t===0:this.selection.isSelectedByRowHeader()||t===0},hidden(){return!this.getSettings().allowRemoveColumn}}}var D0="remove_row";function W8(){return{key:D0,name(){let e=this.getSelected(),t=0;if(e)if(e.length>1)t=1;else{let[r,,i]=e[0];r-i!==0&&(t=1)}return this.getTranslatedPhrase(_x,t)},callback(){this.alter("remove_row",JZ(this),1,"ContextMenu.removeRow")},disabled(){let e=this.getSelectedRangeLast();if(!e||e.isSingleHeader()&&e.highlight.row<0)return!0;let t=this.countRows();return this.selection.isSelectedByCorner()?t===0:this.selection.isSelectedByColumnHeader()||t===0},hidden(){return!this.getSettings().allowRemoveRow}}}var O0="row_above";function Y8(){return{key:O0,name(){return this.getTranslatedPhrase(gx)},callback(){let e=this.getSelectedRangeLast().getTopLeftCorner();this.alter("insert_row_above",e.row,1,"ContextMenu.rowAbove")},disabled(){let e=this.getSelectedRangeLast();return!e||e.isSingleHeader()&&e.highlight.row<0?!0:this.selection.isSelectedByCorner()?this.countRows()===0:this.selection.isSelectedByColumnHeader()||this.countRows()>=this.getSettings().maxRows},hidden(){return!this.getSettings().allowInsertRow}}}var P0="row_below";function q8(){return{key:P0,name(){return this.getTranslatedPhrase(bx)},callback(){let e=this.getSelectedRangeLast().getBottomRightCorner();this.alter("insert_row_below",e.row,1,"ContextMenu.rowBelow")},disabled(){let e=this.getSelectedRangeLast();return!e||e.isSingleHeader()&&e.highlight.row<0?!0:this.selection.isSelectedByCorner()?!1:this.selection.isSelectedByColumnHeader()||this.countRows()>=this.getSettings().maxRows},hidden(){return!this.getSettings().allowInsertRow}}}var Ep="no_items";function $8(){return{key:Ep,name(){return this.getTranslatedPhrase(px)},disabled:!0,isCommand:!1}}var N0="undo";function G8(){return{key:N0,name(){return this.getTranslatedPhrase(Cx)},callback(){this.undo()},hidden(){let e=this.getPlugin("undoRedo");return!e||!e.isEnabled()},disabled(){return!this.getPlugin("undoRedo").isUndoAvailable()}}}var qtt=[O0,P0,xf,Sf,I0,D0,Rf,N0,k0,Ef,Ea,Pi,Ep],ZTt={[Pi]:L8,[Ep]:$8,[O0]:Y8,[P0]:q8,[xf]:B8,[Sf]:j8,[I0]:H8,[D0]:W8,[Rf]:U8,[N0]:G8,[k0]:z8,[Ef]:V8,[Ea]:F8};function EI(){let e={};return bi(ZTt,(t,r)=>{e[r]=t()}),e}function K8(e){return{key:"commentsAddEdit",name(){var t;let r=(t=this.getSelectedRangeLast())===null||t===void 0?void 0:t.highlight;return r!=null&&r.isCell()&&e.getCommentAtCell(r.row,r.col)?this.getTranslatedPhrase(Lx):this.getTranslatedPhrase(Nx)},callback(){let t=this.getSelectedRangeLast();e.setRange(t),e.show(),e.focusEditor()},disabled(){let t=this.getSelectedRangeLast();return!!(!t||t.highlight.isHeader()||this.selection.isEntireRowSelected()&&this.selection.isEntireColumnSelected()||this.countRenderedRows()===0||this.countRenderedCols()===0)}}}function X8(e){return{key:"commentsRemove",name(){return this.getTranslatedPhrase(Fx)},callback(){this.getSelectedRangeLast().forAll((r,i)=>{r>=0&&i>=0&&e.removeCommentAtCell(r,i,!1)}),this.render()},disabled(){let t=this.getSelectedRangeLast();return!!(!t||t.highlight.isHeader()||this.selection.isEntireRowSelected()&&this.selection.isEntireColumnSelected()||this.countRenderedRows()===0||this.countRenderedCols()===0)}}}function Z8(e){return{key:"commentsReadOnly",name(){let t=this.getTranslatedPhrase(Hx);return rc(this.getSelectedRange(),(i,n)=>e.getCommentMeta(i,n,gS))?Xc(t):t},callback(){this.getSelectedRangeLast().forAll((r,i)=>{if(r>=0&&i>=0){let n=!!e.getCommentMeta(r,i,gS);e.updateCommentMeta(r,i,{[gS]:!n})}})},disabled(){let t=this.getSelectedRangeLast();return!!(!t||t.highlight.isHeader()||!e.getCommentAtCell(t.highlight.row,t.highlight.col)||this.selection.isEntireRowSelected()&&this.selection.isEntireColumnSelected()||this.countRenderedRows()===0||this.countRenderedCols()===0)}}}function QTt(e,t){$tt(e,t),t.add(e)}function L0(e,t,r){$tt(e,t),t.set(e,r)}function $tt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function JTt(e,t,r){return t=t5t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t5t(e){var t=e5t(e,"string");return typeof t=="symbol"?t:t+""}function e5t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mf(e,t,r){return e.set(Zc(e,t),r),r}function Rr(e,t){return e.get(Zc(e,t))}function Zc(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var f_="comments",Gtt=60,Tf="comment",bS="value",Ktt="style",gS="readOnly",RI=f_,Q8=`plugin:${f_}`,Zn=new WeakMap,zd=new WeakMap,II=new WeakMap,TI=new WeakMap,MI=new WeakMap,J8=new WeakMap,AI=new WeakMap,Vd=new WeakSet,vS=class extends vi{constructor(){super(...arguments),QTt(this,Vd),JTt(this,"range",{}),L0(this,Zn,null),L0(this,zd,null),L0(this,II,!1),L0(this,TI,!1),L0(this,MI,{}),L0(this,J8,null),L0(this,AI,"")}static get PLUGIN_KEY(){return f_}static get PLUGIN_PRIORITY(){return Gtt}isEnabled(){return!!this.hot.getSettings()[f_]}enablePlugin(){this.enabled||(Rr(Zn,this)||Mf(Zn,this,new Wtt(this.hot.rootDocument,this.hot.isRtl())),Rr(zd,this)||Mf(zd,this,new Ytt(this.getDisplayDelaySetting())),this.addHook("afterContextMenuDefaultOptions",t=>this.addToContextMenu(t)),this.addHook("afterRenderer",(t,r,i,n,o,s)=>Zc(Vd,this,o5t).call(this,t,s)),this.addHook("afterScroll",()=>Zc(Vd,this,u5t).call(this)),this.addHook("afterBeginEditing",()=>this.hide()),this.addHook("afterDocumentKeyDown",t=>Zc(Vd,this,d5t).call(this,t)),Rr(zd,this).addLocalHook("hide",()=>this.hide()),Rr(zd,this).addLocalHook("show",(t,r)=>this.showAtCell(t,r)),this.registerShortcuts(),this.registerListeners(),super.enablePlugin())}updatePlugin(){Rr(zd,this).updateDelay(this.getDisplayDelaySetting()),super.updatePlugin()}disablePlugin(){this.unregisterShortcuts(),super.disablePlugin()}registerShortcuts(){let t=this.hot.getShortcutManager(),r=t.getContext("grid"),i=t.addContext(Q8);r.addShortcut({keys:[["Control","Alt","M"]],callback:()=>{let n=this.hot.getSelectedRangeLast();Mf(TI,this,!0),this.hot.scrollToFocusedCell(()=>{this.setRange(n),this.show(),this.focusEditor(),t.setActiveContextName(Q8),this.hot._registerTimeout(()=>{Mf(TI,this,!1)})})},stopPropagation:!0,runOnlyIf:()=>{var n;return((n=this.hot.getSelectedRangeLast())===null||n===void 0?void 0:n.highlight.isCell())&&!Rr(Zn,this).isVisible()},group:RI}),i.addShortcut({keys:[["Escape"]],callback:()=>{Rr(Zn,this).setValue(Rr(AI,this)),this.hide(),t.setActiveContextName("grid")},runOnlyIf:()=>Rr(Zn,this).isVisible()&&Rr(Zn,this).isFocused(),group:RI}),i.addShortcut({keys:[["Control/Meta","Enter"]],callback:()=>{this.hide(),t.setActiveContextName("grid")},runOnlyIf:()=>Rr(Zn,this).isVisible()&&Rr(Zn,this).isFocused(),group:RI})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(RI)}registerListeners(){let{rootDocument:t}=this.hot,r=this.getEditorInputElement();this.eventManager.addEventListener(t,"mouseover",i=>Zc(Vd,this,r5t).call(this,i)),this.eventManager.addEventListener(t,"mousedown",i=>Zc(Vd,this,i5t).call(this,i)),this.eventManager.addEventListener(t,"mouseup",()=>Zc(Vd,this,n5t).call(this)),this.eventManager.addEventListener(r,"focus",()=>Zc(Vd,this,a5t).call(this)),this.eventManager.addEventListener(r,"blur",()=>Zc(Vd,this,s5t).call(this)),this.eventManager.addEventListener(r,"mousedown",i=>Zc(Vd,this,l5t).call(this,i)),this.eventManager.addEventListener(r,"mouseup",i=>Zc(Vd,this,c5t).call(this,i))}setRange(t){this.range=t}clearRange(){this.range={}}targetIsCellWithComment(t){let r=Md(t.target,"TD","TBODY");return!!(r&&Ze(r,"htCommentCell")&&Md(r,[this.hot.rootElement]))}targetIsCommentTextArea(t){return this.getEditorInputElement()===t.target}setComment(t){if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');let r=Rr(Zn,this).getValue(),i="";t!=null?i=t:r!=null&&(i=r);let n=this.range.from.row,o=this.range.from.col;this.updateCommentMeta(n,o,{[bS]:i}),this.hot.render()}setCommentAtCell(t,r,i){this.setRange({from:this.hot._createCellCoords(t,r)}),this.setComment(i)}removeComment(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');this.hot.setCellMeta(this.range.from.row,this.range.from.col,Tf),t&&this.hot.render(),this.hide()}removeCommentAtCell(t,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;this.setRange({from:this.hot._createCellCoords(t,r)}),this.removeComment(i)}getComment(){let t=this.range.from.row,r=this.range.from.col;return this.getCommentMeta(t,r,bS)}getCommentAtCell(t,r){return this.getCommentMeta(t,r,bS)}show(){var t;if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');let{from:{row:r,col:i}}=this.range;if(r<0||r>this.hot.countSourceRows()-1||i<0||i>this.hot.countSourceCols()-1)return!1;let n=this.hot.getCellMeta(this.range.from.row,this.range.from.col);return Rr(zd,this).cancelHiding(),Rr(Zn,this).setValue((t=n[Tf]?n[Tf][bS]:null)!==null&&t!==void 0?t:""),Rr(Zn,this).show(),this.refreshEditor(!0),!0}showAtCell(t,r){return this.setRange({from:this.hot._createCellCoords(t,r)}),this.show()}hide(){Rr(Zn,this).hide()}refreshEditor(){var t,r;if(!(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&(!this.range.from||!Rr(Zn,this).isVisible()))return;let{rowIndexMapper:n,columnIndexMapper:o}=this.hot,{row:s,col:a}=this.range.from,l=n.getRenderableFromVisualIndex(s),c=o.getRenderableFromVisualIndex(a),d=l===null;Rr(Zn,this).setPosition(0,0),l===null&&(l=n.getRenderableFromVisualIndex(n.getNearestNotHiddenIndex(s,-1))),c===null&&(c=o.getRenderableFromVisualIndex(o.getNearestNotHiddenIndex(a,-1)));let u=l===null,h=c===null;l=(t=l)!==null&&t!==void 0?t:0,c=(r=c)!==null&&r!==void 0?r:0;let{rootWindow:f,view:{_wt:m}}=this.hot,{wtTable:g}=m,p=m.getCell({row:l,col:c},!0),b=this.getCommentMeta(s,a,Ktt);b?Rr(Zn,this).setSize(b.width,b.height):Rr(Zn,this).resetSize();let _=h?0:g.getStretchedColumnWidth(c),E=d&&!u?Fr(p):0,{left:O,top:V,width:H,height:F}=p.getBoundingClientRect(),{width:L,height:$}=Rr(Zn,this).getSize(),{innerWidth:W,innerHeight:x}=this.hot.rootWindow,R=this.hot.rootDocument.documentElement,B=O+f.scrollX+_,v=V+f.scrollY+E;this.hot.isRtl()&&(B-=L+_),this.hot.isLtr()&&O+H+L>W?B=O+f.scrollX-L-1:this.hot.isRtl()&&B<-(R.scrollWidth-R.clientWidth)&&(B=O+f.scrollX+_+1),V+$>x&&(v-=$-F+1),Rr(Zn,this).setPosition(B,v),Rr(Zn,this).setReadOnlyState(this.getCommentMeta(s,a,gS))}focusEditor(){Rr(Zn,this).focus()}updateCommentMeta(t,r,i){let n=this.hot.getCellMeta(t,r)[Tf],o;n?(o=jo(n),Jg(o,i)):o=i,this.hot.setCellMeta(t,r,Tf,o)}getCommentMeta(t,r,i){let n=this.hot.getCellMeta(t,r);if(n[Tf])return n[Tf][i]}addToContextMenu(t){t.items.push({name:Pi},K8(this),X8(this),Z8(this))}getDisplayDelaySetting(){let t=this.hot.getSettings()[f_];if(gi(t))return t.displayDelay}getEditorInputElement(){return Rr(Zn,this).getInputElement()}destroy(){Rr(Zn,this)&&Rr(Zn,this).destroy(),Rr(zd,this)&&Rr(zd,this).destroy(),super.destroy()}};function i5t(e){if(!(!this.hot.view||!this.hot.view._wt)&&!Rr(II,this)&&!this.targetIsCommentTextArea(e)){let t=Md(e.target,"TD","TBODY"),r=null;t&&(r=this.hot.getCoords(t)),(!t||this.range.from&&r&&(this.range.from.row!==r.row||this.range.from.col!==r.col))&&this.hide()}}function r5t(e){let{rootDocument:t}=this.hot;if(!(Rr(II,this)||Rr(Zn,this).isFocused()||Ze(e.target,"wtBorder")||Rr(J8,this)===e.target||!Rr(Zn,this)))if(Mf(J8,this,t.elementFromPoint(e.clientX,e.clientY)),this.targetIsCellWithComment(e)){let r=this.hot._createCellRange(this.hot.getCoords(e.target));Rr(zd,this).show(r)}else Ad(e.target,t)&&!this.targetIsCommentTextArea(e)&&Rr(zd,this).hide()}function n5t(){Mf(II,this,!1)}function o5t(e,t){t[Tf]&&t[Tf][bS]&&ne(e,t.commentedCellClassName)}function s5t(){Mf(AI,this,""),this.hot.getShortcutManager().setActiveContextName("grid"),this.setComment()}function a5t(){Mf(AI,this,this.getComment()),this.hot.listen(),this.hot.getShortcutManager().setActiveContextName(Q8)}function l5t(e){Mf(MI,this,{width:wr(e.target),height:Fr(e.target)})}function c5t(e){let t=wr(e.target),r=Fr(e.target);(t!==Rr(MI,this).width+1||r!==Rr(MI,this).height+2)&&this.updateCommentMeta(this.range.from.row,this.range.from.col,{[Ktt]:{width:t,height:r}})}function d5t(e){Rr(Zn,this).isVisible()&&Vo(e)}function u5t(){Rr(TI,this)||this.hide()}var y_e=ot(Gt(),1);var uye=ot(Gt(),1),hye=ot(we(),1),fye=ot(Jtt(),1);function tF(e,t,r){return t=C5t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C5t(e){var t=x5t(e,"string");return typeof t=="symbol"?t:t+""}function x5t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var m_=class{constructor(t){tF(this,"hot",void 0),tF(this,"commands",{}),tF(this,"commonCallback",null),this.hot=t}registerCommand(t,r){this.commands[t]=r}setCommonCallback(t){this.commonCallback=t}execute(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),n=1;n<r;n++)i[n-1]=arguments[n];let o=t.split(":"),s=o[0],a=o.length===2?o[1]:null,l=this.commands[s];if(!l)throw new Error(`Menu command '${s}' not exists.`);if(a&&l.submenu&&(l=S5t(a,l.submenu.items)),l.disabled===!0||typeof l.disabled=="function"&&l.disabled.call(this.hot)===!0||en(l,"submenu"))return;let c=[];typeof l.callback=="function"&&c.push(l.callback),typeof this.commonCallback=="function"&&c.push(this.commonCallback),i.unshift(o.join(":")),Tt(c,d=>d.apply(this.hot,i))}};function S5t(e,t){let r;return Tt(t,i=>{let n=i.key?i.key.split(":"):null;if(Array.isArray(n)&&n[1]===e)return r=i,!1}),r}var bye=ot(Gt(),1),vye=ot(we(),1);function eF(e,t,r){return t=E5t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E5t(e){var t=R5t(e,"string");return typeof t=="symbol"?t:t+""}function R5t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var p_=class{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;eF(this,"hot",void 0),eF(this,"predefinedItems",EI()),eF(this,"defaultOrderPattern",void 0),this.hot=t,this.defaultOrderPattern=r}setPredefinedItems(t){let r={};this.defaultOrderPattern.length=0,bi(t,(i,n)=>{let o="";i.name===Pi?(r[Pi]=i,o=Pi):isNaN(parseInt(n,10))?(i.key=i.key===void 0?n:i.key,r[n]=i,o=i.key):(r[i.key]=i,o=i.key),this.defaultOrderPattern.push(o)}),this.predefinedItems=r}getItems(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return T5t(t,this.defaultOrderPattern,this.predefinedItems)}};function T5t(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=[],n=e;return n&&n.items?n=n.items:Array.isArray(n)||(n=t),gi(n)?bi(n,(o,s)=>{let a=r[typeof o=="string"?o:s];a||(a=o),gi(o)?Wr(a,o):typeof a=="string"&&(a={name:a}),a.key===void 0&&(a.key=s),i.push(a)}):Tt(n,(o,s)=>{let a=r[o];!a&&qtt.indexOf(o)>=0||(a||(a={name:o,key:`${s}`}),gi(o)&&Wr(a,o),a.key===void 0&&(a.key=s),i.push(a))}),i}var t_e=ot(Gt(),1),e_e=ot(we(),1);var Eye=ot(Gt(),1);var xye=ot(Gt(),1);function Rp(e,t,r){return t=M5t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M5t(e){var t=A5t(e,"string");return typeof t=="symbol"?t:t+""}function A5t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kI=class{constructor(t,r){Rp(this,"top",void 0),Rp(this,"topRelative",void 0),Rp(this,"left",void 0),Rp(this,"leftRelative",void 0),Rp(this,"scrollTop",void 0),Rp(this,"scrollLeft",void 0),Rp(this,"cellHeight",void 0),Rp(this,"cellWidth",void 0);let i=r.scrollY,n=r.scrollX,o,s,a,l,c,d;this.rootWindow=r,this.type=this.getSourceType(t),this.type==="literal"?(o=parseInt(t.top,10),a=parseInt(t.left,10),c=t.height||0,d=t.width||0,s=o,l=a,o+=i,a+=n):this.type==="event"&&(o=parseInt(t.pageY,10),a=parseInt(t.pageX,10),c=t.target.clientHeight,d=t.target.clientWidth,s=o-i,l=a-n),this.top=o,this.topRelative=s,this.left=a,this.leftRelative=l,this.scrollTop=i,this.scrollLeft=n,this.cellHeight=c,this.cellWidth=d}getSourceType(t){let r="literal";return t instanceof Event&&(r="event"),r}fitsAbove(t){return this.topRelative>=t.offsetHeight}fitsBelow(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.rootWindow.innerHeight;return this.topRelative+t.offsetHeight<=r}fitsOnRight(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.rootWindow.innerWidth;return this.leftRelative+this.cellWidth+t.offsetWidth<=r}fitsOnLeft(t){return this.leftRelative>=t.offsetWidth}};function yS(e,t,r){I5t(e,t),t.set(e,r)}function I5t(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ir(e,t){return e.get(tet(e,t))}function DI(e,t,r){return e.set(tet(e,t),r),r}function tet(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var qa=new WeakMap,Tp=new WeakMap,aa=new WeakMap,iF=new WeakMap,g_=new WeakMap,OI=class{constructor(t){yS(this,qa,void 0),yS(this,Tp,void 0),yS(this,aa,void 0),yS(this,iF,!1),yS(this,g_,{above:0,below:0,left:0,right:0}),DI(iF,this,t)}setOffset(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Ir(g_,this)[t]=r,this}setElement(t){return DI(qa,this,t),this}setParentElement(t){return DI(Tp,this,t),this}updatePosition(t){DI(aa,this,new kI(t,Ir(qa,this).ownerDocument.defaultView)),Ir(iF,this)?(Ir(aa,this).fitsBelow(Ir(qa,this))?this.setPositionBelowCursor():Ir(aa,this).fitsAbove(Ir(qa,this))?this.setPositionAboveCursor():this.setPositionBelowCursor(),this.updateHorizontalPosition()):(this.setPositionBelowCursor(),this.setPositionOnRightOfCursor())}updateHorizontalPosition(){Ir(qa,this).dir==="rtl"?Ir(aa,this).fitsOnLeft(Ir(qa,this))?this.setPositionOnLeftOfCursor():this.setPositionOnRightOfCursor():Ir(aa,this).fitsOnRight(Ir(qa,this))?this.setPositionOnRightOfCursor():this.setPositionOnLeftOfCursor()}setPositionAboveCursor(){let t=Ir(g_,this).above+Ir(aa,this).top-Ir(qa,this).offsetHeight;Ir(Tp,this)&&(t=Ir(aa,this).top+Ir(aa,this).cellHeight-Ir(qa,this).offsetHeight+3),Ir(qa,this).style.top=`${t}px`}setPositionBelowCursor(){let t=Ir(g_,this).below+Ir(aa,this).top+1;Ir(Tp,this)&&(t=Ir(aa,this).top-1),Ir(qa,this).style.top=`${t}px`}setPositionOnRightOfCursor(){let t=Ir(aa,this).left;if(Ir(Tp,this)){let{right:r}=Ir(Tp,this).getBoundingClientRect();t+=Ir(aa,this).cellWidth+r-(Ir(aa,this).left+Ir(aa,this).cellWidth)}else t+=Ir(g_,this).right;Ir(qa,this).style.left=`${t}px`}setPositionOnLeftOfCursor(){let t=Ir(g_,this).left+Ir(aa,this).left-Ir(qa,this).offsetWidth;if(Ir(Tp,this)){let{left:r}=Ir(Tp,this).getBoundingClientRect();t-=Ir(aa,this).left-r}Ir(qa,this).style.left=`${t}px`}};var Mye=ot(yn(),1),Aye=ot(_n(),1),Iye=ot(wn(),1),kye=ot(Cn(),1),Dye=ot(xn(),1),Oye=ot(Sn(),1),Pye=ot(En(),1);function PI(e){let{initialPage:t=-1,size:r=()=>0,onItemSelect:i=()=>{},onClear:n=()=>{}}=e,o=new Set,s=Kr(t,-1,m()-1);function a(p,b){let _=m()-1;return p<0&&(p=_),p>_&&(p=0),o.has(p)?-1:(o.add(p),i(p,!1)===!1&&(p=a(b===1?++p:--p,b)),p)}function l(p){p>-1&&p<m()&&i(p,!0)!==!1&&(s=p)}function c(){return s}function d(){m()>0&&(o.clear(),s=a(0,1))}function u(){m()>0&&(o.clear(),s=a(m()-1,-1))}function h(){m()>0&&(o.clear(),s=a(++s,1))}function f(){m()>0&&(o.clear(),s=a(--s,-1))}function m(){return Math.max(r(),0)}function g(){o.clear(),s=t,n()}return{setCurrentPage:l,getCurrentPage:c,toFirstItem:d,toLastItem:u,toNextItem:h,toPreviousItem:f,getSize:m,clear:g}}var Fye=ot(we(),1);function eet(e){return xi(e,t=>({start:t.getTopStartCorner(),end:t.getBottomEndCorner()}))}function _S(e){return en(e,"submenu")}function wS(e){return new RegExp(Pi,"i").test(e.name)}function b_(e,t){return e.disabled===!0||typeof e.disabled=="function"&&e.disabled.call(t)===!0}function rF(e){return en(e,"disableSelection")}function iet(e){return Ze(e,"htSeparator")}function ret(e){return Ze(e,"htSubmenu")}function net(e){return Ze(e,"htDisabled")}function oet(e){return Ze(e,"htSelectionDisabled")}function set(e,t){return!e.hidden||!(typeof e.hidden=="function"&&e.hidden.call(t))}function aet(e,t){let r=e.slice(0);for(let i=0;i<r.length&&r[i].name===t;)r.shift();return r}function k5t(e,t){let r=e.slice(0);return r.reverse(),r=aet(r,t),r.reverse(),r}function D5t(e){let t=[];return Tt(e,(r,i)=>{i>0?t[t.length-1].name!==r.name&&t.push(r):t.push(r)}),t}function cet(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Pi,r=e.slice(0);return r=aet(r,t),r=k5t(r,t),r=D5t(r),r}function det(e){return PI({size:()=>e.countRows(),onItemSelect(t,r){let i=e.getCell(t,0);if(!i||iet(i)||net(i)||oet(i))return!1;e.selectCell(t,0,...r?[t,0,!1,!1]:[])},onClear(){e.deselectCell()}})}var $ye=ot(we(),1);function uet(e){let{hot:t,hotMenu:r}=e;return[{keys:[["Control/Meta","A"]],forwardToContext:t.getShortcutManager().getContext("grid"),callback:()=>e.close(!0)},{keys:[["Tab"],["Shift","Tab"]],callback:(i,n)=>{let o=t.getSettings(),s=typeof o.tabMoves=="function"?o.tabMoves(i):o.tabMoves;n.includes("shift")?t.selection.transformStart(-s.row,-s.col):t.selection.transformStart(s.row,s.col),e.close(!0)}},{keys:[["Escape"]],callback:()=>e.close()},{keys:[["ArrowDown"]],callback:()=>e.getNavigator().toNextItem()},{keys:[["ArrowUp"]],callback:()=>e.getNavigator().toPreviousItem()},{keys:[["ArrowRight"]],callback:()=>{let i=r.getSelectedLast();if(i){let n=e.openSubMenu(i[0]);n&&n.getNavigator().toFirstItem()}}},{keys:[["ArrowLeft"]],callback:()=>{r.getSelectedLast()&&e.isSubMenu()&&(e.close(),e.isSubMenu()&&e.parentMenu.hotMenu.listen())}},{keys:[["Control/Meta","ArrowUp"],["Home"]],callback:()=>e.getNavigator().toFirstItem()},{keys:[["Control/Meta","ArrowDown"],["End"]],callback:()=>e.getNavigator().toLastItem()},{keys:[["Enter"],["Space"]],callback:i=>{let n=r.getSelectedLast();n&&(r.getSourceDataAtRow(n[0]).submenu?e.openSubMenu(n[0]).getNavigator().toFirstItem():(e.executeCommand(i),e.close(!0)))}},{keys:[["PageUp"]],callback:()=>{r.getSelectedLast()?r.selection.transformStart(-r.countVisibleRows(),0):e.getNavigator().toFirstItem()}},{keys:[["PageDown"]],callback:()=>{r.getSelectedLast()?r.selection.transformStart(r.countVisibleRows(),0):e.getNavigator().toLastItem()}}]}var fet="menu",het=fet;function met(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=[];i(uet(e)),t.forEach(c=>{let{shortcuts:d,contextName:u}=c;n(d,u)});function i(c,d){a(d).addShortcuts(c,{group:fet})}function n(c,d){let u=a(d);c.forEach(h=>{let{keys:f}=h;f.forEach(m=>u.removeShortcutsByKeys(m))}),r.push({shortcuts:c,contextName:d}),i(c,d)}function o(){return[...r]}function s(c){return c?`${het}:${c}`:het}function a(c){var d;let u=e.hotMenu.getShortcutManager(),h=s(c);return(d=u.getContext(h))!==null&&d!==void 0?d:u.addContext(h)}function l(c){e.hotMenu.getShortcutManager().setActiveContextName(s(c))}return{addCustomShortcuts:n,getCustomShortcuts:o,getContext:a,listen:l}}function pet(e){return(t,r,i,n,o,s)=>{if(r.hasAttribute("ghost-table"))return;let a=t.getSourceDataAtRow(i),l=e.rootDocument.createElement("div"),c=typeof s=="function"?s.call(e):s;if(Ps(r),ne(l,"htItemWrapper"),e.getSettings().ariaTags){let d=!b_(a,e)&&!rF(a)&&!wS(a);Xe(r,[ZG(),Zv(c),...d?[Oc(-1)]:[],...b_(a,e)?[nK()]:[],..._S(a)?[oa(!1)]:[]])}r.className="",r.appendChild(l),wS(a)?ne(r,"htSeparator"):typeof a.renderer=="function"?(ne(r,"htCustomMenuRenderer"),r.appendChild(a.renderer(t,l,i,n,o,c))):Lc(l,c),b_(a,e)?ne(r,"htDisabled"):rF(a)?ne(r,"htSelectionDisabled"):_S(a)&&ne(r,"htSubmenu")}}function get(e,t,r){O5t(e,t),t.set(e,r)}function O5t(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function sh(e,t,r){return t=P5t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P5t(e){var t=N5t(e,"string");return typeof t=="symbol"?t:t+""}function N5t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bet(e,t,r){return e.set(yet(e,t),r),r}function CS(e,t){return e.get(yet(e,t))}function yet(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var vet=215,xS=new WeakMap,NI=new WeakMap,Af=class e{constructor(t,r){var i=this;sh(this,"hot",void 0),sh(this,"options",void 0),sh(this,"eventManager",new Qo(this)),sh(this,"container",void 0),sh(this,"positioner",void 0),sh(this,"hotMenu",null),sh(this,"hotSubMenus",{}),sh(this,"parentMenu",void 0),sh(this,"menuItems",null),sh(this,"origOutsideClickDeselects",null),get(this,xS,void 0),get(this,NI,void 0),this.hot=t,this.options=r||{parent:null,name:null,className:"",keepInViewport:!0,standalone:!1,minWidth:vet,container:this.hot.rootDocument.documentElement},this.container=this.createContainer(this.options.name),this.positioner=new OI(this.options.keepInViewport),this.parentMenu=this.options.parent||null,this.registerEvents(),this.isSubMenu()&&this.addLocalHook("afterSelectionChange",function(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return i.parentMenu.runLocalHooks("afterSelectionChange",...o)})}registerEvents(){let t=this.hot.rootWindow;for(;t;)this.eventManager.addEventListener(t.document,"mousedown",r=>this.onDocumentMouseDown(r)),this.eventManager.addEventListener(t.document,"contextmenu",r=>this.onDocumentContextMenu(r)),t=zu(t)}setMenuItems(t){this.menuItems=t}getNavigator(){return CS(xS,this)}getKeyboardShortcutsCtrl(){return CS(NI,this)}getSelectedItem(){return this.hasSelectedItem()?this.hotMenu.getSourceDataAtRow(this.hotMenu.getSelectedLast()[0]):null}hasSelectedItem(){return Array.isArray(this.hotMenu.getSelectedLast())}isSubMenu(){return this.parentMenu!==null}open(){this.runLocalHooks("beforeOpen"),this.container.removeAttribute("style"),this.container.style.display="block";let t=ny(a=>this.openSubMenu(a),300),r=this.options.minWidth||vet,i=!1,n=cs(this.menuItems,a=>(a.key===Ep&&(i=!0),set(a,this.hot)));if(n.length<1&&!i)n.push(EI()[Ep]);else if(n.length===0)return;n=cet(n,Pi);let o=!1,s={data:n,colHeaders:!1,autoColumnSize:!0,autoWrapRow:!1,modifyColWidth(a){return Ne(a)&&a<r?r:a},autoRowSize:!1,readOnly:!0,editor:!1,copyPaste:!1,hiddenRows:!0,maxCols:1,columns:[{data:"name",renderer:pet(this.hot)}],renderAllRows:!0,fragmentSelection:!1,outsideClickDeselects:!1,disableVisualSelection:"area",layoutDirection:this.hot.isRtl()?"rtl":"ltr",ariaTags:!1,beforeOnCellMouseOver:(a,l)=>{CS(xS,this).setCurrentPage(l.row)},afterOnCellMouseOver:(a,l)=>{this.isAllSubMenusClosed()?t(l.row):this.openSubMenu(l.row)},rowHeights:a=>n[a].name===Pi?1:23,afterOnCellContextMenu:a=>{a.preventDefault(),LN()&&o&&this.hasSelectedItem()&&this.close(!0)},afterSelection:(a,l,c,d,u)=>{this.hotMenu.view.isMouseDown()&&(u.value=!0),this.runLocalHooks("afterSelectionChange",this.getSelectedItem())},beforeOnCellMouseUp:a=>{this.hasSelectedItem()&&(o=!this.isCommandPassive(this.getSelectedItem()),this.executeCommand(a))},afterOnCellMouseUp:a=>{(!LN()||!Ql(a))&&o&&this.hasSelectedItem()&&(Zl()||RM()?this.hot._registerTimeout(()=>this.close(!0),325):this.close(!0))},afterUnlisten:()=>{!this.hasSelectedItem()&&this.isOpened()&&this.hotMenu.listen()}};this.origOutsideClickDeselects=this.hot.getSettings().outsideClickDeselects,this.hot.getSettings().outsideClickDeselects=!1,this.hotMenu=new this.hot.constructor(this.container,s),this.hotMenu.addHook("afterInit",()=>this.onAfterInit()),this.hotMenu.init(),bet(xS,this,det(this.hotMenu)),bet(NI,this,met(this)),CS(NI,this).listen(),this.focus(),this.isSubMenu()&&this.addLocalHook("afterOpen",()=>this.parentMenu.runLocalHooks("afterSubmenuOpen",this)),this.runLocalHooks("afterOpen",this)}close(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.isOpened()){if(t&&this.isSubMenu())this.parentMenu.close();else if(CS(xS,this).clear(),this.closeAllSubMenus(),this.container.style.display="none",this.hotMenu.destroy(),this.hotMenu=null,this.hot.getSettings().outsideClickDeselects=this.origOutsideClickDeselects,this.runLocalHooks("afterClose"),this.isSubMenu()){if(this.hot.getSettings().ariaTags){let r=this.parentMenu.hotMenu.getSelectedLast();if(r){let i=this.parentMenu.hotMenu.getCell(r[0],0);Xe(i,[oa(!1)])}}this.parentMenu.hotMenu.listen()}}}openSubMenu(t){if(!this.hotMenu)return!1;let r=this.hotMenu.getCell(t,0);if(this.closeAllSubMenus(),!r||!ret(r))return!1;let i=this.hotMenu.getSourceDataAtRow(t),n=new e(this.hot,{parent:this,name:i.name,className:this.options.className,keepInViewport:!0,container:this.options.container});return n.setMenuItems(i.submenu.items),n.open(),n.setPosition(r.getBoundingClientRect()),this.hotSubMenus[i.key]=n,this.hot.getSettings().ariaTags&&Xe(r,[oa(!0)]),n}closeSubMenu(t){let r=this.hotMenu.getSourceDataAtRow(t),i=this.hotSubMenus[r.key];if(i){i.destroy(),delete this.hotSubMenus[r.key];let n=this.hotMenu.getCell(t,0);this.hot.getSettings().ariaTags&&Xe(n,[oa(!1)])}}closeAllSubMenus(){Tt(this.hotMenu.getData(),(t,r)=>this.closeSubMenu(r))}isAllSubMenusClosed(){return Object.keys(this.hotSubMenus).length===0}focus(){this.isOpened()&&(this.hotMenu.rootElement.focus({preventScroll:!0}),this.getKeyboardShortcutsCtrl().listen(),this.hotMenu.listen())}destroy(){let t=this.container.parentNode;this.clearLocalHooks(),this.close(),this.parentMenu=null,this.eventManager.destroy(),t&&t.removeChild(this.container)}isOpened(){return this.hotMenu!==null}executeCommand(t){if(!this.isOpened()||!this.hasSelectedItem())return;let r=this.getSelectedItem();if(this.runLocalHooks("select",r,t),this.isCommandPassive(r))return;let i=this.hot.getSelectedRange(),n=i?eet(i):[];this.runLocalHooks("executeCommand",r.key,n,t),this.isSubMenu()&&this.parentMenu.runLocalHooks("executeCommand",r.key,n,t)}isCommandPassive(t){return t.isCommand===!1||wS(t)||b_(t,this.hot)||_S(t)}setOffset(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.positioner.setOffset(t,r)}setPosition(t){this.isSubMenu()&&this.positioner.setParentElement(this.parentMenu.container),this.positioner.setElement(this.container).updatePosition(t)}createContainer(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=this.options.container.ownerDocument,i=t,n;return i&&(Mr(i)&&(i=i.call(this.hot),i===null||_r(i)?i="":i=i.toString()),i=i.replace(/[^A-z0-9]/g,"_"),i=`${this.options.className}Sub_${i}`,n=r.querySelector(`.${this.options.className}.${i}`)),n||(n=r.createElement("div"),ne(n,`htMenu ${this.options.className}`),i&&ne(n,i),this.options.container.appendChild(n)),n}onAfterInit(){let{wtTable:t}=this.hotMenu.view._wt,r=this.hotMenu.getSettings().data,i=t.hider.style,n=t.holder.style,o=parseInt(i.width,10),s=cn(r,(a,l)=>a+(l.name===Pi?1:26),0);n.width=`${o+3}px`,n.height=`${s+3}px`,i.height=n.height,this.hot.getSettings().ariaTags&&Xe(this.hotMenu.rootElement,[XG(),Oc(-1)])}onDocumentMouseDown(t){this.isOpened()&&(this.options.standalone&&this.hotMenu&&!Ad(t.target,this.hotMenu.rootElement)?this.close(!0):(this.isAllSubMenusClosed()||this.isSubMenu())&&!Ad(t.target,".htMenu")&&this.close(!0))}onDocumentContextMenu(t){this.isOpened()&&Ze(t.target,"htCore")&&Ad(t.target,this.hotMenu.rootElement)&&t.preventDefault()}};Zi(Af,jn);function L5t(e,t){F5t(e,t),t.add(e)}function F5t(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function nF(e,t,r){return t=H5t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H5t(e){var t=B5t(e,"string");return typeof t=="symbol"?t:t+""}function B5t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LI(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var v_="contextMenu",wet=70,_et=v_;Le.getSingleton().register("afterContextMenuDefaultOptions");Le.getSingleton().register("beforeContextMenuShow");Le.getSingleton().register("afterContextMenuShow");Le.getSingleton().register("afterContextMenuHide");Le.getSingleton().register("afterContextMenuExecute");var SS=new WeakSet,y_=class e extends vi{constructor(){super(...arguments),L5t(this,SS),nF(this,"commandExecutor",new m_(this.hot)),nF(this,"itemsFactory",null),nF(this,"menu",null)}static get PLUGIN_KEY(){return v_}static get PLUGIN_PRIORITY(){return wet}static get PLUGIN_DEPS(){return["plugin:AutoColumnSize"]}static get DEFAULT_ITEMS(){return[O0,P0,Pi,xf,Sf,Pi,D0,Rf,Pi,N0,k0,Pi,Ef,Pi,Ea]}isEnabled(){return!!this.hot.getSettings()[v_]}enablePlugin(){var t=this;if(this.enabled)return;let r=this.hot.getSettings()[v_];typeof r.callback=="function"&&this.commandExecutor.setCommonCallback(r.callback),this.menu=new Af(this.hot,{className:"htContextMenu",keepInViewport:!0,container:r.uiContainer||this.hot.rootDocument.body}),this.menu.addLocalHook("beforeOpen",()=>LI(SS,this,V5t).call(this)),this.menu.addLocalHook("afterOpen",()=>LI(SS,this,z5t).call(this)),this.menu.addLocalHook("afterClose",()=>LI(SS,this,U5t).call(this)),this.menu.addLocalHook("executeCommand",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return t.executeCommand.call(t,...n)}),this.addHook("afterOnCellContextMenu",i=>LI(SS,this,j5t).call(this,i)),this.registerShortcuts(),super.enablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.close(),this.menu&&(this.menu.destroy(),this.menu=null),this.unregisterShortcuts(),super.disablePlugin()}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Control/Meta","Shift","Backslash"],["Shift","F10"]],callback:()=>{let{highlight:t}=this.hot.getSelectedRangeLast();this.hot.scrollToFocusedCell();let r=this.hot.getCell(t.row,t.col,!0).getBoundingClientRect(),i=h_(this.menu.container,this.hot.rootDocument);this.open({left:r.left+i.left,top:r.top+i.top-1+r.height},{left:r.width,above:-r.height}),this.menu.getNavigator().toFirstItem()},runOnlyIf:()=>{var t;let r=(t=this.hot.getSelectedRangeLast())===null||t===void 0?void 0:t.highlight;return r&&this.hot.selection.isCellVisible(r)&&!this.menu.isOpened()},group:_et})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(_et)}open(t){var r;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{above:0,below:0,left:0,right:0};(r=this.menu)!==null&&r!==void 0&&r.isOpened()||(this.prepareMenuItems(),this.menu.open(),bi(i,(n,o)=>{this.menu.setOffset(o,n)}),this.menu.setPosition(t))}close(){var t;(t=this.menu)===null||t===void 0||t.close(),this.itemsFactory=null}executeCommand(t){this.itemsFactory===null&&this.prepareMenuItems();for(var r=arguments.length,i=new Array(r>1?r-1:0),n=1;n<r;n++)i[n-1]=arguments[n];this.commandExecutor.execute(t,...i)}prepareMenuItems(){this.itemsFactory=new p_(this.hot,e.DEFAULT_ITEMS);let t=this.hot.getSettings()[v_],r={items:this.itemsFactory.getItems(t)};this.hot.runHooks("afterContextMenuDefaultOptions",r),this.itemsFactory.setPredefinedItems(r.items);let i=this.itemsFactory.getItems(t);this.hot.runHooks("beforeContextMenuSetItems",i),this.menu.setMenuItems(i),Tt(i,n=>this.commandExecutor.registerCommand(n.key,n))}destroy(){this.close(),this.menu&&this.menu.destroy(),super.destroy()}};function j5t(e){let t=this.hot.getSettings(),r=t.rowHeaders,i=t.colHeaders;function n(a){return a.nodeName==="TD"||a.parentNode.nodeName==="TD"}let o=e.target;if(this.close(),Ze(o,"handsontableInput")||(e.preventDefault(),e.stopPropagation(),!(r||i)&&!n(o)&&!(Ze(o,"current")&&Ze(o,"wtBorder"))))return;let s=h_(this.menu.container,this.hot.rootDocument);this.open({top:e.clientY+s.top,left:e.clientX+s.left})}function V5t(){this.hot.runHooks("beforeContextMenuShow",this)}function z5t(){this.hot.runHooks("afterContextMenuShow",this)}function U5t(){this.hot.listen(),this.hot.runHooks("afterContextMenuHide",this)}y_.SEPARATOR={name:Pi};var J_e=ot(Gt(),1),t1e=ot(we(),1);function oF(e){return{key:"copy",name(){return this.getTranslatedPhrase(Rx)},callback(){e.copyCellsOnly()},disabled(){if(this.countRows()===0||this.countCols()===0)return!0;let t=this.getSelectedRangeLast();if(!t||t.isSingleHeader())return!0;let r=this.getSelected();return!r||r.length>1},hidden:!1}}function sF(e){return{key:"copy_column_headers_only",name(){let t=this.getSelectedRangeLast(),r=t?Kr(t.getWidth()-1,0,1):0;return this.getTranslatedPhrase(Ax,r)},callback(){e.copyColumnHeadersOnly()},disabled(){if(!this.hasColHeaders())return!0;let t=this.getSelectedRangeLast();if(!t||t.isSingleHeader())return!0;let r=this.getSelected();return!r||r.length>1},hidden:!1}}function aF(e){return{key:"copy_with_column_group_headers",name(){let t=this.getSelectedRangeLast(),r=t?Kr(t.getWidth()-1,0,1):0;return this.getTranslatedPhrase(Mx,r)},callback(){e.copyWithAllColumnHeaders()},disabled(){if(!this.hasColHeaders()||!this.getSettings().nestedHeaders)return!0;let t=this.getSelectedRangeLast();if(!t||t.isSingleHeader())return!0;let r=this.getSelected();return!r||r.length>1},hidden:!1}}function lF(e){return{key:"copy_with_column_headers",name(){let t=this.getSelectedRangeLast(),r=t?Kr(t.getWidth()-1,0,1):0;return this.getTranslatedPhrase(Tx,r)},callback(){e.copyWithColumnHeaders()},disabled(){if(!this.hasColHeaders())return!0;let t=this.getSelectedRangeLast();if(!t||t.isSingleHeader())return!0;let r=this.getSelected();return!r||r.length>1},hidden:!1}}function cF(e){return{key:"cut",name(){return this.getTranslatedPhrase(Ix)},callback(){e.cut()},disabled(){if(this.countRows()===0||this.countCols()===0)return!0;let t=this.getSelectedRangeLast();if(!t||t.isSingleHeader())return!0;let r=this.getSelected();return!r||r.length>1},hidden:!1}}var FI=class{constructor(){this.data={}}setData(t,r){this.data[t]=r}getData(t){return this.data[t]||void 0}};var HI=class{constructor(){this.clipboardData=new FI}preventDefault(){}};var G_e=ot(Gt(),1),K_e=ot(we(),1);function W5t(e,t){Cet(e,t),t.add(e)}function __(e,t,r){Cet(e,t),t.set(e,r)}function Cet(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function $a(e,t){return e.get(C_(e,t))}function w_(e,t,r){return e.set(C_(e,t),r),r}function C_(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var Mp=new WeakMap,dF=new WeakMap,ES=new WeakMap,hF=new WeakMap,fF=new WeakMap,RS=new WeakMap,TS=new WeakSet,BI=class{constructor(t){let{countRows:r,countColumns:i,rowsLimit:n,columnsLimit:o,countColumnHeaders:s}=t;W5t(this,TS),__(this,Mp,void 0),__(this,dF,void 0),__(this,ES,void 0),__(this,hF,void 0),__(this,fF,void 0),__(this,RS,void 0),w_(dF,this,r),w_(ES,this,i),w_(hF,this,n),w_(fF,this,o),w_(RS,this,s)}setSelectedRange(t){w_(Mp,this,t)}getCellsRange(){if($a(dF,this).call(this)===0||$a(ES,this).call(this)===0)return null;let{row:t,col:r}=$a(Mp,this).getTopStartCorner(),{row:i,col:n}=$a(Mp,this).getBottomEndCorner(),o=C_(TS,this,Y5t).call(this,t,i),s=C_(TS,this,uF).call(this,r,n);return{isRangeTrimmed:i!==o||n!==s,startRow:t,startCol:r,endRow:o,endCol:s}}getMostBottomColumnHeadersRange(){if($a(ES,this).call(this)===0||$a(RS,this).call(this)===0)return null;let{col:t}=$a(Mp,this).getTopStartCorner(),{col:r}=$a(Mp,this).getBottomEndCorner(),i=C_(TS,this,uF).call(this,t,r);return{isRangeTrimmed:r!==i,startRow:-1,startCol:t,endRow:-1,endCol:i}}getAllColumnHeadersRange(){if($a(ES,this).call(this)===0||$a(RS,this).call(this)===0)return null;let{col:t}=$a(Mp,this).getTopStartCorner(),{col:r}=$a(Mp,this).getBottomEndCorner(),i=C_(TS,this,uF).call(this,t,r);return{isRangeTrimmed:r!==i,startRow:-$a(RS,this).call(this),startCol:t,endRow:-1,endCol:i}}};function uF(e,t){return Math.min(t,Math.max(e+$a(fF,this).call(this)-1,e))}function Y5t(e,t){return Math.min(t,Math.max(e+$a(hF,this).call(this)-1,e))}function mF(e){let t=[],r=[];return Tt(e,i=>{let n=Math.min(i.startRow,i.endRow),o=Math.max(i.startRow,i.endRow);Oe(n,o,l=>{t.indexOf(l)===-1&&t.push(l)});let s=Math.min(i.startCol,i.endCol),a=Math.max(i.startCol,i.endCol);Oe(s,a,l=>{r.indexOf(l)===-1&&r.push(l)})}),{rows:t,columns:r}}function q5t(e,t){Ret(e,t),t.add(e)}function Ap(e,t,r){Ret(e,t),t.set(e,r)}function Ret(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function MS(e,t,r){return t=$5t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $5t(e){var t=G5t(e,"string");return typeof t=="symbol"?t:t+""}function G5t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sl(e,t){return e.get(El(e,t))}function Ud(e,t,r){return e.set(El(e,t),r),r}function El(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}Le.getSingleton().register("afterCopyLimit");Le.getSingleton().register("modifyCopyableRange");Le.getSingleton().register("beforeCut");Le.getSingleton().register("afterCut");Le.getSingleton().register("beforePaste");Le.getSingleton().register("afterPaste");Le.getSingleton().register("beforeCopy");Le.getSingleton().register("afterCopy");var AS="copyPaste",Tet=80,K5t=["fragmentSelection"],xet=['<meta name="generator" content="Handsontable"/>','<style type="text/css">td{white-space:normal}br{mso-data-placement:same-cell}</style>'].join(""),pF=new WeakMap,gF=new WeakMap,bF=new WeakMap,x_=new WeakMap,jI=new WeakMap,VI=new WeakMap,S_=new WeakMap,zI=new WeakMap,nc=new WeakSet,IS=class extends vi{constructor(){super(...arguments),q5t(this,nc),MS(this,"columnsLimit",1/0),MS(this,"rowsLimit",1/0),MS(this,"pasteMode","overwrite"),MS(this,"uiContainer",this.hot.rootDocument.body),Ap(this,pF,!1),Ap(this,gF,!1),Ap(this,bF,!1),Ap(this,x_,"cells-only"),Ap(this,jI,!1),Ap(this,VI,!1),Ap(this,S_,new BI({countRows:()=>this.hot.countRows(),countColumns:()=>this.hot.countCols(),rowsLimit:()=>this.rowsLimit,columnsLimit:()=>this.columnsLimit,countColumnHeaders:()=>this.hot.view.getColumnHeadersCount()})),Ap(this,zI,!1),MS(this,"copyableRanges",[])}static get PLUGIN_KEY(){return AS}static get SETTING_KEYS(){return[AS,...K5t]}static get PLUGIN_PRIORITY(){return Tet}isEnabled(){return!!this.hot.getSettings()[AS]}enablePlugin(){var t=this;if(this.enabled)return;let{[AS]:r}=this.hot.getSettings();if(typeof r=="object"){var i,n;this.pasteMode=(i=r.pasteMode)!==null&&i!==void 0?i:this.pasteMode,this.rowsLimit=isNaN(r.rowsLimit)?this.rowsLimit:r.rowsLimit,this.columnsLimit=isNaN(r.columnsLimit)?this.columnsLimit:r.columnsLimit,Ud(pF,this,!!r.copyColumnHeaders),Ud(gF,this,!!r.copyColumnGroupHeaders),Ud(bF,this,!!r.copyColumnHeadersOnly),this.uiContainer=(n=r.uiContainer)!==null&&n!==void 0?n:this.uiContainer}this.addHook("afterContextMenuDefaultOptions",o=>El(nc,this,Q5t).call(this,o)),this.addHook("afterSelection",function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return El(nc,t,J5t).call(t,...s)}),this.addHook("afterSelectionEnd",()=>El(nc,this,tMt).call(this)),this.eventManager.addEventListener(this.hot.rootDocument,"copy",function(){return t.onCopy(...arguments)}),this.eventManager.addEventListener(this.hot.rootDocument,"cut",function(){return t.onCut(...arguments)}),this.eventManager.addEventListener(this.hot.rootDocument,"paste",function(){return t.onPaste(...arguments)}),NN()&&(this.eventManager.addEventListener(this.hot.rootDocument.body,"mouseenter",function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return El(nc,t,eMt).call(t,...s)}),this.eventManager.addEventListener(this.hot.rootDocument.body,"mouseleave",function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return El(nc,t,iMt).call(t,...s)}),this.addHook("afterSelection",()=>El(nc,this,rMt).call(this))),super.enablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){super.disablePlugin()}copy(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"cells-only";Ud(x_,this,t),Ud(jI,this,!0),El(nc,this,Eet).call(this,"copy")}copyCellsOnly(){this.copy("cells-only")}copyColumnHeadersOnly(){this.copy("column-headers-only")}copyWithAllColumnHeaders(){this.copy("with-column-group-headers")}copyWithColumnHeaders(){this.copy("with-column-headers")}cut(){Ud(VI,this,!0),El(nc,this,Eet).call(this,"cut")}getRangedCopyableData(t){return mp(this.getRangedData(t))}getRangedData(t){let r=[],{rows:i,columns:n}=mF(t);return Tt(i,o=>{let s=[];Tt(n,a=>{o<0?s.push(this.hot.getColHeader(a,o)):s.push(this.hot.getCopyableData(o,a))}),r.push(s)}),r}paste(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t;if(!t&&!r)return;let i=new HI;t&&i.clipboardData.setData("text/plain",t),r&&i.clipboardData.setData("text/html",r),this.onPaste(i)}setCopyableText(){let t=this.hot.getSelectedRangeLast();if(!t)return;if(t.isSingleHeader()){this.copyableRanges=[];return}Sl(S_,this).setSelectedRange(t);let r=new Map([["headers",null],["cells",null]]);Sl(x_,this)==="column-headers-only"?r.set("headers",Sl(S_,this).getMostBottomColumnHeadersRange()):(Sl(x_,this)==="with-column-headers"?r.set("headers",Sl(S_,this).getMostBottomColumnHeadersRange()):Sl(x_,this)==="with-column-group-headers"&&r.set("headers",Sl(S_,this).getAllColumnHeadersRange()),r.set("cells",Sl(S_,this).getCellsRange())),this.copyableRanges=Array.from(r.values()).filter(n=>n!==null).map(n=>{let{startRow:o,startCol:s,endRow:a,endCol:l}=n;return{startRow:o,startCol:s,endRow:a,endCol:l}}),this.copyableRanges=this.hot.runHooks("modifyCopyableRange",this.copyableRanges);let i=r.get("cells");if(i!==null&&i.isRangeTrimmed){let{startRow:n,startCol:o,endRow:s,endCol:a}=i;this.hot.runHooks("afterCopyLimit",s-n+1,a-o+1,this.rowsLimit,this.columnsLimit)}}isEditorOpened(){var t;return(t=this.hot.getActiveEditor())===null||t===void 0?void 0:t.isOpened()}populateValues(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.hot.getSelectedRangeLast();if(!t.length)return;let i=t.length,n=t[0].length,o=[],{row:s,col:a}=r.getTopStartCorner(),{row:l,col:c}=r.getBottomEndCorner(),d=s,u=a,h=s,f=a;for(;o.length<i||d<=l;){let{skipRowOnPaste:m,visualRow:g}=this.hot.getCellMeta(d,a);if(d=g+1,m===!0)continue;h=g,u=a;let p=[],b=o.length%i;for(;p.length<n||u<=c;){let{skipColumnOnPaste:_,visualCol:E}=this.hot.getCellMeta(s,u);if(u=E+1,_===!0)continue;f=E;let O=p.length%n;p.push(t[b][O])}o.push(p)}return Ud(zI,this,!0),this.hot.populateFromArray(s,a,o,void 0,void 0,"CopyPaste.paste",this.pasteMode),[s,a,h,f]}onCopy(t){if(!this.hot.isListening()&&!Sl(jI,this)||this.isEditorOpened()||!this.hot.getSettings().outsideClickDeselects&&t.target!==this.hot.rootDocument.body)return;this.setCopyableText(),Ud(jI,this,!1);let r=this.getRangedData(this.copyableRanges),i=El(nc,this,X5t).call(this,this.copyableRanges);if(!!this.hot.runHooks("beforeCopy",r,this.copyableRanges,i)){let o=mp(r);if(t&&t.clipboardData){let s=ZN(r,this.hot.rootDocument);t.clipboardData.setData("text/plain",o),t.clipboardData.setData("text/html",[xet,s].join(""))}else typeof ClipboardEvent>"u"&&this.hot.rootWindow.clipboardData.setData("Text",o);this.hot.runHooks("afterCopy",r,this.copyableRanges,i)}Ud(x_,this,"cells-only"),t.preventDefault()}onCut(t){if(!this.hot.isListening()&&!Sl(VI,this)||this.isEditorOpened()||!this.hot.getSettings().outsideClickDeselects&&t.target!==this.hot.rootDocument.body)return;this.setCopyableText(),Ud(VI,this,!1);let r=this.getRangedData(this.copyableRanges);if(!!this.hot.runHooks("beforeCut",r,this.copyableRanges)){let n=mp(r);if(t&&t.clipboardData){let o=ZN(r,this.hot.rootDocument);t.clipboardData.setData("text/plain",n),t.clipboardData.setData("text/html",[xet,o].join(""))}else typeof ClipboardEvent>"u"&&this.hot.rootWindow.clipboardData.setData("Text",n);this.hot.emptySelectedCells("CopyPaste.cut"),this.hot.runHooks("afterCut",r,this.copyableRanges)}t.preventDefault()}onPaste(t){if(!this.hot.isListening()||this.isEditorOpened()||!this.hot.getSelected()||!this.hot.getSettings().outsideClickDeselects&&t.target!==this.hot.rootDocument.body)return;t.preventDefault();let r;if(t&&typeof t.clipboardData<"u"){let a=xC(t.clipboardData.getData("text/html"),{ADD_TAGS:["meta"],ADD_ATTR:["content"],FORCE_BODY:!0});a&&/(<table)|(<TABLE)/g.test(a)?r=cX(a,this.hot.rootDocument).data:r=t.clipboardData.getData("text/plain")}else typeof ClipboardEvent>"u"&&typeof this.hot.rootWindow.clipboardData<"u"&&(r=this.hot.rootWindow.clipboardData.getData("Text"));if(typeof r=="string"&&(r=oL(r)),r===void 0||r&&r.length===0||this.hot.runHooks("beforePaste",r,this.copyableRanges)===!1)return;let[i,n,o,s]=this.populateValues(r);this.hot.selectCell(i,n,Math.min(this.hot.countRows()-1,o),Math.min(this.hot.countCols()-1,s)),this.hot.runHooks("afterPaste",r,this.copyableRanges)}destroy(){super.destroy()}};function Eet(e){if(NN()){let t=this.hot.getSelectedRangeLast();if(t){let{row:r,col:i}=t.highlight,n=this.hot.getCell(r,i,!0);n&&RK(n,()=>{this.hot.rootDocument.execCommand(e)})}}else this.hot.rootDocument.execCommand(e)}function X5t(e){let{rows:t}=mF(e),r=0;for(let i=0;i<t.length&&!(t[i]>=0);i++)r+=1;return{columnHeadersCount:r}}function Z5t(){if(this.hot.isListening()){let e=this.hot.getSelectedRangeLast();if(e){let{row:t,col:r}=e.highlight,i=this.hot.getCell(t,r,!0);i&&ON(i)}}}function Met(){if(this.hot.isListening()){let e=this.hot.getSelectedRangeLast();if(e){let{row:t,col:r}=e.highlight,i=this.hot.getCell(t,r,!0);i!=null&&i.hasAttribute("contenteditable")&&PN(i)}}}function Q5t(e){e.items.push({name:"---------"},oF(this)),Sl(pF,this)&&e.items.push(lF(this)),Sl(gF,this)&&e.items.push(aF(this)),Sl(bF,this)&&e.items.push(sF(this)),e.items.push(cF(this))}function J5t(e,t,r,i,n){Sl(zI,this)&&(n.value=!0),Ud(zI,this,!1)}function tMt(){this.isEditorOpened()||this.hot.getSettings().fragmentSelection||this.setCopyableText()}function eMt(){El(nc,this,Met).call(this)}function iMt(){El(nc,this,Z5t).call(this)}function rMt(){El(nc,this,Met).call(this)}var B1e=ot(Gt(),1),j1e=ot(we(),1);function vF(e,t){return`border_row${e}col${t}`}function E_(){return{width:1,color:"#000"}}function ah(){return{hide:!0}}function nMt(){return{width:1,color:"#000",cornerVisible:!1}}function UI(e){if(Ne(e.start)||Ne(e.left)){var t;e.start=(t=e.start)!==null&&t!==void 0?t:e.left}if(Ne(e.end)||Ne(e.right)){var r;e.end=(r=e.end)!==null&&r!==void 0?r:e.right}return delete e.left,delete e.right,e}function R_(e){return Ne(e.start)&&(e.left=e.start),Ne(e.end)&&(e.right=e.end),e}function WI(e,t){return{id:vF(e,t),border:nMt(),row:e,col:t,top:ah(),bottom:ah(),start:ah(),end:ah()}}function Aet(e,t){return en(t,"border")&&t.border&&(e.border=t.border),en(t,"top")&&Ne(t.top)&&(t.top?(gi(t.top)||(t.top=E_()),e.top=t.top):(t.top=ah(),e.top=t.top)),en(t,"bottom")&&Ne(t.bottom)&&(t.bottom?(gi(t.bottom)||(t.bottom=E_()),e.bottom=t.bottom):(t.bottom=ah(),e.bottom=t.bottom)),en(t,"start")&&Ne(t.start)&&(t.start?(gi(t.start)||(t.start=E_()),e.start=t.start):(t.start=ah(),e.start=t.start)),en(t,"end")&&Ne(t.end)&&(t.end?(gi(t.end)||(t.end=E_()),e.end=t.end):(t.end=ah(),e.end=t.end)),e}function Rl(e,t){let r=!1;return Tt(e.getSelectedRange(),i=>{i.forAll((n,o)=>{if(n<0||o<0)return;let s=e.getCellMeta(n,o).borders;if(s)if(t){if(!en(s[t],"hide")||s[t].hide===!1)return r=!0,!1}else return r=!0,!1})}),r}function Ip(e){return`<span class="selected">\u2713</span>${e}`}function Iet(e){return e.some(t=>Ne(t.left)||Ne(t.right))}function ket(e){return e.some(t=>Ne(t.start)||Ne(t.end))}var oMt=new Map([["left","start"],["right","end"]]);function Det(e){var t;return(t=oMt.get(e))!==null&&t!==void 0?t:e}function YI(e){return{key:"borders:bottom",name(){let t=this.getTranslatedPhrase(Xx);return Rl(this,"bottom")&&(t=Ip(t)),t},callback(t,r){let i=Rl(this,"bottom");e.prepareBorder(r,"bottom",i)}}}function qI(e){let t=e.hot.isRtl()?"end":"start";return{key:"borders:left",name(){let r=this.getTranslatedPhrase(Zx);return Rl(this,t)&&(r=Ip(r)),r},callback(r,i){let n=Rl(this,t);e.prepareBorder(i,t,n)}}}function $I(e){return{key:"borders:no_borders",name(){return this.getTranslatedPhrase(Qx)},callback(t,r){e.prepareBorder(r,"noBorders")},disabled(){return!Rl(this)}}}function GI(e){let t=e.hot.isRtl()?"start":"end";return{key:"borders:right",name(){let r=this.getTranslatedPhrase(Kx);return Rl(this,t)&&(r=Ip(r)),r},callback(r,i){let n=Rl(this,t);e.prepareBorder(i,t,n)}}}function KI(e){return{key:"borders:top",name(){let t=this.getTranslatedPhrase(Gx);return Rl(this,"top")&&(t=Ip(t)),t},callback(t,r){let i=Rl(this,"top");e.prepareBorder(r,"top",i)}}}function sMt(e,t){aMt(e,t),t.add(e)}function aMt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function lMt(e,t,r){return t=cMt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cMt(e){var t=dMt(e,"string");return typeof t=="symbol"?t:t+""}function dMt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oet(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var kS="customBorders",Pet=90,yF=new WeakSet,DS=class extends vi{constructor(){super(...arguments),sMt(this,yF),lMt(this,"savedBorders",[])}static get PLUGIN_KEY(){return kS}static get PLUGIN_PRIORITY(){return Pet}isEnabled(){return!!this.hot.getSettings()[kS]}enablePlugin(){this.enabled||(this.addHook("afterContextMenuDefaultOptions",t=>Oet(yF,this,uMt).call(this,t)),this.addHook("init",()=>Oet(yF,this,hMt).call(this)),super.enablePlugin())}disablePlugin(){this.hideBorders(),super.disablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),this.changeBorderSettings(),super.updatePlugin()}setBorders(t,r){let i=["top","bottom","start","end"],n=null;r&&(this.checkSettingsCohesion([r]),i=Object.keys(r),n=UI(r));let o=vf(t),s=fp(o,{createCellCoords:this.hot._createCellCoords.bind(this.hot),createCellRange:this.hot._createCellRange.bind(this.hot)});Tt(t,a=>{s(a).forAll((l,c)=>{Tt(i,d=>{this.prepareBorderFromCustomAdded(l,c,n,Det(d))})})}),this.hot.view.render()}getBorders(t){if(!Array.isArray(t))return this.savedBorders;let r=vf(t),i=fp(r,{createCellCoords:this.hot._createCellCoords.bind(this.hot),createCellRange:this.hot._createCellRange.bind(this.hot)}),n=[];return Tt(t,o=>{i(o).forAll((s,a)=>{Tt(this.savedBorders,l=>{l.row===s&&l.col===a&&n.push(R_(l))})})}),n}clearBorders(t){t?this.setBorders(t):(Tt(this.savedBorders,r=>{this.clearBordersFromSelectionSettings(r.id),this.clearNullCellRange(),this.hot.removeCellMeta(r.row,r.col,"borders")}),this.savedBorders.length=0)}insertBorderIntoSettings(t,r){this.checkSavedBorders(t)||this.savedBorders.push(t);let n=this.hot._createCellRange(this.hot._createCellCoords(t.row,t.col));this.checkCustomSelections(t,n,r)||this.hot.selection.highlight.addCustomSelection({border:t,visualCellRange:n})}prepareBorderFromCustomAdded(t,r,i,n){let o=this.hot.countRows(),s=this.hot.countCols();if(t>=o||r>=s)return;let a=WI(t,r);i&&(a=Aet(a,i),Tt(this.hot.selection.highlight.customSelections,l=>{if(a.id===l.settings.id)return Object.assign(l.settings,i),a.id=l.settings.id,a.top=l.settings.top,a.bottom=l.settings.bottom,a.start=l.settings.start,a.end=l.settings.end,!1})),this.hot.setCellMeta(t,r,"borders",R_(a)),this.insertBorderIntoSettings(a,n)}prepareBorderFromCustomAddedRange(t,r){let i=Math.min(t.to.row,this.hot.countRows()-1),n=Math.min(t.to.col,this.hot.countCols()-1);Oe(t.from.row,i,o=>{Oe(t.from.col,n,s=>{let a=WI(o,s),l=0;o===t.from.row&&en(r,"top")&&(l+=1,a.top=r.top),o===t.to.row&&en(r,"bottom")&&(l+=1,a.bottom=r.bottom),s===t.from.col&&en(r,"start")&&(l+=1,a.start=r.start),s===t.to.col&&en(r,"end")&&(l+=1,a.end=r.end),l>0&&(this.hot.setCellMeta(o,s,"borders",R_(a)),this.insertBorderIntoSettings(a))})})}removeAllBorders(t,r){let i=vF(t,r);this.spliceBorder(i),this.clearBordersFromSelectionSettings(i),this.clearNullCellRange(),this.hot.removeCellMeta(t,r,"borders")}setBorder(t,r,i,n){let o=this.hot.getCellMeta(t,r).borders;!o||o.border===void 0?o=WI(t,r):o=UI(o),n?(o[i]=ah(),this.countHide(o)===4?this.removeAllBorders(t,r):(this.checkCustomSelectionsFromContextMenu(o,i,n)||this.insertBorderIntoSettings(o),this.hot.setCellMeta(t,r,"borders",R_(o)))):(o[i]=E_(),this.checkCustomSelectionsFromContextMenu(o,i,n)||this.insertBorderIntoSettings(o),this.hot.setCellMeta(t,r,"borders",R_(o)))}prepareBorder(t,r,i){Tt(t,n=>{let{start:o,end:s}=n;if(o.row===s.row&&o.col===s.col)r==="noBorders"?this.removeAllBorders(o.row,o.col):this.setBorder(o.row,o.col,r,i);else switch(r){case"noBorders":Oe(o.col,s.col,a=>{Oe(o.row,s.row,l=>{this.removeAllBorders(l,a)})});break;case"top":Oe(o.col,s.col,a=>{this.setBorder(o.row,a,r,i)});break;case"bottom":Oe(o.col,s.col,a=>{this.setBorder(s.row,a,r,i)});break;case"start":Oe(o.row,s.row,a=>{this.setBorder(a,o.col,r,i)});break;case"end":Oe(o.row,s.row,a=>{this.setBorder(a,s.col,r,i)});break;default:break}})}createCustomBorders(t){Tt(t,r=>{let i=UI(r);r.range?this.prepareBorderFromCustomAddedRange(r.range,i):this.prepareBorderFromCustomAdded(r.row,r.col,i)})}countHide(t){let{top:r,bottom:i,start:n,end:o}=t;return cn([r,i,n,o],(a,l)=>{let c=a;return l&&l.hide&&(c+=1),c},0)}clearBordersFromSelectionSettings(t){let r=xi(this.hot.selection.highlight.customSelections,i=>i.settings.id).indexOf(t);r>-1&&this.hot.selection.highlight.customSelections[r].clear()}clearNullCellRange(){Tt(this.hot.selection.highlight.customSelections,(t,r)=>{if(t.cellRange===null)return this.hot.selection.highlight.customSelections[r].destroy(),this.hot.selection.highlight.customSelections.splice(r,1),!1})}hideBorders(){Tt(this.savedBorders,t=>{this.clearBordersFromSelectionSettings(t.id),this.clearNullCellRange()})}spliceBorder(t){let r=xi(this.savedBorders,i=>i.id).indexOf(t);r>-1&&this.savedBorders.splice(r,1)}checkSavedBorders(t){let r=!1;return this.countHide(t)===4?(this.spliceBorder(t.id),r=!0):Tt(this.savedBorders,(n,o)=>{if(t.id===n.id)return this.savedBorders[o]=t,r=!0,!1}),r}checkCustomSelectionsFromContextMenu(t,r,i){let n=!1;return Tt(this.hot.selection.highlight.customSelections,o=>{if(t.id===o.settings.id){let s=this.hot.view._wt.selectionManager.getBorderInstances(o);return Tt(s,a=>{a.toggleHiddenClass(r,i)}),n=!0,!1}}),n}checkCustomSelections(t,r,i){let n=this.countHide(t),o=!1;return n===4?(this.removeAllBorders(t.row,t.col),o=!0):Tt(this.hot.selection.highlight.customSelections,s=>{if(t.id===s.settings.id){if(s.visualCellRange=r,s.commit(),i){let a=this.hot.view._wt.selectionManager.getBorderInstances(s);Tt(a,l=>{l.changeBorderStyle(i,t)})}return o=!0,!1}}),o}changeBorderSettings(){let t=this.hot.getSettings()[kS];if(Array.isArray(t)){let r=jo(t);this.checkSettingsCohesion(r),r.length||(this.savedBorders=r),this.createCustomBorders(r)}else t!==void 0&&this.createCustomBorders(this.savedBorders)}checkSettingsCohesion(t){let r=Iet(t),i=ket(t);if(r&&i)throw new Error('The "left"/"right" and "start"/"end" options should not be used together. Please use only the option "start"/"end".');if(this.hot.isRtl()&&r)throw new Error('The "left"/"right" properties are not supported for RTL. Please use option "start"/"end".')}destroy(){super.destroy()}};function uMt(e){this.hot.getSettings()[kS]&&e.items.push({name:"---------"},{key:"borders",name(){return this.getTranslatedPhrase($x)},disabled(){let t=this.getSelectedRangeLast();return!t||t.isSingleHeader()?!0:this.selection.isSelectedByCorner()},submenu:{items:[KI(this),GI(this),YI(this),qI(this),$I(this)]}})}function hMt(){this.changeBorderSettings()}var Z1e=ot(Gt(),1);function fMt(e,t){mMt(e,t),t.add(e)}function mMt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _F(e,t,r){return t=pMt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pMt(e){var t=gMt(e,"string");return typeof t=="symbol"?t:t+""}function gMt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Net(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var CF="dragToScroll",Fet=100,wF=new WeakSet,OS=class extends vi{constructor(){super(...arguments),fMt(this,wF),_F(this,"boundaries",null),_F(this,"callback",null),_F(this,"listening",!1)}static get PLUGIN_KEY(){return CF}static get PLUGIN_PRIORITY(){return Fet}isEnabled(){return!!this.hot.getSettings()[CF]}enablePlugin(){this.enabled||(this.addHook("afterOnCellMouseDown",t=>Net(wF,this,Let).call(this,t)),this.addHook("afterOnCellCornerMouseDown",t=>Net(wF,this,Let).call(this,t)),this.registerEvents(),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.unregisterEvents(),super.disablePlugin()}setBoundaries(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{left:0,right:this.hot.rootWindow.innerWidth,top:0,bottom:this.hot.rootWindow.innerHeight};this.boundaries=t}setCallback(t){this.callback=t}check(t,r){let i=0,n=0;r<this.boundaries.top?n=r-this.boundaries.top:r>this.boundaries.bottom&&(n=r-this.boundaries.bottom),t<this.boundaries.left?i=t-this.boundaries.left:t>this.boundaries.right&&(i=t-this.boundaries.right),this.callback(i,n)}listen(){this.listening=!0}unlisten(){this.listening=!1}isListening(){return this.listening}registerEvents(){let{rootWindow:t}=this.hot,r=t;for(;r;)this.eventManager.addEventListener(r.document,"contextmenu",()=>this.unlisten()),this.eventManager.addEventListener(r.document,"mouseup",()=>this.unlisten()),this.eventManager.addEventListener(r.document,"mousemove",i=>this.onMouseMove(i)),r=zu(r)}unregisterEvents(){this.eventManager.clear()}onMouseMove(t){this.isListening()&&this.check(t.clientX,t.clientY)}destroy(){super.destroy()}};function Let(e){if(Ql(e))return;let t=this.hot.view._wt.wtOverlays.topOverlay.mainTableScrollableElement;this.setBoundaries(t!==this.hot.rootWindow?t.getBoundingClientRect():void 0),this.setCallback((r,i)=>{var n,o;let s=(n=t.scrollLeft)!==null&&n!==void 0?n:t.scrollX,a=(o=t.scrollTop)!==null&&o!==void 0?o:t.scrollY;t.scroll(s+Math.sign(r)*50,a+Math.sign(i)*20)}),this.listen()}var nwe=ot(Gt(),1);function bMt(e,t){Het(e,t),t.add(e)}function vMt(e,t,r){Het(e,t),t.set(e,r)}function Het(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function xF(e,t,r){return t=yMt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yMt(e){var t=_Mt(e,"string");return typeof t=="symbol"?t:t+""}function _Mt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wMt(e,t){return e.get(Qc(e,t))}function Bet(e,t,r){return e.set(Qc(e,t),r),r}function Qc(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}Le.getSingleton().register("afterDropdownMenuDefaultOptions");Le.getSingleton().register("beforeDropdownMenuShow");Le.getSingleton().register("afterDropdownMenuShow");Le.getSingleton().register("afterDropdownMenuHide");Le.getSingleton().register("afterDropdownMenuExecute");var PS="dropdownMenu",jet=230,XI="changeType",SF=PS,ZI=new WeakMap,Wd=new WeakSet,T_=class e extends vi{static get PLUGIN_KEY(){return PS}static get PLUGIN_PRIORITY(){return jet}static get PLUGIN_DEPS(){return["plugin:AutoColumnSize"]}static get DEFAULT_ITEMS(){return[xf,Sf,Pi,Rf,Pi,I0,Pi,Ef,Pi,Ea]}constructor(t){super(t),bMt(this,Wd),xF(this,"commandExecutor",new m_(this.hot)),xF(this,"itemsFactory",null),xF(this,"menu",null),vMt(this,ZI,!1),this.hot.addHook("afterGetColHeader",(r,i)=>Qc(Wd,this,xMt).call(this,r,i))}isEnabled(){return this.hot.getSettings()[PS]}enablePlugin(){var t=this;if(this.enabled)return;this.itemsFactory=new p_(this.hot,e.DEFAULT_ITEMS),this.addHook("beforeOnCellMouseDown",function(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return Qc(Wd,t,AMt).call(t,...o)}),this.addHook("beforeViewportScrollHorizontally",function(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return Qc(Wd,t,MMt).call(t,...o)});let r=this.hot.getSettings()[PS],i={items:this.itemsFactory.getItems(r)};this.registerEvents(),typeof r.callback=="function"&&this.commandExecutor.setCommonCallback(r.callback),this.registerShortcuts(),super.enablePlugin(),this.callOnPluginsReady(()=>{this.hot.runHooks("afterDropdownMenuDefaultOptions",i),this.itemsFactory.setPredefinedItems(i.items);let n=this.itemsFactory.getItems(r);this.menu&&this.menu.destroy(),this.menu=new Af(this.hot,{className:"htDropdownMenu",keepInViewport:!0,container:r.uiContainer||this.hot.rootDocument.body}),this.hot.runHooks("beforeDropdownMenuSetItems",n),this.menu.setMenuItems(n),this.menu.addLocalHook("beforeOpen",()=>Qc(Wd,this,SMt).call(this)),this.menu.addLocalHook("afterOpen",()=>Qc(Wd,this,EMt).call(this)),this.menu.addLocalHook("afterSubmenuOpen",o=>Qc(Wd,this,RMt).call(this,o)),this.menu.addLocalHook("afterClose",()=>Qc(Wd,this,TMt).call(this)),this.menu.addLocalHook("executeCommand",function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return t.executeCommand.call(t,...s)}),Tt(n,o=>this.commandExecutor.registerCommand(o.key,o))})}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.close(),this.menu&&this.menu.destroy(),this.unregisterShortcuts(),super.disablePlugin()}registerShortcuts(){let t=this.hot.getShortcutManager().getContext("grid"),r=()=>{let{highlight:i}=this.hot.getSelectedRangeLast();if((i.isHeader()&&i.row===-1||i.isCell())&&i.col>=0){this.hot.selectColumns(i.col,i.col,-1);let{from:n}=this.hot.getSelectedRangeLast(),o=h_(this.menu.container,this.hot.rootDocument),s=this.hot.getCell(-1,n.col,!0),a=s.getBoundingClientRect();this.open({left:a.left+o.left,top:a.top+s.offsetHeight+o.top},{left:a.width}),this.menu.getNavigator().toFirstItem()}};t.addShortcuts([{keys:[["Shift","Alt","ArrowDown"],["Control/Meta","Enter"]],callback:r,runOnlyIf:()=>{var i;let n=(i=this.hot.getSelectedRangeLast())===null||i===void 0?void 0:i.highlight;return n&&this.hot.selection.isCellVisible(n)&&n.isHeader()&&!this.menu.isOpened()},captureCtrl:!0,group:SF},{keys:[["Shift","Alt","ArrowDown"]],callback:r,runOnlyIf:()=>{var i;let n=(i=this.hot.getSelectedRangeLast())===null||i===void 0?void 0:i.highlight;return n&&this.hot.selection.isCellVisible(n)&&n.isCell()&&!this.menu.isOpened()},group:SF}])}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(SF)}registerEvents(){this.eventManager.addEventListener(this.hot.rootElement,"click",t=>Qc(Wd,this,CMt).call(this,t))}open(t){var r;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{above:0,below:0,left:0,right:0};(r=this.menu)!==null&&r!==void 0&&r.isOpened()||(this.menu.open(),bi(i,(n,o)=>{this.menu.setOffset(o,n)}),this.menu.setPosition(t))}close(){var t;(t=this.menu)===null||t===void 0||t.close()}executeCommand(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),n=1;n<r;n++)i[n-1]=arguments[n];this.commandExecutor.execute(t,...i)}setListening(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.menu.isOpened()&&(t?this.menu.hotMenu.listen():this.menu.hotMenu.unlisten())}destroy(){this.close(),this.menu&&this.menu.destroy(),super.destroy()}};function Vet(e){e.getKeyboardShortcutsCtrl().addCustomShortcuts([{keys:[["Control/Meta","A"]],callback:()=>!1}])}function CMt(e){if(Ze(e.target,XI)){let t=h_(this.menu.container,this.hot.rootDocument),r=e.target.getBoundingClientRect();e.stopPropagation(),Bet(ZI,this,!1),this.open({left:r.left+t.left,top:r.top+e.target.offsetHeight+3+t.top},{left:r.width})}}function xMt(e,t){let r=t.parentNode;if(!r)return;let i=r.parentNode.childNodes,n=Array.prototype.indexOf.call(i,r);if(e<0||n!==i.length-1)return;let o=t.querySelector(`.${XI}`);if(this.enabled&&o)return;if(!this.enabled){o&&o.parentNode.removeChild(o);return}let s=this.hot.rootDocument.createElement("button");s.className=XI,s.type="button",s.tabIndex=-1,this.hot.getSettings().ariaTags&&(Xe(s,[Os(),Zv(" ")]),Xe(t,[dM("menu")])),s.onclick=function(){return!1},t.firstChild.insertBefore(s,t.firstChild.firstChild)}function SMt(){this.hot.runHooks("beforeDropdownMenuShow",this)}function EMt(){this.hot.runHooks("afterDropdownMenuShow",this),Qc(Wd,this,Vet).call(this,this.menu)}function RMt(e){Qc(Wd,this,Vet).call(this,e)}function TMt(){this.hot.listen(),this.hot.runHooks("afterDropdownMenuHide",this)}function MMt(e){return wMt(ZI,this)?null:e}function AMt(e){Ze(e.target,XI)&&Bet(ZI,this,!0)}T_.SEPARATOR={name:Pi};var Owe=ot(Gt(),1);var ywe=ot(Gt(),1),_we=ot(we(),1);function zet(e,t,r){return t=IMt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IMt(e){var t=kMt(e,"string");return typeof t=="symbol"?t:t+""}function kMt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EF=class{constructor(t){zet(this,"hot",void 0),zet(this,"options",{}),this.hot=t}setOptions(t){this.options=t}getData(){let{startRow:t,startCol:r,endRow:i,endCol:n}=this._getDataRange(),o=this.options,s=[];return Oe(t,i,a=>{let l=[];!o.exportHiddenRows&&this._isHiddenRow(a)||(Oe(r,n,c=>{!o.exportHiddenColumns&&this._isHiddenColumn(c)||l.push(this.hot.getDataAtCell(a,c))}),s.push(l))}),s}getRowHeaders(){let t=[];if(this.options.rowHeaders){let{startRow:r,endRow:i}=this._getDataRange(),n=this.hot.getRowHeader();Oe(r,i,o=>{!this.options.exportHiddenRows&&this._isHiddenRow(o)||t.push(n[o])})}return t}getColumnHeaders(){let t=[];if(this.options.columnHeaders){let{startCol:r,endCol:i}=this._getDataRange(),n=this.hot.getColHeader();Oe(r,i,o=>{!this.options.exportHiddenColumns&&this._isHiddenColumn(o)||t.push(n[o])})}return t}_getDataRange(){let t=this.hot.countCols()-1,r=this.hot.countRows()-1,[i=0,n=0,o=r,s=t]=this.options.range;return i=Math.max(i,0),n=Math.max(n,0),o=Math.min(o,r),s=Math.min(s,t),{startRow:i,startCol:n,endRow:o,endCol:s}}_isHiddenRow(t){return this.hot.rowIndexMapper.isHidden(this.hot.toPhysicalRow(t))}_isHiddenColumn(t){return this.hot.columnIndexMapper.isHidden(this.hot.toPhysicalColumn(t))}},Uet=EF;var xwe=ot(Gt(),1);function Wet(e,t,r){return t=DMt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DMt(e){var t=OMt(e,"string");return typeof t=="symbol"?t:t+""}function OMt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RF=class e{static get DEFAULT_OPTIONS(){return{mimeType:"text/plain",fileExtension:"txt",filename:"Handsontable [YYYY]-[MM]-[DD]",encoding:"utf-8",bom:!1,columnHeaders:!1,rowHeaders:!1,exportHiddenColumns:!1,exportHiddenRows:!1,range:[]}}constructor(t,r){Wet(this,"dataProvider",void 0),Wet(this,"options",void 0),this.dataProvider=t,this.options=this._mergeOptions(r),this.dataProvider.setOptions(this.options)}_mergeOptions(t){let r=Xo(this.constructor.DEFAULT_OPTIONS),i=new Date;return r=Wr(Xo(e.DEFAULT_OPTIONS),r),r=Wr(r,t),r.filename=aM(r.filename,{YYYY:i.getFullYear(),MM:`${i.getMonth()+1}`.padStart(2,"0"),DD:`${i.getDate()}`.padStart(2,"0")}),r}},Yet=RF;var PMt="\r",NMt='"',LMt=`
`,TF=class extends Yet{static get DEFAULT_OPTIONS(){return{mimeType:"text/csv",fileExtension:"csv",bom:!0,columnDelimiter:",",rowDelimiter:`\r
`}}export(){let t=this.options,r=this.dataProvider.getData(),i=this.dataProvider.getColumnHeaders(),n=i.length>0,o=this.dataProvider.getRowHeaders(),s=o.length>0,a=t.bom?"\uFEFF":"";return n&&(i=xi(i,l=>this._escapeCell(l,!0)),s&&(a+=t.columnDelimiter),a+=i.join(t.columnDelimiter),a+=t.rowDelimiter),Tt(r,(l,c)=>{c>0&&(a+=t.rowDelimiter),s&&(a+=this._escapeCell(o[c])+t.columnDelimiter),a+=l.map(d=>this._escapeCell(d)).join(t.columnDelimiter)}),a}_escapeCell(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=on(t);return i!==""&&(r||i.indexOf(PMt)>=0||i.indexOf(NMt)>=0||i.indexOf(LMt)>=0||i.indexOf(this.options.columnDelimiter)>=0)&&(i=i.replace(new RegExp('"',"g"),'""'),i=`"${i}"`),i}},qet=TF;var FMt="csv";var QI={[FMt]:qet};function MF(e,t,r){return typeof QI[e]=="function"?new QI[e](t,r):null}var $et="exportFile",Get=240,NS=class extends vi{static get PLUGIN_KEY(){return $et}static get PLUGIN_PRIORITY(){return Get}isEnabled(){return!0}exportAsString(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this._createTypeFormatter(t,r).export()}exportAsBlob(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this._createBlob(this._createTypeFormatter(t,r))}downloadFile(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{rootDocument:i,rootWindow:n}=this.hot,o=this._createTypeFormatter(t,r),s=this._createBlob(o),a=n.URL||n.webkitURL,l=i.createElement("a"),c=`${o.options.filename}.${o.options.fileExtension}`;if(l.download!==void 0){let d=a.createObjectURL(s);l.style.display="none",l.setAttribute("href",d),l.setAttribute("download",c),i.body.appendChild(l),l.dispatchEvent(new MouseEvent("click")),i.body.removeChild(l),setTimeout(()=>{a.revokeObjectURL(d)},100)}else navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob(s,c)}_createTypeFormatter(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!QI[t])throw new Error(`Export format type "${t}" is not supported.`);return MF(t,new Uet(this.hot),r)}_createBlob(t){let r=null;return typeof Blob<"u"&&(r=new Blob([t.export()],{type:`${t.options.mimeType};charset=${t.options.encoding}`})),r}};var sEe=ot(Gt(),1),aEe=ot(we(),1),lEe=ot(w6(),1);var h2e=ot(Gt(),1),f2e=ot(we(),1);var jwe=ot(Gt(),1);function M_(e,t,r){return t=HMt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HMt(e){var t=BMt(e,"string");return typeof t=="symbol"?t:t+""}function BMt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yd=class{constructor(t,r){let{id:i,stateless:n=!0}=r;M_(this,"hot",void 0),M_(this,"id",void 0),M_(this,"elements",[]),M_(this,"hidden",!1),M_(this,"stateId",""),M_(this,"state",void 0),this.hot=t,this.id=i,this.stateId=`Filters.component.${this.id}`,this.state=n?null:this.hot.columnIndexMapper.registerMap(this.stateId,new Zu)}getElements(){return this.elements}reset(){Tt(this.elements,t=>t.reset())}hide(){this.hidden=!0}show(){this.hidden=!1}isHidden(){return this.hot===null||this.hidden}restoreState(t){this.state&&this.setState(this.state.getValueAtIndex(t))}setState(){throw new Error("The state setting logic is not implemented")}saveState(t){this.state&&this.state.setValueAtIndex(t,this.getState())}getState(){throw new Error("The state gathering logic is not implemented")}destroy(){this.hot.columnIndexMapper.unregisterMap(this.stateId),this.clearLocalHooks(),Tt(this.elements,t=>t.destroy()),this.state=null,this.elements=null,this.hot=null}};Zi(Yd,jn);var pxe=ot(we(),1);var qwe=ot(Gt(),1),LS={};function Tl(e,t){if(!LS[e])throw Error(`Filter condition "${e}" does not exist.`);let{condition:r,descriptor:i}=LS[e],n=t;return i.inputValuesDecorator&&(n=i.inputValuesDecorator(n)),function(o){return r.apply(o.meta.instance,[].concat([o],[n]))}}function lh(e){if(!LS[e])throw Error(`Filter condition "${e}" does not exist.`);return LS[e].descriptor}function Cr(e,t,r){r.key=e,LS[e]={condition:t,descriptor:r}}var zo="none";function jMt(){return!0}Cr(zo,jMt,{name:u0,inputsCount:0,showOperators:!1});var F0="empty";function VMt(e){return sn(e.value)}Cr(F0,VMt,{name:o2,inputsCount:0,showOperators:!0});var FS="not_empty";function zMt(e,t){return!Tl(F0,t)(e)}Cr(FS,zMt,{name:s2,inputsCount:0,showOperators:!0});var H0="eq";function UMt(e,t){let[r]=t;return on(e.value).toLocaleLowerCase(e.meta.locale)===on(r)}Cr(H0,UMt,{name:a2,inputsCount:1,showOperators:!0});var HS="neq";function WMt(e,t){return!Tl(H0,t)(e)}Cr(HS,WMt,{name:l2,inputsCount:1,showOperators:!0});var AF="gt";function YMt(e,t){let[r]=t,i=r;return e.meta.type==="numeric"&&(i=parseFloat(i,10)),e.value>i}Cr(AF,YMt,{name:f2,inputsCount:1,showOperators:!0});var IF="gte";function qMt(e,t){let[r]=t,i=r;return e.meta.type==="numeric"&&(i=parseFloat(i,10)),e.value>=i}Cr(IF,qMt,{name:m2,inputsCount:1,showOperators:!0});var kF="lt";function $Mt(e,t){let[r]=t,i=r;return e.meta.type==="numeric"&&(i=parseFloat(i,10)),e.value<i}Cr(kF,$Mt,{name:p2,inputsCount:1,showOperators:!0});var DF="lte";function GMt(e,t){let[r]=t,i=r;return e.meta.type==="numeric"&&(i=parseFloat(i,10)),e.value<=i}Cr(DF,GMt,{name:g2,inputsCount:1,showOperators:!0});var OF=ot(ea(),1);var BS="date_after";function KMt(e,t){let[r]=t,i=(0,OF.default)(e.value,e.meta.dateFormat),n=(0,OF.default)(r,e.meta.dateFormat);return!i.isValid()||!n.isValid()?!1:i.diff(n)>=0}Cr(BS,KMt,{name:y2,inputsCount:1,showOperators:!0});var PF=ot(ea(),1);var jS="date_before";function XMt(e,t){let[r]=t,i=(0,PF.default)(e.value,e.meta.dateFormat),n=(0,PF.default)(r,e.meta.dateFormat);return!i.isValid()||!n.isValid()?!1:i.diff(n)<=0}Cr(jS,XMt,{name:_2,inputsCount:1,showOperators:!0});var A_="between";function ZMt(e,t){let[r,i]=t,n=r,o=i;if(e.meta.type==="numeric"){let s=parseFloat(n,10),a=parseFloat(o,10);n=Math.min(s,a),o=Math.max(s,a)}else if(e.meta.type==="date"){let s=Tl(jS,[o]),a=Tl(BS,[n]);return s(e)&&a(e)}return e.value>=n&&e.value<=o}Cr(A_,ZMt,{name:b2,inputsCount:2,showOperators:!0});var NF="not_between";function QMt(e,t){return!Tl(A_,t)(e)}Cr(NF,QMt,{name:v2,inputsCount:2,showOperators:!0});var LF="begins_with";function JMt(e,t){let[r]=t;return on(e.value).toLocaleLowerCase(e.meta.locale).startsWith(on(r))}Cr(LF,JMt,{name:c2,inputsCount:1,showOperators:!0});var FF="ends_with";function tAt(e,t){let[r]=t;return on(e.value).toLocaleLowerCase(e.meta.locale).endsWith(on(r))}Cr(FF,tAt,{name:d2,inputsCount:1,showOperators:!0});var VS="contains";function eAt(e,t){let[r]=t;return on(e.value).toLocaleLowerCase(e.meta.locale).indexOf(on(r))>=0}Cr(VS,eAt,{name:u2,inputsCount:1,showOperators:!0});var HF="not_contains";function iAt(e,t){return!Tl(VS,t)(e)}Cr(HF,iAt,{name:h2,inputsCount:1,showOperators:!0});var BF=ot(ea(),1);var jF="date_tomorrow";function rAt(e){let t=(0,BF.default)(e.value,e.meta.dateFormat);return t.isValid()?t.isSame((0,BF.default)().subtract(-1,"days").startOf("day"),"d"):!1}Cr(jF,rAt,{name:C2,inputsCount:0});var VF=ot(ea(),1);var zF="date_today";function nAt(e){let t=(0,VF.default)(e.value,e.meta.dateFormat);return t.isValid()?t.isSame((0,VF.default)().startOf("day"),"d"):!1}Cr(zF,nAt,{name:w2,inputsCount:0});var UF=ot(ea(),1);var WF="date_yesterday";function oAt(e){let t=(0,UF.default)(e.value,e.meta.dateFormat);return t.isValid()?t.isSame((0,UF.default)().subtract(1,"days").startOf("day"),"d"):!1}Cr(WF,oAt,{name:x2,inputsCount:0});var YCe=ot(we(),1),qCe=ot(yn(),1),$Ce=ot(_n(),1),GCe=ot(wn(),1),KCe=ot(Cn(),1),XCe=ot(xn(),1),ZCe=ot(Sn(),1),QCe=ot(En(),1);var exe=qK();function sAt(e,t){let r=e;return r===""&&(r=`(${t})`),r}var YF=new Set([1]).has(1),aAt=YF&&typeof Array.from=="function";function If(e){let t=e;return YF&&(t=new Set(t)),function(r){let i;return YF?i=t.has(r):i=!!~t.indexOf(r),i}}function JI(e){return e??""}function zS(e){let t=e;return aAt?t=Array.from(new Set(t)):t=rM(t),t=t.sort((r,i)=>typeof r=="number"&&typeof i=="number"?r-i:r===i?0:r>i?1:-1),t}function qF(e,t,r,i){let n=[],o=e===t,s;return o||(s=If(t)),Tt(e,a=>{let l=!1;(o||s(a))&&(l=!0);let c={checked:l,value:a,visualValue:sAt(a,r)};i&&i(c),n.push(c)}),n}var ch="by_value";function lAt(e,t){let[r]=t;return r(e.value)}Cr(ch,lAt,{name:"By value",inputsCount:0,inputValuesDecorator(e){let[t]=e;return[If(t)]},showOperators:!1});var sxe=ot(Gt(),1),I_={};function Ket(e){if(!I_[e])throw Error(`Operation with id "${e}" does not exist.`);let t=I_[e].func;return function(r,i){return t(r,i)}}function Xet(e){return I_[e].name}function k_(e,t,r){I_[e]={name:t,func:r}}var Jc="conjunction",cAt=R2;function dAt(e,t){return e.every(r=>r.func(t))}k_(Jc,cAt,dAt);var B0="disjunction",uAt=h0;function hAt(e,t){return e.some(r=>r.func(t))}k_(B0,uAt,hAt);var hxe=ot(Gt(),1);var D_="disjunctionWithExtraCondition",fAt=h0;function mAt(e,t){if(e.length<3)throw Error("Operation doesn't work on less then three conditions.");return e.slice(0,e.length-1).some(r=>r.func(t))&&e[e.length-1].func(t)}k_(D_,fAt,mAt);var pAt="numeric",Qet="text",gAt="date",Zet={[pAt]:[zo,Pi,F0,FS,Pi,H0,HS,Pi,AF,IF,kF,DF,A_,NF],[Qet]:[zo,Pi,F0,FS,Pi,H0,HS,Pi,LF,FF,Pi,VS,HF],[gAt]:[zo,Pi,F0,FS,Pi,H0,HS,Pi,jS,BS,A_,Pi,jF,zF,WF]};function $F(e){let t=[],r=e;return Zet[r]||(r=Qet),Tt(Zet[r],i=>{let n;i===Pi?n={name:Pi}:n=Xo(lh(i)),t.push(n)}),t}var Qxe=ot(Gt(),1);var Yxe=ot(Gt(),1);function US(e,t,r){return t=bAt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bAt(e){var t=vAt(e,"string");return typeof t=="symbol"?t:t+""}function vAt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GF="built",KF="building",Jet=["click","input","keydown","keypress","keyup","focus","blur","change"],vs=class e{static get DEFAULTS(){return Xo({className:"",value:"",tagName:"div",children:[],wrapIt:!0})}constructor(t,r){US(this,"hot",void 0),US(this,"eventManager",new Qo(this)),US(this,"options",void 0),US(this,"_element",void 0),US(this,"buildState",void 0),this.hot=t,this.options=Wr(e.DEFAULTS,r),this._element=this.hot.rootDocument.createElement(this.options.wrapIt?"div":this.options.tagName)}setValue(t){this.options.value=t,this.update()}getValue(){return this.options.value}get element(){return this.buildState===KF?this._element:this.buildState===GF?(this.update(),this._element):(this.buildState=KF,this.build(),this.buildState=GF,this._element)}isBuilt(){return this.buildState===GF}translateIfPossible(t){return typeof t=="string"&&t.startsWith(Ca)?this.hot.getTranslatedPhrase(t):t}build(){let t=(r,i)=>{this.eventManager.addEventListener(r,i,n=>this.runLocalHooks(i,n,this))};if(this.buildState||(this.buildState=KF),this._element.setAttribute("data-hot-input",!0),this.options.tabIndex!==void 0&&this._element.setAttribute("tabindex",this.options.tabIndex),this.options.role!==void 0&&this._element.setAttribute("role",this.options.role),this.options.className&&ne(this._element,this.options.className),this.options.children.length)Tt(this.options.children,r=>this._element.appendChild(r.element));else if(this.options.wrapIt){let r=this.hot.rootDocument.createElement(this.options.tagName);r.setAttribute("data-hot-input",!0),bi(this.options,(i,n)=>{r[n]!==void 0&&n!=="className"&&n!=="tagName"&&n!=="children"&&(r[n]=this.translateIfPossible(i))}),this._element.appendChild(r),Tt(Jet,i=>t(r,i))}else Tt(Jet,r=>t(this._element,r))}update(){}reset(){this.options.value="",this.update()}show(){this.element.style.display=""}hide(){this.element.style.display="none"}focus(){}destroy(){this.eventManager.destroy(),this.eventManager=null,this.hot=null,this._element.parentNode&&this._element.parentNode.removeChild(this._element),this._element=null}};Zi(vs,jn);function yAt(e,t){eit(e,t),t.add(e)}function _At(e,t,r){eit(e,t),t.set(e,r)}function eit(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function tk(e,t){return e.get(XF(e,t))}function wAt(e,t,r){return e.set(XF(e,t),r),r}function XF(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var O_=new WeakMap,tit=new WeakSet,qd=class e extends vs{static get DEFAULTS(){return Xo({placeholder:"",type:"text",tagName:"input",tabIndex:-1})}constructor(t,r){super(t,Wr(e.DEFAULTS,r)),yAt(this,tit),_At(this,O_,void 0),this.registerHooks()}registerHooks(){this.addLocalHook("keyup",t=>XF(tit,this,CAt).call(this,t))}build(){super.build();let t=this.hot.rootDocument.createElement("div");wAt(O_,this,this._element.firstChild),ne(this._element,"htUIInput"),ne(t,"htUIInputIcon"),this._element.appendChild(t),this.update()}update(){this.isBuilt()&&(tk(O_,this).type=this.options.type,tk(O_,this).placeholder=this.translateIfPossible(this.options.placeholder),tk(O_,this).value=this.translateIfPossible(this.options.value))}focus(){this.isBuilt()&&tk(O_,this).focus()}};function CAt(e){this.options.value=e.target.value}var r2e=ot(Gt(),1);function xAt(e,t){iit(e,t),t.add(e)}function WS(e,t,r){iit(e,t),t.set(e,r)}function iit(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function P_(e,t,r){return e.set(YS(e,t),r),r}function Ao(e,t){return e.get(YS(e,t))}function YS(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var ys=new WeakMap,ek=new WeakMap,ik=new WeakMap,ZF=new WeakMap,rk=new WeakMap,nk=new WeakSet,j0=class e extends vs{static get DEFAULTS(){return Xo({className:"htUISelect",wrapIt:!1,tabIndex:-1})}constructor(t,r){super(t,Wr(e.DEFAULTS,r)),xAt(this,nk),WS(this,ys,null),WS(this,ek,[]),WS(this,ik,void 0),WS(this,ZF,void 0),WS(this,rk,void 0),this.registerHooks()}getMenu(){return Ao(ys,this)}registerHooks(){this.addLocalHook("click",()=>YS(nk,this,RAt).call(this))}setItems(t){P_(ek,this,this.translateNames(t)),Ao(ys,this)&&Ao(ys,this).setMenuItems(Ao(ek,this))}translateNames(t){return Tt(t,r=>{r.name=this.translateIfPossible(r.name)}),t}build(){super.build(),P_(ys,this,new Af(this.hot,{className:"htSelectUI htFiltersConditionsMenu",keepInViewport:!1,standalone:!0,container:this.options.menuContainer})),Ao(ys,this).setMenuItems(Ao(ek,this));let t=new vs(this.hot,{className:"htUISelectCaption"}),r=new vs(this.hot,{className:"htUISelectDropdown"});P_(ik,this,t),P_(ZF,this,t.element),P_(rk,this,r),this.hot.getSettings().ariaTags&&(Xe(r.element,[Os()]),Xe(this._element,[cM()])),Tt([t,r],i=>this._element.appendChild(i.element)),Ao(ys,this).addLocalHook("select",i=>YS(nk,this,SAt).call(this,i)),Ao(ys,this).addLocalHook("afterClose",()=>YS(nk,this,EAt).call(this)),this.update()}update(){if(!this.isBuilt())return;let t;this.options.value?t=this.options.value.name:t=Ao(ys,this).hot.getTranslatedPhrase(u0),Ao(ZF,this).textContent=t,super.update()}openOptions(){let t=this.element.getBoundingClientRect();Ao(ys,this)&&(Ao(ys,this).open(),Ao(ys,this).setPosition({left:this.hot.isLtr()?t.left-5:t.left-31,top:t.top-1,width:t.width,height:t.height}),Ao(ys,this).getNavigator().toFirstItem(),Ao(ys,this).getKeyboardShortcutsCtrl().addCustomShortcuts([{keys:[["Tab"],["Shift","Tab"]],callback:r=>{this.closeOptions(),this.runLocalHooks("tabKeydown",r)}},{keys:[["Control/Meta","A"]],callback:()=>!1}]))}closeOptions(){Ao(ys,this)&&Ao(ys,this).close()}focus(){this.isBuilt()&&this.element.focus()}destroy(){Ao(ys,this)&&(Ao(ys,this).destroy(),P_(ys,this,null)),Ao(ik,this)&&Ao(ik,this).destroy(),Ao(rk,this)&&Ao(rk,this).destroy(),super.destroy()}};function SAt(e){e.name!==Pi&&(this.options.value=e,this.update(),this.runLocalHooks("select",this.options.value))}function EAt(){this.runLocalHooks("afterClose")}function RAt(){this.openOptions()}function TAt(e,t){MAt(e,t),t.add(e)}function MAt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function rit(e,t,r){return t=AAt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AAt(e){var t=IAt(e,"string");return typeof t=="symbol"?t:t+""}function IAt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nit(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var QF=new WeakSet,N_=class extends Yd{constructor(t,r){super(t,{id:r.id,stateless:!1}),TAt(this,QF),rit(this,"name",""),rit(this,"addSeparator",!1),this.name=r.name,this.addSeparator=r.addSeparator,this.elements.push(new j0(this.hot,{menuContainer:r.menuContainer})),this.elements.push(new qd(this.hot,{placeholder:D2})),this.elements.push(new qd(this.hot,{placeholder:O2})),this.registerHooks()}registerHooks(){this.getSelectElement().addLocalHook("select",t=>nit(QF,this,kAt).call(this,t)).addLocalHook("afterClose",()=>this.runLocalHooks("afterClose")).addLocalHook("tabKeydown",t=>this.runLocalHooks("selectTabKeydown",t)),Tt(this.getInputElements(),t=>{t.addLocalHook("keydown",r=>nit(QF,this,DAt).call(this,r))})}setState(t){if(this.reset(),!t)return;let r=Xo(t.command);r.name.startsWith(Co)&&(r.name=this.hot.getTranslatedPhrase(r.name)),this.getSelectElement().setValue(r),Tt(t.args,(i,n)=>{if(n>r.inputsCount-1)return!1;let o=this.getInputElement(n);o.setValue(i),o[r.inputsCount>n?"show":"hide"](),n||this.hot._registerTimeout(()=>o.focus(),10)})}getState(){let t=this.getSelectElement().getValue()||lh(zo),r=[];return Tt(this.getInputElements(),(i,n)=>{t.inputsCount>n&&r.push(i.getValue())}),{command:t,args:r}}updateState(t,r){let i=t?lh(t.name):lh(zo);this.state.setValueAtIndex(r,{command:i,args:t?t.args:[]}),t||Tt(this.getInputElements(),n=>n.setValue(null))}getSelectElement(){return this.elements.filter(t=>t instanceof j0)[0]}getInputElement(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.getInputElements()[t]}getInputElements(){return this.elements.filter(t=>t instanceof qd)}getMenuItemDescriptor(){return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:()=>this.isHidden(),renderer:(t,r,i,n,o,s)=>{ne(r.parentNode,"htFiltersMenuCondition"),this.addSeparator&&ne(r.parentNode,"border");let a=this.hot.rootDocument.createElement("div");return ne(a,"htFiltersMenuLabel"),a.textContent=s,r.appendChild(a),Tt(this.elements,l=>r.appendChild(l.element)),r}}}reset(){let t=this.hot.getPlugin("filters").getSelectedColumn(),r=[lh(zo)];if(t!==null){let{visualIndex:i}=t;r=$F(this.hot.getDataType(0,i,this.hot.countRows(),i))}Tt(this.getInputElements(),i=>i.hide()),this.getSelectElement().setItems(r),super.reset(),this.getSelectElement().setValue(r[0])}};function kAt(e){Tt(this.getInputElements(),(t,r)=>{t[e.inputsCount>r?"show":"hide"](),r===0&&this.hot._registerTimeout(()=>t.focus(),10)}),this.runLocalHooks("change",e)}function DAt(e){Uu(e.keyCode,"ESCAPE")&&(this.runLocalHooks("cancel"),Vo(e))}var A2e=ot(Gt(),1),I2e=ot(we(),1);var E2e=ot(Gt(),1);function oit(e,t,r){OAt(e,t),t.set(e,r)}function OAt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function qS(e,t){return e.get(ait(e,t))}function sit(e,t,r){return e.set(ait(e,t),r),r}function ait(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var L_=new WeakMap,JF=new WeakMap,$S=class e extends vs{static get DEFAULTS(){return Xo({type:"radio",tagName:"input",className:"htUIRadio",label:{}})}constructor(t,r){super(t,Wr(e.DEFAULTS,r)),oit(this,L_,void 0),oit(this,JF,void 0)}build(){super.build();let t=this.hot.rootDocument.createElement("label");t.textContent=this.translateIfPossible(this.options.label.textContent),t.htmlFor=this.translateIfPossible(this.options.label.htmlFor),sit(JF,this,t),sit(L_,this,this._element.firstChild),qS(L_,this).checked=this.options.checked,this._element.appendChild(t),this.update()}update(){this.isBuilt()&&(qS(JF,this).textContent=this.translateIfPossible(this.options.label.textContent))}isChecked(){return this.isBuilt()?qS(L_,this).checked:!1}setChecked(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isBuilt()&&(qS(L_,this).checked=t)}focus(){this.isBuilt()&&qS(L_,this).focus()}};function PAt(e,t){NAt(e,t),t.add(e)}function NAt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function LAt(e,t,r){return t=FAt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FAt(e){var t=HAt(e,"string");return typeof t=="symbol"?t:t+""}function HAt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BAt(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var lit=0,cit=new WeakSet,ok=class extends Yd{constructor(t,r){super(t,{id:r.id,stateless:!1}),PAt(this,cit),LAt(this,"name",""),this.name=r.name,this.buildOperatorsElement()}getMenuItemDescriptor(){return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:()=>this.isHidden(),renderer:(t,r)=>(ne(r.parentNode,"htFiltersMenuOperators"),Tt(this.elements,i=>r.appendChild(i.element)),r)}}buildOperatorsElement(){let t=[Jc,B0];Tt(t,r=>{let i=new $S(this.hot,{name:"operator",label:{htmlFor:r,textContent:Xet(r)},value:r,checked:r===t[lit],id:r});i.addLocalHook("change",n=>BAt(cit,this,jAt).call(this,n)),this.elements.push(i)})}setChecked(t){if(this.elements.length<t)throw Error(Gi`Radio button with index ${t} doesn't exist.`);Tt(this.elements,(r,i)=>{r.setChecked(i===t)})}getActiveOperationId(){let t=this.elements.find(r=>r instanceof $S&&r.isChecked());return t?t.getValue():Jc}getState(){return this.getActiveOperationId()}setState(t){this.reset(),t&&this.getActiveOperationId()!==t&&Tt(this.elements,r=>{r.setChecked(r.getValue()===t)})}updateState(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Jc,r=arguments.length>1?arguments[1]:void 0,i=t;i===D_&&(i=B0),this.state.setValueAtIndex(r,i)}reset(){this.setChecked(lit)}};function jAt(e){this.setState(e.target.value)}var nSe=ot(Gt(),1),oSe=ot(we(),1);var Y2e=ot(Gt(),1),q2e=ot(we(),1);var V2e=ot(Gt(),1);function VAt(e,t,r){zAt(e,t),t.set(e,r)}function zAt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function t9(e,t){return e.get(dit(e,t))}function UAt(e,t,r){return e.set(dit(e,t),r),r}function dit(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var GS=new WeakMap,V0=class e extends vs{static get DEFAULTS(){return Xo({href:"#",tagName:"a",tabIndex:-1,role:"button"})}constructor(t,r){super(t,Wr(e.DEFAULTS,r)),VAt(this,GS,void 0)}build(){super.build(),UAt(GS,this,this._element.firstChild)}update(){this.isBuilt()&&(t9(GS,this).textContent=this.translateIfPossible(this.options.textContent))}focus(){this.isBuilt()&&t9(GS,this).focus()}activate(){t9(GS,this).click()}};function WAt(e,t){hit(e,t),t.add(e)}function F_(e,t,r){hit(e,t),t.set(e,r)}function hit(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function rr(e,t){return e.get(H_(e,t))}function $d(e,t,r){return e.set(H_(e,t),r),r}function H_(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var uit="multipleSelect.itemBox",Gd=new WeakMap,xo=new WeakMap,e9=new WeakMap,kf=new WeakMap,kp=new WeakMap,Dp=new WeakMap,KS=new WeakSet,z0=class e extends vs{static get DEFAULTS(){return Xo({className:"htUIMultipleSelect",value:[]})}constructor(t,r){super(t,Wr(e.DEFAULTS,r)),WAt(this,KS),F_(this,Gd,[]),F_(this,xo,void 0),F_(this,e9,void 0),F_(this,kf,void 0),F_(this,kp,void 0),F_(this,Dp,void 0),$d(kf,this,new qd(this.hot,{placeholder:k2,className:"htUIMultipleSelectSearch"})),$d(kp,this,new V0(this.hot,{textContent:T2,className:"htUISelectAll"})),$d(Dp,this,new V0(this.hot,{textContent:M2,className:"htUIClearAll"})),this.registerHooks()}getItemsBox(){return rr(xo,this)}registerHooks(){rr(kf,this).addLocalHook("keydown",t=>H_(KS,this,qAt).call(this,t)),rr(kf,this).addLocalHook("input",t=>H_(KS,this,YAt).call(this,t)),rr(kp,this).addLocalHook("click",t=>H_(KS,this,$At).call(this,t)),rr(Dp,this).addLocalHook("click",t=>H_(KS,this,GAt).call(this,t))}setItems(t){$d(Gd,this,t),rr(xo,this)&&rr(xo,this).loadData(rr(Gd,this))}setLocale(t){$d(e9,this,t)}getLocale(){return rr(e9,this)}getItems(){return[...rr(Gd,this)]}getValue(){return XAt(rr(Gd,this))}getSearchInputElement(){return rr(kf,this)}getSelectAllElement(){return rr(kp,this)}getClearAllElement(){return rr(Dp,this)}isSelectedAllValues(){return rr(Gd,this).length===this.getValue().length}build(){super.build();let{rootDocument:t}=this.hot,r=t.createElement("div"),i=new vs(this.hot,{className:"htUISelectionControls",children:[rr(kp,this),rr(Dp,this)]});this._element.appendChild(rr(kf,this).element),this._element.appendChild(i.element),this._element.appendChild(r);let n=o=>{if(!this._element)return;rr(xo,this)&&rr(xo,this).destroy(),ne(o,"htUIMultipleSelectHot"),$d(xo,this,new this.hot.constructor(o,{data:rr(Gd,this),columns:[{data:"checked",type:"checkbox",label:{property:"visualValue",position:"after"}}],beforeRenderer:(l,c,d,u,h,f)=>{l.title=f.instance.getDataAtRowProp(c,f.label.property)},afterListen:()=>{this.runLocalHooks("focus",this)},beforeOnCellMouseUp:()=>{rr(xo,this).listen()},colWidths:()=>rr(xo,this).container.scrollWidth-Rn(t),maxCols:1,autoWrapCol:!0,height:110,copyPaste:!1,disableVisualSelection:"area",fillHandle:!1,fragmentSelection:"cell",tabMoves:{row:1,col:0},layoutDirection:this.hot.isRtl()?"rtl":"ltr"})),rr(xo,this).init();let a=rr(xo,this).getShortcutManager().getContext("grid");a.removeShortcutsByKeys(["Tab"]),a.removeShortcutsByKeys(["Shift","Tab"]),a.addShortcut({keys:[["Escape"]],callback:l=>{this.runLocalHooks("keydown",l,this)},group:uit}),a.addShortcut({keys:[["Tab"],["Shift","Tab"]],callback:l=>{rr(xo,this).deselectCell(),this.runLocalHooks("keydown",l,this),this.runLocalHooks("listTabKeydown",l,this)},group:uit})};n(r),this.hot._registerTimeout(()=>n(r),100)}focus(){this.isBuilt()&&rr(xo,this).listen()}reset(){rr(kf,this).reset(),rr(kp,this).reset(),rr(Dp,this).reset()}update(){this.isBuilt()&&(rr(xo,this).loadData(KAt(rr(Gd,this),this.options.value)),super.update())}destroy(){rr(xo,this)&&rr(xo,this).destroy(),rr(kf,this).destroy(),rr(Dp,this).destroy(),rr(kp,this).destroy(),$d(kf,this,null),$d(Dp,this,null),$d(kp,this,null),$d(xo,this,null),$d(Gd,this,null),super.destroy()}};function YAt(e){let t=e.target.value.toLocaleLowerCase(this.getLocale()),r;t===""?r=[...rr(Gd,this)]:r=rr(Gd,this).filter(i=>`${i.value}`.toLocaleLowerCase(this.getLocale()).indexOf(t)>=0),rr(xo,this).loadData(r)}function qAt(e){this.runLocalHooks("keydown",e,this),vM(Uu,e.keyCode)("ARROW_DOWN")&&(e.preventDefault(),Vo(e),rr(xo,this).listen(),rr(xo,this).selectCell(0,0))}function $At(e){let t=[];e.preventDefault(),rr(xo,this).getSourceData().forEach((r,i)=>{r.checked=!0,t.push(L6(r,i)[0])}),rr(xo,this).setSourceDataAtCell(t)}function GAt(e){let t=[];e.preventDefault(),rr(xo,this).getSourceData().forEach((r,i)=>{r.checked=!1,t.push(L6(r,i)[0])}),rr(xo,this).setSourceDataAtCell(t)}function KAt(e,t){let r=If(t);return e.map(i=>(i.checked=r(i.value),i))}function XAt(e){let t=[];return e.forEach(r=>{r.checked&&t.push(r.value)}),t}function ZAt(e,t){QAt(e,t),t.add(e)}function QAt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function JAt(e,t,r){return t=tIt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tIt(e){var t=eIt(e,"string");return typeof t=="symbol"?t:t+""}function eIt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sk(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var XS=new WeakSet,ak=class extends Yd{constructor(t,r){super(t,{id:r.id,stateless:!1}),ZAt(this,XS),JAt(this,"name",""),this.name=r.name,this.elements.push(new z0(this.hot)),this.registerHooks()}registerHooks(){this.getMultipleSelectElement().addLocalHook("keydown",t=>sk(XS,this,iIt).call(this,t)).addLocalHook("listTabKeydown",t=>this.runLocalHooks("listTabKeydown",t)),this.hot.addHook("modifyFiltersMultiSelectValue",(t,r)=>sk(XS,this,rIt).call(this,t,r))}getElements(){let t=this.getMultipleSelectElement();return[t.getSearchInputElement(),t.getSelectAllElement(),t.getClearAllElement(),this.getMultipleSelectElement()]}setState(t){if(this.reset(),t&&t.command.key===ch){let r=this.getMultipleSelectElement();r.setItems(t.itemsSnapshot),r.setValue(t.args[0]),r.setLocale(t.locale)}}getState(){let t=this.getMultipleSelectElement(),r=t.getItems();return{command:{key:t.isSelectedAllValues()||!r.length?zo:ch},args:[t.getValue()],itemsSnapshot:r}}updateState(t){let r=(i,n,o,s,a)=>{let[l]=cs(n,u=>u.name===ch),c={},d=this.hot.getTranslatedPhrase(Dy);if(l){let u=s(i,a),h=xi(u,_=>_.value),f=new Map(u.map(_=>[_.value,this.hot.getCellMeta(_.meta.visualRow,_.meta.visualCol)])),m=zS(h);o&&(l.args[0]=o);let g=[],p=qF(m,l.args[0],d,_=>{_.checked&&g.push(_.value),sk(XS,this,fit).call(this,_,f)}),b=t.editedConditionStack.column;c.locale=this.hot.getCellMeta(0,b).locale,c.args=[g],c.command=lh(ch),c.itemsSnapshot=p}else c.args=[],c.command=lh(zo);this.state.setValueAtIndex(i,c)};r(t.editedConditionStack.column,t.editedConditionStack.conditions,t.conditionArgsChange,t.filteredRowsFactory),t.dependentConditionStacks.length&&r(t.dependentConditionStacks[0].column,t.dependentConditionStacks[0].conditions,t.conditionArgsChange,t.filteredRowsFactory,t.editedConditionStack)}getMultipleSelectElement(){return this.elements.filter(t=>t instanceof z0)[0]}getMenuItemDescriptor(){return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:()=>this.isHidden(),renderer:(t,r,i,n,o,s)=>{ne(r.parentNode,"htFiltersMenuValue");let a=this.hot.rootDocument.createElement("div");return ne(a,"htFiltersMenuLabel"),a.textContent=s,r.appendChild(a),Tt(this.elements,l=>r.appendChild(l.element)),r}}}reset(){let t=this.hot.getTranslatedPhrase(Dy),r=this._getColumnVisibleValues(),i=r.map(l=>l.value),n=new Map(r.map(l=>[l.value,l.meta])),o=zS(i),s=qF(o,o,t,l=>{sk(XS,this,fit).call(this,l,n)});this.getMultipleSelectElement().setItems(s),super.reset(),this.getMultipleSelectElement().setValue(o);let a=this.hot.getPlugin("filters").getSelectedColumn();a!==null&&this.getMultipleSelectElement().setLocale(this.hot.getCellMeta(0,a.visualIndex).locale)}_getColumnVisibleValues(){let t=this.hot.getPlugin("filters").getSelectedColumn();return t===null?[]:xi(this.hot.getDataAtCol(t.visualIndex),(r,i)=>({value:JI(r),meta:this.hot.getCellMeta(i,t.visualIndex)}))}};function iIt(e){Uu(e.keyCode,"ESCAPE")&&(this.runLocalHooks("cancel"),Vo(e))}function fit(e,t){this.hot.hasHook("modifyFiltersMultiSelectValue")&&(e.visualValue=this.hot.runHooks("modifyFiltersMultiSelectValue",e.visualValue,t.get(e.value)))}function rIt(e,t){switch(t.type){case"numeric":return dI(e,t);default:return e}}var bSe=ot(Gt(),1),vSe=ot(we(),1);var pit;function nIt(e,t){oIt(e,t),t.add(e)}function oIt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function sIt(e,t,r){return t=aIt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aIt(e){var t=lIt(e,"string");return typeof t=="symbol"?t:t+""}function lIt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cIt(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var mit=new WeakSet,ZS=class e extends Yd{static get BUTTON_OK(){return"ok"}static get BUTTON_CANCEL(){return"cancel"}constructor(t,r){super(t,{id:r.id,stateless:!0}),nIt(this,mit),sIt(this,"name",""),this.name=r.name,this.elements.push(new qd(this.hot,{type:"button",value:A2,className:"htUIButton htUIButtonOK",identifier:e.BUTTON_OK})),this.elements.push(new qd(this.hot,{type:"button",value:I2,className:"htUIButton htUIButtonCancel",identifier:e.BUTTON_CANCEL})),this.registerHooks()}registerHooks(){Tt(this.elements,t=>{t.addLocalHook("click",(r,i)=>cIt(mit,this,dIt).call(this,r,i))})}getMenuItemDescriptor(){return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:()=>this.isHidden(),renderer:(t,r)=>(ne(r.parentNode,"htFiltersMenuActionBar"),Tt(this.elements,i=>r.appendChild(i.element)),r)}}accept(){this.runLocalHooks("accept")}cancel(){this.runLocalHooks("cancel")}};pit=ZS;function dIt(e,t){t.options.identifier===pit.BUTTON_OK?this.accept():this.cancel()}var SSe=ot(Gt(),1),ESe=ot(we(),1);function i9(e,t,r){return t=uIt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uIt(e){var t=hIt(e,"string");return typeof t=="symbol"?t:t+""}function hIt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var git="ConditionCollection.filteringStates",lk=class{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;i9(this,"hot",void 0),i9(this,"isMapRegistrable",void 0),i9(this,"filteringStates",new Zu),this.hot=t,this.isMapRegistrable=r,this.isMapRegistrable===!0?this.hot.columnIndexMapper.registerMap(git,this.filteringStates):this.filteringStates.init(this.hot.columnIndexMapper.getNumberOfIndexes())}isEmpty(){return this.getFilteredColumns().length===0}isMatch(t,r){var i;let n=this.filteringStates.getValueAtIndex(r),o=(i=n?.conditions)!==null&&i!==void 0?i:[],s=n?.operation;return this.isMatchInConditions(o,t,s)}isMatchInConditions(t,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Jc;return t.length?Ket(i)(t,r):!0}addCondition(t,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Jc,n=arguments.length>3?arguments[3]:void 0,o=this.hot.getCellMeta(0,t).locale,s=xi(r.args,d=>typeof d=="string"?d.toLocaleLowerCase(o):d),a=r.name||r.command.key;this.runLocalHooks("beforeAdd",t);let l=this.getOperation(t);if(l){if(l!==i)throw Error(Gi`The column of index ${t} has been already applied with a \`${l}\`\x20
        filter operation. Use \`removeConditions\` to clear the current conditions and then add new ones.\x20
        Mind that you cannot mix different types of operations (for instance, if you use \`conjunction\`,\x20
        use it consequently for a particular column).`)}else if(_r(I_[i]))throw new Error(Gi`Unexpected operation named \`${i}\`. Possible ones are\x20
        \`disjunction\` and \`conjunction\`.`);let c=this.getConditions(t);c.length===0?this.filteringStates.setValueAtIndex(t,{operation:i,conditions:[{name:a,args:s,func:Tl(a,s)}]},n):c.push({name:a,args:s,func:Tl(a,s)}),this.runLocalHooks("afterAdd",t)}getConditions(t){var r,i;return(r=(i=this.filteringStates.getValueAtIndex(t))===null||i===void 0?void 0:i.conditions)!==null&&r!==void 0?r:[]}getOperation(t){var r;return(r=this.filteringStates.getValueAtIndex(t))===null||r===void 0?void 0:r.operation}getFilteredColumns(){return this.filteringStates.getEntries().map(t=>{let[r]=t;return r})}getColumnStackPosition(t){return this.getFilteredColumns().indexOf(t)}exportAllConditions(){return cn(this.filteringStates.getEntries(),(t,r)=>{let[i,{operation:n,conditions:o}]=r;return t.push({column:i,operation:n,conditions:xi(o,s=>{let{name:a,args:l}=s;return{name:a,args:l}})}),t},[])}importAllConditions(t){this.clean(),Tt(t,r=>{Tt(r.conditions,i=>this.addCondition(r.column,i))})}removeConditions(t){this.runLocalHooks("beforeRemove",t),this.filteringStates.clearValue(t),this.runLocalHooks("afterRemove",t)}clean(){this.runLocalHooks("beforeClean"),this.filteringStates.clear(),this.runLocalHooks("afterClean")}hasConditions(t,r){let i=this.getConditions(t);return r?i.some(n=>n.name===r):i.length>0}destroy(){this.isMapRegistrable&&this.hot.columnIndexMapper.unregisterMap(git),this.filteringStates=null,this.clearLocalHooks()}};Zi(lk,jn);var ck=lk;var LSe=ot(Gt(),1),FSe=ot(we(),1);function bit(e,t,r){return t=fIt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fIt(e){var t=mIt(e,"string");return typeof t=="symbol"?t:t+""}function mIt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var r9=class{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:()=>[];bit(this,"conditionCollection",void 0),bit(this,"columnDataFactory",void 0),this.conditionCollection=t,this.columnDataFactory=r}filter(){let t=[];return Tt(this.conditionCollection.getFilteredColumns(),(r,i)=>{let n=this.columnDataFactory(r);i&&(n=this._getIntersectData(n,t)),t=this.filterByColumn(r,n)}),t}filterByColumn(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=[];return Tt(r,n=>{n!==void 0&&this.conditionCollection.isMatch(n,t)&&i.push(n)}),i}_getIntersectData(t,r){let i=[];return Tt(r,n=>{let o=n.meta.visualRow;t[o]!==void 0&&(i[o]=t[o])}),i}},dk=r9;var jSe=ot(Gt(),1),VSe=ot(we(),1);function pIt(e,t){gIt(e,t),t.add(e)}function gIt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function U0(e,t,r){return t=bIt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bIt(e){var t=vIt(e,"string");return typeof t=="symbol"?t:t+""}function vIt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function n9(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var uk=new WeakSet,hk=class{constructor(t,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:()=>[];pIt(this,uk),U0(this,"hot",void 0),U0(this,"conditionCollection",void 0),U0(this,"columnDataFactory",void 0),U0(this,"changes",[]),U0(this,"grouping",!1),U0(this,"latestEditedColumnPosition",-1),U0(this,"latestOrderStack",[]),this.hot=t,this.conditionCollection=r,this.columnDataFactory=i,this.conditionCollection.addLocalHook("beforeRemove",n=>n9(uk,this,yIt).call(this,n)),this.conditionCollection.addLocalHook("afterRemove",n=>this.updateStatesAtColumn(n)),this.conditionCollection.addLocalHook("afterAdd",n=>this.updateStatesAtColumn(n)),this.conditionCollection.addLocalHook("beforeClean",()=>n9(uk,this,_It).call(this)),this.conditionCollection.addLocalHook("afterClean",()=>n9(uk,this,wIt).call(this))}groupChanges(){this.grouping=!0}flush(){this.grouping=!1,Tt(this.changes,t=>{this.updateStatesAtColumn(t)}),this.changes.length=0}updateStatesAtColumn(t,r){var i=this;if(this.grouping){this.changes.indexOf(t)===-1&&this.changes.push(t);return}let n=this.conditionCollection.exportAllConditions(),o=this.conditionCollection.getColumnStackPosition(t);o===-1&&(o=this.latestEditedColumnPosition);let s=n.slice(0,o),a=n.slice(o);a.length&&a[0].column===t&&a.shift();let l=TK(function(d,u){let h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],f=new ck(i.hot,!1),m=[].concat(d,h);f.importAllConditions(m);let g=i.columnDataFactory(u),p;f.isEmpty()?p=g:p=new dk(f,_=>i.columnDataFactory(_)).filter(),p=xi(p,_=>_.meta.visualRow);let b=If(p);return f.destroy(),cs(g,_=>b(_.meta.visualRow))})(s),c=[].concat(this.conditionCollection.getConditions(t));this.runLocalHooks("update",{editedConditionStack:{column:t,conditions:c},dependentConditionStacks:a,filteredRowsFactory:l,conditionArgsChange:r})}destroy(){this.clearLocalHooks(),bi(this,(t,r)=>{this[r]=null})}};function yIt(e){this.latestEditedColumnPosition=this.conditionCollection.getColumnStackPosition(e)}function _It(){this.latestOrderStack=this.conditionCollection.getFilteredColumns()}function wIt(){Tt(this.latestOrderStack,e=>{this.updateStatesAtColumn(e)})}Zi(hk,jn);var vit=hk;function yit(e){return PI({initialPage:0,size:()=>e.length,onItemSelect:(r,i)=>{let n=e[r];if(n instanceof z0)return i;if(n.element&&!Pc(n.element))return!1;n.focus()}})}var QS="filters";function _it(e,t){let r=-1,i=yit(t),n=l=>()=>{e.isOpened()&&e.getKeyboardShortcutsCtrl().listen(QS),i.setCurrentPage(t.indexOf(l))};t.forEach(l=>{l instanceof vs&&(l.addLocalHook("click",n(l)),l.addLocalHook("focus",n(l)),l.addLocalHook("afterClose",n(l)))}),e.addLocalHook("afterSelectionChange",l=>{l.key.startsWith("filter_")||i.clear()});function o(l){let c=e.getKeyboardShortcutsCtrl(),d=l.getKeyboardShortcutsCtrl();i.clear(),d.addCustomShortcuts([{keys:[["Tab"],["Shift","Tab"]],forwardToContext:c.getContext(QS),callback:()=>{l.isSubMenu()&&l.close(),c.listen(QS)}}]),!l.isSubMenu()&&c.addCustomShortcuts([{keys:[["Tab"],["Shift","Tab"]],callback:u=>{let h=e.getNavigator();h.getCurrentPage()>-1&&(r=h.getCurrentPage()),h.clear(),u.shiftKey?i.toPreviousItem():i.toNextItem()}},{keys:[["Escape"]],callback:()=>{e.close()}},{keys:[["Enter"],["Space"]],preventDefault:!1,callback:u=>{let h=t[i.getCurrentPage()];h instanceof j0&&(h.openOptions(),u.preventDefault()),h instanceof V0&&(h.activate(),u.preventDefault()),h instanceof vs||u.preventDefault()}}],QS)}e.addLocalHook("afterSubmenuOpen",o),e.addLocalHook("afterOpen",o);function s(){e.focus(),e.getKeyboardShortcutsCtrl().listen(QS)}function a(){return r}return je(Vt({},i),{listen:s,getLastMenuPage:a})}function CIt(e,t){Sit(e,t),t.add(e)}function xIt(e,t,r){Sit(e,t),t.set(e,r)}function Sit(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function JS(e,t,r){return t=SIt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SIt(e){var t=EIt(e,"string");return typeof t=="symbol"?t:t+""}function EIt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RIt(e,t,r){return e.set(oc(e,t),r),r}function tE(e,t){return e.get(oc(e,t))}function oc(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var fk="filters",Eit=250,wit=fk,W0=new WeakMap,td=new WeakSet,eE=class extends vi{static get PLUGIN_KEY(){return fk}static get PLUGIN_PRIORITY(){return Eit}static get PLUGIN_DEPS(){return["plugin:DropdownMenu","plugin:HiddenRows","cell-type:checkbox"]}constructor(t){super(t),CIt(this,td),JS(this,"dropdownMenuPlugin",null),JS(this,"conditionCollection",null),JS(this,"conditionUpdateObserver",null),JS(this,"components",new Map([["filter_by_condition",null],["filter_operators",null],["filter_by_condition2",null],["filter_by_value",null],["filter_action_bar",null]])),JS(this,"filtersRowsMap",null),xIt(this,W0,void 0),this.hot.addHook("afterGetColHeader",(r,i)=>oc(td,this,DIt).call(this,r,i))}isEnabled(){return!!this.hot.getSettings()[fk]}enablePlugin(){if(this.enabled)return;this.filtersRowsMap=this.hot.rowIndexMapper.registerMap(this.pluginName,new qc),this.dropdownMenuPlugin=this.hot.getPlugin("dropdownMenu");let t=this.hot.getSettings().dropdownMenu,r=t&&t.uiContainer||this.hot.rootDocument.body,i=s=>(s.addLocalHook("accept",()=>oc(td,this,Cit).call(this,"accept")),s.addLocalHook("cancel",()=>oc(td,this,Cit).call(this,"cancel")),s.addLocalHook("change",a=>oc(td,this,kIt).call(this,s,a)),s),n=()=>`${this.hot.getTranslatedPhrase(S2)}:`,o=()=>`${this.hot.getTranslatedPhrase(E2)}:`;if(!this.components.get("filter_by_condition")){let s=new N_(this.hot,{id:"filter_by_condition",name:n,addSeparator:!1,menuContainer:r});s.addLocalHook("afterClose",()=>oc(td,this,xit).call(this)),this.components.set("filter_by_condition",i(s))}if(this.components.get("filter_operators")||this.components.set("filter_operators",new ok(this.hot,{id:"filter_operators",name:"Operators"})),!this.components.get("filter_by_condition2")){let s=new N_(this.hot,{id:"filter_by_condition2",name:"",addSeparator:!0,menuContainer:r});s.addLocalHook("afterClose",()=>oc(td,this,xit).call(this)),this.components.set("filter_by_condition2",i(s))}if(this.components.get("filter_by_value")||this.components.set("filter_by_value",i(new ak(this.hot,{id:"filter_by_value",name:o}))),this.components.get("filter_action_bar")||this.components.set("filter_action_bar",i(new ZS(this.hot,{id:"filter_action_bar",name:"Action bar"}))),this.conditionCollection||(this.conditionCollection=new ck(this.hot)),this.conditionUpdateObserver||(this.conditionUpdateObserver=new vit(this.hot,this.conditionCollection,s=>this.getDataMapAtColumn(s)),this.conditionUpdateObserver.addLocalHook("update",s=>oc(td,this,OIt).call(this,s))),this.components.forEach(s=>s.show()),this.addHook("afterDropdownMenuDefaultOptions",s=>oc(td,this,IIt).call(this,s)),this.addHook("afterDropdownMenuShow",()=>oc(td,this,MIt).call(this)),this.addHook("afterDropdownMenuHide",()=>oc(td,this,AIt).call(this)),this.addHook("afterChange",s=>oc(td,this,TIt).call(this,s)),this.hot.getSettings().dropdownMenu&&this.dropdownMenuPlugin&&(this.dropdownMenuPlugin.disablePlugin(),this.dropdownMenuPlugin.enablePlugin()),!tE(W0,this)&&this.dropdownMenuPlugin.enabled){let s=this.dropdownMenuPlugin.menu,a=[{focus:()=>{let c=s.getNavigator(),d=tE(W0,this).getLastMenuPage();s.focus(),d>0?c.setCurrentPage(d):c.toFirstItem()}},...Array.from(this.components).map(c=>{let[,d]=c;return d.getElements()}).flat()];RIt(W0,this,_it(s,a));let l=c=>{tE(W0,this).listen(),c.preventDefault(),Uu(c.keyCode,"TAB")&&(c.shiftKey?tE(W0,this).toPreviousItem():tE(W0,this).toNextItem())};this.components.get("filter_by_value").addLocalHook("listTabKeydown",l),this.components.get("filter_by_condition").addLocalHook("selectTabKeydown",l)}this.registerShortcuts(),super.enablePlugin()}disablePlugin(){if(this.enabled){var t;(t=this.dropdownMenuPlugin)!==null&&t!==void 0&&t.enabled&&this.dropdownMenuPlugin.menu.clearLocalHooks(),this.components.forEach((r,i)=>{r.destroy(),this.components.set(i,null)}),this.conditionCollection.destroy(),this.conditionCollection=null,this.hot.rowIndexMapper.unregisterMap(this.pluginName)}this.unregisterShortcuts(),super.disablePlugin()}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Alt","A"]],stopPropagation:!0,callback:()=>{let t=this.hot.getSelected();this.clearConditions(),this.filter(),t&&this.hot.selectCells(t)},group:wit})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(wit)}addCondition(t,r,i){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Jc,o=this.hot.toPhysicalColumn(t);this.conditionCollection.addCondition(o,{command:{key:r},args:i},n)}removeConditions(t){let r=this.hot.toPhysicalColumn(t);this.conditionCollection.removeConditions(r)}clearConditions(t){if(t===void 0)this.conditionCollection.clean();else{let r=this.hot.toPhysicalColumn(t);this.conditionCollection.removeConditions(r)}}filter(){let{navigableHeaders:t}=this.hot.getSettings(),r=this._createDataFilter(),i=!this.conditionCollection.isEmpty(),n=[],o=this.conditionCollection.exportAllConditions();if(this.hot.runHooks("beforeFilter",o)!==!1)if(i){let a=[];this.hot.batchExecution(()=>{this.filtersRowsMap.clear(),n=xi(r.filter(),c=>c.meta.visualRow);let l=If(n);Oe(this.hot.countSourceRows()-1,c=>{l(c)||a.push(c)}),Tt(a,c=>{this.filtersRowsMap.setValueAtIndex(c,!0)})},!0),!t&&!n.length&&this.hot.deselectCell()}else this.filtersRowsMap.clear();this.hot.runHooks("afterFilter",o),this.hot.view.adjustElementsSize(),this.hot.render(),this.hot.selection.isSelected()&&this.hot.selectCell(t?-1:0,this.hot.getSelectedRangeLast().highlight.col)}getSelectedColumn(){var t;let r=(t=this.hot.getSelectedRangeLast())===null||t===void 0?void 0:t.highlight;return r?{visualIndex:r.col,physicalIndex:this.hot.toPhysicalColumn(r.col)}:null}getDataMapAtColumn(t){let r=this.hot.toVisualColumn(t),i=[];return Tt(this.hot.getSourceDataAtCol(r),(n,o)=>{var s;let{row:a,col:l,visualCol:c,visualRow:d,type:u,instance:h,dateFormat:f,locale:m}=this.hot.getCellMeta(o,r),g=(s=this.hot.getDataAtCell(this.hot.toVisualRow(o),r))!==null&&s!==void 0?s:n;i.push({meta:{row:a,col:l,visualCol:c,visualRow:d,type:u,instance:h,dateFormat:f,locale:m},value:JI(g)})}),i}updateValueComponentCondition(t){let r=this.hot.getDataAtCol(t),i=zS(r);this.conditionUpdateObserver.updateStatesAtColumn(t,i)}restoreComponents(t){var r;let i=(r=this.getSelectedColumn())===null||r===void 0?void 0:r.physicalIndex;t.forEach(n=>{n.isHidden()||n.restoreState(i)}),this.updateDependentComponentsVisibility()}getOperationBasedOnArguments(t,r,i,n){let o=t;return o===B0&&r.command.key!==zo&&i.command.key!==zo&&n.command.key!==zo?o=D_:n.command.key!==zo&&(r.command.key===zo||i.command.key===zo)&&(o=Jc),o}setListeningDropdownMenu(){this.dropdownMenuPlugin&&this.dropdownMenuPlugin.setListening()}updateDependentComponentsVisibility(){let t=this.components.get("filter_by_condition"),{command:r}=t.getState(),i=[this.components.get("filter_by_condition2"),this.components.get("filter_operators")];r.showOperators?this.showComponents(...i):this.hideComponents(...i)}_createDataFilter(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.conditionCollection;return new dk(t,r=>this.getDataMapAtColumn(r))}getIndexesOfComponents(){let t=[];if(!this.dropdownMenuPlugin)return t;let r=this.dropdownMenuPlugin.menu;for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return Tt(n,s=>{Tt(r.menuItems,(a,l)=>{a.key===s.getMenuItemDescriptor().key&&t.push(l)})}),t}changeComponentsVisibility(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(!this.dropdownMenuPlugin)return;let i=this.dropdownMenuPlugin.menu.hotMenu,n=i.getPlugin("hiddenRows");for(var o=arguments.length,s=new Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];let l=this.getIndexesOfComponents(...s);t?n.showRows(l):n.hideRows(l),i.render()}hideComponents(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];this.changeComponentsVisibility(!1,...r)}showComponents(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];this.changeComponentsVisibility(!0,...r)}destroy(){this.enabled&&(this.components.forEach((t,r)=>{t!==null&&(t.destroy(),this.components.set(r,null))}),this.conditionCollection.destroy(),this.conditionUpdateObserver.destroy(),this.hot.rowIndexMapper.unregisterMap(this.pluginName)),super.destroy()}};function TIt(e){e&&Tt(e,t=>{let[,r]=t,i=this.hot.propToCol(r);this.conditionCollection.hasConditions(i)&&this.updateValueComponentCondition(i)})}function MIt(){this.restoreComponents(Array.from(this.components.values()))}function AIt(){this.components.get("filter_by_condition").getSelectElement().closeOptions(),this.components.get("filter_by_condition2").getSelectElement().closeOptions()}function IIt(e){e.items.push({name:Pi}),this.components.forEach(t=>{e.items.push(t.getMenuItemDescriptor())})}function Cit(e){var t;if(e==="accept"){let i=this.getSelectedColumn();if(i===null){var r;(r=this.dropdownMenuPlugin)===null||r===void 0||r.close();return}let{physicalIndex:n}=i,o=this.components.get("filter_by_condition").getState(),s=this.components.get("filter_by_condition2").getState(),a=this.components.get("filter_by_value").getState(),l=this.getOperationBasedOnArguments(this.components.get("filter_operators").getActiveOperationId(),o,s,a);this.conditionUpdateObserver.groupChanges();let c=this.conditionCollection.getColumnStackPosition(n);c===-1&&(c=void 0),this.conditionCollection.removeConditions(n),o.command.key!==zo&&(this.conditionCollection.addCondition(n,o,l,c),s.command.key!==zo&&this.conditionCollection.addCondition(n,s,l,c)),a.command.key!==zo&&this.conditionCollection.addCondition(n,a,l,c),this.conditionUpdateObserver.flush(),this.components.forEach(d=>d.saveState(n)),this.filtersRowsMap.clear(),this.filter()}(t=this.dropdownMenuPlugin)===null||t===void 0||t.close()}function kIt(e,t){this.updateDependentComponentsVisibility(),e.constructor===N_&&!t.inputsCount&&this.setListeningDropdownMenu()}function xit(){this.setListeningDropdownMenu()}function DIt(e,t){let r=this.hot.toPhysicalColumn(e);this.enabled&&this.conditionCollection.hasConditions(r)?ne(t,"htFiltersActive"):pi(t,"htFiltersActive")}function OIt(e){var t;if(!((t=this.dropdownMenuPlugin)!==null&&t!==void 0&&t.enabled))return;let{editedConditionStack:{conditions:r,column:i}}=e,n=r.filter(s=>s.name===ch),o=r.filter(s=>s.name!==ch);if(n.length>=2||o.length>=3)vr(Gi`The filter conditions have been applied properly, but couldn’t be displayed visually.\x20
        The overall amount of conditions exceed the capability of the dropdown menu.\x20
        For more details see the documentation.`);else{let s=this.conditionCollection.getOperation(i);this.components.get("filter_by_condition").updateState(o[0],i),this.components.get("filter_by_condition2").updateState(o[1],i),this.components.get("filter_operators").updateState(s,i),this.components.get("filter_by_value").updateState(e)}}var tRe=ot(Gt(),1),eRe=ot(we(),1),iRe=ot(_M(),1),rRe=ot(yn(),1),nRe=ot(_n(),1),oRe=ot(wn(),1),sRe=ot(Cn(),1),aRe=ot(xn(),1),lRe=ot(Sn(),1),cRe=ot(En(),1);var PEe=ot(we(),1);var o9="internal-use-in-handsontable",mk={licenseKey:o9,useArrayArithmetic:!0,useColumnIndex:!1,useStats:!1,evaluateNullToZero:!0,precisionEpsilon:1e-13,precisionRounding:14,smartRounding:!0,leapYear1900:!1,nullDate:{year:1899,month:12,day:30},nullYear:30,dateFormats:["DD/MM/YYYY","DD/MM/YY"],timeFormats:["hh:mm","hh:mm:ss.sss"],matchWholeCell:!0,useRegularExpressions:!1,useWildcards:!0,functionArgSeparator:",",thousandSeparator:"",decimalSeparator:".",language:"enGB"};function Rit(e){var t;return{maxColumns:e.maxColumns,maxRows:e.maxRows,language:(t=e[_s])===null||t===void 0||(t=t.language)===null||t===void 0?void 0:t.langCode}}function Tit(e){return Object.keys(e).reduce((t,r)=>(r!=="hyperformula"&&(t[r]=e[r]),t),{})}function Mit(e){var t;let r=e[_s],i=Tit(r!=null&&(t=r.engine)!==null&&t!==void 0&&t.hyperformula?r.engine:{}),n=Rit(e);return Vt(Vt(Vt({},mk),i),n)}function Ait(e){var t;let r=e[_s],i=Tit(r!=null&&(t=r.engine)!==null&&t!==void 0&&t.hyperformula?r.engine:{}),n=Rit(e);return Vt(Vt({},i),n)}function Iit(e,t){return Object.keys(t).some(r=>t[r]!==void 0&&t[r]!==e[r])}function pk(){let e="engine_relationship",t=Zo(_s);return t.hasItem(e)||t.register(e,new Map),t.getItem(e)}function s9(){let e="shared_engine_usage",t=Zo(_s);return t.hasItem(e)||t.register(e,new Map),t.getItem(e)}function kit(e){let t=e.getSettings(),r=t[_s],i=r?.engine;if(r===!0||_r(i))return null;if(typeof i.hyperformula=="function"||typeof i=="function"){var n;return PIt((n=i.hyperformula)!==null&&n!==void 0?n:i,t,e)}else if(typeof i=="object"&&_r(i.hyperformula)){let o=pk(),s=s9().get(i);return o.has(i)||o.set(i,[]),o.get(i).push(e),s&&s.push(e.guid),i.getConfig().licenseKey||i.updateConfig({licenseKey:o9}),(i.getConfig().leapYear1900!==mk.leapYear1900||oy(i.getConfig().nullDate,mk.nullDate)===!1)&&vr(Gi`If you use HyperFormula with Handsontable, keep the default \`leapYear1900\` and \`nullDate\` 
      settings. Otherwise, HyperFormula's dates may not sync correctly with Handsontable's dates.`),i}return null}function PIt(e,t,r){let i=t[_s],n=Mit(t),o=pk(),s=s9();NIt(e,i.functions),LIt(e,i.language);let a=e.buildEmpty(n);return o.set(a,[r]),s.set(a,[r.guid]),FIt(a,i.namedExpressions),a.on("sheetAdded",()=>{a.rebuildAndRecalculate()}),a.on("sheetRemoved",()=>{a.rebuildAndRecalculate()}),a}function a9(e){var t;let r=pk(),i=r.size===0?[]:Array.from((t=r.get(e))!==null&&t!==void 0?t:[]);return new Map(i.map(n=>[n.getPlugin("formulas").sheetId,n]))}function l9(e,t){if(e){let r=pk(),i=r.get(e),n=s9(),o=n.get(e);i&&i.includes(t)&&(i.splice(i.indexOf(t),1),i.length===0&&r.delete(e)),o&&o.includes(t.guid)&&(o.splice(o.indexOf(t.guid),1),o.length===0&&(n.delete(e),e.destroy()))}}function NIt(e,t){t&&t.forEach(r=>{let{name:i,plugin:n,translations:o}=r;try{e.registerFunction(i,n,o)}catch(s){vr(s.message)}})}function LIt(e,t){if(t){let{langCode:r}=t;try{e.registerLanguage(r,t)}catch(i){vr(i.message)}}}function FIt(e,t){t&&(e.suspendEvaluation(),t.forEach(r=>{let{name:i,expression:n,scope:o,options:s}=r;try{e.addNamedExpression(i,n,o,s)}catch(a){vr(a.message)}}),e.resumeEvaluation())}function Dit(e,t){return(_r(t)||!e.doesSheetExist(t))&&(t=e.addSheet(t)),t}var iE=ot(ea(),1),Oit="DD/MM/YYYY";function c9(e){return typeof e=="string"&&e.charAt(0)==="'"&&e.charAt(1)==="="}function Pit(e){return c9(e)?e.substr(1):e}function Nit(e){return typeof e=="string"&&e.startsWith("=")}function gk(e,t){return typeof e=="string"&&t==="date"}function d9(e,t){return(0,iE.default)(e,t,!0).isValid()}function u9(e,t){return(0,iE.default)(e,t,!0).format(Oit)}function Lit(e,t){return(0,iE.default)(e,Oit,!0).format(t)}function h9(e,t){let i=new Date(Date.UTC(0,0,e+-1));return(0,iE.default)(i).format(t)}var ZEe=ot(Gt(),1);var qEe=ot(Gt(),1),$Ee=ot(we(),1);var WEe=ot(we(),1);function HIt(e,t,r){let i=Array.from(Array(r).keys()).filter(o=>e.includes(o)===!1);if(t===0){var n;return(n=i[t])!==null&&n!==void 0?n:0}return i[t-1]+1}function BIt(e,t){let r=[];return e.forEach(i=>{let n={from:i,to:t};r.forEach(o=>{let s=o.from>o.to,a=o.to<=n.from;o.from>n.from&&a&&s&&(n.from+=1)}),n.from>=t&&(t+=1),r.push(n)}),r}function jIt(e){return e.forEach((t,r)=>{e.slice(r+1).forEach(n=>{let o=n.from<n.to;n.from>t.from&&o&&(n.from-=1)})}),e}function rE(e,t,r){let i=BIt(e,HIt(e,t,r));return jIt(i)}function Y0(e,t,r){VIt(e,t),t.set(e,r)}function VIt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function fo(e,t){return e.get(Fit(e,t))}function Op(e,t,r){return e.set(Fit(e,t),r),r}function Fit(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var nE=new WeakMap,Pp=new WeakMap,sc=new WeakMap,bk=new WeakMap,f9=new WeakMap,m9=new WeakMap,vk=new WeakMap,p9=class{constructor(t,r,i){Y0(this,nE,void 0),Y0(this,Pp,void 0),Y0(this,sc,void 0),Y0(this,bk,[]),Y0(this,f9,[]),Y0(this,m9,void 0),Y0(this,vk,[]),Op(nE,this,t),Op(Pp,this,r),Op(sc,this,i)}setRemovedHfIndexes(t){return Op(vk,this,t.map(r=>{let i=fo(Pp,this).getVisualFromPhysicalIndex(r);return this.getHfIndexFromVisualIndex(i)})),fo(vk,this)}getRemovedHfIndexes(){return fo(vk,this)}getHfIndexFromVisualIndex(t){let r=fo(Pp,this).getIndexesSequence(),i=fo(Pp,this).getNotTrimmedIndexes();return r.indexOf(i[t])}syncMoves(t){let i=`move${na(fo(nE,this))}s`;fo(sc,this).getEngine().batch(()=>{t.forEach(n=>{let o=n.from!==n.to,s=n.from+1!==n.to;o&&s&&fo(sc,this).getEngine()[i](fo(sc,this).getSheetId(),n.from,1,n.to)})})}storeMovesInformation(t,r,i){i!==!1&&(Op(f9,this,t.map(n=>this.getHfIndexFromVisualIndex(n))),Op(m9,this,this.getHfIndexFromVisualIndex(r)))}calculateAndSyncMoves(t,r){if(fo(sc,this).isPerformingUndoRedo()||t===!1||r===!1)return;let i=rE(fo(f9,this),fo(m9,this),fo(Pp,this).getNumberOfIndexes());fo(sc,this).getSheetId()===null?fo(sc,this).getPostponeAction(()=>this.syncMoves(i)):this.syncMoves(i)}getIndexesChangeSyncMethod(){let t=`set${na(fo(nE,this))}Order`;return r=>{if(fo(sc,this).isPerformingUndoRedo())return;let i=fo(Pp,this).getIndexesSequence();if(r==="update"&&i.length>0){let n=fo(bk,this).map(l=>i.indexOf(l)),o=fo(sc,this).getEngine().getSheetDimensions(fo(sc,this).getSheetId()),s;fo(nE,this)==="row"?s=o.height:s=o.width;let a=n.length;for(let l=a;l<s;l+=1)n.push(l);fo(sc,this).getEngine()[t](fo(sc,this).getSheetId(),n)}Op(bk,this,i)}}init(){Op(bk,this,fo(Pp,this).getIndexesSequence())}},g9=p9;function q0(e,t,r){zIt(e,t),t.set(e,r)}function zIt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Df(e,t){return e.get(Hit(e,t))}function $0(e,t,r){return e.set(Hit(e,t),r),r}function Hit(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var yk=new WeakMap,_k=new WeakMap,b9=new WeakMap,v9=new WeakMap,y9=new WeakMap,_9=new WeakMap,w9=new WeakMap,C9=class{constructor(t,r,i){q0(this,yk,void 0),q0(this,_k,void 0),q0(this,b9,void 0),q0(this,v9,!1),q0(this,y9,!1),q0(this,_9,null),q0(this,w9,null),$0(yk,this,new g9("row",t,this)),$0(_k,this,new g9("column",r,this)),$0(b9,this,i)}getForAxis(t){return t==="row"?Df(yk,this):Df(_k,this)}setPerformUndo(t){$0(v9,this,t)}setPerformRedo(t){$0(y9,this,t)}isPerformingUndoRedo(){return Df(v9,this)||Df(y9,this)}getSheetId(){return Df(w9,this)}getEngine(){return Df(_9,this)}getPostponeAction(){return Df(b9,this)}setupSyncEndpoint(t,r){$0(_9,this,t),$0(w9,this,r),Df(yk,this).init(),Df(_k,this).init()}},Bit=C9;function UIt(e,t){Uit(e,t),t.add(e)}function B_(e,t,r){return t=WIt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WIt(e){var t=YIt(e,"string");return typeof t=="symbol"?t:t+""}function YIt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function x9(e,t,r){Uit(e,t),t.set(e,r)}function Uit(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Np(e,t,r){return e.set(Dn(e,t),r),r}function j_(e,t){return e.get(Dn(e,t))}function Dn(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var _s="formulas",qIt=["maxRows","maxColumns","language"],Wit=260;Le.getSingleton().register("afterNamedExpressionAdded");Le.getSingleton().register("afterNamedExpressionRemoved");Le.getSingleton().register("afterSheetAdded");Le.getSingleton().register("afterSheetRemoved");Le.getSingleton().register("afterSheetRenamed");Le.getSingleton().register("afterFormulasValuesUpdate");var V_=e=>e==="UndoRedo.undo"||e==="UndoRedo.redo"||e==="auto",Of=new WeakMap,S9=new WeakMap,oE=new WeakMap,Un=new WeakSet,sE=class extends vi{constructor(){var t;super(...arguments),t=this,UIt(this,Un),x9(this,Of,!1),x9(this,S9,!1),x9(this,oE,[["valuesUpdated",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return Dn(Un,t,lkt).call(t,...i)}],["namedExpressionAdded",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return Dn(Un,t,ckt).call(t,...i)}],["namedExpressionRemoved",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return Dn(Un,t,dkt).call(t,...i)}],["sheetAdded",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return Dn(Un,t,ukt).call(t,...i)}],["sheetRenamed",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return Dn(Un,t,hkt).call(t,...i)}],["sheetRemoved",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return Dn(Un,t,fkt).call(t,...i)}]]),B_(this,"staticRegister",Zo("formulas")),B_(this,"engine",null),B_(this,"sheetName",null),B_(this,"indexSyncer",null),B_(this,"rowAxisSyncer",null),B_(this,"columnAxisSyncer",null)}static get PLUGIN_KEY(){return _s}static get PLUGIN_PRIORITY(){return Wit}static get SETTING_KEYS(){return[_s,...qIt]}get sheetId(){return this.sheetName===null?null:this.engine.getSheetId(this.sheetName)}isEnabled(){return!!this.hot.getSettings()[_s]}enablePlugin(){var t,r=this;if(!this.enabled){if(this.engine=(t=kit(this.hot))!==null&&t!==void 0?t:this.engine,!this.engine){vr("Missing the required `engine` key in the Formulas settings. Please fill it with either an engine class or an engine instance.");return}if(this.sheetName!==null&&!this.engine.doesSheetExist(this.sheetName)){let i=this.addSheet(this.sheetName,this.hot.getSourceDataArray());i!==!1&&(this.sheetName=i)}this.addHook("beforeLoadData",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return Dn(Un,r,jit).call(r,...n)}),this.addHook("afterLoadData",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return Dn(Un,r,Vit).call(r,...n)}),this.addHook("beforeUpdateData",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return Dn(Un,r,jit).call(r,...n)}),this.addHook("afterUpdateData",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return Dn(Un,r,Vit).call(r,...n)}),this.addHook("modifyData",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return Dn(Un,r,XIt).call(r,...n)}),this.addHook("modifySourceData",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return Dn(Un,r,ZIt).call(r,...n)}),this.addHook("beforeValidate",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return Dn(Un,r,$It).call(r,...n)}),this.addHook("afterSetSourceDataAtCell",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return Dn(Un,r,QIt).call(r,...n)}),this.addHook("afterSetDataAtCell",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return Dn(Un,r,zit).call(r,...n)}),this.addHook("afterSetDataAtRowProp",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return Dn(Un,r,zit).call(r,...n)}),this.addHook("beforeCreateRow",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return Dn(Un,r,JIt).call(r,...n)}),this.addHook("beforeCreateCol",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return Dn(Un,r,tkt).call(r,...n)}),this.addHook("afterCreateRow",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return Dn(Un,r,rkt).call(r,...n)}),this.addHook("afterCreateCol",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return Dn(Un,r,nkt).call(r,...n)}),this.addHook("beforeRemoveRow",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return Dn(Un,r,ekt).call(r,...n)}),this.addHook("beforeRemoveCol",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return Dn(Un,r,ikt).call(r,...n)}),this.addHook("afterRemoveRow",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return Dn(Un,r,okt).call(r,...n)}),this.addHook("afterRemoveCol",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return Dn(Un,r,skt).call(r,...n)}),this.indexSyncer=new Bit(this.hot.rowIndexMapper,this.hot.columnIndexMapper,i=>{this.hot.addHookOnce("init",()=>{i()})}),this.rowAxisSyncer=this.indexSyncer.getForAxis("row"),this.columnAxisSyncer=this.indexSyncer.getForAxis("column"),this.hot.addHook("afterRowSequenceChange",this.rowAxisSyncer.getIndexesChangeSyncMethod()),this.hot.addHook("afterColumnSequenceChange",this.columnAxisSyncer.getIndexesChangeSyncMethod()),this.hot.addHook("beforeRowMove",(i,n,o,s)=>{this.rowAxisSyncer.storeMovesInformation(i,n,s)}),this.hot.addHook("beforeColumnMove",(i,n,o,s)=>{this.columnAxisSyncer.storeMovesInformation(i,n,s)}),this.hot.addHook("afterRowMove",(i,n,o,s,a)=>{this.rowAxisSyncer.calculateAndSyncMoves(s,a)}),this.hot.addHook("afterColumnMove",(i,n,o,s,a)=>{this.columnAxisSyncer.calculateAndSyncMoves(s,a)}),this.hot.addHook("beforeColumnFreeze",(i,n)=>{this.columnAxisSyncer.storeMovesInformation([i],this.hot.getSettings().fixedColumnsStart,n)}),this.hot.addHook("afterColumnFreeze",(i,n)=>{this.columnAxisSyncer.calculateAndSyncMoves(n,n)}),this.hot.addHook("beforeColumnUnfreeze",(i,n)=>{this.columnAxisSyncer.storeMovesInformation([i],this.hot.getSettings().fixedColumnsStart-1,n)}),this.hot.addHook("afterColumnUnfreeze",(i,n)=>{this.columnAxisSyncer.calculateAndSyncMoves(n,n)}),this.addHook("afterCellMetaReset",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return Dn(Un,r,KIt).call(r,...n)}),this.addHook("beforeUndo",()=>{this.indexSyncer.setPerformUndo(!0),this.engine.undo()}),this.addHook("beforeRedo",()=>{this.indexSyncer.setPerformRedo(!0),this.engine.redo()}),this.addHook("afterUndo",()=>{this.indexSyncer.setPerformUndo(!1)}),this.addHook("afterUndo",()=>{this.indexSyncer.setPerformRedo(!1)}),this.addHook("afterDetachChild",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return Dn(Un,r,akt).call(r,...n)}),this.addHook("beforeAutofill",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return Dn(Un,r,GIt).call(r,...n)}),j_(oE,this).forEach(i=>{let[n,o]=i;return this.engine.on(n,o)}),super.enablePlugin()}}disablePlugin(){j_(oE,this).forEach(t=>{let[r,i]=t;return this.engine.off(r,i)}),l9(this.engine,this.hot),this.engine=null,super.disablePlugin()}updatePlugin(t){let r=Ait(this.hot.getSettings());Iit(this.engine.getConfig(),r)&&this.engine.updateConfig(r);let i=this.hot.getSettings()[_s];if(Ne(i)&&Ne(i.sheetName)&&i.sheetName!==this.sheetName&&this.switchSheet(i.sheetName),!t.data&&this.sheetName===null){let n=this.hot.getSettings()[_s].sheetName;n&&this.engine.doesSheetExist(n)?this.switchSheet(this.sheetName):this.sheetName=this.addSheet(n??void 0,this.hot.getSourceDataArray())}super.updatePlugin(t)}destroy(){j_(oE,this).forEach(t=>{var r;let[i,n]=t;return(r=this.engine)===null||r===void 0?void 0:r.off(i,n)}),Np(oE,this,null),l9(this.engine,this.hot),this.engine=null,super.destroy()}addSheet(t,r){if(Ne(r)&&!yZ(r))return vr("The provided data should be an array of arrays."),!1;if(t!=null&&this.engine.doesSheetExist(t))return vr("Sheet with the provided name already exists."),!1;try{let i=this.engine.addSheet(t??void 0);return r&&this.engine.setSheetContent(this.engine.getSheetId(i),r),i}catch(i){return vr(i.message),!1}}switchSheet(t){if(!this.engine.doesSheetExist(t)){hy(`The sheet named \`${t}\` does not exist, switch aborted.`);return}this.sheetName=t;let r=this.engine.getSheetSerialized(this.sheetId);r.length>0&&this.hot.loadData(r,`${na(_s)}.switchSheet`)}getCellType(t,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.sheetId,n=this.hot.toPhysicalRow(t),o=this.hot.toPhysicalColumn(r);return n!==null&&o!==null?this.engine.getCellType({sheet:i,row:this.rowAxisSyncer.getHfIndexFromVisualIndex(t),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(r)}):"EMPTY"}isFormulaCellType(t,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.sheetId;return this.engine.doesCellHaveFormula({sheet:i,row:this.rowAxisSyncer.getHfIndexFromVisualIndex(t),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(r)})}renderDependentSheets(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=new Set;t.forEach(n=>{var o;let s=n==null||(o=n.address)===null||o===void 0?void 0:o.sheet;s!==void 0&&(i.has(s)||i.add(s))}),a9(this.engine).forEach((n,o)=>{if((r||o!==this.sheetId)&&i.has(o)){var s;n.render(),(s=n.view)===null||s===void 0||s.adjustElementsSize()}})}validateDependentCells(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=o=>{var s;let{row:a,col:l,sheet:c}=(s=o?.address)!==null&&s!==void 0?s:{};return Ne(c)?`${c}:${a}x${l}`:""},n=new Set(r.map(o=>i(o)));t.forEach(o=>{var s,a;let{row:l,col:c}=(s=o.address)!==null&&s!==void 0?s:{};if(Ne(l)===!1||Ne(c)===!1||l>=this.hot.countRows()||c>=this.hot.countCols())return;let d=o==null||(a=o.address)===null||a===void 0?void 0:a.sheet,u=i(o);if(d!==void 0&&!n.has(u)){let h=a9(this.engine).get(d);if(!h)return;h.validateCell(h.getDataAtCell(l,c),h.getCellMeta(l,c),()=>{})}})}syncChangeWithEngine(t,r,i){let n={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(t),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(r),sheet:this.sheetId};if(!this.engine.isItPossibleToSetCellContents(n)){vr(`Not possible to set cell data at ${JSON.stringify(n)}`);return}let o=this.hot.getCellMeta(t,r);return gk(i,o.type)&&(d9(i,o.dateFormat)?i=u9(i,o.dateFormat):Nit(i)===!1&&(i=`'${i}`)),this.engine.setCellContents(n,i)}};function $It(e,t,r){let i=this.hot.propToCol(r);if(this.isFormulaCellType(t,i)){let n={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(t),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(i),sheet:this.sheetId},o=this.hot.getCellMeta(t,i),s=this.engine.getCellValue(n);return o.type==="date"&&Jo(s)&&(s=h9(s,o.dateFormat)),typeof s=="object"&&s!==null?s.value:s}return e}function GIt(e,t,r){let{row:i,col:n}=t.getTopStartCorner(),{row:o,col:s}=t.getBottomEndCorner(),{row:a,col:l}=r.getTopStartCorner(),{row:c,col:d}=r.getBottomEndCorner(),u={start:{row:this.rowAxisSyncer.getHfIndexFromVisualIndex(i),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(n),sheet:this.sheetId},end:{row:this.rowAxisSyncer.getHfIndexFromVisualIndex(o),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(s),sheet:this.sheetId}},h={start:{row:this.rowAxisSyncer.getHfIndexFromVisualIndex(a),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(l),sheet:this.sheetId},end:{row:this.rowAxisSyncer.getHfIndexFromVisualIndex(c),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(d),sheet:this.sheetId}};if(this.engine.isItPossibleToSetCellContents(h)===!1)return!1;let f=this.engine.getFillRangeData(u,h),{row:m,col:g}=u.start,{row:p,col:b}=u.end,_=p-m+1,E=b-g+1;for(let O=0;O<f.length;O+=1)for(let V=0;V<f[O].length;V+=1){let H=f[O][V],F=O%_,L=V%E,$=this.hot.getCellMeta(F,L);gk(H,$.type)&&(H.startsWith("'")?f[O][V]=H.slice(1):this.isFormulaCellType(F,L,this.sheetId)===!1&&(f[O][V]=Lit(H,$.dateFormat)))}return f}function jit(e,t){(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"").includes(na(_s))||Np(S9,this,_r(this.hot.getSettings().data))}function KIt(){let e=this.hot.getSourceDataArray(),t=!1;e.forEach((r,i)=>{r.forEach((n,o)=>{let s=this.hot.getCellMeta(i,o),a=s.dateFormat;gk(n,s.type)&&(t=!0,d9(n,a)?e[i][o]=u9(n,a):this.isFormulaCellType(i,o)===!1&&(e[i][o]=`'${n}`))})}),t===!0&&(Np(Of,this,!0),this.engine.setSheetContent(this.sheetId,e),Np(Of,this,!1))}function Vit(e,t){if(!(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"").includes(na(_s)))if(this.sheetName=Dit(this.engine,this.hot.getSettings()[_s].sheetName),j_(S9,this))this.switchSheet(this.sheetName);else{let i=this.hot.getSourceDataArray();if(this.engine.isItPossibleToReplaceSheetContent(this.sheetId,i)){Np(Of,this,!0);let n=this.engine.setSheetContent(this.sheetId,i);this.indexSyncer.setupSyncEndpoint(this.engine,this.sheetId),this.renderDependentSheets(n),Np(Of,this,!1)}}}function XIt(e,t,r,i){if(i!=="get"||j_(Of,this)||this.sheetName===null||!this.engine.doesSheetExist(this.sheetName))return;let n=this.hot.toVisualRow(e);if(n===null||t===null)return;if(!this.isFormulaCellType(n,t)&&this.getCellType(n,t)!=="ARRAY"){c9(r.value)&&(r.value=Pit(r.value));return}let s={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(n),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(t),sheet:this.sheetId},a=this.engine.getCellValue(s),l=this.hot.getCellsMeta().find(d=>d.visualRow===n&&d.visualCol===t);l===void 0&&(l={}),l.type==="date"&&Jo(a)&&(a=h9(a,l.dateFormat));let c=typeof a=="object"&&a!==null?a.value:a;r.value=c}function ZIt(e,t,r,i){if(i!=="get"||j_(Of,this)||this.sheetName===null||!this.engine.doesSheetExist(this.sheetName))return;let n=this.hot.toVisualRow(e),o=this.hot.propToCol(t);if(n===null||o===null||!this.isFormulaCellType(n,o)&&this.getCellType(n,o)!=="ARRAY")return;let a=this.engine.getSheetDimensions(this.engine.getSheetId(this.sheetName));if(a.width===0&&a.height===0)return;let l={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(n),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(o),sheet:this.sheetId};r.value=this.engine.getCellSerialized(l)}function zit(e,t){if(V_(t))return;let r=[],i=[],n=this.engine.batch(()=>{e.forEach(o=>{let[s,a,,l]=o,c=this.hot.propToCol(a),d=this.hot.toPhysicalRow(s),u=this.hot.toPhysicalColumn(c),h={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(s),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(c),sheet:this.sheetId};d!==null&&u!==null?this.syncChangeWithEngine(s,c,l):r.push([s,c,l]),i.push({address:h})})});r.length&&this.hot.addHookOnce("afterChange",()=>{let o=this.engine.batch(()=>{r.forEach(s=>{let[a,l,c]=s;this.syncChangeWithEngine(a,l,c)})});this.renderDependentSheets(o,!0)}),this.renderDependentSheets(n),this.validateDependentCells(n,i)}function QIt(e,t){if(V_(t))return;let r=[],i=[];e.forEach(n=>{let[o,s,,a]=n,l=this.hot.propToCol(s);if(!Jo(l))return;let c={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(o),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(l),sheet:this.sheetId};if(!this.engine.isItPossibleToSetCellContents(c)){vr(`Not possible to set source cell data at ${JSON.stringify(c)}`);return}i.push({address:c}),r.push(...this.engine.setCellContents(c,a))}),this.renderDependentSheets(r),this.validateDependentCells(r,i)}function JIt(e,t){let r=this.rowAxisSyncer.getHfIndexFromVisualIndex(e);if(e>=this.hot.countRows()&&(r=e),this.sheetId===null||!this.engine.doesSheetExist(this.sheetName)||!this.engine.isItPossibleToAddRows(this.sheetId,[r,t]))return!1}function tkt(e,t){let r=this.columnAxisSyncer.getHfIndexFromVisualIndex(e);if(e>=this.hot.countCols()&&(r=e),this.sheetId===null||!this.engine.doesSheetExist(this.sheetName)||!this.engine.isItPossibleToAddColumns(this.sheetId,[r,t]))return!1}function ekt(e,t,r){return this.rowAxisSyncer.setRemovedHfIndexes(r).every(o=>this.engine.isItPossibleToRemoveRows(this.sheetId,[o,1]))===!1?!1:void 0}function ikt(e,t,r){return this.columnAxisSyncer.setRemovedHfIndexes(r).every(o=>this.engine.isItPossibleToRemoveColumns(this.sheetId,[o,1]))===!1?!1:void 0}function rkt(e,t,r){if(V_(r))return;let i=this.engine.addRows(this.sheetId,[this.rowAxisSyncer.getHfIndexFromVisualIndex(e),t]);this.renderDependentSheets(i)}function nkt(e,t,r){if(V_(r))return;let i=this.engine.addColumns(this.sheetId,[this.columnAxisSyncer.getHfIndexFromVisualIndex(e),t]);this.renderDependentSheets(i)}function okt(e,t,r,i){if(V_(i))return;let n=this.rowAxisSyncer.getRemovedHfIndexes().sort((s,a)=>a-s),o=this.engine.batch(()=>{n.forEach(s=>{this.engine.removeRows(this.sheetId,[s,1])})});this.renderDependentSheets(o)}function skt(e,t,r,i){if(V_(i))return;let n=this.columnAxisSyncer.getRemovedHfIndexes().sort((s,a)=>a-s),o=this.engine.batch(()=>{n.forEach(s=>{this.engine.removeColumns(this.sheetId,[s,1])})});this.renderDependentSheets(o)}function akt(e,t,r){var i;Np(Of,this,!0);let n=this.hot.getSourceDataArray(r,0,r+(((i=t.__children)===null||i===void 0?void 0:i.length)||0),this.hot.countSourceCols());Np(Of,this,!1),n.forEach((o,s)=>{o.forEach((a,l)=>{this.engine.setCellContents({col:l,row:r+s,sheet:this.sheetId},[[a]])})})}function lkt(e){this.hot.runHooks("afterFormulasValuesUpdate",e)}function ckt(e,t){this.hot.runHooks("afterNamedExpressionAdded",e,t)}function dkt(e,t){this.hot.runHooks("afterNamedExpressionRemoved",e,t)}function ukt(e){this.hot.runHooks("afterSheetAdded",e)}function hkt(e,t){this.sheetName=t,this.hot.runHooks("afterSheetRenamed",e,t)}function fkt(e,t){this.hot.runHooks("afterSheetRemoved",e,t)}var IRe=ot(Gt(),1),kRe=ot(we(),1),DRe=ot(yn(),1),ORe=ot(_n(),1),PRe=ot(wn(),1),NRe=ot(Cn(),1),LRe=ot(xn(),1),FRe=ot(Sn(),1),HRe=ot(En(),1);var ERe=ot(we(),1);function E9(e){return{key:"hidden_columns_hide",name(){let t=this.getSelectedLast(),r=0;if(Array.isArray(t)){let[,i,,n]=t;i-n!==0&&(r=1)}return this.getTranslatedPhrase(e2,r)},callback(){let{from:t,to:r}=this.getSelectedRangeLast(),i=Math.max(Math.min(t.col,r.col),0),n=Math.max(t.col,r.col),o=[];for(let l=i;l<=n;l+=1)o.push(l);e.hideColumns(o);let s=o[o.length-1],a=this.columnIndexMapper.getNearestNotHiddenIndex(s,1,!0);Number.isInteger(a)&&a>=0?this.selectColumns(a):this.deselectCell(),this.render(),this.view.adjustElementsSize()},disabled:!1,hidden(){return!(this.selection.isSelectedByColumnHeader()||this.selection.isSelectedByCorner())}}}var TRe=ot(we(),1);function R9(e){let t=[];return{key:"hidden_columns_show",name(){let r=t.length>1?1:0;return this.getTranslatedPhrase(i2,r)},callback(){var r,i;if(t.length===0)return;let n=t[0],o=t[t.length-1];n=(r=this.columnIndexMapper.getNearestNotHiddenIndex(n-1,-1))!==null&&r!==void 0?r:0,o=(i=this.columnIndexMapper.getNearestNotHiddenIndex(o+1,1))!==null&&i!==void 0?i:this.countCols()-1,e.showColumns(t),this.render(),this.view.adjustElementsSize(),o-n+1===this.countCols()||this.selectColumns(n,o)},disabled:!1,hidden(){let r=xi(e.getHiddenColumns(),u=>this.toPhysicalColumn(u));if(!(this.selection.isSelectedByColumnHeader()||this.selection.isSelectedByCorner())||r.length<1)return!0;t.length=0;let i=this.getSelectedRangeLast(),n=i.getTopStartCorner().col,o=i.getBottomEndCorner().col,s=this.columnIndexMapper,a=s.getRenderableFromVisualIndex(n),l=s.getRenderableFromVisualIndex(o),c=s.getNotTrimmedIndexes(),d=[];if(n!==o){let u=o-n+1,h=l-a+1;if(u>h){let f=c.slice(n,o+1);d.push(...f.filter(m=>r.includes(m)))}}else if(a===0&&a<n)d.push(...c.slice(0,n));else if(a===null)d.push(...c.slice(0,this.countCols()));else{let u=this.countCols()-1,h=s.getRenderableFromVisualIndex(s.getNearestNotHiddenIndex(u,-1));l===h&&u>o&&d.push(...c.slice(o+1))}return Tt(d,u=>{t.push(this.toVisualColumn(u))}),t.length===0}}}function mkt(e,t){qit(e,t),t.add(e)}function Yit(e,t,r){qit(e,t),t.set(e,r)}function qit(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ac(e,t){return e.get(Lp(e,t))}function aE(e,t,r){return e.set(Lp(e,t),r),r}function Lp(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}Le.getSingleton().register("beforeHideColumns");Le.getSingleton().register("afterHideColumns");Le.getSingleton().register("beforeUnhideColumns");Le.getSingleton().register("afterUnhideColumns");var wk="hiddenColumns",$it=310,uh=new WeakMap,dh=new WeakMap,G0=new WeakSet,lE=class extends vi{constructor(){super(...arguments),mkt(this,G0),Yit(this,uh,{}),Yit(this,dh,null)}static get PLUGIN_KEY(){return wk}static get PLUGIN_PRIORITY(){return $it}isEnabled(){return!!this.hot.getSettings()[wk]}enablePlugin(){var t=this;if(this.enabled)return;let r=this.hot.getSettings()[wk];gi(r)&&(aE(uh,this,r),_r(r.copyPasteEnabled)&&(r.copyPasteEnabled=!0)),aE(dh,this,new Xu),ac(dh,this).addLocalHook("init",()=>Lp(G0,this,_kt).call(this)),this.hot.columnIndexMapper.registerMap(this.pluginName,ac(dh,this)),this.addHook("afterContextMenuDefaultOptions",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return Lp(G0,t,ykt).call(t,...n)}),this.addHook("afterGetCellMeta",(i,n,o)=>Lp(G0,this,gkt).call(this,i,n,o)),this.addHook("modifyColWidth",(i,n)=>Lp(G0,this,pkt).call(this,i,n),2),this.addHook("afterGetColHeader",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return Lp(G0,t,vkt).call(t,...n)}),this.addHook("modifyCopyableRange",i=>Lp(G0,this,bkt).call(this,i)),super.enablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.hot.columnIndexMapper.unregisterMap(this.pluginName),aE(uh,this,{}),super.disablePlugin(),this.resetCellsMeta()}showColumns(t){let r=this.getHiddenColumns(),i=this.isValidConfig(t),n=r,o=ac(dh,this).getValues().slice(),s=t.length>0;if(i&&s){let l=t.map(c=>this.hot.toPhysicalColumn(c));Tt(l,c=>{o[c]=!1}),n=cn(o,(c,d,u)=>(d&&c.push(this.hot.toVisualColumn(u)),c),[])}this.hot.runHooks("beforeUnhideColumns",r,n,i&&s)!==!1&&(i&&s&&ac(dh,this).setValues(o),this.hot.view.adjustElementsSize(),this.hot.runHooks("afterUnhideColumns",r,n,i&&s,i&&n.length<r.length))}showColumn(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];this.showColumns(r)}hideColumns(t){let r=this.getHiddenColumns(),i=this.isValidConfig(t),n=r;i&&(n=Array.from(new Set(r.concat(t)))),this.hot.runHooks("beforeHideColumns",r,n,i)!==!1&&(i&&this.hot.batchExecution(()=>{Tt(t,s=>{ac(dh,this).setValueAtIndex(this.hot.toPhysicalColumn(s),!0)})},!0),this.hot.runHooks("afterHideColumns",r,n,i,i&&n.length>r.length))}hideColumn(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];this.hideColumns(r)}getHiddenColumns(){return xi(ac(dh,this).getHiddenIndexes(),t=>this.hot.toVisualColumn(t))}isHidden(t){return ac(dh,this).getValueAtIndex(this.hot.toPhysicalColumn(t))||!1}isValidConfig(t){let r=this.hot.countCols();return Array.isArray(t)&&t.length>0?t.every(i=>Number.isInteger(i)&&i>=0&&i<r):!1}resetCellsMeta(){Tt(this.hot.getCellsMeta(),t=>{t&&(t.skipColumnOnPaste=!1)})}destroy(){aE(uh,this,null),aE(dh,this,null),super.destroy()}};function pkt(e,t){if(this.isHidden(t))return 0;if(ac(uh,this).indicators&&(this.isHidden(t+1)||this.isHidden(t-1))&&typeof e=="number"&&this.hot.hasColHeaders())return e+15}function gkt(e,t,r){if(ac(uh,this).copyPasteEnabled===!1&&this.isHidden(t)&&(r.skipColumnOnPaste=!0),this.isHidden(t-1))r.className=r.className||"",r.className.indexOf("afterHiddenColumn")===-1&&(r.className+=" afterHiddenColumn");else if(r.className){let i=r.className.split(" ");if(i.length>0){let n=i.indexOf("afterHiddenColumn");n>-1&&i.splice(n,1),r.className=i.join(" ")}}}function bkt(e){if(ac(uh,this).copyPasteEnabled)return e;let t=[],r=(i,n,o,s)=>{t.push({startRow:i,endRow:n,startCol:o,endCol:s})};return Tt(e,i=>{let n=!0,o=0;Oe(i.startCol,i.endCol,s=>{this.isHidden(s)?(n||r(i.startRow,i.endRow,o,s-1),n=!0):(n&&(o=s),s===i.endCol&&r(i.startRow,i.endRow,o,s),n=!1)})}),t}function vkt(e,t){if(!ac(uh,this).indicators||e<0)return;let r=[];e>=1&&this.isHidden(e-1)&&r.push("afterHiddenColumn"),e<this.hot.countCols()-1&&this.isHidden(e+1)&&r.push("beforeHiddenColumn"),ne(t,r)}function ykt(e){e.items.push({name:Pi},E9(this),R9(this))}function _kt(){Array.isArray(ac(uh,this).columns)&&this.hideColumns(ac(uh,this).columns)}var nTe=ot(Gt(),1),oTe=ot(we(),1),sTe=ot(yn(),1),aTe=ot(_n(),1),lTe=ot(wn(),1),cTe=ot(Cn(),1),dTe=ot(xn(),1),uTe=ot(Sn(),1),hTe=ot(En(),1);var JRe=ot(we(),1);function T9(e){return{key:"hidden_rows_hide",name(){let t=this.getSelectedLast(),r=0;if(Array.isArray(t)){let[i,,n]=t;i-n!==0&&(r=1)}return this.getTranslatedPhrase(r2,r)},callback(){let{from:t,to:r}=this.getSelectedRangeLast(),i=Math.max(Math.min(t.row,r.row),0),n=Math.max(t.row,r.row),o=[];for(let l=i;l<=n;l+=1)o.push(l);e.hideRows(o);let s=o[o.length-1],a=this.rowIndexMapper.getNearestNotHiddenIndex(s,1,!0);Number.isInteger(a)&&a>=0?this.selectRows(a):this.deselectCell(),this.render(),this.view.adjustElementsSize()},disabled:!1,hidden(){return!(this.selection.isSelectedByRowHeader()||this.selection.isSelectedByCorner())}}}var eTe=ot(we(),1);function M9(e){let t=[];return{key:"hidden_rows_show",name(){let r=t.length>1?1:0;return this.getTranslatedPhrase(n2,r)},callback(){var r,i;if(t.length===0)return;let n=t[0],o=t[t.length-1];n=(r=this.rowIndexMapper.getNearestNotHiddenIndex(n-1,-1))!==null&&r!==void 0?r:0,o=(i=this.rowIndexMapper.getNearestNotHiddenIndex(o+1,1))!==null&&i!==void 0?i:this.countRows()-1,e.showRows(t),this.render(),this.view.adjustElementsSize(),o-n+1===this.countRows()||this.selectRows(n,o)},disabled:!1,hidden(){let r=xi(e.getHiddenRows(),u=>this.toPhysicalRow(u));if(!(this.selection.isSelectedByRowHeader()||this.selection.isSelectedByCorner())||r.length<1)return!0;t.length=0;let i=this.getSelectedRangeLast(),n=i.getTopStartCorner().row,o=i.getBottomEndCorner().row,s=this.rowIndexMapper,a=s.getRenderableFromVisualIndex(n),l=s.getRenderableFromVisualIndex(o),c=s.getNotTrimmedIndexes(),d=[];if(n!==o){let u=o-n+1,h=l-a+1;if(u>h){let f=c.slice(n,o+1);d.push(...f.filter(m=>r.includes(m)))}}else if(a===0&&a<n)d.push(...c.slice(0,n));else if(a===null)d.push(...c.slice(0,this.countRows()));else{let u=this.countRows()-1,h=s.getRenderableFromVisualIndex(s.getNearestNotHiddenIndex(u,-1));l===h&&u>o&&d.push(...c.slice(o+1))}return Tt(d,u=>{t.push(this.toVisualRow(u))}),t.length===0}}}function wkt(e,t){Kit(e,t),t.add(e)}function Git(e,t,r){Kit(e,t),t.set(e,r)}function Kit(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ed(e,t){return e.get(Fp(e,t))}function cE(e,t,r){return e.set(Fp(e,t),r),r}function Fp(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}Le.getSingleton().register("beforeHideRows");Le.getSingleton().register("afterHideRows");Le.getSingleton().register("beforeUnhideRows");Le.getSingleton().register("afterUnhideRows");var Ck="hiddenRows",Xit=320,Pf=new WeakMap,hh=new WeakMap,K0=new WeakSet,dE=class extends vi{constructor(){super(...arguments),wkt(this,K0),Git(this,Pf,{}),Git(this,hh,null)}static get PLUGIN_KEY(){return Ck}static get PLUGIN_PRIORITY(){return Xit}isEnabled(){return!!this.hot.getSettings()[Ck]}enablePlugin(){var t=this;if(this.enabled)return;let r=this.hot.getSettings()[Ck];gi(r)&&(cE(Pf,this,r),_r(r.copyPasteEnabled)&&(r.copyPasteEnabled=!0)),cE(hh,this,new Xu),ed(hh,this).addLocalHook("init",()=>Fp(K0,this,Tkt).call(this)),this.hot.rowIndexMapper.registerMap(this.pluginName,ed(hh,this)),this.addHook("afterContextMenuDefaultOptions",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return Fp(K0,t,Rkt).call(t,...n)}),this.addHook("afterGetCellMeta",(i,n,o)=>Fp(K0,this,xkt).call(this,i,n,o)),this.addHook("modifyRowHeight",(i,n)=>Fp(K0,this,Ckt).call(this,i,n)),this.addHook("afterGetRowHeader",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return Fp(K0,t,Ekt).call(t,...n)}),this.addHook("modifyCopyableRange",i=>Fp(K0,this,Skt).call(this,i)),super.enablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.hot.rowIndexMapper.unregisterMap(this.pluginName),cE(Pf,this,{}),super.disablePlugin(),this.resetCellsMeta()}showRows(t){let r=this.getHiddenRows(),i=this.isValidConfig(t),n=r,o=ed(hh,this).getValues().slice(),s=t.length>0;if(i&&s){let l=t.map(c=>this.hot.toPhysicalRow(c));Tt(l,c=>{o[c]=!1}),n=cn(o,(c,d,u)=>(d&&c.push(this.hot.toVisualRow(u)),c),[])}this.hot.runHooks("beforeUnhideRows",r,n,i&&s)!==!1&&(i&&s&&ed(hh,this).setValues(o),this.hot.runHooks("afterUnhideRows",r,n,i&&s,i&&n.length<r.length))}showRow(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];this.showRows(r)}hideRows(t){let r=this.getHiddenRows(),i=this.isValidConfig(t),n=r;i&&(n=Array.from(new Set(r.concat(t)))),this.hot.runHooks("beforeHideRows",r,n,i)!==!1&&(i&&this.hot.batchExecution(()=>{Tt(t,s=>{ed(hh,this).setValueAtIndex(this.hot.toPhysicalRow(s),!0)})},!0),this.hot.runHooks("afterHideRows",r,n,i,i&&n.length>r.length))}hideRow(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];this.hideRows(r)}getHiddenRows(){return xi(ed(hh,this).getHiddenIndexes(),t=>this.hot.toVisualRow(t))}isHidden(t){return ed(hh,this).getValueAtIndex(this.hot.toPhysicalRow(t))||!1}isValidConfig(t){let r=this.hot.countRows();return Array.isArray(t)&&t.length>0?t.every(i=>Number.isInteger(i)&&i>=0&&i<r):!1}resetCellsMeta(){Tt(this.hot.getCellsMeta(),t=>{t&&(t.skipRowOnPaste=!1)})}destroy(){cE(Pf,this,null),cE(hh,this,null),super.destroy()}};function Ckt(e,t){return this.isHidden(t)?0:e}function xkt(e,t,r){if(ed(Pf,this).copyPasteEnabled===!1&&this.isHidden(e)&&(r.skipRowOnPaste=!0),this.isHidden(e-1))r.className=r.className||"",r.className.indexOf("afterHiddenRow")===-1&&(r.className+=" afterHiddenRow");else if(r.className){let i=r.className.split(" ");if(i.length>0){let n=i.indexOf("afterHiddenRow");n>-1&&i.splice(n,1),r.className=i.join(" ")}}}function Skt(e){if(ed(Pf,this).copyPasteEnabled)return e;let t=[],r=(i,n,o,s)=>{t.push({startRow:i,endRow:n,startCol:o,endCol:s})};return Tt(e,i=>{let n=!0,o=0;Oe(i.startRow,i.endRow,s=>{this.isHidden(s)?(n||r(o,s-1,i.startCol,i.endCol),n=!0):(n&&(o=s),s===i.endRow&&r(o,s,i.startCol,i.endCol),n=!1)})}),t}function Ekt(e,t){if(!ed(Pf,this).indicators||e<0)return;let r=[];e>=1&&this.isHidden(e-1)&&r.push("afterHiddenRow"),e<this.hot.countRows()-1&&this.isHidden(e+1)&&r.push("beforeHiddenRow"),ne(t,r)}function Rkt(e){e.items.push({name:Pi},T9(this),M9(this))}function Tkt(){Array.isArray(ed(Pf,this).rows)&&this.hideRows(ed(Pf,this).rows)}var ATe=ot(Gt(),1),ITe=ot(we(),1);function A9(e){return{key:"freeze_column",name(){return this.getTranslatedPhrase(kx)},callback(t,r){let[{start:{col:i}}]=r;e.freezeColumn(i),this.render(),this.view.adjustElementsSize()},hidden(){let t=this.getSelectedRange(),r=!1;return(t===void 0||t.length>1||t[0].from.col!==t[0].to.col||t[0].from.col<=this.getSettings().fixedColumnsStart-1)&&(r=!0),r}}}function I9(e){return{key:"unfreeze_column",name(){return this.getTranslatedPhrase(Dx)},callback(t,r){let[{start:{col:i}}]=r;e.unfreezeColumn(i),this.render(),this.view.adjustElementsSize()},hidden(){let t=this.getSelectedRange(),r=!1;return(t===void 0||t.length>1||t[0].from.col!==t[0].to.col||t[0].from.col>=this.getSettings().fixedColumnsStart)&&(r=!0),r}}}function Mkt(e,t){Zit(e,t),t.add(e)}function Akt(e,t,r){Zit(e,t),t.set(e,r)}function Zit(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function O9(e,t){return e.get(xk(e,t))}function k9(e,t,r){return e.set(xk(e,t),r),r}function xk(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}Le.getSingleton().register("beforeColumnFreeze");Le.getSingleton().register("afterColumnFreeze");Le.getSingleton().register("beforeColumnUnfreeze");Le.getSingleton().register("afterColumnUnfreeze");var P9="manualColumnFreeze",Qit=110,X0=new WeakMap,D9=new WeakSet,uE=class extends vi{constructor(){super(...arguments),Mkt(this,D9),Akt(this,X0,!1)}static get PLUGIN_KEY(){return P9}static get PLUGIN_PRIORITY(){return Qit}isEnabled(){return!!this.hot.getSettings()[P9]}enablePlugin(){this.enabled||(this.addHook("afterContextMenuDefaultOptions",t=>xk(D9,this,Ikt).call(this,t)),this.addHook("beforeColumnMove",(t,r)=>xk(D9,this,kkt).call(this,t,r)),super.enablePlugin())}disablePlugin(){k9(X0,this,!1),super.disablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}freezeColumn(t){let r=this.hot.getSettings(),i=r.fixedColumnsStart<this.hot.countCols()&&t>r.fixedColumnsStart-1;O9(X0,this)||k9(X0,this,!0),this.hot.runHooks("beforeColumnFreeze",t,i)!==!1&&(i&&(this.hot.columnIndexMapper.moveIndexes(t,r.fixedColumnsStart),r._fixedColumnsStart+=1),this.hot.runHooks("afterColumnFreeze",t,i))}unfreezeColumn(t){let r=this.hot.getSettings(),i=r.fixedColumnsStart>0&&t<=r.fixedColumnsStart-1;O9(X0,this)||k9(X0,this,!0),this.hot.runHooks("beforeColumnUnfreeze",t,i)!==!1&&(i&&(r._fixedColumnsStart-=1,this.hot.columnIndexMapper.moveIndexes(t,r.fixedColumnsStart)),this.hot.runHooks("afterColumnUnfreeze",t,i))}};function Ikt(e){e.items.push({name:"---------"},A9(this),I9(this))}function kkt(e,t){if(O9(X0,this)){let r=this.hot.getSettings().fixedColumnsStart;if(t<r||e.some(i=>i<r))return!1}}var GTe=ot(Gt(),1),KTe=ot(we(),1);var HTe=ot(Gt(),1);function Sk(e,t,r){return t=Dkt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dkt(e){var t=Okt(e,"string");return typeof t=="symbol"?t:t+""}function Okt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var N9=0,Jit=1,trt=2,z_="px",L9=class{constructor(t){Sk(this,"hot",void 0),Sk(this,"_element",null),Sk(this,"state",N9),Sk(this,"inlineProperty",void 0),this.hot=t,this.inlineProperty=t.isRtl()?"right":"left"}appendTo(t){t.appendChild(this._element),this.state=trt}build(){this.state===N9&&(this._element=this.hot.rootDocument.createElement("div"),this.state=Jit)}destroy(){this.isAppended()&&this._element.parentElement.removeChild(this._element),this._element=null,this.state=N9}isAppended(){return this.state===trt}isBuilt(){return this.state>=Jit}setPosition(t,r){Jo(t)&&(this._element.style.top=t+z_),Jo(r)&&(this._element.style[this.inlineProperty]=r+z_)}getPosition(){let t=this._element.style;return{top:t.top?parseInt(t.top,10):0,start:t[this.inlineProperty]?parseInt(t[this.inlineProperty],10):0}}setSize(t,r){Jo(t)&&(this._element.style.width=t+z_),Jo(r)&&(this._element.style.height=r+z_)}getSize(){return{width:this._element.style.width?parseInt(this._element.style.width,10):0,height:this._element.style.height?parseInt(this._element.style.height,10):0}}setOffset(t,r){Jo(t)&&(this._element.style.marginTop=t+z_),Jo(r)&&(this._element.style[`margin${na(this.inlineProperty)}`]=r+z_)}getOffset(){let t=this._element.style,r=`margin${na(this.inlineProperty)}`;return{top:t.marginTop?parseInt(t.marginTop,10):0,start:t[r]?parseInt(t[r],10):0}}},Ek=L9;var Pkt="ht__manualColumnMove--backlight",F9=class extends Ek{build(){super.build(),ne(this._element,Pkt)}},ert=F9;var Nkt="ht__manualColumnMove--guideline",H9=class extends Ek{build(){super.build(),ne(this._element,Nkt)}},irt=H9;function Lkt(e,t){nrt(e,t),t.add(e)}function Kd(e,t,r){nrt(e,t),t.set(e,r)}function nrt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ml(e,t,r){return e.set(Hp(e,t),r),r}function yi(e,t){return e.get(Hp(e,t))}function Hp(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}Le.getSingleton().register("beforeColumnMove");Le.getSingleton().register("afterColumnMove");var Tk="manualColumnMove",ort=120,rrt="ht__manualColumnMove",Ak="show-ui",B9="on-moving--columns",j9="after-selection--columns",Ka=new WeakMap,Bp=new WeakMap,Nf=new WeakMap,Mk=new WeakMap,jp=new WeakMap,Ga=new WeakMap,Rk=new WeakMap,id=new WeakMap,U_=new WeakMap,Ik=new WeakMap,hE=new WeakMap,Z0=new WeakSet,fE=class extends vi{constructor(){super(...arguments),Lkt(this,Z0),Kd(this,Ka,new ert(this.hot)),Kd(this,Bp,new irt(this.hot)),Kd(this,Nf,[]),Kd(this,Mk,0),Kd(this,jp,!1),Kd(this,Ga,{}),Kd(this,Rk,void 0),Kd(this,id,void 0),Kd(this,U_,void 0),Kd(this,Ik,void 0),Kd(this,hE,void 0)}static get PLUGIN_KEY(){return Tk}static get PLUGIN_PRIORITY(){return ort}isEnabled(){return!!this.hot.getSettings()[Tk]}enablePlugin(){var t=this;this.enabled||(this.addHook("beforeOnCellMouseDown",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return Hp(Z0,t,Fkt).call(t,...i)}),this.addHook("beforeOnCellMouseOver",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return Hp(Z0,t,Bkt).call(t,...i)}),this.addHook("afterScrollVertically",()=>Hp(Z0,this,Vkt).call(this)),this.addHook("afterLoadData",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return Hp(Z0,t,zkt).call(t,...i)}),this.buildPluginUI(),this.registerEvents(),ne(this.hot.rootElement,rrt),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),this.moveBySettingsOrLoad(),super.updatePlugin()}disablePlugin(){pi(this.hot.rootElement,rrt),this.unregisterEvents(),yi(Ka,this).destroy(),yi(Bp,this).destroy(),super.disablePlugin()}moveColumn(t,r){return this.moveColumns([t],r)}moveColumns(t,r){let i=yi(Rk,this),n=this.isMovePossible(t,r),o=this.hot.runHooks("beforeColumnMove",t,r,i,n);if(Ml(Rk,this,void 0),o===!1)return;n&&this.hot.columnIndexMapper.moveIndexes(t,r);let s=n&&this.isColumnOrderChanged(t,r);return this.hot.runHooks("afterColumnMove",t,r,i,n,s),s}dragColumn(t,r){return this.dragColumns([t],r)}dragColumns(t,r){let i=this.countFinalIndex(t,r);return Ml(Rk,this,r),this.moveColumns(t,i)}isMovePossible(t,r){let i=this.hot.columnIndexMapper.getNotTrimmedIndexesLength(),n=t.length+r>i,o=r<0,s=t.some(l=>l<0),a=t.some(l=>l>=i);return!(n||o||s||a)}isColumnOrderChanged(t,r){return t.some((i,n)=>i-n!==r)}countFinalIndex(t,r){let i=cn(t,(n,o)=>(o<r&&(n+=1),n),0);return r-i}getColumnsWidth(t,r){let i=this.hot.columnIndexMapper,n=0;for(let o=t;o<=r;o+=1){let s=i.getRenderableFromVisualIndex(o);o<0?n+=this.hot.view._wt.wtViewport.getRowHeaderWidth()||0:s!==null&&(n+=this.hot.view._wt.wtTable.getStretchedColumnWidth(s)||0)}return n}moveBySettingsOrLoad(){let t=this.hot.getSettings()[Tk];if(Array.isArray(t))this.moveColumns(t,0);else if(t!==void 0){let r=this.persistentStateLoad();r.length&&this.moveColumns(r,0)}}isFixedColumnsStart(t){return t<this.hot.getSettings().fixedColumnsStart}persistentStateSave(){this.hot.runHooks("persistentStateSave","manualColumnMove",this.hot.columnIndexMapper.getIndexesSequence())}persistentStateLoad(){let t={};return this.hot.runHooks("persistentStateLoad","manualColumnMove",t),t.value?t.value:[]}prepareColumnsToMoving(t,r){let i=[];return Oe(t,r,n=>{i.push(n)}),i}refreshPositions(){let t=this.hot.view.getFirstFullyVisibleColumn();this.isFixedColumnsStart(yi(id,this))&&t>0&&this.hot.scrollViewportTo({col:this.hot.columnIndexMapper.getNearestNotHiddenIndex(t-1,-1)});let r=this.hot.view._wt.wtTable,i=this.hot.view._wt.wtOverlays.scrollableElement,n=typeof i.scrollX=="number"?i.scrollX:i.scrollLeft,o=this.hot.view.THEAD.offsetLeft+this.getColumnsWidth(0,yi(id,this)-1),s=r.hider.offsetWidth,a=r.TBODY.offsetLeft,l=yi(Ka,this).getOffset().start,c=yi(Ka,this).getSize().width,d=0,u=0;if(this.hot.isRtl()){let m=this.hot.rootWindow,g=wr(this.hot.rootElement),p=m.innerWidth-yi(U_,this)-g;u=m.innerWidth-yi(Ga,this).eventPageX-p-(i.scrollX===void 0?n:0)}else u=yi(Ga,this).eventPageX-(yi(U_,this)-(i.scrollX===void 0?n:0));if(yi(Ik,this)&&(d=this.hot.view._wt.wtOverlays.inlineStartOverlay.clone.wtTable.getColumnHeader(-1).offsetWidth),this.isFixedColumnsStart(yi(id,this))&&(o+=n),o+=d,yi(id,this)<0)yi(hE,this)>0?yi(Ga,this).col=0:yi(Ga,this).col=t>0?t-1:t;else if(yi(Ga,this).TD.offsetWidth/2+o<=u){let m=yi(id,this)>=yi(Mk,this)?yi(Mk,this)-1:yi(id,this);yi(Ga,this).col=m+1,o+=yi(Ga,this).TD.offsetWidth}else yi(Ga,this).col=yi(id,this);let h=u,f=o;u+c+l>=s?h=s-c-l:u+l<a+d&&(h=a+d+Math.abs(l)),o>=s-1?f=s-1:f===0?f=1:i.scrollX!==void 0&&yi(id,this)<yi(hE,this)&&(f-=yi(U_,this)<=i.scrollX?yi(U_,this):0),yi(Ka,this).setPosition(null,h),yi(Bp,this).setPosition(null,f)}registerEvents(){let{documentElement:t}=this.hot.rootDocument;this.eventManager.addEventListener(t,"mousemove",r=>Hp(Z0,this,Hkt).call(this,r)),this.eventManager.addEventListener(t,"mouseup",()=>Hp(Z0,this,jkt).call(this))}unregisterEvents(){this.eventManager.clear()}buildPluginUI(){yi(Ka,this).build(),yi(Bp,this).build()}destroy(){yi(Ka,this).destroy(),yi(Bp,this).destroy(),super.destroy()}};function Fkt(e,t,r,i){let n=this.hot.view._wt.wtTable,o=this.hot.selection.isSelectedByColumnHeader(),s=this.hot.getSelectedRangeLast(),a=Ze(e.target,"sortAction");if(!s||!o||yi(jp,this)||e.button!==0||a){Ml(jp,this,!1),yi(Nf,this).length=0,pi(this.hot.rootElement,[B9,Ak]);return}let l=yi(Bp,this).isBuilt()&&!yi(Bp,this).isAppended(),c=yi(Ka,this).isBuilt()&&!yi(Ka,this).isAppended();l&&c&&(yi(Bp,this).appendTo(n.hider),yi(Ka,this).appendTo(n.hider));let{from:d,to:u}=s,h=Math.min(d.col,u.col),f=Math.max(d.col,u.col);if(t.row<0&&t.col>=h&&t.col<=f){i.column=!0,Ml(jp,this,!0);let m=r.firstChild?QK(e,r.firstChild).x:e.offsetX;yi(Ga,this).eventPageX=e.pageX,Ml(id,this,t.col),yi(Ga,this).TD=r,yi(Ga,this).col=t.col,Ml(Nf,this,this.prepareColumnsToMoving(h,f)),Ml(Ik,this,!!this.hot.getSettings().rowHeaders),Ml(Mk,this,this.hot.countCols()),Ml(hE,this,this.hot.getSettings().fixedColumnsStart),Ml(U_,this,Kn(this.hot.rootElement).left);let g=yi(Ik,this)?-1:0,p=n.holder.scrollTop+n.getColumnHeaderHeight(0)+1,b=t.col<yi(hE,this),_=this.hot.view._wt.wtOverlays.inlineStartOverlay.getOverlayOffset(),E=Math.abs(m-(this.hot.isRtl()?r.offsetWidth:0)),O=this.getColumnsWidth(h,t.col-1)+E,V=this.getColumnsWidth(g,h-1)+(b?_:0)+O;yi(Ka,this).setPosition(p,V),yi(Ka,this).setSize(this.getColumnsWidth(h,f),n.hider.offsetHeight-p),yi(Ka,this).setOffset(null,-O),ne(this.hot.rootElement,B9)}else pi(this.hot.rootElement,j9),Ml(jp,this,!1),yi(Nf,this).length=0}function Hkt(e){yi(jp,this)&&(yi(Ga,this).eventPageX=e.pageX,this.refreshPositions())}function Bkt(e,t,r,i){!this.hot.getSelectedRangeLast()||!yi(jp,this)||(yi(Nf,this).indexOf(t.col)>-1?pi(this.hot.rootElement,Ak):ne(this.hot.rootElement,Ak),i.row=!0,i.column=!0,i.cell=!0,Ml(id,this,t.col),yi(Ga,this).TD=r)}function jkt(){let e=yi(Ga,this).col,t=yi(Nf,this).length;if(Ml(id,this,void 0),Ml(jp,this,!1),pi(this.hot.rootElement,[B9,Ak,j9]),this.hot.selection.isSelectedByColumnHeader()&&ne(this.hot.rootElement,j9),t<1||e===void 0)return;let r=yi(Nf,this)[0],i=this.hot.toPhysicalColumn(r),n=this.dragColumns(yi(Nf,this),e);if(yi(Nf,this).length=0,n===!0){this.persistentStateSave(),this.hot.render(),this.hot.view.adjustElementsSize();let o=this.hot.toVisualColumn(i),s=o+t-1;this.hot.selectColumns(o,s)}}function Vkt(){let e=this.hot.view._wt.wtTable,t=e.getColumnHeaderHeight(0)+1,r=e.holder.scrollTop,i=t+r;yi(Ka,this).setPosition(i),yi(Ka,this).setSize(null,e.hider.offsetHeight-i)}function zkt(){this.moveBySettingsOrLoad()}var a5e=ot(Gt(),1),l5e=ot(we(),1);function Ukt(e,t){art(e,t),t.add(e)}function Ra(e,t,r){art(e,t),t.set(e,r)}function art(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Uo(e,t,r){return e.set(Xd(e,t),r),r}function ti(e,t){return e.get(Xd(e,t))}function Xd(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var bE="manualColumnResize",lrt=130,srt="manualColumnWidths",Ff=new WeakMap,kk=new WeakMap,lc=new WeakMap,Ok=new WeakMap,mh=new WeakMap,Wkt=new WeakMap,W_=new WeakMap,Dk=new WeakMap,Al=new WeakMap,Lf=new WeakMap,Q0=new WeakMap,Pk=new WeakMap,mE=new WeakMap,pE=new WeakMap,cc=new WeakMap,gE=new WeakMap,fh=new WeakSet,vE=class extends vi{static get PLUGIN_KEY(){return bE}static get PLUGIN_PRIORITY(){return lrt}constructor(t){super(t),Ukt(this,fh),Ra(this,Ff,null),Ra(this,kk,null),Ra(this,lc,[]),Ra(this,Ok,null),Ra(this,mh,null),Ra(this,Wkt,null),Ra(this,W_,null),Ra(this,Dk,null),Ra(this,Al,this.hot.rootDocument.createElement("DIV")),Ra(this,Lf,this.hot.rootDocument.createElement("DIV")),Ra(this,Q0,null),Ra(this,Pk,!1),Ra(this,mE,0),Ra(this,pE,null),Ra(this,cc,void 0),Ra(this,gE,void 0),ne(ti(Al,this),"manualColumnResizer"),ne(ti(Lf,this),"manualColumnResizerGuide")}get inlineDir(){return this.hot.isRtl()?"right":"left"}isEnabled(){return this.hot.getSettings()[bE]}enablePlugin(){this.enabled||(Uo(cc,this,new js),ti(cc,this).addLocalHook("init",()=>Xd(fh,this,Ykt).call(this)),this.hot.columnIndexMapper.registerMap(this.pluginName,ti(cc,this)),this.addHook("modifyColWidth",(t,r)=>Xd(fh,this,Zkt).call(this,t,r),1),this.addHook("beforeStretchingColumnWidth",(t,r)=>Xd(fh,this,Qkt).call(this,t,r)),this.addHook("beforeColumnResize",(t,r,i)=>Xd(fh,this,Jkt).call(this,t,r,i)),this.bindEvents(),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){Uo(gE,this,ti(cc,this).getValues()),this.hot.columnIndexMapper.unregisterMap(this.pluginName),super.disablePlugin()}saveManualColumnWidths(){this.hot.runHooks("persistentStateSave",srt,ti(cc,this).getValues())}loadManualColumnWidths(){let t={};return this.hot.runHooks("persistentStateLoad",srt,t),t.value}setManualSize(t,r){let i=Math.max(r,20),n=this.hot.toPhysicalColumn(t);return ti(cc,this).setValueAtIndex(n,i),i}clearManualSize(t){let r=this.hot.toPhysicalColumn(t);ti(cc,this).setValueAtIndex(r,null)}setupHandlePosition(t){if(!t.parentNode)return;Uo(Ff,this,t);let{_wt:r}=this.hot.view,i=r.wtTable.getCoords(ti(Ff,this)),n=i.col;if(n<0)return;let o=Fr(ti(Ff,this)),s=ti(Ff,this).getBoundingClientRect(),a=n<r.getSetting("fixedColumnsStart"),l;a&&(l=r.wtOverlays.topInlineStartCornerOverlay.getRelativeCellPosition(ti(Ff,this),i.row,i.col)),l||(l=r.wtOverlays.topOverlay.getRelativeCellPosition(ti(Ff,this),i.row,i.col)),Uo(kk,this,this.hot.columnIndexMapper.getVisualFromRenderableIndex(n)),Uo(lc,this,[]);let c=this.hot.selection.isSelectedByCorner()||this.hot.selection.isSelectedByColumnHeader();if(this.hot.selection.isSelected()&&c){let d=this.hot.getSelectedRange();Tt(d,u=>{let h=u.getTopStartCorner().col,f=u.getBottomEndCorner().col;Oe(h,f,m=>{ti(lc,this).includes(m)||ti(lc,this).push(m)})})}ti(lc,this).includes(ti(kk,this))||Uo(lc,this,[ti(kk,this)]),Uo(Dk,this,l.start-6),Uo(W_,this,parseInt(s.width,10)),ti(Al,this).style.top=`${l.top}px`,ti(Al,this).style[this.inlineDir]=`${ti(Dk,this)+ti(W_,this)}px`,ti(Al,this).style.height=`${o}px`,this.hot.rootElement.appendChild(ti(Al,this))}refreshHandlePosition(){ti(Al,this).style[this.inlineDir]=`${ti(Dk,this)+ti(Ok,this)}px`}setupGuidePosition(){let t=parseInt(Fr(ti(Al,this)),10),r=parseInt(ti(Al,this).style.top,10)+t,i=parseInt(this.hot.view.maximumVisibleElementHeight(0),10);ne(ti(Al,this),"active"),ne(ti(Lf,this),"active"),ti(Lf,this).style.top=`${r}px`,this.refreshGuidePosition(),ti(Lf,this).style.height=`${i-t}px`,this.hot.rootElement.appendChild(ti(Lf,this))}refreshGuidePosition(){ti(Lf,this).style[this.inlineDir]=ti(Al,this).style[this.inlineDir]}hideHandleAndGuide(){pi(ti(Al,this),"active"),pi(ti(Lf,this),"active")}checkIfColumnHeader(t){let r=Md(t,["THEAD"],this.hot.rootElement),{topOverlay:i,topInlineStartCornerOverlay:n}=this.hot.view._wt.wtOverlays;return[i.clone.wtTable.THEAD,n.clone.wtTable.THEAD].includes(r)}getClosestTHParent(t){return t.tagName!=="TABLE"?t.tagName==="TH"?t:this.getClosestTHParent(t.parentNode):null}afterMouseDownTimeout(){let t=()=>{this.hot.forceFullRender=!0,this.hot.view.render(),this.hot.view.adjustElementsSize()},r=(i,n)=>{let o=this.hot.runHooks("beforeColumnResize",ti(mh,this),i,!0);o!==void 0&&Uo(mh,this,o),this.hot.getSettings().stretchH==="all"?this.clearManualSize(i):this.setManualSize(i,ti(mh,this)),this.saveManualColumnWidths(),this.hot.runHooks("afterColumnResize",ti(mh,this),i,!0),n&&t()};ti(mE,this)>=2&&(ti(lc,this).length>1?(Tt(ti(lc,this),n=>{r(n)}),t()):Tt(ti(lc,this),n=>{r(n,!0)})),Uo(mE,this,0),Uo(pE,this,null)}bindEvents(){let{rootWindow:t,rootElement:r}=this.hot;this.eventManager.addEventListener(r,"mouseover",i=>Xd(fh,this,qkt).call(this,i)),this.eventManager.addEventListener(r,"mousedown",i=>Xd(fh,this,$kt).call(this,i)),this.eventManager.addEventListener(t,"mousemove",i=>Xd(fh,this,Gkt).call(this,i)),this.eventManager.addEventListener(t,"mouseup",()=>Xd(fh,this,Kkt).call(this)),this.eventManager.addEventListener(ti(Al,this),"contextmenu",()=>Xd(fh,this,Xkt).call(this))}destroy(){super.destroy()}};function Ykt(){let e=this.hot.getSettings()[bE],t=this.loadManualColumnWidths();typeof t<"u"?this.hot.batchExecution(()=>{t.forEach((r,i)=>{ti(cc,this).setValueAtIndex(i,r)})},!0):Array.isArray(e)?(this.hot.batchExecution(()=>{e.forEach((r,i)=>{ti(cc,this).setValueAtIndex(i,r)})},!0),Uo(gE,this,e)):e===!0&&Array.isArray(ti(gE,this))&&this.hot.batchExecution(()=>{ti(gE,this).forEach((r,i)=>{ti(cc,this).setValueAtIndex(i,r)})},!0)}function qkt(e){if(!bM(e.target)&&ti(Pk,this)!==!0&&this.checkIfColumnHeader(e.target)){let t=this.getClosestTHParent(e.target);if(!t)return;let r=t.getAttribute("colspan");t&&(r===null||r==="1")&&(ti(Q0,this)||this.setupHandlePosition(t))}}function $kt(e){e.target.parentNode===this.hot.rootElement&&Ze(e.target,"manualColumnResizer")&&(this.setupHandlePosition(ti(Ff,this)),this.setupGuidePosition(),Uo(Q0,this,!0),ti(pE,this)===null&&(Uo(pE,this,setTimeout(()=>this.afterMouseDownTimeout(),500)),this.hot._registerTimeout(ti(pE,this))),Uo(mE,this,ti(mE,this)+1),this.startX=e.pageX,Uo(mh,this,ti(W_,this)))}function Gkt(e){if(ti(Q0,this)){let t=(e.pageX-this.startX)*this.hot.getDirectionFactor();Uo(Ok,this,ti(W_,this)+t),Tt(ti(lc,this),r=>{Uo(mh,this,this.setManualSize(r,ti(Ok,this)))}),this.refreshHandlePosition(),this.refreshGuidePosition()}}function Kkt(){let e=()=>{this.hot.forceFullRender=!0,this.hot.view.render(),this.hot.view.adjustElementsSize()},t=(r,i)=>{this.hot.runHooks("beforeColumnResize",ti(mh,this),r,!1),i&&e(),this.saveManualColumnWidths(),this.hot.runHooks("afterColumnResize",ti(mh,this),r,!1)};ti(Q0,this)&&(this.hideHandleAndGuide(),Uo(Q0,this,!1),ti(mh,this)!==ti(W_,this)&&(ti(lc,this).length>1?(Tt(ti(lc,this),i=>{t(i)}),e()):Tt(ti(lc,this),i=>{t(i,!0)})),this.setupHandlePosition(ti(Ff,this)))}function Xkt(){this.hideHandleAndGuide(),this.hot.rootElement.removeChild(ti(Al,this)),this.hot.rootElement.removeChild(ti(Lf,this)),Uo(Q0,this,!1),Uo(Pk,this,!0),this.hot._registerImmediate(()=>{Uo(Pk,this,!1)})}function Zkt(e,t){let r=e;if(this.enabled){let i=this.hot.toPhysicalColumn(t),n=ti(cc,this).getValueAtIndex(i);this.hot.getSettings()[bE]&&n&&(r=n)}return r}function Qkt(e,t){let r=ti(cc,this).getValueAtIndex(t);return r===null&&(r=e),r}function Jkt(){this.hot.view._wt.wtViewport.resetHasOversizedColumnHeadersMarked()}var E5e=ot(Gt(),1),R5e=ot(we(),1);var b5e=ot(Gt(),1);function V9(e,t,r){return t=tDt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tDt(e){var t=eDt(e,"string");return typeof t=="symbol"?t:t+""}function eDt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var z9=0,crt=1,drt=2,Y_="px",U9=class{constructor(t){V9(this,"hot",void 0),V9(this,"_element",null),V9(this,"state",z9),this.hot=t}appendTo(t){t.appendChild(this._element),this.state=drt}build(){this.state===z9&&(this._element=this.hot.rootDocument.createElement("div"),this.state=crt)}destroy(){this.isAppended()&&this._element.parentElement.removeChild(this._element),this._element=null,this.state=z9}isAppended(){return this.state===drt}isBuilt(){return this.state>=crt}setPosition(t,r){t!==void 0&&(this._element.style.top=t+Y_),r!==void 0&&(this._element.style.left=r+Y_)}getPosition(){return{top:this._element.style.top?parseInt(this._element.style.top,10):0,left:this._element.style.left?parseInt(this._element.style.left,10):0}}setSize(t,r){t&&(this._element.style.width=t+Y_),r&&(this._element.style.height=r+Y_)}getSize(){return{width:this._element.style.width?parseInt(this._element.style.width,10):0,height:this._element.style.height?parseInt(this._element.style.height,10):0}}setOffset(t,r){t&&(this._element.style.marginTop=t+Y_),r&&(this._element.style.marginLeft=r+Y_)}getOffset(){return{top:this._element.style.marginTop?parseInt(this._element.style.marginTop,10):0,left:this._element.style.marginLeft?parseInt(this._element.style.marginLeft,10):0}}},Nk=U9;var iDt="ht__manualRowMove--backlight",W9=class extends Nk{build(){super.build(),ne(this._element,iDt)}},urt=W9;var rDt="ht__manualRowMove--guideline",Y9=class extends Nk{build(){super.build(),ne(this._element,rDt)}},hrt=Y9;function nDt(e,t){mrt(e,t),t.add(e)}function q_(e,t,r){mrt(e,t),t.set(e,r)}function mrt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function tb(e,t,r){return e.set(Vp(e,t),r),r}function sr(e,t){return e.get(Vp(e,t))}function Vp(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}Le.getSingleton().register("beforeRowMove");Le.getSingleton().register("afterRowMove");var Fk="manualRowMove",prt=140,frt="ht__manualRowMove",Hk="show-ui",q9="on-moving--rows",$9="after-selection--rows",Xa=new WeakMap,zp=new WeakMap,Hf=new WeakMap,Up=new WeakMap,Il=new WeakMap,Lk=new WeakMap,J0=new WeakSet,yE=class extends vi{constructor(){super(...arguments),nDt(this,J0),q_(this,Xa,new urt(this.hot)),q_(this,zp,new hrt(this.hot)),q_(this,Hf,[]),q_(this,Up,void 0),q_(this,Il,{}),q_(this,Lk,void 0)}static get PLUGIN_KEY(){return Fk}static get PLUGIN_PRIORITY(){return prt}isEnabled(){return!!this.hot.getSettings()[Fk]}enablePlugin(){var t=this;this.enabled||(this.addHook("beforeOnCellMouseDown",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return Vp(J0,t,oDt).call(t,...i)}),this.addHook("beforeOnCellMouseOver",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return Vp(J0,t,aDt).call(t,...i)}),this.addHook("afterScrollHorizontally",()=>Vp(J0,this,cDt).call(this)),this.addHook("afterLoadData",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return Vp(J0,t,dDt).call(t,...i)}),this.buildPluginUI(),this.registerEvents(),ne(this.hot.rootElement,frt),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),this.moveBySettingsOrLoad(),super.updatePlugin()}disablePlugin(){pi(this.hot.rootElement,frt),this.unregisterEvents(),sr(Xa,this).destroy(),sr(zp,this).destroy(),super.disablePlugin()}moveRow(t,r){return this.moveRows([t],r)}moveRows(t,r){let i=sr(Lk,this),n=this.isMovePossible(t,r),o=this.hot.runHooks("beforeRowMove",t,r,i,n);if(tb(Lk,this,void 0),o===!1)return;n&&this.hot.rowIndexMapper.moveIndexes(t,r);let s=n&&this.isRowOrderChanged(t,r);return this.hot.runHooks("afterRowMove",t,r,i,n,s),s}dragRow(t,r){return this.dragRows([t],r)}dragRows(t,r){let i=this.countFinalIndex(t,r);return tb(Lk,this,r),this.moveRows(t,i)}isMovePossible(t,r){let i=this.hot.rowIndexMapper.getNotTrimmedIndexesLength(),n=t.length+r>i,o=r<0,s=t.some(l=>l<0),a=t.some(l=>l>=i);return!(n||o||s||a)}isRowOrderChanged(t,r){return t.some((i,n)=>i-n!==r)}countFinalIndex(t,r){let i=cn(t,(n,o)=>(o<r&&(n+=1),n),0);return r-i}getRowsHeight(t,r){let i=this.hot.rowIndexMapper,n=0;for(let o=t;o<=r;o++){let s=i.getRenderableFromVisualIndex(o);s!==null&&(n+=this.hot.view._wt.wtTable.getRowHeight(s)||23)}return n}moveBySettingsOrLoad(){let t=this.hot.getSettings()[Fk];if(Array.isArray(t))this.moveRows(t,0);else if(t!==void 0){let r=this.persistentStateLoad();r.length&&this.moveRows(r,0)}}isFixedRowTop(t){return t<this.hot.getSettings().fixedRowsTop}isFixedRowBottom(t){return t>this.hot.countRows()-1-this.hot.getSettings().fixedRowsBottom}persistentStateSave(){this.hot.runHooks("persistentStateSave","manualRowMove",this.hot.rowIndexMapper.getIndexesSequence())}persistentStateLoad(){let t={};return this.hot.runHooks("persistentStateLoad","manualRowMove",t),t.value?t.value:[]}prepareRowsToMoving(){let t=this.hot.getSelectedRangeLast(),r=[];if(!t)return r;let{from:i,to:n}=t,o=Math.min(i.row,n.row),s=Math.max(i.row,n.row);return Oe(o,s,a=>{r.push(a)}),r}refreshPositions(){let t=sr(Il,this).coords,r=this.hot.view.getFirstFullyVisibleRow(),i=this.hot.view.getLastFullyVisibleRow(),n=this.hot.countRows();this.isFixedRowTop(t.row)&&r>0&&this.hot.scrollViewportTo(this.hot.rowIndexMapper.getNearestNotHiddenIndex(r-1,-1)),this.isFixedRowBottom(t.row)&&i<n&&this.hot.scrollViewportTo(this.hot.rowIndexMapper.getNearestNotHiddenIndex(i+1,1),void 0,!0);let o=this.hot.view._wt.wtTable,s=sr(Il,this).TD,a=this.hot.rootElement,l=Kn(a),c=Id(a),d=o.holder.scrollTop,u=this.hot.rootWindow!==c?c.scrollTop:0,h=l.top-u,f=sr(Il,this).eventPageY-h+d,m=o.hider.offsetHeight,g=o.TBODY.offsetTop,p=sr(Xa,this).getOffset().top,b=sr(Xa,this).getSize().height,_=s.offsetHeight/2,E=s.offsetHeight,O=this.hot.view.THEAD.offsetHeight+this.getRowsHeight(0,t.row-1),V=f>=O+_;this.isFixedRowTop(t.row)&&(O+=this.hot.view._wt.wtOverlays.topOverlay.getOverlayOffset()),t.row<0?sr(Il,this).row=r>0?r-1:r:V?(sr(Il,this).row=t.row+1,O+=t.row===0?E-1:E):sr(Il,this).row=t.row;let H=f,F=O;f+b+p>=m?H=m-b-p:f+p<g&&(H=g+Math.abs(p)),O>=m-1&&(F=m-1),sr(Xa,this).setPosition(H),sr(zp,this).setPosition(F)}registerEvents(){let{documentElement:t}=this.hot.rootDocument;this.eventManager.addEventListener(t,"mousemove",r=>Vp(J0,this,sDt).call(this,r)),this.eventManager.addEventListener(t,"mouseup",()=>Vp(J0,this,lDt).call(this))}unregisterEvents(){this.eventManager.clear()}buildPluginUI(){sr(Xa,this).build(),sr(zp,this).build()}destroy(){sr(Xa,this).destroy(),sr(zp,this).destroy(),super.destroy()}};function oDt(e,t,r,i){let{wtTable:n,wtViewport:o}=this.hot.view._wt,s=this.hot.selection.isSelectedByRowHeader(),a=this.hot.getSelectedRangeLast();if(!a||!s||sr(Up,this)||e.button!==0){tb(Up,this,!1),sr(Hf,this).length=0,pi(this.hot.rootElement,[q9,Hk]);return}let l=sr(zp,this).isBuilt()&&!sr(zp,this).isAppended(),c=sr(Xa,this).isBuilt()&&!sr(Xa,this).isAppended();l&&c&&(sr(zp,this).appendTo(n.hider),sr(Xa,this).appendTo(n.hider));let{from:d,to:u}=a,h=Math.min(d.row,u.row),f=Math.max(d.row,u.row);if(t.col<0&&t.row>=h&&t.row<=f){i.row=!0,tb(Up,this,!0),sr(Il,this).eventPageY=e.pageY,sr(Il,this).coords=t,sr(Il,this).TD=r,tb(Hf,this,this.prepareRowsToMoving());let m=n.holder.scrollLeft+o.getRowHeaderWidth(),g=this.getRowsHeight(h,t.row-1)+e.offsetY;sr(Xa,this).setPosition(null,m),sr(Xa,this).setSize(n.hider.offsetWidth-m,this.getRowsHeight(h,f)),sr(Xa,this).setOffset(-g,null),ne(this.hot.rootElement,q9),this.refreshPositions()}else pi(this.hot.rootElement,$9),tb(Up,this,!1),sr(Hf,this).length=0}function sDt(e){sr(Up,this)&&(sr(Il,this).eventPageY=e.pageY,this.refreshPositions())}function aDt(e,t,r,i){!this.hot.getSelectedRangeLast()||!sr(Up,this)||(sr(Hf,this).indexOf(t.row)>-1?pi(this.hot.rootElement,Hk):ne(this.hot.rootElement,Hk),i.row=!0,i.column=!0,i.cell=!0,sr(Il,this).coords=t,sr(Il,this).TD=r)}function lDt(){let e=sr(Il,this).row,t=sr(Hf,this).length;if(tb(Up,this,!1),pi(this.hot.rootElement,[q9,Hk,$9]),this.hot.selection.isSelectedByRowHeader()&&ne(this.hot.rootElement,$9),t<1||e===void 0)return;let r=sr(Hf,this)[0],i=this.hot.toPhysicalRow(r),n=this.dragRows(sr(Hf,this),e);if(sr(Hf,this).length=0,n===!0){this.persistentStateSave(),this.hot.render(),this.hot.view.adjustElementsSize();let o=this.hot.toVisualRow(i),s=o+t-1;this.hot.selectRows(o,s)}}function cDt(){let e=this.hot.view._wt.wtTable,t=this.hot.view._wt.wtViewport.getRowHeaderWidth(),r=e.holder.scrollLeft,i=t+r;sr(Xa,this).setPosition(null,i),sr(Xa,this).setSize(e.hider.offsetWidth-i)}function dDt(){this.moveBySettingsOrLoad()}var F5e=ot(Gt(),1),H5e=ot(we(),1);function uDt(e,t){brt(e,t),t.add(e)}function Ta(e,t,r){brt(e,t),t.set(e,r)}function brt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Io(e,t,r){return e.set(Bf(e,t),r),r}function Qe(e,t){return e.get(Bf(e,t))}function Bf(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var SE="manualRowResize",vrt=30,grt="manualRowHeights",gh=new WeakMap,Bk=new WeakMap,dc=new WeakMap,_E=new WeakMap,Yp=new WeakMap,G9=new WeakMap,$_=new WeakMap,jk=new WeakMap,Za=new WeakMap,ph=new WeakMap,eb=new WeakMap,Vk=new WeakMap,wE=new WeakMap,CE=new WeakMap,Zd=new WeakMap,xE=new WeakMap,Wp=new WeakSet,EE=class extends vi{static get PLUGIN_KEY(){return SE}static get PLUGIN_PRIORITY(){return vrt}constructor(t){super(t),uDt(this,Wp),Ta(this,gh,null),Ta(this,Bk,null),Ta(this,dc,[]),Ta(this,_E,null),Ta(this,Yp,null),Ta(this,G9,null),Ta(this,$_,null),Ta(this,jk,null),Ta(this,Za,this.hot.rootDocument.createElement("DIV")),Ta(this,ph,this.hot.rootDocument.createElement("DIV")),Ta(this,eb,!1),Ta(this,Vk,!1),Ta(this,wE,0),Ta(this,CE,null),Ta(this,Zd,void 0),Ta(this,xE,void 0),ne(Qe(Za,this),"manualRowResizer"),ne(Qe(ph,this),"manualRowResizerGuide")}get inlineDir(){return this.hot.isRtl()?"right":"left"}isEnabled(){return this.hot.getSettings()[SE]}enablePlugin(){this.enabled||(Io(Zd,this,new js),Qe(Zd,this).addLocalHook("init",()=>Bf(Wp,this,vDt).call(this)),this.hot.rowIndexMapper.registerMap(this.pluginName,Qe(Zd,this)),this.addHook("modifyRowHeight",(t,r)=>Bf(Wp,this,bDt).call(this,t,r)),this.bindEvents(),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){Io(xE,this,Qe(Zd,this).getValues()),this.hot.rowIndexMapper.unregisterMap(this.pluginName),super.disablePlugin()}saveManualRowHeights(){this.hot.runHooks("persistentStateSave",grt,Qe(Zd,this).getValues())}loadManualRowHeights(){let t={};return this.hot.runHooks("persistentStateLoad",grt,t),t.value}setManualSize(t,r){let i=this.hot.toPhysicalRow(t),n=Math.max(r,np.DEFAULT_HEIGHT);return Qe(Zd,this).setValueAtIndex(i,n),n}getLastDesiredRowHeight(){return Qe(_E,this)}setupHandlePosition(t){Io(gh,this,t);let{view:r}=this.hot,{_wt:i}=r,n=i.wtTable.getCoords(Qe(gh,this)),o=n.row;if(o<0)return;let s=wr(Qe(gh,this)),a=Qe(gh,this).getBoundingClientRect(),l=o<i.getSetting("fixedRowsTop"),c=o>=r.countNotHiddenRowIndexes(0,1)-i.getSetting("fixedRowsBottom"),d;l?d=i.wtOverlays.topInlineStartCornerOverlay.getRelativeCellPosition(Qe(gh,this),n.row,n.col):c&&(d=i.wtOverlays.bottomInlineStartCornerOverlay.getRelativeCellPosition(Qe(gh,this),n.row,n.col)),d||(d=i.wtOverlays.inlineStartOverlay.getRelativeCellPosition(Qe(gh,this),n.row,n.col)),Io(Bk,this,this.hot.rowIndexMapper.getVisualFromRenderableIndex(o)),Io(dc,this,[]);let u=this.hot.selection.isSelectedByCorner()||this.hot.selection.isSelectedByRowHeader();if(this.hot.selection.isSelected()&&u){let h=this.hot.getSelectedRange();Tt(h,f=>{let m=f.getTopStartCorner().row,g=f.getBottomStartCorner().row;Oe(m,g,p=>{Qe(dc,this).includes(p)||Qe(dc,this).push(p)})})}Qe(dc,this).includes(Qe(Bk,this))||Io(dc,this,[Qe(Bk,this)]),Io(jk,this,d.top-6),Io($_,this,parseInt(a.height,10)),Qe(Za,this).style.top=`${Qe(jk,this)+Qe($_,this)}px`,Qe(Za,this).style[this.inlineDir]=`${d.start}px`,Qe(Za,this).style.width=`${s}px`,this.hot.rootElement.appendChild(Qe(Za,this))}refreshHandlePosition(){Qe(Za,this).style.top=`${Qe(jk,this)+Qe(_E,this)}px`}setupGuidePosition(){let t=parseInt(wr(Qe(Za,this)),10),r=parseInt(Qe(Za,this).style[this.inlineDir],10)+t,i=parseInt(this.hot.view.maximumVisibleElementWidth(0),10);ne(Qe(Za,this),"active"),ne(Qe(ph,this),"active"),Qe(ph,this).style.top=Qe(Za,this).style.top,Qe(ph,this).style[this.inlineDir]=`${r}px`,Qe(ph,this).style.width=`${i-t}px`,this.hot.rootElement.appendChild(Qe(ph,this))}refreshGuidePosition(){Qe(ph,this).style.top=Qe(Za,this).style.top}hideHandleAndGuide(){pi(Qe(Za,this),"active"),pi(Qe(ph,this),"active")}checkIfRowHeader(t){let r=Md(t,["TBODY"],this.hot.rootElement),{inlineStartOverlay:i,topInlineStartCornerOverlay:n,bottomInlineStartCornerOverlay:o}=this.hot.view._wt.wtOverlays;return[i.clone.wtTable.TBODY,n.clone.wtTable.TBODY,o.clone.wtTable.TBODY].includes(r)}getClosestTHParent(t){return t.tagName!=="TABLE"?t.tagName==="TH"?t:this.getClosestTHParent(t.parentNode):null}getActualRowHeight(t){let r=this.hot.view._wt.wtTable.getRowHeight(t);return r!==void 0&&Qe(Yp,this)<r?r:Qe(Yp,this)}afterMouseDownTimeout(){let t=()=>{this.hot.forceFullRender=!0,this.hot.view.render(),this.hot.view.adjustElementsSize()},r=(i,n)=>{let o=this.hot.runHooks("beforeRowResize",this.getActualRowHeight(i),i,!0);o!==void 0&&Io(Yp,this,o),this.setManualSize(i,Qe(Yp,this)),this.hot.runHooks("afterRowResize",this.getActualRowHeight(i),i,!0),n&&t()};Qe(wE,this)>=2&&(Qe(dc,this).length>1?(Tt(Qe(dc,this),n=>{r(n)}),t()):Tt(Qe(dc,this),n=>{r(n,!0)})),Io(wE,this,0),Io(CE,this,null)}bindEvents(){let{rootElement:t,rootWindow:r}=this.hot;this.eventManager.addEventListener(t,"mouseover",i=>Bf(Wp,this,hDt).call(this,i)),this.eventManager.addEventListener(t,"mousedown",i=>Bf(Wp,this,fDt).call(this,i)),this.eventManager.addEventListener(r,"mousemove",i=>Bf(Wp,this,mDt).call(this,i)),this.eventManager.addEventListener(r,"mouseup",()=>Bf(Wp,this,pDt).call(this)),this.eventManager.addEventListener(Qe(Za,this),"contextmenu",()=>Bf(Wp,this,gDt).call(this))}destroy(){super.destroy()}};function hDt(e){if(!bM(e.target)&&Qe(Vk,this)!==!0&&this.checkIfRowHeader(e.target)){let t=this.getClosestTHParent(e.target);t&&(Qe(eb,this)||this.setupHandlePosition(t))}}function fDt(e){Ze(e.target,"manualRowResizer")&&(this.setupHandlePosition(Qe(gh,this)),this.setupGuidePosition(),Io(eb,this,!0),Qe(CE,this)===null&&(Io(CE,this,setTimeout(()=>this.afterMouseDownTimeout(),500)),this.hot._registerTimeout(Qe(CE,this))),Io(wE,this,Qe(wE,this)+1),Io(G9,this,e.pageY),Io(Yp,this,Qe($_,this)))}function mDt(e){Qe(eb,this)&&(Io(_E,this,Qe($_,this)+(e.pageY-Qe(G9,this))),Tt(Qe(dc,this),t=>{Io(Yp,this,this.setManualSize(t,Qe(_E,this)))}),this.refreshHandlePosition(),this.refreshGuidePosition())}function pDt(){let e=()=>{this.hot.forceFullRender=!0,this.hot.view.render(),this.hot.view.adjustElementsSize()},t=(r,i)=>{this.hot.runHooks("beforeRowResize",this.getActualRowHeight(r),r,!1),i&&e(),this.saveManualRowHeights(),this.hot.runHooks("afterRowResize",this.getActualRowHeight(r),r,!1)};Qe(eb,this)&&(this.hideHandleAndGuide(),Io(eb,this,!1),Qe(Yp,this)!==Qe($_,this)&&(Qe(dc,this).length>1?(Tt(Qe(dc,this),i=>{t(i)}),e()):Tt(Qe(dc,this),i=>{t(i,!0)})),this.setupHandlePosition(Qe(gh,this)))}function gDt(){this.hideHandleAndGuide(),this.hot.rootElement.removeChild(Qe(Za,this)),this.hot.rootElement.removeChild(Qe(ph,this)),Io(eb,this,!1),Io(Vk,this,!0),this.hot._registerImmediate(()=>{Io(Vk,this,!1)})}function bDt(e,t){let r=e;if(this.enabled){let i=this.hot.toPhysicalRow(t),n=Qe(Zd,this).getValueAtIndex(i);this.hot.getSettings()[SE]&&n&&(r=n)}return r}function vDt(){let e=this.hot.getSettings()[SE],t=this.loadManualRowHeights();this.hot.batchExecution(()=>{typeof t<"u"?t.forEach((r,i)=>{Qe(Zd,this).setValueAtIndex(i,r)}):Array.isArray(e)?(e.forEach((r,i)=>{Qe(Zd,this).setValueAtIndex(i,r)}),Io(xE,this,e)):e===!0&&Array.isArray(Qe(xE,this))&&Qe(xE,this).forEach((r,i)=>{Qe(Zd,this).setValueAtIndex(i,r)})},!0)}var IMe=ot(Gt(),1),kMe=ot(we(),1),DMe=ot(yn(),1),OMe=ot(_n(),1),PMe=ot(wn(),1),NMe=ot(Cn(),1),LMe=ot(xn(),1),FMe=ot(Sn(),1),HMe=ot(En(),1);var Q5e=ot(Gt(),1),J5e=ot(we(),1),tMe=ot(FN(),1),eMe=ot(yn(),1),iMe=ot(_n(),1),rMe=ot(wn(),1),nMe=ot(Cn(),1),oMe=ot(xn(),1),sMe=ot(Sn(),1),aMe=ot(En(),1);var G5e=ot(Gt(),1);function ib(e,t,r){return t=yDt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yDt(e){var t=_Dt(e,"string");return typeof t=="symbol"?t:t+""}function _Dt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var K9=class{constructor(t,r,i,n,o,s){ib(this,"row",void 0),ib(this,"col",void 0),ib(this,"rowspan",void 0),ib(this,"colspan",void 0),ib(this,"removed",!1),ib(this,"cellCoordsFactory",void 0),ib(this,"cellRangeFactory",void 0),this.row=t,this.col=r,this.rowspan=i,this.colspan=n,this.cellCoordsFactory=o,this.cellRangeFactory=s}static NEGATIVE_VALUES_WARNING(t){return Gi`The merged cell declared with {row: ${t.row}, col: ${t.col},\x20
      rowspan: ${t.rowspan}, colspan: ${t.colspan}} contains negative values, which is\x20
      not supported. It will not be added to the collection.`}static IS_OUT_OF_BOUNDS_WARNING(t){return Gi`The merged cell declared at [${t.row}, ${t.col}] is positioned\x20
      (or positioned partially) outside of the table range. It was not added to the table, please fix your setup.`}static IS_SINGLE_CELL(t){return Gi`The merged cell declared at [${t.row}, ${t.col}] has both "rowspan"\x20
      and "colspan" declared as "1", which makes it a single cell. It cannot be added to the collection.`}static ZERO_SPAN_WARNING(t){return Gi`The merged cell declared at [${t.row}, ${t.col}] has "rowspan"\x20
      or "colspan" declared as "0", which is not supported. It cannot be added to the collection.`}static containsNegativeValues(t){return t.row<0||t.col<0||t.rowspan<0||t.colspan<0}static isSingleCell(t){return t.colspan===1&&t.rowspan===1}static containsZeroSpan(t){return t.colspan===0||t.rowspan===0}static isOutOfBounds(t,r,i){return t.row<0||t.col<0||t.row>=r||t.row+t.rowspan-1>=r||t.col>=i||t.col+t.colspan-1>=i}normalize(t){let r=t.countRows(),i=t.countCols();this.row<0?this.row=0:this.row>r-1&&(this.row=r-1),this.col<0?this.col=0:this.col>i-1&&(this.col=i-1),this.row+this.rowspan>r-1&&(this.rowspan=r-this.row),this.col+this.colspan>i-1&&(this.colspan=i-this.col)}includes(t,r){return this.row<=t&&this.col<=r&&this.row+this.rowspan-1>=t&&this.col+this.colspan-1>=r}includesHorizontally(t){return this.col<=t&&this.col+this.colspan-1>=t}includesVertically(t){return this.row<=t&&this.row+this.rowspan-1>=t}shift(t,r){let i=t[0]||t[1],n=r+Math.abs(t[0]||t[1])-1,o=t[0]?"colspan":"rowspan",s=t[0]?"col":"row",a=Math.min(r,n),l=Math.max(r,n),c=this[s],d=this[s]+this[o]-1;if(c>=r&&(this[s]+=i),i>0)r<=d&&r>c&&(this[o]+=i);else if(i<0){if(a<=c&&l>=d)return this.removed=!0,!1;if(c>=a&&c<=l){let u=l-c+1,h=Math.abs(i)-u;this[s]-=h+i,this[o]-=u}else if(c<=a&&d>=l)this[o]+=i;else if(c<=a&&d>=a&&d<l){let u=d-a+1;this[o]-=u}}return!0}isFarther(t,r){return t?r==="down"?t.row+t.rowspan-1<this.row+this.rowspan-1:r==="up"?t.row>this.row:r==="right"?t.col+t.colspan-1<this.col+this.colspan-1:r==="left"?t.col>this.col:null:!0}getLastRow(){return this.row+this.rowspan-1}getLastColumn(){return this.col+this.colspan-1}getRange(){return this.cellRangeFactory(this.cellCoordsFactory(this.row,this.col),this.cellCoordsFactory(this.row,this.col),this.cellCoordsFactory(this.getLastRow(),this.getLastColumn()))}},uc=K9;function RE(e,t,r,i){t?t.row===r&&t.col===i?(e.setAttribute("rowspan",t.rowspan.toString()),e.setAttribute("colspan",t.colspan.toString())):(e.removeAttribute("rowspan"),e.removeAttribute("colspan"),e.style.display="none"):(e.removeAttribute("rowspan"),e.removeAttribute("colspan"),e.style.display="")}function wDt(e,t){CDt(e,t),t.add(e)}function CDt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function X9(e,t,r){return t=xDt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xDt(e){var t=SDt(e,"string");return typeof t=="symbol"?t:t+""}function SDt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zk(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var TE=new WeakSet,Z9=class e{constructor(t){wDt(this,TE),X9(this,"plugin",void 0),X9(this,"mergedCells",[]),X9(this,"hot",void 0),this.plugin=t,this.hot=t.hot}static IS_OVERLAPPING_WARNING(t){return Gi`The merged cell declared at [${t.row}, ${t.col}], overlaps\x20
      with the other declared merged cell. The overlapping merged cell was not added to the table, please\x20
      fix your setup.`}get(t,r){let i=this.mergedCells,n=!1;return Tt(i,o=>o.row<=t&&o.row+o.rowspan-1>=t&&o.col<=r&&o.col+o.colspan-1>=r?(n=o,!1):!0),n}getByRange(t){let r=this.mergedCells,i=!1;return Tt(r,n=>n.row<=t.from.row&&n.row+n.rowspan-1>=t.to.row&&n.col<=t.from.col&&n.col+n.colspan-1>=t.to.col?(i=n,i):!0),i}getWithinRange(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=this.mergedCells,n=[],o=t;if(!o.includesRange){let s=this.hot._createCellCoords(o.from.row,o.from.col),a=this.hot._createCellCoords(o.to.row,o.to.col);o=this.hot._createCellRange(s,s,a)}return Tt(i,s=>{let a=this.hot._createCellCoords(s.row,s.col),l=this.hot._createCellCoords(s.row+s.rowspan-1,s.col+s.colspan-1),c=this.hot._createCellRange(a,a,l);r?o.overlaps(c)&&n.push(s):o.includesRange(c)&&n.push(s)}),n.length?n:!1}add(t){let r=this.mergedCells,i=t.row,n=t.col,o=t.rowspan,s=t.colspan,a=new uc(i,n,o,s,this.hot._createCellCoords,this.hot._createCellRange),l=this.get(i,n),c=this.isOverlapping(a);return!l&&!c?(this.hot&&a.normalize(this.hot),r.push(a),a):(vr(e.IS_OVERLAPPING_WARNING(a)),!1)}remove(t,r){let i=this.mergedCells,n=this.get(t,r),o=n?this.mergedCells.indexOf(n):-1;return n&&o!==-1?(i.splice(o,1),n):!1}clear(){let t=this.mergedCells,r=[],i=[];Tt(t,n=>{let o=this.hot.getCell(n.row,n.col);o&&r.push([o,this.get(n.row,n.col),n.row,n.col])}),this.mergedCells.length=0,Tt(r,(n,o)=>{Oe(0,n.rowspan-1,s=>{Oe(0,n.colspan-1,a=>{if(a!==0||s!==0){let l=this.hot.getCell(n.row+s,n.col+a);l&&i.push([l,null,null,null])}})}),r[o][1]=null}),Tt(r,n=>{RE(...n)}),Tt(i,n=>{RE(...n)})}isOverlapping(t){let r=this.hot._createCellRange(this.hot._createCellCoords(0,0),this.hot._createCellCoords(t.row,t.col),this.hot._createCellCoords(t.row+t.rowspan-1,t.col+t.colspan-1)),i=!1;return Tt(this.mergedCells,n=>this.hot._createCellRange(this.hot._createCellCoords(0,0),this.hot._createCellCoords(n.row,n.col),this.hot._createCellCoords(n.row+n.rowspan-1,n.col+n.colspan-1)).overlaps(r)?(i=!0,!1):!0),i}isFirstRenderableMergedCell(t,r){let i=this.get(t,r);return i&&this.hot.rowIndexMapper.getNearestNotHiddenIndex(i.row,1)===t&&this.hot.columnIndexMapper.getNearestNotHiddenIndex(i.col,1)===r}getFirstRenderableCoords(t,r){let i=this.get(t,r);if(!i||this.isFirstRenderableMergedCell(t,r))return this.hot._createCellCoords(t,r);let n=this.hot.rowIndexMapper.getNearestNotHiddenIndex(i.row,1),o=this.hot.columnIndexMapper.getNearestNotHiddenIndex(i.col,1);return this.hot._createCellCoords(n,o)}getStartMostColumnIndex(t,r){let i=zk(TE,this,Uk).call(this,t,"col",-1),n=r;for(let o=0;o<i.length;o++)if(i[o]<=r){n=i[o];break}return n}getEndMostColumnIndex(t,r){let i=zk(TE,this,Uk).call(this,t,"col",1),n=r;for(let o=0;o<i.length;o++)if(i[o]>=r){n=i[o];break}return n}getTopMostRowIndex(t,r){let i=zk(TE,this,Uk).call(this,t,"row",-1),n=r;for(let o=0;o<i.length;o++)if(i[o]<=r){n=i[o];break}return n}getBottomMostRowIndex(t,r){let i=zk(TE,this,Uk).call(this,t,"row",1),n=r;for(let o=0;o<i.length;o++)if(i[o]>=r){n=i[o];break}return n}shiftCollections(t,r,i){let n=[0,0];switch(t){case"right":n[0]+=i;break;case"left":n[0]-=i;break;case"down":n[1]+=i;break;case"up":n[1]-=i;break;default:}Tt(this.mergedCells,o=>{o.shift(n,r)}),PC(this.mergedCells.length-1,0,o=>{let s=this.mergedCells[o];s&&s.removed&&this.mergedCells.splice(this.mergedCells.indexOf(s),1)})}};function Uk(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=new Map,n=r===1?e.getTopStartCorner():e.getBottomEndCorner(),o=r===1?e.getBottomEndCorner():e.getTopStartCorner();for(let s=n.row;r===1?s<=o.row:s>=o.row;s+=r)for(let a=n.col;r===1?a<=o.col:a>=o.col;a+=r){let l=t==="row"?s:a,c=this.get(s,a),d=l;c&&(d=r===1?c[t]+c[`${t}span`]-1:c[t]),i.has(l)||i.set(l,new Set),i.get(l).add(d)}return Array.from(new Set(Array.from(i.entries()).filter(s=>{let[,a]=s;return a.size===1}).flatMap(s=>{let[,a]=s;return Array.from(a)})))}var yrt=Z9;var pMe=ot(Gt(),1);function Q9(e,t,r){return t=EDt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EDt(e){var t=RDt(e,"string");return typeof t=="symbol"?t:t+""}function RDt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var J9=class{constructor(t){Q9(this,"plugin",void 0),Q9(this,"mergedCellsCollection",void 0),Q9(this,"currentFillData",null),this.plugin=t,this.mergedCellsCollection=this.plugin.mergedCellsCollection}correctSelectionAreaSize(t){if(t[0]===t[2]&&t[1]===t[3]){let r=this.mergedCellsCollection.get(t[0],t[1]);r&&(t[2]=t[0]+r.rowspan-1,t[3]=t[1]+r.colspan-1)}}getDirection(t,r){let i=null;return r[0]===t[0]&&r[1]===t[1]&&r[3]===t[3]?i="down":r[2]===t[2]&&r[1]===t[1]&&r[3]===t[3]?i="up":r[1]===t[1]&&r[2]===t[2]?i="right":i="left",i}snapDragArea(t,r,i,n){let o=r.slice(0),s=this.getAutofillSize(t,r,i),[a,l,c,d]=t,h=["up","down"].indexOf(i)>-1?c-a+1:d-l+1,f=Math.floor(s/h)*h,m=s-f,g=this.getFarthestCollection(t,r,i,n);if(g){if(i==="down"){let p=g.row+g.rowspan-a-m;o[2]+p>=this.plugin.hot.countRows()?o[2]-=m:o[2]+=m?p:0}else if(i==="right"){let p=g.col+g.colspan-l-m;o[3]+p>=this.plugin.hot.countCols()?o[3]-=m:o[3]+=m?p:0}else if(i==="up"){let p=c-m-g.row+1;o[0]+p<0?o[0]+=m:o[0]-=m?p:0}else if(i==="left"){let p=d-m-g.col+1;o[1]+p<0?o[1]+=m:o[1]-=m?p:0}}return this.updateCurrentFillCache({baseArea:t,dragDirection:i,foundMergedCells:n,fillSize:s,dragArea:o,cycleLength:h}),o}updateCurrentFillCache(t){this.currentFillData||(this.currentFillData={}),Wr(this.currentFillData,t)}getAutofillSize(t,r,i){let[n,o,s,a]=t,[l,c,d,u]=r;switch(i){case"up":return n-l;case"down":return d-s;case"left":return o-c;case"right":return u-a;default:return null}}getDragArea(t,r,i){let[n,o,s,a]=t,[l,c,d,u]=r;switch(i){case"up":return[l,c,n-1,a];case"down":return[s+1,o,d,a];case"left":return[l,c,s,o-1];case"right":return[n,a+1,d,u];default:return null}}getFarthestCollection(t,r,i,n){let[o,s,a,l]=t,c=["up","down"].indexOf(i)>-1,d=c?a:l,u=c?o:s,h=this.getAutofillSize(t,r,i),f=c?a-o+1:l-s+1,m=Math.floor(h/f)*f,g=h-m,p=null,b=null,_=null;switch(i){case"up":p="includesVertically",_=d-g+1;break;case"left":p="includesHorizontally",_=d-g+1;break;case"down":p="includesVertically",_=u+g-1;break;case"right":p="includesHorizontally",_=u+g-1;break;default:}return Tt(n,E=>{E[p](_)&&E.isFarther(b,i)&&(b=E)}),b}recreateAfterDataPopulation(t){if(!this.currentFillData)return;let r=this.getRangeFromChanges(t),i=this.currentFillData.foundMergedCells,n=this.currentFillData.dragDirection,o=(c,d)=>{switch(n){case"up":return c.row-d>=r.from.row;case"down":return c.row+c.rowspan-1+d<=r.to.row;case"left":return c.col-d>=r.from.column;case"right":return c.col+c.colspan-1+d<=r.to.column;default:return null}},s=0,a=null,l=1;do for(let c=0;c<i.length;c+=1){if(a=i[c],s=l*this.currentFillData.cycleLength,o(a,s))switch(n){case"up":this.plugin.mergedCellsCollection.add({row:a.row-s,rowspan:a.rowspan,col:a.col,colspan:a.colspan});break;case"down":this.plugin.mergedCellsCollection.add({row:a.row+s,rowspan:a.rowspan,col:a.col,colspan:a.colspan});break;case"left":this.plugin.mergedCellsCollection.add({row:a.row,rowspan:a.rowspan,col:a.col-s,colspan:a.colspan});break;case"right":this.plugin.mergedCellsCollection.add({row:a.row,rowspan:a.rowspan,col:a.col+s,colspan:a.colspan});break;default:}c===i.length-1&&(l+=1)}while(o(a,s));this.currentFillData=null,this.plugin.hot.render(),i.length>0&&this.plugin.ifChromeForceRepaint()}getRangeFromChanges(t){let r={min:null,max:null},i={min:null,max:null};return Tt(t,n=>{let o=n[0],s=this.plugin.hot.propToCol(n[1]);(r.min===null||o<r.min)&&(r.min=o),(r.max===null||o>r.max)&&(r.max=o),(i.min===null||s<i.min)&&(i.min=s),(i.max===null||s>i.max)&&(i.max=s)}),{from:{row:r.min,column:i.min},to:{row:r.max,column:i.max}}}dragAreaOverlapsCollections(t,r,i){let n=this.getDragArea(t,r,i),[o,s,a,l]=n,c=this.plugin.hot._createCellCoords(o,s),d=this.plugin.hot._createCellCoords(a,l),u=this.plugin.hot._createCellRange(c,c,d);return!!this.mergedCellsCollection.getWithinRange(u,!0)}},_rt=J9;var yMe=ot(Gt(),1),_Me=ot(we(),1);function t7(e,t,r){return t=TDt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TDt(e){var t=MDt(e,"string");return typeof t=="symbol"?t:t+""}function MDt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var e7=class{constructor(t){t7(this,"plugin",void 0),t7(this,"hot",void 0),t7(this,"fullySelectedMergedCellClassName","fullySelectedMergedCell"),this.plugin=t,this.hot=t.hot}getSelectedMergedCellClassName(t,r,i,n){let o=Math.min(i[0],i[2]),s=Math.min(i[1],i[3]),a=Math.max(i[0],i[2]),l=Math.max(i[1],i[3]);if(n===void 0||!this.plugin.mergedCellsCollection.isFirstRenderableMergedCell(t,r))return;let d=this.plugin.mergedCellsCollection.get(t,r);if(!d)return;let u=d.getLastRow(),h=d.getLastColumn();if(o<=d.row&&s<=d.col&&a>=u&&l>=h)return`${this.fullySelectedMergedCellClassName}-${n}`;if(this.isMergeCellFullySelected(d,this.plugin.hot.getSelectedRange()))return`${this.fullySelectedMergedCellClassName}-multiple`}isMergeCellFullySelected(t,r){let i=[];if(!r||!t)return!1;for(let n=0;n<t.rowspan;n+=1)for(let o=0;o<t.colspan;o+=1)i.push(this.hot._createCellCoords(t.row+n,t.col+o));for(let n=0;n<i.length;n+=1){let o=[];for(let s=0;s<r.length;s+=1)o[s]=r[s].includes(i[n]);if(!o.includes(!0))return!1}return!0}getSelectedMergedCellClassNameToRemove(){let t=[];for(let r=0;r<=7;r+=1)t.push(`${this.fullySelectedMergedCellClassName}-${r}`);return t.push(`${this.fullySelectedMergedCellClassName}-multiple`),t}},wrt=e7;function i7(e){return{key:"mergeCells",name(){let t=this.getSelectedLast();if(t){let r=e.mergedCellsCollection.get(t[0],t[1]);if(r.row===t[0]&&r.col===t[1]&&r.row+r.rowspan-1===t[2]&&r.col+r.colspan-1===t[3])return this.getTranslatedPhrase(Px)}return this.getTranslatedPhrase(Ox)},callback(){let t=this.getSelectedRangeLast();if(!t)return;t.setDirection(this.isRtl()?"NE-SW":"NW-SE");let{from:r,to:i}=t;e.toggleMerge(t),this.selectCell(r.row,r.col,i.row,i.col,!1)},disabled(){let t=this.getSelectedLast();return t?uc.isSingleCell({row:t[0],col:t[1],rowspan:t[2]-t[0]+1,colspan:t[3]-t[1]+1})||this.selection.isSelectedByCorner():!0},hidden:!1}}var RMe=ot(Gt(),1),TMe=ot(we(),1);var SMe=ot(Gt(),1);function ME(e,t,r){return t=ADt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ADt(e){var t=IDt(e,"string");return typeof t=="symbol"?t:t+""}function IDt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wk=class{constructor(t){ME(this,"data",void 0),ME(this,"next",null),ME(this,"prev",null),this.data=t}},r7=class{constructor(){ME(this,"first",null),ME(this,"last",null)}push(t){let r=new Wk(t);if(this.first===null)this.first=r,this.last=r;else{let i=this.last;this.last=r,r.prev=i,i.next=r}return r}unshift(t){let r=new Wk(t);if(this.first===null)this.first=r,this.last=r;else{let i=this.first;this.first=r,r.next=i,i.prev=r}}inorder(t){let r=this.first;for(;r;){let i=t(r);if(r===this.last||i===!0)break;r=r.next}}remove(t){if(this.first===null)return!1;let r=this.first,i,n;for(;r;){if(r.data===t)return i=r.next,n=r.prev,i&&(i.prev=n),n&&(n.next=i),r===this.first&&(this.first=i),r===this.last&&(this.last=n),!0;r=r.next}return!1}hasCycle(){let t=this.first,r=this.first;for(;;){if(t===null||(t=t.next,t===null))return!1;if(t=t.next,r=r.next,t===r)return!0}}pop(){if(this.last===null)return null;let t=this.last;return this.last=this.last.prev,t}shift(){if(this.first===null)return null;let t=this.first;return this.first=this.first.next,t}recursiveReverse(){function t(i,n){n&&(t(n,n.next),n.next=i)}if(!this.first)return;t(this.first,this.first.next),this.first.next=null;let r=this.first;this.first=this.last,this.last=r}reverse(){if(!this.first||!this.first.next)return;let t=this.first.next,r=this.first,i;for(;t;)i=t.next,t.next=r,r.prev=t,r=t,t=i;this.first.next=null,this.last.prev=null,i=this.first,this.first=r,this.last=i}};var AE=r7;function kDt(e,t){xrt(e,t),t.add(e)}function rb(e,t,r){xrt(e,t),t.set(e,r)}function xrt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function dn(e,t){return e.get($k(e,t))}function hc(e,t,r){return e.set($k(e,t),r),r}function $k(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var bh=new WeakMap,vh=new WeakMap,yh=new WeakMap,_h=new WeakMap,o7=new WeakMap,Yk=new WeakMap,qk=new WeakMap,n7=new WeakSet,Gk=class{constructor(t){let{mergedCellsGetter:r,rowIndexMapper:i,columnIndexMapper:n}=t;kDt(this,n7),rb(this,bh,new AE),rb(this,vh,new AE),rb(this,yh,null),rb(this,_h,null),rb(this,o7,null),rb(this,Yk,null),rb(this,qk,null),hc(o7,this,r),hc(Yk,this,i),hc(qk,this,n)}getCurrentVerticalNode(){return dn(_h,this).data}getFirstVerticalNode(){return dn(vh,this).first.data}getNextVerticalNode(){return dn(_h,this).next.data}getPrevVerticalNode(){return dn(_h,this).prev.data}getCurrentHorizontalNode(){return dn(yh,this).data}getFirstHorizontalNode(){return dn(bh,this).first.data}getNextHorizontalNode(){return dn(yh,this).next.data}getPrevHorizontalNode(){return dn(yh,this).prev.data}setPrevNodeAsActive(){hc(_h,this,dn(_h,this).prev),hc(yh,this,dn(yh,this).prev)}setNextNodeAsActive(){hc(_h,this,dn(_h,this).next),hc(yh,this,dn(yh,this).next)}buildFocusOrder(t){let r=t.getTopStartCorner(),i=t.getBottomEndCorner(),n=new WeakSet;hc(bh,this,new AE);for(let s=r.row;s<=i.row;s++)if(!dn(Yk,this).isHidden(s))for(let a=r.col;a<=i.col;a++){if(dn(qk,this).isHidden(a))continue;let l=$k(n7,this,Crt).call(this,t,dn(bh,this),n,s,a);l&&hc(yh,this,l)}dn(bh,this).first&&(dn(bh,this).first.prev=dn(bh,this).last,dn(bh,this).last.next=dn(bh,this).first);let o=new WeakSet;hc(vh,this,new AE);for(let s=r.col;s<=i.col;s++)if(!dn(qk,this).isHidden(s))for(let a=r.row;a<=i.row;a++){if(dn(Yk,this).isHidden(a))continue;let l=$k(n7,this,Crt).call(this,t,dn(vh,this),o,a,s);l&&hc(_h,this,l)}dn(vh,this).first&&(dn(vh,this).first.prev=dn(vh,this).last,dn(vh,this).last.next=dn(vh,this).first)}setActiveNode(t,r){return dn(bh,this).inorder(i=>{let{rowStart:n,rowEnd:o,colStart:s,colEnd:a}=i.data;if(t>=n&&t<=o&&r>=s&&r<=a)return hc(yh,this,i),!1}),dn(vh,this).inorder(i=>{let{rowStart:n,rowEnd:o,colStart:s,colEnd:a}=i.data;if(t>=n&&t<=o&&r>=s&&r<=a)return hc(_h,this,i),!1}),this}};function Crt(e,t,r,i,n){let o=e.getTopStartCorner(),s=e.getBottomEndCorner(),a=e.highlight.clone().normalize(),l=dn(o7,this).call(this,i,n);if(l&&r.has(l))return null;let c={colStart:n,colEnd:n,rowStart:i,rowEnd:i};if(l){if(r.add(l),l.row<o.row||l.row+l.rowspan-1>s.row||l.col<o.col||l.col+l.colspan-1>s.col)return null;c.colStart=l.col,c.colEnd=l.col+l.colspan-1,c.rowStart=l.row,c.rowEnd=l.row+l.rowspan-1}let d=t.push(c);return i===a.row&&n===a.col||l&&a.row>=l.row&&a.row<=l.row+l.rowspan-1&&a.col>=l.col&&a.col<=l.col+l.colspan-1?d:null}function DDt(e,t){Rrt(e,t),t.add(e)}function s7(e,t,r){Rrt(e,t),t.set(e,r)}function Rrt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function a7(e,t,r){return t=ODt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ODt(e){var t=PDt(e,"string");return typeof t=="symbol"?t:t+""}function PDt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IE(e,t,r){return e.set(On(e,t),r),r}function oo(e,t){return e.get(On(e,t))}function On(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}Le.getSingleton().register("beforeMergeCells");Le.getSingleton().register("afterMergeCells");Le.getSingleton().register("beforeUnmergeCells");Le.getSingleton().register("afterUnmergeCells");var G_="mergeCells",Trt=150,Srt=G_,rd=new WeakMap,nd=new WeakMap,wh=new WeakMap,Wn=new WeakSet,kE=class extends vi{constructor(){super(...arguments),DDt(this,Wn),a7(this,"mergedCellsCollection",null),a7(this,"autofillCalculations",null),a7(this,"selectionCalculations",null),s7(this,rd,null),s7(this,nd,{row:0,col:0}),s7(this,wh,new Gk({mergedCellsGetter:(t,r)=>this.mergedCellsCollection.get(t,r),rowIndexMapper:this.hot.rowIndexMapper,columnIndexMapper:this.hot.columnIndexMapper}))}static get PLUGIN_KEY(){return G_}static get PLUGIN_PRIORITY(){return Trt}isEnabled(){return!!this.hot.getSettings()[G_]}enablePlugin(){var t=this;this.enabled||(this.mergedCellsCollection=new yrt(this),this.autofillCalculations=new _rt(this),this.selectionCalculations=new wrt(this),this.addHook("afterInit",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return On(Wn,t,NDt).call(t,...i)}),this.addHook("modifyTransformFocus",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return On(Wn,t,FDt).call(t,...i)}),this.addHook("modifyTransformStart",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return On(Wn,t,HDt).call(t,...i)}),this.addHook("modifyTransformEnd",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return On(Wn,t,BDt).call(t,...i)}),this.addHook("beforeSelectionHighlightSet",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return On(Wn,t,jDt).call(t,...i)}),this.addHook("beforeSetRangeStart",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return On(Wn,t,Ert).call(t,...i)}),this.addHook("beforeSetRangeStartOnly",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return On(Wn,t,Ert).call(t,...i)}),this.addHook("beforeSelectionFocusSet",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return On(Wn,t,WDt).call(t,...i)}),this.addHook("afterSelectionFocusSet",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return On(Wn,t,YDt).call(t,...i)}),this.addHook("afterSelectionEnd",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return On(Wn,t,qDt).call(t,...i)}),this.addHook("modifyGetCellCoords",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return On(Wn,t,VDt).call(t,...i)}),this.addHook("afterIsMultipleSelection",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return On(Wn,t,LDt).call(t,...i)}),this.addHook("afterRenderer",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return On(Wn,t,UDt).call(t,...i)}),this.addHook("afterContextMenuDefaultOptions",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return On(Wn,t,zDt).call(t,...i)}),this.addHook("afterGetCellMeta",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return On(Wn,t,$Dt).call(t,...i)}),this.addHook("afterViewportRowCalculatorOverride",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return On(Wn,t,GDt).call(t,...i)}),this.addHook("afterViewportColumnCalculatorOverride",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return On(Wn,t,KDt).call(t,...i)}),this.addHook("modifyAutofillRange",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return On(Wn,t,XDt).call(t,...i)}),this.addHook("afterCreateCol",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return On(Wn,t,ZDt).call(t,...i)}),this.addHook("afterRemoveCol",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return On(Wn,t,QDt).call(t,...i)}),this.addHook("afterCreateRow",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return On(Wn,t,JDt).call(t,...i)}),this.addHook("afterRemoveRow",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return On(Wn,t,tOt).call(t,...i)}),this.addHook("afterChange",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return On(Wn,t,eOt).call(t,...i)}),this.addHook("beforeDrawBorders",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return On(Wn,t,iOt).call(t,...i)}),this.addHook("afterDrawSelection",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return On(Wn,t,rOt).call(t,...i)}),this.addHook("beforeRemoveCellClassNames",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return On(Wn,t,nOt).call(t,...i)}),this.addHook("beforeBeginEditing",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return On(Wn,t,oOt).call(t,...i)}),this.addHook("beforeUndoStackChange",(r,i)=>{if(i==="MergeCells")return!1}),this.registerShortcuts(),super.enablePlugin())}disablePlugin(){this.clearCollections(),this.unregisterShortcuts(),this.hot.render(),super.disablePlugin()}updatePlugin(){let t=this.hot.getSettings()[G_];this.disablePlugin(),this.enablePlugin(),this.generateFromSettings(t),super.updatePlugin()}ifChromeForceRepaint(){if(!xM())return;let t=[],r=[];this.mergedCellsCollection.mergedCells.forEach(i=>{let{row:n,rowspan:o}=i;for(let s=n+1;s<n+o;s++)r.push(s)}),r=[...new Set(r)],r.forEach(i=>{let n=this.hot.rowIndexMapper.getRenderableFromVisualIndex(i);this.hot.view._wt.wtOverlays.getOverlays(!0).map(o=>o?.name==="master"?o:o.clone.wtTable).forEach(o=>{let s=o.getRow(n);s&&(s.style.background=Gm(s,"backgroundColor").replace(")",", 0.99)"),t.push(s))})}),this.hot._registerTimeout(()=>{t.forEach(i=>{i.style.background=Gm(i,"backgroundColor").replace(", 0.99)",")")})},1)}validateSetting(t){let r=!0;return t?(uc.containsNegativeValues(t)?(vr(uc.NEGATIVE_VALUES_WARNING(t)),r=!1):uc.isOutOfBounds(t,this.hot.countRows(),this.hot.countCols())?(vr(uc.IS_OUT_OF_BOUNDS_WARNING(t)),r=!1):uc.isSingleCell(t)?(vr(uc.IS_SINGLE_CELL(t)),r=!1):uc.containsZeroSpan(t)&&(vr(uc.ZERO_SPAN_WARNING(t)),r=!1),r):!1}generateFromSettings(t){if(Array.isArray(t)){let r=[];if(Tt(t,i=>{if(!this.validateSetting(i))return;let n=this.hot._createCellCoords(i.row,i.col),o=this.hot._createCellCoords(i.row+i.rowspan-1,i.col+i.colspan-1),s=this.hot._createCellRange(n,n,o);this.mergeRange(s,!0,!0),Oe(i.row,i.row+i.rowspan-1,a=>{Oe(i.col,i.col+i.colspan-1,l=>{a===i.row&&l===i.col||r.push([a,l,null])})})}),r.length===0)return;this.hot.setDataAtCell(r,void 0,void 0,this.pluginName)}}clearCollections(){this.mergedCellsCollection.clear()}canMergeRange(t){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?!0:this.validateSetting(t)}mergeSelection(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.hot.getSelectedRangeLast();if(!t)return;t.setDirection(this.hot.isRtl()?"NE-SW":"NW-SE");let{from:r,to:i}=t;this.unmergeRange(t,!0),this.mergeRange(t),this.hot.selectCell(r.row,r.col,i.row,i.col,!1)}unmergeSelection(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.hot.getSelectedRangeLast();if(!t)return;let{from:r,to:i}=t;this.unmergeRange(t,!0),this.hot.selectCell(r.row,r.col,i.row,i.col,!1)}mergeRange(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=t.getTopStartCorner(),o=t.getBottomEndCorner(),s={row:n.row,col:n.col,rowspan:o.row-n.row+1,colspan:o.col-n.col+1},a=[],l=null;return this.canMergeRange(s,r)?(this.hot.runHooks("beforeMergeCells",t,r),Oe(0,s.rowspan-1,d=>{Oe(0,s.colspan-1,u=>{let h=null;a[d]||(a[d]=[]),d===0&&u===0?h=this.hot.getSourceDataAtCell(this.hot.toPhysicalRow(s.row),this.hot.toPhysicalColumn(s.col)):this.hot.setCellMeta(s.row+d,s.col+u,"hidden",!0),a[d][u]=h})}),this.hot.setCellMeta(s.row,s.col,"spanned",!0),this.mergedCellsCollection.add(s)?(i?l=[s.row,s.col,a]:this.hot.populateFromArray(s.row,s.col,a,void 0,void 0,this.pluginName),r||this.ifChromeForceRepaint(),this.hot.runHooks("afterMergeCells",t,s,r),l):!0):!1}unmergeRange(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=this.mergedCellsCollection.getWithinRange(t);i&&(this.hot.runHooks("beforeUnmergeCells",t,r),Tt(i,n=>{this.mergedCellsCollection.remove(n.row,n.col),Oe(0,n.rowspan-1,o=>{Oe(0,n.colspan-1,s=>{this.hot.removeCellMeta(n.row+o,n.col+s,"hidden"),this.hot.removeCellMeta(n.row+o,n.col+s,"copyable")})}),this.hot.removeCellMeta(n.row,n.col,"spanned")}),this.hot.runHooks("afterUnmergeCells",t,r),this.hot.render())}toggleMerge(t){let r=this.mergedCellsCollection.get(t.from.row,t.from.col);r.row===t.from.row&&r.col===t.from.col&&r.row+r.rowspan-1===t.to.row&&r.col+r.colspan-1===t.to.col?this.unmergeRange(t):this.mergeSelection(t)}merge(t,r,i,n){let o=this.hot._createCellCoords(t,r),s=this.hot._createCellCoords(i,n);this.mergeRange(this.hot._createCellRange(o,o,s))}unmerge(t,r,i,n){let o=this.hot._createCellCoords(t,r),s=this.hot._createCellCoords(i,n);this.unmergeRange(this.hot._createCellRange(o,o,s))}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Control","m"]],callback:()=>{let i=this.hot.getSelectedRangeLast();i&&!i.isSingleHeader()&&(this.toggleMerge(i),this.hot.render())},runOnlyIf:i=>!i.altKey,group:Srt})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(Srt)}modifyViewportRowStart(t,r){let i=this.hot.rowIndexMapper,n=i.getVisualFromRenderableIndex(t.startRow);for(let o=0;o<r;o+=1){let s=this.mergedCellsCollection.get(n,o);if(gi(s)){let a=i.getRenderableFromVisualIndex(i.getNearestNotHiddenIndex(s.row,1));if(a<t.startRow){t.startRow=a,this.modifyViewportRowStart(t,r);return}}}}modifyViewportRowEnd(t,r){let i=this.hot.rowIndexMapper,n=i.getVisualFromRenderableIndex(t.endRow);for(let o=0;o<r;o+=1){let s=this.mergedCellsCollection.get(n,o);if(gi(s)){let a=s.row+s.rowspan-1,l=i.getRenderableFromVisualIndex(i.getNearestNotHiddenIndex(a,-1));if(l>t.endRow){t.endRow=l,this.modifyViewportRowEnd(t,r);return}}}}modifyViewportColumnStart(t,r){let i=this.hot.columnIndexMapper,n=i.getVisualFromRenderableIndex(t.startColumn);for(let o=0;o<r;o+=1){let s=this.mergedCellsCollection.get(o,n);if(gi(s)){let a=i.getRenderableFromVisualIndex(i.getNearestNotHiddenIndex(s.col,1));if(a<t.startColumn){t.startColumn=a,this.modifyViewportColumnStart(t,r);return}}}}modifyViewportColumnEnd(t,r){let i=this.hot.columnIndexMapper,n=i.getVisualFromRenderableIndex(t.endColumn);for(let o=0;o<r;o+=1){let s=this.mergedCellsCollection.get(o,n);if(gi(s)){let a=s.col+s.colspan-1,l=i.getRenderableFromVisualIndex(i.getNearestNotHiddenIndex(a,-1));if(l>t.endColumn){t.endColumn=l,this.modifyViewportColumnEnd(t,r);return}}}}translateMergedCellToRenderable(t,r,i,n){let{rowIndexMapper:o,columnIndexMapper:s}=this.hot,a,l;r===0?a=o.getNearestNotHiddenIndex(t,1):a=o.getNearestNotHiddenIndex(t+r-1,-1),n===0?l=s.getNearestNotHiddenIndex(i,1):l=s.getNearestNotHiddenIndex(i+n-1,-1);let c=t>=0?o.getRenderableFromVisualIndex(a):t,d=i>=0?s.getRenderableFromVisualIndex(l):i;return[c,d]}};function NDt(){this.generateFromSettings(this.hot.getSettings()[G_]),this.hot.render()}function LDt(e){if(e){let t=this.mergedCellsCollection.mergedCells,r=this.hot.getSelectedRangeLast(),i=r.getTopStartCorner(),n=r.getBottomEndCorner();for(let o=0;o<t.length;o+=1)if(i.row===t[o].row&&i.col===t[o].col&&n.row===t[o].row+t[o].rowspan-1&&n.col===t[o].col+t[o].colspan-1)return!1}return e}function FDt(e){oo(nd,this).row=e.row,oo(nd,this).col=e.col}function HDt(e){let t=this.hot.getSelectedRangeLast(),{highlight:r}=t,{columnIndexMapper:i,rowIndexMapper:n}=this.hot;oo(rd,this)&&(n.getRenderableFromVisualIndex(oo(rd,this).row)!==null&&(r.row=oo(rd,this).row),i.getRenderableFromVisualIndex(oo(rd,this).col)!==null&&(r.col=oo(rd,this).col),IE(rd,this,null));let o=this.mergedCellsCollection.get(r.row,r.col);if(!o)return;let s=o.col,a=o.col+o.colspan-1;if(e.col<0){let d=r.col>=s&&r.col<=a?s-1:a,u=i.getNearestNotHiddenIndex(d,-1);u===null?e.col=-this.hot.view.countRenderableColumnsInRange(0,r.col):e.col=-Math.max(this.hot.view.countRenderableColumnsInRange(u,r.col)-1,1)}else if(e.col>0){let d=r.col>=s&&r.col<=a?a+1:s,u=i.getNearestNotHiddenIndex(d,1);u===null?e.col=this.hot.view.countRenderableColumnsInRange(r.col,this.hot.countCols()):e.col=Math.max(this.hot.view.countRenderableColumnsInRange(r.col,u)-1,1)}let l=o.row,c=o.row+o.rowspan-1;if(e.row<0){let d=r.row>=l&&r.row<=c?l-1:c,u=n.getNearestNotHiddenIndex(d,-1);u===null?e.row=-this.hot.view.countRenderableRowsInRange(0,r.row):e.row=-Math.max(this.hot.view.countRenderableRowsInRange(u,r.row)-1,1)}else if(e.row>0){let d=r.row>=l&&r.row<=c?c+1:l,u=n.getNearestNotHiddenIndex(d,1);u===null?e.row=this.hot.view.countRenderableRowsInRange(r.row,this.hot.countRows()):e.row=Math.max(this.hot.view.countRenderableRowsInRange(r.row,u)-1,1)}}function BDt(e){let t=this.hot.getSelectedRangeLast(),r=t.clone(),{to:i}=t,{columnIndexMapper:n,rowIndexMapper:o}=this.hot,s=(a,l)=>{r.expand(this.hot._createCellCoords(a,l));for(let c=0;c<this.mergedCellsCollection.mergedCells.length;c+=1)r.expandByRange(this.mergedCellsCollection.mergedCells[c].getRange())};if(e.col<0){let a=this.mergedCellsCollection.getStartMostColumnIndex(t,i.col)+e.col;s(i.row,a),t.getHorizontalDirection()==="E-W"&&r.getHorizontalDirection()==="E-W"&&(a=r.getTopStartCorner().col);let l=n.getNearestNotHiddenIndex(a,1);l!==null&&(e.col=-Math.max(this.hot.view.countRenderableColumnsInRange(l,i.col)-1,1))}else if(e.col>0){let a=this.mergedCellsCollection.getEndMostColumnIndex(t,i.col)+e.col;s(i.row,a),t.getHorizontalDirection()==="W-E"&&r.getHorizontalDirection()==="W-E"&&(a=r.getBottomEndCorner().col);let l=n.getNearestNotHiddenIndex(a,-1);l!==null&&(e.col=Math.max(this.hot.view.countRenderableColumnsInRange(i.col,l)-1,1))}if(e.row<0){let a=this.mergedCellsCollection.getTopMostRowIndex(t,i.row)+e.row;s(a,i.col),t.getVerticalDirection()==="S-N"&&r.getVerticalDirection()==="S-N"&&(a=r.getTopStartCorner().row);let l=o.getNearestNotHiddenIndex(a,1);l!==null&&(e.row=-Math.max(this.hot.view.countRenderableRowsInRange(l,i.row)-1,1))}else if(e.row>0){let a=this.mergedCellsCollection.getBottomMostRowIndex(t,i.row)+e.row;s(a,i.col),t.getVerticalDirection()==="N-S"&&r.getVerticalDirection()==="N-S"&&(a=r.getBottomStartCorner().row);let l=o.getNearestNotHiddenIndex(a,-1);l!==null&&(e.row=Math.max(this.hot.view.countRenderableRowsInRange(i.row,l)-1,1))}}function jDt(){let e=this.hot.getSelectedRangeLast(),{highlight:t}=e;if(this.hot.selection.isSelectedByColumnHeader()||this.hot.selection.isSelectedByRowHeader()){IE(rd,this,t.clone());return}for(let i=0;i<this.mergedCellsCollection.mergedCells.length;i+=1)e.expandByRange(this.mergedCellsCollection.mergedCells[i].getRange(),!1);for(let i=0;i<this.mergedCellsCollection.mergedCells.length;i+=1)e.expandByRange(this.mergedCellsCollection.mergedCells[i].getRange(),!1);let r=this.mergedCellsCollection.get(t.row,t.col);IE(rd,this,t.clone()),r&&t.assign(r)}function VDt(e,t){if(e<0||t<0)return;let r=this.mergedCellsCollection.get(e,t);if(!r)return;let{row:i,col:n,colspan:o,rowspan:s}=r;return[i,n,i+s-1,n+o-1]}function zDt(e){e.items.push({name:"---------"},i7(this))}function UDt(e,t,r){let i=this.mergedCellsCollection.get(t,r),n=gi(i)?Xo(i):void 0;if(gi(n)){let{rowIndexMapper:o,columnIndexMapper:s}=this.hot,{row:a,col:l,colspan:c,rowspan:d}=n,[u,h]=this.translateMergedCellToRenderable(a,d,l,c),f=o.getRenderableFromVisualIndex(t),m=s.getRenderableFromVisualIndex(r),g=u-f+1,p=h-m+1;n.row=o.getNearestNotHiddenIndex(n.row,1),n.col=s.getNearestNotHiddenIndex(n.col,1),n.rowspan=Math.min(n.rowspan,g),n.colspan=Math.min(n.colspan,p)}RE(e,n,t,r)}function Ert(){IE(rd,this,null)}function WDt(){if(oo(rd,this).isCell())return;let e=this.hot.getSelectedRangeLast(),t=e.getVerticalDirection(),r=e.getHorizontalDirection(),i=oo(rd,this).clone().normalize();oo(wh,this).setActiveNode(i.row,i.col),oo(nd,this).row>0||oo(nd,this).col>0?oo(wh,this).setPrevNodeAsActive():(r==="E-W"&&oo(nd,this).col<0||t==="S-N"&&oo(nd,this).row<0)&&oo(wh,this).setNextNodeAsActive()}function YDt(e,t){let r=this.hot.getSelectedRangeLast(),{columnIndexMapper:i,rowIndexMapper:n}=this.hot,o=null,s=null;if(oo(nd,this).col<0){let{rowEnd:a,colEnd:l}=oo(wh,this).getPrevHorizontalNode();s=i.getNearestNotHiddenIndex(l,-1),o=n.getNearestNotHiddenIndex(a,-1)}else if(oo(nd,this).col>0){let{rowStart:a,colStart:l}=oo(wh,this).getNextHorizontalNode();s=i.getNearestNotHiddenIndex(l,1),o=n.getNearestNotHiddenIndex(a,1)}else if(oo(nd,this).row<0){let{rowEnd:a,colEnd:l}=oo(wh,this).getPrevVerticalNode();s=i.getNearestNotHiddenIndex(l,-1),o=n.getNearestNotHiddenIndex(a,-1)}else if(oo(nd,this).row>0){let{rowStart:a,colStart:l}=oo(wh,this).getNextVerticalNode();s=i.getNearestNotHiddenIndex(l,1),o=n.getNearestNotHiddenIndex(a,1)}if(o!==null||s!==null){let a=this.hot._createCellCoords(o,s),l=this.mergedCellsCollection.get(a.row,a.col),c=this.hot.selection.highlight.getFocus();e=a.row,t=a.col,l?r.highlight.assign({row:this.hot.rowIndexMapper.getNearestNotHiddenIndex(l.row,1),col:this.hot.columnIndexMapper.getNearestNotHiddenIndex(l.col,1)}):r.highlight.assign(a),c.clear(),c.add(a).commit()}oo(wh,this).setActiveNode(e,t),IE(nd,this,{row:0,col:0})}function qDt(){this.hot.getSelectedRangeLast().isHeader()||oo(wh,this).buildFocusOrder(this.hot.getSelectedRangeLast())}function $Dt(e,t,r){let i=this.mergedCellsCollection.get(e,t);i&&(i.row!==e||i.col!==t?r.copyable=!1:(r.rowspan=i.rowspan,r.colspan=i.colspan))}function GDt(e){let t=this.hot.countCols();this.modifyViewportRowStart(e,t),this.modifyViewportRowEnd(e,t)}function KDt(e){let t=this.hot.countRows();this.modifyViewportColumnStart(e,t),this.modifyViewportColumnEnd(e,t)}function XDt(e,t){this.autofillCalculations.correctSelectionAreaSize(t);let r=this.autofillCalculations.getDirection(t,e),i=e;if(this.autofillCalculations.dragAreaOverlapsCollections(t,i,r))return i=t,i;let n=this.mergedCellsCollection.getWithinRange({from:{row:t[0],col:t[1]},to:{row:t[2],col:t[3]}});return n&&(i=this.autofillCalculations.snapDragArea(t,i,r,n)),i}function ZDt(e,t){this.mergedCellsCollection.shiftCollections("right",e,t)}function QDt(e,t){this.mergedCellsCollection.shiftCollections("left",e,t)}function JDt(e,t,r){r!=="auto"&&this.mergedCellsCollection.shiftCollections("down",e,t)}function tOt(e,t){this.mergedCellsCollection.shiftCollections("up",e,t)}function eOt(e,t){t==="Autofill.fill"&&this.autofillCalculations.recreateAfterDataPopulation(e)}function iOt(e,t){if(t&&t==="area"){let r=this.hot.getSelectedRangeLast(),i=this.mergedCellsCollection.getWithinRange(r);Tt(i,n=>{r.getBottomEndCorner().row===n.getLastRow()&&r.getBottomEndCorner().col===n.getLastColumn()&&(e[2]=n.row,e[3]=n.col)})}}function rOt(e,t,r,i){if(r)return this.selectionCalculations.getSelectedMergedCellClassName(e,t,r,i)}function nOt(){return this.selectionCalculations.getSelectedMergedCellClassNameToRemove()}function oOt(e,t,r,i){if(!(i instanceof MouseEvent))return;let n=this.hot.getSelectedRangeLast(),o=this.mergedCellsCollection.getByRange(n);if(!o)return;let s=this.hot._createCellCoords(o.row,o.col),a=this.hot._createCellCoords(o.row+o.rowspan-1,o.col+o.colspan-1);return this.hot.selection.getLayerLevel()===0&&n.isEqual(this.hot._createCellRange(s,s,a))}var dAe=ot(Gt(),1);function Mrt(e,t){return function(r,i){let[,...n]=r,[,...o]=i;return function s(a){let l=e[a],c=t[a],d=n[a],u=o[a],h=c.multiColumnSorting,m=(h.compareFunctionFactory?h.compareFunctionFactory:cS(c.type))(l,c,h)(d,u);if(m===Sa){let g=a+1;if(typeof t[g]<"u")return s(g)}return m}(0)}}function l7(){vr(Gi`Plugins \`columnSorting\` and \`multiColumnSorting\` should not be enabled simultaneously. 
    Only \`multiColumnSorting\` will work.`)}var lAe=ot(we(),1),Art="sort";function Irt(e,t,r){let i=[];return r===!1||e.isColumnSorted(t)&&e.getNumberOfSortedColumns()>1&&i.push(`${Art}-${e.getIndexOfColumnInSortQueue(t)+1}`),i}function krt(e){let t=e.className.split(" "),r=new RegExp(`^${Art}-[0-9]{1,2}$`);return t.filter(i=>r.test(i))}function sOt(e,t,r){return t=aOt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aOt(e){var t=lOt(e,"string");return typeof t=="symbol"?t:t+""}function lOt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DE="multiColumnSorting",Prt=170,Drt="columnSorting",Ort=DE;lS(DE,Mrt);var OE=class extends M0{constructor(){super(...arguments),sOt(this,"pluginKey",DE)}static get PLUGIN_KEY(){return DE}static get PLUGIN_PRIORITY(){return Prt}isEnabled(){return super.isEnabled()}enablePlugin(){!this.enabled&&this.hot.getSettings()[this.pluginKey]&&this.hot.getSettings()[Drt]&&l7(),super.enablePlugin()}disablePlugin(){super.disablePlugin()}registerShortcuts(){super.registerShortcuts(),this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Shift","Enter"]],callback:()=>{let{highlight:t}=this.hot.getSelectedRangeLast();return t.row===-1&&t.col>=0&&this.sort(this.getNextSortConfig(t.col,d_)),!1},runOnlyIf:()=>{var t,r;let i=(t=this.hot.getSelectedRangeLast())===null||t===void 0?void 0:t.highlight;return i&&((r=this.hot.getSelectedRangeLast())===null||r===void 0?void 0:r.isSingle())&&this.hot.selection.isCellVisible(i)&&i.isHeader()},relativeToGroup:xa,position:"before",group:Ort})}unregisterShortcuts(){super.unregisterShortcuts(),this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(Ort)}sort(t){super.sort(t)}clearSort(){super.clearSort()}isSorted(){return super.isSorted()}getSortConfig(t){return super.getSortConfig(t)}setSortConfig(t){super.setSortConfig(t)}getNormalizedSortConfigs(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Array.isArray(t)?t:[t]}updateHeaderClasses(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),n=1;n<r;n++)i[n-1]=arguments[n];super.updateHeaderClasses(t,...i),pi(t,krt(t)),this.enabled!==!1&&ne(t,Irt(...i))}onUpdateSettings(t){this.hot.getSettings()[this.pluginKey]&&this.hot.getSettings()[Drt]&&l7(),super.onUpdateSettings(t)}onAfterOnCellMouseDown(t,r){hS(r.row,r.col,t)!==!1&&this.wasClickableHeaderClicked(t,r.col)&&(this.hot.getShortcutManager().isCtrlPressed()?(this.hot.deselectCell(),this.hot.selectColumns(r.col),this.sort(this.getNextSortConfig(r.col,d_))):this.sort(this.getColumnNextConfig(r.col)))}};var CAe=ot(Gt(),1),xAe=ot(we(),1);function Nrt(e,t,r){return t=cOt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cOt(e){var t=dOt(e,"string");return typeof t=="symbol"?t:t+""}function dOt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lrt="multipleSelectionHandles",Frt=160,PE=class extends vi{constructor(){super(...arguments),Nrt(this,"dragged",[]),Nrt(this,"lastSetCell",null)}static get PLUGIN_KEY(){return Lrt}static get PLUGIN_PRIORITY(){return Frt}isEnabled(){return Zl()}enablePlugin(){this.enabled||(this.registerListeners(),super.enablePlugin())}registerListeners(){let t=this,{rootElement:r}=this.hot;function i(n){if(t.dragged.length===1)return t.dragged.splice(0,t.dragged.length),!0;let o=t.dragged.indexOf(n);if(o===-1)return!1;o===0?t.dragged=t.dragged.slice(0,1):o===1&&(t.dragged=t.dragged.slice(-1))}this.eventManager.addEventListener(r,"touchstart",n=>{let o;if(Ze(n.target,"topSelectionHandle-HitArea"))return o=t.hot.getSelectedRangeLast(),t.dragged.push("top"),t.touchStartRange={width:o.getWidth(),height:o.getHeight(),direction:o.getDirection()},n.preventDefault(),!1;if(Ze(n.target,"bottomSelectionHandle-HitArea"))return o=t.hot.getSelectedRangeLast(),t.dragged.push("bottom"),t.touchStartRange={width:o.getWidth(),height:o.getHeight(),direction:o.getDirection()},n.preventDefault(),!1}),this.eventManager.addEventListener(r,"touchend",n=>{if(Ze(n.target,"topSelectionHandle-HitArea"))return i.call(t,"top"),t.touchStartRange=void 0,n.preventDefault(),!1;if(Ze(n.target,"bottomSelectionHandle-HitArea"))return i.call(t,"bottom"),t.touchStartRange=void 0,n.preventDefault(),!1}),this.eventManager.addEventListener(r,"touchmove",n=>{let{rootDocument:o}=this.hot,s,a,l,c,d,u;if(t.dragged.length===0)return;let h=o.elementFromPoint(n.touches[0].clientX,n.touches[0].clientY);!h||h===t.lastSetCell||((h.nodeName==="TD"||h.nodeName==="TH")&&(s=t.hot.getCoords(h),s.col===-1&&(s.col=0),a=t.hot.getSelectedRangeLast(),l=a.getWidth(),c=a.getHeight(),d=a.getDirection(),l===1&&c===1&&t.hot.selection.setRangeEnd(s),u=t.getCurrentRangeCoords(a,s,t.touchStartRange.direction,d,t.dragged[0]),u.start!==null&&t.hot.selection.setRangeStart(u.start),t.hot.selection.setRangeEnd(u.end),t.lastSetCell=h),n.preventDefault())})}getCurrentRangeCoords(t,r,i,n,o){let s=t.getTopStartCorner(),a=t.getBottomEndCorner(),l=t.getBottomStartCorner(),c=t.getTopEndCorner(),d={start:null,end:null};switch(i){case"NE-SW":switch(n){case"NE-SW":case"NW-SE":o==="top"?d={start:this.hot._createCellCoords(r.row,t.highlight.col),end:this.hot._createCellCoords(l.row,r.col)}:d={start:this.hot._createCellCoords(t.highlight.row,r.col),end:this.hot._createCellCoords(r.row,s.col)};break;case"SE-NW":o==="bottom"&&(d={start:this.hot._createCellCoords(a.row,r.col),end:this.hot._createCellCoords(r.row,s.col)});break;default:break}break;case"NW-SE":switch(n){case"NE-SW":o==="top"?d={start:r,end:l}:d.end=r;break;case"NW-SE":o==="top"?d={start:r,end:a}:d.end=r;break;case"SE-NW":o==="top"?d={start:r,end:s}:d.end=r;break;case"SW-NE":o==="top"?d={start:r,end:c}:d.end=r;break;default:break}break;case"SW-NE":switch(n){case"NW-SE":o==="bottom"?d={start:this.hot._createCellCoords(r.row,s.col),end:this.hot._createCellCoords(l.row,r.col)}:d={start:this.hot._createCellCoords(s.row,r.col),end:this.hot._createCellCoords(r.row,a.col)};break;case"SW-NE":o==="top"?d={start:this.hot._createCellCoords(t.highlight.row,r.col),end:this.hot._createCellCoords(r.row,a.col)}:d={start:this.hot._createCellCoords(r.row,s.col),end:this.hot._createCellCoords(s.row,r.col)};break;case"SE-NW":o==="bottom"?d={start:this.hot._createCellCoords(r.row,c.col),end:this.hot._createCellCoords(s.row,r.col)}:o==="top"&&(d={start:l,end:r});break;default:break}break;case"SE-NW":switch(n){case"NW-SE":case"NE-SW":case"SW-NE":o==="top"&&(d.end=r);break;case"SE-NW":o==="top"?d.end=r:d={start:r,end:s};break;default:break}break;default:break}return d}isDragged(){return this.dragged.length>0}};var JIe=ot(Gt(),1),tke=ot(we(),1);var jIe=ot(Gt(),1),VIe=ot(we(),1);var FAe=ot(Gt(),1),HAe=ot(we(),1);var kAe=ot(we(),1);function NE(){let{label:e="",colspan:t=1,origColspan:r=1,collapsible:i=!1,crossHiddenColumns:n=[],isCollapsed:o=!1,isHidden:s=!1,isRoot:a=!1,isPlaceholder:l=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{label:e,colspan:t,origColspan:r,collapsible:i,isCollapsed:o,crossHiddenColumns:n,isHidden:s,isRoot:a,isPlaceholder:l}}function Kk(){return{label:"",isPlaceholder:!0}}function Hrt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,r=[];if(t===0)return r;Tt(e,n=>{let o=[],s=0;r.push(o),Tt(n,a=>{let l=NE();if(gi(a)){let{label:d,colspan:u}=a;l.label=on(d),typeof u=="number"&&u>1&&(l.colspan=u,l.origColspan=u)}else l.label=on(a);s+=l.origColspan;let c=!1;if(s>=t&&(l.colspan=l.origColspan-(s-t),l.origColspan=l.colspan,c=!0),o.push(l),l.colspan>1)for(let d=0;d<l.colspan-1;d++)o.push(Kk());return!c})});let i=Math.max(...xi(r,n=>n.length));return Tt(r,n=>{if(n.length<i){let o=xi(new Array(i-n.length),()=>NE());n.splice(n.length,0,...o)}}),r}function c7(e,t,r){uOt(e,t),t.set(e,r)}function uOt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Qd(e,t){return e.get(jrt(e,t))}function LE(e,t,r){return e.set(jrt(e,t),r),r}function jrt(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var Brt=["label","collapsible"],jf=new WeakMap,nb=new WeakMap,d7=new WeakMap,Xk=class{constructor(){c7(this,jf,[]),c7(this,nb,0),c7(this,d7,1/0)}setColumnsLimit(t){LE(d7,this,t)}setData(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];LE(jf,this,Hrt(t,Qd(d7,this))),LE(nb,this,Qd(jf,this).length)}getData(){return Qd(jf,this)}mergeWith(t){Tt(t,r=>{let a=r,{row:i,col:n}=a,o=Hn(a,["row","col"]),s=this.getHeaderSettings(i,n);s!==null&&Wr(s,o,Brt)})}map(t){Tt(Qd(jf,this),r=>{Tt(r,i=>{let n=t(Vt({},i));gi(n)&&Wr(i,n,Brt)})})}getHeaderSettings(t,r){var i;if(t>=Qd(nb,this)||t<0)return null;let n=Qd(jf,this)[t];return Array.isArray(n)===!1||r>=n.length?null:(i=n[r])!==null&&i!==void 0?i:null}getHeadersSettings(t,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,n=[];if(t>=Qd(nb,this)||t<0)return n;let o=Qd(jf,this)[t],s=0;for(let a=r;a<o.length;a++){let l=o[a];if(l.isPlaceholder)throw new Error("The first column settings cannot overlap the other header layers");if(s+=l.colspan,n.push(l),l.colspan>1&&(a+=l.colspan-1),s===i)break;if(s>i)throw new Error("The last column settings cannot overlap the other header layers")}return n}getLayersCount(){return Qd(nb,this)}getColumnsCount(){return Qd(nb,this)>0?Qd(jf,this)[0].length:0}clear(){LE(jf,this,[]),LE(nb,this,0)}};var GAe=ot(Gt(),1);var WAe=ot(Gt(),1),YAe=ot(we(),1);function u7(e,t,r){return t=hOt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hOt(e){var t=fOt(e,"string");return typeof t=="symbol"?t:t+""}function fOt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var h7="DF-pre-order";function zrt(e,t){let r=e.call(t,this);for(let i=0;i<this.childs.length;i++){if(r===!1)return!1;r=zrt.call(this.childs[i],e,t)}return r}var mOt="DF-post-order";function Urt(e,t){for(let r=0;r<this.childs.length;r++)if(Urt.call(this.childs[r],e,t)===!1)return!1;return e.call(t,this)}var Wrt="BF";function pOt(e,t){let r=[this];function i(){if(r.length===0)return;let n=r.shift();r.push(...n.childs),e.call(t,n)!==!1&&i()}i()}var gOt=Wrt,Vrt=new Map([[h7,zrt],[mOt,Urt],[Wrt,pOt]]),FE=class e{constructor(t){u7(this,"data",{}),u7(this,"parent",null),u7(this,"childs",[]),this.data=t}addChild(t){t.parent=this,this.childs.push(t)}cloneTree(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this,r=new e(Vt({},t.data));for(let i=0;i<t.childs.length;i++)r.addChild(this.cloneTree(t.childs[i]));return r}replaceTreeWith(t){this.data=Vt({},t.data),this.childs=[];for(let r=0;r<t.childs.length;r++)this.addChild(t.childs[r])}walkDown(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:gOt;if(!Vrt.has(r))throw new Error(`Traversal strategy "${r}" does not exist`);Vrt.get(r).call(this,t,this)}walkUp(t){let r=this,i=n=>{t.call(r,n)!==!1&&n.parent!==null&&i(n.parent)};i(this)}};function f7(e,t,r){bOt(e,t),t.set(e,r)}function bOt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Qa(e,t){return e.get(Yrt(e,t))}function vOt(e,t,r){return e.set(Yrt(e,t),r),r}function Yrt(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var K_=new WeakMap,ob=new WeakMap,X_=new WeakMap,Zk=class{constructor(t){f7(this,K_,new Map),f7(this,ob,new Map),f7(this,X_,null),vOt(X_,this,t)}getRoots(){return Array.from(Qa(K_,this).values())}getRootByColumn(t){let r;return Qa(ob,this).has(t)&&(r=Qa(K_,this).get(Qa(ob,this).get(t))),r}getNode(t,r){let i=this.getRootByColumn(r);if(!i)return;let n=r-Qa(ob,this).get(r),o=0,s;return i.walkDown(a=>{let{data:{origColspan:l,headerLevel:c}}=a;if(t===c){if(n>=o&&n<=o+l-1)return s=a,s.data.isRoot=r===s.data.columnIndex,!1;o+=l}}),s}rebuildTreeIndex(){let t=0;Qa(ob,this).clear(),Tt(Qa(K_,this),r=>{let[,{data:{colspan:i}}]=r;for(let n=t;n<t+i;n++)Qa(ob,this).set(n,t);t+=i})}buildTree(){this.clear();let t=Qa(X_,this).getColumnsCount(),r=0;for(;r<t;){let i=Qa(X_,this).getHeaderSettings(0,r),n=new FE;Qa(K_,this).set(r,n),this.buildLeaves(n,r,0,i.origColspan),r+=i.origColspan}this.rebuildTreeIndex()}buildLeaves(t,r,i){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,o=Qa(X_,this).getHeadersSettings(i,r,n);i+=1,Tt(o,s=>{let a=je(Vt({},s),{headerLevel:i-1,columnIndex:r}),l;i===1?(t.data=a,l=t):(l=new FE(a),t.addChild(l)),i<Qa(X_,this).getLayersCount()&&this.buildLeaves(l,r,i,s.origColspan),r+=s.origColspan})}clear(){Qa(K_,this).clear(),Qa(ob,this).clear()}};var AIe=ot(Gt(),1);var uIe=ot(yn(),1),hIe=ot(_n(),1),fIe=ot(wn(),1),mIe=ot(Cn(),1),pIe=ot(xn(),1),gIe=ot(Sn(),1),bIe=ot(En(),1);var tIe=ot(yn(),1),eIe=ot(_n(),1),iIe=ot(wn(),1),rIe=ot(Cn(),1),nIe=ot(xn(),1),oIe=ot(Sn(),1),sIe=ot(En(),1);function Qk(e,t){e.walkDown(r=>{let{data:i,childs:n}=r;if(!i.isHidden&&(t(i.columnIndex),n.length===0))for(let o=1;o<i.colspan;o++)t(i.columnIndex+o)})}function Z_(e,t){let{childs:r}=e;if(r.length!==0)return r[0].data[t]}function Q_(e){return Z_(e,"origColspan")===e.data.origColspan}function HE(e){let{data:t,childs:r}=e;if(!t.isCollapsed||t.isHidden||t.origColspan<=1)return{rollbackModification:()=>{},affectedColumns:[],colspanCompensation:0};if(Q_(e))return HE(r[0]);t.isCollapsed=!1;let n=r.slice(1),o=new Set,s=0;if(n.length>0)Tt(n,a=>{a.replaceTreeWith(a.data.clonedTree),a.data.clonedTree=null;let l=a.data;s+=l.colspan,Qk(a,c=>{o.add(c)})});else{let{colspan:a,origColspan:l,columnIndex:c}=t;s=l-a;for(let d=1;d<l;d++)o.add(c+d)}return e.walkUp(a=>{let{data:l}=a;l.colspan+=s,l.colspan>=l.origColspan?(l.colspan=l.origColspan,l.isCollapsed=!1):Q_(a)&&(l.isCollapsed=Z_(a,"isCollapsed"))}),{rollbackModification:()=>BE(e),affectedColumns:Array.from(o),colspanCompensation:s}}function BE(e){var t;let{data:r,childs:i}=e;if(r.isCollapsed||r.isHidden||r.origColspan<=1)return{rollbackModification:()=>{},affectedColumns:[],colspanCompensation:0};if(Q_(e))return BE(i[0]);r.isCollapsed=!0;let o=i.slice(1),s=new Set;if(o.length>0)Tt(o,l=>{Qk(l,c=>{s.add(c)}),l.data.clonedTree=l.cloneTree(),l.walkDown(c=>{let{data:d}=c;d.isHidden=!0})});else{let{origColspan:l,columnIndex:c}=r;for(let d=1;d<l;d++){let u=c+d;s.add(u)}}let a=r.colspan-((t=Z_(e,"colspan"))!==null&&t!==void 0?t:1);return e.walkUp(l=>{let{data:c}=l;c.colspan-=a,c.colspan<=1?(c.colspan=1,c.isCollapsed=!0):Q_(l)&&(c.isCollapsed=Z_(l,"isCollapsed"))}),{rollbackModification:()=>HE(e),affectedColumns:Array.from(s),colspanCompensation:a}}var CIe=ot(Gt(),1),xIe=ot(we(),1);function qrt(e,t){if(!Number.isInteger(t))throw new Error("The passed gridColumnIndex argument has invalid type.");if(e.childs.length>0)throw new Error(Gi`The passed node is not the last node on the tree. Only for\x20
the last node, the hide column modification can be applied.`);let{crossHiddenColumns:r}=e.data;if(r.includes(t))return;let i=!1;e.walkUp(n=>{let{data:{collapsible:o}}=n;if(o)return i=!0,!1}),!i&&e.walkUp(n=>{let{data:o}=n;o.crossHiddenColumns.push(t),o.colspan>1?o.colspan-=1:o.isHidden=!0})}var RIe=ot(Gt(),1);function $rt(e,t){if(!Number.isInteger(t))throw new Error("The passed gridColumnIndex argument has invalid type.");if(e.childs.length>0)throw new Error(Gi`The passed node is not the last node on the tree. Only for\x20
the last node, the show column modification can be applied.`);let{crossHiddenColumns:r}=e.data;if(!r.includes(t))return;let i=!1;e.walkUp(n=>{let{data:{collapsible:o}}=n;if(o)return i=!0,!1}),!i&&e.walkUp(n=>{let{data:o}=n;o.crossHiddenColumns.splice(o.crossHiddenColumns.indexOf(t),1),!o.isHidden&&o.colspan<o.origColspan&&(o.colspan+=1),o.isHidden=!1})}var Grt=new Map([["collapse",BE],["expand",HE],["hide-column",qrt],["show-column",$rt]]);function Krt(e,t,r){if(!Grt.has(e))throw new Error(`The node modifier action ("${e}") does not exist.`);return Grt.get(e)(t,r)}var NIe=ot(we(),1);function jE(e){let t=[];return Tt(e,r=>{r.walkDown(i=>{let n=i.data,{origColspan:o,columnIndex:s,headerLevel:a,crossHiddenColumns:l}=n,c=_Ot(t,a),d=!1;for(let u=s;u<s+o;u++)if(l.includes(u)||d)c.push(Kk(n));else{let f=yOt(n);f.isRoot=!0,c.push(f),d=!0}})}),t}function yOt(e){let i=NE(e),{crossHiddenColumns:t}=i;return Hn(i,["crossHiddenColumns"])}function _Ot(e,t){let r;return Array.isArray(e[t])?r=e[t]:(r=[],e[t]=r),r}function m7(e,t,r){wOt(e,t),t.set(e,r)}function wOt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function VE(e,t,r){return e.set(Xrt(e,t),r),r}function ko(e,t){return e.get(Xrt(e,t))}function Xrt(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var Ch=new WeakMap,kl=new WeakMap,sb=new WeakMap,Jk=class{constructor(){m7(this,Ch,new Xk),m7(this,kl,new Zk(ko(Ch,this))),m7(this,sb,[[]])}setState(t){ko(Ch,this).setData(t);let r=!1;try{ko(kl,this).buildTree()}catch{ko(kl,this).clear(),ko(Ch,this).clear(),r=!0}return VE(sb,this,jE(ko(kl,this).getRoots())),r}setColumnsLimit(t){ko(Ch,this).setColumnsLimit(t)}mergeStateWith(t){let r=xi(t,i=>{let s=i,{row:n}=s,o=Hn(s,["row"]);return Vt({row:n<0?this.rowCoordsToLevel(n):n},o)});ko(Ch,this).mergeWith(r),ko(kl,this).buildTree(),VE(sb,this,jE(ko(kl,this).getRoots()))}mapState(t){ko(Ch,this).map(t),ko(kl,this).buildTree(),VE(sb,this,jE(ko(kl,this).getRoots()))}mapNodes(t){return cn(ko(kl,this).getRoots(),(r,i)=>(i.walkDown(n=>{let o=t(n.data);o!==void 0&&r.push(o)}),r),[])}triggerNodeModification(t,r,i){r<0&&(r=this.rowCoordsToLevel(r));let n=ko(kl,this).getNode(r,i),o;return n&&(o=Krt(t,n,i),VE(sb,this,jE(ko(kl,this).getRoots()))),o}triggerColumnModification(t,r){return this.triggerNodeModification(t,-1,r)}rowCoordsToLevel(t){if(t>=0)return null;let r=t+Math.max(this.getLayersCount(),1);return r<0?null:r}levelToRowCoords(t){if(t<0)return null;let r=t-Math.max(this.getLayersCount(),1);return r>=0?null:r}getHeaderSettings(t,r){var i,n;return t<0&&(t=this.rowCoordsToLevel(t)),t===null||t>=this.getLayersCount()?null:(i=(n=ko(sb,this)[t])===null||n===void 0?void 0:n[r])!==null&&i!==void 0?i:null}getHeaderTreeNodeData(t,r){let i=this.getHeaderTreeNode(t,r);return i?Vt({},i.data):null}getHeaderTreeNode(t,r){if(t<0&&(t=this.rowCoordsToLevel(t)),t===null||t>=this.getLayersCount())return null;let i=ko(kl,this).getNode(t,r);return i||null}findTopMostEntireHeaderLevel(t){var r;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,n=i-t+1,o=!1,s=null;for(let a=t;a<=i;a++){let l=ko(kl,this).getRootByColumn(a);if(!l)break;o=!0,l.walkDown(c=>{let{columnIndex:d,headerLevel:u,origColspan:h,isHidden:f}=c.data;f||h<=n&&d>=t&&d+h-1<=i&&(s===null||u<s)&&(s=u)},h7)}return o&&s===null?-1:this.levelToRowCoords((r=s)!==null&&r!==void 0?r:0)}findLeftMostColumnIndex(t,r){var i;let{isRoot:n}=(i=this.getHeaderSettings(t,r))!==null&&i!==void 0?i:{isRoot:!0};if(n)return r;let o=r-1;for(;o>=0;){var s;let{isRoot:a}=(s=this.getHeaderSettings(t,o))!==null&&s!==void 0?s:{isRoot:!0};if(a)break;o-=1}return o}findRightMostColumnIndex(t,r){var i;let{isRoot:n,origColspan:o}=(i=this.getHeaderSettings(t,r))!==null&&i!==void 0?i:{isRoot:!0,origColspan:1};if(n)return r+o-1;let s=r+1;for(;s<this.getColumnsCount();){var a;let{isRoot:l}=(a=this.getHeaderSettings(t,s))!==null&&a!==void 0?a:{isRoot:!0};if(l)break;s+=1}return s-1}getLayersCount(){return ko(Ch,this).getLayersCount()}getColumnsCount(){return ko(Ch,this).getColumnsCount()}clear(){VE(sb,this,[]),ko(Ch,this).clear(),ko(kl,this).clear()}};var XIe=ot(Gt(),1);function zE(e,t,r){return t=COt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function COt(e){var t=xOt(e,"string");return typeof t=="symbol"?t:t+""}function xOt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var p7=class{constructor(t,r){zE(this,"hot",void 0),zE(this,"nestedHeaderSettingsGetter",void 0),zE(this,"layersCount",0),zE(this,"container",void 0),zE(this,"widthsMap",void 0),this.hot=t,this.nestedHeaderSettingsGetter=r,this.widthsMap=this.hot.columnIndexMapper.createAndRegisterIndexMap("nestedHeaders.widthsMap","physicalIndexToValue")}setLayersCount(t){return this.layersCount=t,this}getWidth(t){return this.widthsMap.getValueAtIndex(this.hot.toPhysicalColumn(t))}buildWidthsMap(){this.container=this.hot.rootDocument.createElement("div"),this.container.classList.add("handsontable","htGhostTable","htAutoSize"),this._buildGhostTable(this.container),this.hot.rootDocument.body.appendChild(this.container);let t=this.container.querySelectorAll("tr:last-of-type th"),r=t.length;this.widthsMap.clear();for(let i=0;i<r;i++){let n=this.hot.columnIndexMapper.getVisualFromRenderableIndex(i),o=this.hot.toPhysicalColumn(n);this.widthsMap.setValueAtIndex(o,t[i].offsetWidth)}this.container.parentNode.removeChild(this.container),this.container=null}_buildGhostTable(t){let{rootDocument:r,columnIndexMapper:i}=this.hot,n=r.createDocumentFragment(),o=r.createElement("table"),s=!!this.hot.getSettings().dropdownMenu,a=i.getRenderableIndexesLength();for(let l=0;l<this.layersCount;l++){let c=r.createElement("tr");for(let d=0;d<a;d++){let u=i.getVisualFromRenderableIndex(d);u===null&&(u=d);let h=r.createElement("th"),f=this.nestedHeaderSettingsGetter(l,u);if(f&&(!f.isPlaceholder||f.isHidden)){let m=f.label;s&&(m+='<button class="changeType"></button>'),Lc(h,m),h.colSpan=f.colspan,c.appendChild(h)}}o.appendChild(c)}n.appendChild(o),t.appendChild(n)}clear(){this.widthsMap.clear(),this.container=null}},Zrt=p7;function SOt(e,t){Jrt(e,t),t.add(e)}function Qrt(e,t,r){return t=EOt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EOt(e){var t=ROt(e,"string");return typeof t=="symbol"?t:t+""}function ROt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tD(e,t,r){Jrt(e,t),t.set(e,r)}function Jrt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ab(e,t,r){return e.set(Do(e,t),r),r}function Xr(e,t){return e.get(Do(e,t))}function Do(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var g7="nestedHeaders",tnt=280,Pn=new WeakMap,qp=new WeakMap,UE=new WeakMap,iD=new WeakMap,Wo=new WeakSet,WE=class extends vi{constructor(){super(...arguments),SOt(this,Wo),tD(this,Pn,new Jk),tD(this,qp,null),tD(this,UE,null),tD(this,iD,!1),Qrt(this,"ghostTable",new Zrt(this.hot,(t,r)=>this.getHeaderSettings(t,r))),Qrt(this,"detectedOverlappedHeaders",!1)}static get PLUGIN_KEY(){return g7}static get PLUGIN_PRIORITY(){return tnt}isEnabled(){return!!this.hot.getSettings()[g7]}enablePlugin(){var t=this;if(this.enabled)return;let{nestedHeaders:r}=this.hot.getSettings();(!Array.isArray(r)||!Array.isArray(r[0]))&&vr(Gi`Your Nested Headers plugin configuration is invalid. The settings has to be\x20
                        passed as an array of arrays e.q. [['A1', { label: 'A2', colspan: 2 }]]`),this.addHook("init",()=>Do(Wo,this,zOt).call(this)),this.addHook("afterLoadData",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return Do(Wo,t,UOt).call(t,...n)}),this.addHook("beforeOnCellMouseDown",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return Do(Wo,t,IOt).call(t,...n)}),this.addHook("afterOnCellMouseDown",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return Do(Wo,t,kOt).call(t,...n)}),this.addHook("beforeOnCellMouseOver",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return Do(Wo,t,DOt).call(t,...n)}),this.addHook("beforeOnCellMouseUp",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return Do(Wo,t,OOt).call(t,...n)}),this.addHook("beforeSelectionHighlightSet",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return Do(Wo,t,POt).call(t,...n)}),this.addHook("modifyTransformStart",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return Do(Wo,t,NOt).call(t,...n)}),this.addHook("afterSelection",()=>Do(Wo,this,eD).call(this)),this.addHook("afterSelectionFocusSet",()=>Do(Wo,this,eD).call(this)),this.addHook("beforeViewportScrollHorizontally",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return Do(Wo,t,TOt).call(t,...n)}),this.addHook("afterGetColumnHeaderRenderers",i=>Do(Wo,this,FOt).call(this,i)),this.addHook("modifyColWidth",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return Do(Wo,t,BOt).call(t,...n)}),this.addHook("modifyColumnHeaderValue",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return Do(Wo,t,jOt).call(t,...n)}),this.addHook("beforeHighlightingColumnHeader",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return Do(Wo,t,MOt).call(t,...n)}),this.addHook("beforeCopy",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return Do(Wo,t,AOt).call(t,...n)}),this.addHook("beforeSelectColumns",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return Do(Wo,t,LOt).call(t,...n)}),this.addHook("afterViewportColumnCalculatorOverride",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return Do(Wo,t,HOt).call(t,...n)}),this.addHook("modifyFocusedElement",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return Do(Wo,t,VOt).call(t,...n)}),this.hot.columnIndexMapper.addLocalHook("cacheUpdated",()=>Do(Wo,this,eD).call(this)),this.hot.rowIndexMapper.addLocalHook("cacheUpdated",()=>Do(Wo,this,eD).call(this)),super.enablePlugin(),this.updatePlugin()}updatePlugin(){if(!this.hot.view)return;let{nestedHeaders:t}=this.hot.getSettings();Xr(Pn,this).setColumnsLimit(this.hot.countCols()),Array.isArray(t)&&(this.detectedOverlappedHeaders=Xr(Pn,this).setState(t)),this.detectedOverlappedHeaders&&vr(Gi`Your Nested Headers plugin setup contains overlapping headers. This kind of configuration\x20
                        is currently not supported.`),this.enabled&&this.hot.columnIndexMapper.hidingMapsCollection.getMergedValues().forEach((r,i)=>{let n=r===!0?"hide-column":"show-column";Xr(Pn,this).triggerColumnModification(n,i)}),!Xr(qp,this)&&this.enabled&&ab(qp,this,this.hot.columnIndexMapper.createChangesObserver("hiding").subscribe(r=>{r.forEach(i=>{let{op:n,index:o,newValue:s}=i;if(n==="replace"){let a=s===!0?"hide-column":"show-column";Xr(Pn,this).triggerColumnModification(a,o)}}),this.ghostTable.buildWidthsMap()})),this.ghostTable.setLayersCount(this.getLayersCount()).buildWidthsMap(),super.updatePlugin()}disablePlugin(){this.clearColspans(),Xr(Pn,this).clear(),Xr(qp,this).unsubscribe(),ab(qp,this,null),this.ghostTable.clear(),super.disablePlugin()}getStateManager(){return Xr(Pn,this)}getLayersCount(){return Xr(Pn,this).getLayersCount()}getHeaderSettings(t,r){return Xr(Pn,this).getHeaderSettings(t,r)}clearColspans(){if(!this.hot.view)return;let{_wt:t}=this.hot.view,r=t.getSetting("columnHeaders").length,i=t.wtTable.THEAD,n=t.wtOverlays.topOverlay.clone.wtTable.THEAD,o=t.wtOverlays.topInlineStartCornerOverlay?t.wtOverlays.topInlineStartCornerOverlay.clone.wtTable.THEAD:null;for(let s=0;s<r;s++){let a=i.childNodes[s];if(!a)break;let l=n.childNodes[s],c=o?o.childNodes[s]:null;for(let d=0,u=a.childNodes.length;d<u;d++)a.childNodes[d].removeAttribute("colspan"),pi(a.childNodes[d],"hiddenHeader"),l&&l.childNodes[d]&&(l.childNodes[d].removeAttribute("colspan"),pi(l.childNodes[d],"hiddenHeader")),o&&c&&c.childNodes[d]&&(c.childNodes[d].removeAttribute("colspan"),pi(c.childNodes[d],"hiddenHeader"))}}headerRendererFactory(t){var r=this;let i=this.hot.view._wt.getSetting("fixedColumnsStart");return(n,o)=>{var s;let{columnIndexMapper:a,view:l}=this.hot,c=a.getVisualFromRenderableIndex(n);c===null&&(c=n),o.removeAttribute("colspan"),pi(o,"hiddenHeader");let{colspan:d,isHidden:u,isPlaceholder:h}=(s=Xr(Pn,this).getHeaderSettings(t,c))!==null&&s!==void 0?s:{label:""};if(h||u)ne(o,"hiddenHeader");else if(d>1){var f,m;let{wtOverlays:g}=l._wt,p=(f=g.topInlineStartCornerOverlay)===null||f===void 0?void 0:f.clone.wtTable.THEAD.contains(o),b=(m=g.inlineStartOverlay)===null||m===void 0?void 0:m.clone.wtTable.THEAD.contains(o),_=p||b?Math.min(d,i-n):d;_>1&&o.setAttribute("colspan",_)}this.hot.view.appendColHeader(c,o,function(){return r.getColumnHeaderValue(...arguments)},t)}}getColumnHeaderValue(t,r){var i;let{isHidden:n,isPlaceholder:o}=(i=Xr(Pn,this).getHeaderSettings(r,t))!==null&&i!==void 0?i:{};return o||n?"":this.hot.getColHeader(t,r)}destroy(){ab(Pn,this,null),Xr(qp,this)!==null&&(Xr(qp,this).unsubscribe(),ab(qp,this,null)),super.destroy()}_getHeaderTreeNodeDataByCoords(t){if(!(t.row>=0||t.col<0))return Xr(Pn,this).getHeaderTreeNodeData(t.row,t.col)}};function eD(){var e;let t=(e=this.hot)===null||e===void 0?void 0:e.getSelectedRangeLast();if(!t)return;let{highlight:r}=t;if(r.isHeader()&&r.col>=0){let n=Xr(Pn,this).findLeftMostColumnIndex(r.row,r.col),o=this.hot.selection.highlight.getFocus();o.visualCellRange.highlight.col=n,o.visualCellRange.from.col=n,o.visualCellRange.to.col=n,o.commit()}}function TOt(e){let t=this.hot.getSelectedRangeLast();if(!t)return e;let{highlight:r}=t;if(!(r.isHeader()&&r.col>=0))return e;let n=this.hot.view.getFirstFullyVisibleColumn(),o=this.hot.view.getLastFullyVisibleColumn(),s=Xr(Pn,this).findLeftMostColumnIndex(r.row,r.col),a=Xr(Pn,this).findRightMostColumnIndex(r.row,r.col);return s<n&&a>o?e:s<n?s:a}function MOt(e,t,r){let i=Xr(Pn,this).getHeaderTreeNodeData(t,e);if(!i)return e;let{columnCursor:n,selectionType:o,selectionWidth:s}=r,{isRoot:a,colspan:l}=Xr(Pn,this).getHeaderSettings(t,e);if(o===lp){if(!a)return i.columnIndex}else if(o===xy&&(l>s-n||!a))return null;return e}function AOt(e,t,r){let{columnHeadersCount:i}=r;if(i!==0)for(let o=0;o<t.length;o++){let{startRow:s,startCol:a,endRow:l,endCol:c}=t[o],d=l-s+1,u=a-c+1;if(s>=0||u===1)break;for(let h=a;h<=c;h++)for(let f=s;f<=l;f++){var n;let m=d+f,g=h-a;if(g===0)continue;((n=Xr(Pn,this).getHeaderTreeNodeData(f,h))===null||n===void 0?void 0:n.isRoot)===!1&&(e[m][g]="")}}}function IOt(e,t,r,i){this._getHeaderTreeNodeDataByCoords(t)&&(i.column=!0)}function kOt(e,t){let r=this._getHeaderTreeNodeDataByCoords(t);if(!r)return;ab(UE,this,t.clone()),ab(iD,this,!0);let{selection:i}=this.hot,n=i.isSelected()?i.getSelectedRange().current():null,o=[],{columnIndex:s,origColspan:a}=r,l=!i.inInSelection(t);e.shiftKey&&n?t.col<n.from.col?o.push(n.getTopEndCorner().col,s,t.row):t.col>n.from.col?o.push(n.getTopStartCorner().col,s+a-1,t.row):o.push(s,s+a-1,t.row):(uy(e)||Ql(e)&&l)&&o.push(s,s+a-1,t.row),i.selectColumns(...o)}function DOt(e,t,r,i){if(!this.hot.view.isMouseDown())return;let n=this._getHeaderTreeNodeDataByCoords(t);if(!n)return;let{columnIndex:o,origColspan:s}=n,a=this.hot.getSelectedRangeLast(),l=a.getTopStartCorner(),c=a.getBottomEndCorner(),{from:d}=a;i.column=!0,i.cell=!0;let u=[],h=Kr(t.row,-1/0,-1);t.col<d.col?u.push(c.col,o,h):t.col>d.col?u.push(l.col,o+s-1,h):u.push(o,o+s-1,h),this.hot.selection.selectColumns(...u)}function OOt(){ab(iD,this,!1)}function POt(){let{navigableHeaders:e}=this.hot.getSettings();if(!this.hot.view.isMouseDown()||!Xr(iD,this)||!e)return;let t=this.hot.getSelectedRangeLast(),r=t.getTopStartCorner().col,i=t.getBottomEndCorner().col,{columnIndex:n,origColspan:o}=Xr(Pn,this).getHeaderTreeNodeData(Xr(UE,this).row,Xr(UE,this).col);if(t.setHighlight(Xr(UE,this)),o>t.getWidth()||n<r||n+o-1>i){let s=Xr(Pn,this).findTopMostEntireHeaderLevel(Kr(r,n,n+o-1),Kr(i,n,n+o-1));t.highlight.row=s,t.highlight.col=t.from.col}}function NOt(e){let{highlight:t}=this.hot.getSelectedRangeLast(),r=this.hot._createCellCoords(t.row+e.row,t.col+e.col);if(!(r.isHeader()&&r.col>=0))return;let n=Xr(Pn,this).findLeftMostColumnIndex(r.row,r.col),o=Xr(Pn,this).findRightMostColumnIndex(r.row,r.col);if(e.col<0){let s=t.col>=n&&t.col<=o?n-1:o,a=this.hot.columnIndexMapper.getNearestNotHiddenIndex(s,-1);a===null?e.col=-this.hot.view.countRenderableColumnsInRange(0,t.col):e.col=-Math.max(this.hot.view.countRenderableColumnsInRange(a,t.col)-1,1)}else if(e.col>0){let s=t.col>=n&&t.col<=o?o+1:n,a=this.hot.columnIndexMapper.getNearestNotHiddenIndex(s,1);a===null?e.col=this.hot.view.countRenderableColumnsInRange(t.col,this.hot.countCols()):e.col=Math.max(this.hot.view.countRenderableColumnsInRange(t.col,a)-1,1)}}function LOt(e,t){let r=e.row,i=this._getHeaderTreeNodeDataByCoords({row:r,col:e.col}),n=this._getHeaderTreeNodeDataByCoords({row:r,col:t.col});t.col<e.col?(i&&(e.col=i.columnIndex+i.origColspan-1),n&&(t.col=n.columnIndex)):t.col>=e.col&&(i&&(e.col=i.columnIndex),n&&(t.col=n.columnIndex+n.origColspan-1))}function FOt(e){e.length=0;for(let t=0;t<Xr(Pn,this).getLayersCount();t++)e.push(this.headerRendererFactory(t))}function HOt(e){let t=Xr(Pn,this).getLayersCount(),r=e.startColumn,i=!!t;for(let n=0;n<t;n++){let o=Xr(Pn,this).findLeftMostColumnIndex(n,e.startColumn),s=this.hot.columnIndexMapper.getRenderableFromVisualIndex(o);if(o>=0&&(i=!1),Jo(s)&&s<e.startColumn){r=s;break}}e.startColumn=i?Xr(Pn,this).getHeaderTreeNodeData(0,r).columnIndex:r}function BOt(e,t){let r=this.ghostTable.getWidth(t);return e>r?e:r}function jOt(e,t,r){var i;let{label:n}=(i=Xr(Pn,this).getHeaderTreeNodeData(r,t))!==null&&i!==void 0?i:{label:""};return n}function VOt(e,t){if(e<0)return this.hot.getCell(e,Xr(Pn,this).findLeftMostColumnIndex(e,t),!0)}function zOt(){this.updatePlugin()}function UOt(e,t){t||this.updatePlugin()}var qke=ot(Gt(),1),$ke=ot(we(),1),Gke=ot(yn(),1),Kke=ot(_n(),1),Xke=ot(wn(),1),Zke=ot(Cn(),1),Qke=ot(xn(),1),Jke=ot(Sn(),1),tDe=ot(En(),1);var fke=ot(Gt(),1),mke=ot(we(),1);function YE(e,t,r){return t=WOt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WOt(e){var t=YOt(e,"string");return typeof t=="symbol"?t:t+""}function YOt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var b7=class{constructor(t,r){YE(this,"hot",void 0),YE(this,"data",null),YE(this,"plugin",void 0),YE(this,"parentReference",new WeakMap),YE(this,"cache",{levels:[],levelCount:0,rows:[],nodeInfo:new WeakMap}),this.hot=r,this.plugin=t}setData(t){this.data=t}getData(){return this.data}getRawSourceData(){let t=null;return this.plugin.disableCoreAPIModifiers(),t=this.hot.getSourceData(),this.plugin.enableCoreAPIModifiers(),t}updateWithData(t){this.setData(t),this.rewriteCache()}rewriteCache(){this.cache={levels:[],levelCount:0,rows:[],nodeInfo:new WeakMap},Oe(0,this.data.length-1,t=>{this.cacheNode(this.data[t],0,null)})}cacheNode(t,r,i){this.cache.levels[r]||(this.cache.levels[r]=[],this.cache.levelCount+=1),this.cache.levels[r].push(t),this.cache.rows.push(t),this.cache.nodeInfo.set(t,{parent:i,row:this.cache.rows.length-1,level:r}),this.hasChildren(t)&&Tt(t.__children,n=>{this.cacheNode(n,r+1,t)})}getDataObject(t){return t==null?null:this.cache.rows[t]}readTreeNodes(t,r,i,n){let o=!1,s=r;if(isNaN(s)&&s.end)return s;let a=t;return a||(a={__children:this.data},o=!0,s-=1),i!=null&&s===i?{result:a,end:!0}:n!=null&&a===n?{result:s,end:!0}:(s+=1,a.__children&&Tt(a.__children,l=>{if(this.parentReference.set(l,o?null:a),s=this.readTreeNodes(l,s,i,n),isNaN(s)&&s.end)return!1}),s)}mockParent(){let t=this.mockNode();return t.__children=this.data,t}mockNode(){let t={};return bi(this.data[0],(r,i)=>{t[i]=null}),t}getRowIndex(t){return t==null?null:this.cache.nodeInfo.get(t).row}getRowIndexWithinParent(t){let r=null;isNaN(t)?r=t:r=this.getDataObject(t);let i=this.getRowParent(t);return i==null?this.data.indexOf(r):i.__children.indexOf(r)}countAllRows(){let t={__children:this.data};return this.countChildren(t)}countChildren(t){let r=0,i=t;return isNaN(i)||(i=this.getDataObject(i)),!i||!i.__children?0:(Tt(i.__children,n=>{r+=1,n.__children&&(r+=this.countChildren(n))}),r)}getRowParent(t){let r;return isNaN(t)?r=t:r=this.getDataObject(t),this.getRowObjectParent(r)}getRowObjectParent(t){return!t||typeof t!="object"?null:this.cache.nodeInfo.get(t).parent}getRowLevel(t){let r=null;return isNaN(t)?r=t:r=this.getDataObject(t),r?this.getRowObjectLevel(r):null}getRowObjectLevel(t){return t==null?null:this.cache.nodeInfo.get(t).level}hasChildren(t){let r=t;return isNaN(r)||(r=this.getDataObject(r)),!!(r.__children&&r.__children.length)}isChild(t){return this.getRowParent(t)!==null}getChild(t,r){var i;return((i=t.__children)===null||i===void 0?void 0:i[r])||null}isRowHighestLevel(t){return!this.isChild(t)}isParent(t){var r;let i=t;return isNaN(i)||(i=this.getDataObject(i)),i&&!!i.__children&&((r=i.__children)===null||r===void 0?void 0:r.length)!==0}addChild(t,r){let i=r;this.hot.runHooks("beforeAddChild",t,i);let n=null;t&&(n=this.getRowIndex(t)),this.hot.runHooks("beforeCreateRow",n+this.countChildren(t)+1,1);let o=t;t||(o=this.mockParent()),o.__children||(o.__children=[]),i||(i=this.mockNode()),o.__children.push(i),this.rewriteCache();let s=this.getRowIndex(i);this.hot.rowIndexMapper.insertIndexes(s,1),this.hot.runHooks("afterCreateRow",s,1),this.hot.runHooks("afterAddChild",t,i)}addChildAtIndex(t,r,i){let n=i,o;if(n||(n=this.mockNode()),this.hot.runHooks("beforeAddChild",t,n,r),t){let a=this.getRowIndex(t)+r+1;this.hot.runHooks("beforeCreateRow",a,1),t.__children.splice(r,null,n),this.rewriteCache(),this.plugin.disableCoreAPIModifiers(),this.hot.setSourceDataAtCell(this.getRowIndexWithinParent(t),"__children",t.__children,"NestedRows.addChildAtIndex"),this.hot.rowIndexMapper.insertIndexes(a,1),this.plugin.enableCoreAPIModifiers(),this.hot.runHooks("afterCreateRow",a,1),o=a}else this.plugin.disableCoreAPIModifiers(),this.hot.alter("insert_row_above",r,1,"NestedRows.addChildAtIndex"),this.plugin.enableCoreAPIModifiers(),o=this.getRowIndex(this.data[r]);n=this.getDataObject(o),this.hot.runHooks("afterAddChild",t,n,r)}addSibling(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"below",i=this.translateTrimmedRow(t),n=this.getRowParent(i),o=this.getRowIndexWithinParent(i);switch(r){case"below":this.addChildAtIndex(n,o+1,null);break;case"above":this.addChildAtIndex(n,o,null);break;default:break}}detachFromParent(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,i=null,n=[];Array.isArray(t)?(Oe(t[0],t[2],h=>{let f=this.translateTrimmedRow(h);n.push(this.getDataObject(f))}),Oe(0,n.length-2,h=>{this.detachFromParent(n[h],!1)}),i=n[n.length-1]):i=t;let o=this.getRowIndex(i),s=this.countChildren(i),a=this.getRowIndexWithinParent(i),l=this.getRowParent(i),c=this.getRowParent(l),d=this.getRowIndex(c),u=null;if(this.hot.runHooks("beforeDetachChild",l,i),a!=null){let h=Array.from(new Array(o+s+1).keys()).splice(-1*(s+1));if(this.hot.runHooks("beforeRemoveRow",o,s+1,h,this.plugin.pluginName),l.__children.splice(a,1),this.rewriteCache(),this.hot.runHooks("afterRemoveRow",o,s+1,h,this.plugin.pluginName),c){u=d+this.countChildren(c);let f=this.getChild(c,this.countChildren(c)-1),m=this.getRowIndex(f);this.hot.runHooks("beforeCreateRow",m+1,s+1,this.plugin.pluginName),c.__children.push(i)}else u=this.hot.countRows()+1,this.hot.runHooks("beforeCreateRow",u-2,s+1,this.plugin.pluginName),this.data.push(i)}this.rewriteCache(),this.hot.runHooks("afterCreateRow",u-2,s+1,this.plugin.pluginName),this.hot.runHooks("afterDetachChild",l,i,this.getRowIndex(i)),r&&this.hot.render()}filterData(t,r,i){let n=[];Tt(i,o=>{n.push(this.getDataObject(o))}),Tt(n,o=>{let s=this.getRowIndexWithinParent(o),a=this.getRowParent(o);a===null?this.data.splice(s,1):a.__children.splice(s,1)}),this.rewriteCache()}spliceData(t,r,i){let n=this.getDataObject(t-1),o=null,s=t;n&&n.__children&&n.__children.length===0?(o=n,s=0):t<this.countAllRows()&&(o=this.getRowParent(t),s=this.getRowIndexWithinParent(t)),o?i?o.__children.splice(s,r,...i):o.__children.splice(s,r):i?this.data.splice(s,r,...i):this.data.splice(s,r),this.rewriteCache()}syncRowWithRawSource(t){let r=t,i=null;do i=this.getRowParent(i),i!==null&&(r=i);while(i!==null);this.plugin.disableCoreAPIModifiers(),this.hot.setSourceDataAtCell(this.getRowIndex(r),"__children",r.__children,"NestedRows.syncRowWithRawSource"),this.plugin.enableCoreAPIModifiers()}moveRow(t,r,i,n){let o=r===this.hot.countRows(),s=this.getRowParent(t),a=this.getRowIndexWithinParent(t),l=s.__children.slice(a,a+1),c=t>r,d=o?this.getRowParent(r-1):this.getRowParent(r);d==null&&(d=this.getRowParent(r-1)),d==null&&(d=this.getDataObject(r-1)),d?d.__children||(d.__children=[]):(d=this.getDataObject(r),d.__children=[]);let u=o||i||n?d.__children.length:this.getRowIndexWithinParent(r),h=s===d;d.__children.splice(u,0,l[0]),s.__children.splice(a+(c&&h?1:0),1),this.syncRowWithRawSource(s),h||this.syncRowWithRawSource(d)}translateTrimmedRow(t){return this.plugin.collapsingUI?this.plugin.collapsingUI.translateTrimmedRow(t):t}untranslateTrimmedRow(t){return this.plugin.collapsingUI?this.plugin.collapsingUI.untranslateTrimmedRow(t):t}},ent=b7;var Tke=ot(we(),1);var yke=ot(Gt(),1);function int(e,t,r){return t=qOt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qOt(e){var t=$Ot(e,"string");return typeof t=="symbol"?t:t+""}function $Ot(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var v7=class{constructor(t,r){int(this,"hot",void 0),int(this,"plugin",void 0),this.hot=r,this.plugin=t}},J_=v7;var y7=class e extends J_{static get CSS_CLASSES(){return{indicatorContainer:"ht_nestingLevels",parent:"ht_nestingParent",indicator:"ht_nestingLevel",emptyIndicator:"ht_nestingLevel_empty",button:"ht_nestingButton",expandButton:"ht_nestingExpand",collapseButton:"ht_nestingCollapse"}}constructor(t,r){super(t,r),this.dataManager=this.plugin.dataManager,this.collapsingUI=this.plugin.collapsingUI,this.rowHeaderWidthCache=null}appendLevelIndicators(t,r){let i=this.hot.toPhysicalRow(t),n=this.dataManager.getRowLevel(i),o=this.dataManager.getDataObject(i),s=r.getElementsByTagName("DIV")[0],a=s.querySelector("span.rowHeader"),l=s.querySelectorAll('[class^="ht_nesting"]'),c=this.hot.getSettings().ariaTags;if(Tt(l,d=>{d&&s.removeChild(d)}),ne(r,e.CSS_CLASSES.indicatorContainer),n){let{rootDocument:d}=this.hot,u=a.cloneNode(!0);s.innerHTML="",Oe(0,n-1,()=>{let h=d.createElement("SPAN");ne(h,e.CSS_CLASSES.emptyIndicator),s.appendChild(h)}),s.appendChild(u)}if(this.dataManager.hasChildren(o)){let d=this.hot.rootDocument.createElement("DIV");c&&Xe(d,[Os()]),ne(r,e.CSS_CLASSES.parent),this.collapsingUI.areChildrenCollapsed(i)?(ne(d,`${e.CSS_CLASSES.button} ${e.CSS_CLASSES.expandButton}`),c&&Xe(r,[oa(!1)])):(ne(d,`${e.CSS_CLASSES.button} ${e.CSS_CLASSES.collapseButton}`),c&&Xe(r,[oa(!0)])),s.appendChild(d)}}updateRowHeaderWidth(t){let r=t;r||(r=this.dataManager.cache.levelCount),this.rowHeaderWidthCache=Math.max(50,11+10*r+25),this.hot.render()}},rD=y7;var _7=class extends J_{constructor(t,r){var i;super(t,r),i=this,this.dataManager=this.plugin.dataManager,this.collapsedRows=[],this.collapsedRowsStash={stash:function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;i.lastCollapsedRows=i.collapsedRows.slice(0),i.expandMultipleChildren(i.lastCollapsedRows,n)},shiftStash:function(n,o){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;o==null&&(o=1/0),Tt(i.lastCollapsedRows,(a,l)=>{a>=n&&a<o&&(i.lastCollapsedRows[l]=a+s)})},applyStash:function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;i.collapseMultipleChildren(i.lastCollapsedRows,n),i.lastCollapsedRows=void 0},trimStash:(n,o)=>{Oe(n,n+o-1,s=>{let a=this.lastCollapsedRows.indexOf(s);a>-1&&this.lastCollapsedRows.splice(a,1)})}}}collapseChildren(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=[],o=null,s=null,a=null;return isNaN(t)?(o=t,s=this.dataManager.getRowIndex(o)):(o=this.dataManager.getDataObject(t),s=t),this.dataManager.hasChildren(o)&&Tt(o.__children,l=>{n.push(this.dataManager.getRowIndex(l))}),a=this.collapseRows(n,!0,!1),i&&this.trimRows(a),r&&this.renderAndAdjust(),this.collapsedRows.indexOf(s)===-1&&this.collapsedRows.push(s),a}collapseMultipleChildren(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=[];Tt(t,o=>{n.push(...this.collapseChildren(o,!1,!1))}),i&&this.trimRows(n),r&&this.renderAndAdjust()}collapseRow(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.collapseRows([t],r)}collapseRows(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=[];return Tt(t,o=>{n.push(o),r&&this.collapseChildRows(o,n)}),i&&this.trimRows(n),n}collapseChildRows(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(this.dataManager.hasChildren(t)){let o=this.dataManager.getDataObject(t);Tt(o.__children,s=>{let a=this.dataManager.getRowIndex(s);r.push(a),this.collapseChildRows(a,r)})}n&&this.trimRows(r)}expandRow(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.expandRows([t],r)}expandRows(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=[];return Tt(t,o=>{n.push(o),r&&this.expandChildRows(o,n)}),i&&this.untrimRows(n),n}expandChildRows(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(this.dataManager.hasChildren(t)){let o=this.dataManager.getDataObject(t);Tt(o.__children,s=>{if(!this.isAnyParentCollapsed(s)){let a=this.dataManager.getRowIndex(s);r.push(a),this.expandChildRows(a,r)}})}n&&this.untrimRows(r)}expandChildren(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=[],o=null,s=null,a=null;return isNaN(t)?(o=t,s=this.dataManager.getRowIndex(t)):(o=this.dataManager.getDataObject(t),s=t),this.collapsedRows.splice(this.collapsedRows.indexOf(s),1),this.dataManager.hasChildren(o)&&Tt(o.__children,l=>{let c=this.dataManager.getRowIndex(l);n.push(c)}),a=this.expandRows(n,!0,!1),i&&this.untrimRows(a),r&&this.renderAndAdjust(),a}expandMultipleChildren(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=[];Tt(t,o=>{n.push(...this.expandChildren(o,!1,!1))}),i&&this.untrimRows(n),r&&this.renderAndAdjust()}collapseAll(){let t=this.dataManager.getData(),r=[];Tt(t,i=>{this.dataManager.hasChildren(i)&&r.push(i)}),this.collapseMultipleChildren(r),this.renderAndAdjust()}expandAll(){let t=this.dataManager.getData(),r=[];Tt(t,i=>{this.dataManager.hasChildren(i)&&r.push(i)}),this.expandMultipleChildren(r),this.renderAndAdjust()}trimRows(t){this.hot.batchExecution(()=>{Tt(t,r=>{this.plugin.collapsedRowsMap.setValueAtIndex(r,!0)})},!0)}untrimRows(t){this.hot.batchExecution(()=>{Tt(t,r=>{this.plugin.collapsedRowsMap.setValueAtIndex(r,!1)})},!0)}areChildrenCollapsed(t){let r=isNaN(t)?t:this.dataManager.getDataObject(t),i=!0;return r===null&&(r={__children:this.dataManager.data}),this.dataManager.hasChildren(r)&&Tt(r.__children,n=>{let o=this.dataManager.getRowIndex(n);if(!this.plugin.collapsedRowsMap.getValueAtIndex(o))return i=!1,!1}),i}isAnyParentCollapsed(t){let r=t;for(;r!==null;){r=this.dataManager.getRowParent(r);let i=this.dataManager.getRowIndex(r);if(this.collapsedRows.indexOf(i)>-1)return!0}return!1}toggleState(t,r){if(r.col>=0)return;let i=this.translateTrimmedRow(r.row);Ze(t.target,rD.CSS_CLASSES.button)&&(this.areChildrenCollapsed(i)?this.expandChildren(i):this.collapseChildren(i),Vo(t))}translateTrimmedRow(t){return this.hot.toPhysicalRow(t)}untranslateTrimmedRow(t){return this.hot.toVisualRow(t)}renderAndAdjust(){this.hot.render(),this.hot.view.adjustElementsSize()}},rnt=_7;var Nke=ot(Gt(),1);function GOt(e,t,r){KOt(e,t),t.set(e,r)}function KOt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function XOt(e,t,r){return t=ZOt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZOt(e){var t=QOt(e,"string");return typeof t=="symbol"?t:t+""}function QOt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JOt(e,t){return e.get(t3t(e,t))}function t3t(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var nnt=new WeakMap,w7=class extends J_{constructor(){super(...arguments),XOt(this,"dataManager",this.plugin.dataManager),GOt(this,nnt,{row_above:(t,r)=>{let i=r[r.length-1];this.dataManager.addSibling(i.start.row,"above")},row_below:(t,r)=>{let i=r[r.length-1];this.dataManager.addSibling(i.start.row,"below")}})}appendOptions(t){let r=[{key:"add_child",name(){return this.getTranslatedPhrase(Jx)},callback:()=>{let i=this.dataManager.translateTrimmedRow(this.hot.getSelectedLast()[0]),n=this.dataManager.getDataObject(i);this.dataManager.addChild(n)},disabled:()=>{let i=this.hot.getSelectedLast();return!i||i[0]<0||this.hot.selection.isSelectedByColumnHeader()||this.hot.countRows()>=this.hot.getSettings().maxRows}},{key:"detach_from_parent",name(){return this.getTranslatedPhrase(t2)},callback:()=>{this.dataManager.detachFromParent(this.hot.getSelectedLast())},disabled:()=>{let i=this.hot.getSelectedLast(),n=this.dataManager.translateTrimmedRow(i[0]);return!this.dataManager.getRowParent(n)||!i||i[0]<0||this.hot.selection.isSelectedByColumnHeader()||this.hot.countRows()>=this.hot.getSettings().maxRows}},{name:"---------"}];return Oe(0,t.items.length-1,i=>{if(i===0)return Tt(r,(n,o)=>{t.items.splice(i+o,0,n)}),!1}),this.modifyRowInsertingOptions(t)}modifyRowInsertingOptions(t){return Oe(0,t.items.length-1,r=>{let i=JOt(nnt,this)[t.items[r].key];i!=null&&(t.items[r].callback=i)}),t}},ont=w7;var jke=ot(Gt(),1),Vke=ot(we(),1);function nD(e,t,r){return t=e3t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e3t(e){var t=i3t(e,"string");return typeof t=="symbol"?t:t+""}function i3t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oD=class{constructor(t){nD(this,"plugin",void 0),nD(this,"hot",void 0),nD(this,"dataManager",void 0),nD(this,"collapsingUI",void 0),this.plugin=t,this.hot=t.hot,this.dataManager=t.dataManager,this.collapsingUI=t.collapsingUI}onBeforeRowMove(t,r,i,n){if(this.displayAPICompatibilityWarning({rows:t,finalIndex:r,dropIndex:i,movePossible:n}))return!1;this.movedToCollapsed=!1;let s=i===this.hot.countRows(),a=s?this.hot.countSourceRows():this.dataManager.translateTrimmedRow(i),l=!0,c=t.map(m=>{if(!l)return!1;let g=this.dataManager.translateTrimmedRow(m);return l=this.shouldAllowMoving(g,a),g}),d=c.indexOf(a)===-1;if(!l||!d)return!1;let u=this.getBaseParent(c),h=this.getTargetParent(s,a),f=u===h;return this.movedToCollapsed=this.collapsingUI.areChildrenCollapsed(h),this.collapsingUI.collapsedRowsStash.stash(),this.shiftCollapsibleParentsLocations(c,a,f),this.moveRows(c,a,h),this.dataManager.rewriteCache(),this.moveCellsMeta(c,a),this.collapsingUI.collapsedRowsStash.applyStash(!1),this.hot.runHooks("afterRowMove",t,r,i,n,n&&this.isRowOrderChanged(t,r)),this.hot.render(),this.selectCells(t,i),!1}displayAPICompatibilityWarning(t){let{rows:r,finalIndex:i,dropIndex:n,movePossible:o}=t,s=!1;return _r(n)&&(vr(Gi`Since version 8.0.0 of the Handsontable the 'moveRows' method isn't used for moving rows\x20
      when the NestedRows plugin is enabled. Please use the 'dragRows' method instead.`),this.hot.runHooks("afterRowMove",r,i,n,o,!1),s=!0),s}shouldAllowMoving(t,r){return!(this.dataManager.isParent(t)||this.dataManager.isRowHighestLevel(t)||t===r||r===0)}getBaseParent(t){return this.dataManager.getRowParent(t[0])}getTargetParent(t,r){let i=this.dataManager.getRowParent(t?r-1:r);return i==null&&(i=this.dataManager.getRowParent(r-1)),i}shiftCollapsibleParentsLocations(t,r,i){i||(Math.max(...t)<=r?this.collapsingUI.collapsedRowsStash.shiftStash(t[0],r,-1*t.length):this.collapsingUI.collapsedRowsStash.shiftStash(r,t[0],t.length))}moveRows(t,r,i){let n=r===this.dataManager.getRowIndex(i)+this.dataManager.countChildren(i)+1;this.hot.batchRender(()=>{t.forEach(o=>{this.dataManager.moveRow(o,r,this.movedToCollapsed,n)})})}moveCellsMeta(t,r){let i=[],n=Math.max(...t)<r;t.forEach(o=>{i.push(this.hot.getCellMetaAtRow(o))}),this.hot.spliceCellsMeta(t[0],t.length),this.hot.spliceCellsMeta(r-(n?i.length:0),0,...i)}selectCells(t,r){let i=t.length,n=0,o=0,s=null,a=null;if(this.movedToCollapsed){let l=null;t[i-1]<r?l=this.dataManager.translateTrimmedRow(r-i):l=this.dataManager.translateTrimmedRow(r);let c=this.dataManager.getRowParent(l===null?this.hot.countSourceRows()-1:l-1),d=this.dataManager.getRowIndex(c);n=this.dataManager.untranslateTrimmedRow(d),o=n}else t[i-1]<r?(o=r-1,n=o-i+1):(n=r,o=n+i-1);s=this.hot.selection,a=this.hot.countCols()-1,s.setRangeStart(this.hot._createCellCoords(n,0)),s.setRangeEnd(this.hot._createCellCoords(o,a),!0)}isRowOrderChanged(t,r){return t.some((i,n)=>i-n!==r)}};function r3t(e,t){cnt(e,t),t.add(e)}function snt(e,t,r){cnt(e,t),t.set(e,r)}function cnt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function C7(e,t,r){return t=n3t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n3t(e){var t=o3t(e,"string");return typeof t=="symbol"?t:t+""}function o3t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sD(e,t){return e.get(ws(e,t))}function aD(e,t,r){return e.set(ws(e,t),r),r}function ws(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var qE="nestedRows",dnt=300,ant=qE,s3t="The Nested Rows plugin requires an Array of Objects as a dataset to be provided. The plugin has been disabled.",lD=new WeakMap,t1=new WeakMap,Us=new WeakSet,$E=class extends vi{constructor(){super(...arguments),r3t(this,Us),C7(this,"dataManager",null),C7(this,"headersUI",null),C7(this,"collapsedRowsMap",null),snt(this,lD,!1),snt(this,t1,!1)}static get PLUGIN_KEY(){return qE}static get PLUGIN_PRIORITY(){return dnt}isEnabled(){return!!this.hot.getSettings()[qE]}enablePlugin(){var t=this;this.enabled||(this.collapsedRowsMap=this.hot.rowIndexMapper.registerMap("nestedRows",new qc),this.dataManager=new ent(this,this.hot),this.collapsingUI=new rnt(this,this.hot),this.headersUI=new rD(this,this.hot),this.contextMenuUI=new ont(this,this.hot),this.rowMoveController=new oD(this),this.addHook("afterInit",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return ws(Us,t,_3t).call(t,...i)}),this.addHook("beforeViewRender",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return ws(Us,t,w3t).call(t,...i)}),this.addHook("modifyRowData",function(){return t.onModifyRowData(...arguments)}),this.addHook("modifySourceLength",function(){return t.onModifySourceLength(...arguments)}),this.addHook("beforeDataSplice",function(){return t.onBeforeDataSplice(...arguments)}),this.addHook("filterData",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return ws(Us,t,c3t).call(t,...i)}),this.addHook("afterContextMenuDefaultOptions",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return ws(Us,t,d3t).call(t,...i)}),this.addHook("afterGetRowHeader",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return ws(Us,t,u3t).call(t,...i)}),this.addHook("beforeOnCellMouseDown",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return ws(Us,t,l3t).call(t,...i)}),this.addHook("beforeRemoveRow",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return ws(Us,t,m3t).call(t,...i)}),this.addHook("afterRemoveRow",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return ws(Us,t,f3t).call(t,...i)}),this.addHook("beforeAddChild",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return ws(Us,t,p3t).call(t,...i)}),this.addHook("afterAddChild",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return ws(Us,t,g3t).call(t,...i)}),this.addHook("beforeDetachChild",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return ws(Us,t,b3t).call(t,...i)}),this.addHook("afterDetachChild",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return ws(Us,t,v3t).call(t,...i)}),this.addHook("modifyRowHeaderWidth",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return ws(Us,t,h3t).call(t,...i)}),this.addHook("afterCreateRow",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return ws(Us,t,y3t).call(t,...i)}),this.addHook("beforeRowMove",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return ws(Us,t,a3t).call(t,...i)}),this.addHook("beforeLoadData",r=>ws(Us,this,lnt).call(this,r)),this.addHook("beforeUpdateData",r=>ws(Us,this,lnt).call(this,r)),this.registerShortcuts(),super.enablePlugin())}disablePlugin(){this.hot.rowIndexMapper.unregisterMap("nestedRows"),this.unregisterShortcuts(),super.disablePlugin()}updatePlugin(){this.disablePlugin();let t=this.dataManager.getData();this.enablePlugin(),this.dataManager.updateWithData(t),super.updatePlugin()}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Enter"]],callback:()=>{let{highlight:t}=this.hot.getSelectedRangeLast(),r=this.collapsingUI.translateTrimmedRow(t.row);return this.collapsingUI.areChildrenCollapsed(r)?this.collapsingUI.expandChildren(r):this.collapsingUI.collapseChildren(r),!1},runOnlyIf:()=>{var t,r;let i=(t=this.hot.getSelectedRangeLast())===null||t===void 0?void 0:t.highlight;return i&&((r=this.hot.getSelectedRangeLast())===null||r===void 0?void 0:r.isSingle())&&this.hot.selection.isCellVisible(i)&&i.col===-1&&i.row>=0},group:ant,relativeToGroup:xa,position:"before"})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(ant)}disableCoreAPIModifiers(){aD(t1,this,!0)}enableCoreAPIModifiers(){aD(t1,this,!1)}onModifyRowData(t){if(!sD(t1,this))return this.dataManager.getDataObject(t)}onModifySourceLength(){if(!sD(t1,this))return this.dataManager.countAllRows()}onBeforeDataSplice(t,r,i){return sD(t1,this)||this.dataManager.isRowHighestLevel(t)?!0:(this.dataManager.spliceData(t,r,i),!1)}destroy(){super.destroy()}};function a3t(e,t,r,i){return this.rowMoveController.onBeforeRowMove(e,t,r,i)}function l3t(e,t,r){this.collapsingUI.toggleState(e,t,r)}function c3t(e,t,r){return this.collapsingUI.collapsedRowsStash.stash(),this.collapsingUI.collapsedRowsStash.trimStash(r[0],t),this.collapsingUI.collapsedRowsStash.shiftStash(r[0],null,-1*t),this.dataManager.filterData(e,t,r),aD(lD,this,!0),this.dataManager.getData().slice()}function d3t(e){return this.contextMenuUI.appendOptions(e)}function u3t(e,t){this.headersUI.appendLevelIndicators(e,t)}function h3t(e){return Math.max(this.headersUI.rowHeaderWidthCache,e)}function f3t(e,t,r,i){i!==this.pluginName&&this.hot._registerTimeout(()=>{aD(lD,this,!1),this.headersUI.updateRowHeaderWidth(),this.collapsingUI.collapsedRowsStash.applyStash()})}function m3t(e,t,r){let i=Array.from(r.reduce((n,o)=>{if(this.dataManager.isParent(o)){let s=this.dataManager.getDataObject(o).__children;return n.add(o),Array.isArray(s)&&s.forEach(a=>n.add(this.dataManager.getRowIndex(a))),n}return n.add(o)},new Set));r.length=0,r.push(...i)}function p3t(){this.collapsingUI.collapsedRowsStash.stash()}function g3t(e,t){this.collapsingUI.collapsedRowsStash.shiftStash(this.dataManager.getRowIndex(t)),this.collapsingUI.collapsedRowsStash.applyStash(),this.headersUI.updateRowHeaderWidth()}function b3t(){this.collapsingUI.collapsedRowsStash.stash()}function v3t(e,t,r){this.collapsingUI.collapsedRowsStash.shiftStash(r,null,-1),this.collapsingUI.collapsedRowsStash.applyStash(),this.headersUI.updateRowHeaderWidth()}function y3t(){this.dataManager.rewriteCache()}function _3t(){this.headersUI.updateRowHeaderWidth()}function w3t(e,t){sD(lD,this)&&(t.skipRender=!0)}function lnt(e){if(!_Z(e)){hy(s3t),this.hot.getSettings()[qE]=!1,this.disablePlugin();return}this.dataManager.setData(e),this.dataManager.rewriteCache()}var yDe=ot(Gt(),1);var mDe=ot(Gt(),1),pDe=ot(we(),1),gDe=ot(_M(),1);function x7(e,t,r){return t=C3t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C3t(e){var t=x3t(e,"string");return typeof t=="symbol"?t:t+""}function x3t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var S7=class{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window;x7(this,"rootWindow",void 0),x7(this,"prefix",void 0),x7(this,"savedKeys",[]),this.rootWindow=r,this.prefix=t,this.loadSavedKeys()}saveValue(t,r){this.rootWindow.localStorage.setItem(`${this.prefix}_${t}`,JSON.stringify(r)),this.savedKeys.indexOf(t)===-1&&(this.savedKeys.push(t),this.saveSavedKeys())}loadValue(t,r){let i=typeof t>"u"?r:t,n=this.rootWindow.localStorage.getItem(`${this.prefix}_${i}`);return n===null?void 0:JSON.parse(n)}reset(t){this.rootWindow.localStorage.removeItem(`${this.prefix}_${t}`)}resetAll(){Tt(this.savedKeys,(t,r)=>{this.rootWindow.localStorage.removeItem(`${this.prefix}_${this.savedKeys[r]}`)}),this.clearSavedKeys()}loadSavedKeys(){let t=this.rootWindow.localStorage.getItem(`${this.prefix}__persistentStateKeys`),r=typeof t=="string"?JSON.parse(t):void 0;this.savedKeys=r||[]}saveSavedKeys(){this.rootWindow.localStorage.setItem(`${this.prefix}__persistentStateKeys`,JSON.stringify(this.savedKeys))}clearSavedKeys(){this.savedKeys.length=0,this.saveSavedKeys()}},unt=S7;function S3t(e,t,r){return t=E3t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E3t(e){var t=R3t(e,"string");return typeof t=="symbol"?t:t+""}function R3t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}Le.getSingleton().register("persistentStateSave");Le.getSingleton().register("persistentStateLoad");Le.getSingleton().register("persistentStateReset");var E7="persistentState",hnt=0,GE=class extends vi{constructor(){super(...arguments),S3t(this,"storage",void 0)}static get PLUGIN_KEY(){return E7}static get PLUGIN_PRIORITY(){return hnt}isEnabled(){return!!this.hot.getSettings()[E7]}enablePlugin(){this.enabled||(this.storage||(this.storage=new unt(this.hot.rootElement.id,this.hot.rootWindow)),this.addHook("persistentStateSave",(t,r)=>this.saveValue(t,r)),this.addHook("persistentStateLoad",(t,r)=>this.loadValue(t,r)),this.addHook("persistentStateReset",()=>this.resetValue()),super.enablePlugin())}disablePlugin(){this.storage=void 0,super.disablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}loadValue(t,r){r.value=this.storage.loadValue(t)}saveValue(t,r){this.storage.saveValue(t,r)}resetValue(t){typeof t>"u"?this.storage.resetAll():this.storage.reset(t)}destroy(){super.destroy()}};var RDe=ot(Gt(),1),TDe=ot(we(),1);function T3t(e,t){M3t(e,t),t.add(e)}function M3t(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function R7(e,t,r){return t=A3t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A3t(e){var t=I3t(e,"string");return typeof t=="symbol"?t:t+""}function I3t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fnt(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var cD="search",pnt=190,k3t="htSearchResult",D3t=function(e,t,r,i,n){e.getCellMeta(t,r).isSearchResult=n},O3t=function(e,t,r){return _r(e)||e===null||!e.toLocaleLowerCase||e.length===0||_r(t)||t===null?!1:t.toString().toLocaleLowerCase(r.locale).indexOf(e.toLocaleLowerCase(r.locale))!==-1},T7=new WeakSet,KE=class extends vi{constructor(){super(...arguments),T3t(this,T7),R7(this,"callback",D3t),R7(this,"queryMethod",O3t),R7(this,"searchResultClass",k3t)}static get PLUGIN_KEY(){return cD}static get PLUGIN_PRIORITY(){return pnt}isEnabled(){return this.hot.getSettings()[cD]}enablePlugin(){var t=this;if(this.enabled)return;let r=this.hot.getSettings()[cD];this.updatePluginSettings(r),this.addHook("beforeRenderer",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return fnt(T7,t,mnt).call(t,...n)}),super.enablePlugin()}disablePlugin(){var t=this;let r=function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return fnt(T7,t,mnt).call(t,...n)};this.hot.addHook("beforeRenderer",r),this.hot.addHookOnce("afterViewRender",()=>{this.hot.removeHook("beforeRenderer",r)}),super.disablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}query(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getCallback(),i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.getQueryMethod(),n=this.hot.countRows(),o=this.hot.countCols(),s=[],a=this.hot;return Oe(0,n-1,l=>{Oe(0,o-1,c=>{let d=this.hot.getDataAtCell(l,c),u=this.hot.getCellMeta(l,c),h=u.search.callback||r,m=(u.search.queryMethod||i)(t,d,u);if(m){let g={row:l,col:c,data:d};s.push(g)}h&&h(a,l,c,d,m)})}),s}getCallback(){return this.callback}setCallback(t){this.callback=t}getQueryMethod(){return this.queryMethod}setQueryMethod(t){this.queryMethod=t}getSearchResultClass(){return this.searchResultClass}setSearchResultClass(t){this.searchResultClass=t}updatePluginSettings(t){gi(t)&&(t.searchResultClass&&this.setSearchResultClass(t.searchResultClass),t.queryMethod&&this.setQueryMethod(t.queryMethod),t.callback&&this.setCallback(t.callback))}destroy(){super.destroy()}};function mnt(e,t,r,i,n,o){let s=o.className||[],a=[];typeof s=="string"?a=s.split(" "):a.push(...s),this.isEnabled()&&o.isSearchResult?a.includes(this.searchResultClass)||a.push(`${this.searchResultClass}`):a.includes(this.searchResultClass)&&a.splice(a.indexOf(this.searchResultClass),1),o.className=a.join(" ")}var NDe=ot(Gt(),1),LDe=ot(we(),1);function P3t(e,t){N3t(e,t),t.add(e)}function N3t(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function dD(e,t,r){return t=L3t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L3t(e){var t=F3t(e,"string");return typeof t=="symbol"?t:t+""}function F3t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function M7(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var gnt="touchScroll",bnt=200,uD=new WeakSet,XE=class extends vi{constructor(){super(...arguments),P3t(this,uD),dD(this,"scrollbars",[]),dD(this,"clones",[]),dD(this,"lockedCollection",!1),dD(this,"freezeOverlays",!1)}static get PLUGIN_KEY(){return gnt}static get PLUGIN_PRIORITY(){return bnt}static get SETTING_KEYS(){return!0}isEnabled(){return CM()}enablePlugin(){this.enabled||(this.addHook("afterViewRender",()=>M7(uD,this,H3t).call(this)),this.registerEvents(),super.enablePlugin())}updatePlugin(){this.lockedCollection=!1,super.updatePlugin()}disablePlugin(){super.disablePlugin()}registerEvents(){this.addHook("beforeTouchScroll",()=>M7(uD,this,B3t).call(this)),this.addHook("afterMomentumScroll",()=>M7(uD,this,j3t).call(this))}};function H3t(){if(this.lockedCollection)return;let{topOverlay:e,bottomOverlay:t,inlineStartOverlay:r,topInlineStartCornerOverlay:i,bottomInlineStartCornerOverlay:n}=this.hot.view._wt.wtOverlays;this.lockedCollection=!0,this.scrollbars.length=0,this.scrollbars.push(e),t.clone&&this.scrollbars.push(t),this.scrollbars.push(r),i&&this.scrollbars.push(i),n&&n.clone&&this.scrollbars.push(n),this.clones=[],e.needFullRender&&this.clones.push(e.clone.wtTable.holder.parentNode),t.needFullRender&&this.clones.push(t.clone.wtTable.holder.parentNode),r.needFullRender&&this.clones.push(r.clone.wtTable.holder.parentNode),i&&this.clones.push(i.clone.wtTable.holder.parentNode),n&&n.clone&&this.clones.push(n.clone.wtTable.holder.parentNode)}function B3t(){this.freezeOverlays=!0,Tt(this.clones,e=>{ne(e,"hide-tween")})}function j3t(){this.freezeOverlays=!1,Tt(this.clones,e=>{pi(e,"hide-tween"),ne(e,"show-tween")}),this.hot._registerTimeout(()=>{Tt(this.clones,e=>{pi(e,"show-tween")})},400),Tt(this.scrollbars,e=>{e.refresh(),e.resetFixedPosition()}),this.hot.view._wt.wtOverlays.syncScrollWithMaster()}var WDe=ot(Gt(),1),YDe=ot(we(),1),qDe=ot(yn(),1),$De=ot(_n(),1),GDe=ot(wn(),1),KDe=ot(Cn(),1),XDe=ot(xn(),1),ZDe=ot(Sn(),1),QDe=ot(En(),1);function V3t(e,t){z3t(e,t),t.add(e)}function z3t(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function U3t(e,t,r){return t=W3t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W3t(e){var t=Y3t(e,"string");return typeof t=="symbol"?t:t+""}function Y3t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function q3t(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var ZE="trimRows",ynt=330,vnt=new WeakSet,QE=class extends vi{constructor(){super(...arguments),V3t(this,vnt),U3t(this,"trimmedRowsMap",null)}static get PLUGIN_KEY(){return ZE}static get PLUGIN_PRIORITY(){return ynt}isEnabled(){return!!this.hot.getSettings()[ZE]}enablePlugin(){this.enabled||(this.trimmedRowsMap=this.hot.rowIndexMapper.registerMap("trimRows",new qc),this.trimmedRowsMap.addLocalHook("init",()=>q3t(vnt,this,$3t).call(this)),super.enablePlugin())}updatePlugin(){let t=this.hot.getSettings()[ZE];Array.isArray(t)&&this.hot.batchExecution(()=>{this.trimmedRowsMap.clear(),Tt(t,r=>{this.trimmedRowsMap.setValueAtIndex(r,!0)})},!0),super.updatePlugin()}disablePlugin(){this.hot.rowIndexMapper.unregisterMap("trimRows"),super.disablePlugin()}getTrimmedRows(){return this.trimmedRowsMap.getTrimmedIndexes()}trimRows(t){let r=this.getTrimmedRows(),i=this.isValidConfig(t),n=r;i&&(n=Array.from(new Set(r.concat(t)))),this.hot.runHooks("beforeTrimRow",r,n,i)!==!1&&(i&&this.hot.batchExecution(()=>{Tt(t,s=>{this.trimmedRowsMap.setValueAtIndex(s,!0)})},!0),this.hot.runHooks("afterTrimRow",r,n,i,i&&n.length>r.length))}trimRow(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];this.trimRows(r)}untrimRows(t){let r=this.getTrimmedRows(),i=this.isValidConfig(t),n=r,o=this.trimmedRowsMap.getValues().slice(),s=t.length>0;i&&s&&(Tt(t,l=>{o[l]=!1}),n=cn(o,(l,c,d)=>(c&&l.push(d),l),[])),this.hot.runHooks("beforeUntrimRow",r,n,i&&s)!==!1&&(i&&s&&this.trimmedRowsMap.setValues(o),this.hot.runHooks("afterUntrimRow",r,n,i&&s,i&&n.length<r.length))}untrimRow(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];this.untrimRows(r)}isTrimmed(t){return this.trimmedRowsMap.getValueAtIndex(t)||!1}untrimAll(){this.untrimRows(this.getTrimmedRows())}isValidConfig(t){let r=this.hot.countSourceRows();return t.every(i=>Number.isInteger(i)&&i>=0&&i<r)}destroy(){super.destroy()}};function $3t(){let e=this.hot.getSettings()[ZE];Array.isArray(e)&&this.hot.batchExecution(()=>{Tt(e,t=>{this.trimmedRowsMap.setValueAtIndex(t,!0)})},!0)}var lOe=ot(we(),1),cOe=ot(Cnt(),1);var xnt="undoRedo",Snt="undoRedo";function Ge(e){let t=this;this.instance=e,this.doneActions=[],this.undoneActions=[],this.ignoreNewActions=!1,this.enabled=!1,e.addHook("afterChange",function(i,n){let o=i&&i.length;if(!o||!i.find(l=>{let[,,c,d]=l;return c!==d}))return;let a=()=>{let l=i.reduce((d,u)=>(d.push([...u]),d),[]);Tt(l,d=>{d[1]=e.propToCol(d[1])});let c=o>1?this.getSelected():[[l[0][0],l[0][1]]];return new Ge.ChangeAction(l,c)};t.done(a,n)}),e.addHook("afterCreateRow",(i,n,o)=>{t.done(()=>new Ge.CreateRowAction(i,n),o)});let r=(i,n,o,s)=>{let a=["visualRow","visualCol","row","col","prop"],l=a.length,c=[];return Oe(o,s,d=>{Oe(i,n,u=>{let h=e.getCellMeta(u,d);if(Object.keys(h).length!==l){let f=Object.fromEntries(Object.entries(h).filter(m=>{let[g]=m;return a.includes(g)===!1}));c.push([h.visualRow,h.visualCol,f])}})}),c};e.addHook("beforeRemoveRow",(i,n,o,s)=>{let a=()=>{let l=e.toPhysicalRow(i),c=l+n-1,d=jo(t.instance.getSourceData(l,0,l+n-1,t.instance.countSourceCols()-1));return new Ge.RemoveRowAction(l,d,e.getSettings().fixedRowsBottom,e.getSettings().fixedRowsTop,e.rowIndexMapper.getIndexesSequence(),r(l,c,0,e.countCols()-1))};t.done(a,s)}),e.addHook("afterCreateCol",(i,n,o)=>{t.done(()=>new Ge.CreateColumnAction(i,n),o)}),e.addHook("beforeRemoveCol",(i,n,o,s)=>{let a=()=>{let l=t.instance.getSourceDataArray(),c=(t.instance.countCols()+i)%t.instance.countCols(),d=c+n-1,u=[],h=[],f=[];Oe(l.length-1,p=>{let b=[],_=l[p];Oe(c,d,E=>{b.push(_[e.toPhysicalColumn(E)])}),u.push(b)}),Oe(n-1,p=>{f.push(e.toPhysicalColumn(c+p))}),Array.isArray(e.getSettings().colHeaders)&&Oe(n-1,p=>{h.push(e.getSettings().colHeaders[e.toPhysicalColumn(c+p)]||null)});let m=e.columnIndexMapper.getIndexesSequence(),g=e.rowIndexMapper.getIndexesSequence();return new Ge.RemoveColumnAction(c,f,u,h,m,g,e.getSettings().fixedColumnsStart,r(0,e.countRows(),c,d))};t.done(a,s)}),e.addHook("beforeCellAlignment",(i,n,o,s)=>{t.done(()=>new Ge.CellAlignmentAction(i,n,o,s))}),e.addHook("beforeFilter",i=>{t.done(()=>new Ge.FiltersAction(i))}),e.addHook("beforeRowMove",(i,n)=>{i!==!1&&t.done(()=>new Ge.RowMoveAction(i,n))}),e.addHook("beforeColumnMove",(i,n)=>{i!==!1&&t.done(()=>new Ge.ColumnMoveAction(i,n))}),e.addHook("beforeMergeCells",(i,n)=>{n||t.done(()=>new Ge.MergeCellsAction(e,i))}),e.addHook("afterUnmergeCells",(i,n)=>{n||t.done(()=>new Ge.UnmergeCellsAction(e,i))}),e.addHook("afterInit",()=>{t.init()})}Ge.prototype.done=function(e,t){if(this.ignoreNewActions||t==="UndoRedo.undo"||t==="UndoRedo.redo"||t==="auto")return;let i=this.doneActions.slice();if(this.instance.runHooks("beforeUndoStackChange",i,t)===!1)return;let o=e(),s=this.undoneActions.slice();this.doneActions.push(o),this.instance.runHooks("afterUndoStackChange",i,this.doneActions.slice()),this.instance.runHooks("beforeRedoStackChange",s),this.undoneActions.length=0,this.instance.runHooks("afterRedoStackChange",s,this.undoneActions.slice())};Ge.prototype.undo=function(){if(this.isUndoAvailable()){let e=this.doneActions.slice();this.instance.runHooks("beforeUndoStackChange",e);let t=this.doneActions.pop();this.instance.runHooks("afterUndoStackChange",e,this.doneActions.slice());let r=jo(t);if(this.instance.runHooks("beforeUndo",r)===!1)return;this.ignoreNewActions=!0;let n=this,o=this.undoneActions.slice();this.instance.runHooks("beforeRedoStackChange",o),t.undo(this.instance,()=>{n.ignoreNewActions=!1,n.undoneActions.push(t)}),this.instance.runHooks("afterRedoStackChange",o,this.undoneActions.slice()),this.instance.runHooks("afterUndo",r)}};Ge.prototype.redo=function(){if(this.isRedoAvailable()){let e=this.undoneActions.slice();this.instance.runHooks("beforeRedoStackChange",e);let t=this.undoneActions.pop();this.instance.runHooks("afterRedoStackChange",e,this.undoneActions.slice());let r=jo(t);if(this.instance.runHooks("beforeRedo",r)===!1)return;this.ignoreNewActions=!0;let n=this,o=this.doneActions.slice();this.instance.runHooks("beforeUndoStackChange",o),t.redo(this.instance,()=>{n.ignoreNewActions=!1,n.doneActions.push(t)}),this.instance.runHooks("afterUndoStackChange",o,this.doneActions.slice()),this.instance.runHooks("afterRedo",r)}};Ge.prototype.isUndoAvailable=function(){return this.doneActions.length>0};Ge.prototype.isRedoAvailable=function(){return this.undoneActions.length>0};Ge.prototype.clear=function(){this.doneActions.length=0,this.undoneActions.length=0};Ge.prototype.isEnabled=function(){return this.enabled};Ge.prototype.enable=function(){if(this.isEnabled())return;let e=this.instance;this.enabled=!0,t4t(e),this.registerShortcuts(),e.addHook("afterChange",Ent)};Ge.prototype.disable=function(){if(!this.isEnabled())return;let e=this.instance;this.enabled=!1,e4t(e),this.unregisterShortcuts(),e.removeHook("afterChange",Ent)};Ge.prototype.destroy=function(){this.clear(),this.instance=null,this.doneActions=null,this.undoneActions=null};Ge.Action=function(){};Ge.Action.prototype.undo=function(){};Ge.Action.prototype.redo=function(){};Ge.ChangeAction=function(e,t){this.changes=e,this.selected=t,this.actionType="change"};kd(Ge.ChangeAction,Ge.Action);Ge.ChangeAction.prototype.undo=function(e,t){let r=jo(this.changes),i=e.countEmptyRows(!0),n=e.countEmptyCols(!0);for(let s=0,a=r.length;s<a;s++)r[s].splice(3,1);e.addHookOnce("afterChange",t),e.setDataAtCell(r,null,null,"UndoRedo.undo");for(let s=0,a=r.length;s<a;s++){let[l,c]=r[s];e.getSettings().minSpareRows&&l+1+e.getSettings().minSpareRows===e.countRows()&&i===e.getSettings().minSpareRows&&(e.alter("remove_row",parseInt(l+1,10),e.getSettings().minSpareRows),e.undoRedo.doneActions.pop()),e.getSettings().minSpareCols&&c+1+e.getSettings().minSpareCols===e.countCols()&&n===e.getSettings().minSpareCols&&(e.alter("remove_col",parseInt(c+1,10),e.getSettings().minSpareCols),e.undoRedo.doneActions.pop())}let o=e.getSelectedLast();if(o!==void 0){let[s,a]=r[0],[l,c]=o,d=e.view.getFirstFullyVisibleRow(),u=e.view.getFirstFullyVisibleColumn(),h=s>=d,f=a>=u;if((h&&f)===!1&&(l!==s||c!==a)===!0){let p={row:s,col:a};h===!1&&(p.verticalSnap="top"),f===!1&&(p.horizontalSnap="start"),e.scrollViewportTo(p)}}e.selectCells(this.selected,!1,!1)};Ge.ChangeAction.prototype.redo=function(e,t){let r=jo(this.changes);for(let i=0,n=r.length;i<n;i++)r[i].splice(2,1);e.addHookOnce("afterChange",t),e.setDataAtCell(r,null,null,"UndoRedo.redo"),this.selected&&e.selectCells(this.selected,!1,!1)};Ge.CreateRowAction=function(e,t){this.index=e,this.amount=t,this.actionType="insert_row"};kd(Ge.CreateRowAction,Ge.Action);Ge.CreateRowAction.prototype.undo=function(e,t){let r=e.countRows(),i=e.getSettings().minSpareRows;this.index>=r&&this.index-i<r&&(this.index-=i),e.addHookOnce("afterRemoveRow",t),e.alter("remove_row",this.index,this.amount,"UndoRedo.undo")};Ge.CreateRowAction.prototype.redo=function(e,t){e.addHookOnce("afterCreateRow",t),e.alter("insert_row_above",this.index,this.amount,"UndoRedo.redo")};Ge.RemoveRowAction=function(e,t,r,i,n,o){this.index=e,this.data=t,this.actionType="remove_row",this.fixedRowsBottom=r,this.fixedRowsTop=i,this.rowIndexesSequence=n,this.removedCellMetas=o};kd(Ge.RemoveRowAction,Ge.Action);Ge.RemoveRowAction.prototype.undo=function(e,t){let r=e.getSettings(),i=[];r.fixedRowsBottom=this.fixedRowsBottom,r.fixedRowsTop=this.fixedRowsTop,this.data.forEach((n,o)=>{Object.keys(n).forEach(s=>{let a=parseInt(s,10);i.push([this.index+o,isNaN(a)?s:a,n[s]])})}),e.alter("insert_row_above",this.index,this.data.length,"UndoRedo.undo"),this.removedCellMetas.forEach(n=>{let[o,s,a]=n;e.setCellMetaObject(o,s,a)}),e.addHookOnce("afterViewRender",t),e.setSourceDataAtCell(i,null,null,"UndoRedo.undo"),e.rowIndexMapper.setIndexesSequence(this.rowIndexesSequence)};Ge.RemoveRowAction.prototype.redo=function(e,t){e.addHookOnce("afterRemoveRow",t),e.alter("remove_row",this.index,this.data.length,"UndoRedo.redo")};Ge.CreateColumnAction=function(e,t){this.index=e,this.amount=t,this.actionType="insert_col"};kd(Ge.CreateColumnAction,Ge.Action);Ge.CreateColumnAction.prototype.undo=function(e,t){e.addHookOnce("afterRemoveCol",t),e.alter("remove_col",this.index,this.amount,"UndoRedo.undo")};Ge.CreateColumnAction.prototype.redo=function(e,t){e.addHookOnce("afterCreateCol",t),e.alter("insert_col_start",this.index,this.amount,"UndoRedo.redo")};Ge.RemoveColumnAction=function(e,t,r,i,n,o,s,a){this.index=e,this.indexes=t,this.data=r,this.amount=this.data[0].length,this.headers=i,this.columnPositions=n.slice(0),this.rowPositions=o.slice(0),this.actionType="remove_col",this.fixedColumnsStart=s,this.removedCellMetas=a};kd(Ge.RemoveColumnAction,Ge.Action);Ge.RemoveColumnAction.prototype.undo=function(e,t){let r=e.getSettings();r.fixedColumnsStart=this.fixedColumnsStart;let i=this.indexes.slice(0).sort(),n=(c,d,u)=>u[this.indexes.indexOf(i[d])],o=this.data.length,s=[];for(let c=0;c<o;c++)s.push(xi(this.data[c],n));let a=xi(this.headers,n),l=[];e.alter("insert_col_start",this.indexes[0],this.indexes.length,"UndoRedo.undo"),Tt(e.getSourceDataArray(),(c,d)=>{Tt(i,(u,h)=>{c[u]=s[d][h],l.push([d,u,c[u]])})}),e.setSourceDataAtCell(l,void 0,void 0,"UndoRedo.undo"),typeof this.headers<"u"&&Tt(a,(c,d)=>{e.getSettings().colHeaders[i[d]]=c}),this.removedCellMetas.forEach(c=>{let[d,u,h]=c;e.setCellMetaObject(d,u,h)}),e.batchExecution(()=>{e.rowIndexMapper.setIndexesSequence(this.rowPositions),e.columnIndexMapper.setIndexesSequence(this.columnPositions)},!0),e.addHookOnce("afterViewRender",t),e.render()};Ge.RemoveColumnAction.prototype.redo=function(e,t){e.addHookOnce("afterRemoveCol",t),e.alter("remove_col",this.index,this.amount,"UndoRedo.redo")};Ge.CellAlignmentAction=function(e,t,r,i){this.stateBefore=e,this.range=t,this.type=r,this.alignment=i};Ge.CellAlignmentAction.prototype.undo=function(e,t){Tt(this.range,r=>{r.forAll((i,n)=>{i>=0&&n>=0&&e.setCellMeta(i,n,"className",this.stateBefore[i][n]||" htLeft")})}),e.addHookOnce("afterViewRender",t),e.render()};Ge.CellAlignmentAction.prototype.redo=function(e,t){oh(this.range,this.type,this.alignment,(r,i)=>e.getCellMeta(r,i),(r,i,n,o)=>e.setCellMeta(r,i,n,o)),e.addHookOnce("afterViewRender",t),e.render()};Ge.FiltersAction=function(e){this.conditionsStack=e,this.actionType="filter"};kd(Ge.FiltersAction,Ge.Action);Ge.FiltersAction.prototype.undo=function(e,t){let r=e.getPlugin("filters");e.addHookOnce("afterViewRender",t),r.conditionCollection.importAllConditions(this.conditionsStack.slice(0,this.conditionsStack.length-1)),r.filter()};Ge.FiltersAction.prototype.redo=function(e,t){let r=e.getPlugin("filters");e.addHookOnce("afterViewRender",t),r.conditionCollection.importAllConditions(this.conditionsStack),r.filter()};var A7=class extends Ge.Action{constructor(t,r){super(),this.cellRange=r;let i=this.cellRange.getTopStartCorner(),n=this.cellRange.getBottomEndCorner();this.rangeData=t.getData(i.row,i.col,n.row,n.col)}undo(t,r){let i=t.getPlugin("mergeCells");t.addHookOnce("afterViewRender",r),i.unmergeRange(this.cellRange,!0);let n=this.cellRange.getTopStartCorner();t.populateFromArray(n.row,n.col,this.rangeData,void 0,void 0,"MergeCells")}redo(t,r){let i=t.getPlugin("mergeCells");t.addHookOnce("afterViewRender",r),i.mergeRange(this.cellRange)}};Ge.MergeCellsAction=A7;var I7=class extends Ge.Action{constructor(t,r){super(),this.cellRange=r}undo(t,r){let i=t.getPlugin("mergeCells");t.addHookOnce("afterViewRender",r),i.mergeRange(this.cellRange,!0)}redo(t,r){let i=t.getPlugin("mergeCells");t.addHookOnce("afterViewRender",r),i.unmergeRange(this.cellRange,!0),t.render()}};Ge.UnmergeCellsAction=I7;Ge.RowMoveAction=function(e,t){this.rows=e.slice(),this.finalRowIndex=t,this.actionType="row_move"};kd(Ge.RowMoveAction,Ge.Action);Ge.RowMoveAction.prototype.undo=function(e,t){let r=e.getPlugin("manualRowMove");e.addHookOnce("afterViewRender",t),rE(this.rows,this.finalRowIndex,e.rowIndexMapper.getNumberOfIndexes()).reverse().forEach(n=>{let{from:o,to:s}=n;o<s&&(s-=1),r.moveRow(s,o)}),e.render(),e.deselectCell(),e.selectRows(this.rows[0],this.rows[0]+this.rows.length-1)};Ge.RowMoveAction.prototype.redo=function(e,t){let r=e.getPlugin("manualRowMove");e.addHookOnce("afterViewRender",t),r.moveRows(this.rows.slice(),this.finalRowIndex),e.render(),e.deselectCell(),e.selectRows(this.finalRowIndex,this.finalRowIndex+this.rows.length-1)};Ge.ColumnMoveAction=function(e,t){this.columns=e.slice(),this.finalColumnIndex=t,this.actionType="col_move"};kd(Ge.ColumnMoveAction,Ge.Action);Ge.ColumnMoveAction.prototype.undo=function(e,t){let r=e.getPlugin("manualColumnMove");e.addHookOnce("afterViewRender",t),rE(this.columns,this.finalColumnIndex,e.columnIndexMapper.getNumberOfIndexes()).reverse().forEach(n=>{let{from:o,to:s}=n;o<s&&(s-=1),r.moveColumn(s,o)}),e.render(),e.deselectCell(),e.selectColumns(this.columns[0],this.columns[0]+this.columns.length-1)};Ge.ColumnMoveAction.prototype.redo=function(e,t){let r=e.getPlugin("manualColumnMove");e.addHookOnce("afterViewRender",t),r.moveColumns(this.columns.slice(),this.finalColumnIndex),e.render(),e.deselectCell(),e.selectColumns(this.finalColumnIndex,this.finalColumnIndex+this.columns.length-1)};Ge.prototype.init=function(){let e=this.instance.getSettings().undo,t=typeof e>"u"||e;this.instance.undoRedo||(this.instance.undoRedo=this),t?this.instance.undoRedo.enable():this.instance.undoRedo.disable()};Ge.prototype.registerShortcuts=function(){let t=this.instance.getShortcutManager().getContext("grid"),i={runOnlyIf:n=>!n.altKey,group:xnt};t.addShortcuts([{keys:[["Control/Meta","z"]],callback:()=>{this.undo()}},{keys:[["Control/Meta","y"],["Control/Meta","Shift","z"]],callback:()=>{this.redo()}}],i)};Ge.prototype.unregisterShortcuts=function(){this.instance.getShortcutManager().getContext("grid").removeShortcutsByGroup(xnt)};function Ent(e,t){let r=this;if(t==="loadData")return r.undoRedo.clear()}function t4t(e){e.undo=function(){return e.undoRedo.undo()},e.redo=function(){return e.undoRedo.redo()},e.isUndoAvailable=function(){return e.undoRedo.isUndoAvailable()},e.isRedoAvailable=function(){return e.undoRedo.isRedoAvailable()},e.clearUndo=function(){return e.undoRedo.clear()}}function e4t(e){delete e.undo,delete e.redo,delete e.isUndoAvailable,delete e.isRedoAvailable,delete e.clearUndo}var JE=Le.getSingleton();JE.add("afterUpdateSettings",function(){var e;(e=this.getPlugin("undoRedo"))===null||e===void 0||e.init()});JE.register("beforeUndo");JE.register("afterUndo");JE.register("beforeRedo");JE.register("afterRedo");Ge.PLUGIN_KEY=Snt;Ge.SETTING_KEYS=!0;var k7=Ge;function Rnt(){Jr(Z2),Jr(J2),Jr(iS),Jr(rS),Jr(sS),Jr(M0),Jr(pS),Jr(vS),Jr(y_),Jr(IS),Jr(DS),Jr(OS),Jr(T_),Jr(NS),Jr(eE),Jr(sE),Jr(lE),Jr(dE),Jr(uE),Jr(fE),Jr(vE),Jr(yE),Jr(EE),Jr(kE),Jr(OE),Jr(PE),Jr(WE),Jr($E),Jr(GE),Jr(KE),Jr(XE),Jr(QE),Jr(k7)}function hD(){VJ(),qJ(),XJ(),QJ(),Rnt()}var i4t=["mat-calendar-body",""];function r4t(e,t){return this._trackRow(t)}var Pnt=(e,t)=>t.id;function n4t(e,t){if(e&1&&(ut(0,"tr",0)(1,"td",3),gt(2),dt()()),e&2){let r=ki();te(),pa("padding-top",r._cellPadding)("padding-bottom",r._cellPadding),Yi("colspan",r.numCols),te(),ur(" ",r.label," ")}}function o4t(e,t){if(e&1&&(ut(0,"td",3),gt(1),dt()),e&2){let r=ki(2);pa("padding-top",r._cellPadding)("padding-bottom",r._cellPadding),Yi("colspan",r._firstRowOffset),te(),ur(" ",r._firstRowOffset>=r.labelMinRequiredCells?r.label:""," ")}}function s4t(e,t){if(e&1){let r=Ho();ut(0,"td",6)(1,"button",7),Ke("click",function(n){let o=cr(r).$implicit,s=ki(2);return dr(s._cellClicked(o,n))})("focus",function(n){let o=cr(r).$implicit,s=ki(2);return dr(s._emitActiveDateChange(o,n))}),ut(2,"span",8),gt(3),dt(),He(4,"span",9),dt()()}if(e&2){let r=t.$implicit,i=t.$index,n=ki().$index,o=ki();pa("width",o._cellWidth)("padding-top",o._cellPadding)("padding-bottom",o._cellPadding),Yi("data-mat-row",n)("data-mat-col",i),te(),Vi("mat-calendar-body-disabled",!r.enabled)("mat-calendar-body-active",o._isActiveCell(n,i))("mat-calendar-body-range-start",o._isRangeStart(r.compareValue))("mat-calendar-body-range-end",o._isRangeEnd(r.compareValue))("mat-calendar-body-in-range",o._isInRange(r.compareValue))("mat-calendar-body-comparison-bridge-start",o._isComparisonBridgeStart(r.compareValue,n,i))("mat-calendar-body-comparison-bridge-end",o._isComparisonBridgeEnd(r.compareValue,n,i))("mat-calendar-body-comparison-start",o._isComparisonStart(r.compareValue))("mat-calendar-body-comparison-end",o._isComparisonEnd(r.compareValue))("mat-calendar-body-in-comparison-range",o._isInComparisonRange(r.compareValue))("mat-calendar-body-preview-start",o._isPreviewStart(r.compareValue))("mat-calendar-body-preview-end",o._isPreviewEnd(r.compareValue))("mat-calendar-body-in-preview",o._isInPreview(r.compareValue)),Me("ngClass",r.cssClasses)("tabindex",o._isActiveCell(n,i)?0:-1),Yi("aria-label",r.ariaLabel)("aria-disabled",!r.enabled||null)("aria-pressed",o._isSelected(r.compareValue))("aria-current",o.todayValue===r.compareValue?"date":null)("aria-describedby",o._getDescribedby(r.compareValue)),te(),Vi("mat-calendar-body-selected",o._isSelected(r.compareValue))("mat-calendar-body-comparison-identical",o._isComparisonIdentical(r.compareValue))("mat-calendar-body-today",o.todayValue===r.compareValue),te(),ur(" ",r.displayValue," ")}}function a4t(e,t){if(e&1&&(ut(0,"tr",1),Xi(1,o4t,2,6,"td",4),z1(2,s4t,5,48,"td",5,Pnt),dt()),e&2){let r=t.$implicit,i=t.$index,n=ki();te(),kn(i===0&&n._firstRowOffset?1:-1),te(),U1(r)}}function l4t(e,t){if(e&1&&(ut(0,"th",2)(1,"span",6),gt(2),dt(),ut(3,"span",3),gt(4),dt()()),e&2){let r=t.$implicit;te(2),_o(r.long),te(2),_o(r.narrow)}}var c4t=["*"];function d4t(e,t){}function u4t(e,t){if(e&1){let r=Ho();ut(0,"mat-month-view",4),Vb("activeDateChange",function(n){cr(r);let o=ki();return jb(o.activeDate,n)||(o.activeDate=n),dr(n)}),Ke("_userSelection",function(n){cr(r);let o=ki();return dr(o._dateSelected(n))})("dragStarted",function(n){cr(r);let o=ki();return dr(o._dragStarted(n))})("dragEnded",function(n){cr(r);let o=ki();return dr(o._dragEnded(n))}),dt()}if(e&2){let r=ki();Bb("activeDate",r.activeDate),Me("selected",r.selected)("dateFilter",r.dateFilter)("maxDate",r.maxDate)("minDate",r.minDate)("dateClass",r.dateClass)("comparisonStart",r.comparisonStart)("comparisonEnd",r.comparisonEnd)("startDateAccessibleName",r.startDateAccessibleName)("endDateAccessibleName",r.endDateAccessibleName)("activeDrag",r._activeDrag)}}function h4t(e,t){if(e&1){let r=Ho();ut(0,"mat-year-view",5),Vb("activeDateChange",function(n){cr(r);let o=ki();return jb(o.activeDate,n)||(o.activeDate=n),dr(n)}),Ke("monthSelected",function(n){cr(r);let o=ki();return dr(o._monthSelectedInYearView(n))})("selectedChange",function(n){cr(r);let o=ki();return dr(o._goToDateInView(n,"month"))}),dt()}if(e&2){let r=ki();Bb("activeDate",r.activeDate),Me("selected",r.selected)("dateFilter",r.dateFilter)("maxDate",r.maxDate)("minDate",r.minDate)("dateClass",r.dateClass)}}function f4t(e,t){if(e&1){let r=Ho();ut(0,"mat-multi-year-view",6),Vb("activeDateChange",function(n){cr(r);let o=ki();return jb(o.activeDate,n)||(o.activeDate=n),dr(n)}),Ke("yearSelected",function(n){cr(r);let o=ki();return dr(o._yearSelectedInMultiYearView(n))})("selectedChange",function(n){cr(r);let o=ki();return dr(o._goToDateInView(n,"year"))}),dt()}if(e&2){let r=ki();Bb("activeDate",r.activeDate),Me("selected",r.selected)("dateFilter",r.dateFilter)("maxDate",r.maxDate)("minDate",r.minDate)("dateClass",r.dateClass)}}function m4t(e,t){}var p4t=["button"],g4t=[[["","matDatepickerToggleIcon",""]]],b4t=["[matDatepickerToggleIcon]"];function v4t(e,t){e&1&&(Vh(),ut(0,"svg",2),He(1,"path",3),dt())}var oR=(()=>{let t=class t{constructor(){this.changes=new Je,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(i,n){return`${i} \u2013 ${n}`}formatYearRangeLabel(i,n){return`${i} to ${n}`}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),y4t=0,iR=class{constructor(t,r,i,n,o={},s=t,a){this.value=t,this.displayValue=r,this.ariaLabel=i,this.enabled=n,this.cssClasses=o,this.compareValue=s,this.rawValue=a,this.id=y4t++}},_4t=1,Tnt=ul({passive:!1,capture:!0}),$p=ul({passive:!0,capture:!0}),fD=ul({passive:!0}),n1=(()=>{let t=class t{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(i,n){this._elementRef=i,this._ngZone=n,this._platform=pe(jr),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new ai,this.previewChange=new ai,this.activeDateChange=new ai,this.dragStarted=new ai,this.dragEnded=new ai,this._didDragSinceMouseDown=!1,this._injector=pe(mn),this._trackRow=o=>o,this._enterHandler=o=>{if(this._skipNextFocus&&o.type==="focus"){this._skipNextFocus=!1;return}if(o.target&&this.isRange){let s=this._getCellFromElement(o.target);s&&this._ngZone.run(()=>this.previewChange.emit({value:s.enabled?s:null,event:o}))}},this._touchmoveHandler=o=>{if(!this.isRange)return;let s=Mnt(o),a=s?this._getCellFromElement(s):null;s!==o.target&&(this._didDragSinceMouseDown=!0),O7(o.target)&&o.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:a?.enabled?a:null,event:o}))},this._leaveHandler=o=>{this.previewEnd!==null&&this.isRange&&(o.type!=="blur"&&(this._didDragSinceMouseDown=!0),o.target&&this._getCellFromElement(o.target)&&!(o.relatedTarget&&this._getCellFromElement(o.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:o})))},this._mousedownHandler=o=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;let s=o.target&&this._getCellFromElement(o.target);!s||!this._isInRange(s.compareValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:s.rawValue,event:o})})},this._mouseupHandler=o=>{if(!this.isRange)return;let s=O7(o.target);if(!s){this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:o})});return}s.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{let a=this._getCellFromElement(s);this.dragEnded.emit({value:a?.rawValue??null,event:o})})},this._touchendHandler=o=>{let s=Mnt(o);s&&this._mouseupHandler({target:s})},this._id=`mat-calendar-body-${_4t++}`,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,n.runOutsideAngular(()=>{let o=i.nativeElement;o.addEventListener("touchmove",this._touchmoveHandler,Tnt),o.addEventListener("mouseenter",this._enterHandler,$p),o.addEventListener("focus",this._enterHandler,$p),o.addEventListener("mouseleave",this._leaveHandler,$p),o.addEventListener("blur",this._leaveHandler,$p),o.addEventListener("mousedown",this._mousedownHandler,fD),o.addEventListener("touchstart",this._mousedownHandler,fD),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(i,n){this._didDragSinceMouseDown||i.enabled&&this.selectedValueChange.emit({value:i.value,event:n})}_emitActiveDateChange(i,n){i.enabled&&this.activeDateChange.emit({value:i.value,event:n})}_isSelected(i){return this.startValue===i||this.endValue===i}ngOnChanges(i){let n=i.numCols,{rows:o,numCols:s}=this;(i.rows||n)&&(this._firstRowOffset=o&&o.length&&o[0].length?s-o[0].length:0),(i.cellAspectRatio||n||!this._cellPadding)&&(this._cellPadding=`${50*this.cellAspectRatio/s}%`),(n||!this._cellWidth)&&(this._cellWidth=`${100/s}%`)}ngOnDestroy(){let i=this._elementRef.nativeElement;i.removeEventListener("touchmove",this._touchmoveHandler,Tnt),i.removeEventListener("mouseenter",this._enterHandler,$p),i.removeEventListener("focus",this._enterHandler,$p),i.removeEventListener("mouseleave",this._leaveHandler,$p),i.removeEventListener("blur",this._leaveHandler,$p),i.removeEventListener("mousedown",this._mousedownHandler,fD),i.removeEventListener("touchstart",this._mousedownHandler,fD),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(i,n){let o=i*this.numCols+n;return i&&(o-=this._firstRowOffset),o==this.activeCell}_focusActiveCell(i=!0){ma(()=>{setTimeout(()=>{let n=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");n&&(i||(this._skipNextFocus=!0),n.focus())})},{injector:this._injector})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(i){return P7(i,this.startValue,this.endValue)}_isRangeEnd(i){return N7(i,this.startValue,this.endValue)}_isInRange(i){return L7(i,this.startValue,this.endValue,this.isRange)}_isComparisonStart(i){return P7(i,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(i,n,o){if(!this._isComparisonStart(i)||this._isRangeStart(i)||!this._isInRange(i))return!1;let s=this.rows[n][o-1];if(!s){let a=this.rows[n-1];s=a&&a[a.length-1]}return s&&!this._isRangeEnd(s.compareValue)}_isComparisonBridgeEnd(i,n,o){if(!this._isComparisonEnd(i)||this._isRangeEnd(i)||!this._isInRange(i))return!1;let s=this.rows[n][o+1];if(!s){let a=this.rows[n+1];s=a&&a[0]}return s&&!this._isRangeStart(s.compareValue)}_isComparisonEnd(i){return N7(i,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(i){return L7(i,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(i){return this.comparisonStart===this.comparisonEnd&&i===this.comparisonStart}_isPreviewStart(i){return P7(i,this.previewStart,this.previewEnd)}_isPreviewEnd(i){return N7(i,this.previewStart,this.previewEnd)}_isInPreview(i){return L7(i,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(i){return this.isRange?this.startValue===i&&this.endValue===i?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===i?this._startDateLabelId:this.endValue===i?this._endDateLabelId:null:null}_getCellFromElement(i){let n=O7(i);if(n){let o=n.getAttribute("data-mat-row"),s=n.getAttribute("data-mat-col");if(o&&s)return this.rows[parseInt(o)][parseInt(s)]}return null}};t.\u0275fac=function(n){return new(n||t)(Pt(hi),Pt(ui))},t.\u0275cmp=We({type:t,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],standalone:!0,features:[er,li],attrs:i4t,decls:7,vars:5,consts:[["aria-hidden","true"],["role","row"],[1,"mat-calendar-body-hidden-label",3,"id"],[1,"mat-calendar-body-label"],[1,"mat-calendar-body-label",3,"paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"click","focus","ngClass","tabindex"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(n,o){n&1&&(Xi(0,n4t,3,6,"tr",0),z1(1,a4t,4,1,"tr",1,r4t,!0),ut(3,"span",2),gt(4),dt(),ut(5,"span",2),gt(6),dt()),n&2&&(kn(o._firstRowOffset<o.labelMinRequiredCells?0:-1),te(),U1(o.rows),te(2),Me("id",o._startDateLabelId),te(),ur(" ",o.startDateAccessibleName,`
`),te(),Me("id",o._endDateLabelId),te(),ur(" ",o.endDateAccessibleName,`
`))},dependencies:[q1],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color, var(--mat-app-primary))}.mat-calendar-body-label{height:0;line-height:0;text-align:start;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size, var(--mat-app-title-small-size));font-weight:var(--mat-datepicker-calendar-body-label-text-weight, var(--mat-app-title-small-weight));color:var(--mat-datepicker-calendar-body-label-text-color, var(--mat-app-on-surface))}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-app-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-app-body-medium-size))}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color, var(--mat-app-primary))}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color)}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color, var(--mat-app-on-surface));border-color:var(--mat-datepicker-calendar-date-outline-color)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color)}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color)}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color, var(--mat-app-primary));color:var(--mat-datepicker-calendar-date-selected-state-text-color, var(--mat-app-on-primary))}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color)}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color, var(--mat-app-primary))}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-app-primary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container))}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-app-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container)) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-app-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container)) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color, var(--mat-app-secondary-container))}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color, var(--mat-app-secondary))}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}'],encapsulation:2,changeDetection:0});let e=t;return e})();function D7(e){return e?.nodeName==="TD"}function O7(e){let t;return D7(e)?t=e:D7(e.parentNode)?t=e.parentNode:D7(e.parentNode?.parentNode)&&(t=e.parentNode.parentNode),t?.getAttribute("data-mat-row")!=null?t:null}function P7(e,t,r){return r!==null&&t!==r&&e<r&&e===t}function N7(e,t,r){return t!==null&&t!==r&&e>=t&&e===r}function L7(e,t,r,i){return i&&t!==null&&r!==null&&t!==r&&e>=t&&e<=r}function Mnt(e){let t=e.changedTouches[0];return document.elementFromPoint(t.clientX,t.clientY)}var od=class{constructor(t,r){this.start=t,this.end=r}},rR=(()=>{let t=class t{constructor(i,n){this.selection=i,this._adapter=n,this._selectionChanged=new Je,this.selectionChanged=this._selectionChanged,this.selection=i}updateSelection(i,n){let o=this.selection;this.selection=i,this._selectionChanged.next({selection:i,source:n,oldValue:o})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(i){return this._adapter.isDateInstance(i)&&this._adapter.isValid(i)}};t.\u0275fac=function(n){Uh()},t.\u0275prov=_e({token:t,factory:t.\u0275fac});let e=t;return e})(),w4t=(()=>{let t=class t extends rR{constructor(i){super(null,i)}add(i){super.updateSelection(i,this)}isValid(){return this.selection!=null&&this._isValidDateInstance(this.selection)}isComplete(){return this.selection!=null}clone(){let i=new t(this._adapter);return i.updateSelection(this.selection,this),i}};t.\u0275fac=function(n){return new(n||t)(ee(Ds))},t.\u0275prov=_e({token:t,factory:t.\u0275fac});let e=t;return e})();function C4t(e,t){return e||new w4t(t)}var Nnt={provide:rR,deps:[[new lm,new Sg,rR],Ds],useFactory:C4t};var Lnt=new Se("MAT_DATE_RANGE_SELECTION_STRATEGY");var F7=7,x4t=0,Ant=(()=>{let t=class t{get activeDate(){return this._activeDate}set activeDate(i){let n=this._activeDate,o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(o,this.minDate,this.maxDate),this._hasSameMonthAndYear(n,this._activeDate)||this._init()}get selected(){return this._selected}set selected(i){i instanceof od?this._selected=i:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(i){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get maxDate(){return this._maxDate}set maxDate(i){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}constructor(i,n,o,s,a){this._changeDetectorRef=i,this._dateFormats=n,this._dateAdapter=o,this._dir=s,this._rangeStrategy=a,this._rerenderSubscription=Ro.EMPTY,this.activeDrag=null,this.selectedChange=new ai,this._userSelection=new ai,this.dragStarted=new ai,this.dragEnded=new ai,this.activeDateChange=new ai,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Ts(null)).subscribe(()=>this._init())}ngOnChanges(i){let n=i.comparisonStart||i.comparisonEnd;n&&!n.firstChange&&this._setRanges(this.selected),i.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(i){let n=i.value,o=this._getDateFromDayOfMonth(n),s,a;this._selected instanceof od?(s=this._getDateInCurrentMonth(this._selected.start),a=this._getDateInCurrentMonth(this._selected.end)):s=a=this._getDateInCurrentMonth(this._selected),(s!==n||a!==n)&&this.selectedChange.emit(o),this._userSelection.emit({value:o,event:i.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(i){let n=i.value,o=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(n),this._dateAdapter.compareDate(o,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(i){let n=this._activeDate,o=this._isRtl();switch(i.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,o?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,o?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=i.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=i.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:this._selectionKeyPressed=!0,this._canSelect(this._activeDate)&&i.preventDefault();return;case 27:this._previewEnd!=null&&!Kl(i)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:i}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:i})),i.preventDefault(),i.stopPropagation());return;default:return}this._dateAdapter.compareDate(n,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),i.preventDefault()}_handleCalendarBodyKeyup(i){(i.keyCode===32||i.keyCode===13)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:i}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(F7+this._dateAdapter.getDayOfWeek(i)-this._dateAdapter.getFirstDayOfWeek())%F7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(i){this._matCalendarBody._focusActiveCell(i)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:i,value:n}){if(this._rangeStrategy){let o=n?n.rawValue:null,s=this._rangeStrategy.createPreview(o,this.selected,i);if(this._previewStart=this._getCellCompareValue(s.start),this._previewEnd=this._getCellCompareValue(s.end),this.activeDrag&&o){let a=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,o,i);a&&(this._previewStart=this._getCellCompareValue(a.start),this._previewEnd=this._getCellCompareValue(a.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(i){if(this.activeDrag)if(i.value){let n=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,i.value,i.event);this.dragEnded.emit({value:n??null,event:i.event})}else this.dragEnded.emit({value:null,event:i.event})}_getDateFromDayOfMonth(i){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),i)}_initWeekdays(){let i=this._dateAdapter.getFirstDayOfWeek(),n=this._dateAdapter.getDayOfWeekNames("narrow"),s=this._dateAdapter.getDayOfWeekNames("long").map((a,l)=>({long:a,narrow:n[l],id:x4t++}));this._weekdays=s.slice(i).concat(s.slice(0,i))}_createWeekCells(){let i=this._dateAdapter.getNumDaysInMonth(this.activeDate),n=this._dateAdapter.getDateNames();this._weeks=[[]];for(let o=0,s=this._firstWeekOffset;o<i;o++,s++){s==F7&&(this._weeks.push([]),s=0);let a=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),o+1),l=this._shouldEnableDate(a),c=this._dateAdapter.format(a,this._dateFormats.display.dateA11yLabel),d=this.dateClass?this.dateClass(a,"month"):void 0;this._weeks[this._weeks.length-1].push(new iR(o+1,n[o],c,l,d,this._getCellCompareValue(a),a))}}_shouldEnableDate(i){return!!i&&(!this.minDate||this._dateAdapter.compareDate(i,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(i,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(i))}_getDateInCurrentMonth(i){return i&&this._hasSameMonthAndYear(i,this.activeDate)?this._dateAdapter.getDate(i):null}_hasSameMonthAndYear(i,n){return!!(i&&n&&this._dateAdapter.getMonth(i)==this._dateAdapter.getMonth(n)&&this._dateAdapter.getYear(i)==this._dateAdapter.getYear(n))}_getCellCompareValue(i){if(i){let n=this._dateAdapter.getYear(i),o=this._dateAdapter.getMonth(i),s=this._dateAdapter.getDate(i);return new Date(n,o,s).getTime()}return null}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setRanges(i){i instanceof od?(this._rangeStart=this._getCellCompareValue(i.start),this._rangeEnd=this._getCellCompareValue(i.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(i),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(i){return!this.dateFilter||this.dateFilter(i)}_clearPreview(){this._previewStart=this._previewEnd=null}};t.\u0275fac=function(n){return new(n||t)(Pt(hr),Pt(Zh,8),Pt(Ds,8),Pt(ks,8),Pt(Lnt,8))},t.\u0275cmp=We({type:t,selectors:[["mat-month-view"]],viewQuery:function(n,o){if(n&1&&or(n1,5),n&2){let s;Hi(s=Bi())&&(o._matCalendarBody=s.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],standalone:!0,features:[er,li],decls:8,vars:14,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col"],["aria-hidden","true"],["colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown","label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName"],[1,"cdk-visually-hidden"]],template:function(n,o){n&1&&(ut(0,"table",0)(1,"thead",1)(2,"tr"),z1(3,l4t,5,2,"th",2,Pnt),dt(),ut(5,"tr",3),He(6,"th",4),dt()(),ut(7,"tbody",5),Ke("selectedValueChange",function(a){return o._dateSelected(a)})("activeDateChange",function(a){return o._updateActiveDate(a)})("previewChange",function(a){return o._previewChanged(a)})("dragStarted",function(a){return o.dragStarted.emit(a)})("dragEnded",function(a){return o._dragEnded(a)})("keyup",function(a){return o._handleCalendarBodyKeyup(a)})("keydown",function(a){return o._handleCalendarBodyKeydown(a)}),dt()()),n&2&&(te(3),U1(o._weekdays),te(4),Me("label",o._monthLabel)("rows",o._weeks)("todayValue",o._todayDate)("startValue",o._rangeStart)("endValue",o._rangeEnd)("comparisonStart",o._comparisonRangeStart)("comparisonEnd",o._comparisonRangeEnd)("previewStart",o._previewStart)("previewEnd",o._previewEnd)("isRange",o._isRange)("labelMinRequiredCells",3)("activeCell",o._dateAdapter.getDate(o.activeDate)-1)("startDateAccessibleName",o.startDateAccessibleName)("endDateAccessibleName",o.endDateAccessibleName))},dependencies:[n1],encapsulation:2,changeDetection:0});let e=t;return e})(),fc=24,H7=4,Int=(()=>{let t=class t{get activeDate(){return this._activeDate}set activeDate(i){let n=this._activeDate,o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(o,this.minDate,this.maxDate),Fnt(this._dateAdapter,n,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(i){i instanceof od?this._selected=i:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i)),this._setSelectedYear(i)}get minDate(){return this._minDate}set minDate(i){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get maxDate(){return this._maxDate}set maxDate(i){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}constructor(i,n,o){this._changeDetectorRef=i,this._dateAdapter=n,this._dir=o,this._rerenderSubscription=Ro.EMPTY,this.selectedChange=new ai,this.yearSelected=new ai,this.activeDateChange=new ai,this._dateAdapter,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Ts(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());let n=this._dateAdapter.getYear(this._activeDate)-tR(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let o=0,s=[];o<fc;o++)s.push(n+o),s.length==H7&&(this._years.push(s.map(a=>this._createCellForYear(a))),s=[]);this._changeDetectorRef.markForCheck()}_yearSelected(i){let n=i.value,o=this._dateAdapter.createDate(n,0,1),s=this._getDateFromYear(n);this.yearSelected.emit(o),this.selectedChange.emit(s)}_updateActiveDate(i){let n=i.value,o=this._activeDate;this.activeDate=this._getDateFromYear(n),this._dateAdapter.compareDate(o,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(i){let n=this._activeDate,o=this._isRtl();switch(i.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,o?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,o?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-H7);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,H7);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-tR(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,fc-tR(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i.altKey?-fc*10:-fc);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i.altKey?fc*10:fc);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(n,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),i.preventDefault()}_handleCalendarBodyKeyup(i){(i.keyCode===32||i.keyCode===13)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:i}),this._selectionKeyPressed=!1)}_getActiveCell(){return tR(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(i){let n=this._dateAdapter.getMonth(this.activeDate),o=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(i,n,1));return this._dateAdapter.createDate(i,n,Math.min(this._dateAdapter.getDate(this.activeDate),o))}_createCellForYear(i){let n=this._dateAdapter.createDate(i,0,1),o=this._dateAdapter.getYearName(n),s=this.dateClass?this.dateClass(n,"multi-year"):void 0;return new iR(i,o,o,this._shouldEnableYear(i),s)}_shouldEnableYear(i){if(i==null||this.maxDate&&i>this._dateAdapter.getYear(this.maxDate)||this.minDate&&i<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;let n=this._dateAdapter.createDate(i,0,1);for(let o=n;this._dateAdapter.getYear(o)==i;o=this._dateAdapter.addCalendarDays(o,1))if(this.dateFilter(o))return!0;return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedYear(i){if(this._selectedYear=null,i instanceof od){let n=i.start||i.end;n&&(this._selectedYear=this._dateAdapter.getYear(n))}else i&&(this._selectedYear=this._dateAdapter.getYear(i))}};t.\u0275fac=function(n){return new(n||t)(Pt(hr),Pt(Ds,8),Pt(ks,8))},t.\u0275cmp=We({type:t,selectors:[["mat-multi-year-view"]],viewQuery:function(n,o){if(n&1&&or(n1,5),n&2){let s;Hi(s=Bi())&&(o._matCalendarBody=s.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],standalone:!0,features:[li],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell"]],template:function(n,o){n&1&&(ut(0,"table",0)(1,"thead",1)(2,"tr"),He(3,"th",2),dt()(),ut(4,"tbody",3),Ke("selectedValueChange",function(a){return o._yearSelected(a)})("activeDateChange",function(a){return o._updateActiveDate(a)})("keyup",function(a){return o._handleCalendarBodyKeyup(a)})("keydown",function(a){return o._handleCalendarBodyKeydown(a)}),dt()()),n&2&&(te(4),Me("rows",o._years)("todayValue",o._todayYear)("startValue",o._selectedYear)("endValue",o._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",o._getActiveCell()))},dependencies:[n1],encapsulation:2,changeDetection:0});let e=t;return e})();function Fnt(e,t,r,i,n){let o=e.getYear(t),s=e.getYear(r),a=Hnt(e,i,n);return Math.floor((o-a)/fc)===Math.floor((s-a)/fc)}function tR(e,t,r,i){let n=e.getYear(t);return S4t(n-Hnt(e,r,i),fc)}function Hnt(e,t,r){let i=0;return r?i=e.getYear(r)-fc+1:t&&(i=e.getYear(t)),i}function S4t(e,t){return(e%t+t)%t}var knt=(()=>{let t=class t{get activeDate(){return this._activeDate}set activeDate(i){let n=this._activeDate,o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(o,this.minDate,this.maxDate),this._dateAdapter.getYear(n)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(i){i instanceof od?this._selected=i:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i)),this._setSelectedMonth(i)}get minDate(){return this._minDate}set minDate(i){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get maxDate(){return this._maxDate}set maxDate(i){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}constructor(i,n,o,s){this._changeDetectorRef=i,this._dateFormats=n,this._dateAdapter=o,this._dir=s,this._rerenderSubscription=Ro.EMPTY,this.selectedChange=new ai,this.monthSelected=new ai,this.activeDateChange=new ai,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Ts(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(i){let n=i.value,o=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),n,1);this.monthSelected.emit(o);let s=this._getDateFromMonth(n);this.selectedChange.emit(s)}_updateActiveDate(i){let n=i.value,o=this._activeDate;this.activeDate=this._getDateFromMonth(n),this._dateAdapter.compareDate(o,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(i){let n=this._activeDate,o=this._isRtl();switch(i.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,o?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,o?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(n,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),i.preventDefault()}_handleCalendarBodyKeyup(i){(i.keyCode===32||i.keyCode===13)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:i}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let i=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(n=>n.map(o=>this._createCellForMonth(o,i[o]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(i){return i&&this._dateAdapter.getYear(i)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(i):null}_getDateFromMonth(i){let n=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1),o=this._dateAdapter.getNumDaysInMonth(n);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,Math.min(this._dateAdapter.getDate(this.activeDate),o))}_createCellForMonth(i,n){let o=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1),s=this._dateAdapter.format(o,this._dateFormats.display.monthYearA11yLabel),a=this.dateClass?this.dateClass(o,"year"):void 0;return new iR(i,n.toLocaleUpperCase(),s,this._shouldEnableMonth(i),a)}_shouldEnableMonth(i){let n=this._dateAdapter.getYear(this.activeDate);if(i==null||this._isYearAndMonthAfterMaxDate(n,i)||this._isYearAndMonthBeforeMinDate(n,i))return!1;if(!this.dateFilter)return!0;let o=this._dateAdapter.createDate(n,i,1);for(let s=o;this._dateAdapter.getMonth(s)==i;s=this._dateAdapter.addCalendarDays(s,1))if(this.dateFilter(s))return!0;return!1}_isYearAndMonthAfterMaxDate(i,n){if(this.maxDate){let o=this._dateAdapter.getYear(this.maxDate),s=this._dateAdapter.getMonth(this.maxDate);return i>o||i===o&&n>s}return!1}_isYearAndMonthBeforeMinDate(i,n){if(this.minDate){let o=this._dateAdapter.getYear(this.minDate),s=this._dateAdapter.getMonth(this.minDate);return i<o||i===o&&n<s}return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedMonth(i){i instanceof od?this._selectedMonth=this._getMonthInCurrentYear(i.start)||this._getMonthInCurrentYear(i.end):this._selectedMonth=this._getMonthInCurrentYear(i)}};t.\u0275fac=function(n){return new(n||t)(Pt(hr),Pt(Zh,8),Pt(Ds,8),Pt(ks,8))},t.\u0275cmp=We({type:t,selectors:[["mat-year-view"]],viewQuery:function(n,o){if(n&1&&or(n1,5),n&2){let s;Hi(s=Bi())&&(o._matCalendarBody=s.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],standalone:!0,features:[li],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell"]],template:function(n,o){n&1&&(ut(0,"table",0)(1,"thead",1)(2,"tr"),He(3,"th",2),dt()(),ut(4,"tbody",3),Ke("selectedValueChange",function(a){return o._monthSelected(a)})("activeDateChange",function(a){return o._updateActiveDate(a)})("keyup",function(a){return o._handleCalendarBodyKeyup(a)})("keydown",function(a){return o._handleCalendarBodyKeydown(a)}),dt()()),n&2&&(te(4),Me("label",o._yearLabel)("rows",o._months)("todayValue",o._todayMonth)("startValue",o._selectedMonth)("endValue",o._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",o._dateAdapter.getMonth(o.activeDate)))},dependencies:[n1],encapsulation:2,changeDetection:0});let e=t;return e})(),E4t=1,Bnt=(()=>{let t=class t{constructor(i,n,o,s,a){this._intl=i,this.calendar=n,this._dateAdapter=o,this._dateFormats=s,this._id=`mat-calendar-header-${E4t++}`,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>a.markForCheck())}get periodButtonText(){return this.calendar.currentView=="month"?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():this.calendar.currentView=="year"?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return this.calendar.currentView=="month"?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():this.calendar.currentView=="year"?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return this.calendar.currentView=="month"?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView=this.calendar.currentView=="month"?"multi-year":"month"}previousClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?-1:-fc)}nextClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?1:fc)}previousEnabled(){return this.calendar.minDate?!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate):!0}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(i,n){return this.calendar.currentView=="month"?this._dateAdapter.getYear(i)==this._dateAdapter.getYear(n)&&this._dateAdapter.getMonth(i)==this._dateAdapter.getMonth(n):this.calendar.currentView=="year"?this._dateAdapter.getYear(i)==this._dateAdapter.getYear(n):Fnt(this._dateAdapter,i,n,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){let n=this._dateAdapter.getYear(this.calendar.activeDate)-tR(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),o=n+fc-1,s=this._dateAdapter.getYearName(this._dateAdapter.createDate(n,0,1)),a=this._dateAdapter.getYearName(this._dateAdapter.createDate(o,0,1));return[s,a]}};t.\u0275fac=function(n){return new(n||t)(Pt(oR),Pt(Ul(()=>B7)),Pt(Ds,8),Pt(Zh,8),Pt(hr))},t.\u0275cmp=We({type:t,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],standalone:!0,features:[li],ngContentSelectors:c4t,decls:13,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["aria-live","polite",1,"cdk-visually-hidden",3,"id"],["mat-button","","type","button",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"click","disabled"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"click","disabled"]],template:function(n,o){n&1&&(pn(),ut(0,"div",0)(1,"div",1)(2,"span",2),gt(3),dt(),ut(4,"button",3),Ke("click",function(){return o.currentPeriodClicked()}),ut(5,"span",4),gt(6),dt(),Vh(),ut(7,"svg",5),He(8,"polygon",6),dt()(),Nb(),He(9,"div",7),ir(10),ut(11,"button",8),Ke("click",function(){return o.previousClicked()}),dt(),ut(12,"button",9),Ke("click",function(){return o.nextClicked()}),dt()()()),n&2&&(te(2),Me("id",o._periodButtonLabelId),te(),_o(o.periodButtonDescription),te(),Yi("aria-label",o.periodButtonLabel)("aria-describedby",o._periodButtonLabelId),te(2),_o(o.periodButtonText),te(),Vi("mat-calendar-invert",o.calendar.currentView!=="month"),te(4),Me("disabled",!o.previousEnabled()),Yi("aria-label",o.prevButtonLabel),te(),Me("disabled",!o.nextEnabled()),Yi("aria-label",o.nextButtonLabel))},dependencies:[Rd,vC],encapsulation:2,changeDetection:0});let e=t;return e})(),B7=(()=>{let t=class t{get startAt(){return this._startAt}set startAt(i){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get selected(){return this._selected}set selected(i){i instanceof od?this._selected=i:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get minDate(){return this._minDate}set minDate(i){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get maxDate(){return this._maxDate}set maxDate(i){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get activeDate(){return this._clampedActiveDate}set activeDate(i){this._clampedActiveDate=this._dateAdapter.clampDate(i,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(i){let n=this._currentView!==i?i:null;this._currentView=i,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),n&&this.viewChanged.emit(n)}constructor(i,n,o,s){this._dateAdapter=n,this._dateFormats=o,this._changeDetectorRef=s,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new ai,this.yearSelected=new ai,this.monthSelected=new ai,this.viewChanged=new ai(!0),this._userSelection=new ai,this._userDragDrop=new ai,this._activeDrag=null,this.stateChanges=new Je,this._intlChanges=i.changes.subscribe(()=>{s.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new xd(this.headerComponent||Bnt),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(i){let n=i.minDate&&!this._dateAdapter.sameDate(i.minDate.previousValue,i.minDate.currentValue)?i.minDate:void 0,o=i.maxDate&&!this._dateAdapter.sameDate(i.maxDate.previousValue,i.maxDate.currentValue)?i.maxDate:void 0,s=n||o||i.dateFilter;if(s&&!s.firstChange){let a=this._getCurrentViewComponent();a&&(this._moveFocusOnNextTick=!0,this._changeDetectorRef.detectChanges(),a._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(i){let n=i.value;(this.selected instanceof od||n&&!this._dateAdapter.sameDate(n,this.selected))&&this.selectedChange.emit(n),this._userSelection.emit(i)}_yearSelectedInMultiYearView(i){this.yearSelected.emit(i)}_monthSelectedInYearView(i){this.monthSelected.emit(i)}_goToDateInView(i,n){this.activeDate=i,this.currentView=n}_dragStarted(i){this._activeDrag=i}_dragEnded(i){this._activeDrag&&(i.value&&this._userDragDrop.emit(i),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}};t.\u0275fac=function(n){return new(n||t)(Pt(oR),Pt(Ds,8),Pt(Zh,8),Pt(hr))},t.\u0275cmp=We({type:t,selectors:[["mat-calendar"]],viewQuery:function(n,o){if(n&1&&(or(Ant,5),or(knt,5),or(Int,5)),n&2){let s;Hi(s=Bi())&&(o.monthView=s.first),Hi(s=Bi())&&(o.yearView=s.first),Hi(s=Bi())&&(o.multiYearView=s.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],standalone:!0,features:[gr([Nnt]),er,li],decls:5,vars:2,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","_userSelection","dragStarted","dragEnded","activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDateChange","monthSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","yearSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"]],template:function(n,o){if(n&1&&(Xi(0,d4t,0,0,"ng-template",0),ut(1,"div",1),Xi(2,u4t,1,11,"mat-month-view",2)(3,h4t,1,6,"mat-year-view",3)(4,f4t,1,6,"mat-multi-year-view",3),dt()),n&2){let s;Me("cdkPortalOutlet",o._calendarHeaderPortal),te(2),kn((s=o.currentView)==="month"?2:s==="year"?3:s==="multi-year"?4:-1)}},dependencies:[ym,gV,Ant,knt,Int],styles:['.mat-calendar{display:block;line-height:normal;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-app-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-app-body-medium-size))}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size, var(--mat-app-title-small-size));font-weight:var(--mat-datepicker-calendar-period-button-text-weight, var(--mat-app-title-small-weight));--mdc-text-button-label-text-color:var(--mat-datepicker-calendar-period-button-text-color, var(--mat-app-on-surface-variant))}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color, var(--mat-app-on-surface-variant))}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-datepicker-content .mat-calendar-previous-button:not(.mat-mdc-button-disabled),.mat-datepicker-content .mat-calendar-next-button:not(.mat-mdc-button-disabled){color:var(--mat-datepicker-calendar-navigation-button-icon-color, var(--mat-app-on-surface-variant))}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color, var(--mat-app-on-surface-variant));font-size:var(--mat-datepicker-calendar-header-text-size, var(--mat-app-title-small-size));font-weight:var(--mat-datepicker-calendar-header-text-weight, var(--mat-app-title-small-weight))}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0});let e=t;return e})(),Dnt={transformPanel:cm("transformPanel",[wd("void => enter-dropdown",_d("120ms cubic-bezier(0, 0, 0.2, 1)",LO([ta({opacity:0,transform:"scale(1, 0.8)"}),ta({opacity:1,transform:"scale(1, 1)"})]))),wd("void => enter-dialog",_d("150ms cubic-bezier(0, 0, 0.2, 1)",LO([ta({opacity:0,transform:"scale(0.7)"}),ta({transform:"none",opacity:1})]))),wd("* => void",_d("100ms linear",ta({opacity:0})))]),fadeInCalendar:cm("fadeInCalendar",[dm("void",ta({opacity:0})),dm("enter",ta({opacity:1})),wd("void => *",_d("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])},R4t=0,jnt=new Se("mat-datepicker-scroll-strategy",{providedIn:"root",factory:()=>{let e=pe(bn);return()=>e.scrollStrategies.reposition()}});function T4t(e){return()=>e.scrollStrategies.reposition()}var M4t={provide:jnt,deps:[bn],useFactory:T4t},Vnt=(()=>{let t=class t{constructor(i,n,o,s,a,l){this._elementRef=i,this._changeDetectorRef=n,this._globalModel=o,this._dateAdapter=s,this._rangeSelectionStrategy=a,this._subscriptions=new Ro,this._animationDone=new Je,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=l.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(i){let n=this._model.selection,o=i.value,s=n instanceof od;if(s&&this._rangeSelectionStrategy){let a=this._rangeSelectionStrategy.selectionFinished(o,n,i.event);this._model.updateSelection(a,this)}else o&&(s||!this._dateAdapter.sameDate(o,n))&&this._model.add(o);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(i){this._model.updateSelection(i.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(i){this._isAnimating=i.phaseName==="start",this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(i,n){this._model=i?this._globalModel.clone():this._globalModel,this._actionsPortal=i,n&&this._changeDetectorRef.detectChanges()}};t.\u0275fac=function(n){return new(n||t)(Pt(hi),Pt(hr),Pt(rR),Pt(Ds),Pt(Lnt,8),Pt(oR))},t.\u0275cmp=We({type:t,selectors:[["mat-datepicker-content"]],viewQuery:function(n,o){if(n&1&&or(B7,5),n&2){let s;Hi(s=Bi())&&(o._calendar=s.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:5,hostBindings:function(n,o){n&1&&dB("@transformPanel.start",function(a){return o._handleAnimationEvent(a)})("@transformPanel.done",function(a){return o._handleAnimationEvent(a)}),n&2&&(cB("@transformPanel",o._animationState),Js(o.color?"mat-"+o.color:""),Vi("mat-datepicker-content-touch",o.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],standalone:!0,features:[li],decls:5,vars:27,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop","id","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"focus","blur","click","color"]],template:function(n,o){if(n&1&&(ut(0,"div",0)(1,"mat-calendar",1),Ke("yearSelected",function(a){return o.datepicker._selectYear(a)})("monthSelected",function(a){return o.datepicker._selectMonth(a)})("viewChanged",function(a){return o.datepicker._viewChanged(a)})("_userSelection",function(a){return o._handleUserSelection(a)})("_userDragDrop",function(a){return o._handleUserDragDrop(a)}),dt(),Xi(2,m4t,0,0,"ng-template",2),ut(3,"button",3),Ke("focus",function(){return o._closeButtonFocused=!0})("blur",function(){return o._closeButtonFocused=!1})("click",function(){return o.datepicker.close()}),gt(4),dt()()),n&2){let s;Vi("mat-datepicker-content-container-with-custom-header",o.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",o._actionsPortal),Yi("aria-modal",!0)("aria-labelledby",(s=o._dialogLabelId)!==null&&s!==void 0?s:void 0),te(),Js(o.datepicker.panelClass),Me("id",o.datepicker.id)("startAt",o.datepicker.startAt)("startView",o.datepicker.startView)("minDate",o.datepicker._getMinDate())("maxDate",o.datepicker._getMaxDate())("dateFilter",o.datepicker._getDateFilter())("headerComponent",o.datepicker.calendarHeaderComponent)("selected",o._getSelected())("dateClass",o.datepicker.dateClass)("comparisonStart",o.comparisonStart)("comparisonEnd",o.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",o.startDateAccessibleName)("endDateAccessibleName",o.endDateAccessibleName),te(),Me("cdkPortalOutlet",o._actionsPortal),te(),Vi("cdk-visually-hidden",!o._closeButtonFocused),Me("color",o.color||"primary"),te(),_o(o._closeButtonText)}},dependencies:[fV,B7,ym,Rd],styles:[".mat-datepicker-content{display:block;border-radius:4px;background-color:var(--mat-datepicker-calendar-container-background-color, var(--mat-app-surface-container-high));color:var(--mat-datepicker-calendar-container-text-color, var(--mat-app-on-surface));box-shadow:var(--mat-datepicker-calendar-container-elevation-shadow);border-radius:var(--mat-datepicker-calendar-container-shape, var(--mat-app-corner-large))}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;box-shadow:var(--mat-datepicker-calendar-container-touch-elevation-shadow);border-radius:var(--mat-datepicker-calendar-container-touch-shape, var(--mat-app-corner-extra-large));position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[Dnt.transformPanel,Dnt.fadeInCalendar]},changeDetection:0});let e=t;return e})(),Ont=(()=>{let t=class t{get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(i){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(i){this._color=i}get disabled(){return this._disabled===void 0&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(i){i!==this._disabled&&(this._disabled=i,this.stateChanges.next(void 0))}get panelClass(){return this._panelClass}set panelClass(i){this._panelClass=tV(i)}get opened(){return this._opened}set opened(i){i?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}constructor(i,n,o,s,a,l,c){this._overlay=i,this._viewContainerRef=o,this._dateAdapter=a,this._dir=l,this._model=c,this._inputStateChanges=Ro.EMPTY,this._document=pe(Ai),this.startView="month",this.touchUi=!1,this.xPosition="start",this.yPosition="below",this.restoreFocus=!0,this.yearSelected=new ai,this.monthSelected=new ai,this.viewChanged=new ai(!0),this.openedStream=new ai,this.closedStream=new ai,this._opened=!1,this.id=`mat-datepicker-${R4t++}`,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new Je,this._injector=pe(mn),this._changeDetectorRef=pe(hr),this._dateAdapter,this._scrollStrategy=s,this._model.selectionChanged.subscribe(()=>{this._changeDetectorRef.markForCheck()})}ngOnChanges(i){let n=i.xPosition||i.yPosition;if(n&&!n.firstChange&&this._overlayRef){let o=this._overlayRef.getConfig().positionStrategy;o instanceof zw&&(this._setConnectedPositions(o),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(i){this._model.add(i)}_selectYear(i){this.yearSelected.emit(i)}_selectMonth(i){this.monthSelected.emit(i)}_viewChanged(i){this.viewChanged.emit(i)}registerInput(i){return this.datepickerInput,this._inputStateChanges.unsubscribe(),this.datepickerInput=i,this._inputStateChanges=i.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(i){this._actionsPortal,this._actionsPortal=i,this._componentRef?.instance._assignActions(i,!0)}removeActions(i){i===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this.datepickerInput,this._focusedElementBeforeOpen=bm(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;let i=this.restoreFocus&&this._focusedElementBeforeOpen&&typeof this._focusedElementBeforeOpen.focus=="function",n=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){let{instance:o,location:s}=this._componentRef;o._startExitAnimation(),o._animationDone.pipe(to(1)).subscribe(()=>{let a=this._document.activeElement;i&&(!a||a===this._document.activeElement||s.nativeElement.contains(a))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}i?setTimeout(n):n()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(i){i.datepicker=this,i.color=this.color,i._dialogLabelId=this.datepickerInput.getOverlayLabelId(),i._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();let i=this.touchUi,n=new xd(Vnt,this._viewContainerRef),o=this._overlayRef=this._overlay.create(new Qh({positionStrategy:i?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[i?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:i?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:`mat-datepicker-${i?"dialog":"popup"}`}));this._getCloseStream(o).subscribe(s=>{s&&s.preventDefault(),this.close()}),o.keydownEvents().subscribe(s=>{let a=s.keyCode;(a===38||a===40||a===37||a===39||a===33||a===34)&&s.preventDefault()}),this._componentRef=o.attach(n),this._forwardContentValues(this._componentRef.instance),i||ma(()=>{o.updatePosition()},{injector:this._injector})}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){let i=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(i)}_setConnectedPositions(i){let n=this.xPosition==="end"?"end":"start",o=n==="start"?"end":"start",s=this.yPosition==="above"?"bottom":"top",a=s==="top"?"bottom":"top";return i.withPositions([{originX:n,originY:a,overlayX:n,overlayY:s},{originX:n,originY:s,overlayX:n,overlayY:a},{originX:o,originY:a,overlayX:o,overlayY:s},{originX:o,originY:s,overlayX:o,overlayY:a}])}_getCloseStream(i){let n=["ctrlKey","shiftKey","metaKey"];return Vl(i.backdropClick(),i.detachments(),i.keydownEvents().pipe(co(o=>o.keyCode===27&&!Kl(o)||this.datepickerInput&&Kl(o,"altKey")&&o.keyCode===38&&n.every(s=>!Kl(o,s)))))}};t.\u0275fac=function(n){return new(n||t)(Pt(bn),Pt(ui),Pt(ps),Pt(jnt),Pt(Ds,8),Pt(ks,8),Pt(rR))},t.\u0275dir=ni({type:t,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:[2,"touchUi","touchUi",Sr],disabled:[2,"disabled","disabled",Sr],xPosition:"xPosition",yPosition:"yPosition",restoreFocus:[2,"restoreFocus","restoreFocus",Sr],dateClass:"dateClass",panelClass:"panelClass",opened:[2,"opened","opened",Sr]},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[Br,er]});let e=t;return e})(),znt=(()=>{let t=class t extends Ont{};t.\u0275fac=(()=>{let i;return function(o){return(i||(i=Ms(t)))(o||t)}})(),t.\u0275cmp=We({type:t,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],standalone:!0,features:[gr([Nnt,{provide:Ont,useExisting:t}]),Gr,li],decls:0,vars:0,template:function(n,o){},encapsulation:2,changeDetection:0});let e=t;return e})(),e1=class{constructor(t,r){this.target=t,this.targetElement=r,this.value=this.target.value}},A4t=(()=>{let t=class t{get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(i){this._assignValueProgrammatically(i)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(i){let n=i,o=this._elementRef.nativeElement;this._disabled!==n&&(this._disabled=n,this.stateChanges.next(void 0)),n&&this._isInitialized&&o.blur&&o.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(i){this._model=i,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(n=>{if(this._shouldHandleChangeEvent(n)){let o=this._getValueFromModel(n.selection);this._lastValueValid=this._isValidValue(o),this._cvaOnChange(o),this._onTouched(),this._formatValue(o),this.dateInput.emit(new e1(this,this._elementRef.nativeElement)),this.dateChange.emit(new e1(this,this._elementRef.nativeElement))}})}constructor(i,n,o){this._elementRef=i,this._dateAdapter=n,this._dateFormats=o,this.dateChange=new ai,this.dateInput=new ai,this.stateChanges=new Je,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=Ro.EMPTY,this._localeSubscription=Ro.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=s=>{let a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value));return!a||this._matchesFilter(a)?null:{matDatepickerFilter:!0}},this._minValidator=s=>{let a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),l=this._getMinDate();return!l||!a||this._dateAdapter.compareDate(l,a)<=0?null:{matDatepickerMin:{min:l,actual:a}}},this._maxValidator=s=>{let a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),l=this._getMaxDate();return!l||!a||this._dateAdapter.compareDate(l,a)>=0?null:{matDatepickerMax:{max:l,actual:a}}},this._lastValueValid=!1,this._localeSubscription=n.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(i){I4t(i,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(i){this._validatorOnChange=i}validate(i){return this._validator?this._validator(i):null}writeValue(i){this._assignValueProgrammatically(i)}registerOnChange(i){this._cvaOnChange=i}registerOnTouched(i){this._onTouched=i}setDisabledState(i){this.disabled=i}_onKeydown(i){let n=["ctrlKey","shiftKey","metaKey"];Kl(i,"altKey")&&i.keyCode===40&&n.every(s=>!Kl(i,s))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),i.preventDefault())}_onInput(i){let n=this._lastValueValid,o=this._dateAdapter.parse(i,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(o),o=this._dateAdapter.getValidDateOrNull(o);let s=!this._dateAdapter.sameDate(o,this.value);!o||s?this._cvaOnChange(o):(i&&!this.value&&this._cvaOnChange(o),n!==this._lastValueValid&&this._validatorOnChange()),s&&(this._assignValue(o),this.dateInput.emit(new e1(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new e1(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(i){this._elementRef.nativeElement.value=i!=null?this._dateAdapter.format(i,this._dateFormats.display.dateInput):""}_assignValue(i){this._model?(this._assignValueToModel(i),this._pendingValue=null):this._pendingValue=i}_isValidValue(i){return!i||this._dateAdapter.isValid(i)}_parentDisabled(){return!1}_assignValueProgrammatically(i){i=this._dateAdapter.deserialize(i),this._lastValueValid=this._isValidValue(i),i=this._dateAdapter.getValidDateOrNull(i),this._assignValue(i),this._formatValue(i)}_matchesFilter(i){let n=this._getDateFilter();return!n||n(i)}};t.\u0275fac=function(n){return new(n||t)(Pt(hi),Pt(Ds,8),Pt(Zh,8))},t.\u0275dir=ni({type:t,inputs:{value:"value",disabled:[2,"disabled","disabled",Sr]},outputs:{dateChange:"dateChange",dateInput:"dateInput"},standalone:!0,features:[Br,er]});let e=t;return e})();function I4t(e,t){let r=Object.keys(e);for(let i of r){let{previousValue:n,currentValue:o}=e[i];if(t.isDateInstance(n)&&t.isDateInstance(o)){if(!t.sameDate(n,o))return!0}else return!0}return!1}var k4t={provide:Hg,useExisting:Ul(()=>vD),multi:!0},D4t={provide:xm,useExisting:Ul(()=>vD),multi:!0},vD=(()=>{let t=class t extends A4t{set matDatepicker(i){i&&(this._datepicker=i,this._ariaOwns.set(i.opened?i.id:null),this._closedSubscription=i.closedStream.subscribe(()=>{this._onTouched(),this._ariaOwns.set(null)}),this._openedSubscription=i.openedStream.subscribe(()=>{this._ariaOwns.set(i.id)}),this._registerModel(i.registerInput(this)))}get min(){return this._min}set min(i){let n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i));this._dateAdapter.sameDate(n,this._min)||(this._min=n,this._validatorOnChange())}get max(){return this._max}set max(i){let n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i));this._dateAdapter.sameDate(n,this._max)||(this._max=n,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(i){let n=this._matchesFilter(this.value);this._dateFilter=i,this._matchesFilter(this.value)!==n&&this._validatorOnChange()}constructor(i,n,o,s){super(i,n,o),this._formField=s,this._closedSubscription=Ro.EMPTY,this._openedSubscription=Ro.EMPTY,this._ariaOwns=V1(null),this._validator=mv.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe(),this._openedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(i){return i}_assignValueToModel(i){this._model&&this._model.updateSelection(i,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(i){return i.source!==this}};t.\u0275fac=function(n){return new(n||t)(Pt(hi),Pt(Ds,8),Pt(Zh,8),Pt(yv,8))},t.\u0275dir=ni({type:t,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(n,o){n&1&&Ke("input",function(a){return o._onInput(a.target.value)})("change",function(){return o._onChange()})("blur",function(){return o._onBlur()})("keydown",function(a){return o._onKeydown(a)}),n&2&&(Ba("disabled",o.disabled),Yi("aria-haspopup",o._datepicker?"dialog":null)("aria-owns",o._ariaOwns())("min",o.min?o._dateAdapter.toIso8601(o.min):null)("max",o.max?o._dateAdapter.toIso8601(o.max):null)("data-mat-calendar",o._datepicker?o._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:[0,"matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],standalone:!0,features:[gr([k4t,D4t,{provide:I4,useExisting:t}]),Gr]});let e=t;return e})(),z7=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=ni({type:t,selectors:[["","matDatepickerToggleIcon",""]],standalone:!0});let e=t;return e})(),U7=(()=>{let t=class t{get disabled(){return this._disabled===void 0&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(i){this._disabled=i}constructor(i,n,o){this._intl=i,this._changeDetectorRef=n,this._stateChanges=Ro.EMPTY;let s=Number(o);this.tabIndex=s||s===0?s:null}ngOnChanges(i){i.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(i){this.datepicker&&!this.disabled&&(this.datepicker.open(),i.stopPropagation())}_watchStateChanges(){let i=this.datepicker?this.datepicker.stateChanges:De(),n=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:De(),o=this.datepicker?Vl(this.datepicker.openedStream,this.datepicker.closedStream):De();this._stateChanges.unsubscribe(),this._stateChanges=Vl(this._intl.changes,i,n,o).subscribe(()=>this._changeDetectorRef.markForCheck())}};t.\u0275fac=function(n){return new(n||t)(Pt(oR),Pt(hr),Yl("tabindex"))},t.\u0275cmp=We({type:t,selectors:[["mat-datepicker-toggle"]],contentQueries:function(n,o,s){if(n&1&&As(s,z7,5),n&2){let a;Hi(a=Bi())&&(o._customIcon=a.first)}},viewQuery:function(n,o){if(n&1&&or(p4t,5),n&2){let s;Hi(s=Bi())&&(o._button=s.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(n,o){n&1&&Ke("click",function(a){return o._open(a)}),n&2&&(Yi("tabindex",null)("data-mat-calendar",o.datepicker?o.datepicker.id:null),Vi("mat-datepicker-toggle-active",o.datepicker&&o.datepicker.opened)("mat-accent",o.datepicker&&o.datepicker.color==="accent")("mat-warn",o.datepicker&&o.datepicker.color==="warn"))},inputs:{datepicker:[0,"for","datepicker"],tabIndex:"tabIndex",ariaLabel:[0,"aria-label","ariaLabel"],disabled:[2,"disabled","disabled",Sr],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],standalone:!0,features:[Br,er,li],ngContentSelectors:b4t,decls:4,vars:6,consts:[["button",""],["mat-icon-button","","type","button",3,"disabled","disableRipple"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(n,o){n&1&&(pn(g4t),ut(0,"button",1,0),Xi(2,v4t,2,0,":svg:svg",2),ir(3),dt()),n&2&&(Me("disabled",o.disabled)("disableRipple",o.disableRipple),Yi("aria-haspopup",o.datepicker?"dialog":null)("aria-label",o.ariaLabel||o._intl.openCalendarLabel)("tabindex",o.disabled?-1:o.tabIndex),te(2),kn(o._customIcon?-1:2))},dependencies:[vC],styles:[".mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color, var(--mat-app-on-surface-variant))}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color, var(--mat-app-on-surface-variant))}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0});let e=t;return e})();var Unt=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ue({type:t}),t.\u0275inj=ze({providers:[oR,M4t],imports:[$n,ju,Ac,DT,uv,Si,Vnt,U7,Bnt,Tc]});let e=t;return e})();var Wnt=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ue({type:t}),t.\u0275inj=ze({imports:[$n,Si]});let e=t;return e})();function P4t(e,t){e&1&&He(0,"div",2)}var N4t=new Se("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");var yD=(()=>{let t=class t{constructor(i,n,o,s,a){this._elementRef=i,this._ngZone=n,this._changeDetectorRef=o,this._animationMode=s,this._isNoopAnimation=!1,this._defaultColor="primary",this._value=0,this._bufferValue=0,this.animationEnd=new ai,this._mode="determinate",this._transitionendHandler=l=>{this.animationEnd.observers.length===0||!l.target||!l.target.classList.contains("mdc-linear-progress__primary-bar")||(this.mode==="determinate"||this.mode==="buffer")&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))},this._isNoopAnimation=s==="NoopAnimations",a&&(a.color&&(this.color=this._defaultColor=a.color),this.mode=a.mode||this.mode)}get color(){return this._color||this._defaultColor}set color(i){this._color=i}get value(){return this._value}set value(i){this._value=Ynt(i||0),this._changeDetectorRef.markForCheck()}get bufferValue(){return this._bufferValue||0}set bufferValue(i){this._bufferValue=Ynt(i||0),this._changeDetectorRef.markForCheck()}get mode(){return this._mode}set mode(i){this._mode=i,this._changeDetectorRef.markForCheck()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("transitionend",this._transitionendHandler)})}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._transitionendHandler)}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${this.mode==="buffer"?this.bufferValue:100}%`}_isIndeterminate(){return this.mode==="indeterminate"||this.mode==="query"}};t.\u0275fac=function(n){return new(n||t)(Pt(hi),Pt(ui),Pt(hr),Pt(Fo,8),Pt(N4t,8))},t.\u0275cmp=We({type:t,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(n,o){n&2&&(Yi("aria-valuenow",o._isIndeterminate()?null:o.value)("mode",o.mode),Js("mat-"+o.color),Vi("_mat-animation-noopable",o._isNoopAnimation)("mdc-linear-progress--animation-ready",!o._isNoopAnimation)("mdc-linear-progress--indeterminate",o._isIndeterminate()))},inputs:{color:"color",value:[2,"value","value",Va],bufferValue:[2,"bufferValue","bufferValue",Va],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],standalone:!0,features:[Br,li],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(n,o){n&1&&(ut(0,"div",0),He(1,"div",1),Xi(2,P4t,1,0,"div",2),dt(),ut(3,"div",3),He(4,"span",4),dt(),ut(5,"div",5),He(6,"span",4),dt()),n&2&&(te(),pa("flex-basis",o._getBufferBarFlexBasis()),te(),kn(o.mode==="buffer"?2:-1),te(),pa("transform",o._getPrimaryBarTransform()))},styles:[`.mat-mdc-progress-bar{display:block;text-align:start}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:max(var(--mdc-linear-progress-track-height),var(--mdc-linear-progress-active-indicator-height))}.cdk-high-contrast-active .mdc-linear-progress{outline-color:CanvasText}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}[dir=rtl] .mdc-linear-progress__bar{right:0;transform-origin:center right}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid;border-color:var(--mdc-linear-progress-active-indicator-color, var(--mat-app-primary));border-top-width:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden;height:var(--mdc-linear-progress-track-height);border-radius:var(--mdc-linear-progress-track-shape, var(--mat-app-corner-none))}.mdc-linear-progress__buffer-dots{-webkit-mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");background-repeat:repeat-x;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering 250ms infinite linear;background-color:var(--mdc-linear-progress-track-color, var(--mat-app-surface-variant))}.cdk-high-contrast-active .mdc-linear-progress__buffer-dots{background-color:ButtonBorder}[dir=rtl] .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);background-color:var(--mdc-linear-progress-track-color, var(--mat-app-surface-variant))}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height) * -2.5))}}@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(-83.67142%)}100%{transform:translateX(-200.611057%)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(-37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(-84.386165%)}100%{transform:translateX(-160.277782%)}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}`],encapsulation:2,changeDetection:0});let e=t;return e})();function Ynt(e,t=0,r=100){return Math.max(t,Math.min(r,e))}var _D=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ue({type:t}),t.\u0275inj=ze({imports:[Si]});let e=t;return e})();var qnt=(()=>{let t=class t{constructor(i){this.http=i,this.baseUrl="https://borealisdata.ca/api/info/metrics"}getDataverseCollections(){let i=`${this.baseUrl}/tree`;return this.http.get(i)}getMonthlyDownloads(i){let n=i?`?parentAlias=${i}`:"",o=`${this.baseUrl}/downloads/monthly/${n}`;return this.http.get(o)}getMonthlyDatasets(i){let n=i?`?parentAlias=${i}`:"",o=`${this.baseUrl}/datasets/monthly/${n}`;return this.http.get(o)}getMonthlyFiles(i){let n=i?`?parentAlias=${i}`:"",o=`${this.baseUrl}/files/monthly/${n}`;return this.http.get(o)}getMonthlyUsers(i){let n=`${this.baseUrl}/accounts/monthly/`;return this.http.get(n)}getSubjectData(i,n){let o=n?`?parentAlias=${n}`:"",s=`${this.baseUrl}/datasets/bySubject/toMonth/${i}${o}`;return this.http.get(s)}getFileContentData(i){let n=i?`?parentAlias=${i}`:"",o=`${this.baseUrl}/files/byType/monthly/${n}`;return this.http.get(o)}getDataverseCount(i,n){let o=n?`?parentAlias=${n}`:"",s=`${this.baseUrl}/dataverses/toMonth/${i}${o}`;return this.http.get(s)}getDataverseCreationDate(i=""){let n=`https://borealisdata.ca/api/dataverses/${i||":root"}`;return this.http.get(n).pipe(di(o=>{let s=o?.data?.creationDate??"";return{data:{date:s?s.slice(0,7):""}}}),zl(()=>De({data:{date:""}})))}getUniqueAuthors(i){let s=c=>{console.log(`Fetching page starting from: ${c}`);let d=Date.now();return this.getDatasets(i,c,500).pipe(di(u=>{let h=Date.now();return console.log(`Fetched page starting at ${c} in ${h-d}ms`),u?.data?.items||[]}))},l=Array.from({length:10},(c,d)=>d*500).map(c=>s(c));return Tu(l).pipe(di(c=>c.flat()),di(c=>{console.log(`Total items fetched: ${c.length}`);let d={};return c.forEach(u=>{let h=u.published_at||u.publicationDate;if(!h)return;let f=h.slice(0,7);d[f]||(d[f]=new Set),(u.authors||[]).forEach(m=>{let g=m.trim().toLowerCase();g&&d[f].add(g)})}),d}),di(c=>{let d=Object.keys(c).sort();if(d.length===0)return{data:[{date:"",count:0}]};let u=_=>{let[E,O]=_.split("-").map(Number);return O++,O>12&&(O=1,E++),`${E}-${O.toString().padStart(2,"0")}`},h=d[0],f=new Date,m=`${f.getFullYear()}-${(f.getMonth()+1).toString().padStart(2,"0")}`,g=new Set,p=[],b=h;for(;b<=m;)c[b]&&c[b].forEach(_=>g.add(_)),p.push({date:b,count:g.size}),b=u(b);return{data:p}}))}getAllMetrics(i="",n=""){let o=!1,s=()=>o=!0,a=i?this.withErrorHandling(this.getMonthlyUsers(i),s):this.withErrorHandling(this.getMonthlyUsers(i),s);return Tu([this.withErrorHandling(this.getDataverseCollections(),s),this.withErrorHandling(this.getMonthlyDownloads(i),s),this.withErrorHandling(this.getMonthlyDatasets(i),s),this.withErrorHandling(this.getMonthlyFiles(i),s),a,this.withErrorHandling(this.getSubjectData(n,i),s),this.withErrorHandling(this.getFileContentData(i),s),this.withErrorHandling(this.getDataverseCount(n,i),s),this.withErrorHandling(this.getDataverseCreationDate(i),s)]).pipe(di(l=>({data:l,errorOccurredFlag:o})))}getDatasets(i="",n=0,o=1e3){let s="https://borealisdata.ca/api/search",a={q:"*",type:"dataset",start:n.toString(),per_page:o.toString()};return i&&(a.subtree=i),this.http.get(s,{params:a})}withErrorHandling(i,n){return i.pipe(zl(o=>(n(),De({}))))}};t.\u0275fac=function(n){return new(n||t)(ee(qh))},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var wD=(()=>{let t=class t{constructor(){this._isLoading=new An(!1),this.isLoading$=this._isLoading.asObservable()}show(){this._isLoading.next(!0)}hide(){this._isLoading.next(!1)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Gnt=(()=>{let t=class t{constructor(i,n){this.apiService=i,this.loadingService=n,this.collectionSelected="",this.collectionSelectedName="",this.start_on=!1,this.startDate="",this.endDate="",this.downloads_rsp=[],this.datasets_rsp=[],this.files_rsp=[],this.users_rsp=[],this.subject_rsp=[],this.filecontent_rsp=[],this.filecontent_rsp_date_range=[],this.data=[],this.dataversesDataTree=[],this.dataverseCollections=[],this.dataverseAlias=[],this.dataverseCollectionsDropDown=[],this.table_dataset_rsp={},this.table_file_rsp={},this.dataverseCount=0,this.datasetURL="",this.fileURL="",this.subjectURL="",this.fileContentURL="",this.datasetsContents=[],this.datasets=[],this.filesContents=[],this.files=[],this.subjectContents=[],this.subjectLabels=[],this.subjectData=[],this.subjectContentFullData=[],this.fileContentHash={},this.fileContentDetailHash={},this.fileContentLabels=[],this.fileContentData=[],this.fileContentFullData=[],this.months=[],this.monthsDate=[],this.monthlyDownloads=[],this.monthlyDatasets=[],this.monthlyFiles=[],this.monthlyUsers=[],this.monthlyAggDownloads=[],this.monthlyAggDatasets=[],this.monthlyAggFiles=[],this.monthlyAggUsers=[],this.fileSizeHash={},this.sizeLabels=[],this.monthlySize=[],this.monthlyAggSize=[],this.observables=[],this.isLoading=!1,this.firstAPIGet=!0,this.dateRangeOn=!1,this.errorFlag=!1,this.messageEvent=new ai}ngOnChanges(){this.firstAPIGet||(this.cleanTempData(),console.log("Clean Up Time")),this.populateMonths(),console.log(this.months),console.log("date",this.dateRangeOn,this.startDate,this.endDate),this.apiService.getAllMetrics(this.cleanedParentAlias,this.months[0]).subscribe(({data:i,errorOccurredFlag:n})=>{this.loadingService.hide(),console.log("raw responses,",i),this.errorFlag=n,[this.data_rsp,this.downloads_rsp,this.datasets_rsp,this.files_rsp,this.users_rsp,this.subject_rsp,this.filecontent_rsp,this.dataverse_rsp,this.creation_date_rs]=i.map((d,u)=>d&&typeof d.data=="object"&&Object.keys(d.data).length===0?[0,7,8].includes(u)?{}:[]:d.data),console.log(this.creation_date_rs),this.creation_date_rs?.date&&(this.creationDate=this.creation_date_rs.date),this.dataversesDataTree=Array.isArray(this.data_rsp?.children)?this.data_rsp.children:[],this.dataverseCollections=this.dataversesDataTree.map(d=>({name:d.name})),this.firstAPIGet||(this.dataverseAlias=this.dataversesDataTree.map(d=>({alias:d.alias,name:d.name})),this.dataverseCollectionsDropDown=this.dataversesDataTree.map(d=>d.name)),console.log("look at the months,",this.months),(!Array.isArray(this.downloads_rsp)||this.downloads_rsp.length<this.months.length)&&(this.months=Array.isArray(this.downloads_rsp)?this.downloads_rsp.map(d=>d.date).reverse():this.months);for(let d=0;d<this.months.length-1;d++){let u=this.months[d],h=this.months[d+1],f=_=>E=>_.find(O=>O.date===E)?.count??0,m=Array.isArray(this.downloads_rsp)?f(this.downloads_rsp):()=>0,g=Array.isArray(this.datasets_rsp)?f(this.datasets_rsp):()=>0,p=Array.isArray(this.files_rsp)?f(this.files_rsp):()=>0,b=Array.isArray(this.users_rsp)?f(this.users_rsp):()=>0;this.monthlyDownloads.push(m(u)),this.monthlyAggDownloads.push(m(u)-m(h)),this.monthlyDatasets.push(g(u)),this.monthlyAggDatasets.push(g(u)-g(h)),this.monthlyFiles.push(p(u)),this.monthlyAggFiles.push(p(u)-p(h)),this.monthlyUsers.push(b(u)),this.monthlyAggUsers.push(b(u)-b(h))}let o=Array.isArray(this.subject_rsp)?this.subject_rsp.reduce((d,u)=>d+u.count,0):0;this.subjectContentFullData=this.subject_rsp.map(d=>({subject:d.subject,count:d.count,percent:o>0?(d.count/o).toFixed(4):"0.0000"})),this.subjectLabels=Array.isArray(this.subject_rsp)?this.subject_rsp.map(d=>d.subject):[],this.subjectData=Array.isArray(this.subject_rsp)?this.subject_rsp.map(d=>d.count):[];let s=Array.isArray(this.filecontent_rsp)?this.filecontent_rsp.reduce((d,u)=>d+u.count,0):0;this.fileSizeHash=Array.isArray(this.filecontent_rsp)?this.filecontent_rsp.reduce((d,u)=>{let h=u.date,f=parseFloat((u.size/Math.pow(1024,3)).toFixed(4));return d[h]=(d[h]||0)+f,d},{}):{};let l=Object.entries(this.fileSizeHash).filter(([d])=>this.months.includes(String(d)));this.sizeLabels=[],this.monthlySize=[],this.monthlyAggSize=[];for(let d=0;d<l.length-1;d++)this.sizeLabels.push(l[d][0]),this.monthlySize.push(l[d][1]),this.monthlyAggSize.push(l[d+1][1]-l[d][1]);this.monthlySize.reverse(),this.monthlyAggSize.reverse(),console.log("size stuff",this.monthlySize,this.monthlyAggSize),this.dataverseCount=this.dataverse_rsp?.count??0,this.start_on?this.filecontent_rsp_date_range=Array.isArray(this.filecontent_rsp)?this.filecontent_rsp.filter(d=>this.months.slice(0,-1).includes(d.date)):[]:this.filecontent_rsp_date_range=Array.isArray(this.filecontent_rsp)?this.filecontent_rsp:[],console.log(this.filecontent_rsp_date_range),this.fileContentHash={},this.fileContentDetailHash={},this.filecontent_rsp_date_range.forEach(d=>{let u=d.contenttype?.split("/")[0]??"",h=d.count??0;d.date===this.months[0]&&(this.fileContentHash[u]=(this.fileContentHash[u]||0)+h,this.fileContentDetailHash[d.contenttype]=(this.fileContentDetailHash[d.contenttype]||0)+h)});let c=Object.values(this.fileContentHash).reduce((d,u)=>d+u,0);console.log("count",c),this.fileContentFullData=Object.entries(this.fileContentDetailHash).map(([d,u])=>{let h=d.split("/")[0];return{type:h,contenttype:d,count:u,percent:c>0?(this.fileContentHash[h]/c).toFixed(4):"0"}}),console.log(this.fileContentHash),console.log(this.fileContentDetailHash),this.fileContentLabels=Object.keys(this.fileContentHash),this.fileContentData=Object.values(this.fileContentHash),this.monthlyDownloads.reverse(),this.monthlyDatasets.reverse(),this.monthlyFiles.reverse(),this.monthlyUsers.reverse(),this.monthlySize.reverse(),this.monthlyAggDownloads.reverse(),this.monthlyAggDatasets.reverse(),this.monthlyAggFiles.reverse(),this.monthlyAggUsers.reverse(),this.monthlyAggSize.reverse(),this.months.reverse(),this.months.shift(),this.sendData()},i=>{console.error("API Error:",i),this.data_rsp={},this.downloads_rsp=[],this.datasets_rsp=[],this.files_rsp=[],this.users_rsp=[],this.subject_rsp=[],this.filecontent_rsp=[],this.dataverse_rsp={},this.authors_rsp={},this.loadingService.show(),this.firstAPIGet=!1}),this.loadingService.show(),this.firstAPIGet=!1}sendData(){var i={table_data:this.dataverseCollections,alias_data:this.dataverseAlias,downloads_graph_data:this.monthlyDownloads,dataverse_count:this.dataverseCount,datasets_graph_data:this.monthlyDatasets,files_graph_data:this.monthlyFiles,users_graph_data:this.monthlyUsers,size_graph_data:this.monthlySize,downloads_graph_agg_data:this.monthlyAggDownloads,datasets_graph_agg_data:this.monthlyAggDatasets,files_graph_agg_data:this.monthlyAggFiles,users_graph_agg_data:this.monthlyAggUsers,size_graph_agg_data:this.monthlyAggSize,subject_label_data:this.subjectLabels,subject_data:this.subjectData,subject_full_data:this.subjectContentFullData,file_content_label_data:this.fileContentLabels,file_content_data:this.fileContentData,file_content_full_data:this.fileContentFullData,name_dropdown_data:this.dataverseCollectionsDropDown,creation_date:this.creationDate,months:this.months,error_flag:this.errorFlag};console.log(i),this.messageEvent.emit({DataverseTabData:i})}populateMonths(){this.months=[];let i=24;this.start_on&&this.startDate&&this.endDate&&(i=this.monthAmount(this.startDate,this.endDate));let n=this.endDate?new Date(Date.parse(this.endDate+"-02")):new Date;console.log("months",n,this.startDate,this.endDate),new Date().getDate()<7&&!this.start_on&&n.setMonth(n.getMonth()-1),console.log("months",n);let o=!1;console.log("months diff",i,this.startDate,this.endDate);for(let s=0;s<=i;s++){let a=n.getMonth()+1,c=`${n.getFullYear()}-${String(a).padStart(2,"0")}`;console.log("months one by one",c,s),this.months.push(c),console.log(this.months),this.start_on&&c===this.startDate&&(o=!0),n.setMonth(n.getMonth()-1)}this.months.sort((s,a)=>s<a?1:-1)}monthAmount(i,n){let o=new Date(Date.parse(i+"-01")),s=new Date(Date.parse(n+"-01")),a=(s.getFullYear()-o.getFullYear())*12+(s.getMonth()-o.getMonth());return a===0?1:a===1?2:Math.abs(a)+1}cleanTempData(){this.dataverseCollectionsDropDown=[],this.dataverseCollections=[],this.dataverseAlias=[],this.dataversesDataTree=[],this.dataverse_rsp=[],this.filecontent_rsp=[],this.filecontent_rsp_date_range=[],this.observables=[],this.monthlyDownloads=[],this.monthlyDatasets=[],this.monthlyFiles=[],this.monthlyUsers=[],this.monthlySize=[],this.monthlyAggDownloads=[],this.monthlyAggDatasets=[],this.monthlyAggFiles=[],this.monthlyAggUsers=[],this.monthlyAggSize=[],this.datasetURL="",this.datasetsContents=[],this.datasets=[],this.subjectURL="",this.subjectContents=[],this.subjectLabels=[],this.subjectData=[],this.subjectContentFullData=[],this.fileContentURL="",this.fileContentHash={},this.fileSizeHash={},this.fileContentDetailHash={},this.fileContentLabels=[],this.fileContentData=[],this.fileContentFullData=[],this.dataverseCount=0,this.months=[],this.creation_date_rs="",this.creationDate="",this.errorFlag=!1}get cleanedParentAlias(){return this.collectionSelected==="(All)"?"":this.collectionSelected}findAliasRow(i,n){for(let o=0;o<=i.length;o++)if(i[o]&&i[o].alias===n)return o;return-1}};t.\u0275fac=function(n){return new(n||t)(Pt(qnt),Pt(wD))},t.\u0275cmp=We({type:t,selectors:[["app-posts"]],inputs:{collectionSelected:"collectionSelected",collectionSelectedName:"collectionSelectedName",start_on:"start_on",startDate:"startDate",endDate:"endDate"},outputs:{messageEvent:"messageEvent"},standalone:!0,features:[er,li],decls:0,vars:0,template:function(n,o){},dependencies:[ZB,Wnt,$n,_D],styles:[".loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#0000004d;z-index:9999}"]});let e=t;return e})();var W7=class{constructor(){this.expansionModel=new kw(!0)}toggle(t){this.expansionModel.toggle(this._trackByValue(t))}expand(t){this.expansionModel.select(this._trackByValue(t))}collapse(t){this.expansionModel.deselect(this._trackByValue(t))}isExpanded(t){return this.expansionModel.isSelected(this._trackByValue(t))}toggleDescendants(t){this.expansionModel.isSelected(this._trackByValue(t))?this.collapseDescendants(t):this.expandDescendants(t)}collapseAll(){this.expansionModel.clear()}expandDescendants(t){let r=[t];r.push(...this.getDescendants(t)),this.expansionModel.select(...r.map(i=>this._trackByValue(i)))}collapseDescendants(t){let r=[t];r.push(...this.getDescendants(t)),this.expansionModel.deselect(...r.map(i=>this._trackByValue(i)))}_trackByValue(t){return this.trackBy?this.trackBy(t):t}},CD=class extends W7{constructor(t,r,i){super(),this.getLevel=t,this.isExpandable=r,this.options=i,this.options&&(this.trackBy=this.options.trackBy)}getDescendants(t){let r=this.dataNodes.indexOf(t),i=[];for(let n=r+1;n<this.dataNodes.length&&this.getLevel(t)<this.getLevel(this.dataNodes[n]);n++)i.push(this.dataNodes[n]);return i}expandAll(){this.expansionModel.select(...this.dataNodes.map(t=>this._trackByValue(t)))}};var q7=new Se("CDK_TREE_NODE_OUTLET_NODE"),xD=(()=>{let t=class t{constructor(i,n){this.viewContainer=i,this._node=n}};t.\u0275fac=function(n){return new(n||t)(Pt(ps),Pt(q7,8))},t.\u0275dir=ni({type:t,selectors:[["","cdkTreeNodeOutlet",""]],standalone:!0});let e=t;return e})(),Y7=class{constructor(t){this.$implicit=t}},SD=(()=>{let t=class t{constructor(i){this.template=i}};t.\u0275fac=function(n){return new(n||t)(Pt(dl))},t.\u0275dir=ni({type:t,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:[0,"cdkTreeNodeDefWhen","when"]},standalone:!0});let e=t;return e})();function Knt(){return Error("Could not find a tree control, levelAccessor, or childrenAccessor for the tree.")}var Kp=(()=>{let t=class t{get dataSource(){return this._dataSource}set dataSource(i){this._dataSource!==i&&this._switchDataSource(i)}constructor(i,n){this._differs=i,this._changeDetectorRef=n,this._dir=pe(ks),this._onDestroy=new Je,this._levels=new Map,this._parents=new Map,this._ariaSets=new Map,this.viewChange=new An({start:0,end:Number.MAX_VALUE}),this._flattenedNodes=new An([]),this._nodeType=new An(null),this._nodes=new An(new Map),this._keyManagerNodes=new An([]),this._keyManagerFactory=pe(uV),this._viewInit=!1}ngAfterContentInit(){this._initializeKeyManager()}ngAfterContentChecked(){this._updateDefaultNodeDefinition(),this._subscribeToDataChanges()}ngOnDestroy(){this._nodeOutlet.viewContainer.clear(),this.viewChange.complete(),this._onDestroy.next(),this._onDestroy.complete(),this._dataSource&&typeof this._dataSource.disconnect=="function"&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),this._keyManager?.destroy()}ngOnInit(){this._checkTreeControlUsage(),this._initializeDataDiffer()}ngAfterViewInit(){this._viewInit=!0}_updateDefaultNodeDefinition(){let i=this._nodeDefs.filter(n=>!n.when);i.length>1,this._defaultNodeDef=i[0]}_setNodeTypeIfUnset(i){this._nodeType.value===null&&this._nodeType.next(i)}_switchDataSource(i){this._dataSource&&typeof this._dataSource.disconnect=="function"&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),i||this._nodeOutlet.viewContainer.clear(),this._dataSource=i,this._nodeDefs&&this._subscribeToDataChanges()}_getExpansionModel(){return this.treeControl?this.treeControl.expansionModel:(this._expansionModel??=new kw(!0),this._expansionModel)}_subscribeToDataChanges(){if(this._dataSubscription)return;let i;IV(this._dataSource)?i=this._dataSource.connect(this):Ru(this._dataSource)?i=this._dataSource:Array.isArray(this._dataSource)&&(i=De(this._dataSource)),i&&(this._dataSubscription=this._getRenderData(i).pipe(qn(this._onDestroy)).subscribe(n=>{this._renderDataChanges(n)}))}_getRenderData(i){let n=this._getExpansionModel();return wc([i,this._nodeType,n.changed.pipe(Ts(null),fn(o=>{this._emitExpansionChanges(o)}))]).pipe(yo(([o,s])=>s===null?De({renderNodes:o,flattenedNodes:null,nodeType:s}):this._computeRenderingData(o,s).pipe(di(a=>je(Vt({},a),{nodeType:s})))))}_renderDataChanges(i){if(i.nodeType===null){this.renderNodeChanges(i.renderNodes);return}this._updateCachedData(i.flattenedNodes),this.renderNodeChanges(i.renderNodes),this._updateKeyManagerItems(i.flattenedNodes)}_emitExpansionChanges(i){if(!i)return;let n=this._nodes.value;for(let o of i.added)n.get(o)?._emitExpansionState(!0);for(let o of i.removed)n.get(o)?._emitExpansionState(!1)}_initializeKeyManager(){let i=wc([this._keyManagerNodes,this._nodes]).pipe(di(([o,s])=>o.reduce((a,l)=>{let c=s.get(this._getExpansionKey(l));return c&&a.push(c),a},[]))),n={trackBy:o=>this._getExpansionKey(o.data),skipPredicate:o=>!!o.isDisabled,typeAheadDebounceInterval:!0,horizontalOrientation:this._dir.value};this._keyManager=this._keyManagerFactory(i,n)}_initializeDataDiffer(){let i=this.trackBy??((n,o)=>this._getExpansionKey(o));this._dataDiffer=this._differs.find([]).create(i)}_checkTreeControlUsage(){}renderNodeChanges(i,n=this._dataDiffer,o=this._nodeOutlet.viewContainer,s){let a=n.diff(i);!a&&!this._viewInit||(a?.forEachOperation((l,c,d)=>{if(l.previousIndex==null)this.insertNode(i[d],d,o,s);else if(d==null)o.remove(c);else{let u=o.get(c);o.move(u,d)}}),a?.forEachIdentityChange(l=>{let c=l.item;if(l.currentIndex!=null){let d=o.get(l.currentIndex);d.context.$implicit=c}}),s?this._changeDetectorRef.markForCheck():this._changeDetectorRef.detectChanges())}_getNodeDef(i,n){if(this._nodeDefs.length===1)return this._nodeDefs.first;let o=this._nodeDefs.find(s=>s.when&&s.when(n,i))||this._defaultNodeDef;return o}insertNode(i,n,o,s){let a=this._getLevelAccessor(),l=this._getNodeDef(i,n),c=this._getExpansionKey(i),d=new Y7(i);s??=this._parents.get(c)??void 0,a?d.level=a(i):s!==void 0&&this._levels.has(this._getExpansionKey(s))?d.level=this._levels.get(this._getExpansionKey(s))+1:d.level=0,this._levels.set(c,d.level),(o||this._nodeOutlet.viewContainer).createEmbeddedView(l.template,d,n),lb.mostRecentTreeNode&&(lb.mostRecentTreeNode.data=i)}isExpanded(i){return!!(this.treeControl?.isExpanded(i)||this._expansionModel?.isSelected(this._getExpansionKey(i)))}toggle(i){this.treeControl?this.treeControl.toggle(i):this._expansionModel&&this._expansionModel.toggle(this._getExpansionKey(i))}expand(i){this.treeControl?this.treeControl.expand(i):this._expansionModel&&this._expansionModel.select(this._getExpansionKey(i))}collapse(i){this.treeControl?this.treeControl.collapse(i):this._expansionModel&&this._expansionModel.deselect(this._getExpansionKey(i))}toggleDescendants(i){this.treeControl?this.treeControl.toggleDescendants(i):this._expansionModel&&(this.isExpanded(i)?this.collapseDescendants(i):this.expandDescendants(i))}expandDescendants(i){if(this.treeControl)this.treeControl.expandDescendants(i);else if(this._expansionModel){let n=this._expansionModel;n.select(this._getExpansionKey(i)),this._getDescendants(i).pipe(to(1),qn(this._onDestroy)).subscribe(o=>{n.select(...o.map(s=>this._getExpansionKey(s)))})}}collapseDescendants(i){if(this.treeControl)this.treeControl.collapseDescendants(i);else if(this._expansionModel){let n=this._expansionModel;n.deselect(this._getExpansionKey(i)),this._getDescendants(i).pipe(to(1),qn(this._onDestroy)).subscribe(o=>{n.deselect(...o.map(s=>this._getExpansionKey(s)))})}}expandAll(){this.treeControl?this.treeControl.expandAll():this._expansionModel&&this._expansionModel.select(...this._flattenedNodes.value.map(n=>this._getExpansionKey(n)))}collapseAll(){this.treeControl?this.treeControl.collapseAll():this._expansionModel&&this._expansionModel.deselect(...this._flattenedNodes.value.map(n=>this._getExpansionKey(n)))}_getLevelAccessor(){return this.treeControl?.getLevel?.bind(this.treeControl)??this.levelAccessor}_getChildrenAccessor(){return this.treeControl?.getChildren?.bind(this.treeControl)??this.childrenAccessor}_getDirectChildren(i){let n=this._getLevelAccessor(),o=this._expansionModel??this.treeControl?.expansionModel;if(!o)return De([]);let s=this._getExpansionKey(i),a=o.changed.pipe(yo(c=>c.added.includes(s)?De(!0):c.removed.includes(s)?De(!1):cl),Ts(this.isExpanded(i)));if(n)return wc([a,this._flattenedNodes]).pipe(di(([c,d])=>c?this._findChildrenByLevel(n,d,i,1):[]));let l=this._getChildrenAccessor();if(l)return Dg(l(i)??[]);throw Knt()}_findChildrenByLevel(i,n,o,s){let a=this._getExpansionKey(o),l=n.findIndex(h=>this._getExpansionKey(h)===a),c=i(o),d=c+s,u=[];for(let h=l+1;h<n.length;h++){let f=i(n[h]);if(f<=c)break;f<=d&&u.push(n[h])}return u}_registerNode(i){this._nodes.value.set(this._getExpansionKey(i.data),i),this._nodes.next(this._nodes.value)}_unregisterNode(i){this._nodes.value.delete(this._getExpansionKey(i.data)),this._nodes.next(this._nodes.value)}_getLevel(i){return this._levels.get(this._getExpansionKey(i))}_getSetSize(i){return this._getAriaSet(i).length}_getPositionInSet(i){let n=this._getAriaSet(i),o=this._getExpansionKey(i);return n.findIndex(s=>this._getExpansionKey(s)===o)+1}_getNodeParent(i){let n=this._parents.get(this._getExpansionKey(i.data));return n&&this._nodes.value.get(this._getExpansionKey(n))}_getNodeChildren(i){return this._getDirectChildren(i.data).pipe(di(n=>n.reduce((o,s)=>{let a=this._nodes.value.get(this._getExpansionKey(s));return a&&o.push(a),o},[])))}_sendKeydownToKeyManager(i){this._keyManager.onKeydown(i)}_getDescendants(i){if(this.treeControl)return De(this.treeControl.getDescendants(i));if(this.levelAccessor){let n=this._findChildrenByLevel(this.levelAccessor,this._flattenedNodes.value,i,1/0);return De(n)}if(this.childrenAccessor)return this._getAllChildrenRecursively(i).pipe(xO((n,o)=>(n.push(...o),n),[]));throw Knt()}_getAllChildrenRecursively(i){return this.childrenAccessor?Dg(this.childrenAccessor(i)).pipe(to(1),yo(n=>{for(let o of n)this._parents.set(this._getExpansionKey(o),i);return De(...n).pipe(yd(o=>wg(De([o]),this._getAllChildrenRecursively(o))))})):De([])}_getExpansionKey(i){return this.expansionKey?.(i)??i}_getAriaSet(i){let n=this._getExpansionKey(i),o=this._parents.get(n),s=o?this._getExpansionKey(o):null;return this._ariaSets.get(s)??[i]}_findParentForNode(i,n,o){if(!o.length)return null;let s=this._levels.get(this._getExpansionKey(i))??0;for(let a=n-1;a>=0;a--){let l=o[a];if((this._levels.get(this._getExpansionKey(l))??0)<s)return l}return null}_flattenNestedNodesWithExpansion(i,n=0){let o=this._getChildrenAccessor();return o?De(...i).pipe(yd(s=>{let a=this._getExpansionKey(s);this._parents.has(a)||this._parents.set(a,null),this._levels.set(a,n);let l=Dg(o(s));return wg(De([s]),l.pipe(to(1),fn(c=>{this._ariaSets.set(a,[...c??[]]);for(let d of c??[]){let u=this._getExpansionKey(d);this._parents.set(u,s),this._levels.set(u,n+1)}}),yo(c=>c?this._flattenNestedNodesWithExpansion(c,n+1).pipe(di(d=>this.isExpanded(s)?d:[])):De([]))))}),xO((s,a)=>(s.push(...a),s),[])):De([...i])}_computeRenderingData(i,n){if(this.childrenAccessor&&n==="flat")return this._ariaSets.set(null,[...i]),this._flattenNestedNodesWithExpansion(i).pipe(di(o=>({renderNodes:o,flattenedNodes:o})));if(this.levelAccessor&&n==="nested"){let o=this.levelAccessor;return De(i.filter(s=>o(s)===0)).pipe(di(s=>({renderNodes:s,flattenedNodes:i})),fn(({flattenedNodes:s})=>{this._calculateParents(s)}))}else return n==="flat"?De({renderNodes:i,flattenedNodes:i}).pipe(fn(({flattenedNodes:o})=>{this._calculateParents(o)})):(this._ariaSets.set(null,[...i]),this._flattenNestedNodesWithExpansion(i).pipe(di(o=>({renderNodes:i,flattenedNodes:o}))))}_updateCachedData(i){this._flattenedNodes.next(i)}_updateKeyManagerItems(i){this._keyManagerNodes.next(i)}_calculateParents(i){let n=this._getLevelAccessor();if(n){this._parents.clear(),this._ariaSets.clear();for(let o=0;o<i.length;o++){let s=i[o],a=this._getExpansionKey(s);this._levels.set(a,n(s));let l=this._findParentForNode(s,o,i);this._parents.set(a,l);let c=l?this._getExpansionKey(l):null,d=this._ariaSets.get(c)??[];d.splice(o,0,s),this._ariaSets.set(c,d)}}}};t.\u0275fac=function(n){return new(n||t)(Pt(Y1),Pt(hr))},t.\u0275cmp=We({type:t,selectors:[["cdk-tree"]],contentQueries:function(n,o,s){if(n&1&&As(s,SD,5),n&2){let a;Hi(a=Bi())&&(o._nodeDefs=a)}},viewQuery:function(n,o){if(n&1&&or(xD,7),n&2){let s;Hi(s=Bi())&&(o._nodeOutlet=s.first)}},hostAttrs:["role","tree",1,"cdk-tree"],hostBindings:function(n,o){n&1&&Ke("keydown",function(a){return o._sendKeydownToKeyManager(a)})},inputs:{dataSource:"dataSource",treeControl:"treeControl",levelAccessor:"levelAccessor",childrenAccessor:"childrenAccessor",trackBy:"trackBy",expansionKey:"expansionKey"},exportAs:["cdkTree"],standalone:!0,features:[li],decls:1,vars:0,consts:[["cdkTreeNodeOutlet",""]],template:function(n,o){n&1&&Rg(0,0)},dependencies:[xD],encapsulation:2});let e=t;return e})(),lb=(()=>{let t=class t{get role(){return"treeitem"}set role(i){}get isExpandable(){return this._isExpandable()}set isExpandable(i){this._inputIsExpandable=i,!(this.data&&!this._isExpandable||!this._inputIsExpandable)&&(this._inputIsExpanded?this.expand():this._inputIsExpanded===!1&&this.collapse())}get isExpanded(){return this._tree.isExpanded(this._data)}set isExpanded(i){this._inputIsExpanded=i,i?this.expand():this.collapse()}getLabel(){return this.typeaheadLabel||this._elementRef.nativeElement.textContent?.trim()||""}get data(){return this._data}set data(i){i!==this._data&&(this._data=i,this._dataChanges.next())}get isLeafNode(){return this._tree.treeControl?.isExpandable!==void 0&&!this._tree.treeControl.isExpandable(this._data)?!0:this._tree.treeControl?.isExpandable===void 0&&this._tree.treeControl?.getDescendants(this._data).length===0}get level(){return this._tree._getLevel(this._data)??this._parentNodeAriaLevel}_isExpandable(){return this._tree.treeControl?!this.isLeafNode:this._inputIsExpandable}_getAriaExpanded(){return this._isExpandable()?String(this.isExpanded):null}_getSetSize(){return this._tree._getSetSize(this._data)}_getPositionInSet(){return this._tree._getPositionInSet(this._data)}constructor(i,n){this._elementRef=i,this._tree=n,this._tabindex=-1,this.activation=new ai,this.expandedChange=new ai,this._destroyed=new Je,this._dataChanges=new Je,this._inputIsExpandable=!1,this._inputIsExpanded=void 0,this._shouldFocus=!0,this._changeDetectorRef=pe(hr),t.mostRecentTreeNode=this}ngOnInit(){this._parentNodeAriaLevel=H4t(this._elementRef.nativeElement),this._tree._getExpansionModel().changed.pipe(di(()=>this.isExpanded),xg()).subscribe(()=>{this._changeDetectorRef.markForCheck()}),this._tree._setNodeTypeIfUnset("flat"),this._tree._registerNode(this)}ngOnDestroy(){t.mostRecentTreeNode===this&&(t.mostRecentTreeNode=null),this._dataChanges.complete(),this._destroyed.next(),this._destroyed.complete()}getParent(){return this._tree._getNodeParent(this)??null}getChildren(){return this._tree._getNodeChildren(this)}focus(){this._tabindex=0,this._shouldFocus&&this._elementRef.nativeElement.focus(),this._changeDetectorRef.markForCheck()}unfocus(){this._tabindex=-1,this._changeDetectorRef.markForCheck()}activate(){this.isDisabled||this.activation.next(this._data)}collapse(){this.isExpandable&&this._tree.collapse(this._data)}expand(){this.isExpandable&&this._tree.expand(this._data)}makeFocusable(){this._tabindex=0,this._changeDetectorRef.markForCheck()}_focusItem(){this.isDisabled||this._tree._keyManager.focusItem(this)}_setActiveItem(){this.isDisabled||(this._shouldFocus=!1,this._tree._keyManager.focusItem(this),this._shouldFocus=!0)}_emitExpansionState(i){this.expandedChange.emit(i)}};t.mostRecentTreeNode=null,t.\u0275fac=function(n){return new(n||t)(Pt(hi),Pt(Kp))},t.\u0275dir=ni({type:t,selectors:[["cdk-tree-node"]],hostAttrs:["role","treeitem",1,"cdk-tree-node"],hostVars:5,hostBindings:function(n,o){n&1&&Ke("click",function(){return o._setActiveItem()})("focus",function(){return o._focusItem()}),n&2&&(Ba("tabindex",o._tabindex),Yi("aria-expanded",o._getAriaExpanded())("aria-level",o.level+1)("aria-posinset",o._getPositionInSet())("aria-setsize",o._getSetSize()))},inputs:{role:"role",isExpandable:[2,"isExpandable","isExpandable",Sr],isExpanded:"isExpanded",isDisabled:[2,"isDisabled","isDisabled",Sr],typeaheadLabel:[0,"cdkTreeNodeTypeaheadLabel","typeaheadLabel"]},outputs:{activation:"activation",expandedChange:"expandedChange"},exportAs:["cdkTreeNode"],standalone:!0,features:[Br]});let e=t;return e})();function H4t(e){let t=e.parentElement;for(;t&&!B4t(t);)t=t.parentElement;return t?t.classList.contains("cdk-nested-tree-node")?Va(t.getAttribute("aria-level")):0:-1}function B4t(e){let t=e.classList;return!!(t?.contains("cdk-nested-tree-node")||t?.contains("cdk-tree"))}var j4t=/([A-Za-z%]+)$/,$7=(()=>{let t=class t{get level(){return this._level}set level(i){this._setLevelInput(i)}get indent(){return this._indent}set indent(i){this._setIndentInput(i)}constructor(i,n,o,s){this._treeNode=i,this._tree=n,this._element=o,this._dir=s,this._destroyed=new Je,this.indentUnits="px",this._indent=40,this._setPadding(),s&&s.change.pipe(qn(this._destroyed)).subscribe(()=>this._setPadding(!0)),i._dataChanges.subscribe(()=>this._setPadding())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_paddingIndent(){let i=(this._treeNode.data&&this._tree._getLevel(this._treeNode.data))??null,n=this._level==null?i:this._level;return typeof n=="number"?`${n*this._indent}${this.indentUnits}`:null}_setPadding(i=!1){let n=this._paddingIndent();if(n!==this._currentPadding||i){let o=this._element.nativeElement,s=this._dir&&this._dir.value==="rtl"?"paddingRight":"paddingLeft",a=s==="paddingLeft"?"paddingRight":"paddingLeft";o.style[s]=n||"",o.style[a]="",this._currentPadding=n}}_setLevelInput(i){this._level=isNaN(i)?null:i,this._setPadding()}_setIndentInput(i){let n=i,o="px";if(typeof i=="string"){let s=i.split(j4t);n=s[0],o=s[1]||o}this.indentUnits=o,this._indent=Va(n),this._setPadding()}};t.\u0275fac=function(n){return new(n||t)(Pt(lb),Pt(Kp),Pt(hi),Pt(ks,8))},t.\u0275dir=ni({type:t,selectors:[["","cdkTreeNodePadding",""]],inputs:{level:[2,"cdkTreeNodePadding","level",Va],indent:[0,"cdkTreeNodePaddingIndent","indent"]},standalone:!0,features:[Br]});let e=t;return e})(),G7=(()=>{let t=class t{constructor(i,n){this._tree=i,this._treeNode=n,this.recursive=!1}_toggle(){this.recursive?this._tree.toggleDescendants(this._treeNode.data):this._tree.toggle(this._treeNode.data),this._tree._keyManager.focusItem(this._treeNode)}};t.\u0275fac=function(n){return new(n||t)(Pt(Kp),Pt(lb))},t.\u0275dir=ni({type:t,selectors:[["","cdkTreeNodeToggle",""]],hostAttrs:["tabindex","-1"],hostBindings:function(n,o){n&1&&Ke("click",function(a){return o._toggle(),a.stopPropagation()})("keydown.Enter",function(a){return o._toggle(),a.preventDefault()})("keydown.Space",function(a){return o._toggle(),a.preventDefault()})},inputs:{recursive:[2,"cdkTreeNodeToggleRecursive","recursive",Sr]},standalone:!0,features:[Br]});let e=t;return e})();var Xnt=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ue({type:t}),t.\u0275inj=ze({});let e=t;return e})();function z4t(e){return!!e._isNoopTreeKeyManager}var Qnt=(()=>{let t=class t extends lb{get tabIndexInputBinding(){return this._tabIndexInputBinding}set tabIndexInputBinding(i){this._tabIndexInputBinding=i}_getTabindexAttribute(){return z4t(this._tree._keyManager)?this.tabIndexInputBinding:this._tabindex}get disabled(){return this.isDisabled}set disabled(i){this.isDisabled=i}constructor(i,n,o){super(i,n),this.defaultTabIndex=0,this.tabIndexInputBinding=Number(o)||this.defaultTabIndex}ngOnInit(){super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}};t.\u0275fac=function(n){return new(n||t)(Pt(hi),Pt(Kp),Yl("tabindex"))},t.\u0275dir=ni({type:t,selectors:[["mat-tree-node"]],hostAttrs:[1,"mat-tree-node"],hostVars:5,hostBindings:function(n,o){n&1&&Ke("click",function(){return o._focusItem()}),n&2&&(Ba("tabindex",o._getTabindexAttribute()),Yi("aria-expanded",o._getAriaExpanded())("aria-level",o.level+1)("aria-posinset",o._getPositionInSet())("aria-setsize",o._getSetSize()))},inputs:{tabIndexInputBinding:[2,"tabIndex","tabIndexInputBinding",i=>i==null?0:Va(i)],disabled:[2,"disabled","disabled",Sr]},outputs:{activation:"activation",expandedChange:"expandedChange"},exportAs:["matTreeNode"],standalone:!0,features:[gr([{provide:lb,useExisting:t}]),Br,Gr]});let e=t;return e})(),Jnt=(()=>{let t=class t extends SD{};t.\u0275fac=(()=>{let i;return function(o){return(i||(i=Ms(t)))(o||t)}})(),t.\u0275dir=ni({type:t,selectors:[["","matTreeNodeDef",""]],inputs:{when:[0,"matTreeNodeDefWhen","when"],data:[0,"matTreeNode","data"]},standalone:!0,features:[gr([{provide:SD,useExisting:t}]),Gr]});let e=t;return e})();var tot=(()=>{let t=class t extends $7{get level(){return this._level}set level(i){this._setLevelInput(i)}get indent(){return this._indent}set indent(i){this._setIndentInput(i)}};t.\u0275fac=(()=>{let i;return function(o){return(i||(i=Ms(t)))(o||t)}})(),t.\u0275dir=ni({type:t,selectors:[["","matTreeNodePadding",""]],inputs:{level:[2,"matTreeNodePadding","level",Va],indent:[0,"matTreeNodePaddingIndent","indent"]},standalone:!0,features:[gr([{provide:$7,useExisting:t}]),Br,Gr]});let e=t;return e})(),Znt=(()=>{let t=class t{constructor(i,n){this.viewContainer=i,this._node=n}};t.\u0275fac=function(n){return new(n||t)(Pt(ps),Pt(q7,8))},t.\u0275dir=ni({type:t,selectors:[["","matTreeNodeOutlet",""]],standalone:!0,features:[gr([{provide:xD,useExisting:t}])]});let e=t;return e})(),eot=(()=>{let t=class t extends Kp{constructor(){super(...arguments),this._nodeOutlet=void 0}};t.\u0275fac=(()=>{let i;return function(o){return(i||(i=Ms(t)))(o||t)}})(),t.\u0275cmp=We({type:t,selectors:[["mat-tree"]],viewQuery:function(n,o){if(n&1&&or(Znt,7),n&2){let s;Hi(s=Bi())&&(o._nodeOutlet=s.first)}},hostAttrs:[1,"mat-tree"],exportAs:["matTree"],standalone:!0,features:[gr([{provide:Kp,useExisting:t}]),Gr,li],decls:1,vars:0,consts:[["matTreeNodeOutlet",""]],template:function(n,o){n&1&&Rg(0,0)},dependencies:[Znt],styles:[".mat-tree{display:block;background-color:var(--mat-tree-container-background-color, var(--mat-app-surface))}.mat-tree-node,.mat-nested-tree-node{color:var(--mat-tree-node-text-color, var(--mat-app-on-surface));font-family:var(--mat-tree-node-text-font, var(--mat-app-body-large-font));font-size:var(--mat-tree-node-text-size, var(--mat-app-body-large-size));font-weight:var(--mat-tree-node-text-weight, var(--mat-app-body-large-weight))}.mat-tree-node{display:flex;align-items:center;flex:1;word-wrap:break-word;min-height:var(--mat-tree-node-min-height)}.mat-nested-tree-node{border-bottom-width:0}"],encapsulation:2});let e=t;return e})(),iot=(()=>{let t=class t extends G7{};t.\u0275fac=(()=>{let i;return function(o){return(i||(i=Ms(t)))(o||t)}})(),t.\u0275dir=ni({type:t,selectors:[["","matTreeNodeToggle",""]],inputs:{recursive:[0,"matTreeNodeToggleRecursive","recursive"]},standalone:!0,features:[gr([{provide:G7,useExisting:t}]),Gr]});let e=t;return e})();var rot=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ue({type:t}),t.\u0275inj=ze({imports:[Xnt,Si,Si]});let e=t;return e})();var W4t=["*"],Y4t=[[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],[["","mat-card-image",""],["","matCardImage",""],["","mat-card-sm-image",""],["","matCardImageSmall",""],["","mat-card-md-image",""],["","matCardImageMedium",""],["","mat-card-lg-image",""],["","matCardImageLarge",""],["","mat-card-xl-image",""],["","matCardImageXLarge",""]],"*"],q4t=[`mat-card-title, mat-card-subtitle,
      [mat-card-title], [mat-card-subtitle],
      [matCardTitle], [matCardSubtitle]`,`[mat-card-image], [matCardImage],
                    [mat-card-sm-image], [matCardImageSmall],
                    [mat-card-md-image], [matCardImageMedium],
                    [mat-card-lg-image], [matCardImageLarge],
                    [mat-card-xl-image], [matCardImageXLarge]`,"*"],$4t=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],G4t=["[mat-card-avatar], [matCardAvatar]",`mat-card-title, mat-card-subtitle,
      [mat-card-title], [mat-card-subtitle],
      [matCardTitle], [matCardSubtitle]`,"*"],K4t=new Se("MAT_CARD_CONFIG"),o1=(()=>{let t=class t{constructor(i){this.appearance=i?.appearance||"raised"}};t.\u0275fac=function(n){return new(n||t)(Pt(K4t,8))},t.\u0275cmp=We({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(n,o){n&2&&Vi("mat-mdc-card-outlined",o.appearance==="outlined")("mdc-card--outlined",o.appearance==="outlined")},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[li],ngContentSelectors:W4t,decls:1,vars:0,template:function(n,o){n&1&&(pn(),ir(0))},styles:['.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mdc-elevated-card-container-color, var(--mat-app-surface-container-low));border-color:var(--mdc-elevated-card-container-color, var(--mat-app-surface-container-low));border-radius:var(--mdc-elevated-card-container-shape, var(--mat-app-corner-medium));box-shadow:var(--mdc-elevated-card-container-elevation, var(--mat-app-level1))}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mdc-elevated-card-container-shape, var(--mat-app-corner-medium))}.mat-mdc-card-outlined{background-color:var(--mdc-outlined-card-container-color, var(--mat-app-surface));border-radius:var(--mdc-outlined-card-container-shape, var(--mat-app-corner-medium));border-width:var(--mdc-outlined-card-outline-width);border-color:var(--mdc-outlined-card-outline-color, var(--mat-app-outline-variant));box-shadow:var(--mdc-outlined-card-container-elevation, var(--mat-app-level0))}.mat-mdc-card-outlined::after{border:none}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font, var(--mat-app-title-large-font));line-height:var(--mat-card-title-text-line-height, var(--mat-app-title-large-line-height));font-size:var(--mat-card-title-text-size, var(--mat-app-title-large-size));letter-spacing:var(--mat-card-title-text-tracking, var(--mat-app-title-large-tracking));font-weight:var(--mat-card-title-text-weight, var(--mat-app-title-large-weight))}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color, var(--mat-app-on-surface));font-family:var(--mat-card-subtitle-text-font, var(--mat-app-title-medium-font));line-height:var(--mat-card-subtitle-text-line-height, var(--mat-app-title-medium-line-height));font-size:var(--mat-card-subtitle-text-size, var(--mat-app-title-medium-size));letter-spacing:var(--mat-card-subtitle-text-tracking, var(--mat-app-title-medium-tracking));font-weight:var(--mat-card-subtitle-text-weight, var(--mat-app-title-medium-weight))}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0});let e=t;return e})(),ED=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=ni({type:t,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"],standalone:!0});let e=t;return e})(),RD=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=We({type:t,selectors:[["mat-card-title-group"]],hostAttrs:[1,"mat-mdc-card-title-group"],standalone:!0,features:[li],ngContentSelectors:q4t,decls:4,vars:0,template:function(n,o){n&1&&(pn(Y4t),ut(0,"div"),ir(1),dt(),ir(2,1),ir(3,2))},encapsulation:2,changeDetection:0});let e=t;return e})(),s1=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=ni({type:t,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"],standalone:!0});let e=t;return e})(),TD=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=ni({type:t,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"],standalone:!0});let e=t;return e})();var MD=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=We({type:t,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],standalone:!0,features:[li],ngContentSelectors:G4t,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(n,o){n&1&&(pn($4t),ir(0),ut(1,"div",0),ir(2,1),dt(),ir(3,2))},encapsulation:2,changeDetection:0});let e=t;return e})();var a1=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ue({type:t}),t.\u0275inj=ze({imports:[Si,$n,Si]});let e=t;return e})();var X4t=(e,t)=>({color:e,"font-weight":t});function Z4t(e,t){e&1&&He(0,"mat-progress-bar",12)}function Q4t(e,t){if(e&1&&(ut(0,"mat-tree-node",8)(1,"button",9)(2,"mat-icon"),gt(3),dt()(),ut(4,"span",10),gt(5),dt(),Xi(6,Z4t,1,0,"mat-progress-bar",11),dt()),e&2){let r=t.$implicit,i=ki();pa("display",i.shouldShowNode(r)?"":"none"),Me("cdkTreeNodeTypeaheadLabel",r.item),te(),Yi("aria-label","toggle "+r.item),te(2),ur(" ",i.treeControl.isExpanded(r)?"expand_more":"chevron_right"," "),te(),Me("ngStyle",W1(8,X4t,r.item===i.current_active?"purple":"black",r.item===i.current_active?"bold":"normal")),te(),ur(" ",r.item," "),te(),Me("ngIf",r.isLoading())}}function J4t(e,t){if(e&1&&(ut(0,"mat-tree-node",13),gt(1),dt()),e&2){let r=t.$implicit,i=ki();pa("display",i.shouldShowNode(r)?"":"none"),te(),ur(" ",r.item," ")}}function tPt(e,t){if(e&1){let r=Ho();ut(0,"mat-tree-node",13)(1,"button",14),Ke("click",function(){let n=cr(r).$implicit,o=ki();return dr(o.fullReportButton(n.item.replace("__CARD__","")))}),ut(2,"mat-icon"),gt(3," dashboard "),dt(),gt(4," FULL REPORT "),dt()()}if(e&2){let r=t.$implicit,i=ki();pa("display",i.shouldShowNode(r)?"":"none")}}var sR=class{constructor(t,r,i=1,n=!1,o=V1(!1),s=!1){this.item=t,this.alias=r,this.level=i,this.expandable=n,this.isLoading=o,this.isCardNode=s}},AD=[],ePt=[],Dl=[],Xp=new Map,oot=(()=>{let t=class t{constructor(i,n){this.http=i,this.database=n,this.dataEvent=new ai,this.searchString="",this.dataMap2=new Map,this.getLevel=o=>o.level,this.isParentNode=(o,s)=>s.expandable&&!this.isCardNode(o,s),this.hasChild=(o,s)=>this.database.isExpandable(s.item),this.noChild=(o,s)=>!this.hasChild(o,s)&&!this.isCardNode(o,s),this.isCardNode=(o,s)=>s.item.startsWith("__CARD__")}ngOnInit(){this.treeControl=new CD(i=>i.level,i=>i.expandable),this.dataSource=new K7(this.treeControl,this.database,this.http),console.log(this.data),console.log(this.dataMap2)}ngOnChanges(i){if(!this.treeControl||!this.dataSource)return;let n=this.getExpandedNodes();if(this.data!=null){Dl=this.data.alias_data,console.log(Dl),AD=Dl.map(o=>o.name),ePt=Dl.map(o=>o.alias),AD.sort(),Xp.clear();for(let o of AD)Xp.set(o,[])}this.database.changeRootLevelNodes(AD),this.dataSource.data=this.database.initialData(),setTimeout(()=>{this.restoreExpandedNodes(n)})}isExpandable(i){let n=this.dataMap2.get(i),o=!!n&&n.length>0;return console.log(`Checking if "${i}" is expandable: ${o}`),o}nodeMatchesFilter(i){if(!this.searchString)return!0;let n=this.normalizeString(this.searchString),o=this.normalizeString(i.item),s=this.normalizeString(i.alias);return o.includes(n)||s.includes(n)}normalizeString(i){return i.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"")}nodeOrDescendantsMatch(i){return this.nodeMatchesFilter(i)?!0:this.treeControl.getDescendants(i).some(o=>this.nodeMatchesFilter(o))}shouldShowNode(i){if(!this.searchString||this.nodeMatchesFilter(i))return!0;let n=this.getParentNode(i);for(;n;){if(this.nodeMatchesFilter(n))return!0;n=this.getParentNode(n)}return!1}getExpandedNodes(){let i=new Set;return!this.treeControl||!this.treeControl.dataNodes||this.treeControl.dataNodes.forEach(n=>{this.treeControl.isExpanded(n)&&i.add(n.item)}),i}restoreExpandedNodes(i){this.treeControl.dataNodes.forEach(n=>{i.has(n.item)&&this.treeControl.expand(n)})}cardNodeMatchesFilter(i){if(!this.searchString)return!0;let n=i.item.replace("__CARD__","");if(n.toLowerCase().includes(this.searchString.toLowerCase()))return!0;let o=this.treeControl.dataNodes.find(a=>a.item===n);return o?this.treeControl.getDescendants(o).some(a=>a.item.toLowerCase().includes(this.searchString.toLowerCase())):!1}getParentNode(i){let n=this.treeControl.dataNodes.indexOf(i);for(let o=n-1;o>=0;o--){let s=this.treeControl.dataNodes[o];if(s.level<i.level)return s}return null}fullReportButton(i){console.log("Looking for name:",i),console.log("alias_data:",Dl),i==="(All)"&&this.dataEvent.emit(["(All)","(All)"]);let n="";for(let o=0;o<Dl.length;o++)if(console.log(Dl[o]),Dl[o].name===i){n=Dl[o].alias;break}console.log("Found name:",i),console.log("Emitting:",[i,n]),this.dataEvent.emit([i,n])}};t.\u0275fac=function(n){return new(n||t)(Pt(qh),Pt(iPt))},t.\u0275cmp=We({type:t,selectors:[["app-tree"]],inputs:{data:"data",current_active:"current_active"},outputs:{dataEvent:"dataEvent"},standalone:!0,features:[er,li],decls:12,vars:13,consts:[[2,"display","flex","flex-direction","column","align-items","center","padding-bottom","30px","position","relative"],[2,"display","flex","justify-content","center","width","100%","margin-top","10px"],[2,"width","190px",3,"ngModelChange","ngModel","placeholder"],["mat-button","",1,"mat-small",2,"margin-left","10px","width","120px","height","32px","border-width","1px","border-style","solid",3,"click"],[2,"padding-top","10px"],[3,"dataSource","treeControl"],["matTreeNodePadding","","matTreeNodeToggle","","style","max-height: 100px; overflow: hidden; text-overflow: ellipsis; width: 100%; font-size: 12px;",3,"display","cdkTreeNodeTypeaheadLabel",4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodePadding","",3,"display",4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodePadding","","matTreeNodeToggle","",2,"max-height","100px","overflow","hidden","text-overflow","ellipsis","width","100%","font-size","12px",3,"cdkTreeNodeTypeaheadLabel"],["mat-icon-button","","matTreeNodeToggle",""],[3,"ngStyle"],["mode","indeterminate",4,"ngIf"],["mode","indeterminate"],["matTreeNodePadding",""],["mat-button","",1,"mat-small",2,"border-width","1px","font-size","12px","border-style","solid","width","150px","height","35px","margin-left","50px","display","flex","justify-content","flex-start","align-items","center","margin-bottom","10px","gap","8px","text-align","left",3,"click"]],template:function(n,o){n&1&&(ut(0,"div",0)(1,"div",1)(2,"input",2),Or(3,"transloco"),Vb("ngModelChange",function(a){return jb(o.searchString,a)||(o.searchString=a),a}),dt(),ut(4,"button",3),Ke("click",function(){return o.fullReportButton("(All)")}),gt(5),Or(6,"transloco"),dt()()(),ut(7,"div",4)(8,"mat-tree",5),Xi(9,Q4t,7,11,"mat-tree-node",6)(10,J4t,2,3,"mat-tree-node",7)(11,tPt,5,2,"mat-tree-node",7),dt()()),n&2&&(te(2),uB("placeholder","",Pr(3,9,"Filter")," \u{1F50E}"),Bb("ngModel",o.searchString),te(3),ur(" ",Pr(6,11,"All")," "),te(3),Me("dataSource",o.dataSource)("treeControl",o.treeControl),te(),Me("matTreeNodeDefWhen",o.isParentNode),te(),Me("matTreeNodeDefWhen",o.noChild),te(),Me("matTreeNodeDefWhen",o.isCardNode))},dependencies:[rot,Jnt,tot,iot,eot,Qnt,ju,Rd,vC,$v,zm,_D,yD,a1,KT,gv,qT,jw,$n,Ub,$R,Vm,jm],changeDetection:0});let e=t;return e})(),iPt=(()=>{let t=class t{constructor(){this.rootLevelNodesSource=new An(["test"]),this.rootLevelNodes$=this.rootLevelNodesSource.asObservable()}initialData(){return this.rootLevelNodesSource.value.map(n=>{let s=Dl.find(a=>a.name===n)?.alias||"";return new sR(n,s,0,this.isExpandable(n))})}getChildren(i){return Xp.get(i)}isExpandable(i){return Xp.has(i)}changeRootLevelNodes(i){this.rootLevelNodesSource.next(i)}updateChildren(i,n,o){Xp.set(i,n);for(let s=0;s<n.length;s++)Xp.set(n[s],[]),Dl.push({alias:o[s],name:n[s]})}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),K7=class{get data(){return this.dataChange.value}set data(t){this._treeControl.dataNodes=t,this.dataChange.next(t)}constructor(t,r,i){this._treeControl=t,this._database=r,this.http=i,this.dataChange=new An([])}connect(t){return this._treeControl.expansionModel.changed.subscribe(r=>{(r.added||r.removed)&&this.handleTreeControl(r)}),Vl(t.viewChange,this.dataChange).pipe(di(()=>this.data))}disconnect(t){}handleTreeControl(t){t.added&&t.added.forEach(r=>this.toggleNode(r,!0)),t.removed&&t.removed.slice().reverse().forEach(r=>this.toggleNode(r,!1))}toggleNode(t,r){t.isLoading.set(!0),setTimeout(()=>{let n=Dl.find(o=>o.name.trim().toLowerCase()===t.item.trim().toLowerCase())?.alias||"";if(!n){t.isLoading.set(!1);return}if(!r){let o=this.data.indexOf(t);if(o<0)return;let s=0;for(let a=o+1;a<this.data.length&&this.data[a].level>t.level;a++)s++;this.data.splice(o+1,s),this.dataChange.next(this.data),t.isLoading.set(!1);return}this.http.get(`https://borealisdata.ca/api/info/metrics/tree/?parentAlias=${n}`).subscribe(o=>{let s=o?.data?.children?.map(f=>f.name)||[],a=o?.data?.children?.map(f=>f.alias)||[];Xp.set(t.item,s);for(let f=0;f<s.length;f++){let m=s[f],g=a[f];Dl.push({alias:g,name:m}),Xp.set(m,[])}let l=this._database.getChildren(t.item),c=this.data.indexOf(t);if(c<0)return;if(this.data[c+1]?.item===`__CARD__${t.item}`){t.isLoading.set(!1);return}let u=new sR(`__CARD__${t.item}`,"",t.level+1,!1,V1(!1),!0),h=(l||[]).map(f=>{let g=Dl.find(b=>b.name===f)?.alias||"",p=!!this._database.isExpandable(f);return new sR(f,g,t.level+1,p)});this.data.splice(c+1,0,u,...h),this.dataChange.next(this.data),t.isLoading.set(!1)})},500)}};hD();var sot=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=We({type:t,selectors:[["app-generic-table"]],inputs:{data:"data",colHeaders:"colHeaders",colWidths:"colWidths",rowHeaders:"rowHeaders",height:"height",columnSorting:"columnSorting",columns:"columns",dropdownMenu:"dropdownMenu",filters:"filters"},standalone:!0,features:[li],decls:1,vars:9,consts:[["licenseKey","non-commercial-and-evaluation",1,"hot","hide-scrollbar",2,"overflow-y","hidden","overflow-y","hidden !important",3,"data","colHeaders","colWidths","rowHeaders","height","columnSorting","columns","dropdownMenu","filters"]],template:function(n,o){n&1&&He(0,"hot-table",0),n&2&&Me("data",o.data)("colHeaders",o.colHeaders)("colWidths",o.colWidths)("rowHeaders",o.rowHeaders)("height",o.height)("columnSorting",o.columnSorting)("columns",o.columns)("dropdownMenu",o.dropdownMenu)("filters",o.filters)},dependencies:[rI,DJ],styles:["*[_ngcontent-%COMP%]{font-family:Verdana,Helvetica,Arial,FreeSans,sans-serif important!;font-size:12px important!}.hide-scrollbar[_ngcontent-%COMP%]{overflow:auto;scrollbar-width:none;-ms-overflow-style:none}.hide-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}"]});let e=t;return e})();var rPt=["input"],nPt=["label"],oPt=["*"],sPt=new Se("mat-checkbox-default-options",{providedIn:"root",factory:lot});function lot(){return{color:"accent",clickAction:"check-indeterminate",disabledInteractive:!1}}var Ma=function(e){return e[e.Init=0]="Init",e[e.Checked=1]="Checked",e[e.Unchecked=2]="Unchecked",e[e.Indeterminate=3]="Indeterminate",e}(Ma||{}),aPt={provide:Hg,useExisting:Ul(()=>ID),multi:!0},X7=class{},lPt=0,aot=lot(),ID=(()=>{let t=class t{focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(i){let n=new X7;return n.source=this,n.checked=i,n}_getAnimationTargetElement(){return this._inputElement?.nativeElement}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(i,n,o,s,a,l){this._elementRef=i,this._changeDetectorRef=n,this._ngZone=o,this._animationMode=a,this._options=l,this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"},this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new ai,this.indeterminateChange=new ai,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=Ma.Init,this._controlValueAccessorChangeFn=()=>{},this._validatorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||aot,this.color=this._options.color||aot.color,this.tabIndex=parseInt(s)||0,this.id=this._uniqueId=`mat-mdc-checkbox-${++lPt}`,this.disabledInteractive=l?.disabledInteractive??!1}ngOnChanges(i){i.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(i){i!=this.checked&&(this._checked=i,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(i){i!==this.disabled&&(this._disabled=i,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(i){let n=i!=this._indeterminate;this._indeterminate=i,n&&(this._indeterminate?this._transitionCheckState(Ma.Indeterminate):this._transitionCheckState(this.checked?Ma.Checked:Ma.Unchecked),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(i){this.checked=!!i}registerOnChange(i){this._controlValueAccessorChangeFn=i}registerOnTouched(i){this._onTouched=i}setDisabledState(i){this.disabled=i}validate(i){return this.required&&i.value!==!0?{required:!0}:null}registerOnValidatorChange(i){this._validatorChangeFn=i}_transitionCheckState(i){let n=this._currentCheckState,o=this._getAnimationTargetElement();if(!(n===i||!o)&&(this._currentAnimationClass&&o.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(n,i),this._currentCheckState=i,this._currentAnimationClass.length>0)){o.classList.add(this._currentAnimationClass);let s=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{o.classList.remove(s)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){let i=this._options?.clickAction;!this.disabled&&i!=="noop"?(this.indeterminate&&i!=="check"&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?Ma.Checked:Ma.Unchecked),this._emitChangeEvent()):(this.disabled&&this.disabledInteractive||!this.disabled&&i==="noop")&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate)}_onInteractionEvent(i){i.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(i,n){if(this._animationMode==="NoopAnimations")return"";switch(i){case Ma.Init:if(n===Ma.Checked)return this._animationClasses.uncheckedToChecked;if(n==Ma.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case Ma.Unchecked:return n===Ma.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case Ma.Checked:return n===Ma.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case Ma.Indeterminate:return n===Ma.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(i){let n=this._inputElement;n&&(n.nativeElement.indeterminate=i)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(i){i.target&&this._labelElement.nativeElement.contains(i.target)&&i.stopPropagation()}};t.\u0275fac=function(n){return new(n||t)(Pt(hi),Pt(hr),Pt(ui),Yl("tabindex"),Pt(Fo,8),Pt(sPt,8))},t.\u0275cmp=We({type:t,selectors:[["mat-checkbox"]],viewQuery:function(n,o){if(n&1&&(or(rPt,5),or(nPt,5),or(lv,5)),n&2){let s;Hi(s=Bi())&&(o._inputElement=s.first),Hi(s=Bi())&&(o._labelElement=s.first),Hi(s=Bi())&&(o.ripple=s.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:16,hostBindings:function(n,o){n&2&&(Ba("id",o.id),Yi("tabindex",null)("aria-label",null)("aria-labelledby",null),Js(o.color?"mat-"+o.color:"mat-accent"),Vi("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mdc-checkbox--disabled",o.disabled)("mat-mdc-checkbox-disabled",o.disabled)("mat-mdc-checkbox-checked",o.checked)("mat-mdc-checkbox-disabled-interactive",o.disabledInteractive))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],id:"id",required:[2,"required","required",Sr],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[2,"disableRipple","disableRipple",Sr],tabIndex:[2,"tabIndex","tabIndex",i=>i==null?void 0:Va(i)],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",Sr],checked:[2,"checked","checked",Sr],disabled:[2,"disabled","disabled",Sr],indeterminate:[2,"indeterminate","indeterminate",Sr]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],standalone:!0,features:[gr([aPt,{provide:xm,useExisting:t,multi:!0}]),Br,er,li],ngContentSelectors:oPt,decls:15,vars:20,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(n,o){if(n&1){let s=Ho();pn(),ut(0,"div",3),Ke("click",function(l){return cr(s),dr(o._preventBubblingFromLabel(l))}),ut(1,"div",4,0)(3,"div",5),Ke("click",function(){return cr(s),dr(o._onTouchTargetClick())}),dt(),ut(4,"input",6,1),Ke("blur",function(){return cr(s),dr(o._onBlur())})("click",function(){return cr(s),dr(o._onInputClick())})("change",function(l){return cr(s),dr(o._onInteractionEvent(l))}),dt(),He(6,"div",7),ut(7,"div",8),Vh(),ut(8,"svg",9),He(9,"path",10),dt(),Nb(),He(10,"div",11),dt(),He(11,"div",12),dt(),ut(12,"label",13,2),ir(14),dt()()}if(n&2){let s=ja(2);Me("labelPosition",o.labelPosition),te(4),Vi("mdc-checkbox--selected",o.checked),Me("checked",o.checked)("indeterminate",o.indeterminate)("disabled",o.disabled&&!o.disabledInteractive)("id",o.inputId)("required",o.required)("tabIndex",o.disabled&&!o.disabledInteractive?-1:o.tabIndex),Yi("aria-label",o.ariaLabel||null)("aria-labelledby",o.ariaLabelledby)("aria-describedby",o.ariaDescribedby)("aria-checked",o.indeterminate?"mixed":null)("aria-disabled",o.disabled&&o.disabledInteractive?!0:null)("name",o.name)("value",o.value),te(7),Me("matRippleTrigger",s)("matRippleDisabled",o.disableRipple||o.disabled)("matRippleCentered",!0),te(),Me("for",o.inputId)}},dependencies:[lv,MV],styles:['.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity));background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity));background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mdc-checkbox__ripple{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.cdk-high-contrast-active .mdc-checkbox--disabled{opacity:.5}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1);-webkit-print-color-adjust:exact;color-adjust:exact;border-color:var(--mdc-checkbox-unselected-icon-color, var(--mat-app-on-surface-variant));top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2)}.mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-icon-color, var(--mat-app-primary))}.mdc-checkbox--disabled .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mat-app-on-surface));background-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-app-primary))}.mdc-checkbox__native-control:focus:focus:not(:checked)~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mat-app-on-surface))}.mdc-checkbox__native-control:focus:focus:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-app-primary))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox:hover .mdc-checkbox__native-control~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.6, 1);color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.cdk-high-contrast-active .mdc-checkbox__checkmark{color:CanvasText}.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.cdk-high-contrast-active .mdc-checkbox--disabled .mdc-checkbox__checkmark,.cdk-high-contrast-active .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:CanvasText}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.cdk-high-contrast-active .mdc-checkbox__mixedmark{margin:0 1px}.mdc-checkbox--disabled .mdc-checkbox__mixedmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms cubic-bezier(0, 0, 0.2, 1),transform 180ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *,.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox .mat-internal-form-field{color:var(--mat-checkbox-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-checkbox-label-text-font, var(--mat-app-body-medium-font));line-height:var(--mat-checkbox-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-checkbox-label-text-size, var(--mat-app-body-medium-size));letter-spacing:var(--mat-checkbox-label-text-tracking, var(--mat-app-body-medium-tracking));font-weight:var(--mat-checkbox-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive{pointer-events:auto}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive input{cursor:default}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color)}.mat-mdc-checkbox label:empty{display:none}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0});let e=t;return e})();var cot=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ue({type:t}),t.\u0275inj=ze({imports:[ID,Si,Si]});let e=t;return e})();var est=ot(uot()),ist=ot(hot());var Aa=Uint8Array,mc=Uint16Array,aH=Int32Array,kD=new Aa([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),DD=new Aa([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),rH=new Aa([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),got=function(e,t){for(var r=new mc(31),i=0;i<31;++i)r[i]=t+=1<<e[i-1];for(var n=new aH(r[30]),i=1;i<30;++i)for(var o=r[i];o<r[i+1];++o)n[o]=o-r[i]<<5|i;return{b:r,r:n}},bot=got(kD,2),vot=bot.b,nH=bot.r;vot[28]=258,nH[258]=28;var yot=got(DD,0),dPt=yot.b,fot=yot.r,oH=new mc(32768);for(un=0;un<32768;++un)Vf=(un&43690)>>1|(un&21845)<<1,Vf=(Vf&52428)>>2|(Vf&13107)<<2,Vf=(Vf&61680)>>4|(Vf&3855)<<4,oH[un]=((Vf&65280)>>8|(Vf&255)<<8)>>1;var Vf,un,xh=function(e,t,r){for(var i=e.length,n=0,o=new mc(t);n<i;++n)e[n]&&++o[e[n]-1];var s=new mc(t);for(n=1;n<t;++n)s[n]=s[n-1]+o[n-1]<<1;var a;if(r){a=new mc(1<<t);var l=15-t;for(n=0;n<i;++n)if(e[n])for(var c=n<<4|e[n],d=t-e[n],u=s[e[n]-1]++<<d,h=u|(1<<d)-1;u<=h;++u)a[oH[u]>>l]=c}else for(a=new mc(i),n=0;n<i;++n)e[n]&&(a[n]=oH[s[e[n]-1]++]>>15-e[n]);return a},Zp=new Aa(288);for(un=0;un<144;++un)Zp[un]=8;var un;for(un=144;un<256;++un)Zp[un]=9;var un;for(un=256;un<280;++un)Zp[un]=7;var un;for(un=280;un<288;++un)Zp[un]=8;var un,cR=new Aa(32);for(un=0;un<32;++un)cR[un]=5;var un,uPt=xh(Zp,9,0),hPt=xh(Zp,9,1),fPt=xh(cR,5,0),mPt=xh(cR,5,1),tH=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},Jd=function(e,t,r){var i=t/8|0;return(e[i]|e[i+1]<<8)>>(t&7)&r},eH=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},lH=function(e){return(e+7)/8|0},_ot=function(e,t,r){return(t==null||t<0)&&(t=0),(r==null||r>e.length)&&(r=e.length),new Aa(e.subarray(t,r))};var pPt=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],tu=function(e,t,r){var i=new Error(t||pPt[e]);if(i.code=e,Error.captureStackTrace&&Error.captureStackTrace(i,tu),!r)throw i;return i},gPt=function(e,t,r,i){var n=e.length,o=i?i.length:0;if(!n||t.f&&!t.l)return r||new Aa(0);var s=!r,a=s||t.i!=2,l=t.i;s&&(r=new Aa(n*3));var c=function(J){var et=r.length;if(J>et){var Et=new Aa(Math.max(et*2,J));Et.set(r),r=Et}},d=t.f||0,u=t.p||0,h=t.b||0,f=t.l,m=t.d,g=t.m,p=t.n,b=n*8;do{if(!f){d=Jd(e,u,1);var _=Jd(e,u+1,3);if(u+=3,_)if(_==1)f=hPt,m=mPt,g=9,p=5;else if(_==2){var H=Jd(e,u,31)+257,F=Jd(e,u+10,15)+4,L=H+Jd(e,u+5,31)+1;u+=14;for(var $=new Aa(L),W=new Aa(19),x=0;x<F;++x)W[rH[x]]=Jd(e,u+x*3,7);u+=F*3;for(var R=tH(W),B=(1<<R)-1,v=xh(W,R,1),x=0;x<L;){var y=v[Jd(e,u,B)];u+=y&15;var E=y>>4;if(E<16)$[x++]=E;else{var C=0,w=0;for(E==16?(w=3+Jd(e,u,3),u+=2,C=$[x-1]):E==17?(w=3+Jd(e,u,7),u+=3):E==18&&(w=11+Jd(e,u,127),u+=7);w--;)$[x++]=C}}var S=$.subarray(0,H),M=$.subarray(H);g=tH(S),p=tH(M),f=xh(S,g,1),m=xh(M,p,1)}else tu(1);else{var E=lH(u)+4,O=e[E-4]|e[E-3]<<8,V=E+O;if(V>n){l&&tu(0);break}a&&c(h+O),r.set(e.subarray(E,V),h),t.b=h+=O,t.p=u=V*8,t.f=d;continue}if(u>b){l&&tu(0);break}}a&&c(h+131072);for(var U=(1<<g)-1,N=(1<<p)-1,T=u;;T=u){var C=f[eH(e,u)&U],j=C>>4;if(u+=C&15,u>b){l&&tu(0);break}if(C||tu(2),j<256)r[h++]=j;else if(j==256){T=u,f=null;break}else{var I=j-254;if(j>264){var x=j-257,q=kD[x];I=Jd(e,u,(1<<q)-1)+vot[x],u+=q}var A=m[eH(e,u)&N],k=A>>4;A||tu(3),u+=A&15;var M=dPt[k];if(k>3){var q=DD[k];M+=eH(e,u)&(1<<q)-1,u+=q}if(u>b){l&&tu(0);break}a&&c(h+131072);var Y=h+I;if(h<M){var Z=o-M,lt=Math.min(M,Y);for(Z+h<0&&tu(3);h<lt;++h)r[h]=i[Z+h]}for(;h<Y;++h)r[h]=r[h-M]}}t.l=f,t.p=T,t.b=h,t.f=d,f&&(d=1,t.m=g,t.d=m,t.n=p)}while(!d);return h!=r.length&&s?_ot(r,0,h):r.subarray(0,h)},zf=function(e,t,r){r<<=t&7;var i=t/8|0;e[i]|=r,e[i+1]|=r>>8},aR=function(e,t,r){r<<=t&7;var i=t/8|0;e[i]|=r,e[i+1]|=r>>8,e[i+2]|=r>>16},iH=function(e,t){for(var r=[],i=0;i<e.length;++i)e[i]&&r.push({s:i,f:e[i]});var n=r.length,o=r.slice();if(!n)return{t:Cot,l:0};if(n==1){var s=new Aa(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(V,H){return V.f-H.f}),r.push({s:-1,f:25001});var a=r[0],l=r[1],c=0,d=1,u=2;for(r[0]={s:-1,f:a.f+l.f,l:a,r:l};d!=n-1;)a=r[r[c].f<r[u].f?c++:u++],l=r[c!=d&&r[c].f<r[u].f?c++:u++],r[d++]={s:-1,f:a.f+l.f,l:a,r:l};for(var h=o[0].s,i=1;i<n;++i)o[i].s>h&&(h=o[i].s);var f=new mc(h+1),m=sH(r[d-1],f,0);if(m>t){var i=0,g=0,p=m-t,b=1<<p;for(o.sort(function(H,F){return f[F.s]-f[H.s]||H.f-F.f});i<n;++i){var _=o[i].s;if(f[_]>t)g+=b-(1<<m-f[_]),f[_]=t;else break}for(g>>=p;g>0;){var E=o[i].s;f[E]<t?g-=1<<t-f[E]++-1:++i}for(;i>=0&&g;--i){var O=o[i].s;f[O]==t&&(--f[O],++g)}m=t}return{t:new Aa(f),l:m}},sH=function(e,t,r){return e.s==-1?Math.max(sH(e.l,t,r+1),sH(e.r,t,r+1)):t[e.s]=r},mot=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new mc(++t),i=0,n=e[0],o=1,s=function(l){r[i++]=l},a=1;a<=t;++a)if(e[a]==n&&a!=t)++o;else{if(!n&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(n),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(n);o=1,n=e[a]}return{c:r.subarray(0,i),n:t}},lR=function(e,t){for(var r=0,i=0;i<t.length;++i)r+=e[i]*t[i];return r},wot=function(e,t,r){var i=r.length,n=lH(t+2);e[n]=i&255,e[n+1]=i>>8,e[n+2]=e[n]^255,e[n+3]=e[n+1]^255;for(var o=0;o<i;++o)e[n+o+4]=r[o];return(n+4+i)*8},pot=function(e,t,r,i,n,o,s,a,l,c,d){zf(t,d++,r),++n[256];for(var u=iH(n,15),h=u.t,f=u.l,m=iH(o,15),g=m.t,p=m.l,b=mot(h),_=b.c,E=b.n,O=mot(g),V=O.c,H=O.n,F=new mc(19),L=0;L<_.length;++L)++F[_[L]&31];for(var L=0;L<V.length;++L)++F[V[L]&31];for(var $=iH(F,7),W=$.t,x=$.l,R=19;R>4&&!W[rH[R-1]];--R);var B=c+5<<3,v=lR(n,Zp)+lR(o,cR)+s,y=lR(n,h)+lR(o,g)+s+14+3*R+lR(F,W)+2*F[16]+3*F[17]+7*F[18];if(l>=0&&B<=v&&B<=y)return wot(t,d,e.subarray(l,l+c));var C,w,S,M;if(zf(t,d,1+(y<v)),d+=2,y<v){C=xh(h,f,0),w=h,S=xh(g,p,0),M=g;var U=xh(W,x,0);zf(t,d,E-257),zf(t,d+5,H-1),zf(t,d+10,R-4),d+=14;for(var L=0;L<R;++L)zf(t,d+3*L,W[rH[L]]);d+=3*R;for(var N=[_,V],T=0;T<2;++T)for(var j=N[T],L=0;L<j.length;++L){var I=j[L]&31;zf(t,d,U[I]),d+=W[I],I>15&&(zf(t,d,j[L]>>5&127),d+=j[L]>>12)}}else C=uPt,w=Zp,S=fPt,M=cR;for(var L=0;L<a;++L){var q=i[L];if(q>255){var I=q>>18&31;aR(t,d,C[I+257]),d+=w[I+257],I>7&&(zf(t,d,q>>23&31),d+=kD[I]);var A=q&31;aR(t,d,S[A]),d+=M[A],A>3&&(aR(t,d,q>>5&8191),d+=DD[A])}else aR(t,d,C[q]),d+=w[q]}return aR(t,d,C[256]),d+w[256]},bPt=new aH([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Cot=new Aa(0),vPt=function(e,t,r,i,n,o){var s=o.z||e.length,a=new Aa(i+s+5*(1+Math.ceil(s/7e3))+n),l=a.subarray(i,a.length-n),c=o.l,d=(o.r||0)&7;if(t){d&&(l[0]=o.r>>3);for(var u=bPt[t-1],h=u>>13,f=u&8191,m=(1<<r)-1,g=o.p||new mc(32768),p=o.h||new mc(m+1),b=Math.ceil(r/3),_=2*b,E=function(Rt){return(e[Rt]^e[Rt+1]<<b^e[Rt+2]<<_)&m},O=new aH(25e3),V=new mc(288),H=new mc(32),F=0,L=0,$=o.i||0,W=0,x=o.w||0,R=0;$+2<s;++$){var B=E($),v=$&32767,y=p[B];if(g[v]=y,p[B]=v,x<=$){var C=s-$;if((F>7e3||W>24576)&&(C>423||!c)){d=pot(e,l,0,O,V,H,L,W,R,$-R,d),W=F=L=0,R=$;for(var w=0;w<286;++w)V[w]=0;for(var w=0;w<30;++w)H[w]=0}var S=2,M=0,U=f,N=v-y&32767;if(C>2&&B==E($-N))for(var T=Math.min(h,C)-1,j=Math.min(32767,$),I=Math.min(258,C);N<=j&&--U&&v!=y;){if(e[$+S]==e[$+S-N]){for(var q=0;q<I&&e[$+q]==e[$+q-N];++q);if(q>S){if(S=q,M=N,q>T)break;for(var A=Math.min(N,q-2),k=0,w=0;w<A;++w){var Y=$-N+w&32767,Z=g[Y],lt=Y-Z&32767;lt>k&&(k=lt,y=Y)}}}v=y,y=g[v],N+=v-y&32767}if(M){O[W++]=268435456|nH[S]<<18|fot[M];var J=nH[S]&31,et=fot[M]&31;L+=kD[J]+DD[et],++V[257+J],++H[et],x=$+S,++F}else O[W++]=e[$],++V[e[$]]}}for($=Math.max($,x);$<s;++$)O[W++]=e[$],++V[e[$]];d=pot(e,l,c,O,V,H,L,W,R,$-R,d),c||(o.r=d&7|l[d/8|0]<<3,d-=7,o.h=p,o.p=g,o.i=$,o.w=x)}else{for(var $=o.w||0;$<s+c;$+=65535){var Et=$+65535;Et>=s&&(l[d/8|0]=c,Et=s),d=wot(l,d+1,e.subarray($,Et))}o.i=s}return _ot(a,0,i+lH(d)+n)};var xot=function(){var e=1,t=0;return{p:function(r){for(var i=e,n=t,o=r.length|0,s=0;s!=o;){for(var a=Math.min(s+2655,o);s<a;++s)n+=i+=r[s];i=(i&65535)+15*(i>>16),n=(n&65535)+15*(n>>16)}e=i,t=n},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},yPt=function(e,t,r,i,n){if(!n&&(n={l:1},t.dictionary)){var o=t.dictionary.subarray(-32768),s=new Aa(o.length+e.length);s.set(o),s.set(e,o.length),e=s,n.w=o.length}return vPt(e,t.level==null?6:t.level,t.mem==null?n.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,i,n)};var Sot=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8};var _Pt=function(e,t){var r=t.level,i=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=i<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var n=xot();n.p(t.dictionary),Sot(e,2,n.d())}},wPt=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&tu(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&tu(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function OD(e,t){t||(t={});var r=xot();r.p(e);var i=yPt(e,t,t.dictionary?6:2,4);return _Pt(i,t),Sot(i,i.length-4,r.d()),i}function Eot(e,t){return gPt(e.subarray(wPt(e,t&&t.dictionary),-4),{i:2},t&&t.out,t&&t.dictionary)}var CPt=typeof TextDecoder<"u"&&new TextDecoder,xPt=0;try{CPt.decode(Cot,{stream:!0}),xPt=1}catch{}var Ki=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function cH(){Ki.console&&typeof Ki.console.log=="function"&&Ki.console.log.apply(Ki.console,arguments)}var Qn={log:cH,warn:function(e){Ki.console&&(typeof Ki.console.warn=="function"?Ki.console.warn.apply(Ki.console,arguments):cH.call(null,arguments))},error:function(e){Ki.console&&(typeof Ki.console.error=="function"?Ki.console.error.apply(Ki.console,arguments):cH(e))}};function dH(e,t,r){var i=new XMLHttpRequest;i.open("GET",e),i.responseType="blob",i.onload=function(){cb(i.response,t,r)},i.onerror=function(){Qn.error("could not download file")},i.send()}function Rot(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function PD(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var dR,pH,cb=Ki.saveAs||((typeof window>"u"?"undefined":Bn(window))!=="object"||window!==Ki?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var i=Ki.URL||Ki.webkitURL,n=document.createElement("a");t=t||e.name||"download",n.download=t,n.rel="noopener",typeof e=="string"?(n.href=e,n.origin!==location.origin?Rot(n.href)?dH(e,t,r):PD(n,n.target="_blank"):PD(n)):(n.href=i.createObjectURL(e),setTimeout(function(){i.revokeObjectURL(n.href)},4e4),setTimeout(function(){PD(n)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(Rot(e))dH(e,t,r);else{var i=document.createElement("a");i.href=e,i.target="_blank",setTimeout(function(){PD(i)})}else navigator.msSaveOrOpenBlob(function(n,o){return o===void 0?o={autoBom:!1}:Bn(o)!=="object"&&(Qn.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(n.type)?new Blob(["\uFEFF",n],{type:n.type}):n}(e,r),t)}:function(e,t,r,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof e=="string")return dH(e,t,r);var n=e.type==="application/octet-stream",o=/constructor/i.test(Ki.HTMLElement)||Ki.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||n&&o)&&(typeof FileReader>"u"?"undefined":Bn(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var d=a.result;d=s?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=d:location=d,i=null},a.readAsDataURL(e)}else{var l=Ki.URL||Ki.webkitURL,c=l.createObjectURL(e);i?i.location=c:location.href=c,i=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});function Uot(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],i=0;i<r.length;i++){var n=r[i].re,o=r[i].process,s=n.exec(e);s&&(t=o(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}function uH(e,t){var r=e[0],i=e[1],n=e[2],o=e[3];r=Ia(r,i,n,o,t[0],7,-680876936),o=Ia(o,r,i,n,t[1],12,-389564586),n=Ia(n,o,r,i,t[2],17,606105819),i=Ia(i,n,o,r,t[3],22,-1044525330),r=Ia(r,i,n,o,t[4],7,-176418897),o=Ia(o,r,i,n,t[5],12,1200080426),n=Ia(n,o,r,i,t[6],17,-1473231341),i=Ia(i,n,o,r,t[7],22,-45705983),r=Ia(r,i,n,o,t[8],7,1770035416),o=Ia(o,r,i,n,t[9],12,-1958414417),n=Ia(n,o,r,i,t[10],17,-42063),i=Ia(i,n,o,r,t[11],22,-1990404162),r=Ia(r,i,n,o,t[12],7,1804603682),o=Ia(o,r,i,n,t[13],12,-40341101),n=Ia(n,o,r,i,t[14],17,-1502002290),r=ka(r,i=Ia(i,n,o,r,t[15],22,1236535329),n,o,t[1],5,-165796510),o=ka(o,r,i,n,t[6],9,-1069501632),n=ka(n,o,r,i,t[11],14,643717713),i=ka(i,n,o,r,t[0],20,-373897302),r=ka(r,i,n,o,t[5],5,-701558691),o=ka(o,r,i,n,t[10],9,38016083),n=ka(n,o,r,i,t[15],14,-660478335),i=ka(i,n,o,r,t[4],20,-405537848),r=ka(r,i,n,o,t[9],5,568446438),o=ka(o,r,i,n,t[14],9,-1019803690),n=ka(n,o,r,i,t[3],14,-187363961),i=ka(i,n,o,r,t[8],20,1163531501),r=ka(r,i,n,o,t[13],5,-1444681467),o=ka(o,r,i,n,t[2],9,-51403784),n=ka(n,o,r,i,t[7],14,1735328473),r=Da(r,i=ka(i,n,o,r,t[12],20,-1926607734),n,o,t[5],4,-378558),o=Da(o,r,i,n,t[8],11,-2022574463),n=Da(n,o,r,i,t[11],16,1839030562),i=Da(i,n,o,r,t[14],23,-35309556),r=Da(r,i,n,o,t[1],4,-1530992060),o=Da(o,r,i,n,t[4],11,1272893353),n=Da(n,o,r,i,t[7],16,-155497632),i=Da(i,n,o,r,t[10],23,-1094730640),r=Da(r,i,n,o,t[13],4,681279174),o=Da(o,r,i,n,t[0],11,-358537222),n=Da(n,o,r,i,t[3],16,-722521979),i=Da(i,n,o,r,t[6],23,76029189),r=Da(r,i,n,o,t[9],4,-640364487),o=Da(o,r,i,n,t[12],11,-421815835),n=Da(n,o,r,i,t[15],16,530742520),r=Oa(r,i=Da(i,n,o,r,t[2],23,-995338651),n,o,t[0],6,-198630844),o=Oa(o,r,i,n,t[7],10,1126891415),n=Oa(n,o,r,i,t[14],15,-1416354905),i=Oa(i,n,o,r,t[5],21,-57434055),r=Oa(r,i,n,o,t[12],6,1700485571),o=Oa(o,r,i,n,t[3],10,-1894986606),n=Oa(n,o,r,i,t[10],15,-1051523),i=Oa(i,n,o,r,t[1],21,-2054922799),r=Oa(r,i,n,o,t[8],6,1873313359),o=Oa(o,r,i,n,t[15],10,-30611744),n=Oa(n,o,r,i,t[6],15,-1560198380),i=Oa(i,n,o,r,t[13],21,1309151649),r=Oa(r,i,n,o,t[4],6,-145523070),o=Oa(o,r,i,n,t[11],10,-1120210379),n=Oa(n,o,r,i,t[2],15,718787259),i=Oa(i,n,o,r,t[9],21,-343485551),e[0]=Jp(r,e[0]),e[1]=Jp(i,e[1]),e[2]=Jp(n,e[2]),e[3]=Jp(o,e[3])}function WD(e,t,r,i,n,o){return t=Jp(Jp(t,e),Jp(i,o)),Jp(t<<n|t>>>32-n,r)}function Ia(e,t,r,i,n,o,s){return WD(t&r|~t&i,e,t,n,o,s)}function ka(e,t,r,i,n,o,s){return WD(t&i|r&~i,e,t,n,o,s)}function Da(e,t,r,i,n,o,s){return WD(t^r^i,e,t,n,o,s)}function Oa(e,t,r,i,n,o,s){return WD(r^(t|~i),e,t,n,o,s)}function Wot(e){var t,r=e.length,i=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)uH(i,SPt(e.substring(t-64,t)));e=e.substring(t-64);var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)n[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(n[t>>2]|=128<<(t%4<<3),t>55)for(uH(i,n),t=0;t<16;t++)n[t]=0;return n[14]=8*r,uH(i,n),i}function SPt(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}dR=Ki.atob.bind(Ki),pH=Ki.btoa.bind(Ki);var Tot="0123456789abcdef".split("");function EPt(e){for(var t="",r=0;r<4;r++)t+=Tot[e>>8*r+4&15]+Tot[e>>8*r&15];return t}function RPt(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function gH(e){return Wot(e).map(RPt).join("")}var TPt=function(e){for(var t=0;t<e.length;t++)e[t]=EPt(e[t]);return e.join("")}(Wot("hello"))!="5d41402abc4b2a76b9719d911017c592";function Jp(e,t){if(TPt){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}function bH(e,t){var r,i,n,o;if(e!==r){for(var s=(n=e,o=1+(256/e.length>>0),new Array(o+1).join(n)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var d=a[l];c=(c+d+s.charCodeAt(l))%256,a[l]=a[c],a[c]=d}r=e,i=a}else a=i;var u=t.length,h=0,f=0,m="";for(l=0;l<u;l++)f=(f+(d=a[h=(h+1)%256]))%256,a[h]=a[f],a[f]=d,s=a[(a[h]+a[f])%256],m+=String.fromCharCode(t.charCodeAt(l)^s);return m}var Mot={print:4,modify:8,copy:16,"annot-forms":32};function d1(e,t,r,i){this.v=1,this.r=2;var n=192;e.forEach(function(a){if(Mot.perm!==void 0)throw new Error("Invalid permission: "+a);n+=Mot[a]}),this.padding="(\xBFN^Nu\x8AAd\0NV\xFF\xFA\b..\0\xB6\xD0h>\x80/\f\xA9\xFEdSiz";var o=(t+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,s),this.P=-(1+(255^n)),this.encryptionKey=gH(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=bH(this.encryptionKey,this.padding)}function u1(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,i=0;i<r;i++){var n=e.charCodeAt(i);n<33||n===35||n===37||n===40||n===41||n===47||n===60||n===62||n===91||n===93||n===123||n===125||n>126?t+="#"+("0"+n.toString(16)).slice(-2):t+=e[i]}return t}function Aot(e){if(Bn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,i,n){if(n=n||!1,typeof r!="string"||typeof i!="function"||typeof n!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var o=Math.random().toString(35);return t[r][o]=[i,!!n],o},this.unsubscribe=function(r){for(var i in t)if(t[i][r])return delete t[i][r],Object.keys(t[i]).length===0&&delete t[i],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var i=Array.prototype.slice.call(arguments,1),n=[];for(var o in t[r]){var s=t[r][o];try{s[0].apply(e,i)}catch(a){Ki.console&&Qn.error("jsPDF PubSub Error",a.message,a)}s[1]&&n.push(o)}n.length&&n.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function zD(e){if(!(this instanceof zD))return new zD(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function Yot(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function db(e,t,r,i,n){if(!(this instanceof db))return new db(e,t,r,i,n);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,Yot.call(this,i,n)}function h1(e,t,r,i,n){if(!(this instanceof h1))return new h1(e,t,r,i,n);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,Yot.call(this,i,n)}function qi(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],n=arguments[2],o=arguments[3],s=[],a=1,l=16,c="S",d=null;Bn(e=e||{})==="object"&&(r=e.orientation,i=e.unit||i,n=e.format||n,o=e.compress||e.compressPdf||o,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),a=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),s=e.filters||(o===!0?["FlateEncode"]:s),i=i||"mm",r=(""+(r||"P")).toLowerCase();var u=e.putOnlyUsedFonts||!1,h={},f={internal:{},__private__:{}};f.__private__.PubSub=Aot;var m="1.3",g=f.__private__.getPdfVersion=function(){return m};f.__private__.setPdfVersion=function(K){m=K};var p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return p};var b=f.__private__.getPageFormat=function(K){return p[K]};n=n||"a4";var _={COMPAT:"compat",ADVANCED:"advanced"},E=_.COMPAT;function O(){this.saveGraphicsState(),at(new he(Wt,0,0,-Wt,0,hu()*Wt).toString()+" cm"),this.setFontSize(this.getFontSize()/Wt),c="n",E=_.ADVANCED}function V(){this.restoreGraphicsState(),c="S",E=_.COMPAT}var H=f.__private__.combineFontStyleAndFontWeight=function(K,ft){if(K=="bold"&&ft=="normal"||K=="bold"&&ft==400||K=="normal"&&ft=="italic"||K=="bold"&&ft=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ft&&(K=ft==400||ft==="normal"?K==="italic"?"italic":"normal":ft!=700&&ft!=="bold"||K!=="normal"?(ft==700?"bold":ft)+""+K:"bold"),K};f.advancedAPI=function(K){var ft=E===_.COMPAT;return ft&&O.call(this),typeof K!="function"||(K(this),ft&&V.call(this)),this},f.compatAPI=function(K){var ft=E===_.ADVANCED;return ft&&V.call(this),typeof K!="function"||(K(this),ft&&O.call(this)),this},f.isAdvancedAPI=function(){return E===_.ADVANCED};var F,L=function(K){if(E!==_.ADVANCED)throw new Error(K+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},$=f.roundToPrecision=f.__private__.roundToPrecision=function(K,ft){var Ot=t||ft;if(isNaN(K)||isNaN(Ot))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return K.toFixed(Ot).replace(/0+$/,"")};F=f.hpf=f.__private__.hpf=typeof l=="number"?function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.hpf");return $(K,l)}:l==="smart"?function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.hpf");return $(K,K>-1&&K<1?16:5)}:function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.hpf");return $(K,16)};var W=f.f2=f.__private__.f2=function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.f2");return $(K,2)},x=f.__private__.f3=function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.f3");return $(K,3)},R=f.scale=f.__private__.scale=function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.scale");return E===_.COMPAT?K*Wt:E===_.ADVANCED?K:void 0},B=function(K){return E===_.COMPAT?hu()-K:E===_.ADVANCED?K:void 0},v=function(K){return R(B(K))};f.__private__.setPrecision=f.setPrecision=function(K){typeof parseInt(K,10)=="number"&&(t=parseInt(K,10))};var y,C="00000000000000000000000000000000",w=f.__private__.getFileId=function(){return C},S=f.__private__.setFileId=function(K){return C=K!==void 0&&/^[a-fA-F0-9]{32}$/.test(K)?K.toUpperCase():C.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Oo=new d1(d.userPermissions,d.userPassword,d.ownerPassword,C)),C};f.setFileId=function(K){return S(K),this},f.getFileId=function(){return w()};var M=f.__private__.convertDateToPDFDate=function(K){var ft=K.getTimezoneOffset(),Ot=ft<0?"+":"-",Ht=Math.floor(Math.abs(ft/60)),$t=Math.abs(ft%60),ue=[Ot,I(Ht),"'",I($t),"'"].join("");return["D:",K.getFullYear(),I(K.getMonth()+1),I(K.getDate()),I(K.getHours()),I(K.getMinutes()),I(K.getSeconds()),ue].join("")},U=f.__private__.convertPDFDateToDate=function(K){var ft=parseInt(K.substr(2,4),10),Ot=parseInt(K.substr(6,2),10)-1,Ht=parseInt(K.substr(8,2),10),$t=parseInt(K.substr(10,2),10),ue=parseInt(K.substr(12,2),10),Re=parseInt(K.substr(14,2),10);return new Date(ft,Ot,Ht,$t,ue,Re,0)},N=f.__private__.setCreationDate=function(K){var ft;if(K===void 0&&(K=new Date),K instanceof Date)ft=M(K);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(K))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ft=K}return y=ft},T=f.__private__.getCreationDate=function(K){var ft=y;return K==="jsDate"&&(ft=U(y)),ft};f.setCreationDate=function(K){return N(K),this},f.getCreationDate=function(K){return T(K)};var j,I=f.__private__.padd2=function(K){return("0"+parseInt(K)).slice(-2)},q=f.__private__.padd2Hex=function(K){return("00"+(K=K.toString())).substr(K.length)},A=0,k=[],Y=[],Z=0,lt=[],J=[],et=!1,Et=Y,Rt=function(){A=0,Z=0,Y=[],k=[],lt=[],Ui=mi(),qe=mi()};f.__private__.setCustomOutputDestination=function(K){et=!0,Et=K};var nt=function(K){et||(Et=K)};f.__private__.resetCustomOutputDestination=function(){et=!1,Et=Y};var at=f.__private__.out=function(K){return K=K.toString(),Z+=K.length+1,Et.push(K),Et},Ct=f.__private__.write=function(K){return at(arguments.length===1?K.toString():Array.prototype.join.call(arguments," "))},tt=f.__private__.getArrayBuffer=function(K){for(var ft=K.length,Ot=new ArrayBuffer(ft),Ht=new Uint8Array(Ot);ft--;)Ht[ft]=K.charCodeAt(ft);return Ot},it=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return it};var ct=e.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(K){return ct=E===_.ADVANCED?K/Wt:K,this};var mt,bt=f.__private__.getFontSize=f.getFontSize=function(){return E===_.COMPAT?ct:ct*Wt},St=e.R2L||!1;f.__private__.setR2L=f.setR2L=function(K){return St=K,this},f.__private__.getR2L=f.getR2L=function(){return St};var wt,At=f.__private__.setZoomMode=function(K){var ft=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(K))mt=K;else if(isNaN(K)){if(ft.indexOf(K)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+K+'" is not recognized.');mt=K}else mt=parseInt(K,10)};f.__private__.getZoomMode=function(){return mt};var kt,Mt=f.__private__.setPageMode=function(K){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(K)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+K+'" is not recognized.');wt=K};f.__private__.getPageMode=function(){return wt};var Nt=f.__private__.setLayoutMode=function(K){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(K)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+K+'" is not recognized.');kt=K};f.__private__.getLayoutMode=function(){return kt},f.__private__.setDisplayMode=f.setDisplayMode=function(K,ft,Ot){return At(K),Nt(ft),Mt(Ot),this};var Ut={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(K){if(Object.keys(Ut).indexOf(K)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ut[K]},f.__private__.getDocumentProperties=function(){return Ut},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(K){for(var ft in Ut)Ut.hasOwnProperty(ft)&&K[ft]&&(Ut[ft]=K[ft]);return this},f.__private__.setDocumentProperty=function(K,ft){if(Object.keys(Ut).indexOf(K)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ut[K]=ft};var qt,Wt,re,Qt,Fe,le={},fe={},Di=[],Ae={},oi={},Ni={},ei={},fi=null,be=0,ye=[],xe=new Aot(f),Yr=e.hotfixes||[],Ye={},Te={},Jn=[],he=function K(ft,Ot,Ht,$t,ue,Re){if(!(this instanceof K))return new K(ft,Ot,Ht,$t,ue,Re);isNaN(ft)&&(ft=1),isNaN(Ot)&&(Ot=0),isNaN(Ht)&&(Ht=0),isNaN($t)&&($t=1),isNaN(ue)&&(ue=0),isNaN(Re)&&(Re=0),this._matrix=[ft,Ot,Ht,$t,ue,Re]};Object.defineProperty(he.prototype,"sx",{get:function(){return this._matrix[0]},set:function(K){this._matrix[0]=K}}),Object.defineProperty(he.prototype,"shy",{get:function(){return this._matrix[1]},set:function(K){this._matrix[1]=K}}),Object.defineProperty(he.prototype,"shx",{get:function(){return this._matrix[2]},set:function(K){this._matrix[2]=K}}),Object.defineProperty(he.prototype,"sy",{get:function(){return this._matrix[3]},set:function(K){this._matrix[3]=K}}),Object.defineProperty(he.prototype,"tx",{get:function(){return this._matrix[4]},set:function(K){this._matrix[4]=K}}),Object.defineProperty(he.prototype,"ty",{get:function(){return this._matrix[5]},set:function(K){this._matrix[5]=K}}),Object.defineProperty(he.prototype,"a",{get:function(){return this._matrix[0]},set:function(K){this._matrix[0]=K}}),Object.defineProperty(he.prototype,"b",{get:function(){return this._matrix[1]},set:function(K){this._matrix[1]=K}}),Object.defineProperty(he.prototype,"c",{get:function(){return this._matrix[2]},set:function(K){this._matrix[2]=K}}),Object.defineProperty(he.prototype,"d",{get:function(){return this._matrix[3]},set:function(K){this._matrix[3]=K}}),Object.defineProperty(he.prototype,"e",{get:function(){return this._matrix[4]},set:function(K){this._matrix[4]=K}}),Object.defineProperty(he.prototype,"f",{get:function(){return this._matrix[5]},set:function(K){this._matrix[5]=K}}),Object.defineProperty(he.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(he.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(he.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(he.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),he.prototype.join=function(K){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(F).join(K)},he.prototype.multiply=function(K){var ft=K.sx*this.sx+K.shy*this.shx,Ot=K.sx*this.shy+K.shy*this.sy,Ht=K.shx*this.sx+K.sy*this.shx,$t=K.shx*this.shy+K.sy*this.sy,ue=K.tx*this.sx+K.ty*this.shx+this.tx,Re=K.tx*this.shy+K.ty*this.sy+this.ty;return new he(ft,Ot,Ht,$t,ue,Re)},he.prototype.decompose=function(){var K=this.sx,ft=this.shy,Ot=this.shx,Ht=this.sy,$t=this.tx,ue=this.ty,Re=Math.sqrt(K*K+ft*ft),$e=(K/=Re)*Ot+(ft/=Re)*Ht;Ot-=K*$e,Ht-=ft*$e;var Mi=Math.sqrt(Ot*Ot+Ht*Ht);return $e/=Mi,K*(Ht/=Mi)<ft*(Ot/=Mi)&&(K=-K,ft=-ft,$e=-$e,Re=-Re),{scale:new he(Re,0,0,Mi,0,0),translate:new he(1,0,0,1,$t,ue),rotate:new he(K,ft,-ft,K,0,0),skew:new he(1,0,$e,1,0,0)}},he.prototype.toString=function(K){return this.join(" ")},he.prototype.inversed=function(){var K=this.sx,ft=this.shy,Ot=this.shx,Ht=this.sy,$t=this.tx,ue=this.ty,Re=1/(K*Ht-ft*Ot),$e=Ht*Re,Mi=-ft*Re,Qi=-Ot*Re,Ji=K*Re;return new he($e,Mi,Qi,Ji,-$e*$t-Qi*ue,-Mi*$t-Ji*ue)},he.prototype.applyToPoint=function(K){var ft=K.x*this.sx+K.y*this.shx+this.tx,Ot=K.x*this.shy+K.y*this.sy+this.ty;return new du(ft,Ot)},he.prototype.applyToRectangle=function(K){var ft=this.applyToPoint(K),Ot=this.applyToPoint(new du(K.x+K.w,K.y+K.h));return new ag(ft.x,ft.y,Ot.x-ft.x,Ot.y-ft.y)},he.prototype.clone=function(){var K=this.sx,ft=this.shy,Ot=this.shx,Ht=this.sy,$t=this.tx,ue=this.ty;return new he(K,ft,Ot,Ht,$t,ue)},f.Matrix=he;var Lt=f.matrixMult=function(K,ft){return ft.multiply(K)},Jt=new he(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=Jt;var ie=function(K,ft){if(!oi[K]){var Ot=(ft instanceof db?"Sh":"P")+(Object.keys(Ae).length+1).toString(10);ft.id=Ot,oi[K]=Ot,Ae[Ot]=ft,xe.publish("addPattern",ft)}};f.ShadingPattern=db,f.TilingPattern=h1,f.addShadingPattern=function(K,ft){return L("addShadingPattern()"),ie(K,ft),this},f.beginTilingPattern=function(K){L("beginTilingPattern()"),_b(K.boundingBox[0],K.boundingBox[1],K.boundingBox[2]-K.boundingBox[0],K.boundingBox[3]-K.boundingBox[1],K.matrix)},f.endTilingPattern=function(K,ft){L("endTilingPattern()"),ft.stream=J[j].join(`
`),ie(K,ft),xe.publish("endTilingPattern",ft),Jn.pop().restore()};var se=f.__private__.newObject=function(){var K=mi();return Ee(K,!0),K},mi=f.__private__.newObjectDeferred=function(){return A++,k[A]=function(){return Z},A},Ee=function(K,ft){return ft=typeof ft=="boolean"&&ft,k[K]=Z,ft&&at(K+" 0 obj"),K},ke=f.__private__.newAdditionalObject=function(){var K={objId:mi(),content:""};return lt.push(K),K},Ui=mi(),qe=mi(),Pe=f.__private__.decodeColorString=function(K){var ft=K.split(" ");if(ft.length!==2||ft[1]!=="g"&&ft[1]!=="G")ft.length===5&&(ft[4]==="k"||ft[4]==="K")&&(ft=[(1-ft[0])*(1-ft[3]),(1-ft[1])*(1-ft[3]),(1-ft[2])*(1-ft[3]),"r"]);else{var Ot=parseFloat(ft[0]);ft=[Ot,Ot,Ot,"r"]}for(var Ht="#",$t=0;$t<3;$t++)Ht+=("0"+Math.floor(255*parseFloat(ft[$t])).toString(16)).slice(-2);return Ht},ar=f.__private__.encodeColorString=function(K){var ft;typeof K=="string"&&(K={ch1:K});var Ot=K.ch1,Ht=K.ch2,$t=K.ch3,ue=K.ch4,Re=K.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ot=="string"&&Ot.charAt(0)!=="#"){var $e=new Uot(Ot);if($e.ok)Ot=$e.toHex();else if(!/^\d*\.?\d*$/.test(Ot))throw new Error('Invalid color "'+Ot+'" passed to jsPDF.encodeColorString.')}if(typeof Ot=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ot)&&(Ot="#"+Ot[1]+Ot[1]+Ot[2]+Ot[2]+Ot[3]+Ot[3]),typeof Ot=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ot)){var Mi=parseInt(Ot.substr(1),16);Ot=Mi>>16&255,Ht=Mi>>8&255,$t=255&Mi}if(Ht===void 0||ue===void 0&&Ot===Ht&&Ht===$t)if(typeof Ot=="string")ft=Ot+" "+Re[0];else switch(K.precision){case 2:ft=W(Ot/255)+" "+Re[0];break;case 3:default:ft=x(Ot/255)+" "+Re[0]}else if(ue===void 0||Bn(ue)==="object"){if(ue&&!isNaN(ue.a)&&ue.a===0)return ft=["1.","1.","1.",Re[1]].join(" ");if(typeof Ot=="string")ft=[Ot,Ht,$t,Re[1]].join(" ");else switch(K.precision){case 2:ft=[W(Ot/255),W(Ht/255),W($t/255),Re[1]].join(" ");break;default:case 3:ft=[x(Ot/255),x(Ht/255),x($t/255),Re[1]].join(" ")}}else if(typeof Ot=="string")ft=[Ot,Ht,$t,ue,Re[2]].join(" ");else switch(K.precision){case 2:ft=[W(Ot),W(Ht),W($t),W(ue),Re[2]].join(" ");break;case 3:default:ft=[x(Ot),x(Ht),x($t),x(ue),Re[2]].join(" ")}return ft},Wi=f.__private__.getFilters=function(){return s},Ti=f.__private__.putStream=function(K){var ft=(K=K||{}).data||"",Ot=K.filters||Wi(),Ht=K.alreadyAppliedFilters||[],$t=K.addLength1||!1,ue=ft.length,Re=K.objectId,$e=function(Es){return Es};if(d!==null&&Re===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&($e=Oo.encryptor(Re,0));var Mi={};Ot===!0&&(Ot=["FlateEncode"]);var Qi=K.additionalKeyValues||[],Ji=(Mi=qi.API.processDataByFilters!==void 0?qi.API.processDataByFilters(ft,Ot):{data:ft,reverseChain:[]}).reverseChain+(Array.isArray(Ht)?Ht.join(" "):Ht.toString());if(Mi.data.length!==0&&(Qi.push({key:"Length",value:Mi.data.length}),$t===!0&&Qi.push({key:"Length1",value:ue})),Ji.length!=0)if(Ji.split("/").length-1==1)Qi.push({key:"Filter",value:Ji});else{Qi.push({key:"Filter",value:"["+Ji+"]"});for(var Nr=0;Nr<Qi.length;Nr+=1)if(Qi[Nr].key==="DecodeParms"){for(var lo=[],po=0;po<Mi.reverseChain.split("/").length-1;po+=1)lo.push("null");lo.push(Qi[Nr].value),Qi[Nr].value="["+lo.join(" ")+"]"}}at("<<");for(var Po=0;Po<Qi.length;Po++)at("/"+Qi[Po].key+" "+Qi[Po].value);at(">>"),Mi.data.length!==0&&(at("stream"),at($e(Mi.data)),at("endstream"))},yr=f.__private__.putPage=function(K){var ft=K.number,Ot=K.data,Ht=K.objId,$t=K.contentsObjId;Ee(Ht,!0),at("<</Type /Page"),at("/Parent "+K.rootDictionaryObjId+" 0 R"),at("/Resources "+K.resourceDictionaryObjId+" 0 R"),at("/MediaBox ["+parseFloat(F(K.mediaBox.bottomLeftX))+" "+parseFloat(F(K.mediaBox.bottomLeftY))+" "+F(K.mediaBox.topRightX)+" "+F(K.mediaBox.topRightY)+"]"),K.cropBox!==null&&at("/CropBox ["+F(K.cropBox.bottomLeftX)+" "+F(K.cropBox.bottomLeftY)+" "+F(K.cropBox.topRightX)+" "+F(K.cropBox.topRightY)+"]"),K.bleedBox!==null&&at("/BleedBox ["+F(K.bleedBox.bottomLeftX)+" "+F(K.bleedBox.bottomLeftY)+" "+F(K.bleedBox.topRightX)+" "+F(K.bleedBox.topRightY)+"]"),K.trimBox!==null&&at("/TrimBox ["+F(K.trimBox.bottomLeftX)+" "+F(K.trimBox.bottomLeftY)+" "+F(K.trimBox.topRightX)+" "+F(K.trimBox.topRightY)+"]"),K.artBox!==null&&at("/ArtBox ["+F(K.artBox.bottomLeftX)+" "+F(K.artBox.bottomLeftY)+" "+F(K.artBox.topRightX)+" "+F(K.artBox.topRightY)+"]"),typeof K.userUnit=="number"&&K.userUnit!==1&&at("/UserUnit "+K.userUnit),xe.publish("putPage",{objId:Ht,pageContext:ye[ft],pageNumber:ft,page:Ot}),at("/Contents "+$t+" 0 R"),at(">>"),at("endobj");var ue=Ot.join(`
`);return E===_.ADVANCED&&(ue+=`
Q`),Ee($t,!0),Ti({data:ue,filters:Wi(),objectId:$t}),at("endobj"),Ht},rn=f.__private__.putPages=function(){var K,ft,Ot=[];for(K=1;K<=be;K++)ye[K].objId=mi(),ye[K].contentsObjId=mi();for(K=1;K<=be;K++)Ot.push(yr({number:K,data:J[K],objId:ye[K].objId,contentsObjId:ye[K].contentsObjId,mediaBox:ye[K].mediaBox,cropBox:ye[K].cropBox,bleedBox:ye[K].bleedBox,trimBox:ye[K].trimBox,artBox:ye[K].artBox,userUnit:ye[K].userUnit,rootDictionaryObjId:Ui,resourceDictionaryObjId:qe}));Ee(Ui,!0),at("<</Type /Pages");var Ht="/Kids [";for(ft=0;ft<be;ft++)Ht+=Ot[ft]+" 0 R ";at(Ht+"]"),at("/Count "+be),at(">>"),at("endobj"),xe.publish("postPutPages")},nn=function(K){xe.publish("putFont",{font:K,out:at,newObject:se,putStream:Ti}),K.isAlreadyPutted!==!0&&(K.objectNumber=se(),at("<<"),at("/Type /Font"),at("/BaseFont /"+u1(K.postScriptName)),at("/Subtype /Type1"),typeof K.encoding=="string"&&at("/Encoding /"+K.encoding),at("/FirstChar 32"),at("/LastChar 255"),at(">>"),at("endobj"))},Yn=function(){for(var K in le)le.hasOwnProperty(K)&&(u===!1||u===!0&&h.hasOwnProperty(K))&&nn(le[K])},Tn=function(K){K.objectNumber=se();var ft=[];ft.push({key:"Type",value:"/XObject"}),ft.push({key:"Subtype",value:"/Form"}),ft.push({key:"BBox",value:"["+[F(K.x),F(K.y),F(K.x+K.width),F(K.y+K.height)].join(" ")+"]"}),ft.push({key:"Matrix",value:"["+K.matrix.toString()+"]"});var Ot=K.pages[1].join(`
`);Ti({data:Ot,additionalKeyValues:ft,objectId:K.objectNumber}),at("endobj")},mo=function(){for(var K in Ye)Ye.hasOwnProperty(K)&&Tn(Ye[K])},Dt=function(K,ft){var Ot,Ht=[],$t=1/(ft-1);for(Ot=0;Ot<1;Ot+=$t)Ht.push(Ot);if(Ht.push(1),K[0].offset!=0){var ue={offset:0,color:K[0].color};K.unshift(ue)}if(K[K.length-1].offset!=1){var Re={offset:1,color:K[K.length-1].color};K.push(Re)}for(var $e="",Mi=0,Qi=0;Qi<Ht.length;Qi++){for(Ot=Ht[Qi];Ot>K[Mi+1].offset;)Mi++;var Ji=K[Mi].offset,Nr=(Ot-Ji)/(K[Mi+1].offset-Ji),lo=K[Mi].color,po=K[Mi+1].color;$e+=q(Math.round((1-Nr)*lo[0]+Nr*po[0]).toString(16))+q(Math.round((1-Nr)*lo[1]+Nr*po[1]).toString(16))+q(Math.round((1-Nr)*lo[2]+Nr*po[2]).toString(16))}return $e.trim()},Kt=function(K,ft){ft||(ft=21);var Ot=se(),Ht=Dt(K.colors,ft),$t=[];$t.push({key:"FunctionType",value:"0"}),$t.push({key:"Domain",value:"[0.0 1.0]"}),$t.push({key:"Size",value:"["+ft+"]"}),$t.push({key:"BitsPerSample",value:"8"}),$t.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),$t.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ti({data:Ht,additionalKeyValues:$t,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ot}),at("endobj"),K.objectNumber=se(),at("<< /ShadingType "+K.type),at("/ColorSpace /DeviceRGB");var ue="/Coords ["+F(parseFloat(K.coords[0]))+" "+F(parseFloat(K.coords[1]))+" ";K.type===2?ue+=F(parseFloat(K.coords[2]))+" "+F(parseFloat(K.coords[3])):ue+=F(parseFloat(K.coords[2]))+" "+F(parseFloat(K.coords[3]))+" "+F(parseFloat(K.coords[4]))+" "+F(parseFloat(K.coords[5])),at(ue+="]"),K.matrix&&at("/Matrix ["+K.matrix.toString()+"]"),at("/Function "+Ot+" 0 R"),at("/Extend [true true]"),at(">>"),at("endobj")},oe=function(K,ft){var Ot=mi(),Ht=se();ft.push({resourcesOid:Ot,objectOid:Ht}),K.objectNumber=Ht;var $t=[];$t.push({key:"Type",value:"/Pattern"}),$t.push({key:"PatternType",value:"1"}),$t.push({key:"PaintType",value:"1"}),$t.push({key:"TilingType",value:"1"}),$t.push({key:"BBox",value:"["+K.boundingBox.map(F).join(" ")+"]"}),$t.push({key:"XStep",value:F(K.xStep)}),$t.push({key:"YStep",value:F(K.yStep)}),$t.push({key:"Resources",value:Ot+" 0 R"}),K.matrix&&$t.push({key:"Matrix",value:"["+K.matrix.toString()+"]"}),Ti({data:K.stream,additionalKeyValues:$t,objectId:K.objectNumber}),at("endobj")},ae=function(K){var ft;for(ft in Ae)Ae.hasOwnProperty(ft)&&(Ae[ft]instanceof db?Kt(Ae[ft]):Ae[ft]instanceof h1&&oe(Ae[ft],K))},Ie=function(K){for(var ft in K.objectNumber=se(),at("<<"),K)switch(ft){case"opacity":at("/ca "+W(K[ft]));break;case"stroke-opacity":at("/CA "+W(K[ft]))}at(">>"),at("endobj")},ci=function(){var K;for(K in Ni)Ni.hasOwnProperty(K)&&Ie(Ni[K])},si=function(){for(var K in at("/XObject <<"),Ye)Ye.hasOwnProperty(K)&&Ye[K].objectNumber>=0&&at("/"+K+" "+Ye[K].objectNumber+" 0 R");xe.publish("putXobjectDict"),at(">>")},pr=function(){Oo.oid=se(),at("<<"),at("/Filter /Standard"),at("/V "+Oo.v),at("/R "+Oo.r),at("/U <"+Oo.toHexString(Oo.U)+">"),at("/O <"+Oo.toHexString(Oo.O)+">"),at("/P "+Oo.P),at(">>"),at("endobj")},ji=function(){for(var K in at("/Font <<"),le)le.hasOwnProperty(K)&&(u===!1||u===!0&&h.hasOwnProperty(K))&&at("/"+K+" "+le[K].objectNumber+" 0 R");at(">>")},Oi=function(){if(Object.keys(Ae).length>0){for(var K in at("/Shading <<"),Ae)Ae.hasOwnProperty(K)&&Ae[K]instanceof db&&Ae[K].objectNumber>=0&&at("/"+K+" "+Ae[K].objectNumber+" 0 R");xe.publish("putShadingPatternDict"),at(">>")}},Li=function(K){if(Object.keys(Ae).length>0){for(var ft in at("/Pattern <<"),Ae)Ae.hasOwnProperty(ft)&&Ae[ft]instanceof f.TilingPattern&&Ae[ft].objectNumber>=0&&Ae[ft].objectNumber<K&&at("/"+ft+" "+Ae[ft].objectNumber+" 0 R");xe.publish("putTilingPatternDict"),at(">>")}},Nn=function(){if(Object.keys(Ni).length>0){var K;for(K in at("/ExtGState <<"),Ni)Ni.hasOwnProperty(K)&&Ni[K].objectNumber>=0&&at("/"+K+" "+Ni[K].objectNumber+" 0 R");xe.publish("putGStateDict"),at(">>")}},nr=function(K){Ee(K.resourcesOid,!0),at("<<"),at("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),ji(),Oi(),Li(K.objectOid),Nn(),si(),at(">>"),at("endobj")},kr=function(){var K=[];Yn(),ci(),mo(),ae(K),xe.publish("putResources"),K.forEach(nr),nr({resourcesOid:qe,objectOid:Number.MAX_SAFE_INTEGER}),xe.publish("postPutResources")},zr=function(){xe.publish("putAdditionalObjects");for(var K=0;K<lt.length;K++){var ft=lt[K];Ee(ft.objId,!0),at(ft.content),at("endobj")}xe.publish("postPutAdditionalObjects")},So=function(K){fe[K.fontName]=fe[K.fontName]||{},fe[K.fontName][K.fontStyle]=K.id},ns=function(K,ft,Ot,Ht,$t){var ue={id:"F"+(Object.keys(le).length+1).toString(10),postScriptName:K,fontName:ft,fontStyle:Ot,encoding:Ht,isStandardFont:$t||!1,metadata:{}};return xe.publish("addFont",{font:ue,instance:this}),le[ue.id]=ue,So(ue),ue.id},Cs=function(K){for(var ft=0,Ot=it.length;ft<Ot;ft++){var Ht=ns.call(this,K[ft][0],K[ft][1],K[ft][2],it[ft][3],!0);u===!1&&(h[Ht]=!0);var $t=K[ft][0].split("-");So({id:Ht,fontName:$t[0],fontStyle:$t[1]||""})}xe.publish("addFonts",{fonts:le,dictionary:fe})},so=function(K){return K.foo=function(){try{return K.apply(this,arguments)}catch(Ht){var ft=Ht.stack||"";~ft.indexOf(" at ")&&(ft=ft.split(" at ")[1]);var Ot="Error in function "+ft.split(`
`)[0].split("<")[0]+": "+Ht.message;if(!Ki.console)throw new Error(Ot);Ki.console.error(Ot,Ht),Ki.alert&&alert(Ot)}},K.foo.bar=K,K.foo},la=function(K,ft){var Ot,Ht,$t,ue,Re,$e,Mi,Qi,Ji;if($t=(ft=ft||{}).sourceEncoding||"Unicode",Re=ft.outputEncoding,(ft.autoencode||Re)&&le[qt].metadata&&le[qt].metadata[$t]&&le[qt].metadata[$t].encoding&&(ue=le[qt].metadata[$t].encoding,!Re&&le[qt].encoding&&(Re=le[qt].encoding),!Re&&ue.codePages&&(Re=ue.codePages[0]),typeof Re=="string"&&(Re=ue[Re]),Re)){for(Mi=!1,$e=[],Ot=0,Ht=K.length;Ot<Ht;Ot++)(Qi=Re[K.charCodeAt(Ot)])?$e.push(String.fromCharCode(Qi)):$e.push(K[Ot]),$e[Ot].charCodeAt(0)>>8&&(Mi=!0);K=$e.join("")}for(Ot=K.length;Mi===void 0&&Ot!==0;)K.charCodeAt(Ot-1)>>8&&(Mi=!0),Ot--;if(!Mi)return K;for($e=ft.noBOM?[]:[254,255],Ot=0,Ht=K.length;Ot<Ht;Ot++){if((Ji=(Qi=K.charCodeAt(Ot))>>8)>>8)throw new Error("Character at position "+Ot+" of string '"+K+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");$e.push(Ji),$e.push(Qi-(Ji<<8))}return String.fromCharCode.apply(void 0,$e)},ao=f.__private__.pdfEscape=f.pdfEscape=function(K,ft){return la(K,ft).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ys=f.__private__.beginPage=function(K){J[++be]=[],ye[be]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(K[0]),topRightY:Number(K[1])}},xs(be),nt(J[j])},Tr=function(K,ft){var Ot,Ht,$t;switch(r=ft||r,typeof K=="string"&&(Ot=b(K.toLowerCase()),Array.isArray(Ot)&&(Ht=Ot[0],$t=Ot[1])),Array.isArray(K)&&(Ht=K[0]*Wt,$t=K[1]*Wt),isNaN(Ht)&&(Ht=n[0],$t=n[1]),(Ht>14400||$t>14400)&&(Qn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ht=Math.min(14400,Ht),$t=Math.min(14400,$t)),n=[Ht,$t],r.substr(0,1)){case"l":$t>Ht&&(n=[$t,Ht]);break;case"p":Ht>$t&&(n=[$t,Ht])}Ys(n),gb(Wf),at(el),sg!==0&&at(sg+" J"),La!==0&&at(La+" j"),xe.publish("addPage",{pageNumber:be})},Dr=function(K){K>0&&K<=be&&(J.splice(K,1),ye.splice(K,1),be--,j>be&&(j=be),this.setPage(j))},xs=function(K){K>0&&K<=be&&(j=K)},Pl=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return J.length-1},ad=function(K,ft,Ot){var Ht,$t=void 0;return Ot=Ot||{},K=K!==void 0?K:le[qt].fontName,ft=ft!==void 0?ft:le[qt].fontStyle,Ht=K.toLowerCase(),fe[Ht]!==void 0&&fe[Ht][ft]!==void 0?$t=fe[Ht][ft]:fe[K]!==void 0&&fe[K][ft]!==void 0?$t=fe[K][ft]:Ot.disableWarning===!1&&Qn.warn("Unable to look up font label for font '"+K+"', '"+ft+"'. Refer to getFontList() for available fonts."),$t||Ot.noFallback||($t=fe.times[ft])==null&&($t=fe.times.normal),$t},us=f.__private__.putInfo=function(){var K=se(),ft=function(Ht){return Ht};for(var Ot in d!==null&&(ft=Oo.encryptor(K,0)),at("<<"),at("/Producer ("+ao(ft("jsPDF "+qi.version))+")"),Ut)Ut.hasOwnProperty(Ot)&&Ut[Ot]&&at("/"+Ot.substr(0,1).toUpperCase()+Ot.substr(1)+" ("+ao(ft(Ut[Ot]))+")");at("/CreationDate ("+ao(ft(y))+")"),at(">>"),at("endobj")},qs=f.__private__.putCatalog=function(K){var ft=(K=K||{}).rootDictionaryObjId||Ui;switch(se(),at("<<"),at("/Type /Catalog"),at("/Pages "+ft+" 0 R"),mt||(mt="fullwidth"),mt){case"fullwidth":at("/OpenAction [3 0 R /FitH null]");break;case"fullheight":at("/OpenAction [3 0 R /FitV null]");break;case"fullpage":at("/OpenAction [3 0 R /Fit]");break;case"original":at("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ot=""+mt;Ot.substr(Ot.length-1)==="%"&&(mt=parseInt(mt)/100),typeof mt=="number"&&at("/OpenAction [3 0 R /XYZ null null "+W(mt)+"]")}switch(kt||(kt="continuous"),kt){case"continuous":at("/PageLayout /OneColumn");break;case"single":at("/PageLayout /SinglePage");break;case"two":case"twoleft":at("/PageLayout /TwoColumnLeft");break;case"tworight":at("/PageLayout /TwoColumnRight")}wt&&at("/PageMode /"+wt),xe.publish("putCatalog"),at(">>"),at("endobj")},tl=f.__private__.putTrailer=function(){at("trailer"),at("<<"),at("/Size "+(A+1)),at("/Root "+A+" 0 R"),at("/Info "+(A-1)+" 0 R"),d!==null&&at("/Encrypt "+Oo.oid+" 0 R"),at("/ID [ <"+C+"> <"+C+"> ]"),at(">>")},ld=f.__private__.putHeader=function(){at("%PDF-"+m),at("%\xBA\xDF\xAC\xE0")},nu=f.__private__.putXRef=function(){var K="0000000000";at("xref"),at("0 "+(A+1)),at("0000000000 65535 f ");for(var ft=1;ft<=A;ft++)typeof k[ft]=="function"?at((K+k[ft]()).slice(-10)+" 00000 n "):k[ft]!==void 0?at((K+k[ft]).slice(-10)+" 00000 n "):at("0000000000 00000 n ")},Ss=f.__private__.buildDocument=function(){Rt(),nt(Y),xe.publish("buildDocument"),ld(),rn(),zr(),kr(),d!==null&&pr(),us(),qs();var K=Z;return nu(),tl(),at("startxref"),at(""+K),at("%%EOF"),nt(J[j]),Y.join(`
`)},hs=f.__private__.getBlob=function(K){return new Blob([tt(K)],{type:"application/pdf"})},cd=f.output=f.__private__.output=so(function(K,ft){switch(typeof(ft=ft||{})=="string"?ft={filename:ft}:ft.filename=ft.filename||"generated.pdf",K){case void 0:return Ss();case"save":f.save(ft.filename);break;case"arraybuffer":return tt(Ss());case"blob":return hs(Ss());case"bloburi":case"bloburl":if(Ki.URL!==void 0&&typeof Ki.URL.createObjectURL=="function")return Ki.URL&&Ki.URL.createObjectURL(hs(Ss()))||void 0;Qn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ot="",Ht=Ss();try{Ot=pH(Ht)}catch{Ot=pH(unescape(encodeURIComponent(Ht)))}return"data:application/pdf;filename="+ft.filename+";base64,"+Ot;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ki)==="[object Window]"){var $t="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ue=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ft.pdfObjectUrl&&($t=ft.pdfObjectUrl,ue="");var Re='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+$t+'"'+ue+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ft)+");<\/script></body></html>",$e=Ki.open();return $e!==null&&$e.document.write(Re),$e}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ki)==="[object Window]"){var Mi='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ft.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ft.filename+'" width="500px" height="400px" /></body></html>',Qi=Ki.open();if(Qi!==null){Qi.document.write(Mi);var Ji=this;Qi.document.documentElement.querySelector("#pdfViewer").onload=function(){Qi.document.title=ft.filename,Qi.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ji.output("bloburl"))}}return Qi}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ki)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Nr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ft)+'"></iframe></body></html>',lo=Ki.open();if(lo!==null&&(lo.document.write(Nr),lo.document.title=ft.filename),lo||typeof safari>"u")return lo;break;case"datauri":case"dataurl":return Ki.document.location.href=this.output("datauristring",ft);default:return null}}),pc=function(K){return Array.isArray(Yr)===!0&&Yr.indexOf(K)>-1};switch(i){case"pt":Wt=1;break;case"mm":Wt=72/25.4;break;case"cm":Wt=72/2.54;break;case"in":Wt=72;break;case"px":Wt=pc("px_scaling")==1?.75:96/72;break;case"pc":case"em":Wt=12;break;case"ex":Wt=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);Wt=i}var Oo=null;N(),S();var ou=function(K){return d!==null?Oo.encryptor(K,0):function(ft){return ft}},dd=f.__private__.getPageInfo=f.getPageInfo=function(K){if(isNaN(K)||K%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ye[K].objId,pageNumber:K,pageContext:ye[K]}},$i=f.__private__.getPageInfoByObjId=function(K){if(isNaN(K)||K%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ft in ye)if(ye[ft].objId===K)break;return dd(ft)},su=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:ye[j].objId,pageNumber:j,pageContext:ye[j]}};f.addPage=function(){return Tr.apply(this,arguments),this},f.setPage=function(){return xs.apply(this,arguments),nt.call(this,J[j]),this},f.insertPage=function(K){return this.addPage(),this.movePage(j,K),this},f.movePage=function(K,ft){var Ot,Ht;if(K>ft){Ot=J[K],Ht=ye[K];for(var $t=K;$t>ft;$t--)J[$t]=J[$t-1],ye[$t]=ye[$t-1];J[ft]=Ot,ye[ft]=Ht,this.setPage(ft)}else if(K<ft){Ot=J[K],Ht=ye[K];for(var ue=K;ue<ft;ue++)J[ue]=J[ue+1],ye[ue]=ye[ue+1];J[ft]=Ot,ye[ft]=Ht,this.setPage(ft)}return this},f.deletePage=function(){return Dr.apply(this,arguments),this},f.__private__.text=f.text=function(K,ft,Ot,Ht,$t){var ue,Re,$e,Mi,Qi,Ji,Nr,lo,po,Po=(Ht=Ht||{}).scope||this;if(typeof K=="number"&&typeof ft=="number"&&(typeof Ot=="string"||Array.isArray(Ot))){var Es=Ot;Ot=ft,ft=K,K=Es}if(arguments[3]instanceof he?(L("The transform parameter of text() with a Matrix value"),po=$t):($e=arguments[4],Mi=arguments[5],Bn(Nr=arguments[3])==="object"&&Nr!==null||(typeof $e=="string"&&(Mi=$e,$e=null),typeof Nr=="string"&&(Mi=Nr,Nr=null),typeof Nr=="number"&&($e=Nr,Nr=null),Ht={flags:Nr,angle:$e,align:Mi})),isNaN(ft)||isNaN(Ot)||K==null)throw new Error("Invalid arguments passed to jsPDF.text");if(K.length===0)return Po;var qo="",Nl=!1,ca=typeof Ht.lineHeightFactor=="number"?Ht.lineHeightFactor:lu,Ur=Po.internal.scaleFactor;function wb(Ln){return Ln=Ln.split("	").join(Array(Ht.TabLen||9).join(" ")),ao(Ln,Nr)}function dg(Ln){for(var Fn,Eo=Ln.concat(),$o=[],gd=Eo.length;gd--;)typeof(Fn=Eo.shift())=="string"?$o.push(Fn):Array.isArray(Ln)&&(Fn.length===1||Fn[1]===void 0&&Fn[2]===void 0)?$o.push(Fn[0]):$o.push([Fn[0],Fn[1],Fn[2]]);return $o}function Kf(Ln,Fn){var Eo;if(typeof Ln=="string")Eo=Fn(Ln)[0];else if(Array.isArray(Ln)){for(var $o,gd,bg=Ln.concat(),im=[],Sb=bg.length;Sb--;)typeof($o=bg.shift())=="string"?im.push(Fn($o)[0]):Array.isArray($o)&&typeof $o[0]=="string"&&(gd=Fn($o[0],$o[1],$o[2]),im.push([gd[0],gd[1],gd[2]]));Eo=im}return Eo}var Xf=!1,ug=!0;if(typeof K=="string")Xf=!0;else if(Array.isArray(K)){var hg=K.concat();Re=[];for(var vc,fs=hg.length;fs--;)(typeof(vc=hg.shift())!="string"||Array.isArray(vc)&&typeof vc[0]!="string")&&(ug=!1);Xf=ug}if(Xf===!1)throw new Error('Type of text must be string or Array. "'+K+'" is not recognized.');typeof K=="string"&&(K=K.match(/[\r?\n]/)?K.split(/\r\n|\r|\n/g):[K]);var Zf=ct/Po.internal.scaleFactor,Qf=Zf*(ca-1);switch(Ht.baseline){case"bottom":Ot-=Qf;break;case"top":Ot+=Zf-Qf;break;case"hanging":Ot+=Zf-2*Qf;break;case"middle":Ot+=Zf/2-Qf}if((Ji=Ht.maxWidth||0)>0&&(typeof K=="string"?K=Po.splitTextToSize(K,Ji):Object.prototype.toString.call(K)==="[object Array]"&&(K=K.reduce(function(Ln,Fn){return Ln.concat(Po.splitTextToSize(Fn,Ji))},[]))),ue={text:K,x:ft,y:Ot,options:Ht,mutex:{pdfEscape:ao,activeFontKey:qt,fonts:le,activeFontSize:ct}},xe.publish("preProcessText",ue),K=ue.text,$e=(Ht=ue.options).angle,!(po instanceof he)&&$e&&typeof $e=="number"){$e*=Math.PI/180,Ht.rotationDirection===0&&($e=-$e),E===_.ADVANCED&&($e=-$e);var hd=Math.cos($e),fu=Math.sin($e);po=new he(hd,fu,-fu,hd,0,0)}else $e&&$e instanceof he&&(po=$e);E!==_.ADVANCED||po||(po=Jt),(Qi=Ht.charSpace||Na)!==void 0&&(qo+=F(R(Qi))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(lo=Ht.horizontalScale)!==void 0&&(qo+=F(100*lo)+` Tz
`),Ht.lang;var Rs=-1,C1=Ht.renderingMode!==void 0?Ht.renderingMode:Ht.stroke,Jf=Po.internal.getCurrentPageInfo().pageContext;switch(C1){case 0:case!1:case"fill":Rs=0;break;case 1:case!0:case"stroke":Rs=1;break;case 2:case"fillThenStroke":Rs=2;break;case 3:case"invisible":Rs=3;break;case 4:case"fillAndAddForClipping":Rs=4;break;case 5:case"strokeAndAddPathForClipping":Rs=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Rs=6;break;case 7:case"addToPathForClipping":Rs=7}var Cb=Jf.usedRenderingMode!==void 0?Jf.usedRenderingMode:-1;Rs!==-1?qo+=Rs+` Tr
`:Cb!==-1&&(qo+=`0 Tr
`),Rs!==-1&&(Jf.usedRenderingMode=Rs),Mi=Ht.align||"left";var da,mu=ct*ca,tm=Po.internal.pageSize.getWidth(),xb=le[qt];Qi=Ht.charSpace||Na,Ji=Ht.maxWidth||0,Nr=Object.assign({autoencode:!0,noBOM:!0},Ht.flags);var pu=[],Ih=function(Ln){return Po.getStringUnitWidth(Ln,{font:xb,charSpace:Qi,fontSize:ct,doKerning:!1})*ct/Ur};if(Object.prototype.toString.call(K)==="[object Array]"){var ua;Re=dg(K),Mi!=="left"&&(da=Re.map(Ih));var $s,gu=0;if(Mi==="right"){ft-=da[0],K=[],fs=Re.length;for(var fd=0;fd<fs;fd++)fd===0?($s=qr(ft),ua=Pa(Ot)):($s=R(gu-da[fd]),ua=-mu),K.push([Re[fd],$s,ua]),gu=da[fd]}else if(Mi==="center"){ft-=da[0]/2,K=[],fs=Re.length;for(var md=0;md<fs;md++)md===0?($s=qr(ft),ua=Pa(Ot)):($s=R((gu-da[md])/2),ua=-mu),K.push([Re[md],$s,ua]),gu=da[md]}else if(Mi==="left"){K=[],fs=Re.length;for(var em=0;em<fs;em++)K.push(Re[em])}else if(Mi==="justify"&&xb.encoding==="Identity-H"){K=[],fs=Re.length,Ji=Ji!==0?Ji:tm;for(var pd=0,go=0;go<fs;go++)if(ua=go===0?Pa(Ot):-mu,$s=go===0?qr(ft):pd,go<fs-1){var fg=R((Ji-da[go])/(Re[go].split(" ").length-1)),Gs=Re[go].split(" ");K.push([Gs[0]+" ",$s,ua]),pd=0;for(var bo=1;bo<Gs.length;bo++){var il=(Ih(Gs[bo-1]+" "+Gs[bo])-Ih(Gs[bo]))*Ur+fg;bo==Gs.length-1?K.push([Gs[bo],il,0]):K.push([Gs[bo]+" ",il,0]),pd-=il}}else K.push([Re[go],$s,ua]);K.push(["",pd,0])}else{if(Mi!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(K=[],fs=Re.length,Ji=Ji!==0?Ji:tm,go=0;go<fs;go++)ua=go===0?Pa(Ot):-mu,$s=go===0?qr(ft):0,go<fs-1?pu.push(F(R((Ji-da[go])/(Re[go].split(" ").length-1)))):pu.push(0),K.push([Re[go],$s,ua])}}var mg=typeof Ht.R2L=="boolean"?Ht.R2L:St;mg===!0&&(K=Kf(K,function(Ln,Fn,Eo){return[Ln.split("").reverse().join(""),Fn,Eo]})),ue={text:K,x:ft,y:Ot,options:Ht,mutex:{pdfEscape:ao,activeFontKey:qt,fonts:le,activeFontSize:ct}},xe.publish("postProcessText",ue),K=ue.text,Nl=ue.mutex.isHex||!1;var pg=le[qt].encoding;pg!=="WinAnsiEncoding"&&pg!=="StandardEncoding"||(K=Kf(K,function(Ln,Fn,Eo){return[wb(Ln),Fn,Eo]})),Re=dg(K),K=[];for(var bu,vu,yu,kh=0,Dh=1,Oh=Array.isArray(Re[0])?Dh:kh,_u="",gg=function(Ln,Fn,Eo){var $o="";return Eo instanceof he?(Eo=typeof Ht.angle=="number"?Lt(Eo,new he(1,0,0,1,Ln,Fn)):Lt(new he(1,0,0,1,Ln,Fn),Eo),E===_.ADVANCED&&(Eo=Lt(new he(1,0,0,-1,0,0),Eo)),$o=Eo.join(" ")+` Tm
`):$o=F(Ln)+" "+F(Fn)+` Td
`,$o},rl=0;rl<Re.length;rl++){switch(_u="",Oh){case Dh:yu=(Nl?"<":"(")+Re[rl][0]+(Nl?">":")"),bu=parseFloat(Re[rl][1]),vu=parseFloat(Re[rl][2]);break;case kh:yu=(Nl?"<":"(")+Re[rl]+(Nl?">":")"),bu=qr(ft),vu=Pa(Ot)}pu!==void 0&&pu[rl]!==void 0&&(_u=pu[rl]+` Tw
`),rl===0?K.push(_u+gg(bu,vu,po)+yu):Oh===kh?K.push(_u+yu):Oh===Dh&&K.push(_u+gg(bu,vu,po)+yu)}K=Oh===kh?K.join(` Tj
T* `):K.join(` Tj
`),K+=` Tj
`;var nl=`BT
/`;return nl+=qt+" "+ct+` Tf
`,nl+=F(ct*ca)+` TL
`,nl+=Mh+`
`,nl+=qo,nl+=K,at(nl+="ET"),h[qt]=!0,Po};var au=f.__private__.clip=f.clip=function(K){return at(K==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return au("evenodd")},f.__private__.discardPath=f.discardPath=function(){return at("n"),this};var gc=f.__private__.isValidStyle=function(K){var ft=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(K)!==-1&&(ft=!0),ft};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(K){return gc(K)&&(c=K),this};var mb=f.__private__.getStyle=f.getStyle=function(K){var ft=c;switch(K){case"D":case"S":ft="S";break;case"F":ft="f";break;case"FD":case"DF":ft="B";break;case"f":case"f*":case"B":case"B*":ft=K}return ft},pb=f.close=function(){return at("h"),this};f.stroke=function(){return at("S"),this},f.fill=function(K){return Uf("f",K),this},f.fillEvenOdd=function(K){return Uf("f*",K),this},f.fillStroke=function(K){return Uf("B",K),this},f.fillStrokeEvenOdd=function(K){return Uf("B*",K),this};var Uf=function(K,ft){Bn(ft)==="object"?y1(ft,K):at(K)},eg=function(K){K===null||E===_.ADVANCED&&K===void 0||(K=mb(K),at(K))};function v1(K,ft,Ot,Ht,$t){var ue=new h1(ft||this.boundingBox,Ot||this.xStep,Ht||this.yStep,this.gState,$t||this.matrix);ue.stream=this.stream;var Re=K+"$$"+this.cloneIndex+++"$$";return ie(Re,ue),ue}var y1=function(K,ft){var Ot=oi[K.key],Ht=Ae[Ot];if(Ht instanceof db)at("q"),at(_1(ft)),Ht.gState&&f.setGState(Ht.gState),at(K.matrix.toString()+" cm"),at("/"+Ot+" sh"),at("Q");else if(Ht instanceof h1){var $t=new he(1,0,0,-1,0,hu());K.matrix&&($t=$t.multiply(K.matrix||Jt),Ot=v1.call(Ht,K.key,K.boundingBox,K.xStep,K.yStep,$t).id),at("q"),at("/Pattern cs"),at("/"+Ot+" scn"),Ht.gState&&f.setGState(Ht.gState),at(ft),at("Q")}},_1=function(K){switch(K){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},ig=f.moveTo=function(K,ft){return at(F(R(K))+" "+F(v(ft))+" m"),this},ud=f.lineTo=function(K,ft){return at(F(R(K))+" "+F(v(ft))+" l"),this},bc=f.curveTo=function(K,ft,Ot,Ht,$t,ue){return at([F(R(K)),F(v(ft)),F(R(Ot)),F(v(Ht)),F(R($t)),F(v(ue)),"c"].join(" ")),this};f.__private__.line=f.line=function(K,ft,Ot,Ht,$t){if(isNaN(K)||isNaN(ft)||isNaN(Ot)||isNaN(Ht)||!gc($t))throw new Error("Invalid arguments passed to jsPDF.line");return E===_.COMPAT?this.lines([[Ot-K,Ht-ft]],K,ft,[1,1],$t||"S"):this.lines([[Ot-K,Ht-ft]],K,ft,[1,1]).stroke()},f.__private__.lines=f.lines=function(K,ft,Ot,Ht,$t,ue){var Re,$e,Mi,Qi,Ji,Nr,lo,po,Po,Es,qo,Nl;if(typeof K=="number"&&(Nl=Ot,Ot=ft,ft=K,K=Nl),Ht=Ht||[1,1],ue=ue||!1,isNaN(ft)||isNaN(Ot)||!Array.isArray(K)||!Array.isArray(Ht)||!gc($t)||typeof ue!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ig(ft,Ot),Re=Ht[0],$e=Ht[1],Qi=K.length,Es=ft,qo=Ot,Mi=0;Mi<Qi;Mi++)(Ji=K[Mi]).length===2?(Es=Ji[0]*Re+Es,qo=Ji[1]*$e+qo,ud(Es,qo)):(Nr=Ji[0]*Re+Es,lo=Ji[1]*$e+qo,po=Ji[2]*Re+Es,Po=Ji[3]*$e+qo,Es=Ji[4]*Re+Es,qo=Ji[5]*$e+qo,bc(Nr,lo,po,Po,Es,qo));return ue&&pb(),eg($t),this},f.path=function(K){for(var ft=0;ft<K.length;ft++){var Ot=K[ft],Ht=Ot.c;switch(Ot.op){case"m":ig(Ht[0],Ht[1]);break;case"l":ud(Ht[0],Ht[1]);break;case"c":bc.apply(this,Ht);break;case"h":pb()}}return this},f.__private__.rect=f.rect=function(K,ft,Ot,Ht,$t){if(isNaN(K)||isNaN(ft)||isNaN(Ot)||isNaN(Ht)||!gc($t))throw new Error("Invalid arguments passed to jsPDF.rect");return E===_.COMPAT&&(Ht=-Ht),at([F(R(K)),F(v(ft)),F(R(Ot)),F(R(Ht)),"re"].join(" ")),eg($t),this},f.__private__.triangle=f.triangle=function(K,ft,Ot,Ht,$t,ue,Re){if(isNaN(K)||isNaN(ft)||isNaN(Ot)||isNaN(Ht)||isNaN($t)||isNaN(ue)||!gc(Re))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ot-K,Ht-ft],[$t-Ot,ue-Ht],[K-$t,ft-ue]],K,ft,[1,1],Re,!0),this},f.__private__.roundedRect=f.roundedRect=function(K,ft,Ot,Ht,$t,ue,Re){if(isNaN(K)||isNaN(ft)||isNaN(Ot)||isNaN(Ht)||isNaN($t)||isNaN(ue)||!gc(Re))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var $e=4/3*(Math.SQRT2-1);return $t=Math.min($t,.5*Ot),ue=Math.min(ue,.5*Ht),this.lines([[Ot-2*$t,0],[$t*$e,0,$t,ue-ue*$e,$t,ue],[0,Ht-2*ue],[0,ue*$e,-$t*$e,ue,-$t,ue],[2*$t-Ot,0],[-$t*$e,0,-$t,-ue*$e,-$t,-ue],[0,2*ue-Ht],[0,-ue*$e,$t*$e,-ue,$t,-ue]],K+$t,ft,[1,1],Re,!0),this},f.__private__.ellipse=f.ellipse=function(K,ft,Ot,Ht,$t){if(isNaN(K)||isNaN(ft)||isNaN(Ot)||isNaN(Ht)||!gc($t))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ue=4/3*(Math.SQRT2-1)*Ot,Re=4/3*(Math.SQRT2-1)*Ht;return ig(K+Ot,ft),bc(K+Ot,ft-Re,K+ue,ft-Ht,K,ft-Ht),bc(K-ue,ft-Ht,K-Ot,ft-Re,K-Ot,ft),bc(K-Ot,ft+Re,K-ue,ft+Ht,K,ft+Ht),bc(K+ue,ft+Ht,K+Ot,ft+Re,K+Ot,ft),eg($t),this},f.__private__.circle=f.circle=function(K,ft,Ot,Ht){if(isNaN(K)||isNaN(ft)||isNaN(Ot)||!gc(Ht))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(K,ft,Ot,Ot,Ht)},f.setFont=function(K,ft,Ot){return Ot&&(ft=H(ft,Ot)),qt=ad(K,ft,{disableWarning:!1}),this};var w1=f.__private__.getFont=f.getFont=function(){return le[ad.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var K,ft,Ot={};for(K in fe)if(fe.hasOwnProperty(K))for(ft in Ot[K]=[],fe[K])fe[K].hasOwnProperty(ft)&&Ot[K].push(ft);return Ot},f.addFont=function(K,ft,Ot,Ht,$t){var ue=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ue.indexOf(arguments[3])!==-1?$t=arguments[3]:arguments[3]&&ue.indexOf(arguments[3])==-1&&(Ot=H(Ot,Ht)),$t=$t||"Identity-H",ns.call(this,K,ft,Ot,$t)};var lu,Wf=e.lineWidth||.200025,Yf=f.__private__.getLineWidth=f.getLineWidth=function(){return Wf},gb=f.__private__.setLineWidth=f.setLineWidth=function(K){return Wf=K,at(F(R(K))+" w"),this};f.__private__.setLineDash=qi.API.setLineDash=qi.API.setLineDashPattern=function(K,ft){if(K=K||[],ft=ft||0,isNaN(ft)||!Array.isArray(K))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return K=K.map(function(Ot){return F(R(Ot))}).join(" "),ft=F(R(ft)),at("["+K+"] "+ft+" d"),this};var bb=f.__private__.getLineHeight=f.getLineHeight=function(){return ct*lu};f.__private__.getLineHeight=f.getLineHeight=function(){return ct*lu};var vb=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(K){return typeof(K=K||1.15)=="number"&&(lu=K),this},rg=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return lu};vb(e.lineHeight);var qr=f.__private__.getHorizontalCoordinate=function(K){return R(K)},Pa=f.__private__.getVerticalCoordinate=function(K){return E===_.ADVANCED?K:ye[j].mediaBox.topRightY-ye[j].mediaBox.bottomLeftY-R(K)},Th=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(K){return F(qr(K))},cu=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(K){return F(Pa(K))},el=e.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return Pe(el)},f.__private__.setStrokeColor=f.setDrawColor=function(K,ft,Ot,Ht){return el=ar({ch1:K,ch2:ft,ch3:Ot,ch4:Ht,pdfColorType:"draw",precision:2}),at(el),this};var ng=e.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return Pe(ng)},f.__private__.setFillColor=f.setFillColor=function(K,ft,Ot,Ht){return ng=ar({ch1:K,ch2:ft,ch3:Ot,ch4:Ht,pdfColorType:"fill",precision:2}),at(ng),this};var Mh=e.textColor||"0 g",qf=f.__private__.getTextColor=f.getTextColor=function(){return Pe(Mh)};f.__private__.setTextColor=f.setTextColor=function(K,ft,Ot,Ht){return Mh=ar({ch1:K,ch2:ft,ch3:Ot,ch4:Ht,pdfColorType:"text",precision:3}),this};var Na=e.charSpace,og=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Na||0)};f.__private__.setCharSpace=f.setCharSpace=function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Na=K,this};var sg=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(K){var ft=f.CapJoinStyles[K];if(ft===void 0)throw new Error("Line cap style of '"+K+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return sg=ft,at(ft+" J"),this};var La=0;f.__private__.setLineJoin=f.setLineJoin=function(K){var ft=f.CapJoinStyles[K];if(ft===void 0)throw new Error("Line join style of '"+K+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return La=ft,at(ft+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(K){if(K=K||0,isNaN(K))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return at(F(R(K))+" M"),this},f.GState=zD,f.setGState=function(K){(K=typeof K=="string"?Ni[ei[K]]:yb(null,K)).equals(fi)||(at("/"+K.id+" gs"),fi=K)};var yb=function(K,ft){if(!K||!ei[K]){var Ot=!1;for(var Ht in Ni)if(Ni.hasOwnProperty(Ht)&&Ni[Ht].equals(ft)){Ot=!0;break}if(Ot)ft=Ni[Ht];else{var $t="GS"+(Object.keys(Ni).length+1).toString(10);Ni[$t]=ft,ft.id=$t}return K&&(ei[K]=ft.id),xe.publish("addGState",ft),ft}};f.addGState=function(K,ft){return yb(K,ft),this},f.saveGraphicsState=function(){return at("q"),Di.push({key:qt,size:ct,color:Mh}),this},f.restoreGraphicsState=function(){at("Q");var K=Di.pop();return qt=K.key,ct=K.size,Mh=K.color,fi=null,this},f.setCurrentTransformationMatrix=function(K){return at(K.toString()+" cm"),this},f.comment=function(K){return at("#"+K),this};var du=function(K,ft){var Ot=K||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ot},set:function(ue){isNaN(ue)||(Ot=parseFloat(ue))}});var Ht=ft||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ht},set:function(ue){isNaN(ue)||(Ht=parseFloat(ue))}});var $t="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return $t},set:function(ue){$t=ue.toString()}}),this},ag=function(K,ft,Ot,Ht){du.call(this,K,ft),this.type="rect";var $t=Ot||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return $t},set:function(Re){isNaN(Re)||($t=parseFloat(Re))}});var ue=Ht||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ue},set:function(Re){isNaN(Re)||(ue=parseFloat(Re))}}),this},lg=function(){this.page=be,this.currentPage=j,this.pages=J.slice(0),this.pagesContext=ye.slice(0),this.x=re,this.y=Qt,this.matrix=Fe,this.width=Ah(j),this.height=hu(j),this.outputDestination=Et,this.id="",this.objectNumber=-1};lg.prototype.restore=function(){be=this.page,j=this.currentPage,ye=this.pagesContext,J=this.pages,re=this.x,Qt=this.y,Fe=this.matrix,cg(j,this.width),Gf(j,this.height),Et=this.outputDestination};var _b=function(K,ft,Ot,Ht,$t){Jn.push(new lg),be=j=0,J=[],re=K,Qt=ft,Fe=$t,Ys([Ot,Ht])},$f=function(K){if(Te[K])Jn.pop().restore();else{var ft=new lg,Ot="Xo"+(Object.keys(Ye).length+1).toString(10);ft.id=Ot,Te[K]=Ot,Ye[Ot]=ft,xe.publish("addFormObject",ft),Jn.pop().restore()}};for(var uu in f.beginFormObject=function(K,ft,Ot,Ht,$t){return _b(K,ft,Ot,Ht,$t),this},f.endFormObject=function(K){return $f(K),this},f.doFormObject=function(K,ft){var Ot=Ye[Te[K]];return at("q"),at(ft.toString()+" cm"),at("/"+Ot.id+" Do"),at("Q"),this},f.getFormObject=function(K){var ft=Ye[Te[K]];return{x:ft.x,y:ft.y,width:ft.width,height:ft.height,matrix:ft.matrix}},f.save=function(K,ft){return K=K||"generated.pdf",(ft=ft||{}).returnPromise=ft.returnPromise||!1,ft.returnPromise===!1?(cb(hs(Ss()),K),typeof cb.unload=="function"&&Ki.setTimeout&&setTimeout(cb.unload,911),this):new Promise(function(Ot,Ht){try{var $t=cb(hs(Ss()),K);typeof cb.unload=="function"&&Ki.setTimeout&&setTimeout(cb.unload,911),Ot($t)}catch(ue){Ht(ue.message)}})},qi.API)qi.API.hasOwnProperty(uu)&&(uu==="events"&&qi.API.events.length?function(K,ft){var Ot,Ht,$t;for($t=ft.length-1;$t!==-1;$t--)Ot=ft[$t][0],Ht=ft[$t][1],K.subscribe.apply(K,[Ot].concat(typeof Ht=="function"?[Ht]:Ht))}(xe,qi.API.events):f[uu]=qi.API[uu]);var Ah=f.getPageWidth=function(K){return(ye[K=K||j].mediaBox.topRightX-ye[K].mediaBox.bottomLeftX)/Wt},cg=f.setPageWidth=function(K,ft){ye[K].mediaBox.topRightX=ft*Wt+ye[K].mediaBox.bottomLeftX},hu=f.getPageHeight=function(K){return(ye[K=K||j].mediaBox.topRightY-ye[K].mediaBox.bottomLeftY)/Wt},Gf=f.setPageHeight=function(K,ft){ye[K].mediaBox.topRightY=ft*Wt+ye[K].mediaBox.bottomLeftY};return f.internal={pdfEscape:ao,getStyle:mb,getFont:w1,getFontSize:bt,getCharSpace:og,getTextColor:qf,getLineHeight:bb,getLineHeightFactor:rg,getLineWidth:Yf,write:Ct,getHorizontalCoordinate:qr,getVerticalCoordinate:Pa,getCoordinateString:Th,getVerticalCoordinateString:cu,collections:{},newObject:se,newAdditionalObject:ke,newObjectDeferred:mi,newObjectDeferredBegin:Ee,getFilters:Wi,putStream:Ti,events:xe,scaleFactor:Wt,pageSize:{getWidth:function(){return Ah(j)},setWidth:function(K){cg(j,K)},getHeight:function(){return hu(j)},setHeight:function(K){Gf(j,K)}},encryptionOptions:d,encryption:Oo,getEncryptor:ou,output:cd,getNumberOfPages:Pl,pages:J,out:at,f2:W,f3:x,getPageInfo:dd,getPageInfoByObjId:$i,getCurrentPageInfo:su,getPDFVersion:g,Point:du,Rectangle:ag,Matrix:he,hasHotfix:pc},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return Ah(j)},set:function(K){cg(j,K)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return hu(j)},set:function(K){Gf(j,K)},enumerable:!0,configurable:!0}),Cs.call(f,it),qt="F1",Tr(n,r),xe.publish("initialized"),f}d1.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},d1.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},d1.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},d1.prototype.processOwnerPassword=function(e,t){return bH(gH(t).substr(0,5),e)},d1.prototype.encryptor=function(e,t){var r=gH(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(i){return bH(r,i)}},zD.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Bn(e)!==Bn(this))return!1;var i=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;i++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&i--;return i===0},qi.API={events:[]},qi.version="2.5.2";var Yo=qi.API,wH=1,hb=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},l1=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},mr=function(e){return e.toFixed(2)},Qp=function(e){return e.toFixed(5)};Yo.__acroform__={};var Ol=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},Iot=function(e){return e*wH},Sh=function(e){var t=new $ot,r=_i.internal.getHeight(e)||0,i=_i.internal.getWidth(e)||0;return t.BBox=[0,0,Number(mr(i)),Number(mr(r))],t},MPt=Yo.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},APt=Yo.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},IPt=Yo.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},es=Yo.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return IPt(e,t-1)},is=Yo.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return MPt(e,t-1)},rs=Yo.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return APt(e,t-1)},kPt=Yo.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,i=t.internal.getVerticalCoordinate,n=e[0],o=e[1],s=e[2],a=e[3],l={};return l.lowerLeft_X=r(n)||0,l.lowerLeft_Y=i(o+a)||0,l.upperRight_X=r(n+s)||0,l.upperRight_Y=i(o)||0,[Number(mr(l.lowerLeft_X)),Number(mr(l.lowerLeft_Y)),Number(mr(l.upperRight_X)),Number(mr(l.upperRight_Y))]},DPt=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,i=vH(e,r),n=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+n+" "+mr(i.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC");var o=Sh(e);return o.scope=e.scope,o.stream=t.join(`
`),o}},vH=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,i={text:"",fontSize:""},n=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");n=e.multiline?n.map(function(x){return x.split(`
`)}):n.map(function(x){return[x]});var o=r,s=_i.internal.getHeight(e)||0;s=s<0?-s:s;var a=_i.internal.getWidth(e)||0;a=a<0?-a:a;var l=function(x,R,B){if(x+1<n.length){var v=R+" "+n[x+1][0];return ND(v,e,B).width<=a-4}return!1};o++;t:for(;o>0;){t="",o--;var c,d,u=ND("3",e,o).height,h=e.multiline?s-o:(s-u)/2,f=h+=2,m=0,g=0,p=0;if(o<=0){t=`(...) Tj
`,t+="% Width of Text: "+ND(t,e,o=12).width+", FieldWidth:"+a+`
`;break}for(var b="",_=0,E=0;E<n.length;E++)if(n.hasOwnProperty(E)){var O=!1;if(n[E].length!==1&&p!==n[E].length-1){if((u+2)*(_+2)+2>s)continue t;b+=n[E][p],O=!0,g=E,E--}else{b=(b+=n[E][p]+" ").substr(b.length-1)==" "?b.substr(0,b.length-1):b;var V=parseInt(E),H=l(V,b,o),F=E>=n.length-1;if(H&&!F){b+=" ",p=0;continue}if(H||F){if(F)g=V;else if(e.multiline&&(u+2)*(_+2)+2>s)continue t}else{if(!e.multiline||(u+2)*(_+2)+2>s)continue t;g=V}}for(var L="",$=m;$<=g;$++){var W=n[$];if(e.multiline){if($===g){L+=W[p]+" ",p=(p+1)%W.length;continue}if($===m){L+=W[W.length-1]+" ";continue}}L+=W[0]+" "}switch(L=L.substr(L.length-1)==" "?L.substr(0,L.length-1):L,d=ND(L,e,o).width,e.textAlign){case"right":c=a-d-2;break;case"center":c=(a-d)/2;break;case"left":default:c=2}t+=mr(c)+" "+mr(f)+` Td
`,t+="("+hb(L)+`) Tj
`,t+=-mr(c)+` 0 Td
`,f=-(o+2),d=0,m=O?g:g+1,_++,b=""}break}return i.text=t,i.fontSize=o,i},ND=function(e,t,r){var i=t.scope.internal.getFont(t.fontName,t.fontStyle),n=t.scope.getStringUnitWidth(e,{font:i,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:n}},OPt={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},PPt=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(i){return i.type===r.type&&i.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},NPt=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var i=r,n=e[r];t.internal.newObjectDeferredBegin(n.objId,!0),Bn(n)==="object"&&typeof n.putStream=="function"&&n.putStream(),delete e[i]}},LPt=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(iu.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(OPt)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");wH=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new Got,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in i)if(i.hasOwnProperty(n)){var o=i[n];o.objId=void 0,o.hasAnnotation&&PPt(o,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(i,n){var o=!i;for(var s in i||(n.internal.newObjectDeferredBegin(n.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),n.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||n.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(s)){var a=i[s],l=[],c=a.Rect;if(a.Rect&&(a.Rect=kPt(a.Rect,n)),n.internal.newObjectDeferredBegin(a.objId,!0),a.DA=_i.createDefaultAppearanceStream(a),Bn(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var d=DPt(a);l.push({key:"AP",value:"<</N "+d+">>"}),n.internal.acroformPlugin.xForms.push(d)}if(a.appearanceStreamContent){var u="";for(var h in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(h)){var f=a.appearanceStreamContent[h];if(u+="/"+h+" ",u+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var s in f)if(f.hasOwnProperty(s)){var m=f[s];typeof m=="function"&&(m=m.call(n,a)),u+="/"+s+" "+m+" ",n.internal.acroformPlugin.xForms.indexOf(m)>=0||n.internal.acroformPlugin.xForms.push(m)}}else typeof(m=f)=="function"&&(m=m.call(n,a)),u+="/"+s+" "+m,n.internal.acroformPlugin.xForms.indexOf(m)>=0||n.internal.acroformPlugin.xForms.push(m);u+=">>"}l.push({key:"AP",value:`<<
`+u+">>"})}n.internal.putStream({additionalKeyValues:l,objectId:a.objId}),n.internal.out("endobj")}o&&NPt(n.internal.acroformPlugin.xForms,n)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},qot=Yo.__acroform__.arrayToPdfArray=function(e,t,r){var i=function(s){return s};if(Array.isArray(e)){for(var n="[",o=0;o<e.length;o++)switch(o!==0&&(n+=" "),Bn(e[o])){case"boolean":case"number":case"object":n+=e[o].toString();break;case"string":e[o].substr(0,1)!=="/"?(t!==void 0&&r&&(i=r.internal.getEncryptor(t)),n+="("+hb(i(e[o].toString()))+")"):n+=e[o].toString()}return n+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},hH=function(e,t,r){var i=function(n){return n};return t!==void 0&&r&&(i=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+hb(i(e))+")"},Eh=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Eh.prototype.toString=function(){return this.objId+" 0 R"},Eh.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Eh.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var i=t[r],n=this[i];n&&(Array.isArray(n)?e.push({key:i,value:qot(n,this.objId,this.scope)}):n instanceof Eh?(n.scope=this.scope,e.push({key:i,value:n.objId+" 0 R"})):typeof n!="function"&&e.push({key:i,value:n}))}return e};var $ot=function(){Eh.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Ol($ot,Eh);var Got=function(){Eh.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(i){return i};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+hb(r(e))+")"}},set:function(r){e=r}})};Ol(Got,Eh);var iu=function e(){Eh.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute F supplied.');t=b}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!es(t,3)},set:function(b){b?this.F=is(t,3):this.F=rs(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute Ff supplied.');r=b}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(b){i=b!==void 0?b:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(b){i[0]=b}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(b){i[1]=b}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(b){i[2]=b}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(b){i[3]=b}});var n="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return n},set:function(b){switch(b){case"/Btn":case"/Tx":case"/Ch":case"/Sig":n=b;break;default:throw new Error('Invalid value "'+b+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof UD)return;o="FieldObject"+e.FieldNum++}var b=function(_){return _};return this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),"("+hb(b(o))+")"},set:function(b){o=b.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(b){o=b}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(b){s=b}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(b){a=b}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(b){l=b}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/wH:c},set:function(b){c=b}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(b){d=b}});var u="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!u||this instanceof UD||this instanceof ub))return hH(u,this.objId,this.scope)},set:function(b){b=b.toString(),u=b}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Ws?h:hH(h,this.objId,this.scope)},set:function(b){b=b.toString(),h=this instanceof Ws?b:b.substr(0,1)==="("?l1(b.substr(1,b.length-2)):l1(b)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ws?l1(h.substr(1,h.length-1)):h},set:function(b){b=b.toString(),h=this instanceof Ws?"/"+b:b}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(b){this.V=b}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Ws?f:hH(f,this.objId,this.scope)},set:function(b){b=b.toString(),f=this instanceof Ws?b:b.substr(0,1)==="("?l1(b.substr(1,b.length-2)):l1(b)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ws?l1(f.substr(1,f.length-1)):f},set:function(b){b=b.toString(),f=this instanceof Ws?"/"+b:b}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var m,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(b){b=!!b,g=b}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(m)return m},set:function(b){m=b}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,1)},set:function(b){b?this.Ff=is(this.Ff,1):this.Ff=rs(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,2)},set:function(b){b?this.Ff=is(this.Ff,2):this.Ff=rs(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,3)},set:function(b){b?this.Ff=is(this.Ff,3):this.Ff=rs(this.Ff,3)}});var p=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(p!==null)return p},set:function(b){if([0,1,2].indexOf(b)===-1)throw new Error('Invalid value "'+b+'" for attribute Q supplied.');p=b}}),Object.defineProperty(this,"textAlign",{get:function(){var b;switch(p){case 0:default:b="left";break;case 1:b="center";break;case 2:b="right"}return b},configurable:!0,enumerable:!0,set:function(b){switch(b){case"right":case 2:p=2;break;case"center":case 1:p=1;break;case"left":case 0:default:p=0}}})};Ol(iu,Eh);var f1=function(){iu.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return qot(t,this.objId,this.scope)},set:function(r){var i,n;n=[],typeof(i=r)=="string"&&(n=function(o,s,a){a||(a=1);for(var l,c=[];l=s.exec(o);)c.push(l[a]);return c}(i,/\((.*?)\)/g)),t=n}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,i){for(i=i||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,18)},set:function(r){r?this.Ff=is(this.Ff,18):this.Ff=rs(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=is(this.Ff,19):this.Ff=rs(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,20)},set:function(r){r?(this.Ff=is(this.Ff,20),t.sort()):this.Ff=rs(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,22)},set:function(r){r?this.Ff=is(this.Ff,22):this.Ff=rs(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,23)},set:function(r){r?this.Ff=is(this.Ff,23):this.Ff=rs(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,27)},set:function(r){r?this.Ff=is(this.Ff,27):this.Ff=rs(this.Ff,27)}}),this.hasAppearanceStream=!1};Ol(f1,iu);var m1=function(){f1.call(this),this.fontName="helvetica",this.combo=!1};Ol(m1,f1);var p1=function(){m1.call(this),this.combo=!0};Ol(p1,m1);var HD=function(){p1.call(this),this.edit=!0};Ol(HD,p1);var Ws=function(){iu.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,15)},set:function(r){r?this.Ff=is(this.Ff,15):this.Ff=rs(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,16)},set:function(r){r?this.Ff=is(this.Ff,16):this.Ff=rs(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,17)},set:function(r){r?this.Ff=is(this.Ff,17):this.Ff=rs(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,26)},set:function(r){r?this.Ff=is(this.Ff,26):this.Ff=rs(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(o){return o};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var i,n=[];for(i in n.push("<<"),t)n.push("/"+i+" ("+hb(r(t[i]))+")");return n.push(">>"),n.join(`
`)}},set:function(r){Bn(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Ol(Ws,iu);var BD=function(){Ws.call(this),this.pushButton=!0};Ol(BD,Ws);var g1=function(){Ws.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Ol(g1,Ws);var UD=function(){var e,t;iu.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(n){t=n}});var r,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};this.scope&&(n=this.scope.internal.getEncryptor(this.objId));var o,s=[];for(o in s.push("<<"),i)s.push("/"+o+" ("+hb(n(i[o]))+")");return s.push(">>"),s.join(`
`)},set:function(n){Bn(n)==="object"&&(i=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(n){typeof n=="string"&&(i.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(n){r=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(n){r="/"+n}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=_i.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ol(UD,iu),g1.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},g1.prototype.createOption=function(e){var t=new UD;return t.Parent=this,t.optionName=e,this.Kids.push(t),FPt.call(this.scope,t),t};var jD=function(){Ws.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=_i.CheckBox.createAppearanceStream()};Ol(jD,Ws);var ub=function(){iu.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,13)},set:function(t){t?this.Ff=is(this.Ff,13):this.Ff=rs(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,21)},set:function(t){t?this.Ff=is(this.Ff,21):this.Ff=rs(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,23)},set:function(t){t?this.Ff=is(this.Ff,23):this.Ff=rs(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,24)},set:function(t){t?this.Ff=is(this.Ff,24):this.Ff=rs(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,25)},set:function(t){t?this.Ff=is(this.Ff,25):this.Ff=rs(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,26)},set:function(t){t?this.Ff=is(this.Ff,26):this.Ff=rs(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ol(ub,iu);var VD=function(){ub.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,14)},set:function(e){e?this.Ff=is(this.Ff,14):this.Ff=rs(this.Ff,14)}}),this.password=!0};Ol(VD,ub);var _i={CheckBox:{createAppearanceStream:function(){return{N:{On:_i.CheckBox.YesNormal},D:{On:_i.CheckBox.YesPushDown,Off:_i.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Sh(e);t.scope=e.scope;var r=[],i=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),o=vH(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+mr(_i.internal.getWidth(e))+" "+mr(_i.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+i+" "+mr(o.fontSize)+" Tf "+n),r.push("BT"),r.push(o.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Sh(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),n=[],o=_i.internal.getHeight(e),s=_i.internal.getWidth(e),a=vH(e,e.caption);return n.push("1 g"),n.push("0 0 "+mr(s)+" "+mr(o)+" re"),n.push("f"),n.push("q"),n.push("0 0 1 rg"),n.push("0 0 "+mr(s-1)+" "+mr(o-1)+" re"),n.push("W"),n.push("n"),n.push("0 g"),n.push("BT"),n.push("/"+r+" "+mr(a.fontSize)+" Tf "+i),n.push(a.text),n.push("ET"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Sh(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+mr(_i.internal.getWidth(e))+" "+mr(_i.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:_i.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=_i.RadioButton.Circle.YesNormal,t.D[e]=_i.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Sh(e);t.scope=e.scope;var r=[],i=_i.internal.getWidth(e)<=_i.internal.getHeight(e)?_i.internal.getWidth(e)/4:_i.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var n=_i.internal.Bezier_C,o=Number((i*n).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Qp(_i.internal.getWidth(e)/2)+" "+Qp(_i.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),r.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),r.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),r.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Sh(e);t.scope=e.scope;var r=[],i=_i.internal.getWidth(e)<=_i.internal.getHeight(e)?_i.internal.getWidth(e)/4:_i.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var n=Number((2*i).toFixed(5)),o=Number((n*_i.internal.Bezier_C).toFixed(5)),s=Number((i*_i.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Qp(_i.internal.getWidth(e)/2)+" "+Qp(_i.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Qp(_i.internal.getWidth(e)/2)+" "+Qp(_i.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Sh(e);t.scope=e.scope;var r=[],i=_i.internal.getWidth(e)<=_i.internal.getHeight(e)?_i.internal.getWidth(e)/4:_i.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var n=Number((2*i).toFixed(5)),o=Number((n*_i.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Qp(_i.internal.getWidth(e)/2)+" "+Qp(_i.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:_i.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=_i.RadioButton.Cross.YesNormal,t.D[e]=_i.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Sh(e);t.scope=e.scope;var r=[],i=_i.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+mr(_i.internal.getWidth(e)-2)+" "+mr(_i.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(mr(i.x1.x)+" "+mr(i.x1.y)+" m"),r.push(mr(i.x2.x)+" "+mr(i.x2.y)+" l"),r.push(mr(i.x4.x)+" "+mr(i.x4.y)+" m"),r.push(mr(i.x3.x)+" "+mr(i.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Sh(e);t.scope=e.scope;var r=_i.internal.calculateCross(e),i=[];return i.push("0.749023 g"),i.push("0 0 "+mr(_i.internal.getWidth(e))+" "+mr(_i.internal.getHeight(e))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+mr(_i.internal.getWidth(e)-2)+" "+mr(_i.internal.getHeight(e)-2)+" re"),i.push("W"),i.push("n"),i.push(mr(r.x1.x)+" "+mr(r.x1.y)+" m"),i.push(mr(r.x2.x)+" "+mr(r.x2.y)+" l"),i.push(mr(r.x4.x)+" "+mr(r.x4.y)+" m"),i.push(mr(r.x3.x)+" "+mr(r.x3.y)+" l"),i.push("s"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=Sh(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+mr(_i.internal.getWidth(e))+" "+mr(_i.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};_i.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=_i.internal.getWidth(e),r=_i.internal.getHeight(e),i=Math.min(t,r);return{x1:{x:(t-i)/2,y:(r-i)/2+i},x2:{x:(t-i)/2+i,y:(r-i)/2},x3:{x:(t-i)/2,y:(r-i)/2},x4:{x:(t-i)/2+i,y:(r-i)/2+i}}}},_i.internal.getWidth=function(e){var t=0;return Bn(e)==="object"&&(t=Iot(e.Rect[2])),t},_i.internal.getHeight=function(e){var t=0;return Bn(e)==="object"&&(t=Iot(e.Rect[3])),t};var FPt=Yo.addField=function(e){if(LPt(this,e),!(e instanceof iu))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Yo.AcroFormChoiceField=f1,Yo.AcroFormListBox=m1,Yo.AcroFormComboBox=p1,Yo.AcroFormEditBox=HD,Yo.AcroFormButton=Ws,Yo.AcroFormPushButton=BD,Yo.AcroFormRadioButton=g1,Yo.AcroFormCheckBox=jD,Yo.AcroFormTextField=ub,Yo.AcroFormPasswordField=VD,Yo.AcroFormAppearance=_i,Yo.AcroForm={ChoiceField:f1,ListBox:m1,ComboBox:p1,EditBox:HD,Button:Ws,PushButton:BD,RadioButton:g1,CheckBox:jD,TextField:ub,PasswordField:VD,Appearance:_i},qi.AcroForm={ChoiceField:f1,ListBox:m1,ComboBox:p1,EditBox:HD,Button:Ws,PushButton:BD,RadioButton:g1,CheckBox:jD,TextField:ub,PasswordField:VD,Appearance:_i};var aLe=qi.AcroForm;function Kot(e){return e.reduce(function(t,r,i){return t[r]=i,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(x,R){var B,v,y,C,w,S=t;if((R=R||t)==="RGBA"||x.data!==void 0&&x.data instanceof Uint8ClampedArray&&"height"in x&&"width"in x)return"RGBA";if(H(x))for(w in r)for(y=r[w],B=0;B<y.length;B+=1){for(C=!0,v=0;v<y[B].length;v+=1)if(y[B][v]!==void 0&&y[B][v]!==x[v]){C=!1;break}if(C===!0){S=w;break}}else for(w in r)for(y=r[w],B=0;B<y.length;B+=1){for(C=!0,v=0;v<y[B].length;v+=1)if(y[B][v]!==void 0&&y[B][v]!==x.charCodeAt(v)){C=!1;break}if(C===!0){S=w;break}}return S===t&&R!==t&&(S=R),S},n=function x(R){for(var B=this.internal.write,v=this.internal.putStream,y=(0,this.internal.getFilters)();y.indexOf("FlateEncode")!==-1;)y.splice(y.indexOf("FlateEncode"),1);R.objectId=this.internal.newObject();var C=[];if(C.push({key:"Type",value:"/XObject"}),C.push({key:"Subtype",value:"/Image"}),C.push({key:"Width",value:R.width}),C.push({key:"Height",value:R.height}),R.colorSpace===p.INDEXED?C.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(R.palette.length/3-1)+" "+("sMask"in R&&R.sMask!==void 0?R.objectId+2:R.objectId+1)+" 0 R]"}):(C.push({key:"ColorSpace",value:"/"+R.colorSpace}),R.colorSpace===p.DEVICE_CMYK&&C.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),C.push({key:"BitsPerComponent",value:R.bitsPerComponent}),"decodeParameters"in R&&R.decodeParameters!==void 0&&C.push({key:"DecodeParms",value:"<<"+R.decodeParameters+">>"}),"transparency"in R&&Array.isArray(R.transparency)){for(var w="",S=0,M=R.transparency.length;S<M;S++)w+=R.transparency[S]+" "+R.transparency[S]+" ";C.push({key:"Mask",value:"["+w+"]"})}R.sMask!==void 0&&C.push({key:"SMask",value:R.objectId+1+" 0 R"});var U=R.filter!==void 0?["/"+R.filter]:void 0;if(v({data:R.data,additionalKeyValues:C,alreadyAppliedFilters:U,objectId:R.objectId}),B("endobj"),"sMask"in R&&R.sMask!==void 0){var N="/Predictor "+R.predictor+" /Colors 1 /BitsPerComponent "+R.bitsPerComponent+" /Columns "+R.width,T={width:R.width,height:R.height,colorSpace:"DeviceGray",bitsPerComponent:R.bitsPerComponent,decodeParameters:N,data:R.sMask};"filter"in R&&(T.filter=R.filter),x.call(this,T)}if(R.colorSpace===p.INDEXED){var j=this.internal.newObject();v({data:L(new Uint8Array(R.palette)),objectId:j}),B("endobj")}},o=function(){var x=this.internal.collections.addImage_images;for(var R in x)n.call(this,x[R])},s=function(){var x,R=this.internal.collections.addImage_images,B=this.internal.write;for(var v in R)B("/I"+(x=R[v]).index,x.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",s))},l=function(){var x=this.internal.collections.addImage_images;return a.call(this),x},c=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(x){return typeof e["process"+x.toUpperCase()]=="function"},u=function(x){return Bn(x)==="object"&&x.nodeType===1},h=function(x,R){if(x.nodeName==="IMG"&&x.hasAttribute("src")){var B=""+x.getAttribute("src");if(B.indexOf("data:image/")===0)return dR(unescape(B).split("base64,").pop());var v=e.loadFile(B,!0);if(v!==void 0)return v}if(x.nodeName==="CANVAS"){if(x.width===0||x.height===0)throw new Error("Given canvas must have data. Canvas width: "+x.width+", height: "+x.height);var y;switch(R){case"PNG":y="image/png";break;case"WEBP":y="image/webp";break;case"JPEG":case"JPG":default:y="image/jpeg"}return dR(x.toDataURL(y,1).split("base64,").pop())}},f=function(x){var R=this.internal.collections.addImage_images;if(R){for(var B in R)if(x===R[B].alias)return R[B]}},m=function(x,R,B){return x||R||(x=-96,R=-96),x<0&&(x=-1*B.width*72/x/this.internal.scaleFactor),R<0&&(R=-1*B.height*72/R/this.internal.scaleFactor),x===0&&(x=R*B.width/B.height),R===0&&(R=x*B.height/B.width),[x,R]},g=function(x,R,B,v,y,C){var w=m.call(this,B,v,y),S=this.internal.getCoordinateString,M=this.internal.getVerticalCoordinateString,U=l.call(this);if(B=w[0],v=w[1],U[y.index]=y,C){C*=Math.PI/180;var N=Math.cos(C),T=Math.sin(C),j=function(q){return q.toFixed(4)},I=[j(N),j(T),j(-1*T),j(N),0,0,"cm"]}this.internal.write("q"),C?(this.internal.write([1,"0","0",1,S(x),M(R+v),"cm"].join(" ")),this.internal.write(I.join(" ")),this.internal.write([S(B),"0","0",S(v),"0","0","cm"].join(" "))):this.internal.write([S(B),"0","0",S(v),S(x),M(R+v),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+y.index+" Do"),this.internal.write("Q")},p=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var b=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},_=e.__addimage__.sHashCode=function(x){var R,B,v=0;if(typeof x=="string")for(B=x.length,R=0;R<B;R++)v=(v<<5)-v+x.charCodeAt(R),v|=0;else if(H(x))for(B=x.byteLength/2,R=0;R<B;R++)v=(v<<5)-v+x[R],v|=0;return v},E=e.__addimage__.validateStringAsBase64=function(x){(x=x||"").toString().trim();var R=!0;return x.length===0&&(R=!1),x.length%4!=0&&(R=!1),/^[A-Za-z0-9+/]+$/.test(x.substr(0,x.length-2))===!1&&(R=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(x.substr(-2))===!1&&(R=!1),R},O=e.__addimage__.extractImageFromDataUrl=function(x){var R=(x=x||"").split("base64,"),B=null;if(R.length===2){var v=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(R[0]);Array.isArray(v)&&(B={mimeType:v[1],charset:v[2],data:R[1]})}return B},V=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(x){return V()&&x instanceof ArrayBuffer};var H=e.__addimage__.isArrayBufferView=function(x){return V()&&typeof Uint32Array<"u"&&(x instanceof Int8Array||x instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&x instanceof Uint8ClampedArray||x instanceof Int16Array||x instanceof Uint16Array||x instanceof Int32Array||x instanceof Uint32Array||x instanceof Float32Array||x instanceof Float64Array)},F=e.__addimage__.binaryStringToUint8Array=function(x){for(var R=x.length,B=new Uint8Array(R),v=0;v<R;v++)B[v]=x.charCodeAt(v);return B},L=e.__addimage__.arrayBufferToBinaryString=function(x){for(var R="",B=H(x)?x:new Uint8Array(x),v=0;v<B.length;v+=8192)R+=String.fromCharCode.apply(null,B.subarray(v,v+8192));return R};e.addImage=function(){var x,R,B,v,y,C,w,S,M;if(typeof arguments[1]=="number"?(R=t,B=arguments[1],v=arguments[2],y=arguments[3],C=arguments[4],w=arguments[5],S=arguments[6],M=arguments[7]):(R=arguments[1],B=arguments[2],v=arguments[3],y=arguments[4],C=arguments[5],w=arguments[6],S=arguments[7],M=arguments[8]),Bn(x=arguments[0])==="object"&&!u(x)&&"imageData"in x){var U=x;x=U.imageData,R=U.format||R||t,B=U.x||B||0,v=U.y||v||0,y=U.w||U.width||y,C=U.h||U.height||C,w=U.alias||w,S=U.compression||S,M=U.rotation||U.angle||M}var N=this.internal.getFilters();if(S===void 0&&N.indexOf("FlateEncode")!==-1&&(S="SLOW"),isNaN(B)||isNaN(v))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var T=$.call(this,x,R,w,S);return g.call(this,B,v,y,C,T,M),this};var $=function(x,R,B,v){var y,C,w;if(typeof x=="string"&&i(x)===t){x=unescape(x);var S=W(x,!1);(S!==""||(S=e.loadFile(x,!0))!==void 0)&&(x=S)}if(u(x)&&(x=h(x,R)),R=i(x,R),!d(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(((w=B)==null||w.length===0)&&(B=function(M){return typeof M=="string"||H(M)?_(M):H(M.data)?_(M.data):null}(x)),(y=f.call(this,B))||(V()&&(x instanceof Uint8Array||R==="RGBA"||(C=x,x=F(x))),y=this["process"+R.toUpperCase()](x,c.call(this),B,function(M){return M&&typeof M=="string"&&(M=M.toUpperCase()),M in e.image_compression?M:b.NONE}(v),C)),!y)throw new Error("An unknown error occurred whilst processing the image.");return y},W=e.__addimage__.convertBase64ToBinaryString=function(x,R){var B;R=typeof R!="boolean"||R;var v,y="";if(typeof x=="string"){v=(B=O(x))!==null?B.data:x;try{y=dR(v)}catch(C){if(R)throw E(v)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+C.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return y};e.getImageProperties=function(x){var R,B,v="";if(u(x)&&(x=h(x)),typeof x=="string"&&i(x)===t&&((v=W(x,!1))===""&&(v=e.loadFile(x)||""),x=v),B=i(x),!d(B))throw new Error("addImage does not support files of type '"+B+"', please ensure that a plugin for '"+B+"' support is added.");if(!V()||x instanceof Uint8Array||(x=F(x)),!(R=this["process"+B.toUpperCase()](x)))throw new Error("An unknown error occurred whilst processing the image");return R.fileType=B,R}})(qi.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};qi.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var i,n,o,s=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,d=!1,u=0;u<c.length&&!d;u++)switch((i=c[u]).type){case"link":(t(i.options.url)||t(i.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var h=0;h<c.length;h++){i=c[h];var f=this.internal.pdfEscape,m=this.internal.getEncryptor(r.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),p=this.internal.newAdditionalObject(),b=this.internal.getEncryptor(g.objId),_=i.title||"Note";o="<</Type /Annot /Subtype /Text "+(n="/Rect ["+s(i.bounds.x)+" "+a(i.bounds.y+i.bounds.h)+" "+s(i.bounds.x+i.bounds.w)+" "+a(i.bounds.y)+"] ")+"/Contents ("+f(b(i.contents))+")",o+=" /Popup "+p.objId+" 0 R",o+=" /P "+l.objId+" 0 R",o+=" /T ("+f(b(_))+") >>",g.content=o;var E=g.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(n="/Rect ["+s(i.bounds.x+30)+" "+a(i.bounds.y+i.bounds.h)+" "+s(i.bounds.x+i.bounds.w+30)+" "+a(i.bounds.y)+"] ")+" /Parent "+E,i.open&&(o+=" /Open true"),o+=" >>",p.content=o,this.internal.write(g.objId,"0 R",p.objId,"0 R");break;case"freetext":n="/Rect ["+s(i.bounds.x)+" "+a(i.bounds.y)+" "+s(i.bounds.x+i.bounds.w)+" "+a(i.bounds.y+i.bounds.h)+"] ";var O=i.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+n+"/Contents ("+f(m(i.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+O+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(i.options.name){var V=this.annotations._nameMap[i.options.name];i.options.pageNumber=V.page,i.options.top=V.y}else i.options.top||(i.options.top=0);if(n="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",o="",i.options.url)o="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /A <</S /URI /URI ("+f(m(i.options.url))+") >>";else if(i.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,o+=" /FitV "+i.options.left+"]";break;case"XYZ":default:var H=a(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),o+=" /XYZ "+i.options.left+" "+H+" "+i.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var i=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":i.pageContext.annotations.push(r)}},e.link=function(r,i,n,o,s){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(r),y:c(i),w:l(r+n),h:c(i+o)},options:s,type:"link"})},e.textWithLink=function(r,i,n,o){var s,a,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){a=o.maxWidth;var d=this.splitTextToSize(r,a).length;s=Math.ceil(c*d)}else a=l,s=c;return this.text(r,i,n,o),n+=.2*c,o.align==="center"&&(i-=l/2),o.align==="right"&&(i-=l),this.link(i,n-c,a,s,o),l},e.getTextWidth=function(r){var i=this.internal.getFontSize();return this.getStringUnitWidth(r)*i/this.internal.scaleFactor}}(qi.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},n=[1570,1571,1573,1575];e.__arabicParser__={};var o=e.__arabicParser__.isInArabicSubstitutionA=function(g){return t[g.charCodeAt(0)]!==void 0},s=e.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},a=e.__arabicParser__.isArabicEndLetter=function(g){return s(g)&&o(g)&&t[g.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(g){return s(g)&&n.indexOf(g.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return s(g)&&o(g)&&t[g.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(g){return s(g)&&o(g)&&t[g.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(g){return s(g)&&o(g)&&t[g.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(g){return s(g)&&o(g)&&t[g.charCodeAt(0)].length==4},u=e.__arabicParser__.resolveLigatures=function(g){var p=0,b=r,_="",E=0;for(p=0;p<g.length;p+=1)b[g.charCodeAt(p)]!==void 0?(E++,typeof(b=b[g.charCodeAt(p)])=="number"&&(_+=String.fromCharCode(b),b=r,E=0),p===g.length-1&&(b=r,_+=g.charAt(p-(E-1)),p-=E-1,E=0)):(b=r,_+=g.charAt(p-E),p-=E,E=0);return _};e.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&i[g.charCodeAt(0)]!==void 0};var h=e.__arabicParser__.getCorrectForm=function(g,p,b){return s(g)?o(g)===!1?-1:!c(g)||!s(p)&&!s(b)||!s(b)&&a(p)||a(g)&&!s(p)||a(g)&&l(p)||a(g)&&a(p)?0:d(g)&&s(p)&&!a(p)&&s(b)&&c(b)?3:a(g)||!s(b)?1:2:-1},f=function(g){var p=0,b=0,_=0,E="",O="",V="",H=(g=g||"").split("\\s+"),F=[];for(p=0;p<H.length;p+=1){for(F.push(""),b=0;b<H[p].length;b+=1)E=H[p][b],O=H[p][b-1],V=H[p][b+1],s(E)?(_=h(E,O,V),F[p]+=_!==-1?String.fromCharCode(t[E.charCodeAt(0)][_]):E):F[p]+=E;F[p]=u(F[p])}return F.join(" ")},m=e.__arabicParser__.processArabic=e.processArabic=function(){var g,p=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,b=[];if(Array.isArray(p)){var _=0;for(b=[],_=0;_<p.length;_+=1)Array.isArray(p[_])?b.push([f(p[_][0]),p[_][1],p[_][2]]):b.push([f(p[_])]);g=b}else g=f(p);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};e.events.push(["preProcessText",m])}(qi.API),qi.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(a){r=a}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(a){n=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(a){o=a}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(a){s=a}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,i){var n;if((r=r||"2d")!=="2d")return null;for(n in i)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=i[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(qi.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),n.call(this))},n=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(g){l=g}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var u=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var m=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return m},set:function(g){m=g}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return i.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,c){i.call(this);var d=(c=c||{}).fontSize||this.getFontSize(),u=c.font||this.getFont(),h=c.scaleFactor||this.internal.scaleFactor,f=0,m=0,g=0,p=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var b=c.maxWidth;b>0?typeof l=="string"?l=this.splitTextToSize(l,b):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(E,O){return E.concat(p.splitTextToSize(O,b))},[])):l=Array.isArray(l)?l:[l];for(var _=0;_<l.length;_++)f<(g=this.getStringUnitWidth(l[_],{font:u})*d)&&(f=g);return f!==0&&(m=l.length),{w:f/=h,h:Math.max((m*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/h,0)}},e.cellAddPage=function(){i.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new o(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var l;l=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var c=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,u=this.internal.__cell__.margins||t,h=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+u.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=u.top,f&&h&&(this.printHeaderRow(l.lineNumber,!0),l.y+=h[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-d,l.y+d,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+d,{align:"center",baseline:"top",maxWidth:l.width-d-d}):this.text(l.text,l.x+d,l.y+d,{align:"left",baseline:"top",maxWidth:l.width-d-d})),this.internal.__cell__.lastCell=l,this};e.table=function(l,c,d,u,h){if(i.call(this),!d)throw new Error("No data for PDF table.");var f,m,g,p,b=[],_=[],E=[],O={},V={},H=[],F=[],L=(h=h||{}).autoSize||!1,$=h.printHeaders!==!1,W=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,x=h.margins||Object.assign({width:this.getPageWidth()},t),R=typeof h.padding=="number"?h.padding:3,B=h.headerBackgroundColor||"#c8c8c8",v=h.headerTextColor||"#000";if(n.call(this),this.internal.__cell__.printHeaders=$,this.internal.__cell__.margins=x,this.internal.__cell__.table_font_size=W,this.internal.__cell__.padding=R,this.internal.__cell__.headerBackgroundColor=B,this.internal.__cell__.headerTextColor=v,this.setFontSize(W),u==null)_=b=Object.keys(d[0]),E=b.map(function(){return"left"});else if(Array.isArray(u)&&Bn(u[0])==="object")for(b=u.map(function(U){return U.name}),_=u.map(function(U){return U.prompt||U.name||""}),E=u.map(function(U){return U.align||"left"}),f=0;f<u.length;f+=1)V[u[f].name]=u[f].width*(19.049976/25.4);else Array.isArray(u)&&typeof u[0]=="string"&&(_=b=u,E=b.map(function(){return"left"}));if(L||Array.isArray(u)&&typeof u[0]=="string")for(f=0;f<b.length;f+=1){for(O[p=b[f]]=d.map(function(U){return U[p]}),this.setFont(void 0,"bold"),H.push(this.getTextDimensions(_[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),m=O[p],this.setFont(void 0,"normal"),g=0;g<m.length;g+=1)H.push(this.getTextDimensions(m[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);V[p]=Math.max.apply(null,H)+R+R,H=[]}if($){var y={};for(f=0;f<b.length;f+=1)y[b[f]]={},y[b[f]].text=_[f],y[b[f]].align=E[f];var C=a.call(this,y,V);F=b.map(function(U){return new o(l,c,V[U],C,y[U].text,void 0,y[U].align)}),this.setTableHeaderRow(F),this.printHeaderRow(1,!1)}var w=u.reduce(function(U,N){return U[N.name]=N.align,U},{});for(f=0;f<d.length;f+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:f,data:d[f]},this);var S=a.call(this,d[f],V);for(g=0;g<b.length;g+=1){var M=d[f][b[g]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:f,col:g,data:M},this),s.call(this,new o(l,c,V[b[g]],S,M,f+2,w[b[g]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var d=this.internal.__cell__.padding,u=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(l).map(function(f){var m=l[f];return this.splitTextToSize(m.hasOwnProperty("text")?m.text:m,c[f]-d-d)},this).map(function(f){return this.getLineHeightFactor()*f.length*u/h+d+d},this).reduce(function(f,m){return Math.max(f,m)},0)};e.setTableHeaderRow=function(l){i.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,c){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var u=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(u[0],u[1],u[2],u[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){d=this.internal.__cell__.tableHeaderRow[f].clone(),c&&(d.y=this.internal.__cell__.margins.top||0,h.push(d)),d.lineNumber=l;var m=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,d),this.setTextColor(m)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),r=!1}}(qi.API);var Xot={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Zot=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],yH=Kot(Zot),Qot=[100,200,300,400,500,600,700,800,900],HPt=Kot(Qot);function _H(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(o){return Xot[o=o||"normal"]?o:"normal"}(e.style),i=function(o){if(!o)return 400;if(typeof o=="number")return o>=100&&o<=900&&o%100==0?o:400;if(/^\d00$/.test(o))return parseInt(o);switch(o){case"bold":return 700;case"normal":default:return 400}}(e.weight),n=function(o){return typeof yH[o=o||"normal"]=="number"?o:"normal"}(e.stretch);return{family:t,style:r,weight:i,stretch:n,src:e.src||[],ref:e.ref||{name:t,style:[n,r,i].join(" ")}}}function kot(e,t,r,i){var n;for(n=r;n>=0&&n<t.length;n+=i)if(e[t[n]])return e[t[n]];for(n=r;n>=0&&n<t.length;n-=i)if(e[t[n]])return e[t[n]]}var BPt={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Dot={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Oot(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function jPt(e,t,r){for(var i=(r=r||{}).defaultFontFamily||"times",n=Object.assign({},BPt,r.genericFontFamilies||{}),o=null,s=null,a=0;a<t.length;++a)if(n[(o=_H(t[a])).family]&&(o.family=n[o.family]),e.hasOwnProperty(o.family)){s=e[o.family];break}if(!(s=s||e[i]))throw new Error("Could not find a font-family for the rule '"+Oot(o)+"' and default family '"+i+"'.");if(s=function(l,c){if(c[l])return c[l];var d=yH[l],u=d<=yH.normal?-1:1,h=kot(c,Zot,d,u);if(!h)throw new Error("Could not find a matching font-stretch value for "+l);return h}(o.stretch,s),s=function(l,c){if(c[l])return c[l];for(var d=Xot[l],u=0;u<d.length;++u)if(c[d[u]])return c[d[u]];throw new Error("Could not find a matching font-style for "+l)}(o.style,s),!(s=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var d=HPt[l],u=kot(c,Qot,d,l<400?-1:1);if(!u)throw new Error("Could not find a matching font-weight for value "+l);return u}(o.weight,s)))throw new Error("Failed to resolve a font for the rule '"+Oot(o)+"'.");return s}function Pot(e){return e.trimLeft()}function VPt(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function zPt(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var LD,Not,Lot,fH=["times"];(function(e){var t,r,i,n,o,s,a,l,c,d=function(T){return T=T||{},this.isStrokeTransparent=T.isStrokeTransparent||!1,this.strokeOpacity=T.strokeOpacity||1,this.strokeStyle=T.strokeStyle||"#000000",this.fillStyle=T.fillStyle||"#000000",this.isFillTransparent=T.isFillTransparent||!1,this.fillOpacity=T.fillOpacity||1,this.font=T.font||"10px sans-serif",this.textBaseline=T.textBaseline||"alphabetic",this.textAlign=T.textAlign||"left",this.lineWidth=T.lineWidth||1,this.lineJoin=T.lineJoin||"miter",this.lineCap=T.lineCap||"butt",this.path=T.path||[],this.transform=T.transform!==void 0?T.transform.clone():new l,this.globalCompositeOperation=T.globalCompositeOperation||"normal",this.globalAlpha=T.globalAlpha||1,this.clip_path=T.clip_path||[],this.currentPoint=T.currentPoint||new s,this.miterLimit=T.miterLimit||10,this.lastPoint=T.lastPoint||new s,this.lineDashOffset=T.lineDashOffset||0,this.lineDash=T.lineDash||[],this.margin=T.margin||[0,0,0,0],this.prevPageLastElemOffset=T.prevPageLastElemOffset||0,this.ignoreClearRect=typeof T.ignoreClearRect!="boolean"||T.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new u(this),t=this.internal.f2,r=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,n=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,s=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new d}]);var u=function(T){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var j=T;Object.defineProperty(this,"pdf",{get:function(){return j}});var I=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return I},set:function(nt){I=!!nt}});var q=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return q},set:function(nt){q=!!nt}});var A=0;Object.defineProperty(this,"posX",{get:function(){return A},set:function(nt){isNaN(nt)||(A=nt)}});var k=0;Object.defineProperty(this,"posY",{get:function(){return k},set:function(nt){isNaN(nt)||(k=nt)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(nt){var at;typeof nt=="number"?at=[nt,nt,nt,nt]:((at=new Array(4))[0]=nt[0],at[1]=nt.length>=2?nt[1]:at[0],at[2]=nt.length>=3?nt[2]:at[0],at[3]=nt.length>=4?nt[3]:at[1]),c.margin=at}});var Y=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Y},set:function(nt){Y=nt}});var Z=0;Object.defineProperty(this,"lastBreak",{get:function(){return Z},set:function(nt){Z=nt}});var lt=[];Object.defineProperty(this,"pageBreaks",{get:function(){return lt},set:function(nt){lt=nt}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(nt){nt instanceof d&&(c=nt)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(nt){c.path=nt}});var J=[];Object.defineProperty(this,"ctxStack",{get:function(){return J},set:function(nt){J=nt}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(nt){var at;at=h(nt),this.ctx.fillStyle=at.style,this.ctx.isFillTransparent=at.a===0,this.ctx.fillOpacity=at.a,this.pdf.setFillColor(at.r,at.g,at.b,{a:at.a}),this.pdf.setTextColor(at.r,at.g,at.b,{a:at.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(nt){var at=h(nt);this.ctx.strokeStyle=at.style,this.ctx.isStrokeTransparent=at.a===0,this.ctx.strokeOpacity=at.a,at.a===0?this.pdf.setDrawColor(255,255,255):(at.a,this.pdf.setDrawColor(at.r,at.g,at.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(nt){["butt","round","square"].indexOf(nt)!==-1&&(this.ctx.lineCap=nt,this.pdf.setLineCap(nt))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(nt){isNaN(nt)||(this.ctx.lineWidth=nt,this.pdf.setLineWidth(nt))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(nt){["bevel","round","miter"].indexOf(nt)!==-1&&(this.ctx.lineJoin=nt,this.pdf.setLineJoin(nt))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(nt){isNaN(nt)||(this.ctx.miterLimit=nt,this.pdf.setMiterLimit(nt))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(nt){this.ctx.textBaseline=nt}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(nt){["right","end","center","left","start"].indexOf(nt)!==-1&&(this.ctx.textAlign=nt)}});var et=null;function Et(nt,at){if(et===null){var Ct=function(tt){var it=[];return Object.keys(tt).forEach(function(ct){tt[ct].forEach(function(mt){var bt=null;switch(mt){case"bold":bt={family:ct,weight:"bold"};break;case"italic":bt={family:ct,style:"italic"};break;case"bolditalic":bt={family:ct,weight:"bold",style:"italic"};break;case"":case"normal":bt={family:ct}}bt!==null&&(bt.ref={name:ct,style:mt},it.push(bt))})}),it}(nt.getFontList());et=function(tt){for(var it={},ct=0;ct<tt.length;++ct){var mt=_H(tt[ct]),bt=mt.family,St=mt.stretch,wt=mt.style,At=mt.weight;it[bt]=it[bt]||{},it[bt][St]=it[bt][St]||{},it[bt][St][wt]=it[bt][St][wt]||{},it[bt][St][wt][At]=mt}return it}(Ct.concat(at))}return et}var Rt=null;Object.defineProperty(this,"fontFaces",{get:function(){return Rt},set:function(nt){et=null,Rt=nt}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(nt){var at;if(this.ctx.font=nt,(at=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(nt))!==null){var Ct=at[1],tt=(at[2],at[3]),it=at[4],ct=(at[5],at[6]),mt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(it)[2];it=Math.floor(mt==="px"?parseFloat(it)*this.pdf.internal.scaleFactor:mt==="em"?parseFloat(it)*this.pdf.getFontSize():parseFloat(it)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(it);var bt=function(Ut){var qt,Wt,re=[],Qt=Ut.trim();if(Qt==="")return fH;if(Qt in Dot)return[Dot[Qt]];for(;Qt!=="";){switch(Wt=null,qt=(Qt=Pot(Qt)).charAt(0)){case'"':case"'":Wt=VPt(Qt.substring(1),qt);break;default:Wt=zPt(Qt)}if(Wt===null||(re.push(Wt[0]),(Qt=Pot(Wt[1]))!==""&&Qt.charAt(0)!==","))return fH;Qt=Qt.replace(/^,/,"")}return re}(ct);if(this.fontFaces){var St=jPt(Et(this.pdf,this.fontFaces),bt.map(function(Ut){return{family:Ut,stretch:"normal",weight:tt,style:Ct}}));this.pdf.setFont(St.ref.name,St.ref.style)}else{var wt="";(tt==="bold"||parseInt(tt,10)>=700||Ct==="bold")&&(wt="bold"),Ct==="italic"&&(wt+="italic"),wt.length===0&&(wt="normal");for(var At="",kt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Mt=0;Mt<bt.length;Mt++){if(this.pdf.internal.getFont(bt[Mt],wt,{noFallback:!0,disableWarning:!0})!==void 0){At=bt[Mt];break}if(wt==="bolditalic"&&this.pdf.internal.getFont(bt[Mt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)At=bt[Mt],wt="bold";else if(this.pdf.internal.getFont(bt[Mt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){At=bt[Mt],wt="normal";break}}if(At===""){for(var Nt=0;Nt<bt.length;Nt++)if(kt[bt[Nt]]){At=kt[bt[Nt]];break}}At=At===""?"Times":At,this.pdf.setFont(At,wt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(nt){this.ctx.globalCompositeOperation=nt}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(nt){this.ctx.globalAlpha=nt}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(nt){this.ctx.lineDashOffset=nt,N.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(nt){this.ctx.lineDash=nt,N.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(nt){this.ctx.ignoreClearRect=!!nt}})};u.prototype.setLineDash=function(T){this.lineDash=T},u.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},u.prototype.fill=function(){O.call(this,"fill",!1)},u.prototype.stroke=function(){O.call(this,"stroke",!1)},u.prototype.beginPath=function(){this.path=[{type:"begin"}]},u.prototype.moveTo=function(T,j){if(isNaN(T)||isNaN(j))throw Qn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var I=this.ctx.transform.applyToPoint(new s(T,j));this.path.push({type:"mt",x:I.x,y:I.y}),this.ctx.lastPoint=new s(T,j)},u.prototype.closePath=function(){var T=new s(0,0),j=0;for(j=this.path.length-1;j!==-1;j--)if(this.path[j].type==="begin"&&Bn(this.path[j+1])==="object"&&typeof this.path[j+1].x=="number"){T=new s(this.path[j+1].x,this.path[j+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(T.x,T.y)},u.prototype.lineTo=function(T,j){if(isNaN(T)||isNaN(j))throw Qn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var I=this.ctx.transform.applyToPoint(new s(T,j));this.path.push({type:"lt",x:I.x,y:I.y}),this.ctx.lastPoint=new s(I.x,I.y)},u.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),O.call(this,null,!0)},u.prototype.quadraticCurveTo=function(T,j,I,q){if(isNaN(I)||isNaN(q)||isNaN(T)||isNaN(j))throw Qn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var A=this.ctx.transform.applyToPoint(new s(I,q)),k=this.ctx.transform.applyToPoint(new s(T,j));this.path.push({type:"qct",x1:k.x,y1:k.y,x:A.x,y:A.y}),this.ctx.lastPoint=new s(A.x,A.y)},u.prototype.bezierCurveTo=function(T,j,I,q,A,k){if(isNaN(A)||isNaN(k)||isNaN(T)||isNaN(j)||isNaN(I)||isNaN(q))throw Qn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Y=this.ctx.transform.applyToPoint(new s(A,k)),Z=this.ctx.transform.applyToPoint(new s(T,j)),lt=this.ctx.transform.applyToPoint(new s(I,q));this.path.push({type:"bct",x1:Z.x,y1:Z.y,x2:lt.x,y2:lt.y,x:Y.x,y:Y.y}),this.ctx.lastPoint=new s(Y.x,Y.y)},u.prototype.arc=function(T,j,I,q,A,k){if(isNaN(T)||isNaN(j)||isNaN(I)||isNaN(q)||isNaN(A))throw Qn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(k=!!k,!this.ctx.transform.isIdentity){var Y=this.ctx.transform.applyToPoint(new s(T,j));T=Y.x,j=Y.y;var Z=this.ctx.transform.applyToPoint(new s(0,I)),lt=this.ctx.transform.applyToPoint(new s(0,0));I=Math.sqrt(Math.pow(Z.x-lt.x,2)+Math.pow(Z.y-lt.y,2))}Math.abs(A-q)>=2*Math.PI&&(q=0,A=2*Math.PI),this.path.push({type:"arc",x:T,y:j,radius:I,startAngle:q,endAngle:A,counterclockwise:k})},u.prototype.arcTo=function(T,j,I,q,A){throw new Error("arcTo not implemented.")},u.prototype.rect=function(T,j,I,q){if(isNaN(T)||isNaN(j)||isNaN(I)||isNaN(q))throw Qn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(T,j),this.lineTo(T+I,j),this.lineTo(T+I,j+q),this.lineTo(T,j+q),this.lineTo(T,j),this.lineTo(T+I,j),this.lineTo(T,j)},u.prototype.fillRect=function(T,j,I,q){if(isNaN(T)||isNaN(j)||isNaN(I)||isNaN(q))throw Qn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var A={};this.lineCap!=="butt"&&(A.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(A.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(T,j,I,q),this.fill(),A.hasOwnProperty("lineCap")&&(this.lineCap=A.lineCap),A.hasOwnProperty("lineJoin")&&(this.lineJoin=A.lineJoin)}},u.prototype.strokeRect=function(T,j,I,q){if(isNaN(T)||isNaN(j)||isNaN(I)||isNaN(q))throw Qn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");m.call(this)||(this.beginPath(),this.rect(T,j,I,q),this.stroke())},u.prototype.clearRect=function(T,j,I,q){if(isNaN(T)||isNaN(j)||isNaN(I)||isNaN(q))throw Qn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(T,j,I,q))},u.prototype.save=function(T){T=typeof T!="boolean"||T;for(var j=this.pdf.internal.getCurrentPageInfo().pageNumber,I=0;I<this.pdf.internal.getNumberOfPages();I++)this.pdf.setPage(I+1),this.pdf.internal.out("q");if(this.pdf.setPage(j),T){this.ctx.fontSize=this.pdf.internal.getFontSize();var q=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=q}},u.prototype.restore=function(T){T=typeof T!="boolean"||T;for(var j=this.pdf.internal.getCurrentPageInfo().pageNumber,I=0;I<this.pdf.internal.getNumberOfPages();I++)this.pdf.setPage(I+1),this.pdf.internal.out("Q");this.pdf.setPage(j),T&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},u.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(T){var j,I,q,A;if(T.isCanvasGradient===!0&&(T=T.getColor()),!T)return{r:0,g:0,b:0,a:0,style:T};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(T))j=0,I=0,q=0,A=0;else{var k=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(T);if(k!==null)j=parseInt(k[1]),I=parseInt(k[2]),q=parseInt(k[3]),A=1;else if((k=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(T))!==null)j=parseInt(k[1]),I=parseInt(k[2]),q=parseInt(k[3]),A=parseFloat(k[4]);else{if(A=1,typeof T=="string"&&T.charAt(0)!=="#"){var Y=new Uot(T);T=Y.ok?Y.toHex():"#000000"}T.length===4?(j=T.substring(1,2),j+=j,I=T.substring(2,3),I+=I,q=T.substring(3,4),q+=q):(j=T.substring(1,3),I=T.substring(3,5),q=T.substring(5,7)),j=parseInt(j,16),I=parseInt(I,16),q=parseInt(q,16)}}return{r:j,g:I,b:q,a:A,style:T}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},m=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};u.prototype.fillText=function(T,j,I,q){if(isNaN(j)||isNaN(I)||typeof T!="string")throw Qn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(q=isNaN(q)?void 0:q,!f.call(this)){var A=S(this.ctx.transform.rotation),k=this.ctx.transform.scaleX;R.call(this,{text:T,x:j,y:I,scale:k,angle:A,align:this.textAlign,maxWidth:q})}},u.prototype.strokeText=function(T,j,I,q){if(isNaN(j)||isNaN(I)||typeof T!="string")throw Qn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!m.call(this)){q=isNaN(q)?void 0:q;var A=S(this.ctx.transform.rotation),k=this.ctx.transform.scaleX;R.call(this,{text:T,x:j,y:I,scale:k,renderingMode:"stroke",angle:A,align:this.textAlign,maxWidth:q})}},u.prototype.measureText=function(T){if(typeof T!="string")throw Qn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var j=this.pdf,I=this.pdf.internal.scaleFactor,q=j.internal.getFontSize(),A=j.getStringUnitWidth(T)*q/j.internal.scaleFactor,k=function(Y){var Z=(Y=Y||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Z}}),this};return new k({width:A*=Math.round(96*I/72*1e4)/1e4})},u.prototype.scale=function(T,j){if(isNaN(T)||isNaN(j))throw Qn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var I=new l(T,0,0,j,0,0);this.ctx.transform=this.ctx.transform.multiply(I)},u.prototype.rotate=function(T){if(isNaN(T))throw Qn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var j=new l(Math.cos(T),Math.sin(T),-Math.sin(T),Math.cos(T),0,0);this.ctx.transform=this.ctx.transform.multiply(j)},u.prototype.translate=function(T,j){if(isNaN(T)||isNaN(j))throw Qn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var I=new l(1,0,0,1,T,j);this.ctx.transform=this.ctx.transform.multiply(I)},u.prototype.transform=function(T,j,I,q,A,k){if(isNaN(T)||isNaN(j)||isNaN(I)||isNaN(q)||isNaN(A)||isNaN(k))throw Qn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Y=new l(T,j,I,q,A,k);this.ctx.transform=this.ctx.transform.multiply(Y)},u.prototype.setTransform=function(T,j,I,q,A,k){T=isNaN(T)?1:T,j=isNaN(j)?0:j,I=isNaN(I)?0:I,q=isNaN(q)?1:q,A=isNaN(A)?0:A,k=isNaN(k)?0:k,this.ctx.transform=new l(T,j,I,q,A,k)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};u.prototype.drawImage=function(T,j,I,q,A,k,Y,Z,lt){var J=this.pdf.getImageProperties(T),et=1,Et=1,Rt=1,nt=1;q!==void 0&&Z!==void 0&&(Rt=Z/q,nt=lt/A,et=J.width/q*Z/q,Et=J.height/A*lt/A),k===void 0&&(k=j,Y=I,j=0,I=0),q!==void 0&&Z===void 0&&(Z=q,lt=A),q===void 0&&Z===void 0&&(Z=J.width,lt=J.height);for(var at,Ct=this.ctx.transform.decompose(),tt=S(Ct.rotate.shx),it=new l,ct=(it=(it=(it=it.multiply(Ct.translate)).multiply(Ct.skew)).multiply(Ct.scale)).applyToRectangle(new a(k-j*Rt,Y-I*nt,q*et,A*Et)),mt=p.call(this,ct),bt=[],St=0;St<mt.length;St+=1)bt.indexOf(mt[St])===-1&&bt.push(mt[St]);if(E(bt),this.autoPaging)for(var wt=bt[0],At=bt[bt.length-1],kt=wt;kt<At+1;kt++){this.pdf.setPage(kt);var Mt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Nt=kt===1?this.posY+this.margin[0]:this.margin[0],Ut=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],qt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Wt=kt===1?0:Ut+(kt-2)*qt;if(this.ctx.clip_path.length!==0){var re=this.path;at=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(at,this.posX+this.margin[3],-Wt+Nt+this.ctx.prevPageLastElemOffset),V.call(this,"fill",!0),this.path=re}var Qt=JSON.parse(JSON.stringify(ct));Qt=_([Qt],this.posX+this.margin[3],-Wt+Nt+this.ctx.prevPageLastElemOffset)[0];var Fe=(kt>wt||kt<At)&&g.call(this);Fe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Mt,qt,null).clip().discardPath()),this.pdf.addImage(T,"JPEG",Qt.x,Qt.y,Qt.w,Qt.h,null,null,tt),Fe&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(T,"JPEG",ct.x,ct.y,ct.w,ct.h,null,null,tt)};var p=function(T,j,I){var q=[];j=j||this.pdf.internal.pageSize.width,I=I||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var A=this.posY+this.ctx.prevPageLastElemOffset;switch(T.type){default:case"mt":case"lt":q.push(Math.floor((T.y+A)/I)+1);break;case"arc":q.push(Math.floor((T.y+A-T.radius)/I)+1),q.push(Math.floor((T.y+A+T.radius)/I)+1);break;case"qct":var k=M(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x,T.y);q.push(Math.floor((k.y+A)/I)+1),q.push(Math.floor((k.y+k.h+A)/I)+1);break;case"bct":var Y=U(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x2,T.y2,T.x,T.y);q.push(Math.floor((Y.y+A)/I)+1),q.push(Math.floor((Y.y+Y.h+A)/I)+1);break;case"rect":q.push(Math.floor((T.y+A)/I)+1),q.push(Math.floor((T.y+T.h+A)/I)+1)}for(var Z=0;Z<q.length;Z+=1)for(;this.pdf.internal.getNumberOfPages()<q[Z];)b.call(this);return q},b=function(){var T=this.fillStyle,j=this.strokeStyle,I=this.font,q=this.lineCap,A=this.lineWidth,k=this.lineJoin;this.pdf.addPage(),this.fillStyle=T,this.strokeStyle=j,this.font=I,this.lineCap=q,this.lineWidth=A,this.lineJoin=k},_=function(T,j,I){for(var q=0;q<T.length;q++)switch(T[q].type){case"bct":T[q].x2+=j,T[q].y2+=I;case"qct":T[q].x1+=j,T[q].y1+=I;case"mt":case"lt":case"arc":default:T[q].x+=j,T[q].y+=I}return T},E=function(T){return T.sort(function(j,I){return j-I})},O=function(T,j){for(var I,q,A=this.fillStyle,k=this.strokeStyle,Y=this.lineCap,Z=this.lineWidth,lt=Math.abs(Z*this.ctx.transform.scaleX),J=this.lineJoin,et=JSON.parse(JSON.stringify(this.path)),Et=JSON.parse(JSON.stringify(this.path)),Rt=[],nt=0;nt<Et.length;nt++)if(Et[nt].x!==void 0)for(var at=p.call(this,Et[nt]),Ct=0;Ct<at.length;Ct+=1)Rt.indexOf(at[Ct])===-1&&Rt.push(at[Ct]);for(var tt=0;tt<Rt.length;tt++)for(;this.pdf.internal.getNumberOfPages()<Rt[tt];)b.call(this);if(E(Rt),this.autoPaging)for(var it=Rt[0],ct=Rt[Rt.length-1],mt=it;mt<ct+1;mt++){this.pdf.setPage(mt),this.fillStyle=A,this.strokeStyle=k,this.lineCap=Y,this.lineWidth=lt,this.lineJoin=J;var bt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],St=mt===1?this.posY+this.margin[0]:this.margin[0],wt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],At=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],kt=mt===1?0:wt+(mt-2)*At;if(this.ctx.clip_path.length!==0){var Mt=this.path;I=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(I,this.posX+this.margin[3],-kt+St+this.ctx.prevPageLastElemOffset),V.call(this,T,!0),this.path=Mt}if(q=JSON.parse(JSON.stringify(et)),this.path=_(q,this.posX+this.margin[3],-kt+St+this.ctx.prevPageLastElemOffset),j===!1||mt===0){var Nt=(mt>it||mt<ct)&&g.call(this);Nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],bt,At,null).clip().discardPath()),V.call(this,T,j),Nt&&this.pdf.restoreGraphicsState()}this.lineWidth=Z}else this.lineWidth=lt,V.call(this,T,j),this.lineWidth=Z;this.path=et},V=function(T,j){if((T!=="stroke"||j||!m.call(this))&&(T==="stroke"||j||!f.call(this))){for(var I,q,A=[],k=this.path,Y=0;Y<k.length;Y++){var Z=k[Y];switch(Z.type){case"begin":A.push({begin:!0});break;case"close":A.push({close:!0});break;case"mt":A.push({start:Z,deltas:[],abs:[]});break;case"lt":var lt=A.length;if(k[Y-1]&&!isNaN(k[Y-1].x)&&(I=[Z.x-k[Y-1].x,Z.y-k[Y-1].y],lt>0)){for(;lt>=0;lt--)if(A[lt-1].close!==!0&&A[lt-1].begin!==!0){A[lt-1].deltas.push(I),A[lt-1].abs.push(Z);break}}break;case"bct":I=[Z.x1-k[Y-1].x,Z.y1-k[Y-1].y,Z.x2-k[Y-1].x,Z.y2-k[Y-1].y,Z.x-k[Y-1].x,Z.y-k[Y-1].y],A[A.length-1].deltas.push(I);break;case"qct":var J=k[Y-1].x+2/3*(Z.x1-k[Y-1].x),et=k[Y-1].y+2/3*(Z.y1-k[Y-1].y),Et=Z.x+2/3*(Z.x1-Z.x),Rt=Z.y+2/3*(Z.y1-Z.y),nt=Z.x,at=Z.y;I=[J-k[Y-1].x,et-k[Y-1].y,Et-k[Y-1].x,Rt-k[Y-1].y,nt-k[Y-1].x,at-k[Y-1].y],A[A.length-1].deltas.push(I);break;case"arc":A.push({deltas:[],abs:[],arc:!0}),Array.isArray(A[A.length-1].abs)&&A[A.length-1].abs.push(Z)}}q=j?null:T==="stroke"?"stroke":"fill";for(var Ct=!1,tt=0;tt<A.length;tt++)if(A[tt].arc)for(var it=A[tt].abs,ct=0;ct<it.length;ct++){var mt=it[ct];mt.type==="arc"?L.call(this,mt.x,mt.y,mt.radius,mt.startAngle,mt.endAngle,mt.counterclockwise,void 0,j,!Ct):B.call(this,mt.x,mt.y),Ct=!0}else if(A[tt].close===!0)this.pdf.internal.out("h"),Ct=!1;else if(A[tt].begin!==!0){var bt=A[tt].start.x,St=A[tt].start.y;v.call(this,A[tt].deltas,bt,St),Ct=!0}q&&$.call(this,q),j&&W.call(this)}},H=function(T){var j=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,I=j*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return T-I;case"top":return T+j-I;case"hanging":return T+j-2*I;case"middle":return T+j/2-I;case"ideographic":return T;case"alphabetic":default:return T}},F=function(T){return T+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};u.prototype.createLinearGradient=function(){var T=function(){};return T.colorStops=[],T.addColorStop=function(j,I){this.colorStops.push([j,I])},T.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},T.isCanvasGradient=!0,T},u.prototype.createPattern=function(){return this.createLinearGradient()},u.prototype.createRadialGradient=function(){return this.createLinearGradient()};var L=function(T,j,I,q,A,k,Y,Z,lt){for(var J=C.call(this,I,q,A,k),et=0;et<J.length;et++){var Et=J[et];et===0&&(lt?x.call(this,Et.x1+T,Et.y1+j):B.call(this,Et.x1+T,Et.y1+j)),y.call(this,T,j,Et.x2,Et.y2,Et.x3,Et.y3,Et.x4,Et.y4)}Z?W.call(this):$.call(this,Y)},$=function(T){switch(T){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},W=function(){this.pdf.clip(),this.pdf.discardPath()},x=function(T,j){this.pdf.internal.out(r(T)+" "+i(j)+" m")},R=function(T){var j;switch(T.align){case"right":case"end":j="right";break;case"center":j="center";break;case"left":case"start":default:j="left"}var I=this.pdf.getTextDimensions(T.text),q=H.call(this,T.y),A=F.call(this,q)-I.h,k=this.ctx.transform.applyToPoint(new s(T.x,q)),Y=this.ctx.transform.decompose(),Z=new l;Z=(Z=(Z=Z.multiply(Y.translate)).multiply(Y.skew)).multiply(Y.scale);for(var lt,J,et,Et=this.ctx.transform.applyToRectangle(new a(T.x,q,I.w,I.h)),Rt=Z.applyToRectangle(new a(T.x,A,I.w,I.h)),nt=p.call(this,Rt),at=[],Ct=0;Ct<nt.length;Ct+=1)at.indexOf(nt[Ct])===-1&&at.push(nt[Ct]);if(E(at),this.autoPaging)for(var tt=at[0],it=at[at.length-1],ct=tt;ct<it+1;ct++){this.pdf.setPage(ct);var mt=ct===1?this.posY+this.margin[0]:this.margin[0],bt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],St=this.pdf.internal.pageSize.height-this.margin[2],wt=St-this.margin[0],At=this.pdf.internal.pageSize.width-this.margin[1],kt=At-this.margin[3],Mt=ct===1?0:bt+(ct-2)*wt;if(this.ctx.clip_path.length!==0){var Nt=this.path;lt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(lt,this.posX+this.margin[3],-1*Mt+mt),V.call(this,"fill",!0),this.path=Nt}var Ut=_([JSON.parse(JSON.stringify(Rt))],this.posX+this.margin[3],-Mt+mt+this.ctx.prevPageLastElemOffset)[0];T.scale>=.01&&(J=this.pdf.internal.getFontSize(),this.pdf.setFontSize(J*T.scale),et=this.lineWidth,this.lineWidth=et*T.scale);var qt=this.autoPaging!=="text";if(qt||Ut.y+Ut.h<=St){if(qt||Ut.y>=mt&&Ut.x<=At){var Wt=qt?T.text:this.pdf.splitTextToSize(T.text,T.maxWidth||At-Ut.x)[0],re=_([JSON.parse(JSON.stringify(Et))],this.posX+this.margin[3],-Mt+mt+this.ctx.prevPageLastElemOffset)[0],Qt=qt&&(ct>tt||ct<it)&&g.call(this);Qt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],kt,wt,null).clip().discardPath()),this.pdf.text(Wt,re.x,re.y,{angle:T.angle,align:j,renderingMode:T.renderingMode}),Qt&&this.pdf.restoreGraphicsState()}}else Ut.y<St&&(this.ctx.prevPageLastElemOffset+=St-Ut.y);T.scale>=.01&&(this.pdf.setFontSize(J),this.lineWidth=et)}else T.scale>=.01&&(J=this.pdf.internal.getFontSize(),this.pdf.setFontSize(J*T.scale),et=this.lineWidth,this.lineWidth=et*T.scale),this.pdf.text(T.text,k.x+this.posX,k.y+this.posY,{angle:T.angle,align:j,renderingMode:T.renderingMode,maxWidth:T.maxWidth}),T.scale>=.01&&(this.pdf.setFontSize(J),this.lineWidth=et)},B=function(T,j,I,q){I=I||0,q=q||0,this.pdf.internal.out(r(T+I)+" "+i(j+q)+" l")},v=function(T,j,I){return this.pdf.lines(T,j,I,null,null)},y=function(T,j,I,q,A,k,Y,Z){this.pdf.internal.out([t(n(I+T)),t(o(q+j)),t(n(A+T)),t(o(k+j)),t(n(Y+T)),t(o(Z+j)),"c"].join(" "))},C=function(T,j,I,q){for(var A=2*Math.PI,k=Math.PI/2;j>I;)j-=A;var Y=Math.abs(I-j);Y<A&&q&&(Y=A-Y);for(var Z=[],lt=q?-1:1,J=j;Y>1e-5;){var et=J+lt*Math.min(Y,k);Z.push(w.call(this,T,J,et)),Y-=Math.abs(et-J),J=et}return Z},w=function(T,j,I){var q=(I-j)/2,A=T*Math.cos(q),k=T*Math.sin(q),Y=A,Z=-k,lt=Y*Y+Z*Z,J=lt+Y*A+Z*k,et=4/3*(Math.sqrt(2*lt*J)-J)/(Y*k-Z*A),Et=Y-et*Z,Rt=Z+et*Y,nt=Et,at=-Rt,Ct=q+j,tt=Math.cos(Ct),it=Math.sin(Ct);return{x1:T*Math.cos(j),y1:T*Math.sin(j),x2:Et*tt-Rt*it,y2:Et*it+Rt*tt,x3:nt*tt-at*it,y3:nt*it+at*tt,x4:T*Math.cos(I),y4:T*Math.sin(I)}},S=function(T){return 180*T/Math.PI},M=function(T,j,I,q,A,k){var Y=T+.5*(I-T),Z=j+.5*(q-j),lt=A+.5*(I-A),J=k+.5*(q-k),et=Math.min(T,A,Y,lt),Et=Math.max(T,A,Y,lt),Rt=Math.min(j,k,Z,J),nt=Math.max(j,k,Z,J);return new a(et,Rt,Et-et,nt-Rt)},U=function(T,j,I,q,A,k,Y,Z){var lt,J,et,Et,Rt,nt,at,Ct,tt,it,ct,mt,bt,St,wt=I-T,At=q-j,kt=A-I,Mt=k-q,Nt=Y-A,Ut=Z-k;for(J=0;J<41;J++)tt=(at=(et=T+(lt=J/40)*wt)+lt*((Rt=I+lt*kt)-et))+lt*(Rt+lt*(A+lt*Nt-Rt)-at),it=(Ct=(Et=j+lt*At)+lt*((nt=q+lt*Mt)-Et))+lt*(nt+lt*(k+lt*Ut-nt)-Ct),J==0?(ct=tt,mt=it,bt=tt,St=it):(ct=Math.min(ct,tt),mt=Math.min(mt,it),bt=Math.max(bt,tt),St=Math.max(St,it));return new a(Math.round(ct),Math.round(mt),Math.round(bt-ct),Math.round(St-mt))},N=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var T,j,I=(T=this.ctx.lineDash,j=this.ctx.lineDashOffset,JSON.stringify({lineDash:T,lineDashOffset:j}));this.prevLineDash!==I&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=I)}}})(qi.API),function(e){var t=function(o){var s,a,l,c,d,u,h,f,m,g;for(/[^\x00-\xFF]/.test(o),a=[],l=0,c=(o+=s="\0\0\0\0".slice(o.length%4||4)).length;c>l;l+=4)(d=(o.charCodeAt(l)<<24)+(o.charCodeAt(l+1)<<16)+(o.charCodeAt(l+2)<<8)+o.charCodeAt(l+3))!==0?(u=(d=((d=((d=((d=(d-(g=d%85))/85)-(m=d%85))/85)-(f=d%85))/85)-(h=d%85))/85)%85,a.push(u+33,h+33,f+33,m+33,g+33)):a.push(122);return function(p,b){for(var _=b;_>0;_--)p.pop()}(a,s.length),String.fromCharCode.apply(String,a)+"~>"},r=function(o){var s,a,l,c,d,u=String,h="length",f=255,m="charCodeAt",g="slice",p="replace";for(o[g](-2),o=o[g](0,-2)[p](/\s/g,"")[p]("z","!!!!!"),l=[],c=0,d=(o+=s="uuuuu"[g](o[h]%5||5))[h];d>c;c+=5)a=52200625*(o[m](c)-33)+614125*(o[m](c+1)-33)+7225*(o[m](c+2)-33)+85*(o[m](c+3)-33)+(o[m](c+4)-33),l.push(f&a>>24,f&a>>16,f&a>>8,f&a);return function(b,_){for(var E=_;E>0;E--)b.pop()}(l,s[h]),u.fromCharCode.apply(u,l)},i=function(o){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),s.test(o)===!1)return"";for(var a="",l=0;l<o.length;l+=2)a+=String.fromCharCode("0x"+(o[l]+o[l+1]));return a},n=function(o){for(var s=new Uint8Array(o.length),a=o.length;a--;)s[a]=o.charCodeAt(a);return o=(s=OD(s)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};e.processDataByFilters=function(o,s){var a=0,l=o||"",c=[];for(typeof(s=s||[])=="string"&&(s=[s]),a=0;a<s.length;a+=1)switch(s[a]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=i(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=n(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[a]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(qi.API),function(e){e.loadFile=function(t,r,i){return function(n,o,s){o=o!==!1,s=typeof s=="function"?s:function(){};var a=void 0;try{a=function(l,c,d){var u=new XMLHttpRequest,h=0,f=function(m){var g=m.length,p=[],b=String.fromCharCode;for(h=0;h<g;h+=1)p.push(b(255&m.charCodeAt(h)));return p.join("")};if(u.open("GET",l,!c),u.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(u.onload=function(){u.status===200?d(f(this.responseText)):d(void 0)}),u.send(null),c&&u.status===200)return f(u.responseText)}(n,o,s)}catch{}return a}(t,r,i)},e.loadImageFile=e.loadFile}(qi.API),function(e){function t(){return(Ki.html2canvas?Promise.resolve(Ki.html2canvas):import("./chunk-MKOK53X2.js")).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function r(){return(Ki.DOMPurify?Promise.resolve(Ki.DOMPurify):import("./chunk-ET42UA4L.js")).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var i=function(s){var a=Bn(s);return a==="undefined"?"undefined":a==="string"||s instanceof String?"string":a==="number"||s instanceof Number?"number":a==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":a==="object"?"object":"unknown"},n=function(s,a){var l=document.createElement(s);for(var c in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[c]=a.style[c];return l},o=function s(a){var l=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),c=s.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,s,1,[s])).set(a)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(s,a){return s.__proto__=a||o.prototype,s},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(s,a){return this.then(function(){switch(a=a||function(l){switch(i(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(r).then(function(l){return this.set({src:n("div",{innerHTML:s,dompurify:l})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},o.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(c,d){for(var u=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),h=c.firstChild;h;h=h.nextSibling)d!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||u.appendChild(l(h,d));return c.nodeType===1&&(c.nodeName==="CANVAS"?(u.width=c.width,u.height=c.height,u.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(u.value=c.value),u.addEventListener("load",function(){u.scrollTop=c.scrollTop,u.scrollLeft=c.scrollLeft},!0)),u}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=n("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=n("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(n("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(a){var l=this.opt.jsPDF,c=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,u=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete u.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var h=0;h<c.length;++h){var f=c[h],m=f.src.find(function(g){return g.format==="truetype"});m&&l.addFont(m.url,f.ref.name,f.ref.style)}return u.windowHeight=u.windowHeight||0,u.windowHeight=u.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):u.windowHeight,l.context2d.save(!0),a(this.prop.container,u)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(s,a,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(s,a):this.outputPdf(s,a)},o.prototype.outputPdf=function(s,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,a)})},o.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},o.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(s){if(i(s)!=="object")return this;var a=Object.keys(s||{}).map(function(l){if(l in o.template.prop)return function(){this.prop[l]=s[l]};switch(l){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[l]=s[l]}}},this);return this.then(function(){return this.thenList(a)})},o.prototype.get=function(s,a){return this.then(function(){var l=s in o.template.prop?this.prop[s]:this.opt[s];return a?a(l):l})},o.prototype.setMargin=function(s){return this.then(function(){switch(i(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},o.prototype.setPageSize=function(s){function a(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(s=s||qi.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:a(s.inner.width,s.k),height:a(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},o.prototype.setProgress=function(s,a,l,c){return s!=null&&(this.progress.val=s),a!=null&&(this.progress.state=a),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(s,a,l,c){return this.setProgress(s?this.progress.val+s:null,a||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},o.prototype.then=function(s,a){var l=this;return this.thenCore(s,a,function(c,d){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(u){return l.updateProgress(null,c),u}).then(c,d).then(function(u){return l.updateProgress(1),u})})},o.prototype.thenCore=function(s,a,l){l=l||Promise.prototype.then,s&&(s=s.bind(this)),a&&(a=a.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:o.convert(Object.assign({},this),Promise.prototype),d=l.call(c,s,a);return o.convert(d,this.__proto__)},o.prototype.thenExternal=function(s,a){return Promise.prototype.then.call(this,s,a)},o.prototype.thenList=function(s){var a=this;return s.forEach(function(l){a=a.thenCore(l)}),a},o.prototype.catch=function(s){s&&(s=s.bind(this));var a=Promise.prototype.catch.call(this,s);return o.convert(a,this)},o.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},o.prototype.error=function(s){return this.then(function(){throw new Error(s)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,qi.getPageSize=function(s,a,l){if(Bn(s)==="object"){var c=s;s=c.orientation,a=c.unit||a,l=c.format||l}a=a||"mm",l=l||"a4",s=(""+(s||"P")).toLowerCase();var d,u=(""+l).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+a}var f,m=0,g=0;if(h.hasOwnProperty(u))m=h[u][1]/d,g=h[u][0]/d;else try{m=l[1],g=l[0]}catch{throw new Error("Invalid format: "+l)}if(s==="p"||s==="portrait")s="p",g>m&&(f=g,g=m,m=f);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",m>g&&(f=g,g=m,m=f)}return{width:g,height:m,unit:a,k:d,orientation:s}},e.html=function(s,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(_H):null;var l=new o(a);return a.worker?l:l.from(s).doCallback()}}(qi.API),qi.API.addJS=function(e){return Lot=e,this.internal.events.subscribe("postPutResources",function(){LD=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(LD+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Not=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Lot+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){LD!==void 0&&Not!==void 0&&this.internal.out("/Names <</JavaScript "+LD+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var n=r.outline.render().split(/\r\n/),o=0;o<n.length;o++){var s=n[o],a=i.exec(s);if(a!=null){var l=a[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,d=[];for(o=0;o<c;o++){var u=r.internal.newObject();d.push(u);var h=r.internal.getPageInfo(o+1);r.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var f=r.internal.newObject();for(r.internal.write("<< /Names [ "),o=0;o<d.length;o++)r.internal.write("(page_"+(o+1)+")"+d[o]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+f+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(i,n,o){var s={title:n,options:o,children:[]};return i==null&&(i=this.root),i.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(i){i.id=r.internal.newObjectDeferred();for(var n=0;n<i.children.length;n++)this.genIds_r(i.children[n])},r.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},r.outline.renderItems=function(i){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<i.children.length;o++){var s=i.children[o];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(i)),o>0&&this.line("/Prev "+this.makeRef(i.children[o-1])),o<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[o+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var a=this.count=this.count_r({count:0},s);if(a>0&&this.line("/Count "+a),s.options&&s.options.pageNumber){var l=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var c=0;c<i.children.length;c++)this.renderItems(i.children[c])},r.outline.line=function(i){this.ctx.val+=i+`\r
`},r.outline.makeRef=function(i){return i.id+" 0 R"},r.outline.makeString=function(i){return"("+r.internal.pdfEscape(i)+")"},r.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(i,n){for(var o=0;o<n.children.length;o++)i.count++,this.count_r(i,n.children[o]);return i.count}}])}(qi.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,i,n,o,s,a){var l,c=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(l=function(u){for(var h,f=256*u.charCodeAt(4)+u.charCodeAt(5),m=u.length,g={width:0,height:0,numcomponents:1},p=4;p<m;p+=2){if(p+=f,t.indexOf(u.charCodeAt(p+1))!==-1){h=256*u.charCodeAt(p+5)+u.charCodeAt(p+6),g={width:256*u.charCodeAt(p+7)+u.charCodeAt(p+8),height:h,numcomponents:u.charCodeAt(p+9)};break}f=256*u.charCodeAt(p+2)+u.charCodeAt(p+3)}return g}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}d={data:r,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:i,alias:n}}return d}}(qi.API);var c1,FD,Fot,Hot,Bot,UPt=function(){var e,t,r;function i(o){var s,a,l,c,d,u,h,f,m,g,p,b,_,E;for(this.data=o,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},u=null;;){switch(s=this.readUInt32(),m=(function(){var O,V;for(V=[],O=0;O<4;++O)V.push(String.fromCharCode(this.data[this.pos++]));return V}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":u&&this.animation.frames.push(u),this.pos+=4,u={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),c=this.readUInt16()||100,u.delay=1e3*d/c,u.disposeOp=this.data[this.pos++],u.blendOp=this.data[this.pos++],u.data=[];break;case"IDAT":case"fdAT":for(m==="fdAT"&&(this.pos+=4,s-=4),o=u?.data||this.imgData,b=0;0<=s?b<s:b>s;0<=s?++b:--b)o.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((g=l-this.transparency.indexed.length)>0)for(_=0;0<=g?_<g:_>g;0<=g?++_:--_)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":h=(p=this.read(s)).indexOf(0),f=String.fromCharCode.apply(String,p.slice(0,h)),this.text[f]=String.fromCharCode.apply(String,p.slice(h+1));break;case"IEND":return u&&this.animation.frames.push(u),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(E=this.colorType)===4||E===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}i.prototype.read=function(o){var s,a;for(a=[],s=0;0<=o?s<o:s>o;0<=o?++s:--s)a.push(this.data[this.pos++]);return a},i.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.decodePixels=function(o){var s=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*s),l=0,c=this;if(o==null&&(o=this.imgData),o.length===0)return new Uint8Array(0);function d(u,h,f,m){var g,p,b,_,E,O,V,H,F,L,$,W,x,R,B,v,y,C,w,S,M,U=Math.ceil((c.width-u)/f),N=Math.ceil((c.height-h)/m),T=c.width==U&&c.height==N;for(R=s*U,W=T?a:new Uint8Array(R*N),O=o.length,x=0,p=0;x<N&&l<O;){switch(o[l++]){case 0:for(_=y=0;y<R;_=y+=1)W[p++]=o[l++];break;case 1:for(_=C=0;C<R;_=C+=1)g=o[l++],E=_<s?0:W[p-s],W[p++]=(g+E)%256;break;case 2:for(_=w=0;w<R;_=w+=1)g=o[l++],b=(_-_%s)/s,B=x&&W[(x-1)*R+b*s+_%s],W[p++]=(B+g)%256;break;case 3:for(_=S=0;S<R;_=S+=1)g=o[l++],b=(_-_%s)/s,E=_<s?0:W[p-s],B=x&&W[(x-1)*R+b*s+_%s],W[p++]=(g+Math.floor((E+B)/2))%256;break;case 4:for(_=M=0;M<R;_=M+=1)g=o[l++],b=(_-_%s)/s,E=_<s?0:W[p-s],x===0?B=v=0:(B=W[(x-1)*R+b*s+_%s],v=b&&W[(x-1)*R+(b-1)*s+_%s]),V=E+B-v,H=Math.abs(V-E),L=Math.abs(V-B),$=Math.abs(V-v),F=H<=L&&H<=$?E:L<=$?B:v,W[p++]=(g+F)%256;break;default:throw new Error("Invalid filter algorithm: "+o[l-1])}if(!T){var j=((h+x*m)*c.width+u)*s,I=x*R;for(_=0;_<U;_+=1){for(var q=0;q<s;q+=1)a[j++]=W[I++];j+=(f-1)*s}}x++}}return o=Eot(o),c.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),a},i.prototype.decodePalette=function(){var o,s,a,l,c,d,u,h,f;for(a=this.palette,d=this.transparency.indexed||[],c=new Uint8Array((d.length||0)+a.length),l=0,o=0,s=u=0,h=a.length;u<h;s=u+=3)c[l++]=a[s],c[l++]=a[s+1],c[l++]=a[s+2],c[l++]=(f=d[o++])!=null?f:255;return c},i.prototype.copyToImageData=function(o,s){var a,l,c,d,u,h,f,m,g,p,b;if(l=this.colors,g=null,a=this.hasAlphaChannel,this.palette.length&&(g=(b=this._decodedPalette)!=null?b:this._decodedPalette=this.decodePalette(),l=4,a=!0),m=(c=o.data||o).length,u=g||s,d=h=0,l===1)for(;d<m;)f=g?4*s[d/4]:h,p=u[f++],c[d++]=p,c[d++]=p,c[d++]=p,c[d++]=a?u[f++]:255,h=f;else for(;d<m;)f=g?4*s[d/4]:h,c[d++]=u[f++],c[d++]=u[f++],c[d++]=u[f++],c[d++]=a?u[f++]:255,h=f},i.prototype.decode=function(){var o;return o=new Uint8Array(this.width*this.height*4),this.copyToImageData(o,this.decodePixels()),o};var n=function(){if(Object.prototype.toString.call(Ki)==="[object Window]"){try{t=Ki.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return n(),e=function(o){var s;if(n()===!0)return r.width=o.width,r.height=o.height,r.clearRect(0,0,o.width,o.height),r.putImageData(o,0,0),(s=new Image).src=t.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},i.prototype.decodeFrames=function(o){var s,a,l,c,d,u,h,f;if(this.animation){for(f=[],a=d=0,u=(h=this.animation.frames).length;d<u;a=++d)s=h[a],l=o.createImageData(s.width,s.height),c=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(l,c),s.imageData=l,f.push(s.image=e(l));return f}},i.prototype.renderFrame=function(o,s){var a,l,c;return a=(l=this.animation.frames)[s],c=l[s-1],s===0&&o.clearRect(0,0,this.width,this.height),c?.disposeOp===1?o.clearRect(c.xOffset,c.yOffset,c.width,c.height):c?.disposeOp===2&&o.putImageData(c.imageData,c.xOffset,c.yOffset),a.blendOp===0&&o.clearRect(a.xOffset,a.yOffset,a.width,a.height),o.drawImage(a.image,a.xOffset,a.yOffset)},i.prototype.animate=function(o){var s,a,l,c,d,u,h=this;return a=0,u=this.animation,c=u.numFrames,l=u.frames,d=u.numPlays,(s=function(){var f,m;if(f=a++%c,m=l[f],h.renderFrame(o,f),c>1&&a/c<d)return h.animation._timeout=setTimeout(s,m.delay)})()},i.prototype.stopAnimation=function(){var o;return clearTimeout((o=this.animation)!=null?o._timeout:void 0)},i.prototype.render=function(o){var s,a;return o._png&&o._png.stopAnimation(),o._png=this,o.width=this.width,o.height=this.height,s=o.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(a=s.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),s.putImageData(a,0,0))},i}();function WPt(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,i=e[t++]|e[t++]<<8,n=e[t++],o=n>>7,s=1<<(7&n)+1;e[t++],e[t++];var a=null,l=null;o&&(a=t,l=s,t+=3*s);var c=!0,d=[],u=0,h=null,f=0,m=null;for(this.width=r,this.height=i;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,m=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((x=e[t++])>=0))throw Error("Invalid block size");if(x===0)break;t+=x}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var g=e[t++];u=e[t++]|e[t++]<<8,h=e[t++],!(1&g)&&(h=null),f=g>>2&7,t++;break;case 254:for(;;){if(!((x=e[t++])>=0))throw Error("Invalid block size");if(x===0)break;t+=x}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var p=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,_=e[t++]|e[t++]<<8,E=e[t++]|e[t++]<<8,O=e[t++],V=O>>6&1,H=1<<(7&O)+1,F=a,L=l,$=!1;O>>7&&($=!0,F=t,L=H,t+=3*H);var W=t;for(t++;;){var x;if(!((x=e[t++])>=0))throw Error("Invalid block size");if(x===0)break;t+=x}d.push({x:p,y:b,width:_,height:E,has_local_palette:$,palette_offset:F,palette_size:L,data_offset:W,data_length:t-W,transparent_index:h,interlaced:!!V,delay:u,disposal:f});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return m},this.frameInfo=function(R){if(R<0||R>=d.length)throw new Error("Frame index out of range.");return d[R]},this.decodeAndBlitFrameBGRA=function(R,B){var v=this.frameInfo(R),y=v.width*v.height,C=new Uint8Array(y);jot(e,v.data_offset,C,y);var w=v.palette_offset,S=v.transparent_index;S===null&&(S=256);var M=v.width,U=r-M,N=M,T=4*(v.y*r+v.x),j=4*((v.y+v.height)*r+v.x),I=T,q=4*U;v.interlaced===!0&&(q+=4*r*7);for(var A=8,k=0,Y=C.length;k<Y;++k){var Z=C[k];if(N===0&&(N=M,(I+=q)>=j&&(q=4*U+4*r*(A-1),I=T+(M+U)*(A<<1),A>>=1)),Z===S)I+=4;else{var lt=e[w+3*Z],J=e[w+3*Z+1],et=e[w+3*Z+2];B[I++]=et,B[I++]=J,B[I++]=lt,B[I++]=255}--N}},this.decodeAndBlitFrameRGBA=function(R,B){var v=this.frameInfo(R),y=v.width*v.height,C=new Uint8Array(y);jot(e,v.data_offset,C,y);var w=v.palette_offset,S=v.transparent_index;S===null&&(S=256);var M=v.width,U=r-M,N=M,T=4*(v.y*r+v.x),j=4*((v.y+v.height)*r+v.x),I=T,q=4*U;v.interlaced===!0&&(q+=4*r*7);for(var A=8,k=0,Y=C.length;k<Y;++k){var Z=C[k];if(N===0&&(N=M,(I+=q)>=j&&(q=4*U+4*r*(A-1),I=T+(M+U)*(A<<1),A>>=1)),Z===S)I+=4;else{var lt=e[w+3*Z],J=e[w+3*Z+1],et=e[w+3*Z+2];B[I++]=lt,B[I++]=J,B[I++]=et,B[I++]=255}--N}}}function jot(e,t,r,i){for(var n=e[t++],o=1<<n,s=o+1,a=s+1,l=n+1,c=(1<<l)-1,d=0,u=0,h=0,f=e[t++],m=new Int32Array(4096),g=null;;){for(;d<16&&f!==0;)u|=e[t++]<<d,d+=8,f===1?f=e[t++]:--f;if(d<l)break;var p=u&c;if(u>>=l,d-=l,p!==o){if(p===s)break;for(var b=p<a?p:g,_=0,E=b;E>o;)E=m[E]>>8,++_;var O=E;if(h+_+(b!==p?1:0)>i)return void Qn.log("Warning, gif stream longer than expected.");r[h++]=O;var V=h+=_;for(b!==p&&(r[h++]=O),E=b;_--;)E=m[E],r[--V]=255&E,E>>=8;g!==null&&a<4096&&(m[a++]=g<<8|O,a>=c+1&&l<12&&(++l,c=c<<1|1)),g=p}else a=s+1,c=(1<<(l=n+1))-1,g=null}return h!==i&&Qn.log("Warning, gif stream shorter than expected."),r}function mH(e){var t,r,i,n,o,s=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),d=new Array(64),u=new Array(65535),h=new Array(65535),f=new Array(64),m=new Array(64),g=[],p=0,b=7,_=new Array(64),E=new Array(64),O=new Array(64),V=new Array(256),H=new Array(2048),F=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],L=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],$=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],x=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],R=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],v=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],y=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function C(T,j){for(var I=0,q=0,A=new Array,k=1;k<=16;k++){for(var Y=1;Y<=T[k];Y++)A[j[q]]=[],A[j[q]][0]=I,A[j[q]][1]=k,q++,I++;I*=2}return A}function w(T){for(var j=T[0],I=T[1]-1;I>=0;)j&1<<I&&(p|=1<<b),I--,--b<0&&(p==255?(S(255),S(0)):S(p),b=7,p=0)}function S(T){g.push(T)}function M(T){S(T>>8&255),S(255&T)}function U(T,j,I,q,A){for(var k,Y=A[0],Z=A[240],lt=function(it,ct){var mt,bt,St,wt,At,kt,Mt,Nt,Ut,qt,Wt=0;for(Ut=0;Ut<8;++Ut){mt=it[Wt],bt=it[Wt+1],St=it[Wt+2],wt=it[Wt+3],At=it[Wt+4],kt=it[Wt+5],Mt=it[Wt+6];var re=mt+(Nt=it[Wt+7]),Qt=mt-Nt,Fe=bt+Mt,le=bt-Mt,fe=St+kt,Di=St-kt,Ae=wt+At,oi=wt-At,Ni=re+Ae,ei=re-Ae,fi=Fe+fe,be=Fe-fe;it[Wt]=Ni+fi,it[Wt+4]=Ni-fi;var ye=.707106781*(be+ei);it[Wt+2]=ei+ye,it[Wt+6]=ei-ye;var xe=.382683433*((Ni=oi+Di)-(be=le+Qt)),Yr=.5411961*Ni+xe,Ye=1.306562965*be+xe,Te=.707106781*(fi=Di+le),Jn=Qt+Te,he=Qt-Te;it[Wt+5]=he+Yr,it[Wt+3]=he-Yr,it[Wt+1]=Jn+Ye,it[Wt+7]=Jn-Ye,Wt+=8}for(Wt=0,Ut=0;Ut<8;++Ut){mt=it[Wt],bt=it[Wt+8],St=it[Wt+16],wt=it[Wt+24],At=it[Wt+32],kt=it[Wt+40],Mt=it[Wt+48];var Lt=mt+(Nt=it[Wt+56]),Jt=mt-Nt,ie=bt+Mt,se=bt-Mt,mi=St+kt,Ee=St-kt,ke=wt+At,Ui=wt-At,qe=Lt+ke,Pe=Lt-ke,ar=ie+mi,Wi=ie-mi;it[Wt]=qe+ar,it[Wt+32]=qe-ar;var Ti=.707106781*(Wi+Pe);it[Wt+16]=Pe+Ti,it[Wt+48]=Pe-Ti;var yr=.382683433*((qe=Ui+Ee)-(Wi=se+Jt)),rn=.5411961*qe+yr,nn=1.306562965*Wi+yr,Yn=.707106781*(ar=Ee+se),Tn=Jt+Yn,mo=Jt-Yn;it[Wt+40]=mo+rn,it[Wt+24]=mo-rn,it[Wt+8]=Tn+nn,it[Wt+56]=Tn-nn,Wt++}for(Ut=0;Ut<64;++Ut)qt=it[Ut]*ct[Ut],f[Ut]=qt>0?qt+.5|0:qt-.5|0;return f}(T,j),J=0;J<64;++J)m[F[J]]=lt[J];var et=m[0]-I;I=m[0],et==0?w(q[0]):(w(q[h[k=32767+et]]),w(u[k]));for(var Et=63;Et>0&&m[Et]==0;)Et--;if(Et==0)return w(Y),I;for(var Rt,nt=1;nt<=Et;){for(var at=nt;m[nt]==0&&nt<=Et;)++nt;var Ct=nt-at;if(Ct>=16){Rt=Ct>>4;for(var tt=1;tt<=Rt;++tt)w(Z);Ct&=15}k=32767+m[nt],w(A[(Ct<<4)+h[k]]),w(u[k]),nt++}return Et!=63&&w(Y),I}function N(T){T=Math.min(Math.max(T,1),100),o!=T&&(function(j){for(var I=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],q=0;q<64;q++){var A=s((I[q]*j+50)/100);A=Math.min(Math.max(A,1),255),a[F[q]]=A}for(var k=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Y=0;Y<64;Y++){var Z=s((k[Y]*j+50)/100);Z=Math.min(Math.max(Z,1),255),l[F[Y]]=Z}for(var lt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],J=0,et=0;et<8;et++)for(var Et=0;Et<8;Et++)c[J]=1/(a[F[J]]*lt[et]*lt[Et]*8),d[J]=1/(l[F[J]]*lt[et]*lt[Et]*8),J++}(T<50?Math.floor(5e3/T):Math.floor(200-2*T)),o=T)}this.encode=function(T,j){j&&N(j),g=new Array,p=0,b=7,M(65496),M(65504),M(16),S(74),S(70),S(73),S(70),S(0),S(1),S(1),S(0),M(1),M(1),S(0),S(0),function(){M(65499),M(132),S(0);for(var bt=0;bt<64;bt++)S(a[bt]);S(1);for(var St=0;St<64;St++)S(l[St])}(),function(bt,St){M(65472),M(17),S(8),M(St),M(bt),S(3),S(1),S(17),S(0),S(2),S(17),S(1),S(3),S(17),S(1)}(T.width,T.height),function(){M(65476),M(418),S(0);for(var bt=0;bt<16;bt++)S(L[bt+1]);for(var St=0;St<=11;St++)S($[St]);S(16);for(var wt=0;wt<16;wt++)S(W[wt+1]);for(var At=0;At<=161;At++)S(x[At]);S(1);for(var kt=0;kt<16;kt++)S(R[kt+1]);for(var Mt=0;Mt<=11;Mt++)S(B[Mt]);S(17);for(var Nt=0;Nt<16;Nt++)S(v[Nt+1]);for(var Ut=0;Ut<=161;Ut++)S(y[Ut])}(),M(65498),M(12),S(3),S(1),S(0),S(2),S(17),S(3),S(17),S(0),S(63),S(0);var I=0,q=0,A=0;p=0,b=7,this.encode.displayName="_encode_";for(var k,Y,Z,lt,J,et,Et,Rt,nt,at=T.data,Ct=T.width,tt=T.height,it=4*Ct,ct=0;ct<tt;){for(k=0;k<it;){for(J=it*ct+k,Et=-1,Rt=0,nt=0;nt<64;nt++)et=J+(Rt=nt>>3)*it+(Et=4*(7&nt)),ct+Rt>=tt&&(et-=it*(ct+1+Rt-tt)),k+Et>=it&&(et-=k+Et-it+4),Y=at[et++],Z=at[et++],lt=at[et++],_[nt]=(H[Y]+H[Z+256>>0]+H[lt+512>>0]>>16)-128,E[nt]=(H[Y+768>>0]+H[Z+1024>>0]+H[lt+1280>>0]>>16)-128,O[nt]=(H[Y+1280>>0]+H[Z+1536>>0]+H[lt+1792>>0]>>16)-128;I=U(_,c,I,t,i),q=U(E,d,q,r,n),A=U(O,d,A,r,n),k+=32}ct+=8}if(b>=0){var mt=[];mt[1]=b+1,mt[0]=(1<<b+1)-1,w(mt)}return M(65497),new Uint8Array(g)},e=e||50,function(){for(var T=String.fromCharCode,j=0;j<256;j++)V[j]=T(j)}(),t=C(L,$),r=C(R,B),i=C(W,x),n=C(v,y),function(){for(var T=1,j=2,I=1;I<=15;I++){for(var q=T;q<j;q++)h[32767+q]=I,u[32767+q]=[],u[32767+q][1]=I,u[32767+q][0]=q;for(var A=-(j-1);A<=-T;A++)h[32767+A]=I,u[32767+A]=[],u[32767+A][1]=I,u[32767+A][0]=j-1+A;T<<=1,j<<=1}}(),function(){for(var T=0;T<256;T++)H[T]=19595*T,H[T+256>>0]=38470*T,H[T+512>>0]=7471*T+32768,H[T+768>>0]=-11059*T,H[T+1024>>0]=-21709*T,H[T+1280>>0]=32768*T+8421375,H[T+1536>>0]=-27439*T,H[T+1792>>0]=-5329*T}(),N(e)}function eu(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Vot(e){function t(L){if(!L)throw Error("assert :P")}function r(L,$,W){for(var x=0;4>x;x++)if(L[$+x]!=W.charCodeAt(x))return!0;return!1}function i(L,$,W,x,R){for(var B=0;B<R;B++)L[$+B]=W[x+B]}function n(L,$,W,x){for(var R=0;R<x;R++)L[$+R]=W}function o(L){return new Int32Array(L)}function s(L,$){for(var W=[],x=0;x<L;x++)W.push(new $);return W}function a(L,$){var W=[];return function x(R,B,v){for(var y=v[B],C=0;C<y&&(R.push(v.length>B+1?[]:new $),!(v.length<B+1));C++)x(R[C],B+1,v)}(W,0,L),W}var l=function(){var L=this;function $(D,z){for(var X=1<<z-1>>>0;D&X;)X>>>=1;return X?(D&X-1)+X:D}function W(D,z,X,rt,ht){t(!(rt%X));do D[z+(rt-=X)]=ht;while(0<rt)}function x(D,z,X,rt,ht){if(t(2328>=ht),512>=ht)var pt=o(512);else if((pt=o(ht))==null)return 0;return function(vt,_t,xt,It,Bt,Xt){var Zt,Yt,me=_t,ce=1<<xt,jt=o(16),zt=o(16);for(t(Bt!=0),t(It!=null),t(vt!=null),t(0<xt),Yt=0;Yt<Bt;++Yt){if(15<It[Yt])return 0;++jt[It[Yt]]}if(jt[0]==Bt)return 0;for(zt[1]=0,Zt=1;15>Zt;++Zt){if(jt[Zt]>1<<Zt)return 0;zt[Zt+1]=zt[Zt]+jt[Zt]}for(Yt=0;Yt<Bt;++Yt)Zt=It[Yt],0<It[Yt]&&(Xt[zt[Zt]++]=Yt);if(zt[15]==1)return(It=new R).g=0,It.value=Xt[0],W(vt,me,1,ce,It),ce;var ge,Ce=-1,ve=ce-1,ii=0,Ve=1,Fi=1,Be=1<<xt;for(Yt=0,Zt=1,Bt=2;Zt<=xt;++Zt,Bt<<=1){if(Ve+=Fi<<=1,0>(Fi-=jt[Zt]))return 0;for(;0<jt[Zt];--jt[Zt])(It=new R).g=Zt,It.value=Xt[Yt++],W(vt,me+ii,Bt,Be,It),ii=$(ii,Zt)}for(Zt=xt+1,Bt=2;15>=Zt;++Zt,Bt<<=1){if(Ve+=Fi<<=1,0>(Fi-=jt[Zt]))return 0;for(;0<jt[Zt];--jt[Zt]){if(It=new R,(ii&ve)!=Ce){for(me+=Be,ge=1<<(Ce=Zt)-xt;15>Ce&&!(0>=(ge-=jt[Ce]));)++Ce,ge<<=1;ce+=Be=1<<(ge=Ce-xt),vt[_t+(Ce=ii&ve)].g=ge+xt,vt[_t+Ce].value=me-_t-Ce}It.g=Zt-xt,It.value=Xt[Yt++],W(vt,me+(ii>>xt),Bt,Be,It),ii=$(ii,Zt)}}return Ve!=2*zt[15]-1?0:ce}(D,z,X,rt,ht,pt)}function R(){this.value=this.g=0}function B(){this.value=this.g=0}function v(){this.G=s(5,R),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(fs,B)}function y(D,z,X,rt){t(D!=null),t(z!=null),t(2147483648>rt),D.Ca=254,D.I=0,D.b=-8,D.Ka=0,D.oa=z,D.pa=X,D.Jd=z,D.Yc=X+rt,D.Zc=4<=rt?X+rt-4+1:X,k(D)}function C(D,z){for(var X=0;0<z--;)X|=Z(D,128)<<z;return X}function w(D,z){var X=C(D,z);return Y(D)?-X:X}function S(D,z,X,rt){var ht,pt=0;for(t(D!=null),t(z!=null),t(4294967288>rt),D.Sb=rt,D.Ra=0,D.u=0,D.h=0,4<rt&&(rt=4),ht=0;ht<rt;++ht)pt+=z[X+ht]<<8*ht;D.Ra=pt,D.bb=rt,D.oa=z,D.pa=X}function M(D){for(;8<=D.u&&D.bb<D.Sb;)D.Ra>>>=8,D.Ra+=D.oa[D.pa+D.bb]<<hd-8>>>0,++D.bb,D.u-=8;I(D)&&(D.h=1,D.u=0)}function U(D,z){if(t(0<=z),!D.h&&z<=Qf){var X=j(D)&Zf[z];return D.u+=z,M(D),X}return D.h=1,D.u=0}function N(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function T(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function j(D){return D.Ra>>>(D.u&hd-1)>>>0}function I(D){return t(D.bb<=D.Sb),D.h||D.bb==D.Sb&&D.u>hd}function q(D,z){D.u=z,D.h=I(D)}function A(D){D.u>=fu&&(t(D.u>=fu),M(D))}function k(D){t(D!=null&&D.oa!=null),D.pa<D.Zc?(D.I=(D.oa[D.pa++]|D.I<<8)>>>0,D.b+=8):(t(D!=null&&D.oa!=null),D.pa<D.Yc?(D.b+=8,D.I=D.oa[D.pa++]|D.I<<8):D.Ka?D.b=0:(D.I<<=8,D.b+=8,D.Ka=1))}function Y(D){return C(D,1)}function Z(D,z){var X=D.Ca;0>D.b&&k(D);var rt=D.b,ht=X*z>>>8,pt=(D.I>>>rt>ht)+0;for(pt?(X-=ht,D.I-=ht+1<<rt>>>0):X=ht+1,rt=X,ht=0;256<=rt;)ht+=8,rt>>=8;return rt=7^ht+Rs[rt],D.b-=rt,D.Ca=(X<<rt)-1,pt}function lt(D,z,X){D[z+0]=X>>24&255,D[z+1]=X>>16&255,D[z+2]=X>>8&255,D[z+3]=X>>0&255}function J(D,z){return D[z+0]<<0|D[z+1]<<8}function et(D,z){return J(D,z)|D[z+2]<<16}function Et(D,z){return J(D,z)|J(D,z+2)<<16}function Rt(D,z){var X=1<<z;return t(D!=null),t(0<z),D.X=o(X),D.X==null?0:(D.Mb=32-z,D.Xa=z,1)}function nt(D,z){t(D!=null),t(z!=null),t(D.Xa==z.Xa),i(z.X,0,D.X,0,1<<z.Xa)}function at(){this.X=[],this.Xa=this.Mb=0}function Ct(D,z,X,rt){t(X!=null),t(rt!=null);var ht=X[0],pt=rt[0];return ht==0&&(ht=(D*pt+z/2)/z),pt==0&&(pt=(z*ht+D/2)/D),0>=ht||0>=pt?0:(X[0]=ht,rt[0]=pt,1)}function tt(D,z){return D+(1<<z)-1>>>z}function it(D,z){return((4278255360&D)+(4278255360&z)>>>0&4278255360)+((16711935&D)+(16711935&z)>>>0&16711935)>>>0}function ct(D,z){L[z]=function(X,rt,ht,pt,vt,_t,xt){var It;for(It=0;It<vt;++It){var Bt=L[D](_t[xt+It-1],ht,pt+It);_t[xt+It]=it(X[rt+It],Bt)}}}function mt(){this.ud=this.hd=this.jd=0}function bt(D,z){return((4278124286&(D^z))>>>1)+(D&z)>>>0}function St(D){return 0<=D&&256>D?D:0>D?0:255<D?255:void 0}function wt(D,z){return St(D+(D-z+.5>>1))}function At(D,z,X){return Math.abs(z-X)-Math.abs(D-X)}function kt(D,z,X,rt,ht,pt,vt){for(rt=pt[vt-1],X=0;X<ht;++X)pt[vt+X]=rt=it(D[z+X],rt)}function Mt(D,z,X,rt,ht){var pt;for(pt=0;pt<X;++pt){var vt=D[z+pt],_t=vt>>8&255,xt=16711935&(xt=(xt=16711935&vt)+((_t<<16)+_t));rt[ht+pt]=(4278255360&vt)+xt>>>0}}function Nt(D,z){z.jd=D>>0&255,z.hd=D>>8&255,z.ud=D>>16&255}function Ut(D,z,X,rt,ht,pt){var vt;for(vt=0;vt<rt;++vt){var _t=z[X+vt],xt=_t>>>8,It=_t,Bt=255&(Bt=(Bt=_t>>>16)+((D.jd<<24>>24)*(xt<<24>>24)>>>5));It=255&(It=(It=It+((D.hd<<24>>24)*(xt<<24>>24)>>>5))+((D.ud<<24>>24)*(Bt<<24>>24)>>>5)),ht[pt+vt]=(4278255360&_t)+(Bt<<16)+It}}function qt(D,z,X,rt,ht){L[z]=function(pt,vt,_t,xt,It,Bt,Xt,Zt,Yt){for(xt=Xt;xt<Zt;++xt)for(Xt=0;Xt<Yt;++Xt)It[Bt++]=ht(_t[rt(pt[vt++])])},L[D]=function(pt,vt,_t,xt,It,Bt,Xt){var Zt=8>>pt.b,Yt=pt.Ea,me=pt.K[0],ce=pt.w;if(8>Zt)for(pt=(1<<pt.b)-1,ce=(1<<Zt)-1;vt<_t;++vt){var jt,zt=0;for(jt=0;jt<Yt;++jt)jt&pt||(zt=rt(xt[It++])),Bt[Xt++]=ht(me[zt&ce]),zt>>=Zt}else L["VP8LMapColor"+X](xt,It,me,ce,Bt,Xt,vt,_t,Yt)}}function Wt(D,z,X,rt,ht){for(X=z+X;z<X;){var pt=D[z++];rt[ht++]=pt>>16&255,rt[ht++]=pt>>8&255,rt[ht++]=pt>>0&255}}function re(D,z,X,rt,ht){for(X=z+X;z<X;){var pt=D[z++];rt[ht++]=pt>>16&255,rt[ht++]=pt>>8&255,rt[ht++]=pt>>0&255,rt[ht++]=pt>>24&255}}function Qt(D,z,X,rt,ht){for(X=z+X;z<X;){var pt=(vt=D[z++])>>16&240|vt>>12&15,vt=vt>>0&240|vt>>28&15;rt[ht++]=pt,rt[ht++]=vt}}function Fe(D,z,X,rt,ht){for(X=z+X;z<X;){var pt=(vt=D[z++])>>16&248|vt>>13&7,vt=vt>>5&224|vt>>3&31;rt[ht++]=pt,rt[ht++]=vt}}function le(D,z,X,rt,ht){for(X=z+X;z<X;){var pt=D[z++];rt[ht++]=pt>>0&255,rt[ht++]=pt>>8&255,rt[ht++]=pt>>16&255}}function fe(D,z,X,rt,ht,pt){if(pt==0)for(X=z+X;z<X;)lt(rt,((pt=D[z++])[0]>>24|pt[1]>>8&65280|pt[2]<<8&16711680|pt[3]<<24)>>>0),ht+=32;else i(rt,ht,D,z,X)}function Di(D,z){L[z][0]=L[D+"0"],L[z][1]=L[D+"1"],L[z][2]=L[D+"2"],L[z][3]=L[D+"3"],L[z][4]=L[D+"4"],L[z][5]=L[D+"5"],L[z][6]=L[D+"6"],L[z][7]=L[D+"7"],L[z][8]=L[D+"8"],L[z][9]=L[D+"9"],L[z][10]=L[D+"10"],L[z][11]=L[D+"11"],L[z][12]=L[D+"12"],L[z][13]=L[D+"13"],L[z][14]=L[D+"0"],L[z][15]=L[D+"0"]}function Ae(D){return D==Ab||D==Ib||D==Nh||D==wu}function oi(){this.eb=[],this.size=this.A=this.fb=0}function Ni(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ei(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new oi,this.f.kb=new Ni,this.sd=null}function fi(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function be(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ye(D){return alert("todo:WebPSamplerProcessPlane"),D.T}function xe(D,z){var X=D.T,rt=z.ba.f.RGBA,ht=rt.eb,pt=rt.fb+D.ka*rt.A,vt=sl[z.ba.S],_t=D.y,xt=D.O,It=D.f,Bt=D.N,Xt=D.ea,Zt=D.W,Yt=z.cc,me=z.dc,ce=z.Mc,jt=z.Nc,zt=D.ka,ge=D.ka+D.T,Ce=D.U,ve=Ce+1>>1;for(zt==0?vt(_t,xt,null,null,It,Bt,Xt,Zt,It,Bt,Xt,Zt,ht,pt,null,null,Ce):(vt(z.ec,z.fc,_t,xt,Yt,me,ce,jt,It,Bt,Xt,Zt,ht,pt-rt.A,ht,pt,Ce),++X);zt+2<ge;zt+=2)Yt=It,me=Bt,ce=Xt,jt=Zt,Bt+=D.Rc,Zt+=D.Rc,pt+=2*rt.A,vt(_t,(xt+=2*D.fa)-D.fa,_t,xt,Yt,me,ce,jt,It,Bt,Xt,Zt,ht,pt-rt.A,ht,pt,Ce);return xt+=D.fa,D.j+ge<D.o?(i(z.ec,z.fc,_t,xt,Ce),i(z.cc,z.dc,It,Bt,ve),i(z.Mc,z.Nc,Xt,Zt,ve),X--):1&ge||vt(_t,xt,null,null,It,Bt,Xt,Zt,It,Bt,Xt,Zt,ht,pt+rt.A,null,null,Ce),X}function Yr(D,z,X){var rt=D.F,ht=[D.J];if(rt!=null){var pt=D.U,vt=z.ba.S,_t=vt==Mb||vt==Nh;z=z.ba.f.RGBA;var xt=[0],It=D.ka;xt[0]=D.T,D.Kb&&(It==0?--xt[0]:(--It,ht[0]-=D.width),D.j+D.ka+D.T==D.o&&(xt[0]=D.o-D.j-It));var Bt=z.eb;It=z.fb+It*z.A,D=Fn(rt,ht[0],D.width,pt,xt,Bt,It+(_t?0:3),z.A),t(X==xt),D&&Ae(vt)&&nl(Bt,It,_t,pt,xt,z.A)}return 0}function Ye(D){var z=D.ma,X=z.ba.S,rt=11>X,ht=X==Rb||X==Tb||X==Mb||X==S1||X==12||Ae(X);if(z.memory=null,z.Ib=null,z.Jb=null,z.Nd=null,!ug(z.Oa,D,ht?11:12))return 0;if(ht&&Ae(X)&&Re(),D.da)alert("todo:use_scaling");else{if(rt){if(z.Ib=ye,D.Kb){if(X=D.U+1>>1,z.memory=o(D.U+2*X),z.memory==null)return 0;z.ec=z.memory,z.fc=0,z.cc=z.ec,z.dc=z.fc+D.U,z.Mc=z.cc,z.Nc=z.dc+X,z.Ib=xe,Re()}}else alert("todo:EmitYUV");ht&&(z.Jb=Yr,rt&&$t())}if(rt&&!xR){for(D=0;256>D;++D)SR[D]=89858*(D-128)+Ob>>Fh,ER[D]=-22014*(D-128)+Ob,lO[D]=-45773*(D-128),aO[D]=113618*(D-128)+Ob>>Fh;for(D=yg;D<A1;++D)z=76283*(D-16)+Ob>>Fh,cO[D-yg]=ca(z,255),dO[D-yg]=ca(z+8>>4,15);xR=1}return 1}function Te(D){var z=D.ma,X=D.U,rt=D.T;return t(!(1&D.ka)),0>=X||0>=rt?0:(X=z.Ib(D,z),z.Jb!=null&&z.Jb(D,z,X),z.Dc+=X,1)}function Jn(D){D.ma.memory=null}function he(D,z,X,rt){return U(D,8)!=47?0:(z[0]=U(D,14)+1,X[0]=U(D,14)+1,rt[0]=U(D,1),U(D,3)!=0?0:!D.h)}function Lt(D,z){if(4>D)return D+1;var X=D-2>>1;return(2+(1&D)<<X)+U(z,X)+1}function Jt(D,z){return 120<z?z-120:1<=(X=((X=GD[z-1])>>4)*D+(8-(15&X)))?X:1;var X}function ie(D,z,X){var rt=j(X),ht=D[z+=255&rt].g-8;return 0<ht&&(q(X,X.u+8),rt=j(X),z+=D[z].value,z+=rt&(1<<ht)-1),q(X,X.u+D[z].g),D[z].value}function se(D,z,X){return X.g+=D.g,X.value+=D.value<<z>>>0,t(8>=X.g),D.g}function mi(D,z,X){var rt=D.xc;return t((z=rt==0?0:D.vc[D.md*(X>>rt)+(z>>rt)])<D.Wb),D.Ya[z]}function Ee(D,z,X,rt){var ht=D.ab,pt=D.c*z,vt=D.C;z=vt+z;var _t=X,xt=rt;for(rt=D.Ta,X=D.Ua;0<ht--;){var It=D.gc[ht],Bt=vt,Xt=z,Zt=_t,Yt=xt,me=(xt=rt,_t=X,It.Ea);switch(t(Bt<Xt),t(Xt<=It.nc),It.hc){case 2:Cb(Zt,Yt,(Xt-Bt)*me,xt,_t);break;case 0:var ce=Bt,jt=Xt,zt=xt,ge=_t,Ce=(Be=It).Ea;ce==0&&(C1(Zt,Yt,null,null,1,zt,ge),kt(Zt,Yt+1,0,0,Ce-1,zt,ge+1),Yt+=Ce,ge+=Ce,++ce);for(var ve=1<<Be.b,ii=ve-1,Ve=tt(Ce,Be.b),Fi=Be.K,Be=Be.w+(ce>>Be.b)*Ve;ce<jt;){var Zr=Fi,an=Be,$r=1;for(Jf(Zt,Yt,zt,ge-Ce,1,zt,ge);$r<Ce;){var Lr=($r&~ii)+ve;Lr>Ce&&(Lr=Ce),(0,pu[Zr[an++]>>8&15])(Zt,Yt+ +$r,zt,ge+$r-Ce,Lr-$r,zt,ge+$r),$r=Lr}Yt+=Ce,ge+=Ce,++ce&ii||(Be+=Ve)}Xt!=It.nc&&i(xt,_t-me,xt,_t+(Xt-Bt-1)*me,me);break;case 1:for(me=Zt,jt=Yt,Ce=(Zt=It.Ea)-(ge=Zt&~(zt=(Yt=1<<It.b)-1)),ce=tt(Zt,It.b),ve=It.K,It=It.w+(Bt>>It.b)*ce;Bt<Xt;){for(ii=ve,Ve=It,Fi=new mt,Be=jt+ge,Zr=jt+Zt;jt<Be;)Nt(ii[Ve++],Fi),Ih(Fi,me,jt,Yt,xt,_t),jt+=Yt,_t+=Yt;jt<Zr&&(Nt(ii[Ve++],Fi),Ih(Fi,me,jt,Ce,xt,_t),jt+=Ce,_t+=Ce),++Bt&zt||(It+=ce)}break;case 3:if(Zt==xt&&Yt==_t&&0<It.b){for(jt=xt,Zt=me=_t+(Xt-Bt)*me-(ge=(Xt-Bt)*tt(It.Ea,It.b)),Yt=xt,zt=_t,ce=[],ge=(Ce=ge)-1;0<=ge;--ge)ce[ge]=Yt[zt+ge];for(ge=Ce-1;0<=ge;--ge)jt[Zt+ge]=ce[ge];da(It,Bt,Xt,xt,me,xt,_t)}else da(It,Bt,Xt,Zt,Yt,xt,_t)}_t=rt,xt=X}xt!=X&&i(rt,X,_t,xt,pt)}function ke(D,z){var X=D.V,rt=D.Ba+D.c*D.C,ht=z-D.C;if(t(z<=D.l.o),t(16>=ht),0<ht){var pt=D.l,vt=D.Ta,_t=D.Ua,xt=pt.width;if(Ee(D,ht,X,rt),ht=_t=[_t],t((X=D.C)<(rt=z)),t(pt.v<pt.va),rt>pt.o&&(rt=pt.o),X<pt.j){var It=pt.j-X;X=pt.j,ht[0]+=It*xt}if(X>=rt?X=0:(ht[0]+=4*pt.v,pt.ka=X-pt.j,pt.U=pt.va-pt.v,pt.T=rt-X,X=1),X){if(_t=_t[0],11>(X=D.ca).S){var Bt=X.f.RGBA,Xt=(rt=X.S,ht=pt.U,pt=pt.T,It=Bt.eb,Bt.A),Zt=pt;for(Bt=Bt.fb+D.Ma*Bt.A;0<Zt--;){var Yt=vt,me=_t,ce=ht,jt=It,zt=Bt;switch(rt){case Eb:ua(Yt,me,ce,jt,zt);break;case Rb:$s(Yt,me,ce,jt,zt);break;case Ab:$s(Yt,me,ce,jt,zt),nl(jt,zt,0,ce,1,0);break;case fR:md(Yt,me,ce,jt,zt);break;case Tb:fe(Yt,me,ce,jt,zt,1);break;case Ib:fe(Yt,me,ce,jt,zt,1),nl(jt,zt,0,ce,1,0);break;case Mb:fe(Yt,me,ce,jt,zt,0);break;case Nh:fe(Yt,me,ce,jt,zt,0),nl(jt,zt,1,ce,1,0);break;case S1:gu(Yt,me,ce,jt,zt);break;case wu:gu(Yt,me,ce,jt,zt),Ln(jt,zt,ce,1,0);break;case E1:fd(Yt,me,ce,jt,zt);break;default:t(0)}_t+=xt,Bt+=Xt}D.Ma+=pt}else alert("todo:EmitRescaledRowsYUVA");t(D.Ma<=X.height)}}D.C=z,t(D.C<=D.i)}function Ui(D){var z;if(0<D.ua)return 0;for(z=0;z<D.Wb;++z){var X=D.Ya[z].G,rt=D.Ya[z].H;if(0<X[1][rt[1]+0].g||0<X[2][rt[2]+0].g||0<X[3][rt[3]+0].g)return 0}return 1}function qe(D,z,X,rt,ht,pt){if(D.Z!=0){var vt=D.qd,_t=D.rd;for(t(xu[D.Z]!=null);z<X;++z)xu[D.Z](vt,_t,rt,ht,rt,ht,pt),vt=rt,_t=ht,ht+=pt;D.qd=vt,D.rd=_t}}function Pe(D,z){var X=D.l.ma,rt=X.Z==0||X.Z==1?D.l.j:D.C;if(rt=D.C<rt?rt:D.C,t(z<=D.l.o),z>rt){var ht=D.l.width,pt=X.ca,vt=X.tb+ht*rt,_t=D.V,xt=D.Ba+D.c*rt,It=D.gc;t(D.ab==1),t(It[0].hc==3),tm(It[0],rt,z,_t,xt,pt,vt),qe(X,rt,z,pt,vt,ht)}D.C=D.Ma=z}function ar(D,z,X,rt,ht,pt,vt){var _t=D.$/rt,xt=D.$%rt,It=D.m,Bt=D.s,Xt=X+D.$,Zt=Xt;ht=X+rt*ht;var Yt=X+rt*pt,me=280+Bt.ua,ce=D.Pb?_t:16777216,jt=0<Bt.ua?Bt.Wa:null,zt=Bt.wc,ge=Xt<Yt?mi(Bt,xt,_t):null;t(D.C<pt),t(Yt<=ht);var Ce=!1;t:for(;;){for(;Ce||Xt<Yt;){var ve=0;if(_t>=ce){var ii=Xt-X;t((ce=D).Pb),ce.wd=ce.m,ce.xd=ii,0<ce.s.ua&&nt(ce.s.Wa,ce.s.vb),ce=_t+XD}if(xt&zt||(ge=mi(Bt,xt,_t)),t(ge!=null),ge.Qb&&(z[Xt]=ge.qb,Ce=!0),!Ce)if(A(It),ge.jc){ve=It,ii=z;var Ve=Xt,Fi=ge.pd[j(ve)&fs-1];t(ge.jc),256>Fi.g?(q(ve,ve.u+Fi.g),ii[Ve]=Fi.value,ve=0):(q(ve,ve.u+Fi.g-256),t(256<=Fi.value),ve=Fi.value),ve==0&&(Ce=!0)}else ve=ie(ge.G[0],ge.H[0],It);if(It.h)break;if(Ce||256>ve){if(!Ce)if(ge.nd)z[Xt]=(ge.qb|ve<<8)>>>0;else{if(A(It),Ce=ie(ge.G[1],ge.H[1],It),A(It),ii=ie(ge.G[2],ge.H[2],It),Ve=ie(ge.G[3],ge.H[3],It),It.h)break;z[Xt]=(Ve<<24|Ce<<16|ve<<8|ii)>>>0}if(Ce=!1,++Xt,++xt>=rt&&(xt=0,++_t,vt!=null&&_t<=pt&&!(_t%16)&&vt(D,_t),jt!=null))for(;Zt<Xt;)ve=z[Zt++],jt.X[(506832829*ve&4294967295)>>>jt.Mb]=ve}else if(280>ve){if(ve=Lt(ve-256,It),ii=ie(ge.G[4],ge.H[4],It),A(It),ii=Jt(rt,ii=Lt(ii,It)),It.h)break;if(Xt-X<ii||ht-Xt<ve)break t;for(Ve=0;Ve<ve;++Ve)z[Xt+Ve]=z[Xt+Ve-ii];for(Xt+=ve,xt+=ve;xt>=rt;)xt-=rt,++_t,vt!=null&&_t<=pt&&!(_t%16)&&vt(D,_t);if(t(Xt<=ht),xt&zt&&(ge=mi(Bt,xt,_t)),jt!=null)for(;Zt<Xt;)ve=z[Zt++],jt.X[(506832829*ve&4294967295)>>>jt.Mb]=ve}else{if(!(ve<me))break t;for(Ce=ve-280,t(jt!=null);Zt<Xt;)ve=z[Zt++],jt.X[(506832829*ve&4294967295)>>>jt.Mb]=ve;ve=Xt,t(!(Ce>>>(ii=jt).Xa)),z[ve]=ii.X[Ce],Ce=!0}Ce||t(It.h==I(It))}if(D.Pb&&It.h&&Xt<ht)t(D.m.h),D.a=5,D.m=D.wd,D.$=D.xd,0<D.s.ua&&nt(D.s.vb,D.s.Wa);else{if(It.h)break t;vt?.(D,_t>pt?pt:_t),D.a=0,D.$=Xt-X}return 1}return D.a=3,0}function Wi(D){t(D!=null),D.vc=null,D.yc=null,D.Ya=null;var z=D.Wa;z!=null&&(z.X=null),D.vb=null,t(D!=null)}function Ti(){var D=new $f;return D==null?null:(D.a=0,D.xb=vR,Di("Predictor","VP8LPredictors"),Di("Predictor","VP8LPredictors_C"),Di("PredictorAdd","VP8LPredictorsAdd"),Di("PredictorAdd","VP8LPredictorsAdd_C"),Cb=Mt,Ih=Ut,ua=Wt,$s=re,gu=Qt,fd=Fe,md=le,L.VP8LMapColor32b=mu,L.VP8LMapColor8b=xb,D)}function yr(D,z,X,rt,ht){var pt=1,vt=[D],_t=[z],xt=rt.m,It=rt.s,Bt=null,Xt=0;t:for(;;){if(X)for(;pt&&U(xt,1);){var Zt=vt,Yt=_t,me=rt,ce=1,jt=me.m,zt=me.gc[me.ab],ge=U(jt,2);if(me.Oc&1<<ge)pt=0;else{switch(me.Oc|=1<<ge,zt.hc=ge,zt.Ea=Zt[0],zt.nc=Yt[0],zt.K=[null],++me.ab,t(4>=me.ab),ge){case 0:case 1:zt.b=U(jt,3)+2,ce=yr(tt(zt.Ea,zt.b),tt(zt.nc,zt.b),0,me,zt.K),zt.K=zt.K[0];break;case 3:var Ce,ve=U(jt,8)+1,ii=16<ve?0:4<ve?1:2<ve?2:3;if(Zt[0]=tt(zt.Ea,ii),zt.b=ii,Ce=ce=yr(ve,1,0,me,zt.K)){var Ve,Fi=ve,Be=zt,Zr=1<<(8>>Be.b),an=o(Zr);if(an==null)Ce=0;else{var $r=Be.K[0],Lr=Be.w;for(an[0]=Be.K[0][0],Ve=1;Ve<1*Fi;++Ve)an[Ve]=it($r[Lr+Ve],an[Ve-1]);for(;Ve<4*Zr;++Ve)an[Ve]=0;Be.K[0]=null,Be.K[0]=an,Ce=1}}ce=Ce;break;case 2:break;default:t(0)}pt=ce}}if(vt=vt[0],_t=_t[0],pt&&U(xt,1)&&!(pt=1<=(Xt=U(xt,4))&&11>=Xt)){rt.a=3;break t}var Mn;if(Mn=pt)e:{var hn,lr,No,ha=rt,Lo=vt,fa=_t,ln=Xt,Go=X,Ha=ha.m,os=ha.s,ms=[null],Ks=1,al=0,yc=KD[ln];i:for(;;){if(Go&&U(Ha,1)){var ss=U(Ha,3)+2,vd=tt(Lo,ss),Xs=tt(fa,ss),Hl=vd*Xs;if(!yr(vd,Xs,0,ha,ms))break i;for(ms=ms[0],os.xc=ss,hn=0;hn<Hl;++hn){var Su=ms[hn]>>8&65535;ms[hn]=Su,Su>=Ks&&(Ks=Su+1)}}if(Ha.h)break i;for(lr=0;5>lr;++lr){var vo=Lh[lr];!lr&&0<ln&&(vo+=1<<ln),al<vo&&(al=vo)}var I1=s(Ks*yc,R),AR=Ks,IR=s(AR,v);if(IR==null)var rm=null;else t(65536>=AR),rm=IR;var _c=o(al);if(rm==null||_c==null||I1==null){ha.a=1;break i}var Hh=I1;for(hn=No=0;hn<Ks;++hn){var tr=rm[hn],P=tr.G,G=tr.H,Q=0,st=1,yt=0;for(lr=0;5>lr;++lr){vo=Lh[lr],P[lr]=Hh,G[lr]=No,!lr&&0<ln&&(vo+=1<<ln);n:{var Ft,de=vo,ri=ha,zi=_c,Hr=Hh,Zs=No,Bl=0,Qs=ri.m,Ist=U(Qs,1);if(n(zi,0,0,de),Ist){var kst=U(Qs,1)+1,Dst=U(Qs,1),MH=U(Qs,Dst==0?1:8);zi[MH]=1,kst==2&&(zi[MH=U(Qs,8)]=1);var kR=1}else{var AH=o(19),IH=U(Qs,4)+4;if(19<IH){ri.a=3;var DR=0;break n}for(Ft=0;Ft<IH;++Ft)AH[gR[Ft]]=U(Qs,3);var hO=void 0,k1=void 0,kH=ri,Ost=AH,OR=de,DH=zi,fO=0,nm=kH.m,OH=8,PH=s(128,R);r:for(;x(PH,0,7,Ost,19);){if(U(nm,1)){var Pst=2+2*U(nm,3);if((hO=2+U(nm,Pst))>OR)break r}else hO=OR;for(k1=0;k1<OR&&hO--;){A(nm);var NH=PH[0+(127&j(nm))];q(nm,nm.u+NH.g);var Pb=NH.value;if(16>Pb)DH[k1++]=Pb,Pb!=0&&(OH=Pb);else{var Nst=Pb==16,LH=Pb-16,Lst=mR[LH],FH=U(nm,kb[LH])+Lst;if(k1+FH>OR)break r;for(var Fst=Nst?OH:0;0<FH--;)DH[k1++]=Fst}}fO=1;break r}fO||(kH.a=3),kR=fO}(kR=kR&&!Qs.h)&&(Bl=x(Hr,Zs,8,zi,de)),kR&&Bl!=0?DR=Bl:(ri.a=3,DR=0)}if(DR==0)break i;if(st&&pR[lr]==1&&(st=Hh[No].g==0),Q+=Hh[No].g,No+=DR,3>=lr){var D1,mO=_c[0];for(D1=1;D1<vo;++D1)_c[D1]>mO&&(mO=_c[D1]);yt+=mO}}if(tr.nd=st,tr.Qb=0,st&&(tr.qb=(P[3][G[3]+0].value<<24|P[1][G[1]+0].value<<16|P[2][G[2]+0].value)>>>0,Q==0&&256>P[0][G[0]+0].value&&(tr.Qb=1,tr.qb+=P[0][G[0]+0].value<<8)),tr.jc=!tr.Qb&&6>yt,tr.jc){var PR,Bh=tr;for(PR=0;PR<fs;++PR){var om=PR,sm=Bh.pd[om],NR=Bh.G[0][Bh.H[0]+om];256<=NR.value?(sm.g=NR.g+256,sm.value=NR.value):(sm.g=0,sm.value=0,om>>=se(NR,8,sm),om>>=se(Bh.G[1][Bh.H[1]+om],16,sm),om>>=se(Bh.G[2][Bh.H[2]+om],0,sm),se(Bh.G[3][Bh.H[3]+om],24,sm))}}}os.vc=ms,os.Wb=Ks,os.Ya=rm,os.yc=I1,Mn=1;break e}Mn=0}if(!(pt=Mn)){rt.a=3;break t}if(0<Xt){if(It.ua=1<<Xt,!Rt(It.Wa,Xt)){rt.a=1,pt=0;break t}}else It.ua=0;var pO=rt,HH=vt,Hst=_t,gO=pO.s,bO=gO.xc;if(pO.c=HH,pO.i=Hst,gO.md=tt(HH,bO),gO.wc=bO==0?-1:(1<<bO)-1,X){rt.xb=rO;break t}if((Bt=o(vt*_t))==null){rt.a=1,pt=0;break t}pt=(pt=ar(rt,Bt,0,vt,_t,_t,null))&&!xt.h;break t}return pt?(ht!=null?ht[0]=Bt:(t(Bt==null),t(X)),rt.$=0,X||Wi(It)):Wi(It),pt}function rn(D,z){var X=D.c*D.i,rt=X+z+16*z;return t(D.c<=z),D.V=o(rt),D.V==null?(D.Ta=null,D.Ua=0,D.a=1,0):(D.Ta=D.V,D.Ua=D.Ba+X+z,1)}function nn(D,z){var X=D.C,rt=z-X,ht=D.V,pt=D.Ba+D.c*X;for(t(z<=D.l.o);0<rt;){var vt=16<rt?16:rt,_t=D.l.ma,xt=D.l.width,It=xt*vt,Bt=_t.ca,Xt=_t.tb+xt*X,Zt=D.Ta,Yt=D.Ua;Ee(D,vt,ht,pt),Eo(Zt,Yt,Bt,Xt,It),qe(_t,X,X+vt,Bt,Xt,xt),rt-=vt,ht+=vt*D.c,X+=vt}t(X==z),D.C=D.Ma=z}function Yn(){this.ub=this.yd=this.td=this.Rb=0}function Tn(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function mo(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Dt(){this.Yb=function(){var D=[];return function z(X,rt,ht){for(var pt=ht[rt],vt=0;vt<pt&&(X.push(ht.length>rt+1?[]:0),!(ht.length<rt+1));vt++)z(X[vt],rt+1,ht)}(D,0,[3,11]),D}()}function Kt(){this.jb=o(3),this.Wc=a([4,8],Dt),this.Xc=a([4,17],Dt)}function oe(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function ae(){this.ld=this.La=this.dd=this.tc=0}function Ie(){this.Na=this.la=0}function ci(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function si(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function pr(){this.uc=this.M=this.Nb=0,this.wa=Array(new ae),this.Y=0,this.ya=Array(new si),this.aa=0,this.l=new Li}function ji(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Oi(){this.cb=this.a=0,this.sc="",this.m=new N,this.Od=new Yn,this.Kc=new Tn,this.ed=new oe,this.Qa=new mo,this.Ic=this.$c=this.Aa=0,this.D=new pr,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,N),this.ia=0,this.pb=s(4,ci),this.Pa=new Kt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ji),this.Hd=0,this.rb=Array(new Ie),this.sb=0,this.wa=Array(new ae),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new si),this.L=this.aa=0,this.gd=a([4,2],ae),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Li(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Nn(){var D=new Oi;return D!=null&&(D.a=0,D.sc="OK",D.cb=0,D.Xb=0,vg||(vg=So)),D}function nr(D,z,X){return D.a==0&&(D.a=z,D.sc=X,D.cb=0),0}function kr(D,z,X){return 3<=X&&D[z+0]==157&&D[z+1]==1&&D[z+2]==42}function zr(D,z){if(D==null)return 0;if(D.a=0,D.sc="OK",z==null)return nr(D,2,"null VP8Io passed to VP8GetHeaders()");var X=z.data,rt=z.w,ht=z.ha;if(4>ht)return nr(D,7,"Truncated header.");var pt=X[rt+0]|X[rt+1]<<8|X[rt+2]<<16,vt=D.Od;if(vt.Rb=!(1&pt),vt.td=pt>>1&7,vt.yd=pt>>4&1,vt.ub=pt>>5,3<vt.td)return nr(D,3,"Incorrect keyframe parameters.");if(!vt.yd)return nr(D,4,"Frame not displayable.");rt+=3,ht-=3;var _t=D.Kc;if(vt.Rb){if(7>ht)return nr(D,7,"cannot parse picture header");if(!kr(X,rt,ht))return nr(D,3,"Bad code word");_t.c=16383&(X[rt+4]<<8|X[rt+3]),_t.Td=X[rt+4]>>6,_t.i=16383&(X[rt+6]<<8|X[rt+5]),_t.Ud=X[rt+6]>>6,rt+=7,ht-=7,D.za=_t.c+15>>4,D.Ub=_t.i+15>>4,z.width=_t.c,z.height=_t.i,z.Da=0,z.j=0,z.v=0,z.va=z.width,z.o=z.height,z.da=0,z.ib=z.width,z.hb=z.height,z.U=z.width,z.T=z.height,n((pt=D.Pa).jb,0,255,pt.jb.length),t((pt=D.Qa)!=null),pt.Cb=0,pt.Bb=0,pt.Fb=1,n(pt.Zb,0,0,pt.Zb.length),n(pt.Lb,0,0,pt.Lb)}if(vt.ub>ht)return nr(D,7,"bad partition length");y(pt=D.m,X,rt,vt.ub),rt+=vt.ub,ht-=vt.ub,vt.Rb&&(_t.Ld=Y(pt),_t.Kd=Y(pt)),_t=D.Qa;var xt,It=D.Pa;if(t(pt!=null),t(_t!=null),_t.Cb=Y(pt),_t.Cb){if(_t.Bb=Y(pt),Y(pt)){for(_t.Fb=Y(pt),xt=0;4>xt;++xt)_t.Zb[xt]=Y(pt)?w(pt,7):0;for(xt=0;4>xt;++xt)_t.Lb[xt]=Y(pt)?w(pt,6):0}if(_t.Bb)for(xt=0;3>xt;++xt)It.jb[xt]=Y(pt)?C(pt,8):255}else _t.Bb=0;if(pt.Ka)return nr(D,3,"cannot parse segment header");if((_t=D.ed).zd=Y(pt),_t.Tb=C(pt,6),_t.wb=C(pt,3),_t.Pc=Y(pt),_t.Pc&&Y(pt)){for(It=0;4>It;++It)Y(pt)&&(_t.vd[It]=w(pt,6));for(It=0;4>It;++It)Y(pt)&&(_t.od[It]=w(pt,6))}if(D.L=_t.Tb==0?0:_t.zd?1:2,pt.Ka)return nr(D,3,"cannot parse filter header");var Bt=ht;if(ht=xt=rt,rt=xt+Bt,_t=Bt,D.Xb=(1<<C(D.m,2))-1,Bt<3*(It=D.Xb))X=7;else{for(xt+=3*It,_t-=3*It,Bt=0;Bt<It;++Bt){var Xt=X[ht+0]|X[ht+1]<<8|X[ht+2]<<16;Xt>_t&&(Xt=_t),y(D.Jc[+Bt],X,xt,Xt),xt+=Xt,_t-=Xt,ht+=3}y(D.Jc[+It],X,xt,_t),X=xt<rt?0:5}if(X!=0)return nr(D,X,"cannot parse partitions");for(X=C(xt=D.m,7),ht=Y(xt)?w(xt,4):0,rt=Y(xt)?w(xt,4):0,_t=Y(xt)?w(xt,4):0,It=Y(xt)?w(xt,4):0,xt=Y(xt)?w(xt,4):0,Bt=D.Qa,Xt=0;4>Xt;++Xt){if(Bt.Cb){var Zt=Bt.Zb[Xt];Bt.Fb||(Zt+=X)}else{if(0<Xt){D.pb[Xt]=D.pb[0];continue}Zt=X}var Yt=D.pb[Xt];Yt.Sc[0]=R1[ca(Zt+ht,127)],Yt.Sc[1]=T1[ca(Zt+0,127)],Yt.Eb[0]=2*R1[ca(Zt+rt,127)],Yt.Eb[1]=101581*T1[ca(Zt+_t,127)]>>16,8>Yt.Eb[1]&&(Yt.Eb[1]=8),Yt.Qc[0]=R1[ca(Zt+It,117)],Yt.Qc[1]=T1[ca(Zt+xt,127)],Yt.lc=Zt+xt}if(!vt.Rb)return nr(D,4,"Not a key frame.");for(Y(pt),vt=D.Pa,X=0;4>X;++X){for(ht=0;8>ht;++ht)for(rt=0;3>rt;++rt)for(_t=0;11>_t;++_t)It=Z(pt,eO[X][ht][rt][_t])?C(pt,8):JD[X][ht][rt][_t],vt.Wc[X][ht].Yb[rt][_t]=It;for(ht=0;17>ht;++ht)vt.Xc[X][ht]=vt.Wc[X][iO[ht]]}return D.kc=Y(pt),D.kc&&(D.Bd=C(pt,8)),D.cb=1}function So(D,z,X,rt,ht,pt,vt){var _t=z[ht].Yb[X];for(X=0;16>ht;++ht){if(!Z(D,_t[X+0]))return ht;for(;!Z(D,_t[X+1]);)if(_t=z[++ht].Yb[0],X=0,ht==16)return 16;var xt=z[ht+1].Yb;if(Z(D,_t[X+2])){var It=D,Bt=0;if(Z(It,(Zt=_t)[(Xt=X)+3]))if(Z(It,Zt[Xt+6])){for(_t=0,Xt=2*(Bt=Z(It,Zt[Xt+8]))+(Zt=Z(It,Zt[Xt+9+Bt])),Bt=0,Zt=ZD[Xt];Zt[_t];++_t)Bt+=Bt+Z(It,Zt[_t]);Bt+=3+(8<<Xt)}else Z(It,Zt[Xt+7])?(Bt=7+2*Z(It,165),Bt+=Z(It,145)):Bt=5+Z(It,159);else Bt=Z(It,Zt[Xt+4])?3+Z(It,Zt[Xt+5]):2;_t=xt[2]}else Bt=1,_t=xt[1];xt=vt+QD[ht],0>(It=D).b&&k(It);var Xt,Zt=It.b,Yt=(Xt=It.Ca>>1)-(It.I>>Zt)>>31;--It.b,It.Ca+=Yt,It.Ca|=1,It.I-=(Xt+1&Yt)<<Zt,pt[xt]=((Bt^Yt)-Yt)*rt[(0<ht)+0]}return 16}function ns(D){var z=D.rb[D.sb-1];z.la=0,z.Na=0,n(D.zc,0,0,D.zc.length),D.ja=0}function Cs(D,z){if(D==null)return 0;if(z==null)return nr(D,2,"NULL VP8Io parameter in VP8Decode().");if(!D.cb&&!zr(D,z))return 0;if(t(D.cb),z.ac==null||z.ac(z)){z.ob&&(D.L=0);var X=Fl[D.L];if(D.L==2?(D.yb=0,D.zb=0):(D.yb=z.v-X>>4,D.zb=z.j-X>>4,0>D.yb&&(D.yb=0),0>D.zb&&(D.zb=0)),D.Va=z.o+15+X>>4,D.Hb=z.va+15+X>>4,D.Hb>D.za&&(D.Hb=D.za),D.Va>D.Ub&&(D.Va=D.Ub),0<D.L){var rt=D.ed;for(X=0;4>X;++X){var ht;if(D.Qa.Cb){var pt=D.Qa.Lb[X];D.Qa.Fb||(pt+=rt.Tb)}else pt=rt.Tb;for(ht=0;1>=ht;++ht){var vt=D.gd[X][ht],_t=pt;if(rt.Pc&&(_t+=rt.vd[0],ht&&(_t+=rt.od[0])),0<(_t=0>_t?0:63<_t?63:_t)){var xt=_t;0<rt.wb&&(xt=4<rt.wb?xt>>2:xt>>1)>9-rt.wb&&(xt=9-rt.wb),1>xt&&(xt=1),vt.dd=xt,vt.tc=2*_t+xt,vt.ld=40<=_t?2:15<=_t?1:0}else vt.tc=0;vt.La=ht}}}X=0}else nr(D,6,"Frame setup failed"),X=D.a;if(X=X==0){if(X){D.$c=0,0<D.Aa||(D.Ic=uO);t:{X=D.Ic,rt=4*(xt=D.za);var It=32*xt,Bt=xt+1,Xt=0<D.L?xt*(0<D.Aa?2:1):0,Zt=(D.Aa==2?2:1)*xt;if((vt=rt+832+(ht=3*(16*X+Fl[D.L])/2*It)+(pt=D.Fa!=null&&0<D.Fa.length?D.Kc.c*D.Kc.i:0))!=vt)X=0;else{if(vt>D.Vb){if(D.Vb=0,D.Ec=o(vt),D.Fc=0,D.Ec==null){X=nr(D,1,"no memory during frame initialization.");break t}D.Vb=vt}vt=D.Ec,_t=D.Fc,D.Ac=vt,D.Bc=_t,_t+=rt,D.Gd=s(It,ji),D.Hd=0,D.rb=s(Bt+1,Ie),D.sb=1,D.wa=Xt?s(Xt,ae):null,D.Y=0,D.D.Nb=0,D.D.wa=D.wa,D.D.Y=D.Y,0<D.Aa&&(D.D.Y+=xt),t(!0),D.oc=vt,D.pc=_t,_t+=832,D.ya=s(Zt,si),D.aa=0,D.D.ya=D.ya,D.D.aa=D.aa,D.Aa==2&&(D.D.aa+=xt),D.R=16*xt,D.B=8*xt,xt=(It=Fl[D.L])*D.R,It=It/2*D.B,D.sa=vt,D.ta=_t+xt,D.qa=D.sa,D.ra=D.ta+16*X*D.R+It,D.Ha=D.qa,D.Ia=D.ra+8*X*D.B+It,D.$c=0,_t+=ht,D.mb=pt?vt:null,D.nb=pt?_t:null,t(_t+pt<=D.Fc+D.Vb),ns(D),n(D.Ac,D.Bc,0,rt),X=1}}if(X){if(z.ka=0,z.y=D.sa,z.O=D.ta,z.f=D.qa,z.N=D.ra,z.ea=D.Ha,z.Vd=D.Ia,z.fa=D.R,z.Rc=D.B,z.F=null,z.J=0,!Sb){for(X=-255;255>=X;++X)$o[255+X]=0>X?-X:X;for(X=-1020;1020>=X;++X)gd[1020+X]=-128>X?-128:127<X?127:X;for(X=-112;112>=X;++X)bg[112+X]=-16>X?-16:15<X?15:X;for(X=-255;510>=X;++X)im[255+X]=0>X?0:255<X?255:X;Sb=1}em=us,pd=Dr,fg=xs,Gs=Pl,bo=ad,go=Tr,il=ng,mg=Mh,pg=og,bu=sg,vu=qf,yu=Na,kh=La,Dh=yb,Oh=rg,_u=qr,gg=Pa,rl=Th,Ll[0]=gc,Ll[1]=tl,Ll[2]=su,Ll[3]=au,Ll[4]=mb,Ll[5]=Uf,Ll[6]=pb,Ll[7]=eg,Ll[8]=y1,Ll[9]=v1,Cu[0]=pc,Cu[1]=nu,Cu[2]=Ss,Cu[3]=hs,Cu[4]=Oo,Cu[5]=ou,Cu[6]=dd,bd[0]=bc,bd[1]=ld,bd[2]=_1,bd[3]=ig,bd[4]=lu,bd[5]=w1,bd[6]=Wf,X=1}else X=0}X&&(X=function(Yt,me){for(Yt.M=0;Yt.M<Yt.Va;++Yt.M){var ce,jt=Yt.Jc[Yt.M&Yt.Xb],zt=Yt.m,ge=Yt;for(ce=0;ce<ge.za;++ce){var Ce=zt,ve=ge,ii=ve.Ac,Ve=ve.Bc+4*ce,Fi=ve.zc,Be=ve.ya[ve.aa+ce];if(ve.Qa.Bb?Be.$b=Z(Ce,ve.Pa.jb[0])?2+Z(Ce,ve.Pa.jb[2]):Z(Ce,ve.Pa.jb[1]):Be.$b=0,ve.kc&&(Be.Ad=Z(Ce,ve.Bd)),Be.Za=!Z(Ce,145)+0,Be.Za){var Zr=Be.Ob,an=0;for(ve=0;4>ve;++ve){var $r,Lr=Fi[0+ve];for($r=0;4>$r;++$r){Lr=tO[ii[Ve+$r]][Lr];for(var Mn=bR[Z(Ce,Lr[0])];0<Mn;)Mn=bR[2*Mn+Z(Ce,Lr[Mn])];Lr=-Mn,ii[Ve+$r]=Lr}i(Zr,an,ii,Ve,4),an+=4,Fi[0+ve]=Lr}}else Lr=Z(Ce,156)?Z(Ce,128)?1:3:Z(Ce,163)?2:0,Be.Ob[0]=Lr,n(ii,Ve,Lr,4),n(Fi,0,Lr,4);Be.Dd=Z(Ce,142)?Z(Ce,114)?Z(Ce,183)?1:3:2:0}if(ge.m.Ka)return nr(Yt,7,"Premature end-of-partition0 encountered.");for(;Yt.ja<Yt.za;++Yt.ja){if(ge=jt,Ce=(zt=Yt).rb[zt.sb-1],ii=zt.rb[zt.sb+zt.ja],ce=zt.ya[zt.aa+zt.ja],Ve=zt.kc?ce.Ad:0)Ce.la=ii.la=0,ce.Za||(Ce.Na=ii.Na=0),ce.Hc=0,ce.Gc=0,ce.ia=0;else{var hn,lr;if(Ce=ii,ii=ge,Ve=zt.Pa.Xc,Fi=zt.ya[zt.aa+zt.ja],Be=zt.pb[Fi.$b],ve=Fi.ad,Zr=0,an=zt.rb[zt.sb-1],Lr=$r=0,n(ve,Zr,0,384),Fi.Za)var No=0,ha=Ve[3];else{Mn=o(16);var Lo=Ce.Na+an.Na;if(Lo=vg(ii,Ve[1],Lo,Be.Eb,0,Mn,0),Ce.Na=an.Na=(0<Lo)+0,1<Lo)em(Mn,0,ve,Zr);else{var fa=Mn[0]+3>>3;for(Mn=0;256>Mn;Mn+=16)ve[Zr+Mn]=fa}No=1,ha=Ve[0]}var ln=15&Ce.la,Go=15&an.la;for(Mn=0;4>Mn;++Mn){var Ha=1&Go;for(fa=lr=0;4>fa;++fa)ln=ln>>1|(Ha=(Lo=vg(ii,ha,Lo=Ha+(1&ln),Be.Sc,No,ve,Zr))>No)<<7,lr=lr<<2|(3<Lo?3:1<Lo?2:ve[Zr+0]!=0),Zr+=16;ln>>=4,Go=Go>>1|Ha<<7,$r=($r<<8|lr)>>>0}for(ha=ln,No=Go>>4,hn=0;4>hn;hn+=2){for(lr=0,ln=Ce.la>>4+hn,Go=an.la>>4+hn,Mn=0;2>Mn;++Mn){for(Ha=1&Go,fa=0;2>fa;++fa)Lo=Ha+(1&ln),ln=ln>>1|(Ha=0<(Lo=vg(ii,Ve[2],Lo,Be.Qc,0,ve,Zr)))<<3,lr=lr<<2|(3<Lo?3:1<Lo?2:ve[Zr+0]!=0),Zr+=16;ln>>=2,Go=Go>>1|Ha<<5}Lr|=lr<<4*hn,ha|=ln<<4<<hn,No|=(240&Go)<<hn}Ce.la=ha,an.la=No,Fi.Hc=$r,Fi.Gc=Lr,Fi.ia=43690&Lr?0:Be.ia,Ve=!($r|Lr)}if(0<zt.L&&(zt.wa[zt.Y+zt.ja]=zt.gd[ce.$b][ce.Za],zt.wa[zt.Y+zt.ja].La|=!Ve),ge.Ka)return nr(Yt,7,"Premature end-of-file encountered.")}if(ns(Yt),zt=me,ge=1,ce=(jt=Yt).D,Ce=0<jt.L&&jt.M>=jt.zb&&jt.M<=jt.Va,jt.Aa==0)t:{if(ce.M=jt.M,ce.uc=Ce,Kf(jt,ce),ge=1,ce=(lr=jt.D).Nb,Ce=(Lr=Fl[jt.L])*jt.R,ii=Lr/2*jt.B,Mn=16*ce*jt.R,fa=8*ce*jt.B,Ve=jt.sa,Fi=jt.ta-Ce+Mn,Be=jt.qa,ve=jt.ra-ii+fa,Zr=jt.Ha,an=jt.Ia-ii+fa,Go=(ln=lr.M)==0,$r=ln>=jt.Va-1,jt.Aa==2&&Kf(jt,lr),lr.uc)for(Ha=(Lo=jt).D.M,t(Lo.D.uc),lr=Lo.yb;lr<Lo.Hb;++lr){No=lr,ha=Ha;var os=(ms=(vo=Lo).D).Nb;hn=vo.R;var ms=ms.wa[ms.Y+No],Ks=vo.sa,al=vo.ta+16*os*hn+16*No,yc=ms.dd,ss=ms.tc;if(ss!=0)if(t(3<=ss),vo.L==1)0<No&&_u(Ks,al,hn,ss+4),ms.La&&rl(Ks,al,hn,ss),0<ha&&Oh(Ks,al,hn,ss+4),ms.La&&gg(Ks,al,hn,ss);else{var vd=vo.B,Xs=vo.qa,Hl=vo.ra+8*os*vd+8*No,Su=vo.Ha,vo=vo.Ia+8*os*vd+8*No;os=ms.ld,0<No&&(mg(Ks,al,hn,ss+4,yc,os),bu(Xs,Hl,Su,vo,vd,ss+4,yc,os)),ms.La&&(yu(Ks,al,hn,ss,yc,os),Dh(Xs,Hl,Su,vo,vd,ss,yc,os)),0<ha&&(il(Ks,al,hn,ss+4,yc,os),pg(Xs,Hl,Su,vo,vd,ss+4,yc,os)),ms.La&&(vu(Ks,al,hn,ss,yc,os),kh(Xs,Hl,Su,vo,vd,ss,yc,os))}}if(jt.ia&&alert("todo:DitherRow"),zt.put!=null){if(lr=16*ln,ln=16*(ln+1),Go?(zt.y=jt.sa,zt.O=jt.ta+Mn,zt.f=jt.qa,zt.N=jt.ra+fa,zt.ea=jt.Ha,zt.W=jt.Ia+fa):(lr-=Lr,zt.y=Ve,zt.O=Fi,zt.f=Be,zt.N=ve,zt.ea=Zr,zt.W=an),$r||(ln-=Lr),ln>zt.o&&(ln=zt.o),zt.F=null,zt.J=null,jt.Fa!=null&&0<jt.Fa.length&&lr<ln&&(zt.J=Gf(jt,zt,lr,ln-lr),zt.F=jt.mb,zt.F==null&&zt.F.length==0)){ge=nr(jt,3,"Could not decode alpha data.");break t}lr<zt.j&&(Lr=zt.j-lr,lr=zt.j,t(!(1&Lr)),zt.O+=jt.R*Lr,zt.N+=jt.B*(Lr>>1),zt.W+=jt.B*(Lr>>1),zt.F!=null&&(zt.J+=zt.width*Lr)),lr<ln&&(zt.O+=zt.v,zt.N+=zt.v>>1,zt.W+=zt.v>>1,zt.F!=null&&(zt.J+=zt.v),zt.ka=lr-zt.j,zt.U=zt.va-zt.v,zt.T=ln-lr,ge=zt.put(zt))}ce+1!=jt.Ic||$r||(i(jt.sa,jt.ta-Ce,Ve,Fi+16*jt.R,Ce),i(jt.qa,jt.ra-ii,Be,ve+8*jt.B,ii),i(jt.Ha,jt.Ia-ii,Zr,an+8*jt.B,ii))}if(!ge)return nr(Yt,6,"Output aborted.")}return 1}(D,z)),z.bc!=null&&z.bc(z),X&=1}return X?(D.cb=0,X):0}function so(D,z,X,rt,ht){ht=D[z+X+32*rt]+(ht>>3),D[z+X+32*rt]=-256&ht?0>ht?0:255:ht}function la(D,z,X,rt,ht,pt){so(D,z,0,X,rt+ht),so(D,z,1,X,rt+pt),so(D,z,2,X,rt-pt),so(D,z,3,X,rt-ht)}function ao(D){return(20091*D>>16)+D}function Ys(D,z,X,rt){var ht,pt=0,vt=o(16);for(ht=0;4>ht;++ht){var _t=D[z+0]+D[z+8],xt=D[z+0]-D[z+8],It=(35468*D[z+4]>>16)-ao(D[z+12]),Bt=ao(D[z+4])+(35468*D[z+12]>>16);vt[pt+0]=_t+Bt,vt[pt+1]=xt+It,vt[pt+2]=xt-It,vt[pt+3]=_t-Bt,pt+=4,z++}for(ht=pt=0;4>ht;++ht)_t=(D=vt[pt+0]+4)+vt[pt+8],xt=D-vt[pt+8],It=(35468*vt[pt+4]>>16)-ao(vt[pt+12]),so(X,rt,0,0,_t+(Bt=ao(vt[pt+4])+(35468*vt[pt+12]>>16))),so(X,rt,1,0,xt+It),so(X,rt,2,0,xt-It),so(X,rt,3,0,_t-Bt),pt++,rt+=32}function Tr(D,z,X,rt){var ht=D[z+0]+4,pt=35468*D[z+4]>>16,vt=ao(D[z+4]),_t=35468*D[z+1]>>16;la(X,rt,0,ht+vt,D=ao(D[z+1]),_t),la(X,rt,1,ht+pt,D,_t),la(X,rt,2,ht-pt,D,_t),la(X,rt,3,ht-vt,D,_t)}function Dr(D,z,X,rt,ht){Ys(D,z,X,rt),ht&&Ys(D,z+16,X,rt+4)}function xs(D,z,X,rt){pd(D,z+0,X,rt,1),pd(D,z+32,X,rt+128,1)}function Pl(D,z,X,rt){var ht;for(D=D[z+0]+4,ht=0;4>ht;++ht)for(z=0;4>z;++z)so(X,rt,z,ht,D)}function ad(D,z,X,rt){D[z+0]&&Gs(D,z+0,X,rt),D[z+16]&&Gs(D,z+16,X,rt+4),D[z+32]&&Gs(D,z+32,X,rt+128),D[z+48]&&Gs(D,z+48,X,rt+128+4)}function us(D,z,X,rt){var ht,pt=o(16);for(ht=0;4>ht;++ht){var vt=D[z+0+ht]+D[z+12+ht],_t=D[z+4+ht]+D[z+8+ht],xt=D[z+4+ht]-D[z+8+ht],It=D[z+0+ht]-D[z+12+ht];pt[0+ht]=vt+_t,pt[8+ht]=vt-_t,pt[4+ht]=It+xt,pt[12+ht]=It-xt}for(ht=0;4>ht;++ht)vt=(D=pt[0+4*ht]+3)+pt[3+4*ht],_t=pt[1+4*ht]+pt[2+4*ht],xt=pt[1+4*ht]-pt[2+4*ht],It=D-pt[3+4*ht],X[rt+0]=vt+_t>>3,X[rt+16]=It+xt>>3,X[rt+32]=vt-_t>>3,X[rt+48]=It-xt>>3,rt+=64}function qs(D,z,X){var rt,ht=z-32,pt=Fa,vt=255-D[ht-1];for(rt=0;rt<X;++rt){var _t,xt=pt,It=vt+D[z-1];for(_t=0;_t<X;++_t)D[z+_t]=xt[It+D[ht+_t]];z+=32}}function tl(D,z){qs(D,z,4)}function ld(D,z){qs(D,z,8)}function nu(D,z){qs(D,z,16)}function Ss(D,z){var X;for(X=0;16>X;++X)i(D,z+32*X,D,z-32,16)}function hs(D,z){var X;for(X=16;0<X;--X)n(D,z,D[z-1],16),z+=32}function cd(D,z,X){var rt;for(rt=0;16>rt;++rt)n(z,X+32*rt,D,16)}function pc(D,z){var X,rt=16;for(X=0;16>X;++X)rt+=D[z-1+32*X]+D[z+X-32];cd(rt>>5,D,z)}function Oo(D,z){var X,rt=8;for(X=0;16>X;++X)rt+=D[z-1+32*X];cd(rt>>4,D,z)}function ou(D,z){var X,rt=8;for(X=0;16>X;++X)rt+=D[z+X-32];cd(rt>>4,D,z)}function dd(D,z){cd(128,D,z)}function $i(D,z,X){return D+2*z+X+2>>2}function su(D,z){var X,rt=z-32;for(rt=new Uint8Array([$i(D[rt-1],D[rt+0],D[rt+1]),$i(D[rt+0],D[rt+1],D[rt+2]),$i(D[rt+1],D[rt+2],D[rt+3]),$i(D[rt+2],D[rt+3],D[rt+4])]),X=0;4>X;++X)i(D,z+32*X,rt,0,rt.length)}function au(D,z){var X=D[z-1],rt=D[z-1+32],ht=D[z-1+64],pt=D[z-1+96];lt(D,z+0,16843009*$i(D[z-1-32],X,rt)),lt(D,z+32,16843009*$i(X,rt,ht)),lt(D,z+64,16843009*$i(rt,ht,pt)),lt(D,z+96,16843009*$i(ht,pt,pt))}function gc(D,z){var X,rt=4;for(X=0;4>X;++X)rt+=D[z+X-32]+D[z-1+32*X];for(rt>>=3,X=0;4>X;++X)n(D,z+32*X,rt,4)}function mb(D,z){var X=D[z-1+0],rt=D[z-1+32],ht=D[z-1+64],pt=D[z-1-32],vt=D[z+0-32],_t=D[z+1-32],xt=D[z+2-32],It=D[z+3-32];D[z+0+96]=$i(rt,ht,D[z-1+96]),D[z+1+96]=D[z+0+64]=$i(X,rt,ht),D[z+2+96]=D[z+1+64]=D[z+0+32]=$i(pt,X,rt),D[z+3+96]=D[z+2+64]=D[z+1+32]=D[z+0+0]=$i(vt,pt,X),D[z+3+64]=D[z+2+32]=D[z+1+0]=$i(_t,vt,pt),D[z+3+32]=D[z+2+0]=$i(xt,_t,vt),D[z+3+0]=$i(It,xt,_t)}function pb(D,z){var X=D[z+1-32],rt=D[z+2-32],ht=D[z+3-32],pt=D[z+4-32],vt=D[z+5-32],_t=D[z+6-32],xt=D[z+7-32];D[z+0+0]=$i(D[z+0-32],X,rt),D[z+1+0]=D[z+0+32]=$i(X,rt,ht),D[z+2+0]=D[z+1+32]=D[z+0+64]=$i(rt,ht,pt),D[z+3+0]=D[z+2+32]=D[z+1+64]=D[z+0+96]=$i(ht,pt,vt),D[z+3+32]=D[z+2+64]=D[z+1+96]=$i(pt,vt,_t),D[z+3+64]=D[z+2+96]=$i(vt,_t,xt),D[z+3+96]=$i(_t,xt,xt)}function Uf(D,z){var X=D[z-1+0],rt=D[z-1+32],ht=D[z-1+64],pt=D[z-1-32],vt=D[z+0-32],_t=D[z+1-32],xt=D[z+2-32],It=D[z+3-32];D[z+0+0]=D[z+1+64]=pt+vt+1>>1,D[z+1+0]=D[z+2+64]=vt+_t+1>>1,D[z+2+0]=D[z+3+64]=_t+xt+1>>1,D[z+3+0]=xt+It+1>>1,D[z+0+96]=$i(ht,rt,X),D[z+0+64]=$i(rt,X,pt),D[z+0+32]=D[z+1+96]=$i(X,pt,vt),D[z+1+32]=D[z+2+96]=$i(pt,vt,_t),D[z+2+32]=D[z+3+96]=$i(vt,_t,xt),D[z+3+32]=$i(_t,xt,It)}function eg(D,z){var X=D[z+0-32],rt=D[z+1-32],ht=D[z+2-32],pt=D[z+3-32],vt=D[z+4-32],_t=D[z+5-32],xt=D[z+6-32],It=D[z+7-32];D[z+0+0]=X+rt+1>>1,D[z+1+0]=D[z+0+64]=rt+ht+1>>1,D[z+2+0]=D[z+1+64]=ht+pt+1>>1,D[z+3+0]=D[z+2+64]=pt+vt+1>>1,D[z+0+32]=$i(X,rt,ht),D[z+1+32]=D[z+0+96]=$i(rt,ht,pt),D[z+2+32]=D[z+1+96]=$i(ht,pt,vt),D[z+3+32]=D[z+2+96]=$i(pt,vt,_t),D[z+3+64]=$i(vt,_t,xt),D[z+3+96]=$i(_t,xt,It)}function v1(D,z){var X=D[z-1+0],rt=D[z-1+32],ht=D[z-1+64],pt=D[z-1+96];D[z+0+0]=X+rt+1>>1,D[z+2+0]=D[z+0+32]=rt+ht+1>>1,D[z+2+32]=D[z+0+64]=ht+pt+1>>1,D[z+1+0]=$i(X,rt,ht),D[z+3+0]=D[z+1+32]=$i(rt,ht,pt),D[z+3+32]=D[z+1+64]=$i(ht,pt,pt),D[z+3+64]=D[z+2+64]=D[z+0+96]=D[z+1+96]=D[z+2+96]=D[z+3+96]=pt}function y1(D,z){var X=D[z-1+0],rt=D[z-1+32],ht=D[z-1+64],pt=D[z-1+96],vt=D[z-1-32],_t=D[z+0-32],xt=D[z+1-32],It=D[z+2-32];D[z+0+0]=D[z+2+32]=X+vt+1>>1,D[z+0+32]=D[z+2+64]=rt+X+1>>1,D[z+0+64]=D[z+2+96]=ht+rt+1>>1,D[z+0+96]=pt+ht+1>>1,D[z+3+0]=$i(_t,xt,It),D[z+2+0]=$i(vt,_t,xt),D[z+1+0]=D[z+3+32]=$i(X,vt,_t),D[z+1+32]=D[z+3+64]=$i(rt,X,vt),D[z+1+64]=D[z+3+96]=$i(ht,rt,X),D[z+1+96]=$i(pt,ht,rt)}function _1(D,z){var X;for(X=0;8>X;++X)i(D,z+32*X,D,z-32,8)}function ig(D,z){var X;for(X=0;8>X;++X)n(D,z,D[z-1],8),z+=32}function ud(D,z,X){var rt;for(rt=0;8>rt;++rt)n(z,X+32*rt,D,8)}function bc(D,z){var X,rt=8;for(X=0;8>X;++X)rt+=D[z+X-32]+D[z-1+32*X];ud(rt>>4,D,z)}function w1(D,z){var X,rt=4;for(X=0;8>X;++X)rt+=D[z+X-32];ud(rt>>3,D,z)}function lu(D,z){var X,rt=4;for(X=0;8>X;++X)rt+=D[z-1+32*X];ud(rt>>3,D,z)}function Wf(D,z){ud(128,D,z)}function Yf(D,z,X){var rt=D[z-X],ht=D[z+0],pt=3*(ht-rt)+x1[1020+D[z-2*X]-D[z+X]],vt=Ph[112+(pt+4>>3)];D[z-X]=Fa[255+rt+Ph[112+(pt+3>>3)]],D[z+0]=Fa[255+ht-vt]}function gb(D,z,X,rt){var ht=D[z+0],pt=D[z+X];return ol[255+D[z-2*X]-D[z-X]]>rt||ol[255+pt-ht]>rt}function bb(D,z,X,rt){return 4*ol[255+D[z-X]-D[z+0]]+ol[255+D[z-2*X]-D[z+X]]<=rt}function vb(D,z,X,rt,ht){var pt=D[z-3*X],vt=D[z-2*X],_t=D[z-X],xt=D[z+0],It=D[z+X],Bt=D[z+2*X],Xt=D[z+3*X];return 4*ol[255+_t-xt]+ol[255+vt-It]>rt?0:ol[255+D[z-4*X]-pt]<=ht&&ol[255+pt-vt]<=ht&&ol[255+vt-_t]<=ht&&ol[255+Xt-Bt]<=ht&&ol[255+Bt-It]<=ht&&ol[255+It-xt]<=ht}function rg(D,z,X,rt){var ht=2*rt+1;for(rt=0;16>rt;++rt)bb(D,z+rt,X,ht)&&Yf(D,z+rt,X)}function qr(D,z,X,rt){var ht=2*rt+1;for(rt=0;16>rt;++rt)bb(D,z+rt*X,1,ht)&&Yf(D,z+rt*X,1)}function Pa(D,z,X,rt){var ht;for(ht=3;0<ht;--ht)rg(D,z+=4*X,X,rt)}function Th(D,z,X,rt){var ht;for(ht=3;0<ht;--ht)qr(D,z+=4,X,rt)}function cu(D,z,X,rt,ht,pt,vt,_t){for(pt=2*pt+1;0<ht--;){if(vb(D,z,X,pt,vt))if(gb(D,z,X,_t))Yf(D,z,X);else{var xt=D,It=z,Bt=X,Xt=xt[It-2*Bt],Zt=xt[It-Bt],Yt=xt[It+0],me=xt[It+Bt],ce=xt[It+2*Bt],jt=27*(ge=x1[1020+3*(Yt-Zt)+x1[1020+Xt-me]])+63>>7,zt=18*ge+63>>7,ge=9*ge+63>>7;xt[It-3*Bt]=Fa[255+xt[It-3*Bt]+ge],xt[It-2*Bt]=Fa[255+Xt+zt],xt[It-Bt]=Fa[255+Zt+jt],xt[It+0]=Fa[255+Yt-jt],xt[It+Bt]=Fa[255+me-zt],xt[It+2*Bt]=Fa[255+ce-ge]}z+=rt}}function el(D,z,X,rt,ht,pt,vt,_t){for(pt=2*pt+1;0<ht--;){if(vb(D,z,X,pt,vt))if(gb(D,z,X,_t))Yf(D,z,X);else{var xt=D,It=z,Bt=X,Xt=xt[It-Bt],Zt=xt[It+0],Yt=xt[It+Bt],me=Ph[112+((ce=3*(Zt-Xt))+4>>3)],ce=Ph[112+(ce+3>>3)],jt=me+1>>1;xt[It-2*Bt]=Fa[255+xt[It-2*Bt]+jt],xt[It-Bt]=Fa[255+Xt+ce],xt[It+0]=Fa[255+Zt-me],xt[It+Bt]=Fa[255+Yt-jt]}z+=rt}}function ng(D,z,X,rt,ht,pt){cu(D,z,X,1,16,rt,ht,pt)}function Mh(D,z,X,rt,ht,pt){cu(D,z,1,X,16,rt,ht,pt)}function qf(D,z,X,rt,ht,pt){var vt;for(vt=3;0<vt;--vt)el(D,z+=4*X,X,1,16,rt,ht,pt)}function Na(D,z,X,rt,ht,pt){var vt;for(vt=3;0<vt;--vt)el(D,z+=4,1,X,16,rt,ht,pt)}function og(D,z,X,rt,ht,pt,vt,_t){cu(D,z,ht,1,8,pt,vt,_t),cu(X,rt,ht,1,8,pt,vt,_t)}function sg(D,z,X,rt,ht,pt,vt,_t){cu(D,z,1,ht,8,pt,vt,_t),cu(X,rt,1,ht,8,pt,vt,_t)}function La(D,z,X,rt,ht,pt,vt,_t){el(D,z+4*ht,ht,1,8,pt,vt,_t),el(X,rt+4*ht,ht,1,8,pt,vt,_t)}function yb(D,z,X,rt,ht,pt,vt,_t){el(D,z+4,1,ht,8,pt,vt,_t),el(X,rt+4,1,ht,8,pt,vt,_t)}function du(){this.ba=new ei,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new be,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ag(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function lg(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function _b(){this.ua=0,this.Wa=new at,this.vb=new at,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new v,this.yc=new R}function $f(){this.xb=this.a=0,this.l=new Li,this.ca=new ei,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new T,this.Pb=0,this.wd=new T,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new _b,this.ab=0,this.gc=s(4,lg),this.Oc=0}function uu(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Li,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ah(D,z,X,rt,ht,pt,vt){for(D=D==null?0:D[z+0],z=0;z<vt;++z)ht[pt+z]=D+X[rt+z]&255,D=ht[pt+z]}function cg(D,z,X,rt,ht,pt,vt){var _t;if(D==null)Ah(null,null,X,rt,ht,pt,vt);else for(_t=0;_t<vt;++_t)ht[pt+_t]=D[z+_t]+X[rt+_t]&255}function hu(D,z,X,rt,ht,pt,vt){if(D==null)Ah(null,null,X,rt,ht,pt,vt);else{var _t,xt=D[z+0],It=xt,Bt=xt;for(_t=0;_t<vt;++_t)It=Bt+(xt=D[z+_t])-It,Bt=X[rt+_t]+(-256&It?0>It?0:255:It)&255,It=xt,ht[pt+_t]=Bt}}function Gf(D,z,X,rt){var ht=z.width,pt=z.o;if(t(D!=null&&z!=null),0>X||0>=rt||X+rt>pt)return null;if(!D.Cc){if(D.ga==null){var vt;if(D.ga=new uu,(vt=D.ga==null)||(vt=z.width*z.o,t(D.Gb.length==0),D.Gb=o(vt),D.Uc=0,D.Gb==null?vt=0:(D.mb=D.Gb,D.nb=D.Uc,D.rc=null,vt=1),vt=!vt),!vt){vt=D.ga;var _t=D.Fa,xt=D.P,It=D.qc,Bt=D.mb,Xt=D.nb,Zt=xt+1,Yt=It-1,me=vt.l;if(t(_t!=null&&Bt!=null&&z!=null),xu[0]=null,xu[1]=Ah,xu[2]=cg,xu[3]=hu,vt.ca=Bt,vt.tb=Xt,vt.c=z.width,vt.i=z.height,t(0<vt.c&&0<vt.i),1>=It)z=0;else if(vt.$a=_t[xt+0]>>0&3,vt.Z=_t[xt+0]>>2&3,vt.Lc=_t[xt+0]>>4&3,xt=_t[xt+0]>>6&3,0>vt.$a||1<vt.$a||4<=vt.Z||1<vt.Lc||xt)z=0;else if(me.put=Te,me.ac=Ye,me.bc=Jn,me.ma=vt,me.width=z.width,me.height=z.height,me.Da=z.Da,me.v=z.v,me.va=z.va,me.j=z.j,me.o=z.o,vt.$a)t:{t(vt.$a==1),z=Ti();e:for(;;){if(z==null){z=0;break t}if(t(vt!=null),vt.mc=z,z.c=vt.c,z.i=vt.i,z.l=vt.l,z.l.ma=vt,z.l.width=vt.c,z.l.height=vt.i,z.a=0,S(z.m,_t,Zt,Yt),!yr(vt.c,vt.i,1,z,null)||(z.ab==1&&z.gc[0].hc==3&&Ui(z.s)?(vt.ic=1,_t=z.c*z.i,z.Ta=null,z.Ua=0,z.V=o(_t),z.Ba=0,z.V==null?(z.a=1,z=0):z=1):(vt.ic=0,z=rn(z,vt.c)),!z))break e;z=1;break t}vt.mc=null,z=0}else z=Yt>=vt.c*vt.i;vt=!z}if(vt)return null;D.ga.Lc!=1?D.Ga=0:rt=pt-X}t(D.ga!=null),t(X+rt<=pt);t:{if(z=(_t=D.ga).c,pt=_t.l.o,_t.$a==0){if(Zt=D.rc,Yt=D.Vc,me=D.Fa,xt=D.P+1+X*z,It=D.mb,Bt=D.nb+X*z,t(xt<=D.P+D.qc),_t.Z!=0)for(t(xu[_t.Z]!=null),vt=0;vt<rt;++vt)xu[_t.Z](Zt,Yt,me,xt,It,Bt,z),Zt=It,Yt=Bt,Bt+=z,xt+=z;else for(vt=0;vt<rt;++vt)i(It,Bt,me,xt,z),Zt=It,Yt=Bt,Bt+=z,xt+=z;D.rc=Zt,D.Vc=Yt}else{if(t(_t.mc!=null),z=X+rt,t((vt=_t.mc)!=null),t(z<=vt.i),vt.C>=z)z=1;else if(_t.ic||$t(),_t.ic){_t=vt.V,Zt=vt.Ba,Yt=vt.c;var ce=vt.i,jt=(me=1,xt=vt.$/Yt,It=vt.$%Yt,Bt=vt.m,Xt=vt.s,vt.$),zt=Yt*ce,ge=Yt*z,Ce=Xt.wc,ve=jt<ge?mi(Xt,It,xt):null;t(jt<=zt),t(z<=ce),t(Ui(Xt));e:for(;;){for(;!Bt.h&&jt<ge;){if(It&Ce||(ve=mi(Xt,It,xt)),t(ve!=null),A(Bt),256>(ce=ie(ve.G[0],ve.H[0],Bt)))_t[Zt+jt]=ce,++jt,++It>=Yt&&(It=0,++xt<=z&&!(xt%16)&&Pe(vt,xt));else{if(!(280>ce)){me=0;break e}ce=Lt(ce-256,Bt);var ii,Ve=ie(ve.G[4],ve.H[4],Bt);if(A(Bt),!(jt>=(Ve=Jt(Yt,Ve=Lt(Ve,Bt)))&&zt-jt>=ce)){me=0;break e}for(ii=0;ii<ce;++ii)_t[Zt+jt+ii]=_t[Zt+jt+ii-Ve];for(jt+=ce,It+=ce;It>=Yt;)It-=Yt,++xt<=z&&!(xt%16)&&Pe(vt,xt);jt<ge&&It&Ce&&(ve=mi(Xt,It,xt))}t(Bt.h==I(Bt))}Pe(vt,xt>z?z:xt);break e}!me||Bt.h&&jt<zt?(me=0,vt.a=Bt.h?5:3):vt.$=jt,z=me}else z=ar(vt,vt.V,vt.Ba,vt.c,vt.i,z,nn);if(!z){rt=0;break t}}X+rt>=pt&&(D.Cc=1),rt=1}if(!rt)return null;if(D.Cc&&((rt=D.ga)!=null&&(rt.mc=null),D.ga=null,0<D.Ga))return alert("todo:WebPDequantizeLevels"),null}return D.nb+X*ht}function K(D,z,X,rt,ht,pt){for(;0<ht--;){var vt,_t=D,xt=z+(X?1:0),It=D,Bt=z+(X?0:3);for(vt=0;vt<rt;++vt){var Xt=It[Bt+4*vt];Xt!=255&&(Xt*=32897,_t[xt+4*vt+0]=_t[xt+4*vt+0]*Xt>>23,_t[xt+4*vt+1]=_t[xt+4*vt+1]*Xt>>23,_t[xt+4*vt+2]=_t[xt+4*vt+2]*Xt>>23)}z+=pt}}function ft(D,z,X,rt,ht){for(;0<rt--;){var pt;for(pt=0;pt<X;++pt){var vt=D[z+2*pt+0],_t=15&(It=D[z+2*pt+1]),xt=4369*_t,It=(240&It|It>>4)*xt>>16;D[z+2*pt+0]=(240&vt|vt>>4)*xt>>16&240|(15&vt|vt<<4)*xt>>16>>4&15,D[z+2*pt+1]=240&It|_t}z+=ht}}function Ot(D,z,X,rt,ht,pt,vt,_t){var xt,It,Bt=255;for(It=0;It<ht;++It){for(xt=0;xt<rt;++xt){var Xt=D[z+xt];pt[vt+4*xt]=Xt,Bt&=Xt}z+=X,vt+=_t}return Bt!=255}function Ht(D,z,X,rt,ht){var pt;for(pt=0;pt<ht;++pt)X[rt+pt]=D[z+pt]>>8}function $t(){nl=K,Ln=ft,Fn=Ot,Eo=Ht}function ue(D,z,X){L[D]=function(rt,ht,pt,vt,_t,xt,It,Bt,Xt,Zt,Yt,me,ce,jt,zt,ge,Ce){var ve,ii=Ce-1>>1,Ve=_t[xt+0]|It[Bt+0]<<16,Fi=Xt[Zt+0]|Yt[me+0]<<16;t(rt!=null);var Be=3*Ve+Fi+131074>>2;for(z(rt[ht+0],255&Be,Be>>16,ce,jt),pt!=null&&(Be=3*Fi+Ve+131074>>2,z(pt[vt+0],255&Be,Be>>16,zt,ge)),ve=1;ve<=ii;++ve){var Zr=_t[xt+ve]|It[Bt+ve]<<16,an=Xt[Zt+ve]|Yt[me+ve]<<16,$r=Ve+Zr+Fi+an+524296,Lr=$r+2*(Zr+Fi)>>3;Be=Lr+Ve>>1,Ve=($r=$r+2*(Ve+an)>>3)+Zr>>1,z(rt[ht+2*ve-1],255&Be,Be>>16,ce,jt+(2*ve-1)*X),z(rt[ht+2*ve-0],255&Ve,Ve>>16,ce,jt+(2*ve-0)*X),pt!=null&&(Be=$r+Fi>>1,Ve=Lr+an>>1,z(pt[vt+2*ve-1],255&Be,Be>>16,zt,ge+(2*ve-1)*X),z(pt[vt+2*ve+0],255&Ve,Ve>>16,zt,ge+(2*ve+0)*X)),Ve=Zr,Fi=an}1&Ce||(Be=3*Ve+Fi+131074>>2,z(rt[ht+Ce-1],255&Be,Be>>16,ce,jt+(Ce-1)*X),pt!=null&&(Be=3*Fi+Ve+131074>>2,z(pt[vt+Ce-1],255&Be,Be>>16,zt,ge+(Ce-1)*X)))}}function Re(){sl[Eb]=nO,sl[Rb]=Db,sl[fR]=oO,sl[Tb]=yR,sl[Mb]=_R,sl[S1]=wR,sl[E1]=M1,sl[Ab]=Db,sl[Ib]=yR,sl[Nh]=_R,sl[wu]=wR}function $e(D){return D&~sO?0>D?0:255:D>>CR}function Mi(D,z){return $e((19077*D>>8)+(26149*z>>8)-14234)}function Qi(D,z,X){return $e((19077*D>>8)-(6419*z>>8)-(13320*X>>8)+8708)}function Ji(D,z){return $e((19077*D>>8)+(33050*z>>8)-17685)}function Nr(D,z,X,rt,ht){rt[ht+0]=Mi(D,X),rt[ht+1]=Qi(D,z,X),rt[ht+2]=Ji(D,z)}function lo(D,z,X,rt,ht){rt[ht+0]=Ji(D,z),rt[ht+1]=Qi(D,z,X),rt[ht+2]=Mi(D,X)}function po(D,z,X,rt,ht){var pt=Qi(D,z,X);z=pt<<3&224|Ji(D,z)>>3,rt[ht+0]=248&Mi(D,X)|pt>>5,rt[ht+1]=z}function Po(D,z,X,rt,ht){var pt=240&Ji(D,z)|15;rt[ht+0]=240&Mi(D,X)|Qi(D,z,X)>>4,rt[ht+1]=pt}function Es(D,z,X,rt,ht){rt[ht+0]=255,Nr(D,z,X,rt,ht+1)}function qo(D,z,X,rt,ht){lo(D,z,X,rt,ht),rt[ht+3]=255}function Nl(D,z,X,rt,ht){Nr(D,z,X,rt,ht),rt[ht+3]=255}function ca(D,z){return 0>D?0:D>z?z:D}function Ur(D,z,X){L[D]=function(rt,ht,pt,vt,_t,xt,It,Bt,Xt){for(var Zt=Bt+(-2&Xt)*X;Bt!=Zt;)z(rt[ht+0],pt[vt+0],_t[xt+0],It,Bt),z(rt[ht+1],pt[vt+0],_t[xt+0],It,Bt+X),ht+=2,++vt,++xt,Bt+=2*X;1&Xt&&z(rt[ht+0],pt[vt+0],_t[xt+0],It,Bt)}}function wb(D,z,X){return X==0?D==0?z==0?6:5:z==0?4:0:X}function dg(D,z,X,rt,ht){switch(D>>>30){case 3:pd(z,X,rt,ht,0);break;case 2:go(z,X,rt,ht);break;case 1:Gs(z,X,rt,ht)}}function Kf(D,z){var X,rt,ht=z.M,pt=z.Nb,vt=D.oc,_t=D.pc+40,xt=D.oc,It=D.pc+584,Bt=D.oc,Xt=D.pc+600;for(X=0;16>X;++X)vt[_t+32*X-1]=129;for(X=0;8>X;++X)xt[It+32*X-1]=129,Bt[Xt+32*X-1]=129;for(0<ht?vt[_t-1-32]=xt[It-1-32]=Bt[Xt-1-32]=129:(n(vt,_t-32-1,127,21),n(xt,It-32-1,127,9),n(Bt,Xt-32-1,127,9)),rt=0;rt<D.za;++rt){var Zt=z.ya[z.aa+rt];if(0<rt){for(X=-1;16>X;++X)i(vt,_t+32*X-4,vt,_t+32*X+12,4);for(X=-1;8>X;++X)i(xt,It+32*X-4,xt,It+32*X+4,4),i(Bt,Xt+32*X-4,Bt,Xt+32*X+4,4)}var Yt=D.Gd,me=D.Hd+rt,ce=Zt.ad,jt=Zt.Hc;if(0<ht&&(i(vt,_t-32,Yt[me].y,0,16),i(xt,It-32,Yt[me].f,0,8),i(Bt,Xt-32,Yt[me].ea,0,8)),Zt.Za){var zt=vt,ge=_t-32+16;for(0<ht&&(rt>=D.za-1?n(zt,ge,Yt[me].y[15],4):i(zt,ge,Yt[me+1].y,0,4)),X=0;4>X;X++)zt[ge+128+X]=zt[ge+256+X]=zt[ge+384+X]=zt[ge+0+X];for(X=0;16>X;++X,jt<<=2)zt=vt,ge=_t+RR[X],Ll[Zt.Ob[X]](zt,ge),dg(jt,ce,16*+X,zt,ge)}else if(zt=wb(rt,ht,Zt.Ob[0]),Cu[zt](vt,_t),jt!=0)for(X=0;16>X;++X,jt<<=2)dg(jt,ce,16*+X,vt,_t+RR[X]);for(X=Zt.Gc,zt=wb(rt,ht,Zt.Dd),bd[zt](xt,It),bd[zt](Bt,Xt),jt=ce,zt=xt,ge=It,255&(Zt=X>>0)&&(170&Zt?fg(jt,256,zt,ge):bo(jt,256,zt,ge)),Zt=Bt,jt=Xt,255&(X>>=8)&&(170&X?fg(ce,320,Zt,jt):bo(ce,320,Zt,jt)),ht<D.Ub-1&&(i(Yt[me].y,0,vt,_t+480,16),i(Yt[me].f,0,xt,It+224,8),i(Yt[me].ea,0,Bt,Xt+224,8)),X=8*pt*D.B,Yt=D.sa,me=D.ta+16*rt+16*pt*D.R,ce=D.qa,Zt=D.ra+8*rt+X,jt=D.Ha,zt=D.Ia+8*rt+X,X=0;16>X;++X)i(Yt,me+X*D.R,vt,_t+32*X,16);for(X=0;8>X;++X)i(ce,Zt+X*D.B,xt,It+32*X,8),i(jt,zt+X*D.B,Bt,Xt+32*X,8)}}function Xf(D,z,X,rt,ht,pt,vt,_t,xt){var It=[0],Bt=[0],Xt=0,Zt=xt!=null?xt.kd:0,Yt=xt??new ag;if(D==null||12>X)return 7;Yt.data=D,Yt.w=z,Yt.ha=X,z=[z],X=[X],Yt.gb=[Yt.gb];t:{var me=z,ce=X,jt=Yt.gb;if(t(D!=null),t(ce!=null),t(jt!=null),jt[0]=0,12<=ce[0]&&!r(D,me[0],"RIFF")){if(r(D,me[0]+8,"WEBP")){jt=3;break t}var zt=Et(D,me[0]+4);if(12>zt||4294967286<zt){jt=3;break t}if(Zt&&zt>ce[0]-8){jt=7;break t}jt[0]=zt,me[0]+=12,ce[0]-=12}jt=0}if(jt!=0)return jt;for(zt=0<Yt.gb[0],X=X[0];;){t:{var ge=D;ce=z,jt=X;var Ce=It,ve=Bt,ii=me=[0];if((Be=Xt=[Xt])[0]=0,8>jt[0])jt=7;else{if(!r(ge,ce[0],"VP8X")){if(Et(ge,ce[0]+4)!=10){jt=3;break t}if(18>jt[0]){jt=7;break t}var Ve=Et(ge,ce[0]+8),Fi=1+et(ge,ce[0]+12);if(2147483648<=Fi*(ge=1+et(ge,ce[0]+15))){jt=3;break t}ii!=null&&(ii[0]=Ve),Ce!=null&&(Ce[0]=Fi),ve!=null&&(ve[0]=ge),ce[0]+=18,jt[0]-=18,Be[0]=1}jt=0}}if(Xt=Xt[0],me=me[0],jt!=0)return jt;if(ce=!!(2&me),!zt&&Xt)return 3;if(pt!=null&&(pt[0]=!!(16&me)),vt!=null&&(vt[0]=ce),_t!=null&&(_t[0]=0),vt=It[0],me=Bt[0],Xt&&ce&&xt==null){jt=0;break}if(4>X){jt=7;break}if(zt&&Xt||!zt&&!Xt&&!r(D,z[0],"ALPH")){X=[X],Yt.na=[Yt.na],Yt.P=[Yt.P],Yt.Sa=[Yt.Sa];t:{Ve=D,jt=z,zt=X;var Be=Yt.gb;Ce=Yt.na,ve=Yt.P,ii=Yt.Sa,Fi=22,t(Ve!=null),t(zt!=null),ge=jt[0];var Zr=zt[0];for(t(Ce!=null),t(ii!=null),Ce[0]=null,ve[0]=null,ii[0]=0;;){if(jt[0]=ge,zt[0]=Zr,8>Zr){jt=7;break t}var an=Et(Ve,ge+4);if(4294967286<an){jt=3;break t}var $r=8+an+1&-2;if(Fi+=$r,0<Be&&Fi>Be){jt=3;break t}if(!r(Ve,ge,"VP8 ")||!r(Ve,ge,"VP8L")){jt=0;break t}if(Zr[0]<$r){jt=7;break t}r(Ve,ge,"ALPH")||(Ce[0]=Ve,ve[0]=ge+8,ii[0]=an),ge+=$r,Zr-=$r}}if(X=X[0],Yt.na=Yt.na[0],Yt.P=Yt.P[0],Yt.Sa=Yt.Sa[0],jt!=0)break}X=[X],Yt.Ja=[Yt.Ja],Yt.xa=[Yt.xa];t:if(Be=D,jt=z,zt=X,Ce=Yt.gb[0],ve=Yt.Ja,ii=Yt.xa,Ve=jt[0],ge=!r(Be,Ve,"VP8 "),Fi=!r(Be,Ve,"VP8L"),t(Be!=null),t(zt!=null),t(ve!=null),t(ii!=null),8>zt[0])jt=7;else{if(ge||Fi){if(Be=Et(Be,Ve+4),12<=Ce&&Be>Ce-12){jt=3;break t}if(Zt&&Be>zt[0]-8){jt=7;break t}ve[0]=Be,jt[0]+=8,zt[0]-=8,ii[0]=Fi}else ii[0]=5<=zt[0]&&Be[Ve+0]==47&&!(Be[Ve+4]>>5),ve[0]=zt[0];jt=0}if(X=X[0],Yt.Ja=Yt.Ja[0],Yt.xa=Yt.xa[0],z=z[0],jt!=0)break;if(4294967286<Yt.Ja)return 3;if(_t==null||ce||(_t[0]=Yt.xa?2:1),vt=[vt],me=[me],Yt.xa){if(5>X){jt=7;break}_t=vt,Zt=me,ce=pt,D==null||5>X?D=0:5<=X&&D[z+0]==47&&!(D[z+4]>>5)?(zt=[0],Be=[0],Ce=[0],S(ve=new T,D,z,X),he(ve,zt,Be,Ce)?(_t!=null&&(_t[0]=zt[0]),Zt!=null&&(Zt[0]=Be[0]),ce!=null&&(ce[0]=Ce[0]),D=1):D=0):D=0}else{if(10>X){jt=7;break}_t=me,D==null||10>X||!kr(D,z+3,X-3)?D=0:(Zt=D[z+0]|D[z+1]<<8|D[z+2]<<16,ce=16383&(D[z+7]<<8|D[z+6]),D=16383&(D[z+9]<<8|D[z+8]),1&Zt||3<(Zt>>1&7)||!(Zt>>4&1)||Zt>>5>=Yt.Ja||!ce||!D?D=0:(vt&&(vt[0]=ce),_t&&(_t[0]=D),D=1))}if(!D||(vt=vt[0],me=me[0],Xt&&(It[0]!=vt||Bt[0]!=me)))return 3;xt!=null&&(xt[0]=Yt,xt.offset=z-xt.w,t(4294967286>z-xt.w),t(xt.offset==xt.ha-X));break}return jt==0||jt==7&&Xt&&xt==null?(pt!=null&&(pt[0]|=Yt.na!=null&&0<Yt.na.length),rt!=null&&(rt[0]=vt),ht!=null&&(ht[0]=me),0):jt}function ug(D,z,X){var rt=z.width,ht=z.height,pt=0,vt=0,_t=rt,xt=ht;if(z.Da=D!=null&&0<D.Da,z.Da&&(_t=D.cd,xt=D.bd,pt=D.v,vt=D.j,11>X||(pt&=-2,vt&=-2),0>pt||0>vt||0>=_t||0>=xt||pt+_t>rt||vt+xt>ht))return 0;if(z.v=pt,z.j=vt,z.va=pt+_t,z.o=vt+xt,z.U=_t,z.T=xt,z.da=D!=null&&0<D.da,z.da){if(!Ct(_t,xt,X=[D.ib],pt=[D.hb]))return 0;z.ib=X[0],z.hb=pt[0]}return z.ob=D!=null&&D.ob,z.Kb=D==null||!D.Sd,z.da&&(z.ob=z.ib<3*rt/4&&z.hb<3*ht/4,z.Kb=0),1}function hg(D){if(D==null)return 2;if(11>D.S){var z=D.f.RGBA;z.fb+=(D.height-1)*z.A,z.A=-z.A}else z=D.f.kb,D=D.height,z.O+=(D-1)*z.fa,z.fa=-z.fa,z.N+=(D-1>>1)*z.Ab,z.Ab=-z.Ab,z.W+=(D-1>>1)*z.Db,z.Db=-z.Db,z.F!=null&&(z.J+=(D-1)*z.lb,z.lb=-z.lb);return 0}function vc(D,z,X,rt){if(rt==null||0>=D||0>=z)return 2;if(X!=null){if(X.Da){var ht=X.cd,pt=X.bd,vt=-2&X.v,_t=-2&X.j;if(0>vt||0>_t||0>=ht||0>=pt||vt+ht>D||_t+pt>z)return 2;D=ht,z=pt}if(X.da){if(!Ct(D,z,ht=[X.ib],pt=[X.hb]))return 2;D=ht[0],z=pt[0]}}rt.width=D,rt.height=z;t:{var xt=rt.width,It=rt.height;if(D=rt.S,0>=xt||0>=It||!(D>=Eb&&13>D))D=2;else{if(0>=rt.Rd&&rt.sd==null){vt=pt=ht=z=0;var Bt=(_t=xt*MR[D])*It;if(11>D||(pt=(It+1)/2*(z=(xt+1)/2),D==12&&(vt=(ht=xt)*It)),(It=o(Bt+2*pt+vt))==null){D=1;break t}rt.sd=It,11>D?((xt=rt.f.RGBA).eb=It,xt.fb=0,xt.A=_t,xt.size=Bt):((xt=rt.f.kb).y=It,xt.O=0,xt.fa=_t,xt.Fd=Bt,xt.f=It,xt.N=0+Bt,xt.Ab=z,xt.Cd=pt,xt.ea=It,xt.W=0+Bt+pt,xt.Db=z,xt.Ed=pt,D==12&&(xt.F=It,xt.J=0+Bt+2*pt),xt.Tc=vt,xt.lb=ht)}if(z=1,ht=rt.S,pt=rt.width,vt=rt.height,ht>=Eb&&13>ht)if(11>ht)D=rt.f.RGBA,z&=(_t=Math.abs(D.A))*(vt-1)+pt<=D.size,z&=_t>=pt*MR[ht],z&=D.eb!=null;else{D=rt.f.kb,_t=(pt+1)/2,Bt=(vt+1)/2,xt=Math.abs(D.fa),It=Math.abs(D.Ab);var Xt=Math.abs(D.Db),Zt=Math.abs(D.lb),Yt=Zt*(vt-1)+pt;z&=xt*(vt-1)+pt<=D.Fd,z&=It*(Bt-1)+_t<=D.Cd,z=(z&=Xt*(Bt-1)+_t<=D.Ed)&xt>=pt&It>=_t&Xt>=_t,z&=D.y!=null,z&=D.f!=null,z&=D.ea!=null,ht==12&&(z&=Zt>=pt,z&=Yt<=D.Tc,z&=D.F!=null)}else z=0;D=z?0:2}}return D!=0||X!=null&&X.fd&&(D=hg(rt)),D}var fs=64,Zf=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Qf=24,hd=32,fu=8,Rs=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ct("Predictor0","PredictorAdd0"),L.Predictor0=function(){return 4278190080},L.Predictor1=function(D){return D},L.Predictor2=function(D,z,X){return z[X+0]},L.Predictor3=function(D,z,X){return z[X+1]},L.Predictor4=function(D,z,X){return z[X-1]},L.Predictor5=function(D,z,X){return bt(bt(D,z[X+1]),z[X+0])},L.Predictor6=function(D,z,X){return bt(D,z[X-1])},L.Predictor7=function(D,z,X){return bt(D,z[X+0])},L.Predictor8=function(D,z,X){return bt(z[X-1],z[X+0])},L.Predictor9=function(D,z,X){return bt(z[X+0],z[X+1])},L.Predictor10=function(D,z,X){return bt(bt(D,z[X-1]),bt(z[X+0],z[X+1]))},L.Predictor11=function(D,z,X){var rt=z[X+0];return 0>=At(rt>>24&255,D>>24&255,(z=z[X-1])>>24&255)+At(rt>>16&255,D>>16&255,z>>16&255)+At(rt>>8&255,D>>8&255,z>>8&255)+At(255&rt,255&D,255&z)?rt:D},L.Predictor12=function(D,z,X){var rt=z[X+0];return(St((D>>24&255)+(rt>>24&255)-((z=z[X-1])>>24&255))<<24|St((D>>16&255)+(rt>>16&255)-(z>>16&255))<<16|St((D>>8&255)+(rt>>8&255)-(z>>8&255))<<8|St((255&D)+(255&rt)-(255&z)))>>>0},L.Predictor13=function(D,z,X){var rt=z[X-1];return(wt((D=bt(D,z[X+0]))>>24&255,rt>>24&255)<<24|wt(D>>16&255,rt>>16&255)<<16|wt(D>>8&255,rt>>8&255)<<8|wt(D>>0&255,rt>>0&255))>>>0};var C1=L.PredictorAdd0;L.PredictorAdd1=kt,ct("Predictor2","PredictorAdd2"),ct("Predictor3","PredictorAdd3"),ct("Predictor4","PredictorAdd4"),ct("Predictor5","PredictorAdd5"),ct("Predictor6","PredictorAdd6"),ct("Predictor7","PredictorAdd7"),ct("Predictor8","PredictorAdd8"),ct("Predictor9","PredictorAdd9"),ct("Predictor10","PredictorAdd10"),ct("Predictor11","PredictorAdd11"),ct("Predictor12","PredictorAdd12"),ct("Predictor13","PredictorAdd13");var Jf=L.PredictorAdd2;qt("ColorIndexInverseTransform","MapARGB","32b",function(D){return D>>8&255},function(D){return D}),qt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(D){return D},function(D){return D>>8&255});var Cb,da=L.ColorIndexInverseTransform,mu=L.MapARGB,tm=L.VP8LColorIndexInverseTransformAlpha,xb=L.MapAlpha,pu=L.VP8LPredictorsAdd=[];pu.length=16,(L.VP8LPredictors=[]).length=16,(L.VP8LPredictorsAdd_C=[]).length=16,(L.VP8LPredictors_C=[]).length=16;var Ih,ua,$s,gu,fd,md,em,pd,go,fg,Gs,bo,il,mg,pg,bu,vu,yu,kh,Dh,Oh,_u,gg,rl,nl,Ln,Fn,Eo,$o=o(511),gd=o(2041),bg=o(225),im=o(767),Sb=0,x1=gd,Ph=bg,Fa=im,ol=$o,Eb=0,Rb=1,fR=2,Tb=3,Mb=4,S1=5,E1=6,Ab=7,Ib=8,Nh=9,wu=10,kb=[2,3,7],mR=[3,3,11],Lh=[280,256,256,256,40],pR=[0,1,1,1,0],gR=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],GD=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],KD=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],XD=8,R1=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],T1=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],vg=null,ZD=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],QD=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],bR=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],JD=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],tO=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],eO=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],iO=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Cu=[],Ll=[],bd=[],rO=1,vR=2,xu=[],sl=[];ue("UpsampleRgbLinePair",Nr,3),ue("UpsampleBgrLinePair",lo,3),ue("UpsampleRgbaLinePair",Nl,4),ue("UpsampleBgraLinePair",qo,4),ue("UpsampleArgbLinePair",Es,4),ue("UpsampleRgba4444LinePair",Po,2),ue("UpsampleRgb565LinePair",po,2);var nO=L.UpsampleRgbLinePair,oO=L.UpsampleBgrLinePair,Db=L.UpsampleRgbaLinePair,yR=L.UpsampleBgraLinePair,_R=L.UpsampleArgbLinePair,wR=L.UpsampleRgba4444LinePair,M1=L.UpsampleRgb565LinePair,Fh=16,Ob=1<<Fh-1,yg=-227,A1=482,CR=6,sO=(256<<CR)-1,xR=0,SR=o(256),aO=o(256),lO=o(256),ER=o(256),cO=o(A1-yg),dO=o(A1-yg);Ur("YuvToRgbRow",Nr,3),Ur("YuvToBgrRow",lo,3),Ur("YuvToRgbaRow",Nl,4),Ur("YuvToBgraRow",qo,4),Ur("YuvToArgbRow",Es,4),Ur("YuvToRgba4444Row",Po,2),Ur("YuvToRgb565Row",po,2);var RR=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Fl=[0,2,8],TR=[8,7,6,4,4,2,2,2,1,1,1,1],uO=1;this.WebPDecodeRGBA=function(D,z,X,rt,ht){var pt=Rb,vt=new du,_t=new ei;vt.ba=_t,_t.S=pt,_t.width=[_t.width],_t.height=[_t.height];var xt=_t.width,It=_t.height,Bt=new fi;if(Bt==null||D==null)var Xt=2;else t(Bt!=null),Xt=Xf(D,z,X,Bt.width,Bt.height,Bt.Pd,Bt.Qd,Bt.format,null);if(Xt!=0?xt=0:(xt!=null&&(xt[0]=Bt.width[0]),It!=null&&(It[0]=Bt.height[0]),xt=1),xt){_t.width=_t.width[0],_t.height=_t.height[0],rt!=null&&(rt[0]=_t.width),ht!=null&&(ht[0]=_t.height);t:{if(rt=new Li,(ht=new ag).data=D,ht.w=z,ht.ha=X,ht.kd=1,z=[0],t(ht!=null),((D=Xf(ht.data,ht.w,ht.ha,null,null,null,z,null,ht))==0||D==7)&&z[0]&&(D=4),(z=D)==0){if(t(vt!=null),rt.data=ht.data,rt.w=ht.w+ht.offset,rt.ha=ht.ha-ht.offset,rt.put=Te,rt.ac=Ye,rt.bc=Jn,rt.ma=vt,ht.xa){if((D=Ti())==null){vt=1;break t}if(function(Zt,Yt){var me=[0],ce=[0],jt=[0];e:for(;;){if(Zt==null)return 0;if(Yt==null)return Zt.a=2,0;if(Zt.l=Yt,Zt.a=0,S(Zt.m,Yt.data,Yt.w,Yt.ha),!he(Zt.m,me,ce,jt)){Zt.a=3;break e}if(Zt.xb=vR,Yt.width=me[0],Yt.height=ce[0],!yr(me[0],ce[0],1,Zt,null))break e;return 1}return t(Zt.a!=0),0}(D,rt)){if(rt=(z=vc(rt.width,rt.height,vt.Oa,vt.ba))==0){e:{rt=D;i:for(;;){if(rt==null){rt=0;break e}if(t(rt.s.yc!=null),t(rt.s.Ya!=null),t(0<rt.s.Wb),t((X=rt.l)!=null),t((ht=X.ma)!=null),rt.xb!=0){if(rt.ca=ht.ba,rt.tb=ht.tb,t(rt.ca!=null),!ug(ht.Oa,X,Tb)){rt.a=2;break i}if(!rn(rt,X.width)||X.da)break i;if((X.da||Ae(rt.ca.S))&&$t(),11>rt.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),rt.ca.f.kb.F!=null&&$t()),rt.Pb&&0<rt.s.ua&&rt.s.vb.X==null&&!Rt(rt.s.vb,rt.s.Wa.Xa)){rt.a=1;break i}rt.xb=0}if(!ar(rt,rt.V,rt.Ba,rt.c,rt.i,X.o,ke))break i;ht.Dc=rt.Ma,rt=1;break e}t(rt.a!=0),rt=0}rt=!rt}rt&&(z=D.a)}else z=D.a}else{if((D=new Nn)==null){vt=1;break t}if(D.Fa=ht.na,D.P=ht.P,D.qc=ht.Sa,zr(D,rt)){if((z=vc(rt.width,rt.height,vt.Oa,vt.ba))==0){if(D.Aa=0,X=vt.Oa,t((ht=D)!=null),X!=null){if(0<(xt=0>(xt=X.Md)?0:100<xt?255:255*xt/100)){for(It=Bt=0;4>It;++It)12>(Xt=ht.pb[It]).lc&&(Xt.ia=xt*TR[0>Xt.lc?0:Xt.lc]>>3),Bt|=Xt.ia;Bt&&(alert("todo:VP8InitRandom"),ht.ia=1)}ht.Ga=X.Id,100<ht.Ga?ht.Ga=100:0>ht.Ga&&(ht.Ga=0)}Cs(D,rt)||(z=D.a)}}else z=D.a}z==0&&vt.Oa!=null&&vt.Oa.fd&&(z=hg(vt.ba))}vt=z}pt=vt!=0?null:11>pt?_t.f.RGBA.eb:_t.f.kb.y}else pt=null;return pt};var MR=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(L,$){for(var W="",x=0;x<4;x++)W+=String.fromCharCode(L[$++]);return W}function d(L,$){return(L[$+0]<<0|L[$+1]<<8|L[$+2]<<16)>>>0}function u(L,$){return(L[$+0]<<0|L[$+1]<<8|L[$+2]<<16|L[$+3]<<24)>>>0}new l;var h=[0],f=[0],m=[],g=new l,p=e,b=function(L,$){var W={},x=0,R=!1,B=0,v=0;if(W.frames=[],!function(j,I,q,A){for(var k=0;k<A;k++)if(j[I+k]!=q.charCodeAt(k))return!0;return!1}(L,$,"RIFF",4)){var y,C;for(u(L,$+=4),$+=8;$<L.length;){var w=c(L,$),S=u(L,$+=4);$+=4;var M=S+(1&S);switch(w){case"VP8 ":case"VP8L":W.frames[x]===void 0&&(W.frames[x]={}),(T=W.frames[x]).src_off=R?v:$-8,T.src_size=B+S+8,x++,R&&(R=!1,B=0,v=0);break;case"VP8X":(T=W.header={}).feature_flags=L[$];var U=$+4;T.canvas_width=1+d(L,U),U+=3,T.canvas_height=1+d(L,U),U+=3;break;case"ALPH":R=!0,B=M+8,v=$-8;break;case"ANIM":(T=W.header).bgcolor=u(L,$),U=$+4,T.loop_count=(y=L)[(C=U)+0]<<0|y[C+1]<<8,U+=2;break;case"ANMF":var N,T;(T=W.frames[x]={}).offset_x=2*d(L,$),$+=3,T.offset_y=2*d(L,$),$+=3,T.width=1+d(L,$),$+=3,T.height=1+d(L,$),$+=3,T.duration=d(L,$),$+=3,N=L[$++],T.dispose=1&N,T.blend=N>>1&1}w!="ANMF"&&($+=M)}return W}}(p,0);b.response=p,b.rgbaoutput=!0,b.dataurl=!1;var _=b.header?b.header:null,E=b.frames?b.frames:null;if(_){_.loop_counter=_.loop_count,h=[_.canvas_height],f=[_.canvas_width];for(var O=0;O<E.length&&E[O].blend!=0;O++);}var V=E[0],H=g.WebPDecodeRGBA(p,V.src_off,V.src_size,f,h);V.rgba=H,V.imgwidth=f[0],V.imgheight=h[0];for(var F=0;F<f[0]*h[0]*4;F++)m[F]=H[F];return this.width=f,this.height=h,this.data=m,this}(function(e){var t=function(){return typeof OD=="function"},r=function(h,f,m,g){var p=4,b=s;switch(g){case e.image_compression.FAST:p=1,b=o;break;case e.image_compression.MEDIUM:p=6,b=a;break;case e.image_compression.SLOW:p=9,b=l}h=i(h,f,m,b);var _=OD(h,{level:p});return e.__addimage__.arrayBufferToBinaryString(_)},i=function(h,f,m,g){for(var p,b,_,E=h.length/f,O=new Uint8Array(h.length+E),V=d(),H=0;H<E;H+=1){if(_=H*f,p=h.subarray(_,_+f),g)O.set(g(p,m,b),_+H);else{for(var F,L=V.length,$=[];F<L;F+=1)$[F]=V[F](p,m,b);var W=u($.concat());O.set($[W],_+H)}b=p}return O},n=function(h){var f=Array.apply([],h);return f.unshift(0),f},o=function(h,f){var m,g=[],p=h.length;g[0]=1;for(var b=0;b<p;b+=1)m=h[b-f]||0,g[b+1]=h[b]-m+256&255;return g},s=function(h,f,m){var g,p=[],b=h.length;p[0]=2;for(var _=0;_<b;_+=1)g=m&&m[_]||0,p[_+1]=h[_]-g+256&255;return p},a=function(h,f,m){var g,p,b=[],_=h.length;b[0]=3;for(var E=0;E<_;E+=1)g=h[E-f]||0,p=m&&m[E]||0,b[E+1]=h[E]+256-(g+p>>>1)&255;return b},l=function(h,f,m){var g,p,b,_,E=[],O=h.length;E[0]=4;for(var V=0;V<O;V+=1)g=h[V-f]||0,p=m&&m[V]||0,b=m&&m[V-f]||0,_=c(g,p,b),E[V+1]=h[V]-_+256&255;return E},c=function(h,f,m){if(h===f&&f===m)return h;var g=Math.abs(f-m),p=Math.abs(h-m),b=Math.abs(h+f-m-m);return g<=p&&g<=b?h:p<=b?f:m},d=function(){return[n,o,s,a,l]},u=function(h){var f=h.map(function(m){return m.reduce(function(g,p){return g+Math.abs(p)},0)});return f.indexOf(Math.min.apply(null,f))};e.processPNG=function(h,f,m,g){var p,b,_,E,O,V,H,F,L,$,W,x,R,B,v,y=this.decode.FLATE_DECODE,C="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(_=new UPt(h)).imgData,b=_.bits,p=_.colorSpace,O=_.colors,[4,6].indexOf(_.colorType)!==-1){if(_.bits===8){L=(F=_.pixelBitlength==32?new Uint32Array(_.decodePixels().buffer):_.pixelBitlength==16?new Uint16Array(_.decodePixels().buffer):new Uint8Array(_.decodePixels().buffer)).length,W=new Uint8Array(L*_.colors),$=new Uint8Array(L);var w,S=_.pixelBitlength-_.bits;for(B=0,v=0;B<L;B++){for(R=F[B],w=0;w<S;)W[v++]=R>>>w&255,w+=_.bits;$[B]=R>>>w&255}}if(_.bits===16){L=(F=new Uint32Array(_.decodePixels().buffer)).length,W=new Uint8Array(L*(32/_.pixelBitlength)*_.colors),$=new Uint8Array(L*(32/_.pixelBitlength)),x=_.colors>1,B=0,v=0;for(var M=0;B<L;)R=F[B++],W[v++]=R>>>0&255,x&&(W[v++]=R>>>16&255,R=F[B++],W[v++]=R>>>0&255),$[M++]=R>>>16&255;b=8}g!==e.image_compression.NONE&&t()?(h=r(W,_.width*_.colors,_.colors,g),H=r($,_.width,1,g)):(h=W,H=$,y=void 0)}if(_.colorType===3&&(p=this.color_spaces.INDEXED,V=_.palette,_.transparency.indexed)){var U=_.transparency.indexed,N=0;for(B=0,L=U.length;B<L;++B)N+=U[B];if((N/=255)===L-1&&U.indexOf(0)!==-1)E=[U.indexOf(0)];else if(N!==L){for(F=_.decodePixels(),$=new Uint8Array(F.length),B=0,L=F.length;B<L;B++)$[B]=U[F[B]];H=r($,_.width,1)}}var T=function(j){var I;switch(j){case e.image_compression.FAST:I=11;break;case e.image_compression.MEDIUM:I=13;break;case e.image_compression.SLOW:I=14;break;default:I=12}return I}(g);return y===this.decode.FLATE_DECODE&&(C="/Predictor "+T+" "),C+="/Colors "+O+" /BitsPerComponent "+b+" /Columns "+_.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(H&&this.__addimage__.isArrayBuffer(H)||this.__addimage__.isArrayBufferView(H))&&(H=this.__addimage__.arrayBufferToBinaryString(H)),{alias:m,data:h,index:f,filter:y,decodeParameters:C,transparency:E,palette:V,sMask:H,predictor:T,width:_.width,height:_.height,bitsPerComponent:b,colorSpace:p}}}})(qi.API),function(e){e.processGIF89A=function(t,r,i,n){var o=new WPt(t),s=o.width,a=o.height,l=[];o.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:a},d=new mH(100).encode(c,100);return e.processJPEG.call(this,d,r,i,n)},e.processGIF87A=e.processGIF89A}(qi.API),eu.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:n,green:i,blue:r,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},eu.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Qn.log("bit decode error:"+r)}},eu.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,n=0;n<t;n++)for(var o=this.datav.getUint8(this.pos++,!0),s=i*this.width*4+8*n*4,a=0;a<8&&8*n+a<this.width;a++){var l=this.palette[o>>7-a&1];this.data[s+4*a]=l.blue,this.data[s+4*a+1]=l.green,this.data[s+4*a+2]=l.red,this.data[s+4*a+3]=255}r!==0&&(this.pos+=4-r)}},eu.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,n=0;n<e;n++){var o=this.datav.getUint8(this.pos++,!0),s=i*this.width*4+2*n*4,a=o>>4,l=15&o,c=this.palette[a];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*n+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}t!==0&&(this.pos+=4-t)}},eu.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var n=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+4*i;if(n<this.palette.length){var s=this.palette[n];this.data[o]=s.red,this.data[o+1]=s.green,this.data[o+2]=s.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}e!==0&&(this.pos+=4-e)}},eu.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,n=0;n<this.width;n++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&t)/t*255|0,a=(o>>5&t)/t*255|0,l=(o>>10&t)/t*255|0,c=o>>15?255:0,d=i*this.width*4+4*n;this.data[d]=l,this.data[d+1]=a,this.data[d+2]=s,this.data[d+3]=c}this.pos+=e}},eu.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var n=this.bottom_up?i:this.height-1-i,o=0;o<this.width;o++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&t)/t*255|0,l=(s>>5&r)/r*255|0,c=(s>>11)/t*255|0,d=n*this.width*4+4*o;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=a,this.data[d+3]=255}this.pos+=e}},eu.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;this.data[s]=o,this.data[s+1]=n,this.data[s+2]=i,this.data[s+3]=255}this.pos+=this.width%4}},eu.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*r;this.data[a]=o,this.data[a+1]=n,this.data[a+2]=i,this.data[a+3]=s}},eu.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,i,n){var o=new eu(t,!1),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},c=new mH(100).encode(l,100);return e.processJPEG.call(this,c,r,i,n)}}(qi.API),Vot.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,i,n){var o=new Vot(t,!1),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},c=new mH(100).encode(l,100);return e.processJPEG.call(this,c,r,i,n)}}(qi.API),qi.API.processRGBA=function(e,t,r){for(var i=e.data,n=i.length,o=new Uint8Array(n/4*3),s=new Uint8Array(n/4),a=0,l=0,c=0;c<n;c+=4){var d=i[c],u=i[c+1],h=i[c+2],f=i[c+3];o[a++]=d,o[a++]=u,o[a++]=h,s[l++]=f}var m=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:m,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},qi.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},c1=qi.API,FD=c1.getCharWidthsArray=function(e,t){var r,i,n=(t=t||{}).font||this.internal.getFont(),o=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),a=t.widths?t.widths:n.metadata.Unicode.widths,l=a.fof?a.fof:1,c=t.kerning?t.kerning:n.metadata.Unicode.kerning,d=c.fof?c.fof:1,u=t.doKerning!==!1,h=0,f=e.length,m=0,g=a[0]||l,p=[];for(r=0;r<f;r++)i=e.charCodeAt(r),typeof n.metadata.widthOfString=="function"?p.push((n.metadata.widthOfGlyph(n.metadata.characterToGlyph(i))+s*(1e3/o)||0)/1e3):(h=u&&Bn(c[i])==="object"&&!isNaN(parseInt(c[i][m],10))?c[i][m]/d:0,p.push((a[i]||g)/l+h)),m=i;return p},Fot=c1.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),i=t.font||this.internal.getFont(),n=t.charSpace||this.internal.getCharSpace();return c1.processArabic&&(e=c1.processArabic(e)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(e,r,n)/r:FD.apply(this,arguments).reduce(function(o,s){return o+s},0)},Hot=function(e,t,r,i){for(var n=[],o=0,s=e.length,a=0;o!==s&&a+t[o]<r;)a+=t[o],o++;n.push(e.slice(0,o));var l=o;for(a=0;o!==s;)a+t[o]>i&&(n.push(e.slice(l,o)),a=0,l=o),a+=t[o],o++;return l!==o&&n.push(e.slice(l,o)),n},Bot=function(e,t,r){r||(r={});var i,n,o,s,a,l,c,d=[],u=[d],h=r.textIndent||0,f=0,m=0,g=e.split(" "),p=FD.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?g[0].length+2:r.lineIndent||0){var b=Array(l).join(" "),_=[];g.map(function(O){(O=O.split(/\s*\n/)).length>1?_=_.concat(O.map(function(V,H){return(H&&V.length?`
`:"")+V})):_.push(O[0])}),g=_,l=Fot.apply(this,[b,r])}for(o=0,s=g.length;o<s;o++){var E=0;if(i=g[o],l&&i[0]==`
`&&(i=i.substr(1),E=1),h+f+(m=(n=FD.apply(this,[i,r])).reduce(function(O,V){return O+V},0))>t||E){if(m>t){for(a=Hot.apply(this,[i,n,t-(h+f),t]),d.push(a.shift()),d=[a.pop()];a.length;)u.push([a.shift()]);m=n.slice(i.length-(d[0]?d[0].length:0)).reduce(function(O,V){return O+V},0)}else d=[i];u.push(d),h=m+l,f=p}else d.push(i),h+=f+m,f=p}return c=l?function(O,V){return(V?b:"")+O.join(" ")}:function(O){return O.join(" ")},u.map(c)},c1.splitTextToSize=function(e,t,r){var i,n=(r=r||{}).fontSize||this.internal.getFontSize(),o=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var u=this.internal.getFont(d.fontName,d.fontStyle);return u.metadata.Unicode?{widths:u.metadata.Unicode.widths||{0:1},kerning:u.metadata.Unicode.kerning||{}}:{font:u.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);i=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/n;o.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/n:0,o.lineIndent=r.lineIndent;var a,l,c=[];for(a=0,l=i.length;a<l;a++)c=c.concat(Bot.apply(this,[i[a],s,o]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},i={},n=0;n<t.length;n++)r[t[n]]="0123456789abcdef"[n],i["0123456789abcdef"[n]]=t[n];var o=function(u){return"0x"+parseInt(u,10).toString(16)},s=e.__fontmetrics__.compress=function(u){var h,f,m,g,p=["{"];for(var b in u){if(h=u[b],isNaN(parseInt(b,10))?f="'"+b+"'":(b=parseInt(b,10),f=(f=o(b).slice(2)).slice(0,-1)+i[f.slice(-1)]),typeof h=="number")h<0?(m=o(h).slice(3),g="-"):(m=o(h).slice(2),g=""),m=g+m.slice(0,-1)+i[m.slice(-1)];else{if(Bn(h)!=="object")throw new Error("Don't know what to do with value type "+Bn(h)+".");m=s(h)}p.push(f+m)}return p.push("}"),p.join("")},a=e.__fontmetrics__.uncompress=function(u){if(typeof u!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,f,m,g,p={},b=1,_=p,E=[],O="",V="",H=u.length-1,F=1;F<H;F+=1)(g=u[F])=="'"?h?(m=h.join(""),h=void 0):h=[]:h?h.push(g):g=="{"?(E.push([_,m]),_={},m=void 0):g=="}"?((f=E.pop())[0][f[1]]=_,m=void 0,_=f[0]):g=="-"?b=-1:m===void 0?r.hasOwnProperty(g)?(O+=r[g],m=parseInt(O,16)*b,b=1,O=""):O+=g:r.hasOwnProperty(g)?(V+=r[g],_[m]=parseInt(V,16)*b,b=1,m=void 0,V=""):V+=g;return p},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},d={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(u){var h=u.font,f=d.Unicode[h.postScriptName];f&&(h.metadata.Unicode={},h.metadata.Unicode.widths=f.widths,h.metadata.Unicode.kerning=f.kerning);var m=c.Unicode[h.postScriptName];m&&(h.metadata.Unicode.encoding=m,h.encoding=m.codePages[0])}])}(qi.API),function(e){var t=function(r){for(var i=r.length,n=new Uint8Array(i),o=0;o<i;o++)n[o]=r.charCodeAt(o);return n};e.API.events.push(["addFont",function(r){var i=void 0,n=r.font,o=r.instance;if(!n.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");if(typeof(i=o.existsFileInVFS(n.postScriptName)===!1?o.loadFile(n.postScriptName):o.getFileFromVFS(n.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");(function(s,a){a=/^\x00\x01\x00\x00/.test(a)?t(a):t(dR(a)),s.metadata=e.API.TTFFont.open(a),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(n,i)}}])}(qi),function(e){function t(){return(Ki.canvg?Promise.resolve(Ki.canvg):import("./chunk-6RJFFXAX.js")).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}qi.API.addSvgAsImage=function(r,i,n,o,s,a,l,c){if(isNaN(i)||isNaN(n))throw Qn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(o)||isNaN(s))throw Qn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=o,d.height=s;var u=d.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,d.width,d.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return t().then(function(m){return m.fromString(u,r,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(h)}).then(function(){f.addImage(d.toDataURL("image/jpeg",1),i,n,o,s,l,c)})}}(),qi.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var n=0;n<this.internal.pages[i].length;n++)this.internal.pages[i][n]=this.internal.pages[i][n].replace(t,r);return this},qi.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var i,n,o,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(s),l=[],c=0,d=0,u=0;function h(m,g){var p,b=!1;for(p=0;p<m.length;p+=1)m[p]===g&&(b=!0);return b}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var f=a.length;for(u=0;u<f;u+=1)r[a[u]].value=r[a[u]].defaultValue,r[a[u]].explicitSet=!1}if(Bn(e)==="object"){for(n in e)if(o=e[n],h(a,n)&&o!==void 0){if(r[n].type==="boolean"&&typeof o=="boolean")r[n].value=o;else if(r[n].type==="name"&&h(r[n].valueSet,o))r[n].value=o;else if(r[n].type==="integer"&&Number.isInteger(o))r[n].value=o;else if(r[n].type==="array"){for(c=0;c<o.length;c+=1)if(i=!0,o[c].length===1&&typeof o[c][0]=="number")l.push(String(o[c]-1));else if(o[c].length>1){for(d=0;d<o[c].length;d+=1)typeof o[c][d]!="number"&&(i=!1);i===!0&&l.push([o[c][0]-1,o[c][1]-1].join(" "))}r[n].value="["+l.join(" ")+"]"}else r[n].value=r[n].defaultValue;r[n].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var m,g=[];for(m in r)r[m].explicitSet===!0&&(r[m].type==="name"?g.push("/"+m+" /"+r[m].value):g.push("/"+m+" "+r[m].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',n=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(i)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=o.length+s.length+a.length+n.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(n+o+s+a+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(i,n){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:n||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(qi.API),function(e){var t=e.API,r=t.pdfEscape16=function(o,s){for(var a,l=s.metadata.Unicode.widths,c=["","0","00","000","0000"],d=[""],u=0,h=o.length;u<h;++u){if(a=s.metadata.characterToGlyph(o.charCodeAt(u)),s.metadata.glyIdsUsed.push(a),s.metadata.toUnicode[a]=o.charCodeAt(u),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(s.metadata.widthOfGlyph(a),10)])),a=="0")return d.join("");a=a.toString(16),d.push(c[4-a.length],a)}return d.join("")},i=function(o){var s,a,l,c,d,u,h;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],u=0,h=(a=Object.keys(o).sort(function(f,m){return f-m})).length;u<h;u++)s=a[u],l.length>=100&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),o[s]!==void 0&&o[s]!==null&&typeof o[s].toString=="function"&&(c=("0000"+o[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+c+">"));return l.length&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(o){(function(s){var a=s.font,l=s.out,c=s.newObject,d=s.putStream;if(a.metadata instanceof e.API.TTFFont&&a.encoding==="Identity-H"){for(var u=a.metadata.Unicode.widths,h=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),f="",m=0;m<h.length;m++)f+=String.fromCharCode(h[m]);var g=c();d({data:f,addLength1:!0,objectId:g}),l("endobj");var p=c();d({data:i(a.metadata.toUnicode),addLength1:!0,objectId:p}),l("endobj");var b=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+u1(a.fontName)),l("/FontFile2 "+g+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var _=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+u1(a.fontName)),l("/FontDescriptor "+b+" 0 R"),l("/W "+e.API.PDFObject.convert(u)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+p+" 0 R"),l("/BaseFont /"+u1(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+_+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(o)}]),t.events.push(["putFont",function(o){(function(s){var a=s.font,l=s.out,c=s.newObject,d=s.putStream;if(a.metadata instanceof e.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var u=a.metadata.rawData,h="",f=0;f<u.length;f++)h+=String.fromCharCode(u[f]);var m=c();d({data:h,addLength1:!0,objectId:m}),l("endobj");var g=c();d({data:i(a.metadata.toUnicode),addLength1:!0,objectId:g}),l("endobj");var p=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+m+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+u1(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var b=0;b<a.metadata.hmtx.widths.length;b++)a.metadata.hmtx.widths[b]=parseInt(a.metadata.hmtx.widths[b]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+u1(a.fontName)+"/FontDescriptor "+p+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(o)}]);var n=function(o){var s,a=o.text||"",l=o.x,c=o.y,d=o.options||{},u=o.mutex||{},h=u.pdfEscape,f=u.activeFontKey,m=u.fonts,g=f,p="",b=0,_="",E=m[g].encoding;if(m[g].encoding!=="Identity-H")return{text:a,x:l,y:c,options:d,mutex:u};for(_=a,g=f,Array.isArray(a)&&(_=a[0]),b=0;b<_.length;b+=1)m[g].metadata.hasOwnProperty("cmap")&&(s=m[g].metadata.cmap.unicode.codeMap[_[b].charCodeAt(0)]),s||_[b].charCodeAt(0)<256&&m[g].metadata.hasOwnProperty("Unicode")?p+=_[b]:p+="";var O="";return parseInt(g.slice(1))<14||E==="WinAnsiEncoding"?O=h(p,g).split("").map(function(V){return V.charCodeAt(0).toString(16)}).join(""):E==="Identity-H"&&(O=r(p,m[g])),u.isHex=!0,{text:O,x:l,y:c,options:d,mutex:u}};t.events.push(["postProcessText",function(o){var s=o.text||"",a=[],l={text:s,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&s[c].length===3?a.push([n(Object.assign({},l,{text:s[c][0]})).text,s[c][1],s[c][2]]):a.push(n(Object.assign({},l,{text:s[c]})).text);o.text=a}else o.text=n(Object.assign({},l,{text:s})).text}])}(qi),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,i){return t.call(this),this.internal.vFS[r]=i,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(qi.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(i){var n,o,s,a,l,c,d,u=t,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],m={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},p=["(",")","(","<",">","<","[","]","[","{","}","{","\xAB","\xBB","\xAB","\u2039","\u203A","\u2039","\u2045","\u2046","\u2045","\u207D","\u207E","\u207D","\u208D","\u208E","\u208D","\u2264","\u2265","\u2264","\u2329","\u232A","\u2329","\uFE59","\uFE5A","\uFE59","\uFE5B","\uFE5C","\uFE5B","\uFE5D","\uFE5E","\uFE5D","\uFE64","\uFE65","\uFE64"],b=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),_=!1,E=0;this.__bidiEngine__={};var O=function(x){var R=x.charCodeAt(),B=R>>8,v=g[B];return v!==void 0?u[256*v+(255&R)]:B===252||B===253?"AL":b.test(B)?"L":B===8?"R":"N"},V=function(x){for(var R,B=0;B<x.length;B++){if((R=O(x.charAt(B)))==="L")return!1;if(R==="R")return!0}return!1},H=function(x,R,B,v){var y,C,w,S,M=R[v];switch(M){case"L":case"R":_=!1;break;case"N":case"AN":break;case"EN":_&&(M="AN");break;case"AL":_=!0,M="R";break;case"WS":M="N";break;case"CS":v<1||v+1>=R.length||(y=B[v-1])!=="EN"&&y!=="AN"||(C=R[v+1])!=="EN"&&C!=="AN"?M="N":_&&(C="AN"),M=C===y?C:"N";break;case"ES":M=(y=v>0?B[v-1]:"B")==="EN"&&v+1<R.length&&R[v+1]==="EN"?"EN":"N";break;case"ET":if(v>0&&B[v-1]==="EN"){M="EN";break}if(_){M="N";break}for(w=v+1,S=R.length;w<S&&R[w]==="ET";)w++;M=w<S&&R[w]==="EN"?"EN":"N";break;case"NSM":if(s&&!a){for(S=R.length,w=v+1;w<S&&R[w]==="NSM";)w++;if(w<S){var U=x[v],N=U>=1425&&U<=2303||U===64286;if(y=R[w],N&&(y==="R"||y==="AL")){M="R";break}}}M=v<1||(y=R[v-1])==="B"?"N":B[v-1];break;case"B":_=!1,n=!0,M=E;break;case"S":o=!0,M="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":_=!1;break;case"BN":M="N"}return M},F=function(x,R,B){var v=x.split("");return B&&L(v,B,{hiLevel:E}),v.reverse(),R&&R.reverse(),v.join("")},L=function(x,R,B){var v,y,C,w,S,M=-1,U=x.length,N=0,T=[],j=E?f:h,I=[];for(_=!1,n=!1,o=!1,y=0;y<U;y++)I[y]=O(x[y]);for(C=0;C<U;C++){if(S=N,T[C]=H(x,I,T,C),v=240&(N=j[S][m[T[C]]]),N&=15,R[C]=w=j[N][5],v>0)if(v===16){for(y=M;y<C;y++)R[y]=1;M=-1}else M=-1;if(j[N][6])M===-1&&(M=C);else if(M>-1){for(y=M;y<C;y++)R[y]=w;M=-1}I[C]==="B"&&(R[C]=0),B.hiLevel|=w}o&&function(q,A,k){for(var Y=0;Y<k;Y++)if(q[Y]==="S"){A[Y]=E;for(var Z=Y-1;Z>=0&&q[Z]==="WS";Z--)A[Z]=E}}(I,R,U)},$=function(x,R,B,v,y){if(!(y.hiLevel<x)){if(x===1&&E===1&&!n)return R.reverse(),void(B&&B.reverse());for(var C,w,S,M,U=R.length,N=0;N<U;){if(v[N]>=x){for(S=N+1;S<U&&v[S]>=x;)S++;for(M=N,w=S-1;M<w;M++,w--)C=R[M],R[M]=R[w],R[w]=C,B&&(C=B[M],B[M]=B[w],B[w]=C);N=S}N++}}},W=function(x,R,B){var v=x.split(""),y={hiLevel:E};return B||(B=[]),L(v,B,y),function(C,w,S){if(S.hiLevel!==0&&d)for(var M,U=0;U<C.length;U++)w[U]===1&&(M=p.indexOf(C[U]))>=0&&(C[U]=p[M+1])}(v,B,y),$(2,v,R,B,y),$(1,v,R,B,y),v.join("")};return this.__bidiEngine__.doBidiReorder=function(x,R,B){if(function(y,C){if(C)for(var w=0;w<y.length;w++)C[w]=w;a===void 0&&(a=V(y)),c===void 0&&(c=V(y))}(x,R),s||!l||c)if(s&&l&&a^c)E=a?1:0,x=F(x,R,B);else if(!s&&l&&c)E=a?1:0,x=W(x,R,B),x=F(x,R);else if(!s||a||l||c){if(s&&!l&&a^c)x=F(x,R),a?(E=0,x=W(x,R,B)):(E=1,x=W(x,R,B),x=F(x,R));else if(s&&a&&!l&&c)E=1,x=W(x,R,B),x=F(x,R);else if(!s&&!l&&a^c){var v=d;a?(E=1,x=W(x,R,B),E=0,d=!1,x=W(x,R,B),d=v):(E=0,x=W(x,R,B),x=F(x,R),E=1,d=!1,x=W(x,R,B),d=v,x=F(x,R))}}else E=0,x=W(x,R,B);else E=a?1:0,x=W(x,R,B);return x},this.__bidiEngine__.setOptions=function(x){x&&(s=x.isInputVisual,l=x.isOutputVisual,a=x.isInputRtl,c=x.isOutputRtl,d=x.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(i){var n=i.text,o=(i.x,i.y,i.options||{}),s=(i.mutex,o.lang,[]);if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,r.setOptions(o),Object.prototype.toString.call(n)==="[object Array]"){var a=0;for(s=[],a=0;a<n.length;a+=1)Object.prototype.toString.call(n[a])==="[object Array]"?s.push([r.doBidiReorder(n[a][0]),n[a][1],n[a][2]]):s.push([r.doBidiReorder(n[a])]);i.text=s}else i.text=r.doBidiReorder(n);r.setOptions({isInputVisual:!0})}])}(qi),qi.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new tg(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new oNt(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new YPt(this.contents),this.head=new $Pt(this),this.name=new QPt(this),this.cmap=new Jot(this),this.toUnicode={},this.hhea=new GPt(this),this.maxp=new JPt(this),this.hmtx=new tNt(this),this.post=new XPt(this),this.os2=new KPt(this),this.loca=new nNt(this),this.glyf=new eNt(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,i,n,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,a,l,c;for(c=[],s=0,a=(l=this.bbox).length;s<a;s++)t=l[s],c.push(Math.round(t*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(i=255&(n=this.post.italic_angle),32768&(r=n>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,i){var n,o,s,a;for(s=0,o=0,a=(t=""+t).length;0<=a?o<a:o>a;o=0<=a?++o:--o)n=t.charCodeAt(o),s+=this.widthOfGlyph(this.characterToGlyph(n))+i*(1e3/r)||0;return s*(r/1e3)},e.prototype.lineHeight=function(t,r){var i;return r==null&&(r=!1),i=r?this.lineGap:0,(this.ascender+i-this.decender)/1e3*t},e}();var ru,tg=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,i;for(i=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)i[r]=String.fromCharCode(this.readByte());return i.join("")},e.prototype.writeString=function(t){var r,i,n;for(n=[],r=0,i=t.length;0<=i?r<i:r>i;r=0<=i?++r:--r)n.push(this.writeByte(t.charCodeAt(r)));return n},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,i,n,o,s,a,l;return t=this.readByte(),r=this.readByte(),i=this.readByte(),n=this.readByte(),o=this.readByte(),s=this.readByte(),a=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^i)+4294967296*(255^n)+16777216*(255^o)+65536*(255^s)+256*(255^a)+(255^l)+1):72057594037927940*t+281474976710656*r+1099511627776*i+4294967296*n+16777216*o+65536*s+256*a+l},e.prototype.writeLongLong=function(t){var r,i;return r=Math.floor(t/4294967296),i=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,i;for(r=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)r.push(this.readByte());return r},e.prototype.write=function(t){var r,i,n,o;for(o=[],i=0,n=t.length;i<n;i++)r=t[i],o.push(this.writeByte(r));return o},e}(),YPt=function(){var e;function t(r){var i,n,o;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},n=0,o=this.tableCount;0<=o?n<o:n>o;n=0<=o?++n:--n)i={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[i.tag]=i}return t.prototype.encode=function(r){var i,n,o,s,a,l,c,d,u,h,f,m,g;for(g in f=Object.keys(r).length,l=Math.log(2),u=16*Math.floor(Math.log(f)/l),s=Math.floor(u/l),d=16*f-u,(n=new tg).writeInt(this.scalarType),n.writeShort(f),n.writeShort(u),n.writeShort(s),n.writeShort(d),o=16*f,c=n.pos+o,a=null,m=[],r)for(h=r[g],n.writeString(g),n.writeInt(e(h)),n.writeInt(c),n.writeInt(h.length),m=m.concat(h),g==="head"&&(a=c),c+=h.length;c%4;)m.push(0),c++;return n.write(m),i=2981146554-e(n.data),n.pos=a+8,n.writeUInt32(i),n.data},e=function(r){var i,n,o,s;for(r=tst.call(r);r.length%4;)r.push(0);for(o=new tg(r),n=0,i=0,s=r.length;i<s;i=i+=4)n+=o.readUInt32();return 4294967295&n},t}(),qPt={}.hasOwnProperty,Rh=function(e,t){for(var r in t)qPt.call(t,r)&&(e[r]=t[r]);function i(){this.constructor=e}return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};ru=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var $Pt=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Rh(t,ru),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var i;return(i=new tg).writeInt(this.version),i.writeInt(this.revision),i.writeInt(this.checkSumAdjustment),i.writeInt(this.magicNumber),i.writeShort(this.flags),i.writeShort(this.unitsPerEm),i.writeLongLong(this.created),i.writeLongLong(this.modified),i.writeShort(this.xMin),i.writeShort(this.yMin),i.writeShort(this.xMax),i.writeShort(this.yMax),i.writeShort(this.macStyle),i.writeShort(this.lowestRecPPEM),i.writeShort(this.fontDirectionHint),i.writeShort(r),i.writeShort(this.glyphDataFormat),i.data},t}(),zot=function(){function e(t,r){var i,n,o,s,a,l,c,d,u,h,f,m,g,p,b,_,E;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),u=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(f=t.readUInt16(),h=f/2,t.pos+=6,o=function(){var O,V;for(V=[],l=O=0;0<=h?O<h:O>h;l=0<=h?++O:--O)V.push(t.readUInt16());return V}(),t.pos+=2,g=function(){var O,V;for(V=[],l=O=0;0<=h?O<h:O>h;l=0<=h?++O:--O)V.push(t.readUInt16());return V}(),c=function(){var O,V;for(V=[],l=O=0;0<=h?O<h:O>h;l=0<=h?++O:--O)V.push(t.readUInt16());return V}(),d=function(){var O,V;for(V=[],l=O=0;0<=h?O<h:O>h;l=0<=h?++O:--O)V.push(t.readUInt16());return V}(),n=(this.length-t.pos+this.offset)/2,a=function(){var O,V;for(V=[],l=O=0;0<=n?O<n:O>n;l=0<=n?++O:--O)V.push(t.readUInt16());return V}(),l=b=0,E=o.length;b<E;l=++b)for(p=o[l],i=_=m=g[l];m<=p?_<=p:_>=p;i=m<=p?++_:--_)d[l]===0?s=i+c[l]:(s=a[d[l]/2+(i-m)-(h-l)]||0)!==0&&(s+=c[l]),this.codeMap[i]=65535&s}t.pos=u}return e.encode=function(t,r){var i,n,o,s,a,l,c,d,u,h,f,m,g,p,b,_,E,O,V,H,F,L,$,W,x,R,B,v,y,C,w,S,M,U,N,T,j,I,q,A,k,Y,Z,lt,J,et;switch(v=new tg,s=Object.keys(t).sort(function(Et,Rt){return Et-Rt}),r){case"macroman":for(g=0,p=function(){var Et=[];for(m=0;m<256;++m)Et.push(0);return Et}(),_={0:0},o={},y=0,M=s.length;y<M;y++)_[Z=t[n=s[y]]]==null&&(_[Z]=++g),o[n]={old:t[n],new:_[t[n]]},p[n]=_[t[n]];return v.writeUInt16(1),v.writeUInt16(0),v.writeUInt32(12),v.writeUInt16(0),v.writeUInt16(262),v.writeUInt16(0),v.write(p),{charMap:o,subtable:v.data,maxGlyphID:g+1};case"unicode":for(R=[],u=[],E=0,_={},i={},b=c=null,C=0,U=s.length;C<U;C++)_[V=t[n=s[C]]]==null&&(_[V]=++E),i[n]={old:V,new:_[V]},a=_[V]-n,b!=null&&a===c||(b&&u.push(b),R.push(n),c=a),b=n;for(b&&u.push(b),u.push(65535),R.push(65535),W=2*($=R.length),L=2*Math.pow(Math.log($)/Math.LN2,2),h=Math.log(L/2)/Math.LN2,F=2*$-L,l=[],H=[],f=[],m=w=0,N=R.length;w<N;m=++w){if(x=R[m],d=u[m],x===65535){l.push(0),H.push(0);break}if(x-(B=i[x].new)>=32768)for(l.push(0),H.push(2*(f.length+$-m)),n=S=x;x<=d?S<=d:S>=d;n=x<=d?++S:--S)f.push(i[n].new);else l.push(B-x),H.push(0)}for(v.writeUInt16(3),v.writeUInt16(1),v.writeUInt32(12),v.writeUInt16(4),v.writeUInt16(16+8*$+2*f.length),v.writeUInt16(0),v.writeUInt16(W),v.writeUInt16(L),v.writeUInt16(h),v.writeUInt16(F),k=0,T=u.length;k<T;k++)n=u[k],v.writeUInt16(n);for(v.writeUInt16(0),Y=0,j=R.length;Y<j;Y++)n=R[Y],v.writeUInt16(n);for(lt=0,I=l.length;lt<I;lt++)a=l[lt],v.writeUInt16(a);for(J=0,q=H.length;J<q;J++)O=H[J],v.writeUInt16(O);for(et=0,A=f.length;et<A;et++)g=f[et],v.writeUInt16(g);return{charMap:i,subtable:v.data,maxGlyphID:E+1}}},e}(),Jot=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Rh(t,ru),t.prototype.tag="cmap",t.prototype.parse=function(r){var i,n,o;for(r.pos=this.offset,this.version=r.readUInt16(),o=r.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=o?n<o:n>o;n=0<=o?++n:--n)i=new zot(r,this.offset),this.tables.push(i),i.isUnicode&&this.unicode==null&&(this.unicode=i);return!0},t.encode=function(r,i){var n,o;return i==null&&(i="macroman"),n=zot.encode(r,i),(o=new tg).writeUInt16(0),o.writeUInt16(1),n.table=o.data.concat(n.subtable),n},t}(),GPt=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Rh(t,ru),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),KPt=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Rh(t,ru),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var i,n;for(n=[],i=0;i<10;++i)n.push(r.readByte());return n}(),this.charRange=function(){var i,n;for(n=[],i=0;i<4;++i)n.push(r.readInt());return n}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var i,n;for(n=[],i=0;i<2;i=++i)n.push(r.readInt());return n}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),XPt=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Rh(t,ru),t.prototype.tag="post",t.prototype.parse=function(r){var i,n,o;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var s;for(n=r.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],o=[];r.pos<this.offset+this.length;)i=r.readByte(),o.push(this.names.push(r.readString(i)));return o;case 151552:return n=r.readUInt16(),this.offsets=r.read(n);case 196608:break;case 262144:return this.map=(function(){var a,l,c;for(c=[],s=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;s=0<=l?++a:--a)c.push(r.readUInt32());return c}).call(this)}},t}(),ZPt=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},QPt=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Rh(t,ru),t.prototype.tag="name",t.prototype.parse=function(r){var i,n,o,s,a,l,c,d,u,h,f;for(r.pos=this.offset,r.readShort(),i=r.readShort(),l=r.readShort(),n=[],s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)n.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(c={},s=u=0,h=n.length;u<h;s=++u)o=n[s],r.pos=o.offset,d=r.readString(o.length),a=new ZPt(d,o),c[f=o.nameID]==null&&(c[f]=[]),c[o.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t}(),JPt=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Rh(t,ru),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),tNt=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Rh(t,ru),t.prototype.tag="hmtx",t.prototype.parse=function(r){var i,n,o,s,a,l,c;for(r.pos=this.offset,this.metrics=[],i=0,l=this.file.hhea.numberOfMetrics;0<=l?i<l:i>l;i=0<=l?++i:--i)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(o=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,u;for(u=[],i=d=0;0<=o?d<o:d>o;i=0<=o?++d:--d)u.push(r.readInt16());return u}(),this.widths=(function(){var d,u,h,f;for(f=[],d=0,u=(h=this.metrics).length;d<u;d++)s=h[d],f.push(s.advance);return f}).call(this),n=this.widths[this.widths.length-1],c=[],i=a=0;0<=o?a<o:a>o;i=0<=o?++a:--a)c.push(this.widths.push(n));return c},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),tst=[].slice,eNt=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Rh(t,ru),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var i,n,o,s,a,l,c,d,u,h;return r in this.cache?this.cache[r]:(s=this.file.loca,i=this.file.contents,n=s.indexOf(r),(o=s.lengthOf(r))===0?this.cache[r]=null:(i.pos=this.offset+n,a=(l=new tg(i.read(o))).readShort(),d=l.readShort(),h=l.readShort(),c=l.readShort(),u=l.readShort(),this.cache[r]=a===-1?new rNt(l,d,h,c,u):new iNt(l,a,d,h,c,u),this.cache[r]))},t.prototype.encode=function(r,i,n){var o,s,a,l,c;for(a=[],s=[],l=0,c=i.length;l<c;l++)o=r[i[l]],s.push(a.length),o&&(a=a.concat(o.encode(n)));return s.push(a.length),{table:a,offsets:s}},t}(),iNt=function(){function e(t,r,i,n,o,s){this.raw=t,this.numberOfContours=r,this.xMin=i,this.yMin=n,this.xMax=o,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),rNt=function(){function e(t,r,i,n,o){var s,a;for(this.raw=t,this.xMin=r,this.yMin=i,this.xMax=n,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;a=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&a;)s.pos+=1&a?4:2,128&a?s.pos+=8:64&a?s.pos+=4:8&a&&(s.pos+=2)}return e.prototype.encode=function(){var t,r,i;for(r=new tg(tst.call(this.raw.data)),t=0,i=this.glyphIDs.length;t<i;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),nNt=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Rh(t,ru),t.prototype.tag="loca",t.prototype.parse=function(r){var i,n;return r.pos=this.offset,i=this.file.head.indexToLocFormat,this.offsets=i===0?(function(){var o,s;for(s=[],n=0,o=this.length;n<o;n+=2)s.push(2*r.readUInt16());return s}).call(this):(function(){var o,s;for(s=[],n=0,o=this.length;n<o;n+=4)s.push(r.readUInt32());return s}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,i){for(var n=new Uint32Array(this.offsets.length),o=0,s=0,a=0;a<n.length;++a)if(n[a]=o,s<i.length&&i[s]==a){++s,n[a]=o;var l=this.offsets[a],c=this.offsets[a+1]-l;c>0&&(o+=c)}for(var d=new Array(4*n.length),u=0;u<n.length;++u)d[4*u+3]=255&n[u],d[4*u+2]=(65280&n[u])>>8,d[4*u+1]=(16711680&n[u])>>16,d[4*u]=(4278190080&n[u])>>24;return d},t}(),oNt=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,i,n,o;for(r in n=this.font.cmap.tables[0].codeMap,t={},o=this.subset)i=o[r],t[r]=n[i];return t},e.prototype.glyphsFor=function(t){var r,i,n,o,s,a,l;for(n={},s=0,a=t.length;s<a;s++)n[o=t[s]]=this.font.glyf.glyphFor(o);for(o in r=[],n)(i=n[o])!=null&&i.compound&&r.push.apply(r,i.glyphIDs);if(r.length>0)for(o in l=this.glyphsFor(r))i=l[o],n[o]=i;return n},e.prototype.encode=function(t,r){var i,n,o,s,a,l,c,d,u,h,f,m,g,p,b;for(n in i=Jot.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),f={0:0},b=i.charMap)f[(l=b[n]).old]=l.new;for(m in h=i.maxGlyphID,s)m in f||(f[m]=h++);return d=function(_){var E,O;for(E in O={},_)O[_[E]]=E;return O}(f),u=Object.keys(d).sort(function(_,E){return _-E}),g=function(){var _,E,O;for(O=[],_=0,E=u.length;_<E;_++)a=u[_],O.push(d[a]);return O}(),o=this.font.glyf.encode(s,g,f),c=this.font.loca.encode(o.offsets,g),p={cmap:this.font.cmap.raw(),glyf:o.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(p["OS/2"]=this.font.os2.raw()),this.font.directory.encode(p)},e}();qi.API.PDFObject=function(){var e;function t(){}return e=function(r,i){return(Array(i+1).join("0")+r).slice(-i)},t.convert=function(r){var i,n,o,s;if(Array.isArray(r))return"["+function(){var a,l,c;for(c=[],a=0,l=r.length;a<l;a++)i=r[a],c.push(t.convert(i));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(n in o=["<<"],r)s=r[n],o.push("/"+n+" "+t.convert(s));return o.push(">>"),o.join(`
`)}return""+r},t}();var b1=(()=>{let t=class t{constructor(){this.downloadSubjectTrigger=new Je,this.downloadFileTrigger=new Je,this.downloadExcelTrigger=new Je,this.downloadPDFTrigger=new Je}get downloadSubjectTriggered$(){return this.downloadSubjectTrigger.asObservable()}get downloadFileTriggered$(){return this.downloadFileTrigger.asObservable()}get downloadExcelTriggered$(){return this.downloadExcelTrigger.asObservable()}get downloadPDFTriggered$(){return this.downloadPDFTrigger.asObservable()}triggerGenerateSubject(){this.downloadSubjectTrigger.next()}triggerGenerateFile(){this.downloadFileTrigger.next()}triggerGenerateExcel(){this.downloadExcelTrigger.next()}triggerGeneratePDF(){this.downloadPDFTrigger.next()}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var rst=(()=>{let t=class t{constructor(i,n){this.interactionService=i,this.translocoService=n}ngOnChanges(i){i.name&&(this.name=i.name.currentValue)}ngOnInit(){this.interactionService.downloadSubjectTriggered$.subscribe(()=>{this.generateSubject()}),this.interactionService.downloadFileTriggered$.subscribe(()=>{this.generateFile()}),this.interactionService.downloadExcelTriggered$.subscribe(()=>{this.generateExcel()}),this.interactionService.downloadPDFTriggered$.subscribe(()=>{this.generatePDF()})}exportToExcel(i,n){let o=new est.Workbook,s=this.data.months;console.log(this.data);var a=this.data.downloads_graph_data,l=this.data.datasets_graph_data,c=this.data.files_graph_data,d=this.data.users_graph_data,u=this.data.size_graph_data;let h=o.addWorksheet(this.translocoService.translate("ReadMe"));h.addRow([this.translocoService.translate("FAQ")]),h.addRow([]),h.addRow([this.translocoService.translate("Tab"),this.translocoService.translate("FieldName"),this.translocoService.translate("Definition")]),h.addRow([this.translocoService.translate("Downloads"),"",""]),h.addRow(["",this.translocoService.translate("Date"),""]),h.addRow(["",this.translocoService.translate("Count"),this.translocoService.translate("DownloadsCountDef")]),h.addRow(["",this.translocoService.translate("CumulCount"),this.translocoService.translate("DownloadsCumulCountDef")]),h.addRow([this.translocoService.translate("Datasets"),"",""]),h.addRow(["",this.translocoService.translate("Date"),""]),h.addRow(["",this.translocoService.translate("Count"),this.translocoService.translate("DatasetsCountDef")]),h.addRow(["",this.translocoService.translate("CumulCount"),this.translocoService.translate("DatasetsCountDef")]),h.addRow([this.translocoService.translate("Files"),"",""]),h.addRow(["",this.translocoService.translate("Date"),""]),h.addRow(["",this.translocoService.translate("Count"),this.translocoService.translate("FilesCountDef")]),h.addRow(["",this.translocoService.translate("CumulCount"),this.translocoService.translate("FilesCountDef")]),h.addRow([this.translocoService.translate("Users"),"",""]),h.addRow(["",this.translocoService.translate("Date"),""]),h.addRow(["",this.translocoService.translate("Count"),this.translocoService.translate("UsersCountDef")]),h.addRow(["",this.translocoService.translate("CumulCount"),this.translocoService.translate("UsersCumulCountDef")]),h.addRow([this.translocoService.translate("Storage"),"",""]),h.addRow(["",this.translocoService.translate("Date"),""]),h.addRow(["",this.translocoService.translate("Count"),this.translocoService.translate("StorageCountDef")]),h.addRow(["",this.translocoService.translate("Percent"),this.translocoService.translate("StorageCumulCountDef")]),h.addRow([this.translocoService.translate("SubjectBreakdown"),"",""]),h.addRow(["",this.translocoService.translate("Subject"),this.translocoService.translate("SubjectDef")]),h.addRow(["",this.translocoService.translate("Count"),this.translocoService.translate("SubjectCountDef")]),h.addRow(["",this.translocoService.translate("Percent"),this.translocoService.translate("SubjectPercentDef")]),h.addRow([this.translocoService.translate("FileContentBreakdown"),"",""]),h.addRow(["",this.translocoService.translate("Type"),this.translocoService.translate("FileTypeDef")]),h.addRow(["",this.translocoService.translate("SpecificFileType"),this.translocoService.translate("FileSpecficTypeDef")]),h.addRow(["",this.translocoService.translate("Count"),this.translocoService.translate("FileCountDef")]),h.addRow(["",this.translocoService.translate("Percent"),this.translocoService.translate("FilePercentDef")]),h.getColumn(1).width=30,h.getColumn(2).width=25,h.getColumn(3).width=100;let f=o.addWorksheet(this.translocoService.translate("Downloads")),m=Object.keys([this.translocoService.translate("Date"),this.translocoService.translate("Count"),this.translocoService.translate("CumulCount")]);f.addRow([this.translocoService.translate("Date"),this.translocoService.translate("Count"),this.translocoService.translate("CumulCount")]),f.getColumn(1).width=15,f.getColumn(2).width=15,f.getColumn(3).width=15;let g=o.addWorksheet(this.translocoService.translate("Datasets")),p=Object.keys([this.translocoService.translate("Date"),this.translocoService.translate("Count"),this.translocoService.translate("CumulCount")]);g.addRow([this.translocoService.translate("Date"),this.translocoService.translate("Count"),this.translocoService.translate("CumulCount")]),g.getColumn(1).width=15,g.getColumn(2).width=15,g.getColumn(3).width=15;let b=o.addWorksheet(this.translocoService.translate("Files")),_=Object.keys([this.translocoService.translate("Date"),this.translocoService.translate("Count"),this.translocoService.translate("CumulCount")]);b.addRow([this.translocoService.translate("Date"),this.translocoService.translate("Count"),this.translocoService.translate("CumulCount")]),b.getColumn(1).width=15,b.getColumn(2).width=15,b.getColumn(3).width=15;let E=o.addWorksheet(this.translocoService.translate("Users")),O=Object.keys([this.translocoService.translate("Date"),this.translocoService.translate("Count"),this.translocoService.translate("CumulCount")]);E.addRow([this.translocoService.translate("Date"),this.translocoService.translate("Count"),this.translocoService.translate("CumulCount")]),E.getColumn(1).width=15,E.getColumn(2).width=15,E.getColumn(3).width=15;let V=o.addWorksheet(this.translocoService.translate("Storage")),H=Object.keys([this.translocoService.translate("Date"),this.translocoService.translate("Count"),this.translocoService.translate("CumulCount")]);V.addRow([this.translocoService.translate("Date"),this.translocoService.translate("Count"),this.translocoService.translate("CumulCount")]),V.getColumn(1).width=15,V.getColumn(2).width=15,V.getColumn(3).width=15;let F=o.addWorksheet(this.translocoService.translate("SubjectBreakdown")),L=Object.keys([this.translocoService.translate("Subject"),this.translocoService.translate("Count"),this.translocoService.translate("Percent")]);F.addRow([this.translocoService.translate("Subject"),this.translocoService.translate("Count"),this.translocoService.translate("Percent")]),F.getColumn(1).width=30,F.getColumn(2).width=15,F.getColumn(3).width=15;let $=o.addWorksheet(this.translocoService.translate("FileContentBreakdown")),W=Object.keys([this.translocoService.translate("FileType"),this.translocoService.translate("SpecificFileType"),this.translocoService.translate("Count"),this.translocoService.translate("Percent")]);$.addRow([this.translocoService.translate("Type"),this.translocoService.translate("SpecificFileType"),this.translocoService.translate("Count"),this.translocoService.translate("Percent")]),$.getColumn(1).width=20,$.getColumn(2).width=30,$.getColumn(3).width=15,$.getColumn(3).width=15;for(let B=0;B<s.length-1;B+=1)f.addRow([s[B],this.data.downloads_graph_agg_data[B],a[B]]),g.addRow([s[B],this.data.datasets_graph_agg_data[B],l[B]]),b.addRow([s[B],this.data.files_graph_agg_data[B],c[B]]),E.addRow([s[B],this.data.users_graph_agg_data[B],d[B]]),V.addRow([s[B],this.data.size_graph_agg_data[B],u[B]]);let x={"Social Sciences":"SocialSciences","Earth and Environmental Sciences":"EarthandEnvironmentalSciences",Other:"Other","Medicine, Health and Life Sciences":"MedicineHealthandLifeSciences","Arts and Humanities":"ArtsandHumanities",Engineering:"Engineering","Agricultural Sciences":"AgriculturalSciences","Computer and Information Science":"ComputerandInformationScience",Physics:"Physics",Chemistry:"Chemistry","Business and Management":"BusinessandManagement",Law:"Law","Mathematical Sciences":"MathematicalSciences","Astronomy and Astrophysics":"AstronomyandAstrophysics"},R={image:"image",text:"text",application:"application",video:"video",audio:"audio",model:"model",type:"type",chemical:"chemical",biosequence:"biosequence",multipart:"multipart"};for(let B=0;B<this.data.subject_full_data.length-1;B++){let v=this.data.subject_full_data[B].subject,y=x[v]||v,C=this.translocoService.translate(y);F.addRow([C,this.data.subject_full_data[B].count,this.data.subject_full_data[B].percent])}for(let B=0;B<this.data.file_content_full_data.length-1;B+=1){let v=this.data.file_content_full_data[B],y=v.type,C=R[y]||y,w=this.translocoService.translate(C);$.addRow([w,v.contentType,v.count,v.percent])}o.xlsx.writeBuffer().then(B=>{let v=new Blob([B],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});(0,ist.saveAs)(v,`${n}.xlsx`)})}generatePDF(){return xr(this,null,function*(){let i=new qi("p","mm","a4"),n=i.internal.pageSize.getHeight(),o=i.internal.pageSize.getWidth(),s=10,a=10,l=5,c=90,d=90,u=a,h=(lt,J,et,Et)=>{let Rt=lt.width/lt.height,nt=Et,at=Et/Rt;et+at>n-a&&(i.addPage(),et=a,u=a);let Ct=document.createElement("canvas");Ct.width=lt.width,Ct.height=lt.height;let tt=Ct.getContext("2d");tt&&(tt.fillStyle="white",tt.fillRect(0,0,Ct.width,Ct.height),tt.drawImage(lt,0,0));let it=Ct.toDataURL("image/png");return i.addImage(it,"PNG",J,et,nt,at),at+l},f="Borealis Report";this.name&&this.name!=="(All)"&&(f=`${this.name} - ${f}`);let m=new Date().toLocaleDateString("en-US",{year:"numeric",month:"numeric",day:"numeric"});i.setFont("helvetica","normal"),i.setFontSize(9),i.text(f,s,a);let g=i.getTextWidth(m);i.text(m,o-s-g,a),i.setFont("helvetica","bold"),i.setFontSize(14);let p=document.getElementById("responsive-title")?.textContent??"";(p==="(All)"||p==="")&&(p="Borealis (All)");let b=o-2*s,_=i.splitTextToSize(p,b),E=7,O=a+10;i.text(_,s,O);let V=_.length*E;i.setFont("helvetica","italic"),i.setFontSize(11);let H=document.getElementById("pdf_date")?.textContent??"",F=O+V+1.5;i.text(H,s,F),u=F+6;let L=6,$=4,W=(o-s*2-$*(L-1))/L,x=15,R=u,B=[this.translocoService.translate("Collections"),this.translocoService.translate("DatasetsSF"),this.translocoService.translate("Files"),this.translocoService.translate("Downloads"),this.translocoService.translate("Users"),this.translocoService.translate("Storage")],v=this.translocoService.getActiveLang()==="fr"?"fr-FR":"en-US",y=(lt,J=!1)=>{let et=J?{minimumFractionDigits:2,maximumFractionDigits:2}:{maximumFractionDigits:0};return new Intl.NumberFormat(v,et).format(lt).replace(/\u202F|\u00A0/g," ")},C=this.translocoService.getActiveLang()==="en",w=this.data.size_graph_data?.at(-1)??0,S=y(w,!0),M=this.translocoService.translate("GB")||"GB",U=`${S} ${M}`,N=[y(this.data.name_dropdown_data?.length??0),y(this.data.datasets_graph_data?.at(-1)??0),y(this.data.files_graph_data?.at(-1)??0),y(this.data.downloads_graph_data?.at(-1)??0),y(this.data.users_graph_data?.at(-1)??0),U];for(let lt=0;lt<L;lt++){let J=s+lt*(W+$);this.drawCard(i,B[lt],N[lt],J,R,W,x)}u+=x+10;let j=document.querySelector("#pdf_bargraphs")?.querySelectorAll("canvas")??[],I=document.querySelector("#subjectGraph canvas"),q=document.querySelector("#fileGraph canvas"),A=o-s-c,k=u,Y=[{leftIndex:0,leftTitle:this.translocoService.translate("NumberofDownloads"),rightCanvas:j[4],rightTitle:this.translocoService.translate("StorageUsage")},{leftIndex:1,leftTitle:this.translocoService.translate("NumberofDatasets"),rightCanvas:I,rightTitle:this.translocoService.translate("SubjectBreakdown")},{leftIndex:2,leftTitle:this.translocoService.translate("NumberofFiles"),rightCanvas:q,rightTitle:this.translocoService.translate("FileContentBreakdown")},{leftIndex:3,leftTitle:this.translocoService.translate("Numberofusers"),rightCanvas:null,rightTitle:""}];for(let lt of Y){k+10>n-a&&(i.addPage(),k=a);let J=0,et=j[lt.leftIndex];if(et&&(i.setFont("helvetica","normal"),i.setFontSize(8),i.text(lt.leftTitle,s,k),J=h(et,s,k+4,c)),lt.rightCanvas){i.setFont("helvetica","normal"),i.setFontSize(8),i.text(lt.rightTitle,A,k);let Et=h(lt.rightCanvas,A,k+4,c);J=Math.max(J,Et)}k+=J+6}let Z="Borealis Report";this.name&&this.name!=="(All)"&&(Z=`${this.name} - ${Z}`),i.save(Z)})}exportChartAsJPEG(i,n,o=.5){let a=document.getElementById(i).querySelector("canvas");if(!a){console.error(`No canvas found inside element with id ${i}`);return}let l=document.createElement("canvas");l.width=a.width,l.height=a.height;let c=l.getContext("2d");c&&(c.fillStyle="white",c.fillRect(0,0,l.width,l.height),c.drawImage(a,0,0));let d=document.createElement("canvas");d.width=l.width*o,d.height=l.height*o;let u=d.getContext("2d");u&&(u.scale(o,o),u.drawImage(l,0,0));let h=d.toDataURL("image/jpeg",1),f=document.createElement("a");f.download=n,f.href=h,f.click()}drawCard(i,n,o,s,a,l,c,d=2){i.setDrawColor(180,180,180),i.setFillColor(255,255,255),i.roundedRect(s,a,l,c,d,d,"FD"),i.setFont("helvetica","normal"),i.setFontSize(8),i.text(n,s+2,a+5),i.setFont("helvetica","normal"),i.setFontSize(10);let m=i.getTextWidth(o),g=s+l-2-m,p=a+c-3;i.text(o,g,p)}sanitizeText(i){return this.translocoService.getActiveLang()==="fr"?i.replace(/\u00A0/g," ").replace(/\//g,"-").trim():i.trim()}generateSubject(){this.exportChartAsJPEG("subjectGraph","subject-graph.jpeg",1)}generateFile(){this.exportChartAsJPEG("fileGraph","file-graph.jpeg",1)}generateExcel(){var i="Borealis Report";this.name!="(All)"&&(i=this.name+" - "+i),this.exportToExcel(this.data,i)}};t.\u0275fac=function(n){return new(n||t)(Pt(b1),Pt(Xl))},t.\u0275cmp=We({type:t,selectors:[["app-download"]],inputs:{data:"data",name:"name"},standalone:!0,features:[er,li],decls:0,vars:0,template:function(n,o){}}),t.\u0275prov=_e({token:t,factory:t.\u0275fac});let e=t;return e})();var nst={transformMenu:cm("transformMenu",[dm("void",ta({opacity:0,transform:"scale(0.8)"})),wd("void => enter",_d("120ms cubic-bezier(0, 0, 0.2, 1)",ta({opacity:1,transform:"scale(1)"}))),wd("* => void",_d("100ms 25ms linear",ta({opacity:0})))]),fadeInItems:cm("fadeInItems",[dm("showing",ta({opacity:1})),wd("void => *",[ta({opacity:0}),_d("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},DLe=nst.fadeInItems,OLe=nst.transformMenu;var sNt=new Se("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{let e=pe(bn);return()=>e.scrollStrategies.reposition()}});function aNt(e){return()=>e.scrollStrategies.reposition()}var lNt={provide:sNt,deps:[bn],useFactory:aNt};var ost=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ue({type:t}),t.\u0275inj=ze({providers:[lNt],imports:[$n,Ng,Si,Ac,Tc,Si]});let e=t;return e})();var cNt=["tooltip"],lst=20;var cst=new Se("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let e=pe(bn);return()=>e.scrollStrategies.reposition({scrollThrottle:lst})}});function dNt(e){return()=>e.scrollStrategies.reposition({scrollThrottle:lst})}var uNt={provide:cst,deps:[bn],useFactory:dNt};function hNt(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}var fNt=new Se("mat-tooltip-default-options",{providedIn:"root",factory:hNt});var sst="tooltip-panel",ast=ul({passive:!0}),mNt=8,pNt=8,gNt=24,bNt=200,YD=(()=>{let t=class t{get position(){return this._position}set position(i){i!==this._position&&(this._position=i,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(i){this._positionAtOrigin=ku(i),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(i){let n=ku(i);this._disabled!==n&&(this._disabled=n,n?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(i){this._showDelay=Kh(i)}get hideDelay(){return this._hideDelay}set hideDelay(i){this._hideDelay=Kh(i),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(i){let n=this._message;this._message=i!=null?String(i).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(n)}get tooltipClass(){return this._tooltipClass}set tooltipClass(i){this._tooltipClass=i,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(i,n,o,s,a,l,c,d,u,h,f,m){this._overlay=i,this._elementRef=n,this._scrollDispatcher=o,this._viewContainerRef=s,this._ngZone=a,this._platform=l,this._ariaDescriber=c,this._focusMonitor=d,this._dir=h,this._defaultOptions=f,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=vNt,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._touchstartTimeout=null,this._destroyed=new Je,this._injector=pe(mn),this._scrollStrategy=u,this._document=m,f&&(this._showDelay=f.showDelay,this._hideDelay=f.hideDelay,f.position&&(this.position=f.position),f.positionAtOrigin&&(this.positionAtOrigin=f.positionAtOrigin),f.touchGestures&&(this.touchGestures=f.touchGestures),f.tooltipClass&&(this.tooltipClass=f.tooltipClass)),h.change.pipe(qn(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=mNt}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(qn(this._destroyed)).subscribe(i=>{i?i==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let i=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([n,o])=>{i.removeEventListener(n,o,ast)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(i,this.message,"tooltip"),this._focusMonitor.stopMonitoring(i)}show(i=this.showDelay,n){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let o=this._createOverlay(n);this._detach(),this._portal=this._portal||new xd(this._tooltipComponent,this._viewContainerRef);let s=this._tooltipInstance=o.attach(this._portal).instance;s._triggerElement=this._elementRef.nativeElement,s._mouseLeaveHideDelay=this._hideDelay,s.afterHidden().pipe(qn(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),s.show(i)}hide(i=this.hideDelay){let n=this._tooltipInstance;n&&(n.isVisible()?n.hide(i):(n._cancelPendingAnimations(),this._detach()))}toggle(i){this._isTooltipVisible()?this.hide():this.show(void 0,i)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(i){if(this._overlayRef){let s=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!i)&&s._origin instanceof hi)return this._overlayRef;this._detach()}let n=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),o=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin?i||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(n);return o.positionChanges.pipe(qn(this._destroyed)).subscribe(s=>{this._updateCurrentPositionClass(s.connectionPair),this._tooltipInstance&&s.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:o,panelClass:`${this._cssClassPrefix}-${sst}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(qn(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(qn(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(qn(this._destroyed)).subscribe(s=>{this._isTooltipVisible()&&s.keyCode===27&&!Kl(s)&&(s.preventDefault(),s.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(i){let n=i.getConfig().positionStrategy,o=this._getOrigin(),s=this._getOverlayPosition();n.withPositions([this._addOffset(Vt(Vt({},o.main),s.main)),this._addOffset(Vt(Vt({},o.fallback),s.fallback))])}_addOffset(i){let n=pNt,o=!this._dir||this._dir.value=="ltr";return i.originY==="top"?i.offsetY=-n:i.originY==="bottom"?i.offsetY=n:i.originX==="start"?i.offsetX=o?-n:n:i.originX==="end"&&(i.offsetX=o?n:-n),i}_getOrigin(){let i=!this._dir||this._dir.value=="ltr",n=this.position,o;n=="above"||n=="below"?o={originX:"center",originY:n=="above"?"top":"bottom"}:n=="before"||n=="left"&&i||n=="right"&&!i?o={originX:"start",originY:"center"}:(n=="after"||n=="right"&&i||n=="left"&&!i)&&(o={originX:"end",originY:"center"});let{x:s,y:a}=this._invertPosition(o.originX,o.originY);return{main:o,fallback:{originX:s,originY:a}}}_getOverlayPosition(){let i=!this._dir||this._dir.value=="ltr",n=this.position,o;n=="above"?o={overlayX:"center",overlayY:"bottom"}:n=="below"?o={overlayX:"center",overlayY:"top"}:n=="before"||n=="left"&&i||n=="right"&&!i?o={overlayX:"end",overlayY:"center"}:(n=="after"||n=="right"&&i||n=="left"&&!i)&&(o={overlayX:"start",overlayY:"center"});let{x:s,y:a}=this._invertPosition(o.overlayX,o.overlayY);return{main:o,fallback:{overlayX:s,overlayY:a}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),ma(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(i){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=i,this._tooltipInstance._markForCheck())}_invertPosition(i,n){return this.position==="above"||this.position==="below"?n==="top"?n="bottom":n==="bottom"&&(n="top"):i==="end"?i="start":i==="start"&&(i="end"),{x:i,y:n}}_updateCurrentPositionClass(i){let{overlayY:n,originX:o,originY:s}=i,a;if(n==="center"?this._dir&&this._dir.value==="rtl"?a=o==="end"?"left":"right":a=o==="start"?"left":"right":a=n==="bottom"&&s==="top"?"above":"below",a!==this._currentPosition){let l=this._overlayRef;if(l){let c=`${this._cssClassPrefix}-${sst}-`;l.removePanelClass(c+this._currentPosition),l.addPanelClass(c+a)}this._currentPosition=a}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",i=>{this._setupPointerExitEventsIfNeeded();let n;i.x!==void 0&&i.y!==void 0&&(n=i),this.show(void 0,n)}]):this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",i=>{let n=i.targetTouches?.[0],o=n?{x:n.clientX,y:n.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout);let s=500;this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,o)},this._defaultOptions.touchLongPressShowDelay??s)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let i=[];if(this._platformSupportsMouseEvents())i.push(["mouseleave",n=>{let o=n.relatedTarget;(!o||!this._overlayRef?.overlayElement.contains(o))&&this.hide()}],["wheel",n=>this._wheelListener(n)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let n=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};i.push(["touchend",n],["touchcancel",n])}this._addListeners(i),this._passiveListeners.push(...i)}_addListeners(i){i.forEach(([n,o])=>{this._elementRef.nativeElement.addEventListener(n,o,ast)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(i){if(this._isTooltipVisible()){let n=this._document.elementFromPoint(i.clientX,i.clientY),o=this._elementRef.nativeElement;n!==o&&!o.contains(n)&&this.hide()}}_disableNativeGesturesIfNecessary(){let i=this.touchGestures;if(i!=="off"){let n=this._elementRef.nativeElement,o=n.style;(i==="on"||n.nodeName!=="INPUT"&&n.nodeName!=="TEXTAREA")&&(o.userSelect=o.msUserSelect=o.webkitUserSelect=o.MozUserSelect="none"),(i==="on"||!n.draggable)&&(o.webkitUserDrag="none"),o.touchAction="none",o.webkitTapHighlightColor="transparent"}}_syncAriaDescription(i){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,i,"tooltip"),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}};t.\u0275fac=function(n){return new(n||t)(Pt(bn),Pt(hi),Pt(Dw),Pt(ps),Pt(ui),Pt(jr),Pt(dV),Pt(Xh),Pt(cst),Pt(ks),Pt(fNt,8),Pt(Ai))},t.\u0275dir=ni({type:t,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(n,o){n&2&&Vi("mat-mdc-tooltip-disabled",o.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"],standalone:!0});let e=t;return e})(),vNt=(()=>{let t=class t{constructor(i,n,o){this._changeDetectorRef=i,this._elementRef=n,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new Je,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled=o==="NoopAnimations"}show(i){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},i)}hide(i){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},i)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:i}){(!i||!this._triggerElement.contains(i))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let i=this._elementRef.nativeElement.getBoundingClientRect();return i.height>gNt&&i.width>=bNt}_handleAnimationEnd({animationName:i}){(i===this._showAnimation||i===this._hideAnimation)&&this._finalizeAnimation(i===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(i){i?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(i){let n=this._tooltip.nativeElement,o=this._showAnimation,s=this._hideAnimation;if(n.classList.remove(i?s:o),n.classList.add(i?o:s),this._isVisible!==i&&(this._isVisible=i,this._changeDetectorRef.markForCheck()),i&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let a=getComputedStyle(n);(a.getPropertyValue("animation-duration")==="0s"||a.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}i&&this._onShow(),this._animationsDisabled&&(n.classList.add("_mat-animation-noopable"),this._finalizeAnimation(i))}};t.\u0275fac=function(n){return new(n||t)(Pt(hr),Pt(hi),Pt(Fo,8))},t.\u0275cmp=We({type:t,selectors:[["mat-tooltip-component"]],viewQuery:function(n,o){if(n&1&&or(cNt,7),n&2){let s;Hi(s=Bi())&&(o._tooltip=s.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(n,o){n&1&&Ke("mouseleave",function(a){return o._handleMouseLeave(a)})},standalone:!0,features:[li],decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(n,o){if(n&1){let s=Ho();ut(0,"div",1,0),Ke("animationend",function(l){return cr(s),dr(o._handleAnimationEnd(l))}),ut(2,"div",2),gt(3),dt()()}n&2&&(Vi("mdc-tooltip--multiline",o._isMultiline),Me("ngClass",o.tooltipClass),te(3),_o(o.message))},dependencies:[q1],styles:['.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color, var(--mat-app-inverse-surface));color:var(--mdc-plain-tooltip-supporting-text-color, var(--mat-app-inverse-on-surface));border-radius:var(--mdc-plain-tooltip-container-shape, var(--mat-app-corner-extra-small));font-family:var(--mdc-plain-tooltip-supporting-text-font, var(--mat-app-body-small-font));font-size:var(--mdc-plain-tooltip-supporting-text-size, var(--mat-app-body-small-size));font-weight:var(--mdc-plain-tooltip-supporting-text-weight, var(--mat-app-body-small-weight));line-height:var(--mdc-plain-tooltip-supporting-text-line-height, var(--mat-app-body-small-line-height));letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, var(--mat-app-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0});let e=t;return e})();var qD=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ue({type:t}),t.\u0275inj=ze({providers:[uNt],imports:[DT,$n,Ac,Si,Si,Tc]});let e=t;return e})();var ust=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ue({type:t}),t.\u0275inj=ze({imports:[Si,Si]});let e=t;return e})();var hst=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ue({type:t}),t.\u0275inj=ze({imports:[ov,$n,Si,Ng,d4,ust]});let e=t;return e})();var yNt=()=>[400,200,150],_Nt=()=>[100,400,150,100],fst=(()=>{let t=class t{ngOnChanges(i){i.data&&this.processData(this.data)}constructor(i,n){this.translocoService=i,this.InteractionService=n,this.subject_table=[],this.file_content_table=[],this.downloads_graph_data=[],this.datasets_graph_data=[],this.files_graph_data=[],this.users_graph_data=[],this.size_graph_data=[],this.name_dropdown_data=[],this.barChartDataDownloadsAgg_data=[],this.barChartDataDatasetsAgg_data=[],this.barChartDataFiles_Aggdata=[],this.barChartDataUsers_Aggdata=[],this.barChartDataSize_Aggdata=[],this.pieChartDataSubject_data=[],this.pieChartLabelsSubject=[],this.pieChartDataSubject=[],this.pieChartDataFile_data=[],this.pieChartLabelsFile=[],this.pieChartDataFile=[],this.barChartDataDownloads_data=[],this.barChartDataDownloads={labels:[],datasets:[]},this.barChartDataDatasets_data=[],this.barChartDataDatasets={labels:[],datasets:[]},this.barChartDataFiles_data=[],this.barChartDataFiles={labels:[],datasets:[]},this.barChartDataUsers_data=[],this.barChartDataUsers={labels:[],datasets:[]},this.barChartDataSize_data=[],this.barChartDataSize={labels:[],datasets:[]},this.subject_columns=[],this.file_content_columns=[],this.months=[],this.downloads_labels=[],this.datasets_labels=[],this.file_labels=[],this.user_labels=[],this.storage_usage=[],this.subjectTranslations={},this.fileTranslations={}}processData(i){console.log("yoyoyo",i),this.barChartDataDownloads_data=i.downloads_graph_data,this.barChartDataDatasets_data=i.datasets_graph_data,this.barChartDataFiles_data=i.files_graph_data,this.barChartDataUsers_data=i.users_graph_data,this.barChartDataSize_data=i.size_graph_data,this.barChartDataDownloadsAgg_data=i.downloads_graph_agg_data,this.barChartDataDatasetsAgg_data=i.datasets_graph_agg_data,this.barChartDataFiles_Aggdata=i.files_graph_agg_data,this.barChartDataUsers_Aggdata=i.users_graph_agg_data,this.barChartDataSize_Aggdata=i.size_graph_agg_data,this.pieChartLabelsSubject=i.subject_label_data,this.pieChartDataSubject_data=i.subject_data,this.pieChartLabelsFile=i.file_content_label_data,this.pieChartDataFile_data=i.file_content_data,this.subject_table=i.subject_full_data,this.file_content_table=i.file_content_full_data,this.months=i.months,this.translocoService.selectTranslateObject(["MonthlyFileDownloads","MonthlyDatasetsPublished","MonthlyFilePublished","MonthlyUsersJoined","MonthlyAuthorsRegistered","MonthlyStorageUsed","CumulativeFileDownloads","CumulativeDatasetsPublished","CumulativeFilePublished","CumulativeUsersJoined","CumulativeAuthorsRegistered","CumulativeStorageUsed","Subject","Count","Distribution","FileType","SpecificFileType","SocialSciences","EarthandEnvironmentalSciences","Other","MedicineHealthandLifeSciences","ArtsandHumanities","Engineering","AgriculturalSciences","ComputerandInformationScience","Physics","Chemistry","BusinessandManagement","Law","MathematicalSciences","AstronomyandAstrophysics","image","text","application","video","audio","model","type","chemical","biosequence","multipart"]).subscribe(([n,o,s,a,l,c,d,u,h,f,m,g,p,b,_,E,O,V,H,F,L,$,W,x,R,B,v,y,C,w,S,M,U,N,T,j,I,q,A,k,Y])=>{let Z={"Social Sciences":V,"Earth and Environmental Sciences":H,Other:F,"Medicine, Health and Life Sciences":L,"Arts and Humanities":$,Engineering:W,"Agricultural Sciences":x,"Computer and Information Science":R,Physics:B,Chemistry:v,"Business and Management":y,Law:C,"Mathematical Sciences":w,"Astronomy and Astrophysics":S},lt={image:M,text:U,application:N,video:T,audio:j,model:I,type:q,chemical:A,biosequence:k,multipart:Y};this.subject_table=i.subject_full_data.map(et=>je(Vt({},et),{subject:Z[et.subject]||et.subject})),this.pieChartLabelsSubject=i.subject_label_data.map(et=>Z[et]||et),this.file_content_table=i.file_content_full_data.map(et=>je(Vt({},et),{type:lt[et.type]||et.type})),this.pieChartLabelsFile=i.file_content_label_data.map(et=>lt[et]||et),this.downloads_labels=[n,d],this.datasets_labels=[o,u],this.file_labels=[s,h],this.user_labels=[a,f],this.storage_usage=[c,g];let J=this.months;this.barChartDataDownloads={labels:J,datasets:[{data:this.barChartDataDownloadsAgg_data,label:n,backgroundColor:"rgba(102, 0, 102, 0.5)",borderColor:"rgba(102, 0, 102, 0.5)",hoverBackgroundColor:"rgba(102, 0, 102, 0.7)",hoverBorderColor:"rgba(102, 0, 102, 0.7)"},{data:this.barChartDataDownloads_data,label:d,backgroundColor:"rgba(0, 100, 255, 0.5)",borderColor:"rgba(0, 100, 255, 0.5)",hoverBackgroundColor:"rgba(0, 100, 255, 0.7)",hoverBorderColor:"rgba(0, 100, 255, 0.7)"}]},this.barChartDataDatasets={labels:J,datasets:[{data:this.barChartDataDatasetsAgg_data,label:o,backgroundColor:"rgba(102, 0, 102, 0.5)",borderColor:"rgba(102, 0, 102, 0.5)",hoverBackgroundColor:"rgba(102, 0, 102, 0.7)",hoverBorderColor:"rgba(102, 0, 102, 0.7)"},{data:this.barChartDataDatasets_data,label:u,backgroundColor:"rgba(0, 100, 255, 0.5)",borderColor:"rgba(0, 100, 255, 0.5)",hoverBackgroundColor:"rgba(0, 100, 255, 0.7)",hoverBorderColor:"rgba(0, 100, 255, 0.7)"}]},this.barChartDataFiles={labels:J,datasets:[{data:this.barChartDataFiles_Aggdata,label:s,backgroundColor:"rgba(102, 0, 102, 0.5)",borderColor:"rgba(102, 0, 102, 0.5)",hoverBackgroundColor:"rgba(102, 0, 102, 0.7)",hoverBorderColor:"rgba(102, 0, 102, 0.7)"},{data:this.barChartDataFiles_data,label:h,backgroundColor:"rgba(0, 100, 255, 0.5)",borderColor:"rgba(0, 100, 255, 0.5)",hoverBackgroundColor:"rgba(0, 100, 255, 0.7)",hoverBorderColor:"rgba(0, 100, 255, 0.7)"}]},this.barChartDataUsers={labels:J,datasets:[{data:this.barChartDataUsers_Aggdata,label:this.user_labels[0],backgroundColor:"rgba(102, 0, 102, 0.5)",borderColor:"rgba(102, 0, 102, 0.5)",hoverBackgroundColor:"rgba(102, 0, 102, 0.7)",hoverBorderColor:"rgba(102, 0, 102, 0.7)"},{data:this.barChartDataUsers_data,label:this.user_labels[1],backgroundColor:"rgba(0, 100, 255, 0.5)",borderColor:"rgba(0, 100, 255, 0.5)",hoverBackgroundColor:"rgba(0, 100, 255, 0.7)",hoverBorderColor:"rgba(0, 100, 255, 0.7)"}]},this.barChartDataSize={labels:J,datasets:[{data:this.barChartDataSize_Aggdata,label:c,backgroundColor:"rgba(102, 0, 102, 0.5)",borderColor:"rgba(102, 0, 102, 0.5)",hoverBackgroundColor:"rgba(102, 0, 102, 0.7)",hoverBorderColor:"rgba(102, 0, 102, 0.7)"},{data:this.barChartDataSize_data,label:g,backgroundColor:"rgba(0, 100, 255, 0.5)",borderColor:"rgba(0, 100, 255, 0.5)",hoverBackgroundColor:"rgba(0, 100, 255, 0.7)",hoverBorderColor:"rgba(0, 100, 255, 0.7)"}]},this.subject_columns=[{data:"subject",readOnly:"true",title:p},{data:"count",readOnly:"true",title:b},{data:"percent",readOnly:"true",title:_}],this.file_content_columns=[{data:"type",readOnly:"true",title:E},{data:"contenttype",readOnly:"true",title:O},{data:"count",readOnly:"true",title:b},{data:"percent",readOnly:"true",title:_}]}),this.pieChartDataSubject=[{data:this.pieChartDataSubject_data,label:"Subject Breakdown"}],this.pieChartDataFile=[{data:this.pieChartDataFile_data,label:"File Content Breakdown"}],console.log("yoyoyoyoyo",this.barChartDataDownloads)}downloadSubject(){this.InteractionService.triggerGenerateSubject()}downloadFile(){this.InteractionService.triggerGenerateFile()}};t.\u0275fac=function(n){return new(n||t)(Pt(Xl),Pt(b1))},t.\u0275cmp=We({type:t,selectors:[["app-graph-dashboard"]],inputs:{data:"data",selectedCollection_Activate_Name:"selectedCollection_Activate_Name"},standalone:!0,features:[er,li],decls:48,vars:48,consts:[[2,"display","inline-block","height","200px","padding","30px","padding-top","20px","font-size","18px"],["id","pdf_bargraphs"],[1,"graph-title"],[1,"graph-section",3,"barChartData"],[1,"graph-title",2,"padding-top","20px"],["id","subjectGraphTitle",2,"padding-top","20px"],[1,"hide-scrollbar",2,"border","1px solid lightgray"],["appearance","outlined",1,"example-card",2,"min-width","750px","max-width","750px","min-height","333px","max-height","300px","justify-content","center"],["mat-button","","extended","",2,"position","absolute","height","28px","width","12px","top","4px","right","4px","font-size","12px","border-style","dotted","border-width","1px",3,"click"],[2,"font-size","16px","height","16px","width","12px","display","block","line-height","1","margin-left","10px"],["id","subjectGraph"],["width","520","height","200",3,"pieChartLabels","pieChartData"],["id","hot",1,"hide-scrollbar"],["licenseKey","non-commercial-and-evaluation",1,"hide-scrollbar",3,"data","colHeaders","colWidths","rowHeaders","height","columnSorting","columns","filters"],[1,"hide-scrollbar",2,"margin-top","20px"],["id","fileGraphTitle"],[1,"hide-scrollbar",2,"margin-top","5px","border","1px solid lightgray"],["id","fileGraph"],["width","380","height","200",3,"pieChartLabels","pieChartData"]],template:function(n,o){n&1&&(ut(0,"div",0)(1,"div",1)(2,"div",2),gt(3),Or(4,"transloco"),dt(),He(5,"app-horizontal-bar-graph",3),ut(6,"div",4),gt(7),Or(8,"transloco"),dt(),He(9,"app-horizontal-bar-graph",3),ut(10,"div",4),gt(11),Or(12,"transloco"),dt(),He(13,"app-horizontal-bar-graph",3),ut(14,"div",4),gt(15),Or(16,"transloco"),dt(),He(17,"app-horizontal-bar-graph",3),ut(18,"div",4),gt(19),Or(20,"transloco"),dt(),He(21,"app-horizontal-bar-graph",3),dt(),ut(22,"p",5),gt(23),Or(24,"transloco"),dt(),ut(25,"div",6)(26,"mat-card",7)(27,"button",8),Ke("click",function(){return o.downloadSubject()}),ut(28,"mat-icon",9),gt(29,"download"),dt()(),ut(30,"mat-card-content",10),He(31,"app-pie-graph",11),dt()(),ut(32,"div",12),He(33,"app-generic-table",13),dt()(),He(34,"div",14),ut(35,"p",15),gt(36),Or(37,"transloco"),dt(),He(38,"p"),ut(39,"div",16)(40,"mat-card",7)(41,"button",8),Ke("click",function(){return o.downloadFile}),ut(42,"mat-icon",9),gt(43,"download"),dt()(),ut(44,"mat-card-content",17),He(45,"app-pie-graph",18),dt()(),ut(46,"div",12),He(47,"app-generic-table",13),dt()()()),n&2&&(te(3),ur(" ",Pr(4,32,"NumberofDownloads")," "),te(2),Me("barChartData",o.barChartDataDownloads),te(2),ur(" ",Pr(8,34,"NumberofDatasets")," "),te(2),Me("barChartData",o.barChartDataDatasets),te(2),ur(" ",Pr(12,36,"NumberofFiles")," "),te(2),Me("barChartData",o.barChartDataFiles),te(2),ur(" ",Pr(16,38,o.selectedCollection_Activate_Name==="(All)"?"Numberofusers":"Numberofauthors")," "),te(2),Me("barChartData",o.barChartDataUsers),te(2),ur(" ",Pr(20,40,"StorageUsage")," "),te(2),Me("barChartData",o.barChartDataSize),te(2),ur(" ",Pr(24,42,"SubjectBreakdown")," "),te(8),Me("pieChartLabels",o.pieChartLabelsSubject)("pieChartData",o.pieChartDataSubject),te(2),Me("data",o.subject_table)("colHeaders",!0)("colWidths",IO(46,yNt))("rowHeaders",!1)("height",250)("columnSorting",!0)("columns",o.subject_columns)("filters",!1),te(3),ur(" ",Pr(37,44,"FileContentBreakdown")," "),te(9),Me("pieChartLabels",o.pieChartLabelsFile)("pieChartData",o.pieChartDataFile),te(2),Me("data",o.file_content_table)("colHeaders",!0)("colWidths",IO(47,_Nt))("rowHeaders",!1)("height",250)("columnSorting",!0)("columns",o.file_content_columns)("filters",!1))},dependencies:[Uq,Wq,Vm,jm,ju,Rd,a1,o1,s1,$v,zm,sot]});let e=t;return e})();var wNt=e=>({color:e}),CNt=(e,t)=>({color:e,"font-weight":t});function xNt(e,t){e&1&&(ut(0,"div"),gt(1),Or(2,"transloco"),dt()),e&2&&(te(),ur(" ",Pr(2,1,"Collections")," "))}function SNt(e,t){e&1&&(ut(0,"div"),gt(1),Or(2,"transloco"),dt()),e&2&&(te(),ur(" ",Pr(2,1,"Collections")," "))}var mst=(()=>{let t=class t{constructor(i,n,o){this.translocoService=i,this.interactionService=n,this.decimalPipe=o,this.barChartDataDownloads_data=[],this.barChartDataDatasets_data=[],this.barChartDataFiles_data=[],this.barChartDataUsers_data=[],this.barChartDataSize_data=[],this.barChartDataDownloadsAgg_data=[],this.barChartDataDatasetsAgg_data=[],this.barChartDataFiles_Aggdata=[],this.barChartDataUsers_Aggdata=[],this.barChartDataSize_Aggdata=[],this.pieChartDataSubject_data=[],this.pieChartLabelsSubject=[],this.pieChartDataSubject=[],this.pieChartDataFile_data=[],this.pieChartLabelsFile=[],this.pieChartDataFile=[],this.total_collections_num="-",this.total_dataverses_num="-",this.total_datasets_num="-",this.total_files_num="-",this.total_downloads_num="-",this.total_users_num="-",this.total_size_num="-"}ngOnInit(){this.langSub=this.translocoService.langChanges$.subscribe(()=>{this.processData(this.data)})}ngOnDestroy(){this.langSub?.unsubscribe()}ngOnChanges(i){(i.data||i.date_start_on)&&this.processData(this.data)}getCurrentLocale(){return this.translocoService.getActiveLang()==="fr"?"fr-FR":"en-US"}formatNumber(i){return this.decimalPipe.transform(i,"1.0-0",this.getCurrentLocale())??"0"}formatDecimal(i){return this.decimalPipe.transform(i,"1.2-2",this.getCurrentLocale())??"0"}processData(i){if(i){if(this.barChartDataDownloads_data=i.downloads_graph_data,this.barChartDataDatasets_data=i.datasets_graph_data,this.barChartDataFiles_data=i.files_graph_data,this.barChartDataUsers_data=i.users_graph_data,this.barChartDataSize_data=i.size_graph_data,this.barChartDataDownloadsAgg_data=i.downloads_graph_agg_data,this.barChartDataDatasetsAgg_data=i.datasets_graph_agg_data,this.barChartDataFiles_Aggdata=i.files_graph_agg_data,this.barChartDataUsers_Aggdata=i.users_graph_agg_data,this.barChartDataSize_Aggdata=i.size_graph_agg_data,this.total_collections_num=this.formatNumber(i.name_dropdown_data?.length??0),this.selectedCollection_Activate_Name==="(All)"){let n=i.dataverse_count-i.name_dropdown_data.length;this.total_dataverses_num=this.formatNumber(n)}else this.total_dataverses_num=this.formatNumber(i.dataverse_count);if(this.date_start_on!==""){let n=this.barChartDataDatasetsAgg_data.reduce((c,d)=>c+d,0),o=this.barChartDataFiles_Aggdata.reduce((c,d)=>c+d,0),s=this.barChartDataDownloadsAgg_data.reduce((c,d)=>c+d,0),a=this.barChartDataUsers_Aggdata.reduce((c,d)=>c+d,0),l=this.barChartDataSize_Aggdata.reduce((c,d)=>c+d,0);this.total_datasets_num=this.formatNumber(n),this.total_files_num=this.formatNumber(o),this.total_downloads_num=this.formatNumber(s),this.total_users_num=this.formatNumber(a),this.total_size_num=this.formatDecimal(l)}else{let n=this.barChartDataDatasets_data.length-1;this.total_datasets_num=this.formatNumber(this.barChartDataDatasets_data[n]??0),this.total_files_num=this.formatNumber(this.barChartDataFiles_data[n]??0),this.total_downloads_num=this.formatNumber(this.barChartDataDownloads_data[n]??0),this.total_users_num=this.formatNumber(this.barChartDataUsers_data[n]??0);let o=this.barChartDataSize_data[n]??0;this.total_size_num=this.formatDecimal(o)}}}downloadExcel(){this.interactionService.triggerGenerateExcel()}downloadPDF(){this.interactionService.triggerGeneratePDF()}};t.\u0275fac=function(n){return new(n||t)(Pt(Xl),Pt(b1),Pt(KR))},t.\u0275cmp=We({type:t,selectors:[["app-value-export-dashboard"]],inputs:{data:"data",selectedCollection_Activate_Name:"selectedCollection_Activate_Name",date_start_on:"date_start_on"},standalone:!0,features:[gr([KR]),er,li],decls:91,vars:50,consts:[[2,"display","inline-block","height","200px","padding-top","10px","font-size","18px"],[1,"button-grid",2,"display","grid","grid-template-columns","repeat(2, 1fr)","gap","5px",`/* space between buttons */
    max-width`,"400px"],["mat-button","",1,"mat-small",2,"border-width","1px","font-size","12px","border-style","solid","width","122px","height","25px","display","flex","justify-content","flex-start","align-items","center","gap","8px","text-align","left",3,"click","ngStyle"],["mat-button","","href","https://borealisdata.ca/metricsbackend/api/metrics/report",1,"mat-small",2,"border-width","1px","font-size","12px","border-style","solid","width","122px","height","25px","display","flex","justify-content","flex-start","align-items","center","gap","8px","text-align","left",3,"matTooltip"],[2,"display","inline-block",3,"matTooltip","matTooltipDisabled"],["mat-button","",1,"mat-small",2,"border-width","1px","font-size","9px","border-style","solid","width","122px","height","25px","display","flex","justify-content","flex-start","align-items","center","gap","8px","text-align","left",3,"disabled"],["appearance","outlined","id","pdf_collections_num",1,"example-card",2,"min-width","250px","max-width","250px","margin-bottom","8px","margin-top","10px","background-color","white !important","box-shadow","none !important"],[4,"ngIf"],["id","total_collections_num",2,"text-align","right","color","black","font-size","20px"],["appearance","outlined","id","pdf_datasets_num",1,"example-card",2,"min-width","250px","max-width","250px","margin-bottom","8px","margin-top","10px","background-color","white !important","box-shadow","none !important"],["id","total_datasets_num",2,"text-align","right","color","black","font-size","20px"],["appearance","outlined","id","pdf_files_num",1,"example-card",2,"min-width","250px","max-width","250px","margin-bottom","8px","margin-top","10px","background-color","white !important","box-shadow","none !important"],["id","total_files_num",2,"text-align","right","color","black","font-size","20px"],["appearance","outlined","id","pdf_downloads_nums",1,"example-card",2,"min-width","250px","max-width","250px","margin-bottom","8px","margin-top","10px","background-color","white !important","box-shadow","none !important"],["id","total_downloads_num",2,"text-align","right","color","black","font-size","20px"],["appearance","outlined","id","pdf_users_nums",1,"example-card",2,"min-width","250px","max-width","250px","margin-bottom","8px","margin-top","10px","background-color","white !important","box-shadow","none !important"],["id","total_users_num",2,"text-align","right","color","black","font-size","20px"],["appearance","outlined","id","pdf_storage_nums",1,"example-card",2,"min-width","250px","max-width","250px","margin-bottom","8px","margin-top","10px","background-color","white !important","box-shadow","none !important"],["id","total_size_num",2,"text-align","right","color","black","font-size","20px"]],template:function(n,o){n&1&&(ut(0,"div",0)(1,"div",1)(2,"button",2),Ke("click",function(){return o.downloadExcel()}),ut(3,"mat-icon"),gt(4," download "),dt(),gt(5),Or(6,"transloco"),dt(),ut(7,"button",2),Ke("click",function(){return o.downloadPDF()}),ut(8,"mat-icon"),gt(9," download "),dt(),gt(10),Or(11,"transloco"),dt(),ut(12,"a",3),Or(13,"transloco"),ut(14,"mat-icon"),gt(15," download "),dt(),gt(16),Or(17,"transloco"),dt(),ut(18,"span",4),Or(19,"transloco"),ut(20,"button",5)(21,"mat-icon"),gt(22," download "),dt(),gt(23," MakeDataCount "),dt()()(),ut(24,"mat-card",6)(25,"mat-card-header")(26,"mat-card-title-group")(27,"mat-card-title"),Xi(28,xNt,3,3,"div",7)(29,SNt,3,3,"div",7),dt()()(),ut(30,"mat-card-content")(31,"h1",8)(32,"b"),gt(33),dt()()()(),ut(34,"mat-card",9)(35,"mat-card-header")(36,"mat-card-title-group")(37,"mat-card-title"),gt(38),Or(39,"transloco"),dt(),He(40,"mat-card-subtitle"),dt()(),ut(41,"mat-card-content")(42,"h1",10)(43,"b"),gt(44),dt()()()(),ut(45,"mat-card",11)(46,"mat-card-header")(47,"mat-card-title-group")(48,"mat-card-title"),gt(49),Or(50,"transloco"),dt(),He(51,"mat-card-subtitle"),dt()(),ut(52,"mat-card-content")(53,"h1",12)(54,"b"),gt(55),dt()()()(),ut(56,"mat-card",13)(57,"mat-card-header")(58,"mat-card-title-group")(59,"mat-card-title"),gt(60),Or(61,"transloco"),dt(),He(62,"mat-card-subtitle"),dt()(),ut(63,"mat-card-content")(64,"h1",14)(65,"b"),gt(66),dt()()()(),ut(67,"mat-card",15)(68,"mat-card-header")(69,"mat-card-title-group")(70,"mat-card-title"),gt(71),Or(72,"transloco"),dt(),He(73,"mat-card-subtitle"),dt()(),ut(74,"mat-card-content")(75,"h1",16)(76,"b"),gt(77),dt()()()(),ut(78,"mat-card",17)(79,"mat-card-header")(80,"mat-card-title-group")(81,"mat-card-title"),gt(82),Or(83,"transloco"),dt(),He(84,"mat-card-subtitle"),dt()(),ut(85,"mat-card-content")(86,"h1",18)(87,"b"),gt(88),Or(89,"transloco"),dt()()()()(),He(90,"div")),n&2&&(te(2),Me("ngStyle",kO(45,wNt,o.selectedCollection_Activate_Name!="(All)"?"purple":"black")),te(3),ur(" ",Pr(6,23,"Excel")," "),te(2),Me("ngStyle",W1(47,CNt,o.selectedCollection_Activate_Name!="(All)"?"purple":"black",o.selectedCollection_Activate_Name!="(All)"?"bold":"=normal")),te(3),ur(" ",Pr(11,25,"PDF")," "),te(2),Me("matTooltip",Pr(13,27,"LegacyToolTip")),te(4),ur(" ",Pr(17,29,"Legacy")," "),te(2),Me("matTooltip",Pr(19,31,"MDCToolTip"))("matTooltipDisabled",!1),te(2),Me("disabled",!0),te(8),Me("ngIf",o.selectedCollection_Activate_Name=="(All)"),te(),Me("ngIf",o.selectedCollection_Activate_Name!="(All)"),te(4),_o(o.total_collections_num),te(5),ur(" ",Pr(39,33,"Datasets")," "),te(6),_o(o.total_datasets_num),te(5),ur(" ",Pr(50,35,"Files")," "),te(6),_o(o.total_files_num),te(5),ur(" ",Pr(61,37,"Downloads")," "),te(6),_o(o.total_downloads_num),te(5),ur(" ",Pr(72,39,"Users")," "),te(6),_o(o.total_users_num),te(5),ur(" ",Pr(83,41,"StorageUsage")," "),te(6),mB("",o.total_size_num," ",Pr(89,43,"GB")," "))},dependencies:[$n,Ub,$R,o1,MD,RD,ED,TD,s1,zm,ju,Xq,Rd,Vm,jm,qD,YD]});let e=t;return e})();var VNt=ot(ea()),Cst=ot(ea());function ENt(e,t){}var fb=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}};var SH=(()=>{let t=class t extends dv{constructor(i,n,o,s,a,l,c,d){super(),this._elementRef=i,this._focusTrapFactory=n,this._config=s,this._interactivityChecker=a,this._ngZone=l,this._overlayRef=c,this._focusMonitor=d,this._platform=pe(jr),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=pe(hr),this._injector=pe(mn),this._isDestroyed=!1,this.attachDomPortal=u=>{this._portalOutlet.hasAttached();let h=this._portalOutlet.attachDomPortal(u);return this._contentAttached(),h},this._document=o,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(i){this._ariaLabelledByQueue.push(i),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(i){let n=this._ariaLabelledByQueue.indexOf(i);n>-1&&(this._ariaLabelledByQueue.splice(n,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(i){this._portalOutlet.hasAttached();let n=this._portalOutlet.attachComponentPortal(i);return this._contentAttached(),n}attachTemplatePortal(i){this._portalOutlet.hasAttached();let n=this._portalOutlet.attachTemplatePortal(i);return this._contentAttached(),n}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(i,n){this._interactivityChecker.isFocusable(i)||(i.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let o=()=>{i.removeEventListener("blur",o),i.removeEventListener("mousedown",o),i.removeAttribute("tabindex")};i.addEventListener("blur",o),i.addEventListener("mousedown",o)})),i.focus(n)}_focusByCssSelector(i,n){let o=this._elementRef.nativeElement.querySelector(i);o&&this._forceFocus(o,n)}_trapFocus(){this._isDestroyed||ma(()=>{let i=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||i.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}},{injector:this._injector})}_restoreFocus(){let i=this._config.restoreFocus,n=null;if(typeof i=="string"?n=this._document.querySelector(i):typeof i=="boolean"?n=i?this._elementFocusedBeforeDialogWasOpened:null:i&&(n=i),this._config.restoreFocus&&n&&typeof n.focus=="function"){let o=bm(),s=this._elementRef.nativeElement;(!o||o===this._document.body||o===s||s.contains(o))&&(this._focusMonitor?(this._focusMonitor.focusVia(n,this._closeInteractionType),this._closeInteractionType=null):n.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let i=this._elementRef.nativeElement,n=bm();return i===n||i.contains(n)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=bm()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}};t.\u0275fac=function(n){return new(n||t)(Pt(hi),Pt(Rw),Pt(Ai,8),Pt(fb),Pt(Ew),Pt(ui),Pt(Jh),Pt(Xh))},t.\u0275cmp=We({type:t,selectors:[["cdk-dialog-container"]],viewQuery:function(n,o){if(n&1&&or(ym,7),n&2){let s;Hi(s=Bi())&&(o._portalOutlet=s.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(n,o){n&2&&Yi("id",o._config.id||null)("role",o._config.role)("aria-modal",o._config.ariaModal)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null)},standalone:!0,features:[Gr,li],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(n,o){n&1&&Xi(0,ENt,0,0,"ng-template",0)},dependencies:[ym],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2});let e=t;return e})(),uR=class{constructor(t,r){this.overlayRef=t,this.config=r,this.closed=new Je,this.disableClose=r.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=r.id,this.keydownEvents.subscribe(i=>{i.keyCode===27&&!this.disableClose&&!Kl(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{r.closeOnOverlayDetachments!==!1&&this.close()})}close(t,r){if(this.containerInstance){let i=this.closed;this.containerInstance._closeInteractionType=r?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",r=""){return this.overlayRef.updateSize({width:t,height:r}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}},RNt=new Se("DialogScrollStrategy",{providedIn:"root",factory:()=>{let e=pe(bn);return()=>e.scrollStrategies.block()}}),TNt=new Se("DialogData"),MNt=new Se("DefaultDialogConfig");var ANt=0,pst=(()=>{let t=class t{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(i,n,o,s,a,l){this._overlay=i,this._injector=n,this._defaultOptions=o,this._parentDialog=s,this._overlayContainer=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Je,this._afterOpenedAtThisLevel=new Je,this._ariaHiddenElements=new Map,this.afterAllClosed=Cg(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ts(void 0))),this._scrollStrategy=l}open(i,n){let o=this._defaultOptions||new fb;n=Vt(Vt({},o),n),n.id=n.id||`cdk-dialog-${ANt++}`,n.id&&this.getDialogById(n.id);let s=this._getOverlayConfig(n),a=this._overlay.create(s),l=new uR(a,n),c=this._attachContainer(a,l,n);return l.containerInstance=c,this._attachDialogContent(i,l,c,n),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(l),l.closed.subscribe(()=>this._removeOpenDialog(l,!0)),this.afterOpened.next(l),l}closeAll(){xH(this.openDialogs,i=>i.close())}getDialogById(i){return this.openDialogs.find(n=>n.id===i)}ngOnDestroy(){xH(this._openDialogsAtThisLevel,i=>{i.config.closeOnDestroy===!1&&this._removeOpenDialog(i,!1)}),xH(this._openDialogsAtThisLevel,i=>i.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(i){let n=new Qh({positionStrategy:i.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:i.scrollStrategy||this._scrollStrategy(),panelClass:i.panelClass,hasBackdrop:i.hasBackdrop,direction:i.direction,minWidth:i.minWidth,minHeight:i.minHeight,maxWidth:i.maxWidth,maxHeight:i.maxHeight,width:i.width,height:i.height,disposeOnNavigation:i.closeOnNavigation});return i.backdropClass&&(n.backdropClass=i.backdropClass),n}_attachContainer(i,n,o){let s=o.injector||o.viewContainerRef?.injector,a=[{provide:fb,useValue:o},{provide:uR,useValue:n},{provide:Jh,useValue:i}],l;o.container?typeof o.container=="function"?l=o.container:(l=o.container.type,a.push(...o.container.providers(o))):l=SH;let c=new xd(l,o.viewContainerRef,mn.create({parent:s||this._injector,providers:a}),o.componentFactoryResolver);return i.attach(c).instance}_attachDialogContent(i,n,o,s){if(i instanceof dl){let a=this._createInjector(s,n,o,void 0),l={$implicit:s.data,dialogRef:n};s.templateContext&&(l=Vt(Vt({},l),typeof s.templateContext=="function"?s.templateContext():s.templateContext)),o.attachTemplatePortal(new Lg(i,null,l,a))}else{let a=this._createInjector(s,n,o,this._injector),l=o.attachComponentPortal(new xd(i,s.viewContainerRef,a,s.componentFactoryResolver));n.componentRef=l,n.componentInstance=l.instance}}_createInjector(i,n,o,s){let a=i.injector||i.viewContainerRef?.injector,l=[{provide:TNt,useValue:i.data},{provide:uR,useValue:n}];return i.providers&&(typeof i.providers=="function"?l.push(...i.providers(n,i,o)):l.push(...i.providers)),i.direction&&(!a||!a.get(ks,null,{optional:!0}))&&l.push({provide:ks,useValue:{value:i.direction,change:De()}}),mn.create({parent:a||s,providers:l})}_removeOpenDialog(i,n){let o=this.openDialogs.indexOf(i);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,a)=>{s?a.setAttribute("aria-hidden",s):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),n&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let i=this._overlayContainer.getContainerElement();if(i.parentElement){let n=i.parentElement.children;for(let o=n.length-1;o>-1;o--){let s=n[o];s!==i&&s.nodeName!=="SCRIPT"&&s.nodeName!=="STYLE"&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let i=this._parentDialog;return i?i._getAfterAllClosed():this._afterAllClosedAtThisLevel}};t.\u0275fac=function(n){return new(n||t)(ee(bn),ee(mn),ee(MNt,8),ee(t,12),ee(_v),ee(RNt))},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function xH(e,t){let r=e.length;for(;r--;)t(e[r])}function INt(e,t){}var hR=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}},EH="mdc-dialog--open",gst="mdc-dialog--opening",bst="mdc-dialog--closing",kNt=150,DNt=75,ONt=(()=>{let t=class t extends SH{constructor(i,n,o,s,a,l,c,d,u){super(i,n,o,s,a,l,c,u),this._animationMode=d,this._animationStateChanged=new ai,this._animationsEnabled=this._animationMode!=="NoopAnimations",this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?yst(this._config.enterAnimationDuration)??kNt:0,this._exitAnimationDuration=this._animationsEnabled?yst(this._config.exitAnimationDuration)??DNt:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(vst,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(gst,EH)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(EH),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(EH),this._animationsEnabled?(this._hostElement.style.setProperty(vst,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(bst)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(i){this._actionSectionCount+=i,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(gst,bst)}_waitForAnimationToComplete(i,n){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(n,i)}_requestAnimationFrame(i){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(i):i()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(i){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(i){let n=super.attachComponentPortal(i);return n.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),n}};t.\u0275fac=function(n){return new(n||t)(Pt(hi),Pt(Rw),Pt(Ai,8),Pt(hR),Pt(Ew),Pt(ui),Pt(Jh),Pt(Fo,8),Pt(Xh))},t.\u0275cmp=We({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(n,o){n&2&&(Ba("id",o._config.id),Yi("aria-modal",o._config.ariaModal)("role",o._config.role)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null),Vi("_mat-animation-noopable",!o._animationsEnabled)("mat-mdc-dialog-container-with-actions",o._actionSectionCount>0))},standalone:!0,features:[Gr,li],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(n,o){n&1&&(ut(0,"div",0)(1,"div",1),Xi(2,INt,0,0,"ng-template",2),dt()())},dependencies:[ym],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12));border-radius:var(--mdc-dialog-container-shape, var(--mat-app-corner-extra-large, 4px));background-color:var(--mdc-dialog-container-color, var(--mat-app-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mdc-dialog-subhead-font, var(--mat-app-headline-small-font, inherit));line-height:var(--mdc-dialog-subhead-line-height, var(--mat-app-headline-small-line-height, 1.5rem));font-size:var(--mdc-dialog-subhead-size, var(--mat-app-headline-small-size, 1rem));font-weight:var(--mdc-dialog-subhead-weight, var(--mat-app-headline-small-weight, 400));letter-spacing:var(--mdc-dialog-subhead-tracking, var(--mat-app-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, var(--mat-app-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mdc-dialog-supporting-text-font, var(--mat-app-body-medium-font, inherit));line-height:var(--mdc-dialog-supporting-text-line-height, var(--mat-app-body-medium-line-height, 1.5rem));font-size:var(--mdc-dialog-supporting-text-size, var(--mat-app-body-medium-size, 1rem));font-weight:var(--mdc-dialog-supporting-text-weight, var(--mat-app-body-medium-weight, 400));letter-spacing:var(--mdc-dialog-supporting-text-tracking, var(--mat-app-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.cdk-high-contrast-active .mat-mdc-dialog-actions{border-top-color:CanvasText}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2});let e=t;return e})(),vst="--mat-dialog-transition-duration";function yst(e){return e==null?null:typeof e=="number"?e:e.endsWith("ms")?Kh(e.substring(0,e.length-2)):e.endsWith("s")?Kh(e.substring(0,e.length-1))*1e3:e==="0"?0:null}var $D=function(e){return e[e.OPEN=0]="OPEN",e[e.CLOSING=1]="CLOSING",e[e.CLOSED=2]="CLOSED",e}($D||{}),sd=class{constructor(t,r,i){this._ref=t,this._containerInstance=i,this._afterOpened=new Je,this._beforeClosed=new Je,this._state=$D.OPEN,this.disableClose=r.disableClose,this.id=t.id,t.addPanelClass("mat-mdc-dialog-panel"),i._animationStateChanged.pipe(co(n=>n.state==="opened"),to(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(co(n=>n.state==="closed"),to(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),Vl(this.backdropClick(),this.keydownEvents().pipe(co(n=>n.keyCode===27&&!this.disableClose&&!Kl(n)))).subscribe(n=>{this.disableClose||(n.preventDefault(),PNt(this,n.type==="keydown"?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(co(r=>r.state==="closing"),to(1)).subscribe(r=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),r.totalTime+100)}),this._state=$D.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let r=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?r.left(t.left):r.right(t.right):r.centerHorizontally(),t&&(t.top||t.bottom)?t.top?r.top(t.top):r.bottom(t.bottom):r.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",r=""){return this._ref.updateSize(t,r),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=$D.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function PNt(e,t,r){return e._closeInteractionType=t,e.close(r)}var NNt=new Se("MatMdcDialogData"),LNt=new Se("mat-mdc-dialog-default-options"),FNt=new Se("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let e=pe(bn);return()=>e.scrollStrategies.block()}});var HNt=0,_st=(()=>{let t=class t{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let i=this._parentDialog;return i?i._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(i,n,o,s,a,l,c,d){this._overlay=i,this._defaultOptions=s,this._scrollStrategy=a,this._parentDialog=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Je,this._afterOpenedAtThisLevel=new Je,this.dialogConfigClass=hR,this.afterAllClosed=Cg(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ts(void 0))),this._dialog=n.get(pst),this._dialogRefConstructor=sd,this._dialogContainerType=ONt,this._dialogDataToken=NNt}open(i,n){let o;n=Vt(Vt({},this._defaultOptions||new hR),n),n.id=n.id||`mat-mdc-dialog-${HNt++}`,n.scrollStrategy=n.scrollStrategy||this._scrollStrategy();let s=this._dialog.open(i,je(Vt({},n),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:n},{provide:fb,useValue:n}]},templateContext:()=>({dialogRef:o}),providers:(a,l,c)=>(o=new this._dialogRefConstructor(a,n,c),o.updatePosition(n?.position),[{provide:this._dialogContainerType,useValue:c},{provide:this._dialogDataToken,useValue:l.data},{provide:this._dialogRefConstructor,useValue:o}])}));return o.componentRef=s.componentRef,o.componentInstance=s.componentInstance,this.openDialogs.push(o),this.afterOpened.next(o),o.afterClosed().subscribe(()=>{let a=this.openDialogs.indexOf(o);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||this._getAfterAllClosed().next())}),o}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(i){return this.openDialogs.find(n=>n.id===i)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(i){let n=i.length;for(;n--;)i[n].close()}};t.\u0275fac=function(n){return new(n||t)(ee(bn),ee(mn),ee(Wh,8),ee(LNt,8),ee(FNt),ee(t,12),ee(_v),ee(Fo,8))},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var wst=(()=>{let t=class t{constructor(i){this.translocoService=i}switchLanguage(i){this.translocoService.setActiveLang(i)}getLanguage(){return this.translocoService.getActiveLang()}};t.\u0275fac=function(n){return new(n||t)(ee(Xl))},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var zNt=["input"];function UNt(e,t){e&1&&He(0,"mat-progress-bar",18)}function WNt(e,t){e&1&&He(0,"div",19)}function YNt(e,t){e&1&&(ut(0,"div",48)(1,"h1",49),gt(2),Or(3,"transloco"),dt()()),e&2&&(te(2),_o(Pr(3,1,"All")))}function qNt(e,t){if(e&1&&(ut(0,"div",48)(1,"h4",50)(2,"b"),gt(3," \u2022 Collection Selected \u2022 "),dt()(),ut(4,"h1",49),gt(5),dt()()),e&2){let r=ki(2);te(5),_o(r.selectedCollection_Activate_Name)}}function $Nt(e,t){e&1&&(ut(0,"div",51)(1,"p")(2,"i"),gt(3),Or(4,"transloco"),dt()()()),e&2&&(te(3),ur("",Pr(4,1,"ErrorMessage1")," "))}function GNt(e,t){e&1&&He(0,"input",52)}function KNt(e,t){if(e&1&&He(0,"input",36),e&2){ki();let r=ja(29),i=ki();Me("matDatepicker",r)("formControl",i.date_start)("min",i.creation_date)("max",i.todayDate)}}function XNt(e,t){if(e&1&&(ut(0,"mat-datepicker-toggle",37)(1,"mat-icon",38),gt(2,"event"),dt()()),e&2){ki();let r=ja(29);Me("for",r)("disableRipple",!0)}}function ZNt(e,t){if(e&1){let r=Ho();ut(0,"div",20),Xi(1,YNt,4,3,"div",21)(2,qNt,6,1,"div",21),ut(3,"div",22)(4,"p")(5,"i"),gt(6),dt()()(),Xi(7,$Nt,5,3,"div",23),dt(),He(8,"hr",24),ut(9,"div",25)(10,"div",26)(11,"div",27)(12,"mat-card",28)(13,"mat-card-header")(14,"mat-card-title-group")(15,"mat-card-title"),gt(16),Or(17,"transloco"),dt(),He(18,"mat-card-subtitle"),dt()(),ut(19,"mat-card-content",29)(20,"div",30)(21,"mat-form-field",31)(22,"mat-label"),gt(23),Or(24,"transloco"),dt(),Xi(25,GNt,1,0,"input",32)(26,KNt,1,4,"input",33)(27,XNt,3,2,"mat-datepicker-toggle",34),ut(28,"mat-datepicker",35,1),Ke("monthSelected",function(n){cr(r);let o=ja(29),s=ki();return dr(s.setStartMonthAndYear(n,o))}),dt()(),ut(30,"mat-form-field",31)(31,"mat-label"),gt(32),Or(33,"transloco"),dt(),He(34,"input",36),ut(35,"mat-datepicker-toggle",37)(36,"mat-icon",38),gt(37,"event"),dt()(),ut(38,"mat-datepicker",35,2),Ke("monthSelected",function(n){cr(r);let o=ja(39),s=ki();return dr(s.setEndMonthAndYear(n,o))}),dt()()(),ut(40,"div",39)(41,"mat-checkbox",40),Ke("ngModelChange",function(n){cr(r);let o=ki();return dr(o.start_on=!n)}),gt(42),Or(43,"transloco"),dt(),ut(44,"div",41)(45,"button",42),Ke("click",function(){cr(r);let n=ki();return dr(n.CollectionDataButtonActivate())}),gt(46),Or(47,"transloco"),dt()()()()(),ut(48,"mat-card",43)(49,"mat-card-header")(50,"mat-card-title-group")(51,"mat-card-title"),gt(52),Or(53,"transloco"),dt(),He(54,"mat-card-subtitle"),dt()(),ut(55,"mat-card-content")(56,"app-tree",44),Ke("dataEvent",function(n){cr(r);let o=ki();return dr(o.getCollectionFromTree(n))}),dt()()()()(),He(57,"app-graph-dashboard",45)(58,"app-value-export-dashboard",46),dt(),He(59,"div",47)}if(e&2){let r=ja(39),i=ki();te(),Me("ngIf",i.selectedCollection_Activate==="(All)"),te(),Me("ngIf",i.selectedCollection_Activate!=="(All)"),te(4),_o(i.date_String),te(),Me("ngIf",i.error_flag),te(9),ur(" ",Pr(17,28,"DateRange")," "),te(7),_o(Pr(24,30,"StartDate")),te(2),Me("ngIf",!i.start_on),te(),Me("ngIf",i.start_on),te(),Me("ngIf",i.start_on),te(5),_o(Pr(33,32,"EndDate")),te(2),Me("matDatepicker",r)("formControl",i.date_end)("min",i.creation_date)("max",i.maxDate),te(),Me("for",r)("disableRipple",!0),te(6),Me("ngModel",!i.start_on),te(),ur(" ",Pr(43,34,"AllTime")," "),te(3),Me("disabled",i.isStartTimeAfterEndTime()),te(),ur(" ",Pr(47,36,"Submit")," "),te(6),ur(" ",Pr(53,38,"CollectionTree")," "),te(4),Me("data",i.raw_table_data)("current_active",i.selectedCollection_Activate_Name),te(),Me("data",i.raw_table_data)("selectedCollection_Activate_Name",i.selectedCollection_Activate_Name),te(),Me("data",i.raw_table_data)("selectedCollection_Activate_Name",i.selectedCollection_Activate_Name)("date_start_on",i.date_start_activate)}}hD();var Ja=Cst.default||VNt,QNt={parse:{dateInput:"YYYY-MM"},display:{dateInput:"YYYY-MM",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}},xst=(()=>{let t=class t{setStartMonthAndYear(i,n){this.date_start=new Mc(Ja());let o=this.date_start.value??Ja();o.month(i.month()),o.year(i.year()),this.date_start.setValue(o),n.close()}setEndMonthAndYear(i,n){this.dateStringFormat();let o=this.date_end.value??Ja();o.month(i.month()),o.year(i.year()),this.date_end.setValue(o),n.close()}submitDate(){let i=this.date_start.value??Ja(),n=this.date_end.value??Ja();console.log(i,n);let o=i.format("YYYY-MM"),s=n.format("YYYY-MM");this.start_on||(this.date_start_activate="",console.log(this.date_start_activate)),this.bad_range=!1,this.start_on&&o>s&&(this.bad_range=!0,this.date_select_on=!1),this.start_on&&!this.bad_range&&(this.date_start_activate=o,this.date_end_activate=s,this.date_select_on=!0),!this.start_on&&!this.bad_range&&(this.date_end_activate=s,this.date_select_on=!0)}isStartTimeAfterEndTime(){let i=this.date_start.value,n=this.date_end.value;return!i||!n?!0:Ja(n).isBefore(Ja(i))&&this.start_on}dateStringFormat(){if(!this.monthTranslations||Object.keys(this.monthTranslations).length===0)return"";let i=this.date_end.value??Ja(),n=i.format("YYYY"),o=parseInt(i.format("MM")),a=`${this.monthTranslations[o.toString()]||""} ${n}`;if(this.start_on){let l=this.date_start.value??Ja(),c=l.format("YYYY"),d=parseInt(l.format("MM"));return`${`${this.monthTranslations[d.toString()]||""} ${c}`} - ${a}`}return`- ${a}`}getData(i){this.raw_table_data=i.DataverseTabData,this.table_data=i.DataverseTabData.table_data,this.alias_data=i.DataverseTabData.alias_data,this.subject_table=i.DataverseTabData.subject_full_data,this.file_content_table=i.DataverseTabData.file_content_full_data,this.options=this.options.concat(i.DataverseTabData.name_dropdown_data.sort()),this.searchGroups[2].names=this.options,this.selectedCollection_Current=="(All)"?this.searchGroups[1].names=[]:this.searchGroups[1].names=this.table_data.map(n=>n.name),console.log(this.searchGroups),this.months=i.DataverseTabData.months,this.creation_date=i.DataverseTabData.creation_date,this.error_flag=i.DataverseTabData.error_flag,this.pieChartLabelsSubject=i.DataverseTabData.subject_label_data,this.pieChartDataSubject_data=i.DataverseTabData.subject_data,this.pieChartLabelsFile=i.DataverseTabData.file_content_label_data,this.pieChartDataFile_data=i.DataverseTabData.file_content_data,this.total_collections_num=i.DataverseTabData.name_dropdown_data.length.toString(),this.selectedCollection_Activate_Name=="(All)"?this.total_dataverses_num=(i.DataverseTabData.dataverse_count-i.DataverseTabData.name_dropdown_data.length).toString():this.total_dataverses_num=i.DataverseTabData.dataverse_count,this.date_start_activate!=""?(console.log("ds is activated here"),this.total_datasets_num=this.barChartDataDatasetsAgg_data.reduce((n,o)=>n+o,0).toLocaleString(),this.total_files_num=this.barChartDataFiles_Aggdata.reduce((n,o)=>n+o,0).toLocaleString(),this.total_downloads_num=this.barChartDataDownloadsAgg_data.reduce((n,o)=>n+o,0).toLocaleString(),this.total_users_num=this.barChartDataUsers_Aggdata.reduce((n,o)=>n+o,0).toLocaleString(),this.total_size_num=this.barChartDataSize_Aggdata.reduce((n,o)=>n+o,0).toFixed(2).toLocaleString(),+"GB"):(this.total_datasets_num=this.barChartDataDatasets_data[this.barChartDataDatasetsAgg_data.length-1].toLocaleString(),this.total_files_num=this.barChartDataFiles_data[this.barChartDataDatasets_data.length-1].toLocaleString(),this.total_downloads_num=this.barChartDataDownloads_data[this.barChartDataDownloads_data.length-1].toLocaleString(),this.total_users_num=this.barChartDataUsers_data[this.barChartDataUsers_data.length-1].toLocaleString(),this.total_size_num=this.barChartDataSize_data[this.barChartDataSize_data.length-1].toFixed(2).toLocaleString()+"GB"),this.total_collections_change=((this.barChartDataDatasets_data[0]-this.barChartDataDatasets_data[1])/this.barChartDataDatasets_data[1]*100).toFixed(2).toString()+"%",this.translocoService.selectTranslateObject(["Subject","Count","Distribution","FileType","SpecificFileType"]).subscribe(([n,o,s,a,l])=>{let c=this.months;this.barChartDataDownloads={labels:c,datasets:[{data:this.barChartDataDownloadsAgg_data,label:"Monthly File Downloads",backgroundColor:"rgba(102, 0, 102, 0.5)",borderColor:"rgba(102, 0, 102, 0.5)",hoverBackgroundColor:"rgba(102, 0, 102, 0.7)",hoverBorderColor:"rgba(102, 0, 102, 0.7)"},{data:this.barChartDataDownloads_data,label:"Cumulative File Downloads",backgroundColor:"rgba(0, 100, 255, 0.5)",borderColor:"rgba(0, 100, 255, 0.5)",hoverBackgroundColor:"rgba(0, 100, 255, 0.7)",hoverBorderColor:"rgba(0, 100, 255, 0.7)"}]},this.barChartDataDatasets={labels:c,datasets:[{data:this.barChartDataDatasetsAgg_data,label:"Monthly Datasets Published",backgroundColor:"rgba(102, 0, 102, 0.5)",borderColor:"rgba(102, 0, 102, 0.5)",hoverBackgroundColor:"rgba(102, 0, 102, 0.7)",hoverBorderColor:"rgba(102, 0, 102, 0.7)"},{data:this.barChartDataDatasets_data,label:"Cumulative Datasets Published",backgroundColor:"rgba(0, 100, 255, 0.5)",borderColor:"rgba(0, 100, 255, 0.5)",hoverBackgroundColor:"rgba(0, 100, 255, 0.7)",hoverBorderColor:"rgba(0, 100, 255, 0.7)"}]},this.barChartDataFiles={labels:c,datasets:[{data:this.barChartDataFiles_Aggdata,label:"Monthly File Published",backgroundColor:"rgba(102, 0, 102, 0.5)",borderColor:"rgba(102, 0, 102, 0.5)",hoverBackgroundColor:"rgba(102, 0, 102, 0.7)",hoverBorderColor:"rgba(102, 0, 102, 0.7)"},{data:this.barChartDataFiles_data,label:"Cumulative File Published",backgroundColor:"rgba(0, 100, 255, 0.5)",borderColor:"rgba(0, 100, 255, 0.5)",hoverBackgroundColor:"rgba(0, 100, 255, 0.7)",hoverBorderColor:"rgba(0, 100, 255, 0.7)"}]},this.barChartDataUsers={labels:c,datasets:[{data:this.barChartDataUsers_Aggdata,label:"Monthly Users Joined",backgroundColor:"rgba(102, 0, 102, 0.5)",borderColor:"rgba(102, 0, 102, 0.5)",hoverBackgroundColor:"rgba(102, 0, 102, 0.7)",hoverBorderColor:"rgba(102, 0, 102, 0.7)"},{data:this.barChartDataUsers_data,label:"Cumulative Users Joined",backgroundColor:"rgba(0, 100, 255, 0.5)",borderColor:"rgba(0, 100, 255, 0.5)",hoverBackgroundColor:"rgba(0, 100, 255, 0.7)",hoverBorderColor:"rgba(0, 100, 255, 0.7)"}]},this.barChartDataSize={labels:c,datasets:[{data:this.barChartDataSize_Aggdata,label:"Monthly Storage Used",backgroundColor:"rgba(102, 0, 102, 0.5)",borderColor:"rgba(102, 0, 102, 0.5)",hoverBackgroundColor:"rgba(102, 0, 102, 0.7)",hoverBorderColor:"rgba(102, 0, 102, 0.7)"},{data:this.barChartDataSize_data,label:"Cumulative Storage Used",backgroundColor:"rgba(0, 100, 255, 0.5)",borderColor:"rgba(0, 100, 255, 0.5)",hoverBackgroundColor:"rgba(0, 100, 255, 0.7)",hoverBorderColor:"rgba(0, 100, 255, 0.7)"}]},this.subject_columns=[{data:"subject",readOnly:"true",title:n},{data:"count",readOnly:"true",title:o},{data:"percent",readOnly:"true",title:s}],this.file_content_columns=[{data:"type",readOnly:"true",title:a},{data:"contenttype",readOnly:"true",title:l},{data:"count",readOnly:"true",title:o},{data:"percent",readOnly:"true",title:s}]}),this.pieChartDataSubject=[{data:this.pieChartDataSubject_data,label:"Subject Breakdown"}],this.pieChartDataFile=[{data:this.pieChartDataFile_data,label:"File Content Breakdown"}],console.log(this.pieChartDataSubject)}ngOnInit(){this.translocoService.selectTranslateObject("months").subscribe(i=>{this.monthTranslations=i,this.date_String=this.dateStringFormat()}),this.searchGroupOptions=this.searchForm.get("searchGroup").valueChanges.pipe(Ts(""),di(i=>this._filterGroup(i||"")))}_filterGroup(i){return i?this.searchGroups.map(n=>({letter:n.letter,names:this._filter(n.names,i)})).filter(n=>n.names.length>0):this.searchGroups}selectedCollection(i){if(this.selectedCollection_Current_Name=i.value,i.value=="(All)")this.selectedCollection_Current="(All)";else for(let n=0;n<=this.alias_data.length;n++)this.alias_data[n].name==i.value&&(this.selectedCollection_Current=this.alias_data[n].alias);console.log(i.value)}getCollectionFromTree(i){i.includes("(All)")?(this.selectedCollection_Activate="(All)",this.selectedCollection_Activate_Name="(All)"):(this.receivedCollectionFromTree=i,console.log(i),this.selectedCollection_Current=i[1],this.selectedCollection_Current_Name=i[0],this.selectedCollection_Activate=this.selectedCollection_Current,this.selectedCollection_Activate_Name=this.selectedCollection_Current_Name),this.submitDate(),this.date_String=this.dateStringFormat()}selectedDate(i,n){console.log(i),console.log(n)}CollectionDataButtonActivate(){console.log(this.date_end<this.date_start),this.selectedOption=this.selectedCollection_Current_Name;var i=!1;if(this.selectedOption=="(All)")this.selectedCollection_Current="(All)",this.selectedCollection_Current_Name="(All)",i=!0;else for(let n=0;n<this.alias_data.length;n++)this.alias_data[n].name===this.selectedOption&&(console.log(this.alias_data[n].alias),this.selectedCollection_Current=this.alias_data[n].alias,this.selectedCollection_Current_Name=this.selectedOption,i=!0);i&&(this.selectedCollection_Activate=this.selectedCollection_Current,this.selectedCollection_Activate_Name=this.selectedCollection_Current_Name,this.submitDate(),this.date_String=this.dateStringFormat(),console.log(this.selectedCollection_Activate))}constructor(i,n,o,s,a,l){this._liveAnnouncer=i,this.dialog=n,this.languageService=o,this.translocoService=s,this.cdr=a,this.loadingService=l,this._formBuilder=pe(cz),this.start_on=!1,this.minDate=new Date(new Date().setMonth(new Date().getDate()<7?new Date().getMonth()-1:new Date().getMonth())),this.maxDate=new Date(new Date().setMonth(new Date().getDate()<7?new Date().getMonth()-1:new Date().getMonth())),this.date_start=new Mc(Ja().date()<7?Ja().subtract(1,"month"):Ja()),this.date_end=new Mc(Ja().date()<7?Ja().subtract(1,"month"):Ja()),this.date_String=this.dateStringFormat(),this.date_start_activate="",this.date_end_activate="",this.date_select_on=!1,this.todayDate=new Date(new Date().setMonth(new Date().getDate()<7?new Date().getMonth()-1:new Date().getMonth())),this.bad_range=!1,this.myControl=new Mc(""),this.options=[],this.selectedOption="(All)",this.searchForm=this._formBuilder.group({searchGroup:""}),this.searchGroups=[{letter:"Default",names:["(All)"]},{letter:"Sub Dataverses",names:[]},{letter:"Collections",names:[]}],this.table_data=[],this.alias_data=[],this.raw_table_data={},this.subject_table=[],this.file_content_table=[],this.downloads_graph_data=[],this.datasets_graph_data=[],this.files_graph_data=[],this.users_graph_data=[],this.size_graph_data=[],this.name_dropdown_data=[],this.creation_date=[],this.barChartDataDownloads_data=[],this.barChartDataDownloads={labels:[],datasets:[]},this.barChartDataDatasets_data=[],this.barChartDataDatasets={labels:[],datasets:[]},this.barChartDataFiles_data=[],this.barChartDataFiles={labels:[],datasets:[]},this.barChartDataUsers_data=[],this.barChartDataUsers={labels:[],datasets:[]},this.barChartDataSize_data=[],this.barChartDataSize={labels:[],datasets:[]},this.subject_columns=[],this.file_content_columns=[],this.months=[],this.barChartDataDownloadsAgg_data=[],this.barChartDataDatasetsAgg_data=[],this.barChartDataFiles_Aggdata=[],this.barChartDataUsers_Aggdata=[],this.barChartDataSize_Aggdata=[],this.pieChartDataSubject_data=[],this.pieChartLabelsSubject=[],this.pieChartDataSubject=[],this.pieChartDataFile_data=[],this.pieChartLabelsFile=[],this.pieChartDataFile=[],this.selectedCollection_Current="(All)",this.selectedCollection_Activate="(All)",this.selectedCollection_Current_Name="(All)",this.selectedCollection_Activate_Name="(All)",this.total_collections_num="-",this.total_dataverses_num="-",this.total_datasets_num="-",this.total_files_num="-",this.total_downloads_num="-",this.total_users_num="-",this.total_size_num="-",this.total_collections_change="-",this.total_datasets_change="-",this.total_files_chnage="-",this.total_downloads_change="-",this.total_users_change="-",this.total_size_change="-",this.downloads_labels=[this.translocoService.selectTranslate("MonthlyFileDownloads"),this.translocoService.selectTranslate("CumulativeFileDownloads")],this.datasets_labels=[this.translocoService.selectTranslate("MonthlyDatasetsPublished"),this.translocoService.selectTranslate("CumulativeDatasetsPublished")],this.file_labels=[this.translocoService.selectTranslate("MonthlyFilePublished"),this.translocoService.selectTranslate("CumulativeFilePublished")],this.user_labels=[this.translocoService.selectTranslate("MonthlyUsersJoined"),this.translocoService.selectTranslate("CumulativeUsersJoined")],this.storage_usage=[this.translocoService.selectTranslate("MonthlyStorageUsed"),this.translocoService.selectTranslate("CumulativeStorageUsed")],this.dataset_table_data=[],this.file_table_data=[],this.subjectTableOn=!1,this.fileContentTableOn=!1,this.receivedCollectionFromTree=[],this.isOpen=!1,this.isLoading=!1,this.error_flag=!1,this.monthTranslations={},this._filter=(c,d)=>{let u=d.toLowerCase();return c.filter(h=>h.toLowerCase().includes(u))},this.displayedColumns=["name","views","downloads","citations"],this.title="metrics-app",this.range=new Cm({start:new Mc(null),end:new Mc(null)}),this.filteredOptions=this.options.slice(),this.loadingService.isLoading$.subscribe(c=>{this.isLoading=c})}filter(){let i=this.input.nativeElement.value.toLowerCase();this.filteredOptions=this.options.filter(n=>n.toLowerCase().includes(i))}switchLanguage(i){this.languageService.switchLanguage(i),this.cdr.detectChanges(),this.cdr.markForCheck()}getLanguage(){return this.languageService.getLanguage()}ngAfterViewInit(){}announceSortChange(i){i.direction?this._liveAnnouncer.announce(`Sorted ${i.direction}ending`):this._liveAnnouncer.announce("Sorting cleared")}openAboutDialog(){this.getLanguage()==="fr"?this.dialog.open(t6t):this.dialog.open(JNt)}openTOCDialog(){this.getLanguage()==="fr"?this.dialog.open(i6t):this.dialog.open(e6t)}openContactDialog(){this.getLanguage()==="fr"?this.dialog.open(n6t):this.dialog.open(r6t)}openFAQDialog(){this.getLanguage()==="fr"?this.dialog.open(s6t):this.dialog.open(o6t)}subjectToggle(){this.subjectTableOn?this.subjectTableOn=!1:this.subjectTableOn=!0}defaultButton(){window.location.reload()}};t.\u0275fac=function(n){return new(n||t)(Pt(pV),Pt(_st),Pt(wst),Pt(Xl),Pt(hr),Pt(wD))},t.\u0275cmp=We({type:t,selectors:[["app-root"]],viewQuery:function(n,o){if(n&1&&(or(zNt,5),or(i$,5)),n&2){let s;Hi(s=Bi())&&(o.input=s.first),Hi(s=Bi())&&(o.sort=s.first)}},standalone:!0,features:[gr([hz(QNt)]),li],decls:38,vars:27,consts:[["download",""],["dp_s",""],["dp_e",""],[2,"padding","20px"],[2,"float","left"],["src","assets/logo.png","alt","image",2,"max-width","100%","height","30px","position","absolute"],[2,"position","relative","left","35px"],[2,"float","right","align-items","center"],[2,"float","right","position","relative"],["mat-button","",3,"click","disabled"],[2,"clear","both"],["mat-button","",1,"mat-small",2,"min-width","1%",3,"click"],["mode","indeterminate",4,"ngIf"],["class","loading-overlay",4,"ngIf"],[3,"messageEvent","collectionSelected","collectionSelectedName","startDate","endDate","start_on"],[2,"max-width","fit-content","margin-left","auto","margin-right","auto"],[3,"data","name"],[3,"ngIf"],["mode","indeterminate"],[1,"loading-overlay"],[1,"title-container"],["id","pdf_name",4,"ngIf"],["id","pdf_date",2,"margin-bottom","4px"],["style",`
    margin-bottom: 4px; 
    margin-left: 5px; 
    color: red; 
    border: 1px solid red; 
    border-radius: 8px; 
    background-color: #ffe5e5; 
    padding: 10px 10px 0px 10px; 
    max-width: 300px;
    line-height: 1;
    `,4,"ngIf"],[2,"border","none","height","1px","background-color","#ccc","margin","16px 0"],[2,"margin","auto","width","100%","display","flex"],[2,"vertical-align","top"],["id","main_meteris"],["appearance","outlined",1,"example-card","hide-scrollbar",2,"min-width","350px","max-width","350px","margin-bottom","10px","margin-left","5px","margin-top","10px","max-height","500px","overflow-y","auto","font-size","12px"],[2,"margin-top","10px","margin-left","17px"],[2,"display","flex","flex-direction","row"],["appearance","outline","disableRipple","",1,"compact-form-field",2,"margin-left","10px"],["matInput","","disabled","",4,"ngIf"],["matInput","",3,"matDatepicker","formControl","min","max",4,"ngIf"],["matIconSuffix","","class","custom-toggle",3,"for","disableRipple",4,"ngIf"],["startView","multi-year","panelClass","example-month-picker",3,"monthSelected"],["matInput","",3,"matDatepicker","formControl","min","max"],["matIconSuffix","",1,"custom-toggle",3,"for","disableRipple"],["matDatepickerToggleIcon","",1,"small-datepicker-icon"],[2,"display","flex","align-items","center","margin-top","-20px","margin-left","12px","margin-right","20px"],["matTooltip","Generates metrics from creation, visual displays last 24 months",2,"font-size","16px","transform","scale(0.9)","transform-origin","left top","margin-left","8px",3,"ngModelChange","ngModel"],[2,"margin-left","auto","margin-right","10px"],["mat-button","",2,"border","1px solid","font-size","12px","width","125px","height","25px",3,"click","disabled"],["appearance","outlined",1,"example-card","hide-scrollbar",2,"min-width","350px","max-width","350px","margin-left","5px","max-height","3165px","overflow-y","auto","font-size","12px"],[3,"dataEvent","data","current_active"],[3,"data","selectedCollection_Activate_Name"],[3,"data","selectedCollection_Activate_Name","date_start_on"],[2,"padding-top","1200px","height","1000px"],["id","pdf_name"],["id","responsive-title",1,"responsive-title"],[2,"color","purple"],[2,"margin-bottom","4px","margin-left","5px","color","red","border","1px solid red","border-radius","8px","background-color","#ffe5e5","padding","10px 10px 0px 10px","max-width","300px","line-height","1"],["matInput","","disabled",""]],template:function(n,o){if(n&1){let s=Ho();ut(0,"div")(1,"h2",3)(2,"div",4),He(3,"img",5),ut(4,"div",6),gt(5),Or(6,"transloco"),dt()(),ut(7,"div",7)(8,"div",8)(9,"button",9),Ke("click",function(){return cr(s),dr(o.switchLanguage("en"))}),gt(10," English "),dt(),gt(11," | "),ut(12,"button",9),Ke("click",function(){return cr(s),dr(o.switchLanguage("fr"))}),gt(13," Fran\xE7ais "),dt()(),ut(14,"div",10)(15,"button",11),Ke("click",function(){return cr(s),dr(o.openAboutDialog())}),gt(16),Or(17,"transloco"),dt(),gt(18," | "),ut(19,"button",11),Ke("click",function(){return cr(s),dr(o.openTOCDialog())}),gt(20),Or(21,"transloco"),dt(),gt(22," | "),ut(23,"button",11),Ke("click",function(){return cr(s),dr(o.openContactDialog())}),gt(24),Or(25,"transloco"),dt(),gt(26," | "),ut(27,"button",11),Ke("click",function(){return cr(s),dr(o.openFAQDialog())}),gt(28),Or(29,"transloco"),dt()()()()(),Xi(30,UNt,1,0,"mat-progress-bar",12)(31,WNt,1,0,"div",13),ut(32,"app-posts",14),Ke("messageEvent",function(l){return cr(s),dr(o.getData(l))}),dt(),ut(33,"div",15)(34,"div",10),He(35,"app-download",16,0),Xi(37,ZNt,60,40,"ng-template",17),dt()()}n&2&&(te(5),ur(" ",Pr(6,17,"Title")," "),te(4),Me("disabled",o.getLanguage()=="en"),te(3),Me("disabled",o.getLanguage()=="fr"),te(4),ur(" ",Pr(17,19,"About")," "),te(4),ur(" ",Pr(21,21,"TermsofUse")," "),te(4),ur(" ",Pr(25,23,"Contact")," "),te(4),ur(" ",Pr(29,25,"FAQ")," "),te(2),Me("ngIf",o.isLoading),te(),Me("ngIf",o.isLoading),te(),Me("collectionSelected",o.selectedCollection_Activate)("collectionSelectedName",o.selectedCollection_Current_Name)("startDate",o.date_start_activate)("endDate",o.date_end_activate)("start_on",o.date_select_on),te(3),Me("data",o.raw_table_data)("name",o.selectedOption),te(2),Me("ngIf",!0))},dependencies:[DV,jg,Tz,ZT,Ez,Hz,Az,Mz,Bz,dz,gv,qT,E4,KT,jw,PV,Yq,ju,Rd,$v,zm,r$,rI,Unt,znt,vD,U7,z7,ost,Xj,Gnt,oot,$n,Ub,a1,o1,s1,MD,TD,ED,RD,cot,ID,rst,qD,YD,Vm,jm,hst,fst,mst,yD],styles:[".handsontable[_ngcontent-%COMP%]   .odd[_ngcontent-%COMP%], .handsontable[_ngcontent-%COMP%]   .even[_ngcontent-%COMP%]{background:red!important;color:red!important}.mat-mdc-menu-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:40px!important}.title-container[_ngcontent-%COMP%]{vertical-align:top;margin-top:60px;margin-left:0;padding-left:0;position:relative;max-width:none;width:100%;box-sizing:border-box}.responsive-title[_ngcontent-%COMP%]{font-weight:700;font-size:clamp(16px,4vw,32px);white-space:normal;overflow-wrap:break-word;max-width:73vw;padding-left:5px}#pdf_name[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{line-height:1.2;padding-bottom:4px}#pdf_date[_ngcontent-%COMP%]{margin-top:-10px;font-size:18px;margin-left:5px}.compact-mat-form-field[_ngcontent-%COMP%]{width:140px;--mat-form-field-container-height: 36px;--mat-form-field-container-vertical-padding: 4px;font-size:16px}.compact-mat-form-field[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding-top:4px;padding-bottom:4px;height:32px}.loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#0000004d;z-index:9999}"],changeDetection:0});let e=t;return e})(),JNt=(()=>{let t=class t{constructor(i){this.dialogRef=i}closeDialog(){this.dialogRef.close()}};t.\u0275fac=function(n){return new(n||t)(Pt(sd))},t.\u0275cmp=We({type:t,selectors:[["about-dialog-popup-en"]],decls:115,vars:0,consts:[[1,"dialog-container",2,"position","relative","height","600px","width","700px","padding","20px 40px","overflow-y","auto","box-sizing","border-box"],["aria-label","Close dialog",1,"close-button",2,"position","absolute","top","10px","right","10px","background","transparent","border","none","font-size","24px","cursor","pointer",3,"click"],["mat-dialog-title","",2,"font-size","32px","font-weight","bold","margin-top","40px"]],template:function(n,o){n&1&&(ut(0,"div",0)(1,"button",1),Ke("click",function(){return o.closeDialog()}),gt(2," \u2715 "),dt(),ut(3,"h1",2),gt(4,"About"),dt(),ut(5,"p")(6,"strong"),gt(7,"Borealis"),dt(),gt(8,", the Canadian Dataverse Repository, is a bilingual, multidisciplinary, secure, Canadian research data repository, supported by academic libraries and research institutions across Canada. Borealis supports open discovery, management, sharing, and preservation of Canadian research data. "),dt(),ut(9,"p"),gt(10," The Borealis Metrics Report allows users to curate and analyze usage data across the entire platform and within specific collections. The interface is available in English or "),ut(11,"em"),gt(12,"en fran\xE7ais"),dt(),gt(13,". Please note that Collection names and data are represented in their original language, as are the corresponding metadata. "),dt(),ut(14,"p"),gt(15," Below is an overview of the features available in the Borealis Metrics Report, as well as a description of categories and filters users may choose to apply. "),dt(),ut(16,"h3")(17,"i"),gt(18,"Left-hand Panel"),dt()(),ut(19,"h4")(20,"strong"),gt(21,"Collections Tree"),dt()(),ut(22,"p"),gt(23," The Collections Tree is a configuration tool that allows users to navigate and search over 1,500 collections in their intended, hierarchical data structure. Collections and subcollections follow a nested structure, with reports available for the collection as a whole or for specific subcollections. "),dt(),ut(24,"p"),gt(25," To view metrics for a specific collection or subcollection, click the "),ut(26,"strong"),gt(27,"\u201CFull Report\u201D"),dt(),gt(28," button in the nested tree structure. "),dt(),ut(29,"h4")(30,"strong"),gt(31,"Date Range"),dt()(),ut(32,"p"),gt(33," Users can examine data within any specific timeframe, from its creation to the most recent month. "),dt(),ut(34,"h3")(35,"i"),gt(36,"Centre and Right-hand Panel"),dt()(),ut(37,"h4")(38,"strong"),gt(39,"Graph Dashboard"),dt()(),ut(40,"p"),gt(41," Graphs are generated when the "),ut(42,"strong"),gt(43,"\u201CMonthly\u201D"),dt(),gt(44," and/or "),ut(45,"strong"),gt(46,"\u201CCumulative\u201D"),dt(),gt(47," metrics are selected at the top of bar graphs or from the legend next to pie graphs. Graph data ranges will adjust based on the selected dates and collections. "),dt(),ut(48,"h4")(49,"strong"),gt(50,"Exports"),dt()(),ut(51,"p"),gt(52,"The Borealis Metrics Report currently supports four export options:"),dt(),ut(53,"ul")(54,"li")(55,"strong"),gt(56,"Excel"),dt(),gt(57," \u2013 Exports data from the selected collection and date range into a multi-sheet XLSX file."),dt(),ut(58,"li")(59,"strong"),gt(60,"PDF"),dt(),gt(61," \u2013 Exports the graphs and right-hand panel metrics for the selected collections and date range into a single organized PDF."),dt(),ut(62,"li")(63,"strong"),gt(64,"Legacy"),dt(),gt(65," \u2013 Structured data export from a previous version of the Borealis Metrics Report. Data in this export may be formatted differently than other export formats."),dt(),ut(66,"li")(67,"strong"),gt(68,"Make Data Count"),dt(),gt(69," \u2013 Exports usage metrics compliant with Make Data Count standards for research data metrics."),dt()(),ut(70,"h4")(71,"strong"),gt(72,"Collections"),dt()(),ut(73,"p"),gt(74,"The number of collections currently hosted on Borealis. This metric does not update based on date or selected collection as it is representative of current Borealis holdings."),dt(),ut(75,"h4")(76,"strong"),gt(77,"Datasets"),dt()(),ut(78,"p"),gt(79,"The number of datasets within a selected collection."),dt(),ut(80,"h4")(81,"strong"),gt(82,"Files"),dt()(),ut(83,"p"),gt(84,"The number of files within a selected collection."),dt(),ut(85,"h4")(86,"strong"),gt(87,"Downloads"),dt()(),ut(88,"p"),gt(89,"Number of downloaded files from a selected collection."),dt(),ut(90,"h4")(91,"strong"),gt(92,"Users"),dt()(),ut(93,"p"),gt(94,"The number of user accounts in Borealis. "),dt(),ut(95,"h4")(96,"strong"),gt(97,"Authors"),dt()(),ut(98,"p"),gt(99,"The number of authors with published contributions in a selected collection."),dt(),ut(100,"h4")(101,"strong"),gt(102,"Storage Usage"),dt()(),ut(103,"p"),gt(104,"Total file size for a selected dataverse."),dt(),ut(105,"h4")(106,"strong"),gt(107,"Subject Breakdown"),dt()(),ut(108,"p"),gt(109,"Breakdown of assigned subjects for datasets and their distribution within a selected collection."),dt(),ut(110,"h4")(111,"strong"),gt(112,"File Breakdown"),dt()(),ut(113,"p"),gt(114,"Breakdown of file types and extensions of files within a selected collection, as well as their distribution."),dt()())},encapsulation:2});let e=t;return e})(),t6t=(()=>{let t=class t{constructor(i){this.dialogRef=i}closeDialog(){this.dialogRef.close()}};t.\u0275fac=function(n){return new(n||t)(Pt(sd))},t.\u0275cmp=We({type:t,selectors:[["about-dialog-popup-fr"]],decls:115,vars:0,consts:[[1,"dialog-container",2,"position","relative","height","600px","width","700px","padding","20px 40px","overflow-y","auto","box-sizing","border-box"],["aria-label","Fermer le dialogue",1,"close-button",2,"position","absolute","top","10px","right","10px","background","transparent","border","none","font-size","24px","cursor","pointer",3,"click"],["mat-dialog-title","",2,"font-size","32px","font-weight","bold","margin-top","40px"]],template:function(n,o){n&1&&(ut(0,"div",0)(1,"button",1),Ke("click",function(){return o.closeDialog()}),gt(2," \u2715 "),dt(),ut(3,"h1",2),gt(4,"\xC0 propos"),dt(),ut(5,"p")(6,"strong"),gt(7,"Borealis"),dt(),gt(8,", le d\xE9p\xF4t Dataverse canadien, est un d\xE9p\xF4t canadien de donn\xE9es de recherche bilingue, multidisciplinaire et s\xE9curis\xE9, soutenu par des biblioth\xE8ques universitaires et des \xE9tablissements de recherche de partout au Canada. Borealis permet la d\xE9couverte, la gestion, le partage et la pr\xE9servation des donn\xE9es de recherche canadiennes. "),dt(),ut(9,"p"),gt(10," Le rapport des statistiques Borealis permet aux utilisateurs de g\xE9rer et d\u2019analyser les donn\xE9es d\u2019utilisation de l\u2019ensemble de la plateforme ainsi que de collections sp\xE9cifiques. L\u2019interface est disponible en fran\xE7ais ou "),ut(11,"em"),gt(12,"in english"),dt(),gt(13,". Veuillez noter que les noms des collections et les donn\xE9es sont pr\xE9sent\xE9s dans leur langue d\u2019origine, de m\xEAme que les m\xE9tadonn\xE9es correspondantes. "),dt(),ut(14,"p"),gt(15," Vous trouverez ci-dessous un aper\xE7u des fonctionnalit\xE9s disponibles dans le rapport des statistiques Borealis, ainsi qu\u2019une description des cat\xE9gories et des filtres que les utilisateurs peuvent choisir d\u2019appliquer. "),dt(),ut(16,"h3")(17,"i"),gt(18,"Panneau de gauche"),dt()(),ut(19,"h4")(20,"strong"),gt(21,"Arborescence des collections"),dt()(),ut(22,"p"),gt(23," L\u2019arborescence des collections est un outil de configuration qui permet aux utilisateurs de naviguer et de rechercher parmi plus de 1 500 collections selon la hi\xE9rarchie pr\xE9\xE9tablie des donn\xE9es. Les collections et sous-collections suivent une structure imbriqu\xE9e, et il est possible de consulter des rapports pour l\u2019ensemble d\u2019une collection ou pour des sous-collections sp\xE9cifiques. "),dt(),ut(24,"p"),gt(25," Pour voir les statistiques d\u2019une collection ou d\u2019une sous-collection sp\xE9cifique, cliquez sur le bouton "),ut(26,"strong"),gt(27,"\xAB Rapport complet \xBB"),dt(),gt(28," dans l\u2019arborescence. "),dt(),ut(29,"h4")(30,"strong"),gt(31,"Plage de dates"),dt()(),ut(32,"p"),gt(33," Les utilisateurs peuvent consulter les donn\xE9es sur n\u2019importe quelle p\xE9riode sp\xE9cifique, de leur cr\xE9ation jusqu\u2019au mois le plus r\xE9cent. "),dt(),ut(34,"h3")(35,"i"),gt(36,"Panneau du centre et de droite"),dt()(),ut(37,"h4")(38,"strong"),gt(39,"Tableau de bord graphique"),dt()(),ut(40,"p"),gt(41," Les graphiques sont g\xE9n\xE9r\xE9s lorsque les statistiques "),ut(42,"strong"),gt(43,"\xAB mensuelles \xBB"),dt(),gt(44," et/ou "),ut(45,"strong"),gt(46,"\xAB cumulatives \xBB"),dt(),gt(47," sont s\xE9lectionn\xE9es dans l\u2019en-t\xEAte des graphiques \xE0 barres ou \xE0 partir de la l\xE9gende \xE0 c\xF4t\xE9 des graphiques circulaires. Les plages de donn\xE9es des graphiques s\u2019ajustent en fonction des dates et des collections s\xE9lectionn\xE9es. "),dt(),ut(48,"h4")(49,"strong"),gt(50,"Exportations"),dt()(),ut(51,"p"),gt(52,"Le rapport des statistiques Borealis prend en charge quatre options d\u2019exportation :"),dt(),ut(53,"ul")(54,"li")(55,"strong"),gt(56,"Excel"),dt(),gt(57," \u2013 Exporte les donn\xE9es de la collection et de la plage de dates s\xE9lectionn\xE9es dans un fichier XLSX \xE0 plusieurs feuilles de calcul."),dt(),ut(58,"li")(59,"strong"),gt(60,"PDF"),dt(),gt(61," \u2013 Exporte les graphiques et les m\xE9triques du panneau de droite pour les collections et la plage de dates s\xE9lectionn\xE9es dans un PDF unique et structur\xE9."),dt(),ut(62,"li")(63,"strong"),gt(64,"Legacy"),dt(),gt(65," \u2013 Exportation de donn\xE9es structur\xE9es depuis une version pr\xE9c\xE9dente du rapport des statistiques Borealis. Les donn\xE9es de cet export peuvent \xEAtre format\xE9es diff\xE9remment des autres formats."),dt(),ut(66,"li")(67,"strong"),gt(68,"Make Data Count"),dt(),gt(69," \u2013 Exporte les m\xE9triques d\u2019utilisation conformes aux standards de Make Data Count pour les m\xE9triques de donn\xE9es de recherche."),dt()(),ut(70,"h4")(71,"strong"),gt(72,"Collections"),dt()(),ut(73,"p"),gt(74,"Nombre de collections actuellement h\xE9berg\xE9es sur Borealis. Cette mesure ne se met pas \xE0 jour selon la date ou la collection s\xE9lectionn\xE9e, car elle refl\xE8te l\u2019\xE9tat actuel des d\xE9p\xF4ts dans Borealis."),dt(),ut(75,"h4")(76,"strong"),gt(77,"Ensembles de donn\xE9es"),dt()(),ut(78,"p"),gt(79,"Le nombre d\u2019ensembles de donn\xE9es dans la collection s\xE9lectionn\xE9e."),dt(),ut(80,"h4")(81,"strong"),gt(82,"Fichiers"),dt()(),ut(83,"p"),gt(84,"Le nombre de fichiers dans la collection s\xE9lectionn\xE9e."),dt(),ut(85,"h4")(86,"strong"),gt(87,"T\xE9l\xE9chargements"),dt()(),ut(88,"p"),gt(89,"Le nombre de fichiers t\xE9l\xE9charg\xE9s \xE0 partir de la collection s\xE9lectionn\xE9e."),dt(),ut(90,"h4")(91,"strong"),gt(92,"Utilisateurs"),dt()(),ut(93,"p"),gt(94,"Nombre de comptes utilisateurs dans Borealis."),dt(),ut(95,"h4")(96,"strong"),gt(97,"Auteurs"),dt()(),ut(98,"p"),gt(99,"Nombre d\u2019auteurs ayant publi\xE9 du contenu dans la collection s\xE9lectionn\xE9e."),dt(),ut(100,"h4")(101,"strong"),gt(102,"Utilisation du stockage"),dt()(),ut(103,"p"),gt(104,"Taille totale des fichiers dans la collection s\xE9lectionn\xE9e."),dt(),ut(105,"h4")(106,"strong"),gt(107,"R\xE9partition par sujets"),dt()(),ut(108,"p"),gt(109,"D\xE9tails concernant les sujets attribu\xE9s aux ensembles de donn\xE9es dans la collection s\xE9lectionn\xE9e, ainsi que leur distribution."),dt(),ut(110,"h4")(111,"strong"),gt(112,"D\xE9tails sur les fichiers"),dt()(),ut(113,"p"),gt(114,"D\xE9tails concernant les types et les extensions de fichiers publi\xE9s dans la collection s\xE9lectionn\xE9e, ainsi que leur distribution."),dt()())},encapsulation:2});let e=t;return e})(),e6t=(()=>{let t=class t{constructor(i){this.dialogRef=i}closeDialog(){this.dialogRef.close()}};t.\u0275fac=function(n){return new(n||t)(Pt(sd))},t.\u0275cmp=We({type:t,selectors:[["toc-dialog-popup-en"]],decls:139,vars:0,consts:[[2,"height","600px","width","700px","padding","20px 40px","overflow-y","auto","box-sizing","border-box"],["aria-label","Close dialog",1,"close-button",2,"position","absolute","top","10px","right","10px","background","transparent","border","none","font-size","24px","cursor","pointer",3,"click"],[2,"font-size","32px","font-weight","bold","margin-top","40px"],["href","https://creativecommons.org/licenses/by-sa/4.0/","target","_blank"]],template:function(n,o){n&1&&(ut(0,"div",0)(1,"button",1),Ke("click",function(){return o.closeDialog()}),gt(2," \u2715 "),dt(),ut(3,"h1",2),gt(4,"Terms of Use"),dt(),ut(5,"h2"),gt(6,"Introduction"),dt(),ut(7,"p"),gt(8," Borealis, the Canadian Dataverse Repository, is a digital research data repository available to researchers at participating Canadian universities and research organizations with infrastructure hosted by the University of Toronto Libraries (UTL) in Ontario, Canada. The open-source Dataverse software is developed and maintained by the Institute of Quantitative Social Science (IQSS) at Harvard University, with the assistance of Dataverse community members from around the world. "),dt(),ut(9,"p"),gt(10," Borealis is designed to provide Canadian researchers with a place to store, share, and publish their research data. It is also designed to allow researchers from around the world to discover, view, and download research data from Canadian researchers. "),dt(),ut(11,"h2"),gt(12,"Acceptance of Terms"),dt(),ut(13,"p"),gt(14," The following terms and conditions govern all use of the Borealis website (the Site) and the services available on or at the Site (taken together, the Service). The Service is operated by the University of Toronto Libraries (the Service Provider). The Service is offered subject to acceptance, without modification, of the terms and conditions contained herein (the Terms of Use) and all other operating rules, policies, and procedures that may be published from time to time on this Site by the Service Provider. "),dt(),ut(15,"p"),gt(16," The Service Provider may refuse to offer the Service to any person or entity at any time and may change its eligibility criteria, at any time, at its sole discretion. "),dt(),ut(17,"h2"),gt(18,"Modification of Terms of Use"),dt(),ut(19,"p"),gt(20," The Service Provider reserves the right, at its sole discretion, to modify or replace any of the Terms of Use at any time. It is your responsibility to check the Terms of Use periodically for changes. Your continued use of the Service following the posting of any changes to the Terms of Use constitutes acceptance of those changes. "),dt(),ut(21,"h2"),gt(22,"Rules and Conduct"),dt(),ut(23,"p"),gt(24," As a condition of use, you promise not to use the Service for any purpose that is prohibited by the Terms of Use. For purposes of the Terms of Use, \u201CContent\u201D includes, without limitation, any information, data, text, software, scripts, graphics, and interactive features generated, provided, or otherwise made accessible by the Service Provider on or through the Service. "),dt(),ut(25,"p"),gt(26," By way of example, and not as a limitation, you shall not (or permit others to) take any action or upload, download, post, submit, or otherwise distribute any Content using any communications service that: "),dt(),ut(27,"ul")(28,"li"),gt(29,"Infringes any patent, trademark, trade secret, copyright, right of publicity, or other right of any person or entity;"),dt(),ut(30,"li"),gt(31,"Is unlawful, threatening, abusive, harassing, defamatory, libelous, deceptive, fraudulent, invasive of another\u2019s privacy, tortious, obscene, offensive, or profane;"),dt(),ut(32,"li"),gt(33,"Constitutes unauthorized or unsolicited advertising or spam;"),dt(),ut(34,"li"),gt(35,"Contains software viruses or malicious code designed to disrupt or gain unauthorized access to systems or data."),dt()(),ut(36,"p"),gt(37," Additionally, you shall not: "),dt(),ut(38,"ul")(39,"li"),gt(40,"Take any action that imposes an unreasonable load on the Service;"),dt(),ut(41,"li"),gt(42,"Interfere with the proper working of the Service;"),dt(),ut(43,"li"),gt(44,"Bypass any security measures of the Service."),dt()(),ut(45,"p"),gt(46," You shall abide by all applicable local, provincial, national, and international laws and regulations. "),dt(),ut(47,"h2"),gt(48,"Registration"),dt(),ut(49,"p"),gt(50," You may be required to register with the Site to use the Service. You must provide accurate and complete information. You must not use a username: "),dt(),ut(51,"ul")(52,"li"),gt(53,"With the intent to impersonate someone else;"),dt(),ut(54,"li"),gt(55,"That is subject to the rights of someone else without permission;"),dt(),ut(56,"li"),gt(57,"That is offensive or obscene."),dt()(),ut(58,"p"),gt(59," You are responsible for maintaining the confidentiality of your password and for all activity under your account. "),dt(),ut(60,"h2"),gt(61,"Affiliation with Participating Institutions"),dt(),ut(62,"p"),gt(63," Participating Institutions have administrative control over their collections and may implement their own policies. Users must adhere to those institutional policies. "),dt(),ut(64,"h2"),gt(65,"User Content"),dt(),ut(66,"p"),gt(67," Users may upload Content such as documents, images, videos, audio, and more. The Service Provider is not responsible for lost or damaged content. You warrant you have the right to license any content you upload. "),dt(),ut(68,"h2"),gt(69,"Terms and Conditions of User Content"),dt(),ut(70,"p"),gt(71," The Service Provider does not pre-screen uploaded content. By publishing content, you confirm it: "),dt(),ut(72,"ul")(73,"li"),gt(74,"Does not infringe on others' rights;"),dt(),ut(75,"li"),gt(76,"Does not violate laws;"),dt(),ut(77,"li"),gt(78,"Does not contain malware;"),dt(),ut(79,"li"),gt(80,"Includes proper attribution and REB approval if applicable."),dt()(),ut(81,"h2"),gt(82,"Sensitive and Confidential Data"),dt(),ut(83,"p"),gt(84," You confirm that content does not include identifying information unless: "),dt(),ut(85,"ul")(86,"li"),gt(87,"Subjects have consented;"),dt(),ut(88,"li"),gt(89,"It relates to public figures in public contexts;"),dt(),ut(90,"li"),gt(91,"It is historical or otherwise public;"),dt(),ut(92,"li"),gt(93,"It complies with privacy and ethical standards."),dt()(),ut(94,"h2"),gt(95,"Permission for Data Reuse and Long-term Preservation"),dt(),ut(96,"p"),gt(97," By uploading, you grant a non-exclusive license to the Service Provider and Participating Institutions to use and preserve the content. This includes backups, format migration, cataloguing, and metadata harvesting in accordance with the FAIR Principles. "),dt(),ut(98,"h2"),gt(99,"Removal of Data"),dt(),ut(100,"p"),gt(101," Content may be removed by the Service Provider or Participating Institutions for any reason, including legal or policy violations. "),dt(),ut(102,"h2"),gt(103,"Termination of Access"),dt(),ut(104,"p"),gt(105," Your access to the Service may be terminated at any time. Provisions such as warranties, indemnity, and liability limitations survive termination. "),dt(),ut(106,"h2"),gt(107,"No Warranties"),dt(),ut(108,"p"),gt(109," THE SERVICE AND CONTENT ARE PROVIDED \u201CAS IS\u201D WITHOUT WARRANTIES OF ANY KIND. USE AT YOUR OWN RISK. "),dt(),ut(110,"h2"),gt(111,"Limitation of Liability"),dt(),ut(112,"p"),gt(113," The Service Provider is not liable for indirect, incidental, or consequential damages or for direct damages exceeding $10 CAD. "),dt(),ut(114,"h2"),gt(115,"Indemnification"),dt(),ut(116,"p"),gt(117," You agree to indemnify the Service Provider against any claims or damages resulting from your use of the Service or your content. "),dt(),ut(118,"h2"),gt(119,"Dispute Resolution"),dt(),ut(120,"p"),gt(121," Disputes will be governed by Ontario law and resolved in Ontario courts. Any claims must be brought within one year. "),dt(),ut(122,"h2"),gt(123,"Integration and Severability"),dt(),ut(124,"p"),gt(125," These Terms of Use constitute the full agreement. If any provision is invalid, the rest remain in effect. "),dt(),ut(126,"h2"),gt(127,"Miscellaneous"),dt(),ut(128,"p"),gt(129," You may not assign these Terms. Notices may be delivered via email or mail. The Service Provider may assign rights without notice. "),dt(),ut(130,"h2"),gt(131,"Copyright and Trademark Notices"),dt(),ut(132,"p"),gt(133," Copyright for supplemental material and tools belongs to the Service Provider or authors. \u201CDataverse\u201D and its logo are trademarks of IQSS at Harvard University. "),dt(),ut(134,"p"),gt(135," This Terms of Use document is available under a "),ut(136,"a",3),gt(137,"CC BY-SA 4.0"),dt(),gt(138," license. It incorporates portions developed by Swivel, LLC, IQSS at Harvard University, the University of Toronto, and OCUL. "),dt()())},encapsulation:2});let e=t;return e})(),i6t=(()=>{let t=class t{constructor(i){this.dialogRef=i}closeDialog(){this.dialogRef.close()}};t.\u0275fac=function(n){return new(n||t)(Pt(sd))},t.\u0275cmp=We({type:t,selectors:[["toc-dialog-popup-fr"]],decls:169,vars:0,consts:[[2,"height","600px","width","700px","padding","20px 40px","overflow-y","auto","box-sizing","border-box","position","relative"],["aria-label","Close dialog",1,"close-button",2,"position","absolute","top","10px","right","10px","background","transparent","border","none","font-size","24px","cursor","pointer",3,"click"],[2,"font-size","32px","font-weight","bold","margin-top","40px"],["href","https://creativecommons.org/licenses/by-sa/4.0/","target","_blank"]],template:function(n,o){n&1&&(ut(0,"div",0)(1,"button",1),Ke("click",function(){return o.closeDialog()}),gt(2," \u2715 "),dt(),ut(3,"h1",2),gt(4,"Conditions d'utilisation"),dt(),ut(5,"div")(6,"h1"),gt(7,"Introduction"),dt(),ut(8,"p"),gt(9," Borealis, le d\xE9p\xF4t Dataverse canadien, est un d\xE9p\xF4t de donn\xE9es de recherche num\xE9riques ouvert aux membres des universit\xE9s et institutions de recherche participantes au Canada, avec une infrastructure fournie par les Biblioth\xE8ques de l\u2019Universit\xE9 de Toronto (UTL) en Ontario, Canada. Le logiciel Dataverse \xE0 code libre est un outil d\xE9velopp\xE9 et maintenu par l\u2019Institute of Quantitative Social Science (IQSS) de l\u2019Universit\xE9 Harvard, avec l\u2019aide des membres de la communaut\xE9 Dataverse du monde entier. "),dt(),ut(10,"p"),gt(11," Borealis est con\xE7u pour fournir aux membres de la communaut\xE9 de la recherche au Canada un endroit o\xF9 stocker, partager et publier leurs donn\xE9es de recherche. Il est \xE9galement con\xE7u pour permettre aux chercheuses et chercheurs du monde entier de d\xE9couvrir, visualiser et t\xE9l\xE9charger des donn\xE9es de recherche h\xE9berg\xE9es au Canada. "),dt(),ut(12,"h2"),gt(13,"Acceptation des conditions d\u2019utilisation"),dt(),ut(14,"p"),gt(15," Les pr\xE9sentes conditions d\u2019utilisations r\xE9gissent toute utilisation du site web de Borealis (le Site) et les services disponibles sur le site ou par son interm\xE9diaire (pris ensemble, le Service). Le service est exploit\xE9 par les Biblioth\xE8ques de l\u2019Universit\xE9 de Toronto (le Fournisseur de services). Le service est offert sous r\xE9serve de l\u2019acceptation, sans modification, des conditions d\u2019utilisation contenues aux pr\xE9sentes (les Conditions d\u2019utilisation) et de toutes les autres r\xE8gles de fonctionnement, politiques et proc\xE9dures qui peuvent \xEAtre publi\xE9es de temps \xE0 autre sur le site par le fournisseur de services. "),dt(),ut(16,"p"),gt(17," Le fournisseur de services peut refuser d\u2019offrir le service \xE0 toute personne ou entit\xE9 \xE0 tout moment et peut modifier ses crit\xE8res d\u2019admissibilit\xE9, \xE0 tout moment, \xE0 sa seule discr\xE9tion. "),dt(),ut(18,"h2"),gt(19,"Modification des conditions d\u2019utilisation"),dt(),ut(20,"p"),gt(21," Le fournisseur de services se r\xE9serve le droit, \xE0 sa seule discr\xE9tion, de modifier ou de remplacer les conditions d\u2019utilisation \xE0 tout moment. Il est de votre responsabilit\xE9 de v\xE9rifier les conditions d\u2019utilisation p\xE9riodiquement pour les changements. Votre utilisation continue du service apr\xE8s la publication de toute modification des conditions d\u2019utilisation constitue l\u2019acceptation de ces modifications. "),dt(),ut(22,"h2"),gt(23,"R\xE8gles et conduite"),dt(),ut(24,"p"),gt(25," Comme condition d\u2019utilisation, vous vous engagez \xE0 ne pas utiliser le service \xE0 des fins interdites par les conditions d\u2019utilisation. Aux fins des conditions d\u2019utilisation, le \xAB\u2009Contenu\u2009\xBB comprend, sans limitation, toutes les informations, donn\xE9es, textes, logiciels, scripts, graphiques et fonctionnalit\xE9s interactives g\xE9n\xE9r\xE9s, fournis ou autrement rendus accessibles par le fournisseur de services sur le service ou par son interm\xE9diaire. "),dt(),ut(26,"p"),gt(27," \xC0 titre d\u2019exemple, mais sans s\u2019y limiter, vous ne devez pas (ou permettre \xE0 d\u2019autres de) soit (a) prendre des mesures ou (b) t\xE9l\xE9verser, t\xE9l\xE9charger, publier, soumettre ou autrement distribuer ou faciliter la distribution de tout contenu \xE0 l\u2019aide de tout service de communication ou autre service disponible sur le service ou par l\u2019entremise de celui-ci, qui : "),dt(),ut(28,"ul")(29,"li"),gt(30,"enfreint tout brevet, marque d\xE9pos\xE9e, secret commercial, droit d\u2019auteur, droit de publicit\xE9 ou autre droit de toute autre personne ou entit\xE9;"),dt(),ut(31,"li"),gt(32,"est ill\xE9gal, mena\xE7ant, abusif, harcelant, diffamatoire, calomnieux, trompeur, frauduleux, envahissant la vie priv\xE9e d\u2019autrui, d\xE9lictuel, obsc\xE8ne, offensant ou profane;"),dt(),ut(33,"li"),gt(34,"constitue de la publicit\xE9 non autoris\xE9e ou non sollicit\xE9e, du courrier ind\xE9sirable ou en masse (c\u2019est-\xE0-dire des pourriels);"),dt(),ut(35,"li"),gt(36,"contient des virus logiciels ou tout autre code informatique, fichier ou programme con\xE7u ou destin\xE9 \xE0 perturber, endommager, limiter ou interf\xE9rer avec le bon fonctionnement de tout logiciel, mat\xE9riel ou \xE9quipement de t\xE9l\xE9communication ou pour endommager ou obtenir un acc\xE8s non autoris\xE9 \xE0 tout syst\xE8me, des donn\xE9es ou d\u2019autres informations, ou tout tiers."),dt()(),ut(37,"p"),gt(38," De plus, vous ne devez pas : (i) prendre de mesures qui imposent ou peuvent imposer (tel que d\xE9termin\xE9 par le fournisseur de services \xE0 sa seule discr\xE9tion) une charge d\xE9raisonnable ou disproportionn\xE9e sur l\u2019infrastructure du service; (ii) interf\xE9rer ou tenter d\u2019interf\xE9rer avec le bon fonctionnement du service ou toute activit\xE9 men\xE9e sur le service; ou (iii) contourner toute mesure que le fournisseur de services peut utiliser pour emp\xEAcher ou restreindre l\u2019acc\xE8s au service (ou \xE0 d\u2019autres comptes, syst\xE8mes informatiques ou r\xE9seaux connect\xE9s au service). "),dt(),ut(39,"p"),gt(40," Vous devez respecter toutes les lois et r\xE9glementations locales, provinciales, nationales et internationales applicables. "),dt(),ut(41,"h2"),gt(42,"Inscription"),dt(),ut(43,"p"),gt(44," Comme condition d\u2019utilisation du service, vous pouvez \xEAtre amen\xE9 \xE0 vous inscrire sur le site et \xE0 s\xE9lectionner un mot de passe et un nom d\u2019utilisateur. Pour plus d\u2019information sur l\u2019information recueillie d\xE9coulant de l\u2019utilisation du site, consultez l\u2019\xE9nonc\xE9 de vie priv\xE9e de Borealis. "),dt(),ut(45,"p"),gt(46," Vous devez fournir au fournisseur de services des informations d\u2019inscription exactes, compl\xE8tes et mises \xE0 jour. Ne pas le faire constituera une violation des conditions d\u2019utilisation, ce qui peut entra\xEEner la r\xE9siliation imm\xE9diate de votre compte. "),dt(),ut(47,"p"),gt(48," Vous ne devez pas s\xE9lectionner ou utiliser comme nom d\u2019utilisateur un nom qui : "),dt(),ut(49,"ul")(50,"li"),gt(51,"est le nom d\u2019une autre personne dans l\u2019intention de se faire passer pour cette personne;"),dt(),ut(52,"li"),gt(53,"est le nom qui est soumis aux droits d\u2019une personne autre que vous sans autorisation appropri\xE9e;"),dt(),ut(54,"li"),gt(55,"est un nom offensant, vulgaire ou obsc\xE8ne."),dt()(),ut(56,"p"),gt(57," Le fournisseur de services se r\xE9serve le droit de refuser l\u2019enregistrement ou d\u2019annuler un compte, \xE0 sa seule discr\xE9tion. Vous \xEAtes la seule personne responsable de l\u2019activit\xE9 qui se produit avec votre compte et \xEAtes responsable du maintien de la confidentialit\xE9 de votre mot de passe. Vous informerez imm\xE9diatement le fournisseur de services par \xE9crit de toute utilisation non autoris\xE9e de votre compte ou toute autre violation de s\xE9curit\xE9 li\xE9e au compte dont vous avez connaissance. "),dt(),ut(58,"h2"),gt(59,"Affiliation avec des \xE9tablissements participants"),dt(),ut(60,"p"),gt(61," Le fournisseur de services fournit aux \xE9tablissements participants (\xE9tablissements d\u2019enseignement postsecondaire avec lesquels le fournisseur de services a un contrat d\u2019utilisation du service) une collection institutionnelle sur laquelle ils ont un contr\xF4le administratif. Les \xE9tablissements participants ont \xE9galement la possibilit\xE9 de cr\xE9er et d\u2019appliquer leurs propres politiques et proc\xE9dures, qui doivent toutes \xEAtre suivies par la communaut\xE9 d\u2019utilisation affili\xE9e \xE0 cet \xE9tablissement participant. "),dt(),ut(62,"h2"),gt(63,"Contenu des utilisateurs"),dt(),ut(64,"p"),gt(65," Le service offre aux utilisatrices et utilisateurs affili\xE9s aux \xE9tablissements participants la possibilit\xE9 d\u2019acc\xE9der, de t\xE9l\xE9verser, de soumettre, de divulguer, de distribuer et de publier du contenu, y compris, sans s\u2019y limiter, des documents, des images, des vid\xE9os, du son et d\u2019autres informations. Vous reconnaissez que le fournisseur de services n\u2019est pas responsable de toute perte de votre contenu ou dommage \xE0 votre contenu, en tout ou en partie. "),dt(),ut(66,"p"),gt(67," Vous d\xE9clarez et garantissez en outre que vous avez l\xE9galement le droit et le plein pouvoir de cr\xE9er une licence d\u2019utilisation de votre contenu de la mani\xE8re d\xE9crite dans les pr\xE9sentes conditions d\u2019utilisation, et que vous n\u2019\xEAtes soumis \xE0 aucune obligation ou restriction cr\xE9\xE9e par une loi, un contrat ou autre qui vous emp\xEAcherait de conclure et d\u2019ex\xE9cuter pleinement les pr\xE9sentes conditions d\u2019utilisation. "),dt(),ut(68,"h2"),gt(69,"Conditions d\u2019utilisation du contenu des utilisateurs"),dt(),ut(70,"p"),gt(71," Le fournisseur de services n\u2019examine pas le contenu t\xE9l\xE9vers\xE9 sur le service avant ou apr\xE8s sa publication (c\u2019est-\xE0-dire rendu public) au moyen du service. Il est de votre responsabilit\xE9 de vous assurer que votre contenu respecte toutes les conditions d\u2019utilisation d\xE9crites aux pr\xE9sentes avant le t\xE9l\xE9chargement et la publication au moyen du service. Si le contenu ne respecte pas les pr\xE9sentes conditions d\u2019utilisation, vous serez tenu l\xE9galement et financi\xE8rement responsable des dommages si le Contenu viole les pr\xE9sentes conditions d\u2019utilisation. "),dt(),ut(72,"p"),gt(73," En publiant du contenu au moyen du service, vous faites les d\xE9clarations et garanties suivantes : "),dt(),ut(74,"ul")(75,"li"),gt(76,"Votre contenu n\u2019enfreint pas les droits d\u2019auteur ou autres droits de propri\xE9t\xE9 intellectuelle, y compris, mais sans s\u2019y limiter, les brevets, marques de commerce, secrets commerciaux, droits d\u2019auteur, droits de publicit\xE9 ou autres droits de tout autre tiers."),dt(),ut(77,"li"),gt(78,"Votre contenu ne viole aucune loi, y compris, mais sans s\u2019y limiter, les lois relatives \xE0 la diffamation et \xE0 l\u2019obsc\xE9nit\xE9."),dt(),ut(79,"li"),gt(80,"Vous informerez rapidement le fournisseur de services et votre \xE9tablissement participant de tout probl\xE8me de confidentialit\xE9, de vie priv\xE9e ou de protection des donn\xE9es, de licence ou d\u2019enjeu intellectuel concernant votre contenu."),dt(),ut(81,"li"),gt(82,"Votre contenu ne contient pas de virus ou tout autre code informatique, fichier ou programme con\xE7u ou destin\xE9 \xE0 perturber, \xE0 endommager, \xE0 limiter ou \xE0 interf\xE9rer avec le bon fonctionnement de tout logiciel, mat\xE9riel ou \xE9quipement de t\xE9l\xE9communication ou pour endommager ou obtenir un acc\xE8s non autoris\xE9 \xE0 tout syst\xE8me, donn\xE9es et autres informations."),dt(),ut(83,"li"),gt(84,"Si votre contenu est soumis \xE0 l\u2019examen d\u2019un comit\xE9 d\u2019\xE9thique de la recherche (CER), celui-ci a donn\xE9 son approbation pour que votre contenu soit t\xE9l\xE9vers\xE9 et distribu\xE9 publiquement."),dt(),ut(85,"li"),gt(86,"Votre contenu contient une attribution et une citation appropri\xE9es dans le respect de l\u2019int\xE9grit\xE9 acad\xE9mique et des normes disciplinaires."),dt()(),ut(87,"h2"),gt(88,"Donn\xE9es sensibles et confidentielles"),dt(),ut(89,"p"),gt(90," En utilisant le service, vous confirmez que tout votre contenu ne contient pas d\u2019informations qui pourraient identifier directement ou indirectement un sujet, sauf si la divulgation de ces informations d\u2019identification ne risque pas de constituer une atteinte injustifi\xE9e \xE0 la vie priv\xE9e ou une violation de la confidentialit\xE9. Vous confirmez en outre que toutes les informations personnellement identifiables dans votre contenu respectent au moins l\u2019une des conditions suivantes : "),dt(),ut(91,"ul")(92,"li"),gt(93,"Les informations ont \xE9t\xE9 pr\xE9c\xE9demment rendues publiques."),dt(),ut(94,"li"),gt(95,"Les informations d\xE9crivent des personnalit\xE9s publiques, lorsque ces informations se rapportent \xE0 leurs r\xF4les publics et \xE0 d\u2019autres sujets non sensibles."),dt(),ut(96,"li"),gt(97,"Un laps de temps suffisant s\u2019est \xE9coul\xE9 depuis la collecte de l\u2019information pour qu\u2019elle puisse \xEAtre consid\xE9r\xE9e comme historique."),dt(),ut(98,"li"),gt(99,"Tous les sujets identifi\xE9s ont donn\xE9 un consentement \xE9clair\xE9 explicite permettant la divulgation publique de leurs informations."),dt(),ut(100,"li"),gt(101,"Toutes les informations ont \xE9t\xE9 collect\xE9es avec une d\xE9claration explicite concernant leur caract\xE8re public, telles que les informations collect\xE9es \xE0 des fins r\xE9glementaires gouvernementales."),dt(),ut(102,"li"),gt(103,"Pour les documents f\xE9d\xE9raux (c\u2019est-\xE0-dire le contenu cr\xE9\xE9 par une agence du gouvernement f\xE9d\xE9ral canadien ou en vertu d\u2019un contrat f\xE9d\xE9ral) uniquement, tous les sujets identifi\xE9s sont d\xE9c\xE9d\xE9s et aucune loi f\xE9d\xE9rale ne restreint explicitement la divulgation de ces informations."),dt()(),ut(104,"h2"),gt(105,"Autorisation de r\xE9utilisation des donn\xE9es et de pr\xE9servation \xE0 long terme"),dt(),ut(106,"p"),gt(107," En d\xE9posant ou en t\xE9l\xE9versant du contenu au moyen du service, vous accordez au fournisseur de services et aux \xE9tablissements participants une licence mondiale, non exclusive, libre de redevances et transf\xE9rable pour utiliser, reproduire, distribuer, pr\xE9parer des \u0153uvres d\xE9riv\xE9es, afficher et ex\xE9cuter le contenu en lien avec ce service. Cela comprend, mais sans s\u2019y limiter, la cr\xE9ation de copies, de sauvegardes et la modification des formats de donn\xE9es \xE0 des fins de pr\xE9servation et de r\xE9utilisation. Vous autorisez en outre le fournisseur de services et les \xE9tablissements participants \xE0 migrer votre contenu vers tout support, format ou plateforme \xE0 des fins de pr\xE9servation. Le fournisseur de services fera de son mieux pour maintenir l\u2019int\xE9grit\xE9 de votre contenu conform\xE9ment aux conditions d\u2019utilisation et de ses ententes avec les \xE9tablissements participants. "),dt(),ut(108,"p"),gt(109," Vous autorisez en outre le fournisseur de services, sans s\u2019y limiter, \xE0 : "),dt(),ut(110,"ul")(111,"li"),gt(112,"promouvoir et annoncer votre contenu, sous quelque forme que ce soit, pour le service;"),dt(),ut(113,"li"),gt(114,"d\xE9crire, cataloguer, valider et documenter votre contenu afin de le stocker, le traduire, le copier ou le reformater de quelque mani\xE8re que ce soit afin d\u2019assurer sa rep\xE9rabilit\xE9 future, son accessibilit\xE9, son interop\xE9rabilit\xE9 et sa d\xE9couvrabilit\xE9 conform\xE9ment aux Principes FAIR;"),dt(),ut(115,"li"),gt(116,"r\xE9colter ou autoriser la r\xE9colte de m\xE9tadonn\xE9es ou d\u2019autres documents dans votre contenu pour les catalogues d\u2019acc\xE8s public et les services de d\xE9couverte."),dt()(),ut(117,"p"),gt(118," Le fournisseur de services se r\xE9serve le droit, mais n\u2019a aucune obligation, de faciliter la pr\xE9servation, la v\xE9rification, la gestion et l\u2019utilisation, ainsi que l\u2019archivage permanent de vos donn\xE9es \xE0 plusieurs endroits. "),dt(),ut(119,"h2"),gt(120,"Suppression des donn\xE9es"),dt(),ut(121,"p"),gt(122,"Le fournisseur de services n\u2019a aucune obligation de surveiller le site, le service ou le contenu. Le fournisseur de services et les \xE9tablissements participants peuvent supprimer tout contenu \xE0 tout moment pour quelque raison que ce soit (y compris, mais sans s\u2019y limiter, sur r\xE9ception d\u2019une demande ou d\u2019all\xE9gations de tiers ou d\u2019autorit\xE9s li\xE9es au contenu), y compris conform\xE9ment aux politiques de curation et de conservation du service ou des \xE9tablissements participants."),dt(),ut(123,"h2"),gt(124,"R\xE9siliation d\u2019acc\xE8s"),dt(),ut(125,"p"),gt(126,"Le fournisseur de services peut r\xE9silier votre acc\xE8s en tout ou en partie au service \xE0 tout moment, avec ou sans motif, avec ou sans pr\xE9avis, avec effet imm\xE9diat. Si vous souhaitez r\xE9silier votre compte, vous devez en informer le fournisseur de services."),dt(),ut(127,"p"),gt(128,"Toutes les dispositions des pr\xE9sentes conditions d\u2019utilisation qui, de par leur nature, devraient survivre \xE0 la r\xE9siliation survivront \xE0 la r\xE9siliation, y compris, sans s\u2019y limiter, les dispositions relatives \xE0 la propri\xE9t\xE9, les exclusions de garantie, les indemnit\xE9s et les limitations de responsabilit\xE9."),dt(),ut(129,"h2"),gt(130,"Aucune garantie"),dt(),ut(131,"p"),gt(132,"LE SERVICE (Y COMPRIS, SANS LIMITATION, LE CONTENU) EST FOURNI \xAB\u2009EN L\u2019\xC9TAT\u2009\xBB ET \xAB\u2009SELON LA DISPONIBILIT\xC9\u2009\xBB ET SANS GARANTIE D\u2019AUCUNE SORTE, EXPRESSE OU IMPLICITE, Y COMPRIS, MAIS SANS S\u2019Y LIMITER, LES GARANTIES IMPLICITES DE TITRE, NON-CONTREFA\xC7ON, QUALIT\xC9 MARCHANDE ET D\u2019AD\xC9QUATION \xC0 UN USAGE PARTICULIER, ET TOUTE GARANTIE IMPLICITE PAR TOUT COURS D\u2019EX\xC9CUTION OU D\u2019UTILISATION DU COMMERCE, QUI SONT EXPRESS\xC9MENT EXCLUES. LE FOURNISSEUR DE SERVICES ET SES ADMINISTRATEURS, EMPLOY\xC9S, AGENTS, FOURNISSEURS, PARTENAIRES ET FOURNISSEURS DE CONTENU NE GARANTISSENT PAS QUE : (A) LE CONTENU EST OPPORTUN, EXACT, COMPLET, FIABLE OU CORRECT; (B) LE SERVICE SERA S\xC9CURIS\xC9 OU DISPONIBLE \xC0 TOUT MOMENT OU ENDROIT PARTICULIER; (C) TOUT D\xC9FAUT OU ERREUR SERONT CORRIG\xC9S; (D) LE CONTENU EST EXEMPT DE VIRUS OU D\u2019AUTRES \xC9L\xC9MENTS NUISIBLES; OU (E) LES R\xC9SULTATS DE L\u2019UTILISATION DU SERVICE R\xC9PONDRONT \xC0 VOS BESOINS. VOTRE UTILISATION DU SERVICE EST UNIQUEMENT \xC0 VOS PROPRES RISQUES."),dt(),ut(133,"p"),gt(134,"LE FOURNISSEUR DE SERVICES N\u2019OFFRE AUCUNE GARANTIE, EXPRESSE OU IMPLICITE, PAR EFFET DE LA LOI OU AUTRE, CONCERNANT LE SERVICE OU LE CONTENU FOURNI OU EN LIEN AVEC CELUI-CI."),dt(),ut(135,"h2"),gt(136,"Limitation de responsabilit\xE9"),dt(),ut(137,"p"),gt(138,"EN AUCUN CAS LE FOURNISSEUR DE SERVICES, NI SES ADMINISTRATEURS, EMPLOY\xC9S, AGENTS, PARTENAIRES, FOURNISSEURS OU FOURNISSEURS DE CONTENU, NE SERA TENU RESPONSABLE EN VERTU D\u2019UN CONTRAT, DE D\xC9LIT, DE RESPONSABILIT\xC9 STRICTE, DE N\xC9GLIGENCE OU DE TOUTE AUTRE TH\xC9ORIE JURIDIQUE CONCERNANT LE SERVICE OU TOUT CONTENU (I) POUR TOUTE PERTE DE B\xC9N\xC9FICES OU TOUS DOMMAGES SP\xC9CIAUX, INDIRECTS, ACCESSOIRES, PUNITIFS OU CONS\xC9CUTIFS DE QUELQUE NATURE QUE CE SOIT, SUBSTITUENT DES BIENS OU SERVICES (PEU IMPORTE COMMENT CELA SURVIENT); (II) POUR TOUS LES BOGUES, VIRUS, CHEVAUX DE TROIE OU ANALOGUES (PEU IMPORTE LA SOURCE D\u2019ORIGINE); (III) POUR TOUTE ERREUR OU OMISSION DANS TOUT CONTENU OU POUR TOUTE PERTE OU DOMMAGE DE QUELQUE NATURE QUE CE SOIT R\xC9SULTANT DE VOTRE UTILISATION DE TOUT CONTENU PUBLI\xC9, ENVOY\xC9 PAR COURRIEL, TRANSMIS OU AUTREMENT MIS \xC0 DISPOSITION SUR OU PAR L\u2019INTERM\xC9DIAIRE DU SERVICE; OU (IV) POUR TOUT DOMMAGE DIRECT DE PLUS DE (EN TOTAL) 10 $ (CANADIEN)."),dt(),ut(139,"h2"),gt(140,"Indemnisation"),dt(),ut(141,"p"),gt(142,"Vous indemnisez et d\xE9gagerez le fournisseur de services de toute responsabilit\xE9 contre toute perte, co\xFBt, d\xE9pense, responsabilit\xE9 ou dommage, y compris, sans s\u2019y limiter, tous les honoraires d\u2019avocat et frais de justice raisonnables, r\xE9sultant de (i) l\u2019utilisation ou la mauvaise utilisation du service; (ii) votre acc\xE8s au site, l\u2019utilisation du service, la violation des conditions d\u2019utilisation par vous; ou, (iii) la violation par vous, ou tout tiers utilisant votre compte, de toute propri\xE9t\xE9 intellectuelle ou autre droit de toute personne ou entit\xE9. Ces pertes, co\xFBts, d\xE9penses, dommages ou responsabilit\xE9s incluront, sans limitation, tous les dommages r\xE9els, g\xE9n\xE9raux, sp\xE9ciaux et cons\xE9cutifs."),dt(),ut(143,"h2"),gt(144,"R\xE8glement des litiges"),dt(),ut(145,"p"),gt(146,"Une version imprim\xE9e des conditions d\u2019utilisation et de tout avis donn\xE9 sous forme \xE9lectronique est recevable dans les proc\xE9dures judiciaires ou administratives fond\xE9es sur les conditions d\u2019utilisation ou li\xE9es aux conditions d\u2019utilisation dans la m\xEAme mesure et sous r\xE9serve des m\xEAmes conditions que les autres documents commerciaux et enregistrements g\xE9n\xE9r\xE9s \xE0 l\u2019origine et conserv\xE9s sous forme imprim\xE9e. Vous acceptez que toute cause d\u2019action d\xE9coulant de ou li\xE9e au service doit commencer dans un d\xE9lai d\u2019un (1) an apr\xE8s la survenance de la cause d\u2019action; dans le cas contraire, une telle cause d\u2019action est d\xE9finitivement interdite."),dt(),ut(147,"p"),gt(148,"Ces conditions d\u2019utilisation seront r\xE9gies et interpr\xE9t\xE9es conform\xE9ment aux lois de la province de l\u2019Ontario. Tous les litiges en vertu des pr\xE9sentes conditions d\u2019utilisation seront r\xE9solus par les tribunaux provinciaux ou f\xE9d\xE9raux applicables de l\u2019Ontario. Vous consentez \xE0 la juridiction de ces tribunaux et renoncez \xE0 toute d\xE9fense juridictionnelle ou de lieu autrement disponible. L\u2019utilisation du service n\u2019est autoris\xE9e dans aucune juridiction qui ne donne pas effet \xE0 toutes les dispositions des conditions d\u2019utilisation, y compris, sans limitation, cette section."),dt(),ut(149,"h2"),gt(150,"Int\xE9gration et divisibilit\xE9"),dt(),ut(151,"p"),gt(152,"Les conditions d\u2019utilisation constituent l\u2019int\xE9gralit\xE9 de l\u2019accord entre vous et le fournisseur de services en ce qui concerne le service et l\u2019utilisation de son site, et remplacent toutes les communications et propositions ant\xE9rieures ou contemporaines (qu\u2019elles soient orales, \xE9crites ou \xE9lectroniques) entre vous et le fournisseur de services en ce qui concerne le site (mais \xE0 l\u2019exclusion de l\u2019utilisation de tout logiciel pouvant faire l\u2019objet d\u2019un contrat de licence d\u2019utilisateur final distinct). Si une disposition de ces conditions d\u2019utilisation est jug\xE9e inapplicable ou invalide, cette disposition sera limit\xE9e ou \xE9limin\xE9e dans la mesure minimale n\xE9cessaire afin que les conditions d\u2019utilisation restent par ailleurs pleinement en vigueur et ex\xE9cutoires."),dt(),ut(153,"h2"),gt(154,"Divers"),dt(),ut(155,"p"),gt(156,"Les conditions d\u2019utilisation vous sont personnelles et ne sont pas cessibles, transf\xE9rables ou sous-licenciables par vous, sauf avec le consentement \xE9crit pr\xE9alable du fournisseur de services. Le fournisseur de services peut c\xE9der, transf\xE9rer ou d\xE9l\xE9guer n\u2019importe lequel de ses droits et obligations en vertu des pr\xE9sentes sans consentement. Aucune agence, partenariat, coentreprise ou relation de travail n\u2019est cr\xE9\xE9 \xE0 la suite de ces conditions d\u2019utilisation et aucune des parties n\u2019a le pouvoir de quelque nature que ce soit de lier l\u2019autre \xE0 quelque \xE9gard que ce soit. Dans toute action ou proc\xE9dure visant \xE0 faire valoir les droits en vertu des pr\xE9sentes conditions d\u2019utilisation, la partie gagnante aura le droit de recouvrer les frais et honoraires d\u2019avocat. Tous les avis en vertu des pr\xE9sentes conditions d\u2019utilisation seront faits par \xE9crit et seront r\xE9put\xE9s avoir \xE9t\xE9 d\xFBment donn\xE9s lors de leur r\xE9ception, s\u2019ils sont personnellement remis ou envoy\xE9s par courrier certifi\xE9 ou recommand\xE9, avec accus\xE9 de r\xE9ception; lorsque la r\xE9ception est confirm\xE9e \xE9lectroniquement, s\u2019il est transmis par t\xE9l\xE9copieur ou par courriel; ou le lendemain de son envoi, s\u2019il est envoy\xE9 pour livraison le lendemain par un service de livraison de nuit reconnu."),dt(),ut(157,"h2"),gt(158,"Avis de droits d\u2019auteur et de marques"),dt(),ut(159,"p"),gt(160,"Vous reconnaissez que les droits d\u2019auteur de toutes les donn\xE9es ajout\xE9es par le fournisseur de services de vos documents, et de tout logiciel de recherche, guides d\u2019utilisation, documentation et toute autre propri\xE9t\xE9 intellectuelle pr\xE9par\xE9s par le fournisseur de services ou ses employ\xE9s pour aider les utilisateurs \xE0 l\u2019utilisation du service appartiendront \xE0 la personne qui l\u2019a cr\xE9\xE9."),dt(),ut(161,"p")(162,"em"),gt(163,"*MD *Le r\xE9seau Dataverse et le logo Dataverse sont des marques ou des marques d\xE9pos\xE9es de l\u2019Institute of Quantitative Social Science (IQSS) de l\u2019Universit\xE9 Harvard."),dt()(),ut(164,"p"),gt(165,"Ce document de conditions d\u2019utilisation est disponible sous un "),ut(166,"a",3),gt(167,"CC BY-SA 4.0"),dt(),gt(168,". Il comprend des parties d\xE9velopp\xE9es \xE0 l\u2019origine par Swivel, LLC, l\u2019Institute for Quantitative Social Science (IQSS) de l\u2019Universit\xE9 Harvard, l\u2019Universit\xE9 de Toronto et le Conseil des biblioth\xE8ques universitaires de l\u2019Ontario (CBUO)."),dt()()())},encapsulation:2});let e=t;return e})(),r6t=(()=>{let t=class t{constructor(i){this.dialogRef=i}closeDialog(){this.dialogRef.close()}};t.\u0275fac=function(n){return new(n||t)(Pt(sd))},t.\u0275cmp=We({type:t,selectors:[["contact-dialog-popup-en"]],decls:23,vars:0,consts:[[2,"height","600px","width","700px","padding","20px 40px","overflow-y","auto","box-sizing","border-box","position","relative"],["aria-label","Close dialog",2,"position","absolute","top","10px","right","10px","background","transparent","border","none","font-size","24px","cursor","pointer",3,"click"],["mat-dialog-title","",2,"font-size","32px","font-weight","bold","margin-top","40px"],["href","mailto:info@borealisdata.ca"],[2,"margin-top","20px"],["target","_blank","href","https://forms.scholarsportal.info/form/borealis-metrics-reporting",2,"text-align","center"]],template:function(n,o){n&1&&(ut(0,"div",0)(1,"button",1),Ke("click",function(){return o.closeDialog()}),gt(2," \u2715 "),dt(),ut(3,"h1",2),gt(4," Contact"),dt(),ut(5,"p"),gt(6," If you have any questions, contact us at "),ut(7,"a",3),gt(8,"info@borealisdata.ca"),dt(),gt(9,". "),dt(),He(10,"p"),ut(11,"h4")(12,"strong"),gt(13,"Your Feedback Matters - Feedback Form"),dt()(),ut(14,"p",4),gt(15," In order to ensure that the new Borealis Metrics Reporting application is fully functional and beneficial to the Canadian research data community, we are asking Borealis member institutions to take a few moments to provide feedback about their experience using the new Borealis Metrics Report. "),dt(),ut(16,"p"),gt(17," All responses are voluntary and can be anonymous. We ask you to provide your institution so we can adequately understand regional differences. If you have specific questions to which you would like a direct response from the Borealis team, please include your email address so we can be in touch. "),ut(18,"a",5),gt(19," Feedback Form "),dt()(),ut(20,"p")(21,"i"),gt(22,"Thank you for taking the time to give us your feedback! "),dt()()())},encapsulation:2});let e=t;return e})(),n6t=(()=>{let t=class t{constructor(i){this.dialogRef=i}closeDialog(){this.dialogRef.close()}};t.\u0275fac=function(n){return new(n||t)(Pt(sd))},t.\u0275cmp=We({type:t,selectors:[["contact-dialog-popup-fr"]],decls:22,vars:0,consts:[[2,"height","600px","width","700px","padding","20px 40px","overflow-y","auto","box-sizing","border-box","position","relative"],["aria-label","Close dialog",2,"position","absolute","top","10px","right","10px","background","transparent","border","none","font-size","24px","cursor","pointer",3,"click"],["mat-dialog-title","",2,"font-size","32px","font-weight","bold","margin-top","40px"],["href","mailto:info@borealisdata.ca"],[2,"margin-top","20px"],["target","_blank","href","https://forms.scholarsportal.info/fr/form/borealis-metrics-reporting",2,"text-align","center"]],template:function(n,o){n&1&&(ut(0,"div",0)(1,"button",1),Ke("click",function(){return o.closeDialog()}),gt(2," \u2715 "),dt(),ut(3,"h1",2),gt(4," Contact"),dt(),ut(5,"p"),gt(6," Pour toute question, \xE9crivez-nous \xE0 "),ut(7,"a",3),gt(8,"info@borealisdata.ca"),dt()(),He(9,"p"),ut(10,"h4")(11,"strong"),gt(12,"Vos r\xE9trocations sont importantes \u2013 Formulaire de r\xE9troaction"),dt()(),ut(13,"p",4),gt(14," Afin de garantir que la nouvelle application de rapport des statistiques Borealis soit pleinement fonctionnelle et b\xE9n\xE9fique pour la communaut\xE9 canadienne des donn\xE9es de recherche, nous invitons les institutions membres de Borealis \xE0 prendre quelques instants pour nous faire part de leur r\xE9troaction concernant leur exp\xE9rience d\u2019utilisation du nouveau rapport des statistiques Borealis. "),dt(),ut(15,"p"),gt(16," Toutes les r\xE9ponses sont \xE0 titre volontaire et peuvent \xEAtre anonymes. Nous vous demandons d\u2019indiquer votre institution afin de comprendre ad\xE9quatement les diff\xE9rences r\xE9gionales. Si vous avez des questions sp\xE9cifiques \xE0 laquelle vous souhaiteriez une r\xE9ponse directe de l\u2019\xE9quipe Borealis, veuillez inclure votre adresse courriel afin que nous puissions vous contacter. "),ut(17,"a",5),gt(18," Formulaire de r\xE9troaction "),dt()(),ut(19,"p")(20,"i"),gt(21," Merci de prendre le temps de nous transmettre vos r\xE9troactions! "),dt()()())},encapsulation:2});let e=t;return e})(),o6t=(()=>{let t=class t{constructor(i){this.dialogRef=i}closeDialog(){this.dialogRef.close()}};t.\u0275fac=function(n){return new(n||t)(Pt(sd))},t.\u0275cmp=We({type:t,selectors:[["faq-dialog-popup-en"]],decls:59,vars:0,consts:[[2,"height","600px","width","700px","padding","20px 40px","overflow-y","auto","box-sizing","border-box"],["aria-label","Close dialog",1,"close-button",2,"position","absolute","top","10px","right","10px","background","transparent","border","none","font-size","24px","cursor","pointer",3,"click"],[2,"font-size","32px","font-weight","bold","margin-top","40px"],["href","https://guides.dataverse.org/en/latest/api/metrics.html","target","_blank"],["href","mailto:info@borealisdata.ca"]],template:function(n,o){n&1&&(ut(0,"div",0)(1,"button",1),Ke("click",function(){return o.closeDialog()}),gt(2," \u2715 "),dt(),ut(3,"h1",2),gt(4,"FAQ"),dt(),ut(5,"h3")(6,"strong"),gt(7,"Where is this data collected from?"),dt()(),ut(8,"p"),gt(9," Data is collected through the Dataverse Metrics API. For more information, visit: "),ut(10,"a",3),gt(11," guides.dataverse.org/en/latest/api/metrics.html "),dt()(),ut(12,"h3")(13,"strong"),gt(14,"What is \u201CBorealis (All)\u201D? "),dt()(),ut(15,"p"),gt(16," \u201CBorealis (All)\u201D refers to the entirety of Borealis, meaning the data represents all data and collections in Borealis. "),dt(),ut(17,"h3")(18,"strong"),gt(19,"Why isn\u2019t X specific dataverse included in the report?"),dt()(),ut(20,"p"),gt(21," It may take time for a new collection to be reflected in the source data. Additionally, collections must be published, not in draft mode, to be included. "),dt(),ut(22,"h3")(23,"strong"),gt(24,"Why isn\u2019t my collection displayed in French/English?"),dt()(),ut(25,"p"),gt(26," Collections are displayed in their original, published language. While the interface will update to match the language selected by the user, collection data will not. "),dt(),ut(27,"h3")(28,"strong"),gt(29,"What does \u201CLegacy\u201D mean for data download?"),dt()(),ut(30,"p"),gt(31," The Legacy download option provides a structured data export that was hosted on the previous version of the Borealis Metrics Report. Data in this export may be formatted differently from other available export formats such as Make Data Count. "),dt(),ut(32,"h3")(33,"strong"),gt(34,"What is Make Data Count?"),dt()(),ut(35,"p"),gt(36," Make Data Count is a third-party, community-led initiative that promotes the development of open data metrics to meaningfully assess data usage and impact. The intention is to establish standardized metrics for usage data such as views, downloads and citations that can be applied broadly across datasets and repository platforms to encourage collaboration and data sharing practices. "),dt(),ut(37,"p"),gt(38," Make Data Count is part of a larger initiative through the Research Data Alliance\u2019s Data Usage Metrics Working Group, and is operated in collaboration with DataCite. Make Data Count is unique in its focus on community-driven standards and its dedication to open metrics for widespread collaboration and adoption across the research data landscape. "),dt(),ut(39,"p"),gt(40," Make Data Count developed the COUNTER Code of Practice for Research Data, the standard used to track views and downloads in the Borealis Metrics Report. The Borealis Metrics Report also uses the DataCite Citation Corpus, co-developed by DataCite and Make Data Count, to provide citation metrics for data in Borealis. "),dt(),ut(41,"h3")(42,"strong"),gt(43,"It\u2019s the first day of the month \u2014 why isn\u2019t data from this month included in the report?"),dt()(),ut(44,"p"),gt(45," It can take a few business days (typically 3\u20135) for the current month\u2019s data to appear in the metrics. "),dt(),ut(46,"h3")(47,"strong"),gt(48,"Why can\u2019t I access metrics specific to my institution for the Odesi collection?"),dt()(),ut(49,"p"),gt(50," Following the Odesi redevelopment and migration from Nesstar to Borealis in 2023, the majority of data in Odesi is now open. As part of this transition, we no longer collect or provide institution-level metrics. "),dt(),ut(51,"h3")(52,"strong"),gt(53,"Who can I contact for other questions, improvements, discovered bugs and feature requests?"),dt()(),ut(54,"p"),gt(55," Please reach out via email to "),ut(56,"a",4),gt(57,"info@borealisdata.ca"),dt(),gt(58," Or navigate to the Contact tab and fill out the feedback form. "),dt()())},encapsulation:2});let e=t;return e})(),s6t=(()=>{let t=class t{constructor(i){this.dialogRef=i}closeDialog(){this.dialogRef.close()}};t.\u0275fac=function(n){return new(n||t)(Pt(sd))},t.\u0275cmp=We({type:t,selectors:[["faq-dialog-popup-fr"]],decls:59,vars:0,consts:[[2,"height","600px","width","700px","padding","20px 40px","overflow-y","auto","box-sizing","border-box"],["aria-label","Fermer le dialogue",1,"close-button",2,"position","absolute","top","10px","right","10px","background","transparent","border","none","font-size","24px","cursor","pointer",3,"click"],[2,"font-size","32px","font-weight","bold","margin-top","40px"],["href","https://guides.dataverse.org/en/latest/api/metrics.html","target","_blank"],["href","mailto:info@borealisdata.ca"]],template:function(n,o){n&1&&(ut(0,"div",0)(1,"button",1),Ke("click",function(){return o.closeDialog()}),gt(2," \u2715 "),dt(),ut(3,"h1",2),gt(4,"FAQ"),dt(),ut(5,"h3")(6,"strong"),gt(7,"O\xF9 sont collect\xE9es ces donn\xE9es ?"),dt()(),ut(8,"p"),gt(9," Les donn\xE9es sont collect\xE9es par l\u2019interm\xE9diaire des statistiques API du Dataverse. Pour plus d\u2019informations, consultez : "),ut(10,"a",3),gt(11," guides.dataverse.org/en/latest/api/metrics.html "),dt()(),ut(12,"h3")(13,"strong"),gt(14,"Qu\u2019est-ce que Borealis (Tous) ?"),dt()(),ut(15,"p"),gt(16," \u201CBorealis (Tous)\u201D d\xE9signe l\u2019ensemble de Borealis, c\u2019est-\xE0-dire que les donn\xE9es repr\xE9sentent l\u2019ensemble des donn\xE9es et des collections h\xE9berg\xE9es dans Borealis. "),dt(),ut(17,"h3")(18,"strong"),gt(19,"Pourquoi le Dataverse X n\u2019est-il pas inclus dans le rapport ?"),dt()(),ut(20,"p"),gt(21," Il peut s\u2019\xE9couler un certain temps avant qu\u2019une nouvelle collection soit refl\xE9t\xE9e dans les donn\xE9es sources. De plus, seules les collections publi\xE9es (et non celles en mode brouillon) sont incluses. "),dt(),ut(22,"h3")(23,"strong"),gt(24,"Pourquoi ma collection n\u2019est-elle pas affich\xE9e en fran\xE7ais/anglais ?"),dt()(),ut(25,"p"),gt(26," Les collections sont affich\xE9es dans leur langue originale de publication. Tandis que l\u2019interface s\u2019adapte \xE0 la langue choisie par l\u2019utilisateur, ce n\u2019est pas le cas pour les donn\xE9es des collections. "),dt(),ut(27,"h3")(28,"strong"),gt(29,"Que signifie \xAB Legacy \xBB pour le t\xE9l\xE9chargement des donn\xE9es ?"),dt()(),ut(30,"p"),gt(31," L\u2019option de t\xE9l\xE9chargement Legacy procure une exportation structur\xE9e des donn\xE9es qui \xE9taient h\xE9berg\xE9es dans la version pr\xE9c\xE9dente du rapport des statistiques Borealis. Ces donn\xE9es peuvent \xEAtre format\xE9es diff\xE9remment des autres formats d\u2019exportation disponibles, comme Make Data Count. "),dt(),ut(32,"h3")(33,"strong"),gt(34,"Qu\u2019est-ce que Make Data Count ?"),dt()(),ut(35,"p"),gt(36," Make Data Count est une initiative communautaire men\xE9e par un tiers, visant \xE0 d\xE9velopper des statistiques de donn\xE9es ouvertes afin d\u2019\xE9valuer de mani\xE8re pertinente l\u2019utilisation et l\u2019impact des donn\xE9es. Son objectif est d\u2019\xE9tablir des statistiques standardis\xE9es telles que les vues, les t\xE9l\xE9chargements et les citations, applicables \xE0 un large \xE9ventail d\u2019ensembles de donn\xE9es et de plateformes de d\xE9p\xF4t, afin d\u2019encourager la collaboration et le partage des donn\xE9es. "),dt(),ut(37,"p"),gt(38," Make Data Count fait partie d\u2019une initiative plus large men\xE9e par le groupe de travail sur les statistiques d\u2019utilisation de donn\xE9es de la Research Data Alliance, en collaboration avec DataCite. Make Data Count se distingue par son attention port\xE9e aux standards pilot\xE9s par la communaut\xE9 et par son engagement envers des statistiques ouvertes pour favoriser les collaborations \xE9tendues dans l\u2019\xE9cosyst\xE8me des donn\xE9es de recherche. "),dt(),ut(39,"p"),gt(40," Make Data Count a \xE9labor\xE9 le COUNTER Code of Practice for Research Data, la norme utilis\xE9e pour le suivi des vues et des t\xE9l\xE9chargements dans le rapport des statistiques Borealis. Le rapport des statistiques Borealis utilise \xE9galement le corpus de citation de DataCite, co-d\xE9velopp\xE9 par DataCite et Make Data Count, pour fournir des statistiques sur les citations de donn\xE9es dans Borealis. "),dt(),ut(41,"h3")(42,"strong"),gt(43,"C\u2019est le premier jour du mois \u2014 Pourquoi les donn\xE9es de ce mois n\u2019apparaissent-elles pas dans le rapport ?"),dt()(),ut(44,"p"),gt(45," Cela peut prendre quelques jours (en g\xE9n\xE9ral de 3 \xE0 5 jours) pour que le mois en cours apparaisse dans les statistiques. "),dt(),ut(46,"h3")(47,"strong"),gt(48,"Pourquoi ne puis-je pas acc\xE9der aux statistiques propres \xE0 mon institution pour la collection Odesi ?"),dt()(),ut(49,"p"),gt(50," \xC0 la suite de la refonte et de la migration d\u2019Odesi de Nesstar vers Borealis en 2023, la majorit\xE9 des donn\xE9es d\u2019Odesi sont d\xE9sormais en acc\xE8s libre. Dans le cadre de cette transition, nous ne collectons et ne diffusons plus de statistiques Odesi au niveau institutionnel. "),dt(),ut(51,"h3")(52,"strong"),gt(53,"Qui puis-je contacter pour toute question, suggestion d\u2019am\xE9lioration, signalement d\u2019anomalie ou demande de fonctionnalit\xE9 ?"),dt()(),ut(54,"p"),gt(55," Veuillez nous \xE9crire \xE0 "),ut(56,"a",4),gt(57,"info@borealisdata.ca"),dt(),gt(58," ou \xE0 utiliser l\u2019onglet Contact. Un membre de notre \xE9quipe se fera un plaisir de vous aider. "),dt()())},encapsulation:2});let e=t;return e})();var a6t="@",l6t=(()=>{let t=class t{constructor(i,n,o,s,a){this.doc=i,this.delegate=n,this.zone=o,this.animationType=s,this.moduleImpl=a,this._rendererFactoryPromise=null,this.scheduler=pe(sB,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-N5K5DLLZ.js").then(n=>n)).catch(n=>{throw new In(5300,!1)}).then(({\u0275createEngine:n,\u0275AnimationRendererFactory:o})=>{this._engine=n(this.animationType,this.doc);let s=new o(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(i,n){let o=this.delegate.createRenderer(i,n);if(o.\u0275type===0)return o;typeof o.throwOnSyntheticProps=="boolean"&&(o.throwOnSyntheticProps=!1);let s=new RH(o);return n?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(a=>{let l=a.createRenderer(i,n);s.use(l),this.scheduler?.notify(9)}).catch(a=>{s.use(o)}),s}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};t.\u0275fac=function(n){Uh()},t.\u0275prov=_e({token:t,factory:t.\u0275fac});let e=t;return e})(),RH=class{constructor(t){this.delegate=t,this.replay=[],this.\u0275type=1}use(t){if(this.delegate=t,this.replay!==null){for(let r of this.replay)r(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,r){return this.delegate.createElement(t,r)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,r){this.delegate.appendChild(t,r)}insertBefore(t,r,i,n){this.delegate.insertBefore(t,r,i,n)}removeChild(t,r,i){this.delegate.removeChild(t,r,i)}selectRootElement(t,r){return this.delegate.selectRootElement(t,r)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,r,i,n){this.delegate.setAttribute(t,r,i,n)}removeAttribute(t,r,i){this.delegate.removeAttribute(t,r,i)}addClass(t,r){this.delegate.addClass(t,r)}removeClass(t,r){this.delegate.removeClass(t,r)}setStyle(t,r,i,n){this.delegate.setStyle(t,r,i,n)}removeStyle(t,r,i){this.delegate.removeStyle(t,r,i)}setProperty(t,r,i){this.shouldReplay(r)&&this.replay.push(n=>n.setProperty(t,r,i)),this.delegate.setProperty(t,r,i)}setValue(t,r){this.delegate.setValue(t,r)}listen(t,r,i){return this.shouldReplay(r)&&this.replay.push(n=>n.listen(t,r,i)),this.delegate.listen(t,r,i)}shouldReplay(t){return this.replay!==null&&t.startsWith(a6t)}};function Sst(e="animations"){return MO("NgAsyncAnimations"),Wl([{provide:BR,useFactory:(t,r,i)=>new l6t(t,r,i,e),deps:[Ai,sT,ui]},{provide:Fo,useValue:e==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Est=(()=>{let t=class t{constructor(){this.http=pe(qh)}getTranslation(i){return this.http.get(`assets/i18n/${i}.json`)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var F9e=ot(Tst());function c6t(e){let t=e,r=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*\.?/,"").length,n=parseInt(e.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return r===0||r===1?1:n===0&&r!==0&&r%1e6===0&&i===0||!(n>=0&&n<=5)?4:5}var Mst=["fr",[["AM","PM"],void 0,void 0],void 0,[["D","L","M","M","J","V","S"],["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],["di","lu","ma","me","je","ve","sa"]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["janv.","f\xE9vr.","mars","avr.","mai","juin","juil.","ao\xFBt","sept.","oct.","nov.","d\xE9c."],["janvier","f\xE9vrier","mars","avril","mai","juin","juillet","ao\xFBt","septembre","octobre","novembre","d\xE9cembre"]],void 0,[["av. J.-C.","ap. J.-C."],void 0,["avant J\xE9sus-Christ","apr\xE8s J\xE9sus-Christ"]],1,[6,0],["dd/MM/y","d MMM y","d MMMM y","EEEE d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}","{1}, {0}","{1} '\xE0' {0}",void 0],[",","\u202F",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0\xA0%","#,##0.00\xA0\xA4","#E0"],"EUR","\u20AC","euro",{ARS:["$AR","$"],AUD:["$AU","$"],BEF:["FB"],BMD:["$BM","$"],BND:["$BN","$"],BYN:[void 0,"\u0440."],BZD:["$BZ","$"],CAD:["$CA","$"],CLP:["$CL","$"],CNY:[void 0,"\xA5"],COP:["$CO","$"],CYP:["\xA3CY"],EGP:[void 0,"\xA3E"],FJD:["$FJ","$"],FKP:["\xA3FK","\xA3"],FRF:["F"],GBP:["\xA3GB","\xA3"],GIP:["\xA3GI","\xA3"],HKD:[void 0,"$"],IEP:["\xA3IE"],ILP:["\xA3IL"],ITL:["\u20A4IT"],JPY:[void 0,"\xA5"],KMF:[void 0,"FC"],LBP:["\xA3LB","\xA3L"],MTP:["\xA3MT"],MXN:["$MX","$"],NAD:["$NA","$"],NIO:[void 0,"$C"],NZD:["$NZ","$"],PHP:[void 0,"\u20B1"],RHD:["$RH"],RON:[void 0,"L"],RWF:[void 0,"FR"],SBD:["$SB","$"],SGD:["$SG","$"],SRD:["$SR","$"],TOP:[void 0,"$T"],TTD:["$TT","$"],TWD:[void 0,"NT$"],USD:["$US","$"],UYU:["$UY","$"],WST:["$WS"],XCD:[void 0,"$"],XPF:["FCFP"],ZMW:[void 0,"Kw"]},"ltr",c6t];function d6t(e){let t=e,r=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*\.?/,"").length;return r===1&&i===0?1:5}var Ast=["en",[["a","p"],["AM","PM"],void 0],[["AM","PM"],void 0,void 0],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],void 0,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",void 0,"{1} 'at' {0}",void 0],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",d6t];NO(Mst);NO(Ast);nj(xst,{providers:[Tq(Rq()),Sst(),ZO(),zq({config:{availableLangs:["en","fr"],defaultLang:"en",reRenderOnLangChange:!0,prodMode:!gB()},loader:Est})]}).catch(e=>console.error(e));
