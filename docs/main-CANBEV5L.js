import{a as qst}from"./chunk-BOJ2NEOO.js";import{A as zst,D as Ust,E as RB,F as PO,M as TB,O as NO,Q as Wst,S as ga,T as LO,U as Yst,V as MB,X as FO,Y as AB,Z as IB,a as ZR,aa as kB,b as QR,ba as $st,c as kO,d as JR,e as xB,ea as DB,f as Ub,g as kst,ga as HO,ha as Gst,i as Dst,j as Ost,ja as Kst,ka as Xst,l as qw,m as SB,ma as Zst,n as DO,na as Hn,o as Pst,p as Nst,r as Lst,s as Fst,t as Hst,u as Bst,v as jst,w as EB,y as OO,z as Vst}from"./chunk-6ARXTRE7.js";import{$ as wO,$a as jR,$b as WR,A as Ow,Aa as qH,Ab as Fi,Ac as GR,B as pd,Ba as Fw,Bb as pn,Bc as qn,C as FR,Ca as GH,Cb as ir,Cc as _B,D as yO,Da as Bu,Db as aB,Dc as wB,E as to,Ea as Fo,Eb as Is,Ec as KR,F as HH,Fa as Hw,Fb as or,Fc as CB,G as Sg,Ga as Lb,Gb as Hi,Gc as XR,H as BH,Ha as Fb,Hb as Bi,I as Fu,Ia as KH,Ib as lB,J as sm,Ja as XH,Jb as cB,Jc as cm,K as _O,Ka as ZH,Kb as Va,Kc as gd,L as jH,La as QH,Lb as ne,M as VH,Ma as JH,Mb as ho,Mc as ea,N as zH,Na as tB,Nb as Cr,Nc as dm,O as UH,Oa as eB,Ob as Bb,Oc as IO,P as Pw,Pa as Ul,Pb as jb,Pc as bd,Q as HR,Qa as Bw,Qb as Vb,R as Ms,Ra as te,Rb as xr,S as _o,Sa as Dt,Sb as ai,T as $n,Ta as ju,Tb as EO,U as fn,Ua as ll,Ub as RO,V as An,Va as iB,Vb as Ww,W as jl,Wa as Hb,Wb as Jr,X as we,Xa as BR,Xb as tn,Y as Ve,Ya as jw,Yb as VR,Z as WH,Za as xO,Zb as zR,_ as Se,_a as ci,_b as UR,a as Ro,aa as Jt,ab as pa,ac as TO,b as NH,ba as pe,bb as gs,bc as Mg,c as Ch,ca as am,cb as Vw,cc as YR,d as pO,da as Eg,db as rB,dc as dB,e as Dw,ea as Nw,eb as $r,ec as hB,f as Qe,fa as qe,fb as Fr,fc as cr,g as Yn,ga as ze,gb as nB,gc as Yw,h as LH,ha as ri,hb as SO,hc as uB,i as ma,ia as YH,ib as Ki,ic as Sr,j as as,ja as Vl,jb as Yi,jc as za,k as Me,ka as $H,kb as ke,kc as MO,l as wg,la as Sh,lb as cl,lc as fB,m as xh,ma as yc,mb as Vi,mc as mB,n as FH,na as er,nb as ta,nc as zb,o as ui,oa as fr,ob as In,oc as pB,p as vc,pa as mr,pb as zw,pc as gB,q as Hl,qa as Hu,qb as Uw,qc as Ai,r as gO,ra as Nb,rb as Lt,rc as bB,s as Cg,sa as As,sb as Pt,sc as AO,t as xg,ta as zl,tb as Be,tc as vB,u as Lu,ua as mn,ub as Tg,uc as yB,v as bO,va as Rg,vb as Ho,vc as Vu,w as Bl,wa as di,wb as ja,wc as $R,x as co,xa as Lw,xb as oB,xc as $w,y as vO,ya as si,yb as fi,yc as lm,z as ls,za as CO,zb as sB,zc as qR}from"./chunk-SNKAHHAP.js";import{a as jt,b as Ue,c as bc,d as Fn,e as xi,f as Ist,g as ot,h as wr,i as mO,j as PH,k as LR}from"./chunk-ZSDJ7DQO.js";var ba=xi((C4,vv)=>{"use strict";(function(e,t){typeof C4=="object"&&typeof vv<"u"?vv.exports=t():typeof define=="function"&&define.amd?define(t):e.moment=t()})(C4,function(){"use strict";var e;function t(){return e.apply(null,arguments)}function r(P){e=P}function i(P){return P instanceof Array||Object.prototype.toString.call(P)==="[object Array]"}function n(P){return P!=null&&Object.prototype.toString.call(P)==="[object Object]"}function o(P,G){return Object.prototype.hasOwnProperty.call(P,G)}function s(P){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(P).length===0;var G;for(G in P)if(o(P,G))return!1;return!0}function a(P){return P===void 0}function l(P){return typeof P=="number"||Object.prototype.toString.call(P)==="[object Number]"}function c(P){return P instanceof Date||Object.prototype.toString.call(P)==="[object Date]"}function d(P,G){var Q=[],st,gt=P.length;for(st=0;st<gt;++st)Q.push(G(P[st],st));return Q}function h(P,G){for(var Q in G)o(G,Q)&&(P[Q]=G[Q]);return o(G,"toString")&&(P.toString=G.toString),o(G,"valueOf")&&(P.valueOf=G.valueOf),P}function u(P,G,Q,st){return ca(P,G,Q,st,!0).utc()}function f(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function m(P){return P._pf==null&&(P._pf=f()),P._pf}var g;Array.prototype.some?g=Array.prototype.some:g=function(P){var G=Object(this),Q=G.length>>>0,st;for(st=0;st<Q;st++)if(st in G&&P.call(this,G[st],st,G))return!0;return!1};function p(P){var G=null,Q=!1,st=P._d&&!isNaN(P._d.getTime());if(st&&(G=m(P),Q=g.call(G.parsedDateParts,function(gt){return gt!=null}),st=G.overflow<0&&!G.empty&&!G.invalidEra&&!G.invalidMonth&&!G.invalidWeekday&&!G.weekdayMismatch&&!G.nullInput&&!G.invalidFormat&&!G.userInvalidated&&(!G.meridiem||G.meridiem&&Q),P._strict&&(st=st&&G.charsLeftOver===0&&G.unusedTokens.length===0&&G.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(P))P._isValid=st;else return st;return P._isValid}function b(P){var G=u(NaN);return P!=null?h(m(G),P):m(G).userInvalidated=!0,G}var _=t.momentProperties=[],E=!1;function O(P,G){var Q,st,gt,Nt=_.length;if(a(G._isAMomentObject)||(P._isAMomentObject=G._isAMomentObject),a(G._i)||(P._i=G._i),a(G._f)||(P._f=G._f),a(G._l)||(P._l=G._l),a(G._strict)||(P._strict=G._strict),a(G._tzm)||(P._tzm=G._tzm),a(G._isUTC)||(P._isUTC=G._isUTC),a(G._offset)||(P._offset=G._offset),a(G._pf)||(P._pf=m(G)),a(G._locale)||(P._locale=G._locale),Nt>0)for(Q=0;Q<Nt;Q++)st=_[Q],gt=G[st],a(gt)||(P[st]=gt);return P}function V(P){O(this,P),this._d=new Date(P._d!=null?P._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),E===!1&&(E=!0,t.updateOffset(this),E=!1)}function H(P){return P instanceof V||P!=null&&P._isAMomentObject!=null}function F(P){t.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+P)}function L(P,G){var Q=!0;return h(function(){if(t.deprecationHandler!=null&&t.deprecationHandler(null,P),Q){var st=[],gt,Nt,de,ii=arguments.length;for(Nt=0;Nt<ii;Nt++){if(gt="",typeof arguments[Nt]=="object"){gt+=`
[`+Nt+"] ";for(de in arguments[0])o(arguments[0],de)&&(gt+=de+": "+arguments[0][de]+", ");gt=gt.slice(0,-2)}else gt=arguments[Nt];st.push(gt)}F(P+`
Arguments: `+Array.prototype.slice.call(st).join("")+`
`+new Error().stack),Q=!1}return G.apply(this,arguments)},G)}var q={};function W(P,G){t.deprecationHandler!=null&&t.deprecationHandler(P,G),q[P]||(F(G),q[P]=!0)}t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;function x(P){return typeof Function<"u"&&P instanceof Function||Object.prototype.toString.call(P)==="[object Function]"}function R(P){var G,Q;for(Q in P)o(P,Q)&&(G=P[Q],x(G)?this[Q]=G:this["_"+Q]=G);this._config=P,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function j(P,G){var Q=h({},P),st;for(st in G)o(G,st)&&(n(P[st])&&n(G[st])?(Q[st]={},h(Q[st],P[st]),h(Q[st],G[st])):G[st]!=null?Q[st]=G[st]:delete Q[st]);for(st in P)o(P,st)&&!o(G,st)&&n(P[st])&&(Q[st]=h({},Q[st]));return Q}function v(P){P!=null&&this.set(P)}var y;Object.keys?y=Object.keys:y=function(P){var G,Q=[];for(G in P)o(P,G)&&Q.push(G);return Q};var C={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function w(P,G,Q){var st=this._calendar[P]||this._calendar.sameElse;return x(st)?st.call(G,Q):st}function S(P,G,Q){var st=""+Math.abs(P),gt=G-st.length,Nt=P>=0;return(Nt?Q?"+":"":"-")+Math.pow(10,Math.max(0,gt)).toString().substr(1)+st}var M=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,U=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,N={},T={};function B(P,G,Q,st){var gt=st;typeof st=="string"&&(gt=function(){return this[st]()}),P&&(T[P]=gt),G&&(T[G[0]]=function(){return S(gt.apply(this,arguments),G[1],G[2])}),Q&&(T[Q]=function(){return this.localeData().ordinal(gt.apply(this,arguments),P)})}function I(P){return P.match(/\[[\s\S]/)?P.replace(/^\[|\]$/g,""):P.replace(/\\/g,"")}function $(P){var G=P.match(M),Q,st;for(Q=0,st=G.length;Q<st;Q++)T[G[Q]]?G[Q]=T[G[Q]]:G[Q]=I(G[Q]);return function(gt){var Nt="",de;for(de=0;de<st;de++)Nt+=x(G[de])?G[de].call(gt,P):G[de];return Nt}}function A(P,G){return P.isValid()?(G=k(G,P.localeData()),N[G]=N[G]||$(G),N[G](P)):P.localeData().invalidDate()}function k(P,G){var Q=5;function st(gt){return G.longDateFormat(gt)||gt}for(U.lastIndex=0;Q>=0&&U.test(P);)P=P.replace(U,st),U.lastIndex=0,Q-=1;return P}var Y={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Z(P){var G=this._longDateFormat[P],Q=this._longDateFormat[P.toUpperCase()];return G||!Q?G:(this._longDateFormat[P]=Q.match(M).map(function(st){return st==="MMMM"||st==="MM"||st==="DD"||st==="dddd"?st.slice(1):st}).join(""),this._longDateFormat[P])}var ct="Invalid date";function tt(){return this._invalidDate}var nt="%d",Ct=/\d{1,2}/;function xt(P){return this._ordinal.replace("%d",P)}var rt={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function at(P,G,Q,st){var gt=this._relativeTime[Q];return x(gt)?gt(P,G,Q,st):gt.replace(/%d/i,P)}function _t(P,G){var Q=this._relativeTime[P>0?"future":"past"];return x(Q)?Q(G):Q.replace(/%s/i,G)}var J={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function et(P){return typeof P=="string"?J[P]||J[P.toLowerCase()]:void 0}function lt(P){var G={},Q,st;for(st in P)o(P,st)&&(Q=et(st),Q&&(G[Q]=P[st]));return G}var ut={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function mt(P){var G=[],Q;for(Q in P)o(P,Q)&&G.push({unit:Q,priority:ut[Q]});return G.sort(function(st,gt){return st.priority-gt.priority}),G}var wt=/\d/,vt=/\d\d/,Rt=/\d{3}/,Mt=/\d{4}/,Et=/[+-]?\d{6}/,kt=/\d\d?/,zt=/\d\d\d\d?/,Yt=/\d\d\d\d\d\d?/,Ut=/\d{1,3}/,ie=/\d{1,4}/,Zt=/[+-]?\d{1,6}/,Fe=/\d+/,le=/[+-]?\d+/,fe=/Z|[+-]\d\d:?\d\d/gi,ki=/Z|[+-]\d\d(?::?\d\d)?/gi,Ae=/[+-]?\d+(\.\d{1,3})?/,ni=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Pi=/^[1-9]\d?/,ti=/^([1-9]\d|\d)/,hi;hi={};function be(P,G,Q){hi[P]=x(G)?G:function(st,gt){return st&&Q?Q:G}}function ye(P,G){return o(hi,P)?hi[P](G._strict,G._locale):new RegExp(xe(P))}function xe(P){return Ur(P.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(G,Q,st,gt,Nt){return Q||st||gt||Nt}))}function Ur(P){return P.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function We(P){return P<0?Math.ceil(P)||0:Math.floor(P)}function Te(P){var G=+P,Q=0;return G!==0&&isFinite(G)&&(Q=We(G)),Q}var Jn={};function ue(P,G){var Q,st=G,gt;for(typeof P=="string"&&(P=[P]),l(G)&&(st=function(Nt,de){de[G]=Te(Nt)}),gt=P.length,Q=0;Q<gt;Q++)Jn[P[Q]]=st}function Ot(P,G){ue(P,function(Q,st,gt,Nt){gt._w=gt._w||{},G(Q,gt._w,gt,Nt)})}function Qt(P,G,Q){G!=null&&o(Jn,P)&&Jn[P](G,Q._a,Q,P)}function ee(P){return P%4===0&&P%100!==0||P%400===0}var se=0,mi=1,Ee=2,De=3,Ui=4,Ye=5,Pe=6,ar=7,Wi=8;B("Y",0,0,function(){var P=this.year();return P<=9999?S(P,4):"+"+P}),B(0,["YY",2],0,function(){return this.year()%100}),B(0,["YYYY",4],0,"year"),B(0,["YYYYY",5],0,"year"),B(0,["YYYYYY",6,!0],0,"year"),be("Y",le),be("YY",kt,vt),be("YYYY",ie,Mt),be("YYYYY",Zt,Et),be("YYYYYY",Zt,Et),ue(["YYYYY","YYYYYY"],se),ue("YYYY",function(P,G){G[se]=P.length===2?t.parseTwoDigitYear(P):Te(P)}),ue("YY",function(P,G){G[se]=t.parseTwoDigitYear(P)}),ue("Y",function(P,G){G[se]=parseInt(P,10)});function Ti(P){return ee(P)?366:365}t.parseTwoDigitYear=function(P){return Te(P)+(Te(P)>68?1900:2e3)};var br=nn("FullYear",!0);function rn(){return ee(this.year())}function nn(P,G){return function(Q){return Q!=null?(Tn(this,P,Q),t.updateOffset(this,G),this):Wn(this,P)}}function Wn(P,G){if(!P.isValid())return NaN;var Q=P._d,st=P._isUTC;switch(G){case"Milliseconds":return st?Q.getUTCMilliseconds():Q.getMilliseconds();case"Seconds":return st?Q.getUTCSeconds():Q.getSeconds();case"Minutes":return st?Q.getUTCMinutes():Q.getMinutes();case"Hours":return st?Q.getUTCHours():Q.getHours();case"Date":return st?Q.getUTCDate():Q.getDate();case"Day":return st?Q.getUTCDay():Q.getDay();case"Month":return st?Q.getUTCMonth():Q.getMonth();case"FullYear":return st?Q.getUTCFullYear():Q.getFullYear();default:return NaN}}function Tn(P,G,Q){var st,gt,Nt,de,ii;if(!(!P.isValid()||isNaN(Q))){switch(st=P._d,gt=P._isUTC,G){case"Milliseconds":return void(gt?st.setUTCMilliseconds(Q):st.setMilliseconds(Q));case"Seconds":return void(gt?st.setUTCSeconds(Q):st.setSeconds(Q));case"Minutes":return void(gt?st.setUTCMinutes(Q):st.setMinutes(Q));case"Hours":return void(gt?st.setUTCHours(Q):st.setHours(Q));case"Date":return void(gt?st.setUTCDate(Q):st.setDate(Q));case"FullYear":break;default:return}Nt=Q,de=P.month(),ii=P.date(),ii=ii===29&&de===1&&!ee(Nt)?28:ii,gt?st.setUTCFullYear(Nt,de,ii):st.setFullYear(Nt,de,ii)}}function po(P){return P=et(P),x(this[P])?this[P]():this}function At(P,G){if(typeof P=="object"){P=lt(P);var Q=mt(P),st,gt=Q.length;for(st=0;st<gt;st++)this[Q[st].unit](P[Q[st].unit])}else if(P=et(P),x(this[P]))return this[P](G);return this}function Gt(P,G){return(P%G+G)%G}var oe;Array.prototype.indexOf?oe=Array.prototype.indexOf:oe=function(P){var G;for(G=0;G<this.length;++G)if(this[G]===P)return G;return-1};function ae(P,G){if(isNaN(P)||isNaN(G))return NaN;var Q=Gt(G,12);return P+=(G-Q)/12,Q===1?ee(P)?29:28:31-Q%7%2}B("M",["MM",2],"Mo",function(){return this.month()+1}),B("MMM",0,0,function(P){return this.localeData().monthsShort(this,P)}),B("MMMM",0,0,function(P){return this.localeData().months(this,P)}),be("M",kt,Pi),be("MM",kt,vt),be("MMM",function(P,G){return G.monthsShortRegex(P)}),be("MMMM",function(P,G){return G.monthsRegex(P)}),ue(["M","MM"],function(P,G){G[mi]=Te(P)-1}),ue(["MMM","MMMM"],function(P,G,Q,st){var gt=Q._locale.monthsParse(P,st,Q._strict);gt!=null?G[mi]=gt:m(Q).invalidMonth=P});var Ie="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),li="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),oi=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ur=ni,ji=ni;function Di(P,G){return P?i(this._months)?this._months[P.month()]:this._months[(this._months.isFormat||oi).test(G)?"format":"standalone"][P.month()]:i(this._months)?this._months:this._months.standalone}function Ni(P,G){return P?i(this._monthsShort)?this._monthsShort[P.month()]:this._monthsShort[oi.test(G)?"format":"standalone"][P.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Pn(P,G,Q){var st,gt,Nt,de=P.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],st=0;st<12;++st)Nt=u([2e3,st]),this._shortMonthsParse[st]=this.monthsShort(Nt,"").toLocaleLowerCase(),this._longMonthsParse[st]=this.months(Nt,"").toLocaleLowerCase();return Q?G==="MMM"?(gt=oe.call(this._shortMonthsParse,de),gt!==-1?gt:null):(gt=oe.call(this._longMonthsParse,de),gt!==-1?gt:null):G==="MMM"?(gt=oe.call(this._shortMonthsParse,de),gt!==-1?gt:(gt=oe.call(this._longMonthsParse,de),gt!==-1?gt:null)):(gt=oe.call(this._longMonthsParse,de),gt!==-1?gt:(gt=oe.call(this._shortMonthsParse,de),gt!==-1?gt:null))}function nr(P,G,Q){var st,gt,Nt;if(this._monthsParseExact)return Pn.call(this,P,G,Q);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),st=0;st<12;st++){if(gt=u([2e3,st]),Q&&!this._longMonthsParse[st]&&(this._longMonthsParse[st]=new RegExp("^"+this.months(gt,"").replace(".","")+"$","i"),this._shortMonthsParse[st]=new RegExp("^"+this.monthsShort(gt,"").replace(".","")+"$","i")),!Q&&!this._monthsParse[st]&&(Nt="^"+this.months(gt,"")+"|^"+this.monthsShort(gt,""),this._monthsParse[st]=new RegExp(Nt.replace(".",""),"i")),Q&&G==="MMMM"&&this._longMonthsParse[st].test(P))return st;if(Q&&G==="MMM"&&this._shortMonthsParse[st].test(P))return st;if(!Q&&this._monthsParse[st].test(P))return st}}function kr(P,G){if(!P.isValid())return P;if(typeof G=="string"){if(/^\d+$/.test(G))G=Te(G);else if(G=P.localeData().monthsParse(G),!l(G))return P}var Q=G,st=P.date();return st=st<29?st:Math.min(st,ae(P.year(),Q)),P._isUTC?P._d.setUTCMonth(Q,st):P._d.setMonth(Q,st),P}function jr(P){return P!=null?(kr(this,P),t.updateOffset(this,!0),this):Wn(this,"Month")}function So(){return ae(this.year(),this.month())}function ns(P){return this._monthsParseExact?(o(this,"_monthsRegex")||so.call(this),P?this._monthsShortStrictRegex:this._monthsShortRegex):(o(this,"_monthsShortRegex")||(this._monthsShortRegex=ur),this._monthsShortStrictRegex&&P?this._monthsShortStrictRegex:this._monthsShortRegex)}function xs(P){return this._monthsParseExact?(o(this,"_monthsRegex")||so.call(this),P?this._monthsStrictRegex:this._monthsRegex):(o(this,"_monthsRegex")||(this._monthsRegex=ji),this._monthsStrictRegex&&P?this._monthsStrictRegex:this._monthsRegex)}function so(){function P(zi,Lr){return Lr.length-zi.length}var G=[],Q=[],st=[],gt,Nt,de,ii;for(gt=0;gt<12;gt++)Nt=u([2e3,gt]),de=Ur(this.monthsShort(Nt,"")),ii=Ur(this.months(Nt,"")),G.push(de),Q.push(ii),st.push(ii),st.push(de);G.sort(P),Q.sort(P),st.sort(P),this._monthsRegex=new RegExp("^("+st.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+Q.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+G.join("|")+")","i")}function la(P,G,Q,st,gt,Nt,de){var ii;return P<100&&P>=0?(ii=new Date(P+400,G,Q,st,gt,Nt,de),isFinite(ii.getFullYear())&&ii.setFullYear(P)):ii=new Date(P,G,Q,st,gt,Nt,de),ii}function ao(P){var G,Q;return P<100&&P>=0?(Q=Array.prototype.slice.call(arguments),Q[0]=P+400,G=new Date(Date.UTC.apply(null,Q)),isFinite(G.getUTCFullYear())&&G.setUTCFullYear(P)):G=new Date(Date.UTC.apply(null,arguments)),G}function $s(P,G,Q){var st=7+G-Q,gt=(7+ao(P,0,st).getUTCDay()-G)%7;return-gt+st-1}function Tr(P,G,Q,st,gt){var Nt=(7+Q-st)%7,de=$s(P,st,gt),ii=1+7*(G-1)+Nt+de,zi,Lr;return ii<=0?(zi=P-1,Lr=Ti(zi)+ii):ii>Ti(P)?(zi=P+1,Lr=ii-Ti(P)):(zi=P,Lr=ii),{year:zi,dayOfYear:Lr}}function Dr(P,G,Q){var st=$s(P.year(),G,Q),gt=Math.floor((P.dayOfYear()-st-1)/7)+1,Nt,de;return gt<1?(de=P.year()-1,Nt=gt+Ss(de,G,Q)):gt>Ss(P.year(),G,Q)?(Nt=gt-Ss(P.year(),G,Q),de=P.year()+1):(de=P.year(),Nt=gt),{week:Nt,year:de}}function Ss(P,G,Q){var st=$s(P,G,Q),gt=$s(P+1,G,Q);return(Ti(P)-st+gt)/7}B("w",["ww",2],"wo","week"),B("W",["WW",2],"Wo","isoWeek"),be("w",kt,Pi),be("ww",kt,vt),be("W",kt,Pi),be("WW",kt,vt),Ot(["w","ww","W","WW"],function(P,G,Q,st){G[st.substr(0,1)]=Te(P)});function Dl(P){return Dr(P,this._week.dow,this._week.doy).week}var rd={dow:0,doy:6};function us(){return this._week.dow}function qs(){return this._week.doy}function tl(P){var G=this.localeData().week(this);return P==null?G:this.add((P-G)*7,"d")}function nd(P){var G=Dr(this,1,4).week;return P==null?G:this.add((P-G)*7,"d")}B("d",0,"do","day"),B("dd",0,0,function(P){return this.localeData().weekdaysMin(this,P)}),B("ddd",0,0,function(P){return this.localeData().weekdaysShort(this,P)}),B("dddd",0,0,function(P){return this.localeData().weekdays(this,P)}),B("e",0,0,"weekday"),B("E",0,0,"isoWeekday"),be("d",kt),be("e",kt),be("E",kt),be("dd",function(P,G){return G.weekdaysMinRegex(P)}),be("ddd",function(P,G){return G.weekdaysShortRegex(P)}),be("dddd",function(P,G){return G.weekdaysRegex(P)}),Ot(["dd","ddd","dddd"],function(P,G,Q,st){var gt=Q._locale.weekdaysParse(P,st,Q._strict);gt!=null?G.d=gt:m(Q).invalidWeekday=P}),Ot(["d","e","E"],function(P,G,Q,st){G[st]=Te(P)});function eh(P,G){return typeof P!="string"?P:isNaN(P)?(P=G.weekdaysParse(P),typeof P=="number"?P:null):parseInt(P,10)}function Es(P,G){return typeof P=="string"?G.weekdaysParse(P)%7||7:isNaN(P)?null:P}function fs(P,G){return P.slice(G,7).concat(P.slice(0,G))}var od="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),hc="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Oo="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ih=ni,sd=ni,qi=ni;function rh(P,G){var Q=i(this._weekdays)?this._weekdays:this._weekdays[P&&P!==!0&&this._weekdays.isFormat.test(G)?"format":"standalone"];return P===!0?fs(Q,this._week.dow):P?Q[P.day()]:Q}function nh(P){return P===!0?fs(this._weekdaysShort,this._week.dow):P?this._weekdaysShort[P.day()]:this._weekdaysShort}function uc(P){return P===!0?fs(this._weekdaysMin,this._week.dow):P?this._weekdaysMin[P.day()]:this._weekdaysMin}function mb(P,G,Q){var st,gt,Nt,de=P.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],st=0;st<7;++st)Nt=u([2e3,1]).day(st),this._minWeekdaysParse[st]=this.weekdaysMin(Nt,"").toLocaleLowerCase(),this._shortWeekdaysParse[st]=this.weekdaysShort(Nt,"").toLocaleLowerCase(),this._weekdaysParse[st]=this.weekdays(Nt,"").toLocaleLowerCase();return Q?G==="dddd"?(gt=oe.call(this._weekdaysParse,de),gt!==-1?gt:null):G==="ddd"?(gt=oe.call(this._shortWeekdaysParse,de),gt!==-1?gt:null):(gt=oe.call(this._minWeekdaysParse,de),gt!==-1?gt:null):G==="dddd"?(gt=oe.call(this._weekdaysParse,de),gt!==-1||(gt=oe.call(this._shortWeekdaysParse,de),gt!==-1)?gt:(gt=oe.call(this._minWeekdaysParse,de),gt!==-1?gt:null)):G==="ddd"?(gt=oe.call(this._shortWeekdaysParse,de),gt!==-1||(gt=oe.call(this._weekdaysParse,de),gt!==-1)?gt:(gt=oe.call(this._minWeekdaysParse,de),gt!==-1?gt:null)):(gt=oe.call(this._minWeekdaysParse,de),gt!==-1||(gt=oe.call(this._weekdaysParse,de),gt!==-1)?gt:(gt=oe.call(this._shortWeekdaysParse,de),gt!==-1?gt:null))}function pb(P,G,Q){var st,gt,Nt;if(this._weekdaysParseExact)return mb.call(this,P,G,Q);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),st=0;st<7;st++){if(gt=u([2e3,1]).day(st),Q&&!this._fullWeekdaysParse[st]&&(this._fullWeekdaysParse[st]=new RegExp("^"+this.weekdays(gt,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[st]=new RegExp("^"+this.weekdaysShort(gt,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[st]=new RegExp("^"+this.weekdaysMin(gt,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[st]||(Nt="^"+this.weekdays(gt,"")+"|^"+this.weekdaysShort(gt,"")+"|^"+this.weekdaysMin(gt,""),this._weekdaysParse[st]=new RegExp(Nt.replace(".",""),"i")),Q&&G==="dddd"&&this._fullWeekdaysParse[st].test(P))return st;if(Q&&G==="ddd"&&this._shortWeekdaysParse[st].test(P))return st;if(Q&&G==="dd"&&this._minWeekdaysParse[st].test(P))return st;if(!Q&&this._weekdaysParse[st].test(P))return st}}function zf(P){if(!this.isValid())return P!=null?this:NaN;var G=Wn(this,"Day");return P!=null?(P=eh(P,this.localeData()),this.add(P-G,"d")):G}function ig(P){if(!this.isValid())return P!=null?this:NaN;var G=(this.day()+7-this.localeData()._week.dow)%7;return P==null?G:this.add(P-G,"d")}function bw(P){if(!this.isValid())return P!=null?this:NaN;if(P!=null){var G=Es(P,this.localeData());return this.day(this.day()%7?G:G-7)}else return this.day()||7}function vw(P){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||ad.call(this),P?this._weekdaysStrictRegex:this._weekdaysRegex):(o(this,"_weekdaysRegex")||(this._weekdaysRegex=ih),this._weekdaysStrictRegex&&P?this._weekdaysStrictRegex:this._weekdaysRegex)}function yw(P){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||ad.call(this),P?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(o(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=sd),this._weekdaysShortStrictRegex&&P?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function rg(P){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||ad.call(this),P?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(o(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=qi),this._weekdaysMinStrictRegex&&P?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function ad(){function P(Qs,Fl){return Fl.length-Qs.length}var G=[],Q=[],st=[],gt=[],Nt,de,ii,zi,Lr;for(Nt=0;Nt<7;Nt++)de=u([2e3,1]).day(Nt),ii=Ur(this.weekdaysMin(de,"")),zi=Ur(this.weekdaysShort(de,"")),Lr=Ur(this.weekdays(de,"")),G.push(ii),Q.push(zi),st.push(Lr),gt.push(ii),gt.push(zi),gt.push(Lr);G.sort(P),Q.sort(P),st.sort(P),gt.sort(P),this._weekdaysRegex=new RegExp("^("+gt.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+st.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+Q.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+G.join("|")+")","i")}function fc(){return this.hours()%12||12}function _w(){return this.hours()||24}B("H",["HH",2],0,"hour"),B("h",["hh",2],0,fc),B("k",["kk",2],0,_w),B("hmm",0,0,function(){return""+fc.apply(this)+S(this.minutes(),2)}),B("hmmss",0,0,function(){return""+fc.apply(this)+S(this.minutes(),2)+S(this.seconds(),2)}),B("Hmm",0,0,function(){return""+this.hours()+S(this.minutes(),2)}),B("Hmmss",0,0,function(){return""+this.hours()+S(this.minutes(),2)+S(this.seconds(),2)});function oh(P,G){B(P,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),G)})}oh("a",!0),oh("A",!1);function Uf(P,G){return G._meridiemParse}be("a",Uf),be("A",Uf),be("H",kt,ti),be("h",kt,Pi),be("k",kt,Pi),be("HH",kt,vt),be("hh",kt,vt),be("kk",kt,vt),be("hmm",zt),be("hmmss",Yt),be("Hmm",zt),be("Hmmss",Yt),ue(["H","HH"],De),ue(["k","kk"],function(P,G,Q){var st=Te(P);G[De]=st===24?0:st}),ue(["a","A"],function(P,G,Q){Q._isPm=Q._locale.isPM(P),Q._meridiem=P}),ue(["h","hh"],function(P,G,Q){G[De]=Te(P),m(Q).bigHour=!0}),ue("hmm",function(P,G,Q){var st=P.length-2;G[De]=Te(P.substr(0,st)),G[Ui]=Te(P.substr(st)),m(Q).bigHour=!0}),ue("hmmss",function(P,G,Q){var st=P.length-4,gt=P.length-2;G[De]=Te(P.substr(0,st)),G[Ui]=Te(P.substr(st,2)),G[Ye]=Te(P.substr(gt)),m(Q).bigHour=!0}),ue("Hmm",function(P,G,Q){var st=P.length-2;G[De]=Te(P.substr(0,st)),G[Ui]=Te(P.substr(st))}),ue("Hmmss",function(P,G,Q){var st=P.length-4,gt=P.length-2;G[De]=Te(P.substr(0,st)),G[Ui]=Te(P.substr(st,2)),G[Ye]=Te(P.substr(gt))});function Wf(P){return(P+"").toLowerCase().charAt(0)==="p"}var gb=/[ap]\.?m?\.?/i,bb=nn("Hours",!0);function vb(P,G,Q){return P>11?Q?"pm":"PM":Q?"am":"AM"}var ng={calendar:C,longDateFormat:Y,invalidDate:ct,ordinal:nt,dayOfMonthOrdinalParse:Ct,relativeTime:rt,months:Ie,monthsShort:li,week:rd,weekdays:od,weekdaysMin:Oo,weekdaysShort:hc,meridiemParse:gb},Wr={},Na={},xu;function sh(P,G){var Q,st=Math.min(P.length,G.length);for(Q=0;Q<st;Q+=1)if(P[Q]!==G[Q])return Q;return st}function el(P){return P&&P.toLowerCase().replace("_","-")}function og(P){for(var G=0,Q,st,gt,Nt;G<P.length;){for(Nt=el(P[G]).split("-"),Q=Nt.length,st=el(P[G+1]),st=st?st.split("-"):null;Q>0;){if(gt=Yf(Nt.slice(0,Q).join("-")),gt)return gt;if(st&&st.length>=Q&&sh(Nt,st)>=Q-1)break;Q--}G++}return xu}function Su(P){return!!(P&&P.match("^[^/\\\\]*$"))}function Yf(P){var G=null,Q;if(Wr[P]===void 0&&typeof vv<"u"&&vv&&vv.exports&&Su(P))try{G=xu._abbr,Q=bc,Q("./locale/"+P),La(G)}catch{Wr[P]=null}return Wr[P]}function La(P,G){var Q;return P&&(a(G)?Q=Fa(P):Q=sg(P,G),Q?xu=Q:typeof console<"u"&&console.warn&&console.warn("Locale "+P+" not found. Did you forget to load it?")),xu._abbr}function sg(P,G){if(G!==null){var Q,st=ng;if(G.abbr=P,Wr[P]!=null)W("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),st=Wr[P]._config;else if(G.parentLocale!=null)if(Wr[G.parentLocale]!=null)st=Wr[G.parentLocale]._config;else if(Q=Yf(G.parentLocale),Q!=null)st=Q._config;else return Na[G.parentLocale]||(Na[G.parentLocale]=[]),Na[G.parentLocale].push({name:P,config:G}),null;return Wr[P]=new v(j(st,G)),Na[P]&&Na[P].forEach(function(gt){sg(gt.name,gt.config)}),La(P),Wr[P]}else return delete Wr[P],null}function ag(P,G){if(G!=null){var Q,st,gt=ng;Wr[P]!=null&&Wr[P].parentLocale!=null?Wr[P].set(j(Wr[P]._config,G)):(st=Yf(P),st!=null&&(gt=st._config),G=j(gt,G),st==null&&(G.abbr=P),Q=new v(G),Q.parentLocale=Wr[P],Wr[P]=Q),La(P)}else Wr[P]!=null&&(Wr[P].parentLocale!=null?(Wr[P]=Wr[P].parentLocale,P===La()&&La(P)):Wr[P]!=null&&delete Wr[P]);return Wr[P]}function Fa(P){var G;if(P&&P._locale&&P._locale._abbr&&(P=P._locale._abbr),!P)return xu;if(!i(P)){if(G=Yf(P),G)return G;P=[P]}return og(P)}function yb(){return y(Wr)}function ah(P){var G,Q=P._a;return Q&&m(P).overflow===-2&&(G=Q[mi]<0||Q[mi]>11?mi:Q[Ee]<1||Q[Ee]>ae(Q[se],Q[mi])?Ee:Q[De]<0||Q[De]>24||Q[De]===24&&(Q[Ui]!==0||Q[Ye]!==0||Q[Pe]!==0)?De:Q[Ui]<0||Q[Ui]>59?Ui:Q[Ye]<0||Q[Ye]>59?Ye:Q[Pe]<0||Q[Pe]>999?Pe:-1,m(P)._overflowDayOfYear&&(G<se||G>Ee)&&(G=Ee),m(P)._overflowWeeks&&G===-1&&(G=ar),m(P)._overflowWeekday&&G===-1&&(G=Wi),m(P).overflow=G),P}var lg=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,cg=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_b=/Z|[+-]\d\d(?::?\d\d)?/,$f=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],lh=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Eu=/^\/?Date\((-?\d+)/i,dg=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,ch={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function qf(P){var G,Q,st=P._i,gt=lg.exec(st)||cg.exec(st),Nt,de,ii,zi,Lr=$f.length,Qs=lh.length;if(gt){for(m(P).iso=!0,G=0,Q=Lr;G<Q;G++)if($f[G][1].exec(gt[1])){de=$f[G][0],Nt=$f[G][2]!==!1;break}if(de==null){P._isValid=!1;return}if(gt[3]){for(G=0,Q=Qs;G<Q;G++)if(lh[G][1].exec(gt[3])){ii=(gt[2]||" ")+lh[G][0];break}if(ii==null){P._isValid=!1;return}}if(!Nt&&ii!=null){P._isValid=!1;return}if(gt[4])if(_b.exec(gt[4]))zi="Z";else{P._isValid=!1;return}P._f=de+(ii||"")+(zi||""),Or(P)}else P._isValid=!1}function K(P,G,Q,st,gt,Nt){var de=[ht(P),li.indexOf(G),parseInt(Q,10),parseInt(st,10),parseInt(gt,10)];return Nt&&de.push(parseInt(Nt,10)),de}function ht(P){var G=parseInt(P,10);return G<=49?2e3+G:G<=999?1900+G:G}function It(P){return P.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Ft(P,G,Q){if(P){var st=hc.indexOf(P),gt=new Date(G[0],G[1],G[2]).getDay();if(st!==gt)return m(Q).weekdayMismatch=!0,Q._isValid=!1,!1}return!0}function $t(P,G,Q){if(P)return ch[P];if(G)return 0;var st=parseInt(Q,10),gt=st%100,Nt=(st-gt)/100;return Nt*60+gt}function he(P){var G=dg.exec(It(P._i)),Q;if(G){if(Q=K(G[4],G[3],G[2],G[5],G[6],G[7]),!Ft(G[1],Q,P))return;P._a=Q,P._tzm=$t(G[8],G[9],G[10]),P._d=ao.apply(null,P._a),P._d.setUTCMinutes(P._d.getUTCMinutes()-P._tzm),m(P).rfc2822=!0}else P._isValid=!1}function Re(P){var G=Eu.exec(P._i);if(G!==null){P._d=new Date(+G[1]);return}if(qf(P),P._isValid===!1)delete P._isValid;else return;if(he(P),P._isValid===!1)delete P._isValid;else return;P._strict?P._isValid=!1:t.createFromInputFallback(P)}t.createFromInputFallback=L("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(P){P._d=new Date(P._i+(P._useUTC?" UTC":""))});function $e(P,G,Q){return P??G??Q}function Mi(P){var G=new Date(t.now());return P._useUTC?[G.getUTCFullYear(),G.getUTCMonth(),G.getUTCDate()]:[G.getFullYear(),G.getMonth(),G.getDate()]}function Qi(P){var G,Q,st=[],gt,Nt,de;if(!P._d){for(gt=Mi(P),P._w&&P._a[Ee]==null&&P._a[mi]==null&&Ji(P),P._dayOfYear!=null&&(de=$e(P._a[se],gt[se]),(P._dayOfYear>Ti(de)||P._dayOfYear===0)&&(m(P)._overflowDayOfYear=!0),Q=ao(de,0,P._dayOfYear),P._a[mi]=Q.getUTCMonth(),P._a[Ee]=Q.getUTCDate()),G=0;G<3&&P._a[G]==null;++G)P._a[G]=st[G]=gt[G];for(;G<7;G++)P._a[G]=st[G]=P._a[G]==null?G===2?1:0:P._a[G];P._a[De]===24&&P._a[Ui]===0&&P._a[Ye]===0&&P._a[Pe]===0&&(P._nextDay=!0,P._a[De]=0),P._d=(P._useUTC?ao:la).apply(null,st),Nt=P._useUTC?P._d.getUTCDay():P._d.getDay(),P._tzm!=null&&P._d.setUTCMinutes(P._d.getUTCMinutes()-P._tzm),P._nextDay&&(P._a[De]=24),P._w&&typeof P._w.d<"u"&&P._w.d!==Nt&&(m(P).weekdayMismatch=!0)}}function Ji(P){var G,Q,st,gt,Nt,de,ii,zi,Lr;G=P._w,G.GG!=null||G.W!=null||G.E!=null?(Nt=1,de=4,Q=$e(G.GG,P._a[se],Dr(Vr(),1,4).year),st=$e(G.W,1),gt=$e(G.E,1),(gt<1||gt>7)&&(zi=!0)):(Nt=P._locale._week.dow,de=P._locale._week.doy,Lr=Dr(Vr(),Nt,de),Q=$e(G.gg,P._a[se],Lr.year),st=$e(G.w,Lr.week),G.d!=null?(gt=G.d,(gt<0||gt>6)&&(zi=!0)):G.e!=null?(gt=G.e+Nt,(G.e<0||G.e>6)&&(zi=!0)):gt=Nt),st<1||st>Ss(Q,Nt,de)?m(P)._overflowWeeks=!0:zi!=null?m(P)._overflowWeekday=!0:(ii=Tr(Q,st,gt,Nt,de),P._a[se]=ii.year,P._dayOfYear=ii.dayOfYear)}t.ISO_8601=function(){},t.RFC_2822=function(){};function Or(P){if(P._f===t.ISO_8601){qf(P);return}if(P._f===t.RFC_2822){he(P);return}P._a=[],m(P).empty=!0;var G=""+P._i,Q,st,gt,Nt,de,ii=G.length,zi=0,Lr,Qs;for(gt=k(P._f,P._locale).match(M)||[],Qs=gt.length,Q=0;Q<Qs;Q++)Nt=gt[Q],st=(G.match(ye(Nt,P))||[])[0],st&&(de=G.substr(0,G.indexOf(st)),de.length>0&&m(P).unusedInput.push(de),G=G.slice(G.indexOf(st)+st.length),zi+=st.length),T[Nt]?(st?m(P).empty=!1:m(P).unusedTokens.push(Nt),Qt(Nt,st,P)):P._strict&&!st&&m(P).unusedTokens.push(Nt);m(P).charsLeftOver=ii-zi,G.length>0&&m(P).unusedInput.push(G),P._a[De]<=12&&m(P).bigHour===!0&&P._a[De]>0&&(m(P).bigHour=void 0),m(P).parsedDateParts=P._a.slice(0),m(P).meridiem=P._meridiem,P._a[De]=lo(P._locale,P._a[De],P._meridiem),Lr=m(P).era,Lr!==null&&(P._a[se]=P._locale.erasConvertYear(Lr,P._a[se])),Qi(P),ah(P)}function lo(P,G,Q){var st;return Q==null?G:P.meridiemHour!=null?P.meridiemHour(G,Q):(P.isPM!=null&&(st=P.isPM(Q),st&&G<12&&(G+=12),!st&&G===12&&(G=0)),G)}function go(P){var G,Q,st,gt,Nt,de,ii=!1,zi=P._f.length;if(zi===0){m(P).invalidFormat=!0,P._d=new Date(NaN);return}for(gt=0;gt<zi;gt++)Nt=0,de=!1,G=O({},P),P._useUTC!=null&&(G._useUTC=P._useUTC),G._f=P._f[gt],Or(G),p(G)&&(de=!0),Nt+=m(G).charsLeftOver,Nt+=m(G).unusedTokens.length*10,m(G).score=Nt,ii?Nt<st&&(st=Nt,Q=G):(st==null||Nt<st||de)&&(st=Nt,Q=G,de&&(ii=!0));h(P,Q||G)}function Po(P){if(!P._d){var G=lt(P._i),Q=G.day===void 0?G.date:G.day;P._a=d([G.year,G.month,Q,G.hour,G.minute,G.second,G.millisecond],function(st){return st&&parseInt(st,10)}),Qi(P)}}function Rs(P){var G=new V(ah($o(P)));return G._nextDay&&(G.add(1,"d"),G._nextDay=void 0),G}function $o(P){var G=P._i,Q=P._f;return P._locale=P._locale||Fa(P._l),G===null||Q===void 0&&G===""?b({nullInput:!0}):(typeof G=="string"&&(P._i=G=P._locale.preparse(G)),H(G)?new V(ah(G)):(c(G)?P._d=G:i(Q)?go(P):Q?Or(P):Ol(P),p(P)||(P._d=null),P))}function Ol(P){var G=P._i;a(G)?P._d=new Date(t.now()):c(G)?P._d=new Date(G.valueOf()):typeof G=="string"?Re(P):i(G)?(P._a=d(G.slice(0),function(Q){return parseInt(Q,10)}),Qi(P)):n(G)?Po(P):l(G)?P._d=new Date(G):t.createFromInputFallback(P)}function ca(P,G,Q,st,gt){var Nt={};return(G===!0||G===!1)&&(st=G,G=void 0),(Q===!0||Q===!1)&&(st=Q,Q=void 0),(n(P)&&s(P)||i(P)&&P.length===0)&&(P=void 0),Nt._isAMomentObject=!0,Nt._useUTC=Nt._isUTC=gt,Nt._l=Q,Nt._i=P,Nt._f=G,Nt._strict=st,Rs(Nt)}function Vr(P,G,Q,st){return ca(P,G,Q,st,!1)}var wb=L("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var P=Vr.apply(null,arguments);return this.isValid()&&P.isValid()?P<this?this:P:b()}),hg=L("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var P=Vr.apply(null,arguments);return this.isValid()&&P.isValid()?P>this?this:P:b()});function Gf(P,G){var Q,st;if(G.length===1&&i(G[0])&&(G=G[0]),!G.length)return Vr();for(Q=G[0],st=1;st<G.length;++st)(!G[st].isValid()||G[st][P](Q))&&(Q=G[st]);return Q}function Kf(){var P=[].slice.call(arguments,0);return Gf("isBefore",P)}function ug(){var P=[].slice.call(arguments,0);return Gf("isAfter",P)}var fg=function(){return Date.now?Date.now():+new Date},mc=["year","quarter","month","week","day","hour","minute","second","millisecond"];function ms(P){var G,Q=!1,st,gt=mc.length;for(G in P)if(o(P,G)&&!(oe.call(mc,G)!==-1&&(P[G]==null||!isNaN(P[G]))))return!1;for(st=0;st<gt;++st)if(P[mc[st]]){if(Q)return!1;parseFloat(P[mc[st]])!==Te(P[mc[st]])&&(Q=!0)}return!0}function Xf(){return this._isValid}function Zf(){return vo(NaN)}function ld(P){var G=lt(P),Q=G.year||0,st=G.quarter||0,gt=G.month||0,Nt=G.week||G.isoWeek||0,de=G.day||0,ii=G.hour||0,zi=G.minute||0,Lr=G.second||0,Qs=G.millisecond||0;this._isValid=ms(G),this._milliseconds=+Qs+Lr*1e3+zi*6e4+ii*1e3*60*60,this._days=+de+Nt*7,this._months=+gt+st*3+Q*12,this._data={},this._locale=Fa(),this._bubble()}function dh(P){return P instanceof ld}function Ts(P){return P<0?Math.round(-1*P)*-1:Math.round(P)}function ww(P,G,Q){var st=Math.min(P.length,G.length),gt=Math.abs(P.length-G.length),Nt=0,de;for(de=0;de<st;de++)(Q&&P[de]!==G[de]||!Q&&Te(P[de])!==Te(G[de]))&&Nt++;return Nt+gt}function Qf(P,G){B(P,0,0,function(){var Q=this.utcOffset(),st="+";return Q<0&&(Q=-Q,st="-"),st+S(~~(Q/60),2)+G+S(~~Q%60,2)})}Qf("Z",":"),Qf("ZZ",""),be("Z",ki),be("ZZ",ki),ue(["Z","ZZ"],function(P,G,Q){Q._useUTC=!0,Q._tzm=da(ki,P)});var Cb=/([\+\-]|\d\d)/gi;function da(P,G){var Q=(G||"").match(P),st,gt,Nt;return Q===null?null:(st=Q[Q.length-1]||[],gt=(st+"").match(Cb)||["-",0,0],Nt=+(gt[1]*60)+Te(gt[2]),Nt===0?0:gt[0]==="+"?Nt:-Nt)}function hh(P,G){var Q,st;return G._isUTC?(Q=G.clone(),st=(H(P)||c(P)?P.valueOf():Vr(P).valueOf())-Q.valueOf(),Q._d.setTime(Q._d.valueOf()+st),t.updateOffset(Q,!1),Q):Vr(P).local()}function Jf(P){return-Math.round(P._d.getTimezoneOffset())}t.updateOffset=function(){};function xb(P,G,Q){var st=this._offset||0,gt;if(!this.isValid())return P!=null?this:NaN;if(P!=null){if(typeof P=="string"){if(P=da(ki,P),P===null)return this}else Math.abs(P)<16&&!Q&&(P=P*60);return!this._isUTC&&G&&(gt=Jf(this)),this._offset=P,this._isUTC=!0,gt!=null&&this.add(gt,"m"),st!==P&&(!G||this._changeInProgress?ph(this,vo(P-st,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?st:Jf(this)}function uh(P,G){return P!=null?(typeof P!="string"&&(P=-P),this.utcOffset(P,G),this):-this.utcOffset()}function Ru(P){return this.utcOffset(0,P)}function ha(P){return this._isUTC&&(this.utcOffset(0,P),this._isUTC=!1,P&&this.subtract(Jf(this),"m")),this}function Gs(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var P=da(fe,this._i);P!=null?this.utcOffset(P):this.utcOffset(0,!0)}return this}function fh(P){return this.isValid()?(P=P?Vr(P).utcOffset():0,(this.utcOffset()-P)%60===0):!1}function cd(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function dd(){if(!a(this._isDSTShifted))return this._isDSTShifted;var P={},G;return O(P,this),P=$o(P),P._a?(G=P._isUTC?u(P._a):Vr(P._a),this._isDSTShifted=this.isValid()&&ww(P._a,G.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function tm(){return this.isValid()?!this._isUTC:!1}function hd(){return this.isValid()?this._isUTC:!1}function bo(){return this.isValid()?this._isUTC&&this._offset===0:!1}var mg=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Ks=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function vo(P,G){var Q=P,st=null,gt,Nt,de;return dh(P)?Q={ms:P._milliseconds,d:P._days,M:P._months}:l(P)||!isNaN(+P)?(Q={},G?Q[G]=+P:Q.milliseconds=+P):(st=mg.exec(P))?(gt=st[1]==="-"?-1:1,Q={y:0,d:Te(st[Ee])*gt,h:Te(st[De])*gt,m:Te(st[Ui])*gt,s:Te(st[Ye])*gt,ms:Te(Ts(st[Pe]*1e3))*gt}):(st=Ks.exec(P))?(gt=st[1]==="-"?-1:1,Q={y:il(st[2],gt),M:il(st[3],gt),w:il(st[4],gt),d:il(st[5],gt),h:il(st[6],gt),m:il(st[7],gt),s:il(st[8],gt)}):Q==null?Q={}:typeof Q=="object"&&("from"in Q||"to"in Q)&&(de=gg(Vr(Q.from),Vr(Q.to)),Q={},Q.ms=de.milliseconds,Q.M=de.months),Nt=new ld(Q),dh(P)&&o(P,"_locale")&&(Nt._locale=P._locale),dh(P)&&o(P,"_isValid")&&(Nt._isValid=P._isValid),Nt}vo.fn=ld.prototype,vo.invalid=Zf;function il(P,G){var Q=P&&parseFloat(P.replace(",","."));return(isNaN(Q)?0:Q)*G}function pg(P,G){var Q={};return Q.months=G.month()-P.month()+(G.year()-P.year())*12,P.clone().add(Q.months,"M").isAfter(G)&&--Q.months,Q.milliseconds=+G-+P.clone().add(Q.months,"M"),Q}function gg(P,G){var Q;return P.isValid()&&G.isValid()?(G=hh(G,P),P.isBefore(G)?Q=pg(P,G):(Q=pg(G,P),Q.milliseconds=-Q.milliseconds,Q.months=-Q.months),Q):{milliseconds:0,months:0}}function mh(P,G){return function(Q,st){var gt,Nt;return st!==null&&!isNaN(+st)&&(W(G,"moment()."+G+"(period, number) is deprecated. Please use moment()."+G+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),Nt=Q,Q=st,st=Nt),gt=vo(Q,st),ph(this,gt,P),this}}function ph(P,G,Q,st){var gt=G._milliseconds,Nt=Ts(G._days),de=Ts(G._months);P.isValid()&&(st=st??!0,de&&kr(P,Wn(P,"Month")+de*Q),Nt&&Tn(P,"Date",Wn(P,"Date")+Nt*Q),gt&&P._d.setTime(P._d.valueOf()+gt*Q),st&&t.updateOffset(P,Nt||de))}var gh=mh(1,"add"),Tu=mh(-1,"subtract");function Mu(P){return typeof P=="string"||P instanceof String}function Au(P){return H(P)||c(P)||Mu(P)||l(P)||bg(P)||bh(P)||P===null||P===void 0}function bh(P){var G=n(P)&&!s(P),Q=!1,st=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],gt,Nt,de=st.length;for(gt=0;gt<de;gt+=1)Nt=st[gt],Q=Q||o(P,Nt);return G&&Q}function bg(P){var G=i(P),Q=!1;return G&&(Q=P.filter(function(st){return!l(st)&&Mu(P)}).length===0),G&&Q}function rl(P){var G=n(P)&&!s(P),Q=!1,st=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],gt,Nt;for(gt=0;gt<st.length;gt+=1)Nt=st[gt],Q=Q||o(P,Nt);return G&&Q}function nl(P,G){var Q=P.diff(G,"days",!0);return Q<-6?"sameElse":Q<-1?"lastWeek":Q<0?"lastDay":Q<1?"sameDay":Q<2?"nextDay":Q<7?"nextWeek":"sameElse"}function Nn(P,G){arguments.length===1&&(arguments[0]?Au(arguments[0])?(P=arguments[0],G=void 0):rl(arguments[0])&&(G=arguments[0],P=void 0):(P=void 0,G=void 0));var Q=P||Vr(),st=hh(Q,this).startOf("day"),gt=t.calendarFormat(this,st)||"sameElse",Nt=G&&(x(G[gt])?G[gt].call(this,Q):G[gt]);return this.format(Nt||this.localeData().calendar(gt,this,Vr(Q)))}function Ln(){return new V(this)}function Eo(P,G){var Q=H(P)?P:Vr(P);return this.isValid()&&Q.isValid()?(G=et(G)||"millisecond",G==="millisecond"?this.valueOf()>Q.valueOf():Q.valueOf()<this.clone().startOf(G).valueOf()):!1}function qo(P,G){var Q=H(P)?P:Vr(P);return this.isValid()&&Q.isValid()?(G=et(G)||"millisecond",G==="millisecond"?this.valueOf()<Q.valueOf():this.clone().endOf(G).valueOf()<Q.valueOf()):!1}function ud(P,G,Q,st){var gt=H(P)?P:Vr(P),Nt=H(G)?G:Vr(G);return this.isValid()&&gt.isValid()&&Nt.isValid()?(st=st||"()",(st[0]==="("?this.isAfter(gt,Q):!this.isBefore(gt,Q))&&(st[1]===")"?this.isBefore(Nt,Q):!this.isAfter(Nt,Q))):!1}function vg(P,G){var Q=H(P)?P:Vr(P),st;return this.isValid()&&Q.isValid()?(G=et(G)||"millisecond",G==="millisecond"?this.valueOf()===Q.valueOf():(st=Q.valueOf(),this.clone().startOf(G).valueOf()<=st&&st<=this.clone().endOf(G).valueOf())):!1}function em(P,G){return this.isSame(P,G)||this.isAfter(P,G)}function Sb(P,G){return this.isSame(P,G)||this.isBefore(P,G)}function Cw(P,G,Q){var st,gt,Nt;if(!this.isValid())return NaN;if(st=hh(P,this),!st.isValid())return NaN;switch(gt=(st.utcOffset()-this.utcOffset())*6e4,G=et(G),G){case"year":Nt=Iu(this,st)/12;break;case"month":Nt=Iu(this,st);break;case"quarter":Nt=Iu(this,st)/3;break;case"second":Nt=(this-st)/1e3;break;case"minute":Nt=(this-st)/6e4;break;case"hour":Nt=(this-st)/36e5;break;case"day":Nt=(this-st-gt)/864e5;break;case"week":Nt=(this-st-gt)/6048e5;break;default:Nt=this-st}return Q?Nt:We(Nt)}function Iu(P,G){if(P.date()<G.date())return-Iu(G,P);var Q=(G.year()-P.year())*12+(G.month()-P.month()),st=P.clone().add(Q,"months"),gt,Nt;return G-st<0?(gt=P.clone().add(Q-1,"months"),Nt=(G-st)/(st-gt)):(gt=P.clone().add(Q+1,"months"),Nt=(G-st)/(gt-st)),-(Q+Nt)||0}t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Ha(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ol(P){if(!this.isValid())return null;var G=P!==!0,Q=G?this.clone().utc():this;return Q.year()<0||Q.year()>9999?A(Q,G?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):x(Date.prototype.toISOString)?G?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",A(Q,"Z")):A(Q,G?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Eb(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var P="moment",G="",Q,st,gt,Nt;return this.isLocal()||(P=this.utcOffset()===0?"moment.utc":"moment.parseZone",G="Z"),Q="["+P+'("]',st=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",gt="-MM-DD[T]HH:mm:ss.SSS",Nt=G+'[")]',this.format(Q+st+gt+Nt)}function Rb(P){P||(P=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var G=A(this,P);return this.localeData().postformat(G)}function fR(P,G){return this.isValid()&&(H(P)&&P.isValid()||Vr(P).isValid())?vo({to:this,from:P}).locale(this.locale()).humanize(!G):this.localeData().invalidDate()}function Tb(P){return this.from(Vr(),P)}function Mb(P,G){return this.isValid()&&(H(P)&&P.isValid()||Vr(P).isValid())?vo({from:this,to:P}).locale(this.locale()).humanize(!G):this.localeData().invalidDate()}function xw(P){return this.to(Vr(),P)}function Sw(P){var G;return P===void 0?this._locale._abbr:(G=Fa(P),G!=null&&(this._locale=G),this)}var Ab=L("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(P){return P===void 0?this.localeData():this.locale(P)});function Ib(){return this._locale}var ku=1e3,vh=60*ku,kb=60*vh,mR=(365*400+97)*24*kb;function Du(P,G){return(P%G+G)%G}function pR(P,G,Q){return P<100&&P>=0?new Date(P+400,G,Q)-mR:new Date(P,G,Q).valueOf()}function gR(P,G,Q){return P<100&&P>=0?Date.UTC(P+400,G,Q)-mR:Date.UTC(P,G,Q)}function WD(P){var G,Q;if(P=et(P),P===void 0||P==="millisecond"||!this.isValid())return this;switch(Q=this._isUTC?gR:pR,P){case"year":G=Q(this.year(),0,1);break;case"quarter":G=Q(this.year(),this.month()-this.month()%3,1);break;case"month":G=Q(this.year(),this.month(),1);break;case"week":G=Q(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":G=Q(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":G=Q(this.year(),this.month(),this.date());break;case"hour":G=this._d.valueOf(),G-=Du(G+(this._isUTC?0:this.utcOffset()*vh),kb);break;case"minute":G=this._d.valueOf(),G-=Du(G,vh);break;case"second":G=this._d.valueOf(),G-=Du(G,ku);break}return this._d.setTime(G),t.updateOffset(this,!0),this}function YD(P){var G,Q;if(P=et(P),P===void 0||P==="millisecond"||!this.isValid())return this;switch(Q=this._isUTC?gR:pR,P){case"year":G=Q(this.year()+1,0,1)-1;break;case"quarter":G=Q(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":G=Q(this.year(),this.month()+1,1)-1;break;case"week":G=Q(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":G=Q(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":G=Q(this.year(),this.month(),this.date()+1)-1;break;case"hour":G=this._d.valueOf(),G+=kb-Du(G+(this._isUTC?0:this.utcOffset()*vh),kb)-1;break;case"minute":G=this._d.valueOf(),G+=vh-Du(G,vh)-1;break;case"second":G=this._d.valueOf(),G+=ku-Du(G,ku)-1;break}return this._d.setTime(G),t.updateOffset(this,!0),this}function $D(){return this._d.valueOf()-(this._offset||0)*6e4}function Ew(){return Math.floor(this.valueOf()/1e3)}function Rw(){return new Date(this.valueOf())}function yg(){var P=this;return[P.year(),P.month(),P.date(),P.hour(),P.minute(),P.second(),P.millisecond()]}function qD(){var P=this;return{years:P.year(),months:P.month(),date:P.date(),hours:P.hours(),minutes:P.minutes(),seconds:P.seconds(),milliseconds:P.milliseconds()}}function GD(){return this.isValid()?this.toISOString():null}function bR(){return p(this)}function KD(){return h({},m(this))}function XD(){return m(this).overflow}function ZD(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}B("N",0,0,"eraAbbr"),B("NN",0,0,"eraAbbr"),B("NNN",0,0,"eraAbbr"),B("NNNN",0,0,"eraName"),B("NNNNN",0,0,"eraNarrow"),B("y",["y",1],"yo","eraYear"),B("y",["yy",2],0,"eraYear"),B("y",["yyy",3],0,"eraYear"),B("y",["yyyy",4],0,"eraYear"),be("N",Db),be("NN",Db),be("NNN",Db),be("NNNN",yR),be("NNNNN",_R),ue(["N","NN","NNN","NNNN","NNNNN"],function(P,G,Q,st){var gt=Q._locale.erasParse(P,st,Q._strict);gt?m(Q).era=gt:m(Q).invalidEra=P}),be("y",Fe),be("yy",Fe),be("yyy",Fe),be("yyyy",Fe),be("yo",wR),ue(["y","yy","yyy","yyyy"],se),ue(["yo"],function(P,G,Q,st){var gt;Q._locale._eraYearOrdinalRegex&&(gt=P.match(Q._locale._eraYearOrdinalRegex)),Q._locale.eraYearOrdinalParse?G[se]=Q._locale.eraYearOrdinalParse(P,gt):G[se]=parseInt(P,10)});function QD(P,G){var Q,st,gt,Nt=this._eras||Fa("en")._eras;for(Q=0,st=Nt.length;Q<st;++Q){switch(typeof Nt[Q].since){case"string":gt=t(Nt[Q].since).startOf("day"),Nt[Q].since=gt.valueOf();break}switch(typeof Nt[Q].until){case"undefined":Nt[Q].until=1/0;break;case"string":gt=t(Nt[Q].until).startOf("day").valueOf(),Nt[Q].until=gt.valueOf();break}}return Nt}function yh(P,G,Q){var st,gt,Nt=this.eras(),de,ii,zi;for(P=P.toUpperCase(),st=0,gt=Nt.length;st<gt;++st)if(de=Nt[st].name.toUpperCase(),ii=Nt[st].abbr.toUpperCase(),zi=Nt[st].narrow.toUpperCase(),Q)switch(G){case"N":case"NN":case"NNN":if(ii===P)return Nt[st];break;case"NNNN":if(de===P)return Nt[st];break;case"NNNNN":if(zi===P)return Nt[st];break}else if([de,ii,zi].indexOf(P)>=0)return Nt[st]}function Pl(P,G){var Q=P.since<=P.until?1:-1;return G===void 0?t(P.since).year():t(P.since).year()+(G-P.offset)*Q}function fd(){var P,G,Q,st=this.localeData().eras();for(P=0,G=st.length;P<G;++P)if(Q=this.clone().startOf("day").valueOf(),st[P].since<=Q&&Q<=st[P].until||st[P].until<=Q&&Q<=st[P].since)return st[P].name;return""}function JD(){var P,G,Q,st=this.localeData().eras();for(P=0,G=st.length;P<G;++P)if(Q=this.clone().startOf("day").valueOf(),st[P].since<=Q&&Q<=st[P].until||st[P].until<=Q&&Q<=st[P].since)return st[P].narrow;return""}function vR(){var P,G,Q,st=this.localeData().eras();for(P=0,G=st.length;P<G;++P)if(Q=this.clone().startOf("day").valueOf(),st[P].since<=Q&&Q<=st[P].until||st[P].until<=Q&&Q<=st[P].since)return st[P].abbr;return""}function _h(){var P,G,Q,st,gt=this.localeData().eras();for(P=0,G=gt.length;P<G;++P)if(Q=gt[P].since<=gt[P].until?1:-1,st=this.clone().startOf("day").valueOf(),gt[P].since<=st&&st<=gt[P].until||gt[P].until<=st&&st<=gt[P].since)return(this.year()-t(gt[P].since).year())*Q+gt[P].offset;return this.year()}function sl(P){return o(this,"_erasNameRegex")||Tw.call(this),P?this._erasNameRegex:this._erasRegex}function tO(P){return o(this,"_erasAbbrRegex")||Tw.call(this),P?this._erasAbbrRegex:this._erasRegex}function eO(P){return o(this,"_erasNarrowRegex")||Tw.call(this),P?this._erasNarrowRegex:this._erasRegex}function Db(P,G){return G.erasAbbrRegex(P)}function yR(P,G){return G.erasNameRegex(P)}function _R(P,G){return G.erasNarrowRegex(P)}function wR(P,G){return G._eraYearOrdinalRegex||Fe}function Tw(){var P=[],G=[],Q=[],st=[],gt,Nt,de,ii,zi,Lr=this.eras();for(gt=0,Nt=Lr.length;gt<Nt;++gt)de=Ur(Lr[gt].name),ii=Ur(Lr[gt].abbr),zi=Ur(Lr[gt].narrow),G.push(de),P.push(ii),Q.push(zi),st.push(de),st.push(ii),st.push(zi);this._erasRegex=new RegExp("^("+st.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+G.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+P.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+Q.join("|")+")","i")}B(0,["gg",2],0,function(){return this.weekYear()%100}),B(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Ou(P,G){B(0,[P,P.length],0,G)}Ou("gggg","weekYear"),Ou("ggggg","weekYear"),Ou("GGGG","isoWeekYear"),Ou("GGGGG","isoWeekYear"),be("G",le),be("g",le),be("GG",kt,vt),be("gg",kt,vt),be("GGGG",ie,Mt),be("gggg",ie,Mt),be("GGGGG",Zt,Et),be("ggggg",Zt,Et),Ot(["gggg","ggggg","GGGG","GGGGG"],function(P,G,Q,st){G[st.substr(0,2)]=Te(P)}),Ot(["gg","GG"],function(P,G,Q,st){G[st]=t.parseTwoDigitYear(P)});function Ob(P){return SR.call(this,P,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function _g(P){return SR.call(this,P,this.isoWeek(),this.isoWeekday(),1,4)}function Mw(){return Ss(this.year(),1,4)}function CR(){return Ss(this.isoWeekYear(),1,4)}function iO(){var P=this.localeData()._week;return Ss(this.year(),P.dow,P.doy)}function xR(){var P=this.localeData()._week;return Ss(this.weekYear(),P.dow,P.doy)}function SR(P,G,Q,st,gt){var Nt;return P==null?Dr(this,st,gt).year:(Nt=Ss(P,st,gt),G>Nt&&(G=Nt),rO.call(this,P,G,Q,st,gt))}function rO(P,G,Q,st,gt){var Nt=Tr(P,G,Q,st,gt),de=ao(Nt.year,0,Nt.dayOfYear);return this.year(de.getUTCFullYear()),this.month(de.getUTCMonth()),this.date(de.getUTCDate()),this}B("Q",0,"Qo","quarter"),be("Q",wt),ue("Q",function(P,G){G[mi]=(Te(P)-1)*3});function nO(P){return P==null?Math.ceil((this.month()+1)/3):this.month((P-1)*3+this.month()%3)}B("D",["DD",2],"Do","date"),be("D",kt,Pi),be("DD",kt,vt),be("Do",function(P,G){return P?G._dayOfMonthOrdinalParse||G._ordinalParse:G._dayOfMonthOrdinalParseLenient}),ue(["D","DD"],Ee),ue("Do",function(P,G){G[Ee]=Te(P.match(kt)[0])});var ER=nn("Date",!0);B("DDD",["DDDD",3],"DDDo","dayOfYear"),be("DDD",Ut),be("DDDD",Rt),ue(["DDD","DDDD"],function(P,G,Q){Q._dayOfYear=Te(P)});function oO(P){var G=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return P==null?G:this.add(P-G,"d")}B("m",["mm",2],0,"minute"),be("m",kt,ti),be("mm",kt,vt),ue(["m","mm"],Ui);var sO=nn("Minutes",!1);B("s",["ss",2],0,"second"),be("s",kt,ti),be("ss",kt,vt),ue(["s","ss"],Ye);var RR=nn("Seconds",!1);B("S",0,0,function(){return~~(this.millisecond()/100)}),B(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),B(0,["SSS",3],0,"millisecond"),B(0,["SSSS",4],0,function(){return this.millisecond()*10}),B(0,["SSSSS",5],0,function(){return this.millisecond()*100}),B(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),B(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),B(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),B(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),be("S",Ut,wt),be("SS",Ut,vt),be("SSS",Ut,Rt);var Nl,TR;for(Nl="SSSS";Nl.length<=9;Nl+="S")be(Nl,Fe);function aO(P,G){G[Pe]=Te(("0."+P)*1e3)}for(Nl="S";Nl.length<=9;Nl+="S")ue(Nl,aO);TR=nn("Milliseconds",!1),B("z",0,0,"zoneAbbr"),B("zz",0,0,"zoneName");function MR(){return this._isUTC?"UTC":""}function D(){return this._isUTC?"Coordinated Universal Time":""}var z=V.prototype;z.add=gh,z.calendar=Nn,z.clone=Ln,z.diff=Cw,z.endOf=YD,z.format=Rb,z.from=fR,z.fromNow=Tb,z.to=Mb,z.toNow=xw,z.get=po,z.invalidAt=XD,z.isAfter=Eo,z.isBefore=qo,z.isBetween=ud,z.isSame=vg,z.isSameOrAfter=em,z.isSameOrBefore=Sb,z.isValid=bR,z.lang=Ab,z.locale=Sw,z.localeData=Ib,z.max=hg,z.min=wb,z.parsingFlags=KD,z.set=At,z.startOf=WD,z.subtract=Tu,z.toArray=yg,z.toObject=qD,z.toDate=Rw,z.toISOString=ol,z.inspect=Eb,typeof Symbol<"u"&&Symbol.for!=null&&(z[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),z.toJSON=GD,z.toString=Ha,z.unix=Ew,z.valueOf=$D,z.creationData=ZD,z.eraName=fd,z.eraNarrow=JD,z.eraAbbr=vR,z.eraYear=_h,z.year=br,z.isLeapYear=rn,z.weekYear=Ob,z.isoWeekYear=_g,z.quarter=z.quarters=nO,z.month=jr,z.daysInMonth=So,z.week=z.weeks=tl,z.isoWeek=z.isoWeeks=nd,z.weeksInYear=iO,z.weeksInWeekYear=xR,z.isoWeeksInYear=Mw,z.isoWeeksInISOWeekYear=CR,z.date=ER,z.day=z.days=zf,z.weekday=ig,z.isoWeekday=bw,z.dayOfYear=oO,z.hour=z.hours=bb,z.minute=z.minutes=sO,z.second=z.seconds=RR,z.millisecond=z.milliseconds=TR,z.utcOffset=xb,z.utc=Ru,z.local=ha,z.parseZone=Gs,z.hasAlignedHourOffset=fh,z.isDST=cd,z.isLocal=tm,z.isUtcOffset=hd,z.isUtc=bo,z.isUTC=bo,z.zoneAbbr=MR,z.zoneName=D,z.dates=L("dates accessor is deprecated. Use date instead.",ER),z.months=L("months accessor is deprecated. Use month instead",jr),z.years=L("years accessor is deprecated. Use year instead",br),z.zone=L("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",uh),z.isDSTShifted=L("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",dd);function X(P){return Vr(P*1e3)}function it(){return Vr.apply(null,arguments).parseZone()}function dt(P){return P}var ft=v.prototype;ft.calendar=w,ft.longDateFormat=Z,ft.invalidDate=tt,ft.ordinal=xt,ft.preparse=dt,ft.postformat=dt,ft.relativeTime=at,ft.pastFuture=_t,ft.set=R,ft.eras=QD,ft.erasParse=yh,ft.erasConvertYear=Pl,ft.erasAbbrRegex=tO,ft.erasNameRegex=sl,ft.erasNarrowRegex=eO,ft.months=Di,ft.monthsShort=Ni,ft.monthsParse=nr,ft.monthsRegex=xs,ft.monthsShortRegex=ns,ft.week=Dl,ft.firstDayOfYear=qs,ft.firstDayOfWeek=us,ft.weekdays=rh,ft.weekdaysMin=uc,ft.weekdaysShort=nh,ft.weekdaysParse=pb,ft.weekdaysRegex=vw,ft.weekdaysShortRegex=yw,ft.weekdaysMinRegex=rg,ft.isPM=Wf,ft.meridiem=vb;function pt(P,G,Q,st){var gt=Fa(),Nt=u().set(st,G);return gt[Q](Nt,P)}function bt(P,G,Q){if(l(P)&&(G=P,P=void 0),P=P||"",G!=null)return pt(P,G,Q,"month");var st,gt=[];for(st=0;st<12;st++)gt[st]=pt(P,st,Q,"month");return gt}function yt(P,G,Q,st){typeof P=="boolean"?(l(G)&&(Q=G,G=void 0),G=G||""):(G=P,Q=G,P=!1,l(G)&&(Q=G,G=void 0),G=G||"");var gt=Fa(),Nt=P?gt._week.dow:0,de,ii=[];if(Q!=null)return pt(G,(Q+Nt)%7,st,"day");for(de=0;de<7;de++)ii[de]=pt(G,(de+Nt)%7,st,"day");return ii}function Tt(P,G){return bt(P,G,"months")}function Ht(P,G){return bt(P,G,"monthsShort")}function Kt(P,G,Q){return yt(P,G,Q,"weekdays")}function Xt(P,G,Q){return yt(P,G,Q,"weekdaysShort")}function Wt(P,G,Q){return yt(P,G,Q,"weekdaysMin")}La("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(P){var G=P%10,Q=Te(P%100/10)===1?"th":G===1?"st":G===2?"nd":G===3?"rd":"th";return P+Q}}),t.lang=L("moment.lang is deprecated. Use moment.locale instead.",La),t.langData=L("moment.langData is deprecated. Use moment.localeData instead.",Fa);var me=Math.abs;function ce(){var P=this._data;return this._milliseconds=me(this._milliseconds),this._days=me(this._days),this._months=me(this._months),P.milliseconds=me(P.milliseconds),P.seconds=me(P.seconds),P.minutes=me(P.minutes),P.hours=me(P.hours),P.months=me(P.months),P.years=me(P.years),this}function Bt(P,G,Q,st){var gt=vo(G,Q);return P._milliseconds+=st*gt._milliseconds,P._days+=st*gt._days,P._months+=st*gt._months,P._bubble()}function Vt(P,G){return Bt(this,P,G,1)}function ge(P,G){return Bt(this,P,G,-1)}function Ce(P){return P<0?Math.floor(P):Math.ceil(P)}function ve(){var P=this._milliseconds,G=this._days,Q=this._months,st=this._data,gt,Nt,de,ii,zi;return P>=0&&G>=0&&Q>=0||P<=0&&G<=0&&Q<=0||(P+=Ce(je(Q)+G)*864e5,G=0,Q=0),st.milliseconds=P%1e3,gt=We(P/1e3),st.seconds=gt%60,Nt=We(gt/60),st.minutes=Nt%60,de=We(Nt/60),st.hours=de%24,G+=We(de/24),zi=We(ei(G)),Q+=zi,G-=Ce(je(zi)),ii=We(Q/12),Q%=12,st.days=G,st.months=Q,st.years=ii,this}function ei(P){return P*4800/146097}function je(P){return P*146097/4800}function Li(P){if(!this.isValid())return NaN;var G,Q,st=this._milliseconds;if(P=et(P),P==="month"||P==="quarter"||P==="year")switch(G=this._days+st/864e5,Q=this._months+ei(G),P){case"month":return Q;case"quarter":return Q/3;case"year":return Q/12}else switch(G=this._days+Math.round(je(this._months)),P){case"week":return G/7+st/6048e5;case"day":return G+st/864e5;case"hour":return G*24+st/36e5;case"minute":return G*1440+st/6e4;case"second":return G*86400+st/1e3;case"millisecond":return Math.floor(G*864e5)+st;default:throw new Error("Unknown unit "+P)}}function He(P){return function(){return this.as(P)}}var Kr=He("ms"),an=He("s"),Yr=He("m"),Pr=He("h"),Mn=He("d"),un=He("w"),lr=He("M"),No=He("Q"),ua=He("y"),Lo=Kr;function fa(){return vo(this)}function ln(P){return P=et(P),this.isValid()?this[P+"s"]():NaN}function Go(P){return function(){return this.isValid()?this._data[P]:NaN}}var Ba=Go("milliseconds"),os=Go("seconds"),ps=Go("minutes"),Xs=Go("hours"),al=Go("days"),pc=Go("months"),ss=Go("years");function md(){return We(this.days()/7)}var Zs=Math.round,Ll={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function wh(P,G,Q,st,gt){return gt.relativeTime(G||1,!!Q,P,st)}function yo(P,G,Q,st){var gt=vo(P).abs(),Nt=Zs(gt.as("s")),de=Zs(gt.as("m")),ii=Zs(gt.as("h")),zi=Zs(gt.as("d")),Lr=Zs(gt.as("M")),Qs=Zs(gt.as("w")),Fl=Zs(gt.as("y")),Js=Nt<=Q.ss&&["s",Nt]||Nt<Q.s&&["ss",Nt]||de<=1&&["m"]||de<Q.m&&["mm",de]||ii<=1&&["h"]||ii<Q.h&&["hh",ii]||zi<=1&&["d"]||zi<Q.d&&["dd",zi];return Q.w!=null&&(Js=Js||Qs<=1&&["w"]||Qs<Q.w&&["ww",Qs]),Js=Js||Lr<=1&&["M"]||Lr<Q.M&&["MM",Lr]||Fl<=1&&["y"]||["yy",Fl],Js[2]=G,Js[3]=+P>0,Js[4]=st,wh.apply(null,Js)}function Aw(P){return P===void 0?Zs:typeof P=="function"?(Zs=P,!0):!1}function AR(P,G){return Ll[P]===void 0?!1:G===void 0?Ll[P]:(Ll[P]=G,P==="s"&&(Ll.ss=G-1),!0)}function IR(P,G){if(!this.isValid())return this.localeData().invalidDate();var Q=!1,st=Ll,gt,Nt;return typeof P=="object"&&(G=P,P=!1),typeof P=="boolean"&&(Q=P),typeof G=="object"&&(st=Object.assign({},Ll,G),G.s!=null&&G.ss==null&&(st.ss=G.s-1)),gt=this.localeData(),Nt=yo(this,!Q,st,gt),Q&&(Nt=gt.pastFuture(+this,Nt)),gt.postformat(Nt)}var im=Math.abs;function gc(P){return(P>0)-(P<0)||+P}function Pu(){if(!this.isValid())return this.localeData().invalidDate();var P=im(this._milliseconds)/1e3,G=im(this._days),Q=im(this._months),st,gt,Nt,de,ii=this.asSeconds(),zi,Lr,Qs,Fl;return ii?(st=We(P/60),gt=We(st/60),P%=60,st%=60,Nt=We(Q/12),Q%=12,de=P?P.toFixed(3).replace(/\.?0+$/,""):"",zi=ii<0?"-":"",Lr=gc(this._months)!==gc(ii)?"-":"",Qs=gc(this._days)!==gc(ii)?"-":"",Fl=gc(this._milliseconds)!==gc(ii)?"-":"",zi+"P"+(Nt?Lr+Nt+"Y":"")+(Q?Lr+Q+"M":"")+(G?Qs+G+"D":"")+(gt||st||P?"T":"")+(gt?Fl+gt+"H":"")+(st?Fl+st+"M":"")+(P?Fl+de+"S":"")):"P0D"}var tr=ld.prototype;tr.isValid=Xf,tr.abs=ce,tr.add=Vt,tr.subtract=ge,tr.as=Li,tr.asMilliseconds=Kr,tr.asSeconds=an,tr.asMinutes=Yr,tr.asHours=Pr,tr.asDays=Mn,tr.asWeeks=un,tr.asMonths=lr,tr.asQuarters=No,tr.asYears=ua,tr.valueOf=Lo,tr._bubble=ve,tr.clone=fa,tr.get=ln,tr.milliseconds=Ba,tr.seconds=os,tr.minutes=ps,tr.hours=Xs,tr.days=al,tr.weeks=md,tr.months=pc,tr.years=ss,tr.humanize=IR,tr.toISOString=Pu,tr.toString=Pu,tr.toJSON=Pu,tr.locale=Sw,tr.localeData=Ib,tr.toIsoString=L("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Pu),tr.lang=Ab,B("X",0,0,"unix"),B("x",0,0,"valueOf"),be("x",le),be("X",Ae),ue("X",function(P,G,Q){Q._d=new Date(parseFloat(P)*1e3)}),ue("x",function(P,G,Q){Q._d=new Date(Te(P))});return t.version="2.30.1",r(Vr),t.fn=z,t.min=Kf,t.max=ug,t.now=fg,t.utc=u,t.unix=X,t.months=Tt,t.isDate=c,t.locale=La,t.invalid=b,t.duration=vo,t.isMoment=H,t.weekdays=Kt,t.parseZone=it,t.localeData=Fa,t.isDuration=dh,t.monthsShort=Ht,t.weekdaysMin=Wt,t.defineLocale=sg,t.updateLocale=ag,t.locales=yb,t.weekdaysShort=Xt,t.normalizeUnits=et,t.relativeTimeRounding=Aw,t.relativeTimeThreshold=AR,t.calendarFormat=nl,t.prototype=z,t.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},t})});var B$=xi((AUt,H$)=>{"use strict";var Nyt=RB().f;H$.exports=function(e,t,r){r in e||Nyt(e,r,{configurable:!0,get:function(){return t[r]},set:function(i){t[r]=i}})}});var z$=xi((IUt,V$)=>{"use strict";var Lyt=qw(),Fyt=SB(),j$=MB();V$.exports=function(e,t,r){var i,n;return j$&&Lyt(i=t.constructor)&&i!==r&&Fyt(n=i.prototype)&&n!==r.prototype&&j$(e,n),e}});var W$=xi((kUt,U$)=>{"use strict";var Hyt=FO();U$.exports=function(e,t){return e===void 0?arguments.length<2?"":t:Hyt(e)}});var $$=xi((DUt,Y$)=>{"use strict";var Byt=SB(),jyt=PO();Y$.exports=function(e,t){Byt(t)&&"cause"in t&&jyt(e,"cause",t.cause)}});var X$=xi((OUt,K$)=>{"use strict";var Vyt=Ub(),q$=Error,zyt=Vyt("".replace),Uyt=function(e){return String(new q$(e).stack)}("zxcasd"),G$=/\n\s*at [^:]*:[^\n]*/,Wyt=G$.test(Uyt);K$.exports=function(e,t){if(Wyt&&typeof e=="string"&&!q$.prepareStackTrace)for(;t--;)e=zyt(e,G$,"");return e}});var Q$=xi((PUt,Z$)=>{"use strict";var Yyt=QR(),$yt=xB();Z$.exports=!Yyt(function(){var e=new Error("a");return"stack"in e?(Object.defineProperty(e,"stack",$yt(1,7)),e.stack!==7):!0})});var eq=xi((NUt,tq)=>{"use strict";var qyt=PO(),Gyt=X$(),Kyt=Q$(),J$=Error.captureStackTrace;tq.exports=function(e,t,r,i){Kyt&&(J$?J$(e,t):qyt(e,"stack",Gyt(r,i)))}});var cq=xi((LUt,lq)=>{"use strict";var iq=DO(),Xyt=Vst(),rq=PO(),Zyt=Pst(),nq=MB(),oq=Wst(),sq=B$(),Qyt=z$(),Jyt=W$(),t_t=$$(),e_t=eq(),i_t=kO(),aq=EB();lq.exports=function(e,t,r,i){var n="stackTraceLimit",o=i?2:1,s=e.split("."),a=s[s.length-1],l=iq.apply(null,s);if(l){var c=l.prototype;if(!aq&&Xyt(c,"cause")&&delete c.cause,!r)return l;var d=iq("Error"),h=t(function(u,f){var m=Jyt(i?f:u,void 0),g=i?new l(u):new l;return m!==void 0&&rq(g,"message",m),e_t(g,h,g.stack,2),this&&Zyt(c,this)&&Qyt(g,this,h),arguments.length>o&&t_t(g,arguments[o]),g});if(h.prototype=c,a!=="Error"?nq?nq(h,d):oq(h,d,{name:!0}):i_t&&n in l&&(sq(h,l,n),sq(h,l,"prepareStackTrace")),oq(h,l),!aq)try{c.name!==a&&rq(c,"name",a),c.constructor=h}catch{}return h}}});var qt=xi(()=>{"use strict";var hq=ga(),r_t=ZR(),Fh=LO(),uq=cq(),QP="WebAssembly",dq=r_t[QP],J5=new Error("e",{cause:7}).cause!==7,Zg=function(e,t){var r={};r[e]=uq(e,t,J5),hq({global:!0,constructor:!0,arity:1,forced:J5},r)},JP=function(e,t){if(dq&&dq[e]){var r={};r[e]=uq(QP+"."+e,t,J5),hq({target:QP,stat:!0,constructor:!0,arity:1,forced:J5},r)}};Zg("Error",function(e){return function(r){return Fh(e,this,arguments)}});Zg("EvalError",function(e){return function(r){return Fh(e,this,arguments)}});Zg("RangeError",function(e){return function(r){return Fh(e,this,arguments)}});Zg("ReferenceError",function(e){return function(r){return Fh(e,this,arguments)}});Zg("SyntaxError",function(e){return function(r){return Fh(e,this,arguments)}});Zg("TypeError",function(e){return function(r){return Fh(e,this,arguments)}});Zg("URIError",function(e){return function(r){return Fh(e,this,arguments)}});JP("CompileError",function(e){return function(r){return Fh(e,this,arguments)}});JP("LinkError",function(e){return function(r){return Fh(e,this,arguments)}});JP("RuntimeError",function(e){return function(r){return Fh(e,this,arguments)}})});var tN=xi((BUt,fq)=>{"use strict";var n_t=kO(),o_t=AB(),s_t=TypeError,a_t=Object.getOwnPropertyDescriptor,l_t=n_t&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();fq.exports=l_t?function(e,t){if(o_t(e)&&!a_t(e,"length").writable)throw new s_t("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}});var eN=xi((jUt,mq)=>{"use strict";var c_t=TypeError,d_t=9007199254740991;mq.exports=function(e){if(e>d_t)throw c_t("Maximum allowed index exceeded");return e}});var _e=xi(()=>{"use strict";var h_t=ga(),u_t=OO(),f_t=NO(),m_t=tN(),p_t=eN(),g_t=QR(),b_t=g_t(function(){return[].push.call({length:4294967296},1)!==4294967297}),v_t=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},y_t=b_t||!v_t();h_t({target:"Array",proto:!0,arity:1,forced:y_t},{push:function(t){var r=u_t(this),i=f_t(r),n=arguments.length;p_t(i+n);for(var o=0;o<n;o++)r[i]=arguments[o],i++;return m_t(r,i),i}})});var xd=xi((UUt,pq)=>{"use strict";var iN=Ub(),tM=Set.prototype;pq.exports={Set,add:iN(tM.add),has:iN(tM.has),remove:iN(tM.delete),proto:tM}});var jm=xi((WUt,gq)=>{"use strict";var __t=xd().has;gq.exports=function(e){return __t(e),e}});var Vm=xi((YUt,bq)=>{"use strict";var w_t=JR();bq.exports=function(e,t,r){for(var i=r?e:e.iterator,n=e.next,o,s;!(o=w_t(n,i)).done;)if(s=t(o.value),s!==void 0)return s}});var qv=xi(($Ut,Cq)=>{"use strict";var vq=Ub(),C_t=Vm(),yq=xd(),x_t=yq.Set,_q=yq.proto,S_t=vq(_q.forEach),wq=vq(_q.keys),E_t=wq(new x_t).next;Cq.exports=function(e,t,r){return r?C_t({iterator:wq(e),next:E_t},t):S_t(e,t)}});var eM=xi((qUt,Sq)=>{"use strict";var xq=xd(),R_t=qv(),T_t=xq.Set,M_t=xq.add;Sq.exports=function(e){var t=new T_t;return R_t(e,function(r){M_t(t,r)}),t}});var Gv=xi((GUt,Eq)=>{"use strict";var A_t=Yst(),I_t=xd();Eq.exports=A_t(I_t.proto,"size","get")||function(e){return e.size}});var Tq=xi((KUt,Rq)=>{"use strict";Rq.exports=function(e){return{iterator:e,next:e.next,done:!1}}});var zm=xi((XUt,Oq)=>{"use strict";var Mq=Bst(),kq=Ust(),Aq=JR(),k_t=TB(),D_t=Tq(),Iq="Invalid size",O_t=RangeError,P_t=TypeError,N_t=Math.max,Dq=function(e,t){this.set=e,this.size=N_t(t,0),this.has=Mq(e.has),this.keys=Mq(e.keys)};Dq.prototype={getIterator:function(){return D_t(kq(Aq(this.keys,this.set)))},includes:function(e){return Aq(this.has,this.set,e)}};Oq.exports=function(e){kq(e);var t=+e.size;if(t!==t)throw new P_t(Iq);var r=k_t(t);if(r<0)throw new O_t(Iq);return new Dq(e,r)}});var Fq=xi((ZUt,Lq)=>{"use strict";var L_t=jm(),Nq=xd(),F_t=eM(),H_t=Gv(),B_t=zm(),j_t=qv(),V_t=Vm(),z_t=Nq.has,Pq=Nq.remove;Lq.exports=function(t){var r=L_t(this),i=B_t(t),n=F_t(r);return H_t(r)<=i.size?j_t(r,function(o){i.includes(o)&&Pq(n,o)}):V_t(i.getIterator(),function(o){z_t(r,o)&&Pq(n,o)}),n}});var Um=xi((QUt,Bq)=>{"use strict";var U_t=DO(),Hq=function(e){return{size:e,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}};Bq.exports=function(e){var t=U_t("Set");try{new t()[e](Hq(0));try{return new t()[e](Hq(-1)),!1}catch{return!0}}catch{return!1}}});var jq=xi(()=>{"use strict";var W_t=ga(),Y_t=Fq(),$_t=Um();W_t({target:"Set",proto:!0,real:!0,forced:!$_t("difference")},{difference:Y_t})});var yn=xi(()=>{"use strict";jq()});var Uq=xi((rWt,zq)=>{"use strict";var q_t=jm(),rN=xd(),G_t=Gv(),K_t=zm(),X_t=qv(),Z_t=Vm(),Q_t=rN.Set,Vq=rN.add,J_t=rN.has;zq.exports=function(t){var r=q_t(this),i=K_t(t),n=new Q_t;return G_t(r)>i.size?Z_t(i.getIterator(),function(o){J_t(r,o)&&Vq(n,o)}):X_t(r,function(o){i.includes(o)&&Vq(n,o)}),n}});var Wq=xi(()=>{"use strict";var twt=ga(),ewt=QR(),iwt=Uq(),rwt=Um(),nwt=!rwt("intersection")||ewt(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});twt({target:"Set",proto:!0,real:!0,forced:nwt},{intersection:iwt})});var _n=xi(()=>{"use strict";Wq()});var $q=xi((lWt,Yq)=>{"use strict";var owt=jm(),swt=xd().has,awt=Gv(),lwt=zm(),cwt=qv(),dwt=Vm(),hwt=IB();Yq.exports=function(t){var r=owt(this),i=lwt(t);if(awt(r)<=i.size)return cwt(r,function(o){if(i.includes(o))return!1},!0)!==!1;var n=i.getIterator();return dwt(n,function(o){if(swt(r,o))return hwt(n,"normal",!1)})!==!1}});var qq=xi(()=>{"use strict";var uwt=ga(),fwt=$q(),mwt=Um();uwt({target:"Set",proto:!0,real:!0,forced:!mwt("isDisjointFrom")},{isDisjointFrom:fwt})});var wn=xi(()=>{"use strict";qq()});var Kq=xi((fWt,Gq)=>{"use strict";var pwt=jm(),gwt=Gv(),bwt=qv(),vwt=zm();Gq.exports=function(t){var r=pwt(this),i=vwt(t);return gwt(r)>i.size?!1:bwt(r,function(n){if(!i.includes(n))return!1},!0)!==!1}});var Xq=xi(()=>{"use strict";var ywt=ga(),_wt=Kq(),wwt=Um();ywt({target:"Set",proto:!0,real:!0,forced:!wwt("isSubsetOf")},{isSubsetOf:_wt})});var Cn=xi(()=>{"use strict";Xq()});var Qq=xi((vWt,Zq)=>{"use strict";var Cwt=jm(),xwt=xd().has,Swt=Gv(),Ewt=zm(),Rwt=Vm(),Twt=IB();Zq.exports=function(t){var r=Cwt(this),i=Ewt(t);if(Swt(r)<i.size)return!1;var n=i.getIterator();return Rwt(n,function(o){if(!xwt(r,o))return Twt(n,"normal",!1)})!==!1}});var Jq=xi(()=>{"use strict";var Mwt=ga(),Awt=Qq(),Iwt=Um();Mwt({target:"Set",proto:!0,real:!0,forced:!Iwt("isSupersetOf")},{isSupersetOf:Awt})});var xn=xi(()=>{"use strict";Jq()});var eG=xi((xWt,tG)=>{"use strict";var kwt=jm(),nN=xd(),Dwt=eM(),Owt=zm(),Pwt=Vm(),Nwt=nN.add,Lwt=nN.has,Fwt=nN.remove;tG.exports=function(t){var r=kwt(this),i=Owt(t).getIterator(),n=Dwt(r);return Pwt(i,function(o){Lwt(r,o)?Fwt(n,o):Nwt(n,o)}),n}});var iG=xi(()=>{"use strict";var Hwt=ga(),Bwt=eG(),jwt=Um();Hwt({target:"Set",proto:!0,real:!0,forced:!jwt("symmetricDifference")},{symmetricDifference:Bwt})});var Sn=xi(()=>{"use strict";iG()});var nG=xi((MWt,rG)=>{"use strict";var Vwt=jm(),zwt=xd().add,Uwt=eM(),Wwt=zm(),Ywt=Vm();rG.exports=function(t){var r=Vwt(this),i=Wwt(t).getIterator(),n=Uwt(r);return Ywt(i,function(o){zwt(n,o)}),n}});var oG=xi(()=>{"use strict";var $wt=ga(),qwt=nG(),Gwt=Um();$wt({target:"Set",proto:!0,real:!0,forced:!Gwt("union")},{union:qwt})});var En=xi(()=>{"use strict";oG()});var aG=xi(()=>{"use strict";var Kwt=ga(),Xwt=ZR(),sG=DB().clear;Kwt({global:!0,bind:!0,enumerable:!0,forced:Xwt.clearImmediate!==sG},{clearImmediate:sG})});var cG=xi((NWt,lG)=>{"use strict";lG.exports=typeof Bun=="function"&&Bun&&typeof Bun.version=="string"});var uG=xi((LWt,hG)=>{"use strict";var dG=ZR(),Zwt=LO(),Qwt=qw(),Jwt=cG(),t1t=Nst(),e1t=kB(),i1t=$st(),r1t=dG.Function,n1t=/MSIE .\./.test(t1t)||Jwt&&function(){var e=dG.Bun.version.split(".");return e.length<3||e[0]==="0"&&(e[1]<3||e[1]==="3"&&e[2]==="0")}();hG.exports=function(e,t){var r=t?2:1;return n1t?function(i,n){var o=i1t(arguments.length,1)>r,s=Qwt(i)?i:r1t(i),a=o?e1t(arguments,r):[],l=o?function(){Zwt(s,this,a)}:s;return t?e(l,n):e(l)}:e}});var gG=xi(()=>{"use strict";var o1t=ga(),pG=ZR(),fG=DB().set,s1t=uG(),mG=pG.setImmediate?s1t(fG,!1):fG;o1t({global:!0,bind:!0,enumerable:!0,forced:pG.setImmediate!==mG},{setImmediate:mG})});var bG=xi(()=>{"use strict";aG();gG()});var uK=xi((dYt,hK)=>{"use strict";var f1t=Ub(),lK=AB(),m1t=qw(),cK=kst(),p1t=FO(),dK=f1t([].push);hK.exports=function(e){if(m1t(e))return e;if(lK(e)){for(var t=e.length,r=[],i=0;i<t;i++){var n=e[i];typeof n=="string"?dK(r,n):(typeof n=="number"||cK(n)==="Number"||cK(n)==="String")&&dK(r,p1t(n))}var o=r.length,s=!0;return function(a,l){if(s)return s=!1,l;if(lK(this))return l;for(var c=0;c<o;c++)if(r[c]===a)return l}}}});var yM=xi(()=>{"use strict";var g1t=ga(),_K=DO(),wK=LO(),b1t=JR(),EC=Ub(),CK=QR(),fK=qw(),mK=Fst(),xK=kB(),v1t=uK(),y1t=Lst(),_1t=String,Gm=_K("JSON","stringify"),vM=EC(/./.exec),pK=EC("".charAt),w1t=EC("".charCodeAt),C1t=EC("".replace),x1t=EC(1 .toString),S1t=/[\uD800-\uDFFF]/g,gK=/^[\uD800-\uDBFF]$/,bK=/^[\uDC00-\uDFFF]$/,vK=!y1t||CK(function(){var e=_K("Symbol")("stringify detection");return Gm([e])!=="[null]"||Gm({a:e})!=="{}"||Gm(Object(e))!=="{}"}),yK=CK(function(){return Gm("\uDF06\uD834")!=='"\\udf06\\ud834"'||Gm("\uDEAD")!=='"\\udead"'}),E1t=function(e,t){var r=xK(arguments),i=v1t(t);if(!(!fK(i)&&(e===void 0||mK(e))))return r[1]=function(n,o){if(fK(i)&&(o=b1t(i,this,_1t(n),o)),!mK(o))return o},wK(Gm,null,r)},R1t=function(e,t,r){var i=pK(r,t-1),n=pK(r,t+1);return vM(gK,e)&&!vM(bK,n)||vM(bK,e)&&!vM(gK,i)?"\\u"+x1t(w1t(e,0),16):e};Gm&&g1t({target:"JSON",stat:!0,arity:3,forced:vK||yK},{stringify:function(t,r,i){var n=xK(arguments),o=wK(vK?E1t:Gm,null,n);return yK&&typeof o=="string"?C1t(o,S1t,R1t):o}})});var wN=xi(()=>{"use strict";var I1t=HO();I1t("flatMap")});var VK=xi(()=>{"use strict";var Q1t=ga(),J1t=JR(),ON=Ub(),BK=Ost(),tCt=qw(),eCt=Dst(),iCt=Gst(),my=FO(),rCt=jst(),nCt=Kst(),oCt=Xst(),sCt=zst(),aCt=EB(),lCt=sCt("replace"),cCt=TypeError,DN=ON("".indexOf),dCt=ON("".replace),jK=ON("".slice),hCt=Math.max;Q1t({target:"String",proto:!0},{replaceAll:function(t,r){var i=BK(this),n,o,s,a,l,c,d,h,u,f=0,m=0,g="";if(!eCt(t)){if(n=iCt(t),n&&(o=my(BK(nCt(t))),!~DN(o,"g")))throw new cCt("`.replaceAll` does not allow non-global regexes");if(s=rCt(t,lCt),s)return J1t(s,t,i,r);if(aCt&&n)return dCt(my(i),t,r)}for(a=my(i),l=my(t),c=tCt(r),c||(r=my(r)),d=l.length,h=hCt(1,d),f=DN(a,l);f!==-1;)u=c?my(r(l,f,a)):oCt(l,a,f,[],void 0,r),g+=jK(a,m,f)+u,m=f+d,f=f+h>a.length?-1:DN(a,l,f+h);return m<a.length&&(g+=jK(a,m)),g}})});var zN=xi(()=>{"use strict";var kCt=ga(),DCt=OO(),OCt=NO(),PCt=TB(),NCt=HO();kCt({target:"Array",proto:!0},{at:function(t){var r=DCt(this),i=OCt(r),n=PCt(t),o=n>=0?n:i+n;return o<0||o>=i?void 0:r[o]}});NCt("at")});var o6=xi(()=>{"use strict";var e2t=HO();e2t("flat")});var EJ=xi((SJ,TL)=>{"use strict";(function(e){typeof SJ=="object"&&typeof TL<"u"?TL.exports=e():typeof define=="function"&&define.amd?define([],e):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).numbro=e()})(function(){return function e(t,r,i){function n(a,l){if(!r[a]){if(!t[a]){var c=typeof bc=="function"&&bc;if(!l&&c)return c(a,!0);if(o)return o(a,!0);var d=new Error("Cannot find module '"+a+"'");throw d.code="MODULE_NOT_FOUND",d}var h=r[a]={exports:{}};t[a][0].call(h.exports,function(u){return n(t[a][1][u]||u)},h,h.exports,e,t,r,i)}return r[a].exports}for(var o=typeof bc=="function"&&bc,s=0;s<i.length;s++)n(i[s]);return n}({1:[function(e,t,r){(function(i){"use strict";var n,o=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,s=Math.ceil,a=Math.floor,l="[BigNumber Error] ",c=l+"Number primitive has more than 15 significant digits: ",d=1e14,h=14,u=9007199254740991,f=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],m=1e7,g=1e9;function p(F){var L=0|F;return 0<F||F===L?L:L-1}function b(F){for(var L,q,W=1,x=F.length,R=F[0]+"";W<x;){for(L=F[W++]+"",q=h-L.length;q--;L="0"+L);R+=L}for(x=R.length;R.charCodeAt(--x)===48;);return R.slice(0,x+1||1)}function _(F,L){var q,W,x=F.c,R=L.c,j=F.s,v=L.s,y=F.e,C=L.e;if(!j||!v)return null;if(q=x&&!x[0],W=R&&!R[0],q||W)return q?W?0:-v:j;if(j!=v)return j;if(q=j<0,W=y==C,!x||!R)return W?0:!x^q?1:-1;if(!W)return C<y^q?1:-1;for(v=(y=x.length)<(C=R.length)?y:C,j=0;j<v;j++)if(x[j]!=R[j])return x[j]>R[j]^q?1:-1;return y==C?0:C<y^q?1:-1}function E(F,L,q,W){if(F<L||q<F||F!==(F<0?s(F):a(F)))throw Error(l+(W||"Argument")+(typeof F=="number"?F<L||q<F?" out of range: ":" not an integer: ":" not a primitive number: ")+String(F))}function O(F){var L=F.c.length-1;return p(F.e/h)==L&&F.c[L]%2!=0}function V(F,L){return(1<F.length?F.charAt(0)+"."+F.slice(1):F)+(L<0?"e":"e+")+L}function H(F,L,q){var W,x;if(L<0){for(x=q+".";++L;x+=q);F=x+F}else if(++L>(W=F.length)){for(x=q,L-=W;--L;x+=q);F+=x}else L<W&&(F=F.slice(0,L)+"."+F.slice(L));return F}(n=function F(L){var q,W,x,R,j,v,y,C,w,S,M=nt.prototype={constructor:nt,toString:null,valueOf:null},U=new nt(1),N=20,T=4,B=-7,I=21,$=-1e7,A=1e7,k=!1,Y=1,Z=0,ct={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},tt="0123456789abcdefghijklmnopqrstuvwxyz";function nt(J,et){var lt,ut,mt,wt,vt,Rt,Mt,Et,kt=this;if(!(kt instanceof nt))return new nt(J,et);if(et==null){if(J instanceof nt)return kt.s=J.s,kt.e=J.e,void(kt.c=(J=J.c)?J.slice():J);if((Rt=typeof J=="number")&&0*J==0){if(kt.s=1/J<0?(J=-J,-1):1,J===~~J){for(wt=0,vt=J;10<=vt;vt/=10,wt++);return kt.e=wt,void(kt.c=[J])}Et=String(J)}else{if(Et=String(J),!o.test(Et))return x(kt,Et,Rt);kt.s=Et.charCodeAt(0)==45?(Et=Et.slice(1),-1):1}-1<(wt=Et.indexOf("."))&&(Et=Et.replace(".","")),0<(vt=Et.search(/e/i))?(wt<0&&(wt=vt),wt+=+Et.slice(vt+1),Et=Et.substring(0,vt)):wt<0&&(wt=Et.length)}else{if(E(et,2,tt.length,"Base"),Et=String(J),et==10)return at(kt=new nt(J instanceof nt?J:Et),N+kt.e+1,T);if(Rt=typeof J=="number"){if(0*J!=0)return x(kt,Et,Rt,et);if(kt.s=1/J<0?(Et=Et.slice(1),-1):1,nt.DEBUG&&15<Et.replace(/^0\.0*|\./,"").length)throw Error(c+J);Rt=!1}else kt.s=Et.charCodeAt(0)===45?(Et=Et.slice(1),-1):1;for(lt=tt.slice(0,et),wt=vt=0,Mt=Et.length;vt<Mt;vt++)if(lt.indexOf(ut=Et.charAt(vt))<0){if(ut=="."){if(wt<vt){wt=Mt;continue}}else if(!mt&&(Et==Et.toUpperCase()&&(Et=Et.toLowerCase())||Et==Et.toLowerCase()&&(Et=Et.toUpperCase()))){mt=!0,vt=-1,wt=0;continue}return x(kt,String(J),Rt,et)}-1<(wt=(Et=W(Et,et,10,kt.s)).indexOf("."))?Et=Et.replace(".",""):wt=Et.length}for(vt=0;Et.charCodeAt(vt)===48;vt++);for(Mt=Et.length;Et.charCodeAt(--Mt)===48;);if(Et=Et.slice(vt,++Mt)){if(Mt-=vt,Rt&&nt.DEBUG&&15<Mt&&(u<J||J!==a(J)))throw Error(c+kt.s*J);if(A<(wt=wt-vt-1))kt.c=kt.e=null;else if(wt<$)kt.c=[kt.e=0];else{if(kt.e=wt,kt.c=[],vt=(wt+1)%h,wt<0&&(vt+=h),vt<Mt){for(vt&&kt.c.push(+Et.slice(0,vt)),Mt-=h;vt<Mt;)kt.c.push(+Et.slice(vt,vt+=h));Et=Et.slice(vt),vt=h-Et.length}else vt-=Mt;for(;vt--;Et+="0");kt.c.push(+Et)}}else kt.c=[kt.e=0]}function Ct(J,et,lt,ut){var mt,wt,vt,Rt,Mt;if(lt==null?lt=T:E(lt,0,8),!J.c)return J.toString();if(mt=J.c[0],vt=J.e,et==null)Mt=b(J.c),Mt=ut==1||ut==2&&(vt<=B||I<=vt)?V(Mt,vt):H(Mt,vt,"0");else if(wt=(J=at(new nt(J),et,lt)).e,Rt=(Mt=b(J.c)).length,ut==1||ut==2&&(et<=wt||wt<=B)){for(;Rt<et;Mt+="0",Rt++);Mt=V(Mt,wt)}else if(et-=vt,Mt=H(Mt,wt,"0"),Rt<wt+1){if(0<--et)for(Mt+=".";et--;Mt+="0");}else if(0<(et+=wt-Rt))for(wt+1==Rt&&(Mt+=".");et--;Mt+="0");return J.s<0&&mt?"-"+Mt:Mt}function xt(J,et){for(var lt,ut=1,mt=new nt(J[0]);ut<J.length;ut++){if(!(lt=new nt(J[ut])).s){mt=lt;break}et.call(mt,lt)&&(mt=lt)}return mt}function rt(J,et,lt){for(var ut=1,mt=et.length;!et[--mt];et.pop());for(mt=et[0];10<=mt;mt/=10,ut++);return(lt=ut+lt*h-1)>A?J.c=J.e=null:J.c=lt<$?[J.e=0]:(J.e=lt,et),J}function at(J,et,lt,ut){var mt,wt,vt,Rt,Mt,Et,kt,zt=J.c,Yt=f;if(zt){t:{for(mt=1,Rt=zt[0];10<=Rt;Rt/=10,mt++);if((wt=et-mt)<0)wt+=h,vt=et,kt=(Mt=zt[Et=0])/Yt[mt-vt-1]%10|0;else if((Et=s((wt+1)/h))>=zt.length){if(!ut)break t;for(;zt.length<=Et;zt.push(0));Mt=kt=0,vt=(wt%=h)-h+(mt=1)}else{for(Mt=Rt=zt[Et],mt=1;10<=Rt;Rt/=10,mt++);kt=(vt=(wt%=h)-h+mt)<0?0:Mt/Yt[mt-vt-1]%10|0}if(ut=ut||et<0||zt[Et+1]!=null||(vt<0?Mt:Mt%Yt[mt-vt-1]),ut=lt<4?(kt||ut)&&(lt==0||lt==(J.s<0?3:2)):5<kt||kt==5&&(lt==4||ut||lt==6&&(0<wt?0<vt?Mt/Yt[mt-vt]:0:zt[Et-1])%10&1||lt==(J.s<0?8:7)),et<1||!zt[0])return zt.length=0,ut?(et-=J.e+1,zt[0]=Yt[(h-et%h)%h],J.e=-et||0):zt[0]=J.e=0,J;if(wt==0?(zt.length=Et,Rt=1,Et--):(zt.length=Et+1,Rt=Yt[h-wt],zt[Et]=0<vt?a(Mt/Yt[mt-vt]%Yt[vt])*Rt:0),ut)for(;;){if(Et==0){for(wt=1,vt=zt[0];10<=vt;vt/=10,wt++);for(vt=zt[0]+=Rt,Rt=1;10<=vt;vt/=10,Rt++);wt!=Rt&&(J.e++,zt[0]==d&&(zt[0]=1));break}if(zt[Et]+=Rt,zt[Et]!=d)break;zt[Et--]=0,Rt=1}for(wt=zt.length;zt[--wt]===0;zt.pop());}J.e>A?J.c=J.e=null:J.e<$&&(J.c=[J.e=0])}return J}function _t(J){var et,lt=J.e;return lt===null?J.toString():(et=b(J.c),et=lt<=B||I<=lt?V(et,lt):H(et,lt,"0"),J.s<0?"-"+et:et)}return nt.clone=F,nt.ROUND_UP=0,nt.ROUND_DOWN=1,nt.ROUND_CEIL=2,nt.ROUND_FLOOR=3,nt.ROUND_HALF_UP=4,nt.ROUND_HALF_DOWN=5,nt.ROUND_HALF_EVEN=6,nt.ROUND_HALF_CEIL=7,nt.ROUND_HALF_FLOOR=8,nt.EUCLID=9,nt.config=nt.set=function(J){var et,lt;if(J!=null){if(typeof J!="object")throw Error(l+"Object expected: "+J);if(J.hasOwnProperty(et="DECIMAL_PLACES")&&(E(lt=J[et],0,g,et),N=lt),J.hasOwnProperty(et="ROUNDING_MODE")&&(E(lt=J[et],0,8,et),T=lt),J.hasOwnProperty(et="EXPONENTIAL_AT")&&((lt=J[et])&&lt.pop?(E(lt[0],-g,0,et),E(lt[1],0,g,et),B=lt[0],I=lt[1]):(E(lt,-g,g,et),B=-(I=lt<0?-lt:lt))),J.hasOwnProperty(et="RANGE"))if((lt=J[et])&&lt.pop)E(lt[0],-g,-1,et),E(lt[1],1,g,et),$=lt[0],A=lt[1];else{if(E(lt,-g,g,et),!lt)throw Error(l+et+" cannot be zero: "+lt);$=-(A=lt<0?-lt:lt)}if(J.hasOwnProperty(et="CRYPTO")){if((lt=J[et])!==!!lt)throw Error(l+et+" not true or false: "+lt);if(lt){if(typeof crypto>"u"||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw k=!lt,Error(l+"crypto unavailable");k=lt}else k=lt}if(J.hasOwnProperty(et="MODULO_MODE")&&(E(lt=J[et],0,9,et),Y=lt),J.hasOwnProperty(et="POW_PRECISION")&&(E(lt=J[et],0,g,et),Z=lt),J.hasOwnProperty(et="FORMAT")){if(typeof(lt=J[et])!="object")throw Error(l+et+" not an object: "+lt);ct=lt}if(J.hasOwnProperty(et="ALPHABET")){if(typeof(lt=J[et])!="string"||/^.$|[+-.\s]|(.).*\1/.test(lt))throw Error(l+et+" invalid: "+lt);tt=lt}}return{DECIMAL_PLACES:N,ROUNDING_MODE:T,EXPONENTIAL_AT:[B,I],RANGE:[$,A],CRYPTO:k,MODULO_MODE:Y,POW_PRECISION:Z,FORMAT:ct,ALPHABET:tt}},nt.isBigNumber=function(J){return J instanceof nt||J&&J._isBigNumber===!0||!1},nt.maximum=nt.max=function(){return xt(arguments,M.lt)},nt.minimum=nt.min=function(){return xt(arguments,M.gt)},nt.random=(R=9007199254740992,j=Math.random()*R&2097151?function(){return a(Math.random()*R)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(J){var et,lt,ut,mt,wt,vt=0,Rt=[],Mt=new nt(U);if(J==null?J=N:E(J,0,g),mt=s(J/h),k)if(crypto.getRandomValues){for(et=crypto.getRandomValues(new Uint32Array(mt*=2));vt<mt;)9e15<=(wt=131072*et[vt]+(et[vt+1]>>>11))?(lt=crypto.getRandomValues(new Uint32Array(2)),et[vt]=lt[0],et[vt+1]=lt[1]):(Rt.push(wt%1e14),vt+=2);vt=mt/2}else{if(!crypto.randomBytes)throw k=!1,Error(l+"crypto unavailable");for(et=crypto.randomBytes(mt*=7);vt<mt;)9e15<=(wt=281474976710656*(31&et[vt])+1099511627776*et[vt+1]+4294967296*et[vt+2]+16777216*et[vt+3]+(et[vt+4]<<16)+(et[vt+5]<<8)+et[vt+6])?crypto.randomBytes(7).copy(et,vt):(Rt.push(wt%1e14),vt+=7);vt=mt/7}if(!k)for(;vt<mt;)(wt=j())<9e15&&(Rt[vt++]=wt%1e14);for(mt=Rt[--vt],J%=h,mt&&J&&(wt=f[h-J],Rt[vt]=a(mt/wt)*wt);Rt[vt]===0;Rt.pop(),vt--);if(vt<0)Rt=[ut=0];else{for(ut=-1;Rt[0]===0;Rt.splice(0,1),ut-=h);for(vt=1,wt=Rt[0];10<=wt;wt/=10,vt++);vt<h&&(ut-=h-vt)}return Mt.e=ut,Mt.c=Rt,Mt}),nt.sum=function(){for(var J=1,et=arguments,lt=new nt(et[0]);J<et.length;)lt=lt.plus(et[J++]);return lt},W=function(){var J="0123456789";function et(lt,ut,mt,wt){for(var vt,Rt,Mt=[0],Et=0,kt=lt.length;Et<kt;){for(Rt=Mt.length;Rt--;Mt[Rt]*=ut);for(Mt[0]+=wt.indexOf(lt.charAt(Et++)),vt=0;vt<Mt.length;vt++)Mt[vt]>mt-1&&(Mt[vt+1]==null&&(Mt[vt+1]=0),Mt[vt+1]+=Mt[vt]/mt|0,Mt[vt]%=mt)}return Mt.reverse()}return function(lt,ut,mt,wt,vt){var Rt,Mt,Et,kt,zt,Yt,Ut,ie,Zt=lt.indexOf("."),Fe=N,le=T;for(0<=Zt&&(kt=Z,Z=0,lt=lt.replace(".",""),Yt=(ie=new nt(ut)).pow(lt.length-Zt),Z=kt,ie.c=et(H(b(Yt.c),Yt.e,"0"),10,mt,J),ie.e=ie.c.length),Et=kt=(Ut=et(lt,ut,mt,vt?(Rt=tt,J):(Rt=J,tt))).length;Ut[--kt]==0;Ut.pop());if(!Ut[0])return Rt.charAt(0);if(Zt<0?--Et:(Yt.c=Ut,Yt.e=Et,Yt.s=wt,Ut=(Yt=q(Yt,ie,Fe,le,mt)).c,zt=Yt.r,Et=Yt.e),Zt=Ut[Mt=Et+Fe+1],kt=mt/2,zt=zt||Mt<0||Ut[Mt+1]!=null,zt=le<4?(Zt!=null||zt)&&(le==0||le==(Yt.s<0?3:2)):kt<Zt||Zt==kt&&(le==4||zt||le==6&&1&Ut[Mt-1]||le==(Yt.s<0?8:7)),Mt<1||!Ut[0])lt=zt?H(Rt.charAt(1),-Fe,Rt.charAt(0)):Rt.charAt(0);else{if(Ut.length=Mt,zt)for(--mt;++Ut[--Mt]>mt;)Ut[Mt]=0,Mt||(++Et,Ut=[1].concat(Ut));for(kt=Ut.length;!Ut[--kt];);for(Zt=0,lt="";Zt<=kt;lt+=Rt.charAt(Ut[Zt++]));lt=H(lt,Et,Rt.charAt(0))}return lt}}(),q=function(){function J(ut,mt,wt){var vt,Rt,Mt,Et,kt=0,zt=ut.length,Yt=mt%m,Ut=mt/m|0;for(ut=ut.slice();zt--;)kt=((Rt=Yt*(Mt=ut[zt]%m)+(vt=Ut*Mt+(Et=ut[zt]/m|0)*Yt)%m*m+kt)/wt|0)+(vt/m|0)+Ut*Et,ut[zt]=Rt%wt;return kt&&(ut=[kt].concat(ut)),ut}function et(ut,mt,wt,vt){var Rt,Mt;if(wt!=vt)Mt=vt<wt?1:-1;else for(Rt=Mt=0;Rt<wt;Rt++)if(ut[Rt]!=mt[Rt]){Mt=ut[Rt]>mt[Rt]?1:-1;break}return Mt}function lt(ut,mt,wt,vt){for(var Rt=0;wt--;)ut[wt]-=Rt,Rt=ut[wt]<mt[wt]?1:0,ut[wt]=Rt*vt+ut[wt]-mt[wt];for(;!ut[0]&&1<ut.length;ut.splice(0,1));}return function(ut,mt,wt,vt,Rt){var Mt,Et,kt,zt,Yt,Ut,ie,Zt,Fe,le,fe,ki,Ae,ni,Pi,ti,hi,be=ut.s==mt.s?1:-1,ye=ut.c,xe=mt.c;if(!(ye&&ye[0]&&xe&&xe[0]))return new nt(ut.s&&mt.s&&(ye?!xe||ye[0]!=xe[0]:xe)?ye&&ye[0]==0||!xe?0*be:be/0:NaN);for(Fe=(Zt=new nt(be)).c=[],be=wt+(Et=ut.e-mt.e)+1,Rt||(Rt=d,Et=p(ut.e/h)-p(mt.e/h),be=be/h|0),kt=0;xe[kt]==(ye[kt]||0);kt++);if(xe[kt]>(ye[kt]||0)&&Et--,be<0)Fe.push(1),zt=!0;else{for(ni=ye.length,ti=xe.length,be+=2,1<(Yt=a(Rt/(xe[kt=0]+1)))&&(xe=J(xe,Yt,Rt),ye=J(ye,Yt,Rt),ti=xe.length,ni=ye.length),Ae=ti,fe=(le=ye.slice(0,ti)).length;fe<ti;le[fe++]=0);hi=xe.slice(),hi=[0].concat(hi),Pi=xe[0],xe[1]>=Rt/2&&Pi++;do{if(Yt=0,(Mt=et(xe,le,ti,fe))<0){if(ki=le[0],ti!=fe&&(ki=ki*Rt+(le[1]||0)),1<(Yt=a(ki/Pi)))for(Rt<=Yt&&(Yt=Rt-1),ie=(Ut=J(xe,Yt,Rt)).length,fe=le.length;et(Ut,le,ie,fe)==1;)Yt--,lt(Ut,ti<ie?hi:xe,ie,Rt),ie=Ut.length,Mt=1;else Yt==0&&(Mt=Yt=1),ie=(Ut=xe.slice()).length;if(ie<fe&&(Ut=[0].concat(Ut)),lt(le,Ut,fe,Rt),fe=le.length,Mt==-1)for(;et(xe,le,ti,fe)<1;)Yt++,lt(le,ti<fe?hi:xe,fe,Rt),fe=le.length}else Mt===0&&(Yt++,le=[0]);Fe[kt++]=Yt,le[0]?le[fe++]=ye[Ae]||0:(le=[ye[Ae]],fe=1)}while((Ae++<ni||le[0]!=null)&&be--);zt=le[0]!=null,Fe[0]||Fe.splice(0,1)}if(Rt==d){for(kt=1,be=Fe[0];10<=be;be/=10,kt++);at(Zt,wt+(Zt.e=kt+Et*h-1)+1,vt,zt)}else Zt.e=Et,Zt.r=+zt;return Zt}}(),v=/^(-?)0([xbo])(?=\w[\w.]*$)/i,y=/^([^.]+)\.$/,C=/^\.([^.]+)$/,w=/^-?(Infinity|NaN)$/,S=/^\s*\+(?=[\w.])|^\s+|\s+$/g,x=function(J,et,lt,ut){var mt,wt=lt?et:et.replace(S,"");if(w.test(wt))J.s=isNaN(wt)?null:wt<0?-1:1,J.c=J.e=null;else{if(!lt&&(wt=wt.replace(v,function(vt,Rt,Mt){return mt=(Mt=Mt.toLowerCase())=="x"?16:Mt=="b"?2:8,ut&&ut!=mt?vt:Rt}),ut&&(mt=ut,wt=wt.replace(y,"$1").replace(C,"0.$1")),et!=wt))return new nt(wt,mt);if(nt.DEBUG)throw Error(l+"Not a"+(ut?" base "+ut:"")+" number: "+et);J.c=J.e=J.s=null}},M.absoluteValue=M.abs=function(){var J=new nt(this);return J.s<0&&(J.s=1),J},M.comparedTo=function(J,et){return _(this,new nt(J,et))},M.decimalPlaces=M.dp=function(J,et){var lt,ut,mt;if(J!=null)return E(J,0,g),et==null?et=T:E(et,0,8),at(new nt(this),J+this.e+1,et);if(!(lt=this.c))return null;if(ut=((mt=lt.length-1)-p(this.e/h))*h,mt=lt[mt])for(;mt%10==0;mt/=10,ut--);return ut<0&&(ut=0),ut},M.dividedBy=M.div=function(J,et){return q(this,new nt(J,et),N,T)},M.dividedToIntegerBy=M.idiv=function(J,et){return q(this,new nt(J,et),0,1)},M.exponentiatedBy=M.pow=function(J,et){var lt,ut,mt,wt,vt,Rt,Mt,Et,kt=this;if((J=new nt(J)).c&&!J.isInteger())throw Error(l+"Exponent not an integer: "+_t(J));if(et!=null&&(et=new nt(et)),vt=14<J.e,!kt.c||!kt.c[0]||kt.c[0]==1&&!kt.e&&kt.c.length==1||!J.c||!J.c[0])return Et=new nt(Math.pow(+_t(kt),vt?2-O(J):+_t(J))),et?Et.mod(et):Et;if(Rt=J.s<0,et){if(et.c?!et.c[0]:!et.s)return new nt(NaN);(ut=!Rt&&kt.isInteger()&&et.isInteger())&&(kt=kt.mod(et))}else{if(9<J.e&&(0<kt.e||kt.e<-1||(kt.e==0?1<kt.c[0]||vt&&24e7<=kt.c[1]:kt.c[0]<8e13||vt&&kt.c[0]<=9999975e7)))return wt=kt.s<0&&O(J)?-0:0,-1<kt.e&&(wt=1/wt),new nt(Rt?1/wt:wt);Z&&(wt=s(Z/h+2))}for(Mt=vt?(lt=new nt(.5),Rt&&(J.s=1),O(J)):(mt=Math.abs(+_t(J)))%2,Et=new nt(U);;){if(Mt){if(!(Et=Et.times(kt)).c)break;wt?Et.c.length>wt&&(Et.c.length=wt):ut&&(Et=Et.mod(et))}if(mt){if((mt=a(mt/2))===0)break;Mt=mt%2}else if(at(J=J.times(lt),J.e+1,1),14<J.e)Mt=O(J);else{if((mt=+_t(J))==0)break;Mt=mt%2}kt=kt.times(kt),wt?kt.c&&kt.c.length>wt&&(kt.c.length=wt):ut&&(kt=kt.mod(et))}return ut?Et:(Rt&&(Et=U.div(Et)),et?Et.mod(et):wt?at(Et,Z,T,void 0):Et)},M.integerValue=function(J){var et=new nt(this);return J==null?J=T:E(J,0,8),at(et,et.e+1,J)},M.isEqualTo=M.eq=function(J,et){return _(this,new nt(J,et))===0},M.isFinite=function(){return!!this.c},M.isGreaterThan=M.gt=function(J,et){return 0<_(this,new nt(J,et))},M.isGreaterThanOrEqualTo=M.gte=function(J,et){return(et=_(this,new nt(J,et)))===1||et===0},M.isInteger=function(){return!!this.c&&p(this.e/h)>this.c.length-2},M.isLessThan=M.lt=function(J,et){return _(this,new nt(J,et))<0},M.isLessThanOrEqualTo=M.lte=function(J,et){return(et=_(this,new nt(J,et)))===-1||et===0},M.isNaN=function(){return!this.s},M.isNegative=function(){return this.s<0},M.isPositive=function(){return 0<this.s},M.isZero=function(){return!!this.c&&this.c[0]==0},M.minus=function(J,et){var lt,ut,mt,wt,vt=this,Rt=vt.s;if(et=(J=new nt(J,et)).s,!Rt||!et)return new nt(NaN);if(Rt!=et)return J.s=-et,vt.plus(J);var Mt=vt.e/h,Et=J.e/h,kt=vt.c,zt=J.c;if(!Mt||!Et){if(!kt||!zt)return kt?(J.s=-et,J):new nt(zt?vt:NaN);if(!kt[0]||!zt[0])return zt[0]?(J.s=-et,J):new nt(kt[0]?vt:T==3?-0:0)}if(Mt=p(Mt),Et=p(Et),kt=kt.slice(),Rt=Mt-Et){for((mt=(wt=Rt<0)?(Rt=-Rt,kt):(Et=Mt,zt)).reverse(),et=Rt;et--;mt.push(0));mt.reverse()}else for(ut=(wt=(Rt=kt.length)<(et=zt.length))?Rt:et,Rt=et=0;et<ut;et++)if(kt[et]!=zt[et]){wt=kt[et]<zt[et];break}if(wt&&(mt=kt,kt=zt,zt=mt,J.s=-J.s),0<(et=(ut=zt.length)-(lt=kt.length)))for(;et--;kt[lt++]=0);for(et=d-1;Rt<ut;){if(kt[--ut]<zt[ut]){for(lt=ut;lt&&!kt[--lt];kt[lt]=et);--kt[lt],kt[ut]+=d}kt[ut]-=zt[ut]}for(;kt[0]==0;kt.splice(0,1),--Et);return kt[0]?rt(J,kt,Et):(J.s=T==3?-1:1,J.c=[J.e=0],J)},M.modulo=M.mod=function(J,et){var lt,ut,mt=this;return J=new nt(J,et),!mt.c||!J.s||J.c&&!J.c[0]?new nt(NaN):!J.c||mt.c&&!mt.c[0]?new nt(mt):(Y==9?(ut=J.s,J.s=1,lt=q(mt,J,0,3),J.s=ut,lt.s*=ut):lt=q(mt,J,0,Y),(J=mt.minus(lt.times(J))).c[0]||Y!=1||(J.s=mt.s),J)},M.multipliedBy=M.times=function(J,et){var lt,ut,mt,wt,vt,Rt,Mt,Et,kt,zt,Yt,Ut,ie,Zt,Fe,le=this,fe=le.c,ki=(J=new nt(J,et)).c;if(!(fe&&ki&&fe[0]&&ki[0]))return!le.s||!J.s||fe&&!fe[0]&&!ki||ki&&!ki[0]&&!fe?J.c=J.e=J.s=null:(J.s*=le.s,fe&&ki?(J.c=[0],J.e=0):J.c=J.e=null),J;for(ut=p(le.e/h)+p(J.e/h),J.s*=le.s,(Mt=fe.length)<(zt=ki.length)&&(ie=fe,fe=ki,ki=ie,mt=Mt,Mt=zt,zt=mt),mt=Mt+zt,ie=[];mt--;ie.push(0));for(Zt=d,Fe=m,mt=zt;0<=--mt;){for(lt=0,Yt=ki[mt]%Fe,Ut=ki[mt]/Fe|0,wt=mt+(vt=Mt);mt<wt;)lt=((Et=Yt*(Et=fe[--vt]%Fe)+(Rt=Ut*Et+(kt=fe[vt]/Fe|0)*Yt)%Fe*Fe+ie[wt]+lt)/Zt|0)+(Rt/Fe|0)+Ut*kt,ie[wt--]=Et%Zt;ie[wt]=lt}return lt?++ut:ie.splice(0,1),rt(J,ie,ut)},M.negated=function(){var J=new nt(this);return J.s=-J.s||null,J},M.plus=function(J,et){var lt,ut=this,mt=ut.s;if(et=(J=new nt(J,et)).s,!mt||!et)return new nt(NaN);if(mt!=et)return J.s=-et,ut.minus(J);var wt=ut.e/h,vt=J.e/h,Rt=ut.c,Mt=J.c;if(!wt||!vt){if(!Rt||!Mt)return new nt(mt/0);if(!Rt[0]||!Mt[0])return Mt[0]?J:new nt(Rt[0]?ut:0*mt)}if(wt=p(wt),vt=p(vt),Rt=Rt.slice(),mt=wt-vt){for((lt=0<mt?(vt=wt,Mt):(mt=-mt,Rt)).reverse();mt--;lt.push(0));lt.reverse()}for((mt=Rt.length)-(et=Mt.length)<0&&(lt=Mt,Mt=Rt,Rt=lt,et=mt),mt=0;et;)mt=(Rt[--et]=Rt[et]+Mt[et]+mt)/d|0,Rt[et]=d===Rt[et]?0:Rt[et]%d;return mt&&(Rt=[mt].concat(Rt),++vt),rt(J,Rt,vt)},M.precision=M.sd=function(J,et){var lt,ut,mt;if(J!=null&&J!==!!J)return E(J,1,g),et==null?et=T:E(et,0,8),at(new nt(this),J,et);if(!(lt=this.c))return null;if(ut=(mt=lt.length-1)*h+1,mt=lt[mt]){for(;mt%10==0;mt/=10,ut--);for(mt=lt[0];10<=mt;mt/=10,ut++);}return J&&this.e+1>ut&&(ut=this.e+1),ut},M.shiftedBy=function(J){return E(J,-u,u),this.times("1e"+J)},M.squareRoot=M.sqrt=function(){var J,et,lt,ut,mt,wt=this,vt=wt.c,Rt=wt.s,Mt=wt.e,Et=N+4,kt=new nt("0.5");if(Rt!==1||!vt||!vt[0])return new nt(!Rt||Rt<0&&(!vt||vt[0])?NaN:vt?wt:1/0);if((lt=(Rt=Math.sqrt(+_t(wt)))==0||Rt==1/0?(((et=b(vt)).length+Mt)%2==0&&(et+="0"),Rt=Math.sqrt(+et),Mt=p((Mt+1)/2)-(Mt<0||Mt%2),new nt(et=Rt==1/0?"1e"+Mt:(et=Rt.toExponential()).slice(0,et.indexOf("e")+1)+Mt)):new nt(Rt+"")).c[0]){for((Rt=(Mt=lt.e)+Et)<3&&(Rt=0);;)if(mt=lt,lt=kt.times(mt.plus(q(wt,mt,Et,1))),b(mt.c).slice(0,Rt)===(et=b(lt.c)).slice(0,Rt)){if(lt.e<Mt&&--Rt,(et=et.slice(Rt-3,Rt+1))!="9999"&&(ut||et!="4999")){+et&&(+et.slice(1)||et.charAt(0)!="5")||(at(lt,lt.e+N+2,1),J=!lt.times(lt).eq(wt));break}if(!ut&&(at(mt,mt.e+N+2,0),mt.times(mt).eq(wt))){lt=mt;break}Et+=4,Rt+=4,ut=1}}return at(lt,lt.e+N+1,T,J)},M.toExponential=function(J,et){return J!=null&&(E(J,0,g),J++),Ct(this,J,et,1)},M.toFixed=function(J,et){return J!=null&&(E(J,0,g),J=J+this.e+1),Ct(this,J,et)},M.toFormat=function(J,et,lt){var ut;if(lt==null)J!=null&&et&&typeof et=="object"?(lt=et,et=null):J&&typeof J=="object"?(lt=J,J=et=null):lt=ct;else if(typeof lt!="object")throw Error(l+"Argument not an object: "+lt);if(ut=this.toFixed(J,et),this.c){var mt,wt=ut.split("."),vt=+lt.groupSize,Rt=+lt.secondaryGroupSize,Mt=lt.groupSeparator||"",Et=wt[0],kt=wt[1],zt=this.s<0,Yt=zt?Et.slice(1):Et,Ut=Yt.length;if(Rt&&(mt=vt,vt=Rt,Ut-=Rt=mt),0<vt&&0<Ut){for(mt=Ut%vt||vt,Et=Yt.substr(0,mt);mt<Ut;mt+=vt)Et+=Mt+Yt.substr(mt,vt);0<Rt&&(Et+=Mt+Yt.slice(mt)),zt&&(Et="-"+Et)}ut=kt?Et+(lt.decimalSeparator||"")+((Rt=+lt.fractionGroupSize)?kt.replace(new RegExp("\\d{"+Rt+"}\\B","g"),"$&"+(lt.fractionGroupSeparator||"")):kt):Et}return(lt.prefix||"")+ut+(lt.suffix||"")},M.toFraction=function(J){var et,lt,ut,mt,wt,vt,Rt,Mt,Et,kt,zt,Yt,Ut=this,ie=Ut.c;if(J!=null&&(!(Rt=new nt(J)).isInteger()&&(Rt.c||Rt.s!==1)||Rt.lt(U)))throw Error(l+"Argument "+(Rt.isInteger()?"out of range: ":"not an integer: ")+_t(Rt));if(!ie)return new nt(Ut);for(et=new nt(U),Et=lt=new nt(U),ut=Mt=new nt(U),Yt=b(ie),wt=et.e=Yt.length-Ut.e-1,et.c[0]=f[(vt=wt%h)<0?h+vt:vt],J=!J||0<Rt.comparedTo(et)?0<wt?et:Et:Rt,vt=A,A=1/0,Rt=new nt(Yt),Mt.c[0]=0;kt=q(Rt,et,0,1),(mt=lt.plus(kt.times(ut))).comparedTo(J)!=1;)lt=ut,ut=mt,Et=Mt.plus(kt.times(mt=Et)),Mt=mt,et=Rt.minus(kt.times(mt=et)),Rt=mt;return mt=q(J.minus(lt),ut,0,1),Mt=Mt.plus(mt.times(Et)),lt=lt.plus(mt.times(ut)),Mt.s=Et.s=Ut.s,zt=q(Et,ut,wt*=2,T).minus(Ut).abs().comparedTo(q(Mt,lt,wt,T).minus(Ut).abs())<1?[Et,ut]:[Mt,lt],A=vt,zt},M.toNumber=function(){return+_t(this)},M.toPrecision=function(J,et){return J!=null&&E(J,1,g),Ct(this,J,et,2)},M.toString=function(J){var et,lt=this,ut=lt.s,mt=lt.e;return mt===null?ut?(et="Infinity",ut<0&&(et="-"+et)):et="NaN":(et=J==null?mt<=B||I<=mt?V(b(lt.c),mt):H(b(lt.c),mt,"0"):J===10?H(b((lt=at(new nt(lt),N+mt+1,T)).c),lt.e,"0"):(E(J,2,tt.length,"Base"),W(H(b(lt.c),mt,"0"),10,J,ut,!0)),ut<0&&lt.c[0]&&(et="-"+et)),et},M.valueOf=M.toJSON=function(){return _t(this)},M._isBigNumber=!0,typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(M[Symbol.toStringTag]="BigNumber",M[Symbol.for("nodejs.util.inspect.custom")]=M.valueOf),L!=null&&nt.set(L),nt}()).default=n.BigNumber=n,t!==void 0&&t.exports?t.exports=n:(i||(i=typeof self<"u"&&self?self:window),i.BigNumber=n)})(this)},{}],2:[function(e,t,r){"use strict";t.exports={languageTag:"en-US",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},spaceSeparated:!1,ordinal:function(i){var n=i%10;return~~(i%100/10)==1?"th":n===1?"st":n===2?"nd":n===3?"rd":"th"},currency:{symbol:"$",position:"prefix",code:"USD"},currencyFormat:{thousandSeparated:!0,totalLength:4,spaceSeparated:!0},formats:{fourDigits:{totalLength:4,spaceSeparated:!0},fullWithTwoDecimals:{output:"currency",thousandSeparated:!0,mantissa:2},fullWithTwoDecimalsNoCurrency:{thousandSeparated:!0,mantissa:2},fullWithNoDecimals:{output:"currency",thousandSeparated:!0,mantissa:0}}}},{}],3:[function(e,t,r){"use strict";function i(p,b){return function(_){if(Array.isArray(_))return _}(p)||function(_,E){var O=[],V=!0,H=!1,F=void 0;try{for(var L,q=_[Symbol.iterator]();!(V=(L=q.next()).done)&&(O.push(L.value),!E||O.length!==E);V=!0);}catch(W){H=!0,F=W}finally{try{V||q.return==null||q.return()}finally{if(H)throw F}}return O}(p,b)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var n=e("./globalState"),o=e("./validating"),s=e("./parsing"),a=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],l={general:{scale:1024,suffixes:a,marker:"bd"},binary:{scale:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],marker:"b"},decimal:{scale:1e3,suffixes:a,marker:"d"}},c={totalLength:0,characteristic:0,forceAverage:!1,average:!1,mantissa:-1,optionalMantissa:!0,thousandSeparated:!1,spaceSeparated:!1,negative:"sign",forceSign:!1};function d(p){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},_=2<arguments.length?arguments[2]:void 0;if(typeof b=="string"&&(b=s.parseFormat(b)),!o.validateFormat(b))return"ERROR: invalid format";var E=b.prefix||"",O=b.postfix||"",V=function(H,F,L){switch(F.output){case"currency":return F=g(F,n.currentCurrencyDefaultFormat()),function(tt,nt,Ct){var xt=Ct.currentCurrency(),rt=Object.assign({},c,nt),at=void 0,_t="",J=!!rt.totalLength||!!rt.forceAverage||rt.average,et=nt.currencyPosition||xt.position,lt=nt.currencySymbol||xt.symbol;rt.spaceSeparated&&(_t=" "),et==="infix"&&(at=_t+lt+_t);var ut=m({instance:tt,providedFormat:nt,state:Ct,decimalSeparator:at});return et==="prefix"&&(ut=tt._value<0&&rt.negative==="sign"?"-".concat(_t).concat(lt).concat(ut.slice(1)):lt+_t+ut),et&&et!=="postfix"||(ut=ut+(_t=J?"":_t)+lt),ut}(H,F,n);case"percent":return F=g(F,n.currentPercentageDefaultFormat()),function(tt,nt,Ct,xt){var rt=nt.prefixSymbol,at=m({instance:xt(100*tt._value),providedFormat:nt,state:Ct}),_t=Object.assign({},c,nt);return rt?"%".concat(_t.spaceSeparated?" ":"").concat(at):"".concat(at).concat(_t.spaceSeparated?" ":"","%")}(H,F,n,L);case"byte":return F=g(F,n.currentByteDefaultFormat()),U=H,T=n,B=L,I=(N=F).base||"binary",$=l[I],A=h(U._value,$.suffixes,$.scale),k=A.value,Y=A.suffix,Z=m({instance:B(k),providedFormat:N,state:T,defaults:T.currentByteDefaultFormat()}),ct=T.currentAbbreviations(),"".concat(Z).concat(ct.spaced?" ":"").concat(Y);case"time":return F=g(F,n.currentTimeDefaultFormat()),C=H,w=Math.floor(C._value/60/60),S=Math.floor((C._value-60*w*60)/60),M=Math.round(C._value-60*w*60-60*S),"".concat(w,":").concat(S<10?"0":"").concat(S,":").concat(M<10?"0":"").concat(M);case"ordinal":return F=g(F,n.currentOrdinalDefaultFormat()),q=H,W=F,R=(x=n).currentOrdinal(),j=Object.assign({},c,W),v=m({instance:q,providedFormat:W,state:x}),y=R(q._value),"".concat(v).concat(j.spaceSeparated?" ":"").concat(y);case"number":default:return m({instance:H,providedFormat:F,numbro:L})}var q,W,x,R,j,v,y,C,w,S,M,U,N,T,B,I,$,A,k,Y,Z,ct}(p,b,_);return V=(V=E+V)+O}function h(p,b,_){var E=b[0],O=Math.abs(p);if(_<=O){for(var V=1;V<b.length;++V){var H=Math.pow(_,V),F=Math.pow(_,V+1);if(H<=O&&O<F){E=b[V],p/=H;break}}E===b[0]&&(p/=Math.pow(_,b.length-1),E=b[b.length-1])}return{value:p,suffix:E}}function u(p){for(var b="",_=0;_<p;_++)b+="0";return b}function f(p,b){return p.toString().indexOf("e")!==-1?function(_,E){var O=_.toString(),V=i(O.split("e"),2),H=V[0],F=V[1],L=i(H.split("."),2),q=L[0],W=L[1],x=W===void 0?"":W;if(0<+F)O=q+x+u(F-x.length);else{var R=".";R=+q<0?"-0".concat(R):"0".concat(R);var j=(u(-F-1)+Math.abs(q)+x).substr(0,E);j.length<E&&(j+=u(E-j.length)),O=R+j}return 0<+F&&0<E&&(O+=".".concat(u(E))),O}(p,b):(Math.round(+"".concat(p,"e+").concat(b))/Math.pow(10,b)).toFixed(b)}function m(p){var b=p.instance,_=p.providedFormat,E=p.state,O=E===void 0?n:E,V=p.decimalSeparator,H=p.defaults,F=H===void 0?O.currentDefaults():H,L=b._value;if(L===0&&O.hasZeroFormat())return O.getZeroFormat();if(!isFinite(L))return L.toString();var q,W,x,R,j,v,y,C,w=Object.assign({},c,F,_),S=w.totalLength,M=S?0:w.characteristic,U=w.optionalCharacteristic,N=w.forceAverage,T=!!S||!!N||w.average,B=S?-1:T&&_.mantissa===void 0?0:w.mantissa,I=!S&&(_.optionalMantissa===void 0?B===-1:w.optionalMantissa),$=w.trimMantissa,A=w.thousandSeparated,k=w.spaceSeparated,Y=w.negative,Z=w.forceSign,ct=w.exponential,tt="";if(T){var nt=function(J){var et=J.value,lt=J.forceAverage,ut=J.abbreviations,mt=J.spaceSeparated,wt=mt!==void 0&&mt,vt=J.totalLength,Rt=vt===void 0?0:vt,Mt="",Et=Math.abs(et),kt=-1;if(Et>=Math.pow(10,12)&&!lt||lt==="trillion"?(Mt=ut.trillion,et/=Math.pow(10,12)):Et<Math.pow(10,12)&&Et>=Math.pow(10,9)&&!lt||lt==="billion"?(Mt=ut.billion,et/=Math.pow(10,9)):Et<Math.pow(10,9)&&Et>=Math.pow(10,6)&&!lt||lt==="million"?(Mt=ut.million,et/=Math.pow(10,6)):(Et<Math.pow(10,6)&&Et>=Math.pow(10,3)&&!lt||lt==="thousand")&&(Mt=ut.thousand,et/=Math.pow(10,3)),Mt&&(Mt=(wt?" ":"")+Mt),Rt){var zt=et.toString().split(".")[0];kt=Math.max(Rt-zt.length,0)}return{value:et,abbreviation:Mt,mantissaPrecision:kt}}({value:L,forceAverage:N,abbreviations:O.currentAbbreviations(),spaceSeparated:k,totalLength:S});L=nt.value,tt+=nt.abbreviation,S&&(B=nt.mantissaPrecision)}if(ct){var Ct=(W=(q={value:L,characteristicPrecision:M}).value,x=q.characteristicPrecision,R=x===void 0?0:x,j=i(W.toExponential().split("e"),2),v=j[0],y=j[1],C=+v,R&&1<R&&(C*=Math.pow(10,R-1),y=0<=(y=+y-(R-1))?"+".concat(y):y),{value:C,abbreviation:"e".concat(y)});L=Ct.value,tt=Ct.abbreviation+tt}var xt,rt,at,_t=function(J,et,lt,ut,mt){if(ut===-1)return J;var wt=f(et,ut),vt=i(wt.toString().split("."),2),Rt=vt[0],Mt=vt[1],Et=Mt===void 0?"":Mt;if(Et.match(/^0+$/)&&(lt||mt))return Rt;var kt=Et.match(/0+$/);return mt&&kt?"".concat(Rt,".").concat(Et.toString().slice(0,kt.index)):wt.toString()}(L.toString(),L,I,B,$);return _t=function(J,et,lt,ut,mt){var wt=ut.currentDelimiters(),vt=wt.thousands;mt=mt||wt.decimal;var Rt=wt.thousandsSize||3,Mt=J.toString(),Et=Mt.split(".")[0],kt=Mt.split(".")[1];return lt&&(et<0&&(Et=Et.slice(1)),function(zt,Yt){for(var Ut=[],ie=0,Zt=zt;0<Zt;Zt--)ie===Yt&&(Ut.unshift(Zt),ie=0),ie++;return Ut}(Et.length,Rt).forEach(function(zt,Yt){Et=Et.slice(0,zt+Yt)+vt+Et.slice(zt+Yt)}),et<0&&(Et="-".concat(Et))),Mt=kt?Et+mt+kt:Et}(_t=function(J,et,lt,ut){var mt=J,wt=i(mt.toString().split("."),2),vt=wt[0],Rt=wt[1];if(vt.match(/^-?0$/)&&lt)return Rt?"".concat(vt.replace("0",""),".").concat(Rt):vt.replace("0","");if(vt.length<ut)for(var Mt=ut-vt.length,Et=0;Et<Mt;Et++)mt="0".concat(mt);return mt.toString()}(_t,0,U,M),L,A,O,V),(T||ct)&&(_t=_t+tt),(Z||L<0)&&(xt=_t,at=Y,_t=(rt=L)===0?xt:+xt==0?xt.replace("-",""):0<rt?"+".concat(xt):at==="sign"?xt:"(".concat(xt.replace("-",""),")")),_t}function g(p,b){if(!p)return b;var _=Object.keys(p);return _.length===1&&_[0]==="output"?b:p}t.exports=function(p){return{format:function(){for(var b=arguments.length,_=new Array(b),E=0;E<b;E++)_[E]=arguments[E];return d.apply(void 0,_.concat([p]))},getByteUnit:function(){for(var b=arguments.length,_=new Array(b),E=0;E<b;E++)_[E]=arguments[E];return(function(O){var V=l.general;return h(O._value,V.suffixes,V.scale).suffix}).apply(void 0,_.concat([p]))},getBinaryByteUnit:function(){for(var b=arguments.length,_=new Array(b),E=0;E<b;E++)_[E]=arguments[E];return(function(O){var V=l.binary;return h(O._value,V.suffixes,V.scale).suffix}).apply(void 0,_.concat([p]))},getDecimalByteUnit:function(){for(var b=arguments.length,_=new Array(b),E=0;E<b;E++)_[E]=arguments[E];return(function(O){var V=l.decimal;return h(O._value,V.suffixes,V.scale).suffix}).apply(void 0,_.concat([p]))},formatOrDefault:g}}},{"./globalState":4,"./parsing":8,"./validating":10}],4:[function(e,t,r){"use strict";var i=e("./en-US"),n=e("./validating"),o=e("./parsing"),s={},a=void 0,l={},c=null,d={};function h(f){a=f}function u(){return l[a]}s.languages=function(){return Object.assign({},l)},s.currentLanguage=function(){return a},s.currentCurrency=function(){return u().currency},s.currentAbbreviations=function(){return u().abbreviations},s.currentDelimiters=function(){return u().delimiters},s.currentOrdinal=function(){return u().ordinal},s.currentDefaults=function(){return Object.assign({},u().defaults,d)},s.currentOrdinalDefaultFormat=function(){return Object.assign({},s.currentDefaults(),u().ordinalFormat)},s.currentByteDefaultFormat=function(){return Object.assign({},s.currentDefaults(),u().byteFormat)},s.currentPercentageDefaultFormat=function(){return Object.assign({},s.currentDefaults(),u().percentageFormat)},s.currentCurrencyDefaultFormat=function(){return Object.assign({},s.currentDefaults(),u().currencyFormat)},s.currentTimeDefaultFormat=function(){return Object.assign({},s.currentDefaults(),u().timeFormat)},s.setDefaults=function(f){f=o.parseFormat(f),n.validateFormat(f)&&(d=f)},s.getZeroFormat=function(){return c},s.setZeroFormat=function(f){return c=typeof f=="string"?f:null},s.hasZeroFormat=function(){return c!==null},s.languageData=function(f){if(f){if(l[f])return l[f];throw new Error('Unknown tag "'.concat(f,'"'))}return u()},s.registerLanguage=function(f){var m=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(!n.validateLanguage(f))throw new Error("Invalid language data");l[f.languageTag]=f,m&&h(f.languageTag)},s.setLanguage=function(f){var m=1<arguments.length&&arguments[1]!==void 0?arguments[1]:i.languageTag;if(!l[f]){var g=f.split("-")[0],p=Object.keys(l).find(function(b){return b.split("-")[0]===g});return l[p]?void h(p):void h(m)}h(f)},s.registerLanguage(i),a=i.languageTag,t.exports=s},{"./en-US":2,"./parsing":8,"./validating":10}],5:[function(e,t,r){"use strict";t.exports=function(i){return{loadLanguagesInNode:function(n){return o=i,void n.forEach(function(s){var a=void 0;try{a=e("../languages/".concat(s))}catch{console.error('Unable to load "'.concat(s,'". No matching language file found.'))}a&&o.registerLanguage(a)});var o}}}},{}],6:[function(e,t,r){"use strict";var i=e("bignumber.js");function n(o,s,a){var l=new i(o._value),c=s;return a.isNumbro(s)&&(c=s._value),c=new i(c),o._value=l.minus(c).toNumber(),o}t.exports=function(o){return{add:function(s,a){return c=a,d=o,h=new i((l=s)._value),u=c,d.isNumbro(c)&&(u=c._value),u=new i(u),l._value=h.plus(u).toNumber(),l;var l,c,d,h,u},subtract:function(s,a){return n(s,a,o)},multiply:function(s,a){return c=a,d=o,h=new i((l=s)._value),u=c,d.isNumbro(c)&&(u=c._value),u=new i(u),l._value=h.times(u).toNumber(),l;var l,c,d,h,u},divide:function(s,a){return c=a,d=o,h=new i((l=s)._value),u=c,d.isNumbro(c)&&(u=c._value),u=new i(u),l._value=h.dividedBy(u).toNumber(),l;var l,c,d,h,u},set:function(s,a){return l=s,d=c=a,o.isNumbro(c)&&(d=c._value),l._value=d,l;var l,c,d},difference:function(s,a){return l=a,n(d=(c=o)(s._value),l,c),Math.abs(d._value);var l,c,d}}}},{"bignumber.js":1}],7:[function(e,t,r){"use strict";function i(m,g){for(var p=0;p<g.length;p++){var b=g[p];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(m,b.key,b)}}var n=e("./globalState"),o=e("./validating"),s=e("./loading")(f),a=e("./unformatting"),l=e("./formatting")(f),c=e("./manipulating")(f),d=e("./parsing"),h=function(){function m(_){(function(E,O){if(!(E instanceof O))throw new TypeError("Cannot call a class as a function")})(this,m),this._value=_}var g,p,b;return g=m,(p=[{key:"clone",value:function(){return f(this._value)}},{key:"format",value:function(){var _=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return l.format(this,_)}},{key:"formatCurrency",value:function(_){return typeof _=="string"&&(_=d.parseFormat(_)),(_=l.formatOrDefault(_,n.currentCurrencyDefaultFormat())).output="currency",l.format(this,_)}},{key:"formatTime",value:function(){var _=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return _.output="time",l.format(this,_)}},{key:"binaryByteUnits",value:function(){return l.getBinaryByteUnit(this)}},{key:"decimalByteUnits",value:function(){return l.getDecimalByteUnit(this)}},{key:"byteUnits",value:function(){return l.getByteUnit(this)}},{key:"difference",value:function(_){return c.difference(this,_)}},{key:"add",value:function(_){return c.add(this,_)}},{key:"subtract",value:function(_){return c.subtract(this,_)}},{key:"multiply",value:function(_){return c.multiply(this,_)}},{key:"divide",value:function(_){return c.divide(this,_)}},{key:"set",value:function(_){return c.set(this,u(_))}},{key:"value",value:function(){return this._value}},{key:"valueOf",value:function(){return this._value}}])&&i(g.prototype,p),b&&i(g,b),m}();function u(m){var g=m;return f.isNumbro(m)?g=m._value:typeof m=="string"?g=f.unformat(m):isNaN(m)&&(g=NaN),g}function f(m){return new h(u(m))}f.version="2.1.2",f.isNumbro=function(m){return m instanceof h},f.language=n.currentLanguage,f.registerLanguage=n.registerLanguage,f.setLanguage=n.setLanguage,f.languages=n.languages,f.languageData=n.languageData,f.zeroFormat=n.setZeroFormat,f.defaultFormat=n.currentDefaults,f.setDefaults=n.setDefaults,f.defaultCurrencyFormat=n.currentCurrencyDefaultFormat,f.validate=o.validate,f.loadLanguagesInNode=s.loadLanguagesInNode,f.unformat=a.unformat,t.exports=f},{"./formatting":3,"./globalState":4,"./loading":5,"./manipulating":6,"./parsing":8,"./unformatting":9,"./validating":10}],8:[function(e,t,r){"use strict";t.exports={parseFormat:function(i){var n,o,s,a,l,c,d,h,u,f,m,g,p,b,_,E,O,V,H,F,L=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return typeof i!="string"?i:(o=L,i=(s=(n=i).match(/^{([^}]*)}/))?(o.prefix=s[1],n.slice(s[0].length)):n,l=L,function(q,W){if(q.indexOf("$")===-1){if(q.indexOf("%")===-1)return q.indexOf("bd")!==-1?(W.output="byte",W.base="general"):q.indexOf("b")!==-1?(W.output="byte",W.base="binary"):q.indexOf("d")!==-1?(W.output="byte",W.base="decimal"):q.indexOf(":")===-1?q.indexOf("o")!==-1&&(W.output="ordinal"):W.output="time";W.output="percent"}else W.output="currency"}(i=(c=(a=i).match(/{([^}]*)}$/))?(l.postfix=c[1],a.slice(0,-c[0].length)):a,L),d=L,(h=i.match(/[1-9]+[0-9]*/))&&(d.totalLength=+h[0]),u=L,(f=i.split(".")[0].match(/0+/))&&(u.characteristic=f[0].length),function(q,W){if(q.indexOf(".")!==-1){var x=q.split(".")[0];W.optionalCharacteristic=x.indexOf("0")===-1}}(i,L),m=L,i.indexOf("a")!==-1&&(m.average=!0),p=L,(g=i).indexOf("K")!==-1?p.forceAverage="thousand":g.indexOf("M")!==-1?p.forceAverage="million":g.indexOf("B")!==-1?p.forceAverage="billion":g.indexOf("T")!==-1&&(p.forceAverage="trillion"),function(q,W){var x=q.split(".")[1];if(x){var R=x.match(/0+/);R&&(W.mantissa=R[0].length)}}(i,L),_=L,(b=i).match(/\[\.]/)?_.optionalMantissa=!0:b.match(/\./)&&(_.optionalMantissa=!1),E=L,i.indexOf(",")!==-1&&(E.thousandSeparated=!0),O=L,i.indexOf(" ")!==-1&&(O.spaceSeparated=!0),H=L,(V=i).match(/^\+?\([^)]*\)$/)&&(H.negative="parenthesis"),V.match(/^\+?-/)&&(H.negative="sign"),F=L,i.match(/^\+/)&&(F.forceSign=!0),L)}}},{}],9:[function(e,t,r){"use strict";var i=[{key:"ZiB",factor:Math.pow(1024,7)},{key:"ZB",factor:Math.pow(1e3,7)},{key:"YiB",factor:Math.pow(1024,8)},{key:"YB",factor:Math.pow(1e3,8)},{key:"TiB",factor:Math.pow(1024,4)},{key:"TB",factor:Math.pow(1e3,4)},{key:"PiB",factor:Math.pow(1024,5)},{key:"PB",factor:Math.pow(1e3,5)},{key:"MiB",factor:Math.pow(1024,2)},{key:"MB",factor:Math.pow(1e3,2)},{key:"KiB",factor:Math.pow(1024,1)},{key:"KB",factor:Math.pow(1e3,1)},{key:"GiB",factor:Math.pow(1024,3)},{key:"GB",factor:Math.pow(1e3,3)},{key:"EiB",factor:Math.pow(1024,6)},{key:"EB",factor:Math.pow(1e3,6)},{key:"B",factor:1}];function n(s){return s.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function o(s,a){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:"",c=3<arguments.length?arguments[3]:void 0,d=4<arguments.length?arguments[4]:void 0,h=5<arguments.length?arguments[5]:void 0,u=6<arguments.length?arguments[6]:void 0;if(s!=="")return s===d?0:function f(m,g){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:"",b=3<arguments.length?arguments[3]:void 0,_=4<arguments.length?arguments[4]:void 0,E=5<arguments.length?arguments[5]:void 0,O=6<arguments.length?arguments[6]:void 0;if(!isNaN(+m))return+m;var V="",H=m.replace(/(^[^(]*)\((.*)\)([^)]*$)/,"$1$2$3");if(H!==m)return-1*f(H,g,p,b,_,E,O);for(var F=0;F<i.length;F++){var L=i[F];if((V=m.replace(L.key,""))!==m)return f(V,g,p,b,_,E,O)*L.factor}if((V=m.replace("%",""))!==m)return f(V,g,p,b,_,E,O)/100;var q=parseFloat(m);if(!isNaN(q)){var W=b(q);if(W&&W!=="."&&(V=m.replace(new RegExp("".concat(n(W),"$")),""))!==m)return f(V,g,p,b,_,E,O);var x={};Object.keys(E).forEach(function(S){x[E[S]]=S});for(var R=Object.keys(x).sort().reverse(),j=R.length,v=0;v<j;v++){var y=R[v],C=x[y];if((V=m.replace(y,""))!==m){var w=void 0;switch(C){case"thousand":w=Math.pow(10,3);break;case"million":w=Math.pow(10,6);break;case"billion":w=Math.pow(10,9);break;case"trillion":w=Math.pow(10,12)}return f(V,g,p,b,_,E,O)*w}}}}(function(f,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:"",p=f.replace(g,"");return p=(p=p.replace(new RegExp("([0-9])".concat(n(m.thousands),"([0-9])"),"g"),"$1$2")).replace(m.decimal,".")}(s,a,l),a,l,c,d,h,u)}t.exports={unformat:function(s,a){var l,c,d,h=e("./globalState"),u=h.currentDelimiters(),f=h.currentCurrency().symbol,m=h.currentOrdinal(),g=h.getZeroFormat(),p=h.currentAbbreviations(),b=void 0;if(typeof s=="string")b=function(_,E){if(!_.indexOf(":")||E.thousands===":")return!1;var O=_.split(":");if(O.length!==3)return!1;var V=+O[0],H=+O[1],F=+O[2];return!isNaN(V)&&!isNaN(H)&&!isNaN(F)}(s,u)?(l=s.split(":"),c=+l[0],d=+l[1],+l[2]+60*d+3600*c):o(s,u,f,m,g,p,a);else{if(typeof s!="number")return;b=s}if(b!==void 0)return b}}},{"./globalState":4}],10:[function(e,t,r){"use strict";function i(u){return function(f){if(Array.isArray(f)){for(var m=0,g=new Array(f.length);m<f.length;m++)g[m]=f[m];return g}}(u)||function(f){if(Symbol.iterator in Object(f)||Object.prototype.toString.call(f)==="[object Arguments]")return Array.from(f)}(u)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function n(u){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(u)}var o=e("./unformatting"),s=/^[a-z]{2,3}(-[a-zA-Z]{4})?(-([A-Z]{2}|[0-9]{3}))?$/,a={output:{type:"string",validValues:["currency","percent","byte","time","ordinal","number"]},base:{type:"string",validValues:["decimal","binary","general"],restriction:function(u,f){return f.output==="byte"},message:"`base` must be provided only when the output is `byte`",mandatory:function(u){return u.output==="byte"}},characteristic:{type:"number",restriction:function(u){return 0<=u},message:"value must be positive"},prefix:"string",postfix:"string",forceAverage:{type:"string",validValues:["trillion","billion","million","thousand"]},average:"boolean",currencyPosition:{type:"string",validValues:["prefix","infix","postfix"]},currencySymbol:"string",totalLength:{type:"number",restrictions:[{restriction:function(u){return 0<=u},message:"value must be positive"},{restriction:function(u,f){return!f.exponential},message:"`totalLength` is incompatible with `exponential`"}]},mantissa:{type:"number",restriction:function(u){return 0<=u},message:"value must be positive"},optionalMantissa:"boolean",trimMantissa:"boolean",optionalCharacteristic:"boolean",thousandSeparated:"boolean",spaceSeparated:"boolean",abbreviations:{type:"object",children:{thousand:"string",million:"string",billion:"string",trillion:"string"}},negative:{type:"string",validValues:["sign","parenthesis"]},forceSign:"boolean",exponential:{type:"boolean"},prefixSymbol:{type:"boolean",restriction:function(u,f){return f.output==="percent"},message:"`prefixSymbol` can be provided only when the output is `percent`"}},l={languageTag:{type:"string",mandatory:!0,restriction:function(u){return u.match(s)},message:"the language tag must follow the BCP 47 specification (see https://tools.ieft.org/html/bcp47)"},delimiters:{type:"object",children:{thousands:"string",decimal:"string",thousandsSize:"number"},mandatory:!0},abbreviations:{type:"object",children:{thousand:{type:"string",mandatory:!0},million:{type:"string",mandatory:!0},billion:{type:"string",mandatory:!0},trillion:{type:"string",mandatory:!0}},mandatory:!0},spaceSeparated:"boolean",ordinal:{type:"function",mandatory:!0},currency:{type:"object",children:{symbol:"string",position:"string",code:"string"},mandatory:!0},defaults:"format",ordinalFormat:"format",byteFormat:"format",percentageFormat:"format",currencyFormat:"format",timeDefaults:"format",formats:{type:"object",children:{fourDigits:{type:"format",mandatory:!0},fullWithTwoDecimals:{type:"format",mandatory:!0},fullWithTwoDecimalsNoCurrency:{type:"format",mandatory:!0},fullWithNoDecimals:{type:"format",mandatory:!0}}}};function c(u){return!!o.unformat(u)}function d(u,f,m){var g=3<arguments.length&&arguments[3]!==void 0&&arguments[3],p=Object.keys(u).map(function(b){if(!f[b])return console.error("".concat(m," Invalid key: ").concat(b)),!1;var _=u[b],E=f[b];if(typeof E=="string"&&(E={type:E}),E.type==="format"){if(!d(_,a,"[Validate ".concat(b,"]"),!0))return!1}else if(n(_)!==E.type)return console.error("".concat(m," ").concat(b,' type mismatched: "').concat(E.type,'" expected, "').concat(n(_),'" provided')),!1;if(E.restrictions&&E.restrictions.length)for(var O=E.restrictions.length,V=0;V<O;V++){var H=E.restrictions[V],F=H.restriction,L=H.message;if(!F(_,u))return console.error("".concat(m," ").concat(b," invalid value: ").concat(L)),!1}return E.restriction&&!E.restriction(_,u)?(console.error("".concat(m," ").concat(b," invalid value: ").concat(E.message)),!1):E.validValues&&E.validValues.indexOf(_)===-1?(console.error("".concat(m," ").concat(b," invalid value: must be among ").concat(JSON.stringify(E.validValues),', "').concat(_,'" provided')),!1):!(E.children&&!d(_,E.children,"[Validate ".concat(b,"]")))});return g||p.push.apply(p,i(Object.keys(f).map(function(b){var _=f[b];if(typeof _=="string"&&(_={type:_}),_.mandatory){var E=_.mandatory;if(typeof E=="function"&&(E=E(u)),E&&u[b]===void 0)return console.error("".concat(m,' Missing mandatory key "').concat(b,'"')),!1}return!0}))),p.reduce(function(b,_){return b&&_},!0)}function h(u){return d(u,a,"[Validate format]")}t.exports={validate:function(u,f){var m=c(u),g=h(f);return m&&g},validateFormat:h,validateInput:c,validateLanguage:function(u){return d(u,l,"[Validate language]")}}},{"./unformatting":9}]},{},[7])(7)})});var Dtt=xi((Mve,ktt)=>{"use strict";var Itt=Hst(),DTt=TypeError;ktt.exports=function(e,t){if(!delete e[t])throw new DTt("Cannot delete property "+Itt(t)+" of "+Itt(e))}});var Ott=xi(()=>{"use strict";var OTt=ga(),PTt=OO(),NTt=NO(),LTt=tN(),FTt=Dtt(),HTt=eN(),BTt=[].unshift(0)!==1,jTt=function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}},VTt=BTt||!jTt();OTt({target:"Array",proto:!0,arity:1,forced:VTt},{unshift:function(t){var r=PTt(this),i=NTt(r),n=arguments.length;if(n){HTt(i+n);for(var o=i;o--;){var s=o+n;o in r?r[s]=r[o]:FTt(r,s)}for(var a=0;a<n;a++)r[a]=arguments[a]}return LTt(r,i+n)}})});var ent=xi((EDe,tnt)=>{"use strict";var m3t=kO(),p3t=RB(),g3t=xB();tnt.exports=function(e,t,r){m3t?p3t.f(e,t,g3t(0,r)):e[t]=r}});var int=xi(()=>{"use strict";var b3t=ga(),v3t=Zst(),y3t=ent();b3t({target:"Object",stat:!0},{fromEntries:function(t){var r={};return v3t(t,function(i,n){y3t(r,i,n)},{AS_ENTRIES:!0}),r}})});var oot=xi((not,$9)=>{"use strict";(function(e){typeof not=="object"&&typeof $9<"u"?$9.exports=e():typeof define=="function"&&define.amd?define([],e):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).ExcelJS=e()})(function(){return function e(t,r,i){function n(a,l){if(!r[a]){if(!t[a]){var c=typeof bc=="function"&&bc;if(!l&&c)return c(a,!0);if(o)return o(a,!0);var d=new Error("Cannot find module '"+a+"'");throw d.code="MODULE_NOT_FOUND",d}var h=r[a]={exports:{}};t[a][0].call(h.exports,function(u){return n(t[a][1][u]||u)},h,h.exports,e,t,r,i)}return r[a].exports}for(var o=typeof bc=="function"&&bc,s=0;s<i.length;s++)n(i[s]);return n}({1:[function(e,t,r){"use strict";let i=e("fs"),n=e("fast-csv"),o=e("dayjs/plugin/customParseFormat"),s=e("dayjs/plugin/utc"),a=e("dayjs").extend(o).extend(s),l=e("../utils/stream-buf"),{fs:{exists:c}}=e("../utils/utils"),d={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};t.exports=class{constructor(h){this.workbook=h,this.worksheet=null}readFile(h,u){return wr(this,null,function*(){if(u=u||{},!(yield c(h)))throw new Error("File not found: "+h);let f=i.createReadStream(h),m=yield this.read(f,u);return f.close(),m})}read(h,u){return u=u||{},new Promise((f,m)=>{let g=this.workbook.addWorksheet(u.sheetName),p=u.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],b=u.map||function(E){if(E==="")return null;let O=Number(E);if(!Number.isNaN(O)&&O!==1/0)return O;let V=p.reduce((F,L)=>{if(F)return F;let q=a(E,L,!0);return q.isValid()?q:null},null);if(V)return new Date(V.valueOf());let H=d[E];return H!==void 0?H:E},_=n.parse(u.parserOptions).on("data",E=>{g.addRow(E.map(b))}).on("end",()=>{_.emit("worksheet",g)});_.on("worksheet",f).on("error",m),h.pipe(_)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(h,u){return new Promise((f,m)=>{u=u||{};let g=this.workbook.getWorksheet(u.sheetName||u.sheetId),p=n.format(u.formatterOptions);h.on("finish",()=>{f()}),p.on("error",m),p.pipe(h);let{dateFormat:b,dateUTC:_}=u,E=u.map||(H=>{if(H){if(H.text||H.hyperlink)return H.hyperlink||H.text||"";if(H.formula||H.result)return H.result||"";if(H instanceof Date)return b?_?a.utc(H).format(b):a(H).format(b):_?a.utc(H).format():a(H).format();if(H.error)return H.error;if(typeof H=="object")return JSON.stringify(H)}return H}),O=u.includeEmptyRows===void 0||u.includeEmptyRows,V=1;g&&g.eachRow((H,F)=>{if(O)for(;V++<F-1;)p.write([]);let{values:L}=H;L.shift(),p.write(L.map(E)),V=F}),p.end()})}writeFile(h,u){let f={encoding:(u=u||{}).encoding||"utf8"},m=i.createWriteStream(h,f);return this.write(m,u)}writeBuffer(h){return wr(this,null,function*(){let u=new l;return yield this.write(u,h),u.read()})}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(e,t,r){"use strict";let i=e("../utils/col-cache");class n{constructor(s,a){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=s,a)if(typeof a=="string"){let c=i.decodeAddress(a);this.nativeCol=c.col+l,this.nativeColOff=0,this.nativeRow=c.row+l,this.nativeRowOff=0}else a.nativeCol!==void 0?(this.nativeCol=a.nativeCol||0,this.nativeColOff=a.nativeColOff||0,this.nativeRow=a.nativeRow||0,this.nativeRowOff=a.nativeRowOff||0):a.col!==void 0?(this.col=a.col+l,this.row=a.row+l):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(s){return s instanceof n||s==null?s:new n(s)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(s){this.nativeCol=Math.floor(s),this.nativeColOff=Math.floor((s-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(s){this.nativeRow=Math.floor(s),this.nativeRowOff=Math.floor((s-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(s){this.nativeCol=s.nativeCol,this.nativeColOff=s.nativeColOff,this.nativeRow=s.nativeRow,this.nativeRowOff=s.nativeRowOff}}t.exports=n},{"../utils/col-cache":19}],3:[function(e,t,r){"use strict";let i=e("../utils/col-cache"),n=e("../utils/under-dash"),o=e("./enums"),{slideFormula:s}=e("../utils/shared-formula"),a=e("./note");class l{constructor(h,u,f){if(!h||!u)throw new Error("A Cell needs a Row");this._row=h,this._column=u,i.validateAddress(f),this._address=f,this._value=c.create(l.Types.Null,this),this.style=this._mergeStyle(h.style,u.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(h){this.style.numFmt=h}get font(){return this.style.font}set font(h){this.style.font=h}get alignment(){return this.style.alignment}set alignment(h){this.style.alignment=h}get border(){return this.style.border}set border(h){this.style.border=h}get fill(){return this.style.fill}set fill(h){this.style.fill=h}get protection(){return this.style.protection}set protection(h){this.style.protection=h}_mergeStyle(h,u,f){let m=h&&h.numFmt||u&&u.numFmt;m&&(f.numFmt=m);let g=h&&h.font||u&&u.font;g&&(f.font=g);let p=h&&h.alignment||u&&u.alignment;p&&(f.alignment=p);let b=h&&h.border||u&&u.border;b&&(f.border=b);let _=h&&h.fill||u&&u.fill;_&&(f.fill=_);let E=h&&h.protection||u&&u.protection;return E&&(f.protection=E),f}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===l.Types.Merge}merge(h,u){this._value.release(),this._value=c.create(l.Types.Merge,this,h),u||(this.style=h.style)}unmerge(){this.type===l.Types.Merge&&(this._value.release(),this._value=c.create(l.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(h){return this._value.type===l.Types.Merge&&this._value.isMergedTo(h)}get master(){return this.type===l.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===l.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(h){this.type!==l.Types.Merge?(this._value.release(),this._value=c.create(c.getType(h),this,h)):this._value.master.value=h}get note(){return this._comment&&this._comment.note}set note(h){this._comment=new a(h)}get text(){return this._value.toString()}get html(){return n.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(h){this.type===l.Types.String&&(this._value=c.create(l.Types.Hyperlink,this,{text:this._value.value,hyperlink:h}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){let{worksheet:h}=this._row;return{sheetName:h.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(h){this.names=[h]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(h){let{definedNames:u}=this.workbook;u.removeAllNames(this.fullAddress),h.forEach(f=>{u.addEx(this.fullAddress,f)})}addName(h){this.workbook.definedNames.addEx(this.fullAddress,h)}removeName(h){this.workbook.definedNames.removeEx(this.fullAddress,h)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(h){this._dataValidations.add(this.address,h)}get model(){let{model:h}=this._value;return h.style=this.style,this._comment&&(h.comment=this._comment.model),h}set model(h){if(this._value.release(),this._value=c.create(h.type,this),this._value.model=h,h.comment)switch(h.comment.type){case"note":this._comment=a.fromModel(h.comment)}h.style?this.style=h.style:this.style={}}}l.Types=o.ValueType;let c={getType:d=>d==null?l.Types.Null:d instanceof String||typeof d=="string"?l.Types.String:typeof d=="number"?l.Types.Number:typeof d=="boolean"?l.Types.Boolean:d instanceof Date?l.Types.Date:d.text&&d.hyperlink?l.Types.Hyperlink:d.formula||d.sharedFormula?l.Types.Formula:d.richText?l.Types.RichText:d.sharedString?l.Types.SharedString:d.error?l.Types.Error:l.Types.JSON,types:[{t:l.Types.Null,f:class{constructor(d){this.model={address:d.address,type:l.Types.Null}}get value(){return null}set value(d){}get type(){return l.Types.Null}get effectiveType(){return l.Types.Null}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return""}release(){}toString(){return""}}},{t:l.Types.Number,f:class{constructor(d,h){this.model={address:d.address,type:l.Types.Number,value:h}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return l.Types.Number}get effectiveType(){return l.Types.Number}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:l.Types.String,f:class{constructor(d,h){this.model={address:d.address,type:l.Types.String,value:h}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return l.Types.String}get effectiveType(){return l.Types.String}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:l.Types.Date,f:class{constructor(d,h){this.model={address:d.address,type:l.Types.Date,value:h}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return l.Types.Date}get effectiveType(){return l.Types.Date}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:l.Types.Hyperlink,f:class{constructor(d,h){this.model={address:d.address,type:l.Types.Hyperlink,text:h?h.text:void 0,hyperlink:h?h.hyperlink:void 0},h&&h.tooltip&&(this.model.tooltip=h.tooltip)}get value(){let d={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(d.tooltip=this.model.tooltip),d}set value(d){this.model={text:d.text,hyperlink:d.hyperlink},d.tooltip&&(this.model.tooltip=d.tooltip)}get text(){return this.model.text}set text(d){this.model.text=d}get hyperlink(){return this.model.hyperlink}set hyperlink(d){this.model.hyperlink=d}get type(){return l.Types.Hyperlink}get effectiveType(){return l.Types.Hyperlink}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:l.Types.Formula,f:class{constructor(d,h){this.cell=d,this.model={address:d.address,type:l.Types.Formula,shareType:h?h.shareType:void 0,ref:h?h.ref:void 0,formula:h?h.formula:void 0,sharedFormula:h?h.sharedFormula:void 0,result:h?h.result:void 0}}_copyModel(d){let h={},u=f=>{let m=d[f];m&&(h[f]=m)};return u("formula"),u("result"),u("ref"),u("shareType"),u("sharedFormula"),h}get value(){return this._copyModel(this.model)}set value(d){this.model=this._copyModel(d)}validate(d){switch(c.getType(d)){case l.Types.Null:case l.Types.String:case l.Types.Number:case l.Types.Date:break;case l.Types.Hyperlink:case l.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(d){this.model.formula=d}get formulaType(){return this.model.formula?o.FormulaType.Master:this.model.sharedFormula?o.FormulaType.Shared:o.FormulaType.None}get result(){return this.model.result}set result(d){this.model.result=d}get type(){return l.Types.Formula}get effectiveType(){let d=this.model.result;return d==null?o.ValueType.Null:d instanceof String||typeof d=="string"?o.ValueType.String:typeof d=="number"?o.ValueType.Number:d instanceof Date?o.ValueType.Date:d.text&&d.hyperlink?o.ValueType.Hyperlink:d.formula?o.ValueType.Formula:o.ValueType.Null}get address(){return this.model.address}set address(d){this.model.address=d}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){let{worksheet:d}=this.cell,h=d.findCell(this.model.sharedFormula);this._translatedFormula=h&&s(h.formula,h.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:l.Types.Merge,f:class{constructor(d,h){this.model={address:d.address,type:l.Types.Merge,master:h?h.address:void 0},this._master=h,h&&h.addMergeRef()}get value(){return this._master.value}set value(d){d instanceof l?(this._master&&this._master.releaseMergeRef(),d.addMergeRef(),this._master=d):this._master.value=d}isMergedTo(d){return d===this._master}get master(){return this._master}get type(){return l.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:l.Types.JSON,f:class{constructor(d,h){this.model={address:d.address,type:l.Types.String,value:JSON.stringify(h),rawValue:h}}get value(){return this.model.rawValue}set value(d){this.model.rawValue=d,this.model.value=JSON.stringify(d)}get type(){return l.Types.String}get effectiveType(){return l.Types.String}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:l.Types.SharedString,f:class{constructor(d,h){this.model={address:d.address,type:l.Types.SharedString,value:h}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return l.Types.SharedString}get effectiveType(){return l.Types.SharedString}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:l.Types.RichText,f:class{constructor(d,h){this.model={address:d.address,type:l.Types.String,value:h}}get value(){return this.model.value}set value(d){this.model.value=d}toString(){return this.model.value.richText.map(d=>d.text).join("")}get type(){return l.Types.RichText}get effectiveType(){return l.Types.RichText}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:l.Types.Boolean,f:class{constructor(d,h){this.model={address:d.address,type:l.Types.Boolean,value:h}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return l.Types.Boolean}get effectiveType(){return l.Types.Boolean}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:l.Types.Error,f:class{constructor(d,h){this.model={address:d.address,type:l.Types.Error,value:h}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return l.Types.Error}get effectiveType(){return l.Types.Error}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((d,h)=>(d[h.t]=h.f,d),[]),create(d,h,u){let f=this.types[d];if(!f)throw new Error("Could not create Value of type "+d);return new f(h,u)}};t.exports=l},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(e,t,r){"use strict";let i=e("../utils/under-dash"),n=e("./enums"),o=e("../utils/col-cache");class s{constructor(l,c,d){this._worksheet=l,this._number=c,d!==!1&&(this.defn=d)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return o.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(l){l?(this.key=l.key,this.width=l.width!==void 0?l.width:9,this.outlineLevel=l.outlineLevel,l.style?this.style=l.style:this.style={},this.header=l.header,this._hidden=!!l.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(l){l!==void 0?(this._header=l,this.headers.forEach((c,d)=>{this._worksheet.getCell(d+1,this.number).value=c})):this._header=void 0}get key(){return this._key}set key(l){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=l,l&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(l){this._hidden=l}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(l){this._outlineLevel=l}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(l){return this.width===l.width&&this.hidden===l.hidden&&this.outlineLevel===l.outlineLevel&&i.isEqual(this.style,l.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;let l=this.style;return!l||!(l.font||l.numFmt||l.alignment||l.border||l.fill||l.protection)}get headerCount(){return this.headers.length}eachCell(l,c){let d=this.number;c||(c=l,l=null),this._worksheet.eachRow(l,(h,u)=>{c(h.getCell(d),u)})}get values(){let l=[];return this.eachCell((c,d)=>{c&&c.type!==n.ValueType.Null&&(l[d]=c.value)}),l}set values(l){if(!l)return;let c=this.number,d=0;l.hasOwnProperty("0")&&(d=1),l.forEach((h,u)=>{this._worksheet.getCell(u+d,c).value=h})}_applyStyle(l,c){return this.style[l]=c,this.eachCell(d=>{d[l]=c}),c}get numFmt(){return this.style.numFmt}set numFmt(l){this._applyStyle("numFmt",l)}get font(){return this.style.font}set font(l){this._applyStyle("font",l)}get alignment(){return this.style.alignment}set alignment(l){this._applyStyle("alignment",l)}get protection(){return this.style.protection}set protection(l){this._applyStyle("protection",l)}get border(){return this.style.border}set border(l){this._applyStyle("border",l)}get fill(){return this.style.fill}set fill(l){this._applyStyle("fill",l)}static toModel(l){let c=[],d=null;return l&&l.forEach((h,u)=>{h.isDefault?d&&(d=null):d&&h.equivalentTo(d)?d.max=u+1:(d={min:u+1,max:u+1,width:h.width!==void 0?h.width:9,style:h.style,isCustomWidth:h.isCustomWidth,hidden:h.hidden,outlineLevel:h.outlineLevel,collapsed:h.collapsed},c.push(d))}),c.length?c:void 0}static fromModel(l,c){let d=[],h=1,u=0;for(c=(c=c||[]).sort(function(f,m){return f.min-m.min});u<c.length;){let f=c[u++];for(;h<f.min;)d.push(new s(l,h++));for(;h<=f.max;)d.push(new s(l,h++,f))}return d.length?d:null}}t.exports=s},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(e,t,r){"use strict";t.exports=class{constructor(i){this.model=i||{}}add(i,n){return this.model[i]=n}find(i){return this.model[i]}remove(i){this.model[i]=void 0}}},{}],6:[function(e,t,r){"use strict";let i=e("../utils/under-dash"),n=e("../utils/col-cache"),o=e("../utils/cell-matrix"),s=e("./range"),a=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;t.exports=class{constructor(){this.matrixMap={}}getMatrix(l){return this.matrixMap[l]||(this.matrixMap[l]=new o)}add(l,c){let d=n.decodeEx(l);this.addEx(d,c)}addEx(l,c){let d=this.getMatrix(c);if(l.top)for(let h=l.left;h<=l.right;h++)for(let u=l.top;u<=l.bottom;u++){let f={sheetName:l.sheetName,address:n.n2l(h)+u,row:u,col:h};d.addCellEx(f)}else d.addCellEx(l)}remove(l,c){let d=n.decodeEx(l);this.removeEx(d,c)}removeEx(l,c){this.getMatrix(c).removeCellEx(l)}removeAllNames(l){i.each(this.matrixMap,c=>{c.removeCellEx(l)})}forEach(l){i.each(this.matrixMap,(c,d)=>{c.forEach(h=>{l(d,h)})})}getNames(l){return this.getNamesEx(n.decodeEx(l))}getNamesEx(l){return i.map(this.matrixMap,(c,d)=>c.findCellEx(l)&&d).filter(Boolean)}_explore(l,c){c.mark=!1;let{sheetName:d}=c,h=new s(c.row,c.col,c.row,c.col,d),u,f;function m(p,b){let _=l.findCellAt(d,p,c.col);return!(!_||!_.mark)&&(h[b]=p,_.mark=!1,!0)}for(f=c.row-1;m(f,"top");f--);for(f=c.row+1;m(f,"bottom");f++);function g(p,b){let _=[];for(f=h.top;f<=h.bottom;f++){let E=l.findCellAt(d,f,p);if(!E||!E.mark)return!1;_.push(E)}h[b]=p;for(let E=0;E<_.length;E++)_[E].mark=!1;return!0}for(u=c.col-1;g(u,"left");u--);for(u=c.col+1;g(u,"right");u++);return h}getRanges(l,c){return(c=c||this.matrixMap[l])?(c.forEach(d=>{d.mark=!0}),{name:l,ranges:c.map(d=>d.mark&&this._explore(c,d)).filter(Boolean).map(d=>d.$shortRange)}):{name:l,ranges:[]}}normaliseMatrix(l,c){l.forEachInSheet(c,(d,h,u)=>{d&&(d.row===h&&d.col===u||(d.row=h,d.col=u,d.address=n.n2l(u)+h))})}spliceRows(l,c,d,h){i.each(this.matrixMap,u=>{u.spliceRows(l,c,d,h),this.normaliseMatrix(u,l)})}spliceColumns(l,c,d,h){i.each(this.matrixMap,u=>{u.spliceColumns(l,c,d,h),this.normaliseMatrix(u,l)})}get model(){return i.map(this.matrixMap,(l,c)=>this.getRanges(c,l)).filter(l=>l.ranges.length)}set model(l){let c=this.matrixMap={};l.forEach(d=>{let h=c[d.name]=new o;d.ranges.forEach(u=>{a.test(u.split("!").pop()||"")&&h.addCell(u)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(e,t,r){"use strict";t.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(e,t,r){"use strict";let i=e("../utils/col-cache"),n=e("./anchor");t.exports=class{constructor(o,s){this.worksheet=o,this.model=s}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(o){let{type:s,imageId:a,range:l,hyperlinks:c}=o;if(this.type=s,this.imageId=a,s==="image")if(typeof l=="string"){let d=i.decode(l);this.range={tl:new n(this.worksheet,{col:d.left,row:d.top},-1),br:new n(this.worksheet,{col:d.right,row:d.bottom},0),editAs:"oneCell"}}else this.range={tl:new n(this.worksheet,l.tl,0),br:l.br&&new n(this.worksheet,l.br,0),ext:l.ext,editAs:l.editAs,hyperlinks:c||l.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(e,t,r){"use strict";let i=e("../utils/under-dash");class n{constructor(s){this.note=s}get model(){let s=null;switch(typeof this.note){case"string":s={type:"note",note:{texts:[{text:this.note}]}};break;default:s={type:"note",note:this.note}}return i.deepMerge({},n.DEFAULT_CONFIGS,s)}set model(s){let{note:a}=s,{texts:l}=a;l.length===1&&Object.keys(l[0]).length===1?this.note=l[0].text:this.note=a}static fromModel(s){let a=new n;return a.model=s,a}}n.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},t.exports=n},{"../utils/under-dash":26}],10:[function(e,t,r){"use strict";let i=e("../utils/col-cache");class n{constructor(){this.decode(arguments)}setTLBR(s,a,l,c,d){if(arguments.length<4){let h=i.decodeAddress(s),u=i.decodeAddress(a);this.model={top:Math.min(h.row,u.row),left:Math.min(h.col,u.col),bottom:Math.max(h.row,u.row),right:Math.max(h.col,u.col),sheetName:l},this.setTLBR(h.row,h.col,u.row,u.col,d)}else this.model={top:Math.min(s,l),left:Math.min(a,c),bottom:Math.max(s,l),right:Math.max(a,c),sheetName:d}}decode(s){switch(s.length){case 5:this.setTLBR(s[0],s[1],s[2],s[3],s[4]);break;case 4:this.setTLBR(s[0],s[1],s[2],s[3]);break;case 3:this.setTLBR(s[0],s[1],s[2]);break;case 2:this.setTLBR(s[0],s[1]);break;case 1:{let a=s[0];if(a instanceof n)this.model={top:a.model.top,left:a.model.left,bottom:a.model.bottom,right:a.model.right,sheetName:a.sheetName};else if(a instanceof Array)this.decode(a);else if(a.top&&a.left&&a.bottom&&a.right)this.model={top:a.top,left:a.left,bottom:a.bottom,right:a.right,sheetName:a.sheetName};else{let l=i.decodeEx(a);l.top?this.model={top:l.top,left:l.left,bottom:l.bottom,right:l.right,sheetName:l.sheetName}:this.model={top:l.row,left:l.col,bottom:l.row,right:l.col,sheetName:l.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+s.length)}}get top(){return this.model.top||1}set top(s){this.model.top=s}get left(){return this.model.left||1}set left(s){this.model.left=s}get bottom(){return this.model.bottom||1}set bottom(s){this.model.bottom=s}get right(){return this.model.right||1}set right(s){this.model.right=s}get sheetName(){return this.model.sheetName}set sheetName(s){this.model.sheetName=s}get _serialisedSheetName(){let{sheetName:s}=this.model;return s?/^[a-zA-Z0-9]*$/.test(s)?s+"!":`'${s}'!`:""}expand(s,a,l,c){(!this.model.top||s<this.top)&&(this.top=s),(!this.model.left||a<this.left)&&(this.left=a),(!this.model.bottom||l>this.bottom)&&(this.bottom=l),(!this.model.right||c>this.right)&&(this.right=c)}expandRow(s){if(s){let{dimensions:a,number:l}=s;a&&this.expand(l,a.min,l,a.max)}}expandToAddress(s){let a=i.decodeEx(s);this.expand(a.row,a.col,a.row,a.col)}get tl(){return i.n2l(this.left)+this.top}get $t$l(){return`$${i.n2l(this.left)}$${this.top}`}get br(){return i.n2l(this.right)+this.bottom}get $b$r(){return`$${i.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(s){return(!s.sheetName||!this.sheetName||s.sheetName===this.sheetName)&&!(s.bottom<this.top)&&!(s.top>this.bottom)&&!(s.right<this.left)&&!(s.left>this.right)}contains(s){let a=i.decodeEx(s);return this.containsEx(a)}containsEx(s){return(!s.sheetName||!this.sheetName||s.sheetName===this.sheetName)&&s.row>=this.top&&s.row<=this.bottom&&s.col>=this.left&&s.col<=this.right}forEachAddress(s){for(let a=this.left;a<=this.right;a++)for(let l=this.top;l<=this.bottom;l++)s(i.encodeAddress(l,a),l,a)}}t.exports=n},{"../utils/col-cache":19}],11:[function(e,t,r){"use strict";let i=e("../utils/under-dash"),n=e("./enums"),o=e("../utils/col-cache"),s=e("./cell");t.exports=class{constructor(a,l){this._worksheet=a,this._number=l,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(a){return this._cells[a-1]}getCellEx(a){let l=this._cells[a.col-1];if(!l){let c=this._worksheet.getColumn(a.col);l=new s(this,c,a.address),this._cells[a.col-1]=l}return l}getCell(a){if(typeof a=="string"){let l=this._worksheet.getColumnKey(a);a=l?l.number:o.l2n(a)}return this._cells[a-1]||this.getCellEx({address:o.encodeAddress(this._number,a),row:this._number,col:a})}splice(a,l){let c=a+l;for(var d=arguments.length,h=new Array(d>2?d-2:0),u=2;u<d;u++)h[u-2]=arguments[u];let f=h.length-l,m=this._cells.length,g,p,b;if(f<0)for(g=a+h.length;g<=m;g++)b=this._cells[g-1],p=this._cells[g-f-1],p?(b=this.getCell(g),b.value=p.value,b.style=p.style,b._comment=p._comment):b&&(b.value=null,b.style={},b._comment=void 0);else if(f>0)for(g=m;g>=c;g--)p=this._cells[g-1],p?(b=this.getCell(g+f),b.value=p.value,b.style=p.style,b._comment=p._comment):this._cells[g+f-1]=void 0;for(g=0;g<h.length;g++)b=this.getCell(a+g),b.value=h[g],b.style={},b._comment=void 0}eachCell(a,l){if(l||(l=a,a=null),a&&a.includeEmpty){let c=this._cells.length;for(let d=1;d<=c;d++)l(this.getCell(d),d)}else this._cells.forEach((c,d)=>{c&&c.type!==n.ValueType.Null&&l(c,d+1)})}addPageBreak(a,l){let c=this._worksheet,d=Math.max(0,a-1)||0,h=Math.max(0,l-1)||16838,u={id:this._number,max:h,man:1};d&&(u.min=d),c.rowBreaks.push(u)}get values(){let a=[];return this._cells.forEach(l=>{l&&l.type!==n.ValueType.Null&&(a[l.col]=l.value)}),a}set values(a){if(this._cells=[],a)if(a instanceof Array){let l=0;a.hasOwnProperty("0")&&(l=1),a.forEach((c,d)=>{c!==void 0&&(this.getCellEx({address:o.encodeAddress(this._number,d+l),row:this._number,col:d+l}).value=c)})}else this._worksheet.eachColumnKey((l,c)=>{a[c]!==void 0&&(this.getCellEx({address:o.encodeAddress(this._number,l.number),row:this._number,col:l.number}).value=a[c])})}get hasValues(){return i.some(this._cells,a=>a&&a.type!==n.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let a=0;return this.eachCell(()=>{a++}),a}get dimensions(){let a=0,l=0;return this._cells.forEach(c=>{c&&c.type!==n.ValueType.Null&&((!a||a>c.col)&&(a=c.col),l<c.col&&(l=c.col))}),a>0?{min:a,max:l}:null}_applyStyle(a,l){return this.style[a]=l,this._cells.forEach(c=>{c&&(c[a]=l)}),l}get numFmt(){return this.style.numFmt}set numFmt(a){this._applyStyle("numFmt",a)}get font(){return this.style.font}set font(a){this._applyStyle("font",a)}get alignment(){return this.style.alignment}set alignment(a){this._applyStyle("alignment",a)}get protection(){return this.style.protection}set protection(a){this._applyStyle("protection",a)}get border(){return this.style.border}set border(a){this._applyStyle("border",a)}get fill(){return this.style.fill}set fill(a){this._applyStyle("fill",a)}get hidden(){return!!this._hidden}set hidden(a){this._hidden=a}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(a){this._outlineLevel=a}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){let a=[],l=0,c=0;return this._cells.forEach(d=>{if(d){let h=d.model;h&&((!l||l>d.col)&&(l=d.col),c<d.col&&(c=d.col),a.push(h))}}),this.height||a.length?{cells:a,number:this.number,min:l,max:c,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(a){if(a.number!==this._number)throw new Error("Invalid row number in model");let l;this._cells=[],a.cells.forEach(c=>{switch(c.type){case s.Types.Merge:break;default:{let d;if(c.address)d=o.decodeAddress(c.address);else if(l){let{row:h}=l,u=l.col+1;d={row:h,col:u,address:o.encodeAddress(h,u),$col$row:`$${o.n2l(u)}$${h}`}}l=d,this.getCellEx(d).model=c;break}}}),a.height?this.height=a.height:delete this.height,this.hidden=a.hidden,this.outlineLevel=a.outlineLevel||0,this.style=a.style&&JSON.parse(JSON.stringify(a.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(e,t,r){"use strict";let i=e("../utils/col-cache");class n{constructor(s,a,l){this.table=s,this.column=a,this.index=l}_set(s,a){this.table.cacheState(),this.column[s]=a}get name(){return this.column.name}set name(s){this._set("name",s)}get filterButton(){return this.column.filterButton}set filterButton(s){this.column.filterButton=s}get style(){return this.column.style}set style(s){this.column.style=s}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(s){this._set("totalsRowLabel",s)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(s){this._set("totalsRowFunction",s)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(s){this._set("totalsRowResult",s)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(s){this._set("totalsRowFormula",s)}}t.exports=class{constructor(o,s){this.worksheet=o,s&&(this.table=s,this.validate(),this.store())}getFormula(o){switch(o.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${o.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${o.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${o.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${o.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${o.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${o.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${o.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${o.name}])`;case"custom":return o.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+o.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){let{table:o}=this,s=(f,m,g)=>{f[m]===void 0&&(f[m]=g)};s(o,"headerRow",!0),s(o,"totalsRow",!1),s(o,"style",{}),s(o.style,"theme","TableStyleMedium2"),s(o.style,"showFirstColumn",!1),s(o.style,"showLastColumn",!1),s(o.style,"showRowStripes",!1),s(o.style,"showColumnStripes",!1);let a=(f,m)=>{if(!f)throw new Error(m)};a(o.ref,"Table must have ref"),a(o.columns,"Table must have column definitions"),a(o.rows,"Table must have row definitions"),o.tl=i.decodeAddress(o.ref);let{row:l,col:c}=o.tl;a(l>0,"Table must be on valid row"),a(c>0,"Table must be on valid col");let{width:d,filterHeight:h,tableHeight:u}=this;o.autoFilterRef=i.encode(l,c,l+h-1,c+d-1),o.tableRef=i.encode(l,c,l+u-1,c+d-1),o.columns.forEach((f,m)=>{a(f.name,`Column ${m} must have a name`),m===0?s(f,"totalsRowLabel","Total"):(s(f,"totalsRowFunction","none"),f.totalsRowFormula=this.getFormula(f))})}store(){let o=(h,u)=>{u&&Object.keys(u).forEach(f=>{h[f]=u[f]})},{worksheet:s,table:a}=this,{row:l,col:c}=a.tl,d=0;if(a.headerRow){let h=s.getRow(l+d++);a.columns.forEach((u,f)=>{let{style:m,name:g}=u,p=h.getCell(c+f);p.value=g,o(p,m)})}if(a.rows.forEach(h=>{let u=s.getRow(l+d++);h.forEach((f,m)=>{let g=u.getCell(c+m);g.value=f,o(g,a.columns[m].style)})}),a.totalsRow){let h=s.getRow(l+d++);a.columns.forEach((u,f)=>{let m=h.getCell(c+f);if(f===0)m.value=u.totalsRowLabel;else{let g=this.getFormula(u);m.value=g?{formula:u.totalsRowFormula,result:u.totalsRowResult}:null}o(m,u.style)})}}load(o){let{table:s}=this,{row:a,col:l}=s.tl,c=0;if(s.headerRow){let d=o.getRow(a+c++);s.columns.forEach((h,u)=>{d.getCell(l+u).value=h.name})}if(s.rows.forEach(d=>{let h=o.getRow(a+c++);d.forEach((u,f)=>{h.getCell(l+f).value=u})}),s.totalsRow){let d=o.getRow(a+c++);s.columns.forEach((h,u)=>{let f=d.getCell(l+u);u===0?f.value=h.totalsRowLabel:this.getFormula(h)&&(f.value={formula:h.totalsRowFormula,result:h.totalsRowResult})})}}get model(){return this.table}set model(o){this.table=o}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();let o=i.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let s=0;s<this._cache.tableHeight;s++){let a=this.worksheet.getRow(o.row+s);for(let l=0;l<this._cache.width;l++)a.getCell(o.col+l).value=null}else{for(let s=this.tableHeight;s<this._cache.tableHeight;s++){let a=this.worksheet.getRow(o.row+s);for(let l=0;l<this._cache.width;l++)a.getCell(o.col+l).value=null}for(let s=0;s<this.tableHeight;s++){let a=this.worksheet.getRow(o.row+s);for(let l=this.width;l<this._cache.width;l++)a.getCell(o.col+l).value=null}}this.store()}addRow(o,s){this.cacheState(),s===void 0?this.table.rows.push(o):this.table.rows.splice(s,0,o)}removeRows(o){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(o,s)}getColumn(o){let s=this.table.columns[o];return new n(this,s,o)}addColumn(o,s,a){this.cacheState(),a===void 0?(this.table.columns.push(o),this.table.rows.forEach((l,c)=>{l.push(s[c])})):(this.table.columns.splice(a,0,o),this.table.rows.forEach((l,c)=>{l.splice(a,0,s[c])}))}removeColumns(o){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(o,s),this.table.rows.forEach(a=>{a.splice(o,s)})}_assign(o,s,a){this.cacheState(),o[s]=a}get ref(){return this.table.ref}set ref(o){this._assign(this.table,"ref",o)}get name(){return this.table.name}set name(o){this.table.name=o}get displayName(){return this.table.displyName||this.table.name}set displayNamename(o){this.table.displayName=o}get headerRow(){return this.table.headerRow}set headerRow(o){this._assign(this.table,"headerRow",o)}get totalsRow(){return this.table.totalsRow}set totalsRow(o){this._assign(this.table,"totalsRow",o)}get theme(){return this.table.style.name}set theme(o){this.table.style.name=o}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(o){this.table.style.showFirstColumn=o}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(o){this.table.style.showLastColumn=o}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(o){this.table.style.showRowStripes=o}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(o){this.table.style.showColumnStripes=o}}},{"../utils/col-cache":19}],13:[function(e,t,r){"use strict";let i=e("./worksheet"),n=e("./defined-names"),o=e("../xlsx/xlsx"),s=e("../csv/csv");t.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new n}get xlsx(){return this._xlsx||(this._xlsx=new o(this)),this._xlsx}get csv(){return this._csv||(this._csv=new s(this)),this._csv}get nextId(){for(let a=1;a<this._worksheets.length;a++)if(!this._worksheets[a])return a;return this._worksheets.length||1}addWorksheet(a,l){let c=this.nextId;l&&(typeof l=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),l={properties:{tabColor:{argb:l}}}):(l.argb||l.theme||l.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),l={properties:{tabColor:l}}));let d=this._worksheets.reduce((f,m)=>(m&&m.orderNo)>f?m.orderNo:f,0),h=Object.assign({},l,{id:c,name:a,orderNo:d+1,workbook:this}),u=new i(h);return this._worksheets[c]=u,u}removeWorksheetEx(a){delete this._worksheets[a.id]}removeWorksheet(a){let l=this.getWorksheet(a);l&&l.destroy()}getWorksheet(a){return a===void 0?this._worksheets.find(Boolean):typeof a=="number"?this._worksheets[a]:typeof a=="string"?this._worksheets.find(l=>l&&l.name===a):void 0}get worksheets(){return this._worksheets.slice(1).sort((a,l)=>a.orderNo-l.orderNo).filter(Boolean)}eachSheet(a){this.worksheets.forEach(l=>{a(l,l.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(a){let l=this.media.length;return this.media.push(Object.assign({},a,{type:"image"})),l}getImage(a){return this.media[a]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(a=>a.model),sheets:this.worksheets.map(a=>a.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(a){this.creator=a.creator,this.lastModifiedBy=a.lastModifiedBy,this.lastPrinted=a.lastPrinted,this.created=a.created,this.modified=a.modified,this.company=a.company,this.manager=a.manager,this.title=a.title,this.subject=a.subject,this.keywords=a.keywords,this.category=a.category,this.description=a.description,this.language=a.language,this.revision=a.revision,this.contentStatus=a.contentStatus,this.properties=a.properties,this.calcProperties=a.calcProperties,this._worksheets=[],a.worksheets.forEach(l=>{let{id:c,name:d,state:h}=l,u=a.sheets&&a.sheets.findIndex(f=>f.id===c);(this._worksheets[c]=new i({id:c,name:d,orderNo:u,state:h,workbook:this})).model=l}),this._definedNames.model=a.definedNames,this.views=a.views,this._themes=a.themes,this.media=a.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(e,t,r){"use strict";let i=e("../utils/under-dash"),n=e("../utils/col-cache"),o=e("./range"),s=e("./row"),a=e("./column"),l=e("./enums"),c=e("./image"),d=e("./table"),h=e("./data-validations"),u=e("../utils/encryptor"),{copyStyle:f}=e("../utils/copy-style");t.exports=class{constructor(m){m=m||{},this._workbook=m.workbook,this.id=m.id,this.orderNo=m.orderNo,this.name=m.name,this.state=m.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},m.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!m.pageSetup||!m.pageSetup.fitToWidth&&!m.pageSetup.fitToHeight||m.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},m.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},m.headerFooter),this.dataValidations=new h,this.views=m.views||[],this.autoFilter=m.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(m){if(m===void 0&&(m="sheet"+this.id),this._name!==m){if(typeof m!="string")throw new Error("The name has to be a string.");if(m==="")throw new Error("The name can't be empty.");if(m==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(m))throw new Error(`Worksheet name ${m} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(m))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+m);if(m&&m.length>31&&(console.warn(`Worksheet name ${m} exceeds 31 chars. This will be truncated`),m=m.substring(0,31)),this._workbook._worksheets.find(g=>g&&g.name.toLowerCase()===m.toLowerCase()))throw new Error("Worksheet name already exists: "+m);this._name=m}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){let m=new o;return this._rows.forEach(g=>{if(g){let p=g.dimensions;p&&m.expand(g.number,p.min,g.number,p.max)}}),m}get columns(){return this._columns}set columns(m){this._headerRowCount=m.reduce((b,_)=>{let E=(_.header?1:_.headers&&_.headers.length)||0;return Math.max(b,E)},0);let g=1,p=this._columns=[];m.forEach(b=>{let _=new a(this,g++,!1);p.push(_),_.defn=b})}getColumnKey(m){return this._keys[m]}setColumnKey(m,g){this._keys[m]=g}deleteColumnKey(m){delete this._keys[m]}eachColumnKey(m){i.each(this._keys,m)}getColumn(m){if(typeof m=="string"){let g=this._keys[m];if(g)return g;m=n.l2n(m)}if(this._columns||(this._columns=[]),m>this._columns.length){let g=this._columns.length+1;for(;g<=m;)this._columns.push(new a(this,g++))}return this._columns[m-1]}spliceColumns(m,g){let p=this._rows.length;for(var b=arguments.length,_=new Array(b>2?b-2:0),E=2;E<b;E++)_[E-2]=arguments[E];if(_.length>0)for(let F=0;F<p;F++){let L=[m,g];_.forEach(W=>{L.push(W[F]||null)});let q=this.getRow(F+1);q.splice.apply(q,L)}else this._rows.forEach(F=>{F&&F.splice(m,g)});let O=_.length-g,V=m+g,H=this._columns.length;if(O<0)for(let F=m+_.length;F<=H;F++)this.getColumn(F).defn=this.getColumn(F-O).defn;else if(O>0)for(let F=H;F>=V;F--)this.getColumn(F+O).defn=this.getColumn(F).defn;for(let F=m;F<m+_.length;F++)this.getColumn(F).defn=null;this.workbook.definedNames.spliceColumns(this.name,m,g,_.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let m=0;return this.eachRow(g=>{m=Math.max(m,g.cellCount)}),m}get actualColumnCount(){let m=[],g=0;return this.eachRow(p=>{p.eachCell(b=>{let{col:_}=b;m[_]||(m[_]=!0,g++)})}),g}_commitRow(){}get _lastRowNumber(){let m=this._rows,g=m.length;for(;g>0&&m[g-1]===void 0;)g--;return g}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(m){return this._rows[m-1]}findRows(m,g){return this._rows.slice(m-1,m-1+g)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let m=0;return this.eachRow(()=>{m++}),m}getRow(m){let g=this._rows[m-1];return g||(g=this._rows[m-1]=new s(this,m)),g}getRows(m,g){if(g<1)return;let p=[];for(let b=m;b<m+g;b++)p.push(this.getRow(b));return p}addRow(m){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n",p=this._nextRow,b=this.getRow(p);return b.values=m,this._setStyleOption(p,g[0]==="i"?g:"n"),b}addRows(m){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n",p=[];return m.forEach(b=>{p.push(this.addRow(b,g))}),p}insertRow(m,g){let p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(m,0,g),this._setStyleOption(m,p),this.getRow(m)}insertRows(m,g){let p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(m,0,...g),p!=="n")for(let b=0;b<g.length;b++)p[0]==="o"&&this.findRow(g.length+m+b)!==void 0?this._copyStyle(g.length+m+b,m+b,p[1]==="+"):p[0]==="i"&&this.findRow(m-1)!==void 0&&this._copyStyle(m-1,m+b,p[1]==="+");return this.getRows(m,g.length)}_setStyleOption(m){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";g[0]==="o"&&this.findRow(m+1)!==void 0?this._copyStyle(m+1,m,g[1]==="+"):g[0]==="i"&&this.findRow(m-1)!==void 0&&this._copyStyle(m-1,m,g[1]==="+")}_copyStyle(m,g){let p=arguments.length>2&&arguments[2]!==void 0&&arguments[2],b=this.getRow(m),_=this.getRow(g);_.style=f(b.style),b.eachCell({includeEmpty:p},(E,O)=>{_.getCell(O).style=f(E.style)}),_.height=b.height}duplicateRow(m,g){let p=arguments.length>2&&arguments[2]!==void 0&&arguments[2],b=this._rows[m-1],_=new Array(g).fill(b.values);this.spliceRows(m+1,p?0:g,..._);for(let E=0;E<g;E++){let O=this._rows[m+E];O.style=b.style,O.height=b.height,b.eachCell({includeEmpty:!0},(V,H)=>{O.getCell(H).style=V.style})}}spliceRows(m,g){let p=m+g;for(var b=arguments.length,_=new Array(b>2?b-2:0),E=2;E<b;E++)_[E-2]=arguments[E];let O=_.length,V=O-g,H=this._rows.length,F,L;if(V<0)for(m===H&&(this._rows[H-1]=void 0),F=p;F<=H;F++)if(L=this._rows[F-1],L){let q=this.getRow(F+V);q.values=L.values,q.style=L.style,q.height=L.height,L.eachCell({includeEmpty:!0},(W,x)=>{q.getCell(x).style=W.style}),this._rows[F-1]=void 0}else this._rows[F+V-1]=void 0;else if(V>0)for(F=H;F>=p;F--)if(L=this._rows[F-1],L){let q=this.getRow(F+V);q.values=L.values,q.style=L.style,q.height=L.height,L.eachCell({includeEmpty:!0},(W,x)=>{if(q.getCell(x).style=W.style,W._value.constructor.name==="MergeValue"){let R=this.getRow(W._row._number+O).getCell(x),j=W._value._master,v=this.getRow(j._row._number+O).getCell(j._column._number);R.merge(v)}})}else this._rows[F+V-1]=void 0;for(F=0;F<O;F++){let q=this.getRow(m+F);q.style={},q.values=_[F]}this.workbook.definedNames.spliceRows(this.name,m,g,O)}eachRow(m,g){if(g||(g=m,m=void 0),m&&m.includeEmpty){let p=this._rows.length;for(let b=1;b<=p;b++)g(this.getRow(b),b)}else this._rows.forEach(p=>{p&&p.hasValues&&g(p,p.number)})}getSheetValues(){let m=[];return this._rows.forEach(g=>{g&&(m[g.number]=g.values)}),m}findCell(m,g){let p=n.getAddress(m,g),b=this._rows[p.row-1];return b?b.findCell(p.col):void 0}getCell(m,g){let p=n.getAddress(m,g);return this.getRow(p.row).getCellEx(p)}mergeCells(){for(var m=arguments.length,g=new Array(m),p=0;p<m;p++)g[p]=arguments[p];let b=new o(g);this._mergeCellsInternal(b)}mergeCellsWithoutStyle(){for(var m=arguments.length,g=new Array(m),p=0;p<m;p++)g[p]=arguments[p];let b=new o(g);this._mergeCellsInternal(b,!0)}_mergeCellsInternal(m,g){i.each(this._merges,b=>{if(b.intersects(m))throw new Error("Cannot merge already merged cells")});let p=this.getCell(m.top,m.left);for(let b=m.top;b<=m.bottom;b++)for(let _=m.left;_<=m.right;_++)(b>m.top||_>m.left)&&this.getCell(b,_).merge(p,g);this._merges[p.address]=m}_unMergeMaster(m){let g=this._merges[m.address];if(g){for(let p=g.top;p<=g.bottom;p++)for(let b=g.left;b<=g.right;b++)this.getCell(p,b).unmerge();delete this._merges[m.address]}}get hasMerges(){return i.some(this._merges,Boolean)}unMergeCells(){for(var m=arguments.length,g=new Array(m),p=0;p<m;p++)g[p]=arguments[p];let b=new o(g);for(let _=b.top;_<=b.bottom;_++)for(let E=b.left;E<=b.right;E++){let O=this.findCell(_,E);O&&(O.type===l.ValueType.Merge?this._unMergeMaster(O.master):this._merges[O.address]&&this._unMergeMaster(O))}}fillFormula(m,g,p){let b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared",_=n.decode(m),{top:E,left:O,bottom:V,right:H}=_,F=H-O+1,L=n.encodeAddress(E,O),q=b==="shared",W;W=typeof p=="function"?p:Array.isArray(p)?Array.isArray(p[0])?(R,j)=>p[R-E][j-O]:(R,j)=>p[(R-E)*F+(j-O)]:()=>{};let x=!0;for(let R=E;R<=V;R++)for(let j=O;j<=H;j++)x?(this.getCell(R,j).value={shareType:b,formula:g,ref:m,result:W(R,j)},x=!1):this.getCell(R,j).value=q?{sharedFormula:L,result:W(R,j)}:W(R,j)}addImage(m,g){let p={type:"image",imageId:m,range:g};this._media.push(new c(this,p))}getImages(){return this._media.filter(m=>m.type==="image")}addBackgroundImage(m){let g={type:"background",imageId:m};this._media.push(new c(this,g))}getBackgroundImageId(){let m=this._media.find(g=>g.type==="background");return m&&m.imageId}protect(m,g){return new Promise(p=>{this.sheetProtection={sheet:!0},g&&"spinCount"in g&&(g.spinCount=Number.isFinite(g.spinCount)?Math.round(Math.max(0,g.spinCount)):1e5),m&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=u.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=g&&"spinCount"in g?g.spinCount:1e5,this.sheetProtection.hashValue=u.convertPasswordToHash(m,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),g&&(this.sheetProtection=Object.assign(this.sheetProtection,g),!m&&"spinCount"in g&&delete this.sheetProtection.spinCount),p()})}unprotect(){this.sheetProtection=null}addTable(m){let g=new d(this,m);return this.tables[m.name]=g,g}getTable(m){return this.tables[m]}removeTable(m){delete this.tables[m]}getTables(){return Object.values(this.tables)}addConditionalFormatting(m){this.conditionalFormattings.push(m)}removeConditionalFormatting(m){typeof m=="number"?this.conditionalFormattings.splice(m,1):this.conditionalFormattings=m instanceof Function?this.conditionalFormattings.filter(m):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(m){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=m}get model(){let m={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(b=>b.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(b=>b.model),conditionalFormattings:this.conditionalFormattings};m.cols=a.toModel(this.columns);let g=m.rows=[],p=m.dimensions=new o;return this._rows.forEach(b=>{let _=b&&b.model;_&&(p.expand(_.number,_.min,_.number,_.max),g.push(_))}),m.merges=[],i.each(this._merges,b=>{m.merges.push(b.range)}),m}_parseRows(m){this._rows=[],m.rows.forEach(g=>{let p=new s(this,g.number);this._rows[p.number-1]=p,p.model=g})}_parseMergeCells(m){i.each(m.mergeCells,g=>{this.mergeCellsWithoutStyle(g)})}set model(m){this.name=m.name,this._columns=a.fromModel(this,m.cols),this._parseRows(m),this._parseMergeCells(m),this.dataValidations=new h(m.dataValidations),this.properties=m.properties,this.pageSetup=m.pageSetup,this.headerFooter=m.headerFooter,this.views=m.views,this.autoFilter=m.autoFilter,this._media=m.media.map(g=>new c(this,g)),this.sheetProtection=m.sheetProtection,this.tables=m.tables.reduce((g,p)=>{let b=new d;return b.model=p,g[p.name]=b,g},{}),this.conditionalFormattings=m.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(e,t,r){"use strict";e("core-js/modules/es.promise"),e("core-js/modules/es.promise.finally"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.values"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.async-iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.find-index"),e("core-js/modules/es.array.find"),e("core-js/modules/es.string.from-code-point"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.number.is-nan"),e("regenerator-runtime/runtime");let i={Workbook:e("./doc/workbook")},n=e("./doc/enums");Object.keys(n).forEach(o=>{i[o]=n[o]}),t.exports=i},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(e,t,r){"use strict";let i=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");r.bufferToString=function(n){return typeof n=="string"?n:i?i.decode(n):n.toString()}},{}],17:[function(e,t,r){"use strict";let i=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:n}=e("buffer");r.stringToBuffer=function(o){return typeof o!="string"?o:i?n.from(i.encode(o).buffer):n.from(o)}},{buffer:220}],18:[function(e,t,r){"use strict";let i=e("./under-dash"),n=e("./col-cache");t.exports=class{constructor(o){this.template=o,this.sheets={}}addCell(o){this.addCellEx(n.decodeEx(o))}getCell(o){return this.findCellEx(n.decodeEx(o),!0)}findCell(o){return this.findCellEx(n.decodeEx(o),!1)}findCellAt(o,s,a){let l=this.sheets[o],c=l&&l[s];return c&&c[a]}addCellEx(o){if(o.top)for(let s=o.top;s<=o.bottom;s++)for(let a=o.left;a<=o.right;a++)this.getCellAt(o.sheetName,s,a);else this.findCellEx(o,!0)}getCellEx(o){return this.findCellEx(o,!0)}findCellEx(o,s){let a=this.findSheet(o,s),l=this.findSheetRow(a,o,s);return this.findRowCell(l,o,s)}getCellAt(o,s,a){let l=this.sheets[o]||(this.sheets[o]=[]),c=l[s]||(l[s]=[]);return c[a]||(c[a]={sheetName:o,address:n.n2l(a)+s,row:s,col:a})}removeCellEx(o){let s=this.findSheet(o);if(!s)return;let a=this.findSheetRow(s,o);a&&delete a[o.col]}forEachInSheet(o,s){let a=this.sheets[o];a&&a.forEach((l,c)=>{l&&l.forEach((d,h)=>{d&&s(d,c,h)})})}forEach(o){i.each(this.sheets,(s,a)=>{this.forEachInSheet(a,o)})}map(o){let s=[];return this.forEach(a=>{s.push(o(a))}),s}findSheet(o,s){let a=o.sheetName;return this.sheets[a]?this.sheets[a]:s?this.sheets[a]=[]:void 0}findSheetRow(o,s,a){let{row:l}=s;return o&&o[l]?o[l]:a?o[l]=[]:void 0}findRowCell(o,s,a){let{col:l}=s;return o&&o[l]?o[l]:a?o[l]=this.template?Object.assign(s,JSON.parse(JSON.stringify(this.template))):s:void 0}spliceRows(o,s,a,l){let c=this.sheets[o];if(c){let d=[];for(let h=0;h<l;h++)d.push([]);c.splice(s,a,...d)}}spliceColumns(o,s,a,l){let c=this.sheets[o];if(c){let d=[];for(let h=0;h<l;h++)d.push(null);i.each(c,h=>{h.splice(s,a,...d)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(e,t,r){"use strict";let i=/^[A-Z]+\d+$/,n={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:o=>o<=26?1:o<=676?2:3,_fill(o){let s,a,l,c,d,h=1;if(o>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&o>=1){for(;h<=26;)s=this._dictionary[h-1],this._n2l[h]=s,this._l2n[s]=h,h++;this._l2nFill=1}if(this._l2nFill<2&&o>=2){for(h=27;h<=702;)a=h-27,l=a%26,c=Math.floor(a/26),s=this._dictionary[c]+this._dictionary[l],this._n2l[h]=s,this._l2n[s]=h,h++;this._l2nFill=2}if(this._l2nFill<3&&o>=3){for(h=703;h<=16384;)a=h-703,l=a%26,c=Math.floor(a/26)%26,d=Math.floor(a/676),s=this._dictionary[d]+this._dictionary[c]+this._dictionary[l],this._n2l[h]=s,this._l2n[s]=h,h++;this._l2nFill=3}},l2n(o){if(this._l2n[o]||this._fill(o.length),!this._l2n[o])throw new Error("Out of bounds. Invalid column letter: "+o);return this._l2n[o]},n2l(o){if(o<1||o>16384)throw new Error(o+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[o]||this._fill(this._level(o)),this._n2l[o]},_hash:{},validateAddress(o){if(!i.test(o))throw new Error("Invalid Address: "+o);return!0},decodeAddress(o){let s=o.length<5&&this._hash[o];if(s)return s;let a=!1,l="",c=0,d=!1,h="",u=0;for(let m,g=0;g<o.length;g++)if(m=o.charCodeAt(g),!d&&m>=65&&m<=90)a=!0,l+=o[g],c=26*c+m-64;else if(m>=48&&m<=57)d=!0,h+=o[g],u=10*u+m-48;else if(d&&a&&m!==36)break;if(a){if(c>16384)throw new Error("Out of bounds. Invalid column letter: "+l)}else c=void 0;d||(u=void 0);let f={address:o=l+h,col:c,row:u,$col$row:`$${l}$${h}`};return c<=100&&u<=100&&(this._hash[o]=f,this._hash[f.$col$row]=f),f},getAddress(o,s){if(s){let a=this.n2l(s)+o;return this.decodeAddress(a)}return this.decodeAddress(o)},decode(o){let s=o.split(":");if(s.length===2){let a=this.decodeAddress(s[0]),l=this.decodeAddress(s[1]),c={top:Math.min(a.row,l.row),left:Math.min(a.col,l.col),bottom:Math.max(a.row,l.row),right:Math.max(a.col,l.col)};return c.tl=this.n2l(c.left)+c.top,c.br=this.n2l(c.right)+c.bottom,c.dimensions=`${c.tl}:${c.br}`,c}return this.decodeAddress(o)},decodeEx(o){let s=o.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),a=s[1]||s[2],l=s[3],c=l.split(":");if(c.length>1){let h=this.decodeAddress(c[0]),u=this.decodeAddress(c[1]),f=Math.min(h.row,u.row),m=Math.min(h.col,u.col),g=Math.max(h.row,u.row),p=Math.max(h.col,u.col);return h=this.n2l(m)+f,u=this.n2l(p)+g,{top:f,left:m,bottom:g,right:p,sheetName:a,tl:{address:h,col:m,row:f,$col$row:`$${this.n2l(m)}$${f}`,sheetName:a},br:{address:u,col:p,row:g,$col$row:`$${this.n2l(p)}$${g}`,sheetName:a},dimensions:`${h}:${u}`}}if(l.startsWith("#"))return a?{sheetName:a,error:l}:{error:l};let d=this.decodeAddress(l);return a?jt({sheetName:a},d):d},encodeAddress:(o,s)=>n.n2l(s)+o,encode(){switch(arguments.length){case 2:return n.encodeAddress(arguments[0],arguments[1]);case 4:return`${n.encodeAddress(arguments[0],arguments[1])}:${n.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(o,s){let[a,l,,c,d]=o,[h,u]=s;return h>=a&&h<=c&&u>=l&&u<=d}};t.exports=n},{}],20:[function(e,t,r){"use strict";let i=(o,s)=>jt(jt({},o),s.reduce((a,l)=>(o[l]&&(a[l]=jt({},o[l])),a),{})),n=function(o,s,a){let l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];o[a]&&(s[a]=i(o[a],l))};r.copyStyle=o=>{if(!o)return o;if(s=o,Object.keys(s).length===0)return{};var s;let a=jt({},o);return n(o,a,"font",["color"]),n(o,a,"alignment"),n(o,a,"protection"),o.border&&(n(o,a,"border"),n(o.border,a.border,"top",["color"]),n(o.border,a.border,"left",["color"]),n(o.border,a.border,"bottom",["color"]),n(o.border,a.border,"right",["color"]),n(o.border,a.border,"diagonal",["color"])),o.fill&&(n(o,a,"fill",["fgColor","bgColor","center"]),o.fill.stops&&(a.fill.stops=o.fill.stops.map(l=>i(l,["color"])))),a}},{}],21:[function(e,t,r){(function(i){(function(){"use strict";let n=e("crypto"),o={hash(s){let a=n.createHash(s);for(var l=arguments.length,c=new Array(l>1?l-1:0),d=1;d<l;d++)c[d-1]=arguments[d];return a.update(i.concat(c)),a.digest()},convertPasswordToHash(s,a,l,c){if(a=a.toLowerCase(),n.getHashes().indexOf(a)<0)throw new Error(`Hash algorithm '${a}' not supported!`);let d=i.from(s,"utf16le"),h=this.hash(a,i.from(l,"base64"),d);for(let u=0;u<c;u++){let f=i.alloc(4);f.writeUInt32LE(u,0),h=this.hash(a,h,f)}return h.toString("base64")},randomBytes:s=>n.randomBytes(s)};t.exports=o}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(e,t,r){"use strict";let{SaxesParser:i}=e("saxes"),{PassThrough:n}=e("readable-stream"),{bufferToString:o}=e("./browser-buffer-decode");t.exports=function(s){return PH(this,null,function*(){s.pipe&&!s[Symbol.asyncIterator]&&(s=s.pipe(new n));let a=new i,l;a.on("error",m=>{l=m});let c=[];a.on("opentag",m=>c.push({eventType:"opentag",value:m})),a.on("text",m=>c.push({eventType:"text",value:m})),a.on("closetag",m=>c.push({eventType:"closetag",value:m}));try{for(var d=LR(s),h,u,f;h=!(u=yield new mO(d.next())).done;h=!1){let m=u.value;if(a.write(o(m)),l)throw l;yield c,c=[]}}catch{f=[u]}finally{try{h&&(u=d.return)&&(yield new mO(u.call(d)))}finally{if(f)throw f[0]}}})}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(e,t,r){"use strict";let i=e("./col-cache"),n=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,o=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;t.exports={slideFormula:function(s,a,l){let c=i.decode(a),d=i.decode(l);return s.replace(n,(h,u,f,m,g)=>{if(g)return h;let p=o.exec(m);if(p){let b=p[1],_=p[2].toUpperCase(),E=p[3],O=p[4];if(_.length>3||_.length===3&&_>"XFD")return h;let V=i.l2n(_),H=parseInt(O,10);return b||(V+=d.col-c.col),E||(H+=d.row-c.row),(u||"")+(b||"")+i.n2l(V)+(E||"")+H}return h})}}},{"./col-cache":19}],24:[function(e,t,r){(function(i,n){(function(){"use strict";let o=e("readable-stream"),s=e("./utils"),a=e("./string-buf");class l{constructor(g,p){this._data=g,this._encoding=p}get length(){return this.toBuffer().length}copy(g,p,b,_){return this.toBuffer().copy(g,p,b,_)}toBuffer(){return this._buffer||(this._buffer=n.from(this._data,this._encoding)),this._buffer}}class c{constructor(g){this._data=g}get length(){return this._data.length}copy(g,p,b,_){return this._data._buf.copy(g,p,b,_)}toBuffer(){return this._data.toBuffer()}}class d{constructor(g){this._data=g}get length(){return this._data.length}copy(g,p,b,_){this._data.copy(g,p,b,_)}toBuffer(){return this._data}}class h{constructor(g){this.size=g,this.buffer=n.alloc(g),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;let g=n.alloc(this.iWrite-this.iRead);return this.buffer.copy(g,0,this.iRead,this.iWrite),g}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(g){let p;return g===0?null:g===void 0||g>=this.length?(p=this.toBuffer(),this.iRead=this.iWrite,p):(p=n.alloc(g),this.buffer.copy(p,0,this.iRead,g),this.iRead+=g,p)}write(g,p,b){let _=Math.min(b,this.size-this.iWrite);return g.copy(this.buffer,this.iWrite,p,p+_),this.iWrite+=_,_}}let u=function(m){m=m||{},this.bufSize=m.bufSize||1048576,this.buffers=[],this.batch=m.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};s.inherits(u,o.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return n.concat(this.buffers.map(m=>m.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){let g=this.buffers[this.buffers.length-1];if(!g.full)return g}let m=new h(this.bufSize);return this.buffers.push(m),m},_pipe(m){return wr(this,null,function*(){yield Promise.all(this.pipes.map(function(g){return new Promise(p=>{g.write(m.toBuffer(),()=>{p()})})}))})},_writeToBuffers(m){let g=0,p=m.length;for(;g<p;)g+=this._getWritableBuffer().write(m,g,p-g)},write(m,g,p){return wr(this,null,function*(){let b;if(g instanceof Function&&(p=g,g="utf8"),p=p||s.nop,m instanceof a)b=new c(m);else if(m instanceof n)b=new d(m);else{if(!(typeof m=="string"||m instanceof String||m instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");b=new l(m,g)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(b);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(b),i.nextTick(p)):(yield this._pipe(b),p());else this.paused||this.emit("data",b.toBuffer()),this._writeToBuffers(b),this.emit("readable");return!0})},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(m,g,p){let b=_=>{_?p(_):(this._flush(),this.pipes.forEach(E=>{E.end()}),this.emit("finish"))};m?this.write(m,g,b):b()},read(m){let g;if(m){for(g=[];m&&this.buffers.length&&!this.buffers[0].eod;){let p=this.buffers[0],b=p.read(m);m-=b.length,g.push(b),p.eod&&p.full&&this.buffers.shift()}return n.concat(g)}return g=this.buffers.map(p=>p.toBuffer()).filter(Boolean),this.buffers=[],n.concat(g)},setEncoding(m){this.encoding=m},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(m){this.pipes.push(m),!this.paused&&this.buffers.length&&this.end()},unpipe(m){this.pipes=this.pipes.filter(g=>g!==m)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),t.exports=u}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(e,t,r){(function(i){(function(){"use strict";t.exports=class{constructor(n){this._buf=i.alloc(n&&n.size||16384),this._encoding=n&&n.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=i.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(n){n=n||0,this._buffer=void 0,this._inPos=n}_grow(n){let o=2*this._buf.length;for(;o<n;)o*=2;let s=i.alloc(o);this._buf.copy(s,0),this._buf=s}addText(n){this._buffer=void 0;let o=this._inPos+this._buf.write(n,this._inPos,this._encoding);for(;o>=this._buf.length-4;)this._grow(this._inPos+n.length),o=this._inPos+this._buf.write(n,this._inPos,this._encoding);this._inPos=o}addStringBuf(n){n.length&&(this._buffer=void 0,this.length+n.length>this.capacity&&this._grow(this.length+n.length),n._buf.copy(this._buf,this._inPos,0,n.length),this._inPos+=n.length)}}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220}],26:[function(e,t,r){"use strict";let{toString:i}=Object.prototype,n=/["&<>]/,o={each:function(s,a){s&&(Array.isArray(s)?s.forEach(a):Object.keys(s).forEach(l=>{a(s[l],l)}))},some:function(s,a){return!!s&&(Array.isArray(s)?s.some(a):Object.keys(s).some(l=>a(s[l],l)))},every:function(s,a){return!s||(Array.isArray(s)?s.every(a):Object.keys(s).every(l=>a(s[l],l)))},map:function(s,a){return s?Array.isArray(s)?s.map(a):Object.keys(s).map(l=>a(s[l],l)):[]},keyBy:(s,a)=>s.reduce((l,c)=>(l[c[a]]=c,l),{}),isEqual:function(s,a){let l=typeof s,c=typeof a,d=Array.isArray(s),h=Array.isArray(a),u;if(l!==c)return!1;switch(typeof s){case"object":if(d||h)return!(!d||!h)&&s.length===a.length&&s.every((f,m)=>{let g=a[m];return o.isEqual(f,g)});if(s===null||a===null)return s===a;if(u=Object.keys(s),Object.keys(a).length!==u.length)return!1;for(let f of u)if(!a.hasOwnProperty(f))return!1;return o.every(s,(f,m)=>{let g=a[m];return o.isEqual(f,g)});default:return s===a}},escapeHtml(s){let a=n.exec(s);if(!a)return s;let l="",c="",d=0,h=a.index;for(;h<s.length;h++){switch(s.charAt(h)){case'"':c="&quot;";break;case"&":c="&amp;";break;case"'":c="&apos;";break;case"<":c="&lt;";break;case">":c="&gt;";break;default:continue}d!==h&&(l+=s.substring(d,h)),d=h+1,l+=c}return d!==h?l+s.substring(d,h):l},strcmp:(s,a)=>s<a?-1:s>a?1:0,isUndefined:s=>i.call(s)==="[object Undefined]",isObject:s=>i.call(s)==="[object Object]",deepMerge(){let s=arguments[0]||{},{length:a}=arguments,l,c,d;function h(u,f){l=s[f],d=Array.isArray(u),o.isObject(u)||d?(d?(d=!1,c=l&&Array.isArray(l)?l:[]):c=l&&o.isObject(l)?l:{},s[f]=o.deepMerge(c,u)):o.isUndefined(u)||(s[f]=u)}for(let u=0;u<a;u++)o.each(arguments[u],h);return s}};t.exports=o},{}],27:[function(e,t,r){(function(i,n){(function(){"use strict";let o=e("fs"),s=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,a={nop(){},promiseImmediate:l=>new Promise(c=>{i.setImmediate?n(()=>{c(l)}):setTimeout(()=>{c(l)},1)}),inherits:function(l,c,d,h){l.super_=c,h||(h=d,d=null),d&&Object.keys(d).forEach(f=>{Object.defineProperty(l,f,Object.getOwnPropertyDescriptor(d,f))});let u={constructor:{value:l,enumerable:!1,writable:!1,configurable:!0}};h&&Object.keys(h).forEach(f=>{u[f]=Object.getOwnPropertyDescriptor(h,f)}),l.prototype=Object.create(c.prototype,u)},dateToExcel:(l,c)=>25569+l.getTime()/864e5-(c?1462:0),excelToDate(l,c){let d=Math.round(24*(l-25569+(c?1462:0))*3600*1e3);return new Date(d)},parsePath(l){let c=l.lastIndexOf("/");return{path:l.substring(0,c),name:l.substring(c+1)}},getRelsPath(l){let c=a.parsePath(l);return`${c.path}/_rels/${c.name}.rels`},xmlEncode(l){let c=s.exec(l);if(!c)return l;let d="",h="",u=0,f=c.index;for(;f<l.length;f++){let m=l.charCodeAt(f);switch(m){case 34:h="&quot;";break;case 38:h="&amp;";break;case 39:h="&apos;";break;case 60:h="&lt;";break;case 62:h="&gt;";break;case 127:h="";break;default:if(m<=31&&(m<=8||m>=11&&m!==13)){h="";break}continue}u!==f&&(d+=l.substring(u,f)),u=f+1,h&&(d+=h)}return u!==f?d+l.substring(u,f):d},xmlDecode:l=>l.replace(/&([a-z]*);/g,c=>{switch(c){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return c}}),validInt(l){let c=parseInt(l,10);return Number.isNaN(c)?0:c},isDateFmt(l){return l?(l=(l=l.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:l=>new Promise(c=>{o.access(l,o.constants.F_OK,d=>{c(!d)})})},toIsoDateString:l=>l.toIsoString().subsstr(0,10),parseBoolean:l=>l===!0||l==="true"||l===1||l==="1"};t.exports=a}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},e("timers").setImmediate)},{fs:216,timers:523}],28:[function(e,t,r){"use strict";let i=e("./under-dash"),n=e("./utils");function o(l,c,d){l.push(` ${c}="${n.xmlEncode(d.toString())}"`)}function s(l,c){if(c){let d=[];i.each(c,(h,u)=>{h!==void 0&&o(d,u,h)}),l.push(d.join(""))}}class a{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(c){let d=this._xml;d.push("<?xml"),s(d,c),d.push(`?>
`)}openNode(c,d){let h=this.tos,u=this._xml;h&&this.open&&u.push(">"),this._stack.push(c),u.push("<"),u.push(c),s(u,d),this.leaf=!0,this.open=!0}addAttribute(c,d){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");d!==void 0&&o(this._xml,c,d)}addAttributes(c){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");s(this._xml,c)}writeText(c){let d=this._xml;this.open&&(d.push(">"),this.open=!1),this.leaf=!1,d.push(n.xmlEncode(c.toString()))}writeXml(c){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(c)}closeNode(){let c=this._stack.pop(),d=this._xml;this.leaf?d.push("/>"):(d.push("</"),d.push(c),d.push(">")),this.open=!1,this.leaf=!1}leafNode(c,d,h){this.openNode(c,d),h!==void 0&&this.writeText(h),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){let c=this._rollbacks.pop();this._xml.length>c.xml&&this._xml.splice(c.xml,this._xml.length-c.xml),this._stack.length>c.stack&&this._stack.splice(c.stack,this._stack.length-c.stack),this.leaf=c.leaf,this.open=c.open}get xml(){return this.closeAll(),this._xml.join("")}}a.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},t.exports=a},{"./under-dash":26,"./utils":27}],29:[function(e,t,r){(function(i){(function(){"use strict";let n=e("events"),o=e("jszip"),s=e("./stream-buf"),{stringToBuffer:a}=e("./browser-buffer-encode");class l extends n.EventEmitter{constructor(d){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},d),this.zip=new o,this.stream=new s}append(d,h){h.hasOwnProperty("base64")&&h.base64?this.zip.file(h.name,d,{base64:!0}):(i.browser&&typeof d=="string"&&(d=a(d)),this.zip.file(h.name,d))}finalize(){return wr(this,null,function*(){let d=yield this.zip.generateAsync(this.options);this.stream.end(d),this.emit("finish")})}read(d){return this.stream.read(d)}setEncoding(d){return this.stream.setEncoding(d)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(d,h){return this.stream.pipe(d,h)}unpipe(d){return this.stream.unpipe(d)}unshift(d){return this.stream.unshift(d)}wrap(d){return this.stream.wrap(d)}}t.exports={ZipWriter:l}}).call(this)}).call(this,e("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(e,t,r){"use strict";t.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"\u5E74"m"\u6708"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"\u5E74" mm"\u6708" dd"\u65E5"'},28:{"zh-tw":'[$-404]e"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'[$-411]ggge"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'[$-411]ggge"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'yyyy"\u5E74"m"\u6708"d"\u65E5"',"ja-jp":'yyyy"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":'yyyy"\uB144" mm"\uC6D4" dd"\uC77C"'},32:{"zh-tw":'hh"\u6642"mm"\u5206"',"zh-cn":'h"\u65F6"mm"\u5206"',"ja-jp":'h"\u6642"mm"\u5206"',"ko-kr":'h"\uC2DC" mm"\uBD84"'},33:{"zh-tw":'hh"\u6642"mm"\u5206"ss"\u79D2"',"zh-cn":'h"\u65F6"mm"\u5206"ss"\u79D2"',"ja-jp":'h"\u6642"mm"\u5206"ss"\u79D2"',"ko-kr":'h"\uC2DC" mm"\uBD84" ss"\uCD08"'},34:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"',"zh-cn":'\u4E0A\u5348/\u4E0B\u5348 h"\u65F6"mm"\u5206"',"ja-jp":'yyyy"\u5E74"m"\u6708"',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"ss"\u79D2"',"zh-cn":'\u4E0A\u5348/\u4E0B\u5348 h"\u65F6"mm"\u5206"ss"\u79D2"',"ja-jp":'m"\u6708"d"\u65E5"',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"\u5E74"m"\u6708"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"\u5E74" mm"\u6708" dd"\u65E5"'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"\u5E74"m"\u6708"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"\u5E74" mm"\u6708" dd"\u65E5"'},51:{"zh-tw":'[$-404]e"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'[$-411]ggge"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":"mm-dd"},52:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"',"zh-cn":'yyyy"\u5E74"m"\u6708"',"ja-jp":'yyyy"\u5E74"m"\u6708"',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"ss"\u79D2"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'m"\u6708"d"\u65E5"',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'[$-411]ggge"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":"mm-dd"},55:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"',"zh-cn":'\u4E0A\u5348/\u4E0B\u5348 h"\u65F6"mm"\u5206"',"ja-jp":'yyyy"\u5E74"m"\u6708"',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'\u4E0A\u5348/\u4E0B\u5348 hh"\u6642"mm"\u5206"ss"\u79D2"',"zh-cn":'\u4E0A\u5348/\u4E0B\u5348 h"\u65F6"mm"\u5206"ss"\u79D2"',"ja-jp":'m"\u6708"d"\u65E5"',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"\u5E74"m"\u6708"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"\u5E74" mm"\u6708" dd"\u65E5"'},58:{"zh-tw":'[$-404]e"\u5E74"m"\u6708"d"\u65E5"',"zh-cn":'m"\u6708"d"\u65E5"',"ja-jp":'[$-411]ggge"\u5E74"m"\u6708"d"\u65E5"',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(e,t,r){"use strict";t.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(e,t,r){"use strict";let i=e("../../utils/parse-sax"),n=e("../../utils/xml-stream");class o{prepare(){}render(){}parseOpen(a){}parseText(a){}parseClose(a){}reconcile(a,l){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(a=>{a instanceof o?a.reset():a.xform&&a.xform.reset()})}mergeModel(a){this.model=Object.assign(this.model||{},a)}parse(a){return wr(this,null,function*(){try{for(var l=LR(a),c,d,h;c=!(d=yield l.next()).done;c=!1){let u=d.value;for(let{eventType:f,value:m}of u)if(f==="opentag")this.parseOpen(m);else if(f==="text")this.parseText(m);else if(f==="closetag"&&!this.parseClose(m.name))return this.model}}catch{h=[d]}finally{try{c&&(d=l.return)&&(yield d.call(l))}finally{if(h)throw h[0]}}return this.model})}parseStream(a){return wr(this,null,function*(){return this.parse(i(a))})}get xml(){return this.toXml(this.model)}toXml(a){let l=new n;return this.render(l,a),l.xml}static toAttribute(a,l){let c=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(a===void 0){if(c)return l}else if(c||a!==l)return a.toString()}static toStringAttribute(a,l){let c=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return o.toAttribute(a,l,c)}static toStringValue(a,l){return a===void 0?l:a}static toBoolAttribute(a,l){let c=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(a===void 0){if(c)return l}else if(c||a!==l)return a?"1":"0"}static toBoolValue(a,l){return a===void 0?l:a==="1"}static toIntAttribute(a,l){let c=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return o.toAttribute(a,l,c)}static toIntValue(a,l){return a===void 0?l:parseInt(a,10)}static toFloatAttribute(a,l){let c=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return o.toAttribute(a,l,c)}static toFloatValue(a,l){return a===void 0?l:parseFloat(a)}}t.exports=o},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(e,t,r){"use strict";let i=e("../base-xform"),n=e("../../../utils/col-cache");function o(a){try{return n.decodeEx(a),!0}catch{return!1}}function s(a){let l=[],c=!1,d="";return a.split(",").forEach(h=>{if(!h)return;let u=(h.match(/'/g)||[]).length;if(!u)return void(c?d+=h+",":o(h)&&l.push(h));let f=u%2==0;!c&&f&&o(h)?l.push(h):c&&!f?(c=!1,o(d+h)&&l.push(d+h),d=""):(c=!0,d+=h+",")}),l}t.exports=class extends i{render(a,l){a.openNode("definedName",{name:l.name,localSheetId:l.localSheetId}),a.writeText(l.ranges.join(",")),a.closeNode()}parseOpen(a){switch(a.name){case"definedName":return this._parsedName=a.attributes.name,this._parsedLocalSheetId=a.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(a){this._parsedText.push(a)}parseClose(){return this.model={name:this._parsedName,ranges:s(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(e,t,r){"use strict";let i=e("../../../utils/utils"),n=e("../base-xform");t.exports=class extends n{render(o,s){o.leafNode("sheet",{sheetId:s.id,name:s.name,state:s.state,"r:id":s.rId})}parseOpen(o){return o.name==="sheet"&&(this.model={name:i.xmlDecode(o.attributes.name),id:parseInt(o.attributes.sheetId,10),state:o.attributes.state,rId:o.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{render(n,o){n.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:o.fullCalcOnLoad?1:void 0})}parseOpen(n){return n.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{render(n,o){n.leafNode("workbookPr",{date1904:o.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(n){return n.name==="workbookPr"&&(this.model={date1904:n.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{render(n,o){let s={xWindow:o.x||0,yWindow:o.y||0,windowWidth:o.width||12e3,windowHeight:o.height||24e3,firstSheet:o.firstSheet,activeTab:o.activeTab};o.visibility&&o.visibility!=="visible"&&(s.visibility=o.visibility),n.leafNode("workbookView",s)}parseOpen(n){if(n.name==="workbookView"){let o=this.model={},s=function(l,c,d){let h=c!==void 0?o[l]=c:d;h!==void 0&&(o[l]=h)},a=function(l,c,d){let h=c!==void 0?o[l]=parseInt(c,10):d;h!==void 0&&(o[l]=h)};return a("x",n.attributes.xWindow,0),a("y",n.attributes.yWindow,0),a("width",n.attributes.windowWidth,25e3),a("height",n.attributes.windowHeight,1e4),s("visibility",n.attributes.visibility,"visible"),a("activeTab",n.attributes.activeTab,void 0),a("firstSheet",n.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(e,t,r){"use strict";let i=e("../../../utils/under-dash"),n=e("../../../utils/col-cache"),o=e("../../../utils/xml-stream"),s=e("../base-xform"),a=e("../static-xform"),l=e("../list-xform"),c=e("./defined-name-xform"),d=e("./sheet-xform"),h=e("./workbook-view-xform"),u=e("./workbook-properties-xform"),f=e("./workbook-calc-properties-xform");class m extends s{constructor(){super(),this.map={fileVersion:m.STATIC_XFORMS.fileVersion,workbookPr:new u,bookViews:new l({tag:"bookViews",count:!1,childXform:new h}),sheets:new l({tag:"sheets",count:!1,childXform:new d}),definedNames:new l({tag:"definedNames",count:!1,childXform:new c}),calcPr:new f}}prepare(p){p.sheets=p.worksheets;let b=[],_=0;p.sheets.forEach(E=>{if(E.pageSetup&&E.pageSetup.printArea&&E.pageSetup.printArea.split("&&").forEach(O=>{let V=O.split(":"),H={name:"_xlnm.Print_Area",ranges:[`'${E.name}'!$${V[0]}:$${V[1]}`],localSheetId:_};b.push(H)}),E.pageSetup&&(E.pageSetup.printTitlesRow||E.pageSetup.printTitlesColumn)){let O=[];if(E.pageSetup.printTitlesColumn){let H=E.pageSetup.printTitlesColumn.split(":");O.push(`'${E.name}'!$${H[0]}:$${H[1]}`)}if(E.pageSetup.printTitlesRow){let H=E.pageSetup.printTitlesRow.split(":");O.push(`'${E.name}'!$${H[0]}:$${H[1]}`)}let V={name:"_xlnm.Print_Titles",ranges:O,localSheetId:_};b.push(V)}_++}),b.length&&(p.definedNames=p.definedNames.concat(b)),(p.media||[]).forEach((E,O)=>{E.name=E.type+(O+1)})}render(p,b){p.openXml(o.StdDocAttributes),p.openNode("workbook",m.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(p),this.map.workbookPr.render(p,b.properties),this.map.bookViews.render(p,b.views),this.map.sheets.render(p,b.sheets),this.map.definedNames.render(p,b.definedNames),this.map.calcPr.render(p,b.calcProperties),p.closeNode()}parseOpen(p){if(this.parser)return this.parser.parseOpen(p),!0;switch(p.name){case"workbook":return!0;default:return this.parser=this.map[p.name],this.parser&&this.parser.parseOpen(p),!0}}parseText(p){this.parser&&this.parser.parseText(p)}parseClose(p){if(this.parser)return this.parser.parseClose(p)||(this.parser=void 0),!0;switch(p){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(p){let b=(p.workbookRels||[]).reduce((H,F)=>(H[F.Id]=F,H),{}),_=[],E,O=0;(p.sheets||[]).forEach(H=>{let F=b[H.rId];F&&(E=p.worksheetHash["xl/"+F.Target.replace(/^(\s|\/xl\/)+/,"")],E&&(E.name=H.name,E.id=H.id,E.state=H.state,_[O++]=E))});let V=[];i.each(p.definedNames,H=>{if(H.name==="_xlnm.Print_Area"){if(E=_[H.localSheetId],E){E.pageSetup||(E.pageSetup={});let F=n.decodeEx(H.ranges[0]);E.pageSetup.printArea=E.pageSetup.printArea?`${E.pageSetup.printArea}&&${F.dimensions}`:F.dimensions}}else if(H.name==="_xlnm.Print_Titles"){if(E=_[H.localSheetId],E){E.pageSetup||(E.pageSetup={});let F=H.ranges.join(","),L=/\$/g,q=/\$\d+:\$\d+/,W=F.match(q);if(W&&W.length){let j=W[0];E.pageSetup.printTitlesRow=j.replace(L,"")}let x=/\$[A-Z]+:\$[A-Z]+/,R=F.match(x);if(R&&R.length){let j=R[0];E.pageSetup.printTitlesColumn=j.replace(L,"")}}}else V.push(H)}),p.definedNames=V,p.media.forEach((H,F)=>{H.index=F})}}m.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},m.STATIC_XFORMS={fileVersion:new a({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},t.exports=m},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(e,t,r){"use strict";let i=e("../strings/rich-text-xform"),n=e("../../../utils/utils"),o=e("../base-xform"),s=t.exports=function(a){this.model=a};n.inherits(s,o,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new i),this._richTextXform},render(a,l){l=l||this.model,a.openNode("comment",{ref:l.ref,authorId:0}),a.openNode("text"),l&&l.note&&l.note.texts&&l.note.texts.forEach(c=>{this.richTextXform.render(a,c)}),a.closeNode(),a.closeNode()},parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case"comment":return this.model=jt({type:"note",note:{texts:[]}},a.attributes),!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(a),!0;default:return!1}},parseText(a){this.parser&&this.parser.parseText(a)},parseClose(a){switch(a){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(a),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(e,t,r){"use strict";let i=e("../../../utils/xml-stream"),n=e("../../../utils/utils"),o=e("../base-xform"),s=e("./comment-xform"),a=t.exports=function(){this.map={comment:new s}};n.inherits(a,o,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(l,c){c=c||this.model,l.openXml(i.StdDocAttributes),l.openNode("comments",a.COMMENTS_ATTRIBUTES),l.openNode("authors"),l.leafNode("author",null,"Author"),l.closeNode(),l.openNode("commentList"),c.comments.forEach(d=>{this.map.comment.render(l,d)}),l.closeNode(),l.closeNode()},parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(l),!0;default:return!1}},parseText(l){this.parser&&this.parser.parseText(l)},parseClose(l){switch(l){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(l),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(e,t,r){"use strict";let i=e("../../base-xform");t.exports=class extends i{constructor(n){super(),this._model=n}get tag(){return this._model&&this._model.tag}render(n,o,s){(o===s[2]||this.tag==="x:SizeWithCells"&&o===s[1])&&n.leafNode(this.tag)}parseOpen(n){switch(n.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(e,t,r){"use strict";let i=e("../../base-xform");t.exports=class extends i{constructor(n){super(),this._model=n}get tag(){return this._model&&this._model.tag}render(n,o){n.leafNode(this.tag,null,o)}parseOpen(n){switch(n.name){case this.tag:return this.text="",!0;default:return!1}}parseText(n){this.text=n}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{get tag(){return"x:Anchor"}getAnchorRect(n){let o=Math.floor(n.left),s=Math.floor(68*(n.left-o)),a=Math.floor(n.top),l=Math.floor(18*(n.top-a)),c=Math.floor(n.right),d=Math.floor(68*(n.right-c)),h=Math.floor(n.bottom);return[o,s,a,l,c,d,h,Math.floor(18*(n.bottom-h))]}getDefaultRect(n){let o=n.col,s=Math.max(n.row-2,0);return[o,6,s,14,o+2,2,s+4,16]}render(n,o){let s=o.anchor?this.getAnchorRect(o.anchor):this.getDefaultRect(o.refAddress);n.leafNode("x:Anchor",null,s.join(", "))}parseOpen(n){switch(n.name){case this.tag:return this.text="",!0;default:return!1}}parseText(n){this.text=n}parseClose(){return!1}}},{"../base-xform":32}],44:[function(e,t,r){"use strict";let i=e("../base-xform"),n=e("./vml-anchor-xform"),o=e("./style/vml-protection-xform"),s=e("./style/vml-position-xform"),a=["twoCells","oneCells","absolute"];t.exports=class extends i{constructor(){super(),this.map={"x:Anchor":new n,"x:Locked":new o({tag:"x:Locked"}),"x:LockText":new o({tag:"x:LockText"}),"x:SizeWithCells":new s({tag:"x:SizeWithCells"}),"x:MoveWithCells":new s({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(l,c){let{protection:d,editAs:h}=c.note;l.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(l,h,a),this.map["x:SizeWithCells"].render(l,h,a),this.map["x:Anchor"].render(l,c),this.map["x:Locked"].render(l,d.locked),l.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(l,d.lockText),l.leafNode("x:Row",null,c.refAddress.row-1),l.leafNode("x:Column",null,c.refAddress.col-1),l.closeNode()}parseOpen(l){switch(l.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){let l=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),c=Object.keys(l).length;this.model.editAs=a[c],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(e,t,r){"use strict";let i=e("../../../utils/xml-stream"),n=e("../base-xform"),o=e("./vml-shape-xform");class s extends n{constructor(){super(),this.map={"v:shape":new o}}get tag(){return"xml"}render(l,c){l.openXml(i.StdDocAttributes),l.openNode(this.tag,s.DRAWING_ATTRIBUTES),l.openNode("o:shapelayout",{"v:ext":"edit"}),l.leafNode("o:idmap",{"v:ext":"edit",data:1}),l.closeNode(),l.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),l.leafNode("v:stroke",{joinstyle:"miter"}),l.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),l.closeNode(),c.comments.forEach((d,h)=>{this.map["v:shape"].render(l,d,h)}),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(l){case this.tag:return!1;default:return!0}}reconcile(l,c){l.anchors.forEach(d=>{d.br?this.map["xdr:twoCellAnchor"].reconcile(d,c):this.map["xdr:oneCellAnchor"].reconcile(d,c)})}}s.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},t.exports=s},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(e,t,r){"use strict";let i=e("../base-xform"),n=e("./vml-textbox-xform"),o=e("./vml-client-data-xform");class s extends i{constructor(){super(),this.map={"v:textbox":new n,"x:ClientData":new o}}get tag(){return"v:shape"}render(l,c,d){l.openNode("v:shape",s.V_SHAPE_ATTRIBUTES(c,d)),l.leafNode("v:fill",{color2:"infoBackground [80]"}),l.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),l.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(l,c),this.map["x:ClientData"].render(l,c),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset(),this.model={margins:{insetmode:l.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}s.V_SHAPE_ATTRIBUTES=(a,l)=>({id:"_x0000_s"+(1025+l),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":a.note.margins&&a.note.margins.insetmode}),t.exports=s},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{get tag(){return"v:textbox"}conversionUnit(n,o,s){return`${parseFloat(n)*o.toFixed(2)}${s}`}reverseConversionUnit(n){return(n||"").split(",").map(o=>Number(parseFloat(this.conversionUnit(parseFloat(o),.1,"")).toFixed(2)))}render(n,o){let s={style:"mso-direction-alt:auto"};if(o&&o.note){let{inset:a}=o.note&&o.note.margins;Array.isArray(a)&&(a=a.map(l=>this.conversionUnit(l,10,"mm")).join(",")),a&&(s.inset=a)}n.openNode("v:textbox",s),n.leafNode("div",{style:"text-align:left"}),n.closeNode()}parseOpen(n){switch(n.name){case this.tag:return this.model={inset:this.reverseConversionUnit(n.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(n){switch(n){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],48:[function(e,t,r){"use strict";let i=e("./base-xform");t.exports=class extends i{createNewModel(n){return{}}parseOpen(n){return this.parser=this.parser||this.map[n.name],this.parser?(this.parser.parseOpen(n),!0):n.name===this.tag&&(this.model=this.createNewModel(n),!0)}parseText(n){this.parser&&this.parser.parseText(n)}onParserClose(n,o){this.model[n]=o.model}parseClose(n){return this.parser?(this.parser.parseClose(n)||(this.onParserClose(n,this.parser),this.parser=void 0),!0):n!==this.tag}}},{"./base-xform":32}],49:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{render(n,o){n.openNode("HeadingPairs"),n.openNode("vt:vector",{size:2,baseType:"variant"}),n.openNode("vt:variant"),n.leafNode("vt:lpstr",void 0,"Worksheets"),n.closeNode(),n.openNode("vt:variant"),n.leafNode("vt:i4",void 0,o.length),n.closeNode(),n.closeNode(),n.closeNode()}parseOpen(n){return n.name==="HeadingPairs"}parseText(){}parseClose(n){return n!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{render(n,o){n.openNode("TitlesOfParts"),n.openNode("vt:vector",{size:o.length,baseType:"lpstr"}),o.forEach(s=>{n.leafNode("vt:lpstr",void 0,s.name)}),n.closeNode(),n.closeNode()}parseOpen(n){return n.name==="TitlesOfParts"}parseText(){}parseClose(n){return n!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(e,t,r){"use strict";let i=e("../../../utils/xml-stream"),n=e("../base-xform"),o=e("../simple/string-xform"),s=e("./app-heading-pairs-xform"),a=e("./app-titles-of-parts-xform");class l extends n{constructor(){super(),this.map={Company:new o({tag:"Company"}),Manager:new o({tag:"Manager"}),HeadingPairs:new s,TitleOfParts:new a}}render(d,h){d.openXml(i.StdDocAttributes),d.openNode("Properties",l.PROPERTY_ATTRIBUTES),d.leafNode("Application",void 0,"Microsoft Excel"),d.leafNode("DocSecurity",void 0,"0"),d.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(d,h.worksheets),this.map.TitleOfParts.render(d,h.worksheets),this.map.Company.render(d,h.company||""),this.map.Manager.render(d,h.manager),d.leafNode("LinksUpToDate",void 0,"false"),d.leafNode("SharedDoc",void 0,"false"),d.leafNode("HyperlinksChanged",void 0,"false"),d.leafNode("AppVersion",void 0,"16.0300"),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"Properties":return!0;default:return this.parser=this.map[d.name],!!this.parser&&(this.parser.parseOpen(d),!0)}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}l.DateFormat=function(c){return c.toISOString().replace(/[.]\d{3,6}/,"")},l.DateAttrs={"xsi:type":"dcterms:W3CDTF"},l.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},t.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(e,t,r){"use strict";let i=e("../../../utils/xml-stream"),n=e("../base-xform");class o extends n{render(a,l){a.openXml(i.StdDocAttributes),a.openNode("Types",o.PROPERTY_ATTRIBUTES);let c={};(l.media||[]).forEach(d=>{if(d.type==="image"){let h=d.extension;c[h]||(c[h]=!0,a.leafNode("Default",{Extension:h,ContentType:"image/"+h}))}}),a.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),a.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),a.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),l.worksheets.forEach(d=>{let h=`/xl/worksheets/sheet${d.id}.xml`;a.leafNode("Override",{PartName:h,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),a.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),a.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),l.sharedStrings&&l.sharedStrings.count&&a.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),l.tables&&l.tables.forEach(d=>{a.leafNode("Override",{PartName:"/xl/tables/"+d.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),l.drawings&&l.drawings.forEach(d=>{a.leafNode("Override",{PartName:`/xl/drawings/${d.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),l.commentRefs&&(a.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),l.commentRefs.forEach(d=>{let{commentName:h}=d;a.leafNode("Override",{PartName:`/xl/${h}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),a.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),a.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),a.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}o.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},t.exports=o},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(e,t,r){"use strict";let i=e("../../../utils/xml-stream"),n=e("../base-xform"),o=e("../simple/date-xform"),s=e("../simple/string-xform"),a=e("../simple/integer-xform");class l extends n{constructor(){super(),this.map={"dc:creator":new s({tag:"dc:creator"}),"dc:title":new s({tag:"dc:title"}),"dc:subject":new s({tag:"dc:subject"}),"dc:description":new s({tag:"dc:description"}),"dc:identifier":new s({tag:"dc:identifier"}),"dc:language":new s({tag:"dc:language"}),"cp:keywords":new s({tag:"cp:keywords"}),"cp:category":new s({tag:"cp:category"}),"cp:lastModifiedBy":new s({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new o({tag:"cp:lastPrinted",format:l.DateFormat}),"cp:revision":new a({tag:"cp:revision"}),"cp:version":new s({tag:"cp:version"}),"cp:contentStatus":new s({tag:"cp:contentStatus"}),"cp:contentType":new s({tag:"cp:contentType"}),"dcterms:created":new o({tag:"dcterms:created",attrs:l.DateAttrs,format:l.DateFormat}),"dcterms:modified":new o({tag:"dcterms:modified",attrs:l.DateAttrs,format:l.DateFormat})}}render(d,h){d.openXml(i.StdDocAttributes),d.openNode("cp:coreProperties",l.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(d,h.creator),this.map["dc:title"].render(d,h.title),this.map["dc:subject"].render(d,h.subject),this.map["dc:description"].render(d,h.description),this.map["dc:identifier"].render(d,h.identifier),this.map["dc:language"].render(d,h.language),this.map["cp:keywords"].render(d,h.keywords),this.map["cp:category"].render(d,h.category),this.map["cp:lastModifiedBy"].render(d,h.lastModifiedBy),this.map["cp:lastPrinted"].render(d,h.lastPrinted),this.map["cp:revision"].render(d,h.revision),this.map["cp:version"].render(d,h.version),this.map["cp:contentStatus"].render(d,h.contentStatus),this.map["cp:contentType"].render(d,h.contentType),this.map["dcterms:created"].render(d,h.created),this.map["dcterms:modified"].render(d,h.modified),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[d.name],this.parser)return this.parser.parseOpen(d),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(d))}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+d)}}}l.DateFormat=function(c){return c.toISOString().replace(/[.]\d{3}/,"")},l.DateAttrs={"xsi:type":"dcterms:W3CDTF"},l.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},t.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{render(n,o){n.leafNode("Relationship",o)}parseOpen(n){switch(n.name){case"Relationship":return this.model=n.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(e,t,r){"use strict";let i=e("../../../utils/xml-stream"),n=e("../base-xform"),o=e("./relationship-xform");class s extends n{constructor(){super(),this.map={Relationship:new o}}render(l,c){c=c||this._values,l.openXml(i.StdDocAttributes),l.openNode("Relationships",s.RELATIONSHIPS_ATTRIBUTES),c.forEach(d=>{this.map.Relationship.render(l,d)}),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[l.name],this.parser)return this.parser.parseOpen(l),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(l))}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(l){case"Relationships":return!1;default:throw new Error("Unexpected xml node in parseClose: "+l)}}}s.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},t.exports=s},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{parseOpen(n){if(this.parser)return this.parser.parseOpen(n),!0;switch(n.name){case this.tag:this.reset(),this.model={range:{editAs:n.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[n.name],this.parser&&this.parser.parseOpen(n)}return!0}parseText(n){this.parser&&this.parser.parseText(n)}reconcilePicture(n,o){if(n&&n.rId){let s=o.rels[n.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(s){let a=s[1],l=o.mediaIndex[a];return o.media[l]}}}}},{"../base-xform":32}],57:[function(e,t,r){"use strict";let i=e("../base-xform"),n=e("./blip-xform");t.exports=class extends i{constructor(){super(),this.map={"a:blip":new n}}get tag(){return"xdr:blipFill"}render(o,s){o.openNode(this.tag),this.map["a:blip"].render(o,s),o.openNode("a:stretch"),o.leafNode("a:fillRect"),o.closeNode(),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:this.reset();break;default:this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)}return!0}parseText(){}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}},{"../base-xform":32,"./blip-xform":58}],58:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{get tag(){return"a:blip"}render(n,o){n.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":o.rId,cstate:"print"})}parseOpen(n){switch(n.name){case this.tag:return this.model={rId:n.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(n){switch(n){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],59:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{get tag(){return"xdr:cNvPicPr"}render(n){n.openNode(this.tag),n.leafNode("a:picLocks",{noChangeAspect:"1"}),n.closeNode()}parseOpen(n){switch(n.name){case this.tag:default:return!0}}parseText(){}parseClose(n){switch(n){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],60:[function(e,t,r){"use strict";let i=e("../base-xform"),n=e("./hlink-click-xform"),o=e("./ext-lst-xform");t.exports=class extends i{constructor(){super(),this.map={"a:hlinkClick":new n,"a:extLst":new o}}get tag(){return"xdr:cNvPr"}render(s,a){s.openNode(this.tag,{id:a.index,name:"Picture "+a.index}),this.map["a:hlinkClick"].render(s,a),this.map["a:extLst"].render(s,a),s.closeNode()}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case this.tag:this.reset();break;default:this.parser=this.map[s.name],this.parser&&this.parser.parseOpen(s)}return!0}parseText(){}parseClose(s){if(this.parser)return this.parser.parseClose(s)||(this.parser=void 0),!0;switch(s){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(e,t,r){"use strict";let i=e("../base-xform"),n=e("../simple/integer-xform");t.exports=class extends i{constructor(o){super(),this.tag=o.tag,this.map={"xdr:col":new n({tag:"xdr:col",zero:!0}),"xdr:colOff":new n({tag:"xdr:colOff",zero:!0}),"xdr:row":new n({tag:"xdr:row",zero:!0}),"xdr:rowOff":new n({tag:"xdr:rowOff",zero:!0})}}render(o,s){o.openNode(this.tag),this.map["xdr:col"].render(o,s.nativeCol),this.map["xdr:colOff"].render(o,s.nativeColOff),this.map["xdr:row"].render(o,s.nativeRow),this.map["xdr:rowOff"].render(o,s.nativeRowOff),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:this.reset();break;default:this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)}return!0}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(e,t,r){"use strict";let i=e("../../../utils/col-cache"),n=e("../../../utils/xml-stream"),o=e("../base-xform"),s=e("./two-cell-anchor-xform"),a=e("./one-cell-anchor-xform");class l extends o{constructor(){super(),this.map={"xdr:twoCellAnchor":new s,"xdr:oneCellAnchor":new a}}prepare(d){d.anchors.forEach((h,u)=>{h.anchorType=function(f){return(typeof f.range=="string"?i.decode(f.range):f.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"}(h),this.map[h.anchorType].prepare(h,{index:u})})}get tag(){return"xdr:wsDr"}render(d,h){d.openXml(n.StdDocAttributes),d.openNode(this.tag,l.DRAWING_ATTRIBUTES),h.anchors.forEach(u=>{this.map[u.anchorType].render(d,u)}),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(d){case this.tag:return!1;default:return!0}}reconcile(d,h){d.anchors.forEach(u=>{u.br?this.map["xdr:twoCellAnchor"].reconcile(u,h):this.map["xdr:oneCellAnchor"].reconcile(u,h)})}}l.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},t.exports=l},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{get tag(){return"a:extLst"}render(n){n.openNode(this.tag),n.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),n.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),n.closeNode(),n.closeNode()}parseOpen(n){switch(n.name){case this.tag:default:return!0}}parseText(){}parseClose(n){switch(n){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],64:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{constructor(n){super(),this.tag=n.tag,this.map={}}render(n,o){n.openNode(this.tag);let s=Math.floor(9525*o.width),a=Math.floor(9525*o.height);n.addAttribute("cx",s),n.addAttribute("cy",a),n.closeNode()}parseOpen(n){return n.name===this.tag&&(this.model={width:parseInt(n.attributes.cx||"0",10)/9525,height:parseInt(n.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{get tag(){return"a:hlinkClick"}render(n,o){o.hyperlinks&&o.hyperlinks.rId&&n.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":o.hyperlinks.rId,tooltip:o.hyperlinks.tooltip})}parseOpen(n){switch(n.name){case this.tag:return this.model={hyperlinks:{rId:n.attributes["r:id"],tooltip:n.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(e,t,r){"use strict";let i=e("../base-xform"),n=e("./c-nv-pr-xform"),o=e("./c-nv-pic-pr-xform");t.exports=class extends i{constructor(){super(),this.map={"xdr:cNvPr":new n,"xdr:cNvPicPr":new o}}get tag(){return"xdr:nvPicPr"}render(s,a){s.openNode(this.tag),this.map["xdr:cNvPr"].render(s,a),this.map["xdr:cNvPicPr"].render(s,a),s.closeNode()}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case this.tag:this.reset();break;default:this.parser=this.map[s.name],this.parser&&this.parser.parseOpen(s)}return!0}parseText(){}parseClose(s){if(this.parser)return this.parser.parseClose(s)||(this.parser=void 0),!0;switch(s){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(e,t,r){"use strict";let i=e("./base-cell-anchor-xform"),n=e("../static-xform"),o=e("./cell-position-xform"),s=e("./ext-xform"),a=e("./pic-xform");t.exports=class extends i{constructor(){super(),this.map={"xdr:from":new o({tag:"xdr:from"}),"xdr:ext":new s({tag:"xdr:ext"}),"xdr:pic":new a,"xdr:clientData":new n({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(l,c){this.map["xdr:pic"].prepare(l.picture,c)}render(l,c){l.openNode(this.tag,{editAs:c.range.editAs||"oneCell"}),this.map["xdr:from"].render(l,c.range.tl),this.map["xdr:ext"].render(l,c.range.ext),this.map["xdr:pic"].render(l,c.picture),this.map["xdr:clientData"].render(l,{}),l.closeNode()}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(l,c){l.medium=this.reconcilePicture(l.picture,c)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(e,t,r){"use strict";let i=e("../base-xform"),n=e("../static-xform"),o=e("./blip-fill-xform"),s=e("./nv-pic-pr-xform"),a=e("./sp-pr");t.exports=class extends i{constructor(){super(),this.map={"xdr:nvPicPr":new s,"xdr:blipFill":new o,"xdr:spPr":new n(a)}}get tag(){return"xdr:pic"}prepare(l,c){l.index=c.index+1}render(l,c){l.openNode(this.tag),this.map["xdr:nvPicPr"].render(l,c),this.map["xdr:blipFill"].render(l,c),this.map["xdr:spPr"].render(l,c),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(l){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(e,t,r){"use strict";t.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(e,t,r){"use strict";let i=e("./base-cell-anchor-xform"),n=e("../static-xform"),o=e("./cell-position-xform"),s=e("./pic-xform");t.exports=class extends i{constructor(){super(),this.map={"xdr:from":new o({tag:"xdr:from"}),"xdr:to":new o({tag:"xdr:to"}),"xdr:pic":new s,"xdr:clientData":new n({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(a,l){this.map["xdr:pic"].prepare(a.picture,l)}render(a,l){a.openNode(this.tag,{editAs:l.range.editAs||"oneCell"}),this.map["xdr:from"].render(a,l.range.tl),this.map["xdr:to"].render(a,l.range.br),this.map["xdr:pic"].render(a,l.picture),this.map["xdr:clientData"].render(a,{}),a.closeNode()}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;switch(a){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(a,l){a.medium=this.reconcilePicture(a.picture,l)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(e,t,r){"use strict";let i=e("./base-xform");t.exports=class extends i{constructor(n){super(),this.tag=n.tag,this.always=!!n.always,this.count=n.count,this.empty=n.empty,this.$count=n.$count||"count",this.$=n.$,this.childXform=n.childXform,this.maxItems=n.maxItems}prepare(n,o){let{childXform:s}=this;n&&n.forEach((a,l)=>{o.index=l,s.prepare(a,o)})}render(n,o){if(this.always||o&&o.length){n.openNode(this.tag,this.$),this.count&&n.addAttribute(this.$count,o&&o.length||0);let{childXform:s}=this;(o||[]).forEach((a,l)=>{s.render(n,a,l)}),n.closeNode()}else this.empty&&n.leafNode(this.tag)}parseOpen(n){if(this.parser)return this.parser.parseOpen(n),!0;switch(n.name){case this.tag:return this.model=[],!0;default:return!!this.childXform.parseOpen(n)&&(this.parser=this.childXform,!0)}}parseText(n){this.parser&&this.parser.parseText(n)}parseClose(n){if(this.parser){if(!this.parser.parseClose(n)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(n,o){if(n){let{childXform:s}=this;n.forEach(a=>{s.reconcile(a,o)})}}}},{"./base-xform":32}],72:[function(e,t,r){"use strict";let i=e("../../../utils/col-cache"),n=e("../base-xform");t.exports=class extends n{get tag(){return"autoFilter"}render(o,s){if(s)if(typeof s=="string")o.leafNode("autoFilter",{ref:s});else{let a=function(d){return typeof d=="string"?d:i.getAddress(d.row,d.column).address},l=a(s.from),c=a(s.to);l&&c&&o.leafNode("autoFilter",{ref:`${l}:${c}`})}}parseOpen(o){o.name==="autoFilter"&&(this.model=o.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(e,t,r){"use strict";let i=e("../../../utils/utils"),n=e("../base-xform"),o=e("../../../doc/range"),s=e("../../../doc/enums"),a=e("../strings/rich-text-xform");function l(c){if(c==null)return s.ValueType.Null;if(c instanceof String||typeof c=="string")return s.ValueType.String;if(typeof c=="number")return s.ValueType.Number;if(typeof c=="boolean")return s.ValueType.Boolean;if(c instanceof Date)return s.ValueType.Date;if(c.text&&c.hyperlink)return s.ValueType.Hyperlink;if(c.formula)return s.ValueType.Formula;if(c.error)return s.ValueType.Error;throw new Error("I could not understand type of value")}t.exports=class extends n{constructor(){super(),this.richTextXForm=new a}get tag(){return"c"}prepare(c,d){let h=d.styles.addStyleModel(c.style||{},function(u){switch(u.type){case s.ValueType.Formula:return l(u.result);default:return u.type}}(c));switch(h&&(c.styleId=h),c.comment&&d.comments.push(Ue(jt({},c.comment),{ref:c.address})),c.type){case s.ValueType.String:case s.ValueType.RichText:d.sharedStrings&&(c.ssId=d.sharedStrings.add(c.value));break;case s.ValueType.Date:d.date1904&&(c.date1904=!0);break;case s.ValueType.Hyperlink:d.sharedStrings&&c.text!==void 0&&c.text!==null&&(c.ssId=d.sharedStrings.add(c.text)),d.hyperlinks.push({address:c.address,target:c.hyperlink,tooltip:c.tooltip});break;case s.ValueType.Merge:d.merges.add(c);break;case s.ValueType.Formula:if(d.date1904&&(c.date1904=!0),c.shareType==="shared"&&(c.si=d.siFormulae++),c.formula)d.formulae[c.address]=c;else if(c.sharedFormula){let u=d.formulae[c.sharedFormula];if(!u)throw new Error("Shared Formula master must exist above and or left of clone for cell "+c.address);u.si===void 0?(u.shareType="shared",u.si=d.siFormulae++,u.range=new o(u.address,c.address)):u.range&&u.range.expandToAddress(c.address),c.si=u.si}}}renderFormula(c,d){let h=null;switch(d.shareType){case"shared":h={t:"shared",ref:d.ref||d.range.range,si:d.si};break;case"array":h={t:"array",ref:d.ref};break;default:d.si!==void 0&&(h={t:"shared",si:d.si})}switch(l(d.result)){case s.ValueType.Null:c.leafNode("f",h,d.formula);break;case s.ValueType.String:c.addAttribute("t","str"),c.leafNode("f",h,d.formula),c.leafNode("v",null,d.result);break;case s.ValueType.Number:c.leafNode("f",h,d.formula),c.leafNode("v",null,d.result);break;case s.ValueType.Boolean:c.addAttribute("t","b"),c.leafNode("f",h,d.formula),c.leafNode("v",null,d.result?1:0);break;case s.ValueType.Error:c.addAttribute("t","e"),c.leafNode("f",h,d.formula),c.leafNode("v",null,d.result.error);break;case s.ValueType.Date:c.leafNode("f",h,d.formula),c.leafNode("v",null,i.dateToExcel(d.result,d.date1904));break;default:throw new Error("I could not understand type of value")}}render(c,d){if(d.type!==s.ValueType.Null||d.styleId){switch(c.openNode("c"),c.addAttribute("r",d.address),d.styleId&&c.addAttribute("s",d.styleId),d.type){case s.ValueType.Null:break;case s.ValueType.Number:c.leafNode("v",null,d.value);break;case s.ValueType.Boolean:c.addAttribute("t","b"),c.leafNode("v",null,d.value?"1":"0");break;case s.ValueType.Error:c.addAttribute("t","e"),c.leafNode("v",null,d.value.error);break;case s.ValueType.String:case s.ValueType.RichText:d.ssId!==void 0?(c.addAttribute("t","s"),c.leafNode("v",null,d.ssId)):d.value&&d.value.richText?(c.addAttribute("t","inlineStr"),c.openNode("is"),d.value.richText.forEach(h=>{this.richTextXForm.render(c,h)}),c.closeNode("is")):(c.addAttribute("t","str"),c.leafNode("v",null,d.value));break;case s.ValueType.Date:c.leafNode("v",null,i.dateToExcel(d.value,d.date1904));break;case s.ValueType.Hyperlink:d.ssId!==void 0?(c.addAttribute("t","s"),c.leafNode("v",null,d.ssId)):(c.addAttribute("t","str"),c.leafNode("v",null,d.text));break;case s.ValueType.Formula:this.renderFormula(c,d);break;case s.ValueType.Merge:}c.closeNode()}}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"c":return this.model={address:c.attributes.r},this.t=c.attributes.t,c.attributes.s&&(this.model.styleId=parseInt(c.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=c.attributes.si,this.model.shareType=c.attributes.t,this.model.ref=c.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(c),!0;default:return!1}}parseText(c){if(this.parser)this.parser.parseText(c);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+c:c;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+c:c:this.model.value=this.model.value?this.model.value+c:c}}parseClose(c){switch(c){case"c":{let{model:d}=this;if(d.formula||d.shareType)d.type=s.ValueType.Formula,d.value&&(this.t==="str"?d.result=i.xmlDecode(d.value):this.t==="b"?d.result=parseInt(d.value,10)!==0:this.t==="e"?d.result={error:d.value}:d.result=parseFloat(d.value),d.value=void 0);else if(d.value!==void 0)switch(this.t){case"s":d.type=s.ValueType.String,d.value=parseInt(d.value,10);break;case"str":d.type=s.ValueType.String,d.value=i.xmlDecode(d.value);break;case"inlineStr":d.type=s.ValueType.String;break;case"b":d.type=s.ValueType.Boolean,d.value=parseInt(d.value,10)!==0;break;case"e":d.type=s.ValueType.Error,d.value={error:d.value};break;default:d.type=s.ValueType.Number,d.value=parseFloat(d.value)}else d.styleId?d.type=s.ValueType.Null:d.type=s.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(c),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(c),!0)}}reconcile(c,d){let h=c.styleId&&d.styles&&d.styles.getStyleModel(c.styleId);switch(h&&(c.style=h),c.styleId!==void 0&&(c.styleId=void 0),c.type){case s.ValueType.String:typeof c.value=="number"&&d.sharedStrings&&(c.value=d.sharedStrings.getString(c.value)),c.value.richText&&(c.type=s.ValueType.RichText);break;case s.ValueType.Number:h&&i.isDateFmt(h.numFmt)&&(c.type=s.ValueType.Date,c.value=i.excelToDate(c.value,d.date1904));break;case s.ValueType.Formula:c.result!==void 0&&h&&i.isDateFmt(h.numFmt)&&(c.result=i.excelToDate(c.result,d.date1904)),c.shareType==="shared"&&(c.ref?d.formulae[c.si]=c.address:(c.sharedFormula=d.formulae[c.si],delete c.shareType),delete c.si)}let u=d.hyperlinkMap[c.address];u&&(c.type===s.ValueType.Formula?(c.text=c.result,c.result=void 0):(c.text=c.value,c.value=void 0),c.type=s.ValueType.Hyperlink,c.hyperlink=u);let f=d.commentsMap&&d.commentsMap[c.address];f&&(c.comment=f)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(e,t,r){"use strict";let i=e("../../base-xform");t.exports=class extends i{get tag(){return"x14:cfIcon"}render(n,o){n.leafNode(this.tag,{iconSet:o.iconSet,iconId:o.iconId})}parseOpen(n){let{attributes:o}=n;this.model={iconSet:o.iconSet,iconId:i.toIntValue(o.iconId)}}parseClose(n){return n!==this.tag}}},{"../../base-xform":32}],75:[function(e,t,r){"use strict";let{v4:i}=e("uuid"),n=e("../../base-xform"),o=e("../../composite-xform"),s=e("./databar-ext-xform"),a=e("./icon-set-ext-xform"),l={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class c extends o{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new s,"x14:iconSet":this.iconSetXform=new a}}get tag(){return"x14:cfRule"}static isExt(h){return h.type==="dataBar"?s.isExt(h):!(h.type!=="iconSet"||!h.custom&&!l[h.iconSet])}prepare(h){c.isExt(h)&&(h.x14Id=`{${i()}}`.toUpperCase())}render(h,u){if(c.isExt(u))switch(u.type){case"dataBar":this.renderDataBar(h,u);break;case"iconSet":this.renderIconSet(h,u)}}renderDataBar(h,u){h.openNode(this.tag,{type:"dataBar",id:u.x14Id}),this.databarXform.render(h,u),h.closeNode()}renderIconSet(h,u){h.openNode(this.tag,{type:"iconSet",priority:u.priority,id:u.x14Id||`{${i()}}`}),this.iconSetXform.render(h,u),h.closeNode()}createNewModel(h){let{attributes:u}=h;return{type:u.type,x14Id:u.id,priority:n.toIntValue(u.priority)}}onParserClose(h,u){Object.assign(this.model,u.model)}}t.exports=c},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(e,t,r){"use strict";let i=e("../../composite-xform"),n=e("./f-ext-xform");t.exports=class extends i{constructor(){super(),this.map={"xm:f":this.fExtXform=new n}}get tag(){return"x14:cfvo"}render(o,s){o.openNode(this.tag,{type:s.type}),s.value!==void 0&&this.fExtXform.render(o,s.value),o.closeNode()}createNewModel(o){return{type:o.attributes.type}}onParserClose(o,s){switch(o){case"xm:f":this.model.value=s.model?parseFloat(s.model):0}}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(e,t,r){"use strict";let i=e("../../composite-xform"),n=e("./sqref-ext-xform"),o=e("./cf-rule-ext-xform");t.exports=class extends i{constructor(){super(),this.map={"xm:sqref":this.sqRef=new n,"x14:cfRule":this.cfRule=new o}}get tag(){return"x14:conditionalFormatting"}prepare(s,a){s.rules.forEach(l=>{this.cfRule.prepare(l,a)})}render(s,a){a.rules.some(o.isExt)&&(s.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),a.rules.filter(o.isExt).forEach(l=>this.cfRule.render(s,l)),this.sqRef.render(s,a.ref),s.closeNode())}createNewModel(){return{rules:[]}}onParserClose(s,a){switch(s){case"xm:sqref":this.model.ref=a.model;break;case"x14:cfRule":this.model.rules.push(a.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(e,t,r){"use strict";let i=e("../../composite-xform"),n=e("./cf-rule-ext-xform"),o=e("./conditional-formatting-ext-xform");t.exports=class extends i{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new o}}get tag(){return"x14:conditionalFormattings"}hasContent(s){return s.hasExtContent===void 0&&(s.hasExtContent=s.some(a=>a.rules.some(n.isExt))),s.hasExtContent}prepare(s,a){s.forEach(l=>{this.cfXform.prepare(l,a)})}render(s,a){this.hasContent(a)&&(s.openNode(this.tag),a.forEach(l=>this.cfXform.render(s,l)),s.closeNode())}createNewModel(){return[]}onParserClose(s,a){this.model.push(a.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(e,t,r){"use strict";let i=e("../../base-xform"),n=e("../../composite-xform"),o=e("../../style/color-xform"),s=e("./cfvo-ext-xform");t.exports=class extends n{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new s,"x14:borderColor":this.borderColorXform=new o("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new o("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new o("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new o("x14:axisColor")}}static isExt(a){return!a.gradient}get tag(){return"x14:dataBar"}render(a,l){a.openNode(this.tag,{minLength:i.toIntAttribute(l.minLength,0,!0),maxLength:i.toIntAttribute(l.maxLength,100,!0),border:i.toBoolAttribute(l.border,!1),gradient:i.toBoolAttribute(l.gradient,!0),negativeBarColorSameAsPositive:i.toBoolAttribute(l.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:i.toBoolAttribute(l.negativeBarBorderColorSameAsPositive,!0),axisPosition:i.toAttribute(l.axisPosition,"auto"),direction:i.toAttribute(l.direction,"leftToRight")}),l.cfvo.forEach(c=>{this.cfvoXform.render(a,c)}),this.borderColorXform.render(a,l.borderColor),this.negativeBorderColorXform.render(a,l.negativeBorderColor),this.negativeFillColorXform.render(a,l.negativeFillColor),this.axisColorXform.render(a,l.axisColor),a.closeNode()}createNewModel(a){let{attributes:l}=a;return{cfvo:[],minLength:i.toIntValue(l.minLength,0),maxLength:i.toIntValue(l.maxLength,100),border:i.toBoolValue(l.border,!1),gradient:i.toBoolValue(l.gradient,!0),negativeBarColorSameAsPositive:i.toBoolValue(l.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:i.toBoolValue(l.negativeBarBorderColorSameAsPositive,!0),axisPosition:i.toStringValue(l.axisPosition,"auto"),direction:i.toStringValue(l.direction,"leftToRight")}}onParserClose(a,l){let[,c]=a.split(":");switch(c){case"cfvo":this.model.cfvo.push(l.model);break;default:this.model[c]=l.model}}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(e,t,r){"use strict";let i=e("../../base-xform");t.exports=class extends i{get tag(){return"xm:f"}render(n,o){n.leafNode(this.tag,null,o)}parseOpen(){this.model=""}parseText(n){this.model+=n}parseClose(n){return n!==this.tag}}},{"../../base-xform":32}],81:[function(e,t,r){"use strict";let i=e("../../base-xform"),n=e("../../composite-xform"),o=e("./cfvo-ext-xform"),s=e("./cf-icon-ext-xform");t.exports=class extends n{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new o,"x14:cfIcon":this.cfIconXform=new s}}get tag(){return"x14:iconSet"}render(a,l){a.openNode(this.tag,{iconSet:i.toStringAttribute(l.iconSet),reverse:i.toBoolAttribute(l.reverse,!1),showValue:i.toBoolAttribute(l.showValue,!0),custom:i.toBoolAttribute(l.icons,!1)}),l.cfvo.forEach(c=>{this.cfvoXform.render(a,c)}),l.icons&&l.icons.forEach((c,d)=>{c.iconId=d,this.cfIconXform.render(a,c)}),a.closeNode()}createNewModel(a){let{attributes:l}=a;return{cfvo:[],iconSet:i.toStringValue(l.iconSet,"3TrafficLights"),reverse:i.toBoolValue(l.reverse,!1),showValue:i.toBoolValue(l.showValue,!0)}}onParserClose(a,l){let[,c]=a.split(":");switch(c){case"cfvo":this.model.cfvo.push(l.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(l.model);break;default:this.model[c]=l.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(e,t,r){"use strict";let i=e("../../base-xform");t.exports=class extends i{get tag(){return"xm:sqref"}render(n,o){n.leafNode(this.tag,null,o)}parseOpen(){this.model=""}parseText(n){this.model+=n}parseClose(n){return n!==this.tag}}},{"../../base-xform":32}],83:[function(e,t,r){"use strict";let i=e("../../base-xform"),n=e("../../composite-xform"),o=e("../../../../doc/range"),s=e("./databar-xform"),a=e("./ext-lst-ref-xform"),l=e("./formula-xform"),c=e("./color-scale-xform"),d=e("./icon-set-xform"),h={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},u=m=>{let{type:g,operator:p}=m;switch(g){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:g};default:return{type:g,operator:p}}};class f extends n{constructor(){super(),this.map={dataBar:this.databarXform=new s,extLst:this.extLstRefXform=new a,formula:this.formulaXform=new l,colorScale:this.colorScaleXform=new c,iconSet:this.iconSetXform=new d}}get tag(){return"cfRule"}static isPrimitive(g){return g.type!=="iconSet"||!g.custom&&!h[g.iconSet]}render(g,p){switch(p.type){case"expression":this.renderExpression(g,p);break;case"cellIs":this.renderCellIs(g,p);break;case"top10":this.renderTop10(g,p);break;case"aboveAverage":this.renderAboveAverage(g,p);break;case"dataBar":this.renderDataBar(g,p);break;case"colorScale":this.renderColorScale(g,p);break;case"iconSet":this.renderIconSet(g,p);break;case"containsText":this.renderText(g,p);break;case"timePeriod":this.renderTimePeriod(g,p)}}renderExpression(g,p){g.openNode(this.tag,{type:"expression",dxfId:p.dxfId,priority:p.priority}),this.formulaXform.render(g,p.formulae[0]),g.closeNode()}renderCellIs(g,p){g.openNode(this.tag,{type:"cellIs",dxfId:p.dxfId,priority:p.priority,operator:p.operator}),p.formulae.forEach(b=>{this.formulaXform.render(g,b)}),g.closeNode()}renderTop10(g,p){g.leafNode(this.tag,{type:"top10",dxfId:p.dxfId,priority:p.priority,percent:i.toBoolAttribute(p.percent,!1),bottom:i.toBoolAttribute(p.bottom,!1),rank:i.toIntValue(p.rank,10,!0)})}renderAboveAverage(g,p){g.leafNode(this.tag,{type:"aboveAverage",dxfId:p.dxfId,priority:p.priority,aboveAverage:i.toBoolAttribute(p.aboveAverage,!0)})}renderDataBar(g,p){g.openNode(this.tag,{type:"dataBar",priority:p.priority}),this.databarXform.render(g,p),this.extLstRefXform.render(g,p),g.closeNode()}renderColorScale(g,p){g.openNode(this.tag,{type:"colorScale",priority:p.priority}),this.colorScaleXform.render(g,p),g.closeNode()}renderIconSet(g,p){f.isPrimitive(p)&&(g.openNode(this.tag,{type:"iconSet",priority:p.priority}),this.iconSetXform.render(g,p),g.closeNode())}renderText(g,p){g.openNode(this.tag,{type:p.operator,dxfId:p.dxfId,priority:p.priority,operator:i.toStringAttribute(p.operator,"containsText")});let b=(_=>{if(_.formulae&&_.formulae[0])return _.formulae[0];let E=new o(_.ref),{tl:O}=E;switch(_.operator){case"containsText":return`NOT(ISERROR(SEARCH("${_.text}",${O})))`;case"containsBlanks":return`LEN(TRIM(${O}))=0`;case"notContainsBlanks":return`LEN(TRIM(${O}))>0`;case"containsErrors":return`ISERROR(${O})`;case"notContainsErrors":return`NOT(ISERROR(${O}))`;default:return}})(p);b&&this.formulaXform.render(g,b),g.closeNode()}renderTimePeriod(g,p){g.openNode(this.tag,{type:"timePeriod",dxfId:p.dxfId,priority:p.priority,timePeriod:p.timePeriod});let b=(_=>{if(_.formulae&&_.formulae[0])return _.formulae[0];let E=new o(_.ref),{tl:O}=E;switch(_.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${O},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${O},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${O},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${O},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${O},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${O},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${O},1)=TODAY()-1`;case"today":return`FLOOR(${O},1)=TODAY()`;case"tomorrow":return`FLOOR(${O},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${O},1)<=6,FLOOR(${O},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${O})=MONTH(EDATE(TODAY(),0-1)),YEAR(${O})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${O})=MONTH(TODAY()),YEAR(${O})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${O})=MONTH(EDATE(TODAY(),0+1)),YEAR(${O})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(p);b&&this.formulaXform.render(g,b),g.closeNode()}createNewModel(g){let{attributes:p}=g;return Ue(jt({},u(p)),{dxfId:i.toIntValue(p.dxfId),priority:i.toIntValue(p.priority),timePeriod:p.timePeriod,percent:i.toBoolValue(p.percent),bottom:i.toBoolValue(p.bottom),rank:i.toIntValue(p.rank),aboveAverage:i.toBoolValue(p.aboveAverage)})}onParserClose(g,p){switch(g){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,p.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(p.model)}}}t.exports=f},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(e,t,r){"use strict";let i=e("../../base-xform");t.exports=class extends i{get tag(){return"cfvo"}render(n,o){n.leafNode(this.tag,{type:o.type,val:o.value})}parseOpen(n){this.model={type:n.attributes.type,value:i.toFloatValue(n.attributes.val)}}parseClose(n){return n!==this.tag}}},{"../../base-xform":32}],85:[function(e,t,r){"use strict";let i=e("../../composite-xform"),n=e("../../style/color-xform"),o=e("./cfvo-xform");t.exports=class extends i{constructor(){super(),this.map={cfvo:this.cfvoXform=new o,color:this.colorXform=new n}}get tag(){return"colorScale"}render(s,a){s.openNode(this.tag),a.cfvo.forEach(l=>{this.cfvoXform.render(s,l)}),a.color.forEach(l=>{this.colorXform.render(s,l)}),s.closeNode()}createNewModel(s){return{cfvo:[],color:[]}}onParserClose(s,a){this.model[s].push(a.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(e,t,r){"use strict";let i=e("../../composite-xform"),n=e("./cf-rule-xform");t.exports=class extends i{constructor(){super(),this.map={cfRule:new n}}get tag(){return"conditionalFormatting"}render(o,s){s.rules.some(n.isPrimitive)&&(o.openNode(this.tag,{sqref:s.ref}),s.rules.forEach(a=>{n.isPrimitive(a)&&(a.ref=s.ref,this.map.cfRule.render(o,a))}),o.closeNode())}createNewModel(o){let{attributes:s}=o;return{ref:s.sqref,rules:[]}}onParserClose(o,s){this.model.rules.push(s.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(e,t,r){"use strict";let i=e("../../base-xform"),n=e("./conditional-formatting-xform");t.exports=class extends i{constructor(){super(),this.cfXform=new n}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(o,s){let a=o.reduce((l,c)=>Math.max(l,...c.rules.map(d=>d.priority||0)),1);o.forEach(l=>{l.rules.forEach(c=>{c.priority||(c.priority=a++),c.style&&(c.dxfId=s.styles.addDxfStyle(c.style))})})}render(o,s){s.forEach(a=>{this.cfXform.render(o,a)})}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(o),!0;default:return!1}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){return!!this.parser&&(!!this.parser.parseClose(o)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(o,s){o.forEach(a=>{a.rules.forEach(l=>{l.dxfId!==void 0&&(l.style=s.styles.getDxfStyle(l.dxfId),delete l.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(e,t,r){"use strict";let i=e("../../composite-xform"),n=e("../../style/color-xform"),o=e("./cfvo-xform");t.exports=class extends i{constructor(){super(),this.map={cfvo:this.cfvoXform=new o,color:this.colorXform=new n}}get tag(){return"dataBar"}render(s,a){s.openNode(this.tag),a.cfvo.forEach(l=>{this.cfvoXform.render(s,l)}),this.colorXform.render(s,a.color),s.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(s,a){switch(s){case"cfvo":this.model.cfvo.push(a.model);break;case"color":this.model.color=a.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(e,t,r){"use strict";let i=e("../../base-xform"),n=e("../../composite-xform");class o extends i{get tag(){return"x14:id"}render(l,c){l.leafNode(this.tag,null,c)}parseOpen(){this.model=""}parseText(l){this.model+=l}parseClose(l){return l!==this.tag}}class s extends n{constructor(){super(),this.map={"x14:id":this.idXform=new o}}get tag(){return"ext"}render(l,c){l.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(l,c.x14Id),l.closeNode()}createNewModel(){return{}}onParserClose(l,c){this.model.x14Id=c.model}}t.exports=class extends n{constructor(){super(),this.map={ext:new s}}get tag(){return"extLst"}render(a,l){a.openNode(this.tag),this.map.ext.render(a,l),a.closeNode()}createNewModel(){return{}}onParserClose(a,l){Object.assign(this.model,l.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(e,t,r){"use strict";let i=e("../../base-xform");t.exports=class extends i{get tag(){return"formula"}render(n,o){n.leafNode(this.tag,null,o)}parseOpen(){this.model=""}parseText(n){this.model+=n}parseClose(n){return n!==this.tag}}},{"../../base-xform":32}],91:[function(e,t,r){"use strict";let i=e("../../base-xform"),n=e("../../composite-xform"),o=e("./cfvo-xform");t.exports=class extends n{constructor(){super(),this.map={cfvo:this.cfvoXform=new o}}get tag(){return"iconSet"}render(s,a){s.openNode(this.tag,{iconSet:i.toStringAttribute(a.iconSet,"3TrafficLights"),reverse:i.toBoolAttribute(a.reverse,!1),showValue:i.toBoolAttribute(a.showValue,!0)}),a.cfvo.forEach(l=>{this.cfvoXform.render(s,l)}),s.closeNode()}createNewModel(s){let{attributes:a}=s;return{iconSet:i.toStringValue(a.iconSet,"3TrafficLights"),reverse:i.toBoolValue(a.reverse),showValue:i.toBoolValue(a.showValue),cfvo:[]}}onParserClose(s,a){this.model[s].push(a.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(e,t,r){"use strict";let i=e("../../../utils/utils"),n=e("../base-xform");t.exports=class extends n{get tag(){return"col"}prepare(o,s){let a=s.styles.addStyleModel(o.style||{});a&&(o.styleId=a)}render(o,s){o.openNode("col"),o.addAttribute("min",s.min),o.addAttribute("max",s.max),s.width&&o.addAttribute("width",s.width),s.styleId&&o.addAttribute("style",s.styleId),s.hidden&&o.addAttribute("hidden","1"),s.bestFit&&o.addAttribute("bestFit","1"),s.outlineLevel&&o.addAttribute("outlineLevel",s.outlineLevel),s.collapsed&&o.addAttribute("collapsed","1"),o.addAttribute("customWidth","1"),o.closeNode()}parseOpen(o){if(o.name==="col"){let s=this.model={min:parseInt(o.attributes.min||"0",10),max:parseInt(o.attributes.max||"0",10),width:o.attributes.width===void 0?void 0:parseFloat(o.attributes.width||"0")};return o.attributes.style&&(s.styleId=parseInt(o.attributes.style,10)),i.parseBoolean(o.attributes.hidden)&&(s.hidden=!0),i.parseBoolean(o.attributes.bestFit)&&(s.bestFit=!0),o.attributes.outlineLevel&&(s.outlineLevel=parseInt(o.attributes.outlineLevel,10)),i.parseBoolean(o.attributes.collapsed)&&(s.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(o,s){o.styleId&&(o.style=s.styles.getStyleModel(o.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(e,t,r){"use strict";let i=e("../../../utils/under-dash"),n=e("../../../utils/utils"),o=e("../../../utils/col-cache"),s=e("../base-xform"),a=e("../../../doc/range");function l(d,h,u,f){let m=h[u];m!==void 0?d[u]=m:f!==void 0&&(d[u]=f)}function c(d,h,u,f){let m=h[u];m!==void 0?d[u]=n.parseBoolean(m):f!==void 0&&(d[u]=f)}t.exports=class extends s{get tag(){return"dataValidations"}render(d,h){let u=function(f){let m=i.map(f,(b,_)=>({address:_,dataValidation:b,marked:!1})).sort((b,_)=>i.strcmp(b.address,_.address)),g=i.keyBy(m,"address"),p=(b,_,E)=>{for(let O=0;O<_;O++){let V=o.encodeAddress(b.row+O,E);if(!f[V]||!i.isEqual(f[b.address],f[V]))return!1}return!0};return m.map(b=>{if(!b.marked){let _=o.decodeEx(b.address);if(_.dimensions)return g[_.dimensions].marked=!0,Ue(jt({},b.dataValidation),{sqref:b.address});let E=1,O=o.encodeAddress(_.row+E,_.col);for(;f[O]&&i.isEqual(b.dataValidation,f[O]);)E++,O=o.encodeAddress(_.row+E,_.col);let V=1;for(;p(_,E,_.col+V);)V++;for(let H=0;H<E;H++)for(let F=0;F<V;F++)O=o.encodeAddress(_.row+H,_.col+F),g[O].marked=!0;if(E>1||V>1){let H=_.row+(E-1),F=_.col+(V-1);return Ue(jt({},b.dataValidation),{sqref:`${b.address}:${o.encodeAddress(H,F)}`})}return Ue(jt({},b.dataValidation),{sqref:b.address})}return null}).filter(Boolean)}(h);u.length&&(d.openNode("dataValidations",{count:u.length}),u.forEach(f=>{d.openNode("dataValidation"),f.type!=="any"&&(d.addAttribute("type",f.type),f.operator&&f.type!=="list"&&f.operator!=="between"&&d.addAttribute("operator",f.operator),f.allowBlank&&d.addAttribute("allowBlank","1")),f.showInputMessage&&d.addAttribute("showInputMessage","1"),f.promptTitle&&d.addAttribute("promptTitle",f.promptTitle),f.prompt&&d.addAttribute("prompt",f.prompt),f.showErrorMessage&&d.addAttribute("showErrorMessage","1"),f.errorStyle&&d.addAttribute("errorStyle",f.errorStyle),f.errorTitle&&d.addAttribute("errorTitle",f.errorTitle),f.error&&d.addAttribute("error",f.error),d.addAttribute("sqref",f.sqref),(f.formulae||[]).forEach((m,g)=>{d.openNode("formula"+(g+1)),f.type==="date"?d.writeText(n.dateToExcel(new Date(m))):d.writeText(m),d.closeNode()}),d.closeNode()}),d.closeNode())}parseOpen(d){switch(d.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=d.attributes.sqref;let h={type:d.attributes.type||"any",formulae:[]};switch(d.attributes.type&&c(h,d.attributes,"allowBlank"),c(h,d.attributes,"showInputMessage"),c(h,d.attributes,"showErrorMessage"),h.type){case"any":case"list":case"custom":break;default:l(h,d.attributes,"operator","between")}return l(h,d.attributes,"promptTitle"),l(h,d.attributes,"prompt"),l(h,d.attributes,"errorStyle"),l(h,d.attributes,"errorTitle"),l(h,d.attributes,"error"),this._dataValidation=h,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(d){this._formula&&this._formula.push(d)}parseClose(d){switch(d){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(h=>{h.includes(":")?new a(h).forEachAddress(u=>{this.model[u]=this._dataValidation}):this.model[h]=this._dataValidation}),!0;case"formula1":case"formula2":{let h=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":h=parseInt(h,10);break;case"decimal":h=parseFloat(h);break;case"date":h=n.excelToDate(parseFloat(h))}return this._dataValidation.formulae.push(h),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{get tag(){return"dimension"}render(n,o){o&&n.leafNode("dimension",{ref:o})}parseOpen(n){return n.name==="dimension"&&(this.model=n.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{get tag(){return"drawing"}render(n,o){o&&n.leafNode(this.tag,{"r:id":o.rId})}parseOpen(n){switch(n.name){case this.tag:return this.model={rId:n.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(e,t,r){"use strict";let i=e("../composite-xform"),n=e("./cf-ext/conditional-formattings-ext-xform");class o extends i{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new n}}get tag(){return"ext"}hasContent(a){return this.conditionalFormattings.hasContent(a.conditionalFormattings)}prepare(a,l){this.conditionalFormattings.prepare(a.conditionalFormattings,l)}render(a,l){a.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(a,l.conditionalFormattings),a.closeNode()}createNewModel(){return{}}onParserClose(a,l){this.model[a]=l.model}}t.exports=class extends i{constructor(){super(),this.map={ext:this.ext=new o}}get tag(){return"extLst"}prepare(s,a){this.ext.prepare(s,a)}hasContent(s){return this.ext.hasContent(s)}render(s,a){this.hasContent(a)&&(s.openNode("extLst"),this.ext.render(s,a),s.closeNode())}createNewModel(){return{}}onParserClose(s,a){Object.assign(this.model,a.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{get tag(){return"headerFooter"}render(n,o){if(o){n.addRollback();let s=!1;n.openNode("headerFooter"),o.differentFirst&&(n.addAttribute("differentFirst","1"),s=!0),o.differentOddEven&&(n.addAttribute("differentOddEven","1"),s=!0),o.oddHeader&&typeof o.oddHeader=="string"&&(n.leafNode("oddHeader",null,o.oddHeader),s=!0),o.oddFooter&&typeof o.oddFooter=="string"&&(n.leafNode("oddFooter",null,o.oddFooter),s=!0),o.evenHeader&&typeof o.evenHeader=="string"&&(n.leafNode("evenHeader",null,o.evenHeader),s=!0),o.evenFooter&&typeof o.evenFooter=="string"&&(n.leafNode("evenFooter",null,o.evenFooter),s=!0),o.firstHeader&&typeof o.firstHeader=="string"&&(n.leafNode("firstHeader",null,o.firstHeader),s=!0),o.firstFooter&&typeof o.firstFooter=="string"&&(n.leafNode("firstFooter",null,o.firstFooter),s=!0),s?(n.closeNode(),n.commit()):n.rollback()}}parseOpen(n){switch(n.name){case"headerFooter":return this.model={},n.attributes.differentFirst&&(this.model.differentFirst=parseInt(n.attributes.differentFirst,0)===1),n.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(n.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(n){switch(this.currentNode){case"oddHeader":this.model.oddHeader=n;break;case"oddFooter":this.model.oddFooter=n;break;case"evenHeader":this.model.evenHeader=n;break;case"evenFooter":this.model.evenFooter=n;break;case"firstHeader":this.model.firstHeader=n;break;case"firstFooter":this.model.firstFooter=n}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{get tag(){return"hyperlink"}render(n,o){this.isInternalLink(o)?n.leafNode("hyperlink",{ref:o.address,"r:id":o.rId,tooltip:o.tooltip,location:o.target}):n.leafNode("hyperlink",{ref:o.address,"r:id":o.rId,tooltip:o.tooltip})}parseOpen(n){return n.name==="hyperlink"&&(this.model={address:n.attributes.ref,rId:n.attributes["r:id"],tooltip:n.attributes.tooltip},n.attributes.location&&(this.model.target=n.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(n){return n.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(n.target)}}},{"../base-xform":32}],99:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{get tag(){return"mergeCell"}render(n,o){n.leafNode("mergeCell",{ref:o})}parseOpen(n){return n.name==="mergeCell"&&(this.model=n.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(e,t,r){"use strict";let i=e("../../../utils/under-dash"),n=e("../../../doc/range"),o=e("../../../utils/col-cache"),s=e("../../../doc/enums");t.exports=class{constructor(){this.merges={}}add(a){if(this.merges[a.master])this.merges[a.master].expandToAddress(a.address);else{let l=`${a.master}:${a.address}`;this.merges[a.master]=new n(l)}}get mergeCells(){return i.map(this.merges,a=>a.range)}reconcile(a,l){i.each(a,c=>{let d=o.decode(c);for(let h=d.top;h<=d.bottom;h++){let u=l[h-1];for(let f=d.left;f<=d.right;f++){let m=u.cells[f-1];m?m.type===s.ValueType.Merge&&(m.master=d.tl):u.cells[f]={type:s.ValueType.Null,address:o.encodeAddress(h,f)}}}})}getMasterAddress(a){let l=this.hash[a];return l&&l.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(e,t,r){"use strict";let i=e("../base-xform"),n=o=>o!==void 0;t.exports=class extends i{get tag(){return"outlinePr"}render(o,s){return!(!s||!n(s.summaryBelow)&&!n(s.summaryRight))&&(o.leafNode(this.tag,{summaryBelow:n(s.summaryBelow)?Number(s.summaryBelow):void 0,summaryRight:n(s.summaryRight)?Number(s.summaryRight):void 0}),!0)}parseOpen(o){return o.name===this.tag&&(this.model={summaryBelow:n(o.attributes.summaryBelow)?!!Number(o.attributes.summaryBelow):void 0,summaryRight:n(o.attributes.summaryRight)?!!Number(o.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{get tag(){return"brk"}render(n,o){n.leafNode("brk",o)}parseOpen(n){return n.name==="brk"&&(this.model=n.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(e,t,r){"use strict";let i=e("../../../utils/under-dash"),n=e("../base-xform");t.exports=class extends n{get tag(){return"pageMargins"}render(o,s){if(s){let a={left:s.left,right:s.right,top:s.top,bottom:s.bottom,header:s.header,footer:s.footer};i.some(a,l=>l!==void 0)&&o.leafNode(this.tag,a)}}parseOpen(o){switch(o.name){case this.tag:return this.model={left:parseFloat(o.attributes.left||.7),right:parseFloat(o.attributes.right||.7),top:parseFloat(o.attributes.top||.75),bottom:parseFloat(o.attributes.bottom||.75),header:parseFloat(o.attributes.header||.3),footer:parseFloat(o.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{get tag(){return"pageSetUpPr"}render(n,o){return!(!o||!o.fitToPage)&&(n.leafNode(this.tag,{fitToPage:o.fitToPage?"1":void 0}),!0)}parseOpen(n){return n.name===this.tag&&(this.model={fitToPage:n.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(e,t,r){"use strict";let i=e("../../../utils/under-dash"),n=e("../base-xform");function o(c){return c?"1":void 0}function s(c){switch(c){case"overThenDown":return c;default:return}}function a(c){switch(c){case"atEnd":case"asDisplyed":return c;default:return}}function l(c){switch(c){case"dash":case"blank":case"NA":return c;default:return}}t.exports=class extends n{get tag(){return"pageSetup"}render(c,d){if(d){let h={paperSize:d.paperSize,orientation:d.orientation,horizontalDpi:d.horizontalDpi,verticalDpi:d.verticalDpi,pageOrder:s(d.pageOrder),blackAndWhite:o(d.blackAndWhite),draft:o(d.draft),cellComments:a(d.cellComments),errors:l(d.errors),scale:d.scale,fitToWidth:d.fitToWidth,fitToHeight:d.fitToHeight,firstPageNumber:d.firstPageNumber,useFirstPageNumber:o(d.firstPageNumber),usePrinterDefaults:o(d.usePrinterDefaults),copies:d.copies};i.some(h,u=>u!==void 0)&&c.leafNode(this.tag,h)}}parseOpen(c){switch(c.name){case this.tag:return this.model={paperSize:(d=c.attributes.paperSize,d!==void 0?parseInt(d,10):void 0),orientation:c.attributes.orientation||"portrait",horizontalDpi:parseInt(c.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(c.attributes.verticalDpi||"4294967295",10),pageOrder:c.attributes.pageOrder||"downThenOver",blackAndWhite:c.attributes.blackAndWhite==="1",draft:c.attributes.draft==="1",cellComments:c.attributes.cellComments||"None",errors:c.attributes.errors||"displayed",scale:parseInt(c.attributes.scale||"100",10),fitToWidth:parseInt(c.attributes.fitToWidth||"1",10),fitToHeight:parseInt(c.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(c.attributes.firstPageNumber||"1",10),useFirstPageNumber:c.attributes.useFirstPageNumber==="1",usePrinterDefaults:c.attributes.usePrinterDefaults==="1",copies:parseInt(c.attributes.copies||"1",10)},!0;default:return!1}var d}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{get tag(){return"picture"}render(n,o){o&&n.leafNode(this.tag,{"r:id":o.rId})}parseOpen(n){switch(n.name){case this.tag:return this.model={rId:n.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(e,t,r){"use strict";let i=e("../../../utils/under-dash"),n=e("../base-xform");function o(s){return s?"1":void 0}t.exports=class extends n{get tag(){return"printOptions"}render(s,a){if(a){let l={headings:o(a.showRowColHeaders),gridLines:o(a.showGridLines),horizontalCentered:o(a.horizontalCentered),verticalCentered:o(a.verticalCentered)};i.some(l,c=>c!==void 0)&&s.leafNode(this.tag,l)}}parseOpen(s){switch(s.name){case this.tag:return this.model={showRowColHeaders:s.attributes.headings==="1",showGridLines:s.attributes.gridLines==="1",horizontalCentered:s.attributes.horizontalCentered==="1",verticalCentered:s.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(e,t,r){"use strict";let i=e("./page-breaks-xform"),n=e("../list-xform");t.exports=class extends n{constructor(){super({tag:"rowBreaks",count:!0,childXform:new i})}render(o,s){if(s&&s.length){o.openNode(this.tag,this.$),this.count&&(o.addAttribute(this.$count,s.length),o.addAttribute("manualBreakCount",s.length));let{childXform:a}=this;s.forEach(l=>{a.render(o,l)}),o.closeNode()}else this.empty&&o.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(e,t,r){"use strict";let i=e("../base-xform"),n=e("../../../utils/utils"),o=e("./cell-xform");t.exports=class extends i{constructor(s){super(),this.maxItems=s&&s.maxItems,this.map={c:new o}}get tag(){return"row"}prepare(s,a){let l=a.styles.addStyleModel(s.style);l&&(s.styleId=l);let c=this.map.c;s.cells.forEach(d=>{c.prepare(d,a)})}render(s,a,l){s.openNode("row"),s.addAttribute("r",a.number),a.height&&(s.addAttribute("ht",a.height),s.addAttribute("customHeight","1")),a.hidden&&s.addAttribute("hidden","1"),a.min>0&&a.max>0&&a.min<=a.max&&s.addAttribute("spans",`${a.min}:${a.max}`),a.styleId&&(s.addAttribute("s",a.styleId),s.addAttribute("customFormat","1")),s.addAttribute("x14ac:dyDescent","0.25"),a.outlineLevel&&s.addAttribute("outlineLevel",a.outlineLevel),a.collapsed&&s.addAttribute("collapsed","1");let c=this.map.c;a.cells.forEach(d=>{c.render(s,d,l)}),s.closeNode()}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;if(s.name==="row"){this.numRowsSeen+=1;let a=s.attributes.spans?s.attributes.spans.split(":").map(c=>parseInt(c,10)):[void 0,void 0],l=this.model={number:parseInt(s.attributes.r,10),min:a[0],max:a[1],cells:[]};return s.attributes.s&&(l.styleId=parseInt(s.attributes.s,10)),n.parseBoolean(s.attributes.hidden)&&(l.hidden=!0),n.parseBoolean(s.attributes.bestFit)&&(l.bestFit=!0),s.attributes.ht&&(l.height=parseFloat(s.attributes.ht)),s.attributes.outlineLevel&&(l.outlineLevel=parseInt(s.attributes.outlineLevel,10)),n.parseBoolean(s.attributes.collapsed)&&(l.collapsed=!0),!0}return this.parser=this.map[s.name],!!this.parser&&(this.parser.parseOpen(s),!0)}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){if(this.parser){if(!this.parser.parseClose(s)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(s,a){s.style=s.styleId?a.styles.getStyleModel(s.styleId):{},s.styleId!==void 0&&(s.styleId=void 0);let l=this.map.c;s.cells.forEach(c=>{l.reconcile(c,a)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(e,t,r){"use strict";let i=e("../../../utils/under-dash"),n=e("../base-xform");t.exports=class extends n{get tag(){return"sheetFormatPr"}render(o,s){if(s){let a={defaultRowHeight:s.defaultRowHeight,outlineLevelRow:s.outlineLevelRow,outlineLevelCol:s.outlineLevelCol,"x14ac:dyDescent":s.dyDescent};s.defaultColWidth&&(a.defaultColWidth=s.defaultColWidth),s.defaultRowHeight&&s.defaultRowHeight===15||(a.customHeight="1"),i.some(a,l=>l!==void 0)&&o.leafNode("sheetFormatPr",a)}}parseOpen(o){return o.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(o.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(o.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(o.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(o.attributes.outlineLevelCol||"0",10)},o.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(o.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(e,t,r){"use strict";let i=e("../base-xform"),n=e("../style/color-xform"),o=e("./page-setup-properties-xform"),s=e("./outline-properties-xform");t.exports=class extends i{constructor(){super(),this.map={tabColor:new n("tabColor"),pageSetUpPr:new o,outlinePr:new s}}get tag(){return"sheetPr"}render(a,l){if(l){a.addRollback(),a.openNode("sheetPr");let c=!1;c=this.map.tabColor.render(a,l.tabColor)||c,c=this.map.pageSetUpPr.render(a,l.pageSetup)||c,c=this.map.outlinePr.render(a,l.outlineProperties)||c,c?(a.closeNode(),a.commit()):a.rollback()}}parseOpen(a){return this.parser?(this.parser.parseOpen(a),!0):a.name===this.tag?(this.reset(),!0):!!this.map[a.name]&&(this.parser=this.map[a.name],this.parser.parseOpen(a),!0)}parseText(a){return!!this.parser&&(this.parser.parseText(a),!0)}parseClose(a){return this.parser?(this.parser.parseClose(a)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(e,t,r){"use strict";let i=e("../../../utils/under-dash"),n=e("../base-xform");function o(a,l){return a?l:void 0}function s(a,l){return a===l||void 0}t.exports=class extends n{get tag(){return"sheetProtection"}render(a,l){if(l){let c={sheet:o(l.sheet,"1"),selectLockedCells:l.selectLockedCells===!1?"1":void 0,selectUnlockedCells:l.selectUnlockedCells===!1?"1":void 0,formatCells:o(l.formatCells,"0"),formatColumns:o(l.formatColumns,"0"),formatRows:o(l.formatRows,"0"),insertColumns:o(l.insertColumns,"0"),insertRows:o(l.insertRows,"0"),insertHyperlinks:o(l.insertHyperlinks,"0"),deleteColumns:o(l.deleteColumns,"0"),deleteRows:o(l.deleteRows,"0"),sort:o(l.sort,"0"),autoFilter:o(l.autoFilter,"0"),pivotTables:o(l.pivotTables,"0")};l.sheet&&(c.algorithmName=l.algorithmName,c.hashValue=l.hashValue,c.saltValue=l.saltValue,c.spinCount=l.spinCount,c.objects=o(l.objects===!1,"1"),c.scenarios=o(l.scenarios===!1,"1")),i.some(c,d=>d!==void 0)&&a.leafNode(this.tag,c)}}parseOpen(a){switch(a.name){case this.tag:return this.model={sheet:s(a.attributes.sheet,"1"),objects:a.attributes.objects!=="1"&&void 0,scenarios:a.attributes.scenarios!=="1"&&void 0,selectLockedCells:a.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:a.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:s(a.attributes.formatCells,"0"),formatColumns:s(a.attributes.formatColumns,"0"),formatRows:s(a.attributes.formatRows,"0"),insertColumns:s(a.attributes.insertColumns,"0"),insertRows:s(a.attributes.insertRows,"0"),insertHyperlinks:s(a.attributes.insertHyperlinks,"0"),deleteColumns:s(a.attributes.deleteColumns,"0"),deleteRows:s(a.attributes.deleteRows,"0"),sort:s(a.attributes.sort,"0"),autoFilter:s(a.attributes.autoFilter,"0"),pivotTables:s(a.attributes.pivotTables,"0")},a.attributes.algorithmName&&(this.model.algorithmName=a.attributes.algorithmName,this.model.hashValue=a.attributes.hashValue,this.model.saltValue=a.attributes.saltValue,this.model.spinCount=parseInt(a.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(e,t,r){"use strict";let i=e("../../../utils/col-cache"),n=e("../base-xform"),o={frozen:"frozen",frozenSplit:"frozen",split:"split"};t.exports=class extends n{get tag(){return"sheetView"}prepare(s){switch(s.state){case"frozen":case"split":break;default:s.state="normal"}}render(s,a){s.openNode("sheetView",{workbookViewId:a.workbookViewId||0});let l=function(f,m,g){g&&s.addAttribute(f,m)},c,d,h,u;switch(l("rightToLeft","1",a.rightToLeft===!0),l("tabSelected","1",a.tabSelected),l("showRuler","0",a.showRuler===!1),l("showRowColHeaders","0",a.showRowColHeaders===!1),l("showGridLines","0",a.showGridLines===!1),l("zoomScale",a.zoomScale,a.zoomScale),l("zoomScaleNormal",a.zoomScaleNormal,a.zoomScaleNormal),l("view",a.style,a.style),a.state){case"frozen":d=a.xSplit||0,h=a.ySplit||0,c=a.topLeftCell||i.getAddress(h+1,d+1).address,u=(a.xSplit&&a.ySplit?"bottomRight":a.xSplit&&"topRight")||"bottomLeft",s.leafNode("pane",{xSplit:a.xSplit||void 0,ySplit:a.ySplit||void 0,topLeftCell:c,activePane:u,state:"frozen"}),s.leafNode("selection",{pane:u,activeCell:a.activeCell,sqref:a.activeCell});break;case"split":a.activePane==="topLeft"&&(a.activePane=void 0),s.leafNode("pane",{xSplit:a.xSplit||void 0,ySplit:a.ySplit||void 0,topLeftCell:a.topLeftCell,activePane:a.activePane}),s.leafNode("selection",{pane:a.activePane,activeCell:a.activeCell,sqref:a.activeCell});break;case"normal":a.activeCell&&s.leafNode("selection",{activeCell:a.activeCell,sqref:a.activeCell})}s.closeNode()}parseOpen(s){switch(s.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(s.attributes.workbookViewId,10),rightToLeft:s.attributes.rightToLeft==="1",tabSelected:s.attributes.tabSelected==="1",showRuler:s.attributes.showRuler!=="0",showRowColHeaders:s.attributes.showRowColHeaders!=="0",showGridLines:s.attributes.showGridLines!=="0",zoomScale:parseInt(s.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(s.attributes.zoomScaleNormal||"100",10),style:s.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(s.attributes.xSplit||"0",10),ySplit:parseInt(s.attributes.ySplit||"0",10),topLeftCell:s.attributes.topLeftCell,activePane:s.attributes.activePane||"topLeft",state:s.attributes.state},!0;case"selection":{let a=s.attributes.pane||"topLeft";return this.selections[a]={pane:a,activeCell:s.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(s){let a,l;switch(s){case"sheetView":return this.sheetView&&this.pane?(a=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:o[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(a.activePane=this.pane.activePane),l=this.selections[this.pane.activePane],l&&l.activeCell&&(a.activeCell=l.activeCell),this.sheetView.style&&(a.style=this.sheetView.style)):(a=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},l=this.selections.topLeft,l&&l.activeCell&&(a.activeCell=l.activeCell),this.sheetView.style&&(a.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{get tag(){return"tablePart"}render(n,o){o&&n.leafNode(this.tag,{"r:id":o.rId})}parseOpen(n){switch(n.name){case this.tag:return this.model={rId:n.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(e,t,r){"use strict";let i=e("../../../utils/under-dash"),n=e("../../../utils/col-cache"),o=e("../../../utils/xml-stream"),s=e("../../rel-type"),a=e("./merges"),l=e("../base-xform"),c=e("../list-xform"),d=e("./row-xform"),h=e("./col-xform"),u=e("./dimension-xform"),f=e("./hyperlink-xform"),m=e("./merge-cell-xform"),g=e("./data-validations-xform"),p=e("./sheet-properties-xform"),b=e("./sheet-format-properties-xform"),_=e("./sheet-view-xform"),E=e("./sheet-protection-xform"),O=e("./page-margins-xform"),V=e("./page-setup-xform"),H=e("./print-options-xform"),F=e("./auto-filter-xform"),L=e("./picture-xform"),q=e("./drawing-xform"),W=e("./table-part-xform"),x=e("./row-breaks-xform"),R=e("./header-footer-xform"),j=e("./cf/conditional-formattings-xform"),v=e("./ext-lst-xform"),y=(w,S)=>{if(!S||!S.length)return w;if(!w||!w.length)return S;let M={},U={};return w.forEach(N=>{M[N.ref]=N,N.rules.forEach(T=>{let{x14Id:B}=T;B&&(U[B]=T)})}),S.forEach(N=>{N.rules.forEach(T=>{let B=U[T.x14Id];B?((I,$)=>{Object.keys($).forEach(A=>{let k=I[A],Y=$[A];k===void 0&&Y!==void 0&&(I[A]=Y)})})(B,T):M[N.ref]?M[N.ref].rules.push(T):w.push({ref:N.ref,rules:[T]})})}),w};class C extends l{constructor(S){super();let{maxRows:M,maxCols:U,ignoreNodes:N}=S||{};this.ignoreNodes=N||[],this.map={sheetPr:new p,dimension:new u,sheetViews:new c({tag:"sheetViews",count:!1,childXform:new _}),sheetFormatPr:new b,cols:new c({tag:"cols",count:!1,childXform:new h}),sheetData:new c({tag:"sheetData",count:!1,empty:!0,childXform:new d({maxItems:U}),maxItems:M}),autoFilter:new F,mergeCells:new c({tag:"mergeCells",count:!0,childXform:new m}),rowBreaks:new x,hyperlinks:new c({tag:"hyperlinks",count:!1,childXform:new f}),pageMargins:new O,dataValidations:new g,pageSetup:new V,headerFooter:new R,printOptions:new H,picture:new L,drawing:new q,sheetProtection:new E,tableParts:new c({tag:"tableParts",count:!0,childXform:new W}),conditionalFormatting:new j,extLst:new v}}prepare(S,M){M.merges=new a,S.hyperlinks=M.hyperlinks=[],S.comments=M.comments=[],M.formulae={},M.siFormulae=0,this.map.cols.prepare(S.cols,M),this.map.sheetData.prepare(S.rows,M),this.map.conditionalFormatting.prepare(S.conditionalFormattings,M),S.mergeCells=M.merges.mergeCells;let U=S.rels=[];function N(I){return"rId"+(I.length+1)}if(S.hyperlinks.forEach(I=>{let $=N(U);I.rId=$,U.push({Id:$,Type:s.Hyperlink,Target:I.target,TargetMode:"External"})}),S.comments.length>0){let I={Id:N(U),Type:s.Comments,Target:`../comments${S.id}.xml`};U.push(I);let $={Id:N(U),Type:s.VmlDrawing,Target:`../drawings/vmlDrawing${S.id}.vml`};U.push($),S.comments.forEach(A=>{A.refAddress=n.decodeAddress(A.ref)}),M.commentRefs.push({commentName:"comments"+S.id,vmlDrawing:"vmlDrawing"+S.id})}let T=[],B;S.media.forEach(I=>{if(I.type==="background"){let $=N(U);B=M.media[I.imageId],U.push({Id:$,Type:s.Image,Target:`../media/${B.name}.${B.extension}`}),S.background={rId:$},S.image=M.media[I.imageId]}else if(I.type==="image"){let{drawing:$}=S;B=M.media[I.imageId],$||($=S.drawing={rId:N(U),name:"drawing"+ ++M.drawingsCount,anchors:[],rels:[]},M.drawings.push($),U.push({Id:$.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${$.name}.xml`}));let A=this.preImageId===I.imageId?T[I.imageId]:T[$.rels.length];A||(A=N($.rels),T[$.rels.length]=A,$.rels.push({Id:A,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${B.name}.${B.extension}`}));let k={picture:{rId:A},range:I.range};if(I.hyperlinks&&I.hyperlinks.hyperlink){let Y=N($.rels);T[$.rels.length]=Y,k.picture.hyperlinks={tooltip:I.hyperlinks.tooltip,rId:Y},$.rels.push({Id:Y,Type:s.Hyperlink,Target:I.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=I.imageId,$.anchors.push(k)}}),S.tables.forEach(I=>{let $=N(U);I.rId=$,U.push({Id:$,Type:s.Table,Target:"../tables/"+I.target}),I.columns.forEach(A=>{let{style:k}=A;k&&(A.dxfId=M.styles.addDxfStyle(k))})}),this.map.extLst.prepare(S,M)}render(S,M){S.openXml(o.StdDocAttributes),S.openNode("worksheet",C.WORKSHEET_ATTRIBUTES);let U=M.properties?{defaultRowHeight:M.properties.defaultRowHeight,dyDescent:M.properties.dyDescent,outlineLevelCol:M.properties.outlineLevelCol,outlineLevelRow:M.properties.outlineLevelRow}:void 0;M.properties&&M.properties.defaultColWidth&&(U.defaultColWidth=M.properties.defaultColWidth);let N={outlineProperties:M.properties&&M.properties.outlineProperties,tabColor:M.properties&&M.properties.tabColor,pageSetup:M.pageSetup&&M.pageSetup.fitToPage?{fitToPage:M.pageSetup.fitToPage}:void 0},T=M.pageSetup&&M.pageSetup.margins,B={showRowColHeaders:M.pageSetup&&M.pageSetup.showRowColHeaders,showGridLines:M.pageSetup&&M.pageSetup.showGridLines,horizontalCentered:M.pageSetup&&M.pageSetup.horizontalCentered,verticalCentered:M.pageSetup&&M.pageSetup.verticalCentered},I=M.sheetProtection;this.map.sheetPr.render(S,N),this.map.dimension.render(S,M.dimensions),this.map.sheetViews.render(S,M.views),this.map.sheetFormatPr.render(S,U),this.map.cols.render(S,M.cols),this.map.sheetData.render(S,M.rows),this.map.sheetProtection.render(S,I),this.map.autoFilter.render(S,M.autoFilter),this.map.mergeCells.render(S,M.mergeCells),this.map.conditionalFormatting.render(S,M.conditionalFormattings),this.map.dataValidations.render(S,M.dataValidations),this.map.hyperlinks.render(S,M.hyperlinks),this.map.printOptions.render(S,B),this.map.pageMargins.render(S,T),this.map.pageSetup.render(S,M.pageSetup),this.map.headerFooter.render(S,M.headerFooter),this.map.rowBreaks.render(S,M.rowBreaks),this.map.drawing.render(S,M.drawing),this.map.picture.render(S,M.background),this.map.tableParts.render(S,M.tables),this.map.extLst.render(S,M),M.rels&&M.rels.forEach($=>{$.Type===s.VmlDrawing&&S.leafNode("legacyDrawing",{"r:id":$.Id})}),S.closeNode()}parseOpen(S){return this.parser?(this.parser.parseOpen(S),!0):S.name==="worksheet"?(i.each(this.map,M=>{M.reset()}),!0):(this.map[S.name]&&!this.ignoreNodes.includes(S.name)&&(this.parser=this.map[S.name],this.parser.parseOpen(S)),!0)}parseText(S){this.parser&&this.parser.parseText(S)}parseClose(S){if(this.parser)return this.parser.parseClose(S)||(this.parser=void 0),!0;switch(S){case"worksheet":{let M=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(M.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(M.outlineProperties=this.map.sheetPr.model.outlineProperties);let U={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},N=Object.assign(U,this.map.pageSetup.model,this.map.printOptions.model),T=y(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:M,views:this.map.sheetViews.model,pageSetup:N,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:T},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile(S,M){let U=(S.relationships||[]).reduce((T,B)=>{if(T[B.Id]=B,B.Type===s.Comments&&(S.comments=M.comments[B.Target].comments),B.Type===s.VmlDrawing&&S.comments&&S.comments.length){let I=M.vmlDrawings[B.Target].comments;S.comments.forEach(($,A)=>{$.note=Object.assign({},$.note,I[A])})}return T},{});if(M.commentsMap=(S.comments||[]).reduce((T,B)=>(B.ref&&(T[B.ref]=B),T),{}),M.hyperlinkMap=(S.hyperlinks||[]).reduce((T,B)=>(B.rId&&(T[B.address]=U[B.rId].Target),T),{}),M.formulae={},S.rows=S.rows&&S.rows.filter(Boolean)||[],S.rows.forEach(T=>{T.cells=T.cells&&T.cells.filter(Boolean)||[]}),this.map.cols.reconcile(S.cols,M),this.map.sheetData.reconcile(S.rows,M),this.map.conditionalFormatting.reconcile(S.conditionalFormattings,M),S.media=[],S.drawing){let T=U[S.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(T){let B=T[1];M.drawings[B].anchors.forEach(I=>{if(I.medium){let $={type:"image",imageId:I.medium.index,range:I.range,hyperlinks:I.picture.hyperlinks};S.media.push($)}})}}let N=S.background&&U[S.background.rId];if(N){let T=N.Target.split("/media/")[1],B=M.mediaIndex&&M.mediaIndex[T];B!==void 0&&S.media.push({type:"background",imageId:B})}S.tables=(S.tables||[]).map(T=>{let B=U[T.rId];return M.tables[B.Target]}),delete S.relationships,delete S.hyperlinks,delete S.comments}}C.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},t.exports=C},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{constructor(n){super(),this.tag=n.tag,this.attr=n.attr}render(n,o){o&&(n.openNode(this.tag),n.closeNode())}parseOpen(n){n.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{constructor(n){super(),this.tag=n.tag,this.attr=n.attr,this.attrs=n.attrs,this._format=n.format||function(o){try{return Number.isNaN(o.getTime())?"":o.toISOString()}catch{return""}},this._parse=n.parse||function(o){return new Date(o)}}render(n,o){o&&(n.openNode(this.tag),this.attrs&&n.addAttributes(this.attrs),this.attr?n.addAttribute(this.attr,this._format(o)):n.writeText(this._format(o)),n.closeNode())}parseOpen(n){n.name===this.tag&&(this.attr?this.model=this._parse(n.attributes[this.attr]):this.text=[])}parseText(n){this.attr||this.text.push(n)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{constructor(n){super(),this.tag=n.tag,this.attr=n.attr,this.attrs=n.attrs,this.zero=n.zero}render(n,o){(o||this.zero)&&(n.openNode(this.tag),this.attrs&&n.addAttributes(this.attrs),this.attr?n.addAttribute(this.attr,o):n.writeText(o),n.closeNode())}parseOpen(n){return n.name===this.tag&&(this.attr?this.model=parseInt(n.attributes[this.attr],10):this.text=[],!0)}parseText(n){this.attr||this.text.push(n)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{constructor(n){super(),this.tag=n.tag,this.attr=n.attr,this.attrs=n.attrs}render(n,o){o!==void 0&&(n.openNode(this.tag),this.attrs&&n.addAttributes(this.attrs),this.attr?n.addAttribute(this.attr,o):n.writeText(o),n.closeNode())}parseOpen(n){n.name===this.tag&&(this.attr?this.model=n.attributes[this.attr]:this.text=[])}parseText(n){this.attr||this.text.push(n)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(e,t,r){"use strict";let i=e("./base-xform"),n=e("../../utils/xml-stream");t.exports=class extends i{constructor(o){super(),this._model=o}render(o){if(!this._xml){let s=new n;(function a(l,c){l.openNode(c.tag,c.$),c.c&&c.c.forEach(d=>{a(l,d)}),c.t&&l.writeText(c.t),l.closeNode()})(s,this._model),this._xml=s.xml}o.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(o){switch(o){case this._model.tag:return!1;default:return!0}}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(e,t,r){"use strict";let i=e("./text-xform"),n=e("./rich-text-xform"),o=e("../base-xform");t.exports=class extends o{constructor(){super(),this.map={r:new n,t:new i}}get tag(){return"rPh"}render(s,a){if(s.openNode(this.tag,{sb:a.sb||0,eb:a.eb||0}),a&&a.hasOwnProperty("richText")&&a.richText){let{r:l}=this.map;a.richText.forEach(c=>{l.render(s,c)})}else a&&this.map.t.render(s,a.text);s.closeNode()}parseOpen(s){let{name:a}=s;return this.parser?(this.parser.parseOpen(s),!0):a===this.tag?(this.model={sb:parseInt(s.attributes.sb,10),eb:parseInt(s.attributes.eb,10)},!0):(this.parser=this.map[a],!!this.parser&&(this.parser.parseOpen(s),!0))}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){if(this.parser){if(!this.parser.parseClose(s)){switch(s){case"r":{let a=this.model.richText;a||(a=this.model.richText=[]),a.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}switch(s){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(e,t,r){"use strict";let i=e("./text-xform"),n=e("../style/font-xform"),o=e("../base-xform");class s extends o{constructor(l){super(),this.model=l}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new i)}get fontXform(){return this._fontXform||(this._fontXform=new n(s.FONT_OPTIONS))}render(l,c){c=c||this.model,l.openNode("r"),c.font&&this.fontXform.render(l,c.font),this.textXform.render(l,c.text),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(l),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(l),!0;default:return!1}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){switch(l){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(l),!0}}}s.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},t.exports=s},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(e,t,r){"use strict";let i=e("./text-xform"),n=e("./rich-text-xform"),o=e("./phonetic-text-xform"),s=e("../base-xform");t.exports=class extends s{constructor(a){super(),this.model=a,this.map={r:new n,t:new i,rPh:new o}}get tag(){return"si"}render(a,l){a.openNode(this.tag),l&&l.hasOwnProperty("richText")&&l.richText?l.richText.length?l.richText.forEach(c=>{this.map.r.render(a,c)}):this.map.t.render(a,""):l!=null&&this.map.t.render(a,l),a.closeNode()}parseOpen(a){let{name:l}=a;return this.parser?(this.parser.parseOpen(a),!0):l===this.tag?(this.model={},!0):(this.parser=this.map[l],!!this.parser&&(this.parser.parseOpen(a),!0))}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser){if(!this.parser.parseClose(a)){switch(a){case"r":{let l=this.model.richText;l||(l=this.model.richText=[]),l.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(e,t,r){"use strict";let i=e("../../../utils/xml-stream"),n=e("../base-xform"),o=e("./shared-string-xform");t.exports=class extends n{constructor(s){super(),this.model=s||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new o)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(s){return this.model.values[s]}add(s){return s.richText?this.addRichText(s):this.addText(s)}addText(s){let a=this.hash[s];return a===void 0&&(a=this.hash[s]=this.model.values.length,this.model.values.push(s)),this.model.count++,a}addRichText(s){let a=this.sharedStringXform.toXml(s),l=this.rich[a];return l===void 0&&(l=this.rich[a]=this.model.values.length,this.model.values.push(s)),this.model.count++,l}render(s,a){a=a||this._values,s.openXml(i.StdDocAttributes),s.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:a.count,uniqueCount:a.values.length});let l=this.sharedStringXform;a.values.forEach(c=>{l.render(s,c)}),s.closeNode()}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(s),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(s))}}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){if(this.parser)return this.parser.parseClose(s)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(s){case"sst":return!1;default:throw new Error("Unexpected xml node in parseClose: "+s)}}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{get tag(){return"t"}render(n,o){n.openNode("t"),/^\s|\n|\s$/.test(o)&&n.addAttribute("xml:space","preserve"),n.writeText(o),n.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(n,o)=>String.fromCharCode(parseInt(o,16)))}parseOpen(n){switch(n.name){case"t":return this._text=[],!0;default:return!1}}parseText(n){this._text.push(n)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(e,t,r){"use strict";let i=e("../../../doc/enums"),n=e("../../../utils/utils"),o=e("../base-xform"),s={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((l,c)=>(l[c]=!0,l),{}),horizontal(l){return this.horizontalValues[l]?l:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((l,c)=>(l[c]=!0,l),{}),vertical(l){return l==="middle"?"center":this.verticalValues[l]?l:void 0},wrapText:l=>!!l||void 0,shrinkToFit:l=>!!l||void 0,textRotation(l){switch(l){case"vertical":return l;default:return(l=n.validInt(l))>=-90&&l<=90?l:void 0}},indent:l=>(l=n.validInt(l),Math.max(0,l)),readingOrder(l){switch(l){case"ltr":return i.ReadingOrder.LeftToRight;case"rtl":return i.ReadingOrder.RightToLeft;default:return}}},a={toXml(l){if(l=s.textRotation(l)){if(l==="vertical")return 255;let c=Math.round(l);if(c>=0&&c<=90)return c;if(c<0&&c>=-90)return 90-c}},toModel(l){let c=n.validInt(l);if(c!==void 0){if(c===255)return"vertical";if(c>=0&&c<=90)return c;if(c>90&&c<=180)return 90-c}}};t.exports=class extends o{get tag(){return"alignment"}render(l,c){l.addRollback(),l.openNode("alignment");let d=!1;function h(u,f){f&&(l.addAttribute(u,f),d=!0)}h("horizontal",s.horizontal(c.horizontal)),h("vertical",s.vertical(c.vertical)),h("wrapText",!!s.wrapText(c.wrapText)&&"1"),h("shrinkToFit",!!s.shrinkToFit(c.shrinkToFit)&&"1"),h("indent",s.indent(c.indent)),h("textRotation",a.toXml(c.textRotation)),h("readingOrder",s.readingOrder(c.readingOrder)),l.closeNode(),d?l.commit():l.rollback()}parseOpen(l){let c={},d=!1;function h(u,f,m){u&&(c[f]=m,d=!0)}h(l.attributes.horizontal,"horizontal",l.attributes.horizontal),h(l.attributes.vertical,"vertical",l.attributes.vertical==="center"?"middle":l.attributes.vertical),h(l.attributes.wrapText,"wrapText",n.parseBoolean(l.attributes.wrapText)),h(l.attributes.shrinkToFit,"shrinkToFit",n.parseBoolean(l.attributes.shrinkToFit)),h(l.attributes.indent,"indent",parseInt(l.attributes.indent,10)),h(l.attributes.textRotation,"textRotation",a.toModel(l.attributes.textRotation)),h(l.attributes.readingOrder,"readingOrder",l.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=d?c:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(e,t,r){"use strict";let i=e("../base-xform"),n=e("../../../utils/utils"),o=e("./color-xform");class s extends i{constructor(l){super(),this.name=l,this.map={color:new o}}get tag(){return this.name}render(l,c,d){let h=c&&c.color||d||this.defaultColor;l.openNode(this.name),c&&c.style&&(l.addAttribute("style",c.style),h&&this.map.color.render(l,h)),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.name:{let{style:c}=l.attributes;return this.model=c?{style:c}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(l),!0;default:return!1}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){return this.parser?(this.parser.parseClose(l)||(this.parser=void 0),!0):(l===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(l){return s.validStyleValues[l]}}s.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((a,l)=>(a[l]=!0,a),{}),t.exports=class extends i{constructor(){super(),this.map={top:new s("top"),left:new s("left"),bottom:new s("bottom"),right:new s("right"),diagonal:new s("diagonal")}}render(a,l){let{color:c}=l;function d(h,u){h&&!h.color&&l.color&&(h=Ue(jt({},h),{color:l.color})),u.render(a,h,c)}a.openNode("border"),l.diagonal&&l.diagonal.style&&(l.diagonal.up&&a.addAttribute("diagonalUp","1"),l.diagonal.down&&a.addAttribute("diagonalDown","1")),d(l.left,this.map.left),d(l.right,this.map.right),d(l.top,this.map.top),d(l.bottom,this.map.bottom),d(l.diagonal,this.map.diagonal),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case"border":return this.reset(),this.diagonalUp=n.parseBoolean(a.attributes.diagonalUp),this.diagonalDown=n.parseBoolean(a.attributes.diagonalDown),!0;default:return this.parser=this.map[a.name],!!this.parser&&(this.parser.parseOpen(a),!0)}}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;if(a==="border"){let l=this.model={},c=function(d,h,u){h&&(u&&Object.assign(h,u),l[d]=h)};c("left",this.map.left.model),c("right",this.map.right.model),c("top",this.map.top.model),c("bottom",this.map.bottom.model),c("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{constructor(n){super(),this.name=n||"color"}get tag(){return this.name}render(n,o){return!!o&&(n.openNode(this.name),o.argb?n.addAttribute("rgb",o.argb):o.theme!==void 0?(n.addAttribute("theme",o.theme),o.tint!==void 0&&n.addAttribute("tint",o.tint)):o.indexed!==void 0?n.addAttribute("indexed",o.indexed):n.addAttribute("auto","1"),n.closeNode(),!0)}parseOpen(n){return n.name===this.name&&(n.attributes.rgb?this.model={argb:n.attributes.rgb}:n.attributes.theme?(this.model={theme:parseInt(n.attributes.theme,10)},n.attributes.tint&&(this.model.tint=parseFloat(n.attributes.tint))):n.attributes.indexed?this.model={indexed:parseInt(n.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(e,t,r){"use strict";let i=e("../base-xform"),n=e("./alignment-xform"),o=e("./border-xform"),s=e("./fill-xform"),a=e("./font-xform"),l=e("./numfmt-xform"),c=e("./protection-xform");t.exports=class extends i{constructor(){super(),this.map={alignment:new n,border:new o,fill:new s,font:new a,numFmt:new l,protection:new c}}get tag(){return"dxf"}render(d,h){if(d.openNode(this.tag),h.font&&this.map.font.render(d,h.font),h.numFmt&&h.numFmtId){let u={id:h.numFmtId,formatCode:h.numFmt};this.map.numFmt.render(d,u)}h.fill&&this.map.fill.render(d,h.fill),h.alignment&&this.map.alignment.render(d,h.alignment),h.border&&this.map.border.render(d,h.border),h.protection&&this.map.protection.render(d,h.protection),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d),!0}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return this.parser?(this.parser.parseClose(d)||(this.parser=void 0),!0):d!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(e,t,r){"use strict";let i=e("../base-xform"),n=e("./color-xform");class o extends i{constructor(){super(),this.map={color:new n}}get tag(){return"stop"}render(d,h){d.openNode("stop"),d.addAttribute("position",h.position),this.map.color.render(d,h.color),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"stop":return this.model={position:parseFloat(d.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(d),!0;default:return!1}}parseText(){}parseClose(d){return!!this.parser&&(this.parser.parseClose(d)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class s extends i{constructor(){super(),this.map={fgColor:new n("fgColor"),bgColor:new n("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(d,h){d.openNode("patternFill"),d.addAttribute("patternType",h.pattern),h.fgColor&&this.map.fgColor.render(d,h.fgColor),h.bgColor&&this.map.bgColor.render(d,h.bgColor),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"patternFill":return this.model={type:"pattern",pattern:d.attributes.patternType},!0;default:return this.parser=this.map[d.name],!!this.parser&&(this.parser.parseOpen(d),!0)}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return!!this.parser&&(this.parser.parseClose(d)||(this.parser.model&&(this.model[d]=this.parser.model),this.parser=void 0),!0)}}class a extends i{constructor(){super(),this.map={stop:new o}}get name(){return"gradient"}get tag(){return"gradientFill"}render(d,h){switch(d.openNode("gradientFill"),h.gradient){case"angle":d.addAttribute("degree",h.degree);break;case"path":d.addAttribute("type","path"),h.center.left&&(d.addAttribute("left",h.center.left),h.center.right===void 0&&d.addAttribute("right",h.center.left)),h.center.right&&d.addAttribute("right",h.center.right),h.center.top&&(d.addAttribute("top",h.center.top),h.center.bottom===void 0&&d.addAttribute("bottom",h.center.top)),h.center.bottom&&d.addAttribute("bottom",h.center.bottom)}let u=this.map.stop;h.stops.forEach(f=>{u.render(d,f)}),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"gradientFill":{let h=this.model={stops:[]};return d.attributes.degree?(h.gradient="angle",h.degree=parseInt(d.attributes.degree,10)):d.attributes.type==="path"&&(h.gradient="path",h.center={left:d.attributes.left?parseFloat(d.attributes.left):0,top:d.attributes.top?parseFloat(d.attributes.top):0},d.attributes.right!==d.attributes.left&&(h.center.right=d.attributes.right?parseFloat(d.attributes.right):0),d.attributes.bottom!==d.attributes.top&&(h.center.bottom=d.attributes.bottom?parseFloat(d.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(d),!0;default:return!1}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return!!this.parser&&(this.parser.parseClose(d)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class l extends i{constructor(){super(),this.map={patternFill:new s,gradientFill:new a}}get tag(){return"fill"}render(d,h){switch(d.addRollback(),d.openNode("fill"),h.type){case"pattern":this.map.patternFill.render(d,h);break;case"gradient":this.map.gradientFill.render(d,h);break;default:return void d.rollback()}d.closeNode(),d.commit()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"fill":return this.model={},!0;default:return this.parser=this.map[d.name],!!this.parser&&(this.parser.parseOpen(d),!0)}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return!!this.parser&&(this.parser.parseClose(d)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(d){return l.validPatternValues[d]}}l.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((c,d)=>(c[d]=!0,c),{}),l.StopXform=o,l.PatternFillXform=s,l.GradientFillXform=a,t.exports=l},{"../base-xform":32,"./color-xform":128}],131:[function(e,t,r){"use strict";let i=e("./color-xform"),n=e("../simple/boolean-xform"),o=e("../simple/integer-xform"),s=e("../simple/string-xform"),a=e("./underline-xform"),l=e("../../../utils/under-dash"),c=e("../base-xform");class d extends c{constructor(u){super(),this.options=u||d.OPTIONS,this.map={b:{prop:"bold",xform:new n({tag:"b",attr:"val"})},i:{prop:"italic",xform:new n({tag:"i",attr:"val"})},u:{prop:"underline",xform:new a},charset:{prop:"charset",xform:new o({tag:"charset",attr:"val"})},color:{prop:"color",xform:new i},condense:{prop:"condense",xform:new n({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new n({tag:"extend",attr:"val"})},family:{prop:"family",xform:new o({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new n({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new s({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new s({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new n({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new n({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new o({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new s({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(u,f){let{map:m}=this;u.openNode(this.options.tagName),l.each(this.map,(g,p)=>{m[p].xform.render(u,f[g.prop])}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;if(this.map[u.name])return this.parser=this.map[u.name].xform,this.parser.parseOpen(u);switch(u.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser&&!this.parser.parseClose(u)){let f=this.map[u];return this.parser.model&&(this.model[f.prop]=this.parser.model),this.parser=void 0,!0}switch(u){case this.options.tagName:return!1;default:return!0}}}d.OPTIONS={tagName:"font",fontNameTag:"name"},t.exports=d},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(e,t,r){"use strict";let i=e("../../../utils/under-dash"),n=e("../../defaultnumformats"),o=e("../base-xform"),s=function(){let l={};return i.each(n,(c,d)=>{c.f&&(l[c.f]=parseInt(d,10))}),l}();class a extends o{constructor(c,d){super(),this.id=c,this.formatCode=d}get tag(){return"numFmt"}render(c,d){c.leafNode("numFmt",{numFmtId:d.id,formatCode:d.formatCode})}parseOpen(c){switch(c.name){case"numFmt":return this.model={id:parseInt(c.attributes.numFmtId,10),formatCode:c.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}a.getDefaultFmtId=function(l){return s[l]},a.getDefaultFmtCode=function(l){return n[l]&&n[l].f},t.exports=a},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(e,t,r){"use strict";let i=e("../base-xform"),n={boolean:(o,s)=>o===void 0?s:o};t.exports=class extends i{get tag(){return"protection"}render(o,s){o.addRollback(),o.openNode("protection");let a=!1;function l(c,d){d!==void 0&&(o.addAttribute(c,d),a=!0)}l("locked",n.boolean(s.locked,!0)?void 0:"0"),l("hidden",n.boolean(s.hidden,!1)?"1":void 0),o.closeNode(),a?o.commit():o.rollback()}parseOpen(o){let s={locked:o.attributes.locked!=="0",hidden:o.attributes.hidden==="1"},a=!s.locked||s.hidden;this.model=a?s:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(e,t,r){"use strict";let i=e("../base-xform"),n=e("./alignment-xform"),o=e("./protection-xform");t.exports=class extends i{constructor(s){super(),this.xfId=!(!s||!s.xfId),this.map={alignment:new n,protection:new o}}get tag(){return"xf"}render(s,a){s.openNode("xf",{numFmtId:a.numFmtId||0,fontId:a.fontId||0,fillId:a.fillId||0,borderId:a.borderId||0}),this.xfId&&s.addAttribute("xfId",a.xfId||0),a.numFmtId&&s.addAttribute("applyNumberFormat","1"),a.fontId&&s.addAttribute("applyFont","1"),a.fillId&&s.addAttribute("applyFill","1"),a.borderId&&s.addAttribute("applyBorder","1"),a.alignment&&s.addAttribute("applyAlignment","1"),a.protection&&s.addAttribute("applyProtection","1"),a.alignment&&this.map.alignment.render(s,a.alignment),a.protection&&this.map.protection.render(s,a.protection),s.closeNode()}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case"xf":return this.model={numFmtId:parseInt(s.attributes.numFmtId,10),fontId:parseInt(s.attributes.fontId,10),fillId:parseInt(s.attributes.fillId,10),borderId:parseInt(s.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(s.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(s),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(s),!0;default:return!1}}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){return this.parser?(this.parser.parseClose(s)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):s!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(e,t,r){"use strict";let i=e("../../../doc/enums"),n=e("../../../utils/xml-stream"),o=e("../base-xform"),s=e("../static-xform"),a=e("../list-xform"),l=e("./font-xform"),c=e("./fill-xform"),d=e("./border-xform"),h=e("./numfmt-xform"),u=e("./style-xform"),f=e("./dxf-xform");class m extends o{constructor(p){super(),this.map={numFmts:new a({tag:"numFmts",count:!0,childXform:new h}),fonts:new a({tag:"fonts",count:!0,childXform:new l,$:{"x14ac:knownFonts":1}}),fills:new a({tag:"fills",count:!0,childXform:new c}),borders:new a({tag:"borders",count:!0,childXform:new d}),cellStyleXfs:new a({tag:"cellStyleXfs",count:!0,childXform:new u}),cellXfs:new a({tag:"cellXfs",count:!0,childXform:new u({xfId:!0})}),dxfs:new a({tag:"dxfs",always:!0,count:!0,childXform:new f}),numFmt:new h,font:new l,fill:new c,border:new d,style:new u({xfId:!0}),cellStyles:m.STATIC_XFORMS.cellStyles,tableStyles:m.STATIC_XFORMS.tableStyles,extLst:m.STATIC_XFORMS.extLst},p&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(p,b){b=b||this.model,p.openXml(n.StdDocAttributes),p.openNode("styleSheet",m.STYLESHEET_ATTRIBUTES),this.index?(b.numFmts&&b.numFmts.length&&(p.openNode("numFmts",{count:b.numFmts.length}),b.numFmts.forEach(_=>{p.writeXml(_)}),p.closeNode()),b.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),p.openNode("fonts",{count:b.fonts.length,"x14ac:knownFonts":1}),b.fonts.forEach(_=>{p.writeXml(_)}),p.closeNode(),p.openNode("fills",{count:b.fills.length}),b.fills.forEach(_=>{p.writeXml(_)}),p.closeNode(),p.openNode("borders",{count:b.borders.length}),b.borders.forEach(_=>{p.writeXml(_)}),p.closeNode(),this.map.cellStyleXfs.render(p,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),p.openNode("cellXfs",{count:b.styles.length}),b.styles.forEach(_=>{p.writeXml(_)}),p.closeNode()):(this.map.numFmts.render(p,b.numFmts),this.map.fonts.render(p,b.fonts),this.map.fills.render(p,b.fills),this.map.borders.render(p,b.borders),this.map.cellStyleXfs.render(p,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(p,b.styles)),m.STATIC_XFORMS.cellStyles.render(p),this.map.dxfs.render(p,b.dxfs),m.STATIC_XFORMS.tableStyles.render(p),m.STATIC_XFORMS.extLst.render(p),p.closeNode()}parseOpen(p){if(this.parser)return this.parser.parseOpen(p),!0;switch(p.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[p.name],this.parser&&this.parser.parseOpen(p),!0}}parseText(p){this.parser&&this.parser.parseText(p)}parseClose(p){if(this.parser)return this.parser.parseClose(p)||(this.parser=void 0),!0;switch(p){case"styleSheet":{this.model={};let b=(_,E)=>{E.model&&E.model.length&&(this.model[_]=E.model)};if(b("numFmts",this.map.numFmts),b("fonts",this.map.fonts),b("fills",this.map.fills),b("borders",this.map.borders),b("styles",this.map.cellXfs),b("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){let _=this.index.numFmt;this.model.numFmts.forEach(E=>{_[E.id]=E.formatCode})}return!1}default:return!0}}addStyleModel(p,b){if(!p)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(p))return this.weakMap.get(p);let _={};if(b=b||i.ValueType.Number,p.numFmt)_.numFmtId=this._addNumFmtStr(p.numFmt);else switch(b){case i.ValueType.Number:_.numFmtId=this._addNumFmtStr("General");break;case i.ValueType.Date:_.numFmtId=this._addNumFmtStr("mm-dd-yy")}p.font&&(_.fontId=this._addFont(p.font)),p.border&&(_.borderId=this._addBorder(p.border)),p.fill&&(_.fillId=this._addFill(p.fill)),p.alignment&&(_.alignment=p.alignment),p.protection&&(_.protection=p.protection);let E=this._addStyle(_);return this.weakMap&&this.weakMap.set(p,E),E}getStyleModel(p){let b=this.model.styles[p];if(!b)return null;let _=this.index.model[p];if(_)return _;if(_=this.index.model[p]={},b.numFmtId){let O=this.index.numFmt[b.numFmtId]||h.getDefaultFmtCode(b.numFmtId);O&&(_.numFmt=O)}function E(O,V,H){if(H||H===0){let F=V[H];F&&(_[O]=F)}}return E("font",this.model.fonts,b.fontId),E("border",this.model.borders,b.borderId),E("fill",this.model.fills,b.fillId),b.alignment&&(_.alignment=b.alignment),b.protection&&(_.protection=b.protection),_}addDxfStyle(p){return p.numFmt&&(p.numFmtId=this._addNumFmtStr(p.numFmt)),this.model.dxfs.push(p),this.model.dxfs.length-1}getDxfStyle(p){return this.model.dxfs[p]}_addStyle(p){let b=this.map.style.toXml(p),_=this.index.style[b];return _===void 0&&(_=this.index.style[b]=this.model.styles.length,this.model.styles.push(b)),_}_addNumFmtStr(p){let b=h.getDefaultFmtId(p);if(b!==void 0||(b=this.index.numFmt[p],b!==void 0))return b;b=this.index.numFmt[p]=164+this.model.numFmts.length;let _=this.map.numFmt.toXml({id:b,formatCode:p});return this.model.numFmts.push(_),b}_addFont(p){let b=this.map.font.toXml(p),_=this.index.font[b];return _===void 0&&(_=this.index.font[b]=this.model.fonts.length,this.model.fonts.push(b)),_}_addBorder(p){let b=this.map.border.toXml(p),_=this.index.border[b];return _===void 0&&(_=this.index.border[b]=this.model.borders.length,this.model.borders.push(b)),_}_addFill(p){let b=this.map.fill.toXml(p),_=this.index.fill[b];return _===void 0&&(_=this.index.fill[b]=this.model.fills.length,this.model.fills.push(b)),_}}m.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},m.STATIC_XFORMS={cellStyles:new s({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new s({tag:"dxfs",$:{count:0}}),tableStyles:new s({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new s({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},m.Mock=class extends m{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(g){return g.autodrain(),Promise.resolve()}addStyleModel(g,p){switch(p){case i.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){let g={numFmtId:h.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(g)}return this._dateStyleId}getStyleModel(){return{}}},t.exports=m},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(e,t,r){"use strict";let i=e("../base-xform");class n extends i{constructor(s){super(),this.model=s}get tag(){return"u"}render(s,a){if((a=a||this.model)===!0)s.leafNode("u");else{let l=n.Attributes[a];l&&s.leafNode("u",l)}}parseOpen(s){s.name==="u"&&(this.model=s.attributes.val||!0)}parseText(){}parseClose(){return!1}}n.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},t.exports=n},{"../base-xform":32}],137:[function(e,t,r){"use strict";let i=e("../base-xform"),n=e("./filter-column-xform");t.exports=class extends i{constructor(){super(),this.map={filterColumn:new n}}get tag(){return"autoFilter"}prepare(o){o.columns.forEach((s,a)=>{this.map.filterColumn.prepare(s,{index:a})})}render(o,s){return o.openNode(this.tag,{ref:s.autoFilterRef}),s.columns.forEach(a=>{this.map.filterColumn.render(o,a)}),o.closeNode(),!0}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:return this.model={autoFilterRef:o.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[o.name],this.parser)return this.parseOpen(o),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(o))}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(o){case this.tag:return!1;default:throw new Error("Unexpected xml node in parseClose: "+o)}}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{get tag(){return"customFilter"}render(n,o){n.leafNode(this.tag,{val:o.val,operator:o.operator})}parseOpen(n){return n.name===this.tag&&(this.model={val:n.attributes.val,operator:n.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(e,t,r){"use strict";let i=e("../base-xform"),n=e("../list-xform"),o=e("./custom-filter-xform"),s=e("./filter-xform");t.exports=class extends i{constructor(){super(),this.map={customFilters:new n({tag:"customFilters",count:!1,empty:!0,childXform:new o}),filters:new n({tag:"filters",count:!1,empty:!0,childXform:new s})}}get tag(){return"filterColumn"}prepare(a,l){a.colId=l.index.toString()}render(a,l){return l.customFilters?(a.openNode(this.tag,{colId:l.colId,hiddenButton:l.filterButton?"0":"1"}),this.map.customFilters.render(a,l.customFilters),a.closeNode(),!0):(a.leafNode(this.tag,{colId:l.colId,hiddenButton:l.filterButton?"0":"1"}),!0)}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;let{attributes:l}=a;switch(a.name){case this.tag:return this.model={filterButton:l.hiddenButton==="0"},!0;default:if(this.parser=this.map[a.name],this.parser)return this.parseOpen(a),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(a))}}parseText(){}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;switch(a){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{get tag(){return"filter"}render(n,o){n.leafNode(this.tag,{val:o.val})}parseOpen(n){return n.name===this.tag&&(this.model={val:n.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{get tag(){return"tableColumn"}prepare(n,o){n.id=o.index+1}render(n,o){return n.leafNode(this.tag,{id:o.id.toString(),name:o.name,totalsRowLabel:o.totalsRowLabel,totalsRowFunction:o.totalsRowFunction,dxfId:o.dxfId}),!0}parseOpen(n){if(n.name===this.tag){let{attributes:o}=n;return this.model={name:o.name,totalsRowLabel:o.totalsRowLabel,totalsRowFunction:o.totalsRowFunction,dxfId:o.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(e,t,r){"use strict";let i=e("../base-xform");t.exports=class extends i{get tag(){return"tableStyleInfo"}render(n,o){return n.leafNode(this.tag,{name:o.theme?o.theme:void 0,showFirstColumn:o.showFirstColumn?"1":"0",showLastColumn:o.showLastColumn?"1":"0",showRowStripes:o.showRowStripes?"1":"0",showColumnStripes:o.showColumnStripes?"1":"0"}),!0}parseOpen(n){if(n.name===this.tag){let{attributes:o}=n;return this.model={theme:o.name?o.name:null,showFirstColumn:o.showFirstColumn==="1",showLastColumn:o.showLastColumn==="1",showRowStripes:o.showRowStripes==="1",showColumnStripes:o.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(e,t,r){"use strict";let i=e("../../../utils/xml-stream"),n=e("../base-xform"),o=e("../list-xform"),s=e("./auto-filter-xform"),a=e("./table-column-xform"),l=e("./table-style-info-xform");class c extends n{constructor(){super(),this.map={autoFilter:new s,tableColumns:new o({tag:"tableColumns",count:!0,empty:!0,childXform:new a}),tableStyleInfo:new l}}prepare(h,u){this.map.autoFilter.prepare(h),this.map.tableColumns.prepare(h.columns,u)}get tag(){return"table"}render(h,u){h.openXml(i.StdDocAttributes),h.openNode(this.tag,Ue(jt({},c.TABLE_ATTRIBUTES),{id:u.id,name:u.name,displayName:u.displayName||u.name,ref:u.tableRef,totalsRowCount:u.totalsRow?"1":void 0,totalsRowShown:u.totalsRow?void 0:"1",headerRowCount:u.headerRow?"1":"0"})),this.map.autoFilter.render(h,u),this.map.tableColumns.render(h,u.columns),this.map.tableStyleInfo.render(h,u.style),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;let{name:u,attributes:f}=h;switch(u){case this.tag:this.reset(),this.model={name:f.name,displayName:f.displayName||f.name,tableRef:f.ref,totalsRow:f.totalsRowCount==="1",headerRow:f.headerRowCount==="1"};break;default:this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h)}return!0}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.parser=void 0),!0;switch(h){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((u,f)=>{this.model.columns[f].filterButton=u.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(h,u){h.columns.forEach(f=>{f.dxfId!==void 0&&(f.style=u.styles.getDxfStyle(f.dxfId))})}}c.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},t.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(e,t,r){(function(i,n){(function(){"use strict";let o=e("fs"),s=e("jszip"),{PassThrough:a}=e("readable-stream"),l=e("../utils/zip-stream"),c=e("../utils/stream-buf"),d=e("../utils/utils"),h=e("../utils/xml-stream"),{bufferToString:u}=e("../utils/browser-buffer-decode"),f=e("./xform/style/styles-xform"),m=e("./xform/core/core-xform"),g=e("./xform/strings/shared-strings-xform"),p=e("./xform/core/relationships-xform"),b=e("./xform/core/content-types-xform"),_=e("./xform/core/app-xform"),E=e("./xform/book/workbook-xform"),O=e("./xform/sheet/worksheet-xform"),V=e("./xform/drawing/drawing-xform"),H=e("./xform/table/table-xform"),F=e("./xform/comment/comments-xform"),L=e("./xform/comment/vml-notes-xform"),q=e("./xml/theme1");class W{constructor(R){this.workbook=R}readFile(R,j){return wr(this,null,function*(){if(!(yield d.fs.exists(R)))throw new Error("File not found: "+R);let v=o.createReadStream(R);try{let y=yield this.read(v,j);return v.close(),y}catch(y){throw v.close(),y}})}parseRels(R){return new p().parseStream(R)}parseWorkbook(R){return new E().parseStream(R)}parseSharedStrings(R){return new g().parseStream(R)}reconcile(R,j){let v=new E,y=new O(j),C=new V,w=new H;v.reconcile(R);let S={media:R.media,mediaIndex:R.mediaIndex};Object.keys(R.drawings).forEach(N=>{let T=R.drawings[N],B=R.drawingRels[N];B&&(S.rels=B.reduce((I,$)=>(I[$.Id]=$,I),{}),(T.anchors||[]).forEach(I=>{let $=I.picture&&I.picture.hyperlinks;$&&S.rels[$.rId]&&($.hyperlink=S.rels[$.rId].Target,delete $.rId)}),C.reconcile(T,S))});let M={styles:R.styles};Object.values(R.tables).forEach(N=>{w.reconcile(N,M)});let U={styles:R.styles,sharedStrings:R.sharedStrings,media:R.media,mediaIndex:R.mediaIndex,date1904:R.properties&&R.properties.date1904,drawings:R.drawings,comments:R.comments,tables:R.tables,vmlDrawings:R.vmlDrawings};R.worksheets.forEach(N=>{N.relationships=R.worksheetRels[N.sheetNo],y.reconcile(N,U)}),delete R.worksheetHash,delete R.worksheetRels,delete R.globalRels,delete R.sharedStrings,delete R.workbookRels,delete R.sheetDefs,delete R.styles,delete R.mediaIndex,delete R.drawings,delete R.drawingRels,delete R.vmlDrawings}_processWorksheetEntry(R,j,v,y,C){return wr(this,null,function*(){let w=new O(y),S=yield w.parseStream(R);S.sheetNo=v,j.worksheetHash[C]=S,j.worksheets.push(S)})}_processCommentEntry(R,j,v){return wr(this,null,function*(){let y=new F,C=yield y.parseStream(R);j.comments[`../${v}.xml`]=C})}_processTableEntry(R,j,v){return wr(this,null,function*(){let y=new H,C=yield y.parseStream(R);j.tables[`../tables/${v}.xml`]=C})}_processWorksheetRelsEntry(R,j,v){return wr(this,null,function*(){let y=new p,C=yield y.parseStream(R);j.worksheetRels[v]=C})}_processMediaEntry(R,j,v){return wr(this,null,function*(){let y=v.lastIndexOf(".");if(y>=1){let C=v.substr(y+1),w=v.substr(0,y);yield new Promise((S,M)=>{let U=new c;U.on("finish",()=>{j.mediaIndex[v]=j.media.length,j.mediaIndex[w]=j.media.length;let N={type:"image",name:w,extension:C,buffer:U.toBuffer()};j.media.push(N),S()}),R.on("error",N=>{M(N)}),R.pipe(U)})}})}_processDrawingEntry(R,j,v){return wr(this,null,function*(){let y=new V,C=yield y.parseStream(R);j.drawings[v]=C})}_processDrawingRelsEntry(R,j,v){return wr(this,null,function*(){let y=new p,C=yield y.parseStream(R);j.drawingRels[v]=C})}_processVmlDrawingEntry(R,j,v){return wr(this,null,function*(){let y=new L,C=yield y.parseStream(R);j.vmlDrawings[`../drawings/${v}.vml`]=C})}_processThemeEntry(R,j,v){return wr(this,null,function*(){yield new Promise((y,C)=>{let w=new c;R.on("error",C),w.on("error",C),w.on("finish",()=>{j.themes[v]=w.read().toString(),y()}),R.pipe(w)})})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}read(R,j){return wr(this,null,function*(){!R[Symbol.asyncIterator]&&R.pipe&&(R=R.pipe(new a));let v=[];try{for(var y=LR(R),C,w,S;C=!(w=yield y.next()).done;C=!1){let M=w.value;v.push(M)}}catch{S=[w]}finally{try{C&&(w=y.return)&&(yield w.call(y))}finally{if(S)throw S[0]}}return this.load(n.concat(v),j)})}load(R,j){return wr(this,null,function*(){let v;v=j&&j.base64?n.from(R.toString(),"base64"):R;let y={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},C=yield s.loadAsync(v);for(let w of Object.values(C.files))if(!w.dir){let S,M=w.name;if(M[0]==="/"&&(M=M.substr(1)),M.match(/xl\/media\//)||M.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))S=new a,S.write(yield w.async("nodebuffer"));else{let U;S=new a({writableObjectMode:!0,readableObjectMode:!0}),U=i.browser?u(yield w.async("nodebuffer")):yield w.async("string");let N=16384;for(let T=0;T<U.length;T+=N)S.write(U.substring(T,T+N))}switch(S.end(),M){case"_rels/.rels":y.globalRels=yield this.parseRels(S);break;case"xl/workbook.xml":{let U=yield this.parseWorkbook(S);y.sheets=U.sheets,y.definedNames=U.definedNames,y.views=U.views,y.properties=U.properties,y.calcProperties=U.calcProperties;break}case"xl/_rels/workbook.xml.rels":y.workbookRels=yield this.parseRels(S);break;case"xl/sharedStrings.xml":y.sharedStrings=new g,yield y.sharedStrings.parseStream(S);break;case"xl/styles.xml":y.styles=new f,yield y.styles.parseStream(S);break;case"docProps/app.xml":{let U=new _,N=yield U.parseStream(S);y.company=N.company,y.manager=N.manager;break}case"docProps/core.xml":{let U=new m,N=yield U.parseStream(S);Object.assign(y,N);break}default:{let U=M.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(U){yield this._processWorksheetEntry(S,y,U[1],j,M);break}if(U=M.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),U){yield this._processWorksheetRelsEntry(S,y,U[1]);break}if(U=M.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),U){yield this._processThemeEntry(S,y,U[1]);break}if(U=M.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),U){yield this._processMediaEntry(S,y,U[1]);break}if(U=M.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),U){yield this._processDrawingEntry(S,y,U[1]);break}if(U=M.match(/xl\/(comments\d+)[.]xml/),U){yield this._processCommentEntry(S,y,U[1]);break}if(U=M.match(/xl\/tables\/(table\d+)[.]xml/),U){yield this._processTableEntry(S,y,U[1]);break}if(U=M.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),U){yield this._processDrawingRelsEntry(S,y,U[1]);break}if(U=M.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),U){yield this._processVmlDrawingEntry(S,y,U[1]);break}}}}return this.reconcile(y,j),this.workbook.model=y,this.workbook})}addMedia(R,j){return wr(this,null,function*(){yield Promise.all(j.media.map(v=>wr(this,null,function*(){if(v.type==="image"){let y=`xl/media/${v.name}.${v.extension}`;if(v.filename){let C=yield function(w,S){return new Promise((M,U)=>{o.readFile(w,S,(N,T)=>{N?U(N):M(T)})})}(v.filename);return R.append(C,{name:y})}if(v.buffer)return R.append(v.buffer,{name:y});if(v.base64){let C=v.base64,w=C.substring(C.indexOf(",")+1);return R.append(w,{name:y,base64:!0})}}throw new Error("Unsupported media")})))})}addDrawings(R,j){let v=new V,y=new p;j.worksheets.forEach(C=>{let{drawing:w}=C;if(w){v.prepare(w,{});let S=v.toXml(w);R.append(S,{name:`xl/drawings/${w.name}.xml`}),S=y.toXml(w.rels),R.append(S,{name:`xl/drawings/_rels/${w.name}.xml.rels`})}})}addTables(R,j){let v=new H;j.worksheets.forEach(y=>{let{tables:C}=y;C.forEach(w=>{v.prepare(w,{});let S=v.toXml(w);R.append(S,{name:"xl/tables/"+w.target})})})}addContentTypes(R,j){return wr(this,null,function*(){let v=new b().toXml(j);R.append(v,{name:"[Content_Types].xml"})})}addApp(R,j){return wr(this,null,function*(){let v=new _().toXml(j);R.append(v,{name:"docProps/app.xml"})})}addCore(R,j){return wr(this,null,function*(){let v=new m;R.append(v.toXml(j),{name:"docProps/core.xml"})})}addThemes(R,j){return wr(this,null,function*(){let v=j.themes||{theme1:q};Object.keys(v).forEach(y=>{let C=v[y],w=`xl/theme/${y}.xml`;R.append(C,{name:w})})})}addOfficeRels(R){return wr(this,null,function*(){let j=new p().toXml([{Id:"rId1",Type:W.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:W.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:W.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);R.append(j,{name:"_rels/.rels"})})}addWorkbookRels(R,j){return wr(this,null,function*(){let v=1,y=[{Id:"rId"+v++,Type:W.RelType.Styles,Target:"styles.xml"},{Id:"rId"+v++,Type:W.RelType.Theme,Target:"theme/theme1.xml"}];j.sharedStrings.count&&y.push({Id:"rId"+v++,Type:W.RelType.SharedStrings,Target:"sharedStrings.xml"}),j.worksheets.forEach(w=>{w.rId="rId"+v++,y.push({Id:w.rId,Type:W.RelType.Worksheet,Target:`worksheets/sheet${w.id}.xml`})});let C=new p().toXml(y);R.append(C,{name:"xl/_rels/workbook.xml.rels"})})}addSharedStrings(R,j){return wr(this,null,function*(){j.sharedStrings&&j.sharedStrings.count&&R.append(j.sharedStrings.xml,{name:"xl/sharedStrings.xml"})})}addStyles(R,j){return wr(this,null,function*(){let{xml:v}=j.styles;v&&R.append(v,{name:"xl/styles.xml"})})}addWorkbook(R,j){return wr(this,null,function*(){let v=new E;R.append(v.toXml(j),{name:"xl/workbook.xml"})})}addWorksheets(R,j){return wr(this,null,function*(){let v=new O,y=new p,C=new F,w=new L;j.worksheets.forEach(S=>{let M=new h;v.render(M,S),R.append(M.xml,{name:`xl/worksheets/sheet${S.id}.xml`}),S.rels&&S.rels.length&&(M=new h,y.render(M,S.rels),R.append(M.xml,{name:`xl/worksheets/_rels/sheet${S.id}.xml.rels`})),S.comments.length>0&&(M=new h,C.render(M,S),R.append(M.xml,{name:`xl/comments${S.id}.xml`}),M=new h,w.render(M,S),R.append(M.xml,{name:`xl/drawings/vmlDrawing${S.id}.vml`}))})})}_finalize(R){return new Promise((j,v)=>{R.on("finish",()=>{j(this)}),R.on("error",v),R.finalize()})}prepareModel(R,j){R.creator=R.creator||"ExcelJS",R.lastModifiedBy=R.lastModifiedBy||"ExcelJS",R.created=R.created||new Date,R.modified=R.modified||new Date,R.useSharedStrings=j.useSharedStrings===void 0||j.useSharedStrings,R.useStyles=j.useStyles===void 0||j.useStyles,R.sharedStrings=new g,R.styles=R.useStyles?new f(!0):new f.Mock;let v=new E,y=new O;v.prepare(R);let C={sharedStrings:R.sharedStrings,styles:R.styles,date1904:R.properties.date1904,drawingsCount:0,media:R.media};C.drawings=R.drawings=[],C.commentRefs=R.commentRefs=[];let w=0;R.tables=[],R.worksheets.forEach(S=>{S.tables.forEach(M=>{w++,M.target=`table${w}.xml`,M.id=w,R.tables.push(M)}),y.prepare(S,C)})}write(R,j){return wr(this,null,function*(){j=j||{};let{model:v}=this.workbook,y=new l.ZipWriter(j.zip);return y.pipe(R),this.prepareModel(v,j),yield this.addContentTypes(y,v),yield this.addOfficeRels(y,v),yield this.addWorkbookRels(y,v),yield this.addWorksheets(y,v),yield this.addSharedStrings(y,v),yield this.addDrawings(y,v),yield this.addTables(y,v),yield Promise.all([this.addThemes(y,v),this.addStyles(y,v)]),yield this.addMedia(y,v),yield Promise.all([this.addApp(y,v),this.addCore(y,v)]),yield this.addWorkbook(y,v),this._finalize(y)})}writeFile(R,j){let v=o.createWriteStream(R);return new Promise((y,C)=>{v.on("finish",()=>{y()}),v.on("error",w=>{C(w)}),this.write(v,j).then(()=>{v.end()}).catch(w=>{C(w)})})}writeBuffer(R){return wr(this,null,function*(){let j=new c;return yield this.write(j,R),j.read()})}}W.RelType=e("./rel-type"),t.exports=W}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(e,t,r){"use strict";t.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="\uFF2D\uFF33 \uFF30\u30B4\u30B7\u30C3\u30AF"/> <a:font script="Hang" typeface="\uB9D1\uC740 \uACE0\uB515"/> <a:font script="Hans" typeface="\u5B8B\u4F53"/> <a:font script="Hant" typeface="\u65B0\u7D30\u660E\u9AD4"/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="\uFF2D\uFF33 \uFF30\u30B4\u30B7\u30C3\u30AF"/> <a:font script="Hang" typeface="\uB9D1\uC740 \uACE0\uB515"/> <a:font script="Hans" typeface="\u5B8B\u4F53"/> <a:font script="Hant" typeface="\u65B0\u7D30\u660E\u9AD4"/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(e,t,r){(function(i){(function(){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.CsvFormatterStream=void 0;let n=e("stream"),o=e("./formatter");class s extends n.Transform{constructor(l){super({writableObjectMode:l.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=l,this.rowFormatter=new o.RowFormatter(l),this.hasWrittenBOM=!l.writeBOM}transform(l){return this.rowFormatter.rowTransform=l,this}_transform(l,c,d){let h=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(l,(u,f)=>u?(h=!0,d(u)):(f&&f.forEach(m=>{this.push(i.from(m,"utf8"))}),h=!0,d()))}catch(u){if(h)throw u;d(u)}}_flush(l){this.rowFormatter.finish((c,d)=>c?l(c):(d&&d.forEach(h=>{this.push(i.from(h,"utf8"))}),l()))}}r.CsvFormatterStream=s}).call(this)}).call(this,e("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.FormatterOptions=void 0,r.FormatterOptions=class{constructor(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var n;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,i||{}),i?.quoteHeaders===void 0&&(this.quoteHeaders=this.quoteColumns),i?.quote===!0?this.quote='"':i?.quote===!1&&(this.quote=""),typeof i?.escape!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((n=i.writeHeaders)===null||n===void 0||n),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(e,t,r){"use strict";var i=function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(r,"__esModule",{value:!0}),r.FieldFormatter=void 0;let n=i(e("lodash.isboolean")),o=i(e("lodash.isnil")),s=i(e("lodash.escaperegexp"));r.FieldFormatter=class{constructor(a){this._headers=null,this.formatterOptions=a,a.headers!==null&&(this.headers=a.headers),this.REPLACE_REGEXP=new RegExp(a.quote,"g");let l=`[${a.delimiter}${s.default(a.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(l)}set headers(a){this._headers=a}shouldQuote(a,l){let c=l?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return n.default(c)?c:Array.isArray(c)?c[a]:this._headers!==null&&c[this._headers[a]]}format(a,l,c){let d=(""+(o.default(a)?"":a)).replace(/\0/g,""),{formatterOptions:h}=this;return h.quote!==""&&d.indexOf(h.quote)!==-1?this.quoteField(d.replace(this.REPLACE_REGEXP,h.escapedQuote)):d.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(l,c)?this.quoteField(d):d}quoteField(a){let{quote:l}=this.formatterOptions;return`${l}${a}${l}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(e,t,r){"use strict";var i=function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(r,"__esModule",{value:!0}),r.RowFormatter=void 0;let n=i(e("lodash.isfunction")),o=i(e("lodash.isequal")),s=e("./FieldFormatter"),a=e("../types");class l{constructor(d){this.rowCount=0,this.formatterOptions=d,this.fieldFormatter=new s.FieldFormatter(d),this.headers=d.headers,this.shouldWriteHeaders=d.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),d.transform&&(this.rowTransform=d.transform)}static isRowHashArray(d){return!!Array.isArray(d)&&Array.isArray(d[0])&&d[0].length===2}static isRowArray(d){return Array.isArray(d)&&!this.isRowHashArray(d)}static gatherHeaders(d){return l.isRowHashArray(d)?d.map(h=>h[0]):Array.isArray(d)?d:Object.keys(d)}static createTransform(d){return a.isSyncTransform(d)?(h,u)=>{let f=null;try{f=d(h)}catch(m){return u(m)}return u(null,f)}:(h,u)=>{d(h,u)}}set rowTransform(d){if(!n.default(d))throw new TypeError("The transform should be a function");this._rowTransform=l.createTransform(d)}format(d,h){this.callTransformer(d,(u,f)=>{if(u)return h(u);if(!d)return h(null);let m=[];if(f){let{shouldFormatColumns:g,headers:p}=this.checkHeaders(f);if(this.shouldWriteHeaders&&p&&!this.hasWrittenHeaders&&(m.push(this.formatColumns(p,!0)),this.hasWrittenHeaders=!0),g){let b=this.gatherColumns(f);m.push(this.formatColumns(b,!1))}}return h(null,m)})}finish(d){let h=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return d(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));h.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&h.push(this.formatterOptions.rowDelimiter),d(null,h)}checkHeaders(d){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};let h=l.gatherHeaders(d);return this.headers=h,this.fieldFormatter.headers=h,this.shouldWriteHeaders?{shouldFormatColumns:!o.default(h,d),headers:h}:{shouldFormatColumns:!0,headers:null}}gatherColumns(d){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(d)?l.isRowHashArray(d)?this.headers.map((h,u)=>{let f=d[u];return f?f[1]:""}):l.isRowArray(d)&&!this.shouldWriteHeaders?d:this.headers.map((h,u)=>d[u]):this.headers.map(h=>d[h])}callTransformer(d,h){return this._rowTransform?this._rowTransform(d,h):h(null,d)}formatColumns(d,h){let u=d.map((m,g)=>this.fieldFormatter.format(m,g,h)).join(this.formatterOptions.delimiter),{rowCount:f}=this;return this.rowCount+=1,f?[this.formatterOptions.rowDelimiter,u].join(""):u}}r.RowFormatter=l},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.FieldFormatter=r.RowFormatter=void 0;var i=e("./RowFormatter");Object.defineProperty(r,"RowFormatter",{enumerable:!0,get:function(){return i.RowFormatter}});var n=e("./FieldFormatter");Object.defineProperty(r,"FieldFormatter",{enumerable:!0,get:function(){return n.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(e,t,r){(function(i){(function(){"use strict";var n=Object.create?function(g,p,b,_){_===void 0&&(_=b),Object.defineProperty(g,_,{enumerable:!0,get:function(){return p[b]}})}:function(g,p,b,_){_===void 0&&(_=b),g[_]=p[b]},o=Object.create?function(g,p){Object.defineProperty(g,"default",{enumerable:!0,value:p})}:function(g,p){g.default=p},s=function(g){if(g&&g.__esModule)return g;var p={};if(g!=null)for(var b in g)b!=="default"&&Object.prototype.hasOwnProperty.call(g,b)&&n(p,g,b);return o(p,g),p},a=function(g,p){for(var b in g)b==="default"||Object.prototype.hasOwnProperty.call(p,b)||n(p,g,b)};Object.defineProperty(r,"__esModule",{value:!0}),r.writeToPath=r.writeToString=r.writeToBuffer=r.writeToStream=r.write=r.format=r.FormatterOptions=r.CsvFormatterStream=void 0;let l=e("util"),c=e("stream"),d=s(e("fs")),h=e("./FormatterOptions"),u=e("./CsvFormatterStream");a(e("./types"),r);var f=e("./CsvFormatterStream");Object.defineProperty(r,"CsvFormatterStream",{enumerable:!0,get:function(){return f.CsvFormatterStream}});var m=e("./FormatterOptions");Object.defineProperty(r,"FormatterOptions",{enumerable:!0,get:function(){return m.FormatterOptions}}),r.format=g=>new u.CsvFormatterStream(new h.FormatterOptions(g)),r.write=(g,p)=>{let b=r.format(p),_=l.promisify((E,O)=>{b.write(E,void 0,O)});return g.reduce((E,O)=>E.then(()=>_(O)),Promise.resolve()).then(()=>b.end()).catch(E=>{b.emit("error",E)}),b},r.writeToStream=(g,p,b)=>r.write(p,b).pipe(g),r.writeToBuffer=function(g){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},b=[],_=new c.Writable({write(E,O,V){b.push(E),V()}});return new Promise((E,O)=>{_.on("error",O).on("finish",()=>E(i.concat(b))),r.write(g,p).pipe(_)})},r.writeToString=(g,p)=>r.writeToBuffer(g,p).then(b=>b.toString()),r.writeToPath=(g,p,b)=>{let _=d.createWriteStream(g,{encoding:"utf8"});return r.write(p,b).pipe(_)}}).call(this)}).call(this,e("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isSyncTransform=void 0,r.isSyncTransform=i=>i.length===1},{}],153:[function(e,t,r){(function(i){(function(){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.CsvParserStream=void 0;let n=e("string_decoder"),o=e("stream"),s=e("./transforms"),a=e("./parser");class l extends o.Transform{constructor(d){super({objectMode:d.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=d,this.parser=new a.Parser(d),this.headerTransformer=new s.HeaderTransformer(d),this.decoder=new n.StringDecoder(d.encoding),this.rowTransformerValidator=new s.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(d){return this.rowTransformerValidator.rowTransform=d,this}validate(d){return this.rowTransformerValidator.rowValidator=d,this}emit(d){if(d==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var h=arguments.length,u=new Array(h>1?h-1:0),f=1;f<h;f++)u[f-1]=arguments[f];return super.emit(d,...u)}_transform(d,h,u){if(this.hasHitRowLimit)return u();let f=l.wrapDoneCallback(u);try{let{lines:m}=this,g=m+this.decoder.write(d),p=this.parse(g,!0);return this.processRows(p,f)}catch(m){return f(m)}}_flush(d){let h=l.wrapDoneCallback(d);if(this.hasHitRowLimit)return h();try{let u=this.lines+this.decoder.end(),f=this.parse(u,!1);return this.processRows(f,h)}catch(u){return h(u)}}parse(d,h){if(!d)return[];let{line:u,rows:f}=this.parser.parse(d,h);return this.lines=u,f}processRows(d,h){let u=d.length,f=m=>{let g=_=>_?h(_):m%100!=0?f(m+1):void i(()=>f(m+1));if(this.checkAndEmitHeaders(),m>=u||this.hasHitRowLimit)return h();if(this.parsedLineCount+=1,this.shouldSkipLine)return g();let p=d[m];this.rowCount+=1,this.parsedRowCount+=1;let b=this.rowCount;return this.transformRow(p,(_,E)=>{if(_)return this.rowCount-=1,g(_);if(!E)return g(new Error("expected transform result"));if(E.isValid){if(E.row)return this.pushRow(E.row,g)}else this.emit("data-invalid",E.row,b,E.reason);return g()})};f(0)}transformRow(d,h){try{this.headerTransformer.transform(d,(u,f)=>u?h(u):f?f.isValid?f.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(f.row,h):this.skipRow(h):(this.rowCount-=1,this.parsedRowCount-=1,h(null,{row:null,isValid:!0})):this.shouldEmitRows?h(null,{isValid:!1,row:d}):this.skipRow(h):h(new Error("Expected result from header transform")))}catch(u){h(u)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(d){return this.rowCount-=1,d(null,{row:null,isValid:!0})}pushRow(d,h){try{this.parserOptions.objectMode?this.push(d):this.push(JSON.stringify(d)),h()}catch(u){h(u)}}static wrapDoneCallback(d){let h=!1;return function(u){if(u){if(h)throw u;return h=!0,void d(u)}for(var f=arguments.length,m=new Array(f>1?f-1:0),g=1;g<f;g++)m[g-1]=arguments[g];d(...m)}}}r.CsvParserStream=l}).call(this)}).call(this,e("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(e,t,r){"use strict";var i=function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(r,"__esModule",{value:!0}),r.ParserOptions=void 0;let n=i(e("lodash.escaperegexp")),o=i(e("lodash.isnil"));r.ParserOptions=class{constructor(s){var a;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,s||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=n.default(this.delimiter),this.escapeChar=(a=this.escape)!==null&&a!==void 0?a:this.quote,this.supportsComments=!o.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(e,t,r){"use strict";var i=Object.create?function(f,m,g,p){p===void 0&&(p=g),Object.defineProperty(f,p,{enumerable:!0,get:function(){return m[g]}})}:function(f,m,g,p){p===void 0&&(p=g),f[p]=m[g]},n=Object.create?function(f,m){Object.defineProperty(f,"default",{enumerable:!0,value:m})}:function(f,m){f.default=m},o=function(f){if(f&&f.__esModule)return f;var m={};if(f!=null)for(var g in f)g!=="default"&&Object.prototype.hasOwnProperty.call(f,g)&&i(m,f,g);return n(m,f),m},s=function(f,m){for(var g in f)g==="default"||Object.prototype.hasOwnProperty.call(m,g)||i(m,f,g)};Object.defineProperty(r,"__esModule",{value:!0}),r.parseString=r.parseFile=r.parseStream=r.parse=r.ParserOptions=r.CsvParserStream=void 0;let a=o(e("fs")),l=e("stream"),c=e("./ParserOptions"),d=e("./CsvParserStream");s(e("./types"),r);var h=e("./CsvParserStream");Object.defineProperty(r,"CsvParserStream",{enumerable:!0,get:function(){return h.CsvParserStream}});var u=e("./ParserOptions");Object.defineProperty(r,"ParserOptions",{enumerable:!0,get:function(){return u.ParserOptions}}),r.parse=f=>new d.CsvParserStream(new c.ParserOptions(f)),r.parseStream=(f,m)=>f.pipe(new d.CsvParserStream(new c.ParserOptions(m))),r.parseFile=function(f){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return a.createReadStream(f).pipe(new d.CsvParserStream(new c.ParserOptions(m)))},r.parseString=(f,m)=>{let g=new l.Readable;return g.push(f),g.push(null),g.pipe(new d.CsvParserStream(new c.ParserOptions(m)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Parser=void 0;let i=e("./Scanner"),n=e("./RowParser"),o=e("./Token");class s{constructor(l){this.parserOptions=l,this.rowParser=new n.RowParser(this.parserOptions)}static removeBOM(l){return l&&l.charCodeAt(0)===65279?l.slice(1):l}parse(l,c){let d=new i.Scanner({line:s.removeBOM(l),parserOptions:this.parserOptions,hasMoreData:c});return this.parserOptions.supportsComments?this.parseWithComments(d):this.parseWithoutComments(d)}parseWithoutComments(l){let c=[],d=!0;for(;d;)d=this.parseRow(l,c);return{line:l.line,rows:c}}parseWithComments(l){let{parserOptions:c}=this,d=[];for(let h=l.nextCharacterToken;h!==null;h=l.nextCharacterToken)if(o.Token.isTokenComment(h,c)){if(l.advancePastLine()===null)return{line:l.lineFromCursor,rows:d};if(!l.hasMoreCharacters)return{line:l.lineFromCursor,rows:d};l.truncateToCursor()}else if(!this.parseRow(l,d))break;return{line:l.line,rows:d}}parseRow(l,c){if(!l.nextNonSpaceToken)return!1;let d=this.rowParser.parse(l);return d!==null&&(this.parserOptions.ignoreEmpty&&n.RowParser.isEmptyRow(d)||c.push(d),!0)}}r.Parser=s},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.RowParser=void 0;let i=e("./column"),n=e("./Token");r.RowParser=class{constructor(o){this.parserOptions=o,this.columnParser=new i.ColumnParser(o)}static isEmptyRow(o){return o.join("").replace(/\s+/g,"")===""}parse(o){let{parserOptions:s}=this,{hasMoreData:a}=o,l=o,c=[],d=this.getStartToken(l,c);for(;d;){if(n.Token.isTokenRowDelimiter(d))return l.advancePastToken(d),!l.hasMoreCharacters&&n.Token.isTokenCarriageReturn(d,s)&&a?null:(l.truncateToCursor(),c);if(!this.shouldSkipColumnParse(l,d,c)){let h=this.columnParser.parse(l);if(h===null)return null;c.push(h)}d=l.nextNonSpaceToken}return a?null:(l.truncateToCursor(),c)}getStartToken(o,s){let a=o.nextNonSpaceToken;return a!==null&&n.Token.isTokenDelimiter(a,this.parserOptions)?(s.push(""),o.nextNonSpaceToken):a}shouldSkipColumnParse(o,s,a){let{parserOptions:l}=this;if(n.Token.isTokenDelimiter(s,l)){o.advancePastToken(s);let c=o.nextCharacterToken;if(!o.hasMoreCharacters||c!==null&&n.Token.isTokenRowDelimiter(c)||c!==null&&n.Token.isTokenDelimiter(c,l))return a.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Scanner=void 0;let i=e("./Token"),n=/((?:\r\n)|\n|\r)/;r.Scanner=class{constructor(o){this.cursor=0,this.line=o.line,this.lineLength=this.line.length,this.parserOptions=o.parserOptions,this.hasMoreData=o.hasMoreData,this.cursor=o.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){let{lineFromCursor:o}=this,s=this.parserOptions.NEXT_TOKEN_REGEXP;if(o.search(s)===-1)return null;let a=s.exec(o);if(a==null)return null;let l=a[1],c=this.cursor+(a.index||0);return new i.Token({token:l,startCursor:c,endCursor:c+l.length-1})}get nextCharacterToken(){let{cursor:o,lineLength:s}=this;return s<=o?null:new i.Token({token:this.line[o],startCursor:o,endCursor:o})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){let o=n.exec(this.lineFromCursor);return o?(this.cursor+=(o.index||0)+o[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(o){return this.cursor=o,this}advanceToToken(o){return this.cursor=o.startCursor,this}advancePastToken(o){return this.cursor=o.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Token=void 0,r.Token=class{constructor(i){this.token=i.token,this.startCursor=i.startCursor,this.endCursor=i.endCursor}static isTokenRowDelimiter(i){let n=i.token;return n==="\r"||n===`
`||n===`\r
`}static isTokenCarriageReturn(i,n){return i.token===n.carriageReturn}static isTokenComment(i,n){return n.supportsComments&&!!i&&i.token===n.comment}static isTokenEscapeCharacter(i,n){return i.token===n.escapeChar}static isTokenQuote(i,n){return i.token===n.quote}static isTokenDelimiter(i,n){return i.token===n.delimiter}}},{}],160:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ColumnFormatter=void 0,r.ColumnFormatter=class{constructor(i){i.trim?this.format=n=>n.trim():i.ltrim?this.format=n=>n.trimLeft():i.rtrim?this.format=n=>n.trimRight():this.format=n=>n}}},{}],161:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ColumnParser=void 0;let i=e("./NonQuotedColumnParser"),n=e("./QuotedColumnParser"),o=e("../Token");r.ColumnParser=class{constructor(s){this.parserOptions=s,this.quotedColumnParser=new n.QuotedColumnParser(s),this.nonQuotedColumnParser=new i.NonQuotedColumnParser(s)}parse(s){let{nextNonSpaceToken:a}=s;return a!==null&&o.Token.isTokenQuote(a,this.parserOptions)?(s.advanceToToken(a),this.quotedColumnParser.parse(s)):this.nonQuotedColumnParser.parse(s)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.NonQuotedColumnParser=void 0;let i=e("./ColumnFormatter"),n=e("../Token");r.NonQuotedColumnParser=class{constructor(o){this.parserOptions=o,this.columnFormatter=new i.ColumnFormatter(o)}parse(o){if(!o.hasMoreCharacters)return null;let{parserOptions:s}=this,a=[],l=o.nextCharacterToken;for(;l&&!n.Token.isTokenDelimiter(l,s)&&!n.Token.isTokenRowDelimiter(l);l=o.nextCharacterToken)a.push(l.token),o.advancePastToken(l);return this.columnFormatter.format(a.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.QuotedColumnParser=void 0;let i=e("./ColumnFormatter"),n=e("../Token");r.QuotedColumnParser=class{constructor(o){this.parserOptions=o,this.columnFormatter=new i.ColumnFormatter(o)}parse(o){if(!o.hasMoreCharacters)return null;let s=o.cursor,{foundClosingQuote:a,col:l}=this.gatherDataBetweenQuotes(o);if(!a){if(o.advanceTo(s),!o.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${o.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(o),l}gatherDataBetweenQuotes(o){let{parserOptions:s}=this,a=!1,l=!1,c=[],d=o.nextCharacterToken;for(;!l&&d!==null;d=o.nextCharacterToken){let h=n.Token.isTokenQuote(d,s);if(!a&&h)a=!0;else if(a)if(n.Token.isTokenEscapeCharacter(d,s)){o.advancePastToken(d);let u=o.nextCharacterToken;u!==null&&(n.Token.isTokenQuote(u,s)||n.Token.isTokenEscapeCharacter(u,s))?(c.push(u.token),d=u):h?l=!0:c.push(d.token)}else h?l=!0:c.push(d.token);o.advancePastToken(d)}return{col:this.columnFormatter.format(c.join("")),foundClosingQuote:l}}checkForMalformedColumn(o){let{parserOptions:s}=this,{nextNonSpaceToken:a}=o;if(a){let l=n.Token.isTokenDelimiter(a,s),c=n.Token.isTokenRowDelimiter(a);if(!l&&!c){let d=o.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${s.escapedDelimiter}' OR new line got: '${a.token}'. at '${d}`)}o.advanceToToken(a)}else o.hasMoreData||o.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ColumnFormatter=r.QuotedColumnParser=r.NonQuotedColumnParser=r.ColumnParser=void 0;var i=e("./ColumnParser");Object.defineProperty(r,"ColumnParser",{enumerable:!0,get:function(){return i.ColumnParser}});var n=e("./NonQuotedColumnParser");Object.defineProperty(r,"NonQuotedColumnParser",{enumerable:!0,get:function(){return n.NonQuotedColumnParser}});var o=e("./QuotedColumnParser");Object.defineProperty(r,"QuotedColumnParser",{enumerable:!0,get:function(){return o.QuotedColumnParser}});var s=e("./ColumnFormatter");Object.defineProperty(r,"ColumnFormatter",{enumerable:!0,get:function(){return s.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.QuotedColumnParser=r.NonQuotedColumnParser=r.ColumnParser=r.Token=r.Scanner=r.RowParser=r.Parser=void 0;var i=e("./Parser");Object.defineProperty(r,"Parser",{enumerable:!0,get:function(){return i.Parser}});var n=e("./RowParser");Object.defineProperty(r,"RowParser",{enumerable:!0,get:function(){return n.RowParser}});var o=e("./Scanner");Object.defineProperty(r,"Scanner",{enumerable:!0,get:function(){return o.Scanner}});var s=e("./Token");Object.defineProperty(r,"Token",{enumerable:!0,get:function(){return s.Token}});var a=e("./column");Object.defineProperty(r,"ColumnParser",{enumerable:!0,get:function(){return a.ColumnParser}}),Object.defineProperty(r,"NonQuotedColumnParser",{enumerable:!0,get:function(){return a.NonQuotedColumnParser}}),Object.defineProperty(r,"QuotedColumnParser",{enumerable:!0,get:function(){return a.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(e,t,r){"use strict";var i=function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(r,"__esModule",{value:!0}),r.HeaderTransformer=void 0;let n=i(e("lodash.isundefined")),o=i(e("lodash.isfunction")),s=i(e("lodash.uniq")),a=i(e("lodash.groupby"));r.HeaderTransformer=class{constructor(l){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=l,l.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(l.headers)?this.setHeaders(l.headers):o.default(l.headers)&&(this.headersTransform=l.headers)}transform(l,c){return this.shouldMapRow(l)?c(null,this.processRow(l)):c(null,{row:null,isValid:!0})}shouldMapRow(l){let{parserOptions:c}=this;if(!this.headersTransform&&c.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(l)){if(this.headersTransform)this.setHeaders(this.headersTransform(l));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(l)}return!1}return!0}processRow(l){if(!this.headers)return{row:l,isValid:!0};let{parserOptions:c}=this;if(!c.discardUnmappedColumns&&l.length>this.headersLength){if(!c.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${l.length}`);return{row:l,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${l.length}`}}return c.strictColumnHandling&&l.length<this.headersLength?{row:l,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${l.length}`}:{row:this.mapHeaders(l),isValid:!0}}mapHeaders(l){let c={},{headers:d,headersLength:h}=this;for(let u=0;u<h;u+=1){let f=d[u];if(!n.default(f)){let m=l[u];n.default(m)?c[f]="":c[f]=m}}return c}setHeaders(l){var c;let d=l.filter(h=>!!h);if(s.default(d).length!==d.length){let h=a.default(d),u=Object.keys(h).filter(f=>h[f].length>1);throw new Error("Duplicate headers found "+JSON.stringify(u))}this.headers=l,this.receivedHeaders=!0,this.headersLength=((c=this.headers)===null||c===void 0?void 0:c.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(e,t,r){"use strict";var i=function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(r,"__esModule",{value:!0}),r.RowTransformerValidator=void 0;let n=i(e("lodash.isfunction")),o=e("../types");class s{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(l){return o.isSyncTransform(l)?(c,d)=>{let h=null;try{h=l(c)}catch(u){return d(u)}return d(null,h)}:l}static createValidator(l){return o.isSyncValidate(l)?(c,d)=>{d(null,{row:c,isValid:l(c)})}:(c,d)=>{l(c,(h,u,f)=>h?d(h):d(null,u?{row:c,isValid:u,reason:f}:{row:c,isValid:!1,reason:f}))}}set rowTransform(l){if(!n.default(l))throw new TypeError("The transform should be a function");this._rowTransform=s.createTransform(l)}set rowValidator(l){if(!n.default(l))throw new TypeError("The validate should be a function");this._rowValidator=s.createValidator(l)}transformAndValidate(l,c){return this.callTransformer(l,(d,h)=>d?c(d):h?this.callValidator(h,(u,f)=>u?c(u):f&&!f.isValid?c(null,{row:h,isValid:!1,reason:f.reason}):c(null,{row:h,isValid:!0})):c(null,{row:null,isValid:!0}))}callTransformer(l,c){return this._rowTransform?this._rowTransform(l,c):c(null,l)}callValidator(l,c){return this._rowValidator?this._rowValidator(l,c):c(null,{row:l,isValid:!0})}}r.RowTransformerValidator=s},{"../types":169,"lodash.isfunction":446}],168:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.HeaderTransformer=r.RowTransformerValidator=void 0;var i=e("./RowTransformerValidator");Object.defineProperty(r,"RowTransformerValidator",{enumerable:!0,get:function(){return i.RowTransformerValidator}});var n=e("./HeaderTransformer");Object.defineProperty(r,"HeaderTransformer",{enumerable:!0,get:function(){return n.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isSyncValidate=r.isSyncTransform=void 0,r.isSyncTransform=i=>i.length===1,r.isSyncValidate=i=>i.length===1},{}],170:[function(e,t,r){"use strict";let i=r;i.bignum=e("bn.js"),i.define=e("./asn1/api").define,i.base=e("./asn1/base"),i.constants=e("./asn1/constants"),i.decoders=e("./asn1/decoders"),i.encoders=e("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(e,t,r){"use strict";let i=e("./encoders"),n=e("./decoders"),o=e("inherits");function s(a,l){this.name=a,this.body=l,this.decoders={},this.encoders={}}r.define=function(a,l){return new s(a,l)},s.prototype._createNamed=function(a){let l=this.name;function c(d){this._initNamed(d,l)}return o(c,a),c.prototype._initNamed=function(d,h){a.call(this,d,h)},new c(this)},s.prototype._getDecoder=function(a){return a=a||"der",this.decoders.hasOwnProperty(a)||(this.decoders[a]=this._createNamed(n[a])),this.decoders[a]},s.prototype.decode=function(a,l,c){return this._getDecoder(l).decode(a,c)},s.prototype._getEncoder=function(a){return a=a||"der",this.encoders.hasOwnProperty(a)||(this.encoders[a]=this._createNamed(i[a])),this.encoders[a]},s.prototype.encode=function(a,l,c){return this._getEncoder(l).encode(a,c)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(e,t,r){"use strict";let i=e("inherits"),n=e("../base/reporter").Reporter,o=e("safer-buffer").Buffer;function s(l,c){n.call(this,c),o.isBuffer(l)?(this.base=l,this.offset=0,this.length=l.length):this.error("Input not Buffer")}function a(l,c){if(Array.isArray(l))this.length=0,this.value=l.map(function(d){return a.isEncoderBuffer(d)||(d=new a(d,c)),this.length+=d.length,d},this);else if(typeof l=="number"){if(!(0<=l&&l<=255))return c.error("non-byte EncoderBuffer value");this.value=l,this.length=1}else if(typeof l=="string")this.value=l,this.length=o.byteLength(l);else{if(!o.isBuffer(l))return c.error("Unsupported type: "+typeof l);this.value=l,this.length=l.length}}i(s,n),r.DecoderBuffer=s,s.isDecoderBuffer=function(l){return l instanceof s?!0:typeof l=="object"&&o.isBuffer(l.base)&&l.constructor.name==="DecoderBuffer"&&typeof l.offset=="number"&&typeof l.length=="number"&&typeof l.save=="function"&&typeof l.restore=="function"&&typeof l.isEmpty=="function"&&typeof l.readUInt8=="function"&&typeof l.skip=="function"&&typeof l.raw=="function"},s.prototype.save=function(){return{offset:this.offset,reporter:n.prototype.save.call(this)}},s.prototype.restore=function(l){let c=new s(this.base);return c.offset=l.offset,c.length=this.offset,this.offset=l.offset,n.prototype.restore.call(this,l.reporter),c},s.prototype.isEmpty=function(){return this.offset===this.length},s.prototype.readUInt8=function(l){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(l||"DecoderBuffer overrun")},s.prototype.skip=function(l,c){if(!(this.offset+l<=this.length))return this.error(c||"DecoderBuffer overrun");let d=new s(this.base);return d._reporterState=this._reporterState,d.offset=this.offset,d.length=this.offset+l,this.offset+=l,d},s.prototype.raw=function(l){return this.base.slice(l?l.offset:this.offset,this.length)},r.EncoderBuffer=a,a.isEncoderBuffer=function(l){return l instanceof a?!0:typeof l=="object"&&l.constructor.name==="EncoderBuffer"&&typeof l.length=="number"&&typeof l.join=="function"},a.prototype.join=function(l,c){return l||(l=o.alloc(this.length)),c||(c=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(d){d.join(l,c),c+=d.length}):(typeof this.value=="number"?l[c]=this.value:typeof this.value=="string"?l.write(this.value,c):o.isBuffer(this.value)&&this.value.copy(l,c),c+=this.length)),l}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(e,t,r){"use strict";let i=r;i.Reporter=e("./reporter").Reporter,i.DecoderBuffer=e("./buffer").DecoderBuffer,i.EncoderBuffer=e("./buffer").EncoderBuffer,i.Node=e("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(e,t,r){"use strict";let i=e("../base/reporter").Reporter,n=e("../base/buffer").EncoderBuffer,o=e("../base/buffer").DecoderBuffer,s=e("minimalistic-assert"),a=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],l=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(a);function c(h,u,f){let m={};this._baseState=m,m.name=f,m.enc=h,m.parent=u||null,m.children=null,m.tag=null,m.args=null,m.reverseArgs=null,m.choice=null,m.optional=!1,m.any=!1,m.obj=!1,m.use=null,m.useDecoder=null,m.key=null,m.default=null,m.explicit=null,m.implicit=null,m.contains=null,m.parent||(m.children=[],this._wrap())}t.exports=c;let d=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];c.prototype.clone=function(){let h=this._baseState,u={};d.forEach(function(m){u[m]=h[m]});let f=new this.constructor(u.parent);return f._baseState=u,f},c.prototype._wrap=function(){let h=this._baseState;l.forEach(function(u){this[u]=function(){let f=new this.constructor(this);return h.children.push(f),f[u].apply(f,arguments)}},this)},c.prototype._init=function(h){let u=this._baseState;s(u.parent===null),h.call(this),u.children=u.children.filter(function(f){return f._baseState.parent===this},this),s.equal(u.children.length,1,"Root node can have only one child")},c.prototype._useArgs=function(h){let u=this._baseState,f=h.filter(function(m){return m instanceof this.constructor},this);h=h.filter(function(m){return!(m instanceof this.constructor)},this),f.length!==0&&(s(u.children===null),u.children=f,f.forEach(function(m){m._baseState.parent=this},this)),h.length!==0&&(s(u.args===null),u.args=h,u.reverseArgs=h.map(function(m){if(typeof m!="object"||m.constructor!==Object)return m;let g={};return Object.keys(m).forEach(function(p){p==(0|p)&&(p|=0);let b=m[p];g[b]=p}),g}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(h){c.prototype[h]=function(){let u=this._baseState;throw new Error(h+" not implemented for encoding: "+u.enc)}}),a.forEach(function(h){c.prototype[h]=function(){let u=this._baseState,f=Array.prototype.slice.call(arguments);return s(u.tag===null),u.tag=h,this._useArgs(f),this}}),c.prototype.use=function(h){s(h);let u=this._baseState;return s(u.use===null),u.use=h,this},c.prototype.optional=function(){return this._baseState.optional=!0,this},c.prototype.def=function(h){let u=this._baseState;return s(u.default===null),u.default=h,u.optional=!0,this},c.prototype.explicit=function(h){let u=this._baseState;return s(u.explicit===null&&u.implicit===null),u.explicit=h,this},c.prototype.implicit=function(h){let u=this._baseState;return s(u.explicit===null&&u.implicit===null),u.implicit=h,this},c.prototype.obj=function(){let h=this._baseState,u=Array.prototype.slice.call(arguments);return h.obj=!0,u.length!==0&&this._useArgs(u),this},c.prototype.key=function(h){let u=this._baseState;return s(u.key===null),u.key=h,this},c.prototype.any=function(){return this._baseState.any=!0,this},c.prototype.choice=function(h){let u=this._baseState;return s(u.choice===null),u.choice=h,this._useArgs(Object.keys(h).map(function(f){return h[f]})),this},c.prototype.contains=function(h){let u=this._baseState;return s(u.use===null),u.contains=h,this},c.prototype._decode=function(h,u){let f=this._baseState;if(f.parent===null)return h.wrapResult(f.children[0]._decode(h,u));let m,g=f.default,p=!0,b=null;if(f.key!==null&&(b=h.enterKey(f.key)),f.optional){let _=null;if(f.explicit!==null?_=f.explicit:f.implicit!==null?_=f.implicit:f.tag!==null&&(_=f.tag),_!==null||f.any){if(p=this._peekTag(h,_,f.any),h.isError(p))return p}else{let E=h.save();try{f.choice===null?this._decodeGeneric(f.tag,h,u):this._decodeChoice(h,u),p=!0}catch{p=!1}h.restore(E)}}if(f.obj&&p&&(m=h.enterObject()),p){if(f.explicit!==null){let E=this._decodeTag(h,f.explicit);if(h.isError(E))return E;h=E}let _=h.offset;if(f.use===null&&f.choice===null){let E;f.any&&(E=h.save());let O=this._decodeTag(h,f.implicit!==null?f.implicit:f.tag,f.any);if(h.isError(O))return O;f.any?g=h.raw(E):h=O}if(u&&u.track&&f.tag!==null&&u.track(h.path(),_,h.length,"tagged"),u&&u.track&&f.tag!==null&&u.track(h.path(),h.offset,h.length,"content"),f.any||(g=f.choice===null?this._decodeGeneric(f.tag,h,u):this._decodeChoice(h,u)),h.isError(g))return g;if(f.any||f.choice!==null||f.children===null||f.children.forEach(function(E){E._decode(h,u)}),f.contains&&(f.tag==="octstr"||f.tag==="bitstr")){let E=new o(g);g=this._getUse(f.contains,h._reporterState.obj)._decode(E,u)}}return f.obj&&p&&(g=h.leaveObject(m)),f.key===null||g===null&&p!==!0?b!==null&&h.exitKey(b):h.leaveKey(b,f.key,g),g},c.prototype._decodeGeneric=function(h,u,f){let m=this._baseState;return h==="seq"||h==="set"?null:h==="seqof"||h==="setof"?this._decodeList(u,h,m.args[0],f):/str$/.test(h)?this._decodeStr(u,h,f):h==="objid"&&m.args?this._decodeObjid(u,m.args[0],m.args[1],f):h==="objid"?this._decodeObjid(u,null,null,f):h==="gentime"||h==="utctime"?this._decodeTime(u,h,f):h==="null_"?this._decodeNull(u,f):h==="bool"?this._decodeBool(u,f):h==="objDesc"?this._decodeStr(u,h,f):h==="int"||h==="enum"?this._decodeInt(u,m.args&&m.args[0],f):m.use!==null?this._getUse(m.use,u._reporterState.obj)._decode(u,f):u.error("unknown tag: "+h)},c.prototype._getUse=function(h,u){let f=this._baseState;return f.useDecoder=this._use(h,u),s(f.useDecoder._baseState.parent===null),f.useDecoder=f.useDecoder._baseState.children[0],f.implicit!==f.useDecoder._baseState.implicit&&(f.useDecoder=f.useDecoder.clone(),f.useDecoder._baseState.implicit=f.implicit),f.useDecoder},c.prototype._decodeChoice=function(h,u){let f=this._baseState,m=null,g=!1;return Object.keys(f.choice).some(function(p){let b=h.save(),_=f.choice[p];try{let E=_._decode(h,u);if(h.isError(E))return!1;m={type:p,value:E},g=!0}catch{return h.restore(b),!1}return!0},this),g?m:h.error("Choice not matched")},c.prototype._createEncoderBuffer=function(h){return new n(h,this.reporter)},c.prototype._encode=function(h,u,f){let m=this._baseState;if(m.default!==null&&m.default===h)return;let g=this._encodeValue(h,u,f);return g===void 0||this._skipDefault(g,u,f)?void 0:g},c.prototype._encodeValue=function(h,u,f){let m=this._baseState;if(m.parent===null)return m.children[0]._encode(h,u||new i);let g=null;if(this.reporter=u,m.optional&&h===void 0){if(m.default===null)return;h=m.default}let p=null,b=!1;if(m.any)g=this._createEncoderBuffer(h);else if(m.choice)g=this._encodeChoice(h,u);else if(m.contains)p=this._getUse(m.contains,f)._encode(h,u),b=!0;else if(m.children)p=m.children.map(function(_){if(_._baseState.tag==="null_")return _._encode(null,u,h);if(_._baseState.key===null)return u.error("Child should have a key");let E=u.enterKey(_._baseState.key);if(typeof h!="object")return u.error("Child expected, but input is not object");let O=_._encode(h[_._baseState.key],u,h);return u.leaveKey(E),O},this).filter(function(_){return _}),p=this._createEncoderBuffer(p);else if(m.tag==="seqof"||m.tag==="setof"){if(!m.args||m.args.length!==1)return u.error("Too many args for : "+m.tag);if(!Array.isArray(h))return u.error("seqof/setof, but data is not Array");let _=this.clone();_._baseState.implicit=null,p=this._createEncoderBuffer(h.map(function(E){let O=this._baseState;return this._getUse(O.args[0],h)._encode(E,u)},_))}else m.use!==null?g=this._getUse(m.use,f)._encode(h,u):(p=this._encodePrimitive(m.tag,h),b=!0);if(!m.any&&m.choice===null){let _=m.implicit!==null?m.implicit:m.tag,E=m.implicit===null?"universal":"context";_===null?m.use===null&&u.error("Tag could be omitted only for .use()"):m.use===null&&(g=this._encodeComposite(_,b,E,p))}return m.explicit!==null&&(g=this._encodeComposite(m.explicit,!1,"context",g)),g},c.prototype._encodeChoice=function(h,u){let f=this._baseState,m=f.choice[h.type];return m||s(!1,h.type+" not found in "+JSON.stringify(Object.keys(f.choice))),m._encode(h.value,u)},c.prototype._encodePrimitive=function(h,u){let f=this._baseState;if(/str$/.test(h))return this._encodeStr(u,h);if(h==="objid"&&f.args)return this._encodeObjid(u,f.reverseArgs[0],f.args[1]);if(h==="objid")return this._encodeObjid(u,null,null);if(h==="gentime"||h==="utctime")return this._encodeTime(u,h);if(h==="null_")return this._encodeNull();if(h==="int"||h==="enum")return this._encodeInt(u,f.args&&f.reverseArgs[0]);if(h==="bool")return this._encodeBool(u);if(h==="objDesc")return this._encodeStr(u,h);throw new Error("Unsupported tag: "+h)},c.prototype._isNumstr=function(h){return/^[0-9 ]*$/.test(h)},c.prototype._isPrintstr=function(h){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(h)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(e,t,r){"use strict";let i=e("inherits");function n(s){this._reporterState={obj:null,path:[],options:s||{},errors:[]}}function o(s,a){this.path=s,this.rethrow(a)}r.Reporter=n,n.prototype.isError=function(s){return s instanceof o},n.prototype.save=function(){let s=this._reporterState;return{obj:s.obj,pathLen:s.path.length}},n.prototype.restore=function(s){let a=this._reporterState;a.obj=s.obj,a.path=a.path.slice(0,s.pathLen)},n.prototype.enterKey=function(s){return this._reporterState.path.push(s)},n.prototype.exitKey=function(s){let a=this._reporterState;a.path=a.path.slice(0,s-1)},n.prototype.leaveKey=function(s,a,l){let c=this._reporterState;this.exitKey(s),c.obj!==null&&(c.obj[a]=l)},n.prototype.path=function(){return this._reporterState.path.join("/")},n.prototype.enterObject=function(){let s=this._reporterState,a=s.obj;return s.obj={},a},n.prototype.leaveObject=function(s){let a=this._reporterState,l=a.obj;return a.obj=s,l},n.prototype.error=function(s){let a,l=this._reporterState,c=s instanceof o;if(a=c?s:new o(l.path.map(function(d){return"["+JSON.stringify(d)+"]"}).join(""),s.message||s,s.stack),!l.options.partial)throw a;return c||l.errors.push(a),a},n.prototype.wrapResult=function(s){let a=this._reporterState;return a.options.partial?{result:this.isError(s)?null:s,errors:a.errors}:s},i(o,Error),o.prototype.rethrow=function(s){if(this.message=s+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(a){this.stack=a.stack}return this}},{inherits:440}],176:[function(e,t,r){"use strict";function i(n){let o={};return Object.keys(n).forEach(function(s){(0|s)==s&&(s|=0);let a=n[s];o[a]=s}),o}r.tagClass={0:"universal",1:"application",2:"context",3:"private"},r.tagClassByName=i(r.tagClass),r.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},r.tagByName=i(r.tag)},{}],177:[function(e,t,r){"use strict";let i=r;i._reverse=function(n){let o={};return Object.keys(n).forEach(function(s){(0|s)==s&&(s|=0);let a=n[s];o[a]=s}),o},i.der=e("./der")},{"./der":176}],178:[function(e,t,r){"use strict";let i=e("inherits"),n=e("bn.js"),o=e("../base/buffer").DecoderBuffer,s=e("../base/node"),a=e("../constants/der");function l(u){this.enc="der",this.name=u.name,this.entity=u,this.tree=new c,this.tree._init(u.body)}function c(u){s.call(this,"der",u)}function d(u,f){let m=u.readUInt8(f);if(u.isError(m))return m;let g=a.tagClass[m>>6],p=(32&m)==0;if((31&m)==31){let b=m;for(m=0;(128&b)==128;){if(b=u.readUInt8(f),u.isError(b))return b;m<<=7,m|=127&b}}else m&=31;return{cls:g,primitive:p,tag:m,tagStr:a.tag[m]}}function h(u,f,m){let g=u.readUInt8(m);if(u.isError(g))return g;if(!f&&g===128)return null;if(!(128&g))return g;let p=127&g;if(p>4)return u.error("length octect is too long");g=0;for(let b=0;b<p;b++){g<<=8;let _=u.readUInt8(m);if(u.isError(_))return _;g|=_}return g}t.exports=l,l.prototype.decode=function(u,f){return o.isDecoderBuffer(u)||(u=new o(u,f)),this.tree._decode(u,f)},i(c,s),c.prototype._peekTag=function(u,f,m){if(u.isEmpty())return!1;let g=u.save(),p=d(u,'Failed to peek tag: "'+f+'"');return u.isError(p)?p:(u.restore(g),p.tag===f||p.tagStr===f||p.tagStr+"of"===f||m)},c.prototype._decodeTag=function(u,f,m){let g=d(u,'Failed to decode tag of "'+f+'"');if(u.isError(g))return g;let p=h(u,g.primitive,'Failed to get length of "'+f+'"');if(u.isError(p))return p;if(!m&&g.tag!==f&&g.tagStr!==f&&g.tagStr+"of"!==f)return u.error('Failed to match tag: "'+f+'"');if(g.primitive||p!==null)return u.skip(p,'Failed to match body of: "'+f+'"');let b=u.save(),_=this._skipUntilEnd(u,'Failed to skip indefinite length body: "'+this.tag+'"');return u.isError(_)?_:(p=u.offset-b.offset,u.restore(b),u.skip(p,'Failed to match body of: "'+f+'"'))},c.prototype._skipUntilEnd=function(u,f){for(;;){let m=d(u,f);if(u.isError(m))return m;let g=h(u,m.primitive,f);if(u.isError(g))return g;let p;if(p=m.primitive||g!==null?u.skip(g):this._skipUntilEnd(u,f),u.isError(p))return p;if(m.tagStr==="end")break}},c.prototype._decodeList=function(u,f,m,g){let p=[];for(;!u.isEmpty();){let b=this._peekTag(u,"end");if(u.isError(b))return b;let _=m.decode(u,"der",g);if(u.isError(_)&&b)break;p.push(_)}return p},c.prototype._decodeStr=function(u,f){if(f==="bitstr"){let m=u.readUInt8();return u.isError(m)?m:{unused:m,data:u.raw()}}if(f==="bmpstr"){let m=u.raw();if(m.length%2==1)return u.error("Decoding of string type: bmpstr length mismatch");let g="";for(let p=0;p<m.length/2;p++)g+=String.fromCharCode(m.readUInt16BE(2*p));return g}if(f==="numstr"){let m=u.raw().toString("ascii");return this._isNumstr(m)?m:u.error("Decoding of string type: numstr unsupported characters")}if(f==="octstr"||f==="objDesc")return u.raw();if(f==="printstr"){let m=u.raw().toString("ascii");return this._isPrintstr(m)?m:u.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(f)?u.raw().toString():u.error("Decoding of string type: "+f+" unsupported")},c.prototype._decodeObjid=function(u,f,m){let g,p=[],b=0,_=0;for(;!u.isEmpty();)_=u.readUInt8(),b<<=7,b|=127&_,!(128&_)&&(p.push(b),b=0);128&_&&p.push(b);let E=p[0]/40|0,O=p[0]%40;if(g=m?p:[E,O].concat(p.slice(1)),f){let V=f[g.join(" ")];V===void 0&&(V=f[g.join(".")]),V!==void 0&&(g=V)}return g},c.prototype._decodeTime=function(u,f){let m=u.raw().toString(),g,p,b,_,E,O;if(f==="gentime")g=0|m.slice(0,4),p=0|m.slice(4,6),b=0|m.slice(6,8),_=0|m.slice(8,10),E=0|m.slice(10,12),O=0|m.slice(12,14);else{if(f!=="utctime")return u.error("Decoding "+f+" time is not supported yet");g=0|m.slice(0,2),p=0|m.slice(2,4),b=0|m.slice(4,6),_=0|m.slice(6,8),E=0|m.slice(8,10),O=0|m.slice(10,12),g=g<70?2e3+g:1900+g}return Date.UTC(g,p-1,b,_,E,O,0)},c.prototype._decodeNull=function(){return null},c.prototype._decodeBool=function(u){let f=u.readUInt8();return u.isError(f)?f:f!==0},c.prototype._decodeInt=function(u,f){let m=u.raw(),g=new n(m);return f&&(g=f[g.toString(10)]||g),g},c.prototype._use=function(u,f){return typeof u=="function"&&(u=u(f)),u._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(e,t,r){"use strict";let i=r;i.der=e("./der"),i.pem=e("./pem")},{"./der":178,"./pem":180}],180:[function(e,t,r){"use strict";let i=e("inherits"),n=e("safer-buffer").Buffer,o=e("./der");function s(a){o.call(this,a),this.enc="pem"}i(s,o),t.exports=s,s.prototype.decode=function(a,l){let c=a.toString().split(/[\r\n]+/g),d=l.label.toUpperCase(),h=/^-----(BEGIN|END) ([^-]+)-----$/,u=-1,f=-1;for(let p=0;p<c.length;p++){let b=c[p].match(h);if(b!==null&&b[2]===d){if(u!==-1){if(b[1]!=="END")break;f=p;break}if(b[1]!=="BEGIN")break;u=p}}if(u===-1||f===-1)throw new Error("PEM section not found for: "+d);let m=c.slice(u+1,f).join("");m.replace(/[^a-z0-9+/=]+/gi,"");let g=n.from(m,"base64");return o.prototype.decode.call(this,g,l)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(e,t,r){"use strict";let i=e("inherits"),n=e("safer-buffer").Buffer,o=e("../base/node"),s=e("../constants/der");function a(d){this.enc="der",this.name=d.name,this.entity=d,this.tree=new l,this.tree._init(d.body)}function l(d){o.call(this,"der",d)}function c(d){return d<10?"0"+d:d}t.exports=a,a.prototype.encode=function(d,h){return this.tree._encode(d,h).join()},i(l,o),l.prototype._encodeComposite=function(d,h,u,f){let m=function(b,_,E,O){let V;if(b==="seqof"?b="seq":b==="setof"&&(b="set"),s.tagByName.hasOwnProperty(b))V=s.tagByName[b];else{if(typeof b!="number"||(0|b)!==b)return O.error("Unknown tag: "+b);V=b}return V>=31?O.error("Multi-octet tag encoding unsupported"):(_||(V|=32),V|=s.tagClassByName[E||"universal"]<<6,V)}(d,h,u,this.reporter);if(f.length<128){let b=n.alloc(2);return b[0]=m,b[1]=f.length,this._createEncoderBuffer([b,f])}let g=1;for(let b=f.length;b>=256;b>>=8)g++;let p=n.alloc(2+g);p[0]=m,p[1]=128|g;for(let b=1+g,_=f.length;_>0;b--,_>>=8)p[b]=255&_;return this._createEncoderBuffer([p,f])},l.prototype._encodeStr=function(d,h){if(h==="bitstr")return this._createEncoderBuffer([0|d.unused,d.data]);if(h==="bmpstr"){let u=n.alloc(2*d.length);for(let f=0;f<d.length;f++)u.writeUInt16BE(d.charCodeAt(f),2*f);return this._createEncoderBuffer(u)}return h==="numstr"?this._isNumstr(d)?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: numstr supports only digits and space"):h==="printstr"?this._isPrintstr(d)?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(h)||h==="objDesc"?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: "+h+" unsupported")},l.prototype._encodeObjid=function(d,h,u){if(typeof d=="string"){if(!h)return this.reporter.error("string objid given, but no values map found");if(!h.hasOwnProperty(d))return this.reporter.error("objid not found in values map");d=h[d].split(/[\s.]+/g);for(let p=0;p<d.length;p++)d[p]|=0}else if(Array.isArray(d)){d=d.slice();for(let p=0;p<d.length;p++)d[p]|=0}if(!Array.isArray(d))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(d));if(!u){if(d[1]>=40)return this.reporter.error("Second objid identifier OOB");d.splice(0,2,40*d[0]+d[1])}let f=0;for(let p=0;p<d.length;p++){let b=d[p];for(f++;b>=128;b>>=7)f++}let m=n.alloc(f),g=m.length-1;for(let p=d.length-1;p>=0;p--){let b=d[p];for(m[g--]=127&b;(b>>=7)>0;)m[g--]=128|127&b}return this._createEncoderBuffer(m)},l.prototype._encodeTime=function(d,h){let u,f=new Date(d);return h==="gentime"?u=[c(f.getUTCFullYear()),c(f.getUTCMonth()+1),c(f.getUTCDate()),c(f.getUTCHours()),c(f.getUTCMinutes()),c(f.getUTCSeconds()),"Z"].join(""):h==="utctime"?u=[c(f.getUTCFullYear()%100),c(f.getUTCMonth()+1),c(f.getUTCDate()),c(f.getUTCHours()),c(f.getUTCMinutes()),c(f.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+h+" time is not supported yet"),this._encodeStr(u,"octstr")},l.prototype._encodeNull=function(){return this._createEncoderBuffer("")},l.prototype._encodeInt=function(d,h){if(typeof d=="string"){if(!h)return this.reporter.error("String int or enum given, but no values map");if(!h.hasOwnProperty(d))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(d));d=h[d]}if(typeof d!="number"&&!n.isBuffer(d)){let m=d.toArray();!d.sign&&128&m[0]&&m.unshift(0),d=n.from(m)}if(n.isBuffer(d)){let m=d.length;d.length===0&&m++;let g=n.alloc(m);return d.copy(g),d.length===0&&(g[0]=0),this._createEncoderBuffer(g)}if(d<128)return this._createEncoderBuffer(d);if(d<256)return this._createEncoderBuffer([0,d]);let u=1;for(let m=d;m>=256;m>>=8)u++;let f=new Array(u);for(let m=f.length-1;m>=0;m--)f[m]=255&d,d>>=8;return 128&f[0]&&f.unshift(0),this._createEncoderBuffer(n.from(f))},l.prototype._encodeBool=function(d){return this._createEncoderBuffer(d?255:0)},l.prototype._use=function(d,h){return typeof d=="function"&&(d=d(h)),d._getEncoder("der").tree},l.prototype._skipDefault=function(d,h,u){let f=this._baseState,m;if(f.default===null)return!1;let g=d.join();if(f.defaultBuffer===void 0&&(f.defaultBuffer=this._encodeValue(f.default,h,u).join()),g.length!==f.defaultBuffer.length)return!1;for(m=0;m<g.length;m++)if(g[m]!==f.defaultBuffer[m])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(e,t,r){"use strict";let i=r;i.der=e("./der"),i.pem=e("./pem")},{"./der":181,"./pem":183}],183:[function(e,t,r){"use strict";let i=e("inherits"),n=e("./der");function o(s){n.call(this,s),this.enc="pem"}i(o,n),t.exports=o,o.prototype.encode=function(s,a){let l=n.prototype.encode.call(this,s).toString("base64"),c=["-----BEGIN "+a.label+"-----"];for(let d=0;d<l.length;d+=64)c.push(l.slice(d,d+64));return c.push("-----END "+a.label+"-----"),c.join(`
`)}},{"./der":181,inherits:440}],184:[function(e,t,r){"use strict";(function(i,n){function o(x,R){if(!x)throw new Error(R||"Assertion failed")}function s(x,R){x.super_=R;var j=function(){};j.prototype=R.prototype,x.prototype=new j,x.prototype.constructor=x}function a(x,R,j){if(a.isBN(x))return x;this.negative=0,this.words=null,this.length=0,this.red=null,x!==null&&(R!=="le"&&R!=="be"||(j=R,R=10),this._init(x||0,R||10,j||"be"))}var l;typeof i=="object"?i.exports=a:(void 0).BN=a,a.BN=a,a.wordSize=26;try{l=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:e("buffer").Buffer}catch{}function c(x,R){var j=x.charCodeAt(R);return j>=65&&j<=70?j-55:j>=97&&j<=102?j-87:j-48&15}function d(x,R,j){var v=c(x,j);return j-1>=R&&(v|=c(x,j-1)<<4),v}function h(x,R,j,v){for(var y=0,C=Math.min(x.length,j),w=R;w<C;w++){var S=x.charCodeAt(w)-48;y*=v,y+=S>=49?S-49+10:S>=17?S-17+10:S}return y}a.isBN=function(x){return x instanceof a||x!==null&&typeof x=="object"&&x.constructor.wordSize===a.wordSize&&Array.isArray(x.words)},a.max=function(x,R){return x.cmp(R)>0?x:R},a.min=function(x,R){return x.cmp(R)<0?x:R},a.prototype._init=function(x,R,j){if(typeof x=="number")return this._initNumber(x,R,j);if(typeof x=="object")return this._initArray(x,R,j);R==="hex"&&(R=16),o(R===(0|R)&&R>=2&&R<=36);var v=0;(x=x.toString().replace(/\s+/g,""))[0]==="-"&&(v++,this.negative=1),v<x.length&&(R===16?this._parseHex(x,v,j):(this._parseBase(x,R,v),j==="le"&&this._initArray(this.toArray(),R,j)))},a.prototype._initNumber=function(x,R,j){x<0&&(this.negative=1,x=-x),x<67108864?(this.words=[67108863&x],this.length=1):x<4503599627370496?(this.words=[67108863&x,x/67108864&67108863],this.length=2):(o(x<9007199254740992),this.words=[67108863&x,x/67108864&67108863,1],this.length=3),j==="le"&&this._initArray(this.toArray(),R,j)},a.prototype._initArray=function(x,R,j){if(o(typeof x.length=="number"),x.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(x.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var y,C,w=0;if(j==="be")for(v=x.length-1,y=0;v>=0;v-=3)C=x[v]|x[v-1]<<8|x[v-2]<<16,this.words[y]|=C<<w&67108863,this.words[y+1]=C>>>26-w&67108863,(w+=24)>=26&&(w-=26,y++);else if(j==="le")for(v=0,y=0;v<x.length;v+=3)C=x[v]|x[v+1]<<8|x[v+2]<<16,this.words[y]|=C<<w&67108863,this.words[y+1]=C>>>26-w&67108863,(w+=24)>=26&&(w-=26,y++);return this.strip()},a.prototype._parseHex=function(x,R,j){this.length=Math.ceil((x.length-R)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var y,C=0,w=0;if(j==="be")for(v=x.length-1;v>=R;v-=2)y=d(x,R,v)<<C,this.words[w]|=67108863&y,C>=18?(C-=18,w+=1,this.words[w]|=y>>>26):C+=8;else for(v=(x.length-R)%2==0?R+1:R;v<x.length;v+=2)y=d(x,R,v)<<C,this.words[w]|=67108863&y,C>=18?(C-=18,w+=1,this.words[w]|=y>>>26):C+=8;this.strip()},a.prototype._parseBase=function(x,R,j){this.words=[0],this.length=1;for(var v=0,y=1;y<=67108863;y*=R)v++;v--,y=y/R|0;for(var C=x.length-j,w=C%v,S=Math.min(C,C-w)+j,M=0,U=j;U<S;U+=v)M=h(x,U,U+v,R),this.imuln(y),this.words[0]+M<67108864?this.words[0]+=M:this._iaddn(M);if(w!==0){var N=1;for(M=h(x,U,x.length,R),U=0;U<w;U++)N*=R;this.imuln(N),this.words[0]+M<67108864?this.words[0]+=M:this._iaddn(M)}this.strip()},a.prototype.copy=function(x){x.words=new Array(this.length);for(var R=0;R<this.length;R++)x.words[R]=this.words[R];x.length=this.length,x.negative=this.negative,x.red=this.red},a.prototype.clone=function(){var x=new a(null);return this.copy(x),x},a.prototype._expand=function(x){for(;this.length<x;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function g(x,R,j){j.negative=R.negative^x.negative;var v=x.length+R.length|0;j.length=v,v=v-1|0;var y=0|x.words[0],C=0|R.words[0],w=y*C,S=67108863&w,M=w/67108864|0;j.words[0]=S;for(var U=1;U<v;U++){for(var N=M>>>26,T=67108863&M,B=Math.min(U,R.length-1),I=Math.max(0,U-x.length+1);I<=B;I++){var $=U-I|0;N+=(w=(y=0|x.words[$])*(C=0|R.words[I])+T)/67108864|0,T=67108863&w}j.words[U]=0|T,M=0|N}return M!==0?j.words[U]=0|M:j.length--,j.strip()}a.prototype.toString=function(x,R){var j;if(R=0|R||1,(x=x||10)===16||x==="hex"){j="";for(var v=0,y=0,C=0;C<this.length;C++){var w=this.words[C],S=(16777215&(w<<v|y)).toString(16);j=(y=w>>>24-v&16777215)!==0||C!==this.length-1?u[6-S.length]+S+j:S+j,(v+=2)>=26&&(v-=26,C--)}for(y!==0&&(j=y.toString(16)+j);j.length%R!=0;)j="0"+j;return this.negative!==0&&(j="-"+j),j}if(x===(0|x)&&x>=2&&x<=36){var M=f[x],U=m[x];j="";var N=this.clone();for(N.negative=0;!N.isZero();){var T=N.modn(U).toString(x);j=(N=N.idivn(U)).isZero()?T+j:u[M-T.length]+T+j}for(this.isZero()&&(j="0"+j);j.length%R!=0;)j="0"+j;return this.negative!==0&&(j="-"+j),j}o(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var x=this.words[0];return this.length===2?x+=67108864*this.words[1]:this.length===3&&this.words[2]===1?x+=4503599627370496+67108864*this.words[1]:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-x:x},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(x,R){return o(l!==void 0),this.toArrayLike(l,x,R)},a.prototype.toArray=function(x,R){return this.toArrayLike(Array,x,R)},a.prototype.toArrayLike=function(x,R,j){var v=this.byteLength(),y=j||Math.max(1,v);o(v<=y,"byte array longer than desired length"),o(y>0,"Requested array length <= 0"),this.strip();var C,w,S=R==="le",M=new x(y),U=this.clone();if(S){for(w=0;!U.isZero();w++)C=U.andln(255),U.iushrn(8),M[w]=C;for(;w<y;w++)M[w]=0}else{for(w=0;w<y-v;w++)M[w]=0;for(w=0;!U.isZero();w++)C=U.andln(255),U.iushrn(8),M[y-w-1]=C}return M},Math.clz32?a.prototype._countBits=function(x){return 32-Math.clz32(x)}:a.prototype._countBits=function(x){var R=x,j=0;return R>=4096&&(j+=13,R>>>=13),R>=64&&(j+=7,R>>>=7),R>=8&&(j+=4,R>>>=4),R>=2&&(j+=2,R>>>=2),j+R},a.prototype._zeroBits=function(x){if(x===0)return 26;var R=x,j=0;return!(8191&R)&&(j+=13,R>>>=13),!(127&R)&&(j+=7,R>>>=7),!(15&R)&&(j+=4,R>>>=4),!(3&R)&&(j+=2,R>>>=2),!(1&R)&&j++,j},a.prototype.bitLength=function(){var x=this.words[this.length-1],R=this._countBits(x);return 26*(this.length-1)+R},a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var x=0,R=0;R<this.length;R++){var j=this._zeroBits(this.words[R]);if(x+=j,j!==26)break}return x},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(x){return this.negative!==0?this.abs().inotn(x).iaddn(1):this.clone()},a.prototype.fromTwos=function(x){return this.testn(x-1)?this.notn(x).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(x){for(;this.length<x.length;)this.words[this.length++]=0;for(var R=0;R<x.length;R++)this.words[R]=this.words[R]|x.words[R];return this.strip()},a.prototype.ior=function(x){return o((this.negative|x.negative)==0),this.iuor(x)},a.prototype.or=function(x){return this.length>x.length?this.clone().ior(x):x.clone().ior(this)},a.prototype.uor=function(x){return this.length>x.length?this.clone().iuor(x):x.clone().iuor(this)},a.prototype.iuand=function(x){var R;R=this.length>x.length?x:this;for(var j=0;j<R.length;j++)this.words[j]=this.words[j]&x.words[j];return this.length=R.length,this.strip()},a.prototype.iand=function(x){return o((this.negative|x.negative)==0),this.iuand(x)},a.prototype.and=function(x){return this.length>x.length?this.clone().iand(x):x.clone().iand(this)},a.prototype.uand=function(x){return this.length>x.length?this.clone().iuand(x):x.clone().iuand(this)},a.prototype.iuxor=function(x){var R,j;this.length>x.length?(R=this,j=x):(R=x,j=this);for(var v=0;v<j.length;v++)this.words[v]=R.words[v]^j.words[v];if(this!==R)for(;v<R.length;v++)this.words[v]=R.words[v];return this.length=R.length,this.strip()},a.prototype.ixor=function(x){return o((this.negative|x.negative)==0),this.iuxor(x)},a.prototype.xor=function(x){return this.length>x.length?this.clone().ixor(x):x.clone().ixor(this)},a.prototype.uxor=function(x){return this.length>x.length?this.clone().iuxor(x):x.clone().iuxor(this)},a.prototype.inotn=function(x){o(typeof x=="number"&&x>=0);var R=0|Math.ceil(x/26),j=x%26;this._expand(R),j>0&&R--;for(var v=0;v<R;v++)this.words[v]=67108863&~this.words[v];return j>0&&(this.words[v]=~this.words[v]&67108863>>26-j),this.strip()},a.prototype.notn=function(x){return this.clone().inotn(x)},a.prototype.setn=function(x,R){o(typeof x=="number"&&x>=0);var j=x/26|0,v=x%26;return this._expand(j+1),this.words[j]=R?this.words[j]|1<<v:this.words[j]&~(1<<v),this.strip()},a.prototype.iadd=function(x){var R,j,v;if(this.negative!==0&&x.negative===0)return this.negative=0,R=this.isub(x),this.negative^=1,this._normSign();if(this.negative===0&&x.negative!==0)return x.negative=0,R=this.isub(x),x.negative=1,R._normSign();this.length>x.length?(j=this,v=x):(j=x,v=this);for(var y=0,C=0;C<v.length;C++)R=(0|j.words[C])+(0|v.words[C])+y,this.words[C]=67108863&R,y=R>>>26;for(;y!==0&&C<j.length;C++)R=(0|j.words[C])+y,this.words[C]=67108863&R,y=R>>>26;if(this.length=j.length,y!==0)this.words[this.length]=y,this.length++;else if(j!==this)for(;C<j.length;C++)this.words[C]=j.words[C];return this},a.prototype.add=function(x){var R;return x.negative!==0&&this.negative===0?(x.negative=0,R=this.sub(x),x.negative^=1,R):x.negative===0&&this.negative!==0?(this.negative=0,R=x.sub(this),this.negative=1,R):this.length>x.length?this.clone().iadd(x):x.clone().iadd(this)},a.prototype.isub=function(x){if(x.negative!==0){x.negative=0;var R=this.iadd(x);return x.negative=1,R._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(x),this.negative=1,this._normSign();var j,v,y=this.cmp(x);if(y===0)return this.negative=0,this.length=1,this.words[0]=0,this;y>0?(j=this,v=x):(j=x,v=this);for(var C=0,w=0;w<v.length;w++)C=(R=(0|j.words[w])-(0|v.words[w])+C)>>26,this.words[w]=67108863&R;for(;C!==0&&w<j.length;w++)C=(R=(0|j.words[w])+C)>>26,this.words[w]=67108863&R;if(C===0&&w<j.length&&j!==this)for(;w<j.length;w++)this.words[w]=j.words[w];return this.length=Math.max(this.length,w),j!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(x){return this.clone().isub(x)};var p=function(x,R,j){var v,y,C,w=x.words,S=R.words,M=j.words,U=0,N=0|w[0],T=8191&N,B=N>>>13,I=0|w[1],$=8191&I,A=I>>>13,k=0|w[2],Y=8191&k,Z=k>>>13,ct=0|w[3],tt=8191&ct,nt=ct>>>13,Ct=0|w[4],xt=8191&Ct,rt=Ct>>>13,at=0|w[5],_t=8191&at,J=at>>>13,et=0|w[6],lt=8191&et,ut=et>>>13,mt=0|w[7],wt=8191&mt,vt=mt>>>13,Rt=0|w[8],Mt=8191&Rt,Et=Rt>>>13,kt=0|w[9],zt=8191&kt,Yt=kt>>>13,Ut=0|S[0],ie=8191&Ut,Zt=Ut>>>13,Fe=0|S[1],le=8191&Fe,fe=Fe>>>13,ki=0|S[2],Ae=8191&ki,ni=ki>>>13,Pi=0|S[3],ti=8191&Pi,hi=Pi>>>13,be=0|S[4],ye=8191&be,xe=be>>>13,Ur=0|S[5],We=8191&Ur,Te=Ur>>>13,Jn=0|S[6],ue=8191&Jn,Ot=Jn>>>13,Qt=0|S[7],ee=8191&Qt,se=Qt>>>13,mi=0|S[8],Ee=8191&mi,De=mi>>>13,Ui=0|S[9],Ye=8191&Ui,Pe=Ui>>>13;j.negative=x.negative^R.negative,j.length=19;var ar=(U+(v=Math.imul(T,ie))|0)+((8191&(y=(y=Math.imul(T,Zt))+Math.imul(B,ie)|0))<<13)|0;U=((C=Math.imul(B,Zt))+(y>>>13)|0)+(ar>>>26)|0,ar&=67108863,v=Math.imul($,ie),y=(y=Math.imul($,Zt))+Math.imul(A,ie)|0,C=Math.imul(A,Zt);var Wi=(U+(v=v+Math.imul(T,le)|0)|0)+((8191&(y=(y=y+Math.imul(T,fe)|0)+Math.imul(B,le)|0))<<13)|0;U=((C=C+Math.imul(B,fe)|0)+(y>>>13)|0)+(Wi>>>26)|0,Wi&=67108863,v=Math.imul(Y,ie),y=(y=Math.imul(Y,Zt))+Math.imul(Z,ie)|0,C=Math.imul(Z,Zt),v=v+Math.imul($,le)|0,y=(y=y+Math.imul($,fe)|0)+Math.imul(A,le)|0,C=C+Math.imul(A,fe)|0;var Ti=(U+(v=v+Math.imul(T,Ae)|0)|0)+((8191&(y=(y=y+Math.imul(T,ni)|0)+Math.imul(B,Ae)|0))<<13)|0;U=((C=C+Math.imul(B,ni)|0)+(y>>>13)|0)+(Ti>>>26)|0,Ti&=67108863,v=Math.imul(tt,ie),y=(y=Math.imul(tt,Zt))+Math.imul(nt,ie)|0,C=Math.imul(nt,Zt),v=v+Math.imul(Y,le)|0,y=(y=y+Math.imul(Y,fe)|0)+Math.imul(Z,le)|0,C=C+Math.imul(Z,fe)|0,v=v+Math.imul($,Ae)|0,y=(y=y+Math.imul($,ni)|0)+Math.imul(A,Ae)|0,C=C+Math.imul(A,ni)|0;var br=(U+(v=v+Math.imul(T,ti)|0)|0)+((8191&(y=(y=y+Math.imul(T,hi)|0)+Math.imul(B,ti)|0))<<13)|0;U=((C=C+Math.imul(B,hi)|0)+(y>>>13)|0)+(br>>>26)|0,br&=67108863,v=Math.imul(xt,ie),y=(y=Math.imul(xt,Zt))+Math.imul(rt,ie)|0,C=Math.imul(rt,Zt),v=v+Math.imul(tt,le)|0,y=(y=y+Math.imul(tt,fe)|0)+Math.imul(nt,le)|0,C=C+Math.imul(nt,fe)|0,v=v+Math.imul(Y,Ae)|0,y=(y=y+Math.imul(Y,ni)|0)+Math.imul(Z,Ae)|0,C=C+Math.imul(Z,ni)|0,v=v+Math.imul($,ti)|0,y=(y=y+Math.imul($,hi)|0)+Math.imul(A,ti)|0,C=C+Math.imul(A,hi)|0;var rn=(U+(v=v+Math.imul(T,ye)|0)|0)+((8191&(y=(y=y+Math.imul(T,xe)|0)+Math.imul(B,ye)|0))<<13)|0;U=((C=C+Math.imul(B,xe)|0)+(y>>>13)|0)+(rn>>>26)|0,rn&=67108863,v=Math.imul(_t,ie),y=(y=Math.imul(_t,Zt))+Math.imul(J,ie)|0,C=Math.imul(J,Zt),v=v+Math.imul(xt,le)|0,y=(y=y+Math.imul(xt,fe)|0)+Math.imul(rt,le)|0,C=C+Math.imul(rt,fe)|0,v=v+Math.imul(tt,Ae)|0,y=(y=y+Math.imul(tt,ni)|0)+Math.imul(nt,Ae)|0,C=C+Math.imul(nt,ni)|0,v=v+Math.imul(Y,ti)|0,y=(y=y+Math.imul(Y,hi)|0)+Math.imul(Z,ti)|0,C=C+Math.imul(Z,hi)|0,v=v+Math.imul($,ye)|0,y=(y=y+Math.imul($,xe)|0)+Math.imul(A,ye)|0,C=C+Math.imul(A,xe)|0;var nn=(U+(v=v+Math.imul(T,We)|0)|0)+((8191&(y=(y=y+Math.imul(T,Te)|0)+Math.imul(B,We)|0))<<13)|0;U=((C=C+Math.imul(B,Te)|0)+(y>>>13)|0)+(nn>>>26)|0,nn&=67108863,v=Math.imul(lt,ie),y=(y=Math.imul(lt,Zt))+Math.imul(ut,ie)|0,C=Math.imul(ut,Zt),v=v+Math.imul(_t,le)|0,y=(y=y+Math.imul(_t,fe)|0)+Math.imul(J,le)|0,C=C+Math.imul(J,fe)|0,v=v+Math.imul(xt,Ae)|0,y=(y=y+Math.imul(xt,ni)|0)+Math.imul(rt,Ae)|0,C=C+Math.imul(rt,ni)|0,v=v+Math.imul(tt,ti)|0,y=(y=y+Math.imul(tt,hi)|0)+Math.imul(nt,ti)|0,C=C+Math.imul(nt,hi)|0,v=v+Math.imul(Y,ye)|0,y=(y=y+Math.imul(Y,xe)|0)+Math.imul(Z,ye)|0,C=C+Math.imul(Z,xe)|0,v=v+Math.imul($,We)|0,y=(y=y+Math.imul($,Te)|0)+Math.imul(A,We)|0,C=C+Math.imul(A,Te)|0;var Wn=(U+(v=v+Math.imul(T,ue)|0)|0)+((8191&(y=(y=y+Math.imul(T,Ot)|0)+Math.imul(B,ue)|0))<<13)|0;U=((C=C+Math.imul(B,Ot)|0)+(y>>>13)|0)+(Wn>>>26)|0,Wn&=67108863,v=Math.imul(wt,ie),y=(y=Math.imul(wt,Zt))+Math.imul(vt,ie)|0,C=Math.imul(vt,Zt),v=v+Math.imul(lt,le)|0,y=(y=y+Math.imul(lt,fe)|0)+Math.imul(ut,le)|0,C=C+Math.imul(ut,fe)|0,v=v+Math.imul(_t,Ae)|0,y=(y=y+Math.imul(_t,ni)|0)+Math.imul(J,Ae)|0,C=C+Math.imul(J,ni)|0,v=v+Math.imul(xt,ti)|0,y=(y=y+Math.imul(xt,hi)|0)+Math.imul(rt,ti)|0,C=C+Math.imul(rt,hi)|0,v=v+Math.imul(tt,ye)|0,y=(y=y+Math.imul(tt,xe)|0)+Math.imul(nt,ye)|0,C=C+Math.imul(nt,xe)|0,v=v+Math.imul(Y,We)|0,y=(y=y+Math.imul(Y,Te)|0)+Math.imul(Z,We)|0,C=C+Math.imul(Z,Te)|0,v=v+Math.imul($,ue)|0,y=(y=y+Math.imul($,Ot)|0)+Math.imul(A,ue)|0,C=C+Math.imul(A,Ot)|0;var Tn=(U+(v=v+Math.imul(T,ee)|0)|0)+((8191&(y=(y=y+Math.imul(T,se)|0)+Math.imul(B,ee)|0))<<13)|0;U=((C=C+Math.imul(B,se)|0)+(y>>>13)|0)+(Tn>>>26)|0,Tn&=67108863,v=Math.imul(Mt,ie),y=(y=Math.imul(Mt,Zt))+Math.imul(Et,ie)|0,C=Math.imul(Et,Zt),v=v+Math.imul(wt,le)|0,y=(y=y+Math.imul(wt,fe)|0)+Math.imul(vt,le)|0,C=C+Math.imul(vt,fe)|0,v=v+Math.imul(lt,Ae)|0,y=(y=y+Math.imul(lt,ni)|0)+Math.imul(ut,Ae)|0,C=C+Math.imul(ut,ni)|0,v=v+Math.imul(_t,ti)|0,y=(y=y+Math.imul(_t,hi)|0)+Math.imul(J,ti)|0,C=C+Math.imul(J,hi)|0,v=v+Math.imul(xt,ye)|0,y=(y=y+Math.imul(xt,xe)|0)+Math.imul(rt,ye)|0,C=C+Math.imul(rt,xe)|0,v=v+Math.imul(tt,We)|0,y=(y=y+Math.imul(tt,Te)|0)+Math.imul(nt,We)|0,C=C+Math.imul(nt,Te)|0,v=v+Math.imul(Y,ue)|0,y=(y=y+Math.imul(Y,Ot)|0)+Math.imul(Z,ue)|0,C=C+Math.imul(Z,Ot)|0,v=v+Math.imul($,ee)|0,y=(y=y+Math.imul($,se)|0)+Math.imul(A,ee)|0,C=C+Math.imul(A,se)|0;var po=(U+(v=v+Math.imul(T,Ee)|0)|0)+((8191&(y=(y=y+Math.imul(T,De)|0)+Math.imul(B,Ee)|0))<<13)|0;U=((C=C+Math.imul(B,De)|0)+(y>>>13)|0)+(po>>>26)|0,po&=67108863,v=Math.imul(zt,ie),y=(y=Math.imul(zt,Zt))+Math.imul(Yt,ie)|0,C=Math.imul(Yt,Zt),v=v+Math.imul(Mt,le)|0,y=(y=y+Math.imul(Mt,fe)|0)+Math.imul(Et,le)|0,C=C+Math.imul(Et,fe)|0,v=v+Math.imul(wt,Ae)|0,y=(y=y+Math.imul(wt,ni)|0)+Math.imul(vt,Ae)|0,C=C+Math.imul(vt,ni)|0,v=v+Math.imul(lt,ti)|0,y=(y=y+Math.imul(lt,hi)|0)+Math.imul(ut,ti)|0,C=C+Math.imul(ut,hi)|0,v=v+Math.imul(_t,ye)|0,y=(y=y+Math.imul(_t,xe)|0)+Math.imul(J,ye)|0,C=C+Math.imul(J,xe)|0,v=v+Math.imul(xt,We)|0,y=(y=y+Math.imul(xt,Te)|0)+Math.imul(rt,We)|0,C=C+Math.imul(rt,Te)|0,v=v+Math.imul(tt,ue)|0,y=(y=y+Math.imul(tt,Ot)|0)+Math.imul(nt,ue)|0,C=C+Math.imul(nt,Ot)|0,v=v+Math.imul(Y,ee)|0,y=(y=y+Math.imul(Y,se)|0)+Math.imul(Z,ee)|0,C=C+Math.imul(Z,se)|0,v=v+Math.imul($,Ee)|0,y=(y=y+Math.imul($,De)|0)+Math.imul(A,Ee)|0,C=C+Math.imul(A,De)|0;var At=(U+(v=v+Math.imul(T,Ye)|0)|0)+((8191&(y=(y=y+Math.imul(T,Pe)|0)+Math.imul(B,Ye)|0))<<13)|0;U=((C=C+Math.imul(B,Pe)|0)+(y>>>13)|0)+(At>>>26)|0,At&=67108863,v=Math.imul(zt,le),y=(y=Math.imul(zt,fe))+Math.imul(Yt,le)|0,C=Math.imul(Yt,fe),v=v+Math.imul(Mt,Ae)|0,y=(y=y+Math.imul(Mt,ni)|0)+Math.imul(Et,Ae)|0,C=C+Math.imul(Et,ni)|0,v=v+Math.imul(wt,ti)|0,y=(y=y+Math.imul(wt,hi)|0)+Math.imul(vt,ti)|0,C=C+Math.imul(vt,hi)|0,v=v+Math.imul(lt,ye)|0,y=(y=y+Math.imul(lt,xe)|0)+Math.imul(ut,ye)|0,C=C+Math.imul(ut,xe)|0,v=v+Math.imul(_t,We)|0,y=(y=y+Math.imul(_t,Te)|0)+Math.imul(J,We)|0,C=C+Math.imul(J,Te)|0,v=v+Math.imul(xt,ue)|0,y=(y=y+Math.imul(xt,Ot)|0)+Math.imul(rt,ue)|0,C=C+Math.imul(rt,Ot)|0,v=v+Math.imul(tt,ee)|0,y=(y=y+Math.imul(tt,se)|0)+Math.imul(nt,ee)|0,C=C+Math.imul(nt,se)|0,v=v+Math.imul(Y,Ee)|0,y=(y=y+Math.imul(Y,De)|0)+Math.imul(Z,Ee)|0,C=C+Math.imul(Z,De)|0;var Gt=(U+(v=v+Math.imul($,Ye)|0)|0)+((8191&(y=(y=y+Math.imul($,Pe)|0)+Math.imul(A,Ye)|0))<<13)|0;U=((C=C+Math.imul(A,Pe)|0)+(y>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,v=Math.imul(zt,Ae),y=(y=Math.imul(zt,ni))+Math.imul(Yt,Ae)|0,C=Math.imul(Yt,ni),v=v+Math.imul(Mt,ti)|0,y=(y=y+Math.imul(Mt,hi)|0)+Math.imul(Et,ti)|0,C=C+Math.imul(Et,hi)|0,v=v+Math.imul(wt,ye)|0,y=(y=y+Math.imul(wt,xe)|0)+Math.imul(vt,ye)|0,C=C+Math.imul(vt,xe)|0,v=v+Math.imul(lt,We)|0,y=(y=y+Math.imul(lt,Te)|0)+Math.imul(ut,We)|0,C=C+Math.imul(ut,Te)|0,v=v+Math.imul(_t,ue)|0,y=(y=y+Math.imul(_t,Ot)|0)+Math.imul(J,ue)|0,C=C+Math.imul(J,Ot)|0,v=v+Math.imul(xt,ee)|0,y=(y=y+Math.imul(xt,se)|0)+Math.imul(rt,ee)|0,C=C+Math.imul(rt,se)|0,v=v+Math.imul(tt,Ee)|0,y=(y=y+Math.imul(tt,De)|0)+Math.imul(nt,Ee)|0,C=C+Math.imul(nt,De)|0;var oe=(U+(v=v+Math.imul(Y,Ye)|0)|0)+((8191&(y=(y=y+Math.imul(Y,Pe)|0)+Math.imul(Z,Ye)|0))<<13)|0;U=((C=C+Math.imul(Z,Pe)|0)+(y>>>13)|0)+(oe>>>26)|0,oe&=67108863,v=Math.imul(zt,ti),y=(y=Math.imul(zt,hi))+Math.imul(Yt,ti)|0,C=Math.imul(Yt,hi),v=v+Math.imul(Mt,ye)|0,y=(y=y+Math.imul(Mt,xe)|0)+Math.imul(Et,ye)|0,C=C+Math.imul(Et,xe)|0,v=v+Math.imul(wt,We)|0,y=(y=y+Math.imul(wt,Te)|0)+Math.imul(vt,We)|0,C=C+Math.imul(vt,Te)|0,v=v+Math.imul(lt,ue)|0,y=(y=y+Math.imul(lt,Ot)|0)+Math.imul(ut,ue)|0,C=C+Math.imul(ut,Ot)|0,v=v+Math.imul(_t,ee)|0,y=(y=y+Math.imul(_t,se)|0)+Math.imul(J,ee)|0,C=C+Math.imul(J,se)|0,v=v+Math.imul(xt,Ee)|0,y=(y=y+Math.imul(xt,De)|0)+Math.imul(rt,Ee)|0,C=C+Math.imul(rt,De)|0;var ae=(U+(v=v+Math.imul(tt,Ye)|0)|0)+((8191&(y=(y=y+Math.imul(tt,Pe)|0)+Math.imul(nt,Ye)|0))<<13)|0;U=((C=C+Math.imul(nt,Pe)|0)+(y>>>13)|0)+(ae>>>26)|0,ae&=67108863,v=Math.imul(zt,ye),y=(y=Math.imul(zt,xe))+Math.imul(Yt,ye)|0,C=Math.imul(Yt,xe),v=v+Math.imul(Mt,We)|0,y=(y=y+Math.imul(Mt,Te)|0)+Math.imul(Et,We)|0,C=C+Math.imul(Et,Te)|0,v=v+Math.imul(wt,ue)|0,y=(y=y+Math.imul(wt,Ot)|0)+Math.imul(vt,ue)|0,C=C+Math.imul(vt,Ot)|0,v=v+Math.imul(lt,ee)|0,y=(y=y+Math.imul(lt,se)|0)+Math.imul(ut,ee)|0,C=C+Math.imul(ut,se)|0,v=v+Math.imul(_t,Ee)|0,y=(y=y+Math.imul(_t,De)|0)+Math.imul(J,Ee)|0,C=C+Math.imul(J,De)|0;var Ie=(U+(v=v+Math.imul(xt,Ye)|0)|0)+((8191&(y=(y=y+Math.imul(xt,Pe)|0)+Math.imul(rt,Ye)|0))<<13)|0;U=((C=C+Math.imul(rt,Pe)|0)+(y>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,v=Math.imul(zt,We),y=(y=Math.imul(zt,Te))+Math.imul(Yt,We)|0,C=Math.imul(Yt,Te),v=v+Math.imul(Mt,ue)|0,y=(y=y+Math.imul(Mt,Ot)|0)+Math.imul(Et,ue)|0,C=C+Math.imul(Et,Ot)|0,v=v+Math.imul(wt,ee)|0,y=(y=y+Math.imul(wt,se)|0)+Math.imul(vt,ee)|0,C=C+Math.imul(vt,se)|0,v=v+Math.imul(lt,Ee)|0,y=(y=y+Math.imul(lt,De)|0)+Math.imul(ut,Ee)|0,C=C+Math.imul(ut,De)|0;var li=(U+(v=v+Math.imul(_t,Ye)|0)|0)+((8191&(y=(y=y+Math.imul(_t,Pe)|0)+Math.imul(J,Ye)|0))<<13)|0;U=((C=C+Math.imul(J,Pe)|0)+(y>>>13)|0)+(li>>>26)|0,li&=67108863,v=Math.imul(zt,ue),y=(y=Math.imul(zt,Ot))+Math.imul(Yt,ue)|0,C=Math.imul(Yt,Ot),v=v+Math.imul(Mt,ee)|0,y=(y=y+Math.imul(Mt,se)|0)+Math.imul(Et,ee)|0,C=C+Math.imul(Et,se)|0,v=v+Math.imul(wt,Ee)|0,y=(y=y+Math.imul(wt,De)|0)+Math.imul(vt,Ee)|0,C=C+Math.imul(vt,De)|0;var oi=(U+(v=v+Math.imul(lt,Ye)|0)|0)+((8191&(y=(y=y+Math.imul(lt,Pe)|0)+Math.imul(ut,Ye)|0))<<13)|0;U=((C=C+Math.imul(ut,Pe)|0)+(y>>>13)|0)+(oi>>>26)|0,oi&=67108863,v=Math.imul(zt,ee),y=(y=Math.imul(zt,se))+Math.imul(Yt,ee)|0,C=Math.imul(Yt,se),v=v+Math.imul(Mt,Ee)|0,y=(y=y+Math.imul(Mt,De)|0)+Math.imul(Et,Ee)|0,C=C+Math.imul(Et,De)|0;var ur=(U+(v=v+Math.imul(wt,Ye)|0)|0)+((8191&(y=(y=y+Math.imul(wt,Pe)|0)+Math.imul(vt,Ye)|0))<<13)|0;U=((C=C+Math.imul(vt,Pe)|0)+(y>>>13)|0)+(ur>>>26)|0,ur&=67108863,v=Math.imul(zt,Ee),y=(y=Math.imul(zt,De))+Math.imul(Yt,Ee)|0,C=Math.imul(Yt,De);var ji=(U+(v=v+Math.imul(Mt,Ye)|0)|0)+((8191&(y=(y=y+Math.imul(Mt,Pe)|0)+Math.imul(Et,Ye)|0))<<13)|0;U=((C=C+Math.imul(Et,Pe)|0)+(y>>>13)|0)+(ji>>>26)|0,ji&=67108863;var Di=(U+(v=Math.imul(zt,Ye))|0)+((8191&(y=(y=Math.imul(zt,Pe))+Math.imul(Yt,Ye)|0))<<13)|0;return U=((C=Math.imul(Yt,Pe))+(y>>>13)|0)+(Di>>>26)|0,Di&=67108863,M[0]=ar,M[1]=Wi,M[2]=Ti,M[3]=br,M[4]=rn,M[5]=nn,M[6]=Wn,M[7]=Tn,M[8]=po,M[9]=At,M[10]=Gt,M[11]=oe,M[12]=ae,M[13]=Ie,M[14]=li,M[15]=oi,M[16]=ur,M[17]=ji,M[18]=Di,U!==0&&(M[19]=U,j.length++),j};function b(x,R,j){return new _().mulp(x,R,j)}function _(x,R){this.x=x,this.y=R}Math.imul||(p=g),a.prototype.mulTo=function(x,R){var j=this.length+x.length;return this.length===10&&x.length===10?p(this,x,R):j<63?g(this,x,R):j<1024?function(v,y,C){C.negative=y.negative^v.negative,C.length=v.length+y.length;for(var w=0,S=0,M=0;M<C.length-1;M++){var U=S;S=0;for(var N=67108863&w,T=Math.min(M,y.length-1),B=Math.max(0,M-v.length+1);B<=T;B++){var I=M-B,$=(0|v.words[I])*(0|y.words[B]),A=67108863&$;N=67108863&(A=A+N|0),S+=(U=(U=U+($/67108864|0)|0)+(A>>>26)|0)>>>26,U&=67108863}C.words[M]=N,w=U,U=S}return w!==0?C.words[M]=w:C.length--,C.strip()}(this,x,R):b(this,x,R)},_.prototype.makeRBT=function(x){for(var R=new Array(x),j=a.prototype._countBits(x)-1,v=0;v<x;v++)R[v]=this.revBin(v,j,x);return R},_.prototype.revBin=function(x,R,j){if(x===0||x===j-1)return x;for(var v=0,y=0;y<R;y++)v|=(1&x)<<R-y-1,x>>=1;return v},_.prototype.permute=function(x,R,j,v,y,C){for(var w=0;w<C;w++)v[w]=R[x[w]],y[w]=j[x[w]]},_.prototype.transform=function(x,R,j,v,y,C){this.permute(C,x,R,j,v,y);for(var w=1;w<y;w<<=1)for(var S=w<<1,M=Math.cos(2*Math.PI/S),U=Math.sin(2*Math.PI/S),N=0;N<y;N+=S)for(var T=M,B=U,I=0;I<w;I++){var $=j[N+I],A=v[N+I],k=j[N+I+w],Y=v[N+I+w],Z=T*k-B*Y;Y=T*Y+B*k,k=Z,j[N+I]=$+k,v[N+I]=A+Y,j[N+I+w]=$-k,v[N+I+w]=A-Y,I!==S&&(Z=M*T-U*B,B=M*B+U*T,T=Z)}},_.prototype.guessLen13b=function(x,R){var j=1|Math.max(R,x),v=1&j,y=0;for(j=j/2|0;j;j>>>=1)y++;return 1<<y+1+v},_.prototype.conjugate=function(x,R,j){if(!(j<=1))for(var v=0;v<j/2;v++){var y=x[v];x[v]=x[j-v-1],x[j-v-1]=y,y=R[v],R[v]=-R[j-v-1],R[j-v-1]=-y}},_.prototype.normalize13b=function(x,R){for(var j=0,v=0;v<R/2;v++){var y=8192*Math.round(x[2*v+1]/R)+Math.round(x[2*v]/R)+j;x[v]=67108863&y,j=y<67108864?0:y/67108864|0}return x},_.prototype.convert13b=function(x,R,j,v){for(var y=0,C=0;C<R;C++)y+=0|x[C],j[2*C]=8191&y,y>>>=13,j[2*C+1]=8191&y,y>>>=13;for(C=2*R;C<v;++C)j[C]=0;o(y===0),o((-8192&y)==0)},_.prototype.stub=function(x){for(var R=new Array(x),j=0;j<x;j++)R[j]=0;return R},_.prototype.mulp=function(x,R,j){var v=2*this.guessLen13b(x.length,R.length),y=this.makeRBT(v),C=this.stub(v),w=new Array(v),S=new Array(v),M=new Array(v),U=new Array(v),N=new Array(v),T=new Array(v),B=j.words;B.length=v,this.convert13b(x.words,x.length,w,v),this.convert13b(R.words,R.length,U,v),this.transform(w,C,S,M,v,y),this.transform(U,C,N,T,v,y);for(var I=0;I<v;I++){var $=S[I]*N[I]-M[I]*T[I];M[I]=S[I]*T[I]+M[I]*N[I],S[I]=$}return this.conjugate(S,M,v),this.transform(S,M,B,C,v,y),this.conjugate(B,C,v),this.normalize13b(B,v),j.negative=x.negative^R.negative,j.length=x.length+R.length,j.strip()},a.prototype.mul=function(x){var R=new a(null);return R.words=new Array(this.length+x.length),this.mulTo(x,R)},a.prototype.mulf=function(x){var R=new a(null);return R.words=new Array(this.length+x.length),b(this,x,R)},a.prototype.imul=function(x){return this.clone().mulTo(x,this)},a.prototype.imuln=function(x){o(typeof x=="number"),o(x<67108864);for(var R=0,j=0;j<this.length;j++){var v=(0|this.words[j])*x,y=(67108863&v)+(67108863&R);R>>=26,R+=v/67108864|0,R+=y>>>26,this.words[j]=67108863&y}return R!==0&&(this.words[j]=R,this.length++),this},a.prototype.muln=function(x){return this.clone().imuln(x)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(x){var R=function(C){for(var w=new Array(C.bitLength()),S=0;S<w.length;S++){var M=S/26|0,U=S%26;w[S]=(C.words[M]&1<<U)>>>U}return w}(x);if(R.length===0)return new a(1);for(var j=this,v=0;v<R.length&&R[v]===0;v++,j=j.sqr());if(++v<R.length)for(var y=j.sqr();v<R.length;v++,y=y.sqr())R[v]!==0&&(j=j.mul(y));return j},a.prototype.iushln=function(x){o(typeof x=="number"&&x>=0);var R,j=x%26,v=(x-j)/26,y=67108863>>>26-j<<26-j;if(j!==0){var C=0;for(R=0;R<this.length;R++){var w=this.words[R]&y,S=(0|this.words[R])-w<<j;this.words[R]=S|C,C=w>>>26-j}C&&(this.words[R]=C,this.length++)}if(v!==0){for(R=this.length-1;R>=0;R--)this.words[R+v]=this.words[R];for(R=0;R<v;R++)this.words[R]=0;this.length+=v}return this.strip()},a.prototype.ishln=function(x){return o(this.negative===0),this.iushln(x)},a.prototype.iushrn=function(x,R,j){var v;o(typeof x=="number"&&x>=0),v=R?(R-R%26)/26:0;var y=x%26,C=Math.min((x-y)/26,this.length),w=67108863^67108863>>>y<<y,S=j;if(v-=C,v=Math.max(0,v),S){for(var M=0;M<C;M++)S.words[M]=this.words[M];S.length=C}if(C!==0)if(this.length>C)for(this.length-=C,M=0;M<this.length;M++)this.words[M]=this.words[M+C];else this.words[0]=0,this.length=1;var U=0;for(M=this.length-1;M>=0&&(U!==0||M>=v);M--){var N=0|this.words[M];this.words[M]=U<<26-y|N>>>y,U=N&w}return S&&U!==0&&(S.words[S.length++]=U),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(x,R,j){return o(this.negative===0),this.iushrn(x,R,j)},a.prototype.shln=function(x){return this.clone().ishln(x)},a.prototype.ushln=function(x){return this.clone().iushln(x)},a.prototype.shrn=function(x){return this.clone().ishrn(x)},a.prototype.ushrn=function(x){return this.clone().iushrn(x)},a.prototype.testn=function(x){o(typeof x=="number"&&x>=0);var R=x%26,j=(x-R)/26,v=1<<R;return!(this.length<=j)&&!!(this.words[j]&v)},a.prototype.imaskn=function(x){o(typeof x=="number"&&x>=0);var R=x%26,j=(x-R)/26;if(o(this.negative===0,"imaskn works only with positive numbers"),this.length<=j)return this;if(R!==0&&j++,this.length=Math.min(j,this.length),R!==0){var v=67108863^67108863>>>R<<R;this.words[this.length-1]&=v}return this.strip()},a.prototype.maskn=function(x){return this.clone().imaskn(x)},a.prototype.iaddn=function(x){return o(typeof x=="number"),o(x<67108864),x<0?this.isubn(-x):this.negative!==0?this.length===1&&(0|this.words[0])<x?(this.words[0]=x-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(x),this.negative=1,this):this._iaddn(x)},a.prototype._iaddn=function(x){this.words[0]+=x;for(var R=0;R<this.length&&this.words[R]>=67108864;R++)this.words[R]-=67108864,R===this.length-1?this.words[R+1]=1:this.words[R+1]++;return this.length=Math.max(this.length,R+1),this},a.prototype.isubn=function(x){if(o(typeof x=="number"),o(x<67108864),x<0)return this.iaddn(-x);if(this.negative!==0)return this.negative=0,this.iaddn(x),this.negative=1,this;if(this.words[0]-=x,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var R=0;R<this.length&&this.words[R]<0;R++)this.words[R]+=67108864,this.words[R+1]-=1;return this.strip()},a.prototype.addn=function(x){return this.clone().iaddn(x)},a.prototype.subn=function(x){return this.clone().isubn(x)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(x,R,j){var v,y,C=x.length+j;this._expand(C);var w=0;for(v=0;v<x.length;v++){y=(0|this.words[v+j])+w;var S=(0|x.words[v])*R;w=((y-=67108863&S)>>26)-(S/67108864|0),this.words[v+j]=67108863&y}for(;v<this.length-j;v++)w=(y=(0|this.words[v+j])+w)>>26,this.words[v+j]=67108863&y;if(w===0)return this.strip();for(o(w===-1),w=0,v=0;v<this.length;v++)w=(y=-(0|this.words[v])+w)>>26,this.words[v]=67108863&y;return this.negative=1,this.strip()},a.prototype._wordDiv=function(x,R){var j=(this.length,x.length),v=this.clone(),y=x,C=0|y.words[y.length-1];(j=26-this._countBits(C))!==0&&(y=y.ushln(j),v.iushln(j),C=0|y.words[y.length-1]);var w,S=v.length-y.length;if(R!=="mod"){(w=new a(null)).length=S+1,w.words=new Array(w.length);for(var M=0;M<w.length;M++)w.words[M]=0}var U=v.clone()._ishlnsubmul(y,1,S);U.negative===0&&(v=U,w&&(w.words[S]=1));for(var N=S-1;N>=0;N--){var T=67108864*(0|v.words[y.length+N])+(0|v.words[y.length+N-1]);for(T=Math.min(T/C|0,67108863),v._ishlnsubmul(y,T,N);v.negative!==0;)T--,v.negative=0,v._ishlnsubmul(y,1,N),v.isZero()||(v.negative^=1);w&&(w.words[N]=T)}return w&&w.strip(),v.strip(),R!=="div"&&j!==0&&v.iushrn(j),{div:w||null,mod:v}},a.prototype.divmod=function(x,R,j){return o(!x.isZero()),this.isZero()?{div:new a(0),mod:new a(0)}:this.negative!==0&&x.negative===0?(C=this.neg().divmod(x,R),R!=="mod"&&(v=C.div.neg()),R!=="div"&&(y=C.mod.neg(),j&&y.negative!==0&&y.iadd(x)),{div:v,mod:y}):this.negative===0&&x.negative!==0?(C=this.divmod(x.neg(),R),R!=="mod"&&(v=C.div.neg()),{div:v,mod:C.mod}):this.negative&x.negative?(C=this.neg().divmod(x.neg(),R),R!=="div"&&(y=C.mod.neg(),j&&y.negative!==0&&y.isub(x)),{div:C.div,mod:y}):x.length>this.length||this.cmp(x)<0?{div:new a(0),mod:this}:x.length===1?R==="div"?{div:this.divn(x.words[0]),mod:null}:R==="mod"?{div:null,mod:new a(this.modn(x.words[0]))}:{div:this.divn(x.words[0]),mod:new a(this.modn(x.words[0]))}:this._wordDiv(x,R);var v,y,C},a.prototype.div=function(x){return this.divmod(x,"div",!1).div},a.prototype.mod=function(x){return this.divmod(x,"mod",!1).mod},a.prototype.umod=function(x){return this.divmod(x,"mod",!0).mod},a.prototype.divRound=function(x){var R=this.divmod(x);if(R.mod.isZero())return R.div;var j=R.div.negative!==0?R.mod.isub(x):R.mod,v=x.ushrn(1),y=x.andln(1),C=j.cmp(v);return C<0||y===1&&C===0?R.div:R.div.negative!==0?R.div.isubn(1):R.div.iaddn(1)},a.prototype.modn=function(x){o(x<=67108863);for(var R=(1<<26)%x,j=0,v=this.length-1;v>=0;v--)j=(R*j+(0|this.words[v]))%x;return j},a.prototype.idivn=function(x){o(x<=67108863);for(var R=0,j=this.length-1;j>=0;j--){var v=(0|this.words[j])+67108864*R;this.words[j]=v/x|0,R=v%x}return this.strip()},a.prototype.divn=function(x){return this.clone().idivn(x)},a.prototype.egcd=function(x){o(x.negative===0),o(!x.isZero());var R=this,j=x.clone();R=R.negative!==0?R.umod(x):R.clone();for(var v=new a(1),y=new a(0),C=new a(0),w=new a(1),S=0;R.isEven()&&j.isEven();)R.iushrn(1),j.iushrn(1),++S;for(var M=j.clone(),U=R.clone();!R.isZero();){for(var N=0,T=1;!(R.words[0]&T)&&N<26;++N,T<<=1);if(N>0)for(R.iushrn(N);N-- >0;)(v.isOdd()||y.isOdd())&&(v.iadd(M),y.isub(U)),v.iushrn(1),y.iushrn(1);for(var B=0,I=1;!(j.words[0]&I)&&B<26;++B,I<<=1);if(B>0)for(j.iushrn(B);B-- >0;)(C.isOdd()||w.isOdd())&&(C.iadd(M),w.isub(U)),C.iushrn(1),w.iushrn(1);R.cmp(j)>=0?(R.isub(j),v.isub(C),y.isub(w)):(j.isub(R),C.isub(v),w.isub(y))}return{a:C,b:w,gcd:j.iushln(S)}},a.prototype._invmp=function(x){o(x.negative===0),o(!x.isZero());var R=this,j=x.clone();R=R.negative!==0?R.umod(x):R.clone();for(var v,y=new a(1),C=new a(0),w=j.clone();R.cmpn(1)>0&&j.cmpn(1)>0;){for(var S=0,M=1;!(R.words[0]&M)&&S<26;++S,M<<=1);if(S>0)for(R.iushrn(S);S-- >0;)y.isOdd()&&y.iadd(w),y.iushrn(1);for(var U=0,N=1;!(j.words[0]&N)&&U<26;++U,N<<=1);if(U>0)for(j.iushrn(U);U-- >0;)C.isOdd()&&C.iadd(w),C.iushrn(1);R.cmp(j)>=0?(R.isub(j),y.isub(C)):(j.isub(R),C.isub(y))}return(v=R.cmpn(1)===0?y:C).cmpn(0)<0&&v.iadd(x),v},a.prototype.gcd=function(x){if(this.isZero())return x.abs();if(x.isZero())return this.abs();var R=this.clone(),j=x.clone();R.negative=0,j.negative=0;for(var v=0;R.isEven()&&j.isEven();v++)R.iushrn(1),j.iushrn(1);for(;;){for(;R.isEven();)R.iushrn(1);for(;j.isEven();)j.iushrn(1);var y=R.cmp(j);if(y<0){var C=R;R=j,j=C}else if(y===0||j.cmpn(1)===0)break;R.isub(j)}return j.iushln(v)},a.prototype.invm=function(x){return this.egcd(x).a.umod(x)},a.prototype.isEven=function(){return(1&this.words[0])==0},a.prototype.isOdd=function(){return(1&this.words[0])==1},a.prototype.andln=function(x){return this.words[0]&x},a.prototype.bincn=function(x){o(typeof x=="number");var R=x%26,j=(x-R)/26,v=1<<R;if(this.length<=j)return this._expand(j+1),this.words[j]|=v,this;for(var y=v,C=j;y!==0&&C<this.length;C++){var w=0|this.words[C];y=(w+=y)>>>26,w&=67108863,this.words[C]=w}return y!==0&&(this.words[C]=y,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(x){var R,j=x<0;if(this.negative!==0&&!j)return-1;if(this.negative===0&&j)return 1;if(this.strip(),this.length>1)R=1;else{j&&(x=-x),o(x<=67108863,"Number is too big");var v=0|this.words[0];R=v===x?0:v<x?-1:1}return this.negative!==0?0|-R:R},a.prototype.cmp=function(x){if(this.negative!==0&&x.negative===0)return-1;if(this.negative===0&&x.negative!==0)return 1;var R=this.ucmp(x);return this.negative!==0?0|-R:R},a.prototype.ucmp=function(x){if(this.length>x.length)return 1;if(this.length<x.length)return-1;for(var R=0,j=this.length-1;j>=0;j--){var v=0|this.words[j],y=0|x.words[j];if(v!==y){v<y?R=-1:v>y&&(R=1);break}}return R},a.prototype.gtn=function(x){return this.cmpn(x)===1},a.prototype.gt=function(x){return this.cmp(x)===1},a.prototype.gten=function(x){return this.cmpn(x)>=0},a.prototype.gte=function(x){return this.cmp(x)>=0},a.prototype.ltn=function(x){return this.cmpn(x)===-1},a.prototype.lt=function(x){return this.cmp(x)===-1},a.prototype.lten=function(x){return this.cmpn(x)<=0},a.prototype.lte=function(x){return this.cmp(x)<=0},a.prototype.eqn=function(x){return this.cmpn(x)===0},a.prototype.eq=function(x){return this.cmp(x)===0},a.red=function(x){return new q(x)},a.prototype.toRed=function(x){return o(!this.red,"Already a number in reduction context"),o(this.negative===0,"red works only with positives"),x.convertTo(this)._forceRed(x)},a.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(x){return this.red=x,this},a.prototype.forceRed=function(x){return o(!this.red,"Already a number in reduction context"),this._forceRed(x)},a.prototype.redAdd=function(x){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,x)},a.prototype.redIAdd=function(x){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,x)},a.prototype.redSub=function(x){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,x)},a.prototype.redISub=function(x){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,x)},a.prototype.redShl=function(x){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,x)},a.prototype.redMul=function(x){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,x),this.red.mul(this,x)},a.prototype.redIMul=function(x){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,x),this.red.imul(this,x)},a.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(x){return o(this.red&&!x.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,x)};var E={k256:null,p224:null,p192:null,p25519:null};function O(x,R){this.name=x,this.p=new a(R,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function V(){O.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function H(){O.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function F(){O.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function L(){O.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function q(x){if(typeof x=="string"){var R=a._prime(x);this.m=R.p,this.prime=R}else o(x.gtn(1),"modulus must be greater than 1"),this.m=x,this.prime=null}function W(x){q.call(this,x),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}O.prototype._tmp=function(){var x=new a(null);return x.words=new Array(Math.ceil(this.n/13)),x},O.prototype.ireduce=function(x){var R,j=x;do this.split(j,this.tmp),R=(j=(j=this.imulK(j)).iadd(this.tmp)).bitLength();while(R>this.n);var v=R<this.n?-1:j.ucmp(this.p);return v===0?(j.words[0]=0,j.length=1):v>0?j.isub(this.p):j.strip!==void 0?j.strip():j._strip(),j},O.prototype.split=function(x,R){x.iushrn(this.n,0,R)},O.prototype.imulK=function(x){return x.imul(this.k)},s(V,O),V.prototype.split=function(x,R){for(var j=Math.min(x.length,9),v=0;v<j;v++)R.words[v]=x.words[v];if(R.length=j,x.length<=9)return x.words[0]=0,void(x.length=1);var y=x.words[9];for(R.words[R.length++]=4194303&y,v=10;v<x.length;v++){var C=0|x.words[v];x.words[v-10]=(4194303&C)<<4|y>>>22,y=C}y>>>=22,x.words[v-10]=y,y===0&&x.length>10?x.length-=10:x.length-=9},V.prototype.imulK=function(x){x.words[x.length]=0,x.words[x.length+1]=0,x.length+=2;for(var R=0,j=0;j<x.length;j++){var v=0|x.words[j];R+=977*v,x.words[j]=67108863&R,R=64*v+(R/67108864|0)}return x.words[x.length-1]===0&&(x.length--,x.words[x.length-1]===0&&x.length--),x},s(H,O),s(F,O),s(L,O),L.prototype.imulK=function(x){for(var R=0,j=0;j<x.length;j++){var v=19*(0|x.words[j])+R,y=67108863&v;v>>>=26,x.words[j]=y,R=v}return R!==0&&(x.words[x.length++]=R),x},a._prime=function(x){if(E[x])return E[x];var R;if(x==="k256")R=new V;else if(x==="p224")R=new H;else if(x==="p192")R=new F;else{if(x!=="p25519")throw new Error("Unknown prime "+x);R=new L}return E[x]=R,R},q.prototype._verify1=function(x){o(x.negative===0,"red works only with positives"),o(x.red,"red works only with red numbers")},q.prototype._verify2=function(x,R){o((x.negative|R.negative)==0,"red works only with positives"),o(x.red&&x.red===R.red,"red works only with red numbers")},q.prototype.imod=function(x){return this.prime?this.prime.ireduce(x)._forceRed(this):x.umod(this.m)._forceRed(this)},q.prototype.neg=function(x){return x.isZero()?x.clone():this.m.sub(x)._forceRed(this)},q.prototype.add=function(x,R){this._verify2(x,R);var j=x.add(R);return j.cmp(this.m)>=0&&j.isub(this.m),j._forceRed(this)},q.prototype.iadd=function(x,R){this._verify2(x,R);var j=x.iadd(R);return j.cmp(this.m)>=0&&j.isub(this.m),j},q.prototype.sub=function(x,R){this._verify2(x,R);var j=x.sub(R);return j.cmpn(0)<0&&j.iadd(this.m),j._forceRed(this)},q.prototype.isub=function(x,R){this._verify2(x,R);var j=x.isub(R);return j.cmpn(0)<0&&j.iadd(this.m),j},q.prototype.shl=function(x,R){return this._verify1(x),this.imod(x.ushln(R))},q.prototype.imul=function(x,R){return this._verify2(x,R),this.imod(x.imul(R))},q.prototype.mul=function(x,R){return this._verify2(x,R),this.imod(x.mul(R))},q.prototype.isqr=function(x){return this.imul(x,x.clone())},q.prototype.sqr=function(x){return this.mul(x,x)},q.prototype.sqrt=function(x){if(x.isZero())return x.clone();var R=this.m.andln(3);if(o(R%2==1),R===3){var j=this.m.add(new a(1)).iushrn(2);return this.pow(x,j)}for(var v=this.m.subn(1),y=0;!v.isZero()&&v.andln(1)===0;)y++,v.iushrn(1);o(!v.isZero());var C=new a(1).toRed(this),w=C.redNeg(),S=this.m.subn(1).iushrn(1),M=this.m.bitLength();for(M=new a(2*M*M).toRed(this);this.pow(M,S).cmp(w)!==0;)M.redIAdd(w);for(var U=this.pow(M,v),N=this.pow(x,v.addn(1).iushrn(1)),T=this.pow(x,v),B=y;T.cmp(C)!==0;){for(var I=T,$=0;I.cmp(C)!==0;$++)I=I.redSqr();o($<B);var A=this.pow(U,new a(1).iushln(B-$-1));N=N.redMul(A),U=A.redSqr(),T=T.redMul(U),B=$}return N},q.prototype.invm=function(x){var R=x._invmp(this.m);return R.negative!==0?(R.negative=0,this.imod(R).redNeg()):this.imod(R)},q.prototype.pow=function(x,R){if(R.isZero())return new a(1).toRed(this);if(R.cmpn(1)===0)return x.clone();var j=new Array(16);j[0]=new a(1).toRed(this),j[1]=x;for(var v=2;v<j.length;v++)j[v]=this.mul(j[v-1],x);var y=j[0],C=0,w=0,S=R.bitLength()%26;for(S===0&&(S=26),v=R.length-1;v>=0;v--){for(var M=R.words[v],U=S-1;U>=0;U--){var N=M>>U&1;y!==j[0]&&(y=this.sqr(y)),N!==0||C!==0?(C<<=1,C|=N,(++w===4||v===0&&U===0)&&(y=this.mul(y,j[C]),w=0,C=0)):w=0}S=26}return y},q.prototype.convertTo=function(x){var R=x.umod(this.m);return R===x?R.clone():R},q.prototype.convertFrom=function(x){var R=x.clone();return R.red=null,R},a.mont=function(x){return new W(x)},s(W,q),W.prototype.convertTo=function(x){return this.imod(x.ushln(this.shift))},W.prototype.convertFrom=function(x){var R=this.imod(x.mul(this.rinv));return R.red=null,R},W.prototype.imul=function(x,R){if(x.isZero()||R.isZero())return x.words[0]=0,x.length=1,x;var j=x.imul(R),v=j.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=j.isub(v).iushrn(this.shift),C=y;return y.cmp(this.m)>=0?C=y.isub(this.m):y.cmpn(0)<0&&(C=y.iadd(this.m)),C._forceRed(this)},W.prototype.mul=function(x,R){if(x.isZero()||R.isZero())return new a(0)._forceRed(this);var j=x.mul(R),v=j.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=j.isub(v).iushrn(this.shift),C=y;return y.cmp(this.m)>=0?C=y.isub(this.m):y.cmpn(0)<0&&(C=y.iadd(this.m)),C._forceRed(this)},W.prototype.invm=function(x){return this.imod(x._invmp(this.m).mul(this.r2))._forceRed(this)}})(t===void 0||t)},{buffer:188}],185:[function(e,t,r){"use strict";r.byteLength=function(h){var u=c(h),f=u[0],m=u[1];return 3*(f+m)/4-m},r.toByteArray=function(h){var u,f,m=c(h),g=m[0],p=m[1],b=new o(function(O,V,H){return 3*(V+H)/4-H}(0,g,p)),_=0,E=p>0?g-4:g;for(f=0;f<E;f+=4)u=n[h.charCodeAt(f)]<<18|n[h.charCodeAt(f+1)]<<12|n[h.charCodeAt(f+2)]<<6|n[h.charCodeAt(f+3)],b[_++]=u>>16&255,b[_++]=u>>8&255,b[_++]=255&u;return p===2&&(u=n[h.charCodeAt(f)]<<2|n[h.charCodeAt(f+1)]>>4,b[_++]=255&u),p===1&&(u=n[h.charCodeAt(f)]<<10|n[h.charCodeAt(f+1)]<<4|n[h.charCodeAt(f+2)]>>2,b[_++]=u>>8&255,b[_++]=255&u),b},r.fromByteArray=function(h){for(var u,f=h.length,m=f%3,g=[],p=0,b=f-m;p<b;p+=16383)g.push(d(h,p,p+16383>b?b:p+16383));return m===1?(u=h[f-1],g.push(i[u>>2]+i[u<<4&63]+"==")):m===2&&(u=(h[f-2]<<8)+h[f-1],g.push(i[u>>10]+i[u>>4&63]+i[u<<2&63]+"=")),g.join("")};for(var i=[],n=[],o=typeof Uint8Array<"u"?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=s.length;a<l;++a)i[a]=s[a],n[s.charCodeAt(a)]=a;function c(h){var u=h.length;if(u%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var f=h.indexOf("=");return f===-1&&(f=u),[f,f===u?0:4-f%4]}function d(h,u,f){for(var m,g,p=[],b=u;b<f;b+=3)m=(h[b]<<16&16711680)+(h[b+1]<<8&65280)+(255&h[b+2]),p.push(i[(g=m)>>18&63]+i[g>>12&63]+i[g>>6&63]+i[63&g]);return p.join("")}n[45]=62,n[95]=63},{}],186:[function(e,t,r){"use strict";(function(i,n){function o(v,y){if(!v)throw new Error(y||"Assertion failed")}function s(v,y){v.super_=y;var C=function(){};C.prototype=y.prototype,v.prototype=new C,v.prototype.constructor=v}function a(v,y,C){if(a.isBN(v))return v;this.negative=0,this.words=null,this.length=0,this.red=null,v!==null&&(y!=="le"&&y!=="be"||(C=y,y=10),this._init(v||0,y||10,C||"be"))}var l;typeof i=="object"?i.exports=a:(void 0).BN=a,a.BN=a,a.wordSize=26;try{l=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:e("buffer").Buffer}catch{}function c(v,y){var C=v.charCodeAt(y);return C>=48&&C<=57?C-48:C>=65&&C<=70?C-55:C>=97&&C<=102?C-87:void o(!1,"Invalid character in "+v)}function d(v,y,C){var w=c(v,C);return C-1>=y&&(w|=c(v,C-1)<<4),w}function h(v,y,C,w){for(var S=0,M=0,U=Math.min(v.length,C),N=y;N<U;N++){var T=v.charCodeAt(N)-48;S*=w,M=T>=49?T-49+10:T>=17?T-17+10:T,o(T>=0&&M<w,"Invalid character"),S+=M}return S}function u(v,y){v.words=y.words,v.length=y.length,v.negative=y.negative,v.red=y.red}if(a.isBN=function(v){return v instanceof a||v!==null&&typeof v=="object"&&v.constructor.wordSize===a.wordSize&&Array.isArray(v.words)},a.max=function(v,y){return v.cmp(y)>0?v:y},a.min=function(v,y){return v.cmp(y)<0?v:y},a.prototype._init=function(v,y,C){if(typeof v=="number")return this._initNumber(v,y,C);if(typeof v=="object")return this._initArray(v,y,C);y==="hex"&&(y=16),o(y===(0|y)&&y>=2&&y<=36);var w=0;(v=v.toString().replace(/\s+/g,""))[0]==="-"&&(w++,this.negative=1),w<v.length&&(y===16?this._parseHex(v,w,C):(this._parseBase(v,y,w),C==="le"&&this._initArray(this.toArray(),y,C)))},a.prototype._initNumber=function(v,y,C){v<0&&(this.negative=1,v=-v),v<67108864?(this.words=[67108863&v],this.length=1):v<4503599627370496?(this.words=[67108863&v,v/67108864&67108863],this.length=2):(o(v<9007199254740992),this.words=[67108863&v,v/67108864&67108863,1],this.length=3),C==="le"&&this._initArray(this.toArray(),y,C)},a.prototype._initArray=function(v,y,C){if(o(typeof v.length=="number"),v.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(v.length/3),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var S,M,U=0;if(C==="be")for(w=v.length-1,S=0;w>=0;w-=3)M=v[w]|v[w-1]<<8|v[w-2]<<16,this.words[S]|=M<<U&67108863,this.words[S+1]=M>>>26-U&67108863,(U+=24)>=26&&(U-=26,S++);else if(C==="le")for(w=0,S=0;w<v.length;w+=3)M=v[w]|v[w+1]<<8|v[w+2]<<16,this.words[S]|=M<<U&67108863,this.words[S+1]=M>>>26-U&67108863,(U+=24)>=26&&(U-=26,S++);return this._strip()},a.prototype._parseHex=function(v,y,C){this.length=Math.ceil((v.length-y)/6),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var S,M=0,U=0;if(C==="be")for(w=v.length-1;w>=y;w-=2)S=d(v,y,w)<<M,this.words[U]|=67108863&S,M>=18?(M-=18,U+=1,this.words[U]|=S>>>26):M+=8;else for(w=(v.length-y)%2==0?y+1:y;w<v.length;w+=2)S=d(v,y,w)<<M,this.words[U]|=67108863&S,M>=18?(M-=18,U+=1,this.words[U]|=S>>>26):M+=8;this._strip()},a.prototype._parseBase=function(v,y,C){this.words=[0],this.length=1;for(var w=0,S=1;S<=67108863;S*=y)w++;w--,S=S/y|0;for(var M=v.length-C,U=M%w,N=Math.min(M,M-U)+C,T=0,B=C;B<N;B+=w)T=h(v,B,B+w,y),this.imuln(S),this.words[0]+T<67108864?this.words[0]+=T:this._iaddn(T);if(U!==0){var I=1;for(T=h(v,B,v.length,y),B=0;B<U;B++)I*=y;this.imuln(I),this.words[0]+T<67108864?this.words[0]+=T:this._iaddn(T)}this._strip()},a.prototype.copy=function(v){v.words=new Array(this.length);for(var y=0;y<this.length;y++)v.words[y]=this.words[y];v.length=this.length,v.negative=this.negative,v.red=this.red},a.prototype._move=function(v){u(v,this)},a.prototype.clone=function(){var v=new a(null);return this.copy(v),v},a.prototype._expand=function(v){for(;this.length<v;)this.words[this.length++]=0;return this},a.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{a.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch{a.prototype.inspect=f}else a.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(v,y){var C;if(y=0|y||1,(v=v||10)===16||v==="hex"){C="";for(var w=0,S=0,M=0;M<this.length;M++){var U=this.words[M],N=(16777215&(U<<w|S)).toString(16);S=U>>>24-w&16777215,(w+=2)>=26&&(w-=26,M--),C=S!==0||M!==this.length-1?m[6-N.length]+N+C:N+C}for(S!==0&&(C=S.toString(16)+C);C.length%y!=0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}if(v===(0|v)&&v>=2&&v<=36){var T=g[v],B=p[v];C="";var I=this.clone();for(I.negative=0;!I.isZero();){var $=I.modrn(B).toString(v);C=(I=I.idivn(B)).isZero()?$+C:m[T-$.length]+$+C}for(this.isZero()&&(C="0"+C);C.length%y!=0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}o(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var v=this.words[0];return this.length===2?v+=67108864*this.words[1]:this.length===3&&this.words[2]===1?v+=4503599627370496+67108864*this.words[1]:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-v:v},a.prototype.toJSON=function(){return this.toString(16,2)},l&&(a.prototype.toBuffer=function(v,y){return this.toArrayLike(l,v,y)}),a.prototype.toArray=function(v,y){return this.toArrayLike(Array,v,y)};function b(v,y,C){C.negative=y.negative^v.negative;var w=v.length+y.length|0;C.length=w,w=w-1|0;var S=0|v.words[0],M=0|y.words[0],U=S*M,N=67108863&U,T=U/67108864|0;C.words[0]=N;for(var B=1;B<w;B++){for(var I=T>>>26,$=67108863&T,A=Math.min(B,y.length-1),k=Math.max(0,B-v.length+1);k<=A;k++){var Y=B-k|0;I+=(U=(S=0|v.words[Y])*(M=0|y.words[k])+$)/67108864|0,$=67108863&U}C.words[B]=0|$,T=0|I}return T!==0?C.words[B]=0|T:C.length--,C._strip()}a.prototype.toArrayLike=function(v,y,C){this._strip();var w=this.byteLength(),S=C||Math.max(1,w);o(w<=S,"byte array longer than desired length"),o(S>0,"Requested array length <= 0");var M=function(U,N){return U.allocUnsafe?U.allocUnsafe(N):new U(N)}(v,S);return this["_toArrayLike"+(y==="le"?"LE":"BE")](M,w),M},a.prototype._toArrayLikeLE=function(v,y){for(var C=0,w=0,S=0,M=0;S<this.length;S++){var U=this.words[S]<<M|w;v[C++]=255&U,C<v.length&&(v[C++]=U>>8&255),C<v.length&&(v[C++]=U>>16&255),M===6?(C<v.length&&(v[C++]=U>>24&255),w=0,M=0):(w=U>>>24,M+=2)}if(C<v.length)for(v[C++]=w;C<v.length;)v[C++]=0},a.prototype._toArrayLikeBE=function(v,y){for(var C=v.length-1,w=0,S=0,M=0;S<this.length;S++){var U=this.words[S]<<M|w;v[C--]=255&U,C>=0&&(v[C--]=U>>8&255),C>=0&&(v[C--]=U>>16&255),M===6?(C>=0&&(v[C--]=U>>24&255),w=0,M=0):(w=U>>>24,M+=2)}if(C>=0)for(v[C--]=w;C>=0;)v[C--]=0},Math.clz32?a.prototype._countBits=function(v){return 32-Math.clz32(v)}:a.prototype._countBits=function(v){var y=v,C=0;return y>=4096&&(C+=13,y>>>=13),y>=64&&(C+=7,y>>>=7),y>=8&&(C+=4,y>>>=4),y>=2&&(C+=2,y>>>=2),C+y},a.prototype._zeroBits=function(v){if(v===0)return 26;var y=v,C=0;return!(8191&y)&&(C+=13,y>>>=13),!(127&y)&&(C+=7,y>>>=7),!(15&y)&&(C+=4,y>>>=4),!(3&y)&&(C+=2,y>>>=2),!(1&y)&&C++,C},a.prototype.bitLength=function(){var v=this.words[this.length-1],y=this._countBits(v);return 26*(this.length-1)+y},a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var v=0,y=0;y<this.length;y++){var C=this._zeroBits(this.words[y]);if(v+=C,C!==26)break}return v},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(v){return this.negative!==0?this.abs().inotn(v).iaddn(1):this.clone()},a.prototype.fromTwos=function(v){return this.testn(v-1)?this.notn(v).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(v){for(;this.length<v.length;)this.words[this.length++]=0;for(var y=0;y<v.length;y++)this.words[y]=this.words[y]|v.words[y];return this._strip()},a.prototype.ior=function(v){return o((this.negative|v.negative)==0),this.iuor(v)},a.prototype.or=function(v){return this.length>v.length?this.clone().ior(v):v.clone().ior(this)},a.prototype.uor=function(v){return this.length>v.length?this.clone().iuor(v):v.clone().iuor(this)},a.prototype.iuand=function(v){var y;y=this.length>v.length?v:this;for(var C=0;C<y.length;C++)this.words[C]=this.words[C]&v.words[C];return this.length=y.length,this._strip()},a.prototype.iand=function(v){return o((this.negative|v.negative)==0),this.iuand(v)},a.prototype.and=function(v){return this.length>v.length?this.clone().iand(v):v.clone().iand(this)},a.prototype.uand=function(v){return this.length>v.length?this.clone().iuand(v):v.clone().iuand(this)},a.prototype.iuxor=function(v){var y,C;this.length>v.length?(y=this,C=v):(y=v,C=this);for(var w=0;w<C.length;w++)this.words[w]=y.words[w]^C.words[w];if(this!==y)for(;w<y.length;w++)this.words[w]=y.words[w];return this.length=y.length,this._strip()},a.prototype.ixor=function(v){return o((this.negative|v.negative)==0),this.iuxor(v)},a.prototype.xor=function(v){return this.length>v.length?this.clone().ixor(v):v.clone().ixor(this)},a.prototype.uxor=function(v){return this.length>v.length?this.clone().iuxor(v):v.clone().iuxor(this)},a.prototype.inotn=function(v){o(typeof v=="number"&&v>=0);var y=0|Math.ceil(v/26),C=v%26;this._expand(y),C>0&&y--;for(var w=0;w<y;w++)this.words[w]=67108863&~this.words[w];return C>0&&(this.words[w]=~this.words[w]&67108863>>26-C),this._strip()},a.prototype.notn=function(v){return this.clone().inotn(v)},a.prototype.setn=function(v,y){o(typeof v=="number"&&v>=0);var C=v/26|0,w=v%26;return this._expand(C+1),this.words[C]=y?this.words[C]|1<<w:this.words[C]&~(1<<w),this._strip()},a.prototype.iadd=function(v){var y,C,w;if(this.negative!==0&&v.negative===0)return this.negative=0,y=this.isub(v),this.negative^=1,this._normSign();if(this.negative===0&&v.negative!==0)return v.negative=0,y=this.isub(v),v.negative=1,y._normSign();this.length>v.length?(C=this,w=v):(C=v,w=this);for(var S=0,M=0;M<w.length;M++)y=(0|C.words[M])+(0|w.words[M])+S,this.words[M]=67108863&y,S=y>>>26;for(;S!==0&&M<C.length;M++)y=(0|C.words[M])+S,this.words[M]=67108863&y,S=y>>>26;if(this.length=C.length,S!==0)this.words[this.length]=S,this.length++;else if(C!==this)for(;M<C.length;M++)this.words[M]=C.words[M];return this},a.prototype.add=function(v){var y;return v.negative!==0&&this.negative===0?(v.negative=0,y=this.sub(v),v.negative^=1,y):v.negative===0&&this.negative!==0?(this.negative=0,y=v.sub(this),this.negative=1,y):this.length>v.length?this.clone().iadd(v):v.clone().iadd(this)},a.prototype.isub=function(v){if(v.negative!==0){v.negative=0;var y=this.iadd(v);return v.negative=1,y._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(v),this.negative=1,this._normSign();var C,w,S=this.cmp(v);if(S===0)return this.negative=0,this.length=1,this.words[0]=0,this;S>0?(C=this,w=v):(C=v,w=this);for(var M=0,U=0;U<w.length;U++)M=(y=(0|C.words[U])-(0|w.words[U])+M)>>26,this.words[U]=67108863&y;for(;M!==0&&U<C.length;U++)M=(y=(0|C.words[U])+M)>>26,this.words[U]=67108863&y;if(M===0&&U<C.length&&C!==this)for(;U<C.length;U++)this.words[U]=C.words[U];return this.length=Math.max(this.length,U),C!==this&&(this.negative=1),this._strip()},a.prototype.sub=function(v){return this.clone().isub(v)};var _=function(v,y,C){var w,S,M,U=v.words,N=y.words,T=C.words,B=0,I=0|U[0],$=8191&I,A=I>>>13,k=0|U[1],Y=8191&k,Z=k>>>13,ct=0|U[2],tt=8191&ct,nt=ct>>>13,Ct=0|U[3],xt=8191&Ct,rt=Ct>>>13,at=0|U[4],_t=8191&at,J=at>>>13,et=0|U[5],lt=8191&et,ut=et>>>13,mt=0|U[6],wt=8191&mt,vt=mt>>>13,Rt=0|U[7],Mt=8191&Rt,Et=Rt>>>13,kt=0|U[8],zt=8191&kt,Yt=kt>>>13,Ut=0|U[9],ie=8191&Ut,Zt=Ut>>>13,Fe=0|N[0],le=8191&Fe,fe=Fe>>>13,ki=0|N[1],Ae=8191&ki,ni=ki>>>13,Pi=0|N[2],ti=8191&Pi,hi=Pi>>>13,be=0|N[3],ye=8191&be,xe=be>>>13,Ur=0|N[4],We=8191&Ur,Te=Ur>>>13,Jn=0|N[5],ue=8191&Jn,Ot=Jn>>>13,Qt=0|N[6],ee=8191&Qt,se=Qt>>>13,mi=0|N[7],Ee=8191&mi,De=mi>>>13,Ui=0|N[8],Ye=8191&Ui,Pe=Ui>>>13,ar=0|N[9],Wi=8191&ar,Ti=ar>>>13;C.negative=v.negative^y.negative,C.length=19;var br=(B+(w=Math.imul($,le))|0)+((8191&(S=(S=Math.imul($,fe))+Math.imul(A,le)|0))<<13)|0;B=((M=Math.imul(A,fe))+(S>>>13)|0)+(br>>>26)|0,br&=67108863,w=Math.imul(Y,le),S=(S=Math.imul(Y,fe))+Math.imul(Z,le)|0,M=Math.imul(Z,fe);var rn=(B+(w=w+Math.imul($,Ae)|0)|0)+((8191&(S=(S=S+Math.imul($,ni)|0)+Math.imul(A,Ae)|0))<<13)|0;B=((M=M+Math.imul(A,ni)|0)+(S>>>13)|0)+(rn>>>26)|0,rn&=67108863,w=Math.imul(tt,le),S=(S=Math.imul(tt,fe))+Math.imul(nt,le)|0,M=Math.imul(nt,fe),w=w+Math.imul(Y,Ae)|0,S=(S=S+Math.imul(Y,ni)|0)+Math.imul(Z,Ae)|0,M=M+Math.imul(Z,ni)|0;var nn=(B+(w=w+Math.imul($,ti)|0)|0)+((8191&(S=(S=S+Math.imul($,hi)|0)+Math.imul(A,ti)|0))<<13)|0;B=((M=M+Math.imul(A,hi)|0)+(S>>>13)|0)+(nn>>>26)|0,nn&=67108863,w=Math.imul(xt,le),S=(S=Math.imul(xt,fe))+Math.imul(rt,le)|0,M=Math.imul(rt,fe),w=w+Math.imul(tt,Ae)|0,S=(S=S+Math.imul(tt,ni)|0)+Math.imul(nt,Ae)|0,M=M+Math.imul(nt,ni)|0,w=w+Math.imul(Y,ti)|0,S=(S=S+Math.imul(Y,hi)|0)+Math.imul(Z,ti)|0,M=M+Math.imul(Z,hi)|0;var Wn=(B+(w=w+Math.imul($,ye)|0)|0)+((8191&(S=(S=S+Math.imul($,xe)|0)+Math.imul(A,ye)|0))<<13)|0;B=((M=M+Math.imul(A,xe)|0)+(S>>>13)|0)+(Wn>>>26)|0,Wn&=67108863,w=Math.imul(_t,le),S=(S=Math.imul(_t,fe))+Math.imul(J,le)|0,M=Math.imul(J,fe),w=w+Math.imul(xt,Ae)|0,S=(S=S+Math.imul(xt,ni)|0)+Math.imul(rt,Ae)|0,M=M+Math.imul(rt,ni)|0,w=w+Math.imul(tt,ti)|0,S=(S=S+Math.imul(tt,hi)|0)+Math.imul(nt,ti)|0,M=M+Math.imul(nt,hi)|0,w=w+Math.imul(Y,ye)|0,S=(S=S+Math.imul(Y,xe)|0)+Math.imul(Z,ye)|0,M=M+Math.imul(Z,xe)|0;var Tn=(B+(w=w+Math.imul($,We)|0)|0)+((8191&(S=(S=S+Math.imul($,Te)|0)+Math.imul(A,We)|0))<<13)|0;B=((M=M+Math.imul(A,Te)|0)+(S>>>13)|0)+(Tn>>>26)|0,Tn&=67108863,w=Math.imul(lt,le),S=(S=Math.imul(lt,fe))+Math.imul(ut,le)|0,M=Math.imul(ut,fe),w=w+Math.imul(_t,Ae)|0,S=(S=S+Math.imul(_t,ni)|0)+Math.imul(J,Ae)|0,M=M+Math.imul(J,ni)|0,w=w+Math.imul(xt,ti)|0,S=(S=S+Math.imul(xt,hi)|0)+Math.imul(rt,ti)|0,M=M+Math.imul(rt,hi)|0,w=w+Math.imul(tt,ye)|0,S=(S=S+Math.imul(tt,xe)|0)+Math.imul(nt,ye)|0,M=M+Math.imul(nt,xe)|0,w=w+Math.imul(Y,We)|0,S=(S=S+Math.imul(Y,Te)|0)+Math.imul(Z,We)|0,M=M+Math.imul(Z,Te)|0;var po=(B+(w=w+Math.imul($,ue)|0)|0)+((8191&(S=(S=S+Math.imul($,Ot)|0)+Math.imul(A,ue)|0))<<13)|0;B=((M=M+Math.imul(A,Ot)|0)+(S>>>13)|0)+(po>>>26)|0,po&=67108863,w=Math.imul(wt,le),S=(S=Math.imul(wt,fe))+Math.imul(vt,le)|0,M=Math.imul(vt,fe),w=w+Math.imul(lt,Ae)|0,S=(S=S+Math.imul(lt,ni)|0)+Math.imul(ut,Ae)|0,M=M+Math.imul(ut,ni)|0,w=w+Math.imul(_t,ti)|0,S=(S=S+Math.imul(_t,hi)|0)+Math.imul(J,ti)|0,M=M+Math.imul(J,hi)|0,w=w+Math.imul(xt,ye)|0,S=(S=S+Math.imul(xt,xe)|0)+Math.imul(rt,ye)|0,M=M+Math.imul(rt,xe)|0,w=w+Math.imul(tt,We)|0,S=(S=S+Math.imul(tt,Te)|0)+Math.imul(nt,We)|0,M=M+Math.imul(nt,Te)|0,w=w+Math.imul(Y,ue)|0,S=(S=S+Math.imul(Y,Ot)|0)+Math.imul(Z,ue)|0,M=M+Math.imul(Z,Ot)|0;var At=(B+(w=w+Math.imul($,ee)|0)|0)+((8191&(S=(S=S+Math.imul($,se)|0)+Math.imul(A,ee)|0))<<13)|0;B=((M=M+Math.imul(A,se)|0)+(S>>>13)|0)+(At>>>26)|0,At&=67108863,w=Math.imul(Mt,le),S=(S=Math.imul(Mt,fe))+Math.imul(Et,le)|0,M=Math.imul(Et,fe),w=w+Math.imul(wt,Ae)|0,S=(S=S+Math.imul(wt,ni)|0)+Math.imul(vt,Ae)|0,M=M+Math.imul(vt,ni)|0,w=w+Math.imul(lt,ti)|0,S=(S=S+Math.imul(lt,hi)|0)+Math.imul(ut,ti)|0,M=M+Math.imul(ut,hi)|0,w=w+Math.imul(_t,ye)|0,S=(S=S+Math.imul(_t,xe)|0)+Math.imul(J,ye)|0,M=M+Math.imul(J,xe)|0,w=w+Math.imul(xt,We)|0,S=(S=S+Math.imul(xt,Te)|0)+Math.imul(rt,We)|0,M=M+Math.imul(rt,Te)|0,w=w+Math.imul(tt,ue)|0,S=(S=S+Math.imul(tt,Ot)|0)+Math.imul(nt,ue)|0,M=M+Math.imul(nt,Ot)|0,w=w+Math.imul(Y,ee)|0,S=(S=S+Math.imul(Y,se)|0)+Math.imul(Z,ee)|0,M=M+Math.imul(Z,se)|0;var Gt=(B+(w=w+Math.imul($,Ee)|0)|0)+((8191&(S=(S=S+Math.imul($,De)|0)+Math.imul(A,Ee)|0))<<13)|0;B=((M=M+Math.imul(A,De)|0)+(S>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,w=Math.imul(zt,le),S=(S=Math.imul(zt,fe))+Math.imul(Yt,le)|0,M=Math.imul(Yt,fe),w=w+Math.imul(Mt,Ae)|0,S=(S=S+Math.imul(Mt,ni)|0)+Math.imul(Et,Ae)|0,M=M+Math.imul(Et,ni)|0,w=w+Math.imul(wt,ti)|0,S=(S=S+Math.imul(wt,hi)|0)+Math.imul(vt,ti)|0,M=M+Math.imul(vt,hi)|0,w=w+Math.imul(lt,ye)|0,S=(S=S+Math.imul(lt,xe)|0)+Math.imul(ut,ye)|0,M=M+Math.imul(ut,xe)|0,w=w+Math.imul(_t,We)|0,S=(S=S+Math.imul(_t,Te)|0)+Math.imul(J,We)|0,M=M+Math.imul(J,Te)|0,w=w+Math.imul(xt,ue)|0,S=(S=S+Math.imul(xt,Ot)|0)+Math.imul(rt,ue)|0,M=M+Math.imul(rt,Ot)|0,w=w+Math.imul(tt,ee)|0,S=(S=S+Math.imul(tt,se)|0)+Math.imul(nt,ee)|0,M=M+Math.imul(nt,se)|0,w=w+Math.imul(Y,Ee)|0,S=(S=S+Math.imul(Y,De)|0)+Math.imul(Z,Ee)|0,M=M+Math.imul(Z,De)|0;var oe=(B+(w=w+Math.imul($,Ye)|0)|0)+((8191&(S=(S=S+Math.imul($,Pe)|0)+Math.imul(A,Ye)|0))<<13)|0;B=((M=M+Math.imul(A,Pe)|0)+(S>>>13)|0)+(oe>>>26)|0,oe&=67108863,w=Math.imul(ie,le),S=(S=Math.imul(ie,fe))+Math.imul(Zt,le)|0,M=Math.imul(Zt,fe),w=w+Math.imul(zt,Ae)|0,S=(S=S+Math.imul(zt,ni)|0)+Math.imul(Yt,Ae)|0,M=M+Math.imul(Yt,ni)|0,w=w+Math.imul(Mt,ti)|0,S=(S=S+Math.imul(Mt,hi)|0)+Math.imul(Et,ti)|0,M=M+Math.imul(Et,hi)|0,w=w+Math.imul(wt,ye)|0,S=(S=S+Math.imul(wt,xe)|0)+Math.imul(vt,ye)|0,M=M+Math.imul(vt,xe)|0,w=w+Math.imul(lt,We)|0,S=(S=S+Math.imul(lt,Te)|0)+Math.imul(ut,We)|0,M=M+Math.imul(ut,Te)|0,w=w+Math.imul(_t,ue)|0,S=(S=S+Math.imul(_t,Ot)|0)+Math.imul(J,ue)|0,M=M+Math.imul(J,Ot)|0,w=w+Math.imul(xt,ee)|0,S=(S=S+Math.imul(xt,se)|0)+Math.imul(rt,ee)|0,M=M+Math.imul(rt,se)|0,w=w+Math.imul(tt,Ee)|0,S=(S=S+Math.imul(tt,De)|0)+Math.imul(nt,Ee)|0,M=M+Math.imul(nt,De)|0,w=w+Math.imul(Y,Ye)|0,S=(S=S+Math.imul(Y,Pe)|0)+Math.imul(Z,Ye)|0,M=M+Math.imul(Z,Pe)|0;var ae=(B+(w=w+Math.imul($,Wi)|0)|0)+((8191&(S=(S=S+Math.imul($,Ti)|0)+Math.imul(A,Wi)|0))<<13)|0;B=((M=M+Math.imul(A,Ti)|0)+(S>>>13)|0)+(ae>>>26)|0,ae&=67108863,w=Math.imul(ie,Ae),S=(S=Math.imul(ie,ni))+Math.imul(Zt,Ae)|0,M=Math.imul(Zt,ni),w=w+Math.imul(zt,ti)|0,S=(S=S+Math.imul(zt,hi)|0)+Math.imul(Yt,ti)|0,M=M+Math.imul(Yt,hi)|0,w=w+Math.imul(Mt,ye)|0,S=(S=S+Math.imul(Mt,xe)|0)+Math.imul(Et,ye)|0,M=M+Math.imul(Et,xe)|0,w=w+Math.imul(wt,We)|0,S=(S=S+Math.imul(wt,Te)|0)+Math.imul(vt,We)|0,M=M+Math.imul(vt,Te)|0,w=w+Math.imul(lt,ue)|0,S=(S=S+Math.imul(lt,Ot)|0)+Math.imul(ut,ue)|0,M=M+Math.imul(ut,Ot)|0,w=w+Math.imul(_t,ee)|0,S=(S=S+Math.imul(_t,se)|0)+Math.imul(J,ee)|0,M=M+Math.imul(J,se)|0,w=w+Math.imul(xt,Ee)|0,S=(S=S+Math.imul(xt,De)|0)+Math.imul(rt,Ee)|0,M=M+Math.imul(rt,De)|0,w=w+Math.imul(tt,Ye)|0,S=(S=S+Math.imul(tt,Pe)|0)+Math.imul(nt,Ye)|0,M=M+Math.imul(nt,Pe)|0;var Ie=(B+(w=w+Math.imul(Y,Wi)|0)|0)+((8191&(S=(S=S+Math.imul(Y,Ti)|0)+Math.imul(Z,Wi)|0))<<13)|0;B=((M=M+Math.imul(Z,Ti)|0)+(S>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,w=Math.imul(ie,ti),S=(S=Math.imul(ie,hi))+Math.imul(Zt,ti)|0,M=Math.imul(Zt,hi),w=w+Math.imul(zt,ye)|0,S=(S=S+Math.imul(zt,xe)|0)+Math.imul(Yt,ye)|0,M=M+Math.imul(Yt,xe)|0,w=w+Math.imul(Mt,We)|0,S=(S=S+Math.imul(Mt,Te)|0)+Math.imul(Et,We)|0,M=M+Math.imul(Et,Te)|0,w=w+Math.imul(wt,ue)|0,S=(S=S+Math.imul(wt,Ot)|0)+Math.imul(vt,ue)|0,M=M+Math.imul(vt,Ot)|0,w=w+Math.imul(lt,ee)|0,S=(S=S+Math.imul(lt,se)|0)+Math.imul(ut,ee)|0,M=M+Math.imul(ut,se)|0,w=w+Math.imul(_t,Ee)|0,S=(S=S+Math.imul(_t,De)|0)+Math.imul(J,Ee)|0,M=M+Math.imul(J,De)|0,w=w+Math.imul(xt,Ye)|0,S=(S=S+Math.imul(xt,Pe)|0)+Math.imul(rt,Ye)|0,M=M+Math.imul(rt,Pe)|0;var li=(B+(w=w+Math.imul(tt,Wi)|0)|0)+((8191&(S=(S=S+Math.imul(tt,Ti)|0)+Math.imul(nt,Wi)|0))<<13)|0;B=((M=M+Math.imul(nt,Ti)|0)+(S>>>13)|0)+(li>>>26)|0,li&=67108863,w=Math.imul(ie,ye),S=(S=Math.imul(ie,xe))+Math.imul(Zt,ye)|0,M=Math.imul(Zt,xe),w=w+Math.imul(zt,We)|0,S=(S=S+Math.imul(zt,Te)|0)+Math.imul(Yt,We)|0,M=M+Math.imul(Yt,Te)|0,w=w+Math.imul(Mt,ue)|0,S=(S=S+Math.imul(Mt,Ot)|0)+Math.imul(Et,ue)|0,M=M+Math.imul(Et,Ot)|0,w=w+Math.imul(wt,ee)|0,S=(S=S+Math.imul(wt,se)|0)+Math.imul(vt,ee)|0,M=M+Math.imul(vt,se)|0,w=w+Math.imul(lt,Ee)|0,S=(S=S+Math.imul(lt,De)|0)+Math.imul(ut,Ee)|0,M=M+Math.imul(ut,De)|0,w=w+Math.imul(_t,Ye)|0,S=(S=S+Math.imul(_t,Pe)|0)+Math.imul(J,Ye)|0,M=M+Math.imul(J,Pe)|0;var oi=(B+(w=w+Math.imul(xt,Wi)|0)|0)+((8191&(S=(S=S+Math.imul(xt,Ti)|0)+Math.imul(rt,Wi)|0))<<13)|0;B=((M=M+Math.imul(rt,Ti)|0)+(S>>>13)|0)+(oi>>>26)|0,oi&=67108863,w=Math.imul(ie,We),S=(S=Math.imul(ie,Te))+Math.imul(Zt,We)|0,M=Math.imul(Zt,Te),w=w+Math.imul(zt,ue)|0,S=(S=S+Math.imul(zt,Ot)|0)+Math.imul(Yt,ue)|0,M=M+Math.imul(Yt,Ot)|0,w=w+Math.imul(Mt,ee)|0,S=(S=S+Math.imul(Mt,se)|0)+Math.imul(Et,ee)|0,M=M+Math.imul(Et,se)|0,w=w+Math.imul(wt,Ee)|0,S=(S=S+Math.imul(wt,De)|0)+Math.imul(vt,Ee)|0,M=M+Math.imul(vt,De)|0,w=w+Math.imul(lt,Ye)|0,S=(S=S+Math.imul(lt,Pe)|0)+Math.imul(ut,Ye)|0,M=M+Math.imul(ut,Pe)|0;var ur=(B+(w=w+Math.imul(_t,Wi)|0)|0)+((8191&(S=(S=S+Math.imul(_t,Ti)|0)+Math.imul(J,Wi)|0))<<13)|0;B=((M=M+Math.imul(J,Ti)|0)+(S>>>13)|0)+(ur>>>26)|0,ur&=67108863,w=Math.imul(ie,ue),S=(S=Math.imul(ie,Ot))+Math.imul(Zt,ue)|0,M=Math.imul(Zt,Ot),w=w+Math.imul(zt,ee)|0,S=(S=S+Math.imul(zt,se)|0)+Math.imul(Yt,ee)|0,M=M+Math.imul(Yt,se)|0,w=w+Math.imul(Mt,Ee)|0,S=(S=S+Math.imul(Mt,De)|0)+Math.imul(Et,Ee)|0,M=M+Math.imul(Et,De)|0,w=w+Math.imul(wt,Ye)|0,S=(S=S+Math.imul(wt,Pe)|0)+Math.imul(vt,Ye)|0,M=M+Math.imul(vt,Pe)|0;var ji=(B+(w=w+Math.imul(lt,Wi)|0)|0)+((8191&(S=(S=S+Math.imul(lt,Ti)|0)+Math.imul(ut,Wi)|0))<<13)|0;B=((M=M+Math.imul(ut,Ti)|0)+(S>>>13)|0)+(ji>>>26)|0,ji&=67108863,w=Math.imul(ie,ee),S=(S=Math.imul(ie,se))+Math.imul(Zt,ee)|0,M=Math.imul(Zt,se),w=w+Math.imul(zt,Ee)|0,S=(S=S+Math.imul(zt,De)|0)+Math.imul(Yt,Ee)|0,M=M+Math.imul(Yt,De)|0,w=w+Math.imul(Mt,Ye)|0,S=(S=S+Math.imul(Mt,Pe)|0)+Math.imul(Et,Ye)|0,M=M+Math.imul(Et,Pe)|0;var Di=(B+(w=w+Math.imul(wt,Wi)|0)|0)+((8191&(S=(S=S+Math.imul(wt,Ti)|0)+Math.imul(vt,Wi)|0))<<13)|0;B=((M=M+Math.imul(vt,Ti)|0)+(S>>>13)|0)+(Di>>>26)|0,Di&=67108863,w=Math.imul(ie,Ee),S=(S=Math.imul(ie,De))+Math.imul(Zt,Ee)|0,M=Math.imul(Zt,De),w=w+Math.imul(zt,Ye)|0,S=(S=S+Math.imul(zt,Pe)|0)+Math.imul(Yt,Ye)|0,M=M+Math.imul(Yt,Pe)|0;var Ni=(B+(w=w+Math.imul(Mt,Wi)|0)|0)+((8191&(S=(S=S+Math.imul(Mt,Ti)|0)+Math.imul(Et,Wi)|0))<<13)|0;B=((M=M+Math.imul(Et,Ti)|0)+(S>>>13)|0)+(Ni>>>26)|0,Ni&=67108863,w=Math.imul(ie,Ye),S=(S=Math.imul(ie,Pe))+Math.imul(Zt,Ye)|0,M=Math.imul(Zt,Pe);var Pn=(B+(w=w+Math.imul(zt,Wi)|0)|0)+((8191&(S=(S=S+Math.imul(zt,Ti)|0)+Math.imul(Yt,Wi)|0))<<13)|0;B=((M=M+Math.imul(Yt,Ti)|0)+(S>>>13)|0)+(Pn>>>26)|0,Pn&=67108863;var nr=(B+(w=Math.imul(ie,Wi))|0)+((8191&(S=(S=Math.imul(ie,Ti))+Math.imul(Zt,Wi)|0))<<13)|0;return B=((M=Math.imul(Zt,Ti))+(S>>>13)|0)+(nr>>>26)|0,nr&=67108863,T[0]=br,T[1]=rn,T[2]=nn,T[3]=Wn,T[4]=Tn,T[5]=po,T[6]=At,T[7]=Gt,T[8]=oe,T[9]=ae,T[10]=Ie,T[11]=li,T[12]=oi,T[13]=ur,T[14]=ji,T[15]=Di,T[16]=Ni,T[17]=Pn,T[18]=nr,B!==0&&(T[19]=B,C.length++),C};function E(v,y,C){C.negative=y.negative^v.negative,C.length=v.length+y.length;for(var w=0,S=0,M=0;M<C.length-1;M++){var U=S;S=0;for(var N=67108863&w,T=Math.min(M,y.length-1),B=Math.max(0,M-v.length+1);B<=T;B++){var I=M-B,$=(0|v.words[I])*(0|y.words[B]),A=67108863&$;N=67108863&(A=A+N|0),S+=(U=(U=U+($/67108864|0)|0)+(A>>>26)|0)>>>26,U&=67108863}C.words[M]=N,w=U,U=S}return w!==0?C.words[M]=w:C.length--,C._strip()}function O(v,y,C){return E(v,y,C)}function V(v,y){this.x=v,this.y=y}Math.imul||(_=b),a.prototype.mulTo=function(v,y){var C=this.length+v.length;return this.length===10&&v.length===10?_(this,v,y):C<63?b(this,v,y):C<1024?E(this,v,y):O(this,v,y)},V.prototype.makeRBT=function(v){for(var y=new Array(v),C=a.prototype._countBits(v)-1,w=0;w<v;w++)y[w]=this.revBin(w,C,v);return y},V.prototype.revBin=function(v,y,C){if(v===0||v===C-1)return v;for(var w=0,S=0;S<y;S++)w|=(1&v)<<y-S-1,v>>=1;return w},V.prototype.permute=function(v,y,C,w,S,M){for(var U=0;U<M;U++)w[U]=y[v[U]],S[U]=C[v[U]]},V.prototype.transform=function(v,y,C,w,S,M){this.permute(M,v,y,C,w,S);for(var U=1;U<S;U<<=1)for(var N=U<<1,T=Math.cos(2*Math.PI/N),B=Math.sin(2*Math.PI/N),I=0;I<S;I+=N)for(var $=T,A=B,k=0;k<U;k++){var Y=C[I+k],Z=w[I+k],ct=C[I+k+U],tt=w[I+k+U],nt=$*ct-A*tt;tt=$*tt+A*ct,ct=nt,C[I+k]=Y+ct,w[I+k]=Z+tt,C[I+k+U]=Y-ct,w[I+k+U]=Z-tt,k!==N&&(nt=T*$-B*A,A=T*A+B*$,$=nt)}},V.prototype.guessLen13b=function(v,y){var C=1|Math.max(y,v),w=1&C,S=0;for(C=C/2|0;C;C>>>=1)S++;return 1<<S+1+w},V.prototype.conjugate=function(v,y,C){if(!(C<=1))for(var w=0;w<C/2;w++){var S=v[w];v[w]=v[C-w-1],v[C-w-1]=S,S=y[w],y[w]=-y[C-w-1],y[C-w-1]=-S}},V.prototype.normalize13b=function(v,y){for(var C=0,w=0;w<y/2;w++){var S=8192*Math.round(v[2*w+1]/y)+Math.round(v[2*w]/y)+C;v[w]=67108863&S,C=S<67108864?0:S/67108864|0}return v},V.prototype.convert13b=function(v,y,C,w){for(var S=0,M=0;M<y;M++)S+=0|v[M],C[2*M]=8191&S,S>>>=13,C[2*M+1]=8191&S,S>>>=13;for(M=2*y;M<w;++M)C[M]=0;o(S===0),o((-8192&S)==0)},V.prototype.stub=function(v){for(var y=new Array(v),C=0;C<v;C++)y[C]=0;return y},V.prototype.mulp=function(v,y,C){var w=2*this.guessLen13b(v.length,y.length),S=this.makeRBT(w),M=this.stub(w),U=new Array(w),N=new Array(w),T=new Array(w),B=new Array(w),I=new Array(w),$=new Array(w),A=C.words;A.length=w,this.convert13b(v.words,v.length,U,w),this.convert13b(y.words,y.length,B,w),this.transform(U,M,N,T,w,S),this.transform(B,M,I,$,w,S);for(var k=0;k<w;k++){var Y=N[k]*I[k]-T[k]*$[k];T[k]=N[k]*$[k]+T[k]*I[k],N[k]=Y}return this.conjugate(N,T,w),this.transform(N,T,A,M,w,S),this.conjugate(A,M,w),this.normalize13b(A,w),C.negative=v.negative^y.negative,C.length=v.length+y.length,C._strip()},a.prototype.mul=function(v){var y=new a(null);return y.words=new Array(this.length+v.length),this.mulTo(v,y)},a.prototype.mulf=function(v){var y=new a(null);return y.words=new Array(this.length+v.length),O(this,v,y)},a.prototype.imul=function(v){return this.clone().mulTo(v,this)},a.prototype.imuln=function(v){var y=v<0;y&&(v=-v),o(typeof v=="number"),o(v<67108864);for(var C=0,w=0;w<this.length;w++){var S=(0|this.words[w])*v,M=(67108863&S)+(67108863&C);C>>=26,C+=S/67108864|0,C+=M>>>26,this.words[w]=67108863&M}return C!==0&&(this.words[w]=C,this.length++),y?this.ineg():this},a.prototype.muln=function(v){return this.clone().imuln(v)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(v){var y=function(M){for(var U=new Array(M.bitLength()),N=0;N<U.length;N++){var T=N/26|0,B=N%26;U[N]=M.words[T]>>>B&1}return U}(v);if(y.length===0)return new a(1);for(var C=this,w=0;w<y.length&&y[w]===0;w++,C=C.sqr());if(++w<y.length)for(var S=C.sqr();w<y.length;w++,S=S.sqr())y[w]!==0&&(C=C.mul(S));return C},a.prototype.iushln=function(v){o(typeof v=="number"&&v>=0);var y,C=v%26,w=(v-C)/26,S=67108863>>>26-C<<26-C;if(C!==0){var M=0;for(y=0;y<this.length;y++){var U=this.words[y]&S,N=(0|this.words[y])-U<<C;this.words[y]=N|M,M=U>>>26-C}M&&(this.words[y]=M,this.length++)}if(w!==0){for(y=this.length-1;y>=0;y--)this.words[y+w]=this.words[y];for(y=0;y<w;y++)this.words[y]=0;this.length+=w}return this._strip()},a.prototype.ishln=function(v){return o(this.negative===0),this.iushln(v)},a.prototype.iushrn=function(v,y,C){var w;o(typeof v=="number"&&v>=0),w=y?(y-y%26)/26:0;var S=v%26,M=Math.min((v-S)/26,this.length),U=67108863^67108863>>>S<<S,N=C;if(w-=M,w=Math.max(0,w),N){for(var T=0;T<M;T++)N.words[T]=this.words[T];N.length=M}if(M!==0)if(this.length>M)for(this.length-=M,T=0;T<this.length;T++)this.words[T]=this.words[T+M];else this.words[0]=0,this.length=1;var B=0;for(T=this.length-1;T>=0&&(B!==0||T>=w);T--){var I=0|this.words[T];this.words[T]=B<<26-S|I>>>S,B=I&U}return N&&B!==0&&(N.words[N.length++]=B),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},a.prototype.ishrn=function(v,y,C){return o(this.negative===0),this.iushrn(v,y,C)},a.prototype.shln=function(v){return this.clone().ishln(v)},a.prototype.ushln=function(v){return this.clone().iushln(v)},a.prototype.shrn=function(v){return this.clone().ishrn(v)},a.prototype.ushrn=function(v){return this.clone().iushrn(v)},a.prototype.testn=function(v){o(typeof v=="number"&&v>=0);var y=v%26,C=(v-y)/26,w=1<<y;return!(this.length<=C)&&!!(this.words[C]&w)},a.prototype.imaskn=function(v){o(typeof v=="number"&&v>=0);var y=v%26,C=(v-y)/26;if(o(this.negative===0,"imaskn works only with positive numbers"),this.length<=C)return this;if(y!==0&&C++,this.length=Math.min(C,this.length),y!==0){var w=67108863^67108863>>>y<<y;this.words[this.length-1]&=w}return this._strip()},a.prototype.maskn=function(v){return this.clone().imaskn(v)},a.prototype.iaddn=function(v){return o(typeof v=="number"),o(v<67108864),v<0?this.isubn(-v):this.negative!==0?this.length===1&&(0|this.words[0])<=v?(this.words[0]=v-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(v),this.negative=1,this):this._iaddn(v)},a.prototype._iaddn=function(v){this.words[0]+=v;for(var y=0;y<this.length&&this.words[y]>=67108864;y++)this.words[y]-=67108864,y===this.length-1?this.words[y+1]=1:this.words[y+1]++;return this.length=Math.max(this.length,y+1),this},a.prototype.isubn=function(v){if(o(typeof v=="number"),o(v<67108864),v<0)return this.iaddn(-v);if(this.negative!==0)return this.negative=0,this.iaddn(v),this.negative=1,this;if(this.words[0]-=v,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var y=0;y<this.length&&this.words[y]<0;y++)this.words[y]+=67108864,this.words[y+1]-=1;return this._strip()},a.prototype.addn=function(v){return this.clone().iaddn(v)},a.prototype.subn=function(v){return this.clone().isubn(v)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(v,y,C){var w,S,M=v.length+C;this._expand(M);var U=0;for(w=0;w<v.length;w++){S=(0|this.words[w+C])+U;var N=(0|v.words[w])*y;U=((S-=67108863&N)>>26)-(N/67108864|0),this.words[w+C]=67108863&S}for(;w<this.length-C;w++)U=(S=(0|this.words[w+C])+U)>>26,this.words[w+C]=67108863&S;if(U===0)return this._strip();for(o(U===-1),U=0,w=0;w<this.length;w++)U=(S=-(0|this.words[w])+U)>>26,this.words[w]=67108863&S;return this.negative=1,this._strip()},a.prototype._wordDiv=function(v,y){var C=(this.length,v.length),w=this.clone(),S=v,M=0|S.words[S.length-1];(C=26-this._countBits(M))!==0&&(S=S.ushln(C),w.iushln(C),M=0|S.words[S.length-1]);var U,N=w.length-S.length;if(y!=="mod"){(U=new a(null)).length=N+1,U.words=new Array(U.length);for(var T=0;T<U.length;T++)U.words[T]=0}var B=w.clone()._ishlnsubmul(S,1,N);B.negative===0&&(w=B,U&&(U.words[N]=1));for(var I=N-1;I>=0;I--){var $=67108864*(0|w.words[S.length+I])+(0|w.words[S.length+I-1]);for($=Math.min($/M|0,67108863),w._ishlnsubmul(S,$,I);w.negative!==0;)$--,w.negative=0,w._ishlnsubmul(S,1,I),w.isZero()||(w.negative^=1);U&&(U.words[I]=$)}return U&&U._strip(),w._strip(),y!=="div"&&C!==0&&w.iushrn(C),{div:U||null,mod:w}},a.prototype.divmod=function(v,y,C){return o(!v.isZero()),this.isZero()?{div:new a(0),mod:new a(0)}:this.negative!==0&&v.negative===0?(M=this.neg().divmod(v,y),y!=="mod"&&(w=M.div.neg()),y!=="div"&&(S=M.mod.neg(),C&&S.negative!==0&&S.iadd(v)),{div:w,mod:S}):this.negative===0&&v.negative!==0?(M=this.divmod(v.neg(),y),y!=="mod"&&(w=M.div.neg()),{div:w,mod:M.mod}):this.negative&v.negative?(M=this.neg().divmod(v.neg(),y),y!=="div"&&(S=M.mod.neg(),C&&S.negative!==0&&S.isub(v)),{div:M.div,mod:S}):v.length>this.length||this.cmp(v)<0?{div:new a(0),mod:this}:v.length===1?y==="div"?{div:this.divn(v.words[0]),mod:null}:y==="mod"?{div:null,mod:new a(this.modrn(v.words[0]))}:{div:this.divn(v.words[0]),mod:new a(this.modrn(v.words[0]))}:this._wordDiv(v,y);var w,S,M},a.prototype.div=function(v){return this.divmod(v,"div",!1).div},a.prototype.mod=function(v){return this.divmod(v,"mod",!1).mod},a.prototype.umod=function(v){return this.divmod(v,"mod",!0).mod},a.prototype.divRound=function(v){var y=this.divmod(v);if(y.mod.isZero())return y.div;var C=y.div.negative!==0?y.mod.isub(v):y.mod,w=v.ushrn(1),S=v.andln(1),M=C.cmp(w);return M<0||S===1&&M===0?y.div:y.div.negative!==0?y.div.isubn(1):y.div.iaddn(1)},a.prototype.modrn=function(v){var y=v<0;y&&(v=-v),o(v<=67108863);for(var C=(1<<26)%v,w=0,S=this.length-1;S>=0;S--)w=(C*w+(0|this.words[S]))%v;return y?-w:w},a.prototype.modn=function(v){return this.modrn(v)},a.prototype.idivn=function(v){var y=v<0;y&&(v=-v),o(v<=67108863);for(var C=0,w=this.length-1;w>=0;w--){var S=(0|this.words[w])+67108864*C;this.words[w]=S/v|0,C=S%v}return this._strip(),y?this.ineg():this},a.prototype.divn=function(v){return this.clone().idivn(v)},a.prototype.egcd=function(v){o(v.negative===0),o(!v.isZero());var y=this,C=v.clone();y=y.negative!==0?y.umod(v):y.clone();for(var w=new a(1),S=new a(0),M=new a(0),U=new a(1),N=0;y.isEven()&&C.isEven();)y.iushrn(1),C.iushrn(1),++N;for(var T=C.clone(),B=y.clone();!y.isZero();){for(var I=0,$=1;!(y.words[0]&$)&&I<26;++I,$<<=1);if(I>0)for(y.iushrn(I);I-- >0;)(w.isOdd()||S.isOdd())&&(w.iadd(T),S.isub(B)),w.iushrn(1),S.iushrn(1);for(var A=0,k=1;!(C.words[0]&k)&&A<26;++A,k<<=1);if(A>0)for(C.iushrn(A);A-- >0;)(M.isOdd()||U.isOdd())&&(M.iadd(T),U.isub(B)),M.iushrn(1),U.iushrn(1);y.cmp(C)>=0?(y.isub(C),w.isub(M),S.isub(U)):(C.isub(y),M.isub(w),U.isub(S))}return{a:M,b:U,gcd:C.iushln(N)}},a.prototype._invmp=function(v){o(v.negative===0),o(!v.isZero());var y=this,C=v.clone();y=y.negative!==0?y.umod(v):y.clone();for(var w,S=new a(1),M=new a(0),U=C.clone();y.cmpn(1)>0&&C.cmpn(1)>0;){for(var N=0,T=1;!(y.words[0]&T)&&N<26;++N,T<<=1);if(N>0)for(y.iushrn(N);N-- >0;)S.isOdd()&&S.iadd(U),S.iushrn(1);for(var B=0,I=1;!(C.words[0]&I)&&B<26;++B,I<<=1);if(B>0)for(C.iushrn(B);B-- >0;)M.isOdd()&&M.iadd(U),M.iushrn(1);y.cmp(C)>=0?(y.isub(C),S.isub(M)):(C.isub(y),M.isub(S))}return(w=y.cmpn(1)===0?S:M).cmpn(0)<0&&w.iadd(v),w},a.prototype.gcd=function(v){if(this.isZero())return v.abs();if(v.isZero())return this.abs();var y=this.clone(),C=v.clone();y.negative=0,C.negative=0;for(var w=0;y.isEven()&&C.isEven();w++)y.iushrn(1),C.iushrn(1);for(;;){for(;y.isEven();)y.iushrn(1);for(;C.isEven();)C.iushrn(1);var S=y.cmp(C);if(S<0){var M=y;y=C,C=M}else if(S===0||C.cmpn(1)===0)break;y.isub(C)}return C.iushln(w)},a.prototype.invm=function(v){return this.egcd(v).a.umod(v)},a.prototype.isEven=function(){return(1&this.words[0])==0},a.prototype.isOdd=function(){return(1&this.words[0])==1},a.prototype.andln=function(v){return this.words[0]&v},a.prototype.bincn=function(v){o(typeof v=="number");var y=v%26,C=(v-y)/26,w=1<<y;if(this.length<=C)return this._expand(C+1),this.words[C]|=w,this;for(var S=w,M=C;S!==0&&M<this.length;M++){var U=0|this.words[M];S=(U+=S)>>>26,U&=67108863,this.words[M]=U}return S!==0&&(this.words[M]=S,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(v){var y,C=v<0;if(this.negative!==0&&!C)return-1;if(this.negative===0&&C)return 1;if(this._strip(),this.length>1)y=1;else{C&&(v=-v),o(v<=67108863,"Number is too big");var w=0|this.words[0];y=w===v?0:w<v?-1:1}return this.negative!==0?0|-y:y},a.prototype.cmp=function(v){if(this.negative!==0&&v.negative===0)return-1;if(this.negative===0&&v.negative!==0)return 1;var y=this.ucmp(v);return this.negative!==0?0|-y:y},a.prototype.ucmp=function(v){if(this.length>v.length)return 1;if(this.length<v.length)return-1;for(var y=0,C=this.length-1;C>=0;C--){var w=0|this.words[C],S=0|v.words[C];if(w!==S){w<S?y=-1:w>S&&(y=1);break}}return y},a.prototype.gtn=function(v){return this.cmpn(v)===1},a.prototype.gt=function(v){return this.cmp(v)===1},a.prototype.gten=function(v){return this.cmpn(v)>=0},a.prototype.gte=function(v){return this.cmp(v)>=0},a.prototype.ltn=function(v){return this.cmpn(v)===-1},a.prototype.lt=function(v){return this.cmp(v)===-1},a.prototype.lten=function(v){return this.cmpn(v)<=0},a.prototype.lte=function(v){return this.cmp(v)<=0},a.prototype.eqn=function(v){return this.cmpn(v)===0},a.prototype.eq=function(v){return this.cmp(v)===0},a.red=function(v){return new R(v)},a.prototype.toRed=function(v){return o(!this.red,"Already a number in reduction context"),o(this.negative===0,"red works only with positives"),v.convertTo(this)._forceRed(v)},a.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(v){return this.red=v,this},a.prototype.forceRed=function(v){return o(!this.red,"Already a number in reduction context"),this._forceRed(v)},a.prototype.redAdd=function(v){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,v)},a.prototype.redIAdd=function(v){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,v)},a.prototype.redSub=function(v){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,v)},a.prototype.redISub=function(v){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,v)},a.prototype.redShl=function(v){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,v)},a.prototype.redMul=function(v){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,v),this.red.mul(this,v)},a.prototype.redIMul=function(v){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,v),this.red.imul(this,v)},a.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(v){return o(this.red&&!v.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,v)};var H={k256:null,p224:null,p192:null,p25519:null};function F(v,y){this.name=v,this.p=new a(y,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function L(){F.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function q(){F.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function W(){F.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function x(){F.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function R(v){if(typeof v=="string"){var y=a._prime(v);this.m=y.p,this.prime=y}else o(v.gtn(1),"modulus must be greater than 1"),this.m=v,this.prime=null}function j(v){R.call(this,v),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}F.prototype._tmp=function(){var v=new a(null);return v.words=new Array(Math.ceil(this.n/13)),v},F.prototype.ireduce=function(v){var y,C=v;do this.split(C,this.tmp),y=(C=(C=this.imulK(C)).iadd(this.tmp)).bitLength();while(y>this.n);var w=y<this.n?-1:C.ucmp(this.p);return w===0?(C.words[0]=0,C.length=1):w>0?C.isub(this.p):C.strip!==void 0?C.strip():C._strip(),C},F.prototype.split=function(v,y){v.iushrn(this.n,0,y)},F.prototype.imulK=function(v){return v.imul(this.k)},s(L,F),L.prototype.split=function(v,y){for(var C=Math.min(v.length,9),w=0;w<C;w++)y.words[w]=v.words[w];if(y.length=C,v.length<=9)return v.words[0]=0,void(v.length=1);var S=v.words[9];for(y.words[y.length++]=4194303&S,w=10;w<v.length;w++){var M=0|v.words[w];v.words[w-10]=(4194303&M)<<4|S>>>22,S=M}S>>>=22,v.words[w-10]=S,S===0&&v.length>10?v.length-=10:v.length-=9},L.prototype.imulK=function(v){v.words[v.length]=0,v.words[v.length+1]=0,v.length+=2;for(var y=0,C=0;C<v.length;C++){var w=0|v.words[C];y+=977*w,v.words[C]=67108863&y,y=64*w+(y/67108864|0)}return v.words[v.length-1]===0&&(v.length--,v.words[v.length-1]===0&&v.length--),v},s(q,F),s(W,F),s(x,F),x.prototype.imulK=function(v){for(var y=0,C=0;C<v.length;C++){var w=19*(0|v.words[C])+y,S=67108863&w;w>>>=26,v.words[C]=S,y=w}return y!==0&&(v.words[v.length++]=y),v},a._prime=function(v){if(H[v])return H[v];var y;if(v==="k256")y=new L;else if(v==="p224")y=new q;else if(v==="p192")y=new W;else{if(v!=="p25519")throw new Error("Unknown prime "+v);y=new x}return H[v]=y,y},R.prototype._verify1=function(v){o(v.negative===0,"red works only with positives"),o(v.red,"red works only with red numbers")},R.prototype._verify2=function(v,y){o((v.negative|y.negative)==0,"red works only with positives"),o(v.red&&v.red===y.red,"red works only with red numbers")},R.prototype.imod=function(v){return this.prime?this.prime.ireduce(v)._forceRed(this):(u(v,v.umod(this.m)._forceRed(this)),v)},R.prototype.neg=function(v){return v.isZero()?v.clone():this.m.sub(v)._forceRed(this)},R.prototype.add=function(v,y){this._verify2(v,y);var C=v.add(y);return C.cmp(this.m)>=0&&C.isub(this.m),C._forceRed(this)},R.prototype.iadd=function(v,y){this._verify2(v,y);var C=v.iadd(y);return C.cmp(this.m)>=0&&C.isub(this.m),C},R.prototype.sub=function(v,y){this._verify2(v,y);var C=v.sub(y);return C.cmpn(0)<0&&C.iadd(this.m),C._forceRed(this)},R.prototype.isub=function(v,y){this._verify2(v,y);var C=v.isub(y);return C.cmpn(0)<0&&C.iadd(this.m),C},R.prototype.shl=function(v,y){return this._verify1(v),this.imod(v.ushln(y))},R.prototype.imul=function(v,y){return this._verify2(v,y),this.imod(v.imul(y))},R.prototype.mul=function(v,y){return this._verify2(v,y),this.imod(v.mul(y))},R.prototype.isqr=function(v){return this.imul(v,v.clone())},R.prototype.sqr=function(v){return this.mul(v,v)},R.prototype.sqrt=function(v){if(v.isZero())return v.clone();var y=this.m.andln(3);if(o(y%2==1),y===3){var C=this.m.add(new a(1)).iushrn(2);return this.pow(v,C)}for(var w=this.m.subn(1),S=0;!w.isZero()&&w.andln(1)===0;)S++,w.iushrn(1);o(!w.isZero());var M=new a(1).toRed(this),U=M.redNeg(),N=this.m.subn(1).iushrn(1),T=this.m.bitLength();for(T=new a(2*T*T).toRed(this);this.pow(T,N).cmp(U)!==0;)T.redIAdd(U);for(var B=this.pow(T,w),I=this.pow(v,w.addn(1).iushrn(1)),$=this.pow(v,w),A=S;$.cmp(M)!==0;){for(var k=$,Y=0;k.cmp(M)!==0;Y++)k=k.redSqr();o(Y<A);var Z=this.pow(B,new a(1).iushln(A-Y-1));I=I.redMul(Z),B=Z.redSqr(),$=$.redMul(B),A=Y}return I},R.prototype.invm=function(v){var y=v._invmp(this.m);return y.negative!==0?(y.negative=0,this.imod(y).redNeg()):this.imod(y)},R.prototype.pow=function(v,y){if(y.isZero())return new a(1).toRed(this);if(y.cmpn(1)===0)return v.clone();var C=new Array(16);C[0]=new a(1).toRed(this),C[1]=v;for(var w=2;w<C.length;w++)C[w]=this.mul(C[w-1],v);var S=C[0],M=0,U=0,N=y.bitLength()%26;for(N===0&&(N=26),w=y.length-1;w>=0;w--){for(var T=y.words[w],B=N-1;B>=0;B--){var I=T>>B&1;S!==C[0]&&(S=this.sqr(S)),I!==0||M!==0?(M<<=1,M|=I,(++U===4||w===0&&B===0)&&(S=this.mul(S,C[M]),U=0,M=0)):U=0}N=26}return S},R.prototype.convertTo=function(v){var y=v.umod(this.m);return y===v?y.clone():y},R.prototype.convertFrom=function(v){var y=v.clone();return y.red=null,y},a.mont=function(v){return new j(v)},s(j,R),j.prototype.convertTo=function(v){return this.imod(v.ushln(this.shift))},j.prototype.convertFrom=function(v){var y=this.imod(v.mul(this.rinv));return y.red=null,y},j.prototype.imul=function(v,y){if(v.isZero()||y.isZero())return v.words[0]=0,v.length=1,v;var C=v.imul(y),w=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=C.isub(w).iushrn(this.shift),M=S;return S.cmp(this.m)>=0?M=S.isub(this.m):S.cmpn(0)<0&&(M=S.iadd(this.m)),M._forceRed(this)},j.prototype.mul=function(v,y){if(v.isZero()||y.isZero())return new a(0)._forceRed(this);var C=v.mul(y),w=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=C.isub(w).iushrn(this.shift),M=S;return S.cmp(this.m)>=0?M=S.isub(this.m):S.cmpn(0)<0&&(M=S.iadd(this.m)),M._forceRed(this)},j.prototype.invm=function(v){return this.imod(v._invmp(this.m).mul(this.r2))._forceRed(this)}})(t===void 0||t)},{buffer:188}],187:[function(e,t,r){"use strict";var i;function n(s){this.rand=s}if(t.exports=function(s){return i||(i=new n(null)),i.generate(s)},t.exports.Rand=n,n.prototype.generate=function(s){return this._rand(s)},n.prototype._rand=function(s){if(this.rand.getBytes)return this.rand.getBytes(s);for(var a=new Uint8Array(s),l=0;l<a.length;l++)a[l]=this.rand.getByte();return a},typeof self=="object")self.crypto&&self.crypto.getRandomValues?n.prototype._rand=function(s){var a=new Uint8Array(s);return self.crypto.getRandomValues(a),a}:self.msCrypto&&self.msCrypto.getRandomValues?n.prototype._rand=function(s){var a=new Uint8Array(s);return self.msCrypto.getRandomValues(a),a}:typeof window=="object"&&(n.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=e("crypto");if(typeof o.randomBytes!="function")throw new Error("Not supported");n.prototype._rand=function(s){return o.randomBytes(s)}}catch{}},{crypto:188}],188:[function(e,t,r){},{}],189:[function(e,t,r){"use strict";var i=e("safe-buffer").Buffer;function n(d){i.isBuffer(d)||(d=i.from(d));for(var h=d.length/4|0,u=new Array(h),f=0;f<h;f++)u[f]=d.readUInt32BE(4*f);return u}function o(d){for(;0<d.length;d++)d[0]=0}function s(d,h,u,f,m){for(var g,p,b,_,E=u[0],O=u[1],V=u[2],H=u[3],F=d[0]^h[0],L=d[1]^h[1],q=d[2]^h[2],W=d[3]^h[3],x=4,R=1;R<m;R++)g=E[F>>>24]^O[L>>>16&255]^V[q>>>8&255]^H[255&W]^h[x++],p=E[L>>>24]^O[q>>>16&255]^V[W>>>8&255]^H[255&F]^h[x++],b=E[q>>>24]^O[W>>>16&255]^V[F>>>8&255]^H[255&L]^h[x++],_=E[W>>>24]^O[F>>>16&255]^V[L>>>8&255]^H[255&q]^h[x++],F=g,L=p,q=b,W=_;return g=(f[F>>>24]<<24|f[L>>>16&255]<<16|f[q>>>8&255]<<8|f[255&W])^h[x++],p=(f[L>>>24]<<24|f[q>>>16&255]<<16|f[W>>>8&255]<<8|f[255&F])^h[x++],b=(f[q>>>24]<<24|f[W>>>16&255]<<16|f[F>>>8&255]<<8|f[255&L])^h[x++],_=(f[W>>>24]<<24|f[F>>>16&255]<<16|f[L>>>8&255]<<8|f[255&q])^h[x++],[g>>>=0,p>>>=0,b>>>=0,_>>>=0]}var a=[0,1,2,4,8,16,32,64,128,27,54],l=function(){for(var d=new Array(256),h=0;h<256;h++)d[h]=h<128?h<<1:h<<1^283;for(var u=[],f=[],m=[[],[],[],[]],g=[[],[],[],[]],p=0,b=0,_=0;_<256;++_){var E=b^b<<1^b<<2^b<<3^b<<4;E=E>>>8^255&E^99,u[p]=E,f[E]=p;var O=d[p],V=d[O],H=d[V],F=257*d[E]^16843008*E;m[0][p]=F<<24|F>>>8,m[1][p]=F<<16|F>>>16,m[2][p]=F<<8|F>>>24,m[3][p]=F,F=16843009*H^65537*V^257*O^16843008*p,g[0][E]=F<<24|F>>>8,g[1][E]=F<<16|F>>>16,g[2][E]=F<<8|F>>>24,g[3][E]=F,p===0?p=b=1:(p=O^d[d[d[H^O]]],b^=d[d[b]])}return{SBOX:u,INV_SBOX:f,SUB_MIX:m,INV_SUB_MIX:g}}();function c(d){this._key=n(d),this._reset()}c.blockSize=16,c.keySize=32,c.prototype.blockSize=c.blockSize,c.prototype.keySize=c.keySize,c.prototype._reset=function(){for(var d=this._key,h=d.length,u=h+6,f=4*(u+1),m=[],g=0;g<h;g++)m[g]=d[g];for(g=h;g<f;g++){var p=m[g-1];g%h==0?(p=p<<8|p>>>24,p=l.SBOX[p>>>24]<<24|l.SBOX[p>>>16&255]<<16|l.SBOX[p>>>8&255]<<8|l.SBOX[255&p],p^=a[g/h|0]<<24):h>6&&g%h==4&&(p=l.SBOX[p>>>24]<<24|l.SBOX[p>>>16&255]<<16|l.SBOX[p>>>8&255]<<8|l.SBOX[255&p]),m[g]=m[g-h]^p}for(var b=[],_=0;_<f;_++){var E=f-_,O=m[E-(_%4?0:4)];b[_]=_<4||E<=4?O:l.INV_SUB_MIX[0][l.SBOX[O>>>24]]^l.INV_SUB_MIX[1][l.SBOX[O>>>16&255]]^l.INV_SUB_MIX[2][l.SBOX[O>>>8&255]]^l.INV_SUB_MIX[3][l.SBOX[255&O]]}this._nRounds=u,this._keySchedule=m,this._invKeySchedule=b},c.prototype.encryptBlockRaw=function(d){return s(d=n(d),this._keySchedule,l.SUB_MIX,l.SBOX,this._nRounds)},c.prototype.encryptBlock=function(d){var h=this.encryptBlockRaw(d),u=i.allocUnsafe(16);return u.writeUInt32BE(h[0],0),u.writeUInt32BE(h[1],4),u.writeUInt32BE(h[2],8),u.writeUInt32BE(h[3],12),u},c.prototype.decryptBlock=function(d){var h=(d=n(d))[1];d[1]=d[3],d[3]=h;var u=s(d,this._invKeySchedule,l.INV_SUB_MIX,l.INV_SBOX,this._nRounds),f=i.allocUnsafe(16);return f.writeUInt32BE(u[0],0),f.writeUInt32BE(u[3],4),f.writeUInt32BE(u[2],8),f.writeUInt32BE(u[1],12),f},c.prototype.scrub=function(){o(this._keySchedule),o(this._invKeySchedule),o(this._key)},t.exports.AES=c},{"safe-buffer":494}],190:[function(e,t,r){"use strict";var i=e("./aes"),n=e("safe-buffer").Buffer,o=e("cipher-base"),s=e("inherits"),a=e("./ghash"),l=e("buffer-xor"),c=e("./incr32");function d(h,u,f,m){o.call(this);var g=n.alloc(4,0);this._cipher=new i.AES(u);var p=this._cipher.encryptBlock(g);this._ghash=new a(p),f=function(b,_,E){if(_.length===12)return b._finID=n.concat([_,n.from([0,0,0,1])]),n.concat([_,n.from([0,0,0,2])]);var O=new a(E),V=_.length,H=V%16;O.update(_),H&&(H=16-H,O.update(n.alloc(H,0))),O.update(n.alloc(8,0));var F=8*V,L=n.alloc(8);L.writeUIntBE(F,0,8),O.update(L),b._finID=O.state;var q=n.from(b._finID);return c(q),q}(this,f,p),this._prev=n.from(f),this._cache=n.allocUnsafe(0),this._secCache=n.allocUnsafe(0),this._decrypt=m,this._alen=0,this._len=0,this._mode=h,this._authTag=null,this._called=!1}s(d,o),d.prototype._update=function(h){if(!this._called&&this._alen){var u=16-this._alen%16;u<16&&(u=n.alloc(u,0),this._ghash.update(u))}this._called=!0;var f=this._mode.encrypt(this,h);return this._decrypt?this._ghash.update(h):this._ghash.update(f),this._len+=h.length,f},d.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var h=l(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(u,f){var m=0;u.length!==f.length&&m++;for(var g=Math.min(u.length,f.length),p=0;p<g;++p)m+=u[p]^f[p];return m}(h,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=h,this._cipher.scrub()},d.prototype.getAuthTag=function(){if(this._decrypt||!n.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},d.prototype.setAuthTag=function(h){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=h},d.prototype.setAAD=function(h){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(h),this._alen+=h.length},t.exports=d},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(e,t,r){"use strict";var i=e("./encrypter"),n=e("./decrypter"),o=e("./modes/list.json");r.createCipher=r.Cipher=i.createCipher,r.createCipheriv=r.Cipheriv=i.createCipheriv,r.createDecipher=r.Decipher=n.createDecipher,r.createDecipheriv=r.Decipheriv=n.createDecipheriv,r.listCiphers=r.getCiphers=function(){return Object.keys(o)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(e,t,r){"use strict";var i=e("./authCipher"),n=e("safe-buffer").Buffer,o=e("./modes"),s=e("./streamCipher"),a=e("cipher-base"),l=e("./aes"),c=e("evp_bytestokey");function d(f,m,g){a.call(this),this._cache=new h,this._last=void 0,this._cipher=new l.AES(m),this._prev=n.from(g),this._mode=f,this._autopadding=!0}function h(){this.cache=n.allocUnsafe(0)}function u(f,m,g){var p=o[f.toLowerCase()];if(!p)throw new TypeError("invalid suite type");if(typeof g=="string"&&(g=n.from(g)),p.mode!=="GCM"&&g.length!==p.iv)throw new TypeError("invalid iv length "+g.length);if(typeof m=="string"&&(m=n.from(m)),m.length!==p.key/8)throw new TypeError("invalid key length "+m.length);return p.type==="stream"?new s(p.module,m,g,!0):p.type==="auth"?new i(p.module,m,g,!0):new d(p.module,m,g)}e("inherits")(d,a),d.prototype._update=function(f){var m,g;this._cache.add(f);for(var p=[];m=this._cache.get(this._autopadding);)g=this._mode.decrypt(this,m),p.push(g);return n.concat(p)},d.prototype._final=function(){var f=this._cache.flush();if(this._autopadding)return function(m){var g=m[15];if(g<1||g>16)throw new Error("unable to decrypt data");for(var p=-1;++p<g;)if(m[p+(16-g)]!==g)throw new Error("unable to decrypt data");if(g!==16)return m.slice(0,16-g)}(this._mode.decrypt(this,f));if(f)throw new Error("data not multiple of block length")},d.prototype.setAutoPadding=function(f){return this._autopadding=!!f,this},h.prototype.add=function(f){this.cache=n.concat([this.cache,f])},h.prototype.get=function(f){var m;if(f){if(this.cache.length>16)return m=this.cache.slice(0,16),this.cache=this.cache.slice(16),m}else if(this.cache.length>=16)return m=this.cache.slice(0,16),this.cache=this.cache.slice(16),m;return null},h.prototype.flush=function(){if(this.cache.length)return this.cache},r.createDecipher=function(f,m){var g=o[f.toLowerCase()];if(!g)throw new TypeError("invalid suite type");var p=c(m,!1,g.key,g.iv);return u(f,p.key,p.iv)},r.createDecipheriv=u},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(e,t,r){"use strict";var i=e("./modes"),n=e("./authCipher"),o=e("safe-buffer").Buffer,s=e("./streamCipher"),a=e("cipher-base"),l=e("./aes"),c=e("evp_bytestokey");function d(m,g,p){a.call(this),this._cache=new u,this._cipher=new l.AES(g),this._prev=o.from(p),this._mode=m,this._autopadding=!0}e("inherits")(d,a),d.prototype._update=function(m){var g,p;this._cache.add(m);for(var b=[];g=this._cache.get();)p=this._mode.encrypt(this,g),b.push(p);return o.concat(b)};var h=o.alloc(16,16);function u(){this.cache=o.allocUnsafe(0)}function f(m,g,p){var b=i[m.toLowerCase()];if(!b)throw new TypeError("invalid suite type");if(typeof g=="string"&&(g=o.from(g)),g.length!==b.key/8)throw new TypeError("invalid key length "+g.length);if(typeof p=="string"&&(p=o.from(p)),b.mode!=="GCM"&&p.length!==b.iv)throw new TypeError("invalid iv length "+p.length);return b.type==="stream"?new s(b.module,g,p):b.type==="auth"?new n(b.module,g,p):new d(b.module,g,p)}d.prototype._final=function(){var m=this._cache.flush();if(this._autopadding)return m=this._mode.encrypt(this,m),this._cipher.scrub(),m;if(!m.equals(h))throw this._cipher.scrub(),new Error("data not multiple of block length")},d.prototype.setAutoPadding=function(m){return this._autopadding=!!m,this},u.prototype.add=function(m){this.cache=o.concat([this.cache,m])},u.prototype.get=function(){if(this.cache.length>15){var m=this.cache.slice(0,16);return this.cache=this.cache.slice(16),m}return null},u.prototype.flush=function(){for(var m=16-this.cache.length,g=o.allocUnsafe(m),p=-1;++p<m;)g.writeUInt8(m,p);return o.concat([this.cache,g])},r.createCipheriv=f,r.createCipher=function(m,g){var p=i[m.toLowerCase()];if(!p)throw new TypeError("invalid suite type");var b=c(g,!1,p.key,p.iv);return f(m,b.key,b.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(e,t,r){"use strict";var i=e("safe-buffer").Buffer,n=i.alloc(16,0);function o(a){var l=i.allocUnsafe(16);return l.writeUInt32BE(a[0]>>>0,0),l.writeUInt32BE(a[1]>>>0,4),l.writeUInt32BE(a[2]>>>0,8),l.writeUInt32BE(a[3]>>>0,12),l}function s(a){this.h=a,this.state=i.alloc(16,0),this.cache=i.allocUnsafe(0)}s.prototype.ghash=function(a){for(var l=-1;++l<a.length;)this.state[l]^=a[l];this._multiply()},s.prototype._multiply=function(){for(var a,l,c,d=[(a=this.h).readUInt32BE(0),a.readUInt32BE(4),a.readUInt32BE(8),a.readUInt32BE(12)],h=[0,0,0,0],u=-1;++u<128;){for(this.state[~~(u/8)]&1<<7-u%8&&(h[0]^=d[0],h[1]^=d[1],h[2]^=d[2],h[3]^=d[3]),c=(1&d[3])!=0,l=3;l>0;l--)d[l]=d[l]>>>1|(1&d[l-1])<<31;d[0]=d[0]>>>1,c&&(d[0]=d[0]^225<<24)}this.state=o(h)},s.prototype.update=function(a){var l;for(this.cache=i.concat([this.cache,a]);this.cache.length>=16;)l=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(l)},s.prototype.final=function(a,l){return this.cache.length&&this.ghash(i.concat([this.cache,n],16)),this.ghash(o([0,a,0,l])),this.state},t.exports=s},{"safe-buffer":494}],195:[function(e,t,r){"use strict";t.exports=function(i){for(var n,o=i.length;o--;){if((n=i.readUInt8(o))!==255){n++,i.writeUInt8(n,o);break}i.writeUInt8(0,o)}}},{}],196:[function(e,t,r){"use strict";var i=e("buffer-xor");r.encrypt=function(n,o){var s=i(o,n._prev);return n._prev=n._cipher.encryptBlock(s),n._prev},r.decrypt=function(n,o){var s=n._prev;n._prev=o;var a=n._cipher.decryptBlock(o);return i(a,s)}},{"buffer-xor":219}],197:[function(e,t,r){"use strict";var i=e("safe-buffer").Buffer,n=e("buffer-xor");function o(s,a,l){var c=a.length,d=n(a,s._cache);return s._cache=s._cache.slice(c),s._prev=i.concat([s._prev,l?a:d]),d}r.encrypt=function(s,a,l){for(var c,d=i.allocUnsafe(0);a.length;){if(s._cache.length===0&&(s._cache=s._cipher.encryptBlock(s._prev),s._prev=i.allocUnsafe(0)),!(s._cache.length<=a.length)){d=i.concat([d,o(s,a,l)]);break}c=s._cache.length,d=i.concat([d,o(s,a.slice(0,c),l)]),a=a.slice(c)}return d}},{"buffer-xor":219,"safe-buffer":494}],198:[function(e,t,r){"use strict";var i=e("safe-buffer").Buffer;function n(s,a,l){for(var c,d,h=-1,u=0;++h<8;)c=a&1<<7-h?128:0,u+=(128&(d=s._cipher.encryptBlock(s._prev)[0]^c))>>h%8,s._prev=o(s._prev,l?c:d);return u}function o(s,a){var l=s.length,c=-1,d=i.allocUnsafe(s.length);for(s=i.concat([s,i.from([a])]);++c<l;)d[c]=s[c]<<1|s[c+1]>>7;return d}r.encrypt=function(s,a,l){for(var c=a.length,d=i.allocUnsafe(c),h=-1;++h<c;)d[h]=n(s,a[h],l);return d}},{"safe-buffer":494}],199:[function(e,t,r){"use strict";var i=e("safe-buffer").Buffer;function n(o,s,a){var l=o._cipher.encryptBlock(o._prev)[0]^s;return o._prev=i.concat([o._prev.slice(1),i.from([a?s:l])]),l}r.encrypt=function(o,s,a){for(var l=s.length,c=i.allocUnsafe(l),d=-1;++d<l;)c[d]=n(o,s[d],a);return c}},{"safe-buffer":494}],200:[function(e,t,r){"use strict";var i=e("buffer-xor"),n=e("safe-buffer").Buffer,o=e("../incr32");function s(a){var l=a._cipher.encryptBlockRaw(a._prev);return o(a._prev),l}r.encrypt=function(a,l){var c=Math.ceil(l.length/16),d=a._cache.length;a._cache=n.concat([a._cache,n.allocUnsafe(16*c)]);for(var h=0;h<c;h++){var u=s(a),f=d+16*h;a._cache.writeUInt32BE(u[0],f+0),a._cache.writeUInt32BE(u[1],f+4),a._cache.writeUInt32BE(u[2],f+8),a._cache.writeUInt32BE(u[3],f+12)}var m=a._cache.slice(0,l.length);return a._cache=a._cache.slice(l.length),i(l,m)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(e,t,r){"use strict";r.encrypt=function(i,n){return i._cipher.encryptBlock(n)},r.decrypt=function(i,n){return i._cipher.decryptBlock(n)}},{}],202:[function(e,t,r){"use strict";var i={ECB:e("./ecb"),CBC:e("./cbc"),CFB:e("./cfb"),CFB8:e("./cfb8"),CFB1:e("./cfb1"),OFB:e("./ofb"),CTR:e("./ctr"),GCM:e("./ctr")},n=e("./list.json");for(var o in n)n[o].module=i[n[o].mode];t.exports=n},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(e,t,r){t.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(e,t,r){(function(i){(function(){"use strict";var n=e("buffer-xor");function o(s){return s._prev=s._cipher.encryptBlock(s._prev),s._prev}r.encrypt=function(s,a){for(;s._cache.length<a.length;)s._cache=i.concat([s._cache,o(s)]);var l=s._cache.slice(0,a.length);return s._cache=s._cache.slice(a.length),n(a,l)}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(e,t,r){"use strict";var i=e("./aes"),n=e("safe-buffer").Buffer,o=e("cipher-base");function s(a,l,c,d){o.call(this),this._cipher=new i.AES(l),this._prev=n.from(c),this._cache=n.allocUnsafe(0),this._secCache=n.allocUnsafe(0),this._decrypt=d,this._mode=a}e("inherits")(s,o),s.prototype._update=function(a){return this._mode.encrypt(this,a,this._decrypt)},s.prototype._final=function(){this._cipher.scrub()},t.exports=s},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(e,t,r){"use strict";var i=e("browserify-des"),n=e("browserify-aes/browser"),o=e("browserify-aes/modes"),s=e("browserify-des/modes"),a=e("evp_bytestokey");function l(d,h,u){if(d=d.toLowerCase(),o[d])return n.createCipheriv(d,h,u);if(s[d])return new i({key:h,iv:u,mode:d});throw new TypeError("invalid suite type")}function c(d,h,u){if(d=d.toLowerCase(),o[d])return n.createDecipheriv(d,h,u);if(s[d])return new i({key:h,iv:u,mode:d,decrypt:!0});throw new TypeError("invalid suite type")}r.createCipher=r.Cipher=function(d,h){var u,f;if(d=d.toLowerCase(),o[d])u=o[d].key,f=o[d].iv;else{if(!s[d])throw new TypeError("invalid suite type");u=8*s[d].key,f=s[d].iv}var m=a(h,!1,u,f);return l(d,m.key,m.iv)},r.createCipheriv=r.Cipheriv=l,r.createDecipher=r.Decipher=function(d,h){var u,f;if(d=d.toLowerCase(),o[d])u=o[d].key,f=o[d].iv;else{if(!s[d])throw new TypeError("invalid suite type");u=8*s[d].key,f=s[d].iv}var m=a(h,!1,u,f);return c(d,m.key,m.iv)},r.createDecipheriv=r.Decipheriv=c,r.listCiphers=r.getCiphers=function(){return Object.keys(s).concat(n.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(e,t,r){"use strict";var i=e("cipher-base"),n=e("des.js"),o=e("inherits"),s=e("safe-buffer").Buffer,a={"des-ede3-cbc":n.CBC.instantiate(n.EDE),"des-ede3":n.EDE,"des-ede-cbc":n.CBC.instantiate(n.EDE),"des-ede":n.EDE,"des-cbc":n.CBC.instantiate(n.DES),"des-ecb":n.DES};function l(c){i.call(this);var d,h=c.mode.toLowerCase(),u=a[h];d=c.decrypt?"decrypt":"encrypt";var f=c.key;s.isBuffer(f)||(f=s.from(f)),h!=="des-ede"&&h!=="des-ede-cbc"||(f=s.concat([f,f.slice(0,8)]));var m=c.iv;s.isBuffer(m)||(m=s.from(m)),this._des=u.create({key:f,iv:m,type:d})}a.des=a["des-cbc"],a.des3=a["des-ede3-cbc"],t.exports=l,o(l,i),l.prototype._update=function(c){return s.from(this._des.update(c))},l.prototype._final=function(){return s.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(e,t,r){"use strict";r["des-ecb"]={key:8,iv:0},r["des-cbc"]=r.des={key:8,iv:8},r["des-ede3-cbc"]=r.des3={key:24,iv:8},r["des-ede3"]={key:24,iv:0},r["des-ede-cbc"]={key:16,iv:8},r["des-ede"]={key:16,iv:0}},{}],209:[function(e,t,r){(function(i){(function(){"use strict";var n=e("bn.js"),o=e("randombytes");function s(l){var c,d=l.modulus.byteLength();do c=new n(o(d));while(c.cmp(l.modulus)>=0||!c.umod(l.prime1)||!c.umod(l.prime2));return c}function a(l,c){var d=function(V){var H=s(V);return{blinder:H.toRed(n.mont(V.modulus)).redPow(new n(V.publicExponent)).fromRed(),unblinder:H.invm(V.modulus)}}(c),h=c.modulus.byteLength(),u=new n(l).mul(d.blinder).umod(c.modulus),f=u.toRed(n.mont(c.prime1)),m=u.toRed(n.mont(c.prime2)),g=c.coefficient,p=c.prime1,b=c.prime2,_=f.redPow(c.exponent1).fromRed(),E=m.redPow(c.exponent2).fromRed(),O=_.isub(E).imul(g).umod(p).imul(b);return E.iadd(O).imul(d.unblinder).umod(c.modulus).toArrayLike(i,"be",h)}a.getr=s,t.exports=a}).call(this)}).call(this,e("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(e,t,r){"use strict";t.exports=e("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(e,t,r){t.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(e,t,r){t.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(e,t,r){"use strict";var i=e("safe-buffer").Buffer,n=e("create-hash"),o=e("readable-stream"),s=e("inherits"),a=e("./sign"),l=e("./verify"),c=e("./algorithms.json");function d(m){o.Writable.call(this);var g=c[m];if(!g)throw new Error("Unknown message digest");this._hashType=g.hash,this._hash=n(g.hash),this._tag=g.id,this._signType=g.sign}function h(m){o.Writable.call(this);var g=c[m];if(!g)throw new Error("Unknown message digest");this._hash=n(g.hash),this._tag=g.id,this._signType=g.sign}function u(m){return new d(m)}function f(m){return new h(m)}Object.keys(c).forEach(function(m){c[m].id=i.from(c[m].id,"hex"),c[m.toLowerCase()]=c[m]}),s(d,o.Writable),d.prototype._write=function(m,g,p){this._hash.update(m),p()},d.prototype.update=function(m,g){return typeof m=="string"&&(m=i.from(m,g)),this._hash.update(m),this},d.prototype.sign=function(m,g){this.end();var p=this._hash.digest(),b=a(p,m,this._hashType,this._signType,this._tag);return g?b.toString(g):b},s(h,o.Writable),h.prototype._write=function(m,g,p){this._hash.update(m),p()},h.prototype.update=function(m,g){return typeof m=="string"&&(m=i.from(m,g)),this._hash.update(m),this},h.prototype.verify=function(m,g,p){typeof g=="string"&&(g=i.from(g,p)),this.end();var b=this._hash.digest();return l(g,b,m,this._signType,this._tag)},t.exports={Sign:u,Verify:f,createSign:u,createVerify:f}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(e,t,r){"use strict";var i=e("safe-buffer").Buffer,n=e("create-hmac"),o=e("browserify-rsa"),s=e("elliptic").ec,a=e("bn.js"),l=e("parse-asn1"),c=e("./curves.json");function d(m,g,p,b){if((m=i.from(m.toArray())).length<g.byteLength()){var _=i.alloc(g.byteLength()-m.length);m=i.concat([_,m])}var E=p.length,O=function(F,L){F=(F=h(F,L)).mod(L);var q=i.from(F.toArray());if(q.length<L.byteLength()){var W=i.alloc(L.byteLength()-q.length);q=i.concat([W,q])}return q}(p,g),V=i.alloc(E);V.fill(1);var H=i.alloc(E);return H=n(b,H).update(V).update(i.from([0])).update(m).update(O).digest(),V=n(b,H).update(V).digest(),{k:H=n(b,H).update(V).update(i.from([1])).update(m).update(O).digest(),v:V=n(b,H).update(V).digest()}}function h(m,g){var p=new a(m),b=(m.length<<3)-g.bitLength();return b>0&&p.ishrn(b),p}function u(m,g,p){var b,_;do{for(b=i.alloc(0);8*b.length<m.bitLength();)g.v=n(p,g.k).update(g.v).digest(),b=i.concat([b,g.v]);_=h(b,m),g.k=n(p,g.k).update(g.v).update(i.from([0])).digest(),g.v=n(p,g.k).update(g.v).digest()}while(_.cmp(m)!==-1);return _}function f(m,g,p,b){return m.toRed(a.mont(p)).redPow(g).fromRed().mod(b)}t.exports=function(m,g,p,b,_){var E=l(g);if(E.curve){if(b!=="ecdsa"&&b!=="ecdsa/rsa")throw new Error("wrong private key type");return function(F,L){var q=c[L.curve.join(".")];if(!q)throw new Error("unknown curve "+L.curve.join("."));var W=new s(q).keyFromPrivate(L.privateKey).sign(F);return i.from(W.toDER())}(m,E)}if(E.type==="dsa"){if(b!=="dsa")throw new Error("wrong private key type");return function(F,L,q){for(var W,x=L.params.priv_key,R=L.params.p,j=L.params.q,v=L.params.g,y=new a(0),C=h(F,j).mod(j),w=!1,S=d(x,j,F,q);w===!1;)W=u(j,S,q),y=f(v,W,R,j),(w=W.invm(j).imul(C.add(x.mul(y))).mod(j)).cmpn(0)===0&&(w=!1,y=new a(0));return function(M,U){M=M.toArray(),U=U.toArray(),128&M[0]&&(M=[0].concat(M)),128&U[0]&&(U=[0].concat(U));var N=[48,M.length+U.length+4,2,M.length];return N=N.concat(M,[2,U.length],U),i.from(N)}(y,w)}(m,E,p)}if(b!=="rsa"&&b!=="ecdsa/rsa")throw new Error("wrong private key type");m=i.concat([_,m]);for(var O=E.modulus.byteLength(),V=[0,1];m.length+V.length+1<O;)V.push(255);V.push(0);for(var H=-1;++H<m.length;)V.push(m[H]);return o(V,E)},t.exports.getKey=d,t.exports.makeKey=u},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(e,t,r){"use strict";var i=e("safe-buffer").Buffer,n=e("bn.js"),o=e("elliptic").ec,s=e("parse-asn1"),a=e("./curves.json");function l(c,d){if(c.cmpn(0)<=0)throw new Error("invalid sig");if(c.cmp(d)>=d)throw new Error("invalid sig")}t.exports=function(c,d,h,u,f){var m=s(h);if(m.type==="ec"){if(u!=="ecdsa"&&u!=="ecdsa/rsa")throw new Error("wrong public key type");return function(V,H,F){var L=a[F.data.algorithm.curve.join(".")];if(!L)throw new Error("unknown curve "+F.data.algorithm.curve.join("."));var q=new o(L),W=F.data.subjectPrivateKey.data;return q.verify(H,V,W)}(c,d,m)}if(m.type==="dsa"){if(u!=="dsa")throw new Error("wrong public key type");return function(V,H,F){var L=F.data.p,q=F.data.q,W=F.data.g,x=F.data.pub_key,R=s.signature.decode(V,"der"),j=R.s,v=R.r;l(j,q),l(v,q);var y=n.mont(L),C=j.invm(q);return W.toRed(y).redPow(new n(H).mul(C).mod(q)).fromRed().mul(x.toRed(y).redPow(v.mul(C).mod(q)).fromRed()).mod(L).mod(q).cmp(v)===0}(c,d,m)}if(u!=="rsa"&&u!=="ecdsa/rsa")throw new Error("wrong public key type");d=i.concat([f,d]);for(var g=m.modulus.byteLength(),p=[1],b=0;d.length+p.length+2<g;)p.push(255),b++;p.push(0);for(var _=-1;++_<d.length;)p.push(d[_]);p=i.from(p);var E=n.mont(m.modulus);c=(c=new n(c).toRed(E)).redPow(new n(m.publicExponent)),c=i.from(c.fromRed().toArray());var O=b<8?1:0;for(g=Math.min(c.length,p.length),c.length!==p.length&&(O=1),_=-1;++_<g;)O|=c[_]^p[_];return O===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(e,t,r){},{}],217:[function(e,t,r){"use strict";var i=e("buffer"),n=i.Buffer;function o(a,l){for(var c in a)l[c]=a[c]}function s(a,l,c){return n(a,l,c)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=i:(o(i,r),r.Buffer=s),o(n,s),s.from=function(a,l,c){if(typeof a=="number")throw new TypeError("Argument must not be a number");return n(a,l,c)},s.alloc=function(a,l,c){if(typeof a!="number")throw new TypeError("Argument must be a number");var d=n(a);return l!==void 0?typeof c=="string"?d.fill(l,c):d.fill(l):d.fill(0),d},s.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return n(a)},s.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return i.SlowBuffer(a)}},{buffer:220}],218:[function(e,t,r){"use strict";var i=e("safe-buffer").Buffer,n=i.isEncoding||function(m){switch((m=""+m)&&m.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(m){var g;switch(this.encoding=function(p){var b=function(_){if(!_)return"utf8";for(var E;;)switch(_){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return _;default:if(E)return;_=(""+_).toLowerCase(),E=!0}}(p);if(typeof b!="string"&&(i.isEncoding===n||!n(p)))throw new Error("Unknown encoding: "+p);return b||p}(m),this.encoding){case"utf16le":this.text=l,this.end=c,g=4;break;case"utf8":this.fillLast=a,g=4;break;case"base64":this.text=d,this.end=h,g=3;break;default:return this.write=u,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(g)}function s(m){return m<=127?0:m>>5==6?2:m>>4==14?3:m>>3==30?4:m>>6==2?-1:-2}function a(m){var g=this.lastTotal-this.lastNeed,p=function(b,_,E){if((192&_[0])!=128)return b.lastNeed=0,"\uFFFD";if(b.lastNeed>1&&_.length>1){if((192&_[1])!=128)return b.lastNeed=1,"\uFFFD";if(b.lastNeed>2&&_.length>2&&(192&_[2])!=128)return b.lastNeed=2,"\uFFFD"}}(this,m);return p!==void 0?p:this.lastNeed<=m.length?(m.copy(this.lastChar,g,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(m.copy(this.lastChar,g,0,m.length),void(this.lastNeed-=m.length))}function l(m,g){if((m.length-g)%2==0){var p=m.toString("utf16le",g);if(p){var b=p.charCodeAt(p.length-1);if(b>=55296&&b<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1],p.slice(0,-1)}return p}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=m[m.length-1],m.toString("utf16le",g,m.length-1)}function c(m){var g=m&&m.length?this.write(m):"";if(this.lastNeed){var p=this.lastTotal-this.lastNeed;return g+this.lastChar.toString("utf16le",0,p)}return g}function d(m,g){var p=(m.length-g)%3;return p===0?m.toString("base64",g):(this.lastNeed=3-p,this.lastTotal=3,p===1?this.lastChar[0]=m[m.length-1]:(this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1]),m.toString("base64",g,m.length-p))}function h(m){var g=m&&m.length?this.write(m):"";return this.lastNeed?g+this.lastChar.toString("base64",0,3-this.lastNeed):g}function u(m){return m.toString(this.encoding)}function f(m){return m&&m.length?this.write(m):""}r.StringDecoder=o,o.prototype.write=function(m){if(m.length===0)return"";var g,p;if(this.lastNeed){if((g=this.fillLast(m))===void 0)return"";p=this.lastNeed,this.lastNeed=0}else p=0;return p<m.length?g?g+this.text(m,p):this.text(m,p):g||""},o.prototype.end=function(m){var g=m&&m.length?this.write(m):"";return this.lastNeed?g+"\uFFFD":g},o.prototype.text=function(m,g){var p=function(_,E,O){var V=E.length-1;if(V<O)return 0;var H=s(E[V]);return H>=0?(H>0&&(_.lastNeed=H-1),H):--V<O||H===-2?0:(H=s(E[V]))>=0?(H>0&&(_.lastNeed=H-2),H):--V<O||H===-2?0:(H=s(E[V]))>=0?(H>0&&(H===2?H=0:_.lastNeed=H-3),H):0}(this,m,g);if(!this.lastNeed)return m.toString("utf8",g);this.lastTotal=p;var b=m.length-(p-this.lastNeed);return m.copy(this.lastChar,0,b),m.toString("utf8",g,b)},o.prototype.fillLast=function(m){if(this.lastNeed<=m.length)return m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,m.length),this.lastNeed-=m.length}},{"safe-buffer":217}],219:[function(e,t,r){(function(i){(function(){"use strict";t.exports=function(n,o){for(var s=Math.min(n.length,o.length),a=new i(s),l=0;l<s;++l)a[l]=n[l]^o[l];return a}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220}],220:[function(e,t,r){(function(i){(function(){"use strict";var n=e("base64-js"),o=e("ieee754");r.Buffer=a,r.SlowBuffer=function(A){return+A!=A&&(A=0),a.alloc(+A)},r.INSPECT_MAX_BYTES=50;function s(A){if(A>2147483647)throw new RangeError('The value "'+A+'" is invalid for option "size"');var k=new Uint8Array(A);return k.__proto__=a.prototype,k}function a(A,k,Y){if(typeof A=="number"){if(typeof k=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(A)}return l(A,k,Y)}function l(A,k,Y){if(typeof A=="string")return function(tt,nt){if(typeof nt=="string"&&nt!==""||(nt="utf8"),!a.isEncoding(nt))throw new TypeError("Unknown encoding: "+nt);var Ct=0|f(tt,nt),xt=s(Ct),rt=xt.write(tt,nt);return rt!==Ct&&(xt=xt.slice(0,rt)),xt}(A,k);if(ArrayBuffer.isView(A))return h(A);if(A==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A);if(I(A,ArrayBuffer)||A&&I(A.buffer,ArrayBuffer))return function(tt,nt,Ct){if(nt<0||tt.byteLength<nt)throw new RangeError('"offset" is outside of buffer bounds');if(tt.byteLength<nt+(Ct||0))throw new RangeError('"length" is outside of buffer bounds');var xt;return xt=nt===void 0&&Ct===void 0?new Uint8Array(tt):Ct===void 0?new Uint8Array(tt,nt):new Uint8Array(tt,nt,Ct),xt.__proto__=a.prototype,xt}(A,k,Y);if(typeof A=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Z=A.valueOf&&A.valueOf();if(Z!=null&&Z!==A)return a.from(Z,k,Y);var ct=function(tt){if(a.isBuffer(tt)){var nt=0|u(tt.length),Ct=s(nt);return Ct.length===0||tt.copy(Ct,0,0,nt),Ct}if(tt.length!==void 0)return typeof tt.length!="number"||$(tt.length)?s(0):h(tt);if(tt.type==="Buffer"&&Array.isArray(tt.data))return h(tt.data)}(A);if(ct)return ct;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof A[Symbol.toPrimitive]=="function")return a.from(A[Symbol.toPrimitive]("string"),k,Y);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A)}function c(A){if(typeof A!="number")throw new TypeError('"size" argument must be of type number');if(A<0)throw new RangeError('The value "'+A+'" is invalid for option "size"')}function d(A){return c(A),s(A<0?0:0|u(A))}function h(A){for(var k=A.length<0?0:0|u(A.length),Y=s(k),Z=0;Z<k;Z+=1)Y[Z]=255&A[Z];return Y}function u(A){if(A>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|A}function f(A,k){if(a.isBuffer(A))return A.length;if(ArrayBuffer.isView(A)||I(A,ArrayBuffer))return A.byteLength;if(typeof A!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof A);var Y=A.length,Z=arguments.length>2&&arguments[2]===!0;if(!Z&&Y===0)return 0;for(var ct=!1;;)switch(k){case"ascii":case"latin1":case"binary":return Y;case"utf8":case"utf-8":return N(A).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Y;case"hex":return Y>>>1;case"base64":return T(A).length;default:if(ct)return Z?-1:N(A).length;k=(""+k).toLowerCase(),ct=!0}}function m(A,k,Y){var Z=!1;if((k===void 0||k<0)&&(k=0),k>this.length||((Y===void 0||Y>this.length)&&(Y=this.length),Y<=0)||(Y>>>=0)<=(k>>>=0))return"";for(A||(A="utf8");;)switch(A){case"hex":return R(this,k,Y);case"utf8":case"utf-8":return q(this,k,Y);case"ascii":return W(this,k,Y);case"latin1":case"binary":return x(this,k,Y);case"base64":return L(this,k,Y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,k,Y);default:if(Z)throw new TypeError("Unknown encoding: "+A);A=(A+"").toLowerCase(),Z=!0}}function g(A,k,Y){var Z=A[k];A[k]=A[Y],A[Y]=Z}function p(A,k,Y,Z,ct){if(A.length===0)return-1;if(typeof Y=="string"?(Z=Y,Y=0):Y>2147483647?Y=2147483647:Y<-2147483648&&(Y=-2147483648),$(Y=+Y)&&(Y=ct?0:A.length-1),Y<0&&(Y=A.length+Y),Y>=A.length){if(ct)return-1;Y=A.length-1}else if(Y<0){if(!ct)return-1;Y=0}if(typeof k=="string"&&(k=a.from(k,Z)),a.isBuffer(k))return k.length===0?-1:b(A,k,Y,Z,ct);if(typeof k=="number")return k&=255,typeof Uint8Array.prototype.indexOf=="function"?ct?Uint8Array.prototype.indexOf.call(A,k,Y):Uint8Array.prototype.lastIndexOf.call(A,k,Y):b(A,[k],Y,Z,ct);throw new TypeError("val must be string, number or Buffer")}function b(A,k,Y,Z,ct){var tt,nt=1,Ct=A.length,xt=k.length;if(Z!==void 0&&((Z=String(Z).toLowerCase())==="ucs2"||Z==="ucs-2"||Z==="utf16le"||Z==="utf-16le")){if(A.length<2||k.length<2)return-1;nt=2,Ct/=2,xt/=2,Y/=2}function rt(et,lt){return nt===1?et[lt]:et.readUInt16BE(lt*nt)}if(ct){var at=-1;for(tt=Y;tt<Ct;tt++)if(rt(A,tt)===rt(k,at===-1?0:tt-at)){if(at===-1&&(at=tt),tt-at+1===xt)return at*nt}else at!==-1&&(tt-=tt-at),at=-1}else for(Y+xt>Ct&&(Y=Ct-xt),tt=Y;tt>=0;tt--){for(var _t=!0,J=0;J<xt;J++)if(rt(A,tt+J)!==rt(k,J)){_t=!1;break}if(_t)return tt}return-1}function _(A,k,Y,Z){Y=Number(Y)||0;var ct=A.length-Y;Z?(Z=Number(Z))>ct&&(Z=ct):Z=ct;var tt=k.length;Z>tt/2&&(Z=tt/2);for(var nt=0;nt<Z;++nt){var Ct=parseInt(k.substr(2*nt,2),16);if($(Ct))return nt;A[Y+nt]=Ct}return nt}function E(A,k,Y,Z){return B(N(k,A.length-Y),A,Y,Z)}function O(A,k,Y,Z){return B(function(ct){for(var tt=[],nt=0;nt<ct.length;++nt)tt.push(255&ct.charCodeAt(nt));return tt}(k),A,Y,Z)}function V(A,k,Y,Z){return O(A,k,Y,Z)}function H(A,k,Y,Z){return B(T(k),A,Y,Z)}function F(A,k,Y,Z){return B(function(ct,tt){for(var nt,Ct,xt,rt=[],at=0;at<ct.length&&!((tt-=2)<0);++at)nt=ct.charCodeAt(at),Ct=nt>>8,xt=nt%256,rt.push(xt),rt.push(Ct);return rt}(k,A.length-Y),A,Y,Z)}function L(A,k,Y){return k===0&&Y===A.length?n.fromByteArray(A):n.fromByteArray(A.slice(k,Y))}function q(A,k,Y){Y=Math.min(A.length,Y);for(var Z=[],ct=k;ct<Y;){var tt,nt,Ct,xt,rt=A[ct],at=null,_t=rt>239?4:rt>223?3:rt>191?2:1;if(ct+_t<=Y)switch(_t){case 1:rt<128&&(at=rt);break;case 2:(192&(tt=A[ct+1]))==128&&(xt=(31&rt)<<6|63&tt)>127&&(at=xt);break;case 3:tt=A[ct+1],nt=A[ct+2],(192&tt)==128&&(192&nt)==128&&(xt=(15&rt)<<12|(63&tt)<<6|63&nt)>2047&&(xt<55296||xt>57343)&&(at=xt);break;case 4:tt=A[ct+1],nt=A[ct+2],Ct=A[ct+3],(192&tt)==128&&(192&nt)==128&&(192&Ct)==128&&(xt=(15&rt)<<18|(63&tt)<<12|(63&nt)<<6|63&Ct)>65535&&xt<1114112&&(at=xt)}at===null?(at=65533,_t=1):at>65535&&(at-=65536,Z.push(at>>>10&1023|55296),at=56320|1023&at),Z.push(at),ct+=_t}return function(J){var et=J.length;if(et<=4096)return String.fromCharCode.apply(String,J);for(var lt="",ut=0;ut<et;)lt+=String.fromCharCode.apply(String,J.slice(ut,ut+=4096));return lt}(Z)}r.kMaxLength=2147483647,a.TYPED_ARRAY_SUPPORT=function(){try{var A=new Uint8Array(1);return A.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},A.foo()===42}catch{return!1}}(),a.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),a.poolSize=8192,a.from=function(A,k,Y){return l(A,k,Y)},a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,a.alloc=function(A,k,Y){return function(Z,ct,tt){return c(Z),Z<=0?s(Z):ct!==void 0?typeof tt=="string"?s(Z).fill(ct,tt):s(Z).fill(ct):s(Z)}(A,k,Y)},a.allocUnsafe=function(A){return d(A)},a.allocUnsafeSlow=function(A){return d(A)},a.isBuffer=function(A){return A!=null&&A._isBuffer===!0&&A!==a.prototype},a.compare=function(A,k){if(I(A,Uint8Array)&&(A=a.from(A,A.offset,A.byteLength)),I(k,Uint8Array)&&(k=a.from(k,k.offset,k.byteLength)),!a.isBuffer(A)||!a.isBuffer(k))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(A===k)return 0;for(var Y=A.length,Z=k.length,ct=0,tt=Math.min(Y,Z);ct<tt;++ct)if(A[ct]!==k[ct]){Y=A[ct],Z=k[ct];break}return Y<Z?-1:Z<Y?1:0},a.isEncoding=function(A){switch(String(A).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(A,k){if(!Array.isArray(A))throw new TypeError('"list" argument must be an Array of Buffers');if(A.length===0)return a.alloc(0);var Y;if(k===void 0)for(k=0,Y=0;Y<A.length;++Y)k+=A[Y].length;var Z=a.allocUnsafe(k),ct=0;for(Y=0;Y<A.length;++Y){var tt=A[Y];if(I(tt,Uint8Array)&&(tt=a.from(tt)),!a.isBuffer(tt))throw new TypeError('"list" argument must be an Array of Buffers');tt.copy(Z,ct),ct+=tt.length}return Z},a.byteLength=f,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var A=this.length;if(A%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var k=0;k<A;k+=2)g(this,k,k+1);return this},a.prototype.swap32=function(){var A=this.length;if(A%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var k=0;k<A;k+=4)g(this,k,k+3),g(this,k+1,k+2);return this},a.prototype.swap64=function(){var A=this.length;if(A%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var k=0;k<A;k+=8)g(this,k,k+7),g(this,k+1,k+6),g(this,k+2,k+5),g(this,k+3,k+4);return this},a.prototype.toString=function(){var A=this.length;return A===0?"":arguments.length===0?q(this,0,A):m.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(A){if(!a.isBuffer(A))throw new TypeError("Argument must be a Buffer");return this===A||a.compare(this,A)===0},a.prototype.inspect=function(){var A="",k=r.INSPECT_MAX_BYTES;return A=this.toString("hex",0,k).replace(/(.{2})/g,"$1 ").trim(),this.length>k&&(A+=" ... "),"<Buffer "+A+">"},a.prototype.compare=function(A,k,Y,Z,ct){if(I(A,Uint8Array)&&(A=a.from(A,A.offset,A.byteLength)),!a.isBuffer(A))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof A);if(k===void 0&&(k=0),Y===void 0&&(Y=A?A.length:0),Z===void 0&&(Z=0),ct===void 0&&(ct=this.length),k<0||Y>A.length||Z<0||ct>this.length)throw new RangeError("out of range index");if(Z>=ct&&k>=Y)return 0;if(Z>=ct)return-1;if(k>=Y)return 1;if(this===A)return 0;for(var tt=(ct>>>=0)-(Z>>>=0),nt=(Y>>>=0)-(k>>>=0),Ct=Math.min(tt,nt),xt=this.slice(Z,ct),rt=A.slice(k,Y),at=0;at<Ct;++at)if(xt[at]!==rt[at]){tt=xt[at],nt=rt[at];break}return tt<nt?-1:nt<tt?1:0},a.prototype.includes=function(A,k,Y){return this.indexOf(A,k,Y)!==-1},a.prototype.indexOf=function(A,k,Y){return p(this,A,k,Y,!0)},a.prototype.lastIndexOf=function(A,k,Y){return p(this,A,k,Y,!1)},a.prototype.write=function(A,k,Y,Z){if(k===void 0)Z="utf8",Y=this.length,k=0;else if(Y===void 0&&typeof k=="string")Z=k,Y=this.length,k=0;else{if(!isFinite(k))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");k>>>=0,isFinite(Y)?(Y>>>=0,Z===void 0&&(Z="utf8")):(Z=Y,Y=void 0)}var ct=this.length-k;if((Y===void 0||Y>ct)&&(Y=ct),A.length>0&&(Y<0||k<0)||k>this.length)throw new RangeError("Attempt to write outside buffer bounds");Z||(Z="utf8");for(var tt=!1;;)switch(Z){case"hex":return _(this,A,k,Y);case"utf8":case"utf-8":return E(this,A,k,Y);case"ascii":return O(this,A,k,Y);case"latin1":case"binary":return V(this,A,k,Y);case"base64":return H(this,A,k,Y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,A,k,Y);default:if(tt)throw new TypeError("Unknown encoding: "+Z);Z=(""+Z).toLowerCase(),tt=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function W(A,k,Y){var Z="";Y=Math.min(A.length,Y);for(var ct=k;ct<Y;++ct)Z+=String.fromCharCode(127&A[ct]);return Z}function x(A,k,Y){var Z="";Y=Math.min(A.length,Y);for(var ct=k;ct<Y;++ct)Z+=String.fromCharCode(A[ct]);return Z}function R(A,k,Y){var Z=A.length;(!k||k<0)&&(k=0),(!Y||Y<0||Y>Z)&&(Y=Z);for(var ct="",tt=k;tt<Y;++tt)ct+=U(A[tt]);return ct}function j(A,k,Y){for(var Z=A.slice(k,Y),ct="",tt=0;tt<Z.length;tt+=2)ct+=String.fromCharCode(Z[tt]+256*Z[tt+1]);return ct}function v(A,k,Y){if(A%1!=0||A<0)throw new RangeError("offset is not uint");if(A+k>Y)throw new RangeError("Trying to access beyond buffer length")}function y(A,k,Y,Z,ct,tt){if(!a.isBuffer(A))throw new TypeError('"buffer" argument must be a Buffer instance');if(k>ct||k<tt)throw new RangeError('"value" argument is out of bounds');if(Y+Z>A.length)throw new RangeError("Index out of range")}function C(A,k,Y,Z,ct,tt){if(Y+Z>A.length)throw new RangeError("Index out of range");if(Y<0)throw new RangeError("Index out of range")}function w(A,k,Y,Z,ct){return k=+k,Y>>>=0,ct||C(A,0,Y,4),o.write(A,k,Y,Z,23,4),Y+4}function S(A,k,Y,Z,ct){return k=+k,Y>>>=0,ct||C(A,0,Y,8),o.write(A,k,Y,Z,52,8),Y+8}a.prototype.slice=function(A,k){var Y=this.length;(A=~~A)<0?(A+=Y)<0&&(A=0):A>Y&&(A=Y),(k=k===void 0?Y:~~k)<0?(k+=Y)<0&&(k=0):k>Y&&(k=Y),k<A&&(k=A);var Z=this.subarray(A,k);return Z.__proto__=a.prototype,Z},a.prototype.readUIntLE=function(A,k,Y){A>>>=0,k>>>=0,Y||v(A,k,this.length);for(var Z=this[A],ct=1,tt=0;++tt<k&&(ct*=256);)Z+=this[A+tt]*ct;return Z},a.prototype.readUIntBE=function(A,k,Y){A>>>=0,k>>>=0,Y||v(A,k,this.length);for(var Z=this[A+--k],ct=1;k>0&&(ct*=256);)Z+=this[A+--k]*ct;return Z},a.prototype.readUInt8=function(A,k){return A>>>=0,k||v(A,1,this.length),this[A]},a.prototype.readUInt16LE=function(A,k){return A>>>=0,k||v(A,2,this.length),this[A]|this[A+1]<<8},a.prototype.readUInt16BE=function(A,k){return A>>>=0,k||v(A,2,this.length),this[A]<<8|this[A+1]},a.prototype.readUInt32LE=function(A,k){return A>>>=0,k||v(A,4,this.length),(this[A]|this[A+1]<<8|this[A+2]<<16)+16777216*this[A+3]},a.prototype.readUInt32BE=function(A,k){return A>>>=0,k||v(A,4,this.length),16777216*this[A]+(this[A+1]<<16|this[A+2]<<8|this[A+3])},a.prototype.readIntLE=function(A,k,Y){A>>>=0,k>>>=0,Y||v(A,k,this.length);for(var Z=this[A],ct=1,tt=0;++tt<k&&(ct*=256);)Z+=this[A+tt]*ct;return Z>=(ct*=128)&&(Z-=Math.pow(2,8*k)),Z},a.prototype.readIntBE=function(A,k,Y){A>>>=0,k>>>=0,Y||v(A,k,this.length);for(var Z=k,ct=1,tt=this[A+--Z];Z>0&&(ct*=256);)tt+=this[A+--Z]*ct;return tt>=(ct*=128)&&(tt-=Math.pow(2,8*k)),tt},a.prototype.readInt8=function(A,k){return A>>>=0,k||v(A,1,this.length),128&this[A]?-1*(255-this[A]+1):this[A]},a.prototype.readInt16LE=function(A,k){A>>>=0,k||v(A,2,this.length);var Y=this[A]|this[A+1]<<8;return 32768&Y?4294901760|Y:Y},a.prototype.readInt16BE=function(A,k){A>>>=0,k||v(A,2,this.length);var Y=this[A+1]|this[A]<<8;return 32768&Y?4294901760|Y:Y},a.prototype.readInt32LE=function(A,k){return A>>>=0,k||v(A,4,this.length),this[A]|this[A+1]<<8|this[A+2]<<16|this[A+3]<<24},a.prototype.readInt32BE=function(A,k){return A>>>=0,k||v(A,4,this.length),this[A]<<24|this[A+1]<<16|this[A+2]<<8|this[A+3]},a.prototype.readFloatLE=function(A,k){return A>>>=0,k||v(A,4,this.length),o.read(this,A,!0,23,4)},a.prototype.readFloatBE=function(A,k){return A>>>=0,k||v(A,4,this.length),o.read(this,A,!1,23,4)},a.prototype.readDoubleLE=function(A,k){return A>>>=0,k||v(A,8,this.length),o.read(this,A,!0,52,8)},a.prototype.readDoubleBE=function(A,k){return A>>>=0,k||v(A,8,this.length),o.read(this,A,!1,52,8)},a.prototype.writeUIntLE=function(A,k,Y,Z){A=+A,k>>>=0,Y>>>=0,Z||y(this,A,k,Y,Math.pow(2,8*Y)-1,0);var ct=1,tt=0;for(this[k]=255&A;++tt<Y&&(ct*=256);)this[k+tt]=A/ct&255;return k+Y},a.prototype.writeUIntBE=function(A,k,Y,Z){A=+A,k>>>=0,Y>>>=0,Z||y(this,A,k,Y,Math.pow(2,8*Y)-1,0);var ct=Y-1,tt=1;for(this[k+ct]=255&A;--ct>=0&&(tt*=256);)this[k+ct]=A/tt&255;return k+Y},a.prototype.writeUInt8=function(A,k,Y){return A=+A,k>>>=0,Y||y(this,A,k,1,255,0),this[k]=255&A,k+1},a.prototype.writeUInt16LE=function(A,k,Y){return A=+A,k>>>=0,Y||y(this,A,k,2,65535,0),this[k]=255&A,this[k+1]=A>>>8,k+2},a.prototype.writeUInt16BE=function(A,k,Y){return A=+A,k>>>=0,Y||y(this,A,k,2,65535,0),this[k]=A>>>8,this[k+1]=255&A,k+2},a.prototype.writeUInt32LE=function(A,k,Y){return A=+A,k>>>=0,Y||y(this,A,k,4,4294967295,0),this[k+3]=A>>>24,this[k+2]=A>>>16,this[k+1]=A>>>8,this[k]=255&A,k+4},a.prototype.writeUInt32BE=function(A,k,Y){return A=+A,k>>>=0,Y||y(this,A,k,4,4294967295,0),this[k]=A>>>24,this[k+1]=A>>>16,this[k+2]=A>>>8,this[k+3]=255&A,k+4},a.prototype.writeIntLE=function(A,k,Y,Z){if(A=+A,k>>>=0,!Z){var ct=Math.pow(2,8*Y-1);y(this,A,k,Y,ct-1,-ct)}var tt=0,nt=1,Ct=0;for(this[k]=255&A;++tt<Y&&(nt*=256);)A<0&&Ct===0&&this[k+tt-1]!==0&&(Ct=1),this[k+tt]=(A/nt>>0)-Ct&255;return k+Y},a.prototype.writeIntBE=function(A,k,Y,Z){if(A=+A,k>>>=0,!Z){var ct=Math.pow(2,8*Y-1);y(this,A,k,Y,ct-1,-ct)}var tt=Y-1,nt=1,Ct=0;for(this[k+tt]=255&A;--tt>=0&&(nt*=256);)A<0&&Ct===0&&this[k+tt+1]!==0&&(Ct=1),this[k+tt]=(A/nt>>0)-Ct&255;return k+Y},a.prototype.writeInt8=function(A,k,Y){return A=+A,k>>>=0,Y||y(this,A,k,1,127,-128),A<0&&(A=255+A+1),this[k]=255&A,k+1},a.prototype.writeInt16LE=function(A,k,Y){return A=+A,k>>>=0,Y||y(this,A,k,2,32767,-32768),this[k]=255&A,this[k+1]=A>>>8,k+2},a.prototype.writeInt16BE=function(A,k,Y){return A=+A,k>>>=0,Y||y(this,A,k,2,32767,-32768),this[k]=A>>>8,this[k+1]=255&A,k+2},a.prototype.writeInt32LE=function(A,k,Y){return A=+A,k>>>=0,Y||y(this,A,k,4,2147483647,-2147483648),this[k]=255&A,this[k+1]=A>>>8,this[k+2]=A>>>16,this[k+3]=A>>>24,k+4},a.prototype.writeInt32BE=function(A,k,Y){return A=+A,k>>>=0,Y||y(this,A,k,4,2147483647,-2147483648),A<0&&(A=4294967295+A+1),this[k]=A>>>24,this[k+1]=A>>>16,this[k+2]=A>>>8,this[k+3]=255&A,k+4},a.prototype.writeFloatLE=function(A,k,Y){return w(this,A,k,!0,Y)},a.prototype.writeFloatBE=function(A,k,Y){return w(this,A,k,!1,Y)},a.prototype.writeDoubleLE=function(A,k,Y){return S(this,A,k,!0,Y)},a.prototype.writeDoubleBE=function(A,k,Y){return S(this,A,k,!1,Y)},a.prototype.copy=function(A,k,Y,Z){if(!a.isBuffer(A))throw new TypeError("argument should be a Buffer");if(Y||(Y=0),Z||Z===0||(Z=this.length),k>=A.length&&(k=A.length),k||(k=0),Z>0&&Z<Y&&(Z=Y),Z===Y||A.length===0||this.length===0)return 0;if(k<0)throw new RangeError("targetStart out of bounds");if(Y<0||Y>=this.length)throw new RangeError("Index out of range");if(Z<0)throw new RangeError("sourceEnd out of bounds");Z>this.length&&(Z=this.length),A.length-k<Z-Y&&(Z=A.length-k+Y);var ct=Z-Y;if(this===A&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(k,Y,Z);else if(this===A&&Y<k&&k<Z)for(var tt=ct-1;tt>=0;--tt)A[tt+k]=this[tt+Y];else Uint8Array.prototype.set.call(A,this.subarray(Y,Z),k);return ct},a.prototype.fill=function(A,k,Y,Z){if(typeof A=="string"){if(typeof k=="string"?(Z=k,k=0,Y=this.length):typeof Y=="string"&&(Z=Y,Y=this.length),Z!==void 0&&typeof Z!="string")throw new TypeError("encoding must be a string");if(typeof Z=="string"&&!a.isEncoding(Z))throw new TypeError("Unknown encoding: "+Z);if(A.length===1){var ct=A.charCodeAt(0);(Z==="utf8"&&ct<128||Z==="latin1")&&(A=ct)}}else typeof A=="number"&&(A&=255);if(k<0||this.length<k||this.length<Y)throw new RangeError("Out of range index");if(Y<=k)return this;var tt;if(k>>>=0,Y=Y===void 0?this.length:Y>>>0,A||(A=0),typeof A=="number")for(tt=k;tt<Y;++tt)this[tt]=A;else{var nt=a.isBuffer(A)?A:a.from(A,Z),Ct=nt.length;if(Ct===0)throw new TypeError('The value "'+A+'" is invalid for argument "value"');for(tt=0;tt<Y-k;++tt)this[tt+k]=nt[tt%Ct]}return this};var M=/[^+/0-9A-Za-z-_]/g;function U(A){return A<16?"0"+A.toString(16):A.toString(16)}function N(A,k){var Y;k=k||1/0;for(var Z=A.length,ct=null,tt=[],nt=0;nt<Z;++nt){if((Y=A.charCodeAt(nt))>55295&&Y<57344){if(!ct){if(Y>56319){(k-=3)>-1&&tt.push(239,191,189);continue}if(nt+1===Z){(k-=3)>-1&&tt.push(239,191,189);continue}ct=Y;continue}if(Y<56320){(k-=3)>-1&&tt.push(239,191,189),ct=Y;continue}Y=65536+(ct-55296<<10|Y-56320)}else ct&&(k-=3)>-1&&tt.push(239,191,189);if(ct=null,Y<128){if((k-=1)<0)break;tt.push(Y)}else if(Y<2048){if((k-=2)<0)break;tt.push(Y>>6|192,63&Y|128)}else if(Y<65536){if((k-=3)<0)break;tt.push(Y>>12|224,Y>>6&63|128,63&Y|128)}else{if(!(Y<1114112))throw new Error("Invalid code point");if((k-=4)<0)break;tt.push(Y>>18|240,Y>>12&63|128,Y>>6&63|128,63&Y|128)}}return tt}function T(A){return n.toByteArray(function(k){if((k=(k=k.split("=")[0]).trim().replace(M,"")).length<2)return"";for(;k.length%4!=0;)k+="=";return k}(A))}function B(A,k,Y,Z){for(var ct=0;ct<Z&&!(ct+Y>=k.length||ct>=A.length);++ct)k[ct+Y]=A[ct];return ct}function I(A,k){return A instanceof k||A!=null&&A.constructor!=null&&A.constructor.name!=null&&A.constructor.name===k.name}function $(A){return A!=A}}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(e,t,r){"use strict";var i=e("safe-buffer").Buffer,n=e("stream").Transform,o=e("string_decoder").StringDecoder;function s(a){n.call(this),this.hashMode=typeof a=="string",this.hashMode?this[a]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}e("inherits")(s,n),s.prototype.update=function(a,l,c){typeof a=="string"&&(a=i.from(a,l));var d=this._update(a);return this.hashMode?this:(c&&(d=this._toString(d,c)),d)},s.prototype.setAutoPadding=function(){},s.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},s.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},s.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},s.prototype._transform=function(a,l,c){var d;try{this.hashMode?this._update(a):this.push(this._update(a))}catch(h){d=h}finally{c(d)}},s.prototype._flush=function(a){var l;try{this.push(this.__final())}catch(c){l=c}a(l)},s.prototype._finalOrDigest=function(a){var l=this.__final()||i.alloc(0);return a&&(l=this._toString(l,a,!0)),l},s.prototype._toString=function(a,l,c){if(this._decoder||(this._decoder=new o(l),this._encoding=l),this._encoding!==l)throw new Error("can't switch encodings");var d=this._decoder.write(a);return c&&(d+=this._decoder.end()),d},t.exports=s},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(e,t,r){"use strict";var i=e("../internals/is-callable"),n=e("../internals/try-to-string"),o=TypeError;t.exports=function(s){if(i(s))return s;throw new o(n(s)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(e,t,r){"use strict";var i=e("../internals/is-constructor"),n=e("../internals/try-to-string"),o=TypeError;t.exports=function(s){if(i(s))return s;throw new o(n(s)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(e,t,r){"use strict";var i=e("../internals/is-callable"),n=String,o=TypeError;t.exports=function(s){if(typeof s=="object"||i(s))return s;throw new o("Can't set "+n(s)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(e,t,r){"use strict";var i=e("../internals/well-known-symbol"),n=e("../internals/object-create"),o=e("../internals/object-define-property").f,s=i("unscopables"),a=Array.prototype;a[s]===void 0&&o(a,s,{configurable:!0,value:n(null)}),t.exports=function(l){a[s][l]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(e,t,r){"use strict";var i=e("../internals/object-is-prototype-of"),n=TypeError;t.exports=function(o,s){if(i(s,o))return o;throw new n("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(e,t,r){"use strict";var i=e("../internals/is-object"),n=String,o=TypeError;t.exports=function(s){if(i(s))return s;throw new o(n(s)+" is not an object")}},{"../internals/is-object":289}],228:[function(e,t,r){"use strict";var i=e("../internals/to-indexed-object"),n=e("../internals/to-absolute-index"),o=e("../internals/length-of-array-like"),s=function(a){return function(l,c,d){var h,u=i(l),f=o(u),m=n(d,f);if(a&&c!=c){for(;f>m;)if((h=u[m++])!=h)return!0}else for(;f>m;m++)if((a||m in u)&&u[m]===c)return a||m||0;return!a&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(e,t,r){"use strict";var i=e("../internals/function-bind-context"),n=e("../internals/function-uncurry-this"),o=e("../internals/indexed-object"),s=e("../internals/to-object"),a=e("../internals/length-of-array-like"),l=e("../internals/array-species-create"),c=n([].push),d=function(h){var u=h===1,f=h===2,m=h===3,g=h===4,p=h===6,b=h===7,_=h===5||p;return function(E,O,V,H){for(var F,L,q=s(E),W=o(q),x=i(O,V),R=a(W),j=0,v=H||l,y=u?v(E,R):f||b?v(E,0):void 0;R>j;j++)if((_||j in W)&&(L=x(F=W[j],j,q),h))if(u)y[j]=L;else if(L)switch(h){case 3:return!0;case 5:return F;case 6:return j;case 2:c(y,F)}else switch(h){case 4:return!1;case 7:c(y,F)}return p?-1:m||g?g:y}};t.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6),filterReject:d(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(e,t,r){"use strict";var i=e("../internals/to-absolute-index"),n=e("../internals/length-of-array-like"),o=e("../internals/create-property"),s=Array,a=Math.max;t.exports=function(l,c,d){for(var h=n(l),u=i(c,h),f=i(d===void 0?h:d,h),m=s(a(f-u,0)),g=0;u<f;u++,g++)o(m,g,l[u]);return m.length=g,m}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(e,t,r){"use strict";var i=e("../internals/function-uncurry-this");t.exports=i([].slice)},{"../internals/function-uncurry-this":268}],232:[function(e,t,r){"use strict";var i=e("../internals/is-array"),n=e("../internals/is-constructor"),o=e("../internals/is-object"),s=e("../internals/well-known-symbol")("species"),a=Array;t.exports=function(l){var c;return i(l)&&(c=l.constructor,(n(c)&&(c===a||i(c.prototype))||o(c)&&(c=c[s])===null)&&(c=void 0)),c===void 0?a:c}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(e,t,r){"use strict";var i=e("../internals/array-species-constructor");t.exports=function(n,o){return new(i(n))(o===0?0:o)}},{"../internals/array-species-constructor":232}],234:[function(e,t,r){"use strict";var i=e("../internals/well-known-symbol")("iterator"),n=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){n=!0}};s[i]=function(){return this},Array.from(s,function(){throw 2})}catch{}t.exports=function(a,l){try{if(!l&&!n)return!1}catch{return!1}var c=!1;try{var d={};d[i]=function(){return{next:function(){return{done:c=!0}}}},a(d)}catch{}return c}},{"../internals/well-known-symbol":357}],235:[function(e,t,r){"use strict";var i=e("../internals/function-uncurry-this"),n=i({}.toString),o=i("".slice);t.exports=function(s){return o(n(s),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(e,t,r){"use strict";var i=e("../internals/to-string-tag-support"),n=e("../internals/is-callable"),o=e("../internals/classof-raw"),s=e("../internals/well-known-symbol")("toStringTag"),a=Object,l=o(function(){return arguments}())==="Arguments";t.exports=i?o:function(c){var d,h,u;return c===void 0?"Undefined":c===null?"Null":typeof(h=function(f,m){try{return f[m]}catch{}}(d=a(c),s))=="string"?h:l?o(d):(u=o(d))==="Object"&&n(d.callee)?"Arguments":u}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(e,t,r){"use strict";var i=e("../internals/has-own-property"),n=e("../internals/own-keys"),o=e("../internals/object-get-own-property-descriptor"),s=e("../internals/object-define-property");t.exports=function(a,l,c){for(var d=n(l),h=s.f,u=o.f,f=0;f<d.length;f++){var m=d[f];i(a,m)||c&&i(c,m)||h(a,m,u(l,m))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(e,t,r){"use strict";var i=e("../internals/well-known-symbol")("match");t.exports=function(n){var o=/./;try{"/./"[n](o)}catch{try{return o[i]=!1,"/./"[n](o)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(e,t,r){"use strict";var i=e("../internals/fails");t.exports=!i(function(){function n(){}return n.prototype.constructor=null,Object.getPrototypeOf(new n)!==n.prototype})},{"../internals/fails":260}],240:[function(e,t,r){"use strict";t.exports=function(i,n){return{value:i,done:n}}},{}],241:[function(e,t,r){"use strict";var i=e("../internals/descriptors"),n=e("../internals/object-define-property"),o=e("../internals/create-property-descriptor");t.exports=i?function(s,a,l){return n.f(s,a,o(1,l))}:function(s,a,l){return s[a]=l,s}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(e,t,r){"use strict";t.exports=function(i,n){return{enumerable:!(1&i),configurable:!(2&i),writable:!(4&i),value:n}}},{}],243:[function(e,t,r){"use strict";var i=e("../internals/to-property-key"),n=e("../internals/object-define-property"),o=e("../internals/create-property-descriptor");t.exports=function(s,a,l){var c=i(a);c in s?n.f(s,c,o(0,l)):s[c]=l}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(e,t,r){"use strict";var i=e("../internals/make-built-in"),n=e("../internals/object-define-property");t.exports=function(o,s,a){return a.get&&i(a.get,s,{getter:!0}),a.set&&i(a.set,s,{setter:!0}),n.f(o,s,a)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(e,t,r){"use strict";var i=e("../internals/is-callable"),n=e("../internals/object-define-property"),o=e("../internals/make-built-in"),s=e("../internals/define-global-property");t.exports=function(a,l,c,d){d||(d={});var h=d.enumerable,u=d.name!==void 0?d.name:l;if(i(c)&&o(c,u,d),d.global)h?a[l]=c:s(l,c);else{try{d.unsafe?a[l]&&(h=!0):delete a[l]}catch{}h?a[l]=c:n.f(a,l,{value:c,enumerable:!1,configurable:!d.nonConfigurable,writable:!d.nonWritable})}return a}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(e,t,r){"use strict";var i=e("../internals/global"),n=Object.defineProperty;t.exports=function(o,s){try{n(i,o,{value:s,configurable:!0,writable:!0})}catch{i[o]=s}return s}},{"../internals/global":274}],247:[function(e,t,r){"use strict";var i=e("../internals/fails");t.exports=!i(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},{"../internals/fails":260}],248:[function(e,t,r){"use strict";var i=typeof document=="object"&&document.all,n=i===void 0&&i!==void 0;t.exports={all:i,IS_HTMLDDA:n}},{}],249:[function(e,t,r){"use strict";var i=e("../internals/global"),n=e("../internals/is-object"),o=i.document,s=n(o)&&n(o.createElement);t.exports=function(a){return s?o.createElement(a):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(e,t,r){"use strict";var i=e("../internals/engine-is-deno"),n=e("../internals/engine-is-node");t.exports=!i&&!n&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(e,t,r){"use strict";t.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(e,t,r){"use strict";var i=e("../internals/engine-user-agent");t.exports=/ipad|iphone|ipod/i.test(i)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(e,t,r){"use strict";var i=e("../internals/engine-user-agent");t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(i)},{"../internals/engine-user-agent":256}],254:[function(e,t,r){"use strict";var i=e("../internals/global"),n=e("../internals/classof-raw");t.exports=n(i.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(e,t,r){"use strict";var i=e("../internals/engine-user-agent");t.exports=/web0s(?!.*chrome)/i.test(i)},{"../internals/engine-user-agent":256}],256:[function(e,t,r){"use strict";t.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(e,t,r){"use strict";var i,n,o=e("../internals/global"),s=e("../internals/engine-user-agent"),a=o.process,l=o.Deno,c=a&&a.versions||l&&l.version,d=c&&c.v8;d&&(n=(i=d.split("."))[0]>0&&i[0]<4?1:+(i[0]+i[1])),!n&&s&&(!(i=s.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=s.match(/Chrome\/(\d+)/))&&(n=+i[1]),t.exports=n},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(e,t,r){"use strict";t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(e,t,r){"use strict";var i=e("../internals/global"),n=e("../internals/object-get-own-property-descriptor").f,o=e("../internals/create-non-enumerable-property"),s=e("../internals/define-built-in"),a=e("../internals/define-global-property"),l=e("../internals/copy-constructor-properties"),c=e("../internals/is-forced");t.exports=function(d,h){var u,f,m,g,p,b=d.target,_=d.global,E=d.stat;if(u=_?i:E?i[b]||a(b,{}):(i[b]||{}).prototype)for(f in h){if(g=h[f],m=d.dontCallGetSet?(p=n(u,f))&&p.value:u[f],!c(_?f:b+(E?".":"#")+f,d.forced)&&m!==void 0){if(typeof g==typeof m)continue;l(g,m)}(d.sham||m&&m.sham)&&o(g,"sham",!0),s(u,f,g,d)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(e,t,r){"use strict";t.exports=function(i){try{return!!i()}catch{return!0}}},{}],261:[function(e,t,r){"use strict";var i=e("../internals/function-bind-native"),n=Function.prototype,o=n.apply,s=n.call;t.exports=typeof Reflect=="object"&&Reflect.apply||(i?s.bind(o):function(){return s.apply(o,arguments)})},{"../internals/function-bind-native":263}],262:[function(e,t,r){"use strict";var i=e("../internals/function-uncurry-this-clause"),n=e("../internals/a-callable"),o=e("../internals/function-bind-native"),s=i(i.bind);t.exports=function(a,l){return n(a),l===void 0?a:o?s(a,l):function(){return a.apply(l,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(e,t,r){"use strict";var i=e("../internals/fails");t.exports=!i(function(){var n=(function(){}).bind();return typeof n!="function"||n.hasOwnProperty("prototype")})},{"../internals/fails":260}],264:[function(e,t,r){"use strict";var i=e("../internals/function-bind-native"),n=Function.prototype.call;t.exports=i?n.bind(n):function(){return n.apply(n,arguments)}},{"../internals/function-bind-native":263}],265:[function(e,t,r){"use strict";var i=e("../internals/descriptors"),n=e("../internals/has-own-property"),o=Function.prototype,s=i&&Object.getOwnPropertyDescriptor,a=n(o,"name"),l=a&&(function(){}).name==="something",c=a&&(!i||i&&s(o,"name").configurable);t.exports={EXISTS:a,PROPER:l,CONFIGURABLE:c}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(e,t,r){"use strict";var i=e("../internals/function-uncurry-this"),n=e("../internals/a-callable");t.exports=function(o,s,a){try{return i(n(Object.getOwnPropertyDescriptor(o,s)[a]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(e,t,r){"use strict";var i=e("../internals/classof-raw"),n=e("../internals/function-uncurry-this");t.exports=function(o){if(i(o)==="Function")return n(o)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(e,t,r){"use strict";var i=e("../internals/function-bind-native"),n=Function.prototype,o=n.call,s=i&&n.bind.bind(o,o);t.exports=i?s:function(a){return function(){return o.apply(a,arguments)}}},{"../internals/function-bind-native":263}],269:[function(e,t,r){"use strict";var i=e("../internals/global"),n=e("../internals/is-callable"),o=function(s){return n(s)?s:void 0};t.exports=function(s,a){return arguments.length<2?o(i[s]):i[s]&&i[s][a]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(e,t,r){"use strict";var i=e("../internals/classof"),n=e("../internals/get-method"),o=e("../internals/is-null-or-undefined"),s=e("../internals/iterators"),a=e("../internals/well-known-symbol")("iterator");t.exports=function(l){if(!o(l))return n(l,a)||n(l,"@@iterator")||s[i(l)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(e,t,r){"use strict";var i=e("../internals/function-call"),n=e("../internals/a-callable"),o=e("../internals/an-object"),s=e("../internals/try-to-string"),a=e("../internals/get-iterator-method"),l=TypeError;t.exports=function(c,d){var h=arguments.length<2?a(c):d;if(n(h))return o(i(h,c));throw new l(s(c)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(e,t,r){"use strict";var i=e("../internals/function-uncurry-this"),n=e("../internals/is-array"),o=e("../internals/is-callable"),s=e("../internals/classof-raw"),a=e("../internals/to-string"),l=i([].push);t.exports=function(c){if(o(c))return c;if(n(c)){for(var d=c.length,h=[],u=0;u<d;u++){var f=c[u];typeof f=="string"?l(h,f):typeof f!="number"&&s(f)!=="Number"&&s(f)!=="String"||l(h,a(f))}var m=h.length,g=!0;return function(p,b){if(g)return g=!1,b;if(n(this))return b;for(var _=0;_<m;_++)if(h[_]===p)return b}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(e,t,r){"use strict";var i=e("../internals/a-callable"),n=e("../internals/is-null-or-undefined");t.exports=function(o,s){var a=o[s];return n(a)?void 0:i(a)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(e,t,r){(function(i){(function(){"use strict";var n=function(o){return o&&o.Math===Math&&o};t.exports=n(typeof globalThis=="object"&&globalThis)||n(typeof window=="object"&&window)||n(typeof self=="object"&&self)||n(typeof i=="object"&&i)||function(){return this}()||this||Function("return this")()}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(e,t,r){"use strict";var i=e("../internals/function-uncurry-this"),n=e("../internals/to-object"),o=i({}.hasOwnProperty);t.exports=Object.hasOwn||function(s,a){return o(n(s),a)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(e,t,r){"use strict";t.exports={}},{}],277:[function(e,t,r){"use strict";t.exports=function(i,n){try{arguments.length===1?console.error(i):console.error(i,n)}catch{}}},{}],278:[function(e,t,r){"use strict";var i=e("../internals/get-built-in");t.exports=i("document","documentElement")},{"../internals/get-built-in":269}],279:[function(e,t,r){"use strict";var i=e("../internals/descriptors"),n=e("../internals/fails"),o=e("../internals/document-create-element");t.exports=!i&&!n(function(){return Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a!==7})},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(e,t,r){"use strict";var i=e("../internals/function-uncurry-this"),n=e("../internals/fails"),o=e("../internals/classof-raw"),s=Object,a=i("".split);t.exports=n(function(){return!s("z").propertyIsEnumerable(0)})?function(l){return o(l)==="String"?a(l,""):s(l)}:s},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(e,t,r){"use strict";var i=e("../internals/function-uncurry-this"),n=e("../internals/is-callable"),o=e("../internals/shared-store"),s=i(Function.toString);n(o.inspectSource)||(o.inspectSource=function(a){return s(a)}),t.exports=o.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(e,t,r){"use strict";var i,n,o,s=e("../internals/weak-map-basic-detection"),a=e("../internals/global"),l=e("../internals/is-object"),c=e("../internals/create-non-enumerable-property"),d=e("../internals/has-own-property"),h=e("../internals/shared-store"),u=e("../internals/shared-key"),f=e("../internals/hidden-keys"),m=a.TypeError,g=a.WeakMap;if(s||h.state){var p=h.state||(h.state=new g);p.get=p.get,p.has=p.has,p.set=p.set,i=function(_,E){if(p.has(_))throw new m("Object already initialized");return E.facade=_,p.set(_,E),E},n=function(_){return p.get(_)||{}},o=function(_){return p.has(_)}}else{var b=u("state");f[b]=!0,i=function(_,E){if(d(_,b))throw new m("Object already initialized");return E.facade=_,c(_,b,E),E},n=function(_){return d(_,b)?_[b]:{}},o=function(_){return d(_,b)}}t.exports={set:i,get:n,has:o,enforce:function(_){return o(_)?n(_):i(_,{})},getterFor:function(_){return function(E){var O;if(!l(E)||(O=n(E)).type!==_)throw new m("Incompatible receiver, "+_+" required");return O}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(e,t,r){"use strict";var i=e("../internals/well-known-symbol"),n=e("../internals/iterators"),o=i("iterator"),s=Array.prototype;t.exports=function(a){return a!==void 0&&(n.Array===a||s[o]===a)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(e,t,r){"use strict";var i=e("../internals/classof-raw");t.exports=Array.isArray||function(n){return i(n)==="Array"}},{"../internals/classof-raw":235}],285:[function(e,t,r){"use strict";var i=e("../internals/document-all"),n=i.all;t.exports=i.IS_HTMLDDA?function(o){return typeof o=="function"||o===n}:function(o){return typeof o=="function"}},{"../internals/document-all":248}],286:[function(e,t,r){"use strict";var i=e("../internals/function-uncurry-this"),n=e("../internals/fails"),o=e("../internals/is-callable"),s=e("../internals/classof"),a=e("../internals/get-built-in"),l=e("../internals/inspect-source"),c=function(){},d=[],h=a("Reflect","construct"),u=/^\s*(?:class|function)\b/,f=i(u.exec),m=!u.test(c),g=function(b){if(!o(b))return!1;try{return h(c,d,b),!0}catch{return!1}},p=function(b){if(!o(b))return!1;switch(s(b)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return m||!!f(u,l(b))}catch{return!0}};p.sham=!0,t.exports=!h||n(function(){var b;return g(g.call)||!g(Object)||!g(function(){b=!0})||b})?p:g},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(e,t,r){"use strict";var i=e("../internals/fails"),n=e("../internals/is-callable"),o=/#|\.prototype\./,s=function(h,u){var f=l[a(h)];return f===d||f!==c&&(n(u)?i(u):!!u)},a=s.normalize=function(h){return String(h).replace(o,".").toLowerCase()},l=s.data={},c=s.NATIVE="N",d=s.POLYFILL="P";t.exports=s},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(e,t,r){"use strict";t.exports=function(i){return i==null}},{}],289:[function(e,t,r){"use strict";var i=e("../internals/is-callable"),n=e("../internals/document-all"),o=n.all;t.exports=n.IS_HTMLDDA?function(s){return typeof s=="object"?s!==null:i(s)||s===o}:function(s){return typeof s=="object"?s!==null:i(s)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(e,t,r){"use strict";t.exports=!1},{}],291:[function(e,t,r){"use strict";var i=e("../internals/is-object"),n=e("../internals/classof-raw"),o=e("../internals/well-known-symbol")("match");t.exports=function(s){var a;return i(s)&&((a=s[o])!==void 0?!!a:n(s)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(e,t,r){"use strict";var i=e("../internals/get-built-in"),n=e("../internals/is-callable"),o=e("../internals/object-is-prototype-of"),s=e("../internals/use-symbol-as-uid"),a=Object;t.exports=s?function(l){return typeof l=="symbol"}:function(l){var c=i("Symbol");return n(c)&&o(c.prototype,a(l))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(e,t,r){"use strict";var i=e("../internals/function-bind-context"),n=e("../internals/function-call"),o=e("../internals/an-object"),s=e("../internals/try-to-string"),a=e("../internals/is-array-iterator-method"),l=e("../internals/length-of-array-like"),c=e("../internals/object-is-prototype-of"),d=e("../internals/get-iterator"),h=e("../internals/get-iterator-method"),u=e("../internals/iterator-close"),f=TypeError,m=function(p,b){this.stopped=p,this.result=b},g=m.prototype;t.exports=function(p,b,_){var E,O,V,H,F,L,q,W=_&&_.that,x=!(!_||!_.AS_ENTRIES),R=!(!_||!_.IS_RECORD),j=!(!_||!_.IS_ITERATOR),v=!(!_||!_.INTERRUPTED),y=i(b,W),C=function(S){return E&&u(E,"normal",S),new m(!0,S)},w=function(S){return x?(o(S),v?y(S[0],S[1],C):y(S[0],S[1])):v?y(S,C):y(S)};if(R)E=p.iterator;else if(j)E=p;else{if(!(O=h(p)))throw new f(s(p)+" is not iterable");if(a(O)){for(V=0,H=l(p);H>V;V++)if((F=w(p[V]))&&c(g,F))return F;return new m(!1)}E=d(p,O)}for(L=R?p.next:E.next;!(q=n(L,E)).done;){try{F=w(q.value)}catch(S){u(E,"throw",S)}if(typeof F=="object"&&F&&c(g,F))return F}return new m(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(e,t,r){"use strict";var i=e("../internals/function-call"),n=e("../internals/an-object"),o=e("../internals/get-method");t.exports=function(s,a,l){var c,d;n(s);try{if(!(c=o(s,"return"))){if(a==="throw")throw l;return l}c=i(c,s)}catch(h){d=!0,c=h}if(a==="throw")throw l;if(d)throw c;return n(c),l}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(e,t,r){"use strict";var i=e("../internals/iterators-core").IteratorPrototype,n=e("../internals/object-create"),o=e("../internals/create-property-descriptor"),s=e("../internals/set-to-string-tag"),a=e("../internals/iterators"),l=function(){return this};t.exports=function(c,d,h,u){var f=d+" Iterator";return c.prototype=n(i,{next:o(+!u,h)}),s(c,f,!1,!0),a[f]=l,c}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(e,t,r){"use strict";var i=e("../internals/export"),n=e("../internals/function-call"),o=e("../internals/is-pure"),s=e("../internals/function-name"),a=e("../internals/is-callable"),l=e("../internals/iterator-create-constructor"),c=e("../internals/object-get-prototype-of"),d=e("../internals/object-set-prototype-of"),h=e("../internals/set-to-string-tag"),u=e("../internals/create-non-enumerable-property"),f=e("../internals/define-built-in"),m=e("../internals/well-known-symbol"),g=e("../internals/iterators"),p=e("../internals/iterators-core"),b=s.PROPER,_=s.CONFIGURABLE,E=p.IteratorPrototype,O=p.BUGGY_SAFARI_ITERATORS,V=m("iterator"),H=function(){return this};t.exports=function(F,L,q,W,x,R,j){l(q,L,W);var v,y,C,w=function(I){if(I===x&&T)return T;if(!O&&I&&I in U)return U[I];switch(I){case"keys":case"values":case"entries":return function(){return new q(this,I)}}return function(){return new q(this)}},S=L+" Iterator",M=!1,U=F.prototype,N=U[V]||U["@@iterator"]||x&&U[x],T=!O&&N||w(x),B=L==="Array"&&U.entries||N;if(B&&(v=c(B.call(new F)))!==Object.prototype&&v.next&&(o||c(v)===E||(d?d(v,E):a(v[V])||f(v,V,H)),h(v,S,!0,!0),o&&(g[S]=H)),b&&x==="values"&&N&&N.name!=="values"&&(!o&&_?u(U,"name","values"):(M=!0,T=function(){return n(N,this)})),x)if(y={values:w("values"),keys:R?T:w("keys"),entries:w("entries")},j)for(C in y)(O||M||!(C in U))&&f(U,C,y[C]);else i({target:L,proto:!0,forced:O||M},y);return o&&!j||U[V]===T||f(U,V,T,{name:x}),g[L]=T,y}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(e,t,r){"use strict";var i,n,o,s=e("../internals/fails"),a=e("../internals/is-callable"),l=e("../internals/is-object"),c=e("../internals/object-create"),d=e("../internals/object-get-prototype-of"),h=e("../internals/define-built-in"),u=e("../internals/well-known-symbol"),f=e("../internals/is-pure"),m=u("iterator"),g=!1;[].keys&&("next"in(o=[].keys())?(n=d(d(o)))!==Object.prototype&&(i=n):g=!0),!l(i)||s(function(){var p={};return i[m].call(p)!==p})?i={}:f&&(i=c(i)),a(i[m])||h(i,m,function(){return this}),t.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:g}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(e,t,r){arguments[4][276][0].apply(r,arguments)},{dup:276}],299:[function(e,t,r){"use strict";var i=e("../internals/to-length");t.exports=function(n){return i(n.length)}},{"../internals/to-length":343}],300:[function(e,t,r){"use strict";var i=e("../internals/function-uncurry-this"),n=e("../internals/fails"),o=e("../internals/is-callable"),s=e("../internals/has-own-property"),a=e("../internals/descriptors"),l=e("../internals/function-name").CONFIGURABLE,c=e("../internals/inspect-source"),d=e("../internals/internal-state"),h=d.enforce,u=d.get,f=String,m=Object.defineProperty,g=i("".slice),p=i("".replace),b=i([].join),_=a&&!n(function(){return m(function(){},"length",{value:8}).length!==8}),E=String(String).split("String"),O=t.exports=function(V,H,F){g(f(H),0,7)==="Symbol("&&(H="["+p(f(H),/^Symbol\(([^)]*)\)/,"$1")+"]"),F&&F.getter&&(H="get "+H),F&&F.setter&&(H="set "+H),(!s(V,"name")||l&&V.name!==H)&&(a?m(V,"name",{value:H,configurable:!0}):V.name=H),_&&F&&s(F,"arity")&&V.length!==F.arity&&m(V,"length",{value:F.arity});try{F&&s(F,"constructor")&&F.constructor?a&&m(V,"prototype",{writable:!1}):V.prototype&&(V.prototype=void 0)}catch{}var L=h(V);return s(L,"source")||(L.source=b(E,typeof H=="string"?H:"")),V};Function.prototype.toString=O(function(){return o(this)&&u(this).source||c(this)},"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(e,t,r){"use strict";var i=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(o){var s=+o;return(s>0?n:i)(s)}},{}],302:[function(e,t,r){"use strict";var i,n,o,s,a,l=e("../internals/global"),c=e("../internals/function-bind-context"),d=e("../internals/object-get-own-property-descriptor").f,h=e("../internals/task").set,u=e("../internals/queue"),f=e("../internals/engine-is-ios"),m=e("../internals/engine-is-ios-pebble"),g=e("../internals/engine-is-webos-webkit"),p=e("../internals/engine-is-node"),b=l.MutationObserver||l.WebKitMutationObserver,_=l.document,E=l.process,O=l.Promise,V=d(l,"queueMicrotask"),H=V&&V.value;if(!H){var F=new u,L=function(){var q,W;for(p&&(q=E.domain)&&q.exit();W=F.get();)try{W()}catch(x){throw F.head&&i(),x}q&&q.enter()};f||p||g||!b||!_?!m&&O&&O.resolve?((s=O.resolve(void 0)).constructor=O,a=c(s.then,s),i=function(){a(L)}):p?i=function(){E.nextTick(L)}:(h=c(h,l),i=function(){h(L)}):(n=!0,o=_.createTextNode(""),new b(L).observe(o,{characterData:!0}),i=function(){o.data=n=!n}),H=function(q){F.head||i(),F.add(q)}}t.exports=H},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(e,t,r){"use strict";var i=e("../internals/a-callable"),n=TypeError,o=function(s){var a,l;this.promise=new s(function(c,d){if(a!==void 0||l!==void 0)throw new n("Bad Promise constructor");a=c,l=d}),this.resolve=i(a),this.reject=i(l)};t.exports.f=function(s){return new o(s)}},{"../internals/a-callable":222}],304:[function(e,t,r){"use strict";var i=e("../internals/is-regexp"),n=TypeError;t.exports=function(o){if(i(o))throw new n("The method doesn't accept regular expressions");return o}},{"../internals/is-regexp":291}],305:[function(e,t,r){"use strict";var i=e("../internals/descriptors"),n=e("../internals/function-uncurry-this"),o=e("../internals/function-call"),s=e("../internals/fails"),a=e("../internals/object-keys"),l=e("../internals/object-get-own-property-symbols"),c=e("../internals/object-property-is-enumerable"),d=e("../internals/to-object"),h=e("../internals/indexed-object"),u=Object.assign,f=Object.defineProperty,m=n([].concat);t.exports=!u||s(function(){if(i&&u({b:1},u(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var g={},p={},b=Symbol("assign detection");return g[b]=7,"abcdefghijklmnopqrst".split("").forEach(function(_){p[_]=_}),u({},g)[b]!==7||a(u({},p)).join("")!=="abcdefghijklmnopqrst"})?function(g,p){for(var b=d(g),_=arguments.length,E=1,O=l.f,V=c.f;_>E;)for(var H,F=h(arguments[E++]),L=O?m(a(F),O(F)):a(F),q=L.length,W=0;q>W;)H=L[W++],i&&!o(V,F,H)||(b[H]=F[H]);return b}:u},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(e,t,r){"use strict";var i,n=e("../internals/an-object"),o=e("../internals/object-define-properties"),s=e("../internals/enum-bug-keys"),a=e("../internals/hidden-keys"),l=e("../internals/html"),c=e("../internals/document-create-element"),d=e("../internals/shared-key"),h=d("IE_PROTO"),u=function(){},f=function(p){return"<script>"+p+"<\/script>"},m=function(p){p.write(f("")),p.close();var b=p.parentWindow.Object;return p=null,b},g=function(){try{i=new ActiveXObject("htmlfile")}catch{}var p,b;g=typeof document<"u"?document.domain&&i?m(i):((b=c("iframe")).style.display="none",l.appendChild(b),b.src="javascript:",(p=b.contentWindow.document).open(),p.write(f("document.F=Object")),p.close(),p.F):m(i);for(var _=s.length;_--;)delete g.prototype[s[_]];return g()};a[h]=!0,t.exports=Object.create||function(p,b){var _;return p!==null?(u.prototype=n(p),_=new u,u.prototype=null,_[h]=p):_=g(),b===void 0?_:o.f(_,b)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(e,t,r){"use strict";var i=e("../internals/descriptors"),n=e("../internals/v8-prototype-define-bug"),o=e("../internals/object-define-property"),s=e("../internals/an-object"),a=e("../internals/to-indexed-object"),l=e("../internals/object-keys");r.f=i&&!n?Object.defineProperties:function(c,d){s(c);for(var h,u=a(d),f=l(d),m=f.length,g=0;m>g;)o.f(c,h=f[g++],u[h]);return c}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(e,t,r){"use strict";var i=e("../internals/descriptors"),n=e("../internals/ie8-dom-define"),o=e("../internals/v8-prototype-define-bug"),s=e("../internals/an-object"),a=e("../internals/to-property-key"),l=TypeError,c=Object.defineProperty,d=Object.getOwnPropertyDescriptor;r.f=i?o?function(h,u,f){if(s(h),u=a(u),s(f),typeof h=="function"&&u==="prototype"&&"value"in f&&"writable"in f&&!f.writable){var m=d(h,u);m&&m.writable&&(h[u]=f.value,f={configurable:"configurable"in f?f.configurable:m.configurable,enumerable:"enumerable"in f?f.enumerable:m.enumerable,writable:!1})}return c(h,u,f)}:c:function(h,u,f){if(s(h),u=a(u),s(f),n)try{return c(h,u,f)}catch{}if("get"in f||"set"in f)throw new l("Accessors not supported");return"value"in f&&(h[u]=f.value),h}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(e,t,r){"use strict";var i=e("../internals/descriptors"),n=e("../internals/function-call"),o=e("../internals/object-property-is-enumerable"),s=e("../internals/create-property-descriptor"),a=e("../internals/to-indexed-object"),l=e("../internals/to-property-key"),c=e("../internals/has-own-property"),d=e("../internals/ie8-dom-define"),h=Object.getOwnPropertyDescriptor;r.f=i?h:function(u,f){if(u=a(u),f=l(f),d)try{return h(u,f)}catch{}if(c(u,f))return s(!n(o.f,u,f),u[f])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(e,t,r){"use strict";var i=e("../internals/classof-raw"),n=e("../internals/to-indexed-object"),o=e("../internals/object-get-own-property-names").f,s=e("../internals/array-slice-simple"),a=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(l){return a&&i(l)==="Window"?function(c){try{return o(c)}catch{return s(a)}}(l):o(n(l))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(e,t,r){"use strict";var i=e("../internals/object-keys-internal"),n=e("../internals/enum-bug-keys").concat("length","prototype");r.f=Object.getOwnPropertyNames||function(o){return i(o,n)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(e,t,r){"use strict";r.f=Object.getOwnPropertySymbols},{}],313:[function(e,t,r){"use strict";var i=e("../internals/has-own-property"),n=e("../internals/is-callable"),o=e("../internals/to-object"),s=e("../internals/shared-key"),a=e("../internals/correct-prototype-getter"),l=s("IE_PROTO"),c=Object,d=c.prototype;t.exports=a?c.getPrototypeOf:function(h){var u=o(h);if(i(u,l))return u[l];var f=u.constructor;return n(f)&&u instanceof f?f.prototype:u instanceof c?d:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(e,t,r){"use strict";var i=e("../internals/function-uncurry-this");t.exports=i({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(e,t,r){"use strict";var i=e("../internals/function-uncurry-this"),n=e("../internals/has-own-property"),o=e("../internals/to-indexed-object"),s=e("../internals/array-includes").indexOf,a=e("../internals/hidden-keys"),l=i([].push);t.exports=function(c,d){var h,u=o(c),f=0,m=[];for(h in u)!n(a,h)&&n(u,h)&&l(m,h);for(;d.length>f;)n(u,h=d[f++])&&(~s(m,h)||l(m,h));return m}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(e,t,r){"use strict";var i=e("../internals/object-keys-internal"),n=e("../internals/enum-bug-keys");t.exports=Object.keys||function(o){return i(o,n)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(e,t,r){"use strict";var i={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,o=n&&!i.call({1:2},1);r.f=o?function(s){var a=n(this,s);return!!a&&a.enumerable}:i},{}],318:[function(e,t,r){"use strict";var i=e("../internals/function-uncurry-this-accessor"),n=e("../internals/an-object"),o=e("../internals/a-possible-prototype");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var s,a=!1,l={};try{(s=i(Object.prototype,"__proto__","set"))(l,[]),a=l instanceof Array}catch{}return function(c,d){return n(c),o(d),a?s(c,d):c.__proto__=d,c}}():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(e,t,r){"use strict";var i=e("../internals/descriptors"),n=e("../internals/fails"),o=e("../internals/function-uncurry-this"),s=e("../internals/object-get-prototype-of"),a=e("../internals/object-keys"),l=e("../internals/to-indexed-object"),c=o(e("../internals/object-property-is-enumerable").f),d=o([].push),h=i&&n(function(){var f=Object.create(null);return f[2]=2,!c(f,2)}),u=function(f){return function(m){for(var g,p=l(m),b=a(p),_=h&&s(p)===null,E=b.length,O=0,V=[];E>O;)g=b[O++],i&&!(_?g in p:c(p,g))||d(V,f?[g,p[g]]:p[g]);return V}};t.exports={entries:u(!0),values:u(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(e,t,r){"use strict";var i=e("../internals/function-call"),n=e("../internals/is-callable"),o=e("../internals/is-object"),s=TypeError;t.exports=function(a,l){var c,d;if(l==="string"&&n(c=a.toString)&&!o(d=i(c,a))||n(c=a.valueOf)&&!o(d=i(c,a))||l!=="string"&&n(c=a.toString)&&!o(d=i(c,a)))return d;throw new s("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(e,t,r){"use strict";var i=e("../internals/get-built-in"),n=e("../internals/function-uncurry-this"),o=e("../internals/object-get-own-property-names"),s=e("../internals/object-get-own-property-symbols"),a=e("../internals/an-object"),l=n([].concat);t.exports=i("Reflect","ownKeys")||function(c){var d=o.f(a(c)),h=s.f;return h?l(d,h(c)):d}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(e,t,r){"use strict";var i=e("../internals/global");t.exports=i},{"../internals/global":274}],323:[function(e,t,r){"use strict";t.exports=function(i){try{return{error:!1,value:i()}}catch(n){return{error:!0,value:n}}}},{}],324:[function(e,t,r){"use strict";var i=e("../internals/global"),n=e("../internals/promise-native-constructor"),o=e("../internals/is-callable"),s=e("../internals/is-forced"),a=e("../internals/inspect-source"),l=e("../internals/well-known-symbol"),c=e("../internals/engine-is-browser"),d=e("../internals/engine-is-deno"),h=e("../internals/is-pure"),u=e("../internals/engine-v8-version"),f=n&&n.prototype,m=l("species"),g=!1,p=o(i.PromiseRejectionEvent),b=s("Promise",function(){var _=a(n),E=_!==String(n);if(!E&&u===66||h&&(!f.catch||!f.finally))return!0;if(!u||u<51||!/native code/.test(_)){var O=new n(function(H){H(1)}),V=function(H){H(function(){},function(){})};if((O.constructor={})[m]=V,!(g=O.then(function(){})instanceof V))return!0}return!E&&(c||d)&&!p});t.exports={CONSTRUCTOR:b,REJECTION_EVENT:p,SUBCLASSING:g}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(e,t,r){"use strict";var i=e("../internals/global");t.exports=i.Promise},{"../internals/global":274}],326:[function(e,t,r){"use strict";var i=e("../internals/an-object"),n=e("../internals/is-object"),o=e("../internals/new-promise-capability");t.exports=function(s,a){if(i(s),n(a)&&a.constructor===s)return a;var l=o.f(s);return(0,l.resolve)(a),l.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(e,t,r){"use strict";var i=e("../internals/promise-native-constructor"),n=e("../internals/check-correctness-of-iteration"),o=e("../internals/promise-constructor-detection").CONSTRUCTOR;t.exports=o||!n(function(s){i.all(s).then(void 0,function(){})})},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(e,t,r){"use strict";var i=function(){this.head=null,this.tail=null};i.prototype={add:function(n){var o={item:n,next:null},s=this.tail;s?s.next=o:this.head=o,this.tail=o},get:function(){var n=this.head;if(n)return(this.head=n.next)===null&&(this.tail=null),n.item}},t.exports=i},{}],329:[function(e,t,r){"use strict";var i=e("../internals/is-null-or-undefined"),n=TypeError;t.exports=function(o){if(i(o))throw new n("Can't call method on "+o);return o}},{"../internals/is-null-or-undefined":288}],330:[function(e,t,r){"use strict";var i=e("../internals/get-built-in"),n=e("../internals/define-built-in-accessor"),o=e("../internals/well-known-symbol"),s=e("../internals/descriptors"),a=o("species");t.exports=function(l){var c=i(l);s&&c&&!c[a]&&n(c,a,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(e,t,r){"use strict";var i=e("../internals/object-define-property").f,n=e("../internals/has-own-property"),o=e("../internals/well-known-symbol")("toStringTag");t.exports=function(s,a,l){s&&!l&&(s=s.prototype),s&&!n(s,o)&&i(s,o,{configurable:!0,value:a})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(e,t,r){"use strict";var i=e("../internals/shared"),n=e("../internals/uid"),o=i("keys");t.exports=function(s){return o[s]||(o[s]=n(s))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(e,t,r){"use strict";var i=e("../internals/global"),n=e("../internals/define-global-property"),o=i["__core-js_shared__"]||n("__core-js_shared__",{});t.exports=o},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(e,t,r){"use strict";var i=e("../internals/is-pure"),n=e("../internals/shared-store");(t.exports=function(o,s){return n[o]||(n[o]=s!==void 0?s:{})})("versions",[]).push({version:"3.33.0",mode:i?"pure":"global",copyright:"\xA9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(e,t,r){"use strict";var i=e("../internals/an-object"),n=e("../internals/a-constructor"),o=e("../internals/is-null-or-undefined"),s=e("../internals/well-known-symbol")("species");t.exports=function(a,l){var c,d=i(a).constructor;return d===void 0||o(c=i(d)[s])?l:n(c)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(e,t,r){"use strict";var i=e("../internals/engine-v8-version"),n=e("../internals/fails"),o=e("../internals/global").String;t.exports=!!Object.getOwnPropertySymbols&&!n(function(){var s=Symbol("symbol detection");return!o(s)||!(Object(s)instanceof Symbol)||!Symbol.sham&&i&&i<41})},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(e,t,r){"use strict";var i=e("../internals/function-call"),n=e("../internals/get-built-in"),o=e("../internals/well-known-symbol"),s=e("../internals/define-built-in");t.exports=function(){var a=n("Symbol"),l=a&&a.prototype,c=l&&l.valueOf,d=o("toPrimitive");l&&!l[d]&&s(l,d,function(h){return i(c,this)},{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(e,t,r){"use strict";var i=e("../internals/symbol-constructor-detection");t.exports=i&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(e,t,r){"use strict";var i,n,o,s,a=e("../internals/global"),l=e("../internals/function-apply"),c=e("../internals/function-bind-context"),d=e("../internals/is-callable"),h=e("../internals/has-own-property"),u=e("../internals/fails"),f=e("../internals/html"),m=e("../internals/array-slice"),g=e("../internals/document-create-element"),p=e("../internals/validate-arguments-length"),b=e("../internals/engine-is-ios"),_=e("../internals/engine-is-node"),E=a.setImmediate,O=a.clearImmediate,V=a.process,H=a.Dispatch,F=a.Function,L=a.MessageChannel,q=a.String,W=0,x={};u(function(){i=a.location});var R=function(C){if(h(x,C)){var w=x[C];delete x[C],w()}},j=function(C){return function(){R(C)}},v=function(C){R(C.data)},y=function(C){a.postMessage(q(C),i.protocol+"//"+i.host)};E&&O||(E=function(C){p(arguments.length,1);var w=d(C)?C:F(C),S=m(arguments,1);return x[++W]=function(){l(w,void 0,S)},n(W),W},O=function(C){delete x[C]},_?n=function(C){V.nextTick(j(C))}:H&&H.now?n=function(C){H.now(j(C))}:L&&!b?(s=(o=new L).port2,o.port1.onmessage=v,n=c(s.postMessage,s)):a.addEventListener&&d(a.postMessage)&&!a.importScripts&&i&&i.protocol!=="file:"&&!u(y)?(n=y,a.addEventListener("message",v,!1)):n="onreadystatechange"in g("script")?function(C){f.appendChild(g("script")).onreadystatechange=function(){f.removeChild(this),R(C)}}:function(C){setTimeout(j(C),0)}),t.exports={set:E,clear:O}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(e,t,r){"use strict";var i=e("../internals/to-integer-or-infinity"),n=Math.max,o=Math.min;t.exports=function(s,a){var l=i(s);return l<0?n(l+a,0):o(l,a)}},{"../internals/to-integer-or-infinity":342}],341:[function(e,t,r){"use strict";var i=e("../internals/indexed-object"),n=e("../internals/require-object-coercible");t.exports=function(o){return i(n(o))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(e,t,r){"use strict";var i=e("../internals/math-trunc");t.exports=function(n){var o=+n;return o!=o||o===0?0:i(o)}},{"../internals/math-trunc":301}],343:[function(e,t,r){"use strict";var i=e("../internals/to-integer-or-infinity"),n=Math.min;t.exports=function(o){return o>0?n(i(o),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(e,t,r){"use strict";var i=e("../internals/require-object-coercible"),n=Object;t.exports=function(o){return n(i(o))}},{"../internals/require-object-coercible":329}],345:[function(e,t,r){"use strict";var i=e("../internals/function-call"),n=e("../internals/is-object"),o=e("../internals/is-symbol"),s=e("../internals/get-method"),a=e("../internals/ordinary-to-primitive"),l=e("../internals/well-known-symbol"),c=TypeError,d=l("toPrimitive");t.exports=function(h,u){if(!n(h)||o(h))return h;var f,m=s(h,d);if(m){if(u===void 0&&(u="default"),f=i(m,h,u),!n(f)||o(f))return f;throw new c("Can't convert object to primitive value")}return u===void 0&&(u="number"),a(h,u)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(e,t,r){"use strict";var i=e("../internals/to-primitive"),n=e("../internals/is-symbol");t.exports=function(o){var s=i(o,"string");return n(s)?s:s+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(e,t,r){"use strict";var i={};i[e("../internals/well-known-symbol")("toStringTag")]="z",t.exports=String(i)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(e,t,r){"use strict";var i=e("../internals/classof"),n=String;t.exports=function(o){if(i(o)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return n(o)}},{"../internals/classof":236}],349:[function(e,t,r){"use strict";var i=String;t.exports=function(n){try{return i(n)}catch{return"Object"}}},{}],350:[function(e,t,r){"use strict";var i=e("../internals/function-uncurry-this"),n=0,o=Math.random(),s=i(1 .toString);t.exports=function(a){return"Symbol("+(a===void 0?"":a)+")_"+s(++n+o,36)}},{"../internals/function-uncurry-this":268}],351:[function(e,t,r){"use strict";var i=e("../internals/symbol-constructor-detection");t.exports=i&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(e,t,r){"use strict";var i=e("../internals/descriptors"),n=e("../internals/fails");t.exports=i&&n(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(e,t,r){"use strict";var i=TypeError;t.exports=function(n,o){if(n<o)throw new i("Not enough arguments");return n}},{}],354:[function(e,t,r){"use strict";var i=e("../internals/global"),n=e("../internals/is-callable"),o=i.WeakMap;t.exports=n(o)&&/native code/.test(String(o))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(e,t,r){"use strict";var i=e("../internals/path"),n=e("../internals/has-own-property"),o=e("../internals/well-known-symbol-wrapped"),s=e("../internals/object-define-property").f;t.exports=function(a){var l=i.Symbol||(i.Symbol={});n(l,a)||s(l,a,{value:o.f(a)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(e,t,r){"use strict";var i=e("../internals/well-known-symbol");r.f=i},{"../internals/well-known-symbol":357}],357:[function(e,t,r){"use strict";var i=e("../internals/global"),n=e("../internals/shared"),o=e("../internals/has-own-property"),s=e("../internals/uid"),a=e("../internals/symbol-constructor-detection"),l=e("../internals/use-symbol-as-uid"),c=i.Symbol,d=n("wks"),h=l?c.for||c:c&&c.withoutSetter||s;t.exports=function(u){return o(d,u)||(d[u]=a&&o(c,u)?c[u]:h("Symbol."+u)),d[u]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(e,t,r){"use strict";var i=e("../internals/export"),n=e("../internals/array-iteration").findIndex,o=e("../internals/add-to-unscopables"),s=!0;"findIndex"in[]&&Array(1).findIndex(function(){s=!1}),i({target:"Array",proto:!0,forced:s},{findIndex:function(a){return n(this,a,arguments.length>1?arguments[1]:void 0)}}),o("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(e,t,r){"use strict";var i=e("../internals/export"),n=e("../internals/array-iteration").find,o=e("../internals/add-to-unscopables"),s=!0;"find"in[]&&Array(1).find(function(){s=!1}),i({target:"Array",proto:!0,forced:s},{find:function(a){return n(this,a,arguments.length>1?arguments[1]:void 0)}}),o("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(e,t,r){"use strict";var i=e("../internals/export"),n=e("../internals/array-includes").includes,o=e("../internals/fails"),s=e("../internals/add-to-unscopables");i({target:"Array",proto:!0,forced:o(function(){return!Array(1).includes()})},{includes:function(a){return n(this,a,arguments.length>1?arguments[1]:void 0)}}),s("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(e,t,r){"use strict";var i=e("../internals/to-indexed-object"),n=e("../internals/add-to-unscopables"),o=e("../internals/iterators"),s=e("../internals/internal-state"),a=e("../internals/object-define-property").f,l=e("../internals/iterator-define"),c=e("../internals/create-iter-result-object"),d=e("../internals/is-pure"),h=e("../internals/descriptors"),u=s.set,f=s.getterFor("Array Iterator");t.exports=l(Array,"Array",function(g,p){u(this,{type:"Array Iterator",target:i(g),index:0,kind:p})},function(){var g=f(this),p=g.target,b=g.kind,_=g.index++;if(!p||_>=p.length)return g.target=void 0,c(void 0,!0);switch(b){case"keys":return c(_,!1);case"values":return c(p[_],!1)}return c([_,p[_]],!1)},"values");var m=o.Arguments=o.Array;if(n("keys"),n("values"),n("entries"),!d&&h&&m.name!=="values")try{a(m,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(e,t,r){"use strict";var i=e("../internals/export"),n=e("../internals/get-built-in"),o=e("../internals/function-apply"),s=e("../internals/function-call"),a=e("../internals/function-uncurry-this"),l=e("../internals/fails"),c=e("../internals/is-callable"),d=e("../internals/is-symbol"),h=e("../internals/array-slice"),u=e("../internals/get-json-replacer-function"),f=e("../internals/symbol-constructor-detection"),m=String,g=n("JSON","stringify"),p=a(/./.exec),b=a("".charAt),_=a("".charCodeAt),E=a("".replace),O=a(1 .toString),V=/[\uD800-\uDFFF]/g,H=/^[\uD800-\uDBFF]$/,F=/^[\uDC00-\uDFFF]$/,L=!f||l(function(){var R=n("Symbol")("stringify detection");return g([R])!=="[null]"||g({a:R})!=="{}"||g(Object(R))!=="{}"}),q=l(function(){return g("\uDF06\uD834")!=='"\\udf06\\ud834"'||g("\uDEAD")!=='"\\udead"'}),W=function(R,j){var v=h(arguments),y=u(j);if(c(y)||R!==void 0&&!d(R))return v[1]=function(C,w){if(c(y)&&(w=s(y,this,m(C),w)),!d(w))return w},o(g,null,v)},x=function(R,j,v){var y=b(v,j-1),C=b(v,j+1);return p(H,R)&&!p(F,C)||p(F,R)&&!p(H,y)?"\\u"+O(_(R,0),16):R};g&&i({target:"JSON",stat:!0,arity:3,forced:L||q},{stringify:function(R,j,v){var y=h(arguments),C=o(L?W:g,null,y);return q&&typeof C=="string"?E(C,V,x):C}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(e,t,r){"use strict";e("../internals/export")({target:"Number",stat:!0},{isNaN:function(i){return i!=i}})},{"../internals/export":259}],364:[function(e,t,r){"use strict";var i=e("../internals/export"),n=e("../internals/object-assign");i({target:"Object",stat:!0,arity:2,forced:Object.assign!==n},{assign:n})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(e,t,r){"use strict";var i=e("../internals/export"),n=e("../internals/symbol-constructor-detection"),o=e("../internals/fails"),s=e("../internals/object-get-own-property-symbols"),a=e("../internals/to-object");i({target:"Object",stat:!0,forced:!n||o(function(){s.f(1)})},{getOwnPropertySymbols:function(l){var c=s.f;return c?c(a(l)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(e,t,r){"use strict";var i=e("../internals/export"),n=e("../internals/to-object"),o=e("../internals/object-keys");i({target:"Object",stat:!0,forced:e("../internals/fails")(function(){o(1)})},{keys:function(s){return o(n(s))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(e,t,r){"use strict";var i=e("../internals/export"),n=e("../internals/object-to-array").values;i({target:"Object",stat:!0},{values:function(o){return n(o)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(e,t,r){"use strict";var i=e("../internals/export"),n=e("../internals/function-call"),o=e("../internals/a-callable"),s=e("../internals/new-promise-capability"),a=e("../internals/perform"),l=e("../internals/iterate");i({target:"Promise",stat:!0,forced:e("../internals/promise-statics-incorrect-iteration")},{all:function(c){var d=this,h=s.f(d),u=h.resolve,f=h.reject,m=a(function(){var g=o(d.resolve),p=[],b=0,_=1;l(c,function(E){var O=b++,V=!1;_++,n(g,d,E).then(function(H){V||(V=!0,p[O]=H,--_||u(p))},f)}),--_||u(p)});return m.error&&f(m.value),h.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(e,t,r){"use strict";var i=e("../internals/export"),n=e("../internals/is-pure"),o=e("../internals/promise-constructor-detection").CONSTRUCTOR,s=e("../internals/promise-native-constructor"),a=e("../internals/get-built-in"),l=e("../internals/is-callable"),c=e("../internals/define-built-in"),d=s&&s.prototype;if(i({target:"Promise",proto:!0,forced:o,real:!0},{catch:function(u){return this.then(void 0,u)}}),!n&&l(s)){var h=a("Promise").prototype.catch;d.catch!==h&&c(d,"catch",h,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(e,t,r){"use strict";var i,n,o,s=e("../internals/export"),a=e("../internals/is-pure"),l=e("../internals/engine-is-node"),c=e("../internals/global"),d=e("../internals/function-call"),h=e("../internals/define-built-in"),u=e("../internals/object-set-prototype-of"),f=e("../internals/set-to-string-tag"),m=e("../internals/set-species"),g=e("../internals/a-callable"),p=e("../internals/is-callable"),b=e("../internals/is-object"),_=e("../internals/an-instance"),E=e("../internals/species-constructor"),O=e("../internals/task").set,V=e("../internals/microtask"),H=e("../internals/host-report-errors"),F=e("../internals/perform"),L=e("../internals/queue"),q=e("../internals/internal-state"),W=e("../internals/promise-native-constructor"),x=e("../internals/promise-constructor-detection"),R=e("../internals/new-promise-capability"),j=x.CONSTRUCTOR,v=x.REJECTION_EVENT,y=x.SUBCLASSING,C=q.getterFor("Promise"),w=q.set,S=W&&W.prototype,M=W,U=S,N=c.TypeError,T=c.document,B=c.process,I=R.f,$=I,A=!!(T&&T.createEvent&&c.dispatchEvent),k=function(_t){var J;return!(!b(_t)||!p(J=_t.then))&&J},Y=function(_t,J){var et,lt,ut,mt=J.value,wt=J.state===1,vt=wt?_t.ok:_t.fail,Rt=_t.resolve,Mt=_t.reject,Et=_t.domain;try{vt?(wt||(J.rejection===2&&Ct(J),J.rejection=1),vt===!0?et=mt:(Et&&Et.enter(),et=vt(mt),Et&&(Et.exit(),ut=!0)),et===_t.promise?Mt(new N("Promise-chain cycle")):(lt=k(et))?d(lt,et,Rt,Mt):Rt(et)):Mt(mt)}catch(kt){Et&&!ut&&Et.exit(),Mt(kt)}},Z=function(_t,J){_t.notified||(_t.notified=!0,V(function(){for(var et,lt=_t.reactions;et=lt.get();)Y(et,_t);_t.notified=!1,J&&!_t.rejection&&tt(_t)}))},ct=function(_t,J,et){var lt,ut;A?((lt=T.createEvent("Event")).promise=J,lt.reason=et,lt.initEvent(_t,!1,!0),c.dispatchEvent(lt)):lt={promise:J,reason:et},!v&&(ut=c["on"+_t])?ut(lt):_t==="unhandledrejection"&&H("Unhandled promise rejection",et)},tt=function(_t){d(O,c,function(){var J,et=_t.facade,lt=_t.value;if(nt(_t)&&(J=F(function(){l?B.emit("unhandledRejection",lt,et):ct("unhandledrejection",et,lt)}),_t.rejection=l||nt(_t)?2:1,J.error))throw J.value})},nt=function(_t){return _t.rejection!==1&&!_t.parent},Ct=function(_t){d(O,c,function(){var J=_t.facade;l?B.emit("rejectionHandled",J):ct("rejectionhandled",J,_t.value)})},xt=function(_t,J,et){return function(lt){_t(J,lt,et)}},rt=function(_t,J,et){_t.done||(_t.done=!0,et&&(_t=et),_t.value=J,_t.state=2,Z(_t,!0))},at=function(_t,J,et){if(!_t.done){_t.done=!0,et&&(_t=et);try{if(_t.facade===J)throw new N("Promise can't be resolved itself");var lt=k(J);lt?V(function(){var ut={done:!1};try{d(lt,J,xt(at,ut,_t),xt(rt,ut,_t))}catch(mt){rt(ut,mt,_t)}}):(_t.value=J,_t.state=1,Z(_t,!1))}catch(ut){rt({done:!1},ut,_t)}}};if(j&&(U=(M=function(_t){_(this,U),g(_t),d(i,this);var J=C(this);try{_t(xt(at,J),xt(rt,J))}catch(et){rt(J,et)}}).prototype,(i=function(_t){w(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new L,rejection:!1,state:0,value:void 0})}).prototype=h(U,"then",function(_t,J){var et=C(this),lt=I(E(this,M));return et.parent=!0,lt.ok=!p(_t)||_t,lt.fail=p(J)&&J,lt.domain=l?B.domain:void 0,et.state===0?et.reactions.add(lt):V(function(){Y(lt,et)}),lt.promise}),n=function(){var _t=new i,J=C(_t);this.promise=_t,this.resolve=xt(at,J),this.reject=xt(rt,J)},R.f=I=function(_t){return _t===M||_t===void 0?new n(_t):$(_t)},!a&&p(W)&&S!==Object.prototype)){o=S.then,y||h(S,"then",function(_t,J){var et=this;return new M(function(lt,ut){d(o,et,lt,ut)}).then(_t,J)},{unsafe:!0});try{delete S.constructor}catch{}u&&u(S,U)}s({global:!0,constructor:!0,wrap:!0,forced:j},{Promise:M}),f(M,"Promise",!1,!0),m("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(e,t,r){"use strict";var i=e("../internals/export"),n=e("../internals/is-pure"),o=e("../internals/promise-native-constructor"),s=e("../internals/fails"),a=e("../internals/get-built-in"),l=e("../internals/is-callable"),c=e("../internals/species-constructor"),d=e("../internals/promise-resolve"),h=e("../internals/define-built-in"),u=o&&o.prototype;if(i({target:"Promise",proto:!0,real:!0,forced:!!o&&s(function(){u.finally.call({then:function(){}},function(){})})},{finally:function(m){var g=c(this,a("Promise")),p=l(m);return this.then(p?function(b){return d(g,m()).then(function(){return b})}:m,p?function(b){return d(g,m()).then(function(){throw b})}:m)}}),!n&&l(o)){var f=a("Promise").prototype.finally;u.finally!==f&&h(u,"finally",f,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(e,t,r){"use strict";e("../modules/es.promise.constructor"),e("../modules/es.promise.all"),e("../modules/es.promise.catch"),e("../modules/es.promise.race"),e("../modules/es.promise.reject"),e("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(e,t,r){"use strict";var i=e("../internals/export"),n=e("../internals/function-call"),o=e("../internals/a-callable"),s=e("../internals/new-promise-capability"),a=e("../internals/perform"),l=e("../internals/iterate");i({target:"Promise",stat:!0,forced:e("../internals/promise-statics-incorrect-iteration")},{race:function(c){var d=this,h=s.f(d),u=h.reject,f=a(function(){var m=o(d.resolve);l(c,function(g){n(m,d,g).then(h.resolve,u)})});return f.error&&u(f.value),h.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(e,t,r){"use strict";var i=e("../internals/export"),n=e("../internals/function-call"),o=e("../internals/new-promise-capability");i({target:"Promise",stat:!0,forced:e("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(s){var a=o.f(this);return n(a.reject,void 0,s),a.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(e,t,r){"use strict";var i=e("../internals/export"),n=e("../internals/get-built-in"),o=e("../internals/is-pure"),s=e("../internals/promise-native-constructor"),a=e("../internals/promise-constructor-detection").CONSTRUCTOR,l=e("../internals/promise-resolve"),c=n("Promise"),d=o&&!a;i({target:"Promise",stat:!0,forced:o||a},{resolve:function(h){return l(d&&this===c?s:this,h)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(e,t,r){"use strict";var i=e("../internals/export"),n=e("../internals/function-uncurry-this"),o=e("../internals/to-absolute-index"),s=RangeError,a=String.fromCharCode,l=String.fromCodePoint,c=n([].join);i({target:"String",stat:!0,arity:1,forced:!!l&&l.length!==1},{fromCodePoint:function(d){for(var h,u=[],f=arguments.length,m=0;f>m;){if(h=+arguments[m++],o(h,1114111)!==h)throw new s(h+" is not a valid code point");u[m]=h<65536?a(h):a(55296+((h-=65536)>>10),h%1024+56320)}return c(u,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(e,t,r){"use strict";var i=e("../internals/export"),n=e("../internals/function-uncurry-this"),o=e("../internals/not-a-regexp"),s=e("../internals/require-object-coercible"),a=e("../internals/to-string"),l=e("../internals/correct-is-regexp-logic"),c=n("".indexOf);i({target:"String",proto:!0,forced:!l("includes")},{includes:function(d){return!!~c(a(s(this)),a(o(d)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(e,t,r){"use strict";e("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(e,t,r){"use strict";var i=e("../internals/export"),n=e("../internals/global"),o=e("../internals/function-call"),s=e("../internals/function-uncurry-this"),a=e("../internals/is-pure"),l=e("../internals/descriptors"),c=e("../internals/symbol-constructor-detection"),d=e("../internals/fails"),h=e("../internals/has-own-property"),u=e("../internals/object-is-prototype-of"),f=e("../internals/an-object"),m=e("../internals/to-indexed-object"),g=e("../internals/to-property-key"),p=e("../internals/to-string"),b=e("../internals/create-property-descriptor"),_=e("../internals/object-create"),E=e("../internals/object-keys"),O=e("../internals/object-get-own-property-names"),V=e("../internals/object-get-own-property-names-external"),H=e("../internals/object-get-own-property-symbols"),F=e("../internals/object-get-own-property-descriptor"),L=e("../internals/object-define-property"),q=e("../internals/object-define-properties"),W=e("../internals/object-property-is-enumerable"),x=e("../internals/define-built-in"),R=e("../internals/define-built-in-accessor"),j=e("../internals/shared"),v=e("../internals/shared-key"),y=e("../internals/hidden-keys"),C=e("../internals/uid"),w=e("../internals/well-known-symbol"),S=e("../internals/well-known-symbol-wrapped"),M=e("../internals/well-known-symbol-define"),U=e("../internals/symbol-define-to-primitive"),N=e("../internals/set-to-string-tag"),T=e("../internals/internal-state"),B=e("../internals/array-iteration").forEach,I=v("hidden"),$=T.set,A=T.getterFor("Symbol"),k=Object.prototype,Y=n.Symbol,Z=Y&&Y.prototype,ct=n.RangeError,tt=n.TypeError,nt=n.QObject,Ct=F.f,xt=L.f,rt=V.f,at=W.f,_t=s([].push),J=j("symbols"),et=j("op-symbols"),lt=j("wks"),ut=!nt||!nt.prototype||!nt.prototype.findChild,mt=function(Ut,ie,Zt){var Fe=Ct(k,ie);Fe&&delete k[ie],xt(Ut,ie,Zt),Fe&&Ut!==k&&xt(k,ie,Fe)},wt=l&&d(function(){return _(xt({},"a",{get:function(){return xt(this,"a",{value:7}).a}})).a!==7})?mt:xt,vt=function(Ut,ie){var Zt=J[Ut]=_(Z);return $(Zt,{type:"Symbol",tag:Ut,description:ie}),l||(Zt.description=ie),Zt},Rt=function(Ut,ie,Zt){Ut===k&&Rt(et,ie,Zt),f(Ut);var Fe=g(ie);return f(Zt),h(J,Fe)?(Zt.enumerable?(h(Ut,I)&&Ut[I][Fe]&&(Ut[I][Fe]=!1),Zt=_(Zt,{enumerable:b(0,!1)})):(h(Ut,I)||xt(Ut,I,b(1,{})),Ut[I][Fe]=!0),wt(Ut,Fe,Zt)):xt(Ut,Fe,Zt)},Mt=function(Ut,ie){f(Ut);var Zt=m(ie),Fe=E(Zt).concat(Yt(Zt));return B(Fe,function(le){l&&!o(Et,Zt,le)||Rt(Ut,le,Zt[le])}),Ut},Et=function(Ut){var ie=g(Ut),Zt=o(at,this,ie);return!(this===k&&h(J,ie)&&!h(et,ie))&&(!(Zt||!h(this,ie)||!h(J,ie)||h(this,I)&&this[I][ie])||Zt)},kt=function(Ut,ie){var Zt=m(Ut),Fe=g(ie);if(Zt!==k||!h(J,Fe)||h(et,Fe)){var le=Ct(Zt,Fe);return!le||!h(J,Fe)||h(Zt,I)&&Zt[I][Fe]||(le.enumerable=!0),le}},zt=function(Ut){var ie=rt(m(Ut)),Zt=[];return B(ie,function(Fe){h(J,Fe)||h(y,Fe)||_t(Zt,Fe)}),Zt},Yt=function(Ut){var ie=Ut===k,Zt=rt(ie?et:m(Ut)),Fe=[];return B(Zt,function(le){!h(J,le)||ie&&!h(k,le)||_t(Fe,J[le])}),Fe};c||(x(Z=(Y=function(){if(u(Z,this))throw new tt("Symbol is not a constructor");var Ut=arguments.length&&arguments[0]!==void 0?p(arguments[0]):void 0,ie=C(Ut),Zt=function(Fe){this===k&&o(Zt,et,Fe),h(this,I)&&h(this[I],ie)&&(this[I][ie]=!1);var le=b(1,Fe);try{wt(this,ie,le)}catch(fe){if(!(fe instanceof ct))throw fe;mt(this,ie,le)}};return l&&ut&&wt(k,ie,{configurable:!0,set:Zt}),vt(ie,Ut)}).prototype,"toString",function(){return A(this).tag}),x(Y,"withoutSetter",function(Ut){return vt(C(Ut),Ut)}),W.f=Et,L.f=Rt,q.f=Mt,F.f=kt,O.f=V.f=zt,H.f=Yt,S.f=function(Ut){return vt(w(Ut),Ut)},l&&(R(Z,"description",{configurable:!0,get:function(){return A(this).description}}),a||x(k,"propertyIsEnumerable",Et,{unsafe:!0}))),i({global:!0,constructor:!0,wrap:!0,forced:!c,sham:!c},{Symbol:Y}),B(E(lt),function(Ut){M(Ut)}),i({target:"Symbol",stat:!0,forced:!c},{useSetter:function(){ut=!0},useSimple:function(){ut=!1}}),i({target:"Object",stat:!0,forced:!c,sham:!l},{create:function(Ut,ie){return ie===void 0?_(Ut):Mt(_(Ut),ie)},defineProperty:Rt,defineProperties:Mt,getOwnPropertyDescriptor:kt}),i({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:zt}),U(),N(Y,"Symbol"),y[I]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(e,t,r){"use strict";var i=e("../internals/export"),n=e("../internals/get-built-in"),o=e("../internals/has-own-property"),s=e("../internals/to-string"),a=e("../internals/shared"),l=e("../internals/symbol-registry-detection"),c=a("string-to-symbol-registry"),d=a("symbol-to-string-registry");i({target:"Symbol",stat:!0,forced:!l},{for:function(h){var u=s(h);if(o(c,u))return c[u];var f=n("Symbol")(u);return c[u]=f,d[f]=u,f}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(e,t,r){"use strict";e("../modules/es.symbol.constructor"),e("../modules/es.symbol.for"),e("../modules/es.symbol.key-for"),e("../modules/es.json.stringify"),e("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(e,t,r){"use strict";var i=e("../internals/export"),n=e("../internals/has-own-property"),o=e("../internals/is-symbol"),s=e("../internals/try-to-string"),a=e("../internals/shared"),l=e("../internals/symbol-registry-detection"),c=a("symbol-to-string-registry");i({target:"Symbol",stat:!0,forced:!l},{keyFor:function(d){if(!o(d))throw new TypeError(s(d)+" is not a symbol");if(n(c,d))return c[d]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(e,t,r){"use strict";function i(n){return Object.prototype.toString.call(n)}r.isArray=function(n){return Array.isArray?Array.isArray(n):i(n)==="[object Array]"},r.isBoolean=function(n){return typeof n=="boolean"},r.isNull=function(n){return n===null},r.isNullOrUndefined=function(n){return n==null},r.isNumber=function(n){return typeof n=="number"},r.isString=function(n){return typeof n=="string"},r.isSymbol=function(n){return typeof n=="symbol"},r.isUndefined=function(n){return n===void 0},r.isRegExp=function(n){return i(n)==="[object RegExp]"},r.isObject=function(n){return typeof n=="object"&&n!==null},r.isDate=function(n){return i(n)==="[object Date]"},r.isError=function(n){return i(n)==="[object Error]"||n instanceof Error},r.isFunction=function(n){return typeof n=="function"},r.isPrimitive=function(n){return n===null||typeof n=="boolean"||typeof n=="number"||typeof n=="string"||typeof n=="symbol"||n===void 0},r.isBuffer=e("buffer").Buffer.isBuffer},{buffer:220}],384:[function(e,t,r){(function(i){(function(){"use strict";var n=e("elliptic"),o=e("bn.js");t.exports=function(c){return new a(c)};var s={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function a(c){this.curveType=s[c],this.curveType||(this.curveType={name:c}),this.curve=new n.ec(this.curveType.name),this.keys=void 0}function l(c,d,h){Array.isArray(c)||(c=c.toArray());var u=new i(c);if(h&&u.length<h){var f=new i(h-u.length);f.fill(0),u=i.concat([f,u])}return d?u.toString(d):u}s.p224=s.secp224r1,s.p256=s.secp256r1=s.prime256v1,s.p192=s.secp192r1=s.prime192v1,s.p384=s.secp384r1,s.p521=s.secp521r1,a.prototype.generateKeys=function(c,d){return this.keys=this.curve.genKeyPair(),this.getPublicKey(c,d)},a.prototype.computeSecret=function(c,d,h){return d=d||"utf8",i.isBuffer(c)||(c=new i(c,d)),l(this.curve.keyFromPublic(c).getPublic().mul(this.keys.getPrivate()).getX(),h,this.curveType.byteLength)},a.prototype.getPublicKey=function(c,d){var h=this.keys.getPublic(d==="compressed",!0);return d==="hybrid"&&(h[h.length-1]%2?h[0]=7:h[0]=6),l(h,c)},a.prototype.getPrivateKey=function(c){return l(this.keys.getPrivate(),c)},a.prototype.setPublicKey=function(c,d){return d=d||"utf8",i.isBuffer(c)||(c=new i(c,d)),this.keys._importPublic(c),this},a.prototype.setPrivateKey=function(c,d){d=d||"utf8",i.isBuffer(c)||(c=new i(c,d));var h=new o(c);return h=h.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(h),this}}).call(this)}).call(this,e("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(e,t,r){arguments[4][184][0].apply(r,arguments)},{buffer:188,dup:184}],386:[function(e,t,r){"use strict";var i=e("inherits"),n=e("md5.js"),o=e("ripemd160"),s=e("sha.js"),a=e("cipher-base");function l(c){a.call(this,"digest"),this._hash=c}i(l,a),l.prototype._update=function(c){this._hash.update(c)},l.prototype._final=function(){return this._hash.digest()},t.exports=function(c){return(c=c.toLowerCase())==="md5"?new n:c==="rmd160"||c==="ripemd160"?new o:new l(s(c))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(e,t,r){"use strict";var i=e("md5.js");t.exports=function(n){return new i().update(n).digest()}},{"md5.js":450}],388:[function(e,t,r){"use strict";var i=e("inherits"),n=e("./legacy"),o=e("cipher-base"),s=e("safe-buffer").Buffer,a=e("create-hash/md5"),l=e("ripemd160"),c=e("sha.js"),d=s.alloc(128);function h(u,f){o.call(this,"digest"),typeof f=="string"&&(f=s.from(f));var m=u==="sha512"||u==="sha384"?128:64;this._alg=u,this._key=f,f.length>m?f=(u==="rmd160"?new l:c(u)).update(f).digest():f.length<m&&(f=s.concat([f,d],m));for(var g=this._ipad=s.allocUnsafe(m),p=this._opad=s.allocUnsafe(m),b=0;b<m;b++)g[b]=54^f[b],p[b]=92^f[b];this._hash=u==="rmd160"?new l:c(u),this._hash.update(g)}i(h,o),h.prototype._update=function(u){this._hash.update(u)},h.prototype._final=function(){var u=this._hash.digest();return(this._alg==="rmd160"?new l:c(this._alg)).update(this._opad).update(u).digest()},t.exports=function(u,f){return(u=u.toLowerCase())==="rmd160"||u==="ripemd160"?new h("rmd160",f):u==="md5"?new n(a,f):new h(u,f)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(e,t,r){"use strict";var i=e("inherits"),n=e("safe-buffer").Buffer,o=e("cipher-base"),s=n.alloc(128);function a(l,c){o.call(this,"digest"),typeof c=="string"&&(c=n.from(c)),this._alg=l,this._key=c,c.length>64?c=l(c):c.length<64&&(c=n.concat([c,s],64));for(var d=this._ipad=n.allocUnsafe(64),h=this._opad=n.allocUnsafe(64),u=0;u<64;u++)d[u]=54^c[u],h[u]=92^c[u];this._hash=[d]}i(a,o),a.prototype._update=function(l){this._hash.push(l)},a.prototype._final=function(){var l=this._alg(n.concat(this._hash));return this._alg(n.concat([this._opad,l]))},t.exports=a},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(e,t,r){"use strict";r.randomBytes=r.rng=r.pseudoRandomBytes=r.prng=e("randombytes"),r.createHash=r.Hash=e("create-hash"),r.createHmac=r.Hmac=e("create-hmac");var i=e("browserify-sign/algos"),n=Object.keys(i),o=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(n);r.getHashes=function(){return o};var s=e("pbkdf2");r.pbkdf2=s.pbkdf2,r.pbkdf2Sync=s.pbkdf2Sync;var a=e("browserify-cipher");r.Cipher=a.Cipher,r.createCipher=a.createCipher,r.Cipheriv=a.Cipheriv,r.createCipheriv=a.createCipheriv,r.Decipher=a.Decipher,r.createDecipher=a.createDecipher,r.Decipheriv=a.Decipheriv,r.createDecipheriv=a.createDecipheriv,r.getCiphers=a.getCiphers,r.listCiphers=a.listCiphers;var l=e("diffie-hellman");r.DiffieHellmanGroup=l.DiffieHellmanGroup,r.createDiffieHellmanGroup=l.createDiffieHellmanGroup,r.getDiffieHellman=l.getDiffieHellman,r.createDiffieHellman=l.createDiffieHellman,r.DiffieHellman=l.DiffieHellman;var c=e("browserify-sign");r.createSign=c.createSign,r.Sign=c.Sign,r.createVerify=c.createVerify,r.Verify=c.Verify,r.createECDH=e("create-ecdh");var d=e("public-encrypt");r.publicEncrypt=d.publicEncrypt,r.privateEncrypt=d.privateEncrypt,r.publicDecrypt=d.publicDecrypt,r.privateDecrypt=d.privateDecrypt;var h=e("randomfill");r.randomFill=h.randomFill,r.randomFillSync=h.randomFillSync,r.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},r.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(e,t,r){"use strict";(function(i,n){typeof r=="object"&&t!==void 0?t.exports=n():(i=typeof globalThis<"u"?globalThis:i||self).dayjs=n()})(void 0,function(){var i=6e4,n=36e5,o="millisecond",s="second",a="minute",l="hour",c="day",d="week",h="month",u="quarter",f="year",m="date",g="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,b=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,_={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(v){var y=["th","st","nd","rd"],C=v%100;return"["+v+(y[(C-20)%10]||y[C]||y[0])+"]"}},E=function(v,y,C){var w=String(v);return!w||w.length>=y?v:""+Array(y+1-w.length).join(C)+v},O={s:E,z:function(v){var y=-v.utcOffset(),C=Math.abs(y),w=Math.floor(C/60),S=C%60;return(y<=0?"+":"-")+E(w,2,"0")+":"+E(S,2,"0")},m:function v(y,C){if(y.date()<C.date())return-v(C,y);var w=12*(C.year()-y.year())+(C.month()-y.month()),S=y.clone().add(w,h),M=C-S<0,U=y.clone().add(w+(M?-1:1),h);return+(-(w+(C-S)/(M?S-U:U-S))||0)},a:function(v){return v<0?Math.ceil(v)||0:Math.floor(v)},p:function(v){return{M:h,y:f,w:d,d:c,D:m,h:l,m:a,s,ms:o,Q:u}[v]||String(v||"").toLowerCase().replace(/s$/,"")},u:function(v){return v===void 0}},V="en",H={};H[V]=_;var F="$isDayjsObject",L=function(v){return v instanceof R||!(!v||!v[F])},q=function v(y,C,w){var S;if(!y)return V;if(typeof y=="string"){var M=y.toLowerCase();H[M]&&(S=M),C&&(H[M]=C,S=M);var U=y.split("-");if(!S&&U.length>1)return v(U[0])}else{var N=y.name;H[N]=y,S=N}return!w&&S&&(V=S),S||!w&&V},W=function(v,y){if(L(v))return v.clone();var C=typeof y=="object"?y:{};return C.date=v,C.args=arguments,new R(C)},x=O;x.l=q,x.i=L,x.w=function(v,y){return W(v,{locale:y.$L,utc:y.$u,x:y.$x,$offset:y.$offset})};var R=function(){function v(C){this.$L=q(C.locale,null,!0),this.parse(C),this.$x=this.$x||C.x||{},this[F]=!0}var y=v.prototype;return y.parse=function(C){this.$d=function(w){var S=w.date,M=w.utc;if(S===null)return new Date(NaN);if(x.u(S))return new Date;if(S instanceof Date)return new Date(S);if(typeof S=="string"&&!/Z$/i.test(S)){var U=S.match(p);if(U){var N=U[2]-1||0,T=(U[7]||"0").substring(0,3);return M?new Date(Date.UTC(U[1],N,U[3]||1,U[4]||0,U[5]||0,U[6]||0,T)):new Date(U[1],N,U[3]||1,U[4]||0,U[5]||0,U[6]||0,T)}}return new Date(S)}(C),this.init()},y.init=function(){var C=this.$d;this.$y=C.getFullYear(),this.$M=C.getMonth(),this.$D=C.getDate(),this.$W=C.getDay(),this.$H=C.getHours(),this.$m=C.getMinutes(),this.$s=C.getSeconds(),this.$ms=C.getMilliseconds()},y.$utils=function(){return x},y.isValid=function(){return this.$d.toString()!==g},y.isSame=function(C,w){var S=W(C);return this.startOf(w)<=S&&S<=this.endOf(w)},y.isAfter=function(C,w){return W(C)<this.startOf(w)},y.isBefore=function(C,w){return this.endOf(w)<W(C)},y.$g=function(C,w,S){return x.u(C)?this[w]:this.set(S,C)},y.unix=function(){return Math.floor(this.valueOf()/1e3)},y.valueOf=function(){return this.$d.getTime()},y.startOf=function(C,w){var S=this,M=!!x.u(w)||w,U=x.p(C),N=function(Z,ct){var tt=x.w(S.$u?Date.UTC(S.$y,ct,Z):new Date(S.$y,ct,Z),S);return M?tt:tt.endOf(c)},T=function(Z,ct){return x.w(S.toDate()[Z].apply(S.toDate("s"),(M?[0,0,0,0]:[23,59,59,999]).slice(ct)),S)},B=this.$W,I=this.$M,$=this.$D,A="set"+(this.$u?"UTC":"");switch(U){case f:return M?N(1,0):N(31,11);case h:return M?N(1,I):N(0,I+1);case d:var k=this.$locale().weekStart||0,Y=(B<k?B+7:B)-k;return N(M?$-Y:$+(6-Y),I);case c:case m:return T(A+"Hours",0);case l:return T(A+"Minutes",1);case a:return T(A+"Seconds",2);case s:return T(A+"Milliseconds",3);default:return this.clone()}},y.endOf=function(C){return this.startOf(C,!1)},y.$set=function(C,w){var S,M=x.p(C),U="set"+(this.$u?"UTC":""),N=(S={},S[c]=U+"Date",S[m]=U+"Date",S[h]=U+"Month",S[f]=U+"FullYear",S[l]=U+"Hours",S[a]=U+"Minutes",S[s]=U+"Seconds",S[o]=U+"Milliseconds",S)[M],T=M===c?this.$D+(w-this.$W):w;if(M===h||M===f){var B=this.clone().set(m,1);B.$d[N](T),B.init(),this.$d=B.set(m,Math.min(this.$D,B.daysInMonth())).$d}else N&&this.$d[N](T);return this.init(),this},y.set=function(C,w){return this.clone().$set(C,w)},y.get=function(C){return this[x.p(C)]()},y.add=function(C,w){var S,M=this;C=Number(C);var U=x.p(w),N=function(I){var $=W(M);return x.w($.date($.date()+Math.round(I*C)),M)};if(U===h)return this.set(h,this.$M+C);if(U===f)return this.set(f,this.$y+C);if(U===c)return N(1);if(U===d)return N(7);var T=(S={},S[a]=i,S[l]=n,S[s]=1e3,S)[U]||1,B=this.$d.getTime()+C*T;return x.w(B,this)},y.subtract=function(C,w){return this.add(-1*C,w)},y.format=function(C){var w=this,S=this.$locale();if(!this.isValid())return S.invalidDate||g;var M=C||"YYYY-MM-DDTHH:mm:ssZ",U=x.z(this),N=this.$H,T=this.$m,B=this.$M,I=S.weekdays,$=S.months,A=S.meridiem,k=function(ct,tt,nt,Ct){return ct&&(ct[tt]||ct(w,M))||nt[tt].slice(0,Ct)},Y=function(ct){return x.s(N%12||12,ct,"0")},Z=A||function(ct,tt,nt){var Ct=ct<12?"AM":"PM";return nt?Ct.toLowerCase():Ct};return M.replace(b,function(ct,tt){return tt||function(nt){switch(nt){case"YY":return String(w.$y).slice(-2);case"YYYY":return x.s(w.$y,4,"0");case"M":return B+1;case"MM":return x.s(B+1,2,"0");case"MMM":return k(S.monthsShort,B,$,3);case"MMMM":return k($,B);case"D":return w.$D;case"DD":return x.s(w.$D,2,"0");case"d":return String(w.$W);case"dd":return k(S.weekdaysMin,w.$W,I,2);case"ddd":return k(S.weekdaysShort,w.$W,I,3);case"dddd":return I[w.$W];case"H":return String(N);case"HH":return x.s(N,2,"0");case"h":return Y(1);case"hh":return Y(2);case"a":return Z(N,T,!0);case"A":return Z(N,T,!1);case"m":return String(T);case"mm":return x.s(T,2,"0");case"s":return String(w.$s);case"ss":return x.s(w.$s,2,"0");case"SSS":return x.s(w.$ms,3,"0");case"Z":return U}return null}(ct)||U.replace(":","")})},y.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},y.diff=function(C,w,S){var M,U=this,N=x.p(w),T=W(C),B=(T.utcOffset()-this.utcOffset())*i,I=this-T,$=function(){return x.m(U,T)};switch(N){case f:M=$()/12;break;case h:M=$();break;case u:M=$()/3;break;case d:M=(I-B)/6048e5;break;case c:M=(I-B)/864e5;break;case l:M=I/n;break;case a:M=I/i;break;case s:M=I/1e3;break;default:M=I}return S?M:x.a(M)},y.daysInMonth=function(){return this.endOf(h).$D},y.$locale=function(){return H[this.$L]},y.locale=function(C,w){if(!C)return this.$L;var S=this.clone(),M=q(C,w,!0);return M&&(S.$L=M),S},y.clone=function(){return x.w(this.$d,this)},y.toDate=function(){return new Date(this.valueOf())},y.toJSON=function(){return this.isValid()?this.toISOString():null},y.toISOString=function(){return this.$d.toISOString()},y.toString=function(){return this.$d.toUTCString()},v}(),j=R.prototype;return W.prototype=j,[["$ms",o],["$s",s],["$m",a],["$H",l],["$W",c],["$M",h],["$y",f],["$D",m]].forEach(function(v){j[v[1]]=function(y){return this.$g(y,v[0],v[1])}}),W.extend=function(v,y){return v.$i||(v(y,R,W),v.$i=!0),W},W.locale=q,W.isDayjs=L,W.unix=function(v){return W(1e3*v)},W.en=H[V],W.Ls=H,W.p={},W})},{}],392:[function(e,t,r){"use strict";(function(i,n){typeof r=="object"&&t!==void 0?t.exports=n():(i=typeof globalThis<"u"?globalThis:i||self).dayjs_plugin_customParseFormat=n()})(void 0,function(){var i={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},n=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,o=/\d\d/,s=/\d\d?/,a=/\d*[^-_:/,()\s\d]+/,l={},c=function(p){return(p=+p)+(p>68?1900:2e3)},d=function(p){return function(b){this[p]=+b}},h=[/[+-]\d\d:?(\d\d)?|Z/,function(p){(this.zone||(this.zone={})).offset=function(b){if(!b||b==="Z")return 0;var _=b.match(/([+-]|\d\d)/g),E=60*_[1]+(+_[2]||0);return E===0?0:_[0]==="+"?-E:E}(p)}],u=function(p){var b=l[p];return b&&(b.indexOf?b:b.s.concat(b.f))},f=function(p,b){var _,E=l.meridiem;if(E){for(var O=1;O<=24;O+=1)if(p.indexOf(E(O,0,b))>-1){_=O>12;break}}else _=p===(b?"pm":"PM");return _},m={A:[a,function(p){this.afternoon=f(p,!1)}],a:[a,function(p){this.afternoon=f(p,!0)}],S:[/\d/,function(p){this.milliseconds=100*+p}],SS:[o,function(p){this.milliseconds=10*+p}],SSS:[/\d{3}/,function(p){this.milliseconds=+p}],s:[s,d("seconds")],ss:[s,d("seconds")],m:[s,d("minutes")],mm:[s,d("minutes")],H:[s,d("hours")],h:[s,d("hours")],HH:[s,d("hours")],hh:[s,d("hours")],D:[s,d("day")],DD:[o,d("day")],Do:[a,function(p){var b=l.ordinal,_=p.match(/\d+/);if(this.day=_[0],b)for(var E=1;E<=31;E+=1)b(E).replace(/\[|\]/g,"")===p&&(this.day=E)}],M:[s,d("month")],MM:[o,d("month")],MMM:[a,function(p){var b=u("months"),_=(u("monthsShort")||b.map(function(E){return E.slice(0,3)})).indexOf(p)+1;if(_<1)throw new Error;this.month=_%12||_}],MMMM:[a,function(p){var b=u("months").indexOf(p)+1;if(b<1)throw new Error;this.month=b%12||b}],Y:[/[+-]?\d+/,d("year")],YY:[o,function(p){this.year=c(p)}],YYYY:[/\d{4}/,d("year")],Z:h,ZZ:h};function g(p){var b,_;b=p,_=l&&l.formats;for(var E=(p=b.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(W,x,R){var j=R&&R.toUpperCase();return x||_[R]||i[R]||_[j].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(v,y,C){return y||C.slice(1)})})).match(n),O=E.length,V=0;V<O;V+=1){var H=E[V],F=m[H],L=F&&F[0],q=F&&F[1];E[V]=q?{regex:L,parser:q}:H.replace(/^\[|\]$/g,"")}return function(W){for(var x={},R=0,j=0;R<O;R+=1){var v=E[R];if(typeof v=="string")j+=v.length;else{var y=v.regex,C=v.parser,w=W.slice(j),S=y.exec(w)[0];C.call(x,S),W=W.replace(S,"")}}return function(M){var U=M.afternoon;if(U!==void 0){var N=M.hours;U?N<12&&(M.hours+=12):N===12&&(M.hours=0),delete M.afternoon}}(x),x}}return function(p,b,_){_.p.customParseFormat=!0,p&&p.parseTwoDigitYear&&(c=p.parseTwoDigitYear);var E=b.prototype,O=E.parse;E.parse=function(V){var H=V.date,F=V.utc,L=V.args;this.$u=F;var q=L[1];if(typeof q=="string"){var W=L[2]===!0,x=L[3]===!0,R=W||x,j=L[2];x&&(j=L[2]),l=this.$locale(),!W&&j&&(l=_.Ls[j]),this.$d=function(w,S,M){try{if(["x","X"].indexOf(S)>-1)return new Date((S==="X"?1e3:1)*w);var U=g(S)(w),N=U.year,T=U.month,B=U.day,I=U.hours,$=U.minutes,A=U.seconds,k=U.milliseconds,Y=U.zone,Z=new Date,ct=B||(N||T?1:Z.getDate()),tt=N||Z.getFullYear(),nt=0;N&&!T||(nt=T>0?T-1:Z.getMonth());var Ct=I||0,xt=$||0,rt=A||0,at=k||0;return Y?new Date(Date.UTC(tt,nt,ct,Ct,xt,rt,at+60*Y.offset*1e3)):M?new Date(Date.UTC(tt,nt,ct,Ct,xt,rt,at)):new Date(tt,nt,ct,Ct,xt,rt,at)}catch{return new Date("")}}(H,q,F),this.init(),j&&j!==!0&&(this.$L=this.locale(j).$L),R&&H!=this.format(q)&&(this.$d=new Date("")),l={}}else if(q instanceof Array)for(var v=q.length,y=1;y<=v;y+=1){L[1]=q[y-1];var C=_.apply(this,L);if(C.isValid()){this.$d=C.$d,this.$L=C.$L,this.init();break}y===v&&(this.$d=new Date(""))}else O.call(this,V)}}})},{}],393:[function(e,t,r){"use strict";(function(i,n){typeof r=="object"&&t!==void 0?t.exports=n():(i=typeof globalThis<"u"?globalThis:i||self).dayjs_plugin_utc=n()})(void 0,function(){var i="minute",n=/[+-]\d\d(?::?\d\d)?/g,o=/([+-]|\d\d)/g;return function(s,a,l){var c=a.prototype;l.utc=function(p){var b={date:p,utc:!0,args:arguments};return new a(b)},c.utc=function(p){var b=l(this.toDate(),{locale:this.$L,utc:!0});return p?b.add(this.utcOffset(),i):b},c.local=function(){return l(this.toDate(),{locale:this.$L,utc:!1})};var d=c.parse;c.parse=function(p){p.utc&&(this.$u=!0),this.$utils().u(p.$offset)||(this.$offset=p.$offset),d.call(this,p)};var h=c.init;c.init=function(){if(this.$u){var p=this.$d;this.$y=p.getUTCFullYear(),this.$M=p.getUTCMonth(),this.$D=p.getUTCDate(),this.$W=p.getUTCDay(),this.$H=p.getUTCHours(),this.$m=p.getUTCMinutes(),this.$s=p.getUTCSeconds(),this.$ms=p.getUTCMilliseconds()}else h.call(this)};var u=c.utcOffset;c.utcOffset=function(p,b){var _=this.$utils().u;if(_(p))return this.$u?0:_(this.$offset)?u.call(this):this.$offset;if(typeof p=="string"&&(p=function(H){H===void 0&&(H="");var F=H.match(n);if(!F)return null;var L=(""+F[0]).match(o)||["-",0,0],q=L[0],W=60*+L[1]+ +L[2];return W===0?0:q==="+"?W:-W}(p))===null)return this;var E=Math.abs(p)<=16?60*p:p,O=this;if(b)return O.$offset=E,O.$u=p===0,O;if(p!==0){var V=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(O=this.local().add(E+V,i)).$offset=E,O.$x.$localOffset=V}else O=this.utc();return O};var f=c.format;c.format=function(p){var b=p||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return f.call(this,b)},c.valueOf=function(){var p=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*p},c.isUTC=function(){return!!this.$u},c.toISOString=function(){return this.toDate().toISOString()},c.toString=function(){return this.toDate().toUTCString()};var m=c.toDate;c.toDate=function(p){return p==="s"&&this.$offset?l(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():m.call(this)};var g=c.diff;c.diff=function(p,b,_){if(p&&this.$u===p.$u)return g.call(this,p,b,_);var E=this.local(),O=l(p).local();return g.call(E,O,b,_)}}})},{}],394:[function(e,t,r){"use strict";r.utils=e("./des/utils"),r.Cipher=e("./des/cipher"),r.DES=e("./des/des"),r.CBC=e("./des/cbc"),r.EDE=e("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(e,t,r){"use strict";var i=e("minimalistic-assert"),n=e("inherits"),o={};function s(a){i.equal(a.length,8,"Invalid IV length"),this.iv=new Array(8);for(var l=0;l<this.iv.length;l++)this.iv[l]=a[l]}r.instantiate=function(a){function l(u){a.call(this,u),this._cbcInit()}n(l,a);for(var c=Object.keys(o),d=0;d<c.length;d++){var h=c[d];l.prototype[h]=o[h]}return l.create=function(u){return new l(u)},l},o._cbcInit=function(){var a=new s(this.options.iv);this._cbcState=a},o._update=function(a,l,c,d){var h=this._cbcState,u=this.constructor.super_.prototype,f=h.iv;if(this.type==="encrypt"){for(var m=0;m<this.blockSize;m++)f[m]^=a[l+m];for(u._update.call(this,f,0,c,d),m=0;m<this.blockSize;m++)f[m]=c[d+m]}else{for(u._update.call(this,a,l,c,d),m=0;m<this.blockSize;m++)c[d+m]^=f[m];for(m=0;m<this.blockSize;m++)f[m]=a[l+m]}}},{inherits:440,"minimalistic-assert":453}],396:[function(e,t,r){"use strict";var i=e("minimalistic-assert");function n(o){this.options=o,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=o.padding!==!1}t.exports=n,n.prototype._init=function(){},n.prototype.update=function(o){return o.length===0?[]:this.type==="decrypt"?this._updateDecrypt(o):this._updateEncrypt(o)},n.prototype._buffer=function(o,s){for(var a=Math.min(this.buffer.length-this.bufferOff,o.length-s),l=0;l<a;l++)this.buffer[this.bufferOff+l]=o[s+l];return this.bufferOff+=a,a},n.prototype._flushBuffer=function(o,s){return this._update(this.buffer,0,o,s),this.bufferOff=0,this.blockSize},n.prototype._updateEncrypt=function(o){var s=0,a=0,l=(this.bufferOff+o.length)/this.blockSize|0,c=new Array(l*this.blockSize);this.bufferOff!==0&&(s+=this._buffer(o,s),this.bufferOff===this.buffer.length&&(a+=this._flushBuffer(c,a)));for(var d=o.length-(o.length-s)%this.blockSize;s<d;s+=this.blockSize)this._update(o,s,c,a),a+=this.blockSize;for(;s<o.length;s++,this.bufferOff++)this.buffer[this.bufferOff]=o[s];return c},n.prototype._updateDecrypt=function(o){for(var s=0,a=0,l=Math.ceil((this.bufferOff+o.length)/this.blockSize)-1,c=new Array(l*this.blockSize);l>0;l--)s+=this._buffer(o,s),a+=this._flushBuffer(c,a);return s+=this._buffer(o,s),c},n.prototype.final=function(o){var s,a;return o&&(s=this.update(o)),a=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),s?s.concat(a):a},n.prototype._pad=function(o,s){if(s===0)return!1;for(;s<o.length;)o[s++]=0;return!0},n.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var o=new Array(this.blockSize);return this._update(this.buffer,0,o,0),o},n.prototype._unpad=function(o){return o},n.prototype._finalDecrypt=function(){i.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var o=new Array(this.blockSize);return this._flushBuffer(o,0),this._unpad(o)}},{"minimalistic-assert":453}],397:[function(e,t,r){"use strict";var i=e("minimalistic-assert"),n=e("inherits"),o=e("./utils"),s=e("./cipher");function a(){this.tmp=new Array(2),this.keys=null}function l(d){s.call(this,d);var h=new a;this._desState=h,this.deriveKeys(h,d.key)}n(l,s),t.exports=l,l.create=function(d){return new l(d)};var c=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];l.prototype.deriveKeys=function(d,h){d.keys=new Array(32),i.equal(h.length,this.blockSize,"Invalid key length");var u=o.readUInt32BE(h,0),f=o.readUInt32BE(h,4);o.pc1(u,f,d.tmp,0),u=d.tmp[0],f=d.tmp[1];for(var m=0;m<d.keys.length;m+=2){var g=c[m>>>1];u=o.r28shl(u,g),f=o.r28shl(f,g),o.pc2(u,f,d.keys,m)}},l.prototype._update=function(d,h,u,f){var m=this._desState,g=o.readUInt32BE(d,h),p=o.readUInt32BE(d,h+4);o.ip(g,p,m.tmp,0),g=m.tmp[0],p=m.tmp[1],this.type==="encrypt"?this._encrypt(m,g,p,m.tmp,0):this._decrypt(m,g,p,m.tmp,0),g=m.tmp[0],p=m.tmp[1],o.writeUInt32BE(u,g,f),o.writeUInt32BE(u,p,f+4)},l.prototype._pad=function(d,h){if(this.padding===!1)return!1;for(var u=d.length-h,f=h;f<d.length;f++)d[f]=u;return!0},l.prototype._unpad=function(d){if(this.padding===!1)return d;for(var h=d[d.length-1],u=d.length-h;u<d.length;u++)i.equal(d[u],h);return d.slice(0,d.length-h)},l.prototype._encrypt=function(d,h,u,f,m){for(var g=h,p=u,b=0;b<d.keys.length;b+=2){var _=d.keys[b],E=d.keys[b+1];o.expand(p,d.tmp,0),_^=d.tmp[0],E^=d.tmp[1];var O=o.substitute(_,E),V=p;p=(g^o.permute(O))>>>0,g=V}o.rip(p,g,f,m)},l.prototype._decrypt=function(d,h,u,f,m){for(var g=u,p=h,b=d.keys.length-2;b>=0;b-=2){var _=d.keys[b],E=d.keys[b+1];o.expand(g,d.tmp,0),_^=d.tmp[0],E^=d.tmp[1];var O=o.substitute(_,E),V=g;g=(p^o.permute(O))>>>0,p=V}o.rip(g,p,f,m)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(e,t,r){"use strict";var i=e("minimalistic-assert"),n=e("inherits"),o=e("./cipher"),s=e("./des");function a(c,d){i.equal(d.length,24,"Invalid key length");var h=d.slice(0,8),u=d.slice(8,16),f=d.slice(16,24);this.ciphers=c==="encrypt"?[s.create({type:"encrypt",key:h}),s.create({type:"decrypt",key:u}),s.create({type:"encrypt",key:f})]:[s.create({type:"decrypt",key:f}),s.create({type:"encrypt",key:u}),s.create({type:"decrypt",key:h})]}function l(c){o.call(this,c);var d=new a(this.type,this.options.key);this._edeState=d}n(l,o),t.exports=l,l.create=function(c){return new l(c)},l.prototype._update=function(c,d,h,u){var f=this._edeState;f.ciphers[0]._update(c,d,h,u),f.ciphers[1]._update(h,u,h,u),f.ciphers[2]._update(h,u,h,u)},l.prototype._pad=s.prototype._pad,l.prototype._unpad=s.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(e,t,r){"use strict";r.readUInt32BE=function(s,a){return(s[0+a]<<24|s[1+a]<<16|s[2+a]<<8|s[3+a])>>>0},r.writeUInt32BE=function(s,a,l){s[0+l]=a>>>24,s[1+l]=a>>>16&255,s[2+l]=a>>>8&255,s[3+l]=255&a},r.ip=function(s,a,l,c){for(var d=0,h=0,u=6;u>=0;u-=2){for(var f=0;f<=24;f+=8)d<<=1,d|=a>>>f+u&1;for(f=0;f<=24;f+=8)d<<=1,d|=s>>>f+u&1}for(u=6;u>=0;u-=2){for(f=1;f<=25;f+=8)h<<=1,h|=a>>>f+u&1;for(f=1;f<=25;f+=8)h<<=1,h|=s>>>f+u&1}l[c+0]=d>>>0,l[c+1]=h>>>0},r.rip=function(s,a,l,c){for(var d=0,h=0,u=0;u<4;u++)for(var f=24;f>=0;f-=8)d<<=1,d|=a>>>f+u&1,d<<=1,d|=s>>>f+u&1;for(u=4;u<8;u++)for(f=24;f>=0;f-=8)h<<=1,h|=a>>>f+u&1,h<<=1,h|=s>>>f+u&1;l[c+0]=d>>>0,l[c+1]=h>>>0},r.pc1=function(s,a,l,c){for(var d=0,h=0,u=7;u>=5;u--){for(var f=0;f<=24;f+=8)d<<=1,d|=a>>f+u&1;for(f=0;f<=24;f+=8)d<<=1,d|=s>>f+u&1}for(f=0;f<=24;f+=8)d<<=1,d|=a>>f+u&1;for(u=1;u<=3;u++){for(f=0;f<=24;f+=8)h<<=1,h|=a>>f+u&1;for(f=0;f<=24;f+=8)h<<=1,h|=s>>f+u&1}for(f=0;f<=24;f+=8)h<<=1,h|=s>>f+u&1;l[c+0]=d>>>0,l[c+1]=h>>>0},r.r28shl=function(s,a){return s<<a&268435455|s>>>28-a};var i=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];r.pc2=function(s,a,l,c){for(var d=0,h=0,u=i.length>>>1,f=0;f<u;f++)d<<=1,d|=s>>>i[f]&1;for(f=u;f<i.length;f++)h<<=1,h|=a>>>i[f]&1;l[c+0]=d>>>0,l[c+1]=h>>>0},r.expand=function(s,a,l){var c=0,d=0;c=(1&s)<<5|s>>>27;for(var h=23;h>=15;h-=4)c<<=6,c|=s>>>h&63;for(h=11;h>=3;h-=4)d|=s>>>h&63,d<<=6;d|=(31&s)<<1|s>>>31,a[l+0]=c>>>0,a[l+1]=d>>>0};var n=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];r.substitute=function(s,a){for(var l=0,c=0;c<4;c++)l<<=4,l|=n[64*c+(s>>>18-6*c&63)];for(c=0;c<4;c++)l<<=4,l|=n[256+64*c+(a>>>18-6*c&63)];return l>>>0};var o=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];r.permute=function(s){for(var a=0,l=0;l<o.length;l++)a<<=1,a|=s>>>o[l]&1;return a>>>0},r.padSplit=function(s,a,l){for(var c=s.toString(2);c.length<a;)c="0"+c;for(var d=[],h=0;h<a;h+=l)d.push(c.slice(h,h+l));return d.join(" ")}},{}],400:[function(e,t,r){(function(i){(function(){"use strict";var n=e("./lib/generatePrime"),o=e("./lib/primes.json"),s=e("./lib/dh"),a={binary:!0,hex:!0,base64:!0};r.DiffieHellmanGroup=r.createDiffieHellmanGroup=r.getDiffieHellman=function(l){var c=new i(o[l].prime,"hex"),d=new i(o[l].gen,"hex");return new s(c,d)},r.createDiffieHellman=r.DiffieHellman=function l(c,d,h,u){return i.isBuffer(d)||a[d]===void 0?l(c,"binary",d,h):(d=d||"binary",u=u||"binary",h=h||new i([2]),i.isBuffer(h)||(h=new i(h,u)),typeof c=="number"?new s(n(c,h),h,!0):(i.isBuffer(c)||(c=new i(c,d)),new s(c,h,!0)))}}).call(this)}).call(this,e("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(e,t,r){(function(i){(function(){"use strict";var n=e("bn.js"),o=new(e("miller-rabin")),s=new n(24),a=new n(11),l=new n(10),c=new n(3),d=new n(7),h=e("./generatePrime"),u=e("randombytes");function f(_,E){return E=E||"utf8",i.isBuffer(_)||(_=new i(_,E)),this._pub=new n(_),this}function m(_,E){return E=E||"utf8",i.isBuffer(_)||(_=new i(_,E)),this._priv=new n(_),this}t.exports=p;var g={};function p(_,E,O){this.setGenerator(E),this.__prime=new n(_),this._prime=n.mont(this.__prime),this._primeLen=_.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,O?(this.setPublicKey=f,this.setPrivateKey=m):this._primeCode=8}function b(_,E){var O=new i(_.toArray());return E?O.toString(E):O}Object.defineProperty(p.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=function(_,E){var O=E.toString("hex"),V=[O,_.toString(16)].join("_");if(V in g)return g[V];var H,F=0;if(_.isEven()||!h.simpleSieve||!h.fermatTest(_)||!o.test(_))return F+=1,F+=O==="02"||O==="05"?8:4,g[V]=F,F;switch(o.test(_.shrn(1))||(F+=2),O){case"02":_.mod(s).cmp(a)&&(F+=8);break;case"05":(H=_.mod(l)).cmp(c)&&H.cmp(d)&&(F+=8);break;default:F+=4}return g[V]=F,F}(this.__prime,this.__gen)),this._primeCode}}),p.prototype.generateKeys=function(){return this._priv||(this._priv=new n(u(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},p.prototype.computeSecret=function(_){var E=(_=(_=new n(_)).toRed(this._prime)).redPow(this._priv).fromRed(),O=new i(E.toArray()),V=this.getPrime();if(O.length<V.length){var H=new i(V.length-O.length);H.fill(0),O=i.concat([H,O])}return O},p.prototype.getPublicKey=function(_){return b(this._pub,_)},p.prototype.getPrivateKey=function(_){return b(this._priv,_)},p.prototype.getPrime=function(_){return b(this.__prime,_)},p.prototype.getGenerator=function(_){return b(this._gen,_)},p.prototype.setGenerator=function(_,E){return E=E||"utf8",i.isBuffer(_)||(_=new i(_,E)),this.__gen=_,this._gen=new n(_),this}}).call(this)}).call(this,e("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(e,t,r){"use strict";var i=e("randombytes");t.exports=_,_.simpleSieve=p,_.fermatTest=b;var n=e("bn.js"),o=new n(24),s=new(e("miller-rabin")),a=new n(1),l=new n(2),c=new n(5),d=(new n(16),new n(8),new n(10)),h=new n(3),u=(new n(7),new n(11)),f=new n(4),m=(new n(12),null);function g(){if(m!==null)return m;var E=[];E[0]=2;for(var O=1,V=3;V<1048576;V+=2){for(var H=Math.ceil(Math.sqrt(V)),F=0;F<O&&E[F]<=H&&V%E[F]!=0;F++);O!==F&&E[F]<=H||(E[O++]=V)}return m=E,E}function p(E){for(var O=g(),V=0;V<O.length;V++)if(E.modn(O[V])===0)return E.cmpn(O[V])===0;return!0}function b(E){var O=n.mont(E);return l.toRed(O).redPow(E.subn(1)).fromRed().cmpn(1)===0}function _(E,O){if(E<16)return new n(O===2||O===5?[140,123]:[140,39]);var V,H;for(O=new n(O);;){for(V=new n(i(Math.ceil(E/8)));V.bitLength()>E;)V.ishrn(1);if(V.isEven()&&V.iadd(a),V.testn(1)||V.iadd(l),O.cmp(l)){if(!O.cmp(c))for(;V.mod(d).cmp(h);)V.iadd(f)}else for(;V.mod(o).cmp(u);)V.iadd(f);if(p(H=V.shrn(1))&&p(V)&&b(H)&&b(V)&&s.test(H)&&s.test(V))return V}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(e,t,r){t.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(e,t,r){arguments[4][184][0].apply(r,arguments)},{buffer:188,dup:184}],405:[function(e,t,r){"use strict";var i=r;i.version=e("../package.json").version,i.utils=e("./elliptic/utils"),i.rand=e("brorand"),i.curve=e("./elliptic/curve"),i.curves=e("./elliptic/curves"),i.ec=e("./elliptic/ec"),i.eddsa=e("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(e,t,r){"use strict";var i=e("bn.js"),n=e("../utils"),o=n.getNAF,s=n.getJSF,a=n.assert;function l(d,h){this.type=d,this.p=new i(h.p,16),this.red=h.prime?i.red(h.prime):i.mont(this.p),this.zero=new i(0).toRed(this.red),this.one=new i(1).toRed(this.red),this.two=new i(2).toRed(this.red),this.n=h.n&&new i(h.n,16),this.g=h.g&&this.pointFromJSON(h.g,h.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var u=this.n&&this.p.div(this.n);!u||u.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function c(d,h){this.curve=d,this.type=h,this.precomputed=null}t.exports=l,l.prototype.point=function(){throw new Error("Not implemented")},l.prototype.validate=function(){throw new Error("Not implemented")},l.prototype._fixedNafMul=function(d,h){a(d.precomputed);var u=d._getDoubles(),f=o(h,1,this._bitLength),m=(1<<u.step+1)-(u.step%2==0?2:1);m/=3;var g,p,b=[];for(g=0;g<f.length;g+=u.step){p=0;for(var _=g+u.step-1;_>=g;_--)p=(p<<1)+f[_];b.push(p)}for(var E=this.jpoint(null,null,null),O=this.jpoint(null,null,null),V=m;V>0;V--){for(g=0;g<b.length;g++)(p=b[g])===V?O=O.mixedAdd(u.points[g]):p===-V&&(O=O.mixedAdd(u.points[g].neg()));E=E.add(O)}return E.toP()},l.prototype._wnafMul=function(d,h){var u=4,f=d._getNAFPoints(u);u=f.wnd;for(var m=f.points,g=o(h,u,this._bitLength),p=this.jpoint(null,null,null),b=g.length-1;b>=0;b--){for(var _=0;b>=0&&g[b]===0;b--)_++;if(b>=0&&_++,p=p.dblp(_),b<0)break;var E=g[b];a(E!==0),p=d.type==="affine"?E>0?p.mixedAdd(m[E-1>>1]):p.mixedAdd(m[-E-1>>1].neg()):E>0?p.add(m[E-1>>1]):p.add(m[-E-1>>1].neg())}return d.type==="affine"?p.toP():p},l.prototype._wnafMulAdd=function(d,h,u,f,m){var g,p,b,_=this._wnafT1,E=this._wnafT2,O=this._wnafT3,V=0;for(g=0;g<f;g++){var H=(b=h[g])._getNAFPoints(d);_[g]=H.wnd,E[g]=H.points}for(g=f-1;g>=1;g-=2){var F=g-1,L=g;if(_[F]===1&&_[L]===1){var q=[h[F],null,null,h[L]];h[F].y.cmp(h[L].y)===0?(q[1]=h[F].add(h[L]),q[2]=h[F].toJ().mixedAdd(h[L].neg())):h[F].y.cmp(h[L].y.redNeg())===0?(q[1]=h[F].toJ().mixedAdd(h[L]),q[2]=h[F].add(h[L].neg())):(q[1]=h[F].toJ().mixedAdd(h[L]),q[2]=h[F].toJ().mixedAdd(h[L].neg()));var W=[-3,-1,-5,-7,0,7,5,1,3],x=s(u[F],u[L]);for(V=Math.max(x[0].length,V),O[F]=new Array(V),O[L]=new Array(V),p=0;p<V;p++){var R=0|x[0][p],j=0|x[1][p];O[F][p]=W[3*(R+1)+(j+1)],O[L][p]=0,E[F]=q}}else O[F]=o(u[F],_[F],this._bitLength),O[L]=o(u[L],_[L],this._bitLength),V=Math.max(O[F].length,V),V=Math.max(O[L].length,V)}var v=this.jpoint(null,null,null),y=this._wnafT4;for(g=V;g>=0;g--){for(var C=0;g>=0;){var w=!0;for(p=0;p<f;p++)y[p]=0|O[p][g],y[p]!==0&&(w=!1);if(!w)break;C++,g--}if(g>=0&&C++,v=v.dblp(C),g<0)break;for(p=0;p<f;p++){var S=y[p];S!==0&&(S>0?b=E[p][S-1>>1]:S<0&&(b=E[p][-S-1>>1].neg()),v=b.type==="affine"?v.mixedAdd(b):v.add(b))}}for(g=0;g<f;g++)E[g]=null;return m?v:v.toP()},l.BasePoint=c,c.prototype.eq=function(){throw new Error("Not implemented")},c.prototype.validate=function(){return this.curve.validate(this)},l.prototype.decodePoint=function(d,h){d=n.toArray(d,h);var u=this.p.byteLength();if((d[0]===4||d[0]===6||d[0]===7)&&d.length-1==2*u)return d[0]===6?a(d[d.length-1]%2==0):d[0]===7&&a(d[d.length-1]%2==1),this.point(d.slice(1,1+u),d.slice(1+u,1+2*u));if((d[0]===2||d[0]===3)&&d.length-1===u)return this.pointFromX(d.slice(1,1+u),d[0]===3);throw new Error("Unknown point format")},c.prototype.encodeCompressed=function(d){return this.encode(d,!0)},c.prototype._encode=function(d){var h=this.curve.p.byteLength(),u=this.getX().toArray("be",h);return d?[this.getY().isEven()?2:3].concat(u):[4].concat(u,this.getY().toArray("be",h))},c.prototype.encode=function(d,h){return n.encode(this._encode(h),d)},c.prototype.precompute=function(d){if(this.precomputed)return this;var h={doubles:null,naf:null,beta:null};return h.naf=this._getNAFPoints(8),h.doubles=this._getDoubles(4,d),h.beta=this._getBeta(),this.precomputed=h,this},c.prototype._hasDoubles=function(d){if(!this.precomputed)return!1;var h=this.precomputed.doubles;return!!h&&h.points.length>=Math.ceil((d.bitLength()+1)/h.step)},c.prototype._getDoubles=function(d,h){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var u=[this],f=this,m=0;m<h;m+=d){for(var g=0;g<d;g++)f=f.dbl();u.push(f)}return{step:d,points:u}},c.prototype._getNAFPoints=function(d){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var h=[this],u=(1<<d)-1,f=u===1?null:this.dbl(),m=1;m<u;m++)h[m]=h[m-1].add(f);return{wnd:d,points:h}},c.prototype._getBeta=function(){return null},c.prototype.dblp=function(d){for(var h=this,u=0;u<d;u++)h=h.dbl();return h}},{"../utils":419,"bn.js":420}],407:[function(e,t,r){"use strict";var i=e("../utils"),n=e("bn.js"),o=e("inherits"),s=e("./base"),a=i.assert;function l(d){this.twisted=(0|d.a)!=1,this.mOneA=this.twisted&&(0|d.a)==-1,this.extended=this.mOneA,s.call(this,"edwards",d),this.a=new n(d.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new n(d.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new n(d.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|d.c)==1}function c(d,h,u,f,m){s.BasePoint.call(this,d,"projective"),h===null&&u===null&&f===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new n(h,16),this.y=new n(u,16),this.z=f?new n(f,16):this.curve.one,this.t=m&&new n(m,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(l,s),t.exports=l,l.prototype._mulA=function(d){return this.mOneA?d.redNeg():this.a.redMul(d)},l.prototype._mulC=function(d){return this.oneC?d:this.c.redMul(d)},l.prototype.jpoint=function(d,h,u,f){return this.point(d,h,u,f)},l.prototype.pointFromX=function(d,h){(d=new n(d,16)).red||(d=d.toRed(this.red));var u=d.redSqr(),f=this.c2.redSub(this.a.redMul(u)),m=this.one.redSub(this.c2.redMul(this.d).redMul(u)),g=f.redMul(m.redInvm()),p=g.redSqrt();if(p.redSqr().redSub(g).cmp(this.zero)!==0)throw new Error("invalid point");var b=p.fromRed().isOdd();return(h&&!b||!h&&b)&&(p=p.redNeg()),this.point(d,p)},l.prototype.pointFromY=function(d,h){(d=new n(d,16)).red||(d=d.toRed(this.red));var u=d.redSqr(),f=u.redSub(this.c2),m=u.redMul(this.d).redMul(this.c2).redSub(this.a),g=f.redMul(m.redInvm());if(g.cmp(this.zero)===0){if(h)throw new Error("invalid point");return this.point(this.zero,d)}var p=g.redSqrt();if(p.redSqr().redSub(g).cmp(this.zero)!==0)throw new Error("invalid point");return p.fromRed().isOdd()!==h&&(p=p.redNeg()),this.point(p,d)},l.prototype.validate=function(d){if(d.isInfinity())return!0;d.normalize();var h=d.x.redSqr(),u=d.y.redSqr(),f=h.redMul(this.a).redAdd(u),m=this.c2.redMul(this.one.redAdd(this.d.redMul(h).redMul(u)));return f.cmp(m)===0},o(c,s.BasePoint),l.prototype.pointFromJSON=function(d){return c.fromJSON(this,d)},l.prototype.point=function(d,h,u,f){return new c(this,d,h,u,f)},c.fromJSON=function(d,h){return new c(d,h[0],h[1],h[2])},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},c.prototype._extDbl=function(){var d=this.x.redSqr(),h=this.y.redSqr(),u=this.z.redSqr();u=u.redIAdd(u);var f=this.curve._mulA(d),m=this.x.redAdd(this.y).redSqr().redISub(d).redISub(h),g=f.redAdd(h),p=g.redSub(u),b=f.redSub(h),_=m.redMul(p),E=g.redMul(b),O=m.redMul(b),V=p.redMul(g);return this.curve.point(_,E,V,O)},c.prototype._projDbl=function(){var d,h,u,f,m,g,p=this.x.redAdd(this.y).redSqr(),b=this.x.redSqr(),_=this.y.redSqr();if(this.curve.twisted){var E=(f=this.curve._mulA(b)).redAdd(_);this.zOne?(d=p.redSub(b).redSub(_).redMul(E.redSub(this.curve.two)),h=E.redMul(f.redSub(_)),u=E.redSqr().redSub(E).redSub(E)):(m=this.z.redSqr(),g=E.redSub(m).redISub(m),d=p.redSub(b).redISub(_).redMul(g),h=E.redMul(f.redSub(_)),u=E.redMul(g))}else f=b.redAdd(_),m=this.curve._mulC(this.z).redSqr(),g=f.redSub(m).redSub(m),d=this.curve._mulC(p.redISub(f)).redMul(g),h=this.curve._mulC(f).redMul(b.redISub(_)),u=f.redMul(g);return this.curve.point(d,h,u)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},c.prototype._extAdd=function(d){var h=this.y.redSub(this.x).redMul(d.y.redSub(d.x)),u=this.y.redAdd(this.x).redMul(d.y.redAdd(d.x)),f=this.t.redMul(this.curve.dd).redMul(d.t),m=this.z.redMul(d.z.redAdd(d.z)),g=u.redSub(h),p=m.redSub(f),b=m.redAdd(f),_=u.redAdd(h),E=g.redMul(p),O=b.redMul(_),V=g.redMul(_),H=p.redMul(b);return this.curve.point(E,O,H,V)},c.prototype._projAdd=function(d){var h,u,f=this.z.redMul(d.z),m=f.redSqr(),g=this.x.redMul(d.x),p=this.y.redMul(d.y),b=this.curve.d.redMul(g).redMul(p),_=m.redSub(b),E=m.redAdd(b),O=this.x.redAdd(this.y).redMul(d.x.redAdd(d.y)).redISub(g).redISub(p),V=f.redMul(_).redMul(O);return this.curve.twisted?(h=f.redMul(E).redMul(p.redSub(this.curve._mulA(g))),u=_.redMul(E)):(h=f.redMul(E).redMul(p.redSub(g)),u=this.curve._mulC(_).redMul(E)),this.curve.point(V,h,u)},c.prototype.add=function(d){return this.isInfinity()?d:d.isInfinity()?this:this.curve.extended?this._extAdd(d):this._projAdd(d)},c.prototype.mul=function(d){return this._hasDoubles(d)?this.curve._fixedNafMul(this,d):this.curve._wnafMul(this,d)},c.prototype.mulAdd=function(d,h,u){return this.curve._wnafMulAdd(1,[this,h],[d,u],2,!1)},c.prototype.jmulAdd=function(d,h,u){return this.curve._wnafMulAdd(1,[this,h],[d,u],2,!0)},c.prototype.normalize=function(){if(this.zOne)return this;var d=this.z.redInvm();return this.x=this.x.redMul(d),this.y=this.y.redMul(d),this.t&&(this.t=this.t.redMul(d)),this.z=this.curve.one,this.zOne=!0,this},c.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()},c.prototype.getY=function(){return this.normalize(),this.y.fromRed()},c.prototype.eq=function(d){return this===d||this.getX().cmp(d.getX())===0&&this.getY().cmp(d.getY())===0},c.prototype.eqXToP=function(d){var h=d.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(h)===0)return!0;for(var u=d.clone(),f=this.curve.redN.redMul(this.z);;){if(u.iadd(this.curve.n),u.cmp(this.curve.p)>=0)return!1;if(h.redIAdd(f),this.x.cmp(h)===0)return!0}},c.prototype.toP=c.prototype.normalize,c.prototype.mixedAdd=c.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(e,t,r){"use strict";var i=r;i.base=e("./base"),i.short=e("./short"),i.mont=e("./mont"),i.edwards=e("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(e,t,r){"use strict";var i=e("bn.js"),n=e("inherits"),o=e("./base"),s=e("../utils");function a(c){o.call(this,"mont",c),this.a=new i(c.a,16).toRed(this.red),this.b=new i(c.b,16).toRed(this.red),this.i4=new i(4).toRed(this.red).redInvm(),this.two=new i(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function l(c,d,h){o.BasePoint.call(this,c,"projective"),d===null&&h===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new i(d,16),this.z=new i(h,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}n(a,o),t.exports=a,a.prototype.validate=function(c){var d=c.normalize().x,h=d.redSqr(),u=h.redMul(d).redAdd(h.redMul(this.a)).redAdd(d);return u.redSqrt().redSqr().cmp(u)===0},n(l,o.BasePoint),a.prototype.decodePoint=function(c,d){return this.point(s.toArray(c,d),1)},a.prototype.point=function(c,d){return new l(this,c,d)},a.prototype.pointFromJSON=function(c){return l.fromJSON(this,c)},l.prototype.precompute=function(){},l.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},l.fromJSON=function(c,d){return new l(c,d[0],d[1]||c.one)},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return this.z.cmpn(0)===0},l.prototype.dbl=function(){var c=this.x.redAdd(this.z).redSqr(),d=this.x.redSub(this.z).redSqr(),h=c.redSub(d),u=c.redMul(d),f=h.redMul(d.redAdd(this.curve.a24.redMul(h)));return this.curve.point(u,f)},l.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},l.prototype.diffAdd=function(c,d){var h=this.x.redAdd(this.z),u=this.x.redSub(this.z),f=c.x.redAdd(c.z),m=c.x.redSub(c.z).redMul(h),g=f.redMul(u),p=d.z.redMul(m.redAdd(g).redSqr()),b=d.x.redMul(m.redISub(g).redSqr());return this.curve.point(p,b)},l.prototype.mul=function(c){for(var d=c.clone(),h=this,u=this.curve.point(null,null),f=[];d.cmpn(0)!==0;d.iushrn(1))f.push(d.andln(1));for(var m=f.length-1;m>=0;m--)f[m]===0?(h=h.diffAdd(u,this),u=u.dbl()):(u=h.diffAdd(u,this),h=h.dbl());return u},l.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},l.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},l.prototype.eq=function(c){return this.getX().cmp(c.getX())===0},l.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},l.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(e,t,r){"use strict";var i=e("../utils"),n=e("bn.js"),o=e("inherits"),s=e("./base"),a=i.assert;function l(h){s.call(this,"short",h),this.a=new n(h.a,16).toRed(this.red),this.b=new n(h.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(h),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function c(h,u,f,m){s.BasePoint.call(this,h,"affine"),u===null&&f===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new n(u,16),this.y=new n(f,16),m&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function d(h,u,f,m){s.BasePoint.call(this,h,"jacobian"),u===null&&f===null&&m===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new n(0)):(this.x=new n(u,16),this.y=new n(f,16),this.z=new n(m,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(l,s),t.exports=l,l.prototype._getEndomorphism=function(h){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var u,f;if(h.beta)u=new n(h.beta,16).toRed(this.red);else{var m=this._getEndoRoots(this.p);u=(u=m[0].cmp(m[1])<0?m[0]:m[1]).toRed(this.red)}if(h.lambda)f=new n(h.lambda,16);else{var g=this._getEndoRoots(this.n);this.g.mul(g[0]).x.cmp(this.g.x.redMul(u))===0?f=g[0]:(f=g[1],a(this.g.mul(f).x.cmp(this.g.x.redMul(u))===0))}return{beta:u,lambda:f,basis:h.basis?h.basis.map(function(p){return{a:new n(p.a,16),b:new n(p.b,16)}}):this._getEndoBasis(f)}}},l.prototype._getEndoRoots=function(h){var u=h===this.p?this.red:n.mont(h),f=new n(2).toRed(u).redInvm(),m=f.redNeg(),g=new n(3).toRed(u).redNeg().redSqrt().redMul(f);return[m.redAdd(g).fromRed(),m.redSub(g).fromRed()]},l.prototype._getEndoBasis=function(h){for(var u,f,m,g,p,b,_,E,O,V=this.n.ushrn(Math.floor(this.n.bitLength()/2)),H=h,F=this.n.clone(),L=new n(1),q=new n(0),W=new n(0),x=new n(1),R=0;H.cmpn(0)!==0;){var j=F.div(H);E=F.sub(j.mul(H)),O=W.sub(j.mul(L));var v=x.sub(j.mul(q));if(!m&&E.cmp(V)<0)u=_.neg(),f=L,m=E.neg(),g=O;else if(m&&++R==2)break;_=E,F=H,H=E,W=L,L=O,x=q,q=v}p=E.neg(),b=O;var y=m.sqr().add(g.sqr());return p.sqr().add(b.sqr()).cmp(y)>=0&&(p=u,b=f),m.negative&&(m=m.neg(),g=g.neg()),p.negative&&(p=p.neg(),b=b.neg()),[{a:m,b:g},{a:p,b}]},l.prototype._endoSplit=function(h){var u=this.endo.basis,f=u[0],m=u[1],g=m.b.mul(h).divRound(this.n),p=f.b.neg().mul(h).divRound(this.n),b=g.mul(f.a),_=p.mul(m.a),E=g.mul(f.b),O=p.mul(m.b);return{k1:h.sub(b).sub(_),k2:E.add(O).neg()}},l.prototype.pointFromX=function(h,u){(h=new n(h,16)).red||(h=h.toRed(this.red));var f=h.redSqr().redMul(h).redIAdd(h.redMul(this.a)).redIAdd(this.b),m=f.redSqrt();if(m.redSqr().redSub(f).cmp(this.zero)!==0)throw new Error("invalid point");var g=m.fromRed().isOdd();return(u&&!g||!u&&g)&&(m=m.redNeg()),this.point(h,m)},l.prototype.validate=function(h){if(h.inf)return!0;var u=h.x,f=h.y,m=this.a.redMul(u),g=u.redSqr().redMul(u).redIAdd(m).redIAdd(this.b);return f.redSqr().redISub(g).cmpn(0)===0},l.prototype._endoWnafMulAdd=function(h,u,f){for(var m=this._endoWnafT1,g=this._endoWnafT2,p=0;p<h.length;p++){var b=this._endoSplit(u[p]),_=h[p],E=_._getBeta();b.k1.negative&&(b.k1.ineg(),_=_.neg(!0)),b.k2.negative&&(b.k2.ineg(),E=E.neg(!0)),m[2*p]=_,m[2*p+1]=E,g[2*p]=b.k1,g[2*p+1]=b.k2}for(var O=this._wnafMulAdd(1,m,g,2*p,f),V=0;V<2*p;V++)m[V]=null,g[V]=null;return O},o(c,s.BasePoint),l.prototype.point=function(h,u,f){return new c(this,h,u,f)},l.prototype.pointFromJSON=function(h,u){return c.fromJSON(this,h,u)},c.prototype._getBeta=function(){if(this.curve.endo){var h=this.precomputed;if(h&&h.beta)return h.beta;var u=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(h){var f=this.curve,m=function(g){return f.point(g.x.redMul(f.endo.beta),g.y)};h.beta=u,u.precomputed={beta:null,naf:h.naf&&{wnd:h.naf.wnd,points:h.naf.points.map(m)},doubles:h.doubles&&{step:h.doubles.step,points:h.doubles.points.map(m)}}}return u}},c.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},c.fromJSON=function(h,u,f){typeof u=="string"&&(u=JSON.parse(u));var m=h.point(u[0],u[1],f);if(!u[2])return m;function g(b){return h.point(b[0],b[1],f)}var p=u[2];return m.precomputed={beta:null,doubles:p.doubles&&{step:p.doubles.step,points:[m].concat(p.doubles.points.map(g))},naf:p.naf&&{wnd:p.naf.wnd,points:[m].concat(p.naf.points.map(g))}},m},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.inf},c.prototype.add=function(h){if(this.inf)return h;if(h.inf)return this;if(this.eq(h))return this.dbl();if(this.neg().eq(h))return this.curve.point(null,null);if(this.x.cmp(h.x)===0)return this.curve.point(null,null);var u=this.y.redSub(h.y);u.cmpn(0)!==0&&(u=u.redMul(this.x.redSub(h.x).redInvm()));var f=u.redSqr().redISub(this.x).redISub(h.x),m=u.redMul(this.x.redSub(f)).redISub(this.y);return this.curve.point(f,m)},c.prototype.dbl=function(){if(this.inf)return this;var h=this.y.redAdd(this.y);if(h.cmpn(0)===0)return this.curve.point(null,null);var u=this.curve.a,f=this.x.redSqr(),m=h.redInvm(),g=f.redAdd(f).redIAdd(f).redIAdd(u).redMul(m),p=g.redSqr().redISub(this.x.redAdd(this.x)),b=g.redMul(this.x.redSub(p)).redISub(this.y);return this.curve.point(p,b)},c.prototype.getX=function(){return this.x.fromRed()},c.prototype.getY=function(){return this.y.fromRed()},c.prototype.mul=function(h){return h=new n(h,16),this.isInfinity()?this:this._hasDoubles(h)?this.curve._fixedNafMul(this,h):this.curve.endo?this.curve._endoWnafMulAdd([this],[h]):this.curve._wnafMul(this,h)},c.prototype.mulAdd=function(h,u,f){var m=[this,u],g=[h,f];return this.curve.endo?this.curve._endoWnafMulAdd(m,g):this.curve._wnafMulAdd(1,m,g,2)},c.prototype.jmulAdd=function(h,u,f){var m=[this,u],g=[h,f];return this.curve.endo?this.curve._endoWnafMulAdd(m,g,!0):this.curve._wnafMulAdd(1,m,g,2,!0)},c.prototype.eq=function(h){return this===h||this.inf===h.inf&&(this.inf||this.x.cmp(h.x)===0&&this.y.cmp(h.y)===0)},c.prototype.neg=function(h){if(this.inf)return this;var u=this.curve.point(this.x,this.y.redNeg());if(h&&this.precomputed){var f=this.precomputed,m=function(g){return g.neg()};u.precomputed={naf:f.naf&&{wnd:f.naf.wnd,points:f.naf.points.map(m)},doubles:f.doubles&&{step:f.doubles.step,points:f.doubles.points.map(m)}}}return u},c.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(d,s.BasePoint),l.prototype.jpoint=function(h,u,f){return new d(this,h,u,f)},d.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var h=this.z.redInvm(),u=h.redSqr(),f=this.x.redMul(u),m=this.y.redMul(u).redMul(h);return this.curve.point(f,m)},d.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},d.prototype.add=function(h){if(this.isInfinity())return h;if(h.isInfinity())return this;var u=h.z.redSqr(),f=this.z.redSqr(),m=this.x.redMul(u),g=h.x.redMul(f),p=this.y.redMul(u.redMul(h.z)),b=h.y.redMul(f.redMul(this.z)),_=m.redSub(g),E=p.redSub(b);if(_.cmpn(0)===0)return E.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var O=_.redSqr(),V=O.redMul(_),H=m.redMul(O),F=E.redSqr().redIAdd(V).redISub(H).redISub(H),L=E.redMul(H.redISub(F)).redISub(p.redMul(V)),q=this.z.redMul(h.z).redMul(_);return this.curve.jpoint(F,L,q)},d.prototype.mixedAdd=function(h){if(this.isInfinity())return h.toJ();if(h.isInfinity())return this;var u=this.z.redSqr(),f=this.x,m=h.x.redMul(u),g=this.y,p=h.y.redMul(u).redMul(this.z),b=f.redSub(m),_=g.redSub(p);if(b.cmpn(0)===0)return _.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var E=b.redSqr(),O=E.redMul(b),V=f.redMul(E),H=_.redSqr().redIAdd(O).redISub(V).redISub(V),F=_.redMul(V.redISub(H)).redISub(g.redMul(O)),L=this.z.redMul(b);return this.curve.jpoint(H,F,L)},d.prototype.dblp=function(h){if(h===0)return this;if(this.isInfinity())return this;if(!h)return this.dbl();var u;if(this.curve.zeroA||this.curve.threeA){var f=this;for(u=0;u<h;u++)f=f.dbl();return f}var m=this.curve.a,g=this.curve.tinv,p=this.x,b=this.y,_=this.z,E=_.redSqr().redSqr(),O=b.redAdd(b);for(u=0;u<h;u++){var V=p.redSqr(),H=O.redSqr(),F=H.redSqr(),L=V.redAdd(V).redIAdd(V).redIAdd(m.redMul(E)),q=p.redMul(H),W=L.redSqr().redISub(q.redAdd(q)),x=q.redISub(W),R=L.redMul(x);R=R.redIAdd(R).redISub(F);var j=O.redMul(_);u+1<h&&(E=E.redMul(F)),p=W,_=j,O=R}return this.curve.jpoint(p,O.redMul(g),_)},d.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},d.prototype._zeroDbl=function(){var h,u,f;if(this.zOne){var m=this.x.redSqr(),g=this.y.redSqr(),p=g.redSqr(),b=this.x.redAdd(g).redSqr().redISub(m).redISub(p);b=b.redIAdd(b);var _=m.redAdd(m).redIAdd(m),E=_.redSqr().redISub(b).redISub(b),O=p.redIAdd(p);O=(O=O.redIAdd(O)).redIAdd(O),h=E,u=_.redMul(b.redISub(E)).redISub(O),f=this.y.redAdd(this.y)}else{var V=this.x.redSqr(),H=this.y.redSqr(),F=H.redSqr(),L=this.x.redAdd(H).redSqr().redISub(V).redISub(F);L=L.redIAdd(L);var q=V.redAdd(V).redIAdd(V),W=q.redSqr(),x=F.redIAdd(F);x=(x=x.redIAdd(x)).redIAdd(x),h=W.redISub(L).redISub(L),u=q.redMul(L.redISub(h)).redISub(x),f=(f=this.y.redMul(this.z)).redIAdd(f)}return this.curve.jpoint(h,u,f)},d.prototype._threeDbl=function(){var h,u,f;if(this.zOne){var m=this.x.redSqr(),g=this.y.redSqr(),p=g.redSqr(),b=this.x.redAdd(g).redSqr().redISub(m).redISub(p);b=b.redIAdd(b);var _=m.redAdd(m).redIAdd(m).redIAdd(this.curve.a),E=_.redSqr().redISub(b).redISub(b);h=E;var O=p.redIAdd(p);O=(O=O.redIAdd(O)).redIAdd(O),u=_.redMul(b.redISub(E)).redISub(O),f=this.y.redAdd(this.y)}else{var V=this.z.redSqr(),H=this.y.redSqr(),F=this.x.redMul(H),L=this.x.redSub(V).redMul(this.x.redAdd(V));L=L.redAdd(L).redIAdd(L);var q=F.redIAdd(F),W=(q=q.redIAdd(q)).redAdd(q);h=L.redSqr().redISub(W),f=this.y.redAdd(this.z).redSqr().redISub(H).redISub(V);var x=H.redSqr();x=(x=(x=x.redIAdd(x)).redIAdd(x)).redIAdd(x),u=L.redMul(q.redISub(h)).redISub(x)}return this.curve.jpoint(h,u,f)},d.prototype._dbl=function(){var h=this.curve.a,u=this.x,f=this.y,m=this.z,g=m.redSqr().redSqr(),p=u.redSqr(),b=f.redSqr(),_=p.redAdd(p).redIAdd(p).redIAdd(h.redMul(g)),E=u.redAdd(u),O=(E=E.redIAdd(E)).redMul(b),V=_.redSqr().redISub(O.redAdd(O)),H=O.redISub(V),F=b.redSqr();F=(F=(F=F.redIAdd(F)).redIAdd(F)).redIAdd(F);var L=_.redMul(H).redISub(F),q=f.redAdd(f).redMul(m);return this.curve.jpoint(V,L,q)},d.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var h=this.x.redSqr(),u=this.y.redSqr(),f=this.z.redSqr(),m=u.redSqr(),g=h.redAdd(h).redIAdd(h),p=g.redSqr(),b=this.x.redAdd(u).redSqr().redISub(h).redISub(m),_=(b=(b=(b=b.redIAdd(b)).redAdd(b).redIAdd(b)).redISub(p)).redSqr(),E=m.redIAdd(m);E=(E=(E=E.redIAdd(E)).redIAdd(E)).redIAdd(E);var O=g.redIAdd(b).redSqr().redISub(p).redISub(_).redISub(E),V=u.redMul(O);V=(V=V.redIAdd(V)).redIAdd(V);var H=this.x.redMul(_).redISub(V);H=(H=H.redIAdd(H)).redIAdd(H);var F=this.y.redMul(O.redMul(E.redISub(O)).redISub(b.redMul(_)));F=(F=(F=F.redIAdd(F)).redIAdd(F)).redIAdd(F);var L=this.z.redAdd(b).redSqr().redISub(f).redISub(_);return this.curve.jpoint(H,F,L)},d.prototype.mul=function(h,u){return h=new n(h,u),this.curve._wnafMul(this,h)},d.prototype.eq=function(h){if(h.type==="affine")return this.eq(h.toJ());if(this===h)return!0;var u=this.z.redSqr(),f=h.z.redSqr();if(this.x.redMul(f).redISub(h.x.redMul(u)).cmpn(0)!==0)return!1;var m=u.redMul(this.z),g=f.redMul(h.z);return this.y.redMul(g).redISub(h.y.redMul(m)).cmpn(0)===0},d.prototype.eqXToP=function(h){var u=this.z.redSqr(),f=h.toRed(this.curve.red).redMul(u);if(this.x.cmp(f)===0)return!0;for(var m=h.clone(),g=this.curve.redN.redMul(u);;){if(m.iadd(this.curve.n),m.cmp(this.curve.p)>=0)return!1;if(f.redIAdd(g),this.x.cmp(f)===0)return!0}},d.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},d.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(e,t,r){"use strict";var i,n=r,o=e("hash.js"),s=e("./curve"),a=e("./utils").assert;function l(d){d.type==="short"?this.curve=new s.short(d):d.type==="edwards"?this.curve=new s.edwards(d):this.curve=new s.mont(d),this.g=this.curve.g,this.n=this.curve.n,this.hash=d.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function c(d,h){Object.defineProperty(n,d,{configurable:!0,enumerable:!0,get:function(){var u=new l(h);return Object.defineProperty(n,d,{configurable:!0,enumerable:!0,value:u}),u}})}n.PresetCurve=l,c("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),c("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),c("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),c("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),c("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),c("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),c("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{i=e("./precomputed/secp256k1")}catch{i=void 0}c("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",i]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(e,t,r){"use strict";var i=e("bn.js"),n=e("hmac-drbg"),o=e("../utils"),s=e("../curves"),a=e("brorand"),l=o.assert,c=e("./key"),d=e("./signature");function h(u){if(!(this instanceof h))return new h(u);typeof u=="string"&&(l(Object.prototype.hasOwnProperty.call(s,u),"Unknown curve "+u),u=s[u]),u instanceof s.PresetCurve&&(u={curve:u}),this.curve=u.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=u.curve.g,this.g.precompute(u.curve.n.bitLength()+1),this.hash=u.hash||u.curve.hash}t.exports=h,h.prototype.keyPair=function(u){return new c(this,u)},h.prototype.keyFromPrivate=function(u,f){return c.fromPrivate(this,u,f)},h.prototype.keyFromPublic=function(u,f){return c.fromPublic(this,u,f)},h.prototype.genKeyPair=function(u){u||(u={});for(var f=new n({hash:this.hash,pers:u.pers,persEnc:u.persEnc||"utf8",entropy:u.entropy||a(this.hash.hmacStrength),entropyEnc:u.entropy&&u.entropyEnc||"utf8",nonce:this.n.toArray()}),m=this.n.byteLength(),g=this.n.sub(new i(2));;){var p=new i(f.generate(m));if(!(p.cmp(g)>0))return p.iaddn(1),this.keyFromPrivate(p)}},h.prototype._truncateToN=function(u,f){var m=8*u.byteLength()-this.n.bitLength();return m>0&&(u=u.ushrn(m)),!f&&u.cmp(this.n)>=0?u.sub(this.n):u},h.prototype.sign=function(u,f,m,g){typeof m=="object"&&(g=m,m=null),g||(g={}),f=this.keyFromPrivate(f,m),u=this._truncateToN(new i(u,16));for(var p=this.n.byteLength(),b=f.getPrivate().toArray("be",p),_=u.toArray("be",p),E=new n({hash:this.hash,entropy:b,nonce:_,pers:g.pers,persEnc:g.persEnc||"utf8"}),O=this.n.sub(new i(1)),V=0;;V++){var H=g.k?g.k(V):new i(E.generate(this.n.byteLength()));if(!((H=this._truncateToN(H,!0)).cmpn(1)<=0||H.cmp(O)>=0)){var F=this.g.mul(H);if(!F.isInfinity()){var L=F.getX(),q=L.umod(this.n);if(q.cmpn(0)!==0){var W=H.invm(this.n).mul(q.mul(f.getPrivate()).iadd(u));if((W=W.umod(this.n)).cmpn(0)!==0){var x=(F.getY().isOdd()?1:0)|(L.cmp(q)!==0?2:0);return g.canonical&&W.cmp(this.nh)>0&&(W=this.n.sub(W),x^=1),new d({r:q,s:W,recoveryParam:x})}}}}}},h.prototype.verify=function(u,f,m,g){u=this._truncateToN(new i(u,16)),m=this.keyFromPublic(m,g);var p=(f=new d(f,"hex")).r,b=f.s;if(p.cmpn(1)<0||p.cmp(this.n)>=0||b.cmpn(1)<0||b.cmp(this.n)>=0)return!1;var _,E=b.invm(this.n),O=E.mul(u).umod(this.n),V=E.mul(p).umod(this.n);return this.curve._maxwellTrick?!(_=this.g.jmulAdd(O,m.getPublic(),V)).isInfinity()&&_.eqXToP(p):!(_=this.g.mulAdd(O,m.getPublic(),V)).isInfinity()&&_.getX().umod(this.n).cmp(p)===0},h.prototype.recoverPubKey=function(u,f,m,g){l((3&m)===m,"The recovery param is more than two bits"),f=new d(f,g);var p=this.n,b=new i(u),_=f.r,E=f.s,O=1&m,V=m>>1;if(_.cmp(this.curve.p.umod(this.curve.n))>=0&&V)throw new Error("Unable to find sencond key candinate");_=V?this.curve.pointFromX(_.add(this.curve.n),O):this.curve.pointFromX(_,O);var H=f.r.invm(p),F=p.sub(b).mul(H).umod(p),L=E.mul(H).umod(p);return this.g.mulAdd(F,_,L)},h.prototype.getKeyRecoveryParam=function(u,f,m,g){if((f=new d(f,g)).recoveryParam!==null)return f.recoveryParam;for(var p=0;p<4;p++){var b;try{b=this.recoverPubKey(u,f,p)}catch{continue}if(b.eq(m))return p}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(e,t,r){"use strict";var i=e("bn.js"),n=e("../utils").assert;function o(s,a){this.ec=s,this.priv=null,this.pub=null,a.priv&&this._importPrivate(a.priv,a.privEnc),a.pub&&this._importPublic(a.pub,a.pubEnc)}t.exports=o,o.fromPublic=function(s,a,l){return a instanceof o?a:new o(s,{pub:a,pubEnc:l})},o.fromPrivate=function(s,a,l){return a instanceof o?a:new o(s,{priv:a,privEnc:l})},o.prototype.validate=function(){var s=this.getPublic();return s.isInfinity()?{result:!1,reason:"Invalid public key"}:s.validate()?s.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(s,a){return typeof s=="string"&&(a=s,s=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),a?this.pub.encode(a,s):this.pub},o.prototype.getPrivate=function(s){return s==="hex"?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(s,a){this.priv=new i(s,a||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(s,a){if(s.x||s.y)return this.ec.curve.type==="mont"?n(s.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||n(s.x&&s.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(s.x,s.y));this.pub=this.ec.curve.decodePoint(s,a)},o.prototype.derive=function(s){return s.validate()||n(s.validate(),"public point not validated"),s.mul(this.priv).getX()},o.prototype.sign=function(s,a,l){return this.ec.sign(s,this,a,l)},o.prototype.verify=function(s,a){return this.ec.verify(s,a,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(e,t,r){"use strict";var i=e("bn.js"),n=e("../utils"),o=n.assert;function s(h,u){if(h instanceof s)return h;this._importDER(h,u)||(o(h.r&&h.s,"Signature without r or s"),this.r=new i(h.r,16),this.s=new i(h.s,16),h.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=h.recoveryParam)}function a(){this.place=0}function l(h,u){var f=h[u.place++];if(!(128&f))return f;var m=15&f;if(m===0||m>4)return!1;for(var g=0,p=0,b=u.place;p<m;p++,b++)g<<=8,g|=h[b],g>>>=0;return!(g<=127)&&(u.place=b,g)}function c(h){for(var u=0,f=h.length-1;!h[u]&&!(128&h[u+1])&&u<f;)u++;return u===0?h:h.slice(u)}function d(h,u){if(u<128)h.push(u);else{var f=1+(Math.log(u)/Math.LN2>>>3);for(h.push(128|f);--f;)h.push(u>>>(f<<3)&255);h.push(u)}}t.exports=s,s.prototype._importDER=function(h,u){h=n.toArray(h,u);var f=new a;if(h[f.place++]!==48)return!1;var m=l(h,f);if(m===!1||m+f.place!==h.length||h[f.place++]!==2)return!1;var g=l(h,f);if(g===!1)return!1;var p=h.slice(f.place,g+f.place);if(f.place+=g,h[f.place++]!==2)return!1;var b=l(h,f);if(b===!1||h.length!==b+f.place)return!1;var _=h.slice(f.place,b+f.place);if(p[0]===0){if(!(128&p[1]))return!1;p=p.slice(1)}if(_[0]===0){if(!(128&_[1]))return!1;_=_.slice(1)}return this.r=new i(p),this.s=new i(_),this.recoveryParam=null,!0},s.prototype.toDER=function(h){var u=this.r.toArray(),f=this.s.toArray();for(128&u[0]&&(u=[0].concat(u)),128&f[0]&&(f=[0].concat(f)),u=c(u),f=c(f);!(f[0]||128&f[1]);)f=f.slice(1);var m=[2];d(m,u.length),(m=m.concat(u)).push(2),d(m,f.length);var g=m.concat(f),p=[48];return d(p,g.length),p=p.concat(g),n.encode(p,h)}},{"../utils":419,"bn.js":420}],415:[function(e,t,r){"use strict";var i=e("hash.js"),n=e("../curves"),o=e("../utils"),s=o.assert,a=o.parseBytes,l=e("./key"),c=e("./signature");function d(h){if(s(h==="ed25519","only tested with ed25519 so far"),!(this instanceof d))return new d(h);h=n[h].curve,this.curve=h,this.g=h.g,this.g.precompute(h.n.bitLength()+1),this.pointClass=h.point().constructor,this.encodingLength=Math.ceil(h.n.bitLength()/8),this.hash=i.sha512}t.exports=d,d.prototype.sign=function(h,u){h=a(h);var f=this.keyFromSecret(u),m=this.hashInt(f.messagePrefix(),h),g=this.g.mul(m),p=this.encodePoint(g),b=this.hashInt(p,f.pubBytes(),h).mul(f.priv()),_=m.add(b).umod(this.curve.n);return this.makeSignature({R:g,S:_,Rencoded:p})},d.prototype.verify=function(h,u,f){h=a(h),u=this.makeSignature(u);var m=this.keyFromPublic(f),g=this.hashInt(u.Rencoded(),m.pubBytes(),h),p=this.g.mul(u.S());return u.R().add(m.pub().mul(g)).eq(p)},d.prototype.hashInt=function(){for(var h=this.hash(),u=0;u<arguments.length;u++)h.update(arguments[u]);return o.intFromLE(h.digest()).umod(this.curve.n)},d.prototype.keyFromPublic=function(h){return l.fromPublic(this,h)},d.prototype.keyFromSecret=function(h){return l.fromSecret(this,h)},d.prototype.makeSignature=function(h){return h instanceof c?h:new c(this,h)},d.prototype.encodePoint=function(h){var u=h.getY().toArray("le",this.encodingLength);return u[this.encodingLength-1]|=h.getX().isOdd()?128:0,u},d.prototype.decodePoint=function(h){var u=(h=o.parseBytes(h)).length-1,f=h.slice(0,u).concat(-129&h[u]),m=(128&h[u])!=0,g=o.intFromLE(f);return this.curve.pointFromY(g,m)},d.prototype.encodeInt=function(h){return h.toArray("le",this.encodingLength)},d.prototype.decodeInt=function(h){return o.intFromLE(h)},d.prototype.isPoint=function(h){return h instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(e,t,r){"use strict";var i=e("../utils"),n=i.assert,o=i.parseBytes,s=i.cachedProperty;function a(l,c){this.eddsa=l,this._secret=o(c.secret),l.isPoint(c.pub)?this._pub=c.pub:this._pubBytes=o(c.pub)}a.fromPublic=function(l,c){return c instanceof a?c:new a(l,{pub:c})},a.fromSecret=function(l,c){return c instanceof a?c:new a(l,{secret:c})},a.prototype.secret=function(){return this._secret},s(a,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),s(a,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),s(a,"privBytes",function(){var l=this.eddsa,c=this.hash(),d=l.encodingLength-1,h=c.slice(0,l.encodingLength);return h[0]&=248,h[d]&=127,h[d]|=64,h}),s(a,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),s(a,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),s(a,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),a.prototype.sign=function(l){return n(this._secret,"KeyPair can only verify"),this.eddsa.sign(l,this)},a.prototype.verify=function(l,c){return this.eddsa.verify(l,c,this)},a.prototype.getSecret=function(l){return n(this._secret,"KeyPair is public only"),i.encode(this.secret(),l)},a.prototype.getPublic=function(l){return i.encode(this.pubBytes(),l)},t.exports=a},{"../utils":419}],417:[function(e,t,r){"use strict";var i=e("bn.js"),n=e("../utils"),o=n.assert,s=n.cachedProperty,a=n.parseBytes;function l(c,d){this.eddsa=c,typeof d!="object"&&(d=a(d)),Array.isArray(d)&&(d={R:d.slice(0,c.encodingLength),S:d.slice(c.encodingLength)}),o(d.R&&d.S,"Signature without R or S"),c.isPoint(d.R)&&(this._R=d.R),d.S instanceof i&&(this._S=d.S),this._Rencoded=Array.isArray(d.R)?d.R:d.Rencoded,this._Sencoded=Array.isArray(d.S)?d.S:d.Sencoded}s(l,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),s(l,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),s(l,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),s(l,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),l.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},l.prototype.toHex=function(){return n.encode(this.toBytes(),"hex").toUpperCase()},t.exports=l},{"../utils":419,"bn.js":420}],418:[function(e,t,r){"use strict";t.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(e,t,r){"use strict";var i=r,n=e("bn.js"),o=e("minimalistic-assert"),s=e("minimalistic-crypto-utils");i.assert=o,i.toArray=s.toArray,i.zero2=s.zero2,i.toHex=s.toHex,i.encode=s.encode,i.getNAF=function(a,l,c){var d=new Array(Math.max(a.bitLength(),c)+1);d.fill(0);for(var h=1<<l+1,u=a.clone(),f=0;f<d.length;f++){var m,g=u.andln(h-1);u.isOdd()?(m=g>(h>>1)-1?(h>>1)-g:g,u.isubn(m)):m=0,d[f]=m,u.iushrn(1)}return d},i.getJSF=function(a,l){var c=[[],[]];a=a.clone(),l=l.clone();for(var d,h=0,u=0;a.cmpn(-h)>0||l.cmpn(-u)>0;){var f,m,g=a.andln(3)+h&3,p=l.andln(3)+u&3;g===3&&(g=-1),p===3&&(p=-1),f=1&g?(d=a.andln(7)+h&7)!==3&&d!==5||p!==2?g:-g:0,c[0].push(f),m=1&p?(d=l.andln(7)+u&7)!==3&&d!==5||g!==2?p:-p:0,c[1].push(m),2*h===f+1&&(h=1-h),2*u===m+1&&(u=1-u),a.iushrn(1),l.iushrn(1)}return c},i.cachedProperty=function(a,l,c){var d="_"+l;a.prototype[l]=function(){return this[d]!==void 0?this[d]:this[d]=c.call(this)}},i.parseBytes=function(a){return typeof a=="string"?i.toArray(a,"hex"):a},i.intFromLE=function(a){return new n(a,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(e,t,r){arguments[4][184][0].apply(r,arguments)},{buffer:188,dup:184}],421:[function(e,t,r){t.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(e,t,r){"use strict";var i=Object.create||function(H){var F=function(){};return F.prototype=H,new F},n=Object.keys||function(H){var F=[];for(var L in H)Object.prototype.hasOwnProperty.call(H,L)&&F.push(L);return L},o=Function.prototype.bind||function(H){var F=this;return function(){return F.apply(H,arguments)}};function s(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=i(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}t.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._maxListeners=void 0;var a,l=10;try{var c={};Object.defineProperty&&Object.defineProperty(c,"x",{value:0}),a=c.x===0}catch{a=!1}function d(H){return H._maxListeners===void 0?s.defaultMaxListeners:H._maxListeners}function h(H,F,L){if(F)H.call(L);else for(var q=H.length,W=V(H,q),x=0;x<q;++x)W[x].call(L)}function u(H,F,L,q){if(F)H.call(L,q);else for(var W=H.length,x=V(H,W),R=0;R<W;++R)x[R].call(L,q)}function f(H,F,L,q,W){if(F)H.call(L,q,W);else for(var x=H.length,R=V(H,x),j=0;j<x;++j)R[j].call(L,q,W)}function m(H,F,L,q,W,x){if(F)H.call(L,q,W,x);else for(var R=H.length,j=V(H,R),v=0;v<R;++v)j[v].call(L,q,W,x)}function g(H,F,L,q){if(F)H.apply(L,q);else for(var W=H.length,x=V(H,W),R=0;R<W;++R)x[R].apply(L,q)}function p(H,F,L,q){var W,x,R;if(typeof L!="function")throw new TypeError('"listener" argument must be a function');if((x=H._events)?(x.newListener&&(H.emit("newListener",F,L.listener?L.listener:L),x=H._events),R=x[F]):(x=H._events=i(null),H._eventsCount=0),R){if(typeof R=="function"?R=x[F]=q?[L,R]:[R,L]:q?R.unshift(L):R.push(L),!R.warned&&(W=d(H))&&W>0&&R.length>W){R.warned=!0;var j=new Error("Possible EventEmitter memory leak detected. "+R.length+' "'+String(F)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');j.name="MaxListenersExceededWarning",j.emitter=H,j.type=F,j.count=R.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",j.name,j.message)}}else R=x[F]=L,++H._eventsCount;return H}function b(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var H=new Array(arguments.length),F=0;F<H.length;++F)H[F]=arguments[F];this.listener.apply(this.target,H)}}function _(H,F,L){var q={fired:!1,wrapFn:void 0,target:H,type:F,listener:L},W=o.call(b,q);return W.listener=L,q.wrapFn=W,W}function E(H,F,L){var q=H._events;if(!q)return[];var W=q[F];return W?typeof W=="function"?L?[W.listener||W]:[W]:L?function(x){for(var R=new Array(x.length),j=0;j<R.length;++j)R[j]=x[j].listener||x[j];return R}(W):V(W,W.length):[]}function O(H){var F=this._events;if(F){var L=F[H];if(typeof L=="function")return 1;if(L)return L.length}return 0}function V(H,F){for(var L=new Array(F),q=0;q<F;++q)L[q]=H[q];return L}a?Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(H){if(typeof H!="number"||H<0||H!=H)throw new TypeError('"defaultMaxListeners" must be a positive number');l=H}}):s.defaultMaxListeners=l,s.prototype.setMaxListeners=function(H){if(typeof H!="number"||H<0||isNaN(H))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=H,this},s.prototype.getMaxListeners=function(){return d(this)},s.prototype.emit=function(H){var F,L,q,W,x,R,j=H==="error";if(R=this._events)j=j&&R.error==null;else if(!j)return!1;if(j){if(arguments.length>1&&(F=arguments[1]),F instanceof Error)throw F;var v=new Error('Unhandled "error" event. ('+F+")");throw v.context=F,v}if(!(L=R[H]))return!1;var y=typeof L=="function";switch(q=arguments.length){case 1:h(L,y,this);break;case 2:u(L,y,this,arguments[1]);break;case 3:f(L,y,this,arguments[1],arguments[2]);break;case 4:m(L,y,this,arguments[1],arguments[2],arguments[3]);break;default:for(W=new Array(q-1),x=1;x<q;x++)W[x-1]=arguments[x];g(L,y,this,W)}return!0},s.prototype.addListener=function(H,F){return p(this,H,F,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(H,F){return p(this,H,F,!0)},s.prototype.once=function(H,F){if(typeof F!="function")throw new TypeError('"listener" argument must be a function');return this.on(H,_(this,H,F)),this},s.prototype.prependOnceListener=function(H,F){if(typeof F!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(H,_(this,H,F)),this},s.prototype.removeListener=function(H,F){var L,q,W,x,R;if(typeof F!="function")throw new TypeError('"listener" argument must be a function');if(!(q=this._events))return this;if(!(L=q[H]))return this;if(L===F||L.listener===F)--this._eventsCount==0?this._events=i(null):(delete q[H],q.removeListener&&this.emit("removeListener",H,L.listener||F));else if(typeof L!="function"){for(W=-1,x=L.length-1;x>=0;x--)if(L[x]===F||L[x].listener===F){R=L[x].listener,W=x;break}if(W<0)return this;W===0?L.shift():function(j,v){for(var y=v,C=y+1,w=j.length;C<w;y+=1,C+=1)j[y]=j[C];j.pop()}(L,W),L.length===1&&(q[H]=L[0]),q.removeListener&&this.emit("removeListener",H,R||F)}return this},s.prototype.removeAllListeners=function(H){var F,L,q;if(!(L=this._events))return this;if(!L.removeListener)return arguments.length===0?(this._events=i(null),this._eventsCount=0):L[H]&&(--this._eventsCount==0?this._events=i(null):delete L[H]),this;if(arguments.length===0){var W,x=n(L);for(q=0;q<x.length;++q)(W=x[q])!=="removeListener"&&this.removeAllListeners(W);return this.removeAllListeners("removeListener"),this._events=i(null),this._eventsCount=0,this}if(typeof(F=L[H])=="function")this.removeListener(H,F);else if(F)for(q=F.length-1;q>=0;q--)this.removeListener(H,F[q]);return this},s.prototype.listeners=function(H){return E(this,H,!0)},s.prototype.rawListeners=function(H){return E(this,H,!1)},s.listenerCount=function(H,F){return typeof H.listenerCount=="function"?H.listenerCount(F):O.call(H,F)},s.prototype.listenerCount=O,s.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(e,t,r){"use strict";var i=e("safe-buffer").Buffer,n=e("md5.js");t.exports=function(o,s,a,l){if(i.isBuffer(o)||(o=i.from(o,"binary")),s&&(i.isBuffer(s)||(s=i.from(s,"binary")),s.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var c=a/8,d=i.alloc(c),h=i.alloc(l||0),u=i.alloc(0);c>0||l>0;){var f=new n;f.update(u),f.update(o),s&&f.update(s),u=f.digest();var m=0;if(c>0){var g=d.length-c;m=Math.min(c,u.length),u.copy(d,g,0,m),c-=m}if(m<u.length&&l>0){var p=h.length-l,b=Math.min(l,u.length-m);u.copy(h,p,m,m+b),l-=b}}return u.fill(0),{key:d,iv:h}}},{"md5.js":450,"safe-buffer":494}],424:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.CsvParserStream=r.ParserOptions=r.parseFile=r.parseStream=r.parseString=r.parse=r.FormatterOptions=r.CsvFormatterStream=r.writeToPath=r.writeToString=r.writeToBuffer=r.writeToStream=r.write=r.format=void 0;var i=e("@fast-csv/format");Object.defineProperty(r,"format",{enumerable:!0,get:function(){return i.format}}),Object.defineProperty(r,"write",{enumerable:!0,get:function(){return i.write}}),Object.defineProperty(r,"writeToStream",{enumerable:!0,get:function(){return i.writeToStream}}),Object.defineProperty(r,"writeToBuffer",{enumerable:!0,get:function(){return i.writeToBuffer}}),Object.defineProperty(r,"writeToString",{enumerable:!0,get:function(){return i.writeToString}}),Object.defineProperty(r,"writeToPath",{enumerable:!0,get:function(){return i.writeToPath}}),Object.defineProperty(r,"CsvFormatterStream",{enumerable:!0,get:function(){return i.CsvFormatterStream}}),Object.defineProperty(r,"FormatterOptions",{enumerable:!0,get:function(){return i.FormatterOptions}});var n=e("@fast-csv/parse");Object.defineProperty(r,"parse",{enumerable:!0,get:function(){return n.parse}}),Object.defineProperty(r,"parseString",{enumerable:!0,get:function(){return n.parseString}}),Object.defineProperty(r,"parseStream",{enumerable:!0,get:function(){return n.parseStream}}),Object.defineProperty(r,"parseFile",{enumerable:!0,get:function(){return n.parseFile}}),Object.defineProperty(r,"ParserOptions",{enumerable:!0,get:function(){return n.ParserOptions}}),Object.defineProperty(r,"CsvParserStream",{enumerable:!0,get:function(){return n.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(e,t,r){"use strict";var i=e("safe-buffer").Buffer,n=e("readable-stream").Transform;function o(s){n.call(this),this._block=i.allocUnsafe(s),this._blockSize=s,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}e("inherits")(o,n),o.prototype._transform=function(s,a,l){var c=null;try{this.update(s,a)}catch(d){c=d}l(c)},o.prototype._flush=function(s){var a=null;try{this.push(this.digest())}catch(l){a=l}s(a)},o.prototype.update=function(s,a){if(function(f,m){if(!i.isBuffer(f)&&typeof f!="string")throw new TypeError(m+" must be a string or a buffer")}(s,"Data"),this._finalized)throw new Error("Digest already called");i.isBuffer(s)||(s=i.from(s,a));for(var l=this._block,c=0;this._blockOffset+s.length-c>=this._blockSize;){for(var d=this._blockOffset;d<this._blockSize;)l[d++]=s[c++];this._update(),this._blockOffset=0}for(;c<s.length;)l[this._blockOffset++]=s[c++];for(var h=0,u=8*s.length;u>0;++h)this._length[h]+=u,(u=this._length[h]/4294967296|0)>0&&(this._length[h]-=4294967296*u);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(s){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var a=this._digest();s!==void 0&&(a=a.toString(s)),this._block.fill(0),this._blockOffset=0;for(var l=0;l<4;++l)this._length[l]=0;return a},o.prototype._digest=function(){throw new Error("_digest is not implemented")},t.exports=o},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(e,t,r){"use strict";var i=r;i.utils=e("./hash/utils"),i.common=e("./hash/common"),i.sha=e("./hash/sha"),i.ripemd=e("./hash/ripemd"),i.hmac=e("./hash/hmac"),i.sha1=i.sha.sha1,i.sha256=i.sha.sha256,i.sha224=i.sha.sha224,i.sha384=i.sha.sha384,i.sha512=i.sha.sha512,i.ripemd160=i.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(e,t,r){"use strict";var i=e("./utils"),n=e("minimalistic-assert");function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}r.BlockHash=o,o.prototype.update=function(s,a){if(s=i.toArray(s,a),this.pending?this.pending=this.pending.concat(s):this.pending=s,this.pendingTotal+=s.length,this.pending.length>=this._delta8){var l=(s=this.pending).length%this._delta8;this.pending=s.slice(s.length-l,s.length),this.pending.length===0&&(this.pending=null),s=i.join32(s,0,s.length-l,this.endian);for(var c=0;c<s.length;c+=this._delta32)this._update(s,c,c+this._delta32)}return this},o.prototype.digest=function(s){return this.update(this._pad()),n(this.pending===null),this._digest(s)},o.prototype._pad=function(){var s=this.pendingTotal,a=this._delta8,l=a-(s+this.padLength)%a,c=new Array(l+this.padLength);c[0]=128;for(var d=1;d<l;d++)c[d]=0;if(s<<=3,this.endian==="big"){for(var h=8;h<this.padLength;h++)c[d++]=0;c[d++]=0,c[d++]=0,c[d++]=0,c[d++]=0,c[d++]=s>>>24&255,c[d++]=s>>>16&255,c[d++]=s>>>8&255,c[d++]=255&s}else for(c[d++]=255&s,c[d++]=s>>>8&255,c[d++]=s>>>16&255,c[d++]=s>>>24&255,c[d++]=0,c[d++]=0,c[d++]=0,c[d++]=0,h=8;h<this.padLength;h++)c[d++]=0;return c}},{"./utils":437,"minimalistic-assert":453}],428:[function(e,t,r){"use strict";var i=e("./utils"),n=e("minimalistic-assert");function o(s,a,l){if(!(this instanceof o))return new o(s,a,l);this.Hash=s,this.blockSize=s.blockSize/8,this.outSize=s.outSize/8,this.inner=null,this.outer=null,this._init(i.toArray(a,l))}t.exports=o,o.prototype._init=function(s){s.length>this.blockSize&&(s=new this.Hash().update(s).digest()),n(s.length<=this.blockSize);for(var a=s.length;a<this.blockSize;a++)s.push(0);for(a=0;a<s.length;a++)s[a]^=54;for(this.inner=new this.Hash().update(s),a=0;a<s.length;a++)s[a]^=106;this.outer=new this.Hash().update(s)},o.prototype.update=function(s,a){return this.inner.update(s,a),this},o.prototype.digest=function(s){return this.outer.update(this.inner.digest()),this.outer.digest(s)}},{"./utils":437,"minimalistic-assert":453}],429:[function(e,t,r){"use strict";var i=e("./utils"),n=e("./common"),o=i.rotl32,s=i.sum32,a=i.sum32_3,l=i.sum32_4,c=n.BlockHash;function d(){if(!(this instanceof d))return new d;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function h(_,E,O,V){return _<=15?E^O^V:_<=31?E&O|~E&V:_<=47?(E|~O)^V:_<=63?E&V|O&~V:E^(O|~V)}function u(_){return _<=15?0:_<=31?1518500249:_<=47?1859775393:_<=63?2400959708:2840853838}function f(_){return _<=15?1352829926:_<=31?1548603684:_<=47?1836072691:_<=63?2053994217:0}i.inherits(d,c),r.ripemd160=d,d.blockSize=512,d.outSize=160,d.hmacStrength=192,d.padLength=64,d.prototype._update=function(_,E){for(var O=this.h[0],V=this.h[1],H=this.h[2],F=this.h[3],L=this.h[4],q=O,W=V,x=H,R=F,j=L,v=0;v<80;v++){var y=s(o(l(O,h(v,V,H,F),_[m[v]+E],u(v)),p[v]),L);O=L,L=F,F=o(H,10),H=V,V=y,y=s(o(l(q,h(79-v,W,x,R),_[g[v]+E],f(v)),b[v]),j),q=j,j=R,R=o(x,10),x=W,W=y}y=a(this.h[1],H,R),this.h[1]=a(this.h[2],F,j),this.h[2]=a(this.h[3],L,q),this.h[3]=a(this.h[4],O,W),this.h[4]=a(this.h[0],V,x),this.h[0]=y},d.prototype._digest=function(_){return _==="hex"?i.toHex32(this.h,"little"):i.split32(this.h,"little")};var m=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],g=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],p=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],b=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(e,t,r){"use strict";r.sha1=e("./sha/1"),r.sha224=e("./sha/224"),r.sha256=e("./sha/256"),r.sha384=e("./sha/384"),r.sha512=e("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(e,t,r){"use strict";var i=e("../utils"),n=e("../common"),o=e("./common"),s=i.rotl32,a=i.sum32,l=i.sum32_5,c=o.ft_1,d=n.BlockHash,h=[1518500249,1859775393,2400959708,3395469782];function u(){if(!(this instanceof u))return new u;d.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}i.inherits(u,d),t.exports=u,u.blockSize=512,u.outSize=160,u.hmacStrength=80,u.padLength=64,u.prototype._update=function(f,m){for(var g=this.W,p=0;p<16;p++)g[p]=f[m+p];for(;p<g.length;p++)g[p]=s(g[p-3]^g[p-8]^g[p-14]^g[p-16],1);var b=this.h[0],_=this.h[1],E=this.h[2],O=this.h[3],V=this.h[4];for(p=0;p<g.length;p++){var H=~~(p/20),F=l(s(b,5),c(H,_,E,O),V,g[p],h[H]);V=O,O=E,E=s(_,30),_=b,b=F}this.h[0]=a(this.h[0],b),this.h[1]=a(this.h[1],_),this.h[2]=a(this.h[2],E),this.h[3]=a(this.h[3],O),this.h[4]=a(this.h[4],V)},u.prototype._digest=function(f){return f==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(e,t,r){"use strict";var i=e("../utils"),n=e("./256");function o(){if(!(this instanceof o))return new o;n.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}i.inherits(o,n),t.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(s){return s==="hex"?i.toHex32(this.h.slice(0,7),"big"):i.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(e,t,r){"use strict";var i=e("../utils"),n=e("../common"),o=e("./common"),s=e("minimalistic-assert"),a=i.sum32,l=i.sum32_4,c=i.sum32_5,d=o.ch32,h=o.maj32,u=o.s0_256,f=o.s1_256,m=o.g0_256,g=o.g1_256,p=n.BlockHash,b=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function _(){if(!(this instanceof _))return new _;p.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=b,this.W=new Array(64)}i.inherits(_,p),t.exports=_,_.blockSize=512,_.outSize=256,_.hmacStrength=192,_.padLength=64,_.prototype._update=function(E,O){for(var V=this.W,H=0;H<16;H++)V[H]=E[O+H];for(;H<V.length;H++)V[H]=l(g(V[H-2]),V[H-7],m(V[H-15]),V[H-16]);var F=this.h[0],L=this.h[1],q=this.h[2],W=this.h[3],x=this.h[4],R=this.h[5],j=this.h[6],v=this.h[7];for(s(this.k.length===V.length),H=0;H<V.length;H++){var y=c(v,f(x),d(x,R,j),this.k[H],V[H]),C=a(u(F),h(F,L,q));v=j,j=R,R=x,x=a(W,y),W=q,q=L,L=F,F=a(y,C)}this.h[0]=a(this.h[0],F),this.h[1]=a(this.h[1],L),this.h[2]=a(this.h[2],q),this.h[3]=a(this.h[3],W),this.h[4]=a(this.h[4],x),this.h[5]=a(this.h[5],R),this.h[6]=a(this.h[6],j),this.h[7]=a(this.h[7],v)},_.prototype._digest=function(E){return E==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(e,t,r){"use strict";var i=e("../utils"),n=e("./512");function o(){if(!(this instanceof o))return new o;n.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}i.inherits(o,n),t.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(s){return s==="hex"?i.toHex32(this.h.slice(0,12),"big"):i.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(e,t,r){"use strict";var i=e("../utils"),n=e("../common"),o=e("minimalistic-assert"),s=i.rotr64_hi,a=i.rotr64_lo,l=i.shr64_hi,c=i.shr64_lo,d=i.sum64,h=i.sum64_hi,u=i.sum64_lo,f=i.sum64_4_hi,m=i.sum64_4_lo,g=i.sum64_5_hi,p=i.sum64_5_lo,b=n.BlockHash,_=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function E(){if(!(this instanceof E))return new E;b.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=_,this.W=new Array(160)}function O(C,w,S,M,U){var N=C&S^~C&U;return N<0&&(N+=4294967296),N}function V(C,w,S,M,U,N){var T=w&M^~w&N;return T<0&&(T+=4294967296),T}function H(C,w,S,M,U){var N=C&S^C&U^S&U;return N<0&&(N+=4294967296),N}function F(C,w,S,M,U,N){var T=w&M^w&N^M&N;return T<0&&(T+=4294967296),T}function L(C,w){var S=s(C,w,28)^s(w,C,2)^s(w,C,7);return S<0&&(S+=4294967296),S}function q(C,w){var S=a(C,w,28)^a(w,C,2)^a(w,C,7);return S<0&&(S+=4294967296),S}function W(C,w){var S=s(C,w,14)^s(C,w,18)^s(w,C,9);return S<0&&(S+=4294967296),S}function x(C,w){var S=a(C,w,14)^a(C,w,18)^a(w,C,9);return S<0&&(S+=4294967296),S}function R(C,w){var S=s(C,w,1)^s(C,w,8)^l(C,w,7);return S<0&&(S+=4294967296),S}function j(C,w){var S=a(C,w,1)^a(C,w,8)^c(C,w,7);return S<0&&(S+=4294967296),S}function v(C,w){var S=s(C,w,19)^s(w,C,29)^l(C,w,6);return S<0&&(S+=4294967296),S}function y(C,w){var S=a(C,w,19)^a(w,C,29)^c(C,w,6);return S<0&&(S+=4294967296),S}i.inherits(E,b),t.exports=E,E.blockSize=1024,E.outSize=512,E.hmacStrength=192,E.padLength=128,E.prototype._prepareBlock=function(C,w){for(var S=this.W,M=0;M<32;M++)S[M]=C[w+M];for(;M<S.length;M+=2){var U=v(S[M-4],S[M-3]),N=y(S[M-4],S[M-3]),T=S[M-14],B=S[M-13],I=R(S[M-30],S[M-29]),$=j(S[M-30],S[M-29]),A=S[M-32],k=S[M-31];S[M]=f(U,N,T,B,I,$,A,k),S[M+1]=m(U,N,T,B,I,$,A,k)}},E.prototype._update=function(C,w){this._prepareBlock(C,w);var S=this.W,M=this.h[0],U=this.h[1],N=this.h[2],T=this.h[3],B=this.h[4],I=this.h[5],$=this.h[6],A=this.h[7],k=this.h[8],Y=this.h[9],Z=this.h[10],ct=this.h[11],tt=this.h[12],nt=this.h[13],Ct=this.h[14],xt=this.h[15];o(this.k.length===S.length);for(var rt=0;rt<S.length;rt+=2){var at=Ct,_t=xt,J=W(k,Y),et=x(k,Y),lt=O(k,Y,Z,ct,tt),ut=V(k,Y,Z,ct,tt,nt),mt=this.k[rt],wt=this.k[rt+1],vt=S[rt],Rt=S[rt+1],Mt=g(at,_t,J,et,lt,ut,mt,wt,vt,Rt),Et=p(at,_t,J,et,lt,ut,mt,wt,vt,Rt);at=L(M,U),_t=q(M,U),J=H(M,U,N,T,B),et=F(M,U,N,T,B,I);var kt=h(at,_t,J,et),zt=u(at,_t,J,et);Ct=tt,xt=nt,tt=Z,nt=ct,Z=k,ct=Y,k=h($,A,Mt,Et),Y=u(A,A,Mt,Et),$=B,A=I,B=N,I=T,N=M,T=U,M=h(Mt,Et,kt,zt),U=u(Mt,Et,kt,zt)}d(this.h,0,M,U),d(this.h,2,N,T),d(this.h,4,B,I),d(this.h,6,$,A),d(this.h,8,k,Y),d(this.h,10,Z,ct),d(this.h,12,tt,nt),d(this.h,14,Ct,xt)},E.prototype._digest=function(C){return C==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(e,t,r){"use strict";var i=e("../utils").rotr32;function n(a,l,c){return a&l^~a&c}function o(a,l,c){return a&l^a&c^l&c}function s(a,l,c){return a^l^c}r.ft_1=function(a,l,c,d){return a===0?n(l,c,d):a===1||a===3?s(l,c,d):a===2?o(l,c,d):void 0},r.ch32=n,r.maj32=o,r.p32=s,r.s0_256=function(a){return i(a,2)^i(a,13)^i(a,22)},r.s1_256=function(a){return i(a,6)^i(a,11)^i(a,25)},r.g0_256=function(a){return i(a,7)^i(a,18)^a>>>3},r.g1_256=function(a){return i(a,17)^i(a,19)^a>>>10}},{"../utils":437}],437:[function(e,t,r){"use strict";var i=e("minimalistic-assert"),n=e("inherits");function o(c,d){return(64512&c.charCodeAt(d))==55296&&!(d<0||d+1>=c.length)&&(64512&c.charCodeAt(d+1))==56320}function s(c){return(c>>>24|c>>>8&65280|c<<8&16711680|(255&c)<<24)>>>0}function a(c){return c.length===1?"0"+c:c}function l(c){return c.length===7?"0"+c:c.length===6?"00"+c:c.length===5?"000"+c:c.length===4?"0000"+c:c.length===3?"00000"+c:c.length===2?"000000"+c:c.length===1?"0000000"+c:c}r.inherits=n,r.toArray=function(c,d){if(Array.isArray(c))return c.slice();if(!c)return[];var h=[];if(typeof c=="string")if(d){if(d==="hex")for((c=c.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(c="0"+c),f=0;f<c.length;f+=2)h.push(parseInt(c[f]+c[f+1],16))}else for(var u=0,f=0;f<c.length;f++){var m=c.charCodeAt(f);m<128?h[u++]=m:m<2048?(h[u++]=m>>6|192,h[u++]=63&m|128):o(c,f)?(m=65536+((1023&m)<<10)+(1023&c.charCodeAt(++f)),h[u++]=m>>18|240,h[u++]=m>>12&63|128,h[u++]=m>>6&63|128,h[u++]=63&m|128):(h[u++]=m>>12|224,h[u++]=m>>6&63|128,h[u++]=63&m|128)}else for(f=0;f<c.length;f++)h[f]=0|c[f];return h},r.toHex=function(c){for(var d="",h=0;h<c.length;h++)d+=a(c[h].toString(16));return d},r.htonl=s,r.toHex32=function(c,d){for(var h="",u=0;u<c.length;u++){var f=c[u];d==="little"&&(f=s(f)),h+=l(f.toString(16))}return h},r.zero2=a,r.zero8=l,r.join32=function(c,d,h,u){var f=h-d;i(f%4==0);for(var m=new Array(f/4),g=0,p=d;g<m.length;g++,p+=4){var b;b=u==="big"?c[p]<<24|c[p+1]<<16|c[p+2]<<8|c[p+3]:c[p+3]<<24|c[p+2]<<16|c[p+1]<<8|c[p],m[g]=b>>>0}return m},r.split32=function(c,d){for(var h=new Array(4*c.length),u=0,f=0;u<c.length;u++,f+=4){var m=c[u];d==="big"?(h[f]=m>>>24,h[f+1]=m>>>16&255,h[f+2]=m>>>8&255,h[f+3]=255&m):(h[f+3]=m>>>24,h[f+2]=m>>>16&255,h[f+1]=m>>>8&255,h[f]=255&m)}return h},r.rotr32=function(c,d){return c>>>d|c<<32-d},r.rotl32=function(c,d){return c<<d|c>>>32-d},r.sum32=function(c,d){return c+d>>>0},r.sum32_3=function(c,d,h){return c+d+h>>>0},r.sum32_4=function(c,d,h,u){return c+d+h+u>>>0},r.sum32_5=function(c,d,h,u,f){return c+d+h+u+f>>>0},r.sum64=function(c,d,h,u){var f=c[d],m=u+c[d+1]>>>0,g=(m<u?1:0)+h+f;c[d]=g>>>0,c[d+1]=m},r.sum64_hi=function(c,d,h,u){return(d+u>>>0<d?1:0)+c+h>>>0},r.sum64_lo=function(c,d,h,u){return d+u>>>0},r.sum64_4_hi=function(c,d,h,u,f,m,g,p){var b=0,_=d;return b+=(_=_+u>>>0)<d?1:0,b+=(_=_+m>>>0)<m?1:0,c+h+f+g+(b+=(_=_+p>>>0)<p?1:0)>>>0},r.sum64_4_lo=function(c,d,h,u,f,m,g,p){return d+u+m+p>>>0},r.sum64_5_hi=function(c,d,h,u,f,m,g,p,b,_){var E=0,O=d;return E+=(O=O+u>>>0)<d?1:0,E+=(O=O+m>>>0)<m?1:0,E+=(O=O+p>>>0)<p?1:0,c+h+f+g+b+(E+=(O=O+_>>>0)<_?1:0)>>>0},r.sum64_5_lo=function(c,d,h,u,f,m,g,p,b,_){return d+u+m+p+_>>>0},r.rotr64_hi=function(c,d,h){return(d<<32-h|c>>>h)>>>0},r.rotr64_lo=function(c,d,h){return(c<<32-h|d>>>h)>>>0},r.shr64_hi=function(c,d,h){return c>>>h},r.shr64_lo=function(c,d,h){return(c<<32-h|d>>>h)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(e,t,r){"use strict";var i=e("hash.js"),n=e("minimalistic-crypto-utils"),o=e("minimalistic-assert");function s(a){if(!(this instanceof s))return new s(a);this.hash=a.hash,this.predResist=!!a.predResist,this.outLen=this.hash.outSize,this.minEntropy=a.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var l=n.toArray(a.entropy,a.entropyEnc||"hex"),c=n.toArray(a.nonce,a.nonceEnc||"hex"),d=n.toArray(a.pers,a.persEnc||"hex");o(l.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(l,c,d)}t.exports=s,s.prototype._init=function(a,l,c){var d=a.concat(l).concat(c);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var h=0;h<this.V.length;h++)this.K[h]=0,this.V[h]=1;this._update(d),this._reseed=1,this.reseedInterval=281474976710656},s.prototype._hmac=function(){return new i.hmac(this.hash,this.K)},s.prototype._update=function(a){var l=this._hmac().update(this.V).update([0]);a&&(l=l.update(a)),this.K=l.digest(),this.V=this._hmac().update(this.V).digest(),a&&(this.K=this._hmac().update(this.V).update([1]).update(a).digest(),this.V=this._hmac().update(this.V).digest())},s.prototype.reseed=function(a,l,c,d){typeof l!="string"&&(d=c,c=l,l=null),a=n.toArray(a,l),c=n.toArray(c,d),o(a.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(a.concat(c||[])),this._reseed=1},s.prototype.generate=function(a,l,c,d){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof l!="string"&&(d=c,c=l,l=null),c&&(c=n.toArray(c,d||"hex"),this._update(c));for(var h=[];h.length<a;)this.V=this._hmac().update(this.V).digest(),h=h.concat(this.V);var u=h.slice(0,a);return this._update(c),this._reseed++,n.encode(u,l)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(e,t,r){"use strict";r.read=function(i,n,o,s,a){var l,c,d=8*a-s-1,h=(1<<d)-1,u=h>>1,f=-7,m=o?a-1:0,g=o?-1:1,p=i[n+m];for(m+=g,l=p&(1<<-f)-1,p>>=-f,f+=d;f>0;l=256*l+i[n+m],m+=g,f-=8);for(c=l&(1<<-f)-1,l>>=-f,f+=s;f>0;c=256*c+i[n+m],m+=g,f-=8);if(l===0)l=1-u;else{if(l===h)return c?NaN:1/0*(p?-1:1);c+=Math.pow(2,s),l-=u}return(p?-1:1)*c*Math.pow(2,l-s)},r.write=function(i,n,o,s,a,l){var c,d,h,u=8*l-a-1,f=(1<<u)-1,m=f>>1,g=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=s?0:l-1,b=s?1:-1,_=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(d=isNaN(n)?1:0,c=f):(c=Math.floor(Math.log(n)/Math.LN2),n*(h=Math.pow(2,-c))<1&&(c--,h*=2),(n+=c+m>=1?g/h:g*Math.pow(2,1-m))*h>=2&&(c++,h/=2),c+m>=f?(d=0,c=f):c+m>=1?(d=(n*h-1)*Math.pow(2,a),c+=m):(d=n*Math.pow(2,m-1)*Math.pow(2,a),c=0));a>=8;i[o+p]=255&d,p+=b,d/=256,a-=8);for(c=c<<a|d,u+=a;u>0;i[o+p]=255&c,p+=b,c/=256,u-=8);i[o+p-b]|=128*_}},{}],440:[function(e,t,r){"use strict";typeof Object.create=="function"?t.exports=function(i,n){n&&(i.super_=n,i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(i,n){if(n){i.super_=n;var o=function(){};o.prototype=n.prototype,i.prototype=new o,i.prototype.constructor=i}}},{}],441:[function(e,t,r){(function(i,n,o,s,a,l,c,d){(function(){"use strict";(function(h){typeof r=="object"&&t!==void 0?t.exports=h():(typeof window<"u"?window:n!==void 0?n:typeof self<"u"?self:this).JSZip=h()})(function(){return function h(u,f,m){function g(_,E){if(!f[_]){if(!u[_]){var O=typeof e=="function"&&e;if(!E&&O)return O(_,!0);if(p)return p(_,!0);var V=new Error("Cannot find module '"+_+"'");throw V.code="MODULE_NOT_FOUND",V}var H=f[_]={exports:{}};u[_][0].call(H.exports,function(F){return g(u[_][1][F]||F)},H,H.exports,h,u,f,m)}return f[_].exports}for(var p=typeof e=="function"&&e,b=0;b<m.length;b++)g(m[b]);return g}({1:[function(h,u,f){var m=h("./utils"),g=h("./support"),p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";f.encode=function(b){for(var _,E,O,V,H,F,L,q=[],W=0,x=b.length,R=x,j=m.getTypeOf(b)!=="string";W<b.length;)R=x-W,O=j?(_=b[W++],E=W<x?b[W++]:0,W<x?b[W++]:0):(_=b.charCodeAt(W++),E=W<x?b.charCodeAt(W++):0,W<x?b.charCodeAt(W++):0),V=_>>2,H=(3&_)<<4|E>>4,F=1<R?(15&E)<<2|O>>6:64,L=2<R?63&O:64,q.push(p.charAt(V)+p.charAt(H)+p.charAt(F)+p.charAt(L));return q.join("")},f.decode=function(b){var _,E,O,V,H,F,L=0,q=0,W="data:";if(b.substr(0,W.length)===W)throw new Error("Invalid base64 input, it looks like a data url.");var x,R=3*(b=b.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(b.charAt(b.length-1)===p.charAt(64)&&R--,b.charAt(b.length-2)===p.charAt(64)&&R--,R%1!=0)throw new Error("Invalid base64 input, bad content length.");for(x=g.uint8array?new Uint8Array(0|R):new Array(0|R);L<b.length;)_=p.indexOf(b.charAt(L++))<<2|(V=p.indexOf(b.charAt(L++)))>>4,E=(15&V)<<4|(H=p.indexOf(b.charAt(L++)))>>2,O=(3&H)<<6|(F=p.indexOf(b.charAt(L++))),x[q++]=_,H!==64&&(x[q++]=E),F!==64&&(x[q++]=O);return x}},{"./support":30,"./utils":32}],2:[function(h,u,f){var m=h("./external"),g=h("./stream/DataWorker"),p=h("./stream/Crc32Probe"),b=h("./stream/DataLengthProbe");function _(E,O,V,H,F){this.compressedSize=E,this.uncompressedSize=O,this.crc32=V,this.compression=H,this.compressedContent=F}_.prototype={getContentWorker:function(){var E=new g(m.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new b("data_length")),O=this;return E.on("end",function(){if(this.streamInfo.data_length!==O.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),E},getCompressedWorker:function(){return new g(m.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},_.createWorkerFrom=function(E,O,V){return E.pipe(new p).pipe(new b("uncompressedSize")).pipe(O.compressWorker(V)).pipe(new b("compressedSize")).withStreamInfo("compression",O)},u.exports=_},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(h,u,f){var m=h("./stream/GenericWorker");f.STORE={magic:"\0\0",compressWorker:function(){return new m("STORE compression")},uncompressWorker:function(){return new m("STORE decompression")}},f.DEFLATE=h("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(h,u,f){var m=h("./utils"),g=function(){for(var p,b=[],_=0;_<256;_++){p=_;for(var E=0;E<8;E++)p=1&p?3988292384^p>>>1:p>>>1;b[_]=p}return b}();u.exports=function(p,b){return p!==void 0&&p.length?m.getTypeOf(p)!=="string"?function(_,E,O,V){var H=g,F=0+O;_^=-1;for(var L=0;L<F;L++)_=_>>>8^H[255&(_^E[L])];return-1^_}(0|b,p,p.length):function(_,E,O,V){var H=g,F=0+O;_^=-1;for(var L=0;L<F;L++)_=_>>>8^H[255&(_^E.charCodeAt(L))];return-1^_}(0|b,p,p.length):0}},{"./utils":32}],5:[function(h,u,f){f.base64=!1,f.binary=!1,f.dir=!1,f.createFolders=!0,f.date=null,f.compression=null,f.compressionOptions=null,f.comment=null,f.unixPermissions=null,f.dosPermissions=null},{}],6:[function(h,u,f){var m;m=typeof Promise<"u"?Promise:h("lie"),u.exports={Promise:m}},{lie:37}],7:[function(h,u,f){var m=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",g=h("pako"),p=h("./utils"),b=h("./stream/GenericWorker"),_=m?"uint8array":"array";function E(O,V){b.call(this,"FlateWorker/"+O),this._pako=null,this._pakoAction=O,this._pakoOptions=V,this.meta={}}f.magic="\b\0",p.inherits(E,b),E.prototype.processChunk=function(O){this.meta=O.meta,this._pako===null&&this._createPako(),this._pako.push(p.transformTo(_,O.data),!1)},E.prototype.flush=function(){b.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},E.prototype.cleanUp=function(){b.prototype.cleanUp.call(this),this._pako=null},E.prototype._createPako=function(){this._pako=new g[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var O=this;this._pako.onData=function(V){O.push({data:V,meta:O.meta})}},f.compressWorker=function(O){return new E("Deflate",O)},f.uncompressWorker=function(){return new E("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(h,u,f){function m(H,F){var L,q="";for(L=0;L<F;L++)q+=String.fromCharCode(255&H),H>>>=8;return q}function g(H,F,L,q,W,x){var R,j,v=H.file,y=H.compression,C=x!==_.utf8encode,w=p.transformTo("string",x(v.name)),S=p.transformTo("string",_.utf8encode(v.name)),M=v.comment,U=p.transformTo("string",x(M)),N=p.transformTo("string",_.utf8encode(M)),T=S.length!==v.name.length,B=N.length!==M.length,I="",$="",A="",k=v.dir,Y=v.date,Z={crc32:0,compressedSize:0,uncompressedSize:0};F&&!L||(Z.crc32=H.crc32,Z.compressedSize=H.compressedSize,Z.uncompressedSize=H.uncompressedSize);var ct=0;F&&(ct|=8),C||!T&&!B||(ct|=2048);var tt=0,nt=0;k&&(tt|=16),W==="UNIX"?(nt=798,tt|=function(xt,rt){var at=xt;return xt||(at=rt?16893:33204),(65535&at)<<16}(v.unixPermissions,k)):(nt=20,tt|=function(xt){return 63&(xt||0)}(v.dosPermissions)),R=Y.getUTCHours(),R<<=6,R|=Y.getUTCMinutes(),R<<=5,R|=Y.getUTCSeconds()/2,j=Y.getUTCFullYear()-1980,j<<=4,j|=Y.getUTCMonth()+1,j<<=5,j|=Y.getUTCDate(),T&&($=m(1,1)+m(E(w),4)+S,I+="up"+m($.length,2)+$),B&&(A=m(1,1)+m(E(U),4)+N,I+="uc"+m(A.length,2)+A);var Ct="";return Ct+=`
\0`,Ct+=m(ct,2),Ct+=y.magic,Ct+=m(R,2),Ct+=m(j,2),Ct+=m(Z.crc32,4),Ct+=m(Z.compressedSize,4),Ct+=m(Z.uncompressedSize,4),Ct+=m(w.length,2),Ct+=m(I.length,2),{fileRecord:O.LOCAL_FILE_HEADER+Ct+w+I,dirRecord:O.CENTRAL_FILE_HEADER+m(nt,2)+Ct+m(U.length,2)+"\0\0\0\0"+m(tt,4)+m(q,4)+w+I+U}}var p=h("../utils"),b=h("../stream/GenericWorker"),_=h("../utf8"),E=h("../crc32"),O=h("../signature");function V(H,F,L,q){b.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=F,this.zipPlatform=L,this.encodeFileName=q,this.streamFiles=H,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}p.inherits(V,b),V.prototype.push=function(H){var F=H.meta.percent||0,L=this.entriesCount,q=this._sources.length;this.accumulate?this.contentBuffer.push(H):(this.bytesWritten+=H.data.length,b.prototype.push.call(this,{data:H.data,meta:{currentFile:this.currentFile,percent:L?(F+100*(L-q-1))/L:100}}))},V.prototype.openedSource=function(H){this.currentSourceOffset=this.bytesWritten,this.currentFile=H.file.name;var F=this.streamFiles&&!H.file.dir;if(F){var L=g(H,F,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:L.fileRecord,meta:{percent:0}})}else this.accumulate=!0},V.prototype.closedSource=function(H){this.accumulate=!1;var F=this.streamFiles&&!H.file.dir,L=g(H,F,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(L.dirRecord),F)this.push({data:function(q){return O.DATA_DESCRIPTOR+m(q.crc32,4)+m(q.compressedSize,4)+m(q.uncompressedSize,4)}(H),meta:{percent:100}});else for(this.push({data:L.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},V.prototype.flush=function(){for(var H=this.bytesWritten,F=0;F<this.dirRecords.length;F++)this.push({data:this.dirRecords[F],meta:{percent:100}});var L=this.bytesWritten-H,q=function(W,x,R,j,v){var y=p.transformTo("string",v(j));return O.CENTRAL_DIRECTORY_END+"\0\0\0\0"+m(W,2)+m(W,2)+m(x,4)+m(R,4)+m(y.length,2)+y}(this.dirRecords.length,L,H,this.zipComment,this.encodeFileName);this.push({data:q,meta:{percent:100}})},V.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},V.prototype.registerPrevious=function(H){this._sources.push(H);var F=this;return H.on("data",function(L){F.processChunk(L)}),H.on("end",function(){F.closedSource(F.previous.streamInfo),F._sources.length?F.prepareNextSource():F.end()}),H.on("error",function(L){F.error(L)}),this},V.prototype.resume=function(){return!!b.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},V.prototype.error=function(H){var F=this._sources;if(!b.prototype.error.call(this,H))return!1;for(var L=0;L<F.length;L++)try{F[L].error(H)}catch{}return!0},V.prototype.lock=function(){b.prototype.lock.call(this);for(var H=this._sources,F=0;F<H.length;F++)H[F].lock()},u.exports=V},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(h,u,f){var m=h("../compressions"),g=h("./ZipFileWorker");f.generateWorker=function(p,b,_){var E=new g(b.streamFiles,_,b.platform,b.encodeFileName),O=0;try{p.forEach(function(V,H){O++;var F=function(x,R){var j=x||R,v=m[j];if(!v)throw new Error(j+" is not a valid compression method !");return v}(H.options.compression,b.compression),L=H.options.compressionOptions||b.compressionOptions||{},q=H.dir,W=H.date;H._compressWorker(F,L).withStreamInfo("file",{name:V,dir:q,date:W,comment:H.comment||"",unixPermissions:H.unixPermissions,dosPermissions:H.dosPermissions}).pipe(E)}),E.entriesCount=O}catch(V){E.error(V)}return E}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(h,u,f){function m(){if(!(this instanceof m))return new m;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var g=new m;for(var p in this)typeof this[p]!="function"&&(g[p]=this[p]);return g}}(m.prototype=h("./object")).loadAsync=h("./load"),m.support=h("./support"),m.defaults=h("./defaults"),m.version="3.10.1",m.loadAsync=function(g,p){return new m().loadAsync(g,p)},m.external=h("./external"),u.exports=m},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(h,u,f){var m=h("./utils"),g=h("./external"),p=h("./utf8"),b=h("./zipEntries"),_=h("./stream/Crc32Probe"),E=h("./nodejsUtils");function O(V){return new g.Promise(function(H,F){var L=V.decompressed.getContentWorker().pipe(new _);L.on("error",function(q){F(q)}).on("end",function(){L.streamInfo.crc32!==V.decompressed.crc32?F(new Error("Corrupted zip : CRC32 mismatch")):H()}).resume()})}u.exports=function(V,H){var F=this;return H=m.extend(H||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:p.utf8decode}),E.isNode&&E.isStream(V)?g.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):m.prepareContent("the loaded zip file",V,!0,H.optimizedBinaryString,H.base64).then(function(L){var q=new b(H);return q.load(L),q}).then(function(L){var q=[g.Promise.resolve(L)],W=L.files;if(H.checkCRC32)for(var x=0;x<W.length;x++)q.push(O(W[x]));return g.Promise.all(q)}).then(function(L){for(var q=L.shift(),W=q.files,x=0;x<W.length;x++){var R=W[x],j=R.fileNameStr,v=m.resolve(R.fileNameStr);F.file(v,R.decompressed,{binary:!0,optimizedBinaryString:!0,date:R.date,dir:R.dir,comment:R.fileCommentStr.length?R.fileCommentStr:null,unixPermissions:R.unixPermissions,dosPermissions:R.dosPermissions,createFolders:H.createFolders}),R.dir||(F.file(v).unsafeOriginalName=j)}return q.zipComment.length&&(F.comment=q.zipComment),F})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(h,u,f){var m=h("../utils"),g=h("../stream/GenericWorker");function p(b,_){g.call(this,"Nodejs stream input adapter for "+b),this._upstreamEnded=!1,this._bindStream(_)}m.inherits(p,g),p.prototype._bindStream=function(b){var _=this;(this._stream=b).pause(),b.on("data",function(E){_.push({data:E,meta:{percent:0}})}).on("error",function(E){_.isPaused?this.generatedError=E:_.error(E)}).on("end",function(){_.isPaused?_._upstreamEnded=!0:_.end()})},p.prototype.pause=function(){return!!g.prototype.pause.call(this)&&(this._stream.pause(),!0)},p.prototype.resume=function(){return!!g.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},u.exports=p},{"../stream/GenericWorker":28,"../utils":32}],13:[function(h,u,f){var m=h("readable-stream").Readable;function g(p,b,_){m.call(this,b),this._helper=p;var E=this;p.on("data",function(O,V){E.push(O)||E._helper.pause(),_&&_(V)}).on("error",function(O){E.emit("error",O)}).on("end",function(){E.push(null)})}h("../utils").inherits(g,m),g.prototype._read=function(){this._helper.resume()},u.exports=g},{"../utils":32,"readable-stream":16}],14:[function(h,u,f){u.exports={isNode:o!==void 0,newBufferFrom:function(m,g){if(o.from&&o.from!==Uint8Array.from)return o.from(m,g);if(typeof m=="number")throw new Error('The "data" argument must not be a number');return new o(m,g)},allocBuffer:function(m){if(o.alloc)return o.alloc(m);var g=new o(m);return g.fill(0),g},isBuffer:function(m){return o.isBuffer(m)},isStream:function(m){return m&&typeof m.on=="function"&&typeof m.pause=="function"&&typeof m.resume=="function"}}},{}],15:[function(h,u,f){function m(v,y,C){var w,S=p.getTypeOf(y),M=p.extend(C||{},E);M.date=M.date||new Date,M.compression!==null&&(M.compression=M.compression.toUpperCase()),typeof M.unixPermissions=="string"&&(M.unixPermissions=parseInt(M.unixPermissions,8)),M.unixPermissions&&16384&M.unixPermissions&&(M.dir=!0),M.dosPermissions&&16&M.dosPermissions&&(M.dir=!0),M.dir&&(v=W(v)),M.createFolders&&(w=q(v))&&x.call(this,w,!0);var U=S==="string"&&M.binary===!1&&M.base64===!1;C&&C.binary!==void 0||(M.binary=!U),(y instanceof O&&y.uncompressedSize===0||M.dir||!y||y.length===0)&&(M.base64=!1,M.binary=!0,y="",M.compression="STORE",S="string");var N;N=y instanceof O||y instanceof b?y:F.isNode&&F.isStream(y)?new L(v,y):p.prepareContent(v,y,M.binary,M.optimizedBinaryString,M.base64);var T=new V(v,N,M);this.files[v]=T}var g=h("./utf8"),p=h("./utils"),b=h("./stream/GenericWorker"),_=h("./stream/StreamHelper"),E=h("./defaults"),O=h("./compressedObject"),V=h("./zipObject"),H=h("./generate"),F=h("./nodejsUtils"),L=h("./nodejs/NodejsStreamInputAdapter"),q=function(v){v.slice(-1)==="/"&&(v=v.substring(0,v.length-1));var y=v.lastIndexOf("/");return 0<y?v.substring(0,y):""},W=function(v){return v.slice(-1)!=="/"&&(v+="/"),v},x=function(v,y){return y=y!==void 0?y:E.createFolders,v=W(v),this.files[v]||m.call(this,v,null,{dir:!0,createFolders:y}),this.files[v]};function R(v){return Object.prototype.toString.call(v)==="[object RegExp]"}var j={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(v){var y,C,w;for(y in this.files)w=this.files[y],(C=y.slice(this.root.length,y.length))&&y.slice(0,this.root.length)===this.root&&v(C,w)},filter:function(v){var y=[];return this.forEach(function(C,w){v(C,w)&&y.push(w)}),y},file:function(v,y,C){if(arguments.length!==1)return v=this.root+v,m.call(this,v,y,C),this;if(R(v)){var w=v;return this.filter(function(M,U){return!U.dir&&w.test(M)})}var S=this.files[this.root+v];return S&&!S.dir?S:null},folder:function(v){if(!v)return this;if(R(v))return this.filter(function(S,M){return M.dir&&v.test(S)});var y=this.root+v,C=x.call(this,y),w=this.clone();return w.root=C.name,w},remove:function(v){v=this.root+v;var y=this.files[v];if(y||(v.slice(-1)!=="/"&&(v+="/"),y=this.files[v]),y&&!y.dir)delete this.files[v];else for(var C=this.filter(function(S,M){return M.name.slice(0,v.length)===v}),w=0;w<C.length;w++)delete this.files[C[w].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(v){var y,C={};try{if((C=p.extend(v||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:g.utf8encode})).type=C.type.toLowerCase(),C.compression=C.compression.toUpperCase(),C.type==="binarystring"&&(C.type="string"),!C.type)throw new Error("No output type specified.");p.checkSupport(C.type),C.platform!=="darwin"&&C.platform!=="freebsd"&&C.platform!=="linux"&&C.platform!=="sunos"||(C.platform="UNIX"),C.platform==="win32"&&(C.platform="DOS");var w=C.comment||this.comment||"";y=H.generateWorker(this,C,w)}catch(S){(y=new b("error")).error(S)}return new _(y,C.type||"string",C.mimeType)},generateAsync:function(v,y){return this.generateInternalStream(v).accumulate(y)},generateNodeStream:function(v,y){return(v=v||{}).type||(v.type="nodebuffer"),this.generateInternalStream(v).toNodejsStream(y)}};u.exports=j},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(h,u,f){u.exports=h("stream")},{stream:void 0}],17:[function(h,u,f){var m=h("./DataReader");function g(p){m.call(this,p);for(var b=0;b<this.data.length;b++)p[b]=255&p[b]}h("../utils").inherits(g,m),g.prototype.byteAt=function(p){return this.data[this.zero+p]},g.prototype.lastIndexOfSignature=function(p){for(var b=p.charCodeAt(0),_=p.charCodeAt(1),E=p.charCodeAt(2),O=p.charCodeAt(3),V=this.length-4;0<=V;--V)if(this.data[V]===b&&this.data[V+1]===_&&this.data[V+2]===E&&this.data[V+3]===O)return V-this.zero;return-1},g.prototype.readAndCheckSignature=function(p){var b=p.charCodeAt(0),_=p.charCodeAt(1),E=p.charCodeAt(2),O=p.charCodeAt(3),V=this.readData(4);return b===V[0]&&_===V[1]&&E===V[2]&&O===V[3]},g.prototype.readData=function(p){if(this.checkOffset(p),p===0)return[];var b=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,b},u.exports=g},{"../utils":32,"./DataReader":18}],18:[function(h,u,f){var m=h("../utils");function g(p){this.data=p,this.length=p.length,this.index=0,this.zero=0}g.prototype={checkOffset:function(p){this.checkIndex(this.index+p)},checkIndex:function(p){if(this.length<this.zero+p||p<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+p+"). Corrupted zip ?")},setIndex:function(p){this.checkIndex(p),this.index=p},skip:function(p){this.setIndex(this.index+p)},byteAt:function(){},readInt:function(p){var b,_=0;for(this.checkOffset(p),b=this.index+p-1;b>=this.index;b--)_=(_<<8)+this.byteAt(b);return this.index+=p,_},readString:function(p){return m.transformTo("string",this.readData(p))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var p=this.readInt(4);return new Date(Date.UTC(1980+(p>>25&127),(p>>21&15)-1,p>>16&31,p>>11&31,p>>5&63,(31&p)<<1))}},u.exports=g},{"../utils":32}],19:[function(h,u,f){var m=h("./Uint8ArrayReader");function g(p){m.call(this,p)}h("../utils").inherits(g,m),g.prototype.readData=function(p){this.checkOffset(p);var b=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,b},u.exports=g},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(h,u,f){var m=h("./DataReader");function g(p){m.call(this,p)}h("../utils").inherits(g,m),g.prototype.byteAt=function(p){return this.data.charCodeAt(this.zero+p)},g.prototype.lastIndexOfSignature=function(p){return this.data.lastIndexOf(p)-this.zero},g.prototype.readAndCheckSignature=function(p){return p===this.readData(4)},g.prototype.readData=function(p){this.checkOffset(p);var b=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,b},u.exports=g},{"../utils":32,"./DataReader":18}],21:[function(h,u,f){var m=h("./ArrayReader");function g(p){m.call(this,p)}h("../utils").inherits(g,m),g.prototype.readData=function(p){if(this.checkOffset(p),p===0)return new Uint8Array(0);var b=this.data.subarray(this.zero+this.index,this.zero+this.index+p);return this.index+=p,b},u.exports=g},{"../utils":32,"./ArrayReader":17}],22:[function(h,u,f){var m=h("../utils"),g=h("../support"),p=h("./ArrayReader"),b=h("./StringReader"),_=h("./NodeBufferReader"),E=h("./Uint8ArrayReader");u.exports=function(O){var V=m.getTypeOf(O);return m.checkSupport(V),V!=="string"||g.uint8array?V==="nodebuffer"?new _(O):g.uint8array?new E(m.transformTo("uint8array",O)):new p(m.transformTo("array",O)):new b(O)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(h,u,f){f.LOCAL_FILE_HEADER="PK",f.CENTRAL_FILE_HEADER="PK",f.CENTRAL_DIRECTORY_END="PK",f.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",f.ZIP64_CENTRAL_DIRECTORY_END="PK",f.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(h,u,f){var m=h("./GenericWorker"),g=h("../utils");function p(b){m.call(this,"ConvertWorker to "+b),this.destType=b}g.inherits(p,m),p.prototype.processChunk=function(b){this.push({data:g.transformTo(this.destType,b.data),meta:b.meta})},u.exports=p},{"../utils":32,"./GenericWorker":28}],25:[function(h,u,f){var m=h("./GenericWorker"),g=h("../crc32");function p(){m.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}h("../utils").inherits(p,m),p.prototype.processChunk=function(b){this.streamInfo.crc32=g(b.data,this.streamInfo.crc32||0),this.push(b)},u.exports=p},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(h,u,f){var m=h("../utils"),g=h("./GenericWorker");function p(b){g.call(this,"DataLengthProbe for "+b),this.propName=b,this.withStreamInfo(b,0)}m.inherits(p,g),p.prototype.processChunk=function(b){if(b){var _=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=_+b.data.length}g.prototype.processChunk.call(this,b)},u.exports=p},{"../utils":32,"./GenericWorker":28}],27:[function(h,u,f){var m=h("../utils"),g=h("./GenericWorker");function p(b){g.call(this,"DataWorker");var _=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,b.then(function(E){_.dataIsReady=!0,_.data=E,_.max=E&&E.length||0,_.type=m.getTypeOf(E),_.isPaused||_._tickAndRepeat()},function(E){_.error(E)})}m.inherits(p,g),p.prototype.cleanUp=function(){g.prototype.cleanUp.call(this),this.data=null},p.prototype.resume=function(){return!!g.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,m.delay(this._tickAndRepeat,[],this)),!0)},p.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(m.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},p.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var b=null,_=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":b=this.data.substring(this.index,_);break;case"uint8array":b=this.data.subarray(this.index,_);break;case"array":case"nodebuffer":b=this.data.slice(this.index,_)}return this.index=_,this.push({data:b,meta:{percent:this.max?this.index/this.max*100:0}})},u.exports=p},{"../utils":32,"./GenericWorker":28}],28:[function(h,u,f){function m(g){this.name=g||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}m.prototype={push:function(g){this.emit("data",g)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(g){this.emit("error",g)}return!0},error:function(g){return!this.isFinished&&(this.isPaused?this.generatedError=g:(this.isFinished=!0,this.emit("error",g),this.previous&&this.previous.error(g),this.cleanUp()),!0)},on:function(g,p){return this._listeners[g].push(p),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(g,p){if(this._listeners[g])for(var b=0;b<this._listeners[g].length;b++)this._listeners[g][b].call(this,p)},pipe:function(g){return g.registerPrevious(this)},registerPrevious:function(g){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=g.streamInfo,this.mergeStreamInfo(),this.previous=g;var p=this;return g.on("data",function(b){p.processChunk(b)}),g.on("end",function(){p.end()}),g.on("error",function(b){p.error(b)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var g=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),g=!0),this.previous&&this.previous.resume(),!g},flush:function(){},processChunk:function(g){this.push(g)},withStreamInfo:function(g,p){return this.extraStreamInfo[g]=p,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var g in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,g)&&(this.streamInfo[g]=this.extraStreamInfo[g])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var g="Worker "+this.name;return this.previous?this.previous+" -> "+g:g}},u.exports=m},{}],29:[function(h,u,f){var m=h("../utils"),g=h("./ConvertWorker"),p=h("./GenericWorker"),b=h("../base64"),_=h("../support"),E=h("../external"),O=null;if(_.nodestream)try{O=h("../nodejs/NodejsStreamOutputAdapter")}catch{}function V(H,F,L){var q=F;switch(F){case"blob":case"arraybuffer":q="uint8array";break;case"base64":q="string"}try{this._internalType=q,this._outputType=F,this._mimeType=L,m.checkSupport(q),this._worker=H.pipe(new g(q)),H.lock()}catch(W){this._worker=new p("error"),this._worker.error(W)}}V.prototype={accumulate:function(H){return function(F,L){return new E.Promise(function(q,W){var x=[],R=F._internalType,j=F._outputType,v=F._mimeType;F.on("data",function(y,C){x.push(y),L&&L(C)}).on("error",function(y){x=[],W(y)}).on("end",function(){try{var y=function(C,w,S){switch(C){case"blob":return m.newBlob(m.transformTo("arraybuffer",w),S);case"base64":return b.encode(w);default:return m.transformTo(C,w)}}(j,function(C,w){var S,M=0,U=null,N=0;for(S=0;S<w.length;S++)N+=w[S].length;switch(C){case"string":return w.join("");case"array":return Array.prototype.concat.apply([],w);case"uint8array":for(U=new Uint8Array(N),S=0;S<w.length;S++)U.set(w[S],M),M+=w[S].length;return U;case"nodebuffer":return o.concat(w);default:throw new Error("concat : unsupported type '"+C+"'")}}(R,x),v);q(y)}catch(C){W(C)}x=[]}).resume()})}(this,H)},on:function(H,F){var L=this;return H==="data"?this._worker.on(H,function(q){F.call(L,q.data,q.meta)}):this._worker.on(H,function(){m.delay(F,arguments,L)}),this},resume:function(){return m.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(H){if(m.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new O(this,{objectMode:this._outputType!=="nodebuffer"},H)}},u.exports=V},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(h,u,f){if(f.base64=!0,f.array=!0,f.string=!0,f.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",f.nodebuffer=o!==void 0,f.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")f.blob=!1;else{var m=new ArrayBuffer(0);try{f.blob=new Blob([m],{type:"application/zip"}).size===0}catch{try{var g=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);g.append(m),f.blob=g.getBlob("application/zip").size===0}catch{f.blob=!1}}}try{f.nodestream=!!h("readable-stream").Readable}catch{f.nodestream=!1}},{"readable-stream":16}],31:[function(h,u,f){for(var m=h("./utils"),g=h("./support"),p=h("./nodejsUtils"),b=h("./stream/GenericWorker"),_=new Array(256),E=0;E<256;E++)_[E]=252<=E?6:248<=E?5:240<=E?4:224<=E?3:192<=E?2:1;function O(){b.call(this,"utf-8 decode"),this.leftOver=null}function V(){b.call(this,"utf-8 encode")}_[254]=_[254]=1,f.utf8encode=function(H){return g.nodebuffer?p.newBufferFrom(H,"utf-8"):function(F){var L,q,W,x,R,j=F.length,v=0;for(x=0;x<j;x++)(64512&(q=F.charCodeAt(x)))==55296&&x+1<j&&(64512&(W=F.charCodeAt(x+1)))==56320&&(q=65536+(q-55296<<10)+(W-56320),x++),v+=q<128?1:q<2048?2:q<65536?3:4;for(L=g.uint8array?new Uint8Array(v):new Array(v),x=R=0;R<v;x++)(64512&(q=F.charCodeAt(x)))==55296&&x+1<j&&(64512&(W=F.charCodeAt(x+1)))==56320&&(q=65536+(q-55296<<10)+(W-56320),x++),q<128?L[R++]=q:(q<2048?L[R++]=192|q>>>6:(q<65536?L[R++]=224|q>>>12:(L[R++]=240|q>>>18,L[R++]=128|q>>>12&63),L[R++]=128|q>>>6&63),L[R++]=128|63&q);return L}(H)},f.utf8decode=function(H){return g.nodebuffer?m.transformTo("nodebuffer",H).toString("utf-8"):function(F){var L,q,W,x,R=F.length,j=new Array(2*R);for(L=q=0;L<R;)if((W=F[L++])<128)j[q++]=W;else if(4<(x=_[W]))j[q++]=65533,L+=x-1;else{for(W&=x===2?31:x===3?15:7;1<x&&L<R;)W=W<<6|63&F[L++],x--;1<x?j[q++]=65533:W<65536?j[q++]=W:(W-=65536,j[q++]=55296|W>>10&1023,j[q++]=56320|1023&W)}return j.length!==q&&(j.subarray?j=j.subarray(0,q):j.length=q),m.applyFromCharCode(j)}(H=m.transformTo(g.uint8array?"uint8array":"array",H))},m.inherits(O,b),O.prototype.processChunk=function(H){var F=m.transformTo(g.uint8array?"uint8array":"array",H.data);if(this.leftOver&&this.leftOver.length){if(g.uint8array){var L=F;(F=new Uint8Array(L.length+this.leftOver.length)).set(this.leftOver,0),F.set(L,this.leftOver.length)}else F=this.leftOver.concat(F);this.leftOver=null}var q=function(x,R){var j;for((R=R||x.length)>x.length&&(R=x.length),j=R-1;0<=j&&(192&x[j])==128;)j--;return j<0||j===0?R:j+_[x[j]]>R?j:R}(F),W=F;q!==F.length&&(g.uint8array?(W=F.subarray(0,q),this.leftOver=F.subarray(q,F.length)):(W=F.slice(0,q),this.leftOver=F.slice(q,F.length))),this.push({data:f.utf8decode(W),meta:H.meta})},O.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:f.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},f.Utf8DecodeWorker=O,m.inherits(V,b),V.prototype.processChunk=function(H){this.push({data:f.utf8encode(H.data),meta:H.meta})},f.Utf8EncodeWorker=V},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(h,u,f){var m=h("./support"),g=h("./base64"),p=h("./nodejsUtils"),b=h("./external");function _(L){return L}function E(L,q){for(var W=0;W<L.length;++W)q[W]=255&L.charCodeAt(W);return q}h("setimmediate"),f.newBlob=function(L,q){f.checkSupport("blob");try{return new Blob([L],{type:q})}catch{try{var W=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return W.append(L),W.getBlob(q)}catch{throw new Error("Bug : can't construct the Blob.")}}};var O={stringifyByChunk:function(L,q,W){var x=[],R=0,j=L.length;if(j<=W)return String.fromCharCode.apply(null,L);for(;R<j;)q==="array"||q==="nodebuffer"?x.push(String.fromCharCode.apply(null,L.slice(R,Math.min(R+W,j)))):x.push(String.fromCharCode.apply(null,L.subarray(R,Math.min(R+W,j)))),R+=W;return x.join("")},stringifyByChar:function(L){for(var q="",W=0;W<L.length;W++)q+=String.fromCharCode(L[W]);return q},applyCanBeUsed:{uint8array:function(){try{return m.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return m.nodebuffer&&String.fromCharCode.apply(null,p.allocBuffer(1)).length===1}catch{return!1}}()}};function V(L){var q=65536,W=f.getTypeOf(L),x=!0;if(W==="uint8array"?x=O.applyCanBeUsed.uint8array:W==="nodebuffer"&&(x=O.applyCanBeUsed.nodebuffer),x)for(;1<q;)try{return O.stringifyByChunk(L,W,q)}catch{q=Math.floor(q/2)}return O.stringifyByChar(L)}function H(L,q){for(var W=0;W<L.length;W++)q[W]=L[W];return q}f.applyFromCharCode=V;var F={};F.string={string:_,array:function(L){return E(L,new Array(L.length))},arraybuffer:function(L){return F.string.uint8array(L).buffer},uint8array:function(L){return E(L,new Uint8Array(L.length))},nodebuffer:function(L){return E(L,p.allocBuffer(L.length))}},F.array={string:V,array:_,arraybuffer:function(L){return new Uint8Array(L).buffer},uint8array:function(L){return new Uint8Array(L)},nodebuffer:function(L){return p.newBufferFrom(L)}},F.arraybuffer={string:function(L){return V(new Uint8Array(L))},array:function(L){return H(new Uint8Array(L),new Array(L.byteLength))},arraybuffer:_,uint8array:function(L){return new Uint8Array(L)},nodebuffer:function(L){return p.newBufferFrom(new Uint8Array(L))}},F.uint8array={string:V,array:function(L){return H(L,new Array(L.length))},arraybuffer:function(L){return L.buffer},uint8array:_,nodebuffer:function(L){return p.newBufferFrom(L)}},F.nodebuffer={string:V,array:function(L){return H(L,new Array(L.length))},arraybuffer:function(L){return F.nodebuffer.uint8array(L).buffer},uint8array:function(L){return H(L,new Uint8Array(L.length))},nodebuffer:_},f.transformTo=function(L,q){if(q=q||"",!L)return q;f.checkSupport(L);var W=f.getTypeOf(q);return F[W][L](q)},f.resolve=function(L){for(var q=L.split("/"),W=[],x=0;x<q.length;x++){var R=q[x];R==="."||R===""&&x!==0&&x!==q.length-1||(R===".."?W.pop():W.push(R))}return W.join("/")},f.getTypeOf=function(L){return typeof L=="string"?"string":Object.prototype.toString.call(L)==="[object Array]"?"array":m.nodebuffer&&p.isBuffer(L)?"nodebuffer":m.uint8array&&L instanceof Uint8Array?"uint8array":m.arraybuffer&&L instanceof ArrayBuffer?"arraybuffer":void 0},f.checkSupport=function(L){if(!m[L.toLowerCase()])throw new Error(L+" is not supported by this platform")},f.MAX_VALUE_16BITS=65535,f.MAX_VALUE_32BITS=-1,f.pretty=function(L){var q,W,x="";for(W=0;W<(L||"").length;W++)x+="\\x"+((q=L.charCodeAt(W))<16?"0":"")+q.toString(16).toUpperCase();return x},f.delay=function(L,q,W){d(function(){L.apply(W||null,q||[])})},f.inherits=function(L,q){function W(){}W.prototype=q.prototype,L.prototype=new W},f.extend=function(){var L,q,W={};for(L=0;L<arguments.length;L++)for(q in arguments[L])Object.prototype.hasOwnProperty.call(arguments[L],q)&&W[q]===void 0&&(W[q]=arguments[L][q]);return W},f.prepareContent=function(L,q,W,x,R){return b.Promise.resolve(q).then(function(j){return m.blob&&(j instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(j))!==-1)&&typeof FileReader<"u"?new b.Promise(function(v,y){var C=new FileReader;C.onload=function(w){v(w.target.result)},C.onerror=function(w){y(w.target.error)},C.readAsArrayBuffer(j)}):j}).then(function(j){var v=f.getTypeOf(j);return v?(v==="arraybuffer"?j=f.transformTo("uint8array",j):v==="string"&&(R?j=g.decode(j):W&&x!==!0&&(j=function(y){return E(y,m.uint8array?new Uint8Array(y.length):new Array(y.length))}(j))),j):b.Promise.reject(new Error("Can't read the data of '"+L+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(h,u,f){var m=h("./reader/readerFor"),g=h("./utils"),p=h("./signature"),b=h("./zipEntry"),_=h("./support");function E(O){this.files=[],this.loadOptions=O}E.prototype={checkSignature:function(O){if(!this.reader.readAndCheckSignature(O)){this.reader.index-=4;var V=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+g.pretty(V)+", expected "+g.pretty(O)+")")}},isSignature:function(O,V){var H=this.reader.index;this.reader.setIndex(O);var F=this.reader.readString(4)===V;return this.reader.setIndex(H),F},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var O=this.reader.readData(this.zipCommentLength),V=_.uint8array?"uint8array":"array",H=g.transformTo(V,O);this.zipComment=this.loadOptions.decodeFileName(H)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var O,V,H,F=this.zip64EndOfCentralSize-44;0<F;)O=this.reader.readInt(2),V=this.reader.readInt(4),H=this.reader.readData(V),this.zip64ExtensibleData[O]={id:O,length:V,value:H}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var O,V;for(O=0;O<this.files.length;O++)V=this.files[O],this.reader.setIndex(V.localHeaderOffset),this.checkSignature(p.LOCAL_FILE_HEADER),V.readLocalPart(this.reader),V.handleUTF8(),V.processAttributes()},readCentralDir:function(){var O;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(p.CENTRAL_FILE_HEADER);)(O=new b({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(O);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var O=this.reader.lastIndexOfSignature(p.CENTRAL_DIRECTORY_END);if(O<0)throw this.isSignature(0,p.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(O);var V=O;if(this.checkSignature(p.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===g.MAX_VALUE_16BITS||this.diskWithCentralDirStart===g.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===g.MAX_VALUE_16BITS||this.centralDirRecords===g.MAX_VALUE_16BITS||this.centralDirSize===g.MAX_VALUE_32BITS||this.centralDirOffset===g.MAX_VALUE_32BITS){if(this.zip64=!0,(O=this.reader.lastIndexOfSignature(p.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(O),this.checkSignature(p.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,p.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(p.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(p.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var H=this.centralDirOffset+this.centralDirSize;this.zip64&&(H+=20,H+=12+this.zip64EndOfCentralSize);var F=V-H;if(0<F)this.isSignature(V,p.CENTRAL_FILE_HEADER)||(this.reader.zero=F);else if(F<0)throw new Error("Corrupted zip: missing "+Math.abs(F)+" bytes.")},prepareReader:function(O){this.reader=m(O)},load:function(O){this.prepareReader(O),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},u.exports=E},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(h,u,f){var m=h("./reader/readerFor"),g=h("./utils"),p=h("./compressedObject"),b=h("./crc32"),_=h("./utf8"),E=h("./compressions"),O=h("./support");function V(H,F){this.options=H,this.loadOptions=F}V.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(H){var F,L;if(H.skip(22),this.fileNameLength=H.readInt(2),L=H.readInt(2),this.fileName=H.readData(this.fileNameLength),H.skip(L),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((F=function(q){for(var W in E)if(Object.prototype.hasOwnProperty.call(E,W)&&E[W].magic===q)return E[W];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+g.pretty(this.compressionMethod)+" unknown (inner file : "+g.transformTo("string",this.fileName)+")");this.decompressed=new p(this.compressedSize,this.uncompressedSize,this.crc32,F,H.readData(this.compressedSize))},readCentralPart:function(H){this.versionMadeBy=H.readInt(2),H.skip(2),this.bitFlag=H.readInt(2),this.compressionMethod=H.readString(2),this.date=H.readDate(),this.crc32=H.readInt(4),this.compressedSize=H.readInt(4),this.uncompressedSize=H.readInt(4);var F=H.readInt(2);if(this.extraFieldsLength=H.readInt(2),this.fileCommentLength=H.readInt(2),this.diskNumberStart=H.readInt(2),this.internalFileAttributes=H.readInt(2),this.externalFileAttributes=H.readInt(4),this.localHeaderOffset=H.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");H.skip(F),this.readExtraFields(H),this.parseZIP64ExtraField(H),this.fileComment=H.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var H=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),H==0&&(this.dosPermissions=63&this.externalFileAttributes),H==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var H=m(this.extraFields[1].value);this.uncompressedSize===g.MAX_VALUE_32BITS&&(this.uncompressedSize=H.readInt(8)),this.compressedSize===g.MAX_VALUE_32BITS&&(this.compressedSize=H.readInt(8)),this.localHeaderOffset===g.MAX_VALUE_32BITS&&(this.localHeaderOffset=H.readInt(8)),this.diskNumberStart===g.MAX_VALUE_32BITS&&(this.diskNumberStart=H.readInt(4))}},readExtraFields:function(H){var F,L,q,W=H.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});H.index+4<W;)F=H.readInt(2),L=H.readInt(2),q=H.readData(L),this.extraFields[F]={id:F,length:L,value:q};H.setIndex(W)},handleUTF8:function(){var H=O.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=_.utf8decode(this.fileName),this.fileCommentStr=_.utf8decode(this.fileComment);else{var F=this.findExtraFieldUnicodePath();if(F!==null)this.fileNameStr=F;else{var L=g.transformTo(H,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(L)}var q=this.findExtraFieldUnicodeComment();if(q!==null)this.fileCommentStr=q;else{var W=g.transformTo(H,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(W)}}},findExtraFieldUnicodePath:function(){var H=this.extraFields[28789];if(H){var F=m(H.value);return F.readInt(1)!==1||b(this.fileName)!==F.readInt(4)?null:_.utf8decode(F.readData(H.length-5))}return null},findExtraFieldUnicodeComment:function(){var H=this.extraFields[25461];if(H){var F=m(H.value);return F.readInt(1)!==1||b(this.fileComment)!==F.readInt(4)?null:_.utf8decode(F.readData(H.length-5))}return null}},u.exports=V},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(h,u,f){function m(F,L,q){this.name=F,this.dir=q.dir,this.date=q.date,this.comment=q.comment,this.unixPermissions=q.unixPermissions,this.dosPermissions=q.dosPermissions,this._data=L,this._dataBinary=q.binary,this.options={compression:q.compression,compressionOptions:q.compressionOptions}}var g=h("./stream/StreamHelper"),p=h("./stream/DataWorker"),b=h("./utf8"),_=h("./compressedObject"),E=h("./stream/GenericWorker");m.prototype={internalStream:function(F){var L=null,q="string";try{if(!F)throw new Error("No output type specified.");var W=(q=F.toLowerCase())==="string"||q==="text";q!=="binarystring"&&q!=="text"||(q="string"),L=this._decompressWorker();var x=!this._dataBinary;x&&!W&&(L=L.pipe(new b.Utf8EncodeWorker)),!x&&W&&(L=L.pipe(new b.Utf8DecodeWorker))}catch(R){(L=new E("error")).error(R)}return new g(L,q,"")},async:function(F,L){return this.internalStream(F).accumulate(L)},nodeStream:function(F,L){return this.internalStream(F||"nodebuffer").toNodejsStream(L)},_compressWorker:function(F,L){if(this._data instanceof _&&this._data.compression.magic===F.magic)return this._data.getCompressedWorker();var q=this._decompressWorker();return this._dataBinary||(q=q.pipe(new b.Utf8EncodeWorker)),_.createWorkerFrom(q,F,L)},_decompressWorker:function(){return this._data instanceof _?this._data.getContentWorker():this._data instanceof E?this._data:new p(this._data)}};for(var O=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],V=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},H=0;H<O.length;H++)m.prototype[O[H]]=V;u.exports=m},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(h,u,f){(function(m){var g,p,b=m.MutationObserver||m.WebKitMutationObserver;if(b){var _=0,E=new b(F),O=m.document.createTextNode("");E.observe(O,{characterData:!0}),g=function(){O.data=_=++_%2}}else if(m.setImmediate||m.MessageChannel===void 0)g="document"in m&&"onreadystatechange"in m.document.createElement("script")?function(){var L=m.document.createElement("script");L.onreadystatechange=function(){F(),L.onreadystatechange=null,L.parentNode.removeChild(L),L=null},m.document.documentElement.appendChild(L)}:function(){setTimeout(F,0)};else{var V=new m.MessageChannel;V.port1.onmessage=F,g=function(){V.port2.postMessage(0)}}var H=[];function F(){var L,q;p=!0;for(var W=H.length;W;){for(q=H,H=[],L=-1;++L<W;)q[L]();W=H.length}p=!1}u.exports=function(L){H.push(L)!==1||p||g()}}).call(this,n!==void 0?n:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(h,u,f){var m=h("immediate");function g(){}var p={},b=["REJECTED"],_=["FULFILLED"],E=["PENDING"];function O(W){if(typeof W!="function")throw new TypeError("resolver must be a function");this.state=E,this.queue=[],this.outcome=void 0,W!==g&&L(this,W)}function V(W,x,R){this.promise=W,typeof x=="function"&&(this.onFulfilled=x,this.callFulfilled=this.otherCallFulfilled),typeof R=="function"&&(this.onRejected=R,this.callRejected=this.otherCallRejected)}function H(W,x,R){m(function(){var j;try{j=x(R)}catch(v){return p.reject(W,v)}j===W?p.reject(W,new TypeError("Cannot resolve promise with itself")):p.resolve(W,j)})}function F(W){var x=W&&W.then;if(W&&(typeof W=="object"||typeof W=="function")&&typeof x=="function")return function(){x.apply(W,arguments)}}function L(W,x){var R=!1;function j(C){R||(R=!0,p.reject(W,C))}function v(C){R||(R=!0,p.resolve(W,C))}var y=q(function(){x(v,j)});y.status==="error"&&j(y.value)}function q(W,x){var R={};try{R.value=W(x),R.status="success"}catch(j){R.status="error",R.value=j}return R}(u.exports=O).prototype.finally=function(W){if(typeof W!="function")return this;var x=this.constructor;return this.then(function(R){return x.resolve(W()).then(function(){return R})},function(R){return x.resolve(W()).then(function(){throw R})})},O.prototype.catch=function(W){return this.then(null,W)},O.prototype.then=function(W,x){if(typeof W!="function"&&this.state===_||typeof x!="function"&&this.state===b)return this;var R=new this.constructor(g);return this.state!==E?H(R,this.state===_?W:x,this.outcome):this.queue.push(new V(R,W,x)),R},V.prototype.callFulfilled=function(W){p.resolve(this.promise,W)},V.prototype.otherCallFulfilled=function(W){H(this.promise,this.onFulfilled,W)},V.prototype.callRejected=function(W){p.reject(this.promise,W)},V.prototype.otherCallRejected=function(W){H(this.promise,this.onRejected,W)},p.resolve=function(W,x){var R=q(F,x);if(R.status==="error")return p.reject(W,R.value);var j=R.value;if(j)L(W,j);else{W.state=_,W.outcome=x;for(var v=-1,y=W.queue.length;++v<y;)W.queue[v].callFulfilled(x)}return W},p.reject=function(W,x){W.state=b,W.outcome=x;for(var R=-1,j=W.queue.length;++R<j;)W.queue[R].callRejected(x);return W},O.resolve=function(W){return W instanceof this?W:p.resolve(new this(g),W)},O.reject=function(W){var x=new this(g);return p.reject(x,W)},O.all=function(W){var x=this;if(Object.prototype.toString.call(W)!=="[object Array]")return this.reject(new TypeError("must be an array"));var R=W.length,j=!1;if(!R)return this.resolve([]);for(var v=new Array(R),y=0,C=-1,w=new this(g);++C<R;)S(W[C],C);return w;function S(M,U){x.resolve(M).then(function(N){v[U]=N,++y!==R||j||(j=!0,p.resolve(w,v))},function(N){j||(j=!0,p.reject(w,N))})}},O.race=function(W){if(Object.prototype.toString.call(W)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=W.length,R=!1;if(!x)return this.resolve([]);for(var j,v=-1,y=new this(g);++v<x;)j=W[v],this.resolve(j).then(function(C){R||(R=!0,p.resolve(y,C))},function(C){R||(R=!0,p.reject(y,C))});return y}},{immediate:36}],38:[function(h,u,f){var m={};(0,h("./lib/utils/common").assign)(m,h("./lib/deflate"),h("./lib/inflate"),h("./lib/zlib/constants")),u.exports=m},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(h,u,f){var m=h("./zlib/deflate"),g=h("./utils/common"),p=h("./utils/strings"),b=h("./zlib/messages"),_=h("./zlib/zstream"),E=Object.prototype.toString;function O(H){if(!(this instanceof O))return new O(H);this.options=g.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},H||{});var F=this.options;F.raw&&0<F.windowBits?F.windowBits=-F.windowBits:F.gzip&&0<F.windowBits&&F.windowBits<16&&(F.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _,this.strm.avail_out=0;var L=m.deflateInit2(this.strm,F.level,F.method,F.windowBits,F.memLevel,F.strategy);if(L!==0)throw new Error(b[L]);if(F.header&&m.deflateSetHeader(this.strm,F.header),F.dictionary){var q;if(q=typeof F.dictionary=="string"?p.string2buf(F.dictionary):E.call(F.dictionary)==="[object ArrayBuffer]"?new Uint8Array(F.dictionary):F.dictionary,(L=m.deflateSetDictionary(this.strm,q))!==0)throw new Error(b[L]);this._dict_set=!0}}function V(H,F){var L=new O(F);if(L.push(H,!0),L.err)throw L.msg||b[L.err];return L.result}O.prototype.push=function(H,F){var L,q,W=this.strm,x=this.options.chunkSize;if(this.ended)return!1;q=F===~~F?F:F===!0?4:0,typeof H=="string"?W.input=p.string2buf(H):E.call(H)==="[object ArrayBuffer]"?W.input=new Uint8Array(H):W.input=H,W.next_in=0,W.avail_in=W.input.length;do{if(W.avail_out===0&&(W.output=new g.Buf8(x),W.next_out=0,W.avail_out=x),(L=m.deflate(W,q))!==1&&L!==0)return this.onEnd(L),!(this.ended=!0);W.avail_out!==0&&(W.avail_in!==0||q!==4&&q!==2)||(this.options.to==="string"?this.onData(p.buf2binstring(g.shrinkBuf(W.output,W.next_out))):this.onData(g.shrinkBuf(W.output,W.next_out)))}while((0<W.avail_in||W.avail_out===0)&&L!==1);return q===4?(L=m.deflateEnd(this.strm),this.onEnd(L),this.ended=!0,L===0):q!==2||(this.onEnd(0),!(W.avail_out=0))},O.prototype.onData=function(H){this.chunks.push(H)},O.prototype.onEnd=function(H){H===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=g.flattenChunks(this.chunks)),this.chunks=[],this.err=H,this.msg=this.strm.msg},f.Deflate=O,f.deflate=V,f.deflateRaw=function(H,F){return(F=F||{}).raw=!0,V(H,F)},f.gzip=function(H,F){return(F=F||{}).gzip=!0,V(H,F)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(h,u,f){var m=h("./zlib/inflate"),g=h("./utils/common"),p=h("./utils/strings"),b=h("./zlib/constants"),_=h("./zlib/messages"),E=h("./zlib/zstream"),O=h("./zlib/gzheader"),V=Object.prototype.toString;function H(L){if(!(this instanceof H))return new H(L);this.options=g.assign({chunkSize:16384,windowBits:0,to:""},L||{});var q=this.options;q.raw&&0<=q.windowBits&&q.windowBits<16&&(q.windowBits=-q.windowBits,q.windowBits===0&&(q.windowBits=-15)),!(0<=q.windowBits&&q.windowBits<16)||L&&L.windowBits||(q.windowBits+=32),15<q.windowBits&&q.windowBits<48&&!(15&q.windowBits)&&(q.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new E,this.strm.avail_out=0;var W=m.inflateInit2(this.strm,q.windowBits);if(W!==b.Z_OK)throw new Error(_[W]);this.header=new O,m.inflateGetHeader(this.strm,this.header)}function F(L,q){var W=new H(q);if(W.push(L,!0),W.err)throw W.msg||_[W.err];return W.result}H.prototype.push=function(L,q){var W,x,R,j,v,y,C=this.strm,w=this.options.chunkSize,S=this.options.dictionary,M=!1;if(this.ended)return!1;x=q===~~q?q:q===!0?b.Z_FINISH:b.Z_NO_FLUSH,typeof L=="string"?C.input=p.binstring2buf(L):V.call(L)==="[object ArrayBuffer]"?C.input=new Uint8Array(L):C.input=L,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new g.Buf8(w),C.next_out=0,C.avail_out=w),(W=m.inflate(C,b.Z_NO_FLUSH))===b.Z_NEED_DICT&&S&&(y=typeof S=="string"?p.string2buf(S):V.call(S)==="[object ArrayBuffer]"?new Uint8Array(S):S,W=m.inflateSetDictionary(this.strm,y)),W===b.Z_BUF_ERROR&&M===!0&&(W=b.Z_OK,M=!1),W!==b.Z_STREAM_END&&W!==b.Z_OK)return this.onEnd(W),!(this.ended=!0);C.next_out&&(C.avail_out!==0&&W!==b.Z_STREAM_END&&(C.avail_in!==0||x!==b.Z_FINISH&&x!==b.Z_SYNC_FLUSH)||(this.options.to==="string"?(R=p.utf8border(C.output,C.next_out),j=C.next_out-R,v=p.buf2string(C.output,R),C.next_out=j,C.avail_out=w-j,j&&g.arraySet(C.output,C.output,R,j,0),this.onData(v)):this.onData(g.shrinkBuf(C.output,C.next_out)))),C.avail_in===0&&C.avail_out===0&&(M=!0)}while((0<C.avail_in||C.avail_out===0)&&W!==b.Z_STREAM_END);return W===b.Z_STREAM_END&&(x=b.Z_FINISH),x===b.Z_FINISH?(W=m.inflateEnd(this.strm),this.onEnd(W),this.ended=!0,W===b.Z_OK):x!==b.Z_SYNC_FLUSH||(this.onEnd(b.Z_OK),!(C.avail_out=0))},H.prototype.onData=function(L){this.chunks.push(L)},H.prototype.onEnd=function(L){L===b.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=g.flattenChunks(this.chunks)),this.chunks=[],this.err=L,this.msg=this.strm.msg},f.Inflate=H,f.inflate=F,f.inflateRaw=function(L,q){return(q=q||{}).raw=!0,F(L,q)},f.ungzip=F},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(h,u,f){var m=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";f.assign=function(b){for(var _=Array.prototype.slice.call(arguments,1);_.length;){var E=_.shift();if(E){if(typeof E!="object")throw new TypeError(E+"must be non-object");for(var O in E)E.hasOwnProperty(O)&&(b[O]=E[O])}}return b},f.shrinkBuf=function(b,_){return b.length===_?b:b.subarray?b.subarray(0,_):(b.length=_,b)};var g={arraySet:function(b,_,E,O,V){if(_.subarray&&b.subarray)b.set(_.subarray(E,E+O),V);else for(var H=0;H<O;H++)b[V+H]=_[E+H]},flattenChunks:function(b){var _,E,O,V,H,F;for(_=O=0,E=b.length;_<E;_++)O+=b[_].length;for(F=new Uint8Array(O),_=V=0,E=b.length;_<E;_++)H=b[_],F.set(H,V),V+=H.length;return F}},p={arraySet:function(b,_,E,O,V){for(var H=0;H<O;H++)b[V+H]=_[E+H]},flattenChunks:function(b){return[].concat.apply([],b)}};f.setTyped=function(b){b?(f.Buf8=Uint8Array,f.Buf16=Uint16Array,f.Buf32=Int32Array,f.assign(f,g)):(f.Buf8=Array,f.Buf16=Array,f.Buf32=Array,f.assign(f,p))},f.setTyped(m)},{}],42:[function(h,u,f){var m=h("./common"),g=!0,p=!0;try{String.fromCharCode.apply(null,[0])}catch{g=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{p=!1}for(var b=new m.Buf8(256),_=0;_<256;_++)b[_]=252<=_?6:248<=_?5:240<=_?4:224<=_?3:192<=_?2:1;function E(O,V){if(V<65537&&(O.subarray&&p||!O.subarray&&g))return String.fromCharCode.apply(null,m.shrinkBuf(O,V));for(var H="",F=0;F<V;F++)H+=String.fromCharCode(O[F]);return H}b[254]=b[254]=1,f.string2buf=function(O){var V,H,F,L,q,W=O.length,x=0;for(L=0;L<W;L++)(64512&(H=O.charCodeAt(L)))==55296&&L+1<W&&(64512&(F=O.charCodeAt(L+1)))==56320&&(H=65536+(H-55296<<10)+(F-56320),L++),x+=H<128?1:H<2048?2:H<65536?3:4;for(V=new m.Buf8(x),L=q=0;q<x;L++)(64512&(H=O.charCodeAt(L)))==55296&&L+1<W&&(64512&(F=O.charCodeAt(L+1)))==56320&&(H=65536+(H-55296<<10)+(F-56320),L++),H<128?V[q++]=H:(H<2048?V[q++]=192|H>>>6:(H<65536?V[q++]=224|H>>>12:(V[q++]=240|H>>>18,V[q++]=128|H>>>12&63),V[q++]=128|H>>>6&63),V[q++]=128|63&H);return V},f.buf2binstring=function(O){return E(O,O.length)},f.binstring2buf=function(O){for(var V=new m.Buf8(O.length),H=0,F=V.length;H<F;H++)V[H]=O.charCodeAt(H);return V},f.buf2string=function(O,V){var H,F,L,q,W=V||O.length,x=new Array(2*W);for(H=F=0;H<W;)if((L=O[H++])<128)x[F++]=L;else if(4<(q=b[L]))x[F++]=65533,H+=q-1;else{for(L&=q===2?31:q===3?15:7;1<q&&H<W;)L=L<<6|63&O[H++],q--;1<q?x[F++]=65533:L<65536?x[F++]=L:(L-=65536,x[F++]=55296|L>>10&1023,x[F++]=56320|1023&L)}return E(x,F)},f.utf8border=function(O,V){var H;for((V=V||O.length)>O.length&&(V=O.length),H=V-1;0<=H&&(192&O[H])==128;)H--;return H<0||H===0?V:H+b[O[H]]>V?H:V}},{"./common":41}],43:[function(h,u,f){u.exports=function(m,g,p,b){for(var _=65535&m|0,E=m>>>16&65535|0,O=0;p!==0;){for(p-=O=2e3<p?2e3:p;E=E+(_=_+g[b++]|0)|0,--O;);_%=65521,E%=65521}return _|E<<16|0}},{}],44:[function(h,u,f){u.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(h,u,f){var m=function(){for(var g,p=[],b=0;b<256;b++){g=b;for(var _=0;_<8;_++)g=1&g?3988292384^g>>>1:g>>>1;p[b]=g}return p}();u.exports=function(g,p,b,_){var E=m,O=_+b;g^=-1;for(var V=_;V<O;V++)g=g>>>8^E[255&(g^p[V])];return-1^g}},{}],46:[function(h,u,f){var m,g=h("../utils/common"),p=h("./trees"),b=h("./adler32"),_=h("./crc32"),E=h("./messages"),O=-2,V=258,H=262,F=113;function L(I,$){return I.msg=E[$],$}function q(I){return(I<<1)-(4<I?9:0)}function W(I){for(var $=I.length;0<=--$;)I[$]=0}function x(I){var $=I.state,A=$.pending;A>I.avail_out&&(A=I.avail_out),A!==0&&(g.arraySet(I.output,$.pending_buf,$.pending_out,A,I.next_out),I.next_out+=A,$.pending_out+=A,I.total_out+=A,I.avail_out-=A,$.pending-=A,$.pending===0&&($.pending_out=0))}function R(I,$){p._tr_flush_block(I,0<=I.block_start?I.block_start:-1,I.strstart-I.block_start,$),I.block_start=I.strstart,x(I.strm)}function j(I,$){I.pending_buf[I.pending++]=$}function v(I,$){I.pending_buf[I.pending++]=$>>>8&255,I.pending_buf[I.pending++]=255&$}function y(I,$){var A,k,Y=I.max_chain_length,Z=I.strstart,ct=I.prev_length,tt=I.nice_match,nt=I.strstart>I.w_size-H?I.strstart-(I.w_size-H):0,Ct=I.window,xt=I.w_mask,rt=I.prev,at=I.strstart+V,_t=Ct[Z+ct-1],J=Ct[Z+ct];I.prev_length>=I.good_match&&(Y>>=2),tt>I.lookahead&&(tt=I.lookahead);do if(Ct[(A=$)+ct]===J&&Ct[A+ct-1]===_t&&Ct[A]===Ct[Z]&&Ct[++A]===Ct[Z+1]){Z+=2,A++;do;while(Ct[++Z]===Ct[++A]&&Ct[++Z]===Ct[++A]&&Ct[++Z]===Ct[++A]&&Ct[++Z]===Ct[++A]&&Ct[++Z]===Ct[++A]&&Ct[++Z]===Ct[++A]&&Ct[++Z]===Ct[++A]&&Ct[++Z]===Ct[++A]&&Z<at);if(k=V-(at-Z),Z=at-V,ct<k){if(I.match_start=$,tt<=(ct=k))break;_t=Ct[Z+ct-1],J=Ct[Z+ct]}}while(($=rt[$&xt])>nt&&--Y!=0);return ct<=I.lookahead?ct:I.lookahead}function C(I){var $,A,k,Y,Z,ct,tt,nt,Ct,xt,rt=I.w_size;do{if(Y=I.window_size-I.lookahead-I.strstart,I.strstart>=rt+(rt-H)){for(g.arraySet(I.window,I.window,rt,rt,0),I.match_start-=rt,I.strstart-=rt,I.block_start-=rt,$=A=I.hash_size;k=I.head[--$],I.head[$]=rt<=k?k-rt:0,--A;);for($=A=rt;k=I.prev[--$],I.prev[$]=rt<=k?k-rt:0,--A;);Y+=rt}if(I.strm.avail_in===0)break;if(ct=I.strm,tt=I.window,nt=I.strstart+I.lookahead,xt=void 0,(Ct=Y)<(xt=ct.avail_in)&&(xt=Ct),A=xt===0?0:(ct.avail_in-=xt,g.arraySet(tt,ct.input,ct.next_in,xt,nt),ct.state.wrap===1?ct.adler=b(ct.adler,tt,xt,nt):ct.state.wrap===2&&(ct.adler=_(ct.adler,tt,xt,nt)),ct.next_in+=xt,ct.total_in+=xt,xt),I.lookahead+=A,I.lookahead+I.insert>=3)for(Z=I.strstart-I.insert,I.ins_h=I.window[Z],I.ins_h=(I.ins_h<<I.hash_shift^I.window[Z+1])&I.hash_mask;I.insert&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[Z+3-1])&I.hash_mask,I.prev[Z&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=Z,Z++,I.insert--,!(I.lookahead+I.insert<3)););}while(I.lookahead<H&&I.strm.avail_in!==0)}function w(I,$){for(var A,k;;){if(I.lookahead<H){if(C(I),I.lookahead<H&&$===0)return 1;if(I.lookahead===0)break}if(A=0,I.lookahead>=3&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+3-1])&I.hash_mask,A=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart),A!==0&&I.strstart-A<=I.w_size-H&&(I.match_length=y(I,A)),I.match_length>=3)if(k=p._tr_tally(I,I.strstart-I.match_start,I.match_length-3),I.lookahead-=I.match_length,I.match_length<=I.max_lazy_match&&I.lookahead>=3){for(I.match_length--;I.strstart++,I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+3-1])&I.hash_mask,A=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart,--I.match_length!=0;);I.strstart++}else I.strstart+=I.match_length,I.match_length=0,I.ins_h=I.window[I.strstart],I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+1])&I.hash_mask;else k=p._tr_tally(I,0,I.window[I.strstart]),I.lookahead--,I.strstart++;if(k&&(R(I,!1),I.strm.avail_out===0))return 1}return I.insert=I.strstart<2?I.strstart:2,$===4?(R(I,!0),I.strm.avail_out===0?3:4):I.last_lit&&(R(I,!1),I.strm.avail_out===0)?1:2}function S(I,$){for(var A,k,Y;;){if(I.lookahead<H){if(C(I),I.lookahead<H&&$===0)return 1;if(I.lookahead===0)break}if(A=0,I.lookahead>=3&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+3-1])&I.hash_mask,A=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart),I.prev_length=I.match_length,I.prev_match=I.match_start,I.match_length=2,A!==0&&I.prev_length<I.max_lazy_match&&I.strstart-A<=I.w_size-H&&(I.match_length=y(I,A),I.match_length<=5&&(I.strategy===1||I.match_length===3&&4096<I.strstart-I.match_start)&&(I.match_length=2)),I.prev_length>=3&&I.match_length<=I.prev_length){for(Y=I.strstart+I.lookahead-3,k=p._tr_tally(I,I.strstart-1-I.prev_match,I.prev_length-3),I.lookahead-=I.prev_length-1,I.prev_length-=2;++I.strstart<=Y&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+3-1])&I.hash_mask,A=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart),--I.prev_length!=0;);if(I.match_available=0,I.match_length=2,I.strstart++,k&&(R(I,!1),I.strm.avail_out===0))return 1}else if(I.match_available){if((k=p._tr_tally(I,0,I.window[I.strstart-1]))&&R(I,!1),I.strstart++,I.lookahead--,I.strm.avail_out===0)return 1}else I.match_available=1,I.strstart++,I.lookahead--}return I.match_available&&(k=p._tr_tally(I,0,I.window[I.strstart-1]),I.match_available=0),I.insert=I.strstart<2?I.strstart:2,$===4?(R(I,!0),I.strm.avail_out===0?3:4):I.last_lit&&(R(I,!1),I.strm.avail_out===0)?1:2}function M(I,$,A,k,Y){this.good_length=I,this.max_lazy=$,this.nice_length=A,this.max_chain=k,this.func=Y}function U(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new g.Buf16(1146),this.dyn_dtree=new g.Buf16(122),this.bl_tree=new g.Buf16(78),W(this.dyn_ltree),W(this.dyn_dtree),W(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new g.Buf16(16),this.heap=new g.Buf16(573),W(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new g.Buf16(573),W(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function N(I){var $;return I&&I.state?(I.total_in=I.total_out=0,I.data_type=2,($=I.state).pending=0,$.pending_out=0,$.wrap<0&&($.wrap=-$.wrap),$.status=$.wrap?42:F,I.adler=$.wrap===2?0:1,$.last_flush=0,p._tr_init($),0):L(I,O)}function T(I){var $=N(I);return $===0&&function(A){A.window_size=2*A.w_size,W(A.head),A.max_lazy_match=m[A.level].max_lazy,A.good_match=m[A.level].good_length,A.nice_match=m[A.level].nice_length,A.max_chain_length=m[A.level].max_chain,A.strstart=0,A.block_start=0,A.lookahead=0,A.insert=0,A.match_length=A.prev_length=2,A.match_available=0,A.ins_h=0}(I.state),$}function B(I,$,A,k,Y,Z){if(!I)return O;var ct=1;if($===-1&&($=6),k<0?(ct=0,k=-k):15<k&&(ct=2,k-=16),Y<1||9<Y||A!==8||k<8||15<k||$<0||9<$||Z<0||4<Z)return L(I,O);k===8&&(k=9);var tt=new U;return(I.state=tt).strm=I,tt.wrap=ct,tt.gzhead=null,tt.w_bits=k,tt.w_size=1<<tt.w_bits,tt.w_mask=tt.w_size-1,tt.hash_bits=Y+7,tt.hash_size=1<<tt.hash_bits,tt.hash_mask=tt.hash_size-1,tt.hash_shift=~~((tt.hash_bits+3-1)/3),tt.window=new g.Buf8(2*tt.w_size),tt.head=new g.Buf16(tt.hash_size),tt.prev=new g.Buf16(tt.w_size),tt.lit_bufsize=1<<Y+6,tt.pending_buf_size=4*tt.lit_bufsize,tt.pending_buf=new g.Buf8(tt.pending_buf_size),tt.d_buf=1*tt.lit_bufsize,tt.l_buf=3*tt.lit_bufsize,tt.level=$,tt.strategy=Z,tt.method=A,T(I)}m=[new M(0,0,0,0,function(I,$){var A=65535;for(A>I.pending_buf_size-5&&(A=I.pending_buf_size-5);;){if(I.lookahead<=1){if(C(I),I.lookahead===0&&$===0)return 1;if(I.lookahead===0)break}I.strstart+=I.lookahead,I.lookahead=0;var k=I.block_start+A;if((I.strstart===0||I.strstart>=k)&&(I.lookahead=I.strstart-k,I.strstart=k,R(I,!1),I.strm.avail_out===0)||I.strstart-I.block_start>=I.w_size-H&&(R(I,!1),I.strm.avail_out===0))return 1}return I.insert=0,$===4?(R(I,!0),I.strm.avail_out===0?3:4):(I.strstart>I.block_start&&(R(I,!1),I.strm.avail_out),1)}),new M(4,4,8,4,w),new M(4,5,16,8,w),new M(4,6,32,32,w),new M(4,4,16,16,S),new M(8,16,32,32,S),new M(8,16,128,128,S),new M(8,32,128,256,S),new M(32,128,258,1024,S),new M(32,258,258,4096,S)],f.deflateInit=function(I,$){return B(I,$,8,15,8,0)},f.deflateInit2=B,f.deflateReset=T,f.deflateResetKeep=N,f.deflateSetHeader=function(I,$){return I&&I.state?I.state.wrap!==2?O:(I.state.gzhead=$,0):O},f.deflate=function(I,$){var A,k,Y,Z;if(!I||!I.state||5<$||$<0)return I?L(I,O):O;if(k=I.state,!I.output||!I.input&&I.avail_in!==0||k.status===666&&$!==4)return L(I,I.avail_out===0?-5:O);if(k.strm=I,A=k.last_flush,k.last_flush=$,k.status===42)if(k.wrap===2)I.adler=0,j(k,31),j(k,139),j(k,8),k.gzhead?(j(k,(k.gzhead.text?1:0)+(k.gzhead.hcrc?2:0)+(k.gzhead.extra?4:0)+(k.gzhead.name?8:0)+(k.gzhead.comment?16:0)),j(k,255&k.gzhead.time),j(k,k.gzhead.time>>8&255),j(k,k.gzhead.time>>16&255),j(k,k.gzhead.time>>24&255),j(k,k.level===9?2:2<=k.strategy||k.level<2?4:0),j(k,255&k.gzhead.os),k.gzhead.extra&&k.gzhead.extra.length&&(j(k,255&k.gzhead.extra.length),j(k,k.gzhead.extra.length>>8&255)),k.gzhead.hcrc&&(I.adler=_(I.adler,k.pending_buf,k.pending,0)),k.gzindex=0,k.status=69):(j(k,0),j(k,0),j(k,0),j(k,0),j(k,0),j(k,k.level===9?2:2<=k.strategy||k.level<2?4:0),j(k,3),k.status=F);else{var ct=8+(k.w_bits-8<<4)<<8;ct|=(2<=k.strategy||k.level<2?0:k.level<6?1:k.level===6?2:3)<<6,k.strstart!==0&&(ct|=32),ct+=31-ct%31,k.status=F,v(k,ct),k.strstart!==0&&(v(k,I.adler>>>16),v(k,65535&I.adler)),I.adler=1}if(k.status===69)if(k.gzhead.extra){for(Y=k.pending;k.gzindex<(65535&k.gzhead.extra.length)&&(k.pending!==k.pending_buf_size||(k.gzhead.hcrc&&k.pending>Y&&(I.adler=_(I.adler,k.pending_buf,k.pending-Y,Y)),x(I),Y=k.pending,k.pending!==k.pending_buf_size));)j(k,255&k.gzhead.extra[k.gzindex]),k.gzindex++;k.gzhead.hcrc&&k.pending>Y&&(I.adler=_(I.adler,k.pending_buf,k.pending-Y,Y)),k.gzindex===k.gzhead.extra.length&&(k.gzindex=0,k.status=73)}else k.status=73;if(k.status===73)if(k.gzhead.name){Y=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>Y&&(I.adler=_(I.adler,k.pending_buf,k.pending-Y,Y)),x(I),Y=k.pending,k.pending===k.pending_buf_size)){Z=1;break}Z=k.gzindex<k.gzhead.name.length?255&k.gzhead.name.charCodeAt(k.gzindex++):0,j(k,Z)}while(Z!==0);k.gzhead.hcrc&&k.pending>Y&&(I.adler=_(I.adler,k.pending_buf,k.pending-Y,Y)),Z===0&&(k.gzindex=0,k.status=91)}else k.status=91;if(k.status===91)if(k.gzhead.comment){Y=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>Y&&(I.adler=_(I.adler,k.pending_buf,k.pending-Y,Y)),x(I),Y=k.pending,k.pending===k.pending_buf_size)){Z=1;break}Z=k.gzindex<k.gzhead.comment.length?255&k.gzhead.comment.charCodeAt(k.gzindex++):0,j(k,Z)}while(Z!==0);k.gzhead.hcrc&&k.pending>Y&&(I.adler=_(I.adler,k.pending_buf,k.pending-Y,Y)),Z===0&&(k.status=103)}else k.status=103;if(k.status===103&&(k.gzhead.hcrc?(k.pending+2>k.pending_buf_size&&x(I),k.pending+2<=k.pending_buf_size&&(j(k,255&I.adler),j(k,I.adler>>8&255),I.adler=0,k.status=F)):k.status=F),k.pending!==0){if(x(I),I.avail_out===0)return k.last_flush=-1,0}else if(I.avail_in===0&&q($)<=q(A)&&$!==4)return L(I,-5);if(k.status===666&&I.avail_in!==0)return L(I,-5);if(I.avail_in!==0||k.lookahead!==0||$!==0&&k.status!==666){var tt=k.strategy===2?function(nt,Ct){for(var xt;;){if(nt.lookahead===0&&(C(nt),nt.lookahead===0)){if(Ct===0)return 1;break}if(nt.match_length=0,xt=p._tr_tally(nt,0,nt.window[nt.strstart]),nt.lookahead--,nt.strstart++,xt&&(R(nt,!1),nt.strm.avail_out===0))return 1}return nt.insert=0,Ct===4?(R(nt,!0),nt.strm.avail_out===0?3:4):nt.last_lit&&(R(nt,!1),nt.strm.avail_out===0)?1:2}(k,$):k.strategy===3?function(nt,Ct){for(var xt,rt,at,_t,J=nt.window;;){if(nt.lookahead<=V){if(C(nt),nt.lookahead<=V&&Ct===0)return 1;if(nt.lookahead===0)break}if(nt.match_length=0,nt.lookahead>=3&&0<nt.strstart&&(rt=J[at=nt.strstart-1])===J[++at]&&rt===J[++at]&&rt===J[++at]){_t=nt.strstart+V;do;while(rt===J[++at]&&rt===J[++at]&&rt===J[++at]&&rt===J[++at]&&rt===J[++at]&&rt===J[++at]&&rt===J[++at]&&rt===J[++at]&&at<_t);nt.match_length=V-(_t-at),nt.match_length>nt.lookahead&&(nt.match_length=nt.lookahead)}if(nt.match_length>=3?(xt=p._tr_tally(nt,1,nt.match_length-3),nt.lookahead-=nt.match_length,nt.strstart+=nt.match_length,nt.match_length=0):(xt=p._tr_tally(nt,0,nt.window[nt.strstart]),nt.lookahead--,nt.strstart++),xt&&(R(nt,!1),nt.strm.avail_out===0))return 1}return nt.insert=0,Ct===4?(R(nt,!0),nt.strm.avail_out===0?3:4):nt.last_lit&&(R(nt,!1),nt.strm.avail_out===0)?1:2}(k,$):m[k.level].func(k,$);if(tt!==3&&tt!==4||(k.status=666),tt===1||tt===3)return I.avail_out===0&&(k.last_flush=-1),0;if(tt===2&&($===1?p._tr_align(k):$!==5&&(p._tr_stored_block(k,0,0,!1),$===3&&(W(k.head),k.lookahead===0&&(k.strstart=0,k.block_start=0,k.insert=0))),x(I),I.avail_out===0))return k.last_flush=-1,0}return $!==4?0:k.wrap<=0?1:(k.wrap===2?(j(k,255&I.adler),j(k,I.adler>>8&255),j(k,I.adler>>16&255),j(k,I.adler>>24&255),j(k,255&I.total_in),j(k,I.total_in>>8&255),j(k,I.total_in>>16&255),j(k,I.total_in>>24&255)):(v(k,I.adler>>>16),v(k,65535&I.adler)),x(I),0<k.wrap&&(k.wrap=-k.wrap),k.pending!==0?0:1)},f.deflateEnd=function(I){var $;return I&&I.state?($=I.state.status)!==42&&$!==69&&$!==73&&$!==91&&$!==103&&$!==F&&$!==666?L(I,O):(I.state=null,$===F?L(I,-3):0):O},f.deflateSetDictionary=function(I,$){var A,k,Y,Z,ct,tt,nt,Ct,xt=$.length;if(!I||!I.state||(Z=(A=I.state).wrap)===2||Z===1&&A.status!==42||A.lookahead)return O;for(Z===1&&(I.adler=b(I.adler,$,xt,0)),A.wrap=0,xt>=A.w_size&&(Z===0&&(W(A.head),A.strstart=0,A.block_start=0,A.insert=0),Ct=new g.Buf8(A.w_size),g.arraySet(Ct,$,xt-A.w_size,A.w_size,0),$=Ct,xt=A.w_size),ct=I.avail_in,tt=I.next_in,nt=I.input,I.avail_in=xt,I.next_in=0,I.input=$,C(A);A.lookahead>=3;){for(k=A.strstart,Y=A.lookahead-2;A.ins_h=(A.ins_h<<A.hash_shift^A.window[k+3-1])&A.hash_mask,A.prev[k&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=k,k++,--Y;);A.strstart=k,A.lookahead=2,C(A)}return A.strstart+=A.lookahead,A.block_start=A.strstart,A.insert=A.lookahead,A.lookahead=0,A.match_length=A.prev_length=2,A.match_available=0,I.next_in=tt,I.input=nt,I.avail_in=ct,A.wrap=Z,0},f.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(h,u,f){u.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(h,u,f){u.exports=function(m,g){var p,b,_,E,O,V,H,F,L,q,W,x,R,j,v,y,C,w,S,M,U,N,T,B,I;p=m.state,b=m.next_in,B=m.input,_=b+(m.avail_in-5),E=m.next_out,I=m.output,O=E-(g-m.avail_out),V=E+(m.avail_out-257),H=p.dmax,F=p.wsize,L=p.whave,q=p.wnext,W=p.window,x=p.hold,R=p.bits,j=p.lencode,v=p.distcode,y=(1<<p.lenbits)-1,C=(1<<p.distbits)-1;t:do{R<15&&(x+=B[b++]<<R,R+=8,x+=B[b++]<<R,R+=8),w=j[x&y];e:for(;;){if(x>>>=S=w>>>24,R-=S,(S=w>>>16&255)==0)I[E++]=65535&w;else{if(!(16&S)){if(!(64&S)){w=j[(65535&w)+(x&(1<<S)-1)];continue e}if(32&S){p.mode=12;break t}m.msg="invalid literal/length code",p.mode=30;break t}M=65535&w,(S&=15)&&(R<S&&(x+=B[b++]<<R,R+=8),M+=x&(1<<S)-1,x>>>=S,R-=S),R<15&&(x+=B[b++]<<R,R+=8,x+=B[b++]<<R,R+=8),w=v[x&C];i:for(;;){if(x>>>=S=w>>>24,R-=S,!(16&(S=w>>>16&255))){if(!(64&S)){w=v[(65535&w)+(x&(1<<S)-1)];continue i}m.msg="invalid distance code",p.mode=30;break t}if(U=65535&w,R<(S&=15)&&(x+=B[b++]<<R,(R+=8)<S&&(x+=B[b++]<<R,R+=8)),H<(U+=x&(1<<S)-1)){m.msg="invalid distance too far back",p.mode=30;break t}if(x>>>=S,R-=S,(S=E-O)<U){if(L<(S=U-S)&&p.sane){m.msg="invalid distance too far back",p.mode=30;break t}if(T=W,(N=0)===q){if(N+=F-S,S<M){for(M-=S;I[E++]=W[N++],--S;);N=E-U,T=I}}else if(q<S){if(N+=F+q-S,(S-=q)<M){for(M-=S;I[E++]=W[N++],--S;);if(N=0,q<M){for(M-=S=q;I[E++]=W[N++],--S;);N=E-U,T=I}}}else if(N+=q-S,S<M){for(M-=S;I[E++]=W[N++],--S;);N=E-U,T=I}for(;2<M;)I[E++]=T[N++],I[E++]=T[N++],I[E++]=T[N++],M-=3;M&&(I[E++]=T[N++],1<M&&(I[E++]=T[N++]))}else{for(N=E-U;I[E++]=I[N++],I[E++]=I[N++],I[E++]=I[N++],2<(M-=3););M&&(I[E++]=I[N++],1<M&&(I[E++]=I[N++]))}break}}break}}while(b<_&&E<V);b-=M=R>>3,x&=(1<<(R-=M<<3))-1,m.next_in=b,m.next_out=E,m.avail_in=b<_?_-b+5:5-(b-_),m.avail_out=E<V?V-E+257:257-(E-V),p.hold=x,p.bits=R}},{}],49:[function(h,u,f){var m=h("../utils/common"),g=h("./adler32"),p=h("./crc32"),b=h("./inffast"),_=h("./inftrees"),E=-2;function O(y){return(y>>>24&255)+(y>>>8&65280)+((65280&y)<<8)+((255&y)<<24)}function V(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new m.Buf16(320),this.work=new m.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function H(y){var C;return y&&y.state?(C=y.state,y.total_in=y.total_out=C.total=0,y.msg="",C.wrap&&(y.adler=1&C.wrap),C.mode=1,C.last=0,C.havedict=0,C.dmax=32768,C.head=null,C.hold=0,C.bits=0,C.lencode=C.lendyn=new m.Buf32(852),C.distcode=C.distdyn=new m.Buf32(592),C.sane=1,C.back=-1,0):E}function F(y){var C;return y&&y.state?((C=y.state).wsize=0,C.whave=0,C.wnext=0,H(y)):E}function L(y,C){var w,S;return y&&y.state?(S=y.state,C<0?(w=0,C=-C):(w=1+(C>>4),C<48&&(C&=15)),C&&(C<8||15<C)?E:(S.window!==null&&S.wbits!==C&&(S.window=null),S.wrap=w,S.wbits=C,F(y))):E}function q(y,C){var w,S;return y?(S=new V,(y.state=S).window=null,(w=L(y,C))!==0&&(y.state=null),w):E}var W,x,R=!0;function j(y){if(R){var C;for(W=new m.Buf32(512),x=new m.Buf32(32),C=0;C<144;)y.lens[C++]=8;for(;C<256;)y.lens[C++]=9;for(;C<280;)y.lens[C++]=7;for(;C<288;)y.lens[C++]=8;for(_(1,y.lens,0,288,W,0,y.work,{bits:9}),C=0;C<32;)y.lens[C++]=5;_(2,y.lens,0,32,x,0,y.work,{bits:5}),R=!1}y.lencode=W,y.lenbits=9,y.distcode=x,y.distbits=5}function v(y,C,w,S){var M,U=y.state;return U.window===null&&(U.wsize=1<<U.wbits,U.wnext=0,U.whave=0,U.window=new m.Buf8(U.wsize)),S>=U.wsize?(m.arraySet(U.window,C,w-U.wsize,U.wsize,0),U.wnext=0,U.whave=U.wsize):(S<(M=U.wsize-U.wnext)&&(M=S),m.arraySet(U.window,C,w-S,M,U.wnext),(S-=M)?(m.arraySet(U.window,C,w-S,S,0),U.wnext=S,U.whave=U.wsize):(U.wnext+=M,U.wnext===U.wsize&&(U.wnext=0),U.whave<U.wsize&&(U.whave+=M))),0}f.inflateReset=F,f.inflateReset2=L,f.inflateResetKeep=H,f.inflateInit=function(y){return q(y,15)},f.inflateInit2=q,f.inflate=function(y,C){var w,S,M,U,N,T,B,I,$,A,k,Y,Z,ct,tt,nt,Ct,xt,rt,at,_t,J,et,lt,ut=0,mt=new m.Buf8(4),wt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!y||!y.state||!y.output||!y.input&&y.avail_in!==0)return E;(w=y.state).mode===12&&(w.mode=13),N=y.next_out,M=y.output,B=y.avail_out,U=y.next_in,S=y.input,T=y.avail_in,I=w.hold,$=w.bits,A=T,k=B,J=0;t:for(;;)switch(w.mode){case 1:if(w.wrap===0){w.mode=13;break}for(;$<16;){if(T===0)break t;T--,I+=S[U++]<<$,$+=8}if(2&w.wrap&&I===35615){mt[w.check=0]=255&I,mt[1]=I>>>8&255,w.check=p(w.check,mt,2,0),$=I=0,w.mode=2;break}if(w.flags=0,w.head&&(w.head.done=!1),!(1&w.wrap)||(((255&I)<<8)+(I>>8))%31){y.msg="incorrect header check",w.mode=30;break}if((15&I)!=8){y.msg="unknown compression method",w.mode=30;break}if($-=4,_t=8+(15&(I>>>=4)),w.wbits===0)w.wbits=_t;else if(_t>w.wbits){y.msg="invalid window size",w.mode=30;break}w.dmax=1<<_t,y.adler=w.check=1,w.mode=512&I?10:12,$=I=0;break;case 2:for(;$<16;){if(T===0)break t;T--,I+=S[U++]<<$,$+=8}if(w.flags=I,(255&w.flags)!=8){y.msg="unknown compression method",w.mode=30;break}if(57344&w.flags){y.msg="unknown header flags set",w.mode=30;break}w.head&&(w.head.text=I>>8&1),512&w.flags&&(mt[0]=255&I,mt[1]=I>>>8&255,w.check=p(w.check,mt,2,0)),$=I=0,w.mode=3;case 3:for(;$<32;){if(T===0)break t;T--,I+=S[U++]<<$,$+=8}w.head&&(w.head.time=I),512&w.flags&&(mt[0]=255&I,mt[1]=I>>>8&255,mt[2]=I>>>16&255,mt[3]=I>>>24&255,w.check=p(w.check,mt,4,0)),$=I=0,w.mode=4;case 4:for(;$<16;){if(T===0)break t;T--,I+=S[U++]<<$,$+=8}w.head&&(w.head.xflags=255&I,w.head.os=I>>8),512&w.flags&&(mt[0]=255&I,mt[1]=I>>>8&255,w.check=p(w.check,mt,2,0)),$=I=0,w.mode=5;case 5:if(1024&w.flags){for(;$<16;){if(T===0)break t;T--,I+=S[U++]<<$,$+=8}w.length=I,w.head&&(w.head.extra_len=I),512&w.flags&&(mt[0]=255&I,mt[1]=I>>>8&255,w.check=p(w.check,mt,2,0)),$=I=0}else w.head&&(w.head.extra=null);w.mode=6;case 6:if(1024&w.flags&&(T<(Y=w.length)&&(Y=T),Y&&(w.head&&(_t=w.head.extra_len-w.length,w.head.extra||(w.head.extra=new Array(w.head.extra_len)),m.arraySet(w.head.extra,S,U,Y,_t)),512&w.flags&&(w.check=p(w.check,S,Y,U)),T-=Y,U+=Y,w.length-=Y),w.length))break t;w.length=0,w.mode=7;case 7:if(2048&w.flags){if(T===0)break t;for(Y=0;_t=S[U+Y++],w.head&&_t&&w.length<65536&&(w.head.name+=String.fromCharCode(_t)),_t&&Y<T;);if(512&w.flags&&(w.check=p(w.check,S,Y,U)),T-=Y,U+=Y,_t)break t}else w.head&&(w.head.name=null);w.length=0,w.mode=8;case 8:if(4096&w.flags){if(T===0)break t;for(Y=0;_t=S[U+Y++],w.head&&_t&&w.length<65536&&(w.head.comment+=String.fromCharCode(_t)),_t&&Y<T;);if(512&w.flags&&(w.check=p(w.check,S,Y,U)),T-=Y,U+=Y,_t)break t}else w.head&&(w.head.comment=null);w.mode=9;case 9:if(512&w.flags){for(;$<16;){if(T===0)break t;T--,I+=S[U++]<<$,$+=8}if(I!==(65535&w.check)){y.msg="header crc mismatch",w.mode=30;break}$=I=0}w.head&&(w.head.hcrc=w.flags>>9&1,w.head.done=!0),y.adler=w.check=0,w.mode=12;break;case 10:for(;$<32;){if(T===0)break t;T--,I+=S[U++]<<$,$+=8}y.adler=w.check=O(I),$=I=0,w.mode=11;case 11:if(w.havedict===0)return y.next_out=N,y.avail_out=B,y.next_in=U,y.avail_in=T,w.hold=I,w.bits=$,2;y.adler=w.check=1,w.mode=12;case 12:if(C===5||C===6)break t;case 13:if(w.last){I>>>=7&$,$-=7&$,w.mode=27;break}for(;$<3;){if(T===0)break t;T--,I+=S[U++]<<$,$+=8}switch(w.last=1&I,$-=1,3&(I>>>=1)){case 0:w.mode=14;break;case 1:if(j(w),w.mode=20,C!==6)break;I>>>=2,$-=2;break t;case 2:w.mode=17;break;case 3:y.msg="invalid block type",w.mode=30}I>>>=2,$-=2;break;case 14:for(I>>>=7&$,$-=7&$;$<32;){if(T===0)break t;T--,I+=S[U++]<<$,$+=8}if((65535&I)!=(I>>>16^65535)){y.msg="invalid stored block lengths",w.mode=30;break}if(w.length=65535&I,$=I=0,w.mode=15,C===6)break t;case 15:w.mode=16;case 16:if(Y=w.length){if(T<Y&&(Y=T),B<Y&&(Y=B),Y===0)break t;m.arraySet(M,S,U,Y,N),T-=Y,U+=Y,B-=Y,N+=Y,w.length-=Y;break}w.mode=12;break;case 17:for(;$<14;){if(T===0)break t;T--,I+=S[U++]<<$,$+=8}if(w.nlen=257+(31&I),I>>>=5,$-=5,w.ndist=1+(31&I),I>>>=5,$-=5,w.ncode=4+(15&I),I>>>=4,$-=4,286<w.nlen||30<w.ndist){y.msg="too many length or distance symbols",w.mode=30;break}w.have=0,w.mode=18;case 18:for(;w.have<w.ncode;){for(;$<3;){if(T===0)break t;T--,I+=S[U++]<<$,$+=8}w.lens[wt[w.have++]]=7&I,I>>>=3,$-=3}for(;w.have<19;)w.lens[wt[w.have++]]=0;if(w.lencode=w.lendyn,w.lenbits=7,et={bits:w.lenbits},J=_(0,w.lens,0,19,w.lencode,0,w.work,et),w.lenbits=et.bits,J){y.msg="invalid code lengths set",w.mode=30;break}w.have=0,w.mode=19;case 19:for(;w.have<w.nlen+w.ndist;){for(;nt=(ut=w.lencode[I&(1<<w.lenbits)-1])>>>16&255,Ct=65535&ut,!((tt=ut>>>24)<=$);){if(T===0)break t;T--,I+=S[U++]<<$,$+=8}if(Ct<16)I>>>=tt,$-=tt,w.lens[w.have++]=Ct;else{if(Ct===16){for(lt=tt+2;$<lt;){if(T===0)break t;T--,I+=S[U++]<<$,$+=8}if(I>>>=tt,$-=tt,w.have===0){y.msg="invalid bit length repeat",w.mode=30;break}_t=w.lens[w.have-1],Y=3+(3&I),I>>>=2,$-=2}else if(Ct===17){for(lt=tt+3;$<lt;){if(T===0)break t;T--,I+=S[U++]<<$,$+=8}$-=tt,_t=0,Y=3+(7&(I>>>=tt)),I>>>=3,$-=3}else{for(lt=tt+7;$<lt;){if(T===0)break t;T--,I+=S[U++]<<$,$+=8}$-=tt,_t=0,Y=11+(127&(I>>>=tt)),I>>>=7,$-=7}if(w.have+Y>w.nlen+w.ndist){y.msg="invalid bit length repeat",w.mode=30;break}for(;Y--;)w.lens[w.have++]=_t}}if(w.mode===30)break;if(w.lens[256]===0){y.msg="invalid code -- missing end-of-block",w.mode=30;break}if(w.lenbits=9,et={bits:w.lenbits},J=_(1,w.lens,0,w.nlen,w.lencode,0,w.work,et),w.lenbits=et.bits,J){y.msg="invalid literal/lengths set",w.mode=30;break}if(w.distbits=6,w.distcode=w.distdyn,et={bits:w.distbits},J=_(2,w.lens,w.nlen,w.ndist,w.distcode,0,w.work,et),w.distbits=et.bits,J){y.msg="invalid distances set",w.mode=30;break}if(w.mode=20,C===6)break t;case 20:w.mode=21;case 21:if(6<=T&&258<=B){y.next_out=N,y.avail_out=B,y.next_in=U,y.avail_in=T,w.hold=I,w.bits=$,b(y,k),N=y.next_out,M=y.output,B=y.avail_out,U=y.next_in,S=y.input,T=y.avail_in,I=w.hold,$=w.bits,w.mode===12&&(w.back=-1);break}for(w.back=0;nt=(ut=w.lencode[I&(1<<w.lenbits)-1])>>>16&255,Ct=65535&ut,!((tt=ut>>>24)<=$);){if(T===0)break t;T--,I+=S[U++]<<$,$+=8}if(nt&&!(240&nt)){for(xt=tt,rt=nt,at=Ct;nt=(ut=w.lencode[at+((I&(1<<xt+rt)-1)>>xt)])>>>16&255,Ct=65535&ut,!(xt+(tt=ut>>>24)<=$);){if(T===0)break t;T--,I+=S[U++]<<$,$+=8}I>>>=xt,$-=xt,w.back+=xt}if(I>>>=tt,$-=tt,w.back+=tt,w.length=Ct,nt===0){w.mode=26;break}if(32&nt){w.back=-1,w.mode=12;break}if(64&nt){y.msg="invalid literal/length code",w.mode=30;break}w.extra=15&nt,w.mode=22;case 22:if(w.extra){for(lt=w.extra;$<lt;){if(T===0)break t;T--,I+=S[U++]<<$,$+=8}w.length+=I&(1<<w.extra)-1,I>>>=w.extra,$-=w.extra,w.back+=w.extra}w.was=w.length,w.mode=23;case 23:for(;nt=(ut=w.distcode[I&(1<<w.distbits)-1])>>>16&255,Ct=65535&ut,!((tt=ut>>>24)<=$);){if(T===0)break t;T--,I+=S[U++]<<$,$+=8}if(!(240&nt)){for(xt=tt,rt=nt,at=Ct;nt=(ut=w.distcode[at+((I&(1<<xt+rt)-1)>>xt)])>>>16&255,Ct=65535&ut,!(xt+(tt=ut>>>24)<=$);){if(T===0)break t;T--,I+=S[U++]<<$,$+=8}I>>>=xt,$-=xt,w.back+=xt}if(I>>>=tt,$-=tt,w.back+=tt,64&nt){y.msg="invalid distance code",w.mode=30;break}w.offset=Ct,w.extra=15&nt,w.mode=24;case 24:if(w.extra){for(lt=w.extra;$<lt;){if(T===0)break t;T--,I+=S[U++]<<$,$+=8}w.offset+=I&(1<<w.extra)-1,I>>>=w.extra,$-=w.extra,w.back+=w.extra}if(w.offset>w.dmax){y.msg="invalid distance too far back",w.mode=30;break}w.mode=25;case 25:if(B===0)break t;if(Y=k-B,w.offset>Y){if((Y=w.offset-Y)>w.whave&&w.sane){y.msg="invalid distance too far back",w.mode=30;break}Z=Y>w.wnext?(Y-=w.wnext,w.wsize-Y):w.wnext-Y,Y>w.length&&(Y=w.length),ct=w.window}else ct=M,Z=N-w.offset,Y=w.length;for(B<Y&&(Y=B),B-=Y,w.length-=Y;M[N++]=ct[Z++],--Y;);w.length===0&&(w.mode=21);break;case 26:if(B===0)break t;M[N++]=w.length,B--,w.mode=21;break;case 27:if(w.wrap){for(;$<32;){if(T===0)break t;T--,I|=S[U++]<<$,$+=8}if(k-=B,y.total_out+=k,w.total+=k,k&&(y.adler=w.check=w.flags?p(w.check,M,k,N-k):g(w.check,M,k,N-k)),k=B,(w.flags?I:O(I))!==w.check){y.msg="incorrect data check",w.mode=30;break}$=I=0}w.mode=28;case 28:if(w.wrap&&w.flags){for(;$<32;){if(T===0)break t;T--,I+=S[U++]<<$,$+=8}if(I!==(4294967295&w.total)){y.msg="incorrect length check",w.mode=30;break}$=I=0}w.mode=29;case 29:J=1;break t;case 30:J=-3;break t;case 31:return-4;case 32:default:return E}return y.next_out=N,y.avail_out=B,y.next_in=U,y.avail_in=T,w.hold=I,w.bits=$,(w.wsize||k!==y.avail_out&&w.mode<30&&(w.mode<27||C!==4))&&v(y,y.output,y.next_out,k-y.avail_out)?(w.mode=31,-4):(A-=y.avail_in,k-=y.avail_out,y.total_in+=A,y.total_out+=k,w.total+=k,w.wrap&&k&&(y.adler=w.check=w.flags?p(w.check,M,k,y.next_out-k):g(w.check,M,k,y.next_out-k)),y.data_type=w.bits+(w.last?64:0)+(w.mode===12?128:0)+(w.mode===20||w.mode===15?256:0),(A==0&&k===0||C===4)&&J===0&&(J=-5),J)},f.inflateEnd=function(y){if(!y||!y.state)return E;var C=y.state;return C.window&&(C.window=null),y.state=null,0},f.inflateGetHeader=function(y,C){var w;return y&&y.state&&2&(w=y.state).wrap?((w.head=C).done=!1,0):E},f.inflateSetDictionary=function(y,C){var w,S=C.length;return y&&y.state?(w=y.state).wrap!==0&&w.mode!==11?E:w.mode===11&&g(1,C,S,0)!==w.check?-3:v(y,C,S,S)?(w.mode=31,-4):(w.havedict=1,0):E},f.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(h,u,f){var m=h("../utils/common"),g=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],p=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],b=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],_=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];u.exports=function(E,O,V,H,F,L,q,W){var x,R,j,v,y,C,w,S,M,U=W.bits,N=0,T=0,B=0,I=0,$=0,A=0,k=0,Y=0,Z=0,ct=0,tt=null,nt=0,Ct=new m.Buf16(16),xt=new m.Buf16(16),rt=null,at=0;for(N=0;N<=15;N++)Ct[N]=0;for(T=0;T<H;T++)Ct[O[V+T]]++;for($=U,I=15;1<=I&&Ct[I]===0;I--);if(I<$&&($=I),I===0)return F[L++]=20971520,F[L++]=20971520,W.bits=1,0;for(B=1;B<I&&Ct[B]===0;B++);for($<B&&($=B),N=Y=1;N<=15;N++)if(Y<<=1,(Y-=Ct[N])<0)return-1;if(0<Y&&(E===0||I!==1))return-1;for(xt[1]=0,N=1;N<15;N++)xt[N+1]=xt[N]+Ct[N];for(T=0;T<H;T++)O[V+T]!==0&&(q[xt[O[V+T]]++]=T);if(C=E===0?(tt=rt=q,19):E===1?(tt=g,nt-=257,rt=p,at-=257,256):(tt=b,rt=_,-1),N=B,y=L,k=T=ct=0,j=-1,v=(Z=1<<(A=$))-1,E===1&&852<Z||E===2&&592<Z)return 1;for(;;){for(w=N-k,M=q[T]<C?(S=0,q[T]):q[T]>C?(S=rt[at+q[T]],tt[nt+q[T]]):(S=96,0),x=1<<N-k,B=R=1<<A;F[y+(ct>>k)+(R-=x)]=w<<24|S<<16|M|0,R!==0;);for(x=1<<N-1;ct&x;)x>>=1;if(x!==0?(ct&=x-1,ct+=x):ct=0,T++,--Ct[N]==0){if(N===I)break;N=O[V+q[T]]}if($<N&&(ct&v)!==j){for(k===0&&(k=$),y+=B,Y=1<<(A=N-k);A+k<I&&!((Y-=Ct[A+k])<=0);)A++,Y<<=1;if(Z+=1<<A,E===1&&852<Z||E===2&&592<Z)return 1;F[j=ct&v]=$<<24|A<<16|y-L|0}}return ct!==0&&(F[y+ct]=N-k<<24|64<<16|0),W.bits=$,0}},{"../utils/common":41}],51:[function(h,u,f){u.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(h,u,f){var m=h("../utils/common");function g(rt){for(var at=rt.length;0<=--at;)rt[at]=0}var p=256,b=286,_=30,E=15,O=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],V=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],H=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],F=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],L=new Array(576);g(L);var q=new Array(60);g(q);var W=new Array(512);g(W);var x=new Array(256);g(x);var R=new Array(29);g(R);var j,v,y,C=new Array(_);function w(rt,at,_t,J,et){this.static_tree=rt,this.extra_bits=at,this.extra_base=_t,this.elems=J,this.max_length=et,this.has_stree=rt&&rt.length}function S(rt,at){this.dyn_tree=rt,this.max_code=0,this.stat_desc=at}function M(rt){return rt<256?W[rt]:W[256+(rt>>>7)]}function U(rt,at){rt.pending_buf[rt.pending++]=255&at,rt.pending_buf[rt.pending++]=at>>>8&255}function N(rt,at,_t){rt.bi_valid>16-_t?(rt.bi_buf|=at<<rt.bi_valid&65535,U(rt,rt.bi_buf),rt.bi_buf=at>>16-rt.bi_valid,rt.bi_valid+=_t-16):(rt.bi_buf|=at<<rt.bi_valid&65535,rt.bi_valid+=_t)}function T(rt,at,_t){N(rt,_t[2*at],_t[2*at+1])}function B(rt,at){for(var _t=0;_t|=1&rt,rt>>>=1,_t<<=1,0<--at;);return _t>>>1}function I(rt,at,_t){var J,et,lt=new Array(16),ut=0;for(J=1;J<=E;J++)lt[J]=ut=ut+_t[J-1]<<1;for(et=0;et<=at;et++){var mt=rt[2*et+1];mt!==0&&(rt[2*et]=B(lt[mt]++,mt))}}function $(rt){var at;for(at=0;at<b;at++)rt.dyn_ltree[2*at]=0;for(at=0;at<_;at++)rt.dyn_dtree[2*at]=0;for(at=0;at<19;at++)rt.bl_tree[2*at]=0;rt.dyn_ltree[512]=1,rt.opt_len=rt.static_len=0,rt.last_lit=rt.matches=0}function A(rt){8<rt.bi_valid?U(rt,rt.bi_buf):0<rt.bi_valid&&(rt.pending_buf[rt.pending++]=rt.bi_buf),rt.bi_buf=0,rt.bi_valid=0}function k(rt,at,_t,J){var et=2*at,lt=2*_t;return rt[et]<rt[lt]||rt[et]===rt[lt]&&J[at]<=J[_t]}function Y(rt,at,_t){for(var J=rt.heap[_t],et=_t<<1;et<=rt.heap_len&&(et<rt.heap_len&&k(at,rt.heap[et+1],rt.heap[et],rt.depth)&&et++,!k(at,J,rt.heap[et],rt.depth));)rt.heap[_t]=rt.heap[et],_t=et,et<<=1;rt.heap[_t]=J}function Z(rt,at,_t){var J,et,lt,ut,mt=0;if(rt.last_lit!==0)for(;J=rt.pending_buf[rt.d_buf+2*mt]<<8|rt.pending_buf[rt.d_buf+2*mt+1],et=rt.pending_buf[rt.l_buf+mt],mt++,J===0?T(rt,et,at):(T(rt,(lt=x[et])+p+1,at),(ut=O[lt])!==0&&N(rt,et-=R[lt],ut),T(rt,lt=M(--J),_t),(ut=V[lt])!==0&&N(rt,J-=C[lt],ut)),mt<rt.last_lit;);T(rt,256,at)}function ct(rt,at){var _t,J,et,lt=at.dyn_tree,ut=at.stat_desc.static_tree,mt=at.stat_desc.has_stree,wt=at.stat_desc.elems,vt=-1;for(rt.heap_len=0,rt.heap_max=573,_t=0;_t<wt;_t++)lt[2*_t]!==0?(rt.heap[++rt.heap_len]=vt=_t,rt.depth[_t]=0):lt[2*_t+1]=0;for(;rt.heap_len<2;)lt[2*(et=rt.heap[++rt.heap_len]=vt<2?++vt:0)]=1,rt.depth[et]=0,rt.opt_len--,mt&&(rt.static_len-=ut[2*et+1]);for(at.max_code=vt,_t=rt.heap_len>>1;1<=_t;_t--)Y(rt,lt,_t);for(et=wt;_t=rt.heap[1],rt.heap[1]=rt.heap[rt.heap_len--],Y(rt,lt,1),J=rt.heap[1],rt.heap[--rt.heap_max]=_t,rt.heap[--rt.heap_max]=J,lt[2*et]=lt[2*_t]+lt[2*J],rt.depth[et]=(rt.depth[_t]>=rt.depth[J]?rt.depth[_t]:rt.depth[J])+1,lt[2*_t+1]=lt[2*J+1]=et,rt.heap[1]=et++,Y(rt,lt,1),2<=rt.heap_len;);rt.heap[--rt.heap_max]=rt.heap[1],function(Rt,Mt){var Et,kt,zt,Yt,Ut,ie,Zt=Mt.dyn_tree,Fe=Mt.max_code,le=Mt.stat_desc.static_tree,fe=Mt.stat_desc.has_stree,ki=Mt.stat_desc.extra_bits,Ae=Mt.stat_desc.extra_base,ni=Mt.stat_desc.max_length,Pi=0;for(Yt=0;Yt<=E;Yt++)Rt.bl_count[Yt]=0;for(Zt[2*Rt.heap[Rt.heap_max]+1]=0,Et=Rt.heap_max+1;Et<573;Et++)ni<(Yt=Zt[2*Zt[2*(kt=Rt.heap[Et])+1]+1]+1)&&(Yt=ni,Pi++),Zt[2*kt+1]=Yt,Fe<kt||(Rt.bl_count[Yt]++,Ut=0,Ae<=kt&&(Ut=ki[kt-Ae]),ie=Zt[2*kt],Rt.opt_len+=ie*(Yt+Ut),fe&&(Rt.static_len+=ie*(le[2*kt+1]+Ut)));if(Pi!==0){do{for(Yt=ni-1;Rt.bl_count[Yt]===0;)Yt--;Rt.bl_count[Yt]--,Rt.bl_count[Yt+1]+=2,Rt.bl_count[ni]--,Pi-=2}while(0<Pi);for(Yt=ni;Yt!==0;Yt--)for(kt=Rt.bl_count[Yt];kt!==0;)Fe<(zt=Rt.heap[--Et])||(Zt[2*zt+1]!==Yt&&(Rt.opt_len+=(Yt-Zt[2*zt+1])*Zt[2*zt],Zt[2*zt+1]=Yt),kt--)}}(rt,at),I(lt,vt,rt.bl_count)}function tt(rt,at,_t){var J,et,lt=-1,ut=at[1],mt=0,wt=7,vt=4;for(ut===0&&(wt=138,vt=3),at[2*(_t+1)+1]=65535,J=0;J<=_t;J++)et=ut,ut=at[2*(J+1)+1],++mt<wt&&et===ut||(mt<vt?rt.bl_tree[2*et]+=mt:et!==0?(et!==lt&&rt.bl_tree[2*et]++,rt.bl_tree[32]++):mt<=10?rt.bl_tree[34]++:rt.bl_tree[36]++,lt=et,vt=(mt=0)===ut?(wt=138,3):et===ut?(wt=6,3):(wt=7,4))}function nt(rt,at,_t){var J,et,lt=-1,ut=at[1],mt=0,wt=7,vt=4;for(ut===0&&(wt=138,vt=3),J=0;J<=_t;J++)if(et=ut,ut=at[2*(J+1)+1],!(++mt<wt&&et===ut)){if(mt<vt)for(;T(rt,et,rt.bl_tree),--mt!=0;);else et!==0?(et!==lt&&(T(rt,et,rt.bl_tree),mt--),T(rt,16,rt.bl_tree),N(rt,mt-3,2)):mt<=10?(T(rt,17,rt.bl_tree),N(rt,mt-3,3)):(T(rt,18,rt.bl_tree),N(rt,mt-11,7));lt=et,vt=(mt=0)===ut?(wt=138,3):et===ut?(wt=6,3):(wt=7,4)}}g(C);var Ct=!1;function xt(rt,at,_t,J){N(rt,0+(J?1:0),3),function(et,lt,ut,mt){A(et),U(et,ut),U(et,~ut),m.arraySet(et.pending_buf,et.window,lt,ut,et.pending),et.pending+=ut}(rt,at,_t)}f._tr_init=function(rt){Ct||(function(){var at,_t,J,et,lt,ut=new Array(16);for(et=J=0;et<28;et++)for(R[et]=J,at=0;at<1<<O[et];at++)x[J++]=et;for(x[J-1]=et,et=lt=0;et<16;et++)for(C[et]=lt,at=0;at<1<<V[et];at++)W[lt++]=et;for(lt>>=7;et<_;et++)for(C[et]=lt<<7,at=0;at<1<<V[et]-7;at++)W[256+lt++]=et;for(_t=0;_t<=E;_t++)ut[_t]=0;for(at=0;at<=143;)L[2*at+1]=8,at++,ut[8]++;for(;at<=255;)L[2*at+1]=9,at++,ut[9]++;for(;at<=279;)L[2*at+1]=7,at++,ut[7]++;for(;at<=287;)L[2*at+1]=8,at++,ut[8]++;for(I(L,287,ut),at=0;at<_;at++)q[2*at+1]=5,q[2*at]=B(at,5);j=new w(L,O,257,b,E),v=new w(q,V,0,_,E),y=new w(new Array(0),H,0,19,7)}(),Ct=!0),rt.l_desc=new S(rt.dyn_ltree,j),rt.d_desc=new S(rt.dyn_dtree,v),rt.bl_desc=new S(rt.bl_tree,y),rt.bi_buf=0,rt.bi_valid=0,$(rt)},f._tr_stored_block=xt,f._tr_flush_block=function(rt,at,_t,J){var et,lt,ut=0;0<rt.level?(rt.strm.data_type===2&&(rt.strm.data_type=function(mt){var wt,vt=4093624447;for(wt=0;wt<=31;wt++,vt>>>=1)if(1&vt&&mt.dyn_ltree[2*wt]!==0)return 0;if(mt.dyn_ltree[18]!==0||mt.dyn_ltree[20]!==0||mt.dyn_ltree[26]!==0)return 1;for(wt=32;wt<p;wt++)if(mt.dyn_ltree[2*wt]!==0)return 1;return 0}(rt)),ct(rt,rt.l_desc),ct(rt,rt.d_desc),ut=function(mt){var wt;for(tt(mt,mt.dyn_ltree,mt.l_desc.max_code),tt(mt,mt.dyn_dtree,mt.d_desc.max_code),ct(mt,mt.bl_desc),wt=18;3<=wt&&mt.bl_tree[2*F[wt]+1]===0;wt--);return mt.opt_len+=3*(wt+1)+5+5+4,wt}(rt),et=rt.opt_len+3+7>>>3,(lt=rt.static_len+3+7>>>3)<=et&&(et=lt)):et=lt=_t+5,_t+4<=et&&at!==-1?xt(rt,at,_t,J):rt.strategy===4||lt===et?(N(rt,2+(J?1:0),3),Z(rt,L,q)):(N(rt,4+(J?1:0),3),function(mt,wt,vt,Rt){var Mt;for(N(mt,wt-257,5),N(mt,vt-1,5),N(mt,Rt-4,4),Mt=0;Mt<Rt;Mt++)N(mt,mt.bl_tree[2*F[Mt]+1],3);nt(mt,mt.dyn_ltree,wt-1),nt(mt,mt.dyn_dtree,vt-1)}(rt,rt.l_desc.max_code+1,rt.d_desc.max_code+1,ut+1),Z(rt,rt.dyn_ltree,rt.dyn_dtree)),$(rt),J&&A(rt)},f._tr_tally=function(rt,at,_t){return rt.pending_buf[rt.d_buf+2*rt.last_lit]=at>>>8&255,rt.pending_buf[rt.d_buf+2*rt.last_lit+1]=255&at,rt.pending_buf[rt.l_buf+rt.last_lit]=255&_t,rt.last_lit++,at===0?rt.dyn_ltree[2*_t]++:(rt.matches++,at--,rt.dyn_ltree[2*(x[_t]+p+1)]++,rt.dyn_dtree[2*M(at)]++),rt.last_lit===rt.lit_bufsize-1},f._tr_align=function(rt){N(rt,2,3),T(rt,256,L),function(at){at.bi_valid===16?(U(at,at.bi_buf),at.bi_buf=0,at.bi_valid=0):8<=at.bi_valid&&(at.pending_buf[at.pending++]=255&at.bi_buf,at.bi_buf>>=8,at.bi_valid-=8)}(rt)}},{"../utils/common":41}],53:[function(h,u,f){u.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(h,u,f){(function(m){(function(g,p){if(!g.setImmediate){var b,_,E,O,V=1,H={},F=!1,L=g.document,q=Object.getPrototypeOf&&Object.getPrototypeOf(g);q=q&&q.setTimeout?q:g,b={}.toString.call(g.process)==="[object process]"?function(j){i.nextTick(function(){x(j)})}:function(){if(g.postMessage&&!g.importScripts){var j=!0,v=g.onmessage;return g.onmessage=function(){j=!1},g.postMessage("","*"),g.onmessage=v,j}}()?(O="setImmediate$"+Math.random()+"$",g.addEventListener?g.addEventListener("message",R,!1):g.attachEvent("onmessage",R),function(j){g.postMessage(O+j,"*")}):g.MessageChannel?((E=new MessageChannel).port1.onmessage=function(j){x(j.data)},function(j){E.port2.postMessage(j)}):L&&"onreadystatechange"in L.createElement("script")?(_=L.documentElement,function(j){var v=L.createElement("script");v.onreadystatechange=function(){x(j),v.onreadystatechange=null,_.removeChild(v),v=null},_.appendChild(v)}):function(j){setTimeout(x,0,j)},q.setImmediate=function(j){typeof j!="function"&&(j=new Function(""+j));for(var v=new Array(arguments.length-1),y=0;y<v.length;y++)v[y]=arguments[y+1];var C={callback:j,args:v};return H[V]=C,b(V),V++},q.clearImmediate=W}function W(j){delete H[j]}function x(j){if(F)setTimeout(x,0,j);else{var v=H[j];if(v){F=!0;try{(function(y){var C=y.callback,w=y.args;switch(w.length){case 0:C();break;case 1:C(w[0]);break;case 2:C(w[0],w[1]);break;case 3:C(w[0],w[1],w[2]);break;default:C.apply(void 0,w)}})(v)}finally{W(j),F=!1}}}}function R(j){j.source===g&&typeof j.data=="string"&&j.data.indexOf(O)===0&&x(+j.data.slice(O.length))}})(typeof self>"u"?m===void 0?this:m:self)}).call(this,n!==void 0?n:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}).call(this)}).call(this,e("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(e,t,r){(function(i){(function(){"use strict";var n=/[\\^$.*+?()[\]{}|]/g,o=RegExp(n.source),s=typeof i=="object"&&i&&i.Object===Object&&i,a=typeof self=="object"&&self&&self.Object===Object&&self,l=s||a||Function("return this")(),c=Object.prototype.toString,d=l.Symbol,h=d?d.prototype:void 0,u=h?h.toString:void 0;function f(m){if(typeof m=="string")return m;if(function(p){return typeof p=="symbol"||function(b){return!!b&&typeof b=="object"}(p)&&c.call(p)=="[object Symbol]"}(m))return u?u.call(m):"";var g=m+"";return g=="0"&&1/m==-1/0?"-0":g}t.exports=function(m){var g;return(m=(g=m)==null?"":f(g))&&o.test(m)?m.replace(n,"\\$&"):m}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(e,t,r){(function(i){(function(){"use strict";var n="[object Arguments]",o="[object Map]",s="[object Object]",a="[object Set]",l=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c=/^\w*$/,d=/^\./,h=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,u=/\\(\\)?/g,f=/^\[object .+?Constructor\]$/,m=/^(?:0|[1-9]\d*)$/,g={};g["[object Float32Array]"]=g["[object Float64Array]"]=g["[object Int8Array]"]=g["[object Int16Array]"]=g["[object Int32Array]"]=g["[object Uint8Array]"]=g["[object Uint8ClampedArray]"]=g["[object Uint16Array]"]=g["[object Uint32Array]"]=!0,g[n]=g["[object Array]"]=g["[object ArrayBuffer]"]=g["[object Boolean]"]=g["[object DataView]"]=g["[object Date]"]=g["[object Error]"]=g["[object Function]"]=g[o]=g["[object Number]"]=g[s]=g["[object RegExp]"]=g[a]=g["[object String]"]=g["[object WeakMap]"]=!1;var p=typeof i=="object"&&i&&i.Object===Object&&i,b=typeof self=="object"&&self&&self.Object===Object&&self,_=p||b||Function("return this")(),E=typeof r=="object"&&r&&!r.nodeType&&r,O=E&&typeof t=="object"&&t&&!t.nodeType&&t,V=O&&O.exports===E&&p.process,H=function(){try{return V&&V.binding("util")}catch{}}(),F=H&&H.isTypedArray;function L(At,Gt,oe,ae){for(var Ie=-1,li=At?At.length:0;++Ie<li;){var oi=At[Ie];Gt(ae,oi,oe(oi),At)}return ae}function q(At,Gt){for(var oe=-1,ae=At?At.length:0;++oe<ae;)if(Gt(At[oe],oe,At))return!0;return!1}function W(At){var Gt=!1;if(At!=null&&typeof At.toString!="function")try{Gt=!!(At+"")}catch{}return Gt}function x(At){var Gt=-1,oe=Array(At.size);return At.forEach(function(ae,Ie){oe[++Gt]=[Ie,ae]}),oe}function R(At){var Gt=-1,oe=Array(At.size);return At.forEach(function(ae){oe[++Gt]=ae}),oe}var j,v,y,C=Array.prototype,w=Function.prototype,S=Object.prototype,M=_["__core-js_shared__"],U=(j=/[^.]+$/.exec(M&&M.keys&&M.keys.IE_PROTO||""))?"Symbol(src)_1."+j:"",N=w.toString,T=S.hasOwnProperty,B=S.toString,I=RegExp("^"+N.call(T).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$=_.Symbol,A=_.Uint8Array,k=S.propertyIsEnumerable,Y=C.splice,Z=(v=Object.keys,y=Object,function(At){return v(y(At))}),ct=xe(_,"DataView"),tt=xe(_,"Map"),nt=xe(_,"Promise"),Ct=xe(_,"Set"),xt=xe(_,"WeakMap"),rt=xe(Object,"create"),at=ee(ct),_t=ee(tt),J=ee(nt),et=ee(Ct),lt=ee(xt),ut=$?$.prototype:void 0,mt=ut?ut.valueOf:void 0,wt=ut?ut.toString:void 0;function vt(At){var Gt=-1,oe=At?At.length:0;for(this.clear();++Gt<oe;){var ae=At[Gt];this.set(ae[0],ae[1])}}function Rt(At){var Gt=-1,oe=At?At.length:0;for(this.clear();++Gt<oe;){var ae=At[Gt];this.set(ae[0],ae[1])}}function Mt(At){var Gt=-1,oe=At?At.length:0;for(this.clear();++Gt<oe;){var ae=At[Gt];this.set(ae[0],ae[1])}}function Et(At){var Gt=-1,oe=At?At.length:0;for(this.__data__=new Mt;++Gt<oe;)this.add(At[Gt])}function kt(At){this.__data__=new Rt(At)}function zt(At,Gt){var oe=Pe(At)||Ye(At)?function(oi,ur){for(var ji=-1,Di=Array(oi);++ji<oi;)Di[ji]=ur(ji);return Di}(At.length,String):[],ae=oe.length,Ie=!!ae;for(var li in At)!Gt&&!T.call(At,li)||Ie&&(li=="length"||We(li,ae))||oe.push(li);return oe}function Yt(At,Gt){for(var oe=At.length;oe--;)if(Ui(At[oe][0],Gt))return oe;return-1}function Ut(At,Gt,oe,ae){return Fe(At,function(Ie,li,oi){Gt(ae,Ie,oe(Ie),oi)}),ae}vt.prototype.clear=function(){this.__data__=rt?rt(null):{}},vt.prototype.delete=function(At){return this.has(At)&&delete this.__data__[At]},vt.prototype.get=function(At){var Gt=this.__data__;if(rt){var oe=Gt[At];return oe==="__lodash_hash_undefined__"?void 0:oe}return T.call(Gt,At)?Gt[At]:void 0},vt.prototype.has=function(At){var Gt=this.__data__;return rt?Gt[At]!==void 0:T.call(Gt,At)},vt.prototype.set=function(At,Gt){return this.__data__[At]=rt&&Gt===void 0?"__lodash_hash_undefined__":Gt,this},Rt.prototype.clear=function(){this.__data__=[]},Rt.prototype.delete=function(At){var Gt=this.__data__,oe=Yt(Gt,At);return!(oe<0)&&(oe==Gt.length-1?Gt.pop():Y.call(Gt,oe,1),!0)},Rt.prototype.get=function(At){var Gt=this.__data__,oe=Yt(Gt,At);return oe<0?void 0:Gt[oe][1]},Rt.prototype.has=function(At){return Yt(this.__data__,At)>-1},Rt.prototype.set=function(At,Gt){var oe=this.__data__,ae=Yt(oe,At);return ae<0?oe.push([At,Gt]):oe[ae][1]=Gt,this},Mt.prototype.clear=function(){this.__data__={hash:new vt,map:new(tt||Rt),string:new vt}},Mt.prototype.delete=function(At){return ye(this,At).delete(At)},Mt.prototype.get=function(At){return ye(this,At).get(At)},Mt.prototype.has=function(At){return ye(this,At).has(At)},Mt.prototype.set=function(At,Gt){return ye(this,At).set(At,Gt),this},Et.prototype.add=Et.prototype.push=function(At){return this.__data__.set(At,"__lodash_hash_undefined__"),this},Et.prototype.has=function(At){return this.__data__.has(At)},kt.prototype.clear=function(){this.__data__=new Rt},kt.prototype.delete=function(At){return this.__data__.delete(At)},kt.prototype.get=function(At){return this.__data__.get(At)},kt.prototype.has=function(At){return this.__data__.has(At)},kt.prototype.set=function(At,Gt){var oe=this.__data__;if(oe instanceof Rt){var ae=oe.__data__;if(!tt||ae.length<199)return ae.push([At,Gt]),this;oe=this.__data__=new Mt(ae)}return oe.set(At,Gt),this};var ie,Zt,Fe=(ie=function(At,Gt){return At&&le(At,Gt,Tn)},function(At,Gt){if(At==null)return At;if(!ar(At))return ie(At,Gt);for(var oe=At.length,ae=Zt?oe:-1,Ie=Object(At);(Zt?ae--:++ae<oe)&&Gt(Ie[ae],ae,Ie)!==!1;);return At}),le=function(At){return function(Gt,oe,ae){for(var Ie=-1,li=Object(Gt),oi=ae(Gt),ur=oi.length;ur--;){var ji=oi[At?ur:++Ie];if(oe(li[ji],ji,li)===!1)break}return Gt}}();function fe(At,Gt){for(var oe=0,ae=(Gt=Te(Gt,At)?[Gt]:hi(Gt)).length;At!=null&&oe<ae;)At=At[Qt(Gt[oe++])];return oe&&oe==ae?At:void 0}function ki(At,Gt){return At!=null&&Gt in Object(At)}function Ae(At,Gt,oe,ae,Ie){return At===Gt||(At==null||Gt==null||!br(At)&&!rn(Gt)?At!=At&&Gt!=Gt:function(li,oi,ur,ji,Di,Ni){var Pn=Pe(li),nr=Pe(oi),kr="[object Array]",jr="[object Array]";Pn||(kr=(kr=Ur(li))==n?s:kr),nr||(jr=(jr=Ur(oi))==n?s:jr);var So=kr==s&&!W(li),ns=jr==s&&!W(oi),xs=kr==jr;if(xs&&!So)return Ni||(Ni=new kt),Pn||Wn(li)?be(li,oi,ur,ji,Di,Ni):function(Tr,Dr,Ss,Dl,rd,us,qs){switch(Ss){case"[object DataView]":if(Tr.byteLength!=Dr.byteLength||Tr.byteOffset!=Dr.byteOffset)return!1;Tr=Tr.buffer,Dr=Dr.buffer;case"[object ArrayBuffer]":return!(Tr.byteLength!=Dr.byteLength||!Dl(new A(Tr),new A(Dr)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ui(+Tr,+Dr);case"[object Error]":return Tr.name==Dr.name&&Tr.message==Dr.message;case"[object RegExp]":case"[object String]":return Tr==Dr+"";case o:var tl=x;case a:var nd=2&us;if(tl||(tl=R),Tr.size!=Dr.size&&!nd)return!1;var eh=qs.get(Tr);if(eh)return eh==Dr;us|=1,qs.set(Tr,Dr);var Es=be(tl(Tr),tl(Dr),Dl,rd,us,qs);return qs.delete(Tr),Es;case"[object Symbol]":if(mt)return mt.call(Tr)==mt.call(Dr)}return!1}(li,oi,kr,ur,ji,Di,Ni);if(!(2&Di)){var so=So&&T.call(li,"__wrapped__"),la=ns&&T.call(oi,"__wrapped__");if(so||la){var ao=so?li.value():li,$s=la?oi.value():oi;return Ni||(Ni=new kt),ur(ao,$s,ji,Di,Ni)}}return xs?(Ni||(Ni=new kt),function(Tr,Dr,Ss,Dl,rd,us){var qs=2&rd,tl=Tn(Tr),nd=tl.length,eh=Tn(Dr).length;if(nd!=eh&&!qs)return!1;for(var Es=nd;Es--;){var fs=tl[Es];if(!(qs?fs in Dr:T.call(Dr,fs)))return!1}var od=us.get(Tr);if(od&&us.get(Dr))return od==Dr;var hc=!0;us.set(Tr,Dr),us.set(Dr,Tr);for(var Oo=qs;++Es<nd;){fs=tl[Es];var ih=Tr[fs],sd=Dr[fs];if(Dl)var qi=qs?Dl(sd,ih,fs,Dr,Tr,us):Dl(ih,sd,fs,Tr,Dr,us);if(!(qi===void 0?ih===sd||Ss(ih,sd,Dl,rd,us):qi)){hc=!1;break}Oo||(Oo=fs=="constructor")}if(hc&&!Oo){var rh=Tr.constructor,nh=Dr.constructor;rh==nh||!("constructor"in Tr)||!("constructor"in Dr)||typeof rh=="function"&&rh instanceof rh&&typeof nh=="function"&&nh instanceof nh||(hc=!1)}return us.delete(Tr),us.delete(Dr),hc}(li,oi,ur,ji,Di,Ni)):!1}(At,Gt,Ae,oe,ae,Ie))}function ni(At){return!(!br(At)||function(Gt){return!!U&&U in Gt}(At))&&(Wi(At)||W(At)?I:f).test(ee(At))}function Pi(At){return typeof At=="function"?At:At==null?po:typeof At=="object"?Pe(At)?function(ae,Ie){return Te(ae)&&Jn(Ie)?ue(Qt(ae),Ie):function(li){var oi=function(ur,ji,Di){var Ni=ur==null?void 0:fe(ur,ji);return Ni===void 0?Di:Ni}(li,ae);return oi===void 0&&oi===Ie?function(ur,ji){return ur!=null&&function(Di,Ni,Pn){Ni=Te(Ni,Di)?[Ni]:hi(Ni);for(var nr,kr=-1,jr=Ni.length;++kr<jr;){var So=Qt(Ni[kr]);if(!(nr=Di!=null&&Pn(Di,So)))break;Di=Di[So]}return nr||!!(jr=Di?Di.length:0)&&Ti(jr)&&We(So,jr)&&(Pe(Di)||Ye(Di))}(ur,ji,ki)}(li,ae):Ae(Ie,oi,void 0,3)}}(At[0],At[1]):function(ae){var Ie=function(li){for(var oi=Tn(li),ur=oi.length;ur--;){var ji=oi[ur],Di=li[ji];oi[ur]=[ji,Di,Jn(Di)]}return oi}(ae);return Ie.length==1&&Ie[0][2]?ue(Ie[0][0],Ie[0][1]):function(li){return li===ae||function(oi,ur,ji,Di){var Ni=ji.length,Pn=Ni,nr=!Di;if(oi==null)return!Pn;for(oi=Object(oi);Ni--;){var kr=ji[Ni];if(nr&&kr[2]?kr[1]!==oi[kr[0]]:!(kr[0]in oi))return!1}for(;++Ni<Pn;){var jr=(kr=ji[Ni])[0],So=oi[jr],ns=kr[1];if(nr&&kr[2]){if(So===void 0&&!(jr in oi))return!1}else{var xs=new kt;if(Di)var so=Di(So,ns,jr,oi,ur,xs);if(!(so===void 0?Ae(ns,So,Di,3,xs):so))return!1}}return!0}(li,ae,Ie)}}(At):Te(Gt=At)?(oe=Qt(Gt),function(ae){return ae?.[oe]}):function(ae){return function(Ie){return fe(Ie,ae)}}(Gt);var Gt,oe}function ti(At){if(oe=(Gt=At)&&Gt.constructor,ae=typeof oe=="function"&&oe.prototype||S,Gt!==ae)return Z(At);var Gt,oe,ae,Ie=[];for(var li in Object(At))T.call(At,li)&&li!="constructor"&&Ie.push(li);return Ie}function hi(At){return Pe(At)?At:Ot(At)}function be(At,Gt,oe,ae,Ie,li){var oi=2&Ie,ur=At.length,ji=Gt.length;if(ur!=ji&&!(oi&&ji>ur))return!1;var Di=li.get(At);if(Di&&li.get(Gt))return Di==Gt;var Ni=-1,Pn=!0,nr=1&Ie?new Et:void 0;for(li.set(At,Gt),li.set(Gt,At);++Ni<ur;){var kr=At[Ni],jr=Gt[Ni];if(ae)var So=oi?ae(jr,kr,Ni,Gt,At,li):ae(kr,jr,Ni,At,Gt,li);if(So!==void 0){if(So)continue;Pn=!1;break}if(nr){if(!q(Gt,function(ns,xs){if(!nr.has(xs)&&(kr===ns||oe(kr,ns,ae,Ie,li)))return nr.add(xs)})){Pn=!1;break}}else if(kr!==jr&&!oe(kr,jr,ae,Ie,li)){Pn=!1;break}}return li.delete(At),li.delete(Gt),Pn}function ye(At,Gt){var oe,ae,Ie=At.__data__;return((ae=typeof(oe=Gt))=="string"||ae=="number"||ae=="symbol"||ae=="boolean"?oe!=="__proto__":oe===null)?Ie[typeof Gt=="string"?"string":"hash"]:Ie.map}function xe(At,Gt){var oe=function(ae,Ie){return ae?.[Ie]}(At,Gt);return ni(oe)?oe:void 0}var Ur=function(At){return B.call(At)};function We(At,Gt){return!!(Gt=Gt??9007199254740991)&&(typeof At=="number"||m.test(At))&&At>-1&&At%1==0&&At<Gt}function Te(At,Gt){if(Pe(At))return!1;var oe=typeof At;return!(oe!="number"&&oe!="symbol"&&oe!="boolean"&&At!=null&&!nn(At))||c.test(At)||!l.test(At)||Gt!=null&&At in Object(Gt)}function Jn(At){return At==At&&!br(At)}function ue(At,Gt){return function(oe){return oe!=null&&oe[At]===Gt&&(Gt!==void 0||At in Object(oe))}}(ct&&Ur(new ct(new ArrayBuffer(1)))!="[object DataView]"||tt&&Ur(new tt)!=o||nt&&Ur(nt.resolve())!="[object Promise]"||Ct&&Ur(new Ct)!=a||xt&&Ur(new xt)!="[object WeakMap]")&&(Ur=function(At){var Gt=B.call(At),oe=Gt==s?At.constructor:void 0,ae=oe?ee(oe):void 0;if(ae)switch(ae){case at:return"[object DataView]";case _t:return o;case J:return"[object Promise]";case et:return a;case lt:return"[object WeakMap]"}return Gt});var Ot=De(function(At){var Gt;At=(Gt=At)==null?"":function(ae){if(typeof ae=="string")return ae;if(nn(ae))return wt?wt.call(ae):"";var Ie=ae+"";return Ie=="0"&&1/ae==-1/0?"-0":Ie}(Gt);var oe=[];return d.test(At)&&oe.push(""),At.replace(h,function(ae,Ie,li,oi){oe.push(li?oi.replace(u,"$1"):Ie||ae)}),oe});function Qt(At){if(typeof At=="string"||nn(At))return At;var Gt=At+"";return Gt=="0"&&1/At==-1/0?"-0":Gt}function ee(At){if(At!=null){try{return N.call(At)}catch{}try{return At+""}catch{}}return""}var se,mi,Ee=(se=function(At,Gt,oe){T.call(At,oe)?At[oe].push(Gt):At[oe]=[Gt]},function(At,Gt){var oe=Pe(At)?L:Ut,ae=mi?mi():{};return oe(At,se,Pi(Gt),ae)});function De(At,Gt){if(typeof At!="function"||Gt&&typeof Gt!="function")throw new TypeError("Expected a function");var oe=function(){var ae=arguments,Ie=Gt?Gt.apply(this,ae):ae[0],li=oe.cache;if(li.has(Ie))return li.get(Ie);var oi=At.apply(this,ae);return oe.cache=li.set(Ie,oi),oi};return oe.cache=new(De.Cache||Mt),oe}function Ui(At,Gt){return At===Gt||At!=At&&Gt!=Gt}function Ye(At){return function(Gt){return rn(Gt)&&ar(Gt)}(At)&&T.call(At,"callee")&&(!k.call(At,"callee")||B.call(At)==n)}De.Cache=Mt;var Pe=Array.isArray;function ar(At){return At!=null&&Ti(At.length)&&!Wi(At)}function Wi(At){var Gt=br(At)?B.call(At):"";return Gt=="[object Function]"||Gt=="[object GeneratorFunction]"}function Ti(At){return typeof At=="number"&&At>-1&&At%1==0&&At<=9007199254740991}function br(At){var Gt=typeof At;return!!At&&(Gt=="object"||Gt=="function")}function rn(At){return!!At&&typeof At=="object"}function nn(At){return typeof At=="symbol"||rn(At)&&B.call(At)=="[object Symbol]"}var Wn=F?function(At){return function(Gt){return At(Gt)}}(F):function(At){return rn(At)&&Ti(At.length)&&!!g[B.call(At)]};function Tn(At){return ar(At)?zt(At):ti(At)}function po(At){return At}t.exports=Ee}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(e,t,r){"use strict";var i=Object.prototype.toString;t.exports=function(n){return n===!0||n===!1||function(o){return!!o&&typeof o=="object"}(n)&&i.call(n)=="[object Boolean]"}},{}],445:[function(e,t,r){(function(i){(function(){"use strict";var n="[object Arguments]",o="[object Map]",s="[object Object]",a="[object Set]",l=/^\[object .+?Constructor\]$/,c=/^(?:0|[1-9]\d*)$/,d={};d["[object Float32Array]"]=d["[object Float64Array]"]=d["[object Int8Array]"]=d["[object Int16Array]"]=d["[object Int32Array]"]=d["[object Uint8Array]"]=d["[object Uint8ClampedArray]"]=d["[object Uint16Array]"]=d["[object Uint32Array]"]=!0,d[n]=d["[object Array]"]=d["[object ArrayBuffer]"]=d["[object Boolean]"]=d["[object DataView]"]=d["[object Date]"]=d["[object Error]"]=d["[object Function]"]=d[o]=d["[object Number]"]=d[s]=d["[object RegExp]"]=d[a]=d["[object String]"]=d["[object WeakMap]"]=!1;var h=typeof i=="object"&&i&&i.Object===Object&&i,u=typeof self=="object"&&self&&self.Object===Object&&self,f=h||u||Function("return this")(),m=typeof r=="object"&&r&&!r.nodeType&&r,g=m&&typeof t=="object"&&t&&!t.nodeType&&t,p=g&&g.exports===m,b=p&&h.process,_=function(){try{return b&&b.binding&&b.binding("util")}catch{}}(),E=_&&_.isTypedArray;function O(Ot,Qt){for(var ee=-1,se=Ot==null?0:Ot.length;++ee<se;)if(Qt(Ot[ee],ee,Ot))return!0;return!1}function V(Ot){var Qt=-1,ee=Array(Ot.size);return Ot.forEach(function(se,mi){ee[++Qt]=[mi,se]}),ee}function H(Ot){var Qt=-1,ee=Array(Ot.size);return Ot.forEach(function(se){ee[++Qt]=se}),ee}var F,L,q,W=Array.prototype,x=Function.prototype,R=Object.prototype,j=f["__core-js_shared__"],v=x.toString,y=R.hasOwnProperty,C=(F=/[^.]+$/.exec(j&&j.keys&&j.keys.IE_PROTO||""))?"Symbol(src)_1."+F:"",w=R.toString,S=RegExp("^"+v.call(y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),M=p?f.Buffer:void 0,U=f.Symbol,N=f.Uint8Array,T=R.propertyIsEnumerable,B=W.splice,I=U?U.toStringTag:void 0,$=Object.getOwnPropertySymbols,A=M?M.isBuffer:void 0,k=(L=Object.keys,q=Object,function(Ot){return L(q(Ot))}),Y=fe(f,"DataView"),Z=fe(f,"Map"),ct=fe(f,"Promise"),tt=fe(f,"Set"),nt=fe(f,"WeakMap"),Ct=fe(Object,"create"),xt=Pi(Y),rt=Pi(Z),at=Pi(ct),_t=Pi(tt),J=Pi(nt),et=U?U.prototype:void 0,lt=et?et.valueOf:void 0;function ut(Ot){var Qt=-1,ee=Ot==null?0:Ot.length;for(this.clear();++Qt<ee;){var se=Ot[Qt];this.set(se[0],se[1])}}function mt(Ot){var Qt=-1,ee=Ot==null?0:Ot.length;for(this.clear();++Qt<ee;){var se=Ot[Qt];this.set(se[0],se[1])}}function wt(Ot){var Qt=-1,ee=Ot==null?0:Ot.length;for(this.clear();++Qt<ee;){var se=Ot[Qt];this.set(se[0],se[1])}}function vt(Ot){var Qt=-1,ee=Ot==null?0:Ot.length;for(this.__data__=new wt;++Qt<ee;)this.add(Ot[Qt])}function Rt(Ot){var Qt=this.__data__=new mt(Ot);this.size=Qt.size}function Mt(Ot,Qt){var ee=be(Ot),se=!ee&&hi(Ot),mi=!ee&&!se&&ye(Ot),Ee=!ee&&!se&&!mi&&Jn(Ot),De=ee||se||mi||Ee,Ui=De?function(ar,Wi){for(var Ti=-1,br=Array(ar);++Ti<ar;)br[Ti]=Wi(Ti);return br}(Ot.length,String):[],Ye=Ui.length;for(var Pe in Ot)!Qt&&!y.call(Ot,Pe)||De&&(Pe=="length"||mi&&(Pe=="offset"||Pe=="parent")||Ee&&(Pe=="buffer"||Pe=="byteLength"||Pe=="byteOffset")||ni(Pe,Ye))||Ui.push(Pe);return Ui}function Et(Ot,Qt){for(var ee=Ot.length;ee--;)if(ti(Ot[ee][0],Qt))return ee;return-1}function kt(Ot){return Ot==null?Ot===void 0?"[object Undefined]":"[object Null]":I&&I in Object(Ot)?function(Qt){var ee=y.call(Qt,I),se=Qt[I];try{Qt[I]=void 0;var mi=!0}catch{}var Ee=w.call(Qt);return mi&&(ee?Qt[I]=se:delete Qt[I]),Ee}(Ot):function(Qt){return w.call(Qt)}(Ot)}function zt(Ot){return Te(Ot)&&kt(Ot)==n}function Yt(Ot,Qt,ee,se,mi){return Ot===Qt||(Ot==null||Qt==null||!Te(Ot)&&!Te(Qt)?Ot!=Ot&&Qt!=Qt:function(Ee,De,Ui,Ye,Pe,ar){var Wi=be(Ee),Ti=be(De),br=Wi?"[object Array]":Ae(Ee),rn=Ti?"[object Array]":Ae(De),nn=(br=br==n?s:br)==s,Wn=(rn=rn==n?s:rn)==s,Tn=br==rn;if(Tn&&ye(Ee)){if(!ye(De))return!1;Wi=!0,nn=!1}if(Tn&&!nn)return ar||(ar=new Rt),Wi||Jn(Ee)?Zt(Ee,De,Ui,Ye,Pe,ar):function(ae,Ie,li,oi,ur,ji,Di){switch(li){case"[object DataView]":if(ae.byteLength!=Ie.byteLength||ae.byteOffset!=Ie.byteOffset)return!1;ae=ae.buffer,Ie=Ie.buffer;case"[object ArrayBuffer]":return!(ae.byteLength!=Ie.byteLength||!ji(new N(ae),new N(Ie)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ti(+ae,+Ie);case"[object Error]":return ae.name==Ie.name&&ae.message==Ie.message;case"[object RegExp]":case"[object String]":return ae==Ie+"";case o:var Ni=V;case a:var Pn=1&oi;if(Ni||(Ni=H),ae.size!=Ie.size&&!Pn)return!1;var nr=Di.get(ae);if(nr)return nr==Ie;oi|=2,Di.set(ae,Ie);var kr=Zt(Ni(ae),Ni(Ie),oi,ur,ji,Di);return Di.delete(ae),kr;case"[object Symbol]":if(lt)return lt.call(ae)==lt.call(Ie)}return!1}(Ee,De,br,Ui,Ye,Pe,ar);if(!(1&Ui)){var po=nn&&y.call(Ee,"__wrapped__"),At=Wn&&y.call(De,"__wrapped__");if(po||At){var Gt=po?Ee.value():Ee,oe=At?De.value():De;return ar||(ar=new Rt),Pe(Gt,oe,Ui,Ye,ar)}}return Tn?(ar||(ar=new Rt),function(ae,Ie,li,oi,ur,ji){var Di=1&li,Ni=Fe(ae),Pn=Ni.length,nr=Fe(Ie).length;if(Pn!=nr&&!Di)return!1;for(var kr=Pn;kr--;){var jr=Ni[kr];if(!(Di?jr in Ie:y.call(Ie,jr)))return!1}var So=ji.get(ae);if(So&&ji.get(Ie))return So==Ie;var ns=!0;ji.set(ae,Ie),ji.set(Ie,ae);for(var xs=Di;++kr<Pn;){jr=Ni[kr];var so=ae[jr],la=Ie[jr];if(oi)var ao=Di?oi(la,so,jr,Ie,ae,ji):oi(so,la,jr,ae,Ie,ji);if(!(ao===void 0?so===la||ur(so,la,li,oi,ji):ao)){ns=!1;break}xs||(xs=jr=="constructor")}if(ns&&!xs){var $s=ae.constructor,Tr=Ie.constructor;$s==Tr||!("constructor"in ae)||!("constructor"in Ie)||typeof $s=="function"&&$s instanceof $s&&typeof Tr=="function"&&Tr instanceof Tr||(ns=!1)}return ji.delete(ae),ji.delete(Ie),ns}(Ee,De,Ui,Ye,Pe,ar)):!1}(Ot,Qt,ee,se,Yt,mi))}function Ut(Ot){return!(!We(Ot)||function(Qt){return!!C&&C in Qt}(Ot))&&(xe(Ot)?S:l).test(Pi(Ot))}function ie(Ot){if(ee=(Qt=Ot)&&Qt.constructor,se=typeof ee=="function"&&ee.prototype||R,Qt!==se)return k(Ot);var Qt,ee,se,mi=[];for(var Ee in Object(Ot))y.call(Ot,Ee)&&Ee!="constructor"&&mi.push(Ee);return mi}function Zt(Ot,Qt,ee,se,mi,Ee){var De=1&ee,Ui=Ot.length,Ye=Qt.length;if(Ui!=Ye&&!(De&&Ye>Ui))return!1;var Pe=Ee.get(Ot);if(Pe&&Ee.get(Qt))return Pe==Qt;var ar=-1,Wi=!0,Ti=2&ee?new vt:void 0;for(Ee.set(Ot,Qt),Ee.set(Qt,Ot);++ar<Ui;){var br=Ot[ar],rn=Qt[ar];if(se)var nn=De?se(rn,br,ar,Qt,Ot,Ee):se(br,rn,ar,Ot,Qt,Ee);if(nn!==void 0){if(nn)continue;Wi=!1;break}if(Ti){if(!O(Qt,function(Wn,Tn){if(po=Tn,!Ti.has(po)&&(br===Wn||mi(br,Wn,ee,se,Ee)))return Ti.push(Tn);var po})){Wi=!1;break}}else if(br!==rn&&!mi(br,rn,ee,se,Ee)){Wi=!1;break}}return Ee.delete(Ot),Ee.delete(Qt),Wi}function Fe(Ot){return function(Qt,ee,se){var mi=ee(Qt);return be(Qt)?mi:function(Ee,De){for(var Ui=-1,Ye=De.length,Pe=Ee.length;++Ui<Ye;)Ee[Pe+Ui]=De[Ui];return Ee}(mi,se(Qt))}(Ot,ue,ki)}function le(Ot,Qt){var ee,se,mi=Ot.__data__;return((se=typeof(ee=Qt))=="string"||se=="number"||se=="symbol"||se=="boolean"?ee!=="__proto__":ee===null)?mi[typeof Qt=="string"?"string":"hash"]:mi.map}function fe(Ot,Qt){var ee=function(se,mi){return se?.[mi]}(Ot,Qt);return Ut(ee)?ee:void 0}ut.prototype.clear=function(){this.__data__=Ct?Ct(null):{},this.size=0},ut.prototype.delete=function(Ot){var Qt=this.has(Ot)&&delete this.__data__[Ot];return this.size-=Qt?1:0,Qt},ut.prototype.get=function(Ot){var Qt=this.__data__;if(Ct){var ee=Qt[Ot];return ee==="__lodash_hash_undefined__"?void 0:ee}return y.call(Qt,Ot)?Qt[Ot]:void 0},ut.prototype.has=function(Ot){var Qt=this.__data__;return Ct?Qt[Ot]!==void 0:y.call(Qt,Ot)},ut.prototype.set=function(Ot,Qt){var ee=this.__data__;return this.size+=this.has(Ot)?0:1,ee[Ot]=Ct&&Qt===void 0?"__lodash_hash_undefined__":Qt,this},mt.prototype.clear=function(){this.__data__=[],this.size=0},mt.prototype.delete=function(Ot){var Qt=this.__data__,ee=Et(Qt,Ot);return!(ee<0)&&(ee==Qt.length-1?Qt.pop():B.call(Qt,ee,1),--this.size,!0)},mt.prototype.get=function(Ot){var Qt=this.__data__,ee=Et(Qt,Ot);return ee<0?void 0:Qt[ee][1]},mt.prototype.has=function(Ot){return Et(this.__data__,Ot)>-1},mt.prototype.set=function(Ot,Qt){var ee=this.__data__,se=Et(ee,Ot);return se<0?(++this.size,ee.push([Ot,Qt])):ee[se][1]=Qt,this},wt.prototype.clear=function(){this.size=0,this.__data__={hash:new ut,map:new(Z||mt),string:new ut}},wt.prototype.delete=function(Ot){var Qt=le(this,Ot).delete(Ot);return this.size-=Qt?1:0,Qt},wt.prototype.get=function(Ot){return le(this,Ot).get(Ot)},wt.prototype.has=function(Ot){return le(this,Ot).has(Ot)},wt.prototype.set=function(Ot,Qt){var ee=le(this,Ot),se=ee.size;return ee.set(Ot,Qt),this.size+=ee.size==se?0:1,this},vt.prototype.add=vt.prototype.push=function(Ot){return this.__data__.set(Ot,"__lodash_hash_undefined__"),this},vt.prototype.has=function(Ot){return this.__data__.has(Ot)},Rt.prototype.clear=function(){this.__data__=new mt,this.size=0},Rt.prototype.delete=function(Ot){var Qt=this.__data__,ee=Qt.delete(Ot);return this.size=Qt.size,ee},Rt.prototype.get=function(Ot){return this.__data__.get(Ot)},Rt.prototype.has=function(Ot){return this.__data__.has(Ot)},Rt.prototype.set=function(Ot,Qt){var ee=this.__data__;if(ee instanceof mt){var se=ee.__data__;if(!Z||se.length<199)return se.push([Ot,Qt]),this.size=++ee.size,this;ee=this.__data__=new wt(se)}return ee.set(Ot,Qt),this.size=ee.size,this};var ki=$?function(Ot){return Ot==null?[]:(Ot=Object(Ot),function(Qt,ee){for(var se=-1,mi=Qt==null?0:Qt.length,Ee=0,De=[];++se<mi;){var Ui=Qt[se];ee(Ui,se,Qt)&&(De[Ee++]=Ui)}return De}($(Ot),function(Qt){return T.call(Ot,Qt)}))}:function(){return[]},Ae=kt;function ni(Ot,Qt){return!!(Qt=Qt??9007199254740991)&&(typeof Ot=="number"||c.test(Ot))&&Ot>-1&&Ot%1==0&&Ot<Qt}function Pi(Ot){if(Ot!=null){try{return v.call(Ot)}catch{}try{return Ot+""}catch{}}return""}function ti(Ot,Qt){return Ot===Qt||Ot!=Ot&&Qt!=Qt}(Y&&Ae(new Y(new ArrayBuffer(1)))!="[object DataView]"||Z&&Ae(new Z)!=o||ct&&Ae(ct.resolve())!="[object Promise]"||tt&&Ae(new tt)!=a||nt&&Ae(new nt)!="[object WeakMap]")&&(Ae=function(Ot){var Qt=kt(Ot),ee=Qt==s?Ot.constructor:void 0,se=ee?Pi(ee):"";if(se)switch(se){case xt:return"[object DataView]";case rt:return o;case at:return"[object Promise]";case _t:return a;case J:return"[object WeakMap]"}return Qt});var hi=zt(function(){return arguments}())?zt:function(Ot){return Te(Ot)&&y.call(Ot,"callee")&&!T.call(Ot,"callee")},be=Array.isArray,ye=A||function(){return!1};function xe(Ot){if(!We(Ot))return!1;var Qt=kt(Ot);return Qt=="[object Function]"||Qt=="[object GeneratorFunction]"||Qt=="[object AsyncFunction]"||Qt=="[object Proxy]"}function Ur(Ot){return typeof Ot=="number"&&Ot>-1&&Ot%1==0&&Ot<=9007199254740991}function We(Ot){var Qt=typeof Ot;return Ot!=null&&(Qt=="object"||Qt=="function")}function Te(Ot){return Ot!=null&&typeof Ot=="object"}var Jn=E?function(Ot){return function(Qt){return Ot(Qt)}}(E):function(Ot){return Te(Ot)&&Ur(Ot.length)&&!!d[kt(Ot)]};function ue(Ot){return(Qt=Ot)!=null&&Ur(Qt.length)&&!xe(Qt)?Mt(Ot):ie(Ot);var Qt}t.exports=function(Ot,Qt){return Yt(Ot,Qt)}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(e,t,r){(function(i){(function(){"use strict";var n=typeof i=="object"&&i&&i.Object===Object&&i,o=typeof self=="object"&&self&&self.Object===Object&&self,s=n||o||Function("return this")(),a=Object.prototype,l=a.hasOwnProperty,c=a.toString,d=s.Symbol,h=d?d.toStringTag:void 0;function u(f){return f==null?f===void 0?"[object Undefined]":"[object Null]":h&&h in Object(f)?function(m){var g=l.call(m,h),p=m[h];try{m[h]=void 0;var b=!0}catch{}var _=c.call(m);return b&&(g?m[h]=p:delete m[h]),_}(f):function(m){return c.call(m)}(f)}t.exports=function(f){if(!function(g){var p=typeof g;return g!=null&&(p=="object"||p=="function")}(f))return!1;var m=u(f);return m=="[object Function]"||m=="[object GeneratorFunction]"||m=="[object AsyncFunction]"||m=="[object Proxy]"}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(e,t,r){"use strict";t.exports=function(i){return i==null}},{}],448:[function(e,t,r){"use strict";t.exports=function(i){return i===void 0}},{}],449:[function(e,t,r){(function(i){(function(){"use strict";var n=/^\[object .+?Constructor\]$/,o=typeof i=="object"&&i&&i.Object===Object&&i,s=typeof self=="object"&&self&&self.Object===Object&&self,a=o||s||Function("return this")();function l(N,T){return!!(N&&N.length)&&function(B,I,$){if(I!=I)return function(Y,Z,ct,tt){for(var nt=Y.length,Ct=ct+(tt?1:-1);tt?Ct--:++Ct<nt;)if(Z(Y[Ct],Ct,Y))return Ct;return-1}(B,d,$);for(var A=$-1,k=B.length;++A<k;)if(B[A]===I)return A;return-1}(N,T,0)>-1}function c(N,T,B){for(var I=-1,$=N?N.length:0;++I<$;)if(B(T,N[I]))return!0;return!1}function d(N){return N!=N}function h(N,T){return N.has(T)}function u(N){var T=-1,B=Array(N.size);return N.forEach(function(I){B[++T]=I}),B}var f,m=Array.prototype,g=Function.prototype,p=Object.prototype,b=a["__core-js_shared__"],_=(f=/[^.]+$/.exec(b&&b.keys&&b.keys.IE_PROTO||""))?"Symbol(src)_1."+f:"",E=g.toString,O=p.hasOwnProperty,V=p.toString,H=RegExp("^"+E.call(O).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),F=m.splice,L=M(a,"Map"),q=M(a,"Set"),W=M(Object,"create");function x(N){var T=-1,B=N?N.length:0;for(this.clear();++T<B;){var I=N[T];this.set(I[0],I[1])}}function R(N){var T=-1,B=N?N.length:0;for(this.clear();++T<B;){var I=N[T];this.set(I[0],I[1])}}function j(N){var T=-1,B=N?N.length:0;for(this.clear();++T<B;){var I=N[T];this.set(I[0],I[1])}}function v(N){var T=-1,B=N?N.length:0;for(this.__data__=new j;++T<B;)this.add(N[T])}function y(N,T){for(var B,I,$=N.length;$--;)if((B=N[$][0])===(I=T)||B!=B&&I!=I)return $;return-1}function C(N){return!(!U(N)||(T=N,_&&_ in T))&&(function(B){var I=U(B)?V.call(B):"";return I=="[object Function]"||I=="[object GeneratorFunction]"}(N)||function(B){var I=!1;if(B!=null&&typeof B.toString!="function")try{I=!!(B+"")}catch{}return I}(N)?H:n).test(function(B){if(B!=null){try{return E.call(B)}catch{}try{return B+""}catch{}}return""}(N));var T}x.prototype.clear=function(){this.__data__=W?W(null):{}},x.prototype.delete=function(N){return this.has(N)&&delete this.__data__[N]},x.prototype.get=function(N){var T=this.__data__;if(W){var B=T[N];return B==="__lodash_hash_undefined__"?void 0:B}return O.call(T,N)?T[N]:void 0},x.prototype.has=function(N){var T=this.__data__;return W?T[N]!==void 0:O.call(T,N)},x.prototype.set=function(N,T){return this.__data__[N]=W&&T===void 0?"__lodash_hash_undefined__":T,this},R.prototype.clear=function(){this.__data__=[]},R.prototype.delete=function(N){var T=this.__data__,B=y(T,N);return!(B<0)&&(B==T.length-1?T.pop():F.call(T,B,1),!0)},R.prototype.get=function(N){var T=this.__data__,B=y(T,N);return B<0?void 0:T[B][1]},R.prototype.has=function(N){return y(this.__data__,N)>-1},R.prototype.set=function(N,T){var B=this.__data__,I=y(B,N);return I<0?B.push([N,T]):B[I][1]=T,this},j.prototype.clear=function(){this.__data__={hash:new x,map:new(L||R),string:new x}},j.prototype.delete=function(N){return S(this,N).delete(N)},j.prototype.get=function(N){return S(this,N).get(N)},j.prototype.has=function(N){return S(this,N).has(N)},j.prototype.set=function(N,T){return S(this,N).set(N,T),this},v.prototype.add=v.prototype.push=function(N){return this.__data__.set(N,"__lodash_hash_undefined__"),this},v.prototype.has=function(N){return this.__data__.has(N)};var w=q&&1/u(new q([,-0]))[1]==1/0?function(N){return new q(N)}:function(){};function S(N,T){var B,I,$=N.__data__;return((I=typeof(B=T))=="string"||I=="number"||I=="symbol"||I=="boolean"?B!=="__proto__":B===null)?$[typeof T=="string"?"string":"hash"]:$.map}function M(N,T){var B=function(I,$){return I?.[$]}(N,T);return C(B)?B:void 0}function U(N){var T=typeof N;return!!N&&(T=="object"||T=="function")}t.exports=function(N){return N&&N.length?function(T,B,I){var $=-1,A=l,k=T.length,Y=!0,Z=[],ct=Z;if(I)Y=!1,A=c;else if(k>=200){var tt=B?null:w(T);if(tt)return u(tt);Y=!1,A=h,ct=new v}else ct=B?[]:Z;t:for(;++$<k;){var nt=T[$],Ct=B?B(nt):nt;if(nt=I||nt!==0?nt:0,Y&&Ct==Ct){for(var xt=ct.length;xt--;)if(ct[xt]===Ct)continue t;B&&ct.push(Ct),Z.push(nt)}else A(ct,Ct,I)||(ct!==Z&&ct.push(Ct),Z.push(nt))}return Z}(N):[]}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(e,t,r){"use strict";var i=e("inherits"),n=e("hash-base"),o=e("safe-buffer").Buffer,s=new Array(16);function a(){n.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function l(f,m){return f<<m|f>>>32-m}function c(f,m,g,p,b,_,E){return l(f+(m&g|~m&p)+b+_|0,E)+m|0}function d(f,m,g,p,b,_,E){return l(f+(m&p|g&~p)+b+_|0,E)+m|0}function h(f,m,g,p,b,_,E){return l(f+(m^g^p)+b+_|0,E)+m|0}function u(f,m,g,p,b,_,E){return l(f+(g^(m|~p))+b+_|0,E)+m|0}i(a,n),a.prototype._update=function(){for(var f=s,m=0;m<16;++m)f[m]=this._block.readInt32LE(4*m);var g=this._a,p=this._b,b=this._c,_=this._d;g=c(g,p,b,_,f[0],3614090360,7),_=c(_,g,p,b,f[1],3905402710,12),b=c(b,_,g,p,f[2],606105819,17),p=c(p,b,_,g,f[3],3250441966,22),g=c(g,p,b,_,f[4],4118548399,7),_=c(_,g,p,b,f[5],1200080426,12),b=c(b,_,g,p,f[6],2821735955,17),p=c(p,b,_,g,f[7],4249261313,22),g=c(g,p,b,_,f[8],1770035416,7),_=c(_,g,p,b,f[9],2336552879,12),b=c(b,_,g,p,f[10],4294925233,17),p=c(p,b,_,g,f[11],2304563134,22),g=c(g,p,b,_,f[12],1804603682,7),_=c(_,g,p,b,f[13],4254626195,12),b=c(b,_,g,p,f[14],2792965006,17),g=d(g,p=c(p,b,_,g,f[15],1236535329,22),b,_,f[1],4129170786,5),_=d(_,g,p,b,f[6],3225465664,9),b=d(b,_,g,p,f[11],643717713,14),p=d(p,b,_,g,f[0],3921069994,20),g=d(g,p,b,_,f[5],3593408605,5),_=d(_,g,p,b,f[10],38016083,9),b=d(b,_,g,p,f[15],3634488961,14),p=d(p,b,_,g,f[4],3889429448,20),g=d(g,p,b,_,f[9],568446438,5),_=d(_,g,p,b,f[14],3275163606,9),b=d(b,_,g,p,f[3],4107603335,14),p=d(p,b,_,g,f[8],1163531501,20),g=d(g,p,b,_,f[13],2850285829,5),_=d(_,g,p,b,f[2],4243563512,9),b=d(b,_,g,p,f[7],1735328473,14),g=h(g,p=d(p,b,_,g,f[12],2368359562,20),b,_,f[5],4294588738,4),_=h(_,g,p,b,f[8],2272392833,11),b=h(b,_,g,p,f[11],1839030562,16),p=h(p,b,_,g,f[14],4259657740,23),g=h(g,p,b,_,f[1],2763975236,4),_=h(_,g,p,b,f[4],1272893353,11),b=h(b,_,g,p,f[7],4139469664,16),p=h(p,b,_,g,f[10],3200236656,23),g=h(g,p,b,_,f[13],681279174,4),_=h(_,g,p,b,f[0],3936430074,11),b=h(b,_,g,p,f[3],3572445317,16),p=h(p,b,_,g,f[6],76029189,23),g=h(g,p,b,_,f[9],3654602809,4),_=h(_,g,p,b,f[12],3873151461,11),b=h(b,_,g,p,f[15],530742520,16),g=u(g,p=h(p,b,_,g,f[2],3299628645,23),b,_,f[0],4096336452,6),_=u(_,g,p,b,f[7],1126891415,10),b=u(b,_,g,p,f[14],2878612391,15),p=u(p,b,_,g,f[5],4237533241,21),g=u(g,p,b,_,f[12],1700485571,6),_=u(_,g,p,b,f[3],2399980690,10),b=u(b,_,g,p,f[10],4293915773,15),p=u(p,b,_,g,f[1],2240044497,21),g=u(g,p,b,_,f[8],1873313359,6),_=u(_,g,p,b,f[15],4264355552,10),b=u(b,_,g,p,f[6],2734768916,15),p=u(p,b,_,g,f[13],1309151649,21),g=u(g,p,b,_,f[4],4149444226,6),_=u(_,g,p,b,f[11],3174756917,10),b=u(b,_,g,p,f[2],718787259,15),p=u(p,b,_,g,f[9],3951481745,21),this._a=this._a+g|0,this._b=this._b+p|0,this._c=this._c+b|0,this._d=this._d+_|0},a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var f=o.allocUnsafe(16);return f.writeInt32LE(this._a,0),f.writeInt32LE(this._b,4),f.writeInt32LE(this._c,8),f.writeInt32LE(this._d,12),f},t.exports=a},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(e,t,r){"use strict";var i=e("bn.js"),n=e("brorand");function o(s){this.rand=s||new n.Rand}t.exports=o,o.create=function(s){return new o(s)},o.prototype._randbelow=function(s){var a=s.bitLength(),l=Math.ceil(a/8);do var c=new i(this.rand.generate(l));while(c.cmp(s)>=0);return c},o.prototype._randrange=function(s,a){var l=a.sub(s);return s.add(this._randbelow(l))},o.prototype.test=function(s,a,l){var c=s.bitLength(),d=i.mont(s),h=new i(1).toRed(d);a||(a=Math.max(1,c/48|0));for(var u=s.subn(1),f=0;!u.testn(f);f++);for(var m=s.shrn(f),g=u.toRed(d);a>0;a--){var p=this._randrange(new i(2),u);l&&l(p);var b=p.toRed(d).redPow(m);if(b.cmp(h)!==0&&b.cmp(g)!==0){for(var _=1;_<f;_++){if((b=b.redSqr()).cmp(h)===0)return!1;if(b.cmp(g)===0)break}if(_===f)return!1}}return!0},o.prototype.getDivisor=function(s,a){var l=s.bitLength(),c=i.mont(s),d=new i(1).toRed(c);a||(a=Math.max(1,l/48|0));for(var h=s.subn(1),u=0;!h.testn(u);u++);for(var f=s.shrn(u),m=h.toRed(c);a>0;a--){var g=this._randrange(new i(2),h),p=s.gcd(g);if(p.cmpn(1)!==0)return p;var b=g.toRed(c).redPow(f);if(b.cmp(d)!==0&&b.cmp(m)!==0){for(var _=1;_<u;_++){if((b=b.redSqr()).cmp(d)===0)return b.fromRed().subn(1).gcd(s);if(b.cmp(m)===0)break}if(_===u)return(b=b.redSqr()).fromRed().subn(1).gcd(s)}}return!1}},{"bn.js":452,brorand:187}],452:[function(e,t,r){arguments[4][184][0].apply(r,arguments)},{buffer:188,dup:184}],453:[function(e,t,r){"use strict";function i(n,o){if(!n)throw new Error(o||"Assertion failed")}t.exports=i,i.equal=function(n,o,s){if(n!=o)throw new Error(s||"Assertion failed: "+n+" != "+o)}},{}],454:[function(e,t,r){"use strict";var i=r;function n(s){return s.length===1?"0"+s:s}function o(s){for(var a="",l=0;l<s.length;l++)a+=n(s[l].toString(16));return a}i.toArray=function(s,a){if(Array.isArray(s))return s.slice();if(!s)return[];var l=[];if(typeof s!="string"){for(var c=0;c<s.length;c++)l[c]=0|s[c];return l}if(a==="hex")for((s=s.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(s="0"+s),c=0;c<s.length;c+=2)l.push(parseInt(s[c]+s[c+1],16));else for(c=0;c<s.length;c++){var d=s.charCodeAt(c),h=d>>8,u=255&d;h?l.push(h,u):l.push(u)}return l},i.zero2=n,i.toHex=o,i.encode=function(s,a){return a==="hex"?o(s):s}},{}],455:[function(e,t,r){t.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(e,t,r){"use strict";var i=e("asn1.js");r.certificate=e("./certificate");var n=i.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});r.RSAPrivateKey=n;var o=i.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});r.RSAPublicKey=o;var s=i.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())});r.PublicKey=s;var a=i.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),l=i.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(a),this.key("subjectPrivateKey").octstr())});r.PrivateKey=l;var c=i.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});r.EncryptedPrivateKey=c;var d=i.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});r.DSAPrivateKey=d,r.DSAparam=i.define("DSAparam",function(){this.int()});var h=i.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(u),this.key("publicKey").optional().explicit(1).bitstr())});r.ECPrivateKey=h;var u=i.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});r.signature=i.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":457,"asn1.js":170}],457:[function(e,t,r){"use strict";var i=e("asn1.js"),n=i.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),o=i.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),s=i.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),a=i.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())}),l=i.define("RelativeDistinguishedName",function(){this.setof(o)}),c=i.define("RDNSequence",function(){this.seqof(l)}),d=i.define("Name",function(){this.choice({rdnSequence:this.use(c)})}),h=i.define("Validity",function(){this.seq().obj(this.key("notBefore").use(n),this.key("notAfter").use(n))}),u=i.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),f=i.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(s),this.key("issuer").use(d),this.key("validity").use(h),this.key("subject").use(d),this.key("subjectPublicKeyInfo").use(a),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(u).optional())}),m=i.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(f),this.key("signatureAlgorithm").use(s),this.key("signatureValue").bitstr())});t.exports=m},{"asn1.js":170}],458:[function(e,t,r){"use strict";var i=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,n=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,s=e("evp_bytestokey"),a=e("browserify-aes"),l=e("safe-buffer").Buffer;t.exports=function(c,d){var h,u=c.toString(),f=u.match(i);if(f){var m="aes"+f[1],g=l.from(f[2],"hex"),p=l.from(f[3].replace(/[\r\n]/g,""),"base64"),b=s(d,g.slice(0,8),parseInt(f[1],10)).key,_=[],E=a.createDecipheriv(m,b,g);_.push(E.update(p)),_.push(E.final()),h=l.concat(_)}else{var O=u.match(o);h=l.from(O[2].replace(/[\r\n]/g,""),"base64")}return{tag:u.match(n)[1],data:h}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(e,t,r){"use strict";var i=e("./asn1"),n=e("./aesid.json"),o=e("./fixProc"),s=e("browserify-aes"),a=e("pbkdf2"),l=e("safe-buffer").Buffer;function c(d){var h;typeof d!="object"||l.isBuffer(d)||(h=d.passphrase,d=d.key),typeof d=="string"&&(d=l.from(d));var u,f,m=o(d,h),g=m.tag,p=m.data;switch(g){case"CERTIFICATE":f=i.certificate.decode(p,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(f||(f=i.PublicKey.decode(p,"der")),u=f.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPublicKey.decode(f.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return f.subjectPrivateKey=f.subjectPublicKey,{type:"ec",data:f};case"1.2.840.10040.4.1":return f.algorithm.params.pub_key=i.DSAparam.decode(f.subjectPublicKey.data,"der"),{type:"dsa",data:f.algorithm.params};default:throw new Error("unknown key id "+u)}case"ENCRYPTED PRIVATE KEY":p=function(b,_){var E=b.algorithm.decrypt.kde.kdeparams.salt,O=parseInt(b.algorithm.decrypt.kde.kdeparams.iters.toString(),10),V=n[b.algorithm.decrypt.cipher.algo.join(".")],H=b.algorithm.decrypt.cipher.iv,F=b.subjectPrivateKey,L=parseInt(V.split("-")[1],10)/8,q=a.pbkdf2Sync(_,E,O,L,"sha1"),W=s.createDecipheriv(V,q,H),x=[];return x.push(W.update(F)),x.push(W.final()),l.concat(x)}(p=i.EncryptedPrivateKey.decode(p,"der"),h);case"PRIVATE KEY":switch(u=(f=i.PrivateKey.decode(p,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPrivateKey.decode(f.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:f.algorithm.curve,privateKey:i.ECPrivateKey.decode(f.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return f.algorithm.params.priv_key=i.DSAparam.decode(f.subjectPrivateKey,"der"),{type:"dsa",params:f.algorithm.params};default:throw new Error("unknown key id "+u)}case"RSA PUBLIC KEY":return i.RSAPublicKey.decode(p,"der");case"RSA PRIVATE KEY":return i.RSAPrivateKey.decode(p,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:i.DSAPrivateKey.decode(p,"der")};case"EC PRIVATE KEY":return{curve:(p=i.ECPrivateKey.decode(p,"der")).parameters.value,privateKey:p.privateKey};default:throw new Error("unknown key type "+g)}}t.exports=c,c.signature=i.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(e,t,r){"use strict";r.pbkdf2=e("./lib/async"),r.pbkdf2Sync=e("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(e,t,r){(function(i){(function(){"use strict";var n,o,s=e("safe-buffer").Buffer,a=e("./precondition"),l=e("./default-encoding"),c=e("./sync"),d=e("./to-buffer"),h=i.crypto&&i.crypto.subtle,u={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},f=[];function m(){return o||(o=i.process&&i.process.nextTick?i.process.nextTick:i.queueMicrotask?i.queueMicrotask:i.setImmediate?i.setImmediate:i.setTimeout)}function g(p,b,_,E,O){return h.importKey("raw",p,{name:"PBKDF2"},!1,["deriveBits"]).then(function(V){return h.deriveBits({name:"PBKDF2",salt:b,iterations:_,hash:{name:O}},V,E<<3)}).then(function(V){return s.from(V)})}t.exports=function(p,b,_,E,O,V){typeof O=="function"&&(V=O,O=void 0);var H=u[(O=O||"sha1").toLowerCase()];if(H&&typeof i.Promise=="function"){if(a(_,E),p=d(p,l,"Password"),b=d(b,l,"Salt"),typeof V!="function")throw new Error("No callback provided to pbkdf2");(function(F,L){F.then(function(q){m()(function(){L(null,q)})},function(q){m()(function(){L(q)})})})(function(F){if(i.process&&!i.process.browser||!h||!h.importKey||!h.deriveBits)return Promise.resolve(!1);if(f[F]!==void 0)return f[F];var L=g(n=n||s.alloc(8),n,10,128,F).then(function(){return!0}).catch(function(){return!1});return f[F]=L,L}(H).then(function(F){return F?g(p,b,_,E,H):c(p,b,_,E,O)}),V)}else m()(function(){var F;try{F=c(p,b,_,E,O)}catch(L){return V(L)}V(null,F)})}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(e,t,r){(function(i,n){(function(){"use strict";var o;n.process&&n.process.browser?o="utf-8":n.process&&n.process.version?o=parseInt(i.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":o="utf-8",t.exports=o}).call(this)}).call(this,e("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(e,t,r){"use strict";var i=Math.pow(2,30)-1;t.exports=function(n,o){if(typeof n!="number")throw new TypeError("Iterations not a number");if(n<0)throw new TypeError("Bad iterations");if(typeof o!="number")throw new TypeError("Key length not a number");if(o<0||o>i||o!=o)throw new TypeError("Bad key length")}},{}],464:[function(e,t,r){"use strict";var i=e("create-hash/md5"),n=e("ripemd160"),o=e("sha.js"),s=e("safe-buffer").Buffer,a=e("./precondition"),l=e("./default-encoding"),c=e("./to-buffer"),d=s.alloc(128),h={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function u(f,m,g){var p=function(H){function F(L){return o(H).update(L).digest()}return H==="rmd160"||H==="ripemd160"?function(L){return new n().update(L).digest()}:H==="md5"?i:F}(f),b=f==="sha512"||f==="sha384"?128:64;m.length>b?m=p(m):m.length<b&&(m=s.concat([m,d],b));for(var _=s.allocUnsafe(b+h[f]),E=s.allocUnsafe(b+h[f]),O=0;O<b;O++)_[O]=54^m[O],E[O]=92^m[O];var V=s.allocUnsafe(b+g+4);_.copy(V,0,0,b),this.ipad1=V,this.ipad2=_,this.opad=E,this.alg=f,this.blocksize=b,this.hash=p,this.size=h[f]}u.prototype.run=function(f,m){return f.copy(m,this.blocksize),this.hash(m).copy(this.opad,this.blocksize),this.hash(this.opad)},t.exports=function(f,m,g,p,b){a(g,p);var _=new u(b=b||"sha1",f=c(f,l,"Password"),(m=c(m,l,"Salt")).length),E=s.allocUnsafe(p),O=s.allocUnsafe(m.length+4);m.copy(O,0,0,m.length);for(var V=0,H=h[b],F=Math.ceil(p/H),L=1;L<=F;L++){O.writeUInt32BE(L,m.length);for(var q=_.run(O,_.ipad1),W=q,x=1;x<g;x++){W=_.run(W,_.ipad2);for(var R=0;R<H;R++)q[R]^=W[R]}q.copy(E,V),V+=H}return E}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(e,t,r){"use strict";var i=e("safe-buffer").Buffer;t.exports=function(n,o,s){if(i.isBuffer(n))return n;if(typeof n=="string")return i.from(n,o);if(ArrayBuffer.isView(n))return i.from(n.buffer);throw new TypeError(s+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(e,t,r){(function(i){(function(){"use strict";i===void 0||!i.version||i.version.indexOf("v0.")===0||i.version.indexOf("v1.")===0&&i.version.indexOf("v1.8.")!==0?t.exports={nextTick:function(n,o,s,a){if(typeof n!="function")throw new TypeError('"callback" argument must be a function');var l,c,d=arguments.length;switch(d){case 0:case 1:return i.nextTick(n);case 2:return i.nextTick(function(){n.call(null,o)});case 3:return i.nextTick(function(){n.call(null,o,s)});case 4:return i.nextTick(function(){n.call(null,o,s,a)});default:for(l=new Array(d-1),c=0;c<l.length;)l[c++]=arguments[c];return i.nextTick(function(){n.apply(null,l)})}}}:t.exports=i}).call(this)}).call(this,e("_process"))},{_process:467}],467:[function(e,t,r){"use strict";var i,n,o=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function l(b){if(i===setTimeout)return setTimeout(b,0);if((i===s||!i)&&setTimeout)return i=setTimeout,setTimeout(b,0);try{return i(b,0)}catch{try{return i.call(null,b,0)}catch{return i.call(this,b,0)}}}(function(){try{i=typeof setTimeout=="function"?setTimeout:s}catch{i=s}try{n=typeof clearTimeout=="function"?clearTimeout:a}catch{n=a}})();var c,d=[],h=!1,u=-1;function f(){h&&c&&(h=!1,c.length?d=c.concat(d):u=-1,d.length&&m())}function m(){if(!h){var b=l(f);h=!0;for(var _=d.length;_;){for(c=d,d=[];++u<_;)c&&c[u].run();u=-1,_=d.length}c=null,h=!1,function(E){if(n===clearTimeout)return clearTimeout(E);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(E);try{n(E)}catch{try{return n.call(null,E)}catch{return n.call(this,E)}}}(b)}}function g(b,_){this.fun=b,this.array=_}function p(){}o.nextTick=function(b){var _=new Array(arguments.length-1);if(arguments.length>1)for(var E=1;E<arguments.length;E++)_[E-1]=arguments[E];d.push(new g(b,_)),d.length!==1||h||l(m)},g.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=p,o.addListener=p,o.once=p,o.off=p,o.removeListener=p,o.removeAllListeners=p,o.emit=p,o.prependListener=p,o.prependOnceListener=p,o.listeners=function(b){return[]},o.binding=function(b){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(b){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],468:[function(e,t,r){"use strict";r.publicEncrypt=e("./publicEncrypt"),r.privateDecrypt=e("./privateDecrypt"),r.privateEncrypt=function(i,n){return r.publicEncrypt(i,n,!0)},r.publicDecrypt=function(i,n){return r.privateDecrypt(i,n,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(e,t,r){"use strict";var i=e("create-hash"),n=e("safe-buffer").Buffer;function o(s){var a=n.allocUnsafe(4);return a.writeUInt32BE(s,0),a}t.exports=function(s,a){for(var l,c=n.alloc(0),d=0;c.length<a;)l=o(d++),c=n.concat([c,i("sha1").update(s).update(l).digest()]);return c.slice(0,a)}},{"create-hash":386,"safe-buffer":494}],470:[function(e,t,r){arguments[4][184][0].apply(r,arguments)},{buffer:188,dup:184}],471:[function(e,t,r){"use strict";var i=e("parse-asn1"),n=e("./mgf"),o=e("./xor"),s=e("bn.js"),a=e("browserify-rsa"),l=e("create-hash"),c=e("./withPublic"),d=e("safe-buffer").Buffer;t.exports=function(h,u,f){var m;m=h.padding?h.padding:f?1:4;var g,p=i(h),b=p.modulus.byteLength();if(u.length>b||new s(u).cmp(p.modulus)>=0)throw new Error("decryption error");g=f?c(new s(u),p):a(u,p);var _=d.alloc(b-g.length);if(g=d.concat([_,g],b),m===4)return function(E,O){var V=E.modulus.byteLength(),H=l("sha1").update(d.alloc(0)).digest(),F=H.length;if(O[0]!==0)throw new Error("decryption error");var L=O.slice(1,F+1),q=O.slice(F+1),W=o(L,n(q,F)),x=o(q,n(W,V-F-1));if(function(j,v){j=d.from(j),v=d.from(v);var y=0,C=j.length;j.length!==v.length&&(y++,C=Math.min(j.length,v.length));for(var w=-1;++w<C;)y+=j[w]^v[w];return y}(H,x.slice(0,F)))throw new Error("decryption error");for(var R=F;x[R]===0;)R++;if(x[R++]!==1)throw new Error("decryption error");return x.slice(R)}(p,g);if(m===1)return function(E,O,V){for(var H=O.slice(0,2),F=2,L=0;O[F++]!==0;)if(F>=O.length){L++;break}var q=O.slice(2,F-1);if((H.toString("hex")!=="0002"&&!V||H.toString("hex")!=="0001"&&V)&&L++,q.length<8&&L++,L)throw new Error("decryption error");return O.slice(F)}(0,g,f);if(m===3)return g;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(e,t,r){"use strict";var i=e("parse-asn1"),n=e("randombytes"),o=e("create-hash"),s=e("./mgf"),a=e("./xor"),l=e("bn.js"),c=e("./withPublic"),d=e("browserify-rsa"),h=e("safe-buffer").Buffer;t.exports=function(u,f,m){var g;g=u.padding?u.padding:m?1:4;var p,b=i(u);if(g===4)p=function(_,E){var O=_.modulus.byteLength(),V=E.length,H=o("sha1").update(h.alloc(0)).digest(),F=H.length,L=2*F;if(V>O-L-2)throw new Error("message too long");var q=h.alloc(O-V-L-2),W=O-F-1,x=n(F),R=a(h.concat([H,q,h.alloc(1,1),E],W),s(x,W)),j=a(x,s(R,F));return new l(h.concat([h.alloc(1),j,R],O))}(b,f);else if(g===1)p=function(_,E,O){var V,H=E.length,F=_.modulus.byteLength();if(H>F-11)throw new Error("message too long");return V=O?h.alloc(F-H-3,255):function(L){for(var q,W=h.allocUnsafe(L),x=0,R=n(2*L),j=0;x<L;)j===R.length&&(R=n(2*L),j=0),(q=R[j++])&&(W[x++]=q);return W}(F-H-3),new l(h.concat([h.from([0,O?1:2]),V,h.alloc(1),E],F))}(b,f,m);else{if(g!==3)throw new Error("unknown padding");if((p=new l(f)).cmp(b.modulus)>=0)throw new Error("data too long for modulus")}return m?d(p,b):c(p,b)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(e,t,r){"use strict";var i=e("bn.js"),n=e("safe-buffer").Buffer;t.exports=function(o,s){return n.from(o.toRed(i.mont(s.modulus)).redPow(new i(s.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(e,t,r){"use strict";t.exports=function(i,n){for(var o=i.length,s=-1;++s<o;)i[s]^=n[s];return i}},{}],475:[function(e,t,r){(function(i,n){(function(){"use strict";var o=e("safe-buffer").Buffer,s=n.crypto||n.msCrypto;s&&s.getRandomValues?t.exports=function(a,l){if(a>4294967295)throw new RangeError("requested too many random bytes");var c=o.allocUnsafe(a);if(a>0)if(a>65536)for(var d=0;d<a;d+=65536)s.getRandomValues(c.slice(d,d+65536));else s.getRandomValues(c);return typeof l=="function"?i.nextTick(function(){l(null,c)}):c}:t.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,e("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(e,t,r){(function(i,n){(function(){"use strict";function o(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var s=e("safe-buffer"),a=e("randombytes"),l=s.Buffer,c=s.kMaxLength,d=n.crypto||n.msCrypto,h=Math.pow(2,32)-1;function u(g,p){if(typeof g!="number"||g!=g)throw new TypeError("offset must be a number");if(g>h||g<0)throw new TypeError("offset must be a uint32");if(g>c||g>p)throw new RangeError("offset out of range")}function f(g,p,b){if(typeof g!="number"||g!=g)throw new TypeError("size must be a number");if(g>h||g<0)throw new TypeError("size must be a uint32");if(g+p>b||g>c)throw new RangeError("buffer too small")}function m(g,p,b,_){if(i.browser){var E=g.buffer,O=new Uint8Array(E,p,b);return d.getRandomValues(O),_?void i.nextTick(function(){_(null,g)}):g}if(!_)return a(b).copy(g,p),g;a(b,function(V,H){if(V)return _(V);H.copy(g,p),_(null,g)})}d&&d.getRandomValues||!i.browser?(r.randomFill=function(g,p,b,_){if(!(l.isBuffer(g)||g instanceof n.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof p=="function")_=p,p=0,b=g.length;else if(typeof b=="function")_=b,b=g.length-p;else if(typeof _!="function")throw new TypeError('"cb" argument must be a function');return u(p,g.length),f(b,p,g.length),m(g,p,b,_)},r.randomFillSync=function(g,p,b){if(p===void 0&&(p=0),!(l.isBuffer(g)||g instanceof n.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return u(p,g.length),b===void 0&&(b=g.length-p),f(b,p,g.length),m(g,p,b)}):(r.randomFill=o,r.randomFillSync=o)}).call(this)}).call(this,e("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(e,t,r){"use strict";var i={};function n(s,a,l){l||(l=Error);var c=function(d){var h,u;function f(m,g,p){return d.call(this,function(b,_,E){return typeof a=="string"?a:a(b,_,E)}(m,g,p))||this}return u=d,(h=f).prototype=Object.create(u.prototype),h.prototype.constructor=h,h.__proto__=u,f}(l);c.prototype.name=l.name,c.prototype.code=s,i[s]=c}function o(s,a){if(Array.isArray(s)){var l=s.length;return s=s.map(function(c){return String(c)}),l>2?"one of ".concat(a," ").concat(s.slice(0,l-1).join(", "),", or ")+s[l-1]:l===2?"one of ".concat(a," ").concat(s[0]," or ").concat(s[1]):"of ".concat(a," ").concat(s[0])}return"of ".concat(a," ").concat(String(s))}n("ERR_INVALID_OPT_VALUE",function(s,a){return'The value "'+a+'" is invalid for option "'+s+'"'},TypeError),n("ERR_INVALID_ARG_TYPE",function(s,a,l){var c,d,h,u;if(typeof a=="string"&&(d="not ",a.substr(!h||h<0?0:+h,d.length)===d)?(c="must not be",a=a.replace(/^not /,"")):c="must be",function(m,g,p){return(p===void 0||p>m.length)&&(p=m.length),m.substring(p-g.length,p)===g}(s," argument"))u="The ".concat(s," ").concat(c," ").concat(o(a,"type"));else{var f=function(m,g,p){return typeof p!="number"&&(p=0),!(p+g.length>m.length)&&m.indexOf(g,p)!==-1}(s,".")?"property":"argument";u='The "'.concat(s,'" ').concat(f," ").concat(c," ").concat(o(a,"type"))}return u+=". Received type ".concat(typeof l)},TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",function(s){return"The "+s+" method is not implemented"}),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",function(s){return"Cannot call "+s+" after a stream was destroyed"}),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",function(s){return"Unknown encoding: "+s},TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=i},{}],478:[function(e,t,r){(function(i){(function(){"use strict";var n=Object.keys||function(f){var m=[];for(var g in f)m.push(g);return m};t.exports=d;var o=e("./_stream_readable"),s=e("./_stream_writable");e("inherits")(d,o);for(var a=n(s.prototype),l=0;l<a.length;l++){var c=a[l];d.prototype[c]||(d.prototype[c]=s.prototype[c])}function d(f){if(!(this instanceof d))return new d(f);o.call(this,f),s.call(this,f),this.allowHalfOpen=!0,f&&(f.readable===!1&&(this.readable=!1),f.writable===!1&&(this.writable=!1),f.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",h)))}function h(){this._writableState.ended||i.nextTick(u,this)}function u(f){f.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(d.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(d.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(f){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=f,this._writableState.destroyed=f)}})}).call(this)}).call(this,e("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(e,t,r){"use strict";t.exports=n;var i=e("./_stream_transform");function n(o){if(!(this instanceof n))return new n(o);i.call(this,o)}e("inherits")(n,i),n.prototype._transform=function(o,s,a){a(null,o)}},{"./_stream_transform":481,inherits:440}],480:[function(e,t,r){(function(i,n){(function(){"use strict";var o;t.exports=W,W.ReadableState=q,e("events").EventEmitter;var s=function(A,k){return A.listeners(k).length},a=e("./internal/streams/stream"),l=e("buffer").Buffer,c=(n!==void 0?n:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},d,h=e("util");d=h&&h.debuglog?h.debuglog("stream"):function(){};var u,f,m,g=e("./internal/streams/buffer_list"),p=e("./internal/streams/destroy"),b=e("./internal/streams/state").getHighWaterMark,_=e("../errors").codes,E=_.ERR_INVALID_ARG_TYPE,O=_.ERR_STREAM_PUSH_AFTER_EOF,V=_.ERR_METHOD_NOT_IMPLEMENTED,H=_.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(W,a);var F=p.errorOrDestroy,L=["error","close","destroy","pause","resume"];function q(A,k,Y){o=o||e("./_stream_duplex"),A=A||{},typeof Y!="boolean"&&(Y=k instanceof o),this.objectMode=!!A.objectMode,Y&&(this.objectMode=this.objectMode||!!A.readableObjectMode),this.highWaterMark=b(this,A,"readableHighWaterMark",Y),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=A.emitClose!==!1,this.autoDestroy=!!A.autoDestroy,this.destroyed=!1,this.defaultEncoding=A.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,A.encoding&&(u||(u=e("string_decoder/").StringDecoder),this.decoder=new u(A.encoding),this.encoding=A.encoding)}function W(A){if(o=o||e("./_stream_duplex"),!(this instanceof W))return new W(A);var k=this instanceof o;this._readableState=new q(A,this,k),this.readable=!0,A&&(typeof A.read=="function"&&(this._read=A.read),typeof A.destroy=="function"&&(this._destroy=A.destroy)),a.call(this)}function x(A,k,Y,Z,ct){d("readableAddChunk",k);var tt,nt=A._readableState;if(k===null)nt.reading=!1,function(Ct,xt){if(d("onEofChunk"),!xt.ended){if(xt.decoder){var rt=xt.decoder.end();rt&&rt.length&&(xt.buffer.push(rt),xt.length+=xt.objectMode?1:rt.length)}xt.ended=!0,xt.sync?v(Ct):(xt.needReadable=!1,xt.emittedReadable||(xt.emittedReadable=!0,y(Ct)))}}(A,nt);else if(ct||(tt=function(Ct,xt){var rt;at=xt,l.isBuffer(at)||at instanceof c||typeof xt=="string"||xt===void 0||Ct.objectMode||(rt=new E("chunk",["string","Buffer","Uint8Array"],xt));var at;return rt}(nt,k)),tt)F(A,tt);else if(nt.objectMode||k&&k.length>0)if(typeof k=="string"||nt.objectMode||Object.getPrototypeOf(k)===l.prototype||(k=function(Ct){return l.from(Ct)}(k)),Z)nt.endEmitted?F(A,new H):R(A,nt,k,!0);else if(nt.ended)F(A,new O);else{if(nt.destroyed)return!1;nt.reading=!1,nt.decoder&&!Y?(k=nt.decoder.write(k),nt.objectMode||k.length!==0?R(A,nt,k,!1):C(A,nt)):R(A,nt,k,!1)}else Z||(nt.reading=!1,C(A,nt));return!nt.ended&&(nt.length<nt.highWaterMark||nt.length===0)}function R(A,k,Y,Z){k.flowing&&k.length===0&&!k.sync?(k.awaitDrain=0,A.emit("data",Y)):(k.length+=k.objectMode?1:Y.length,Z?k.buffer.unshift(Y):k.buffer.push(Y),k.needReadable&&v(A)),C(A,k)}Object.defineProperty(W.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(A){this._readableState&&(this._readableState.destroyed=A)}}),W.prototype.destroy=p.destroy,W.prototype._undestroy=p.undestroy,W.prototype._destroy=function(A,k){k(A)},W.prototype.push=function(A,k){var Y,Z=this._readableState;return Z.objectMode?Y=!0:typeof A=="string"&&((k=k||Z.defaultEncoding)!==Z.encoding&&(A=l.from(A,k),k=""),Y=!0),x(this,A,k,!1,Y)},W.prototype.unshift=function(A){return x(this,A,null,!0,!1)},W.prototype.isPaused=function(){return this._readableState.flowing===!1},W.prototype.setEncoding=function(A){u||(u=e("string_decoder/").StringDecoder);var k=new u(A);this._readableState.decoder=k,this._readableState.encoding=this._readableState.decoder.encoding;for(var Y=this._readableState.buffer.head,Z="";Y!==null;)Z+=k.write(Y.data),Y=Y.next;return this._readableState.buffer.clear(),Z!==""&&this._readableState.buffer.push(Z),this._readableState.length=Z.length,this};function j(A,k){return A<=0||k.length===0&&k.ended?0:k.objectMode?1:A!=A?k.flowing&&k.length?k.buffer.head.data.length:k.length:(A>k.highWaterMark&&(k.highWaterMark=function(Y){return Y>=1073741824?Y=1073741824:(Y--,Y|=Y>>>1,Y|=Y>>>2,Y|=Y>>>4,Y|=Y>>>8,Y|=Y>>>16,Y++),Y}(A)),A<=k.length?A:k.ended?k.length:(k.needReadable=!0,0))}function v(A){var k=A._readableState;d("emitReadable",k.needReadable,k.emittedReadable),k.needReadable=!1,k.emittedReadable||(d("emitReadable",k.flowing),k.emittedReadable=!0,i.nextTick(y,A))}function y(A){var k=A._readableState;d("emitReadable_",k.destroyed,k.length,k.ended),k.destroyed||!k.length&&!k.ended||(A.emit("readable"),k.emittedReadable=!1),k.needReadable=!k.flowing&&!k.ended&&k.length<=k.highWaterMark,N(A)}function C(A,k){k.readingMore||(k.readingMore=!0,i.nextTick(w,A,k))}function w(A,k){for(;!k.reading&&!k.ended&&(k.length<k.highWaterMark||k.flowing&&k.length===0);){var Y=k.length;if(d("maybeReadMore read 0"),A.read(0),Y===k.length)break}k.readingMore=!1}function S(A){var k=A._readableState;k.readableListening=A.listenerCount("readable")>0,k.resumeScheduled&&!k.paused?k.flowing=!0:A.listenerCount("data")>0&&A.resume()}function M(A){d("readable nexttick read 0"),A.read(0)}function U(A,k){d("resume",k.reading),k.reading||A.read(0),k.resumeScheduled=!1,A.emit("resume"),N(A),k.flowing&&!k.reading&&A.read(0)}function N(A){var k=A._readableState;for(d("flow",k.flowing);k.flowing&&A.read()!==null;);}function T(A,k){return k.length===0?null:(k.objectMode?Y=k.buffer.shift():!A||A>=k.length?(Y=k.decoder?k.buffer.join(""):k.buffer.length===1?k.buffer.first():k.buffer.concat(k.length),k.buffer.clear()):Y=k.buffer.consume(A,k.decoder),Y);var Y}function B(A){var k=A._readableState;d("endReadable",k.endEmitted),k.endEmitted||(k.ended=!0,i.nextTick(I,k,A))}function I(A,k){if(d("endReadableNT",A.endEmitted,A.length),!A.endEmitted&&A.length===0&&(A.endEmitted=!0,k.readable=!1,k.emit("end"),A.autoDestroy)){var Y=k._writableState;(!Y||Y.autoDestroy&&Y.finished)&&k.destroy()}}function $(A,k){for(var Y=0,Z=A.length;Y<Z;Y++)if(A[Y]===k)return Y;return-1}W.prototype.read=function(A){d("read",A),A=parseInt(A,10);var k=this._readableState,Y=A;if(A!==0&&(k.emittedReadable=!1),A===0&&k.needReadable&&((k.highWaterMark!==0?k.length>=k.highWaterMark:k.length>0)||k.ended))return d("read: emitReadable",k.length,k.ended),k.length===0&&k.ended?B(this):v(this),null;if((A=j(A,k))===0&&k.ended)return k.length===0&&B(this),null;var Z,ct=k.needReadable;return d("need readable",ct),(k.length===0||k.length-A<k.highWaterMark)&&d("length less than watermark",ct=!0),k.ended||k.reading?d("reading or ended",ct=!1):ct&&(d("do read"),k.reading=!0,k.sync=!0,k.length===0&&(k.needReadable=!0),this._read(k.highWaterMark),k.sync=!1,k.reading||(A=j(Y,k))),(Z=A>0?T(A,k):null)===null?(k.needReadable=k.length<=k.highWaterMark,A=0):(k.length-=A,k.awaitDrain=0),k.length===0&&(k.ended||(k.needReadable=!0),Y!==A&&k.ended&&B(this)),Z!==null&&this.emit("data",Z),Z},W.prototype._read=function(A){F(this,new V("_read()"))},W.prototype.pipe=function(A,k){var Y=this,Z=this._readableState;switch(Z.pipesCount){case 0:Z.pipes=A;break;case 1:Z.pipes=[Z.pipes,A];break;default:Z.pipes.push(A)}Z.pipesCount+=1,d("pipe count=%d opts=%j",Z.pipesCount,k);var ct=(!k||k.end!==!1)&&A!==i.stdout&&A!==i.stderr?nt:et;function tt(lt,ut){d("onunpipe"),lt===Y&&ut&&ut.hasUnpiped===!1&&(ut.hasUnpiped=!0,d("cleanup"),A.removeListener("close",_t),A.removeListener("finish",J),A.removeListener("drain",Ct),A.removeListener("error",at),A.removeListener("unpipe",tt),Y.removeListener("end",nt),Y.removeListener("end",et),Y.removeListener("data",rt),xt=!0,!Z.awaitDrain||A._writableState&&!A._writableState.needDrain||Ct())}function nt(){d("onend"),A.end()}Z.endEmitted?i.nextTick(ct):Y.once("end",ct),A.on("unpipe",tt);var Ct=function(lt){return function(){var ut=lt._readableState;d("pipeOnDrain",ut.awaitDrain),ut.awaitDrain&&ut.awaitDrain--,ut.awaitDrain===0&&s(lt,"data")&&(ut.flowing=!0,N(lt))}}(Y);A.on("drain",Ct);var xt=!1;function rt(lt){d("ondata");var ut=A.write(lt);d("dest.write",ut),ut===!1&&((Z.pipesCount===1&&Z.pipes===A||Z.pipesCount>1&&$(Z.pipes,A)!==-1)&&!xt&&(d("false write response, pause",Z.awaitDrain),Z.awaitDrain++),Y.pause())}function at(lt){d("onerror",lt),et(),A.removeListener("error",at),s(A,"error")===0&&F(A,lt)}function _t(){A.removeListener("finish",J),et()}function J(){d("onfinish"),A.removeListener("close",_t),et()}function et(){d("unpipe"),Y.unpipe(A)}return Y.on("data",rt),function(lt,ut,mt){if(typeof lt.prependListener=="function")return lt.prependListener(ut,mt);lt._events&&lt._events[ut]?Array.isArray(lt._events[ut])?lt._events[ut].unshift(mt):lt._events[ut]=[mt,lt._events[ut]]:lt.on(ut,mt)}(A,"error",at),A.once("close",_t),A.once("finish",J),A.emit("pipe",Y),Z.flowing||(d("pipe resume"),Y.resume()),A},W.prototype.unpipe=function(A){var k=this._readableState,Y={hasUnpiped:!1};if(k.pipesCount===0)return this;if(k.pipesCount===1)return A&&A!==k.pipes||(A||(A=k.pipes),k.pipes=null,k.pipesCount=0,k.flowing=!1,A&&A.emit("unpipe",this,Y)),this;if(!A){var Z=k.pipes,ct=k.pipesCount;k.pipes=null,k.pipesCount=0,k.flowing=!1;for(var tt=0;tt<ct;tt++)Z[tt].emit("unpipe",this,{hasUnpiped:!1});return this}var nt=$(k.pipes,A);return nt===-1||(k.pipes.splice(nt,1),k.pipesCount-=1,k.pipesCount===1&&(k.pipes=k.pipes[0]),A.emit("unpipe",this,Y)),this},W.prototype.on=function(A,k){var Y=a.prototype.on.call(this,A,k),Z=this._readableState;return A==="data"?(Z.readableListening=this.listenerCount("readable")>0,Z.flowing!==!1&&this.resume()):A==="readable"&&(Z.endEmitted||Z.readableListening||(Z.readableListening=Z.needReadable=!0,Z.flowing=!1,Z.emittedReadable=!1,d("on readable",Z.length,Z.reading),Z.length?v(this):Z.reading||i.nextTick(M,this))),Y},W.prototype.addListener=W.prototype.on,W.prototype.removeListener=function(A,k){var Y=a.prototype.removeListener.call(this,A,k);return A==="readable"&&i.nextTick(S,this),Y},W.prototype.removeAllListeners=function(A){var k=a.prototype.removeAllListeners.apply(this,arguments);return A!=="readable"&&A!==void 0||i.nextTick(S,this),k},W.prototype.resume=function(){var A=this._readableState;return A.flowing||(d("resume"),A.flowing=!A.readableListening,function(k,Y){Y.resumeScheduled||(Y.resumeScheduled=!0,i.nextTick(U,k,Y))}(this,A)),A.paused=!1,this},W.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},W.prototype.wrap=function(A){var k=this,Y=this._readableState,Z=!1;for(var ct in A.on("end",function(){if(d("wrapped end"),Y.decoder&&!Y.ended){var nt=Y.decoder.end();nt&&nt.length&&k.push(nt)}k.push(null)}),A.on("data",function(nt){d("wrapped data"),Y.decoder&&(nt=Y.decoder.write(nt)),Y.objectMode&&nt==null||(Y.objectMode||nt&&nt.length)&&(k.push(nt)||(Z=!0,A.pause()))}),A)this[ct]===void 0&&typeof A[ct]=="function"&&(this[ct]=function(nt){return function(){return A[nt].apply(A,arguments)}}(ct));for(var tt=0;tt<L.length;tt++)A.on(L[tt],this.emit.bind(this,L[tt]));return this._read=function(nt){d("wrapped _read",nt),Z&&(Z=!1,A.resume())},this},typeof Symbol=="function"&&(W.prototype[Symbol.asyncIterator]=function(){return f===void 0&&(f=e("./internal/streams/async_iterator")),f(this)}),Object.defineProperty(W.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(W.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(W.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(A){this._readableState&&(this._readableState.flowing=A)}}),W._fromList=T,Object.defineProperty(W.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(W.from=function(A,k){return m===void 0&&(m=e("./internal/streams/from")),m(W,A,k)})}).call(this)}).call(this,e("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(e,t,r){"use strict";t.exports=d;var i=e("../errors").codes,n=i.ERR_METHOD_NOT_IMPLEMENTED,o=i.ERR_MULTIPLE_CALLBACK,s=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=i.ERR_TRANSFORM_WITH_LENGTH_0,l=e("./_stream_duplex");function c(f,m){var g=this._transformState;g.transforming=!1;var p=g.writecb;if(p===null)return this.emit("error",new o);g.writechunk=null,g.writecb=null,m!=null&&this.push(m),p(f);var b=this._readableState;b.reading=!1,(b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}function d(f){if(!(this instanceof d))return new d(f);l.call(this,f),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",h)}function h(){var f=this;typeof this._flush!="function"||this._readableState.destroyed?u(this,null,null):this._flush(function(m,g){u(f,m,g)})}function u(f,m,g){if(m)return f.emit("error",m);if(g!=null&&f.push(g),f._writableState.length)throw new a;if(f._transformState.transforming)throw new s;return f.push(null)}e("inherits")(d,l),d.prototype.push=function(f,m){return this._transformState.needTransform=!1,l.prototype.push.call(this,f,m)},d.prototype._transform=function(f,m,g){g(new n("_transform()"))},d.prototype._write=function(f,m,g){var p=this._transformState;if(p.writecb=g,p.writechunk=f,p.writeencoding=m,!p.transforming){var b=this._readableState;(p.needTransform||b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}},d.prototype._read=function(f){var m=this._transformState;m.writechunk===null||m.transforming?m.needTransform=!0:(m.transforming=!0,this._transform(m.writechunk,m.writeencoding,m.afterTransform))},d.prototype._destroy=function(f,m){l.prototype._destroy.call(this,f,function(g){m(g)})}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(e,t,r){(function(i,n){(function(){"use strict";function o(w){var S=this;this.next=null,this.entry=null,this.finish=function(){(function(M,U,N){var T=M.entry;for(M.entry=null;T;){var B=T.callback;U.pendingcb--,B(N),T=T.next}U.corkedRequestsFree.next=M})(S,w)}}var s;t.exports=W,W.WritableState=q;var a={deprecate:e("util-deprecate")},l=e("./internal/streams/stream"),c=e("buffer").Buffer,d=(n!==void 0?n:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},h,u=e("./internal/streams/destroy"),f=e("./internal/streams/state").getHighWaterMark,m=e("../errors").codes,g=m.ERR_INVALID_ARG_TYPE,p=m.ERR_METHOD_NOT_IMPLEMENTED,b=m.ERR_MULTIPLE_CALLBACK,_=m.ERR_STREAM_CANNOT_PIPE,E=m.ERR_STREAM_DESTROYED,O=m.ERR_STREAM_NULL_VALUES,V=m.ERR_STREAM_WRITE_AFTER_END,H=m.ERR_UNKNOWN_ENCODING,F=u.errorOrDestroy;function L(){}function q(w,S,M){s=s||e("./_stream_duplex"),w=w||{},typeof M!="boolean"&&(M=S instanceof s),this.objectMode=!!w.objectMode,M&&(this.objectMode=this.objectMode||!!w.writableObjectMode),this.highWaterMark=f(this,w,"writableHighWaterMark",M),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var U=w.decodeStrings===!1;this.decodeStrings=!U,this.defaultEncoding=w.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(N){(function(T,B){var I=T._writableState,$=I.sync,A=I.writecb;if(typeof A!="function")throw new b;if(function(Y){Y.writing=!1,Y.writecb=null,Y.length-=Y.writelen,Y.writelen=0}(I),B)(function(Y,Z,ct,tt,nt){--Z.pendingcb,ct?(i.nextTick(nt,tt),i.nextTick(C,Y,Z),Y._writableState.errorEmitted=!0,F(Y,tt)):(nt(tt),Y._writableState.errorEmitted=!0,F(Y,tt),C(Y,Z))})(T,I,$,B,A);else{var k=v(I)||T.destroyed;k||I.corked||I.bufferProcessing||!I.bufferedRequest||j(T,I),$?i.nextTick(R,T,I,k,A):R(T,I,k,A)}})(S,N)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=w.emitClose!==!1,this.autoDestroy=!!w.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function W(w){var S=this instanceof(s=s||e("./_stream_duplex"));if(!S&&!h.call(W,this))return new W(w);this._writableState=new q(w,this,S),this.writable=!0,w&&(typeof w.write=="function"&&(this._write=w.write),typeof w.writev=="function"&&(this._writev=w.writev),typeof w.destroy=="function"&&(this._destroy=w.destroy),typeof w.final=="function"&&(this._final=w.final)),l.call(this)}function x(w,S,M,U,N,T,B){S.writelen=U,S.writecb=B,S.writing=!0,S.sync=!0,S.destroyed?S.onwrite(new E("write")):M?w._writev(N,S.onwrite):w._write(N,T,S.onwrite),S.sync=!1}function R(w,S,M,U){M||function(N,T){T.length===0&&T.needDrain&&(T.needDrain=!1,N.emit("drain"))}(w,S),S.pendingcb--,U(),C(w,S)}function j(w,S){S.bufferProcessing=!0;var M=S.bufferedRequest;if(w._writev&&M&&M.next){var U=S.bufferedRequestCount,N=new Array(U),T=S.corkedRequestsFree;T.entry=M;for(var B=0,I=!0;M;)N[B]=M,M.isBuf||(I=!1),M=M.next,B+=1;N.allBuffers=I,x(w,S,!0,S.length,N,"",T.finish),S.pendingcb++,S.lastBufferedRequest=null,T.next?(S.corkedRequestsFree=T.next,T.next=null):S.corkedRequestsFree=new o(S),S.bufferedRequestCount=0}else{for(;M;){var $=M.chunk,A=M.encoding,k=M.callback;if(x(w,S,!1,S.objectMode?1:$.length,$,A,k),M=M.next,S.bufferedRequestCount--,S.writing)break}M===null&&(S.lastBufferedRequest=null)}S.bufferedRequest=M,S.bufferProcessing=!1}function v(w){return w.ending&&w.length===0&&w.bufferedRequest===null&&!w.finished&&!w.writing}function y(w,S){w._final(function(M){S.pendingcb--,M&&F(w,M),S.prefinished=!0,w.emit("prefinish"),C(w,S)})}function C(w,S){var M=v(S);if(M&&(function(N,T){T.prefinished||T.finalCalled||(typeof N._final!="function"||T.destroyed?(T.prefinished=!0,N.emit("prefinish")):(T.pendingcb++,T.finalCalled=!0,i.nextTick(y,N,T)))}(w,S),S.pendingcb===0&&(S.finished=!0,w.emit("finish"),S.autoDestroy))){var U=w._readableState;(!U||U.autoDestroy&&U.endEmitted)&&w.destroy()}return M}e("inherits")(W,l),q.prototype.getBuffer=function(){for(var w=this.bufferedRequest,S=[];w;)S.push(w),w=w.next;return S},function(){try{Object.defineProperty(q.prototype,"buffer",{get:a.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(h=Function.prototype[Symbol.hasInstance],Object.defineProperty(W,Symbol.hasInstance,{value:function(w){return!!h.call(this,w)||this===W&&w&&w._writableState instanceof q}})):h=function(w){return w instanceof this},W.prototype.pipe=function(){F(this,new _)},W.prototype.write=function(w,S,M){var U,N=this._writableState,T=!1,B=!N.objectMode&&(U=w,c.isBuffer(U)||U instanceof d);return B&&!c.isBuffer(w)&&(w=function(I){return c.from(I)}(w)),typeof S=="function"&&(M=S,S=null),B?S="buffer":S||(S=N.defaultEncoding),typeof M!="function"&&(M=L),N.ending?function(I,$){var A=new V;F(I,A),i.nextTick($,A)}(this,M):(B||function(I,$,A,k){var Y;return A===null?Y=new O:typeof A=="string"||$.objectMode||(Y=new g("chunk",["string","Buffer"],A)),!Y||(F(I,Y),i.nextTick(k,Y),!1)}(this,N,w,M))&&(N.pendingcb++,T=function(I,$,A,k,Y,Z){if(!A){var ct=function(xt,rt,at){return xt.objectMode||xt.decodeStrings===!1||typeof rt!="string"||(rt=c.from(rt,at)),rt}($,k,Y);k!==ct&&(A=!0,Y="buffer",k=ct)}var tt=$.objectMode?1:k.length;$.length+=tt;var nt=$.length<$.highWaterMark;if(nt||($.needDrain=!0),$.writing||$.corked){var Ct=$.lastBufferedRequest;$.lastBufferedRequest={chunk:k,encoding:Y,isBuf:A,callback:Z,next:null},Ct?Ct.next=$.lastBufferedRequest:$.bufferedRequest=$.lastBufferedRequest,$.bufferedRequestCount+=1}else x(I,$,!1,tt,k,Y,Z);return nt}(this,N,B,w,S,M)),T},W.prototype.cork=function(){this._writableState.corked++},W.prototype.uncork=function(){var w=this._writableState;w.corked&&(w.corked--,w.writing||w.corked||w.bufferProcessing||!w.bufferedRequest||j(this,w))},W.prototype.setDefaultEncoding=function(w){if(typeof w=="string"&&(w=w.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((w+"").toLowerCase())>-1))throw new H(w);return this._writableState.defaultEncoding=w,this},Object.defineProperty(W.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(W.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),W.prototype._write=function(w,S,M){M(new p("_write()"))},W.prototype._writev=null,W.prototype.end=function(w,S,M){var U=this._writableState;return typeof w=="function"?(M=w,w=null,S=null):typeof S=="function"&&(M=S,S=null),w!=null&&this.write(w,S),U.corked&&(U.corked=1,this.uncork()),U.ending||function(N,T,B){T.ending=!0,C(N,T),B&&(T.finished?i.nextTick(B):N.once("finish",B)),T.ended=!0,N.writable=!1}(this,U,M),this},Object.defineProperty(W.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(W.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(w){this._writableState&&(this._writableState.destroyed=w)}}),W.prototype.destroy=u.destroy,W.prototype._undestroy=u.undestroy,W.prototype._destroy=function(w,S){S(w)}}).call(this)}).call(this,e("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(e,t,r){(function(i){(function(){"use strict";var n;function o(E,O,V){return(O=function(H){var F=function(L,q){if(typeof L!="object"||L===null)return L;var W=L[Symbol.toPrimitive];if(W!==void 0){var x=W.call(L,q||"default");if(typeof x!="object")return x;throw new TypeError("@@toPrimitive must return a primitive value.")}return(q==="string"?String:Number)(L)}(H,"string");return typeof F=="symbol"?F:String(F)}(O))in E?Object.defineProperty(E,O,{value:V,enumerable:!0,configurable:!0,writable:!0}):E[O]=V,E}var s=e("./end-of-stream"),a=Symbol("lastResolve"),l=Symbol("lastReject"),c=Symbol("error"),d=Symbol("ended"),h=Symbol("lastPromise"),u=Symbol("handlePromise"),f=Symbol("stream");function m(E,O){return{value:E,done:O}}function g(E){var O=E[a];if(O!==null){var V=E[f].read();V!==null&&(E[h]=null,E[a]=null,E[l]=null,O(m(V,!1)))}}function p(E){i.nextTick(g,E)}var b=Object.getPrototypeOf(function(){}),_=Object.setPrototypeOf((o(n={get stream(){return this[f]},next:function(){var E=this,O=this[c];if(O!==null)return Promise.reject(O);if(this[d])return Promise.resolve(m(void 0,!0));if(this[f].destroyed)return new Promise(function(L,q){i.nextTick(function(){E[c]?q(E[c]):L(m(void 0,!0))})});var V,H=this[h];if(H)V=new Promise(function(L,q){return function(W,x){L.then(function(){q[d]?W(m(void 0,!0)):q[u](W,x)},x)}}(H,this));else{var F=this[f].read();if(F!==null)return Promise.resolve(m(F,!1));V=new Promise(this[u])}return this[h]=V,V}},Symbol.asyncIterator,function(){return this}),o(n,"return",function(){var E=this;return new Promise(function(O,V){E[f].destroy(null,function(H){H?V(H):O(m(void 0,!0))})})}),n),b);t.exports=function(E){var O,V=Object.create(_,(o(O={},f,{value:E,writable:!0}),o(O,a,{value:null,writable:!0}),o(O,l,{value:null,writable:!0}),o(O,c,{value:null,writable:!0}),o(O,d,{value:E._readableState.endEmitted,writable:!0}),o(O,u,{value:function(H,F){var L=V[f].read();L?(V[h]=null,V[a]=null,V[l]=null,H(m(L,!1))):(V[a]=H,V[l]=F)},writable:!0}),O));return V[h]=null,s(E,function(H){if(H&&H.code!=="ERR_STREAM_PREMATURE_CLOSE"){var F=V[l];return F!==null&&(V[h]=null,V[a]=null,V[l]=null,F(H)),void(V[c]=H)}var L=V[a];L!==null&&(V[h]=null,V[a]=null,V[l]=null,L(m(void 0,!0))),V[d]=!0}),E.on("readable",p.bind(null,V)),V}}).call(this)}).call(this,e("_process"))},{"./end-of-stream":486,_process:467}],484:[function(e,t,r){"use strict";function i(h,u){var f=Object.keys(h);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(h);u&&(m=m.filter(function(g){return Object.getOwnPropertyDescriptor(h,g).enumerable})),f.push.apply(f,m)}return f}function n(h){for(var u=1;u<arguments.length;u++){var f=arguments[u]!=null?arguments[u]:{};u%2?i(Object(f),!0).forEach(function(m){o(h,m,f[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(f)):i(Object(f)).forEach(function(m){Object.defineProperty(h,m,Object.getOwnPropertyDescriptor(f,m))})}return h}function o(h,u,f){return(u=a(u))in h?Object.defineProperty(h,u,{value:f,enumerable:!0,configurable:!0,writable:!0}):h[u]=f,h}function s(h,u){for(var f=0;f<u.length;f++){var m=u[f];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(h,a(m.key),m)}}function a(h){var u=function(f,m){if(typeof f!="object"||f===null)return f;var g=f[Symbol.toPrimitive];if(g!==void 0){var p=g.call(f,m||"default");if(typeof p!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(m==="string"?String:Number)(f)}(h,"string");return typeof u=="symbol"?u:String(u)}var l=e("buffer").Buffer,c=e("util").inspect,d=c&&c.custom||"inspect";t.exports=function(){function h(){(function(g,p){if(!(g instanceof p))throw new TypeError("Cannot call a class as a function")})(this,h),this.head=null,this.tail=null,this.length=0}var u,f,m;return u=h,(f=[{key:"push",value:function(g){var p={data:g,next:null};this.length>0?this.tail.next=p:this.head=p,this.tail=p,++this.length}},{key:"unshift",value:function(g){var p={data:g,next:this.head};this.length===0&&(this.tail=p),this.head=p,++this.length}},{key:"shift",value:function(){if(this.length!==0){var g=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,g}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(g){if(this.length===0)return"";for(var p=this.head,b=""+p.data;p=p.next;)b+=g+p.data;return b}},{key:"concat",value:function(g){if(this.length===0)return l.alloc(0);for(var p,b,_,E=l.allocUnsafe(g>>>0),O=this.head,V=0;O;)p=O.data,b=E,_=V,l.prototype.copy.call(p,b,_),V+=O.data.length,O=O.next;return E}},{key:"consume",value:function(g,p){var b;return g<this.head.data.length?(b=this.head.data.slice(0,g),this.head.data=this.head.data.slice(g)):b=g===this.head.data.length?this.shift():p?this._getString(g):this._getBuffer(g),b}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(g){var p=this.head,b=1,_=p.data;for(g-=_.length;p=p.next;){var E=p.data,O=g>E.length?E.length:g;if(O===E.length?_+=E:_+=E.slice(0,g),(g-=O)==0){O===E.length?(++b,p.next?this.head=p.next:this.head=this.tail=null):(this.head=p,p.data=E.slice(O));break}++b}return this.length-=b,_}},{key:"_getBuffer",value:function(g){var p=l.allocUnsafe(g),b=this.head,_=1;for(b.data.copy(p),g-=b.data.length;b=b.next;){var E=b.data,O=g>E.length?E.length:g;if(E.copy(p,p.length-g,0,O),(g-=O)==0){O===E.length?(++_,b.next?this.head=b.next:this.head=this.tail=null):(this.head=b,b.data=E.slice(O));break}++_}return this.length-=_,p}},{key:d,value:function(g,p){return c(this,n(n({},p),{},{depth:0,customInspect:!1}))}}])&&s(u.prototype,f),m&&s(u,m),Object.defineProperty(u,"prototype",{writable:!1}),h}()},{buffer:220,util:188}],485:[function(e,t,r){(function(i){(function(){"use strict";function n(a,l){s(a,l),o(a)}function o(a){a._writableState&&!a._writableState.emitClose||a._readableState&&!a._readableState.emitClose||a.emit("close")}function s(a,l){a.emit("error",l)}t.exports={destroy:function(a,l){var c=this,d=this._readableState&&this._readableState.destroyed,h=this._writableState&&this._writableState.destroyed;return d||h?(l?l(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(s,this,a)):i.nextTick(s,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(u){!l&&u?c._writableState?c._writableState.errorEmitted?i.nextTick(o,c):(c._writableState.errorEmitted=!0,i.nextTick(n,c,u)):i.nextTick(n,c,u):l?(i.nextTick(o,c),l(u)):i.nextTick(o,c)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(a,l){var c=a._readableState,d=a._writableState;c&&c.autoDestroy||d&&d.autoDestroy?a.destroy(l):a.emit("error",l)}}}).call(this)}).call(this,e("_process"))},{_process:467}],486:[function(e,t,r){"use strict";var i=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function n(){}t.exports=function o(s,a,l){if(typeof a=="function")return o(s,null,a);a||(a={}),l=function(E){var O=!1;return function(){if(!O){O=!0;for(var V=arguments.length,H=new Array(V),F=0;F<V;F++)H[F]=arguments[F];E.apply(this,H)}}}(l||n);var c=a.readable||a.readable!==!1&&s.readable,d=a.writable||a.writable!==!1&&s.writable,h=function(){s.writable||f()},u=s._writableState&&s._writableState.finished,f=function(){d=!1,u=!0,c||l.call(s)},m=s._readableState&&s._readableState.endEmitted,g=function(){c=!1,m=!0,d||l.call(s)},p=function(E){l.call(s,E)},b=function(){var E;return c&&!m?(s._readableState&&s._readableState.ended||(E=new i),l.call(s,E)):d&&!u?(s._writableState&&s._writableState.ended||(E=new i),l.call(s,E)):void 0},_=function(){s.req.on("finish",f)};return function(E){return E.setHeader&&typeof E.abort=="function"}(s)?(s.on("complete",f),s.on("abort",b),s.req?_():s.on("request",_)):d&&!s._writableState&&(s.on("end",h),s.on("close",h)),s.on("end",g),s.on("finish",f),a.error!==!1&&s.on("error",p),s.on("close",b),function(){s.removeListener("complete",f),s.removeListener("abort",b),s.removeListener("request",_),s.req&&s.req.removeListener("finish",f),s.removeListener("end",h),s.removeListener("close",h),s.removeListener("finish",f),s.removeListener("end",g),s.removeListener("error",p),s.removeListener("close",b)}}},{"../../../errors":477}],487:[function(e,t,r){"use strict";t.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(e,t,r){"use strict";var i,n=e("../../../errors").codes,o=n.ERR_MISSING_ARGS,s=n.ERR_STREAM_DESTROYED;function a(u){if(u)throw u}function l(u,f,m,g){g=function(_){var E=!1;return function(){E||(E=!0,_.apply(void 0,arguments))}}(g);var p=!1;u.on("close",function(){p=!0}),i===void 0&&(i=e("./end-of-stream")),i(u,{readable:f,writable:m},function(_){if(_)return g(_);p=!0,g()});var b=!1;return function(_){if(!p&&!b)return b=!0,function(E){return E.setHeader&&typeof E.abort=="function"}(u)?u.abort():typeof u.destroy=="function"?u.destroy():void g(_||new s("pipe"))}}function c(u){u()}function d(u,f){return u.pipe(f)}function h(u){return u.length?typeof u[u.length-1]!="function"?a:u.pop():a}t.exports=function(){for(var u=arguments.length,f=new Array(u),m=0;m<u;m++)f[m]=arguments[m];var g,p=h(f);if(Array.isArray(f[0])&&(f=f[0]),f.length<2)throw new o("streams");var b=f.map(function(_,E){var O=E<f.length-1;return l(_,O,E>0,function(V){g||(g=V),V&&b.forEach(c),O||(b.forEach(c),p(g))})});return f.reduce(d)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(e,t,r){"use strict";var i=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(n,o,s,a){var l=function(c,d,h){return c.highWaterMark!=null?c.highWaterMark:d?c[h]:null}(o,a,s);if(l!=null){if(!isFinite(l)||Math.floor(l)!==l||l<0)throw new i(a?s:"highWaterMark",l);return Math.floor(l)}return n.objectMode?16:16384}}},{"../../../errors":477}],490:[function(e,t,r){"use strict";t.exports=e("events").EventEmitter},{events:422}],491:[function(e,t,r){"use strict";(r=t.exports=e("./lib/_stream_readable.js")).Stream=r,r.Readable=r,r.Writable=e("./lib/_stream_writable.js"),r.Duplex=e("./lib/_stream_duplex.js"),r.Transform=e("./lib/_stream_transform.js"),r.PassThrough=e("./lib/_stream_passthrough.js"),r.finished=e("./lib/internal/streams/end-of-stream.js"),r.pipeline=e("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(e,t,r){"use strict";var i=function(n){var o=Object.prototype,s=o.hasOwnProperty,a=Object.defineProperty||function(C,w,S){C[w]=S.value},l=typeof Symbol=="function"?Symbol:{},c=l.iterator||"@@iterator",d=l.asyncIterator||"@@asyncIterator",h=l.toStringTag||"@@toStringTag";function u(C,w,S){return Object.defineProperty(C,w,{value:S,enumerable:!0,configurable:!0,writable:!0}),C[w]}try{u({},"")}catch{u=function(w,S,M){return w[S]=M}}function f(C,w,S,M){var U=w&&w.prototype instanceof p?w:p,N=Object.create(U.prototype),T=new j(M||[]);return a(N,"_invoke",{value:q(C,S,T)}),N}function m(C,w,S){try{return{type:"normal",arg:C.call(w,S)}}catch(M){return{type:"throw",arg:M}}}n.wrap=f;var g={};function p(){}function b(){}function _(){}var E={};u(E,c,function(){return this});var O=Object.getPrototypeOf,V=O&&O(O(v([])));V&&V!==o&&s.call(V,c)&&(E=V);var H=_.prototype=p.prototype=Object.create(E);function F(C){["next","throw","return"].forEach(function(w){u(C,w,function(S){return this._invoke(w,S)})})}function L(C,w){var S;a(this,"_invoke",{value:function(M,U){function N(){return new w(function(T,B){(function I($,A,k,Y){var Z=m(C[$],C,A);if(Z.type!=="throw"){var ct=Z.arg,tt=ct.value;return tt&&typeof tt=="object"&&s.call(tt,"__await")?w.resolve(tt.__await).then(function(nt){I("next",nt,k,Y)},function(nt){I("throw",nt,k,Y)}):w.resolve(tt).then(function(nt){ct.value=nt,k(ct)},function(nt){return I("throw",nt,k,Y)})}Y(Z.arg)})(M,U,T,B)})}return S=S?S.then(N,N):N()}})}function q(C,w,S){var M="suspendedStart";return function(U,N){if(M==="executing")throw new Error("Generator is already running");if(M==="completed"){if(U==="throw")throw N;return y()}for(S.method=U,S.arg=N;;){var T=S.delegate;if(T){var B=W(T,S);if(B){if(B===g)continue;return B}}if(S.method==="next")S.sent=S._sent=S.arg;else if(S.method==="throw"){if(M==="suspendedStart")throw M="completed",S.arg;S.dispatchException(S.arg)}else S.method==="return"&&S.abrupt("return",S.arg);M="executing";var I=m(C,w,S);if(I.type==="normal"){if(M=S.done?"completed":"suspendedYield",I.arg===g)continue;return{value:I.arg,done:S.done}}I.type==="throw"&&(M="completed",S.method="throw",S.arg=I.arg)}}}function W(C,w){var S=w.method,M=C.iterator[S];if(M===void 0)return w.delegate=null,S==="throw"&&C.iterator.return&&(w.method="return",w.arg=void 0,W(C,w),w.method==="throw")||S!=="return"&&(w.method="throw",w.arg=new TypeError("The iterator does not provide a '"+S+"' method")),g;var U=m(M,C.iterator,w.arg);if(U.type==="throw")return w.method="throw",w.arg=U.arg,w.delegate=null,g;var N=U.arg;return N?N.done?(w[C.resultName]=N.value,w.next=C.nextLoc,w.method!=="return"&&(w.method="next",w.arg=void 0),w.delegate=null,g):N:(w.method="throw",w.arg=new TypeError("iterator result is not an object"),w.delegate=null,g)}function x(C){var w={tryLoc:C[0]};1 in C&&(w.catchLoc=C[1]),2 in C&&(w.finallyLoc=C[2],w.afterLoc=C[3]),this.tryEntries.push(w)}function R(C){var w=C.completion||{};w.type="normal",delete w.arg,C.completion=w}function j(C){this.tryEntries=[{tryLoc:"root"}],C.forEach(x,this),this.reset(!0)}function v(C){if(C){var w=C[c];if(w)return w.call(C);if(typeof C.next=="function")return C;if(!isNaN(C.length)){var S=-1,M=function U(){for(;++S<C.length;)if(s.call(C,S))return U.value=C[S],U.done=!1,U;return U.value=void 0,U.done=!0,U};return M.next=M}}return{next:y}}function y(){return{value:void 0,done:!0}}return b.prototype=_,a(H,"constructor",{value:_,configurable:!0}),a(_,"constructor",{value:b,configurable:!0}),b.displayName=u(_,h,"GeneratorFunction"),n.isGeneratorFunction=function(C){var w=typeof C=="function"&&C.constructor;return!!w&&(w===b||(w.displayName||w.name)==="GeneratorFunction")},n.mark=function(C){return Object.setPrototypeOf?Object.setPrototypeOf(C,_):(C.__proto__=_,u(C,h,"GeneratorFunction")),C.prototype=Object.create(H),C},n.awrap=function(C){return{__await:C}},F(L.prototype),u(L.prototype,d,function(){return this}),n.AsyncIterator=L,n.async=function(C,w,S,M,U){U===void 0&&(U=Promise);var N=new L(f(C,w,S,M),U);return n.isGeneratorFunction(w)?N:N.next().then(function(T){return T.done?T.value:N.next()})},F(H),u(H,h,"Generator"),u(H,c,function(){return this}),u(H,"toString",function(){return"[object Generator]"}),n.keys=function(C){var w=Object(C),S=[];for(var M in w)S.push(M);return S.reverse(),function U(){for(;S.length;){var N=S.pop();if(N in w)return U.value=N,U.done=!1,U}return U.done=!0,U}},n.values=v,j.prototype={constructor:j,reset:function(C){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(R),!C)for(var w in this)w.charAt(0)==="t"&&s.call(this,w)&&!isNaN(+w.slice(1))&&(this[w]=void 0)},stop:function(){this.done=!0;var C=this.tryEntries[0].completion;if(C.type==="throw")throw C.arg;return this.rval},dispatchException:function(C){if(this.done)throw C;var w=this;function S(I,$){return N.type="throw",N.arg=C,w.next=I,$&&(w.method="next",w.arg=void 0),!!$}for(var M=this.tryEntries.length-1;M>=0;--M){var U=this.tryEntries[M],N=U.completion;if(U.tryLoc==="root")return S("end");if(U.tryLoc<=this.prev){var T=s.call(U,"catchLoc"),B=s.call(U,"finallyLoc");if(T&&B){if(this.prev<U.catchLoc)return S(U.catchLoc,!0);if(this.prev<U.finallyLoc)return S(U.finallyLoc)}else if(T){if(this.prev<U.catchLoc)return S(U.catchLoc,!0)}else{if(!B)throw new Error("try statement without catch or finally");if(this.prev<U.finallyLoc)return S(U.finallyLoc)}}}},abrupt:function(C,w){for(var S=this.tryEntries.length-1;S>=0;--S){var M=this.tryEntries[S];if(M.tryLoc<=this.prev&&s.call(M,"finallyLoc")&&this.prev<M.finallyLoc){var U=M;break}}U&&(C==="break"||C==="continue")&&U.tryLoc<=w&&w<=U.finallyLoc&&(U=null);var N=U?U.completion:{};return N.type=C,N.arg=w,U?(this.method="next",this.next=U.finallyLoc,g):this.complete(N)},complete:function(C,w){if(C.type==="throw")throw C.arg;return C.type==="break"||C.type==="continue"?this.next=C.arg:C.type==="return"?(this.rval=this.arg=C.arg,this.method="return",this.next="end"):C.type==="normal"&&w&&(this.next=w),g},finish:function(C){for(var w=this.tryEntries.length-1;w>=0;--w){var S=this.tryEntries[w];if(S.finallyLoc===C)return this.complete(S.completion,S.afterLoc),R(S),g}},catch:function(C){for(var w=this.tryEntries.length-1;w>=0;--w){var S=this.tryEntries[w];if(S.tryLoc===C){var M=S.completion;if(M.type==="throw"){var U=M.arg;R(S)}return U}}throw new Error("illegal catch attempt")},delegateYield:function(C,w,S){return this.delegate={iterator:v(C),resultName:w,nextLoc:S},this.method==="next"&&(this.arg=void 0),g}},n}(typeof t=="object"?t.exports:{});try{regeneratorRuntime=i}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}},{}],493:[function(e,t,r){"use strict";var i=e("buffer").Buffer,n=e("inherits"),o=e("hash-base"),s=new Array(16),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],l=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],c=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],d=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],h=[0,1518500249,1859775393,2400959708,2840853838],u=[1352829926,1548603684,1836072691,2053994217,0];function f(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function m(O,V){return O<<V|O>>>32-V}function g(O,V,H,F,L,q,W,x){return m(O+(V^H^F)+q+W|0,x)+L|0}function p(O,V,H,F,L,q,W,x){return m(O+(V&H|~V&F)+q+W|0,x)+L|0}function b(O,V,H,F,L,q,W,x){return m(O+((V|~H)^F)+q+W|0,x)+L|0}function _(O,V,H,F,L,q,W,x){return m(O+(V&F|H&~F)+q+W|0,x)+L|0}function E(O,V,H,F,L,q,W,x){return m(O+(V^(H|~F))+q+W|0,x)+L|0}n(f,o),f.prototype._update=function(){for(var O=s,V=0;V<16;++V)O[V]=this._block.readInt32LE(4*V);for(var H=0|this._a,F=0|this._b,L=0|this._c,q=0|this._d,W=0|this._e,x=0|this._a,R=0|this._b,j=0|this._c,v=0|this._d,y=0|this._e,C=0;C<80;C+=1){var w,S;C<16?(w=g(H,F,L,q,W,O[a[C]],h[0],c[C]),S=E(x,R,j,v,y,O[l[C]],u[0],d[C])):C<32?(w=p(H,F,L,q,W,O[a[C]],h[1],c[C]),S=_(x,R,j,v,y,O[l[C]],u[1],d[C])):C<48?(w=b(H,F,L,q,W,O[a[C]],h[2],c[C]),S=b(x,R,j,v,y,O[l[C]],u[2],d[C])):C<64?(w=_(H,F,L,q,W,O[a[C]],h[3],c[C]),S=p(x,R,j,v,y,O[l[C]],u[3],d[C])):(w=E(H,F,L,q,W,O[a[C]],h[4],c[C]),S=g(x,R,j,v,y,O[l[C]],u[4],d[C])),H=W,W=q,q=m(L,10),L=F,F=w,x=y,y=v,v=m(j,10),j=R,R=S}var M=this._b+L+v|0;this._b=this._c+q+y|0,this._c=this._d+W+x|0,this._d=this._e+H+R|0,this._e=this._a+F+j|0,this._a=M},f.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var O=i.alloc?i.alloc(20):new i(20);return O.writeInt32LE(this._a,0),O.writeInt32LE(this._b,4),O.writeInt32LE(this._c,8),O.writeInt32LE(this._d,12),O.writeInt32LE(this._e,16),O},t.exports=f},{buffer:220,"hash-base":425,inherits:440}],494:[function(e,t,r){"use strict";var i=e("buffer"),n=i.Buffer;function o(a,l){for(var c in a)l[c]=a[c]}function s(a,l,c){return n(a,l,c)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=i:(o(i,r),r.Buffer=s),s.prototype=Object.create(n.prototype),o(n,s),s.from=function(a,l,c){if(typeof a=="number")throw new TypeError("Argument must not be a number");return n(a,l,c)},s.alloc=function(a,l,c){if(typeof a!="number")throw new TypeError("Argument must be a number");var d=n(a);return l!==void 0?typeof c=="string"?d.fill(l,c):d.fill(l):d.fill(0),d},s.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return n(a)},s.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return i.SlowBuffer(a)}},{buffer:220}],495:[function(e,t,r){(function(i){(function(){"use strict";var n,o=e("buffer"),s=o.Buffer,a={};for(n in o)o.hasOwnProperty(n)&&n!=="SlowBuffer"&&n!=="Buffer"&&(a[n]=o[n]);var l=a.Buffer={};for(n in s)s.hasOwnProperty(n)&&n!=="allocUnsafe"&&n!=="allocUnsafeSlow"&&(l[n]=s[n]);if(a.Buffer.prototype=s.prototype,l.from&&l.from!==Uint8Array.from||(l.from=function(c,d,h){if(typeof c=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof c);if(c&&c.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof c);return s(c,d,h)}),l.alloc||(l.alloc=function(c,d,h){if(typeof c!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof c);if(c<0||c>=2*(1<<30))throw new RangeError('The value "'+c+'" is invalid for option "size"');var u=s(c);return d&&d.length!==0?typeof h=="string"?u.fill(d,h):u.fill(d):u.fill(0),u}),!a.kStringMaxLength)try{a.kStringMaxLength=i.binding("buffer").kStringMaxLength}catch{}a.constants||(a.constants={MAX_LENGTH:a.kMaxLength},a.kStringMaxLength&&(a.constants.MAX_STRING_LENGTH=a.kStringMaxLength)),t.exports=a}).call(this)}).call(this,e("_process"))},{_process:467,buffer:220}],496:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});let i=e("xmlchars/xml/1.0/ed5"),n=e("xmlchars/xml/1.1/ed2"),o=e("xmlchars/xmlns/1.0/ed3");var s=i.isS,a=i.isChar,l=i.isNameStartChar,c=i.isNameChar,d=i.S_LIST,h=i.NAME_RE,u=n.isChar,f=o.isNCNameStartChar,m=o.isNCNameChar,g=o.NC_NAME_RE;let p="http://www.w3.org/XML/1998/namespace",b="http://www.w3.org/2000/xmlns/",_={__proto__:null,xml:p,xmlns:b},E={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},O=v=>v===34||v===39,V=[34,39],H=[...V,91,62],F=[...V,60,93],L=[61,63,...d],q=[...d,62,38,60];function W(v,y,C){switch(y){case"xml":C!==p&&v.fail(`xml prefix must be bound to ${p}.`);break;case"xmlns":C!==b&&v.fail(`xmlns prefix must be bound to ${b}.`)}switch(C){case b:v.fail(y===""?`the default namespace may not be set to ${C}.`:`may not assign a prefix (even "xmlns") to the URI ${b}.`);break;case p:switch(y){case"xml":break;case"":v.fail(`the default namespace may not be set to ${C}.`);break;default:v.fail("may not assign the xml namespace to another prefix.")}}}let x=v=>g.test(v),R=v=>h.test(v);r.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];let j={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};r.SaxesParser=class{constructor(v){this.opt=v??{},this.fragmentOpt=!!this.opt.fragment;let y=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,y){this.nameStartCheck=f,this.nameCheck=m,this.isName=x,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},_);let C=this.opt.additionalNamespaces;C!=null&&(function(w,S){for(let M of Object.keys(S))W(w,M,S[M])}(this,C),Object.assign(this.ns,C))}else this.nameStartCheck=l,this.nameCheck=c,this.isName=R,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var v;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];let{fragmentOpt:y}=this;this.state=y?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=y,this.xmlDeclPossible=!y,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:C}=this.opt;if(C===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");C="1.0"}this.setXMLVersion(C),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(E),(v=this.readyHandler)===null||v===void 0||v.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(v,y){this[j[v]]=y}off(v){this[j[v]]=void 0}makeError(v){var y;let C=(y=this.fileName)!==null&&y!==void 0?y:"";return this.trackPosition&&(C.length>0&&(C+=":"),C+=`${this.line}:${this.column}`),C.length>0&&(C+=": "),new Error(C+v)}fail(v){let y=this.makeError(v),C=this.errorHandler;if(C===void 0)throw y;return C(y),this}write(v){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let y=!1;v===null?(y=!0,v=""):typeof v=="object"&&(v=v.toString()),this.carriedFromPrevious!==void 0&&(v=`${this.carriedFromPrevious}${v}`,this.carriedFromPrevious=void 0);let C=v.length,w=v.charCodeAt(C-1);!y&&(w===13||w>=55296&&w<=56319)&&(this.carriedFromPrevious=v[C-1],C--,v=v.slice(0,C));let{stateTable:S}=this;for(this.chunk=v,this.i=0;this.i<C;)S[this.state].call(this);return this.chunkPosition+=C,y?this.end():this}close(){return this.write(null)}getCode10(){let{chunk:v,i:y}=this;if(this.prevI=y,this.i=y+1,y>=v.length)return-1;let C=v.charCodeAt(y);if(this.column++,C<55296){if(C>=32||C===9)return C;switch(C){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return v.charCodeAt(y+1)===10&&(this.i=y+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),C}}if(C>56319)return C>=57344&&C<=65533||this.fail("disallowed character."),C;let w=65536+1024*(C-55296)+(v.charCodeAt(y+1)-56320);return this.i=y+2,w>1114111&&this.fail("disallowed character."),w}getCode11(){let{chunk:v,i:y}=this;if(this.prevI=y,this.i=y+1,y>=v.length)return-1;let C=v.charCodeAt(y);if(this.column++,C<55296){if(C>31&&C<127||C>159&&C!==8232||C===9)return C;switch(C){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{let S=v.charCodeAt(y+1);S!==10&&S!==133||(this.i=y+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),C}}if(C>56319)return C>=57344&&C<=65533||this.fail("disallowed character."),C;let w=65536+1024*(C-55296)+(v.charCodeAt(y+1)-56320);return this.i=y+2,w>1114111&&this.fail("disallowed character."),w}getCodeNorm(){let v=this.getCode();return v===-2?10:v}unget(){this.i=this.prevI,this.column--}captureTo(v){let{i:y}=this,{chunk:C}=this;for(;;){let w=this.getCode(),S=w===-2,M=S?10:w;if(M===-1||v.includes(M))return this.text+=C.slice(y,this.prevI),M;S&&(this.text+=C.slice(y,this.prevI)+`
`,y=this.i)}}captureToChar(v){let{i:y}=this,{chunk:C}=this;for(;;){let w=this.getCode();switch(w){case-2:this.text+=C.slice(y,this.prevI)+`
`,y=this.i,w=10;break;case-1:return this.text+=C.slice(y),!1}if(w===v)return this.text+=C.slice(y,this.prevI),!0}}captureNameChars(){let{chunk:v,i:y}=this;for(;;){let C=this.getCode();if(C===-1)return this.name+=v.slice(y),-1;if(!c(C))return this.name+=v.slice(y,this.prevI),C===-2?10:C}}skipSpaces(){for(;;){let v=this.getCodeNorm();if(v===-1||!s(v))return v}}setXMLVersion(v){this.currentXMLVersion=v,v==="1.0"?(this.isChar=a,this.getCode=this.getCode10):(this.isChar=u,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){let v=this.i,y=this.skipSpaces();switch(this.prevI!==v&&(this.xmlDeclPossible=!1),y){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var v;let y=this.captureTo(H);switch(y){case 62:(v=this.doctypeHandler)===null||v===void 0||v.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(y),y===91?this.state=4:O(y)&&(this.state=3,this.q=y)}}sDoctypeQuote(){let v=this.q;this.captureToChar(v)&&(this.text+=String.fromCodePoint(v),this.q=null,this.state=2)}sDTD(){let v=this.captureTo(F);v!==-1&&(this.text+=String.fromCodePoint(v),v===93?this.state=2:v===60?this.state=6:O(v)&&(this.state=5,this.q=v))}sDTDQuoted(){let v=this.q;this.captureToChar(v)&&(this.text+=String.fromCodePoint(v),this.state=4,this.q=null)}sDTDOpenWaka(){let v=this.getCodeNorm();switch(this.text+=String.fromCodePoint(v),v){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){let v=String.fromCodePoint(this.getCodeNorm()),y=this.openWakaBang+=v;this.text+=v,y!=="-"&&(this.state=y==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){let v=this.getCodeNorm();this.text+=String.fromCodePoint(v),this.state=v===45?10:8}sDTDCommentEnded(){let v=this.getCodeNorm();this.text+=String.fromCodePoint(v),v===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){let v=this.getCodeNorm();this.text+=String.fromCodePoint(v),v===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:v}=this,{chunk:y}=this;t:for(;;)switch(this.getCode()){case-2:this.entity+=y.slice(v,this.prevI)+`
`,v=this.i;break;case 59:{let{entityReturnState:C}=this,w=this.entity+y.slice(v,this.prevI),S;this.state=C,w===""?(this.fail("empty entity name."),S="&;"):(S=this.parseEntity(w),this.entity=""),C===13&&this.textHandler===void 0||(this.text+=S);break t}case-1:this.entity+=y.slice(v);break t}}sOpenWaka(){let v=this.getCode();if(l(v))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(v){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var v;let y=this.getCodeNorm();y===45?(this.state=19,(v=this.commentHandler)===null||v===void 0||v.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(y),this.state=17)}sCommentEnded(){let v=this.getCodeNorm();v!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(v),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){let v=this.getCodeNorm();v===93?this.state=22:(this.text+="]"+String.fromCodePoint(v),this.state=20)}sCDataEnding2(){var v;let y=this.getCodeNorm();switch(y){case 62:(v=this.cdataHandler)===null||v===void 0||v.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(y),this.state=20}}sPIFirstChar(){let v=this.getCodeNorm();this.nameStartCheck(v)?(this.piTarget+=String.fromCodePoint(v),this.state=24):v===63||s(v)?(this.fail("processing instruction without a target."),this.state=v===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(v),this.state=24)}sPIRest(){let{chunk:v,i:y}=this;for(;;){let C=this.getCodeNorm();if(C===-1)return void(this.piTarget+=v.slice(y));if(!this.nameCheck(C)){this.piTarget+=v.slice(y,this.prevI);let w=C===63;w||s(C)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=w?33:27):this.state=w?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(C));break}}}sPIBody(){if(this.text.length===0){let v=this.getCodeNorm();v===63?this.state=26:s(v)||(this.text=String.fromCodePoint(v))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var v;let y=this.getCodeNorm();if(y===62){let{piTarget:C}=this;C.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(v=this.piHandler)===null||v===void 0||v.call(this,{target:C,body:this.text}),this.piTarget=this.text="",this.state=13}else y===63?this.text+="?":(this.text+="?"+String.fromCodePoint(y),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){let v=this.skipSpaces();v!==63?v!==-1&&(this.state=28,this.name=String.fromCodePoint(v)):this.state=33}sXMLDeclName(){let v=this.captureTo(L);if(v===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(s(v)||v===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=v===61?30:29}}sXMLDeclEq(){let v=this.getCodeNorm();if(v===63)return this.state=33,void this.fail("XML declaration is incomplete.");s(v)||(v!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){let v=this.getCodeNorm();if(v===63)return this.state=33,void this.fail("XML declaration is incomplete.");s(v)||(O(v)?this.q=v:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){let v=this.captureTo([this.q,63]);if(v===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(v===-1)return;let y=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];let C=y;this.xmlDecl.version=C,/^1\.[0-9]+$/.test(C)?this.opt.forceXMLVersion||this.setXMLVersion(C):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(y)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=y;break;case"standalone":y!=="yes"&&y!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=y}this.name="",this.state=32}sXMLDeclSeparator(){let v=this.getCodeNorm();v!==63?(s(v)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var v;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(v=this.xmldeclHandler)===null||v===void 0||v.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var v;let y=this.captureNameChars();if(y===-1)return;let C=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=C.ns=Object.create(null)),(v=this.openTagStartHandler)===null||v===void 0||v.call(this,C),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),y){case 62:this.openTag();break;case 47:this.state=35;break;default:s(y)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){let v=this.skipSpaces();v!==-1&&(l(v)?(this.unget(),this.state=37):v===62?this.openTag():v===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){let v=this.captureNameChars();v===61?this.state=39:s(v)?this.state=38:v===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):v!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){let v=this.skipSpaces();switch(v){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",v===62?this.openTag():l(v)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){let v=this.getCodeNorm();O(v)?(this.q=v,this.state=40):s(v)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){let{q:v,chunk:y}=this,{i:C}=this;for(;;)switch(this.getCode()){case v:return this.pushAttrib(this.name,this.text+y.slice(C,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=y.slice(C,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=y.slice(C,this.prevI)+" ",C=this.i;break;case 60:return this.text+=y.slice(C,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=y.slice(C))}}sAttribValueClosed(){let v=this.getCodeNorm();s(v)?this.state=36:v===62?this.openTag():v===47?this.state=35:l(v)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){let v=this.captureTo(q);switch(v){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",v===62?this.openTag():this.state=36}}sCloseTag(){let v=this.captureNameChars();v===62?this.closeTag():s(v)?this.state=44:v!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:v,forbiddenState:y}=this,{chunk:C,textHandler:w}=this;t:for(;;)switch(this.getCode()){case 60:if(this.state=15,w!==void 0){let{text:S}=this,M=C.slice(v,this.prevI);S.length!==0?(w(S+M),this.text=""):M.length!==0&&w(M)}y=0;break t;case 38:this.state=14,this.entityReturnState=13,w!==void 0&&(this.text+=C.slice(v,this.prevI)),y=0;break t;case 93:switch(y){case 0:y=1;break;case 1:y=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:y===2&&this.fail('the string "]]>" is disallowed in char data.'),y=0;break;case-2:w!==void 0&&(this.text+=C.slice(v,this.prevI)+`
`),v=this.i,y=0;break;case-1:w!==void 0&&(this.text+=C.slice(v));break t;default:y=0}this.forbiddenState=y}handleTextOutsideRoot(){let{i:v}=this,{chunk:y,textHandler:C}=this,w=!1;t:for(;;){let S=this.getCode();switch(S){case 60:if(this.state=15,C!==void 0){let{text:M}=this,U=y.slice(v,this.prevI);M.length!==0?(C(M+U),this.text=""):U.length!==0&&C(U)}break t;case 38:this.state=14,this.entityReturnState=13,C!==void 0&&(this.text+=y.slice(v,this.prevI)),w=!0;break t;case-2:C!==void 0&&(this.text+=y.slice(v,this.prevI)+`
`),v=this.i;break;case-1:C!==void 0&&(this.text+=y.slice(v));break t;default:s(S)||(w=!0)}}w&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(v,y){var C;let{prefix:w,local:S}=this.qname(v),M={name:v,prefix:w,local:S,value:y};if(this.attribList.push(M),(C=this.attributeHandler)===null||C===void 0||C.call(this,M),w==="xmlns"){let U=y.trim();this.currentXMLVersion==="1.0"&&U===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[S]=U,W(this,S,U)}else if(v==="xmlns"){let U=y.trim();this.topNS[""]=U,W(this,"",U)}}pushAttribPlain(v,y){var C;let w={name:v,value:y};this.attribList.push(w),(C=this.attributeHandler)===null||C===void 0||C.call(this,w)}end(){var v,y;this.sawRoot||this.fail("document must contain a root element.");let{tags:C}=this;for(;C.length>0;){let S=C.pop();this.fail("unclosed tag: "+S.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");let{text:w}=this;return w.length!==0&&((v=this.textHandler)===null||v===void 0||v.call(this,w),this.text=""),this._closed=!0,(y=this.endHandler)===null||y===void 0||y.call(this),this._init(),this}resolve(v){var y,C;let w=this.topNS[v];if(w!==void 0)return w;let{tags:S}=this;for(let M=S.length-1;M>=0;M--)if(w=S[M].ns[v],w!==void 0)return w;return w=this.ns[v],w!==void 0?w:(C=(y=this.opt).resolvePrefix)===null||C===void 0?void 0:C.call(y,v)}qname(v){let y=v.indexOf(":");if(y===-1)return{prefix:"",local:v};let C=v.slice(y+1),w=v.slice(0,y);return(w===""||C===""||C.includes(":"))&&this.fail(`malformed name: ${v}.`),{prefix:w,local:C}}processAttribsNS(){var v;let{attribList:y}=this,C=this.tag;{let{prefix:M,local:U}=this.qname(C.name);C.prefix=M,C.local=U;let N=C.uri=(v=this.resolve(M))!==null&&v!==void 0?v:"";M!==""&&(M==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),N===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(M)}.`),C.uri=M))}if(y.length===0)return;let{attributes:w}=C,S=new Set;for(let M of y){let{name:U,prefix:N,local:T}=M,B,I;N===""?(B=U==="xmlns"?b:"",I=U):(B=this.resolve(N),B===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(N)}.`),B=N),I=`{${B}}${T}`),S.has(I)&&this.fail(`duplicate attribute: ${I}.`),S.add(I),M.uri=B,w[U]=M}this.attribList=[]}processAttribsPlain(){let{attribList:v}=this,y=this.tag.attributes;for(let{name:C,value:w}of v)y[C]!==void 0&&this.fail(`duplicate attribute: ${C}.`),y[C]=w;this.attribList=[]}openTag(){var v;this.processAttribs();let{tags:y}=this,C=this.tag;C.isSelfClosing=!1,(v=this.openTagHandler)===null||v===void 0||v.call(this,C),y.push(C),this.state=13,this.name=""}openSelfClosingTag(){var v,y,C;this.processAttribs();let{tags:w}=this,S=this.tag;S.isSelfClosing=!0,(v=this.openTagHandler)===null||v===void 0||v.call(this,S),(y=this.closeTagHandler)===null||y===void 0||y.call(this,S),(this.tag=(C=w[w.length-1])!==null&&C!==void 0?C:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){let{tags:v,name:y}=this;if(this.state=13,this.name="",y==="")return this.fail("weird empty close tag."),void(this.text+="</>");let C=this.closeTagHandler,w=v.length;for(;w-- >0;){let S=this.tag=v.pop();if(this.topNS=S.ns,C?.(S),S.name===y)break;this.fail("unexpected close tag.")}w===0?this.closedRoot=!0:w<0&&(this.fail(`unmatched closing tag: ${y}.`),this.text+=`</${y}>`)}parseEntity(v){if(v[0]!=="#"){let C=this.ENTITIES[v];return C!==void 0?C:(this.fail(this.isName(v)?"undefined entity.":"disallowed character in entity name."),`&${v};`)}let y=NaN;return v[1]==="x"&&/^#x[0-9a-f]+$/i.test(v)?y=parseInt(v.slice(2),16):/^#[0-9]+$/.test(v)&&(y=parseInt(v.slice(1),10)),this.isChar(y)?String.fromCodePoint(y):(this.fail("malformed character entity."),`&${v};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(e,t,r){"use strict";var i=e("safe-buffer").Buffer;function n(o,s){this._block=i.alloc(o),this._finalSize=s,this._blockSize=o,this._len=0}n.prototype.update=function(o,s){typeof o=="string"&&(s=s||"utf8",o=i.from(o,s));for(var a=this._block,l=this._blockSize,c=o.length,d=this._len,h=0;h<c;){for(var u=d%l,f=Math.min(c-h,l-u),m=0;m<f;m++)a[u+m]=o[h+m];h+=f,(d+=f)%l==0&&this._update(a)}return this._len+=c,this},n.prototype.digest=function(o){var s=this._len%this._blockSize;this._block[s]=128,this._block.fill(0,s+1),s>=this._finalSize&&(this._update(this._block),this._block.fill(0));var a=8*this._len;if(a<=4294967295)this._block.writeUInt32BE(a,this._blockSize-4);else{var l=(4294967295&a)>>>0,c=(a-l)/4294967296;this._block.writeUInt32BE(c,this._blockSize-8),this._block.writeUInt32BE(l,this._blockSize-4)}this._update(this._block);var d=this._hash();return o?d.toString(o):d},n.prototype._update=function(){throw new Error("_update must be implemented by subclass")},t.exports=n},{"safe-buffer":494}],498:[function(e,t,r){"use strict";var i=t.exports=function(n){n=n.toLowerCase();var o=i[n];if(!o)throw new Error(n+" is not supported (we accept pull requests)");return new o};i.sha=e("./sha"),i.sha1=e("./sha1"),i.sha224=e("./sha224"),i.sha256=e("./sha256"),i.sha384=e("./sha384"),i.sha512=e("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(e,t,r){"use strict";var i=e("inherits"),n=e("./hash"),o=e("safe-buffer").Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function l(){this.init(),this._w=a,n.call(this,64,56)}function c(h){return h<<30|h>>>2}function d(h,u,f,m){return h===0?u&f|~u&m:h===2?u&f|u&m|f&m:u^f^m}i(l,n),l.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},l.prototype._update=function(h){for(var u,f=this._w,m=0|this._a,g=0|this._b,p=0|this._c,b=0|this._d,_=0|this._e,E=0;E<16;++E)f[E]=h.readInt32BE(4*E);for(;E<80;++E)f[E]=f[E-3]^f[E-8]^f[E-14]^f[E-16];for(var O=0;O<80;++O){var V=~~(O/20),H=0|((u=m)<<5|u>>>27)+d(V,g,p,b)+_+f[O]+s[V];_=b,b=p,p=c(g),g=m,m=H}this._a=m+this._a|0,this._b=g+this._b|0,this._c=p+this._c|0,this._d=b+this._d|0,this._e=_+this._e|0},l.prototype._hash=function(){var h=o.allocUnsafe(20);return h.writeInt32BE(0|this._a,0),h.writeInt32BE(0|this._b,4),h.writeInt32BE(0|this._c,8),h.writeInt32BE(0|this._d,12),h.writeInt32BE(0|this._e,16),h},t.exports=l},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(e,t,r){"use strict";var i=e("inherits"),n=e("./hash"),o=e("safe-buffer").Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function l(){this.init(),this._w=a,n.call(this,64,56)}function c(u){return u<<5|u>>>27}function d(u){return u<<30|u>>>2}function h(u,f,m,g){return u===0?f&m|~f&g:u===2?f&m|f&g|m&g:f^m^g}i(l,n),l.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},l.prototype._update=function(u){for(var f,m=this._w,g=0|this._a,p=0|this._b,b=0|this._c,_=0|this._d,E=0|this._e,O=0;O<16;++O)m[O]=u.readInt32BE(4*O);for(;O<80;++O)m[O]=(f=m[O-3]^m[O-8]^m[O-14]^m[O-16])<<1|f>>>31;for(var V=0;V<80;++V){var H=~~(V/20),F=c(g)+h(H,p,b,_)+E+m[V]+s[H]|0;E=_,_=b,b=d(p),p=g,g=F}this._a=g+this._a|0,this._b=p+this._b|0,this._c=b+this._c|0,this._d=_+this._d|0,this._e=E+this._e|0},l.prototype._hash=function(){var u=o.allocUnsafe(20);return u.writeInt32BE(0|this._a,0),u.writeInt32BE(0|this._b,4),u.writeInt32BE(0|this._c,8),u.writeInt32BE(0|this._d,12),u.writeInt32BE(0|this._e,16),u},t.exports=l},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(e,t,r){"use strict";var i=e("inherits"),n=e("./sha256"),o=e("./hash"),s=e("safe-buffer").Buffer,a=new Array(64);function l(){this.init(),this._w=a,o.call(this,64,56)}i(l,n),l.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},l.prototype._hash=function(){var c=s.allocUnsafe(28);return c.writeInt32BE(this._a,0),c.writeInt32BE(this._b,4),c.writeInt32BE(this._c,8),c.writeInt32BE(this._d,12),c.writeInt32BE(this._e,16),c.writeInt32BE(this._f,20),c.writeInt32BE(this._g,24),c},t.exports=l},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(e,t,r){"use strict";var i=e("inherits"),n=e("./hash"),o=e("safe-buffer").Buffer,s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);function l(){this.init(),this._w=a,n.call(this,64,56)}function c(m,g,p){return p^m&(g^p)}function d(m,g,p){return m&g|p&(m|g)}function h(m){return(m>>>2|m<<30)^(m>>>13|m<<19)^(m>>>22|m<<10)}function u(m){return(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7)}function f(m){return(m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3}i(l,n),l.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},l.prototype._update=function(m){for(var g,p=this._w,b=0|this._a,_=0|this._b,E=0|this._c,O=0|this._d,V=0|this._e,H=0|this._f,F=0|this._g,L=0|this._h,q=0;q<16;++q)p[q]=m.readInt32BE(4*q);for(;q<64;++q)p[q]=0|(((g=p[q-2])>>>17|g<<15)^(g>>>19|g<<13)^g>>>10)+p[q-7]+f(p[q-15])+p[q-16];for(var W=0;W<64;++W){var x=L+u(V)+c(V,H,F)+s[W]+p[W]|0,R=h(b)+d(b,_,E)|0;L=F,F=H,H=V,V=O+x|0,O=E,E=_,_=b,b=x+R|0}this._a=b+this._a|0,this._b=_+this._b|0,this._c=E+this._c|0,this._d=O+this._d|0,this._e=V+this._e|0,this._f=H+this._f|0,this._g=F+this._g|0,this._h=L+this._h|0},l.prototype._hash=function(){var m=o.allocUnsafe(32);return m.writeInt32BE(this._a,0),m.writeInt32BE(this._b,4),m.writeInt32BE(this._c,8),m.writeInt32BE(this._d,12),m.writeInt32BE(this._e,16),m.writeInt32BE(this._f,20),m.writeInt32BE(this._g,24),m.writeInt32BE(this._h,28),m},t.exports=l},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(e,t,r){"use strict";var i=e("inherits"),n=e("./sha512"),o=e("./hash"),s=e("safe-buffer").Buffer,a=new Array(160);function l(){this.init(),this._w=a,o.call(this,128,112)}i(l,n),l.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},l.prototype._hash=function(){var c=s.allocUnsafe(48);function d(h,u,f){c.writeInt32BE(h,f),c.writeInt32BE(u,f+4)}return d(this._ah,this._al,0),d(this._bh,this._bl,8),d(this._ch,this._cl,16),d(this._dh,this._dl,24),d(this._eh,this._el,32),d(this._fh,this._fl,40),c},t.exports=l},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(e,t,r){"use strict";var i=e("inherits"),n=e("./hash"),o=e("safe-buffer").Buffer,s=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=new Array(160);function l(){this.init(),this._w=a,n.call(this,128,112)}function c(_,E,O){return O^_&(E^O)}function d(_,E,O){return _&E|O&(_|E)}function h(_,E){return(_>>>28|E<<4)^(E>>>2|_<<30)^(E>>>7|_<<25)}function u(_,E){return(_>>>14|E<<18)^(_>>>18|E<<14)^(E>>>9|_<<23)}function f(_,E){return(_>>>1|E<<31)^(_>>>8|E<<24)^_>>>7}function m(_,E){return(_>>>1|E<<31)^(_>>>8|E<<24)^(_>>>7|E<<25)}function g(_,E){return(_>>>19|E<<13)^(E>>>29|_<<3)^_>>>6}function p(_,E){return(_>>>19|E<<13)^(E>>>29|_<<3)^(_>>>6|E<<26)}function b(_,E){return _>>>0<E>>>0?1:0}i(l,n),l.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},l.prototype._update=function(_){for(var E=this._w,O=0|this._ah,V=0|this._bh,H=0|this._ch,F=0|this._dh,L=0|this._eh,q=0|this._fh,W=0|this._gh,x=0|this._hh,R=0|this._al,j=0|this._bl,v=0|this._cl,y=0|this._dl,C=0|this._el,w=0|this._fl,S=0|this._gl,M=0|this._hl,U=0;U<32;U+=2)E[U]=_.readInt32BE(4*U),E[U+1]=_.readInt32BE(4*U+4);for(;U<160;U+=2){var N=E[U-30],T=E[U-30+1],B=f(N,T),I=m(T,N),$=g(N=E[U-4],T=E[U-4+1]),A=p(T,N),k=E[U-14],Y=E[U-14+1],Z=E[U-32],ct=E[U-32+1],tt=I+Y|0,nt=B+k+b(tt,I)|0;nt=(nt=nt+$+b(tt=tt+A|0,A)|0)+Z+b(tt=tt+ct|0,ct)|0,E[U]=nt,E[U+1]=tt}for(var Ct=0;Ct<160;Ct+=2){nt=E[Ct],tt=E[Ct+1];var xt=d(O,V,H),rt=d(R,j,v),at=h(O,R),_t=h(R,O),J=u(L,C),et=u(C,L),lt=s[Ct],ut=s[Ct+1],mt=c(L,q,W),wt=c(C,w,S),vt=M+et|0,Rt=x+J+b(vt,M)|0;Rt=(Rt=(Rt=Rt+mt+b(vt=vt+wt|0,wt)|0)+lt+b(vt=vt+ut|0,ut)|0)+nt+b(vt=vt+tt|0,tt)|0;var Mt=_t+rt|0,Et=at+xt+b(Mt,_t)|0;x=W,M=S,W=q,S=w,q=L,w=C,L=F+Rt+b(C=y+vt|0,y)|0,F=H,y=v,H=V,v=j,V=O,j=R,O=Rt+Et+b(R=vt+Mt|0,vt)|0}this._al=this._al+R|0,this._bl=this._bl+j|0,this._cl=this._cl+v|0,this._dl=this._dl+y|0,this._el=this._el+C|0,this._fl=this._fl+w|0,this._gl=this._gl+S|0,this._hl=this._hl+M|0,this._ah=this._ah+O+b(this._al,R)|0,this._bh=this._bh+V+b(this._bl,j)|0,this._ch=this._ch+H+b(this._cl,v)|0,this._dh=this._dh+F+b(this._dl,y)|0,this._eh=this._eh+L+b(this._el,C)|0,this._fh=this._fh+q+b(this._fl,w)|0,this._gh=this._gh+W+b(this._gl,S)|0,this._hh=this._hh+x+b(this._hl,M)|0},l.prototype._hash=function(){var _=o.allocUnsafe(64);function E(O,V,H){_.writeInt32BE(O,H),_.writeInt32BE(V,H+4)}return E(this._ah,this._al,0),E(this._bh,this._bl,8),E(this._ch,this._cl,16),E(this._dh,this._dl,24),E(this._eh,this._el,32),E(this._fh,this._fl,40),E(this._gh,this._gl,48),E(this._hh,this._hl,56),_},t.exports=l},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(e,t,r){"use strict";t.exports=n;var i=e("events").EventEmitter;function n(){i.call(this)}e("inherits")(n,i),n.Readable=e("readable-stream/readable.js"),n.Writable=e("readable-stream/writable.js"),n.Duplex=e("readable-stream/duplex.js"),n.Transform=e("readable-stream/transform.js"),n.PassThrough=e("readable-stream/passthrough.js"),n.Stream=n,n.prototype.pipe=function(o,s){var a=this;function l(g){o.writable&&o.write(g)===!1&&a.pause&&a.pause()}function c(){a.readable&&a.resume&&a.resume()}a.on("data",l),o.on("drain",c),o._isStdio||s&&s.end===!1||(a.on("end",h),a.on("close",u));var d=!1;function h(){d||(d=!0,o.end())}function u(){d||(d=!0,typeof o.destroy=="function"&&o.destroy())}function f(g){if(m(),i.listenerCount(this,"error")===0)throw g}function m(){a.removeListener("data",l),o.removeListener("drain",c),a.removeListener("end",h),a.removeListener("close",u),a.removeListener("error",f),o.removeListener("error",f),a.removeListener("end",m),a.removeListener("close",m),o.removeListener("close",m)}return a.on("error",f),o.on("error",f),a.on("end",m),a.on("close",m),o.on("close",m),o.emit("pipe",a),o}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(e,t,r){"use strict";var i={}.toString;t.exports=Array.isArray||function(n){return i.call(n)=="[object Array]"}},{}],507:[function(e,t,r){"use strict";t.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(e,t,r){"use strict";var i=e("process-nextick-args"),n=Object.keys||function(m){var g=[];for(var p in m)g.push(p);return g};t.exports=h;var o=Object.create(e("core-util-is"));o.inherits=e("inherits");var s=e("./_stream_readable"),a=e("./_stream_writable");o.inherits(h,s);for(var l=n(a.prototype),c=0;c<l.length;c++){var d=l[c];h.prototype[d]||(h.prototype[d]=a.prototype[d])}function h(m){if(!(this instanceof h))return new h(m);s.call(this,m),a.call(this,m),m&&m.readable===!1&&(this.readable=!1),m&&m.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,m&&m.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",u)}function u(){this.allowHalfOpen||this._writableState.ended||i.nextTick(f,this)}function f(m){m.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(m){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=m,this._writableState.destroyed=m)}}),h.prototype._destroy=function(m,g){this.push(null),this.end(),i.nextTick(g,m)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(e,t,r){"use strict";t.exports=o;var i=e("./_stream_transform"),n=Object.create(e("core-util-is"));function o(s){if(!(this instanceof o))return new o(s);i.call(this,s)}n.inherits=e("inherits"),n.inherits(o,i),o.prototype._transform=function(s,a,l){l(null,s)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(e,t,r){(function(i,n){(function(){"use strict";var o=e("process-nextick-args");t.exports=O;var s,a=e("isarray");O.ReadableState=E,e("events").EventEmitter;var l=function(M,U){return M.listeners(U).length},c=e("./internal/streams/stream"),d=e("safe-buffer").Buffer,h=(n!==void 0?n:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},u=Object.create(e("core-util-is"));u.inherits=e("inherits");var f=e("util"),m=void 0;m=f&&f.debuglog?f.debuglog("stream"):function(){};var g,p=e("./internal/streams/BufferList"),b=e("./internal/streams/destroy");u.inherits(O,c);var _=["error","close","destroy","pause","resume"];function E(M,U){M=M||{};var N=U instanceof(s=s||e("./_stream_duplex"));this.objectMode=!!M.objectMode,N&&(this.objectMode=this.objectMode||!!M.readableObjectMode);var T=M.highWaterMark,B=M.readableHighWaterMark,I=this.objectMode?16:16384;this.highWaterMark=T||T===0?T:N&&(B||B===0)?B:I,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=M.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,M.encoding&&(g||(g=e("string_decoder/").StringDecoder),this.decoder=new g(M.encoding),this.encoding=M.encoding)}function O(M){if(s=s||e("./_stream_duplex"),!(this instanceof O))return new O(M);this._readableState=new E(M,this),this.readable=!0,M&&(typeof M.read=="function"&&(this._read=M.read),typeof M.destroy=="function"&&(this._destroy=M.destroy)),c.call(this)}function V(M,U,N,T,B){var I,$=M._readableState;return U===null?($.reading=!1,function(A,k){if(!k.ended){if(k.decoder){var Y=k.decoder.end();Y&&Y.length&&(k.buffer.push(Y),k.length+=k.objectMode?1:Y.length)}k.ended=!0,L(A)}}(M,$)):(B||(I=function(A,k){var Y;Z=k,d.isBuffer(Z)||Z instanceof h||typeof k=="string"||k===void 0||A.objectMode||(Y=new TypeError("Invalid non-string/buffer chunk"));var Z;return Y}($,U)),I?M.emit("error",I):$.objectMode||U&&U.length>0?(typeof U=="string"||$.objectMode||Object.getPrototypeOf(U)===d.prototype||(U=function(A){return d.from(A)}(U)),T?$.endEmitted?M.emit("error",new Error("stream.unshift() after end event")):H(M,$,U,!0):$.ended?M.emit("error",new Error("stream.push() after EOF")):($.reading=!1,$.decoder&&!N?(U=$.decoder.write(U),$.objectMode||U.length!==0?H(M,$,U,!1):W(M,$)):H(M,$,U,!1))):T||($.reading=!1)),function(A){return!A.ended&&(A.needReadable||A.length<A.highWaterMark||A.length===0)}($)}function H(M,U,N,T){U.flowing&&U.length===0&&!U.sync?(M.emit("data",N),M.read(0)):(U.length+=U.objectMode?1:N.length,T?U.buffer.unshift(N):U.buffer.push(N),U.needReadable&&L(M)),W(M,U)}Object.defineProperty(O.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(M){this._readableState&&(this._readableState.destroyed=M)}}),O.prototype.destroy=b.destroy,O.prototype._undestroy=b.undestroy,O.prototype._destroy=function(M,U){this.push(null),U(M)},O.prototype.push=function(M,U){var N,T=this._readableState;return T.objectMode?N=!0:typeof M=="string"&&((U=U||T.defaultEncoding)!==T.encoding&&(M=d.from(M,U),U=""),N=!0),V(this,M,U,!1,N)},O.prototype.unshift=function(M){return V(this,M,null,!0,!1)},O.prototype.isPaused=function(){return this._readableState.flowing===!1},O.prototype.setEncoding=function(M){return g||(g=e("string_decoder/").StringDecoder),this._readableState.decoder=new g(M),this._readableState.encoding=M,this};function F(M,U){return M<=0||U.length===0&&U.ended?0:U.objectMode?1:M!=M?U.flowing&&U.length?U.buffer.head.data.length:U.length:(M>U.highWaterMark&&(U.highWaterMark=function(N){return N>=8388608?N=8388608:(N--,N|=N>>>1,N|=N>>>2,N|=N>>>4,N|=N>>>8,N|=N>>>16,N++),N}(M)),M<=U.length?M:U.ended?U.length:(U.needReadable=!0,0))}function L(M){var U=M._readableState;U.needReadable=!1,U.emittedReadable||(m("emitReadable",U.flowing),U.emittedReadable=!0,U.sync?o.nextTick(q,M):q(M))}function q(M){m("emit readable"),M.emit("readable"),v(M)}function W(M,U){U.readingMore||(U.readingMore=!0,o.nextTick(x,M,U))}function x(M,U){for(var N=U.length;!U.reading&&!U.flowing&&!U.ended&&U.length<U.highWaterMark&&(m("maybeReadMore read 0"),M.read(0),N!==U.length);)N=U.length;U.readingMore=!1}function R(M){m("readable nexttick read 0"),M.read(0)}function j(M,U){U.reading||(m("resume read 0"),M.read(0)),U.resumeScheduled=!1,U.awaitDrain=0,M.emit("resume"),v(M),U.flowing&&!U.reading&&M.read(0)}function v(M){var U=M._readableState;for(m("flow",U.flowing);U.flowing&&M.read()!==null;);}function y(M,U){return U.length===0?null:(U.objectMode?N=U.buffer.shift():!M||M>=U.length?(N=U.decoder?U.buffer.join(""):U.buffer.length===1?U.buffer.head.data:U.buffer.concat(U.length),U.buffer.clear()):N=function(T,B,I){var $;return T<B.head.data.length?($=B.head.data.slice(0,T),B.head.data=B.head.data.slice(T)):$=T===B.head.data.length?B.shift():I?function(A,k){var Y=k.head,Z=1,ct=Y.data;for(A-=ct.length;Y=Y.next;){var tt=Y.data,nt=A>tt.length?tt.length:A;if(nt===tt.length?ct+=tt:ct+=tt.slice(0,A),(A-=nt)===0){nt===tt.length?(++Z,Y.next?k.head=Y.next:k.head=k.tail=null):(k.head=Y,Y.data=tt.slice(nt));break}++Z}return k.length-=Z,ct}(T,B):function(A,k){var Y=d.allocUnsafe(A),Z=k.head,ct=1;for(Z.data.copy(Y),A-=Z.data.length;Z=Z.next;){var tt=Z.data,nt=A>tt.length?tt.length:A;if(tt.copy(Y,Y.length-A,0,nt),(A-=nt)===0){nt===tt.length?(++ct,Z.next?k.head=Z.next:k.head=k.tail=null):(k.head=Z,Z.data=tt.slice(nt));break}++ct}return k.length-=ct,Y}(T,B),$}(M,U.buffer,U.decoder),N);var N}function C(M){var U=M._readableState;if(U.length>0)throw new Error('"endReadable()" called on non-empty stream');U.endEmitted||(U.ended=!0,o.nextTick(w,U,M))}function w(M,U){M.endEmitted||M.length!==0||(M.endEmitted=!0,U.readable=!1,U.emit("end"))}function S(M,U){for(var N=0,T=M.length;N<T;N++)if(M[N]===U)return N;return-1}O.prototype.read=function(M){m("read",M),M=parseInt(M,10);var U=this._readableState,N=M;if(M!==0&&(U.emittedReadable=!1),M===0&&U.needReadable&&(U.length>=U.highWaterMark||U.ended))return m("read: emitReadable",U.length,U.ended),U.length===0&&U.ended?C(this):L(this),null;if((M=F(M,U))===0&&U.ended)return U.length===0&&C(this),null;var T,B=U.needReadable;return m("need readable",B),(U.length===0||U.length-M<U.highWaterMark)&&m("length less than watermark",B=!0),U.ended||U.reading?m("reading or ended",B=!1):B&&(m("do read"),U.reading=!0,U.sync=!0,U.length===0&&(U.needReadable=!0),this._read(U.highWaterMark),U.sync=!1,U.reading||(M=F(N,U))),(T=M>0?y(M,U):null)===null?(U.needReadable=!0,M=0):U.length-=M,U.length===0&&(U.ended||(U.needReadable=!0),N!==M&&U.ended&&C(this)),T!==null&&this.emit("data",T),T},O.prototype._read=function(M){this.emit("error",new Error("_read() is not implemented"))},O.prototype.pipe=function(M,U){var N=this,T=this._readableState;switch(T.pipesCount){case 0:T.pipes=M;break;case 1:T.pipes=[T.pipes,M];break;default:T.pipes.push(M)}T.pipesCount+=1,m("pipe count=%d opts=%j",T.pipesCount,U);var B=(!U||U.end!==!1)&&M!==i.stdout&&M!==i.stderr?$:Ct;function I(xt,rt){m("onunpipe"),xt===N&&rt&&rt.hasUnpiped===!1&&(rt.hasUnpiped=!0,m("cleanup"),M.removeListener("close",tt),M.removeListener("finish",nt),M.removeListener("drain",A),M.removeListener("error",ct),M.removeListener("unpipe",I),N.removeListener("end",$),N.removeListener("end",Ct),N.removeListener("data",Z),k=!0,!T.awaitDrain||M._writableState&&!M._writableState.needDrain||A())}function $(){m("onend"),M.end()}T.endEmitted?o.nextTick(B):N.once("end",B),M.on("unpipe",I);var A=function(xt){return function(){var rt=xt._readableState;m("pipeOnDrain",rt.awaitDrain),rt.awaitDrain&&rt.awaitDrain--,rt.awaitDrain===0&&l(xt,"data")&&(rt.flowing=!0,v(xt))}}(N);M.on("drain",A);var k=!1,Y=!1;function Z(xt){m("ondata"),Y=!1,M.write(xt)!==!1||Y||((T.pipesCount===1&&T.pipes===M||T.pipesCount>1&&S(T.pipes,M)!==-1)&&!k&&(m("false write response, pause",T.awaitDrain),T.awaitDrain++,Y=!0),N.pause())}function ct(xt){m("onerror",xt),Ct(),M.removeListener("error",ct),l(M,"error")===0&&M.emit("error",xt)}function tt(){M.removeListener("finish",nt),Ct()}function nt(){m("onfinish"),M.removeListener("close",tt),Ct()}function Ct(){m("unpipe"),N.unpipe(M)}return N.on("data",Z),function(xt,rt,at){if(typeof xt.prependListener=="function")return xt.prependListener(rt,at);xt._events&&xt._events[rt]?a(xt._events[rt])?xt._events[rt].unshift(at):xt._events[rt]=[at,xt._events[rt]]:xt.on(rt,at)}(M,"error",ct),M.once("close",tt),M.once("finish",nt),M.emit("pipe",N),T.flowing||(m("pipe resume"),N.resume()),M},O.prototype.unpipe=function(M){var U=this._readableState,N={hasUnpiped:!1};if(U.pipesCount===0)return this;if(U.pipesCount===1)return M&&M!==U.pipes||(M||(M=U.pipes),U.pipes=null,U.pipesCount=0,U.flowing=!1,M&&M.emit("unpipe",this,N)),this;if(!M){var T=U.pipes,B=U.pipesCount;U.pipes=null,U.pipesCount=0,U.flowing=!1;for(var I=0;I<B;I++)T[I].emit("unpipe",this,{hasUnpiped:!1});return this}var $=S(U.pipes,M);return $===-1||(U.pipes.splice($,1),U.pipesCount-=1,U.pipesCount===1&&(U.pipes=U.pipes[0]),M.emit("unpipe",this,N)),this},O.prototype.on=function(M,U){var N=c.prototype.on.call(this,M,U);if(M==="data")this._readableState.flowing!==!1&&this.resume();else if(M==="readable"){var T=this._readableState;T.endEmitted||T.readableListening||(T.readableListening=T.needReadable=!0,T.emittedReadable=!1,T.reading?T.length&&L(this):o.nextTick(R,this))}return N},O.prototype.addListener=O.prototype.on,O.prototype.resume=function(){var M=this._readableState;return M.flowing||(m("resume"),M.flowing=!0,function(U,N){N.resumeScheduled||(N.resumeScheduled=!0,o.nextTick(j,U,N))}(this,M)),this},O.prototype.pause=function(){return m("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(m("pause"),this._readableState.flowing=!1,this.emit("pause")),this},O.prototype.wrap=function(M){var U=this,N=this._readableState,T=!1;for(var B in M.on("end",function(){if(m("wrapped end"),N.decoder&&!N.ended){var $=N.decoder.end();$&&$.length&&U.push($)}U.push(null)}),M.on("data",function($){m("wrapped data"),N.decoder&&($=N.decoder.write($)),N.objectMode&&$==null||(N.objectMode||$&&$.length)&&(U.push($)||(T=!0,M.pause()))}),M)this[B]===void 0&&typeof M[B]=="function"&&(this[B]=function($){return function(){return M[$].apply(M,arguments)}}(B));for(var I=0;I<_.length;I++)M.on(_[I],this.emit.bind(this,_[I]));return this._read=function($){m("wrapped _read",$),T&&(T=!1,M.resume())},this},Object.defineProperty(O.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),O._fromList=y}).call(this)}).call(this,e("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(e,t,r){"use strict";t.exports=s;var i=e("./_stream_duplex"),n=Object.create(e("core-util-is"));function o(c,d){var h=this._transformState;h.transforming=!1;var u=h.writecb;if(!u)return this.emit("error",new Error("write callback called multiple times"));h.writechunk=null,h.writecb=null,d!=null&&this.push(d),u(c);var f=this._readableState;f.reading=!1,(f.needReadable||f.length<f.highWaterMark)&&this._read(f.highWaterMark)}function s(c){if(!(this instanceof s))return new s(c);i.call(this,c),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,c&&(typeof c.transform=="function"&&(this._transform=c.transform),typeof c.flush=="function"&&(this._flush=c.flush)),this.on("prefinish",a)}function a(){var c=this;typeof this._flush=="function"?this._flush(function(d,h){l(c,d,h)}):l(this,null,null)}function l(c,d,h){if(d)return c.emit("error",d);if(h!=null&&c.push(h),c._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(c._transformState.transforming)throw new Error("Calling transform done when still transforming");return c.push(null)}n.inherits=e("inherits"),n.inherits(s,i),s.prototype.push=function(c,d){return this._transformState.needTransform=!1,i.prototype.push.call(this,c,d)},s.prototype._transform=function(c,d,h){throw new Error("_transform() is not implemented")},s.prototype._write=function(c,d,h){var u=this._transformState;if(u.writecb=h,u.writechunk=c,u.writeencoding=d,!u.transforming){var f=this._readableState;(u.needTransform||f.needReadable||f.length<f.highWaterMark)&&this._read(f.highWaterMark)}},s.prototype._read=function(c){var d=this._transformState;d.writechunk!==null&&d.writecb&&!d.transforming?(d.transforming=!0,this._transform(d.writechunk,d.writeencoding,d.afterTransform)):d.needTransform=!0},s.prototype._destroy=function(c,d){var h=this;i.prototype._destroy.call(this,c,function(u){d(u),h.emit("close")})}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(e,t,r){(function(i,n,o){(function(){"use strict";var s=e("process-nextick-args");function a(W){var x=this;this.next=null,this.entry=null,this.finish=function(){(function(R,j,v){var y=R.entry;for(R.entry=null;y;){var C=y.callback;j.pendingcb--,C(v),y=y.next}j.corkedRequestsFree.next=R})(x,W)}}t.exports=E;var l,c=!i.browser&&["v0.10","v0.9."].indexOf(i.version.slice(0,5))>-1?o:s.nextTick;E.WritableState=_;var d=Object.create(e("core-util-is"));d.inherits=e("inherits");var h={deprecate:e("util-deprecate")},u=e("./internal/streams/stream"),f=e("safe-buffer").Buffer,m=(n!==void 0?n:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},g,p=e("./internal/streams/destroy");function b(){}function _(W,x){l=l||e("./_stream_duplex"),W=W||{};var R=x instanceof l;this.objectMode=!!W.objectMode,R&&(this.objectMode=this.objectMode||!!W.writableObjectMode);var j=W.highWaterMark,v=W.writableHighWaterMark,y=this.objectMode?16:16384;this.highWaterMark=j||j===0?j:R&&(v||v===0)?v:y,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var C=W.decodeStrings===!1;this.decodeStrings=!C,this.defaultEncoding=W.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(w){(function(S,M){var U=S._writableState,N=U.sync,T=U.writecb;if(function(I){I.writing=!1,I.writecb=null,I.length-=I.writelen,I.writelen=0}(U),M)(function(I,$,A,k,Y){--$.pendingcb,A?(s.nextTick(Y,k),s.nextTick(q,I,$),I._writableState.errorEmitted=!0,I.emit("error",k)):(Y(k),I._writableState.errorEmitted=!0,I.emit("error",k),q(I,$))})(S,U,N,M,T);else{var B=F(U);B||U.corked||U.bufferProcessing||!U.bufferedRequest||H(S,U),N?c(V,S,U,B,T):V(S,U,B,T)}})(x,w)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function E(W){if(l=l||e("./_stream_duplex"),!(g.call(E,this)||this instanceof l))return new E(W);this._writableState=new _(W,this),this.writable=!0,W&&(typeof W.write=="function"&&(this._write=W.write),typeof W.writev=="function"&&(this._writev=W.writev),typeof W.destroy=="function"&&(this._destroy=W.destroy),typeof W.final=="function"&&(this._final=W.final)),u.call(this)}function O(W,x,R,j,v,y,C){x.writelen=j,x.writecb=C,x.writing=!0,x.sync=!0,R?W._writev(v,x.onwrite):W._write(v,y,x.onwrite),x.sync=!1}function V(W,x,R,j){R||function(v,y){y.length===0&&y.needDrain&&(y.needDrain=!1,v.emit("drain"))}(W,x),x.pendingcb--,j(),q(W,x)}function H(W,x){x.bufferProcessing=!0;var R=x.bufferedRequest;if(W._writev&&R&&R.next){var j=x.bufferedRequestCount,v=new Array(j),y=x.corkedRequestsFree;y.entry=R;for(var C=0,w=!0;R;)v[C]=R,R.isBuf||(w=!1),R=R.next,C+=1;v.allBuffers=w,O(W,x,!0,x.length,v,"",y.finish),x.pendingcb++,x.lastBufferedRequest=null,y.next?(x.corkedRequestsFree=y.next,y.next=null):x.corkedRequestsFree=new a(x),x.bufferedRequestCount=0}else{for(;R;){var S=R.chunk,M=R.encoding,U=R.callback;if(O(W,x,!1,x.objectMode?1:S.length,S,M,U),R=R.next,x.bufferedRequestCount--,x.writing)break}R===null&&(x.lastBufferedRequest=null)}x.bufferedRequest=R,x.bufferProcessing=!1}function F(W){return W.ending&&W.length===0&&W.bufferedRequest===null&&!W.finished&&!W.writing}function L(W,x){W._final(function(R){x.pendingcb--,R&&W.emit("error",R),x.prefinished=!0,W.emit("prefinish"),q(W,x)})}function q(W,x){var R=F(x);return R&&(function(j,v){v.prefinished||v.finalCalled||(typeof j._final=="function"?(v.pendingcb++,v.finalCalled=!0,s.nextTick(L,j,v)):(v.prefinished=!0,j.emit("prefinish")))}(W,x),x.pendingcb===0&&(x.finished=!0,W.emit("finish"))),R}d.inherits(E,u),_.prototype.getBuffer=function(){for(var W=this.bufferedRequest,x=[];W;)x.push(W),W=W.next;return x},function(){try{Object.defineProperty(_.prototype,"buffer",{get:h.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(g=Function.prototype[Symbol.hasInstance],Object.defineProperty(E,Symbol.hasInstance,{value:function(W){return!!g.call(this,W)||this===E&&W&&W._writableState instanceof _}})):g=function(W){return W instanceof this},E.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},E.prototype.write=function(W,x,R){var j,v=this._writableState,y=!1,C=!v.objectMode&&(j=W,f.isBuffer(j)||j instanceof m);return C&&!f.isBuffer(W)&&(W=function(w){return f.from(w)}(W)),typeof x=="function"&&(R=x,x=null),C?x="buffer":x||(x=v.defaultEncoding),typeof R!="function"&&(R=b),v.ended?function(w,S){var M=new Error("write after end");w.emit("error",M),s.nextTick(S,M)}(this,R):(C||function(w,S,M,U){var N=!0,T=!1;return M===null?T=new TypeError("May not write null values to stream"):typeof M=="string"||M===void 0||S.objectMode||(T=new TypeError("Invalid non-string/buffer chunk")),T&&(w.emit("error",T),s.nextTick(U,T),N=!1),N}(this,v,W,R))&&(v.pendingcb++,y=function(w,S,M,U,N,T){if(!M){var B=function(k,Y,Z){return k.objectMode||k.decodeStrings===!1||typeof Y!="string"||(Y=f.from(Y,Z)),Y}(S,U,N);U!==B&&(M=!0,N="buffer",U=B)}var I=S.objectMode?1:U.length;S.length+=I;var $=S.length<S.highWaterMark;if($||(S.needDrain=!0),S.writing||S.corked){var A=S.lastBufferedRequest;S.lastBufferedRequest={chunk:U,encoding:N,isBuf:M,callback:T,next:null},A?A.next=S.lastBufferedRequest:S.bufferedRequest=S.lastBufferedRequest,S.bufferedRequestCount+=1}else O(w,S,!1,I,U,N,T);return $}(this,v,C,W,x,R)),y},E.prototype.cork=function(){this._writableState.corked++},E.prototype.uncork=function(){var W=this._writableState;W.corked&&(W.corked--,W.writing||W.corked||W.bufferProcessing||!W.bufferedRequest||H(this,W))},E.prototype.setDefaultEncoding=function(W){if(typeof W=="string"&&(W=W.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((W+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+W);return this._writableState.defaultEncoding=W,this},Object.defineProperty(E.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),E.prototype._write=function(W,x,R){R(new Error("_write() is not implemented"))},E.prototype._writev=null,E.prototype.end=function(W,x,R){var j=this._writableState;typeof W=="function"?(R=W,W=null,x=null):typeof x=="function"&&(R=x,x=null),W!=null&&this.write(W,x),j.corked&&(j.corked=1,this.uncork()),j.ending||function(v,y,C){y.ending=!0,q(v,y),C&&(y.finished?s.nextTick(C):v.once("finish",C)),y.ended=!0,v.writable=!1}(this,j,R)},Object.defineProperty(E.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(W){this._writableState&&(this._writableState.destroyed=W)}}),E.prototype.destroy=p.destroy,E.prototype._undestroy=p.undestroy,E.prototype._destroy=function(W,x){this.end(),x(W)}}).call(this)}).call(this,e("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},e("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(e,t,r){"use strict";var i=e("safe-buffer").Buffer,n=e("util");t.exports=function(){function o(){(function(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")})(this,o),this.head=null,this.tail=null,this.length=0}return o.prototype.push=function(s){var a={data:s,next:null};this.length>0?this.tail.next=a:this.head=a,this.tail=a,++this.length},o.prototype.unshift=function(s){var a={data:s,next:this.head};this.length===0&&(this.tail=a),this.head=a,++this.length},o.prototype.shift=function(){if(this.length!==0){var s=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,s}},o.prototype.clear=function(){this.head=this.tail=null,this.length=0},o.prototype.join=function(s){if(this.length===0)return"";for(var a=this.head,l=""+a.data;a=a.next;)l+=s+a.data;return l},o.prototype.concat=function(s){if(this.length===0)return i.alloc(0);for(var a,l,c,d=i.allocUnsafe(s>>>0),h=this.head,u=0;h;)a=h.data,l=d,c=u,a.copy(l,c),u+=h.data.length,h=h.next;return d},o}(),n&&n.inspect&&n.inspect.custom&&(t.exports.prototype[n.inspect.custom]=function(){var o=n.inspect({length:this.length});return this.constructor.name+" "+o})},{"safe-buffer":520,util:188}],514:[function(e,t,r){"use strict";var i=e("process-nextick-args");function n(o,s){o.emit("error",s)}t.exports={destroy:function(o,s){var a=this,l=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return l||c?(s?s(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(n,this,o)):i.nextTick(n,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(d){!s&&d?a._writableState?a._writableState.errorEmitted||(a._writableState.errorEmitted=!0,i.nextTick(n,a,d)):i.nextTick(n,a,d):s&&s(d)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(e,t,r){arguments[4][490][0].apply(r,arguments)},{dup:490,events:422}],516:[function(e,t,r){"use strict";t.exports=e("./readable").PassThrough},{"./readable":517}],517:[function(e,t,r){"use strict";(r=t.exports=e("./lib/_stream_readable.js")).Stream=r,r.Readable=r,r.Writable=e("./lib/_stream_writable.js"),r.Duplex=e("./lib/_stream_duplex.js"),r.Transform=e("./lib/_stream_transform.js"),r.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(e,t,r){"use strict";t.exports=e("./readable").Transform},{"./readable":517}],519:[function(e,t,r){"use strict";t.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(e,t,r){arguments[4][217][0].apply(r,arguments)},{buffer:220,dup:217}],521:[function(e,t,r){arguments[4][218][0].apply(r,arguments)},{dup:218,"safe-buffer":520}],522:[function(e,t,r){arguments[4][218][0].apply(r,arguments)},{dup:218,"safe-buffer":494}],523:[function(e,t,r){(function(i,n){(function(){"use strict";var o=e("process/browser.js").nextTick,s=Function.prototype.apply,a=Array.prototype.slice,l={},c=0;function d(h,u){this._id=h,this._clearFn=u}r.setTimeout=function(){return new d(s.call(setTimeout,window,arguments),clearTimeout)},r.setInterval=function(){return new d(s.call(setInterval,window,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(h){h.close()},d.prototype.unref=d.prototype.ref=function(){},d.prototype.close=function(){this._clearFn.call(window,this._id)},r.enroll=function(h,u){clearTimeout(h._idleTimeoutId),h._idleTimeout=u},r.unenroll=function(h){clearTimeout(h._idleTimeoutId),h._idleTimeout=-1},r._unrefActive=r.active=function(h){clearTimeout(h._idleTimeoutId);var u=h._idleTimeout;u>=0&&(h._idleTimeoutId=setTimeout(function(){h._onTimeout&&h._onTimeout()},u))},r.setImmediate=typeof i=="function"?i:function(h){var u=c++,f=!(arguments.length<2)&&a.call(arguments,1);return l[u]=!0,o(function(){l[u]&&(f?h.apply(null,f):h.call(null),r.clearImmediate(u))}),u},r.clearImmediate=typeof n=="function"?n:function(h){delete l[h]}}).call(this)}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(e,t,r){(function(i){(function(){"use strict";function n(o){try{if(!i.localStorage)return!1}catch{return!1}var s=i.localStorage[o];return s!=null&&String(s).toLowerCase()==="true"}t.exports=function(o,s){if(n("noDeprecation"))return o;var a=!1;return function(){if(!a){if(n("throwDeprecation"))throw new Error(s);n("traceDeprecation")?console.trace(s):console.warn(s),a=!0}return o.apply(this,arguments)}}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(e,t,r){"use strict";typeof Object.create=="function"?t.exports=function(i,n){i.super_=n,i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(i,n){i.super_=n;var o=function(){};o.prototype=n.prototype,i.prototype=new o,i.prototype.constructor=i}},{}],526:[function(e,t,r){"use strict";t.exports=function(i){return i&&typeof i=="object"&&typeof i.copy=="function"&&typeof i.fill=="function"&&typeof i.readUInt8=="function"}},{}],527:[function(e,t,r){(function(i,n){(function(){"use strict";var o=/%[sdj%]/g;r.format=function(v){if(!_(v)){for(var y=[],C=0;C<arguments.length;C++)y.push(l(arguments[C]));return y.join(" ")}C=1;for(var w=arguments,S=w.length,M=String(v).replace(o,function(N){if(N==="%%")return"%";if(C>=S)return N;switch(N){case"%s":return String(w[C++]);case"%d":return Number(w[C++]);case"%j":try{return JSON.stringify(w[C++])}catch{return"[Circular]"}default:return N}}),U=w[C];C<S;U=w[++C])p(U)||!V(U)?M+=" "+U:M+=" "+l(U);return M},r.deprecate=function(v,y){if(E(n.process))return function(){return r.deprecate(v,y).apply(this,arguments)};if(i.noDeprecation===!0)return v;var C=!1;return function(){if(!C){if(i.throwDeprecation)throw new Error(y);i.traceDeprecation?console.trace(y):console.error(y),C=!0}return v.apply(this,arguments)}};var s,a={};function l(v,y){var C={seen:[],stylize:d};return arguments.length>=3&&(C.depth=arguments[2]),arguments.length>=4&&(C.colors=arguments[3]),g(y)?C.showHidden=y:y&&r._extend(C,y),E(C.showHidden)&&(C.showHidden=!1),E(C.depth)&&(C.depth=2),E(C.colors)&&(C.colors=!1),E(C.customInspect)&&(C.customInspect=!0),C.colors&&(C.stylize=c),h(C,v,C.depth)}function c(v,y){var C=l.styles[y];return C?"\x1B["+l.colors[C][0]+"m"+v+"\x1B["+l.colors[C][1]+"m":v}function d(v,y){return v}function h(v,y,C){if(v.customInspect&&y&&L(y.inspect)&&y.inspect!==r.inspect&&(!y.constructor||y.constructor.prototype!==y)){var w=y.inspect(C,v);return _(w)||(w=h(v,w,C)),w}var S=function(A,k){if(E(k))return A.stylize("undefined","undefined");if(_(k)){var Y="'"+JSON.stringify(k).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return A.stylize(Y,"string")}if(b(k))return A.stylize(""+k,"number");if(g(k))return A.stylize(""+k,"boolean");if(p(k))return A.stylize("null","null")}(v,y);if(S)return S;var M=Object.keys(y),U=function(A){var k={};return A.forEach(function(Y,Z){k[Y]=!0}),k}(M);if(v.showHidden&&(M=Object.getOwnPropertyNames(y)),F(y)&&(M.indexOf("message")>=0||M.indexOf("description")>=0))return u(y);if(M.length===0){if(L(y)){var N=y.name?": "+y.name:"";return v.stylize("[Function"+N+"]","special")}if(O(y))return v.stylize(RegExp.prototype.toString.call(y),"regexp");if(H(y))return v.stylize(Date.prototype.toString.call(y),"date");if(F(y))return u(y)}var T,B="",I=!1,$=["{","}"];return m(y)&&(I=!0,$=["[","]"]),L(y)&&(B=" [Function"+(y.name?": "+y.name:"")+"]"),O(y)&&(B=" "+RegExp.prototype.toString.call(y)),H(y)&&(B=" "+Date.prototype.toUTCString.call(y)),F(y)&&(B=" "+u(y)),M.length!==0||I&&y.length!=0?C<0?O(y)?v.stylize(RegExp.prototype.toString.call(y),"regexp"):v.stylize("[Object]","special"):(v.seen.push(y),T=I?function(A,k,Y,Z,ct){for(var tt=[],nt=0,Ct=k.length;nt<Ct;++nt)j(k,String(nt))?tt.push(f(A,k,Y,Z,String(nt),!0)):tt.push("");return ct.forEach(function(xt){xt.match(/^\d+$/)||tt.push(f(A,k,Y,Z,xt,!0))}),tt}(v,y,C,U,M):M.map(function(A){return f(v,y,C,U,A,I)}),v.seen.pop(),function(A,k,Y){return A.reduce(function(Z,ct){return ct.indexOf(`
`)>=0,Z+ct.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?Y[0]+(k===""?"":k+`
 `)+" "+A.join(`,
  `)+" "+Y[1]:Y[0]+k+" "+A.join(", ")+" "+Y[1]}(T,B,$)):$[0]+B+$[1]}function u(v){return"["+Error.prototype.toString.call(v)+"]"}function f(v,y,C,w,S,M){var U,N,T;if((T=Object.getOwnPropertyDescriptor(y,S)||{value:y[S]}).get?N=T.set?v.stylize("[Getter/Setter]","special"):v.stylize("[Getter]","special"):T.set&&(N=v.stylize("[Setter]","special")),j(w,S)||(U="["+S+"]"),N||(v.seen.indexOf(T.value)<0?(N=p(C)?h(v,T.value,null):h(v,T.value,C-1)).indexOf(`
`)>-1&&(N=M?N.split(`
`).map(function(B){return"  "+B}).join(`
`).substr(2):`
`+N.split(`
`).map(function(B){return"   "+B}).join(`
`)):N=v.stylize("[Circular]","special")),E(U)){if(M&&S.match(/^\d+$/))return N;(U=JSON.stringify(""+S)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(U=U.substr(1,U.length-2),U=v.stylize(U,"name")):(U=U.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),U=v.stylize(U,"string"))}return U+": "+N}function m(v){return Array.isArray(v)}function g(v){return typeof v=="boolean"}function p(v){return v===null}function b(v){return typeof v=="number"}function _(v){return typeof v=="string"}function E(v){return v===void 0}function O(v){return V(v)&&q(v)==="[object RegExp]"}function V(v){return typeof v=="object"&&v!==null}function H(v){return V(v)&&q(v)==="[object Date]"}function F(v){return V(v)&&(q(v)==="[object Error]"||v instanceof Error)}function L(v){return typeof v=="function"}function q(v){return Object.prototype.toString.call(v)}function W(v){return v<10?"0"+v.toString(10):v.toString(10)}r.debuglog=function(v){if(E(s)&&(s=i.env.NODE_DEBUG||""),v=v.toUpperCase(),!a[v])if(new RegExp("\\b"+v+"\\b","i").test(s)){var y=i.pid;a[v]=function(){var C=r.format.apply(r,arguments);console.error("%s %d: %s",v,y,C)}}else a[v]=function(){};return a[v]},r.inspect=l,l.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},r.isArray=m,r.isBoolean=g,r.isNull=p,r.isNullOrUndefined=function(v){return v==null},r.isNumber=b,r.isString=_,r.isSymbol=function(v){return typeof v=="symbol"},r.isUndefined=E,r.isRegExp=O,r.isObject=V,r.isDate=H,r.isError=F,r.isFunction=L,r.isPrimitive=function(v){return v===null||typeof v=="boolean"||typeof v=="number"||typeof v=="string"||typeof v=="symbol"||v===void 0},r.isBuffer=e("./support/isBuffer");var x=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function R(){var v=new Date,y=[W(v.getHours()),W(v.getMinutes()),W(v.getSeconds())].join(":");return[v.getDate(),x[v.getMonth()],y].join(" ")}function j(v,y){return Object.prototype.hasOwnProperty.call(v,y)}r.log=function(){console.log("%s - %s",R(),r.format.apply(r,arguments))},r.inherits=e("inherits"),r._extend=function(v,y){if(!y||!V(y))return v;for(var C=Object.keys(y),w=C.length;w--;)v[C[w]]=y[C[w]];return v}}).call(this)}).call(this,e("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"v1",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(r,"v3",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(r,"v4",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(r,"v5",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(r,"NIL",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(r,"version",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(r,"validate",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(r,"stringify",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(r,"parse",{enumerable:!0,get:function(){return h.default}});var i=u(e("./v1.js")),n=u(e("./v3.js")),o=u(e("./v4.js")),s=u(e("./v5.js")),a=u(e("./nil.js")),l=u(e("./version.js")),c=u(e("./validate.js")),d=u(e("./stringify.js")),h=u(e("./parse.js"));function u(f){return f&&f.__esModule?f:{default:f}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(e,t,r){"use strict";function i(h){return 14+(h+64>>>9<<4)+1}function n(h,u){let f=(65535&h)+(65535&u);return(h>>16)+(u>>16)+(f>>16)<<16|65535&f}function o(h,u,f,m,g,p){return n((b=n(n(u,h),n(m,p)))<<(_=g)|b>>>32-_,f);var b,_}function s(h,u,f,m,g,p,b){return o(u&f|~u&m,h,u,g,p,b)}function a(h,u,f,m,g,p,b){return o(u&m|f&~m,h,u,g,p,b)}function l(h,u,f,m,g,p,b){return o(u^f^m,h,u,g,p,b)}function c(h,u,f,m,g,p,b){return o(f^(u|~m),h,u,g,p,b)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var d=function(h){if(typeof h=="string"){let u=unescape(encodeURIComponent(h));h=new Uint8Array(u.length);for(let f=0;f<u.length;++f)h[f]=u.charCodeAt(f)}return function(u){let f=[],m=32*u.length;for(let g=0;g<m;g+=8){let p=u[g>>5]>>>g%32&255,b=parseInt("0123456789abcdef".charAt(p>>>4&15)+"0123456789abcdef".charAt(15&p),16);f.push(b)}return f}(function(u,f){u[f>>5]|=128<<f%32,u[i(f)-1]=f;let m=1732584193,g=-271733879,p=-1732584194,b=271733878;for(let _=0;_<u.length;_+=16){let E=m,O=g,V=p,H=b;m=s(m,g,p,b,u[_],7,-680876936),b=s(b,m,g,p,u[_+1],12,-389564586),p=s(p,b,m,g,u[_+2],17,606105819),g=s(g,p,b,m,u[_+3],22,-1044525330),m=s(m,g,p,b,u[_+4],7,-176418897),b=s(b,m,g,p,u[_+5],12,1200080426),p=s(p,b,m,g,u[_+6],17,-1473231341),g=s(g,p,b,m,u[_+7],22,-45705983),m=s(m,g,p,b,u[_+8],7,1770035416),b=s(b,m,g,p,u[_+9],12,-1958414417),p=s(p,b,m,g,u[_+10],17,-42063),g=s(g,p,b,m,u[_+11],22,-1990404162),m=s(m,g,p,b,u[_+12],7,1804603682),b=s(b,m,g,p,u[_+13],12,-40341101),p=s(p,b,m,g,u[_+14],17,-1502002290),g=s(g,p,b,m,u[_+15],22,1236535329),m=a(m,g,p,b,u[_+1],5,-165796510),b=a(b,m,g,p,u[_+6],9,-1069501632),p=a(p,b,m,g,u[_+11],14,643717713),g=a(g,p,b,m,u[_],20,-373897302),m=a(m,g,p,b,u[_+5],5,-701558691),b=a(b,m,g,p,u[_+10],9,38016083),p=a(p,b,m,g,u[_+15],14,-660478335),g=a(g,p,b,m,u[_+4],20,-405537848),m=a(m,g,p,b,u[_+9],5,568446438),b=a(b,m,g,p,u[_+14],9,-1019803690),p=a(p,b,m,g,u[_+3],14,-187363961),g=a(g,p,b,m,u[_+8],20,1163531501),m=a(m,g,p,b,u[_+13],5,-1444681467),b=a(b,m,g,p,u[_+2],9,-51403784),p=a(p,b,m,g,u[_+7],14,1735328473),g=a(g,p,b,m,u[_+12],20,-1926607734),m=l(m,g,p,b,u[_+5],4,-378558),b=l(b,m,g,p,u[_+8],11,-2022574463),p=l(p,b,m,g,u[_+11],16,1839030562),g=l(g,p,b,m,u[_+14],23,-35309556),m=l(m,g,p,b,u[_+1],4,-1530992060),b=l(b,m,g,p,u[_+4],11,1272893353),p=l(p,b,m,g,u[_+7],16,-155497632),g=l(g,p,b,m,u[_+10],23,-1094730640),m=l(m,g,p,b,u[_+13],4,681279174),b=l(b,m,g,p,u[_],11,-358537222),p=l(p,b,m,g,u[_+3],16,-722521979),g=l(g,p,b,m,u[_+6],23,76029189),m=l(m,g,p,b,u[_+9],4,-640364487),b=l(b,m,g,p,u[_+12],11,-421815835),p=l(p,b,m,g,u[_+15],16,530742520),g=l(g,p,b,m,u[_+2],23,-995338651),m=c(m,g,p,b,u[_],6,-198630844),b=c(b,m,g,p,u[_+7],10,1126891415),p=c(p,b,m,g,u[_+14],15,-1416354905),g=c(g,p,b,m,u[_+5],21,-57434055),m=c(m,g,p,b,u[_+12],6,1700485571),b=c(b,m,g,p,u[_+3],10,-1894986606),p=c(p,b,m,g,u[_+10],15,-1051523),g=c(g,p,b,m,u[_+1],21,-2054922799),m=c(m,g,p,b,u[_+8],6,1873313359),b=c(b,m,g,p,u[_+15],10,-30611744),p=c(p,b,m,g,u[_+6],15,-1560198380),g=c(g,p,b,m,u[_+13],21,1309151649),m=c(m,g,p,b,u[_+4],6,-145523070),b=c(b,m,g,p,u[_+11],10,-1120210379),p=c(p,b,m,g,u[_+2],15,718787259),g=c(g,p,b,m,u[_+9],21,-343485551),m=n(m,E),g=n(g,O),p=n(p,V),b=n(b,H)}return[m,g,p,b]}(function(u){if(u.length===0)return[];let f=8*u.length,m=new Uint32Array(i(f));for(let g=0;g<f;g+=8)m[g>>5]|=(255&u[g/8])<<g%32;return m}(h),8*h.length))};r.default=d},{}],530:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,r.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,n=(i=e("./validate.js"))&&i.__esModule?i:{default:i},o=function(s){if(!(0,n.default)(s))throw TypeError("Invalid UUID");let a,l=new Uint8Array(16);return l[0]=(a=parseInt(s.slice(0,8),16))>>>24,l[1]=a>>>16&255,l[2]=a>>>8&255,l[3]=255&a,l[4]=(a=parseInt(s.slice(9,13),16))>>>8,l[5]=255&a,l[6]=(a=parseInt(s.slice(14,18),16))>>>8,l[7]=255&a,l[8]=(a=parseInt(s.slice(19,23),16))>>>8,l[9]=255&a,l[10]=(a=parseInt(s.slice(24,36),16))/1099511627776&255,l[11]=a/4294967296&255,l[12]=a>>>24&255,l[13]=a>>>16&255,l[14]=a>>>8&255,l[15]=255&a,l};r.default=o},{"./validate.js":541}],532:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,r.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(e,t,r){"use strict";let i;Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){if(!i&&(i=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!i))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(n)};let n=new Uint8Array(16)},{}],534:[function(e,t,r){"use strict";function i(s,a,l,c){switch(s){case 0:return a&l^~a&c;case 1:return a^l^c;case 2:return a&l^a&c^l&c;case 3:return a^l^c}}function n(s,a){return s<<a|s>>>32-a}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(s){let a=[1518500249,1859775393,2400959708,3395469782],l=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof s=="string"){let u=unescape(encodeURIComponent(s));s=[];for(let f=0;f<u.length;++f)s.push(u.charCodeAt(f))}else Array.isArray(s)||(s=Array.prototype.slice.call(s));s.push(128);let c=s.length/4+2,d=Math.ceil(c/16),h=new Array(d);for(let u=0;u<d;++u){let f=new Uint32Array(16);for(let m=0;m<16;++m)f[m]=s[64*u+4*m]<<24|s[64*u+4*m+1]<<16|s[64*u+4*m+2]<<8|s[64*u+4*m+3];h[u]=f}h[d-1][14]=8*(s.length-1)/Math.pow(2,32),h[d-1][14]=Math.floor(h[d-1][14]),h[d-1][15]=8*(s.length-1)&4294967295;for(let u=0;u<d;++u){let f=new Uint32Array(80);for(let E=0;E<16;++E)f[E]=h[u][E];for(let E=16;E<80;++E)f[E]=n(f[E-3]^f[E-8]^f[E-14]^f[E-16],1);let m=l[0],g=l[1],p=l[2],b=l[3],_=l[4];for(let E=0;E<80;++E){let O=Math.floor(E/20),V=n(m,5)+i(O,g,p,b)+_+a[O]+f[E]>>>0;_=b,b=p,p=n(g,30)>>>0,g=m,m=V}l[0]=l[0]+m>>>0,l[1]=l[1]+g>>>0,l[2]=l[2]+p>>>0,l[3]=l[3]+b>>>0,l[4]=l[4]+_>>>0}return[l[0]>>24&255,l[0]>>16&255,l[0]>>8&255,255&l[0],l[1]>>24&255,l[1]>>16&255,l[1]>>8&255,255&l[1],l[2]>>24&255,l[2]>>16&255,l[2]>>8&255,255&l[2],l[3]>>24&255,l[3]>>16&255,l[3]>>8&255,255&l[3],l[4]>>24&255,l[4]>>16&255,l[4]>>8&255,255&l[4]]};r.default=o},{}],535:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,n=(i=e("./validate.js"))&&i.__esModule?i:{default:i};let o=[];for(let a=0;a<256;++a)o.push((a+256).toString(16).substr(1));var s=function(a){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,c=(o[a[l+0]]+o[a[l+1]]+o[a[l+2]]+o[a[l+3]]+"-"+o[a[l+4]]+o[a[l+5]]+"-"+o[a[l+6]]+o[a[l+7]]+"-"+o[a[l+8]]+o[a[l+9]]+"-"+o[a[l+10]]+o[a[l+11]]+o[a[l+12]]+o[a[l+13]]+o[a[l+14]]+o[a[l+15]]).toLowerCase();if(!(0,n.default)(c))throw TypeError("Stringified UUID is invalid");return c};r.default=s},{"./validate.js":541}],536:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=o(e("./rng.js")),n=o(e("./stringify.js"));function o(h){return h&&h.__esModule?h:{default:h}}let s,a,l=0,c=0;var d=function(h,u,f){let m=u&&f||0,g=u||new Array(16),p=(h=h||{}).node||s,b=h.clockseq!==void 0?h.clockseq:a;if(p==null||b==null){let F=h.random||(h.rng||i.default)();p==null&&(p=s=[1|F[0],F[1],F[2],F[3],F[4],F[5]]),b==null&&(b=a=16383&(F[6]<<8|F[7]))}let _=h.msecs!==void 0?h.msecs:Date.now(),E=h.nsecs!==void 0?h.nsecs:c+1,O=_-l+(E-c)/1e4;if(O<0&&h.clockseq===void 0&&(b=b+1&16383),(O<0||_>l)&&h.nsecs===void 0&&(E=0),E>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");l=_,c=E,a=b,_+=122192928e5;let V=(1e4*(268435455&_)+E)%4294967296;g[m++]=V>>>24&255,g[m++]=V>>>16&255,g[m++]=V>>>8&255,g[m++]=255&V;let H=_/4294967296*1e4&268435455;g[m++]=H>>>8&255,g[m++]=255&H,g[m++]=H>>>24&15|16,g[m++]=H>>>16&255,g[m++]=b>>>8|128,g[m++]=255&b;for(let F=0;F<6;++F)g[m+F]=p[F];return u||(0,n.default)(g)};r.default=d},{"./rng.js":533,"./stringify.js":535}],537:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=o(e("./v35.js")),n=o(e("./md5.js"));function o(a){return a&&a.__esModule?a:{default:a}}var s=(0,i.default)("v3",48,n.default);r.default=s},{"./md5.js":529,"./v35.js":538}],538:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(l,c,d){function h(u,f,m,g){if(typeof u=="string"&&(u=function(b){b=unescape(encodeURIComponent(b));let _=[];for(let E=0;E<b.length;++E)_.push(b.charCodeAt(E));return _}(u)),typeof f=="string"&&(f=(0,n.default)(f)),f.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let p=new Uint8Array(16+u.length);if(p.set(f),p.set(u,f.length),p=d(p),p[6]=15&p[6]|c,p[8]=63&p[8]|128,m){g=g||0;for(let b=0;b<16;++b)m[g+b]=p[b];return m}return(0,i.default)(p)}try{h.name=l}catch{}return h.DNS=s,h.URL=a,h},r.URL=r.DNS=void 0;var i=o(e("./stringify.js")),n=o(e("./parse.js"));function o(l){return l&&l.__esModule?l:{default:l}}let s="6ba7b810-9dad-11d1-80b4-00c04fd430c8";r.DNS=s;let a="6ba7b811-9dad-11d1-80b4-00c04fd430c8";r.URL=a},{"./parse.js":531,"./stringify.js":535}],539:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=o(e("./rng.js")),n=o(e("./stringify.js"));function o(a){return a&&a.__esModule?a:{default:a}}var s=function(a,l,c){let d=(a=a||{}).random||(a.rng||i.default)();if(d[6]=15&d[6]|64,d[8]=63&d[8]|128,l){c=c||0;for(let h=0;h<16;++h)l[c+h]=d[h];return l}return(0,n.default)(d)};r.default=s},{"./rng.js":533,"./stringify.js":535}],540:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=o(e("./v35.js")),n=o(e("./sha1.js"));function o(a){return a&&a.__esModule?a:{default:a}}var s=(0,i.default)("v5",80,n.default);r.default=s},{"./sha1.js":534,"./v35.js":538}],541:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,n=(i=e("./regex.js"))&&i.__esModule?i:{default:i},o=function(s){return typeof s=="string"&&n.default.test(s)};r.default=o},{"./regex.js":532}],542:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i,n=(i=e("./validate.js"))&&i.__esModule?i:{default:i},o=function(s){if(!(0,n.default)(s))throw TypeError("Invalid UUID");return parseInt(s.substr(14,1),16)};r.default=o},{"./validate.js":541}],543:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.CHAR=`	
\r -\uD7FF\uE000-\uFFFD\u{10000}-\u{10FFFF}`,r.S=` 	\r
`,r.NAME_START_CHAR=":A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u{10000}-\u{EFFFF}",r.NAME_CHAR="-"+r.NAME_START_CHAR+".0-9\xB7\u0300-\u036F\u203F-\u2040",r.CHAR_RE=new RegExp("^["+r.CHAR+"]$","u"),r.S_RE=new RegExp("^["+r.S+"]+$","u"),r.NAME_START_CHAR_RE=new RegExp("^["+r.NAME_START_CHAR+"]$","u"),r.NAME_CHAR_RE=new RegExp("^["+r.NAME_CHAR+"]$","u"),r.NAME_RE=new RegExp("^["+r.NAME_START_CHAR+"]["+r.NAME_CHAR+"]*$","u"),r.NMTOKEN_RE=new RegExp("^["+r.NAME_CHAR+"]+$","u");function i(n){return n>=65&&n<=90||n>=97&&n<=122||n===58||n===95||n===8204||n===8205||n>=192&&n<=214||n>=216&&n<=246||n>=248&&n<=767||n>=880&&n<=893||n>=895&&n<=8191||n>=8304&&n<=8591||n>=11264&&n<=12271||n>=12289&&n<=55295||n>=63744&&n<=64975||n>=65008&&n<=65533||n>=65536&&n<=983039}r.S_LIST=[32,10,13,9],r.isChar=function(n){return n>=32&&n<=55295||n===10||n===13||n===9||n>=57344&&n<=65533||n>=65536&&n<=1114111},r.isS=function(n){return n===32||n===10||n===13||n===9},r.isNameStartChar=i,r.isNameChar=function(n){return i(n)||n>=48&&n<=57||n===45||n===46||n===183||n>=768&&n<=879||n>=8255&&n<=8256}},{}],544:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.CHAR="-\uD7FF\uE000-\uFFFD\u{10000}-\u{10FFFF}",r.RESTRICTED_CHAR="-\b\v\f-\x7F-\x84\x86-\x9F",r.S=` 	\r
`,r.NAME_START_CHAR=":A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u{10000}-\u{EFFFF}",r.NAME_CHAR="-"+r.NAME_START_CHAR+".0-9\xB7\u0300-\u036F\u203F-\u2040",r.CHAR_RE=new RegExp("^["+r.CHAR+"]$","u"),r.RESTRICTED_CHAR_RE=new RegExp("^["+r.RESTRICTED_CHAR+"]$","u"),r.S_RE=new RegExp("^["+r.S+"]+$","u"),r.NAME_START_CHAR_RE=new RegExp("^["+r.NAME_START_CHAR+"]$","u"),r.NAME_CHAR_RE=new RegExp("^["+r.NAME_CHAR+"]$","u"),r.NAME_RE=new RegExp("^["+r.NAME_START_CHAR+"]["+r.NAME_CHAR+"]*$","u"),r.NMTOKEN_RE=new RegExp("^["+r.NAME_CHAR+"]+$","u");function i(n){return n>=65&&n<=90||n>=97&&n<=122||n===58||n===95||n===8204||n===8205||n>=192&&n<=214||n>=216&&n<=246||n>=248&&n<=767||n>=880&&n<=893||n>=895&&n<=8191||n>=8304&&n<=8591||n>=11264&&n<=12271||n>=12289&&n<=55295||n>=63744&&n<=64975||n>=65008&&n<=65533||n>=65536&&n<=983039}r.S_LIST=[32,10,13,9],r.isChar=function(n){return n>=1&&n<=55295||n>=57344&&n<=65533||n>=65536&&n<=1114111},r.isRestrictedChar=function(n){return n>=1&&n<=8||n===11||n===12||n>=14&&n<=31||n>=127&&n<=132||n>=134&&n<=159},r.isCharAndNotRestricted=function(n){return n===9||n===10||n===13||n>31&&n<127||n===133||n>159&&n<=55295||n>=57344&&n<=65533||n>=65536&&n<=1114111},r.isS=function(n){return n===32||n===10||n===13||n===9},r.isNameStartChar=i,r.isNameChar=function(n){return i(n)||n>=48&&n<=57||n===45||n===46||n===183||n>=768&&n<=879||n>=8255&&n<=8256}},{}],545:[function(e,t,r){"use strict";function i(n){return n>=65&&n<=90||n===95||n>=97&&n<=122||n>=192&&n<=214||n>=216&&n<=246||n>=248&&n<=767||n>=880&&n<=893||n>=895&&n<=8191||n>=8204&&n<=8205||n>=8304&&n<=8591||n>=11264&&n<=12271||n>=12289&&n<=55295||n>=63744&&n<=64975||n>=65008&&n<=65533||n>=65536&&n<=983039}Object.defineProperty(r,"__esModule",{value:!0}),r.NC_NAME_START_CHAR="A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u{10000}-\u{EFFFF}",r.NC_NAME_CHAR="-"+r.NC_NAME_START_CHAR+".0-9\xB7\u0300-\u036F\u203F-\u2040",r.NC_NAME_START_CHAR_RE=new RegExp("^["+r.NC_NAME_START_CHAR+"]$","u"),r.NC_NAME_CHAR_RE=new RegExp("^["+r.NC_NAME_CHAR+"]$","u"),r.NC_NAME_RE=new RegExp("^["+r.NC_NAME_START_CHAR+"]["+r.NC_NAME_CHAR+"]*$","u"),r.isNCNameStartChar=i,r.isNCNameChar=function(n){return i(n)||n===45||n===46||n>=48&&n<=57||n===183||n>=768&&n<=879||n>=8255&&n<=8256}},{}]},{},[15])(15)})});var sot=xi((q9,G9)=>{"use strict";(function(e,t){typeof define=="function"&&define.amd?define([],t):typeof q9<"u"?t():(t(),e.FileSaver={})})(q9,function(){"use strict";function e(a,l){return typeof l>"u"?l={autoBom:!1}:typeof l!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}function t(a,l,c){var d=new XMLHttpRequest;d.open("GET",a),d.responseType="blob",d.onload=function(){s(d.response,l,c)},d.onerror=function(){console.error("could not download file")},d.send()}function r(a){var l=new XMLHttpRequest;l.open("HEAD",a,!1);try{l.send()}catch{}return 200<=l.status&&299>=l.status}function i(a){try{a.dispatchEvent(new MouseEvent("click"))}catch{var l=document.createEvent("MouseEvents");l.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(l)}}var n=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,o=n.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=n.saveAs||(typeof window!="object"||window!==n?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(a,l,c){var d=n.URL||n.webkitURL,h=document.createElement("a");l=l||a.name||"download",h.download=l,h.rel="noopener",typeof a=="string"?(h.href=a,h.origin===location.origin?i(h):r(h.href)?t(a,l,c):i(h,h.target="_blank")):(h.href=d.createObjectURL(a),setTimeout(function(){d.revokeObjectURL(h.href)},4e4),setTimeout(function(){i(h)},0))}:"msSaveOrOpenBlob"in navigator?function(a,l,c){if(l=l||a.name||"download",typeof a!="string")navigator.msSaveOrOpenBlob(e(a,c),l);else if(r(a))t(a,l,c);else{var d=document.createElement("a");d.href=a,d.target="_blank",setTimeout(function(){i(d)})}}:function(a,l,c,d){if(d=d||open("","_blank"),d&&(d.document.title=d.document.body.innerText="downloading..."),typeof a=="string")return t(a,l,c);var h=a.type==="application/octet-stream",u=/constructor/i.test(n.HTMLElement)||n.safari,f=/CriOS\/[\d]+/.test(navigator.userAgent);if((f||h&&u||o)&&typeof FileReader<"u"){var m=new FileReader;m.onloadend=function(){var b=m.result;b=f?b:b.replace(/^data:[^;]*;/,"data:attachment/file;"),d?d.location.href=b:location=b,d=null},m.readAsDataURL(a)}else{var g=n.URL||n.webkitURL,p=g.createObjectURL(a);d?d.location=p:location.href=p,d=null,setTimeout(function(){g.revokeObjectURL(p)},4e4)}});n.saveAs=s.saveAs=s,typeof G9<"u"&&(G9.exports=s)})});var Kw=class{},eT=class{},zu=class e{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(r=>{let i=r.indexOf(":");if(i>0){let n=r.slice(0,i),o=n.toLowerCase(),s=r.slice(i+1).trim();this.maybeSetNormalizedName(n,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((r,i)=>{this.setHeaderEntries(i,r)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([r,i])=>{this.setHeaderEntries(r,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let r=this.headers.get(t.toLowerCase());return r&&r.length>0?r[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,r){return this.clone({name:t,value:r,op:"a"})}set(t,r){return this.clone({name:t,value:r,op:"s"})}delete(t,r){return this.clone({name:t,value:r,op:"d"})}maybeSetNormalizedName(t,r){this.normalizedNames.has(r)||this.normalizedNames.set(r,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(r=>{this.headers.set(r,t.headers.get(r)),this.normalizedNames.set(r,t.normalizedNames.get(r))})}clone(t){let r=new e;return r.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,r.lazyUpdate=(this.lazyUpdate||[]).concat([t]),r}applyUpdate(t){let r=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(t.name,r);let n=(t.op==="a"?this.headers.get(r):void 0)||[];n.push(...i),this.headers.set(r,n);break;case"d":let o=t.value;if(!o)this.headers.delete(r),this.normalizedNames.delete(r);else{let s=this.headers.get(r);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(r),this.normalizedNames.delete(r)):this.headers.set(r,s)}break}}setHeaderEntries(t,r){let i=(Array.isArray(r)?r:[r]).map(o=>o.toString()),n=t.toLowerCase();this.headers.set(n,i),this.maybeSetNormalizedName(t,n)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(r=>t(this.normalizedNames.get(r),this.headers.get(r)))}};var jO=class{encodeKey(t){return OB(t)}encodeValue(t){return OB(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function Jst(e,t){let r=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(n=>{let o=n.indexOf("="),[s,a]=o==-1?[t.decodeKey(n),""]:[t.decodeKey(n.slice(0,o)),t.decodeValue(n.slice(o+1))],l=r.get(s)||[];l.push(a),r.set(s,l)}),r}var tat=/%(\d[a-f0-9])/gi,eat={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function OB(e){return encodeURIComponent(e).replace(tat,(t,r)=>eat[r]??t)}function tT(e){return`${e}`}var um=class e{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new jO,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=Jst(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(r=>{let i=t.fromObject[r],n=Array.isArray(i)?i.map(tT):[tT(i)];this.map.set(r,n)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let r=this.map.get(t);return r?r[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,r){return this.clone({param:t,value:r,op:"a"})}appendAll(t){let r=[];return Object.keys(t).forEach(i=>{let n=t[i];Array.isArray(n)?n.forEach(o=>{r.push({param:i,value:o,op:"a"})}):r.push({param:i,value:n,op:"a"})}),this.clone(r)}set(t,r){return this.clone({param:t,value:r,op:"s"})}delete(t,r){return this.clone({param:t,value:r,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let r=this.encoder.encodeKey(t);return this.map.get(t).map(i=>r+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let r=new e({encoder:this.encoder});return r.cloneFrom=this.cloneFrom||this,r.updates=(this.updates||[]).concat(t),r}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let r=(t.op==="a"?this.map.get(t.param):void 0)||[];r.push(tT(t.value)),this.map.set(t.param,r);break;case"d":if(t.value!==void 0){let i=this.map.get(t.param)||[],n=i.indexOf(tT(t.value));n!==-1&&i.splice(n,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var VO=class{constructor(){this.map=new Map}set(t,r){return this.map.set(t,r),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function iat(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function PB(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function NB(e){return typeof Blob<"u"&&e instanceof Blob}function LB(e){return typeof FormData<"u"&&e instanceof FormData}function rat(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var Gw=class e{constructor(t,r,i,n){this.url=r,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase();let o;if(iat(this.method)||n?(this.body=i!==void 0?i:null,o=n):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new zu,this.context??=new VO,!this.params)this.params=new um,this.urlWithParams=r;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=r;else{let a=r.indexOf("?"),l=a===-1?"?":a<r.length-1?"&":"";this.urlWithParams=r+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||PB(this.body)||NB(this.body)||LB(this.body)||rat(this.body)?this.body:this.body instanceof um?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||LB(this.body)?null:NB(this.body)?this.body.type||null:PB(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof um?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(t={}){let r=t.method||this.method,i=t.url||this.url,n=t.responseType||this.responseType,o=t.transferCache??this.transferCache,s=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress,c=t.headers||this.headers,d=t.params||this.params,h=t.context??this.context;return t.setHeaders!==void 0&&(c=Object.keys(t.setHeaders).reduce((u,f)=>u.set(f,t.setHeaders[f]),c)),t.setParams&&(d=Object.keys(t.setParams).reduce((u,f)=>u.set(f,t.setParams[f]),d)),new e(r,i,s,{params:d,headers:c,context:h,reportProgress:l,responseType:n,withCredentials:a,transferCache:o})}},fm=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(fm||{}),Xw=class{constructor(t,r=200,i="OK"){this.headers=t.headers||new zu,this.status=t.status!==void 0?t.status:r,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},iT=class e extends Xw{constructor(t={}){super(t),this.type=fm.ResponseHeader}clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Zw=class e extends Xw{constructor(t={}){super(t),this.type=fm.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},hm=class extends Xw{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},VB=200,nat=204;function BO(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var Uu=(()=>{let t=class t{constructor(i){this.handler=i}request(i,n,o={}){let s;if(i instanceof Gw)s=i;else{let c;o.headers instanceof zu?c=o.headers:c=new zu(o.headers);let d;o.params&&(o.params instanceof um?d=o.params:d=new um({fromObject:o.params})),s=new Gw(i,n,o.body!==void 0?o.body:null,{headers:c,context:o.context,params:d,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=Me(s).pipe(pd(c=>this.handler.handle(c)));if(i instanceof Gw||o.observe==="events")return a;let l=a.pipe(co(c=>c instanceof Zw));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe(ui(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return l.pipe(ui(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return l.pipe(ui(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return l.pipe(ui(c=>c.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(i,n={}){return this.request("DELETE",i,n)}get(i,n={}){return this.request("GET",i,n)}head(i,n={}){return this.request("HEAD",i,n)}jsonp(i,n){return this.request("JSONP",i,{params:new um().append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,n={}){return this.request("OPTIONS",i,n)}patch(i,n,o={}){return this.request("PATCH",i,BO(o,n))}post(i,n,o={}){return this.request("POST",i,BO(o,n))}put(i,n,o={}){return this.request("PUT",i,BO(o,n))}};t.\u0275fac=function(n){return new(n||t)(Jt(Kw))},t.\u0275prov=we({token:t,factory:t.\u0275fac});let e=t;return e})(),oat=/^\)\]\}',?\n/,sat="X-Request-URL";function FB(e){if(e.url)return e.url;let t=sat.toLocaleLowerCase();return e.headers.get(t)}var aat=(()=>{let t=class t{constructor(){this.fetchImpl=pe(zO,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=pe(ci)}handle(i){return new Ch(n=>{let o=new AbortController;return this.doRequest(i,o.signal,n).then(UO,s=>n.error(new hm({error:s}))),()=>o.abort()})}doRequest(i,n,o){return wr(this,null,function*(){let s=this.createRequestInit(i),a;try{let m=this.fetchImpl(i.urlWithParams,jt({signal:n},s));lat(m),o.next({type:fm.Sent}),a=yield m}catch(m){o.error(new hm({error:m,status:m.status??0,statusText:m.statusText,url:i.urlWithParams,headers:m.headers}));return}let l=new zu(a.headers),c=a.statusText,d=FB(a)??i.urlWithParams,h=a.status,u=null;if(i.reportProgress&&o.next(new iT({headers:l,status:h,statusText:c,url:d})),a.body){let m=a.headers.get("content-length"),g=[],p=a.body.getReader(),b=0,_,E,O=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>wr(this,null,function*(){for(;;){let{done:H,value:F}=yield p.read();if(H)break;if(g.push(F),b+=F.length,i.reportProgress){E=i.responseType==="text"?(E??"")+(_??=new TextDecoder).decode(F,{stream:!0}):void 0;let L=()=>o.next({type:fm.DownloadProgress,total:m?+m:void 0,loaded:b,partialText:E});O?O.run(L):L()}}}));let V=this.concatChunks(g,b);try{let H=a.headers.get("Content-Type")??"";u=this.parseBody(i,V,H)}catch(H){o.error(new hm({error:H,headers:new zu(a.headers),status:a.status,statusText:a.statusText,url:FB(a)??i.urlWithParams}));return}}h===0&&(h=u?VB:0),h>=200&&h<300?(o.next(new Zw({body:u,headers:l,status:h,statusText:c,url:d})),o.complete()):o.error(new hm({error:u,headers:l,status:h,statusText:c,url:d}))})}parseBody(i,n,o){switch(i.responseType){case"json":let s=new TextDecoder().decode(n).replace(oat,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(n);case"blob":return new Blob([n],{type:o});case"arraybuffer":return n.buffer}}createRequestInit(i){let n={},o=i.withCredentials?"include":void 0;if(i.headers.forEach((s,a)=>n[s]=a.join(",")),n.Accept??="application/json, text/plain, */*",!n["Content-Type"]){let s=i.detectContentTypeHeader();s!==null&&(n["Content-Type"]=s)}return{body:i.serializeBody(),method:i.method,headers:n,credentials:o}}concatChunks(i,n){let o=new Uint8Array(n),s=0;for(let a of i)o.set(a,s),s+=a.length;return o}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=we({token:t,factory:t.\u0275fac});let e=t;return e})(),zO=class{};function UO(){}function lat(e){e.then(UO,UO)}function zB(e,t){return t(e)}function cat(e,t){return(r,i)=>t.intercept(r,{handle:n=>e(n,i)})}function dat(e,t,r){return(i,n)=>yc(r,()=>t(i,o=>e(o,n)))}var hat=new Se(""),WO=new Se(""),uat=new Se(""),UB=new Se("",{providedIn:"root",factory:()=>!0});function fat(){let e=null;return(t,r)=>{e===null&&(e=(pe(hat,{optional:!0})??[]).reduceRight(cat,zB));let i=pe(Lw);if(pe(UB)){let o=i.add();return e(t,r).pipe(Fu(()=>i.remove(o)))}else return e(t,r)}}var HB=(()=>{let t=class t extends Kw{constructor(i,n){super(),this.backend=i,this.injector=n,this.chain=null,this.pendingTasks=pe(Lw),this.contributeToStability=pe(UB)}handle(i){if(this.chain===null){let n=Array.from(new Set([...this.injector.get(WO),...this.injector.get(uat,[])]));this.chain=n.reduceRight((o,s)=>dat(o,s,this.injector),zB)}if(this.contributeToStability){let n=this.pendingTasks.add();return this.chain(i,o=>this.backend.handle(o)).pipe(Fu(()=>this.pendingTasks.remove(n)))}else return this.chain(i,n=>this.backend.handle(n))}};t.\u0275fac=function(n){return new(n||t)(Jt(eT),Jt(Sh))},t.\u0275prov=we({token:t,factory:t.\u0275fac});let e=t;return e})();var mat=/^\)\]\}',?\n/;function pat(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}var BB=(()=>{let t=class t{constructor(i){this.xhrFactory=i}handle(i){if(i.method==="JSONP")throw new An(-2800,!1);let n=this.xhrFactory;return(n.\u0275loadImpl?as(n.\u0275loadImpl()):Me(null)).pipe(_o(()=>new Ch(s=>{let a=n.build();if(a.open(i.method,i.urlWithParams),i.withCredentials&&(a.withCredentials=!0),i.headers.forEach((p,b)=>a.setRequestHeader(p,b.join(","))),i.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!i.headers.has("Content-Type")){let p=i.detectContentTypeHeader();p!==null&&a.setRequestHeader("Content-Type",p)}if(i.responseType){let p=i.responseType.toLowerCase();a.responseType=p!=="json"?p:"text"}let l=i.serializeBody(),c=null,d=()=>{if(c!==null)return c;let p=a.statusText||"OK",b=new zu(a.getAllResponseHeaders()),_=pat(a)||i.url;return c=new iT({headers:b,status:a.status,statusText:p,url:_}),c},h=()=>{let{headers:p,status:b,statusText:_,url:E}=d(),O=null;b!==nat&&(O=typeof a.response>"u"?a.responseText:a.response),b===0&&(b=O?VB:0);let V=b>=200&&b<300;if(i.responseType==="json"&&typeof O=="string"){let H=O;O=O.replace(mat,"");try{O=O!==""?JSON.parse(O):null}catch(F){O=H,V&&(V=!1,O={error:F,text:O})}}V?(s.next(new Zw({body:O,headers:p,status:b,statusText:_,url:E||void 0})),s.complete()):s.error(new hm({error:O,headers:p,status:b,statusText:_,url:E||void 0}))},u=p=>{let{url:b}=d(),_=new hm({error:p,status:a.status||0,statusText:a.statusText||"Unknown Error",url:b||void 0});s.error(_)},f=!1,m=p=>{f||(s.next(d()),f=!0);let b={type:fm.DownloadProgress,loaded:p.loaded};p.lengthComputable&&(b.total=p.total),i.responseType==="text"&&a.responseText&&(b.partialText=a.responseText),s.next(b)},g=p=>{let b={type:fm.UploadProgress,loaded:p.loaded};p.lengthComputable&&(b.total=p.total),s.next(b)};return a.addEventListener("load",h),a.addEventListener("error",u),a.addEventListener("timeout",u),a.addEventListener("abort",u),i.reportProgress&&(a.addEventListener("progress",m),l!==null&&a.upload&&a.upload.addEventListener("progress",g)),a.send(l),s.next({type:fm.Sent}),()=>{a.removeEventListener("error",u),a.removeEventListener("abort",u),a.removeEventListener("load",h),a.removeEventListener("timeout",u),i.reportProgress&&(a.removeEventListener("progress",m),l!==null&&a.upload&&a.upload.removeEventListener("progress",g)),a.readyState!==a.DONE&&a.abort()}})))}};t.\u0275fac=function(n){return new(n||t)(Jt(XR))},t.\u0275prov=we({token:t,factory:t.\u0275fac});let e=t;return e})(),WB=new Se(""),gat="XSRF-TOKEN",bat=new Se("",{providedIn:"root",factory:()=>gat}),vat="X-XSRF-TOKEN",yat=new Se("",{providedIn:"root",factory:()=>vat}),rT=class{},_at=(()=>{let t=class t{constructor(i,n,o){this.doc=i,this.platform=n,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=$R(i,this.cookieName),this.lastCookieString=i),this.lastToken}};t.\u0275fac=function(n){return new(n||t)(Jt(Ai),Jt(Bu),Jt(bat))},t.\u0275prov=we({token:t,factory:t.\u0275fac});let e=t;return e})();function wat(e,t){let r=e.url.toLowerCase();if(!pe(WB)||e.method==="GET"||e.method==="HEAD"||r.startsWith("http://")||r.startsWith("https://"))return t(e);let i=pe(rT).getToken(),n=pe(yat);return i!=null&&!e.headers.has(n)&&(e=e.clone({headers:e.headers.set(n,i)})),t(e)}var YB=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(YB||{});function Cat(e,t){return{\u0275kind:e,\u0275providers:t}}function YO(...e){let t=[Uu,BB,HB,{provide:Kw,useExisting:HB},{provide:eT,useFactory:()=>pe(aat,{optional:!0})??pe(BB)},{provide:WO,useValue:wat,multi:!0},{provide:WB,useValue:!0},{provide:rT,useClass:_at}];for(let r of e)t.push(...r.\u0275providers);return Vl(t)}var jB=new Se("");function xat(){return Cat(YB.LegacyInterceptors,[{provide:jB,useFactory:fat},{provide:WO,useExisting:jB,multi:!0}])}var $B=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ze({type:t}),t.\u0275inj=Ve({providers:[YO(xat())]});let e=t;return e})();var KO=class extends gB{constructor(){super(...arguments),this.supportsDOMEvents=!0}},XO=class e extends KO{static makeCurrent(){pB(new e)}onAndCancel(t,r,i){return t.addEventListener(r,i),()=>{t.removeEventListener(r,i)}}dispatchEvent(t,r){t.dispatchEvent(r)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,r){return r=r||this.getDefaultDocument(),r.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,r){return r==="window"?window:r==="document"?t:r==="body"?t.body:null}getBaseHref(t){let r=Eat();return r==null?null:Rat(r)}resetBaseElement(){Qw=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return $R(document.cookie,t)}},Qw=null;function Eat(){return Qw=Qw||document.querySelector("base"),Qw?Qw.getAttribute("href"):null}function Rat(e){return new URL(e,document.baseURI).pathname}var Tat=(()=>{let t=class t{build(){return new XMLHttpRequest}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=we({token:t,factory:t.\u0275fac});let e=t;return e})(),ZO=new Se(""),KB=(()=>{let t=class t{constructor(i,n){this._zone=n,this._eventNameToPlugin=new Map,i.forEach(o=>{o.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,n,o){return this._findPluginFor(n).addEventListener(i,n,o)}getZone(){return this._zone}_findPluginFor(i){let n=this._eventNameToPlugin.get(i);if(n)return n;if(n=this._plugins.find(s=>s.supports(i)),!n)throw new An(5101,!1);return this._eventNameToPlugin.set(i,n),n}};t.\u0275fac=function(n){return new(n||t)(Jt(ZO),Jt(ci))},t.\u0275prov=we({token:t,factory:t.\u0275fac});let e=t;return e})(),nT=class{constructor(t){this._doc=t}},qO="ng-app-id",XB=(()=>{let t=class t{constructor(i,n,o,s={}){this.doc=i,this.appId=n,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=KR(s),this.resetHostNodes()}addStyles(i){for(let n of i)this.changeUsageCount(n,1)===1&&this.onStyleAdded(n)}removeStyles(i){for(let n of i)this.changeUsageCount(n,-1)<=0&&this.onStyleRemoved(n)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(n=>n.remove()),i.clear());for(let n of this.getAllStyles())this.onStyleRemoved(n);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let n of this.getAllStyles())this.addStyleToHost(i,n)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let n of this.hostNodes)this.addStyleToHost(n,i)}onStyleRemoved(i){let n=this.styleRef;n.get(i)?.elements?.forEach(o=>o.remove()),n.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${qO}="${this.appId}"]`);if(i?.length){let n=new Map;return i.forEach(o=>{o.textContent!=null&&n.set(o.textContent,o)}),n}return null}changeUsageCount(i,n){let o=this.styleRef;if(o.has(i)){let s=o.get(i);return s.usage+=n,s.usage}return o.set(i,{usage:n,elements:[]}),n}getStyleElement(i,n){let o=this.styleNodesInDOM,s=o?.get(n);if(s?.parentNode===i)return o.delete(n),s.removeAttribute(qO),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=n,this.platformIsServer&&a.setAttribute(qO,this.appId),i.appendChild(a),a}}addStyleToHost(i,n){let o=this.getStyleElement(i,n),s=this.styleRef,a=s.get(n)?.elements;a?a.push(o):s.set(n,{elements:[o],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};t.\u0275fac=function(n){return new(n||t)(Jt(Ai),Jt(Fw),Jt(Hw,8),Jt(Bu))},t.\u0275prov=we({token:t,factory:t.\u0275fac});let e=t;return e})(),GO={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},t3=/%COMP%/g,ZB="%COMP%",Mat=`_nghost-${ZB}`,Aat=`_ngcontent-${ZB}`,Iat=!0,kat=new Se("",{providedIn:"root",factory:()=>Iat});function Dat(e){return Aat.replace(t3,e)}function Oat(e){return Mat.replace(t3,e)}function QB(e,t){return t.map(r=>r.replace(t3,e))}var oT=(()=>{let t=class t{constructor(i,n,o,s,a,l,c,d=null){this.eventManager=i,this.sharedStylesHost=n,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=KR(l),this.defaultRenderer=new Jw(i,a,c,this.platformIsServer)}createRenderer(i,n){if(!i||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===Nw.ShadowDom&&(n=Ue(jt({},n),{encapsulation:Nw.Emulated}));let o=this.getOrCreateRenderer(i,n);return o instanceof sT?o.applyToHost(i):o instanceof t1&&o.applyStyles(),o}getOrCreateRenderer(i,n){let o=this.rendererByCompId,s=o.get(n.id);if(!s){let a=this.doc,l=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,u=this.platformIsServer;switch(n.encapsulation){case Nw.Emulated:s=new sT(c,d,n,this.appId,h,a,l,u);break;case Nw.ShadowDom:return new QO(c,d,i,n,a,l,this.nonce,u);default:s=new t1(c,d,n,h,a,l,u);break}o.set(n.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};t.\u0275fac=function(n){return new(n||t)(Jt(KB),Jt(XB),Jt(Fw),Jt(kat),Jt(Ai),Jt(Bu),Jt(ci),Jt(Hw))},t.\u0275prov=we({token:t,factory:t.\u0275fac});let e=t;return e})(),Jw=class{constructor(t,r,i,n){this.eventManager=t,this.doc=r,this.ngZone=i,this.platformIsServer=n,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,r){return r?this.doc.createElementNS(GO[r]||r,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,r){(qB(t)?t.content:t).appendChild(r)}insertBefore(t,r,i){t&&(qB(t)?t.content:t).insertBefore(r,i)}removeChild(t,r){t&&t.removeChild(r)}selectRootElement(t,r){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new An(-5104,!1);return r||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,r,i,n){if(n){r=n+":"+r;let o=GO[n];o?t.setAttributeNS(o,r,i):t.setAttribute(r,i)}else t.setAttribute(r,i)}removeAttribute(t,r,i){if(i){let n=GO[i];n?t.removeAttributeNS(n,r):t.removeAttribute(`${i}:${r}`)}else t.removeAttribute(r)}addClass(t,r){t.classList.add(r)}removeClass(t,r){t.classList.remove(r)}setStyle(t,r,i,n){n&(Bw.DashCase|Bw.Important)?t.style.setProperty(r,i,n&Bw.Important?"important":""):t.style[r]=i}removeStyle(t,r,i){i&Bw.DashCase?t.style.removeProperty(r):t.style[r]=""}setProperty(t,r,i){t!=null&&(t[r]=i)}setValue(t,r){t.nodeValue=r}listen(t,r,i){if(typeof t=="string"&&(t=zb().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${r}`);return this.eventManager.addEventListener(t,r,this.decoratePreventDefault(i))}decoratePreventDefault(t){return r=>{if(r==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(r)):t(r))===!1&&r.preventDefault()}}};function qB(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var QO=class extends Jw{constructor(t,r,i,n,o,s,a,l){super(t,o,s,l),this.sharedStylesHost=r,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=QB(n.id,n.styles);for(let d of c){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=d,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,r){return super.appendChild(this.nodeOrShadowRoot(t),r)}insertBefore(t,r,i){return super.insertBefore(this.nodeOrShadowRoot(t),r,i)}removeChild(t,r){return super.removeChild(this.nodeOrShadowRoot(t),r)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},t1=class extends Jw{constructor(t,r,i,n,o,s,a,l){super(t,o,s,a),this.sharedStylesHost=r,this.removeStylesOnCompDestroy=n,this.styles=l?QB(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},sT=class extends t1{constructor(t,r,i,n,o,s,a,l){let c=n+"-"+i.id;super(t,r,i,o,s,a,l,c),this.contentAttr=Dat(c),this.hostAttr=Oat(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,r){let i=super.createElement(t,r);return super.setAttribute(i,this.contentAttr,""),i}},Pat=(()=>{let t=class t extends nT{constructor(i){super(i)}supports(i){return!0}addEventListener(i,n,o){return i.addEventListener(n,o,!1),()=>this.removeEventListener(i,n,o)}removeEventListener(i,n,o){return i.removeEventListener(n,o)}};t.\u0275fac=function(n){return new(n||t)(Jt(Ai))},t.\u0275prov=we({token:t,factory:t.\u0275fac});let e=t;return e})(),GB=["alt","control","meta","shift"],Nat={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Lat={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},Fat=(()=>{let t=class t extends nT{constructor(i){super(i)}supports(i){return t.parseEventName(i)!=null}addEventListener(i,n,o){let s=t.parseEventName(n),a=t.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>zb().onAndCancel(i,s.domEventName,a))}static parseEventName(i){let n=i.toLowerCase().split("."),o=n.shift();if(n.length===0||!(o==="keydown"||o==="keyup"))return null;let s=t._normalizeKey(n.pop()),a="",l=n.indexOf("code");if(l>-1&&(n.splice(l,1),a="code."),GB.forEach(d=>{let h=n.indexOf(d);h>-1&&(n.splice(h,1),a+=d+".")}),a+=s,n.length!=0||s.length===0)return null;let c={};return c.domEventName=o,c.fullKey=a,c}static matchEventFullKeyCode(i,n){let o=Nat[i.key]||i.key,s="";return n.indexOf("code.")>-1&&(o=i.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),GB.forEach(a=>{if(a!==o){let l=Lat[a];l(i)&&(s+=a+".")}}),s+=o,s===n)}static eventCallback(i,n,o){return s=>{t.matchEventFullKeyCode(s,i)&&o.runGuarded(()=>n(s))}}static _normalizeKey(i){return i==="esc"?"escape":i}};t.\u0275fac=function(n){return new(n||t)(Jt(Ai))},t.\u0275prov=we({token:t,factory:t.\u0275fac});let e=t;return e})();function JB(e,t){return uB(jt({rootComponent:e},Hat(t)))}function Hat(e){return{appProviders:[...Uat,...e?.providers??[]],platformProviders:zat}}function Bat(){XO.makeCurrent()}function jat(){return new Rg}function Vat(){return qH(document),document}var zat=[{provide:Bu,useValue:_B},{provide:GH,useValue:Bat,multi:!0},{provide:Ai,useFactory:Vat,deps:[]}];var Uat=[{provide:$H,useValue:"root"},{provide:Rg,useFactory:jat,deps:[]},{provide:ZO,useClass:Pat,multi:!0,deps:[Ai,ci,Bu]},{provide:ZO,useClass:Fat,multi:!0,deps:[Ai]},oT,XB,KB,{provide:BR,useExisting:oT},{provide:XR,useClass:Tat,deps:[]},[]];var tj=(()=>{let t=class t{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};t.\u0275fac=function(n){return new(n||t)(Jt(Ai))},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var e3=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=we({token:t,factory:function(n){let o=null;return n?o=new(n||t):o=Jt(Wat),o},providedIn:"root"});let e=t;return e})(),Wat=(()=>{let t=class t extends e3{constructor(i){super(),this._doc=i}sanitize(i,n){if(n==null)return null;switch(i){case Ul.NONE:return n;case Ul.HTML:return Fb(n,"HTML")?Lb(n):eB(this._doc,String(n)).toString();case Ul.STYLE:return Fb(n,"Style")?Lb(n):n;case Ul.SCRIPT:if(Fb(n,"Script"))return Lb(n);throw new An(5200,!1);case Ul.URL:return Fb(n,"URL")?Lb(n):tB(String(n));case Ul.RESOURCE_URL:if(Fb(n,"ResourceURL"))return Lb(n);throw new An(5201,!1);default:throw new An(5202,!1)}}bypassSecurityTrustHtml(i){return KH(i)}bypassSecurityTrustStyle(i){return XH(i)}bypassSecurityTrustScript(i){return ZH(i)}bypassSecurityTrustUrl(i){return QH(i)}bypassSecurityTrustResourceUrl(i){return JH(i)}};t.\u0275fac=function(n){return new(n||t)(Jt(Ai))},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Er="primary",p1=Symbol("RouteTitle"),s3=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let r=this.params[t];return Array.isArray(r)?r[0]:r}return null}getAll(t){if(this.has(t)){let r=this.params[t];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}};function Xb(e){return new s3(e)}function Yat(e,t,r){let i=r.path.split("/");if(i.length>e.length||r.pathMatch==="full"&&(t.hasChildren()||i.length<e.length))return null;let n={};for(let o=0;o<i.length;o++){let s=i[o],a=e[o];if(s[0]===":")n[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,i.length),posParams:n}}function $at(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!Eh(e[r],t[r]))return!1;return!0}function Eh(e,t){let r=e?a3(e):void 0,i=t?a3(t):void 0;if(!r||!i||r.length!=i.length)return!1;let n;for(let o=0;o<r.length;o++)if(n=r[o],!uj(e[n],t[n]))return!1;return!0}function a3(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function uj(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let r=[...e].sort(),i=[...t].sort();return r.every((n,o)=>i[o]===n)}else return e===t}function fj(e){return e.length>0?e[e.length-1]:null}function gm(e){return xh(e)?e:UR(e)?as(Promise.resolve(e)):Me(e)}var qat={exact:pj,subset:gj},mj={exact:Gat,subset:Kat,ignored:()=>!0};function ij(e,t,r){return qat[r.paths](e.root,t.root,r.matrixParams)&&mj[r.queryParams](e.queryParams,t.queryParams)&&!(r.fragment==="exact"&&e.fragment!==t.fragment)}function Gat(e,t){return Eh(e,t)}function pj(e,t,r){if(!Ig(e.segments,t.segments)||!cT(e.segments,t.segments,r)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let i in t.children)if(!e.children[i]||!pj(e.children[i],t.children[i],r))return!1;return!0}function Kat(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(r=>uj(e[r],t[r]))}function gj(e,t,r){return bj(e,t,t.segments,r)}function bj(e,t,r,i){if(e.segments.length>r.length){let n=e.segments.slice(0,r.length);return!(!Ig(n,r)||t.hasChildren()||!cT(n,r,i))}else if(e.segments.length===r.length){if(!Ig(e.segments,r)||!cT(e.segments,r,i))return!1;for(let n in t.children)if(!e.children[n]||!gj(e.children[n],t.children[n],i))return!1;return!0}else{let n=r.slice(0,e.segments.length),o=r.slice(e.segments.length);return!Ig(e.segments,n)||!cT(e.segments,n,i)||!e.children[Er]?!1:bj(e.children[Er],t,o,i)}}function cT(e,t,r){return t.every((i,n)=>mj[r](e[n].parameters,i.parameters))}var mm=class{constructor(t=new gn([],{}),r={},i=null){this.root=t,this.queryParams=r,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Xb(this.queryParams),this._queryParamMap}toString(){return Qat.serialize(this)}},gn=class{constructor(t,r){this.segments=t,this.children=r,this.parent=null,Object.values(r).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return dT(this)}},Ag=class{constructor(t,r){this.path=t,this.parameters=r}get parameterMap(){return this._parameterMap??=Xb(this.parameters),this._parameterMap}toString(){return yj(this)}};function Xat(e,t){return Ig(e,t)&&e.every((r,i)=>Eh(r.parameters,t[i].parameters))}function Ig(e,t){return e.length!==t.length?!1:e.every((r,i)=>r.path===t[i].path)}function Zat(e,t){let r=[];return Object.entries(e.children).forEach(([i,n])=>{i===Er&&(r=r.concat(t(n,i)))}),Object.entries(e.children).forEach(([i,n])=>{i!==Er&&(r=r.concat(t(n,i)))}),r}var g1=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=we({token:t,factory:()=>new Zb,providedIn:"root"});let e=t;return e})(),Zb=class{parse(t){let r=new c3(t);return new mm(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(t){let r=`/${e1(t.root,!0)}`,i=elt(t.queryParams),n=typeof t.fragment=="string"?`#${Jat(t.fragment)}`:"";return`${r}${i}${n}`}},Qat=new Zb;function dT(e){return e.segments.map(t=>yj(t)).join("/")}function e1(e,t){if(!e.hasChildren())return dT(e);if(t){let r=e.children[Er]?e1(e.children[Er],!1):"",i=[];return Object.entries(e.children).forEach(([n,o])=>{n!==Er&&i.push(`${n}:${e1(o,!1)}`)}),i.length>0?`${r}(${i.join("//")})`:r}else{let r=Zat(e,(i,n)=>n===Er?[e1(e.children[Er],!1)]:[`${n}:${e1(i,!1)}`]);return Object.keys(e.children).length===1&&e.children[Er]!=null?`${dT(e)}/${r[0]}`:`${dT(e)}/(${r.join("//")})`}}function vj(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function aT(e){return vj(e).replace(/%3B/gi,";")}function Jat(e){return encodeURI(e)}function l3(e){return vj(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function hT(e){return decodeURIComponent(e)}function rj(e){return hT(e.replace(/\+/g,"%20"))}function yj(e){return`${l3(e.path)}${tlt(e.parameters)}`}function tlt(e){return Object.entries(e).map(([t,r])=>`;${l3(t)}=${l3(r)}`).join("")}function elt(e){let t=Object.entries(e).map(([r,i])=>Array.isArray(i)?i.map(n=>`${aT(r)}=${aT(n)}`).join("&"):`${aT(r)}=${aT(i)}`).filter(r=>r);return t.length?`?${t.join("&")}`:""}var ilt=/^[^\/()?;#]+/;function i3(e){let t=e.match(ilt);return t?t[0]:""}var rlt=/^[^\/()?;=#]+/;function nlt(e){let t=e.match(rlt);return t?t[0]:""}var olt=/^[^=?&#]+/;function slt(e){let t=e.match(olt);return t?t[0]:""}var alt=/^[^&#]+/;function llt(e){let t=e.match(alt);return t?t[0]:""}var c3=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new gn([],{}):new gn([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(r).length>0)&&(i[Er]=new gn(t,r)),i}parseSegment(){let t=i3(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new An(4009,!1);return this.capture(t),new Ag(hT(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let r=nlt(this.remaining);if(!r)return;this.capture(r);let i="";if(this.consumeOptional("=")){let n=i3(this.remaining);n&&(i=n,this.capture(i))}t[hT(r)]=hT(i)}parseQueryParam(t){let r=slt(this.remaining);if(!r)return;this.capture(r);let i="";if(this.consumeOptional("=")){let s=llt(this.remaining);s&&(i=s,this.capture(i))}let n=rj(r),o=rj(i);if(t.hasOwnProperty(n)){let s=t[n];Array.isArray(s)||(s=[s],t[n]=s),s.push(o)}else t[n]=o}parseParens(t){let r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=i3(this.remaining),n=this.remaining[i.length];if(n!=="/"&&n!==")"&&n!==";")throw new An(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Er);let s=this.parseChildren();r[o]=Object.keys(s).length===1?s[Er]:new gn([],s),this.consumeOptional("//")}return r}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new An(4011,!1)}};function _j(e){return e.segments.length>0?new gn([],{[Er]:e}):e}function wj(e){let t={};for(let[i,n]of Object.entries(e.children)){let o=wj(n);if(i===Er&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[i]=o)}let r=new gn(e.segments,t);return clt(r)}function clt(e){if(e.numberOfChildren===1&&e.children[Er]){let t=e.children[Er];return new gn(e.segments.concat(t.segments),t.children)}return e}function a1(e){return e instanceof mm}function dlt(e,t,r=null,i=null){let n=Cj(e);return xj(n,t,r,i)}function Cj(e){let t;function r(o){let s={};for(let l of o.children){let c=r(l);s[l.outlet]=c}let a=new gn(o.url,s);return o===e&&(t=a),a}let i=r(e.root),n=_j(i);return t??n}function xj(e,t,r,i){let n=e;for(;n.parent;)n=n.parent;if(t.length===0)return r3(n,n,n,r,i);let o=hlt(t);if(o.toRoot())return r3(n,n,new gn([],{}),r,i);let s=ult(o,n,e),a=s.processChildren?n1(s.segmentGroup,s.index,o.commands):Ej(s.segmentGroup,s.index,o.commands);return r3(n,s.segmentGroup,a,r,i)}function uT(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function l1(e){return typeof e=="object"&&e!=null&&e.outlets}function r3(e,t,r,i,n){let o={};i&&Object.entries(i).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`});let s;e===t?s=r:s=Sj(e,t,r);let a=_j(wj(s));return new mm(a,o,n)}function Sj(e,t,r){let i={};return Object.entries(e.children).forEach(([n,o])=>{o===t?i[n]=r:i[n]=Sj(o,t,r)}),new gn(e.segments,i)}var fT=class{constructor(t,r,i){if(this.isAbsolute=t,this.numberOfDoubleDots=r,this.commands=i,t&&i.length>0&&uT(i[0]))throw new An(4003,!1);let n=i.find(l1);if(n&&n!==fj(i))throw new An(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function hlt(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new fT(!0,0,e);let t=0,r=!1,i=e.reduce((n,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...n,{outlets:a}]}if(o.segmentPath)return[...n,o.segmentPath]}return typeof o!="string"?[...n,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?r=!0:a===".."?t++:a!=""&&n.push(a))}),n):[...n,o]},[]);return new fT(r,t,i)}var qb=class{constructor(t,r,i){this.segmentGroup=t,this.processChildren=r,this.index=i}};function ult(e,t,r){if(e.isAbsolute)return new qb(t,!0,0);if(!r)return new qb(t,!1,NaN);if(r.parent===null)return new qb(r,!0,0);let i=uT(e.commands[0])?0:1,n=r.segments.length-1+i;return flt(r,n,e.numberOfDoubleDots)}function flt(e,t,r){let i=e,n=t,o=r;for(;o>n;){if(o-=n,i=i.parent,!i)throw new An(4005,!1);n=i.segments.length}return new qb(i,!1,n-o)}function mlt(e){return l1(e[0])?e[0].outlets:{[Er]:e}}function Ej(e,t,r){if(e??=new gn([],{}),e.segments.length===0&&e.hasChildren())return n1(e,t,r);let i=plt(e,t,r),n=r.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){let o=new gn(e.segments.slice(0,i.pathIndex),{});return o.children[Er]=new gn(e.segments.slice(i.pathIndex),e.children),n1(o,0,n)}else return i.match&&n.length===0?new gn(e.segments,{}):i.match&&!e.hasChildren()?d3(e,t,r):i.match?n1(e,0,n):d3(e,t,r)}function n1(e,t,r){if(r.length===0)return new gn(e.segments,{});{let i=mlt(r),n={};if(Object.keys(i).some(o=>o!==Er)&&e.children[Er]&&e.numberOfChildren===1&&e.children[Er].segments.length===0){let o=n1(e.children[Er],t,r);return new gn(e.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(n[o]=Ej(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{i[o]===void 0&&(n[o]=s)}),new gn(e.segments,n)}}function plt(e,t,r){let i=0,n=t,o={match:!1,pathIndex:0,commandIndex:0};for(;n<e.segments.length;){if(i>=r.length)return o;let s=e.segments[n],a=r[i];if(l1(a))break;let l=`${a}`,c=i<r.length-1?r[i+1]:null;if(n>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!oj(l,c,s))return o;i+=2}else{if(!oj(l,{},s))return o;i++}n++}return{match:!0,pathIndex:n,commandIndex:i}}function d3(e,t,r){let i=e.segments.slice(0,t),n=0;for(;n<r.length;){let o=r[n];if(l1(o)){let l=glt(o.outlets);return new gn(i,l)}if(n===0&&uT(r[0])){let l=e.segments[t];i.push(new Ag(l.path,nj(r[0]))),n++;continue}let s=l1(o)?o.outlets[Er]:`${o}`,a=n<r.length-1?r[n+1]:null;s&&a&&uT(a)?(i.push(new Ag(s,nj(a))),n+=2):(i.push(new Ag(s,{})),n++)}return new gn(i,{})}function glt(e){let t={};return Object.entries(e).forEach(([r,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(t[r]=d3(new gn([],{}),0,i))}),t}function nj(e){let t={};return Object.entries(e).forEach(([r,i])=>t[r]=`${i}`),t}function oj(e,t,r){return e==r.path&&Eh(t,r.parameters)}var o1="imperative",ks=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(ks||{}),_c=class{constructor(t,r){this.id=t,this.url=r}},Qb=class extends _c{constructor(t,r,i="imperative",n=null){super(t,r),this.type=ks.NavigationStart,this.navigationTrigger=i,this.restoredState=n}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Yu=class extends _c{constructor(t,r,i){super(t,r),this.urlAfterRedirects=i,this.type=ks.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Yl=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Yl||{}),mT=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(mT||{}),Wu=class extends _c{constructor(t,r,i,n){super(t,r),this.reason=i,this.code=n,this.type=ks.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},pm=class extends _c{constructor(t,r,i,n){super(t,r),this.reason=i,this.code=n,this.type=ks.NavigationSkipped}},c1=class extends _c{constructor(t,r,i,n){super(t,r),this.error=i,this.target=n,this.type=ks.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},pT=class extends _c{constructor(t,r,i,n){super(t,r),this.urlAfterRedirects=i,this.state=n,this.type=ks.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},h3=class extends _c{constructor(t,r,i,n){super(t,r),this.urlAfterRedirects=i,this.state=n,this.type=ks.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},u3=class extends _c{constructor(t,r,i,n,o){super(t,r),this.urlAfterRedirects=i,this.state=n,this.shouldActivate=o,this.type=ks.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},f3=class extends _c{constructor(t,r,i,n){super(t,r),this.urlAfterRedirects=i,this.state=n,this.type=ks.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},m3=class extends _c{constructor(t,r,i,n){super(t,r),this.urlAfterRedirects=i,this.state=n,this.type=ks.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},p3=class{constructor(t){this.route=t,this.type=ks.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},g3=class{constructor(t){this.route=t,this.type=ks.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},b3=class{constructor(t){this.snapshot=t,this.type=ks.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},v3=class{constructor(t){this.snapshot=t,this.type=ks.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},y3=class{constructor(t){this.snapshot=t,this.type=ks.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_3=class{constructor(t){this.snapshot=t,this.type=ks.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gT=class{constructor(t,r,i){this.routerEvent=t,this.position=r,this.anchor=i,this.type=ks.Scroll}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},d1=class{},Jb=class{constructor(t,r){this.url=t,this.navigationBehaviorOptions=r}};var w3=class{constructor(t){this.injector=t,this.outlet=null,this.route=null,this.children=new b1(this.injector),this.attachRef=null}},b1=(()=>{let t=class t{constructor(i){this.parentInjector=i,this.contexts=new Map}onChildOutletCreated(i,n){let o=this.getOrCreateContext(i);o.outlet=n,this.contexts.set(i,o)}onChildOutletDestroyed(i){let n=this.getContext(i);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let n=this.getContext(i);return n||(n=new w3(this.parentInjector),this.contexts.set(i,n)),n}getContext(i){return this.contexts.get(i)||null}};t.\u0275fac=function(n){return new(n||t)(Jt(Sh))},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),bT=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let r=this.pathFromRoot(t);return r.length>1?r[r.length-2]:null}children(t){let r=C3(t,this._root);return r?r.children.map(i=>i.value):[]}firstChild(t){let r=C3(t,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(t){let r=x3(t,this._root);return r.length<2?[]:r[r.length-2].children.map(n=>n.value).filter(n=>n!==t)}pathFromRoot(t){return x3(t,this._root).map(r=>r.value)}};function C3(e,t){if(e===t.value)return t;for(let r of t.children){let i=C3(e,r);if(i)return i}return null}function x3(e,t){if(e===t.value)return[t];for(let r of t.children){let i=x3(e,r);if(i.length)return i.unshift(t),i}return[]}var Wl=class{constructor(t,r){this.value=t,this.children=r}toString(){return`TreeNode(${this.value})`}};function $b(e){let t={};return e&&e.children.forEach(r=>t[r.value.outlet]=r),t}var vT=class extends bT{constructor(t,r){super(t),this.snapshot=r,D3(this,t)}toString(){return this.snapshot.toString()}};function Rj(e){let t=blt(e),r=new Yn([new Ag("",{})]),i=new Yn({}),n=new Yn({}),o=new Yn({}),s=new Yn(""),a=new tv(r,i,o,s,n,Er,e,t.root);return a.snapshot=t.root,new vT(new Wl(a,[]),t)}function blt(e){let t={},r={},i={},n="",o=new Gb([],t,i,n,r,Er,e,null,{});return new _T("",new Wl(o,[]))}var tv=class{constructor(t,r,i,n,o,s,a,l){this.urlSubject=t,this.paramsSubject=r,this.queryParamsSubject=i,this.fragmentSubject=n,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(ui(c=>c[p1]))??Me(void 0),this.url=t,this.params=r,this.queryParams=i,this.fragment=n,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ui(t=>Xb(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ui(t=>Xb(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function yT(e,t,r="emptyOnly"){let i,{routeConfig:n}=e;return t!==null&&(r==="always"||n?.path===""||!t.component&&!t.routeConfig?.loadComponent)?i={params:jt(jt({},t.params),e.params),data:jt(jt({},t.data),e.data),resolve:jt(jt(jt(jt({},e.data),t.data),n?.data),e._resolvedData)}:i={params:jt({},e.params),data:jt({},e.data),resolve:jt(jt({},e.data),e._resolvedData??{})},n&&Mj(n)&&(i.resolve[p1]=n.title),i}var Gb=class{get title(){return this.data?.[p1]}constructor(t,r,i,n,o,s,a,l,c){this.url=t,this.params=r,this.queryParams=i,this.fragment=n,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Xb(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Xb(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(i=>i.toString()).join("/"),r=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${r}')`}},_T=class extends bT{constructor(t,r){super(r),this.url=t,D3(this,r)}toString(){return Tj(this._root)}};function D3(e,t){t.value._routerState=e,t.children.forEach(r=>D3(e,r))}function Tj(e){let t=e.children.length>0?` { ${e.children.map(Tj).join(", ")} } `:"";return`${e.value}${t}`}function n3(e){if(e.snapshot){let t=e.snapshot,r=e._futureSnapshot;e.snapshot=r,Eh(t.queryParams,r.queryParams)||e.queryParamsSubject.next(r.queryParams),t.fragment!==r.fragment&&e.fragmentSubject.next(r.fragment),Eh(t.params,r.params)||e.paramsSubject.next(r.params),$at(t.url,r.url)||e.urlSubject.next(r.url),Eh(t.data,r.data)||e.dataSubject.next(r.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function S3(e,t){let r=Eh(e.params,t.params)&&Xat(e.url,t.url),i=!e.parent!=!t.parent;return r&&!i&&(!e.parent||S3(e.parent,t.parent))}function Mj(e){return typeof e.title=="string"||e.title===null}var vlt=(()=>{let t=class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Er,this.activateEvents=new si,this.deactivateEvents=new si,this.attachEvents=new si,this.detachEvents=new si,this.parentContexts=pe(b1),this.location=pe(gs),this.changeDetector=pe(cr),this.inputBinder=pe(ET,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:n,previousValue:o}=i.name;if(n)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new An(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new An(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new An(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,n){this.activated=i,this._activatedRoute=n,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,n){if(this.isActivated)throw new An(4013,!1);this._activatedRoute=i;let o=this.location,a=i.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new E3(i,l,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:c,environmentInjector:n}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=ri({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[er]});let e=t;return e})(),E3=class e{__ngOutletInjector(t){return new e(this.route,this.childContexts,t)}constructor(t,r,i){this.route=t,this.childContexts=r,this.parent=i}get(t,r){return t===tv?this.route:t===b1?this.childContexts:this.parent.get(t,r)}},ET=new Se(""),sj=(()=>{let t=class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){let{activatedRoute:n}=i,o=vc([n.queryParams,n.params,n.data]).pipe(_o(([s,a,l],c)=>(l=jt(jt(jt({},s),a),l),c===0?Me(l):Promise.resolve(l)))).subscribe(s=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==n||n.component===null){this.unsubscribeFromRouteData(i);return}let a=mB(n.component);if(!a){this.unsubscribeFromRouteData(i);return}for(let{templateName:l}of a.inputs)i.activatedComponentRef.setInput(l,s[l])});this.outletDataSubscriptions.set(i,o)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=we({token:t,factory:t.\u0275fac});let e=t;return e})();function ylt(e,t,r){let i=h1(e,t._root,r?r._root:void 0);return new vT(i,t)}function h1(e,t,r){if(r&&e.shouldReuseRoute(t.value,r.value.snapshot)){let i=r.value;i._futureSnapshot=t.value;let n=_lt(e,t,r);return new Wl(i,n)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>h1(e,a)),s}}let i=wlt(t.value),n=t.children.map(o=>h1(e,o));return new Wl(i,n)}}function _lt(e,t,r){return t.children.map(i=>{for(let n of r.children)if(e.shouldReuseRoute(i.value,n.value.snapshot))return h1(e,i,n);return h1(e,i)})}function wlt(e){return new tv(new Yn(e.url),new Yn(e.params),new Yn(e.queryParams),new Yn(e.fragment),new Yn(e.data),e.outlet,e.component,e)}var u1=class{constructor(t,r){this.redirectTo=t,this.navigationBehaviorOptions=r}},Aj="ngNavigationCancelingError";function wT(e,t){let{redirectTo:r,navigationBehaviorOptions:i}=a1(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,n=Ij(!1,Yl.Redirect);return n.url=r,n.navigationBehaviorOptions=i,n}function Ij(e,t){let r=new Error(`NavigationCancelingError: ${e||""}`);return r[Aj]=!0,r.cancellationCode=t,r}function Clt(e){return kj(e)&&a1(e.url)}function kj(e){return!!e&&e[Aj]}var xlt=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=qe({type:t,selectors:[["ng-component"]],standalone:!0,features:[ai],decls:1,vars:0,template:function(n,o){n&1&&Be(0,"router-outlet")},dependencies:[vlt],encapsulation:2});let e=t;return e})();function Slt(e,t){return e.providers&&!e._injector&&(e._injector=SO(e.providers,t,`Route: ${e.path}`)),e._injector??t}function O3(e){let t=e.children&&e.children.map(O3),r=t?Ue(jt({},e),{children:t}):jt({},e);return!r.component&&!r.loadComponent&&(t||r.loadChildren)&&r.outlet&&r.outlet!==Er&&(r.component=xlt),r}function vd(e){return e.outlet||Er}function Elt(e,t){let r=e.filter(i=>vd(i)===t);return r.push(...e.filter(i=>vd(i)!==t)),r}function v1(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let r=t.routeConfig;if(r?._loadedInjector)return r._loadedInjector;if(r?._injector)return r._injector}return null}var Rlt=(e,t,r,i)=>ui(n=>(new R3(t,n.targetRouterState,n.currentRouterState,r,i).activate(e),n)),R3=class{constructor(t,r,i,n,o){this.routeReuseStrategy=t,this.futureState=r,this.currState=i,this.forwardEvent=n,this.inputBindingEnabled=o}activate(t){let r=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,i,t),n3(this.futureState.root),this.activateChildRoutes(r,i,t)}deactivateChildRoutes(t,r,i){let n=$b(r);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,n[s],i),delete n[s]}),Object.values(n).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,r,i){let n=t.value,o=r?r.value:null;if(n===o)if(n.component){let s=i.getContext(n.outlet);s&&this.deactivateChildRoutes(t,r,s.children)}else this.deactivateChildRoutes(t,r,i);else o&&this.deactivateRouteAndItsChildren(r,i)}deactivateRouteAndItsChildren(t,r){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,r):this.deactivateRouteAndOutlet(t,r)}detachAndStoreRouteSubtree(t,r){let i=r.getContext(t.value.outlet),n=i&&t.value.component?i.children:r,o=$b(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,n);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,r){let i=r.getContext(t.value.outlet),n=i&&t.value.component?i.children:r,o=$b(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,n);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,r,i){let n=$b(r);t.children.forEach(o=>{this.activateRoutes(o,n[o.value.outlet],i),this.forwardEvent(new _3(o.value.snapshot))}),t.children.length&&this.forwardEvent(new v3(t.value.snapshot))}activateRoutes(t,r,i){let n=t.value,o=r?r.value:null;if(n3(n),n===o)if(n.component){let s=i.getOrCreateContext(n.outlet);this.activateChildRoutes(t,r,s.children)}else this.activateChildRoutes(t,r,i);else if(n.component){let s=i.getOrCreateContext(n.outlet);if(this.routeReuseStrategy.shouldAttach(n.snapshot)){let a=this.routeReuseStrategy.retrieve(n.snapshot);this.routeReuseStrategy.store(n.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),n3(a.route.value),this.activateChildRoutes(t,null,s.children)}else{let a=v1(n.snapshot);s.attachRef=null,s.route=n,s.injector=a??s.injector,s.outlet&&s.outlet.activateWith(n,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,i)}},CT=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Kb=class{constructor(t,r){this.component=t,this.route=r}};function Tlt(e,t,r){let i=e._root,n=t?t._root:null;return i1(i,n,r,[i.value])}function Mlt(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function iv(e,t){let r=Symbol(),i=t.get(e,r);return i===r?typeof e=="function"&&!WH(e)?e:t.get(e):i}function i1(e,t,r,i,n={canDeactivateChecks:[],canActivateChecks:[]}){let o=$b(t);return e.children.forEach(s=>{Alt(s,o[s.value.outlet],r,i.concat([s.value]),n),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>s1(a,r.getContext(s),n)),n}function Alt(e,t,r,i,n={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,a=r?r.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=Ilt(s,o,o.routeConfig.runGuardsAndResolvers);l?n.canActivateChecks.push(new CT(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?i1(e,t,a?a.children:null,i,n):i1(e,t,r,i,n),l&&a&&a.outlet&&a.outlet.isActivated&&n.canDeactivateChecks.push(new Kb(a.outlet.component,s))}else s&&s1(t,a,n),n.canActivateChecks.push(new CT(i)),o.component?i1(e,null,a?a.children:null,i,n):i1(e,null,r,i,n);return n}function Ilt(e,t,r){if(typeof r=="function")return r(e,t);switch(r){case"pathParamsChange":return!Ig(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Ig(e.url,t.url)||!Eh(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!S3(e,t)||!Eh(e.queryParams,t.queryParams);case"paramsChange":default:return!S3(e,t)}}function s1(e,t,r){let i=$b(e),n=e.value;Object.entries(i).forEach(([o,s])=>{n.component?t?s1(s,t.children.getContext(o),r):s1(s,null,r):s1(s,t,r)}),n.component?t&&t.outlet&&t.outlet.isActivated?r.canDeactivateChecks.push(new Kb(t.outlet.component,n)):r.canDeactivateChecks.push(new Kb(null,n)):r.canDeactivateChecks.push(new Kb(null,n))}function y1(e){return typeof e=="function"}function klt(e){return typeof e=="boolean"}function Dlt(e){return e&&y1(e.canLoad)}function Olt(e){return e&&y1(e.canActivate)}function Plt(e){return e&&y1(e.canActivateChild)}function Nlt(e){return e&&y1(e.canDeactivate)}function Llt(e){return e&&y1(e.canMatch)}function Dj(e){return e instanceof FH||e?.name==="EmptyError"}var lT=Symbol("INITIAL_VALUE");function ev(){return _o(e=>vc(e.map(t=>t.pipe(to(1),Ms(lT)))).pipe(ui(t=>{for(let r of t)if(r!==!0){if(r===lT)return lT;if(r===!1||Flt(r))return r}return!0}),co(t=>t!==lT),to(1)))}function Flt(e){return a1(e)||e instanceof u1}function Hlt(e,t){return Hl(r=>{let{targetSnapshot:i,currentSnapshot:n,guards:{canActivateChecks:o,canDeactivateChecks:s}}=r;return s.length===0&&o.length===0?Me(Ue(jt({},r),{guardsResult:!0})):Blt(s,i,n,e).pipe(Hl(a=>a&&klt(a)?jlt(i,o,e,t):Me(a)),ui(a=>Ue(jt({},r),{guardsResult:a})))})}function Blt(e,t,r,i){return as(e).pipe(Hl(n=>Ylt(n.component,n.route,r,t,i)),sm(n=>n!==!0,!0))}function jlt(e,t,r,i){return as(t).pipe(pd(n=>Cg(zlt(n.route.parent,i),Vlt(n.route,i),Wlt(e,n.path,r),Ult(e,n.route,r))),sm(n=>n!==!0,!0))}function Vlt(e,t){return e!==null&&t&&t(new y3(e)),Me(!0)}function zlt(e,t){return e!==null&&t&&t(new b3(e)),Me(!0)}function Ult(e,t,r){let i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||i.length===0)return Me(!0);let n=i.map(o=>xg(()=>{let s=v1(t)??r,a=iv(o,s),l=Olt(a)?a.canActivate(t,e):yc(s,()=>a(t,e));return gm(l).pipe(sm())}));return Me(n).pipe(ev())}function Wlt(e,t,r){let i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>Mlt(s)).filter(s=>s!==null).map(s=>xg(()=>{let a=s.guards.map(l=>{let c=v1(s.node)??r,d=iv(l,c),h=Plt(d)?d.canActivateChild(i,e):yc(c,()=>d(i,e));return gm(h).pipe(sm())});return Me(a).pipe(ev())}));return Me(o).pipe(ev())}function Ylt(e,t,r,i,n){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return Me(!0);let s=o.map(a=>{let l=v1(t)??n,c=iv(a,l),d=Nlt(c)?c.canDeactivate(e,t,r,i):yc(l,()=>c(e,t,r,i));return gm(d).pipe(sm())});return Me(s).pipe(ev())}function $lt(e,t,r,i){let n=t.canLoad;if(n===void 0||n.length===0)return Me(!0);let o=n.map(s=>{let a=iv(s,e),l=Dlt(a)?a.canLoad(t,r):yc(e,()=>a(t,r));return gm(l)});return Me(o).pipe(ev(),Oj(i))}function Oj(e){return NH(fn(t=>{if(typeof t!="boolean")throw wT(e,t)}),ui(t=>t===!0))}function qlt(e,t,r,i){let n=t.canMatch;if(!n||n.length===0)return Me(!0);let o=n.map(s=>{let a=iv(s,e),l=Llt(a)?a.canMatch(t,r):yc(e,()=>a(t,r));return gm(l)});return Me(o).pipe(ev(),Oj(i))}var f1=class{constructor(t){this.segmentGroup=t||null}},m1=class extends Error{constructor(t){super(),this.urlTree=t}};function Yb(e){return wg(new f1(e))}function Glt(e){return wg(new An(4e3,!1))}function Klt(e){return wg(Ij(!1,Yl.GuardRejected))}var T3=class{constructor(t,r){this.urlSerializer=t,this.urlTree=r}lineralizeSegments(t,r){let i=[],n=r.root;for(;;){if(i=i.concat(n.segments),n.numberOfChildren===0)return Me(i);if(n.numberOfChildren>1||!n.children[Er])return Glt(`${t.redirectTo}`);n=n.children[Er]}}applyRedirectCommands(t,r,i,n,o){if(typeof r!="string"){let a=r,{queryParams:l,fragment:c,routeConfig:d,url:h,outlet:u,params:f,data:m,title:g}=n,p=yc(o,()=>a({params:f,data:m,queryParams:l,fragment:c,routeConfig:d,url:h,outlet:u,title:g}));if(p instanceof mm)throw new m1(p);r=p}let s=this.applyRedirectCreateUrlTree(r,this.urlSerializer.parse(r),t,i);if(r[0]==="/")throw new m1(s);return s}applyRedirectCreateUrlTree(t,r,i,n){let o=this.createSegmentGroup(t,r.root,i,n);return new mm(o,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(t,r){let i={};return Object.entries(t).forEach(([n,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);i[n]=r[a]}else i[n]=o}),i}createSegmentGroup(t,r,i,n){let o=this.createSegments(t,r.segments,i,n),s={};return Object.entries(r.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,i,n)}),new gn(o,s)}createSegments(t,r,i,n){return r.map(o=>o.path[0]===":"?this.findPosParam(t,o,n):this.findOrReturn(o,i))}findPosParam(t,r,i){let n=i[r.path.substring(1)];if(!n)throw new An(4001,!1);return n}findOrReturn(t,r){let i=0;for(let n of r){if(n.path===t.path)return r.splice(i),n;i++}return t}},M3={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Xlt(e,t,r,i,n){let o=P3(e,t,r);return o.matched?(i=Slt(t,i),qlt(i,t,r,n).pipe(ui(s=>s===!0?o:jt({},M3)))):Me(o)}function P3(e,t,r){if(t.path==="**")return Zlt(r);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||r.length>0)?jt({},M3):{matched:!0,consumedSegments:[],remainingSegments:r,parameters:{},positionalParamSegments:{}};let n=(t.matcher||Yat)(r,e,t);if(!n)return jt({},M3);let o={};Object.entries(n.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=n.consumed.length>0?jt(jt({},o),n.consumed[n.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:n.consumed,remainingSegments:r.slice(n.consumed.length),parameters:s,positionalParamSegments:n.posParams??{}}}function Zlt(e){return{matched:!0,parameters:e.length>0?fj(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function aj(e,t,r,i){return r.length>0&&tct(e,r,i)?{segmentGroup:new gn(t,Jlt(i,new gn(r,e.children))),slicedSegments:[]}:r.length===0&&ect(e,r,i)?{segmentGroup:new gn(e.segments,Qlt(e,r,i,e.children)),slicedSegments:r}:{segmentGroup:new gn(e.segments,e.children),slicedSegments:r}}function Qlt(e,t,r,i){let n={};for(let o of r)if(RT(e,t,o)&&!i[vd(o)]){let s=new gn([],{});n[vd(o)]=s}return jt(jt({},i),n)}function Jlt(e,t){let r={};r[Er]=t;for(let i of e)if(i.path===""&&vd(i)!==Er){let n=new gn([],{});r[vd(i)]=n}return r}function tct(e,t,r){return r.some(i=>RT(e,t,i)&&vd(i)!==Er)}function ect(e,t,r){return r.some(i=>RT(e,t,i))}function RT(e,t,r){return(e.hasChildren()||t.length>0)&&r.pathMatch==="full"?!1:r.path===""}function ict(e,t,r,i){return vd(e)!==i&&(i===Er||!RT(t,r,e))?!1:P3(t,e,r).matched}function rct(e,t,r){return t.length===0&&!e.children[r]}var A3=class{};function nct(e,t,r,i,n,o,s="emptyOnly"){return new I3(e,t,r,i,n,s,o).recognize()}var oct=31,I3=class{constructor(t,r,i,n,o,s,a){this.injector=t,this.configLoader=r,this.rootComponentType=i,this.config=n,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new T3(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new An(4002,`'${t.segmentGroup}'`)}recognize(){let t=aj(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(ui(({children:r,rootSnapshot:i})=>{let n=new Wl(i,r),o=new _T("",n),s=dlt(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let r=new Gb([],Object.freeze({}),Object.freeze(jt({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Er,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,Er,r).pipe(ui(i=>({children:i,rootSnapshot:r})),ls(i=>{if(i instanceof m1)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof f1?this.noMatchError(i):i}))}processSegmentGroup(t,r,i,n,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(t,r,i,o):this.processSegment(t,r,i,i.segments,n,!0,o).pipe(ui(s=>s instanceof Wl?[s]:[]))}processChildren(t,r,i,n){let o=[];for(let s of Object.keys(i.children))s==="primary"?o.unshift(s):o.push(s);return as(o).pipe(pd(s=>{let a=i.children[s],l=Elt(r,s);return this.processSegmentGroup(t,l,a,s,n)}),zH((s,a)=>(s.push(...a),s)),yO(null),jH(),Hl(s=>{if(s===null)return Yb(i);let a=Pj(s);return sct(a),Me(a)}))}processSegment(t,r,i,n,o,s,a){return as(r).pipe(pd(l=>this.processSegmentAgainstRoute(l._injector??t,r,l,i,n,o,s,a).pipe(ls(c=>{if(c instanceof f1)return Me(null);throw c}))),sm(l=>!!l),ls(l=>{if(Dj(l))return rct(i,n,o)?Me(new A3):Yb(i);throw l}))}processSegmentAgainstRoute(t,r,i,n,o,s,a,l){return ict(i,n,o,s)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(t,n,i,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s,l):Yb(n):Yb(n)}expandSegmentAgainstRouteUsingRedirect(t,r,i,n,o,s,a){let{matched:l,parameters:c,consumedSegments:d,positionalParamSegments:h,remainingSegments:u}=P3(r,n,o);if(!l)return Yb(r);typeof n.redirectTo=="string"&&n.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>oct&&(this.allowRedirects=!1));let f=new Gb(o,c,Object.freeze(jt({},this.urlTree.queryParams)),this.urlTree.fragment,lj(n),vd(n),n.component??n._loadedComponent??null,n,cj(n)),m=yT(f,a,this.paramsInheritanceStrategy);f.params=Object.freeze(m.params),f.data=Object.freeze(m.data);let g=this.applyRedirects.applyRedirectCommands(d,n.redirectTo,h,f,t);return this.applyRedirects.lineralizeSegments(n,g).pipe(Hl(p=>this.processSegment(t,i,r,p.concat(u),s,!1,a)))}matchSegmentAgainstRoute(t,r,i,n,o,s){let a=Xlt(r,i,n,t,this.urlSerializer);return i.path==="**"&&(r.children={}),a.pipe(_o(l=>l.matched?(t=i._injector??t,this.getChildConfig(t,i,n).pipe(_o(({routes:c})=>{let d=i._loadedInjector??t,{parameters:h,consumedSegments:u,remainingSegments:f}=l,m=new Gb(u,h,Object.freeze(jt({},this.urlTree.queryParams)),this.urlTree.fragment,lj(i),vd(i),i.component??i._loadedComponent??null,i,cj(i)),g=yT(m,s,this.paramsInheritanceStrategy);m.params=Object.freeze(g.params),m.data=Object.freeze(g.data);let{segmentGroup:p,slicedSegments:b}=aj(r,u,f,c);if(b.length===0&&p.hasChildren())return this.processChildren(d,c,p,m).pipe(ui(E=>new Wl(m,E)));if(c.length===0&&b.length===0)return Me(new Wl(m,[]));let _=vd(i)===o;return this.processSegment(d,c,p,b,_?Er:o,!0,m).pipe(ui(E=>new Wl(m,E instanceof Wl?[E]:[])))}))):Yb(r)))}getChildConfig(t,r,i){return r.children?Me({routes:r.children,injector:t}):r.loadChildren?r._loadedRoutes!==void 0?Me({routes:r._loadedRoutes,injector:r._loadedInjector}):$lt(t,r,i,this.urlSerializer).pipe(Hl(n=>n?this.configLoader.loadChildren(t,r).pipe(fn(o=>{r._loadedRoutes=o.routes,r._loadedInjector=o.injector})):Klt(r))):Me({routes:[],injector:t})}};function sct(e){e.sort((t,r)=>t.value.outlet===Er?-1:r.value.outlet===Er?1:t.value.outlet.localeCompare(r.value.outlet))}function act(e){let t=e.value.routeConfig;return t&&t.path===""}function Pj(e){let t=[],r=new Set;for(let i of e){if(!act(i)){t.push(i);continue}let n=t.find(o=>i.value.routeConfig===o.value.routeConfig);n!==void 0?(n.children.push(...i.children),r.add(n)):t.push(i)}for(let i of r){let n=Pj(i.children);t.push(new Wl(i.value,n))}return t.filter(i=>!r.has(i))}function lj(e){return e.data||{}}function cj(e){return e.resolve||{}}function lct(e,t,r,i,n,o){return Hl(s=>nct(e,t,r,i,s.extractedUrl,n,o).pipe(ui(({state:a,tree:l})=>Ue(jt({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function cct(e,t){return Hl(r=>{let{targetSnapshot:i,guards:{canActivateChecks:n}}=r;if(!n.length)return Me(r);let o=new Set(n.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of Nj(l))s.add(c);let a=0;return as(s).pipe(pd(l=>o.has(l)?dct(l,i,e,t):(l.data=yT(l,l.parent,e).resolve,Me(void 0))),fn(()=>a++),_O(1),Hl(l=>a===s.size?Me(r):ma))})}function Nj(e){let t=e.children.map(r=>Nj(r)).flat();return[e,...t]}function dct(e,t,r,i){let n=e.routeConfig,o=e._resolve;return n?.title!==void 0&&!Mj(n)&&(o[p1]=n.title),hct(o,e,t,i).pipe(ui(s=>(e._resolvedData=s,e.data=yT(e,e.parent,r).resolve,null)))}function hct(e,t,r,i){let n=a3(e);if(n.length===0)return Me({});let o={};return as(n).pipe(Hl(s=>uct(e[s],t,r,i).pipe(sm(),fn(a=>{if(a instanceof u1)throw wT(new Zb,a);o[s]=a}))),_O(1),HH(o),ls(s=>Dj(s)?ma:wg(s)))}function uct(e,t,r,i){let n=v1(t)??i,o=iv(e,n),s=o.resolve?o.resolve(t,r):yc(n,()=>o(t,r));return gm(s)}function o3(e){return _o(t=>{let r=e(t);return r?as(r).pipe(ui(()=>t)):Me(t)})}var Lj=(()=>{let t=class t{buildTitle(i){let n,o=i.root;for(;o!==void 0;)n=this.getResolvedTitleForRoute(o)??n,o=o.children.find(s=>s.outlet===Er);return n}getResolvedTitleForRoute(i){return i.data[p1]}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=we({token:t,factory:()=>pe(fct),providedIn:"root"});let e=t;return e})(),fct=(()=>{let t=class t extends Lj{constructor(i){super(),this.title=i}updateTitle(i){let n=this.buildTitle(i);n!==void 0&&this.title.setTitle(n)}};t.\u0275fac=function(n){return new(n||t)(Jt(tj))},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),_1=new Se("",{providedIn:"root",factory:()=>({})}),xT=new Se(""),N3=(()=>{let t=class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=pe(YR)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return Me(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let n=gm(i.loadComponent()).pipe(ui(Fj),fn(s=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=s}),Fu(()=>{this.componentLoaders.delete(i)})),o=new Dw(n,()=>new Qe).pipe(pO());return this.componentLoaders.set(i,o),o}loadChildren(i,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return Me({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);let s=mct(n,this.compiler,i,this.onLoadEndListener).pipe(Fu(()=>{this.childrenLoaders.delete(n)})),a=new Dw(s,()=>new Qe).pipe(pO());return this.childrenLoaders.set(n,a),a}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function mct(e,t,r,i){return gm(e.loadChildren()).pipe(ui(Fj),Hl(n=>n instanceof nB||Array.isArray(n)?Me(n):as(t.compileModuleAsync(n))),ui(n=>{i&&i(e);let o,s,a=!1;return Array.isArray(n)?(s=n,a=!0):(o=n.create(r).injector,s=o.get(xT,[],{optional:!0,self:!0}).flat()),{routes:s.map(O3),injector:o}}))}function pct(e){return e&&typeof e=="object"&&"default"in e}function Fj(e){return pct(e)?e.default:e}var L3=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=we({token:t,factory:()=>pe(gct),providedIn:"root"});let e=t;return e})(),gct=(()=>{let t=class t{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,n){return i}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Hj=new Se(""),Bj=new Se("");function bct(e,t,r){let i=e.get(Bj),n=e.get(Ai);return e.get(ci).runOutsideAngular(()=>{if(!n.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,s=new Promise(c=>{o=c}),a=n.startViewTransition(()=>(o(),vct(e))),{onViewTransitionCreated:l}=i;return l&&yc(e,()=>l({transition:a,from:t,to:r})),s})}function vct(e){return new Promise(t=>{pa(t,{injector:e})})}var yct=new Se(""),F3=(()=>{let t=class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Qe,this.transitionAbortSubject=new Qe,this.configLoader=pe(N3),this.environmentInjector=pe(Sh),this.urlSerializer=pe(g1),this.rootContexts=pe(b1),this.location=pe(Vu),this.inputBindingEnabled=pe(ET,{optional:!0})!==null,this.titleStrategy=pe(Lj),this.options=pe(_1,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=pe(L3),this.createViewTransition=pe(Hj,{optional:!0}),this.navigationErrorHandler=pe(yct,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Me(void 0),this.rootComponentType=null;let i=o=>this.events.next(new p3(o)),n=o=>this.events.next(new g3(o));this.configLoader.onLoadEndListener=n,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let n=++this.navigationId;this.transitions?.next(Ue(jt(jt({},this.transitions.value),i),{id:n}))}setupNavigations(i,n,o){return this.transitions=new Yn({id:0,currentUrlTree:n,currentRawUrl:n,extractedUrl:this.urlHandlingStrategy.extract(n),urlAfterRedirects:this.urlHandlingStrategy.extract(n),rawUrl:n,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:o1,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(co(s=>s.id!==0),ui(s=>Ue(jt({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),_o(s=>{let a=!1,l=!1;return Me(s).pipe(_o(c=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Yl.SupersededByNewNavigation),ma;this.currentTransition=s,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?Ue(jt({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=c.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!d&&h!=="reload"){let u="";return this.events.next(new pm(c.id,this.urlSerializer.serialize(c.rawUrl),u,mT.IgnoredSameUrlNavigation)),c.resolve(!1),ma}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Me(c).pipe(_o(u=>{let f=this.transitions?.getValue();return this.events.next(new Qb(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),f!==this.transitions?.getValue()?ma:Promise.resolve(u)}),lct(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),fn(u=>{s.targetSnapshot=u.targetSnapshot,s.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation=Ue(jt({},this.currentNavigation),{finalUrl:u.urlAfterRedirects});let f=new pT(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:u,extractedUrl:f,source:m,restoredState:g,extras:p}=c,b=new Qb(u,this.urlSerializer.serialize(f),m,g);this.events.next(b);let _=Rj(this.rootComponentType).snapshot;return this.currentTransition=s=Ue(jt({},c),{targetSnapshot:_,urlAfterRedirects:f,extras:Ue(jt({},p),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,Me(s)}else{let u="";return this.events.next(new pm(c.id,this.urlSerializer.serialize(c.extractedUrl),u,mT.IgnoredByUrlHandlingStrategy)),c.resolve(!1),ma}}),fn(c=>{let d=new h3(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),ui(c=>(this.currentTransition=s=Ue(jt({},c),{guards:Tlt(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),s)),Hlt(this.environmentInjector,c=>this.events.next(c)),fn(c=>{if(s.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw wT(this.urlSerializer,c.guardsResult);let d=new u3(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(d)}),co(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Yl.GuardRejected),!1)),o3(c=>{if(c.guards.canActivateChecks.length)return Me(c).pipe(fn(d=>{let h=new f3(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}),_o(d=>{let h=!1;return Me(d).pipe(cct(this.paramsInheritanceStrategy,this.environmentInjector),fn({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(d,"",Yl.NoDataFromResolver)}}))}),fn(d=>{let h=new m3(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}))}),o3(c=>{let d=h=>{let u=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(h.routeConfig).pipe(fn(f=>{h.component=f}),ui(()=>{})));for(let f of h.children)u.push(...d(f));return u};return vc(d(c.targetSnapshot.root)).pipe(yO(null),to(1))}),o3(()=>this.afterPreactivation()),_o(()=>{let{currentSnapshot:c,targetSnapshot:d}=s,h=this.createViewTransition?.(this.environmentInjector,c.root,d.root);return h?as(h).pipe(ui(()=>s)):Me(s)}),ui(c=>{let d=ylt(i.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s=Ue(jt({},c),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,s}),fn(()=>{this.events.next(new d1)}),Rlt(this.rootContexts,i.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),to(1),fn({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Yu(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),$n(this.transitionAbortSubject.pipe(fn(c=>{throw c}))),Fu(()=>{!a&&!l&&this.cancelNavigationTransition(s,"",Yl.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),ls(c=>{if(l=!0,kj(c))this.events.next(new Wu(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),Clt(c)?this.events.next(new Jb(c.url,c.navigationBehaviorOptions)):s.resolve(!1);else{let d=new c1(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0);try{let h=yc(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(h instanceof u1){let{message:u,cancellationCode:f}=wT(this.urlSerializer,h);this.events.next(new Wu(s.id,this.urlSerializer.serialize(s.extractedUrl),u,f)),this.events.next(new Jb(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(d);let u=i.errorHandler(c);s.resolve(!!u)}}catch(h){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(h)}}return ma}))}))}cancelNavigationTransition(i,n,o){let s=new Wu(i.id,this.urlSerializer.serialize(i.extractedUrl),n,o);this.events.next(s),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function _ct(e){return e!==o1}var wct=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=we({token:t,factory:()=>pe(Cct),providedIn:"root"});let e=t;return e})(),k3=class{shouldDetach(t){return!1}store(t,r){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,r){return t.routeConfig===r.routeConfig}},Cct=(()=>{let t=class t extends k3{};t.\u0275fac=(()=>{let i;return function(o){return(i||(i=As(t)))(o||t)}})(),t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),jj=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=we({token:t,factory:()=>pe(xct),providedIn:"root"});let e=t;return e})(),xct=(()=>{let t=class t extends jj{constructor(){super(...arguments),this.location=pe(Vu),this.urlSerializer=pe(g1),this.options=pe(_1,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=pe(L3),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new mm,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Rj(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(n=>{n.type==="popstate"&&i(n.url,n.state)})}handleRouterEvent(i,n){if(i instanceof Qb)this.stateMemento=this.createStateMemento();else if(i instanceof pm)this.rawUrlTree=n.initialUrl;else if(i instanceof pT){if(this.urlUpdateStrategy==="eager"&&!n.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl);this.setBrowserUrl(o,n)}}else i instanceof d1?(this.currentUrlTree=n.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl),this.routerState=n.targetRouterState,this.urlUpdateStrategy==="deferred"&&(n.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,n))):i instanceof Wu&&(i.code===Yl.GuardRejected||i.code===Yl.NoDataFromResolver)?this.restoreHistory(n):i instanceof c1?this.restoreHistory(n,!0):i instanceof Yu&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,n){let o=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(o)||n.extras.replaceUrl){let s=this.browserPageId,a=jt(jt({},n.extras.state),this.generateNgRouterState(n.id,s));this.location.replaceState(o,"",a)}else{let s=jt(jt({},n.extras.state),this.generateNgRouterState(n.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(i,n=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===i.finalUrl&&s===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(n&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,n){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:n}:{navigationId:i}}};t.\u0275fac=(()=>{let i;return function(o){return(i||(i=As(t)))(o||t)}})(),t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),r1=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(r1||{});function Vj(e,t){e.events.pipe(co(r=>r instanceof Yu||r instanceof Wu||r instanceof c1||r instanceof pm),ui(r=>r instanceof Yu||r instanceof pm?r1.COMPLETE:(r instanceof Wu?r.code===Yl.Redirect||r.code===Yl.SupersededByNewNavigation:!1)?r1.REDIRECTING:r1.FAILED),co(r=>r!==r1.REDIRECTING),to(1)).subscribe(()=>{t()})}function Sct(e){throw e}var Ect={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Rct={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},kg=(()=>{let t=class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=pe(zR),this.stateManager=pe(jj),this.options=pe(_1,{optional:!0})||{},this.pendingTasks=pe(Lw),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=pe(F3),this.urlSerializer=pe(g1),this.location=pe(Vu),this.urlHandlingStrategy=pe(L3),this._events=new Qe,this.errorHandler=this.options.errorHandler||Sct,this.navigated=!1,this.routeReuseStrategy=pe(wct),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=pe(xT,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!pe(ET,{optional:!0}),this.eventsSubscription=new Ro,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(n=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(n,s),n instanceof Wu&&n.code!==Yl.Redirect&&n.code!==Yl.SupersededByNewNavigation)this.navigated=!0;else if(n instanceof Yu)this.navigated=!0;else if(n instanceof Jb){let a=n.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(n.url,o.currentRawUrl),c=jt({info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||_ct(o.source)},a);this.scheduleNavigation(l,o1,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}Mct(n)&&this._events.next(n)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),o1,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,n)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",n)},0)})}navigateToSyncWithBrowser(i,n,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let c=jt({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(s.state=c)}let l=this.parseUrl(i);this.scheduleNavigation(l,n,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(O3),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,n={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:c}=n,d=c?this.currentUrlTree.fragment:a,h=null;switch(l){case"merge":h=jt(jt({},this.currentUrlTree.queryParams),s);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}h!==null&&(h=this.removeEmptyProps(h));let u;try{let f=o?o.snapshot:this.routerState.snapshot.root;u=Cj(f)}catch{(typeof i[0]!="string"||i[0][0]!=="/")&&(i=[]),u=this.currentUrlTree.root}return xj(u,i,h,d??null)}navigateByUrl(i,n={skipLocationChange:!1}){let o=a1(i)?i:this.parseUrl(i),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,o1,null,n)}navigate(i,n={skipLocationChange:!1}){return Tct(i),this.navigateByUrl(this.createUrlTree(i,n),n)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,n){let o;if(n===!0?o=jt({},Ect):n===!1?o=jt({},Rct):o=n,a1(i))return ij(this.currentUrlTree,i,o);let s=this.parseUrl(i);return ij(this.currentUrlTree,s,o)}removeEmptyProps(i){return Object.entries(i).reduce((n,[o,s])=>(s!=null&&(n[o]=s),n),{})}scheduleNavigation(i,n,o,s,a){if(this.disposed)return Promise.resolve(!1);let l,c,d;a?(l=a.resolve,c=a.reject,d=a.promise):d=new Promise((u,f)=>{l=u,c=f});let h=this.pendingTasks.add();return Vj(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:s,resolve:l,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(u=>Promise.reject(u))}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Tct(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new An(4008,!1)}function Mct(e){return!(e instanceof d1)&&!(e instanceof Jb)}var ST=class{};var Act=(()=>{let t=class t{constructor(i,n,o,s,a){this.router=i,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(co(i=>i instanceof Yu),pd(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,n){let o=[];for(let s of n){s.providers&&!s._injector&&(s._injector=SO(s.providers,i,`Route: ${s.path}`));let a=s._injector??i,l=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(l,s.children??s._loadedRoutes))}return as(o).pipe(gO())}preloadConfig(i,n){return this.preloadingStrategy.preload(n,()=>{let o;n.loadChildren&&n.canLoad===void 0?o=this.loader.loadChildren(i,n):o=Me(null);let s=o.pipe(Hl(a=>a===null?Me(void 0):(n._loadedRoutes=a.routes,n._loadedInjector=a.injector,this.processRoutes(a.injector??i,a.routes))));if(n.loadComponent&&!n._loadedComponent){let a=this.loader.loadComponent(n);return as([s,a]).pipe(gO())}else return s})}};t.\u0275fac=function(n){return new(n||t)(Jt(kg),Jt(YR),Jt(Sh),Jt(ST),Jt(N3))},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),zj=new Se(""),Ict=(()=>{let t=class t{constructor(i,n,o,s,a={}){this.urlSerializer=i,this.transitions=n,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=pe(Sh),a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof Qb?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof Yu?(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment)):i instanceof pm&&i.code===mT.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof gT&&(i.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(i.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,n){this.zone.runOutsideAngular(()=>wr(this,null,function*(){yield new Promise(o=>{setTimeout(()=>{o()}),pa(()=>{o()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new gT(i,this.lastSource==="popstate"?this.store[this.restoredId]:null,n))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};t.\u0275fac=function(n){ju()},t.\u0275prov=we({token:t,factory:t.\u0275fac});let e=t;return e})();function kct(e){return e.routerState.root}function w1(e,t){return{\u0275kind:e,\u0275providers:t}}function Dct(){let e=pe(mn);return t=>{let r=e.get(Mg);if(t!==r.components[0])return;let i=e.get(kg),n=e.get(Uj);e.get(H3)===1&&i.initialNavigation(),e.get(Wj,null,wO.Optional)?.setUpPreloading(),e.get(zj,null,wO.Optional)?.init(),i.resetRootComponentType(r.componentTypes[0]),n.closed||(n.next(),n.complete(),n.unsubscribe())}}var Uj=new Se("",{factory:()=>new Qe}),H3=new Se("",{providedIn:"root",factory:()=>1});function Oct(){return w1(2,[{provide:H3,useValue:0},{provide:WR,multi:!0,deps:[mn],useFactory:t=>{let r=t.get(bB,Promise.resolve());return()=>r.then(()=>new Promise(i=>{let n=t.get(kg),o=t.get(Uj);Vj(n,()=>{i(!0)}),t.get(F3).afterPreactivation=()=>(i(!0),o.closed?Me(void 0):o),n.initialNavigation()}))}}])}function Pct(){return w1(3,[{provide:WR,multi:!0,useFactory:()=>{let t=pe(kg);return()=>{t.setUpLocationChangeListener()}}},{provide:H3,useValue:2}])}var Wj=new Se("");function Nct(e){return w1(0,[{provide:Wj,useExisting:Act},{provide:ST,useExisting:e}])}function Lct(){return w1(8,[sj,{provide:ET,useExisting:sj}])}function Fct(e){let t=[{provide:Hj,useValue:bct},{provide:Bj,useValue:jt({skipNextTransition:!!e?.skipInitialTransition},e)}];return w1(9,t)}var dj=new Se("ROUTER_FORROOT_GUARD"),Hct=[Vu,{provide:g1,useClass:Zb},kg,b1,{provide:tv,useFactory:kct,deps:[kg]},N3,[]],Yj=(()=>{let t=class t{constructor(i){}static forRoot(i,n){return{ngModule:t,providers:[Hct,[],{provide:xT,multi:!0,useValue:i},{provide:dj,useFactory:zct,deps:[[kg,new am,new Eg]]},{provide:_1,useValue:n||{}},n?.useHash?jct():Vct(),Bct(),n?.preloadingStrategy?Nct(n.preloadingStrategy).\u0275providers:[],n?.initialNavigation?Uct(n):[],n?.bindToComponentInputs?Lct().\u0275providers:[],n?.enableViewTransitions?Fct().\u0275providers:[],Wct()]}}static forChild(i){return{ngModule:t,providers:[{provide:xT,multi:!0,useValue:i}]}}};t.\u0275fac=function(n){return new(n||t)(Jt(dj,8))},t.\u0275mod=ze({type:t}),t.\u0275inj=Ve({});let e=t;return e})();function Bct(){return{provide:zj,useFactory:()=>{let e=pe(CB),t=pe(ci),r=pe(_1),i=pe(F3),n=pe(g1);return r.scrollOffset&&e.setOffset(r.scrollOffset),new Ict(n,i,e,t,r)}}}function jct(){return{provide:AO,useClass:yB}}function Vct(){return{provide:AO,useClass:vB}}function zct(e){return"guarded"}function Uct(e){return[e.initialNavigation==="disabled"?Pct().\u0275providers:[],e.initialNavigation==="enabledBlocking"?Oct().\u0275providers:[]]}var hj=new Se("");function Wct(){return[{provide:hj,useFactory:Dct},{provide:TO,multi:!0,useExisting:hj}]}var j3;try{j3=typeof Intl<"u"&&Intl.v8BreakIterator}catch{j3=!1}var Hr=(()=>{let t=class t{constructor(i){this._platformId=i,this.isBrowser=this._platformId?wB(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||j3)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};t.\u0275fac=function(n){return new(n||t)(Jt(Bu))},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var rv,$j=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function V3(){if(rv)return rv;if(typeof document!="object"||!document)return rv=new Set($j),rv;let e=document.createElement("input");return rv=new Set($j.filter(t=>(e.setAttribute("type",t),e.type===t))),rv}var C1;function Yct(){if(C1==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>C1=!0}))}finally{C1=C1||!1}return C1}function dl(e){return Yct()?e:!!e.capture}var Dg;function qj(){if(Dg==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Dg=!1,Dg;if("scrollBehavior"in document.documentElement.style)Dg=!0;else{let e=Element.prototype.scrollTo;e?Dg=!/\{\s*\[native code\]\s*\}/.test(e.toString()):Dg=!1}}return Dg}var B3;function $ct(){if(B3==null){let e=typeof document<"u"?document.head:null;B3=!!(e&&(e.createShadowRoot||e.attachShadow))}return B3}function Gj(e){if($ct()){let t=e.getRootNode?e.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function bm(){let e=typeof document<"u"&&document?document.activeElement:null;for(;e&&e.shadowRoot;){let t=e.shadowRoot.activeElement;if(t===e)break;e=t}return e}function wc(e){return e.composedPath?e.composedPath()[0]:e.target}function x1(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function $l(e,...t){return t.length?t.some(r=>e[r]):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}function Og(e){return xh(e)?e:Me(e)}function Th(e){return e!=null&&`${e}`!="false"}function $u(e,t=0){return qct(e)?Number(e):arguments.length===2?t:0}function qct(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}function nv(e){return Array.isArray(e)?e:[e]}function Ko(e){return e==null?"":typeof e=="string"?e:`${e}px`}function Cc(e){return e instanceof di?e.nativeElement:e}function Kj(e,t=/\s+/){let r=[];if(e!=null){let i=Array.isArray(e)?e:`${e}`.split(t);for(let n of i){let o=`${n}`.trim();o&&r.push(o)}}return r}var Gct=(()=>{let t=class t{create(i){return typeof MutationObserver>"u"?null:new MutationObserver(i)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var ov=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ze({type:t}),t.\u0275inj=Ve({providers:[Gct]});let e=t;return e})();var Xj=new Set,Pg,Kct=(()=>{let t=class t{constructor(i,n){this._platform=i,this._nonce=n,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Zct}matchMedia(i){return(this._platform.WEBKIT||this._platform.BLINK)&&Xct(i,this._nonce),this._matchMedia(i)}};t.\u0275fac=function(n){return new(n||t)(Jt(Hr),Jt(Hw,8))},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Xct(e,t){if(!Xj.has(e))try{Pg||(Pg=document.createElement("style"),t&&Pg.setAttribute("nonce",t),Pg.setAttribute("type","text/css"),document.head.appendChild(Pg)),Pg.sheet&&(Pg.sheet.insertRule(`@media ${e} {body{ }}`,0),Xj.add(e))}catch(r){console.error(r)}}function Zct(e){return{matches:e==="all"||e==="",media:e,addListener:()=>{},removeListener:()=>{}}}var Qj=(()=>{let t=class t{constructor(i,n){this._mediaMatcher=i,this._zone=n,this._queries=new Map,this._destroySubject=new Qe}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(i){return Zj(nv(i)).some(o=>this._registerQuery(o).mql.matches)}observe(i){let o=Zj(nv(i)).map(a=>this._registerQuery(a).observable),s=vc(o);return s=Cg(s.pipe(to(1)),s.pipe(HR(1),FR(0))),s.pipe(ui(a=>{let l={matches:!1,breakpoints:{}};return a.forEach(({matches:c,query:d})=>{l.matches=l.matches||c,l.breakpoints[d]=c}),l}))}_registerQuery(i){if(this._queries.has(i))return this._queries.get(i);let n=this._mediaMatcher.matchMedia(i),s={observable:new Ch(a=>{let l=c=>this._zone.run(()=>a.next(c));return n.addListener(l),()=>{n.removeListener(l)}}).pipe(Ms(n),ui(({matches:a})=>({query:i,matches:a})),$n(this._destroySubject)),mql:n};return this._queries.set(i,s),s}};t.\u0275fac=function(n){return new(n||t)(Jt(Kct),Jt(ci))},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Zj(e){return e.map(t=>t.split(",")).reduce((t,r)=>t.concat(r)).map(t=>t.trim())}var rV=" ";function Qct(e,t,r){let i=IT(e,t);r=r.trim(),!i.some(n=>n.trim()===r)&&(i.push(r),e.setAttribute(t,i.join(rV)))}function Jct(e,t,r){let i=IT(e,t);r=r.trim();let n=i.filter(o=>o!==r);n.length?e.setAttribute(t,n.join(rV)):e.removeAttribute(t)}function IT(e,t){return e.getAttribute(t)?.match(/\S+/g)??[]}var nV="cdk-describedby-message",TT="cdk-describedby-host",W3=0,oV=(()=>{let t=class t{constructor(i,n){this._platform=n,this._messageRegistry=new Map,this._messagesContainer=null,this._id=`${W3++}`,this._document=i,this._id=pe(Fw)+"-"+W3++}describe(i,n,o){if(!this._canBeDescribed(i,n))return;let s=z3(n,o);typeof n!="string"?(Jj(n,this._id),this._messageRegistry.set(s,{messageElement:n,referenceCount:0})):this._messageRegistry.has(s)||this._createMessageElement(n,o),this._isElementDescribedByMessage(i,s)||this._addMessageReference(i,s)}removeDescription(i,n,o){if(!n||!this._isElementNode(i))return;let s=z3(n,o);if(this._isElementDescribedByMessage(i,s)&&this._removeMessageReference(i,s),typeof n=="string"){let a=this._messageRegistry.get(s);a&&a.referenceCount===0&&this._deleteMessageElement(s)}this._messagesContainer?.childNodes.length===0&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){let i=this._document.querySelectorAll(`[${TT}="${this._id}"]`);for(let n=0;n<i.length;n++)this._removeCdkDescribedByReferenceIds(i[n]),i[n].removeAttribute(TT);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(i,n){let o=this._document.createElement("div");Jj(o,this._id),o.textContent=i,n&&o.setAttribute("role",n),this._createMessagesContainer(),this._messagesContainer.appendChild(o),this._messageRegistry.set(z3(i,n),{messageElement:o,referenceCount:0})}_deleteMessageElement(i){this._messageRegistry.get(i)?.messageElement?.remove(),this._messageRegistry.delete(i)}_createMessagesContainer(){if(this._messagesContainer)return;let i="cdk-describedby-message-container",n=this._document.querySelectorAll(`.${i}[platform="server"]`);for(let s=0;s<n.length;s++)n[s].remove();let o=this._document.createElement("div");o.style.visibility="hidden",o.classList.add(i),o.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&o.setAttribute("platform","server"),this._document.body.appendChild(o),this._messagesContainer=o}_removeCdkDescribedByReferenceIds(i){let n=IT(i,"aria-describedby").filter(o=>o.indexOf(nV)!=0);i.setAttribute("aria-describedby",n.join(" "))}_addMessageReference(i,n){let o=this._messageRegistry.get(n);Qct(i,"aria-describedby",o.messageElement.id),i.setAttribute(TT,this._id),o.referenceCount++}_removeMessageReference(i,n){let o=this._messageRegistry.get(n);o.referenceCount--,Jct(i,"aria-describedby",o.messageElement.id),i.removeAttribute(TT)}_isElementDescribedByMessage(i,n){let o=IT(i,"aria-describedby"),s=this._messageRegistry.get(n),a=s&&s.messageElement.id;return!!a&&o.indexOf(a)!=-1}_canBeDescribed(i,n){if(!this._isElementNode(i))return!1;if(n&&typeof n=="object")return!0;let o=n==null?"":`${n}`.trim(),s=i.getAttribute("aria-label");return o?!s||s.trim()!==o:!1}_isElementNode(i){return i.nodeType===this._document.ELEMENT_NODE}};t.\u0275fac=function(n){return new(n||t)(Jt(Ai),Jt(Hr))},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function z3(e,t){return typeof e=="string"?`${t||""}/${e}`:e}function Jj(e,t){e.id||(e.id=`${nV}-${t}-${W3++}`)}var tdt=200,Y3=class{constructor(t,r){this._letterKeyStream=new Qe,this._items=[],this._selectedItemIndex=-1,this._pressedLetters=[],this._selectedItem=new Qe,this.selectedItem=this._selectedItem;let i=typeof r?.debounceInterval=="number"?r.debounceInterval:tdt;r?.skipPredicate&&(this._skipPredicateFn=r.skipPredicate),this.setItems(t),this._setupKeyHandler(i)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(t){this._selectedItemIndex=t}setItems(t){this._items=t}handleKey(t){let r=t.keyCode;t.key&&t.key.length===1?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(r>=65&&r<=90||r>=48&&r<=57)&&this._letterKeyStream.next(String.fromCharCode(r))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(t){this._letterKeyStream.pipe(fn(r=>this._pressedLetters.push(r)),FR(t),co(()=>this._pressedLetters.length>0),ui(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(r=>{for(let i=1;i<this._items.length+1;i++){let n=(this._selectedItemIndex+i)%this._items.length,o=this._items[n];if(!this._skipPredicateFn?.(o)&&o.getLabel?.().toLocaleUpperCase().trim().indexOf(r)===0){this._selectedItem.next(o);break}}this._pressedLetters=[]})}};var $3=class{_initializeFocus(){if(this._hasInitialFocused||this._items.length===0)return;let t=0;for(let i=0;i<this._items.length;i++)if(!this._skipPredicateFn(this._items[i])&&!this._isItemDisabled(this._items[i])){t=i;break}let r=this._items[t];r.makeFocusable?(this._activeItem?.unfocus(),this._activeItemIndex=t,this._activeItem=r,this._typeahead?.setCurrentSelectedItemIndex(t),r.makeFocusable()):this.focusItem(t),this._hasInitialFocused=!0}constructor(t,r){this._activeItemIndex=-1,this._activeItem=null,this._shouldActivationFollowFocus=!1,this._horizontalOrientation="ltr",this._skipPredicateFn=i=>!1,this._trackByFn=i=>i,this._items=[],this._typeaheadSubscription=Ro.EMPTY,this._hasInitialFocused=!1,this.change=new Qe,t instanceof CO?(this._items=t.toArray(),t.changes.subscribe(i=>{this._items=i.toArray(),this._typeahead?.setItems(this._items),this._updateActiveItemIndex(this._items),this._initializeFocus()})):xh(t)?t.subscribe(i=>{this._items=i,this._typeahead?.setItems(i),this._updateActiveItemIndex(i),this._initializeFocus()}):(this._items=t,this._initializeFocus()),typeof r.shouldActivationFollowFocus=="boolean"&&(this._shouldActivationFollowFocus=r.shouldActivationFollowFocus),r.horizontalOrientation&&(this._horizontalOrientation=r.horizontalOrientation),r.skipPredicate&&(this._skipPredicateFn=r.skipPredicate),r.trackBy&&(this._trackByFn=r.trackBy),typeof r.typeAheadDebounceInterval<"u"&&this._setTypeAhead(r.typeAheadDebounceInterval)}destroy(){this._typeaheadSubscription.unsubscribe(),this._typeahead?.destroy(),this.change.complete()}onKeydown(t){switch(t.key){case"Tab":return;case"ArrowDown":this._focusNextItem();break;case"ArrowUp":this._focusPreviousItem();break;case"ArrowRight":this._horizontalOrientation==="rtl"?this._collapseCurrentItem():this._expandCurrentItem();break;case"ArrowLeft":this._horizontalOrientation==="rtl"?this._expandCurrentItem():this._collapseCurrentItem();break;case"Home":this._focusFirstItem();break;case"End":this._focusLastItem();break;case"Enter":case" ":this._activateCurrentItem();break;default:if(t.key==="*"){this._expandAllItemsAtCurrentItemLevel();break}this._typeahead?.handleKey(t);return}this._typeahead?.reset(),t.preventDefault()}getActiveItemIndex(){return this._activeItemIndex}getActiveItem(){return this._activeItem}_focusFirstItem(){this.focusItem(this._findNextAvailableItemIndex(-1))}_focusLastItem(){this.focusItem(this._findPreviousAvailableItemIndex(this._items.length))}_focusNextItem(){this.focusItem(this._findNextAvailableItemIndex(this._activeItemIndex))}_focusPreviousItem(){this.focusItem(this._findPreviousAvailableItemIndex(this._activeItemIndex))}focusItem(t,r={}){r.emitChangeEvent??=!0;let i=typeof t=="number"?t:this._items.findIndex(s=>this._trackByFn(s)===this._trackByFn(t));if(i<0||i>=this._items.length)return;let n=this._items[i];if(this._activeItem!==null&&this._trackByFn(n)===this._trackByFn(this._activeItem))return;let o=this._activeItem;this._activeItem=n??null,this._activeItemIndex=i,this._typeahead?.setCurrentSelectedItemIndex(i),this._activeItem?.focus(),o?.unfocus(),r.emitChangeEvent&&this.change.next(this._activeItem),this._shouldActivationFollowFocus&&this._activateCurrentItem()}_updateActiveItemIndex(t){let r=this._activeItem;if(!r)return;let i=t.findIndex(n=>this._trackByFn(n)===this._trackByFn(r));i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i,this._typeahead?.setCurrentSelectedItemIndex(i))}_setTypeAhead(t){this._typeahead=new Y3(this._items,{debounceInterval:typeof t=="number"?t:void 0,skipPredicate:r=>this._skipPredicateFn(r)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(r=>{this.focusItem(r)})}_findNextAvailableItemIndex(t){for(let r=t+1;r<this._items.length;r++)if(!this._skipPredicateFn(this._items[r]))return r;return t}_findPreviousAvailableItemIndex(t){for(let r=t-1;r>=0;r--)if(!this._skipPredicateFn(this._items[r]))return r;return t}_collapseCurrentItem(){if(this._activeItem)if(this._isCurrentItemExpanded())this._activeItem.collapse();else{let t=this._activeItem.getParent();if(!t||this._skipPredicateFn(t))return;this.focusItem(t)}}_expandCurrentItem(){this._activeItem&&(this._isCurrentItemExpanded()?Og(this._activeItem.getChildren()).pipe(to(1)).subscribe(t=>{let r=t.find(i=>!this._skipPredicateFn(i));r&&this.focusItem(r)}):this._activeItem.expand())}_isCurrentItemExpanded(){return this._activeItem?typeof this._activeItem.isExpanded=="boolean"?this._activeItem.isExpanded:this._activeItem.isExpanded():!1}_isItemDisabled(t){return typeof t.isDisabled=="boolean"?t.isDisabled:t.isDisabled?.()}_expandAllItemsAtCurrentItemLevel(){if(!this._activeItem)return;let t=this._activeItem.getParent(),r;t?r=Og(t.getChildren()):r=Me(this._items.filter(i=>i.getParent()===null)),r.pipe(to(1)).subscribe(i=>{for(let n of i)n.expand()})}_activateCurrentItem(){this._activeItem?.activate()}};function edt(){return(e,t)=>new $3(e,t)}var sV=new Se("tree-key-manager",{providedIn:"root",factory:edt});var S1=(()=>{let t=class t{constructor(i){this._platform=i}isDisabled(i){return i.hasAttribute("disabled")}isVisible(i){return rdt(i)&&getComputedStyle(i).visibility==="visible"}isTabbable(i){if(!this._platform.isBrowser)return!1;let n=idt(hdt(i));if(n&&(tV(n)===-1||!this.isVisible(n)))return!1;let o=i.nodeName.toLowerCase(),s=tV(i);return i.hasAttribute("contenteditable")?s!==-1:o==="iframe"||o==="object"||this._platform.WEBKIT&&this._platform.IOS&&!cdt(i)?!1:o==="audio"?i.hasAttribute("controls")?s!==-1:!1:o==="video"?s===-1?!1:s!==null?!0:this._platform.FIREFOX||i.hasAttribute("controls"):i.tabIndex>=0}isFocusable(i,n){return ddt(i)&&!this.isDisabled(i)&&(n?.ignoreVisibility||this.isVisible(i))}};t.\u0275fac=function(n){return new(n||t)(Jt(Hr))},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function idt(e){try{return e.frameElement}catch{return null}}function rdt(e){return!!(e.offsetWidth||e.offsetHeight||typeof e.getClientRects=="function"&&e.getClientRects().length)}function ndt(e){let t=e.nodeName.toLowerCase();return t==="input"||t==="select"||t==="button"||t==="textarea"}function odt(e){return adt(e)&&e.type=="hidden"}function sdt(e){return ldt(e)&&e.hasAttribute("href")}function adt(e){return e.nodeName.toLowerCase()=="input"}function ldt(e){return e.nodeName.toLowerCase()=="a"}function aV(e){if(!e.hasAttribute("tabindex")||e.tabIndex===void 0)return!1;let t=e.getAttribute("tabindex");return!!(t&&!isNaN(parseInt(t,10)))}function tV(e){if(!aV(e))return null;let t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}function cdt(e){let t=e.nodeName.toLowerCase(),r=t==="input"&&e.type;return r==="text"||r==="password"||t==="select"||t==="textarea"}function ddt(e){return odt(e)?!1:ndt(e)||sdt(e)||e.hasAttribute("contenteditable")||aV(e)}function hdt(e){return e.ownerDocument&&e.ownerDocument.defaultView||window}var q3=class{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,r,i,n,o=!1,s){this._element=t,this._checker=r,this._ngZone=i,this._document=n,this._injector=s,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){let t=this._startAnchor,r=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),r&&(r.removeEventListener("focus",this.endAnchorListener),r.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(r=>{this._executeOnStable(()=>r(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(r=>{this._executeOnStable(()=>r(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(r=>{this._executeOnStable(()=>r(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let r=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return t=="start"?r.length?r[0]:this._getFirstTabbableElement(this._element):r.length?r[r.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){let r=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(r){if(!this._checker.isFocusable(r)){let i=this._getFirstTabbableElement(r);return i?.focus(t),!!i}return r.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){let r=this._getRegionBoundary("start");return r&&r.focus(t),!!r}focusLastTabbableElement(t){let r=this._getRegionBoundary("end");return r&&r.focus(t),!!r}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let r=t.children;for(let i=0;i<r.length;i++){let n=r[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(r[i]):null;if(n)return n}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let r=t.children;for(let i=r.length-1;i>=0;i--){let n=r[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(r[i]):null;if(n)return n}return null}_createAnchor(){let t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,r){t?r.setAttribute("tabindex","0"):r.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._injector?pa(t,{injector:this._injector}):setTimeout(t)}},E1=(()=>{let t=class t{constructor(i,n,o){this._checker=i,this._ngZone=n,this._injector=pe(mn),this._document=o}create(i,n=!1){return new q3(i,this._checker,this._ngZone,this._document,n,this._injector)}};t.\u0275fac=function(n){return new(n||t)(Jt(S1),Jt(ci),Jt(Ai))},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),lV=(()=>{let t=class t{get enabled(){return this.focusTrap?.enabled||!1}set enabled(i){this.focusTrap&&(this.focusTrap.enabled=i)}constructor(i,n,o){this._elementRef=i,this._focusTrapFactory=n,this._previouslyFocusedElement=null,pe(Hr).isBrowser&&(this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0))}ngOnDestroy(){this.focusTrap?.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap?.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap&&!this.focusTrap.hasAttached()&&this.focusTrap.attachAnchors()}ngOnChanges(i){let n=i.autoCapture;n&&!n.firstChange&&this.autoCapture&&this.focusTrap?.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=bm(),this.focusTrap?.focusInitialElementWhenReady()}};t.\u0275fac=function(n){return new(n||t)(Dt(di),Dt(E1),Dt(Ai))},t.\u0275dir=ri({type:t,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:[2,"cdkTrapFocus","enabled",Sr],autoCapture:[2,"cdkTrapFocusAutoCapture","autoCapture",Sr]},exportAs:["cdkTrapFocus"],standalone:!0,features:[Fr,er]});let e=t;return e})();function G3(e){return e.buttons===0||e.detail===0}function K3(e){let t=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}var udt=new Se("cdk-input-modality-detector-options"),fdt={ignoreKeys:[18,17,224,91,16]},cV=650,sv=dl({passive:!0,capture:!0}),mdt=(()=>{let t=class t{get mostRecentModality(){return this._modality.value}constructor(i,n,o,s){this._platform=i,this._mostRecentTarget=null,this._modality=new Yn(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(l=>l===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=wc(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<cV||(this._modality.next(G3(a)?"keyboard":"mouse"),this._mostRecentTarget=wc(a))},this._onTouchstart=a=>{if(K3(a)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=wc(a)},this._options=jt(jt({},fdt),s),this.modalityDetected=this._modality.pipe(HR(1)),this.modalityChanged=this.modalityDetected.pipe(Sg()),i.isBrowser&&n.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,sv),o.addEventListener("mousedown",this._onMousedown,sv),o.addEventListener("touchstart",this._onTouchstart,sv)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,sv),document.removeEventListener("mousedown",this._onMousedown,sv),document.removeEventListener("touchstart",this._onTouchstart,sv))}};t.\u0275fac=function(n){return new(n||t)(Jt(Hr),Jt(ci),Jt(Ai),Jt(udt,8))},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),pdt=new Se("liveAnnouncerElement",{providedIn:"root",factory:gdt});function gdt(){return null}var bdt=new Se("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),vdt=0,dV=(()=>{let t=class t{constructor(i,n,o,s){this._ngZone=n,this._defaultOptions=s,this._document=o,this._liveElement=i||this._createLiveElement()}announce(i,...n){let o=this._defaultOptions,s,a;return n.length===1&&typeof n[0]=="number"?a=n[0]:[s,a]=n,this.clear(),clearTimeout(this._previousTimeout),s||(s=o&&o.politeness?o.politeness:"polite"),a==null&&o&&(a=o.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(l=>this._currentResolve=l)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=i,typeof a=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),a)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let i="cdk-live-announcer-element",n=this._document.getElementsByClassName(i),o=this._document.createElement("div");for(let s=0;s<n.length;s++)n[s].remove();return o.classList.add(i),o.classList.add("cdk-visually-hidden"),o.setAttribute("aria-atomic","true"),o.setAttribute("aria-live","polite"),o.id=`cdk-live-announcer-${vdt++}`,this._document.body.appendChild(o),o}_exposeAnnouncerToModals(i){let n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let o=0;o<n.length;o++){let s=n[o],a=s.getAttribute("aria-owns");a?a.indexOf(i)===-1&&s.setAttribute("aria-owns",a+" "+i):s.setAttribute("aria-owns",i)}}};t.\u0275fac=function(n){return new(n||t)(Jt(pdt,8),Jt(ci),Jt(Ai),Jt(bdt,8))},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var AT=function(e){return e[e.IMMEDIATE=0]="IMMEDIATE",e[e.EVENTUAL=1]="EVENTUAL",e}(AT||{}),ydt=new Se("cdk-focus-monitor-default-options"),MT=dl({passive:!0,capture:!0}),qu=(()=>{let t=class t{constructor(i,n,o,s,a){this._ngZone=i,this._platform=n,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Qe,this._rootNodeFocusAndBlurListener=l=>{let c=wc(l);for(let d=c;d;d=d.parentElement)l.type==="focus"?this._onFocus(l,d):this._onBlur(l,d)},this._document=s,this._detectionMode=a?.detectionMode||AT.IMMEDIATE}monitor(i,n=!1){let o=Cc(i);if(!this._platform.isBrowser||o.nodeType!==1)return Me();let s=Gj(o)||this._getDocument(),a=this._elementInfo.get(o);if(a)return n&&(a.checkChildren=!0),a.subject;let l={checkChildren:n,subject:new Qe,rootNode:s};return this._elementInfo.set(o,l),this._registerGlobalListeners(l),l.subject}stopMonitoring(i){let n=Cc(i),o=this._elementInfo.get(n);o&&(o.subject.complete(),this._setClasses(n),this._elementInfo.delete(n),this._removeGlobalListeners(o))}focusVia(i,n,o){let s=Cc(i),a=this._getDocument().activeElement;s===a?this._getClosestElementsInfo(s).forEach(([l,c])=>this._originChanged(l,n,c)):(this._setOrigin(n),typeof s.focus=="function"&&s.focus(o))}ngOnDestroy(){this._elementInfo.forEach((i,n)=>this.stopMonitoring(n))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(i){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(i)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:i&&this._isLastInteractionFromInputLabel(i)?"mouse":"program"}_shouldBeAttributedToTouch(i){return this._detectionMode===AT.EVENTUAL||!!i?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(i,n){i.classList.toggle("cdk-focused",!!n),i.classList.toggle("cdk-touch-focused",n==="touch"),i.classList.toggle("cdk-keyboard-focused",n==="keyboard"),i.classList.toggle("cdk-mouse-focused",n==="mouse"),i.classList.toggle("cdk-program-focused",n==="program")}_setOrigin(i,n=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=i,this._originFromTouchInteraction=i==="touch"&&n,this._detectionMode===AT.IMMEDIATE){clearTimeout(this._originTimeoutId);let o=this._originFromTouchInteraction?cV:1;this._originTimeoutId=setTimeout(()=>this._origin=null,o)}})}_onFocus(i,n){let o=this._elementInfo.get(n),s=wc(i);!o||!o.checkChildren&&n!==s||this._originChanged(n,this._getFocusOrigin(s),o)}_onBlur(i,n){let o=this._elementInfo.get(n);!o||o.checkChildren&&i.relatedTarget instanceof Node&&n.contains(i.relatedTarget)||(this._setClasses(n),this._emitOrigin(o,null))}_emitOrigin(i,n){i.subject.observers.length&&this._ngZone.run(()=>i.subject.next(n))}_registerGlobalListeners(i){if(!this._platform.isBrowser)return;let n=i.rootNode,o=this._rootNodeFocusListenerCount.get(n)||0;o||this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",this._rootNodeFocusAndBlurListener,MT),n.addEventListener("blur",this._rootNodeFocusAndBlurListener,MT)}),this._rootNodeFocusListenerCount.set(n,o+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe($n(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(i){let n=i.rootNode;if(this._rootNodeFocusListenerCount.has(n)){let o=this._rootNodeFocusListenerCount.get(n);o>1?this._rootNodeFocusListenerCount.set(n,o-1):(n.removeEventListener("focus",this._rootNodeFocusAndBlurListener,MT),n.removeEventListener("blur",this._rootNodeFocusAndBlurListener,MT),this._rootNodeFocusListenerCount.delete(n))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(i,n,o){this._setClasses(i,n),this._emitOrigin(o,n),this._lastFocusOrigin=n}_getClosestElementsInfo(i){let n=[];return this._elementInfo.forEach((o,s)=>{(s===i||o.checkChildren&&s.contains(i))&&n.push([s,o])}),n}_isLastInteractionFromInputLabel(i){let{_mostRecentTarget:n,mostRecentModality:o}=this._inputModalityDetector;if(o!=="mouse"||!n||n===i||i.nodeName!=="INPUT"&&i.nodeName!=="TEXTAREA"||i.disabled)return!1;let s=i.labels;if(s){for(let a=0;a<s.length;a++)if(s[a].contains(n))return!0}return!1}};t.\u0275fac=function(n){return new(n||t)(Jt(ci),Jt(Hr),Jt(mdt),Jt(Ai,8),Jt(ydt,8))},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),hV=(()=>{let t=class t{constructor(i,n){this._elementRef=i,this._focusMonitor=n,this._focusOrigin=null,this.cdkFocusChange=new si}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){let i=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(i,i.nodeType===1&&i.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(n=>{this._focusOrigin=n,this.cdkFocusChange.emit(n)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}};t.\u0275fac=function(n){return new(n||t)(Dt(di),Dt(qu))},t.\u0275dir=ri({type:t,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"],standalone:!0});let e=t;return e})(),Ng=function(e){return e[e.NONE=0]="NONE",e[e.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",e[e.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",e}(Ng||{}),eV="cdk-high-contrast-black-on-white",iV="cdk-high-contrast-white-on-black",U3="cdk-high-contrast-active",X3=(()=>{let t=class t{constructor(i,n){this._platform=i,this._document=n,this._breakpointSubscription=pe(Qj).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Ng.NONE;let i=this._document.createElement("div");i.style.backgroundColor="rgb(1,2,3)",i.style.position="absolute",this._document.body.appendChild(i);let n=this._document.defaultView||window,o=n&&n.getComputedStyle?n.getComputedStyle(i):null,s=(o&&o.backgroundColor||"").replace(/ /g,"");switch(i.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Ng.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Ng.BLACK_ON_WHITE}return Ng.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let i=this._document.body.classList;i.remove(U3,eV,iV),this._hasCheckedHighContrastMode=!0;let n=this.getHighContrastMode();n===Ng.BLACK_ON_WHITE?i.add(U3,eV):n===Ng.WHITE_ON_BLACK&&i.add(U3,iV)}}};t.\u0275fac=function(n){return new(n||t)(Jt(Hr),Jt(Ai))},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),kT=(()=>{let t=class t{constructor(i){i._applyBodyHighContrastModeCssClasses()}};t.\u0275fac=function(n){return new(n||t)(Jt(X3))},t.\u0275mod=ze({type:t}),t.\u0275inj=Ve({imports:[ov]});let e=t;return e})();var _dt=new Se("cdk-dir-doc",{providedIn:"root",factory:wdt});function wdt(){return pe(Ai)}var Cdt=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function xdt(e){let t=e?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?Cdt.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var Ds=(()=>{let t=class t{constructor(i){if(this.value="ltr",this.change=new si,i){let n=i.body?i.body.dir:null,o=i.documentElement?i.documentElement.dir:null;this.value=xdt(n||o||"ltr")}}ngOnDestroy(){this.change.complete()}};t.\u0275fac=function(n){return new(n||t)(Jt(_dt,8))},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var vm=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ze({type:t}),t.\u0275inj=Ve({});let e=t;return e})();var Sdt=["mat-internal-form-field",""],Edt=["*"];var _V=(()=>{let t=class t{};t.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",t.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",t.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",t.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)";let e=t;return e})(),wV=(()=>{let t=class t{};t.COMPLEX="375ms",t.ENTERING="225ms",t.EXITING="195ms";let e=t;return e})();function Rdt(){return!0}var Tdt=new Se("mat-sanity-checks",{providedIn:"root",factory:Rdt}),Si=(()=>{let t=class t{constructor(i,n,o){this._sanityChecks=n,this._document=o,this._hasDoneGlobalChecks=!1,i._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(i){return x1()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[i]}};t.\u0275fac=function(n){return new(n||t)(Jt(X3),Jt(Tdt,8),Jt(Ai))},t.\u0275mod=ze({type:t}),t.\u0275inj=Ve({imports:[vm,vm]});let e=t;return e})();var av=class{constructor(t,r,i,n,o){this._defaultMatcher=t,this.ngControl=r,this._parentFormGroup=i,this._parentForm=n,this._stateChanges=o,this.errorState=!1}updateErrorState(){let t=this.errorState,r=this._parentFormGroup||this._parentForm,i=this.matcher||this._defaultMatcher,n=this.ngControl?this.ngControl.control:null,o=i?.isErrorState(n,r)??!1;o!==t&&(this.errorState=o,this._stateChanges.next())}};var e4=new Se("MAT_DATE_LOCALE",{providedIn:"root",factory:Mdt});function Mdt(){return pe(dB)}var Os=class{constructor(){this._localeChanges=new Qe,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return t==null||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,r){return this.getYear(t)-this.getYear(r)||this.getMonth(t)-this.getMonth(r)||this.getDate(t)-this.getDate(r)}sameDate(t,r){if(t&&r){let i=this.isValid(t),n=this.isValid(r);return i&&n?!this.compareDate(t,r):i==n}return t==r}clampDate(t,r,i){return r&&this.compareDate(t,r)<0?r:i&&this.compareDate(t,i)>0?i:t}},Gu=new Se("mat-date-formats");var i4=(()=>{let t=class t{isErrorState(i,n){return!!(i&&i.invalid&&(i.touched||n&&n.submitted))}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var r4=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ze({type:t}),t.\u0275inj=Ve({imports:[Si,Si]});let e=t;return e})(),xc=function(e){return e[e.FADING_IN=0]="FADING_IN",e[e.VISIBLE=1]="VISIBLE",e[e.FADING_OUT=2]="FADING_OUT",e[e.HIDDEN=3]="HIDDEN",e}(xc||{}),J3=class{constructor(t,r,i,n=!1){this._renderer=t,this.element=r,this.config=i,this._animationForciblyDisabledThroughCss=n,this.state=xc.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},uV=dl({passive:!0,capture:!0}),t4=class{constructor(){this._events=new Map,this._delegateEventHandler=t=>{let r=wc(t);r&&this._events.get(t.type)?.forEach((i,n)=>{(n===r||n.contains(r))&&i.forEach(o=>o.handleEvent(t))})}}addHandler(t,r,i,n){let o=this._events.get(r);if(o){let s=o.get(i);s?s.add(n):o.set(i,new Set([n]))}else this._events.set(r,new Map([[i,new Set([n])]])),t.runOutsideAngular(()=>{document.addEventListener(r,this._delegateEventHandler,uV)})}removeHandler(t,r,i){let n=this._events.get(t);if(!n)return;let o=n.get(r);o&&(o.delete(i),o.size===0&&n.delete(r),n.size===0&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,uV)))}},fV={enterDuration:225,exitDuration:150},Adt=800,mV=dl({passive:!0,capture:!0}),pV=["mousedown","touchstart"],gV=["mouseup","mouseleave","touchend","touchcancel"],M1=class M1{constructor(t,r,i,n){this._target=t,this._ngZone=r,this._platform=n,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,n.isBrowser&&(this._containerElement=Cc(i))}fadeInRipple(t,r,i={}){let n=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=jt(jt({},fV),i.animation);i.centered&&(t=n.left+n.width/2,r=n.top+n.height/2);let s=i.radius||Idt(t,r,n),a=t-n.left,l=r-n.top,c=o.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=`${a-s}px`,d.style.top=`${l-s}px`,d.style.height=`${s*2}px`,d.style.width=`${s*2}px`,i.color!=null&&(d.style.backgroundColor=i.color),d.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(d);let h=window.getComputedStyle(d),u=h.transitionProperty,f=h.transitionDuration,m=u==="none"||f==="0s"||f==="0s, 0s"||n.width===0&&n.height===0,g=new J3(this,d,i,m);d.style.transform="scale3d(1, 1, 1)",g.state=xc.FADING_IN,i.persistent||(this._mostRecentTransientRipple=g);let p=null;return!m&&(c||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let b=()=>{p&&(p.fallbackTimer=null),clearTimeout(E),this._finishRippleTransition(g)},_=()=>this._destroyRipple(g),E=setTimeout(_,c+100);d.addEventListener("transitionend",b),d.addEventListener("transitioncancel",_),p={onTransitionEnd:b,onTransitionCancel:_,fallbackTimer:E}}),this._activeRipples.set(g,p),(m||!c)&&this._finishRippleTransition(g),g}fadeOutRipple(t){if(t.state===xc.FADING_OUT||t.state===xc.HIDDEN)return;let r=t.element,i=jt(jt({},fV),t.config.animation);r.style.transitionDuration=`${i.exitDuration}ms`,r.style.opacity="0",t.state=xc.FADING_OUT,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){let r=Cc(t);!this._platform.isBrowser||!r||r===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=r,pV.forEach(i=>{M1._eventManager.addHandler(this._ngZone,i,r,this)}))}handleEvent(t){t.type==="mousedown"?this._onMousedown(t):t.type==="touchstart"?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{gV.forEach(r=>{this._triggerElement.addEventListener(r,this,mV)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===xc.FADING_IN?this._startFadeOutTransition(t):t.state===xc.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){let r=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=xc.VISIBLE,!i&&(!r||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){let r=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=xc.HIDDEN,r!==null&&(t.element.removeEventListener("transitionend",r.onTransitionEnd),t.element.removeEventListener("transitioncancel",r.onTransitionCancel),r.fallbackTimer!==null&&clearTimeout(r.fallbackTimer)),t.element.remove()}_onMousedown(t){let r=G3(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+Adt;!this._target.rippleDisabled&&!r&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!K3(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let r=t.changedTouches;if(r)for(let i=0;i<r.length;i++)this.fadeInRipple(r[i].clientX,r[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{let r=t.state===xc.VISIBLE||t.config.terminateOnPointerUp&&t.state===xc.FADING_IN;!t.config.persistent&&r&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let t=this._triggerElement;t&&(pV.forEach(r=>M1._eventManager.removeHandler(r,t,this)),this._pointerUpEventsRegistered&&(gV.forEach(r=>t.removeEventListener(r,this,mV)),this._pointerUpEventsRegistered=!1))}};M1._eventManager=new t4;var OT=M1;function Idt(e,t,r){let i=Math.max(Math.abs(e-r.left),Math.abs(e-r.right)),n=Math.max(Math.abs(t-r.top),Math.abs(t-r.bottom));return Math.sqrt(i*i+n*n)}var PT=new Se("mat-ripple-global-options"),lv=(()=>{let t=class t{get disabled(){return this._disabled}set disabled(i){i&&this.fadeOutAllNonPersistent(),this._disabled=i,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(i){this._trigger=i,this._setupTriggerEventsIfEnabled()}constructor(i,n,o,s,a){this._elementRef=i,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new OT(this,n,i,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:jt(jt(jt({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(i,n=0,o){return typeof i=="number"?this._rippleRenderer.fadeInRipple(i,n,jt(jt({},this.rippleConfig),o)):this._rippleRenderer.fadeInRipple(0,0,jt(jt({},this.rippleConfig),i))}};t.\u0275fac=function(n){return new(n||t)(Dt(di),Dt(ci),Dt(Hr),Dt(PT,8),Dt(Fo,8))},t.\u0275dir=ri({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(n,o){n&2&&Vi("mat-ripple-unbounded",o.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0});let e=t;return e})(),Lg=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ze({type:t}),t.\u0275inj=Ve({imports:[Si,Si]});let e=t;return e})();var n4=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ze({type:t}),t.\u0275inj=Ve({imports:[Si]});let e=t;return e})();var cv=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ze({type:t}),t.\u0275inj=Ve({imports:[Lg,Si,n4]});let e=t;return e})(),bV={capture:!0},vV=["focus","mousedown","mouseenter","touchstart"],Z3="mat-ripple-loader-uninitialized",Q3="mat-ripple-loader-class-name",yV="mat-ripple-loader-centered",DT="mat-ripple-loader-disabled",CV=(()=>{let t=class t{constructor(){this._document=pe(Ai,{optional:!0}),this._animationMode=pe(Fo,{optional:!0}),this._globalRippleOptions=pe(PT,{optional:!0}),this._platform=pe(Hr),this._ngZone=pe(ci),this._hosts=new Map,this._onInteraction=i=>{let n=wc(i);if(n instanceof HTMLElement){let o=n.closest(`[${Z3}="${this._globalRippleOptions?.namespace??""}"]`);o&&this._createRipple(o)}},this._ngZone.runOutsideAngular(()=>{for(let i of vV)this._document?.addEventListener(i,this._onInteraction,bV)})}ngOnDestroy(){let i=this._hosts.keys();for(let n of i)this.destroyRipple(n);for(let n of vV)this._document?.removeEventListener(n,this._onInteraction,bV)}configureRipple(i,n){i.setAttribute(Z3,this._globalRippleOptions?.namespace??""),(n.className||!i.hasAttribute(Q3))&&i.setAttribute(Q3,n.className||""),n.centered&&i.setAttribute(yV,""),n.disabled&&i.setAttribute(DT,"")}getRipple(i){return this._hosts.get(i)||this._createRipple(i)}setDisabled(i,n){let o=this._hosts.get(i);if(o){o.disabled=n;return}n?i.setAttribute(DT,""):i.removeAttribute(DT)}_createRipple(i){if(!this._document)return;let n=this._hosts.get(i);if(n)return n;i.querySelector(".mat-ripple")?.remove();let o=this._document.createElement("span");o.classList.add("mat-ripple",i.getAttribute(Q3)),i.append(o);let s=new lv(new di(o),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return s._isInitialized=!0,s.trigger=i,s.centered=i.hasAttribute(yV),s.disabled=i.hasAttribute(DT),this.attachRipple(i,s),s}attachRipple(i,n){i.removeAttribute(Z3),this._hosts.set(i,n)}destroyRipple(i){let n=this._hosts.get(i);n&&(n.ngOnDestroy(),this._hosts.delete(i))}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),xV=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=qe({type:t,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(n,o){n&2&&Vi("mdc-form-field--align-end",o.labelPosition==="before")},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[ai],attrs:Sdt,ngContentSelectors:Edt,decls:1,vars:0,template:function(n,o){n&1&&(pn(),ir(0))},styles:[".mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}"],encapsulation:2,changeDetection:0});let e=t;return e})();var A1=class{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},yd=class extends A1{constructor(t,r,i,n,o){super(),this.component=t,this.viewContainerRef=r,this.injector=i,this.componentFactoryResolver=n,this.projectableNodes=o}},Fg=class extends A1{constructor(t,r,i,n){super(),this.templateRef=t,this.viewContainerRef=r,this.context=i,this.injector=n}get origin(){return this.templateRef.elementRef}attach(t,r=this.context){return this.context=r,super.attach(t)}detach(){return this.context=void 0,super.detach()}},o4=class extends A1{constructor(t){super(),this.element=t instanceof di?t.nativeElement:t}},dv=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof yd)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof Fg)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof o4)return this._attachedPortal=t,this.attachDomPortal(t)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var NT=class extends dv{constructor(t,r,i,n,o){super(),this.outletElement=t,this._componentFactoryResolver=r,this._appRef=i,this._defaultInjector=n,this.attachDomPortal=s=>{this._document;let a=s.element;a.parentNode;let l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=o}attachComponentPortal(t){let i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>n.destroy())):(n=i.create(t.injector||this._defaultInjector||mn.NULL),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),this._attachedPortal=t,n}attachTemplatePortal(t){let r=t.viewContainerRef,i=r.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(n=>this.outletElement.appendChild(n)),i.detectChanges(),this.setDisposeFn(()=>{let n=r.indexOf(i);n!==-1&&r.remove(n)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var ym=(()=>{let t=class t extends dv{constructor(i,n,o){super(),this._componentFactoryResolver=i,this._viewContainerRef=n,this._isInitialized=!1,this.attached=new si,this.attachDomPortal=s=>{this._document;let a=s.element;a.parentNode;let l=this._document.createComment("dom-portal");s.setAttachedHost(this),a.parentNode.insertBefore(l,a),this._getRootNode().appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=o}get portal(){return this._attachedPortal}set portal(i){this.hasAttached()&&!i&&!this._isInitialized||(this.hasAttached()&&super.detach(),i&&super.attach(i),this._attachedPortal=i||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(i){i.setAttachedHost(this);let n=i.viewContainerRef!=null?i.viewContainerRef:this._viewContainerRef,s=(i.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(i.component),a=n.createComponent(s,n.length,i.injector||n.injector,i.projectableNodes||void 0);return n!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=i,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(i){i.setAttachedHost(this);let n=this._viewContainerRef.createEmbeddedView(i.templateRef,i.context,{injector:i.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=i,this._attachedRef=n,this.attached.emit(n),n}_getRootNode(){let i=this._viewContainerRef.element.nativeElement;return i.nodeType===i.ELEMENT_NODE?i:i.parentNode}};t.\u0275fac=function(n){return new(n||t)(Dt(Hb),Dt(gs),Dt(Ai))},t.\u0275dir=ri({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[$r]});let e=t;return e})();var hv=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ze({type:t}),t.\u0275inj=Ve({});let e=t;return e})();function EV(e){return e&&typeof e.connect=="function"&&!(e instanceof Dw)}var I1=class{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(t=!1,r,i=!0,n){this._multiple=t,this._emitChanges=i,this.compareWith=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Qe,r&&r.length&&(t?r.forEach(o=>this._markSelected(o)):this._markSelected(r[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));let r=this._hasQueuedChanges();return this._emitChangeEvent(),r}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));let r=this._hasQueuedChanges();return this._emitChangeEvent(),r}setSelection(...t){this._verifyValueAssignment(t);let r=this.selected,i=new Set(t);t.forEach(o=>this._markSelected(o)),r.filter(o=>!i.has(this._getConcreteValue(o,i))).forEach(o=>this._unmarkSelected(o));let n=this._hasQueuedChanges();return this._emitChangeEvent(),n}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();let r=this._hasQueuedChanges();return t&&this._emitChangeEvent(),r}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){t.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(t,r){if(this.compareWith){r=r??this._selection;for(let i of r)if(this.compareWith(t,i))return i;return t}else return t}};var kdt=20,k1=(()=>{let t=class t{constructor(i,n,o){this._ngZone=i,this._platform=n,this._scrolled=new Qe,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(i){this.scrollContainers.has(i)||this.scrollContainers.set(i,i.elementScrolled().subscribe(()=>this._scrolled.next(i)))}deregister(i){let n=this.scrollContainers.get(i);n&&(n.unsubscribe(),this.scrollContainers.delete(i))}scrolled(i=kdt){return this._platform.isBrowser?new Ch(n=>{this._globalSubscription||this._addGlobalListener();let o=i>0?this._scrolled.pipe(vO(i)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Me()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((i,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(i,n){let o=this.getAncestorScrollContainers(i);return this.scrolled(n).pipe(co(s=>!s||o.indexOf(s)>-1))}getAncestorScrollContainers(i){let n=[];return this.scrollContainers.forEach((o,s)=>{this._scrollableContainsElement(s,i)&&n.push(s)}),n}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(i,n){let o=Cc(n),s=i.getElementRef().nativeElement;do if(o==s)return!0;while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let i=this._getWindow();return bO(i.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};t.\u0275fac=function(n){return new(n||t)(Jt(ci),Jt(Hr),Jt(Ai,8))},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Ddt=20,LT=(()=>{let t=class t{constructor(i,n,o){this._platform=i,this._change=new Qe,this._changeListener=s=>{this._change.next(s)},this._document=o,n.runOutsideAngular(()=>{if(i.isBrowser){let s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let i=this._getWindow();i.removeEventListener("resize",this._changeListener),i.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let i={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),i}getViewportRect(){let i=this.getViewportScrollPosition(),{width:n,height:o}=this.getViewportSize();return{top:i.top,left:i.left,bottom:i.top+o,right:i.left+n,height:o,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let i=this._document,n=this._getWindow(),o=i.documentElement,s=o.getBoundingClientRect(),a=-s.top||i.body.scrollTop||n.scrollY||o.scrollTop||0,l=-s.left||i.body.scrollLeft||n.scrollX||o.scrollLeft||0;return{top:a,left:l}}change(i=Ddt){return i>0?this._change.pipe(vO(i)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let i=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:i.innerWidth,height:i.innerHeight}:{width:0,height:0}}};t.\u0275fac=function(n){return new(n||t)(Jt(Hr),Jt(ci),Jt(Ai,8))},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Sc=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ze({type:t}),t.\u0275inj=Ve({});let e=t;return e})(),D1=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ze({type:t}),t.\u0275inj=Ve({imports:[vm,Sc,vm,Sc]});let e=t;return e})();var s4=class{constructor(t){this._box=t,this._destroyed=new Qe,this._resizeSubject=new Qe,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(r=>this._resizeSubject.next(r)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new Ch(r=>{let i=this._resizeSubject.subscribe(r);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),i.unsubscribe(),this._elementObservables.delete(t)}}).pipe(co(r=>r.some(i=>i.target===t)),Pw({bufferSize:1,refCount:!0}),$n(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},RV=(()=>{let t=class t{constructor(){this._observers=new Map,this._ngZone=pe(ci),typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,i]of this._observers)i.destroy();this._observers.clear(),typeof ResizeObserver<"u"}observe(i,n){let o=n?.box||"content-box";return this._observers.has(o)||this._observers.set(o,new s4(o)),this._observers.get(o).observe(i)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var TV=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ze({type:t}),t.\u0275inj=Ve({imports:[Si,Si]});let e=t;return e})();var MV=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ze({type:t}),t.\u0275inj=Ve({imports:[D1]});let e=t;return e})();var AV=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ze({type:t}),t.\u0275inj=Ve({imports:[Si,MV,Si]});let e=t;return e})();var FV=(()=>{let t=class t{constructor(i,n){this._renderer=i,this._elementRef=n,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(i,n){this._renderer.setProperty(this._elementRef.nativeElement,i,n)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};t.\u0275fac=function(n){return new(n||t)(Dt(jw),Dt(di))},t.\u0275dir=ri({type:t});let e=t;return e})(),Ldt=(()=>{let t=class t extends FV{};t.\u0275fac=(()=>{let i;return function(o){return(i||(i=As(t)))(o||t)}})(),t.\u0275dir=ri({type:t,features:[$r]});let e=t;return e})(),Bg=new Se("");var Fdt={provide:Bg,useExisting:jl(()=>gv),multi:!0};function Hdt(){let e=zb()?zb().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var Bdt=new Se(""),gv=(()=>{let t=class t extends FV{constructor(i,n,o){super(i,n),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Hdt())}writeValue(i){let n=i??"";this.setProperty("value",n)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};t.\u0275fac=function(n){return new(n||t)(Dt(jw),Dt(di),Dt(Bdt,8))},t.\u0275dir=ri({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,o){n&1&&fi("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[xr([Fdt]),$r]});let e=t;return e})();function _m(e){return e==null||(typeof e=="string"||Array.isArray(e))&&e.length===0}function HV(e){return e!=null&&typeof e.length=="number"}var xm=new Se(""),WT=new Se(""),jdt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,mv=class{static min(t){return Vdt(t)}static max(t){return zdt(t)}static required(t){return Udt(t)}static requiredTrue(t){return Wdt(t)}static email(t){return Ydt(t)}static minLength(t){return $dt(t)}static maxLength(t){return qdt(t)}static pattern(t){return Gdt(t)}static nullValidator(t){return BV(t)}static compose(t){return YV(t)}static composeAsync(t){return $V(t)}};function Vdt(e){return t=>{if(_m(t.value)||_m(e))return null;let r=parseFloat(t.value);return!isNaN(r)&&r<e?{min:{min:e,actual:t.value}}:null}}function zdt(e){return t=>{if(_m(t.value)||_m(e))return null;let r=parseFloat(t.value);return!isNaN(r)&&r>e?{max:{max:e,actual:t.value}}:null}}function Udt(e){return _m(e.value)?{required:!0}:null}function Wdt(e){return e.value===!0?null:{required:!0}}function Ydt(e){return _m(e.value)||jdt.test(e.value)?null:{email:!0}}function $dt(e){return t=>_m(t.value)||!HV(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}function qdt(e){return t=>HV(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}function Gdt(e){if(!e)return BV;let t,r;return typeof e=="string"?(r="",e.charAt(0)!=="^"&&(r+="^"),r+=e,e.charAt(e.length-1)!=="$"&&(r+="$"),t=new RegExp(r)):(r=e.toString(),t=e),i=>{if(_m(i.value))return null;let n=i.value;return t.test(n)?null:{pattern:{requiredPattern:r,actualValue:n}}}}function BV(e){return null}function jV(e){return e!=null}function VV(e){return UR(e)?as(e):e}function zV(e){let t={};return e.forEach(r=>{t=r!=null?jt(jt({},t),r):t}),Object.keys(t).length===0?null:t}function UV(e,t){return t.map(r=>r(e))}function Kdt(e){return!e.validate}function WV(e){return e.map(t=>Kdt(t)?t:r=>t.validate(r))}function YV(e){if(!e)return null;let t=e.filter(jV);return t.length==0?null:function(r){return zV(UV(r,t))}}function f4(e){return e!=null?YV(WV(e)):null}function $V(e){if(!e)return null;let t=e.filter(jV);return t.length==0?null:function(r){let i=UV(r,t).map(VV);return Lu(i).pipe(ui(zV))}}function m4(e){return e!=null?$V(WV(e)):null}function IV(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function qV(e){return e._rawValidators}function GV(e){return e._rawAsyncValidators}function a4(e){return e?Array.isArray(e)?e:[e]:[]}function HT(e,t){return Array.isArray(e)?e.includes(t):e===t}function kV(e,t){let r=a4(t);return a4(e).forEach(n=>{HT(r,n)||r.push(n)}),r}function DV(e,t){return a4(t).filter(r=>!HT(e,r))}var BT=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=f4(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=m4(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,r){return this.control?this.control.hasError(t,r):!1}getError(t,r){return this.control?this.control.getError(t,r):null}},Hg=class extends BT{get formDirective(){return null}get path(){return null}},Mh=class extends BT{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},l4=class{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},Xdt={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},DFt=Ue(jt({},Xdt),{"[class.ng-submitted]":"isSubmitted"}),YT=(()=>{let t=class t extends l4{constructor(i){super(i)}};t.\u0275fac=function(n){return new(n||t)(Dt(Mh,2))},t.\u0275dir=ri({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,o){n&2&&Vi("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[$r]});let e=t;return e})();var O1="VALID",FT="INVALID",uv="PENDING",P1="DISABLED",wm=class{},jT=class extends wm{constructor(t,r){super(),this.value=t,this.source=r}},L1=class extends wm{constructor(t,r){super(),this.pristine=t,this.source=r}},F1=class extends wm{constructor(t,r){super(),this.touched=t,this.source=r}},fv=class extends wm{constructor(t,r){super(),this.status=t,this.source=r}},c4=class extends wm{constructor(t){super(),this.source=t}},d4=class extends wm{constructor(t){super(),this.source=t}};function p4(e){return($T(e)?e.validators:e)||null}function Zdt(e){return Array.isArray(e)?f4(e):e||null}function g4(e,t){return($T(t)?t.asyncValidators:e)||null}function Qdt(e){return Array.isArray(e)?m4(e):e||null}function $T(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function KV(e,t,r){let i=e.controls;if(!(t?Object.keys(i):i).length)throw new An(1e3,"");if(!i[r])throw new An(1001,"")}function XV(e,t,r){e._forEachChild((i,n)=>{if(r[n]===void 0)throw new An(1002,"")})}var pv=class{constructor(t,r){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._events=new Qe,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(r)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===O1}get invalid(){return this.status===FT}get pending(){return this.status==uv}get disabled(){return this.status===P1}get enabled(){return this.status!==P1}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(kV(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(kV(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(DV(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(DV(t,this._rawAsyncValidators))}hasValidator(t){return HT(this._rawValidators,t)}hasAsyncValidator(t){return HT(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let r=this.touched===!1;this.touched=!0;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(Ue(jt({},t),{sourceControl:i})),r&&t.emitEvent!==!1&&this._events.next(new F1(!0,i))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(r=>r.markAllAsTouched(t))}markAsUntouched(t={}){let r=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=t.sourceControl??this;this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),r&&t.emitEvent!==!1&&this._events.next(new F1(!1,i))}markAsDirty(t={}){let r=this.pristine===!0;this.pristine=!1;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(Ue(jt({},t),{sourceControl:i})),r&&t.emitEvent!==!1&&this._events.next(new L1(!1,i))}markAsPristine(t={}){let r=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=t.sourceControl??this;this._forEachChild(n=>{n.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),r&&t.emitEvent!==!1&&this._events.next(new L1(!0,i))}markAsPending(t={}){this.status=uv;let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new fv(this.status,r)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(Ue(jt({},t),{sourceControl:r}))}disable(t={}){let r=this._parentMarkedDirty(t.onlySelf);this.status=P1,this.errors=null,this._forEachChild(n=>{n.disable(Ue(jt({},t),{onlySelf:!0}))}),this._updateValue();let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new jT(this.value,i)),this._events.next(new fv(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ue(jt({},t),{skipPristineCheck:r}),this),this._onDisabledChange.forEach(n=>n(!0))}enable(t={}){let r=this._parentMarkedDirty(t.onlySelf);this.status=O1,this._forEachChild(i=>{i.enable(Ue(jt({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Ue(jt({},t),{skipPristineCheck:r}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,r){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},r),this._parent._updateTouched({},r))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===O1||this.status===uv)&&this._runAsyncValidator(i,t.emitEvent)}let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new jT(this.value,r)),this._events.next(new fv(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(Ue(jt({},t),{sourceControl:r}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?P1:O1}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,r){if(this.asyncValidator){this.status=uv,this._hasOwnPendingAsyncValidator={emitEvent:r!==!1};let i=VV(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(n=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(n,{emitEvent:r,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,r={}){this.errors=t,this._updateControlsErrors(r.emitEvent!==!1,this,r.shouldHaveEmitted)}get(t){let r=t;return r==null||(Array.isArray(r)||(r=r.split(".")),r.length===0)?null:r.reduce((i,n)=>i&&i._find(n),this)}getError(t,r){let i=r?this.get(r):this;return i&&i.errors?i.errors[t]:null}hasError(t,r){return!!this.getError(t,r)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,r,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new fv(this.status,r)),this._parent&&this._parent._updateControlsErrors(t,r,i)}_initObservables(){this.valueChanges=new si,this.statusChanges=new si}_calculateStatus(){return this._allControlsDisabled()?P1:this.errors?FT:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(uv)?uv:this._anyControlsHaveStatus(FT)?FT:O1}_anyControlsHaveStatus(t){return this._anyControls(r=>r.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,r){let i=!this._anyControlsDirty(),n=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&this._events.next(new L1(this.pristine,r))}_updateTouched(t={},r){this.touched=this._anyControlsTouched(),this._events.next(new F1(this.touched,r)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){$T(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let r=this._parent&&this._parent.dirty;return!t&&!!r&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=Zdt(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=Qdt(this._rawAsyncValidators)}},Cm=class extends pv{constructor(t,r,i){super(p4(r),g4(i,r)),this.controls=t,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,r){return this.controls[t]?this.controls[t]:(this.controls[t]=r,r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange),r)}addControl(t,r,i={}){this.registerControl(t,r),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}setControl(t,r,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],r&&this.registerControl(t,r),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,r={}){XV(this,!0,t),Object.keys(t).forEach(i=>{KV(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(t,r={}){t!=null&&(Object.keys(t).forEach(i=>{let n=this.controls[i];n&&n.patchValue(t[i],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(t={},r={}){this._forEachChild((i,n)=>{i.reset(t?t[n]:null,{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r,this),this._updateTouched(r,this),this.updateValueAndValidity(r)}getRawValue(){return this._reduceChildren({},(t,r,i)=>(t[i]=r.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(r,i)=>i._syncPendingControls()?!0:r);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(r=>{let i=this.controls[r];i&&t(i,r)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[r,i]of Object.entries(this.controls))if(this.contains(r)&&t(i))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(r,i,n)=>((i.enabled||this.disabled)&&(r[n]=i.value),r))}_reduceChildren(t,r){let i=t;return this._forEachChild((n,o)=>{i=r(i,n,o)}),i}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var h4=class extends Cm{};var bv=new Se("CallSetDisabledState",{providedIn:"root",factory:()=>qT}),qT="always";function Jdt(e,t){return[...t.path,e]}function H1(e,t,r=qT){b4(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||r==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),eht(e,t),rht(e,t),iht(e,t),tht(e,t)}function VT(e,t,r=!0){let i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),UT(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function zT(e,t){e.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(t)})}function tht(e,t){if(t.valueAccessor.setDisabledState){let r=i=>{t.valueAccessor.setDisabledState(i)};e.registerOnDisabledChange(r),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(r)})}}function b4(e,t){let r=qV(e);t.validator!==null?e.setValidators(IV(r,t.validator)):typeof r=="function"&&e.setValidators([r]);let i=GV(e);t.asyncValidator!==null?e.setAsyncValidators(IV(i,t.asyncValidator)):typeof i=="function"&&e.setAsyncValidators([i]);let n=()=>e.updateValueAndValidity();zT(t._rawValidators,n),zT(t._rawAsyncValidators,n)}function UT(e,t){let r=!1;if(e!==null){if(t.validator!==null){let n=qV(e);if(Array.isArray(n)&&n.length>0){let o=n.filter(s=>s!==t.validator);o.length!==n.length&&(r=!0,e.setValidators(o))}}if(t.asyncValidator!==null){let n=GV(e);if(Array.isArray(n)&&n.length>0){let o=n.filter(s=>s!==t.asyncValidator);o.length!==n.length&&(r=!0,e.setAsyncValidators(o))}}}let i=()=>{};return zT(t._rawValidators,i),zT(t._rawAsyncValidators,i),r}function eht(e,t){t.valueAccessor.registerOnChange(r=>{e._pendingValue=r,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&ZV(e,t)})}function iht(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&ZV(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function ZV(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function rht(e,t){let r=(i,n)=>{t.valueAccessor.writeValue(i),n&&t.viewToModelUpdate(i)};e.registerOnChange(r),t._registerOnDestroy(()=>{e._unregisterOnChange(r)})}function QV(e,t){e==null,b4(e,t)}function nht(e,t){return UT(e,t)}function JV(e,t){if(!e.hasOwnProperty("model"))return!1;let r=e.model;return r.isFirstChange()?!0:!Object.is(t,r.currentValue)}function oht(e){return Object.getPrototypeOf(e.constructor)===Ldt}function tz(e,t){e._syncPendingControls(),t.forEach(r=>{let i=r.control;i.updateOn==="submit"&&i._pendingChange&&(r.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function ez(e,t){if(!t)return null;Array.isArray(t);let r,i,n;return t.forEach(o=>{o.constructor===gv?r=o:oht(o)?i=o:n=o}),n||i||r||null}function sht(e,t){let r=e.indexOf(t);r>-1&&e.splice(r,1)}var aht={provide:Hg,useExisting:jl(()=>v4)},N1=Promise.resolve(),v4=(()=>{let t=class t extends Hg{constructor(i,n,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new si,this.form=new Cm({},f4(i),m4(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(i){N1.then(()=>{let n=this._findContainer(i.path);i.control=n.registerControl(i.name,i.control),H1(i.control,i,this.callSetDisabledState),i.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(i)})}getControl(i){return this.form.get(i.path)}removeControl(i){N1.then(()=>{let n=this._findContainer(i.path);n&&n.removeControl(i.name),this._directives.delete(i)})}addFormGroup(i){N1.then(()=>{let n=this._findContainer(i.path),o=new Cm({});QV(o,i),n.registerControl(i.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(i){N1.then(()=>{let n=this._findContainer(i.path);n&&n.removeControl(i.name)})}getFormGroup(i){return this.form.get(i.path)}updateModel(i,n){N1.then(()=>{this.form.get(i.path).setValue(n)})}setValue(i){this.control.setValue(i)}onSubmit(i){return this.submitted=!0,tz(this.form,this._directives),this.ngSubmit.emit(i),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(i){return i.pop(),i.length?this.form.get(i):this.form}};t.\u0275fac=function(n){return new(n||t)(Dt(xm,10),Dt(WT,10),Dt(bv,8))},t.\u0275dir=ri({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,o){n&1&&fi("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[xr([aht]),$r]});let e=t;return e})();function OV(e,t){let r=e.indexOf(t);r>-1&&e.splice(r,1)}function PV(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var Ec=class extends pv{constructor(t=null,r,i){super(p4(r),g4(i,r)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),$T(r)&&(r.nonNullable||r.initialValueIsDefault)&&(PV(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,r={}){this.value=this._pendingValue=t,this._onChange.length&&r.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,r.emitViewToModelChange!==!1)),this.updateValueAndValidity(r)}patchValue(t,r={}){this.setValue(t,r)}reset(t=this.defaultValue,r={}){this._applyFormState(t),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){OV(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){OV(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){PV(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var lht=e=>e instanceof Ec;var cht={provide:Mh,useExisting:jl(()=>B1)},NV=Promise.resolve(),B1=(()=>{let t=class t extends Mh{constructor(i,n,o,s,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new Ec,this._registered=!1,this.name="",this.update=new si,this._parent=i,this._setValidators(n),this._setAsyncValidators(o),this.valueAccessor=ez(this,s)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){let n=i.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),JV(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){H1(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(i){NV.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){let n=i.isDisabled.currentValue,o=n!==0&&Sr(n);NV.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?Jdt(i,this._parent):[i]}};t.\u0275fac=function(n){return new(n||t)(Dt(Hg,9),Dt(xm,10),Dt(WT,10),Dt(Bg,10),Dt(cr,8),Dt(bv,8))},t.\u0275dir=ri({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[xr([cht]),$r,er]});let e=t;return e})();var iz=new Se(""),dht={provide:Mh,useExisting:jl(()=>y4)},y4=(()=>{let t=class t extends Mh{set isDisabled(i){}constructor(i,n,o,s,a){super(),this._ngModelWarningConfig=s,this.callSetDisabledState=a,this.update=new si,this._ngModelWarningSent=!1,this._setValidators(i),this._setAsyncValidators(n),this.valueAccessor=ez(this,o)}ngOnChanges(i){if(this._isControlChanged(i)){let n=i.form.previousValue;n&&VT(n,this,!1),H1(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}JV(i,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&VT(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_isControlChanged(i){return i.hasOwnProperty("form")}};t._ngModelWarningSentOnce=!1,t.\u0275fac=function(n){return new(n||t)(Dt(xm,10),Dt(WT,10),Dt(Bg,10),Dt(iz,8),Dt(bv,8))},t.\u0275dir=ri({type:t,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[xr([dht]),$r,er]});let e=t;return e})(),hht={provide:Hg,useExisting:jl(()=>_4)},_4=(()=>{let t=class t extends Hg{constructor(i,n,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new si,this._setValidators(i),this._setAsyncValidators(n)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(UT(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){let n=this.form.get(i.path);return H1(n,i,this.callSetDisabledState),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),n}getControl(i){return this.form.get(i.path)}removeControl(i){VT(i.control||null,i,!1),sht(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,n){this.form.get(i.path).setValue(n)}onSubmit(i){return this.submitted=!0,tz(this.form,this.directives),this.ngSubmit.emit(i),this.form._events.next(new c4(this.control)),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1,this.form._events.next(new d4(this.form))}_updateDomValue(){this.directives.forEach(i=>{let n=i.control,o=this.form.get(i.path);n!==o&&(VT(n||null,i),lht(o)&&(H1(o,i,this.callSetDisabledState),i.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){let n=this.form.get(i.path);QV(n,i),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){let n=this.form.get(i.path);n&&nht(n,i)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){b4(this.form,this),this._oldForm&&UT(this._oldForm,this)}_checkFormPresent(){this.form}};t.\u0275fac=function(n){return new(n||t)(Dt(xm,10),Dt(WT,10),Dt(bv,8))},t.\u0275dir=ri({type:t,selectors:[["","formGroup",""]],hostBindings:function(n,o){n&1&&fi("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[xr([hht]),$r,er]});let e=t;return e})();var rz=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ze({type:t}),t.\u0275inj=Ve({});let e=t;return e})(),u4=class extends pv{constructor(t,r,i){super(p4(r),g4(i,r)),this.controls=t,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,r={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}insert(t,r,i={}){this.controls.splice(t,0,r),this._registerControl(r),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,r={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:r.emitEvent})}setControl(t,r,i={}){let n=this._adjustIndex(t);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),r&&(this.controls.splice(n,0,r),this._registerControl(r)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,r={}){XV(this,!1,t),t.forEach((i,n)=>{KV(this,!1,n),this.at(n).setValue(i,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(t,r={}){t!=null&&(t.forEach((i,n)=>{this.at(n)&&this.at(n).patchValue(i,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(t=[],r={}){this._forEachChild((i,n)=>{i.reset(t[n],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r,this),this._updateTouched(r,this),this.updateValueAndValidity(r)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(r=>r._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((r,i)=>i._syncPendingControls()?!0:r,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((r,i)=>{t(r,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(r=>r.enabled&&t(r))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function LV(e){return!!e&&(e.asyncValidators!==void 0||e.validators!==void 0||e.updateOn!==void 0)}var nz=(()=>{let t=class t{constructor(){this.useNonNullable=!1}get nonNullable(){let i=new t;return i.useNonNullable=!0,i}group(i,n=null){let o=this._reduceControls(i),s={};return LV(n)?s=n:n!==null&&(s.validators=n.validator,s.asyncValidators=n.asyncValidator),new Cm(o,s)}record(i,n=null){let o=this._reduceControls(i);return new h4(o,n)}control(i,n,o){let s={};return this.useNonNullable?(LV(n)?s=n:(s.validators=n,s.asyncValidators=o),new Ec(i,Ue(jt({},s),{nonNullable:!0}))):new Ec(i,n,o)}array(i,n,o){let s=i.map(a=>this._createControl(a));return new u4(s,n,o)}_reduceControls(i){let n={};return Object.keys(i).forEach(o=>{n[o]=this._createControl(i[o])}),n}_createControl(i){if(i instanceof Ec)return i;if(i instanceof pv)return i;if(Array.isArray(i)){let n=i[0],o=i.length>1?i[1]:null,s=i.length>2?i[2]:null;return this.control(n,o,s)}else return this.control(i)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var GT=(()=>{let t=class t{static withConfig(i){return{ngModule:t,providers:[{provide:bv,useValue:i.callSetDisabledState??qT}]}}};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ze({type:t}),t.\u0275inj=Ve({imports:[rz]});let e=t;return e})(),oz=(()=>{let t=class t{static withConfig(i){return{ngModule:t,providers:[{provide:iz,useValue:i.warnOnNgModelWithFormControl??"always"},{provide:bv,useValue:i.callSetDisabledState??qT}]}}};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ze({type:t}),t.\u0275inj=Ve({imports:[rz]});let e=t;return e})();var uht=ot(ba(),1),sz=ot(ba(),1),jg=sz.default||uht,x4=new Se("MAT_MOMENT_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:fht});function fht(){return{useUtc:!1}}function mht(e,t){let r=Array(e);for(let i=0;i<e;i++)r[i]=t(i);return r}var pht=(()=>{let t=class t extends Os{constructor(i,n){super(),this._options=n,this.setLocale(i||jg.locale())}setLocale(i){super.setLocale(i);let n=jg.localeData(i);this._localeData={firstDayOfWeek:n.firstDayOfWeek(),longMonths:n.months(),shortMonths:n.monthsShort(),dates:mht(31,o=>this.createDate(2017,0,o+1).format("D")),longDaysOfWeek:n.weekdays(),shortDaysOfWeek:n.weekdaysShort(),narrowDaysOfWeek:n.weekdaysMin()}}getYear(i){return this.clone(i).year()}getMonth(i){return this.clone(i).month()}getDate(i){return this.clone(i).date()}getDayOfWeek(i){return this.clone(i).day()}getMonthNames(i){return i=="long"?this._localeData.longMonths:this._localeData.shortMonths}getDateNames(){return this._localeData.dates}getDayOfWeekNames(i){return i=="long"?this._localeData.longDaysOfWeek:i=="short"?this._localeData.shortDaysOfWeek:this._localeData.narrowDaysOfWeek}getYearName(i){return this.clone(i).format("YYYY")}getFirstDayOfWeek(){return this._localeData.firstDayOfWeek}getNumDaysInMonth(i){return this.clone(i).daysInMonth()}clone(i){return i.clone().locale(this.locale)}createDate(i,n,o){let s=this._createMoment({year:i,month:n,date:o}).locale(this.locale);return s.isValid(),s}today(){return this._createMoment().locale(this.locale)}parse(i,n){return i&&typeof i=="string"?this._createMoment(i,n,this.locale):i?this._createMoment(i).locale(this.locale):null}format(i,n){return i=this.clone(i),this.isValid(i),i.format(n)}addCalendarYears(i,n){return this.clone(i).add({years:n})}addCalendarMonths(i,n){return this.clone(i).add({months:n})}addCalendarDays(i,n){return this.clone(i).add({days:n})}toIso8601(i){return this.clone(i).format()}deserialize(i){let n;if(i instanceof Date)n=this._createMoment(i).locale(this.locale);else if(this.isDateInstance(i))return this.clone(i);if(typeof i=="string"){if(!i)return null;n=this._createMoment(i,jg.ISO_8601).locale(this.locale)}return n&&this.isValid(n)?this._createMoment(n).locale(this.locale):super.deserialize(i)}isDateInstance(i){return jg.isMoment(i)}isValid(i){return this.clone(i).isValid()}invalid(){return jg.invalid()}_createMoment(i,n,o){let{strict:s,useUtc:a}=this._options||{};return a?jg.utc(i,n,o,s):jg(i,n,o,s)}};t.\u0275fac=function(n){return new(n||t)(Jt(e4,8),Jt(x4,8))},t.\u0275prov=we({token:t,factory:t.\u0275fac});let e=t;return e})(),ght={parse:{dateInput:"l"},display:{dateInput:"l",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}};function az(e=ght,t){let r=[{provide:Os,useClass:pht,deps:[e4,x4]},{provide:Gu,useValue:e}];return t&&r.push({provide:x4,useValue:t}),r}var lz=dl({passive:!0}),cz=(()=>{let t=class t{constructor(i,n){this._platform=i,this._ngZone=n,this._monitoredElements=new Map}monitor(i){if(!this._platform.isBrowser)return ma;let n=Cc(i),o=this._monitoredElements.get(n);if(o)return o.subject;let s=new Qe,a="cdk-text-field-autofilled",l=c=>{c.animationName==="cdk-text-field-autofill-start"&&!n.classList.contains(a)?(n.classList.add(a),this._ngZone.run(()=>s.next({target:c.target,isAutofilled:!0}))):c.animationName==="cdk-text-field-autofill-end"&&n.classList.contains(a)&&(n.classList.remove(a),this._ngZone.run(()=>s.next({target:c.target,isAutofilled:!1})))};return this._ngZone.runOutsideAngular(()=>{n.addEventListener("animationstart",l,lz),n.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(n,{subject:s,unlisten:()=>{n.removeEventListener("animationstart",l,lz)}}),s}stopMonitoring(i){let n=Cc(i),o=this._monitoredElements.get(n);o&&(o.unlisten(),o.subject.complete(),n.classList.remove("cdk-text-field-autofill-monitored"),n.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(n))}ngOnDestroy(){this._monitoredElements.forEach((i,n)=>this.stopMonitoring(n))}};t.\u0275fac=function(n){return new(n||t)(Jt(Hr),Jt(ci))},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var dz=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ze({type:t}),t.\u0275inj=Ve({});let e=t;return e})();var vht=["notch"],yht=["matFormFieldNotchedOutline",""],_ht=["*"],wht=["textField"],Cht=["iconPrefixContainer"],xht=["textPrefixContainer"],Sht=["iconSuffixContainer"],Eht=["textSuffixContainer"],Rht=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Tht=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function Mht(e,t){e&1&&Be(0,"span",21)}function Aht(e,t){if(e&1&&(Lt(0,"label",20),ir(1,1),Ki(2,Mht,1,0,"span",21),Pt()),e&2){let r=Fi(2);ke("floating",r._shouldLabelFloat())("monitorResize",r._hasOutline())("id",r._labelId),Yi("for",r._control.disableAutomaticLabeling?null:r._control.id),te(2),In(!r.hideRequiredMarker&&r._control.required?2:-1)}}function Iht(e,t){if(e&1&&Ki(0,Aht,3,5,"label",20),e&2){let r=Fi();In(r._hasFloatingLabel()?0:-1)}}function kht(e,t){e&1&&Be(0,"div",7)}function Dht(e,t){}function Oht(e,t){if(e&1&&Ki(0,Dht,0,0,"ng-template",13),e&2){Fi(2);let r=Va(1);ke("ngTemplateOutlet",r)}}function Pht(e,t){if(e&1&&(Lt(0,"div",9),Ki(1,Oht,1,1,null,13),Pt()),e&2){let r=Fi();ke("matFormFieldNotchedOutlineOpen",r._shouldLabelFloat()),te(),In(r._forceDisplayInfixLabel()?-1:1)}}function Nht(e,t){e&1&&(Lt(0,"div",10,2),ir(2,2),Pt())}function Lht(e,t){e&1&&(Lt(0,"div",11,3),ir(2,3),Pt())}function Fht(e,t){}function Hht(e,t){if(e&1&&Ki(0,Fht,0,0,"ng-template",13),e&2){Fi();let r=Va(1);ke("ngTemplateOutlet",r)}}function Bht(e,t){e&1&&(Lt(0,"div",14,4),ir(2,4),Pt())}function jht(e,t){e&1&&(Lt(0,"div",15,5),ir(2,5),Pt())}function Vht(e,t){e&1&&Be(0,"div",16)}function zht(e,t){if(e&1&&(Lt(0,"div",18),ir(1,6),Pt()),e&2){let r=Fi();ke("@transitionMessages",r._subscriptAnimationState)}}function Uht(e,t){if(e&1&&(Lt(0,"mat-hint",22),ne(1),Pt()),e&2){let r=Fi(2);ke("id",r._hintLabelId),te(),ho(r.hintLabel)}}function Wht(e,t){if(e&1&&(Lt(0,"div",19),Ki(1,Uht,2,2,"mat-hint",22),ir(2,7),Be(3,"div",23),ir(4,8),Pt()),e&2){let r=Fi();ke("@transitionMessages",r._subscriptAnimationState),te(),In(r.hintLabel?1:-1)}}var XT=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=ri({type:t,selectors:[["mat-label"]],standalone:!0});let e=t;return e})();var Yht=new Se("MatError");var $ht=0,hz=(()=>{let t=class t{constructor(){this.align="start",this.id=`mat-mdc-hint-${$ht++}`}};t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=ri({type:t,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(n,o){n&2&&(ja("id",o.id),Yi("align",null),Vi("mat-mdc-form-field-hint-end",o.align==="end"))},inputs:{align:"align",id:"id"},standalone:!0});let e=t;return e})(),qht=new Se("MatPrefix");var yz=new Se("MatSuffix"),_z=(()=>{let t=class t{constructor(){this._isText=!1}set _isTextSelector(i){this._isText=!0}};t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=ri({type:t,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:[0,"matTextSuffix","_isTextSelector"]},standalone:!0,features:[xr([{provide:yz,useExisting:t}])]});let e=t;return e})(),wz=new Se("FloatingLabelParent"),uz=(()=>{let t=class t{get floating(){return this._floating}set floating(i){this._floating=i,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(i){this._monitorResize=i,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(i){this._elementRef=i,this._floating=!1,this._monitorResize=!1,this._resizeObserver=pe(RV),this._ngZone=pe(ci),this._parent=pe(wz),this._resizeSubscription=new Ro}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return Ght(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}};t.\u0275fac=function(n){return new(n||t)(Dt(di))},t.\u0275dir=ri({type:t,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(n,o){n&2&&Vi("mdc-floating-label--float-above",o.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0});let e=t;return e})();function Ght(e){let t=e;if(t.offsetParent!==null)return t.scrollWidth;let r=t.cloneNode(!0);r.style.setProperty("position","absolute"),r.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(r);let i=r.scrollWidth;return r.remove(),i}var fz="mdc-line-ripple--active",KT="mdc-line-ripple--deactivating",mz=(()=>{let t=class t{constructor(i,n){this._elementRef=i,this._handleTransitionEnd=o=>{let s=this._elementRef.nativeElement.classList,a=s.contains(KT);o.propertyName==="opacity"&&a&&s.remove(fz,KT)},n.runOutsideAngular(()=>{i.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){let i=this._elementRef.nativeElement.classList;i.remove(KT),i.add(fz)}deactivate(){this._elementRef.nativeElement.classList.add(KT)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}};t.\u0275fac=function(n){return new(n||t)(Dt(di),Dt(ci))},t.\u0275dir=ri({type:t,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0});let e=t;return e})(),pz=(()=>{let t=class t{constructor(i,n){this._elementRef=i,this._ngZone=n,this.open=!1}ngAfterViewInit(){let i=this._elementRef.nativeElement.querySelector(".mdc-floating-label");i?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(i.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>i.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(i){!this.open||!i?this._notch.nativeElement.style.width="":this._notch.nativeElement.style.width=`calc(${i}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}};t.\u0275fac=function(n){return new(n||t)(Dt(di),Dt(ci))},t.\u0275cmp=qe({type:t,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(n,o){if(n&1&&or(vht,5),n&2){let s;Hi(s=Bi())&&(o._notch=s.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(n,o){n&2&&Vi("mdc-notched-outline--notched",o.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[ai],attrs:yht,ngContentSelectors:_ht,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(n,o){n&1&&(pn(),Be(0,"div",1),Lt(1,"div",2,0),ir(3),Pt(),Be(4,"div",3))},encapsulation:2,changeDetection:0});let e=t;return e})(),Kht={transitionMessages:cm("transitionMessages",[dm("enter",ea({opacity:1,transform:"translateY(0%)"})),bd("void => enter",[ea({opacity:0,transform:"translateY(-5px)"}),gd("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},j1=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=ri({type:t});let e=t;return e})();var yv=new Se("MatFormField"),Xht=new Se("MAT_FORM_FIELD_DEFAULT_OPTIONS"),gz=0,bz="fill",Zht="auto",vz="fixed",Qht="translateY(-50%)",Cz=(()=>{let t=class t{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(i){this._hideRequiredMarker=Th(i)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||Zht}set floatLabel(i){i!==this._floatLabel&&(this._floatLabel=i,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(i){let n=this._appearance,o=i||this._defaults?.appearance||bz;this._appearance=o,this._appearance==="outline"&&this._appearance!==n&&(this._needsOutlineLabelOffsetUpdate=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||vz}set subscriptSizing(i){this._subscriptSizing=i||this._defaults?.subscriptSizing||vz}get hintLabel(){return this._hintLabel}set hintLabel(i){this._hintLabel=i,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(i){this._explicitFormFieldControl=i}constructor(i,n,o,s,a,l,c,d){this._elementRef=i,this._changeDetectorRef=n,this._dir=s,this._platform=a,this._defaults=l,this._animationMode=c,this._labelChild=rB(XT),this._hideRequiredMarker=!1,this.color="primary",this._appearance=bz,this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId=`mat-mdc-form-field-label-${gz++}`,this._hintLabelId=`mat-mdc-hint-${gz++}`,this._subscriptAnimationState="",this._destroyed=new Qe,this._isFocused=null,this._needsOutlineLabelOffsetUpdate=!1,this._previousControl=null,this._injector=pe(mn),this.getLabelId=MO(()=>this._hasFloatingLabel()?this._labelId:null),this._hasFloatingLabel=MO(()=>!!this._labelChild()),l&&(l.appearance&&(this.appearance=l.appearance),this._hideRequiredMarker=!!l?.hideRequiredMarker,l.color&&(this.color=l.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._previousControl=this._control)}ngOnDestroy(){this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(i){let n=this._control,o="mat-mdc-form-field-type-";i&&this._elementRef.nativeElement.classList.remove(o+i.controlType),n.controlType&&this._elementRef.nativeElement.classList.add(o+n.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=n.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._valueChanges?.unsubscribe(),n.ngControl&&n.ngControl.valueChanges&&(this._valueChanges=n.ngControl.valueChanges.pipe($n(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(i=>!i._isText),this._hasTextPrefix=!!this._prefixChildren.find(i=>i._isText),this._hasIconSuffix=!!this._suffixChildren.find(i=>!i._isText),this._hasTextSuffix=!!this._suffixChildren.find(i=>i._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),Bl(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),jR(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe($n(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(i){let n=this._control?this._control.ngControl:null;return n&&n[i]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let i=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&i.push(...this._control.userAriaDescribedBy.split(" ")),this._getDisplayedMessages()==="hint"){let n=this._hintChildren?this._hintChildren.find(s=>s.align==="start"):null,o=this._hintChildren?this._hintChildren.find(s=>s.align==="end"):null;n?i.push(n.id):this._hintLabel&&i.push(this._hintLabelId),o&&i.push(o.id)}else this._errorChildren&&i.push(...this._errorChildren.map(n=>n.id));this._control.setDescribedByIds(i)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;let i=this._floatingLabel.element;if(!(this._iconPrefixContainer||this._textPrefixContainer)){i.style.transform="";return}if(!this._isAttachedToDom()){this._needsOutlineLabelOffsetUpdate=!0;return}let n=this._iconPrefixContainer?.nativeElement,o=this._textPrefixContainer?.nativeElement,s=this._iconSuffixContainer?.nativeElement,a=this._textSuffixContainer?.nativeElement,l=n?.getBoundingClientRect().width??0,c=o?.getBoundingClientRect().width??0,d=s?.getBoundingClientRect().width??0,h=a?.getBoundingClientRect().width??0,u=this._dir.value==="rtl"?"-1":"1",f=`${l+c}px`,g=`calc(${u} * (${f} + var(--mat-mdc-form-field-label-offset-x, 0px)))`;i.style.transform=`var(
        --mat-mdc-form-field-label-transform,
        ${Qht} translateX(${g})
    )`;let p=l+c+d+h;this._elementRef.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${p}px)`)}_isAttachedToDom(){let i=this._elementRef.nativeElement;if(i.getRootNode){let n=i.getRootNode();return n&&n!==i}return document.documentElement.contains(i)}};t.\u0275fac=function(n){return new(n||t)(Dt(di),Dt(cr),Dt(ci),Dt(Ds),Dt(Hr),Dt(Xht,8),Dt(Fo,8),Dt(Ai))},t.\u0275cmp=qe({type:t,selectors:[["mat-form-field"]],contentQueries:function(n,o,s){if(n&1&&(lB(s,o._labelChild,XT,5),Is(s,j1,5),Is(s,qht,5),Is(s,yz,5),Is(s,Yht,5),Is(s,hz,5)),n&2){cB();let a;Hi(a=Bi())&&(o._formFieldControl=a.first),Hi(a=Bi())&&(o._prefixChildren=a),Hi(a=Bi())&&(o._suffixChildren=a),Hi(a=Bi())&&(o._errorChildren=a),Hi(a=Bi())&&(o._hintChildren=a)}},viewQuery:function(n,o){if(n&1&&(or(wht,5),or(Cht,5),or(xht,5),or(Sht,5),or(Eht,5),or(uz,5),or(pz,5),or(mz,5)),n&2){let s;Hi(s=Bi())&&(o._textField=s.first),Hi(s=Bi())&&(o._iconPrefixContainer=s.first),Hi(s=Bi())&&(o._textPrefixContainer=s.first),Hi(s=Bi())&&(o._iconSuffixContainer=s.first),Hi(s=Bi())&&(o._textSuffixContainer=s.first),Hi(s=Bi())&&(o._floatingLabel=s.first),Hi(s=Bi())&&(o._notchedOutline=s.first),Hi(s=Bi())&&(o._lineRipple=s.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(n,o){n&2&&Vi("mat-mdc-form-field-label-always-float",o._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",o._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",o._hasIconSuffix)("mat-form-field-invalid",o._control.errorState)("mat-form-field-disabled",o._control.disabled)("mat-form-field-autofilled",o._control.autofilled)("mat-form-field-no-animations",o._animationMode==="NoopAnimations")("mat-form-field-appearance-fill",o.appearance=="fill")("mat-form-field-appearance-outline",o.appearance=="outline")("mat-form-field-hide-placeholder",o._hasFloatingLabel()&&!o._shouldLabelFloat())("mat-focused",o._control.focused)("mat-primary",o.color!=="accent"&&o.color!=="warn")("mat-accent",o.color==="accent")("mat-warn",o.color==="warn")("ng-untouched",o._shouldForward("untouched"))("ng-touched",o._shouldForward("touched"))("ng-pristine",o._shouldForward("pristine"))("ng-dirty",o._shouldForward("dirty"))("ng-valid",o._shouldForward("valid"))("ng-invalid",o._shouldForward("invalid"))("ng-pending",o._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[xr([{provide:yv,useExisting:t},{provide:wz,useExisting:t}]),ai],ngContentSelectors:Tht,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(n,o){if(n&1){let s=Ho();pn(Rht),Ki(0,Iht,1,1,"ng-template",null,0,VR),Lt(2,"div",6,1),fi("click",function(l){return fr(s),mr(o._control.onContainerClick(l))}),Ki(4,kht,1,0,"div",7),Lt(5,"div",8),Ki(6,Pht,2,2,"div",9)(7,Nht,3,0,"div",10)(8,Lht,3,0,"div",11),Lt(9,"div",12),Ki(10,Hht,1,1,null,13),ir(11),Pt(),Ki(12,Bht,3,0,"div",14)(13,jht,3,0,"div",15),Pt(),Ki(14,Vht,1,0,"div",16),Pt(),Lt(15,"div",17),Ki(16,zht,2,1,"div",18)(17,Wht,5,2,"div",19),Pt()}if(n&2){let s;te(2),Vi("mdc-text-field--filled",!o._hasOutline())("mdc-text-field--outlined",o._hasOutline())("mdc-text-field--no-label",!o._hasFloatingLabel())("mdc-text-field--disabled",o._control.disabled)("mdc-text-field--invalid",o._control.errorState),te(2),In(!o._hasOutline()&&!o._control.disabled?4:-1),te(2),In(o._hasOutline()?6:-1),te(),In(o._hasIconPrefix?7:-1),te(),In(o._hasTextPrefix?8:-1),te(2),In(!o._hasOutline()||o._forceDisplayInfixLabel()?10:-1),te(2),In(o._hasTextSuffix?12:-1),te(),In(o._hasIconSuffix?13:-1),te(),In(o._hasOutline()?-1:14),te(),Vi("mat-mdc-form-field-subscript-dynamic-size",o.subscriptSizing==="dynamic"),te(),In((s=o._getDisplayedMessages())==="error"?16:s==="hint"?17:-1)}},dependencies:[uz,pz,GR,mz,hz],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-filled-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-outlined-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--disabled .cdk-high-contrast-active .mdc-text-field__input{background-color:Window}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top));border-top-right-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color, var(--mat-app-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.cdk-high-contrast-active .mdc-text-field--disabled .mdc-floating-label{z-index:1}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-filled-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-filled-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-filled-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color, var(--mat-app-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-outlined-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-outlined-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-outlined-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color, var(--mat-app-outline));border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color, var(--mat-app-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color, var(--mat-app-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),100% - max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))*2)}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none;--mat-form-field-notch-max-width: 100%}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color, var(--mat-app-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color, var(--mat-app-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color, var(--mat-app-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color, var(--mat-app-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-app-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-app-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-app-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-app-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-app-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-app-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-app-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-app-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-app-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-app-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-app-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-app-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-app-body-large-weight))}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-app-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-app-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-app-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field-infix:has(textarea[cols]){width:auto}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[Kht.transitionMessages]},changeDetection:0});let e=t;return e})(),Vg=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ze({type:t}),t.\u0275inj=Ve({imports:[Si,qn,ov,Si]});let e=t;return e})();var S4=new Se("MAT_INPUT_VALUE_ACCESSOR"),tut=["button","checkbox","file","hidden","image","radio","range","reset","submit"],eut=0,xz=(()=>{let t=class t{get disabled(){return this._disabled}set disabled(i){this._disabled=Th(i),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(i){this._id=i||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(mv.required)??!1}set required(i){this._required=Th(i)}get type(){return this._type}set type(i){this._type=i||"text",this._validateType(),!this._isTextarea&&V3().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._ensureWheelDefaultBehavior()}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(i){this._errorStateTracker.matcher=i}get value(){return this._inputValueAccessor.value}set value(i){i!==this.value&&(this._inputValueAccessor.value=i,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(i){this._readonly=Th(i)}get errorState(){return this._errorStateTracker.errorState}set errorState(i){this._errorStateTracker.errorState=i}constructor(i,n,o,s,a,l,c,d,h,u){this._elementRef=i,this._platform=n,this.ngControl=o,this._autofillMonitor=d,this._ngZone=h,this._formField=u,this._uid=`mat-input-${eut++}`,this._webkitBlinkWheelListenerAttached=!1,this.focused=!1,this.stateChanges=new Qe,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(g=>V3().has(g)),this._iOSKeyupListener=g=>{let p=g.target;!p.value&&p.selectionStart===0&&p.selectionEnd===0&&(p.setSelectionRange(1,1),p.setSelectionRange(0,0))},this._webkitBlinkWheelListener=()=>{};let f=this._elementRef.nativeElement,m=f.nodeName.toLowerCase();this._inputValueAccessor=c||f,this._previousNativeValue=this.value,this.id=this.id,n.IOS&&h.runOutsideAngular(()=>{i.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new av(l,o,a,s,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=m==="select",this._isTextarea=m==="textarea",this._isInFormField=!!u,this._isNativeSelect&&(this.controlType=f.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(i=>{this.autofilled=i.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener),this._webkitBlinkWheelListenerAttached&&this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(i){this._elementRef.nativeElement.focus(i)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(i){i!==this.focused&&(this.focused=i,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){let i=this._elementRef.nativeElement.value;this._previousNativeValue!==i&&(this._previousNativeValue=i,this.stateChanges.next())}_dirtyCheckPlaceholder(){let i=this._getPlaceholder();if(i!==this._previousPlaceholder){let n=this._elementRef.nativeElement;this._previousPlaceholder=i,i?n.setAttribute("placeholder",i):n.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){tut.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let i=this._elementRef.nativeElement.validity;return i&&i.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let i=this._elementRef.nativeElement,n=i.options[0];return this.focused||i.multiple||!this.empty||!!(i.selectedIndex>-1&&n&&n.label)}else return this.focused||!this.empty}setDescribedByIds(i){i.length?this._elementRef.nativeElement.setAttribute("aria-describedby",i.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let i=this._elementRef.nativeElement;return this._isNativeSelect&&(i.multiple||i.size>1)}_ensureWheelDefaultBehavior(){!this._webkitBlinkWheelListenerAttached&&this._type==="number"&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("wheel",this._webkitBlinkWheelListener)}),this._webkitBlinkWheelListenerAttached=!0),this._webkitBlinkWheelListenerAttached&&this._type!=="number"&&(this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener),this._webkitBlinkWheelListenerAttached=!0)}};t.\u0275fac=function(n){return new(n||t)(Dt(di),Dt(Hr),Dt(Mh,10),Dt(v4,8),Dt(_4,8),Dt(i4),Dt(S4,10),Dt(cz),Dt(ci),Dt(yv,8))},t.\u0275dir=ri({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(n,o){n&1&&fi("focus",function(){return o._focusChanged(!0)})("blur",function(){return o._focusChanged(!1)})("input",function(){return o._onInput()}),n&2&&(ja("id",o.id)("disabled",o.disabled)("required",o.required),Yi("name",o.name||null)("readonly",o.readonly&&!o._isNativeSelect||null)("aria-invalid",o.empty&&o.required?null:o.errorState)("aria-required",o.required)("id",o.id),Vi("mat-input-server",o._isServer)("mat-mdc-form-field-textarea-control",o._isInFormField&&o._isTextarea)("mat-mdc-form-field-input-control",o._isInFormField)("mdc-text-field__input",o._isInFormField)("mat-mdc-native-select-inline",o._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[xr([{provide:j1,useExisting:t}]),er]});let e=t;return e})(),Sz=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ze({type:t}),t.\u0275inj=Ve({imports:[Si,Vg,Vg,dz,Si]});let e=t;return e})();var Ez=qj(),E4=class{constructor(t,r){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=r}attach(){}enable(){if(this._canBeEnabled()){let t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Ko(-this._previousScrollPosition.left),t.style.top=Ko(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let t=this._document.documentElement,r=this._document.body,i=t.style,n=r.style,o=i.scrollBehavior||"",s=n.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),Ez&&(i.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Ez&&(i.scrollBehavior=o,n.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let r=this._document.body,i=this._viewportRuler.getViewportSize();return r.scrollHeight>i.height||r.scrollWidth>i.width}};var R4=class{constructor(t,r,i,n){this._scrollDispatcher=t,this._ngZone=r,this._viewportRuler=i,this._config=n,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(this._scrollSubscription)return;let t=this._scrollDispatcher.scrolled(0).pipe(co(r=>!r||!this._overlayRef.overlayElement.contains(r.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{let r=this._viewportRuler.getViewportScrollPosition().top;Math.abs(r-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},ZT=class{enable(){}disable(){}attach(){}};function T4(e,t){return t.some(r=>{let i=e.bottom<r.top,n=e.top>r.bottom,o=e.right<r.left,s=e.left>r.right;return i||n||o||s})}function Rz(e,t){return t.some(r=>{let i=e.top<r.top,n=e.bottom>r.bottom,o=e.left<r.left,s=e.right>r.right;return i||n||o||s})}var M4=class{constructor(t,r,i,n){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this._config=n,this._scrollSubscription=null}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(!this._scrollSubscription){let t=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(t).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let r=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:n}=this._viewportRuler.getViewportSize();T4(r,[{width:i,height:n,bottom:n,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},rut=(()=>{let t=class t{constructor(i,n,o,s){this._scrollDispatcher=i,this._viewportRuler=n,this._ngZone=o,this.noop=()=>new ZT,this.close=a=>new R4(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new E4(this._viewportRuler,this._document),this.reposition=a=>new M4(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=s}};t.\u0275fac=function(n){return new(n||t)(Jt(k1),Jt(LT),Jt(ci),Jt(Ai))},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Ku=class{constructor(t){if(this.scrollStrategy=new ZT,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){let r=Object.keys(t);for(let i of r)t[i]!==void 0&&(this[i]=t[i])}}};var A4=class{constructor(t,r){this.connectionPair=t,this.scrollableViewProperties=r}};var Dz=(()=>{let t=class t{constructor(i){this._attachedOverlays=[],this._document=i}ngOnDestroy(){this.detach()}add(i){this.remove(i),this._attachedOverlays.push(i)}remove(i){let n=this._attachedOverlays.indexOf(i);n>-1&&this._attachedOverlays.splice(n,1),this._attachedOverlays.length===0&&this.detach()}};t.\u0275fac=function(n){return new(n||t)(Jt(Ai))},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),nut=(()=>{let t=class t extends Dz{constructor(i,n){super(i),this._ngZone=n,this._keydownListener=o=>{let s=this._attachedOverlays;for(let a=s.length-1;a>-1;a--)if(s[a]._keydownEvents.observers.length>0){let l=s[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>l.next(o)):l.next(o);break}}}add(i){super.add(i),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}};t.\u0275fac=function(n){return new(n||t)(Jt(Ai),Jt(ci,8))},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),out=(()=>{let t=class t extends Dz{constructor(i,n,o){super(i),this._platform=n,this._ngZone=o,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=wc(s)},this._clickListener=s=>{let a=wc(s),l=s.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;let c=this._attachedOverlays.slice();for(let d=c.length-1;d>-1;d--){let h=c[d];if(h._outsidePointerEvents.observers.length<1||!h.hasAttached())continue;if(Tz(h.overlayElement,a)||Tz(h.overlayElement,l))break;let u=h._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>u.next(s)):u.next(s)}}}add(i){if(super.add(i),!this._isAttached){let n=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(n)):this._addEventListeners(n),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=n.style.cursor,n.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let i=this._document.body;i.removeEventListener("pointerdown",this._pointerDownListener,!0),i.removeEventListener("click",this._clickListener,!0),i.removeEventListener("auxclick",this._clickListener,!0),i.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(i.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(i){i.addEventListener("pointerdown",this._pointerDownListener,!0),i.addEventListener("click",this._clickListener,!0),i.addEventListener("auxclick",this._clickListener,!0),i.addEventListener("contextmenu",this._clickListener,!0)}};t.\u0275fac=function(n){return new(n||t)(Jt(Ai),Jt(Hr),Jt(ci,8))},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Tz(e,t){let r=typeof ShadowRoot<"u"&&ShadowRoot,i=t;for(;i;){if(i===e)return!0;i=r&&i instanceof ShadowRoot?i.host:i.parentNode}return!1}var _v=(()=>{let t=class t{constructor(i,n){this._platform=n,this._document=i}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let i="cdk-overlay-container";if(this._platform.isBrowser||x1()){let o=this._document.querySelectorAll(`.${i}[platform="server"], .${i}[platform="test"]`);for(let s=0;s<o.length;s++)o[s].remove()}let n=this._document.createElement("div");n.classList.add(i),x1()?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}};t.\u0275fac=function(n){return new(n||t)(Jt(Ai),Jt(Hr))},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Xu=class{constructor(t,r,i,n,o,s,a,l,c,d=!1,h){this._portalOutlet=t,this._host=r,this._pane=i,this._config=n,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=d,this._injector=h,this._backdropElement=null,this._backdropClick=new Qe,this._attachments=new Qe,this._detachments=new Qe,this._locationChanges=Ro.EMPTY,this._backdropClickHandler=u=>this._backdropClick.next(u),this._backdropTransitionendHandler=u=>{this._disposeBackdrop(u.target)},this._keydownEvents=new Qe,this._outsidePointerEvents=new Qe,this._renders=new Qe,n.scrollStrategy&&(this._scrollStrategy=n.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=n.positionStrategy,this._afterRenderRef=fB(()=>jR(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let r=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=pa(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof r?.onDestroy=="function"&&r.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),r}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){let t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=jt(jt({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Ue(jt({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){let t=this._config.direction;return t?typeof t=="string"?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let t=this._pane.style;t.width=Ko(this._config.width),t.height=Ko(this._config.height),t.minWidth=Ko(this._config.minWidth),t.minHeight=Ko(this._config.minHeight),t.maxWidth=Ko(this._config.maxWidth),t.maxHeight=Ko(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){let t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t=this._backdropElement;if(t){if(this._animationsDisabled){this._disposeBackdrop(t);return}t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,r,i){let n=nv(r||[]).filter(o=>!!o);n.length&&(i?t.classList.add(...n):t.classList.remove(...n))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let t=this._renders.pipe($n(Bl(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){let t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},Mz="cdk-overlay-connected-position-bounding-box",sut=/([A-Za-z%]+)$/,V1=class{get positions(){return this._preferredPositions}constructor(t,r,i,n,o){this._viewportRuler=r,this._document=i,this._platform=n,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Qe,this._resizeSubscription=Ro.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._overlayRef&&this._overlayRef,this._validatePositions(),t.hostElement.classList.add(Mz),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._originRect,r=this._overlayRect,i=this._viewportRect,n=this._containerRect,o=[],s;for(let a of this._preferredPositions){let l=this._getOriginPoint(t,n,a),c=this._getOverlayPoint(l,r,a),d=this._getOverlayFit(c,r,i,a);if(d.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,l);return}if(this._canFitWithFlexibleDimensions(d,c,i)){o.push({position:a,origin:l,overlayRect:r,boundingBoxRect:this._calculateBoundingBoxRect(l,a)});continue}(!s||s.overlayFit.visibleArea<d.visibleArea)&&(s={overlayFit:d,overlayPoint:c,originPoint:l,position:a,overlayRect:r})}if(o.length){let a=null,l=-1;for(let c of o){let d=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);d>l&&(l=d,a=c)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&zg(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Mz),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let r=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,r)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,t.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,r,i){let n;if(i.originX=="center")n=t.left+t.width/2;else{let s=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;n=i.originX=="start"?s:a}r.left<0&&(n-=r.left);let o;return i.originY=="center"?o=t.top+t.height/2:o=i.originY=="top"?t.top:t.bottom,r.top<0&&(o-=r.top),{x:n,y:o}}_getOverlayPoint(t,r,i){let n;i.overlayX=="center"?n=-r.width/2:i.overlayX==="start"?n=this._isRtl()?-r.width:0:n=this._isRtl()?0:-r.width;let o;return i.overlayY=="center"?o=-r.height/2:o=i.overlayY=="top"?0:-r.height,{x:t.x+n,y:t.y+o}}_getOverlayFit(t,r,i,n){let o=Iz(r),{x:s,y:a}=t,l=this._getOffset(n,"x"),c=this._getOffset(n,"y");l&&(s+=l),c&&(a+=c);let d=0-s,h=s+o.width-i.width,u=0-a,f=a+o.height-i.height,m=this._subtractOverflows(o.width,d,h),g=this._subtractOverflows(o.height,u,f),p=m*g;return{visibleArea:p,isCompletelyWithinViewport:o.width*o.height===p,fitsInViewportVertically:g===o.height,fitsInViewportHorizontally:m==o.width}}_canFitWithFlexibleDimensions(t,r,i){if(this._hasFlexibleDimensions){let n=i.bottom-r.y,o=i.right-r.x,s=Az(this._overlayRef.getConfig().minHeight),a=Az(this._overlayRef.getConfig().minWidth),l=t.fitsInViewportVertically||s!=null&&s<=n,c=t.fitsInViewportHorizontally||a!=null&&a<=o;return l&&c}return!1}_pushOverlayOnScreen(t,r,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};let n=Iz(r),o=this._viewportRect,s=Math.max(t.x+n.width-o.width,0),a=Math.max(t.y+n.height-o.height,0),l=Math.max(o.top-i.top-t.y,0),c=Math.max(o.left-i.left-t.x,0),d=0,h=0;return n.width<=o.width?d=c||-s:d=t.x<this._viewportMargin?o.left-i.left-t.x:0,n.height<=o.height?h=l||-a:h=t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:d,y:h},{x:t.x+d,y:t.y+h}}_applyPosition(t,r){if(this._setTransformOrigin(t),this._setOverlayElementStyles(r,t),this._setBoundingBoxStyles(r,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){let i=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!aut(this._lastScrollVisibility,i)){let n=new A4(t,i);this._positionChanges.next(n)}this._lastScrollVisibility=i}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;let r=this._boundingBox.querySelectorAll(this._transformOriginSelector),i,n=t.overlayY;t.overlayX==="center"?i="center":this._isRtl()?i=t.overlayX==="start"?"right":"left":i=t.overlayX==="start"?"left":"right";for(let o=0;o<r.length;o++)r[o].style.transformOrigin=`${i} ${n}`}_calculateBoundingBoxRect(t,r){let i=this._viewportRect,n=this._isRtl(),o,s,a;if(r.overlayY==="top")s=t.y,o=i.height-s+this._viewportMargin;else if(r.overlayY==="bottom")a=i.height-t.y+this._viewportMargin*2,o=i.height-a+this._viewportMargin;else{let f=Math.min(i.bottom-t.y+i.top,t.y),m=this._lastBoundingBoxSize.height;o=f*2,s=t.y-f,o>m&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-m/2)}let l=r.overlayX==="start"&&!n||r.overlayX==="end"&&n,c=r.overlayX==="end"&&!n||r.overlayX==="start"&&n,d,h,u;if(c)u=i.width-t.x+this._viewportMargin*2,d=t.x-this._viewportMargin;else if(l)h=t.x,d=i.right-t.x;else{let f=Math.min(i.right-t.x+i.left,t.x),m=this._lastBoundingBoxSize.width;d=f*2,h=t.x-f,d>m&&!this._isInitialRender&&!this._growAfterOpen&&(h=t.x-m/2)}return{top:s,left:h,bottom:a,right:u,width:d,height:o}}_setBoundingBoxStyles(t,r){let i=this._calculateBoundingBoxRect(t,r);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));let n={};if(this._hasExactPosition())n.top=n.left="0",n.bottom=n.right=n.maxHeight=n.maxWidth="",n.width=n.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;n.height=Ko(i.height),n.top=Ko(i.top),n.bottom=Ko(i.bottom),n.width=Ko(i.width),n.left=Ko(i.left),n.right=Ko(i.right),r.overlayX==="center"?n.alignItems="center":n.alignItems=r.overlayX==="end"?"flex-end":"flex-start",r.overlayY==="center"?n.justifyContent="center":n.justifyContent=r.overlayY==="bottom"?"flex-end":"flex-start",o&&(n.maxHeight=Ko(o)),s&&(n.maxWidth=Ko(s))}this._lastBoundingBoxSize=i,zg(this._boundingBox.style,n)}_resetBoundingBoxStyles(){zg(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){zg(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,r){let i={},n=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(n){let d=this._viewportRuler.getViewportScrollPosition();zg(i,this._getExactOverlayY(r,t,d)),zg(i,this._getExactOverlayX(r,t,d))}else i.position="static";let a="",l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),i.transform=a.trim(),s.maxHeight&&(n?i.maxHeight=Ko(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(n?i.maxWidth=Ko(s.maxWidth):o&&(i.maxWidth="")),zg(this._pane.style,i)}_getExactOverlayY(t,r,i){let n={top:"",bottom:""},o=this._getOverlayPoint(r,this._overlayRect,t);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),t.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;n.bottom=`${s-(o.y+this._overlayRect.height)}px`}else n.top=Ko(o.y);return n}_getExactOverlayX(t,r,i){let n={left:"",right:""},o=this._getOverlayPoint(r,this._overlayRect,t);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i));let s;if(this._isRtl()?s=t.overlayX==="end"?"left":"right":s=t.overlayX==="end"?"right":"left",s==="right"){let a=this._document.documentElement.clientWidth;n.right=`${a-(o.x+this._overlayRect.width)}px`}else n.left=Ko(o.x);return n}_getScrollVisibility(){let t=this._getOriginRect(),r=this._pane.getBoundingClientRect(),i=this._scrollables.map(n=>n.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Rz(t,i),isOriginOutsideView:T4(t,i),isOverlayClipped:Rz(r,i),isOverlayOutsideView:T4(r,i)}}_subtractOverflows(t,...r){return r.reduce((i,n)=>i-Math.max(n,0),t)}_getNarrowedViewportRect(){let t=this._document.documentElement.clientWidth,r=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+r-this._viewportMargin,width:t-2*this._viewportMargin,height:r-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,r){return r==="x"?t.offsetX==null?this._offsetX:t.offsetX:t.offsetY==null?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&nv(t).forEach(r=>{r!==""&&this._appliedPanelClasses.indexOf(r)===-1&&(this._appliedPanelClasses.push(r),this._pane.classList.add(r))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){let t=this._origin;if(t instanceof di)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();let r=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+r,height:i,width:r}}};function zg(e,t){for(let r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}function Az(e){if(typeof e!="number"&&e!=null){let[t,r]=e.split(sut);return!r||r==="px"?parseFloat(t):null}return e||null}function Iz(e){return{top:Math.floor(e.top),right:Math.floor(e.right),bottom:Math.floor(e.bottom),left:Math.floor(e.left),width:Math.floor(e.width),height:Math.floor(e.height)}}function aut(e,t){return e===t?!0:e.isOriginClipped===t.isOriginClipped&&e.isOriginOutsideView===t.isOriginOutsideView&&e.isOverlayClipped===t.isOverlayClipped&&e.isOverlayOutsideView===t.isOverlayOutsideView}var kz="cdk-global-overlay-wrapper",I4=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){let r=t.getConfig();this._overlayRef=t,this._width&&!r.width&&t.updateSize({width:this._width}),this._height&&!r.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(kz),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let t=this._overlayRef.overlayElement.style,r=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:n,height:o,maxWidth:s,maxHeight:a}=i,l=(n==="100%"||n==="100vw")&&(!s||s==="100%"||s==="100vw"),c=(o==="100%"||o==="100vh")&&(!a||a==="100%"||a==="100vh"),d=this._xPosition,h=this._xOffset,u=this._overlayRef.getConfig().direction==="rtl",f="",m="",g="";l?g="flex-start":d==="center"?(g="center",u?m=h:f=h):u?d==="left"||d==="end"?(g="flex-end",f=h):(d==="right"||d==="start")&&(g="flex-start",m=h):d==="left"||d==="start"?(g="flex-start",f=h):(d==="right"||d==="end")&&(g="flex-end",m=h),t.position=this._cssPosition,t.marginLeft=l?"0":f,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=l?"0":m,r.justifyContent=g,r.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let t=this._overlayRef.overlayElement.style,r=this._overlayRef.hostElement,i=r.style;r.classList.remove(kz),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},lut=(()=>{let t=class t{constructor(i,n,o,s){this._viewportRuler=i,this._document=n,this._platform=o,this._overlayContainer=s}global(){return new I4}flexibleConnectedTo(i){return new V1(i,this._viewportRuler,this._document,this._platform,this._overlayContainer)}};t.\u0275fac=function(n){return new(n||t)(Jt(LT),Jt(Ai),Jt(Hr),Jt(_v))},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),cut=0,bn=(()=>{let t=class t{constructor(i,n,o,s,a,l,c,d,h,u,f,m){this.scrollStrategies=i,this._overlayContainer=n,this._componentFactoryResolver=o,this._positionBuilder=s,this._keyboardDispatcher=a,this._injector=l,this._ngZone=c,this._document=d,this._directionality=h,this._location=u,this._outsideClickDispatcher=f,this._animationsModuleType=m}create(i){let n=this._createHostElement(),o=this._createPaneElement(n),s=this._createPortalOutlet(o),a=new Ku(i);return a.direction=a.direction||this._directionality.value,new Xu(s,n,o,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(Sh))}position(){return this._positionBuilder}_createPaneElement(i){let n=this._document.createElement("div");return n.id=`cdk-overlay-${cut++}`,n.classList.add("cdk-overlay-pane"),i.appendChild(n),n}_createHostElement(){let i=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalOutlet(i){return this._appRef||(this._appRef=this._injector.get(Mg)),new NT(i,this._componentFactoryResolver,this._appRef,this._injector,this._document)}};t.\u0275fac=function(n){return new(n||t)(Jt(rut),Jt(_v),Jt(Hb),Jt(lut),Jt(nut),Jt(mn),Jt(ci),Jt(Ai),Jt(Ds),Jt(Vu),Jt(out),Jt(Fo,8))},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var dut=new Se("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let e=pe(bn);return()=>e.scrollStrategies.reposition()}});function hut(e){return()=>e.scrollStrategies.reposition()}var uut={provide:dut,deps:[bn],useFactory:hut},Rc=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ze({type:t}),t.\u0275inj=Ve({providers:[bn,uut],imports:[vm,hv,D1,D1]});let e=t;return e})();var vut=new Se("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let e=pe(bn);return()=>e.scrollStrategies.reposition()}});function yut(e){return()=>e.scrollStrategies.reposition()}var _ut={provide:vut,deps:[bn],useFactory:yut};var Oz=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ze({type:t}),t.\u0275inj=Ve({providers:[_ut],imports:[qn,Rc,cv,Si,Sc,Vg,cv,Si]});let e=t;return e})();var wut=new Se("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{let e=pe(bn);return()=>e.scrollStrategies.reposition()}});function Cut(e){return()=>e.scrollStrategies.reposition()}var xut={provide:wut,deps:[bn],useFactory:Cut};var Pz=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ze({type:t}),t.\u0275inj=Ve({providers:[xut],imports:[Rc,cv,Si,qn,Sc,cv,Si]});let e=t;return e})();function W1(e){return e+.5|0}var Sm=(e,t,r)=>Math.max(Math.min(e,r),t);function z1(e){return Sm(W1(e*2.55),0,255)}function Em(e){return Sm(W1(e*255),0,255)}function Zu(e){return Sm(W1(e/2.55)/100,0,1)}function Nz(e){return Sm(W1(e*100),0,100)}var Tc={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},D4=[..."0123456789ABCDEF"],Sut=e=>D4[e&15],Eut=e=>D4[(e&240)>>4]+D4[e&15],JT=e=>(e&240)>>4===(e&15),Rut=e=>JT(e.r)&&JT(e.g)&&JT(e.b)&&JT(e.a);function Tut(e){var t=e.length,r;return e[0]==="#"&&(t===4||t===5?r={r:255&Tc[e[1]]*17,g:255&Tc[e[2]]*17,b:255&Tc[e[3]]*17,a:t===5?Tc[e[4]]*17:255}:(t===7||t===9)&&(r={r:Tc[e[1]]<<4|Tc[e[2]],g:Tc[e[3]]<<4|Tc[e[4]],b:Tc[e[5]]<<4|Tc[e[6]],a:t===9?Tc[e[7]]<<4|Tc[e[8]]:255})),r}var Mut=(e,t)=>e<255?t(e):"";function Aut(e){var t=Rut(e)?Sut:Eut;return e?"#"+t(e.r)+t(e.g)+t(e.b)+Mut(e.a,t):void 0}var Iut=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Bz(e,t,r){let i=t*Math.min(r,1-r),n=(o,s=(o+e/30)%12)=>r-i*Math.max(Math.min(s-3,9-s,1),-1);return[n(0),n(8),n(4)]}function kut(e,t,r){let i=(n,o=(n+e/60)%6)=>r-r*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function Dut(e,t,r){let i=Bz(e,1,.5),n;for(t+r>1&&(n=1/(t+r),t*=n,r*=n),n=0;n<3;n++)i[n]*=1-t-r,i[n]+=t;return i}function Out(e,t,r,i,n){return e===n?(t-r)/i+(t<r?6:0):t===n?(r-e)/i+2:(e-t)/i+4}function O4(e){let r=e.r/255,i=e.g/255,n=e.b/255,o=Math.max(r,i,n),s=Math.min(r,i,n),a=(o+s)/2,l,c,d;return o!==s&&(d=o-s,c=a>.5?d/(2-o-s):d/(o+s),l=Out(r,i,n,d,o),l=l*60+.5),[l|0,c||0,a]}function P4(e,t,r,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,r,i)).map(Em)}function N4(e,t,r){return P4(Bz,e,t,r)}function Put(e,t,r){return P4(Dut,e,t,r)}function Nut(e,t,r){return P4(kut,e,t,r)}function jz(e){return(e%360+360)%360}function Lut(e){let t=Iut.exec(e),r=255,i;if(!t)return;t[5]!==i&&(r=t[6]?z1(+t[5]):Em(+t[5]));let n=jz(+t[2]),o=+t[3]/100,s=+t[4]/100;return t[1]==="hwb"?i=Put(n,o,s):t[1]==="hsv"?i=Nut(n,o,s):i=N4(n,o,s),{r:i[0],g:i[1],b:i[2],a:r}}function Fut(e,t){var r=O4(e);r[0]=jz(r[0]+t),r=N4(r),e.r=r[0],e.g=r[1],e.b=r[2]}function Hut(e){if(!e)return;let t=O4(e),r=t[0],i=Nz(t[1]),n=Nz(t[2]);return e.a<255?`hsla(${r}, ${i}%, ${n}%, ${Zu(e.a)})`:`hsl(${r}, ${i}%, ${n}%)`}var Lz={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Fz={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function But(){let e={},t=Object.keys(Fz),r=Object.keys(Lz),i,n,o,s,a;for(i=0;i<t.length;i++){for(s=a=t[i],n=0;n<r.length;n++)o=r[n],a=a.replace(o,Lz[o]);o=parseInt(Fz[s],16),e[a]=[o>>16&255,o>>8&255,o&255]}return e}var t5;function jut(e){t5||(t5=But(),t5.transparent=[0,0,0,0]);let t=t5[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}var Vut=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function zut(e){let t=Vut.exec(e),r=255,i,n,o;if(t){if(t[7]!==i){let s=+t[7];r=t[8]?z1(s):Sm(s*255,0,255)}return i=+t[1],n=+t[3],o=+t[5],i=255&(t[2]?z1(i):Sm(i,0,255)),n=255&(t[4]?z1(n):Sm(n,0,255)),o=255&(t[6]?z1(o):Sm(o,0,255)),{r:i,g:n,b:o,a:r}}}function Uut(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Zu(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}var k4=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,wv=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function Wut(e,t,r){let i=wv(Zu(e.r)),n=wv(Zu(e.g)),o=wv(Zu(e.b));return{r:Em(k4(i+r*(wv(Zu(t.r))-i))),g:Em(k4(n+r*(wv(Zu(t.g))-n))),b:Em(k4(o+r*(wv(Zu(t.b))-o))),a:e.a+r*(t.a-e.a)}}function e5(e,t,r){if(e){let i=O4(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*r,t===0?360:1)),i=N4(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function Vz(e,t){return e&&Object.assign(t||{},e)}function Hz(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Em(e[3]))):(t=Vz(e,{r:0,g:0,b:0,a:1}),t.a=Em(t.a)),t}function Yut(e){return e.charAt(0)==="r"?zut(e):Lut(e)}var U1=class e{constructor(t){if(t instanceof e)return t;let r=typeof t,i;r==="object"?i=Hz(t):r==="string"&&(i=Tut(t)||jut(t)||Yut(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=Vz(this._rgb);return t&&(t.a=Zu(t.a)),t}set rgb(t){this._rgb=Hz(t)}rgbString(){return this._valid?Uut(this._rgb):void 0}hexString(){return this._valid?Aut(this._rgb):void 0}hslString(){return this._valid?Hut(this._rgb):void 0}mix(t,r){if(t){let i=this.rgb,n=t.rgb,o,s=r===o?.5:r,a=2*s-1,l=i.a-n.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;o=1-c,i.r=255&c*i.r+o*n.r+.5,i.g=255&c*i.g+o*n.g+.5,i.b=255&c*i.b+o*n.b+.5,i.a=s*i.a+(1-s)*n.a,this.rgb=i}return this}interpolate(t,r){return t&&(this._rgb=Wut(this._rgb,t._rgb,r)),this}clone(){return new e(this.rgb)}alpha(t){return this._rgb.a=Em(t),this}clearer(t){let r=this._rgb;return r.a*=1-t,this}greyscale(){let t=this._rgb,r=W1(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=r,this}opaquer(t){let r=this._rgb;return r.a*=1+t,this}negate(){let t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return e5(this._rgb,2,t),this}darken(t){return e5(this._rgb,2,-t),this}saturate(t){return e5(this._rgb,1,t),this}desaturate(t){return e5(this._rgb,1,-t),this}rotate(t){return Fut(this._rgb,t),this}};function kh(){}var Qz=(()=>{let e=0;return()=>e++})();function Xr(e){return e===null||typeof e>"u"}function eo(e){if(Array.isArray&&Array.isArray(e))return!0;let t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Br(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function To(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function ul(e,t){return To(e)?e:t}function pr(e,t){return typeof e>"u"?t:e}var Jz=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,B4=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Gn(e,t,r){if(e&&typeof e.call=="function")return e.apply(r,t)}function vn(e,t,r,i){let n,o,s;if(eo(e))if(o=e.length,i)for(n=o-1;n>=0;n--)t.call(r,e[n],n);else for(n=0;n<o;n++)t.call(r,e[n],n);else if(Br(e))for(s=Object.keys(e),o=s.length,n=0;n<o;n++)t.call(r,e[s[n]],s[n])}function q1(e,t){let r,i,n,o;if(!e||!t||e.length!==t.length)return!1;for(r=0,i=e.length;r<i;++r)if(n=e[r],o=t[r],n.datasetIndex!==o.datasetIndex||n.index!==o.index)return!1;return!0}function o5(e){if(eo(e))return e.map(o5);if(Br(e)){let t=Object.create(null),r=Object.keys(e),i=r.length,n=0;for(;n<i;++n)t[r[n]]=o5(e[r[n]]);return t}return e}function tU(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function $ut(e,t,r,i){if(!tU(e))return;let n=t[e],o=r[e];Br(n)&&Br(o)?xv(n,o,i):t[e]=o5(o)}function xv(e,t,r){let i=eo(t)?t:[t],n=i.length;if(!Br(e))return e;r=r||{};let o=r.merger||$ut,s;for(let a=0;a<n;++a){if(s=i[a],!Br(s))continue;let l=Object.keys(s);for(let c=0,d=l.length;c<d;++c)o(l[c],e,s,r)}return e}function Ev(e,t){return xv(e,t,{merger:qut})}function qut(e,t,r){if(!tU(e))return;let i=t[e],n=r[e];Br(i)&&Br(n)?Ev(i,n):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=o5(n))}var zz={"":e=>e,x:e=>e.x,y:e=>e.y};function Gut(e){let t=e.split("."),r=[],i="";for(let n of t)i+=n,i.endsWith("\\")?i=i.slice(0,-1)+".":(r.push(i),i="");return r}function Kut(e){let t=Gut(e);return r=>{for(let i of t){if(i==="")break;r=r&&r[i]}return r}}function tf(e,t){return(zz[t]||(zz[t]=Kut(t)))(e)}function c5(e){return e.charAt(0).toUpperCase()+e.slice(1)}var Rv=e=>typeof e<"u",Qu=e=>typeof e=="function",j4=(e,t)=>{if(e.size!==t.size)return!1;for(let r of e)if(!t.has(r))return!1;return!0};function eU(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}var io=Math.PI,ro=2*io,Xut=ro+io,s5=Number.POSITIVE_INFINITY,Zut=io/180,Bo=io/2,Ug=io/4,Uz=io*2/3,Ju=Math.log10,_d=Math.sign;function Tv(e,t,r){return Math.abs(e-t)<r}function V4(e){let t=Math.round(e);e=Tv(e,t,e/1e3)?t:e;let r=Math.pow(10,Math.floor(Ju(e))),i=e/r;return(i<=1?1:i<=2?2:i<=5?5:10)*r}function iU(e){let t=[],r=Math.sqrt(e),i;for(i=1;i<r;i++)e%i===0&&(t.push(i),t.push(e/i));return r===(r|0)&&t.push(r),t.sort((n,o)=>n-o).pop(),t}function $g(e){return!isNaN(parseFloat(e))&&isFinite(e)}function rU(e,t){let r=Math.round(e);return r-t<=e&&r+t>=e}function z4(e,t,r){let i,n,o;for(i=0,n=e.length;i<n;i++)o=e[i][r],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Mc(e){return e*(io/180)}function d5(e){return e*(180/io)}function U4(e){if(!To(e))return;let t=1,r=0;for(;Math.round(e*t)/t!==e;)t*=10,r++;return r}function W4(e,t){let r=t.x-e.x,i=t.y-e.y,n=Math.sqrt(r*r+i*i),o=Math.atan2(i,r);return o<-.5*io&&(o+=ro),{angle:o,distance:n}}function a5(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Qut(e,t){return(e-t+Xut)%ro-io}function hl(e){return(e%ro+ro)%ro}function Mv(e,t,r,i){let n=hl(e),o=hl(t),s=hl(r),a=hl(o-n),l=hl(s-n),c=hl(n-o),d=hl(n-s);return n===o||n===s||i&&o===s||a>l&&c<d}function bs(e,t,r){return Math.max(t,Math.min(r,e))}function nU(e){return bs(e,-32768,32767)}function Dh(e,t,r,i=1e-6){return e>=Math.min(t,r)-i&&e<=Math.max(t,r)+i}function h5(e,t,r){r=r||(s=>e[s]<t);let i=e.length-1,n=0,o;for(;i-n>1;)o=n+i>>1,r(o)?n=o:i=o;return{lo:n,hi:i}}var Ah=(e,t,r,i)=>h5(e,r,i?n=>{let o=e[n][t];return o<r||o===r&&e[n+1][t]===r}:n=>e[n][t]<r),oU=(e,t,r)=>h5(e,r,i=>e[i][t]>=r);function sU(e,t,r){let i=0,n=e.length;for(;i<n&&e[i]<t;)i++;for(;n>i&&e[n-1]>r;)n--;return i>0||n<e.length?e.slice(i,n):e}var aU=["push","pop","shift","splice","unshift"];function lU(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),aU.forEach(r=>{let i="_onData"+c5(r),n=e[r];Object.defineProperty(e,r,{configurable:!0,enumerable:!1,value(...o){let s=n.apply(this,o);return e._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...o)}),s}})})}function Y4(e,t){let r=e._chartjs;if(!r)return;let i=r.listeners,n=i.indexOf(t);n!==-1&&i.splice(n,1),!(i.length>0)&&(aU.forEach(o=>{delete e[o]}),delete e._chartjs)}function $4(e){let t=new Set(e);return t.size===e.length?e:Array.from(t)}var q4=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function G4(e,t){let r=[],i=!1;return function(...n){r=n,i||(i=!0,q4.call(window,()=>{i=!1,e.apply(t,r)}))}}function cU(e,t){let r;return function(...i){return t?(clearTimeout(r),r=setTimeout(e,t,i)):e.apply(this,i),t}}var u5=e=>e==="start"?"left":e==="end"?"right":"center",ia=(e,t,r)=>e==="start"?t:e==="end"?r:(t+r)/2,dU=(e,t,r,i)=>e===(i?"left":"right")?r:e==="center"?(t+r)/2:t;function K4(e,t,r){let i=t.length,n=0,o=i;if(e._sorted){let{iScale:s,_parsed:a}=e,l=s.axis,{min:c,max:d,minDefined:h,maxDefined:u}=s.getUserBounds();h&&(n=bs(Math.min(Ah(a,l,c).lo,r?i:Ah(t,l,s.getPixelForValue(c)).lo),0,i-1)),u?o=bs(Math.max(Ah(a,s.axis,d,!0).hi+1,r?0:Ah(t,l,s.getPixelForValue(d),!0).hi+1),n,i)-n:o=i-n}return{start:n,count:o}}function X4(e){let{xScale:t,yScale:r,_scaleRanges:i}=e,n={xmin:t.min,xmax:t.max,ymin:r.min,ymax:r.max};if(!i)return e._scaleRanges=n,!0;let o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==r.min||i.ymax!==r.max;return Object.assign(i,n),o}var i5=e=>e===0||e===1,Wz=(e,t,r)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*ro/r)),Yz=(e,t,r)=>Math.pow(2,-10*e)*Math.sin((e-t)*ro/r)+1,Cv={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Bo)+1,easeOutSine:e=>Math.sin(e*Bo),easeInOutSine:e=>-.5*(Math.cos(io*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>i5(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>i5(e)?e:Wz(e,.075,.3),easeOutElastic:e=>i5(e)?e:Yz(e,.075,.3),easeInOutElastic(e){return i5(e)?e:e<.5?.5*Wz(e*2,.1125,.45):.5+.5*Yz(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Cv.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Cv.easeInBounce(e*2)*.5:Cv.easeOutBounce(e*2-1)*.5+.5};function Z4(e){if(e&&typeof e=="object"){let t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Q4(e){return Z4(e)?e:new U1(e)}function L4(e){return Z4(e)?e:new U1(e).saturate(.5).darken(.1).hexString()}var Jut=["x","y","borderWidth","radius","tension"],tft=["color","borderColor","backgroundColor"];function eft(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:tft},numbers:{type:"number",properties:Jut}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function ift(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var $z=new Map;function rft(e,t){t=t||{};let r=e+JSON.stringify(t),i=$z.get(r);return i||(i=new Intl.NumberFormat(e,t),$z.set(r,i)),i}function Av(e,t,r){return rft(t,r).format(e)}var hU={values(e){return eo(e)?e:""+e},numeric(e,t,r){if(e===0)return"0";let i=this.chart.options.locale,n,o=e;if(r.length>1){let c=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(c<1e-4||c>1e15)&&(n="scientific"),o=nft(e,r)}let s=Ju(Math.abs(o)),a=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),l={notation:n,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Av(e,i,l)},logarithmic(e,t,r){if(e===0)return"0";let i=r[t].significand||e/Math.pow(10,Math.floor(Ju(e)));return[1,2,3,5,10,15].includes(i)||t>.8*r.length?hU.numeric.call(this,e,t,r):""}};function nft(e,t){let r=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(r)>=1&&e!==Math.floor(e)&&(r=e-Math.floor(e)),r}var G1={formatters:hU};function oft(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,r)=>r.lineWidth,tickColor:(t,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:G1.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}var Tm=Object.create(null),f5=Object.create(null);function Y1(e,t){if(!t)return e;let r=t.split(".");for(let i=0,n=r.length;i<n;++i){let o=r[i];e=e[o]||(e[o]=Object.create(null))}return e}function F4(e,t,r){return typeof t=="string"?xv(Y1(e,t),r):xv(Y1(e,""),t)}var H4=class{constructor(t,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,n)=>L4(n.backgroundColor),this.hoverBorderColor=(i,n)=>L4(n.borderColor),this.hoverColor=(i,n)=>L4(n.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(r)}set(t,r){return F4(this,t,r)}get(t){return Y1(this,t)}describe(t,r){return F4(f5,t,r)}override(t,r){return F4(Tm,t,r)}route(t,r,i,n){let o=Y1(this,t),s=Y1(this,i),a="_"+r;Object.defineProperties(o,{[a]:{value:o[r],writable:!0},[r]:{enumerable:!0,get(){let l=this[a],c=s[n];return Br(l)?Object.assign({},c,l):pr(l,c)},set(l){this[a]=l}}})}apply(t){t.forEach(r=>r(this))}},uo=new H4({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[eft,ift,oft]);function sft(e){return!e||Xr(e.size)||Xr(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function $1(e,t,r,i,n){let o=t[n];return o||(o=t[n]=e.measureText(n).width,r.push(n)),o>i&&(i=o),i}function uU(e,t,r,i){i=i||{};let n=i.data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(n=i.data={},o=i.garbageCollect=[],i.font=t),e.save(),e.font=t;let s=0,a=r.length,l,c,d,h,u;for(l=0;l<a;l++)if(h=r[l],h!=null&&!eo(h))s=$1(e,n,o,s,h);else if(eo(h))for(c=0,d=h.length;c<d;c++)u=h[c],u!=null&&!eo(u)&&(s=$1(e,n,o,s,u));e.restore();let f=o.length/2;if(f>r.length){for(l=0;l<f;l++)delete n[o[l]];o.splice(0,f)}return s}function Mm(e,t,r){let i=e.currentDevicePixelRatio,n=r!==0?Math.max(r/2,.5):0;return Math.round((t-n)*i)/i+n}function J4(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function m5(e,t,r,i){tP(e,t,r,i,null)}function tP(e,t,r,i,n){let o,s,a,l,c,d,h,u,f=t.pointStyle,m=t.rotation,g=t.radius,p=(m||0)*Zut;if(f&&typeof f=="object"&&(o=f.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){e.save(),e.translate(r,i),e.rotate(p),e.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),e.restore();return}if(!(isNaN(g)||g<=0)){switch(e.beginPath(),f){default:n?e.ellipse(r,i,n/2,g,0,0,ro):e.arc(r,i,g,0,ro),e.closePath();break;case"triangle":d=n?n/2:g,e.moveTo(r+Math.sin(p)*d,i-Math.cos(p)*g),p+=Uz,e.lineTo(r+Math.sin(p)*d,i-Math.cos(p)*g),p+=Uz,e.lineTo(r+Math.sin(p)*d,i-Math.cos(p)*g),e.closePath();break;case"rectRounded":c=g*.516,l=g-c,s=Math.cos(p+Ug)*l,h=Math.cos(p+Ug)*(n?n/2-c:l),a=Math.sin(p+Ug)*l,u=Math.sin(p+Ug)*(n?n/2-c:l),e.arc(r-h,i-a,c,p-io,p-Bo),e.arc(r+u,i-s,c,p-Bo,p),e.arc(r+h,i+a,c,p,p+Bo),e.arc(r-u,i+s,c,p+Bo,p+io),e.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*g,d=n?n/2:l,e.rect(r-d,i-l,2*d,2*l);break}p+=Ug;case"rectRot":h=Math.cos(p)*(n?n/2:g),s=Math.cos(p)*g,a=Math.sin(p)*g,u=Math.sin(p)*(n?n/2:g),e.moveTo(r-h,i-a),e.lineTo(r+u,i-s),e.lineTo(r+h,i+a),e.lineTo(r-u,i+s),e.closePath();break;case"crossRot":p+=Ug;case"cross":h=Math.cos(p)*(n?n/2:g),s=Math.cos(p)*g,a=Math.sin(p)*g,u=Math.sin(p)*(n?n/2:g),e.moveTo(r-h,i-a),e.lineTo(r+h,i+a),e.moveTo(r+u,i-s),e.lineTo(r-u,i+s);break;case"star":h=Math.cos(p)*(n?n/2:g),s=Math.cos(p)*g,a=Math.sin(p)*g,u=Math.sin(p)*(n?n/2:g),e.moveTo(r-h,i-a),e.lineTo(r+h,i+a),e.moveTo(r+u,i-s),e.lineTo(r-u,i+s),p+=Ug,h=Math.cos(p)*(n?n/2:g),s=Math.cos(p)*g,a=Math.sin(p)*g,u=Math.sin(p)*(n?n/2:g),e.moveTo(r-h,i-a),e.lineTo(r+h,i+a),e.moveTo(r+u,i-s),e.lineTo(r-u,i+s);break;case"line":s=n?n/2:Math.cos(p)*g,a=Math.sin(p)*g,e.moveTo(r-s,i-a),e.lineTo(r+s,i+a);break;case"dash":e.moveTo(r,i),e.lineTo(r+Math.cos(p)*(n?n/2:g),i+Math.sin(p)*g);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function Ih(e,t,r){return r=r||.5,!t||e&&e.x>t.left-r&&e.x<t.right+r&&e.y>t.top-r&&e.y<t.bottom+r}function K1(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function X1(e){e.restore()}function fU(e,t,r,i,n){if(!t)return e.lineTo(r.x,r.y);if(n==="middle"){let o=(t.x+r.x)/2;e.lineTo(o,t.y),e.lineTo(o,r.y)}else n==="after"!=!!i?e.lineTo(t.x,r.y):e.lineTo(r.x,t.y);e.lineTo(r.x,r.y)}function mU(e,t,r,i){if(!t)return e.lineTo(r.x,r.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?r.cp2x:r.cp1x,i?r.cp2y:r.cp1y,r.x,r.y)}function aft(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Xr(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function lft(e,t,r,i,n){if(n.strikethrough||n.underline){let o=e.measureText(i),s=t-o.actualBoundingBoxLeft,a=t+o.actualBoundingBoxRight,l=r-o.actualBoundingBoxAscent,c=r+o.actualBoundingBoxDescent,d=n.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=n.decorationWidth||2,e.moveTo(s,d),e.lineTo(a,d),e.stroke()}}function cft(e,t){let r=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=r}function Am(e,t,r,i,n,o={}){let s=eo(t)?t:[t],a=o.strokeWidth>0&&o.strokeColor!=="",l,c;for(e.save(),e.font=n.string,aft(e,o),l=0;l<s.length;++l)c=s[l],o.backdrop&&cft(e,o.backdrop),a&&(o.strokeColor&&(e.strokeStyle=o.strokeColor),Xr(o.strokeWidth)||(e.lineWidth=o.strokeWidth),e.strokeText(c,r,i,o.maxWidth)),e.fillText(c,r,i,o.maxWidth),lft(e,r,i,c,o),i+=Number(n.lineHeight);e.restore()}function Iv(e,t){let{x:r,y:i,w:n,h:o,radius:s}=t;e.arc(r+s.topLeft,i+s.topLeft,s.topLeft,1.5*io,io,!0),e.lineTo(r,i+o-s.bottomLeft),e.arc(r+s.bottomLeft,i+o-s.bottomLeft,s.bottomLeft,io,Bo,!0),e.lineTo(r+n-s.bottomRight,i+o),e.arc(r+n-s.bottomRight,i+o-s.bottomRight,s.bottomRight,Bo,0,!0),e.lineTo(r+n,i+s.topRight),e.arc(r+n-s.topRight,i+s.topRight,s.topRight,0,-Bo,!0),e.lineTo(r+s.topLeft,i)}var dft=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,hft=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function uft(e,t){let r=(""+e).match(dft);if(!r||r[1]==="normal")return t*1.2;switch(e=+r[2],r[3]){case"px":return e;case"%":e/=100;break}return t*e}var fft=e=>+e||0;function p5(e,t){let r={},i=Br(t),n=i?Object.keys(t):t,o=Br(e)?i?s=>pr(e[s],e[t[s]]):s=>e[s]:()=>e;for(let s of n)r[s]=fft(o(s));return r}function eP(e){return p5(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Im(e){return p5(e,["topLeft","topRight","bottomLeft","bottomRight"])}function ra(e){let t=eP(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function cs(e,t){e=e||{},t=t||uo.font;let r=pr(e.size,t.size);typeof r=="string"&&(r=parseInt(r,10));let i=pr(e.style,t.style);i&&!(""+i).match(hft)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);let n={family:pr(e.family,t.family),lineHeight:uft(pr(e.lineHeight,t.lineHeight),r),size:r,style:i,weight:pr(e.weight,t.weight),string:""};return n.string=sft(n),n}function kv(e,t,r,i){let n=!0,o,s,a;for(o=0,s=e.length;o<s;++o)if(a=e[o],a!==void 0&&(t!==void 0&&typeof a=="function"&&(a=a(t),n=!1),r!==void 0&&eo(a)&&(a=a[r%a.length],n=!1),a!==void 0))return i&&!n&&(i.cacheable=!1),a}function pU(e,t,r){let{min:i,max:n}=e,o=B4(t,(n-i)/2),s=(a,l)=>r&&a===0?0:a+l;return{min:s(i,-Math.abs(o)),max:s(n,o)}}function ef(e,t){return Object.assign(Object.create(e),t)}function g5(e,t=[""],r,i,n=()=>e[0]){let o=r||e;typeof i>"u"&&(i=vU("_fallback",e));let s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:o,_fallback:i,_getTarget:n,override:a=>g5([a,...e],t,o,i)};return new Proxy(s,{deleteProperty(a,l){return delete a[l],delete a._keys,delete e[0][l],!0},get(a,l){return gU(a,l,()=>wft(l,t,e,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,l){return Gz(a).includes(l)},ownKeys(a){return Gz(a)},set(a,l,c){let d=a._storage||(a._storage=n());return a[l]=d[l]=c,delete a._keys,!0}})}function Yg(e,t,r,i){let n={_cacheable:!1,_proxy:e,_context:t,_subProxy:r,_stack:new Set,_descriptors:iP(e,i),setContext:o=>Yg(e,o,r,i),override:o=>Yg(e.override(o),t,r,i)};return new Proxy(n,{deleteProperty(o,s){return delete o[s],delete e[s],!0},get(o,s,a){return gU(o,s,()=>pft(o,s,a))},getOwnPropertyDescriptor(o,s){return o._descriptors.allKeys?Reflect.has(e,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,s)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(o,s){return Reflect.has(e,s)},ownKeys(){return Reflect.ownKeys(e)},set(o,s,a){return e[s]=a,delete o[s],!0}})}function iP(e,t={scriptable:!0,indexable:!0}){let{_scriptable:r=t.scriptable,_indexable:i=t.indexable,_allKeys:n=t.allKeys}=e;return{allKeys:n,scriptable:r,indexable:i,isScriptable:Qu(r)?r:()=>r,isIndexable:Qu(i)?i:()=>i}}var mft=(e,t)=>e?e+c5(t):t,rP=(e,t)=>Br(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function gU(e,t,r){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];let i=r();return e[t]=i,i}function pft(e,t,r){let{_proxy:i,_context:n,_subProxy:o,_descriptors:s}=e,a=i[t];return Qu(a)&&s.isScriptable(t)&&(a=gft(t,a,e,r)),eo(a)&&a.length&&(a=bft(t,a,e,s.isIndexable)),rP(t,a)&&(a=Yg(a,n,o&&o[t],s)),a}function gft(e,t,r,i){let{_proxy:n,_context:o,_subProxy:s,_stack:a}=r;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(o,s||i);return a.delete(e),rP(e,l)&&(l=nP(n._scopes,n,e,l)),l}function bft(e,t,r,i){let{_proxy:n,_context:o,_subProxy:s,_descriptors:a}=r;if(typeof o.index<"u"&&i(e))return t[o.index%t.length];if(Br(t[0])){let l=t,c=n._scopes.filter(d=>d!==l);t=[];for(let d of l){let h=nP(c,n,e,d);t.push(Yg(h,o,s&&s[e],a))}}return t}function bU(e,t,r){return Qu(e)?e(t,r):e}var vft=(e,t)=>e===!0?t:typeof e=="string"?tf(t,e):void 0;function yft(e,t,r,i,n){for(let o of t){let s=vft(r,o);if(s){e.add(s);let a=bU(s._fallback,r,n);if(typeof a<"u"&&a!==r&&a!==i)return a}else if(s===!1&&typeof i<"u"&&r!==i)return null}return!1}function nP(e,t,r,i){let n=t._rootScopes,o=bU(t._fallback,r,i),s=[...e,...n],a=new Set;a.add(i);let l=qz(a,s,r,o||r,i);return l===null||typeof o<"u"&&o!==r&&(l=qz(a,s,o,l,i),l===null)?!1:g5(Array.from(a),[""],n,o,()=>_ft(t,r,i))}function qz(e,t,r,i,n){for(;r;)r=yft(e,t,r,i,n);return r}function _ft(e,t,r){let i=e._getTarget();t in i||(i[t]={});let n=i[t];return eo(n)&&Br(r)?r:n||{}}function wft(e,t,r,i){let n;for(let o of t)if(n=vU(mft(o,e),r),typeof n<"u")return rP(e,n)?nP(r,i,e,n):n}function vU(e,t){for(let r of t){if(!r)continue;let i=r[e];if(typeof i<"u")return i}}function Gz(e){let t=e._keys;return t||(t=e._keys=Cft(e._scopes)),t}function Cft(e){let t=new Set;for(let r of e)for(let i of Object.keys(r).filter(n=>!n.startsWith("_")))t.add(i);return Array.from(t)}function oP(e,t,r,i){let{iScale:n}=e,{key:o="r"}=this._parsing,s=new Array(i),a,l,c,d;for(a=0,l=i;a<l;++a)c=a+r,d=t[c],s[a]={r:n.parse(tf(d,o),c)};return s}var xft=Number.EPSILON||1e-14,Sv=(e,t)=>t<e.length&&!e[t].skip&&e[t],yU=e=>e==="x"?"y":"x";function Sft(e,t,r,i){let n=e.skip?t:e,o=t,s=r.skip?t:r,a=a5(o,n),l=a5(s,o),c=a/(a+l),d=l/(a+l);c=isNaN(c)?0:c,d=isNaN(d)?0:d;let h=i*c,u=i*d;return{previous:{x:o.x-h*(s.x-n.x),y:o.y-h*(s.y-n.y)},next:{x:o.x+u*(s.x-n.x),y:o.y+u*(s.y-n.y)}}}function Eft(e,t,r){let i=e.length,n,o,s,a,l,c=Sv(e,0);for(let d=0;d<i-1;++d)if(l=c,c=Sv(e,d+1),!(!l||!c)){if(Tv(t[d],0,xft)){r[d]=r[d+1]=0;continue}n=r[d]/t[d],o=r[d+1]/t[d],a=Math.pow(n,2)+Math.pow(o,2),!(a<=9)&&(s=3/Math.sqrt(a),r[d]=n*s*t[d],r[d+1]=o*s*t[d])}}function Rft(e,t,r="x"){let i=yU(r),n=e.length,o,s,a,l=Sv(e,0);for(let c=0;c<n;++c){if(s=a,a=l,l=Sv(e,c+1),!a)continue;let d=a[r],h=a[i];s&&(o=(d-s[r])/3,a[`cp1${r}`]=d-o,a[`cp1${i}`]=h-o*t[c]),l&&(o=(l[r]-d)/3,a[`cp2${r}`]=d+o,a[`cp2${i}`]=h+o*t[c])}}function Tft(e,t="x"){let r=yU(t),i=e.length,n=Array(i).fill(0),o=Array(i),s,a,l,c=Sv(e,0);for(s=0;s<i;++s)if(a=l,l=c,c=Sv(e,s+1),!!l){if(c){let d=c[t]-l[t];n[s]=d!==0?(c[r]-l[r])/d:0}o[s]=a?c?_d(n[s-1])!==_d(n[s])?0:(n[s-1]+n[s])/2:n[s-1]:n[s]}Eft(e,n,o),Rft(e,o,t)}function r5(e,t,r){return Math.max(Math.min(e,r),t)}function Mft(e,t){let r,i,n,o,s,a=Ih(e[0],t);for(r=0,i=e.length;r<i;++r)s=o,o=a,a=r<i-1&&Ih(e[r+1],t),o&&(n=e[r],s&&(n.cp1x=r5(n.cp1x,t.left,t.right),n.cp1y=r5(n.cp1y,t.top,t.bottom)),a&&(n.cp2x=r5(n.cp2x,t.left,t.right),n.cp2y=r5(n.cp2y,t.top,t.bottom)))}function _U(e,t,r,i,n){let o,s,a,l;if(t.spanGaps&&(e=e.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")Tft(e,n);else{let c=i?e[e.length-1]:e[0];for(o=0,s=e.length;o<s;++o)a=e[o],l=Sft(c,a,e[Math.min(o+1,s-(i?0:1))%s],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}t.capBezierPoints&&Mft(e,r)}function b5(){return typeof window<"u"&&typeof document<"u"}function v5(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function l5(e,t,r){let i;return typeof e=="string"?(i=parseInt(e,10),e.indexOf("%")!==-1&&(i=i/100*t.parentNode[r])):i=e,i}var y5=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function Aft(e,t){return y5(e).getPropertyValue(t)}var Ift=["top","right","bottom","left"];function Wg(e,t,r){let i={};r=r?"-"+r:"";for(let n=0;n<4;n++){let o=Ift[n];i[o]=parseFloat(e[t+"-"+o+r])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}var kft=(e,t,r)=>(e>0||t>0)&&(!r||!r.shadowRoot);function Dft(e,t){let r=e.touches,i=r&&r.length?r[0]:e,{offsetX:n,offsetY:o}=i,s=!1,a,l;if(kft(n,o,e.target))a=n,l=o;else{let c=t.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,s=!0}return{x:a,y:l,box:s}}function km(e,t){if("native"in e)return e;let{canvas:r,currentDevicePixelRatio:i}=t,n=y5(r),o=n.boxSizing==="border-box",s=Wg(n,"padding"),a=Wg(n,"border","width"),{x:l,y:c,box:d}=Dft(e,r),h=s.left+(d&&a.left),u=s.top+(d&&a.top),{width:f,height:m}=t;return o&&(f-=s.width+a.width,m-=s.height+a.height),{x:Math.round((l-h)/f*r.width/i),y:Math.round((c-u)/m*r.height/i)}}function Oft(e,t,r){let i,n;if(t===void 0||r===void 0){let o=e&&v5(e);if(!o)t=e.clientWidth,r=e.clientHeight;else{let s=o.getBoundingClientRect(),a=y5(o),l=Wg(a,"border","width"),c=Wg(a,"padding");t=s.width-c.width-l.width,r=s.height-c.height-l.height,i=l5(a.maxWidth,o,"clientWidth"),n=l5(a.maxHeight,o,"clientHeight")}}return{width:t,height:r,maxWidth:i||s5,maxHeight:n||s5}}var n5=e=>Math.round(e*10)/10;function wU(e,t,r,i){let n=y5(e),o=Wg(n,"margin"),s=l5(n.maxWidth,e,"clientWidth")||s5,a=l5(n.maxHeight,e,"clientHeight")||s5,l=Oft(e,t,r),{width:c,height:d}=l;if(n.boxSizing==="content-box"){let u=Wg(n,"border","width"),f=Wg(n,"padding");c-=f.width+u.width,d-=f.height+u.height}return c=Math.max(0,c-o.width),d=Math.max(0,i?c/i:d-o.height),c=n5(Math.min(c,s,l.maxWidth)),d=n5(Math.min(d,a,l.maxHeight)),c&&!d&&(d=n5(c/2)),(t!==void 0||r!==void 0)&&i&&l.height&&d>l.height&&(d=l.height,c=n5(Math.floor(d*i))),{width:c,height:d}}function sP(e,t,r){let i=t||1,n=Math.floor(e.height*i),o=Math.floor(e.width*i);e.height=Math.floor(e.height),e.width=Math.floor(e.width);let s=e.canvas;return s.style&&(r||!s.style.height&&!s.style.width)&&(s.style.height=`${e.height}px`,s.style.width=`${e.width}px`),e.currentDevicePixelRatio!==i||s.height!==n||s.width!==o?(e.currentDevicePixelRatio=i,s.height=n,s.width=o,e.ctx.setTransform(i,0,0,i,0,0),!0):!1}var CU=function(){let e=!1;try{let t={get passive(){return e=!0,!1}};b5()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function aP(e,t){let r=Aft(e,t),i=r&&r.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Rm(e,t,r,i){return{x:e.x+r*(t.x-e.x),y:e.y+r*(t.y-e.y)}}function xU(e,t,r,i){return{x:e.x+r*(t.x-e.x),y:i==="middle"?r<.5?e.y:t.y:i==="after"?r<1?e.y:t.y:r>0?t.y:e.y}}function SU(e,t,r,i){let n={x:e.cp2x,y:e.cp2y},o={x:t.cp1x,y:t.cp1y},s=Rm(e,n,r),a=Rm(n,o,r),l=Rm(o,t,r),c=Rm(s,a,r),d=Rm(a,l,r);return Rm(c,d,r)}var Pft=function(e,t){return{x(r){return e+e+t-r},setWidth(r){t=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,i){return r-i},leftForLtr(r,i){return r-i}}},Nft=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function qg(e,t,r){return e?Pft(t,r):Nft()}function lP(e,t){let r,i;(t==="ltr"||t==="rtl")&&(r=e.canvas.style,i=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",t,"important"),e.prevTextDirection=i)}function cP(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function EU(e){return e==="angle"?{between:Mv,compare:Qut,normalize:hl}:{between:Dh,compare:(t,r)=>t-r,normalize:t=>t}}function Kz({start:e,end:t,count:r,loop:i,style:n}){return{start:e%r,end:t%r,loop:i&&(t-e+1)%r===0,style:n}}function Lft(e,t,r){let{property:i,start:n,end:o}=r,{between:s,normalize:a}=EU(i),l=t.length,{start:c,end:d,loop:h}=e,u,f;if(h){for(c+=l,d+=l,u=0,f=l;u<f&&s(a(t[c%l][i]),n,o);++u)c--,d--;c%=l,d%=l}return d<c&&(d+=l),{start:c,end:d,loop:h,style:e.style}}function dP(e,t,r){if(!r)return[e];let{property:i,start:n,end:o}=r,s=t.length,{compare:a,between:l,normalize:c}=EU(i),{start:d,end:h,loop:u,style:f}=Lft(e,t,r),m=[],g=!1,p=null,b,_,E,O=()=>l(n,E,b)&&a(n,E)!==0,V=()=>a(o,b)===0||l(o,E,b),H=()=>g||O(),F=()=>!g||V();for(let L=d,q=d;L<=h;++L)_=t[L%s],!_.skip&&(b=c(_[i]),b!==E&&(g=l(b,n,o),p===null&&H()&&(p=a(b,n)===0?L:q),p!==null&&F()&&(m.push(Kz({start:p,end:L,loop:u,count:s,style:f})),p=null),q=L,E=b));return p!==null&&m.push(Kz({start:p,end:h,loop:u,count:s,style:f})),m}function hP(e,t){let r=[],i=e.segments;for(let n=0;n<i.length;n++){let o=dP(i[n],e.points,t);o.length&&r.push(...o)}return r}function Fft(e,t,r,i){let n=0,o=t-1;if(r&&!i)for(;n<t&&!e[n].skip;)n++;for(;n<t&&e[n].skip;)n++;for(n%=t,r&&(o+=n);o>n&&e[o%t].skip;)o--;return o%=t,{start:n,end:o}}function Hft(e,t,r,i){let n=e.length,o=[],s=t,a=e[t],l;for(l=t+1;l<=r;++l){let c=e[l%n];c.skip||c.stop?a.skip||(i=!1,o.push({start:t%n,end:(l-1)%n,loop:i}),t=s=c.stop?l:null):(s=l,a.skip&&(t=l)),a=c}return s!==null&&o.push({start:t%n,end:s%n,loop:i}),o}function RU(e,t){let r=e.points,i=e.options.spanGaps,n=r.length;if(!n)return[];let o=!!e._loop,{start:s,end:a}=Fft(r,n,o,i);if(i===!0)return Xz(e,[{start:s,end:a,loop:o}],r,t);let l=a<s?a+n:a,c=!!e._fullLoop&&s===0&&a===n-1;return Xz(e,Hft(r,s,l,c),r,t)}function Xz(e,t,r,i){return!i||!i.setContext||!r?t:Bft(e,t,r,i)}function Bft(e,t,r,i){let n=e._chart.getContext(),o=Zz(e.options),{_datasetIndex:s,options:{spanGaps:a}}=e,l=r.length,c=[],d=o,h=t[0].start,u=h;function f(m,g,p,b){let _=a?-1:1;if(m!==g){for(m+=l;r[m%l].skip;)m-=_;for(;r[g%l].skip;)g+=_;m%l!==g%l&&(c.push({start:m%l,end:g%l,loop:p,style:b}),d=b,h=g%l)}}for(let m of t){h=a?h:m.start;let g=r[h%l],p;for(u=h+1;u<=m.end;u++){let b=r[u%l];p=Zz(i.setContext(ef(n,{type:"segment",p0:g,p1:b,p0DataIndex:(u-1)%l,p1DataIndex:u%l,datasetIndex:s}))),jft(p,d)&&f(h,u-1,m.loop,d),g=b,d=p}h<u-1&&f(h,u-1,m.loop,d)}return c}function Zz(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function jft(e,t){if(!t)return!1;let r=[],i=function(n,o){return Z4(o)?(r.includes(o)||r.push(o),r.indexOf(o)):o};return JSON.stringify(e,i)!==JSON.stringify(t,i)}var wP=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,r,i,n){let o=r.listeners[n],s=r.duration;o.forEach(a=>a({chart:t,initial:r.initial,numSteps:s,currentStep:Math.min(i-r.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=q4.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let r=0;this._charts.forEach((i,n)=>{if(!i.running||!i.items.length)return;let o=i.items,s=o.length-1,a=!1,l;for(;s>=0;--s)l=o[s],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(t),a=!0):(o[s]=o[o.length-1],o.pop());a&&(n.draw(),this._notify(n,i,t,"progress")),o.length||(i.running=!1,this._notify(n,i,t,"complete"),i.initial=!1),r+=o.length}),this._lastDate=t,r===0&&(this._running=!1)}_getAnims(t){let r=this._charts,i=r.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(t,i)),i}listen(t,r,i){this._getAnims(t).listeners[r].push(i)}add(t,r){!r||!r.length||this._getAnims(t).items.push(...r)}has(t){return this._getAnims(t).items.length>0}start(t){let r=this._charts.get(t);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((i,n)=>Math.max(i,n._duration),0),this._refresh())}running(t){if(!this._running)return!1;let r=this._charts.get(t);return!(!r||!r.running||!r.items.length)}stop(t){let r=this._charts.get(t);if(!r||!r.items.length)return;let i=r.items,n=i.length-1;for(;n>=0;--n)i[n].cancel();r.items=[],this._notify(t,r,Date.now(),"complete")}remove(t){return this._charts.delete(t)}},rf=new wP,TU="transparent",Vft={boolean(e,t,r){return r>.5?t:e},color(e,t,r){let i=Q4(e||TU),n=i.valid&&Q4(t||TU);return n&&n.valid?n.mix(i,r).hexString():t},number(e,t,r){return e+(t-e)*r}},CP=class{constructor(t,r,i,n){let o=r[i];n=kv([t.to,n,o,t.from]);let s=kv([t.from,o,n]);this._active=!0,this._fn=t.fn||Vft[t.type||typeof s],this._easing=Cv[t.easing]||Cv.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=r,this._prop=i,this._from=s,this._to=n,this._promises=void 0}active(){return this._active}update(t,r,i){if(this._active){this._notify(!1);let n=this._target[this._prop],o=i-this._start,s=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(s,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=kv([t.to,r,n,t.from]),this._from=kv([t.from,n,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){let r=t-this._start,i=this._duration,n=this._prop,o=this._from,s=this._loop,a=this._to,l;if(this._active=o!==a&&(s||r<i),!this._active){this._target[n]=a,this._notify(!0);return}if(r<0){this._target[n]=o;return}l=r/i%2,l=s&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[n]=this._fn(o,a,l)}wait(){let t=this._promises||(this._promises=[]);return new Promise((r,i)=>{t.push({res:r,rej:i})})}_notify(t){let r=t?"res":"rej",i=this._promises||[];for(let n=0;n<i.length;n++)i[n][r]()}},A5=class{constructor(t,r){this._chart=t,this._properties=new Map,this.configure(r)}configure(t){if(!Br(t))return;let r=Object.keys(uo.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(n=>{let o=t[n];if(!Br(o))return;let s={};for(let a of r)s[a]=o[a];(eo(o.properties)&&o.properties||[n]).forEach(a=>{(a===n||!i.has(a))&&i.set(a,s)})})}_animateOptions(t,r){let i=r.options,n=Uft(t,i);if(!n)return[];let o=this._createAnimations(n,i);return i.$shared&&zft(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,r){let i=this._properties,n=[],o=t.$animations||(t.$animations={}),s=Object.keys(r),a=Date.now(),l;for(l=s.length-1;l>=0;--l){let c=s[l];if(c.charAt(0)==="$")continue;if(c==="options"){n.push(...this._animateOptions(t,r));continue}let d=r[c],h=o[c],u=i.get(c);if(h)if(u&&h.active()){h.update(u,d,a);continue}else h.cancel();if(!u||!u.duration){t[c]=d;continue}o[c]=h=new CP(u,t,c,d),n.push(h)}return n}update(t,r){if(this._properties.size===0){Object.assign(t,r);return}let i=this._createAnimations(t,r);if(i.length)return rf.add(this._chart,i),!0}};function zft(e,t){let r=[],i=Object.keys(t);for(let n=0;n<i.length;n++){let o=e[i[n]];o&&o.active()&&r.push(o.wait())}return Promise.all(r)}function Uft(e,t){if(!t)return;let r=e.options;if(!r){e.options=t;return}return r.$shared&&(e.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function MU(e,t){let r=e&&e.options||{},i=r.reverse,n=r.min===void 0?t:0,o=r.max===void 0?t:0;return{start:i?o:n,end:i?n:o}}function Wft(e,t,r){if(r===!1)return!1;let i=MU(e,r),n=MU(t,r);return{top:n.end,right:i.end,bottom:n.start,left:i.start}}function Yft(e){let t,r,i,n;return Br(e)?(t=e.top,r=e.right,i=e.bottom,n=e.left):t=r=i=n=e,{top:t,right:r,bottom:i,left:n,disabled:e===!1}}function MW(e,t){let r=[],i=e._getSortedDatasetMetas(t),n,o;for(n=0,o=i.length;n<o;++n)r.push(i[n].index);return r}function AU(e,t,r,i={}){let n=e.keys,o=i.mode==="single",s,a,l,c;if(t!==null){for(s=0,a=n.length;s<a;++s){if(l=+n[s],l===r){if(i.all)continue;break}c=e.values[l],To(c)&&(o||t===0||_d(t)===_d(c))&&(t+=c)}return t}}function $ft(e,t){let{iScale:r,vScale:i}=t,n=r.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",s=Object.keys(e),a=new Array(s.length),l,c,d;for(l=0,c=s.length;l<c;++l)d=s[l],a[l]={[n]:d,[o]:e[d]};return a}function IU(e,t){let r=e&&e.options.stacked;return r||r===void 0&&t.stack!==void 0}function qft(e,t,r){return`${e.id}.${t.id}.${r.stack||r.type}`}function Gft(e){let{min:t,max:r,minDefined:i,maxDefined:n}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:n?r:Number.POSITIVE_INFINITY}}function Kft(e,t,r){let i=e[t]||(e[t]={});return i[r]||(i[r]={})}function kU(e,t,r,i){for(let n of t.getMatchingVisibleMetas(i).reverse()){let o=e[n.index];if(r&&o>0||!r&&o<0)return n.index}return null}function DU(e,t){let{chart:r,_cachedMeta:i}=e,n=r._stacks||(r._stacks={}),{iScale:o,vScale:s,index:a}=i,l=o.axis,c=s.axis,d=qft(o,s,i),h=t.length,u;for(let f=0;f<h;++f){let m=t[f],{[l]:g,[c]:p}=m,b=m._stacks||(m._stacks={});u=b[c]=Kft(n,d,g),u[a]=p,u._top=kU(u,s,!0,i.type),u._bottom=kU(u,s,!1,i.type);let _=u._visualValues||(u._visualValues={});_[a]=p}}function uP(e,t){let r=e.scales;return Object.keys(r).filter(i=>r[i].axis===t).shift()}function Xft(e,t){return ef(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function Zft(e,t,r){return ef(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:r,index:t,mode:"default",type:"data"})}function Z1(e,t){let r=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(let n of t){let o=n._stacks;if(!o||o[i]===void 0||o[i][r]===void 0)return;delete o[i][r],o[i]._visualValues!==void 0&&o[i]._visualValues[r]!==void 0&&delete o[i]._visualValues[r]}}}var fP=e=>e==="reset"||e==="none",OU=(e,t)=>t?e:Object.assign({},e),Qft=(e,t,r)=>e&&!t.hidden&&t._stacked&&{keys:MW(r,!0),values:null},Om=(()=>{class e{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(r,i){this.chart=r,this._ctx=r.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let r=this._cachedMeta;this.configure(),this.linkScales(),r._stacked=IU(r.vScale,r),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(r){this.index!==r&&Z1(this._cachedMeta),this.index=r}linkScales(){let r=this.chart,i=this._cachedMeta,n=this.getDataset(),o=(u,f,m,g)=>u==="x"?f:u==="r"?g:m,s=i.xAxisID=pr(n.xAxisID,uP(r,"x")),a=i.yAxisID=pr(n.yAxisID,uP(r,"y")),l=i.rAxisID=pr(n.rAxisID,uP(r,"r")),c=i.indexAxis,d=i.iAxisID=o(c,s,a,l),h=i.vAxisID=o(c,a,s,l);i.xScale=this.getScaleForId(s),i.yScale=this.getScaleForId(a),i.rScale=this.getScaleForId(l),i.iScale=this.getScaleForId(d),i.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(r){return this.chart.scales[r]}_getOtherScale(r){let i=this._cachedMeta;return r===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){let r=this._cachedMeta;this._data&&Y4(this._data,this),r._stacked&&Z1(r)}_dataCheck(){let r=this.getDataset(),i=r.data||(r.data=[]),n=this._data;if(Br(i)){let o=this._cachedMeta;this._data=$ft(i,o)}else if(n!==i){if(n){Y4(n,this);let o=this._cachedMeta;Z1(o),o._parsed=[]}i&&Object.isExtensible(i)&&lU(i,this),this._syncList=[],this._data=i}}addElements(){let r=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(r.dataset=new this.datasetElementType)}buildOrUpdateElements(r){let i=this._cachedMeta,n=this.getDataset(),o=!1;this._dataCheck();let s=i._stacked;i._stacked=IU(i.vScale,i),i.stack!==n.stack&&(o=!0,Z1(i),i.stack=n.stack),this._resyncElements(r),(o||s!==i._stacked)&&DU(this,i._parsed)}configure(){let r=this.chart.config,i=r.datasetScopeKeys(this._type),n=r.getOptionScopes(this.getDataset(),i,!0);this.options=r.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(r,i){let{_cachedMeta:n,_data:o}=this,{iScale:s,_stacked:a}=n,l=s.axis,c=r===0&&i===o.length?!0:n._sorted,d=r>0&&n._parsed[r-1],h,u,f;if(this._parsing===!1)n._parsed=o,n._sorted=!0,f=o;else{eo(o[r])?f=this.parseArrayData(n,o,r,i):Br(o[r])?f=this.parseObjectData(n,o,r,i):f=this.parsePrimitiveData(n,o,r,i);let m=()=>u[l]===null||d&&u[l]<d[l];for(h=0;h<i;++h)n._parsed[h+r]=u=f[h],c&&(m()&&(c=!1),d=u);n._sorted=c}a&&DU(this,f)}parsePrimitiveData(r,i,n,o){let{iScale:s,vScale:a}=r,l=s.axis,c=a.axis,d=s.getLabels(),h=s===a,u=new Array(o),f,m,g;for(f=0,m=o;f<m;++f)g=f+n,u[f]={[l]:h||s.parse(d[g],g),[c]:a.parse(i[g],g)};return u}parseArrayData(r,i,n,o){let{xScale:s,yScale:a}=r,l=new Array(o),c,d,h,u;for(c=0,d=o;c<d;++c)h=c+n,u=i[h],l[c]={x:s.parse(u[0],h),y:a.parse(u[1],h)};return l}parseObjectData(r,i,n,o){let{xScale:s,yScale:a}=r,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=new Array(o),h,u,f,m;for(h=0,u=o;h<u;++h)f=h+n,m=i[f],d[h]={x:s.parse(tf(m,l),f),y:a.parse(tf(m,c),f)};return d}getParsed(r){return this._cachedMeta._parsed[r]}getDataElement(r){return this._cachedMeta.data[r]}applyStack(r,i,n){let o=this.chart,s=this._cachedMeta,a=i[r.axis],l={keys:MW(o,!0),values:i._stacks[r.axis]._visualValues};return AU(l,a,s.index,{mode:n})}updateRangeFromParsed(r,i,n,o){let s=n[i.axis],a=s===null?NaN:s,l=o&&n._stacks[i.axis];o&&l&&(o.values=l,a=AU(o,s,this._cachedMeta.index)),r.min=Math.min(r.min,a),r.max=Math.max(r.max,a)}getMinMax(r,i){let n=this._cachedMeta,o=n._parsed,s=n._sorted&&r===n.iScale,a=o.length,l=this._getOtherScale(r),c=Qft(i,n,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:u}=Gft(l),f,m;function g(){m=o[f];let p=m[l.axis];return!To(m[r.axis])||h>p||u<p}for(f=0;f<a&&!(!g()&&(this.updateRangeFromParsed(d,r,m,c),s));++f);if(s){for(f=a-1;f>=0;--f)if(!g()){this.updateRangeFromParsed(d,r,m,c);break}}return d}getAllParsedValues(r){let i=this._cachedMeta._parsed,n=[],o,s,a;for(o=0,s=i.length;o<s;++o)a=i[o][r.axis],To(a)&&n.push(a);return n}getMaxOverflow(){return!1}getLabelAndValue(r){let i=this._cachedMeta,n=i.iScale,o=i.vScale,s=this.getParsed(r);return{label:n?""+n.getLabelForValue(s[n.axis]):"",value:o?""+o.getLabelForValue(s[o.axis]):""}}_update(r){let i=this._cachedMeta;this.update(r||"default"),i._clip=Yft(pr(this.options.clip,Wft(i.xScale,i.yScale,this.getMaxOverflow())))}update(r){}draw(){let r=this._ctx,i=this.chart,n=this._cachedMeta,o=n.data||[],s=i.chartArea,a=[],l=this._drawStart||0,c=this._drawCount||o.length-l,d=this.options.drawActiveElementsOnTop,h;for(n.dataset&&n.dataset.draw(r,s,l,c),h=l;h<l+c;++h){let u=o[h];u.hidden||(u.active&&d?a.push(u):u.draw(r,s))}for(h=0;h<a.length;++h)a[h].draw(r,s)}getStyle(r,i){let n=i?"active":"default";return r===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(r||0,n)}getContext(r,i,n){let o=this.getDataset(),s;if(r>=0&&r<this._cachedMeta.data.length){let a=this._cachedMeta.data[r];s=a.$context||(a.$context=Zft(this.getContext(),r,a)),s.parsed=this.getParsed(r),s.raw=o.data[r],s.index=s.dataIndex=r}else s=this.$context||(this.$context=Xft(this.chart.getContext(),this.index)),s.dataset=o,s.index=s.datasetIndex=this.index;return s.active=!!i,s.mode=n,s}resolveDatasetElementOptions(r){return this._resolveElementOptions(this.datasetElementType.id,r)}resolveDataElementOptions(r,i){return this._resolveElementOptions(this.dataElementType.id,i,r)}_resolveElementOptions(r,i="default",n){let o=i==="active",s=this._cachedDataOpts,a=r+"-"+i,l=s[a],c=this.enableOptionSharing&&Rv(n);if(l)return OU(l,c);let d=this.chart.config,h=d.datasetElementScopeKeys(this._type,r),u=o?[`${r}Hover`,"hover",r,""]:[r,""],f=d.getOptionScopes(this.getDataset(),h),m=Object.keys(uo.elements[r]),g=()=>this.getContext(n,o,i),p=d.resolveNamedOptions(f,m,g,u);return p.$shared&&(p.$shared=c,s[a]=Object.freeze(OU(p,c))),p}_resolveAnimations(r,i,n){let o=this.chart,s=this._cachedDataOpts,a=`animation-${i}`,l=s[a];if(l)return l;let c;if(o.options.animation!==!1){let h=this.chart.config,u=h.datasetAnimationScopeKeys(this._type,i),f=h.getOptionScopes(this.getDataset(),u);c=h.createResolver(f,this.getContext(r,n,i))}let d=new A5(o,c&&c.animations);return c&&c._cacheable&&(s[a]=Object.freeze(d)),d}getSharedOptions(r){if(r.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},r))}includeOptions(r,i){return!i||fP(r)||this.chart._animationsDisabled}_getSharedOptions(r,i){let n=this.resolveDataElementOptions(r,i),o=this._sharedOptions,s=this.getSharedOptions(n),a=this.includeOptions(i,s)||s!==o;return this.updateSharedOptions(s,i,n),{sharedOptions:s,includeOptions:a}}updateElement(r,i,n,o){fP(o)?Object.assign(r,n):this._resolveAnimations(i,o).update(r,n)}updateSharedOptions(r,i,n){r&&!fP(i)&&this._resolveAnimations(void 0,i).update(r,n)}_setStyle(r,i,n,o){r.active=o;let s=this.getStyle(i,o);this._resolveAnimations(i,n,o).update(r,{options:!o&&this.getSharedOptions(s)||s})}removeHoverStyle(r,i,n){this._setStyle(r,n,"active",!1)}setHoverStyle(r,i,n){this._setStyle(r,n,"active",!0)}_removeDatasetHoverStyle(){let r=this._cachedMeta.dataset;r&&this._setStyle(r,void 0,"active",!1)}_setDatasetHoverStyle(){let r=this._cachedMeta.dataset;r&&this._setStyle(r,void 0,"active",!0)}_resyncElements(r){let i=this._data,n=this._cachedMeta.data;for(let[l,c,d]of this._syncList)this[l](c,d);this._syncList=[];let o=n.length,s=i.length,a=Math.min(s,o);a&&this.parse(0,a),s>o?this._insertElements(o,s-o,r):s<o&&this._removeElements(s,o-s)}_insertElements(r,i,n=!0){let o=this._cachedMeta,s=o.data,a=r+i,l,c=d=>{for(d.length+=i,l=d.length-1;l>=a;l--)d[l]=d[l-i]};for(c(s),l=r;l<a;++l)s[l]=new this.dataElementType;this._parsing&&c(o._parsed),this.parse(r,i),n&&this.updateElements(s,r,i,"reset")}updateElements(r,i,n,o){}_removeElements(r,i){let n=this._cachedMeta;if(this._parsing){let o=n._parsed.splice(r,i);n._stacked&&Z1(n,o)}n.data.splice(r,i)}_sync(r){if(this._parsing)this._syncList.push(r);else{let[i,n,o]=r;this[i](n,o)}this.chart._dataChanges.push([this.index,...r])}_onDataPush(){let r=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-r,r])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(r,i){i&&this._sync(["_removeElements",r,i]);let n=arguments.length-2;n&&this._sync(["_insertElements",r,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return e})();function Jft(e,t){if(!e._cache.$bar){let r=e.getMatchingVisibleMetas(t),i=[];for(let n=0,o=r.length;n<o;n++)i=i.concat(r[n].controller.getAllParsedValues(e));e._cache.$bar=$4(i.sort((n,o)=>n-o))}return e._cache.$bar}function tmt(e){let t=e.iScale,r=Jft(t,e.type),i=t._length,n,o,s,a,l=()=>{s===32767||s===-32768||(Rv(a)&&(i=Math.min(i,Math.abs(s-a)||i)),a=s)};for(n=0,o=r.length;n<o;++n)s=t.getPixelForValue(r[n]),l();for(a=void 0,n=0,o=t.ticks.length;n<o;++n)s=t.getPixelForTick(n),l();return i}function emt(e,t,r,i){let n=r.barThickness,o,s;return Xr(n)?(o=t.min*r.categoryPercentage,s=r.barPercentage):(o=n*i,s=1),{chunk:o/i,ratio:s,start:t.pixels[e]-o/2}}function imt(e,t,r,i){let n=t.pixels,o=n[e],s=e>0?n[e-1]:null,a=e<n.length-1?n[e+1]:null,l=r.categoryPercentage;s===null&&(s=o-(a===null?t.end-t.start:a-o)),a===null&&(a=o+o-s);let c=o-(o-Math.min(s,a))/2*l;return{chunk:Math.abs(a-s)/2*l/i,ratio:r.barPercentage,start:c}}function rmt(e,t,r,i){let n=r.parse(e[0],i),o=r.parse(e[1],i),s=Math.min(n,o),a=Math.max(n,o),l=s,c=a;Math.abs(s)>Math.abs(a)&&(l=a,c=s),t[r.axis]=c,t._custom={barStart:l,barEnd:c,start:n,end:o,min:s,max:a}}function AW(e,t,r,i){return eo(e)?rmt(e,t,r,i):t[r.axis]=r.parse(e,i),t}function PU(e,t,r,i){let n=e.iScale,o=e.vScale,s=n.getLabels(),a=n===o,l=[],c,d,h,u;for(c=r,d=r+i;c<d;++c)u=t[c],h={},h[n.axis]=a||n.parse(s[c],c),l.push(AW(u,h,o,c));return l}function mP(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function nmt(e,t,r){return e!==0?_d(e):(t.isHorizontal()?1:-1)*(t.min>=r?1:-1)}function omt(e){let t,r,i,n,o;return e.horizontal?(t=e.base>e.x,r="left",i="right"):(t=e.base<e.y,r="bottom",i="top"),t?(n="end",o="start"):(n="start",o="end"),{start:r,end:i,reverse:t,top:n,bottom:o}}function smt(e,t,r,i){let n=t.borderSkipped,o={};if(!n){e.borderSkipped=o;return}if(n===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:s,end:a,reverse:l,top:c,bottom:d}=omt(e);n==="middle"&&r&&(e.enableBorderRadius=!0,(r._top||0)===i?n=c:(r._bottom||0)===i?n=d:(o[NU(d,s,a,l)]=!0,n=c)),o[NU(n,s,a,l)]=!0,e.borderSkipped=o}function NU(e,t,r,i){return i?(e=amt(e,t,r),e=LU(e,r,t)):e=LU(e,t,r),e}function amt(e,t,r){return e===t?r:e===r?t:e}function LU(e,t,r){return e==="start"?t:e==="end"?r:e}function lmt(e,{inflateAmount:t},r){e.inflateAmount=t==="auto"?r===1?.33:0:t}var cmt=(()=>{class e extends Om{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(r,i,n,o){return PU(r,i,n,o)}parseArrayData(r,i,n,o){return PU(r,i,n,o)}parseObjectData(r,i,n,o){let{iScale:s,vScale:a}=r,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=s.axis==="x"?l:c,h=a.axis==="x"?l:c,u=[],f,m,g,p;for(f=n,m=n+o;f<m;++f)p=i[f],g={},g[s.axis]=s.parse(tf(p,d),f),u.push(AW(tf(p,h),g,a,f));return u}updateRangeFromParsed(r,i,n,o){super.updateRangeFromParsed(r,i,n,o);let s=n._custom;s&&i===this._cachedMeta.vScale&&(r.min=Math.min(r.min,s.min),r.max=Math.max(r.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(r){let i=this._cachedMeta,{iScale:n,vScale:o}=i,s=this.getParsed(r),a=s._custom,l=mP(a)?"["+a.start+", "+a.end+"]":""+o.getLabelForValue(s[o.axis]);return{label:""+n.getLabelForValue(s[n.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();let r=this._cachedMeta;r.stack=this.getDataset().stack}update(r){let i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,r)}updateElements(r,i,n,o){let s=o==="reset",{index:a,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),d=l.isHorizontal(),h=this._getRuler(),{sharedOptions:u,includeOptions:f}=this._getSharedOptions(i,o);for(let m=i;m<i+n;m++){let g=this.getParsed(m),p=s||Xr(g[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(m),b=this._calculateBarIndexPixels(m,h),_=(g._stacks||{})[l.axis],E={horizontal:d,base:p.base,enableBorderRadius:!_||mP(g._custom)||a===_._top||a===_._bottom,x:d?p.head:b.center,y:d?b.center:p.head,height:d?b.size:Math.abs(p.size),width:d?Math.abs(p.size):b.size};f&&(E.options=u||this.resolveDataElementOptions(m,r[m].active?"active":o));let O=E.options||r[m].options;smt(E,O,_,a),lmt(E,O,h.ratio),this.updateElement(r[m],m,E,o)}}_getStacks(r,i){let{iScale:n}=this._cachedMeta,o=n.getMatchingVisibleMetas(this._type).filter(c=>c.controller.options.grouped),s=n.options.stacked,a=[],l=c=>{let d=c.controller.getParsed(i),h=d&&d[c.vScale.axis];if(Xr(h)||isNaN(h))return!0};for(let c of o)if(!(i!==void 0&&l(c))&&((s===!1||a.indexOf(c.stack)===-1||s===void 0&&c.stack===void 0)&&a.push(c.stack),c.index===r))break;return a.length||a.push(void 0),a}_getStackCount(r){return this._getStacks(void 0,r).length}_getStackIndex(r,i,n){let o=this._getStacks(r,n),s=i!==void 0?o.indexOf(i):-1;return s===-1?o.length-1:s}_getRuler(){let r=this.options,i=this._cachedMeta,n=i.iScale,o=[],s,a;for(s=0,a=i.data.length;s<a;++s)o.push(n.getPixelForValue(this.getParsed(s)[n.axis],s));let l=r.barThickness;return{min:l||tmt(i),pixels:o,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:r.grouped,ratio:l?1:r.categoryPercentage*r.barPercentage}}_calculateBarValuePixels(r){let{_cachedMeta:{vScale:i,_stacked:n,index:o},options:{base:s,minBarLength:a}}=this,l=s||0,c=this.getParsed(r),d=c._custom,h=mP(d),u=c[i.axis],f=0,m=n?this.applyStack(i,c,n):u,g,p;m!==u&&(f=m-u,m=u),h&&(u=d.barStart,m=d.barEnd-d.barStart,u!==0&&_d(u)!==_d(d.barEnd)&&(f=0),f+=u);let b=!Xr(s)&&!h?s:f,_=i.getPixelForValue(b);if(this.chart.getDataVisibility(r)?g=i.getPixelForValue(f+m):g=_,p=g-_,Math.abs(p)<a){p=nmt(p,i,l)*a,u===l&&(_-=p/2);let E=i.getPixelForDecimal(0),O=i.getPixelForDecimal(1),V=Math.min(E,O),H=Math.max(E,O);_=Math.max(Math.min(_,H),V),g=_+p,n&&!h&&(c._stacks[i.axis]._visualValues[o]=i.getValueForPixel(g)-i.getValueForPixel(_))}if(_===i.getPixelForValue(l)){let E=_d(p)*i.getLineWidthForValue(l)/2;_+=E,p-=E}return{size:p,base:_,head:g,center:g+p/2}}_calculateBarIndexPixels(r,i){let n=i.scale,o=this.options,s=o.skipNull,a=pr(o.maxBarThickness,1/0),l,c;if(i.grouped){let d=s?this._getStackCount(r):i.stackCount,h=o.barThickness==="flex"?imt(r,i,o,d):emt(r,i,o,d),u=this._getStackIndex(this.index,this._cachedMeta.stack,s?r:void 0);l=h.start+h.chunk*u+h.chunk/2,c=Math.min(a,h.chunk*h.ratio)}else l=n.getPixelForValue(this.getParsed(r)[n.axis],r),c=Math.min(a,i.min*i.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){let r=this._cachedMeta,i=r.vScale,n=r.data,o=n.length,s=0;for(;s<o;++s)this.getParsed(s)[i.axis]!==null&&!n[s].hidden&&n[s].draw(this._ctx)}}return e})(),dmt=(()=>{class e extends Om{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(r,i,n,o){let s=super.parsePrimitiveData(r,i,n,o);for(let a=0;a<s.length;a++)s[a]._custom=this.resolveDataElementOptions(a+n).radius;return s}parseArrayData(r,i,n,o){let s=super.parseArrayData(r,i,n,o);for(let a=0;a<s.length;a++){let l=i[n+a];s[a]._custom=pr(l[2],this.resolveDataElementOptions(a+n).radius)}return s}parseObjectData(r,i,n,o){let s=super.parseObjectData(r,i,n,o);for(let a=0;a<s.length;a++){let l=i[n+a];s[a]._custom=pr(l&&l.r&&+l.r,this.resolveDataElementOptions(a+n).radius)}return s}getMaxOverflow(){let r=this._cachedMeta.data,i=0;for(let n=r.length-1;n>=0;--n)i=Math.max(i,r[n].size(this.resolveDataElementOptions(n))/2);return i>0&&i}getLabelAndValue(r){let i=this._cachedMeta,n=this.chart.data.labels||[],{xScale:o,yScale:s}=i,a=this.getParsed(r),l=o.getLabelForValue(a.x),c=s.getLabelForValue(a.y),d=a._custom;return{label:n[r]||"",value:"("+l+", "+c+(d?", "+d:"")+")"}}update(r){let i=this._cachedMeta.data;this.updateElements(i,0,i.length,r)}updateElements(r,i,n,o){let s=o==="reset",{iScale:a,vScale:l}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(i,o),h=a.axis,u=l.axis;for(let f=i;f<i+n;f++){let m=r[f],g=!s&&this.getParsed(f),p={},b=p[h]=s?a.getPixelForDecimal(.5):a.getPixelForValue(g[h]),_=p[u]=s?l.getBasePixel():l.getPixelForValue(g[u]);p.skip=isNaN(b)||isNaN(_),d&&(p.options=c||this.resolveDataElementOptions(f,m.active?"active":o),s&&(p.options.radius=0)),this.updateElement(m,f,p,o)}}resolveDataElementOptions(r,i){let n=this.getParsed(r),o=super.resolveDataElementOptions(r,i);o.$shared&&(o=Object.assign({},o,{$shared:!1}));let s=o.radius;return i!=="active"&&(o.radius=0),o.radius+=pr(n&&n._custom,s),o}}return e})();function hmt(e,t,r){let i=1,n=1,o=0,s=0;if(t<ro){let a=e,l=a+t,c=Math.cos(a),d=Math.sin(a),h=Math.cos(l),u=Math.sin(l),f=(E,O,V)=>Mv(E,a,l,!0)?1:Math.max(O,O*r,V,V*r),m=(E,O,V)=>Mv(E,a,l,!0)?-1:Math.min(O,O*r,V,V*r),g=f(0,c,h),p=f(Bo,d,u),b=m(io,c,h),_=m(io+Bo,d,u);i=(g-b)/2,n=(p-_)/2,o=-(g+b)/2,s=-(p+_)/2}return{ratioX:i,ratioY:n,offsetX:o,offsetY:s}}var zP=(()=>{class e extends Om{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:r=>r!=="spacing",_indexable:r=>r!=="spacing"&&!r.startsWith("borderDash")&&!r.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(r){let i=r.data;if(i.labels.length&&i.datasets.length){let{labels:{pointStyle:n,color:o}}=r.legend.options;return i.labels.map((s,a)=>{let c=r.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:o,lineWidth:c.borderWidth,pointStyle:n,hidden:!r.getDataVisibility(a),index:a}})}return[]}},onClick(r,i,n){n.chart.toggleDataVisibility(i.index),n.chart.update()}}}};constructor(r,i){super(r,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(r,i){let n=this.getDataset().data,o=this._cachedMeta;if(this._parsing===!1)o._parsed=n;else{let s=c=>+n[c];if(Br(n[r])){let{key:c="value"}=this._parsing;s=d=>+tf(n[d],c)}let a,l;for(a=r,l=r+i;a<l;++a)o._parsed[a]=s(a)}}_getRotation(){return Mc(this.options.rotation-90)}_getCircumference(){return Mc(this.options.circumference)}_getRotationExtents(){let r=ro,i=-ro;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){let o=this.chart.getDatasetMeta(n).controller,s=o._getRotation(),a=o._getCircumference();r=Math.min(r,s),i=Math.max(i,s+a)}return{rotation:r,circumference:i-r}}update(r){let i=this.chart,{chartArea:n}=i,o=this._cachedMeta,s=o.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,l=Math.max((Math.min(n.width,n.height)-a)/2,0),c=Math.min(Jz(this.options.cutout,l),1),d=this._getRingWeight(this.index),{circumference:h,rotation:u}=this._getRotationExtents(),{ratioX:f,ratioY:m,offsetX:g,offsetY:p}=hmt(u,h,c),b=(n.width-a)/f,_=(n.height-a)/m,E=Math.max(Math.min(b,_)/2,0),O=B4(this.options.radius,E),V=Math.max(O*c,0),H=(O-V)/this._getVisibleDatasetWeightTotal();this.offsetX=g*O,this.offsetY=p*O,o.total=this.calculateTotal(),this.outerRadius=O-H*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-H*d,0),this.updateElements(s,0,s.length,r)}_circumference(r,i){let n=this.options,o=this._cachedMeta,s=this._getCircumference();return i&&n.animation.animateRotate||!this.chart.getDataVisibility(r)||o._parsed[r]===null||o.data[r].hidden?0:this.calculateCircumference(o._parsed[r]*s/ro)}updateElements(r,i,n,o){let s=o==="reset",a=this.chart,l=a.chartArea,d=a.options.animation,h=(l.left+l.right)/2,u=(l.top+l.bottom)/2,f=s&&d.animateScale,m=f?0:this.innerRadius,g=f?0:this.outerRadius,{sharedOptions:p,includeOptions:b}=this._getSharedOptions(i,o),_=this._getRotation(),E;for(E=0;E<i;++E)_+=this._circumference(E,s);for(E=i;E<i+n;++E){let O=this._circumference(E,s),V=r[E],H={x:h+this.offsetX,y:u+this.offsetY,startAngle:_,endAngle:_+O,circumference:O,outerRadius:g,innerRadius:m};b&&(H.options=p||this.resolveDataElementOptions(E,V.active?"active":o)),_+=O,this.updateElement(V,E,H,o)}}calculateTotal(){let r=this._cachedMeta,i=r.data,n=0,o;for(o=0;o<i.length;o++){let s=r._parsed[o];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(o)&&!i[o].hidden&&(n+=Math.abs(s))}return n}calculateCircumference(r){let i=this._cachedMeta.total;return i>0&&!isNaN(r)?ro*(Math.abs(r)/i):0}getLabelAndValue(r){let i=this._cachedMeta,n=this.chart,o=n.data.labels||[],s=Av(i._parsed[r],n.options.locale);return{label:o[r]||"",value:s}}getMaxBorderWidth(r){let i=0,n=this.chart,o,s,a,l,c;if(!r){for(o=0,s=n.data.datasets.length;o<s;++o)if(n.isDatasetVisible(o)){a=n.getDatasetMeta(o),r=a.data,l=a.controller;break}}if(!r)return 0;for(o=0,s=r.length;o<s;++o)c=l.resolveDataElementOptions(o),c.borderAlign!=="inner"&&(i=Math.max(i,c.borderWidth||0,c.hoverBorderWidth||0));return i}getMaxOffset(r){let i=0;for(let n=0,o=r.length;n<o;++n){let s=this.resolveDataElementOptions(n);i=Math.max(i,s.offset||0,s.hoverOffset||0)}return i}_getRingWeightOffset(r){let i=0;for(let n=0;n<r;++n)this.chart.isDatasetVisible(n)&&(i+=this._getRingWeight(n));return i}_getRingWeight(r){return Math.max(pr(this.chart.data.datasets[r].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return e})(),umt=(()=>{class e extends Om{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(r){let i=this._cachedMeta,{dataset:n,data:o=[],_dataset:s}=i,a=this.chart._animationsDisabled,{start:l,count:c}=K4(i,o,a);this._drawStart=l,this._drawCount=c,X4(i)&&(l=0,c=o.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!s._decimated,n.points=o;let d=this.resolveDatasetElementOptions(r);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(n,void 0,{animated:!a,options:d},r),this.updateElements(o,l,c,r)}updateElements(r,i,n,o){let s=o==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:d}=this._cachedMeta,{sharedOptions:h,includeOptions:u}=this._getSharedOptions(i,o),f=a.axis,m=l.axis,{spanGaps:g,segment:p}=this.options,b=$g(g)?g:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||s||o==="none",E=i+n,O=r.length,V=i>0&&this.getParsed(i-1);for(let H=0;H<O;++H){let F=r[H],L=_?F:{};if(H<i||H>=E){L.skip=!0;continue}let q=this.getParsed(H),W=Xr(q[m]),x=L[f]=a.getPixelForValue(q[f],H),R=L[m]=s||W?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,q,c):q[m],H);L.skip=isNaN(x)||isNaN(R)||W,L.stop=H>0&&Math.abs(q[f]-V[f])>b,p&&(L.parsed=q,L.raw=d.data[H]),u&&(L.options=h||this.resolveDataElementOptions(H,F.active?"active":o)),_||this.updateElement(F,H,L,o),V=q}}getMaxOverflow(){let r=this._cachedMeta,i=r.dataset,n=i.options&&i.options.borderWidth||0,o=r.data||[];if(!o.length)return n;let s=o[0].size(this.resolveDataElementOptions(0)),a=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(n,s,a)/2}draw(){let r=this._cachedMeta;r.dataset.updateControlPoints(this.chart.chartArea,r.iScale.axis),super.draw()}}return e})(),IW=(()=>{class e extends Om{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(r){let i=r.data;if(i.labels.length&&i.datasets.length){let{labels:{pointStyle:n,color:o}}=r.legend.options;return i.labels.map((s,a)=>{let c=r.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:o,lineWidth:c.borderWidth,pointStyle:n,hidden:!r.getDataVisibility(a),index:a}})}return[]}},onClick(r,i,n){n.chart.toggleDataVisibility(i.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(r,i){super(r,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(r){let i=this._cachedMeta,n=this.chart,o=n.data.labels||[],s=Av(i._parsed[r].r,n.options.locale);return{label:o[r]||"",value:s}}parseObjectData(r,i,n,o){return oP.bind(this)(r,i,n,o)}update(r){let i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,r)}getMinMax(){let r=this._cachedMeta,i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return r.data.forEach((n,o)=>{let s=this.getParsed(o).r;!isNaN(s)&&this.chart.getDataVisibility(o)&&(s<i.min&&(i.min=s),s>i.max&&(i.max=s))}),i}_updateRadius(){let r=this.chart,i=r.chartArea,n=r.options,o=Math.min(i.right-i.left,i.bottom-i.top),s=Math.max(o/2,0),a=Math.max(n.cutoutPercentage?s/100*n.cutoutPercentage:1,0),l=(s-a)/r.getVisibleDatasetCount();this.outerRadius=s-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(r,i,n,o){let s=o==="reset",a=this.chart,c=a.options.animation,d=this._cachedMeta.rScale,h=d.xCenter,u=d.yCenter,f=d.getIndexAngle(0)-.5*io,m=f,g,p=360/this.countVisibleElements();for(g=0;g<i;++g)m+=this._computeAngle(g,o,p);for(g=i;g<i+n;g++){let b=r[g],_=m,E=m+this._computeAngle(g,o,p),O=a.getDataVisibility(g)?d.getDistanceFromCenterForValue(this.getParsed(g).r):0;m=E,s&&(c.animateScale&&(O=0),c.animateRotate&&(_=E=f));let V={x:h,y:u,innerRadius:0,outerRadius:O,startAngle:_,endAngle:E,options:this.resolveDataElementOptions(g,b.active?"active":o)};this.updateElement(b,g,V,o)}}countVisibleElements(){let r=this._cachedMeta,i=0;return r.data.forEach((n,o)=>{!isNaN(this.getParsed(o).r)&&this.chart.getDataVisibility(o)&&i++}),i}_computeAngle(r,i,n){return this.chart.getDataVisibility(r)?Mc(this.resolveDataElementOptions(r,i).angle||n):0}}return e})(),fmt=(()=>{class e extends zP{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}return e})(),mmt=(()=>{class e extends Om{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(r){let i=this._cachedMeta.vScale,n=this.getParsed(r);return{label:i.getLabels()[r],value:""+i.getLabelForValue(n[i.axis])}}parseObjectData(r,i,n,o){return oP.bind(this)(r,i,n,o)}update(r){let i=this._cachedMeta,n=i.dataset,o=i.data||[],s=i.iScale.getLabels();if(n.points=o,r!=="resize"){let a=this.resolveDatasetElementOptions(r);this.options.showLine||(a.borderWidth=0);let l={_loop:!0,_fullLoop:s.length===o.length,options:a};this.updateElement(n,void 0,l,r)}this.updateElements(o,0,o.length,r)}updateElements(r,i,n,o){let s=this._cachedMeta.rScale,a=o==="reset";for(let l=i;l<i+n;l++){let c=r[l],d=this.resolveDataElementOptions(l,c.active?"active":o),h=s.getPointPositionForValue(l,this.getParsed(l).r),u=a?s.xCenter:h.x,f=a?s.yCenter:h.y,m={x:u,y:f,angle:h.angle,skip:isNaN(u)||isNaN(f),options:d};this.updateElement(c,l,m,o)}}}return e})(),pmt=(()=>{class e extends Om{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(r){let i=this._cachedMeta,n=this.chart.data.labels||[],{xScale:o,yScale:s}=i,a=this.getParsed(r),l=o.getLabelForValue(a.x),c=s.getLabelForValue(a.y);return{label:n[r]||"",value:"("+l+", "+c+")"}}update(r){let i=this._cachedMeta,{data:n=[]}=i,o=this.chart._animationsDisabled,{start:s,count:a}=K4(i,n,o);if(this._drawStart=s,this._drawCount=a,X4(i)&&(s=0,a=n.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:l,_dataset:c}=i;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!c._decimated,l.points=n;let d=this.resolveDatasetElementOptions(r);d.segment=this.options.segment,this.updateElement(l,void 0,{animated:!o,options:d},r)}else this.datasetElementType&&(delete i.dataset,this.datasetElementType=!1);this.updateElements(n,s,a,r)}addElements(){let{showLine:r}=this.options;!this.datasetElementType&&r&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(r,i,n,o){let s=o==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:d}=this._cachedMeta,h=this.resolveDataElementOptions(i,o),u=this.getSharedOptions(h),f=this.includeOptions(o,u),m=a.axis,g=l.axis,{spanGaps:p,segment:b}=this.options,_=$g(p)?p:Number.POSITIVE_INFINITY,E=this.chart._animationsDisabled||s||o==="none",O=i>0&&this.getParsed(i-1);for(let V=i;V<i+n;++V){let H=r[V],F=this.getParsed(V),L=E?H:{},q=Xr(F[g]),W=L[m]=a.getPixelForValue(F[m],V),x=L[g]=s||q?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,F,c):F[g],V);L.skip=isNaN(W)||isNaN(x)||q,L.stop=V>0&&Math.abs(F[m]-O[m])>_,b&&(L.parsed=F,L.raw=d.data[V]),f&&(L.options=u||this.resolveDataElementOptions(V,H.active?"active":o)),E||this.updateElement(H,V,L,o),O=F}this.updateSharedOptions(u,o,h)}getMaxOverflow(){let r=this._cachedMeta,i=r.data||[];if(!this.options.showLine){let l=0;for(let c=i.length-1;c>=0;--c)l=Math.max(l,i[c].size(this.resolveDataElementOptions(c))/2);return l>0&&l}let n=r.dataset,o=n.options&&n.options.borderWidth||0;if(!i.length)return o;let s=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(o,s,a)/2}}return e})(),gmt=Object.freeze({__proto__:null,BarController:cmt,BubbleController:dmt,DoughnutController:zP,LineController:umt,PieController:fmt,PolarAreaController:IW,RadarController:mmt,ScatterController:pmt});function Gg(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var xP=class e{static override(t){Object.assign(e.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Gg()}parse(){return Gg()}format(){return Gg()}add(){return Gg()}diff(){return Gg()}startOf(){return Gg()}endOf(){return Gg()}},bmt={_date:xP};function vmt(e,t,r,i){let{controller:n,data:o,_sorted:s}=e,a=n._cachedMeta.iScale;if(a&&t===a.axis&&t!=="r"&&s&&o.length){let l=a._reversePixels?oU:Ah;if(i){if(n._sharedOptions){let c=o[0],d=typeof c.getRange=="function"&&c.getRange(t);if(d){let h=l(o,t,r-d),u=l(o,t,r+d);return{lo:h.lo,hi:u.hi}}}}else return l(o,t,r)}return{lo:0,hi:o.length-1}}function aC(e,t,r,i,n){let o=e.getSortedVisibleDatasetMetas(),s=r[t];for(let a=0,l=o.length;a<l;++a){let{index:c,data:d}=o[a],{lo:h,hi:u}=vmt(o[a],t,s,n);for(let f=h;f<=u;++f){let m=d[f];m.skip||i(m,c,f)}}}function ymt(e){let t=e.indexOf("x")!==-1,r=e.indexOf("y")!==-1;return function(i,n){let o=t?Math.abs(i.x-n.x):0,s=r?Math.abs(i.y-n.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(s,2))}}function pP(e,t,r,i,n){let o=[];return!n&&!e.isPointInArea(t)||aC(e,r,t,function(a,l,c){!n&&!Ih(a,e.chartArea,0)||a.inRange(t.x,t.y,i)&&o.push({element:a,datasetIndex:l,index:c})},!0),o}function _mt(e,t,r,i){let n=[];function o(s,a,l){let{startAngle:c,endAngle:d}=s.getProps(["startAngle","endAngle"],i),{angle:h}=W4(s,{x:t.x,y:t.y});Mv(h,c,d)&&n.push({element:s,datasetIndex:a,index:l})}return aC(e,r,t,o),n}function wmt(e,t,r,i,n,o){let s=[],a=ymt(r),l=Number.POSITIVE_INFINITY;function c(d,h,u){let f=d.inRange(t.x,t.y,n);if(i&&!f)return;let m=d.getCenterPoint(n);if(!(!!o||e.isPointInArea(m))&&!f)return;let p=a(t,m);p<l?(s=[{element:d,datasetIndex:h,index:u}],l=p):p===l&&s.push({element:d,datasetIndex:h,index:u})}return aC(e,r,t,c),s}function gP(e,t,r,i,n,o){return!o&&!e.isPointInArea(t)?[]:r==="r"&&!i?_mt(e,t,r,n):wmt(e,t,r,i,n,o)}function FU(e,t,r,i,n){let o=[],s=r==="x"?"inXRange":"inYRange",a=!1;return aC(e,r,t,(l,c,d)=>{l[s](t[r],n)&&(o.push({element:l,datasetIndex:c,index:d}),a=a||l.inRange(t.x,t.y,n))}),i&&!a?[]:o}var Cmt={evaluateInteractionItems:aC,modes:{index(e,t,r,i){let n=km(t,e),o=r.axis||"x",s=r.includeInvisible||!1,a=r.intersect?pP(e,n,o,i,s):gP(e,n,o,!1,i,s),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(c=>{let d=a[0].index,h=c.data[d];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:d})}),l):[]},dataset(e,t,r,i){let n=km(t,e),o=r.axis||"xy",s=r.includeInvisible||!1,a=r.intersect?pP(e,n,o,i,s):gP(e,n,o,!1,i,s);if(a.length>0){let l=a[0].datasetIndex,c=e.getDatasetMeta(l).data;a=[];for(let d=0;d<c.length;++d)a.push({element:c[d],datasetIndex:l,index:d})}return a},point(e,t,r,i){let n=km(t,e),o=r.axis||"xy",s=r.includeInvisible||!1;return pP(e,n,o,i,s)},nearest(e,t,r,i){let n=km(t,e),o=r.axis||"xy",s=r.includeInvisible||!1;return gP(e,n,o,r.intersect,i,s)},x(e,t,r,i){let n=km(t,e);return FU(e,n,"x",r.intersect,i)},y(e,t,r,i){let n=km(t,e);return FU(e,n,"y",r.intersect,i)}}},kW=["left","top","right","bottom"];function Q1(e,t){return e.filter(r=>r.pos===t)}function HU(e,t){return e.filter(r=>kW.indexOf(r.pos)===-1&&r.box.axis===t)}function J1(e,t){return e.sort((r,i)=>{let n=t?i:r,o=t?r:i;return n.weight===o.weight?n.index-o.index:n.weight-o.weight})}function xmt(e){let t=[],r,i,n,o,s,a;for(r=0,i=(e||[]).length;r<i;++r)n=e[r],{position:o,options:{stack:s,stackWeight:a=1}}=n,t.push({index:r,box:n,pos:o,horizontal:n.isHorizontal(),weight:n.weight,stack:s&&o+s,stackWeight:a});return t}function Smt(e){let t={};for(let r of e){let{stack:i,pos:n,stackWeight:o}=r;if(!i||!kW.includes(n))continue;let s=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=o}return t}function Emt(e,t){let r=Smt(e),{vBoxMaxWidth:i,hBoxMaxHeight:n}=t,o,s,a;for(o=0,s=e.length;o<s;++o){a=e[o];let{fullSize:l}=a.box,c=r[a.stack],d=c&&a.stackWeight/c.weight;a.horizontal?(a.width=d?d*i:l&&t.availableWidth,a.height=n):(a.width=i,a.height=d?d*n:l&&t.availableHeight)}return r}function Rmt(e){let t=xmt(e),r=J1(t.filter(c=>c.box.fullSize),!0),i=J1(Q1(t,"left"),!0),n=J1(Q1(t,"right")),o=J1(Q1(t,"top"),!0),s=J1(Q1(t,"bottom")),a=HU(t,"x"),l=HU(t,"y");return{fullSize:r,leftAndTop:i.concat(o),rightAndBottom:n.concat(l).concat(s).concat(a),chartArea:Q1(t,"chartArea"),vertical:i.concat(n).concat(l),horizontal:o.concat(s).concat(a)}}function BU(e,t,r,i){return Math.max(e[r],t[r])+Math.max(e[i],t[i])}function DW(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function Tmt(e,t,r,i){let{pos:n,box:o}=r,s=e.maxPadding;if(!Br(n)){r.size&&(e[n]-=r.size);let h=i[r.stack]||{size:0,count:1};h.size=Math.max(h.size,r.horizontal?o.height:o.width),r.size=h.size/h.count,e[n]+=r.size}o.getPadding&&DW(s,o.getPadding());let a=Math.max(0,t.outerWidth-BU(s,e,"left","right")),l=Math.max(0,t.outerHeight-BU(s,e,"top","bottom")),c=a!==e.w,d=l!==e.h;return e.w=a,e.h=l,r.horizontal?{same:c,other:d}:{same:d,other:c}}function Mmt(e){let t=e.maxPadding;function r(i){let n=Math.max(t[i]-e[i],0);return e[i]+=n,n}e.y+=r("top"),e.x+=r("left"),r("right"),r("bottom")}function Amt(e,t){let r=t.maxPadding;function i(n){let o={left:0,top:0,right:0,bottom:0};return n.forEach(s=>{o[s]=Math.max(t[s],r[s])}),o}return i(e?["left","right"]:["top","bottom"])}function iC(e,t,r,i){let n=[],o,s,a,l,c,d;for(o=0,s=e.length,c=0;o<s;++o){a=e[o],l=a.box,l.update(a.width||t.w,a.height||t.h,Amt(a.horizontal,t));let{same:h,other:u}=Tmt(t,r,a,i);c|=h&&n.length,d=d||u,l.fullSize||n.push(a)}return c&&iC(n,t,r,i)||d}function _5(e,t,r,i,n){e.top=r,e.left=t,e.right=t+i,e.bottom=r+n,e.width=i,e.height=n}function jU(e,t,r,i){let n=r.padding,{x:o,y:s}=t;for(let a of e){let l=a.box,c=i[a.stack]||{count:1,placed:0,weight:1},d=a.stackWeight/c.weight||1;if(a.horizontal){let h=t.w*d,u=c.size||l.height;Rv(c.start)&&(s=c.start),l.fullSize?_5(l,n.left,s,r.outerWidth-n.right-n.left,u):_5(l,t.left+c.placed,s,h,u),c.start=s,c.placed+=h,s=l.bottom}else{let h=t.h*d,u=c.size||l.width;Rv(c.start)&&(o=c.start),l.fullSize?_5(l,o,n.top,u,r.outerHeight-n.bottom-n.top):_5(l,o,t.top+c.placed,u,h),c.start=o,c.placed+=h,o=l.right}}t.x=o,t.y=s}var va={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(r){t.draw(r)}}]},e.boxes.push(t)},removeBox(e,t){let r=e.boxes?e.boxes.indexOf(t):-1;r!==-1&&e.boxes.splice(r,1)},configure(e,t,r){t.fullSize=r.fullSize,t.position=r.position,t.weight=r.weight},update(e,t,r,i){if(!e)return;let n=ra(e.options.layout.padding),o=Math.max(t-n.width,0),s=Math.max(r-n.height,0),a=Rmt(e.boxes),l=a.vertical,c=a.horizontal;vn(e.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});let d=l.reduce((g,p)=>p.box.options&&p.box.options.display===!1?g:g+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:r,padding:n,availableWidth:o,availableHeight:s,vBoxMaxWidth:o/2/d,hBoxMaxHeight:s/2}),u=Object.assign({},n);DW(u,ra(i));let f=Object.assign({maxPadding:u,w:o,h:s,x:n.left,y:n.top},n),m=Emt(l.concat(c),h);iC(a.fullSize,f,h,m),iC(l,f,h,m),iC(c,f,h,m)&&iC(l,f,h,m),Mmt(f),jU(a.leftAndTop,f,h,m),f.x+=f.w,f.y+=f.h,jU(a.rightAndBottom,f,h,m),e.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},vn(a.chartArea,g=>{let p=g.box;Object.assign(p,e.chartArea),p.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}},I5=class{acquireContext(t,r){}releaseContext(t){return!1}addEventListener(t,r,i){}removeEventListener(t,r,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,r,i,n){return r=Math.max(0,r||t.width),i=i||t.height,{width:r,height:Math.max(0,n?Math.floor(r/n):i)}}isAttached(t){return!0}updateConfig(t){}},SP=class extends I5{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}},T5="$chartjs",Imt={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},VU=e=>e===null||e==="";function kmt(e,t){let r=e.style,i=e.getAttribute("height"),n=e.getAttribute("width");if(e[T5]={initial:{height:i,width:n,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",VU(n)){let o=aP(e,"width");o!==void 0&&(e.width=o)}if(VU(i))if(e.style.height==="")e.height=e.width/(t||2);else{let o=aP(e,"height");o!==void 0&&(e.height=o)}return e}var OW=CU?{passive:!0}:!1;function Dmt(e,t,r){e&&e.addEventListener(t,r,OW)}function Omt(e,t,r){e&&e.canvas&&e.canvas.removeEventListener(t,r,OW)}function Pmt(e,t){let r=Imt[e.type]||e.type,{x:i,y:n}=km(e,t);return{type:r,chart:t,native:e,x:i!==void 0?i:null,y:n!==void 0?n:null}}function k5(e,t){for(let r of e)if(r===t||r.contains(t))return!0}function Nmt(e,t,r){let i=e.canvas,n=new MutationObserver(o=>{let s=!1;for(let a of o)s=s||k5(a.addedNodes,i),s=s&&!k5(a.removedNodes,i);s&&r()});return n.observe(document,{childList:!0,subtree:!0}),n}function Lmt(e,t,r){let i=e.canvas,n=new MutationObserver(o=>{let s=!1;for(let a of o)s=s||k5(a.removedNodes,i),s=s&&!k5(a.addedNodes,i);s&&r()});return n.observe(document,{childList:!0,subtree:!0}),n}var nC=new Map,zU=0;function PW(){let e=window.devicePixelRatio;e!==zU&&(zU=e,nC.forEach((t,r)=>{r.currentDevicePixelRatio!==e&&t()}))}function Fmt(e,t){nC.size||window.addEventListener("resize",PW),nC.set(e,t)}function Hmt(e){nC.delete(e),nC.size||window.removeEventListener("resize",PW)}function Bmt(e,t,r){let i=e.canvas,n=i&&v5(i);if(!n)return;let o=G4((a,l)=>{let c=n.clientWidth;r(a,l),c<n.clientWidth&&r()},window),s=new ResizeObserver(a=>{let l=a[0],c=l.contentRect.width,d=l.contentRect.height;c===0&&d===0||o(c,d)});return s.observe(n),Fmt(e,o),s}function bP(e,t,r){r&&r.disconnect(),t==="resize"&&Hmt(e)}function jmt(e,t,r){let i=e.canvas,n=G4(o=>{e.ctx!==null&&r(Pmt(o,e))},e);return Dmt(i,t,n),n}var EP=class extends I5{acquireContext(t,r){let i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(kmt(t,r),i):null}releaseContext(t){let r=t.canvas;if(!r[T5])return!1;let i=r[T5].initial;["height","width"].forEach(o=>{let s=i[o];Xr(s)?r.removeAttribute(o):r.setAttribute(o,s)});let n=i.style||{};return Object.keys(n).forEach(o=>{r.style[o]=n[o]}),r.width=r.width,delete r[T5],!0}addEventListener(t,r,i){this.removeEventListener(t,r);let n=t.$proxies||(t.$proxies={}),s={attach:Nmt,detach:Lmt,resize:Bmt}[r]||jmt;n[r]=s(t,r,i)}removeEventListener(t,r){let i=t.$proxies||(t.$proxies={}),n=i[r];if(!n)return;({attach:bP,detach:bP,resize:bP}[r]||Omt)(t,r,n),i[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,r,i,n){return wU(t,r,i,n)}isAttached(t){let r=t&&v5(t);return!!(r&&r.isConnected)}};function Vmt(e){return!b5()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?SP:EP}var wd=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){let{x:r,y:i}=this.getProps(["x","y"],t);return{x:r,y:i}}hasValue(){return $g(this.x)&&$g(this.y)}getProps(t,r){let i=this.$animations;if(!r||!i)return this;let n={};return t.forEach(o=>{n[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),n}};function zmt(e,t){let r=e.options.ticks,i=Umt(e),n=Math.min(r.maxTicksLimit||i,i),o=r.major.enabled?Ymt(t):[],s=o.length,a=o[0],l=o[s-1],c=[];if(s>n)return $mt(t,c,o,s/n),c;let d=Wmt(o,t,n);if(s>0){let h,u,f=s>1?Math.round((l-a)/(s-1)):null;for(w5(t,c,d,Xr(f)?0:a-f,a),h=0,u=s-1;h<u;h++)w5(t,c,d,o[h],o[h+1]);return w5(t,c,d,l,Xr(f)?t.length:l+f),c}return w5(t,c,d),c}function Umt(e){let t=e.options.offset,r=e._tickSize(),i=e._length/r+(t?0:1),n=e._maxLength/r;return Math.floor(Math.min(i,n))}function Wmt(e,t,r){let i=qmt(e),n=t.length/r;if(!i)return Math.max(n,1);let o=iU(i);for(let s=0,a=o.length-1;s<a;s++){let l=o[s];if(l>n)return l}return Math.max(n,1)}function Ymt(e){let t=[],r,i;for(r=0,i=e.length;r<i;r++)e[r].major&&t.push(r);return t}function $mt(e,t,r,i){let n=0,o=r[0],s;for(i=Math.ceil(i),s=0;s<e.length;s++)s===o&&(t.push(e[s]),n++,o=r[n*i])}function w5(e,t,r,i,n){let o=pr(i,0),s=Math.min(pr(n,e.length),e.length),a=0,l,c,d;for(r=Math.ceil(r),n&&(l=n-i,r=l/Math.floor(l/r)),d=o;d<0;)a++,d=Math.round(o+a*r);for(c=Math.max(o,0);c<s;c++)c===d&&(t.push(e[c]),a++,d=Math.round(o+a*r))}function qmt(e){let t=e.length,r,i;if(t<2)return!1;for(i=e[0],r=1;r<t;++r)if(e[r]-e[r-1]!==i)return!1;return i}var Gmt=e=>e==="left"?"right":e==="right"?"left":e,UU=(e,t,r)=>t==="top"||t==="left"?e[t]+r:e[t]-r,WU=(e,t)=>Math.min(t||e,e);function YU(e,t){let r=[],i=e.length/t,n=e.length,o=0;for(;o<n;o+=i)r.push(e[Math.floor(o)]);return r}function Kmt(e,t,r){let i=e.ticks.length,n=Math.min(t,i-1),o=e._startPixel,s=e._endPixel,a=1e-6,l=e.getPixelForTick(n),c;if(!(r&&(i===1?c=Math.max(l-o,s-l):t===0?c=(e.getPixelForTick(1)-l)/2:c=(l-e.getPixelForTick(n-1))/2,l+=n<t?c:-c,l<o-a||l>s+a)))return l}function Xmt(e,t){vn(e,r=>{let i=r.gc,n=i.length/2,o;if(n>t){for(o=0;o<n;++o)delete r.data[i[o]];i.splice(0,n)}})}function tC(e){return e.drawTicks?e.tickLength:0}function $U(e,t){if(!e.display)return 0;let r=cs(e.font,t),i=ra(e.padding);return(eo(e.text)?e.text.length:1)*r.lineHeight+i.height}function Zmt(e,t){return ef(e,{scale:t,type:"scale"})}function Qmt(e,t,r){return ef(e,{tick:r,index:t,type:"tick"})}function Jmt(e,t,r){let i=u5(e);return(r&&t!=="right"||!r&&t==="right")&&(i=Gmt(i)),i}function tpt(e,t,r,i){let{top:n,left:o,bottom:s,right:a,chart:l}=e,{chartArea:c,scales:d}=l,h=0,u,f,m,g=s-n,p=a-o;if(e.isHorizontal()){if(f=ia(i,o,a),Br(r)){let b=Object.keys(r)[0],_=r[b];m=d[b].getPixelForValue(_)+g-t}else r==="center"?m=(c.bottom+c.top)/2+g-t:m=UU(e,r,t);u=a-o}else{if(Br(r)){let b=Object.keys(r)[0],_=r[b];f=d[b].getPixelForValue(_)-p+t}else r==="center"?f=(c.left+c.right)/2-p+t:f=UU(e,r,t);m=ia(i,s,n),h=r==="left"?-Bo:Bo}return{titleX:f,titleY:m,maxWidth:u,rotation:h}}var Xg=class e extends wd{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,r){return t}getUserBounds(){let{_userMin:t,_userMax:r,_suggestedMin:i,_suggestedMax:n}=this;return t=ul(t,Number.POSITIVE_INFINITY),r=ul(r,Number.NEGATIVE_INFINITY),i=ul(i,Number.POSITIVE_INFINITY),n=ul(n,Number.NEGATIVE_INFINITY),{min:ul(t,i),max:ul(r,n),minDefined:To(t),maxDefined:To(r)}}getMinMax(t){let{min:r,max:i,minDefined:n,maxDefined:o}=this.getUserBounds(),s;if(n&&o)return{min:r,max:i};let a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)s=a[l].controller.getMinMax(this,t),n||(r=Math.min(r,s.min)),o||(i=Math.max(i,s.max));return r=o&&r>i?i:r,i=n&&r>i?r:i,{min:ul(r,ul(i,r)),max:ul(i,ul(r,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Gn(this.options.beforeUpdate,[this])}update(t,r,i){let{beginAtZero:n,grace:o,ticks:s}=this.options,a=s.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=r,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=pU(this,o,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let l=a<this.ticks.length;this._convertTicksToLabels(l?YU(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||s.source==="auto")&&(this.ticks=zmt(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,r,i;this.isHorizontal()?(r=this.left,i=this.right):(r=this.top,i=this.bottom,t=!t),this._startPixel=r,this._endPixel=i,this._reversePixels=t,this._length=i-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Gn(this.options.afterUpdate,[this])}beforeSetDimensions(){Gn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Gn(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Gn(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Gn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){let r=this.options.ticks,i,n,o;for(i=0,n=t.length;i<n;i++)o=t[i],o.label=Gn(r.callback,[o.value,i,t],this)}afterTickToLabelConversion(){Gn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Gn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let t=this.options,r=t.ticks,i=WU(this.ticks.length,t.ticks.maxTicksLimit),n=r.minRotation||0,o=r.maxRotation,s=n,a,l,c;if(!this._isVisible()||!r.display||n>=o||i<=1||!this.isHorizontal()){this.labelRotation=n;return}let d=this._getLabelSizes(),h=d.widest.width,u=d.highest.height,f=bs(this.chart.width-h,0,this.maxWidth);a=t.offset?this.maxWidth/i:f/(i-1),h+6>a&&(a=f/(i-(t.offset?.5:1)),l=this.maxHeight-tC(t.grid)-r.padding-$U(t.title,this.chart.options.font),c=Math.sqrt(h*h+u*u),s=d5(Math.min(Math.asin(bs((d.highest.height+6)/a,-1,1)),Math.asin(bs(l/c,-1,1))-Math.asin(bs(u/c,-1,1)))),s=Math.max(n,Math.min(o,s))),this.labelRotation=s}afterCalculateLabelRotation(){Gn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Gn(this.options.beforeFit,[this])}fit(){let t={width:0,height:0},{chart:r,options:{ticks:i,title:n,grid:o}}=this,s=this._isVisible(),a=this.isHorizontal();if(s){let l=$U(n,r.options.font);if(a?(t.width=this.maxWidth,t.height=tC(o)+l):(t.height=this.maxHeight,t.width=tC(o)+l),i.display&&this.ticks.length){let{first:c,last:d,widest:h,highest:u}=this._getLabelSizes(),f=i.padding*2,m=Mc(this.labelRotation),g=Math.cos(m),p=Math.sin(m);if(a){let b=i.mirror?0:p*h.width+g*u.height;t.height=Math.min(this.maxHeight,t.height+b+f)}else{let b=i.mirror?0:g*h.width+p*u.height;t.width=Math.min(this.maxWidth,t.width+b+f)}this._calculatePadding(c,d,p,g)}}this._handleMargins(),a?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,r,i,n){let{ticks:{align:o,padding:s},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){let d=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1),u=0,f=0;l?c?(u=n*t.width,f=i*r.height):(u=i*t.height,f=n*r.width):o==="start"?f=r.width:o==="end"?u=t.width:o!=="inner"&&(u=t.width/2,f=r.width/2),this.paddingLeft=Math.max((u-d+s)*this.width/(this.width-d),0),this.paddingRight=Math.max((f-h+s)*this.width/(this.width-h),0)}else{let d=r.height/2,h=t.height/2;o==="start"?(d=0,h=t.height):o==="end"&&(d=r.height,h=0),this.paddingTop=d+s,this.paddingBottom=h+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Gn(this.options.afterFit,[this])}isHorizontal(){let{axis:t,position:r}=this.options;return r==="top"||r==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let r,i;for(r=0,i=t.length;r<i;r++)Xr(t[r].label)&&(t.splice(r,1),i--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){let r=this.options.ticks.sampleSize,i=this.ticks;r<i.length&&(i=YU(i,r)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,r,i){let{ctx:n,_longestTextCache:o}=this,s=[],a=[],l=Math.floor(r/WU(r,i)),c=0,d=0,h,u,f,m,g,p,b,_,E,O,V;for(h=0;h<r;h+=l){if(m=t[h].label,g=this._resolveTickFontOptions(h),n.font=p=g.string,b=o[p]=o[p]||{data:{},gc:[]},_=g.lineHeight,E=O=0,!Xr(m)&&!eo(m))E=$1(n,b.data,b.gc,E,m),O=_;else if(eo(m))for(u=0,f=m.length;u<f;++u)V=m[u],!Xr(V)&&!eo(V)&&(E=$1(n,b.data,b.gc,E,V),O+=_);s.push(E),a.push(O),c=Math.max(E,c),d=Math.max(O,d)}Xmt(o,r);let H=s.indexOf(c),F=a.indexOf(d),L=q=>({width:s[q]||0,height:a[q]||0});return{first:L(0),last:L(r-1),widest:L(H),highest:L(F),widths:s,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,r){return NaN}getValueForPixel(t){}getPixelForTick(t){let r=this.ticks;return t<0||t>r.length-1?null:this.getPixelForValue(r[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);let r=this._startPixel+t*this._length;return nU(this._alignToPixels?Mm(this.chart,r,0):r)}getDecimalForPixel(t){let r=(t-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:t,max:r}=this;return t<0&&r<0?r:t>0&&r>0?t:0}getContext(t){let r=this.ticks||[];if(t>=0&&t<r.length){let i=r[t];return i.$context||(i.$context=Qmt(this.getContext(),t,i))}return this.$context||(this.$context=Zmt(this.chart.getContext(),this))}_tickSize(){let t=this.options.ticks,r=Mc(this.labelRotation),i=Math.abs(Math.cos(r)),n=Math.abs(Math.sin(r)),o=this._getLabelSizes(),s=t.autoSkipPadding||0,a=o?o.widest.width+s:0,l=o?o.highest.height+s:0;return this.isHorizontal()?l*i>a*n?a/i:l/n:l*n<a*i?l/i:a/n}_isVisible(){let t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){let r=this.axis,i=this.chart,n=this.options,{grid:o,position:s,border:a}=n,l=o.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),u=tC(o),f=[],m=a.setContext(this.getContext()),g=m.display?m.width:0,p=g/2,b=function(C){return Mm(i,C,g)},_,E,O,V,H,F,L,q,W,x,R,j;if(s==="top")_=b(this.bottom),F=this.bottom-u,q=_-p,x=b(t.top)+p,j=t.bottom;else if(s==="bottom")_=b(this.top),x=t.top,j=b(t.bottom)-p,F=_+p,q=this.top+u;else if(s==="left")_=b(this.right),H=this.right-u,L=_-p,W=b(t.left)+p,R=t.right;else if(s==="right")_=b(this.left),W=t.left,R=b(t.right)-p,H=_+p,L=this.left+u;else if(r==="x"){if(s==="center")_=b((t.top+t.bottom)/2+.5);else if(Br(s)){let C=Object.keys(s)[0],w=s[C];_=b(this.chart.scales[C].getPixelForValue(w))}x=t.top,j=t.bottom,F=_+p,q=F+u}else if(r==="y"){if(s==="center")_=b((t.left+t.right)/2);else if(Br(s)){let C=Object.keys(s)[0],w=s[C];_=b(this.chart.scales[C].getPixelForValue(w))}H=_-p,L=H-u,W=t.left,R=t.right}let v=pr(n.ticks.maxTicksLimit,h),y=Math.max(1,Math.ceil(h/v));for(E=0;E<h;E+=y){let C=this.getContext(E),w=o.setContext(C),S=a.setContext(C),M=w.lineWidth,U=w.color,N=S.dash||[],T=S.dashOffset,B=w.tickWidth,I=w.tickColor,$=w.tickBorderDash||[],A=w.tickBorderDashOffset;O=Kmt(this,E,l),O!==void 0&&(V=Mm(i,O,M),c?H=L=W=R=V:F=q=x=j=V,f.push({tx1:H,ty1:F,tx2:L,ty2:q,x1:W,y1:x,x2:R,y2:j,width:M,color:U,borderDash:N,borderDashOffset:T,tickWidth:B,tickColor:I,tickBorderDash:$,tickBorderDashOffset:A}))}return this._ticksLength=h,this._borderValue=_,f}_computeLabelItems(t){let r=this.axis,i=this.options,{position:n,ticks:o}=i,s=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:d,mirror:h}=o,u=tC(i.grid),f=u+d,m=h?-d:f,g=-Mc(this.labelRotation),p=[],b,_,E,O,V,H,F,L,q,W,x,R,j="middle";if(n==="top")H=this.bottom-m,F=this._getXAxisLabelAlignment();else if(n==="bottom")H=this.top+m,F=this._getXAxisLabelAlignment();else if(n==="left"){let y=this._getYAxisLabelAlignment(u);F=y.textAlign,V=y.x}else if(n==="right"){let y=this._getYAxisLabelAlignment(u);F=y.textAlign,V=y.x}else if(r==="x"){if(n==="center")H=(t.top+t.bottom)/2+f;else if(Br(n)){let y=Object.keys(n)[0],C=n[y];H=this.chart.scales[y].getPixelForValue(C)+f}F=this._getXAxisLabelAlignment()}else if(r==="y"){if(n==="center")V=(t.left+t.right)/2-f;else if(Br(n)){let y=Object.keys(n)[0],C=n[y];V=this.chart.scales[y].getPixelForValue(C)}F=this._getYAxisLabelAlignment(u).textAlign}r==="y"&&(l==="start"?j="top":l==="end"&&(j="bottom"));let v=this._getLabelSizes();for(b=0,_=a.length;b<_;++b){E=a[b],O=E.label;let y=o.setContext(this.getContext(b));L=this.getPixelForTick(b)+o.labelOffset,q=this._resolveTickFontOptions(b),W=q.lineHeight,x=eo(O)?O.length:1;let C=x/2,w=y.color,S=y.textStrokeColor,M=y.textStrokeWidth,U=F;s?(V=L,F==="inner"&&(b===_-1?U=this.options.reverse?"left":"right":b===0?U=this.options.reverse?"right":"left":U="center"),n==="top"?c==="near"||g!==0?R=-x*W+W/2:c==="center"?R=-v.highest.height/2-C*W+W:R=-v.highest.height+W/2:c==="near"||g!==0?R=W/2:c==="center"?R=v.highest.height/2-C*W:R=v.highest.height-x*W,h&&(R*=-1),g!==0&&!y.showLabelBackdrop&&(V+=W/2*Math.sin(g))):(H=L,R=(1-x)*W/2);let N;if(y.showLabelBackdrop){let T=ra(y.backdropPadding),B=v.heights[b],I=v.widths[b],$=R-T.top,A=0-T.left;switch(j){case"middle":$-=B/2;break;case"bottom":$-=B;break}switch(F){case"center":A-=I/2;break;case"right":A-=I;break;case"inner":b===_-1?A-=I:b>0&&(A-=I/2);break}N={left:A,top:$,width:I+T.width,height:B+T.height,color:y.backdropColor}}p.push({label:O,font:q,textOffset:R,options:{rotation:g,color:w,strokeColor:S,strokeWidth:M,textAlign:U,textBaseline:j,translation:[V,H],backdrop:N}})}return p}_getXAxisLabelAlignment(){let{position:t,ticks:r}=this.options;if(-Mc(this.labelRotation))return t==="top"?"left":"right";let n="center";return r.align==="start"?n="left":r.align==="end"?n="right":r.align==="inner"&&(n="inner"),n}_getYAxisLabelAlignment(t){let{position:r,ticks:{crossAlign:i,mirror:n,padding:o}}=this.options,s=this._getLabelSizes(),a=t+o,l=s.widest.width,c,d;return r==="left"?n?(d=this.right+o,i==="near"?c="left":i==="center"?(c="center",d+=l/2):(c="right",d+=l)):(d=this.right-a,i==="near"?c="right":i==="center"?(c="center",d-=l/2):(c="left",d=this.left)):r==="right"?n?(d=this.left+o,i==="near"?c="right":i==="center"?(c="center",d-=l/2):(c="left",d-=l)):(d=this.left+a,i==="near"?c="left":i==="center"?(c="center",d+=l/2):(c="right",d=this.right)):c="right",{textAlign:c,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;let t=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){let{ctx:t,options:{backgroundColor:r},left:i,top:n,width:o,height:s}=this;r&&(t.save(),t.fillStyle=r,t.fillRect(i,n,o,s),t.restore())}getLineWidthForValue(t){let r=this.options.grid;if(!this._isVisible()||!r.display)return 0;let n=this.ticks.findIndex(o=>o.value===t);return n>=0?r.setContext(this.getContext(n)).lineWidth:0}drawGrid(t){let r=this.options.grid,i=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t)),o,s,a=(l,c,d)=>{!d.width||!d.color||(i.save(),i.lineWidth=d.width,i.strokeStyle=d.color,i.setLineDash(d.borderDash||[]),i.lineDashOffset=d.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(r.display)for(o=0,s=n.length;o<s;++o){let l=n[o];r.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),r.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){let{chart:t,ctx:r,options:{border:i,grid:n}}=this,o=i.setContext(this.getContext()),s=i.display?o.width:0;if(!s)return;let a=n.setContext(this.getContext(0)).lineWidth,l=this._borderValue,c,d,h,u;this.isHorizontal()?(c=Mm(t,this.left,s)-s/2,d=Mm(t,this.right,a)+a/2,h=u=l):(h=Mm(t,this.top,s)-s/2,u=Mm(t,this.bottom,a)+a/2,c=d=l),r.save(),r.lineWidth=o.width,r.strokeStyle=o.color,r.beginPath(),r.moveTo(c,h),r.lineTo(d,u),r.stroke(),r.restore()}drawLabels(t){if(!this.options.ticks.display)return;let i=this.ctx,n=this._computeLabelArea();n&&K1(i,n);let o=this.getLabelItems(t);for(let s of o){let a=s.options,l=s.font,c=s.label,d=s.textOffset;Am(i,c,0,d,l,a)}n&&X1(i)}drawTitle(){let{ctx:t,options:{position:r,title:i,reverse:n}}=this;if(!i.display)return;let o=cs(i.font),s=ra(i.padding),a=i.align,l=o.lineHeight/2;r==="bottom"||r==="center"||Br(r)?(l+=s.bottom,eo(i.text)&&(l+=o.lineHeight*(i.text.length-1))):l+=s.top;let{titleX:c,titleY:d,maxWidth:h,rotation:u}=tpt(this,l,r,a);Am(t,i.text,0,0,o,{color:i.color,maxWidth:h,rotation:u,textAlign:Jmt(a,r,n),textBaseline:"middle",translation:[c,d]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){let t=this.options,r=t.ticks&&t.ticks.z||0,i=pr(t.grid&&t.grid.z,-1),n=pr(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==e.prototype.draw?[{z:r,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:r,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){let r=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",n=[],o,s;for(o=0,s=r.length;o<s;++o){let a=r[o];a[i]===this.id&&(!t||a.type===t)&&n.push(a)}return n}_resolveTickFontOptions(t){let r=this.options.ticks.setContext(this.getContext(t));return cs(r.font)}_maxDigits(){let t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}},Ov=class{constructor(t,r,i){this.type=t,this.scope=r,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){let r=Object.getPrototypeOf(t),i;rpt(r)&&(i=this.register(r));let n=this.items,o=t.id,s=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in n||(n[o]=t,ept(t,s,i),this.override&&uo.override(t.id,t.overrides)),s}get(t){return this.items[t]}unregister(t){let r=this.items,i=t.id,n=this.scope;i in r&&delete r[i],n&&i in uo[n]&&(delete uo[n][i],this.override&&delete Tm[i])}};function ept(e,t,r){let i=xv(Object.create(null),[r?uo.get(r):{},uo.get(t),e.defaults]);uo.set(t,i),e.defaultRoutes&&ipt(t,e.defaultRoutes),e.descriptors&&uo.describe(t,e.descriptors)}function ipt(e,t){Object.keys(t).forEach(r=>{let i=r.split("."),n=i.pop(),o=[e].concat(i).join("."),s=t[r].split("."),a=s.pop(),l=s.join(".");uo.route(o,n,l,a)})}function rpt(e){return"id"in e&&"defaults"in e}var RP=class{constructor(){this.controllers=new Ov(Om,"datasets",!0),this.elements=new Ov(wd,"elements"),this.plugins=new Ov(Object,"plugins"),this.scales=new Ov(Xg,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,r,i){[...r].forEach(n=>{let o=i||this._getRegistryForType(n);i||o.isForType(n)||o===this.plugins&&n.id?this._exec(t,o,n):vn(n,s=>{let a=i||this._getRegistryForType(s);this._exec(t,a,s)})})}_exec(t,r,i){let n=c5(t);Gn(i["before"+n],[],i),r[t](i),Gn(i["after"+n],[],i)}_getRegistryForType(t){for(let r=0;r<this._typedRegistries.length;r++){let i=this._typedRegistries[r];if(i.isForType(t))return i}return this.plugins}_get(t,r,i){let n=r.get(t);if(n===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return n}},Ph=new RP,TP=class{constructor(){this._init=[]}notify(t,r,i,n){r==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));let o=n?this._descriptors(t).filter(n):this._descriptors(t),s=this._notify(o,t,r,i);return r==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),s}_notify(t,r,i,n){n=n||{};for(let o of t){let s=o.plugin,a=s[i],l=[r,n,o.options];if(Gn(a,l,s)===!1&&n.cancelable)return!1}return!0}invalidate(){Xr(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;let r=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),r}_createDescriptors(t,r){let i=t&&t.config,n=pr(i.options&&i.options.plugins,{}),o=npt(i);return n===!1&&!r?[]:spt(t,o,n,r)}_notifyStateChanges(t){let r=this._oldCache||[],i=this._cache,n=(o,s)=>o.filter(a=>!s.some(l=>a.plugin.id===l.plugin.id));this._notify(n(r,i),t,"stop"),this._notify(n(i,r),t,"start")}};function npt(e){let t={},r=[],i=Object.keys(Ph.plugins.items);for(let o=0;o<i.length;o++)r.push(Ph.getPlugin(i[o]));let n=e.plugins||[];for(let o=0;o<n.length;o++){let s=n[o];r.indexOf(s)===-1&&(r.push(s),t[s.id]=!0)}return{plugins:r,localIds:t}}function opt(e,t){return!t&&e===!1?null:e===!0?{}:e}function spt(e,{plugins:t,localIds:r},i,n){let o=[],s=e.getContext();for(let a of t){let l=a.id,c=opt(i[l],n);c!==null&&o.push({plugin:a,options:apt(e.config,{plugin:a,local:r[l]},c,s)})}return o}function apt(e,{plugin:t,local:r},i,n){let o=e.pluginScopeKeys(t),s=e.getOptionScopes(i,o);return r&&t.defaults&&s.push(t.defaults),e.createResolver(s,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function MP(e,t){let r=uo.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||r.indexAxis||"x"}function lpt(e,t){let r=e;return e==="_index_"?r=t:e==="_value_"&&(r=t==="x"?"y":"x"),r}function cpt(e,t){return e===t?"_index_":"_value_"}function qU(e){if(e==="x"||e==="y"||e==="r")return e}function dpt(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function AP(e,...t){if(qU(e))return e;for(let r of t){let i=r.axis||dpt(r.position)||e.length>1&&qU(e[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function GU(e,t,r){if(r[t+"AxisID"]===e)return{axis:t}}function hpt(e,t){if(t.data&&t.data.datasets){let r=t.data.datasets.filter(i=>i.xAxisID===e||i.yAxisID===e);if(r.length)return GU(e,"x",r[0])||GU(e,"y",r[0])}return{}}function upt(e,t){let r=Tm[e.type]||{scales:{}},i=t.scales||{},n=MP(e.type,t),o=Object.create(null);return Object.keys(i).forEach(s=>{let a=i[s];if(!Br(a))return console.error(`Invalid scale configuration for scale: ${s}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${s}`);let l=AP(s,a,hpt(s,e),uo.scales[a.type]),c=cpt(l,n),d=r.scales||{};o[s]=Ev(Object.create(null),[{axis:l},a,d[l],d[c]])}),e.data.datasets.forEach(s=>{let a=s.type||e.type,l=s.indexAxis||MP(a,t),d=(Tm[a]||{}).scales||{};Object.keys(d).forEach(h=>{let u=lpt(h,l),f=s[u+"AxisID"]||u;o[f]=o[f]||Object.create(null),Ev(o[f],[{axis:u},i[f],d[h]])})}),Object.keys(o).forEach(s=>{let a=o[s];Ev(a,[uo.scales[a.type],uo.scale])}),o}function NW(e){let t=e.options||(e.options={});t.plugins=pr(t.plugins,{}),t.scales=upt(e,t)}function LW(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function fpt(e){return e=e||{},e.data=LW(e.data),NW(e),e}var KU=new Map,FW=new Set;function C5(e,t){let r=KU.get(e);return r||(r=t(),KU.set(e,r),FW.add(r)),r}var eC=(e,t,r)=>{let i=tf(t,r);i!==void 0&&e.add(i)},IP=class{constructor(t){this._config=fpt(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=LW(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){let t=this._config;this.clearCache(),NW(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return C5(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,r){return C5(`${t}.transition.${r}`,()=>[[`datasets.${t}.transitions.${r}`,`transitions.${r}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,r){return C5(`${t}-${r}`,()=>[[`datasets.${t}.elements.${r}`,`datasets.${t}`,`elements.${r}`,""]])}pluginScopeKeys(t){let r=t.id,i=this.type;return C5(`${i}-plugin-${r}`,()=>[[`plugins.${r}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,r){let i=this._scopeCache,n=i.get(t);return(!n||r)&&(n=new Map,i.set(t,n)),n}getOptionScopes(t,r,i){let{options:n,type:o}=this,s=this._cachedScopes(t,i),a=s.get(r);if(a)return a;let l=new Set;r.forEach(d=>{t&&(l.add(t),d.forEach(h=>eC(l,t,h))),d.forEach(h=>eC(l,n,h)),d.forEach(h=>eC(l,Tm[o]||{},h)),d.forEach(h=>eC(l,uo,h)),d.forEach(h=>eC(l,f5,h))});let c=Array.from(l);return c.length===0&&c.push(Object.create(null)),FW.has(r)&&s.set(r,c),c}chartOptionScopes(){let{options:t,type:r}=this;return[t,Tm[r]||{},uo.datasets[r]||{},{type:r},uo,f5]}resolveNamedOptions(t,r,i,n=[""]){let o={$shared:!0},{resolver:s,subPrefixes:a}=XU(this._resolverCache,t,n),l=s;if(ppt(s,r)){o.$shared=!1,i=Qu(i)?i():i;let c=this.createResolver(t,i,a);l=Yg(s,i,c)}for(let c of r)o[c]=l[c];return o}createResolver(t,r,i=[""],n){let{resolver:o}=XU(this._resolverCache,t,i);return Br(r)?Yg(o,r,void 0,n):o}};function XU(e,t,r){let i=e.get(t);i||(i=new Map,e.set(t,i));let n=r.join(),o=i.get(n);return o||(o={resolver:g5(t,r),subPrefixes:r.filter(a=>!a.toLowerCase().includes("hover"))},i.set(n,o)),o}var mpt=e=>Br(e)&&Object.getOwnPropertyNames(e).some(t=>Qu(e[t]));function ppt(e,t){let{isScriptable:r,isIndexable:i}=iP(e);for(let n of t){let o=r(n),s=i(n),a=(s||o)&&e[n];if(o&&(Qu(a)||mpt(a))||s&&eo(a))return!0}return!1}var gpt="4.4.3",bpt=["top","bottom","left","right","chartArea"];function ZU(e,t){return e==="top"||e==="bottom"||bpt.indexOf(e)===-1&&t==="x"}function QU(e,t){return function(r,i){return r[e]===i[e]?r[t]-i[t]:r[e]-i[e]}}function JU(e){let t=e.chart,r=t.options.animation;t.notifyPlugins("afterRender"),Gn(r&&r.onComplete,[e],t)}function vpt(e){let t=e.chart,r=t.options.animation;Gn(r&&r.onProgress,[e],t)}function HW(e){return b5()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}var M5={},tW=e=>{let t=HW(e);return Object.values(M5).filter(r=>r.canvas===t).pop()};function ypt(e,t,r){let i=Object.keys(e);for(let n of i){let o=+n;if(o>=t){let s=e[n];delete e[n],(r>0||o>t)&&(e[o+r]=s)}}}function _pt(e,t,r,i){return!r||e.type==="mouseout"?null:i?t:e}function x5(e,t,r){return e.options.clip?e[r]:t[r]}function wpt(e,t){let{xScale:r,yScale:i}=e;return r&&i?{left:x5(r,t,"left"),right:x5(r,t,"right"),top:x5(i,t,"top"),bottom:x5(i,t,"bottom")}:t}var Nv=(()=>{class e{static defaults=uo;static instances=M5;static overrides=Tm;static registry=Ph;static version=gpt;static getChart=tW;static register(...r){Ph.add(...r),eW()}static unregister(...r){Ph.remove(...r),eW()}constructor(r,i){let n=this.config=new IP(i),o=HW(r),s=tW(o);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");let a=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||Vmt(o)),this.platform.updateConfig(n);let l=this.platform.acquireContext(o,a.aspectRatio),c=l&&l.canvas,d=c&&c.height,h=c&&c.width;if(this.id=Qz(),this.ctx=l,this.canvas=c,this.width=h,this.height=d,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new TP,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=cU(u=>this.update(u),a.resizeDelay||0),this._dataChanges=[],M5[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}rf.listen(this,"complete",JU),rf.listen(this,"progress",vpt),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:r,maintainAspectRatio:i},width:n,height:o,_aspectRatio:s}=this;return Xr(r)?i&&s?s:o?n/o:null:r}get data(){return this.config.data}set data(r){this.config.data=r}get options(){return this._options}set options(r){this.config.options=r}get registry(){return Ph}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():sP(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return J4(this.canvas,this.ctx),this}stop(){return rf.stop(this),this}resize(r,i){rf.running(this)?this._resizeBeforeDraw={width:r,height:i}:this._resize(r,i)}_resize(r,i){let n=this.options,o=this.canvas,s=n.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(o,r,i,s),l=n.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,sP(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),Gn(n.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){let i=this.options.scales||{};vn(i,(n,o)=>{n.id=o})}buildOrUpdateScales(){let r=this.options,i=r.scales,n=this.scales,o=Object.keys(n).reduce((a,l)=>(a[l]=!1,a),{}),s=[];i&&(s=s.concat(Object.keys(i).map(a=>{let l=i[a],c=AP(a,l),d=c==="r",h=c==="x";return{options:l,dposition:d?"chartArea":h?"bottom":"left",dtype:d?"radialLinear":h?"category":"linear"}}))),vn(s,a=>{let l=a.options,c=l.id,d=AP(c,l),h=pr(l.type,a.dtype);(l.position===void 0||ZU(l.position,d)!==ZU(a.dposition))&&(l.position=a.dposition),o[c]=!0;let u=null;if(c in n&&n[c].type===h)u=n[c];else{let f=Ph.getScale(h);u=new f({id:c,type:h,ctx:this.ctx,chart:this}),n[u.id]=u}u.init(l,r)}),vn(o,(a,l)=>{a||delete n[l]}),vn(n,a=>{va.configure(this,a,a.options),va.addBox(this,a)})}_updateMetasets(){let r=this._metasets,i=this.data.datasets.length,n=r.length;if(r.sort((o,s)=>o.index-s.index),n>i){for(let o=i;o<n;++o)this._destroyDatasetMeta(o);r.splice(i,n-i)}this._sortedMetasets=r.slice(0).sort(QU("order","index"))}_removeUnreferencedMetasets(){let{_metasets:r,data:{datasets:i}}=this;r.length>i.length&&delete this._stacks,r.forEach((n,o)=>{i.filter(s=>s===n._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){let r=[],i=this.data.datasets,n,o;for(this._removeUnreferencedMetasets(),n=0,o=i.length;n<o;n++){let s=i[n],a=this.getDatasetMeta(n),l=s.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(n),a=this.getDatasetMeta(n)),a.type=l,a.indexAxis=s.indexAxis||MP(l,this.options),a.order=s.order||0,a.index=n,a.label=""+s.label,a.visible=this.isDatasetVisible(n),a.controller)a.controller.updateIndex(n),a.controller.linkScales();else{let c=Ph.getController(l),{datasetElementType:d,dataElementType:h}=uo.datasets[l];Object.assign(c,{dataElementType:Ph.getElement(h),datasetElementType:d&&Ph.getElement(d)}),a.controller=new c(this,n),r.push(a.controller)}}return this._updateMetasets(),r}_resetElements(){vn(this.data.datasets,(r,i)=>{this.getDatasetMeta(i).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(r){let i=this.config;i.update();let n=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:r,cancelable:!0})===!1)return;let s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let d=0,h=this.data.datasets.length;d<h;d++){let{controller:u}=this.getDatasetMeta(d),f=!o&&s.indexOf(u)===-1;u.buildOrUpdateElements(f),a=Math.max(+u.getMaxOverflow(),a)}a=this._minPadding=n.layout.autoPadding?a:0,this._updateLayout(a),o||vn(s,d=>{d.reset()}),this._updateDatasets(r),this.notifyPlugins("afterUpdate",{mode:r}),this._layers.sort(QU("z","_idx"));let{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){vn(this.scales,r=>{va.removeBox(this,r)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let r=this.options,i=new Set(Object.keys(this._listeners)),n=new Set(r.events);(!j4(i,n)||!!this._responsiveListeners!==r.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:r}=this,i=this._getUniformDataChanges()||[];for(let{method:n,start:o,count:s}of i){let a=n==="_removeElements"?-s:s;ypt(r,o,a)}}_getUniformDataChanges(){let r=this._dataChanges;if(!r||!r.length)return;this._dataChanges=[];let i=this.data.datasets.length,n=s=>new Set(r.filter(a=>a[0]===s).map((a,l)=>l+","+a.splice(1).join(","))),o=n(0);for(let s=1;s<i;s++)if(!j4(o,n(s)))return;return Array.from(o).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(r){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;va.update(this,this.width,this.height,r);let i=this.chartArea,n=i.width<=0||i.height<=0;this._layers=[],vn(this.boxes,o=>{n&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,s)=>{o._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(r){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:r,cancelable:!0})!==!1){for(let i=0,n=this.data.datasets.length;i<n;++i)this.getDatasetMeta(i).controller.configure();for(let i=0,n=this.data.datasets.length;i<n;++i)this._updateDataset(i,Qu(r)?r({datasetIndex:i}):r);this.notifyPlugins("afterDatasetsUpdate",{mode:r})}}_updateDataset(r,i){let n=this.getDatasetMeta(r),o={meta:n,index:r,mode:i,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(n.controller._update(i),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(rf.has(this)?this.attached&&!rf.running(this)&&rf.start(this):(this.draw(),JU({chart:this})))}draw(){let r;if(this._resizeBeforeDraw){let{width:n,height:o}=this._resizeBeforeDraw;this._resize(n,o),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let i=this._layers;for(r=0;r<i.length&&i[r].z<=0;++r)i[r].draw(this.chartArea);for(this._drawDatasets();r<i.length;++r)i[r].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(r){let i=this._sortedMetasets,n=[],o,s;for(o=0,s=i.length;o<s;++o){let a=i[o];(!r||a.visible)&&n.push(a)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let r=this.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i)this._drawDataset(r[i]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(r){let i=this.ctx,n=r._clip,o=!n.disabled,s=wpt(r,this.chartArea),a={meta:r,index:r.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(o&&K1(i,{left:n.left===!1?0:s.left-n.left,right:n.right===!1?this.width:s.right+n.right,top:n.top===!1?0:s.top-n.top,bottom:n.bottom===!1?this.height:s.bottom+n.bottom}),r.controller.draw(),o&&X1(i),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(r){return Ih(r,this.chartArea,this._minPadding)}getElementsAtEventForMode(r,i,n,o){let s=Cmt.modes[i];return typeof s=="function"?s(this,r,n,o):[]}getDatasetMeta(r){let i=this.data.datasets[r],n=this._metasets,o=n.filter(s=>s&&s._dataset===i).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:r,_dataset:i,_parsed:[],_sorted:!1},n.push(o)),o}getContext(){return this.$context||(this.$context=ef(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(r){let i=this.data.datasets[r];if(!i)return!1;let n=this.getDatasetMeta(r);return typeof n.hidden=="boolean"?!n.hidden:!i.hidden}setDatasetVisibility(r,i){let n=this.getDatasetMeta(r);n.hidden=!i}toggleDataVisibility(r){this._hiddenIndices[r]=!this._hiddenIndices[r]}getDataVisibility(r){return!this._hiddenIndices[r]}_updateVisibility(r,i,n){let o=n?"show":"hide",s=this.getDatasetMeta(r),a=s.controller._resolveAnimations(void 0,o);Rv(i)?(s.data[i].hidden=!n,this.update()):(this.setDatasetVisibility(r,n),a.update(s,{visible:n}),this.update(l=>l.datasetIndex===r?o:void 0))}hide(r,i){this._updateVisibility(r,i,!1)}show(r,i){this._updateVisibility(r,i,!0)}_destroyDatasetMeta(r){let i=this._metasets[r];i&&i.controller&&i.controller._destroy(),delete this._metasets[r]}_stop(){let r,i;for(this.stop(),rf.remove(this),r=0,i=this.data.datasets.length;r<i;++r)this._destroyDatasetMeta(r)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:r,ctx:i}=this;this._stop(),this.config.clearCache(),r&&(this.unbindEvents(),J4(r,i),this.platform.releaseContext(i),this.canvas=null,this.ctx=null),delete M5[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...r){return this.canvas.toDataURL(...r)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let r=this._listeners,i=this.platform,n=(s,a)=>{i.addEventListener(this,s,a),r[s]=a},o=(s,a,l)=>{s.offsetX=a,s.offsetY=l,this._eventHandler(s)};vn(this.options.events,s=>n(s,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let r=this._responsiveListeners,i=this.platform,n=(c,d)=>{i.addEventListener(this,c,d),r[c]=d},o=(c,d)=>{r[c]&&(i.removeEventListener(this,c,d),delete r[c])},s=(c,d)=>{this.canvas&&this.resize(c,d)},a,l=()=>{o("attach",l),this.attached=!0,this.resize(),n("resize",s),n("detach",a)};a=()=>{this.attached=!1,o("resize",s),this._stop(),this._resize(0,0),n("attach",l)},i.isAttached(this.canvas)?l():a()}unbindEvents(){vn(this._listeners,(r,i)=>{this.platform.removeEventListener(this,i,r)}),this._listeners={},vn(this._responsiveListeners,(r,i)=>{this.platform.removeEventListener(this,i,r)}),this._responsiveListeners=void 0}updateHoverStyle(r,i,n){let o=n?"set":"remove",s,a,l,c;for(i==="dataset"&&(s=this.getDatasetMeta(r[0].datasetIndex),s.controller["_"+o+"DatasetHoverStyle"]()),l=0,c=r.length;l<c;++l){a=r[l];let d=a&&this.getDatasetMeta(a.datasetIndex).controller;d&&d[o+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(r){let i=this._active||[],n=r.map(({datasetIndex:s,index:a})=>{let l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[a],index:a}});!q1(n,i)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,i))}notifyPlugins(r,i,n){return this._plugins.notify(this,r,i,n)}isPluginEnabled(r){return this._plugins._cache.filter(i=>i.plugin.id===r).length===1}_updateHoverStyles(r,i,n){let o=this.options.hover,s=(c,d)=>c.filter(h=>!d.some(u=>h.datasetIndex===u.datasetIndex&&h.index===u.index)),a=s(i,r),l=n?r:s(r,i);a.length&&this.updateHoverStyle(a,o.mode,!1),l.length&&o.mode&&this.updateHoverStyle(l,o.mode,!0)}_eventHandler(r,i){let n={event:r,replay:i,cancelable:!0,inChartArea:this.isPointInArea(r)},o=a=>(a.options.events||this.options.events).includes(r.native.type);if(this.notifyPlugins("beforeEvent",n,o)===!1)return;let s=this._handleEvent(r,i,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,o),(s||n.changed)&&this.render(),this}_handleEvent(r,i,n){let{_active:o=[],options:s}=this,a=i,l=this._getActiveElements(r,o,n,a),c=eU(r),d=_pt(r,this._lastEvent,n,c);n&&(this._lastEvent=null,Gn(s.onHover,[r,l,this],this),c&&Gn(s.onClick,[r,l,this],this));let h=!q1(l,o);return(h||i)&&(this._active=l,this._updateHoverStyles(l,o,i)),this._lastEvent=d,h}_getActiveElements(r,i,n,o){if(r.type==="mouseout")return[];if(!n)return i;let s=this.options.hover;return this.getElementsAtEventForMode(r,s.mode,s,o)}}return e})();function eW(){return vn(Nv.instances,e=>e._plugins.invalidate())}function Cpt(e,t,r){let{startAngle:i,pixelMargin:n,x:o,y:s,outerRadius:a,innerRadius:l}=t,c=n/a;e.beginPath(),e.arc(o,s,a,i-c,r+c),l>n?(c=n/l,e.arc(o,s,l,r+c,i-c,!0)):e.arc(o,s,n,r+Bo,i-Bo),e.closePath(),e.clip()}function xpt(e){return p5(e,["outerStart","outerEnd","innerStart","innerEnd"])}function Spt(e,t,r,i){let n=xpt(e.options.borderRadius),o=(r-t)/2,s=Math.min(o,i*t/2),a=l=>{let c=(r-Math.min(o,l))*i/2;return bs(l,0,Math.min(o,c))};return{outerStart:a(n.outerStart),outerEnd:a(n.outerEnd),innerStart:bs(n.innerStart,0,s),innerEnd:bs(n.innerEnd,0,s)}}function Dv(e,t,r,i){return{x:r+e*Math.cos(t),y:i+e*Math.sin(t)}}function D5(e,t,r,i,n,o){let{x:s,y:a,startAngle:l,pixelMargin:c,innerRadius:d}=t,h=Math.max(t.outerRadius+i+r-c,0),u=d>0?d+i+r+c:0,f=0,m=n-l;if(i){let y=d>0?d-i:0,C=h>0?h-i:0,w=(y+C)/2,S=w!==0?m*w/(w+i):m;f=(m-S)/2}let g=Math.max(.001,m*h-r/io)/h,p=(m-g)/2,b=l+p+f,_=n-p-f,{outerStart:E,outerEnd:O,innerStart:V,innerEnd:H}=Spt(t,u,h,_-b),F=h-E,L=h-O,q=b+E/F,W=_-O/L,x=u+V,R=u+H,j=b+V/x,v=_-H/R;if(e.beginPath(),o){let y=(q+W)/2;if(e.arc(s,a,h,q,y),e.arc(s,a,h,y,W),O>0){let M=Dv(L,W,s,a);e.arc(M.x,M.y,O,W,_+Bo)}let C=Dv(R,_,s,a);if(e.lineTo(C.x,C.y),H>0){let M=Dv(R,v,s,a);e.arc(M.x,M.y,H,_+Bo,v+Math.PI)}let w=(_-H/u+(b+V/u))/2;if(e.arc(s,a,u,_-H/u,w,!0),e.arc(s,a,u,w,b+V/u,!0),V>0){let M=Dv(x,j,s,a);e.arc(M.x,M.y,V,j+Math.PI,b-Bo)}let S=Dv(F,b,s,a);if(e.lineTo(S.x,S.y),E>0){let M=Dv(F,q,s,a);e.arc(M.x,M.y,E,b-Bo,q)}}else{e.moveTo(s,a);let y=Math.cos(q)*h+s,C=Math.sin(q)*h+a;e.lineTo(y,C);let w=Math.cos(W)*h+s,S=Math.sin(W)*h+a;e.lineTo(w,S)}e.closePath()}function Ept(e,t,r,i,n){let{fullCircles:o,startAngle:s,circumference:a}=t,l=t.endAngle;if(o){D5(e,t,r,i,l,n);for(let c=0;c<o;++c)e.fill();isNaN(a)||(l=s+(a%ro||ro))}return D5(e,t,r,i,l,n),e.fill(),l}function Rpt(e,t,r,i,n){let{fullCircles:o,startAngle:s,circumference:a,options:l}=t,{borderWidth:c,borderJoinStyle:d,borderDash:h,borderDashOffset:u}=l,f=l.borderAlign==="inner";if(!c)return;e.setLineDash(h||[]),e.lineDashOffset=u,f?(e.lineWidth=c*2,e.lineJoin=d||"round"):(e.lineWidth=c,e.lineJoin=d||"bevel");let m=t.endAngle;if(o){D5(e,t,r,i,m,n);for(let g=0;g<o;++g)e.stroke();isNaN(a)||(m=s+(a%ro||ro))}f&&Cpt(e,t,m),o||(D5(e,t,r,i,m,n),e.stroke())}var kP=class extends wd{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,r,i){let n=this.getProps(["x","y"],i),{angle:o,distance:s}=W4(n,{x:t,y:r}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:d,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),u=(this.options.spacing+this.options.borderWidth)/2,m=pr(h,l-a)>=ro||Mv(o,a,l),g=Dh(s,c+u,d+u);return m&&g}getCenterPoint(t){let{x:r,y:i,startAngle:n,endAngle:o,innerRadius:s,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:l,spacing:c}=this.options,d=(n+o)/2,h=(s+a+c+l)/2;return{x:r+Math.cos(d)*h,y:i+Math.sin(d)*h}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){let{options:r,circumference:i}=this,n=(r.offset||0)/4,o=(r.spacing||0)/2,s=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=i>ro?Math.floor(i/ro):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();let a=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(a)*n,Math.sin(a)*n);let l=1-Math.sin(Math.min(io,i||0)),c=n*l;t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,Ept(t,this,c,o,s),Rpt(t,this,c,o,s),t.restore()}};function BW(e,t,r=t){e.lineCap=pr(r.borderCapStyle,t.borderCapStyle),e.setLineDash(pr(r.borderDash,t.borderDash)),e.lineDashOffset=pr(r.borderDashOffset,t.borderDashOffset),e.lineJoin=pr(r.borderJoinStyle,t.borderJoinStyle),e.lineWidth=pr(r.borderWidth,t.borderWidth),e.strokeStyle=pr(r.borderColor,t.borderColor)}function Tpt(e,t,r){e.lineTo(r.x,r.y)}function Mpt(e){return e.stepped?fU:e.tension||e.cubicInterpolationMode==="monotone"?mU:Tpt}function jW(e,t,r={}){let i=e.length,{start:n=0,end:o=i-1}=r,{start:s,end:a}=t,l=Math.max(n,s),c=Math.min(o,a),d=n<s&&o<s||n>a&&o>a;return{count:i,start:l,loop:t.loop,ilen:c<l&&!d?i+c-l:c-l}}function Apt(e,t,r,i){let{points:n,options:o}=t,{count:s,start:a,loop:l,ilen:c}=jW(n,r,i),d=Mpt(o),{move:h=!0,reverse:u}=i||{},f,m,g;for(f=0;f<=c;++f)m=n[(a+(u?c-f:f))%s],!m.skip&&(h?(e.moveTo(m.x,m.y),h=!1):d(e,g,m,u,o.stepped),g=m);return l&&(m=n[(a+(u?c:0))%s],d(e,g,m,u,o.stepped)),!!l}function Ipt(e,t,r,i){let n=t.points,{count:o,start:s,ilen:a}=jW(n,r,i),{move:l=!0,reverse:c}=i||{},d=0,h=0,u,f,m,g,p,b,_=O=>(s+(c?a-O:O))%o,E=()=>{g!==p&&(e.lineTo(d,p),e.lineTo(d,g),e.lineTo(d,b))};for(l&&(f=n[_(0)],e.moveTo(f.x,f.y)),u=0;u<=a;++u){if(f=n[_(u)],f.skip)continue;let O=f.x,V=f.y,H=O|0;H===m?(V<g?g=V:V>p&&(p=V),d=(h*d+O)/++h):(E(),e.lineTo(O,V),m=H,h=0,g=p=V),b=V}E()}function DP(e){let t=e.options,r=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!r?Ipt:Apt}function kpt(e){return e.stepped?xU:e.tension||e.cubicInterpolationMode==="monotone"?SU:Rm}function Dpt(e,t,r,i){let n=t._path;n||(n=t._path=new Path2D,t.path(n,r,i)&&n.closePath()),BW(e,t.options),e.stroke(n)}function Opt(e,t,r,i){let{segments:n,options:o}=t,s=DP(t);for(let a of n)BW(e,o,a.style),e.beginPath(),s(e,t,a,{start:r,end:r+i-1})&&e.closePath(),e.stroke()}var Ppt=typeof Path2D=="function";function Npt(e,t,r,i){Ppt&&!t.options.segment?Dpt(e,t,r,i):Opt(e,t,r,i)}var N5=(()=>{class e extends wd{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:r=>r!=="borderDash"&&r!=="fill"};constructor(r){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,r&&Object.assign(this,r)}updateControlPoints(r,i){let n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){let o=n.spanGaps?this._loop:this._fullLoop;_U(this._points,n,r,o,i),this._pointsUpdated=!0}}set points(r){this._points=r,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=RU(this,this.options.segment))}first(){let r=this.segments,i=this.points;return r.length&&i[r[0].start]}last(){let r=this.segments,i=this.points,n=r.length;return n&&i[r[n-1].end]}interpolate(r,i){let n=this.options,o=r[i],s=this.points,a=hP(this,{property:i,start:o,end:o});if(!a.length)return;let l=[],c=kpt(n),d,h;for(d=0,h=a.length;d<h;++d){let{start:u,end:f}=a[d],m=s[u],g=s[f];if(m===g){l.push(m);continue}let p=Math.abs((o-m[i])/(g[i]-m[i])),b=c(m,g,p,n.stepped);b[i]=r[i],l.push(b)}return l.length===1?l[0]:l}pathSegment(r,i,n){return DP(this)(r,this,i,n)}path(r,i,n){let o=this.segments,s=DP(this),a=this._loop;i=i||0,n=n||this.points.length-i;for(let l of o)a&=s(r,this,l,{start:i,end:i+n-1});return!!a}draw(r,i,n,o){let s=this.options||{};(this.points||[]).length&&s.borderWidth&&(r.save(),Npt(r,this,n,o),r.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return e})();function iW(e,t,r,i){let n=e.options,{[r]:o}=e.getProps([r],i);return Math.abs(t-o)<n.radius+n.hitRadius}var Lpt=(()=>{class e extends wd{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(r){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,r&&Object.assign(this,r)}inRange(r,i,n){let o=this.options,{x:s,y:a}=this.getProps(["x","y"],n);return Math.pow(r-s,2)+Math.pow(i-a,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(r,i){return iW(this,r,"x",i)}inYRange(r,i){return iW(this,r,"y",i)}getCenterPoint(r){let{x:i,y:n}=this.getProps(["x","y"],r);return{x:i,y:n}}size(r){r=r||this.options||{};let i=r.radius||0;i=Math.max(i,i&&r.hoverRadius||0);let n=i&&r.borderWidth||0;return(i+n)*2}draw(r,i){let n=this.options;this.skip||n.radius<.1||!Ih(this,i,this.size(n)/2)||(r.strokeStyle=n.borderColor,r.lineWidth=n.borderWidth,r.fillStyle=n.backgroundColor,m5(r,n,this.x,this.y))}getRange(){let r=this.options||{};return r.radius+r.hitRadius}}return e})();function VW(e,t){let{x:r,y:i,base:n,width:o,height:s}=e.getProps(["x","y","base","width","height"],t),a,l,c,d,h;return e.horizontal?(h=s/2,a=Math.min(r,n),l=Math.max(r,n),c=i-h,d=i+h):(h=o/2,a=r-h,l=r+h,c=Math.min(i,n),d=Math.max(i,n)),{left:a,top:c,right:l,bottom:d}}function Dm(e,t,r,i){return e?0:bs(t,r,i)}function Fpt(e,t,r){let i=e.options.borderWidth,n=e.borderSkipped,o=eP(i);return{t:Dm(n.top,o.top,0,r),r:Dm(n.right,o.right,0,t),b:Dm(n.bottom,o.bottom,0,r),l:Dm(n.left,o.left,0,t)}}function Hpt(e,t,r){let{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),n=e.options.borderRadius,o=Im(n),s=Math.min(t,r),a=e.borderSkipped,l=i||Br(n);return{topLeft:Dm(!l||a.top||a.left,o.topLeft,0,s),topRight:Dm(!l||a.top||a.right,o.topRight,0,s),bottomLeft:Dm(!l||a.bottom||a.left,o.bottomLeft,0,s),bottomRight:Dm(!l||a.bottom||a.right,o.bottomRight,0,s)}}function Bpt(e){let t=VW(e),r=t.right-t.left,i=t.bottom-t.top,n=Fpt(e,r/2,i/2),o=Hpt(e,r/2,i/2);return{outer:{x:t.left,y:t.top,w:r,h:i,radius:o},inner:{x:t.left+n.l,y:t.top+n.t,w:r-n.l-n.r,h:i-n.t-n.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(n.t,n.l)),topRight:Math.max(0,o.topRight-Math.max(n.t,n.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(n.b,n.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(n.b,n.r))}}}}function vP(e,t,r,i){let n=t===null,o=r===null,a=e&&!(n&&o)&&VW(e,i);return a&&(n||Dh(t,a.left,a.right))&&(o||Dh(r,a.top,a.bottom))}function jpt(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function Vpt(e,t){e.rect(t.x,t.y,t.w,t.h)}function yP(e,t,r={}){let i=e.x!==r.x?-t:0,n=e.y!==r.y?-t:0,o=(e.x+e.w!==r.x+r.w?t:0)-i,s=(e.y+e.h!==r.y+r.h?t:0)-n;return{x:e.x+i,y:e.y+n,w:e.w+o,h:e.h+s,radius:e.radius}}var OP=class extends wd{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){let{inflateAmount:r,options:{borderColor:i,backgroundColor:n}}=this,{inner:o,outer:s}=Bpt(this),a=jpt(s.radius)?Iv:Vpt;t.save(),(s.w!==o.w||s.h!==o.h)&&(t.beginPath(),a(t,yP(s,r,o)),t.clip(),a(t,yP(o,-r,s)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),a(t,yP(o,r)),t.fillStyle=n,t.fill(),t.restore()}inRange(t,r,i){return vP(this,t,r,i)}inXRange(t,r){return vP(this,t,null,r)}inYRange(t,r){return vP(this,null,t,r)}getCenterPoint(t){let{x:r,y:i,base:n,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(r+n)/2:r,y:o?i:(i+n)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}},zpt=Object.freeze({__proto__:null,ArcElement:kP,BarElement:OP,LineElement:N5,PointElement:Lpt}),PP=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],rW=PP.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function zW(e){return PP[e%PP.length]}function UW(e){return rW[e%rW.length]}function Upt(e,t){return e.borderColor=zW(t),e.backgroundColor=UW(t),++t}function Wpt(e,t){return e.backgroundColor=e.data.map(()=>zW(t++)),t}function Ypt(e,t){return e.backgroundColor=e.data.map(()=>UW(t++)),t}function $pt(e){let t=0;return(r,i)=>{let n=e.getDatasetMeta(i).controller;n instanceof zP?t=Wpt(r,t):n instanceof IW?t=Ypt(r,t):n&&(t=Upt(r,t))}}function nW(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function qpt(e){return e&&(e.borderColor||e.backgroundColor)}var Gpt={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,r){if(!r.enabled)return;let{data:{datasets:i},options:n}=e.config,{elements:o}=n;if(!r.forceOverride&&(nW(i)||qpt(n)||o&&nW(o)))return;let s=$pt(e);i.forEach(s)}};function Kpt(e,t,r,i,n){let o=n.samples||i;if(o>=r)return e.slice(t,t+r);let s=[],a=(r-2)/(o-2),l=0,c=t+r-1,d=t,h,u,f,m,g;for(s[l++]=e[d],h=0;h<o-2;h++){let p=0,b=0,_,E=Math.floor((h+1)*a)+1+t,O=Math.min(Math.floor((h+2)*a)+1,r)+t,V=O-E;for(_=E;_<O;_++)p+=e[_].x,b+=e[_].y;p/=V,b/=V;let H=Math.floor(h*a)+1+t,F=Math.min(Math.floor((h+1)*a)+1,r)+t,{x:L,y:q}=e[d];for(f=m=-1,_=H;_<F;_++)m=.5*Math.abs((L-p)*(e[_].y-q)-(L-e[_].x)*(b-q)),m>f&&(f=m,u=e[_],g=_);s[l++]=u,d=g}return s[l++]=e[c],s}function Xpt(e,t,r,i){let n=0,o=0,s,a,l,c,d,h,u,f,m,g,p=[],b=t+r-1,_=e[t].x,O=e[b].x-_;for(s=t;s<t+r;++s){a=e[s],l=(a.x-_)/O*i,c=a.y;let V=l|0;if(V===d)c<m?(m=c,h=s):c>g&&(g=c,u=s),n=(o*n+a.x)/++o;else{let H=s-1;if(!Xr(h)&&!Xr(u)){let F=Math.min(h,u),L=Math.max(h,u);F!==f&&F!==H&&p.push(Ue(jt({},e[F]),{x:n})),L!==f&&L!==H&&p.push(Ue(jt({},e[L]),{x:n}))}s>0&&H!==f&&p.push(e[H]),p.push(a),d=V,o=0,m=g=c,h=u=f=s}}return p}function WW(e){if(e._decimated){let t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function oW(e){e.data.datasets.forEach(t=>{WW(t)})}function Zpt(e,t){let r=t.length,i=0,n,{iScale:o}=e,{min:s,max:a,minDefined:l,maxDefined:c}=o.getUserBounds();return l&&(i=bs(Ah(t,o.axis,s).lo,0,r-1)),c?n=bs(Ah(t,o.axis,a).hi+1,i,r)-i:n=r-i,{start:i,count:n}}var Qpt={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,r)=>{if(!r.enabled){oW(e);return}let i=e.width;e.data.datasets.forEach((n,o)=>{let{_data:s,indexAxis:a}=n,l=e.getDatasetMeta(o),c=s||n.data;if(kv([a,e.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;let d=e.scales[l.xAxisID];if(d.type!=="linear"&&d.type!=="time"||e.options.parsing)return;let{start:h,count:u}=Zpt(l,c),f=r.threshold||4*i;if(u<=f){WW(n);return}Xr(s)&&(n._data=c,delete n.data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}}));let m;switch(r.algorithm){case"lttb":m=Kpt(c,h,u,i,r);break;case"min-max":m=Xpt(c,h,u,i);break;default:throw new Error(`Unsupported decimation algorithm '${r.algorithm}'`)}n._decimated=m})},destroy(e){oW(e)}};function Jpt(e,t,r){let i=e.segments,n=e.points,o=t.points,s=[];for(let a of i){let{start:l,end:c}=a;c=UP(l,c,n);let d=NP(r,n[l],n[c],a.loop);if(!t.segments){s.push({source:a,target:d,start:n[l],end:n[c]});continue}let h=hP(t,d);for(let u of h){let f=NP(r,o[u.start],o[u.end],u.loop),m=dP(a,n,f);for(let g of m)s.push({source:g,target:u,start:{[r]:sW(d,f,"start",Math.max)},end:{[r]:sW(d,f,"end",Math.min)}})}}return s}function NP(e,t,r,i){if(i)return;let n=t[e],o=r[e];return e==="angle"&&(n=hl(n),o=hl(o)),{property:e,start:n,end:o}}function tgt(e,t){let{x:r=null,y:i=null}=e||{},n=t.points,o=[];return t.segments.forEach(({start:s,end:a})=>{a=UP(s,a,n);let l=n[s],c=n[a];i!==null?(o.push({x:l.x,y:i}),o.push({x:c.x,y:i})):r!==null&&(o.push({x:r,y:l.y}),o.push({x:r,y:c.y}))}),o}function UP(e,t,r){for(;t>e;t--){let i=r[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function sW(e,t,r,i){return e&&t?i(e[r],t[r]):e?e[r]:t?t[r]:0}function YW(e,t){let r=[],i=!1;return eo(e)?(i=!0,r=e):r=tgt(e,t),r.length?new N5({points:r,options:{tension:0},_loop:i,_fullLoop:i}):null}function aW(e){return e&&e.fill!==!1}function egt(e,t,r){let n=e[t].fill,o=[t],s;if(!r)return n;for(;n!==!1&&o.indexOf(n)===-1;){if(!To(n))return n;if(s=e[n],!s)return!1;if(s.visible)return n;o.push(n),n=s.fill}return!1}function igt(e,t,r){let i=sgt(e);if(Br(i))return isNaN(i.value)?!1:i;let n=parseFloat(i);return To(n)&&Math.floor(n)===n?rgt(i[0],t,n,r):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function rgt(e,t,r,i){return(e==="-"||e==="+")&&(r=t+r),r===t||r<0||r>=i?!1:r}function ngt(e,t){let r=null;return e==="start"?r=t.bottom:e==="end"?r=t.top:Br(e)?r=t.getPixelForValue(e.value):t.getBasePixel&&(r=t.getBasePixel()),r}function ogt(e,t,r){let i;return e==="start"?i=r:e==="end"?i=t.options.reverse?t.min:t.max:Br(e)?i=e.value:i=t.getBaseValue(),i}function sgt(e){let t=e.options,r=t.fill,i=pr(r&&r.target,r);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function agt(e){let{scale:t,index:r,line:i}=e,n=[],o=i.segments,s=i.points,a=lgt(t,r);a.push(YW({x:null,y:t.bottom},i));for(let l=0;l<o.length;l++){let c=o[l];for(let d=c.start;d<=c.end;d++)cgt(n,s[d],a)}return new N5({points:n,options:{}})}function lgt(e,t){let r=[],i=e.getMatchingVisibleMetas("line");for(let n=0;n<i.length;n++){let o=i[n];if(o.index===t)break;o.hidden||r.unshift(o.dataset)}return r}function cgt(e,t,r){let i=[];for(let n=0;n<r.length;n++){let o=r[n],{first:s,last:a,point:l}=dgt(o,t,"x");if(!(!l||s&&a)){if(s)i.unshift(l);else if(e.push(l),!a)break}}e.push(...i)}function dgt(e,t,r){let i=e.interpolate(t,r);if(!i)return{};let n=i[r],o=e.segments,s=e.points,a=!1,l=!1;for(let c=0;c<o.length;c++){let d=o[c],h=s[d.start][r],u=s[d.end][r];if(Dh(n,h,u)){a=n===h,l=n===u;break}}return{first:a,last:l,point:i}}var O5=class{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,r,i){let{x:n,y:o,radius:s}=this;return r=r||{start:0,end:ro},t.arc(n,o,s,r.end,r.start,!0),!i.bounds}interpolate(t){let{x:r,y:i,radius:n}=this,o=t.angle;return{x:r+Math.cos(o)*n,y:i+Math.sin(o)*n,angle:o}}};function hgt(e){let{chart:t,fill:r,line:i}=e;if(To(r))return ugt(t,r);if(r==="stack")return agt(e);if(r==="shape")return!0;let n=fgt(e);return n instanceof O5?n:YW(n,i)}function ugt(e,t){let r=e.getDatasetMeta(t);return r&&e.isDatasetVisible(t)?r.dataset:null}function fgt(e){return(e.scale||{}).getPointPositionForValue?pgt(e):mgt(e)}function mgt(e){let{scale:t={},fill:r}=e,i=ngt(r,t);if(To(i)){let n=t.isHorizontal();return{x:n?i:null,y:n?null:i}}return null}function pgt(e){let{scale:t,fill:r}=e,i=t.options,n=t.getLabels().length,o=i.reverse?t.max:t.min,s=ogt(r,t,o),a=[];if(i.grid.circular){let l=t.getPointPositionForValue(0,o);return new O5({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(s)})}for(let l=0;l<n;++l)a.push(t.getPointPositionForValue(l,s));return a}function _P(e,t,r){let i=hgt(t),{line:n,scale:o,axis:s}=t,a=n.options,l=a.fill,c=a.backgroundColor,{above:d=c,below:h=c}=l||{};i&&n.points.length&&(K1(e,r),ggt(e,{line:n,target:i,above:d,below:h,area:r,scale:o,axis:s}),X1(e))}function ggt(e,t){let{line:r,target:i,above:n,below:o,area:s,scale:a}=t,l=r._loop?"angle":t.axis;e.save(),l==="x"&&o!==n&&(lW(e,i,s.top),cW(e,{line:r,target:i,color:n,scale:a,property:l}),e.restore(),e.save(),lW(e,i,s.bottom)),cW(e,{line:r,target:i,color:o,scale:a,property:l}),e.restore()}function lW(e,t,r){let{segments:i,points:n}=t,o=!0,s=!1;e.beginPath();for(let a of i){let{start:l,end:c}=a,d=n[l],h=n[UP(l,c,n)];o?(e.moveTo(d.x,d.y),o=!1):(e.lineTo(d.x,r),e.lineTo(d.x,d.y)),s=!!t.pathSegment(e,a,{move:s}),s?e.closePath():e.lineTo(h.x,r)}e.lineTo(t.first().x,r),e.closePath(),e.clip()}function cW(e,t){let{line:r,target:i,property:n,color:o,scale:s}=t,a=Jpt(r,i,n);for(let{source:l,target:c,start:d,end:h}of a){let{style:{backgroundColor:u=o}={}}=l,f=i!==!0;e.save(),e.fillStyle=u,bgt(e,s,f&&NP(n,d,h)),e.beginPath();let m=!!r.pathSegment(e,l),g;if(f){m?e.closePath():dW(e,i,h,n);let p=!!i.pathSegment(e,c,{move:m,reverse:!0});g=m&&p,g||dW(e,i,d,n)}e.closePath(),e.fill(g?"evenodd":"nonzero"),e.restore()}}function bgt(e,t,r){let{top:i,bottom:n}=t.chart.chartArea,{property:o,start:s,end:a}=r||{};o==="x"&&(e.beginPath(),e.rect(s,i,a-s,n-i),e.clip())}function dW(e,t,r,i){let n=t.interpolate(r,i);n&&e.lineTo(n.x,n.y)}var vgt={id:"filler",afterDatasetsUpdate(e,t,r){let i=(e.data.datasets||[]).length,n=[],o,s,a,l;for(s=0;s<i;++s)o=e.getDatasetMeta(s),a=o.dataset,l=null,a&&a.options&&a instanceof N5&&(l={visible:e.isDatasetVisible(s),index:s,fill:igt(a,s,i),chart:e,axis:o.controller.options.indexAxis,scale:o.vScale,line:a}),o.$filler=l,n.push(l);for(s=0;s<i;++s)l=n[s],!(!l||l.fill===!1)&&(l.fill=egt(n,s,r.propagate))},beforeDraw(e,t,r){let i=r.drawTime==="beforeDraw",n=e.getSortedVisibleDatasetMetas(),o=e.chartArea;for(let s=n.length-1;s>=0;--s){let a=n[s].$filler;a&&(a.line.updateControlPoints(o,a.axis),i&&a.fill&&_P(e.ctx,a,o))}},beforeDatasetsDraw(e,t,r){if(r.drawTime!=="beforeDatasetsDraw")return;let i=e.getSortedVisibleDatasetMetas();for(let n=i.length-1;n>=0;--n){let o=i[n].$filler;aW(o)&&_P(e.ctx,o,e.chartArea)}},beforeDatasetDraw(e,t,r){let i=t.meta.$filler;!aW(i)||r.drawTime!=="beforeDatasetDraw"||_P(e.ctx,i,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},hW=(e,t)=>{let{boxHeight:r=t,boxWidth:i=t}=e;return e.usePointStyle&&(r=Math.min(r,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:r,itemHeight:Math.max(t,r)}},ygt=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index,P5=class extends wd{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,r,i){this.maxWidth=t,this.maxHeight=r,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let t=this.options.labels||{},r=Gn(t.generateLabels,[this.chart],this)||[];t.filter&&(r=r.filter(i=>t.filter(i,this.chart.data))),t.sort&&(r=r.sort((i,n)=>t.sort(i,n,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){let{options:t,ctx:r}=this;if(!t.display){this.width=this.height=0;return}let i=t.labels,n=cs(i.font),o=n.size,s=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=hW(i,o),c,d;r.font=n.string,this.isHorizontal()?(c=this.maxWidth,d=this._fitRows(s,o,a,l)+10):(d=this.maxHeight,c=this._fitCols(s,n,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(d,t.maxHeight||this.maxHeight)}_fitRows(t,r,i,n){let{ctx:o,maxWidth:s,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],d=n+a,h=t;o.textAlign="left",o.textBaseline="middle";let u=-1,f=-d;return this.legendItems.forEach((m,g)=>{let p=i+r/2+o.measureText(m.text).width;(g===0||c[c.length-1]+p+2*a>s)&&(h+=d,c[c.length-(g>0?0:1)]=0,f+=d,u++),l[g]={left:0,top:f,row:u,width:p,height:n},c[c.length-1]+=p+a}),h}_fitCols(t,r,i,n){let{ctx:o,maxHeight:s,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],d=s-t,h=a,u=0,f=0,m=0,g=0;return this.legendItems.forEach((p,b)=>{let{itemWidth:_,itemHeight:E}=_gt(i,r,o,p,n);b>0&&f+E+2*a>d&&(h+=u+a,c.push({width:u,height:f}),m+=u+a,g++,u=f=0),l[b]={left:m,top:f,col:g,width:_,height:E},u=Math.max(u,_),f+=E+a}),h+=u,c.push({width:u,height:f}),h}adjustHitBoxes(){if(!this.options.display)return;let t=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:i,labels:{padding:n},rtl:o}}=this,s=qg(o,this.left,this.width);if(this.isHorizontal()){let a=0,l=ia(i,this.left+n,this.right-this.lineWidths[a]);for(let c of r)a!==c.row&&(a=c.row,l=ia(i,this.left+n,this.right-this.lineWidths[a])),c.top+=this.top+t+n,c.left=s.leftForLtr(s.x(l),c.width),l+=c.width+n}else{let a=0,l=ia(i,this.top+t+n,this.bottom-this.columnSizes[a].height);for(let c of r)c.col!==a&&(a=c.col,l=ia(i,this.top+t+n,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+n,c.left=s.leftForLtr(s.x(c.left),c.width),l+=c.height+n}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let t=this.ctx;K1(t,this),this._draw(),X1(t)}}_draw(){let{options:t,columnSizes:r,lineWidths:i,ctx:n}=this,{align:o,labels:s}=t,a=uo.color,l=qg(t.rtl,this.left,this.width),c=cs(s.font),{padding:d}=s,h=c.size,u=h/2,f;this.drawTitle(),n.textAlign=l.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=c.string;let{boxWidth:m,boxHeight:g,itemHeight:p}=hW(s,h),b=function(H,F,L){if(isNaN(m)||m<=0||isNaN(g)||g<0)return;n.save();let q=pr(L.lineWidth,1);if(n.fillStyle=pr(L.fillStyle,a),n.lineCap=pr(L.lineCap,"butt"),n.lineDashOffset=pr(L.lineDashOffset,0),n.lineJoin=pr(L.lineJoin,"miter"),n.lineWidth=q,n.strokeStyle=pr(L.strokeStyle,a),n.setLineDash(pr(L.lineDash,[])),s.usePointStyle){let W={radius:g*Math.SQRT2/2,pointStyle:L.pointStyle,rotation:L.rotation,borderWidth:q},x=l.xPlus(H,m/2),R=F+u;tP(n,W,x,R,s.pointStyleWidth&&m)}else{let W=F+Math.max((h-g)/2,0),x=l.leftForLtr(H,m),R=Im(L.borderRadius);n.beginPath(),Object.values(R).some(j=>j!==0)?Iv(n,{x,y:W,w:m,h:g,radius:R}):n.rect(x,W,m,g),n.fill(),q!==0&&n.stroke()}n.restore()},_=function(H,F,L){Am(n,L.text,H,F+p/2,c,{strikethrough:L.hidden,textAlign:l.textAlign(L.textAlign)})},E=this.isHorizontal(),O=this._computeTitleHeight();E?f={x:ia(o,this.left+d,this.right-i[0]),y:this.top+d+O,line:0}:f={x:this.left+d,y:ia(o,this.top+O+d,this.bottom-r[0].height),line:0},lP(this.ctx,t.textDirection);let V=p+d;this.legendItems.forEach((H,F)=>{n.strokeStyle=H.fontColor,n.fillStyle=H.fontColor;let L=n.measureText(H.text).width,q=l.textAlign(H.textAlign||(H.textAlign=s.textAlign)),W=m+u+L,x=f.x,R=f.y;l.setWidth(this.width),E?F>0&&x+W+d>this.right&&(R=f.y+=V,f.line++,x=f.x=ia(o,this.left+d,this.right-i[f.line])):F>0&&R+V>this.bottom&&(x=f.x=x+r[f.line].width+d,f.line++,R=f.y=ia(o,this.top+O+d,this.bottom-r[f.line].height));let j=l.x(x);if(b(j,R,H),x=dU(q,x+m+u,E?x+W:this.right,t.rtl),_(l.x(x),R,H),E)f.x+=W+d;else if(typeof H.text!="string"){let v=c.lineHeight;f.y+=$W(H,v)+d}else f.y+=V}),cP(this.ctx,t.textDirection)}drawTitle(){let t=this.options,r=t.title,i=cs(r.font),n=ra(r.padding);if(!r.display)return;let o=qg(t.rtl,this.left,this.width),s=this.ctx,a=r.position,l=i.size/2,c=n.top+l,d,h=this.left,u=this.width;if(this.isHorizontal())u=Math.max(...this.lineWidths),d=this.top+c,h=ia(t.align,h,this.right-u);else{let m=this.columnSizes.reduce((g,p)=>Math.max(g,p.height),0);d=c+ia(t.align,this.top,this.bottom-m-t.labels.padding-this._computeTitleHeight())}let f=ia(a,h,h+u);s.textAlign=o.textAlign(u5(a)),s.textBaseline="middle",s.strokeStyle=r.color,s.fillStyle=r.color,s.font=i.string,Am(s,r.text,f,d,i)}_computeTitleHeight(){let t=this.options.title,r=cs(t.font),i=ra(t.padding);return t.display?r.lineHeight+i.height:0}_getLegendItemAt(t,r){let i,n,o;if(Dh(t,this.left,this.right)&&Dh(r,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(n=o[i],Dh(t,n.left,n.left+n.width)&&Dh(r,n.top,n.top+n.height))return this.legendItems[i]}return null}handleEvent(t){let r=this.options;if(!xgt(t.type,r))return;let i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){let n=this._hoveredItem,o=ygt(n,i);n&&!o&&Gn(r.onLeave,[t,n,this],this),this._hoveredItem=i,i&&!o&&Gn(r.onHover,[t,i,this],this)}else i&&Gn(r.onClick,[t,i,this],this)}};function _gt(e,t,r,i,n){let o=wgt(i,e,t,r),s=Cgt(n,i,t.lineHeight);return{itemWidth:o,itemHeight:s}}function wgt(e,t,r,i){let n=e.text;return n&&typeof n!="string"&&(n=n.reduce((o,s)=>o.length>s.length?o:s)),t+r.size/2+i.measureText(n).width}function Cgt(e,t,r){let i=e;return typeof t.text!="string"&&(i=$W(t,r)),i}function $W(e,t){let r=e.text?e.text.length:0;return t*r}function xgt(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var Sgt={id:"legend",_element:P5,start(e,t,r){let i=e.legend=new P5({ctx:e.ctx,options:r,chart:e});va.configure(e,i,r),va.addBox(e,i)},stop(e){va.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,r){let i=e.legend;va.configure(e,i,r),i.options=r},afterUpdate(e){let t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,r){let i=t.datasetIndex,n=r.chart;n.isDatasetVisible(i)?(n.hide(i),t.hidden=!0):(n.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){let t=e.data.datasets,{labels:{usePointStyle:r,pointStyle:i,textAlign:n,color:o,useBorderRadius:s,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{let c=l.controller.getStyle(r?0:void 0),d=ra(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:o,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:n||c.textAlign,borderRadius:s&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}},oC=class extends wd{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,r){let i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=r;let n=eo(i.text)?i.text.length:1;this._padding=ra(i.padding);let o=n*cs(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){let t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){let{top:r,left:i,bottom:n,right:o,options:s}=this,a=s.align,l=0,c,d,h;return this.isHorizontal()?(d=ia(a,i,o),h=r+t,c=o-i):(s.position==="left"?(d=i+t,h=ia(a,n,r),l=io*-.5):(d=o-t,h=ia(a,r,n),l=io*.5),c=n-r),{titleX:d,titleY:h,maxWidth:c,rotation:l}}draw(){let t=this.ctx,r=this.options;if(!r.display)return;let i=cs(r.font),o=i.lineHeight/2+this._padding.top,{titleX:s,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(o);Am(t,r.text,0,0,i,{color:r.color,maxWidth:l,rotation:c,textAlign:u5(r.align),textBaseline:"middle",translation:[s,a]})}};function Egt(e,t){let r=new oC({ctx:e.ctx,options:t,chart:e});va.configure(e,r,t),va.addBox(e,r),e.titleBlock=r}var Rgt={id:"title",_element:oC,start(e,t,r){Egt(e,r)},stop(e){let t=e.titleBlock;va.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,r){let i=e.titleBlock;va.configure(e,i,r),i.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},S5=new WeakMap,Tgt={id:"subtitle",start(e,t,r){let i=new oC({ctx:e.ctx,options:r,chart:e});va.configure(e,i,r),va.addBox(e,i),S5.set(e,i)},stop(e){va.removeBox(e,S5.get(e)),S5.delete(e)},beforeUpdate(e,t,r){let i=S5.get(e);va.configure(e,i,r),i.options=r},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},rC={average(e){if(!e.length)return!1;let t,r,i=new Set,n=0,o=0;for(t=0,r=e.length;t<r;++t){let a=e[t].element;if(a&&a.hasValue()){let l=a.tooltipPosition();i.add(l.x),n+=l.y,++o}}return{x:[...i].reduce((a,l)=>a+l)/i.size,y:n/o}},nearest(e,t){if(!e.length)return!1;let r=t.x,i=t.y,n=Number.POSITIVE_INFINITY,o,s,a;for(o=0,s=e.length;o<s;++o){let l=e[o].element;if(l&&l.hasValue()){let c=l.getCenterPoint(),d=a5(t,c);d<n&&(n=d,a=l)}}if(a){let l=a.tooltipPosition();r=l.x,i=l.y}return{x:r,y:i}}};function Oh(e,t){return t&&(eo(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function nf(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function Mgt(e,t){let{element:r,datasetIndex:i,index:n}=t,o=e.getDatasetMeta(i).controller,{label:s,value:a}=o.getLabelAndValue(n);return{chart:e,label:s,parsed:o.getParsed(n),raw:e.data.datasets[i].data[n],formattedValue:a,dataset:o.getDataset(),dataIndex:n,datasetIndex:i,element:r}}function uW(e,t){let r=e.chart.ctx,{body:i,footer:n,title:o}=e,{boxWidth:s,boxHeight:a}=t,l=cs(t.bodyFont),c=cs(t.titleFont),d=cs(t.footerFont),h=o.length,u=n.length,f=i.length,m=ra(t.padding),g=m.height,p=0,b=i.reduce((O,V)=>O+V.before.length+V.lines.length+V.after.length,0);if(b+=e.beforeBody.length+e.afterBody.length,h&&(g+=h*c.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),b){let O=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=f*O+(b-f)*l.lineHeight+(b-1)*t.bodySpacing}u&&(g+=t.footerMarginTop+u*d.lineHeight+(u-1)*t.footerSpacing);let _=0,E=function(O){p=Math.max(p,r.measureText(O).width+_)};return r.save(),r.font=c.string,vn(e.title,E),r.font=l.string,vn(e.beforeBody.concat(e.afterBody),E),_=t.displayColors?s+2+t.boxPadding:0,vn(i,O=>{vn(O.before,E),vn(O.lines,E),vn(O.after,E)}),_=0,r.font=d.string,vn(e.footer,E),r.restore(),p+=m.width,{width:p,height:g}}function Agt(e,t){let{y:r,height:i}=t;return r<i/2?"top":r>e.height-i/2?"bottom":"center"}function Igt(e,t,r,i){let{x:n,width:o}=i,s=r.caretSize+r.caretPadding;if(e==="left"&&n+o+s>t.width||e==="right"&&n-o-s<0)return!0}function kgt(e,t,r,i){let{x:n,width:o}=r,{width:s,chartArea:{left:a,right:l}}=e,c="center";return i==="center"?c=n<=(a+l)/2?"left":"right":n<=o/2?c="left":n>=s-o/2&&(c="right"),Igt(c,e,t,r)&&(c="center"),c}function fW(e,t,r){let i=r.yAlign||t.yAlign||Agt(e,r);return{xAlign:r.xAlign||t.xAlign||kgt(e,t,r,i),yAlign:i}}function Dgt(e,t){let{x:r,width:i}=e;return t==="right"?r-=i:t==="center"&&(r-=i/2),r}function Ogt(e,t,r){let{y:i,height:n}=e;return t==="top"?i+=r:t==="bottom"?i-=n+r:i-=n/2,i}function mW(e,t,r,i){let{caretSize:n,caretPadding:o,cornerRadius:s}=e,{xAlign:a,yAlign:l}=r,c=n+o,{topLeft:d,topRight:h,bottomLeft:u,bottomRight:f}=Im(s),m=Dgt(t,a),g=Ogt(t,l,c);return l==="center"?a==="left"?m+=c:a==="right"&&(m-=c):a==="left"?m-=Math.max(d,u)+n:a==="right"&&(m+=Math.max(h,f)+n),{x:bs(m,0,i.width-t.width),y:bs(g,0,i.height-t.height)}}function E5(e,t,r){let i=ra(r.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-i.right:e.x+i.left}function pW(e){return Oh([],nf(e))}function Pgt(e,t,r){return ef(e,{tooltip:t,tooltipItems:r,type:"tooltip"})}function gW(e,t){let r=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return r?e.override(r):e}var qW={beforeTitle:kh,title(e){if(e.length>0){let t=e[0],r=t.chart.data.labels,i=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return r[t.dataIndex]}return""},afterTitle:kh,beforeBody:kh,beforeLabel:kh,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");let r=e.formattedValue;return Xr(r)||(t+=r),t},labelColor(e){let r=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){let r=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:kh,afterBody:kh,beforeFooter:kh,footer:kh,afterFooter:kh};function fl(e,t,r,i){let n=e[t].call(r,i);return typeof n>"u"?qW[t].call(r,i):n}var bW=(()=>{class e extends wd{static positioners=rC;constructor(r){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=r.chart,this.options=r.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(r){this.options=r,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let r=this._cachedAnimations;if(r)return r;let i=this.chart,n=this.options.setContext(this.getContext()),o=n.enabled&&i.options.animation&&n.animations,s=new A5(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=Pgt(this.chart.getContext(),this,this._tooltipItems))}getTitle(r,i){let{callbacks:n}=i,o=fl(n,"beforeTitle",this,r),s=fl(n,"title",this,r),a=fl(n,"afterTitle",this,r),l=[];return l=Oh(l,nf(o)),l=Oh(l,nf(s)),l=Oh(l,nf(a)),l}getBeforeBody(r,i){return pW(fl(i.callbacks,"beforeBody",this,r))}getBody(r,i){let{callbacks:n}=i,o=[];return vn(r,s=>{let a={before:[],lines:[],after:[]},l=gW(n,s);Oh(a.before,nf(fl(l,"beforeLabel",this,s))),Oh(a.lines,fl(l,"label",this,s)),Oh(a.after,nf(fl(l,"afterLabel",this,s))),o.push(a)}),o}getAfterBody(r,i){return pW(fl(i.callbacks,"afterBody",this,r))}getFooter(r,i){let{callbacks:n}=i,o=fl(n,"beforeFooter",this,r),s=fl(n,"footer",this,r),a=fl(n,"afterFooter",this,r),l=[];return l=Oh(l,nf(o)),l=Oh(l,nf(s)),l=Oh(l,nf(a)),l}_createItems(r){let i=this._active,n=this.chart.data,o=[],s=[],a=[],l=[],c,d;for(c=0,d=i.length;c<d;++c)l.push(Mgt(this.chart,i[c]));return r.filter&&(l=l.filter((h,u,f)=>r.filter(h,u,f,n))),r.itemSort&&(l=l.sort((h,u)=>r.itemSort(h,u,n))),vn(l,h=>{let u=gW(r.callbacks,h);o.push(fl(u,"labelColor",this,h)),s.push(fl(u,"labelPointStyle",this,h)),a.push(fl(u,"labelTextColor",this,h))}),this.labelColors=o,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=l,l}update(r,i){let n=this.options.setContext(this.getContext()),o=this._active,s,a=[];if(!o.length)this.opacity!==0&&(s={opacity:0});else{let l=rC[n.position].call(this,o,this._eventPosition);a=this._createItems(n),this.title=this.getTitle(a,n),this.beforeBody=this.getBeforeBody(a,n),this.body=this.getBody(a,n),this.afterBody=this.getAfterBody(a,n),this.footer=this.getFooter(a,n);let c=this._size=uW(this,n),d=Object.assign({},l,c),h=fW(this.chart,n,d),u=mW(n,d,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,s={opacity:1,x:u.x,y:u.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),r&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(r,i,n,o){let s=this.getCaretPosition(r,n,o);i.lineTo(s.x1,s.y1),i.lineTo(s.x2,s.y2),i.lineTo(s.x3,s.y3)}getCaretPosition(r,i,n){let{xAlign:o,yAlign:s}=this,{caretSize:a,cornerRadius:l}=n,{topLeft:c,topRight:d,bottomLeft:h,bottomRight:u}=Im(l),{x:f,y:m}=r,{width:g,height:p}=i,b,_,E,O,V,H;return s==="center"?(V=m+p/2,o==="left"?(b=f,_=b-a,O=V+a,H=V-a):(b=f+g,_=b+a,O=V-a,H=V+a),E=b):(o==="left"?_=f+Math.max(c,h)+a:o==="right"?_=f+g-Math.max(d,u)-a:_=this.caretX,s==="top"?(O=m,V=O-a,b=_-a,E=_+a):(O=m+p,V=O+a,b=_+a,E=_-a),H=O),{x1:b,x2:_,x3:E,y1:O,y2:V,y3:H}}drawTitle(r,i,n){let o=this.title,s=o.length,a,l,c;if(s){let d=qg(n.rtl,this.x,this.width);for(r.x=E5(this,n.titleAlign,n),i.textAlign=d.textAlign(n.titleAlign),i.textBaseline="middle",a=cs(n.titleFont),l=n.titleSpacing,i.fillStyle=n.titleColor,i.font=a.string,c=0;c<s;++c)i.fillText(o[c],d.x(r.x),r.y+a.lineHeight/2),r.y+=a.lineHeight+l,c+1===s&&(r.y+=n.titleMarginBottom-l)}}_drawColorBox(r,i,n,o,s){let a=this.labelColors[n],l=this.labelPointStyles[n],{boxHeight:c,boxWidth:d}=s,h=cs(s.bodyFont),u=E5(this,"left",s),f=o.x(u),m=c<h.lineHeight?(h.lineHeight-c)/2:0,g=i.y+m;if(s.usePointStyle){let p={radius:Math.min(d,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},b=o.leftForLtr(f,d)+d/2,_=g+c/2;r.strokeStyle=s.multiKeyBackground,r.fillStyle=s.multiKeyBackground,m5(r,p,b,_),r.strokeStyle=a.borderColor,r.fillStyle=a.backgroundColor,m5(r,p,b,_)}else{r.lineWidth=Br(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,r.strokeStyle=a.borderColor,r.setLineDash(a.borderDash||[]),r.lineDashOffset=a.borderDashOffset||0;let p=o.leftForLtr(f,d),b=o.leftForLtr(o.xPlus(f,1),d-2),_=Im(a.borderRadius);Object.values(_).some(E=>E!==0)?(r.beginPath(),r.fillStyle=s.multiKeyBackground,Iv(r,{x:p,y:g,w:d,h:c,radius:_}),r.fill(),r.stroke(),r.fillStyle=a.backgroundColor,r.beginPath(),Iv(r,{x:b,y:g+1,w:d-2,h:c-2,radius:_}),r.fill()):(r.fillStyle=s.multiKeyBackground,r.fillRect(p,g,d,c),r.strokeRect(p,g,d,c),r.fillStyle=a.backgroundColor,r.fillRect(b,g+1,d-2,c-2))}r.fillStyle=this.labelTextColors[n]}drawBody(r,i,n){let{body:o}=this,{bodySpacing:s,bodyAlign:a,displayColors:l,boxHeight:c,boxWidth:d,boxPadding:h}=n,u=cs(n.bodyFont),f=u.lineHeight,m=0,g=qg(n.rtl,this.x,this.width),p=function(q){i.fillText(q,g.x(r.x+m),r.y+f/2),r.y+=f+s},b=g.textAlign(a),_,E,O,V,H,F,L;for(i.textAlign=a,i.textBaseline="middle",i.font=u.string,r.x=E5(this,b,n),i.fillStyle=n.bodyColor,vn(this.beforeBody,p),m=l&&b!=="right"?a==="center"?d/2+h:d+2+h:0,V=0,F=o.length;V<F;++V){for(_=o[V],E=this.labelTextColors[V],i.fillStyle=E,vn(_.before,p),O=_.lines,l&&O.length&&(this._drawColorBox(i,r,V,g,n),f=Math.max(u.lineHeight,c)),H=0,L=O.length;H<L;++H)p(O[H]),f=u.lineHeight;vn(_.after,p)}m=0,f=u.lineHeight,vn(this.afterBody,p),r.y-=s}drawFooter(r,i,n){let o=this.footer,s=o.length,a,l;if(s){let c=qg(n.rtl,this.x,this.width);for(r.x=E5(this,n.footerAlign,n),r.y+=n.footerMarginTop,i.textAlign=c.textAlign(n.footerAlign),i.textBaseline="middle",a=cs(n.footerFont),i.fillStyle=n.footerColor,i.font=a.string,l=0;l<s;++l)i.fillText(o[l],c.x(r.x),r.y+a.lineHeight/2),r.y+=a.lineHeight+n.footerSpacing}}drawBackground(r,i,n,o){let{xAlign:s,yAlign:a}=this,{x:l,y:c}=r,{width:d,height:h}=n,{topLeft:u,topRight:f,bottomLeft:m,bottomRight:g}=Im(o.cornerRadius);i.fillStyle=o.backgroundColor,i.strokeStyle=o.borderColor,i.lineWidth=o.borderWidth,i.beginPath(),i.moveTo(l+u,c),a==="top"&&this.drawCaret(r,i,n,o),i.lineTo(l+d-f,c),i.quadraticCurveTo(l+d,c,l+d,c+f),a==="center"&&s==="right"&&this.drawCaret(r,i,n,o),i.lineTo(l+d,c+h-g),i.quadraticCurveTo(l+d,c+h,l+d-g,c+h),a==="bottom"&&this.drawCaret(r,i,n,o),i.lineTo(l+m,c+h),i.quadraticCurveTo(l,c+h,l,c+h-m),a==="center"&&s==="left"&&this.drawCaret(r,i,n,o),i.lineTo(l,c+u),i.quadraticCurveTo(l,c,l+u,c),i.closePath(),i.fill(),o.borderWidth>0&&i.stroke()}_updateAnimationTarget(r){let i=this.chart,n=this.$animations,o=n&&n.x,s=n&&n.y;if(o||s){let a=rC[r.position].call(this,this._active,this._eventPosition);if(!a)return;let l=this._size=uW(this,r),c=Object.assign({},a,this._size),d=fW(i,r,c),h=mW(r,c,d,i);(o._to!==h.x||s._to!==h.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(r){let i=this.options.setContext(this.getContext()),n=this.opacity;if(!n)return;this._updateAnimationTarget(i);let o={width:this.width,height:this.height},s={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;let a=ra(i.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;i.enabled&&l&&(r.save(),r.globalAlpha=n,this.drawBackground(s,r,o,i),lP(r,i.textDirection),s.y+=a.top,this.drawTitle(s,r,i),this.drawBody(s,r,i),this.drawFooter(s,r,i),cP(r,i.textDirection),r.restore())}getActiveElements(){return this._active||[]}setActiveElements(r,i){let n=this._active,o=r.map(({datasetIndex:l,index:c})=>{let d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[c],index:c}}),s=!q1(n,o),a=this._positionChanged(o,i);(s||a)&&(this._active=o,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(r,i,n=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let o=this.options,s=this._active||[],a=this._getActiveElements(r,s,i,n),l=this._positionChanged(a,r),c=i||!q1(a,s)||l;return c&&(this._active=a,(o.enabled||o.external)&&(this._eventPosition={x:r.x,y:r.y},this.update(!0,i))),c}_getActiveElements(r,i,n,o){let s=this.options;if(r.type==="mouseout")return[];if(!o)return i.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);let a=this.chart.getElementsAtEventForMode(r,s.mode,s,n);return s.reverse&&a.reverse(),a}_positionChanged(r,i){let{caretX:n,caretY:o,options:s}=this,a=rC[s.position].call(this,r,i);return a!==!1&&(n!==a.x||o!==a.y)}}return e})(),Ngt={id:"tooltip",_element:bW,positioners:rC,afterInit(e,t,r){r&&(e.tooltip=new bW({chart:e,options:r}))},beforeUpdate(e,t,r){e.tooltip&&e.tooltip.initialize(r)},reset(e,t,r){e.tooltip&&e.tooltip.initialize(r)},afterDraw(e){let t=e.tooltip;if(t&&t._willRender()){let r={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",Ue(jt({},r),{cancelable:!0}))===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",r)}},afterEvent(e,t){if(e.tooltip){let r=t.replay;e.tooltip.handleEvent(t.event,r,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:qW},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Lgt=Object.freeze({__proto__:null,Colors:Gpt,Decimation:Qpt,Filler:vgt,Legend:Sgt,SubTitle:Tgt,Title:Rgt,Tooltip:Ngt}),Fgt=(e,t,r,i)=>(typeof t=="string"?(r=e.push(t)-1,i.unshift({index:r,label:t})):isNaN(t)&&(r=null),r);function Hgt(e,t,r,i){let n=e.indexOf(t);if(n===-1)return Fgt(e,t,r,i);let o=e.lastIndexOf(t);return n!==o?r:n}var Bgt=(e,t)=>e===null?null:bs(Math.round(e),0,t);function vW(e){let t=this.getLabels();return e>=0&&e<t.length?t[e]:e}var jgt=(()=>{class e extends Xg{static id="category";static defaults={ticks:{callback:vW}};constructor(r){super(r),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(r){let i=this._addedLabels;if(i.length){let n=this.getLabels();for(let{index:o,label:s}of i)n[o]===s&&n.splice(o,1);this._addedLabels=[]}super.init(r)}parse(r,i){if(Xr(r))return null;let n=this.getLabels();return i=isFinite(i)&&n[i]===r?i:Hgt(n,r,pr(i,r),this._addedLabels),Bgt(i,n.length-1)}determineDataLimits(){let{minDefined:r,maxDefined:i}=this.getUserBounds(),{min:n,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(r||(n=0),i||(o=this.getLabels().length-1)),this.min=n,this.max=o}buildTicks(){let r=this.min,i=this.max,n=this.options.offset,o=[],s=this.getLabels();s=r===0&&i===s.length-1?s:s.slice(r,i+1),this._valueRange=Math.max(s.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let a=r;a<=i;a++)o.push({value:a});return o}getLabelForValue(r){return vW.call(this,r)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(r){return typeof r!="number"&&(r=this.parse(r)),r===null?NaN:this.getPixelForDecimal((r-this._startValue)/this._valueRange)}getPixelForTick(r){let i=this.ticks;return r<0||r>i.length-1?null:this.getPixelForValue(i[r].value)}getValueForPixel(r){return Math.round(this._startValue+this.getDecimalForPixel(r)*this._valueRange)}getBasePixel(){return this.bottom}}return e})();function Vgt(e,t){let r=[],{bounds:n,step:o,min:s,max:a,precision:l,count:c,maxTicks:d,maxDigits:h,includeBounds:u}=e,f=o||1,m=d-1,{min:g,max:p}=t,b=!Xr(s),_=!Xr(a),E=!Xr(c),O=(p-g)/(h+1),V=V4((p-g)/m/f)*f,H,F,L,q;if(V<1e-14&&!b&&!_)return[{value:g},{value:p}];q=Math.ceil(p/V)-Math.floor(g/V),q>m&&(V=V4(q*V/m/f)*f),Xr(l)||(H=Math.pow(10,l),V=Math.ceil(V*H)/H),n==="ticks"?(F=Math.floor(g/V)*V,L=Math.ceil(p/V)*V):(F=g,L=p),b&&_&&o&&rU((a-s)/o,V/1e3)?(q=Math.round(Math.min((a-s)/V,d)),V=(a-s)/q,F=s,L=a):E?(F=b?s:F,L=_?a:L,q=c-1,V=(L-F)/q):(q=(L-F)/V,Tv(q,Math.round(q),V/1e3)?q=Math.round(q):q=Math.ceil(q));let W=Math.max(U4(V),U4(F));H=Math.pow(10,Xr(l)?W:l),F=Math.round(F*H)/H,L=Math.round(L*H)/H;let x=0;for(b&&(u&&F!==s?(r.push({value:s}),F<s&&x++,Tv(Math.round((F+x*V)*H)/H,s,yW(s,O,e))&&x++):F<s&&x++);x<q;++x){let R=Math.round((F+x*V)*H)/H;if(_&&R>a)break;r.push({value:R})}return _&&u&&L!==a?r.length&&Tv(r[r.length-1].value,a,yW(a,O,e))?r[r.length-1].value=a:r.push({value:a}):(!_||L===a)&&r.push({value:L}),r}function yW(e,t,{horizontal:r,minRotation:i}){let n=Mc(i),o=(r?Math.sin(n):Math.cos(n))||.001,s=.75*t*(""+e).length;return Math.min(t/o,s)}var Pv=class extends Xg{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,r){return Xr(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){let{beginAtZero:t}=this.options,{minDefined:r,maxDefined:i}=this.getUserBounds(),{min:n,max:o}=this,s=l=>n=r?n:l,a=l=>o=i?o:l;if(t){let l=_d(n),c=_d(o);l<0&&c<0?a(0):l>0&&c>0&&s(0)}if(n===o){let l=o===0?1:Math.abs(o*.05);a(o+l),t||s(n-l)}this.min=n,this.max=o}getTickLimit(){let t=this.options.ticks,{maxTicksLimit:r,stepSize:i}=t,n;return i?(n=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,n>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${n} ticks. Limiting to 1000.`),n=1e3)):(n=this.computeTickLimit(),r=r||11),r&&(n=Math.min(r,n)),n}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let t=this.options,r=t.ticks,i=this.getTickLimit();i=Math.max(2,i);let n={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},o=this._range||this,s=Vgt(n,o);return t.bounds==="ticks"&&z4(s,this,"value"),t.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){let t=this.ticks,r=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){let n=(i-r)/Math.max(t.length-1,1)/2;r-=n,i+=n}this._startValue=r,this._endValue=i,this._valueRange=i-r}getLabelForValue(t){return Av(t,this.chart.options.locale,this.options.ticks.format)}},LP=class extends Pv{static id="linear";static defaults={ticks:{callback:G1.formatters.numeric}};determineDataLimits(){let{min:t,max:r}=this.getMinMax(!0);this.min=To(t)?t:0,this.max=To(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){let t=this.isHorizontal(),r=t?this.width:this.height,i=Mc(this.options.ticks.minRotation),n=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,o.lineHeight/n))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}},sC=e=>Math.floor(Ju(e)),Kg=(e,t)=>Math.pow(10,sC(e)+t);function _W(e){return e/Math.pow(10,sC(e))===1}function wW(e,t,r){let i=Math.pow(10,r),n=Math.floor(e/i);return Math.ceil(t/i)-n}function zgt(e,t){let r=t-e,i=sC(r);for(;wW(e,t,i)>10;)i++;for(;wW(e,t,i)<10;)i--;return Math.min(i,sC(e))}function Ugt(e,{min:t,max:r}){t=ul(e.min,t);let i=[],n=sC(t),o=zgt(t,r),s=o<0?Math.pow(10,Math.abs(o)):1,a=Math.pow(10,o),l=n>o?Math.pow(10,n):0,c=Math.round((t-l)*s)/s,d=Math.floor((t-l)/a/10)*a*10,h=Math.floor((c-d)/Math.pow(10,o)),u=ul(e.min,Math.round((l+d+h*Math.pow(10,o))*s)/s);for(;u<r;)i.push({value:u,major:_W(u),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(o++,h=2,s=o>=0?1:s),u=Math.round((l+d+h*Math.pow(10,o))*s)/s;let f=ul(e.max,u);return i.push({value:f,major:_W(f),significand:h}),i}var FP=class extends Xg{static id="logarithmic";static defaults={ticks:{callback:G1.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,r){let i=Pv.prototype.parse.apply(this,[t,r]);if(i===0){this._zero=!0;return}return To(i)&&i>0?i:null}determineDataLimits(){let{min:t,max:r}=this.getMinMax(!0);this.min=To(t)?Math.max(0,t):null,this.max=To(r)?Math.max(0,r):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!To(this._userMin)&&(this.min=t===Kg(this.min,0)?Kg(this.min,-1):Kg(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:t,maxDefined:r}=this.getUserBounds(),i=this.min,n=this.max,o=a=>i=t?i:a,s=a=>n=r?n:a;i===n&&(i<=0?(o(1),s(10)):(o(Kg(i,-1)),s(Kg(n,1)))),i<=0&&o(Kg(n,-1)),n<=0&&s(Kg(i,1)),this.min=i,this.max=n}buildTicks(){let t=this.options,r={min:this._userMin,max:this._userMax},i=Ugt(r,this);return t.bounds==="ticks"&&z4(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":Av(t,this.chart.options.locale,this.options.ticks.format)}configure(){let t=this.min;super.configure(),this._startValue=Ju(t),this._valueRange=Ju(this.max)-Ju(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Ju(t)-this._startValue)/this._valueRange)}getValueForPixel(t){let r=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+r*this._valueRange)}};function HP(e){let t=e.ticks;if(t.display&&e.display){let r=ra(t.backdropPadding);return pr(t.font&&t.font.size,uo.font.size)+r.height}return 0}function Wgt(e,t,r){return r=eo(r)?r:[r],{w:uU(e,t.string,r),h:r.length*t.lineHeight}}function CW(e,t,r,i,n){return e===i||e===n?{start:t-r/2,end:t+r/2}:e<i||e>n?{start:t-r,end:t}:{start:t,end:t+r}}function Ygt(e){let t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},r=Object.assign({},t),i=[],n=[],o=e._pointLabels.length,s=e.options.pointLabels,a=s.centerPointLabels?io/o:0;for(let l=0;l<o;l++){let c=s.setContext(e.getPointLabelContext(l));n[l]=c.padding;let d=e.getPointPosition(l,e.drawingArea+n[l],a),h=cs(c.font),u=Wgt(e.ctx,h,e._pointLabels[l]);i[l]=u;let f=hl(e.getIndexAngle(l)+a),m=Math.round(d5(f)),g=CW(m,d.x,u.w,0,180),p=CW(m,d.y,u.h,90,270);$gt(r,t,f,g,p)}e.setCenterPoint(t.l-r.l,r.r-t.r,t.t-r.t,r.b-t.b),e._pointLabelItems=Kgt(e,i,n)}function $gt(e,t,r,i,n){let o=Math.abs(Math.sin(r)),s=Math.abs(Math.cos(r)),a=0,l=0;i.start<t.l?(a=(t.l-i.start)/o,e.l=Math.min(e.l,t.l-a)):i.end>t.r&&(a=(i.end-t.r)/o,e.r=Math.max(e.r,t.r+a)),n.start<t.t?(l=(t.t-n.start)/s,e.t=Math.min(e.t,t.t-l)):n.end>t.b&&(l=(n.end-t.b)/s,e.b=Math.max(e.b,t.b+l))}function qgt(e,t,r){let i=e.drawingArea,{extra:n,additionalAngle:o,padding:s,size:a}=r,l=e.getPointPosition(t,i+n+s,o),c=Math.round(d5(hl(l.angle+Bo))),d=Qgt(l.y,a.h,c),h=Xgt(c),u=Zgt(l.x,a.w,h);return{visible:!0,x:l.x,y:d,textAlign:h,left:u,top:d,right:u+a.w,bottom:d+a.h}}function Ggt(e,t){if(!t)return!0;let{left:r,top:i,right:n,bottom:o}=e;return!(Ih({x:r,y:i},t)||Ih({x:r,y:o},t)||Ih({x:n,y:i},t)||Ih({x:n,y:o},t))}function Kgt(e,t,r){let i=[],n=e._pointLabels.length,o=e.options,{centerPointLabels:s,display:a}=o.pointLabels,l={extra:HP(o)/2,additionalAngle:s?io/n:0},c;for(let d=0;d<n;d++){l.padding=r[d],l.size=t[d];let h=qgt(e,d,l);i.push(h),a==="auto"&&(h.visible=Ggt(h,c),h.visible&&(c=h))}return i}function Xgt(e){return e===0||e===180?"center":e<180?"left":"right"}function Zgt(e,t,r){return r==="right"?e-=t:r==="center"&&(e-=t/2),e}function Qgt(e,t,r){return r===90||r===270?e-=t/2:(r>270||r<90)&&(e-=t),e}function Jgt(e,t,r){let{left:i,top:n,right:o,bottom:s}=r,{backdropColor:a}=t;if(!Xr(a)){let l=Im(t.borderRadius),c=ra(t.backdropPadding);e.fillStyle=a;let d=i-c.left,h=n-c.top,u=o-i+c.width,f=s-n+c.height;Object.values(l).some(m=>m!==0)?(e.beginPath(),Iv(e,{x:d,y:h,w:u,h:f,radius:l}),e.fill()):e.fillRect(d,h,u,f)}}function t0t(e,t){let{ctx:r,options:{pointLabels:i}}=e;for(let n=t-1;n>=0;n--){let o=e._pointLabelItems[n];if(!o.visible)continue;let s=i.setContext(e.getPointLabelContext(n));Jgt(r,s,o);let a=cs(s.font),{x:l,y:c,textAlign:d}=o;Am(r,e._pointLabels[n],l,c+a.lineHeight/2,a,{color:s.color,textAlign:d,textBaseline:"middle"})}}function GW(e,t,r,i){let{ctx:n}=e;if(r)n.arc(e.xCenter,e.yCenter,t,0,ro);else{let o=e.getPointPosition(0,t);n.moveTo(o.x,o.y);for(let s=1;s<i;s++)o=e.getPointPosition(s,t),n.lineTo(o.x,o.y)}}function e0t(e,t,r,i,n){let o=e.ctx,s=t.circular,{color:a,lineWidth:l}=t;!s&&!i||!a||!l||r<0||(o.save(),o.strokeStyle=a,o.lineWidth=l,o.setLineDash(n.dash),o.lineDashOffset=n.dashOffset,o.beginPath(),GW(e,r,s,i),o.closePath(),o.stroke(),o.restore())}function i0t(e,t,r){return ef(e,{label:r,index:t,type:"pointLabel"})}var BP=class extends Pv{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:G1.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let t=this._padding=ra(HP(this.options)/2),r=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+r/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(r,i)/2)}determineDataLimits(){let{min:t,max:r}=this.getMinMax(!1);this.min=To(t)&&!isNaN(t)?t:0,this.max=To(r)&&!isNaN(r)?r:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/HP(this.options))}generateTickLabels(t){Pv.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((r,i)=>{let n=Gn(this.options.pointLabels.callback,[r,i],this);return n||n===0?n:""}).filter((r,i)=>this.chart.getDataVisibility(i))}fit(){let t=this.options;t.display&&t.pointLabels.display?Ygt(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,r,i,n){this.xCenter+=Math.floor((t-r)/2),this.yCenter+=Math.floor((i-n)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,r,i,n))}getIndexAngle(t){let r=ro/(this._pointLabels.length||1),i=this.options.startAngle||0;return hl(t*r+Mc(i))}getDistanceFromCenterForValue(t){if(Xr(t))return NaN;let r=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*r:(t-this.min)*r}getValueForDistanceFromCenter(t){if(Xr(t))return NaN;let r=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-r:this.min+r}getPointLabelContext(t){let r=this._pointLabels||[];if(t>=0&&t<r.length){let i=r[t];return i0t(this.getContext(),t,i)}}getPointPosition(t,r,i=0){let n=this.getIndexAngle(t)-Bo+i;return{x:Math.cos(n)*r+this.xCenter,y:Math.sin(n)*r+this.yCenter,angle:n}}getPointPositionForValue(t,r){return this.getPointPosition(t,this.getDistanceFromCenterForValue(r))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){let{left:r,top:i,right:n,bottom:o}=this._pointLabelItems[t];return{left:r,top:i,right:n,bottom:o}}drawBackground(){let{backgroundColor:t,grid:{circular:r}}=this.options;if(t){let i=this.ctx;i.save(),i.beginPath(),GW(this,this.getDistanceFromCenterForValue(this._endValue),r,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){let t=this.ctx,r=this.options,{angleLines:i,grid:n,border:o}=r,s=this._pointLabels.length,a,l,c;if(r.pointLabels.display&&t0t(this,s),n.display&&this.ticks.forEach((d,h)=>{if(h!==0||h===0&&this.min<0){l=this.getDistanceFromCenterForValue(d.value);let u=this.getContext(h),f=n.setContext(u),m=o.setContext(u);e0t(this,f,l,s,m)}}),i.display){for(t.save(),a=s-1;a>=0;a--){let d=i.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:u}=d;!u||!h||(t.lineWidth=u,t.strokeStyle=h,t.setLineDash(d.borderDash),t.lineDashOffset=d.borderDashOffset,l=this.getDistanceFromCenterForValue(r.ticks.reverse?this.min:this.max),c=this.getPointPosition(a,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){let t=this.ctx,r=this.options,i=r.ticks;if(!i.display)return;let n=this.getIndexAngle(0),o,s;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(n),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!r.reverse)return;let c=i.setContext(this.getContext(l)),d=cs(c.font);if(o=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){t.font=d.string,s=t.measureText(a.label).width,t.fillStyle=c.backdropColor;let h=ra(c.backdropPadding);t.fillRect(-s/2-h.left,-o-d.size/2-h.top,s+h.width,d.size+h.height)}Am(t,a.label,0,-o,d,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),t.restore()}drawTitle(){}},L5={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ml=Object.keys(L5);function xW(e,t){return e-t}function SW(e,t){if(Xr(t))return null;let r=e._adapter,{parser:i,round:n,isoWeekday:o}=e._parseOpts,s=t;return typeof i=="function"&&(s=i(s)),To(s)||(s=typeof i=="string"?r.parse(s,i):r.parse(s)),s===null?null:(n&&(s=n==="week"&&($g(o)||o===!0)?r.startOf(s,"isoWeek",o):r.startOf(s,n)),+s)}function EW(e,t,r,i){let n=ml.length;for(let o=ml.indexOf(e);o<n-1;++o){let s=L5[ml[o]],a=s.steps?s.steps:Number.MAX_SAFE_INTEGER;if(s.common&&Math.ceil((r-t)/(a*s.size))<=i)return ml[o]}return ml[n-1]}function r0t(e,t,r,i,n){for(let o=ml.length-1;o>=ml.indexOf(r);o--){let s=ml[o];if(L5[s].common&&e._adapter.diff(n,i,s)>=t-1)return s}return ml[r?ml.indexOf(r):0]}function n0t(e){for(let t=ml.indexOf(e)+1,r=ml.length;t<r;++t)if(L5[ml[t]].common)return ml[t]}function RW(e,t,r){if(!r)e[t]=!0;else if(r.length){let{lo:i,hi:n}=h5(r,t),o=r[i]>=t?r[i]:r[n];e[o]=!0}}function o0t(e,t,r,i){let n=e._adapter,o=+n.startOf(t[0].value,i),s=t[t.length-1].value,a,l;for(a=o;a<=s;a=+n.add(a,1,i))l=r[a],l>=0&&(t[l].major=!0);return t}function TW(e,t,r){let i=[],n={},o=t.length,s,a;for(s=0;s<o;++s)a=t[s],n[a]=s,i.push({value:a,major:!1});return o===0||!r?i:o0t(e,i,n,r)}var jP=(()=>{class e extends Xg{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(r){super(r),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(r,i={}){let n=r.time||(r.time={}),o=this._adapter=new bmt._date(r.adapters.date);o.init(i),Ev(n.displayFormats,o.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(r),this._normalized=i.normalized}parse(r,i){return r===void 0?null:SW(this,r)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let r=this.options,i=this._adapter,n=r.time.unit||"day",{min:o,max:s,minDefined:a,maxDefined:l}=this.getUserBounds();function c(d){!a&&!isNaN(d.min)&&(o=Math.min(o,d.min)),!l&&!isNaN(d.max)&&(s=Math.max(s,d.max))}(!a||!l)&&(c(this._getLabelBounds()),(r.bounds!=="ticks"||r.ticks.source!=="labels")&&c(this.getMinMax(!1))),o=To(o)&&!isNaN(o)?o:+i.startOf(Date.now(),n),s=To(s)&&!isNaN(s)?s:+i.endOf(Date.now(),n)+1,this.min=Math.min(o,s-1),this.max=Math.max(o+1,s)}_getLabelBounds(){let r=this.getLabelTimestamps(),i=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return r.length&&(i=r[0],n=r[r.length-1]),{min:i,max:n}}buildTicks(){let r=this.options,i=r.time,n=r.ticks,o=n.source==="labels"?this.getLabelTimestamps():this._generate();r.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);let s=this.min,a=this.max,l=sU(o,s,a);return this._unit=i.unit||(n.autoSkip?EW(i.minUnit,this.min,this.max,this._getLabelCapacity(s)):r0t(this,l.length,i.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:n0t(this._unit),this.initOffsets(o),r.reverse&&l.reverse(),TW(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(r=>+r.value))}initOffsets(r=[]){let i=0,n=0,o,s;this.options.offset&&r.length&&(o=this.getDecimalForValue(r[0]),r.length===1?i=1-o:i=(this.getDecimalForValue(r[1])-o)/2,s=this.getDecimalForValue(r[r.length-1]),r.length===1?n=s:n=(s-this.getDecimalForValue(r[r.length-2]))/2);let a=r.length<3?.5:.25;i=bs(i,0,a),n=bs(n,0,a),this._offsets={start:i,end:n,factor:1/(i+1+n)}}_generate(){let r=this._adapter,i=this.min,n=this.max,o=this.options,s=o.time,a=s.unit||EW(s.minUnit,i,n,this._getLabelCapacity(i)),l=pr(o.ticks.stepSize,1),c=a==="week"?s.isoWeekday:!1,d=$g(c)||c===!0,h={},u=i,f,m;if(d&&(u=+r.startOf(u,"isoWeek",c)),u=+r.startOf(u,d?"day":a),r.diff(n,i,a)>1e5*l)throw new Error(i+" and "+n+" are too far apart with stepSize of "+l+" "+a);let g=o.ticks.source==="data"&&this.getDataTimestamps();for(f=u,m=0;f<n;f=+r.add(f,l,a),m++)RW(h,f,g);return(f===n||o.bounds==="ticks"||m===1)&&RW(h,f,g),Object.keys(h).sort(xW).map(p=>+p)}getLabelForValue(r){let i=this._adapter,n=this.options.time;return n.tooltipFormat?i.format(r,n.tooltipFormat):i.format(r,n.displayFormats.datetime)}format(r,i){let o=this.options.time.displayFormats,s=this._unit,a=i||o[s];return this._adapter.format(r,a)}_tickFormatFunction(r,i,n,o){let s=this.options,a=s.ticks.callback;if(a)return Gn(a,[r,i,n],this);let l=s.time.displayFormats,c=this._unit,d=this._majorUnit,h=c&&l[c],u=d&&l[d],f=n[i],m=d&&u&&f&&f.major;return this._adapter.format(r,o||(m?u:h))}generateTickLabels(r){let i,n,o;for(i=0,n=r.length;i<n;++i)o=r[i],o.label=this._tickFormatFunction(o.value,i,r)}getDecimalForValue(r){return r===null?NaN:(r-this.min)/(this.max-this.min)}getPixelForValue(r){let i=this._offsets,n=this.getDecimalForValue(r);return this.getPixelForDecimal((i.start+n)*i.factor)}getValueForPixel(r){let i=this._offsets,n=this.getDecimalForPixel(r)/i.factor-i.end;return this.min+n*(this.max-this.min)}_getLabelSize(r){let i=this.options.ticks,n=this.ctx.measureText(r).width,o=Mc(this.isHorizontal()?i.maxRotation:i.minRotation),s=Math.cos(o),a=Math.sin(o),l=this._resolveTickFontOptions(0).size;return{w:n*s+l*a,h:n*a+l*s}}_getLabelCapacity(r){let i=this.options.time,n=i.displayFormats,o=n[i.unit]||n.millisecond,s=this._tickFormatFunction(r,0,TW(this,[r],this._majorUnit),o),a=this._getLabelSize(s),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let r=this._cache.data||[],i,n;if(r.length)return r;let o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(i=0,n=o.length;i<n;++i)r=r.concat(o[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(r)}getLabelTimestamps(){let r=this._cache.labels||[],i,n;if(r.length)return r;let o=this.getLabels();for(i=0,n=o.length;i<n;++i)r.push(SW(this,o[i]));return this._cache.labels=this._normalized?r:this.normalize(r)}normalize(r){return $4(r.sort(xW))}}return e})();function R5(e,t,r){let i=0,n=e.length-1,o,s,a,l;r?(t>=e[i].pos&&t<=e[n].pos&&({lo:i,hi:n}=Ah(e,"pos",t)),{pos:o,time:a}=e[i],{pos:s,time:l}=e[n]):(t>=e[i].time&&t<=e[n].time&&({lo:i,hi:n}=Ah(e,"time",t)),{time:o,pos:a}=e[i],{time:s,pos:l}=e[n]);let c=s-o;return c?a+(l-a)*(t-o)/c:a}var VP=class extends jP{static id="timeseries";static defaults=jP.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let t=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(t);this._minPos=R5(r,this.min),this._tableRange=R5(r,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){let{min:r,max:i}=this,n=[],o=[],s,a,l,c,d;for(s=0,a=t.length;s<a;++s)c=t[s],c>=r&&c<=i&&n.push(c);if(n.length<2)return[{time:r,pos:0},{time:i,pos:1}];for(s=0,a=n.length;s<a;++s)d=n[s+1],l=n[s-1],c=n[s],Math.round((d+l)/2)!==c&&o.push({time:c,pos:s/(a-1)});return o}_generate(){let t=this.min,r=this.max,i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(r)||i.length===1)&&i.push(r),i.sort((n,o)=>n-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;let r=this.getDataTimestamps(),i=this.getLabelTimestamps();return r.length&&i.length?t=this.normalize(r.concat(i)):t=r.length?r:i,t=this._cache.all=t,t}getDecimalForValue(t){return(R5(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){let r=this._offsets,i=this.getDecimalForPixel(t)/r.factor-r.end;return R5(this._table,i*this._tableRange+this._minPos,!0)}},s0t=Object.freeze({__proto__:null,CategoryScale:jgt,LinearScale:LP,LogarithmicScale:FP,RadialLinearScale:BP,TimeScale:jP,TimeSeriesScale:VP}),KW=[gmt,zpt,Lgt,s0t];var a0t=typeof global=="object"&&global&&global.Object===Object&&global,F5=a0t;var l0t=typeof self=="object"&&self&&self.Object===Object&&self,c0t=F5||l0t||Function("return this")(),Ac=c0t;var d0t=Ac.Symbol,Lv=d0t;var XW=Object.prototype,h0t=XW.hasOwnProperty,u0t=XW.toString,lC=Lv?Lv.toStringTag:void 0;function f0t(e){var t=h0t.call(e,lC),r=e[lC];try{e[lC]=void 0;var i=!0}catch{}var n=u0t.call(e);return i&&(t?e[lC]=r:delete e[lC]),n}var ZW=f0t;var m0t=Object.prototype,p0t=m0t.toString;function g0t(e){return p0t.call(e)}var QW=g0t;var b0t="[object Null]",v0t="[object Undefined]",JW=Lv?Lv.toStringTag:void 0;function y0t(e){return e==null?e===void 0?v0t:b0t:JW&&JW in Object(e)?ZW(e):QW(e)}var Pm=y0t;function _0t(e){return e!=null&&typeof e=="object"}var Nh=_0t;var w0t=Array.isArray,cC=w0t;function C0t(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var pl=C0t;function x0t(e){return e}var H5=x0t;var S0t="[object AsyncFunction]",E0t="[object Function]",R0t="[object GeneratorFunction]",T0t="[object Proxy]";function M0t(e){if(!pl(e))return!1;var t=Pm(e);return t==E0t||t==R0t||t==S0t||t==T0t}var Fv=M0t;var A0t=Ac["__core-js_shared__"],B5=A0t;var tY=function(){var e=/[^.]+$/.exec(B5&&B5.keys&&B5.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function I0t(e){return!!tY&&tY in e}var eY=I0t;var k0t=Function.prototype,D0t=k0t.toString;function O0t(e){if(e!=null){try{return D0t.call(e)}catch{}try{return e+""}catch{}}return""}var iY=O0t;var P0t=/[\\^$.*+?()[\]{}|]/g,N0t=/^\[object .+?Constructor\]$/,L0t=Function.prototype,F0t=Object.prototype,H0t=L0t.toString,B0t=F0t.hasOwnProperty,j0t=RegExp("^"+H0t.call(B0t).replace(P0t,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function V0t(e){if(!pl(e)||eY(e))return!1;var t=Fv(e)?j0t:N0t;return t.test(iY(e))}var rY=V0t;function z0t(e,t){return e?.[t]}var nY=z0t;function U0t(e,t){var r=nY(e,t);return rY(r)?r:void 0}var Hv=U0t;var oY=Object.create,W0t=function(){function e(){}return function(t){if(!pl(t))return{};if(oY)return oY(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),sY=W0t;function Y0t(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var aY=Y0t;function $0t(e,t){var r=-1,i=e.length;for(t||(t=Array(i));++r<i;)t[r]=e[r];return t}var lY=$0t;var q0t=800,G0t=16,K0t=Date.now;function X0t(e){var t=0,r=0;return function(){var i=K0t(),n=G0t-(i-r);if(r=i,n>0){if(++t>=q0t)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var cY=X0t;function Z0t(e){return function(){return e}}var dY=Z0t;var Q0t=function(){try{var e=Hv(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Bv=Q0t;var J0t=Bv?function(e,t){return Bv(e,"toString",{configurable:!0,enumerable:!1,value:dY(t),writable:!0})}:H5,hY=J0t;var tbt=cY(hY),uY=tbt;var ebt=9007199254740991,ibt=/^(?:0|[1-9]\d*)$/;function rbt(e,t){var r=typeof e;return t=t??ebt,!!t&&(r=="number"||r!="symbol"&&ibt.test(e))&&e>-1&&e%1==0&&e<t}var j5=rbt;function nbt(e,t,r){t=="__proto__"&&Bv?Bv(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var jv=nbt;function obt(e,t){return e===t||e!==e&&t!==t}var Nm=obt;var sbt=Object.prototype,abt=sbt.hasOwnProperty;function lbt(e,t,r){var i=e[t];(!(abt.call(e,t)&&Nm(i,r))||r===void 0&&!(t in e))&&jv(e,t,r)}var fY=lbt;function cbt(e,t,r,i){var n=!r;r||(r={});for(var o=-1,s=t.length;++o<s;){var a=t[o],l=i?i(r[a],e[a],a,r,e):void 0;l===void 0&&(l=e[a]),n?jv(r,a,l):fY(r,a,l)}return r}var mY=cbt;var pY=Math.max;function dbt(e,t,r){return t=pY(t===void 0?e.length-1:t,0),function(){for(var i=arguments,n=-1,o=pY(i.length-t,0),s=Array(o);++n<o;)s[n]=i[t+n];n=-1;for(var a=Array(t+1);++n<t;)a[n]=i[n];return a[t]=r(s),aY(e,this,a)}}var gY=dbt;function hbt(e,t){return uY(gY(e,t,H5),e+"")}var bY=hbt;var ubt=9007199254740991;function fbt(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ubt}var V5=fbt;function mbt(e){return e!=null&&V5(e.length)&&!Fv(e)}var Vv=mbt;function pbt(e,t,r){if(!pl(r))return!1;var i=typeof t;return(i=="number"?Vv(r)&&j5(t,r.length):i=="string"&&t in r)?Nm(r[t],e):!1}var vY=pbt;function gbt(e){return bY(function(t,r){var i=-1,n=r.length,o=n>1?r[n-1]:void 0,s=n>2?r[2]:void 0;for(o=e.length>3&&typeof o=="function"?(n--,o):void 0,s&&vY(r[0],r[1],s)&&(o=n<3?void 0:o,n=1),t=Object(t);++i<n;){var a=r[i];a&&e(t,a,i,o)}return t})}var yY=gbt;var bbt=Object.prototype;function vbt(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||bbt;return e===r}var z5=vbt;function ybt(e,t){for(var r=-1,i=Array(e);++r<e;)i[r]=t(r);return i}var _Y=ybt;var _bt="[object Arguments]";function wbt(e){return Nh(e)&&Pm(e)==_bt}var WP=wbt;var wY=Object.prototype,Cbt=wY.hasOwnProperty,xbt=wY.propertyIsEnumerable,Sbt=WP(function(){return arguments}())?WP:function(e){return Nh(e)&&Cbt.call(e,"callee")&&!xbt.call(e,"callee")},dC=Sbt;function Ebt(){return!1}var CY=Ebt;var EY=typeof exports=="object"&&exports&&!exports.nodeType&&exports,xY=EY&&typeof module=="object"&&module&&!module.nodeType&&module,Rbt=xY&&xY.exports===EY,SY=Rbt?Ac.Buffer:void 0,Tbt=SY?SY.isBuffer:void 0,Mbt=Tbt||CY,U5=Mbt;var Abt="[object Arguments]",Ibt="[object Array]",kbt="[object Boolean]",Dbt="[object Date]",Obt="[object Error]",Pbt="[object Function]",Nbt="[object Map]",Lbt="[object Number]",Fbt="[object Object]",Hbt="[object RegExp]",Bbt="[object Set]",jbt="[object String]",Vbt="[object WeakMap]",zbt="[object ArrayBuffer]",Ubt="[object DataView]",Wbt="[object Float32Array]",Ybt="[object Float64Array]",$bt="[object Int8Array]",qbt="[object Int16Array]",Gbt="[object Int32Array]",Kbt="[object Uint8Array]",Xbt="[object Uint8ClampedArray]",Zbt="[object Uint16Array]",Qbt="[object Uint32Array]",fo={};fo[Wbt]=fo[Ybt]=fo[$bt]=fo[qbt]=fo[Gbt]=fo[Kbt]=fo[Xbt]=fo[Zbt]=fo[Qbt]=!0;fo[Abt]=fo[Ibt]=fo[zbt]=fo[kbt]=fo[Ubt]=fo[Dbt]=fo[Obt]=fo[Pbt]=fo[Nbt]=fo[Lbt]=fo[Fbt]=fo[Hbt]=fo[Bbt]=fo[jbt]=fo[Vbt]=!1;function Jbt(e){return Nh(e)&&V5(e.length)&&!!fo[Pm(e)]}var RY=Jbt;function tvt(e){return function(t){return e(t)}}var TY=tvt;var MY=typeof exports=="object"&&exports&&!exports.nodeType&&exports,hC=MY&&typeof module=="object"&&module&&!module.nodeType&&module,evt=hC&&hC.exports===MY,YP=evt&&F5.process,ivt=function(){try{var e=hC&&hC.require&&hC.require("util").types;return e||YP&&YP.binding&&YP.binding("util")}catch{}}(),$P=ivt;var AY=$P&&$P.isTypedArray,rvt=AY?TY(AY):RY,W5=rvt;var nvt=Object.prototype,ovt=nvt.hasOwnProperty;function svt(e,t){var r=cC(e),i=!r&&dC(e),n=!r&&!i&&U5(e),o=!r&&!i&&!n&&W5(e),s=r||i||n||o,a=s?_Y(e.length,String):[],l=a.length;for(var c in e)(t||ovt.call(e,c))&&!(s&&(c=="length"||n&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||j5(c,l)))&&a.push(c);return a}var IY=svt;function avt(e,t){return function(r){return e(t(r))}}var kY=avt;function lvt(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var DY=lvt;var cvt=Object.prototype,dvt=cvt.hasOwnProperty;function hvt(e){if(!pl(e))return DY(e);var t=z5(e),r=[];for(var i in e)i=="constructor"&&(t||!dvt.call(e,i))||r.push(i);return r}var OY=hvt;function uvt(e){return Vv(e)?IY(e,!0):OY(e)}var Y5=uvt;var fvt=Hv(Object,"create"),of=fvt;function mvt(){this.__data__=of?of(null):{},this.size=0}var PY=mvt;function pvt(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var NY=pvt;var gvt="__lodash_hash_undefined__",bvt=Object.prototype,vvt=bvt.hasOwnProperty;function yvt(e){var t=this.__data__;if(of){var r=t[e];return r===gvt?void 0:r}return vvt.call(t,e)?t[e]:void 0}var LY=yvt;var _vt=Object.prototype,wvt=_vt.hasOwnProperty;function Cvt(e){var t=this.__data__;return of?t[e]!==void 0:wvt.call(t,e)}var FY=Cvt;var xvt="__lodash_hash_undefined__";function Svt(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=of&&t===void 0?xvt:t,this}var HY=Svt;function zv(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}zv.prototype.clear=PY;zv.prototype.delete=NY;zv.prototype.get=LY;zv.prototype.has=FY;zv.prototype.set=HY;var qP=zv;function Evt(){this.__data__=[],this.size=0}var BY=Evt;function Rvt(e,t){for(var r=e.length;r--;)if(Nm(e[r][0],t))return r;return-1}var Lm=Rvt;var Tvt=Array.prototype,Mvt=Tvt.splice;function Avt(e){var t=this.__data__,r=Lm(t,e);if(r<0)return!1;var i=t.length-1;return r==i?t.pop():Mvt.call(t,r,1),--this.size,!0}var jY=Avt;function Ivt(e){var t=this.__data__,r=Lm(t,e);return r<0?void 0:t[r][1]}var VY=Ivt;function kvt(e){return Lm(this.__data__,e)>-1}var zY=kvt;function Dvt(e,t){var r=this.__data__,i=Lm(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this}var UY=Dvt;function Uv(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}Uv.prototype.clear=BY;Uv.prototype.delete=jY;Uv.prototype.get=VY;Uv.prototype.has=zY;Uv.prototype.set=UY;var Fm=Uv;var Ovt=Hv(Ac,"Map"),$5=Ovt;function Pvt(){this.size=0,this.__data__={hash:new qP,map:new($5||Fm),string:new qP}}var WY=Pvt;function Nvt(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var YY=Nvt;function Lvt(e,t){var r=e.__data__;return YY(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Hm=Lvt;function Fvt(e){var t=Hm(this,e).delete(e);return this.size-=t?1:0,t}var $Y=Fvt;function Hvt(e){return Hm(this,e).get(e)}var qY=Hvt;function Bvt(e){return Hm(this,e).has(e)}var GY=Bvt;function jvt(e,t){var r=Hm(this,e),i=r.size;return r.set(e,t),this.size+=r.size==i?0:1,this}var KY=jvt;function Wv(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}Wv.prototype.clear=WY;Wv.prototype.delete=$Y;Wv.prototype.get=qY;Wv.prototype.has=GY;Wv.prototype.set=KY;var XY=Wv;var Vvt=kY(Object.getPrototypeOf,Object),q5=Vvt;var zvt="[object Object]",Uvt=Function.prototype,Wvt=Object.prototype,ZY=Uvt.toString,Yvt=Wvt.hasOwnProperty,$vt=ZY.call(Object);function qvt(e){if(!Nh(e)||Pm(e)!=zvt)return!1;var t=q5(e);if(t===null)return!0;var r=Yvt.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&ZY.call(r)==$vt}var QY=qvt;function Gvt(){this.__data__=new Fm,this.size=0}var JY=Gvt;function Kvt(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var t$=Kvt;function Xvt(e){return this.__data__.get(e)}var e$=Xvt;function Zvt(e){return this.__data__.has(e)}var i$=Zvt;var Qvt=200;function Jvt(e,t){var r=this.__data__;if(r instanceof Fm){var i=r.__data__;if(!$5||i.length<Qvt-1)return i.push([e,t]),this.size=++r.size,this;r=this.__data__=new XY(i)}return r.set(e,t),this.size=r.size,this}var r$=Jvt;function Yv(e){var t=this.__data__=new Fm(e);this.size=t.size}Yv.prototype.clear=JY;Yv.prototype.delete=t$;Yv.prototype.get=e$;Yv.prototype.has=i$;Yv.prototype.set=r$;var n$=Yv;var l$=typeof exports=="object"&&exports&&!exports.nodeType&&exports,o$=l$&&typeof module=="object"&&module&&!module.nodeType&&module,tyt=o$&&o$.exports===l$,s$=tyt?Ac.Buffer:void 0,a$=s$?s$.allocUnsafe:void 0;function eyt(e,t){if(t)return e.slice();var r=e.length,i=a$?a$(r):new e.constructor(r);return e.copy(i),i}var c$=eyt;var iyt=Ac.Uint8Array,GP=iyt;function ryt(e){var t=new e.constructor(e.byteLength);return new GP(t).set(new GP(e)),t}var d$=ryt;function nyt(e,t){var r=t?d$(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var h$=nyt;function oyt(e){return typeof e.constructor=="function"&&!z5(e)?sY(q5(e)):{}}var u$=oyt;function syt(e){return function(t,r,i){for(var n=-1,o=Object(t),s=i(t),a=s.length;a--;){var l=s[e?a:++n];if(r(o[l],l,o)===!1)break}return t}}var f$=syt;var ayt=f$(),m$=ayt;function lyt(e,t,r){(r!==void 0&&!Nm(e[t],r)||r===void 0&&!(t in e))&&jv(e,t,r)}var uC=lyt;function cyt(e){return Nh(e)&&Vv(e)}var p$=cyt;function dyt(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var fC=dyt;function hyt(e){return mY(e,Y5(e))}var g$=hyt;function uyt(e,t,r,i,n,o,s){var a=fC(e,r),l=fC(t,r),c=s.get(l);if(c){uC(e,r,c);return}var d=o?o(a,l,r+"",e,t,s):void 0,h=d===void 0;if(h){var u=cC(l),f=!u&&U5(l),m=!u&&!f&&W5(l);d=l,u||f||m?cC(a)?d=a:p$(a)?d=lY(a):f?(h=!1,d=c$(l,!0)):m?(h=!1,d=h$(l,!0)):d=[]:QY(l)||dC(l)?(d=a,dC(a)?d=g$(a):(!pl(a)||Fv(a))&&(d=u$(l))):h=!1}h&&(s.set(l,d),n(d,l,i,o,s),s.delete(l)),uC(e,r,d)}var b$=uyt;function v$(e,t,r,i,n){e!==t&&m$(t,function(o,s){if(n||(n=new n$),pl(o))b$(e,t,s,r,v$,i,n);else{var a=i?i(fC(e,s),o,s+"",e,t,n):void 0;a===void 0&&(a=o),uC(e,s,a)}},Y5)}var y$=v$;var fyt=yY(function(e,t,r){y$(e,t,r)}),G5=fyt;var _$=new Se("Configuration for ngCharts");function w$(...e){return{registerables:[...KW,...e]}}function C$(...e){let t=G5({},...e);return{provide:_$,useValue:t}}var myt=(()=>{let t=class t{constructor(){this.colorschemesOptions=new Yn(void 0)}setColorschemesOptions(i){this.pColorschemesOptions=i,this.colorschemesOptions.next(i)}getColorschemesOptions(){return this.pColorschemesOptions}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),K5=(()=>{let t=class t{constructor(i,n,o,s){this.zone=n,this.themeService=o,this.type="bar",this.plugins=[],this.chartClick=new si,this.chartHover=new si,this.subs=[],this.themeOverrides={},s?.registerables&&Nv.register(...s.registerables),s?.defaults&&uo.set(s.defaults),this.ctx=i.nativeElement.getContext("2d"),this.subs.push(this.themeService.colorschemesOptions.pipe(Sg()).subscribe(a=>this.themeChanged(a)))}ngOnChanges(i){let n=["type"],o=Object.getOwnPropertyNames(i);if(o.some(s=>n.includes(s))||o.every(s=>i[s].isFirstChange()))this.render();else{let s=this.getChartConfiguration();this.chart&&(Object.assign(this.chart.config.data,s.data),this.chart.config.plugins&&Object.assign(this.chart.config.plugins,s.plugins),this.chart.config.options&&Object.assign(this.chart.config.options,s.options)),this.update()}}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=void 0),this.subs.forEach(i=>i.unsubscribe())}render(){return this.chart&&this.chart.destroy(),this.zone.runOutsideAngular(()=>this.chart=new Nv(this.ctx,this.getChartConfiguration()))}update(i){this.chart&&this.zone.runOutsideAngular(()=>this.chart?.update(i))}hideDataset(i,n){this.chart&&(this.chart.getDatasetMeta(i).hidden=n,this.update())}isDatasetHidden(i){return this.chart?.getDatasetMeta(i)?.hidden}toBase64Image(){return this.chart?.toBase64Image()}themeChanged(i){this.themeOverrides=i,this.chart&&(this.chart.config.options&&Object.assign(this.chart.config.options,this.getChartOptions()),this.update())}getChartOptions(){return G5({onHover:(i,n)=>{!this.chartHover.observed&&!this.chartHover.observers?.length||this.zone.run(()=>this.chartHover.emit({event:i,active:n}))},onClick:(i,n)=>{!this.chartClick.observed&&!this.chartClick.observers?.length||this.zone.run(()=>this.chartClick.emit({event:i,active:n}))}},this.themeOverrides,this.options,{plugins:{legend:{display:this.legend}}})}getChartConfiguration(){return{type:this.type,data:this.getChartData(),options:this.getChartOptions(),plugins:this.plugins}}getChartData(){return this.data?this.data:{labels:this.labels||[],datasets:this.datasets||[]}}};t.\u0275fac=function(n){return new(n||t)(Dt(di),Dt(ci),Dt(myt),Dt(_$,8))},t.\u0275dir=ri({type:t,selectors:[["canvas","baseChart",""]],inputs:{type:"type",legend:"legend",data:"data",options:"options",plugins:"plugins",labels:"labels",datasets:"datasets"},outputs:{chartClick:"chartClick",chartHover:"chartHover"},exportAs:["base-chart"],standalone:!0,features:[er]});let e=t;return e})();var x$=(()=>{let t=class t{constructor(){this.barChartData_datasets=[],this.barChartData_labels=[],this.barChartOptions={responsive:!0,plugins:{legend:{display:!0,labels:{generateLabels:i=>{let n=Nv.defaults.plugins.legend.labels.generateLabels;return n(i).map(s=>{let a=s.datasetIndex;if(a===void 0)return s;let l=i.data.datasets[a],c=i.isDatasetVisible(a),d=l.label??`Dataset ${a+1}`;return Ue(jt({},s),{text:c?`${d} \u2714\uFE0F`:d})})}}}},scales:{y:{stacked:!1},x:{stacked:!0}}},this.barChartLegend=!0,this.barChartType="bar"}ngOnChanges(i){i.barChartData&&this.barChartData&&(this.barChartData_datasets=this.barChartData.datasets,this.barChartData_labels=this.barChartData.labels)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=qe({type:t,selectors:[["app-horizontal-bar-graph"]],inputs:{barChartData:"barChartData"},standalone:!0,features:[er,ai],decls:1,vars:5,consts:[["baseChart","",3,"datasets","labels","options","legend","type"]],template:function(n,o){n&1&&Be(0,"canvas",0),n&2&&ke("datasets",o.barChartData_datasets)("labels",o.barChartData_labels)("options",o.barChartOptions)("legend",o.barChartLegend)("type",o.barChartType)},dependencies:[K5]});let e=t;return e})();var S$=(()=>{let t=class t{constructor(){this.pieChartOptions={devicePixelRatio:1,responsive:!1,plugins:{title:{display:!1,text:"Custom Chart Title"},legend:{position:"right",labels:{textAlign:"left",padding:1}}}},this.pieChartLegend=!0,this.pieChartType="doughnut"}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=qe({type:t,selectors:[["app-pie-graph"]],inputs:{pieChartLabels:"pieChartLabels",pieChartData:"pieChartData",width:"width",height:"height"},standalone:!0,features:[ai],decls:2,vars:7,consts:[["baseChart","",3,"width","height","datasets","labels","options","legend","type"]],template:function(n,o){n&1&&(Lt(0,"div"),Be(1,"canvas",0),Pt()),n&2&&(te(),ke("width",o.width)("height",o.height)("datasets",o.pieChartData)("labels",o.pieChartLabels)("options",o.pieChartOptions)("legend",o.pieChartLegend)("type",o.pieChartType))},dependencies:[K5]});let e=t;return e})();var E$=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ze({type:t}),t.\u0275inj=Ve({imports:[r4,Si,r4,Si]});let e=t;return e})();var R$=["mat-button",""],T$=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],M$=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],pyt='.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-app-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-app-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-app-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-app-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-app-level1));height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-app-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-app-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-app-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-app-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-app-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-app-corner-full));border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-app-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-app-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',A$=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}";var gyt=["mat-icon-button",""],byt=["*"];var vyt=new Se("MAT_BUTTON_CONFIG");var yyt=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],KP=(()=>{let t=class t{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(i){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,i)}get disableRipple(){return this._disableRipple}set disableRipple(i){this._disableRipple=i,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(i){this._disabled=i,this._updateRippleDisabled()}constructor(i,n,o,s){this._elementRef=i,this._platform=n,this._ngZone=o,this._animationMode=s,this._focusMonitor=pe(qu),this._rippleLoader=pe(CV),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;let a=pe(vyt,{optional:!0}),l=i.nativeElement,c=l.classList;this.disabledInteractive=a?.disabledInteractive??!1,this.color=a?.color??null,this._rippleLoader?.configureRipple(l,{className:"mat-mdc-button-ripple"});for(let{attribute:d,mdcClasses:h}of yyt)l.hasAttribute(d)&&c.add(...h)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(i="program",n){i?this._focusMonitor.focusVia(this._elementRef.nativeElement,i,n):this._elementRef.nativeElement.focus(n)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}};t.\u0275fac=function(n){ju()},t.\u0275dir=ri({type:t,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",Sr],disabled:[2,"disabled","disabled",Sr],ariaDisabled:[2,"aria-disabled","ariaDisabled",Sr],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Sr]},features:[Fr]});let e=t;return e})();var _yt=(()=>{let t=class t extends KP{constructor(i,n,o,s){super(i,n,o,s),this._haltDisabledEvents=a=>{this.disabled&&(a.preventDefault(),a.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}_getAriaDisabled(){return this.ariaDisabled==null?this.disabled:this.ariaDisabled}};t.\u0275fac=function(n){ju()},t.\u0275dir=ri({type:t,inputs:{tabIndex:[2,"tabIndex","tabIndex",i=>i==null?void 0:za(i)]},features:[Fr,$r]});let e=t;return e})(),Cd=(()=>{let t=class t extends KP{constructor(i,n,o,s){super(i,n,o,s)}};t.\u0275fac=function(n){return new(n||t)(Dt(di),Dt(Hr),Dt(ci),Dt(Fo,8))},t.\u0275cmp=qe({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(n,o){n&2&&(Yi("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),ta(o.color?"mat-"+o.color:""),Vi("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[$r,ai],attrs:R$,ngContentSelectors:M$,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,o){n&1&&(pn(T$),Be(0,"span",0),ir(1),Lt(2,"span",1),ir(3,1),Pt(),ir(4,2),Be(5,"span",2)(6,"span",3)),n&2&&Vi("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-app-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-app-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-app-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-app-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-app-level1));height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-app-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-app-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-app-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-app-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-app-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-app-corner-full));border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-app-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-app-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0});let e=t;return e})(),I$=(()=>{let t=class t extends _yt{constructor(i,n,o,s){super(i,n,o,s)}};t.\u0275fac=function(n){return new(n||t)(Dt(di),Dt(Hr),Dt(ci),Dt(Fo,8))},t.\u0275cmp=qe({type:t,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:15,hostBindings:function(n,o){n&2&&(Yi("disabled",o._getDisabledAttribute())("tabindex",o.disabled&&!o.disabledInteractive?-1:o.tabIndex)("aria-disabled",o._getDisabledAttribute()),ta(o.color?"mat-"+o.color:""),Vi("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton","matAnchor"],standalone:!0,features:[$r,ai],attrs:R$,ngContentSelectors:M$,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,o){n&1&&(pn(T$),Be(0,"span",0),ir(1),Lt(2,"span",1),ir(3,1),Pt(),ir(4,2),Be(5,"span",2)(6,"span",3)),n&2&&Vi("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:[pyt,A$],encapsulation:2,changeDetection:0});let e=t;return e})();var mC=(()=>{let t=class t extends KP{constructor(i,n,o,s){super(i,n,o,s),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}};t.\u0275fac=function(n){return new(n||t)(Dt(di),Dt(Hr),Dt(ci),Dt(Fo,8))},t.\u0275cmp=qe({type:t,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(n,o){n&2&&(Yi("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),ta(o.color?"mat-"+o.color:""),Vi("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[$r,ai],attrs:gyt,ngContentSelectors:byt,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,o){n&1&&(pn(),Be(0,"span",0),ir(1),Be(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);color:var(--mdc-icon-button-icon-color, var(--mat-app-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',A$],encapsulation:2,changeDetection:0});let e=t;return e})();var Lh=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ze({type:t}),t.\u0275inj=Ve({imports:[Si,Lg,Si]});let e=t;return e})();var wyt=["*"],Z5;function Cyt(){if(Z5===void 0&&(Z5=null,typeof window<"u")){let e=window;e.trustedTypes!==void 0&&(Z5=e.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return Z5}function pC(e){return Cyt()?.createHTML(e)||e}function k$(e){return Error(`Unable to find icon with the name "${e}"`)}function xyt(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function D$(e){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${e}".`)}function O$(e){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${e}".`)}var sf=class{constructor(t,r,i){this.url=t,this.svgText=r,this.options=i}},Syt=(()=>{let t=class t{constructor(i,n,o,s){this._httpClient=i,this._sanitizer=n,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=o}addSvgIcon(i,n,o){return this.addSvgIconInNamespace("",i,n,o)}addSvgIconLiteral(i,n,o){return this.addSvgIconLiteralInNamespace("",i,n,o)}addSvgIconInNamespace(i,n,o,s){return this._addSvgIconConfig(i,n,new sf(o,null,s))}addSvgIconResolver(i){return this._resolvers.push(i),this}addSvgIconLiteralInNamespace(i,n,o,s){let a=this._sanitizer.sanitize(Ul.HTML,o);if(!a)throw O$(o);let l=pC(a);return this._addSvgIconConfig(i,n,new sf("",l,s))}addSvgIconSet(i,n){return this.addSvgIconSetInNamespace("",i,n)}addSvgIconSetLiteral(i,n){return this.addSvgIconSetLiteralInNamespace("",i,n)}addSvgIconSetInNamespace(i,n,o){return this._addSvgIconSetConfig(i,new sf(n,null,o))}addSvgIconSetLiteralInNamespace(i,n,o){let s=this._sanitizer.sanitize(Ul.HTML,n);if(!s)throw O$(n);let a=pC(s);return this._addSvgIconSetConfig(i,new sf("",a,o))}registerFontClassAlias(i,n=i){return this._fontCssClassesByAlias.set(i,n),this}classNameForFontAlias(i){return this._fontCssClassesByAlias.get(i)||i}setDefaultFontSetClass(...i){return this._defaultFontSetClass=i,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(i){let n=this._sanitizer.sanitize(Ul.RESOURCE_URL,i);if(!n)throw D$(i);let o=this._cachedIconsByUrl.get(n);return o?Me(Q5(o)):this._loadSvgIconFromConfig(new sf(i,null)).pipe(fn(s=>this._cachedIconsByUrl.set(n,s)),ui(s=>Q5(s)))}getNamedSvgIcon(i,n=""){let o=P$(n,i),s=this._svgIconConfigs.get(o);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(n,i),s)return this._svgIconConfigs.set(o,s),this._getSvgFromConfig(s);let a=this._iconSetConfigs.get(n);return a?this._getSvgFromIconSetConfigs(i,a):wg(k$(o))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(i){return i.svgText?Me(Q5(this._svgElementFromConfig(i))):this._loadSvgIconFromConfig(i).pipe(ui(n=>Q5(n)))}_getSvgFromIconSetConfigs(i,n){let o=this._extractIconWithNameFromAnySet(i,n);if(o)return Me(o);let s=n.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(ls(l=>{let d=`Loading icon set URL: ${this._sanitizer.sanitize(Ul.RESOURCE_URL,a.url)} failed: ${l.message}`;return this._errorHandler.handleError(new Error(d)),Me(null)})));return Lu(s).pipe(ui(()=>{let a=this._extractIconWithNameFromAnySet(i,n);if(!a)throw k$(i);return a}))}_extractIconWithNameFromAnySet(i,n){for(let o=n.length-1;o>=0;o--){let s=n[o];if(s.svgText&&s.svgText.toString().indexOf(i)>-1){let a=this._svgElementFromConfig(s),l=this._extractSvgIconFromSet(a,i,s.options);if(l)return l}}return null}_loadSvgIconFromConfig(i){return this._fetchIcon(i).pipe(fn(n=>i.svgText=n),ui(()=>this._svgElementFromConfig(i)))}_loadSvgIconSetFromConfig(i){return i.svgText?Me(null):this._fetchIcon(i).pipe(fn(n=>i.svgText=n))}_extractSvgIconFromSet(i,n,o){let s=i.querySelector(`[id="${n}"]`);if(!s)return null;let a=s.cloneNode(!0);if(a.removeAttribute("id"),a.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(a,o);if(a.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(a),o);let l=this._svgElementFromString(pC("<svg></svg>"));return l.appendChild(a),this._setSvgAttributes(l,o)}_svgElementFromString(i){let n=this._document.createElement("DIV");n.innerHTML=i;let o=n.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}_toSvgElement(i){let n=this._svgElementFromString(pC("<svg></svg>")),o=i.attributes;for(let s=0;s<o.length;s++){let{name:a,value:l}=o[s];a!=="id"&&n.setAttribute(a,l)}for(let s=0;s<i.childNodes.length;s++)i.childNodes[s].nodeType===this._document.ELEMENT_NODE&&n.appendChild(i.childNodes[s].cloneNode(!0));return n}_setSvgAttributes(i,n){return i.setAttribute("fit",""),i.setAttribute("height","100%"),i.setAttribute("width","100%"),i.setAttribute("preserveAspectRatio","xMidYMid meet"),i.setAttribute("focusable","false"),n&&n.viewBox&&i.setAttribute("viewBox",n.viewBox),i}_fetchIcon(i){let{url:n,options:o}=i,s=o?.withCredentials??!1;if(!this._httpClient)throw xyt();if(n==null)throw Error(`Cannot fetch icon from URL "${n}".`);let a=this._sanitizer.sanitize(Ul.RESOURCE_URL,n);if(!a)throw D$(n);let l=this._inProgressUrlFetches.get(a);if(l)return l;let c=this._httpClient.get(a,{responseType:"text",withCredentials:s}).pipe(ui(d=>pC(d)),Fu(()=>this._inProgressUrlFetches.delete(a)),UH());return this._inProgressUrlFetches.set(a,c),c}_addSvgIconConfig(i,n,o){return this._svgIconConfigs.set(P$(i,n),o),this}_addSvgIconSetConfig(i,n){let o=this._iconSetConfigs.get(i);return o?o.push(n):this._iconSetConfigs.set(i,[n]),this}_svgElementFromConfig(i){if(!i.svgElement){let n=this._svgElementFromString(i.svgText);this._setSvgAttributes(n,i.options),i.svgElement=n}return i.svgElement}_getIconConfigFromResolvers(i,n){for(let o=0;o<this._resolvers.length;o++){let s=this._resolvers[o](n,i);if(s)return Eyt(s)?new sf(s.url,null,s.options):new sf(s,null)}}};t.\u0275fac=function(n){return new(n||t)(Jt(Uu,8),Jt(e3),Jt(Ai,8),Jt(Rg))},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Q5(e){return e.cloneNode(!0)}function P$(e,t){return e+":"+t}function Eyt(e){return!!(e.url&&e.options)}var Ryt=new Se("MAT_ICON_DEFAULT_OPTIONS"),Tyt=new Se("mat-icon-location",{providedIn:"root",factory:Myt});function Myt(){let e=pe(Ai),t=e?e.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}var N$=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Ayt=N$.map(e=>`[${e}]`).join(", "),Iyt=/^url\(['"]?#(.*?)['"]?\)$/,Bm=(()=>{let t=class t{get color(){return this._color||this._defaultColor}set color(i){this._color=i}get svgIcon(){return this._svgIcon}set svgIcon(i){i!==this._svgIcon&&(i?this._updateSvgIcon(i):this._svgIcon&&this._clearSvgElement(),this._svgIcon=i)}get fontSet(){return this._fontSet}set fontSet(i){let n=this._cleanupFontValue(i);n!==this._fontSet&&(this._fontSet=n,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(i){let n=this._cleanupFontValue(i);n!==this._fontIcon&&(this._fontIcon=n,this._updateFontIconClasses())}constructor(i,n,o,s,a,l){this._elementRef=i,this._iconRegistry=n,this._location=s,this._errorHandler=a,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Ro.EMPTY,l&&(l.color&&(this.color=this._defaultColor=l.color),l.fontSet&&(this.fontSet=l.fontSet)),o||i.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(i){if(!i)return["",""];let n=i.split(":");switch(n.length){case 1:return["",n[0]];case 2:return n;default:throw Error(`Invalid icon name: "${i}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let i=this._elementsWithExternalReferences;if(i&&i.size){let n=this._location.getPathname();n!==this._previousPath&&(this._previousPath=n,this._prependPathToReferences(n))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(i){this._clearSvgElement();let n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(i),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(i)}_clearSvgElement(){let i=this._elementRef.nativeElement,n=i.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();n--;){let o=i.childNodes[n];(o.nodeType!==1||o.nodeName.toLowerCase()==="svg")&&o.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let i=this._elementRef.nativeElement,n=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(o=>o.length>0);this._previousFontSetClass.forEach(o=>i.classList.remove(o)),n.forEach(o=>i.classList.add(o)),this._previousFontSetClass=n,this.fontIcon!==this._previousFontIconClass&&!n.includes("mat-ligature-font")&&(this._previousFontIconClass&&i.classList.remove(this._previousFontIconClass),this.fontIcon&&i.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(i){return typeof i=="string"?i.trim().split(" ")[0]:i}_prependPathToReferences(i){let n=this._elementsWithExternalReferences;n&&n.forEach((o,s)=>{o.forEach(a=>{s.setAttribute(a.name,`url('${i}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(i){let n=i.querySelectorAll(Ayt),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<n.length;s++)N$.forEach(a=>{let l=n[s],c=l.getAttribute(a),d=c?c.match(Iyt):null;if(d){let h=o.get(l);h||(h=[],o.set(l,h)),h.push({name:a,value:d[1]})}})}_updateSvgIcon(i){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),i){let[n,o]=this._splitIconName(i);n&&(this._svgNamespace=n),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,n).pipe(to(1)).subscribe(s=>this._setSvgElement(s),s=>{let a=`Error retrieving icon ${n}:${o}! ${s.message}`;this._errorHandler.handleError(new Error(a))})}}};t.\u0275fac=function(n){return new(n||t)(Dt(di),Dt(Syt),zl("aria-hidden"),Dt(Tyt),Dt(Rg),Dt(Ryt,8))},t.\u0275cmp=qe({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(n,o){n&2&&(Yi("data-mat-icon-type",o._usingFontIcon()?"font":"svg")("data-mat-icon-name",o._svgName||o.fontIcon)("data-mat-icon-namespace",o._svgNamespace||o.fontSet)("fontIcon",o._usingFontIcon()?o.fontIcon:null),ta(o.color?"mat-"+o.color:""),Vi("mat-icon-inline",o.inline)("mat-icon-no-color",o.color!=="primary"&&o.color!=="accent"&&o.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",Sr],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[Fr,ai],ngContentSelectors:wyt,decls:1,vars:0,template:function(n,o){n&1&&(pn(),ir(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0});let e=t;return e})(),$v=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ze({type:t}),t.\u0275inj=Ve({imports:[Si,Si]});let e=t;return e})();var kyt=new Se("MAT_SORT_DEFAULT_OPTIONS"),L$=(()=>{let t=class t{get direction(){return this._direction}set direction(i){this._direction=i}constructor(i){this._defaultOptions=i,this._initializedStream=new LH(1),this.sortables=new Map,this._stateChanges=new Qe,this.start="asc",this._direction="",this.disabled=!1,this.sortChange=new si,this.initialized=this._initializedStream}register(i){this.sortables.set(i.id,i)}deregister(i){this.sortables.delete(i.id)}sort(i){this.active!=i.id?(this.active=i.id,this.direction=i.start?i.start:this.start):this.direction=this.getNextSortDirection(i),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(i){if(!i)return"";let n=i?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear,o=Dyt(i.start||this.start,n),s=o.indexOf(this.direction)+1;return s>=o.length&&(s=0),o[s]}ngOnInit(){this._initializedStream.next()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete(),this._initializedStream.complete()}};t.\u0275fac=function(n){return new(n||t)(Dt(kyt,8))},t.\u0275dir=ri({type:t,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{active:[0,"matSortActive","active"],start:[0,"matSortStart","start"],direction:[0,"matSortDirection","direction"],disableClear:[2,"matSortDisableClear","disableClear",Sr],disabled:[2,"matSortDisabled","disabled",Sr]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],standalone:!0,features:[Fr,er]});let e=t;return e})();function Dyt(e,t){let r=["asc","desc"];return e=="desc"&&r.reverse(),t||r.push(""),r}var TUt=wV.ENTERING+" "+_V.STANDARD_CURVE;var ZP=(()=>{let t=class t{constructor(){this.changes=new Qe}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Oyt(e){return e||new ZP}var Pyt={provide:ZP,deps:[[new am,new Eg,ZP]],useFactory:Oyt};var F$=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ze({type:t}),t.\u0275inj=Ve({providers:[Pyt],imports:[Si]});let e=t;return e})();var Ple=ot(qt(),1),Nle=ot(_e(),1),Lle=ot(yn(),1),Fle=ot(_n(),1),Hle=ot(wn(),1),Ble=ot(Cn(),1),jle=ot(xn(),1),Vle=ot(Sn(),1),zle=ot(En(),1),Ule=ot(bG(),1);var rYt=ot(qt(),1),nYt=ot(_e(),1);var tYt=ot(_e(),1),EG=ot(qst(),1);var lN=ot(ba(),1);var VWt=ot(_e(),1),zWt=ot(yn(),1),UWt=ot(_n(),1),WWt=ot(wn(),1),YWt=ot(Cn(),1),$Wt=ot(xn(),1),qWt=ot(Sn(),1),GWt=ot(En(),1);function vG(e){let t=e.length,r=0;for(;r<t;)e[r]=[e[r]],r+=1}function oN(e,t){let r=t.length,i=0;for(;i<r;)e.push(t[i]),i+=1}function Kv(e){let t=[];if(!e||e.length===0||!e[0]||e[0].length===0)return t;let r=e.length,i=e[0].length;for(let n=0;n<r;n++)for(let o=0;o<i;o++)t[o]||(t[o]=[]),t[o][n]=e[n][o];return t}function cn(e,t,r,i){let n=-1,o=e,s=r;Array.isArray(e)||(o=Array.from(e));let a=o.length;for(i&&a&&(n+=1,s=o[n]),n+=1;n<a;)s=t(s,o[n],n,o),n+=1;return s}function ds(e,t){let r=0,i=e;Array.isArray(e)||(i=Array.from(e));let n=i.length,o=[],s=-1;for(;r<n;){let a=i[r];t(a,r,i)&&(s+=1,o[s]=a),r+=1}return o}function Ci(e,t){let r=0,i=e;Array.isArray(e)||(i=Array.from(e));let n=i.length,o=[],s=-1;for(;r<n;){let a=i[r];s+=1,o[s]=t(a,r,i),r+=1}return o}function St(e,t){let r=0,i=e;Array.isArray(e)||(i=Array.from(e));let n=i.length;for(;r<n&&t(i[r],r,i)!==!1;)r+=1;return e}function iM(e){let t=[];return St(e,r=>{t.indexOf(r)===-1&&t.push(r)}),t}function sN(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];let[i,...n]=[...t],o=i;return St(n,s=>{o=o.filter(a=>!s.includes(a))}),o}function aN(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:" ";return e.split(t)}function Gi(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return cn(e,(o,s,a)=>{let l=s.replace(/\r?\n\s*/g,""),c=r[a]?r[a]:"";return o+l+c},"").trim()}function on(e){let t;switch(typeof e){case"string":case"number":t=`${e}`;break;case"object":t=e===null?"":e.toString();break;case"undefined":t="";break;default:t=e.toString();break}return t}function Ne(e){return typeof e<"u"}function vr(e){return typeof e>"u"}function sn(e){return e===null||e===""||vr(e)}function xG(e){return Object.prototype.toString.call(e)==="[object RegExp]"}var gC="length",bC=e=>parseInt(e,16),yG=e=>parseInt(e,10),rM=(e,t,r)=>e.substr(t,r),vC=e=>e.codePointAt(0)-65,cN=e=>`${e}`.replace(/\-/g,""),a1t=e=>bC(rM(cN(e),bC("12"),vC("F")))/(bC(rM(cN(e),vC("B"),~~![][gC]))||9),l1t=()=>typeof location<"u"&&/^([a-z0-9\-]+\.)?\x68\x61\x6E\x64\x73\x6F\x6E\x74\x61\x62\x6C\x65\x2E\x63\x6F\x6D$/i.test(location.host),_G=!1,wG={invalid:()=>Gi`
    The license key for Handsontable is invalid.\x20
    If you need any help, contact us at support@handsontable.com.`,expired:e=>{let{keyValidityDate:t,hotVersion:r}=e;return Gi`
    The license key for Handsontable expired on ${t}, and is not valid for the installed\x20
    version ${r}. Renew your license key at handsontable.com or downgrade to a version released prior\x20
    to ${t}. If you need any help, contact us at sales@handsontable.com.`},missing:()=>Gi`
    The license key for Handsontable is missing. Use your purchased key to activate the product.\x20
    Alternatively, you can activate Handsontable to use for non-commercial purposes by\x20
    passing the key: 'non-commercial-and-evaluation'. If you need any help, contact\x20
    us at support@handsontable.com.`,non_commercial:()=>""},CG={invalid:()=>Gi`
    The license key for Handsontable is invalid.\x20
    <a href="https://handsontable.com/docs/tutorial-license-key.html" target="_blank">Read more</a> on how to\x20
    install it properly or contact us at <a href="mailto:support@handsontable.com">support@handsontable.com</a>.`,expired:e=>{let{keyValidityDate:t,hotVersion:r}=e;return Gi`
    The license key for Handsontable expired on ${t}, and is not valid for the installed\x20
    version ${r}. <a href="https://handsontable.com/pricing" target="_blank">Renew</a> your\x20
    license key or downgrade to a version released prior to ${t}. If you need any\x20
    help, contact us at <a href="mailto:sales@handsontable.com">sales@handsontable.com</a>.`},missing:()=>Gi`
    The license key for Handsontable is missing. Use your purchased key to activate the product.\x20
    Alternatively, you can activate Handsontable to use for non-commercial purposes by\x20
    passing the key: 'non-commercial-and-evaluation'.\x20
    <a href="https://handsontable.com/docs/tutorial-license-key.html" target="_blank">Read more</a> about it in\x20
    the documentation or contact us at <a href="mailto:support@handsontable.com">support@handsontable.com</a>.`,non_commercial:()=>""};function SG(e,t){let r=!sn(e),i=typeof e=="string"&&e.toLowerCase()==="non-commercial-and-evaluation",n="14.4.0",o,s="invalid",a="invalid";e=cN(e||"");let l=c1t(e);if(r||i||l)if(l){let c=(0,lN.default)("11/06/2024","DD/MM/YYYY"),d=Math.floor(c.toDate().getTime()/864e5),h=a1t(e);o=(0,lN.default)((h+1)*864e5,"x").format("MMMM DD, YYYY"),d>h?(s="expired",a="expired"):(s="valid",a="valid")}else i?(s="non_commercial",a="valid"):(s="invalid",a="invalid");else s="missing",a="missing";if(l1t()&&(s="valid",a="valid"),!_G&&s!=="valid"&&(wG[s]({keyValidityDate:o,hotVersion:n})&&console[s==="non_commercial"?"info":"warn"](wG[s]({keyValidityDate:o,hotVersion:n})),_G=!0),a!=="valid"&&t.parentNode&&CG[a]({keyValidityDate:o,hotVersion:n})){let d=document.createElement("div");d.className="hot-display-license-info",d.innerHTML=CG[a]({keyValidityDate:o,hotVersion:n}),t.parentNode.insertBefore(d,t.nextSibling)}}function c1t(e){let t=[][gC],r=t;if(e[gC]!==vC("Z"))return!1;for(let i="",n="B<H4P+".split(""),o=vC(n.shift());o;o=vC(n.shift()||"A"))--o<""[gC]?r=r|(yG(`${yG(bC(i)+(bC(rM(e,Math.abs(o),2))+[]).padStart(2,"0"))}`)%97||2)>>1:i=rM(e,o,o?n[gC]===1?9:8:6);return r===t}function na(e){return e[0].toUpperCase()+e.substr(1)}function nM(){function e(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return e()+e()+e()+e()}function oM(e){return/^([0-9][0-9]?%$)|(^100%$)/.test(e)}function sM(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return`${e}`.replace(/(?:\\)?\[([^[\]]+)]/g,(r,i)=>r.charAt(0)==="\\"?r.substr(1,r.length-1):t[i]===void 0?"":t[i])}function dN(e){return yC(`${e}`,{ALLOWED_TAGS:[]})}function yC(e,t){return EG.default.sanitize(e,t)}var Ic=e=>["tabindex",e],RG=()=>["role","treegrid"],Ua=()=>["role","presentation"],TG=()=>["role","gridcell"],MG=()=>["role","rowheader"],aM=()=>["role","rowgroup"],AG=()=>["role","columnheader"],_C=()=>["role","row"],IG=()=>["role","menu"],kG=()=>["role","menuitem"],DG=()=>["role","combobox"],lM=()=>["role","listbox"],OG=()=>["role","option"],PG=()=>["role","checkbox"],NG=()=>["scope","col"],LG=()=>["scope","row"],FG=()=>["type","text"],Xv=e=>["aria-label",e],Ps=()=>["aria-hidden","true"],HG=()=>["aria-disabled","true"],BG=()=>["aria-multiselectable","true"],cM=e=>["aria-haspopup",e],dM=e=>["aria-rowcount",e],Zv=e=>["aria-colcount",e],hM=e=>["aria-rowindex",e],Qv=e=>["aria-colindex",e],oa=e=>["aria-expanded",e],jG=e=>["aria-sort",e],hN=()=>["aria-readonly","true"],uN=()=>["aria-invalid","true"],VG=e=>["aria-checked",e],Jv=()=>["aria-selected","true"],zG=()=>["aria-autocomplete","list"],UG=e=>["aria-controls",e],WG=e=>["aria-activedescendant",e],YG=e=>["aria-live",e],$G=e=>["aria-relevant",e],qG=e=>["aria-setsize",e],GG=e=>["aria-posinset",e];function KG(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,i=null,n=e;for(;n!==null;){if(r===t){i=n;break}n.host&&n.nodeType===Node.DOCUMENT_FRAGMENT_NODE?n=n.host:(r+=1,n=n.parentNode)}return i}function XG(e,t){let r=e.closest(".handsontable");return!!r&&(r.parentNode===t||r===t)}function d1t(e){return Object.getPrototypeOf(e.parent)&&e.frameElement}function Hh(e){return d1t(e)&&e.parent}function Sd(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,{ELEMENT_NODE:i,DOCUMENT_FRAGMENT_NODE:n}=Node,o=e;for(;o!=null&&o!==r;){let{nodeType:s,nodeName:a}=o;if(s===i&&(t.includes(a)||t.includes(o)))return o;let{host:l}=o;l&&s===n?o=l:o=o.parentNode}return null}function wC(e,t,r){let i=[],n=e;for(;n&&(n=Sd(n,t,r),!(!n||r&&!r.contains(n)));)i.push(n),n.host&&n.nodeType===Node.DOCUMENT_FRAGMENT_NODE?n=n.host:n=n.parentNode;let o=i.length;return o?i[o-1]:null}function Ed(e,t){let r=e.parentNode,i=[];for(typeof t=="string"?e.defaultView?i=Array.prototype.slice.call(e.querySelectorAll(t),0):i=Array.prototype.slice.call(e.ownerDocument.querySelectorAll(t),0):i.push(t);r!==null;){if(i.indexOf(r)>-1)return!0;r=r.parentNode}return!1}function ZG(e){let t=0,r=e;if(r.previousSibling)for(;r=r.previousSibling;)t+=1;return t}function Wm(e,t,r){let i=r.parentElement.querySelector(`.ht_clone_${e}`);return i?i.contains(t):null}function QG(e){return!e||!e.length?[]:e.filter(t=>!!t)}function JG(e,t){if(!e||!e.length)return t?{regexFree:[],regexes:[]}:[];let r=[],i=[];return i.push(...e.filter(n=>{let o=n instanceof RegExp;return o&&t&&r.push(n),!o})),t?{regexFree:i,regexes:r}:i}function Xe(e,t){return e.classList===void 0||typeof t!="string"||t===""?!1:e.classList.contains(t)}function re(e,t){typeof t=="string"&&(t=t.split(" ")),t=QG(t),t.length>0&&e.classList.add(...t)}function pi(e,t){typeof t=="string"?t=t.split(" "):t instanceof RegExp&&(t=[t]);let{regexFree:r,regexes:i}=JG(t,!0);r=QG(r),r.length>0&&e.classList.remove(...r),i.forEach(n=>{e.classList.forEach(o=>{n.test(o)&&e.classList.remove(o)})})}function Ke(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;Array.isArray(t)||(t=[[t,r]]),t.forEach(i=>{Array.isArray(i)&&i[0]!==""&&e.setAttribute(...i)})}function Dc(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];typeof t=="string"?t=t.split(" "):t instanceof RegExp&&(t=[t]);let{regexFree:r,regexes:i}=JG(t,!0);r.forEach(n=>{n!==""&&e.removeAttribute(n)}),i.forEach(n=>{e.getAttributeNames().forEach(o=>{n.test(o)&&e.removeAttribute(o)})})}function mN(e){if(e.nodeType===3)e.parentNode.removeChild(e);else if(["TABLE","THEAD","TBODY","TFOOT","TR"].indexOf(e.nodeName)>-1){let t=e.childNodes;for(let r=t.length-1;r>=0;r--)mN(t[r])}}function Ns(e){let t;for(;t=e.lastChild;)e.removeChild(t)}var h1t=/(<(.*)>|&(.*);)/;function Oc(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;h1t.test(t)?e.innerHTML=r?yC(t):t:Pc(e,t)}function Pc(e,t){let r=e.firstChild;r&&r.nodeType===3&&r.nextSibling===null?r.textContent=t:(Ns(e),e.appendChild(e.ownerDocument.createTextNode(t)))}function kc(e){let t=e.ownerDocument.documentElement,r=e;for(;r!==t;){if(r===null)return!1;if(r.nodeType===Node.DOCUMENT_FRAGMENT_NODE)if(r.host){if(r.host.impl)return kc(r.host.impl);if(r.host)return kc(r.host);throw new Error("Lost in Web Components world")}else return!1;else if(Nc(r).display==="none")return!1;r=r.parentNode}return!0}function Kn(e){let t=e.ownerDocument,r=t.defaultView,i=t.documentElement,n=e,o,s,a;for(o=n.offsetLeft,s=n.offsetTop,a=n;(n=n.offsetParent)&&!(n===t.body||!("offsetLeft"in n));)o+=n.offsetLeft,s+=n.offsetTop,a=n;return a&&a.style.position==="fixed"&&(o+=r.pageXOffset||i.scrollLeft,s+=r.pageYOffset||i.scrollTop),{left:o,top:s}}function pN(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:window).scrollY}function CC(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:window).scrollX}function ty(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window;return e===t?pN(t):e.scrollTop}function uM(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window;return e===t?CC(t):e.scrollLeft}function ey(e){let t=e.ownerDocument,r=t?t.defaultView:void 0;t||(t=e.document?e.document:e,r=t.defaultView);let i=["auto","scroll"],n=e.parentNode;for(;n&&n.style&&t.body!==n;){let{overflow:o,overflowX:s,overflowY:a}=n.style;if([o,s,a].includes("scroll"))return n;if({overflow:o,overflowX:s,overflowY:a}=r.getComputedStyle(n),i.includes(o)||i.includes(s)||i.includes(a)||n.clientHeight<=n.scrollHeight+1&&(i.includes(a)||i.includes(o))||n.clientWidth<=n.scrollWidth+1&&(i.includes(s)||i.includes(o)))return n;n=n.parentNode}return r}function tK(e){return e.scrollHeight-e.clientHeight}function eK(e){return e.scrollWidth-e.clientWidth}function Rd(e){let t=e.ownerDocument,r=t.defaultView,i=e.parentNode;for(;i&&i.style&&t.body!==i;){if(i.style.overflow!=="visible"&&i.style.overflow!=="")return i;let n=Nc(i,r),o=["scroll","hidden","auto"],s=n.getPropertyValue("overflow"),a=n.getPropertyValue("overflow-y"),l=n.getPropertyValue("overflow-x");if(o.includes(s)||o.includes(a)||o.includes(l))return i;i=i.parentNode}return r}function Ym(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:window;if(e){if(e===r)return t==="width"?`${r.innerWidth}px`:t==="height"?`${r.innerHeight}px`:void 0}else return;let i=e.style[t];if(i!==""&&i!==void 0)return i;let n=Nc(e,r);if(n[t]!==""&&n[t]!==void 0)return n[t]}function Nc(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window;return e.currentStyle||t.getComputedStyle(e)}function yr(e){return e.offsetWidth}function Nr(e){return e.offsetHeight}function af(e){return e.clientHeight||e.innerHeight}function fM(e){return e.clientWidth||e.innerWidth}function mM(e){return e.selectionStart?e.selectionStart:0}function iK(e){return e.selectionEnd?e.selectionEnd:0}function gN(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;e.getSelection&&(e.getSelection().empty?e.getSelection().empty():e.getSelection().removeAllRanges&&e.getSelection().removeAllRanges())}function $m(e,t,r){if(r===void 0&&(r=t),e.setSelectionRange){e.focus();try{e.setSelectionRange(t,r)}catch{let n=e.parentNode,o=n.style.display;n.style.display="block",e.setSelectionRange(t,r),n.style.display=o}}}var fN;function u1t(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document,t=e.createElement("div");t.style.height="200px",t.style.width="100%";let r=e.createElement("div");r.style.boxSizing="content-box",r.style.height="150px",r.style.left="0px",r.style.overflow="hidden",r.style.position="absolute",r.style.top="0px",r.style.width="200px",r.style.visibility="hidden",r.appendChild(t),(e.body||e.documentElement).appendChild(r);let i=t.offsetWidth;r.style.overflow="scroll";let n=t.offsetWidth;return i===n&&(n=r.clientWidth),(e.body||e.documentElement).removeChild(r),i-n}function Rn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return fN===void 0&&(fN=u1t(e)),fN}function rK(e){return e.offsetWidth!==e.clientWidth}function nK(e){return e.offsetHeight!==e.clientHeight}function iy(e,t,r){e.style.transform=`translate3d(${t},${r},0)`}function qm(e){e.style.transform&&e.style.transform!==""&&(e.style.transform="")}function xC(e){return e&&(["INPUT","SELECT","TEXTAREA"].indexOf(e.nodeName)>-1||e.contentEditable==="true")}function pM(e){return xC(e)&&e.hasAttribute("data-hot-input")===!1}function gM(e){return!e.parentNode}function oK(e,t){new IntersectionObserver((i,n)=>{i.forEach(o=>{o.isIntersecting&&e.offsetParent!==null&&(t(),n.unobserve(e))})},{root:e.ownerDocument.body}).observe(e)}function bN(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=e.ownerDocument,n=i.createRange(),o=i.defaultView.getSelection();Ke(e,"contenteditable",!0),r&&Ke(e,...Ps()),t&&re(e,"invisibleSelection"),n.selectNodeContents(e),o.removeAllRanges(),o.addRange(n)}function vN(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=e.ownerDocument.defaultView.getSelection();e.hasAttribute("aria-hidden")&&e.removeAttribute("aria-hidden"),r.removeAllRanges(),t&&pi(e,"invisibleSelection"),e.removeAttribute("contenteditable")}function sK(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;bN(e,r),t(),vN(e,r)}function Mr(e){return typeof e=="function"}function ry(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:200,r=null,i;function n(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return r&&clearTimeout(r),r=setTimeout(()=>{i=e.apply(this,s)},t),i}return n}function bM(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return e.apply(this,r.concat(s))}}function aK(e){let t=e.length;function r(i){return function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];let l=i.concat(s),c;return l.length>=t?c=e.apply(this,l):c=r(l),c}}return r([])}function SC(e,t,r,i,n,o,s,a){return Ne(a)?e.call(t,r,i,n,o,s,a):Ne(s)?e.call(t,r,i,n,o,s):Ne(o)?e.call(t,r,i,n,o):Ne(n)?e.call(t,r,i,n):Ne(i)?e.call(t,r,i):Ne(r)?e.call(t,r):e.call(t)}var fYt=ot(qt(),1),mYt=ot(_e(),1),pYt=ot(yM(),1);function Qg(e){let t;return Array.isArray(e)?t=e.length?new Array(e.length).fill(null):[]:(t={},bi(e,(r,i)=>{i!=="__children"&&(r&&typeof r=="object"&&!Array.isArray(r)?t[i]=Qg(r):Array.isArray(r)?r.length&&typeof r[0]=="object"&&!Array.isArray(r[0])?t[i]=[Qg(r[0])]:t[i]=[]:t[i]=null)})),t}function Td(e,t){return t.prototype.constructor=t,e.prototype=new t,e.prototype.constructor=e,e}function zr(e,t,r){let i=Array.isArray(r);return bi(t,(n,o)=>{(i===!1||r.includes(o))&&(e[o]=n)}),e}function Jg(e,t){bi(t,(r,i)=>{t[i]&&typeof t[i]=="object"?(e[i]||(Array.isArray(t[i])?e[i]=[]:Object.prototype.toString.call(t[i])==="[object Date]"?e[i]=t[i]:e[i]={}),Jg(e[i],t[i])):e[i]=t[i]})}function jo(e){return typeof e=="object"?JSON.parse(JSON.stringify(e)):e}function Xo(e){let t={};return bi(e,(r,i)=>{t[i]=r}),t}function Zi(e){e.MIXINS||(e.MIXINS=[]);for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return St(r,n=>{e.MIXINS.push(n.MIXIN_NAME),bi(n,(o,s)=>{if(e.prototype[s]!==void 0)throw new Error(`Mixin conflict. Property '${s}' already exist and cannot be overwritten.`);if(typeof o=="function")e.prototype[s]=o;else{let a=function(d,h){let u=`_${d}`,f=m=>{let g=m;return(Array.isArray(g)||gi(g))&&(g=jo(g)),g};return function(){return this[u]===void 0&&(this[u]=f(h)),this[u]}},l=function(d){let h=`_${d}`;return function(u){this[h]=u}};Object.defineProperty(e.prototype,s,{get:a(s,o),set:l(s),configurable:!0})}})}),e}function ny(e,t){return JSON.stringify(e)===JSON.stringify(t)}function gi(e){return Object.prototype.toString.call(e)==="[object Object]"}function Ls(e,t,r,i){i.value=r,i.writable=i.writable!==!1,i.enumerable=i.enumerable!==!1,i.configurable=i.configurable!==!1,Object.defineProperty(e,t,i)}function bi(e,t){for(let r in e)if((!e.hasOwnProperty||e.hasOwnProperty&&Object.prototype.hasOwnProperty.call(e,r))&&t(e[r],r,e)===!1)break;return e}function SK(e,t){let r=t.split("."),i=e;return bi(r,n=>{if(i=i[n],i===void 0)return i=void 0,!1}),i}function _M(e,t,r){let i=t.split("."),n=e;i.forEach((o,s)=>{s!==i.length-1?(en(n,o)||(n[o]={}),n=n[o]):n[o]=r})}function oy(e){if(!gi(e))return 0;let t=function(r){let i=0;return gi(r)?bi(r,(n,o)=>{o!=="__children"&&(i+=t(n))}):i+=1,i};return t(e)}function ya(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"value",r=`_${t}`,i={_touched:!1,[r]:e,isTouched(){return this._touched}};return Object.defineProperty(i,t,{get(){return this[r]},set(n){this._touched=!0,this[r]=n},enumerable:!0,configurable:!0}),i}function en(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ay(e){return window.requestAnimationFrame(e)}function ly(e){window.cancelAnimationFrame(e)}function wM(){return"ontouchstart"in window}function EK(){return typeof window<"u"}var sy;function RK(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return sy||(typeof Intl=="object"?sy=new Intl.Collator(e,t).compare:typeof String.prototype.localeCompare=="function"?sy=(r,i)=>`${r}`.localeCompare(i):sy=(r,i)=>r===i?0:r>i?-1:1,sy)}var Lc=e=>{let t={value:!1};return t.test=(r,i)=>{t.value=e(r,i)},t},Km={chrome:Lc((e,t)=>/Chrome/.test(e)&&/Google/.test(t)),chromeWebKit:Lc(e=>/CriOS/.test(e)),edge:Lc(e=>/Edge/.test(e)),edgeWebKit:Lc(e=>/EdgiOS/.test(e)),firefox:Lc(e=>/Firefox/.test(e)),firefoxWebKit:Lc(e=>/FxiOS/.test(e)),mobile:Lc(e=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e)),safari:Lc((e,t)=>/Safari/.test(e)&&/Apple Computer/.test(t))},RC={mac:Lc(e=>/^Mac/.test(e)),win:Lc(e=>/^Win/.test(e)),linux:Lc(e=>/^Linux/.test(e)),ios:Lc(e=>/iPhone|iPad|iPod/i.test(e))};function T1t(){let{userAgent:e=navigator.userAgent,vendor:t=navigator.vendor}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};bi(Km,r=>{let{test:i}=r;return void i(e,t)})}function M1t(){let{platform:e=navigator.platform}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};bi(RC,t=>{let{test:r}=t;return void r(e)})}EK()&&(T1t(),M1t());function CM(){return Km.chrome.value}function TK(){return Km.chromeWebKit.value}function xM(){return Km.firefox.value}function MK(){return Km.firefoxWebKit.value}function yN(){return Km.safari.value}function AK(){return Km.edge.value}function ql(){return Km.mobile.value}function SM(){return RC.ios.value}function EM(){let{maxTouchPoints:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:navigator;return e>2&&RC.mac.value}function _N(){return RC.win.value}function cy(){return RC.mac.value}var QYt=ot(qt(),1);var CYt=ot(_e(),1);var Ri={ALT:18,ARROW_DOWN:40,ARROW_LEFT:37,ARROW_RIGHT:39,ARROW_UP:38,AUDIO_DOWN:xM()?182:174,AUDIO_MUTE:xM()?181:173,AUDIO_UP:xM()?183:175,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND_LEFT:91,COMMAND_RIGHT:93,COMMAND_FIREFOX:224,CONTROL:17,DELETE:46,END:35,ENTER:13,ESCAPE:27,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,HOME:36,INSERT:45,MEDIA_NEXT:176,MEDIA_PLAY_PAUSE:179,MEDIA_PREV:177,MEDIA_STOP:178,NULL:0,NUM_LOCK:144,PAGE_DOWN:34,PAGE_UP:33,PAUSE:19,PERIOD:190,SCROLL_LOCK:145,SHIFT:16,SPACE:32,TAB:9,A:65,C:67,D:68,F:70,L:76,O:79,P:80,S:83,V:86,X:88,Y:89,Z:90},A1t=[Ri.ALT,Ri.ARROW_DOWN,Ri.ARROW_LEFT,Ri.ARROW_RIGHT,Ri.ARROW_UP,Ri.AUDIO_DOWN,Ri.AUDIO_MUTE,Ri.AUDIO_UP,Ri.BACKSPACE,Ri.CAPS_LOCK,Ri.DELETE,Ri.END,Ri.ENTER,Ri.ESCAPE,Ri.F1,Ri.F2,Ri.F3,Ri.F4,Ri.F5,Ri.F6,Ri.F7,Ri.F8,Ri.F9,Ri.F10,Ri.F11,Ri.F12,Ri.F13,Ri.F14,Ri.F15,Ri.F16,Ri.F17,Ri.F18,Ri.F19,Ri.HOME,Ri.INSERT,Ri.MEDIA_NEXT,Ri.MEDIA_PLAY_PAUSE,Ri.MEDIA_PREV,Ri.MEDIA_STOP,Ri.NULL,Ri.NUM_LOCK,Ri.PAGE_DOWN,Ri.PAGE_UP,Ri.PAUSE,Ri.SCROLL_LOCK,Ri.SHIFT,Ri.TAB];function IK(e){return e===32||e>=48&&e<=57||e>=96&&e<=111||e>=186&&e<=192||e>=219&&e<=222||e>=226||e>=65&&e<=90}function RM(e){return A1t.includes(e)}function kK(e){return[Ri.CONTROL,Ri.COMMAND_LEFT,Ri.COMMAND_RIGHT,Ri.COMMAND_FIREFOX].includes(e)}function Bh(e,t){let r=t.split("|"),i=!1;return St(r,n=>{if(e===Ri[n])return i=!0,!1}),i}function Vo(e){e.isImmediatePropagationEnabled=!1,e.cancelBubble=!0}function jh(e){return e.isImmediatePropagationEnabled===!1}function Gl(e){return e.button===2}function dy(e){return e.button===0}function DK(e,t){let r={x:e.offsetX,y:e.offsetY},i=e.target;if(!(t instanceof HTMLElement)||i!==t&&i.contains(t))return r;for(;i!==t;)r.x+=i.offsetLeft,r.y+=i.offsetTop,i=i.offsetParent;return r}var zYt=ot(qt(),1);var kYt=ot(qt(),1),DYt=ot(_e(),1),OYt=ot(wN(),1);function gr(){Ne(console)&&console.warn(...arguments)}function hy(){Ne(console)&&console.error(...arguments)}function k1t(e,t,r){return t=D1t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D1t(e){var t=O1t(e,"string");return typeof t=="symbol"?t:t+""}function O1t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uy=["afterCellMetaReset","afterChange","afterContextMenuDefaultOptions","beforeContextMenuSetItems","afterDropdownMenuDefaultOptions","beforeDropdownMenuSetItems","afterContextMenuHide","beforeContextMenuShow","afterContextMenuShow","afterCopyLimit","beforeCreateCol","afterColumnSequenceChange","afterCreateCol","beforeCreateRow","afterCreateRow","afterDeselect","afterDestroy","afterDocumentKeyDown","afterDrawSelection","beforeRemoveCellClassNames","afterGetCellMeta","afterGetColHeader","afterGetRowHeader","afterInit","afterLoadData","afterUpdateData","afterMomentumScroll","afterOnCellCornerMouseDown","afterOnCellCornerDblClick","afterOnCellMouseDown","afterOnCellMouseUp","afterOnCellContextMenu","afterOnCellMouseOver","afterOnCellMouseOut","afterRemoveCol","afterRemoveRow","beforeRenderer","afterRenderer","afterRowSequenceChange","beforeViewportScrollVertically","beforeViewportScrollHorizontally","beforeViewportScroll","afterScrollHorizontally","afterScrollVertically","afterScroll","afterSelection","afterSelectionByProp","afterSelectionEnd","afterSelectionEndByProp","afterSelectionFocusSet","beforeSelectColumns","afterSelectColumns","beforeSelectRows","afterSelectRows","afterSetCellMeta","afterRemoveCellMeta","afterSetDataAtCell","afterSetDataAtRowProp","afterSetSourceDataAtCell","afterUpdateSettings","afterValidate","beforeLanguageChange","afterLanguageChange","beforeAutofill","afterAutofill","beforeCellAlignment","beforeChange","beforeChangeRender","beforeDrawBorders","beforeGetCellMeta","beforeRemoveCellMeta","beforeInit","beforeInitWalkontable","beforeLoadData","beforeUpdateData","beforeKeyDown","beforeOnCellMouseDown","beforeOnCellMouseUp","beforeOnCellContextMenu","beforeOnCellMouseOver","beforeOnCellMouseOut","beforeRemoveCol","beforeRemoveRow","beforeViewRender","afterViewRender","beforeRender","afterRender","beforeRowWrap","beforeColumnWrap","beforeSetCellMeta","beforeSelectionFocusSet","beforeSetRangeStartOnly","beforeSetRangeStart","beforeSetRangeEnd","beforeSelectionHighlightSet","beforeTouchScroll","beforeValidate","beforeValueRender","construct","init","modifyColHeader","modifyColWidth","modifyFiltersMultiSelectValue","modifyFocusedElement","modifyRowHeader","modifyRowHeight","modifyData","modifySourceData","modifyRowData","modifyGetCellCoords","modifyFocusOnTabNavigation","beforeHighlightingRowHeader","beforeHighlightingColumnHeader","persistentStateLoad","persistentStateReset","persistentStateSave","beforeColumnSort","afterColumnSort","modifyAutofillRange","modifyCopyableRange","beforeCut","afterCut","beforeCopy","afterCopy","beforePaste","afterPaste","beforeColumnFreeze","afterColumnFreeze","beforeColumnMove","afterColumnMove","beforeColumnUnfreeze","afterColumnUnfreeze","beforeRowMove","afterRowMove","beforeColumnResize","afterColumnResize","beforeRowResize","afterRowResize","afterGetColumnHeaderRenderers","afterGetRowHeaderRenderers","beforeStretchingColumnWidth","beforeFilter","afterFilter","afterFormulasValuesUpdate","afterNamedExpressionAdded","afterNamedExpressionRemoved","afterSheetAdded","afterSheetRenamed","afterSheetRemoved","modifyColumnHeaderHeight","modifyColumnHeaderValue","beforeUndo","beforeUndoStackChange","afterUndo","afterUndoStackChange","beforeRedo","beforeRedoStackChange","afterRedo","afterRedoStackChange","modifyRowHeaderWidth","modifyTransformFocus","modifyTransformStart","modifyTransformEnd","afterModifyTransformFocus","afterModifyTransformStart","afterModifyTransformEnd","afterViewportRowCalculatorOverride","afterViewportColumnCalculatorOverride","afterPluginsInitialized","beforeHideRows","afterHideRows","beforeUnhideRows","afterUnhideRows","beforeHideColumns","afterHideColumns","beforeUnhideColumns","afterUnhideColumns","beforeTrimRow","afterTrimRow","beforeUntrimRow","afterUntrimRow","beforeDropdownMenuShow","afterDropdownMenuShow","afterDropdownMenuHide","beforeAddChild","afterAddChild","beforeDetachChild","afterDetachChild","beforeBeginEditing","afterBeginEditing","beforeMergeCells","afterMergeCells","beforeUnmergeCells","afterUnmergeCells","afterListen","afterUnlisten","afterRefreshDimensions","beforeRefreshDimensions","beforeColumnCollapse","afterColumnCollapse","beforeColumnExpand","afterColumnExpand","modifyAutoColumnSizeSeed"],P1t=Gi`The plugin hook "[hookName]" was removed in Handsontable [removedInVersion].\x20
  Please consult release notes https://github.com/handsontable/handsontable/releases/tag/[removedInVersion] to\x20
  learn about the migration path.`,CN=new Map([["modifyRow","8.0.0"],["modifyCol","8.0.0"],["unmodifyRow","8.0.0"],["unmodifyCol","8.0.0"],["skipLengthCache","8.0.0"],["hiddenColumn","8.0.0"],["hiddenRow","8.0.0"]]),xN=new Map([[]]),TM=new WeakMap,MM=class{static getSingleton(){return L1t()}constructor(){k1t(this,"globalBucket",void 0),this.globalBucket=this.createEmptyBucket()}createEmptyBucket(){let t=Object.create(null);return St(uy,r=>{t[r]=[],this.initOrderMap(t,r)}),t}getBucket(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return t?(t.pluginHookBucket||(t.pluginHookBucket=this.createEmptyBucket()),t.pluginHookBucket):this.globalBucket}add(t,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,n=arguments.length>3?arguments[3]:void 0;if(Array.isArray(r))St(r,o=>this.add(t,o,i));else{CN.has(t)&&gr(sM(P1t,{hookName:t,removedInVersion:CN.get(t)})),xN.has(t)&&gr(xN.get(t));let o=this.getBucket(i);if(typeof o[t]>"u"&&(this.register(t),o[t]=[],this.initOrderMap(o,t)),r.skip=!1,o[t].indexOf(r)===-1){let s=!1;r.initialHook&&St(o[t],(a,l)=>{if(a.initialHook)return o[t][l]=r,s=!0,!1}),s||o[t].push(r)}this.setCallbackOrderIndex(o,t,r,n),this.orderBucketByOrderIndex(o,t)}return this}once(t,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,n=arguments.length>3?arguments[3]:void 0;Array.isArray(r)?St(r,o=>this.once(t,o,i)):(r.runOnce=!0,this.add(t,r,i,n))}remove(t,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,n=this.getBucket(i);return typeof n[t]<"u"&&n[t].indexOf(r)>=0?(r.skip=!0,!0):!1}has(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,i=this.getBucket(r);return!!(i[t]!==void 0&&i[t].length)}run(t,r,i,n,o,s,a,l){{let c=this.globalBucket[r],d=c?c.length:0,h=0;if(d)for(;h<d;){if(!c[h]||c[h].skip){h+=1;continue}let u=SC(c[h],t,i,n,o,s,a,l);u!==void 0&&(i=u),c[h]&&c[h].runOnce&&this.remove(r,c[h]),h+=1}}{let c=this.getBucket(t)[r],d=c?c.length:0,h=0;if(d)for(;h<d;){if(!c[h]||c[h].skip){h+=1;continue}let u=SC(c[h],t,i,n,o,s,a,l);u!==void 0&&(i=u),c[h]&&c[h].runOnce&&this.remove(r,c[h],t),h+=1}}return i}destroy(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;bi(this.getBucket(t),(r,i,n)=>n[i].length=0)}register(t){this.isRegistered(t)||uy.push(t)}deregister(t){this.isRegistered(t)&&uy.splice(uy.indexOf(t),1)}isDeprecated(t){return xN.has(t)||CN.has(t)}isRegistered(t){return uy.indexOf(t)>=0}getRegistered(){return uy}setCallbackOrderIndex(t,r,i,n){let o=Number.isInteger(n)?n:0,s=this.getCallbackOrderMap(t,r);s.set(o,[...s.get(o)||[],i])}orderBucketByOrderIndex(t,r){let i=this.getCallbackOrderMap(t,r);i===void 0||i.size===0||i.size===1&&i.has(0)||(t[r]=[...i].sort((n,o)=>n[0]-o[0]).flatMap(n=>{let[,o]=n;return o}))}initOrderMap(t,r){TM.has(t)||TM.set(t,[]),TM.get(t)[r]=new Map}getCallbackOrderMap(t,r){return TM.get(t)[r]}},N1t=new MM;function L1t(){return N1t}var Le=MM;var SN=new Map;function Zo(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"common";SN.has(e)||SN.set(e,new Map);let t=SN.get(e);function r(a,l){t.set(a,l)}function i(a){return t.get(a)}function n(a){return t.has(a)}function o(){return[...t.keys()]}function s(){return[...t.values()]}return{register:r,getItem:i,hasItem:n,getNames:o,getValues:s}}var EN=new WeakMap,{register:F1t,getItem:OK,hasItem:RN,getNames:YYt,getValues:$Yt}=Zo("editors");function H1t(e){let t={},r=e;this.getConstructor=function(){return e},this.getInstance=function(i){return i.guid in t||(t[i.guid]=new r(i)),t[i.guid]},Le.getSingleton().add("afterDestroy",function(){t[this.guid]=null})}function AM(e,t){let r;if(typeof e=="function")EN.get(e)||Wa(null,e),r=EN.get(e);else if(typeof e=="string")r=OK(e);else throw Error('Only strings and functions can be passed as "editor" parameter');if(!r)throw Error(`No editor registered under name "${e}"`);return r.getInstance(t)}function TN(e){if(typeof e=="function")return e;if(!RN(e))throw Error(`No registered editor found under "${e}" name`);return OK(e).getConstructor()}function Wa(e,t){e&&typeof e!="string"&&(t=e,e=t.EDITOR_TYPE);let r=new H1t(t);typeof e=="string"&&F1t(e,r),EN.set(t,r)}var GYt=ot(qt(),1),KYt=ot(_e(),1);function B1t(e,t,r){return t=j1t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j1t(e){var t=V1t(e,"string");return typeof t=="symbol"?t:t+""}function V1t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MN=0,AN=class{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;B1t(this,"context",void 0),this.context=t||this,this.context.eventListeners||(this.context.eventListeners=[])}addEventListener(t,r,i){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;function o(s){i.call(this,z1t(s))}return this.context.eventListeners.push({element:t,event:r,callback:i,callbackProxy:o,options:n,eventManager:this}),t.addEventListener(r,o,n),MN+=1,()=>{this.removeEventListener(t,r,i)}}removeEventListener(t,r,i){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=this.context.eventListeners.length,s;for(;o;)if(o-=1,s=this.context.eventListeners[o],s.event===r&&s.element===t){if(i&&i!==s.callback||n&&s.eventManager!==this)continue;this.context.eventListeners.splice(o,1),s.element.removeEventListener(s.event,s.callbackProxy,s.options),MN-=1}}clearEvents(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.context)return;let r=this.context.eventListeners.length;for(;r;){r-=1;let i=this.context.eventListeners[r];t&&i.eventManager!==this||(this.context.eventListeners.splice(r,1),i.element.removeEventListener(i.event,i.callbackProxy,i.options),MN-=1)}}clear(){this.clearEvents()}destroy(){this.clearEvents(),this.context=null}destroyWithOwnEventsOnly(){this.clearEvents(!0),this.context=null}fireEvent(t,r){let i=t.document,n=t;i||(i=t.ownerDocument?t.ownerDocument:t,n=i.defaultView);let o={bubbles:!0,cancelable:r!=="mousemove",view:n,detail:0,screenX:0,screenY:0,clientX:1,clientY:1,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:void 0},s;i.createEvent?(s=i.createEvent("MouseEvents"),s.initMouseEvent(r,o.bubbles,o.cancelable,o.view,o.detail,o.screenX,o.screenY,o.clientX,o.clientY,o.ctrlKey,o.altKey,o.shiftKey,o.metaKey,o.button,o.relatedTarget||i.body.parentNode)):s=i.createEventObject(),t.dispatchEvent?t.dispatchEvent(s):t.fireEvent(`on${r}`,s)}};function z1t(e){let t=e.stopImmediatePropagation;return e.stopImmediatePropagation=function(){t.apply(this),Vo(this)},e}var Qo=AN;function U1t(e,t){W1t(e,t),t.add(e)}function W1t(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function t0(e,t,r){return t=Y1t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y1t(e){var t=$1t(e,"string");return typeof t=="symbol"?t:t+""}function $1t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PK(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var IN=new WeakSet,TC=class{constructor(t,r,i){U1t(this,IN),t0(this,"hot",void 0),t0(this,"tableMeta",void 0),t0(this,"selection",void 0),t0(this,"eventManager",void 0),t0(this,"destroyed",!1),t0(this,"activeEditor",void 0),t0(this,"cellProperties",void 0),this.hot=t,this.tableMeta=r,this.selection=i,this.eventManager=new Qo(t),this.hot.addHook("afterDocumentKeyDown",n=>PK(IN,this,q1t).call(this,n)),this.eventManager.addEventListener(this.hot.rootDocument.documentElement,"compositionstart",n=>{!this.destroyed&&this.hot.isListening()&&this.openEditor("",n)}),this.hot.view._wt.update("onCellDblClick",(n,o,s)=>PK(IN,this,G1t).call(this,n,o,s))}getActiveEditor(){return this.activeEditor}prepareEditor(){var t;if(this.activeEditor&&this.activeEditor.isWaiting()){this.closeEditor(!1,!1,c=>{c&&this.prepareEditor()});return}let r=(t=this.hot.getSelectedRangeLast())===null||t===void 0?void 0:t.highlight;if(!r||r.isHeader())return;let{row:i,col:n}=r,o=this.hot.runHooks("modifyGetCellCoords",i,n),s=i,a=n;if(Array.isArray(o)&&([s,a]=o),this.cellProperties=this.hot.getCellMeta(s,a),!this.isCellEditable()){this.clearActiveEditor();return}let l=this.hot.getCell(i,n,!0);if(l){let c=this.hot.getCellEditor(this.cellProperties),d=this.hot.colToProp(a),h=this.hot.getSourceDataAtCell(this.hot.toPhysicalRow(s),a);this.activeEditor=AM(c,this.hot),this.activeEditor.prepare(i,n,d,l,h,this.cellProperties)}}isEditorOpened(){return this.activeEditor&&this.activeEditor.isOpened()}openEditor(t,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!this.isCellEditable()){this.clearActiveEditor();return}let n=this.hot.getSelectedRangeLast(),o=this.hot.runHooks("beforeBeginEditing",n.highlight.row,n.highlight.col,t,r,i);if(r instanceof MouseEvent&&typeof o!="boolean"&&(o=this.hot.selection.getLayerLevel()===0&&n.isSingle()),o===!1){this.clearActiveEditor();return}this.activeEditor||(this.hot.scrollToFocusedCell(),this.prepareEditor()),this.activeEditor&&(i&&this.activeEditor.enableFullEditMode(),this.activeEditor.beginEditing(t,r))}closeEditor(t,r,i){this.activeEditor?this.activeEditor.finishEditing(t,r,i):i&&i(!1)}closeEditorAndSaveChanges(t){this.closeEditor(!1,t)}closeEditorAndRestoreOriginalValue(t){this.closeEditor(!0,t)}clearActiveEditor(){this.activeEditor=void 0}isCellEditable(){let t=this.hot.getSelectedRangeLast();if(!t)return!1;let r=this.hot.getCellEditor(this.cellProperties),{row:i,col:n}=t.highlight,{rowIndexMapper:o,columnIndexMapper:s}=this.hot,a=o.isHidden(this.hot.toPhysicalRow(i))||s.isHidden(this.hot.toPhysicalColumn(n));return!(this.cellProperties.readOnly||!r||a)}moveSelectionAfterEnter(t){let r=jt({},typeof this.tableMeta.enterMoves=="function"?this.tableMeta.enterMoves(t):this.tableMeta.enterMoves);t.shiftKey&&(r.row=-r.row,r.col=-r.col),this.hot.selection.isMultiple()?this.selection.transformFocus(r.row,r.col):this.selection.transformStart(r.row,r.col,!0)}destroy(){this.destroyed=!0,this.eventManager.destroy()}};function q1t(e){let t=this.hot.getSelectedRangeLast();if(!this.hot.isListening()||!t||t.highlight.isHeader()||jh(e))return;let{keyCode:r}=e,i=(e.ctrlKey||e.metaKey)&&!e.altKey;(!this.activeEditor||this.activeEditor&&!this.activeEditor.isWaiting())&&!RM(r)&&!kK(r)&&!i&&!this.isEditorOpened()&&this.openEditor("",e)}function G1t(e,t){t.isCell()&&this.openEditor(null,e,!0)}var NK=new WeakMap;TC.getInstance=function(e,t,r){let i=NK.get(e);return i||(i=new TC(e,t,r),NK.set(e,i)),i};var LK=TC;var o$t=ot(qt(),1);function K1t(e,t){HK(e,t),t.add(e)}function MC(e,t,r){HK(e,t),t.set(e,r)}function HK(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function wo(e,t){return e.get(lf(e,t))}function AC(e,t,r){return e.set(lf(e,t),r),r}function lf(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var fy=Object.freeze({CELL:"cell",MIXED:"mixed"}),Fs=new WeakMap,IM=new WeakMap,kM=new WeakMap,DM=new WeakMap,OM=new WeakMap,Xm=new WeakSet,PM=class{constructor(t){var r=this;K1t(this,Xm),MC(this,Fs,void 0),MC(this,IM,void 0),MC(this,kM,1),MC(this,DM,null),MC(this,OM,new Map);let i=t.getSettings();AC(Fs,this,t),AC(IM,this,i.imeFastEdit?fy.MIXED:fy.CELL),wo(Fs,this).addHook("afterUpdateSettings",function(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return lf(Xm,r,Z1t).call(r,...o)}),wo(Fs,this).addHook("afterSelection",function(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return lf(Xm,r,FK).call(r,...o)}),wo(Fs,this).addHook("afterSelectionFocusSet",function(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return lf(Xm,r,FK).call(r,...o)}),wo(Fs,this).addHook("afterSelectionEnd",function(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return lf(Xm,r,X1t).call(r,...o)})}getFocusMode(){return wo(IM,this)}setFocusMode(t){Object.values(fy).includes(t)?AC(IM,this,t):gr(`"${t}" is not a valid focus mode.`)}getRefocusDelay(){return wo(kM,this)}setRefocusDelay(t){AC(kM,this,t)}setRefocusElementGetter(t){AC(DM,this,t)}getRefocusElement(){if(typeof wo(DM,this)=="function")return wo(DM,this).call(this);var t;return(t=wo(Fs,this).getActiveEditor())===null||t===void 0?void 0:t.TEXTAREA}focusOnHighlightedCell(t){let r=i=>{var n,o;let s=(n=wo(Fs,this).getSelectedRangeLast())===null||n===void 0?void 0:n.highlight;if(!s)return;let a=wo(Fs,this).runHooks("modifyFocusedElement",s.row,s.col,i);a instanceof HTMLElement||(a=i),a&&!((o=wo(Fs,this).getActiveEditor())!==null&&o!==void 0&&o.isOpened())&&a.focus({preventScroll:!0})};t?r(t):lf(Xm,this,kN).call(this,i=>r(i))}refocusToEditorTextarea(){var t;let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:wo(kM,this),i=this.getRefocusElement();wo(Fs,this).getSettings().imeFastEdit&&!((t=wo(Fs,this).getActiveEditor())!==null&&t!==void 0&&t.isOpened())&&i&&(wo(OM,this).has(r)||wo(OM,this).set(r,ry(()=>{i.select()},r)),wo(OM,this).get(r)())}};function kN(e){var t;let r=(t=wo(Fs,this).getSelectedRangeLast())===null||t===void 0?void 0:t.highlight;if(!r||!wo(Fs,this).selection.isCellVisible(r)){e(null);return}let i=wo(Fs,this).getCell(r.row,r.col,!0);i===null?wo(Fs,this).addHookOnce("afterScroll",()=>{e(wo(Fs,this).getCell(r.row,r.col,!0))}):e(i)}function FK(){lf(Xm,this,kN).call(this,e=>{let{activeElement:t}=wo(Fs,this).rootDocument;t&&pM(t)&&t.blur(),this.focusOnHighlightedCell(e)})}function X1t(){lf(Xm,this,kN).call(this,e=>{this.getFocusMode()===fy.MIXED&&e.nodeName==="TD"&&this.refocusToEditorTextarea()})}function Z1t(e){typeof e.imeFastEdit=="boolean"&&this.setFocusMode(e.imeFastEdit?fy.MIXED:fy.CELL)}var u$t=ot(_e(),1),f$t=ot(VK(),1);var zK={"&nbsp;":" ","&amp;":"&","&lt;":"<","&gt;":">"},uCt=new RegExp(Object.keys(zK).map(e=>`(${e})`).join("|"),"gi");function fCt(e){return(e&&e.nodeName||"")==="TABLE"}function PN(e){let t=e.hasColHeaders(),r=e.hasRowHeaders(),i=[t?-1:0,r?-1:0,e.countRows()-1,e.countCols()-1],n=e.getData(...i),o=n.length,s=o>0?n[0].length:0,a=["<table>","</table>"],l=t?["<thead>","</thead>"]:[],c=["<tbody>","</tbody>"],d=r?1:0,h=t?1:0;for(let u=0;u<o;u+=1){let f=t&&u===0,m=[];for(let p=0;p<s;p+=1){let b=!f&&r&&p===0,_="";if(f)_=`<th>${e.getColHeader(p-d)}</th>`;else if(b)_=`<th>${e.getRowHeader(u-h)}</th>`;else{let E=n[u][p],{hidden:O,rowspan:V,colspan:H}=e.getCellMeta(u-h,p-d);if(!O){let F=[];if(V&&F.push(`rowspan="${V}"`),H&&F.push(`colspan="${H}"`),sn(E))_=`<td ${F.join(" ")}></td>`;else{let L=E.toString().replace("<","&lt;").replace(">","&gt;").replace(/(<br(\s*|\/)>(\r\n|\n)?|\r\n|\n)/g,`<br>\r
`).replace(/\x20/gi,"&nbsp;").replace(/\t/gi,"&#9;");_=`<td ${F.join(" ")}>${L}</td>`}}}m.push(_)}let g=["<tr>",...m,"</tr>"].join("");f?l.splice(1,0,g):c.splice(-1,0,g)}return a.splice(1,0,l.join(""),c.join("")),a.join("")}function NN(e){let t=e.length,r=["<table>"];for(let i=0;i<t;i+=1){let n=e[i],o=n.length,s=[];i===0&&r.push("<tbody>");for(let a=0;a<o;a+=1){let l=n[a],c=sn(l)?"":l.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/(<br(\s*|\/)>(\r\n|\n)?|\r\n|\n)/g,`<br>\r
`).replace(/\x20{2,}/gi,d=>`<span style="mso-spacerun: yes">${"&nbsp;".repeat(d.length-1)} </span>`).replace(/\t/gi,"&#9;");s.push(`<td>${c}</td>`)}r.push("<tr>",...s,"</tr>"),i+1===t&&r.push("</tbody>")}return r.push("</table>"),r.join("")}function UK(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document,r={},i=t.createDocumentFragment(),n=t.createElement("div");i.appendChild(n);let o=e;if(typeof o=="string"){let E=o.replace(/<td\b[^>]*?>([\s\S]*?)<\/\s*td>/g,O=>{let V=O.match(/<td\b[^>]*?>/g)[0],H=/<p.*?>/g,F=O.substring(V.length,O.lastIndexOf("<")).trim().replaceAll(/\n\s+/g," ").replaceAll(H,`
`).replace(`
`,"").replaceAll(/<\/(.*)>\s+$/mg,"</$1>").replace(/(<(?!br)([^>]+)>)/gi,"").replaceAll(/^&nbsp;$/mg,"");return`${V}${F}</td>`});n.insertAdjacentHTML("afterbegin",`${E}`),o=n.querySelector("table")}if(!o||!fCt(o))return;let s=n.querySelector('meta[name$="enerator"]'),a=o.querySelector("tbody th")!==null,l=o.querySelector("tr"),c=l?Array.from(l.cells).reduce((E,O)=>E+O.colSpan,0)-(a?1:0):0,d=o.tFoot&&Array.from(o.tFoot.rows)||[],h=[],u=!1,f=0,m=0;if(o.tHead){let E=Array.from(o.tHead.rows).filter(O=>{let V=O.querySelector("td")!==null;return V&&h.push(O),!V});f=E.length,u=f>0,f>1?r.nestedHeaders=Array.from(E).reduce((O,V)=>{let H=Array.from(V.cells).reduce((F,L,q)=>{if(a&&q===0)return F;let{colSpan:W,innerHTML:x}=L,R=W>1?{label:x,colspan:W}:x;return F.push(R),F},[]);return O.push(H),O},[]):u&&(r.colHeaders=Array.from(E[0].children).reduce((O,V,H)=>(a&&H===0||O.push(V.innerHTML),O),[]))}h.length&&(r.fixedRowsTop=h.length),d.length&&(r.fixedRowsBottom=d.length);let g=[...h,...Array.from(o.tBodies).reduce((E,O)=>(E.push(...Array.from(O.rows)),E),[]),...d];m=g.length;let p=new Array(m);for(let E=0;E<m;E++)p[E]=new Array(c);let b=[],_=[];for(let E=0;E<m;E++){let O=g[E],V=Array.from(O.cells),H=V.length;for(let F=0;F<H;F++){let L=V[F],{nodeName:q,innerHTML:W,rowSpan:x,colSpan:R}=L,j=p[E].findIndex(v=>v===void 0);if(q==="TD"){if(x>1||R>1){for(let w=E;w<E+x;w++)if(w<m)for(let S=j;S<j+R;S++)p[w][S]=null;let y=L.getAttribute("style");y&&y.includes("mso-ignore:colspan")||b.push({col:j,row:E,rowspan:x,colspan:R})}let v="";s&&/excel/gi.test(s.content)?v=W.replace(/[\r\n][\x20]{0,2}/g," ").replace(/<br(\s*|\/)>[\r\n]?[\x20]{0,3}/gim,`\r
`):v=W.replace(/<br(\s*|\/)>[\r\n]?/gim,`\r
`),p[E][j]=v.replace(uCt,y=>zK[y])}else _.push(W)}}return b.length&&(r.mergeCells=b),_.length&&(r.rowHeaders=_),p.length&&(r.data=p),r}var V$t=ot(qt(),1);var S$t=ot(qt(),1);var g$t=ot(yn(),1),b$t=ot(_n(),1),v$t=ot(wn(),1),y$t=ot(Cn(),1),_$t=ot(xn(),1),w$t=ot(Sn(),1),C$t=ot(En(),1);function Jo(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=typeof e;if(r==="number")return!isNaN(e)&&isFinite(e);if(r==="string"){if(e.length===0)return!1;if(e.length===1)return/\d/.test(e);let i=Array.from(new Set([".",...t])).map(n=>`\\${n}`).join("|");return new RegExp(`^[+-]?(((${i})?\\d+((${i})\\d+)?(e[+-]?\\d+)?)|(0x[a-f\\d]+))$`,"i").test(e.trim())}else if(r==="object")return!!e&&typeof e.valueOf()=="number"&&!(e instanceof Date);return!1}function WK(e){return Jo(e,[","])}function Oe(e,t,r){let i=-1;for(typeof t=="function"?(r=t,t=e):i=e-1;++i<=t&&r(i)!==!1;);}function IC(e,t,r){let i=e+1;for(typeof t=="function"&&(r=t,t=0);--i>=t&&r(i)!==!1;);}function NM(e,t){return t=parseInt(t.toString().replace("%",""),10),t=isNaN(t)?0:t,parseInt(e*t/100,10)}function qr(e,t,r){return Math.min(e,t)===e?t:Math.max(e,r)===e?r:e}var LN="asc",mCt="desc",YK=new Map([[LN,[-1,1]],[mCt,[1,-1]]]),pCt=e=>`The priority '${e}' is already declared in a map.`,gCt=e=>`The priority '${e}' is not a number.`;function $K(){let{errorPriorityExists:e,errorPriorityNaN:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=new Map;e=Mr(e)?e:pCt,t=Mr(t)?t:gCt;function i(o,s){if(!Jo(o))throw new Error(t(o));if(r.has(o))throw new Error(e(o));r.set(o,s)}function n(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:LN,[s,a]=YK.get(o)||YK.get(LN);return[...r].sort((l,c)=>l[0]<c[0]?s:a).map(l=>l[1])}return{addItem:i,getItems:n}}var M$t=ot(qt(),1);var bCt=e=>`The id '${e}' is already declared in a map.`;function Zm(){let{errorIdExists:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=new Map;e=Mr(e)?e:bCt;function r(c,d){if(l(c))throw new Error(e(c));t.set(c,d)}function i(c){return t.delete(c)}function n(){t.clear()}function o(c){let[d]=a().find(h=>{let[u,f]=h;return c===f?u:!1})||[null];return d}function s(c){return t.get(c)}function a(){return[...t]}function l(c){return t.has(c)}return{addItem:r,clear:n,getId:o,getItem:s,getItems:a,hasItem:l,removeItem:i}}var k$t=ot(qt(),1),D$t=ot(yn(),1),O$t=ot(_n(),1),P$t=ot(wn(),1),N$t=ot(Cn(),1),L$t=ot(xn(),1),F$t=ot(Sn(),1),H$t=ot(En(),1);var vCt=e=>`'${e}' value is already declared in a unique set.`;function qK(){let{errorItemExists:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=new Set;e=Mr(e)?e:vCt;function r(o){if(t.has(o))throw new Error(e(o));t.add(o)}function i(){return[...t]}function n(){t.clear()}return{addItem:r,clear:n,getItems:i}}var HN=e=>`There is already registered "${e}" plugin.`,yCt=e=>`There is already registered plugin on priority "${e}".`,_Ct=e=>`The priority "${e}" is not a number.`,GK=$K({errorPriorityExists:yCt,errorPriorityNaN:_Ct}),KK=qK({errorItemExists:HN}),FN=Zm({errorIdExists:HN});function LM(){return[...GK.getItems(),...KK.getItems()]}function FM(e){let t=na(e);return FN.getItem(t)}function XK(e){return!!FM(e)}function Zr(e,t,r){[e,t,r]=CCt(e,t,r),FM(e)===void 0&&wCt(e,t,r)}function wCt(e,t,r){let i=na(e);if(FN.hasItem(i))throw new Error(HN(i));r===void 0?KK.addItem(i):GK.addItem(r,i),FN.addItem(i,t)}function CCt(e,t,r){return typeof e=="function"&&(t=e,e=t.PLUGIN_KEY,r=t.PLUGIN_PRIORITY),[e,t,r]}var q$t=ot(qt(),1);var{register:xCt,getItem:SCt,hasItem:BN,getNames:K$t,getValues:X$t}=Zo("renderers");function jN(e){if(typeof e=="function")return e;if(!BN(e))throw Error(`No registered renderer found under "${e}" name`);return SCt(e)}function gl(e,t){typeof e!="string"&&(t=e,e=t.RENDERER_TYPE),xCt(e,t)}var Q$t=ot(qt(),1);var{register:ECt,getItem:RCt,hasItem:VN,getNames:tqt,getValues:eqt}=Zo("validators");function ZK(e){if(typeof e=="function")return e;if(!VN(e))throw Error(`No registered validator found under "${e}" name`);return RCt(e)}function Qm(e,t){typeof e!="string"&&(t=e,e=t.VALIDATOR_TYPE),ECt(e,t)}var UQt=ot(qt(),1),WQt=ot(_e(),1);var rqt=ot(qt(),1);function HM(e,t,r){return t=TCt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TCt(e){var t=MCt(e,"string");return typeof t=="symbol"?t:t+""}function MCt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kC=class{constructor(t){HM(this,"count",0),HM(this,"startColumn",0),HM(this,"endColumn",0),HM(this,"startPosition",0),this.count=t.totalColumns,this.endColumn=this.count-1}};var oqt=ot(qt(),1);function BM(e,t,r){return t=ACt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ACt(e){var t=ICt(e,"string");return typeof t=="symbol"?t:t+""}function ICt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DC=class{constructor(t){BM(this,"count",0),BM(this,"startRow",0),BM(this,"endRow",0),BM(this,"startPosition",0),this.count=t.totalRows,this.endRow=this.count-1}};var cqt=ot(qt(),1),dqt=ot(zN(),1),hqt=ot(_e(),1);function LCt(e,t,r){FCt(e,t),t.set(e,r)}function FCt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function OC(e,t,r){return t=HCt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HCt(e){var t=BCt(e,"string");return typeof t=="symbol"?t:t+""}function BCt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function py(e,t){return e.get(QK(e,t))}function jCt(e,t,r){return e.set(QK(e,t),r),r}function QK(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var Jm=new WeakMap,Vh=class e{static get DEFAULT_WIDTH(){return 50}constructor(t){OC(this,"count",0),OC(this,"startColumn",null),OC(this,"endColumn",null),OC(this,"startPosition",null),OC(this,"isVisibleInTrimmingContainer",!1),LCt(this,Jm,void 0),jCt(Jm,this,t),this.calculate()}calculate(){let{calculationType:t,overrideFn:r,scrollOffset:i,totalColumns:n,viewportWidth:o}=py(Jm,this),s=Math.max(py(Jm,this).scrollOffset,0),a=s>0?o+1:o,l=0,c=!0,d=[],h,u=0,f=0;for(let b=0;b<n;b++)if(h=this._getColumnWidth(b),l<=s&&t!==2&&(this.startColumn=b,u=h),l>=s&&l+(t===2?h:0)<=s+a&&((this.startColumn===null||this.startColumn===void 0)&&(this.startColumn=b,u=h),this.endColumn=b),d.push(l),l+=h,f=h,t!==2&&(this.endColumn=b),l>=s+o){c=!1;break}let m=i+o-a,g=t===2?0:f,p=t===2?u:0;if(m<-1*py(Jm,this).inlineStartOffset||i>d.at(-1)+g||-1*py(Jm,this).scrollOffset-py(Jm,this).viewportWidth>-1*p?this.isVisibleInTrimmingContainer=!1:this.isVisibleInTrimmingContainer=!0,this.endColumn===n-1&&c)for(this.startColumn=this.endColumn;this.startColumn>0;){let b=d[this.endColumn]+h-d[this.startColumn-1];if((b<=o||t!==2)&&(this.startColumn-=1),b>o)break}t===1&&this.startColumn!==null&&r&&r(this),this.startPosition=d[this.startColumn],this.startPosition===void 0&&(this.startPosition=null),n<this.endColumn&&(this.endColumn=n-1),this.startColumn!==null&&(this.count=this.endColumn-this.startColumn+1)}_getColumnWidth(t){let r=py(Jm,this).columnWidthFn(t);return isNaN(r)&&(r=e.DEFAULT_WIDTH),r}};var fqt=ot(qt(),1),mqt=ot(zN(),1),pqt=ot(_e(),1);function VCt(e,t,r){zCt(e,t),t.set(e,r)}function zCt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function PC(e,t,r){return t=UCt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UCt(e){var t=WCt(e,"string");return typeof t=="symbol"?t:t+""}function WCt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UN(e,t){return e.get(JK(e,t))}function YCt(e,t,r){return e.set(JK(e,t),r),r}function JK(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var NC=new WeakMap,ep=class e{static get DEFAULT_HEIGHT(){return 23}constructor(t){PC(this,"count",0),PC(this,"startRow",null),PC(this,"endRow",null),PC(this,"startPosition",null),PC(this,"isVisibleInTrimmingContainer",!1),VCt(this,NC,void 0),YCt(NC,this,t),this.calculate()}calculate(){let{calculationType:t,overrideFn:r,rowHeightFn:i,scrollOffset:n,totalRows:o,viewportHeight:s}=UN(NC,this),a=Math.max(UN(NC,this).scrollOffset,0),l=UN(NC,this).horizontalScrollbarHeight||0,c=a+s-l,d=0,h=!0,u=[],f,m=0,g=0;for(let E=0;E<o;E++)if(f=i(E),isNaN(f)&&(f=e.DEFAULT_HEIGHT),d<=a&&t!==2&&(this.startRow=E,m=f),d>=a&&d+(t===2?f:0)<=c&&(this.startRow===null&&(this.startRow=E,m=f),this.endRow=E),u.push(d),d+=f,g=f,t!==2&&(this.endRow=E),d>=c){h=!1;break}let p=n+s-l,b=t===2?m:0,_=t===2?0:g;if(p<b||n>u.at(-1)+_?this.isVisibleInTrimmingContainer=!1:this.isVisibleInTrimmingContainer=!0,this.endRow===o-1&&h)for(this.startRow=this.endRow;this.startRow>0;){let E=u[this.endRow]+f-u[this.startRow-1];if((E<=s-l||t!==2)&&(this.startRow-=1),E>=s-l)break}t===1&&this.startRow!==null&&r&&r(this),this.startPosition=u[this.startRow],this.startPosition===void 0&&(this.startPosition=null),o<this.endRow&&(this.endRow=o-1),this.startRow!==null&&(this.count=this.endRow-this.startRow+1)}};var xqt=ot(qt(),1);function $Ct(e,t,r){qCt(e,t),t.set(e,r)}function qCt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function tX(e,t,r){return t=GCt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GCt(e){var t=KCt(e,"string");return typeof t=="symbol"?t:t+""}function KCt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gy(e,t){return e.get(iX(e,t))}function eX(e,t,r){return e.set(iX(e,t),r),r}function iX(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var cf=new WeakMap,WN=class e{constructor(t,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;tX(this,"row",null),tX(this,"col",null),$Ct(this,cf,!1),eX(cf,this,i),typeof t<"u"&&typeof r<"u"&&(this.row=t,this.col=r)}isValid(t){let{countRows:r,countCols:i,countRowHeaders:n,countColHeaders:o}=jt({countRows:0,countCols:0,countRowHeaders:0,countColHeaders:0},t);return!(!Number.isInteger(this.row)||!Number.isInteger(this.col)||this.row<-o||this.col<-n||this.row>=r||this.col>=i)}isEqual(t){return t===this?!0:this.row===t.row&&this.col===t.col}isHeader(){return!this.isCell()}isCell(){return this.row>=0&&this.col>=0}isRtl(){return gy(cf,this)}isSouthEastOf(t){return this.row>=t.row&&(gy(cf,this)?this.col<=t.col:this.col>=t.col)}isNorthWestOf(t){return this.row<=t.row&&(gy(cf,this)?this.col>=t.col:this.col<=t.col)}isSouthWestOf(t){return this.row>=t.row&&(gy(cf,this)?this.col>=t.col:this.col<=t.col)}isNorthEastOf(t){return this.row<=t.row&&(gy(cf,this)?this.col<=t.col:this.col>=t.col)}normalize(){return this.row=this.row===null?this.row:Math.max(this.row,0),this.col=this.col===null?this.col:Math.max(this.col,0),this}assign(t){return Number.isInteger(t?.row)&&(this.row=t.row),Number.isInteger(t?.col)&&(this.col=t.col),t instanceof e&&eX(cf,this,t.isRtl()),this}clone(){return new e(this.row,this.col,gy(cf,this))}toObject(){return{row:this.row,col:this.col}}},ip=WN;var Rqt=ot(qt(),1),Tqt=ot(_e(),1);function XCt(e,t,r){ZCt(e,t),t.set(e,r)}function ZCt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function YN(e,t,r){return t=QCt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QCt(e){var t=JCt(e,"string");return typeof t=="symbol"?t:t+""}function JCt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fc(e,t){return e.get(rX(e,t))}function txt(e,t,r){return e.set(rX(e,t),r),r}function rX(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var bl=new WeakMap,$N=class e{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;YN(this,"highlight",null),YN(this,"from",null),YN(this,"to",null),XCt(this,bl,!1),this.highlight=t.clone(),this.from=r.clone(),this.to=i.clone(),txt(bl,this,n)}setHighlight(t){return this.highlight=t.clone(),this}setFrom(t){return this.from=t.clone(),this}setTo(t){return this.to=t.clone(),this}isValid(t){return this.from.isValid(t)&&this.to.isValid(t)}isSingle(){return this.isSingleCell()||this.isSingleHeader()}isSingleCell(){return this.from.row>=0&&this.from.row===this.to.row&&this.from.col>=0&&this.from.col===this.to.col}isSingleHeader(){return(this.from.row<0||this.from.col<0)&&this.from.row===this.to.row&&this.from.col===this.to.col}isHeader(){return this.from.isHeader()&&this.to.isHeader()?!0:this.from.col<0&&this.to.col<0||this.from.row<0&&this.to.row<0}containsHeaders(){return this.from.isHeader()||this.to.isHeader()}getOuterHeight(){return Math.max(this.from.row,this.to.row)-Math.min(this.from.row,this.to.row)+1}getOuterWidth(){return Math.max(this.from.col,this.to.col)-Math.min(this.from.col,this.to.col)+1}getHeight(){if(this.from.row<0&&this.to.row<0)return 0;let t=Math.max(this.from.row,0),r=Math.max(this.to.row,0);return Math.max(t,r)-Math.min(t,r)+1}getWidth(){if(this.from.col<0&&this.to.col<0)return 0;let t=Math.max(this.from.col,0),r=Math.max(this.to.col,0);return Math.max(t,r)-Math.min(t,r)+1}getCellsCount(){return this.getWidth()*this.getHeight()}includes(t){let{row:r,col:i}=t,n=this.getOuterTopStartCorner(),o=this.getOuterBottomEndCorner();return n.row<=r&&o.row>=r&&n.col<=i&&o.col>=i}includesRange(t){return this.includes(t.getOuterTopStartCorner())&&this.includes(t.getOuterBottomEndCorner())}isEqual(t){return Math.min(this.from.row,this.to.row)===Math.min(t.from.row,t.to.row)&&Math.max(this.from.row,this.to.row)===Math.max(t.from.row,t.to.row)&&Math.min(this.from.col,this.to.col)===Math.min(t.from.col,t.to.col)&&Math.max(this.from.col,this.to.col)===Math.max(t.from.col,t.to.col)}overlaps(t){return t.isSouthEastOf(this.getOuterTopLeftCorner())&&t.isNorthWestOf(this.getOuterBottomRightCorner())}isSouthEastOf(t){return this.getOuterTopLeftCorner().isSouthEastOf(t)||this.getOuterBottomRightCorner().isSouthEastOf(t)}isNorthWestOf(t){return this.getOuterTopLeftCorner().isNorthWestOf(t)||this.getOuterBottomRightCorner().isNorthWestOf(t)}isOverlappingHorizontally(t){return this.getOuterTopEndCorner().col>=t.getOuterTopStartCorner().col&&this.getOuterTopEndCorner().col<=t.getOuterTopEndCorner().col||this.getOuterTopStartCorner().col<=t.getOuterTopEndCorner().col&&this.getOuterTopStartCorner().col>=t.getOuterTopStartCorner().col}isOverlappingVertically(t){return this.getOuterBottomStartCorner().row>=t.getOuterTopRightCorner().row&&this.getOuterBottomStartCorner().row<=t.getOuterBottomStartCorner().row||this.getOuterTopEndCorner().row<=t.getOuterBottomStartCorner().row&&this.getOuterTopEndCorner().row>=t.getOuterTopRightCorner().row}expand(t){let r=this.getOuterTopStartCorner(),i=this.getOuterBottomEndCorner();return t.row<r.row||t.col<r.col||t.row>i.row||t.col>i.col?(this.from=this._createCellCoords(Math.min(r.row,t.row),Math.min(r.col,t.col)),this.to=this._createCellCoords(Math.max(i.row,t.row),Math.max(i.col,t.col)),!0):!1}expandByRange(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(this.includesRange(t)||!this.overlaps(t))return!1;let i=this.getOuterTopStartCorner(),n=this.getOuterBottomEndCorner(),o=this.getDirection(),s=t.getOuterTopStartCorner(),a=t.getOuterBottomEndCorner(),l=Math.min(i.row,s.row),c=Math.min(i.col,s.col),d=Math.max(n.row,a.row),h=Math.max(n.col,a.col),u=this._createCellCoords(l,c),f=this._createCellCoords(d,h);return this.from=u,this.to=f,this.setDirection(o),r&&(this.highlight.row===this.getOuterBottomRightCorner().row&&this.getVerticalDirection()==="N-S"&&this.flipDirectionVertically(),this.highlight.col===this.getOuterTopRightCorner().col&&this.getHorizontalDirection()==="W-E"&&this.flipDirectionHorizontally()),!0}getDirection(){if(this.from.isNorthWestOf(this.to))return"NW-SE";if(this.from.isNorthEastOf(this.to))return"NE-SW";if(this.from.isSouthEastOf(this.to))return"SE-NW";if(this.from.isSouthWestOf(this.to))return"SW-NE"}setDirection(t){switch(t){case"NW-SE":[this.from,this.to]=[this.getOuterTopLeftCorner(),this.getOuterBottomRightCorner()];break;case"NE-SW":[this.from,this.to]=[this.getOuterTopRightCorner(),this.getOuterBottomLeftCorner()];break;case"SE-NW":[this.from,this.to]=[this.getOuterBottomRightCorner(),this.getOuterTopLeftCorner()];break;case"SW-NE":[this.from,this.to]=[this.getOuterBottomLeftCorner(),this.getOuterTopRightCorner()];break;default:break}}getVerticalDirection(){return["NE-SW","NW-SE"].indexOf(this.getDirection())>-1?"N-S":"S-N"}getHorizontalDirection(){return["NW-SE","SW-NE"].indexOf(this.getDirection())>-1?"W-E":"E-W"}flipDirectionVertically(){switch(this.getDirection()){case"NW-SE":this.setDirection("SW-NE");break;case"NE-SW":this.setDirection("SE-NW");break;case"SE-NW":this.setDirection("NE-SW");break;case"SW-NE":this.setDirection("NW-SE");break;default:break}}flipDirectionHorizontally(){switch(this.getDirection()){case"NW-SE":this.setDirection("NE-SW");break;case"NE-SW":this.setDirection("NW-SE");break;case"SE-NW":this.setDirection("SW-NE");break;case"SW-NE":this.setDirection("SE-NW");break;default:break}}getTopStartCorner(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.min(this.from.col,this.to.col)).normalize()}getTopLeftCorner(){return Fc(bl,this)?this.getTopEndCorner():this.getTopStartCorner()}getBottomEndCorner(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.max(this.from.col,this.to.col)).normalize()}getBottomRightCorner(){return Fc(bl,this)?this.getBottomStartCorner():this.getBottomEndCorner()}getTopEndCorner(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.max(this.from.col,this.to.col)).normalize()}getTopRightCorner(){return Fc(bl,this)?this.getTopStartCorner():this.getTopEndCorner()}getBottomStartCorner(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.min(this.from.col,this.to.col)).normalize()}getBottomLeftCorner(){return Fc(bl,this)?this.getBottomEndCorner():this.getBottomStartCorner()}getOuterTopStartCorner(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))}getOuterTopLeftCorner(){return Fc(bl,this)?this.getOuterTopEndCorner():this.getOuterTopStartCorner()}getOuterBottomEndCorner(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))}getOuterBottomRightCorner(){return Fc(bl,this)?this.getOuterBottomStartCorner():this.getOuterBottomEndCorner()}getOuterTopEndCorner(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))}getOuterTopRightCorner(){return Fc(bl,this)?this.getOuterTopStartCorner():this.getOuterTopEndCorner()}getOuterBottomStartCorner(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))}getOuterBottomLeftCorner(){return Fc(bl,this)?this.getOuterBottomEndCorner():this.getOuterBottomStartCorner()}isCorner(t){return t.isEqual(this.getOuterTopLeftCorner())||t.isEqual(this.getOuterTopRightCorner())||t.isEqual(this.getOuterBottomLeftCorner())||t.isEqual(this.getOuterBottomRightCorner())}getOppositeCorner(t){if(!(t instanceof ip))return!1;if(t.isEqual(this.getOuterBottomEndCorner()))return this.getOuterTopStartCorner();if(t.isEqual(this.getOuterTopStartCorner()))return this.getOuterBottomEndCorner();if(t.isEqual(this.getOuterTopEndCorner()))return this.getOuterBottomStartCorner();if(t.isEqual(this.getOuterBottomStartCorner()))return this.getOuterTopEndCorner()}getBordersSharedWith(t){if(!this.includesRange(t))return[];let r={top:Math.min(this.from.row,this.to.row),bottom:Math.max(this.from.row,this.to.row),left:Math.min(this.from.col,this.to.col),right:Math.max(this.from.col,this.to.col)},i={top:Math.min(t.from.row,t.to.row),bottom:Math.max(t.from.row,t.to.row),left:Math.min(t.from.col,t.to.col),right:Math.max(t.from.col,t.to.col)},n=[];return r.top===i.top&&n.push("top"),r.right===i.right&&n.push(Fc(bl,this)?"left":"right"),r.bottom===i.bottom&&n.push("bottom"),r.left===i.left&&n.push(Fc(bl,this)?"right":"left"),n}getInner(){let t=this.getOuterTopStartCorner(),r=this.getOuterBottomEndCorner(),i=[];for(let n=t.row;n<=r.row;n++)for(let o=t.col;o<=r.col;o++)!(this.from.row===n&&this.from.col===o)&&!(this.to.row===n&&this.to.col===o)&&i.push(this._createCellCoords(n,o));return i}getAll(){let t=this.getOuterTopStartCorner(),r=this.getOuterBottomEndCorner(),i=[];for(let n=t.row;n<=r.row;n++)for(let o=t.col;o<=r.col;o++)t.row===n&&t.col===o?i.push(t):r.row===n&&r.col===o?i.push(r):i.push(this._createCellCoords(n,o));return i}forAll(t){let r=this.getOuterTopStartCorner(),i=this.getOuterBottomEndCorner();for(let n=r.row;n<=i.row;n++)for(let o=r.col;o<=i.col;o++)if(t(n,o)===!1)return}clone(){return new e(this.highlight,this.from,this.to,Fc(bl,this))}toObject(){return{from:this.from.toObject(),to:this.to.toObject()}}_createCellCoords(t,r){return new ip(t,r,Fc(bl,this))}},e0=$N;var _Qt=ot(_e(),1);var Iqt=ot(qt(),1);function zh(e,t,r){ext(e,t),t.set(e,r)}function ext(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ei(e,t){return e.get(nX(e,t))}function rp(e,t,r){return e.set(nX(e,t),r),r}function nX(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var Hc=new WeakMap,qN=new WeakMap,Hs=new WeakMap,by=new WeakMap,jM=new WeakMap,Md=new WeakMap,GN=new WeakMap,LC=new WeakMap,i0=new WeakMap,Uh=new WeakMap,KN=class{constructor(t,r,i,n,o,s){let a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null;zh(this,Hc,void 0),zh(this,qN,void 0),zh(this,Hs,void 0),zh(this,by,void 0),zh(this,jM,void 0),zh(this,Md,void 0),zh(this,GN,void 0),zh(this,LC,void 0),zh(this,i0,[null,null]),zh(this,Uh,[null,null]),rp(Hc,this,i),rp(qN,this,r),rp(Hs,this,o),rp(by,this,s),rp(jM,this,a),rp(Md,this,n),rp(GN,this,t),this.registerEvents()}registerEvents(){Ei(Md,this).addEventListener(Ei(Hs,this).holder,"contextmenu",i=>this.onContextMenu(i)),Ei(Md,this).addEventListener(Ei(Hs,this).TABLE,"mouseover",i=>this.onMouseOver(i)),Ei(Md,this).addEventListener(Ei(Hs,this).TABLE,"mouseout",i=>this.onMouseOut(i));let t=()=>{Ei(Md,this).addEventListener(Ei(Hs,this).holder,"touchstart",i=>this.onTouchStart(i)),Ei(Md,this).addEventListener(Ei(Hs,this).holder,"touchend",i=>this.onTouchEnd(i)),this.momentumScrolling||(this.momentumScrolling={}),Ei(Md,this).addEventListener(Ei(Hs,this).holder,"scroll",()=>{clearTimeout(this.momentumScrolling._timeout),this.momentumScrolling.ongoing||Ei(Hc,this).getSetting("onBeforeTouchScroll"),this.momentumScrolling.ongoing=!0,this.momentumScrolling._timeout=setTimeout(()=>{this.touchApplied||(this.momentumScrolling.ongoing=!1,Ei(Hc,this).getSetting("onAfterMomentumScroll"))},200)})},r=()=>{Ei(Md,this).addEventListener(Ei(Hs,this).holder,"mouseup",i=>this.onMouseUp(i)),Ei(Md,this).addEventListener(Ei(Hs,this).holder,"mousedown",i=>this.onMouseDown(i))};ql()?t():(wM()&&t(),r())}selectedCellWasTouched(t){let i=this.parentCell(t).coords;if(Ei(LC,this)&&i){let[n,o]=[i.row,Ei(LC,this).from.row],[s,a]=[i.col,Ei(LC,this).from.col];return n===o&&s===a}return!1}parentCell(t){let r={},i=Ei(Hs,this).TABLE,n=wC(t,["TD","TH"],i);return n?(r.coords=Ei(Hs,this).getCoords(n),r.TD=n):Xe(t,"wtBorder")&&Xe(t,"current")?(r.coords=Ei(by,this).getFocusSelection().cellRange.highlight,r.TD=Ei(Hs,this).getCell(r.coords)):Xe(t,"wtBorder")&&Xe(t,"area")&&Ei(by,this).getAreaSelection().cellRange&&(r.coords=Ei(by,this).getAreaSelection().cellRange.to,r.TD=Ei(Hs,this).getCell(r.coords)),r}onMouseDown(t){let r=Ei(qN,this).rootDocument.activeElement,i=bM(KG,t.target),n=t.target;if(!["TD","TH"].includes(r.nodeName)&&(n===r||i(0)===r||i(1)===r))return;let o=this.parentCell(n);Xe(n,"corner")?Ei(Hc,this).getSetting("onCellCornerMouseDown",t,n):o.TD&&Ei(Hc,this).has("onCellMouseDown")&&this.callListener("onCellMouseDown",t,o.coords,o.TD),(t.button===0||this.touchApplied)&&o.TD&&(Ei(Uh,this)[0]=o.TD,clearTimeout(Ei(i0,this)[0]),Ei(i0,this)[0]=setTimeout(()=>{Ei(Uh,this)[0]=null},1e3))}onContextMenu(t){if(Ei(Hc,this).has("onCellContextMenu")){let r=this.parentCell(t.target);r.TD&&this.callListener("onCellContextMenu",t,r.coords,r.TD)}}onMouseOver(t){if(!Ei(Hc,this).has("onCellMouseOver"))return;let r=Ei(Hs,this).TABLE,i=wC(t.target,["TD","TH"],r),n=Ei(jM,this)||this;i&&i!==n.lastMouseOver&&Ed(i,r)&&(n.lastMouseOver=i,this.callListener("onCellMouseOver",t,Ei(Hs,this).getCoords(i),i))}onMouseOut(t){if(!Ei(Hc,this).has("onCellMouseOut"))return;let r=Ei(Hs,this).TABLE,i=wC(t.target,["TD","TH"],r),n=wC(t.relatedTarget,["TD","TH"],r),o=Ei(jM,this)||this;i&&i!==n&&Ed(i,r)&&(this.callListener("onCellMouseOut",t,Ei(Hs,this).getCoords(i),i),n===null&&(o.lastMouseOver=null))}onMouseUp(t){let r=this.parentCell(t.target);r.TD&&Ei(Hc,this).has("onCellMouseUp")&&this.callListener("onCellMouseUp",t,r.coords,r.TD),!(t.button!==0&&!this.touchApplied)&&(r.TD===Ei(Uh,this)[0]&&r.TD===Ei(Uh,this)[1]?(Xe(t.target,"corner")?this.callListener("onCellCornerDblClick",t,r.coords,r.TD):this.callListener("onCellDblClick",t,r.coords,r.TD),Ei(Uh,this)[0]=null,Ei(Uh,this)[1]=null):r.TD===Ei(Uh,this)[0]&&(Ei(Uh,this)[1]=r.TD,clearTimeout(Ei(i0,this)[1]),Ei(i0,this)[1]=setTimeout(()=>{Ei(Uh,this)[1]=null},500)))}onTouchStart(t){rp(LC,this,Ei(by,this).getFocusSelection().cellRange),this.touchApplied=!0,this.onMouseDown(t)}onTouchEnd(t){var r;let i=t.target,n=(r=this.parentCell(i))===null||r===void 0?void 0:r.coords,o=Ne(n)&&n.row>=0&&n.col>=0;if(t.cancelable&&o&&Ei(Hc,this).getSetting("isDataViewInstance")){let a=["A","BUTTON","INPUT"];SM()&&(TK()||MK())&&this.selectedCellWasTouched(i)&&!a.includes(i.tagName)?t.preventDefault():this.selectedCellWasTouched(i)||t.preventDefault()}this.onMouseUp(t),this.touchApplied=!1}callListener(t,r,i,n){let o=Ei(Hc,this).getSettingPure(t);o&&o(r,i,n,Ei(GN,this).call(this))}destroy(){clearTimeout(Ei(i0,this)[0]),clearTimeout(Ei(i0,this)[1]),Ei(Md,this).destroy()}},VM=KN;var ZZt=ot(qt(),1),QZt=ot(_e(),1);var JGt=ot(qt(),1),tKt=ot(_e(),1);var Fqt=ot(qt(),1);function XN(e,t,r){return t=ixt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ixt(e){var t=rxt(e,"string");return typeof t=="symbol"?t:t+""}function rxt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZN=class{constructor(t,r,i){XN(this,"offset",void 0),XN(this,"total",void 0),XN(this,"countTH",void 0),this.offset=t,this.total=r,this.countTH=i}offsetted(t){return t+this.offset}unOffsetted(t){return t-this.offset}renderedToSource(t){return this.offsetted(t)}sourceToRendered(t){return this.unOffsetted(t)}offsettedTH(t){return t-this.countTH}unOffsettedTH(t){return t+this.countTH}visibleRowHeadedColumnToSourceColumn(t){return this.renderedToSource(this.offsettedTH(t))}sourceColumnToVisibleRowHeadedColumn(t){return this.unOffsettedTH(this.sourceToRendered(t))}},oX=ZN;var Bqt=ot(qt(),1);function QN(e,t,r){return t=nxt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nxt(e){var t=oxt(e,"string");return typeof t=="symbol"?t:t+""}function oxt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JN=class{constructor(t,r,i){QN(this,"offset",void 0),QN(this,"total",void 0),QN(this,"countTH",void 0),this.offset=t,this.total=r,this.countTH=i}offsetted(t){return t+this.offset}unOffsetted(t){return t-this.offset}renderedToSource(t){return this.offsetted(t)}sourceToRendered(t){return this.unOffsetted(t)}offsettedTH(t){return t-this.countTH}unOffsettedTH(t){return t+this.countTH}visibleColHeadedRowToSourceRow(t){return this.renderedToSource(this.offsettedTH(t))}sourceRowToVisibleColHeadedRow(t){return this.unOffsettedTH(this.sourceToRendered(t))}},sX=JN;var aGt=ot(qt(),1);var qqt=ot(qt(),1),Gqt=ot(_e(),1);var Wqt=ot(qt(),1);var Vqt=ot(qt(),1);function zM(e,t,r){return t=sxt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sxt(e){var t=axt(e,"string");return typeof t=="symbol"?t:t+""}function axt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FC=class{constructor(){zM(this,"currentSize",0),zM(this,"nextSize",0),zM(this,"currentOffset",0),zM(this,"nextOffset",0)}setSize(t){this.currentSize=this.nextSize,this.nextSize=t}setOffset(t){this.currentOffset=this.nextOffset,this.nextOffset=t}};function t6(e,t,r){return t=lxt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lxt(e){var t=cxt(e,"string");return typeof t=="symbol"?t:t+""}function cxt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UM=class{constructor(){t6(this,"size",new FC),t6(this,"workingSpace",0),t6(this,"sharedSize",null)}setSize(t){this.size.setSize(t)}setOffset(t){this.size.setOffset(t)}getViewSize(){return this.size}isShared(){return this.sharedSize instanceof FC}isPlaceOn(t){return this.workingSpace===t}append(t){this.workingSpace=1,t.workingSpace=2,this.sharedSize=t.getViewSize()}prepend(t){this.workingSpace=2,t.workingSpace=1,this.sharedSize=t.getViewSize()}};function vy(e,t,r){return t=dxt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dxt(e){var t=hxt(e,"string");return typeof t=="symbol"?t:t+""}function hxt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var r0=class{constructor(t,r,i){vy(this,"rootNode",void 0),vy(this,"nodesPool",void 0),vy(this,"sizeSet",new UM),vy(this,"childNodeType",void 0),vy(this,"visualIndex",0),vy(this,"collectedNodes",[]),this.rootNode=t,this.nodesPool=r,this.childNodeType=i.toUpperCase()}setSize(t){return this.sizeSet.setSize(t),this}setOffset(t){return this.sizeSet.setOffset(t),this}isSharedViewSet(){return this.sizeSet.isShared()}getNode(t){return t<this.collectedNodes.length?this.collectedNodes[t]:null}getCurrentNode(){let t=this.collectedNodes.length;return t>0?this.collectedNodes[t-1]:null}getRenderedChildCount(){let{rootNode:t,sizeSet:r}=this,i=0;if(this.isSharedViewSet()){let n=t.firstElementChild;for(;n;){if(n.tagName===this.childNodeType)i+=1;else if(r.isPlaceOn(1))break;n=n.nextElementSibling}}else i=t.childElementCount;return i}start(){this.collectedNodes.length=0,this.visualIndex=0;let{rootNode:t,sizeSet:r}=this,i=this.isSharedViewSet(),{nextSize:n}=r.getViewSize(),o=this.getRenderedChildCount();for(;o<n;){let a=this.nodesPool();!i||i&&r.isPlaceOn(2)?t.appendChild(a):t.insertBefore(a,t.firstChild),o+=1}let s=i&&r.isPlaceOn(1);for(;o>n;)t.removeChild(s?t.firstChild:t.lastChild),o-=1}render(){let{rootNode:t,sizeSet:r}=this,i=this.visualIndex;this.isSharedViewSet()&&r.isPlaceOn(2)&&(i+=r.sharedSize.nextSize);let n=t.childNodes[i];if(n.tagName!==this.childNodeType){let o=this.nodesPool();t.replaceChild(o,n),n=o}this.collectedNodes.push(n),this.visualIndex+=1}end(){}};var n0=class extends r0{prependView(t){return this.sizeSet.prepend(t.sizeSet),t.sizeSet.append(this.sizeSet),this}appendView(t){return this.sizeSet.append(t.sizeSet),t.sizeSet.prepend(this.sizeSet),this}};var nGt=ot(qt(),1);var iGt=ot(qt(),1);function uxt(e,t,r){return t=fxt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fxt(e){var t=mxt(e,"string");return typeof t=="symbol"?t:t+""}function mxt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WM=class{constructor(t){uxt(this,"nodeType",void 0),this.nodeType=t.toUpperCase()}setRootDocument(t){this.rootDocument=t}obtain(){return this.rootDocument.createElement(this.nodeType)}};function HC(e,t,r){return t=pxt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pxt(e){var t=gxt(e,"string");return typeof t=="symbol"?t:t+""}function gxt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bc=class{constructor(t,r){HC(this,"nodesPool",null),HC(this,"nodeType",void 0),HC(this,"rootNode",void 0),HC(this,"table",null),HC(this,"renderedNodes",0),this.nodesPool=typeof t=="string"?new WM(t):null,this.nodeType=t,this.rootNode=r}setTable(t){this.nodesPool&&this.nodesPool.setRootDocument(t.rootDocument),this.table=t}adjust(){}render(){}};function aX(e,t,r){return t=bxt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bxt(e){var t=vxt(e,"string");return typeof t=="symbol"?t:t+""}function vxt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YM=class extends Bc{constructor(){super("TH"),aX(this,"orderViews",new WeakMap),aX(this,"sourceRowIndex",0)}obtainOrderView(t){let r;return this.orderViews.has(t)?r=this.orderViews.get(t):(r=new n0(t,i=>this.nodesPool.obtain(this.sourceRowIndex,i),this.nodeType),this.orderViews.set(t,r)),r}render(){let{rowsToRender:t,rowHeaderFunctions:r,rowHeadersCount:i,rows:n,cells:o}=this.table;for(let s=0;s<t;s++){let a=this.table.renderedRowToSource(s),l=n.getRenderedNode(s);this.sourceRowIndex=a;let c=this.obtainOrderView(l),d=o.obtainOrderView(l);c.appendView(d).setSize(i).setOffset(this.table.renderedColumnToSource(0)).start();for(let h=0;h<i;h++){c.render();let u=c.getCurrentNode();u.className="",u.removeAttribute("style"),Dc(u,[new RegExp("aria-(.*)"),new RegExp("role")]),this.table.isAriaEnabled()&&Ke(u,[MG(),LG(),Qv(h+1),Ic(-1)]),r[h](a,u,h)}c.end()}}};var $M=class extends Bc{constructor(t){super(null,t)}adjust(){let{columnHeadersCount:t,rowHeadersCount:r}=this.table,i=this.rootNode.firstChild;if(t){let{columnsToRender:n}=this.table,o=n+r;for(let a=0,l=t;a<l;a++){for(i=this.rootNode.childNodes[a],i||(i=this.table.rootDocument.createElement("tr"),this.rootNode.appendChild(i)),this.renderedNodes=i.childNodes.length;this.renderedNodes<o;)i.appendChild(this.table.rootDocument.createElement("th")),this.renderedNodes+=1;for(;this.renderedNodes>o;)i.removeChild(i.lastChild),this.renderedNodes-=1}let s=this.rootNode.childNodes.length;if(s>t)for(let a=t;a<s;a++)this.rootNode.removeChild(this.rootNode.lastChild)}else i&&Ns(i)}render(){let{columnHeadersCount:t}=this.table;this.table.isAriaEnabled()&&Ke(this.rootNode,[aM()]);for(let r=0;r<t;r+=1){let{columnHeaderFunctions:i,columnsToRender:n,rowHeadersCount:o}=this.table,s=this.rootNode.childNodes[r];this.table.isAriaEnabled()&&Ke(s,[_C(),hM(r+1)]);for(let a=-1*o;a<n;a+=1){let l=this.table.renderedColumnToSource(a),c=s.childNodes[a+o];c.className="",c.removeAttribute("style"),Dc(c,[new RegExp("aria-(.*)"),new RegExp("role")]),this.table.isAriaEnabled()&&Ke(c,[Qv(a+1+this.table.rowHeadersCount),Ic(-1),AG(),...a>=0?[NG()]:[_C()]]),i[r](l,c,r)}}}};var lX=!1,qM=class extends Bc{constructor(t){super(null,t)}adjust(){let{columnsToRender:t,rowHeadersCount:r}=this.table,i=t+r;for(;this.renderedNodes<i;)this.rootNode.appendChild(this.table.rootDocument.createElement("col")),this.renderedNodes+=1;for(;this.renderedNodes>i;)this.rootNode.removeChild(this.rootNode.lastChild),this.renderedNodes-=1}render(){this.adjust();let{columnsToRender:t,rowHeadersCount:r}=this.table;!lX&&t>1e3&&(lX=!0,gr(Gi`Performance tip: Handsontable rendered more than 1000 visible columns.\x20
        Consider limiting the number of rendered columns by specifying the table width and/or\x20
        turning off the "renderAllColumns" option.`));for(let n=0;n<r;n++){let o=this.table.renderedColumnToSource(n),s=this.table.columnUtils.getHeaderWidth(o);this.rootNode.childNodes[n].style.width=`${s}px`}for(let n=0;n<t;n++){let o=this.table.renderedColumnToSource(n),s=this.table.columnUtils.getStretchedColumnWidth(o);this.rootNode.childNodes[n+r].style.width=`${s}px`}let i=this.rootNode.firstChild;i&&re(i,"rowHeader")}};var CGt=ot(qt(),1);function yxt(e,t,r){return t=_xt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _xt(e){var t=wxt(e,"string");return typeof t=="symbol"?t:t+""}function wxt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cX=!1,GM=class extends Bc{constructor(t){super("TR",t),yxt(this,"orderView",void 0),this.orderView=new r0(t,r=>this.nodesPool.obtain(r),this.nodeType)}getRenderedNode(t){return this.orderView.getNode(t)}render(){let{rowsToRender:t}=this.table;!cX&&t>1e3&&(cX=!0,gr(Gi`Performance tip: Handsontable rendered more than 1000 visible rows.\x20
        Consider limiting the number of rendered rows by specifying the table height and/or\x20
        turning off the "renderAllRows" option.`)),this.table.isAriaEnabled()&&Ke(this.rootNode,[aM()]),this.orderView.setSize(t).setOffset(this.table.renderedRowToSource(0)).start();for(let n=0;n<t;n++){this.orderView.render();let o=this.orderView.getCurrentNode(),s=this.table.renderedRowToSource(n);if(this.table.isAriaEnabled()){var r,i;Ke(o,[_C(),hM(s+((r=(i=this.table.rowUtils)===null||i===void 0||(i=i.dataAccessObject)===null||i===void 0?void 0:i.columnHeaders.length)!==null&&r!==void 0?r:0)+1)])}}this.orderView.end()}};var IGt=ot(qt(),1);function dX(e,t,r){return t=Cxt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cxt(e){var t=xxt(e,"string");return typeof t=="symbol"?t:t+""}function xxt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KM=class extends Bc{constructor(){super("TD"),dX(this,"orderViews",new WeakMap),dX(this,"sourceRowIndex",0)}obtainOrderView(t){let r;return this.orderViews.has(t)?r=this.orderViews.get(t):(r=new n0(t,i=>this.nodesPool.obtain(this.sourceRowIndex,i),this.nodeType),this.orderViews.set(t,r)),r}render(){let{rowsToRender:t,columnsToRender:r,rows:i,rowHeaders:n}=this.table;for(let a=0;a<t;a++){let l=this.table.renderedRowToSource(a),c=i.getRenderedNode(a);this.sourceRowIndex=l;let d=this.obtainOrderView(c),h=n.obtainOrderView(c);d.prependView(h).setSize(r).setOffset(this.table.renderedColumnToSource(0)).start();for(let u=0;u<r;u++){d.render();let f=d.getCurrentNode(),m=this.table.renderedColumnToSource(u);if(Xe(f,"hide")||(f.className=""),f.removeAttribute("style"),f.removeAttribute("dir"),Dc(f,[new RegExp("aria-(.*)"),new RegExp("role")]),this.table.cellRenderer(l,m,f),this.table.isAriaEnabled()){var o,s;Ke(f,[...f.hasAttribute("role")?[]:[TG()],Ic(-1),Qv(m+((o=(s=this.table.rowUtils)===null||s===void 0||(s=s.dataAccessObject)===null||s===void 0?void 0:s.rowHeaders.length)!==null&&o!==void 0?o:0)+1)])}}d.end()}}};var LGt=ot(qt(),1);function Bs(e,t,r){return t=Sxt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sxt(e){var t=Ext(e,"string");return typeof t=="symbol"?t:t+""}function Ext(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XM=class{constructor(t){let{cellRenderer:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Bs(this,"rootNode",void 0),Bs(this,"rootDocument",void 0),Bs(this,"rowHeaders",null),Bs(this,"columnHeaders",null),Bs(this,"colGroup",null),Bs(this,"rows",null),Bs(this,"cells",null),Bs(this,"rowFilter",null),Bs(this,"columnFilter",null),Bs(this,"rowUtils",null),Bs(this,"columnUtils",null),Bs(this,"rowsToRender",0),Bs(this,"columnsToRender",0),Bs(this,"rowHeaderFunctions",[]),Bs(this,"rowHeadersCount",0),Bs(this,"columnHeaderFunctions",[]),Bs(this,"columnHeadersCount",0),Bs(this,"cellRenderer",void 0),this.rootNode=t,this.rootDocument=this.rootNode.ownerDocument,this.cellRenderer=r}setAxisUtils(t,r){this.rowUtils=t,this.columnUtils=r}setViewportSize(t,r){this.rowsToRender=t,this.columnsToRender=r}setFilters(t,r){this.rowFilter=t,this.columnFilter=r}setHeaderContentRenderers(t,r){this.rowHeaderFunctions=t,this.rowHeadersCount=t.length,this.columnHeaderFunctions=r,this.columnHeadersCount=r.length}setRenderers(){let{rowHeaders:t,columnHeaders:r,colGroup:i,rows:n,cells:o}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.setTable(this),r.setTable(this),i.setTable(this),n.setTable(this),o.setTable(this),this.rowHeaders=t,this.columnHeaders=r,this.colGroup=i,this.rows=n,this.cells=o}renderedRowToSource(t){return this.rowFilter.renderedToSource(t)}renderedColumnToSource(t){return this.columnFilter.renderedToSource(t)}isAriaEnabled(){return this.rowUtils.wtSettings.getSetting("ariaTags")}render(){this.colGroup.adjust(),this.columnHeaders.adjust(),this.rows.adjust(),this.rowHeaders.adjust(),this.columnHeaders.render(),this.rows.render(),this.rowHeaders.render(),this.cells.render(),this.columnUtils.calculateWidths(),this.colGroup.render();let{rowsToRender:t,rows:r}=this;for(let i=0;i<t;i++){let n=r.getRenderedNode(i);if(n.firstChild){let o=this.renderedRowToSource(i),s=this.rowUtils.getHeight(o);s?n.firstChild.style.height=`${s-1}px`:n.firstChild.style.height=""}}}};var ZM=class{constructor(){let{TABLE:t,THEAD:r,COLGROUP:i,TBODY:n,rowUtils:o,columnUtils:s,cellRenderer:a}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.renderer=new XM(t,{cellRenderer:a}),this.renderer.setRenderers({rowHeaders:new YM,columnHeaders:new $M(r),colGroup:new qM(i),rows:new GM(n),cells:new KM}),this.renderer.setAxisUtils(o,s)}setFilters(t,r){return this.renderer.setFilters(t,r),this}setViewportSize(t,r){return this.renderer.setViewportSize(t,r),this}setHeaderContentRenderers(t,r){return this.renderer.setHeaderContentRenderers(t,r),this}adjust(){this.renderer.adjust()}render(){this.renderer.render()}};var qGt=ot(qt(),1);var YGt=ot(qt(),1);function BC(e,t,r){Rxt(e,t),t.set(e,r)}function Rxt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function QM(e,t,r){return t=Txt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Txt(e){var t=Mxt(e,"string");return typeof t=="symbol"?t:t+""}function Mxt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wa(e,t){return e.get(hX(e,t))}function jC(e,t,r){return e.set(hX(e,t),r),r}function hX(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var JM=new WeakMap,yy=new WeakMap,VC=new WeakMap,tA=new WeakMap,o0=new WeakMap,eA=class e{static get DEFAULT_WIDTH(){return 50}constructor(t){let{totalColumns:r,stretchMode:i,stretchingColumnWidthFn:n,columnWidthFn:o}=t;QM(this,"stretchAllRatio",0),QM(this,"stretchLastWidth",0),QM(this,"stretchAllColumnsWidth",[]),BC(this,JM,0),QM(this,"needVerifyLastColumnWidth",!0),BC(this,yy,()=>0),BC(this,VC,s=>s),BC(this,tA,s=>s),BC(this,o0,()=>"none"),jC(yy,this,r),jC(o0,this,i),jC(VC,this,n??wa(VC,this)),jC(tA,this,o??wa(tA,this))}refreshStretching(t){if(wa(o0,this).call(this)==="none")return;this.stretchAllRatio=0,this.stretchAllColumnsWidth=[],this.needVerifyLastColumnWidth=!0,this.stretchLastWidth=0,jC(JM,this,t);let r=0;for(let n=0;n<wa(yy,this).call(this);n++){let o=this._getColumnWidth(n),s=wa(VC,this).call(this,void 0,n);typeof s=="number"?t-=s:r+=o}let i=t-r;if(wa(o0,this).call(this)==="all"&&i>0)this.stretchAllRatio=t/r,this.stretchAllColumnsWidth=[],this.needVerifyLastColumnWidth=!0;else if(wa(o0,this).call(this)==="last"&&t!==1/0){let n=this._getColumnWidth(wa(yy,this).call(this)-1),o=i+n;this.stretchLastWidth=o>=0?o:n}}getStretchedColumnWidth(t,r){let i=null;return wa(o0,this).call(this)==="all"&&this.stretchAllRatio!==0?i=this._getStretchedAllColumnWidth(t,r):wa(o0,this).call(this)==="last"&&this.stretchLastWidth!==0&&(i=this._getStretchedLastColumnWidth(t)),i}_getStretchedAllColumnWidth(t,r){let i=0;if(!this.stretchAllColumnsWidth[t]){let n=Math.round(r*this.stretchAllRatio),o=wa(VC,this).call(this,n,t);o===void 0?this.stretchAllColumnsWidth[t]=n:this.stretchAllColumnsWidth[t]=isNaN(o)?this._getColumnWidth(t):o}if(this.stretchAllColumnsWidth.length===wa(yy,this).call(this)&&this.needVerifyLastColumnWidth){this.needVerifyLastColumnWidth=!1;for(let n=0;n<this.stretchAllColumnsWidth.length;n++)i+=this.stretchAllColumnsWidth[n];i!==wa(JM,this)&&(this.stretchAllColumnsWidth[this.stretchAllColumnsWidth.length-1]+=wa(JM,this)-i)}return this.stretchAllColumnsWidth[t]}_getStretchedLastColumnWidth(t){return t===wa(yy,this).call(this)-1?this.stretchLastWidth:null}_getColumnWidth(t){let r=wa(tA,this).call(this,t);return isNaN(r)&&(r=e.DEFAULT_WIDTH),r}};function iA(e,t,r){return t=Axt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Axt(e){var t=Ixt(e,"string");return typeof t=="symbol"?t:t+""}function Ixt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rA=class{constructor(t,r){iA(this,"dataAccessObject",void 0),iA(this,"wtSettings",void 0),iA(this,"headerWidths",new Map),iA(this,"stretching",void 0),this.dataAccessObject=t,this.wtSettings=r,this.stretching=new eA({totalColumns:()=>this.wtSettings.getSetting("totalColumns"),stretchMode:()=>this.wtSettings.getSetting("stretchH"),stretchingColumnWidthFn:(i,n)=>this.wtSettings.getSetting("onBeforeStretchingColumnWidth",i,n),columnWidthFn:i=>this.dataAccessObject.wtTable.getColumnWidth(i)})}getWidth(t){return this.wtSettings.getSetting("columnWidth",t)||this.wtSettings.getSetting("defaultColumnWidth")}getStretchedColumnWidth(t){let r=this.getWidth(t),i=this.stretching.getStretchedColumnWidth(t,r);return i&&(r=i),r}getHeaderHeight(t){let r=this.wtSettings.getSetting("defaultRowHeight"),i=this.dataAccessObject.wtViewport.oversizedColumnHeaders[t];return i!==void 0&&(r=r?Math.max(r,i):i),r}getHeaderWidth(t){return this.headerWidths.get(this.dataAccessObject.wtTable.columnFilter.sourceToRendered(t))}refreshStretching(){let{wtTable:t,wtViewport:r,cloneSource:i}=this.dataAccessObject,n=i?i.wtTable.holder:t.holder,o=n.offsetHeight<n.scrollHeight?Rn():0;this.stretching.refreshStretching(r.getViewportWidth()-o)}calculateWidths(){let{wtSettings:t}=this,r=t.getSetting("rowHeaderWidth");if(this.refreshStretching(),r=t.getSetting("onModifyRowHeaderWidth",r),r!=null){let i=t.getSetting("rowHeaders").length,n=t.getSetting("defaultColumnWidth");for(let o=0;o<i;o++){let s=Array.isArray(r)?r[o]:r;s=s??n,this.headerWidths.set(o,s)}}}};var ZGt=ot(qt(),1);function uX(e,t,r){return t=kxt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kxt(e){var t=Dxt(e,"string");return typeof t=="symbol"?t:t+""}function Dxt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nA=class{constructor(t,r){uX(this,"dataAccessObject",void 0),uX(this,"wtSettings",void 0),this.dataAccessObject=t,this.wtSettings=r}getHeight(t){let r=this.wtSettings.getSetting("rowHeight",t),i=this.dataAccessObject.wtViewport.oversizedRows[t];return i!==void 0&&(r=r===void 0?i:Math.max(r,i)),r}};function Wh(e,t,r){return t=Oxt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oxt(e){var t=Pxt(e,"string");return typeof t=="symbol"?t:t+""}function Pxt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var r6=class{constructor(t,r,i,n,o){Wh(this,"wtSettings",null),Wh(this,"domBindings",void 0),Wh(this,"TBODY",null),Wh(this,"THEAD",null),Wh(this,"COLGROUP",null),Wh(this,"hasTableHeight",!0),Wh(this,"hasTableWidth",!0),Wh(this,"isTableVisible",!1),Wh(this,"tableOffset",0),Wh(this,"holderOffset",0),this.domBindings=i,this.isMaster=o==="master",this.name=o,this.dataAccessObject=t,this.facadeGetter=r,this.wtSettings=n,this.instance=this.dataAccessObject.wot,this.wot=this.dataAccessObject.wot,this.TABLE=i.rootTable,mN(this.TABLE),this.spreader=this.createSpreader(this.TABLE),this.hider=this.createHider(this.spreader),this.holder=this.createHolder(this.hider),this.wtRootElement=this.holder.parentNode,this.isMaster&&this.alignOverlaysWithTrimmingContainer(),this.fixTableDomTree(),this.rowFilter=null,this.columnFilter=null,this.correctHeaderWidth=!1;let s=this.wtSettings.getSettingPure("rowHeaderWidth");this.wtSettings.update("rowHeaderWidth",()=>this._modifyRowHeaderWidth(s)),this.rowUtils=new nA(this.dataAccessObject,this.wtSettings),this.columnUtils=new rA(this.dataAccessObject,this.wtSettings),this.tableRenderer=new ZM({TABLE:this.TABLE,THEAD:this.THEAD,COLGROUP:this.COLGROUP,TBODY:this.TBODY,rowUtils:this.rowUtils,columnUtils:this.columnUtils,cellRenderer:this.wtSettings.getSettingPure("cellRenderer")})}is(t){return this.name===t}fixTableDomTree(){let t=this.domBindings.rootDocument;this.TBODY=this.TABLE.querySelector("tbody"),this.TBODY||(this.TBODY=t.createElement("tbody"),this.TABLE.appendChild(this.TBODY)),this.THEAD=this.TABLE.querySelector("thead"),this.THEAD||(this.THEAD=t.createElement("thead"),this.TABLE.insertBefore(this.THEAD,this.TBODY)),this.COLGROUP=this.TABLE.querySelector("colgroup"),this.COLGROUP||(this.COLGROUP=t.createElement("colgroup"),this.TABLE.insertBefore(this.COLGROUP,this.THEAD))}createSpreader(t){let r=t.parentNode,i;return(!r||r.nodeType!==Node.ELEMENT_NODE||!Xe(r,"wtHolder"))&&(i=this.domBindings.rootDocument.createElement("div"),i.className="wtSpreader",r&&r.insertBefore(i,t),i.appendChild(t)),i.style.position="relative",this.wtSettings.getSetting("ariaTags")&&Ke(i,[Ua()]),i}createHider(t){let r=t.parentNode,i;return(!r||r.nodeType!==Node.ELEMENT_NODE||!Xe(r,"wtHolder"))&&(i=this.domBindings.rootDocument.createElement("div"),i.className="wtHider",r&&r.insertBefore(i,t),i.appendChild(t)),this.wtSettings.getSetting("ariaTags")&&Ke(i,[Ua()]),i}createHolder(t){let r=t.parentNode,i;return(!r||r.nodeType!==Node.ELEMENT_NODE||!Xe(r,"wtHolder"))&&(i=this.domBindings.rootDocument.createElement("div"),i.style.position="relative",i.className="wtHolder",r&&r.insertBefore(i,t),this.isMaster&&(i.parentNode.className+="ht_master handsontable",i.parentNode.setAttribute("dir",this.wtSettings.getSettingPure("rtlMode")?"rtl":"ltr"),this.wtSettings.getSetting("ariaTags")&&Ke(i.parentNode,[Ua()])),i.appendChild(t)),this.wtSettings.getSetting("ariaTags")&&Ke(i,[Ua()]),i}draw(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,{wtSettings:r}=this,{wtOverlays:i,wtViewport:n}=this.dataAccessObject,o=r.getSetting("totalRows"),s=r.getSetting("totalColumns"),a=r.getSetting("rowHeaders"),l=a.length,c=r.getSetting("columnHeaders"),d=c.length,h=t;if(this.isMaster&&(this.holderOffset=Kn(this.holder),h=n.createRenderCalculators(h),l&&!r.getSetting("fixedColumnsStart"))){let f=i.inlineStartOverlay.getScrollPosition(),m=this.correctHeaderWidth;this.correctHeaderWidth=f!==0,m!==this.correctHeaderWidth&&(h=!1)}if(this.isMaster&&i.beforeDraw(),h)this.isMaster&&(n.createVisibleCalculators(),n.createPartiallyVisibleCalculators()),i&&i.refresh(!0);else{this.isMaster?this.tableOffset=Kn(this.TABLE):this.tableOffset=this.dataAccessObject.parentTableOffset;let f=o>0?this.getFirstRenderedRow():0,m=s>0?this.getFirstRenderedColumn():0;this.rowFilter=new sX(f,o,d),this.columnFilter=new oX(m,s,l);let g=!0;if(this.isMaster){this.alignOverlaysWithTrimmingContainer();let p={};this.wtSettings.getSetting("beforeDraw",!0,p),g=p.skipRender!==!0}if(g){this.tableRenderer.setHeaderContentRenderers(a,c),(this.is(Kl)||this.is(Ad))&&this.tableRenderer.setHeaderContentRenderers(a,[]),this.resetOversizedRows(),this.tableRenderer.setViewportSize(this.getRenderedRowsCount(),this.getRenderedColumnsCount()).setFilters(this.rowFilter,this.columnFilter).render();let p;if(this.isMaster&&(p=this.dataAccessObject.workspaceWidth,n.containerWidth=null,this.markOversizedColumnHeaders()),this.adjustColumnHeaderHeights(),(this.isMaster||this.is(Kl))&&this.markOversizedRows(),this.isMaster){n.createVisibleCalculators(),n.createPartiallyVisibleCalculators(),i.refresh(!1),i.applyToDOM();let b=yr(this.hider),_=yr(this.TABLE);b!==0&&_!==b&&(this.columnUtils.calculateWidths(),this.tableRenderer.renderer.colGroup.render()),p!==n.getWorkspaceWidth()&&(n.containerWidth=null,this.columnUtils.calculateWidths(),this.tableRenderer.renderer.colGroup.render()),this.wtSettings.getSetting("onDraw",!0)}else this.is(Kl)&&this.dataAccessObject.cloneSource.wtOverlays.adjustElementsSize()}}let u=!1;return this.isMaster&&(u=i.topOverlay.resetFixedPosition(),i.bottomOverlay.clone&&(u=i.bottomOverlay.resetFixedPosition()||u),u=i.inlineStartOverlay.resetFixedPosition()||u,i.topInlineStartCornerOverlay&&i.topInlineStartCornerOverlay.resetFixedPosition(),i.bottomInlineStartCornerOverlay&&i.bottomInlineStartCornerOverlay.clone&&i.bottomInlineStartCornerOverlay.resetFixedPosition()),u?(i.refreshAll(),i.adjustElementsSize()):this.dataAccessObject.selectionManager.setActiveOverlay(this.facadeGetter()).render(h),this.isMaster&&i.afterDraw(),this.dataAccessObject.drawn=!0,this}markIfOversizedColumnHeader(t){let r=this.columnFilter.renderedToSource(t),i=this.wtSettings.getSetting("columnHeaders").length,n=this.wtSettings.getSetting("defaultRowHeight"),o,s,a,l=this.wtSettings.getSetting("columnHeaderHeight")||[];for(;i;)i-=1,o=this.getColumnHeaderHeight(i),s=this.getColumnHeader(r,i),s&&(a=af(s),(!o&&n<a||o<a)&&(this.dataAccessObject.wtViewport.oversizedColumnHeaders[i]=a),Array.isArray(l)?l[i]!==null&&l[i]!==void 0&&(this.dataAccessObject.wtViewport.oversizedColumnHeaders[i]=l[i]):isNaN(l)||(this.dataAccessObject.wtViewport.oversizedColumnHeaders[i]=l),this.dataAccessObject.wtViewport.oversizedColumnHeaders[i]<(l[i]||l)&&(this.dataAccessObject.wtViewport.oversizedColumnHeaders[i]=l[i]||l))}adjustColumnHeaderHeights(){let{wtSettings:t}=this,r=this.THEAD.childNodes,i=this.dataAccessObject.wtViewport.oversizedColumnHeaders,n=t.getSetting("columnHeaders");for(let o=0,s=n.length;o<s;o++)if(i[o]){if(!r[o]||r[o].childNodes.length===0)return;r[o].childNodes[0].style.height=`${i[o]}px`}}resetOversizedRows(){let{wtSettings:t}=this,{wtViewport:r}=this.dataAccessObject;if(!(!this.isMaster&&!this.is(Kl))&&!t.getSetting("externalRowCalculator")){let i=this.getRenderedRowsCount();for(let n=0;n<i;n++){let o=this.rowFilter.renderedToSource(n);r.oversizedRows&&r.oversizedRows[o]&&(r.oversizedRows[o]=void 0)}}}getCell(t){let r=t.row,i=t.col,n=this.wtSettings.getSetting("onModifyGetCellCoords",r,i);if(n&&Array.isArray(n)&&([r,i]=n),this.isRowBeforeRenderedRows(r))return-1;if(this.isRowAfterRenderedRows(r))return-2;if(this.isColumnBeforeRenderedColumns(i))return-3;if(this.isColumnAfterRenderedColumns(i))return-4;let o=this.getRow(r);if(!o&&r>=0)throw new Error("TR was expected to be rendered but is not");let s=o.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(i)];if(!s&&i>=0)throw new Error("TD or TH was expected to be rendered but is not");return s}getRow(t){let r=null,i=null;if(t<0){var n;r=(n=this.rowFilter)===null||n===void 0?void 0:n.sourceRowToVisibleColHeadedRow(t),i=this.THEAD}else{var o;r=(o=this.rowFilter)===null||o===void 0?void 0:o.sourceToRendered(t),i=this.TBODY}return r!==void 0&&i!==void 0?i.childNodes.length<r+1?!1:i.childNodes[r]:!1}getColumnHeader(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=this.THEAD.childNodes[r];return i?.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(t)]}getColumnHeaders(t){let r=[],i=this.columnFilter.sourceColumnToVisibleRowHeadedColumn(t);return this.THEAD.childNodes.forEach(n=>{let o=n.childNodes[i];o&&r.push(o)}),r}getRowHeader(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=this.wtSettings.getSetting("rowHeaders").length;if(r>=i)return;let n=this.rowFilter.sourceToRendered(t),o=n<0?this.rowFilter.sourceRowToVisibleColHeadedRow(t):n,a=(n<0?this.THEAD:this.TBODY).childNodes[o];return a?.childNodes[r]}getRowHeaders(t){let r=[],i=this.wtSettings.getSetting("rowHeaders").length;for(let n=0;n<i;n++){let o=this.TBODY.childNodes[this.rowFilter.sourceToRendered(t)],s=o?.childNodes[n];s&&r.push(s)}return r}getCoords(t){let r=t;if(r.nodeName!=="TD"&&r.nodeName!=="TH"&&(r=Sd(r,["TD","TH"])),r===null)return null;let i=r.parentNode,n=i.parentNode,o=ZG(i),s=r.cellIndex;return Wm(Yh,r,this.wtRootElement)||Wm(Id,r,this.wtRootElement)?n.nodeName==="THEAD"&&(o-=n.childNodes.length):Wm(Ad,r,this.wtRootElement)||Wm(Kl,r,this.wtRootElement)?o=this.wtSettings.getSetting("totalRows")-n.childNodes.length+o:n===this.THEAD?o=this.rowFilter.visibleColHeadedRowToSourceRow(o):o=this.rowFilter.renderedToSource(o),Wm(Yh,r,this.wtRootElement)||Wm(kd,r,this.wtRootElement)||Wm(Ad,r,this.wtRootElement)?s=this.columnFilter.offsettedTH(s):s=this.columnFilter.visibleRowHeadedColumnToSourceColumn(s),this.wot.createCellCoords(o,s)}markOversizedRows(){if(this.wtSettings.getSetting("externalRowCalculator"))return;let t=this.TBODY.childNodes.length,r=t*this.wtSettings.getSetting("defaultRowHeight"),i=af(this.TBODY)-1,n,o,s,a,l;if(!(r===i&&!this.wtSettings.getSetting("fixedRowsBottom")))for(;t;)t-=1,s=this.rowFilter.renderedToSource(t),n=this.getRowHeight(s),a=this.getTrForRow(s),l=a.querySelector("th"),l?o=af(l):o=af(a)-1,(!n&&this.wtSettings.getSetting("defaultRowHeight")<o||n<o)&&(o+=1,this.dataAccessObject.wtViewport.oversizedRows[s]=o)}getTrForRow(t){return this.TBODY.childNodes[this.rowFilter.sourceToRendered(t)]}isColumnHeaderRendered(t){if(t>=0)return!1;let i=this.wtSettings.getSetting("rowHeaders").length;return Math.abs(t)<=i}isRowHeaderRendered(t){if(t>=0)return!1;let i=this.wtSettings.getSetting("columnHeaders").length;return Math.abs(t)<=i}isRowBeforeRenderedRows(t){let r=this.getFirstRenderedRow();return t<0&&r<=0?!this.isRowHeaderRendered(t):t<r}isRowAfterRenderedRows(t){return t>this.getLastRenderedRow()}isColumnBeforeRenderedColumns(t){let r=this.getFirstRenderedColumn();return t<0&&r<=0?!this.isColumnHeaderRendered(t):t<r}isColumnAfterRenderedColumns(t){return this.columnFilter&&t>this.getLastRenderedColumn()}isColumnAfterViewport(t){return this.columnFilter&&t>this.getLastVisibleColumn()}isRowAfterViewport(t){return this.rowFilter&&t>this.getLastVisibleRow()}isColumnBeforeViewport(t){return this.columnFilter&&this.columnFilter.sourceToRendered(t)<0&&t>=0}isLastRowFullyVisible(){return this.getLastVisibleRow()===this.getLastRenderedRow()}isLastColumnFullyVisible(){return this.getLastVisibleColumn()===this.getLastRenderedColumn()}allRowsInViewport(){return this.wtSettings.getSetting("totalRows")===this.getVisibleRowsCount()}allColumnsInViewport(){return this.wtSettings.getSetting("totalColumns")===this.getVisibleColumnsCount()}getRowHeight(t){return this.rowUtils.getHeight(t)}getColumnHeaderHeight(t){return this.columnUtils.getHeaderHeight(t)}getColumnWidth(t){return this.columnUtils.getWidth(t)}getStretchedColumnWidth(t){return this.columnUtils.getStretchedColumnWidth(t)}hasDefinedSize(){return this.hasTableHeight&&this.hasTableWidth}getWidth(){return yr(this.TABLE)}getHeight(){return Nr(this.TABLE)}getTotalWidth(){let t=yr(this.hider);return t!==0?t:this.getWidth()}getTotalHeight(){let t=Nr(this.hider);return t!==0?t:this.getHeight()}isVisible(){return kc(this.TABLE)}_modifyRowHeaderWidth(t){let r=Mr(t)?t():null;return Array.isArray(r)?(r=[...r],r[r.length-1]=this._correctRowHeaderWidth(r[r.length-1])):r=this._correctRowHeaderWidth(r),r}_correctRowHeaderWidth(t){let r=t;return typeof t!="number"&&(r=this.wtSettings.getSetting("defaultColumnWidth")),this.correctHeaderWidth&&(r+=1),r}},jc=r6;var Nxt="stickyRowsBottom",fX={getFirstRenderedRow(){let e=this.wtSettings.getSetting("totalRows"),t=this.wtSettings.getSetting("fixedRowsBottom"),r=e-t;return e===0||t===0?-1:r<0?0:r},getFirstVisibleRow(){return this.getFirstRenderedRow()},getFirstPartiallyVisibleRow(){return this.getFirstRenderedRow()},getLastRenderedRow(){return this.wtSettings.getSetting("totalRows")-1},getLastVisibleRow(){return this.getLastRenderedRow()},getLastPartiallyVisibleRow(){return this.getLastRenderedRow()},getRenderedRowsCount(){let e=this.wtSettings.getSetting("totalRows");return Math.min(this.wtSettings.getSetting("fixedRowsBottom"),e)},getVisibleRowsCount(){return this.getRenderedRowsCount()},getColumnHeadersCount(){return 0}};Ls(fX,"MIXIN_NAME",Nxt,{writable:!1,enumerable:!1});var oA=fX;var Lxt="stickyColumnsStart",mX={getFirstRenderedColumn(){return this.wtSettings.getSetting("totalColumns")===0?-1:0},getFirstVisibleColumn(){return this.getFirstRenderedColumn()},getFirstPartiallyVisibleColumn(){return this.getFirstRenderedColumn()},getLastRenderedColumn(){return this.getRenderedColumnsCount()-1},getLastVisibleColumn(){return this.getLastRenderedColumn()},getLastPartiallyVisibleColumn(){return this.getLastRenderedColumn()},getRenderedColumnsCount(){let e=this.wtSettings.getSetting("totalColumns");return Math.min(this.wtSettings.getSetting("fixedColumnsStart"),e)},getVisibleColumnsCount(){return this.getRenderedColumnsCount()},getRowHeadersCount(){return this.dataAccessObject.rowHeaders.length}};Ls(mX,"MIXIN_NAME",Lxt,{writable:!1,enumerable:!1});var _y=mX;var zC=class extends jc{constructor(t,r,i,n){super(t,r,i,n,Ad)}};Zi(zC,oA);Zi(zC,_y);var pX=zC;var HKt=ot(qt(),1);var Id="top",Kl="bottom",kd="inline_start",Yh="top_inline_start_corner",Ad="bottom_inline_start_corner",gX=[Id,Kl,kd,Yh,Ad],bX=new Map([[Id,`ht_clone_${Id}`],[Kl,`ht_clone_${Kl}`],[kd,`ht_clone_${kd} ht_clone_left`],[Yh,`ht_clone_${Yh} ht_clone_top_left_corner`],[Ad,`ht_clone_${Ad} ht_clone_bottom_left_corner`]]);var PKt=ot(qt(),1);var EKt=ot(qt(),1),RKt=ot(_e(),1);var CKt=ot(qt(),1);function Fxt(e,t){Hxt(e,t),t.add(e)}function Hxt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Bxt(e,t,r){return t=jxt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jxt(e){var t=Vxt(e,"string");return typeof t=="symbol"?t:t+""}function Vxt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sA(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var UC=new WeakSet,n6=class{constructor(t){Fxt(this,UC),Bxt(this,"dataAccessObject",void 0),this.dataAccessObject=t}scrollViewport(t,r,i,n,o){let s=this.scrollViewportHorizontally(t.col,i,o),a=this.scrollViewportVertically(t.row,r,n);return s||a}scrollViewportHorizontally(t,r,i){let{drawn:n,totalColumns:o}=this.dataAccessObject;if(!n||!Number.isInteger(t)||t<0||t>o)return!1;let s=r===void 0&&i===void 0,{fixedColumnsStart:a,inlineStartOverlay:l}=this.dataAccessObject;if(s&&t<a||(t=this.dataAccessObject.wtSettings.getSetting("onBeforeViewportScrollHorizontally",t),!Number.isInteger(t)||t<0||t>o))return!1;let c=this.getFirstVisibleColumn(),d=this.getLastVisibleColumn(),h=!1;return(s&&(t<c||t>d)||!s)&&(h=l.scrollTo(t,s?t>=this.getLastPartiallyVisibleColumn():r)),h}scrollViewportVertically(t,r,i){let{drawn:n,totalRows:o}=this.dataAccessObject;if(!n||!Number.isInteger(t)||t<0||t>o)return!1;let s=r===void 0&&i===void 0,{fixedRowsBottom:a,fixedRowsTop:l,topOverlay:c}=this.dataAccessObject;if(s&&(t<l||t>o-a-1)||(t=this.dataAccessObject.wtSettings.getSetting("onBeforeViewportScrollVertically",t),!Number.isInteger(t)||t<0||t>o))return!1;let d=this.getFirstVisibleRow(),h=this.getLastVisibleRow(),u=!1;return(s&&(t<d||t>h)||!s)&&(u=c.scrollTo(t,s?t>=this.getLastPartiallyVisibleRow():i)),u}getFirstVisibleRow(){return this.dataAccessObject.wtTable.getFirstVisibleRow()}getLastVisibleRow(){return sA(UC,this,yX).call(this,this.dataAccessObject.wtTable.getLastVisibleRow())}getFirstPartiallyVisibleRow(){return this.dataAccessObject.wtTable.getFirstPartiallyVisibleRow()}getLastPartiallyVisibleRow(){return sA(UC,this,yX).call(this,this.dataAccessObject.wtTable.getLastPartiallyVisibleRow())}getFirstVisibleColumn(){return this.dataAccessObject.wtTable.getFirstVisibleColumn()}getLastVisibleColumn(){return sA(UC,this,vX).call(this,this.dataAccessObject.wtTable.getLastVisibleColumn())}getFirstPartiallyVisibleColumn(){return this.dataAccessObject.wtTable.getFirstPartiallyVisibleColumn()}getLastPartiallyVisibleColumn(){return sA(UC,this,vX).call(this,this.dataAccessObject.wtTable.getLastPartiallyVisibleColumn())}};function vX(e){let{wtSettings:t,inlineStartOverlay:r,wtTable:i,wtViewport:n,totalColumns:o,rootWindow:s}=this.dataAccessObject;if(r.mainTableScrollableElement===s){let a=t.getSetting("rtlMode"),l=null;if(a){let d=i.TABLE.getBoundingClientRect(),u=this.dataAccessObject.rootWindow.document.documentElement.offsetWidth;l=Math.abs(d.right-u)}else l=Kn(i.wtRootElement).left;let c=Math.abs(uM(s,s));if(l>c){let d=fM(s),h=n.getRowHeaderWidth();for(let u=1;u<=o;u++)if(h+=r.sumCellSizes(u-1,u),l+h-c>=d){e=u-2;break}}}return e}function yX(e){let{topOverlay:t,wtTable:r,wtViewport:i,totalRows:n,rootWindow:o}=this.dataAccessObject;if(t.mainTableScrollableElement===o){let s=Kn(r.wtRootElement),a=ty(o,o);if(s.top>a){let l=af(o),c=i.getColumnHeaderHeight();for(let d=1;d<=n;d++)if(c+=t.sumCellSizes(d-1,d),s.top+c-a>=l){e=d-2;break}}}return e}var _X=n6;function Dd(e,t,r){return t=zxt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zxt(e){var t=Uxt(e,"string");return typeof t=="symbol"?t:t+""}function Uxt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var np=class{get eventManager(){return new Qo(this)}constructor(t,r){Dd(this,"wtTable",void 0),Dd(this,"wtScroll",void 0),Dd(this,"wtViewport",void 0),Dd(this,"wtOverlays",void 0),Dd(this,"selectionManager",void 0),Dd(this,"wtEvent",void 0),Dd(this,"guid",`wt_${nM()}`),Dd(this,"drawInterrupted",!1),Dd(this,"drawn",!1),Dd(this,"domBindings",void 0),Dd(this,"wtSettings",void 0),this.domBindings={rootTable:t,rootDocument:t.ownerDocument,rootWindow:t.ownerDocument.defaultView},this.wtSettings=r,this.wtScroll=new _X(this.createScrollDao())}findOriginalHeaders(){let t=[];if(this.wtTable.THEAD.childNodes.length&&this.wtTable.THEAD.childNodes[0].childNodes.length){for(let r=0,i=this.wtTable.THEAD.childNodes[0].childNodes.length;r<i;r++)t.push(this.wtTable.THEAD.childNodes[0].childNodes[r].innerHTML);this.wtSettings.getSetting("columnHeaders").length||this.wtSettings.update("columnHeaders",[function(r,i){Pc(i,t[r])}])}}createCellCoords(t,r){return new ip(t,r,this.wtSettings.getSetting("rtlMode"))}createCellRange(t,r,i){return new e0(t,r,i,this.wtSettings.getSetting("rtlMode"))}draw(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this.drawInterrupted=!1,this.wtTable.isVisible()?this.wtTable.draw(t):this.drawInterrupted=!0,this}getCell(t){if(!(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1))return this.wtTable.getCell(t);let i=this.wtSettings.getSetting("totalRows"),n=this.wtSettings.getSetting("fixedRowsTop"),o=this.wtSettings.getSetting("fixedRowsBottom"),s=this.wtSettings.getSetting("fixedColumnsStart");if(t.row<n&&t.col<s)return this.wtOverlays.topInlineStartCornerOverlay.clone.wtTable.getCell(t);if(t.row<n)return this.wtOverlays.topOverlay.clone.wtTable.getCell(t);if(t.col<s&&t.row>=i-o){if(this.wtOverlays.bottomInlineStartCornerOverlay&&this.wtOverlays.bottomInlineStartCornerOverlay.clone)return this.wtOverlays.bottomInlineStartCornerOverlay.clone.wtTable.getCell(t)}else{if(t.col<s)return this.wtOverlays.inlineStartOverlay.clone.wtTable.getCell(t);if(t.row<i&&t.row>=i-o&&this.wtOverlays.bottomOverlay&&this.wtOverlays.bottomOverlay.clone)return this.wtOverlays.bottomOverlay.clone.wtTable.getCell(t)}return this.wtTable.getCell(t)}scrollViewport(t,r,i,n,o){return t.col<0||t.row<0?!1:this.wtScroll.scrollViewport(t,r,i,n,o)}scrollViewportHorizontally(t,r,i){return t<0?!1:this.wtScroll.scrollViewportHorizontally(t,r,i)}scrollViewportVertically(t,r,i){return t<0?!1:this.wtScroll.scrollViewportVertically(t,r,i)}getViewport(){return[this.wtTable.getFirstVisibleRow(),this.wtTable.getFirstVisibleColumn(),this.wtTable.getLastVisibleRow(),this.wtTable.getLastVisibleColumn()]}destroy(){this.wtOverlays.destroy(),this.wtEvent.destroy()}createScrollDao(){let t=this;return{get drawn(){return t.drawn},get topOverlay(){return t.wtOverlays.topOverlay},get inlineStartOverlay(){return t.wtOverlays.inlineStartOverlay},get wtTable(){return t.wtTable},get wtViewport(){return t.wtViewport},get wtSettings(){return t.wtSettings},get rootWindow(){return t.domBindings.rootWindow},get totalRows(){return t.wtSettings.getSetting("totalRows")},get totalColumns(){return t.wtSettings.getSetting("totalColumns")},get fixedRowsTop(){return t.wtSettings.getSetting("fixedRowsTop")},get fixedRowsBottom(){return t.wtSettings.getSetting("fixedRowsBottom")},get fixedColumnsStart(){return t.wtSettings.getSetting("fixedColumnsStart")}}}getTableDao(){let t=this;return{get wot(){return t},get parentTableOffset(){return t.cloneSource.wtTable.tableOffset},get cloneSource(){return t.cloneSource},get workspaceWidth(){return t.wtViewport.getWorkspaceWidth()},get wtViewport(){return t.wtViewport},get wtOverlays(){return t.wtOverlays},get selectionManager(){return t.selectionManager},get drawn(){return t.drawn},set drawn(r){t.drawn=r},get wtTable(){return t.wtTable},get startColumnRendered(){return t.wtViewport.columnsRenderCalculator.startColumn},get startColumnVisible(){return t.wtViewport.columnsVisibleCalculator.startColumn},get startColumnPartiallyVisible(){return t.wtViewport.columnsPartiallyVisibleCalculator.startColumn},get endColumnRendered(){return t.wtViewport.columnsRenderCalculator.endColumn},get endColumnVisible(){return t.wtViewport.columnsVisibleCalculator.endColumn},get endColumnPartiallyVisible(){return t.wtViewport.columnsPartiallyVisibleCalculator.endColumn},get countColumnsRendered(){return t.wtViewport.columnsRenderCalculator.count},get countColumnsVisible(){return t.wtViewport.columnsVisibleCalculator.count},get startRowRendered(){return t.wtViewport.rowsRenderCalculator.startRow},get startRowVisible(){return t.wtViewport.rowsVisibleCalculator.startRow},get startRowPartiallyVisible(){return t.wtViewport.rowsPartiallyVisibleCalculator.startRow},get endRowRendered(){return t.wtViewport.rowsRenderCalculator.endRow},get endRowVisible(){return t.wtViewport.rowsVisibleCalculator.endRow},get endRowPartiallyVisible(){return t.wtViewport.rowsPartiallyVisibleCalculator.endRow},get countRowsRendered(){return t.wtViewport.rowsRenderCalculator.count},get countRowsVisible(){return t.wtViewport.rowsVisibleCalculator.count},get columnHeaders(){return t.wtSettings.getSetting("columnHeaders")},get rowHeaders(){return t.wtSettings.getSetting("rowHeaders")}}}};function wX(e,t,r){return t=Wxt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wxt(e){var t=Yxt(e,"string");return typeof t=="symbol"?t:t+""}function Yxt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aA=class extends np{constructor(t,r,i){super(t,r),wX(this,"cloneSource",void 0),wX(this,"cloneOverlay",void 0);let n=this.wtSettings.getSetting("facade",this);this.cloneSource=i.source,this.cloneOverlay=i.overlay,this.wtTable=this.cloneOverlay.createTable(this.getTableDao(),n,this.domBindings,this.wtSettings),this.wtViewport=i.viewport,this.selectionManager=i.selectionManager,this.wtEvent=new VM(n,this.domBindings,this.wtSettings,this.eventManager,this.wtTable,this.selectionManager,i.event),this.findOriginalHeaders()}};function $xt(e,t,r){return t=qxt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qxt(e){var t=Gxt(e,"string");return typeof t=="symbol"?t:t+""}function Gxt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vc=class{constructor(t,r,i,n,o){$xt(this,"wtSettings",null),Ls(this,"wot",t,{writable:!1}),this.domBindings=o,this.facadeGetter=r,this.wtSettings=n;let{TABLE:s,hider:a,spreader:l,holder:c,wtRootElement:d}=this.wot.wtTable;this.instance=this.wot,this.type=i,this.mainTableScrollableElement=null,this.TABLE=s,this.hider=a,this.spreader=l,this.holder=c,this.wtRootElement=d,this.trimmingContainer=Rd(this.hider.parentNode.parentNode),this.needFullRender=this.shouldBeRendered(),this.clone=this.makeClone()}hasRenderingStateChanged(){return this.needFullRender!==this.shouldBeRendered()}updateStateOfRendering(t){t==="before"&&this.shouldBeRendered()?this.needFullRender=!0:t==="after"&&!this.shouldBeRendered()&&(this.needFullRender=!1)}shouldBeRendered(){return!0}updateTrimmingContainer(){this.trimmingContainer=Rd(this.hider.parentNode.parentNode)}updateMainScrollableElement(){let{wtTable:t}=this.wot,{rootWindow:r}=this.domBindings;r.getComputedStyle(t.wtRootElement.parentNode).getPropertyValue("overflow")==="hidden"?this.mainTableScrollableElement=this.wot.wtTable.holder:this.mainTableScrollableElement=ey(t.TABLE)}getRelativeCellPosition(t,r,i){if(this.clone.wtTable.holder.contains(t)===!1){gr(`The provided element is not a child of the ${this.type} overlay`);return}let n=this.mainTableScrollableElement===this.domBindings.rootWindow,o=i<this.wtSettings.getSetting("fixedColumnsStart"),s=r<this.wtSettings.getSetting("fixedRowsTop"),a=r>=this.wtSettings.getSetting("totalRows")-this.wtSettings.getSetting("fixedRowsBottom"),l=this.clone.wtTable.spreader,c={start:this.getRelativeStartPosition(l),top:l.offsetTop},d={start:this.getRelativeStartPosition(t),top:t.offsetTop},h=null;return n?h=this.getRelativeCellPositionWithinWindow(s,o,d,c):h=this.getRelativeCellPositionWithinHolder(s,a,o,d,c),h}getRelativeStartPosition(t){return this.isRtl()?t.offsetParent.offsetWidth-t.offsetLeft-t.offsetWidth:t.offsetLeft}getRelativeCellPositionWithinWindow(t,r,i,n){let o=this.wot.wtTable.wtRootElement.getBoundingClientRect(),s=0,a=0;if(!r)s=n.start;else{let l=o.left;this.isRtl()&&(l=this.domBindings.rootWindow.innerWidth-(o.left+o.width+Rn())),s=l<=0?-1*l:0}return t?a=this.clone.wtTable.TABLE.getBoundingClientRect().top-o.top:a=n.top,{start:i.start+s,top:i.top+a}}getRelativeCellPositionWithinHolder(t,r,i,n,o){let s={horizontal:this.wot.wtOverlays.inlineStartOverlay.getScrollPosition(),vertical:this.wot.wtOverlays.topOverlay.getScrollPosition()},a=0,l=0;if(i||(a=s.horizontal-o.start),r){let c=this.wot.wtTable.wtRootElement.getBoundingClientRect();l=this.clone.wtTable.TABLE.getBoundingClientRect().top*-1+c.top}else t||(l=s.vertical-o.top);return{start:n.start-a,top:n.top-l}}makeClone(){if(gX.indexOf(this.type)===-1)throw new Error(`Clone type "${this.type}" is not supported.`);let{wtTable:t,wtSettings:r}=this.wot,{rootDocument:i,rootWindow:n}=this.domBindings,o=i.createElement("div"),s=i.createElement("table"),a=t.wtRootElement.parentNode;o.className=`${bX.get(this.type)} handsontable`,o.setAttribute("dir",this.isRtl()?"rtl":"ltr"),o.style.position="absolute",o.style.top=0,o.style.overflow="visible",this.isRtl()?o.style.right=0:o.style.left=0,r.getSetting("ariaTags")&&Ke(o,[Ua()]),s.className=t.TABLE.className,t.TABLE.getAttribute("role")&&s.setAttribute("role",t.TABLE.getAttribute("role")),o.appendChild(s),a.appendChild(o);let c=this.wtSettings.getSetting("preventOverflow");return c===!0||c==="horizontal"&&this.type===Id||c==="vertical"&&this.type===kd?this.mainTableScrollableElement=n:n.getComputedStyle(a).getPropertyValue("overflow")==="hidden"?this.mainTableScrollableElement=t.holder:this.mainTableScrollableElement=ey(t.TABLE),new aA(s,this.wtSettings,{source:this.wot,overlay:this,viewport:this.wot.wtViewport,event:this.wot.wtEvent,selectionManager:this.wot.selectionManager})}refresh(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.needFullRender&&this.clone.draw(t)}reset(){let t=this.clone.wtTable.holder,r=this.clone.wtTable.hider,i=t.style,n=r.style,o=t.parentNode.style;[i,n,o].forEach(s=>{s.width="",s.height=""})}isRtl(){return this.wtSettings.getSetting("rtlMode")}destroy(){this.clone.eventManager.destroy()}};var WC=class extends Vc{constructor(t,r,i,n,o,s){super(t,r,Ad,i,n),this.bottomOverlay=o,this.inlineStartOverlay=s}createTable(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return new pX(...r)}shouldBeRendered(){return this.wtSettings.getSetting("shouldRenderBottomOverlay")&&this.wtSettings.getSetting("shouldRenderInlineStartOverlay")}resetFixedPosition(){let{wot:t}=this;if(this.updateTrimmingContainer(),!t.wtTable.holder.parentNode)return!1;let r=this.clone.wtTable.holder.parentNode;if(r.style.top="",this.trimmingContainer===this.domBindings.rootWindow){let o=this.inlineStartOverlay.getOverlayOffset(),s=this.bottomOverlay.getOverlayOffset();r.style[this.isRtl()?"right":"left"]=`${o}px`,r.style.bottom=`${s}px`}else qm(r),this.repositionOverlay();let i=Nr(this.clone.wtTable.TABLE),n=yr(this.clone.wtTable.TABLE);return this.wot.wtTable.hasDefinedSize()||(i=0),r.style.height=`${i}px`,r.style.width=`${n}px`,!1}repositionOverlay(){let{wtTable:t,wtViewport:r}=this.wot,{rootDocument:i}=this.domBindings,n=this.clone.wtTable.holder.parentNode,o=0;r.hasVerticalScroll()||(o+=r.getWorkspaceHeight()-t.getTotalHeight()),r.hasVerticalScroll()&&r.hasHorizontalScroll()&&(o+=Rn(i)),n.style.bottom=`${o}px`}};var oXt=ot(qt(),1);var Kxt="calculatedColumns",CX={getFirstRenderedColumn(){let e=this.dataAccessObject.startColumnRendered;return e===null?-1:e},getFirstVisibleColumn(){let e=this.dataAccessObject.startColumnVisible;return e===null?-1:e},getFirstPartiallyVisibleColumn(){let e=this.dataAccessObject.startColumnPartiallyVisible;return e===null?-1:e},getLastRenderedColumn(){let e=this.dataAccessObject.endColumnRendered;return e===null?-1:e},getLastVisibleColumn(){let e=this.dataAccessObject.endColumnVisible;return e===null?-1:e},getLastPartiallyVisibleColumn(){let e=this.dataAccessObject.endColumnPartiallyVisible;return e===null?-1:e},getRenderedColumnsCount(){return this.dataAccessObject.countColumnsRendered},getVisibleColumnsCount(){return this.dataAccessObject.countColumnsVisible},getRowHeadersCount(){return this.dataAccessObject.rowHeaders.length}};Ls(CX,"MIXIN_NAME",Kxt,{writable:!1,enumerable:!1});var wy=CX;var YC=class extends jc{constructor(t,r,i,n){super(t,r,i,n,Kl)}};Zi(YC,oA);Zi(YC,wy);var xX=YC;function Xxt(e,t,r){return t=Zxt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zxt(e){var t=Qxt(e,"string");return typeof t=="symbol"?t:t+""}function Qxt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $C=class extends Vc{constructor(t,r,i,n){super(t,r,Kl,i,n),Xxt(this,"cachedFixedRowsBottom",-1),this.cachedFixedRowsBottom=this.wtSettings.getSetting("fixedRowsBottom")}createTable(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return new xX(...r)}shouldBeRendered(){return this.wtSettings.getSetting("shouldRenderBottomOverlay")}resetFixedPosition(){if(!this.needFullRender||!this.shouldBeRendered()||!this.wot.wtTable.holder.parentNode)return!1;let{rootWindow:t}=this.domBindings,r=this.clone.wtTable.holder.parentNode;r.style.top="";let i=0,n=this.wtSettings.getSetting("preventOverflow");this.trimmingContainer===t&&(!n||n!=="vertical")?(i=this.getOverlayOffset(),r.style.bottom=`${i}px`):(i=this.getScrollPosition(),this.repositionOverlay());let o=this.adjustHeaderBordersPosition(i);return this.adjustElementsSize(),o}repositionOverlay(){let{wtTable:t,wtViewport:r}=this.wot,{rootDocument:i}=this.domBindings,n=this.clone.wtTable.holder.parentNode,o=0;r.hasVerticalScroll()||(o+=r.getWorkspaceHeight()-t.getTotalHeight()),r.hasVerticalScroll()&&r.hasHorizontalScroll()&&(o+=Rn(i)),n.style.bottom=`${o}px`}setScrollPosition(t){let{rootWindow:r}=this.domBindings,i=!1;return this.mainTableScrollableElement===r?(r.scrollTo(CC(r),t),i=!0):this.mainTableScrollableElement.scrollTop!==t&&(this.mainTableScrollableElement.scrollTop=t,i=!0),i}onScroll(){this.wtSettings.getSetting("onScrollHorizontally")}sumCellSizes(t,r){let{wtTable:i,wtSettings:n}=this.wot,o=n.getSetting("defaultRowHeight"),s=t,a=0;for(;s<r;){let l=i.getRowHeight(s);a+=l===void 0?o:l,s+=1}return a}adjustElementsSize(){this.updateTrimmingContainer(),this.needFullRender&&(this.adjustRootElementSize(),this.adjustRootChildrenSize())}adjustRootElementSize(){let{wtTable:t,wtViewport:r}=this.wot,{rootDocument:i,rootWindow:n}=this.domBindings,o=Rn(i),a=this.clone.wtTable.holder.parentNode.style,l=this.wtSettings.getSetting("preventOverflow");if(this.trimmingContainer!==n||l==="horizontal"){let d=r.getWorkspaceWidth();this.wot.wtOverlays.hasScrollbarRight&&(d-=o),d=Math.min(d,t.wtRootElement.scrollWidth),a.width=`${d}px`}else a.width="";this.clone.wtTable.holder.style.width=a.width;let c=Nr(this.clone.wtTable.TABLE);this.wot.wtTable.hasDefinedSize()||(c=0),a.height=`${c}px`}adjustRootChildrenSize(){let{holder:t}=this.clone.wtTable;this.clone.wtTable.hider.style.width=this.hider.style.width,t.style.width=t.parentNode.style.width,t.style.height=t.parentNode.style.height}applyToDOM(){let t=this.wtSettings.getSetting("totalRows");if(typeof this.wot.wtViewport.rowsRenderCalculator.startPosition=="number")this.spreader.style.top=`${this.wot.wtViewport.rowsRenderCalculator.startPosition}px`;else if(t===0)this.spreader.style.top="0";else throw new Error("Incorrect value of the rowsRenderCalculator");this.spreader.style.bottom="",this.needFullRender&&this.syncOverlayOffset()}syncOverlayOffset(){let t=this.isRtl()?"right":"left",{spreader:r}=this.clone.wtTable;typeof this.wot.wtViewport.columnsRenderCalculator.startPosition=="number"?r.style[t]=`${this.wot.wtViewport.columnsRenderCalculator.startPosition}px`:r.style[t]=""}scrollTo(t,r){let i=this.getTableParentOffset(),o=(this.wot.cloneSource?this.wot.cloneSource:this.wot).wtTable.holder,s=0;r&&o.offsetHeight!==o.clientHeight&&(s=Rn(this.domBindings.rootDocument)),r?(i+=this.sumCellSizes(0,t+1),i-=this.wot.wtViewport.getViewportHeight(),i+=1):i+=this.sumCellSizes(this.wtSettings.getSetting("fixedRowsBottom"),t),i+=s,this.setScrollPosition(i)}getTableParentOffset(){return this.mainTableScrollableElement===this.domBindings.rootWindow?this.wot.wtTable.holderOffset.top:0}getScrollPosition(){return ty(this.mainTableScrollableElement,this.domBindings.rootWindow)}getOverlayOffset(){let{rootWindow:t}=this.domBindings,r=this.wtSettings.getSetting("preventOverflow"),i=0;if(this.trimmingContainer===t&&(!r||r!=="vertical")){let n=this.wot.wtTable.getTotalHeight(),o=this.clone.wtTable.getTotalHeight(),s=n-o,a=this.domBindings.rootDocument.documentElement.clientHeight;i=Math.max(this.getTableParentOffset()-this.getScrollPosition()-a+n,0),i>s&&(i=0)}return i}adjustHeaderBordersPosition(t){let r=this.wtSettings.getSetting("fixedRowsBottom"),i=this.cachedFixedRowsBottom!==r,n=this.wtSettings.getSetting("columnHeaders"),o=!1;if((i||r===0)&&n.length>0){let s=this.wot.wtTable.holder.parentNode,a=Xe(s,"innerBorderBottom");this.cachedFixedRowsBottom=this.wtSettings.getSetting("fixedRowsBottom"),t||this.wtSettings.getSetting("totalRows")===0?(re(s,"innerBorderBottom"),o=!a):(pi(s,"innerBorderBottom"),o=a)}return o}};var dZt=ot(qt(),1);var Jxt="calculatedRows",SX={getFirstRenderedRow(){let e=this.dataAccessObject.startRowRendered;return e===null?-1:e},getFirstVisibleRow(){let e=this.dataAccessObject.startRowVisible;return e===null?-1:e},getFirstPartiallyVisibleRow(){let e=this.dataAccessObject.startRowPartiallyVisible;return e===null?-1:e},getLastRenderedRow(){let e=this.dataAccessObject.endRowRendered;return e===null?-1:e},getLastVisibleRow(){let e=this.dataAccessObject.endRowVisible;return e===null?-1:e},getLastPartiallyVisibleRow(){let e=this.dataAccessObject.endRowPartiallyVisible;return e===null?-1:e},getRenderedRowsCount(){return this.dataAccessObject.countRowsRendered},getVisibleRowsCount(){return this.dataAccessObject.countRowsVisible},getColumnHeadersCount(){return this.dataAccessObject.columnHeaders.length}};Ls(SX,"MIXIN_NAME",Jxt,{writable:!1,enumerable:!1});var lA=SX;var qC=class extends jc{constructor(t,r,i,n){super(t,r,i,n,kd)}};Zi(qC,lA);Zi(qC,_y);var EX=qC;var yXt=ot(_e(),1);var t2t="localHooks",RX={_localHooks:Object.create(null),addLocalHook(e,t){return this._localHooks[e]||(this._localHooks[e]=[]),this._localHooks[e].push(t),this},runLocalHooks(e,t,r,i,n,o,s){if(this._localHooks[e]){let a=this._localHooks[e].length;for(let l=0;l<a;l++)SC(this._localHooks[e][l],this,t,r,i,n,o,s)}},clearLocalHooks(){return this._localHooks={},this}};Ls(RX,"MIXIN_NAME",t2t,{writable:!1,enumerable:!1});var Bn=RX;var cA=class{constructor(t,r){this.settings=t,this.cellRange=r||null}isEmpty(){return this.cellRange===null}add(t){return this.isEmpty()?this.cellRange=this.settings.createCellRange(t):this.cellRange.expand(t),this}replace(t,r){if(!this.isEmpty()){if(this.cellRange.from.isEqual(t))return this.cellRange.from=r,!0;if(this.cellRange.to.isEqual(t))return this.cellRange.to=r,!0}return!1}clear(){return this.cellRange=null,this}getCorners(){let t=this.cellRange.getOuterTopStartCorner(),r=this.cellRange.getOuterBottomEndCorner();return[t.row,t.col,r.row,r.col]}destroy(){this.runLocalHooks("destroy")}};Zi(cA,Bn);var dA=cA;var Cy="active-header",op="header",sp="area",s0="focus",hA="fill",uA="row",fA="column",mA="custom-selection";var xy=Object.freeze({width:"6px",height:"6px",borderWidth:"1px",borderStyle:"solid",borderColor:"#FFF"});var $Xt=ot(qt(),1),qXt=ot(_e(),1),GXt=ot(o6(),1),KXt=ot(yn(),1),XXt=ot(_n(),1),ZXt=ot(wn(),1),QXt=ot(Cn(),1),JXt=ot(xn(),1),tZt=ot(Sn(),1),eZt=ot(En(),1);var IXt=ot(qt(),1),kXt=ot(yn(),1),DXt=ot(_n(),1),OXt=ot(wn(),1),PXt=ot(Cn(),1),NXt=ot(xn(),1),LXt=ot(Sn(),1),FXt=ot(En(),1);function i2t(e,t){AX(e,t),t.add(e)}function TX(e,t,r){AX(e,t),t.set(e,r)}function AX(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ts(e,t){return e.get(GC(e,t))}function MX(e,t,r){return e.set(GC(e,t),r),r}function GC(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var Od=new WeakMap,vl=new WeakMap,pA=new WeakSet,gA=class{constructor(){i2t(this,pA),TX(this,Od,void 0),TX(this,vl,void 0)}setActiveOverlay(t){return MX(vl,this,t),this}setActiveSelection(t){return MX(Od,this,t),this}scan(){let t=ts(Od,this).settings.selectionType,r=new Set;return t==="active-header"?(this.scanColumnsInHeadersRange(i=>r.add(i)),this.scanRowsInHeadersRange(i=>r.add(i))):t==="area"?this.scanCellsRange(i=>r.add(i)):t==="focus"?(this.scanColumnsInHeadersRange(i=>r.add(i)),this.scanRowsInHeadersRange(i=>r.add(i)),this.scanCellsRange(i=>r.add(i))):t==="fill"?this.scanCellsRange(i=>r.add(i)):t==="header"?(this.scanColumnsInHeadersRange(i=>r.add(i)),this.scanRowsInHeadersRange(i=>r.add(i))):t==="row"?(this.scanRowsInHeadersRange(i=>r.add(i)),this.scanRowsInCellsRange(i=>r.add(i))):t==="column"&&(this.scanColumnsInHeadersRange(i=>r.add(i)),this.scanColumnsInCellsRange(i=>r.add(i))),r}scanColumnsInHeadersRange(t){let[r,i,n,o]=ts(Od,this).getCorners(),{wtTable:s}=ts(vl,this),a=s.getRenderedColumnsCount(),l=s.getColumnHeadersCount(),c=0;for(let d=-s.getRowHeadersCount();d<a;d++){let h=s.columnFilter.renderedToSource(d);if(!(h<i||h>o)){for(let u=-l;u<0;u++){if(u<r||u>n)continue;let f=u+l,m=s.getColumnHeader(h,f),g=ts(vl,this).getSetting("onBeforeHighlightingColumnHeader",h,f,{selectionType:ts(Od,this).settings.selectionType,columnCursor:c,selectionWidth:o-i+1});g!==null&&(g!==h&&(m=s.getColumnHeader(g,f)),t(m))}c+=1}}}scanRowsInHeadersRange(t){let[r,i,n,o]=ts(Od,this).getCorners(),{wtTable:s}=ts(vl,this),a=s.getRenderedRowsCount(),l=s.getRowHeadersCount(),c=0;for(let d=-s.getColumnHeadersCount();d<a;d++){let h=s.rowFilter.renderedToSource(d);if(!(h<r||h>n)){for(let u=-l;u<0;u++){if(u<i||u>o)continue;let f=u+l,m=s.getRowHeader(h,f),g=ts(vl,this).getSetting("onBeforeHighlightingRowHeader",h,f,{selectionType:ts(Od,this).settings.selectionType,rowCursor:c,selectionHeight:n-r+1});g!==null&&(g!==h&&(m=s.getRowHeader(g,f)),t(m))}c+=1}}}scanCellsRange(t){let[r,i,n,o]=ts(Od,this).getCorners(),{wtTable:s}=ts(vl,this);GC(pA,this,s6).call(this,(a,l)=>{if(a>=r&&a<=n&&l>=i&&l<=o){let c=s.getCell(ts(vl,this).createCellCoords(a,l)),d=ts(vl,this).getSetting("onAfterDrawSelection",a,l,ts(Od,this).settings.layerLevel);typeof d=="string"&&re(c,d),t(c)}})}scanRowsInCellsRange(t){let[r,,i]=ts(Od,this).getCorners(),{wtTable:n}=ts(vl,this);GC(pA,this,s6).call(this,(o,s)=>{if(o>=r&&o<=i){let a=n.getCell(ts(vl,this).createCellCoords(o,s));t(a)}})}scanColumnsInCellsRange(t){let[,r,,i]=ts(Od,this).getCorners(),{wtTable:n}=ts(vl,this);GC(pA,this,s6).call(this,(o,s)=>{if(s>=r&&s<=i){let a=n.getCell(ts(vl,this).createCellCoords(o,s));t(a)}})}};function s6(e){let{wtTable:t}=ts(vl,this),r=t.getRenderedRowsCount(),i=t.getRenderedColumnsCount();for(let n=0;n<r;n+=1){let o=t.rowFilter.renderedToSource(n);for(let s=0;s<i;s+=1)e(o,t.columnFilter.renderedToSource(s))}}var a6=class{constructor(t,r){r&&(this.eventManager=t.eventManager,this.instance=t,this.wot=t,this.settings=r,this.mouseDown=!1,this.main=null,this.top=null,this.bottom=null,this.start=null,this.end=null,this.topStyle=null,this.bottomStyle=null,this.startStyle=null,this.endStyle=null,this.cornerDefaultStyle=xy,this.cornerCenterPointOffset=-(parseInt(this.cornerDefaultStyle.width,10)/2),this.corner=null,this.cornerStyle=null,this.createBorders(r),this.registerListeners())}registerListeners(){let t=this.wot.rootDocument.body;this.eventManager.addEventListener(t,"mousedown",()=>this.onMouseDown()),this.eventManager.addEventListener(t,"mouseup",()=>this.onMouseUp());for(let r=0,i=this.main.childNodes.length;r<i;r++){let n=this.main.childNodes[r];this.eventManager.addEventListener(n,"mouseenter",o=>this.onMouseEnter(o,this.main.childNodes[r]))}}onMouseDown(){this.mouseDown=!0}onMouseUp(){this.mouseDown=!1}onMouseEnter(t,r){if(!this.mouseDown||!this.wot.getSetting("hideBorderOnMouseDownOver"))return;t.preventDefault(),Vo(t);let i=this,n=this.wot.rootDocument.body,o=r.getBoundingClientRect();r.style.display="none";function s(l){if(l.clientY<Math.floor(o.top)||l.clientY>Math.ceil(o.top+o.height)||l.clientX<Math.floor(o.left)||l.clientX>Math.ceil(o.left+o.width))return!0}function a(l){s(l)&&(i.eventManager.removeEventListener(n,"mousemove",a),r.style.display="block")}this.eventManager.addEventListener(n,"mousemove",a)}createBorders(t){let{rootDocument:r}=this.wot;this.main=r.createElement("div");let i=["top","start","bottom","end","corner"],n=this.main.style;n.position="absolute",n.top=0,n.left=0;for(let a=0;a<5;a++){let l=i[a],c=r.createElement("div");c.className=`wtBorder ${this.settings.className||""}`,this.settings[l]&&this.settings[l].hide&&(c.className+=" hidden"),n=c.style,n.backgroundColor=this.settings[l]&&this.settings[l].color?this.settings[l].color:t.border.color,n.height=this.settings[l]&&this.settings[l].width?`${this.settings[l].width}px`:`${t.border.width}px`,n.width=this.settings[l]&&this.settings[l].width?`${this.settings[l].width}px`:`${t.border.width}px`,this.main.appendChild(c)}this.top=this.main.childNodes[0],this.start=this.main.childNodes[1],this.bottom=this.main.childNodes[2],this.end=this.main.childNodes[3],this.topStyle=this.top.style,this.startStyle=this.start.style,this.bottomStyle=this.bottom.style,this.endStyle=this.end.style,this.corner=this.main.childNodes[4],this.corner.className+=" corner",this.cornerStyle=this.corner.style,this.cornerStyle.width=this.cornerDefaultStyle.width,this.cornerStyle.height=this.cornerDefaultStyle.height,this.cornerStyle.border=[this.cornerDefaultStyle.borderWidth,this.cornerDefaultStyle.borderStyle,this.cornerDefaultStyle.borderColor].join(" "),ql()&&this.instance.getSetting("isDataViewInstance")&&this.createMultipleSelectorHandles(),this.disappear();let{wtTable:o}=this.wot,s=o.bordersHolder;s||(s=r.createElement("div"),s.className="htBorders",o.bordersHolder=s,o.spreader.appendChild(s)),s.appendChild(this.main)}createMultipleSelectorHandles(){let{rootDocument:t}=this.wot;this.selectionHandles={top:t.createElement("DIV"),topHitArea:t.createElement("DIV"),bottom:t.createElement("DIV"),bottomHitArea:t.createElement("DIV")};let r=10,i=40;this.selectionHandles.top.className="topSelectionHandle topLeftSelectionHandle",this.selectionHandles.topHitArea.className="topSelectionHandle-HitArea topLeftSelectionHandle-HitArea",this.selectionHandles.bottom.className="bottomSelectionHandle bottomRightSelectionHandle",this.selectionHandles.bottomHitArea.className="bottomSelectionHandle-HitArea bottomRightSelectionHandle-HitArea",this.selectionHandles.styles={top:this.selectionHandles.top.style,topHitArea:this.selectionHandles.topHitArea.style,bottom:this.selectionHandles.bottom.style,bottomHitArea:this.selectionHandles.bottomHitArea.style};let n={position:"absolute",height:`${i}px`,width:`${i}px`,"border-radius":`${parseInt(i/1.5,10)}px`};bi(n,(s,a)=>{this.selectionHandles.styles.bottomHitArea[a]=s,this.selectionHandles.styles.topHitArea[a]=s});let o={position:"absolute",height:`${r}px`,width:`${r}px`,"border-radius":`${parseInt(r/1.5,10)}px`,background:"#F5F5FF",border:"1px solid #4285c8"};bi(o,(s,a)=>{this.selectionHandles.styles.bottom[a]=s,this.selectionHandles.styles.top[a]=s}),this.main.appendChild(this.selectionHandles.top),this.main.appendChild(this.selectionHandles.bottom),this.main.appendChild(this.selectionHandles.topHitArea),this.main.appendChild(this.selectionHandles.bottomHitArea)}isPartRange(t,r){let i=this.wot.selectionManager.getAreaSelection();return!!(i.cellRange&&(t!==i.cellRange.to.row||r!==i.cellRange.to.col))}updateMultipleSelectionHandlesPosition(t,r,i,n,o,s){let l=this.wot.wtSettings.getSetting("rtlMode")?"right":"left",{top:c,topHitArea:d,bottom:h,bottomHitArea:u}=this.selectionHandles.styles,f=parseInt(c.borderWidth,10),m=parseInt(c.width,10),g=parseInt(d.width,10),p=this.wot.wtTable.getWidth(),b=this.wot.wtTable.getHeight();c.top=`${parseInt(i-m-1,10)}px`,c[l]=`${parseInt(n-m-1,10)}px`,d.top=`${parseInt(i-g/4*3,10)}px`,d[l]=`${parseInt(n-g/4*3,10)}px`;let _=Math.min(parseInt(n+o,10),p-m-f*2),E=Math.min(parseInt(n+o-g/4,10),p-g-f*2);h[l]=`${_}px`,u[l]=`${E}px`;let O=Math.min(parseInt(i+s,10),b-m-f*2),V=Math.min(parseInt(i+s-g/4,10),b-g-f*2);h.top=`${O}px`,u.top=`${V}px`,this.settings.border.cornerVisible&&this.settings.border.cornerVisible()?(c.display="block",d.display="block",this.isPartRange(t,r)?(h.display="none",u.display="none"):(h.display="block",u.display="block")):(c.display="none",h.display="none",d.display="none",u.display="none"),t===this.wot.wtSettings.getSetting("fixedRowsTop")||r===this.wot.wtSettings.getSetting("fixedColumnsStart")?(c.zIndex="9999",d.zIndex="9999"):(c.zIndex="",d.zIndex="")}appear(t){if(this.disabled)return;let{wtTable:r,rootDocument:i,rootWindow:n}=this.wot,o,s,a,l,c,d,h=r.getRenderedRowsCount();for(let S=0;S<h;S+=1){let M=r.rowFilter.renderedToSource(S);if(M>=t[0]&&M<=t[2]){o=M,c=t[0];break}}for(let S=h-1;S>=0;S-=1){let M=r.rowFilter.renderedToSource(S);if(M>=t[0]&&M<=t[2]){s=M;break}}let u=r.getRenderedColumnsCount();for(let S=0;S<u;S+=1){let M=r.columnFilter.renderedToSource(S);if(M>=t[1]&&M<=t[3]){a=M,d=t[1];break}}for(let S=u-1;S>=0;S-=1){let M=r.columnFilter.renderedToSource(S);if(M>=t[1]&&M<=t[3]){l=M;break}}if(o===void 0||a===void 0){this.disappear();return}let f=r.getCell(this.wot.createCellCoords(o,a)),m=o!==s||a!==l,g=m?r.getCell(this.wot.createCellCoords(s,l)):f,p=Kn(f),b=m?Kn(g):p,_=Kn(r.TABLE),E=yr(r.TABLE),O=p.top,V=p.left,H=this.wot.wtSettings.getSetting("rtlMode"),F=0,L=0;if(H){let S=yr(f),M=n.innerWidth-_.left-E;L=V+S-b.left,F=n.innerWidth-V-S-M-1}else L=b.left+yr(g)-V,F=V-_.left-1;if(this.isEntireColumnSelected(o,s)){let S=this.getDimensionsFromHeader("columns",a,l,c,_),M=null;S&&([M,F,L]=S),M&&(f=M)}let q=O-_.top-1,W=b.top+Nr(g)-O;if(this.isEntireRowSelected(a,l)){let S=this.getDimensionsFromHeader("rows",o,s,d,_),M=null;S&&([M,q,W]=S),M&&(f=M)}let x=Nc(f,n);parseInt(x.borderTopWidth,10)>0&&(q+=1,W=W>0?W-1:0),parseInt(x[H?"borderRightWidth":"borderLeftWidth"],10)>0&&(F+=1,L=L>0?L-1:0);let R=H?"right":"left";this.topStyle.top=`${q}px`,this.topStyle[R]=`${F}px`,this.topStyle.width=`${L}px`,this.topStyle.display="block",this.startStyle.top=`${q}px`,this.startStyle[R]=`${F}px`,this.startStyle.height=`${W}px`,this.startStyle.display="block";let j=Math.floor(this.settings.border.width/2);this.bottomStyle.top=`${q+W-j}px`,this.bottomStyle[R]=`${F}px`,this.bottomStyle.width=`${L}px`,this.bottomStyle.display="block",this.endStyle.top=`${q}px`,this.endStyle[R]=`${F+L-j}px`,this.endStyle.height=`${W+1}px`,this.endStyle.display="block";let v=this.settings.border.cornerVisible;v=typeof v=="function"?v(this.settings.layerLevel):v;let y=this.wot.getSetting("onModifyGetCellCoords",s,l),[C,w]=[s,l];if(y&&Array.isArray(y)&&([,,C,w]=y),ql()||!v||this.isPartRange(C,w))this.cornerStyle.display="none";else{this.cornerStyle.top=`${q+W+this.cornerCenterPointOffset-1}px`,this.cornerStyle[R]=`${F+L+this.cornerCenterPointOffset-1}px`,this.cornerStyle.borderRightWidth=this.cornerDefaultStyle.borderWidth,this.cornerStyle.width=this.cornerDefaultStyle.width,this.cornerStyle.display="none";let S=Rd(r.TABLE),M=S===n;M&&(S=i.documentElement);let U=parseInt(this.cornerDefaultStyle.width,10)/2,N=parseInt(this.cornerDefaultStyle.height,10)/2;if(l===this.wot.getSetting("totalColumns")-1){let T=M?g.getBoundingClientRect().left:g.offsetLeft,B=!1,I=0;H?(I=T-parseInt(this.cornerDefaultStyle.width,10)/2,B=I<0):(I=T+yr(g)+parseInt(this.cornerDefaultStyle.width,10)/2,B=I>=fM(S)),B&&(this.cornerStyle[R]=`${Math.floor(F+L+this.cornerCenterPointOffset-U)}px`,this.cornerStyle[H?"borderLeftWidth":"borderRightWidth"]=0)}s===this.wot.getSetting("totalRows")-1&&(M?g.getBoundingClientRect().top:g.offsetTop)+Nr(g)+parseInt(this.cornerDefaultStyle.height,10)/2>=af(S)&&(this.cornerStyle.top=`${Math.floor(q+W+this.cornerCenterPointOffset-N)}px`,this.cornerStyle.borderBottomWidth=0),this.cornerStyle.display="block"}ql()&&this.instance.getSetting("isDataViewInstance")&&this.updateMultipleSelectionHandlesPosition(s,l,q,F,L,W)}isEntireColumnSelected(t,r){return t===this.wot.wtTable.getFirstRenderedRow()&&r===this.wot.wtTable.getLastRenderedRow()}isEntireRowSelected(t,r){return t===this.wot.wtTable.getFirstRenderedColumn()&&r===this.wot.wtTable.getLastRenderedColumn()}getDimensionsFromHeader(t,r,i,n,o){let{wtTable:s}=this.wot,a=s.wtRootElement.parentNode,l=null,c=null,d=null,h=null,u=null,f=null,m=null,g=null;switch(t){case"rows":l=function(){return s.getRowHeader(...arguments)},c=function(){return Nr(...arguments)},d="ht__selection--rows",f="top";break;case"columns":l=function(){return s.getColumnHeader(...arguments)},c=function(){return yr(...arguments)},d="ht__selection--columns",f="left";break;default:}if(a.classList.contains(d)){let p=this.wot.getSetting("columnHeaders").length;if(m=l(r,p-n),g=l(i,p-n),!m||!g)return!1;let b=Kn(m),_=Kn(g);return m&&g&&(h=b[f]-o[f]-1,u=_[f]+c(g)-b[f]),[m,h,u]}return!1}changeBorderStyle(t,r){let i=this[t].style,n=r[t];!n||n.hide?re(this[t],"hidden"):(Xe(this[t],"hidden")&&pi(this[t],"hidden"),i.backgroundColor=n.color,(t==="top"||t==="bottom")&&(i.height=`${n.width}px`),(t==="start"||t==="end")&&(i.width=`${n.width}px`))}changeBorderToDefaultStyle(t){let r={width:1,color:"#000"},i=this[t].style;i.backgroundColor=r.color,i.width=`${r.width}px`,i.height=`${r.width}px`}toggleHiddenClass(t,r){this.changeBorderToDefaultStyle(t),r?re(this[t],"hidden"):pi(this[t],"hidden")}disappear(){this.topStyle.display="none",this.bottomStyle.display="none",this.startStyle.display="none",this.endStyle.display="none",this.cornerStyle.display="none",ql()&&this.instance.getSetting("isDataViewInstance")&&(this.selectionHandles.styles.top.display="none",this.selectionHandles.styles.topHitArea.display="none",this.selectionHandles.styles.bottom.display="none",this.selectionHandles.styles.bottomHitArea.display="none")}destroy(){this.eventManager.destroyWithOwnEventsOnly(),this.main.parentNode.removeChild(this.main)}},l6=a6;function r2t(e,t){DX(e,t),t.add(e)}function Sy(e,t,r){DX(e,t),t.set(e,r)}function DX(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ar(e,t){return e.get(h6(e,t))}function IX(e,t,r){return e.set(h6(e,t),r),r}function h6(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var Ca=new WeakMap,yl=new WeakMap,c6=new WeakMap,KC=new WeakMap,d6=new WeakMap,a0=new WeakMap,kX=new WeakSet,bA=class{constructor(t){r2t(this,kX),Sy(this,Ca,void 0),Sy(this,yl,void 0),Sy(this,c6,new gA),Sy(this,KC,new WeakMap),Sy(this,d6,new WeakSet),Sy(this,a0,new Map),IX(yl,this,t)}setActiveOverlay(t){return IX(Ca,this,t),Ar(c6,this).setActiveOverlay(Ar(Ca,this)),Ar(KC,this).has(Ar(Ca,this))||Ar(KC,this).set(Ar(Ca,this),new Set),this}getFocusSelection(){return Ar(yl,this)!==null?Ar(yl,this).getFocus():null}getAreaSelection(){return Ar(yl,this)!==null?Ar(yl,this).createLayeredArea():null}getBorderInstance(t){if(!t.settings.border)return null;if(Ar(a0,this).has(t)){let i=Ar(a0,this).get(t);if(i.has(Ar(Ca,this)))return i.get(Ar(Ca,this));let n=new l6(Ar(Ca,this),t.settings);return i.set(Ar(Ca,this),n),n}let r=new l6(Ar(Ca,this),t.settings);return Ar(a0,this).set(t,new Map([[Ar(Ca,this),r]])),r}getBorderInstances(t){var r,i;return Array.from((r=(i=Ar(a0,this).get(t))===null||i===void 0?void 0:i.values())!==null&&r!==void 0?r:[])}destroyBorders(t){Ar(a0,this).get(t).forEach(r=>r.destroy()),Ar(a0,this).delete(t)}render(t){if(Ar(yl,this)===null)return;t&&h6(kX,this,n2t).call(this);let r=Array.from(Ar(yl,this)),i=new Map,n=new Map;for(let o=0;o<r.length;o++){let s=r[o],{className:a,headerAttributes:l,createLayers:c,selectionType:d}=s.settings;Ar(d6,this).has(s)||(Ar(d6,this).add(s),s.addLocalHook("destroy",()=>this.destroyBorders(s)));let h=this.getBorderInstance(s);if(s.isEmpty()){h?.disappear();continue}a&&Ar(c6,this).setActiveSelection(s).scan().forEach(m=>{if(i.has(m)){let g=i.get(m);g.has(a)&&c===!0?g.set(a,g.get(a)+1):g.set(a,1)}else i.set(m,new Map([[a,1]]));l&&(n.has(m)||n.set(m,[]),m.nodeName==="TH"&&n.get(m).push(...l))});let u=s.getCorners();Ar(Ca,this).getSetting("onBeforeDrawBorders",u,d),h?.appear(u)}i.forEach((o,s)=>{var a;let l=Array.from(o).map(c=>{let[d,h]=c;return h===1?d:[d,...Array.from({length:h-1},(u,f)=>`${d}-${f+1}`)]}).flat();l.forEach(c=>Ar(KC,this).get(Ar(Ca,this)).add(c)),re(s,l),s.nodeName==="TD"&&Array.isArray((a=Ar(yl,this).options)===null||a===void 0?void 0:a.cellAttributes)&&Ke(s,Ar(yl,this).options.cellAttributes)}),Array.from(n.keys()).forEach(o=>{Ke(o,[...n.get(o)])})}};function n2t(){let e=Ar(KC,this).get(Ar(Ca,this)),t=Ar(Ca,this).wtSettings.getSetting("onBeforeRemoveCellClassNames");if(Array.isArray(t))for(let r=0;r<t.length;r++)e.add(t[r]);e.forEach(r=>{var i,n;let o=Ar(Ca,this).wtTable.TABLE.querySelectorAll(`.${r}`),s=[];Array.isArray((i=Ar(yl,this).options)===null||i===void 0?void 0:i.cellAttributes)&&(s=Ar(yl,this).options.cellAttributes.map(a=>a[0])),Array.isArray((n=Ar(yl,this).options)===null||n===void 0?void 0:n.headerAttributes)&&(s=[...s,...Ar(yl,this).options.headerAttributes.map(a=>a[0])]);for(let a=0,l=o.length;a<l;a++)pi(o[a],r),Dc(o[a],s)}),e.clear()}var XC=class extends Vc{constructor(t,r,i,n){super(t,r,kd,i,n)}createTable(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return new EX(...r)}shouldBeRendered(){return this.wtSettings.getSetting("shouldRenderInlineStartOverlay")}resetFixedPosition(){let{wtTable:t}=this.wot;if(!this.needFullRender||!this.shouldBeRendered()||!t.holder.parentNode)return!1;let{rootWindow:r}=this.domBindings,i=this.clone.wtTable.holder.parentNode,n=this.wtSettings.getSetting("preventOverflow"),o=0;this.trimmingContainer===r&&(!n||n!=="horizontal")?(o=this.getOverlayOffset()*(this.isRtl()?-1:1),iy(i,`${o}px`,"0px")):(o=this.getScrollPosition(),qm(i));let s=this.adjustHeaderBordersPosition(o);return this.adjustElementsSize(),s}setScrollPosition(t){let{rootWindow:r}=this.domBindings,i=!1;return this.isRtl()&&(t=-t),this.mainTableScrollableElement===r&&r.scrollX!==t?(r.scrollTo(t,pN(r)),i=!0):this.mainTableScrollableElement.scrollLeft!==t&&(this.mainTableScrollableElement.scrollLeft=t,i=!0),i}onScroll(){this.wtSettings.getSetting("onScrollVertically")}sumCellSizes(t,r){let i=this.wtSettings.getSetting("defaultColumnWidth"),n=t,o=0;for(;n<r;)o+=this.wot.wtTable.getStretchedColumnWidth(n)||i,n+=1;return o}adjustElementsSize(){this.updateTrimmingContainer(),this.needFullRender&&(this.adjustRootElementSize(),this.adjustRootChildrenSize())}adjustRootElementSize(){let{wtTable:t}=this.wot,{rootDocument:r,rootWindow:i}=this.domBindings,n=Rn(r),s=this.clone.wtTable.holder.parentNode.style,a=this.wtSettings.getSetting("preventOverflow");if(this.trimmingContainer!==i||a==="vertical"){let c=this.wot.wtViewport.getWorkspaceHeight();this.wot.wtOverlays.hasScrollbarBottom&&(c-=n),c=Math.min(c,t.wtRootElement.scrollHeight),s.height=`${c}px`}else s.height="";this.clone.wtTable.holder.style.height=s.height;let l=yr(this.clone.wtTable.TABLE);s.width=`${l}px`}adjustRootChildrenSize(){let{holder:t}=this.clone.wtTable,r=this.wot.selectionManager.getFocusSelection()?parseInt(xy.width,10)/2:0;this.clone.wtTable.hider.style.height=this.hider.style.height,t.style.height=t.parentNode.style.height,t.style.width=`${parseInt(t.parentNode.style.width,10)+r}px`}applyToDOM(){let t=this.wtSettings.getSetting("totalColumns"),r=this.isRtl()?"right":"left";if(typeof this.wot.wtViewport.columnsRenderCalculator.startPosition=="number")this.spreader.style[r]=`${this.wot.wtViewport.columnsRenderCalculator.startPosition}px`;else if(t===0)this.spreader.style[r]="0";else throw new Error("Incorrect value of the columnsRenderCalculator");this.isRtl()?this.spreader.style.left="":this.spreader.style.right="",this.needFullRender&&this.syncOverlayOffset()}syncOverlayOffset(){typeof this.wot.wtViewport.rowsRenderCalculator.startPosition=="number"?this.clone.wtTable.spreader.style.top=`${this.wot.wtViewport.rowsRenderCalculator.startPosition}px`:this.clone.wtTable.spreader.style.top=""}scrollTo(t,r){let{wtSettings:i}=this,n=i.getSetting("rowHeaders"),o=i.getSetting("fixedColumnsStart"),a=(this.wot.cloneSource?this.wot.cloneSource:this.wot).wtTable.holder,l=o===0&&n.length>0&&!Xe(a.parentNode,"innerBorderInlineStart")?1:0,c=this.getTableParentOffset(),d=0;if(r){let h=this.wot.wtTable.getColumnWidth(t),u=this.wot.wtViewport.getViewportWidth();h>u&&(r=!1)}return r&&a.offsetWidth!==a.clientWidth&&(d=Rn(this.domBindings.rootDocument)),r?(c+=this.sumCellSizes(0,t+1),c-=this.wot.wtViewport.getViewportWidth(),c+=l):c+=this.sumCellSizes(this.wtSettings.getSetting("fixedColumnsStart"),t),c+=d,eK(this.mainTableScrollableElement)===c-l&&l>0&&this.wot.wtOverlays.expandHiderHorizontallyBy(l),this.setScrollPosition(c)}getTableParentOffset(){let t=this.wtSettings.getSetting("preventOverflow"),r=0;return!t&&this.trimmingContainer===this.domBindings.rootWindow&&(r=this.wot.wtTable.holderOffset.left),r}getScrollPosition(){return Math.abs(uM(this.mainTableScrollableElement,this.domBindings.rootWindow))}getOverlayOffset(){let{rootWindow:t}=this.domBindings,r=this.wtSettings.getSetting("preventOverflow"),i=0;if(this.trimmingContainer===t&&(!r||r!=="horizontal")){this.isRtl()?i=Math.abs(Math.min(this.getTableParentOffset()-this.getScrollPosition(),0)):i=Math.max(this.getScrollPosition()-this.getTableParentOffset(),0);let n=this.wot.wtTable.getTotalWidth(),o=this.clone.wtTable.getTotalWidth(),s=n-o;i>s&&(i=0)}return i}adjustHeaderBordersPosition(t){let{wtSettings:r}=this,i=this.wot.wtTable.holder.parentNode,n=r.getSetting("rowHeaders"),o=r.getSetting("fixedColumnsStart"),s=r.getSetting("totalRows"),a=r.getSetting("preventOverflow")==="vertical";s?pi(i,"emptyRows"):re(i,"emptyRows");let l=!1;if(!a){if(o&&!n.length)re(i,"innerBorderLeft innerBorderInlineStart");else if(!o&&n.length){let c=Xe(i,"innerBorderInlineStart");t?(re(i,"innerBorderLeft innerBorderInlineStart"),l=!c):(pi(i,"innerBorderLeft innerBorderInlineStart"),l=c)}}return l}};var EZt=ot(qt(),1);var o2t="stickyRowsTop",OX={getFirstRenderedRow(){return this.wtSettings.getSetting("totalRows")===0?-1:0},getFirstVisibleRow(){return this.getFirstRenderedRow()},getFirstPartiallyVisibleRow(){return this.getFirstRenderedRow()},getLastRenderedRow(){return this.getRenderedRowsCount()-1},getLastVisibleRow(){return this.getLastRenderedRow()},getLastPartiallyVisibleRow(){return this.getLastRenderedRow()},getRenderedRowsCount(){let e=this.wtSettings.getSetting("totalRows");return Math.min(this.wtSettings.getSetting("fixedRowsTop"),e)},getVisibleRowsCount(){return this.getRenderedRowsCount()},getColumnHeadersCount(){return this.dataAccessObject.columnHeaders.length}};Ls(OX,"MIXIN_NAME",o2t,{writable:!1,enumerable:!1});var vA=OX;var ZC=class extends jc{constructor(t,r,i,n){super(t,r,i,n,Yh)}};Zi(ZC,vA);Zi(ZC,_y);var PX=ZC;function NX(e,t,r){return t=s2t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s2t(e){var t=a2t(e,"string");return typeof t=="symbol"?t:t+""}function a2t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QC=class extends Vc{constructor(t,r,i,n,o,s){super(t,r,Yh,i,n),NX(this,"topOverlay",void 0),NX(this,"inlineStartOverlay",void 0),this.topOverlay=o,this.inlineStartOverlay=s}createTable(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return new PX(...r)}shouldBeRendered(){return this.wtSettings.getSetting("shouldRenderTopOverlay")&&this.wtSettings.getSetting("shouldRenderInlineStartOverlay")}resetFixedPosition(){if(this.updateTrimmingContainer(),!this.wot.wtTable.holder.parentNode)return!1;let t=this.clone.wtTable.holder.parentNode;if(this.trimmingContainer===this.domBindings.rootWindow){let n=this.inlineStartOverlay.getOverlayOffset()*(this.isRtl()?-1:1),o=this.topOverlay.getOverlayOffset();iy(t,`${n}px`,`${o}px`)}else qm(t);let r=Nr(this.clone.wtTable.TABLE),i=yr(this.clone.wtTable.TABLE);return this.wot.wtTable.hasDefinedSize()||(r=0),t.style.height=`${r}px`,t.style.width=`${i}px`,!1}};var FZt=ot(qt(),1);var JC=class extends jc{constructor(t,r,i,n){super(t,r,i,n,Id)}};Zi(JC,vA);Zi(JC,wy);var LX=JC;function l2t(e,t,r){return t=c2t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c2t(e){var t=d2t(e,"string");return typeof t=="symbol"?t:t+""}function d2t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tx=class extends Vc{constructor(t,r,i,n){super(t,r,Id,i,n),l2t(this,"cachedFixedRowsTop",-1),this.cachedFixedRowsTop=this.wtSettings.getSetting("fixedRowsTop")}createTable(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return new LX(...r)}shouldBeRendered(){return this.wtSettings.getSetting("shouldRenderTopOverlay")}resetFixedPosition(){if(!this.needFullRender||!this.shouldBeRendered()||!this.wot.wtTable.holder.parentNode)return!1;let t=this.clone.wtTable.holder.parentNode,{rootWindow:r}=this.domBindings,i=this.wtSettings.getSetting("preventOverflow"),n=0,o=!1;if(this.trimmingContainer===r&&(!i||i!=="vertical")){let{wtTable:a}=this.wot,l=a.hider.getBoundingClientRect(),c=Math.ceil(l.bottom),d=t.offsetHeight;o=c===d,n=this.getOverlayOffset(),iy(t,"0px",`${n}px`)}else n=this.getScrollPosition(),qm(t);let s=this.adjustHeaderBordersPosition(n,o);return this.adjustElementsSize(),s}setScrollPosition(t){let r=this.domBindings.rootWindow,i=!1;return this.mainTableScrollableElement===r&&r.scrollY!==t?(r.scrollTo(CC(r),t),i=!0):this.mainTableScrollableElement.scrollTop!==t&&(this.mainTableScrollableElement.scrollTop=t,i=!0),i}onScroll(){this.wtSettings.getSetting("onScrollHorizontally")}sumCellSizes(t,r){let i=this.wtSettings.getSetting("defaultRowHeight"),n=t,o=0;for(;n<r;){let s=this.wot.wtTable.getRowHeight(n);o+=s===void 0?i:s,n+=1}return o}adjustElementsSize(){this.updateTrimmingContainer(),this.needFullRender&&(this.adjustRootElementSize(),this.adjustRootChildrenSize())}adjustRootElementSize(){let{wtTable:t}=this.wot,{rootDocument:r,rootWindow:i}=this.domBindings,n=Rn(r),s=this.clone.wtTable.holder.parentNode.style,a=this.wtSettings.getSetting("preventOverflow");if(this.trimmingContainer!==i||a==="horizontal"){let c=this.wot.wtViewport.getWorkspaceWidth();this.wot.wtOverlays.hasScrollbarRight&&(c-=n),c=Math.min(c,t.wtRootElement.scrollWidth),s.width=`${c}px`}else s.width="";this.clone.wtTable.holder.style.width=s.width;let l=Nr(this.clone.wtTable.TABLE);this.wot.wtTable.hasDefinedSize()||(l=0),s.height=`${l}px`}adjustRootChildrenSize(){let{holder:t}=this.clone.wtTable,r=this.wot.selectionManager.getFocusSelection()?parseInt(xy.height,10)/2:0;this.clone.wtTable.hider.style.width=this.hider.style.width,t.style.width=t.parentNode.style.width,t.style.height=`${parseInt(t.parentNode.style.height,10)+r}px`}applyToDOM(){let t=this.wtSettings.getSetting("totalRows");if(typeof this.wot.wtViewport.rowsRenderCalculator.startPosition=="number")this.spreader.style.top=`${this.wot.wtViewport.rowsRenderCalculator.startPosition}px`;else if(t===0)this.spreader.style.top="0";else throw new Error("Incorrect value of the rowsRenderCalculator");this.spreader.style.bottom="",this.needFullRender&&this.syncOverlayOffset()}syncOverlayOffset(){let t=this.isRtl()?"right":"left",{spreader:r}=this.clone.wtTable;typeof this.wot.wtViewport.columnsRenderCalculator.startPosition=="number"?r.style[t]=`${this.wot.wtViewport.columnsRenderCalculator.startPosition}px`:r.style[t]=""}scrollTo(t,r){let{wot:i,wtSettings:n}=this,s=(i.cloneSource?i.cloneSource:i).wtTable.holder,a=n.getSetting("columnHeaders"),c=n.getSetting("fixedRowsTop")===0&&a.length>0&&!Xe(s.parentNode,"innerBorderTop")?1:0,d=this.getTableParentOffset(),h=0;if(r){let u=this.wot.wtTable.getRowHeight(t),f=this.wot.wtViewport.getViewportHeight();u>f&&(r=!1)}if(r&&s.offsetHeight!==s.clientHeight&&(h=Rn(this.domBindings.rootDocument)),r){let u=n.getSetting("fixedRowsBottom"),f=n.getSetting("totalRows");d+=this.sumCellSizes(0,t+1),d-=i.wtViewport.getViewportHeight()-this.sumCellSizes(f-u,f),d+=1,d+=c}else d+=this.sumCellSizes(n.getSetting("fixedRowsTop"),t);return d+=h,tK(this.mainTableScrollableElement)===d-c&&c>0&&this.wot.wtOverlays.expandHiderVerticallyBy(c),this.setScrollPosition(d)}getTableParentOffset(){return this.mainTableScrollableElement===this.domBindings.rootWindow?this.wot.wtTable.holderOffset.top:0}getScrollPosition(){return ty(this.mainTableScrollableElement,this.domBindings.rootWindow)}getOverlayOffset(){let{rootWindow:t}=this.domBindings,r=this.wtSettings.getSetting("preventOverflow"),i=0;if(this.trimmingContainer===t&&(!r||r!=="vertical")){let n=this.wot.wtTable.getTotalHeight(),o=this.clone.wtTable.getTotalHeight(),s=n-o;i=Math.max(this.getScrollPosition()-this.getTableParentOffset(),0),i>s&&(i=0)}return i}adjustHeaderBordersPosition(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,{wtSettings:i}=this,n=this.wot.wtTable.holder.parentNode,o=i.getSetting("totalColumns"),s=i.getSetting("preventOverflow")==="horizontal";o?pi(n,"emptyColumns"):re(n,"emptyColumns");let a=!1;if(!r&&!s){let l=i.getSetting("fixedRowsTop"),c=this.cachedFixedRowsTop!==l,d=i.getSetting("columnHeaders");if((c||l===0)&&d.length>0){let h=Xe(n,"innerBorderTop");this.cachedFixedRowsTop=i.getSetting("fixedRowsTop"),t||i.getSetting("totalRows")===0?(re(n,"innerBorderTop"),a=!h):(pi(n,"innerBorderTop"),a=h)}}return a}};function FX(e,t,r){h2t(e,t),t.set(e,r)}function h2t(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function df(e,t,r){return t=u2t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u2t(e){var t=f2t(e,"string");return typeof t=="symbol"?t:t+""}function f2t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u6(e,t,r){return e.set(HX(e,t),r),r}function ex(e,t){return e.get(HX(e,t))}function HX(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var Ey=new WeakMap,yA=new WeakMap,f6=class{constructor(t,r,i,n,o,s){df(this,"wot",null),FX(this,Ey,[]),df(this,"topOverlay",null),df(this,"bottomOverlay",null),df(this,"inlineStartOverlay",null),df(this,"topInlineStartCornerOverlay",null),df(this,"bottomInlineStartCornerOverlay",null),df(this,"browserLineHeight",void 0),df(this,"wtSettings",null),FX(this,yA,!1),df(this,"resizeObserver",new ResizeObserver(d=>{ay(()=>{!Array.isArray(d)||!d.length||this.wtSettings.getSetting("onContainerElementResize")})})),this.wot=t,this.wtSettings=n,this.domBindings=i,this.facadeGetter=r,this.wtTable=s;let{rootDocument:a,rootWindow:l}=this.domBindings;this.instance=this.wot,this.eventManager=o,this.scrollbarSize=Rn(a);let c=l.getComputedStyle(s.wtRootElement.parentNode).getPropertyValue("overflow")==="hidden";this.scrollableElement=c?s.holder:ey(s.TABLE),this.initOverlays(),this.hasScrollbarBottom=!1,this.hasScrollbarRight=!1,this.destroyed=!1,this.keyPressed=!1,this.spreaderLastSize={width:null,height:null},this.verticalScrolling=!1,this.horizontalScrolling=!1,this.initBrowserLineHeight(),this.registerListeners(),this.lastScrollX=l.scrollX,this.lastScrollY=l.scrollY}getOverlays(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=[...ex(Ey,this)];return t&&r.push(this.wtTable),r}initBrowserLineHeight(){let{rootWindow:t,rootDocument:r}=this.domBindings,i=t.getComputedStyle(r.body),n=parseInt(i.lineHeight,10),o=parseInt(i.fontSize,10)*1.2;this.browserLineHeight=n||o}initOverlays(){let t=[this.wot,this.facadeGetter,this.wtSettings,this.domBindings];this.topOverlay=new tx(...t),this.bottomOverlay=new $C(...t),this.inlineStartOverlay=new XC(...t),this.topInlineStartCornerOverlay=new QC(...t,this.topOverlay,this.inlineStartOverlay),this.bottomInlineStartCornerOverlay=new WC(...t,this.bottomOverlay,this.inlineStartOverlay),u6(Ey,this,[this.topOverlay,this.bottomOverlay,this.inlineStartOverlay,this.topInlineStartCornerOverlay,this.bottomInlineStartCornerOverlay])}beforeDraw(){u6(yA,this,ex(Ey,this).reduce((t,r)=>r.hasRenderingStateChanged()||t,!1)),ex(Ey,this).forEach(t=>t.updateStateOfRendering("before"))}afterDraw(){this.syncScrollWithMaster(),ex(Ey,this).forEach(t=>{let r=t.hasRenderingStateChanged();t.updateStateOfRendering("after"),r&&!t.needFullRender&&t.reset()})}refreshAll(){if(this.wot.drawn){if(!this.wtTable.holder.parentNode){this.destroy();return}this.wot.draw(!0),this.verticalScrolling&&this.inlineStartOverlay.onScroll(),this.horizontalScrolling&&this.topOverlay.onScroll(),this.verticalScrolling=!1,this.horizontalScrolling=!1}}registerListeners(){let{rootDocument:t,rootWindow:r}=this.domBindings,{mainTableScrollableElement:i}=this.topOverlay,{mainTableScrollableElement:n}=this.inlineStartOverlay;this.eventManager.addEventListener(t.documentElement,"keydown",h=>this.onKeyDown(h)),this.eventManager.addEventListener(t.documentElement,"keyup",()=>this.onKeyUp()),this.eventManager.addEventListener(t,"visibilitychange",()=>this.onKeyUp()),this.eventManager.addEventListener(i,"scroll",h=>this.onTableScroll(h),{passive:!0}),i!==n&&this.eventManager.addEventListener(n,"scroll",h=>this.onTableScroll(h),{passive:!0});let o=r.devicePixelRatio&&r.devicePixelRatio>1,s=this.scrollableElement===r,a=this.wtSettings.getSetting("preventWheel"),l={passive:s};(a||o||!CM())&&this.eventManager.addEventListener(this.wtTable.wtRootElement,"wheel",h=>this.onCloneWheel(h,a),l),[this.topOverlay,this.bottomOverlay,this.inlineStartOverlay,this.topInlineStartCornerOverlay,this.bottomInlineStartCornerOverlay].forEach(h=>{if(h&&h.needFullRender){let{holder:u}=h.clone.wtTable;this.eventManager.addEventListener(u,"wheel",f=>this.onCloneWheel(f,a),l)}});let d;this.eventManager.addEventListener(r,"resize",()=>{clearTimeout(d),d=setTimeout(()=>{this.wtSettings.getSetting("onWindowResize")},200)}),s||this.resizeObserver.observe(this.wtTable.wtRootElement.parentElement)}deregisterListeners(){this.eventManager.clearEvents(!0)}onTableScroll(t){let r=this.domBindings.rootWindow,i=this.inlineStartOverlay.mainTableScrollableElement,n=this.topOverlay.mainTableScrollableElement,o=t.target;this.keyPressed&&(n!==r&&o!==r&&!t.target.contains(n)||i!==r&&o!==r&&!t.target.contains(i))||this.syncScrollPositions(t)}onCloneWheel(t,r){let{rootWindow:i}=this.domBindings,n=this.inlineStartOverlay.mainTableScrollableElement,o=this.topOverlay.mainTableScrollableElement,s=t.target,a=o!==i&&s!==i&&!s.contains(o),l=n!==i&&s!==i&&!s.contains(n);if(this.keyPressed&&(a||l))return;let c=this.translateMouseWheelToScroll(t);(r||this.scrollableElement!==i&&c)&&t.preventDefault()}onKeyDown(t){this.keyPressed=Bh(t.keyCode,"ARROW_UP|ARROW_RIGHT|ARROW_DOWN|ARROW_LEFT")}onKeyUp(){this.keyPressed=!1}translateMouseWheelToScroll(t){let r=isNaN(t.deltaY)?-1*t.wheelDeltaY:t.deltaY,i=isNaN(t.deltaX)?-1*t.wheelDeltaX:t.deltaX;t.deltaMode===1&&(i+=i*this.browserLineHeight,r+=r*this.browserLineHeight);let n=this.scrollVertically(r),o=this.scrollHorizontally(i);return n||o}scrollVertically(t){let r=this.scrollableElement.scrollTop;return this.scrollableElement.scrollTop+=t,r!==this.scrollableElement.scrollTop}scrollHorizontally(t){let r=this.scrollableElement.scrollLeft;return this.scrollableElement.scrollLeft+=t,r!==this.scrollableElement.scrollLeft}syncScrollPositions(){if(this.destroyed)return;let{rootWindow:t}=this.domBindings,r=this.topOverlay.clone.wtTable.holder,i=this.inlineStartOverlay.clone.wtTable.holder,[n,o]=[this.scrollableElement.scrollLeft,this.scrollableElement.scrollTop];if(this.horizontalScrolling=r.scrollLeft!==n||this.lastScrollX!==t.scrollX,this.verticalScrolling=i.scrollTop!==o||this.lastScrollY!==t.scrollY,this.lastScrollX=t.scrollX,this.lastScrollY=t.scrollY,this.horizontalScrolling){r.scrollLeft=n;let s=this.bottomOverlay.needFullRender?this.bottomOverlay.clone.wtTable.holder:null;s&&(s.scrollLeft=n)}this.verticalScrolling&&(i.scrollTop=o),this.refreshAll()}syncScrollWithMaster(){if(!ex(yA,this))return;let t=this.topOverlay.mainTableScrollableElement,{scrollLeft:r,scrollTop:i}=t;this.topOverlay.needFullRender&&(this.topOverlay.clone.wtTable.holder.scrollLeft=r),this.bottomOverlay.needFullRender&&(this.bottomOverlay.clone.wtTable.holder.scrollLeft=r),this.inlineStartOverlay.needFullRender&&(this.inlineStartOverlay.clone.wtTable.holder.scrollTop=i),u6(yA,this,!1)}updateMainScrollableElements(){this.deregisterListeners(),this.inlineStartOverlay.updateMainScrollableElement(),this.topOverlay.updateMainScrollableElement(),this.bottomOverlay.needFullRender&&this.bottomOverlay.updateMainScrollableElement();let{wtTable:t}=this,{rootWindow:r}=this.domBindings;r.getComputedStyle(t.wtRootElement.parentNode).getPropertyValue("overflow")==="hidden"?this.scrollableElement=t.holder:this.scrollableElement=ey(t.TABLE),this.registerListeners()}destroy(){this.resizeObserver.disconnect(),this.eventManager.destroy(),this.topOverlay.destroy(),this.bottomOverlay.clone&&this.bottomOverlay.destroy(),this.inlineStartOverlay.destroy(),this.topInlineStartCornerOverlay&&this.topInlineStartCornerOverlay.destroy(),this.bottomInlineStartCornerOverlay&&this.bottomInlineStartCornerOverlay.clone&&this.bottomInlineStartCornerOverlay.destroy(),this.destroyed=!0}refresh(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.updateLastSpreaderSize()&&this.adjustElementsSize(),this.bottomOverlay.clone&&this.bottomOverlay.refresh(t),this.inlineStartOverlay.refresh(t),this.topOverlay.refresh(t),this.topInlineStartCornerOverlay&&this.topInlineStartCornerOverlay.refresh(t),this.bottomInlineStartCornerOverlay&&this.bottomInlineStartCornerOverlay.clone&&this.bottomInlineStartCornerOverlay.refresh(t)}updateLastSpreaderSize(){let t=this.wtTable.spreader,r=t.clientWidth,i=t.clientHeight,n=r!==this.spreaderLastSize.width||i!==this.spreaderLastSize.height;return n&&(this.spreaderLastSize.width=r,this.spreaderLastSize.height=i),n}adjustElementsSize(){let{wtViewport:t}=this.wot,{wtTable:r}=this,{rootWindow:i}=this.domBindings,n=this.scrollableElement===i,o=this.wtSettings.getSetting("totalColumns"),s=this.wtSettings.getSetting("totalRows"),a=t.getRowHeaderWidth(),c=t.getColumnHeaderHeight()+this.topOverlay.sumCellSizes(0,s)+1,d=a+this.inlineStartOverlay.sumCellSizes(0,o),u=r.hider.style,f=()=>n?!1:this.scrollableElement.scrollTop>Math.max(0,c-r.holder.clientHeight),m=()=>n?!1:this.scrollableElement.scrollLeft>Math.max(0,d-r.holder.clientWidth),g=f()?1:0,p=m()?1:0;if(u.width=`${d+p}px`,u.height=`${c+g}px`,this.scrollbarSize>0){let{scrollHeight:b,scrollWidth:_}=r.wtRootElement,{scrollHeight:E,scrollWidth:O}=r.holder;this.hasScrollbarRight=b<E,this.hasScrollbarBottom=_<O,this.hasScrollbarRight&&r.hider.scrollWidth+this.scrollbarSize>_?this.hasScrollbarBottom=!0:this.hasScrollbarBottom&&r.hider.scrollHeight+this.scrollbarSize>b&&(this.hasScrollbarRight=!0)}this.topOverlay.adjustElementsSize(),this.inlineStartOverlay.adjustElementsSize(),this.bottomOverlay.adjustElementsSize()}expandHiderVerticallyBy(t){let{wtTable:r}=this;r.hider.style.height=`${parseInt(r.hider.style.height,10)+t}px`}expandHiderHorizontallyBy(t){let{wtTable:r}=this;r.hider.style.width=`${parseInt(r.hider.style.width,10)+t}px`}applyToDOM(){this.wtTable.isVisible()&&(this.topOverlay.applyToDOM(),this.bottomOverlay.clone&&this.bottomOverlay.applyToDOM(),this.inlineStartOverlay.applyToDOM())}getParentOverlay(t){if(!t)return null;let r=[this.topOverlay,this.inlineStartOverlay,this.bottomOverlay,this.topInlineStartCornerOverlay,this.bottomInlineStartCornerOverlay],i=null;return St(r,n=>{n&&n.clone&&n.clone.wtTable.TABLE.contains(t)&&(i=n.clone)}),i}syncOverlayTableClassNames(){let t=this.wtTable.TABLE,r=[this.topOverlay,this.inlineStartOverlay,this.bottomOverlay,this.topInlineStartCornerOverlay,this.bottomInlineStartCornerOverlay];St(r,i=>{i&&(i.clone.wtTable.TABLE.className=t.className)})}},BX=f6;var sQt=ot(qt(),1);function jX(e,t,r){return t=m2t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m2t(e){var t=p2t(e,"string");return typeof t=="symbol"?t:t+""}function p2t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _A=class{constructor(t){jX(this,"settings",{}),jX(this,"defaults",Object.freeze(this.getDefaults())),bi(this.defaults,(r,i)=>{if(t[i]!==void 0)this.settings[i]=t[i];else{if(r===void 0)throw new Error(`A required setting "${i}" was not provided`);this.settings[i]=r}})}getDefaults(){return{facade:void 0,table:void 0,isDataViewInstance:!0,externalRowCalculator:!1,stretchH:"none",currentRowClassName:null,currentColumnClassName:null,preventOverflow(){return!1},preventWheel:!1,data:void 0,freezeOverlays:!1,fixedColumnsStart:0,fixedRowsTop:0,fixedRowsBottom:0,shouldRenderInlineStartOverlay:()=>this.getSetting("fixedColumnsStart")>0||this.getSetting("rowHeaders").length>0,shouldRenderTopOverlay:()=>this.getSetting("fixedRowsTop")>0||this.getSetting("columnHeaders").length>0,shouldRenderBottomOverlay:()=>this.getSetting("fixedRowsBottom")>0,minSpareRows:0,rowHeaders(){return[]},columnHeaders(){return[]},totalRows:void 0,totalColumns:void 0,cellRenderer:(t,r,i)=>{let n=this.getSetting("data",t,r);Pc(i,n??"")},columnWidth(){},rowHeight(){},defaultRowHeight:23,defaultColumnWidth:50,selections:null,hideBorderOnMouseDownOver:!1,viewportRowCalculatorOverride:null,viewportColumnCalculatorOverride:null,onCellMouseDown:null,onCellContextMenu:null,onCellMouseOver:null,onCellMouseOut:null,onCellMouseUp:null,onCellDblClick:null,onCellCornerMouseDown:null,onCellCornerDblClick:null,beforeDraw:null,onDraw:null,onBeforeRemoveCellClassNames:null,onAfterDrawSelection:null,onBeforeDrawBorders:null,onBeforeViewportScrollHorizontally:t=>t,onBeforeViewportScrollVertically:t=>t,onScrollHorizontally:null,onScrollVertically:null,onBeforeTouchScroll:null,onAfterMomentumScroll:null,onBeforeStretchingColumnWidth:t=>t,onModifyRowHeaderWidth:null,onModifyGetCellCoords:null,onBeforeHighlightingRowHeader:t=>t,onBeforeHighlightingColumnHeader:t=>t,onWindowResize:null,onContainerElementResize:null,renderAllColumns:!1,renderAllRows:!1,groups:!1,rowHeaderWidth:null,columnHeaderHeight:null,headerClassName:null,rtlMode:!1,ariaTags:!0}}update(t,r){return r===void 0?bi(t,(i,n)=>{this.settings[n]=i}):this.settings[t]=r,this}getSetting(t,r,i,n,o){return typeof this.settings[t]=="function"?this.settings[t](r,i,n,o):r!==void 0&&Array.isArray(this.settings[t])?this.settings[t][r]:this.settings[t]}getSettingPure(t){return this.settings[t]}has(t){return!!this.settings[t]}};var ix=class extends jc{constructor(t,r,i,n){super(t,r,i,n,"master")}alignOverlaysWithTrimmingContainer(){let t=Rd(this.wtRootElement),{rootWindow:r}=this.domBindings;if(t===r)this.wtSettings.getSetting("preventOverflow")||(this.holder.style.overflow="visible",this.wtRootElement.style.overflow="visible");else{let i=t.parentElement,n=Ym(t,"height",r),o=Ym(t,"overflow",r),s=this.holder.style,{scrollWidth:a,scrollHeight:l}=t,c=t.offsetWidth,d=t.offsetHeight;if(i&&["auto","hidden","scroll"].includes(o)){let u=t.cloneNode(!1);u.style.overflow="auto",u.style.position="absolute",t.nextElementSibling?i.insertBefore(u,t.nextElementSibling):i.appendChild(u);let f=parseInt(Nc(u,r).height,10);i.removeChild(u),f===0&&(d=0)}d=Math.min(d,l),s.height=n==="auto"?"auto":`${d}px`,c=Math.min(c,a),s.width=`${c}px`,s.overflow="",this.hasTableHeight=s.height==="auto"?!0:d>0,this.hasTableWidth=c>0}this.isTableVisible=kc(this.TABLE)}markOversizedColumnHeaders(){let{wtSettings:t}=this,{wtViewport:r}=this.dataAccessObject,i="master",o=t.getSetting("columnHeaders").length;if(o&&!r.hasOversizedColumnHeadersMarked[i]){let a=t.getSetting("rowHeaders").length,l=this.getRenderedColumnsCount();for(let c=0;c<o;c++)for(let d=-1*a;d<l;d++)this.markIfOversizedColumnHeader(d);r.hasOversizedColumnHeadersMarked[i]=!0}}};Zi(ix,lA);Zi(ix,wy);var VX=ix;var m6=class{constructor(t,r,i,n,o){this.dataAccessObject=t,this.wot=t.wot,this.instance=this.wot,this.domBindings=r,this.wtSettings=i,this.wtTable=o,this.oversizedRows=[],this.oversizedColumnHeaders=[],this.hasOversizedColumnHeadersMarked={},this.clientHeight=0,this.containerWidth=NaN,this.rowHeaderWidth=NaN,this.rowsVisibleCalculator=null,this.columnsVisibleCalculator=null,this.eventManager=n,this.eventManager.addEventListener(this.domBindings.rootWindow,"resize",()=>{this.clientHeight=this.getWorkspaceHeight()})}getWorkspaceHeight(){let t=this.domBindings.rootDocument,r=this.dataAccessObject.topOverlayTrimmingContainer,i=0;return r===this.domBindings.rootWindow?i=t.documentElement.clientHeight:i=Nr(r)>0&&r.clientHeight>0?r.clientHeight:1/0,i}getWorkspaceWidth(){let{wtSettings:t}=this,{rootDocument:r,rootWindow:i}=this.domBindings,n=this.dataAccessObject.inlineStartOverlayTrimmingContainer,o=r.documentElement.offsetWidth,s=t.getSetting("totalColumns"),a=t.getSetting("preventOverflow"),l=t.getSetting("rtlMode"),c=this.wtTable.TABLE.getBoundingClientRect(),d=l?c.right-o:c.left,h=o-d,u,f;if(a)return yr(this.wtTable.wtRootElement);if(t.getSetting("freezeOverlays")?u=Math.min(h,o):u=Math.min(this.getContainerFillWidth(),h,o),n===i&&s>0&&this.sumColumnWidths(0,s-1)>u)return r.documentElement.clientWidth;if(n!==i&&(f=Ym(this.dataAccessObject.inlineStartOverlayTrimmingContainer,"overflow",i),f==="scroll"||f==="hidden"||f==="auto"))return Math.max(u,n.clientWidth);let m=t.getSetting("stretchH");return m==="none"||!m?Math.max(u,yr(this.wtTable.TABLE)):u}hasVerticalScroll(){return this.wtTable.hider.offsetHeight>this.getWorkspaceHeight()}hasHorizontalScroll(){return this.wtTable.hider.offsetWidth>this.getWorkspaceWidth()}sumColumnWidths(t,r){let i=0,n=t;for(;n<r;)i+=this.wtTable.getColumnWidth(n),n+=1;return i}getContainerFillWidth(){if(this.containerWidth)return this.containerWidth;let t=this.wtTable.holder,r=this.domBindings.rootDocument.createElement("div");r.style.width="100%",r.style.height="1px",t.appendChild(r);let i=r.offsetWidth;return this.containerWidth=i,t.removeChild(r),i}getWorkspaceOffset(){return Kn(this.wtTable.TABLE)}getColumnHeaderHeight(){return this.wtSettings.getSetting("columnHeaders").length?isNaN(this.columnHeaderHeight)&&(this.columnHeaderHeight=Nr(this.wtTable.THEAD)):this.columnHeaderHeight=0,this.columnHeaderHeight}getViewportHeight(){let t=this.getWorkspaceHeight();if(t===1/0)return t;let r=this.getColumnHeaderHeight();return r>0&&(t-=r),t}getRowHeaderWidth(){let t=this.wtSettings.getSetting("rowHeaderWidth"),r=this.wtSettings.getSetting("rowHeaders");if(t){this.rowHeaderWidth=0;for(let i=0,n=r.length;i<n;i++)this.rowHeaderWidth+=t[i]||t}if(isNaN(this.rowHeaderWidth))if(r.length){let i=this.wtTable.TABLE.querySelector("TH");this.rowHeaderWidth=0;for(let n=0,o=r.length;n<o;n++)i?(this.rowHeaderWidth+=yr(i),i=i.nextSibling):this.rowHeaderWidth+=50}else this.rowHeaderWidth=0;return this.rowHeaderWidth=this.wtSettings.getSetting("onModifyRowHeaderWidth",this.rowHeaderWidth)||this.rowHeaderWidth,this.rowHeaderWidth}getViewportWidth(){let t=this.getWorkspaceWidth();if(t===1/0)return t;let r=this.getRowHeaderWidth();return r>0?t-r:t}createRowsCalculator(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,{wtSettings:r,wtTable:i}=this;if(r.getSetting("renderAllRows")&&t===1)return new DC({totalRows:r.getSetting("totalRows")});let n=this.getViewportHeight(),o,s;this.rowHeaderWidth=NaN;let a=this.dataAccessObject.topScrollPosition-this.dataAccessObject.topParentOffset,l=r.getSetting("fixedRowsTop"),c=r.getSetting("fixedRowsBottom"),d=r.getSetting("totalRows");return l&&a>=0&&(s=this.dataAccessObject.topOverlay.sumCellSizes(0,l),a+=s,n-=s),c&&this.dataAccessObject.bottomOverlay.clone&&(s=this.dataAccessObject.bottomOverlay.sumCellSizes(d-c,d),n-=s),i.holder.clientHeight===i.holder.offsetHeight?o=0:o=Rn(this.domBindings.rootDocument),new ep({viewportHeight:n,scrollOffset:a,totalRows:r.getSetting("totalRows"),rowHeightFn:h=>i.getRowHeight(h),overrideFn:r.getSettingPure("viewportRowCalculatorOverride"),calculationType:t,horizontalScrollbarHeight:o})}createColumnsCalculator(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,{wtSettings:r,wtTable:i}=this;if(r.getSetting("renderAllColumns")&&t===1)return new kC({totalColumns:r.getSetting("totalColumns")});let n=this.getViewportWidth(),o=Math.abs(this.dataAccessObject.inlineStartScrollPosition)-this.dataAccessObject.inlineStartParentOffset;this.columnHeaderHeight=NaN;let s=r.getSetting("fixedColumnsStart");if(s&&o>=0){let a=this.dataAccessObject.inlineStartOverlay.sumCellSizes(0,s);o+=a,n-=a}return i.holder.clientWidth!==i.holder.offsetWidth&&(n-=Rn(this.domBindings.rootDocument)),new Vh({viewportWidth:n,scrollOffset:o,totalColumns:r.getSetting("totalColumns"),columnWidthFn:a=>i.getColumnWidth(a),overrideFn:r.getSettingPure("viewportColumnCalculatorOverride"),calculationType:t,inlineStartOffset:this.dataAccessObject.inlineStartParentOffset})}createRenderCalculators(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,{wtSettings:r}=this;if(t&&!r.getSetting("renderAllRows")){let i=this.createRowsCalculator(2);t=this.areAllProposedVisibleRowsAlreadyRendered(i)}if(t&&!r.getSetting("renderAllColumns")){let i=this.createColumnsCalculator(2);t=this.areAllProposedVisibleColumnsAlreadyRendered(i)}return t||(this.rowsRenderCalculator=this.createRowsCalculator(1),this.columnsRenderCalculator=this.createColumnsCalculator(1)),this.rowsVisibleCalculator=null,this.columnsVisibleCalculator=null,t}createVisibleCalculators(){this.rowsVisibleCalculator=this.createRowsCalculator(2),this.columnsVisibleCalculator=this.createColumnsCalculator(2)}createPartiallyVisibleCalculators(){this.rowsPartiallyVisibleCalculator=this.createRowsCalculator(3),this.columnsPartiallyVisibleCalculator=this.createColumnsCalculator(3)}areAllProposedVisibleRowsAlreadyRendered(t){if(!this.rowsVisibleCalculator)return!1;let{startRow:r,endRow:i}=t;if(r===null&&i===null){if(!t.isVisibleInTrimmingContainer)return!0;r=this.rowsPartiallyVisibleCalculator.startRow,i=this.rowsPartiallyVisibleCalculator.endRow}let{startRow:n,endRow:o}=this.rowsRenderCalculator;return r<n||r===n&&r>0?!1:!(i>o||i===o&&i<this.wtSettings.getSetting("totalRows")-1)}areAllProposedVisibleColumnsAlreadyRendered(t){if(!this.columnsVisibleCalculator)return!1;let{startColumn:r,endColumn:i}=t;if(r===null&&i===null){if(!t.isVisibleInTrimmingContainer)return!0;r=this.columnsPartiallyVisibleCalculator.startColumn,i=this.columnsPartiallyVisibleCalculator.endColumn}let{startColumn:n,endColumn:o}=this.columnsRenderCalculator;return r<n||r===n&&r>0?!1:!(i>o||i===o&&i<this.wtSettings.getSetting("totalColumns")-1)}resetHasOversizedColumnHeadersMarked(){bi(this.hasOversizedColumnHeadersMarked,(t,r,i)=>{i[r]=void 0})}},UX=m6;var wA=class extends np{constructor(t,r){super(t,new _A(r));let i=this.wtSettings.getSetting("facade",this);this.wtTable=new VX(this.getTableDao(),i,this.domBindings,this.wtSettings),this.wtViewport=new UX(this.getViewportDao(),this.domBindings,this.wtSettings,this.eventManager,this.wtTable),this.selectionManager=new bA(this.wtSettings.getSetting("selections")),this.wtEvent=new VM(i,this.domBindings,this.wtSettings,this.eventManager,this.wtTable,this.selectionManager),this.wtOverlays=new BX(this,i,this.domBindings,this.wtSettings,this.eventManager,this.wtTable),this.exportSettingsAsClassNames(),this.findOriginalHeaders()}exportSettingsAsClassNames(){let t={rowHeaders:"htRowHeaders",columnHeaders:"htColumnHeaders"},r=[],i=[];bi(t,(n,o)=>{this.wtSettings.getSetting(o).length&&i.push(n),r.push(n)}),pi(this.wtTable.wtRootElement.parentNode,r),re(this.wtTable.wtRootElement.parentNode,i)}getViewportDao(){let t=this;return{get wot(){return t},get topOverlayTrimmingContainer(){return t.wtOverlays.topOverlay.trimmingContainer},get inlineStartOverlayTrimmingContainer(){return t.wtOverlays.inlineStartOverlay.trimmingContainer},get topScrollPosition(){return t.wtOverlays.topOverlay.getScrollPosition()},get topParentOffset(){return t.wtOverlays.topOverlay.getTableParentOffset()},get inlineStartScrollPosition(){return t.wtOverlays.inlineStartOverlay.getScrollPosition()},get inlineStartParentOffset(){return t.wtOverlays.inlineStartOverlay.getTableParentOffset()},get topOverlay(){return t.wtOverlays.topOverlay},get inlineStartOverlay(){return t.wtOverlays.inlineStartOverlay},get bottomOverlay(){return t.wtOverlays.bottomOverlay}}}};var rx=class e{constructor(t){t instanceof np?this._wot=t:this._initFromSettings(t)}_initFromSettings(t){t.facade=r=>{let i=new e(r);return()=>i},this._wot=new wA(t.table,t)}get guid(){return this._wot.guid}get rootDocument(){return this._wot.domBindings.rootDocument}get rootWindow(){return this._wot.domBindings.rootWindow}get wtSettings(){return this._wot.wtSettings}get cloneSource(){return this._wot.cloneSource}get cloneOverlay(){return this._wot.cloneOverlay}get selectionManager(){return this._wot.selectionManager}get wtViewport(){return this._wot.wtViewport}get wtOverlays(){return this._wot.wtOverlays}get wtTable(){return this._wot.wtTable}get wtEvent(){return this._wot.wtEvent}get wtScroll(){return this._wot.wtScroll}get drawn(){return this._wot.drawn}set drawn(t){this._wot.drawn=t}get drawInterrupted(){return this._wot.drawInterrupted}set drawInterrupted(t){this._wot.drawInterrupted=t}get lastMouseOver(){return this._wot.lastMouseOver}set lastMouseOver(t){this._wot.lastMouseOver=t}get momentumScrolling(){return this._wot.momentumScrolling}set momentumScrolling(t){this._wot.momentumScrolling=t}get touchApplied(){return this._wot.touchApplied}set touchApplied(t){this._wot.touchApplied=t}get domBindings(){return this._wot.domBindings}get eventListeners(){return this._wot.eventListeners}set eventListeners(t){this._wot.eventListeners=t}get eventManager(){return this._wot.eventManager}createCellCoords(t,r){return this._wot.createCellCoords(t,r)}createCellRange(t,r,i){return this._wot.createCellRange(t,r,i)}draw(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this._wot.draw(t),this}getCell(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this._wot.getCell(t,r)}scrollViewport(t,r,i,n,o){return this._wot.scrollViewport(t,r,i,n,o)}scrollViewportHorizontally(t,r,i){return this._wot.scrollViewportHorizontally(t,r,i)}scrollViewportVertically(t,r,i){return this._wot.scrollViewportVertically(t,r,i)}getViewport(){return this._wot.getViewport()}getOverlayName(){return this._wot.cloneOverlay?this._wot.cloneOverlay.type:"master"}exportSettingsAsClassNames(){return this._wot.exportSettingsAsClassNames()}update(t,r){return this._wot.wtSettings.update(t,r),this}getSetting(t,r,i,n,o){return this._wot.wtSettings.getSetting(t,r,i,n,o)}hasSetting(t){return this._wot.wtSettings.hasSetting(t)}destroy(){this._wot.destroy()}};function WX(e){let{isShiftKey:t,isLeftClick:r,isRightClick:i,coords:n,selection:o,controller:s,cellCoordsFactory:a}=e,l=o.isSelected()?o.getSelectedRange().current():null,c=o.isSelectedByCorner(),d=o.isSelectedByRowHeader();if(o.markSource("mouse"),t&&l)n.row>=0&&n.col>=0&&!s.cell?o.setRangeEnd(n):(c||d)&&n.row>=0&&n.col>=0&&!s.cell?o.setRangeEnd(a(n.row,n.col)):c&&n.row<0&&!s.column?o.setRangeEnd(a(l.to.row,n.col)):d&&n.col<0&&!s.row?o.setRangeEnd(a(n.row,l.to.col)):(!c&&!d&&n.col<0||c&&n.col<0)&&!s.row?o.selectRows(Math.max(l.from.row,0),n.row,n.col):(!c&&!d&&n.row<0||d&&n.row<0)&&!s.column&&o.selectColumns(Math.max(l.from.col,0),n.col,n.row);else{let h=!o.inInSelection(n),u=r||i&&h;n.row<0&&n.col>=0&&!s.column?u&&o.selectColumns(n.col,n.col,n.row):n.col<0&&n.row>=0&&!s.row?u&&o.selectRows(n.row,n.row,n.col):n.col>=0&&n.row>=0&&!s.cell?u&&o.setRangeStart(n):n.col<0&&n.row<0&&o.selectAll(!0,!0,{disableHeadersHighlight:!0,focusPosition:{row:0,col:0}})}o.markEndSource()}function g2t(e){let{isLeftClick:t,coords:r,selection:i,controller:n,cellCoordsFactory:o}=e;if(!t)return;let s=i.isSelectedByRowHeader(),a=i.isSelectedByColumnHeader(),l=i.tableProps.countCols(),c=i.tableProps.countRows();i.markSource("mouse"),a&&!n.column?i.setRangeEnd(o(c-1,r.col)):s&&!n.row?i.setRangeEnd(o(r.row,l-1)):n.cell||i.setRangeEnd(r),i.markEndSource()}var b2t=new Map([["mousedown",WX],["mouseover",g2t],["touchstart",WX]]);function p6(e,t){let{coords:r,selection:i,controller:n,cellCoordsFactory:o}=t;b2t.get(e.type)({coords:r,selection:i,controller:n,cellCoordsFactory:o,isShiftKey:e.shiftKey,isLeftClick:dy(e)||e.type==="touchstart",isRightClick:Gl(e)})}var YX=new WeakMap,CA=Symbol("rootInstance");function $X(e){YX.set(e,!0)}function qX(e){return e===CA}function Ry(e){return YX.has(e)}function v2t(e,t){GX(e,t),t.add(e)}function l0(e,t,r){GX(e,t),t.set(e,r)}function GX(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ap(e,t,r){return t=y2t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y2t(e){var t=_2t(e,"string");return typeof t=="symbol"?t:t+""}function _2t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function js(e,t){return e.get(nx(e,t))}function zc(e,t,r){return e.set(nx(e,t),r),r}function nx(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var g6=new WeakMap,xA=new WeakMap,SA=new WeakMap,hf=new WeakMap,Pd=new WeakMap,b6=new WeakMap,v6=new WeakMap,EA=new WeakSet,y6=class{constructor(t){v2t(this,EA),ap(this,"hot",void 0),ap(this,"eventManager",void 0),ap(this,"settings",void 0),ap(this,"THEAD",void 0),ap(this,"TBODY",void 0),ap(this,"_wt",void 0),ap(this,"activeWt",void 0),l0(this,g6,0),l0(this,xA,0),ap(this,"postponedAdjustElementsSize",!1),l0(this,SA,!1),l0(this,hf,void 0),l0(this,Pd,void 0),l0(this,b6,0),l0(this,v6,0),this.hot=t,this.eventManager=new Qo(this.hot),this.settings=this.hot.getSettings(),this.createElements(),this.registerEvents(),this.initializeWalkontable()}render(){this.hot.isRenderSuspended()||(this.hot.runHooks("beforeRender",this.hot.forceFullRender),this.postponedAdjustElementsSize&&(this.postponedAdjustElementsSize=!1,this.adjustElementsSize(!0)),this._wt.draw(!this.hot.forceFullRender),this.hot.runHooks("afterRender",this.hot.forceFullRender),this.hot.forceFullRender=!1,this.hot.renderCall=!1)}adjustElementsSize(){this.hot.isRenderSuspended()?this.postponedAdjustElementsSize=!0:this._wt.wtOverlays.adjustElementsSize()}getCellAtCoords(t,r){let i=this._wt.getCell(t,r);return i<0?null:i}scrollViewport(t,r,i,n,o){return this._wt.scrollViewport(t,r,i,n,o)}scrollViewportHorizontally(t,r,i){return this._wt.scrollViewportHorizontally(t,r,i)}scrollViewportVertically(t,r,i){return this._wt.scrollViewportVertically(t,r,i)}createElements(){let{rootElement:t,rootDocument:r}=this.hot,i=t.getAttribute("style");i&&t.setAttribute("data-originalstyle",i),re(t,"handsontable"),zc(Pd,this,r.createElement("TABLE")),re(js(Pd,this),"htCore"),this.hot.getSettings().tableClassName&&re(js(Pd,this),this.hot.getSettings().tableClassName),this.settings.ariaTags&&(Ke(js(Pd,this),[Ua()]),Ke(t,[RG(),dM(-1),Zv(this.hot.countCols()),BG()])),this.THEAD=r.createElement("THEAD"),js(Pd,this).appendChild(this.THEAD),this.TBODY=r.createElement("TBODY"),js(Pd,this).appendChild(this.TBODY),this.hot.table=js(Pd,this),this.hot.container.insertBefore(js(Pd,this),this.hot.container.firstChild)}registerEvents(){let{rootElement:t,rootDocument:r,selection:i,rootWindow:n}=this.hot,o=r.documentElement;this.eventManager.addEventListener(t,"mousedown",a=>{zc(SA,this,!0),this.isTextSelectionAllowed(a.target)||(gN(n),a.preventDefault(),n.focus())}),this.eventManager.addEventListener(t,"mouseup",()=>{zc(SA,this,!1)}),this.eventManager.addEventListener(t,"mousemove",a=>{js(SA,this)&&!this.isTextSelectionAllowed(a.target)&&(this.settings.fragmentSelection&&gN(n),a.preventDefault())}),this.eventManager.addEventListener(o,"keyup",a=>{i.isInProgress()&&!a.shiftKey&&i.finish()}),this.eventManager.addEventListener(o,"mouseup",a=>{i.isInProgress()&&dy(a)&&i.finish(),zc(hf,this,!1);let l=pM(r.activeElement);xC(r.activeElement)&&!l||(l||!i.isSelected()&&!i.isSelectedByAnyHeader()&&!t.contains(a.target)&&!Gl(a))&&this.hot.unlisten()}),this.eventManager.addEventListener(o,"contextmenu",a=>{i.isInProgress()&&Gl(a)&&(i.finish(),zc(hf,this,!1))}),this.eventManager.addEventListener(o,"touchend",()=>{i.isInProgress()&&i.finish(),zc(hf,this,!1)}),this.eventManager.addEventListener(o,"mousedown",a=>{let l=a.target,c=a.x||a.clientX,d=a.y||a.clientY,h=a.target;if(js(hf,this)||!t||!this.hot.view)return;let{holder:u}=this.hot.view._wt.wtTable;if(h===u){let m=Rn(r);if(r.elementFromPoint(c+m,d)!==u||r.elementFromPoint(c,d+m)!==u)return}else for(;h!==o;){if(h===null){if(a.isTargetWebComponent)break;return}if(h===t)return;h=h.parentNode}(typeof this.settings.outsideClickDeselects=="function"?this.settings.outsideClickDeselects(l):this.settings.outsideClickDeselects)?this.hot.deselectCell():this.hot.destroyEditor(!1,!1)});let s=Hh(n);for(;s!==null;)this.eventManager.addEventListener(s.document.documentElement,"click",()=>{this.hot.unlisten()}),s=Hh(s);this.eventManager.addEventListener(js(Pd,this),"selectstart",a=>{this.settings.fragmentSelection||xC(a.target)||a.preventDefault()})}translateFromRenderableToVisualCoords(t){let{row:r,col:i}=t;return this.hot._createCellCoords(...this.translateFromRenderableToVisualIndex(r,i))}translateFromRenderableToVisualIndex(t,r){let i=t>=0?this.hot.rowIndexMapper.getVisualFromRenderableIndex(t):t,n=r>=0?this.hot.columnIndexMapper.getVisualFromRenderableIndex(r):r;return i===null&&(i=t),n===null&&(n=r),[i,n]}countRenderableIndexes(t,r){let i=Math.min(t.getNotTrimmedIndexesLength(),r),n=t.getNearestNotHiddenIndex(i-1,-1);return n===null?0:t.getRenderableFromVisualIndex(n)+1}countRenderableColumns(){return this.countRenderableIndexes(this.hot.columnIndexMapper,this.settings.maxCols)}countRenderableRows(){return this.countRenderableIndexes(this.hot.rowIndexMapper,this.settings.maxRows)}countNotHiddenRowIndexes(t,r){return this.countNotHiddenIndexes(t,r,this.hot.rowIndexMapper,this.countRenderableRows())}countNotHiddenColumnIndexes(t,r){return this.countNotHiddenIndexes(t,r,this.hot.columnIndexMapper,this.countRenderableColumns())}countNotHiddenIndexes(t,r,i,n){if(isNaN(t)||t<0)return 0;let o=i.getNearestNotHiddenIndex(t,r),s=i.getRenderableFromVisualIndex(o);if(!Number.isInteger(s))return 0;let a=0;return r<0?a=s+1:r>0&&(a=n-s),a}countNotHiddenFixedColumnsStart(){let t=this.hot.countCols(),r=Math.min(parseInt(this.settings.fixedColumnsStart,10),t)-1;return this.countNotHiddenColumnIndexes(r,-1)}countNotHiddenFixedRowsTop(){let t=this.hot.countRows(),r=Math.min(parseInt(this.settings.fixedRowsTop,10),t)-1;return this.countNotHiddenRowIndexes(r,-1)}countNotHiddenFixedRowsBottom(){let t=this.hot.countRows(),r=Math.max(t-parseInt(this.settings.fixedRowsBottom,10),0);return this.countNotHiddenRowIndexes(r,1)}countRenderableColumnsInRange(t,r){let i=0;for(let n=t;n<=r;n++)this.hot.columnIndexMapper.getRenderableFromVisualIndex(n)!==null&&(i+=1);return i}countRenderableRowsInRange(t,r){let i=0;for(let n=t;n<=r;n++)this.hot.rowIndexMapper.getRenderableFromVisualIndex(n)!==null&&(i+=1);return i}isMainTableNotFullyCoveredByOverlays(){let t=this.countNotHiddenFixedRowsTop()+this.countNotHiddenFixedRowsBottom(),r=this.countNotHiddenFixedColumnsStart();return this.hot.countRenderedRows()>t&&this.hot.countRenderedCols()>r}initializeWalkontable(){let t={ariaTags:this.settings.ariaTags,rtlMode:this.hot.isRtl(),externalRowCalculator:this.hot.getPlugin("autoRowSize")&&this.hot.getPlugin("autoRowSize").isEnabled(),table:js(Pd,this),isDataViewInstance:()=>Ry(this.hot),preventOverflow:()=>this.settings.preventOverflow,preventWheel:()=>this.settings.preventWheel,stretchH:()=>this.settings.stretchH,data:(o,s)=>this.hot.getDataAtCell(...this.translateFromRenderableToVisualIndex(o,s)),totalRows:()=>this.countRenderableRows(),totalColumns:()=>this.countRenderableColumns(),fixedColumnsStart:()=>this.countNotHiddenFixedColumnsStart(),fixedRowsTop:()=>this.countNotHiddenFixedRowsTop(),fixedRowsBottom:()=>this.countNotHiddenFixedRowsBottom(),shouldRenderInlineStartOverlay:()=>this.settings.fixedColumnsStart>0||t.rowHeaders().length>0,shouldRenderTopOverlay:()=>this.settings.fixedRowsTop>0||t.columnHeaders().length>0,shouldRenderBottomOverlay:()=>this.settings.fixedRowsBottom>0,minSpareRows:()=>this.settings.minSpareRows,renderAllRows:this.settings.renderAllRows,renderAllColumns:this.settings.renderAllColumns,rowHeaders:()=>{let o=[];return this.hot.hasRowHeaders()&&o.push((s,a)=>{let l=s>=0?this.hot.rowIndexMapper.getVisualFromRenderableIndex(s):s;this.appendRowHeader(l,a)}),this.hot.runHooks("afterGetRowHeaderRenderers",o),zc(xA,this,o.length),this.hot.getSettings().ariaTags&&nx(EA,this,KX).call(this)===this.hot.countCols()&&nx(EA,this,w2t).call(this,js(xA,this)),o},columnHeaders:()=>{let o=[];return this.hot.hasColHeaders()&&o.push((s,a)=>{let l=s>=0?this.hot.columnIndexMapper.getVisualFromRenderableIndex(s):s;this.appendColHeader(l,a)}),this.hot.runHooks("afterGetColumnHeaderRenderers",o),zc(g6,this,o.length),o},columnWidth:o=>{let s=this.hot.columnIndexMapper.getVisualFromRenderableIndex(o);return this.hot.getColWidth(s===null?o:s)},rowHeight:o=>{let s=this.hot.rowIndexMapper.getVisualFromRenderableIndex(o);return this.hot.getRowHeight(s===null?o:s)},cellRenderer:(o,s,a)=>{let[l,c]=this.translateFromRenderableToVisualIndex(o,s),d=this.hot.runHooks("modifyGetCellCoords",l,c),h=l,u=c;Array.isArray(d)&&([h,u]=d);let f=this.hot.getCellMeta(h,u),m=this.hot.colToProp(u),g=this.hot.getDataAtRowProp(h,m);this.hot.hasHook("beforeValueRender")&&(g=this.hot.runHooks("beforeValueRender",g,f)),this.hot.runHooks("beforeRenderer",a,l,c,m,g,f),this.hot.getCellRenderer(f)(this.hot,a,l,c,m,g,f),this.hot.runHooks("afterRenderer",a,l,c,m,g,f)},selections:this.hot.selection.highlight,hideBorderOnMouseDownOver:()=>this.settings.fragmentSelection,onWindowResize:()=>{this.hot&&!this.hot.isDestroyed&&this.hot.refreshDimensions()},onContainerElementResize:()=>{this.hot&&!this.hot.isDestroyed&&kc(this.hot.rootElement)&&this.hot.refreshDimensions()},onCellMouseDown:(o,s,a,l)=>{let c=this.translateFromRenderableToVisualCoords(s),d={row:!1,column:!1,cell:!1};this.hot.listen(),this.activeWt=l,zc(hf,this,!0),this.hot.runHooks("beforeOnCellMouseDown",o,c,a,d),!jh(o)&&(p6(o,{coords:c,selection:this.hot.selection,controller:d,cellCoordsFactory:(h,u)=>this.hot._createCellCoords(h,u)}),this.hot.runHooks("afterOnCellMouseDown",o,c,a),this.activeWt=this._wt)},onCellContextMenu:(o,s,a,l)=>{let c=this.translateFromRenderableToVisualCoords(s);this.activeWt=l,zc(hf,this,!1),this.hot.selection.isInProgress()&&this.hot.selection.finish(),this.hot.runHooks("beforeOnCellContextMenu",o,c,a),!jh(o)&&(this.hot.runHooks("afterOnCellContextMenu",o,c,a),this.activeWt=this._wt)},onCellMouseOut:(o,s,a,l)=>{let c=this.translateFromRenderableToVisualCoords(s);this.activeWt=l,this.hot.runHooks("beforeOnCellMouseOut",o,c,a),!jh(o)&&(this.hot.runHooks("afterOnCellMouseOut",o,c,a),this.activeWt=this._wt)},onCellMouseOver:(o,s,a,l)=>{let c=this.translateFromRenderableToVisualCoords(s),d={row:!1,column:!1,cell:!1};this.activeWt=l,this.hot.runHooks("beforeOnCellMouseOver",o,c,a,d),!jh(o)&&(js(hf,this)&&p6(o,{coords:c,selection:this.hot.selection,controller:d,cellCoordsFactory:(h,u)=>this.hot._createCellCoords(h,u)}),this.hot.runHooks("afterOnCellMouseOver",o,c,a),this.activeWt=this._wt)},onCellMouseUp:(o,s,a,l)=>{let c=this.translateFromRenderableToVisualCoords(s);this.activeWt=l,this.hot.runHooks("beforeOnCellMouseUp",o,c,a),!(jh(o)||this.hot.isDestroyed)&&(this.hot.runHooks("afterOnCellMouseUp",o,c,a),this.activeWt=this._wt)},onCellCornerMouseDown:o=>{o.preventDefault(),this.hot.runHooks("afterOnCellCornerMouseDown",o)},onCellCornerDblClick:o=>{o.preventDefault(),this.hot.runHooks("afterOnCellCornerDblClick",o)},beforeDraw:(o,s)=>this.beforeRender(o,s),onDraw:o=>this.afterRender(o),onBeforeViewportScrollVertically:o=>{let s=this.hot.rowIndexMapper,a=o<0,l=o;return!a&&(l=s.getVisualFromRenderableIndex(o),l===null)?o:(l=this.hot.runHooks("beforeViewportScrollVertically",l),this.hot.runHooks("beforeViewportScroll"),a?l:s.getRenderableFromVisualIndex(l))},onBeforeViewportScrollHorizontally:o=>{let s=this.hot.columnIndexMapper,a=o<0,l=o;return!a&&(l=s.getVisualFromRenderableIndex(o),l===null)?o:(l=this.hot.runHooks("beforeViewportScrollHorizontally",l),this.hot.runHooks("beforeViewportScroll"),a?l:s.getRenderableFromVisualIndex(l))},onScrollVertically:()=>{this.hot.runHooks("afterScrollVertically"),this.hot.runHooks("afterScroll")},onScrollHorizontally:()=>{this.hot.runHooks("afterScrollHorizontally"),this.hot.runHooks("afterScroll")},onBeforeRemoveCellClassNames:()=>this.hot.runHooks("beforeRemoveCellClassNames"),onBeforeHighlightingRowHeader:(o,s,a)=>{let l=this.hot.rowIndexMapper,c=o<0,d=o;c||(d=l.getVisualFromRenderableIndex(o));let h=this.hot.runHooks("beforeHighlightingRowHeader",d,s,a);return c?h:l.getRenderableFromVisualIndex(l.getNearestNotHiddenIndex(h,1))},onBeforeHighlightingColumnHeader:(o,s,a)=>{let l=this.hot.columnIndexMapper,c=o<0,d=o;c||(d=l.getVisualFromRenderableIndex(o));let h=this.hot.runHooks("beforeHighlightingColumnHeader",d,s,a);return c?h:l.getRenderableFromVisualIndex(l.getNearestNotHiddenIndex(h,1))},onAfterDrawSelection:(o,s,a)=>{let l,[c,d]=this.translateFromRenderableToVisualIndex(o,s),h=this.hot.selection.getSelectedRange();if(h.size()>0){let f=h.peekByIndex(a??0);l=[f.from.row,f.from.col,f.to.row,f.to.col]}return this.hot.runHooks("afterDrawSelection",c,d,l,a)},onBeforeDrawBorders:(o,s)=>{let[a,l,c,d]=o,h=[this.hot.rowIndexMapper.getVisualFromRenderableIndex(a),this.hot.columnIndexMapper.getVisualFromRenderableIndex(l),this.hot.rowIndexMapper.getVisualFromRenderableIndex(c),this.hot.columnIndexMapper.getVisualFromRenderableIndex(d)];return this.hot.runHooks("beforeDrawBorders",h,s)},onBeforeTouchScroll:()=>this.hot.runHooks("beforeTouchScroll"),onAfterMomentumScroll:()=>this.hot.runHooks("afterMomentumScroll"),onBeforeStretchingColumnWidth:(o,s)=>{let a=this.hot.columnIndexMapper.getVisualFromRenderableIndex(s);return this.hot.runHooks("beforeStretchingColumnWidth",o,a)},onModifyRowHeaderWidth:o=>this.hot.runHooks("modifyRowHeaderWidth",o),onModifyGetCellCoords:(o,s,a)=>{let l=this.hot.rowIndexMapper,c=this.hot.columnIndexMapper,d=s>=0?c.getVisualFromRenderableIndex(s):s,h=o>=0?l.getVisualFromRenderableIndex(o):o,u=this.hot.runHooks("modifyGetCellCoords",h,d,a);if(Array.isArray(u)){let[f,m,g,p]=u;return[f>=0?l.getRenderableFromVisualIndex(l.getNearestNotHiddenIndex(f,1)):f,m>=0?c.getRenderableFromVisualIndex(c.getNearestNotHiddenIndex(m,1)):m,g>=0?l.getRenderableFromVisualIndex(l.getNearestNotHiddenIndex(g,-1)):g,p>=0?c.getRenderableFromVisualIndex(c.getNearestNotHiddenIndex(p,-1)):p]}},viewportRowCalculatorOverride:o=>{let s=this.settings.viewportRowRenderingOffset;if(s==="auto"&&this.settings.fixedRowsTop&&(s=10),s>0||s==="auto"){let a=this.countRenderableRows(),l=o.startRow,c=o.endRow;if(typeof s=="number")o.startRow=Math.max(l-s,0),o.endRow=Math.min(c+s,a-1);else if(s==="auto"){let d=Math.ceil(c/a*12);o.startRow=Math.max(l-d,0),o.endRow=Math.min(c+d,a-1)}}this.hot.runHooks("afterViewportRowCalculatorOverride",o)},viewportColumnCalculatorOverride:o=>{let s=this.settings.viewportColumnRenderingOffset;if(s==="auto"&&this.settings.fixedColumnsStart&&(s=10),s>0||s==="auto"){let a=this.countRenderableColumns(),l=o.startColumn,c=o.endColumn;if(typeof s=="number"&&(o.startColumn=Math.max(l-s,0),o.endColumn=Math.min(c+s,a-1)),s==="auto"){let d=Math.ceil(c/a*6);o.startColumn=Math.max(l-d,0),o.endColumn=Math.min(c+d,a-1)}}this.hot.runHooks("afterViewportColumnCalculatorOverride",o)},rowHeaderWidth:()=>this.settings.rowHeaderWidth,columnHeaderHeight:()=>{let o=this.hot.runHooks("modifyColumnHeaderHeight");return this.settings.columnHeaderHeight||o}};this.hot.runHooks("beforeInitWalkontable",t),this._wt=new rx(t),this.activeWt=this._wt;let r=this._wt.wtTable.spreader,{width:i,height:n}=this.hot.rootElement.getBoundingClientRect();this.setLastSize(i,n),this.eventManager.addEventListener(r,"mousedown",o=>{o.target===r&&o.which===3&&o.stopPropagation()}),this.eventManager.addEventListener(r,"contextmenu",o=>{o.target===r&&o.which===3&&o.stopPropagation()}),this.eventManager.addEventListener(this.hot.rootDocument.documentElement,"click",()=>{this.settings.observeDOMVisibility&&this._wt.drawInterrupted&&(this.hot.forceFullRender=!0,this.render())})}isTextSelectionAllowed(t){if(xC(t))return!0;let r=Ed(t,this.hot.view._wt.wtTable.spreader);return!!(this.settings.fragmentSelection===!0&&r||this.settings.fragmentSelection==="cell"&&this.isSelectedOnlyCell()&&r||!this.settings.fragmentSelection&&this.isCellEdited()&&this.isSelectedOnlyCell())}isMouseDown(){return js(hf,this)}isSelectedOnlyCell(){var t,r;return(t=(r=this.hot.getSelectedRangeLast())===null||r===void 0?void 0:r.isSingleCell())!==null&&t!==void 0?t:!1}isCellEdited(){let t=this.hot.getActiveEditor();return t&&t.isOpened()}beforeRender(t,r){t&&this.hot.runHooks("beforeViewRender",this.hot.forceFullRender,r)}afterRender(t){t&&this.hot.runHooks("afterViewRender",this.hot.forceFullRender)}appendRowHeader(t,r){if(r.firstChild){let i=r.firstChild;if(!Xe(i,"relative")){Ns(r),this.appendRowHeader(t,r);return}this.updateCellHeader(i.querySelector(".rowHeader"),t,this.hot.getRowHeader)}else{let{rootDocument:i,getRowHeader:n}=this.hot,o=i.createElement("div"),s=i.createElement("span");o.className="relative",s.className="rowHeader",this.updateCellHeader(s,t,n),o.appendChild(s),r.appendChild(o)}this.hot.runHooks("afterGetRowHeader",t,r)}appendColHeader(t,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hot.getColHeader,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(r.firstChild){let o=r.firstChild;Xe(o,"relative")?this.updateCellHeader(o.querySelector(".colHeader"),t,i,n):(Ns(r),this.appendColHeader(t,r,i,n))}else{let{rootDocument:o}=this.hot,s=o.createElement("div"),a=o.createElement("span");s.className="relative",a.className="colHeader",this.settings.ariaTags&&(Ke(s,...Ua()),Ke(a,...Ua())),this.updateCellHeader(a,t,i,n),s.appendChild(a),r.appendChild(s)}this.hot.runHooks("afterGetColHeader",t,r,n)}updateCellHeader(t,r,i){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=r,s=this._wt.wtOverlays.getParentOverlay(t)||this._wt;t.parentNode&&(Xe(t,"colHeader")?o=s.wtTable.columnFilter.sourceToRendered(r):Xe(t,"rowHeader")&&(o=s.wtTable.rowFilter.sourceToRendered(r))),o>-1?Oc(t,i(r,n)):(Pc(t,"\xA0"),re(t,"cornerHeader"))}maximumVisibleElementWidth(t){let i=this._wt.wtViewport.getWorkspaceWidth()-t;return i>0?i:0}maximumVisibleElementHeight(t){let i=this._wt.wtViewport.getWorkspaceHeight()-t;return i>0?i:0}setLastSize(t,r){zc(b6,this,t),zc(v6,this,r)}getLastSize(){return{width:js(b6,this),height:js(v6,this)}}getFirstFullyVisibleRow(){return this.hot.rowIndexMapper.getVisualFromRenderableIndex(this.hot.view._wt.wtScroll.getFirstVisibleRow())}getLastFullyVisibleRow(){return this.hot.rowIndexMapper.getVisualFromRenderableIndex(this.hot.view._wt.wtScroll.getLastVisibleRow())}getFirstFullyVisibleColumn(){return this.hot.columnIndexMapper.getVisualFromRenderableIndex(this.hot.view._wt.wtScroll.getFirstVisibleColumn())}getLastFullyVisibleColumn(){return this.hot.columnIndexMapper.getVisualFromRenderableIndex(this.hot.view._wt.wtScroll.getLastVisibleColumn())}getFirstPartiallyVisibleRow(){return this.hot.rowIndexMapper.getVisualFromRenderableIndex(this.hot.view._wt.wtScroll.getFirstPartiallyVisibleRow())}getLastPartiallyVisibleRow(){return this.hot.rowIndexMapper.getVisualFromRenderableIndex(this.hot.view._wt.wtScroll.getLastPartiallyVisibleRow())}getFirstPartiallyVisibleColumn(){return this.hot.columnIndexMapper.getVisualFromRenderableIndex(this.hot.view._wt.wtScroll.getFirstPartiallyVisibleColumn())}getLastPartiallyVisibleColumn(){return this.hot.columnIndexMapper.getVisualFromRenderableIndex(this.hot.view._wt.wtScroll.getLastPartiallyVisibleColumn())}getColumnHeadersCount(){return js(g6,this)}getRowHeadersCount(){return js(xA,this)}getViewportWidth(){return this.hot.view._wt.wtViewport.getViewportWidth()}getWorkspaceWidth(){return this.hot.view._wt.wtViewport.getWorkspaceWidth()}getViewportHeight(){return this.hot.view._wt.wtViewport.getViewportHeight()}getWorkspaceHeight(){return this.hot.view._wt.wtViewport.getWorkspaceHeight()}destroy(){this._wt.destroy(),this.eventManager.destroy()}};function KX(){return parseInt(this.hot.rootElement.getAttribute(Zv()[0]),10)}function w2t(e){let t=nx(EA,this,KX).call(this)+e;Ke(this.hot.rootElement,...Zv(t))}var XX=y6;var iJt=ot(qt(),1),rJt=ot(_e(),1);var JQt=ot(_e(),1);var C2t="ABCDEFGHIJKLMNOPQRSTUVWXYZ",ZX=C2t.length;function QX(e){let t=e+1,r="",i;for(;t>0;)i=(t-1)%ZX,r=String.fromCharCode(65+i)+r,t=parseInt((t-i)/ZX,10);return r}function _6(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=e,i=[];return(!Array.isArray(e)||!Array.isArray(e[0]))&&(r=[e]),r.forEach((n,o)=>{Array.isArray(n)?n.forEach((s,a)=>{i.push([o+t,a,s])}):Object.keys(n).forEach(s=>{i.push([o+t,s,n[s]])})}),i}function RA(e){let t=0;return Array.isArray(e)&&(e[0]&&Array.isArray(e[0])?t=e[0].length:e[0]&&gi(e[0])&&(t=oy(e[0]))),t}function JX(e){return!!(Array.isArray(e)&&e.length&&e.every(t=>Array.isArray(t)))}function tZ(e){return!!(Array.isArray(e)&&e.length&&e.every(t=>typeof t=="object"&&!Array.isArray(t)&&t!==null))}function ox(e,t,r){return t=x2t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x2t(e){var t=S2t(e,"string");return typeof t=="symbol"?t:t+""}function S2t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var w6=class{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];ox(this,"hot",void 0),ox(this,"data",void 0),ox(this,"dataType","array"),ox(this,"colToProp",()=>{}),ox(this,"propToCol",()=>{}),this.hot=t,this.data=r}modifyRowData(t){let r;return this.hot.hasHook("modifyRowData")&&(r=this.hot.runHooks("modifyRowData",t)),r!==void 0&&!Number.isInteger(r)?r:this.data[t]}getData(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return!this.data||this.data.length===0?this.data:this.getByRange(null,null,t)}setData(t){this.data=t}getAtColumn(t){let r=[];return St(this.data,(i,n)=>{let o=this.getAtCell(n,t);r.push(o)}),r}getAtRow(t,r,i){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=r===void 0&&i===void 0,{dataDotNotation:s}=this.hot.getSettings(),a=null,l=null;if(a=this.modifyRowData(t),Array.isArray(a))l=[],o?a.forEach((c,d)=>{l[d]=this.getAtPhysicalCell(t,d,a)}):Oe(r,i,c=>{l[c-r]=this.getAtPhysicalCell(t,c,a)});else if(gi(a)||Mr(a))if(n?l=[]:l={},!o||n){let d=this.countFirstRowKeys()-1;Oe(0,d,h=>{let u=this.colToProp(h);if(h>=(r||0)&&h<=(i||d)&&!Number.isInteger(u)){let f=this.getAtPhysicalCell(t,u,a);n?l.push(f):s?_M(l,u,f):l[u]=f}})}else bi(a,(c,d)=>{let h=this.getAtPhysicalCell(t,d,a);s?_M(l,d,h):l[d]=h});return l}setAtCell(t,r,i){if(!(t>=this.countRows()||r>=this.countFirstRowKeys())){if(this.hot.hasHook("modifySourceData")){let n=ya(i);this.hot.runHooks("modifySourceData",t,r,n,"set"),n.isTouched()&&(i=n.value)}Number.isInteger(r)?this.data[t][r]=i:_M(this.data[t],r,i)}}getAtPhysicalCell(t,r,i){let n=null;if(i)if(typeof r=="string"){let{dataDotNotation:o}=this.hot.getSettings();n=o?SK(i,r):i[r]}else typeof r=="function"?n=r(i):n=i[r];if(this.hot.hasHook("modifySourceData")){let o=ya(n);this.hot.runHooks("modifySourceData",t,r,o,"get"),o.isTouched()&&(n=o.value)}return n}getAtCell(t,r){let i=this.modifyRowData(t);return this.getAtPhysicalCell(t,this.colToProp(r),i)}getByRange(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=!1,o=null,s=null,a=null,l=null;t===null||r===null?(n=!0,o=0,a=this.countRows()-1):(o=Math.min(t.row,r.row),s=Math.min(t.col,r.col),a=Math.max(t.row,r.row),l=Math.max(t.col,r.col));let c=[];return Oe(o,a,d=>{c.push(n?this.getAtRow(d,void 0,void 0,i):this.getAtRow(d,s,l,i))}),c}countRows(){if(this.hot.hasHook("modifySourceLength")){let t=this.hot.runHooks("modifySourceLength");if(Number.isInteger(t))return t}return this.data.length}countFirstRowKeys(){return RA(this.data)}destroy(){this.data=null,this.hot=null}},eZ=w6;var Pte=ot(qt(),1),Nte=ot(yn(),1),Lte=ot(_n(),1),Fte=ot(wn(),1),Hte=ot(Cn(),1),Bte=ot(xn(),1),jte=ot(Sn(),1),Vte=ot(En(),1);var ZJt=ot(qt(),1);var xJt=ot(_e(),1);var dJt=ot(qt(),1),hJt=ot(_e(),1);function iZ(e,t,r){return t=E2t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E2t(e){var t=R2t(e,"string");return typeof t=="symbol"?t:t+""}function R2t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ya=class{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;iZ(this,"indexedValues",[]),iZ(this,"initValueOrFn",void 0),this.initValueOrFn=t}getValues(){return this.indexedValues}getValueAtIndex(t){let r=this.indexedValues;if(t<r.length)return r[t]}setValues(t){this.indexedValues=t.slice(),this.runLocalHooks("change")}setValueAtIndex(t,r){return t<this.indexedValues.length?(this.indexedValues[t]=r,this.runLocalHooks("change"),!0):!1}clear(){this.setDefaultValues()}getLength(){return this.getValues().length}setDefaultValues(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.indexedValues.length;this.indexedValues.length=0,Mr(this.initValueOrFn)?Oe(t-1,r=>this.indexedValues.push(this.initValueOrFn(r))):Oe(t-1,()=>this.indexedValues.push(this.initValueOrFn)),this.runLocalHooks("change")}init(t){return this.setDefaultValues(t),this.runLocalHooks("init"),this}insert(){this.runLocalHooks("change")}remove(){this.runLocalHooks("change")}destroy(){this.clearLocalHooks(),this.indexedValues=null,this.initValueOrFn=null}};Zi(Ya,Bn);function Ty(e,t,r,i){let n=r.length?r[0]:void 0;return[...e.slice(0,n),...r.map((o,s)=>Mr(i)?i(o,s):i),...n===void 0?[]:e.slice(n)]}function My(e,t){return ds(e,(r,i)=>t.includes(i)===!1)}var Vs=class extends Ya{insert(t,r){this.indexedValues=Ty(this.indexedValues,t,r,this.initValueOrFn),super.insert(t,r)}remove(t){this.indexedValues=My(this.indexedValues,t),super.remove(t)}};var $h=class extends Vs{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;super(t)}getHiddenIndexes(){return cn(this.getValues(),(t,r,i)=>(r&&t.push(i),t),[])}};var kJt=ot(qt(),1);function Ay(e,t,r){return[...e.slice(0,t),...r,...e.slice(t)]}function uf(e,t){return ds(e,r=>t.includes(r)===!1)}function lp(e,t){return Ci(e,r=>r-t.filter(i=>i<r).length)}function cp(e,t){let r=t[0],i=t.length;return Ci(e,n=>n>=r?n+i:n)}function T2t(e,t,r){return t=M2t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M2t(e){var t=A2t(e,"string");return typeof t=="symbol"?t:t+""}function A2t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qh=class extends Ya{constructor(){super(...arguments),T2t(this,"orderOfIndexes",[])}getValues(){return this.orderOfIndexes.map(t=>this.indexedValues[t])}setValues(t){this.orderOfIndexes=[...Array(t.length).keys()],super.setValues(t)}setValueAtIndex(t,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.orderOfIndexes.length;return t<this.indexedValues.length?(this.indexedValues[t]=r,this.orderOfIndexes.includes(t)===!1&&this.orderOfIndexes.splice(i,0,t),this.runLocalHooks("change"),!0):!1}clearValue(t){this.orderOfIndexes=uf(this.orderOfIndexes,[t]),Mr(this.initValueOrFn)?super.setValueAtIndex(t,this.initValueOrFn(t)):super.setValueAtIndex(t,this.initValueOrFn)}getLength(){return this.orderOfIndexes.length}setDefaultValues(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.indexedValues.length;this.orderOfIndexes.length=0,super.setDefaultValues(t)}insert(t,r){this.indexedValues=Ty(this.indexedValues,t,r,this.initValueOrFn),this.orderOfIndexes=cp(this.orderOfIndexes,r),super.insert(t,r)}remove(t){this.indexedValues=My(this.indexedValues,t),this.orderOfIndexes=uf(this.orderOfIndexes,t),this.orderOfIndexes=lp(this.orderOfIndexes,t),super.remove(t)}getEntries(){return this.orderOfIndexes.map(t=>[t,this.getValueAtIndex(t)])}};var HJt=ot(_e(),1);var Uc=class extends Vs{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;super(t)}getTrimmedIndexes(){return cn(this.getValues(),(t,r,i)=>(r&&t.push(i),t),[])}};var zJt=ot(qt(),1);var rZ=new Map([["indexesSequence",{getListWithInsertedItems:Ay,getListWithRemovedItems:uf}],["physicallyIndexed",{getListWithInsertedItems:Ty,getListWithRemovedItems:My}]]),sx=e=>{if(rZ.has(e)===!1)throw new Error(`Alter strategy with ID '${e}' does not exist.`);return rZ.get(e)};var Iy=class extends Ya{constructor(){super(t=>t)}insert(t,r){let i=cp(this.indexedValues,r);this.indexedValues=Ay(i,t,r),super.insert(t,r)}remove(t){let r=uf(this.indexedValues,t);this.indexedValues=lp(r,t),super.remove(t)}};var nZ=new Map([["hiding",$h],["index",Ya],["linkedPhysicalIndexToValue",qh],["physicalIndexToValue",Vs],["trimming",Uc]]);function oZ(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!nZ.has(e))throw new Error(`The provided map type ("${e}") does not exist.`);return new(nZ.get(e))(t)}var hte=ot(qt(),1),ute=ot(_e(),1);var ste=ot(qt(),1);function I2t(e,t,r){return t=k2t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k2t(e){var t=D2t(e,"string");return typeof t=="symbol"?t:t+""}function D2t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sZ=0,c0=class{constructor(){I2t(this,"collection",new Map)}register(t,r){this.collection.has(t)===!1&&(this.collection.set(t,r),r.addLocalHook("change",()=>this.runLocalHooks("change",r)),sZ+=1)}unregister(t){let r=this.collection.get(t);Ne(r)&&(r.destroy(),this.collection.delete(t),this.runLocalHooks("change",r),sZ-=1)}unregisterAll(){this.collection.forEach((t,r)=>this.unregister(r)),this.collection.clear()}get(t){return vr(t)?Array.from(this.collection.values()):this.collection.get(t)}getLength(){return this.collection.size}removeFromEvery(t){this.collection.forEach(r=>{r.remove(t)})}insertToEvery(t,r){this.collection.forEach(i=>{i.insert(t,r)})}initEvery(t){this.collection.forEach(r=>{r.init(t)})}};Zi(c0,Bn);function C6(e,t,r){return t=O2t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O2t(e){var t=P2t(e,"string");return typeof t=="symbol"?t:t+""}function P2t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ax=class extends c0{constructor(t,r){super(),C6(this,"mergedValuesCache",[]),C6(this,"aggregationFunction",void 0),C6(this,"fallbackValue",void 0),this.aggregationFunction=t,this.fallbackValue=r}getMergedValues(){if((arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0)return this.mergedValuesCache;if(this.getLength()===0)return[];let r=Ci(this.get(),o=>o.getValues()),i=[],n=Ne(r[0])&&r[0].length||0;for(let o=0;o<n;o+=1){let s=[];for(let a=0;a<this.getLength();a+=1)s.push(r[a][o]);i.push(s)}return Ci(i,this.aggregationFunction)}getMergedValueAtIndex(t,r){let i=this.getMergedValues(r)[t];return Ne(i)?i:this.fallbackValue}updateCache(){this.mergedValuesCache=this.getMergedValues(!1)}};var xte=ot(qt(),1),Ste=ot(yn(),1),Ete=ot(_n(),1),Rte=ot(wn(),1),Tte=ot(Cn(),1),Mte=ot(xn(),1),Ate=ot(Sn(),1),Ite=ot(En(),1);var bte=ot(qt(),1);function N2t(e,t,r){L2t(e,t),t.set(e,r)}function L2t(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function F2t(e,t,r){return e.set(aZ(e,t),r),r}function H2t(e,t){return e.get(aZ(e,t))}function aZ(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var x6=new WeakMap,lx=class{constructor(){N2t(this,x6,[])}subscribe(t){return this.addLocalHook("change",t),this._write(H2t(x6,this)),this}unsubscribe(){return this.runLocalHooks("unsubscribe"),this.clearLocalHooks(),this}_write(t){return t.length>0&&this.runLocalHooks("change",t),this}_writeInitialChanges(t){F2t(x6,this,t)}};Zi(lx,Bn);var wte=ot(_e(),1);function S6(e,t){let r=[],i=0,n=0;for(;i<e.length&&n<t.length;i++,n++)e[i]!==t[n]&&r.push({op:"replace",index:n,oldValue:e[i],newValue:t[n]});for(;i<t.length;i++)r.push({op:"insert",index:i,oldValue:void 0,newValue:t[i]});for(;n<e.length;n++)r.push({op:"remove",index:n,oldValue:e[n],newValue:void 0});return r}function cx(e,t,r){B2t(e,t),t.set(e,r)}function B2t(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Wc(e,t){return e.get(lZ(e,t))}function TA(e,t,r){return e.set(lZ(e,t),r),r}function lZ(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var MA=new WeakMap,dx=new WeakMap,AA=new WeakMap,IA=new WeakMap,kA=new WeakMap,DA=class{constructor(){let{initialIndexValue:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};cx(this,MA,new Set),cx(this,dx,[]),cx(this,AA,[]),cx(this,IA,!1),cx(this,kA,!1),TA(kA,this,t??!1)}createObserver(){let t=new lx;return Wc(MA,this).add(t),t.addLocalHook("unsubscribe",()=>{Wc(MA,this).delete(t)}),t._writeInitialChanges(S6(Wc(dx,this),Wc(AA,this))),t}emit(t){let r=Wc(AA,this);(!Wc(IA,this)||Wc(dx,this).length!==t.length)&&(t.length===0?t=new Array(r.length).fill(Wc(kA,this)):TA(dx,this,new Array(t.length).fill(Wc(kA,this))),Wc(IA,this)||(TA(IA,this,!0),r=Wc(dx,this)));let i=S6(r,t);Wc(MA,this).forEach(n=>n._write(i)),TA(AA,this,t)}};function $a(e,t,r){return t=j2t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j2t(e){var t=V2t(e,"string");return typeof t=="symbol"?t:t+""}function V2t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var d0=class{constructor(){$a(this,"indexesSequence",new Iy),$a(this,"trimmingMapsCollection",new ax(t=>t.some(r=>r===!0),!1)),$a(this,"hidingMapsCollection",new ax(t=>t.some(r=>r===!0),!1)),$a(this,"variousMapsCollection",new c0),$a(this,"hidingChangesObservable",new DA({initialIndexValue:!1})),$a(this,"notTrimmedIndexesCache",[]),$a(this,"notHiddenIndexesCache",[]),$a(this,"isBatched",!1),$a(this,"indexesSequenceChanged",!1),$a(this,"indexesChangeSource",void 0),$a(this,"trimmedIndexesChanged",!1),$a(this,"hiddenIndexesChanged",!1),$a(this,"renderablePhysicalIndexesCache",[]),$a(this,"fromPhysicalToVisualIndexesCache",new Map),$a(this,"fromVisualToRenderableIndexesCache",new Map),this.indexesSequence.addLocalHook("change",()=>{this.indexesSequenceChanged=!0,this.updateCache(),this.runLocalHooks("indexesSequenceChange",this.indexesChangeSource),this.runLocalHooks("change",this.indexesSequence,null)}),this.trimmingMapsCollection.addLocalHook("change",t=>{this.trimmedIndexesChanged=!0,this.updateCache(),this.runLocalHooks("change",t,this.trimmingMapsCollection)}),this.hidingMapsCollection.addLocalHook("change",t=>{this.hiddenIndexesChanged=!0,this.updateCache(),this.runLocalHooks("change",t,this.hidingMapsCollection)}),this.variousMapsCollection.addLocalHook("change",t=>{this.runLocalHooks("change",t,this.variousMapsCollection)})}suspendOperations(){this.isBatched=!0}resumeOperations(){this.isBatched=!1,this.updateCache()}createChangesObserver(t){if(t!=="hiding")throw new Error(`Unsupported index map type "${t}".`);return this.hidingChangesObservable.createObserver()}createAndRegisterIndexMap(t,r,i){return this.registerMap(t,oZ(r,i))}registerMap(t,r){if(this.trimmingMapsCollection.get(t)||this.hidingMapsCollection.get(t)||this.variousMapsCollection.get(t))throw Error(`Map with name "${t}" has been already registered.`);r instanceof Uc?this.trimmingMapsCollection.register(t,r):r instanceof $h?this.hidingMapsCollection.register(t,r):this.variousMapsCollection.register(t,r);let i=this.getNumberOfIndexes();return i>0&&r.init(i),r}unregisterMap(t){this.trimmingMapsCollection.unregister(t),this.hidingMapsCollection.unregister(t),this.variousMapsCollection.unregister(t)}unregisterAll(){this.trimmingMapsCollection.unregisterAll(),this.hidingMapsCollection.unregisterAll(),this.variousMapsCollection.unregisterAll()}getPhysicalFromVisualIndex(t){let r=this.notTrimmedIndexesCache[t];return Ne(r)?r:null}getPhysicalFromRenderableIndex(t){let r=this.renderablePhysicalIndexesCache[t];return Ne(r)?r:null}getVisualFromPhysicalIndex(t){let r=this.fromPhysicalToVisualIndexesCache.get(t);return Ne(r)?r:null}getVisualFromRenderableIndex(t){return this.getVisualFromPhysicalIndex(this.getPhysicalFromRenderableIndex(t))}getRenderableFromVisualIndex(t){let r=this.fromVisualToRenderableIndexesCache.get(t);return Ne(r)?r:null}getNearestNotHiddenIndex(t,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(this.getPhysicalFromVisualIndex(t)===null)return null;if(this.fromVisualToRenderableIndexesCache.has(t))return t;let o=Array.from(this.fromVisualToRenderableIndexesCache.keys()),s=-1;return r>0?s=o.findIndex(a=>a>t):s=o.reverse().findIndex(a=>a<t),s===-1?i?this.getNearestNotHiddenIndex(t,-r,!1):null:o[s]}initToLength(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getNumberOfIndexes();this.notTrimmedIndexesCache=[...new Array(t).keys()],this.notHiddenIndexesCache=[...new Array(t).keys()],this.suspendOperations(),this.indexesChangeSource="init",this.indexesSequence.init(t),this.indexesChangeSource=void 0,this.trimmingMapsCollection.initEvery(t),this.resumeOperations(),this.suspendOperations(),this.hidingMapsCollection.initEvery(t),this.variousMapsCollection.initEvery(t),this.resumeOperations(),this.runLocalHooks("init")}fitToLength(t){let r=this.getNumberOfIndexes();if(t<r){let i=[...Array(this.getNumberOfIndexes()-t).keys()].map(n=>n+t);this.removeIndexes(i)}else this.insertIndexes(r,t-r)}getIndexesSequence(){return this.indexesSequence.getValues()}setIndexesSequence(t){this.indexesChangeSource===void 0&&(this.indexesChangeSource="update"),this.indexesSequence.setValues(t),this.indexesChangeSource==="update"&&(this.indexesChangeSource=void 0)}getNotTrimmedIndexes(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0?this.notTrimmedIndexesCache:this.getIndexesSequence().filter(i=>this.isTrimmed(i)===!1)}getNotTrimmedIndexesLength(){return this.getNotTrimmedIndexes().length}getNotHiddenIndexes(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0?this.notHiddenIndexesCache:this.getIndexesSequence().filter(i=>this.isHidden(i)===!1)}getNotHiddenIndexesLength(){return this.getNotHiddenIndexes().length}getRenderableIndexes(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0?this.renderablePhysicalIndexesCache:this.getNotTrimmedIndexes().filter(i=>this.isHidden(i)===!1)}getRenderableIndexesLength(){return this.getRenderableIndexes().length}getNumberOfIndexes(){return this.getIndexesSequence().length}moveIndexes(t,r){typeof t=="number"&&(t=[t]);let i=Ci(t,c=>this.getPhysicalFromVisualIndex(c)),n=this.getNotTrimmedIndexesLength(),o=t.length,s=uf(this.getIndexesSequence(),i),a=s.filter(c=>this.isTrimmed(c)===!1),l=s.indexOf(a[a.length-1])+1;if(r+o<n){let c=a[r];l=s.indexOf(c)}this.indexesChangeSource="move",this.setIndexesSequence(Ay(s,l,i)),this.indexesChangeSource=void 0}isTrimmed(t){return this.trimmingMapsCollection.getMergedValueAtIndex(t)}isHidden(t){return this.hidingMapsCollection.getMergedValueAtIndex(t)}insertIndexes(t,r){let i=this.getNotTrimmedIndexes()[t],n=Ne(i)?i:this.getNumberOfIndexes(),o=this.getIndexesSequence().includes(i)?this.getIndexesSequence().indexOf(i):this.getNumberOfIndexes(),s=Ci(new Array(r).fill(n),(a,l)=>a+l);this.suspendOperations(),this.indexesChangeSource="insert",this.indexesSequence.insert(o,s),this.indexesChangeSource=void 0,this.trimmingMapsCollection.insertToEvery(o,s),this.hidingMapsCollection.insertToEvery(o,s),this.variousMapsCollection.insertToEvery(o,s),this.resumeOperations()}removeIndexes(t){this.suspendOperations(),this.indexesChangeSource="remove",this.indexesSequence.remove(t),this.indexesChangeSource=void 0,this.trimmingMapsCollection.removeFromEvery(t),this.hidingMapsCollection.removeFromEvery(t),this.variousMapsCollection.removeFromEvery(t),this.resumeOperations()}updateCache(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=this.indexesSequenceChanged||this.trimmedIndexesChanged||this.hiddenIndexesChanged;(t===!0||this.isBatched===!1&&r===!0)&&(this.trimmingMapsCollection.updateCache(),this.hidingMapsCollection.updateCache(),this.notTrimmedIndexesCache=this.getNotTrimmedIndexes(!1),this.notHiddenIndexesCache=this.getNotHiddenIndexes(!1),this.renderablePhysicalIndexesCache=this.getRenderableIndexes(!1),this.cacheFromPhysicalToVisualIndexes(),this.cacheFromVisualToRenderableIndexes(),this.hiddenIndexesChanged&&this.hidingChangesObservable.emit(this.hidingMapsCollection.getMergedValues()),this.runLocalHooks("cacheUpdated",{indexesSequenceChanged:this.indexesSequenceChanged,trimmedIndexesChanged:this.trimmedIndexesChanged,hiddenIndexesChanged:this.hiddenIndexesChanged}),this.indexesSequenceChanged=!1,this.trimmedIndexesChanged=!1,this.hiddenIndexesChanged=!1)}cacheFromPhysicalToVisualIndexes(){let t=this.getNotTrimmedIndexesLength();this.fromPhysicalToVisualIndexesCache.clear();for(let r=0;r<t;r+=1){let i=this.getPhysicalFromVisualIndex(r);this.fromPhysicalToVisualIndexesCache.set(i,r)}}cacheFromVisualToRenderableIndexes(){let t=this.getRenderableIndexesLength();this.fromVisualToRenderableIndexesCache.clear();for(let r=0;r<t;r+=1){let i=this.getPhysicalFromRenderableIndex(r),n=this.getVisualFromPhysicalIndex(i);this.fromVisualToRenderableIndexesCache.set(n,r)}}};Zi(d0,Bn);function cZ(e,t){return bi(t,(r,i)=>{vr(e[i])&&(e[i]=r)}),e}function OA(e){let r=/^([a-zA-Z]{2})-([a-zA-Z]{2})$/.exec(e);return r?`${r[1].toLowerCase()}-${r[2].toUpperCase()}`:e}function PA(e){Ne(e)&&hy(Gi`Language with code "${e}" was not found. You should register particular language\x20
    before using it. Read more about this issue at: https://docs.handsontable.com/i18n/missing-language-code.`)}function E6(e,t){return Array.isArray(e)&&Number.isInteger(t)?e[t]:e}var{register:z2t,getValues:U2t}=Zo("phraseFormatters");function W2t(e,t){z2t(e,t)}function dZ(){return U2t()}W2t("pluralize",E6);var wi={};Ist(wi,{CHECKBOX_CHECKED:()=>I2,CHECKBOX_RENDERER_NAMESPACE:()=>R6,CHECKBOX_UNCHECKED:()=>k2,CONTEXTMENU_ITEMS_ADD_COMMENT:()=>kx,CONTEXTMENU_ITEMS_ALIGNMENT:()=>Nx,CONTEXTMENU_ITEMS_ALIGNMENT_BOTTOM:()=>zx,CONTEXTMENU_ITEMS_ALIGNMENT_CENTER:()=>Fx,CONTEXTMENU_ITEMS_ALIGNMENT_JUSTIFY:()=>Bx,CONTEXTMENU_ITEMS_ALIGNMENT_LEFT:()=>Lx,CONTEXTMENU_ITEMS_ALIGNMENT_MIDDLE:()=>Vx,CONTEXTMENU_ITEMS_ALIGNMENT_RIGHT:()=>Hx,CONTEXTMENU_ITEMS_ALIGNMENT_TOP:()=>jx,CONTEXTMENU_ITEMS_BORDERS:()=>Ux,CONTEXTMENU_ITEMS_BORDERS_BOTTOM:()=>$x,CONTEXTMENU_ITEMS_BORDERS_LEFT:()=>qx,CONTEXTMENU_ITEMS_BORDERS_RIGHT:()=>Yx,CONTEXTMENU_ITEMS_BORDERS_TOP:()=>Wx,CONTEXTMENU_ITEMS_CLEAR_COLUMN:()=>wx,CONTEXTMENU_ITEMS_COPY:()=>Cx,CONTEXTMENU_ITEMS_COPY_COLUMN_HEADERS_ONLY:()=>Ex,CONTEXTMENU_ITEMS_COPY_WITH_COLUMN_GROUP_HEADERS:()=>Sx,CONTEXTMENU_ITEMS_COPY_WITH_COLUMN_HEADERS:()=>xx,CONTEXTMENU_ITEMS_CUT:()=>Rx,CONTEXTMENU_ITEMS_EDIT_COMMENT:()=>Dx,CONTEXTMENU_ITEMS_FREEZE_COLUMN:()=>Tx,CONTEXTMENU_ITEMS_HIDE_COLUMN:()=>Zx,CONTEXTMENU_ITEMS_HIDE_ROW:()=>Jx,CONTEXTMENU_ITEMS_INSERT_LEFT:()=>mx,CONTEXTMENU_ITEMS_INSERT_RIGHT:()=>px,CONTEXTMENU_ITEMS_MERGE_CELLS:()=>Ax,CONTEXTMENU_ITEMS_NESTED_ROWS_DETACH_CHILD:()=>Xx,CONTEXTMENU_ITEMS_NESTED_ROWS_INSERT_CHILD:()=>Kx,CONTEXTMENU_ITEMS_NO_ITEMS:()=>hx,CONTEXTMENU_ITEMS_READ_ONLY:()=>_x,CONTEXTMENU_ITEMS_READ_ONLY_COMMENT:()=>Px,CONTEXTMENU_ITEMS_REDO:()=>yx,CONTEXTMENU_ITEMS_REMOVE_BORDERS:()=>Gx,CONTEXTMENU_ITEMS_REMOVE_COLUMN:()=>bx,CONTEXTMENU_ITEMS_REMOVE_COMMENT:()=>Ox,CONTEXTMENU_ITEMS_REMOVE_ROW:()=>gx,CONTEXTMENU_ITEMS_ROW_ABOVE:()=>ux,CONTEXTMENU_ITEMS_ROW_BELOW:()=>fx,CONTEXTMENU_ITEMS_SHOW_COLUMN:()=>Qx,CONTEXTMENU_ITEMS_SHOW_ROW:()=>t2,CONTEXTMENU_ITEMS_UNDO:()=>vx,CONTEXTMENU_ITEMS_UNFREEZE_COLUMN:()=>Mx,CONTEXTMENU_ITEMS_UNMERGE_CELLS:()=>Ix,CONTEXT_MENU_ITEMS_NAMESPACE:()=>hZ,FILTERS_BUTTONS_CANCEL:()=>R2,FILTERS_BUTTONS_CLEAR:()=>S2,FILTERS_BUTTONS_OK:()=>E2,FILTERS_BUTTONS_PLACEHOLDER_SEARCH:()=>T2,FILTERS_BUTTONS_PLACEHOLDER_SECOND_VALUE:()=>A2,FILTERS_BUTTONS_PLACEHOLDER_VALUE:()=>M2,FILTERS_BUTTONS_SELECT_ALL:()=>x2,FILTERS_CONDITIONS_AFTER:()=>p2,FILTERS_CONDITIONS_BEFORE:()=>g2,FILTERS_CONDITIONS_BEGINS_WITH:()=>o2,FILTERS_CONDITIONS_BETWEEN:()=>f2,FILTERS_CONDITIONS_BY_VALUE:()=>Y2t,FILTERS_CONDITIONS_CONTAINS:()=>a2,FILTERS_CONDITIONS_EMPTY:()=>e2,FILTERS_CONDITIONS_ENDS_WITH:()=>s2,FILTERS_CONDITIONS_EQUAL:()=>r2,FILTERS_CONDITIONS_GREATER_THAN:()=>c2,FILTERS_CONDITIONS_GREATER_THAN_OR_EQUAL:()=>d2,FILTERS_CONDITIONS_LESS_THAN:()=>h2,FILTERS_CONDITIONS_LESS_THAN_OR_EQUAL:()=>u2,FILTERS_CONDITIONS_NAMESPACE:()=>Co,FILTERS_CONDITIONS_NONE:()=>h0,FILTERS_CONDITIONS_NOT_BETWEEN:()=>m2,FILTERS_CONDITIONS_NOT_CONTAIN:()=>l2,FILTERS_CONDITIONS_NOT_EMPTY:()=>i2,FILTERS_CONDITIONS_NOT_EQUAL:()=>n2,FILTERS_CONDITIONS_TODAY:()=>b2,FILTERS_CONDITIONS_TOMORROW:()=>v2,FILTERS_CONDITIONS_YESTERDAY:()=>y2,FILTERS_DIVS_FILTER_BY_CONDITION:()=>_2,FILTERS_DIVS_FILTER_BY_VALUE:()=>w2,FILTERS_LABELS_CONJUNCTION:()=>C2,FILTERS_LABELS_DISJUNCTION:()=>u0,FILTERS_NAMESPACE:()=>xa,FILTERS_VALUES_BLANK_CELLS:()=>ky});var hZ="ContextMenu:items",dr=hZ,hx=`${dr}.noItems`,ux=`${dr}.insertRowAbove`,fx=`${dr}.insertRowBelow`,mx=`${dr}.insertColumnOnTheLeft`,px=`${dr}.insertColumnOnTheRight`,gx=`${dr}.removeRow`,bx=`${dr}.removeColumn`,vx=`${dr}.undo`,yx=`${dr}.redo`,_x=`${dr}.readOnly`,wx=`${dr}.clearColumn`,Cx=`${dr}.copy`,xx=`${dr}.copyWithHeaders`,Sx=`${dr}.copyWithGroupHeaders`,Ex=`${dr}.copyHeadersOnly`,Rx=`${dr}.cut`,Tx=`${dr}.freezeColumn`,Mx=`${dr}.unfreezeColumn`,Ax=`${dr}.mergeCells`,Ix=`${dr}.unmergeCells`,kx=`${dr}.addComment`,Dx=`${dr}.editComment`,Ox=`${dr}.removeComment`,Px=`${dr}.readOnlyComment`,Nx=`${dr}.align`,Lx=`${dr}.align.left`,Fx=`${dr}.align.center`,Hx=`${dr}.align.right`,Bx=`${dr}.align.justify`,jx=`${dr}.align.top`,Vx=`${dr}.align.middle`,zx=`${dr}.align.bottom`,Ux=`${dr}.borders`,Wx=`${dr}.borders.top`,Yx=`${dr}.borders.right`,$x=`${dr}.borders.bottom`,qx=`${dr}.borders.left`,Gx=`${dr}.borders.remove`,Kx=`${dr}.nestedHeaders.insertChildRow`,Xx=`${dr}.nestedHeaders.detachFromParent`,Zx=`${dr}.hideColumn`,Qx=`${dr}.showColumn`,Jx=`${dr}.hideRow`,t2=`${dr}.showRow`,xa="Filters:",Co=`${xa}conditions`,h0=`${Co}.none`,e2=`${Co}.isEmpty`,i2=`${Co}.isNotEmpty`,r2=`${Co}.isEqualTo`,n2=`${Co}.isNotEqualTo`,o2=`${Co}.beginsWith`,s2=`${Co}.endsWith`,a2=`${Co}.contains`,l2=`${Co}.doesNotContain`,Y2t=`${Co}.byValue`,c2=`${Co}.greaterThan`,d2=`${Co}.greaterThanOrEqualTo`,h2=`${Co}.lessThan`,u2=`${Co}.lessThanOrEqualTo`,f2=`${Co}.isBetween`,m2=`${Co}.isNotBetween`,p2=`${Co}.after`,g2=`${Co}.before`,b2=`${Co}.today`,v2=`${Co}.tomorrow`,y2=`${Co}.yesterday`,_2=`${xa}labels.filterByCondition`,w2=`${xa}labels.filterByValue`,C2=`${xa}labels.conjunction`,u0=`${xa}labels.disjunction`,ky=`${xa}values.blankCells`,x2=`${xa}buttons.selectAll`,S2=`${xa}buttons.clear`,E2=`${xa}buttons.ok`,R2=`${xa}buttons.cancel`,T2=`${xa}buttons.placeholder.search`,M2=`${xa}buttons.placeholder.value`,A2=`${xa}buttons.placeholder.secondValue`,R6="CheckboxRenderer:",I2=`${R6}checked`,k2=`${R6}unchecked`;var $2t={languageCode:"en-US",[hx]:"No available options",[ux]:"Insert row above",[fx]:"Insert row below",[mx]:"Insert column left",[px]:"Insert column right",[gx]:["Remove row","Remove rows"],[bx]:["Remove column","Remove columns"],[vx]:"Undo",[yx]:"Redo",[_x]:"Read only",[wx]:"Clear column",[Nx]:"Alignment",[Lx]:"Left",[Fx]:"Center",[Hx]:"Right",[Bx]:"Justify",[jx]:"Top",[Vx]:"Middle",[zx]:"Bottom",[Tx]:"Freeze column",[Mx]:"Unfreeze column",[Ux]:"Borders",[Wx]:"Top",[Yx]:"Right",[$x]:"Bottom",[qx]:"Left",[Gx]:"Remove border(s)",[kx]:"Add comment",[Dx]:"Edit comment",[Ox]:"Delete comment",[Px]:"Read-only comment",[Ax]:"Merge cells",[Ix]:"Unmerge cells",[Cx]:"Copy",[xx]:["Copy with header","Copy with headers"],[Sx]:["Copy with group header","Copy with group headers"],[Ex]:["Copy header only","Copy headers only"],[Rx]:"Cut",[Kx]:"Insert child row",[Xx]:"Detach from parent",[Zx]:["Hide column","Hide columns"],[Qx]:["Show column","Show columns"],[Jx]:["Hide row","Hide rows"],[t2]:["Show row","Show rows"],[h0]:"None",[e2]:"Is empty",[i2]:"Is not empty",[r2]:"Is equal to",[n2]:"Is not equal to",[o2]:"Begins with",[s2]:"Ends with",[a2]:"Contains",[l2]:"Does not contain",[c2]:"Greater than",[d2]:"Greater than or equal to",[h2]:"Less than",[u2]:"Less than or equal to",[f2]:"Is between",[m2]:"Is not between",[p2]:"After",[g2]:"Before",[b2]:"Today",[v2]:"Tomorrow",[y2]:"Yesterday",[ky]:"Blank cells",[_2]:"Filter by condition",[w2]:"Filter by value",[C2]:"And",[u0]:"Or",[x2]:"Select all",[S2]:"Clear",[E2]:"OK",[R2]:"Cancel",[T2]:"Search",[M2]:"Value",[A2]:"Second value",[I2]:"Checked",[k2]:"Unchecked"},T6=$2t;var uZ=wi,M6=T6.languageCode,{register:q2t,getItem:fZ,hasItem:G2t,getValues:K2t}=Zo("languagesDictionaries");A6(T6);function A6(e,t){let r=e,i=t;return gi(e)&&(i=e,r=i.languageCode),X2t(r,i),q2t(r,jo(i)),jo(i)}function X2t(e,t){e!==M6&&cZ(t,fZ(M6))}function I6(e){return NA(e)?jo(fZ(e)):null}function NA(e){return G2t(e)}function mZ(){return K2t()}function LA(e,t,r){let i=I6(e);if(i===null)return null;let n=i[t];if(vr(n))return null;let o=Z2t(n,r);return Array.isArray(o)?o[0]:o}function Z2t(e,t){let r=e;return St(dZ(),i=>{r=i(e,t)}),r}function pZ(e){let t=OA(e);return NA(t)||(t=M6,PA(e)),t}var Bie=ot(qt(),1),jie=ot(_e(),1),Vie=ot(yn(),1),zie=ot(_n(),1),Uie=ot(wn(),1),Wie=ot(Cn(),1),Yie=ot(xn(),1),$ie=ot(Sn(),1),qie=ot(En(),1);var nie=ot(qt(),1),oie=ot(_e(),1);var vee=ot(qt(),1);function Q2t(e,t,r){return t=J2t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J2t(e){var t=tSt(e,"string");return typeof t=="symbol"?t:t+""}function tSt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var k6=class extends dA{constructor(t,r){super(t,null),Q2t(this,"visualCellRange",null),this.visualCellRange=r||null,this.commit()}add(t){return this.visualCellRange===null?this.visualCellRange=this.settings.createCellRange(t):this.visualCellRange.expand(t),this}clear(){return this.visualCellRange=null,super.clear()}trimToVisibleCellsRangeOnly(t){let{from:r,to:i}=t,n=this.getNearestNotHiddenCoords(r,1),o=this.getNearestNotHiddenCoords(i,-1);return n===null||o===null?null:((n.row>o.row||n.col>o.col)&&(n=r,o=i),this.settings.createCellRange(n,n,o))}getNearestNotHiddenCoords(t,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:r,n=this.getNearestNotHiddenIndex(this.settings.rowIndexMapper,t.row,r);if(n===null)return null;let o=this.getNearestNotHiddenIndex(this.settings.columnIndexMapper,t.col,i);return o===null?null:this.settings.createCellCoords(n,o)}getNearestNotHiddenIndex(t,r,i){return r<0?r:t.getNearestNotHiddenIndex(r,i)}commit(){if(this.visualCellRange===null)return this;let t=this.trimToVisibleCellsRangeOnly(this.visualCellRange);return t===null?this.cellRange=null:this.cellRange=this.createRenderableCellRange(t.from,t.to),this}syncWith(t){let r=t.from.clone().normalize(),i=t.getVerticalDirection()==="N-S"?1:-1,n=t.getHorizontalDirection()==="W-E"?1:-1,o=this.settings.visualToRenderableCoords(this.visualCellRange.highlight),s=null;if((o===null||o.col===null||o.row===null)&&(s=this.getNearestNotHiddenCoords(r,i,n)),s!==null&&t.overlaps(s)){let a=t.highlight.clone();if(a.row>=0&&(a.row=s.row),a.col>=0&&(a.col=s.col),this.cellRange===null){let l=this.settings.visualToRenderableCoords(a);this.cellRange=this.settings.createCellRange(l)}t.setHighlight(a)}return this.settings.selectionType==="focus"&&o!==null&&s===null&&t.setHighlight(this.visualCellRange.highlight),this}getCorners(){let{from:t,to:r}=this.cellRange;return[Math.min(t.row,r.row),Math.min(t.col,r.col),Math.max(t.row,r.row),Math.max(t.col,r.col)]}getVisualCorners(){let t=this.settings.renderableToVisualCoords(this.cellRange.getTopStartCorner()),r=this.settings.renderableToVisualCoords(this.cellRange.getBottomEndCorner());return[t.row,t.col,r.row,r.col]}createRenderableCellRange(t,r){let i=this.settings.visualToRenderableCoords(t),n=this.settings.visualToRenderableCoords(r);return i.row===null||i.col===null||n.row===null||n.col===null?null:this.settings.createCellRange(i,i,n)}},zs=k6;function FA(e){let i=e,{activeHeaderClassName:t}=i,r=Fn(i,["activeHeaderClassName"]);return new zs(Ue(jt({className:t},r),{selectionType:Cy}))}function gZ(e){let i=e,{areaCornerVisible:t}=i,r=Fn(i,["areaCornerVisible"]);return new zs(Ue(jt({className:"area",createLayers:!0,border:{width:1,color:"#4b89ff",cornerVisible:t}},r),{selectionType:sp}))}function bZ(e){let t=Fn(e,[]);return new zs(Ue(jt({className:"highlight"},t),{selectionType:sp}))}function vZ(e){let i=e,{columnClassName:t}=i,r=Fn(i,["columnClassName"]);return new zs(Ue(jt({className:t},r),{selectionType:fA}))}function yZ(e){let i=e,{cellCornerVisible:t}=i,r=Fn(i,["cellCornerVisible"]);return new zs(Ue(jt({className:"current",headerAttributes:[Jv()],border:{width:2,color:"#4b89ff",cornerVisible:t}},r),{selectionType:s0}))}function _Z(e){let n=e,{border:t,visualCellRange:r}=n,i=Fn(n,["border","visualCellRange"]);return new zs(Ue(jt(jt({},t),i),{selectionType:mA}),r)}function wZ(e){let t=Fn(e,[]);return new zs(Ue(jt({className:"fill",border:{width:1,color:"#ff0000"}},t),{selectionType:hA}))}function D6(e){let i=e,{headerClassName:t}=i,r=Fn(i,["headerClassName"]);return new zs(Ue(jt({className:t},r),{selectionType:op}))}function CZ(e){let i=e,{rowClassName:t}=i,r=Fn(i,["rowClassName"]);return new zs(Ue(jt({className:t},r),{selectionType:uA}))}function eSt(e,t){iSt(e,t),t.add(e)}function iSt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _l(e,t,r){return t=rSt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rSt(e){var t=nSt(e,"string");return typeof t=="symbol"?t:t+""}function nSt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ff(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var Gh=new WeakSet,O6=class{constructor(t){eSt(this,Gh),_l(this,"options",void 0),_l(this,"layerLevel",0),_l(this,"focus",void 0),_l(this,"fill",void 0),_l(this,"layeredAreas",new Map),_l(this,"areas",new Map),_l(this,"rowHeaders",new Map),_l(this,"columnHeaders",new Map),_l(this,"activeRowHeaders",new Map),_l(this,"activeColumnHeaders",new Map),_l(this,"activeCornerHeaders",new Map),_l(this,"rowHighlights",new Map),_l(this,"columnHighlights",new Map),_l(this,"customSelections",[]),this.options=t,this.focus=yZ(t),this.fill=wZ(t)}isEnabledFor(t,r){let i=t;t===s0&&(i="current");let n=this.options.disabledCellSelection(r.row,r.col);return typeof n=="string"&&(n=[n]),n===!1||Array.isArray(n)&&!n.includes(i)}useLayerLevel(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.layerLevel=t,this}getFocus(){return this.focus}getFill(){return this.fill}createLayeredArea(){return ff(Gh,this,mf).call(this,this.layeredAreas,gZ)}getLayeredAreas(){return[...this.layeredAreas.values()]}createArea(){return ff(Gh,this,mf).call(this,this.areas,bZ)}getAreas(){return[...this.areas.values()]}createRowHeader(){return ff(Gh,this,mf).call(this,this.rowHeaders,D6)}getRowHeaders(){return[...this.rowHeaders.values()]}createColumnHeader(){return ff(Gh,this,mf).call(this,this.columnHeaders,D6)}getColumnHeaders(){return[...this.columnHeaders.values()]}createActiveRowHeader(){return ff(Gh,this,mf).call(this,this.activeRowHeaders,FA)}getActiveRowHeaders(){return[...this.activeRowHeaders.values()]}createActiveColumnHeader(){return ff(Gh,this,mf).call(this,this.activeColumnHeaders,FA)}getActiveColumnHeaders(){return[...this.activeColumnHeaders.values()]}createActiveCornerHeader(){return ff(Gh,this,mf).call(this,this.activeCornerHeaders,FA)}getActiveCornerHeaders(){return[...this.activeCornerHeaders.values()]}createRowHighlight(){return ff(Gh,this,mf).call(this,this.rowHighlights,CZ)}getRowHighlights(){return[...this.rowHighlights.values()]}createColumnHighlight(){return ff(Gh,this,mf).call(this,this.columnHighlights,vZ)}getColumnHighlights(){return[...this.columnHighlights.values()]}getCustomSelections(){return[...this.customSelections.values()]}addCustomSelection(t){this.customSelections.push(_Z(jt(jt({},this.options),t)))}clear(){this.focus.clear(),this.fill.clear(),St(this.areas.values(),t=>void t.clear()),St(this.layeredAreas.values(),t=>void t.clear()),St(this.rowHeaders.values(),t=>void t.clear()),St(this.columnHeaders.values(),t=>void t.clear()),St(this.activeRowHeaders.values(),t=>void t.clear()),St(this.activeColumnHeaders.values(),t=>void t.clear()),St(this.activeCornerHeaders.values(),t=>void t.clear()),St(this.rowHighlights.values(),t=>void t.clear()),St(this.columnHighlights.values(),t=>void t.clear())}[Symbol.iterator](){return[this.focus,this.fill,...this.areas.values(),...this.layeredAreas.values(),...this.rowHeaders.values(),...this.columnHeaders.values(),...this.activeRowHeaders.values(),...this.activeColumnHeaders.values(),...this.activeCornerHeaders.values(),...this.rowHighlights.values(),...this.columnHighlights.values(),...this.customSelections][Symbol.iterator]()}};function mf(e,t){let r=this.layerLevel;if(e.has(r))return e.get(r);let i=t(jt({layerLevel:r},this.options));return e.set(r,i),i}var xZ=O6;var yie=ot(qt(),1),_ie=ot(_e(),1);function SZ(e,t,r){return t=oSt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oSt(e){var t=sSt(e,"string");return typeof t=="symbol"?t:t+""}function sSt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var P6=class{constructor(t){SZ(this,"ranges",[]),SZ(this,"createCellRange",void 0),this.createCellRange=t}isEmpty(){return this.size()===0}set(t){return this.clear(),this.ranges.push(this.createCellRange(t)),this}add(t){return this.ranges.push(this.createCellRange(t)),this}pop(){return this.ranges.pop(),this}current(){return this.peekByIndex(this.size()-1)}previous(){return this.peekByIndex(this.size()-2)}includes(t){return this.ranges.some(r=>r.includes(t))}clear(){return this.ranges.length=0,this}size(){return this.ranges.length}peekByIndex(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r;return t>=0&&t<this.size()&&(r=this.ranges[t]),r}[Symbol.iterator](){return this.ranges[Symbol.iterator]()}},EZ=P6;var Cie=ot(qt(),1);function aSt(e,t){MZ(e,t),t.add(e)}function N6(e,t,r){MZ(e,t),t.set(e,r)}function MZ(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Qr(e,t){return e.get(hs(e,t))}function L6(e,t,r){return e.set(hs(e,t),r),r}function hs(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var HA=new WeakMap,no=new WeakMap,Kh=new WeakMap,vs=new WeakSet,BA=class{constructor(t,r){aSt(this,vs),N6(this,HA,void 0),N6(this,no,void 0),N6(this,Kh,{x:0,y:0}),L6(HA,this,t),L6(no,this,r)}transformStart(t,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=Qr(no,this).createCellCoords(t,r),o=Qr(HA,this).current().highlight,s=Qr(no,this).visualToRenderableCoords(o),a=0,l=0;if(this.runLocalHooks("beforeTransformStart",n),s.row!==null&&s.col!==null){let{width:c,height:d}=hs(vs,this,AZ).call(this),{row:h,col:u}=hs(vs,this,TZ).call(this,o),f=Qr(no,this).fixedRowsBottom(),m=Qr(no,this).minSpareRows(),g=Qr(no,this).minSpareCols(),p=Qr(no,this).autoWrapRow(),b=Qr(no,this).autoWrapCol(),_=Qr(no,this).createCellCoords(h+n.row,u+n.col);if(_.row>=d){let V=ya(i&&m>0&&f===0),H=_.col+1,F=Qr(no,this).createCellCoords(_.row-d,H>=c?H-c:H);this.runLocalHooks("beforeColumnWrap",V,hs(vs,this,Dy).call(this,F),H>=c),V.value?this.runLocalHooks("insertRowRequire",Qr(no,this).countRenderableRows()):b&&_.assign(F)}else if(_.row<0){let V=ya(b),H=_.col-1,F=Qr(no,this).createCellCoords(d+_.row,H<0?c+H:H);this.runLocalHooks("beforeColumnWrap",V,hs(vs,this,Dy).call(this,F),H<0),b&&_.assign(F)}if(_.col>=c){let V=ya(i&&g>0),H=_.row+1,F=Qr(no,this).createCellCoords(H>=d?H-d:H,_.col-c);this.runLocalHooks("beforeRowWrap",V,hs(vs,this,Dy).call(this,F),H>=d),V.value?this.runLocalHooks("insertColRequire",Qr(no,this).countRenderableColumns()):p&&_.assign(F)}else if(_.col<0){let V=ya(p),H=_.row-1,F=Qr(no,this).createCellCoords(H<0?d+H:H,c+_.col);this.runLocalHooks("beforeRowWrap",V,hs(vs,this,Dy).call(this,F),H<0),p&&_.assign(F)}let{rowDir:E,colDir:O}=hs(vs,this,RZ).call(this,_);a=E,l=O,o=hs(vs,this,Dy).call(this,_)}return this.runLocalHooks("afterTransformStart",o,a,l),o}transformEnd(t,r){let i=Qr(no,this).createCellCoords(t,r),n=Qr(HA,this).current(),o=Qr(no,this).visualToRenderableCoords(n.highlight),s=hs(vs,this,F6).call(this,n.to.row,n.from.row),a=hs(vs,this,H6).call(this,n.to.col,n.from.col),l=n.to.clone(),c=0,d=0;if(this.runLocalHooks("beforeTransformEnd",i),o.row!==null&&o.col!==null&&s!==null&&a!==null){let{row:h,col:u}=hs(vs,this,TZ).call(this,n.highlight),f=Qr(no,this).createCellCoords(s+i.row,a+i.col),m=n.getTopStartCorner(),g=n.getTopEndCorner(),p=n.getBottomEndCorner();if(i.col<0&&a>=u&&f.col<u){let O=f.col-u;f.col=hs(vs,this,H6).call(this,m.col,g.col)+O}else if(i.col>0&&a<=u&&f.col>u){let O=hs(vs,this,H6).call(this,g.col,m.col),V=Math.max(f.col-O,1);f.col=O+V}if(i.row<0&&s>=h&&f.row<h){let O=f.row-h;f.row=hs(vs,this,F6).call(this,m.row,p.row)+O}else if(i.row>0&&s<=h&&f.row>h){let O=hs(vs,this,F6).call(this,p.row,m.row),V=Math.max(f.row-O,1);f.row=O+V}let{rowDir:b,colDir:_}=hs(vs,this,RZ).call(this,f);c=b,d=_;let E=hs(vs,this,Dy).call(this,f);i.row===0&&i.col!==0?l.col=E.col:i.row!==0&&i.col===0?l.row=E.row:(l.row=E.row,l.col=E.col)}return this.runLocalHooks("afterTransformEnd",l,c,d),l}setOffsetSize(t){let{x:r,y:i}=t;L6(Kh,this,{x:r,y:i})}};function RZ(e){let{width:t,height:r}=hs(vs,this,AZ).call(this),i=0,n=0;return e.row<0?(i=-1,e.row=0):e.row>0&&e.row>=r&&(i=1,e.row=r-1),e.col<0?(n=-1,e.col=0):e.col>0&&e.col>=t&&(n=1,e.col=t-1),{rowDir:i,colDir:n}}function AZ(){return{width:Qr(Kh,this).x+Qr(no,this).countRenderableColumns(),height:Qr(Kh,this).y+Qr(no,this).countRenderableRows()}}function F6(e,t){let r=Qr(no,this).findFirstNonHiddenRenderableRow(e,t);return r===null?null:Qr(Kh,this).y+r}function H6(e,t){let r=Qr(no,this).findFirstNonHiddenRenderableColumn(e,t);return r===null?null:Qr(Kh,this).x+r}function TZ(e){let{row:t,col:r}=Qr(no,this).visualToRenderableCoords(e);if(t===null||r===null)throw new Error("Renderable coords are not visible.");return Qr(no,this).createCellCoords(Qr(Kh,this).y+t,Qr(Kh,this).x+r)}function Dy(e){let t=e.clone();return t.col=e.col-Qr(Kh,this).x,t.row=e.row-Qr(Kh,this).y,Qr(no,this).renderableToVisualCoords(t)}Zi(BA,Bn);var B6=BA;var Rie=ot(qt(),1),Tie=ot(_e(),1),Mie=ot(yn(),1),Aie=ot(_n(),1),Iie=ot(wn(),1),kie=ot(Cn(),1),Die=ot(xn(),1),Oie=ot(Sn(),1),Pie=ot(En(),1);var D2=0,O2=1,kZ=2,V6=3,lSt=[V6,kZ],cSt=[["number"],["number","string"],["number","undefined"],["number","string","undefined"]],j6=Symbol("root"),IZ=Symbol("child");function pf(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:j6;if(t!==j6&&t!==IZ)throw new Error("The second argument is used internally only and cannot be overwritten.");let r=Array.isArray(e),i=t===j6,n=D2;if(r){let o=e[0];e.length===0?n=O2:i&&o instanceof e0?n=V6:i&&Array.isArray(o)?n=pf(o,IZ):e.length>=2&&e.length<=4&&!e.some((a,l)=>!cSt[l].includes(typeof a))&&(n=kZ)}return n}function dp(e){let{createCellCoords:t,createCellRange:r,keepDirection:i=!1,propToCol:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!lSt.includes(e))throw new Error("Unsupported selection ranges schema type was provided.");return function(o){let s=e===V6,a=s?o.from.row:o[0],l=s?o.from.col:o[1],c=s?o.to.row:o[2],d=s?o.to.col:o[3];if(typeof n=="function"&&(typeof l=="string"&&(l=n(l)),typeof d=="string"&&(d=n(d))),vr(c)&&(c=a),vr(d)&&(d=l),!i){let f=a,m=l,g=c,p=d;a=Math.min(f,g),l=Math.min(m,p),c=Math.max(f,g),d=Math.max(m,p)}let h=t(a,l),u=t(c,d);return r(h,h,u)}}function DZ(e){let t=pf(e.getSelected());if(t===D2||t===O2)return[];let r=dp(t,{createCellCoords:e._createCellCoords.bind(e),createCellRange:e._createCellRange.bind(e)}),i=new Set;St(e.getSelected(),s=>{let{from:a,to:l}=r(s),c=Math.max(a.col,0),d=l.col-c+1;St(Array.from(new Array(d),(h,u)=>c+u),h=>{i.has(h)||i.add(h)})});let n=Array.from(i).sort((s,a)=>s-a);return cn(n,(s,a,l,c)=>(l!==0&&a===c[l-1]+1?s[s.length-1][1]+=1:s.push([a,1]),s),[])}function OZ(e){let t=pf(e.getSelected());if(t===D2||t===O2)return[];let r=dp(t,{createCellCoords:e._createCellCoords.bind(e),createCellRange:e._createCellRange.bind(e)}),i=new Set;St(e.getSelected(),s=>{let{from:a,to:l}=r(s),c=Math.max(a.row,0),d=l.row-c+1;St(Array.from(new Array(d),(h,u)=>c+u),h=>{i.has(h)||i.add(h)})});let n=Array.from(i).sort((s,a)=>s-a);return cn(n,(s,a,l,c)=>(l!==0&&a===c[l-1]+1?s[s.length-1][1]+=1:s.push([a,1]),s),[])}function Oy(e,t,r){dSt(e,t),t.set(e,r)}function dSt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function f0(e,t,r){return t=hSt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hSt(e){var t=uSt(e,"string");return typeof t=="symbol"?t:t+""}function uSt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mo(e,t){return e.get(PZ(e,t))}function Xh(e,t,r){return e.set(PZ(e,t),r),r}function PZ(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var wl=new WeakMap,m0=new WeakMap,jA=new WeakMap,P2=new WeakMap,VA=new WeakMap,N2=new WeakMap,zA=class{constructor(t,r){var i=this;f0(this,"settings",void 0),f0(this,"tableProps",void 0),f0(this,"inProgress",!1),f0(this,"selectedRange",new EZ((n,o,s)=>this.tableProps.createCellRange(n,o,s))),f0(this,"highlight",void 0),Oy(this,wl,void 0),Oy(this,m0,void 0),f0(this,"selectedByRowHeader",new Set),f0(this,"selectedByColumnHeader",new Set),Oy(this,jA,!1),Oy(this,P2,!1),Oy(this,VA,"unknown"),Oy(this,N2,-1),this.settings=t,this.tableProps=r,this.highlight=new xZ({headerClassName:t.currentHeaderClassName,activeHeaderClassName:t.activeHeaderClassName,rowClassName:t.currentRowClassName,columnClassName:t.currentColClassName,cellAttributes:[Jv()],rowIndexMapper:this.tableProps.rowIndexMapper,columnIndexMapper:this.tableProps.columnIndexMapper,disabledCellSelection:(n,o)=>this.tableProps.isDisabledCellSelection(n,o),cellCornerVisible:function(){return i.isCellCornerVisible(...arguments)},areaCornerVisible:function(){return i.isAreaCornerVisible(...arguments)},visualToRenderableCoords:n=>this.tableProps.visualToRenderableCoords(n),renderableToVisualCoords:n=>this.tableProps.renderableToVisualCoords(n),createCellCoords:(n,o)=>this.tableProps.createCellCoords(n,o),createCellRange:(n,o,s)=>this.tableProps.createCellRange(n,o,s)}),Xh(wl,this,new B6(this.selectedRange,{rowIndexMapper:this.tableProps.rowIndexMapper,columnIndexMapper:this.tableProps.columnIndexMapper,countRenderableRows:()=>this.tableProps.countRenderableRows(),countRenderableColumns:()=>this.tableProps.countRenderableColumns(),visualToRenderableCoords:n=>this.tableProps.visualToRenderableCoords(n),renderableToVisualCoords:n=>this.tableProps.renderableToVisualCoords(n),findFirstNonHiddenRenderableRow:function(){return i.tableProps.findFirstNonHiddenRenderableRow(...arguments)},findFirstNonHiddenRenderableColumn:function(){return i.tableProps.findFirstNonHiddenRenderableColumn(...arguments)},createCellCoords:(n,o)=>this.tableProps.createCellCoords(n,o),fixedRowsBottom:()=>t.fixedRowsBottom,minSpareRows:()=>t.minSpareRows,minSpareCols:()=>t.minSpareCols,autoWrapRow:()=>t.autoWrapRow,autoWrapCol:()=>t.autoWrapCol})),Xh(m0,this,new B6(this.selectedRange,{rowIndexMapper:this.tableProps.rowIndexMapper,columnIndexMapper:this.tableProps.columnIndexMapper,countRenderableRows:()=>{let n=this.selectedRange.current();return this.tableProps.countRenderableRowsInRange(0,n.getOuterBottomEndCorner().row)},countRenderableColumns:()=>{let n=this.selectedRange.current();return this.tableProps.countRenderableColumnsInRange(0,n.getOuterBottomEndCorner().col)},visualToRenderableCoords:n=>this.tableProps.visualToRenderableCoords(n),renderableToVisualCoords:n=>this.tableProps.renderableToVisualCoords(n),findFirstNonHiddenRenderableRow:function(){return i.tableProps.findFirstNonHiddenRenderableRow(...arguments)},findFirstNonHiddenRenderableColumn:function(){return i.tableProps.findFirstNonHiddenRenderableColumn(...arguments)},createCellCoords:(n,o)=>this.tableProps.createCellCoords(n,o),fixedRowsBottom:()=>0,minSpareRows:()=>0,minSpareCols:()=>0,autoWrapRow:()=>!0,autoWrapCol:()=>!0})),Mo(wl,this).addLocalHook("beforeTransformStart",function(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return i.runLocalHooks("beforeModifyTransformStart",...o)}),Mo(wl,this).addLocalHook("afterTransformStart",function(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return i.runLocalHooks("afterModifyTransformStart",...o)}),Mo(wl,this).addLocalHook("beforeTransformEnd",function(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return i.runLocalHooks("beforeModifyTransformEnd",...o)}),Mo(wl,this).addLocalHook("afterTransformEnd",function(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return i.runLocalHooks("afterModifyTransformEnd",...o)}),Mo(wl,this).addLocalHook("insertRowRequire",function(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return i.runLocalHooks("insertRowRequire",...o)}),Mo(wl,this).addLocalHook("insertColRequire",function(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return i.runLocalHooks("insertColRequire",...o)}),Mo(wl,this).addLocalHook("beforeRowWrap",function(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return i.runLocalHooks("beforeRowWrap",...o)}),Mo(wl,this).addLocalHook("beforeColumnWrap",function(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return i.runLocalHooks("beforeColumnWrap",...o)}),Mo(m0,this).addLocalHook("beforeTransformStart",function(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return i.runLocalHooks("beforeModifyTransformFocus",...o)}),Mo(m0,this).addLocalHook("afterTransformStart",function(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return i.runLocalHooks("afterModifyTransformFocus",...o)})}getSelectedRange(){return this.selectedRange}markSource(t){Xh(VA,this,t)}markEndSource(){Xh(VA,this,"unknown")}getSelectionSource(){return Mo(VA,this)}setExpectedLayers(t){Xh(N2,this,t)}begin(){this.inProgress=!0}finish(){this.runLocalHooks("afterSelectionFinished",Array.from(this.selectedRange)),this.inProgress=!1,Xh(N2,this,-1)}isInProgress(){return this.inProgress}setRangeStart(t,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:t,o=this.settings.selectionMode==="multiple",s=vr(r)?this.tableProps.getShortcutManager().isCtrlPressed():r,a=t.clone();Xh(jA,this,!1),this.runLocalHooks(`beforeSetRangeStart${i?"Only":""}`,a),(!o||o&&!s&&vr(r))&&this.selectedRange.clear(),this.selectedRange.add(a).current().setHighlight(n.clone()),this.getLayerLevel()===0&&(this.selectedByRowHeader.clear(),this.selectedByColumnHeader.clear()),i||this.setRangeEnd(t)}setRangeStartOnly(t,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t;this.setRangeStart(t,r,!0,i)}setRangeEnd(t){if(this.selectedRange.isEmpty())return;let r=t.clone(),i=this.tableProps.countRows(),n=this.tableProps.countCols(),o=this.selectedRange.current().clone().setTo(t).isSingleHeader();if((i>0||n>0)&&(i===0&&r.col<0&&!o||n===0&&r.row<0&&!o))return;this.runLocalHooks("beforeSetRangeEnd",r),this.begin();let s=this.selectedRange.current();if(this.settings.navigableHeaders||s.highlight.normalize(),this.settings.selectionMode==="single")s.setFrom(s.highlight),s.setTo(s.highlight);else{let l=s.getHorizontalDirection(),c=s.getVerticalDirection(),d=this.isMultiple();s.setTo(r),d&&(l!==s.getHorizontalDirection()||s.getWidth()===1&&!s.includes(s.highlight))&&s.from.assign({col:s.highlight.col}),d&&(c!==s.getVerticalDirection()||s.getHeight()===1&&!s.includes(s.highlight))&&s.from.assign({row:s.highlight.row})}i>0&&n>0&&(!this.settings.navigableHeaders||this.settings.navigableHeaders&&!s.isSingleHeader())&&s.to.normalize(),this.runLocalHooks("beforeHighlightSet"),this.setRangeFocus(this.selectedRange.current().highlight),this.applyAndCommit();let a=Mo(N2,this)===-1||this.selectedRange.size()===Mo(N2,this);this.runLocalHooks("afterSetRangeEnd",t,a)}applyAndCommit(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectedRange.current(),r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLayerLevel(),i=this.tableProps.countRows(),n=this.tableProps.countCols();r<this.highlight.layerLevel&&(St(this.highlight.getAreas(),m=>void m.clear()),St(this.highlight.getLayeredAreas(),m=>void m.clear()),St(this.highlight.getRowHeaders(),m=>void m.clear()),St(this.highlight.getColumnHeaders(),m=>void m.clear()),St(this.highlight.getActiveRowHeaders(),m=>void m.clear()),St(this.highlight.getActiveColumnHeaders(),m=>void m.clear()),St(this.highlight.getActiveCornerHeaders(),m=>void m.clear()),St(this.highlight.getRowHighlights(),m=>void m.clear()),St(this.highlight.getColumnHighlights(),m=>void m.clear())),this.highlight.useLayerLevel(r);let o=this.highlight.createArea(),s=this.highlight.createLayeredArea(),a=this.highlight.createRowHeader(),l=this.highlight.createColumnHeader(),c=this.highlight.createActiveRowHeader(),d=this.highlight.createActiveColumnHeader(),h=this.highlight.createActiveCornerHeader(),u=this.highlight.createRowHighlight(),f=this.highlight.createColumnHighlight();if(o.clear(),s.clear(),a.clear(),l.clear(),c.clear(),d.clear(),h.clear(),u.clear(),f.clear(),this.highlight.isEnabledFor(sp,t.highlight)&&(this.isMultiple()||r>=1)&&(o.add(t.from).add(t.to).commit(),s.add(t.from).add(t.to).commit(),r===1)){let m=this.selectedRange.previous();this.highlight.useLayerLevel(r-1),this.highlight.createArea().add(m.from).commit().syncWith(m),this.highlight.createLayeredArea().add(m.from).commit().syncWith(m),this.highlight.useLayerLevel(r)}if(this.highlight.isEnabledFor(op,t.highlight)){if(!t.isSingleHeader()){let p=this.tableProps.createCellCoords(Math.max(t.from.row,0),-1),b=this.tableProps.createCellCoords(t.to.row,-1),_=this.tableProps.createCellCoords(-1,Math.max(t.from.col,0)),E=this.tableProps.createCellCoords(-1,t.to.col);this.settings.selectionMode==="single"?(a.add(p).commit(),l.add(_).commit(),u.add(p).commit(),f.add(_).commit()):(a.add(p).add(b).commit(),l.add(_).add(E).commit(),u.add(p).add(b).commit(),f.add(_).add(E).commit())}let m=!Mo(P2,this)&&this.isEntireRowSelected()&&(n>0&&n===t.getWidth()||n===0&&this.isSelectedByRowHeader()),g=!Mo(P2,this)&&this.isEntireColumnSelected()&&(i>0&&i===t.getHeight()||i===0&&this.isSelectedByColumnHeader());m&&c.add(this.tableProps.createCellCoords(Math.max(t.from.row,0),Math.min(-this.tableProps.countRowHeaders(),-1))).add(this.tableProps.createCellCoords(Math.max(t.to.row,0),-1)).commit(),g&&d.add(this.tableProps.createCellCoords(Math.min(-this.tableProps.countColHeaders(),-1),Math.max(t.from.col,0))).add(this.tableProps.createCellCoords(-1,Math.max(t.to.col,0))).commit(),m&&g&&h.add(this.tableProps.createCellCoords(-this.tableProps.countColHeaders(),-this.tableProps.countRowHeaders())).add(this.tableProps.createCellCoords(-1,-1)).commit()}}setRangeFocus(t){if(this.selectedRange.isEmpty())return;let r=this.selectedRange.current();this.inProgress||this.runLocalHooks("beforeSetFocus",t);let i=this.highlight.getFocus();i.clear(),r.setHighlight(t),this.inProgress||this.runLocalHooks("beforeHighlightSet"),this.highlight.isEnabledFor(s0,r.highlight)&&i.add(r.highlight).commit().syncWith(r),this.inProgress||(Xh(jA,this,!0),this.runLocalHooks("afterSetFocus",r.highlight))}transformStart(t,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.settings.navigableHeaders&&Mo(wl,this).setOffsetSize({x:this.tableProps.countRowHeaders(),y:this.tableProps.countColHeaders()}),this.setRangeStart(Mo(wl,this).transformStart(t,r,i))}transformEnd(t,r){this.settings.navigableHeaders&&Mo(wl,this).setOffsetSize({x:this.tableProps.countRowHeaders(),y:this.tableProps.countColHeaders()}),this.setRangeEnd(Mo(wl,this).transformEnd(t,r))}transformFocus(t,r){let i=this.selectedRange.current(),{row:n,col:o}=i.getOuterTopStartCorner(),s=this.tableProps.countRenderableColumnsInRange(0,o-1),a=this.tableProps.countRenderableRowsInRange(0,n-1);i.highlight.isHeader()?Mo(m0,this).setOffsetSize({x:o<0?Math.abs(o):-s,y:n<0?Math.abs(n):-a}):Mo(m0,this).setOffsetSize({x:o<0?0:-s,y:n<0?0:-a});let l=Mo(m0,this).transformStart(t,r);this.setRangeFocus(l.normalize())}shiftRows(t,r){if(!this.isSelected())return;let i=this.selectedRange.current();if(this.isSelectedByCorner())this.selectAll(!0,!0,{disableHeadersHighlight:!0});else if(this.isSelectedByColumnHeader()||i.getOuterTopStartCorner().row>=t){let{from:n,to:o,highlight:s}=i,a=this.tableProps.countRows(),l=this.isSelectedByRowHeader(),c=this.isSelectedByColumnHeader(),d=c?-1:0,h=c?0:r;this.getSelectedRange().pop();let u=this.tableProps.createCellCoords(qr(n.row+h,d,a-1),n.col),f=this.tableProps.createCellCoords(qr(o.row+r,d,a-1),o.col);this.markSource("shift"),s.row>=t?this.setRangeStartOnly(u,!0,this.tableProps.createCellCoords(qr(s.row+r,0,a-1),s.col)):this.setRangeStartOnly(u,!0),l&&this.selectedByRowHeader.add(this.getLayerLevel()),c&&this.selectedByColumnHeader.add(this.getLayerLevel()),this.setRangeEnd(f),this.markEndSource()}}shiftColumns(t,r){if(!this.isSelected())return;let i=this.selectedRange.current();if(this.isSelectedByCorner())this.selectAll(!0,!0,{disableHeadersHighlight:!0});else if(this.isSelectedByRowHeader()||i.getOuterTopStartCorner().col>=t){let{from:n,to:o,highlight:s}=i,a=this.tableProps.countCols(),l=this.isSelectedByRowHeader(),c=this.isSelectedByColumnHeader(),d=l?-1:0,h=l?0:r;this.getSelectedRange().pop();let u=this.tableProps.createCellCoords(n.row,qr(n.col+h,d,a-1)),f=this.tableProps.createCellCoords(o.row,qr(o.col+r,d,a-1));this.markSource("shift"),s.col>=t?this.setRangeStartOnly(u,!0,this.tableProps.createCellCoords(s.row,qr(s.col+r,0,a-1))):this.setRangeStartOnly(u,!0),l&&this.selectedByRowHeader.add(this.getLayerLevel()),c&&this.selectedByColumnHeader.add(this.getLayerLevel()),this.setRangeEnd(f),this.markEndSource()}}getLayerLevel(){return this.selectedRange.size()-1}isSelected(){return!this.selectedRange.isEmpty()}isMultiple(){if(!this.isSelected())return!1;let t=ya(!this.selectedRange.current().isSingle());return this.runLocalHooks("afterIsMultipleSelection",t),t.value}isFocusSelectionChanged(){return this.isSelected()&&Mo(jA,this)}isSelectedByRowHeader(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getLayerLevel();return!this.isSelectedByCorner(t)&&(t===-1?this.selectedByRowHeader.size>0:this.selectedByRowHeader.has(t))}isEntireRowSelected(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getLayerLevel(),r=n=>{let{col:o}=n.getOuterTopStartCorner(),s=this.tableProps.countRowHeaders(),a=this.tableProps.countCols();return(s>0&&o<0||s===0)&&n.getWidth()===a};if(t===-1)return Array.from(this.selectedRange).some(n=>r(n));let i=this.selectedRange.peekByIndex(t);return i?r(i):!1}isSelectedByColumnHeader(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getLayerLevel();return!this.isSelectedByCorner()&&(t===-1?this.selectedByColumnHeader.size>0:this.selectedByColumnHeader.has(t))}isEntireColumnSelected(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getLayerLevel(),r=n=>{let{row:o}=n.getOuterTopStartCorner(),s=this.tableProps.countColHeaders(),a=this.tableProps.countRows();return(s>0&&o<0||s===0)&&n.getHeight()===a};if(t===-1)return Array.from(this.selectedRange).some(n=>r(n));let i=this.selectedRange.peekByIndex(t);return i?r(i):!1}isSelectedByAnyHeader(){return this.isSelectedByRowHeader(-1)||this.isSelectedByColumnHeader(-1)||this.isSelectedByCorner()}isSelectedByCorner(){return this.selectedByColumnHeader.has(this.getLayerLevel())&&this.selectedByRowHeader.has(this.getLayerLevel())}inInSelection(t){return this.selectedRange.includes(t)}isCellCornerVisible(){return this.settings.fillHandle&&!this.tableProps.isEditorOpened()&&!this.isMultiple()}isCellVisible(t){let r=this.tableProps.visualToRenderableCoords(t);return r.row!==null&&r.col!==null}isAreaCornerVisible(t){return Number.isInteger(t)&&t!==this.getLayerLevel()?!1:this.settings.fillHandle&&!this.tableProps.isEditorOpened()&&this.isMultiple()}clear(){this.selectedRange.clear(),this.highlight.clear()}deselect(){this.isSelected()&&(this.inProgress=!1,this.clear(),this.runLocalHooks("afterDeselect"))}selectAll(){var t;let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{focusPosition:!1,disableHeadersHighlight:!1},o=this.tableProps.countRows(),s=this.tableProps.countCols(),a=this.tableProps.countRowHeaders(),l=this.tableProps.countColHeaders(),c=i?-l:0,d=r?-a:0;if(c===0&&d===0&&(o===0||s===0))return;let h=(t=this.getSelectedRange().current())===null||t===void 0?void 0:t.highlight,{focusPosition:u,disableHeadersHighlight:f}=n;Xh(P2,this,f),u&&Number.isInteger(u?.row)&&Number.isInteger(u?.col)&&(h=this.tableProps.createCellCoords(qr(u.row,c,o-1),qr(u.col,d,s-1)));let m=this.tableProps.createCellCoords(c,d),g=this.tableProps.createCellCoords(o-1,s-1);this.clear(),this.setRangeStartOnly(m,void 0,h),d<0&&this.selectedByRowHeader.add(this.getLayerLevel()),c<0&&this.selectedByColumnHeader.add(this.getLayerLevel()),this.setRangeEnd(g),this.finish(),Xh(P2,this,!1)}selectCells(t){var r=this;let i=pf(t);if(i===O2)return!1;if(i===D2)throw new Error(Gi`Unsupported format of the selection ranges was passed. To select cells pass\x20
        the coordinates as an array of arrays ([[rowStart, columnStart/columnPropStart, rowEnd,\x20
        columnEnd/columnPropEnd]]) or as an array of CellRange objects.`);let n=dp(i,{createCellCoords:function(){return r.tableProps.createCellCoords(...arguments)},createCellRange:function(){return r.tableProps.createCellRange(...arguments)},propToCol:l=>this.tableProps.propToCol(l),keepDirection:!0}),o=this.settings.navigableHeaders,s={countRows:this.tableProps.countRows(),countCols:this.tableProps.countCols(),countRowHeaders:o?this.tableProps.countRowHeaders():0,countColHeaders:o?this.tableProps.countColHeaders():0},a=!t.some(l=>{let c=n(l),d=c.isValid(s);return!(d&&!c.containsHeaders()||d&&c.containsHeaders()&&c.isSingleHeader())});return a&&(this.clear(),this.setExpectedLayers(t.length),St(t,l=>{let{from:c,to:d}=n(l);this.setRangeStartOnly(c.clone(),!1),this.setRangeEnd(d.clone())}),this.finish()),a}selectColumns(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=typeof t=="string"?this.tableProps.propToCol(t):t,o=typeof r=="string"?this.tableProps.propToCol(r):r,s=this.tableProps.countRows(),a=this.tableProps.countCols(),l=this.tableProps.countColHeaders(),c=l===0?0:-l,d=this.tableProps.createCellCoords(c,n),h=this.tableProps.createCellCoords(s-1,o),u=this.tableProps.createCellRange(d,d,h).isValid({countRows:s,countCols:a,countRowHeaders:0,countColHeaders:l});if(u){let f=0,m=0;Number.isInteger(i?.row)&&Number.isInteger(i?.col)?(f=qr(i.row,c,s-1),m=qr(i.col,Math.min(n,o),Math.max(n,o))):(f=qr(i,c,s-1),m=n);let g=this.tableProps.createCellCoords(f,m),p=l===0?0:qr(g.row,c,-1),b=s-1,_=this.tableProps.createCellCoords(p,n),E=this.tableProps.createCellCoords(b,o);this.runLocalHooks("beforeSelectColumns",_,E,g),_.row=p,E.row=b,this.setRangeStartOnly(_,void 0,g),this.selectedByColumnHeader.add(this.getLayerLevel()),this.setRangeEnd(E),this.runLocalHooks("afterSelectColumns",_,E,g),this.finish()}return u}selectRows(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=this.tableProps.countRows(),o=this.tableProps.countCols(),s=this.tableProps.countRowHeaders(),a=s===0?0:-s,l=this.tableProps.createCellCoords(t,a),c=this.tableProps.createCellCoords(r,o-1),d=this.tableProps.createCellRange(l,l,c).isValid({countRows:n,countCols:o,countRowHeaders:s,countColHeaders:0});if(d){let h=0,u=0;Number.isInteger(i?.row)&&Number.isInteger(i?.col)?(h=qr(i.row,Math.min(t,r),Math.max(t,r)),u=qr(i.col,a,o-1)):(h=t,u=qr(i,a,o-1));let f=this.tableProps.createCellCoords(h,u),m=s===0?0:qr(f.col,a,-1),g=o-1,p=this.tableProps.createCellCoords(t,m),b=this.tableProps.createCellCoords(r,g);this.runLocalHooks("beforeSelectRows",p,b,f),p.col=m,b.col=g,this.setRangeStartOnly(p,void 0,f),this.selectedByRowHeader.add(this.getLayerLevel()),this.setRangeEnd(b),this.runLocalHooks("afterSelectRows",p,b,f),this.finish()}return d}refresh(){if(!this.isSelected())return;let t=this.tableProps.countRows(),r=this.tableProps.countCols();if(t===0||r===0){this.deselect();return}let i=this.selectedRange.peekByIndex(this.selectedRange.size()-1),{from:n,to:o,highlight:s}=i;this.clear(),s.assign({row:qr(s.row,-1/0,t-1),col:qr(s.col,-1/0,r-1)}),n.assign({row:qr(n.row,-1/0,t-1),col:qr(n.col,-1/0,r-1)}),o.assign({row:qr(o.row,0,t-1),col:qr(o.col,0,r-1)}),this.selectedRange.ranges.push(i),this.highlight.getFocus().add(s).commit().syncWith(i),this.applyAndCommit(i)}commit(){if(this.highlight.getCustomSelections().forEach(n=>{n.commit()}),!this.isSelected())return;let r=this.highlight.getFocus(),i=this.getLayerLevel();r.commit().syncWith(this.selectedRange.current());for(let n=0;n<this.selectedRange.size();n+=1){this.highlight.useLayerLevel(n);let o=this.highlight.createArea(),s=this.highlight.createLayeredArea(),a=this.highlight.createRowHeader(),l=this.highlight.createColumnHeader(),c=this.highlight.createActiveRowHeader(),d=this.highlight.createActiveColumnHeader(),h=this.highlight.createActiveCornerHeader(),u=this.highlight.createRowHighlight(),f=this.highlight.createColumnHighlight();o.commit(),s.commit(),a.commit(),l.commit(),c.commit(),d.commit(),h.commit(),u.commit(),f.commit()}this.highlight.useLayerLevel(i)}};Zi(zA,Bn);var z6=zA;var fre=ot(qt(),1),mre=ot(_e(),1);var NZ=/^(\r\n|\n\r|\r|\n)/,fSt=/^[^\t\r\n]+/,LZ=/^\t/;function U6(e){let t=[[""]];if(e.length===0)return t;let r=0,i=0,n;for(;e.length>0&&n!==e.length;)if(n=e.length,e.match(LZ))e=e.replace(LZ,""),r+=1,t[i][r]="";else if(e.match(NZ))e=e.replace(NZ,""),r=0,i+=1,t[i]=[""];else{let o="";if(e.startsWith('"')){let s=0,a=!0;for(;a;){let l=e.slice(0,1);l==='"'&&(s+=1),o+=l,e=e.slice(1),(e.length===0||e.match(/^[\t\r\n]/)&&s%2===0)&&(a=!1)}o=o.replace(/^"/,"").replace(/"$/,"").replace(/["]*/g,l=>new Array(Math.floor(l.length/2)).fill('"').join(""))}else{let s=e.match(fSt);o=s?s[0]:"",e=e.slice(o.length)}t[i][r]=o}return t}function hp(e){let t,r,i,n,o="",s;for(t=0,r=e.length;t<r;t+=1){for(n=e[t].length,i=0;i<n;i+=1)i>0&&(o+="	"),s=e[t][i],typeof s=="string"?s.indexOf(`
`)>-1?o+=`"${s.replace(/"/g,'""')}"`:o+=s:s==null?o+="":o+=s;t!==r-1&&(o+=`
`)}return o}function p0(e,t,r){return t=mSt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mSt(e){var t=pSt(e,"string");return typeof t=="symbol"?t:t+""}function pSt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var W6=class e{static get DESTINATION_RENDERER(){return 1}static get DESTINATION_CLIPBOARD_GENERATOR(){return 2}constructor(t,r,i){p0(this,"hot",void 0),p0(this,"metaManager",void 0),p0(this,"tableMeta",void 0),p0(this,"dataSource",void 0),p0(this,"duckSchema",void 0),p0(this,"colToPropCache",void 0),p0(this,"propToColCache",void 0),this.hot=t,this.metaManager=i,this.tableMeta=i.getTableMeta(),this.dataSource=r,this.duckSchema=this.createDuckSchema(),this.createMap()}createMap(){let t=this.getSchema();if(typeof t>"u")throw new Error("trying to create `columns` definition but you didn't provide `schema` nor `data`");let r=this.tableMeta.columns,i;if(this.colToPropCache=[],this.propToColCache=new Map,r){let n=0,o=0,s=!1;if(typeof r=="function"){let a=oy(t);n=a>0?a:this.countFirstRowKeys(),s=!0}else{let a=this.tableMeta.maxCols;n=Math.min(a,r.length)}for(i=0;i<n;i++){let a=s?r(i):r[i];if(gi(a)){if(typeof a.data<"u"){let l=s?o:i;this.colToPropCache[l]=a.data,this.propToColCache.set(a.data,l)}o+=1}}}else this.recursiveDuckColumns(t)}countFirstRowKeys(){return RA(this.dataSource)}recursiveDuckColumns(t,r,i){let n=r,o=i,s;return typeof n>"u"&&(n=0,o=""),typeof t=="object"&&!Array.isArray(t)&&bi(t,(a,l)=>{a===null?(s=o+l,this.colToPropCache.push(s),this.propToColCache.set(s,n),n+=1):n=this.recursiveDuckColumns(a,n,`${l}.`)}),n}colToProp(t){if(Number.isInteger(t)===!1)return t;let r=this.hot.toPhysicalColumn(t);return r===null?t:this.colToPropCache&&Ne(this.colToPropCache[r])?this.colToPropCache[r]:r}propToCol(t){let r=this.propToColCache.get(t);if(Ne(r))return this.hot.toVisualColumn(r);let i=this.hot.toVisualColumn(t);return i===null?t:i}getSchema(){let t=this.tableMeta.dataSchema;return t?typeof t=="function"?t():t:this.duckSchema}createDuckSchema(){return this.dataSource&&this.dataSource[0]?Qg(this.dataSource[0]):{}}refreshDuckSchema(){this.duckSchema=this.createDuckSchema()}createRow(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,{source:i,mode:n="above"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=this.hot.countSourceRows(),s=o,a=0,l=t;if((typeof l!="number"||l>=o)&&(l=o),l<this.hot.countRows()&&(s=this.hot.toPhysicalRow(l)),this.hot.runHooks("beforeCreateRow",l,r,i)===!1||s===null)return{delta:0};let d=this.tableMeta.maxRows,h=this.getSchema().length,u=[];for(;a<r&&o+a<d;){let m=null;this.hot.dataType==="array"?this.tableMeta.dataSchema?m=jo(this.getSchema()):(m=[],Oe(h-1,()=>m.push(null))):this.hot.dataType==="function"?m=this.tableMeta.dataSchema(l+a):(m={},Jg(m,this.getSchema())),u.push(m),a+=1}this.hot.rowIndexMapper.insertIndexes(l,a),n==="below"&&(s=Math.min(s+1,o)),this.spliceData(s,0,u);let f=this.hot.toVisualRow(s);return this.hot.countSourceRows()===u.length&&this.hot.columnIndexMapper.initToLength(this.hot.getInitialColumnCount()),a>0&&(t==null?this.metaManager.createRow(null,a):i!=="auto"&&this.metaManager.createRow(s,r)),this.hot.runHooks("afterCreateRow",f,a,i),this.hot.forceFullRender=!0,{delta:a,startPhysicalIndex:s}}createCol(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,{source:i,mode:n="start"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!this.hot.isColumnModificationAllowed())throw new Error("Cannot create new column. When data source in an object, you can only have as much columns as defined in first data row, data schema or in the 'columns' setting.If you want to be able to add new columns, you have to use array datasource.");let o=this.dataSource,s=this.tableMeta.maxCols,a=this.hot.countSourceCols(),l=t;if((typeof l!="number"||l>=a)&&(l=a),this.hot.runHooks("beforeCreateCol",l,r,i)===!1)return{delta:0};let d=a;l<this.hot.countCols()&&(d=this.hot.toPhysicalColumn(l));let h=this.hot.countSourceRows(),u=this.hot.countCols(),f=0,m=d;n==="end"&&(m=Math.min(m+1,a));let g=m;for(;f<r&&u<s;){if(typeof l!="number"||l>=u)if(h>0)for(let b=0;b<h;b+=1)typeof o[b]>"u"&&(o[b]=[]),o[b].push(null);else o.push([null]);else for(let b=0;b<h;b++)o[b].splice(m,0,null);f+=1,m+=1,u+=1}this.hot.columnIndexMapper.insertIndexes(l,f),f>0&&(t==null?this.metaManager.createColumn(null,f):i!=="auto"&&this.metaManager.createColumn(g,r));let p=this.hot.toVisualColumn(g);return this.hot.runHooks("afterCreateCol",p,f,i),this.hot.forceFullRender=!0,this.refreshDuckSchema(),{delta:f,startPhysicalIndex:g}}removeRow(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,i=arguments.length>2?arguments[2]:void 0,n=Number.isInteger(t)?t:-r,o=this.visualRowsToPhysical(n,r),s=this.hot.countSourceRows();if(n=(s+n)%s,this.hot.runHooks("beforeRemoveRow",n,o.length,o,i)===!1)return!1;let l=o.length;if(this.filterData(n,l,o),n<this.hot.countRows()){this.hot.rowIndexMapper.removeIndexes(o);let d=Ne(this.tableMeta.columns)||Ne(this.tableMeta.dataSchema);this.hot.rowIndexMapper.getNotTrimmedIndexesLength()===0&&d===!1&&this.hot.columnIndexMapper.setIndexesSequence([])}return o.slice(0).sort((d,h)=>h-d).forEach(d=>{this.metaManager.removeRow(d,1)}),this.hot.runHooks("afterRemoveRow",n,l,o,i),this.hot.forceFullRender=!0,!0}removeCol(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,i=arguments.length>2?arguments[2]:void 0;if(this.hot.dataType==="object"||this.tableMeta.columns)throw new Error("cannot remove column with object data source or columns option specified");let n=typeof t!="number"?-r:t;n=(this.hot.countCols()+n)%this.hot.countCols();let o=this.visualColumnsToPhysical(n,r),s=o.slice(0).sort((h,u)=>u-h);if(this.hot.runHooks("beforeRemoveCol",n,r,o,i)===!1)return!1;let l=!0,c=s.length,d=this.dataSource;for(let h=0;h<c;h++)l&&o[0]!==o[h]-h&&(l=!1);if(l)for(let h=0,u=this.hot.countSourceRows();h<u;h++)d[h].splice(o[0],r),h===0&&this.metaManager.removeColumn(o[0],r);else for(let h=0,u=this.hot.countSourceRows();h<u;h++)for(let f=0;f<c;f++)d[h].splice(s[f],1),h===0&&this.metaManager.removeColumn(s[f],1);return n<this.hot.countCols()&&(this.hot.columnIndexMapper.removeIndexes(o),this.hot.columnIndexMapper.getNotTrimmedIndexesLength()===0&&this.hot.rowIndexMapper.setIndexesSequence([])),this.hot.runHooks("afterRemoveCol",n,r,o,i),this.hot.forceFullRender=!0,this.refreshDuckSchema(),!0}spliceCol(t,r,i){let n=this.hot.getDataAtCol(t),o=n.slice(r,r+i),s=n.slice(r+i);for(var a=arguments.length,l=new Array(a>3?a-3:0),c=3;c<a;c++)l[c-3]=arguments[c];oN(l,s);let d=0;for(;d<i;)l.push(null),d+=1;return vG(l),this.hot.populateFromArray(r,t,l,null,null,"spliceCol"),o}spliceRow(t,r,i){let n=this.hot.getSourceDataAtRow(t),o=n.slice(r,r+i),s=n.slice(r+i);for(var a=arguments.length,l=new Array(a>3?a-3:0),c=3;c<a;c++)l[c-3]=arguments[c];oN(l,s);let d=0;for(;d<i;)l.push(null),d+=1;return this.hot.populateFromArray(t,r,[l],null,null,"spliceRow"),o}spliceData(t,r,i){if(this.hot.runHooks("beforeDataSplice",t,r,i)!==!1){let o=[...this.dataSource.slice(0,t),...i,...this.dataSource.slice(t)];this.dataSource.length=0,o.forEach(s=>this.dataSource.push(s))}}filterData(t,r,i){let n=this.hot.runHooks("filterData",t,r,i);Array.isArray(n)===!1&&(n=this.dataSource.filter((o,s)=>i.indexOf(s)===-1)),this.dataSource.length=0,Array.prototype.push.apply(this.dataSource,n)}get(t,r){let i=this.hot.toPhysicalRow(t),n=this.dataSource[i],o=this.hot.runHooks("modifyRowData",i);n=isNaN(o)?o:n;let{dataDotNotation:s}=this.hot.getSettings(),a=null;if(n&&n.hasOwnProperty&&en(n,r))a=n[r];else if(s&&typeof r=="string"&&r.indexOf(".")>-1){let l=n;if(!l)return null;let c=r.split(".");for(let d=0,h=c.length;d<h;d++)if(l=l[c[d]],typeof l>"u")return null;a=l}else typeof r=="function"&&(a=r(this.dataSource.slice(i,i+1)[0]));if(this.hot.hasHook("modifyData")){let l=ya(a);this.hot.runHooks("modifyData",i,this.propToCol(r),l,"get"),l.isTouched()&&(a=l.value)}return a}getCopyable(t,r){return this.hot.getCellMeta(t,this.propToCol(r)).copyable?this.get(t,r):""}set(t,r,i){let n=this.hot.toPhysicalRow(t),o=i,s=this.dataSource[n],a=this.hot.runHooks("modifyRowData",n);if(s=isNaN(a)?a:s,this.hot.hasHook("modifyData")){let c=ya(o);this.hot.runHooks("modifyData",n,this.propToCol(r),c,"set"),c.isTouched()&&(o=c.value)}let{dataDotNotation:l}=this.hot.getSettings();if(s&&s.hasOwnProperty&&en(s,r))s[r]=o;else if(l&&typeof r=="string"&&r.indexOf(".")>-1){let c=s,d=0,h,u=r.split(".");for(d=0,h=u.length-1;d<h;d++)typeof c[u[d]]>"u"&&(c[u[d]]={}),c=c[u[d]];c[u[d]]=o}else typeof r=="function"?r(this.dataSource.slice(n,n+1)[0],o):s[r]=o}visualRowsToPhysical(t,r){let i=this.hot.countSourceRows(),n=[],o=(i+t)%i,s=r,a;for(;o<i&&s;)a=this.hot.toPhysicalRow(o),n.push(a),s-=1,o+=1;return n}visualColumnsToPhysical(t,r){let i=this.hot.countCols(),n=[],o=(i+t)%i,s=r;for(;o<i&&s;){let a=this.hot.toPhysicalColumn(o);n.push(a),s-=1,o+=1}return n}clear(){for(let t=0;t<this.hot.countSourceRows();t++)for(let r=0;r<this.hot.countCols();r++)this.set(t,this.colToProp(r),"")}getLength(){let t=this.tableMeta.maxRows,r;t<0||t===0?r=0:r=t||1/0;let i=this.hot.rowIndexMapper.getNotTrimmedIndexesLength();return Math.min(i,r)}getAll(){let t={row:0,col:0},r={row:Math.max(this.hot.countRows()-1,0),col:Math.max(this.hot.countCols()-1,0)};return t.row-r.row===0&&!this.hot.countSourceRows()?[]:this.getRange(t,r,e.DESTINATION_RENDERER)}countCachedColumns(){return this.colToPropCache.length}getRange(t,r,i){let n=[],o,s,a,l=this.tableMeta.maxRows,c=this.tableMeta.maxCols;if(l===0||c===0)return[];let d=i===e.DESTINATION_CLIPBOARD_GENERATOR?this.getCopyable:this.get,h=Math.min(Math.max(l-1,0),Math.max(t.row,r.row)),u=Math.min(Math.max(c-1,0),Math.max(t.col,r.col));for(o=Math.min(t.row,r.row);o<=h;o++){a=[];let f=o>=0?this.hot.toPhysicalRow(o):o;for(s=Math.min(t.col,r.col);s<=u&&f!==null;s++)a.push(d.call(this,o,this.colToProp(s)));f!==null&&n.push(a)}return n}getText(t,r){return hp(this.getRange(t,r,e.DESTINATION_RENDERER))}getCopyableText(t,r){return hp(this.getRange(t,r,e.DESTINATION_CLIPBOARD_GENERATOR))}destroy(){this.hot=null,this.metaManager=null,this.dataSource=null,this.duckSchema=null,this.colToPropCache.length=0,this.propToColCache.clear(),this.propToColCache=void 0}},FZ=W6;var Ene=ot(qt(),1);var Wre=ot(qt(),1);var Ire=ot(qt(),1),kre=ot(yn(),1),Dre=ot(_n(),1),Ore=ot(wn(),1),Pre=ot(Cn(),1),Nre=ot(xn(),1),Lre=ot(Sn(),1),Fre=ot(En(),1);var Cre=ot(qt(),1);var{register:gSt,getItem:bSt,hasItem:Y6,getNames:Tre,getValues:Mre}=Zo("cellTypes");function HZ(e){if(!Y6(e))throw Error(`You declared cell type "${e}" as a string that is not mapped to a known object.
                 Cell type must be an object or a string mapped to an object registered by
                 "Handsontable.cellTypes.registerCellType" method`);return bSt(e)}function Xl(e,t){typeof e!="string"&&(t=e,e=t.CELL_TYPE);let{editor:r,renderer:i,validator:n}=t;r&&Wa(e,r),i&&gl(e,i),n&&Qm(e,n),gSt(e,t)}function vSt(e,t){var r;return e==="CELL_TYPE"?!1:((r=t._automaticallyAssignedMetaProps)===null||r===void 0?void 0:r.has(e))||!en(t,e)}function up(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,i=typeof t.type=="string"?HZ(t.type):t.type;if(e._automaticallyAssignedMetaProps&&bi(t,(o,s)=>void e._automaticallyAssignedMetaProps.delete(s)),!gi(i))return;r===e&&!e._automaticallyAssignedMetaProps&&(e._automaticallyAssignedMetaProps=new Set);let n={};bi(i,(o,s)=>{if(vSt(s,r)){var a;n[s]=o,(a=e._automaticallyAssignedMetaProps)===null||a===void 0||a.add(s)}}),zr(e,n)}function BZ(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];function r(){}Td(r,e);for(let i=0;i<t.length;i++)r.prototype[t[i]]=void 0;return r}function Py(e){return Number.isInteger(e)&&e>=0}function Ny(e,t){if(!e())throw new Error(`Assertion failed: ${t}`)}function L2(e){return e==null}var F2=()=>({_automaticallyAssignedMetaProps:void 0,activeHeaderClassName:"ht__active_highlight",allowEmpty:!0,allowHtml:!1,allowInsertColumn:!0,allowInsertRow:!0,allowInvalid:!0,allowRemoveColumn:!0,allowRemoveRow:!0,ariaTags:!0,autoColumnSize:void 0,autoRowSize:void 0,autoWrapCol:!1,autoWrapRow:!1,bindRowsWithHeaders:void 0,cell:[],cells:void 0,checkedTemplate:void 0,className:void 0,colHeaders:null,collapsibleColumns:void 0,columnHeaderHeight:void 0,columns:void 0,columnSorting:void 0,columnSummary:void 0,colWidths:void 0,commentedCellClassName:"htCommentCell",comments:!1,contextMenu:void 0,copyable:!0,copyPaste:!0,correctFormat:!1,currentColClassName:void 0,currentHeaderClassName:"ht__highlight",currentRowClassName:void 0,customBorders:!1,data:void 0,dataDotNotation:!0,dataSchema:void 0,dateFormat:"DD/MM/YYYY",timeFormat:"h:mm:ss a",datePickerConfig:void 0,defaultDate:void 0,disableVisualSelection:!1,dragToScroll:!0,dropdownMenu:void 0,editor:void 0,enterBeginsEditing:!0,enterMoves:{col:0,row:1},fillHandle:{autoInsertRow:!1},filter:!0,filteringCaseSensitive:!1,filters:void 0,fixedColumnsLeft:0,fixedColumnsStart:0,fixedRowsBottom:0,fixedRowsTop:0,formulas:void 0,fragmentSelection:!1,height:void 0,hiddenColumns:void 0,hiddenRows:void 0,invalidCellClassName:"htInvalid",imeFastEdit:!1,isEmptyCol(e){let t,r,i;for(t=0,r=this.countRows();t<r;t++)if(i=this.getDataAtCell(t,e),sn(i)===!1)return!1;return!0},isEmptyRow(e){let t,r,i,n;for(t=0,r=this.countCols();t<r;t++)if(i=this.getDataAtCell(e,t),sn(i)===!1)return typeof i=="object"?(n=this.getCellMeta(e,t),ny(this.getSchema()[n.prop],i)):!1;return!0},label:void 0,language:"en-US",layoutDirection:"inherit",licenseKey:void 0,locale:"en-US",manualColumnFreeze:void 0,manualColumnMove:void 0,manualColumnResize:void 0,manualRowMove:void 0,manualRowResize:void 0,maxCols:1/0,maxRows:1/0,mergeCells:!1,minCols:0,minRows:0,minSpareCols:0,minSpareRows:0,multiColumnSorting:void 0,navigableHeaders:!1,tabNavigation:!0,nestedHeaders:void 0,nestedRows:void 0,noWordWrapClassName:"htNoWrap",numericFormat:void 0,observeDOMVisibility:!0,outsideClickDeselects:!0,persistentState:void 0,placeholder:void 0,placeholderCellClassName:"htPlaceholder",preventOverflow:!1,preventWheel:!1,readOnly:!1,readOnlyCellClassName:"htDimmed",renderAllRows:!1,renderAllColumns:!1,renderer:void 0,rowHeaders:void 0,rowHeaderWidth:void 0,rowHeights:void 0,search:!1,selectionMode:"multiple",selectOptions:void 0,skipColumnOnPaste:!1,skipRowOnPaste:!1,sortByRelevance:!0,source:void 0,startCols:5,startRows:5,stretchH:"none",strict:void 0,tableClassName:void 0,tabMoves:{row:0,col:1},title:void 0,trimDropdown:!0,trimRows:void 0,trimWhitespace:!0,type:"text",uncheckedTemplate:void 0,undo:void 0,validator:void 0,viewportColumnRenderingOffset:"auto",viewportRowRenderingOffset:"auto",visibleRows:10,width:void 0,wordWrap:!0});function jZ(e,t,r){return t=ySt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ySt(e){var t=_St(e,"string");return typeof t=="symbol"?t:t+""}function _St(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wSt(){return class{}}var UA=class{constructor(t){jZ(this,"metaCtor",wSt()),jZ(this,"meta",void 0),this.meta=this.metaCtor.prototype,zr(this.meta,F2()),this.meta.instance=t}getMetaConstructor(){return this.metaCtor}getMeta(){return this.meta}updateMeta(t){var r;zr(this.meta,t),up(this.meta,Ue(jt({},t),{type:(r=t.type)!==null&&r!==void 0?r:this.meta.type}),t)}};var Zre=ot(qt(),1);function CSt(e,t,r){return t=xSt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xSt(e){var t=SSt(e,"string");return typeof t=="symbol"?t:t+""}function SSt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WA=class{constructor(t){CSt(this,"meta",void 0);let r=t.getMetaConstructor();this.meta=new r}getMeta(){return this.meta}updateMeta(t){zr(this.meta,t),up(this.meta,t,t)}};var fne=ot(qt(),1);var ene=ot(qt(),1),ine=ot(_e(),1),rne=ot(yn(),1),nne=ot(_n(),1),one=ot(wn(),1),sne=ot(Cn(),1),ane=ot(xn(),1),lne=ot(Sn(),1),cne=ot(En(),1);function YA(e,t,r){return t=ESt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ESt(e){var t=RSt(e,"string");return typeof t=="symbol"?t:t+""}function RSt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fp=class{constructor(t){YA(this,"valueFactory",void 0),YA(this,"data",[]),YA(this,"index",[]),YA(this,"holes",new Set),this.valueFactory=t}obtain(t){Ny(()=>Py(t),"Expecting an unsigned number.");let r=this._getStorageIndexByKey(t),i;if(r>=0)i=this.data[r],i===void 0&&(i=this.valueFactory(t),this.data[r]=i);else if(i=this.valueFactory(t),this.holes.size>0){let n=this.holes.values().next().value;this.holes.delete(n),this.data[n]=i,this.index[t]=n}else this.data.push(i),this.index[t]=this.data.length-1;return i}insert(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;Ny(()=>Py(t)||L2(t),"Expecting an unsigned number or null/undefined argument.");let i=[],n=this.data.length;for(let s=0;s<r;s++)i.push(n+s),this.data.push(void 0);let o=L2(t)?this.index.length:t;this.index=[...this.index.slice(0,o),...i,...this.index.slice(o)]}remove(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;Ny(()=>Py(t)||L2(t),"Expecting an unsigned number or null/undefined argument.");let i=this.index.splice(L2(t)?this.index.length-r:t,r);for(let n=0;n<i.length;n++){let o=i[n];typeof o=="number"&&this.holes.add(o)}}size(){return this.data.length-this.holes.size}values(){return ds(this.data,(t,r)=>!this.holes.has(r))[Symbol.iterator]()}entries(){let t=[];for(let i=0;i<this.data.length;i++){let n=this._getKeyByStorageIndex(i);n!==-1&&t.push([n,this.data[i]])}let r=0;return{next:()=>{if(r<t.length){let i=t[r];return r+=1,{value:i,done:!1}}return{done:!0}}}}clear(){this.data=[],this.index=[],this.holes.clear()}_getStorageIndexByKey(t){return this.index.length>t?this.index[t]:-1}_getKeyByStorageIndex(t){return this.index.indexOf(t)}[Symbol.iterator](){return this.entries()}};function VZ(e,t,r){return t=TSt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TSt(e){var t=MSt(e,"string");return typeof t=="symbol"?t:t+""}function MSt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ASt=["data","width"],$A=class{constructor(t){VZ(this,"globalMeta",void 0),VZ(this,"metas",new fp(()=>this._createMeta())),this.globalMeta=t,this.metas=new fp(()=>this._createMeta())}updateMeta(t,r){let i=this.getMeta(t);zr(i,r),up(i,r)}createColumn(t,r){this.metas.insert(t,r)}removeColumn(t,r){this.metas.remove(t,r)}getMeta(t){return this.metas.obtain(t)}getMetaConstructor(t){return this.metas.obtain(t).constructor}clearCache(){this.metas.clear()}_createMeta(){return BZ(this.globalMeta.getMetaConstructor(),ASt).prototype}};var vne=ot(qt(),1),yne=ot(_e(),1);function zZ(e,t,r){return t=ISt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ISt(e){var t=kSt(e,"string");return typeof t=="symbol"?t:t+""}function kSt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qA=class{constructor(t){zZ(this,"columnMeta",void 0),zZ(this,"metas",new fp(()=>this._createRow())),this.columnMeta=t}updateMeta(t,r,i){let n=this.getMeta(t,r);zr(n,i),up(n,i)}createRow(t,r){this.metas.insert(t,r)}createColumn(t,r){for(let i=0;i<this.metas.size();i++)this.metas.obtain(i).insert(t,r)}removeRow(t,r){this.metas.remove(t,r)}removeColumn(t,r){for(let i=0;i<this.metas.size();i++)this.metas.obtain(i).remove(t,r)}getMeta(t,r,i){let n=this.metas.obtain(t).obtain(r);return i===void 0?n:n[i]}setMeta(t,r,i,n){var o;let s=this.metas.obtain(t).obtain(r);(o=s._automaticallyAssignedMetaProps)===null||o===void 0||o.delete(i),s[i]=n}removeMeta(t,r,i){let n=this.metas.obtain(t).obtain(r);delete n[i]}getMetas(){let t=[],r=Array.from(this.metas.values());for(let i=0;i<r.length;i++)Ne(r[i])&&t.push(...r[i].values());return t}getMetasAtRow(t){Ny(()=>Py(t),"Expecting an unsigned number.");let r=new Map(this.metas);return r.has(t)?Array.from(r.get(t).values()):[]}clearCache(){this.metas.clear()}_createRow(){return new fp(t=>this._createMeta(t))}_createMeta(t){let r=this.columnMeta.getMetaConstructor(t);return new r}};var Ly=class{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];this.hot=t,this.globalMeta=new UA(t),this.tableMeta=new WA(this.globalMeta),this.columnMeta=new $A(this.globalMeta),this.cellMeta=new qA(this.columnMeta),i.forEach(n=>new n(this)),this.globalMeta.updateMeta(r)}getGlobalMeta(){return this.globalMeta.getMeta()}updateGlobalMeta(t){this.globalMeta.updateMeta(t)}getTableMeta(){return this.tableMeta.getMeta()}updateTableMeta(t){this.tableMeta.updateMeta(t)}getColumnMeta(t){return this.columnMeta.getMeta(t)}updateColumnMeta(t,r){this.columnMeta.updateMeta(t,r)}getCellMeta(t,r,i){let{visualRow:n,visualColumn:o}=i,s=this.cellMeta.getMeta(t,r);return s.visualRow=n,s.visualCol=o,s.row=t,s.col=r,this.runLocalHooks("afterGetCellMeta",s),s}getCellMetaKeyValue(t,r,i){if(typeof i!="string")throw new Error("The passed cell meta object key is not a string");return this.cellMeta.getMeta(t,r,i)}setCellMeta(t,r,i,n){this.cellMeta.setMeta(t,r,i,n)}updateCellMeta(t,r,i){this.cellMeta.updateMeta(t,r,i)}removeCellMeta(t,r,i){this.cellMeta.removeMeta(t,r,i)}getCellsMeta(){return this.cellMeta.getMetas()}getCellsMetaAtRow(t){return this.cellMeta.getMetasAtRow(t)}createRow(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cellMeta.createRow(t,r)}removeRow(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cellMeta.removeRow(t,r)}createColumn(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cellMeta.createColumn(t,r),this.columnMeta.createColumn(t,r)}removeColumn(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cellMeta.removeColumn(t,r),this.columnMeta.removeColumn(t,r)}clearCellsCache(){this.cellMeta.clearCache()}clearCache(){this.cellMeta.clearCache(),this.columnMeta.clearCache()}};Zi(Ly,Bn);var One=ot(qt(),1),Pne=ot(_e(),1);function GA(e,t,r,i){let{hotInstance:n,dataMap:o,dataSource:s,internalSource:a,source:l,metaManager:c,firstRun:d}=i,h=na(a),u=n.getSettings();Array.isArray(u.dataSchema)?n.dataType="array":Mr(u.dataSchema)?n.dataType="function":n.dataType="object",o&&o.destroy(),e=n.runHooks(`before${h}`,e,d,l);let f=new FZ(n,e,c);if(t(f),typeof e=="object"&&e!==null)e.push&&e.splice||(e=[e]);else if(e===null){let m=f.getSchema();e=[];let g,p=0,b=0;for(p=0,b=u.startRows;p<b;p++)if((n.dataType==="object"||n.dataType==="function")&&u.dataSchema)g=jo(m),e.push(g);else if(n.dataType==="array")g=jo(m[0]),e.push(g);else{g=[];for(let _=0,E=u.startCols;_<E;_++)g.push(null);e.push(g)}}else throw new Error(`${a} only accepts array of objects or array of arrays (${typeof e} given)`);Array.isArray(e[0])&&(n.dataType="array"),u.data=e,f.dataSource=e,s.data=e,s.dataType=n.dataType,s.colToProp=f.colToProp.bind(f),s.propToCol=f.propToCol.bind(f),s.countCachedColumns=f.countCachedColumns.bind(f),r(f),n.runHooks(`after${h}`,e,d,l),d||(n.runHooks("afterChange",null,a),n.render()),n.getSettings().ariaTags&&Ke(n.rootElement,[dM(-1),Zv(n.countCols()+(n.view?n.countRowHeaders():0))])}var zne=ot(qt(),1),Une=ot(yn(),1),Wne=ot(_n(),1),Yne=ot(wn(),1),$ne=ot(Cn(),1),qne=ot(xn(),1),Gne=ot(Sn(),1),Kne=ot(En(),1);function UZ(e,t,r){return t=DSt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DSt(e){var t=OSt(e,"string");return typeof t=="symbol"?t:t+""}function OSt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var H2=class{constructor(t){UZ(this,"metaManager",void 0),UZ(this,"metaSyncMemo",new Map),this.metaManager=t,t.addLocalHook("afterGetCellMeta",r=>this.extendCellMeta(r)),Le.getSingleton().add("beforeRender",r=>{r&&this.metaSyncMemo.clear()},this.metaManager.hot)}extendCellMeta(t){var r;let{row:i,col:n}=t;if((r=this.metaSyncMemo.get(i))!==null&&r!==void 0&&r.has(n))return;let{visualRow:o,visualCol:s}=t,a=this.metaManager.hot,l=a.colToProp(s);t.prop=l,a.runHooks("beforeGetCellMeta",o,s,t);let c=en(t,"type")?t.type:null,d=Mr(t.cells)?t.cells(i,n,l):null;if(c)if(d){var h;d.type=(h=d.type)!==null&&h!==void 0?h:c}else d={type:c};d&&this.metaManager.updateCellMeta(i,n,d),a.runHooks("afterGetCellMeta",o,s,t),this.metaSyncMemo.has(i)||this.metaSyncMemo.set(i,new Set),this.metaSyncMemo.get(i).add(n)}};var toe=ot(qt(),1),eoe=ot(_e(),1),ioe=ot(yn(),1),roe=ot(_n(),1),noe=ot(wn(),1),ooe=ot(Cn(),1),soe=ot(xn(),1),aoe=ot(Sn(),1),loe=ot(En(),1);function PSt(e,t,r){NSt(e,t),t.set(e,r)}function NSt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function $6(e,t,r){return t=LSt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LSt(e){var t=FSt(e,"string");return typeof t=="symbol"?t:t+""}function FSt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HSt(e,t){return e.get(BSt(e,t))}function BSt(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var WZ=new WeakMap,B2=class{constructor(t){$6(this,"metaManager",void 0),$6(this,"usageTracker",new Set),$6(this,"propDescriptors",new Map([["ariaTags",{initOnly:!0}],["fixedColumnsLeft",{target:"fixedColumnsStart",onChange(r){if(this.metaManager.hot.isRtl()&&r==="fixedColumnsLeft")throw new Error("The `fixedColumnsLeft` is not supported for RTL. Please use option `fixedColumnsStart`.");if(this.usageTracker.has("fixedColumnsLeft")&&this.usageTracker.has("fixedColumnsStart"))throw new Error("The `fixedColumnsLeft` and `fixedColumnsStart` should not be used together. Please use only the option `fixedColumnsStart`.")}}],["layoutDirection",{initOnly:!0}],["renderAllColumns",{initOnly:!0}],["renderAllRows",{initOnly:!0}]])),PSt(this,WZ,(r,i,n)=>{if(!n)throw new Error(`The \`${r}\` option can not be updated after the Handsontable is initialized.`)}),this.metaManager=t,this.extendMetaProps()}extendMetaProps(){this.propDescriptors.forEach((t,r)=>{let{initOnly:i,target:n,onChange:o}=t,s=typeof n=="string",a=s?n:r,l=`_${a}`;this.metaManager.globalMeta.meta[l]=this.metaManager.globalMeta.meta[a],o?(this.installPropWatcher(r,l,o),s&&this.installPropWatcher(n,l,o)):i&&(this.installPropWatcher(r,l,HSt(WZ,this)),this.metaManager.globalMeta.meta._initOnlySettings||(this.metaManager.globalMeta.meta._initOnlySettings=[]),this.metaManager.globalMeta.meta._initOnlySettings.push(r))})}installPropWatcher(t,r,i){let n=this;Object.defineProperty(this.metaManager.globalMeta.meta,t,{get(){return this[r]},set(o){let s=!n.usageTracker.has(t);n.usageTracker.add(t),i.call(n,t,o,s),this[r]=o},enumerable:!0,configurable:!0})}};var KA="gridDefault",Sa="editorManager.handlingEditor";var YZ={name:"editorCloseAndSave",callback(e){e._getEditorManager().closeEditorAndSaveChanges()}};var Coe=ot(qt(),1);var voe=ot(_e(),1);var jSt="hooksRefRegisterer",$Z={_hooksStorage:Object.create(null),addHook(e,t){return this._hooksStorage[e]||(this._hooksStorage[e]=[]),this.hot.addHook(e,t),this._hooksStorage[e].push(t),this},removeHooksByKey(e){St(this._hooksStorage[e]||[],t=>{this.hot.removeHook(e,t)})},clearHooks(){bi(this._hooksStorage,(e,t)=>this.removeHooksByKey(t)),this._hooksStorage={}}};Ls($Z,"MIXIN_NAME",jSt,{writable:!1,enumerable:!1});var qZ=$Z;function Nd(e,t,r){return t=VSt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VSt(e){var t=zSt(e,"string");return typeof t=="symbol"?t:t+""}function zSt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var q6="base",Xn=Object.freeze({VIRGIN:"STATE_VIRGIN",EDITING:"STATE_EDITING",WAITING:"STATE_WAITING",FINISHED:"STATE_FINISHED"}),Cl=class{static get EDITOR_TYPE(){return q6}constructor(t){Nd(this,"hot",void 0),Nd(this,"state",Xn.VIRGIN),Nd(this,"_opened",!1),Nd(this,"_fullEditMode",!1),Nd(this,"_closeCallback",null),Nd(this,"TD",null),Nd(this,"row",null),Nd(this,"col",null),Nd(this,"prop",null),Nd(this,"originalValue",null),Nd(this,"cellProperties",null),this.hot=t,this.init()}_fireCallbacks(t){this._closeCallback&&(this._closeCallback(t),this._closeCallback=null)}init(){}getValue(){throw Error("Editor getValue() method unimplemented")}setValue(){throw Error("Editor setValue() method unimplemented")}open(){throw Error("Editor open() method unimplemented")}close(){throw Error("Editor close() method unimplemented")}prepare(t,r,i,n,o,s){this.TD=n,this.row=t,this.col=r,this.prop=i,this.originalValue=o,this.cellProperties=s,this.state=this.isOpened()?this.state:Xn.VIRGIN}extend(){return class extends this.constructor{}}saveValue(t,r){let i,n,o,s;if(r){let l=this.hot.getSelectedLast();i=Math.max(Math.min(l[0],l[2]),0),n=Math.max(Math.min(l[1],l[3]),0),o=Math.max(l[0],l[2]),s=Math.max(l[1],l[3])}else[i,n,o,s]=[this.row,this.col,null,null];let a=this.hot.runHooks("modifyGetCellCoords",i,n);Array.isArray(a)&&([i,n]=a),this.hot.populateFromArray(i,n,t,o,s,"edit")}beginEditing(t,r){if(this.state!==Xn.VIRGIN)return;let i=this.hot,n=i.rowIndexMapper.getRenderableFromVisualIndex(this.row),o=i.columnIndexMapper.getRenderableFromVisualIndex(this.col);if(i.view.scrollViewport(i._createCellCoords(n,o)),this.state=Xn.EDITING,this.isInFullEditMode()){let s=typeof t=="string"?t:on(this.originalValue);this.setValue(s)}this.open(r),this._opened=!0,this.focus(),i.view.render(),i.runHooks("afterBeginEditing",this.row,this.col)}finishEditing(t,r,i){let n;if(i){let o=this._closeCallback;this._closeCallback=s=>{o&&o(s),i(s),this.hot.view.render()}}if(!this.isWaiting()){if(this.state===Xn.VIRGIN){this.hot._registerTimeout(()=>{this._fireCallbacks(!0)});return}if(this.state===Xn.EDITING){if(t){this.cancelChanges(),this.hot.view.render();return}let o=this.getValue();this.cellProperties.trimWhitespace?n=[[typeof o=="string"?String.prototype.trim.call(o||""):o]]:n=[[o]],this.state=Xn.WAITING,this.saveValue(n,r),this.hot.getCellValidator(this.cellProperties)?this.hot.addHookOnce("postAfterValidate",s=>{this.state=Xn.FINISHED,this.discardEditor(s)}):(this.state=Xn.FINISHED,this.discardEditor(!0))}}}cancelChanges(){this.state=Xn.FINISHED,this.discardEditor()}discardEditor(t){this.state===Xn.FINISHED&&(t===!1&&this.cellProperties.allowInvalid!==!0?(this.hot.selectCell(this.row,this.col),this.focus(),this.state=Xn.EDITING,this._fireCallbacks(!1)):(this.close(),this._opened=!1,this._fullEditMode=!1,this.state=Xn.VIRGIN,this._fireCallbacks(!0),this.hot.getShortcutManager().setActiveContextName("grid")))}enableFullEditMode(){this._fullEditMode=!0}isInFullEditMode(){return this._fullEditMode}isOpened(){return this._opened}isWaiting(){return this.state===Xn.WAITING}getEditedCellRect(){var t;let r=this.getEditedCell();if(!r)return;let{wtOverlays:i,wtViewport:n}=this.hot.view._wt,o=this.hot.rootWindow,s=Kn(r),a=yr(r),l=Kn(this.hot.rootElement),c=yr(this.hot.rootElement),d=i.topOverlay.holder,h=i.inlineStartOverlay.holder,u=d!==o?d.scrollTop:0,f=h!==o?h.scrollLeft:0,m=o.innerWidth-l.left-c,{wtTable:g}=(t=i.getParentOverlay(r))!==null&&t!==void 0?t:this.hot.view._wt,p=g.name,b=["master","inline_start"].includes(p)?u:0,_=["master","top","bottom"].includes(p)?f:0,E=s.top===l.top?0:1,O=s.top-l.top-E-b,V=0;this.hot.isRtl()?V=o.innerWidth-s.left-a-m-1+_:V=s.left-l.left-1-_,["top","top_inline_start_corner"].includes(p)&&(O+=i.topOverlay.getOverlayOffset()),["inline_start","top_inline_start_corner"].includes(p)&&(V+=Math.abs(i.inlineStartOverlay.getOverlayOffset()));let H=this.hot.hasColHeaders(),F=this.hot.rowIndexMapper.getRenderableFromVisualIndex(this.row),L=this.hot.columnIndexMapper.getRenderableFromVisualIndex(this.col),W=this.hot.rowIndexMapper.getRenderableIndexesLength()-this.hot.view._wt.getSetting("fixedRowsBottom");(H&&F<=0||F===W)&&(O+=1),L<=0&&(V+=1);let x=n.rowsRenderCalculator.startPosition,R=n.columnsRenderCalculator.startPosition,j=Math.abs(i.inlineStartOverlay.getScrollPosition()),v=i.topOverlay.getScrollPosition(),y=Rn(this.hot.rootDocument),C=r.offsetTop;if(["inline_start","master"].includes(p)&&(C+=x-v),["bottom","bottom_inline_start_corner"].includes(p)){let{wtViewport:Y,wtTable:Z}=i.bottomOverlay.clone;C+=Y.getWorkspaceHeight()-Z.getHeight()-y}let w=r.offsetLeft;this.hot.isRtl()?(w>=0?w=g.getWidth()-r.offsetLeft:w=Math.abs(w),w+=R-j-a):["top","master","bottom"].includes(p)&&(w+=R-j);let S=Nc(this.TD,this.hot.rootWindow),M=this.hot.isRtl()?"borderRightWidth":"borderLeftWidth",U=parseInt(S[M],10)>0?0:1,N=parseInt(S.borderTopWidth,10)>0?0:1,T=yr(r)+U,B=Nr(r)+N,I=rK(d)?y:0,$=nK(h)?y:0,A=this.hot.view.maximumVisibleElementWidth(w)-I+U,k=Math.max(this.hot.view.maximumVisibleElementHeight(C)-$+N,23);return{top:O,start:V,height:B,maxHeight:k,width:T,maxWidth:A}}getEditedCellsLayerClass(){switch(this.checkEditorSection()){case"inline-start":return"ht_clone_left ht_clone_inline_start";case"bottom":return"ht_clone_bottom";case"bottom-inline-start-corner":return"ht_clone_bottom_left_corner ht_clone_bottom_inline_start_corner";case"top":return"ht_clone_top";case"top-inline-start-corner":return"ht_clone_top_left_corner ht_clone_top_inline_start_corner";default:return"ht_clone_master"}}getEditedCell(){return this.hot.getCell(this.row,this.col,!0)}checkEditorSection(){let t=this.hot.countRows(),r="";return this.row<this.hot.getSettings().fixedRowsTop?this.col<this.hot.getSettings().fixedColumnsStart?r="top-inline-start-corner":r="top":this.hot.getSettings().fixedRowsBottom&&this.row>=t-this.hot.getSettings().fixedRowsBottom?this.col<this.hot.getSettings().fixedColumnsStart?r="bottom-inline-start-corner":r="bottom":this.col<this.hot.getSettings().fixedColumnsStart&&(r="inline-start"),r}};Zi(Cl,qZ);var GZ={name:"editorCloseAndSaveByArrowKeys",callback(e,t,r){let i=e._getEditorManager(),n=i.getActiveEditor();n.isInFullEditMode()&&n.state===Xn.EDITING||(i.closeEditorAndSaveChanges(),e.getSelected()&&(r.includes("arrowdown")?e.selection.transformStart(1,0):r.includes("arrowup")?e.selection.transformStart(-1,0):r.includes("arrowleft")?e.selection.transformStart(0,-1*e.getDirectionFactor()):r.includes("arrowright")&&e.selection.transformStart(0,e.getDirectionFactor())),t.preventDefault())}};var KZ={name:"editorCloseAndSaveByEnter",callback(e,t){let r=e._getEditorManager();r.closeEditorAndSaveChanges(t.ctrlKey||t.metaKey),r.moveSelectionAfterEnter(t)}};var XZ={name:"editorCloseWithoutSaving",callback(e){let t=e._getEditorManager();t.closeEditorAndRestoreOriginalValue(e.getShortcutManager().isCtrlPressed()),t.activeEditor.focus()}};var ZZ={name:"editorFastOpen",callback(e,t){let{highlight:r}=e.getSelectedRangeLast();r.isHeader()||e._getEditorManager().openEditor(null,t,!0)}};var QZ={name:"editorOpen",callback(e,t,r){let i=e._getEditorManager(),n=e.getSelectedRangeLast(),{highlight:o}=n;if(e.selection.isMultiple()&&!n.isHeader()&&e.countRenderedCols()>0&&e.countRenderedRows()>0){let s=e.getSettings(),a=typeof s.enterMoves=="function"?s.enterMoves(t):s.enterMoves;r.includes("shift")?e.selection.transformFocus(-a.row,-a.col):e.selection.transformFocus(a.row,a.col);return}o.isHeader()||(e.getSettings().enterBeginsEditing?i.cellProperties.readOnly?i.moveSelectionAfterEnter(t):i.openEditor(null,t,!0):i.moveSelectionAfterEnter(t),Vo(t))}};function JZ(){return[YZ,GZ,KZ,XZ,ZZ,QZ]}var tQ={name:"extendCellsSelectionDown",callback(e){let{highlight:t}=e.getSelectedRangeLast();!e.selection.isSelectedByColumnHeader()&&!e.selection.isSelectedByCorner()&&(t.isCell()||t.isHeader()&&e.selection.isSelectedByRowHeader())&&e.selection.transformEnd(1,0)}};var eQ={name:"extendCellsSelectionDownByViewportHeight",callback(e){let{to:t}=e.getSelectedRangeLast(),r=Math.min(t.row+e.countVisibleRows(),e.countRows()-1),i=e.rowIndexMapper.getNearestNotHiddenIndex(r,-1);if(i!==null){let n=e._createCellCoords(i,t.col),o=t.row-e.view.getFirstFullyVisibleRow(),s=Math.min(n.row-o,e.countRows()-1);e.selection.setRangeEnd(n),e.scrollViewportTo({row:s,verticalSnap:"top",horizontalSnap:"start"})}}};var iQ={name:"extendCellsSelectionLeft",callback(e){let{highlight:t}=e.getSelectedRangeLast();!e.selection.isSelectedByRowHeader()&&!e.selection.isSelectedByCorner()&&(t.isCell()||t.isHeader()&&e.selection.isSelectedByColumnHeader())&&e.selection.transformEnd(0,-1*e.getDirectionFactor())}};var rQ={name:"extendCellsSelectionRight",callback(e){let{highlight:t}=e.getSelectedRangeLast();!e.selection.isSelectedByRowHeader()&&!e.selection.isSelectedByCorner()&&(t.isCell()||t.isHeader()&&e.selection.isSelectedByColumnHeader())&&e.selection.transformEnd(0,e.getDirectionFactor())}};var nQ={name:"extendCellsSelectionToColumns",callback(e){let{highlight:t,from:r,to:i}=e.getSelectedRangeLast();e.selection.isSelectedByRowHeader()?e.selection.selectAll(!0,!0):e.selectColumns(r.col,i.col,t)}};var oQ={name:"extendCellsSelectionToMostBottom",callback(e){let{selection:t,rowIndexMapper:r}=e,{highlight:i,from:n,to:o}=e.getSelectedRangeLast(),s=i.isHeader()&&e.selection.isSelectedByRowHeader();if(i.isCell()||s){let a=r.getNearestNotHiddenIndex(e.countRows()-1,-1),l=n.clone();l.row=i.row,t.setRangeStart(l,void 0,!1,i.clone()),s&&t.selectedByRowHeader.add(t.getLayerLevel()),t.setRangeEnd(e._createCellCoords(a,o.col))}}};var sQ={name:"extendCellsSelectionToMostInlineEnd",callback(e){let{selection:t,columnIndexMapper:r}=e,{highlight:i,from:n,to:o}=e.getSelectedRangeLast();if(!e.selection.isSelectedByRowHeader()&&!e.selection.isSelectedByCorner()&&i.isCell()){let s=r.getNearestNotHiddenIndex(e.countCols()-1,-1),a=n.clone();a.col=i.col,t.setRangeStart(a,void 0,!1,i.clone()),t.setRangeEnd(e._createCellCoords(o.row,s))}}};var aQ={name:"extendCellsSelectionToMostInlineStart",callback(e){let{selection:t,columnIndexMapper:r}=e,{highlight:i,from:n,to:o}=e.getSelectedRangeLast();if(!e.selection.isSelectedByRowHeader()&&!e.selection.isSelectedByCorner()&&i.isCell()){let s=parseInt(e.getSettings().fixedColumnsStart,10),a=r.getNearestNotHiddenIndex(s,1),l=n.clone();l.col=i.col,t.setRangeStart(l,void 0,!1,i.clone()),t.setRangeEnd(e._createCellCoords(o.row,a))}}};var lQ={name:"extendCellsSelectionToMostLeft",callback(e){let{selection:t,columnIndexMapper:r}=e,{highlight:i,from:n,to:o}=e.getSelectedRangeLast(),s=i.isHeader()&&e.selection.isSelectedByColumnHeader();if(i.isCell()||s){let a=r.getNearestNotHiddenIndex(...e.isRtl()?[e.countCols()-1,-1]:[0,1]),l=n.clone();l.col=i.col,t.setRangeStart(l,void 0,!1,i.clone()),s&&t.selectedByColumnHeader.add(t.getLayerLevel()),t.setRangeEnd(e._createCellCoords(o.row,a))}}};var cQ={name:"extendCellsSelectionToMostRight",callback(e){let{selection:t,columnIndexMapper:r}=e,{highlight:i,from:n,to:o}=e.getSelectedRangeLast(),s=i.isHeader()&&e.selection.isSelectedByColumnHeader();if(i.isCell()||s){let a=r.getNearestNotHiddenIndex(...e.isRtl()?[0,1]:[e.countCols()-1,-1]),l=n.clone();l.col=i.col,t.setRangeStart(l,void 0,!1,i.clone()),s&&t.selectedByColumnHeader.add(t.getLayerLevel()),t.setRangeEnd(e._createCellCoords(o.row,a))}}};var dQ={name:"extendCellsSelectionToMostTop",callback(e){let{selection:t,rowIndexMapper:r}=e,{highlight:i,from:n,to:o}=e.getSelectedRangeLast(),s=i.isHeader()&&e.selection.isSelectedByRowHeader();if(i.isCell()||s){let a=r.getNearestNotHiddenIndex(0,1),l=n.clone();l.row=i.row,t.setRangeStart(l,void 0,!1,i.clone()),s&&t.selectedByRowHeader.add(t.getLayerLevel()),t.setRangeEnd(e._createCellCoords(a,o.col))}}};var hQ={name:"extendCellsSelectionToRows",callback(e){let{highlight:t,from:r,to:i}=e.getSelectedRangeLast();e.selection.isSelectedByColumnHeader()?e.selection.selectAll(!0,!0):e.selectRows(r.row,i.row,t)}};var uQ={name:"extendCellsSelectionUp",callback(e){let{highlight:t}=e.getSelectedRangeLast();!e.selection.isSelectedByColumnHeader()&&!e.selection.isSelectedByCorner()&&(t.isCell()||t.isHeader()&&e.selection.isSelectedByRowHeader())&&e.selection.transformEnd(-1,0)}};var fQ={name:"extendCellsSelectionUpByViewportHeight",callback(e){let{to:t}=e.getSelectedRangeLast(),r=Math.max(t.row-e.countVisibleRows(),0),i=e.rowIndexMapper.getNearestNotHiddenIndex(r,1);if(i!==null){let n=e._createCellCoords(i,t.col),o=t.row-e.view.getFirstFullyVisibleRow(),s=Math.max(n.row-o,0);e.selection.setRangeEnd(n),e.scrollViewportTo({row:s,verticalSnap:"top",horizontalSnap:"start"})}}};function mQ(){return[tQ,eQ,iQ,rQ,nQ,oQ,sQ,aQ,lQ,cQ,dQ,hQ,uQ,fQ]}var pQ={name:"moveCellSelectionDown",callback(e){let{selection:t}=e;t.transformStart(1,0)}};var gQ={name:"moveCellSelectionDownByViewportHeight",callback(e){let{navigableHeaders:t}=e.getSettings(),r=t?e.countColHeaders():0,{row:i}=e.getSelectedRangeLast().highlight,n=e.countVisibleRows()+r;i===e.countRows()-1?n=1:i+n>e.countRows()&&(n=e.countRows()-i-1),e.selection.transformStart(n,0),e.getSelectedRangeLast().highlight.row<0&&e.scrollViewportTo({row:0})}};var bQ={name:"moveCellSelectionInlineEnd",callback(e,t){let r=e.getSettings(),i=e.getSelectedRangeLast(),n=typeof r.tabMoves=="function"?r.tabMoves(t):r.tabMoves;e.selection.isMultiple()&&!i.isHeader()&&e.countRenderedCols()>0&&e.countRenderedRows()>0?e.selection.transformFocus(-n.row,-n.col):e.selection.transformStart(-n.row,-n.col)}};var vQ={name:"moveCellSelectionInlineStart",callback(e,t){let r=e.getSettings(),i=e.getSelectedRangeLast(),n=typeof r.tabMoves=="function"?r.tabMoves(t):r.tabMoves;e.selection.isMultiple()&&!i.isHeader()&&e.countRenderedCols()>0&&e.countRenderedRows()>0?e.selection.transformFocus(n.row,n.col):e.selection.transformStart(n.row,n.col)}};var yQ={name:"moveCellSelectionLeft",callback(e){e.selection.transformStart(0,-1*e.getDirectionFactor())}};var _Q={name:"moveCellSelectionRight",callback(e){e.selection.transformStart(0,e.getDirectionFactor())}};var wQ={name:"moveCellSelectionToMostBottom",callback(e){let{col:t}=e.getSelectedRangeLast().highlight,r=e.rowIndexMapper.getNearestNotHiddenIndex(e.countRows()-1,-1);r===null&&(r=-1),e.selection.setRangeStart(e._createCellCoords(r,t))}};var CQ={name:"moveCellSelectionToMostBottomInlineEnd",callback(e){let{selection:t,rowIndexMapper:r,columnIndexMapper:i}=e,n=parseInt(e.getSettings().fixedRowsBottom,10),o=r.getNearestNotHiddenIndex(e.countRows()-n-1,-1),s=i.getNearestNotHiddenIndex(e.countCols()-1,-1);t.setRangeStart(e._createCellCoords(o,s))}};var xQ={name:"moveCellSelectionToMostInlineEnd",callback(e){let{selection:t,columnIndexMapper:r}=e;t.setRangeStart(e._createCellCoords(e.getSelectedRangeLast().highlight.row,r.getNearestNotHiddenIndex(e.countCols()-1,-1)))}};var SQ={name:"moveCellSelectionToMostInlineStart",callback(e){let{selection:t,columnIndexMapper:r}=e,i=parseInt(e.getSettings().fixedColumnsStart,10),n=e.getSelectedRangeLast().highlight.row,o=r.getNearestNotHiddenIndex(i,1);t.setRangeStart(e._createCellCoords(n,o))}};var EQ={name:"moveCellSelectionToMostLeft",callback(e){let{selection:t,columnIndexMapper:r}=e,i=e.getSelectedRangeLast().highlight.row,n=r.getNearestNotHiddenIndex(...e.isRtl()?[e.countCols()-1,-1]:[0,1]);n===null&&(n=e.isRtl()?-1:-e.countRowHeaders()),t.setRangeStart(e._createCellCoords(i,n))}};var RQ={name:"moveCellSelectionToMostRight",callback(e){let{selection:t,columnIndexMapper:r}=e,{row:i}=e.getSelectedRangeLast().highlight,n=r.getNearestNotHiddenIndex(...e.isRtl()?[0,1]:[e.countCols()-1,-1]);n===null&&(n=e.isRtl()?-e.countRowHeaders():-1),t.setRangeStart(e._createCellCoords(i,n))}};var TQ={name:"moveCellSelectionToMostTop",callback(e){let{col:t}=e.getSelectedRangeLast().highlight,r=e.rowIndexMapper.getNearestNotHiddenIndex(0,1);r===null&&(r=-e.countColHeaders()),e.selection.setRangeStart(e._createCellCoords(r,t))}};var MQ={name:"moveCellSelectionToMostTopInlineStart",callback(e){let{selection:t,rowIndexMapper:r,columnIndexMapper:i}=e,n=parseInt(e.getSettings().fixedRowsTop,10),o=parseInt(e.getSettings().fixedColumnsStart,10),s=r.getNearestNotHiddenIndex(n,1),a=i.getNearestNotHiddenIndex(o,1);t.setRangeStart(e._createCellCoords(s,a))}};var AQ={name:"moveCellSelectionUp",callback(e){let{selection:t}=e;t.transformStart(-1,0)}};var IQ={name:"moveCellSelectionUpByViewportHight",callback(e){let{navigableHeaders:t}=e.getSettings(),r=t?e.countColHeaders():0,{row:i}=e.getSelectedRangeLast().highlight,n=-(e.countVisibleRows()+r);i===-r?n=-1:i+n<r&&(n=-(i+r)),e.selection.transformStart(n,0),e.getSelectedRangeLast().highlight.row<0&&e.scrollViewportTo({row:0})}};function kQ(){return[pQ,gQ,bQ,vQ,yQ,_Q,wQ,CQ,xQ,SQ,EQ,RQ,TQ,MQ,AQ,IQ]}var DQ={name:"emptySelectedCells",callback(e){e.emptySelectedCells(),e._getEditorManager().prepareEditor()}};var OQ={name:"scrollToFocusedCell",callback(e){let{highlight:t}=e.getSelectedRangeLast(),r=e.view.getFirstFullyVisibleRow()-1,i=e.view.getFirstFullyVisibleColumn()-1,n=e.view.getLastFullyVisibleRow()+1,o=e.view.getLastFullyVisibleColumn()+1,s=e._createCellCoords(r,i),a=e._createCellCoords(n,o);if(!e._createCellRange(s,s,a).includes(t)&&(t.row>=0||t.col>=0)){let c={};if(t.col>=0){let d=Math.floor(e.countVisibleCols()/2);c.col=Math.max(t.col-d,0)}if(t.row>=0){let d=Math.floor(e.countVisibleRows()/2);c.row=Math.max(t.row-d,0)}e.scrollViewportTo(Ue(jt({},c),{verticalSnap:"top",horizontalSnap:"start"}))}}};var PQ={name:"selectAllCells",callback(e){e.selection.selectAll(!0,!0,{disableHeadersHighlight:!0})}};var NQ={name:"selectAllCellsAndHeaders",callback(e){e.selection.selectAll(!0,!0,{disableHeadersHighlight:!1})}};var LQ={name:"populateSelectedCellsData",callback(e){let t=e.getSelectedRange(),{row:r,col:i}=t[t.length-1].highlight.normalize(),n=e.getDataAtCell(r,i),o=new Map;for(let s=0;s<t.length;s++)t[s].forAll((a,l)=>{if(a>=0&&l>=0&&(a!==r||l!==i)){let{readOnly:c}=e.getCellMeta(a,l);c||o.set(`${a}x${l}`,[a,l,n])}});e.setDataAtCell(Array.from(o.values()))}};var USt=[...JZ(),...mQ(),...kQ(),DQ,OQ,PQ,NQ,LQ];function XA(e){let t={};return USt.forEach(r=>{let{name:i,callback:n}=r;t[i]=function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return n(e,...s)}}),t}function FQ(e){let t=e.getShortcutManager().addContext("editor"),r=XA(e),i={group:Sa};t.addShortcuts([{keys:[["Enter"],["Enter","Shift"]],callback:(n,o)=>r.editorCloseAndSaveByEnter(n,o)},{keys:[["Enter","Control/Meta"],["Enter","Control/Meta","Shift"]],captureCtrl:!0,callback:(n,o)=>r.editorCloseAndSaveByEnter(n,o)},{keys:[["Tab"],["Tab","Shift"],["PageDown"],["PageUp"]],forwardToContext:e.getShortcutManager().getContext("grid"),callback:(n,o)=>r.editorCloseAndSave(n,o)},{keys:[["ArrowDown"],["ArrowUp"],["ArrowLeft"],["ArrowRight"]],preventDefault:!1,callback:(n,o)=>r.editorCloseAndSaveByArrowKeys(n,o)},{keys:[["Escape"],["Escape","Control/Meta"]],callback:()=>r.editorCloseWithoutSaving()}],i)}function HQ(e){let t=e.getShortcutManager().addContext("grid"),r=XA(e),i={runOnlyIf:()=>{let{navigableHeaders:n}=e.getSettings();return Ne(e.getSelected())&&(n||!n&&e.countRenderedRows()>0&&e.countRenderedCols()>0)},group:KA};t.addShortcuts([{keys:[["F2"]],callback:n=>r.editorFastOpen(n)},{keys:[["Enter"],["Enter","Shift"]],callback:(n,o)=>r.editorOpen(n,o)},{keys:[["Backspace"],["Delete"]],callback:()=>r.emptySelectedCells()}],{group:Sa,runOnlyIf:()=>Ne(e.getSelected())}),t.addShortcuts([{keys:[["Control/Meta","A"]],callback:()=>r.selectAllCells(),runOnlyIf:()=>!e.getSelectedRangeLast().highlight.isHeader()},{keys:[["Control/Meta","A"]],callback:()=>{},runOnlyIf:()=>e.getSelectedRangeLast().highlight.isHeader(),preventDefault:!0},{keys:[["Control/Meta","Shift","Space"]],callback:()=>r.selectAllCellsAndHeaders()},{keys:[["Control/Meta","Enter"]],callback:()=>r.populateSelectedCellsData(),runOnlyIf:()=>!e.getSelectedRangeLast().highlight.isHeader()&&e.getSelectedRangeLast().getCellsCount()>1},{keys:[["Control","Space"]],captureCtrl:!0,callback:()=>r.extendCellsSelectionToColumns()},{keys:[["Shift","Space"]],stopPropagation:!0,callback:()=>r.extendCellsSelectionToRows()},{keys:[["ArrowUp"]],callback:()=>r.moveCellSelectionUp()},{keys:[["ArrowUp","Control/Meta"]],captureCtrl:!0,callback:()=>r.moveCellSelectionToMostTop()},{keys:[["ArrowUp","Shift"]],callback:()=>r.extendCellsSelectionUp()},{keys:[["ArrowUp","Shift","Control/Meta"]],captureCtrl:!0,callback:()=>r.extendCellsSelectionToMostTop(),runOnlyIf:()=>!(e.selection.isSelectedByCorner()||e.selection.isSelectedByColumnHeader())},{keys:[["ArrowDown"]],callback:()=>r.moveCellSelectionDown()},{keys:[["ArrowDown","Control/Meta"]],captureCtrl:!0,callback:()=>r.moveCellSelectionToMostBottom()},{keys:[["ArrowDown","Shift"]],callback:()=>r.extendCellsSelectionDown()},{keys:[["ArrowDown","Shift","Control/Meta"]],captureCtrl:!0,callback:()=>r.extendCellsSelectionToMostBottom(),runOnlyIf:()=>!(e.selection.isSelectedByCorner()||e.selection.isSelectedByColumnHeader())},{keys:[["ArrowLeft"]],callback:()=>r.moveCellSelectionLeft()},{keys:[["ArrowLeft","Control/Meta"]],captureCtrl:!0,callback:()=>r.moveCellSelectionToMostLeft()},{keys:[["ArrowLeft","Shift"]],callback:()=>r.extendCellsSelectionLeft()},{keys:[["ArrowLeft","Shift","Control/Meta"]],captureCtrl:!0,callback:()=>r.extendCellsSelectionToMostLeft(),runOnlyIf:()=>!(e.selection.isSelectedByCorner()||e.selection.isSelectedByRowHeader())},{keys:[["ArrowRight"]],callback:()=>r.moveCellSelectionRight()},{keys:[["ArrowRight","Control/Meta"]],captureCtrl:!0,callback:()=>r.moveCellSelectionToMostRight()},{keys:[["ArrowRight","Shift"]],callback:()=>r.extendCellsSelectionRight()},{keys:[["ArrowRight","Shift","Control/Meta"]],captureCtrl:!0,callback:()=>r.extendCellsSelectionToMostRight(),runOnlyIf:()=>!(e.selection.isSelectedByCorner()||e.selection.isSelectedByRowHeader())},{keys:[["Home"]],captureCtrl:!0,callback:()=>r.moveCellSelectionToMostInlineStart(),runOnlyIf:()=>e.view.isMainTableNotFullyCoveredByOverlays()},{keys:[["Home","Shift"]],callback:()=>r.extendCellsSelectionToMostInlineStart()},{keys:[["Home","Control/Meta"]],captureCtrl:!0,callback:()=>r.moveCellSelectionToMostTopInlineStart(),runOnlyIf:()=>e.view.isMainTableNotFullyCoveredByOverlays()},{keys:[["End"]],captureCtrl:!0,callback:()=>r.moveCellSelectionToMostInlineEnd(),runOnlyIf:()=>e.view.isMainTableNotFullyCoveredByOverlays()},{keys:[["End","Shift"]],callback:()=>r.extendCellsSelectionToMostInlineEnd()},{keys:[["End","Control/Meta"]],captureCtrl:!0,callback:()=>r.moveCellSelectionToMostBottomInlineEnd(),runOnlyIf:()=>e.view.isMainTableNotFullyCoveredByOverlays()},{keys:[["PageUp"]],callback:()=>r.moveCellSelectionUpByViewportHight()},{keys:[["PageUp","Shift"]],callback:()=>r.extendCellsSelectionUpByViewportHeight()},{keys:[["PageDown"]],callback:()=>r.moveCellSelectionDownByViewportHeight()},{keys:[["PageDown","Shift"]],callback:()=>r.extendCellsSelectionDownByViewportHeight()},{keys:[["Tab"]],preventDefault:!1,callback:n=>r.moveCellSelectionInlineStart(n)},{keys:[["Shift","Tab"]],preventDefault:!1,callback:n=>r.moveCellSelectionInlineEnd(n)},{keys:[["Control/Meta","Backspace"]],callback:()=>r.scrollToFocusedCell()}],i)}function BQ(e){[HQ,FQ].forEach(t=>t(e))}function VQ(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.rootElement,i=jQ(e),n=jQ(e);return i.addEventListener("focus",()=>t?.onFocusFromTop()),n.addEventListener("focus",()=>t?.onFocusFromBottom()),r.firstChild.before(i),r.lastChild.after(n),{activate(){e._registerTimeout(()=>{i.tabIndex=0,n.tabIndex=0},10)},deactivate(){e._registerTimeout(()=>{i.tabIndex=-1,n.tabIndex=-1},10)}}}function jQ(e){let r=e.rootDocument.createElement("input");return r.type="text",r.classList.add("htFocusCatcher"),e.getSettings().ariaTags&&Ke(r,[Ua(),Ps()]),r}function zQ(e){let t=WSt(e),r,{activate:i,deactivate:n}=VQ(e,{onFocusFromTop(){var h;let u=(h=t(r))!==null&&h!==void 0?h:G6(e);u&&(e.runHooks("modifyFocusOnTabNavigation","from_above",u),e.selectCell(u.row,u.col)),e.listen()},onFocusFromBottom(){var h;let u=(h=t(r))!==null&&h!==void 0?h:K6(e);u&&(e.runHooks("modifyFocusOnTabNavigation","from_below",u),e.selectCell(u.row,u.col)),e.listen()}}),o={wrapped:!1,flipped:!1},s=!0,a=!1,l=!1;e.addHook("afterListen",()=>n()),e.addHook("afterUnlisten",()=>i()),e.addHook("afterSelection",(h,u,f,m,g)=>{if(a&&(o.wrapped&&o.flipped||l)&&(l=!1,g.value=!0),s){var p;r=(p=e.getSelectedRangeLast())===null||p===void 0?void 0:p.highlight}}),e.addHook("beforeRowWrap",(h,u,f)=>{o.wrapped=!0,o.flipped=f});function c(){o.wrapped=!1,o.flipped=!1,e.deselectCell(),e.unlisten()}let d={keys:[["Tab"],["Shift","Tab"]],preventDefault:!1,stopPropagation:!1,relativeToGroup:KA,group:"focusCatcher"};e.getShortcutManager().getContext("grid").addShortcuts([Ue(jt({},d),{callback:()=>{let{tabNavigation:h}=e.getSettings();a=!0,e.getSelectedRangeLast()&&!h&&(s=!1),h||(l=!0)},position:"before"}),Ue(jt({},d),{callback:h=>{let{tabNavigation:u,autoWrapRow:f}=e.getSettings();if(a=!1,s=!0,!u||!e.selection.isSelected()||f&&o.wrapped&&o.flipped||!f&&o.wrapped)return f&&o.wrapped&&o.flipped&&(r=h.shiftKey?G6(e):K6(e)),c(),!1;h.preventDefault()},position:"after"})])}function G6(e){let{rowIndexMapper:t,columnIndexMapper:r}=e,{navigableHeaders:i}=e.getSettings(),n=i&&e.countColHeaders()>0?-e.countColHeaders():0,o=i&&e.countRowHeaders()>0?-e.countRowHeaders():0;return n===0&&(n=t.getVisualFromRenderableIndex(n)),o===0&&(o=r.getVisualFromRenderableIndex(o)),n===null||o===null?null:e._createCellCoords(n,o)}function K6(e){var t,r;let{rowIndexMapper:i,columnIndexMapper:n}=e,{navigableHeaders:o}=e.getSettings(),s=i.getRenderableIndexesLength()-1,a=n.getRenderableIndexesLength()-1;if(s<0){if(!o||e.countColHeaders()===0)return null;s=-1}if(a<0){if(!o||e.countColHeaders()===0)return null;a=-1}return e._createCellCoords((t=i.getVisualFromRenderableIndex(s))!==null&&t!==void 0?t:s,(r=n.getVisualFromRenderableIndex(a))!==null&&r!==void 0?r:a)}function WSt(e){return t=>{if(!t)return null;let r=G6(e),i=K6(e);return t.col<r.col&&(t.col=r.col),t.col>i.col&&(t.col=i.col),t.row<r.row&&(t.row=r.row),t.row>i.row&&(t.row=i.row),t}}function UQ(e){return t=>{let{col:r}=t;e.scrollViewportTo({col:r})}}function WQ(){return()=>{}}function YQ(e){return t=>{e.scrollViewportTo(t.toObject())}}function $Q(e){return t=>{e.scrollViewportTo(t.toObject())}}function qQ(e){return t=>{e.scrollViewportTo(t.toObject())}}function GQ(e){return t=>{let{row:r}=t;e.scrollViewportTo({row:r})}}function KQ(e){return t=>{let r=e.selection.getSelectionSource(),{row:i,col:n}=t;if(i<0&&n>=0)e.scrollViewportTo({col:n});else if(n<0&&i>=0)e.scrollViewportTo({row:i});else{if(r==="mouse"&&(n===e.view.getLastPartiallyVisibleColumn()||i===e.view.getLastPartiallyVisibleRow()))return;e.scrollViewportTo({row:i,col:n})}}}function XQ(e){let{selection:t}=e,r=!1,i=!1;return{resume(){i=!1},suspend(){i=!0},skipNextScrollCycle(){r=!0},scrollTo(n){var o;if(r||i){r=!1;return}let s;t.isFocusSelectionChanged()?s=YQ(e):t.isSelectedByCorner()?s=WQ(e):t.isSelectedByRowHeader()?s=GQ(e):t.isSelectedByColumnHeader()?s=UQ(e):t.getSelectedRange().size()===1&&t.isMultiple()?s=$Q(e):t.getSelectedRange().size()===1&&!t.isMultiple()?s=KQ(e):t.getSelectedRange().size()>1&&(s=qQ(e)),(o=s)===null||o===void 0||o(n)}}}var Ele=ot(qt(),1);var ele=ot(qt(),1),ile=ot(_e(),1);var qae=ot(yn(),1),Gae=ot(_n(),1),Kae=ot(wn(),1),Xae=ot(Cn(),1),Zae=ot(xn(),1),Qae=ot(Sn(),1),Jae=ot(En(),1),ZQ=new Map([[" ","space"],["spacebar","space"],["scroll","scrolllock"],["del","delete"],["esc","escape"],["medianexttrack","mediatracknext"],["mediaprevioustrack","mediatrackprevious"],["volumeup","audiovolumeup"],["volumedown","audiovolumedown"],["volumemute","audiovolumemute"],["multiply","*"],["add","+"],["divide","/"],["subtract","-"],["left","arrowleft"],["right","arrowright"],["up","arrowup"],["down","arrowdown"]]),j2=e=>e.map(t=>{let r=t.toLowerCase();return ZQ.has(r)?ZQ.get(r):r}).sort().join("+"),JQ=e=>e.split("+"),QQ=new RegExp("^(?:Key|Digit)([A-Z0-9])$"),YSt=new Set(["Backquote","Minus","Equal","BracketLeft","BracketRight","Backslash","Semicolon","Quote","Comma","Period","Slash"]),ZA=e=>{let{key:t,code:r}=e,i=t;return QQ.test(r)?i=r.replace(QQ,"$1"):YSt.has(r)&&(i=r),i.toLowerCase()};var tJ=Symbol("shortcut-context");function X6(e){return gi(e)&&e.__kindOf===tJ}var eJ=e=>{let t=Zm({errorIdExists:l=>`The "${l}" shortcut is already registered in the "${e}" context.`}),r=function(){let{keys:l,callback:c,group:d,runOnlyIf:h=()=>!0,captureCtrl:u=!1,preventDefault:f=!0,stopPropagation:m=!1,relativeToGroup:g,position:p,forwardToContext:b}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(vr(d))throw new Error("You need to define the shortcut's group.");if(Mr(c)===!1)throw new Error("The shortcut's callback needs to be a function.");if(Array.isArray(l)===!1)throw new Error(Gi`Pass the shortcut\'s keys as an array of arrays,\x20
      using the KeyboardEvent.key properties:\x20
      https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key/Key_Values.`);let _={callback:c,group:d,runOnlyIf:h,captureCtrl:u,preventDefault:f,stopPropagation:m};Ne(g)&&(_.relativeToGroup=g,_.position=p),X6(b)&&(_.forwardToContext=b),l.forEach(E=>{let O=j2(E);if(t.hasItem(O)){let H=t.getItem(O),F=H.findIndex(L=>L.group===g);F!==-1?p==="before"?F-=1:F+=1:F=H.length,H.splice(F,0,_)}else t.addItem(O,[_])})},i=function(l){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};l.forEach(d=>{bi(c,(h,u)=>{Object.prototype.hasOwnProperty.call(d,u)===!1&&(d[u]=c[u])}),r(d)})},n=l=>{let c=j2(l);t.removeItem(c)};return{__kindOf:tJ,addShortcut:r,addShortcuts:i,getShortcuts:l=>{let c=j2(l),d=t.getItem(c);return Ne(d)?d.slice():[]},hasShortcut:l=>{let c=j2(l);return t.hasItem(c)},removeShortcutsByKeys:n,removeShortcutsByGroup:l=>{t.getItems().forEach(d=>{let[h,u]=d,f=u.filter(m=>m.group!==l);f.length===0?n(JQ(h)):(u.length=0,u.push(...f))})}}};var vle=ot(_e(),1);var dle=ot(yn(),1),hle=ot(_n(),1),ule=ot(wn(),1),fle=ot(Cn(),1),mle=ot(xn(),1),ple=ot(Sn(),1),gle=ot(En(),1);function iJ(){let e=new Set;return{press(t){e.add(t)},release(t){e.delete(t)},releaseAll(){e.clear()},isPressed(t){return e.has(t)}}}var $St=["meta","alt","shift","control"],V2=iJ(),z2=[],QA=0;function rJ(e,t,r,i,n){let o=f=>$St.includes(f),s=function(f){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,g=[];return f.altKey&&g.push("alt"),m&&(f.ctrlKey||f.metaKey)?g.push("control/meta"):(f.ctrlKey&&g.push("control"),f.metaKey&&g.push("meta")),f.shiftKey&&g.push("shift"),g},a=f=>{if(t(f)===!1)return;let m=r(f);if(f.keyCode===229||m===!1||jh(f))return;let g=ZA(f),p=[];o(g)||(p=s(f));let b=[g].concat(p);!n(f,b)&&(cy()&&p.includes("meta")||!cy()&&p.includes("control"))&&n(f,[g].concat(s(f,!0))),i(f)},l=f=>{if(f.key){let m=ZA(f);o(m)&&V2.press(m)}},c=f=>{if(f.key){let m=ZA(f);o(m)&&V2.release(m)}},d=()=>{V2.releaseAll()};return{mount:()=>{let f=e;for(QA+=1;f;)QA===1&&(f.document.documentElement.addEventListener("keydown",l),z2.push({event:"keydown",listener:l}),f.document.documentElement.addEventListener("keyup",c),z2.push({event:"keyup",listener:c})),f.document.documentElement.addEventListener("keydown",a),f.document.documentElement.addEventListener("blur",d),f=Hh(f)},unmount:()=>{let f=e;for(QA-=1;f;){if(QA===0){for(let m=0;m<z2.length;m++){let{event:g,listener:p}=z2[m];f.document.documentElement.removeEventListener(g,p)}z2.length=0}f.document.documentElement.removeEventListener("keydown",a),f.document.documentElement.removeEventListener("blur",d),f=Hh(f)}},isPressed:f=>V2.isPressed(f),releasePressedKeys:()=>V2.releaseAll()}}var Z6=e=>{let{ownerWindow:t,handleEvent:r,beforeKeyDown:i,afterKeyDown:n}=e,o=Zm({errorIdExists:m=>`The "${m}" context name is already registered.`}),s="grid",a=m=>{let g=eJ(m);return o.addItem(m,g),g},l=()=>s,c=m=>o.getItem(m),d=m=>{if(!o.hasItem(m))throw new Error(Gi`You've tried to activate the "${m}" shortcut context\x20
        that does not exist. Before activation, register the context using the "addContext" method.`);s=m},h=!1,u=function(m,g){let p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l(),b=X6(p)?p:c(p),_=!1;if(!b.hasShortcut(g))return _;let E=b.getShortcuts(g);for(let O=0;O<E.length;O++){let{callback:V,runOnlyIf:H,preventDefault:F,stopPropagation:L,captureCtrl:q,forwardToContext:W}=E[O];if(H(m)===!0){if(h=q,_=V(m,g)===!1,h=!1,F&&m.preventDefault(),L&&(Vo(m),m.stopPropagation()),_)break;W&&u(m,g,W)}}return _},f=rJ(t,r,i,n,u);return f.mount(),{addContext:a,getActiveContextName:l,getContext:c,setActiveContextName:d,isCtrlPressed:()=>!h&&(f.isPressed("control")||f.isPressed("meta")),releasePressedKeys:()=>f.releasePressedKeys(),destroy:()=>f.unmount()}};var Q6=null,J6=new Map;function JA(e,t){var r,i=this;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=this,s=new Qo(o),a,l,c,d,h,u,f=!0;qX(n)&&$X(this),this.rootElement=e,this.rootDocument=e.ownerDocument,this.rootWindow=this.rootDocument.defaultView,this.isDestroyed=!1,this.renderSuspendedCounter=0,this.executionSuspendedCounter=0;let m=(r=t?.layoutDirection)!==null&&r!==void 0?r:"inherit",g=["rtl","ltr"].includes(m)?m:this.rootWindow.getComputedStyle(this.rootElement).direction;this.rootElement.setAttribute("dir",g),this.isRtl=function(){return g==="rtl"},this.isLtr=function(){return!o.isRtl()},this.getDirectionFactor=function(){return o.isLtr()?1:-1},t.language=pZ(t.language);let p=new Ly(o,t,[H2,B2]),b=p.getTableMeta(),_=p.getGlobalMeta(),E=Zm();this.container=this.rootDocument.createElement("div"),this.renderCall=!1,e.insertBefore(this.container,e.firstChild),Ry(this)&&SG(t.licenseKey,e),this.guid=`ht_${nM()}`,J6.set(this.guid,this),this.columnIndexMapper=new d0,this.rowIndexMapper=new d0,this.columnIndexMapper.addLocalHook("indexesSequenceChange",N=>{o.runHooks("afterColumnSequenceChange",N)}),this.rowIndexMapper.addLocalHook("indexesSequenceChange",N=>{o.runHooks("afterRowSequenceChange",N)}),l=new eZ(o),(!this.rootElement.id||this.rootElement.id.substring(0,3)==="ht_")&&(this.rootElement.id=this.guid);let O=N=>{let{row:T,col:B}=N;return o._createCellCoords(T>=0?o.rowIndexMapper.getRenderableFromVisualIndex(T):T,B>=0?o.columnIndexMapper.getRenderableFromVisualIndex(B):B)},V=N=>{let{row:T,col:B}=N;return o._createCellCoords(T>=0?o.rowIndexMapper.getVisualFromRenderableIndex(T):T,B>=0?o.columnIndexMapper.getVisualFromRenderableIndex(B):B)},H=(N,T)=>{let B=T>N?1:-1,I=Math.min(N,T),$=Math.max(N,T),A=o.rowIndexMapper.getNearestNotHiddenIndex(N,B);return A===null||B===1&&A>$||B===-1&&A<I?null:A>=0?o.rowIndexMapper.getRenderableFromVisualIndex(A):A},F=(N,T)=>{let B=T>N?1:-1,I=Math.min(N,T),$=Math.max(N,T),A=o.columnIndexMapper.getNearestNotHiddenIndex(N,B);return A===null||B===1&&A>$||B===-1&&A<I?null:A>=0?o.columnIndexMapper.getRenderableFromVisualIndex(A):A},L=new z6(b,{rowIndexMapper:o.rowIndexMapper,columnIndexMapper:o.columnIndexMapper,countCols:()=>o.countCols(),countRows:()=>o.countRows(),propToCol:N=>a.propToCol(N),isEditorOpened:()=>o.getActiveEditor()?o.getActiveEditor().isOpened():!1,countRenderableColumns:()=>this.view.countRenderableColumns(),countRenderableRows:()=>this.view.countRenderableRows(),countRowHeaders:()=>this.countRowHeaders(),countColHeaders:()=>this.countColHeaders(),countRenderableRowsInRange:function(){return i.view.countRenderableRowsInRange(...arguments)},countRenderableColumnsInRange:function(){return i.view.countRenderableColumnsInRange(...arguments)},getShortcutManager:()=>o.getShortcutManager(),createCellCoords:(N,T)=>o._createCellCoords(N,T),createCellRange:(N,T,B)=>o._createCellRange(N,T,B),visualToRenderableCoords:O,renderableToVisualCoords:V,findFirstNonHiddenRenderableRow:H,findFirstNonHiddenRenderableColumn:F,isDisabledCellSelection:(N,T)=>N<0||T<0?o.getSettings().disableVisualSelection:o.getCellMeta(N,T).disableVisualSelection});this.selection=L;let q=N=>{let{hiddenIndexesChanged:T}=N;T&&this.selection.commit()};this.columnIndexMapper.addLocalHook("cacheUpdated",q),this.rowIndexMapper.addLocalHook("cacheUpdated",q),this.selection.addLocalHook("afterSetRangeEnd",(N,T)=>{let B=ya(!1),I=this.selection.getSelectedRange(),{from:$,to:A}=I.current(),k=I.size()-1;this.runHooks("afterSelection",$.row,$.col,A.row,A.col,B,k),this.runHooks("afterSelectionByProp",$.row,o.colToProp($.col),A.row,o.colToProp(A.col),B,k),T&&(!B.isTouched()||B.isTouched()&&!B.value)&&u.scrollTo(N);let Y=L.isSelectedByRowHeader(),Z=L.isSelectedByColumnHeader();Y&&Z?re(this.rootElement,["ht__selection--rows","ht__selection--columns"]):Y?(pi(this.rootElement,"ht__selection--columns"),re(this.rootElement,"ht__selection--rows")):Z?(pi(this.rootElement,"ht__selection--rows"),re(this.rootElement,"ht__selection--columns")):pi(this.rootElement,["ht__selection--rows","ht__selection--columns"]),L.getSelectionSource()!=="shift"&&d.closeEditor(null),o.view.render(),d.prepareEditor()}),this.selection.addLocalHook("beforeSetFocus",N=>{this.runHooks("beforeSelectionFocusSet",N.row,N.col)}),this.selection.addLocalHook("afterSetFocus",N=>{let T=ya(!1);this.runHooks("afterSelectionFocusSet",N.row,N.col,T),(!T.isTouched()||T.isTouched()&&!T.value)&&u.scrollTo(N),d.closeEditor(),o.view.render(),d.prepareEditor()}),this.selection.addLocalHook("afterSelectionFinished",N=>{let T=N.length-1,{from:B,to:I}=N[T];this.runHooks("afterSelectionEnd",B.row,B.col,I.row,I.col,T),this.runHooks("afterSelectionEndByProp",B.row,o.colToProp(B.col),I.row,o.colToProp(I.col),T)}),this.selection.addLocalHook("afterIsMultipleSelection",N=>{let T=this.runHooks("afterIsMultipleSelection",N.value);N.value&&(N.value=T)}),this.selection.addLocalHook("afterDeselect",()=>{d.closeEditor(),o.view.render(),pi(this.rootElement,["ht__selection--rows","ht__selection--columns"]),this.runHooks("afterDeselect")}),this.selection.addLocalHook("beforeHighlightSet",()=>this.runHooks("beforeSelectionHighlightSet")).addLocalHook("beforeSetRangeStart",function(){for(var N=arguments.length,T=new Array(N),B=0;B<N;B++)T[B]=arguments[B];return i.runHooks("beforeSetRangeStart",...T)}).addLocalHook("beforeSetRangeStartOnly",function(){for(var N=arguments.length,T=new Array(N),B=0;B<N;B++)T[B]=arguments[B];return i.runHooks("beforeSetRangeStartOnly",...T)}).addLocalHook("beforeSetRangeEnd",function(){for(var N=arguments.length,T=new Array(N),B=0;B<N;B++)T[B]=arguments[B];return i.runHooks("beforeSetRangeEnd",...T)}).addLocalHook("beforeSelectColumns",function(){for(var N=arguments.length,T=new Array(N),B=0;B<N;B++)T[B]=arguments[B];return i.runHooks("beforeSelectColumns",...T)}).addLocalHook("afterSelectColumns",function(){for(var N=arguments.length,T=new Array(N),B=0;B<N;B++)T[B]=arguments[B];return i.runHooks("afterSelectColumns",...T)}).addLocalHook("beforeSelectRows",function(){for(var N=arguments.length,T=new Array(N),B=0;B<N;B++)T[B]=arguments[B];return i.runHooks("beforeSelectRows",...T)}).addLocalHook("afterSelectRows",function(){for(var N=arguments.length,T=new Array(N),B=0;B<N;B++)T[B]=arguments[B];return i.runHooks("afterSelectRows",...T)}).addLocalHook("beforeModifyTransformStart",function(){for(var N=arguments.length,T=new Array(N),B=0;B<N;B++)T[B]=arguments[B];return i.runHooks("modifyTransformStart",...T)}).addLocalHook("afterModifyTransformStart",function(){for(var N=arguments.length,T=new Array(N),B=0;B<N;B++)T[B]=arguments[B];return i.runHooks("afterModifyTransformStart",...T)}).addLocalHook("beforeModifyTransformFocus",function(){for(var N=arguments.length,T=new Array(N),B=0;B<N;B++)T[B]=arguments[B];return i.runHooks("modifyTransformFocus",...T)}).addLocalHook("afterModifyTransformFocus",function(){for(var N=arguments.length,T=new Array(N),B=0;B<N;B++)T[B]=arguments[B];return i.runHooks("afterModifyTransformFocus",...T)}).addLocalHook("beforeModifyTransformEnd",function(){for(var N=arguments.length,T=new Array(N),B=0;B<N;B++)T[B]=arguments[B];return i.runHooks("modifyTransformEnd",...T)}).addLocalHook("afterModifyTransformEnd",function(){for(var N=arguments.length,T=new Array(N),B=0;B<N;B++)T[B]=arguments[B];return i.runHooks("afterModifyTransformEnd",...T)}).addLocalHook("beforeRowWrap",function(){for(var N=arguments.length,T=new Array(N),B=0;B<N;B++)T[B]=arguments[B];return i.runHooks("beforeRowWrap",...T)}).addLocalHook("beforeColumnWrap",function(){for(var N=arguments.length,T=new Array(N),B=0;B<N;B++)T[B]=arguments[B];return i.runHooks("beforeColumnWrap",...T)}).addLocalHook("insertRowRequire",N=>this.alter("insert_row_above",N,1,"auto")).addLocalHook("insertColRequire",N=>this.alter("insert_col_start",N,1,"auto")),c={alter(N,T){var B,I;let $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=arguments.length>3?arguments[3]:void 0,k=arguments.length>4?arguments[4]:void 0,Y=Z=>{if(Z.length===0)return[];let ct=[...Z];return ct.sort((nt,Ct)=>{let[xt]=nt,[rt]=Ct;return xt===rt?0:xt>rt?1:-1}),cn(ct,(nt,Ct)=>{let[xt,rt]=Ct,at=nt[nt.length-1],[_t,J]=at,et=_t+J;if(xt<=et){let lt=Math.max(rt-(et-xt),0);at[1]+=lt}else nt.push([xt,rt]);return nt},[ct[0]])};switch(N){case"insert_row_below":case"insert_row_above":let Z=o.countSourceRows();if(b.maxRows===Z)return;let ct=N==="insert_row_below"?"below":"above";T=(B=T)!==null&&B!==void 0?B:ct==="below"?Z:0;let{delta:tt,startPhysicalIndex:nt}=a.createRow(T,$,{source:A,mode:ct});L.shiftRows(o.toVisualRow(nt),tt);break;case"insert_col_start":case"insert_col_end":let Ct=N==="insert_col_end"?"end":"start";T=(I=T)!==null&&I!==void 0?I:Ct==="end"?o.countSourceCols():0;let{delta:xt,startPhysicalIndex:rt}=a.createCol(T,$,{source:A,mode:Ct});if(xt){if(Array.isArray(b.colHeaders)){let J=[o.toVisualColumn(rt),0];J.length+=xt,Array.prototype.splice.apply(b.colHeaders,J)}L.shiftColumns(o.toVisualColumn(rt),xt)}break;case"remove_row":let at=J=>{let et=0;St(J,lt=>{let[ut,mt]=lt,wt=sn(ut)?o.countRows()-1:Math.max(ut-et,0);if(Number.isInteger(ut)&&(ut=Math.max(ut-et,0)),!a.removeRow(ut,mt,A))return;if(L.isSelected()){let{row:kt}=o.getSelectedRangeLast().highlight;kt>=ut&&kt<=ut+mt-1&&d.closeEditor(!0)}let Rt=o.countRows();Rt===0?L.deselect():A==="ContextMenu.removeRow"?L.refresh():L.shiftRows(ut,-mt);let Mt=b.fixedRowsTop;Mt>=wt+1&&(b.fixedRowsTop-=Math.min(mt,Mt-wt));let Et=b.fixedRowsBottom;Et&&wt>=Rt-Et&&(b.fixedRowsBottom-=Math.min(mt,Et)),et+=mt})};Array.isArray(T)?at(Y(T)):at([[T,$]]);break;case"remove_col":let _t=J=>{let et=0;St(J,lt=>{let[ut,mt]=lt,wt=sn(ut)?o.countCols()-1:Math.max(ut-et,0),vt=o.toPhysicalColumn(wt);if(Number.isInteger(ut)&&(ut=Math.max(ut-et,0)),!a.removeCol(ut,mt,A))return;if(L.isSelected()){let{col:kt}=o.getSelectedRangeLast().highlight;kt>=ut&&kt<=ut+mt-1&&d.closeEditor(!0)}o.countCols()===0?L.deselect():A==="ContextMenu.removeColumn"?L.refresh():L.shiftColumns(ut,-mt);let Et=b.fixedColumnsStart;Et>=wt+1&&(b.fixedColumnsStart-=Math.min(mt,Et-wt)),Array.isArray(b.colHeaders)&&(typeof vt>"u"&&(vt=-1),b.colHeaders.splice(vt,mt)),et+=mt})};Array.isArray(T)?_t(Y(T)):_t([[T,$]]);break;default:throw new Error(`There is no such action "${N}"`)}o.view.render(),k||c.adjustRowsAndCols()},adjustRowsAndCols(){let N=b.minRows,T=b.minSpareRows,B=b.minCols,I=b.minSpareCols;if(N){let $=o.countRows();$<N&&a.createRow($,N-$,{source:"auto"})}if(T){let $=o.countEmptyRows(!0);if($<T){let A=T-$,k=Math.min(A,b.maxRows-o.countSourceRows());a.createRow(o.countRows(),k,{source:"auto"})}}{let $;(B||I)&&($=o.countEmptyCols(!0));let A=o.countCols();if(B&&!b.columns&&A<B){let k=B-A;$+=k,a.createCol(A,k,{source:"auto"})}if(I&&!b.columns&&o.dataType==="array"&&$<I){A=o.countCols();let k=I-$,Y=Math.min(k,b.maxCols-A);a.createCol(A,Y,{source:"auto"})}}o.view&&o.view.adjustElementsSize()},populateFromArray(N,T,B,I,$){let A,k,Y,Z,ct=[],tt={},nt=[],Ct=N.row,xt=N.col;if(k=T.length,k===0)return!1;let rt=0,at=0;switch(gi(B)&&(rt=B.col-xt+1,at=B.row-Ct+1),$){case"shift_down":let _t=Kv(T),J=_t.length,et=Math.max(J,rt),lt=o.getData().slice(Ct),ut=Kv(lt).slice(xt,xt+et);for(Y=0;Y<et;Y+=1)if(Y<J){for(A=0,k=_t[Y].length;A<at-k;A+=1)_t[Y].push(_t[Y][A%k]);Y<ut.length?nt.push(_t[Y].concat(ut[Y])):nt.push(_t[Y].concat(new Array(lt.length).fill(null)))}else nt.push(_t[Y%J].concat(ut[Y]));o.populateFromArray(Ct,xt,Kv(nt));break;case"shift_right":let mt=T.length,wt=Math.max(mt,at),vt=o.getData().slice(Ct).map(ie=>ie.slice(xt));for(A=0;A<wt;A+=1)if(A<mt){for(Y=0,Z=T[A].length;Y<rt-Z;Y+=1)T[A].push(T[A][Y%Z]);if(A<vt.length)for(let ie=0;ie<vt[A].length;ie+=1)T[A].push(vt[A][ie]);else T[A].push(...new Array(vt[0].length).fill(null))}else T.push(T[A%k].slice(0,wt).concat(vt[A]));o.populateFromArray(Ct,xt,T);break;case"overwrite":default:tt.row=N.row,tt.col=N.col;let Rt=0,Mt=0,Et=!0,kt,zt=function(Zt){let Fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,le=T[Zt%T.length];return Fe!==null?le[Fe%le.length]:le},Yt=T.length,Ut=B?B.row-N.row+1:0;for(B?k=Ut:k=Math.max(Yt,Ut),A=0;A<k&&!(B&&tt.row>B.row&&Ut>Yt||!b.allowInsertRow&&tt.row>o.countRows()-1||tt.row>=b.maxRows);A++){let ie=A-Rt,Zt=zt(ie).length,Fe=B?B.col-N.col+1:0;if(B?Z=Fe:Z=Math.max(Zt,Fe),tt.col=N.col,kt=o.getCellMeta(tt.row,tt.col),(I==="CopyPaste.paste"||I==="Autofill.fill")&&kt.skipRowOnPaste){Rt+=1,tt.row+=1,k+=1;continue}for(Mt=0,Y=0;Y<Z&&!(B&&tt.col>B.col&&Fe>Zt||!b.allowInsertColumn&&tt.col>o.countCols()-1||tt.col>=b.maxCols);Y++){if(kt=o.getCellMeta(tt.row,tt.col),(I==="CopyPaste.paste"||I==="Autofill.fill")&&kt.skipColumnOnPaste){Mt+=1,tt.col+=1,Z+=1;continue}if(kt.readOnly&&I!=="UndoRedo.undo"){tt.col+=1;continue}let le=Y-Mt,fe=zt(ie,le),ki=o.getDataAtCell(tt.row,tt.col);if(fe!==null&&typeof fe=="object")if(Array.isArray(fe)&&ki===null&&(ki=[]),ki===null||typeof ki!="object")Et=!1;else{let Ae=Qg(Array.isArray(ki)?ki:ki[0]||ki),ni=Qg(Array.isArray(fe)?fe:fe[0]||fe);ny(Ae,ni)||Array.isArray(Ae)&&Array.isArray(ni)?fe=jo(fe):Et=!1}else ki!==null&&typeof ki=="object"&&(Et=!1);Et&&ct.push([tt.row,tt.col,fe]),Et=!0,tt.col+=1}tt.row+=1}o.setDataAtCell(ct,null,null,I||"populateFromArray");break}}};function W(N){let T=OA(N);NA(T)?(o.runHooks("beforeLanguageChange",T),_.language=T,o.runHooks("afterLanguageChange",T)):PA(N)}function x(N,T){let B=N==="className"?o.rootElement:o.table;if(f)re(B,T);else{let I=[],$=[];_[N]&&(I=Array.isArray(_[N])?_[N]:aN(_[N])),T&&($=Array.isArray(T)?T:aN(T));let A=sN(I,$),k=sN($,I);A.length&&pi(B,A),k.length&&re(B,k)}_[N]=T}this.init=function(){l.setData(b.data),o.runHooks("beforeInit"),(ql()||EM())&&re(o.rootElement,"mobile"),this.updateSettings(b,!0),this.view=new XX(this),d=LK.getInstance(o,b,L),u=XQ(o),h=new PM(o),Ry(this)&&zQ(o),o.runHooks("init"),this.forceFullRender=!0,this.view.render(),f&&o.rootElement.offsetParent===null&&oK(o.rootElement,()=>{o.view._wt.wtOverlays.updateLastSpreaderSize(),o.render(),o.view.adjustElementsSize()}),typeof f=="object"&&(o.runHooks("afterChange",f[0],f[1]),f=!1),o.runHooks("afterInit")};function R(){let N=!1;return{validatorsInQueue:0,valid:!0,addValidatorToQueue(){this.validatorsInQueue+=1,N=!1},removeValidatorFormQueue(){this.validatorsInQueue=this.validatorsInQueue-1<0?0:this.validatorsInQueue-1,this.checkIfQueueIsEmpty()},onQueueEmpty(){},checkIfQueueIsEmpty(){this.validatorsInQueue===0&&N===!1&&(N=!0,this.onQueueEmpty(this.valid))}}}function j(N){let T=N.replace(",",".");return isNaN(parseFloat(T))===!1?parseFloat(T):N}function v(N,T,B){if(!N.length)return;let I=o.getActiveEditor(),$=new R,A=!0;$.onQueueEmpty=k=>{I&&A&&I.cancelChanges(),B(k)};for(let k=N.length-1;k>=0;k--){let[Y,Z,,ct]=N[k],tt=a.propToCol(Z),nt;Number.isInteger(tt)?nt=o.getCellMeta(Y,tt):nt=jt(jt({},Object.getPrototypeOf(b)),b),nt.type==="numeric"&&typeof ct=="string"&&WK(ct)&&(N[k][3]=j(ct)),o.getCellValidator(nt)&&($.addValidatorToQueue(),o.validateCell(N[k][3],nt,function(Ct,xt){return function(rt){if(typeof rt!="boolean")throw new Error("Validation error: result is not boolean");if(rt===!1&&xt.allowInvalid===!1){A=!1,N.splice(Ct,1),xt.valid=!0;let at=o.getCell(xt.visualRow,xt.visualCol);at!==null&&pi(at,b.invalidCellClassName)}$.removeValidatorFormQueue()}}(k,nt),T))}$.checkIfQueueIsEmpty()}function y(N,T){let B=N.length-1;if(B<0)return;for(;B>=0;B--){let $=!1;if(N[B]===null){N.splice(B,1);continue}if(!((N[B][2]===null||N[B][2]===void 0)&&(N[B][3]===null||N[B][3]===void 0))){if(b.allowInsertRow)for(;N[B][0]>o.countRows()-1;){let{delta:A}=a.createRow(void 0,void 0,{source:T});if(A===0){$=!0;break}}if(o.dataType==="array"&&(!b.columns||b.columns.length===0)&&b.allowInsertColumn)for(;a.propToCol(N[B][1])>o.countCols()-1;){let{delta:A}=a.createCol(void 0,void 0,{source:T});if(A===0){$=!0;break}}$||a.set(N[B][0],N[B][1],N[B][3])}}o.forceFullRender=!0,c.adjustRowsAndCols(),o.runHooks("beforeChangeRender",N,T),d.closeEditor(),o.view.render(),d.prepareEditor(),o.view.adjustElementsSize(),o.runHooks("afterChange",N,T||"edit");let I=o.getActiveEditor();I&&Ne(I.refreshValue)&&I.refreshValue()}this._createCellCoords=function(N,T){return o.view._wt.createCellCoords(N,T)},this._createCellRange=function(N,T,B){return o.view._wt.createCellRange(N,T,B)},this.validateCell=function(N,T,B,I){let $=o.getCellValidator(T);function A(k){if(!(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)||T.hidden===!0){B(k);return}let Z=T.visualCol,ct=T.visualRow,tt=o.getCell(ct,Z,!0);if(tt&&tt.nodeName!=="TH"){let nt=o.rowIndexMapper.getRenderableFromVisualIndex(ct),Ct=o.columnIndexMapper.getRenderableFromVisualIndex(Z);o.view._wt.getSetting("cellRenderer",nt,Ct,tt)}B(k)}xG($)&&($=function(k){return function(Y,Z){Z(k.test(Y))}}($)),Mr($)?(N=o.runHooks("beforeValidate",N,T.visualRow,T.prop,I),o._registerImmediate(()=>{$.call(T,N,k=>{o&&(k=o.runHooks("afterValidate",k,N,T.visualRow,T.prop,I),T.valid=k,A(k),o.runHooks("postAfterValidate",k,N,T.visualRow,T.prop,I))})})):o._registerImmediate(()=>{T.valid=!0,A(T.valid,!1)})};function C(N,T,B){return Array.isArray(N)?N:[[N,T,B]]}function w(N,T){let B=o.getActiveEditor(),I=o.runHooks("beforeChange",N,T||"edit"),$=N.filter(A=>A!==null);return I===!1||$.length===0?(B&&B.cancelChanges(),[]):$}this.setDataAtCell=function(N,T,B,I){let $=C(N,T,B),A=[],k=I,Y,Z,ct;for(Y=0,Z=$.length;Y<Z;Y++){if(typeof $[Y]!="object")throw new Error("Method `setDataAtCell` accepts row number or changes array of arrays as its first parameter");if(typeof $[Y][1]!="number")throw new Error("Method `setDataAtCell` accepts row and column number as its parameters. If you want to use object property name, use method `setDataAtRowProp`");$[Y][1]>=this.countCols()?ct=$[Y][1]:ct=a.colToProp($[Y][1]),A.push([$[Y][0],ct,l.getAtCell(this.toPhysicalRow($[Y][0]),$[Y][1]),$[Y][2]])}!k&&typeof N=="object"&&(k=T);let tt=w(A,I);o.runHooks("afterSetDataAtCell",tt,k),v(tt,k,()=>{y(tt,k)})},this.setDataAtRowProp=function(N,T,B,I){let $=C(N,T,B),A=[],k=I,Y,Z;for(Y=0,Z=$.length;Y<Z;Y++)A.push([$[Y][0],$[Y][1],l.getAtCell(this.toPhysicalRow($[Y][0]),$[Y][1]),$[Y][2]]);!k&&typeof N=="object"&&(k=T);let ct=w(A,I);o.runHooks("afterSetDataAtRowProp",ct,k),v(ct,k,()=>{y(ct,k)})},this.listen=function(){o&&!o.isListening()&&(J6.forEach(N=>{o!==N&&N.unlisten()}),Q6=o.guid,o.runHooks("afterListen"))},this.unlisten=function(){this.isListening()&&(Q6=null,o.runHooks("afterUnlisten"))},this.isListening=function(){return Q6===o.guid},this.destroyEditor=function(){let N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;d.closeEditor(N),o.view.render(),T&&L.isSelected()&&d.prepareEditor()},this.populateFromArray=function(N,T,B,I,$,A,k){if(!(typeof B=="object"&&typeof B[0]=="object"))throw new Error("populateFromArray parameter `input` must be an array of arrays");let Y=typeof I=="number"?o._createCellCoords(I,$):null;return c.populateFromArray(o._createCellCoords(N,T),B,Y,A,k)},this.spliceCol=function(N,T,B){for(var I=arguments.length,$=new Array(I>3?I-3:0),A=3;A<I;A++)$[A-3]=arguments[A];return a.spliceCol(N,T,B,...$)},this.spliceRow=function(N,T,B){for(var I=arguments.length,$=new Array(I>3?I-3:0),A=3;A<I;A++)$[A-3]=arguments[A];return a.spliceRow(N,T,B,...$)},this.getSelected=function(){if(L.isSelected())return Ci(L.getSelectedRange(),N=>{let{from:T,to:B}=N;return[T.row,T.col,B.row,B.col]})},this.getSelectedLast=function(){let N=this.getSelected(),T;return N&&N.length>0&&(T=N[N.length-1]),T},this.getSelectedRange=function(){if(L.isSelected())return Array.from(L.getSelectedRange())},this.getSelectedRangeLast=function(){let N=this.getSelectedRange(),T;return N&&N.length>0&&(T=N[N.length-1]),T},this.emptySelectedCells=function(N){if(!L.isSelected()||this.countRows()===0||this.countCols()===0)return;let T=[];St(L.getSelectedRange(),B=>{if(B.isSingleHeader())return;let I=B.getTopStartCorner(),$=B.getBottomEndCorner();Oe(I.row,$.row,A=>{Oe(I.col,$.col,k=>{this.getCellMeta(A,k).readOnly||T.push([A,k,null])})})}),T.length>0&&this.setDataAtCell(T,N)},this.isRenderSuspended=function(){return this.renderSuspendedCounter>0},this.suspendRender=function(){this.renderSuspendedCounter+=1},this.resumeRender=function(){let N=this.renderSuspendedCounter-1;this.renderSuspendedCounter=Math.max(N,0),!this.isRenderSuspended()&&N===this.renderSuspendedCounter&&(this.renderCall?this.render():o.view.render())},this.render=function(){this.view&&(this.renderCall=!0,this.forceFullRender=!0,this.isRenderSuspended()||o.view.render())},this.batchRender=function(N){this.suspendRender();let T=N();return this.resumeRender(),T},this.isExecutionSuspended=function(){return this.executionSuspendedCounter>0},this.suspendExecution=function(){this.executionSuspendedCounter+=1,this.columnIndexMapper.suspendOperations(),this.rowIndexMapper.suspendOperations()},this.resumeExecution=function(){let N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,T=this.executionSuspendedCounter-1;this.executionSuspendedCounter=Math.max(T,0),(!this.isExecutionSuspended()&&T===this.executionSuspendedCounter||N)&&(this.columnIndexMapper.resumeOperations(),this.rowIndexMapper.resumeOperations())},this.batchExecution=function(N){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this.suspendExecution();let B=N();return this.resumeExecution(T),B},this.batch=function(N){this.suspendRender(),this.suspendExecution();let T=N();return this.resumeExecution(),this.resumeRender(),T},this.refreshDimensions=function(){if(!o.view)return;let{width:N,height:T}=o.view.getLastSize(),{width:B,height:I}=o.rootElement.getBoundingClientRect(),$=B!==N||I!==T;o.runHooks("beforeRefreshDimensions",{width:N,height:T},{width:B,height:I},$)!==!1&&(($||o.view._wt.wtOverlays.scrollableElement===o.rootWindow)&&(o.view.setLastSize(B,I),o.render()),o.runHooks("afterRefreshDimensions",{width:N,height:T},{width:B,height:I},$))},this.updateData=function(N,T){GA(N,B=>{a=B},B=>{a=B,o.columnIndexMapper.fitToLength(this.getInitialColumnCount()),o.rowIndexMapper.fitToLength(this.countSourceRows()),c.adjustRowsAndCols(),L.refresh()},{hotInstance:o,dataMap:a,dataSource:l,internalSource:"updateData",source:T,metaManager:p,firstRun:f})},this.loadData=function(N,T){GA(N,B=>{a=B},()=>{p.clearCellsCache(),o.initIndexMappers(),c.adjustRowsAndCols(),L.refresh(),f&&(f=[null,"loadData"])},{hotInstance:o,dataMap:a,dataSource:l,internalSource:"loadData",source:T,metaManager:p,firstRun:f})},this.getInitialColumnCount=function(){let N=b.columns,T=0;if(Array.isArray(N))T=N.length;else if(Mr(N))if(o.dataType==="array"){let B=this.countSourceCols();for(let I=0;I<B;I+=1)N(I)&&(T+=1)}else(o.dataType==="object"||o.dataType==="function")&&(T=a.colToPropCache.length);else if(Ne(b.dataSchema)){let B=a.getSchema();T=Array.isArray(B)?B.length:oy(B)}else T=this.countSourceCols();return T},this.initIndexMappers=function(){this.columnIndexMapper.initToLength(this.getInitialColumnCount()),this.rowIndexMapper.initToLength(this.countSourceRows())},this.getData=function(N,T,B,I){return vr(N)?a.getAll():a.getRange(o._createCellCoords(N,T),o._createCellCoords(B,I),a.DESTINATION_RENDERER)},this.getCopyableText=function(N,T,B,I){return a.getCopyableText(o._createCellCoords(N,T),o._createCellCoords(B,I))},this.getCopyableData=function(N,T){return a.getCopyable(N,a.colToProp(T))},this.getSchema=function(){return a.getSchema()},this.updateSettings=function(N){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,B=(f?o.loadData:o.updateData).bind(this),I=!1,$,A;if(Ne(N.rows))throw new Error('The "rows" setting is no longer supported. Do you mean startRows, minRows or maxRows?');if(Ne(N.cols))throw new Error('The "cols" setting is no longer supported. Do you mean startCols, minCols or maxCols?');if(Ne(N.ganttChart))throw new Error('Since 8.0.0 the "ganttChart" setting is no longer supported.');for($ in N)$==="data"||($==="language"?W(N.language):$==="className"?x("className",N.className):$==="tableClassName"&&o.table?(x("tableClassName",N.tableClassName),o.view._wt.wtOverlays.syncOverlayTableClassNames()):Le.getSingleton().isRegistered($)||Le.getSingleton().isDeprecated($)?(Mr(N[$])||Array.isArray(N[$]))&&(N[$].initialHook=!0,o.addHook($,N[$])):!T&&en(N,$)&&(_[$]=N[$]));N.data===void 0&&b.data===void 0?B(null,"updateSettings"):N.data!==void 0?B(N.data,"updateSettings"):N.columns!==void 0&&(a.createMap(),o.initIndexMappers());let k=o.countCols(),Y=b.columns;if(Y&&Mr(Y)&&(I=!0),(N.cell!==void 0||N.cells!==void 0||N.columns!==void 0)&&p.clearCache(),k>0)for($=0,A=0;$<k;$++){if(Y){let tt=I?Y($):Y[A];tt&&p.updateColumnMeta(A,tt)}A+=1}Ne(N.cell)&&bi(N.cell,tt=>{o.setCellMetaObject(tt.row,tt.col,tt)}),o.runHooks("afterCellMetaReset");let Z=o.rootElement.style.height;Z!==""&&(Z=parseInt(o.rootElement.style.height,10));let ct=N.height;if(Mr(ct)&&(ct=ct()),T&&o.rootElement.getAttribute("style")&&o.rootElement.setAttribute("data-initialstyle",o.rootElement.getAttribute("style")),ct===null){let tt=o.rootElement.getAttribute("data-initialstyle");tt&&(tt.indexOf("height")>-1||tt.indexOf("overflow")>-1)?o.rootElement.setAttribute("style",tt):(o.rootElement.style.height="",o.rootElement.style.overflow="")}else ct!==void 0&&(o.rootElement.style.height=isNaN(ct)?`${ct}`:`${ct}px`,o.rootElement.style.overflow="hidden");if(typeof N.width<"u"){let tt=N.width;Mr(tt)&&(tt=tt()),o.rootElement.style.width=isNaN(tt)?`${tt}`:`${tt}px`}T||(o.view&&(o.view._wt.wtViewport.resetHasOversizedColumnHeadersMarked(),o.view._wt.exportSettingsAsClassNames()),o.runHooks("afterUpdateSettings",N)),c.adjustRowsAndCols(),o.view&&!f&&(o.forceFullRender=!0,o.view.render(),o.view._wt.wtOverlays.adjustElementsSize()),!T&&o.view&&(Z===""||ct===""||ct===void 0)&&Z!==ct&&o.view._wt.wtOverlays.updateMainScrollableElements()},this.getValue=function(){let N=o.getSelectedLast();if(b.getValue){if(Mr(b.getValue))return b.getValue.call(o);if(N)return o.getData()[N[0][0]][b.getValue]}else if(N)return o.getDataAtCell(N[0],N[1])},this.getSettings=function(){return b},this.clear=function(){this.selectAll(),this.emptySelectedCells()},this.alter=function(N,T,B,I,$){c.alter(N,T,B,I,$)},this.getCell=function(N,T){let B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,I=T,$=N;if(T>=0){if(this.columnIndexMapper.isHidden(this.toPhysicalColumn(T)))return null;I=this.columnIndexMapper.getRenderableFromVisualIndex(T)}if(N>=0){if(this.rowIndexMapper.isHidden(this.toPhysicalRow(N)))return null;$=this.rowIndexMapper.getRenderableFromVisualIndex(N)}return $===null||I===null||$===void 0||I===void 0?null:o.view.getCellAtCoords(o._createCellCoords($,I),B)},this.getCoords=function(N){let T=this.view._wt.wtTable.getCoords(N);if(T===null)return null;let{row:B,col:I}=T,$=B,A=I;return B>=0&&($=this.rowIndexMapper.getVisualFromRenderableIndex(B)),I>=0&&(A=this.columnIndexMapper.getVisualFromRenderableIndex(I)),o._createCellCoords($,A)},this.colToProp=function(N){return a.colToProp(N)},this.propToCol=function(N){return a.propToCol(N)},this.toVisualRow=N=>this.rowIndexMapper.getVisualFromPhysicalIndex(N),this.toVisualColumn=N=>this.columnIndexMapper.getVisualFromPhysicalIndex(N),this.toPhysicalRow=N=>this.rowIndexMapper.getPhysicalFromVisualIndex(N),this.toPhysicalColumn=N=>this.columnIndexMapper.getPhysicalFromVisualIndex(N),this.getDataAtCell=function(N,T){return a.get(N,a.colToProp(T))},this.getDataAtRowProp=function(N,T){return a.get(N,T)},this.getDataAtCol=function(N){let T=[],B=a.getRange(o._createCellCoords(0,N),o._createCellCoords(b.data.length-1,N),a.DESTINATION_RENDERER);for(let I=0;I<B.length;I+=1)for(let $=0;$<B[I].length;$+=1)T.push(B[I][$]);return T},this.getDataAtProp=function(N){let T=[],B=a.getRange(o._createCellCoords(0,a.propToCol(N)),o._createCellCoords(b.data.length-1,a.propToCol(N)),a.DESTINATION_RENDERER);for(let I=0;I<B.length;I+=1)for(let $=0;$<B[I].length;$+=1)T.push(B[I][$]);return T},this.getSourceData=function(N,T,B,I){let $;return N===void 0?$=l.getData():$=l.getByRange(o._createCellCoords(N,T),o._createCellCoords(B,I)),$},this.getSourceDataArray=function(N,T,B,I){let $;return N===void 0?$=l.getData(!0):$=l.getByRange(o._createCellCoords(N,T),o._createCellCoords(B,I),!0),$},this.getSourceDataAtCol=function(N){return l.getAtColumn(N)},this.setSourceDataAtCell=function(N,T,B,I){let $=C(N,T,B),A=this.hasHook("afterSetSourceDataAtCell"),k=[];A&&St($,Z=>{let[ct,tt,nt]=Z;k.push([ct,tt,l.getAtCell(ct,tt),nt])}),St($,Z=>{let[ct,tt,nt]=Z;l.setAtCell(ct,tt,nt)}),A&&this.runHooks("afterSetSourceDataAtCell",k,I),this.render();let Y=o.getActiveEditor();Y&&Ne(Y.refreshValue)&&Y.refreshValue()},this.getSourceDataAtRow=function(N){return l.getAtRow(N)},this.getSourceDataAtCell=function(N,T){return l.getAtCell(N,T)},this.getDataAtRow=function(N){return a.getRange(o._createCellCoords(N,0),o._createCellCoords(N,this.countCols()-1),a.DESTINATION_RENDERER)[0]||[]},this.getDataType=function(N,T,B,I){let $=N===void 0?[0,0,this.countRows(),this.countCols()]:[N,T,B,I],[A,k]=$,[,,Y,Z]=$,ct=null,tt=null;Y===void 0&&(Y=A),Z===void 0&&(Z=k);let nt="mixed";return Oe(Math.max(Math.min(A,Y),0),Math.max(A,Y),Ct=>{let xt=!0;return Oe(Math.max(Math.min(k,Z),0),Math.max(k,Z),rt=>(tt=this.getCellMeta(Ct,rt).type,ct?xt=ct===tt:ct=tt,xt)),nt=xt?tt:"mixed",xt}),nt},this.removeCellMeta=function(N,T,B){let[I,$]=[this.toPhysicalRow(N),this.toPhysicalColumn(T)],A=p.getCellMetaKeyValue(I,$,B);o.runHooks("beforeRemoveCellMeta",N,T,B,A)!==!1&&(p.removeCellMeta(I,$,B),o.runHooks("afterRemoveCellMeta",N,T,B,A)),A=null},this.spliceCellsMeta=function(N){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;for(var B=arguments.length,I=new Array(B>2?B-2:0),$=2;$<B;$++)I[$-2]=arguments[$];if(I.length>0&&!Array.isArray(I[0]))throw new Error("The 3rd argument (cellMetaRows) has to be passed as an array of cell meta objects array.");T>0&&p.removeRow(this.toPhysicalRow(N),T),I.length>0&&St(I.reverse(),A=>{p.createRow(this.toPhysicalRow(N)),St(A,(k,Y)=>this.setCellMetaObject(N,Y,k))}),o.render()},this.setCellMetaObject=function(N,T,B){typeof B=="object"&&bi(B,(I,$)=>{this.setCellMeta(N,T,$,I)})},this.setCellMeta=function(N,T,B,I){if(o.runHooks("beforeSetCellMeta",N,T,B,I)===!1)return;let A=N,k=T;N<this.countRows()&&(A=this.toPhysicalRow(N)),T<this.countCols()&&(k=this.toPhysicalColumn(T)),p.setCellMeta(A,k,B,I),o.runHooks("afterSetCellMeta",N,T,B,I)},this.getCellsMeta=function(){return p.getCellsMeta()},this.getCellMeta=function(N,T){let B=this.toPhysicalRow(N),I=this.toPhysicalColumn(T);return B===null&&(B=N),I===null&&(I=T),p.getCellMeta(B,I,{visualRow:N,visualColumn:T})},this.getCellMetaAtRow=function(N){return p.getCellsMetaAtRow(N)},this.isColumnModificationAllowed=function(){return!(o.dataType==="object"||b.columns)},this.getCellRenderer=function(N,T){let B=typeof N=="number"?o.getCellMeta(N,T).renderer:N.renderer;return typeof B=="string"?jN(B):vr(B)?jN("text"):B},this.getCellEditor=function(N,T){let B=typeof N=="number"?o.getCellMeta(N,T).editor:N.editor;return typeof B=="string"?TN(B):vr(B)?TN("text"):B},this.getCellValidator=function(N,T){let B=typeof N=="number"?o.getCellMeta(N,T).validator:N.validator;return typeof B=="string"?ZK(B):B},this.validateCells=function(N){this._validateCells(N)},this.validateRows=function(N,T){if(!Array.isArray(N))throw new Error("validateRows parameter `rows` must be an array");this._validateCells(T,N)},this.validateColumns=function(N,T){if(!Array.isArray(N))throw new Error("validateColumns parameter `columns` must be an array");this._validateCells(T,void 0,N)},this._validateCells=function(N,T,B){let I=new R;N&&(I.onQueueEmpty=N);let $=o.countRows()-1;for(;$>=0;){if(T!==void 0&&T.indexOf($)===-1){$-=1;continue}let A=o.countCols()-1;for(;A>=0;){if(B!==void 0&&B.indexOf(A)===-1){A-=1;continue}I.addValidatorToQueue(),o.validateCell(o.getDataAtCell($,A),o.getCellMeta($,A),k=>{if(typeof k!="boolean")throw new Error("Validation error: result is not boolean");k===!1&&(I.valid=!1),I.removeValidatorFormQueue()},"validateCells"),A-=1}$-=1}I.checkIfQueueIsEmpty()},this.getRowHeader=function(N){let T=b.rowHeaders,B=N;return B!==void 0&&(B=o.runHooks("modifyRowHeader",B)),B===void 0?(T=[],Oe(o.countRows()-1,I=>{T.push(o.getRowHeader(I))})):Array.isArray(T)&&T[B]!==void 0?T=T[B]:Mr(T)?T=T(B):T&&typeof T!="string"&&typeof T!="number"&&(T=B+1),T},this.hasRowHeaders=function(){return!!b.rowHeaders},this.hasColHeaders=function(){if(b.colHeaders!==void 0&&b.colHeaders!==null)return!!b.colHeaders;for(let N=0,T=o.countCols();N<T;N++)if(o.getColHeader(N))return!0;return!1},this.getColHeader=function(N){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,B=o.runHooks("modifyColHeader",N);if(B===void 0){let Y=[],Z=o.countCols();for(let ct=0;ct<Z;ct++)Y.push(o.getColHeader(ct));return Y}let I=b.colHeaders,$=function(Y){let Z=[],ct=o.countCols(),tt=0;for(;tt<ct;tt++)Mr(b.columns)&&b.columns(tt)&&Z.push(tt);return Z[Y]},A=o.toPhysicalColumn(B),k=$(A);return b.colHeaders===!1?I=null:b.columns&&Mr(b.columns)&&b.columns(k)&&b.columns(k).title?I=b.columns(k).title:b.columns&&b.columns[A]&&b.columns[A].title?I=b.columns[A].title:Array.isArray(b.colHeaders)&&b.colHeaders[A]!==void 0?I=b.colHeaders[A]:Mr(b.colHeaders)?I=b.colHeaders(A):b.colHeaders&&typeof b.colHeaders!="string"&&typeof b.colHeaders!="number"&&(I=QX(B)),I=o.runHooks("modifyColumnHeaderValue",I,N,T),I},this._getColWidthFromSettings=function(N){let T;if(N>=0&&(T=o.getCellMeta(0,N).width),(T===void 0||T===b.width)&&(T=b.colWidths),T!=null){switch(typeof T){case"object":T=T[N];break;case"function":T=T(N);break;default:break}typeof T=="string"&&(T=parseInt(T,10))}return T},this.getColWidth=function(N){let T=o._getColWidthFromSettings(N);return T=o.runHooks("modifyColWidth",T,N),T===void 0&&(T=Vh.DEFAULT_WIDTH),T},this._getRowHeightFromSettings=function(N){let T=b.rowHeights;if(T!=null){switch(typeof T){case"object":T=T[N];break;case"function":T=T(N);break;default:break}typeof T=="string"&&(T=parseInt(T,10))}return T},this.getRowHeight=function(N){let T=o._getRowHeightFromSettings(N);return T=o.runHooks("modifyRowHeight",T,N),T},this.countSourceRows=function(){return l.countRows()},this.countSourceCols=function(){return l.countFirstRowKeys()},this.countRows=function(){return a.getLength()},this.countCols=function(){let N=b.maxCols,T=this.columnIndexMapper.getNotTrimmedIndexesLength();return Math.min(N,T)},this.countRenderedRows=function(){return o.view._wt.drawn?o.view._wt.wtTable.getRenderedRowsCount():-1},this.countVisibleRows=function(){return o.view._wt.drawn?o.view._wt.wtTable.getVisibleRowsCount():-1},this.countRenderedCols=function(){return o.view._wt.drawn?o.view._wt.wtTable.getRenderedColumnsCount():-1},this.countVisibleCols=function(){return o.view._wt.drawn?o.view._wt.wtTable.getVisibleColumnsCount():-1},this.countRowHeaders=function(){return this.view.getRowHeadersCount()},this.countColHeaders=function(){return this.view.getColumnHeadersCount()},this.countEmptyRows=function(){let N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,T=0;return IC(o.countRows()-1,B=>{if(o.isEmptyRow(B))T+=1;else if(N===!0)return!1}),T},this.countEmptyCols=function(){let N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,T=0;return IC(o.countCols()-1,B=>{if(o.isEmptyCol(B))T+=1;else if(N===!0)return!1}),T},this.isEmptyRow=function(N){return b.isEmptyRow.call(o,N)},this.isEmptyCol=function(N){return b.isEmptyCol.call(o,N)},this.selectCell=function(N,T,B,I){let $=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,A=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;return vr(N)||vr(T)?!1:this.selectCells([[N,T,B,I]],$,A)},this.selectCells=function(){let N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[[]],T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;T===!1&&u.suspend();let I=L.selectCells(N);return I&&B&&o.listen(),u.resume(),I},this.selectColumns=function(N){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:N,B=arguments.length>2?arguments[2]:void 0;return L.selectColumns(N,T,B)},this.selectRows=function(N){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:N,B=arguments.length>2?arguments[2]:void 0;return L.selectRows(N,T,B)},this.deselectCell=function(){L.deselect()},this.selectAll=function(){let N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:N,B=arguments.length>2?arguments[2]:void 0;u.skipNextScrollCycle(),L.selectAll(N,T,B)};let S=(N,T)=>N.getNearestNotHiddenIndex(T,1,!0);this.scrollViewportTo=function(N){var T;if(typeof N=="number"){var B;N={row:arguments[0],col:arguments[1],verticalSnap:arguments[2]?"bottom":"top",horizontalSnap:arguments[3]?"end":"start",considerHiddenIndexes:(B=arguments[4])!==null&&B!==void 0?B:!0}}let{row:I,col:$,verticalSnap:A,horizontalSnap:k,considerHiddenIndexes:Y}=(T=N)!==null&&T!==void 0?T:{},Z,ct,tt,nt;A!==void 0&&(Z=A==="top",ct=!Z),k!==void 0&&(tt=k==="start",nt=!tt);let Ct=I,xt=$;if(Y===void 0||Y){let _t=Number.isInteger(I)&&I>=0,J=Number.isInteger($)&&$>=0,et=_t?S(this.rowIndexMapper,I):void 0,lt=J?S(this.columnIndexMapper,$):void 0;if(et===null||lt===null)return!1;Ct=_t?o.rowIndexMapper.getRenderableFromVisualIndex(et):I,xt=J?o.columnIndexMapper.getRenderableFromVisualIndex(lt):$}let rt=Number.isInteger(Ct),at=Number.isInteger(xt);return rt&&Ct>=0&&at&&xt>=0?o.view.scrollViewport(o._createCellCoords(Ct,xt),Z,nt,ct,tt):rt&&Ct>=0&&(at&&xt<0||!at)?o.view.scrollViewportVertically(Ct,Z,ct):at&&xt>=0&&(rt&&Ct<0||!rt)?o.view.scrollViewportHorizontally(xt,nt,tt):!1},this.scrollToFocusedCell=function(){let N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:()=>{};if(!this.selection.isSelected())return;this.addHookOnce("afterScroll",N);let{highlight:T}=this.getSelectedRangeLast();this.scrollViewportTo(T.toObject())?this.view.render():(this.removeHook("afterScroll",N),this._registerImmediate(()=>N()))},this.destroy=function(){if(o._clearTimeouts(),o._clearImmediates(),o.view&&o.view.destroy(),l&&l.destroy(),l=null,this.getShortcutManager().destroy(),p.clearCache(),J6.delete(this.guid),Ry(o)){let N=this.rootDocument.querySelector(".hot-display-license-info");N&&N.parentNode.removeChild(N)}Ns(o.rootElement),s.destroy(),d&&d.destroy(),o.batchExecution(()=>{o.rowIndexMapper.unregisterAll(),o.columnIndexMapper.unregisterAll(),E.getItems().forEach(N=>{let[,T]=N;T.destroy()}),E.clear(),o.runHooks("afterDestroy")},!0),Le.getSingleton().destroy(o),bi(o,(N,T,B)=>{Mr(N)?B[T]=M(T):T!=="guid"&&(B[T]=null)}),o.isDestroyed=!0,a&&a.destroy(),a=null,c=null,L=null,d=null,o=null};function M(N){return()=>{throw new Error(`The "${N}" method cannot be called because this Handsontable instance has been destroyed`)}}this.getActiveEditor=function(){return d.getActiveEditor()},this.getPlugin=function(N){let T=na(N);return T==="UndoRedo"?this.undoRedo:E.getItem(T)},this.getPluginName=function(N){return N===this.undoRedo?this.undoRedo.constructor.PLUGIN_KEY:E.getId(N)},this.getInstance=function(){return o},this.addHook=function(N,T,B){Le.getSingleton().add(N,T,o,B)},this.hasHook=function(N){return Le.getSingleton().has(N,o)||Le.getSingleton().has(N)},this.addHookOnce=function(N,T,B){Le.getSingleton().once(N,T,o,B)},this.removeHook=function(N,T){Le.getSingleton().remove(N,T,o)},this.runHooks=function(N,T,B,I,$,A,k){return Le.getSingleton().run(o,N,T,B,I,$,A,k)},this.getTranslatedPhrase=function(N,T){return LA(b.language,N,T)},this.toHTML=()=>PN(this),this.toTableElement=()=>{let N=this.rootDocument.createElement("div");return N.insertAdjacentHTML("afterbegin",PN(this)),N.firstElementChild},this.timeouts=[],this._registerTimeout=function(N){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,B=N;typeof B=="function"&&(B=setTimeout(B,T)),this.timeouts.push(B)},this._clearTimeouts=function(){St(this.timeouts,N=>{clearTimeout(N)})},this.immediates=[],this._registerImmediate=function(N){this.immediates.push(setImmediate(N))},this._clearImmediates=function(){St(this.immediates,N=>{clearImmediate(N)})},this._getEditorManager=function(){return d},this.isRtl=function(){return o.rootWindow.getComputedStyle(o.rootElement).direction==="rtl"},this.isLtr=function(){return!o.isRtl()},this.getDirectionFactor=function(){return o.isLtr()?1:-1};let U=Z6({handleEvent(){return o.isListening()},beforeKeyDown:N=>this.runHooks("beforeKeyDown",N),afterKeyDown:N=>{this.isDestroyed||o.runHooks("afterDocumentKeyDown",N)},ownerWindow:this.rootWindow});this.addHook("beforeOnCellMouseDown",N=>{N.ctrlKey===!1&&N.metaKey===!1&&U.releasePressedKeys()}),this.getShortcutManager=function(){return U},this.getFocusManager=function(){return h},LM().forEach(N=>{let T=FM(N);E.addItem(N,new T(this))}),BQ(o),U.setActiveContextName("grid"),Le.getSingleton().run(o,"construct")}var Rce=ot(qt(),1);function nJ(e,t,r){e.addEventListener(t,r,!1)}function oJ(e,t,r){e.removeEventListener(t,r,!1)}function sJ(e){return e.ownerDocument.defaultView.getComputedStyle(e)}function aJ(e){let t={minHeight:200,maxHeight:300,minWidth:100,maxWidth:300},r=e.body,i=e.createTextNode(""),n=e.createElement("span"),o;function s(){i.textContent=o.value,n.style.position="absolute",n.style.fontSize=sJ(o).fontSize,n.style.fontFamily=sJ(o).fontFamily,n.style.whiteSpace="pre",r.appendChild(n);let d=n.clientWidth+2;r.removeChild(n);let h=o.style;h.height=`${t.minHeight}px`,t.minWidth>d?h.width=`${t.minWidth}px`:d>t.maxWidth?h.width=`${t.maxWidth}px`:h.width=`${d}px`;let u=o.scrollHeight?o.scrollHeight-1:0;t.minHeight>u?h.height=`${t.minHeight}px`:t.maxHeight<u?(h.height=`${t.maxHeight}px`,h.overflowY="visible"):h.height=`${u}px`}function a(){e.defaultView.setTimeout(s,0)}function l(d){if(d&&d.minHeight)if(d.minHeight==="inherit")t.minHeight=o.clientHeight;else{let h=parseInt(d.minHeight,10);isNaN(h)||(t.minHeight=h)}if(d&&d.maxHeight)if(d.maxHeight==="inherit")t.maxHeight=o.clientHeight;else{let h=parseInt(d.maxHeight,10);isNaN(h)||(t.maxHeight=h)}if(d&&d.minWidth)if(d.minWidth==="inherit")t.minWidth=o.clientWidth;else{let h=parseInt(d.minWidth,10);isNaN(h)||(t.minWidth=h)}if(d&&d.maxWidth)if(d.maxWidth==="inherit")t.maxWidth=o.clientWidth;else{let h=parseInt(d.maxWidth,10);isNaN(h)||(t.maxWidth=h)}n.firstChild||(n.className="autoResize",n.style.display="inline-block",n.appendChild(i))}function c(d,h){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;o=d,l(h),o.nodeName==="TEXTAREA"&&(o.style.resize="none",o.style.height=`${t.minHeight}px`,o.style.minWidth=`${t.minWidth}px`,o.style.maxWidth=`${t.maxWidth}px`,o.style.overflowY="hidden"),u&&(nJ(o,"input",s),nJ(o,"keydown",a)),s()}return{init:c,resize:s,unObserve(){oJ(o,"input",s),oJ(o,"keydown",a)}}}function tL(e,t){let r=mM(t),i=t.value.split(`
`),n=r,o=0;for(let s=0;s<i.length;s++){let a=i[s];s!==0&&(o+=i[s-1].length+1);let l=o+a.length;if(e==="home"?n=o:e==="end"&&(n=l),r<=l)break}$m(t,n)}function g0(e,t,r){return t=qSt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qSt(e){var t=GSt(e,"string");return typeof t=="symbol"?t:t+""}function GSt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KSt="ht_editor_visible",tI="ht_editor_hidden",lJ="textEditor",eL="text",sa=class extends Cl{static get EDITOR_TYPE(){return eL}constructor(t){super(t),g0(this,"eventManager",new Qo(this)),g0(this,"autoResize",aJ(this.hot.rootDocument)),g0(this,"TEXTAREA",void 0),g0(this,"textareaStyle",void 0),g0(this,"TEXTAREA_PARENT",void 0),g0(this,"textareaParentStyle",void 0),g0(this,"layerClass",void 0),this.eventManager=new Qo(this),this.createElements(),this.bindEvents(),this.hot.addHookOnce("afterDestroy",()=>this.destroy())}getValue(){return this.TEXTAREA.value}setValue(t){this.TEXTAREA.value=t}open(){this.refreshDimensions(),this.showEditableElement(),this.hot.getShortcutManager().setActiveContextName("editor"),this.registerShortcuts()}close(){this.autoResize.unObserve(),XG(this.hot.rootDocument.activeElement,this.hot.rootElement)&&this.hot.listen(),this.hideEditableElement(),this.unregisterShortcuts()}prepare(t,r,i,n,o,s){let a=this.state;if(super.prepare(t,r,i,n,o,s),!s.readOnly){this.refreshDimensions(!0);let{allowInvalid:l}=s;l&&!this.isOpened()&&(this.TEXTAREA.value=""),a!==Xn.FINISHED&&!this.isOpened()&&this.hideEditableElement()}}beginEditing(t,r){this.state===Xn.VIRGIN&&(this.TEXTAREA.value="",super.beginEditing(t,r))}focus(){this.TEXTAREA.select(),$m(this.TEXTAREA,this.TEXTAREA.value.length)}createElements(){let{rootDocument:t}=this.hot;this.TEXTAREA=t.createElement("TEXTAREA"),Ke(this.TEXTAREA,[["data-hot-input",""],Ic(-1)]),this.hot.getSettings().ariaTags&&Ke(this.TEXTAREA,[Ps()]),re(this.TEXTAREA,"handsontableInput"),this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,this.textareaStyle.overflowY="visible",this.TEXTAREA_PARENT=t.createElement("DIV"),re(this.TEXTAREA_PARENT,"handsontableInputHolder"),Xe(this.TEXTAREA_PARENT,this.layerClass)&&pi(this.TEXTAREA_PARENT,this.layerClass),re(this.TEXTAREA_PARENT,tI),this.textareaParentStyle=this.TEXTAREA_PARENT.style,this.TEXTAREA_PARENT.appendChild(this.TEXTAREA),this.hot.rootElement.appendChild(this.TEXTAREA_PARENT)}hideEditableElement(){AK()&&(this.textareaStyle.textIndent="-99999px"),this.textareaStyle.overflowY="visible",this.textareaParentStyle.opacity="0",this.textareaParentStyle.height="1px",pi(this.TEXTAREA_PARENT,this.layerClass),re(this.TEXTAREA_PARENT,tI)}showEditableElement(){this.textareaParentStyle.height="",this.textareaParentStyle.overflow="",this.textareaParentStyle.position="",this.textareaParentStyle[this.hot.isRtl()?"left":"right"]="auto",this.textareaParentStyle.opacity="1",this.textareaStyle.textIndent="";let t=this.TEXTAREA_PARENT.childNodes,r=!1;Oe(t.length-1,i=>{let n=t[i];if(Xe(n,"handsontableEditor"))return r=!0,!1}),Xe(this.TEXTAREA_PARENT,tI)&&pi(this.TEXTAREA_PARENT,tI),r?(this.layerClass=KSt,re(this.TEXTAREA_PARENT,this.layerClass)):(this.layerClass=this.getEditedCellsLayerClass(),re(this.TEXTAREA_PARENT,this.layerClass))}refreshValue(){let t=this.hot.toPhysicalRow(this.row),r=this.hot.getSourceDataAtCell(t,this.col);this.originalValue=r,this.setValue(r),this.refreshDimensions()}refreshDimensions(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.state!==Xn.EDITING&&!t)return;if(this.TD=this.getEditedCell(),!this.TD){t||this.close();return}let{top:r,start:i,width:n,maxWidth:o,height:s,maxHeight:a}=this.getEditedCellRect();this.textareaParentStyle.top=`${r}px`,this.textareaParentStyle[this.hot.isRtl()?"right":"left"]=`${i}px`,this.showEditableElement();let l=Nc(this.TD,this.hot.rootWindow);this.TEXTAREA.style.fontSize=l.fontSize,this.TEXTAREA.style.fontFamily=l.fontFamily,this.TEXTAREA.style.backgroundColor=this.TD.style.backgroundColor;let c=Nc(this.TEXTAREA),d=parseInt(c.paddingLeft,10)+parseInt(c.paddingRight,10),h=parseInt(c.paddingTop,10)+parseInt(c.paddingBottom,10),u=n-d,f=s-h,m=o-d,g=a-h;this.autoResize.init(this.TEXTAREA,{minWidth:Math.min(u,m),minHeight:Math.min(f,g),maxWidth:m,maxHeight:g},!0)}bindEvents(){SM()&&this.eventManager.addEventListener(this.TEXTAREA,"focusout",()=>this.finishEditing(!1)),this.addHook("afterScrollHorizontally",()=>this.refreshDimensions()),this.addHook("afterScrollVertically",()=>this.refreshDimensions()),this.addHook("afterColumnResize",()=>{this.refreshDimensions(),this.state===Xn.EDITING&&this.focus()}),this.addHook("afterRowResize",()=>{this.refreshDimensions(),this.state===Xn.EDITING&&this.focus()})}allowKeyEventPropagation(){}destroy(){this.eventManager.destroy(),this.clearHooks()}registerShortcuts(){let r=this.hot.getShortcutManager().getContext("editor"),i={runOnlyIf:()=>Ne(this.hot.getSelected()),group:lJ},n=()=>{this.hot.rootDocument.execCommand("insertText",!1,`
`)};r.addShortcuts([{keys:[["Control","Enter"]],callback:()=>(n(),!1),runOnlyIf:o=>!this.hot.selection.isMultiple()&&!o.altKey},{keys:[["Meta","Enter"]],callback:()=>(n(),!1),runOnlyIf:()=>!this.hot.selection.isMultiple()},{keys:[["Alt","Enter"]],callback:()=>(n(),!1)},{keys:[["Home"]],callback:(o,s)=>{let[a]=s;tL(a,this.TEXTAREA)}},{keys:[["End"]],callback:(o,s)=>{let[a]=s;tL(a,this.TEXTAREA)}}],i)}unregisterShortcuts(){this.hot.getShortcutManager().getContext("editor").removeShortcutsByGroup(lJ)}};var Bce=ot(_e(),1);var iL="base";function Zh(e,t,r,i,n,o,s){let a=s.ariaTags,l=[],c=[],d=[],h=[];s.className&&re(t,s.className),s.readOnly?(l.push(s.readOnlyCellClassName),a&&h.push(hN())):a&&d.push(hN()[0]),s.valid===!1&&s.invalidCellClassName?(l.push(s.invalidCellClassName),a&&h.push(uN())):(c.push(s.invalidCellClassName),a&&d.push(uN()[0])),s.wordWrap===!1&&s.noWordWrapClassName&&l.push(s.noWordWrapClassName),!o&&s.placeholder&&l.push(s.placeholderCellClassName),pi(t,c),re(t,l),Dc(t,d),Ke(t,h)}Zh.RENDERER_TYPE=iL;var rL="text";function Us(e,t,r,i,n,o,s){Zh.apply(this,[e,t,r,i,n,o,s]);let a=o;if(!a&&s.placeholder&&(a=s.placeholder),a=on(a),s.trimWhitespace&&(a=a.trim()),s.rendererTemplate){Ns(t);let l=e.rootDocument.createElement("TEMPLATE");l.setAttribute("bind","{{}}"),l.innerHTML=s.rendererTemplate,HTMLTemplateElement.decorate(l),l.model=e.getSourceDataAtRow(r),t.appendChild(l)}else Pc(t,a)}Us.RENDERER_TYPE=rL;var nL="text",U2={CELL_TYPE:nL,editor:sa,renderer:Us};Xl(U2);Ld.editors={BaseEditor:Cl};function Ld(e,t){let r=new JA(e,t||{},CA);return r.init(),r}Ld.Core=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new JA(e,t,CA)};Ld.DefaultSettings=F2();Ld.hooks=Le.getSingleton();Ld.CellCoords=ip;Ld.CellRange=e0;Ld.packageName="handsontable";Ld.buildDate="11/06/2024 09:51:42";Ld.version="14.4.0";Ld.languages={dictionaryKeys:uZ,getLanguageDictionary:I6,getLanguagesDictionaries:mZ,registerLanguageDictionary:A6,getTranslatedPhrase:LA};var eI=Ld;var XSt=["container"],oL=new Map,hJ="The Handsontable instance bound to this component was destroyed and cannot be used properly.",sL=(()=>{class e{getInstance(r){let i=oL.get(r);return i.isDestroyed?(console.warn(hJ),null):i}registerInstance(r,i){return oL.set(r,i)}removeInstance(r){return oL.delete(r)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=we({token:e,factory:e.\u0275fac})}return e})(),ZSt=Object.keys(eI.DefaultSettings),cJ=eI.hooks.getRegistered(),dJ=(()=>{class e{mergeSettings(r){let i="settings"in r&&typeof r.settings=="object",n=i?r.settings:{};return cJ.concat(ZSt).forEach(s=>{let a=cJ.indexOf(s)>-1,l;i&&a&&(l=r.settings[s]),r[s]!==void 0&&(l=r[s]),l!==void 0&&("ngZone"in r&&typeof l=="function"&&a?n[s]=function(...c){return r.ngZone.run(()=>l.apply(this,c))}:n[s]=l)}),n}prepareChanges(r){let i={};return Object.keys(r).forEach(o=>{r.hasOwnProperty(o)&&(i[o]=r[o].currentValue)}),i}static \u0275fac=function(i){return new(i||e)};static \u0275prov=we({token:e,factory:e.\u0275fac})}return e})(),uJ=(()=>{class e{_hotTableRegisterer;_hotSettingsResolver;ngZone;container;__hotInstance=null;columnsComponents=[];settings;hotId="";activeHeaderClassName;allowEmpty;allowHtml;allowInsertColumn;allowInsertRow;allowInvalid;allowRemoveColumn;allowRemoveRow;ariaTags;autoColumnSize;autoRowSize;autoWrapCol;autoWrapRow;bindRowsWithHeaders;cell;cells;checkedTemplate;className;colHeaders;collapsibleColumns;columnHeaderHeight;columns;columnSorting;columnSummary;colWidths;commentedCellClassName;comments;contextMenu;copyable;copyPaste;correctFormat;currentColClassName;currentHeaderClassName;currentRowClassName;customBorders;data;dataDotNotation;dataSchema;dateFormat;datePickerConfig;defaultDate;tabNavigation;disableVisualSelection;dragToScroll;dropdownMenu;editor;enterBeginsEditing;enterMoves;fillHandle;filter;filteringCaseSensitive;filters;fixedColumnsLeft;fixedColumnsStart;fixedRowsBottom;fixedRowsTop;formulas;fragmentSelection;height;hiddenColumns;hiddenRows;invalidCellClassName;imeFastEdit;label;language;layoutDirection;licenseKey;locale;manualColumnFreeze;manualColumnMove;manualColumnResize;manualRowMove;manualRowResize;maxCols;maxRows;mergeCells;minCols;minRows;minSpareCols;minSpareRows;multiColumnSorting;navigableHeaders;nestedHeaders;nestedRows;noWordWrapClassName;numericFormat;observeDOMVisibility;outsideClickDeselects;persistentState;placeholder;placeholderCellClassName;preventOverflow;preventWheel;readOnly;readOnlyCellClassName;renderAllColumns;renderAllRows;renderer;rowHeaders;rowHeaderWidth;rowHeights;search;selectionMode;selectOptions;skipColumnOnPaste;skipRowOnPaste;sortByRelevance;source;startCols;startRows;stretchH;strict;tableClassName;tabMoves;title;trimDropdown;trimRows;trimWhitespace;type;uncheckedTemplate;undo;validator;viewportColumnRenderingOffset;viewportRowRenderingOffset;visibleRows;width;wordWrap;afterAddChild;afterAutofill;afterBeginEditing;afterCellMetaReset;afterChange;afterChangesObserved;afterColumnCollapse;afterColumnExpand;afterColumnFreeze;afterColumnMove;afterColumnResize;afterColumnSequenceChange;afterColumnSort;afterColumnUnfreeze;afterContextMenuDefaultOptions;afterContextMenuHide;afterContextMenuShow;afterCopy;afterCopyLimit;afterCreateCol;afterCreateRow;afterCut;afterDeselect;afterDestroy;afterDetachChild;afterDocumentKeyDown;afterDrawSelection;afterDropdownMenuDefaultOptions;afterDropdownMenuHide;afterDropdownMenuShow;afterFilter;afterFormulasValuesUpdate;afterGetCellMeta;afterGetColHeader;afterGetColumnHeaderRenderers;afterGetRowHeader;afterGetRowHeaderRenderers;afterHideColumns;afterHideRows;afterInit;afterLanguageChange;afterListen;afterLoadData;afterMergeCells;afterModifyTransformEnd;afterModifyTransformFocus;afterModifyTransformStart;afterMomentumScroll;afterNamedExpressionAdded;afterNamedExpressionRemoved;afterOnCellContextMenu;afterOnCellCornerDblClick;afterOnCellCornerMouseDown;afterOnCellMouseDown;afterOnCellMouseOut;afterOnCellMouseOver;afterOnCellMouseUp;afterPaste;afterPluginsInitialized;afterRedo;afterRedoStackChange;afterRefreshDimensions;afterRemoveCellMeta;afterRemoveCol;afterRemoveRow;afterRender;afterRenderer;afterRowMove;afterRowResize;afterRowSequenceChange;afterScrollHorizontally;afterScrollVertically;afterScroll;afterSelectColumns;afterSelection;afterSelectionByProp;afterSelectionEnd;afterSelectionEndByProp;afterSelectionFocusSet;afterSelectRows;afterSetCellMeta;afterSetDataAtCell;afterSetDataAtRowProp;afterSetSourceDataAtCell;afterSheetAdded;afterSheetRenamed;afterSheetRemoved;afterTrimRow;afterUndo;afterUndoStackChange;afterUnhideColumns;afterUnhideRows;afterUnlisten;afterUnmergeCells;afterUntrimRow;afterUpdateData;afterUpdateSettings;afterValidate;afterViewportColumnCalculatorOverride;afterViewportRowCalculatorOverride;afterViewRender;beforeAddChild;beforeAutofill;beforeBeginEditing;beforeCellAlignment;beforeChange;beforeChangeRender;beforeColumnCollapse;beforeColumnExpand;beforeColumnFreeze;beforeColumnMove;beforeColumnResize;beforeColumnSort;beforeColumnWrap;beforeColumnUnfreeze;beforeContextMenuSetItems;beforeContextMenuShow;beforeCopy;beforeCreateCol;beforeCreateRow;beforeCut;beforeDetachChild;beforeDrawBorders;beforeDropdownMenuSetItems;beforeDropdownMenuShow;beforeFilter;beforeGetCellMeta;beforeHideColumns;beforeHideRows;beforeHighlightingColumnHeader;beforeHighlightingRowHeader;beforeInit;beforeInitWalkontable;beforeKeyDown;beforeLanguageChange;beforeLoadData;beforeMergeCells;beforeOnCellContextMenu;beforeOnCellMouseDown;beforeOnCellMouseOut;beforeOnCellMouseOver;beforeOnCellMouseUp;beforePaste;beforeRedo;beforeRedoStackChange;beforeRefreshDimensions;beforeRemoveCellClassNames;beforeRemoveCellMeta;beforeRemoveCol;beforeRemoveRow;beforeRender;beforeRenderer;beforeRowMove;beforeRowResize;beforeRowWrap;beforeSelectColumns;beforeSelectionFocusSet;beforeSelectionHighlightSet;beforeSelectRows;beforeSetCellMeta;beforeSetRangeEnd;beforeSetRangeStart;beforeSetRangeStartOnly;beforeStretchingColumnWidth;beforeTouchScroll;beforeTrimRow;beforeUndo;beforeUndoStackChange;beforeUnhideColumns;beforeUnhideRows;beforeUnmergeCells;beforeUntrimRow;beforeUpdateData;beforeValidate;beforeValueRender;beforeViewportScroll;beforeViewportScrollHorizontally;beforeViewportScrollVertically;beforeViewRender;construct;init;modifyAutoColumnSizeSeed;modifyAutofillRange;modifyColHeader;modifyColumnHeaderHeight;modifyColumnHeaderValue;modifyColWidth;modifyCopyableRange;modifyFiltersMultiSelectValue;modifyFocusedElement;modifyData;modifyFocusOnTabNavigation;modifyGetCellCoords;modifyRowData;modifyRowHeader;modifyRowHeaderWidth;modifyRowHeight;modifySourceData;modifyTransformEnd;modifyTransformFocus;modifyTransformStart;persistentStateLoad;persistentStateReset;persistentStateSave;constructor(r,i,n){this._hotTableRegisterer=r,this._hotSettingsResolver=i,this.ngZone=n}get hotInstance(){return!this.__hotInstance||this.__hotInstance&&!this.__hotInstance.isDestroyed?this.__hotInstance:(this._hotTableRegisterer.removeInstance(this.hotId),console.warn(hJ),null)}set hotInstance(r){this.__hotInstance=r}ngAfterViewInit(){let r=this._hotSettingsResolver.mergeSettings(this);if(this.columnsComponents.length>0){let i=[];this.columnsComponents.forEach(n=>{i.push(this._hotSettingsResolver.mergeSettings(n))}),r.columns=i}this.ngZone.runOutsideAngular(()=>{this.hotInstance=new eI.Core(this.container.nativeElement,r),this.hotId&&this._hotTableRegisterer.registerInstance(this.hotId,this.hotInstance),this.hotInstance.init()})}ngOnChanges(r){if(this.hotInstance===null)return;let i=this._hotSettingsResolver.prepareChanges(r);this.updateHotTable(i)}ngOnDestroy(){this.ngZone.runOutsideAngular(()=>{this.hotInstance&&this.hotInstance.destroy()}),this.hotId&&this._hotTableRegisterer.removeInstance(this.hotId)}updateHotTable(r){this.hotInstance&&this.ngZone.runOutsideAngular(()=>{this.hotInstance.updateSettings(r,!1)})}onAfterColumnsChange(){if(this.columnsComponents!==void 0&&this.columnsComponents.length>0){let r=[];this.columnsComponents.forEach(n=>{r.push(this._hotSettingsResolver.mergeSettings(n))});let i={columns:r};this.updateHotTable(i)}}onAfterColumnsNumberChange(){let r=[];this.columnsComponents.length>0&&this.columnsComponents.forEach(i=>{r.push(this._hotSettingsResolver.mergeSettings(i))}),this.updateHotTable({columns:r})}addColumn(r){this.columnsComponents.push(r),this.onAfterColumnsNumberChange()}removeColumn(r){let i=this.columnsComponents.indexOf(r);this.columnsComponents.splice(i,1),this.onAfterColumnsNumberChange()}static \u0275fac=function(i){return new(i||e)(Dt(sL),Dt(dJ),Dt(ci))};static \u0275cmp=qe({type:e,selectors:[["hot-table"]],viewQuery:function(i,n){if(i&1&&or(XSt,5),i&2){let o;Hi(o=Bi())&&(n.container=o.first)}},inputs:{settings:"settings",hotId:"hotId",activeHeaderClassName:"activeHeaderClassName",allowEmpty:"allowEmpty",allowHtml:"allowHtml",allowInsertColumn:"allowInsertColumn",allowInsertRow:"allowInsertRow",allowInvalid:"allowInvalid",allowRemoveColumn:"allowRemoveColumn",allowRemoveRow:"allowRemoveRow",ariaTags:"ariaTags",autoColumnSize:"autoColumnSize",autoRowSize:"autoRowSize",autoWrapCol:"autoWrapCol",autoWrapRow:"autoWrapRow",bindRowsWithHeaders:"bindRowsWithHeaders",cell:"cell",cells:"cells",checkedTemplate:"checkedTemplate",className:"className",colHeaders:"colHeaders",collapsibleColumns:"collapsibleColumns",columnHeaderHeight:"columnHeaderHeight",columns:"columns",columnSorting:"columnSorting",columnSummary:"columnSummary",colWidths:"colWidths",commentedCellClassName:"commentedCellClassName",comments:"comments",contextMenu:"contextMenu",copyable:"copyable",copyPaste:"copyPaste",correctFormat:"correctFormat",currentColClassName:"currentColClassName",currentHeaderClassName:"currentHeaderClassName",currentRowClassName:"currentRowClassName",customBorders:"customBorders",data:"data",dataDotNotation:"dataDotNotation",dataSchema:"dataSchema",dateFormat:"dateFormat",datePickerConfig:"datePickerConfig",defaultDate:"defaultDate",tabNavigation:"tabNavigation",disableVisualSelection:"disableVisualSelection",dragToScroll:"dragToScroll",dropdownMenu:"dropdownMenu",editor:"editor",enterBeginsEditing:"enterBeginsEditing",enterMoves:"enterMoves",fillHandle:"fillHandle",filter:"filter",filteringCaseSensitive:"filteringCaseSensitive",filters:"filters",fixedColumnsLeft:"fixedColumnsLeft",fixedColumnsStart:"fixedColumnsStart",fixedRowsBottom:"fixedRowsBottom",fixedRowsTop:"fixedRowsTop",formulas:"formulas",fragmentSelection:"fragmentSelection",height:"height",hiddenColumns:"hiddenColumns",hiddenRows:"hiddenRows",invalidCellClassName:"invalidCellClassName",imeFastEdit:"imeFastEdit",label:"label",language:"language",layoutDirection:"layoutDirection",licenseKey:"licenseKey",locale:"locale",manualColumnFreeze:"manualColumnFreeze",manualColumnMove:"manualColumnMove",manualColumnResize:"manualColumnResize",manualRowMove:"manualRowMove",manualRowResize:"manualRowResize",maxCols:"maxCols",maxRows:"maxRows",mergeCells:"mergeCells",minCols:"minCols",minRows:"minRows",minSpareCols:"minSpareCols",minSpareRows:"minSpareRows",multiColumnSorting:"multiColumnSorting",navigableHeaders:"navigableHeaders",nestedHeaders:"nestedHeaders",nestedRows:"nestedRows",noWordWrapClassName:"noWordWrapClassName",numericFormat:"numericFormat",observeDOMVisibility:"observeDOMVisibility",outsideClickDeselects:"outsideClickDeselects",persistentState:"persistentState",placeholder:"placeholder",placeholderCellClassName:"placeholderCellClassName",preventOverflow:"preventOverflow",preventWheel:"preventWheel",readOnly:"readOnly",readOnlyCellClassName:"readOnlyCellClassName",renderAllColumns:"renderAllColumns",renderAllRows:"renderAllRows",renderer:"renderer",rowHeaders:"rowHeaders",rowHeaderWidth:"rowHeaderWidth",rowHeights:"rowHeights",search:"search",selectionMode:"selectionMode",selectOptions:"selectOptions",skipColumnOnPaste:"skipColumnOnPaste",skipRowOnPaste:"skipRowOnPaste",sortByRelevance:"sortByRelevance",source:"source",startCols:"startCols",startRows:"startRows",stretchH:"stretchH",strict:"strict",tableClassName:"tableClassName",tabMoves:"tabMoves",title:"title",trimDropdown:"trimDropdown",trimRows:"trimRows",trimWhitespace:"trimWhitespace",type:"type",uncheckedTemplate:"uncheckedTemplate",undo:"undo",validator:"validator",viewportColumnRenderingOffset:"viewportColumnRenderingOffset",viewportRowRenderingOffset:"viewportRowRenderingOffset",visibleRows:"visibleRows",width:"width",wordWrap:"wordWrap",afterAddChild:"afterAddChild",afterAutofill:"afterAutofill",afterBeginEditing:"afterBeginEditing",afterCellMetaReset:"afterCellMetaReset",afterChange:"afterChange",afterChangesObserved:"afterChangesObserved",afterColumnCollapse:"afterColumnCollapse",afterColumnExpand:"afterColumnExpand",afterColumnFreeze:"afterColumnFreeze",afterColumnMove:"afterColumnMove",afterColumnResize:"afterColumnResize",afterColumnSequenceChange:"afterColumnSequenceChange",afterColumnSort:"afterColumnSort",afterColumnUnfreeze:"afterColumnUnfreeze",afterContextMenuDefaultOptions:"afterContextMenuDefaultOptions",afterContextMenuHide:"afterContextMenuHide",afterContextMenuShow:"afterContextMenuShow",afterCopy:"afterCopy",afterCopyLimit:"afterCopyLimit",afterCreateCol:"afterCreateCol",afterCreateRow:"afterCreateRow",afterCut:"afterCut",afterDeselect:"afterDeselect",afterDestroy:"afterDestroy",afterDetachChild:"afterDetachChild",afterDocumentKeyDown:"afterDocumentKeyDown",afterDrawSelection:"afterDrawSelection",afterDropdownMenuDefaultOptions:"afterDropdownMenuDefaultOptions",afterDropdownMenuHide:"afterDropdownMenuHide",afterDropdownMenuShow:"afterDropdownMenuShow",afterFilter:"afterFilter",afterFormulasValuesUpdate:"afterFormulasValuesUpdate",afterGetCellMeta:"afterGetCellMeta",afterGetColHeader:"afterGetColHeader",afterGetColumnHeaderRenderers:"afterGetColumnHeaderRenderers",afterGetRowHeader:"afterGetRowHeader",afterGetRowHeaderRenderers:"afterGetRowHeaderRenderers",afterHideColumns:"afterHideColumns",afterHideRows:"afterHideRows",afterInit:"afterInit",afterLanguageChange:"afterLanguageChange",afterListen:"afterListen",afterLoadData:"afterLoadData",afterMergeCells:"afterMergeCells",afterModifyTransformEnd:"afterModifyTransformEnd",afterModifyTransformFocus:"afterModifyTransformFocus",afterModifyTransformStart:"afterModifyTransformStart",afterMomentumScroll:"afterMomentumScroll",afterNamedExpressionAdded:"afterNamedExpressionAdded",afterNamedExpressionRemoved:"afterNamedExpressionRemoved",afterOnCellContextMenu:"afterOnCellContextMenu",afterOnCellCornerDblClick:"afterOnCellCornerDblClick",afterOnCellCornerMouseDown:"afterOnCellCornerMouseDown",afterOnCellMouseDown:"afterOnCellMouseDown",afterOnCellMouseOut:"afterOnCellMouseOut",afterOnCellMouseOver:"afterOnCellMouseOver",afterOnCellMouseUp:"afterOnCellMouseUp",afterPaste:"afterPaste",afterPluginsInitialized:"afterPluginsInitialized",afterRedo:"afterRedo",afterRedoStackChange:"afterRedoStackChange",afterRefreshDimensions:"afterRefreshDimensions",afterRemoveCellMeta:"afterRemoveCellMeta",afterRemoveCol:"afterRemoveCol",afterRemoveRow:"afterRemoveRow",afterRender:"afterRender",afterRenderer:"afterRenderer",afterRowMove:"afterRowMove",afterRowResize:"afterRowResize",afterRowSequenceChange:"afterRowSequenceChange",afterScrollHorizontally:"afterScrollHorizontally",afterScrollVertically:"afterScrollVertically",afterScroll:"afterScroll",afterSelectColumns:"afterSelectColumns",afterSelection:"afterSelection",afterSelectionByProp:"afterSelectionByProp",afterSelectionEnd:"afterSelectionEnd",afterSelectionEndByProp:"afterSelectionEndByProp",afterSelectionFocusSet:"afterSelectionFocusSet",afterSelectRows:"afterSelectRows",afterSetCellMeta:"afterSetCellMeta",afterSetDataAtCell:"afterSetDataAtCell",afterSetDataAtRowProp:"afterSetDataAtRowProp",afterSetSourceDataAtCell:"afterSetSourceDataAtCell",afterSheetAdded:"afterSheetAdded",afterSheetRenamed:"afterSheetRenamed",afterSheetRemoved:"afterSheetRemoved",afterTrimRow:"afterTrimRow",afterUndo:"afterUndo",afterUndoStackChange:"afterUndoStackChange",afterUnhideColumns:"afterUnhideColumns",afterUnhideRows:"afterUnhideRows",afterUnlisten:"afterUnlisten",afterUnmergeCells:"afterUnmergeCells",afterUntrimRow:"afterUntrimRow",afterUpdateData:"afterUpdateData",afterUpdateSettings:"afterUpdateSettings",afterValidate:"afterValidate",afterViewportColumnCalculatorOverride:"afterViewportColumnCalculatorOverride",afterViewportRowCalculatorOverride:"afterViewportRowCalculatorOverride",afterViewRender:"afterViewRender",beforeAddChild:"beforeAddChild",beforeAutofill:"beforeAutofill",beforeBeginEditing:"beforeBeginEditing",beforeCellAlignment:"beforeCellAlignment",beforeChange:"beforeChange",beforeChangeRender:"beforeChangeRender",beforeColumnCollapse:"beforeColumnCollapse",beforeColumnExpand:"beforeColumnExpand",beforeColumnFreeze:"beforeColumnFreeze",beforeColumnMove:"beforeColumnMove",beforeColumnResize:"beforeColumnResize",beforeColumnSort:"beforeColumnSort",beforeColumnWrap:"beforeColumnWrap",beforeColumnUnfreeze:"beforeColumnUnfreeze",beforeContextMenuSetItems:"beforeContextMenuSetItems",beforeContextMenuShow:"beforeContextMenuShow",beforeCopy:"beforeCopy",beforeCreateCol:"beforeCreateCol",beforeCreateRow:"beforeCreateRow",beforeCut:"beforeCut",beforeDetachChild:"beforeDetachChild",beforeDrawBorders:"beforeDrawBorders",beforeDropdownMenuSetItems:"beforeDropdownMenuSetItems",beforeDropdownMenuShow:"beforeDropdownMenuShow",beforeFilter:"beforeFilter",beforeGetCellMeta:"beforeGetCellMeta",beforeHideColumns:"beforeHideColumns",beforeHideRows:"beforeHideRows",beforeHighlightingColumnHeader:"beforeHighlightingColumnHeader",beforeHighlightingRowHeader:"beforeHighlightingRowHeader",beforeInit:"beforeInit",beforeInitWalkontable:"beforeInitWalkontable",beforeKeyDown:"beforeKeyDown",beforeLanguageChange:"beforeLanguageChange",beforeLoadData:"beforeLoadData",beforeMergeCells:"beforeMergeCells",beforeOnCellContextMenu:"beforeOnCellContextMenu",beforeOnCellMouseDown:"beforeOnCellMouseDown",beforeOnCellMouseOut:"beforeOnCellMouseOut",beforeOnCellMouseOver:"beforeOnCellMouseOver",beforeOnCellMouseUp:"beforeOnCellMouseUp",beforePaste:"beforePaste",beforeRedo:"beforeRedo",beforeRedoStackChange:"beforeRedoStackChange",beforeRefreshDimensions:"beforeRefreshDimensions",beforeRemoveCellClassNames:"beforeRemoveCellClassNames",beforeRemoveCellMeta:"beforeRemoveCellMeta",beforeRemoveCol:"beforeRemoveCol",beforeRemoveRow:"beforeRemoveRow",beforeRender:"beforeRender",beforeRenderer:"beforeRenderer",beforeRowMove:"beforeRowMove",beforeRowResize:"beforeRowResize",beforeRowWrap:"beforeRowWrap",beforeSelectColumns:"beforeSelectColumns",beforeSelectionFocusSet:"beforeSelectionFocusSet",beforeSelectionHighlightSet:"beforeSelectionHighlightSet",beforeSelectRows:"beforeSelectRows",beforeSetCellMeta:"beforeSetCellMeta",beforeSetRangeEnd:"beforeSetRangeEnd",beforeSetRangeStart:"beforeSetRangeStart",beforeSetRangeStartOnly:"beforeSetRangeStartOnly",beforeStretchingColumnWidth:"beforeStretchingColumnWidth",beforeTouchScroll:"beforeTouchScroll",beforeTrimRow:"beforeTrimRow",beforeUndo:"beforeUndo",beforeUndoStackChange:"beforeUndoStackChange",beforeUnhideColumns:"beforeUnhideColumns",beforeUnhideRows:"beforeUnhideRows",beforeUnmergeCells:"beforeUnmergeCells",beforeUntrimRow:"beforeUntrimRow",beforeUpdateData:"beforeUpdateData",beforeValidate:"beforeValidate",beforeValueRender:"beforeValueRender",beforeViewportScroll:"beforeViewportScroll",beforeViewportScrollHorizontally:"beforeViewportScrollHorizontally",beforeViewportScrollVertically:"beforeViewportScrollVertically",beforeViewRender:"beforeViewRender",construct:"construct",init:"init",modifyAutoColumnSizeSeed:"modifyAutoColumnSizeSeed",modifyAutofillRange:"modifyAutofillRange",modifyColHeader:"modifyColHeader",modifyColumnHeaderHeight:"modifyColumnHeaderHeight",modifyColumnHeaderValue:"modifyColumnHeaderValue",modifyColWidth:"modifyColWidth",modifyCopyableRange:"modifyCopyableRange",modifyFiltersMultiSelectValue:"modifyFiltersMultiSelectValue",modifyFocusedElement:"modifyFocusedElement",modifyData:"modifyData",modifyFocusOnTabNavigation:"modifyFocusOnTabNavigation",modifyGetCellCoords:"modifyGetCellCoords",modifyRowData:"modifyRowData",modifyRowHeader:"modifyRowHeader",modifyRowHeaderWidth:"modifyRowHeaderWidth",modifyRowHeight:"modifyRowHeight",modifySourceData:"modifySourceData",modifyTransformEnd:"modifyTransformEnd",modifyTransformFocus:"modifyTransformFocus",modifyTransformStart:"modifyTransformStart",persistentStateLoad:"persistentStateLoad",persistentStateReset:"persistentStateReset",persistentStateSave:"persistentStateSave"},features:[xr([sL,dJ]),er],decls:2,vars:1,consts:[["container",""],[3,"id"]],template:function(i,n){i&1&&Be(0,"div",1,0),i&2&&ke("id",n.hotId)},encapsulation:2})}return e})();var iI=(()=>{class e{static version="14.4.0";static forRoot(){return{ngModule:e,providers:[sL]}}static \u0275fac=function(i){return new(i||e)};static \u0275mod=ze({type:e});static \u0275inj=Ve({})}return e})();var wde=ot(qt(),1),Cde=ot(_e(),1);var fJ="handsontableEditor",aL="handsontable",gf=class extends sa{static get EDITOR_TYPE(){return aL}open(){super.open(),this.htEditor&&this.htEditor.destroy(),this.htContainer.style.display==="none"&&(this.htContainer.style.display=""),this.htEditor=new this.hot.constructor(this.htContainer,this.htOptions),this.htEditor.init(),this.htEditor.rootElement.style.display="",this.cellProperties.strict?this.htEditor.selectCell(0,0):this.htEditor.deselectCell(),$m(this.TEXTAREA,0,this.TEXTAREA.value.length),this.refreshDimensions()}close(){this.htEditor&&(this.htEditor.rootElement.style.display="none"),this.removeHooksByKey("beforeKeyDown"),super.close()}prepare(t,r,i,n,o,s){super.prepare(t,r,i,n,o,s);let a=this,l={startRows:0,startCols:0,minRows:0,minCols:0,className:"listbox",copyPaste:!1,autoColumnSize:!1,autoRowSize:!1,readOnly:!0,fillHandle:!1,autoWrapCol:!1,autoWrapRow:!1,ariaTags:!1,afterOnCellMouseDown(c,d){let h=this.getSourceData(d.row,d.col);h!==void 0&&a.setValue(h),a.hot.destroyEditor()},preventWheel:!0,layoutDirection:this.hot.isRtl()?"rtl":"ltr"};this.cellProperties.handsontable&&zr(l,s.handsontable),this.htOptions=l}beginEditing(t,r){let i=this.hot.getSettings().onBeginEditing;i&&i()===!1||super.beginEditing(t,r)}createElements(){super.createElements();let t=this.hot.rootDocument.createElement("DIV");t.className="handsontableEditor",this.TEXTAREA_PARENT.appendChild(t),this.htContainer=t,this.assignHooks()}finishEditing(t,r,i){if(this.htEditor&&this.htEditor.isListening()&&this.hot.listen(),this.htEditor&&this.htEditor.getSelectedLast()){let n=this.htEditor.getValue();n!==void 0&&this.setValue(n)}super.finishEditing(t,r,i)}assignHooks(){this.hot.addHook("afterDestroy",()=>{this.htEditor&&this.htEditor.destroy()})}registerShortcuts(){let r=this.hot.getShortcutManager().getContext("editor");super.registerShortcuts();let i={group:fJ,relativeToGroup:Sa,position:"before"},n=(o,s)=>{let a=this.htEditor;if(o!==void 0&&(o<0||a.flipped&&o>a.countRows()-1?a.deselectCell():a.selectCell(o,0),a.getData().length))return s.preventDefault(),Vo(s),this.hot.listen(),this.TEXTAREA.focus(),!1};r.addShortcuts([{keys:[["ArrowUp"]],callback:o=>{let s=this.htEditor,a,l;return!s.getSelectedLast()&&s.flipped?a=s.countRows()-1:s.getSelectedLast()&&(s.flipped?(l=s.getSelectedLast()[0],a=Math.max(0,l-1)):(l=s.getSelectedLast()[0],a=l-1)),n(a,o)},preventDefault:!1},{keys:[["ArrowDown"]],callback:o=>{let s=this.htEditor,a,l;if(!s.getSelectedLast()&&!s.flipped)a=0;else if(s.getSelectedLast()){if(s.flipped)a=s.getSelectedLast()[0]+1;else if(!s.flipped){let c=s.countRows()-1;l=s.getSelectedLast()[0],a=Math.min(c,l+1)}}return n(a,o)},preventDefault:!1}],i)}unregisterShortcuts(){super.unregisterShortcuts(),this.hot.getShortcutManager().getContext("editor").removeShortcutsByGroup(fJ)}};function JSt(e,t,r){tEt(e,t),t.set(e,r)}function tEt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function rI(e,t,r){return t=eEt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eEt(e){var t=iEt(e,"string");return typeof t=="symbol"?t:t+""}function iEt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mJ(e,t){return e.get(rEt(e,t))}function rEt(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var cL="autocomplete",lL=new WeakMap,bf=class extends gf{constructor(){super(...arguments),rI(this,"query",null),rI(this,"strippedChoices",[]),rI(this,"rawChoices",[]),JSt(this,lL,this.hot.guid.slice(0,9)),rI(this,"sortByRelevance",function(t,r,i){let n=[],o=[],s=t.length,a=r.length,l,c,d,h;if(s===0){for(d=0;d<a;d++)o.push(d);return o}for(d=0;d<a;d++){if(c=dN(on(r[d])),i)h=c.indexOf(t);else{let u=this.cellProperties.locale;h=c.toLocaleLowerCase(u).indexOf(t.toLocaleLowerCase(u))}h!==-1&&(l=c.length-h-s,n.push({baseIndex:d,index:h,charsLeft:l,value:c}))}for(n.sort((u,f)=>{if(f.index===-1)return-1;if(u.index===-1)return 1;if(u.index<f.index)return-1;if(f.index<u.index)return 1;if(u.index===f.index){if(u.charsLeft<f.charsLeft)return-1;if(u.charsLeft>f.charsLeft)return 1}return 0}),d=0,a=n.length;d<a;d++)o.push(n[d].baseIndex);return o})}static get EDITOR_TYPE(){return cL}getValue(){let t=this.rawChoices.find(r=>this.stripValueIfNeeded(r)===this.TEXTAREA.value);return Ne(t)?t:this.TEXTAREA.value}createElements(){super.createElements(),re(this.htContainer,"autocompleteEditor"),re(this.htContainer,this.hot.rootWindow.navigator.platform.indexOf("Mac")===-1?"":"htMacScroll"),this.hot.getSettings().ariaTags&&Ke(this.TEXTAREA,[FG(),DG(),cM("listbox"),zG()])}prepare(t,r,i,n,o,s){super.prepare(t,r,i,n,o,s),this.hot.getSettings().ariaTags&&Ke(this.TEXTAREA,[oa("false"),UG(`${mJ(lL,this)}-listbox-${t}-${r}`)])}open(){super.open();let t=this.cellProperties.trimDropdown===void 0?!0:this.cellProperties.trimDropdown,r=this.hot.getSettings().ariaTags,i=Array.isArray(this.cellProperties.source)?this.cellProperties.source:null,n=i?.length,{row:o,col:s}=this;this.showEditableElement(),this.focus();let a=Rn();a===0&&cy()&&(a+=15),this.addHook("beforeKeyDown",l=>this.onBeforeKeyDown(l)),this.htEditor.updateSettings({colWidths:t?[yr(this.TEXTAREA)-2]:void 0,width:t?yr(this.TEXTAREA)+a:void 0,autoColumnSize:!0,renderer:(l,c,d,h,u,f,m)=>{Us(l,c,d,h,u,f,m);let{filteringCaseSensitive:g,allowHtml:p,locale:b}=this.cellProperties,_=this.query,E=on(f),O,V;E&&!p&&(O=g===!0?E.indexOf(_):E.toLocaleLowerCase(b).indexOf(_.toLocaleLowerCase(b)),O!==-1&&(V=E.substr(O,_.length),E=E.replace(V,`<strong>${V}</strong>`))),r&&Ke(c,[OG(),...i?[qG(n)]:[],...i?[GG(i.indexOf(f)+1)]:[],["id",`${this.htEditor.rootElement.id}_${d}-${h}`]]),c.innerHTML=E},afterSelectionEnd:(l,c)=>{if(r){let d=this.htEditor.getCell(l,c,!0);Ke(d,[Jv()]),Ke(this.TEXTAREA,...WG(d.id))}}}),r&&(Ke(this.htEditor.view._wt.wtOverlays.wtTable.TABLE,...Ua()),Ke(this.htEditor.rootElement,[lM(),YG("polite"),$G("text"),["id",`${mJ(lL,this)}-listbox-${o}-${s}`]]),Ke(this.TEXTAREA,...oa("true"))),this.hot._registerTimeout(()=>{this.queryChoices(this.TEXTAREA.value)})}close(){this.removeHooksByKey("beforeKeyDown"),super.close(),this.hot.getSettings().ariaTags&&Ke(this.TEXTAREA,[oa("false")])}discardEditor(t){super.discardEditor(t),this.hot.view.render()}queryChoices(t){let r=this.cellProperties.source;this.query=t,typeof r=="function"?r.call(this.cellProperties,t,i=>{this.rawChoices=i,this.updateChoicesList(this.stripValuesIfNeeded(i))}):Array.isArray(r)?(this.rawChoices=r,this.updateChoicesList(this.stripValuesIfNeeded(r))):this.updateChoicesList([])}updateChoicesList(t){let r=mM(this.TEXTAREA),i=iK(this.TEXTAREA),n=this.cellProperties.sortByRelevance,o=this.cellProperties.filter,s=null,a=null,l=t;n&&(s=this.sortByRelevance(this.stripValueIfNeeded(this.getValue()),l,this.cellProperties.filteringCaseSensitive));let c=Array.isArray(s)?s.length:0;if(o===!1)c&&(a=s[0]);else{let d=[];for(let h=0,u=l.length;h<u&&!(n&&c<=h);h++)c?d.push(l[s[h]]):d.push(l[h]);a=0,l=d}this.strippedChoices=l,l.length===0?this.htEditor.rootElement.style.display="none":this.htEditor.rootElement.style.display="",this.htEditor.loadData(Kv([l])),l.length>0&&(this.updateDropdownDimensions(),this.flipDropdownIfNeeded(),this.cellProperties.strict===!0&&this.highlightBestMatchingChoice(a)),this.hot.listen(),$m(this.TEXTAREA,r,r===i?void 0:i)}flipDropdownIfNeeded(){let t=Rd(this.hot.view._wt.wtTable.TABLE),r=t===this.hot.rootWindow,i=this.cellProperties.preventOverflow;if(r||!r&&(i||i==="horizontal"))return!1;let n=Kn(this.TEXTAREA),o=Nr(this.TEXTAREA),s=this.getDropdownHeight(),a=t.scrollTop,l=Nr(this.hot.view._wt.wtTable.THEAD),c=Kn(t),d=n.top-c.top-l+a,h=t.scrollHeight-d-l-o,u=s>h&&d>h;return u?this.flipDropdown(s):this.unflipDropdown(),this.limitDropdownIfNeeded(u?d:h,s),u}limitDropdownIfNeeded(t,r){if(r>t){let i=0,n=0,o=0,s=null;do o=this.htEditor.getRowHeight(n)||this.htEditor.view._wt.getSetting("defaultRowHeight"),i+=o,n+=1;while(i<t);s=i-o,this.htEditor.flipped&&(this.htEditor.rootElement.style.top=`${parseInt(this.htEditor.rootElement.style.top,10)+r-s}px`),this.setDropdownHeight(i-o)}}flipDropdown(t){let r=this.htEditor.rootElement.style;r.position="absolute",r.top=`${-t}px`,this.htEditor.flipped=!0}unflipDropdown(){let t=this.htEditor.rootElement.style;t.position="absolute",t.top="",this.htEditor.flipped=void 0}updateDropdownDimensions(){let t=this.htEditor.getColWidth(0)+Rn(this.hot.rootDocument)+2,r=this.cellProperties.trimDropdown;this.htEditor.updateSettings({height:this.getDropdownHeight(),width:r?void 0:t}),this.htEditor.view._wt.wtTable.alignOverlaysWithTrimmingContainer()}setDropdownHeight(t){this.htEditor.updateSettings({height:t})}highlightBestMatchingChoice(t){typeof t=="number"?this.htEditor.selectCell(t,0,void 0,void 0,void 0,!1):this.htEditor.deselectCell()}getDropdownHeight(){let t=this.htEditor.getRowHeight(0)||23,r=this.cellProperties.visibleRows;return this.strippedChoices.length>=r?r*t:this.strippedChoices.length*t+8}stripValueIfNeeded(t){return this.stripValuesIfNeeded([t])[0]}stripValuesIfNeeded(t){let{allowHtml:r}=this.cellProperties,i=Ci(t,o=>on(o));return Ci(i,o=>r?o:dN(o))}allowKeyEventPropagation(t){let r=this.htEditor.getSelectedRangeLast(),i={row:r?r.from.row:-1},n=!1;return t===Ri.ARROW_DOWN&&i.row>0&&i.row<this.htEditor.countRows()-1&&(n=!0),t===Ri.ARROW_UP&&i.row>-1&&(n=!0),n}onBeforeKeyDown(t){if(IK(t.keyCode)||t.keyCode===Ri.BACKSPACE||t.keyCode===Ri.DELETE||t.keyCode===Ri.INSERT){let r=10;if(t.keyCode===Ri.C&&(t.ctrlKey||t.metaKey))return;this.isOpened()||(r+=10),this.htEditor&&this.hot._registerTimeout(()=>{this.queryChoices(this.TEXTAREA.value)},r)}}};var dL="checkbox",b0=class extends Cl{static get EDITOR_TYPE(){return dL}beginEditing(t,r){if(r&&r.type==="mouseup"&&r.target.nodeName==="TD"){let i=this.TD.querySelector('input[type="checkbox"]');Xe(i,"htBadValue")||i.click()}}finishEditing(){}init(){}open(){}close(){}getValue(){}setValue(){}focus(){}};var Vde=ot(qt(),1),pp=ot(ba(),1);var mp=()=>window,Yc=()=>window.document,fL=(e,t)=>window.setTimeout(e,t),Jh=function(e,t,r,i){e.addEventListener(t,r,!!i)},vf=function(e,t,r,i){e.removeEventListener(t,r,!!i)},nEt=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},Zl=function(e,t){return(" "+e.className+" ").indexOf(" "+t+" ")!==-1},hL=function(e,t){Zl(e,t)||(e.className=e.className===""?t:e.className+" "+t)},uL=function(e,t){e.className=nEt((" "+e.className+" ").replace(" "+t+" "," "))},mL=function(e){return/Array/.test(Object.prototype.toString.call(e))},Ql=function(e){return/Date/.test(Object.prototype.toString.call(e))&&!isNaN(e.getTime())},oEt=function(e){let t=e.getDay();return t===0||t===6},sEt=function(e){return e%4===0&&e%100!==0||e%400===0},pJ=function(e,t){return[31,sEt(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},nI=function(e){Ql(e)&&e.setHours(0,0,0,0)},oI=function(e,t){return e.getTime()===t.getTime()},sI=function(e,t,r){let i,n;for(i in t)n=e[i]!==void 0,n&&typeof t[i]=="object"&&t[i]!==null&&t[i].nodeName===void 0?Ql(t[i])?r&&(e[i]=new Date(t[i].getTime())):mL(t[i])?r&&(e[i]=t[i].slice(0)):e[i]=sI({},t[i],r):(r||!n)&&(e[i]=t[i]);return e},gJ=function(e,t,r){let i=Yc().createEvent("HTMLEvents");i.initEvent(t,!0,!1),i=sI(i,r),e.dispatchEvent(i)},bJ=function(e){return e.month<0&&(e.year-=Math.ceil(Math.abs(e.month)/12),e.month+=12),e.month>11&&(e.year+=Math.floor(Math.abs(e.month)/12),e.month-=12),e},Qh={field:null,bound:void 0,ariaLabel:"Use the arrow keys to pick a date",position:"bottom left",reposition:!0,format:"YYYY-MM-DD",toString:null,parse:null,defaultDate:null,setDefaultDate:!1,firstDay:0,firstWeekOfYearMinDays:4,formatStrict:!1,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,pickWholeWeek:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,enableSelectionDaysInNextAndPreviousMonths:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,blurFieldOnSelect:!0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null,keyboardInput:!0},vJ=function(e,t,r){for(t+=e.firstDay;t>=7;)t-=7;return r?e.i18n.weekdaysShort[t]:e.i18n.weekdays[t]},aEt=function(e){let t=[],r="false";if(e.isEmpty)if(e.showDaysInNextAndPreviousMonths)t.push("is-outside-current-month"),e.enableSelectionDaysInNextAndPreviousMonths||t.push("is-selection-disabled");else return'<td class="is-empty"></td>';return e.isDisabled&&t.push("is-disabled"),e.isToday&&t.push("is-today"),e.isSelected&&(t.push("is-selected"),r="true"),e.hasEvent&&t.push("has-event"),e.isInRange&&t.push("is-inrange"),e.isStartRange&&t.push("is-startrange"),e.isEndRange&&t.push("is-endrange"),'<td data-day="'+e.day+'" class="'+t.join(" ")+'" aria-selected="'+r+'"><button class="pika-button pika-day" type="button" data-pika-year="'+e.year+'" data-pika-month="'+e.month+'" data-pika-day="'+e.day+'">'+e.day+"</button></td>"},lEt=function(e,t){e.setHours(0,0,0,0);let r=e.getDate(),i=e.getDay(),n=t,o=n-1,s=7,a=function(u){return(u+s-1)%s};e.setDate(r+o-a(i));let l=new Date(e.getFullYear(),0,n),c=24*60*60*1e3,d=(e.getTime()-l.getTime())/c;return 1+Math.round((d-o+a(l.getDay()))/s)},cEt=function(e,t,r,i,n){let o=new Date(i,r,t);return'<td class="pika-week">'+(e.hasMoment?e.moment(o).isoWeek():lEt(o,n))+"</td>"},dEt=function(e,t,r,i){return'<tr class="pika-row'+(r?" pick-whole-week":"")+(i?" is-selected":"")+'">'+(t?e.reverse():e).join("")+"</tr>"},hEt=function(e){return"<tbody>"+e.join("")+"</tbody>"},uEt=function(e){let t,r=[];for(e.showWeekNumber&&r.push("<th></th>"),t=0;t<7;t++)r.push('<th scope="col"><abbr title="'+vJ(e,t)+'">'+vJ(e,t,!0)+"</abbr></th>");return"<thead><tr>"+(e.isRTL?r.reverse():r).join("")+"</tr></thead>"},fEt=function(e,t,r,i,n,o){let s,a,l,c=e._o,d=r===c.minYear,h=r===c.maxYear,u='<div id="'+o+'" class="pika-title" role="heading" aria-live="polite">',f,m,g=!0,p=!0;for(l=[],s=0;s<12;s++)l.push('<option value="'+(r===n?s-t:12+s-t)+'"'+(s===i?' selected="selected"':"")+(d&&s<c.minMonth||h&&s>c.maxMonth?' disabled="disabled"':"")+">"+c.i18n.months[s]+"</option>");for(f='<div class="pika-label">'+c.i18n.months[i]+'<select class="pika-select pika-select-month" tabindex="-1">'+l.join("")+"</select></div>",mL(c.yearRange)?(s=c.yearRange[0],a=c.yearRange[1]+1):(s=r-c.yearRange,a=1+r+c.yearRange),l=[];s<a&&s<=c.maxYear;s++)s>=c.minYear&&l.push('<option value="'+s+'"'+(s===r?' selected="selected"':"")+">"+s+"</option>");return m='<div class="pika-label">'+r+c.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+l.join("")+"</select></div>",c.showMonthAfterYear?u+=m+f:u+=f+m,d&&(i===0||c.minMonth>=i)&&(g=!1),h&&(i===11||c.maxMonth<=i)&&(p=!1),t===0&&(u+='<button class="pika-prev'+(g?"":" is-disabled")+'" type="button">'+c.i18n.previousMonth+"</button>"),t===e._o.numberOfMonths-1&&(u+='<button class="pika-next'+(p?"":" is-disabled")+'" type="button">'+c.i18n.nextMonth+"</button>"),u+="</div>"},mEt=function(e,t,r){return'<table cellpadding="0" cellspacing="0" class="pika-table" role="grid" aria-labelledby="'+r+'">'+uEt(e)+hEt(t)+"</table>"};function aI(e){let t=this,r=t.config(e);t._onMouseDown=function(n){if(!t._v)return;n=n||mp().event;let o=n.target||n.srcElement;if(o)if(Zl(o,"is-disabled")||(Zl(o,"pika-button")&&!Zl(o,"is-empty")&&!Zl(o.parentNode,"is-disabled")?(t.setDate(new Date(o.getAttribute("data-pika-year"),o.getAttribute("data-pika-month"),o.getAttribute("data-pika-day"))),r.bound&&fL(function(){t.hide(),r.blurFieldOnSelect&&r.field&&r.field.blur()},100)):Zl(o,"pika-prev")?t.prevMonth():Zl(o,"pika-next")&&t.nextMonth()),Zl(o,"pika-select"))t._c=!0;else if(n.preventDefault)n.preventDefault();else return n.returnValue=!1,!1},t._onChange=function(n){n=n||mp().event;let o=n.target||n.srcElement;o&&(Zl(o,"pika-select-month")?t.gotoMonth(o.value):Zl(o,"pika-select-year")&&t.gotoYear(o.value))},t._onKeyChange=function(n){if(n=n||mp().event,t.isVisible())switch(n.keyCode){case 13:case 27:r.field&&r.field.blur();break;case 37:t.adjustDate("subtract",1);break;case 38:t.adjustDate("subtract",7);break;case 39:t.adjustDate("add",1);break;case 40:t.adjustDate("add",7);break;case 8:case 46:t.setDate(null);break}},t._parseFieldValue=function(){if(r.parse)return r.parse(r.field.value,r.format);if(this.hasMoment){let n=this.moment(r.field.value,r.format,r.formatStrict);return n&&n.isValid()?n.toDate():null}else return new Date(Date.parse(r.field.value))},t._onInputChange=function(n){let o;n.firedBy!==t&&(o=t._parseFieldValue(),Ql(o)&&t.setDate(o),t._v||t.show())},t._onInputFocus=function(){t.show()},t._onInputClick=function(){t.show()},t._onInputBlur=function(){let n=Yc().activeElement;do if(Zl(n,"pika-single"))return;while(n=n.parentNode);t._c||(t._b=fL(function(){t.hide()},50)),t._c=!1},t._onClick=function(n){n=n||mp().event;let o=n.target||n.srcElement,s=o;if(o){!hasEventListeners&&Zl(o,"pika-select")&&(o.onchange||(o.setAttribute("onchange","return;"),Jh(o,"change",t._onChange)));do if(Zl(s,"pika-single")||s===r.trigger)return;while(s=s.parentNode);t._v&&o!==r.trigger&&s!==r.trigger&&t.hide()}},t.el=Yc().createElement("div"),t.el.className="pika-single"+(r.isRTL?" is-rtl":"")+(r.theme?" "+r.theme:""),Jh(t.el,"mousedown",t._onMouseDown,!0),Jh(t.el,"touchend",t._onMouseDown,!0),Jh(t.el,"change",t._onChange),r.keyboardInput&&Jh(Yc(),"keydown",t._onKeyChange),r.field&&(r.container?r.container.appendChild(t.el):r.bound?Yc().body.appendChild(t.el):r.field.parentNode.insertBefore(t.el,r.field.nextSibling),Jh(r.field,"change",t._onInputChange),r.defaultDate||(r.defaultDate=t._parseFieldValue(),r.setDefaultDate=!0));let i=r.defaultDate;Ql(i)?r.setDefaultDate?t.setDate(i,!0):t.gotoDate(i):t.gotoDate(new Date),r.bound?(this.hide(),t.el.className+=" is-bound",Jh(r.trigger,"click",t._onInputClick),Jh(r.trigger,"focus",t._onInputFocus),Jh(r.trigger,"blur",t._onInputBlur)):this.show()}aI.prototype={config:function(e){this._o||(this._o=sI({},Qh,!0));let t=sI(this._o,e,!0);t.isRTL=!!t.isRTL,t.field=t.field&&t.field.nodeName?t.field:null,t.theme=typeof t.theme=="string"&&t.theme?t.theme:null,t.bound=!!(t.bound!==void 0?t.field&&t.bound:t.field),t.trigger=t.trigger&&t.trigger.nodeName?t.trigger:t.field,t.disableWeekends=!!t.disableWeekends,t.disableDayFn=typeof t.disableDayFn=="function"?t.disableDayFn:null;let r=parseInt(t.numberOfMonths,10)||1;if(t.numberOfMonths=r>4?4:r,Ql(t.minDate)||(t.minDate=!1),Ql(t.maxDate)||(t.maxDate=!1),t.minDate&&t.maxDate&&t.maxDate<t.minDate&&(t.maxDate=t.minDate=!1),t.minDate&&this.setMinDate(t.minDate),t.maxDate&&this.setMaxDate(t.maxDate),mL(t.yearRange)){let i=new Date().getFullYear()-10;t.yearRange[0]=parseInt(t.yearRange[0],10)||i,t.yearRange[1]=parseInt(t.yearRange[1],10)||i}else t.yearRange=Math.abs(parseInt(t.yearRange,10))||Qh.yearRange,t.yearRange>100&&(t.yearRange=100);return t},toString:function(e){return e=e||this._o.format,Ql(this._d)?this._o.toString?this._o.toString(this._d,e):this.hasMoment?this.moment(this._d).format(e):this._d.toDateString():""},getMoment:function(){return this.hasMoment?this.moment(this._d):null},setMoment:function(e,t){this.hasMoment&&this.moment.isMoment(e)&&this.setDate(e.toDate(),t)},useMoment:function(e){this.hasMoment=!0,this.moment=e},getDate:function(){return Ql(this._d)?new Date(this._d.getTime()):null},setDate:function(e,t){if(!e)return this._d=null,this._o.field&&(this._o.field.value="",gJ(this._o.field,"change",{firedBy:this})),this.draw();if(typeof e=="string"&&(e=new Date(Date.parse(e))),!Ql(e))return;let r=this._o.minDate,i=this._o.maxDate;Ql(r)&&e<r?e=r:Ql(i)&&e>i&&(e=i),this._d=new Date(e.getTime()),nI(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),gJ(this._o.field,"change",{firedBy:this})),!t&&typeof this._o.onSelect=="function"&&this._o.onSelect.call(this,this.getDate())},clear:function(){this.setDate(null)},gotoDate:function(e){let t=!0;if(Ql(e)){if(this.calendars){let r=new Date(this.calendars[0].year,this.calendars[0].month,1),i=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),n=e.getTime();i.setMonth(i.getMonth()+1),i.setDate(i.getDate()-1),t=n<r.getTime()||i.getTime()<n}t&&(this.calendars=[{month:e.getMonth(),year:e.getFullYear()}],this._o.mainCalendar==="right"&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustDate:function(e,t){let r=this.getDate()||new Date,i=parseInt(t)*24*60*60*1e3,n;e==="add"?n=new Date(r.valueOf()+i):e==="subtract"&&(n=new Date(r.valueOf()-i)),this.setDate(n)},adjustCalendars:function(){this.calendars[0]=bJ(this.calendars[0]);for(let e=1;e<this._o.numberOfMonths;e++)this.calendars[e]=bJ({month:this.calendars[0].month+e,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(e){isNaN(e)||(this.calendars[0].month=parseInt(e,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(e){isNaN(e)||(this.calendars[0].year=parseInt(e,10),this.adjustCalendars())},setMinDate:function(e){e instanceof Date?(nI(e),this._o.minDate=e,this._o.minYear=e.getFullYear(),this._o.minMonth=e.getMonth()):(this._o.minDate=Qh.minDate,this._o.minYear=Qh.minYear,this._o.minMonth=Qh.minMonth,this._o.startRange=Qh.startRange),this.draw()},setMaxDate:function(e){e instanceof Date?(nI(e),this._o.maxDate=e,this._o.maxYear=e.getFullYear(),this._o.maxMonth=e.getMonth()):(this._o.maxDate=Qh.maxDate,this._o.maxYear=Qh.maxYear,this._o.maxMonth=Qh.maxMonth,this._o.endRange=Qh.endRange),this.draw()},setStartRange:function(e){this._o.startRange=e},setEndRange:function(e){this._o.endRange=e},draw:function(e){if(!this._v&&!e)return;let t=this._o,r=t.minYear,i=t.maxYear,n=t.minMonth,o=t.maxMonth,s="",a;this._y<=r&&(this._y=r,!isNaN(n)&&this._m<n&&(this._m=n)),this._y>=i&&(this._y=i,!isNaN(o)&&this._m>o&&(this._m=o));for(let l=0;l<t.numberOfMonths;l++)a="pika-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2),s+='<div class="pika-lendar">'+fEt(this,l,this.calendars[l].year,this.calendars[l].month,this.calendars[0].year,a)+this.render(this.calendars[l].year,this.calendars[l].month,a)+"</div>";this.el.innerHTML=s,t.bound&&t.field.type!=="hidden"&&fL(function(){t.trigger.focus()},1),typeof this._o.onDraw=="function"&&this._o.onDraw(this),t.bound&&t.field.setAttribute("aria-label",t.ariaLabel)},adjustPosition:function(){let e,t,r,i,n,o,s,a,l,c,d;this._o.container||(this.el.style.position="absolute",e=this._o.trigger,t=this.el.offsetWidth,r=this.el.offsetHeight,i=mp().innerWidth||Yc().documentElement.clientWidth,n=mp().innerHeight||Yc().documentElement.clientHeight,o=Yc().body.scrollTop||Yc().documentElement.scrollTop,c=!0,d=!0,l=e.getBoundingClientRect(),s=l.left+mp().pageXOffset,a=l.bottom+mp().pageYOffset,(this._o.reposition&&s+t>i||this._o.position.indexOf("right")>-1&&s-t+e.offsetWidth>0)&&(s=s-t+e.offsetWidth,c=!1),(this._o.reposition&&a+r>n+o||this._o.position.indexOf("top")>-1&&a-r-e.offsetHeight>0)&&(a=a-r-e.offsetHeight,d=!1),s<0&&(s=0),a<0&&(a=0),this.el.style.left=s+"px",this.el.style.top=a+"px",hL(this.el,c?"left-aligned":"right-aligned"),hL(this.el,d?"bottom-aligned":"top-aligned"),uL(this.el,c?"right-aligned":"left-aligned"),uL(this.el,d?"top-aligned":"bottom-aligned"))},render:function(e,t,r){let i=this._o,n=new Date,o=pJ(e,t),s=new Date(e,t,1).getDay(),a=[],l=[];nI(n),i.firstDay>0&&(s-=i.firstDay,s<0&&(s+=7));let c=t===0?11:t-1,d=t===11?0:t+1,h=t===0?e-1:e,u=t===11?e+1:e,f=pJ(h,c),m=o+s,g=m;for(;g>7;)g-=7;m+=7-g;let p=!1;for(let b=0,_=0;b<m;b++){let E=new Date(e,t,1+(b-s)),O=Ql(this._d)?oI(E,this._d):!1,V=oI(E,n),H=i.events.indexOf(E.toDateString())!==-1,F=b<s||b>=o+s,L=1+(b-s),q=t,W=e,x=i.startRange&&oI(i.startRange,E),R=i.endRange&&oI(i.endRange,E),j=i.startRange&&i.endRange&&i.startRange<E&&E<i.endRange,v=i.minDate&&E<i.minDate||i.maxDate&&E>i.maxDate||i.disableWeekends&&oEt(E)||i.disableDayFn&&i.disableDayFn(E);F&&(b<s?(L=f+L,q=c,W=h):(L=L-o,q=d,W=u));let y={day:L,month:q,year:W,hasEvent:H,isSelected:O,isToday:V,isDisabled:v,isEmpty:F,isStartRange:x,isEndRange:R,isInRange:j,showDaysInNextAndPreviousMonths:i.showDaysInNextAndPreviousMonths,enableSelectionDaysInNextAndPreviousMonths:i.enableSelectionDaysInNextAndPreviousMonths};i.pickWholeWeek&&O&&(p=!0),l.push(aEt(y)),++_===7&&(i.showWeekNumber&&l.unshift(cEt(this,b-s,t,e,i.firstWeekOfYearMinDays)),a.push(dEt(l,i.isRTL,i.pickWholeWeek,p)),l=[],_=0,p=!1)}return mEt(i,a,r)},isVisible:function(){return this._v},show:function(){this.isVisible()||(this._v=!0,this.draw(),uL(this.el,"is-hidden"),this._o.bound&&(Jh(Yc(),"click",this._onClick),this.adjustPosition()),typeof this._o.onOpen=="function"&&this._o.onOpen.call(this))},hide:function(){let e=this._v;e!==!1&&(this._o.bound&&vf(Yc(),"click",this._onClick),this._o.container||(this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto"),hL(this.el,"is-hidden"),this._v=!1,e!==void 0&&typeof this._o.onClose=="function"&&this._o.onClose.call(this))},destroy:function(){let e=this._o;this.hide(),vf(this.el,"mousedown",this._onMouseDown,!0),vf(this.el,"touchend",this._onMouseDown,!0),vf(this.el,"change",this._onChange),e.keyboardInput&&vf(Yc(),"keydown",this._onKeyChange),e.field&&(vf(e.field,"change",this._onInputChange),e.bound&&(vf(e.trigger,"click",this._onInputClick),vf(e.trigger,"focus",this._onInputFocus),vf(e.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}};function pL(e,t,r){return t=pEt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pEt(e){var t=gEt(e,"string");return typeof t=="symbol"?t:t+""}function gEt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var W2="date",yJ="dateEditor",v0=class extends sa{constructor(){super(...arguments),pL(this,"defaultDateFormat","DD/MM/YYYY"),pL(this,"parentDestroyed",!1),pL(this,"$datePicker",null)}static get EDITOR_TYPE(){return W2}init(){if(typeof pp.default!="function")throw new Error("You need to include moment.js to your project.");if(typeof aI!="function")throw new Error("You need to include Pikaday to your project.");super.init(),this.hot.addHook("afterDestroy",()=>{this.parentDestroyed=!0,this.destroyElements()})}createElements(){super.createElements(),this.datePicker=this.hot.rootDocument.createElement("DIV"),this.datePickerStyle=this.datePicker.style,this.datePickerStyle.position="absolute",this.datePickerStyle.top=0,this.datePickerStyle.left=0,this.datePickerStyle.zIndex=9999,this.datePicker.setAttribute("dir",this.hot.isRtl()?"rtl":"ltr"),re(this.datePicker,"htDatepickerHolder"),this.hot.rootDocument.body.appendChild(this.datePicker),this.eventManager.addEventListener(this.datePicker,"mousedown",t=>{Xe(t.target,"pika-day")&&this.hideDatepicker(),t.stopPropagation()})}destroyElements(){let t=this.datePicker.parentNode;this.$datePicker&&this.$datePicker.destroy(),t&&t.removeChild(this.datePicker)}prepare(t,r,i,n,o,s){super.prepare(t,r,i,n,o,s)}open(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,i=this.hot.getShortcutManager().getContext("editor");this.showDatepicker(t),super.open(),i.addShortcuts([{keys:[["ArrowLeft"]],callback:()=>{this.$datePicker.adjustDate("subtract",1)}},{keys:[["ArrowRight"]],callback:()=>{this.$datePicker.adjustDate("add",1)}},{keys:[["ArrowUp"]],callback:()=>{this.$datePicker.adjustDate("subtract",7)}},{keys:[["ArrowDown"]],callback:()=>{this.$datePicker.adjustDate("add",7)}}],{group:yJ})}close(){var t;this._opened=!1,(t=this.$datePicker)!==null&&t!==void 0&&t.destroy&&this.$datePicker.destroy(),this.hot._registerTimeout(()=>{let n=this.hot._getEditorManager();n.closeEditor(),this.hot.view.render(),n.prepareEditor()}),this.hot.getShortcutManager().getContext("editor").removeShortcutsByGroup(yJ),super.close()}finishEditing(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;super.finishEditing(t,r)}showDatepicker(t){let r=this.cellProperties.dateFormat||this.defaultDateFormat,i=this.hot.view.isMouseDown(),n=t?RM(t.keyCode):!1,o;this.datePicker.style.display="block",this.$datePicker=new aI(this.getDatePickerConfig()),typeof this.$datePicker.useMoment=="function"&&this.$datePicker.useMoment(pp.default),this.$datePicker._onInputFocus=function(){},this.originalValue?(o=this.originalValue,(0,pp.default)(o,r,!0).isValid()&&this.$datePicker.setMoment((0,pp.default)(o,r),!0),this.getValue()!==this.originalValue&&this.setValue(this.originalValue),!n&&!i&&this.setValue("")):this.cellProperties.defaultDate?(o=this.cellProperties.defaultDate,(0,pp.default)(o,r,!0).isValid()&&this.$datePicker.setMoment((0,pp.default)(o,r),!0),!n&&!i&&this.setValue("")):this.$datePicker.gotoToday()}hideDatepicker(){this.datePickerStyle.display="none",this.$datePicker.hide()}getDatePickerConfig(){let t=this.TEXTAREA,r={};this.cellProperties&&this.cellProperties.datePickerConfig&&Jg(r,this.cellProperties.datePickerConfig);let i=r.onSelect,n=r.onClose;return r.field=t,r.trigger=t,r.container=this.datePicker,r.bound=!1,r.keyboardInput=!1,r.format=r.format||this.defaultDateFormat,r.reposition=r.reposition||!1,r.isRTL=!1,r.onSelect=o=>{let s=o;isNaN(s.getTime())||(s=(0,pp.default)(s).format(this.cellProperties.dateFormat||this.defaultDateFormat)),this.setValue(s),i&&i()},r.onClose=()=>{this.parentDestroyed||this.finishEditing(!1),n&&n()},r}refreshDimensions(t){var r;if(super.refreshDimensions(t),this.state!==Xn.EDITING)return;if(this.TD=this.getEditedCell(),!this.TD){this.hideDatepicker();return}let{rowIndexMapper:i,columnIndexMapper:n}=this.hot,{wtOverlays:o}=this.hot.view._wt,{wtTable:s}=(r=o.getParentOverlay(this.TD))!==null&&r!==void 0?r:this.hot.view._wt,a=i.getVisualFromRenderableIndex(s.getFirstPartiallyVisibleRow()),l=i.getVisualFromRenderableIndex(s.getLastPartiallyVisibleRow()),c=n.getVisualFromRenderableIndex(s.getFirstPartiallyVisibleColumn()),d=n.getVisualFromRenderableIndex(s.getLastPartiallyVisibleColumn());if(this.row>=a&&this.row<=l&&this.col>=c&&this.col<=d){let h=this.TD.getBoundingClientRect();this.datePickerStyle.top=`${this.hot.rootWindow.pageYOffset+h.top+Nr(this.TD)}px`;let u=this.hot.rootWindow.pageXOffset;this.hot.isRtl()?u+=h.right-yr(this.datePicker):u+=h.left,this.datePickerStyle.left=`${u}px`}else this.hideDatepicker()}};var gL="dropdown",gp=class extends bf{static get EDITOR_TYPE(){return gL}prepare(t,r,i,n,o,s){super.prepare(t,r,i,n,o,s),this.cellProperties.filter=!1,this.cellProperties.strict=!0}};Le.getSingleton().add("beforeValidate",function(e,t,r){let i=this.propToCol(r);if(Number.isInteger(i)){let n=this.getCellMeta(t,i);n.editor===gp&&n.strict===void 0&&(n.filter=!1,n.strict=!0)}});var bL="numeric",y0=class extends sa{static get EDITOR_TYPE(){return bL}};var vL="password",_0=class extends sa{static get EDITOR_TYPE(){return vL}createElements(){super.createElements(),this.TEXTAREA=this.hot.rootDocument.createElement("input"),this.TEXTAREA.setAttribute("type","password"),this.TEXTAREA.setAttribute("data-hot-input",""),this.TEXTAREA.className="handsontableInput",this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,this.hot.getSettings().ariaTags&&Ke(this.TEXTAREA,[Ps()]),Ns(this.TEXTAREA_PARENT),this.TEXTAREA_PARENT.appendChild(this.TEXTAREA)}};var yL="ht_editor_visible",_J="selectEditor",_L="select",w0=class extends Cl{static get EDITOR_TYPE(){return _L}init(){this.select=this.hot.rootDocument.createElement("select"),this.select.setAttribute("data-hot-input","true"),this.select.style.display="none",re(this.select,"htSelectEditor"),this.hot.rootElement.appendChild(this.select),this.registerHooks()}getValue(){return this.select.value}setValue(t){this.select.value=t}open(){this._opened=!0,this.refreshDimensions(),this.select.style.display="",this.hot.getShortcutManager().setActiveContextName("editor"),this.registerShortcuts()}close(){this._opened=!1,this.select.style.display="none",Xe(this.select,yL)&&pi(this.select,yL),this.unregisterShortcuts(),this.clearHooks()}focus(){this.select.focus()}registerHooks(){this.addHook("afterScrollHorizontally",()=>this.refreshDimensions()),this.addHook("afterScrollVertically",()=>this.refreshDimensions()),this.addHook("afterColumnResize",()=>this.refreshDimensions()),this.addHook("afterRowResize",()=>this.refreshDimensions())}prepare(t,r,i,n,o,s){super.prepare(t,r,i,n,o,s);let a=this.cellProperties.selectOptions,l;typeof a=="function"?l=this.prepareOptions(a(this.row,this.col,this.prop)):l=this.prepareOptions(a),Ns(this.select),bi(l,(c,d)=>{let h=this.hot.rootDocument.createElement("OPTION");h.value=d,Oc(h,c),this.select.appendChild(h)})}prepareOptions(t){let r={};if(Array.isArray(t))for(let i=0,n=t.length;i<n;i++)r[t[i]]=t[i];else typeof t=="object"&&(r=t);return r}refreshValue(){let t=this.hot.getSourceDataAtCell(this.row,this.prop);this.originalValue=t,this.setValue(t),this.refreshDimensions()}refreshDimensions(){if(this.state!==Xn.EDITING)return;if(this.TD=this.getEditedCell(),!this.TD){this.close();return}let{top:t,start:r,width:i,height:n}=this.getEditedCellRect(),o=this.select.style;o.height=`${n}px`,o.width=`${i}px`,o.top=`${t}px`,o[this.hot.isRtl()?"right":"left"]=`${r}px`,o.margin="0px",re(this.select,yL)}registerShortcuts(){let r=this.hot.getShortcutManager().getContext("editor"),i={group:_J};this.isInFullEditMode()&&r.addShortcuts([{keys:[["ArrowUp"]],callback:()=>{let n=this.select.selectedIndex-1;n>=0&&(this.select[n].selected=!0)}},{keys:[["ArrowDown"]],callback:()=>{let n=this.select.selectedIndex+1;n<=this.select.length-1&&(this.select[n].selected=!0)}}],i)}unregisterShortcuts(){this.hot.getShortcutManager().getContext("editor").removeShortcutsByGroup(_J)}};var wL="time",C0=class extends sa{static get EDITOR_TYPE(){return wL}prepare(t,r,i,n,o,s){super.prepare(t,r,i,n,o,s),this.TEXTAREA.dir="ltr"}};function wJ(){Wa(Cl),Wa(bf),Wa(b0),Wa(v0),Wa(gp),Wa(gf),Wa(y0),Wa(_0),Wa(w0),Wa(sa),Wa(C0)}var CL="html";function Fy(e,t,r,i,n,o,s){Zh.apply(this,[e,t,r,i,n,o,s]),Oc(t,o??"",!1)}Fy.RENDERER_TYPE=CL;var xL="autocomplete";function $c(e,t,r,i,n,o,s){let{rootDocument:a}=e,l=s.allowHtml?Fy:Us,c=a.createElement("DIV"),d=e.getSettings().ariaTags;if(c.className="htAutocompleteArrow",d&&c.setAttribute(...Ps()),c.appendChild(a.createTextNode("\u25BC")),l.apply(this,[e,t,r,i,n,o,s]),t.firstChild||t.appendChild(a.createTextNode("\xA0")),t.insertBefore(c,t.firstChild),re(t,"htAutocomplete"),!e.acArrowListener){let h=new Qo(e);e.acArrowListener=function(u){Xe(u.target,"htAutocompleteArrow")&&e.view._wt.getSetting("onCellDblClick",null,e._createCellCoords(r,i),t)},h.addEventListener(e.rootElement,"mousedown",e.acArrowListener),e.addHookOnce("afterDestroy",()=>{h.destroy()})}}$c.RENDERER_TYPE=xL;var SL="dropdown";function Hy(e,t,r,i,n,o,s){$c.apply(this,[e,t,r,i,n,o,s])}Hy.RENDERER_TYPE=SL;var Qhe=ot(_e(),1);var CJ=new WeakMap,xJ=new WeakMap,bEt="htBadValue",By="data-row",jy="data-col",vEt="checkboxRenderer",lI="checkbox";Le.getSingleton().add("modifyAutoColumnSizeSeed",function(e,t,r){let{label:i,type:n,row:o,column:s,prop:a}=t;if(n===lI){if(i){let{value:l,property:c}=i,d=r;if(l)d=typeof l=="function"?l(o,s,a,r):l;else if(c){let h=this.getDataAtRowProp(o,c);d=h!==null?h:r}e=d}return e}});function Vy(e,t,r,i,n,o,s){let{rootDocument:a}=e,l=e.getSettings().ariaTags;Zh.apply(this,[e,t,r,i,n,o,s]),yEt(e);let c=_Et(a),d=s.label,h=!1;if(typeof s.checkedTemplate>"u"&&(s.checkedTemplate=!0),typeof s.uncheckedTemplate>"u"&&(s.uncheckedTemplate=!1),Ns(t),o===s.checkedTemplate||on(o).toLocaleLowerCase(s.locale)===on(s.checkedTemplate).toLocaleLowerCase(s.locale)?c.checked=!0:o===s.uncheckedTemplate||on(o).toLocaleLowerCase(s.locale)===on(s.uncheckedTemplate).toLocaleLowerCase(s.locale)?c.checked=!1:sn(o)?re(c,"noValue"):(c.style.display="none",re(c,bEt),h=!0),Ke(c,[[By,r],[jy,i]]),l&&Ke(c,[Xv(c.checked?e.getTranslatedPhrase(I2):e.getTranslatedPhrase(k2)),VG(c.checked),PG()]),!h&&d){let g="";if(d.value)g=typeof d.value=="function"?d.value.call(this,r,i,n,o):d.value;else if(d.property){let b=e.getDataAtRowProp(r,d.property);g=b!==null?b:""}let p=wEt(a,g,d.separated!==!0);d.position==="before"?d.separated?(t.appendChild(p),t.appendChild(c)):(p.appendChild(c),c=p):(!d.position||d.position==="after")&&(d.separated?(t.appendChild(c),t.appendChild(p)):(p.insertBefore(c,p.firstChild),c=p))}(!d||d&&!d.separated)&&t.appendChild(c),h&&t.appendChild(a.createTextNode("#bad-value#")),CJ.has(e)||(CJ.set(e,!0),u());function u(){let p=e.getShortcutManager().getContext("grid"),b={group:vEt,relativeToGroup:Sa,position:"before"};p.addShortcuts([{keys:[["space"]],callback:()=>(f(),!m()),runOnlyIf:()=>{var _;return(_=e.getSelectedRangeLast())===null||_===void 0?void 0:_.highlight.isCell()}},{keys:[["enter"]],callback:()=>(f(),!m()),runOnlyIf:()=>{let _=e.getSelectedRangeLast();return e.getSettings().enterBeginsEditing&&_?.isSingle()&&_.highlight.isCell()}},{keys:[["delete"],["backspace"]],callback:()=>(f(!0),!m()),runOnlyIf:()=>{var _;return(_=e.getSelectedRangeLast())===null||_===void 0?void 0:_.highlight.isCell()}}],b)}function f(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,p=e.getSelectedRange(),b=[],_=[],E=0;if(p){for(let O=0;O<p.length;O++){let{row:V,col:H}=p[O].getTopStartCorner(),{row:F,col:L}=p[O].getBottomEndCorner();for(let q=V;q<=F;q+=1)for(let W=H;W<=L;W+=1){let x=e.getCellMeta(q,W),R={checkedTemplate:x.checkedTemplate,uncheckedTemplate:x.uncheckedTemplate};if(x.type!=="checkbox")return;if(x.readOnly===!0)continue;typeof x.checkedTemplate>"u"&&(x.checkedTemplate=!0),typeof x.uncheckedTemplate>"u"&&(x.uncheckedTemplate=!1);let j=e.getDataAtCell(q,W);g===!1?[x.checkedTemplate,x.checkedTemplate.toString()].includes(j)?_.push([q,W,x.uncheckedTemplate,R]):[x.uncheckedTemplate,x.uncheckedTemplate.toString(),null,void 0].includes(j)&&_.push([q,W,x.checkedTemplate,R]):_.push([q,W,x.uncheckedTemplate,R]),E+=1}b.push(E),E=0}_.every(O=>{let[,,V]=O;return V===_[0][2]})?_=_.map(O=>{let[V,H,F]=O;return[V,H,F]}):_=_.map(O=>{let[V,H,,F]=O;return[V,H,F.checkedTemplate]}),_.length>0&&b.forEach(O=>{let V=_.splice(0,O);e.setDataAtCell(V)})}}function m(){let g=e.getSelectedRange();if(g){for(let p=0;p<g.length;p++){let b=g[p].getTopStartCorner(),_=g[p].getBottomEndCorner();for(let E=b.row;E<=_.row;E++)for(let O=b.col;O<=_.col;O++){let V=e.getCellMeta(E,O);if(V.type!=="checkbox")return!1;let H=e.getCell(E,O);if(H==null)return!0;if(H.querySelectorAll("input[type=checkbox]").length>0&&!V.readOnly)return!0}}return!1}}}Vy.RENDERER_TYPE=lI;function yEt(e){let t=xJ.get(e);if(!t){let{rootElement:r}=e;t=new Qo(e),t.addEventListener(r,"click",i=>xEt(i,e)),t.addEventListener(r,"mouseup",i=>CEt(i,e)),t.addEventListener(r,"change",i=>SEt(i,e)),xJ.set(e,t)}return t}function _Et(e){let t=e.createElement("input");return t.className="htCheckboxRendererInput",t.type="checkbox",t.setAttribute("tabindex","-1"),t.cloneNode(!1)}function wEt(e,t,r){let i=e.createElement("label");return i.className=`htCheckboxRendererLabel ${r?"fullWidth":""}`,i.appendChild(e.createTextNode(t)),i.cloneNode(!0)}function CEt(e,t){let{target:r}=e;EL(r)&&(!r.hasAttribute(By)||!r.hasAttribute(jy)||setTimeout(t.listen,10))}function xEt(e,t){let{target:r}=e;if(!EL(r)||!r.hasAttribute(By)||!r.hasAttribute(jy))return;let i=parseInt(r.getAttribute(By),10),n=parseInt(r.getAttribute(jy),10);t.getCellMeta(i,n).readOnly&&e.preventDefault()}function SEt(e,t){let{target:r}=e;if(!EL(r)||!r.hasAttribute(By)||!r.hasAttribute(jy))return;let i=parseInt(r.getAttribute(By),10),n=parseInt(r.getAttribute(jy),10),o=t.getCellMeta(i,n);if(!o.readOnly){let s=null;e.target.checked?s=o.uncheckedTemplate===void 0?!0:o.checkedTemplate:s=o.uncheckedTemplate===void 0?!1:o.uncheckedTemplate,t.setDataAtCell(i,n,s)}}function EL(e){return e.tagName==="INPUT"&&e.getAttribute("type")==="checkbox"}var RL="handsontable";function zy(e,t,r,i,n,o,s){$c.apply(this,[e,t,r,i,n,o,s])}zy.RENDERER_TYPE=RL;var pue=ot(_e(),1),bp=ot(EJ(),1);var ML="numeric";function cI(e,t){if(Jo(e)){let r=t.numericFormat,i=r&&r.culture||"-",n=r&&r.pattern;if(typeof i<"u"&&!bp.default.languages()[i]){let o=i.replace("-",""),s=bp.default.allLanguages?bp.default.allLanguages[i]:bp.default[o];s&&bp.default.registerLanguage(s)}bp.default.setLanguage(i),e=(0,bp.default)(e).format(n||"0")}return e}function Uy(e,t,r,i,n,o,s){let a=o;if(Jo(a)){let l=s.className||"",c=l.length?l.split(" "):[];a=cI(a,s),c.indexOf("htLeft")<0&&c.indexOf("htCenter")<0&&c.indexOf("htRight")<0&&c.indexOf("htJustify")<0&&c.push("htRight"),c.indexOf("htNumeric")<0&&c.push("htNumeric"),s.className=c.join(" "),t.dir="ltr"}Us(e,t,r,i,n,a,s)}Uy.RENDERER_TYPE=ML;var AL="password";function Wy(e,t,r,i,n,o,s){Us.apply(this,[e,t,r,i,n,o,s]);let a=s.hashLength||t.innerHTML.length,l=s.hashSymbol||"*",c="";Oe(a-1,()=>{c+=l}),Oc(t,c)}Wy.RENDERER_TYPE=AL;var IL="select";function Yy(e,t,r,i,n,o,s){Us.apply(this,[e,t,r,i,n,o,s])}Yy.RENDERER_TYPE=IL;var kL="time";function $y(e,t,r,i,n,o,s){Us.apply(this,[e,t,r,i,n,o,s]),t.dir="ltr"}$y.RENDERER_TYPE=kL;function RJ(){gl($c),gl(Zh),gl(Vy),gl(Hy),gl(zy),gl(Fy),gl(Uy),gl(Wy),gl(Yy),gl(Us),gl($y)}var DL="autocomplete";function vp(e,t){let r=e;if(r==null&&(r=""),this.allowEmpty&&r===""){t(!0);return}this.strict&&this.source?typeof this.source=="function"?this.source(r,TJ(r,t)):TJ(r,t)(this.source):t(!0)}vp.VALIDATOR_TYPE=DL;function TJ(e,t){let r=e;return function(i){let n=!1;for(let o=0,s=i.length;o<s;o++)if(r===i[o]){n=!0;break}t(n)}}var Y2=ot(ba(),1);function MJ(e){let t=new Date(e);return isNaN(new Date(`${e}T00:00`).getDate())?t:new Date(t.getTime()+t.getTimezoneOffset()*6e4)}var OL="date";function qy(e,t){let r=AM(W2,this.instance),i=e,n=!0;i==null&&(i="");let o=(0,Y2.default)(i,this.dateFormat||r.defaultDateFormat,!0).isValid(),s=(0,Y2.default)(new Date(i)).isValid()||o;if(this.allowEmpty&&i===""&&(s=!0,o=!0),s||(n=!1),!s&&o&&(n=!0),s&&!o)if(this.correctFormat===!0){let a=AJ(i,this.dateFormat);this.instance.setDataAtCell(this.visualRow,this.visualCol,a,"dateValidator"),n=!0}else n=!1;t(n)}qy.VALIDATOR_TYPE=OL;function AJ(e,t){let r=(0,Y2.default)(MJ(e)),i=(0,Y2.default)(e,t),n=e.search(/[A-z]/g)>-1,o;return r.isValid()&&r.format("x")===i.format("x")||!i.isValid()||n?o=r:o=i,o.format(t)}var PL="dropdown";function Gy(e,t){vp.apply(this,[e,t])}Gy.VALIDATOR_TYPE=PL;var NL="numeric";function Ky(e,t){let r=e;r==null&&(r=""),this.allowEmpty&&r===""?t(!0):t(r===""?!1:Jo(e))}Ky.VALIDATOR_TYPE=NL;var $2=ot(ba(),1),EEt=["YYYY-MM-DDTHH:mm:ss.SSSZ","X","x"],LL="time";function Xy(e,t){let r=this.timeFormat||"h:mm:ss a",i=!0,n=e;n===null&&(n=""),n=/^\d{3,}$/.test(n)?parseInt(n,10):n;let o=/^\d{1,2}$/.test(n);o&&(n+=":00");let s=(0,$2.default)(n,EEt,!0).isValid()?(0,$2.default)(n):(0,$2.default)(n,r),a=s.isValid(),l=(0,$2.default)(n,r,!0).isValid()&&!o;if(this.allowEmpty&&n===""&&(a=!0,l=!0),a||(i=!1),!a&&l&&(i=!0),a&&!l)if(this.correctFormat===!0){let c=s.format(r);this.instance.setDataAtCell(this.visualRow,this.visualCol,c,"timeValidator"),i=!0}else i=!1;t(i)}Xy.VALIDATOR_TYPE=LL;function IJ(){Qm(vp),Qm(Gy),Qm(qy),Qm(Ky),Qm(Xy)}var FL="autocomplete",HL={CELL_TYPE:FL,editor:bf,renderer:$c,validator:vp};var BL="checkbox",jL={CELL_TYPE:BL,editor:b0,renderer:Vy};var kJ="date";function dI(e,t,r,i,n,o,s){$c.apply(this,[e,t,r,i,n,o,s])}dI.RENDERER_TYPE=kJ;var VL="date",zL={CELL_TYPE:VL,editor:v0,renderer:dI,validator:qy};var UL="dropdown",WL={CELL_TYPE:UL,editor:gp,renderer:Hy,validator:Gy};var YL="handsontable",$L={CELL_TYPE:YL,editor:gf,renderer:zy};var qL="numeric",GL={CELL_TYPE:qL,editor:y0,renderer:Uy,validator:Ky,dataType:"number"};var KL="password",XL={CELL_TYPE:KL,editor:_0,renderer:Wy,copyable:!1};var ZL="select",QL={CELL_TYPE:ZL,editor:w0,renderer:Yy};var JL="time",t8={CELL_TYPE:JL,editor:C0,renderer:$y,validator:Xy};function DJ(){Xl(HL),Xl(jL),Xl(zL),Xl(WL),Xl($L),Xl(GL),Xl(XL),Xl(QL),Xl(U2),Xl(t8)}var npe=ot(qt(),1),ope=ot(_e(),1),spe=ot(yn(),1),ape=ot(_n(),1),lpe=ot(wn(),1),cpe=ot(Cn(),1),dpe=ot(xn(),1),hpe=ot(Sn(),1),upe=ot(En(),1);var Pme=ot(qt(),1),Nme=ot(_e(),1);function REt(e,t){NJ(e,t),t.add(e)}function TEt(e,t,r){NJ(e,t),t.set(e,r)}function NJ(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Zy(e,t,r){return t=MEt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MEt(e){var t=AEt(e,"string");return typeof t=="symbol"?t:t+""}function AEt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qy(e,t){return e.get(LJ(e,t))}function LJ(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var OJ=new Map([["plugin",XK],["cell-type",Y6],["editor",RN],["renderer",BN],["validator",VN]]),FJ="base",e8=[],tu=null,x0=new WeakMap,PJ=new WeakSet,vi=class{static get PLUGIN_KEY(){return FJ}static get SETTING_KEYS(){return[this.PLUGIN_KEY]}constructor(t){REt(this,PJ),Zy(this,"eventManager",new Qo(this)),Zy(this,"pluginName",null),Zy(this,"pluginsInitializedCallbacks",[]),Zy(this,"isPluginsReady",!1),Zy(this,"enabled",!1),Zy(this,"initialized",!1),TEt(this,x0,{}),Ls(this,"hot",t,{writable:!1}),tu=null,this.hot.addHook("afterPluginsInitialized",()=>this.onAfterPluginsInitialized()),this.hot.addHook("afterUpdateSettings",r=>this.onUpdateSettings(r)),this.hot.addHook("beforeInit",()=>this.init())}init(){this.pluginName=this.hot.getPluginName(this);let t=this.constructor.PLUGIN_DEPS,r=Array.isArray(t)?t:[];if(r.length>0){let n=[];if(r.forEach(o=>{let[s,a]=o.split(":");if(!OJ.has(s))throw new Error(`Unknown plugin dependency type "${s}" was found.`);OJ.get(s)(a)||n.push(` - ${a} (${s})`)}),n.length>0){let o=[`The ${this.pluginName} plugin requires the following modules:
`,`${n.join(`
`)}
`].join("");e8.push(o)}}if(tu||(tu=LM()),tu.indexOf("UndoRedo")>=0&&tu.splice(tu.indexOf("UndoRedo"),1),tu.indexOf(this.pluginName)>=0&&tu.splice(tu.indexOf(this.pluginName),1),this.hot.addHookOnce("afterPluginsInitialized",()=>{this.isEnabled&&this.isEnabled()&&this.enablePlugin()}),tu.length===0){if(e8.length>0){let n=[`${e8.join(`
`)}
`,"You have to import and register them manually."].join("");throw new Error(n)}this.hot.runHooks("afterPluginsInitialized")}this.initialized=!0}enablePlugin(){this.enabled=!0}disablePlugin(){var t;(t=this.eventManager)===null||t===void 0||t.clear(),this.clearHooks(),this.enabled=!1}addHook(t,r,i){Qy(x0,this)[t]=Qy(x0,this)[t]||[];let n=Qy(x0,this)[t];this.hot.addHook(t,r,i),n.push(r),Qy(x0,this)[t]=n}removeHooks(t){St(Qy(x0,this)[t]||[],r=>{this.hot.removeHook(t,r)})}clearHooks(){let t=Qy(x0,this);bi(t,(r,i)=>this.removeHooks(i)),t.length=0}callOnPluginsReady(t){this.isPluginsReady?t():this.pluginsInitializedCallbacks.push(t)}onAfterPluginsInitialized(){St(this.pluginsInitializedCallbacks,t=>t()),this.pluginsInitializedCallbacks.length=0,this.isPluginsReady=!0}onUpdateSettings(t){let r=LJ(PJ,this,IEt).call(this,t);this.isEnabled&&(this.enabled&&!this.isEnabled()&&this.disablePlugin(),!this.enabled&&this.isEnabled()&&this.enablePlugin(),this.enabled&&this.isEnabled()&&r&&this.updatePlugin(t))}updatePlugin(){}destroy(){var t;(t=this.eventManager)===null||t===void 0||t.destroy(),this.clearHooks(),bi(this,(r,i)=>{i!=="hot"&&(this[i]=null)}),delete this.t,delete this.hot}};function IEt(e){if(!e)return!1;let t=this.constructor.SETTING_KEYS;if(typeof t=="boolean")return t;for(let r=0;r<t.length;r++)if(e[t[r]]!==void 0)return!0;return!1}var qme=ot(qt(),1),Gme=ot(_e(),1);function S0(e,t,r){return t=kEt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kEt(e){var t=DEt(e,"string");return typeof t=="symbol"?t:t+""}function DEt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var i8=class{constructor(t){S0(this,"hot",null),S0(this,"container",null),S0(this,"injected",!1),S0(this,"rows",[]),S0(this,"columns",[]),S0(this,"samples",null),S0(this,"settings",{useHeaders:!0}),this.hot=t}addRow(t,r){if(this.columns.length)throw new Error("Doesn't support multi-dimensional table");this.rows.length||(this.container=this.createContainer(this.hot.rootElement.className));let i={row:t};this.rows.push(i),this.samples=r,this.table=this.createTable(this.hot.table.className),this.table.colGroup.appendChild(this.createColGroupsCol(t)),this.table.tr.appendChild(this.createRow(t)),this.container.container.appendChild(this.table.fragment),i.table=this.table.table}addColumnHeadersRow(t){let r=this.hot.getColHeader(0);if(r!=null){let i={row:-1};this.rows.push(i),this.container=this.createContainer(this.hot.rootElement.className),this.samples=t,this.table=this.createTable(this.hot.table.className),this.table.colGroup.appendChild(this.createColGroupsCol()),this.appendColumnHeadersRow(),this.container.container.appendChild(this.table.fragment),i.table=this.table.table}}addColumn(t,r){if(this.rows.length)throw new Error("Doesn't support multi-dimensional table");this.columns.length||(this.container=this.createContainer(this.hot.rootElement.className));let i={col:t};this.columns.push(i),this.samples=r,this.table=this.createTable(this.hot.table.className),this.getSetting("useHeaders")&&this.hot.getColHeader(t)!==null&&this.hot.view.appendColHeader(t,this.table.th),this.table.tBody.appendChild(this.createCol(t)),this.container.container.appendChild(this.table.fragment),i.table=this.table.table}getHeights(t){this.injected||this.injectTable(),St(this.rows,r=>{t(r.row,Nr(r.table)-1)})}getWidths(t){this.injected||this.injectTable(),St(this.columns,r=>{let{width:i}=r.table.getBoundingClientRect();t(r.col,Math.ceil(i))})}setSettings(t){this.settings=t}setSetting(t,r){this.settings||(this.settings={}),this.settings[t]=r}getSettings(){return this.settings}getSetting(t){return this.settings?this.settings[t]:null}createColGroupsCol(t){let r=this.hot.rootDocument.createDocumentFragment();return this.hot.hasRowHeaders()&&r.appendChild(this.createColElement(-1,-1)),this.samples.forEach(i=>{St(i.strings,n=>{r.appendChild(this.createColElement(n.col,t))})}),r}createRow(t){let{rootDocument:r}=this.hot,i=r.createDocumentFragment(),n=r.createElement("th");return this.hot.hasRowHeaders()&&(this.hot.view.appendRowHeader(t,n),i.appendChild(n)),this.samples.forEach(o=>{St(o.strings,s=>{let a=s.col,l=this.hot.getCellMeta(t,a),c=this.hot.getCellRenderer(l),d=r.createElement("td");d.setAttribute("ghost-table",1),c(this.hot,d,t,a,this.hot.colToProp(a),s.value,l),i.appendChild(d)})}),i}appendColumnHeadersRow(){let{rootDocument:t}=this.hot,r=t.createDocumentFragment(),i=[];if(this.hot.hasRowHeaders()){let n=t.createElement("th");i.push([-1,n]),r.appendChild(n)}this.samples.forEach(n=>{St(n.strings,o=>{let s=o.col,a=t.createElement("th");i.push([s,a]),r.appendChild(a)})}),this.table.tHead.appendChild(r),St(i,n=>{let[o,s]=n;this.hot.view.appendColHeader(o,s)})}createCol(t){let{rootDocument:r}=this.hot,i=r.createDocumentFragment();return this.samples.forEach(n=>{St(n.strings,o=>{let s=o.row,a=this.hot.getCellMeta(s,t),l=this.hot.getCellRenderer(a),c=r.createElement("td"),d=r.createElement("tr");c.setAttribute("ghost-table",1),l(this.hot,c,s,t,this.hot.colToProp(t),o.value,a),d.appendChild(c),i.appendChild(d)})}),i}clean(){this.rows.length=0,this.rows[-1]=void 0,this.columns.length=0,this.samples&&this.samples.clear(),this.samples=null,this.removeTable()}injectTable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this.injected||((t||this.hot.rootElement).appendChild(this.container.fragment),this.injected=!0)}removeTable(){this.injected&&this.container.container.parentNode&&(this.container.container.parentNode.removeChild(this.container.container),this.container=null,this.injected=!1)}createColElement(t,r){let i=this.hot.rootDocument.createElement("col"),n=0;r>=0&&t>=0&&(n=this.hot.getCellMeta(r,t).colspan);let o=this.hot.getColWidth(t);if(n>1)for(let s=t+1;s<t+n;s++)o+=this.hot.getColWidth(s);return i.style.width=`${o}px`,i}createTable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",{rootDocument:r}=this.hot,i=r.createDocumentFragment(),n=r.createElement("table"),o=r.createElement("thead"),s=r.createElement("tbody"),a=r.createElement("colgroup"),l=r.createElement("tr"),c=r.createElement("th");return this.isVertical()&&n.appendChild(a),this.isHorizontal()&&(l.appendChild(c),o.appendChild(l),n.style.tableLayout="auto",n.style.width="auto"),n.appendChild(o),this.isVertical()&&s.appendChild(l),n.appendChild(s),re(n,t),i.appendChild(n),{fragment:i,table:n,tHead:o,tBody:s,colGroup:a,tr:l,th:c}}createContainer(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",{rootDocument:r}=this.hot,i=r.createDocumentFragment(),n=r.createElement("div"),o=`htGhostTable htAutoSize ${t.trim()}`;return re(n,o),i.appendChild(n),{fragment:i,container:n}}isVertical(){return!!(this.rows.length&&!this.columns.length)}isHorizontal(){return!!(this.columns.length&&!this.rows.length)}},hI=i8;var Qme=ot(qt(),1),Jme=ot(_e(),1);function uI(e,t,r){return t=OEt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OEt(e){var t=PEt(e,"string");return typeof t=="symbol"?t:t+""}function PEt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var r8=class e{static get SAMPLE_COUNT(){return 3}constructor(t){uI(this,"samples",null),uI(this,"dataFactory",null),uI(this,"customSampleCount",null),uI(this,"allowDuplicates",!1),this.dataFactory=t}getSampleCount(){return this.customSampleCount?this.customSampleCount:e.SAMPLE_COUNT}setSampleCount(t){this.customSampleCount=t}setAllowDuplicates(t){this.allowDuplicates=t}generateRowSamples(t,r){return this.generateSamples("row",r,t)}generateColumnSamples(t,r){return this.generateSamples("col",r,t)}generateSamples(t,r,i){let n=new Map,{from:o,to:s}=typeof i=="number"?{from:i,to:i}:i;return Oe(o,s,a=>{let l=this.generateSample(t,r,a);n.set(a,l)}),n}generateSample(t,r,i){if(t!=="row"&&t!=="col")throw new Error("Unsupported sample type");let n=new Map,o=t==="row"?"col":"row",s=[];return Oe(r.from,r.to,a=>{let l=t==="row"?this.dataFactory(i,a):this.dataFactory(a,i);if(l===!1)return;let{value:c,bundleSeed:d}=l,h=typeof d=="string"&&d.length>0,u;h?u=d:gi(c)?u=`${Object.keys(c).length}`:Array.isArray(c)?u=`${c.length}`:u=`${on(c).length}`,n.has(u)||n.set(u,{needed:this.getSampleCount(),strings:[]});let f=n.get(u);f.needed&&(!(s.indexOf(c)>-1)||this.allowDuplicates||h)&&(f.strings.push({value:c,[o]:a}),s.push(c),f.needed-=1)}),n}},fI=r8;function NEt(e,t){BJ(e,t),t.add(e)}function LEt(e,t,r){BJ(e,t),t.set(e,r)}function BJ(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Jy(e,t,r){return t=FEt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FEt(e){var t=HEt(e,"string");return typeof t=="symbol"?t:t+""}function HEt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BEt(e,t,r){return e.set(yf(e,t),r),r}function mI(e,t){return e.get(yf(e,t))}function yf(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}Le.getSingleton().register("modifyAutoColumnSizeSeed");var t_="autoColumnSize",jJ=10,jEt="autoColumnSize",e_=new WeakMap,yp=new WeakSet,q2=class e extends vi{static get PLUGIN_KEY(){return t_}static get PLUGIN_PRIORITY(){return jJ}static get SETTING_KEYS(){return!0}static get CALCULATION_STEP(){return 50}static get SYNC_CALCULATION_LIMIT(){return 50}constructor(t){super(t),NEt(this,yp),Jy(this,"ghostTable",new hI(this.hot)),Jy(this,"samplesGenerator",new fI((r,i)=>{let n=this.hot.toPhysicalRow(r),o=this.hot.toPhysicalColumn(i);if(this.hot.rowIndexMapper.isHidden(n)||this.hot.columnIndexMapper.isHidden(o))return!1;let s=this.hot.getCellMeta(r,i),a="";s.spanned||(a=this.hot.getDataAtCell(r,i));let l="";return this.hot.hasHook("modifyAutoColumnSizeSeed")&&(l=this.hot.runHooks("modifyAutoColumnSizeSeed",l,s,a)),{value:a,bundleSeed:l}})),Jy(this,"firstCalculation",!0),Jy(this,"inProgress",!1),Jy(this,"measuredColumns",0),Jy(this,"columnWidthsMap",new Vs),LEt(this,e_,[]),this.hot.columnIndexMapper.registerMap(jEt,this.columnWidthsMap),this.addHook("beforeColumnResize",(r,i,n)=>yf(yp,this,HJ).call(this,r,i,n))}isEnabled(){return this.hot.getSettings()[t_]!==!1&&!this.hot.getSettings().colWidths}enablePlugin(){var t=this;if(this.enabled)return;let r=this.hot.getSettings()[t_];r&&r.useHeaders!==null&&r.useHeaders!==void 0&&this.ghostTable.setSetting("useHeaders",r.useHeaders),this.setSamplingOptions(),this.addHook("afterLoadData",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return yf(yp,t,zEt).call(t,...n)}),this.addHook("beforeChangeRender",i=>yf(yp,this,UEt).call(this,i)),this.addHook("afterFormulasValuesUpdate",i=>yf(yp,this,YEt).call(this,i)),this.addHook("beforeViewRender",i=>yf(yp,this,VEt).call(this,i)),this.addHook("modifyColWidth",(i,n)=>this.getColumnWidth(n,i)),this.addHook("afterInit",()=>yf(yp,this,WEt).call(this)),super.enablePlugin()}updatePlugin(){let t=this.findColumnsWhereHeaderWasChanged();t.length&&(this.clearCache(t),this.calculateVisibleColumnsWidth()),super.updatePlugin()}disablePlugin(){super.disablePlugin(),this.addHook("beforeColumnResize",(t,r,i)=>yf(yp,this,HJ).call(this,t,r,i))}calculateVisibleColumnsWidth(){if(!this.hot.countRows())return;let r=this.hot.renderCall,i=this.getFirstVisibleColumn(),n=this.getLastVisibleColumn();i===-1||n===-1||this.calculateColumnsWidth({from:i,to:n},void 0,r)}calculateColumnsWidth(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{from:0,to:this.hot.countCols()-1},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{from:0,to:this.hot.countRows()-1},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=typeof t=="number"?{from:t,to:t}:t,o=typeof r=="number"?{from:r,to:r}:r;Oe(n.from,n.to,s=>{let a=this.hot.toPhysicalColumn(s);if(a===null&&(a=s),i||this.columnWidthsMap.getValueAtIndex(a)===null&&!this.hot._getColWidthFromSettings(a)){let l=this.samplesGenerator.generateColumnSamples(s,o);St(l,c=>{let[d,h]=c;return this.ghostTable.addColumn(d,h)})}}),this.ghostTable.columns.length&&(this.hot.batchExecution(()=>{this.ghostTable.getWidths((s,a)=>{let l=this.hot.toPhysicalColumn(s);this.columnWidthsMap.setValueAtIndex(l,a)})},!0),this.measuredColumns=n.to+1,this.ghostTable.clean())}calculateAllColumnsWidth(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{from:0,to:this.hot.countRows()-1},r=0,i=this.hot.countCols()-1,n=null;this.inProgress=!0;let o=()=>{if(!this.hot){ly(n),this.inProgress=!1;return}this.calculateColumnsWidth({from:r,to:Math.min(r+e.CALCULATION_STEP,i)},t),r=r+e.CALCULATION_STEP+1,r<i?n=ay(o):(ly(n),this.inProgress=!1,this.hot.view.adjustElementsSize())},s=this.getSyncCalculationLimit();this.firstCalculation&&s>=0&&(this.calculateColumnsWidth({from:0,to:s},t),this.firstCalculation=!1,r=s+1),r<i?o():this.inProgress=!1}setSamplingOptions(){let t=this.hot.getSettings()[t_],r=t&&en(t,"samplingRatio")?t.samplingRatio:void 0,i=t&&en(t,"allowSampleDuplicates")?t.allowSampleDuplicates:void 0;r&&!isNaN(r)&&this.samplesGenerator.setSampleCount(parseInt(r,10)),i&&this.samplesGenerator.setAllowDuplicates(i)}recalculateAllColumnsWidth(){this.hot.view&&this.hot.view._wt.wtTable.isVisible()&&(this.clearCache(),this.calculateAllColumnsWidth())}getSyncCalculationLimit(){let t=this.hot.getSettings()[t_],r=e.SYNC_CALCULATION_LIMIT,i=this.hot.countCols()-1;return gi(t)&&(r=t.syncLimit,oM(r)?r=NM(i,r):r>>=0),Math.min(r,i)}getColumnWidth(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=r;return n===void 0&&(n=this.columnWidthsMap.getValueAtIndex(this.hot.toPhysicalColumn(t)),i&&typeof n=="number"&&(n=Math.max(n,Vh.DEFAULT_WIDTH))),n}getFirstVisibleColumn(){let t=this.hot.view._wt;if(t.wtViewport.columnsVisibleCalculator){let r=t.wtTable.getFirstVisibleColumn();if(r!==-1)return this.hot.columnIndexMapper.getVisualFromRenderableIndex(r)}if(t.wtViewport.columnsRenderCalculator){let r=t.wtTable.getFirstRenderedColumn();if(r!==-1)return this.hot.columnIndexMapper.getVisualFromRenderableIndex(r)}return-1}getLastVisibleColumn(){let t=this.hot.view._wt;if(t.wtViewport.columnsVisibleCalculator){let r=t.wtTable.getLastVisibleColumn();if(r!==-1)return this.hot.columnIndexMapper.getVisualFromRenderableIndex(r)}if(t.wtViewport.columnsRenderCalculator){let r=t.wtTable.getLastRenderedColumn();if(r!==-1)return this.hot.columnIndexMapper.getVisualFromRenderableIndex(r)}return-1}findColumnsWhereHeaderWasChanged(){let t=this.hot.getColHeader();return cn(t,(i,n,o)=>{let s=mI(e_,this).length;return(s-1<o||mI(e_,this)[o]!==n)&&i.push(o),s-1<o?mI(e_,this).push(n):mI(e_,this)[o]=n,i},[])}clearCache(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];t.length?this.hot.batchExecution(()=>{St(t,r=>{this.columnWidthsMap.setValueAtIndex(r,null)})},!0):this.columnWidthsMap.clear()}isNeedRecalculate(){return!!ds(this.columnWidthsMap.getValues().slice(0,this.measuredColumns),t=>t===null).length}destroy(){this.ghostTable.clean(),super.destroy()}};function VEt(){this.calculateVisibleColumnsWidth(),this.isNeedRecalculate()&&!this.inProgress&&this.calculateAllColumnsWidth()}function zEt(){this.hot.view?this.recalculateAllColumnsWidth():setTimeout(()=>{this.hot&&this.recalculateAllColumnsWidth()},0)}function UEt(e){let t=Ci(e,r=>{let[,i]=r;return this.hot.toPhysicalColumn(this.hot.propToCol(i))});this.clearCache(Array.from(new Set(t)))}function HJ(e,t,r){let i=e;return r&&(this.calculateColumnsWidth(t,void 0,!0),i=this.getColumnWidth(t,void 0,!1)),i}function WEt(){BEt(e_,this,this.hot.getColHeader())}function YEt(e){let t=ds(e,i=>{var n;return Ne((n=i.address)===null||n===void 0?void 0:n.col)}),r=Ci(t,i=>i.address.col);this.clearCache(Array.from(new Set(r)))}var kpe=ot(qt(),1),Dpe=ot(_e(),1);var _p={horizontal:"horizontal",vertical:"vertical"};function VJ(e,t,r){let i,n,o;return t[0]===e[0]&&t[1]<e[1]?(o="left",i=r(t[0],t[1]),n=r(t[2],e[1]-1)):t[2]===e[2]&&t[0]===e[0]&&t[3]>e[3]?(o="right",i=r(t[0],e[3]+1),n=r(t[2],t[3])):t[0]<e[0]&&t[1]===e[1]?(o="up",i=r(t[0],t[1]),n=r(e[0]-1,t[3])):t[2]>e[2]&&t[1]===e[1]&&(o="down",i=r(e[2]+1,t[1]),n=r(t[2],t[3])),i&&i.normalize(),n&&n.normalize(),{directionOfDrag:o,startOfDragCoords:i,endOfDragCoords:n}}function zJ(e){let t={};return e===!0?(t.directions=Object.keys(_p),t.autoInsertRow=!0):gi(e)?(Ne(e.autoInsertRow)?e.direction===_p.horizontal?t.autoInsertRow=!1:t.autoInsertRow=e.autoInsertRow:t.autoInsertRow=!1,Ne(e.direction)?t.directions=[e.direction]:t.directions=Object.keys(_p)):typeof e=="string"?(t.directions=[e],t.autoInsertRow=!0):(t.directions=[],t.autoInsertRow=!1),t}function $Et(e,t){qEt(e,t),t.add(e)}function qEt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function i_(e,t,r){return t=GEt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GEt(e){var t=KEt(e,"string");return typeof t=="symbol"?t:t+""}function KEt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function G2(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}Le.getSingleton().register("modifyAutofillRange");Le.getSingleton().register("beforeAutofill");Le.getSingleton().register("afterAutofill");var n8="autofill",UJ=20,XEt=["fillHandle"],ZEt="insert_row_below",QEt=200,r_=new WeakSet,K2=class extends vi{constructor(){super(...arguments),$Et(this,r_),i_(this,"addingStarted",!1),i_(this,"mouseDownOnCellCorner",!1),i_(this,"mouseDragOutside",!1),i_(this,"handleDraggedCells",0),i_(this,"directions",[]),i_(this,"autoInsertRow",!1)}static get PLUGIN_KEY(){return n8}static get PLUGIN_PRIORITY(){return UJ}static get SETTING_KEYS(){return[n8,...XEt]}isEnabled(){return this.hot.getSettings().fillHandle}enablePlugin(){this.enabled||(this.mapSettings(),this.registerEvents(),this.addHook("afterOnCellCornerMouseDown",t=>G2(r_,this,tRt).call(this,t)),this.addHook("afterOnCellCornerDblClick",t=>G2(r_,this,JEt).call(this,t)),this.addHook("beforeOnCellMouseOver",(t,r)=>G2(r_,this,eRt).call(this,r)),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.clearMappedSettings(),super.disablePlugin()}getSelectionData(){let t=this.hot.getSelectedRangeLast(),{row:r,col:i}=t.getTopStartCorner(),{row:n,col:o}=t.getBottomEndCorner(),s=this.hot.runHooks("modifyCopyableRange",[{startRow:r,startCol:i,endRow:n,endCol:o}]),a=[],l=[],c=[];return St(s,d=>{for(let h=d.startRow;h<=d.endRow;h+=1)a.indexOf(h)===-1&&a.push(h);for(let h=d.startCol;h<=d.endCol;h+=1)l.indexOf(h)===-1&&l.push(h)}),St(a,d=>{let h=[];St(l,u=>{h.push(this.hot.getCopyableData(d,u))}),c.push(h)}),c}fillIn(){if(this.hot.selection.highlight.getFill().isEmpty())return!1;let[t,r,i,n]=this.hot.selection.highlight.getFill().getVisualCorners(),o=this.hot.getSelectedRangeLast(),s=o.getTopStartCorner(),a=o.getBottomEndCorner();this.resetSelectionOfDraggedArea();let l=[s.row,s.col,a.row,a.col],c=this.hot.runHooks("modifyAutofillRange",[Math.min(s.row,t),Math.min(s.col,r),Math.max(a.row,i),Math.max(a.col,n)],l),{directionOfDrag:d,startOfDragCoords:h,endOfDragCoords:u}=VJ(l,c,(f,m)=>this.hot._createCellCoords(f,m));if(h&&h.row>-1&&h.col>-1){let f=this.getSelectionData(),m=o.clone(),g=this.hot._createCellRange(h,h,u),p=this.hot.runHooks("beforeAutofill",f,m,g,d);if(p===!1)return this.hot.selection.highlight.getFill().clear(),this.hot.render(),!1;let b=p,_=p;if(["up","left"].indexOf(d)>-1&&!(_.length===1&&_[0].length===0))if(b=[],d==="up"){let E=u.row-h.row+1,O=E%_.length;for(let V=0;V<E;V++)b.push(_[(V+(_.length-O))%_.length])}else{let E=u.col-h.col+1,O=E%_[0].length;for(let V=0;V<_.length;V++){b.push([]);for(let H=0;H<E;H++)b[V].push(_[V][(H+(_[V].length-O))%_[V].length])}}this.hot.populateFromArray(h.row,h.col,b,u.row,u.col,`${this.pluginName}.fill`,null),this.setSelection(c),this.hot.runHooks("afterAutofill",b,m,g,d),this.hot.render()}else this.hot.view.render();return!0}reduceSelectionAreaIfNeeded(t){return t.row<0&&(t.row=0),t.col<0&&(t.col=0),t}getCoordsOfDragAndDropBorders(t){let r=this.hot.getSelectedRangeLast(),i=r.getBottomEndCorner(),n=t;if(this.directions.includes(_p.vertical)&&this.directions.includes(_p.horizontal)){let o=r.getTopStartCorner();(i.col<=t.col||o.col>=t.col)&&(n=this.hot._createCellCoords(i.row,t.col)),(i.row<t.row||o.row>t.row)&&(n=this.hot._createCellCoords(t.row,i.col))}else if(this.directions.includes(_p.vertical))n=this.hot._createCellCoords(t.row,i.col);else if(this.directions.includes(_p.horizontal))n=this.hot._createCellCoords(i.row,t.col);else return;return this.reduceSelectionAreaIfNeeded(n)}showBorder(t){let r=this.getCoordsOfDragAndDropBorders(t);r&&this.redrawBorders(r)}addRow(){this.hot._registerTimeout(()=>{this.hot.alter(ZEt,void 0,1,`${this.pluginName}.fill`),this.addingStarted=!1},QEt)}addNewRowIfNeeded(){if(!this.hot.selection.highlight.getFill().isEmpty()&&this.addingStarted===!1&&this.autoInsertRow){let t=this.hot.getSelectedLast(),r=this.hot.selection.highlight.getFill().getVisualCorners(),i=this.hot.countRows();t[2]<i-1&&r[2]===i-1&&(this.addingStarted=!0,this.addRow())}}getIndexOfLastAdjacentFilledInRow(t){let r=this.hot.getData(),i=this.hot.countRows(),n;for(let o=t[2]+1;o<i;o++){for(let l=t[1];l<=t[3];l++){let c=r[o][l];if(!sn(c))return-1}let s=r[o][t[1]-1],a=r[o][t[3]+1];(!sn(s)||!sn(a))&&(n=o)}return n}addSelectionFromStartAreaToSpecificRowIndex(t,r){this.hot.selection.highlight.getFill().clear().add(this.hot._createCellCoords(t[0],t[1])).add(this.hot._createCellCoords(r,t[3])).commit()}setSelection(t){this.hot.selectCell(...Ci(t,r=>Math.max(r,0)),!1,!1)}selectAdjacent(){let t=this.hot.getSelectedLast(),r=this.getIndexOfLastAdjacentFilledInRow(t);return r===-1||r===void 0?!1:(this.addSelectionFromStartAreaToSpecificRowIndex(t,r),!0)}resetSelectionOfDraggedArea(){this.handleDraggedCells=0,this.hot.selection.highlight.getFill().clear()}redrawBorders(t){this.hot.selection.highlight.getFill().clear().add(this.hot.getSelectedRangeLast().from).add(this.hot.getSelectedRangeLast().to).add(t).commit(),this.hot.view.render()}getIfMouseWasDraggedOutside(t){let{documentElement:r}=this.hot.rootDocument,i=Kn(this.hot.table).top-(this.hot.rootWindow.pageYOffset||r.scrollTop)+Nr(this.hot.table),n=Kn(this.hot.table).left-(this.hot.rootWindow.pageXOffset||r.scrollLeft)+yr(this.hot.table);return t.clientY>i&&t.clientX<=n}registerEvents(){let{documentElement:t}=this.hot.rootDocument;this.eventManager.addEventListener(t,"mouseup",()=>G2(r_,this,iRt).call(this)),this.eventManager.addEventListener(t,"mousemove",r=>G2(r_,this,rRt).call(this,r))}clearMappedSettings(){this.directions.length=0,this.autoInsertRow=!1}mapSettings(){let t=zJ(this.hot.getSettings().fillHandle);this.directions=t.directions,this.autoInsertRow=t.autoInsertRow}destroy(){super.destroy()}};function JEt(){this.selectAdjacent()&&this.fillIn()}function tRt(){this.handleDraggedCells=1,this.mouseDownOnCellCorner=!0}function eRt(e){this.mouseDownOnCellCorner&&!this.hot.view.isMouseDown()&&this.handleDraggedCells&&(this.handleDraggedCells+=1,this.showBorder(e),this.addNewRowIfNeeded())}function iRt(){this.handleDraggedCells&&(this.handleDraggedCells>1&&this.fillIn(),this.handleDraggedCells=0,this.mouseDownOnCellCorner=!1)}function rRt(e){let t=this.getIfMouseWasDraggedOutside(e);this.addingStarted===!1&&this.handleDraggedCells>0&&t?(this.mouseDragOutside=!0,this.addingStarted=!0):this.mouseDragOutside=!1,this.mouseDragOutside&&this.autoInsertRow&&this.addRow()}var zpe=ot(qt(),1);function nRt(e,t){oRt(e,t),t.add(e)}function oRt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function E0(e,t,r){return t=sRt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sRt(e){var t=aRt(e,"string");return typeof t=="symbol"?t:t+""}function aRt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X2(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var Z2="autoRowSize",YJ=40,lRt="autoRowSize",n_=new WeakSet,Q2=class e extends vi{static get PLUGIN_KEY(){return Z2}static get PLUGIN_PRIORITY(){return YJ}static get SETTING_KEYS(){return!0}static get CALCULATION_STEP(){return 50}static get SYNC_CALCULATION_LIMIT(){return 500}constructor(t){super(t),nRt(this,n_),E0(this,"headerHeight",null),E0(this,"ghostTable",new hI(this.hot)),E0(this,"samplesGenerator",new fI((r,i)=>{let n=this.hot.toPhysicalRow(r),o=this.hot.toPhysicalColumn(i);if(this.hot.rowIndexMapper.isHidden(n)||this.hot.columnIndexMapper.isHidden(o)||r>=0&&i>=0&&this.hot.getCellMeta(r,i).hidden)return!1;let s;return r>=0?s=this.hot.getDataAtCell(r,i):r===-1&&(s=this.hot.getColHeader(i)),{value:s}})),E0(this,"firstCalculation",!0),E0(this,"inProgress",!1),E0(this,"measuredRows",0),E0(this,"rowHeightsMap",new Vs),this.hot.rowIndexMapper.registerMap(lRt,this.rowHeightsMap),this.addHook("beforeRowResize",(r,i,n)=>X2(n_,this,WJ).call(this,r,i,n))}isEnabled(){let t=this.hot.getSettings()[Z2];return t===!0||gi(t)}enablePlugin(){var t=this;this.enabled||(this.setSamplingOptions(),this.addHook("afterLoadData",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return X2(n_,t,dRt).call(t,...i)}),this.addHook("beforeChangeRender",r=>X2(n_,this,hRt).call(this,r)),this.addHook("beforeColumnResize",()=>this.recalculateAllRowsHeight()),this.addHook("beforeViewRender",r=>X2(n_,this,cRt).call(this,r)),this.addHook("modifyRowHeight",(r,i)=>this.getRowHeight(i,r)),this.addHook("modifyColumnHeaderHeight",()=>this.getColumnHeaderHeight()),super.enablePlugin())}disablePlugin(){this.headerHeight=null,super.disablePlugin(),this.addHook("beforeRowResize",(t,r,i)=>X2(n_,this,WJ).call(this,t,r,i))}calculateRowsHeight(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{from:0,to:this.hot.countRows()-1},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{from:0,to:this.hot.countCols()-1},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=typeof t=="number"?{from:t,to:t}:t,o=typeof r=="number"?{from:r,to:r}:r;if(this.hot.getColHeader(0)!==null){let s=this.samplesGenerator.generateRowSamples(-1,o);this.ghostTable.addColumnHeadersRow(s.get(-1))}Oe(n.from,n.to,s=>{if(i||this.rowHeightsMap.getValueAtIndex(s)===null){let a=this.samplesGenerator.generateRowSamples(s,o);St(a,l=>{let[c,d]=l;return this.ghostTable.addRow(c,d)})}}),this.ghostTable.rows.length&&(this.hot.batchExecution(()=>{this.ghostTable.getHeights((s,a)=>{s<0?this.headerHeight=a:this.rowHeightsMap.setValueAtIndex(this.hot.toPhysicalRow(s),a)})},!0),this.measuredRows=n.to+1,this.ghostTable.clean())}calculateAllRowsHeight(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{from:0,to:this.hot.countCols()-1},r=0,i=this.hot.countRows()-1,n=null;this.inProgress=!0;let o=()=>{if(!this.hot){ly(n),this.inProgress=!1;return}this.calculateRowsHeight({from:r,to:Math.min(r+e.CALCULATION_STEP,i)},t),r=r+e.CALCULATION_STEP+1,r<i?n=ay(o):(ly(n),this.inProgress=!1,this.hot.view.adjustElementsSize(),this.hot.view._wt.wtOverlays.inlineStartOverlay.needFullRender&&this.hot.view._wt.wtOverlays.inlineStartOverlay.clone.draw())},s=this.getSyncCalculationLimit();this.firstCalculation&&s>=0&&(this.calculateRowsHeight({from:0,to:s},t),this.firstCalculation=!1,r=s+1),r<i?o():(this.inProgress=!1,this.hot.view.adjustElementsSize())}setSamplingOptions(){let t=this.hot.getSettings()[Z2],r=t&&en(t,"samplingRatio")?t.samplingRatio:void 0,i=t&&en(t,"allowSampleDuplicates")?t.allowSampleDuplicates:void 0;r&&!isNaN(r)&&this.samplesGenerator.setSampleCount(parseInt(r,10)),i&&this.samplesGenerator.setAllowDuplicates(i)}recalculateAllRowsHeight(){kc(this.hot.view._wt.wtTable.TABLE)&&(this.clearCache(),this.calculateAllRowsHeight())}getSyncCalculationLimit(){let t=this.hot.getSettings()[Z2],r=e.SYNC_CALCULATION_LIMIT,i=this.hot.countRows()-1;return gi(t)&&(r=t.syncLimit,oM(r)?r=NM(i,r):r>>=0),Math.min(r,i)}getRowHeight(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,i=t<0?this.headerHeight:this.rowHeightsMap.getValueAtIndex(this.hot.toPhysicalRow(t)),n=r;return i!==null&&i>(r||0)&&(n=i),n}getColumnHeaderHeight(){return this.headerHeight}getFirstVisibleRow(){let t=this.hot.view._wt;return t.wtViewport.rowsVisibleCalculator?t.wtTable.getFirstVisibleRow():t.wtViewport.rowsRenderCalculator?t.wtTable.getFirstRenderedRow():-1}getLastVisibleRow(){let t=this.hot.view._wt;return t.wtViewport.rowsVisibleCalculator?t.wtTable.getLastVisibleRow():t.wtViewport.rowsRenderCalculator?t.wtTable.getLastRenderedRow():-1}clearCache(){this.headerHeight=null,this.rowHeightsMap.init()}clearCacheByRange(t){let{from:r,to:i}=typeof t=="number"?{from:t,to:t}:t;this.hot.batchExecution(()=>{Oe(Math.min(r,i),Math.max(r,i),n=>{this.rowHeightsMap.setValueAtIndex(n,null)})},!0)}isNeedRecalculate(){return!!ds(this.rowHeightsMap.getValues().slice(0,this.measuredRows),t=>t===null).length}destroy(){this.ghostTable.clean(),super.destroy()}};function cRt(){let e=this.hot.renderCall,t=this.hot.getSettings().fixedRowsBottom,r=this.getFirstVisibleRow(),i=this.getLastVisibleRow();if(!(r===-1||i===-1)){if(this.calculateRowsHeight({from:r,to:i},void 0,e),t){let n=this.hot.countRows()-1;this.calculateRowsHeight({from:n-t,to:n})}this.isNeedRecalculate()&&!this.inProgress&&this.calculateAllRowsHeight()}}function WJ(e,t,r){let i=e;return r&&(this.calculateRowsHeight(t,void 0,!0),i=this.getRowHeight(t)),i}function dRt(){this.hot.view?this.recalculateAllRowsHeight():this.hot._registerTimeout(()=>{this.hot&&this.recalculateAllRowsHeight()})}function hRt(e){let t=null;e.length===1?t=e[0][0]:e.length>1&&(t={from:e[0][0],to:e[e.length-1][0]}),t!==null&&this.clearCacheByRange(t)}var sge=ot(qt(),1);var{getListWithInsertedItems:uRt,getListWithRemovedItems:fRt}=sx("physicallyIndexed"),o8=class extends Ya{constructor(){super(t=>t)}insert(t,r){let i=cp(this.indexedValues,r);this.indexedValues=uRt(i,t,r,this.initValueOrFn),super.insert(t,r)}remove(t){let r=fRt(this.indexedValues,t);this.indexedValues=lp(r,t),super.remove(t)}},$J=o8;var{getListWithInsertedItems:mRt,getListWithRemovedItems:pRt}=sx("physicallyIndexed"),s8=class extends Ya{constructor(){super(t=>t)}insert(t,r){this.indexedValues=mRt(this.indexedValues,t,r,(i,n)=>this.getNextValue(n)),super.insert(t,r)}remove(t){this.indexedValues=pRt(this.indexedValues,t),super.remove(t)}getNextValue(t){return Math.max(...this.getValues())+1+t}},qJ=s8;function gRt(e,t){bRt(e,t),t.add(e)}function bRt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function vRt(e,t,r){return t=yRt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yRt(e){var t=_Rt(e,"string");return typeof t=="symbol"?t:t+""}function _Rt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wRt(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var pI="bindRowsWithHeaders",KJ=210,CRt="loose",xRt=new Map([["loose",$J],["strict",qJ]]),GJ=new WeakSet,J2=class extends vi{constructor(){super(...arguments),gRt(this,GJ),vRt(this,"headerIndexes",null)}static get PLUGIN_KEY(){return pI}static get PLUGIN_PRIORITY(){return KJ}isEnabled(){return!!this.hot.getSettings()[pI]}enablePlugin(){if(this.enabled)return;let t=this.hot.getSettings()[pI];typeof t!="string"&&(t=CRt);let r=xRt.get(t);this.headerIndexes=this.hot.rowIndexMapper.registerMap("bindRowsWithHeaders",new r),this.addHook("modifyRowHeader",i=>wRt(GJ,this,SRt).call(this,i)),super.enablePlugin()}disablePlugin(){this.hot.rowIndexMapper.unregisterMap("bindRowsWithHeaders"),super.disablePlugin()}destroy(){super.destroy()}};function SRt(e){return this.headerIndexes.getValueAtIndex(this.hot.toPhysicalRow(e))}var fge=ot(qt(),1),mge=ot(_e(),1);function ERt(e,t){ttt(e,t),t.add(e)}function RRt(e,t,r){ttt(e,t),t.set(e,r)}function ttt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function XJ(e,t,r){return t=TRt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TRt(e){var t=MRt(e,"string");return typeof t=="symbol"?t:t+""}function MRt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZJ(e,t){return e.get(s_(e,t))}function a8(e,t,r){return e.set(s_(e,t),r),r}function s_(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var eS="collapsibleColumns",ett=290,ARt=["nestedHeaders"],a_="collapsibleIndicator",QJ=eS,JJ=new Map([["collapse",{hideColumn:!0,beforeHook:"beforeColumnCollapse",afterHook:"afterColumnCollapse"}],["expand",{hideColumn:!1,beforeHook:"beforeColumnExpand",afterHook:"afterColumnExpand"}]]),o_=new WeakMap,tS=new WeakSet,iS=class extends vi{constructor(){super(...arguments),ERt(this,tS),XJ(this,"nestedHeadersPlugin",null),XJ(this,"headerStateManager",null),RRt(this,o_,null)}static get PLUGIN_KEY(){return eS}static get PLUGIN_PRIORITY(){return ett}static get PLUGIN_DEPS(){return["plugin:NestedHeaders"]}static get SETTING_KEYS(){return[eS,...ARt]}isEnabled(){return!!this.hot.getSettings()[eS]}enablePlugin(){var t=this;if(this.enabled)return;let{nestedHeaders:r}=this.hot.getSettings();r||gr("You need to configure the Nested Headers plugin in order to use collapsible headers."),a8(o_,this,this.hot.columnIndexMapper.createAndRegisterIndexMap(this.pluginName,"hiding")),this.nestedHeadersPlugin=this.hot.getPlugin("nestedHeaders"),this.headerStateManager=this.nestedHeadersPlugin.getStateManager(),this.addHook("init",()=>s_(tS,this,DRt).call(this)),this.addHook("afterLoadData",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return s_(tS,t,ORt).call(t,...n)}),this.addHook("afterGetColHeader",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return s_(tS,t,IRt).call(t,...n)}),this.addHook("beforeOnCellMouseDown",(i,n,o)=>s_(tS,this,kRt).call(this,i,n,o)),this.registerShortcuts(),super.enablePlugin(),this.updatePlugin()}updatePlugin(){if(this.hot.view){if(!this.nestedHeadersPlugin.detectedOverlappedHeaders){let{collapsibleColumns:t}=this.hot.getSettings();typeof t=="boolean"?this.headerStateManager.mapState(r=>({collapsible:r.origColspan>1})):Array.isArray(t)&&(this.headerStateManager.mapState(()=>({collapsible:!1})),this.headerStateManager.mergeStateWith(t))}super.updatePlugin()}}disablePlugin(){this.hot.columnIndexMapper.unregisterMap(this.pluginName),a8(o_,this,null),this.nestedHeadersPlugin=null,this.unregisterShortcuts(),this.clearButtons(),super.disablePlugin()}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Enter"]],callback:()=>{var t;let{row:r,col:i}=this.hot.getSelectedRangeLast().highlight,{collapsible:n,isCollapsed:o,columnIndex:s}=(t=this.headerStateManager.getHeaderTreeNodeData(r,i))!==null&&t!==void 0?t:{};if(n)return o?this.expandSection({row:r,col:s}):this.collapseSection({row:r,col:s}),!1},runOnlyIf:()=>{var t,r;return((t=this.hot.getSelectedRangeLast())===null||t===void 0?void 0:t.isSingle())&&((r=this.hot.getSelectedRangeLast())===null||r===void 0?void 0:r.highlight.isHeader())},group:QJ,relativeToGroup:Sa,position:"before"})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(QJ)}clearButtons(){if(!this.hot.view)return;let t=this.hot.view._wt.getSetting("columnHeaders").length,r=this.hot.view._wt.wtTable.THEAD,i=this.hot.view._wt.wtOverlays.topOverlay.clone.wtTable.THEAD,n=this.hot.view._wt.wtOverlays.topInlineStartCornerOverlay?this.hot.view._wt.wtOverlays.topInlineStartCornerOverlay.clone.wtTable.THEAD:null,o=function(s){s&&s.parentNode.removeChild(s)};Oe(0,t-1,s=>{let a=r.childNodes[s],l=i.childNodes[s],c=n?n.childNodes[s]:null;Oe(0,a.childNodes.length-1,d=>{let h=a.childNodes[d].querySelector(`.${a_}`);o(h),l&&l.childNodes[d]&&(h=l.childNodes[d].querySelector(`.${a_}`),o(h)),n&&c&&c.childNodes[d]&&(h=c.childNodes[d].querySelector(`.${a_}`),o(h))})},!0)}expandSection(t){this.toggleCollapsibleSection([t],"expand")}collapseSection(t){this.toggleCollapsibleSection([t],"collapse")}toggleAllCollapsibleSections(t){let r=this.headerStateManager.mapNodes(i=>{let{collapsible:n,origColspan:o,headerLevel:s,columnIndex:a,isCollapsed:l}=i;if(n===!0&&o>1&&(l&&t==="expand"||!l&&t==="collapse"))return{row:this.headerStateManager.levelToRowCoords(s),col:a}});this.toggleCollapsibleSection(r,t)}collapseAll(){this.toggleAllCollapsibleSections("collapse")}expandAll(){this.toggleAllCollapsibleSections("expand")}toggleCollapsibleSection(t,r){if(!JJ.has(r))throw new Error(`Unsupported action is passed (${r}).`);if(!Array.isArray(t))return;let i=ds(t,f=>{let{row:m}=f;return m<0}),n=i.length>0;St(i,f=>{var m;let{row:g,col:p}=f,{collapsible:b,isCollapsed:_}=(m=this.headerStateManager.getHeaderSettings(g,p))!==null&&m!==void 0?m:{};if(!b||_&&r==="collapse"||!_&&r==="expand")return n=!1,!1});let o=[],s=[];n&&St(i,f=>{let{row:m,col:g}=f,{colspanCompensation:p,affectedColumns:b,rollbackModification:_}=this.headerStateManager.triggerNodeModification(r,m,g);p>0&&(s.push(...b),o.push(_))});let a=this.getCollapsedColumns(),l=[];r==="collapse"?l=iM([...a,...s]):r==="expand"&&(l=ds(a,f=>!s.includes(f)));let c=JJ.get(r);if(this.hot.runHooks(c.beforeHook,a,l,n)===!1){St(o,f=>{f()});return}this.hot.batchExecution(()=>{St(s,f=>{ZJ(o_,this).setValueAtIndex(this.hot.toPhysicalColumn(f),c.hideColumn)})},!0);let h=this.getCollapsedColumns().length!==a.length,u=this.hot.getSelectedRangeLast();if(r==="collapse"&&h&&u){let{row:f,col:m}=u.highlight;if((this.hot.rowIndexMapper.isHidden(f)||this.hot.columnIndexMapper.isHidden(m))&&s.includes(m)){let p=f>=0?this.hot.rowIndexMapper.getNearestNotHiddenIndex(f,1,!0):f,b=m>=0?this.hot.columnIndexMapper.getNearestNotHiddenIndex(m,1,!0):m;p!==null&&b!==null&&this.hot.selectCell(p,b)}}this.hot.runHooks(c.afterHook,a,l,n,h),this.hot.render(),this.hot.view.adjustElementsSize()}getCollapsedColumns(){return ZJ(o_,this).getHiddenIndexes()}destroy(){a8(o_,this,null),super.destroy()}};function IRt(e,t,r){var i;let{collapsible:n,origColspan:o,isCollapsed:s}=(i=this.headerStateManager.getHeaderSettings(r,e))!==null&&i!==void 0?i:{},a=n&&o>1&&e>=this.hot.getSettings().fixedColumnsStart,l=this.hot.getSettings().ariaTags,c=t.querySelector(`.${a_}`);if(Dc(t,[oa("")[0]]),a)c||(c=this.hot.rootDocument.createElement("div"),re(c,a_),t.querySelector("div:first-child").appendChild(c)),pi(c,["collapsed","expanded"]),s?(re(c,"collapsed"),Pc(c,"+"),l&&Ke(t,...oa(!1))):(re(c,"expanded"),Pc(c,"-"),l&&Ke(t,...oa(!0))),l&&Ke(c,...Ps());else{var d;(d=c)===null||d===void 0||d.remove()}}function kRt(e,t){Xe(e.target,a_)&&(Xe(e.target,"expanded")?(this.eventManager.fireEvent(e.target,"mouseup"),this.toggleCollapsibleSection([t],"collapse")):Xe(e.target,"collapsed")&&(this.eventManager.fireEvent(e.target,"mouseup"),this.toggleCollapsibleSection([t],"expand")),Vo(e))}function DRt(){this.updatePlugin()}function ORt(e,t){t||this.updatePlugin()}var C0e=ot(qt(),1),x0e=ot(_e(),1);var Rge=ot(qt(),1);function R0(e,t,r){return t=PRt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PRt(e){var t=NRt(e,"string");return typeof t=="symbol"?t:t+""}function NRt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LRt=["sortEmptyCells","indicator","headerAction","compareFunctionFactory"],FRt=!1,HRt=!0,BRt=!0,gI=class{constructor(t,r){R0(this,"hot",void 0),R0(this,"sortingStates",new qh),R0(this,"sortEmptyCells",FRt),R0(this,"indicator",HRt),R0(this,"headerAction",BRt),R0(this,"compareFunctionFactory",void 0),R0(this,"mapName",void 0),this.hot=t,this.mapName=r,this.hot.columnIndexMapper.registerMap(r,this.sortingStates)}updateAllColumnsProperties(t){gi(t)&&bi(t,(r,i)=>{LRt.includes(i)&&(this[i]=r)})}getAllColumnsProperties(){let t={sortEmptyCells:this.sortEmptyCells,indicator:this.indicator,headerAction:this.headerAction};return typeof this.compareFunctionFactory=="function"&&(t.compareFunctionFactory=this.compareFunctionFactory),t}getSortOrderOfColumn(t){var r;return(r=this.sortingStates.getValueAtIndex(this.hot.toPhysicalColumn(t)))===null||r===void 0?void 0:r.sortOrder}getIndexOfColumnInSortQueue(t){return t=this.hot.toPhysicalColumn(t),this.sortingStates.getEntries().findIndex(r=>{let[i]=r;return i===t})}getNumberOfSortedColumns(){return this.sortingStates.getLength()}isListOfSortedColumnsEmpty(){return this.getNumberOfSortedColumns()===0}isColumnSorted(t){return gi(this.sortingStates.getValueAtIndex(this.hot.toPhysicalColumn(t)))}getSortStates(){return this.sortingStates===null?[]:this.sortingStates.getEntries().map(r=>{let[i,n]=r;return jt({column:this.hot.toVisualColumn(i)},n)})}getColumnSortState(t){let r=this.getSortOrderOfColumn(t);if(Ne(r))return{column:t,sortOrder:r}}setSortStates(t){this.sortingStates.clear();for(let r=0;r<t.length;r+=1)this.sortingStates.setValueAtIndex(this.hot.toPhysicalColumn(t[r].column),{sortOrder:t[r].sortOrder})}destroy(){this.hot.columnIndexMapper.unregisterMap(this.mapName),this.sortingStates=null}};var n0e=ot(yn(),1),o0e=ot(_n(),1),s0e=ot(wn(),1),a0e=ot(Cn(),1),l0e=ot(xn(),1),c0e=ot(Sn(),1),d0e=ot(En(),1),h8=ot(ba(),1);function bI(e,t,r){let i=t.locale;return function(n,o){let{sortEmptyCells:s}=r;return typeof n=="string"&&(n=n.toLocaleLowerCase(i)),typeof o=="string"&&(o=o.toLocaleLowerCase(i)),n===o?Ea:sn(n)?sn(o)?Ea:s?e==="asc"?jn:Vn:Vn:sn(o)?s?e==="asc"?Vn:jn:jn:isNaN(n)&&!isNaN(o)?e==="asc"?Vn:jn:!isNaN(n)&&isNaN(o)?e==="asc"?jn:Vn:(isNaN(n)||isNaN(o)||(n=parseFloat(n),o=parseFloat(o)),n<o?e==="asc"?jn:Vn:n>o?e==="asc"?Vn:jn:Ea)}}var l8="default";function itt(e,t,r){return function(i,n){let o=parseFloat(i),s=parseFloat(n),{sortEmptyCells:a}=r;if(o===s||isNaN(o)&&isNaN(s))return Ea;if(a){if(sn(i))return e==="asc"?jn:Vn;if(sn(n))return e==="asc"?Vn:jn}return isNaN(o)?Vn:isNaN(s)?jn:o<s?e==="asc"?jn:Vn:o>s?e==="asc"?Vn:jn:Ea}}var rtt="numeric";function ntt(e,t,r){let i=t.checkedTemplate,n=t.uncheckedTemplate,{sortEmptyCells:o}=r;return function(s,a){let l=sn(s),c=sn(a),d=l?n:s,h=c?n:a,u=d===n||d===i,f=h===n||h===i;if(o===!1){if(l&&c===!1)return Vn;if(l===!1&&c)return jn}return u===!1&&f?e==="asc"?jn:Vn:u&&f===!1?e==="asc"?Vn:jn:u===!1&&f===!1?bI(e,t,r)(s,a):d===n&&h===i?e==="asc"?jn:Vn:d===i&&h===n?e==="asc"?Vn:jn:Ea}}var ott="checkbox";function stt(e,t,r){return vI(e,t.dateFormat,r)}var att="date";function ltt(e,t,r){return vI(e,t.timeFormat,r)}var ctt="time";var{register:rS,getItem:dtt,hasItem:jRt}=Zo("sorting.compareFunctionFactory"),{register:nS,getItem:c8}=Zo("sorting.mainSortComparator");function oS(e){return jRt(e)?dtt(e):dtt(l8)}rS(ott,ntt);rS(att,stt);rS(l8,bI);rS(rtt,itt);rS(ctt,ltt);var Ea=0,jn=-1,Vn=1;function d8(e,t){let r=c8(t);for(var i=arguments.length,n=new Array(i>2?i-2:0),o=2;o<i;o++)n[o-2]=arguments[o];e.sort(r(...n))}var sS="asc",aS="desc",u8="colHeader";function VRt(e){if(gi(e)===!1)return!1;let{column:t,sortOrder:r}=e;return Number.isInteger(t)&&[sS,aS].includes(r)}function htt(e){if(e.some(r=>VRt(r)===!1))return!1;let t=e.map(r=>{let{column:i}=r;return i});return new Set(t).size===t.length}function f8(e){if(e!==aS)return e===sS?aS:sS}function m8(e){return e.querySelector(`.${u8}`)}function p8(e,t){if(e<0||!t.parentNode)return!1;let r=t.parentNode.parentNode.childNodes;return Array.from(r).indexOf(t.parentNode)-r.length===-1}function lS(e,t,r){return e===-1&&t>=0&&Gl(r)===!1}function vI(e,t,r){return function(i,n){let{sortEmptyCells:o}=r;if(i===n)return Ea;if(sn(i))return sn(n)?Ea:o?e==="asc"?jn:Vn:Vn;if(sn(n))return o?e==="asc"?Vn:jn:jn;let s=(0,h8.default)(i,t),a=(0,h8.default)(n,t);return s.isValid()?a.isValid()?a.isAfter(s)?e==="asc"?jn:Vn:a.isBefore(s)?e==="asc"?Vn:jn:Ea:jn:Vn}}var g0e=ot(_e(),1);var zRt="ascending",URt="descending",utt="indicatorDisabled",ftt="columnSorting",mtt="sortAction",ptt=new Map([[sS,zRt],[aS,URt]]);function gtt(e,t,r,i){let n=[ftt];if(i&&n.push(mtt),r===!1)return n.push(utt),n;let o=e.getSortOrderOfColumn(t);return Ne(o)&&n.push(ptt.get(o)),n}function btt(){return Array.from(ptt.values()).concat(mtt,utt,ftt)}function vtt(e,t){return function(r,i){let[,...n]=r,[,...o]=i;return function(a){let l=e[a],c=t[a],d=n[a],h=o[a],u=c.columnSorting;return(u.compareFunctionFactory?u.compareFunctionFactory:oS(c.type))(l,c,u)(d,h)}(0)}}function WRt(e,t){YRt(e,t),t.add(e)}function YRt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function yI(e,t,r){return t=$Rt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Rt(e){var t=qRt(e,"string");return typeof t=="symbol"?t:t+""}function qRt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function l_(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var cS="columnSorting",_tt=50,c_="append",wtt="replace",ytt=cS;nS(cS,vtt);Le.getSingleton().register("beforeColumnSort");Le.getSingleton().register("afterColumnSort");var T0=new WeakSet,M0=class extends vi{constructor(){super(...arguments),WRt(this,T0),yI(this,"columnStatesManager",null),yI(this,"columnMetaCache",null),yI(this,"pluginKey",cS),yI(this,"indexesSequenceCache",null)}static get PLUGIN_KEY(){return cS}static get PLUGIN_PRIORITY(){return _tt}isEnabled(){return!!this.hot.getSettings()[this.pluginKey]}enablePlugin(){var t=this;this.enabled||(this.columnStatesManager=new gI(this.hot,`${this.pluginKey}.sortingStates`),this.columnMetaCache=new Vs(r=>{let i=this.hot.toVisualColumn(r);return i===null&&(i=r),this.getMergedPluginSettings(i)}),this.hot.columnIndexMapper.registerMap(`${this.pluginKey}.columnMeta`,this.columnMetaCache),this.addHook("afterGetColHeader",(r,i)=>l_(T0,this,GRt).call(this,r,i)),this.addHook("beforeOnCellMouseDown",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return l_(T0,t,XRt).call(t,...i)}),this.addHook("afterOnCellMouseDown",(r,i)=>this.onAfterOnCellMouseDown(r,i)),this.addHook("afterInit",()=>l_(T0,this,g8).call(this)),this.addHook("afterLoadData",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return l_(T0,t,KRt).call(t,...i)}),this.hot.view&&l_(T0,this,g8).call(this),this.registerShortcuts(),super.enablePlugin())}disablePlugin(){let t=(r,i)=>{let n=m8(i);p8(r,i)===!1||n===null||this.updateHeaderClasses(n)};this.hot.addHook("afterGetColHeader",t),this.hot.addHookOnce("afterViewRender",()=>{this.hot.removeHook("afterGetColHeader",t)}),this.hot.batchExecution(()=>{this.indexesSequenceCache!==null&&(this.hot.rowIndexMapper.setIndexesSequence(this.indexesSequenceCache.getValues()),this.hot.rowIndexMapper.unregisterMap(this.pluginKey))},!0),this.hot.columnIndexMapper.unregisterMap(`${this.pluginKey}.columnMeta`),this.columnStatesManager.destroy(),this.columnMetaCache=null,this.columnStatesManager=null,this.unregisterShortcuts(),super.disablePlugin()}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Enter"]],callback:()=>{let{highlight:t}=this.hot.getSelectedRangeLast();return this.sort(this.getColumnNextConfig(t.col)),!1},runOnlyIf:()=>{var t,r;let i=(t=this.hot.getSelectedRangeLast())===null||t===void 0?void 0:t.highlight;return i&&((r=this.hot.getSelectedRangeLast())===null||r===void 0?void 0:r.isSingle())&&this.hot.selection.isCellVisible(i)&&i.row===-1&&i.col>=0},relativeToGroup:Sa,position:"before",group:ytt})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(ytt)}sort(t){let r=this.getSortConfig(),i=this.getNormalizedSortConfigs(t),n=this.areValidSortConfigs(i);this.hot.runHooks("beforeColumnSort",r,i,n)!==!1&&(r.length===0&&this.indexesSequenceCache===null&&(this.indexesSequenceCache=this.hot.rowIndexMapper.registerMap(this.pluginKey,new Iy),this.indexesSequenceCache.setValues(this.hot.rowIndexMapper.getIndexesSequence())),n&&(this.columnStatesManager.setSortStates(i),this.sortByPresetSortStates(i),this.saveAllSortSettings(i)),this.hot.runHooks("afterColumnSort",r,n?i:r,n),n&&(this.hot.render(),this.hot.forceFullRender=!1,this.hot.view.render()))}clearSort(){this.sort([])}isSorted(){return this.enabled&&!this.columnStatesManager.isListOfSortedColumnsEmpty()}getSortConfig(t){return Ne(t)?this.columnStatesManager.getColumnSortState(t):this.columnStatesManager.getSortStates()}setSortConfig(t){let r=this.getNormalizedSortConfigs(t);this.areValidSortConfigs(r)&&this.columnStatesManager.setSortStates(r)}getNormalizedSortConfigs(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Array.isArray(t)?t.slice(0,1):[t]}areValidSortConfigs(t){let r=this.hot.countCols();return htt(t)&&t.every(i=>{let{column:n}=i;return n<=r&&n>=0})}saveAllSortSettings(t){let r=this.columnStatesManager.getAllColumnsProperties(),i=n=>{let a=n,{column:o}=a,s=Fn(a,["column"]);return jt({column:this.hot.toPhysicalColumn(o)},s)};r.initialConfig=Ci(t,i),this.hot.runHooks("persistentStateSave","columnSorting",r)}getAllSavedSortSettings(){let t={};this.hot.runHooks("persistentStateLoad","columnSorting",t);let r=t.value,i=n=>{let a=n,{column:o}=a,s=Fn(a,["column"]);return jt({column:this.hot.toVisualColumn(o)},s)};return Ne(r)&&Array.isArray(r.initialConfig)&&(r.initialConfig=Ci(r.initialConfig,i)),r}getColumnNextConfig(t){let r=this.columnStatesManager.getSortOrderOfColumn(t);if(Ne(r)){let n=f8(r);return Ne(n)?{column:t,sortOrder:n}:void 0}let i=this.hot.countCols();if(Number.isInteger(t)&&t>=0&&t<i)return{column:t,sortOrder:f8()}}getNextSortConfig(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:c_,i=this.columnStatesManager.getIndexOfColumnInSortQueue(t),n=i!==-1,o=this.getSortConfig(),s=this.getColumnNextConfig(t);if(n){if(vr(s))return[...o.slice(0,i),...o.slice(i+1)];if(r===c_)return[...o.slice(0,i),...o.slice(i+1),s];if(r===wtt)return[...o.slice(0,i),s,...o.slice(i+1)]}return Ne(s)?o.concat(s):o}getPluginColumnConfig(t){if(gi(t)){let r=t[this.pluginKey];if(gi(r))return r}return{}}getMergedPluginSettings(t){let r=this.hot.getSettings()[this.pluginKey],i=this.columnStatesManager.getAllColumnsProperties(),n=this.hot.getCellMeta(0,t),o=Object.getPrototypeOf(n);return Array.isArray(o.columns)?Object.assign(i,r,this.getPluginColumnConfig(o.columns[t])):Mr(o.columns)?Object.assign(i,r,this.getPluginColumnConfig(o.columns(t))):Object.assign(i,r)}getFirstCellSettings(t){let r=this.hot.getCellMeta(0,t),i=Object.create(r);return i[this.pluginKey]=this.columnMetaCache.getValueAtIndex(this.hot.toPhysicalColumn(t)),i}getNumberOfRowsToSort(t){let r=this.hot.getSettings();return r.maxRows<=t?r.maxRows:t-r.minSpareRows}sortByPresetSortStates(t){if(t.length===0){this.hot.rowIndexMapper.setIndexesSequence(this.indexesSequenceCache.getValues());return}let r=[],i=this.hot.countRows(),n=c=>Ci(t,d=>this.hot.getDataAtCell(c,d.column));for(let c=0;c<this.getNumberOfRowsToSort(i);c+=1)r.push([this.hot.toPhysicalRow(c)].concat(n(c)));let o=Ci(r,c=>c[0]);d8(r,this.pluginKey,Ci(t,c=>c.sortOrder),Ci(t,c=>this.getFirstCellSettings(c.column)));for(let c=r.length;c<i;c+=1)r.push([c].concat(n(c)));let s=Ci(r,c=>c[0]),a=new Map(Ci(o,(c,d)=>[c,s[d]])),l=Ci(this.hot.rowIndexMapper.getIndexesSequence(),c=>a.has(c)?a.get(c):c);this.hot.rowIndexMapper.setIndexesSequence(l)}sortBySettings(t){if(gi(t)){this.columnStatesManager.updateAllColumnsProperties(t);let r=t.initialConfig;(Array.isArray(r)||gi(r))&&this.sort(r)}else this.hot.render()}updateHeaderClasses(t){if(pi(t,btt(t)),this.enabled!==!1){for(var r=arguments.length,i=new Array(r>1?r-1:0),n=1;n<r;n++)i[n-1]=arguments[n];re(t,gtt(...i))}}onUpdateSettings(t){super.onUpdateSettings(),this.columnMetaCache!==null&&this.columnMetaCache.init(this.hot.columnIndexMapper.getNumberOfIndexes()),Ne(t[this.pluginKey])&&this.sortBySettings(t[this.pluginKey])}wasClickableHeaderClicked(t,r){return this.getFirstCellSettings(r)[this.pluginKey].headerAction&&Xe(t.target,u8)}onAfterOnCellMouseDown(t,r){lS(r.row,r.col,t)!==!1&&this.wasClickableHeaderClicked(t,r.col)&&(this.hot.getShortcutManager().isCtrlPressed()&&(this.hot.deselectCell(),this.hot.selectColumns(r.col)),this.sort(this.getColumnNextConfig(r.col)))}destroy(){var t;(t=this.columnStatesManager)===null||t===void 0||t.destroy(),super.destroy()}};function g8(){let e=this.getAllSavedSortSettings();if(gi(e))this.sortBySettings(e);else{let t=this.hot.getSettings()[this.pluginKey];this.sortBySettings(t)}}function GRt(e,t){let r=m8(t);if(p8(e,t)===!1||r===null)return;let i=this.getFirstCellSettings(e)[this.pluginKey],n=i.indicator,o=i.headerAction;if(this.updateHeaderClasses(r,this.columnStatesManager,e,n,o),this.hot.getSettings().ariaTags){let s=this.columnStatesManager.getSortOrderOfColumn(e);Ke(t,...jG(s?`${s}ending`:"none"))}}function KRt(e){e===!0&&this.hot.view&&l_(T0,this,g8).call(this)}function XRt(e,t,r,i){lS(t.row,t.col,e)!==!1&&this.wasClickableHeaderClicked(e,t.col)&&this.hot.getShortcutManager().isCtrlPressed()&&(i.column=!0)}var K0e=ot(qt(),1);var U0e=ot(qt(),1),W0e=ot(_e(),1);function A0(e,t,r){return t=ZRt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZRt(e){var t=QRt(e,"string");return typeof t=="symbol"?t:t+""}function QRt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var b8=class{constructor(t,r){A0(this,"plugin",void 0),A0(this,"hot",void 0),A0(this,"endpoints",[]),A0(this,"settings",void 0),A0(this,"settingsType","array"),A0(this,"currentEndpoint",null),A0(this,"cellsToSetCache",[]),this.plugin=t,this.hot=this.plugin.hot,this.settings=r}initEndpoints(){this.endpoints=this.parseSettings(),this.refreshAllEndpoints()}getEndpoint(t){return this.settingsType==="function"?this.fillMissingEndpointData(this.settings)[t]:this.endpoints[t]}getAllEndpoints(){return this.settingsType==="function"?this.fillMissingEndpointData(this.settings):this.endpoints}fillMissingEndpointData(t){return this.parseSettings(t.call(this))}parseSettings(t){let r=[],i=t;if(!i&&typeof this.settings=="function"){this.settingsType="function";return}return i||(i=this.settings),St(i,n=>{let o={};this.assignSetting(n,o,"ranges",[[0,this.hot.countRows()-1]]),this.assignSetting(n,o,"reversedRowCoords",!1),this.assignSetting(n,o,"destinationRow",new Error(`
        You must provide a destination row for the Column Summary plugin in order to work properly!
      `)),this.assignSetting(n,o,"destinationColumn",new Error(`
        You must provide a destination column for the Column Summary plugin in order to work properly!
      `)),this.assignSetting(n,o,"sourceColumn",n.destinationColumn),this.assignSetting(n,o,"type","sum"),this.assignSetting(n,o,"forceNumeric",!1),this.assignSetting(n,o,"suppressDataTypeErrors",!0),this.assignSetting(n,o,"customFunction",null),this.assignSetting(n,o,"readOnly",!0),this.assignSetting(n,o,"roundFloat",!1),r.push(o)}),r}assignSetting(t,r,i,n){if(i==="ranges"&&t[i]===void 0){r[i]=n;return}else if(i==="ranges"&&t[i].length===0)return;if(t[i]===void 0){if(n instanceof Error)throw n;r[i]=n}else i==="destinationRow"&&r.reversedRowCoords?r[i]=this.hot.countRows()-t[i]-1:r[i]=t[i]}resetSetupBeforeStructureAlteration(t,r,i){if(this.settingsType!=="function")return;let n=t.indexOf("row")>-1?"row":"col",o=this.getAllEndpoints();St(o,s=>{n==="row"&&s.destinationRow>=r&&(t==="insert_row"?s.alterRowOffset=i:t==="remove_row"&&(s.alterRowOffset=-1*i)),n==="col"&&s.destinationColumn>=r&&(t==="insert_col"?s.alterColumnOffset=i:t==="remove_col"&&(s.alterColumnOffset=-1*i))}),this.resetAllEndpoints(o,!1)}resetSetupAfterStructureAlteration(t,r,i,n,o){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;if(this.settingsType==="function"){let u=()=>(this.hot.removeHook("beforeViewRender",u),this.refreshAllEndpoints());this.hot.addHookOnce("beforeViewRender",u);return}let a=t.indexOf("row")>-1?"row":"col",l=t.indexOf("remove")>-1?-1:1,c=this.getAllEndpoints(),d=t.indexOf("move_row")===0,h=r;St(c,u=>{a==="row"&&u.destinationRow>=h&&(u.alterRowOffset=l*i),a==="col"&&u.destinationColumn>=h&&(u.alterColumnOffset=l*i)}),this.resetAllEndpoints(c,!d),d?St(c,u=>{this.extendEndpointRanges(u,h,n[0],n.length),this.recreatePhysicalRanges(u),this.clearOffsetInformation(u)}):St(c,u=>{this.shiftEndpointCoordinates(u,h)}),s&&this.refreshAllEndpoints()}clearOffsetInformation(t){t.alterRowOffset=void 0,t.alterColumnOffset=void 0}extendEndpointRanges(t,r,i,n){St(t.ranges,o=>{o[1]&&(r>=o[0]&&r<=o[1]?i>o[1]?o[1]+=n:i<o[0]&&(o[0]-=n):i>=o[0]&&i<=o[1]&&(o[1]-=n,r<=o[0]&&(o[0]+=1,o[1]+=1)))})}recreatePhysicalRanges(t){let r=t.ranges,i=[],n=[];St(r,o=>{let s=[];if(o[1])for(let a=o[0];a<=o[1];a++)s.push(this.hot.toPhysicalRow(a));else s.push(this.hot.toPhysicalRow(o[0]));n.push(s)}),St(n,o=>{let s=[];St(o,(a,l)=>{l===0?s.push(a):o[l]!==o[l-1]+1&&(s.push(o[l-1]),i.push(s),s=[],s.push(a)),l===o.length-1&&(s.push(a),i.push(s))})}),t.ranges=i}shiftEndpointCoordinates(t,r){t.alterRowOffset&&t.alterRowOffset!==0?(t.destinationRow+=t.alterRowOffset||0,St(t.ranges,i=>{St(i,(n,o)=>{n>=r&&(i[o]+=t.alterRowOffset||0)})})):t.alterColumnOffset&&t.alterColumnOffset!==0&&(t.destinationColumn+=t.alterColumnOffset||0,t.sourceColumn+=t.alterColumnOffset||0)}resetAllEndpoints(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getAllEndpoints(),r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;t.some(n=>{let o=n.alterRowOffset||0,s=n.alterColumnOffset||0;return n.destinationRow+o>=this.hot.countRows()||n.destinationColumn+s>=this.hot.countCols()})||(this.cellsToSetCache=[],St(t,n=>{this.resetEndpointValue(n,r)}),this.hot.setDataAtCell(this.cellsToSetCache,"ColumnSummary.reset"),this.cellsToSetCache=[])}refreshAllEndpoints(){this.cellsToSetCache=[],St(this.getAllEndpoints(),t=>{this.currentEndpoint=t,this.plugin.calculate(t),this.setEndpointValue(t,"init")}),this.currentEndpoint=null,this.hot.setDataAtCell(this.cellsToSetCache,"ColumnSummary.reset"),this.cellsToSetCache=[]}refreshChangedEndpoints(t){let r=[];this.cellsToSetCache=[],St(t,(i,n,o)=>{`${i[2]||""}`!=`${i[3]}`&&St(this.getAllEndpoints(),(s,a)=>{this.hot.propToCol(o[n][1])===s.sourceColumn&&r.indexOf(a)===-1&&r.push(a)})}),St(r,i=>{this.refreshEndpoint(this.getEndpoint(i))}),this.hot.setDataAtCell(this.cellsToSetCache,"ColumnSummary.reset"),this.cellsToSetCache=[]}refreshCellMetas(){this.endpoints.forEach(t=>{let r=this.hot.toVisualRow(t.destinationRow);if(r!==null){let i=this.hot.getCellMeta(r,t.destinationColumn);i.readOnly=t.readOnly,i.className="columnSummaryResult"}})}refreshEndpoint(t){this.currentEndpoint=t,this.plugin.calculate(t),this.setEndpointValue(t),this.currentEndpoint=null}resetEndpointValue(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,i=t.alterRowOffset||0,n=t.alterColumnOffset||0;this.cellsToSetCache.push([this.hot.toVisualRow(t.destinationRow+(r?i:0)),this.hot.toVisualColumn(t.destinationColumn+(r?n:0)),""])}setEndpointValue(t,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=this.hot.toVisualRow(t.destinationRow);if(t.destinationRow>=this.hot.countRows()||t.destinationColumn>=this.hot.countCols()){this.throwOutOfBoundsWarning();return}let o=this.hot.toVisualRow(t.destinationRow);if(o!==null){let s=this.hot.getCellMeta(o,t.destinationColumn);(r==="init"||s.readOnly!==t.readOnly)&&(s.readOnly=t.readOnly,s.className="columnSummaryResult")}if((t.roundFloat===!0||Number.isInteger(t.roundFloat))&&!isNaN(t.result)){let s=t.roundFloat,a=0;Number.isInteger(s)&&(a=Math.min(Math.max(0,s),100)),t.result=t.result.toFixed(a)}i?this.hot.setDataAtCell(n,t.destinationColumn,t.result,"ColumnSummary.set"):this.cellsToSetCache.push([n,t.destinationColumn,t.result]),t.alterRowOffset=void 0,t.alterColumnOffset=void 0}throwOutOfBoundsWarning(){gr("One of the Column Summary plugins' destination points you provided is beyond the table boundaries!")}},Ctt=b8;function _I(e){return e==null||isNaN(e)}function JRt(e,t){tTt(e,t),t.add(e)}function tTt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function eTt(e,t,r){return t=iTt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iTt(e){var t=rTt(e,"string");return typeof t=="symbol"?t:t+""}function rTt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wI(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var CI="columnSummary",xtt=220,dS=new WeakSet,hS=class extends vi{constructor(){super(...arguments),JRt(this,dS),eTt(this,"endpoints",null)}static get PLUGIN_KEY(){return CI}static get PLUGIN_PRIORITY(){return xtt}isEnabled(){return!!this.hot.getSettings()[CI]}enablePlugin(){var t=this;this.enabled||(this.settings=this.hot.getSettings()[CI],this.endpoints=new Ctt(this,this.settings),this.addHook("afterInit",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return wI(dS,t,nTt).call(t,...i)}),this.addHook("afterChange",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return wI(dS,t,sTt).call(t,...i)}),this.addHook("afterUpdateSettings",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return wI(dS,t,oTt).call(t,...i)}),this.addHook("beforeCreateRow",(r,i,n)=>this.endpoints.resetSetupBeforeStructureAlteration("insert_row",r,i,null,n)),this.addHook("beforeCreateCol",(r,i,n)=>this.endpoints.resetSetupBeforeStructureAlteration("insert_col",r,i,null,n)),this.addHook("beforeRemoveRow",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return t.endpoints.resetSetupBeforeStructureAlteration("remove_row",...i)}),this.addHook("beforeRemoveCol",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return t.endpoints.resetSetupBeforeStructureAlteration("remove_col",...i)}),this.addHook("afterCreateRow",(r,i,n)=>this.endpoints.resetSetupAfterStructureAlteration("insert_row",r,i,null,n)),this.addHook("afterCreateCol",(r,i,n)=>this.endpoints.resetSetupAfterStructureAlteration("insert_col",r,i,null,n)),this.addHook("afterRemoveRow",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return t.endpoints.resetSetupAfterStructureAlteration("remove_row",...i)}),this.addHook("afterRemoveCol",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return t.endpoints.resetSetupAfterStructureAlteration("remove_col",...i)}),this.addHook("afterRowMove",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return wI(dS,t,aTt).call(t,...i)}),super.enablePlugin())}disablePlugin(){this.endpoints=null,this.settings=null,this.currentEndpoint=null,super.disablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),this.endpoints.initEndpoints(),super.updatePlugin()}calculate(t){switch(t.type.toLowerCase()){case"sum":t.result=this.calculateSum(t);break;case"min":t.result=this.calculateMinMax(t,t.type);break;case"max":t.result=this.calculateMinMax(t,t.type);break;case"count":t.result=this.countEntries(t);break;case"average":t.result=this.calculateAverage(t);break;case"custom":t.result=t.customFunction.call(this,t);break;default:break}}calculateSum(t){let r=0;return bi(t.ranges,i=>{r+=this.getPartialSum(i,t.sourceColumn)}),r}getPartialSum(t,r){let i=0,n=t[1]||t[0],o=null,s=0;do{if(o=this.getCellValue(n,r),o=_I(o)?null:o,o!==null){let a=(`${o}`.split(".")[1]||[]).length||1;a>s&&(s=a)}i+=o||0,n-=1}while(n>=t[0]);return Math.round(i*10**s)/10**s}calculateMinMax(t,r){let i=null;return bi(t.ranges,n=>{let o=this.getPartialMinMax(n,t.sourceColumn,r);if(i===null&&o!==null&&(i=o),o!==null)switch(r){case"min":i=Math.min(i,o);break;case"max":i=Math.max(i,o);break;default:break}}),i===null?"Not enough data":i}getPartialMinMax(t,r,i){let n=null,o=t[1]||t[0],s;do{if(s=this.getCellValue(o,r),s=_I(s)?null:s,n===null)n=s;else if(s!==null)switch(i){case"min":n=Math.min(n,s);break;case"max":n=Math.max(n,s);break;default:break}o-=1}while(o>=t[0]);return n}countEmpty(t,r){let i,n=0,o=t[1]||t[0];do i=this.getCellValue(o,r),i=_I(i)?null:i,i===null&&(n+=1),o-=1;while(o>=t[0]);return n}countEntries(t){let r=0,i=t.ranges;return bi(i,n=>{let o=n[1]===void 0?1:n[1]-n[0]+1,s=this.countEmpty(n,t.sourceColumn);r+=o,r-=s}),r}calculateAverage(t){let r=this.calculateSum(t),i=this.countEntries(t);return r/i}getCellValue(t,r){let i=this.hot.toVisualRow(t),n=this.hot.toVisualColumn(r),o=this.hot.getSourceDataAtCell(t,r),s="";if(i!==null&&n!==null&&(s=this.hot.getCellMeta(i,n).className||""),s.indexOf("columnSummaryResult")>-1)return null;if(this.endpoints.currentEndpoint.forceNumeric&&(typeof o=="string"&&(o=o.replace(/,/,".")),o=parseFloat(o)),isNaN(o)&&!this.endpoints.currentEndpoint.suppressDataTypeErrors)throw new Error(Gi`ColumnSummary plugin: cell at (${t}, ${r}) is not in a\x20
          numeric format. Cannot do the calculation.`);return o}};function nTt(){this.endpoints.initEndpoints()}function oTt(e){e.columns!==void 0&&this.endpoints.refreshCellMetas()}function sTt(e,t){e&&t!=="ColumnSummary.reset"&&t!=="ColumnSummary.set"&&t!=="loadData"&&this.endpoints.refreshChangedEndpoints(e)}function aTt(e,t){this.endpoints.resetSetupBeforeStructureAlteration("move_row",e[0],e.length,e,this.pluginName),this.endpoints.resetSetupAfterStructureAlteration("move_row",t,e.length,e,this.pluginName)}var fve=ot(qt(),1),mve=ot(_e(),1);var nbe=ot(qt(),1);function d_(e,t,r){return t=lTt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lTt(e){var t=cTt(e,"string");return typeof t=="symbol"?t:t+""}function cTt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var v8=class e{static get CLASS_EDITOR_CONTAINER(){return"htCommentsContainer"}static get CLASS_EDITOR(){return"htComments"}static get CLASS_INPUT(){return"htCommentTextArea"}static get CLASS_CELL(){return"htCommentCell"}constructor(t,r){d_(this,"rootDocument",void 0),d_(this,"isRtl",!1),d_(this,"container",null),d_(this,"editor",void 0),d_(this,"editorStyle",void 0),d_(this,"hidden",!0),this.rootDocument=t,this.isRtl=r,this.editor=this.createEditor(),this.editorStyle=this.editor.style,this.hide()}setPosition(t,r){this.editorStyle.left=`${t}px`,this.editorStyle.top=`${r}px`}setSize(t,r){if(t&&r){let i=this.getInputElement();i.style.width=`${t}px`,i.style.height=`${r}px`}}getSize(){return{width:yr(this.getInputElement()),height:Nr(this.getInputElement())}}resetSize(){let t=this.getInputElement();t.style.width="",t.style.height=""}setReadOnlyState(t){let r=this.getInputElement();r.readOnly=t}show(){this.editorStyle.display="block",this.hidden=!1}hide(){this.hidden||(this.editorStyle.display="none"),this.hidden=!0}isVisible(){return this.editorStyle.display==="block"}setValue(){let r=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"")||"";this.getInputElement().value=r}getValue(){return this.getInputElement().value}isFocused(){return this.rootDocument.activeElement===this.getInputElement()}focus(){this.getInputElement().focus()}createEditor(){let t=this.rootDocument.createElement("div"),r=this.rootDocument.createElement("textarea");return t.style.display="none",this.container=this.rootDocument.createElement("div"),this.container.setAttribute("dir",this.isRtl?"rtl":"ltr"),re(this.container,e.CLASS_EDITOR_CONTAINER),this.rootDocument.body.appendChild(this.container),re(t,e.CLASS_EDITOR),re(r,e.CLASS_INPUT),r.setAttribute("data-hot-input",!0),t.appendChild(r),this.container.appendChild(t),t}getInputElement(){return this.editor.querySelector(`.${e.CLASS_INPUT}`)}destroy(){let t=this.container?this.container.parentNode:null;this.editor.parentNode.removeChild(this.editor),this.editor=null,this.editorStyle=null,t&&t.removeChild(this.container)}},Stt=v8;var abe=ot(qt(),1);function y8(e,t,r){return t=dTt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dTt(e){var t=hTt(e,"string");return typeof t=="symbol"?t:t+""}function hTt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uTt=250,fTt=250,xI=class{constructor(t){y8(this,"wasLastActionShow",!0),y8(this,"showDebounced",null),y8(this,"hidingTimer",null),this.updateDelay(t)}hide(){this.wasLastActionShow=!1,this.hidingTimer=setTimeout(()=>{this.wasLastActionShow===!1&&this.runLocalHooks("hide")},fTt)}show(t){this.wasLastActionShow=!0,this.showDebounced(t)}cancelHiding(){this.wasLastActionShow=!0,clearTimeout(this.hidingTimer),this.hidingTimer=null}updateDelay(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:uTt;this.showDebounced=ry(r=>{this.wasLastActionShow&&this.runLocalHooks("show",r.from.row,r.from.col)},t)}destroy(){this.clearLocalHooks()}};Zi(xI,Bn);var Ett=xI;function mTt(e,t){return e.indexOf(t)!==-1?e:`${e.replace("htTop","").replace("htMiddle","").replace("htBottom","").replace("  ","")} ${t}`}function pTt(e,t){return e.indexOf(t)!==-1?e:`${e.replace("htLeft","").replace("htCenter","").replace("htRight","").replace("htJustify","").replace("  ","")} ${t}`}function wp(e,t){let r={};return St(e,i=>{i.forAll((n,o)=>{n>=0&&o>=0&&(r[n]||(r[n]=[]),r[n][o]=t(n,o))})}),r}function eu(e,t,r,i,n){St(e,o=>{o.forAll((s,a)=>{s>=0&&a>=0&&gTt(s,a,t,r,i,n)})})}function gTt(e,t,r,i,n,o){let s=n(e,t),a=i;s.className&&(r==="vertical"?a=mTt(s.className,i):a=pTt(s.className,i)),o(e,t,"className",a)}function qc(e){return`<span class="selected">\u2713</span>${e}`}function Jl(e,t){let r=!1;return Array.isArray(e)&&St(e,i=>(i.forAll((n,o)=>{if(n>=0&&o>=0&&t(n,o))return r=!0,!1}),r)),r}function h_(e,t){let r={top:0,left:0};if(t!==e.ownerDocument){let{frameElement:i}=t.defaultView,{top:n,left:o}=i.getBoundingClientRect();r.top=n,r.left=o}return r}var Oi="---------";function _8(){return{name:Oi}}var Ra="alignment";function w8(){return{key:Ra,name(){return this.getTranslatedPhrase(Nx)},disabled(){if(this.countRows()===0||this.countCols()===0)return!0;let e=this.getSelectedRangeLast();return!e||e.isSingleHeader()?!0:!(this.getSelectedRange()&&!this.selection.isSelectedByCorner())},submenu:{items:[{key:`${Ra}:left`,name(){let e=this.getTranslatedPhrase(Lx);return Jl(this.getSelectedRange(),(r,i)=>{let n=this.getCellMeta(r,i).className;if(n&&n.indexOf("htLeft")!==-1)return!0})&&(e=qc(e)),e},callback(){let e=this.getSelectedRange(),t=wp(e,(n,o)=>this.getCellMeta(n,o).className),r="horizontal",i="htLeft";this.runHooks("beforeCellAlignment",t,e,r,i),eu(e,r,i,(n,o)=>this.getCellMeta(n,o),(n,o,s,a)=>this.setCellMeta(n,o,s,a)),this.render()},disabled:!1},{key:`${Ra}:center`,name(){let e=this.getTranslatedPhrase(Fx);return Jl(this.getSelectedRange(),(r,i)=>{let n=this.getCellMeta(r,i).className;if(n&&n.indexOf("htCenter")!==-1)return!0})&&(e=qc(e)),e},callback(){let e=this.getSelectedRange(),t=wp(e,(n,o)=>this.getCellMeta(n,o).className),r="horizontal",i="htCenter";this.runHooks("beforeCellAlignment",t,e,r,i),eu(e,r,i,(n,o)=>this.getCellMeta(n,o),(n,o,s,a)=>this.setCellMeta(n,o,s,a)),this.render()},disabled:!1},{key:`${Ra}:right`,name(){let e=this.getTranslatedPhrase(Hx);return Jl(this.getSelectedRange(),(r,i)=>{let n=this.getCellMeta(r,i).className;if(n&&n.indexOf("htRight")!==-1)return!0})&&(e=qc(e)),e},callback(){let e=this.getSelectedRange(),t=wp(e,(n,o)=>this.getCellMeta(n,o).className),r="horizontal",i="htRight";this.runHooks("beforeCellAlignment",t,e,r,i),eu(e,r,i,(n,o)=>this.getCellMeta(n,o),(n,o,s,a)=>this.setCellMeta(n,o,s,a)),this.render()},disabled:!1},{key:`${Ra}:justify`,name(){let e=this.getTranslatedPhrase(Bx);return Jl(this.getSelectedRange(),(r,i)=>{let n=this.getCellMeta(r,i).className;if(n&&n.indexOf("htJustify")!==-1)return!0})&&(e=qc(e)),e},callback(){let e=this.getSelectedRange(),t=wp(e,(n,o)=>this.getCellMeta(n,o).className),r="horizontal",i="htJustify";this.runHooks("beforeCellAlignment",t,e,r,i),eu(e,r,i,(n,o)=>this.getCellMeta(n,o),(n,o,s,a)=>this.setCellMeta(n,o,s,a)),this.render()},disabled:!1},{name:Oi},{key:`${Ra}:top`,name(){let e=this.getTranslatedPhrase(jx);return Jl(this.getSelectedRange(),(r,i)=>{let n=this.getCellMeta(r,i).className;if(n&&n.indexOf("htTop")!==-1)return!0})&&(e=qc(e)),e},callback(){let e=this.getSelectedRange(),t=wp(e,(n,o)=>this.getCellMeta(n,o).className),r="vertical",i="htTop";this.runHooks("beforeCellAlignment",t,e,r,i),eu(e,r,i,(n,o)=>this.getCellMeta(n,o),(n,o,s,a)=>this.setCellMeta(n,o,s,a)),this.render()},disabled:!1},{key:`${Ra}:middle`,name(){let e=this.getTranslatedPhrase(Vx);return Jl(this.getSelectedRange(),(r,i)=>{let n=this.getCellMeta(r,i).className;if(n&&n.indexOf("htMiddle")!==-1)return!0})&&(e=qc(e)),e},callback(){let e=this.getSelectedRange(),t=wp(e,(n,o)=>this.getCellMeta(n,o).className),r="vertical",i="htMiddle";this.runHooks("beforeCellAlignment",t,e,r,i),eu(e,r,i,(n,o)=>this.getCellMeta(n,o),(n,o,s,a)=>this.setCellMeta(n,o,s,a)),this.render()},disabled:!1},{key:`${Ra}:bottom`,name(){let e=this.getTranslatedPhrase(zx);return Jl(this.getSelectedRange(),(r,i)=>{let n=this.getCellMeta(r,i).className;if(n&&n.indexOf("htBottom")!==-1)return!0})&&(e=qc(e)),e},callback(){let e=this.getSelectedRange(),t=wp(e,(n,o)=>this.getCellMeta(n,o).className),r="vertical",i="htBottom";this.runHooks("beforeCellAlignment",t,e,r,i),eu(e,r,i,(n,o)=>this.getCellMeta(n,o),(n,o,s,a)=>this.setCellMeta(n,o,s,a)),this.render()},disabled:!1}]}}}var I0="clear_column";function C8(){return{key:I0,name(){return this.getTranslatedPhrase(wx)},callback(e,t){let r=t[0].start.col,i=t[0].end.col;this.countRows()&&this.populateFromArray(0,r,[[null]],Math.max(t[0].start.row,t[0].end.row),i,"ContextMenu.clearColumn")},disabled(){let e=this.getSelectedRangeLast();return!e||e.isSingleHeader()&&e.highlight.col<0?!0:!this.selection.isSelectedByColumnHeader()}}}var _f="col_left";function x8(){return{key:_f,name(){return this.getTranslatedPhrase(mx)},callback(){let e=this.getSelectedRangeLast().getTopLeftCorner(),t=this.isRtl()?"insert_col_end":"insert_col_start";this.alter(t,e.col,1,"ContextMenu.columnLeft")},disabled(){if(!this.isColumnModificationAllowed())return!0;let e=this.getSelectedRangeLast();return!e||e.isSingleHeader()&&e.highlight.col<0?!0:this.selection.isSelectedByCorner()?this.countCols()===0:this.selection.isSelectedByRowHeader()||this.countCols()>=this.getSettings().maxCols},hidden(){return!this.getSettings().allowInsertColumn}}}var wf="col_right";function S8(){return{key:wf,name(){return this.getTranslatedPhrase(px)},callback(){let e=this.getSelectedRangeLast().getTopRightCorner(),t=this.isRtl()?"insert_col_start":"insert_col_end";this.alter(t,e.col,1,"ContextMenu.columnRight")},disabled(){if(!this.isColumnModificationAllowed())return!0;let e=this.getSelectedRangeLast();return!e||e.isSingleHeader()&&e.highlight.col<0?!0:this.selection.isSelectedByCorner()?!1:this.selection.isSelectedByRowHeader()||this.countCols()>=this.getSettings().maxCols},hidden(){return!this.getSettings().allowInsertColumn}}}var Cf="make_read_only";function E8(){return{key:Cf,name(){let e=this.getTranslatedPhrase(_x);return Jl(this.getSelectedRange(),(r,i)=>this.getCellMeta(r,i).readOnly)&&(e=qc(e)),e},callback(){let e=this.getSelectedRange(),t=Jl(e,(r,i)=>this.getCellMeta(r,i).readOnly);St(e,r=>{r.forAll((i,n)=>{i>=0&&n>=0&&this.setCellMeta(i,n,"readOnly",!t)})}),this.render()},disabled(){let e=this.getSelectedRangeLast();return!!(!e||e.isSingleHeader()||this.selection.isSelectedByCorner()||this.countRows()===0||this.countCols()===0||!this.getSelectedRange()||this.getSelectedRange().length===0)}}}var k0="redo";function R8(){return{key:k0,name(){return this.getTranslatedPhrase(yx)},callback(){this.redo()},hidden(){let e=this.getPlugin("undoRedo");return!e||!e.isEnabled()},disabled(){return!this.getPlugin("undoRedo").isRedoAvailable()}}}var xf="remove_col";function T8(){return{key:xf,name(){let e=this.getSelected(),t=0;if(e)if(e.length>1)t=1;else{let[,r,,i]=e[0];r-i!==0&&(t=1)}return this.getTranslatedPhrase(bx,t)},callback(){this.alter("remove_col",DZ(this),null,"ContextMenu.removeColumn")},disabled(){if(!this.isColumnModificationAllowed())return!0;let e=this.getSelectedRangeLast();if(!e||e.isSingleHeader()&&e.highlight.col<0)return!0;let t=this.countCols();return this.selection.isSelectedByCorner()?t===0:this.selection.isSelectedByRowHeader()||t===0},hidden(){return!this.getSettings().allowRemoveColumn}}}var D0="remove_row";function M8(){return{key:D0,name(){let e=this.getSelected(),t=0;if(e)if(e.length>1)t=1;else{let[r,,i]=e[0];r-i!==0&&(t=1)}return this.getTranslatedPhrase(gx,t)},callback(){this.alter("remove_row",OZ(this),1,"ContextMenu.removeRow")},disabled(){let e=this.getSelectedRangeLast();if(!e||e.isSingleHeader()&&e.highlight.row<0)return!0;let t=this.countRows();return this.selection.isSelectedByCorner()?t===0:this.selection.isSelectedByColumnHeader()||t===0},hidden(){return!this.getSettings().allowRemoveRow}}}var O0="row_above";function A8(){return{key:O0,name(){return this.getTranslatedPhrase(ux)},callback(){let e=this.getSelectedRangeLast().getTopLeftCorner();this.alter("insert_row_above",e.row,1,"ContextMenu.rowAbove")},disabled(){let e=this.getSelectedRangeLast();return!e||e.isSingleHeader()&&e.highlight.row<0?!0:this.selection.isSelectedByCorner()?this.countRows()===0:this.selection.isSelectedByColumnHeader()||this.countRows()>=this.getSettings().maxRows},hidden(){return!this.getSettings().allowInsertRow}}}var P0="row_below";function I8(){return{key:P0,name(){return this.getTranslatedPhrase(fx)},callback(){let e=this.getSelectedRangeLast().getBottomRightCorner();this.alter("insert_row_below",e.row,1,"ContextMenu.rowBelow")},disabled(){let e=this.getSelectedRangeLast();return!e||e.isSingleHeader()&&e.highlight.row<0?!0:this.selection.isSelectedByCorner()?!1:this.selection.isSelectedByColumnHeader()||this.countRows()>=this.getSettings().maxRows},hidden(){return!this.getSettings().allowInsertRow}}}var Cp="no_items";function k8(){return{key:Cp,name(){return this.getTranslatedPhrase(hx)},disabled:!0,isCommand:!1}}var N0="undo";function D8(){return{key:N0,name(){return this.getTranslatedPhrase(vx)},callback(){this.undo()},hidden(){let e=this.getPlugin("undoRedo");return!e||!e.isEnabled()},disabled(){return!this.getPlugin("undoRedo").isUndoAvailable()}}}var Rtt=[O0,P0,_f,wf,I0,D0,xf,N0,k0,Cf,Ra,Oi,Cp],bTt={[Oi]:_8,[Cp]:k8,[O0]:A8,[P0]:I8,[_f]:x8,[wf]:S8,[I0]:C8,[D0]:M8,[xf]:T8,[N0]:D8,[k0]:R8,[Cf]:E8,[Ra]:w8};function SI(){let e={};return bi(bTt,(t,r)=>{e[r]=t()}),e}function O8(e){return{key:"commentsAddEdit",name(){var t;let r=(t=this.getSelectedRangeLast())===null||t===void 0?void 0:t.highlight;return r!=null&&r.isCell()&&e.getCommentAtCell(r.row,r.col)?this.getTranslatedPhrase(Dx):this.getTranslatedPhrase(kx)},callback(){let t=this.getSelectedRangeLast();e.setRange(t),e.show(),e.focusEditor()},disabled(){let t=this.getSelectedRangeLast();return!!(!t||t.highlight.isHeader()||this.selection.isEntireRowSelected()&&this.selection.isEntireColumnSelected()||this.countRenderedRows()===0||this.countRenderedCols()===0)}}}function P8(e){return{key:"commentsRemove",name(){return this.getTranslatedPhrase(Ox)},callback(){this.getSelectedRangeLast().forAll((r,i)=>{r>=0&&i>=0&&e.removeCommentAtCell(r,i,!1)}),this.render()},disabled(){let t=this.getSelectedRangeLast();return!!(!t||t.highlight.isHeader()||this.selection.isEntireRowSelected()&&this.selection.isEntireColumnSelected()||this.countRenderedRows()===0||this.countRenderedCols()===0)}}}function N8(e){return{key:"commentsReadOnly",name(){let t=this.getTranslatedPhrase(Px);return Jl(this.getSelectedRange(),(i,n)=>e.getCommentMeta(i,n,uS))?qc(t):t},callback(){this.getSelectedRangeLast().forAll((r,i)=>{if(r>=0&&i>=0){let n=!!e.getCommentMeta(r,i,uS);e.updateCommentMeta(r,i,{[uS]:!n})}})},disabled(){let t=this.getSelectedRangeLast();return!!(!t||t.highlight.isHeader()||!e.getCommentAtCell(t.highlight.row,t.highlight.col)||this.selection.isEntireRowSelected()&&this.selection.isEntireColumnSelected()||this.countRenderedRows()===0||this.countRenderedCols()===0)}}}function vTt(e,t){Ttt(e,t),t.add(e)}function L0(e,t,r){Ttt(e,t),t.set(e,r)}function Ttt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function yTt(e,t,r){return t=_Tt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Tt(e){var t=wTt(e,"string");return typeof t=="symbol"?t:t+""}function wTt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ef(e,t,r){return e.set(Gc(e,t),r),r}function Rr(e,t){return e.get(Gc(e,t))}function Gc(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var u_="comments",Mtt=60,Sf="comment",fS="value",Att="style",uS="readOnly",EI=u_,L8=`plugin:${u_}`,Zn=new WeakMap,Hd=new WeakMap,AI=new WeakMap,RI=new WeakMap,TI=new WeakMap,F8=new WeakMap,MI=new WeakMap,Fd=new WeakSet,mS=class extends vi{constructor(){super(...arguments),vTt(this,Fd),yTt(this,"range",{}),L0(this,Zn,null),L0(this,Hd,null),L0(this,AI,!1),L0(this,RI,!1),L0(this,TI,{}),L0(this,F8,null),L0(this,MI,"")}static get PLUGIN_KEY(){return u_}static get PLUGIN_PRIORITY(){return Mtt}isEnabled(){return!!this.hot.getSettings()[u_]}enablePlugin(){this.enabled||(Rr(Zn,this)||Ef(Zn,this,new Stt(this.hot.rootDocument,this.hot.isRtl())),Rr(Hd,this)||Ef(Hd,this,new Ett(this.getDisplayDelaySetting())),this.addHook("afterContextMenuDefaultOptions",t=>this.addToContextMenu(t)),this.addHook("afterRenderer",(t,r,i,n,o,s)=>Gc(Fd,this,ETt).call(this,t,s)),this.addHook("afterScroll",()=>Gc(Fd,this,kTt).call(this)),this.addHook("afterBeginEditing",()=>this.hide()),this.addHook("afterDocumentKeyDown",t=>Gc(Fd,this,ITt).call(this,t)),Rr(Hd,this).addLocalHook("hide",()=>this.hide()),Rr(Hd,this).addLocalHook("show",(t,r)=>this.showAtCell(t,r)),this.registerShortcuts(),this.registerListeners(),super.enablePlugin())}updatePlugin(){Rr(Hd,this).updateDelay(this.getDisplayDelaySetting()),super.updatePlugin()}disablePlugin(){this.unregisterShortcuts(),super.disablePlugin()}registerShortcuts(){let t=this.hot.getShortcutManager(),r=t.getContext("grid"),i=t.addContext(L8);r.addShortcut({keys:[["Control","Alt","M"]],callback:()=>{let n=this.hot.getSelectedRangeLast();Ef(RI,this,!0),this.hot.scrollToFocusedCell(()=>{this.setRange(n),this.show(),this.focusEditor(),t.setActiveContextName(L8),this.hot._registerTimeout(()=>{Ef(RI,this,!1)})})},stopPropagation:!0,runOnlyIf:()=>{var n;return((n=this.hot.getSelectedRangeLast())===null||n===void 0?void 0:n.highlight.isCell())&&!Rr(Zn,this).isVisible()},group:EI}),i.addShortcut({keys:[["Escape"]],callback:()=>{Rr(Zn,this).setValue(Rr(MI,this)),this.hide(),t.setActiveContextName("grid")},runOnlyIf:()=>Rr(Zn,this).isVisible()&&Rr(Zn,this).isFocused(),group:EI}),i.addShortcut({keys:[["Control/Meta","Enter"]],callback:()=>{this.hide(),t.setActiveContextName("grid")},runOnlyIf:()=>Rr(Zn,this).isVisible()&&Rr(Zn,this).isFocused(),group:EI})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(EI)}registerListeners(){let{rootDocument:t}=this.hot,r=this.getEditorInputElement();this.eventManager.addEventListener(t,"mouseover",i=>Gc(Fd,this,xTt).call(this,i)),this.eventManager.addEventListener(t,"mousedown",i=>Gc(Fd,this,CTt).call(this,i)),this.eventManager.addEventListener(t,"mouseup",()=>Gc(Fd,this,STt).call(this)),this.eventManager.addEventListener(r,"focus",()=>Gc(Fd,this,TTt).call(this)),this.eventManager.addEventListener(r,"blur",()=>Gc(Fd,this,RTt).call(this)),this.eventManager.addEventListener(r,"mousedown",i=>Gc(Fd,this,MTt).call(this,i)),this.eventManager.addEventListener(r,"mouseup",i=>Gc(Fd,this,ATt).call(this,i))}setRange(t){this.range=t}clearRange(){this.range={}}targetIsCellWithComment(t){let r=Sd(t.target,"TD","TBODY");return!!(r&&Xe(r,"htCommentCell")&&Sd(r,[this.hot.rootElement]))}targetIsCommentTextArea(t){return this.getEditorInputElement()===t.target}setComment(t){if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');let r=Rr(Zn,this).getValue(),i="";t!=null?i=t:r!=null&&(i=r);let n=this.range.from.row,o=this.range.from.col;this.updateCommentMeta(n,o,{[fS]:i}),this.hot.render()}setCommentAtCell(t,r,i){this.setRange({from:this.hot._createCellCoords(t,r)}),this.setComment(i)}removeComment(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');this.hot.setCellMeta(this.range.from.row,this.range.from.col,Sf),t&&this.hot.render(),this.hide()}removeCommentAtCell(t,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;this.setRange({from:this.hot._createCellCoords(t,r)}),this.removeComment(i)}getComment(){let t=this.range.from.row,r=this.range.from.col;return this.getCommentMeta(t,r,fS)}getCommentAtCell(t,r){return this.getCommentMeta(t,r,fS)}show(){var t;if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');let{from:{row:r,col:i}}=this.range;if(r<0||r>this.hot.countSourceRows()-1||i<0||i>this.hot.countSourceCols()-1)return!1;let n=this.hot.getCellMeta(this.range.from.row,this.range.from.col);return Rr(Hd,this).cancelHiding(),Rr(Zn,this).setValue((t=n[Sf]?n[Sf][fS]:null)!==null&&t!==void 0?t:""),Rr(Zn,this).show(),this.refreshEditor(!0),!0}showAtCell(t,r){return this.setRange({from:this.hot._createCellCoords(t,r)}),this.show()}hide(){Rr(Zn,this).hide()}refreshEditor(){var t,r;if(!(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&(!this.range.from||!Rr(Zn,this).isVisible()))return;let{rowIndexMapper:n,columnIndexMapper:o}=this.hot,{row:s,col:a}=this.range.from,l=n.getRenderableFromVisualIndex(s),c=o.getRenderableFromVisualIndex(a),d=l===null;Rr(Zn,this).setPosition(0,0),l===null&&(l=n.getRenderableFromVisualIndex(n.getNearestNotHiddenIndex(s,-1))),c===null&&(c=o.getRenderableFromVisualIndex(o.getNearestNotHiddenIndex(a,-1)));let h=l===null,u=c===null;l=(t=l)!==null&&t!==void 0?t:0,c=(r=c)!==null&&r!==void 0?r:0;let{rootWindow:f,view:{_wt:m}}=this.hot,{wtTable:g}=m,p=m.getCell({row:l,col:c},!0),b=this.getCommentMeta(s,a,Att);b?Rr(Zn,this).setSize(b.width,b.height):Rr(Zn,this).resetSize();let _=u?0:g.getStretchedColumnWidth(c),E=d&&!h?Nr(p):0,{left:O,top:V,width:H,height:F}=p.getBoundingClientRect(),{width:L,height:q}=Rr(Zn,this).getSize(),{innerWidth:W,innerHeight:x}=this.hot.rootWindow,R=this.hot.rootDocument.documentElement,j=O+f.scrollX+_,v=V+f.scrollY+E;this.hot.isRtl()&&(j-=L+_),this.hot.isLtr()&&O+H+L>W?j=O+f.scrollX-L-1:this.hot.isRtl()&&j<-(R.scrollWidth-R.clientWidth)&&(j=O+f.scrollX+_+1),V+q>x&&(v-=q-F+1),Rr(Zn,this).setPosition(j,v),Rr(Zn,this).setReadOnlyState(this.getCommentMeta(s,a,uS))}focusEditor(){Rr(Zn,this).focus()}updateCommentMeta(t,r,i){let n=this.hot.getCellMeta(t,r)[Sf],o;n?(o=jo(n),Jg(o,i)):o=i,this.hot.setCellMeta(t,r,Sf,o)}getCommentMeta(t,r,i){let n=this.hot.getCellMeta(t,r);if(n[Sf])return n[Sf][i]}addToContextMenu(t){t.items.push({name:Oi},O8(this),P8(this),N8(this))}getDisplayDelaySetting(){let t=this.hot.getSettings()[u_];if(gi(t))return t.displayDelay}getEditorInputElement(){return Rr(Zn,this).getInputElement()}destroy(){Rr(Zn,this)&&Rr(Zn,this).destroy(),Rr(Hd,this)&&Rr(Hd,this).destroy(),super.destroy()}};function CTt(e){if(!(!this.hot.view||!this.hot.view._wt)&&!Rr(AI,this)&&!this.targetIsCommentTextArea(e)){let t=Sd(e.target,"TD","TBODY"),r=null;t&&(r=this.hot.getCoords(t)),(!t||this.range.from&&r&&(this.range.from.row!==r.row||this.range.from.col!==r.col))&&this.hide()}}function xTt(e){let{rootDocument:t}=this.hot;if(!(Rr(AI,this)||Rr(Zn,this).isFocused()||Xe(e.target,"wtBorder")||Rr(F8,this)===e.target||!Rr(Zn,this)))if(Ef(F8,this,t.elementFromPoint(e.clientX,e.clientY)),this.targetIsCellWithComment(e)){let r=this.hot._createCellRange(this.hot.getCoords(e.target));Rr(Hd,this).show(r)}else Ed(e.target,t)&&!this.targetIsCommentTextArea(e)&&Rr(Hd,this).hide()}function STt(){Ef(AI,this,!1)}function ETt(e,t){t[Sf]&&t[Sf][fS]&&re(e,t.commentedCellClassName)}function RTt(){Ef(MI,this,""),this.hot.getShortcutManager().setActiveContextName("grid"),this.setComment()}function TTt(){Ef(MI,this,this.getComment()),this.hot.listen(),this.hot.getShortcutManager().setActiveContextName(L8)}function MTt(e){Ef(TI,this,{width:yr(e.target),height:Nr(e.target)})}function ATt(e){let t=yr(e.target),r=Nr(e.target);(t!==Rr(TI,this).width+1||r!==Rr(TI,this).height+2)&&this.updateCommentMeta(this.range.from.row,this.range.from.col,{[Att]:{width:t,height:r}})}function ITt(e){Rr(Zn,this).isVisible()&&Vo(e)}function kTt(){Rr(RI,this)||this.hide()}var Bye=ot(qt(),1);var kve=ot(qt(),1),Dve=ot(_e(),1),Ove=ot(Ott(),1);function H8(e,t,r){return t=zTt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zTt(e){var t=UTt(e,"string");return typeof t=="symbol"?t:t+""}function UTt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var f_=class{constructor(t){H8(this,"hot",void 0),H8(this,"commands",{}),H8(this,"commonCallback",null),this.hot=t}registerCommand(t,r){this.commands[t]=r}setCommonCallback(t){this.commonCallback=t}execute(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),n=1;n<r;n++)i[n-1]=arguments[n];let o=t.split(":"),s=o[0],a=o.length===2?o[1]:null,l=this.commands[s];if(!l)throw new Error(`Menu command '${s}' not exists.`);if(a&&l.submenu&&(l=WTt(a,l.submenu.items)),l.disabled===!0||typeof l.disabled=="function"&&l.disabled.call(this.hot)===!0||en(l,"submenu"))return;let c=[];typeof l.callback=="function"&&c.push(l.callback),typeof this.commonCallback=="function"&&c.push(this.commonCallback),i.unshift(o.join(":")),St(c,d=>d.apply(this.hot,i))}};function WTt(e,t){let r;return St(t,i=>{let n=i.key?i.key.split(":"):null;if(Array.isArray(n)&&n[1]===e)return r=i,!1}),r}var Fve=ot(qt(),1),Hve=ot(_e(),1);function B8(e,t,r){return t=YTt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YTt(e){var t=$Tt(e,"string");return typeof t=="symbol"?t:t+""}function $Tt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var m_=class{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;B8(this,"hot",void 0),B8(this,"predefinedItems",SI()),B8(this,"defaultOrderPattern",void 0),this.hot=t,this.defaultOrderPattern=r}setPredefinedItems(t){let r={};this.defaultOrderPattern.length=0,bi(t,(i,n)=>{let o="";i.name===Oi?(r[Oi]=i,o=Oi):isNaN(parseInt(n,10))?(i.key=i.key===void 0?n:i.key,r[n]=i,o=i.key):(r[i.key]=i,o=i.key),this.defaultOrderPattern.push(o)}),this.predefinedItems=r}getItems(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return qTt(t,this.defaultOrderPattern,this.predefinedItems)}};function qTt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=[],n=e;return n&&n.items?n=n.items:Array.isArray(n)||(n=t),gi(n)?bi(n,(o,s)=>{let a=r[typeof o=="string"?o:s];a||(a=o),gi(o)?zr(a,o):typeof a=="string"&&(a={name:a}),a.key===void 0&&(a.key=s),i.push(a)}):St(n,(o,s)=>{let a=r[o];!a&&Rtt.indexOf(o)>=0||(a||(a={name:o,key:`${s}`}),gi(o)&&zr(a,o),a.key===void 0&&(a.key=s),i.push(a))}),i}var _ye=ot(qt(),1),wye=ot(_e(),1);var Yve=ot(qt(),1);var Uve=ot(qt(),1);function xp(e,t,r){return t=GTt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GTt(e){var t=KTt(e,"string");return typeof t=="symbol"?t:t+""}function KTt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var II=class{constructor(t,r){xp(this,"top",void 0),xp(this,"topRelative",void 0),xp(this,"left",void 0),xp(this,"leftRelative",void 0),xp(this,"scrollTop",void 0),xp(this,"scrollLeft",void 0),xp(this,"cellHeight",void 0),xp(this,"cellWidth",void 0);let i=r.scrollY,n=r.scrollX,o,s,a,l,c,d;this.rootWindow=r,this.type=this.getSourceType(t),this.type==="literal"?(o=parseInt(t.top,10),a=parseInt(t.left,10),c=t.height||0,d=t.width||0,s=o,l=a,o+=i,a+=n):this.type==="event"&&(o=parseInt(t.pageY,10),a=parseInt(t.pageX,10),c=t.target.clientHeight,d=t.target.clientWidth,s=o-i,l=a-n),this.top=o,this.topRelative=s,this.left=a,this.leftRelative=l,this.scrollTop=i,this.scrollLeft=n,this.cellHeight=c,this.cellWidth=d}getSourceType(t){let r="literal";return t instanceof Event&&(r="event"),r}fitsAbove(t){return this.topRelative>=t.offsetHeight}fitsBelow(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.rootWindow.innerHeight;return this.topRelative+t.offsetHeight<=r}fitsOnRight(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.rootWindow.innerWidth;return this.leftRelative+this.cellWidth+t.offsetWidth<=r}fitsOnLeft(t){return this.leftRelative>=t.offsetWidth}};function pS(e,t,r){XTt(e,t),t.set(e,r)}function XTt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ir(e,t){return e.get(Ptt(e,t))}function kI(e,t,r){return e.set(Ptt(e,t),r),r}function Ptt(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var qa=new WeakMap,Sp=new WeakMap,aa=new WeakMap,j8=new WeakMap,p_=new WeakMap,DI=class{constructor(t){pS(this,qa,void 0),pS(this,Sp,void 0),pS(this,aa,void 0),pS(this,j8,!1),pS(this,p_,{above:0,below:0,left:0,right:0}),kI(j8,this,t)}setOffset(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Ir(p_,this)[t]=r,this}setElement(t){return kI(qa,this,t),this}setParentElement(t){return kI(Sp,this,t),this}updatePosition(t){kI(aa,this,new II(t,Ir(qa,this).ownerDocument.defaultView)),Ir(j8,this)?(Ir(aa,this).fitsBelow(Ir(qa,this))?this.setPositionBelowCursor():Ir(aa,this).fitsAbove(Ir(qa,this))?this.setPositionAboveCursor():this.setPositionBelowCursor(),this.updateHorizontalPosition()):(this.setPositionBelowCursor(),this.setPositionOnRightOfCursor())}updateHorizontalPosition(){Ir(qa,this).dir==="rtl"?Ir(aa,this).fitsOnLeft(Ir(qa,this))?this.setPositionOnLeftOfCursor():this.setPositionOnRightOfCursor():Ir(aa,this).fitsOnRight(Ir(qa,this))?this.setPositionOnRightOfCursor():this.setPositionOnLeftOfCursor()}setPositionAboveCursor(){let t=Ir(p_,this).above+Ir(aa,this).top-Ir(qa,this).offsetHeight;Ir(Sp,this)&&(t=Ir(aa,this).top+Ir(aa,this).cellHeight-Ir(qa,this).offsetHeight+3),Ir(qa,this).style.top=`${t}px`}setPositionBelowCursor(){let t=Ir(p_,this).below+Ir(aa,this).top+1;Ir(Sp,this)&&(t=Ir(aa,this).top-1),Ir(qa,this).style.top=`${t}px`}setPositionOnRightOfCursor(){let t=Ir(aa,this).left;if(Ir(Sp,this)){let{right:r}=Ir(Sp,this).getBoundingClientRect();t+=Ir(aa,this).cellWidth+r-(Ir(aa,this).left+Ir(aa,this).cellWidth)}else t+=Ir(p_,this).right;Ir(qa,this).style.left=`${t}px`}setPositionOnLeftOfCursor(){let t=Ir(p_,this).left+Ir(aa,this).left-Ir(qa,this).offsetWidth;if(Ir(Sp,this)){let{left:r}=Ir(Sp,this).getBoundingClientRect();t-=Ir(aa,this).left-r}Ir(qa,this).style.left=`${t}px`}};var Gve=ot(yn(),1),Kve=ot(_n(),1),Xve=ot(wn(),1),Zve=ot(Cn(),1),Qve=ot(xn(),1),Jve=ot(Sn(),1),tye=ot(En(),1);function OI(e){let{initialPage:t=-1,size:r=()=>0,onItemSelect:i=()=>{},onClear:n=()=>{}}=e,o=new Set,s=qr(t,-1,m()-1);function a(p,b){let _=m()-1;return p<0&&(p=_),p>_&&(p=0),o.has(p)?-1:(o.add(p),i(p,!1)===!1&&(p=a(b===1?++p:--p,b)),p)}function l(p){p>-1&&p<m()&&i(p,!0)!==!1&&(s=p)}function c(){return s}function d(){m()>0&&(o.clear(),s=a(0,1))}function h(){m()>0&&(o.clear(),s=a(m()-1,-1))}function u(){m()>0&&(o.clear(),s=a(++s,1))}function f(){m()>0&&(o.clear(),s=a(--s,-1))}function m(){return Math.max(r(),0)}function g(){o.clear(),s=t,n()}return{setCurrentPage:l,getCurrentPage:c,toFirstItem:d,toLastItem:h,toNextItem:u,toPreviousItem:f,getSize:m,clear:g}}var rye=ot(_e(),1);function Ntt(e){return Ci(e,t=>({start:t.getTopStartCorner(),end:t.getBottomEndCorner()}))}function gS(e){return en(e,"submenu")}function bS(e){return new RegExp(Oi,"i").test(e.name)}function g_(e,t){return e.disabled===!0||typeof e.disabled=="function"&&e.disabled.call(t)===!0}function V8(e){return en(e,"disableSelection")}function Ltt(e){return Xe(e,"htSeparator")}function Ftt(e){return Xe(e,"htSubmenu")}function Htt(e){return Xe(e,"htDisabled")}function Btt(e){return Xe(e,"htSelectionDisabled")}function jtt(e,t){return!e.hidden||!(typeof e.hidden=="function"&&e.hidden.call(t))}function Vtt(e,t){let r=e.slice(0);for(let i=0;i<r.length&&r[i].name===t;)r.shift();return r}function ZTt(e,t){let r=e.slice(0);return r.reverse(),r=Vtt(r,t),r.reverse(),r}function QTt(e){let t=[];return St(e,(r,i)=>{i>0?t[t.length-1].name!==r.name&&t.push(r):t.push(r)}),t}function ztt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Oi,r=e.slice(0);return r=Vtt(r,t),r=ZTt(r,t),r=QTt(r),r}function Utt(e){return OI({size:()=>e.countRows(),onItemSelect(t,r){let i=e.getCell(t,0);if(!i||Ltt(i)||Htt(i)||Btt(i))return!1;e.selectCell(t,0,...r?[t,0,!1,!1]:[])},onClear(){e.deselectCell()}})}var fye=ot(_e(),1);function Wtt(e){let{hot:t,hotMenu:r}=e;return[{keys:[["Control/Meta","A"]],forwardToContext:t.getShortcutManager().getContext("grid"),callback:()=>e.close(!0)},{keys:[["Tab"],["Shift","Tab"]],callback:(i,n)=>{let o=t.getSettings(),s=typeof o.tabMoves=="function"?o.tabMoves(i):o.tabMoves;n.includes("shift")?t.selection.transformStart(-s.row,-s.col):t.selection.transformStart(s.row,s.col),e.close(!0)}},{keys:[["Escape"]],callback:()=>e.close()},{keys:[["ArrowDown"]],callback:()=>e.getNavigator().toNextItem()},{keys:[["ArrowUp"]],callback:()=>e.getNavigator().toPreviousItem()},{keys:[["ArrowRight"]],callback:()=>{let i=r.getSelectedLast();if(i){let n=e.openSubMenu(i[0]);n&&n.getNavigator().toFirstItem()}}},{keys:[["ArrowLeft"]],callback:()=>{r.getSelectedLast()&&e.isSubMenu()&&(e.close(),e.isSubMenu()&&e.parentMenu.hotMenu.listen())}},{keys:[["Control/Meta","ArrowUp"],["Home"]],callback:()=>e.getNavigator().toFirstItem()},{keys:[["Control/Meta","ArrowDown"],["End"]],callback:()=>e.getNavigator().toLastItem()},{keys:[["Enter"],["Space"]],callback:i=>{let n=r.getSelectedLast();n&&(r.getSourceDataAtRow(n[0]).submenu?e.openSubMenu(n[0]).getNavigator().toFirstItem():(e.executeCommand(i),e.close(!0)))}},{keys:[["PageUp"]],callback:()=>{r.getSelectedLast()?r.selection.transformStart(-r.countVisibleRows(),0):e.getNavigator().toFirstItem()}},{keys:[["PageDown"]],callback:()=>{r.getSelectedLast()?r.selection.transformStart(r.countVisibleRows(),0):e.getNavigator().toLastItem()}}]}var $tt="menu",Ytt=$tt;function qtt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=[];i(Wtt(e)),t.forEach(c=>{let{shortcuts:d,contextName:h}=c;n(d,h)});function i(c,d){a(d).addShortcuts(c,{group:$tt})}function n(c,d){let h=a(d);c.forEach(u=>{let{keys:f}=u;f.forEach(m=>h.removeShortcutsByKeys(m))}),r.push({shortcuts:c,contextName:d}),i(c,d)}function o(){return[...r]}function s(c){return c?`${Ytt}:${c}`:Ytt}function a(c){var d;let h=e.hotMenu.getShortcutManager(),u=s(c);return(d=h.getContext(u))!==null&&d!==void 0?d:h.addContext(u)}function l(c){e.hotMenu.getShortcutManager().setActiveContextName(s(c))}return{addCustomShortcuts:n,getCustomShortcuts:o,getContext:a,listen:l}}function Gtt(e){return(t,r,i,n,o,s)=>{if(r.hasAttribute("ghost-table"))return;let a=t.getSourceDataAtRow(i),l=e.rootDocument.createElement("div"),c=typeof s=="function"?s.call(e):s;if(Ns(r),re(l,"htItemWrapper"),e.getSettings().ariaTags){let d=!g_(a,e)&&!V8(a)&&!bS(a);Ke(r,[kG(),Xv(c),...d?[Ic(-1)]:[],...g_(a,e)?[HG()]:[],...gS(a)?[oa(!1)]:[]])}r.className="",r.appendChild(l),bS(a)?re(r,"htSeparator"):typeof a.renderer=="function"?(re(r,"htCustomMenuRenderer"),r.appendChild(a.renderer(t,l,i,n,o,c))):Oc(l,c),g_(a,e)?re(r,"htDisabled"):V8(a)?re(r,"htSelectionDisabled"):gS(a)&&re(r,"htSubmenu")}}function Ktt(e,t,r){JTt(e,t),t.set(e,r)}function JTt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function iu(e,t,r){return t=t5t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t5t(e){var t=e5t(e,"string");return typeof t=="symbol"?t:t+""}function e5t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xtt(e,t,r){return e.set(Qtt(e,t),r),r}function vS(e,t){return e.get(Qtt(e,t))}function Qtt(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var Ztt=215,yS=new WeakMap,PI=new WeakMap,Rf=class e{constructor(t,r){var i=this;iu(this,"hot",void 0),iu(this,"options",void 0),iu(this,"eventManager",new Qo(this)),iu(this,"container",void 0),iu(this,"positioner",void 0),iu(this,"hotMenu",null),iu(this,"hotSubMenus",{}),iu(this,"parentMenu",void 0),iu(this,"menuItems",null),iu(this,"origOutsideClickDeselects",null),Ktt(this,yS,void 0),Ktt(this,PI,void 0),this.hot=t,this.options=r||{parent:null,name:null,className:"",keepInViewport:!0,standalone:!1,minWidth:Ztt,container:this.hot.rootDocument.documentElement},this.container=this.createContainer(this.options.name),this.positioner=new DI(this.options.keepInViewport),this.parentMenu=this.options.parent||null,this.registerEvents(),this.isSubMenu()&&this.addLocalHook("afterSelectionChange",function(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return i.parentMenu.runLocalHooks("afterSelectionChange",...o)})}registerEvents(){let t=this.hot.rootWindow;for(;t;)this.eventManager.addEventListener(t.document,"mousedown",r=>this.onDocumentMouseDown(r)),this.eventManager.addEventListener(t.document,"contextmenu",r=>this.onDocumentContextMenu(r)),t=Hh(t)}setMenuItems(t){this.menuItems=t}getNavigator(){return vS(yS,this)}getKeyboardShortcutsCtrl(){return vS(PI,this)}getSelectedItem(){return this.hasSelectedItem()?this.hotMenu.getSourceDataAtRow(this.hotMenu.getSelectedLast()[0]):null}hasSelectedItem(){return Array.isArray(this.hotMenu.getSelectedLast())}isSubMenu(){return this.parentMenu!==null}open(){this.runLocalHooks("beforeOpen"),this.container.removeAttribute("style"),this.container.style.display="block";let t=ry(a=>this.openSubMenu(a),300),r=this.options.minWidth||Ztt,i=!1,n=ds(this.menuItems,a=>(a.key===Cp&&(i=!0),jtt(a,this.hot)));if(n.length<1&&!i)n.push(SI()[Cp]);else if(n.length===0)return;n=ztt(n,Oi);let o=!1,s={data:n,colHeaders:!1,autoColumnSize:!0,autoWrapRow:!1,modifyColWidth(a){return Ne(a)&&a<r?r:a},autoRowSize:!1,readOnly:!0,editor:!1,copyPaste:!1,hiddenRows:!0,maxCols:1,columns:[{data:"name",renderer:Gtt(this.hot)}],renderAllRows:!0,fragmentSelection:!1,outsideClickDeselects:!1,disableVisualSelection:"area",layoutDirection:this.hot.isRtl()?"rtl":"ltr",ariaTags:!1,beforeOnCellMouseOver:(a,l)=>{vS(yS,this).setCurrentPage(l.row)},afterOnCellMouseOver:(a,l)=>{this.isAllSubMenusClosed()?t(l.row):this.openSubMenu(l.row)},rowHeights:a=>n[a].name===Oi?1:23,afterOnCellContextMenu:a=>{a.preventDefault(),_N()&&o&&this.hasSelectedItem()&&this.close(!0)},afterSelection:(a,l,c,d,h)=>{this.hotMenu.view.isMouseDown()&&(h.value=!0),this.runLocalHooks("afterSelectionChange",this.getSelectedItem())},beforeOnCellMouseUp:a=>{this.hasSelectedItem()&&(o=!this.isCommandPassive(this.getSelectedItem()),this.executeCommand(a))},afterOnCellMouseUp:a=>{(!_N()||!Gl(a))&&o&&this.hasSelectedItem()&&(ql()||EM()?this.hot._registerTimeout(()=>this.close(!0),325):this.close(!0))},afterUnlisten:()=>{!this.hasSelectedItem()&&this.isOpened()&&this.hotMenu.listen()}};this.origOutsideClickDeselects=this.hot.getSettings().outsideClickDeselects,this.hot.getSettings().outsideClickDeselects=!1,this.hotMenu=new this.hot.constructor(this.container,s),this.hotMenu.addHook("afterInit",()=>this.onAfterInit()),this.hotMenu.init(),Xtt(yS,this,Utt(this.hotMenu)),Xtt(PI,this,qtt(this)),vS(PI,this).listen(),this.focus(),this.isSubMenu()&&this.addLocalHook("afterOpen",()=>this.parentMenu.runLocalHooks("afterSubmenuOpen",this)),this.runLocalHooks("afterOpen",this)}close(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.isOpened()){if(t&&this.isSubMenu())this.parentMenu.close();else if(vS(yS,this).clear(),this.closeAllSubMenus(),this.container.style.display="none",this.hotMenu.destroy(),this.hotMenu=null,this.hot.getSettings().outsideClickDeselects=this.origOutsideClickDeselects,this.runLocalHooks("afterClose"),this.isSubMenu()){if(this.hot.getSettings().ariaTags){let r=this.parentMenu.hotMenu.getSelectedLast();if(r){let i=this.parentMenu.hotMenu.getCell(r[0],0);Ke(i,[oa(!1)])}}this.parentMenu.hotMenu.listen()}}}openSubMenu(t){if(!this.hotMenu)return!1;let r=this.hotMenu.getCell(t,0);if(this.closeAllSubMenus(),!r||!Ftt(r))return!1;let i=this.hotMenu.getSourceDataAtRow(t),n=new e(this.hot,{parent:this,name:i.name,className:this.options.className,keepInViewport:!0,container:this.options.container});return n.setMenuItems(i.submenu.items),n.open(),n.setPosition(r.getBoundingClientRect()),this.hotSubMenus[i.key]=n,this.hot.getSettings().ariaTags&&Ke(r,[oa(!0)]),n}closeSubMenu(t){let r=this.hotMenu.getSourceDataAtRow(t),i=this.hotSubMenus[r.key];if(i){i.destroy(),delete this.hotSubMenus[r.key];let n=this.hotMenu.getCell(t,0);this.hot.getSettings().ariaTags&&Ke(n,[oa(!1)])}}closeAllSubMenus(){St(this.hotMenu.getData(),(t,r)=>this.closeSubMenu(r))}isAllSubMenusClosed(){return Object.keys(this.hotSubMenus).length===0}focus(){this.isOpened()&&(this.hotMenu.rootElement.focus({preventScroll:!0}),this.getKeyboardShortcutsCtrl().listen(),this.hotMenu.listen())}destroy(){let t=this.container.parentNode;this.clearLocalHooks(),this.close(),this.parentMenu=null,this.eventManager.destroy(),t&&t.removeChild(this.container)}isOpened(){return this.hotMenu!==null}executeCommand(t){if(!this.isOpened()||!this.hasSelectedItem())return;let r=this.getSelectedItem();if(this.runLocalHooks("select",r,t),this.isCommandPassive(r))return;let i=this.hot.getSelectedRange(),n=i?Ntt(i):[];this.runLocalHooks("executeCommand",r.key,n,t),this.isSubMenu()&&this.parentMenu.runLocalHooks("executeCommand",r.key,n,t)}isCommandPassive(t){return t.isCommand===!1||bS(t)||g_(t,this.hot)||gS(t)}setOffset(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.positioner.setOffset(t,r)}setPosition(t){this.isSubMenu()&&this.positioner.setParentElement(this.parentMenu.container),this.positioner.setElement(this.container).updatePosition(t)}createContainer(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=this.options.container.ownerDocument,i=t,n;return i&&(Mr(i)&&(i=i.call(this.hot),i===null||vr(i)?i="":i=i.toString()),i=i.replace(/[^A-z0-9]/g,"_"),i=`${this.options.className}Sub_${i}`,n=r.querySelector(`.${this.options.className}.${i}`)),n||(n=r.createElement("div"),re(n,`htMenu ${this.options.className}`),i&&re(n,i),this.options.container.appendChild(n)),n}onAfterInit(){let{wtTable:t}=this.hotMenu.view._wt,r=this.hotMenu.getSettings().data,i=t.hider.style,n=t.holder.style,o=parseInt(i.width,10),s=cn(r,(a,l)=>a+(l.name===Oi?1:26),0);n.width=`${o+3}px`,n.height=`${s+3}px`,i.height=n.height,this.hot.getSettings().ariaTags&&Ke(this.hotMenu.rootElement,[IG(),Ic(-1)])}onDocumentMouseDown(t){this.isOpened()&&(this.options.standalone&&this.hotMenu&&!Ed(t.target,this.hotMenu.rootElement)?this.close(!0):(this.isAllSubMenusClosed()||this.isSubMenu())&&!Ed(t.target,".htMenu")&&this.close(!0))}onDocumentContextMenu(t){this.isOpened()&&Xe(t.target,"htCore")&&Ed(t.target,this.hotMenu.rootElement)&&t.preventDefault()}};Zi(Rf,Bn);function i5t(e,t){r5t(e,t),t.add(e)}function r5t(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function z8(e,t,r){return t=n5t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n5t(e){var t=o5t(e,"string");return typeof t=="symbol"?t:t+""}function o5t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NI(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var b_="contextMenu",tet=70,Jtt=b_;Le.getSingleton().register("afterContextMenuDefaultOptions");Le.getSingleton().register("beforeContextMenuShow");Le.getSingleton().register("afterContextMenuShow");Le.getSingleton().register("afterContextMenuHide");Le.getSingleton().register("afterContextMenuExecute");var _S=new WeakSet,v_=class e extends vi{constructor(){super(...arguments),i5t(this,_S),z8(this,"commandExecutor",new f_(this.hot)),z8(this,"itemsFactory",null),z8(this,"menu",null)}static get PLUGIN_KEY(){return b_}static get PLUGIN_PRIORITY(){return tet}static get PLUGIN_DEPS(){return["plugin:AutoColumnSize"]}static get DEFAULT_ITEMS(){return[O0,P0,Oi,_f,wf,Oi,D0,xf,Oi,N0,k0,Oi,Cf,Oi,Ra]}isEnabled(){return!!this.hot.getSettings()[b_]}enablePlugin(){var t=this;if(this.enabled)return;let r=this.hot.getSettings()[b_];typeof r.callback=="function"&&this.commandExecutor.setCommonCallback(r.callback),this.menu=new Rf(this.hot,{className:"htContextMenu",keepInViewport:!0,container:r.uiContainer||this.hot.rootDocument.body}),this.menu.addLocalHook("beforeOpen",()=>NI(_S,this,a5t).call(this)),this.menu.addLocalHook("afterOpen",()=>NI(_S,this,l5t).call(this)),this.menu.addLocalHook("afterClose",()=>NI(_S,this,c5t).call(this)),this.menu.addLocalHook("executeCommand",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return t.executeCommand.call(t,...n)}),this.addHook("afterOnCellContextMenu",i=>NI(_S,this,s5t).call(this,i)),this.registerShortcuts(),super.enablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.close(),this.menu&&(this.menu.destroy(),this.menu=null),this.unregisterShortcuts(),super.disablePlugin()}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Control/Meta","Shift","Backslash"],["Shift","F10"]],callback:()=>{let{highlight:t}=this.hot.getSelectedRangeLast();this.hot.scrollToFocusedCell();let r=this.hot.getCell(t.row,t.col,!0).getBoundingClientRect(),i=h_(this.menu.container,this.hot.rootDocument);this.open({left:r.left+i.left,top:r.top+i.top-1+r.height},{left:r.width,above:-r.height}),this.menu.getNavigator().toFirstItem()},runOnlyIf:()=>{var t;let r=(t=this.hot.getSelectedRangeLast())===null||t===void 0?void 0:t.highlight;return r&&this.hot.selection.isCellVisible(r)&&!this.menu.isOpened()},group:Jtt})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(Jtt)}open(t){var r;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{above:0,below:0,left:0,right:0};(r=this.menu)!==null&&r!==void 0&&r.isOpened()||(this.prepareMenuItems(),this.menu.open(),bi(i,(n,o)=>{this.menu.setOffset(o,n)}),this.menu.setPosition(t))}close(){var t;(t=this.menu)===null||t===void 0||t.close(),this.itemsFactory=null}executeCommand(t){this.itemsFactory===null&&this.prepareMenuItems();for(var r=arguments.length,i=new Array(r>1?r-1:0),n=1;n<r;n++)i[n-1]=arguments[n];this.commandExecutor.execute(t,...i)}prepareMenuItems(){this.itemsFactory=new m_(this.hot,e.DEFAULT_ITEMS);let t=this.hot.getSettings()[b_],r={items:this.itemsFactory.getItems(t)};this.hot.runHooks("afterContextMenuDefaultOptions",r),this.itemsFactory.setPredefinedItems(r.items);let i=this.itemsFactory.getItems(t);this.hot.runHooks("beforeContextMenuSetItems",i),this.menu.setMenuItems(i),St(i,n=>this.commandExecutor.registerCommand(n.key,n))}destroy(){this.close(),this.menu&&this.menu.destroy(),super.destroy()}};function s5t(e){let t=this.hot.getSettings(),r=t.rowHeaders,i=t.colHeaders;function n(a){return a.nodeName==="TD"||a.parentNode.nodeName==="TD"}let o=e.target;if(this.close(),Xe(o,"handsontableInput")||(e.preventDefault(),e.stopPropagation(),!(r||i)&&!n(o)&&!(Xe(o,"current")&&Xe(o,"wtBorder"))))return;let s=h_(this.menu.container,this.hot.rootDocument);this.open({top:e.clientY+s.top,left:e.clientX+s.left})}function a5t(){this.hot.runHooks("beforeContextMenuShow",this)}function l5t(){this.hot.runHooks("afterContextMenuShow",this)}function c5t(){this.hot.listen(),this.hot.runHooks("afterContextMenuHide",this)}v_.SEPARATOR={name:Oi};var y_e=ot(qt(),1),__e=ot(_e(),1);function U8(e){return{key:"copy",name(){return this.getTranslatedPhrase(Cx)},callback(){e.copyCellsOnly()},disabled(){if(this.countRows()===0||this.countCols()===0)return!0;let t=this.getSelectedRangeLast();if(!t||t.isSingleHeader())return!0;let r=this.getSelected();return!r||r.length>1},hidden:!1}}function W8(e){return{key:"copy_column_headers_only",name(){let t=this.getSelectedRangeLast(),r=t?qr(t.getWidth()-1,0,1):0;return this.getTranslatedPhrase(Ex,r)},callback(){e.copyColumnHeadersOnly()},disabled(){if(!this.hasColHeaders())return!0;let t=this.getSelectedRangeLast();if(!t||t.isSingleHeader())return!0;let r=this.getSelected();return!r||r.length>1},hidden:!1}}function Y8(e){return{key:"copy_with_column_group_headers",name(){let t=this.getSelectedRangeLast(),r=t?qr(t.getWidth()-1,0,1):0;return this.getTranslatedPhrase(Sx,r)},callback(){e.copyWithAllColumnHeaders()},disabled(){if(!this.hasColHeaders()||!this.getSettings().nestedHeaders)return!0;let t=this.getSelectedRangeLast();if(!t||t.isSingleHeader())return!0;let r=this.getSelected();return!r||r.length>1},hidden:!1}}function $8(e){return{key:"copy_with_column_headers",name(){let t=this.getSelectedRangeLast(),r=t?qr(t.getWidth()-1,0,1):0;return this.getTranslatedPhrase(xx,r)},callback(){e.copyWithColumnHeaders()},disabled(){if(!this.hasColHeaders())return!0;let t=this.getSelectedRangeLast();if(!t||t.isSingleHeader())return!0;let r=this.getSelected();return!r||r.length>1},hidden:!1}}function q8(e){return{key:"cut",name(){return this.getTranslatedPhrase(Rx)},callback(){e.cut()},disabled(){if(this.countRows()===0||this.countCols()===0)return!0;let t=this.getSelectedRangeLast();if(!t||t.isSingleHeader())return!0;let r=this.getSelected();return!r||r.length>1},hidden:!1}}var LI=class{constructor(){this.data={}}setData(t,r){this.data[t]=r}getData(t){return this.data[t]||void 0}};var FI=class{constructor(){this.clipboardData=new LI}preventDefault(){}};var m_e=ot(qt(),1),p_e=ot(_e(),1);function d5t(e,t){eet(e,t),t.add(e)}function y_(e,t,r){eet(e,t),t.set(e,r)}function eet(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ga(e,t){return e.get(w_(e,t))}function __(e,t,r){return e.set(w_(e,t),r),r}function w_(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var Ep=new WeakMap,G8=new WeakMap,wS=new WeakMap,X8=new WeakMap,Z8=new WeakMap,CS=new WeakMap,xS=new WeakSet,HI=class{constructor(t){let{countRows:r,countColumns:i,rowsLimit:n,columnsLimit:o,countColumnHeaders:s}=t;d5t(this,xS),y_(this,Ep,void 0),y_(this,G8,void 0),y_(this,wS,void 0),y_(this,X8,void 0),y_(this,Z8,void 0),y_(this,CS,void 0),__(G8,this,r),__(wS,this,i),__(X8,this,n),__(Z8,this,o),__(CS,this,s)}setSelectedRange(t){__(Ep,this,t)}getCellsRange(){if(Ga(G8,this).call(this)===0||Ga(wS,this).call(this)===0)return null;let{row:t,col:r}=Ga(Ep,this).getTopStartCorner(),{row:i,col:n}=Ga(Ep,this).getBottomEndCorner(),o=w_(xS,this,h5t).call(this,t,i),s=w_(xS,this,K8).call(this,r,n);return{isRangeTrimmed:i!==o||n!==s,startRow:t,startCol:r,endRow:o,endCol:s}}getMostBottomColumnHeadersRange(){if(Ga(wS,this).call(this)===0||Ga(CS,this).call(this)===0)return null;let{col:t}=Ga(Ep,this).getTopStartCorner(),{col:r}=Ga(Ep,this).getBottomEndCorner(),i=w_(xS,this,K8).call(this,t,r);return{isRangeTrimmed:r!==i,startRow:-1,startCol:t,endRow:-1,endCol:i}}getAllColumnHeadersRange(){if(Ga(wS,this).call(this)===0||Ga(CS,this).call(this)===0)return null;let{col:t}=Ga(Ep,this).getTopStartCorner(),{col:r}=Ga(Ep,this).getBottomEndCorner(),i=w_(xS,this,K8).call(this,t,r);return{isRangeTrimmed:r!==i,startRow:-Ga(CS,this).call(this),startCol:t,endRow:-1,endCol:i}}};function K8(e,t){return Math.min(t,Math.max(e+Ga(Z8,this).call(this)-1,e))}function h5t(e,t){return Math.min(t,Math.max(e+Ga(X8,this).call(this)-1,e))}function Q8(e){let t=[],r=[];return St(e,i=>{let n=Math.min(i.startRow,i.endRow),o=Math.max(i.startRow,i.endRow);Oe(n,o,l=>{t.indexOf(l)===-1&&t.push(l)});let s=Math.min(i.startCol,i.endCol),a=Math.max(i.startCol,i.endCol);Oe(s,a,l=>{r.indexOf(l)===-1&&r.push(l)})}),{rows:t,columns:r}}function u5t(e,t){net(e,t),t.add(e)}function Rp(e,t,r){net(e,t),t.set(e,r)}function net(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function SS(e,t,r){return t=f5t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f5t(e){var t=m5t(e,"string");return typeof t=="symbol"?t:t+""}function m5t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xl(e,t){return e.get(Sl(e,t))}function Bd(e,t,r){return e.set(Sl(e,t),r),r}function Sl(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}Le.getSingleton().register("afterCopyLimit");Le.getSingleton().register("modifyCopyableRange");Le.getSingleton().register("beforeCut");Le.getSingleton().register("afterCut");Le.getSingleton().register("beforePaste");Le.getSingleton().register("afterPaste");Le.getSingleton().register("beforeCopy");Le.getSingleton().register("afterCopy");var ES="copyPaste",oet=80,p5t=["fragmentSelection"],iet=['<meta name="generator" content="Handsontable"/>','<style type="text/css">td{white-space:normal}br{mso-data-placement:same-cell}</style>'].join(""),J8=new WeakMap,tF=new WeakMap,eF=new WeakMap,C_=new WeakMap,BI=new WeakMap,jI=new WeakMap,x_=new WeakMap,VI=new WeakMap,tc=new WeakSet,RS=class extends vi{constructor(){super(...arguments),u5t(this,tc),SS(this,"columnsLimit",1/0),SS(this,"rowsLimit",1/0),SS(this,"pasteMode","overwrite"),SS(this,"uiContainer",this.hot.rootDocument.body),Rp(this,J8,!1),Rp(this,tF,!1),Rp(this,eF,!1),Rp(this,C_,"cells-only"),Rp(this,BI,!1),Rp(this,jI,!1),Rp(this,x_,new HI({countRows:()=>this.hot.countRows(),countColumns:()=>this.hot.countCols(),rowsLimit:()=>this.rowsLimit,columnsLimit:()=>this.columnsLimit,countColumnHeaders:()=>this.hot.view.getColumnHeadersCount()})),Rp(this,VI,!1),SS(this,"copyableRanges",[])}static get PLUGIN_KEY(){return ES}static get SETTING_KEYS(){return[ES,...p5t]}static get PLUGIN_PRIORITY(){return oet}isEnabled(){return!!this.hot.getSettings()[ES]}enablePlugin(){var t=this;if(this.enabled)return;let{[ES]:r}=this.hot.getSettings();if(typeof r=="object"){var i,n;this.pasteMode=(i=r.pasteMode)!==null&&i!==void 0?i:this.pasteMode,this.rowsLimit=isNaN(r.rowsLimit)?this.rowsLimit:r.rowsLimit,this.columnsLimit=isNaN(r.columnsLimit)?this.columnsLimit:r.columnsLimit,Bd(J8,this,!!r.copyColumnHeaders),Bd(tF,this,!!r.copyColumnGroupHeaders),Bd(eF,this,!!r.copyColumnHeadersOnly),this.uiContainer=(n=r.uiContainer)!==null&&n!==void 0?n:this.uiContainer}this.addHook("afterContextMenuDefaultOptions",o=>Sl(tc,this,v5t).call(this,o)),this.addHook("afterSelection",function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return Sl(tc,t,y5t).call(t,...s)}),this.addHook("afterSelectionEnd",()=>Sl(tc,this,_5t).call(this)),this.eventManager.addEventListener(this.hot.rootDocument,"copy",function(){return t.onCopy(...arguments)}),this.eventManager.addEventListener(this.hot.rootDocument,"cut",function(){return t.onCut(...arguments)}),this.eventManager.addEventListener(this.hot.rootDocument,"paste",function(){return t.onPaste(...arguments)}),yN()&&(this.eventManager.addEventListener(this.hot.rootDocument.body,"mouseenter",function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return Sl(tc,t,w5t).call(t,...s)}),this.eventManager.addEventListener(this.hot.rootDocument.body,"mouseleave",function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return Sl(tc,t,C5t).call(t,...s)}),this.addHook("afterSelection",()=>Sl(tc,this,x5t).call(this))),super.enablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){super.disablePlugin()}copy(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"cells-only";Bd(C_,this,t),Bd(BI,this,!0),Sl(tc,this,ret).call(this,"copy")}copyCellsOnly(){this.copy("cells-only")}copyColumnHeadersOnly(){this.copy("column-headers-only")}copyWithAllColumnHeaders(){this.copy("with-column-group-headers")}copyWithColumnHeaders(){this.copy("with-column-headers")}cut(){Bd(jI,this,!0),Sl(tc,this,ret).call(this,"cut")}getRangedCopyableData(t){return hp(this.getRangedData(t))}getRangedData(t){let r=[],{rows:i,columns:n}=Q8(t);return St(i,o=>{let s=[];St(n,a=>{o<0?s.push(this.hot.getColHeader(a,o)):s.push(this.hot.getCopyableData(o,a))}),r.push(s)}),r}paste(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t;if(!t&&!r)return;let i=new FI;t&&i.clipboardData.setData("text/plain",t),r&&i.clipboardData.setData("text/html",r),this.onPaste(i)}setCopyableText(){let t=this.hot.getSelectedRangeLast();if(!t)return;if(t.isSingleHeader()){this.copyableRanges=[];return}xl(x_,this).setSelectedRange(t);let r=new Map([["headers",null],["cells",null]]);xl(C_,this)==="column-headers-only"?r.set("headers",xl(x_,this).getMostBottomColumnHeadersRange()):(xl(C_,this)==="with-column-headers"?r.set("headers",xl(x_,this).getMostBottomColumnHeadersRange()):xl(C_,this)==="with-column-group-headers"&&r.set("headers",xl(x_,this).getAllColumnHeadersRange()),r.set("cells",xl(x_,this).getCellsRange())),this.copyableRanges=Array.from(r.values()).filter(n=>n!==null).map(n=>{let{startRow:o,startCol:s,endRow:a,endCol:l}=n;return{startRow:o,startCol:s,endRow:a,endCol:l}}),this.copyableRanges=this.hot.runHooks("modifyCopyableRange",this.copyableRanges);let i=r.get("cells");if(i!==null&&i.isRangeTrimmed){let{startRow:n,startCol:o,endRow:s,endCol:a}=i;this.hot.runHooks("afterCopyLimit",s-n+1,a-o+1,this.rowsLimit,this.columnsLimit)}}isEditorOpened(){var t;return(t=this.hot.getActiveEditor())===null||t===void 0?void 0:t.isOpened()}populateValues(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.hot.getSelectedRangeLast();if(!t.length)return;let i=t.length,n=t[0].length,o=[],{row:s,col:a}=r.getTopStartCorner(),{row:l,col:c}=r.getBottomEndCorner(),d=s,h=a,u=s,f=a;for(;o.length<i||d<=l;){let{skipRowOnPaste:m,visualRow:g}=this.hot.getCellMeta(d,a);if(d=g+1,m===!0)continue;u=g,h=a;let p=[],b=o.length%i;for(;p.length<n||h<=c;){let{skipColumnOnPaste:_,visualCol:E}=this.hot.getCellMeta(s,h);if(h=E+1,_===!0)continue;f=E;let O=p.length%n;p.push(t[b][O])}o.push(p)}return Bd(VI,this,!0),this.hot.populateFromArray(s,a,o,void 0,void 0,"CopyPaste.paste",this.pasteMode),[s,a,u,f]}onCopy(t){if(!this.hot.isListening()&&!xl(BI,this)||this.isEditorOpened()||!this.hot.getSettings().outsideClickDeselects&&t.target!==this.hot.rootDocument.body)return;this.setCopyableText(),Bd(BI,this,!1);let r=this.getRangedData(this.copyableRanges),i=Sl(tc,this,g5t).call(this,this.copyableRanges);if(!!this.hot.runHooks("beforeCopy",r,this.copyableRanges,i)){let o=hp(r);if(t&&t.clipboardData){let s=NN(r,this.hot.rootDocument);t.clipboardData.setData("text/plain",o),t.clipboardData.setData("text/html",[iet,s].join(""))}else typeof ClipboardEvent>"u"&&this.hot.rootWindow.clipboardData.setData("Text",o);this.hot.runHooks("afterCopy",r,this.copyableRanges,i)}Bd(C_,this,"cells-only"),t.preventDefault()}onCut(t){if(!this.hot.isListening()&&!xl(jI,this)||this.isEditorOpened()||!this.hot.getSettings().outsideClickDeselects&&t.target!==this.hot.rootDocument.body)return;this.setCopyableText(),Bd(jI,this,!1);let r=this.getRangedData(this.copyableRanges);if(!!this.hot.runHooks("beforeCut",r,this.copyableRanges)){let n=hp(r);if(t&&t.clipboardData){let o=NN(r,this.hot.rootDocument);t.clipboardData.setData("text/plain",n),t.clipboardData.setData("text/html",[iet,o].join(""))}else typeof ClipboardEvent>"u"&&this.hot.rootWindow.clipboardData.setData("Text",n);this.hot.emptySelectedCells("CopyPaste.cut"),this.hot.runHooks("afterCut",r,this.copyableRanges)}t.preventDefault()}onPaste(t){if(!this.hot.isListening()||this.isEditorOpened()||!this.hot.getSelected()||!this.hot.getSettings().outsideClickDeselects&&t.target!==this.hot.rootDocument.body)return;t.preventDefault();let r;if(t&&typeof t.clipboardData<"u"){let a=yC(t.clipboardData.getData("text/html"),{ADD_TAGS:["meta"],ADD_ATTR:["content"],FORCE_BODY:!0});a&&/(<table)|(<TABLE)/g.test(a)?r=UK(a,this.hot.rootDocument).data:r=t.clipboardData.getData("text/plain")}else typeof ClipboardEvent>"u"&&typeof this.hot.rootWindow.clipboardData<"u"&&(r=this.hot.rootWindow.clipboardData.getData("Text"));if(typeof r=="string"&&(r=U6(r)),r===void 0||r&&r.length===0||this.hot.runHooks("beforePaste",r,this.copyableRanges)===!1)return;let[i,n,o,s]=this.populateValues(r);this.hot.selectCell(i,n,Math.min(this.hot.countRows()-1,o),Math.min(this.hot.countCols()-1,s)),this.hot.runHooks("afterPaste",r,this.copyableRanges)}destroy(){super.destroy()}};function ret(e){if(yN()){let t=this.hot.getSelectedRangeLast();if(t){let{row:r,col:i}=t.highlight,n=this.hot.getCell(r,i,!0);n&&sK(n,()=>{this.hot.rootDocument.execCommand(e)})}}else this.hot.rootDocument.execCommand(e)}function g5t(e){let{rows:t}=Q8(e),r=0;for(let i=0;i<t.length&&!(t[i]>=0);i++)r+=1;return{columnHeadersCount:r}}function b5t(){if(this.hot.isListening()){let e=this.hot.getSelectedRangeLast();if(e){let{row:t,col:r}=e.highlight,i=this.hot.getCell(t,r,!0);i&&bN(i)}}}function set(){if(this.hot.isListening()){let e=this.hot.getSelectedRangeLast();if(e){let{row:t,col:r}=e.highlight,i=this.hot.getCell(t,r,!0);i!=null&&i.hasAttribute("contenteditable")&&vN(i)}}}function v5t(e){e.items.push({name:"---------"},U8(this)),xl(J8,this)&&e.items.push($8(this)),xl(tF,this)&&e.items.push(Y8(this)),xl(eF,this)&&e.items.push(W8(this)),e.items.push(q8(this))}function y5t(e,t,r,i,n){xl(VI,this)&&(n.value=!0),Bd(VI,this,!1)}function _5t(){this.isEditorOpened()||this.hot.getSettings().fragmentSelection||this.setCopyableText()}function w5t(){Sl(tc,this,set).call(this)}function C5t(){Sl(tc,this,b5t).call(this)}function x5t(){Sl(tc,this,set).call(this)}var owe=ot(qt(),1),swe=ot(_e(),1);function iF(e,t){return`border_row${e}col${t}`}function S_(){return{width:1,color:"#000"}}function ru(){return{hide:!0}}function S5t(){return{width:1,color:"#000",cornerVisible:!1}}function zI(e){if(Ne(e.start)||Ne(e.left)){var t;e.start=(t=e.start)!==null&&t!==void 0?t:e.left}if(Ne(e.end)||Ne(e.right)){var r;e.end=(r=e.end)!==null&&r!==void 0?r:e.right}return delete e.left,delete e.right,e}function E_(e){return Ne(e.start)&&(e.left=e.start),Ne(e.end)&&(e.right=e.end),e}function UI(e,t){return{id:iF(e,t),border:S5t(),row:e,col:t,top:ru(),bottom:ru(),start:ru(),end:ru()}}function aet(e,t){return en(t,"border")&&t.border&&(e.border=t.border),en(t,"top")&&Ne(t.top)&&(t.top?(gi(t.top)||(t.top=S_()),e.top=t.top):(t.top=ru(),e.top=t.top)),en(t,"bottom")&&Ne(t.bottom)&&(t.bottom?(gi(t.bottom)||(t.bottom=S_()),e.bottom=t.bottom):(t.bottom=ru(),e.bottom=t.bottom)),en(t,"start")&&Ne(t.start)&&(t.start?(gi(t.start)||(t.start=S_()),e.start=t.start):(t.start=ru(),e.start=t.start)),en(t,"end")&&Ne(t.end)&&(t.end?(gi(t.end)||(t.end=S_()),e.end=t.end):(t.end=ru(),e.end=t.end)),e}function El(e,t){let r=!1;return St(e.getSelectedRange(),i=>{i.forAll((n,o)=>{if(n<0||o<0)return;let s=e.getCellMeta(n,o).borders;if(s)if(t){if(!en(s[t],"hide")||s[t].hide===!1)return r=!0,!1}else return r=!0,!1})}),r}function Tp(e){return`<span class="selected">\u2713</span>${e}`}function cet(e){return e.some(t=>Ne(t.left)||Ne(t.right))}function det(e){return e.some(t=>Ne(t.start)||Ne(t.end))}var E5t=new Map([["left","start"],["right","end"]]);function het(e){var t;return(t=E5t.get(e))!==null&&t!==void 0?t:e}function WI(e){return{key:"borders:bottom",name(){let t=this.getTranslatedPhrase($x);return El(this,"bottom")&&(t=Tp(t)),t},callback(t,r){let i=El(this,"bottom");e.prepareBorder(r,"bottom",i)}}}function YI(e){let t=e.hot.isRtl()?"end":"start";return{key:"borders:left",name(){let r=this.getTranslatedPhrase(qx);return El(this,t)&&(r=Tp(r)),r},callback(r,i){let n=El(this,t);e.prepareBorder(i,t,n)}}}function $I(e){return{key:"borders:no_borders",name(){return this.getTranslatedPhrase(Gx)},callback(t,r){e.prepareBorder(r,"noBorders")},disabled(){return!El(this)}}}function qI(e){let t=e.hot.isRtl()?"start":"end";return{key:"borders:right",name(){let r=this.getTranslatedPhrase(Yx);return El(this,t)&&(r=Tp(r)),r},callback(r,i){let n=El(this,t);e.prepareBorder(i,t,n)}}}function GI(e){return{key:"borders:top",name(){let t=this.getTranslatedPhrase(Wx);return El(this,"top")&&(t=Tp(t)),t},callback(t,r){let i=El(this,"top");e.prepareBorder(r,"top",i)}}}function R5t(e,t){T5t(e,t),t.add(e)}function T5t(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function M5t(e,t,r){return t=A5t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A5t(e){var t=I5t(e,"string");return typeof t=="symbol"?t:t+""}function I5t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uet(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var TS="customBorders",fet=90,rF=new WeakSet,MS=class extends vi{constructor(){super(...arguments),R5t(this,rF),M5t(this,"savedBorders",[])}static get PLUGIN_KEY(){return TS}static get PLUGIN_PRIORITY(){return fet}isEnabled(){return!!this.hot.getSettings()[TS]}enablePlugin(){this.enabled||(this.addHook("afterContextMenuDefaultOptions",t=>uet(rF,this,k5t).call(this,t)),this.addHook("init",()=>uet(rF,this,D5t).call(this)),super.enablePlugin())}disablePlugin(){this.hideBorders(),super.disablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),this.changeBorderSettings(),super.updatePlugin()}setBorders(t,r){let i=["top","bottom","start","end"],n=null;r&&(this.checkSettingsCohesion([r]),i=Object.keys(r),n=zI(r));let o=pf(t),s=dp(o,{createCellCoords:this.hot._createCellCoords.bind(this.hot),createCellRange:this.hot._createCellRange.bind(this.hot)});St(t,a=>{s(a).forAll((l,c)=>{St(i,d=>{this.prepareBorderFromCustomAdded(l,c,n,het(d))})})}),this.hot.view.render()}getBorders(t){if(!Array.isArray(t))return this.savedBorders;let r=pf(t),i=dp(r,{createCellCoords:this.hot._createCellCoords.bind(this.hot),createCellRange:this.hot._createCellRange.bind(this.hot)}),n=[];return St(t,o=>{i(o).forAll((s,a)=>{St(this.savedBorders,l=>{l.row===s&&l.col===a&&n.push(E_(l))})})}),n}clearBorders(t){t?this.setBorders(t):(St(this.savedBorders,r=>{this.clearBordersFromSelectionSettings(r.id),this.clearNullCellRange(),this.hot.removeCellMeta(r.row,r.col,"borders")}),this.savedBorders.length=0)}insertBorderIntoSettings(t,r){this.checkSavedBorders(t)||this.savedBorders.push(t);let n=this.hot._createCellRange(this.hot._createCellCoords(t.row,t.col));this.checkCustomSelections(t,n,r)||this.hot.selection.highlight.addCustomSelection({border:t,visualCellRange:n})}prepareBorderFromCustomAdded(t,r,i,n){let o=this.hot.countRows(),s=this.hot.countCols();if(t>=o||r>=s)return;let a=UI(t,r);i&&(a=aet(a,i),St(this.hot.selection.highlight.customSelections,l=>{if(a.id===l.settings.id)return Object.assign(l.settings,i),a.id=l.settings.id,a.top=l.settings.top,a.bottom=l.settings.bottom,a.start=l.settings.start,a.end=l.settings.end,!1})),this.hot.setCellMeta(t,r,"borders",E_(a)),this.insertBorderIntoSettings(a,n)}prepareBorderFromCustomAddedRange(t,r){let i=Math.min(t.to.row,this.hot.countRows()-1),n=Math.min(t.to.col,this.hot.countCols()-1);Oe(t.from.row,i,o=>{Oe(t.from.col,n,s=>{let a=UI(o,s),l=0;o===t.from.row&&en(r,"top")&&(l+=1,a.top=r.top),o===t.to.row&&en(r,"bottom")&&(l+=1,a.bottom=r.bottom),s===t.from.col&&en(r,"start")&&(l+=1,a.start=r.start),s===t.to.col&&en(r,"end")&&(l+=1,a.end=r.end),l>0&&(this.hot.setCellMeta(o,s,"borders",E_(a)),this.insertBorderIntoSettings(a))})})}removeAllBorders(t,r){let i=iF(t,r);this.spliceBorder(i),this.clearBordersFromSelectionSettings(i),this.clearNullCellRange(),this.hot.removeCellMeta(t,r,"borders")}setBorder(t,r,i,n){let o=this.hot.getCellMeta(t,r).borders;!o||o.border===void 0?o=UI(t,r):o=zI(o),n?(o[i]=ru(),this.countHide(o)===4?this.removeAllBorders(t,r):(this.checkCustomSelectionsFromContextMenu(o,i,n)||this.insertBorderIntoSettings(o),this.hot.setCellMeta(t,r,"borders",E_(o)))):(o[i]=S_(),this.checkCustomSelectionsFromContextMenu(o,i,n)||this.insertBorderIntoSettings(o),this.hot.setCellMeta(t,r,"borders",E_(o)))}prepareBorder(t,r,i){St(t,n=>{let{start:o,end:s}=n;if(o.row===s.row&&o.col===s.col)r==="noBorders"?this.removeAllBorders(o.row,o.col):this.setBorder(o.row,o.col,r,i);else switch(r){case"noBorders":Oe(o.col,s.col,a=>{Oe(o.row,s.row,l=>{this.removeAllBorders(l,a)})});break;case"top":Oe(o.col,s.col,a=>{this.setBorder(o.row,a,r,i)});break;case"bottom":Oe(o.col,s.col,a=>{this.setBorder(s.row,a,r,i)});break;case"start":Oe(o.row,s.row,a=>{this.setBorder(a,o.col,r,i)});break;case"end":Oe(o.row,s.row,a=>{this.setBorder(a,s.col,r,i)});break;default:break}})}createCustomBorders(t){St(t,r=>{let i=zI(r);r.range?this.prepareBorderFromCustomAddedRange(r.range,i):this.prepareBorderFromCustomAdded(r.row,r.col,i)})}countHide(t){let{top:r,bottom:i,start:n,end:o}=t;return cn([r,i,n,o],(a,l)=>{let c=a;return l&&l.hide&&(c+=1),c},0)}clearBordersFromSelectionSettings(t){let r=Ci(this.hot.selection.highlight.customSelections,i=>i.settings.id).indexOf(t);r>-1&&this.hot.selection.highlight.customSelections[r].clear()}clearNullCellRange(){St(this.hot.selection.highlight.customSelections,(t,r)=>{if(t.cellRange===null)return this.hot.selection.highlight.customSelections[r].destroy(),this.hot.selection.highlight.customSelections.splice(r,1),!1})}hideBorders(){St(this.savedBorders,t=>{this.clearBordersFromSelectionSettings(t.id),this.clearNullCellRange()})}spliceBorder(t){let r=Ci(this.savedBorders,i=>i.id).indexOf(t);r>-1&&this.savedBorders.splice(r,1)}checkSavedBorders(t){let r=!1;return this.countHide(t)===4?(this.spliceBorder(t.id),r=!0):St(this.savedBorders,(n,o)=>{if(t.id===n.id)return this.savedBorders[o]=t,r=!0,!1}),r}checkCustomSelectionsFromContextMenu(t,r,i){let n=!1;return St(this.hot.selection.highlight.customSelections,o=>{if(t.id===o.settings.id){let s=this.hot.view._wt.selectionManager.getBorderInstances(o);return St(s,a=>{a.toggleHiddenClass(r,i)}),n=!0,!1}}),n}checkCustomSelections(t,r,i){let n=this.countHide(t),o=!1;return n===4?(this.removeAllBorders(t.row,t.col),o=!0):St(this.hot.selection.highlight.customSelections,s=>{if(t.id===s.settings.id){if(s.visualCellRange=r,s.commit(),i){let a=this.hot.view._wt.selectionManager.getBorderInstances(s);St(a,l=>{l.changeBorderStyle(i,t)})}return o=!0,!1}}),o}changeBorderSettings(){let t=this.hot.getSettings()[TS];if(Array.isArray(t)){let r=jo(t);this.checkSettingsCohesion(r),r.length||(this.savedBorders=r),this.createCustomBorders(r)}else t!==void 0&&this.createCustomBorders(this.savedBorders)}checkSettingsCohesion(t){let r=cet(t),i=det(t);if(r&&i)throw new Error('The "left"/"right" and "start"/"end" options should not be used together. Please use only the option "start"/"end".');if(this.hot.isRtl()&&r)throw new Error('The "left"/"right" properties are not supported for RTL. Please use option "start"/"end".')}destroy(){super.destroy()}};function k5t(e){this.hot.getSettings()[TS]&&e.items.push({name:"---------"},{key:"borders",name(){return this.getTranslatedPhrase(Ux)},disabled(){let t=this.getSelectedRangeLast();return!t||t.isSingleHeader()?!0:this.selection.isSelectedByCorner()},submenu:{items:[GI(this),qI(this),WI(this),YI(this),$I(this)]}})}function D5t(){this.changeBorderSettings()}var bwe=ot(qt(),1);function O5t(e,t){P5t(e,t),t.add(e)}function P5t(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function nF(e,t,r){return t=N5t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N5t(e){var t=L5t(e,"string");return typeof t=="symbol"?t:t+""}function L5t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function met(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var sF="dragToScroll",get=100,oF=new WeakSet,AS=class extends vi{constructor(){super(...arguments),O5t(this,oF),nF(this,"boundaries",null),nF(this,"callback",null),nF(this,"listening",!1)}static get PLUGIN_KEY(){return sF}static get PLUGIN_PRIORITY(){return get}isEnabled(){return!!this.hot.getSettings()[sF]}enablePlugin(){this.enabled||(this.addHook("afterOnCellMouseDown",t=>met(oF,this,pet).call(this,t)),this.addHook("afterOnCellCornerMouseDown",t=>met(oF,this,pet).call(this,t)),this.registerEvents(),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.unregisterEvents(),super.disablePlugin()}setBoundaries(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{left:0,right:this.hot.rootWindow.innerWidth,top:0,bottom:this.hot.rootWindow.innerHeight};this.boundaries=t}setCallback(t){this.callback=t}check(t,r){let i=0,n=0;r<this.boundaries.top?n=r-this.boundaries.top:r>this.boundaries.bottom&&(n=r-this.boundaries.bottom),t<this.boundaries.left?i=t-this.boundaries.left:t>this.boundaries.right&&(i=t-this.boundaries.right),this.callback(i,n)}listen(){this.listening=!0}unlisten(){this.listening=!1}isListening(){return this.listening}registerEvents(){let{rootWindow:t}=this.hot,r=t;for(;r;)this.eventManager.addEventListener(r.document,"contextmenu",()=>this.unlisten()),this.eventManager.addEventListener(r.document,"mouseup",()=>this.unlisten()),this.eventManager.addEventListener(r.document,"mousemove",i=>this.onMouseMove(i)),r=Hh(r)}unregisterEvents(){this.eventManager.clear()}onMouseMove(t){this.isListening()&&this.check(t.clientX,t.clientY)}destroy(){super.destroy()}};function pet(e){if(Gl(e))return;let t=this.hot.view._wt.wtOverlays.topOverlay.mainTableScrollableElement;this.setBoundaries(t!==this.hot.rootWindow?t.getBoundingClientRect():void 0),this.setCallback((r,i)=>{var n,o;let s=(n=t.scrollLeft)!==null&&n!==void 0?n:t.scrollX,a=(o=t.scrollTop)!==null&&o!==void 0?o:t.scrollY;t.scroll(s+Math.sign(r)*50,a+Math.sign(i)*20)}),this.listen()}var Swe=ot(qt(),1);function F5t(e,t){bet(e,t),t.add(e)}function H5t(e,t,r){bet(e,t),t.set(e,r)}function bet(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function aF(e,t,r){return t=B5t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B5t(e){var t=j5t(e,"string");return typeof t=="symbol"?t:t+""}function j5t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function V5t(e,t){return e.get(Kc(e,t))}function vet(e,t,r){return e.set(Kc(e,t),r),r}function Kc(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}Le.getSingleton().register("afterDropdownMenuDefaultOptions");Le.getSingleton().register("beforeDropdownMenuShow");Le.getSingleton().register("afterDropdownMenuShow");Le.getSingleton().register("afterDropdownMenuHide");Le.getSingleton().register("afterDropdownMenuExecute");var IS="dropdownMenu",yet=230,KI="changeType",lF=IS,XI=new WeakMap,jd=new WeakSet,R_=class e extends vi{static get PLUGIN_KEY(){return IS}static get PLUGIN_PRIORITY(){return yet}static get PLUGIN_DEPS(){return["plugin:AutoColumnSize"]}static get DEFAULT_ITEMS(){return[_f,wf,Oi,xf,Oi,I0,Oi,Cf,Oi,Ra]}constructor(t){super(t),F5t(this,jd),aF(this,"commandExecutor",new f_(this.hot)),aF(this,"itemsFactory",null),aF(this,"menu",null),H5t(this,XI,!1),this.hot.addHook("afterGetColHeader",(r,i)=>Kc(jd,this,U5t).call(this,r,i))}isEnabled(){return this.hot.getSettings()[IS]}enablePlugin(){var t=this;if(this.enabled)return;this.itemsFactory=new m_(this.hot,e.DEFAULT_ITEMS),this.addHook("beforeOnCellMouseDown",function(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return Kc(jd,t,K5t).call(t,...o)}),this.addHook("beforeViewportScrollHorizontally",function(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return Kc(jd,t,G5t).call(t,...o)});let r=this.hot.getSettings()[IS],i={items:this.itemsFactory.getItems(r)};this.registerEvents(),typeof r.callback=="function"&&this.commandExecutor.setCommonCallback(r.callback),this.registerShortcuts(),super.enablePlugin(),this.callOnPluginsReady(()=>{this.hot.runHooks("afterDropdownMenuDefaultOptions",i),this.itemsFactory.setPredefinedItems(i.items);let n=this.itemsFactory.getItems(r);this.menu&&this.menu.destroy(),this.menu=new Rf(this.hot,{className:"htDropdownMenu",keepInViewport:!0,container:r.uiContainer||this.hot.rootDocument.body}),this.hot.runHooks("beforeDropdownMenuSetItems",n),this.menu.setMenuItems(n),this.menu.addLocalHook("beforeOpen",()=>Kc(jd,this,W5t).call(this)),this.menu.addLocalHook("afterOpen",()=>Kc(jd,this,Y5t).call(this)),this.menu.addLocalHook("afterSubmenuOpen",o=>Kc(jd,this,$5t).call(this,o)),this.menu.addLocalHook("afterClose",()=>Kc(jd,this,q5t).call(this)),this.menu.addLocalHook("executeCommand",function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return t.executeCommand.call(t,...s)}),St(n,o=>this.commandExecutor.registerCommand(o.key,o))})}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.close(),this.menu&&this.menu.destroy(),this.unregisterShortcuts(),super.disablePlugin()}registerShortcuts(){let t=this.hot.getShortcutManager().getContext("grid"),r=()=>{let{highlight:i}=this.hot.getSelectedRangeLast();if((i.isHeader()&&i.row===-1||i.isCell())&&i.col>=0){this.hot.selectColumns(i.col,i.col,-1);let{from:n}=this.hot.getSelectedRangeLast(),o=h_(this.menu.container,this.hot.rootDocument),s=this.hot.getCell(-1,n.col,!0),a=s.getBoundingClientRect();this.open({left:a.left+o.left,top:a.top+s.offsetHeight+o.top},{left:a.width}),this.menu.getNavigator().toFirstItem()}};t.addShortcuts([{keys:[["Shift","Alt","ArrowDown"],["Control/Meta","Enter"]],callback:r,runOnlyIf:()=>{var i;let n=(i=this.hot.getSelectedRangeLast())===null||i===void 0?void 0:i.highlight;return n&&this.hot.selection.isCellVisible(n)&&n.isHeader()&&!this.menu.isOpened()},captureCtrl:!0,group:lF},{keys:[["Shift","Alt","ArrowDown"]],callback:r,runOnlyIf:()=>{var i;let n=(i=this.hot.getSelectedRangeLast())===null||i===void 0?void 0:i.highlight;return n&&this.hot.selection.isCellVisible(n)&&n.isCell()&&!this.menu.isOpened()},group:lF}])}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(lF)}registerEvents(){this.eventManager.addEventListener(this.hot.rootElement,"click",t=>Kc(jd,this,z5t).call(this,t))}open(t){var r;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{above:0,below:0,left:0,right:0};(r=this.menu)!==null&&r!==void 0&&r.isOpened()||(this.menu.open(),bi(i,(n,o)=>{this.menu.setOffset(o,n)}),this.menu.setPosition(t))}close(){var t;(t=this.menu)===null||t===void 0||t.close()}executeCommand(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),n=1;n<r;n++)i[n-1]=arguments[n];this.commandExecutor.execute(t,...i)}setListening(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.menu.isOpened()&&(t?this.menu.hotMenu.listen():this.menu.hotMenu.unlisten())}destroy(){this.close(),this.menu&&this.menu.destroy(),super.destroy()}};function _et(e){e.getKeyboardShortcutsCtrl().addCustomShortcuts([{keys:[["Control/Meta","A"]],callback:()=>!1}])}function z5t(e){if(Xe(e.target,KI)){let t=h_(this.menu.container,this.hot.rootDocument),r=e.target.getBoundingClientRect();e.stopPropagation(),vet(XI,this,!1),this.open({left:r.left+t.left,top:r.top+e.target.offsetHeight+3+t.top},{left:r.width})}}function U5t(e,t){let r=t.parentNode;if(!r)return;let i=r.parentNode.childNodes,n=Array.prototype.indexOf.call(i,r);if(e<0||n!==i.length-1)return;let o=t.querySelector(`.${KI}`);if(this.enabled&&o)return;if(!this.enabled){o&&o.parentNode.removeChild(o);return}let s=this.hot.rootDocument.createElement("button");s.className=KI,s.type="button",s.tabIndex=-1,this.hot.getSettings().ariaTags&&(Ke(s,[Ps(),Xv(" ")]),Ke(t,[cM("menu")])),s.onclick=function(){return!1},t.firstChild.insertBefore(s,t.firstChild.firstChild)}function W5t(){this.hot.runHooks("beforeDropdownMenuShow",this)}function Y5t(){this.hot.runHooks("afterDropdownMenuShow",this),Kc(jd,this,_et).call(this,this.menu)}function $5t(e){Kc(jd,this,_et).call(this,e)}function q5t(){this.hot.listen(),this.hot.runHooks("afterDropdownMenuHide",this)}function G5t(e){return V5t(XI,this)?null:e}function K5t(e){Xe(e.target,KI)&&vet(XI,this,!0)}R_.SEPARATOR={name:Oi};var Jwe=ot(qt(),1);var Bwe=ot(qt(),1),jwe=ot(_e(),1);function wet(e,t,r){return t=X5t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X5t(e){var t=Z5t(e,"string");return typeof t=="symbol"?t:t+""}function Z5t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cF=class{constructor(t){wet(this,"hot",void 0),wet(this,"options",{}),this.hot=t}setOptions(t){this.options=t}getData(){let{startRow:t,startCol:r,endRow:i,endCol:n}=this._getDataRange(),o=this.options,s=[];return Oe(t,i,a=>{let l=[];!o.exportHiddenRows&&this._isHiddenRow(a)||(Oe(r,n,c=>{!o.exportHiddenColumns&&this._isHiddenColumn(c)||l.push(this.hot.getDataAtCell(a,c))}),s.push(l))}),s}getRowHeaders(){let t=[];if(this.options.rowHeaders){let{startRow:r,endRow:i}=this._getDataRange(),n=this.hot.getRowHeader();Oe(r,i,o=>{!this.options.exportHiddenRows&&this._isHiddenRow(o)||t.push(n[o])})}return t}getColumnHeaders(){let t=[];if(this.options.columnHeaders){let{startCol:r,endCol:i}=this._getDataRange(),n=this.hot.getColHeader();Oe(r,i,o=>{!this.options.exportHiddenColumns&&this._isHiddenColumn(o)||t.push(n[o])})}return t}_getDataRange(){let t=this.hot.countCols()-1,r=this.hot.countRows()-1,[i=0,n=0,o=r,s=t]=this.options.range;return i=Math.max(i,0),n=Math.max(n,0),o=Math.min(o,r),s=Math.min(s,t),{startRow:i,startCol:n,endRow:o,endCol:s}}_isHiddenRow(t){return this.hot.rowIndexMapper.isHidden(this.hot.toPhysicalRow(t))}_isHiddenColumn(t){return this.hot.columnIndexMapper.isHidden(this.hot.toPhysicalColumn(t))}},Cet=cF;var Uwe=ot(qt(),1);function xet(e,t,r){return t=Q5t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q5t(e){var t=J5t(e,"string");return typeof t=="symbol"?t:t+""}function J5t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dF=class e{static get DEFAULT_OPTIONS(){return{mimeType:"text/plain",fileExtension:"txt",filename:"Handsontable [YYYY]-[MM]-[DD]",encoding:"utf-8",bom:!1,columnHeaders:!1,rowHeaders:!1,exportHiddenColumns:!1,exportHiddenRows:!1,range:[]}}constructor(t,r){xet(this,"dataProvider",void 0),xet(this,"options",void 0),this.dataProvider=t,this.options=this._mergeOptions(r),this.dataProvider.setOptions(this.options)}_mergeOptions(t){let r=Xo(this.constructor.DEFAULT_OPTIONS),i=new Date;return r=zr(Xo(e.DEFAULT_OPTIONS),r),r=zr(r,t),r.filename=sM(r.filename,{YYYY:i.getFullYear(),MM:`${i.getMonth()+1}`.padStart(2,"0"),DD:`${i.getDate()}`.padStart(2,"0")}),r}},Eet=dF;var tMt="\r",eMt='"',iMt=`
`,hF=class extends Eet{static get DEFAULT_OPTIONS(){return{mimeType:"text/csv",fileExtension:"csv",bom:!0,columnDelimiter:",",rowDelimiter:`\r
`}}export(){let t=this.options,r=this.dataProvider.getData(),i=this.dataProvider.getColumnHeaders(),n=i.length>0,o=this.dataProvider.getRowHeaders(),s=o.length>0,a=t.bom?"\uFEFF":"";return n&&(i=Ci(i,l=>this._escapeCell(l,!0)),s&&(a+=t.columnDelimiter),a+=i.join(t.columnDelimiter),a+=t.rowDelimiter),St(r,(l,c)=>{c>0&&(a+=t.rowDelimiter),s&&(a+=this._escapeCell(o[c])+t.columnDelimiter),a+=l.map(d=>this._escapeCell(d)).join(t.columnDelimiter)}),a}_escapeCell(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=on(t);return i!==""&&(r||i.indexOf(tMt)>=0||i.indexOf(eMt)>=0||i.indexOf(iMt)>=0||i.indexOf(this.options.columnDelimiter)>=0)&&(i=i.replace(new RegExp('"',"g"),'""'),i=`"${i}"`),i}},Ret=hF;var rMt="csv";var ZI={[rMt]:Ret};function uF(e,t,r){return typeof ZI[e]=="function"?new ZI[e](t,r):null}var Tet="exportFile",Met=240,kS=class extends vi{static get PLUGIN_KEY(){return Tet}static get PLUGIN_PRIORITY(){return Met}isEnabled(){return!0}exportAsString(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this._createTypeFormatter(t,r).export()}exportAsBlob(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this._createBlob(this._createTypeFormatter(t,r))}downloadFile(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{rootDocument:i,rootWindow:n}=this.hot,o=this._createTypeFormatter(t,r),s=this._createBlob(o),a=n.URL||n.webkitURL,l=i.createElement("a"),c=`${o.options.filename}.${o.options.fileExtension}`;if(l.download!==void 0){let d=a.createObjectURL(s);l.style.display="none",l.setAttribute("href",d),l.setAttribute("download",c),i.body.appendChild(l),l.dispatchEvent(new MouseEvent("click")),i.body.removeChild(l),setTimeout(()=>{a.revokeObjectURL(d)},100)}else navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob(s,c)}_createTypeFormatter(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!ZI[t])throw new Error(`Export format type "${t}" is not supported.`);return uF(t,new Cet(this.hot),r)}_createBlob(t){let r=null;return typeof Blob<"u"&&(r=new Blob([t.export()],{type:`${t.options.mimeType};charset=${t.options.encoding}`})),r}};var RSe=ot(qt(),1),TSe=ot(_e(),1),MSe=ot(o6(),1);var Dxe=ot(qt(),1),Oxe=ot(_e(),1);var s1e=ot(qt(),1);function T_(e,t,r){return t=nMt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nMt(e){var t=oMt(e,"string");return typeof t=="symbol"?t:t+""}function oMt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vd=class{constructor(t,r){let{id:i,stateless:n=!0}=r;T_(this,"hot",void 0),T_(this,"id",void 0),T_(this,"elements",[]),T_(this,"hidden",!1),T_(this,"stateId",""),T_(this,"state",void 0),this.hot=t,this.id=i,this.stateId=`Filters.component.${this.id}`,this.state=n?null:this.hot.columnIndexMapper.registerMap(this.stateId,new qh)}getElements(){return this.elements}reset(){St(this.elements,t=>t.reset())}hide(){this.hidden=!0}show(){this.hidden=!1}isHidden(){return this.hot===null||this.hidden}restoreState(t){this.state&&this.setState(this.state.getValueAtIndex(t))}setState(){throw new Error("The state setting logic is not implemented")}saveState(t){this.state&&this.state.setValueAtIndex(t,this.getState())}getState(){throw new Error("The state gathering logic is not implemented")}destroy(){this.hot.columnIndexMapper.unregisterMap(this.stateId),this.clearLocalHooks(),St(this.elements,t=>t.destroy()),this.state=null,this.elements=null,this.hot=null}};Zi(Vd,Bn);var NCe=ot(_e(),1);var u1e=ot(qt(),1),DS={};function Rl(e,t){if(!DS[e])throw Error(`Filter condition "${e}" does not exist.`);let{condition:r,descriptor:i}=DS[e],n=t;return i.inputValuesDecorator&&(n=i.inputValuesDecorator(n)),function(o){return r.apply(o.meta.instance,[].concat([o],[n]))}}function nu(e){if(!DS[e])throw Error(`Filter condition "${e}" does not exist.`);return DS[e].descriptor}function _r(e,t,r){r.key=e,DS[e]={condition:t,descriptor:r}}var zo="none";function sMt(){return!0}_r(zo,sMt,{name:h0,inputsCount:0,showOperators:!1});var F0="empty";function aMt(e){return sn(e.value)}_r(F0,aMt,{name:e2,inputsCount:0,showOperators:!0});var OS="not_empty";function lMt(e,t){return!Rl(F0,t)(e)}_r(OS,lMt,{name:i2,inputsCount:0,showOperators:!0});var H0="eq";function cMt(e,t){let[r]=t;return on(e.value).toLocaleLowerCase(e.meta.locale)===on(r)}_r(H0,cMt,{name:r2,inputsCount:1,showOperators:!0});var PS="neq";function dMt(e,t){return!Rl(H0,t)(e)}_r(PS,dMt,{name:n2,inputsCount:1,showOperators:!0});var fF="gt";function hMt(e,t){let[r]=t,i=r;return e.meta.type==="numeric"&&(i=parseFloat(i,10)),e.value>i}_r(fF,hMt,{name:c2,inputsCount:1,showOperators:!0});var mF="gte";function uMt(e,t){let[r]=t,i=r;return e.meta.type==="numeric"&&(i=parseFloat(i,10)),e.value>=i}_r(mF,uMt,{name:d2,inputsCount:1,showOperators:!0});var pF="lt";function fMt(e,t){let[r]=t,i=r;return e.meta.type==="numeric"&&(i=parseFloat(i,10)),e.value<i}_r(pF,fMt,{name:h2,inputsCount:1,showOperators:!0});var gF="lte";function mMt(e,t){let[r]=t,i=r;return e.meta.type==="numeric"&&(i=parseFloat(i,10)),e.value<=i}_r(gF,mMt,{name:u2,inputsCount:1,showOperators:!0});var bF=ot(ba(),1);var NS="date_after";function pMt(e,t){let[r]=t,i=(0,bF.default)(e.value,e.meta.dateFormat),n=(0,bF.default)(r,e.meta.dateFormat);return!i.isValid()||!n.isValid()?!1:i.diff(n)>=0}_r(NS,pMt,{name:p2,inputsCount:1,showOperators:!0});var vF=ot(ba(),1);var LS="date_before";function gMt(e,t){let[r]=t,i=(0,vF.default)(e.value,e.meta.dateFormat),n=(0,vF.default)(r,e.meta.dateFormat);return!i.isValid()||!n.isValid()?!1:i.diff(n)<=0}_r(LS,gMt,{name:g2,inputsCount:1,showOperators:!0});var M_="between";function bMt(e,t){let[r,i]=t,n=r,o=i;if(e.meta.type==="numeric"){let s=parseFloat(n,10),a=parseFloat(o,10);n=Math.min(s,a),o=Math.max(s,a)}else if(e.meta.type==="date"){let s=Rl(LS,[o]),a=Rl(NS,[n]);return s(e)&&a(e)}return e.value>=n&&e.value<=o}_r(M_,bMt,{name:f2,inputsCount:2,showOperators:!0});var yF="not_between";function vMt(e,t){return!Rl(M_,t)(e)}_r(yF,vMt,{name:m2,inputsCount:2,showOperators:!0});var _F="begins_with";function yMt(e,t){let[r]=t;return on(e.value).toLocaleLowerCase(e.meta.locale).startsWith(on(r))}_r(_F,yMt,{name:o2,inputsCount:1,showOperators:!0});var wF="ends_with";function _Mt(e,t){let[r]=t;return on(e.value).toLocaleLowerCase(e.meta.locale).endsWith(on(r))}_r(wF,_Mt,{name:s2,inputsCount:1,showOperators:!0});var FS="contains";function wMt(e,t){let[r]=t;return on(e.value).toLocaleLowerCase(e.meta.locale).indexOf(on(r))>=0}_r(FS,wMt,{name:a2,inputsCount:1,showOperators:!0});var CF="not_contains";function CMt(e,t){return!Rl(FS,t)(e)}_r(CF,CMt,{name:l2,inputsCount:1,showOperators:!0});var xF=ot(ba(),1);var SF="date_tomorrow";function xMt(e){let t=(0,xF.default)(e.value,e.meta.dateFormat);return t.isValid()?t.isSame((0,xF.default)().subtract(-1,"days").startOf("day"),"d"):!1}_r(SF,xMt,{name:v2,inputsCount:0});var EF=ot(ba(),1);var RF="date_today";function SMt(e){let t=(0,EF.default)(e.value,e.meta.dateFormat);return t.isValid()?t.isSame((0,EF.default)().startOf("day"),"d"):!1}_r(RF,SMt,{name:b2,inputsCount:0});var TF=ot(ba(),1);var MF="date_yesterday";function EMt(e){let t=(0,TF.default)(e.value,e.meta.dateFormat);return t.isValid()?t.isSame((0,TF.default)().subtract(1,"days").startOf("day"),"d"):!1}_r(MF,EMt,{name:y2,inputsCount:0});var hCe=ot(_e(),1),uCe=ot(yn(),1),fCe=ot(_n(),1),mCe=ot(wn(),1),pCe=ot(Cn(),1),gCe=ot(xn(),1),bCe=ot(Sn(),1),vCe=ot(En(),1);var wCe=RK();function RMt(e,t){let r=e;return r===""&&(r=`(${t})`),r}var AF=new Set([1]).has(1),TMt=AF&&typeof Array.from=="function";function Tf(e){let t=e;return AF&&(t=new Set(t)),function(r){let i;return AF?i=t.has(r):i=!!~t.indexOf(r),i}}function QI(e){return e??""}function HS(e){let t=e;return TMt?t=Array.from(new Set(t)):t=iM(t),t=t.sort((r,i)=>typeof r=="number"&&typeof i=="number"?r-i:r===i?0:r>i?1:-1),t}function IF(e,t,r,i){let n=[],o=e===t,s;return o||(s=Tf(t)),St(e,a=>{let l=!1;(o||s(a))&&(l=!0);let c={checked:l,value:a,visualValue:RMt(a,r)};i&&i(c),n.push(c)}),n}var ou="by_value";function MMt(e,t){let[r]=t;return r(e.value)}_r(ou,MMt,{name:"By value",inputsCount:0,inputValuesDecorator(e){let[t]=e;return[Tf(t)]},showOperators:!1});var RCe=ot(qt(),1),A_={};function Aet(e){if(!A_[e])throw Error(`Operation with id "${e}" does not exist.`);let t=A_[e].func;return function(r,i){return t(r,i)}}function Iet(e){return A_[e].name}function I_(e,t,r){A_[e]={name:t,func:r}}var Xc="conjunction",AMt=C2;function IMt(e,t){return e.every(r=>r.func(t))}I_(Xc,AMt,IMt);var B0="disjunction",kMt=u0;function DMt(e,t){return e.some(r=>r.func(t))}I_(B0,kMt,DMt);var DCe=ot(qt(),1);var k_="disjunctionWithExtraCondition",OMt=u0;function PMt(e,t){if(e.length<3)throw Error("Operation doesn't work on less then three conditions.");return e.slice(0,e.length-1).some(r=>r.func(t))&&e[e.length-1].func(t)}I_(k_,OMt,PMt);var NMt="numeric",Det="text",LMt="date",ket={[NMt]:[zo,Oi,F0,OS,Oi,H0,PS,Oi,fF,mF,pF,gF,M_,yF],[Det]:[zo,Oi,F0,OS,Oi,H0,PS,Oi,_F,wF,Oi,FS,CF],[LMt]:[zo,Oi,F0,OS,Oi,H0,PS,Oi,LS,NS,M_,Oi,SF,RF,MF]};function kF(e){let t=[],r=e;return ket[r]||(r=Det),St(ket[r],i=>{let n;i===Oi?n={name:Oi}:n=Xo(nu(i)),t.push(n)}),t}var vxe=ot(qt(),1);var hxe=ot(qt(),1);function BS(e,t,r){return t=FMt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FMt(e){var t=HMt(e,"string");return typeof t=="symbol"?t:t+""}function HMt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DF="built",OF="building",Oet=["click","input","keydown","keypress","keyup","focus","blur","change"],ys=class e{static get DEFAULTS(){return Xo({className:"",value:"",tagName:"div",children:[],wrapIt:!0})}constructor(t,r){BS(this,"hot",void 0),BS(this,"eventManager",new Qo(this)),BS(this,"options",void 0),BS(this,"_element",void 0),BS(this,"buildState",void 0),this.hot=t,this.options=zr(e.DEFAULTS,r),this._element=this.hot.rootDocument.createElement(this.options.wrapIt?"div":this.options.tagName)}setValue(t){this.options.value=t,this.update()}getValue(){return this.options.value}get element(){return this.buildState===OF?this._element:this.buildState===DF?(this.update(),this._element):(this.buildState=OF,this.build(),this.buildState=DF,this._element)}isBuilt(){return this.buildState===DF}translateIfPossible(t){return typeof t=="string"&&t.startsWith(xa)?this.hot.getTranslatedPhrase(t):t}build(){let t=(r,i)=>{this.eventManager.addEventListener(r,i,n=>this.runLocalHooks(i,n,this))};if(this.buildState||(this.buildState=OF),this._element.setAttribute("data-hot-input",!0),this.options.tabIndex!==void 0&&this._element.setAttribute("tabindex",this.options.tabIndex),this.options.role!==void 0&&this._element.setAttribute("role",this.options.role),this.options.className&&re(this._element,this.options.className),this.options.children.length)St(this.options.children,r=>this._element.appendChild(r.element));else if(this.options.wrapIt){let r=this.hot.rootDocument.createElement(this.options.tagName);r.setAttribute("data-hot-input",!0),bi(this.options,(i,n)=>{r[n]!==void 0&&n!=="className"&&n!=="tagName"&&n!=="children"&&(r[n]=this.translateIfPossible(i))}),this._element.appendChild(r),St(Oet,i=>t(r,i))}else St(Oet,r=>t(this._element,r))}update(){}reset(){this.options.value="",this.update()}show(){this.element.style.display=""}hide(){this.element.style.display="none"}focus(){}destroy(){this.eventManager.destroy(),this.eventManager=null,this.hot=null,this._element.parentNode&&this._element.parentNode.removeChild(this._element),this._element=null}};Zi(ys,Bn);function BMt(e,t){Net(e,t),t.add(e)}function jMt(e,t,r){Net(e,t),t.set(e,r)}function Net(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function JI(e,t){return e.get(PF(e,t))}function VMt(e,t,r){return e.set(PF(e,t),r),r}function PF(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var D_=new WeakMap,Pet=new WeakSet,zd=class e extends ys{static get DEFAULTS(){return Xo({placeholder:"",type:"text",tagName:"input",tabIndex:-1})}constructor(t,r){super(t,zr(e.DEFAULTS,r)),BMt(this,Pet),jMt(this,D_,void 0),this.registerHooks()}registerHooks(){this.addLocalHook("keyup",t=>PF(Pet,this,zMt).call(this,t))}build(){super.build();let t=this.hot.rootDocument.createElement("div");VMt(D_,this,this._element.firstChild),re(this._element,"htUIInput"),re(t,"htUIInputIcon"),this._element.appendChild(t),this.update()}update(){this.isBuilt()&&(JI(D_,this).type=this.options.type,JI(D_,this).placeholder=this.translateIfPossible(this.options.placeholder),JI(D_,this).value=this.translateIfPossible(this.options.value))}focus(){this.isBuilt()&&JI(D_,this).focus()}};function zMt(e){this.options.value=e.target.value}var xxe=ot(qt(),1);function UMt(e,t){Let(e,t),t.add(e)}function jS(e,t,r){Let(e,t),t.set(e,r)}function Let(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function O_(e,t,r){return e.set(VS(e,t),r),r}function Ao(e,t){return e.get(VS(e,t))}function VS(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var _s=new WeakMap,tk=new WeakMap,ek=new WeakMap,NF=new WeakMap,ik=new WeakMap,rk=new WeakSet,j0=class e extends ys{static get DEFAULTS(){return Xo({className:"htUISelect",wrapIt:!1,tabIndex:-1})}constructor(t,r){super(t,zr(e.DEFAULTS,r)),UMt(this,rk),jS(this,_s,null),jS(this,tk,[]),jS(this,ek,void 0),jS(this,NF,void 0),jS(this,ik,void 0),this.registerHooks()}getMenu(){return Ao(_s,this)}registerHooks(){this.addLocalHook("click",()=>VS(rk,this,$Mt).call(this))}setItems(t){O_(tk,this,this.translateNames(t)),Ao(_s,this)&&Ao(_s,this).setMenuItems(Ao(tk,this))}translateNames(t){return St(t,r=>{r.name=this.translateIfPossible(r.name)}),t}build(){super.build(),O_(_s,this,new Rf(this.hot,{className:"htSelectUI htFiltersConditionsMenu",keepInViewport:!1,standalone:!0,container:this.options.menuContainer})),Ao(_s,this).setMenuItems(Ao(tk,this));let t=new ys(this.hot,{className:"htUISelectCaption"}),r=new ys(this.hot,{className:"htUISelectDropdown"});O_(ek,this,t),O_(NF,this,t.element),O_(ik,this,r),this.hot.getSettings().ariaTags&&(Ke(r.element,[Ps()]),Ke(this._element,[lM()])),St([t,r],i=>this._element.appendChild(i.element)),Ao(_s,this).addLocalHook("select",i=>VS(rk,this,WMt).call(this,i)),Ao(_s,this).addLocalHook("afterClose",()=>VS(rk,this,YMt).call(this)),this.update()}update(){if(!this.isBuilt())return;let t;this.options.value?t=this.options.value.name:t=Ao(_s,this).hot.getTranslatedPhrase(h0),Ao(NF,this).textContent=t,super.update()}openOptions(){let t=this.element.getBoundingClientRect();Ao(_s,this)&&(Ao(_s,this).open(),Ao(_s,this).setPosition({left:this.hot.isLtr()?t.left-5:t.left-31,top:t.top-1,width:t.width,height:t.height}),Ao(_s,this).getNavigator().toFirstItem(),Ao(_s,this).getKeyboardShortcutsCtrl().addCustomShortcuts([{keys:[["Tab"],["Shift","Tab"]],callback:r=>{this.closeOptions(),this.runLocalHooks("tabKeydown",r)}},{keys:[["Control/Meta","A"]],callback:()=>!1}]))}closeOptions(){Ao(_s,this)&&Ao(_s,this).close()}focus(){this.isBuilt()&&this.element.focus()}destroy(){Ao(_s,this)&&(Ao(_s,this).destroy(),O_(_s,this,null)),Ao(ek,this)&&Ao(ek,this).destroy(),Ao(ik,this)&&Ao(ik,this).destroy(),super.destroy()}};function WMt(e){e.name!==Oi&&(this.options.value=e,this.update(),this.runLocalHooks("select",this.options.value))}function YMt(){this.runLocalHooks("afterClose")}function $Mt(){this.openOptions()}function qMt(e,t){GMt(e,t),t.add(e)}function GMt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Fet(e,t,r){return t=KMt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KMt(e){var t=XMt(e,"string");return typeof t=="symbol"?t:t+""}function XMt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Het(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var LF=new WeakSet,P_=class extends Vd{constructor(t,r){super(t,{id:r.id,stateless:!1}),qMt(this,LF),Fet(this,"name",""),Fet(this,"addSeparator",!1),this.name=r.name,this.addSeparator=r.addSeparator,this.elements.push(new j0(this.hot,{menuContainer:r.menuContainer})),this.elements.push(new zd(this.hot,{placeholder:M2})),this.elements.push(new zd(this.hot,{placeholder:A2})),this.registerHooks()}registerHooks(){this.getSelectElement().addLocalHook("select",t=>Het(LF,this,ZMt).call(this,t)).addLocalHook("afterClose",()=>this.runLocalHooks("afterClose")).addLocalHook("tabKeydown",t=>this.runLocalHooks("selectTabKeydown",t)),St(this.getInputElements(),t=>{t.addLocalHook("keydown",r=>Het(LF,this,QMt).call(this,r))})}setState(t){if(this.reset(),!t)return;let r=Xo(t.command);r.name.startsWith(Co)&&(r.name=this.hot.getTranslatedPhrase(r.name)),this.getSelectElement().setValue(r),St(t.args,(i,n)=>{if(n>r.inputsCount-1)return!1;let o=this.getInputElement(n);o.setValue(i),o[r.inputsCount>n?"show":"hide"](),n||this.hot._registerTimeout(()=>o.focus(),10)})}getState(){let t=this.getSelectElement().getValue()||nu(zo),r=[];return St(this.getInputElements(),(i,n)=>{t.inputsCount>n&&r.push(i.getValue())}),{command:t,args:r}}updateState(t,r){let i=t?nu(t.name):nu(zo);this.state.setValueAtIndex(r,{command:i,args:t?t.args:[]}),t||St(this.getInputElements(),n=>n.setValue(null))}getSelectElement(){return this.elements.filter(t=>t instanceof j0)[0]}getInputElement(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.getInputElements()[t]}getInputElements(){return this.elements.filter(t=>t instanceof zd)}getMenuItemDescriptor(){return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:()=>this.isHidden(),renderer:(t,r,i,n,o,s)=>{re(r.parentNode,"htFiltersMenuCondition"),this.addSeparator&&re(r.parentNode,"border");let a=this.hot.rootDocument.createElement("div");return re(a,"htFiltersMenuLabel"),a.textContent=s,r.appendChild(a),St(this.elements,l=>r.appendChild(l.element)),r}}}reset(){let t=this.hot.getPlugin("filters").getSelectedColumn(),r=[nu(zo)];if(t!==null){let{visualIndex:i}=t;r=kF(this.hot.getDataType(0,i,this.hot.countRows(),i))}St(this.getInputElements(),i=>i.hide()),this.getSelectElement().setItems(r),super.reset(),this.getSelectElement().setValue(r[0])}};function ZMt(e){St(this.getInputElements(),(t,r)=>{t[e.inputsCount>r?"show":"hide"](),r===0&&this.hot._registerTimeout(()=>t.focus(),10)}),this.runLocalHooks("change",e)}function QMt(e){Bh(e.keyCode,"ESCAPE")&&(this.runLocalHooks("cancel"),Vo(e))}var Kxe=ot(qt(),1),Xxe=ot(_e(),1);var Yxe=ot(qt(),1);function Bet(e,t,r){JMt(e,t),t.set(e,r)}function JMt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function zS(e,t){return e.get(Vet(e,t))}function jet(e,t,r){return e.set(Vet(e,t),r),r}function Vet(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var N_=new WeakMap,FF=new WeakMap,US=class e extends ys{static get DEFAULTS(){return Xo({type:"radio",tagName:"input",className:"htUIRadio",label:{}})}constructor(t,r){super(t,zr(e.DEFAULTS,r)),Bet(this,N_,void 0),Bet(this,FF,void 0)}build(){super.build();let t=this.hot.rootDocument.createElement("label");t.textContent=this.translateIfPossible(this.options.label.textContent),t.htmlFor=this.translateIfPossible(this.options.label.htmlFor),jet(FF,this,t),jet(N_,this,this._element.firstChild),zS(N_,this).checked=this.options.checked,this._element.appendChild(t),this.update()}update(){this.isBuilt()&&(zS(FF,this).textContent=this.translateIfPossible(this.options.label.textContent))}isChecked(){return this.isBuilt()?zS(N_,this).checked:!1}setChecked(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isBuilt()&&(zS(N_,this).checked=t)}focus(){this.isBuilt()&&zS(N_,this).focus()}};function tAt(e,t){eAt(e,t),t.add(e)}function eAt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function iAt(e,t,r){return t=rAt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rAt(e){var t=nAt(e,"string");return typeof t=="symbol"?t:t+""}function nAt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oAt(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var zet=0,Uet=new WeakSet,nk=class extends Vd{constructor(t,r){super(t,{id:r.id,stateless:!1}),tAt(this,Uet),iAt(this,"name",""),this.name=r.name,this.buildOperatorsElement()}getMenuItemDescriptor(){return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:()=>this.isHidden(),renderer:(t,r)=>(re(r.parentNode,"htFiltersMenuOperators"),St(this.elements,i=>r.appendChild(i.element)),r)}}buildOperatorsElement(){let t=[Xc,B0];St(t,r=>{let i=new US(this.hot,{name:"operator",label:{htmlFor:r,textContent:Iet(r)},value:r,checked:r===t[zet],id:r});i.addLocalHook("change",n=>oAt(Uet,this,sAt).call(this,n)),this.elements.push(i)})}setChecked(t){if(this.elements.length<t)throw Error(Gi`Radio button with index ${t} doesn't exist.`);St(this.elements,(r,i)=>{r.setChecked(i===t)})}getActiveOperationId(){let t=this.elements.find(r=>r instanceof US&&r.isChecked());return t?t.getValue():Xc}getState(){return this.getActiveOperationId()}setState(t){this.reset(),t&&this.getActiveOperationId()!==t&&St(this.elements,r=>{r.setChecked(r.getValue()===t)})}updateState(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Xc,r=arguments.length>1?arguments[1]:void 0,i=t;i===k_&&(i=B0),this.state.setValueAtIndex(r,i)}reset(){this.setChecked(zet)}};function sAt(e){this.setState(e.target.value)}var S2e=ot(qt(),1),E2e=ot(_e(),1);var h2e=ot(qt(),1),u2e=ot(_e(),1);var a2e=ot(qt(),1);function aAt(e,t,r){lAt(e,t),t.set(e,r)}function lAt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function HF(e,t){return e.get(Wet(e,t))}function cAt(e,t,r){return e.set(Wet(e,t),r),r}function Wet(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var WS=new WeakMap,V0=class e extends ys{static get DEFAULTS(){return Xo({href:"#",tagName:"a",tabIndex:-1,role:"button"})}constructor(t,r){super(t,zr(e.DEFAULTS,r)),aAt(this,WS,void 0)}build(){super.build(),cAt(WS,this,this._element.firstChild)}update(){this.isBuilt()&&(HF(WS,this).textContent=this.translateIfPossible(this.options.textContent))}focus(){this.isBuilt()&&HF(WS,this).focus()}activate(){HF(WS,this).click()}};function dAt(e,t){$et(e,t),t.add(e)}function L_(e,t,r){$et(e,t),t.set(e,r)}function $et(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function rr(e,t){return e.get(F_(e,t))}function Ud(e,t,r){return e.set(F_(e,t),r),r}function F_(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var Yet="multipleSelect.itemBox",Wd=new WeakMap,xo=new WeakMap,BF=new WeakMap,Mf=new WeakMap,Mp=new WeakMap,Ap=new WeakMap,YS=new WeakSet,z0=class e extends ys{static get DEFAULTS(){return Xo({className:"htUIMultipleSelect",value:[]})}constructor(t,r){super(t,zr(e.DEFAULTS,r)),dAt(this,YS),L_(this,Wd,[]),L_(this,xo,void 0),L_(this,BF,void 0),L_(this,Mf,void 0),L_(this,Mp,void 0),L_(this,Ap,void 0),Ud(Mf,this,new zd(this.hot,{placeholder:T2,className:"htUIMultipleSelectSearch"})),Ud(Mp,this,new V0(this.hot,{textContent:x2,className:"htUISelectAll"})),Ud(Ap,this,new V0(this.hot,{textContent:S2,className:"htUIClearAll"})),this.registerHooks()}getItemsBox(){return rr(xo,this)}registerHooks(){rr(Mf,this).addLocalHook("keydown",t=>F_(YS,this,uAt).call(this,t)),rr(Mf,this).addLocalHook("input",t=>F_(YS,this,hAt).call(this,t)),rr(Mp,this).addLocalHook("click",t=>F_(YS,this,fAt).call(this,t)),rr(Ap,this).addLocalHook("click",t=>F_(YS,this,mAt).call(this,t))}setItems(t){Ud(Wd,this,t),rr(xo,this)&&rr(xo,this).loadData(rr(Wd,this))}setLocale(t){Ud(BF,this,t)}getLocale(){return rr(BF,this)}getItems(){return[...rr(Wd,this)]}getValue(){return gAt(rr(Wd,this))}getSearchInputElement(){return rr(Mf,this)}getSelectAllElement(){return rr(Mp,this)}getClearAllElement(){return rr(Ap,this)}isSelectedAllValues(){return rr(Wd,this).length===this.getValue().length}build(){super.build();let{rootDocument:t}=this.hot,r=t.createElement("div"),i=new ys(this.hot,{className:"htUISelectionControls",children:[rr(Mp,this),rr(Ap,this)]});this._element.appendChild(rr(Mf,this).element),this._element.appendChild(i.element),this._element.appendChild(r);let n=o=>{if(!this._element)return;rr(xo,this)&&rr(xo,this).destroy(),re(o,"htUIMultipleSelectHot"),Ud(xo,this,new this.hot.constructor(o,{data:rr(Wd,this),columns:[{data:"checked",type:"checkbox",label:{property:"visualValue",position:"after"}}],beforeRenderer:(l,c,d,h,u,f)=>{l.title=f.instance.getDataAtRowProp(c,f.label.property)},afterListen:()=>{this.runLocalHooks("focus",this)},beforeOnCellMouseUp:()=>{rr(xo,this).listen()},colWidths:()=>rr(xo,this).container.scrollWidth-Rn(t),maxCols:1,autoWrapCol:!0,height:110,copyPaste:!1,disableVisualSelection:"area",fillHandle:!1,fragmentSelection:"cell",tabMoves:{row:1,col:0},layoutDirection:this.hot.isRtl()?"rtl":"ltr"})),rr(xo,this).init();let a=rr(xo,this).getShortcutManager().getContext("grid");a.removeShortcutsByKeys(["Tab"]),a.removeShortcutsByKeys(["Shift","Tab"]),a.addShortcut({keys:[["Escape"]],callback:l=>{this.runLocalHooks("keydown",l,this)},group:Yet}),a.addShortcut({keys:[["Tab"],["Shift","Tab"]],callback:l=>{rr(xo,this).deselectCell(),this.runLocalHooks("keydown",l,this),this.runLocalHooks("listTabKeydown",l,this)},group:Yet})};n(r),this.hot._registerTimeout(()=>n(r),100)}focus(){this.isBuilt()&&rr(xo,this).listen()}reset(){rr(Mf,this).reset(),rr(Mp,this).reset(),rr(Ap,this).reset()}update(){this.isBuilt()&&(rr(xo,this).loadData(pAt(rr(Wd,this),this.options.value)),super.update())}destroy(){rr(xo,this)&&rr(xo,this).destroy(),rr(Mf,this).destroy(),rr(Ap,this).destroy(),rr(Mp,this).destroy(),Ud(Mf,this,null),Ud(Ap,this,null),Ud(Mp,this,null),Ud(xo,this,null),Ud(Wd,this,null),super.destroy()}};function hAt(e){let t=e.target.value.toLocaleLowerCase(this.getLocale()),r;t===""?r=[...rr(Wd,this)]:r=rr(Wd,this).filter(i=>`${i.value}`.toLocaleLowerCase(this.getLocale()).indexOf(t)>=0),rr(xo,this).loadData(r)}function uAt(e){this.runLocalHooks("keydown",e,this),bM(Bh,e.keyCode)("ARROW_DOWN")&&(e.preventDefault(),Vo(e),rr(xo,this).listen(),rr(xo,this).selectCell(0,0))}function fAt(e){let t=[];e.preventDefault(),rr(xo,this).getSourceData().forEach((r,i)=>{r.checked=!0,t.push(_6(r,i)[0])}),rr(xo,this).setSourceDataAtCell(t)}function mAt(e){let t=[];e.preventDefault(),rr(xo,this).getSourceData().forEach((r,i)=>{r.checked=!1,t.push(_6(r,i)[0])}),rr(xo,this).setSourceDataAtCell(t)}function pAt(e,t){let r=Tf(t);return e.map(i=>(i.checked=r(i.value),i))}function gAt(e){let t=[];return e.forEach(r=>{r.checked&&t.push(r.value)}),t}function bAt(e,t){vAt(e,t),t.add(e)}function vAt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function yAt(e,t,r){return t=_At(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _At(e){var t=wAt(e,"string");return typeof t=="symbol"?t:t+""}function wAt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ok(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var $S=new WeakSet,sk=class extends Vd{constructor(t,r){super(t,{id:r.id,stateless:!1}),bAt(this,$S),yAt(this,"name",""),this.name=r.name,this.elements.push(new z0(this.hot)),this.registerHooks()}registerHooks(){this.getMultipleSelectElement().addLocalHook("keydown",t=>ok($S,this,CAt).call(this,t)).addLocalHook("listTabKeydown",t=>this.runLocalHooks("listTabKeydown",t)),this.hot.addHook("modifyFiltersMultiSelectValue",(t,r)=>ok($S,this,xAt).call(this,t,r))}getElements(){let t=this.getMultipleSelectElement();return[t.getSearchInputElement(),t.getSelectAllElement(),t.getClearAllElement(),this.getMultipleSelectElement()]}setState(t){if(this.reset(),t&&t.command.key===ou){let r=this.getMultipleSelectElement();r.setItems(t.itemsSnapshot),r.setValue(t.args[0]),r.setLocale(t.locale)}}getState(){let t=this.getMultipleSelectElement(),r=t.getItems();return{command:{key:t.isSelectedAllValues()||!r.length?zo:ou},args:[t.getValue()],itemsSnapshot:r}}updateState(t){let r=(i,n,o,s,a)=>{let[l]=ds(n,h=>h.name===ou),c={},d=this.hot.getTranslatedPhrase(ky);if(l){let h=s(i,a),u=Ci(h,_=>_.value),f=new Map(h.map(_=>[_.value,this.hot.getCellMeta(_.meta.visualRow,_.meta.visualCol)])),m=HS(u);o&&(l.args[0]=o);let g=[],p=IF(m,l.args[0],d,_=>{_.checked&&g.push(_.value),ok($S,this,qet).call(this,_,f)}),b=t.editedConditionStack.column;c.locale=this.hot.getCellMeta(0,b).locale,c.args=[g],c.command=nu(ou),c.itemsSnapshot=p}else c.args=[],c.command=nu(zo);this.state.setValueAtIndex(i,c)};r(t.editedConditionStack.column,t.editedConditionStack.conditions,t.conditionArgsChange,t.filteredRowsFactory),t.dependentConditionStacks.length&&r(t.dependentConditionStacks[0].column,t.dependentConditionStacks[0].conditions,t.conditionArgsChange,t.filteredRowsFactory,t.editedConditionStack)}getMultipleSelectElement(){return this.elements.filter(t=>t instanceof z0)[0]}getMenuItemDescriptor(){return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:()=>this.isHidden(),renderer:(t,r,i,n,o,s)=>{re(r.parentNode,"htFiltersMenuValue");let a=this.hot.rootDocument.createElement("div");return re(a,"htFiltersMenuLabel"),a.textContent=s,r.appendChild(a),St(this.elements,l=>r.appendChild(l.element)),r}}}reset(){let t=this.hot.getTranslatedPhrase(ky),r=this._getColumnVisibleValues(),i=r.map(l=>l.value),n=new Map(r.map(l=>[l.value,l.meta])),o=HS(i),s=IF(o,o,t,l=>{ok($S,this,qet).call(this,l,n)});this.getMultipleSelectElement().setItems(s),super.reset(),this.getMultipleSelectElement().setValue(o);let a=this.hot.getPlugin("filters").getSelectedColumn();a!==null&&this.getMultipleSelectElement().setLocale(this.hot.getCellMeta(0,a.visualIndex).locale)}_getColumnVisibleValues(){let t=this.hot.getPlugin("filters").getSelectedColumn();return t===null?[]:Ci(this.hot.getDataAtCol(t.visualIndex),(r,i)=>({value:QI(r),meta:this.hot.getCellMeta(i,t.visualIndex)}))}};function CAt(e){Bh(e.keyCode,"ESCAPE")&&(this.runLocalHooks("cancel"),Vo(e))}function qet(e,t){this.hot.hasHook("modifyFiltersMultiSelectValue")&&(e.visualValue=this.hot.runHooks("modifyFiltersMultiSelectValue",e.visualValue,t.get(e.value)))}function xAt(e,t){switch(t.type){case"numeric":return cI(e,t);default:return e}}var F2e=ot(qt(),1),H2e=ot(_e(),1);var Ket;function SAt(e,t){EAt(e,t),t.add(e)}function EAt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function RAt(e,t,r){return t=TAt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TAt(e){var t=MAt(e,"string");return typeof t=="symbol"?t:t+""}function MAt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AAt(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var Get=new WeakSet,qS=class e extends Vd{static get BUTTON_OK(){return"ok"}static get BUTTON_CANCEL(){return"cancel"}constructor(t,r){super(t,{id:r.id,stateless:!0}),SAt(this,Get),RAt(this,"name",""),this.name=r.name,this.elements.push(new zd(this.hot,{type:"button",value:E2,className:"htUIButton htUIButtonOK",identifier:e.BUTTON_OK})),this.elements.push(new zd(this.hot,{type:"button",value:R2,className:"htUIButton htUIButtonCancel",identifier:e.BUTTON_CANCEL})),this.registerHooks()}registerHooks(){St(this.elements,t=>{t.addLocalHook("click",(r,i)=>AAt(Get,this,IAt).call(this,r,i))})}getMenuItemDescriptor(){return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:()=>this.isHidden(),renderer:(t,r)=>(re(r.parentNode,"htFiltersMenuActionBar"),St(this.elements,i=>r.appendChild(i.element)),r)}}accept(){this.runLocalHooks("accept")}cancel(){this.runLocalHooks("cancel")}};Ket=qS;function IAt(e,t){t.options.identifier===Ket.BUTTON_OK?this.accept():this.cancel()}var W2e=ot(qt(),1),Y2e=ot(_e(),1);function jF(e,t,r){return t=kAt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kAt(e){var t=DAt(e,"string");return typeof t=="symbol"?t:t+""}function DAt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xet="ConditionCollection.filteringStates",ak=class{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;jF(this,"hot",void 0),jF(this,"isMapRegistrable",void 0),jF(this,"filteringStates",new qh),this.hot=t,this.isMapRegistrable=r,this.isMapRegistrable===!0?this.hot.columnIndexMapper.registerMap(Xet,this.filteringStates):this.filteringStates.init(this.hot.columnIndexMapper.getNumberOfIndexes())}isEmpty(){return this.getFilteredColumns().length===0}isMatch(t,r){var i;let n=this.filteringStates.getValueAtIndex(r),o=(i=n?.conditions)!==null&&i!==void 0?i:[],s=n?.operation;return this.isMatchInConditions(o,t,s)}isMatchInConditions(t,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Xc;return t.length?Aet(i)(t,r):!0}addCondition(t,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Xc,n=arguments.length>3?arguments[3]:void 0,o=this.hot.getCellMeta(0,t).locale,s=Ci(r.args,d=>typeof d=="string"?d.toLocaleLowerCase(o):d),a=r.name||r.command.key;this.runLocalHooks("beforeAdd",t);let l=this.getOperation(t);if(l){if(l!==i)throw Error(Gi`The column of index ${t} has been already applied with a \`${l}\`\x20
        filter operation. Use \`removeConditions\` to clear the current conditions and then add new ones.\x20
        Mind that you cannot mix different types of operations (for instance, if you use \`conjunction\`,\x20
        use it consequently for a particular column).`)}else if(vr(A_[i]))throw new Error(Gi`Unexpected operation named \`${i}\`. Possible ones are\x20
        \`disjunction\` and \`conjunction\`.`);let c=this.getConditions(t);c.length===0?this.filteringStates.setValueAtIndex(t,{operation:i,conditions:[{name:a,args:s,func:Rl(a,s)}]},n):c.push({name:a,args:s,func:Rl(a,s)}),this.runLocalHooks("afterAdd",t)}getConditions(t){var r,i;return(r=(i=this.filteringStates.getValueAtIndex(t))===null||i===void 0?void 0:i.conditions)!==null&&r!==void 0?r:[]}getOperation(t){var r;return(r=this.filteringStates.getValueAtIndex(t))===null||r===void 0?void 0:r.operation}getFilteredColumns(){return this.filteringStates.getEntries().map(t=>{let[r]=t;return r})}getColumnStackPosition(t){return this.getFilteredColumns().indexOf(t)}exportAllConditions(){return cn(this.filteringStates.getEntries(),(t,r)=>{let[i,{operation:n,conditions:o}]=r;return t.push({column:i,operation:n,conditions:Ci(o,s=>{let{name:a,args:l}=s;return{name:a,args:l}})}),t},[])}importAllConditions(t){this.clean(),St(t,r=>{St(r.conditions,i=>this.addCondition(r.column,i))})}removeConditions(t){this.runLocalHooks("beforeRemove",t),this.filteringStates.clearValue(t),this.runLocalHooks("afterRemove",t)}clean(){this.runLocalHooks("beforeClean"),this.filteringStates.clear(),this.runLocalHooks("afterClean")}hasConditions(t,r){let i=this.getConditions(t);return r?i.some(n=>n.name===r):i.length>0}destroy(){this.isMapRegistrable&&this.hot.columnIndexMapper.unregisterMap(Xet),this.filteringStates=null,this.clearLocalHooks()}};Zi(ak,Bn);var lk=ak;var iSe=ot(qt(),1),rSe=ot(_e(),1);function Zet(e,t,r){return t=OAt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OAt(e){var t=PAt(e,"string");return typeof t=="symbol"?t:t+""}function PAt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VF=class{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:()=>[];Zet(this,"conditionCollection",void 0),Zet(this,"columnDataFactory",void 0),this.conditionCollection=t,this.columnDataFactory=r}filter(){let t=[];return St(this.conditionCollection.getFilteredColumns(),(r,i)=>{let n=this.columnDataFactory(r);i&&(n=this._getIntersectData(n,t)),t=this.filterByColumn(r,n)}),t}filterByColumn(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=[];return St(r,n=>{n!==void 0&&this.conditionCollection.isMatch(n,t)&&i.push(n)}),i}_getIntersectData(t,r){let i=[];return St(r,n=>{let o=n.meta.visualRow;t[o]!==void 0&&(i[o]=t[o])}),i}},ck=VF;var sSe=ot(qt(),1),aSe=ot(_e(),1);function NAt(e,t){LAt(e,t),t.add(e)}function LAt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function U0(e,t,r){return t=FAt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FAt(e){var t=HAt(e,"string");return typeof t=="symbol"?t:t+""}function HAt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zF(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var dk=new WeakSet,hk=class{constructor(t,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:()=>[];NAt(this,dk),U0(this,"hot",void 0),U0(this,"conditionCollection",void 0),U0(this,"columnDataFactory",void 0),U0(this,"changes",[]),U0(this,"grouping",!1),U0(this,"latestEditedColumnPosition",-1),U0(this,"latestOrderStack",[]),this.hot=t,this.conditionCollection=r,this.columnDataFactory=i,this.conditionCollection.addLocalHook("beforeRemove",n=>zF(dk,this,BAt).call(this,n)),this.conditionCollection.addLocalHook("afterRemove",n=>this.updateStatesAtColumn(n)),this.conditionCollection.addLocalHook("afterAdd",n=>this.updateStatesAtColumn(n)),this.conditionCollection.addLocalHook("beforeClean",()=>zF(dk,this,jAt).call(this)),this.conditionCollection.addLocalHook("afterClean",()=>zF(dk,this,VAt).call(this))}groupChanges(){this.grouping=!0}flush(){this.grouping=!1,St(this.changes,t=>{this.updateStatesAtColumn(t)}),this.changes.length=0}updateStatesAtColumn(t,r){var i=this;if(this.grouping){this.changes.indexOf(t)===-1&&this.changes.push(t);return}let n=this.conditionCollection.exportAllConditions(),o=this.conditionCollection.getColumnStackPosition(t);o===-1&&(o=this.latestEditedColumnPosition);let s=n.slice(0,o),a=n.slice(o);a.length&&a[0].column===t&&a.shift();let l=aK(function(d,h){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],f=new lk(i.hot,!1),m=[].concat(d,u);f.importAllConditions(m);let g=i.columnDataFactory(h),p;f.isEmpty()?p=g:p=new ck(f,_=>i.columnDataFactory(_)).filter(),p=Ci(p,_=>_.meta.visualRow);let b=Tf(p);return f.destroy(),ds(g,_=>b(_.meta.visualRow))})(s),c=[].concat(this.conditionCollection.getConditions(t));this.runLocalHooks("update",{editedConditionStack:{column:t,conditions:c},dependentConditionStacks:a,filteredRowsFactory:l,conditionArgsChange:r})}destroy(){this.clearLocalHooks(),bi(this,(t,r)=>{this[r]=null})}};function BAt(e){this.latestEditedColumnPosition=this.conditionCollection.getColumnStackPosition(e)}function jAt(){this.latestOrderStack=this.conditionCollection.getFilteredColumns()}function VAt(){St(this.latestOrderStack,e=>{this.updateStatesAtColumn(e)})}Zi(hk,Bn);var Qet=hk;function Jet(e){return OI({initialPage:0,size:()=>e.length,onItemSelect:(r,i)=>{let n=e[r];if(n instanceof z0)return i;if(n.element&&!kc(n.element))return!1;n.focus()}})}var GS="filters";function tit(e,t){let r=-1,i=Jet(t),n=l=>()=>{e.isOpened()&&e.getKeyboardShortcutsCtrl().listen(GS),i.setCurrentPage(t.indexOf(l))};t.forEach(l=>{l instanceof ys&&(l.addLocalHook("click",n(l)),l.addLocalHook("focus",n(l)),l.addLocalHook("afterClose",n(l)))}),e.addLocalHook("afterSelectionChange",l=>{l.key.startsWith("filter_")||i.clear()});function o(l){let c=e.getKeyboardShortcutsCtrl(),d=l.getKeyboardShortcutsCtrl();i.clear(),d.addCustomShortcuts([{keys:[["Tab"],["Shift","Tab"]],forwardToContext:c.getContext(GS),callback:()=>{l.isSubMenu()&&l.close(),c.listen(GS)}}]),!l.isSubMenu()&&c.addCustomShortcuts([{keys:[["Tab"],["Shift","Tab"]],callback:h=>{let u=e.getNavigator();u.getCurrentPage()>-1&&(r=u.getCurrentPage()),u.clear(),h.shiftKey?i.toPreviousItem():i.toNextItem()}},{keys:[["Escape"]],callback:()=>{e.close()}},{keys:[["Enter"],["Space"]],preventDefault:!1,callback:h=>{let u=t[i.getCurrentPage()];u instanceof j0&&(u.openOptions(),h.preventDefault()),u instanceof V0&&(u.activate(),h.preventDefault()),u instanceof ys||h.preventDefault()}}],GS)}e.addLocalHook("afterSubmenuOpen",o),e.addLocalHook("afterOpen",o);function s(){e.focus(),e.getKeyboardShortcutsCtrl().listen(GS)}function a(){return r}return Ue(jt({},i),{listen:s,getLastMenuPage:a})}function zAt(e,t){nit(e,t),t.add(e)}function UAt(e,t,r){nit(e,t),t.set(e,r)}function nit(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function KS(e,t,r){return t=WAt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WAt(e){var t=YAt(e,"string");return typeof t=="symbol"?t:t+""}function YAt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $At(e,t,r){return e.set(ec(e,t),r),r}function XS(e,t){return e.get(ec(e,t))}function ec(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var uk="filters",oit=250,eit=uk,W0=new WeakMap,Zc=new WeakSet,ZS=class extends vi{static get PLUGIN_KEY(){return uk}static get PLUGIN_PRIORITY(){return oit}static get PLUGIN_DEPS(){return["plugin:DropdownMenu","plugin:HiddenRows","cell-type:checkbox"]}constructor(t){super(t),zAt(this,Zc),KS(this,"dropdownMenuPlugin",null),KS(this,"conditionCollection",null),KS(this,"conditionUpdateObserver",null),KS(this,"components",new Map([["filter_by_condition",null],["filter_operators",null],["filter_by_condition2",null],["filter_by_value",null],["filter_action_bar",null]])),KS(this,"filtersRowsMap",null),UAt(this,W0,void 0),this.hot.addHook("afterGetColHeader",(r,i)=>ec(Zc,this,QAt).call(this,r,i))}isEnabled(){return!!this.hot.getSettings()[uk]}enablePlugin(){if(this.enabled)return;this.filtersRowsMap=this.hot.rowIndexMapper.registerMap(this.pluginName,new Uc),this.dropdownMenuPlugin=this.hot.getPlugin("dropdownMenu");let t=this.hot.getSettings().dropdownMenu,r=t&&t.uiContainer||this.hot.rootDocument.body,i=s=>(s.addLocalHook("accept",()=>ec(Zc,this,iit).call(this,"accept")),s.addLocalHook("cancel",()=>ec(Zc,this,iit).call(this,"cancel")),s.addLocalHook("change",a=>ec(Zc,this,ZAt).call(this,s,a)),s),n=()=>`${this.hot.getTranslatedPhrase(_2)}:`,o=()=>`${this.hot.getTranslatedPhrase(w2)}:`;if(!this.components.get("filter_by_condition")){let s=new P_(this.hot,{id:"filter_by_condition",name:n,addSeparator:!1,menuContainer:r});s.addLocalHook("afterClose",()=>ec(Zc,this,rit).call(this)),this.components.set("filter_by_condition",i(s))}if(this.components.get("filter_operators")||this.components.set("filter_operators",new nk(this.hot,{id:"filter_operators",name:"Operators"})),!this.components.get("filter_by_condition2")){let s=new P_(this.hot,{id:"filter_by_condition2",name:"",addSeparator:!0,menuContainer:r});s.addLocalHook("afterClose",()=>ec(Zc,this,rit).call(this)),this.components.set("filter_by_condition2",i(s))}if(this.components.get("filter_by_value")||this.components.set("filter_by_value",i(new sk(this.hot,{id:"filter_by_value",name:o}))),this.components.get("filter_action_bar")||this.components.set("filter_action_bar",i(new qS(this.hot,{id:"filter_action_bar",name:"Action bar"}))),this.conditionCollection||(this.conditionCollection=new lk(this.hot)),this.conditionUpdateObserver||(this.conditionUpdateObserver=new Qet(this.hot,this.conditionCollection,s=>this.getDataMapAtColumn(s)),this.conditionUpdateObserver.addLocalHook("update",s=>ec(Zc,this,JAt).call(this,s))),this.components.forEach(s=>s.show()),this.addHook("afterDropdownMenuDefaultOptions",s=>ec(Zc,this,XAt).call(this,s)),this.addHook("afterDropdownMenuShow",()=>ec(Zc,this,GAt).call(this)),this.addHook("afterDropdownMenuHide",()=>ec(Zc,this,KAt).call(this)),this.addHook("afterChange",s=>ec(Zc,this,qAt).call(this,s)),this.hot.getSettings().dropdownMenu&&this.dropdownMenuPlugin&&(this.dropdownMenuPlugin.disablePlugin(),this.dropdownMenuPlugin.enablePlugin()),!XS(W0,this)&&this.dropdownMenuPlugin.enabled){let s=this.dropdownMenuPlugin.menu,a=[{focus:()=>{let c=s.getNavigator(),d=XS(W0,this).getLastMenuPage();s.focus(),d>0?c.setCurrentPage(d):c.toFirstItem()}},...Array.from(this.components).map(c=>{let[,d]=c;return d.getElements()}).flat()];$At(W0,this,tit(s,a));let l=c=>{XS(W0,this).listen(),c.preventDefault(),Bh(c.keyCode,"TAB")&&(c.shiftKey?XS(W0,this).toPreviousItem():XS(W0,this).toNextItem())};this.components.get("filter_by_value").addLocalHook("listTabKeydown",l),this.components.get("filter_by_condition").addLocalHook("selectTabKeydown",l)}this.registerShortcuts(),super.enablePlugin()}disablePlugin(){if(this.enabled){var t;(t=this.dropdownMenuPlugin)!==null&&t!==void 0&&t.enabled&&this.dropdownMenuPlugin.menu.clearLocalHooks(),this.components.forEach((r,i)=>{r.destroy(),this.components.set(i,null)}),this.conditionCollection.destroy(),this.conditionCollection=null,this.hot.rowIndexMapper.unregisterMap(this.pluginName)}this.unregisterShortcuts(),super.disablePlugin()}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Alt","A"]],stopPropagation:!0,callback:()=>{let t=this.hot.getSelected();this.clearConditions(),this.filter(),t&&this.hot.selectCells(t)},group:eit})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(eit)}addCondition(t,r,i){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Xc,o=this.hot.toPhysicalColumn(t);this.conditionCollection.addCondition(o,{command:{key:r},args:i},n)}removeConditions(t){let r=this.hot.toPhysicalColumn(t);this.conditionCollection.removeConditions(r)}clearConditions(t){if(t===void 0)this.conditionCollection.clean();else{let r=this.hot.toPhysicalColumn(t);this.conditionCollection.removeConditions(r)}}filter(){let{navigableHeaders:t}=this.hot.getSettings(),r=this._createDataFilter(),i=!this.conditionCollection.isEmpty(),n=[],o=this.conditionCollection.exportAllConditions();if(this.hot.runHooks("beforeFilter",o)!==!1)if(i){let a=[];this.hot.batchExecution(()=>{this.filtersRowsMap.clear(),n=Ci(r.filter(),c=>c.meta.visualRow);let l=Tf(n);Oe(this.hot.countSourceRows()-1,c=>{l(c)||a.push(c)}),St(a,c=>{this.filtersRowsMap.setValueAtIndex(c,!0)})},!0),!t&&!n.length&&this.hot.deselectCell()}else this.filtersRowsMap.clear();this.hot.runHooks("afterFilter",o),this.hot.view.adjustElementsSize(),this.hot.render(),this.hot.selection.isSelected()&&this.hot.selectCell(t?-1:0,this.hot.getSelectedRangeLast().highlight.col)}getSelectedColumn(){var t;let r=(t=this.hot.getSelectedRangeLast())===null||t===void 0?void 0:t.highlight;return r?{visualIndex:r.col,physicalIndex:this.hot.toPhysicalColumn(r.col)}:null}getDataMapAtColumn(t){let r=this.hot.toVisualColumn(t),i=[];return St(this.hot.getSourceDataAtCol(r),(n,o)=>{var s;let{row:a,col:l,visualCol:c,visualRow:d,type:h,instance:u,dateFormat:f,locale:m}=this.hot.getCellMeta(o,r),g=(s=this.hot.getDataAtCell(this.hot.toVisualRow(o),r))!==null&&s!==void 0?s:n;i.push({meta:{row:a,col:l,visualCol:c,visualRow:d,type:h,instance:u,dateFormat:f,locale:m},value:QI(g)})}),i}updateValueComponentCondition(t){let r=this.hot.getDataAtCol(t),i=HS(r);this.conditionUpdateObserver.updateStatesAtColumn(t,i)}restoreComponents(t){var r;let i=(r=this.getSelectedColumn())===null||r===void 0?void 0:r.physicalIndex;t.forEach(n=>{n.isHidden()||n.restoreState(i)}),this.updateDependentComponentsVisibility()}getOperationBasedOnArguments(t,r,i,n){let o=t;return o===B0&&r.command.key!==zo&&i.command.key!==zo&&n.command.key!==zo?o=k_:n.command.key!==zo&&(r.command.key===zo||i.command.key===zo)&&(o=Xc),o}setListeningDropdownMenu(){this.dropdownMenuPlugin&&this.dropdownMenuPlugin.setListening()}updateDependentComponentsVisibility(){let t=this.components.get("filter_by_condition"),{command:r}=t.getState(),i=[this.components.get("filter_by_condition2"),this.components.get("filter_operators")];r.showOperators?this.showComponents(...i):this.hideComponents(...i)}_createDataFilter(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.conditionCollection;return new ck(t,r=>this.getDataMapAtColumn(r))}getIndexesOfComponents(){let t=[];if(!this.dropdownMenuPlugin)return t;let r=this.dropdownMenuPlugin.menu;for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return St(n,s=>{St(r.menuItems,(a,l)=>{a.key===s.getMenuItemDescriptor().key&&t.push(l)})}),t}changeComponentsVisibility(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(!this.dropdownMenuPlugin)return;let i=this.dropdownMenuPlugin.menu.hotMenu,n=i.getPlugin("hiddenRows");for(var o=arguments.length,s=new Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];let l=this.getIndexesOfComponents(...s);t?n.showRows(l):n.hideRows(l),i.render()}hideComponents(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];this.changeComponentsVisibility(!1,...r)}showComponents(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];this.changeComponentsVisibility(!0,...r)}destroy(){this.enabled&&(this.components.forEach((t,r)=>{t!==null&&(t.destroy(),this.components.set(r,null))}),this.conditionCollection.destroy(),this.conditionUpdateObserver.destroy(),this.hot.rowIndexMapper.unregisterMap(this.pluginName)),super.destroy()}};function qAt(e){e&&St(e,t=>{let[,r]=t,i=this.hot.propToCol(r);this.conditionCollection.hasConditions(i)&&this.updateValueComponentCondition(i)})}function GAt(){this.restoreComponents(Array.from(this.components.values()))}function KAt(){this.components.get("filter_by_condition").getSelectElement().closeOptions(),this.components.get("filter_by_condition2").getSelectElement().closeOptions()}function XAt(e){e.items.push({name:Oi}),this.components.forEach(t=>{e.items.push(t.getMenuItemDescriptor())})}function iit(e){var t;if(e==="accept"){let i=this.getSelectedColumn();if(i===null){var r;(r=this.dropdownMenuPlugin)===null||r===void 0||r.close();return}let{physicalIndex:n}=i,o=this.components.get("filter_by_condition").getState(),s=this.components.get("filter_by_condition2").getState(),a=this.components.get("filter_by_value").getState(),l=this.getOperationBasedOnArguments(this.components.get("filter_operators").getActiveOperationId(),o,s,a);this.conditionUpdateObserver.groupChanges();let c=this.conditionCollection.getColumnStackPosition(n);c===-1&&(c=void 0),this.conditionCollection.removeConditions(n),o.command.key!==zo&&(this.conditionCollection.addCondition(n,o,l,c),s.command.key!==zo&&this.conditionCollection.addCondition(n,s,l,c)),a.command.key!==zo&&this.conditionCollection.addCondition(n,a,l,c),this.conditionUpdateObserver.flush(),this.components.forEach(d=>d.saveState(n)),this.filtersRowsMap.clear(),this.filter()}(t=this.dropdownMenuPlugin)===null||t===void 0||t.close()}function ZAt(e,t){this.updateDependentComponentsVisibility(),e.constructor===P_&&!t.inputsCount&&this.setListeningDropdownMenu()}function rit(){this.setListeningDropdownMenu()}function QAt(e,t){let r=this.hot.toPhysicalColumn(e);this.enabled&&this.conditionCollection.hasConditions(r)?re(t,"htFiltersActive"):pi(t,"htFiltersActive")}function JAt(e){var t;if(!((t=this.dropdownMenuPlugin)!==null&&t!==void 0&&t.enabled))return;let{editedConditionStack:{conditions:r,column:i}}=e,n=r.filter(s=>s.name===ou),o=r.filter(s=>s.name!==ou);if(n.length>=2||o.length>=3)gr(Gi`The filter conditions have been applied properly, but couldn’t be displayed visually.\x20
        The overall amount of conditions exceed the capability of the dropdown menu.\x20
        For more details see the documentation.`);else{let s=this.conditionCollection.getOperation(i);this.components.get("filter_by_condition").updateState(o[0],i),this.components.get("filter_by_condition2").updateState(o[1],i),this.components.get("filter_operators").updateState(s,i),this.components.get("filter_by_value").updateState(e)}}var _Ee=ot(qt(),1),wEe=ot(_e(),1),CEe=ot(yM(),1),xEe=ot(yn(),1),SEe=ot(_n(),1),EEe=ot(wn(),1),REe=ot(Cn(),1),TEe=ot(xn(),1),MEe=ot(Sn(),1),AEe=ot(En(),1);var tEe=ot(_e(),1);var UF="internal-use-in-handsontable",fk={licenseKey:UF,useArrayArithmetic:!0,useColumnIndex:!1,useStats:!1,evaluateNullToZero:!0,precisionEpsilon:1e-13,precisionRounding:14,smartRounding:!0,leapYear1900:!1,nullDate:{year:1899,month:12,day:30},nullYear:30,dateFormats:["DD/MM/YYYY","DD/MM/YY"],timeFormats:["hh:mm","hh:mm:ss.sss"],matchWholeCell:!0,useRegularExpressions:!1,useWildcards:!0,functionArgSeparator:",",thousandSeparator:"",decimalSeparator:".",language:"enGB"};function sit(e){var t;return{maxColumns:e.maxColumns,maxRows:e.maxRows,language:(t=e[ws])===null||t===void 0||(t=t.language)===null||t===void 0?void 0:t.langCode}}function ait(e){return Object.keys(e).reduce((t,r)=>(r!=="hyperformula"&&(t[r]=e[r]),t),{})}function lit(e){var t;let r=e[ws],i=ait(r!=null&&(t=r.engine)!==null&&t!==void 0&&t.hyperformula?r.engine:{}),n=sit(e);return jt(jt(jt({},fk),i),n)}function cit(e){var t;let r=e[ws],i=ait(r!=null&&(t=r.engine)!==null&&t!==void 0&&t.hyperformula?r.engine:{}),n=sit(e);return jt(jt({},i),n)}function dit(e,t){return Object.keys(t).some(r=>t[r]!==void 0&&t[r]!==e[r])}function mk(){let e="engine_relationship",t=Zo(ws);return t.hasItem(e)||t.register(e,new Map),t.getItem(e)}function WF(){let e="shared_engine_usage",t=Zo(ws);return t.hasItem(e)||t.register(e,new Map),t.getItem(e)}function hit(e){let t=e.getSettings(),r=t[ws],i=r?.engine;if(r===!0||vr(i))return null;if(typeof i.hyperformula=="function"||typeof i=="function"){var n;return tIt((n=i.hyperformula)!==null&&n!==void 0?n:i,t,e)}else if(typeof i=="object"&&vr(i.hyperformula)){let o=mk(),s=WF().get(i);return o.has(i)||o.set(i,[]),o.get(i).push(e),s&&s.push(e.guid),i.getConfig().licenseKey||i.updateConfig({licenseKey:UF}),(i.getConfig().leapYear1900!==fk.leapYear1900||ny(i.getConfig().nullDate,fk.nullDate)===!1)&&gr(Gi`If you use HyperFormula with Handsontable, keep the default \`leapYear1900\` and \`nullDate\` 
      settings. Otherwise, HyperFormula's dates may not sync correctly with Handsontable's dates.`),i}return null}function tIt(e,t,r){let i=t[ws],n=lit(t),o=mk(),s=WF();eIt(e,i.functions),iIt(e,i.language);let a=e.buildEmpty(n);return o.set(a,[r]),s.set(a,[r.guid]),rIt(a,i.namedExpressions),a.on("sheetAdded",()=>{a.rebuildAndRecalculate()}),a.on("sheetRemoved",()=>{a.rebuildAndRecalculate()}),a}function YF(e){var t;let r=mk(),i=r.size===0?[]:Array.from((t=r.get(e))!==null&&t!==void 0?t:[]);return new Map(i.map(n=>[n.getPlugin("formulas").sheetId,n]))}function $F(e,t){if(e){let r=mk(),i=r.get(e),n=WF(),o=n.get(e);i&&i.includes(t)&&(i.splice(i.indexOf(t),1),i.length===0&&r.delete(e)),o&&o.includes(t.guid)&&(o.splice(o.indexOf(t.guid),1),o.length===0&&(n.delete(e),e.destroy()))}}function eIt(e,t){t&&t.forEach(r=>{let{name:i,plugin:n,translations:o}=r;try{e.registerFunction(i,n,o)}catch(s){gr(s.message)}})}function iIt(e,t){if(t){let{langCode:r}=t;try{e.registerLanguage(r,t)}catch(i){gr(i.message)}}}function rIt(e,t){t&&(e.suspendEvaluation(),t.forEach(r=>{let{name:i,expression:n,scope:o,options:s}=r;try{e.addNamedExpression(i,n,o,s)}catch(a){gr(a.message)}}),e.resumeEvaluation())}function uit(e,t){return(vr(t)||!e.doesSheetExist(t))&&(t=e.addSheet(t)),t}var QS=ot(ba(),1),fit="DD/MM/YYYY";function qF(e){return typeof e=="string"&&e.charAt(0)==="'"&&e.charAt(1)==="="}function mit(e){return qF(e)?e.substr(1):e}function pit(e){return typeof e=="string"&&e.startsWith("=")}function pk(e,t){return typeof e=="string"&&t==="date"}function GF(e,t){return(0,QS.default)(e,t,!0).isValid()}function KF(e,t){return(0,QS.default)(e,t,!0).format(fit)}function git(e,t){return(0,QS.default)(e,fit,!0).format(t)}function XF(e,t){let i=new Date(Date.UTC(0,0,e+-1));return(0,QS.default)(i).format(t)}var bEe=ot(qt(),1);var uEe=ot(qt(),1),fEe=ot(_e(),1);var dEe=ot(_e(),1);function nIt(e,t,r){let i=Array.from(Array(r).keys()).filter(o=>e.includes(o)===!1);if(t===0){var n;return(n=i[t])!==null&&n!==void 0?n:0}return i[t-1]+1}function oIt(e,t){let r=[];return e.forEach(i=>{let n={from:i,to:t};r.forEach(o=>{let s=o.from>o.to,a=o.to<=n.from;o.from>n.from&&a&&s&&(n.from+=1)}),n.from>=t&&(t+=1),r.push(n)}),r}function sIt(e){return e.forEach((t,r)=>{e.slice(r+1).forEach(n=>{let o=n.from<n.to;n.from>t.from&&o&&(n.from-=1)})}),e}function JS(e,t,r){let i=oIt(e,nIt(e,t,r));return sIt(i)}function Y0(e,t,r){aIt(e,t),t.set(e,r)}function aIt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function mo(e,t){return e.get(bit(e,t))}function Ip(e,t,r){return e.set(bit(e,t),r),r}function bit(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var tE=new WeakMap,kp=new WeakMap,ic=new WeakMap,gk=new WeakMap,ZF=new WeakMap,QF=new WeakMap,bk=new WeakMap,JF=class{constructor(t,r,i){Y0(this,tE,void 0),Y0(this,kp,void 0),Y0(this,ic,void 0),Y0(this,gk,[]),Y0(this,ZF,[]),Y0(this,QF,void 0),Y0(this,bk,[]),Ip(tE,this,t),Ip(kp,this,r),Ip(ic,this,i)}setRemovedHfIndexes(t){return Ip(bk,this,t.map(r=>{let i=mo(kp,this).getVisualFromPhysicalIndex(r);return this.getHfIndexFromVisualIndex(i)})),mo(bk,this)}getRemovedHfIndexes(){return mo(bk,this)}getHfIndexFromVisualIndex(t){let r=mo(kp,this).getIndexesSequence(),i=mo(kp,this).getNotTrimmedIndexes();return r.indexOf(i[t])}syncMoves(t){let i=`move${na(mo(tE,this))}s`;mo(ic,this).getEngine().batch(()=>{t.forEach(n=>{let o=n.from!==n.to,s=n.from+1!==n.to;o&&s&&mo(ic,this).getEngine()[i](mo(ic,this).getSheetId(),n.from,1,n.to)})})}storeMovesInformation(t,r,i){i!==!1&&(Ip(ZF,this,t.map(n=>this.getHfIndexFromVisualIndex(n))),Ip(QF,this,this.getHfIndexFromVisualIndex(r)))}calculateAndSyncMoves(t,r){if(mo(ic,this).isPerformingUndoRedo()||t===!1||r===!1)return;let i=JS(mo(ZF,this),mo(QF,this),mo(kp,this).getNumberOfIndexes());mo(ic,this).getSheetId()===null?mo(ic,this).getPostponeAction(()=>this.syncMoves(i)):this.syncMoves(i)}getIndexesChangeSyncMethod(){let t=`set${na(mo(tE,this))}Order`;return r=>{if(mo(ic,this).isPerformingUndoRedo())return;let i=mo(kp,this).getIndexesSequence();if(r==="update"&&i.length>0){let n=mo(gk,this).map(l=>i.indexOf(l)),o=mo(ic,this).getEngine().getSheetDimensions(mo(ic,this).getSheetId()),s;mo(tE,this)==="row"?s=o.height:s=o.width;let a=n.length;for(let l=a;l<s;l+=1)n.push(l);mo(ic,this).getEngine()[t](mo(ic,this).getSheetId(),n)}Ip(gk,this,i)}}init(){Ip(gk,this,mo(kp,this).getIndexesSequence())}},t7=JF;function $0(e,t,r){lIt(e,t),t.set(e,r)}function lIt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Af(e,t){return e.get(vit(e,t))}function q0(e,t,r){return e.set(vit(e,t),r),r}function vit(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var vk=new WeakMap,yk=new WeakMap,e7=new WeakMap,i7=new WeakMap,r7=new WeakMap,n7=new WeakMap,o7=new WeakMap,s7=class{constructor(t,r,i){$0(this,vk,void 0),$0(this,yk,void 0),$0(this,e7,void 0),$0(this,i7,!1),$0(this,r7,!1),$0(this,n7,null),$0(this,o7,null),q0(vk,this,new t7("row",t,this)),q0(yk,this,new t7("column",r,this)),q0(e7,this,i)}getForAxis(t){return t==="row"?Af(vk,this):Af(yk,this)}setPerformUndo(t){q0(i7,this,t)}setPerformRedo(t){q0(r7,this,t)}isPerformingUndoRedo(){return Af(i7,this)||Af(r7,this)}getSheetId(){return Af(o7,this)}getEngine(){return Af(n7,this)}getPostponeAction(){return Af(e7,this)}setupSyncEndpoint(t,r){q0(n7,this,t),q0(o7,this,r),Af(vk,this).init(),Af(yk,this).init()}},yit=s7;function cIt(e,t){xit(e,t),t.add(e)}function H_(e,t,r){return t=dIt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dIt(e){var t=hIt(e,"string");return typeof t=="symbol"?t:t+""}function hIt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function a7(e,t,r){xit(e,t),t.set(e,r)}function xit(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Dp(e,t,r){return e.set(kn(e,t),r),r}function B_(e,t){return e.get(kn(e,t))}function kn(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var ws="formulas",uIt=["maxRows","maxColumns","language"],Sit=260;Le.getSingleton().register("afterNamedExpressionAdded");Le.getSingleton().register("afterNamedExpressionRemoved");Le.getSingleton().register("afterSheetAdded");Le.getSingleton().register("afterSheetRemoved");Le.getSingleton().register("afterSheetRenamed");Le.getSingleton().register("afterFormulasValuesUpdate");var j_=e=>e==="UndoRedo.undo"||e==="UndoRedo.redo"||e==="auto",If=new WeakMap,l7=new WeakMap,eE=new WeakMap,zn=new WeakSet,iE=class extends vi{constructor(){var t;super(...arguments),t=this,cIt(this,zn),a7(this,If,!1),a7(this,l7,!1),a7(this,eE,[["valuesUpdated",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return kn(zn,t,MIt).call(t,...i)}],["namedExpressionAdded",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return kn(zn,t,AIt).call(t,...i)}],["namedExpressionRemoved",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return kn(zn,t,IIt).call(t,...i)}],["sheetAdded",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return kn(zn,t,kIt).call(t,...i)}],["sheetRenamed",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return kn(zn,t,DIt).call(t,...i)}],["sheetRemoved",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return kn(zn,t,OIt).call(t,...i)}]]),H_(this,"staticRegister",Zo("formulas")),H_(this,"engine",null),H_(this,"sheetName",null),H_(this,"indexSyncer",null),H_(this,"rowAxisSyncer",null),H_(this,"columnAxisSyncer",null)}static get PLUGIN_KEY(){return ws}static get PLUGIN_PRIORITY(){return Sit}static get SETTING_KEYS(){return[ws,...uIt]}get sheetId(){return this.sheetName===null?null:this.engine.getSheetId(this.sheetName)}isEnabled(){return!!this.hot.getSettings()[ws]}enablePlugin(){var t,r=this;if(!this.enabled){if(this.engine=(t=hit(this.hot))!==null&&t!==void 0?t:this.engine,!this.engine){gr("Missing the required `engine` key in the Formulas settings. Please fill it with either an engine class or an engine instance.");return}if(this.sheetName!==null&&!this.engine.doesSheetExist(this.sheetName)){let i=this.addSheet(this.sheetName,this.hot.getSourceDataArray());i!==!1&&(this.sheetName=i)}this.addHook("beforeLoadData",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return kn(zn,r,_it).call(r,...n)}),this.addHook("afterLoadData",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return kn(zn,r,wit).call(r,...n)}),this.addHook("beforeUpdateData",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return kn(zn,r,_it).call(r,...n)}),this.addHook("afterUpdateData",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return kn(zn,r,wit).call(r,...n)}),this.addHook("modifyData",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return kn(zn,r,gIt).call(r,...n)}),this.addHook("modifySourceData",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return kn(zn,r,bIt).call(r,...n)}),this.addHook("beforeValidate",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return kn(zn,r,fIt).call(r,...n)}),this.addHook("afterSetSourceDataAtCell",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return kn(zn,r,vIt).call(r,...n)}),this.addHook("afterSetDataAtCell",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return kn(zn,r,Cit).call(r,...n)}),this.addHook("afterSetDataAtRowProp",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return kn(zn,r,Cit).call(r,...n)}),this.addHook("beforeCreateRow",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return kn(zn,r,yIt).call(r,...n)}),this.addHook("beforeCreateCol",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return kn(zn,r,_It).call(r,...n)}),this.addHook("afterCreateRow",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return kn(zn,r,xIt).call(r,...n)}),this.addHook("afterCreateCol",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return kn(zn,r,SIt).call(r,...n)}),this.addHook("beforeRemoveRow",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return kn(zn,r,wIt).call(r,...n)}),this.addHook("beforeRemoveCol",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return kn(zn,r,CIt).call(r,...n)}),this.addHook("afterRemoveRow",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return kn(zn,r,EIt).call(r,...n)}),this.addHook("afterRemoveCol",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return kn(zn,r,RIt).call(r,...n)}),this.indexSyncer=new yit(this.hot.rowIndexMapper,this.hot.columnIndexMapper,i=>{this.hot.addHookOnce("init",()=>{i()})}),this.rowAxisSyncer=this.indexSyncer.getForAxis("row"),this.columnAxisSyncer=this.indexSyncer.getForAxis("column"),this.hot.addHook("afterRowSequenceChange",this.rowAxisSyncer.getIndexesChangeSyncMethod()),this.hot.addHook("afterColumnSequenceChange",this.columnAxisSyncer.getIndexesChangeSyncMethod()),this.hot.addHook("beforeRowMove",(i,n,o,s)=>{this.rowAxisSyncer.storeMovesInformation(i,n,s)}),this.hot.addHook("beforeColumnMove",(i,n,o,s)=>{this.columnAxisSyncer.storeMovesInformation(i,n,s)}),this.hot.addHook("afterRowMove",(i,n,o,s,a)=>{this.rowAxisSyncer.calculateAndSyncMoves(s,a)}),this.hot.addHook("afterColumnMove",(i,n,o,s,a)=>{this.columnAxisSyncer.calculateAndSyncMoves(s,a)}),this.hot.addHook("beforeColumnFreeze",(i,n)=>{this.columnAxisSyncer.storeMovesInformation([i],this.hot.getSettings().fixedColumnsStart,n)}),this.hot.addHook("afterColumnFreeze",(i,n)=>{this.columnAxisSyncer.calculateAndSyncMoves(n,n)}),this.hot.addHook("beforeColumnUnfreeze",(i,n)=>{this.columnAxisSyncer.storeMovesInformation([i],this.hot.getSettings().fixedColumnsStart-1,n)}),this.hot.addHook("afterColumnUnfreeze",(i,n)=>{this.columnAxisSyncer.calculateAndSyncMoves(n,n)}),this.addHook("afterCellMetaReset",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return kn(zn,r,pIt).call(r,...n)}),this.addHook("beforeUndo",()=>{this.indexSyncer.setPerformUndo(!0),this.engine.undo()}),this.addHook("beforeRedo",()=>{this.indexSyncer.setPerformRedo(!0),this.engine.redo()}),this.addHook("afterUndo",()=>{this.indexSyncer.setPerformUndo(!1)}),this.addHook("afterUndo",()=>{this.indexSyncer.setPerformRedo(!1)}),this.addHook("afterDetachChild",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return kn(zn,r,TIt).call(r,...n)}),this.addHook("beforeAutofill",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return kn(zn,r,mIt).call(r,...n)}),B_(eE,this).forEach(i=>{let[n,o]=i;return this.engine.on(n,o)}),super.enablePlugin()}}disablePlugin(){B_(eE,this).forEach(t=>{let[r,i]=t;return this.engine.off(r,i)}),$F(this.engine,this.hot),this.engine=null,super.disablePlugin()}updatePlugin(t){let r=cit(this.hot.getSettings());dit(this.engine.getConfig(),r)&&this.engine.updateConfig(r);let i=this.hot.getSettings()[ws];if(Ne(i)&&Ne(i.sheetName)&&i.sheetName!==this.sheetName&&this.switchSheet(i.sheetName),!t.data&&this.sheetName===null){let n=this.hot.getSettings()[ws].sheetName;n&&this.engine.doesSheetExist(n)?this.switchSheet(this.sheetName):this.sheetName=this.addSheet(n??void 0,this.hot.getSourceDataArray())}super.updatePlugin(t)}destroy(){B_(eE,this).forEach(t=>{var r;let[i,n]=t;return(r=this.engine)===null||r===void 0?void 0:r.off(i,n)}),Dp(eE,this,null),$F(this.engine,this.hot),this.engine=null,super.destroy()}addSheet(t,r){if(Ne(r)&&!JX(r))return gr("The provided data should be an array of arrays."),!1;if(t!=null&&this.engine.doesSheetExist(t))return gr("Sheet with the provided name already exists."),!1;try{let i=this.engine.addSheet(t??void 0);return r&&this.engine.setSheetContent(this.engine.getSheetId(i),r),i}catch(i){return gr(i.message),!1}}switchSheet(t){if(!this.engine.doesSheetExist(t)){hy(`The sheet named \`${t}\` does not exist, switch aborted.`);return}this.sheetName=t;let r=this.engine.getSheetSerialized(this.sheetId);r.length>0&&this.hot.loadData(r,`${na(ws)}.switchSheet`)}getCellType(t,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.sheetId,n=this.hot.toPhysicalRow(t),o=this.hot.toPhysicalColumn(r);return n!==null&&o!==null?this.engine.getCellType({sheet:i,row:this.rowAxisSyncer.getHfIndexFromVisualIndex(t),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(r)}):"EMPTY"}isFormulaCellType(t,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.sheetId;return this.engine.doesCellHaveFormula({sheet:i,row:this.rowAxisSyncer.getHfIndexFromVisualIndex(t),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(r)})}renderDependentSheets(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=new Set;t.forEach(n=>{var o;let s=n==null||(o=n.address)===null||o===void 0?void 0:o.sheet;s!==void 0&&(i.has(s)||i.add(s))}),YF(this.engine).forEach((n,o)=>{if((r||o!==this.sheetId)&&i.has(o)){var s;n.render(),(s=n.view)===null||s===void 0||s.adjustElementsSize()}})}validateDependentCells(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=o=>{var s;let{row:a,col:l,sheet:c}=(s=o?.address)!==null&&s!==void 0?s:{};return Ne(c)?`${c}:${a}x${l}`:""},n=new Set(r.map(o=>i(o)));t.forEach(o=>{var s,a;let{row:l,col:c}=(s=o.address)!==null&&s!==void 0?s:{};if(Ne(l)===!1||Ne(c)===!1||l>=this.hot.countRows()||c>=this.hot.countCols())return;let d=o==null||(a=o.address)===null||a===void 0?void 0:a.sheet,h=i(o);if(d!==void 0&&!n.has(h)){let u=YF(this.engine).get(d);if(!u)return;u.validateCell(u.getDataAtCell(l,c),u.getCellMeta(l,c),()=>{})}})}syncChangeWithEngine(t,r,i){let n={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(t),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(r),sheet:this.sheetId};if(!this.engine.isItPossibleToSetCellContents(n)){gr(`Not possible to set cell data at ${JSON.stringify(n)}`);return}let o=this.hot.getCellMeta(t,r);return pk(i,o.type)&&(GF(i,o.dateFormat)?i=KF(i,o.dateFormat):pit(i)===!1&&(i=`'${i}`)),this.engine.setCellContents(n,i)}};function fIt(e,t,r){let i=this.hot.propToCol(r);if(this.isFormulaCellType(t,i)){let n={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(t),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(i),sheet:this.sheetId},o=this.hot.getCellMeta(t,i),s=this.engine.getCellValue(n);return o.type==="date"&&Jo(s)&&(s=XF(s,o.dateFormat)),typeof s=="object"&&s!==null?s.value:s}return e}function mIt(e,t,r){let{row:i,col:n}=t.getTopStartCorner(),{row:o,col:s}=t.getBottomEndCorner(),{row:a,col:l}=r.getTopStartCorner(),{row:c,col:d}=r.getBottomEndCorner(),h={start:{row:this.rowAxisSyncer.getHfIndexFromVisualIndex(i),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(n),sheet:this.sheetId},end:{row:this.rowAxisSyncer.getHfIndexFromVisualIndex(o),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(s),sheet:this.sheetId}},u={start:{row:this.rowAxisSyncer.getHfIndexFromVisualIndex(a),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(l),sheet:this.sheetId},end:{row:this.rowAxisSyncer.getHfIndexFromVisualIndex(c),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(d),sheet:this.sheetId}};if(this.engine.isItPossibleToSetCellContents(u)===!1)return!1;let f=this.engine.getFillRangeData(h,u),{row:m,col:g}=h.start,{row:p,col:b}=h.end,_=p-m+1,E=b-g+1;for(let O=0;O<f.length;O+=1)for(let V=0;V<f[O].length;V+=1){let H=f[O][V],F=O%_,L=V%E,q=this.hot.getCellMeta(F,L);pk(H,q.type)&&(H.startsWith("'")?f[O][V]=H.slice(1):this.isFormulaCellType(F,L,this.sheetId)===!1&&(f[O][V]=git(H,q.dateFormat)))}return f}function _it(e,t){(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"").includes(na(ws))||Dp(l7,this,vr(this.hot.getSettings().data))}function pIt(){let e=this.hot.getSourceDataArray(),t=!1;e.forEach((r,i)=>{r.forEach((n,o)=>{let s=this.hot.getCellMeta(i,o),a=s.dateFormat;pk(n,s.type)&&(t=!0,GF(n,a)?e[i][o]=KF(n,a):this.isFormulaCellType(i,o)===!1&&(e[i][o]=`'${n}`))})}),t===!0&&(Dp(If,this,!0),this.engine.setSheetContent(this.sheetId,e),Dp(If,this,!1))}function wit(e,t){if(!(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"").includes(na(ws)))if(this.sheetName=uit(this.engine,this.hot.getSettings()[ws].sheetName),B_(l7,this))this.switchSheet(this.sheetName);else{let i=this.hot.getSourceDataArray();if(this.engine.isItPossibleToReplaceSheetContent(this.sheetId,i)){Dp(If,this,!0);let n=this.engine.setSheetContent(this.sheetId,i);this.indexSyncer.setupSyncEndpoint(this.engine,this.sheetId),this.renderDependentSheets(n),Dp(If,this,!1)}}}function gIt(e,t,r,i){if(i!=="get"||B_(If,this)||this.sheetName===null||!this.engine.doesSheetExist(this.sheetName))return;let n=this.hot.toVisualRow(e);if(n===null||t===null)return;if(!this.isFormulaCellType(n,t)&&this.getCellType(n,t)!=="ARRAY"){qF(r.value)&&(r.value=mit(r.value));return}let s={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(n),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(t),sheet:this.sheetId},a=this.engine.getCellValue(s),l=this.hot.getCellsMeta().find(d=>d.visualRow===n&&d.visualCol===t);l===void 0&&(l={}),l.type==="date"&&Jo(a)&&(a=XF(a,l.dateFormat));let c=typeof a=="object"&&a!==null?a.value:a;r.value=c}function bIt(e,t,r,i){if(i!=="get"||B_(If,this)||this.sheetName===null||!this.engine.doesSheetExist(this.sheetName))return;let n=this.hot.toVisualRow(e),o=this.hot.propToCol(t);if(n===null||o===null||!this.isFormulaCellType(n,o)&&this.getCellType(n,o)!=="ARRAY")return;let a=this.engine.getSheetDimensions(this.engine.getSheetId(this.sheetName));if(a.width===0&&a.height===0)return;let l={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(n),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(o),sheet:this.sheetId};r.value=this.engine.getCellSerialized(l)}function Cit(e,t){if(j_(t))return;let r=[],i=[],n=this.engine.batch(()=>{e.forEach(o=>{let[s,a,,l]=o,c=this.hot.propToCol(a),d=this.hot.toPhysicalRow(s),h=this.hot.toPhysicalColumn(c),u={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(s),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(c),sheet:this.sheetId};d!==null&&h!==null?this.syncChangeWithEngine(s,c,l):r.push([s,c,l]),i.push({address:u})})});r.length&&this.hot.addHookOnce("afterChange",()=>{let o=this.engine.batch(()=>{r.forEach(s=>{let[a,l,c]=s;this.syncChangeWithEngine(a,l,c)})});this.renderDependentSheets(o,!0)}),this.renderDependentSheets(n),this.validateDependentCells(n,i)}function vIt(e,t){if(j_(t))return;let r=[],i=[];e.forEach(n=>{let[o,s,,a]=n,l=this.hot.propToCol(s);if(!Jo(l))return;let c={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(o),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(l),sheet:this.sheetId};if(!this.engine.isItPossibleToSetCellContents(c)){gr(`Not possible to set source cell data at ${JSON.stringify(c)}`);return}i.push({address:c}),r.push(...this.engine.setCellContents(c,a))}),this.renderDependentSheets(r),this.validateDependentCells(r,i)}function yIt(e,t){let r=this.rowAxisSyncer.getHfIndexFromVisualIndex(e);if(e>=this.hot.countRows()&&(r=e),this.sheetId===null||!this.engine.doesSheetExist(this.sheetName)||!this.engine.isItPossibleToAddRows(this.sheetId,[r,t]))return!1}function _It(e,t){let r=this.columnAxisSyncer.getHfIndexFromVisualIndex(e);if(e>=this.hot.countCols()&&(r=e),this.sheetId===null||!this.engine.doesSheetExist(this.sheetName)||!this.engine.isItPossibleToAddColumns(this.sheetId,[r,t]))return!1}function wIt(e,t,r){return this.rowAxisSyncer.setRemovedHfIndexes(r).every(o=>this.engine.isItPossibleToRemoveRows(this.sheetId,[o,1]))===!1?!1:void 0}function CIt(e,t,r){return this.columnAxisSyncer.setRemovedHfIndexes(r).every(o=>this.engine.isItPossibleToRemoveColumns(this.sheetId,[o,1]))===!1?!1:void 0}function xIt(e,t,r){if(j_(r))return;let i=this.engine.addRows(this.sheetId,[this.rowAxisSyncer.getHfIndexFromVisualIndex(e),t]);this.renderDependentSheets(i)}function SIt(e,t,r){if(j_(r))return;let i=this.engine.addColumns(this.sheetId,[this.columnAxisSyncer.getHfIndexFromVisualIndex(e),t]);this.renderDependentSheets(i)}function EIt(e,t,r,i){if(j_(i))return;let n=this.rowAxisSyncer.getRemovedHfIndexes().sort((s,a)=>a-s),o=this.engine.batch(()=>{n.forEach(s=>{this.engine.removeRows(this.sheetId,[s,1])})});this.renderDependentSheets(o)}function RIt(e,t,r,i){if(j_(i))return;let n=this.columnAxisSyncer.getRemovedHfIndexes().sort((s,a)=>a-s),o=this.engine.batch(()=>{n.forEach(s=>{this.engine.removeColumns(this.sheetId,[s,1])})});this.renderDependentSheets(o)}function TIt(e,t,r){var i;Dp(If,this,!0);let n=this.hot.getSourceDataArray(r,0,r+(((i=t.__children)===null||i===void 0?void 0:i.length)||0),this.hot.countSourceCols());Dp(If,this,!1),n.forEach((o,s)=>{o.forEach((a,l)=>{this.engine.setCellContents({col:l,row:r+s,sheet:this.sheetId},[[a]])})})}function MIt(e){this.hot.runHooks("afterFormulasValuesUpdate",e)}function AIt(e,t){this.hot.runHooks("afterNamedExpressionAdded",e,t)}function IIt(e,t){this.hot.runHooks("afterNamedExpressionRemoved",e,t)}function kIt(e){this.hot.runHooks("afterSheetAdded",e)}function DIt(e,t){this.sheetName=t,this.hot.runHooks("afterSheetRenamed",e,t)}function OIt(e,t){this.hot.runHooks("afterSheetRemoved",e,t)}var XEe=ot(qt(),1),ZEe=ot(_e(),1),QEe=ot(yn(),1),JEe=ot(_n(),1),tRe=ot(wn(),1),eRe=ot(Cn(),1),iRe=ot(xn(),1),rRe=ot(Sn(),1),nRe=ot(En(),1);var YEe=ot(_e(),1);function c7(e){return{key:"hidden_columns_hide",name(){let t=this.getSelectedLast(),r=0;if(Array.isArray(t)){let[,i,,n]=t;i-n!==0&&(r=1)}return this.getTranslatedPhrase(Zx,r)},callback(){let{from:t,to:r}=this.getSelectedRangeLast(),i=Math.max(Math.min(t.col,r.col),0),n=Math.max(t.col,r.col),o=[];for(let l=i;l<=n;l+=1)o.push(l);e.hideColumns(o);let s=o[o.length-1],a=this.columnIndexMapper.getNearestNotHiddenIndex(s,1,!0);Number.isInteger(a)&&a>=0?this.selectColumns(a):this.deselectCell(),this.render(),this.view.adjustElementsSize()},disabled:!1,hidden(){return!(this.selection.isSelectedByColumnHeader()||this.selection.isSelectedByCorner())}}}var qEe=ot(_e(),1);function d7(e){let t=[];return{key:"hidden_columns_show",name(){let r=t.length>1?1:0;return this.getTranslatedPhrase(Qx,r)},callback(){var r,i;if(t.length===0)return;let n=t[0],o=t[t.length-1];n=(r=this.columnIndexMapper.getNearestNotHiddenIndex(n-1,-1))!==null&&r!==void 0?r:0,o=(i=this.columnIndexMapper.getNearestNotHiddenIndex(o+1,1))!==null&&i!==void 0?i:this.countCols()-1,e.showColumns(t),this.render(),this.view.adjustElementsSize(),o-n+1===this.countCols()||this.selectColumns(n,o)},disabled:!1,hidden(){let r=Ci(e.getHiddenColumns(),h=>this.toPhysicalColumn(h));if(!(this.selection.isSelectedByColumnHeader()||this.selection.isSelectedByCorner())||r.length<1)return!0;t.length=0;let i=this.getSelectedRangeLast(),n=i.getTopStartCorner().col,o=i.getBottomEndCorner().col,s=this.columnIndexMapper,a=s.getRenderableFromVisualIndex(n),l=s.getRenderableFromVisualIndex(o),c=s.getNotTrimmedIndexes(),d=[];if(n!==o){let h=o-n+1,u=l-a+1;if(h>u){let f=c.slice(n,o+1);d.push(...f.filter(m=>r.includes(m)))}}else if(a===0&&a<n)d.push(...c.slice(0,n));else if(a===null)d.push(...c.slice(0,this.countCols()));else{let h=this.countCols()-1,u=s.getRenderableFromVisualIndex(s.getNearestNotHiddenIndex(h,-1));l===u&&h>o&&d.push(...c.slice(o+1))}return St(d,h=>{t.push(this.toVisualColumn(h))}),t.length===0}}}function PIt(e,t){Rit(e,t),t.add(e)}function Eit(e,t,r){Rit(e,t),t.set(e,r)}function Rit(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function rc(e,t){return e.get(Op(e,t))}function rE(e,t,r){return e.set(Op(e,t),r),r}function Op(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}Le.getSingleton().register("beforeHideColumns");Le.getSingleton().register("afterHideColumns");Le.getSingleton().register("beforeUnhideColumns");Le.getSingleton().register("afterUnhideColumns");var _k="hiddenColumns",Tit=310,au=new WeakMap,su=new WeakMap,G0=new WeakSet,nE=class extends vi{constructor(){super(...arguments),PIt(this,G0),Eit(this,au,{}),Eit(this,su,null)}static get PLUGIN_KEY(){return _k}static get PLUGIN_PRIORITY(){return Tit}isEnabled(){return!!this.hot.getSettings()[_k]}enablePlugin(){var t=this;if(this.enabled)return;let r=this.hot.getSettings()[_k];gi(r)&&(rE(au,this,r),vr(r.copyPasteEnabled)&&(r.copyPasteEnabled=!0)),rE(su,this,new $h),rc(su,this).addLocalHook("init",()=>Op(G0,this,jIt).call(this)),this.hot.columnIndexMapper.registerMap(this.pluginName,rc(su,this)),this.addHook("afterContextMenuDefaultOptions",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return Op(G0,t,BIt).call(t,...n)}),this.addHook("afterGetCellMeta",(i,n,o)=>Op(G0,this,LIt).call(this,i,n,o)),this.addHook("modifyColWidth",(i,n)=>Op(G0,this,NIt).call(this,i,n),2),this.addHook("afterGetColHeader",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return Op(G0,t,HIt).call(t,...n)}),this.addHook("modifyCopyableRange",i=>Op(G0,this,FIt).call(this,i)),super.enablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.hot.columnIndexMapper.unregisterMap(this.pluginName),rE(au,this,{}),super.disablePlugin(),this.resetCellsMeta()}showColumns(t){let r=this.getHiddenColumns(),i=this.isValidConfig(t),n=r,o=rc(su,this).getValues().slice(),s=t.length>0;if(i&&s){let l=t.map(c=>this.hot.toPhysicalColumn(c));St(l,c=>{o[c]=!1}),n=cn(o,(c,d,h)=>(d&&c.push(this.hot.toVisualColumn(h)),c),[])}this.hot.runHooks("beforeUnhideColumns",r,n,i&&s)!==!1&&(i&&s&&rc(su,this).setValues(o),this.hot.view.adjustElementsSize(),this.hot.runHooks("afterUnhideColumns",r,n,i&&s,i&&n.length<r.length))}showColumn(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];this.showColumns(r)}hideColumns(t){let r=this.getHiddenColumns(),i=this.isValidConfig(t),n=r;i&&(n=Array.from(new Set(r.concat(t)))),this.hot.runHooks("beforeHideColumns",r,n,i)!==!1&&(i&&this.hot.batchExecution(()=>{St(t,s=>{rc(su,this).setValueAtIndex(this.hot.toPhysicalColumn(s),!0)})},!0),this.hot.runHooks("afterHideColumns",r,n,i,i&&n.length>r.length))}hideColumn(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];this.hideColumns(r)}getHiddenColumns(){return Ci(rc(su,this).getHiddenIndexes(),t=>this.hot.toVisualColumn(t))}isHidden(t){return rc(su,this).getValueAtIndex(this.hot.toPhysicalColumn(t))||!1}isValidConfig(t){let r=this.hot.countCols();return Array.isArray(t)&&t.length>0?t.every(i=>Number.isInteger(i)&&i>=0&&i<r):!1}resetCellsMeta(){St(this.hot.getCellsMeta(),t=>{t&&(t.skipColumnOnPaste=!1)})}destroy(){rE(au,this,null),rE(su,this,null),super.destroy()}};function NIt(e,t){if(this.isHidden(t))return 0;if(rc(au,this).indicators&&(this.isHidden(t+1)||this.isHidden(t-1))&&typeof e=="number"&&this.hot.hasColHeaders())return e+15}function LIt(e,t,r){if(rc(au,this).copyPasteEnabled===!1&&this.isHidden(t)&&(r.skipColumnOnPaste=!0),this.isHidden(t-1))r.className=r.className||"",r.className.indexOf("afterHiddenColumn")===-1&&(r.className+=" afterHiddenColumn");else if(r.className){let i=r.className.split(" ");if(i.length>0){let n=i.indexOf("afterHiddenColumn");n>-1&&i.splice(n,1),r.className=i.join(" ")}}}function FIt(e){if(rc(au,this).copyPasteEnabled)return e;let t=[],r=(i,n,o,s)=>{t.push({startRow:i,endRow:n,startCol:o,endCol:s})};return St(e,i=>{let n=!0,o=0;Oe(i.startCol,i.endCol,s=>{this.isHidden(s)?(n||r(i.startRow,i.endRow,o,s-1),n=!0):(n&&(o=s),s===i.endCol&&r(i.startRow,i.endRow,o,s),n=!1)})}),t}function HIt(e,t){if(!rc(au,this).indicators||e<0)return;let r=[];e>=1&&this.isHidden(e-1)&&r.push("afterHiddenColumn"),e<this.hot.countCols()-1&&this.isHidden(e+1)&&r.push("beforeHiddenColumn"),re(t,r)}function BIt(e){e.items.push({name:Oi},c7(this),d7(this))}function jIt(){Array.isArray(rc(au,this).columns)&&this.hideColumns(rc(au,this).columns)}var SRe=ot(qt(),1),ERe=ot(_e(),1),RRe=ot(yn(),1),TRe=ot(_n(),1),MRe=ot(wn(),1),ARe=ot(Cn(),1),IRe=ot(xn(),1),kRe=ot(Sn(),1),DRe=ot(En(),1);var yRe=ot(_e(),1);function h7(e){return{key:"hidden_rows_hide",name(){let t=this.getSelectedLast(),r=0;if(Array.isArray(t)){let[i,,n]=t;i-n!==0&&(r=1)}return this.getTranslatedPhrase(Jx,r)},callback(){let{from:t,to:r}=this.getSelectedRangeLast(),i=Math.max(Math.min(t.row,r.row),0),n=Math.max(t.row,r.row),o=[];for(let l=i;l<=n;l+=1)o.push(l);e.hideRows(o);let s=o[o.length-1],a=this.rowIndexMapper.getNearestNotHiddenIndex(s,1,!0);Number.isInteger(a)&&a>=0?this.selectRows(a):this.deselectCell(),this.render(),this.view.adjustElementsSize()},disabled:!1,hidden(){return!(this.selection.isSelectedByRowHeader()||this.selection.isSelectedByCorner())}}}var wRe=ot(_e(),1);function u7(e){let t=[];return{key:"hidden_rows_show",name(){let r=t.length>1?1:0;return this.getTranslatedPhrase(t2,r)},callback(){var r,i;if(t.length===0)return;let n=t[0],o=t[t.length-1];n=(r=this.rowIndexMapper.getNearestNotHiddenIndex(n-1,-1))!==null&&r!==void 0?r:0,o=(i=this.rowIndexMapper.getNearestNotHiddenIndex(o+1,1))!==null&&i!==void 0?i:this.countRows()-1,e.showRows(t),this.render(),this.view.adjustElementsSize(),o-n+1===this.countRows()||this.selectRows(n,o)},disabled:!1,hidden(){let r=Ci(e.getHiddenRows(),h=>this.toPhysicalRow(h));if(!(this.selection.isSelectedByRowHeader()||this.selection.isSelectedByCorner())||r.length<1)return!0;t.length=0;let i=this.getSelectedRangeLast(),n=i.getTopStartCorner().row,o=i.getBottomEndCorner().row,s=this.rowIndexMapper,a=s.getRenderableFromVisualIndex(n),l=s.getRenderableFromVisualIndex(o),c=s.getNotTrimmedIndexes(),d=[];if(n!==o){let h=o-n+1,u=l-a+1;if(h>u){let f=c.slice(n,o+1);d.push(...f.filter(m=>r.includes(m)))}}else if(a===0&&a<n)d.push(...c.slice(0,n));else if(a===null)d.push(...c.slice(0,this.countRows()));else{let h=this.countRows()-1,u=s.getRenderableFromVisualIndex(s.getNearestNotHiddenIndex(h,-1));l===u&&h>o&&d.push(...c.slice(o+1))}return St(d,h=>{t.push(this.toVisualRow(h))}),t.length===0}}}function VIt(e,t){Ait(e,t),t.add(e)}function Mit(e,t,r){Ait(e,t),t.set(e,r)}function Ait(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Qc(e,t){return e.get(Pp(e,t))}function oE(e,t,r){return e.set(Pp(e,t),r),r}function Pp(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}Le.getSingleton().register("beforeHideRows");Le.getSingleton().register("afterHideRows");Le.getSingleton().register("beforeUnhideRows");Le.getSingleton().register("afterUnhideRows");var wk="hiddenRows",Iit=320,kf=new WeakMap,lu=new WeakMap,K0=new WeakSet,sE=class extends vi{constructor(){super(...arguments),VIt(this,K0),Mit(this,kf,{}),Mit(this,lu,null)}static get PLUGIN_KEY(){return wk}static get PLUGIN_PRIORITY(){return Iit}isEnabled(){return!!this.hot.getSettings()[wk]}enablePlugin(){var t=this;if(this.enabled)return;let r=this.hot.getSettings()[wk];gi(r)&&(oE(kf,this,r),vr(r.copyPasteEnabled)&&(r.copyPasteEnabled=!0)),oE(lu,this,new $h),Qc(lu,this).addLocalHook("init",()=>Pp(K0,this,qIt).call(this)),this.hot.rowIndexMapper.registerMap(this.pluginName,Qc(lu,this)),this.addHook("afterContextMenuDefaultOptions",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return Pp(K0,t,$It).call(t,...n)}),this.addHook("afterGetCellMeta",(i,n,o)=>Pp(K0,this,UIt).call(this,i,n,o)),this.addHook("modifyRowHeight",(i,n)=>Pp(K0,this,zIt).call(this,i,n)),this.addHook("afterGetRowHeader",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return Pp(K0,t,YIt).call(t,...n)}),this.addHook("modifyCopyableRange",i=>Pp(K0,this,WIt).call(this,i)),super.enablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.hot.rowIndexMapper.unregisterMap(this.pluginName),oE(kf,this,{}),super.disablePlugin(),this.resetCellsMeta()}showRows(t){let r=this.getHiddenRows(),i=this.isValidConfig(t),n=r,o=Qc(lu,this).getValues().slice(),s=t.length>0;if(i&&s){let l=t.map(c=>this.hot.toPhysicalRow(c));St(l,c=>{o[c]=!1}),n=cn(o,(c,d,h)=>(d&&c.push(this.hot.toVisualRow(h)),c),[])}this.hot.runHooks("beforeUnhideRows",r,n,i&&s)!==!1&&(i&&s&&Qc(lu,this).setValues(o),this.hot.runHooks("afterUnhideRows",r,n,i&&s,i&&n.length<r.length))}showRow(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];this.showRows(r)}hideRows(t){let r=this.getHiddenRows(),i=this.isValidConfig(t),n=r;i&&(n=Array.from(new Set(r.concat(t)))),this.hot.runHooks("beforeHideRows",r,n,i)!==!1&&(i&&this.hot.batchExecution(()=>{St(t,s=>{Qc(lu,this).setValueAtIndex(this.hot.toPhysicalRow(s),!0)})},!0),this.hot.runHooks("afterHideRows",r,n,i,i&&n.length>r.length))}hideRow(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];this.hideRows(r)}getHiddenRows(){return Ci(Qc(lu,this).getHiddenIndexes(),t=>this.hot.toVisualRow(t))}isHidden(t){return Qc(lu,this).getValueAtIndex(this.hot.toPhysicalRow(t))||!1}isValidConfig(t){let r=this.hot.countRows();return Array.isArray(t)&&t.length>0?t.every(i=>Number.isInteger(i)&&i>=0&&i<r):!1}resetCellsMeta(){St(this.hot.getCellsMeta(),t=>{t&&(t.skipRowOnPaste=!1)})}destroy(){oE(kf,this,null),oE(lu,this,null),super.destroy()}};function zIt(e,t){return this.isHidden(t)?0:e}function UIt(e,t,r){if(Qc(kf,this).copyPasteEnabled===!1&&this.isHidden(e)&&(r.skipRowOnPaste=!0),this.isHidden(e-1))r.className=r.className||"",r.className.indexOf("afterHiddenRow")===-1&&(r.className+=" afterHiddenRow");else if(r.className){let i=r.className.split(" ");if(i.length>0){let n=i.indexOf("afterHiddenRow");n>-1&&i.splice(n,1),r.className=i.join(" ")}}}function WIt(e){if(Qc(kf,this).copyPasteEnabled)return e;let t=[],r=(i,n,o,s)=>{t.push({startRow:i,endRow:n,startCol:o,endCol:s})};return St(e,i=>{let n=!0,o=0;Oe(i.startRow,i.endRow,s=>{this.isHidden(s)?(n||r(o,s-1,i.startCol,i.endCol),n=!0):(n&&(o=s),s===i.endRow&&r(o,s,i.startCol,i.endCol),n=!1)})}),t}function YIt(e,t){if(!Qc(kf,this).indicators||e<0)return;let r=[];e>=1&&this.isHidden(e-1)&&r.push("afterHiddenRow"),e<this.hot.countRows()-1&&this.isHidden(e+1)&&r.push("beforeHiddenRow"),re(t,r)}function $It(e){e.items.push({name:Oi},h7(this),u7(this))}function qIt(){Array.isArray(Qc(kf,this).rows)&&this.hideRows(Qc(kf,this).rows)}var KRe=ot(qt(),1),XRe=ot(_e(),1);function f7(e){return{key:"freeze_column",name(){return this.getTranslatedPhrase(Tx)},callback(t,r){let[{start:{col:i}}]=r;e.freezeColumn(i),this.render(),this.view.adjustElementsSize()},hidden(){let t=this.getSelectedRange(),r=!1;return(t===void 0||t.length>1||t[0].from.col!==t[0].to.col||t[0].from.col<=this.getSettings().fixedColumnsStart-1)&&(r=!0),r}}}function m7(e){return{key:"unfreeze_column",name(){return this.getTranslatedPhrase(Mx)},callback(t,r){let[{start:{col:i}}]=r;e.unfreezeColumn(i),this.render(),this.view.adjustElementsSize()},hidden(){let t=this.getSelectedRange(),r=!1;return(t===void 0||t.length>1||t[0].from.col!==t[0].to.col||t[0].from.col>=this.getSettings().fixedColumnsStart)&&(r=!0),r}}}function GIt(e,t){kit(e,t),t.add(e)}function KIt(e,t,r){kit(e,t),t.set(e,r)}function kit(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function b7(e,t){return e.get(Ck(e,t))}function p7(e,t,r){return e.set(Ck(e,t),r),r}function Ck(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}Le.getSingleton().register("beforeColumnFreeze");Le.getSingleton().register("afterColumnFreeze");Le.getSingleton().register("beforeColumnUnfreeze");Le.getSingleton().register("afterColumnUnfreeze");var v7="manualColumnFreeze",Dit=110,X0=new WeakMap,g7=new WeakSet,aE=class extends vi{constructor(){super(...arguments),GIt(this,g7),KIt(this,X0,!1)}static get PLUGIN_KEY(){return v7}static get PLUGIN_PRIORITY(){return Dit}isEnabled(){return!!this.hot.getSettings()[v7]}enablePlugin(){this.enabled||(this.addHook("afterContextMenuDefaultOptions",t=>Ck(g7,this,XIt).call(this,t)),this.addHook("beforeColumnMove",(t,r)=>Ck(g7,this,ZIt).call(this,t,r)),super.enablePlugin())}disablePlugin(){p7(X0,this,!1),super.disablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}freezeColumn(t){let r=this.hot.getSettings(),i=r.fixedColumnsStart<this.hot.countCols()&&t>r.fixedColumnsStart-1;b7(X0,this)||p7(X0,this,!0),this.hot.runHooks("beforeColumnFreeze",t,i)!==!1&&(i&&(this.hot.columnIndexMapper.moveIndexes(t,r.fixedColumnsStart),r._fixedColumnsStart+=1),this.hot.runHooks("afterColumnFreeze",t,i))}unfreezeColumn(t){let r=this.hot.getSettings(),i=r.fixedColumnsStart>0&&t<=r.fixedColumnsStart-1;b7(X0,this)||p7(X0,this,!0),this.hot.runHooks("beforeColumnUnfreeze",t,i)!==!1&&(i&&(r._fixedColumnsStart-=1,this.hot.columnIndexMapper.moveIndexes(t,r.fixedColumnsStart)),this.hot.runHooks("afterColumnUnfreeze",t,i))}};function XIt(e){e.items.push({name:"---------"},f7(this),m7(this))}function ZIt(e,t){if(b7(X0,this)){let r=this.hot.getSettings().fixedColumnsStart;if(t<r||e.some(i=>i<r))return!1}}var mTe=ot(qt(),1),pTe=ot(_e(),1);var nTe=ot(qt(),1);function xk(e,t,r){return t=QIt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QIt(e){var t=JIt(e,"string");return typeof t=="symbol"?t:t+""}function JIt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var y7=0,Oit=1,Pit=2,V_="px",_7=class{constructor(t){xk(this,"hot",void 0),xk(this,"_element",null),xk(this,"state",y7),xk(this,"inlineProperty",void 0),this.hot=t,this.inlineProperty=t.isRtl()?"right":"left"}appendTo(t){t.appendChild(this._element),this.state=Pit}build(){this.state===y7&&(this._element=this.hot.rootDocument.createElement("div"),this.state=Oit)}destroy(){this.isAppended()&&this._element.parentElement.removeChild(this._element),this._element=null,this.state=y7}isAppended(){return this.state===Pit}isBuilt(){return this.state>=Oit}setPosition(t,r){Jo(t)&&(this._element.style.top=t+V_),Jo(r)&&(this._element.style[this.inlineProperty]=r+V_)}getPosition(){let t=this._element.style;return{top:t.top?parseInt(t.top,10):0,start:t[this.inlineProperty]?parseInt(t[this.inlineProperty],10):0}}setSize(t,r){Jo(t)&&(this._element.style.width=t+V_),Jo(r)&&(this._element.style.height=r+V_)}getSize(){return{width:this._element.style.width?parseInt(this._element.style.width,10):0,height:this._element.style.height?parseInt(this._element.style.height,10):0}}setOffset(t,r){Jo(t)&&(this._element.style.marginTop=t+V_),Jo(r)&&(this._element.style[`margin${na(this.inlineProperty)}`]=r+V_)}getOffset(){let t=this._element.style,r=`margin${na(this.inlineProperty)}`;return{top:t.marginTop?parseInt(t.marginTop,10):0,start:t[r]?parseInt(t[r],10):0}}},Sk=_7;var tkt="ht__manualColumnMove--backlight",w7=class extends Sk{build(){super.build(),re(this._element,tkt)}},Nit=w7;var ekt="ht__manualColumnMove--guideline",C7=class extends Sk{build(){super.build(),re(this._element,ekt)}},Lit=C7;function ikt(e,t){Hit(e,t),t.add(e)}function Yd(e,t,r){Hit(e,t),t.set(e,r)}function Hit(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Tl(e,t,r){return e.set(Np(e,t),r),r}function yi(e,t){return e.get(Np(e,t))}function Np(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}Le.getSingleton().register("beforeColumnMove");Le.getSingleton().register("afterColumnMove");var Rk="manualColumnMove",Bit=120,Fit="ht__manualColumnMove",Mk="show-ui",x7="on-moving--columns",S7="after-selection--columns",Xa=new WeakMap,Lp=new WeakMap,Df=new WeakMap,Tk=new WeakMap,Fp=new WeakMap,Ka=new WeakMap,Ek=new WeakMap,Jc=new WeakMap,z_=new WeakMap,Ak=new WeakMap,lE=new WeakMap,Z0=new WeakSet,cE=class extends vi{constructor(){super(...arguments),ikt(this,Z0),Yd(this,Xa,new Nit(this.hot)),Yd(this,Lp,new Lit(this.hot)),Yd(this,Df,[]),Yd(this,Tk,0),Yd(this,Fp,!1),Yd(this,Ka,{}),Yd(this,Ek,void 0),Yd(this,Jc,void 0),Yd(this,z_,void 0),Yd(this,Ak,void 0),Yd(this,lE,void 0)}static get PLUGIN_KEY(){return Rk}static get PLUGIN_PRIORITY(){return Bit}isEnabled(){return!!this.hot.getSettings()[Rk]}enablePlugin(){var t=this;this.enabled||(this.addHook("beforeOnCellMouseDown",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return Np(Z0,t,rkt).call(t,...i)}),this.addHook("beforeOnCellMouseOver",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return Np(Z0,t,okt).call(t,...i)}),this.addHook("afterScrollVertically",()=>Np(Z0,this,akt).call(this)),this.addHook("afterLoadData",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return Np(Z0,t,lkt).call(t,...i)}),this.buildPluginUI(),this.registerEvents(),re(this.hot.rootElement,Fit),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),this.moveBySettingsOrLoad(),super.updatePlugin()}disablePlugin(){pi(this.hot.rootElement,Fit),this.unregisterEvents(),yi(Xa,this).destroy(),yi(Lp,this).destroy(),super.disablePlugin()}moveColumn(t,r){return this.moveColumns([t],r)}moveColumns(t,r){let i=yi(Ek,this),n=this.isMovePossible(t,r),o=this.hot.runHooks("beforeColumnMove",t,r,i,n);if(Tl(Ek,this,void 0),o===!1)return;n&&this.hot.columnIndexMapper.moveIndexes(t,r);let s=n&&this.isColumnOrderChanged(t,r);return this.hot.runHooks("afterColumnMove",t,r,i,n,s),s}dragColumn(t,r){return this.dragColumns([t],r)}dragColumns(t,r){let i=this.countFinalIndex(t,r);return Tl(Ek,this,r),this.moveColumns(t,i)}isMovePossible(t,r){let i=this.hot.columnIndexMapper.getNotTrimmedIndexesLength(),n=t.length+r>i,o=r<0,s=t.some(l=>l<0),a=t.some(l=>l>=i);return!(n||o||s||a)}isColumnOrderChanged(t,r){return t.some((i,n)=>i-n!==r)}countFinalIndex(t,r){let i=cn(t,(n,o)=>(o<r&&(n+=1),n),0);return r-i}getColumnsWidth(t,r){let i=this.hot.columnIndexMapper,n=0;for(let o=t;o<=r;o+=1){let s=i.getRenderableFromVisualIndex(o);o<0?n+=this.hot.view._wt.wtViewport.getRowHeaderWidth()||0:s!==null&&(n+=this.hot.view._wt.wtTable.getStretchedColumnWidth(s)||0)}return n}moveBySettingsOrLoad(){let t=this.hot.getSettings()[Rk];if(Array.isArray(t))this.moveColumns(t,0);else if(t!==void 0){let r=this.persistentStateLoad();r.length&&this.moveColumns(r,0)}}isFixedColumnsStart(t){return t<this.hot.getSettings().fixedColumnsStart}persistentStateSave(){this.hot.runHooks("persistentStateSave","manualColumnMove",this.hot.columnIndexMapper.getIndexesSequence())}persistentStateLoad(){let t={};return this.hot.runHooks("persistentStateLoad","manualColumnMove",t),t.value?t.value:[]}prepareColumnsToMoving(t,r){let i=[];return Oe(t,r,n=>{i.push(n)}),i}refreshPositions(){let t=this.hot.view.getFirstFullyVisibleColumn();this.isFixedColumnsStart(yi(Jc,this))&&t>0&&this.hot.scrollViewportTo({col:this.hot.columnIndexMapper.getNearestNotHiddenIndex(t-1,-1)});let r=this.hot.view._wt.wtTable,i=this.hot.view._wt.wtOverlays.scrollableElement,n=typeof i.scrollX=="number"?i.scrollX:i.scrollLeft,o=this.hot.view.THEAD.offsetLeft+this.getColumnsWidth(0,yi(Jc,this)-1),s=r.hider.offsetWidth,a=r.TBODY.offsetLeft,l=yi(Xa,this).getOffset().start,c=yi(Xa,this).getSize().width,d=0,h=0;if(this.hot.isRtl()){let m=this.hot.rootWindow,g=yr(this.hot.rootElement),p=m.innerWidth-yi(z_,this)-g;h=m.innerWidth-yi(Ka,this).eventPageX-p-(i.scrollX===void 0?n:0)}else h=yi(Ka,this).eventPageX-(yi(z_,this)-(i.scrollX===void 0?n:0));if(yi(Ak,this)&&(d=this.hot.view._wt.wtOverlays.inlineStartOverlay.clone.wtTable.getColumnHeader(-1).offsetWidth),this.isFixedColumnsStart(yi(Jc,this))&&(o+=n),o+=d,yi(Jc,this)<0)yi(lE,this)>0?yi(Ka,this).col=0:yi(Ka,this).col=t>0?t-1:t;else if(yi(Ka,this).TD.offsetWidth/2+o<=h){let m=yi(Jc,this)>=yi(Tk,this)?yi(Tk,this)-1:yi(Jc,this);yi(Ka,this).col=m+1,o+=yi(Ka,this).TD.offsetWidth}else yi(Ka,this).col=yi(Jc,this);let u=h,f=o;h+c+l>=s?u=s-c-l:h+l<a+d&&(u=a+d+Math.abs(l)),o>=s-1?f=s-1:f===0?f=1:i.scrollX!==void 0&&yi(Jc,this)<yi(lE,this)&&(f-=yi(z_,this)<=i.scrollX?yi(z_,this):0),yi(Xa,this).setPosition(null,u),yi(Lp,this).setPosition(null,f)}registerEvents(){let{documentElement:t}=this.hot.rootDocument;this.eventManager.addEventListener(t,"mousemove",r=>Np(Z0,this,nkt).call(this,r)),this.eventManager.addEventListener(t,"mouseup",()=>Np(Z0,this,skt).call(this))}unregisterEvents(){this.eventManager.clear()}buildPluginUI(){yi(Xa,this).build(),yi(Lp,this).build()}destroy(){yi(Xa,this).destroy(),yi(Lp,this).destroy(),super.destroy()}};function rkt(e,t,r,i){let n=this.hot.view._wt.wtTable,o=this.hot.selection.isSelectedByColumnHeader(),s=this.hot.getSelectedRangeLast(),a=Xe(e.target,"sortAction");if(!s||!o||yi(Fp,this)||e.button!==0||a){Tl(Fp,this,!1),yi(Df,this).length=0,pi(this.hot.rootElement,[x7,Mk]);return}let l=yi(Lp,this).isBuilt()&&!yi(Lp,this).isAppended(),c=yi(Xa,this).isBuilt()&&!yi(Xa,this).isAppended();l&&c&&(yi(Lp,this).appendTo(n.hider),yi(Xa,this).appendTo(n.hider));let{from:d,to:h}=s,u=Math.min(d.col,h.col),f=Math.max(d.col,h.col);if(t.row<0&&t.col>=u&&t.col<=f){i.column=!0,Tl(Fp,this,!0);let m=r.firstChild?DK(e,r.firstChild).x:e.offsetX;yi(Ka,this).eventPageX=e.pageX,Tl(Jc,this,t.col),yi(Ka,this).TD=r,yi(Ka,this).col=t.col,Tl(Df,this,this.prepareColumnsToMoving(u,f)),Tl(Ak,this,!!this.hot.getSettings().rowHeaders),Tl(Tk,this,this.hot.countCols()),Tl(lE,this,this.hot.getSettings().fixedColumnsStart),Tl(z_,this,Kn(this.hot.rootElement).left);let g=yi(Ak,this)?-1:0,p=n.holder.scrollTop+n.getColumnHeaderHeight(0)+1,b=t.col<yi(lE,this),_=this.hot.view._wt.wtOverlays.inlineStartOverlay.getOverlayOffset(),E=Math.abs(m-(this.hot.isRtl()?r.offsetWidth:0)),O=this.getColumnsWidth(u,t.col-1)+E,V=this.getColumnsWidth(g,u-1)+(b?_:0)+O;yi(Xa,this).setPosition(p,V),yi(Xa,this).setSize(this.getColumnsWidth(u,f),n.hider.offsetHeight-p),yi(Xa,this).setOffset(null,-O),re(this.hot.rootElement,x7)}else pi(this.hot.rootElement,S7),Tl(Fp,this,!1),yi(Df,this).length=0}function nkt(e){yi(Fp,this)&&(yi(Ka,this).eventPageX=e.pageX,this.refreshPositions())}function okt(e,t,r,i){!this.hot.getSelectedRangeLast()||!yi(Fp,this)||(yi(Df,this).indexOf(t.col)>-1?pi(this.hot.rootElement,Mk):re(this.hot.rootElement,Mk),i.row=!0,i.column=!0,i.cell=!0,Tl(Jc,this,t.col),yi(Ka,this).TD=r)}function skt(){let e=yi(Ka,this).col,t=yi(Df,this).length;if(Tl(Jc,this,void 0),Tl(Fp,this,!1),pi(this.hot.rootElement,[x7,Mk,S7]),this.hot.selection.isSelectedByColumnHeader()&&re(this.hot.rootElement,S7),t<1||e===void 0)return;let r=yi(Df,this)[0],i=this.hot.toPhysicalColumn(r),n=this.dragColumns(yi(Df,this),e);if(yi(Df,this).length=0,n===!0){this.persistentStateSave(),this.hot.render(),this.hot.view.adjustElementsSize();let o=this.hot.toVisualColumn(i),s=o+t-1;this.hot.selectColumns(o,s)}}function akt(){let e=this.hot.view._wt.wtTable,t=e.getColumnHeaderHeight(0)+1,r=e.holder.scrollTop,i=t+r;yi(Xa,this).setPosition(i),yi(Xa,this).setSize(null,e.hider.offsetHeight-i)}function lkt(){this.moveBySettingsOrLoad()}var TTe=ot(qt(),1),MTe=ot(_e(),1);function ckt(e,t){Vit(e,t),t.add(e)}function Ta(e,t,r){Vit(e,t),t.set(e,r)}function Vit(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Uo(e,t,r){return e.set($d(e,t),r),r}function Je(e,t){return e.get($d(e,t))}function $d(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var fE="manualColumnResize",zit=130,jit="manualColumnWidths",Pf=new WeakMap,Ik=new WeakMap,nc=new WeakMap,Dk=new WeakMap,du=new WeakMap,dkt=new WeakMap,U_=new WeakMap,kk=new WeakMap,Ml=new WeakMap,Of=new WeakMap,Q0=new WeakMap,Ok=new WeakMap,dE=new WeakMap,hE=new WeakMap,oc=new WeakMap,uE=new WeakMap,cu=new WeakSet,mE=class extends vi{static get PLUGIN_KEY(){return fE}static get PLUGIN_PRIORITY(){return zit}constructor(t){super(t),ckt(this,cu),Ta(this,Pf,null),Ta(this,Ik,null),Ta(this,nc,[]),Ta(this,Dk,null),Ta(this,du,null),Ta(this,dkt,null),Ta(this,U_,null),Ta(this,kk,null),Ta(this,Ml,this.hot.rootDocument.createElement("DIV")),Ta(this,Of,this.hot.rootDocument.createElement("DIV")),Ta(this,Q0,null),Ta(this,Ok,!1),Ta(this,dE,0),Ta(this,hE,null),Ta(this,oc,void 0),Ta(this,uE,void 0),re(Je(Ml,this),"manualColumnResizer"),re(Je(Of,this),"manualColumnResizerGuide")}get inlineDir(){return this.hot.isRtl()?"right":"left"}isEnabled(){return this.hot.getSettings()[fE]}enablePlugin(){this.enabled||(Uo(oc,this,new Vs),Je(oc,this).addLocalHook("init",()=>$d(cu,this,hkt).call(this)),this.hot.columnIndexMapper.registerMap(this.pluginName,Je(oc,this)),this.addHook("modifyColWidth",(t,r)=>$d(cu,this,bkt).call(this,t,r),1),this.addHook("beforeStretchingColumnWidth",(t,r)=>$d(cu,this,vkt).call(this,t,r)),this.addHook("beforeColumnResize",(t,r,i)=>$d(cu,this,ykt).call(this,t,r,i)),this.bindEvents(),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){Uo(uE,this,Je(oc,this).getValues()),this.hot.columnIndexMapper.unregisterMap(this.pluginName),super.disablePlugin()}saveManualColumnWidths(){this.hot.runHooks("persistentStateSave",jit,Je(oc,this).getValues())}loadManualColumnWidths(){let t={};return this.hot.runHooks("persistentStateLoad",jit,t),t.value}setManualSize(t,r){let i=Math.max(r,20),n=this.hot.toPhysicalColumn(t);return Je(oc,this).setValueAtIndex(n,i),i}clearManualSize(t){let r=this.hot.toPhysicalColumn(t);Je(oc,this).setValueAtIndex(r,null)}setupHandlePosition(t){if(!t.parentNode)return;Uo(Pf,this,t);let{_wt:r}=this.hot.view,i=r.wtTable.getCoords(Je(Pf,this)),n=i.col;if(n<0)return;let o=Nr(Je(Pf,this)),s=Je(Pf,this).getBoundingClientRect(),a=n<r.getSetting("fixedColumnsStart"),l;a&&(l=r.wtOverlays.topInlineStartCornerOverlay.getRelativeCellPosition(Je(Pf,this),i.row,i.col)),l||(l=r.wtOverlays.topOverlay.getRelativeCellPosition(Je(Pf,this),i.row,i.col)),Uo(Ik,this,this.hot.columnIndexMapper.getVisualFromRenderableIndex(n)),Uo(nc,this,[]);let c=this.hot.selection.isSelectedByCorner()||this.hot.selection.isSelectedByColumnHeader();if(this.hot.selection.isSelected()&&c){let d=this.hot.getSelectedRange();St(d,h=>{let u=h.getTopStartCorner().col,f=h.getBottomEndCorner().col;Oe(u,f,m=>{Je(nc,this).includes(m)||Je(nc,this).push(m)})})}Je(nc,this).includes(Je(Ik,this))||Uo(nc,this,[Je(Ik,this)]),Uo(kk,this,l.start-6),Uo(U_,this,parseInt(s.width,10)),Je(Ml,this).style.top=`${l.top}px`,Je(Ml,this).style[this.inlineDir]=`${Je(kk,this)+Je(U_,this)}px`,Je(Ml,this).style.height=`${o}px`,this.hot.rootElement.appendChild(Je(Ml,this))}refreshHandlePosition(){Je(Ml,this).style[this.inlineDir]=`${Je(kk,this)+Je(Dk,this)}px`}setupGuidePosition(){let t=parseInt(Nr(Je(Ml,this)),10),r=parseInt(Je(Ml,this).style.top,10)+t,i=parseInt(this.hot.view.maximumVisibleElementHeight(0),10);re(Je(Ml,this),"active"),re(Je(Of,this),"active"),Je(Of,this).style.top=`${r}px`,this.refreshGuidePosition(),Je(Of,this).style.height=`${i-t}px`,this.hot.rootElement.appendChild(Je(Of,this))}refreshGuidePosition(){Je(Of,this).style[this.inlineDir]=Je(Ml,this).style[this.inlineDir]}hideHandleAndGuide(){pi(Je(Ml,this),"active"),pi(Je(Of,this),"active")}checkIfColumnHeader(t){let r=Sd(t,["THEAD"],this.hot.rootElement),{topOverlay:i,topInlineStartCornerOverlay:n}=this.hot.view._wt.wtOverlays;return[i.clone.wtTable.THEAD,n.clone.wtTable.THEAD].includes(r)}getClosestTHParent(t){return t.tagName!=="TABLE"?t.tagName==="TH"?t:this.getClosestTHParent(t.parentNode):null}afterMouseDownTimeout(){let t=()=>{this.hot.forceFullRender=!0,this.hot.view.render(),this.hot.view.adjustElementsSize()},r=(i,n)=>{let o=this.hot.runHooks("beforeColumnResize",Je(du,this),i,!0);o!==void 0&&Uo(du,this,o),this.hot.getSettings().stretchH==="all"?this.clearManualSize(i):this.setManualSize(i,Je(du,this)),this.saveManualColumnWidths(),this.hot.runHooks("afterColumnResize",Je(du,this),i,!0),n&&t()};Je(dE,this)>=2&&(Je(nc,this).length>1?(St(Je(nc,this),n=>{r(n)}),t()):St(Je(nc,this),n=>{r(n,!0)})),Uo(dE,this,0),Uo(hE,this,null)}bindEvents(){let{rootWindow:t,rootElement:r}=this.hot;this.eventManager.addEventListener(r,"mouseover",i=>$d(cu,this,ukt).call(this,i)),this.eventManager.addEventListener(r,"mousedown",i=>$d(cu,this,fkt).call(this,i)),this.eventManager.addEventListener(t,"mousemove",i=>$d(cu,this,mkt).call(this,i)),this.eventManager.addEventListener(t,"mouseup",()=>$d(cu,this,pkt).call(this)),this.eventManager.addEventListener(Je(Ml,this),"contextmenu",()=>$d(cu,this,gkt).call(this))}destroy(){super.destroy()}};function hkt(){let e=this.hot.getSettings()[fE],t=this.loadManualColumnWidths();typeof t<"u"?this.hot.batchExecution(()=>{t.forEach((r,i)=>{Je(oc,this).setValueAtIndex(i,r)})},!0):Array.isArray(e)?(this.hot.batchExecution(()=>{e.forEach((r,i)=>{Je(oc,this).setValueAtIndex(i,r)})},!0),Uo(uE,this,e)):e===!0&&Array.isArray(Je(uE,this))&&this.hot.batchExecution(()=>{Je(uE,this).forEach((r,i)=>{Je(oc,this).setValueAtIndex(i,r)})},!0)}function ukt(e){if(!gM(e.target)&&Je(Ok,this)!==!0&&this.checkIfColumnHeader(e.target)){let t=this.getClosestTHParent(e.target);if(!t)return;let r=t.getAttribute("colspan");t&&(r===null||r==="1")&&(Je(Q0,this)||this.setupHandlePosition(t))}}function fkt(e){e.target.parentNode===this.hot.rootElement&&Xe(e.target,"manualColumnResizer")&&(this.setupHandlePosition(Je(Pf,this)),this.setupGuidePosition(),Uo(Q0,this,!0),Je(hE,this)===null&&(Uo(hE,this,setTimeout(()=>this.afterMouseDownTimeout(),500)),this.hot._registerTimeout(Je(hE,this))),Uo(dE,this,Je(dE,this)+1),this.startX=e.pageX,Uo(du,this,Je(U_,this)))}function mkt(e){if(Je(Q0,this)){let t=(e.pageX-this.startX)*this.hot.getDirectionFactor();Uo(Dk,this,Je(U_,this)+t),St(Je(nc,this),r=>{Uo(du,this,this.setManualSize(r,Je(Dk,this)))}),this.refreshHandlePosition(),this.refreshGuidePosition()}}function pkt(){let e=()=>{this.hot.forceFullRender=!0,this.hot.view.render(),this.hot.view.adjustElementsSize()},t=(r,i)=>{this.hot.runHooks("beforeColumnResize",Je(du,this),r,!1),i&&e(),this.saveManualColumnWidths(),this.hot.runHooks("afterColumnResize",Je(du,this),r,!1)};Je(Q0,this)&&(this.hideHandleAndGuide(),Uo(Q0,this,!1),Je(du,this)!==Je(U_,this)&&(Je(nc,this).length>1?(St(Je(nc,this),i=>{t(i)}),e()):St(Je(nc,this),i=>{t(i,!0)})),this.setupHandlePosition(Je(Pf,this)))}function gkt(){this.hideHandleAndGuide(),this.hot.rootElement.removeChild(Je(Ml,this)),this.hot.rootElement.removeChild(Je(Of,this)),Uo(Q0,this,!1),Uo(Ok,this,!0),this.hot._registerImmediate(()=>{Uo(Ok,this,!1)})}function bkt(e,t){let r=e;if(this.enabled){let i=this.hot.toPhysicalColumn(t),n=Je(oc,this).getValueAtIndex(i);this.hot.getSettings()[fE]&&n&&(r=n)}return r}function vkt(e,t){let r=Je(oc,this).getValueAtIndex(t);return r===null&&(r=e),r}function ykt(){this.hot.view._wt.wtViewport.resetHasOversizedColumnHeadersMarked()}var YTe=ot(qt(),1),$Te=ot(_e(),1);var FTe=ot(qt(),1);function E7(e,t,r){return t=_kt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _kt(e){var t=wkt(e,"string");return typeof t=="symbol"?t:t+""}function wkt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var R7=0,Uit=1,Wit=2,W_="px",T7=class{constructor(t){E7(this,"hot",void 0),E7(this,"_element",null),E7(this,"state",R7),this.hot=t}appendTo(t){t.appendChild(this._element),this.state=Wit}build(){this.state===R7&&(this._element=this.hot.rootDocument.createElement("div"),this.state=Uit)}destroy(){this.isAppended()&&this._element.parentElement.removeChild(this._element),this._element=null,this.state=R7}isAppended(){return this.state===Wit}isBuilt(){return this.state>=Uit}setPosition(t,r){t!==void 0&&(this._element.style.top=t+W_),r!==void 0&&(this._element.style.left=r+W_)}getPosition(){return{top:this._element.style.top?parseInt(this._element.style.top,10):0,left:this._element.style.left?parseInt(this._element.style.left,10):0}}setSize(t,r){t&&(this._element.style.width=t+W_),r&&(this._element.style.height=r+W_)}getSize(){return{width:this._element.style.width?parseInt(this._element.style.width,10):0,height:this._element.style.height?parseInt(this._element.style.height,10):0}}setOffset(t,r){t&&(this._element.style.marginTop=t+W_),r&&(this._element.style.marginLeft=r+W_)}getOffset(){return{top:this._element.style.marginTop?parseInt(this._element.style.marginTop,10):0,left:this._element.style.marginLeft?parseInt(this._element.style.marginLeft,10):0}}},Pk=T7;var Ckt="ht__manualRowMove--backlight",M7=class extends Pk{build(){super.build(),re(this._element,Ckt)}},Yit=M7;var xkt="ht__manualRowMove--guideline",A7=class extends Pk{build(){super.build(),re(this._element,xkt)}},$it=A7;function Skt(e,t){Git(e,t),t.add(e)}function Y_(e,t,r){Git(e,t),t.set(e,r)}function Git(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function tb(e,t,r){return e.set(Hp(e,t),r),r}function sr(e,t){return e.get(Hp(e,t))}function Hp(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}Le.getSingleton().register("beforeRowMove");Le.getSingleton().register("afterRowMove");var Lk="manualRowMove",Kit=140,qit="ht__manualRowMove",Fk="show-ui",I7="on-moving--rows",k7="after-selection--rows",Za=new WeakMap,Bp=new WeakMap,Nf=new WeakMap,jp=new WeakMap,Al=new WeakMap,Nk=new WeakMap,J0=new WeakSet,pE=class extends vi{constructor(){super(...arguments),Skt(this,J0),Y_(this,Za,new Yit(this.hot)),Y_(this,Bp,new $it(this.hot)),Y_(this,Nf,[]),Y_(this,jp,void 0),Y_(this,Al,{}),Y_(this,Nk,void 0)}static get PLUGIN_KEY(){return Lk}static get PLUGIN_PRIORITY(){return Kit}isEnabled(){return!!this.hot.getSettings()[Lk]}enablePlugin(){var t=this;this.enabled||(this.addHook("beforeOnCellMouseDown",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return Hp(J0,t,Ekt).call(t,...i)}),this.addHook("beforeOnCellMouseOver",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return Hp(J0,t,Tkt).call(t,...i)}),this.addHook("afterScrollHorizontally",()=>Hp(J0,this,Akt).call(this)),this.addHook("afterLoadData",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return Hp(J0,t,Ikt).call(t,...i)}),this.buildPluginUI(),this.registerEvents(),re(this.hot.rootElement,qit),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),this.moveBySettingsOrLoad(),super.updatePlugin()}disablePlugin(){pi(this.hot.rootElement,qit),this.unregisterEvents(),sr(Za,this).destroy(),sr(Bp,this).destroy(),super.disablePlugin()}moveRow(t,r){return this.moveRows([t],r)}moveRows(t,r){let i=sr(Nk,this),n=this.isMovePossible(t,r),o=this.hot.runHooks("beforeRowMove",t,r,i,n);if(tb(Nk,this,void 0),o===!1)return;n&&this.hot.rowIndexMapper.moveIndexes(t,r);let s=n&&this.isRowOrderChanged(t,r);return this.hot.runHooks("afterRowMove",t,r,i,n,s),s}dragRow(t,r){return this.dragRows([t],r)}dragRows(t,r){let i=this.countFinalIndex(t,r);return tb(Nk,this,r),this.moveRows(t,i)}isMovePossible(t,r){let i=this.hot.rowIndexMapper.getNotTrimmedIndexesLength(),n=t.length+r>i,o=r<0,s=t.some(l=>l<0),a=t.some(l=>l>=i);return!(n||o||s||a)}isRowOrderChanged(t,r){return t.some((i,n)=>i-n!==r)}countFinalIndex(t,r){let i=cn(t,(n,o)=>(o<r&&(n+=1),n),0);return r-i}getRowsHeight(t,r){let i=this.hot.rowIndexMapper,n=0;for(let o=t;o<=r;o++){let s=i.getRenderableFromVisualIndex(o);s!==null&&(n+=this.hot.view._wt.wtTable.getRowHeight(s)||23)}return n}moveBySettingsOrLoad(){let t=this.hot.getSettings()[Lk];if(Array.isArray(t))this.moveRows(t,0);else if(t!==void 0){let r=this.persistentStateLoad();r.length&&this.moveRows(r,0)}}isFixedRowTop(t){return t<this.hot.getSettings().fixedRowsTop}isFixedRowBottom(t){return t>this.hot.countRows()-1-this.hot.getSettings().fixedRowsBottom}persistentStateSave(){this.hot.runHooks("persistentStateSave","manualRowMove",this.hot.rowIndexMapper.getIndexesSequence())}persistentStateLoad(){let t={};return this.hot.runHooks("persistentStateLoad","manualRowMove",t),t.value?t.value:[]}prepareRowsToMoving(){let t=this.hot.getSelectedRangeLast(),r=[];if(!t)return r;let{from:i,to:n}=t,o=Math.min(i.row,n.row),s=Math.max(i.row,n.row);return Oe(o,s,a=>{r.push(a)}),r}refreshPositions(){let t=sr(Al,this).coords,r=this.hot.view.getFirstFullyVisibleRow(),i=this.hot.view.getLastFullyVisibleRow(),n=this.hot.countRows();this.isFixedRowTop(t.row)&&r>0&&this.hot.scrollViewportTo(this.hot.rowIndexMapper.getNearestNotHiddenIndex(r-1,-1)),this.isFixedRowBottom(t.row)&&i<n&&this.hot.scrollViewportTo(this.hot.rowIndexMapper.getNearestNotHiddenIndex(i+1,1),void 0,!0);let o=this.hot.view._wt.wtTable,s=sr(Al,this).TD,a=this.hot.rootElement,l=Kn(a),c=Rd(a),d=o.holder.scrollTop,h=this.hot.rootWindow!==c?c.scrollTop:0,u=l.top-h,f=sr(Al,this).eventPageY-u+d,m=o.hider.offsetHeight,g=o.TBODY.offsetTop,p=sr(Za,this).getOffset().top,b=sr(Za,this).getSize().height,_=s.offsetHeight/2,E=s.offsetHeight,O=this.hot.view.THEAD.offsetHeight+this.getRowsHeight(0,t.row-1),V=f>=O+_;this.isFixedRowTop(t.row)&&(O+=this.hot.view._wt.wtOverlays.topOverlay.getOverlayOffset()),t.row<0?sr(Al,this).row=r>0?r-1:r:V?(sr(Al,this).row=t.row+1,O+=t.row===0?E-1:E):sr(Al,this).row=t.row;let H=f,F=O;f+b+p>=m?H=m-b-p:f+p<g&&(H=g+Math.abs(p)),O>=m-1&&(F=m-1),sr(Za,this).setPosition(H),sr(Bp,this).setPosition(F)}registerEvents(){let{documentElement:t}=this.hot.rootDocument;this.eventManager.addEventListener(t,"mousemove",r=>Hp(J0,this,Rkt).call(this,r)),this.eventManager.addEventListener(t,"mouseup",()=>Hp(J0,this,Mkt).call(this))}unregisterEvents(){this.eventManager.clear()}buildPluginUI(){sr(Za,this).build(),sr(Bp,this).build()}destroy(){sr(Za,this).destroy(),sr(Bp,this).destroy(),super.destroy()}};function Ekt(e,t,r,i){let{wtTable:n,wtViewport:o}=this.hot.view._wt,s=this.hot.selection.isSelectedByRowHeader(),a=this.hot.getSelectedRangeLast();if(!a||!s||sr(jp,this)||e.button!==0){tb(jp,this,!1),sr(Nf,this).length=0,pi(this.hot.rootElement,[I7,Fk]);return}let l=sr(Bp,this).isBuilt()&&!sr(Bp,this).isAppended(),c=sr(Za,this).isBuilt()&&!sr(Za,this).isAppended();l&&c&&(sr(Bp,this).appendTo(n.hider),sr(Za,this).appendTo(n.hider));let{from:d,to:h}=a,u=Math.min(d.row,h.row),f=Math.max(d.row,h.row);if(t.col<0&&t.row>=u&&t.row<=f){i.row=!0,tb(jp,this,!0),sr(Al,this).eventPageY=e.pageY,sr(Al,this).coords=t,sr(Al,this).TD=r,tb(Nf,this,this.prepareRowsToMoving());let m=n.holder.scrollLeft+o.getRowHeaderWidth(),g=this.getRowsHeight(u,t.row-1)+e.offsetY;sr(Za,this).setPosition(null,m),sr(Za,this).setSize(n.hider.offsetWidth-m,this.getRowsHeight(u,f)),sr(Za,this).setOffset(-g,null),re(this.hot.rootElement,I7),this.refreshPositions()}else pi(this.hot.rootElement,k7),tb(jp,this,!1),sr(Nf,this).length=0}function Rkt(e){sr(jp,this)&&(sr(Al,this).eventPageY=e.pageY,this.refreshPositions())}function Tkt(e,t,r,i){!this.hot.getSelectedRangeLast()||!sr(jp,this)||(sr(Nf,this).indexOf(t.row)>-1?pi(this.hot.rootElement,Fk):re(this.hot.rootElement,Fk),i.row=!0,i.column=!0,i.cell=!0,sr(Al,this).coords=t,sr(Al,this).TD=r)}function Mkt(){let e=sr(Al,this).row,t=sr(Nf,this).length;if(tb(jp,this,!1),pi(this.hot.rootElement,[I7,Fk,k7]),this.hot.selection.isSelectedByRowHeader()&&re(this.hot.rootElement,k7),t<1||e===void 0)return;let r=sr(Nf,this)[0],i=this.hot.toPhysicalRow(r),n=this.dragRows(sr(Nf,this),e);if(sr(Nf,this).length=0,n===!0){this.persistentStateSave(),this.hot.render(),this.hot.view.adjustElementsSize();let o=this.hot.toVisualRow(i),s=o+t-1;this.hot.selectRows(o,s)}}function Akt(){let e=this.hot.view._wt.wtTable,t=this.hot.view._wt.wtViewport.getRowHeaderWidth(),r=e.holder.scrollLeft,i=t+r;sr(Za,this).setPosition(null,i),sr(Za,this).setSize(e.hider.offsetWidth-i)}function Ikt(){this.moveBySettingsOrLoad()}var r5e=ot(qt(),1),n5e=ot(_e(),1);function kkt(e,t){Zit(e,t),t.add(e)}function Ma(e,t,r){Zit(e,t),t.set(e,r)}function Zit(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Io(e,t,r){return e.set(Lf(e,t),r),r}function Ze(e,t){return e.get(Lf(e,t))}function Lf(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var _E="manualRowResize",Qit=30,Xit="manualRowHeights",uu=new WeakMap,Hk=new WeakMap,sc=new WeakMap,gE=new WeakMap,zp=new WeakMap,D7=new WeakMap,$_=new WeakMap,Bk=new WeakMap,Qa=new WeakMap,hu=new WeakMap,eb=new WeakMap,jk=new WeakMap,bE=new WeakMap,vE=new WeakMap,qd=new WeakMap,yE=new WeakMap,Vp=new WeakSet,wE=class extends vi{static get PLUGIN_KEY(){return _E}static get PLUGIN_PRIORITY(){return Qit}constructor(t){super(t),kkt(this,Vp),Ma(this,uu,null),Ma(this,Hk,null),Ma(this,sc,[]),Ma(this,gE,null),Ma(this,zp,null),Ma(this,D7,null),Ma(this,$_,null),Ma(this,Bk,null),Ma(this,Qa,this.hot.rootDocument.createElement("DIV")),Ma(this,hu,this.hot.rootDocument.createElement("DIV")),Ma(this,eb,!1),Ma(this,jk,!1),Ma(this,bE,0),Ma(this,vE,null),Ma(this,qd,void 0),Ma(this,yE,void 0),re(Ze(Qa,this),"manualRowResizer"),re(Ze(hu,this),"manualRowResizerGuide")}get inlineDir(){return this.hot.isRtl()?"right":"left"}isEnabled(){return this.hot.getSettings()[_E]}enablePlugin(){this.enabled||(Io(qd,this,new Vs),Ze(qd,this).addLocalHook("init",()=>Lf(Vp,this,Hkt).call(this)),this.hot.rowIndexMapper.registerMap(this.pluginName,Ze(qd,this)),this.addHook("modifyRowHeight",(t,r)=>Lf(Vp,this,Fkt).call(this,t,r)),this.bindEvents(),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){Io(yE,this,Ze(qd,this).getValues()),this.hot.rowIndexMapper.unregisterMap(this.pluginName),super.disablePlugin()}saveManualRowHeights(){this.hot.runHooks("persistentStateSave",Xit,Ze(qd,this).getValues())}loadManualRowHeights(){let t={};return this.hot.runHooks("persistentStateLoad",Xit,t),t.value}setManualSize(t,r){let i=this.hot.toPhysicalRow(t),n=Math.max(r,ep.DEFAULT_HEIGHT);return Ze(qd,this).setValueAtIndex(i,n),n}getLastDesiredRowHeight(){return Ze(gE,this)}setupHandlePosition(t){Io(uu,this,t);let{view:r}=this.hot,{_wt:i}=r,n=i.wtTable.getCoords(Ze(uu,this)),o=n.row;if(o<0)return;let s=yr(Ze(uu,this)),a=Ze(uu,this).getBoundingClientRect(),l=o<i.getSetting("fixedRowsTop"),c=o>=r.countNotHiddenRowIndexes(0,1)-i.getSetting("fixedRowsBottom"),d;l?d=i.wtOverlays.topInlineStartCornerOverlay.getRelativeCellPosition(Ze(uu,this),n.row,n.col):c&&(d=i.wtOverlays.bottomInlineStartCornerOverlay.getRelativeCellPosition(Ze(uu,this),n.row,n.col)),d||(d=i.wtOverlays.inlineStartOverlay.getRelativeCellPosition(Ze(uu,this),n.row,n.col)),Io(Hk,this,this.hot.rowIndexMapper.getVisualFromRenderableIndex(o)),Io(sc,this,[]);let h=this.hot.selection.isSelectedByCorner()||this.hot.selection.isSelectedByRowHeader();if(this.hot.selection.isSelected()&&h){let u=this.hot.getSelectedRange();St(u,f=>{let m=f.getTopStartCorner().row,g=f.getBottomStartCorner().row;Oe(m,g,p=>{Ze(sc,this).includes(p)||Ze(sc,this).push(p)})})}Ze(sc,this).includes(Ze(Hk,this))||Io(sc,this,[Ze(Hk,this)]),Io(Bk,this,d.top-6),Io($_,this,parseInt(a.height,10)),Ze(Qa,this).style.top=`${Ze(Bk,this)+Ze($_,this)}px`,Ze(Qa,this).style[this.inlineDir]=`${d.start}px`,Ze(Qa,this).style.width=`${s}px`,this.hot.rootElement.appendChild(Ze(Qa,this))}refreshHandlePosition(){Ze(Qa,this).style.top=`${Ze(Bk,this)+Ze(gE,this)}px`}setupGuidePosition(){let t=parseInt(yr(Ze(Qa,this)),10),r=parseInt(Ze(Qa,this).style[this.inlineDir],10)+t,i=parseInt(this.hot.view.maximumVisibleElementWidth(0),10);re(Ze(Qa,this),"active"),re(Ze(hu,this),"active"),Ze(hu,this).style.top=Ze(Qa,this).style.top,Ze(hu,this).style[this.inlineDir]=`${r}px`,Ze(hu,this).style.width=`${i-t}px`,this.hot.rootElement.appendChild(Ze(hu,this))}refreshGuidePosition(){Ze(hu,this).style.top=Ze(Qa,this).style.top}hideHandleAndGuide(){pi(Ze(Qa,this),"active"),pi(Ze(hu,this),"active")}checkIfRowHeader(t){let r=Sd(t,["TBODY"],this.hot.rootElement),{inlineStartOverlay:i,topInlineStartCornerOverlay:n,bottomInlineStartCornerOverlay:o}=this.hot.view._wt.wtOverlays;return[i.clone.wtTable.TBODY,n.clone.wtTable.TBODY,o.clone.wtTable.TBODY].includes(r)}getClosestTHParent(t){return t.tagName!=="TABLE"?t.tagName==="TH"?t:this.getClosestTHParent(t.parentNode):null}getActualRowHeight(t){let r=this.hot.view._wt.wtTable.getRowHeight(t);return r!==void 0&&Ze(zp,this)<r?r:Ze(zp,this)}afterMouseDownTimeout(){let t=()=>{this.hot.forceFullRender=!0,this.hot.view.render(),this.hot.view.adjustElementsSize()},r=(i,n)=>{let o=this.hot.runHooks("beforeRowResize",this.getActualRowHeight(i),i,!0);o!==void 0&&Io(zp,this,o),this.setManualSize(i,Ze(zp,this)),this.hot.runHooks("afterRowResize",this.getActualRowHeight(i),i,!0),n&&t()};Ze(bE,this)>=2&&(Ze(sc,this).length>1?(St(Ze(sc,this),n=>{r(n)}),t()):St(Ze(sc,this),n=>{r(n,!0)})),Io(bE,this,0),Io(vE,this,null)}bindEvents(){let{rootElement:t,rootWindow:r}=this.hot;this.eventManager.addEventListener(t,"mouseover",i=>Lf(Vp,this,Dkt).call(this,i)),this.eventManager.addEventListener(t,"mousedown",i=>Lf(Vp,this,Okt).call(this,i)),this.eventManager.addEventListener(r,"mousemove",i=>Lf(Vp,this,Pkt).call(this,i)),this.eventManager.addEventListener(r,"mouseup",()=>Lf(Vp,this,Nkt).call(this)),this.eventManager.addEventListener(Ze(Qa,this),"contextmenu",()=>Lf(Vp,this,Lkt).call(this))}destroy(){super.destroy()}};function Dkt(e){if(!gM(e.target)&&Ze(jk,this)!==!0&&this.checkIfRowHeader(e.target)){let t=this.getClosestTHParent(e.target);t&&(Ze(eb,this)||this.setupHandlePosition(t))}}function Okt(e){Xe(e.target,"manualRowResizer")&&(this.setupHandlePosition(Ze(uu,this)),this.setupGuidePosition(),Io(eb,this,!0),Ze(vE,this)===null&&(Io(vE,this,setTimeout(()=>this.afterMouseDownTimeout(),500)),this.hot._registerTimeout(Ze(vE,this))),Io(bE,this,Ze(bE,this)+1),Io(D7,this,e.pageY),Io(zp,this,Ze($_,this)))}function Pkt(e){Ze(eb,this)&&(Io(gE,this,Ze($_,this)+(e.pageY-Ze(D7,this))),St(Ze(sc,this),t=>{Io(zp,this,this.setManualSize(t,Ze(gE,this)))}),this.refreshHandlePosition(),this.refreshGuidePosition())}function Nkt(){let e=()=>{this.hot.forceFullRender=!0,this.hot.view.render(),this.hot.view.adjustElementsSize()},t=(r,i)=>{this.hot.runHooks("beforeRowResize",this.getActualRowHeight(r),r,!1),i&&e(),this.saveManualRowHeights(),this.hot.runHooks("afterRowResize",this.getActualRowHeight(r),r,!1)};Ze(eb,this)&&(this.hideHandleAndGuide(),Io(eb,this,!1),Ze(zp,this)!==Ze($_,this)&&(Ze(sc,this).length>1?(St(Ze(sc,this),i=>{t(i)}),e()):St(Ze(sc,this),i=>{t(i,!0)})),this.setupHandlePosition(Ze(uu,this)))}function Lkt(){this.hideHandleAndGuide(),this.hot.rootElement.removeChild(Ze(Qa,this)),this.hot.rootElement.removeChild(Ze(hu,this)),Io(eb,this,!1),Io(jk,this,!0),this.hot._registerImmediate(()=>{Io(jk,this,!1)})}function Fkt(e,t){let r=e;if(this.enabled){let i=this.hot.toPhysicalRow(t),n=Ze(qd,this).getValueAtIndex(i);this.hot.getSettings()[_E]&&n&&(r=n)}return r}function Hkt(){let e=this.hot.getSettings()[_E],t=this.loadManualRowHeights();this.hot.batchExecution(()=>{typeof t<"u"?t.forEach((r,i)=>{Ze(qd,this).setValueAtIndex(i,r)}):Array.isArray(e)?(e.forEach((r,i)=>{Ze(qd,this).setValueAtIndex(i,r)}),Io(yE,this,e)):e===!0&&Array.isArray(Ze(yE,this))&&Ze(yE,this).forEach((r,i)=>{Ze(qd,this).setValueAtIndex(i,r)})},!0)}var X5e=ot(qt(),1),Z5e=ot(_e(),1),Q5e=ot(yn(),1),J5e=ot(_n(),1),tMe=ot(wn(),1),eMe=ot(Cn(),1),iMe=ot(xn(),1),rMe=ot(Sn(),1),nMe=ot(En(),1);var v5e=ot(qt(),1),y5e=ot(_e(),1),_5e=ot(wN(),1),w5e=ot(yn(),1),C5e=ot(_n(),1),x5e=ot(wn(),1),S5e=ot(Cn(),1),E5e=ot(xn(),1),R5e=ot(Sn(),1),T5e=ot(En(),1);var m5e=ot(qt(),1);function ib(e,t,r){return t=Bkt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bkt(e){var t=jkt(e,"string");return typeof t=="symbol"?t:t+""}function jkt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var O7=class{constructor(t,r,i,n,o,s){ib(this,"row",void 0),ib(this,"col",void 0),ib(this,"rowspan",void 0),ib(this,"colspan",void 0),ib(this,"removed",!1),ib(this,"cellCoordsFactory",void 0),ib(this,"cellRangeFactory",void 0),this.row=t,this.col=r,this.rowspan=i,this.colspan=n,this.cellCoordsFactory=o,this.cellRangeFactory=s}static NEGATIVE_VALUES_WARNING(t){return Gi`The merged cell declared with {row: ${t.row}, col: ${t.col},\x20
      rowspan: ${t.rowspan}, colspan: ${t.colspan}} contains negative values, which is\x20
      not supported. It will not be added to the collection.`}static IS_OUT_OF_BOUNDS_WARNING(t){return Gi`The merged cell declared at [${t.row}, ${t.col}] is positioned\x20
      (or positioned partially) outside of the table range. It was not added to the table, please fix your setup.`}static IS_SINGLE_CELL(t){return Gi`The merged cell declared at [${t.row}, ${t.col}] has both "rowspan"\x20
      and "colspan" declared as "1", which makes it a single cell. It cannot be added to the collection.`}static ZERO_SPAN_WARNING(t){return Gi`The merged cell declared at [${t.row}, ${t.col}] has "rowspan"\x20
      or "colspan" declared as "0", which is not supported. It cannot be added to the collection.`}static containsNegativeValues(t){return t.row<0||t.col<0||t.rowspan<0||t.colspan<0}static isSingleCell(t){return t.colspan===1&&t.rowspan===1}static containsZeroSpan(t){return t.colspan===0||t.rowspan===0}static isOutOfBounds(t,r,i){return t.row<0||t.col<0||t.row>=r||t.row+t.rowspan-1>=r||t.col>=i||t.col+t.colspan-1>=i}normalize(t){let r=t.countRows(),i=t.countCols();this.row<0?this.row=0:this.row>r-1&&(this.row=r-1),this.col<0?this.col=0:this.col>i-1&&(this.col=i-1),this.row+this.rowspan>r-1&&(this.rowspan=r-this.row),this.col+this.colspan>i-1&&(this.colspan=i-this.col)}includes(t,r){return this.row<=t&&this.col<=r&&this.row+this.rowspan-1>=t&&this.col+this.colspan-1>=r}includesHorizontally(t){return this.col<=t&&this.col+this.colspan-1>=t}includesVertically(t){return this.row<=t&&this.row+this.rowspan-1>=t}shift(t,r){let i=t[0]||t[1],n=r+Math.abs(t[0]||t[1])-1,o=t[0]?"colspan":"rowspan",s=t[0]?"col":"row",a=Math.min(r,n),l=Math.max(r,n),c=this[s],d=this[s]+this[o]-1;if(c>=r&&(this[s]+=i),i>0)r<=d&&r>c&&(this[o]+=i);else if(i<0){if(a<=c&&l>=d)return this.removed=!0,!1;if(c>=a&&c<=l){let h=l-c+1,u=Math.abs(i)-h;this[s]-=u+i,this[o]-=h}else if(c<=a&&d>=l)this[o]+=i;else if(c<=a&&d>=a&&d<l){let h=d-a+1;this[o]-=h}}return!0}isFarther(t,r){return t?r==="down"?t.row+t.rowspan-1<this.row+this.rowspan-1:r==="up"?t.row>this.row:r==="right"?t.col+t.colspan-1<this.col+this.colspan-1:r==="left"?t.col>this.col:null:!0}getLastRow(){return this.row+this.rowspan-1}getLastColumn(){return this.col+this.colspan-1}getRange(){return this.cellRangeFactory(this.cellCoordsFactory(this.row,this.col),this.cellCoordsFactory(this.row,this.col),this.cellCoordsFactory(this.getLastRow(),this.getLastColumn()))}},ac=O7;function CE(e,t,r,i){t?t.row===r&&t.col===i?(e.setAttribute("rowspan",t.rowspan.toString()),e.setAttribute("colspan",t.colspan.toString())):(e.removeAttribute("rowspan"),e.removeAttribute("colspan"),e.style.display="none"):(e.removeAttribute("rowspan"),e.removeAttribute("colspan"),e.style.display="")}function Vkt(e,t){zkt(e,t),t.add(e)}function zkt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function P7(e,t,r){return t=Ukt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ukt(e){var t=Wkt(e,"string");return typeof t=="symbol"?t:t+""}function Wkt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vk(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var xE=new WeakSet,N7=class e{constructor(t){Vkt(this,xE),P7(this,"plugin",void 0),P7(this,"mergedCells",[]),P7(this,"hot",void 0),this.plugin=t,this.hot=t.hot}static IS_OVERLAPPING_WARNING(t){return Gi`The merged cell declared at [${t.row}, ${t.col}], overlaps\x20
      with the other declared merged cell. The overlapping merged cell was not added to the table, please\x20
      fix your setup.`}get(t,r){let i=this.mergedCells,n=!1;return St(i,o=>o.row<=t&&o.row+o.rowspan-1>=t&&o.col<=r&&o.col+o.colspan-1>=r?(n=o,!1):!0),n}getByRange(t){let r=this.mergedCells,i=!1;return St(r,n=>n.row<=t.from.row&&n.row+n.rowspan-1>=t.to.row&&n.col<=t.from.col&&n.col+n.colspan-1>=t.to.col?(i=n,i):!0),i}getWithinRange(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=this.mergedCells,n=[],o=t;if(!o.includesRange){let s=this.hot._createCellCoords(o.from.row,o.from.col),a=this.hot._createCellCoords(o.to.row,o.to.col);o=this.hot._createCellRange(s,s,a)}return St(i,s=>{let a=this.hot._createCellCoords(s.row,s.col),l=this.hot._createCellCoords(s.row+s.rowspan-1,s.col+s.colspan-1),c=this.hot._createCellRange(a,a,l);r?o.overlaps(c)&&n.push(s):o.includesRange(c)&&n.push(s)}),n.length?n:!1}add(t){let r=this.mergedCells,i=t.row,n=t.col,o=t.rowspan,s=t.colspan,a=new ac(i,n,o,s,this.hot._createCellCoords,this.hot._createCellRange),l=this.get(i,n),c=this.isOverlapping(a);return!l&&!c?(this.hot&&a.normalize(this.hot),r.push(a),a):(gr(e.IS_OVERLAPPING_WARNING(a)),!1)}remove(t,r){let i=this.mergedCells,n=this.get(t,r),o=n?this.mergedCells.indexOf(n):-1;return n&&o!==-1?(i.splice(o,1),n):!1}clear(){let t=this.mergedCells,r=[],i=[];St(t,n=>{let o=this.hot.getCell(n.row,n.col);o&&r.push([o,this.get(n.row,n.col),n.row,n.col])}),this.mergedCells.length=0,St(r,(n,o)=>{Oe(0,n.rowspan-1,s=>{Oe(0,n.colspan-1,a=>{if(a!==0||s!==0){let l=this.hot.getCell(n.row+s,n.col+a);l&&i.push([l,null,null,null])}})}),r[o][1]=null}),St(r,n=>{CE(...n)}),St(i,n=>{CE(...n)})}isOverlapping(t){let r=this.hot._createCellRange(this.hot._createCellCoords(0,0),this.hot._createCellCoords(t.row,t.col),this.hot._createCellCoords(t.row+t.rowspan-1,t.col+t.colspan-1)),i=!1;return St(this.mergedCells,n=>this.hot._createCellRange(this.hot._createCellCoords(0,0),this.hot._createCellCoords(n.row,n.col),this.hot._createCellCoords(n.row+n.rowspan-1,n.col+n.colspan-1)).overlaps(r)?(i=!0,!1):!0),i}isFirstRenderableMergedCell(t,r){let i=this.get(t,r);return i&&this.hot.rowIndexMapper.getNearestNotHiddenIndex(i.row,1)===t&&this.hot.columnIndexMapper.getNearestNotHiddenIndex(i.col,1)===r}getFirstRenderableCoords(t,r){let i=this.get(t,r);if(!i||this.isFirstRenderableMergedCell(t,r))return this.hot._createCellCoords(t,r);let n=this.hot.rowIndexMapper.getNearestNotHiddenIndex(i.row,1),o=this.hot.columnIndexMapper.getNearestNotHiddenIndex(i.col,1);return this.hot._createCellCoords(n,o)}getStartMostColumnIndex(t,r){let i=Vk(xE,this,zk).call(this,t,"col",-1),n=r;for(let o=0;o<i.length;o++)if(i[o]<=r){n=i[o];break}return n}getEndMostColumnIndex(t,r){let i=Vk(xE,this,zk).call(this,t,"col",1),n=r;for(let o=0;o<i.length;o++)if(i[o]>=r){n=i[o];break}return n}getTopMostRowIndex(t,r){let i=Vk(xE,this,zk).call(this,t,"row",-1),n=r;for(let o=0;o<i.length;o++)if(i[o]<=r){n=i[o];break}return n}getBottomMostRowIndex(t,r){let i=Vk(xE,this,zk).call(this,t,"row",1),n=r;for(let o=0;o<i.length;o++)if(i[o]>=r){n=i[o];break}return n}shiftCollections(t,r,i){let n=[0,0];switch(t){case"right":n[0]+=i;break;case"left":n[0]-=i;break;case"down":n[1]+=i;break;case"up":n[1]-=i;break;default:}St(this.mergedCells,o=>{o.shift(n,r)}),IC(this.mergedCells.length-1,0,o=>{let s=this.mergedCells[o];s&&s.removed&&this.mergedCells.splice(this.mergedCells.indexOf(s),1)})}};function zk(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=new Map,n=r===1?e.getTopStartCorner():e.getBottomEndCorner(),o=r===1?e.getBottomEndCorner():e.getTopStartCorner();for(let s=n.row;r===1?s<=o.row:s>=o.row;s+=r)for(let a=n.col;r===1?a<=o.col:a>=o.col;a+=r){let l=t==="row"?s:a,c=this.get(s,a),d=l;c&&(d=r===1?c[t]+c[`${t}span`]-1:c[t]),i.has(l)||i.set(l,new Set),i.get(l).add(d)}return Array.from(new Set(Array.from(i.entries()).filter(s=>{let[,a]=s;return a.size===1}).flatMap(s=>{let[,a]=s;return Array.from(a)})))}var Jit=N7;var N5e=ot(qt(),1);function L7(e,t,r){return t=Ykt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ykt(e){var t=$kt(e,"string");return typeof t=="symbol"?t:t+""}function $kt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var F7=class{constructor(t){L7(this,"plugin",void 0),L7(this,"mergedCellsCollection",void 0),L7(this,"currentFillData",null),this.plugin=t,this.mergedCellsCollection=this.plugin.mergedCellsCollection}correctSelectionAreaSize(t){if(t[0]===t[2]&&t[1]===t[3]){let r=this.mergedCellsCollection.get(t[0],t[1]);r&&(t[2]=t[0]+r.rowspan-1,t[3]=t[1]+r.colspan-1)}}getDirection(t,r){let i=null;return r[0]===t[0]&&r[1]===t[1]&&r[3]===t[3]?i="down":r[2]===t[2]&&r[1]===t[1]&&r[3]===t[3]?i="up":r[1]===t[1]&&r[2]===t[2]?i="right":i="left",i}snapDragArea(t,r,i,n){let o=r.slice(0),s=this.getAutofillSize(t,r,i),[a,l,c,d]=t,u=["up","down"].indexOf(i)>-1?c-a+1:d-l+1,f=Math.floor(s/u)*u,m=s-f,g=this.getFarthestCollection(t,r,i,n);if(g){if(i==="down"){let p=g.row+g.rowspan-a-m;o[2]+p>=this.plugin.hot.countRows()?o[2]-=m:o[2]+=m?p:0}else if(i==="right"){let p=g.col+g.colspan-l-m;o[3]+p>=this.plugin.hot.countCols()?o[3]-=m:o[3]+=m?p:0}else if(i==="up"){let p=c-m-g.row+1;o[0]+p<0?o[0]+=m:o[0]-=m?p:0}else if(i==="left"){let p=d-m-g.col+1;o[1]+p<0?o[1]+=m:o[1]-=m?p:0}}return this.updateCurrentFillCache({baseArea:t,dragDirection:i,foundMergedCells:n,fillSize:s,dragArea:o,cycleLength:u}),o}updateCurrentFillCache(t){this.currentFillData||(this.currentFillData={}),zr(this.currentFillData,t)}getAutofillSize(t,r,i){let[n,o,s,a]=t,[l,c,d,h]=r;switch(i){case"up":return n-l;case"down":return d-s;case"left":return o-c;case"right":return h-a;default:return null}}getDragArea(t,r,i){let[n,o,s,a]=t,[l,c,d,h]=r;switch(i){case"up":return[l,c,n-1,a];case"down":return[s+1,o,d,a];case"left":return[l,c,s,o-1];case"right":return[n,a+1,d,h];default:return null}}getFarthestCollection(t,r,i,n){let[o,s,a,l]=t,c=["up","down"].indexOf(i)>-1,d=c?a:l,h=c?o:s,u=this.getAutofillSize(t,r,i),f=c?a-o+1:l-s+1,m=Math.floor(u/f)*f,g=u-m,p=null,b=null,_=null;switch(i){case"up":p="includesVertically",_=d-g+1;break;case"left":p="includesHorizontally",_=d-g+1;break;case"down":p="includesVertically",_=h+g-1;break;case"right":p="includesHorizontally",_=h+g-1;break;default:}return St(n,E=>{E[p](_)&&E.isFarther(b,i)&&(b=E)}),b}recreateAfterDataPopulation(t){if(!this.currentFillData)return;let r=this.getRangeFromChanges(t),i=this.currentFillData.foundMergedCells,n=this.currentFillData.dragDirection,o=(c,d)=>{switch(n){case"up":return c.row-d>=r.from.row;case"down":return c.row+c.rowspan-1+d<=r.to.row;case"left":return c.col-d>=r.from.column;case"right":return c.col+c.colspan-1+d<=r.to.column;default:return null}},s=0,a=null,l=1;do for(let c=0;c<i.length;c+=1){if(a=i[c],s=l*this.currentFillData.cycleLength,o(a,s))switch(n){case"up":this.plugin.mergedCellsCollection.add({row:a.row-s,rowspan:a.rowspan,col:a.col,colspan:a.colspan});break;case"down":this.plugin.mergedCellsCollection.add({row:a.row+s,rowspan:a.rowspan,col:a.col,colspan:a.colspan});break;case"left":this.plugin.mergedCellsCollection.add({row:a.row,rowspan:a.rowspan,col:a.col-s,colspan:a.colspan});break;case"right":this.plugin.mergedCellsCollection.add({row:a.row,rowspan:a.rowspan,col:a.col+s,colspan:a.colspan});break;default:}c===i.length-1&&(l+=1)}while(o(a,s));this.currentFillData=null,this.plugin.hot.render(),i.length>0&&this.plugin.ifChromeForceRepaint()}getRangeFromChanges(t){let r={min:null,max:null},i={min:null,max:null};return St(t,n=>{let o=n[0],s=this.plugin.hot.propToCol(n[1]);(r.min===null||o<r.min)&&(r.min=o),(r.max===null||o>r.max)&&(r.max=o),(i.min===null||s<i.min)&&(i.min=s),(i.max===null||s>i.max)&&(i.max=s)}),{from:{row:r.min,column:i.min},to:{row:r.max,column:i.max}}}dragAreaOverlapsCollections(t,r,i){let n=this.getDragArea(t,r,i),[o,s,a,l]=n,c=this.plugin.hot._createCellCoords(o,s),d=this.plugin.hot._createCellCoords(a,l),h=this.plugin.hot._createCellRange(c,c,d);return!!this.mergedCellsCollection.getWithinRange(h,!0)}},trt=F7;var B5e=ot(qt(),1),j5e=ot(_e(),1);function H7(e,t,r){return t=qkt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qkt(e){var t=Gkt(e,"string");return typeof t=="symbol"?t:t+""}function Gkt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var B7=class{constructor(t){H7(this,"plugin",void 0),H7(this,"hot",void 0),H7(this,"fullySelectedMergedCellClassName","fullySelectedMergedCell"),this.plugin=t,this.hot=t.hot}getSelectedMergedCellClassName(t,r,i,n){let o=Math.min(i[0],i[2]),s=Math.min(i[1],i[3]),a=Math.max(i[0],i[2]),l=Math.max(i[1],i[3]);if(n===void 0||!this.plugin.mergedCellsCollection.isFirstRenderableMergedCell(t,r))return;let d=this.plugin.mergedCellsCollection.get(t,r);if(!d)return;let h=d.getLastRow(),u=d.getLastColumn();if(o<=d.row&&s<=d.col&&a>=h&&l>=u)return`${this.fullySelectedMergedCellClassName}-${n}`;if(this.isMergeCellFullySelected(d,this.plugin.hot.getSelectedRange()))return`${this.fullySelectedMergedCellClassName}-multiple`}isMergeCellFullySelected(t,r){let i=[];if(!r||!t)return!1;for(let n=0;n<t.rowspan;n+=1)for(let o=0;o<t.colspan;o+=1)i.push(this.hot._createCellCoords(t.row+n,t.col+o));for(let n=0;n<i.length;n+=1){let o=[];for(let s=0;s<r.length;s+=1)o[s]=r[s].includes(i[n]);if(!o.includes(!0))return!1}return!0}getSelectedMergedCellClassNameToRemove(){let t=[];for(let r=0;r<=7;r+=1)t.push(`${this.fullySelectedMergedCellClassName}-${r}`);return t.push(`${this.fullySelectedMergedCellClassName}-multiple`),t}},ert=B7;function j7(e){return{key:"mergeCells",name(){let t=this.getSelectedLast();if(t){let r=e.mergedCellsCollection.get(t[0],t[1]);if(r.row===t[0]&&r.col===t[1]&&r.row+r.rowspan-1===t[2]&&r.col+r.colspan-1===t[3])return this.getTranslatedPhrase(Ix)}return this.getTranslatedPhrase(Ax)},callback(){let t=this.getSelectedRangeLast();if(!t)return;t.setDirection(this.isRtl()?"NE-SW":"NW-SE");let{from:r,to:i}=t;e.toggleMerge(t),this.selectCell(r.row,r.col,i.row,i.col,!1)},disabled(){let t=this.getSelectedLast();return t?ac.isSingleCell({row:t[0],col:t[1],rowspan:t[2]-t[0]+1,colspan:t[3]-t[1]+1})||this.selection.isSelectedByCorner():!0},hidden:!1}}var $5e=ot(qt(),1),q5e=ot(_e(),1);var W5e=ot(qt(),1);function SE(e,t,r){return t=Kkt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kkt(e){var t=Xkt(e,"string");return typeof t=="symbol"?t:t+""}function Xkt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Uk=class{constructor(t){SE(this,"data",void 0),SE(this,"next",null),SE(this,"prev",null),this.data=t}},V7=class{constructor(){SE(this,"first",null),SE(this,"last",null)}push(t){let r=new Uk(t);if(this.first===null)this.first=r,this.last=r;else{let i=this.last;this.last=r,r.prev=i,i.next=r}return r}unshift(t){let r=new Uk(t);if(this.first===null)this.first=r,this.last=r;else{let i=this.first;this.first=r,r.next=i,i.prev=r}}inorder(t){let r=this.first;for(;r;){let i=t(r);if(r===this.last||i===!0)break;r=r.next}}remove(t){if(this.first===null)return!1;let r=this.first,i,n;for(;r;){if(r.data===t)return i=r.next,n=r.prev,i&&(i.prev=n),n&&(n.next=i),r===this.first&&(this.first=i),r===this.last&&(this.last=n),!0;r=r.next}return!1}hasCycle(){let t=this.first,r=this.first;for(;;){if(t===null||(t=t.next,t===null))return!1;if(t=t.next,r=r.next,t===r)return!0}}pop(){if(this.last===null)return null;let t=this.last;return this.last=this.last.prev,t}shift(){if(this.first===null)return null;let t=this.first;return this.first=this.first.next,t}recursiveReverse(){function t(i,n){n&&(t(n,n.next),n.next=i)}if(!this.first)return;t(this.first,this.first.next),this.first.next=null;let r=this.first;this.first=this.last,this.last=r}reverse(){if(!this.first||!this.first.next)return;let t=this.first.next,r=this.first,i;for(;t;)i=t.next,t.next=r,r.prev=t,r=t,t=i;this.first.next=null,this.last.prev=null,i=this.first,this.first=r,this.last=i}};var EE=V7;function Zkt(e,t){rrt(e,t),t.add(e)}function rb(e,t,r){rrt(e,t),t.set(e,r)}function rrt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function dn(e,t){return e.get($k(e,t))}function lc(e,t,r){return e.set($k(e,t),r),r}function $k(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var fu=new WeakMap,mu=new WeakMap,pu=new WeakMap,gu=new WeakMap,U7=new WeakMap,Wk=new WeakMap,Yk=new WeakMap,z7=new WeakSet,qk=class{constructor(t){let{mergedCellsGetter:r,rowIndexMapper:i,columnIndexMapper:n}=t;Zkt(this,z7),rb(this,fu,new EE),rb(this,mu,new EE),rb(this,pu,null),rb(this,gu,null),rb(this,U7,null),rb(this,Wk,null),rb(this,Yk,null),lc(U7,this,r),lc(Wk,this,i),lc(Yk,this,n)}getCurrentVerticalNode(){return dn(gu,this).data}getFirstVerticalNode(){return dn(mu,this).first.data}getNextVerticalNode(){return dn(gu,this).next.data}getPrevVerticalNode(){return dn(gu,this).prev.data}getCurrentHorizontalNode(){return dn(pu,this).data}getFirstHorizontalNode(){return dn(fu,this).first.data}getNextHorizontalNode(){return dn(pu,this).next.data}getPrevHorizontalNode(){return dn(pu,this).prev.data}setPrevNodeAsActive(){lc(gu,this,dn(gu,this).prev),lc(pu,this,dn(pu,this).prev)}setNextNodeAsActive(){lc(gu,this,dn(gu,this).next),lc(pu,this,dn(pu,this).next)}buildFocusOrder(t){let r=t.getTopStartCorner(),i=t.getBottomEndCorner(),n=new WeakSet;lc(fu,this,new EE);for(let s=r.row;s<=i.row;s++)if(!dn(Wk,this).isHidden(s))for(let a=r.col;a<=i.col;a++){if(dn(Yk,this).isHidden(a))continue;let l=$k(z7,this,irt).call(this,t,dn(fu,this),n,s,a);l&&lc(pu,this,l)}dn(fu,this).first&&(dn(fu,this).first.prev=dn(fu,this).last,dn(fu,this).last.next=dn(fu,this).first);let o=new WeakSet;lc(mu,this,new EE);for(let s=r.col;s<=i.col;s++)if(!dn(Yk,this).isHidden(s))for(let a=r.row;a<=i.row;a++){if(dn(Wk,this).isHidden(a))continue;let l=$k(z7,this,irt).call(this,t,dn(mu,this),o,a,s);l&&lc(gu,this,l)}dn(mu,this).first&&(dn(mu,this).first.prev=dn(mu,this).last,dn(mu,this).last.next=dn(mu,this).first)}setActiveNode(t,r){return dn(fu,this).inorder(i=>{let{rowStart:n,rowEnd:o,colStart:s,colEnd:a}=i.data;if(t>=n&&t<=o&&r>=s&&r<=a)return lc(pu,this,i),!1}),dn(mu,this).inorder(i=>{let{rowStart:n,rowEnd:o,colStart:s,colEnd:a}=i.data;if(t>=n&&t<=o&&r>=s&&r<=a)return lc(gu,this,i),!1}),this}};function irt(e,t,r,i,n){let o=e.getTopStartCorner(),s=e.getBottomEndCorner(),a=e.highlight.clone().normalize(),l=dn(U7,this).call(this,i,n);if(l&&r.has(l))return null;let c={colStart:n,colEnd:n,rowStart:i,rowEnd:i};if(l){if(r.add(l),l.row<o.row||l.row+l.rowspan-1>s.row||l.col<o.col||l.col+l.colspan-1>s.col)return null;c.colStart=l.col,c.colEnd=l.col+l.colspan-1,c.rowStart=l.row,c.rowEnd=l.row+l.rowspan-1}let d=t.push(c);return i===a.row&&n===a.col||l&&a.row>=l.row&&a.row<=l.row+l.rowspan-1&&a.col>=l.col&&a.col<=l.col+l.colspan-1?d:null}function Qkt(e,t){srt(e,t),t.add(e)}function W7(e,t,r){srt(e,t),t.set(e,r)}function srt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Y7(e,t,r){return t=Jkt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jkt(e){var t=tDt(e,"string");return typeof t=="symbol"?t:t+""}function tDt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RE(e,t,r){return e.set(Dn(e,t),r),r}function oo(e,t){return e.get(Dn(e,t))}function Dn(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}Le.getSingleton().register("beforeMergeCells");Le.getSingleton().register("afterMergeCells");Le.getSingleton().register("beforeUnmergeCells");Le.getSingleton().register("afterUnmergeCells");var q_="mergeCells",art=150,nrt=q_,td=new WeakMap,ed=new WeakMap,bu=new WeakMap,Un=new WeakSet,TE=class extends vi{constructor(){super(...arguments),Qkt(this,Un),Y7(this,"mergedCellsCollection",null),Y7(this,"autofillCalculations",null),Y7(this,"selectionCalculations",null),W7(this,td,null),W7(this,ed,{row:0,col:0}),W7(this,bu,new qk({mergedCellsGetter:(t,r)=>this.mergedCellsCollection.get(t,r),rowIndexMapper:this.hot.rowIndexMapper,columnIndexMapper:this.hot.columnIndexMapper}))}static get PLUGIN_KEY(){return q_}static get PLUGIN_PRIORITY(){return art}isEnabled(){return!!this.hot.getSettings()[q_]}enablePlugin(){var t=this;this.enabled||(this.mergedCellsCollection=new Jit(this),this.autofillCalculations=new trt(this),this.selectionCalculations=new ert(this),this.addHook("afterInit",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return Dn(Un,t,eDt).call(t,...i)}),this.addHook("modifyTransformFocus",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return Dn(Un,t,rDt).call(t,...i)}),this.addHook("modifyTransformStart",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return Dn(Un,t,nDt).call(t,...i)}),this.addHook("modifyTransformEnd",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return Dn(Un,t,oDt).call(t,...i)}),this.addHook("beforeSelectionHighlightSet",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return Dn(Un,t,sDt).call(t,...i)}),this.addHook("beforeSetRangeStart",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return Dn(Un,t,ort).call(t,...i)}),this.addHook("beforeSetRangeStartOnly",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return Dn(Un,t,ort).call(t,...i)}),this.addHook("beforeSelectionFocusSet",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return Dn(Un,t,dDt).call(t,...i)}),this.addHook("afterSelectionFocusSet",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return Dn(Un,t,hDt).call(t,...i)}),this.addHook("afterSelectionEnd",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return Dn(Un,t,uDt).call(t,...i)}),this.addHook("modifyGetCellCoords",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return Dn(Un,t,aDt).call(t,...i)}),this.addHook("afterIsMultipleSelection",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return Dn(Un,t,iDt).call(t,...i)}),this.addHook("afterRenderer",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return Dn(Un,t,cDt).call(t,...i)}),this.addHook("afterContextMenuDefaultOptions",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return Dn(Un,t,lDt).call(t,...i)}),this.addHook("afterGetCellMeta",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return Dn(Un,t,fDt).call(t,...i)}),this.addHook("afterViewportRowCalculatorOverride",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return Dn(Un,t,mDt).call(t,...i)}),this.addHook("afterViewportColumnCalculatorOverride",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return Dn(Un,t,pDt).call(t,...i)}),this.addHook("modifyAutofillRange",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return Dn(Un,t,gDt).call(t,...i)}),this.addHook("afterCreateCol",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return Dn(Un,t,bDt).call(t,...i)}),this.addHook("afterRemoveCol",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return Dn(Un,t,vDt).call(t,...i)}),this.addHook("afterCreateRow",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return Dn(Un,t,yDt).call(t,...i)}),this.addHook("afterRemoveRow",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return Dn(Un,t,_Dt).call(t,...i)}),this.addHook("afterChange",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return Dn(Un,t,wDt).call(t,...i)}),this.addHook("beforeDrawBorders",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return Dn(Un,t,CDt).call(t,...i)}),this.addHook("afterDrawSelection",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return Dn(Un,t,xDt).call(t,...i)}),this.addHook("beforeRemoveCellClassNames",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return Dn(Un,t,SDt).call(t,...i)}),this.addHook("beforeBeginEditing",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return Dn(Un,t,EDt).call(t,...i)}),this.addHook("beforeUndoStackChange",(r,i)=>{if(i==="MergeCells")return!1}),this.registerShortcuts(),super.enablePlugin())}disablePlugin(){this.clearCollections(),this.unregisterShortcuts(),this.hot.render(),super.disablePlugin()}updatePlugin(){let t=this.hot.getSettings()[q_];this.disablePlugin(),this.enablePlugin(),this.generateFromSettings(t),super.updatePlugin()}ifChromeForceRepaint(){if(!CM())return;let t=[],r=[];this.mergedCellsCollection.mergedCells.forEach(i=>{let{row:n,rowspan:o}=i;for(let s=n+1;s<n+o;s++)r.push(s)}),r=[...new Set(r)],r.forEach(i=>{let n=this.hot.rowIndexMapper.getRenderableFromVisualIndex(i);this.hot.view._wt.wtOverlays.getOverlays(!0).map(o=>o?.name==="master"?o:o.clone.wtTable).forEach(o=>{let s=o.getRow(n);s&&(s.style.background=Ym(s,"backgroundColor").replace(")",", 0.99)"),t.push(s))})}),this.hot._registerTimeout(()=>{t.forEach(i=>{i.style.background=Ym(i,"backgroundColor").replace(", 0.99)",")")})},1)}validateSetting(t){let r=!0;return t?(ac.containsNegativeValues(t)?(gr(ac.NEGATIVE_VALUES_WARNING(t)),r=!1):ac.isOutOfBounds(t,this.hot.countRows(),this.hot.countCols())?(gr(ac.IS_OUT_OF_BOUNDS_WARNING(t)),r=!1):ac.isSingleCell(t)?(gr(ac.IS_SINGLE_CELL(t)),r=!1):ac.containsZeroSpan(t)&&(gr(ac.ZERO_SPAN_WARNING(t)),r=!1),r):!1}generateFromSettings(t){if(Array.isArray(t)){let r=[];if(St(t,i=>{if(!this.validateSetting(i))return;let n=this.hot._createCellCoords(i.row,i.col),o=this.hot._createCellCoords(i.row+i.rowspan-1,i.col+i.colspan-1),s=this.hot._createCellRange(n,n,o);this.mergeRange(s,!0,!0),Oe(i.row,i.row+i.rowspan-1,a=>{Oe(i.col,i.col+i.colspan-1,l=>{a===i.row&&l===i.col||r.push([a,l,null])})})}),r.length===0)return;this.hot.setDataAtCell(r,void 0,void 0,this.pluginName)}}clearCollections(){this.mergedCellsCollection.clear()}canMergeRange(t){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?!0:this.validateSetting(t)}mergeSelection(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.hot.getSelectedRangeLast();if(!t)return;t.setDirection(this.hot.isRtl()?"NE-SW":"NW-SE");let{from:r,to:i}=t;this.unmergeRange(t,!0),this.mergeRange(t),this.hot.selectCell(r.row,r.col,i.row,i.col,!1)}unmergeSelection(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.hot.getSelectedRangeLast();if(!t)return;let{from:r,to:i}=t;this.unmergeRange(t,!0),this.hot.selectCell(r.row,r.col,i.row,i.col,!1)}mergeRange(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=t.getTopStartCorner(),o=t.getBottomEndCorner(),s={row:n.row,col:n.col,rowspan:o.row-n.row+1,colspan:o.col-n.col+1},a=[],l=null;return this.canMergeRange(s,r)?(this.hot.runHooks("beforeMergeCells",t,r),Oe(0,s.rowspan-1,d=>{Oe(0,s.colspan-1,h=>{let u=null;a[d]||(a[d]=[]),d===0&&h===0?u=this.hot.getSourceDataAtCell(this.hot.toPhysicalRow(s.row),this.hot.toPhysicalColumn(s.col)):this.hot.setCellMeta(s.row+d,s.col+h,"hidden",!0),a[d][h]=u})}),this.hot.setCellMeta(s.row,s.col,"spanned",!0),this.mergedCellsCollection.add(s)?(i?l=[s.row,s.col,a]:this.hot.populateFromArray(s.row,s.col,a,void 0,void 0,this.pluginName),r||this.ifChromeForceRepaint(),this.hot.runHooks("afterMergeCells",t,s,r),l):!0):!1}unmergeRange(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=this.mergedCellsCollection.getWithinRange(t);i&&(this.hot.runHooks("beforeUnmergeCells",t,r),St(i,n=>{this.mergedCellsCollection.remove(n.row,n.col),Oe(0,n.rowspan-1,o=>{Oe(0,n.colspan-1,s=>{this.hot.removeCellMeta(n.row+o,n.col+s,"hidden"),this.hot.removeCellMeta(n.row+o,n.col+s,"copyable")})}),this.hot.removeCellMeta(n.row,n.col,"spanned")}),this.hot.runHooks("afterUnmergeCells",t,r),this.hot.render())}toggleMerge(t){let r=this.mergedCellsCollection.get(t.from.row,t.from.col);r.row===t.from.row&&r.col===t.from.col&&r.row+r.rowspan-1===t.to.row&&r.col+r.colspan-1===t.to.col?this.unmergeRange(t):this.mergeSelection(t)}merge(t,r,i,n){let o=this.hot._createCellCoords(t,r),s=this.hot._createCellCoords(i,n);this.mergeRange(this.hot._createCellRange(o,o,s))}unmerge(t,r,i,n){let o=this.hot._createCellCoords(t,r),s=this.hot._createCellCoords(i,n);this.unmergeRange(this.hot._createCellRange(o,o,s))}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Control","m"]],callback:()=>{let i=this.hot.getSelectedRangeLast();i&&!i.isSingleHeader()&&(this.toggleMerge(i),this.hot.render())},runOnlyIf:i=>!i.altKey,group:nrt})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(nrt)}modifyViewportRowStart(t,r){let i=this.hot.rowIndexMapper,n=i.getVisualFromRenderableIndex(t.startRow);for(let o=0;o<r;o+=1){let s=this.mergedCellsCollection.get(n,o);if(gi(s)){let a=i.getRenderableFromVisualIndex(i.getNearestNotHiddenIndex(s.row,1));if(a<t.startRow){t.startRow=a,this.modifyViewportRowStart(t,r);return}}}}modifyViewportRowEnd(t,r){let i=this.hot.rowIndexMapper,n=i.getVisualFromRenderableIndex(t.endRow);for(let o=0;o<r;o+=1){let s=this.mergedCellsCollection.get(n,o);if(gi(s)){let a=s.row+s.rowspan-1,l=i.getRenderableFromVisualIndex(i.getNearestNotHiddenIndex(a,-1));if(l>t.endRow){t.endRow=l,this.modifyViewportRowEnd(t,r);return}}}}modifyViewportColumnStart(t,r){let i=this.hot.columnIndexMapper,n=i.getVisualFromRenderableIndex(t.startColumn);for(let o=0;o<r;o+=1){let s=this.mergedCellsCollection.get(o,n);if(gi(s)){let a=i.getRenderableFromVisualIndex(i.getNearestNotHiddenIndex(s.col,1));if(a<t.startColumn){t.startColumn=a,this.modifyViewportColumnStart(t,r);return}}}}modifyViewportColumnEnd(t,r){let i=this.hot.columnIndexMapper,n=i.getVisualFromRenderableIndex(t.endColumn);for(let o=0;o<r;o+=1){let s=this.mergedCellsCollection.get(o,n);if(gi(s)){let a=s.col+s.colspan-1,l=i.getRenderableFromVisualIndex(i.getNearestNotHiddenIndex(a,-1));if(l>t.endColumn){t.endColumn=l,this.modifyViewportColumnEnd(t,r);return}}}}translateMergedCellToRenderable(t,r,i,n){let{rowIndexMapper:o,columnIndexMapper:s}=this.hot,a,l;r===0?a=o.getNearestNotHiddenIndex(t,1):a=o.getNearestNotHiddenIndex(t+r-1,-1),n===0?l=s.getNearestNotHiddenIndex(i,1):l=s.getNearestNotHiddenIndex(i+n-1,-1);let c=t>=0?o.getRenderableFromVisualIndex(a):t,d=i>=0?s.getRenderableFromVisualIndex(l):i;return[c,d]}};function eDt(){this.generateFromSettings(this.hot.getSettings()[q_]),this.hot.render()}function iDt(e){if(e){let t=this.mergedCellsCollection.mergedCells,r=this.hot.getSelectedRangeLast(),i=r.getTopStartCorner(),n=r.getBottomEndCorner();for(let o=0;o<t.length;o+=1)if(i.row===t[o].row&&i.col===t[o].col&&n.row===t[o].row+t[o].rowspan-1&&n.col===t[o].col+t[o].colspan-1)return!1}return e}function rDt(e){oo(ed,this).row=e.row,oo(ed,this).col=e.col}function nDt(e){let t=this.hot.getSelectedRangeLast(),{highlight:r}=t,{columnIndexMapper:i,rowIndexMapper:n}=this.hot;oo(td,this)&&(n.getRenderableFromVisualIndex(oo(td,this).row)!==null&&(r.row=oo(td,this).row),i.getRenderableFromVisualIndex(oo(td,this).col)!==null&&(r.col=oo(td,this).col),RE(td,this,null));let o=this.mergedCellsCollection.get(r.row,r.col);if(!o)return;let s=o.col,a=o.col+o.colspan-1;if(e.col<0){let d=r.col>=s&&r.col<=a?s-1:a,h=i.getNearestNotHiddenIndex(d,-1);h===null?e.col=-this.hot.view.countRenderableColumnsInRange(0,r.col):e.col=-Math.max(this.hot.view.countRenderableColumnsInRange(h,r.col)-1,1)}else if(e.col>0){let d=r.col>=s&&r.col<=a?a+1:s,h=i.getNearestNotHiddenIndex(d,1);h===null?e.col=this.hot.view.countRenderableColumnsInRange(r.col,this.hot.countCols()):e.col=Math.max(this.hot.view.countRenderableColumnsInRange(r.col,h)-1,1)}let l=o.row,c=o.row+o.rowspan-1;if(e.row<0){let d=r.row>=l&&r.row<=c?l-1:c,h=n.getNearestNotHiddenIndex(d,-1);h===null?e.row=-this.hot.view.countRenderableRowsInRange(0,r.row):e.row=-Math.max(this.hot.view.countRenderableRowsInRange(h,r.row)-1,1)}else if(e.row>0){let d=r.row>=l&&r.row<=c?c+1:l,h=n.getNearestNotHiddenIndex(d,1);h===null?e.row=this.hot.view.countRenderableRowsInRange(r.row,this.hot.countRows()):e.row=Math.max(this.hot.view.countRenderableRowsInRange(r.row,h)-1,1)}}function oDt(e){let t=this.hot.getSelectedRangeLast(),r=t.clone(),{to:i}=t,{columnIndexMapper:n,rowIndexMapper:o}=this.hot,s=(a,l)=>{r.expand(this.hot._createCellCoords(a,l));for(let c=0;c<this.mergedCellsCollection.mergedCells.length;c+=1)r.expandByRange(this.mergedCellsCollection.mergedCells[c].getRange())};if(e.col<0){let a=this.mergedCellsCollection.getStartMostColumnIndex(t,i.col)+e.col;s(i.row,a),t.getHorizontalDirection()==="E-W"&&r.getHorizontalDirection()==="E-W"&&(a=r.getTopStartCorner().col);let l=n.getNearestNotHiddenIndex(a,1);l!==null&&(e.col=-Math.max(this.hot.view.countRenderableColumnsInRange(l,i.col)-1,1))}else if(e.col>0){let a=this.mergedCellsCollection.getEndMostColumnIndex(t,i.col)+e.col;s(i.row,a),t.getHorizontalDirection()==="W-E"&&r.getHorizontalDirection()==="W-E"&&(a=r.getBottomEndCorner().col);let l=n.getNearestNotHiddenIndex(a,-1);l!==null&&(e.col=Math.max(this.hot.view.countRenderableColumnsInRange(i.col,l)-1,1))}if(e.row<0){let a=this.mergedCellsCollection.getTopMostRowIndex(t,i.row)+e.row;s(a,i.col),t.getVerticalDirection()==="S-N"&&r.getVerticalDirection()==="S-N"&&(a=r.getTopStartCorner().row);let l=o.getNearestNotHiddenIndex(a,1);l!==null&&(e.row=-Math.max(this.hot.view.countRenderableRowsInRange(l,i.row)-1,1))}else if(e.row>0){let a=this.mergedCellsCollection.getBottomMostRowIndex(t,i.row)+e.row;s(a,i.col),t.getVerticalDirection()==="N-S"&&r.getVerticalDirection()==="N-S"&&(a=r.getBottomStartCorner().row);let l=o.getNearestNotHiddenIndex(a,-1);l!==null&&(e.row=Math.max(this.hot.view.countRenderableRowsInRange(i.row,l)-1,1))}}function sDt(){let e=this.hot.getSelectedRangeLast(),{highlight:t}=e;if(this.hot.selection.isSelectedByColumnHeader()||this.hot.selection.isSelectedByRowHeader()){RE(td,this,t.clone());return}for(let i=0;i<this.mergedCellsCollection.mergedCells.length;i+=1)e.expandByRange(this.mergedCellsCollection.mergedCells[i].getRange(),!1);for(let i=0;i<this.mergedCellsCollection.mergedCells.length;i+=1)e.expandByRange(this.mergedCellsCollection.mergedCells[i].getRange(),!1);let r=this.mergedCellsCollection.get(t.row,t.col);RE(td,this,t.clone()),r&&t.assign(r)}function aDt(e,t){if(e<0||t<0)return;let r=this.mergedCellsCollection.get(e,t);if(!r)return;let{row:i,col:n,colspan:o,rowspan:s}=r;return[i,n,i+s-1,n+o-1]}function lDt(e){e.items.push({name:"---------"},j7(this))}function cDt(e,t,r){let i=this.mergedCellsCollection.get(t,r),n=gi(i)?Xo(i):void 0;if(gi(n)){let{rowIndexMapper:o,columnIndexMapper:s}=this.hot,{row:a,col:l,colspan:c,rowspan:d}=n,[h,u]=this.translateMergedCellToRenderable(a,d,l,c),f=o.getRenderableFromVisualIndex(t),m=s.getRenderableFromVisualIndex(r),g=h-f+1,p=u-m+1;n.row=o.getNearestNotHiddenIndex(n.row,1),n.col=s.getNearestNotHiddenIndex(n.col,1),n.rowspan=Math.min(n.rowspan,g),n.colspan=Math.min(n.colspan,p)}CE(e,n,t,r)}function ort(){RE(td,this,null)}function dDt(){if(oo(td,this).isCell())return;let e=this.hot.getSelectedRangeLast(),t=e.getVerticalDirection(),r=e.getHorizontalDirection(),i=oo(td,this).clone().normalize();oo(bu,this).setActiveNode(i.row,i.col),oo(ed,this).row>0||oo(ed,this).col>0?oo(bu,this).setPrevNodeAsActive():(r==="E-W"&&oo(ed,this).col<0||t==="S-N"&&oo(ed,this).row<0)&&oo(bu,this).setNextNodeAsActive()}function hDt(e,t){let r=this.hot.getSelectedRangeLast(),{columnIndexMapper:i,rowIndexMapper:n}=this.hot,o=null,s=null;if(oo(ed,this).col<0){let{rowEnd:a,colEnd:l}=oo(bu,this).getPrevHorizontalNode();s=i.getNearestNotHiddenIndex(l,-1),o=n.getNearestNotHiddenIndex(a,-1)}else if(oo(ed,this).col>0){let{rowStart:a,colStart:l}=oo(bu,this).getNextHorizontalNode();s=i.getNearestNotHiddenIndex(l,1),o=n.getNearestNotHiddenIndex(a,1)}else if(oo(ed,this).row<0){let{rowEnd:a,colEnd:l}=oo(bu,this).getPrevVerticalNode();s=i.getNearestNotHiddenIndex(l,-1),o=n.getNearestNotHiddenIndex(a,-1)}else if(oo(ed,this).row>0){let{rowStart:a,colStart:l}=oo(bu,this).getNextVerticalNode();s=i.getNearestNotHiddenIndex(l,1),o=n.getNearestNotHiddenIndex(a,1)}if(o!==null||s!==null){let a=this.hot._createCellCoords(o,s),l=this.mergedCellsCollection.get(a.row,a.col),c=this.hot.selection.highlight.getFocus();e=a.row,t=a.col,l?r.highlight.assign({row:this.hot.rowIndexMapper.getNearestNotHiddenIndex(l.row,1),col:this.hot.columnIndexMapper.getNearestNotHiddenIndex(l.col,1)}):r.highlight.assign(a),c.clear(),c.add(a).commit()}oo(bu,this).setActiveNode(e,t),RE(ed,this,{row:0,col:0})}function uDt(){this.hot.getSelectedRangeLast().isHeader()||oo(bu,this).buildFocusOrder(this.hot.getSelectedRangeLast())}function fDt(e,t,r){let i=this.mergedCellsCollection.get(e,t);i&&(i.row!==e||i.col!==t?r.copyable=!1:(r.rowspan=i.rowspan,r.colspan=i.colspan))}function mDt(e){let t=this.hot.countCols();this.modifyViewportRowStart(e,t),this.modifyViewportRowEnd(e,t)}function pDt(e){let t=this.hot.countRows();this.modifyViewportColumnStart(e,t),this.modifyViewportColumnEnd(e,t)}function gDt(e,t){this.autofillCalculations.correctSelectionAreaSize(t);let r=this.autofillCalculations.getDirection(t,e),i=e;if(this.autofillCalculations.dragAreaOverlapsCollections(t,i,r))return i=t,i;let n=this.mergedCellsCollection.getWithinRange({from:{row:t[0],col:t[1]},to:{row:t[2],col:t[3]}});return n&&(i=this.autofillCalculations.snapDragArea(t,i,r,n)),i}function bDt(e,t){this.mergedCellsCollection.shiftCollections("right",e,t)}function vDt(e,t){this.mergedCellsCollection.shiftCollections("left",e,t)}function yDt(e,t,r){r!=="auto"&&this.mergedCellsCollection.shiftCollections("down",e,t)}function _Dt(e,t){this.mergedCellsCollection.shiftCollections("up",e,t)}function wDt(e,t){t==="Autofill.fill"&&this.autofillCalculations.recreateAfterDataPopulation(e)}function CDt(e,t){if(t&&t==="area"){let r=this.hot.getSelectedRangeLast(),i=this.mergedCellsCollection.getWithinRange(r);St(i,n=>{r.getBottomEndCorner().row===n.getLastRow()&&r.getBottomEndCorner().col===n.getLastColumn()&&(e[2]=n.row,e[3]=n.col)})}}function xDt(e,t,r,i){if(r)return this.selectionCalculations.getSelectedMergedCellClassName(e,t,r,i)}function SDt(){return this.selectionCalculations.getSelectedMergedCellClassNameToRemove()}function EDt(e,t,r,i){if(!(i instanceof MouseEvent))return;let n=this.hot.getSelectedRangeLast(),o=this.mergedCellsCollection.getByRange(n);if(!o)return;let s=this.hot._createCellCoords(o.row,o.col),a=this.hot._createCellCoords(o.row+o.rowspan-1,o.col+o.colspan-1);return this.hot.selection.getLayerLevel()===0&&n.isEqual(this.hot._createCellRange(s,s,a))}var IMe=ot(qt(),1);function lrt(e,t){return function(r,i){let[,...n]=r,[,...o]=i;return function s(a){let l=e[a],c=t[a],d=n[a],h=o[a],u=c.multiColumnSorting,m=(u.compareFunctionFactory?u.compareFunctionFactory:oS(c.type))(l,c,u)(d,h);if(m===Ea){let g=a+1;if(typeof t[g]<"u")return s(g)}return m}(0)}}function $7(){gr(Gi`Plugins \`columnSorting\` and \`multiColumnSorting\` should not be enabled simultaneously. 
    Only \`multiColumnSorting\` will work.`)}var MMe=ot(_e(),1),crt="sort";function drt(e,t,r){let i=[];return r===!1||e.isColumnSorted(t)&&e.getNumberOfSortedColumns()>1&&i.push(`${crt}-${e.getIndexOfColumnInSortQueue(t)+1}`),i}function hrt(e){let t=e.className.split(" "),r=new RegExp(`^${crt}-[0-9]{1,2}$`);return t.filter(i=>r.test(i))}function RDt(e,t,r){return t=TDt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TDt(e){var t=MDt(e,"string");return typeof t=="symbol"?t:t+""}function MDt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ME="multiColumnSorting",mrt=170,urt="columnSorting",frt=ME;nS(ME,lrt);var AE=class extends M0{constructor(){super(...arguments),RDt(this,"pluginKey",ME)}static get PLUGIN_KEY(){return ME}static get PLUGIN_PRIORITY(){return mrt}isEnabled(){return super.isEnabled()}enablePlugin(){!this.enabled&&this.hot.getSettings()[this.pluginKey]&&this.hot.getSettings()[urt]&&$7(),super.enablePlugin()}disablePlugin(){super.disablePlugin()}registerShortcuts(){super.registerShortcuts(),this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Shift","Enter"]],callback:()=>{let{highlight:t}=this.hot.getSelectedRangeLast();return t.row===-1&&t.col>=0&&this.sort(this.getNextSortConfig(t.col,c_)),!1},runOnlyIf:()=>{var t,r;let i=(t=this.hot.getSelectedRangeLast())===null||t===void 0?void 0:t.highlight;return i&&((r=this.hot.getSelectedRangeLast())===null||r===void 0?void 0:r.isSingle())&&this.hot.selection.isCellVisible(i)&&i.isHeader()},relativeToGroup:Sa,position:"before",group:frt})}unregisterShortcuts(){super.unregisterShortcuts(),this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(frt)}sort(t){super.sort(t)}clearSort(){super.clearSort()}isSorted(){return super.isSorted()}getSortConfig(t){return super.getSortConfig(t)}setSortConfig(t){super.setSortConfig(t)}getNormalizedSortConfigs(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Array.isArray(t)?t:[t]}updateHeaderClasses(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),n=1;n<r;n++)i[n-1]=arguments[n];super.updateHeaderClasses(t,...i),pi(t,hrt(t)),this.enabled!==!1&&re(t,drt(...i))}onUpdateSettings(t){this.hot.getSettings()[this.pluginKey]&&this.hot.getSettings()[urt]&&$7(),super.onUpdateSettings(t)}onAfterOnCellMouseDown(t,r){lS(r.row,r.col,t)!==!1&&this.wasClickableHeaderClicked(t,r.col)&&(this.hot.getShortcutManager().isCtrlPressed()?(this.hot.deselectCell(),this.hot.selectColumns(r.col),this.sort(this.getNextSortConfig(r.col,c_))):this.sort(this.getColumnNextConfig(r.col)))}};var zMe=ot(qt(),1),UMe=ot(_e(),1);function prt(e,t,r){return t=ADt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ADt(e){var t=IDt(e,"string");return typeof t=="symbol"?t:t+""}function IDt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var grt="multipleSelectionHandles",brt=160,IE=class extends vi{constructor(){super(...arguments),prt(this,"dragged",[]),prt(this,"lastSetCell",null)}static get PLUGIN_KEY(){return grt}static get PLUGIN_PRIORITY(){return brt}isEnabled(){return ql()}enablePlugin(){this.enabled||(this.registerListeners(),super.enablePlugin())}registerListeners(){let t=this,{rootElement:r}=this.hot;function i(n){if(t.dragged.length===1)return t.dragged.splice(0,t.dragged.length),!0;let o=t.dragged.indexOf(n);if(o===-1)return!1;o===0?t.dragged=t.dragged.slice(0,1):o===1&&(t.dragged=t.dragged.slice(-1))}this.eventManager.addEventListener(r,"touchstart",n=>{let o;if(Xe(n.target,"topSelectionHandle-HitArea"))return o=t.hot.getSelectedRangeLast(),t.dragged.push("top"),t.touchStartRange={width:o.getWidth(),height:o.getHeight(),direction:o.getDirection()},n.preventDefault(),!1;if(Xe(n.target,"bottomSelectionHandle-HitArea"))return o=t.hot.getSelectedRangeLast(),t.dragged.push("bottom"),t.touchStartRange={width:o.getWidth(),height:o.getHeight(),direction:o.getDirection()},n.preventDefault(),!1}),this.eventManager.addEventListener(r,"touchend",n=>{if(Xe(n.target,"topSelectionHandle-HitArea"))return i.call(t,"top"),t.touchStartRange=void 0,n.preventDefault(),!1;if(Xe(n.target,"bottomSelectionHandle-HitArea"))return i.call(t,"bottom"),t.touchStartRange=void 0,n.preventDefault(),!1}),this.eventManager.addEventListener(r,"touchmove",n=>{let{rootDocument:o}=this.hot,s,a,l,c,d,h;if(t.dragged.length===0)return;let u=o.elementFromPoint(n.touches[0].clientX,n.touches[0].clientY);!u||u===t.lastSetCell||((u.nodeName==="TD"||u.nodeName==="TH")&&(s=t.hot.getCoords(u),s.col===-1&&(s.col=0),a=t.hot.getSelectedRangeLast(),l=a.getWidth(),c=a.getHeight(),d=a.getDirection(),l===1&&c===1&&t.hot.selection.setRangeEnd(s),h=t.getCurrentRangeCoords(a,s,t.touchStartRange.direction,d,t.dragged[0]),h.start!==null&&t.hot.selection.setRangeStart(h.start),t.hot.selection.setRangeEnd(h.end),t.lastSetCell=u),n.preventDefault())})}getCurrentRangeCoords(t,r,i,n,o){let s=t.getTopStartCorner(),a=t.getBottomEndCorner(),l=t.getBottomStartCorner(),c=t.getTopEndCorner(),d={start:null,end:null};switch(i){case"NE-SW":switch(n){case"NE-SW":case"NW-SE":o==="top"?d={start:this.hot._createCellCoords(r.row,t.highlight.col),end:this.hot._createCellCoords(l.row,r.col)}:d={start:this.hot._createCellCoords(t.highlight.row,r.col),end:this.hot._createCellCoords(r.row,s.col)};break;case"SE-NW":o==="bottom"&&(d={start:this.hot._createCellCoords(a.row,r.col),end:this.hot._createCellCoords(r.row,s.col)});break;default:break}break;case"NW-SE":switch(n){case"NE-SW":o==="top"?d={start:r,end:l}:d.end=r;break;case"NW-SE":o==="top"?d={start:r,end:a}:d.end=r;break;case"SE-NW":o==="top"?d={start:r,end:s}:d.end=r;break;case"SW-NE":o==="top"?d={start:r,end:c}:d.end=r;break;default:break}break;case"SW-NE":switch(n){case"NW-SE":o==="bottom"?d={start:this.hot._createCellCoords(r.row,s.col),end:this.hot._createCellCoords(l.row,r.col)}:d={start:this.hot._createCellCoords(s.row,r.col),end:this.hot._createCellCoords(r.row,a.col)};break;case"SW-NE":o==="top"?d={start:this.hot._createCellCoords(t.highlight.row,r.col),end:this.hot._createCellCoords(r.row,a.col)}:d={start:this.hot._createCellCoords(r.row,s.col),end:this.hot._createCellCoords(s.row,r.col)};break;case"SE-NW":o==="bottom"?d={start:this.hot._createCellCoords(r.row,c.col),end:this.hot._createCellCoords(s.row,r.col)}:o==="top"&&(d={start:l,end:r});break;default:break}break;case"SE-NW":switch(n){case"NW-SE":case"NE-SW":case"SW-NE":o==="top"&&(d.end=r);break;case"SE-NW":o==="top"?d.end=r:d={start:r,end:s};break;default:break}break;default:break}return d}isDragged(){return this.dragged.length>0}};var yIe=ot(qt(),1),_Ie=ot(_e(),1);var sIe=ot(qt(),1),aIe=ot(_e(),1);var rAe=ot(qt(),1),nAe=ot(_e(),1);var ZMe=ot(_e(),1);function kE(){let{label:e="",colspan:t=1,origColspan:r=1,collapsible:i=!1,crossHiddenColumns:n=[],isCollapsed:o=!1,isHidden:s=!1,isRoot:a=!1,isPlaceholder:l=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{label:e,colspan:t,origColspan:r,collapsible:i,isCollapsed:o,crossHiddenColumns:n,isHidden:s,isRoot:a,isPlaceholder:l}}function Gk(){return{label:"",isPlaceholder:!0}}function vrt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,r=[];if(t===0)return r;St(e,n=>{let o=[],s=0;r.push(o),St(n,a=>{let l=kE();if(gi(a)){let{label:d,colspan:h}=a;l.label=on(d),typeof h=="number"&&h>1&&(l.colspan=h,l.origColspan=h)}else l.label=on(a);s+=l.origColspan;let c=!1;if(s>=t&&(l.colspan=l.origColspan-(s-t),l.origColspan=l.colspan,c=!0),o.push(l),l.colspan>1)for(let d=0;d<l.colspan-1;d++)o.push(Gk());return!c})});let i=Math.max(...Ci(r,n=>n.length));return St(r,n=>{if(n.length<i){let o=Ci(new Array(i-n.length),()=>kE());n.splice(n.length,0,...o)}}),r}function q7(e,t,r){kDt(e,t),t.set(e,r)}function kDt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Gd(e,t){return e.get(_rt(e,t))}function DE(e,t,r){return e.set(_rt(e,t),r),r}function _rt(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var yrt=["label","collapsible"],Ff=new WeakMap,nb=new WeakMap,G7=new WeakMap,Kk=class{constructor(){q7(this,Ff,[]),q7(this,nb,0),q7(this,G7,1/0)}setColumnsLimit(t){DE(G7,this,t)}setData(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];DE(Ff,this,vrt(t,Gd(G7,this))),DE(nb,this,Gd(Ff,this).length)}getData(){return Gd(Ff,this)}mergeWith(t){St(t,r=>{let a=r,{row:i,col:n}=a,o=Fn(a,["row","col"]),s=this.getHeaderSettings(i,n);s!==null&&zr(s,o,yrt)})}map(t){St(Gd(Ff,this),r=>{St(r,i=>{let n=t(jt({},i));gi(n)&&zr(i,n,yrt)})})}getHeaderSettings(t,r){var i;if(t>=Gd(nb,this)||t<0)return null;let n=Gd(Ff,this)[t];return Array.isArray(n)===!1||r>=n.length?null:(i=n[r])!==null&&i!==void 0?i:null}getHeadersSettings(t,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,n=[];if(t>=Gd(nb,this)||t<0)return n;let o=Gd(Ff,this)[t],s=0;for(let a=r;a<o.length;a++){let l=o[a];if(l.isPlaceholder)throw new Error("The first column settings cannot overlap the other header layers");if(s+=l.colspan,n.push(l),l.colspan>1&&(a+=l.colspan-1),s===i)break;if(s>i)throw new Error("The last column settings cannot overlap the other header layers")}return n}getLayersCount(){return Gd(nb,this)}getColumnsCount(){return Gd(nb,this)>0?Gd(Ff,this)[0].length:0}clear(){DE(Ff,this,[]),DE(nb,this,0)}};var mAe=ot(qt(),1);var dAe=ot(qt(),1),hAe=ot(_e(),1);function K7(e,t,r){return t=DDt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DDt(e){var t=ODt(e,"string");return typeof t=="symbol"?t:t+""}function ODt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var X7="DF-pre-order";function Crt(e,t){let r=e.call(t,this);for(let i=0;i<this.childs.length;i++){if(r===!1)return!1;r=Crt.call(this.childs[i],e,t)}return r}var PDt="DF-post-order";function xrt(e,t){for(let r=0;r<this.childs.length;r++)if(xrt.call(this.childs[r],e,t)===!1)return!1;return e.call(t,this)}var Srt="BF";function NDt(e,t){let r=[this];function i(){if(r.length===0)return;let n=r.shift();r.push(...n.childs),e.call(t,n)!==!1&&i()}i()}var LDt=Srt,wrt=new Map([[X7,Crt],[PDt,xrt],[Srt,NDt]]),OE=class e{constructor(t){K7(this,"data",{}),K7(this,"parent",null),K7(this,"childs",[]),this.data=t}addChild(t){t.parent=this,this.childs.push(t)}cloneTree(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this,r=new e(jt({},t.data));for(let i=0;i<t.childs.length;i++)r.addChild(this.cloneTree(t.childs[i]));return r}replaceTreeWith(t){this.data=jt({},t.data),this.childs=[];for(let r=0;r<t.childs.length;r++)this.addChild(t.childs[r])}walkDown(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:LDt;if(!wrt.has(r))throw new Error(`Traversal strategy "${r}" does not exist`);wrt.get(r).call(this,t,this)}walkUp(t){let r=this,i=n=>{t.call(r,n)!==!1&&n.parent!==null&&i(n.parent)};i(this)}};function Z7(e,t,r){FDt(e,t),t.set(e,r)}function FDt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ja(e,t){return e.get(Ert(e,t))}function HDt(e,t,r){return e.set(Ert(e,t),r),r}function Ert(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var G_=new WeakMap,ob=new WeakMap,K_=new WeakMap,Xk=class{constructor(t){Z7(this,G_,new Map),Z7(this,ob,new Map),Z7(this,K_,null),HDt(K_,this,t)}getRoots(){return Array.from(Ja(G_,this).values())}getRootByColumn(t){let r;return Ja(ob,this).has(t)&&(r=Ja(G_,this).get(Ja(ob,this).get(t))),r}getNode(t,r){let i=this.getRootByColumn(r);if(!i)return;let n=r-Ja(ob,this).get(r),o=0,s;return i.walkDown(a=>{let{data:{origColspan:l,headerLevel:c}}=a;if(t===c){if(n>=o&&n<=o+l-1)return s=a,s.data.isRoot=r===s.data.columnIndex,!1;o+=l}}),s}rebuildTreeIndex(){let t=0;Ja(ob,this).clear(),St(Ja(G_,this),r=>{let[,{data:{colspan:i}}]=r;for(let n=t;n<t+i;n++)Ja(ob,this).set(n,t);t+=i})}buildTree(){this.clear();let t=Ja(K_,this).getColumnsCount(),r=0;for(;r<t;){let i=Ja(K_,this).getHeaderSettings(0,r),n=new OE;Ja(G_,this).set(r,n),this.buildLeaves(n,r,0,i.origColspan),r+=i.origColspan}this.rebuildTreeIndex()}buildLeaves(t,r,i){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,o=Ja(K_,this).getHeadersSettings(i,r,n);i+=1,St(o,s=>{let a=Ue(jt({},s),{headerLevel:i-1,columnIndex:r}),l;i===1?(t.data=a,l=t):(l=new OE(a),t.addChild(l)),i<Ja(K_,this).getLayersCount()&&this.buildLeaves(l,r,i,s.origColspan),r+=s.origColspan})}clear(){Ja(G_,this).clear(),Ja(ob,this).clear()}};var KAe=ot(qt(),1);var kAe=ot(yn(),1),DAe=ot(_n(),1),OAe=ot(wn(),1),PAe=ot(Cn(),1),NAe=ot(xn(),1),LAe=ot(Sn(),1),FAe=ot(En(),1);var _Ae=ot(yn(),1),wAe=ot(_n(),1),CAe=ot(wn(),1),xAe=ot(Cn(),1),SAe=ot(xn(),1),EAe=ot(Sn(),1),RAe=ot(En(),1);function Zk(e,t){e.walkDown(r=>{let{data:i,childs:n}=r;if(!i.isHidden&&(t(i.columnIndex),n.length===0))for(let o=1;o<i.colspan;o++)t(i.columnIndex+o)})}function X_(e,t){let{childs:r}=e;if(r.length!==0)return r[0].data[t]}function Z_(e){return X_(e,"origColspan")===e.data.origColspan}function PE(e){let{data:t,childs:r}=e;if(!t.isCollapsed||t.isHidden||t.origColspan<=1)return{rollbackModification:()=>{},affectedColumns:[],colspanCompensation:0};if(Z_(e))return PE(r[0]);t.isCollapsed=!1;let n=r.slice(1),o=new Set,s=0;if(n.length>0)St(n,a=>{a.replaceTreeWith(a.data.clonedTree),a.data.clonedTree=null;let l=a.data;s+=l.colspan,Zk(a,c=>{o.add(c)})});else{let{colspan:a,origColspan:l,columnIndex:c}=t;s=l-a;for(let d=1;d<l;d++)o.add(c+d)}return e.walkUp(a=>{let{data:l}=a;l.colspan+=s,l.colspan>=l.origColspan?(l.colspan=l.origColspan,l.isCollapsed=!1):Z_(a)&&(l.isCollapsed=X_(a,"isCollapsed"))}),{rollbackModification:()=>NE(e),affectedColumns:Array.from(o),colspanCompensation:s}}function NE(e){var t;let{data:r,childs:i}=e;if(r.isCollapsed||r.isHidden||r.origColspan<=1)return{rollbackModification:()=>{},affectedColumns:[],colspanCompensation:0};if(Z_(e))return NE(i[0]);r.isCollapsed=!0;let o=i.slice(1),s=new Set;if(o.length>0)St(o,l=>{Zk(l,c=>{s.add(c)}),l.data.clonedTree=l.cloneTree(),l.walkDown(c=>{let{data:d}=c;d.isHidden=!0})});else{let{origColspan:l,columnIndex:c}=r;for(let d=1;d<l;d++){let h=c+d;s.add(h)}}let a=r.colspan-((t=X_(e,"colspan"))!==null&&t!==void 0?t:1);return e.walkUp(l=>{let{data:c}=l;c.colspan-=a,c.colspan<=1?(c.colspan=1,c.isCollapsed=!0):Z_(l)&&(c.isCollapsed=X_(l,"isCollapsed"))}),{rollbackModification:()=>PE(e),affectedColumns:Array.from(s),colspanCompensation:a}}var zAe=ot(qt(),1),UAe=ot(_e(),1);function Rrt(e,t){if(!Number.isInteger(t))throw new Error("The passed gridColumnIndex argument has invalid type.");if(e.childs.length>0)throw new Error(Gi`The passed node is not the last node on the tree. Only for\x20
the last node, the hide column modification can be applied.`);let{crossHiddenColumns:r}=e.data;if(r.includes(t))return;let i=!1;e.walkUp(n=>{let{data:{collapsible:o}}=n;if(o)return i=!0,!1}),!i&&e.walkUp(n=>{let{data:o}=n;o.crossHiddenColumns.push(t),o.colspan>1?o.colspan-=1:o.isHidden=!0})}var $Ae=ot(qt(),1);function Trt(e,t){if(!Number.isInteger(t))throw new Error("The passed gridColumnIndex argument has invalid type.");if(e.childs.length>0)throw new Error(Gi`The passed node is not the last node on the tree. Only for\x20
the last node, the show column modification can be applied.`);let{crossHiddenColumns:r}=e.data;if(!r.includes(t))return;let i=!1;e.walkUp(n=>{let{data:{collapsible:o}}=n;if(o)return i=!0,!1}),!i&&e.walkUp(n=>{let{data:o}=n;o.crossHiddenColumns.splice(o.crossHiddenColumns.indexOf(t),1),!o.isHidden&&o.colspan<o.origColspan&&(o.colspan+=1),o.isHidden=!1})}var Mrt=new Map([["collapse",NE],["expand",PE],["hide-column",Rrt],["show-column",Trt]]);function Art(e,t,r){if(!Mrt.has(e))throw new Error(`The node modifier action ("${e}") does not exist.`);return Mrt.get(e)(t,r)}var eIe=ot(_e(),1);function LE(e){let t=[];return St(e,r=>{r.walkDown(i=>{let n=i.data,{origColspan:o,columnIndex:s,headerLevel:a,crossHiddenColumns:l}=n,c=jDt(t,a),d=!1;for(let h=s;h<s+o;h++)if(l.includes(h)||d)c.push(Gk(n));else{let f=BDt(n);f.isRoot=!0,c.push(f),d=!0}})}),t}function BDt(e){let i=kE(e),{crossHiddenColumns:t}=i;return Fn(i,["crossHiddenColumns"])}function jDt(e,t){let r;return Array.isArray(e[t])?r=e[t]:(r=[],e[t]=r),r}function Q7(e,t,r){VDt(e,t),t.set(e,r)}function VDt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function FE(e,t,r){return e.set(Irt(e,t),r),r}function ko(e,t){return e.get(Irt(e,t))}function Irt(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var vu=new WeakMap,Il=new WeakMap,sb=new WeakMap,Qk=class{constructor(){Q7(this,vu,new Kk),Q7(this,Il,new Xk(ko(vu,this))),Q7(this,sb,[[]])}setState(t){ko(vu,this).setData(t);let r=!1;try{ko(Il,this).buildTree()}catch{ko(Il,this).clear(),ko(vu,this).clear(),r=!0}return FE(sb,this,LE(ko(Il,this).getRoots())),r}setColumnsLimit(t){ko(vu,this).setColumnsLimit(t)}mergeStateWith(t){let r=Ci(t,i=>{let s=i,{row:n}=s,o=Fn(s,["row"]);return jt({row:n<0?this.rowCoordsToLevel(n):n},o)});ko(vu,this).mergeWith(r),ko(Il,this).buildTree(),FE(sb,this,LE(ko(Il,this).getRoots()))}mapState(t){ko(vu,this).map(t),ko(Il,this).buildTree(),FE(sb,this,LE(ko(Il,this).getRoots()))}mapNodes(t){return cn(ko(Il,this).getRoots(),(r,i)=>(i.walkDown(n=>{let o=t(n.data);o!==void 0&&r.push(o)}),r),[])}triggerNodeModification(t,r,i){r<0&&(r=this.rowCoordsToLevel(r));let n=ko(Il,this).getNode(r,i),o;return n&&(o=Art(t,n,i),FE(sb,this,LE(ko(Il,this).getRoots()))),o}triggerColumnModification(t,r){return this.triggerNodeModification(t,-1,r)}rowCoordsToLevel(t){if(t>=0)return null;let r=t+Math.max(this.getLayersCount(),1);return r<0?null:r}levelToRowCoords(t){if(t<0)return null;let r=t-Math.max(this.getLayersCount(),1);return r>=0?null:r}getHeaderSettings(t,r){var i,n;return t<0&&(t=this.rowCoordsToLevel(t)),t===null||t>=this.getLayersCount()?null:(i=(n=ko(sb,this)[t])===null||n===void 0?void 0:n[r])!==null&&i!==void 0?i:null}getHeaderTreeNodeData(t,r){let i=this.getHeaderTreeNode(t,r);return i?jt({},i.data):null}getHeaderTreeNode(t,r){if(t<0&&(t=this.rowCoordsToLevel(t)),t===null||t>=this.getLayersCount())return null;let i=ko(Il,this).getNode(t,r);return i||null}findTopMostEntireHeaderLevel(t){var r;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,n=i-t+1,o=!1,s=null;for(let a=t;a<=i;a++){let l=ko(Il,this).getRootByColumn(a);if(!l)break;o=!0,l.walkDown(c=>{let{columnIndex:d,headerLevel:h,origColspan:u,isHidden:f}=c.data;f||u<=n&&d>=t&&d+u-1<=i&&(s===null||h<s)&&(s=h)},X7)}return o&&s===null?-1:this.levelToRowCoords((r=s)!==null&&r!==void 0?r:0)}findLeftMostColumnIndex(t,r){var i;let{isRoot:n}=(i=this.getHeaderSettings(t,r))!==null&&i!==void 0?i:{isRoot:!0};if(n)return r;let o=r-1;for(;o>=0;){var s;let{isRoot:a}=(s=this.getHeaderSettings(t,o))!==null&&s!==void 0?s:{isRoot:!0};if(a)break;o-=1}return o}findRightMostColumnIndex(t,r){var i;let{isRoot:n,origColspan:o}=(i=this.getHeaderSettings(t,r))!==null&&i!==void 0?i:{isRoot:!0,origColspan:1};if(n)return r+o-1;let s=r+1;for(;s<this.getColumnsCount();){var a;let{isRoot:l}=(a=this.getHeaderSettings(t,s))!==null&&a!==void 0?a:{isRoot:!0};if(l)break;s+=1}return s-1}getLayersCount(){return ko(vu,this).getLayersCount()}getColumnsCount(){return ko(vu,this).getColumnsCount()}clear(){FE(sb,this,[]),ko(vu,this).clear(),ko(Il,this).clear()}};var gIe=ot(qt(),1);function HE(e,t,r){return t=zDt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zDt(e){var t=UDt(e,"string");return typeof t=="symbol"?t:t+""}function UDt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var J7=class{constructor(t,r){HE(this,"hot",void 0),HE(this,"nestedHeaderSettingsGetter",void 0),HE(this,"layersCount",0),HE(this,"container",void 0),HE(this,"widthsMap",void 0),this.hot=t,this.nestedHeaderSettingsGetter=r,this.widthsMap=this.hot.columnIndexMapper.createAndRegisterIndexMap("nestedHeaders.widthsMap","physicalIndexToValue")}setLayersCount(t){return this.layersCount=t,this}getWidth(t){return this.widthsMap.getValueAtIndex(this.hot.toPhysicalColumn(t))}buildWidthsMap(){this.container=this.hot.rootDocument.createElement("div"),this.container.classList.add("handsontable","htGhostTable","htAutoSize"),this._buildGhostTable(this.container),this.hot.rootDocument.body.appendChild(this.container);let t=this.container.querySelectorAll("tr:last-of-type th"),r=t.length;this.widthsMap.clear();for(let i=0;i<r;i++){let n=this.hot.columnIndexMapper.getVisualFromRenderableIndex(i),o=this.hot.toPhysicalColumn(n);this.widthsMap.setValueAtIndex(o,t[i].offsetWidth)}this.container.parentNode.removeChild(this.container),this.container=null}_buildGhostTable(t){let{rootDocument:r,columnIndexMapper:i}=this.hot,n=r.createDocumentFragment(),o=r.createElement("table"),s=!!this.hot.getSettings().dropdownMenu,a=i.getRenderableIndexesLength();for(let l=0;l<this.layersCount;l++){let c=r.createElement("tr");for(let d=0;d<a;d++){let h=i.getVisualFromRenderableIndex(d);h===null&&(h=d);let u=r.createElement("th"),f=this.nestedHeaderSettingsGetter(l,h);if(f&&(!f.isPlaceholder||f.isHidden)){let m=f.label;s&&(m+='<button class="changeType"></button>'),Oc(u,m),u.colSpan=f.colspan,c.appendChild(u)}}o.appendChild(c)}n.appendChild(o),t.appendChild(n)}clear(){this.widthsMap.clear(),this.container=null}},krt=J7;function WDt(e,t){Ort(e,t),t.add(e)}function Drt(e,t,r){return t=YDt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YDt(e){var t=$Dt(e,"string");return typeof t=="symbol"?t:t+""}function $Dt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jk(e,t,r){Ort(e,t),t.set(e,r)}function Ort(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ab(e,t,r){return e.set(Do(e,t),r),r}function Gr(e,t){return e.get(Do(e,t))}function Do(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var t9="nestedHeaders",Prt=280,On=new WeakMap,Up=new WeakMap,BE=new WeakMap,eD=new WeakMap,Wo=new WeakSet,jE=class extends vi{constructor(){super(...arguments),WDt(this,Wo),Jk(this,On,new Qk),Jk(this,Up,null),Jk(this,BE,null),Jk(this,eD,!1),Drt(this,"ghostTable",new krt(this.hot,(t,r)=>this.getHeaderSettings(t,r))),Drt(this,"detectedOverlappedHeaders",!1)}static get PLUGIN_KEY(){return t9}static get PLUGIN_PRIORITY(){return Prt}isEnabled(){return!!this.hot.getSettings()[t9]}enablePlugin(){var t=this;if(this.enabled)return;let{nestedHeaders:r}=this.hot.getSettings();(!Array.isArray(r)||!Array.isArray(r[0]))&&gr(Gi`Your Nested Headers plugin configuration is invalid. The settings has to be\x20
                        passed as an array of arrays e.q. [['A1', { label: 'A2', colspan: 2 }]]`),this.addHook("init",()=>Do(Wo,this,lOt).call(this)),this.addHook("afterLoadData",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return Do(Wo,t,cOt).call(t,...n)}),this.addHook("beforeOnCellMouseDown",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return Do(Wo,t,XDt).call(t,...n)}),this.addHook("afterOnCellMouseDown",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return Do(Wo,t,ZDt).call(t,...n)}),this.addHook("beforeOnCellMouseOver",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return Do(Wo,t,QDt).call(t,...n)}),this.addHook("beforeOnCellMouseUp",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return Do(Wo,t,JDt).call(t,...n)}),this.addHook("beforeSelectionHighlightSet",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return Do(Wo,t,tOt).call(t,...n)}),this.addHook("modifyTransformStart",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return Do(Wo,t,eOt).call(t,...n)}),this.addHook("afterSelection",()=>Do(Wo,this,tD).call(this)),this.addHook("afterSelectionFocusSet",()=>Do(Wo,this,tD).call(this)),this.addHook("beforeViewportScrollHorizontally",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return Do(Wo,t,qDt).call(t,...n)}),this.addHook("afterGetColumnHeaderRenderers",i=>Do(Wo,this,rOt).call(this,i)),this.addHook("modifyColWidth",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return Do(Wo,t,oOt).call(t,...n)}),this.addHook("modifyColumnHeaderValue",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return Do(Wo,t,sOt).call(t,...n)}),this.addHook("beforeHighlightingColumnHeader",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return Do(Wo,t,GDt).call(t,...n)}),this.addHook("beforeCopy",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return Do(Wo,t,KDt).call(t,...n)}),this.addHook("beforeSelectColumns",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return Do(Wo,t,iOt).call(t,...n)}),this.addHook("afterViewportColumnCalculatorOverride",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return Do(Wo,t,nOt).call(t,...n)}),this.addHook("modifyFocusedElement",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return Do(Wo,t,aOt).call(t,...n)}),this.hot.columnIndexMapper.addLocalHook("cacheUpdated",()=>Do(Wo,this,tD).call(this)),this.hot.rowIndexMapper.addLocalHook("cacheUpdated",()=>Do(Wo,this,tD).call(this)),super.enablePlugin(),this.updatePlugin()}updatePlugin(){if(!this.hot.view)return;let{nestedHeaders:t}=this.hot.getSettings();Gr(On,this).setColumnsLimit(this.hot.countCols()),Array.isArray(t)&&(this.detectedOverlappedHeaders=Gr(On,this).setState(t)),this.detectedOverlappedHeaders&&gr(Gi`Your Nested Headers plugin setup contains overlapping headers. This kind of configuration\x20
                        is currently not supported.`),this.enabled&&this.hot.columnIndexMapper.hidingMapsCollection.getMergedValues().forEach((r,i)=>{let n=r===!0?"hide-column":"show-column";Gr(On,this).triggerColumnModification(n,i)}),!Gr(Up,this)&&this.enabled&&ab(Up,this,this.hot.columnIndexMapper.createChangesObserver("hiding").subscribe(r=>{r.forEach(i=>{let{op:n,index:o,newValue:s}=i;if(n==="replace"){let a=s===!0?"hide-column":"show-column";Gr(On,this).triggerColumnModification(a,o)}}),this.ghostTable.buildWidthsMap()})),this.ghostTable.setLayersCount(this.getLayersCount()).buildWidthsMap(),super.updatePlugin()}disablePlugin(){this.clearColspans(),Gr(On,this).clear(),Gr(Up,this).unsubscribe(),ab(Up,this,null),this.ghostTable.clear(),super.disablePlugin()}getStateManager(){return Gr(On,this)}getLayersCount(){return Gr(On,this).getLayersCount()}getHeaderSettings(t,r){return Gr(On,this).getHeaderSettings(t,r)}clearColspans(){if(!this.hot.view)return;let{_wt:t}=this.hot.view,r=t.getSetting("columnHeaders").length,i=t.wtTable.THEAD,n=t.wtOverlays.topOverlay.clone.wtTable.THEAD,o=t.wtOverlays.topInlineStartCornerOverlay?t.wtOverlays.topInlineStartCornerOverlay.clone.wtTable.THEAD:null;for(let s=0;s<r;s++){let a=i.childNodes[s];if(!a)break;let l=n.childNodes[s],c=o?o.childNodes[s]:null;for(let d=0,h=a.childNodes.length;d<h;d++)a.childNodes[d].removeAttribute("colspan"),pi(a.childNodes[d],"hiddenHeader"),l&&l.childNodes[d]&&(l.childNodes[d].removeAttribute("colspan"),pi(l.childNodes[d],"hiddenHeader")),o&&c&&c.childNodes[d]&&(c.childNodes[d].removeAttribute("colspan"),pi(c.childNodes[d],"hiddenHeader"))}}headerRendererFactory(t){var r=this;let i=this.hot.view._wt.getSetting("fixedColumnsStart");return(n,o)=>{var s;let{columnIndexMapper:a,view:l}=this.hot,c=a.getVisualFromRenderableIndex(n);c===null&&(c=n),o.removeAttribute("colspan"),pi(o,"hiddenHeader");let{colspan:d,isHidden:h,isPlaceholder:u}=(s=Gr(On,this).getHeaderSettings(t,c))!==null&&s!==void 0?s:{label:""};if(u||h)re(o,"hiddenHeader");else if(d>1){var f,m;let{wtOverlays:g}=l._wt,p=(f=g.topInlineStartCornerOverlay)===null||f===void 0?void 0:f.clone.wtTable.THEAD.contains(o),b=(m=g.inlineStartOverlay)===null||m===void 0?void 0:m.clone.wtTable.THEAD.contains(o),_=p||b?Math.min(d,i-n):d;_>1&&o.setAttribute("colspan",_)}this.hot.view.appendColHeader(c,o,function(){return r.getColumnHeaderValue(...arguments)},t)}}getColumnHeaderValue(t,r){var i;let{isHidden:n,isPlaceholder:o}=(i=Gr(On,this).getHeaderSettings(r,t))!==null&&i!==void 0?i:{};return o||n?"":this.hot.getColHeader(t,r)}destroy(){ab(On,this,null),Gr(Up,this)!==null&&(Gr(Up,this).unsubscribe(),ab(Up,this,null)),super.destroy()}_getHeaderTreeNodeDataByCoords(t){if(!(t.row>=0||t.col<0))return Gr(On,this).getHeaderTreeNodeData(t.row,t.col)}};function tD(){var e;let t=(e=this.hot)===null||e===void 0?void 0:e.getSelectedRangeLast();if(!t)return;let{highlight:r}=t;if(r.isHeader()&&r.col>=0){let n=Gr(On,this).findLeftMostColumnIndex(r.row,r.col),o=this.hot.selection.highlight.getFocus();o.visualCellRange.highlight.col=n,o.visualCellRange.from.col=n,o.visualCellRange.to.col=n,o.commit()}}function qDt(e){let t=this.hot.getSelectedRangeLast();if(!t)return e;let{highlight:r}=t;if(!(r.isHeader()&&r.col>=0))return e;let n=this.hot.view.getFirstFullyVisibleColumn(),o=this.hot.view.getLastFullyVisibleColumn(),s=Gr(On,this).findLeftMostColumnIndex(r.row,r.col),a=Gr(On,this).findRightMostColumnIndex(r.row,r.col);return s<n&&a>o?e:s<n?s:a}function GDt(e,t,r){let i=Gr(On,this).getHeaderTreeNodeData(t,e);if(!i)return e;let{columnCursor:n,selectionType:o,selectionWidth:s}=r,{isRoot:a,colspan:l}=Gr(On,this).getHeaderSettings(t,e);if(o===op){if(!a)return i.columnIndex}else if(o===Cy&&(l>s-n||!a))return null;return e}function KDt(e,t,r){let{columnHeadersCount:i}=r;if(i!==0)for(let o=0;o<t.length;o++){let{startRow:s,startCol:a,endRow:l,endCol:c}=t[o],d=l-s+1,h=a-c+1;if(s>=0||h===1)break;for(let u=a;u<=c;u++)for(let f=s;f<=l;f++){var n;let m=d+f,g=u-a;if(g===0)continue;((n=Gr(On,this).getHeaderTreeNodeData(f,u))===null||n===void 0?void 0:n.isRoot)===!1&&(e[m][g]="")}}}function XDt(e,t,r,i){this._getHeaderTreeNodeDataByCoords(t)&&(i.column=!0)}function ZDt(e,t){let r=this._getHeaderTreeNodeDataByCoords(t);if(!r)return;ab(BE,this,t.clone()),ab(eD,this,!0);let{selection:i}=this.hot,n=i.isSelected()?i.getSelectedRange().current():null,o=[],{columnIndex:s,origColspan:a}=r,l=!i.inInSelection(t);e.shiftKey&&n?t.col<n.from.col?o.push(n.getTopEndCorner().col,s,t.row):t.col>n.from.col?o.push(n.getTopStartCorner().col,s+a-1,t.row):o.push(s,s+a-1,t.row):(dy(e)||Gl(e)&&l)&&o.push(s,s+a-1,t.row),i.selectColumns(...o)}function QDt(e,t,r,i){if(!this.hot.view.isMouseDown())return;let n=this._getHeaderTreeNodeDataByCoords(t);if(!n)return;let{columnIndex:o,origColspan:s}=n,a=this.hot.getSelectedRangeLast(),l=a.getTopStartCorner(),c=a.getBottomEndCorner(),{from:d}=a;i.column=!0,i.cell=!0;let h=[],u=qr(t.row,-1/0,-1);t.col<d.col?h.push(c.col,o,u):t.col>d.col?h.push(l.col,o+s-1,u):h.push(o,o+s-1,u),this.hot.selection.selectColumns(...h)}function JDt(){ab(eD,this,!1)}function tOt(){let{navigableHeaders:e}=this.hot.getSettings();if(!this.hot.view.isMouseDown()||!Gr(eD,this)||!e)return;let t=this.hot.getSelectedRangeLast(),r=t.getTopStartCorner().col,i=t.getBottomEndCorner().col,{columnIndex:n,origColspan:o}=Gr(On,this).getHeaderTreeNodeData(Gr(BE,this).row,Gr(BE,this).col);if(t.setHighlight(Gr(BE,this)),o>t.getWidth()||n<r||n+o-1>i){let s=Gr(On,this).findTopMostEntireHeaderLevel(qr(r,n,n+o-1),qr(i,n,n+o-1));t.highlight.row=s,t.highlight.col=t.from.col}}function eOt(e){let{highlight:t}=this.hot.getSelectedRangeLast(),r=this.hot._createCellCoords(t.row+e.row,t.col+e.col);if(!(r.isHeader()&&r.col>=0))return;let n=Gr(On,this).findLeftMostColumnIndex(r.row,r.col),o=Gr(On,this).findRightMostColumnIndex(r.row,r.col);if(e.col<0){let s=t.col>=n&&t.col<=o?n-1:o,a=this.hot.columnIndexMapper.getNearestNotHiddenIndex(s,-1);a===null?e.col=-this.hot.view.countRenderableColumnsInRange(0,t.col):e.col=-Math.max(this.hot.view.countRenderableColumnsInRange(a,t.col)-1,1)}else if(e.col>0){let s=t.col>=n&&t.col<=o?o+1:n,a=this.hot.columnIndexMapper.getNearestNotHiddenIndex(s,1);a===null?e.col=this.hot.view.countRenderableColumnsInRange(t.col,this.hot.countCols()):e.col=Math.max(this.hot.view.countRenderableColumnsInRange(t.col,a)-1,1)}}function iOt(e,t){let r=e.row,i=this._getHeaderTreeNodeDataByCoords({row:r,col:e.col}),n=this._getHeaderTreeNodeDataByCoords({row:r,col:t.col});t.col<e.col?(i&&(e.col=i.columnIndex+i.origColspan-1),n&&(t.col=n.columnIndex)):t.col>=e.col&&(i&&(e.col=i.columnIndex),n&&(t.col=n.columnIndex+n.origColspan-1))}function rOt(e){e.length=0;for(let t=0;t<Gr(On,this).getLayersCount();t++)e.push(this.headerRendererFactory(t))}function nOt(e){let t=Gr(On,this).getLayersCount(),r=e.startColumn,i=!!t;for(let n=0;n<t;n++){let o=Gr(On,this).findLeftMostColumnIndex(n,e.startColumn),s=this.hot.columnIndexMapper.getRenderableFromVisualIndex(o);if(o>=0&&(i=!1),Jo(s)&&s<e.startColumn){r=s;break}}e.startColumn=i?Gr(On,this).getHeaderTreeNodeData(0,r).columnIndex:r}function oOt(e,t){let r=this.ghostTable.getWidth(t);return e>r?e:r}function sOt(e,t,r){var i;let{label:n}=(i=Gr(On,this).getHeaderTreeNodeData(r,t))!==null&&i!==void 0?i:{label:""};return n}function aOt(e,t){if(e<0)return this.hot.getCell(e,Gr(On,this).findLeftMostColumnIndex(e,t),!0)}function lOt(){this.updatePlugin()}function cOt(e,t){t||this.updatePlugin()}var uke=ot(qt(),1),fke=ot(_e(),1),mke=ot(yn(),1),pke=ot(_n(),1),gke=ot(wn(),1),bke=ot(Cn(),1),vke=ot(xn(),1),yke=ot(Sn(),1),_ke=ot(En(),1);var OIe=ot(qt(),1),PIe=ot(_e(),1);function VE(e,t,r){return t=dOt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dOt(e){var t=hOt(e,"string");return typeof t=="symbol"?t:t+""}function hOt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var e9=class{constructor(t,r){VE(this,"hot",void 0),VE(this,"data",null),VE(this,"plugin",void 0),VE(this,"parentReference",new WeakMap),VE(this,"cache",{levels:[],levelCount:0,rows:[],nodeInfo:new WeakMap}),this.hot=r,this.plugin=t}setData(t){this.data=t}getData(){return this.data}getRawSourceData(){let t=null;return this.plugin.disableCoreAPIModifiers(),t=this.hot.getSourceData(),this.plugin.enableCoreAPIModifiers(),t}updateWithData(t){this.setData(t),this.rewriteCache()}rewriteCache(){this.cache={levels:[],levelCount:0,rows:[],nodeInfo:new WeakMap},Oe(0,this.data.length-1,t=>{this.cacheNode(this.data[t],0,null)})}cacheNode(t,r,i){this.cache.levels[r]||(this.cache.levels[r]=[],this.cache.levelCount+=1),this.cache.levels[r].push(t),this.cache.rows.push(t),this.cache.nodeInfo.set(t,{parent:i,row:this.cache.rows.length-1,level:r}),this.hasChildren(t)&&St(t.__children,n=>{this.cacheNode(n,r+1,t)})}getDataObject(t){return t==null?null:this.cache.rows[t]}readTreeNodes(t,r,i,n){let o=!1,s=r;if(isNaN(s)&&s.end)return s;let a=t;return a||(a={__children:this.data},o=!0,s-=1),i!=null&&s===i?{result:a,end:!0}:n!=null&&a===n?{result:s,end:!0}:(s+=1,a.__children&&St(a.__children,l=>{if(this.parentReference.set(l,o?null:a),s=this.readTreeNodes(l,s,i,n),isNaN(s)&&s.end)return!1}),s)}mockParent(){let t=this.mockNode();return t.__children=this.data,t}mockNode(){let t={};return bi(this.data[0],(r,i)=>{t[i]=null}),t}getRowIndex(t){return t==null?null:this.cache.nodeInfo.get(t).row}getRowIndexWithinParent(t){let r=null;isNaN(t)?r=t:r=this.getDataObject(t);let i=this.getRowParent(t);return i==null?this.data.indexOf(r):i.__children.indexOf(r)}countAllRows(){let t={__children:this.data};return this.countChildren(t)}countChildren(t){let r=0,i=t;return isNaN(i)||(i=this.getDataObject(i)),!i||!i.__children?0:(St(i.__children,n=>{r+=1,n.__children&&(r+=this.countChildren(n))}),r)}getRowParent(t){let r;return isNaN(t)?r=t:r=this.getDataObject(t),this.getRowObjectParent(r)}getRowObjectParent(t){return!t||typeof t!="object"?null:this.cache.nodeInfo.get(t).parent}getRowLevel(t){let r=null;return isNaN(t)?r=t:r=this.getDataObject(t),r?this.getRowObjectLevel(r):null}getRowObjectLevel(t){return t==null?null:this.cache.nodeInfo.get(t).level}hasChildren(t){let r=t;return isNaN(r)||(r=this.getDataObject(r)),!!(r.__children&&r.__children.length)}isChild(t){return this.getRowParent(t)!==null}getChild(t,r){var i;return((i=t.__children)===null||i===void 0?void 0:i[r])||null}isRowHighestLevel(t){return!this.isChild(t)}isParent(t){var r;let i=t;return isNaN(i)||(i=this.getDataObject(i)),i&&!!i.__children&&((r=i.__children)===null||r===void 0?void 0:r.length)!==0}addChild(t,r){let i=r;this.hot.runHooks("beforeAddChild",t,i);let n=null;t&&(n=this.getRowIndex(t)),this.hot.runHooks("beforeCreateRow",n+this.countChildren(t)+1,1);let o=t;t||(o=this.mockParent()),o.__children||(o.__children=[]),i||(i=this.mockNode()),o.__children.push(i),this.rewriteCache();let s=this.getRowIndex(i);this.hot.rowIndexMapper.insertIndexes(s,1),this.hot.runHooks("afterCreateRow",s,1),this.hot.runHooks("afterAddChild",t,i)}addChildAtIndex(t,r,i){let n=i,o;if(n||(n=this.mockNode()),this.hot.runHooks("beforeAddChild",t,n,r),t){let a=this.getRowIndex(t)+r+1;this.hot.runHooks("beforeCreateRow",a,1),t.__children.splice(r,null,n),this.rewriteCache(),this.plugin.disableCoreAPIModifiers(),this.hot.setSourceDataAtCell(this.getRowIndexWithinParent(t),"__children",t.__children,"NestedRows.addChildAtIndex"),this.hot.rowIndexMapper.insertIndexes(a,1),this.plugin.enableCoreAPIModifiers(),this.hot.runHooks("afterCreateRow",a,1),o=a}else this.plugin.disableCoreAPIModifiers(),this.hot.alter("insert_row_above",r,1,"NestedRows.addChildAtIndex"),this.plugin.enableCoreAPIModifiers(),o=this.getRowIndex(this.data[r]);n=this.getDataObject(o),this.hot.runHooks("afterAddChild",t,n,r)}addSibling(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"below",i=this.translateTrimmedRow(t),n=this.getRowParent(i),o=this.getRowIndexWithinParent(i);switch(r){case"below":this.addChildAtIndex(n,o+1,null);break;case"above":this.addChildAtIndex(n,o,null);break;default:break}}detachFromParent(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,i=null,n=[];Array.isArray(t)?(Oe(t[0],t[2],u=>{let f=this.translateTrimmedRow(u);n.push(this.getDataObject(f))}),Oe(0,n.length-2,u=>{this.detachFromParent(n[u],!1)}),i=n[n.length-1]):i=t;let o=this.getRowIndex(i),s=this.countChildren(i),a=this.getRowIndexWithinParent(i),l=this.getRowParent(i),c=this.getRowParent(l),d=this.getRowIndex(c),h=null;if(this.hot.runHooks("beforeDetachChild",l,i),a!=null){let u=Array.from(new Array(o+s+1).keys()).splice(-1*(s+1));if(this.hot.runHooks("beforeRemoveRow",o,s+1,u,this.plugin.pluginName),l.__children.splice(a,1),this.rewriteCache(),this.hot.runHooks("afterRemoveRow",o,s+1,u,this.plugin.pluginName),c){h=d+this.countChildren(c);let f=this.getChild(c,this.countChildren(c)-1),m=this.getRowIndex(f);this.hot.runHooks("beforeCreateRow",m+1,s+1,this.plugin.pluginName),c.__children.push(i)}else h=this.hot.countRows()+1,this.hot.runHooks("beforeCreateRow",h-2,s+1,this.plugin.pluginName),this.data.push(i)}this.rewriteCache(),this.hot.runHooks("afterCreateRow",h-2,s+1,this.plugin.pluginName),this.hot.runHooks("afterDetachChild",l,i,this.getRowIndex(i)),r&&this.hot.render()}filterData(t,r,i){let n=[];St(i,o=>{n.push(this.getDataObject(o))}),St(n,o=>{let s=this.getRowIndexWithinParent(o),a=this.getRowParent(o);a===null?this.data.splice(s,1):a.__children.splice(s,1)}),this.rewriteCache()}spliceData(t,r,i){let n=this.getDataObject(t-1),o=null,s=t;n&&n.__children&&n.__children.length===0?(o=n,s=0):t<this.countAllRows()&&(o=this.getRowParent(t),s=this.getRowIndexWithinParent(t)),o?i?o.__children.splice(s,r,...i):o.__children.splice(s,r):i?this.data.splice(s,r,...i):this.data.splice(s,r),this.rewriteCache()}syncRowWithRawSource(t){let r=t,i=null;do i=this.getRowParent(i),i!==null&&(r=i);while(i!==null);this.plugin.disableCoreAPIModifiers(),this.hot.setSourceDataAtCell(this.getRowIndex(r),"__children",r.__children,"NestedRows.syncRowWithRawSource"),this.plugin.enableCoreAPIModifiers()}moveRow(t,r,i,n){let o=r===this.hot.countRows(),s=this.getRowParent(t),a=this.getRowIndexWithinParent(t),l=s.__children.slice(a,a+1),c=t>r,d=o?this.getRowParent(r-1):this.getRowParent(r);d==null&&(d=this.getRowParent(r-1)),d==null&&(d=this.getDataObject(r-1)),d?d.__children||(d.__children=[]):(d=this.getDataObject(r),d.__children=[]);let h=o||i||n?d.__children.length:this.getRowIndexWithinParent(r),u=s===d;d.__children.splice(h,0,l[0]),s.__children.splice(a+(c&&u?1:0),1),this.syncRowWithRawSource(s),u||this.syncRowWithRawSource(d)}translateTrimmedRow(t){return this.plugin.collapsingUI?this.plugin.collapsingUI.translateTrimmedRow(t):t}untranslateTrimmedRow(t){return this.plugin.collapsingUI?this.plugin.collapsingUI.untranslateTrimmedRow(t):t}},Nrt=e9;var qIe=ot(_e(),1);var BIe=ot(qt(),1);function Lrt(e,t,r){return t=uOt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uOt(e){var t=fOt(e,"string");return typeof t=="symbol"?t:t+""}function fOt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var i9=class{constructor(t,r){Lrt(this,"hot",void 0),Lrt(this,"plugin",void 0),this.hot=r,this.plugin=t}},Q_=i9;var r9=class e extends Q_{static get CSS_CLASSES(){return{indicatorContainer:"ht_nestingLevels",parent:"ht_nestingParent",indicator:"ht_nestingLevel",emptyIndicator:"ht_nestingLevel_empty",button:"ht_nestingButton",expandButton:"ht_nestingExpand",collapseButton:"ht_nestingCollapse"}}constructor(t,r){super(t,r),this.dataManager=this.plugin.dataManager,this.collapsingUI=this.plugin.collapsingUI,this.rowHeaderWidthCache=null}appendLevelIndicators(t,r){let i=this.hot.toPhysicalRow(t),n=this.dataManager.getRowLevel(i),o=this.dataManager.getDataObject(i),s=r.getElementsByTagName("DIV")[0],a=s.querySelector("span.rowHeader"),l=s.querySelectorAll('[class^="ht_nesting"]'),c=this.hot.getSettings().ariaTags;if(St(l,d=>{d&&s.removeChild(d)}),re(r,e.CSS_CLASSES.indicatorContainer),n){let{rootDocument:d}=this.hot,h=a.cloneNode(!0);s.innerHTML="",Oe(0,n-1,()=>{let u=d.createElement("SPAN");re(u,e.CSS_CLASSES.emptyIndicator),s.appendChild(u)}),s.appendChild(h)}if(this.dataManager.hasChildren(o)){let d=this.hot.rootDocument.createElement("DIV");c&&Ke(d,[Ps()]),re(r,e.CSS_CLASSES.parent),this.collapsingUI.areChildrenCollapsed(i)?(re(d,`${e.CSS_CLASSES.button} ${e.CSS_CLASSES.expandButton}`),c&&Ke(r,[oa(!1)])):(re(d,`${e.CSS_CLASSES.button} ${e.CSS_CLASSES.collapseButton}`),c&&Ke(r,[oa(!0)])),s.appendChild(d)}}updateRowHeaderWidth(t){let r=t;r||(r=this.dataManager.cache.levelCount),this.rowHeaderWidthCache=Math.max(50,11+10*r+25),this.hot.render()}},iD=r9;var n9=class extends Q_{constructor(t,r){var i;super(t,r),i=this,this.dataManager=this.plugin.dataManager,this.collapsedRows=[],this.collapsedRowsStash={stash:function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;i.lastCollapsedRows=i.collapsedRows.slice(0),i.expandMultipleChildren(i.lastCollapsedRows,n)},shiftStash:function(n,o){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;o==null&&(o=1/0),St(i.lastCollapsedRows,(a,l)=>{a>=n&&a<o&&(i.lastCollapsedRows[l]=a+s)})},applyStash:function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;i.collapseMultipleChildren(i.lastCollapsedRows,n),i.lastCollapsedRows=void 0},trimStash:(n,o)=>{Oe(n,n+o-1,s=>{let a=this.lastCollapsedRows.indexOf(s);a>-1&&this.lastCollapsedRows.splice(a,1)})}}}collapseChildren(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=[],o=null,s=null,a=null;return isNaN(t)?(o=t,s=this.dataManager.getRowIndex(o)):(o=this.dataManager.getDataObject(t),s=t),this.dataManager.hasChildren(o)&&St(o.__children,l=>{n.push(this.dataManager.getRowIndex(l))}),a=this.collapseRows(n,!0,!1),i&&this.trimRows(a),r&&this.renderAndAdjust(),this.collapsedRows.indexOf(s)===-1&&this.collapsedRows.push(s),a}collapseMultipleChildren(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=[];St(t,o=>{n.push(...this.collapseChildren(o,!1,!1))}),i&&this.trimRows(n),r&&this.renderAndAdjust()}collapseRow(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.collapseRows([t],r)}collapseRows(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=[];return St(t,o=>{n.push(o),r&&this.collapseChildRows(o,n)}),i&&this.trimRows(n),n}collapseChildRows(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(this.dataManager.hasChildren(t)){let o=this.dataManager.getDataObject(t);St(o.__children,s=>{let a=this.dataManager.getRowIndex(s);r.push(a),this.collapseChildRows(a,r)})}n&&this.trimRows(r)}expandRow(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.expandRows([t],r)}expandRows(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=[];return St(t,o=>{n.push(o),r&&this.expandChildRows(o,n)}),i&&this.untrimRows(n),n}expandChildRows(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(this.dataManager.hasChildren(t)){let o=this.dataManager.getDataObject(t);St(o.__children,s=>{if(!this.isAnyParentCollapsed(s)){let a=this.dataManager.getRowIndex(s);r.push(a),this.expandChildRows(a,r)}})}n&&this.untrimRows(r)}expandChildren(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=[],o=null,s=null,a=null;return isNaN(t)?(o=t,s=this.dataManager.getRowIndex(t)):(o=this.dataManager.getDataObject(t),s=t),this.collapsedRows.splice(this.collapsedRows.indexOf(s),1),this.dataManager.hasChildren(o)&&St(o.__children,l=>{let c=this.dataManager.getRowIndex(l);n.push(c)}),a=this.expandRows(n,!0,!1),i&&this.untrimRows(a),r&&this.renderAndAdjust(),a}expandMultipleChildren(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=[];St(t,o=>{n.push(...this.expandChildren(o,!1,!1))}),i&&this.untrimRows(n),r&&this.renderAndAdjust()}collapseAll(){let t=this.dataManager.getData(),r=[];St(t,i=>{this.dataManager.hasChildren(i)&&r.push(i)}),this.collapseMultipleChildren(r),this.renderAndAdjust()}expandAll(){let t=this.dataManager.getData(),r=[];St(t,i=>{this.dataManager.hasChildren(i)&&r.push(i)}),this.expandMultipleChildren(r),this.renderAndAdjust()}trimRows(t){this.hot.batchExecution(()=>{St(t,r=>{this.plugin.collapsedRowsMap.setValueAtIndex(r,!0)})},!0)}untrimRows(t){this.hot.batchExecution(()=>{St(t,r=>{this.plugin.collapsedRowsMap.setValueAtIndex(r,!1)})},!0)}areChildrenCollapsed(t){let r=isNaN(t)?t:this.dataManager.getDataObject(t),i=!0;return r===null&&(r={__children:this.dataManager.data}),this.dataManager.hasChildren(r)&&St(r.__children,n=>{let o=this.dataManager.getRowIndex(n);if(!this.plugin.collapsedRowsMap.getValueAtIndex(o))return i=!1,!1}),i}isAnyParentCollapsed(t){let r=t;for(;r!==null;){r=this.dataManager.getRowParent(r);let i=this.dataManager.getRowIndex(r);if(this.collapsedRows.indexOf(i)>-1)return!0}return!1}toggleState(t,r){if(r.col>=0)return;let i=this.translateTrimmedRow(r.row);Xe(t.target,iD.CSS_CLASSES.button)&&(this.areChildrenCollapsed(i)?this.expandChildren(i):this.collapseChildren(i),Vo(t))}translateTrimmedRow(t){return this.hot.toPhysicalRow(t)}untranslateTrimmedRow(t){return this.hot.toVisualRow(t)}renderAndAdjust(){this.hot.render(),this.hot.view.adjustElementsSize()}},Frt=n9;var eke=ot(qt(),1);function mOt(e,t,r){pOt(e,t),t.set(e,r)}function pOt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function gOt(e,t,r){return t=bOt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bOt(e){var t=vOt(e,"string");return typeof t=="symbol"?t:t+""}function vOt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yOt(e,t){return e.get(_Ot(e,t))}function _Ot(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var Hrt=new WeakMap,o9=class extends Q_{constructor(){super(...arguments),gOt(this,"dataManager",this.plugin.dataManager),mOt(this,Hrt,{row_above:(t,r)=>{let i=r[r.length-1];this.dataManager.addSibling(i.start.row,"above")},row_below:(t,r)=>{let i=r[r.length-1];this.dataManager.addSibling(i.start.row,"below")}})}appendOptions(t){let r=[{key:"add_child",name(){return this.getTranslatedPhrase(Kx)},callback:()=>{let i=this.dataManager.translateTrimmedRow(this.hot.getSelectedLast()[0]),n=this.dataManager.getDataObject(i);this.dataManager.addChild(n)},disabled:()=>{let i=this.hot.getSelectedLast();return!i||i[0]<0||this.hot.selection.isSelectedByColumnHeader()||this.hot.countRows()>=this.hot.getSettings().maxRows}},{key:"detach_from_parent",name(){return this.getTranslatedPhrase(Xx)},callback:()=>{this.dataManager.detachFromParent(this.hot.getSelectedLast())},disabled:()=>{let i=this.hot.getSelectedLast(),n=this.dataManager.translateTrimmedRow(i[0]);return!this.dataManager.getRowParent(n)||!i||i[0]<0||this.hot.selection.isSelectedByColumnHeader()||this.hot.countRows()>=this.hot.getSettings().maxRows}},{name:"---------"}];return Oe(0,t.items.length-1,i=>{if(i===0)return St(r,(n,o)=>{t.items.splice(i+o,0,n)}),!1}),this.modifyRowInsertingOptions(t)}modifyRowInsertingOptions(t){return Oe(0,t.items.length-1,r=>{let i=yOt(Hrt,this)[t.items[r].key];i!=null&&(t.items[r].callback=i)}),t}},Brt=o9;var ske=ot(qt(),1),ake=ot(_e(),1);function rD(e,t,r){return t=wOt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wOt(e){var t=COt(e,"string");return typeof t=="symbol"?t:t+""}function COt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nD=class{constructor(t){rD(this,"plugin",void 0),rD(this,"hot",void 0),rD(this,"dataManager",void 0),rD(this,"collapsingUI",void 0),this.plugin=t,this.hot=t.hot,this.dataManager=t.dataManager,this.collapsingUI=t.collapsingUI}onBeforeRowMove(t,r,i,n){if(this.displayAPICompatibilityWarning({rows:t,finalIndex:r,dropIndex:i,movePossible:n}))return!1;this.movedToCollapsed=!1;let s=i===this.hot.countRows(),a=s?this.hot.countSourceRows():this.dataManager.translateTrimmedRow(i),l=!0,c=t.map(m=>{if(!l)return!1;let g=this.dataManager.translateTrimmedRow(m);return l=this.shouldAllowMoving(g,a),g}),d=c.indexOf(a)===-1;if(!l||!d)return!1;let h=this.getBaseParent(c),u=this.getTargetParent(s,a),f=h===u;return this.movedToCollapsed=this.collapsingUI.areChildrenCollapsed(u),this.collapsingUI.collapsedRowsStash.stash(),this.shiftCollapsibleParentsLocations(c,a,f),this.moveRows(c,a,u),this.dataManager.rewriteCache(),this.moveCellsMeta(c,a),this.collapsingUI.collapsedRowsStash.applyStash(!1),this.hot.runHooks("afterRowMove",t,r,i,n,n&&this.isRowOrderChanged(t,r)),this.hot.render(),this.selectCells(t,i),!1}displayAPICompatibilityWarning(t){let{rows:r,finalIndex:i,dropIndex:n,movePossible:o}=t,s=!1;return vr(n)&&(gr(Gi`Since version 8.0.0 of the Handsontable the 'moveRows' method isn't used for moving rows\x20
      when the NestedRows plugin is enabled. Please use the 'dragRows' method instead.`),this.hot.runHooks("afterRowMove",r,i,n,o,!1),s=!0),s}shouldAllowMoving(t,r){return!(this.dataManager.isParent(t)||this.dataManager.isRowHighestLevel(t)||t===r||r===0)}getBaseParent(t){return this.dataManager.getRowParent(t[0])}getTargetParent(t,r){let i=this.dataManager.getRowParent(t?r-1:r);return i==null&&(i=this.dataManager.getRowParent(r-1)),i}shiftCollapsibleParentsLocations(t,r,i){i||(Math.max(...t)<=r?this.collapsingUI.collapsedRowsStash.shiftStash(t[0],r,-1*t.length):this.collapsingUI.collapsedRowsStash.shiftStash(r,t[0],t.length))}moveRows(t,r,i){let n=r===this.dataManager.getRowIndex(i)+this.dataManager.countChildren(i)+1;this.hot.batchRender(()=>{t.forEach(o=>{this.dataManager.moveRow(o,r,this.movedToCollapsed,n)})})}moveCellsMeta(t,r){let i=[],n=Math.max(...t)<r;t.forEach(o=>{i.push(this.hot.getCellMetaAtRow(o))}),this.hot.spliceCellsMeta(t[0],t.length),this.hot.spliceCellsMeta(r-(n?i.length:0),0,...i)}selectCells(t,r){let i=t.length,n=0,o=0,s=null,a=null;if(this.movedToCollapsed){let l=null;t[i-1]<r?l=this.dataManager.translateTrimmedRow(r-i):l=this.dataManager.translateTrimmedRow(r);let c=this.dataManager.getRowParent(l===null?this.hot.countSourceRows()-1:l-1),d=this.dataManager.getRowIndex(c);n=this.dataManager.untranslateTrimmedRow(d),o=n}else t[i-1]<r?(o=r-1,n=o-i+1):(n=r,o=n+i-1);s=this.hot.selection,a=this.hot.countCols()-1,s.setRangeStart(this.hot._createCellCoords(n,0)),s.setRangeEnd(this.hot._createCellCoords(o,a),!0)}isRowOrderChanged(t,r){return t.some((i,n)=>i-n!==r)}};function xOt(e,t){Urt(e,t),t.add(e)}function jrt(e,t,r){Urt(e,t),t.set(e,r)}function Urt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function s9(e,t,r){return t=SOt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SOt(e){var t=EOt(e,"string");return typeof t=="symbol"?t:t+""}function EOt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oD(e,t){return e.get(Cs(e,t))}function sD(e,t,r){return e.set(Cs(e,t),r),r}function Cs(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var zE="nestedRows",Wrt=300,Vrt=zE,ROt="The Nested Rows plugin requires an Array of Objects as a dataset to be provided. The plugin has been disabled.",aD=new WeakMap,J_=new WeakMap,Ws=new WeakSet,UE=class extends vi{constructor(){super(...arguments),xOt(this,Ws),s9(this,"dataManager",null),s9(this,"headersUI",null),s9(this,"collapsedRowsMap",null),jrt(this,aD,!1),jrt(this,J_,!1)}static get PLUGIN_KEY(){return zE}static get PLUGIN_PRIORITY(){return Wrt}isEnabled(){return!!this.hot.getSettings()[zE]}enablePlugin(){var t=this;this.enabled||(this.collapsedRowsMap=this.hot.rowIndexMapper.registerMap("nestedRows",new Uc),this.dataManager=new Nrt(this,this.hot),this.collapsingUI=new Frt(this,this.hot),this.headersUI=new iD(this,this.hot),this.contextMenuUI=new Brt(this,this.hot),this.rowMoveController=new nD(this),this.addHook("afterInit",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return Cs(Ws,t,jOt).call(t,...i)}),this.addHook("beforeViewRender",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return Cs(Ws,t,VOt).call(t,...i)}),this.addHook("modifyRowData",function(){return t.onModifyRowData(...arguments)}),this.addHook("modifySourceLength",function(){return t.onModifySourceLength(...arguments)}),this.addHook("beforeDataSplice",function(){return t.onBeforeDataSplice(...arguments)}),this.addHook("filterData",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return Cs(Ws,t,AOt).call(t,...i)}),this.addHook("afterContextMenuDefaultOptions",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return Cs(Ws,t,IOt).call(t,...i)}),this.addHook("afterGetRowHeader",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return Cs(Ws,t,kOt).call(t,...i)}),this.addHook("beforeOnCellMouseDown",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return Cs(Ws,t,MOt).call(t,...i)}),this.addHook("beforeRemoveRow",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return Cs(Ws,t,POt).call(t,...i)}),this.addHook("afterRemoveRow",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return Cs(Ws,t,OOt).call(t,...i)}),this.addHook("beforeAddChild",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return Cs(Ws,t,NOt).call(t,...i)}),this.addHook("afterAddChild",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return Cs(Ws,t,LOt).call(t,...i)}),this.addHook("beforeDetachChild",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return Cs(Ws,t,FOt).call(t,...i)}),this.addHook("afterDetachChild",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return Cs(Ws,t,HOt).call(t,...i)}),this.addHook("modifyRowHeaderWidth",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return Cs(Ws,t,DOt).call(t,...i)}),this.addHook("afterCreateRow",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return Cs(Ws,t,BOt).call(t,...i)}),this.addHook("beforeRowMove",function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return Cs(Ws,t,TOt).call(t,...i)}),this.addHook("beforeLoadData",r=>Cs(Ws,this,zrt).call(this,r)),this.addHook("beforeUpdateData",r=>Cs(Ws,this,zrt).call(this,r)),this.registerShortcuts(),super.enablePlugin())}disablePlugin(){this.hot.rowIndexMapper.unregisterMap("nestedRows"),this.unregisterShortcuts(),super.disablePlugin()}updatePlugin(){this.disablePlugin();let t=this.dataManager.getData();this.enablePlugin(),this.dataManager.updateWithData(t),super.updatePlugin()}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Enter"]],callback:()=>{let{highlight:t}=this.hot.getSelectedRangeLast(),r=this.collapsingUI.translateTrimmedRow(t.row);return this.collapsingUI.areChildrenCollapsed(r)?this.collapsingUI.expandChildren(r):this.collapsingUI.collapseChildren(r),!1},runOnlyIf:()=>{var t,r;let i=(t=this.hot.getSelectedRangeLast())===null||t===void 0?void 0:t.highlight;return i&&((r=this.hot.getSelectedRangeLast())===null||r===void 0?void 0:r.isSingle())&&this.hot.selection.isCellVisible(i)&&i.col===-1&&i.row>=0},group:Vrt,relativeToGroup:Sa,position:"before"})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(Vrt)}disableCoreAPIModifiers(){sD(J_,this,!0)}enableCoreAPIModifiers(){sD(J_,this,!1)}onModifyRowData(t){if(!oD(J_,this))return this.dataManager.getDataObject(t)}onModifySourceLength(){if(!oD(J_,this))return this.dataManager.countAllRows()}onBeforeDataSplice(t,r,i){return oD(J_,this)||this.dataManager.isRowHighestLevel(t)?!0:(this.dataManager.spliceData(t,r,i),!1)}destroy(){super.destroy()}};function TOt(e,t,r,i){return this.rowMoveController.onBeforeRowMove(e,t,r,i)}function MOt(e,t,r){this.collapsingUI.toggleState(e,t,r)}function AOt(e,t,r){return this.collapsingUI.collapsedRowsStash.stash(),this.collapsingUI.collapsedRowsStash.trimStash(r[0],t),this.collapsingUI.collapsedRowsStash.shiftStash(r[0],null,-1*t),this.dataManager.filterData(e,t,r),sD(aD,this,!0),this.dataManager.getData().slice()}function IOt(e){return this.contextMenuUI.appendOptions(e)}function kOt(e,t){this.headersUI.appendLevelIndicators(e,t)}function DOt(e){return Math.max(this.headersUI.rowHeaderWidthCache,e)}function OOt(e,t,r,i){i!==this.pluginName&&this.hot._registerTimeout(()=>{sD(aD,this,!1),this.headersUI.updateRowHeaderWidth(),this.collapsingUI.collapsedRowsStash.applyStash()})}function POt(e,t,r){let i=Array.from(r.reduce((n,o)=>{if(this.dataManager.isParent(o)){let s=this.dataManager.getDataObject(o).__children;return n.add(o),Array.isArray(s)&&s.forEach(a=>n.add(this.dataManager.getRowIndex(a))),n}return n.add(o)},new Set));r.length=0,r.push(...i)}function NOt(){this.collapsingUI.collapsedRowsStash.stash()}function LOt(e,t){this.collapsingUI.collapsedRowsStash.shiftStash(this.dataManager.getRowIndex(t)),this.collapsingUI.collapsedRowsStash.applyStash(),this.headersUI.updateRowHeaderWidth()}function FOt(){this.collapsingUI.collapsedRowsStash.stash()}function HOt(e,t,r){this.collapsingUI.collapsedRowsStash.shiftStash(r,null,-1),this.collapsingUI.collapsedRowsStash.applyStash(),this.headersUI.updateRowHeaderWidth()}function BOt(){this.dataManager.rewriteCache()}function jOt(){this.headersUI.updateRowHeaderWidth()}function VOt(e,t){oD(aD,this)&&(t.skipRender=!0)}function zrt(e){if(!tZ(e)){hy(ROt),this.hot.getSettings()[zE]=!1,this.disablePlugin();return}this.dataManager.setData(e),this.dataManager.rewriteCache()}var Bke=ot(qt(),1);var Pke=ot(qt(),1),Nke=ot(_e(),1),Lke=ot(yM(),1);function a9(e,t,r){return t=zOt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zOt(e){var t=UOt(e,"string");return typeof t=="symbol"?t:t+""}function UOt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var l9=class{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window;a9(this,"rootWindow",void 0),a9(this,"prefix",void 0),a9(this,"savedKeys",[]),this.rootWindow=r,this.prefix=t,this.loadSavedKeys()}saveValue(t,r){this.rootWindow.localStorage.setItem(`${this.prefix}_${t}`,JSON.stringify(r)),this.savedKeys.indexOf(t)===-1&&(this.savedKeys.push(t),this.saveSavedKeys())}loadValue(t,r){let i=typeof t>"u"?r:t,n=this.rootWindow.localStorage.getItem(`${this.prefix}_${i}`);return n===null?void 0:JSON.parse(n)}reset(t){this.rootWindow.localStorage.removeItem(`${this.prefix}_${t}`)}resetAll(){St(this.savedKeys,(t,r)=>{this.rootWindow.localStorage.removeItem(`${this.prefix}_${this.savedKeys[r]}`)}),this.clearSavedKeys()}loadSavedKeys(){let t=this.rootWindow.localStorage.getItem(`${this.prefix}__persistentStateKeys`),r=typeof t=="string"?JSON.parse(t):void 0;this.savedKeys=r||[]}saveSavedKeys(){this.rootWindow.localStorage.setItem(`${this.prefix}__persistentStateKeys`,JSON.stringify(this.savedKeys))}clearSavedKeys(){this.savedKeys.length=0,this.saveSavedKeys()}},Yrt=l9;function WOt(e,t,r){return t=YOt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YOt(e){var t=$Ot(e,"string");return typeof t=="symbol"?t:t+""}function $Ot(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}Le.getSingleton().register("persistentStateSave");Le.getSingleton().register("persistentStateLoad");Le.getSingleton().register("persistentStateReset");var c9="persistentState",$rt=0,WE=class extends vi{constructor(){super(...arguments),WOt(this,"storage",void 0)}static get PLUGIN_KEY(){return c9}static get PLUGIN_PRIORITY(){return $rt}isEnabled(){return!!this.hot.getSettings()[c9]}enablePlugin(){this.enabled||(this.storage||(this.storage=new Yrt(this.hot.rootElement.id,this.hot.rootWindow)),this.addHook("persistentStateSave",(t,r)=>this.saveValue(t,r)),this.addHook("persistentStateLoad",(t,r)=>this.loadValue(t,r)),this.addHook("persistentStateReset",()=>this.resetValue()),super.enablePlugin())}disablePlugin(){this.storage=void 0,super.disablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}loadValue(t,r){r.value=this.storage.loadValue(t)}saveValue(t,r){this.storage.saveValue(t,r)}resetValue(t){typeof t>"u"?this.storage.resetAll():this.storage.reset(t)}destroy(){super.destroy()}};var $ke=ot(qt(),1),qke=ot(_e(),1);function qOt(e,t){GOt(e,t),t.add(e)}function GOt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function d9(e,t,r){return t=KOt(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KOt(e){var t=XOt(e,"string");return typeof t=="symbol"?t:t+""}function XOt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qrt(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var lD="search",Krt=190,ZOt="htSearchResult",QOt=function(e,t,r,i,n){e.getCellMeta(t,r).isSearchResult=n},JOt=function(e,t,r){return vr(e)||e===null||!e.toLocaleLowerCase||e.length===0||vr(t)||t===null?!1:t.toString().toLocaleLowerCase(r.locale).indexOf(e.toLocaleLowerCase(r.locale))!==-1},h9=new WeakSet,YE=class extends vi{constructor(){super(...arguments),qOt(this,h9),d9(this,"callback",QOt),d9(this,"queryMethod",JOt),d9(this,"searchResultClass",ZOt)}static get PLUGIN_KEY(){return lD}static get PLUGIN_PRIORITY(){return Krt}isEnabled(){return this.hot.getSettings()[lD]}enablePlugin(){var t=this;if(this.enabled)return;let r=this.hot.getSettings()[lD];this.updatePluginSettings(r),this.addHook("beforeRenderer",function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return qrt(h9,t,Grt).call(t,...n)}),super.enablePlugin()}disablePlugin(){var t=this;let r=function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return qrt(h9,t,Grt).call(t,...n)};this.hot.addHook("beforeRenderer",r),this.hot.addHookOnce("afterViewRender",()=>{this.hot.removeHook("beforeRenderer",r)}),super.disablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}query(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getCallback(),i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.getQueryMethod(),n=this.hot.countRows(),o=this.hot.countCols(),s=[],a=this.hot;return Oe(0,n-1,l=>{Oe(0,o-1,c=>{let d=this.hot.getDataAtCell(l,c),h=this.hot.getCellMeta(l,c),u=h.search.callback||r,m=(h.search.queryMethod||i)(t,d,h);if(m){let g={row:l,col:c,data:d};s.push(g)}u&&u(a,l,c,d,m)})}),s}getCallback(){return this.callback}setCallback(t){this.callback=t}getQueryMethod(){return this.queryMethod}setQueryMethod(t){this.queryMethod=t}getSearchResultClass(){return this.searchResultClass}setSearchResultClass(t){this.searchResultClass=t}updatePluginSettings(t){gi(t)&&(t.searchResultClass&&this.setSearchResultClass(t.searchResultClass),t.queryMethod&&this.setQueryMethod(t.queryMethod),t.callback&&this.setCallback(t.callback))}destroy(){super.destroy()}};function Grt(e,t,r,i,n,o){let s=o.className||[],a=[];typeof s=="string"?a=s.split(" "):a.push(...s),this.isEnabled()&&o.isSearchResult?a.includes(this.searchResultClass)||a.push(`${this.searchResultClass}`):a.includes(this.searchResultClass)&&a.splice(a.indexOf(this.searchResultClass),1),o.className=a.join(" ")}var eDe=ot(qt(),1),iDe=ot(_e(),1);function t3t(e,t){e3t(e,t),t.add(e)}function e3t(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function cD(e,t,r){return t=i3t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i3t(e){var t=r3t(e,"string");return typeof t=="symbol"?t:t+""}function r3t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u9(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var Xrt="touchScroll",Zrt=200,dD=new WeakSet,$E=class extends vi{constructor(){super(...arguments),t3t(this,dD),cD(this,"scrollbars",[]),cD(this,"clones",[]),cD(this,"lockedCollection",!1),cD(this,"freezeOverlays",!1)}static get PLUGIN_KEY(){return Xrt}static get PLUGIN_PRIORITY(){return Zrt}static get SETTING_KEYS(){return!0}isEnabled(){return wM()}enablePlugin(){this.enabled||(this.addHook("afterViewRender",()=>u9(dD,this,n3t).call(this)),this.registerEvents(),super.enablePlugin())}updatePlugin(){this.lockedCollection=!1,super.updatePlugin()}disablePlugin(){super.disablePlugin()}registerEvents(){this.addHook("beforeTouchScroll",()=>u9(dD,this,o3t).call(this)),this.addHook("afterMomentumScroll",()=>u9(dD,this,s3t).call(this))}};function n3t(){if(this.lockedCollection)return;let{topOverlay:e,bottomOverlay:t,inlineStartOverlay:r,topInlineStartCornerOverlay:i,bottomInlineStartCornerOverlay:n}=this.hot.view._wt.wtOverlays;this.lockedCollection=!0,this.scrollbars.length=0,this.scrollbars.push(e),t.clone&&this.scrollbars.push(t),this.scrollbars.push(r),i&&this.scrollbars.push(i),n&&n.clone&&this.scrollbars.push(n),this.clones=[],e.needFullRender&&this.clones.push(e.clone.wtTable.holder.parentNode),t.needFullRender&&this.clones.push(t.clone.wtTable.holder.parentNode),r.needFullRender&&this.clones.push(r.clone.wtTable.holder.parentNode),i&&this.clones.push(i.clone.wtTable.holder.parentNode),n&&n.clone&&this.clones.push(n.clone.wtTable.holder.parentNode)}function o3t(){this.freezeOverlays=!0,St(this.clones,e=>{re(e,"hide-tween")})}function s3t(){this.freezeOverlays=!1,St(this.clones,e=>{pi(e,"hide-tween"),re(e,"show-tween")}),this.hot._registerTimeout(()=>{St(this.clones,e=>{pi(e,"show-tween")})},400),St(this.scrollbars,e=>{e.refresh(),e.resetFixedPosition()}),this.hot.view._wt.wtOverlays.syncScrollWithMaster()}var dDe=ot(qt(),1),hDe=ot(_e(),1),uDe=ot(yn(),1),fDe=ot(_n(),1),mDe=ot(wn(),1),pDe=ot(Cn(),1),gDe=ot(xn(),1),bDe=ot(Sn(),1),vDe=ot(En(),1);function a3t(e,t){l3t(e,t),t.add(e)}function l3t(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function c3t(e,t,r){return t=d3t(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d3t(e){var t=h3t(e,"string");return typeof t=="symbol"?t:t+""}function h3t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u3t(e,t,r){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var qE="trimRows",Jrt=330,Qrt=new WeakSet,GE=class extends vi{constructor(){super(...arguments),a3t(this,Qrt),c3t(this,"trimmedRowsMap",null)}static get PLUGIN_KEY(){return qE}static get PLUGIN_PRIORITY(){return Jrt}isEnabled(){return!!this.hot.getSettings()[qE]}enablePlugin(){this.enabled||(this.trimmedRowsMap=this.hot.rowIndexMapper.registerMap("trimRows",new Uc),this.trimmedRowsMap.addLocalHook("init",()=>u3t(Qrt,this,f3t).call(this)),super.enablePlugin())}updatePlugin(){let t=this.hot.getSettings()[qE];Array.isArray(t)&&this.hot.batchExecution(()=>{this.trimmedRowsMap.clear(),St(t,r=>{this.trimmedRowsMap.setValueAtIndex(r,!0)})},!0),super.updatePlugin()}disablePlugin(){this.hot.rowIndexMapper.unregisterMap("trimRows"),super.disablePlugin()}getTrimmedRows(){return this.trimmedRowsMap.getTrimmedIndexes()}trimRows(t){let r=this.getTrimmedRows(),i=this.isValidConfig(t),n=r;i&&(n=Array.from(new Set(r.concat(t)))),this.hot.runHooks("beforeTrimRow",r,n,i)!==!1&&(i&&this.hot.batchExecution(()=>{St(t,s=>{this.trimmedRowsMap.setValueAtIndex(s,!0)})},!0),this.hot.runHooks("afterTrimRow",r,n,i,i&&n.length>r.length))}trimRow(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];this.trimRows(r)}untrimRows(t){let r=this.getTrimmedRows(),i=this.isValidConfig(t),n=r,o=this.trimmedRowsMap.getValues().slice(),s=t.length>0;i&&s&&(St(t,l=>{o[l]=!1}),n=cn(o,(l,c,d)=>(c&&l.push(d),l),[])),this.hot.runHooks("beforeUntrimRow",r,n,i&&s)!==!1&&(i&&s&&this.trimmedRowsMap.setValues(o),this.hot.runHooks("afterUntrimRow",r,n,i&&s,i&&n.length<r.length))}untrimRow(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];this.untrimRows(r)}isTrimmed(t){return this.trimmedRowsMap.getValueAtIndex(t)||!1}untrimAll(){this.untrimRows(this.getTrimmedRows())}isValidConfig(t){let r=this.hot.countSourceRows();return t.every(i=>Number.isInteger(i)&&i>=0&&i<r)}destroy(){super.destroy()}};function f3t(){let e=this.hot.getSettings()[qE];Array.isArray(e)&&this.hot.batchExecution(()=>{St(e,t=>{this.trimmedRowsMap.setValueAtIndex(t,!0)})},!0)}var MDe=ot(_e(),1),ADe=ot(int(),1);var rnt="undoRedo",nnt="undoRedo";function Ge(e){let t=this;this.instance=e,this.doneActions=[],this.undoneActions=[],this.ignoreNewActions=!1,this.enabled=!1,e.addHook("afterChange",function(i,n){let o=i&&i.length;if(!o||!i.find(l=>{let[,,c,d]=l;return c!==d}))return;let a=()=>{let l=i.reduce((d,h)=>(d.push([...h]),d),[]);St(l,d=>{d[1]=e.propToCol(d[1])});let c=o>1?this.getSelected():[[l[0][0],l[0][1]]];return new Ge.ChangeAction(l,c)};t.done(a,n)}),e.addHook("afterCreateRow",(i,n,o)=>{t.done(()=>new Ge.CreateRowAction(i,n),o)});let r=(i,n,o,s)=>{let a=["visualRow","visualCol","row","col","prop"],l=a.length,c=[];return Oe(o,s,d=>{Oe(i,n,h=>{let u=e.getCellMeta(h,d);if(Object.keys(u).length!==l){let f=Object.fromEntries(Object.entries(u).filter(m=>{let[g]=m;return a.includes(g)===!1}));c.push([u.visualRow,u.visualCol,f])}})}),c};e.addHook("beforeRemoveRow",(i,n,o,s)=>{let a=()=>{let l=e.toPhysicalRow(i),c=l+n-1,d=jo(t.instance.getSourceData(l,0,l+n-1,t.instance.countSourceCols()-1));return new Ge.RemoveRowAction(l,d,e.getSettings().fixedRowsBottom,e.getSettings().fixedRowsTop,e.rowIndexMapper.getIndexesSequence(),r(l,c,0,e.countCols()-1))};t.done(a,s)}),e.addHook("afterCreateCol",(i,n,o)=>{t.done(()=>new Ge.CreateColumnAction(i,n),o)}),e.addHook("beforeRemoveCol",(i,n,o,s)=>{let a=()=>{let l=t.instance.getSourceDataArray(),c=(t.instance.countCols()+i)%t.instance.countCols(),d=c+n-1,h=[],u=[],f=[];Oe(l.length-1,p=>{let b=[],_=l[p];Oe(c,d,E=>{b.push(_[e.toPhysicalColumn(E)])}),h.push(b)}),Oe(n-1,p=>{f.push(e.toPhysicalColumn(c+p))}),Array.isArray(e.getSettings().colHeaders)&&Oe(n-1,p=>{u.push(e.getSettings().colHeaders[e.toPhysicalColumn(c+p)]||null)});let m=e.columnIndexMapper.getIndexesSequence(),g=e.rowIndexMapper.getIndexesSequence();return new Ge.RemoveColumnAction(c,f,h,u,m,g,e.getSettings().fixedColumnsStart,r(0,e.countRows(),c,d))};t.done(a,s)}),e.addHook("beforeCellAlignment",(i,n,o,s)=>{t.done(()=>new Ge.CellAlignmentAction(i,n,o,s))}),e.addHook("beforeFilter",i=>{t.done(()=>new Ge.FiltersAction(i))}),e.addHook("beforeRowMove",(i,n)=>{i!==!1&&t.done(()=>new Ge.RowMoveAction(i,n))}),e.addHook("beforeColumnMove",(i,n)=>{i!==!1&&t.done(()=>new Ge.ColumnMoveAction(i,n))}),e.addHook("beforeMergeCells",(i,n)=>{n||t.done(()=>new Ge.MergeCellsAction(e,i))}),e.addHook("afterUnmergeCells",(i,n)=>{n||t.done(()=>new Ge.UnmergeCellsAction(e,i))}),e.addHook("afterInit",()=>{t.init()})}Ge.prototype.done=function(e,t){if(this.ignoreNewActions||t==="UndoRedo.undo"||t==="UndoRedo.redo"||t==="auto")return;let i=this.doneActions.slice();if(this.instance.runHooks("beforeUndoStackChange",i,t)===!1)return;let o=e(),s=this.undoneActions.slice();this.doneActions.push(o),this.instance.runHooks("afterUndoStackChange",i,this.doneActions.slice()),this.instance.runHooks("beforeRedoStackChange",s),this.undoneActions.length=0,this.instance.runHooks("afterRedoStackChange",s,this.undoneActions.slice())};Ge.prototype.undo=function(){if(this.isUndoAvailable()){let e=this.doneActions.slice();this.instance.runHooks("beforeUndoStackChange",e);let t=this.doneActions.pop();this.instance.runHooks("afterUndoStackChange",e,this.doneActions.slice());let r=jo(t);if(this.instance.runHooks("beforeUndo",r)===!1)return;this.ignoreNewActions=!0;let n=this,o=this.undoneActions.slice();this.instance.runHooks("beforeRedoStackChange",o),t.undo(this.instance,()=>{n.ignoreNewActions=!1,n.undoneActions.push(t)}),this.instance.runHooks("afterRedoStackChange",o,this.undoneActions.slice()),this.instance.runHooks("afterUndo",r)}};Ge.prototype.redo=function(){if(this.isRedoAvailable()){let e=this.undoneActions.slice();this.instance.runHooks("beforeRedoStackChange",e);let t=this.undoneActions.pop();this.instance.runHooks("afterRedoStackChange",e,this.undoneActions.slice());let r=jo(t);if(this.instance.runHooks("beforeRedo",r)===!1)return;this.ignoreNewActions=!0;let n=this,o=this.doneActions.slice();this.instance.runHooks("beforeUndoStackChange",o),t.redo(this.instance,()=>{n.ignoreNewActions=!1,n.doneActions.push(t)}),this.instance.runHooks("afterUndoStackChange",o,this.doneActions.slice()),this.instance.runHooks("afterRedo",r)}};Ge.prototype.isUndoAvailable=function(){return this.doneActions.length>0};Ge.prototype.isRedoAvailable=function(){return this.undoneActions.length>0};Ge.prototype.clear=function(){this.doneActions.length=0,this.undoneActions.length=0};Ge.prototype.isEnabled=function(){return this.enabled};Ge.prototype.enable=function(){if(this.isEnabled())return;let e=this.instance;this.enabled=!0,_3t(e),this.registerShortcuts(),e.addHook("afterChange",ont)};Ge.prototype.disable=function(){if(!this.isEnabled())return;let e=this.instance;this.enabled=!1,w3t(e),this.unregisterShortcuts(),e.removeHook("afterChange",ont)};Ge.prototype.destroy=function(){this.clear(),this.instance=null,this.doneActions=null,this.undoneActions=null};Ge.Action=function(){};Ge.Action.prototype.undo=function(){};Ge.Action.prototype.redo=function(){};Ge.ChangeAction=function(e,t){this.changes=e,this.selected=t,this.actionType="change"};Td(Ge.ChangeAction,Ge.Action);Ge.ChangeAction.prototype.undo=function(e,t){let r=jo(this.changes),i=e.countEmptyRows(!0),n=e.countEmptyCols(!0);for(let s=0,a=r.length;s<a;s++)r[s].splice(3,1);e.addHookOnce("afterChange",t),e.setDataAtCell(r,null,null,"UndoRedo.undo");for(let s=0,a=r.length;s<a;s++){let[l,c]=r[s];e.getSettings().minSpareRows&&l+1+e.getSettings().minSpareRows===e.countRows()&&i===e.getSettings().minSpareRows&&(e.alter("remove_row",parseInt(l+1,10),e.getSettings().minSpareRows),e.undoRedo.doneActions.pop()),e.getSettings().minSpareCols&&c+1+e.getSettings().minSpareCols===e.countCols()&&n===e.getSettings().minSpareCols&&(e.alter("remove_col",parseInt(c+1,10),e.getSettings().minSpareCols),e.undoRedo.doneActions.pop())}let o=e.getSelectedLast();if(o!==void 0){let[s,a]=r[0],[l,c]=o,d=e.view.getFirstFullyVisibleRow(),h=e.view.getFirstFullyVisibleColumn(),u=s>=d,f=a>=h;if((u&&f)===!1&&(l!==s||c!==a)===!0){let p={row:s,col:a};u===!1&&(p.verticalSnap="top"),f===!1&&(p.horizontalSnap="start"),e.scrollViewportTo(p)}}e.selectCells(this.selected,!1,!1)};Ge.ChangeAction.prototype.redo=function(e,t){let r=jo(this.changes);for(let i=0,n=r.length;i<n;i++)r[i].splice(2,1);e.addHookOnce("afterChange",t),e.setDataAtCell(r,null,null,"UndoRedo.redo"),this.selected&&e.selectCells(this.selected,!1,!1)};Ge.CreateRowAction=function(e,t){this.index=e,this.amount=t,this.actionType="insert_row"};Td(Ge.CreateRowAction,Ge.Action);Ge.CreateRowAction.prototype.undo=function(e,t){let r=e.countRows(),i=e.getSettings().minSpareRows;this.index>=r&&this.index-i<r&&(this.index-=i),e.addHookOnce("afterRemoveRow",t),e.alter("remove_row",this.index,this.amount,"UndoRedo.undo")};Ge.CreateRowAction.prototype.redo=function(e,t){e.addHookOnce("afterCreateRow",t),e.alter("insert_row_above",this.index,this.amount,"UndoRedo.redo")};Ge.RemoveRowAction=function(e,t,r,i,n,o){this.index=e,this.data=t,this.actionType="remove_row",this.fixedRowsBottom=r,this.fixedRowsTop=i,this.rowIndexesSequence=n,this.removedCellMetas=o};Td(Ge.RemoveRowAction,Ge.Action);Ge.RemoveRowAction.prototype.undo=function(e,t){let r=e.getSettings(),i=[];r.fixedRowsBottom=this.fixedRowsBottom,r.fixedRowsTop=this.fixedRowsTop,this.data.forEach((n,o)=>{Object.keys(n).forEach(s=>{let a=parseInt(s,10);i.push([this.index+o,isNaN(a)?s:a,n[s]])})}),e.alter("insert_row_above",this.index,this.data.length,"UndoRedo.undo"),this.removedCellMetas.forEach(n=>{let[o,s,a]=n;e.setCellMetaObject(o,s,a)}),e.addHookOnce("afterViewRender",t),e.setSourceDataAtCell(i,null,null,"UndoRedo.undo"),e.rowIndexMapper.setIndexesSequence(this.rowIndexesSequence)};Ge.RemoveRowAction.prototype.redo=function(e,t){e.addHookOnce("afterRemoveRow",t),e.alter("remove_row",this.index,this.data.length,"UndoRedo.redo")};Ge.CreateColumnAction=function(e,t){this.index=e,this.amount=t,this.actionType="insert_col"};Td(Ge.CreateColumnAction,Ge.Action);Ge.CreateColumnAction.prototype.undo=function(e,t){e.addHookOnce("afterRemoveCol",t),e.alter("remove_col",this.index,this.amount,"UndoRedo.undo")};Ge.CreateColumnAction.prototype.redo=function(e,t){e.addHookOnce("afterCreateCol",t),e.alter("insert_col_start",this.index,this.amount,"UndoRedo.redo")};Ge.RemoveColumnAction=function(e,t,r,i,n,o,s,a){this.index=e,this.indexes=t,this.data=r,this.amount=this.data[0].length,this.headers=i,this.columnPositions=n.slice(0),this.rowPositions=o.slice(0),this.actionType="remove_col",this.fixedColumnsStart=s,this.removedCellMetas=a};Td(Ge.RemoveColumnAction,Ge.Action);Ge.RemoveColumnAction.prototype.undo=function(e,t){let r=e.getSettings();r.fixedColumnsStart=this.fixedColumnsStart;let i=this.indexes.slice(0).sort(),n=(c,d,h)=>h[this.indexes.indexOf(i[d])],o=this.data.length,s=[];for(let c=0;c<o;c++)s.push(Ci(this.data[c],n));let a=Ci(this.headers,n),l=[];e.alter("insert_col_start",this.indexes[0],this.indexes.length,"UndoRedo.undo"),St(e.getSourceDataArray(),(c,d)=>{St(i,(h,u)=>{c[h]=s[d][u],l.push([d,h,c[h]])})}),e.setSourceDataAtCell(l,void 0,void 0,"UndoRedo.undo"),typeof this.headers<"u"&&St(a,(c,d)=>{e.getSettings().colHeaders[i[d]]=c}),this.removedCellMetas.forEach(c=>{let[d,h,u]=c;e.setCellMetaObject(d,h,u)}),e.batchExecution(()=>{e.rowIndexMapper.setIndexesSequence(this.rowPositions),e.columnIndexMapper.setIndexesSequence(this.columnPositions)},!0),e.addHookOnce("afterViewRender",t),e.render()};Ge.RemoveColumnAction.prototype.redo=function(e,t){e.addHookOnce("afterRemoveCol",t),e.alter("remove_col",this.index,this.amount,"UndoRedo.redo")};Ge.CellAlignmentAction=function(e,t,r,i){this.stateBefore=e,this.range=t,this.type=r,this.alignment=i};Ge.CellAlignmentAction.prototype.undo=function(e,t){St(this.range,r=>{r.forAll((i,n)=>{i>=0&&n>=0&&e.setCellMeta(i,n,"className",this.stateBefore[i][n]||" htLeft")})}),e.addHookOnce("afterViewRender",t),e.render()};Ge.CellAlignmentAction.prototype.redo=function(e,t){eu(this.range,this.type,this.alignment,(r,i)=>e.getCellMeta(r,i),(r,i,n,o)=>e.setCellMeta(r,i,n,o)),e.addHookOnce("afterViewRender",t),e.render()};Ge.FiltersAction=function(e){this.conditionsStack=e,this.actionType="filter"};Td(Ge.FiltersAction,Ge.Action);Ge.FiltersAction.prototype.undo=function(e,t){let r=e.getPlugin("filters");e.addHookOnce("afterViewRender",t),r.conditionCollection.importAllConditions(this.conditionsStack.slice(0,this.conditionsStack.length-1)),r.filter()};Ge.FiltersAction.prototype.redo=function(e,t){let r=e.getPlugin("filters");e.addHookOnce("afterViewRender",t),r.conditionCollection.importAllConditions(this.conditionsStack),r.filter()};var f9=class extends Ge.Action{constructor(t,r){super(),this.cellRange=r;let i=this.cellRange.getTopStartCorner(),n=this.cellRange.getBottomEndCorner();this.rangeData=t.getData(i.row,i.col,n.row,n.col)}undo(t,r){let i=t.getPlugin("mergeCells");t.addHookOnce("afterViewRender",r),i.unmergeRange(this.cellRange,!0);let n=this.cellRange.getTopStartCorner();t.populateFromArray(n.row,n.col,this.rangeData,void 0,void 0,"MergeCells")}redo(t,r){let i=t.getPlugin("mergeCells");t.addHookOnce("afterViewRender",r),i.mergeRange(this.cellRange)}};Ge.MergeCellsAction=f9;var m9=class extends Ge.Action{constructor(t,r){super(),this.cellRange=r}undo(t,r){let i=t.getPlugin("mergeCells");t.addHookOnce("afterViewRender",r),i.mergeRange(this.cellRange,!0)}redo(t,r){let i=t.getPlugin("mergeCells");t.addHookOnce("afterViewRender",r),i.unmergeRange(this.cellRange,!0),t.render()}};Ge.UnmergeCellsAction=m9;Ge.RowMoveAction=function(e,t){this.rows=e.slice(),this.finalRowIndex=t,this.actionType="row_move"};Td(Ge.RowMoveAction,Ge.Action);Ge.RowMoveAction.prototype.undo=function(e,t){let r=e.getPlugin("manualRowMove");e.addHookOnce("afterViewRender",t),JS(this.rows,this.finalRowIndex,e.rowIndexMapper.getNumberOfIndexes()).reverse().forEach(n=>{let{from:o,to:s}=n;o<s&&(s-=1),r.moveRow(s,o)}),e.render(),e.deselectCell(),e.selectRows(this.rows[0],this.rows[0]+this.rows.length-1)};Ge.RowMoveAction.prototype.redo=function(e,t){let r=e.getPlugin("manualRowMove");e.addHookOnce("afterViewRender",t),r.moveRows(this.rows.slice(),this.finalRowIndex),e.render(),e.deselectCell(),e.selectRows(this.finalRowIndex,this.finalRowIndex+this.rows.length-1)};Ge.ColumnMoveAction=function(e,t){this.columns=e.slice(),this.finalColumnIndex=t,this.actionType="col_move"};Td(Ge.ColumnMoveAction,Ge.Action);Ge.ColumnMoveAction.prototype.undo=function(e,t){let r=e.getPlugin("manualColumnMove");e.addHookOnce("afterViewRender",t),JS(this.columns,this.finalColumnIndex,e.columnIndexMapper.getNumberOfIndexes()).reverse().forEach(n=>{let{from:o,to:s}=n;o<s&&(s-=1),r.moveColumn(s,o)}),e.render(),e.deselectCell(),e.selectColumns(this.columns[0],this.columns[0]+this.columns.length-1)};Ge.ColumnMoveAction.prototype.redo=function(e,t){let r=e.getPlugin("manualColumnMove");e.addHookOnce("afterViewRender",t),r.moveColumns(this.columns.slice(),this.finalColumnIndex),e.render(),e.deselectCell(),e.selectColumns(this.finalColumnIndex,this.finalColumnIndex+this.columns.length-1)};Ge.prototype.init=function(){let e=this.instance.getSettings().undo,t=typeof e>"u"||e;this.instance.undoRedo||(this.instance.undoRedo=this),t?this.instance.undoRedo.enable():this.instance.undoRedo.disable()};Ge.prototype.registerShortcuts=function(){let t=this.instance.getShortcutManager().getContext("grid"),i={runOnlyIf:n=>!n.altKey,group:rnt};t.addShortcuts([{keys:[["Control/Meta","z"]],callback:()=>{this.undo()}},{keys:[["Control/Meta","y"],["Control/Meta","Shift","z"]],callback:()=>{this.redo()}}],i)};Ge.prototype.unregisterShortcuts=function(){this.instance.getShortcutManager().getContext("grid").removeShortcutsByGroup(rnt)};function ont(e,t){let r=this;if(t==="loadData")return r.undoRedo.clear()}function _3t(e){e.undo=function(){return e.undoRedo.undo()},e.redo=function(){return e.undoRedo.redo()},e.isUndoAvailable=function(){return e.undoRedo.isUndoAvailable()},e.isRedoAvailable=function(){return e.undoRedo.isRedoAvailable()},e.clearUndo=function(){return e.undoRedo.clear()}}function w3t(e){delete e.undo,delete e.redo,delete e.isUndoAvailable,delete e.isRedoAvailable,delete e.clearUndo}var KE=Le.getSingleton();KE.add("afterUpdateSettings",function(){var e;(e=this.getPlugin("undoRedo"))===null||e===void 0||e.init()});KE.register("beforeUndo");KE.register("afterUndo");KE.register("beforeRedo");KE.register("afterRedo");Ge.PLUGIN_KEY=nnt;Ge.SETTING_KEYS=!0;var p9=Ge;function snt(){Zr(q2),Zr(K2),Zr(Q2),Zr(J2),Zr(iS),Zr(M0),Zr(hS),Zr(mS),Zr(v_),Zr(RS),Zr(MS),Zr(AS),Zr(R_),Zr(kS),Zr(ZS),Zr(iE),Zr(nE),Zr(sE),Zr(aE),Zr(cE),Zr(mE),Zr(pE),Zr(wE),Zr(TE),Zr(AE),Zr(IE),Zr(jE),Zr(UE),Zr(WE),Zr(YE),Zr($E),Zr(GE),Zr(p9)}function hD(){wJ(),RJ(),IJ(),DJ(),snt()}var C3t=["mat-calendar-body",""];function x3t(e,t){return this._trackRow(t)}var mnt=(e,t)=>t.id;function S3t(e,t){if(e&1&&(Lt(0,"tr",0)(1,"td",3),ne(2),Pt()()),e&2){let r=Fi();te(),cl("padding-top",r._cellPadding)("padding-bottom",r._cellPadding),Yi("colspan",r.numCols),te(),Cr(" ",r.label," ")}}function E3t(e,t){if(e&1&&(Lt(0,"td",3),ne(1),Pt()),e&2){let r=Fi(2);cl("padding-top",r._cellPadding)("padding-bottom",r._cellPadding),Yi("colspan",r._firstRowOffset),te(),Cr(" ",r._firstRowOffset>=r.labelMinRequiredCells?r.label:""," ")}}function R3t(e,t){if(e&1){let r=Ho();Lt(0,"td",6)(1,"button",7),fi("click",function(n){let o=fr(r).$implicit,s=Fi(2);return mr(s._cellClicked(o,n))})("focus",function(n){let o=fr(r).$implicit,s=Fi(2);return mr(s._emitActiveDateChange(o,n))}),Lt(2,"span",8),ne(3),Pt(),Be(4,"span",9),Pt()()}if(e&2){let r=t.$implicit,i=t.$index,n=Fi().$index,o=Fi();cl("width",o._cellWidth)("padding-top",o._cellPadding)("padding-bottom",o._cellPadding),Yi("data-mat-row",n)("data-mat-col",i),te(),Vi("mat-calendar-body-disabled",!r.enabled)("mat-calendar-body-active",o._isActiveCell(n,i))("mat-calendar-body-range-start",o._isRangeStart(r.compareValue))("mat-calendar-body-range-end",o._isRangeEnd(r.compareValue))("mat-calendar-body-in-range",o._isInRange(r.compareValue))("mat-calendar-body-comparison-bridge-start",o._isComparisonBridgeStart(r.compareValue,n,i))("mat-calendar-body-comparison-bridge-end",o._isComparisonBridgeEnd(r.compareValue,n,i))("mat-calendar-body-comparison-start",o._isComparisonStart(r.compareValue))("mat-calendar-body-comparison-end",o._isComparisonEnd(r.compareValue))("mat-calendar-body-in-comparison-range",o._isInComparisonRange(r.compareValue))("mat-calendar-body-preview-start",o._isPreviewStart(r.compareValue))("mat-calendar-body-preview-end",o._isPreviewEnd(r.compareValue))("mat-calendar-body-in-preview",o._isInPreview(r.compareValue)),ke("ngClass",r.cssClasses)("tabindex",o._isActiveCell(n,i)?0:-1),Yi("aria-label",r.ariaLabel)("aria-disabled",!r.enabled||null)("aria-pressed",o._isSelected(r.compareValue))("aria-current",o.todayValue===r.compareValue?"date":null)("aria-describedby",o._getDescribedby(r.compareValue)),te(),Vi("mat-calendar-body-selected",o._isSelected(r.compareValue))("mat-calendar-body-comparison-identical",o._isComparisonIdentical(r.compareValue))("mat-calendar-body-today",o.todayValue===r.compareValue),te(),Cr(" ",r.displayValue," ")}}function T3t(e,t){if(e&1&&(Lt(0,"tr",1),Ki(1,E3t,2,6,"td",4),zw(2,R3t,5,48,"td",5,mnt),Pt()),e&2){let r=t.$implicit,i=t.$index,n=Fi();te(),In(i===0&&n._firstRowOffset?1:-1),te(),Uw(r)}}function M3t(e,t){if(e&1&&(Lt(0,"th",2)(1,"span",6),ne(2),Pt(),Lt(3,"span",3),ne(4),Pt()()),e&2){let r=t.$implicit;te(2),ho(r.long),te(2),ho(r.narrow)}}var A3t=["*"];function I3t(e,t){}function k3t(e,t){if(e&1){let r=Ho();Lt(0,"mat-month-view",4),Vb("activeDateChange",function(n){fr(r);let o=Fi();return jb(o.activeDate,n)||(o.activeDate=n),mr(n)}),fi("_userSelection",function(n){fr(r);let o=Fi();return mr(o._dateSelected(n))})("dragStarted",function(n){fr(r);let o=Fi();return mr(o._dragStarted(n))})("dragEnded",function(n){fr(r);let o=Fi();return mr(o._dragEnded(n))}),Pt()}if(e&2){let r=Fi();Bb("activeDate",r.activeDate),ke("selected",r.selected)("dateFilter",r.dateFilter)("maxDate",r.maxDate)("minDate",r.minDate)("dateClass",r.dateClass)("comparisonStart",r.comparisonStart)("comparisonEnd",r.comparisonEnd)("startDateAccessibleName",r.startDateAccessibleName)("endDateAccessibleName",r.endDateAccessibleName)("activeDrag",r._activeDrag)}}function D3t(e,t){if(e&1){let r=Ho();Lt(0,"mat-year-view",5),Vb("activeDateChange",function(n){fr(r);let o=Fi();return jb(o.activeDate,n)||(o.activeDate=n),mr(n)}),fi("monthSelected",function(n){fr(r);let o=Fi();return mr(o._monthSelectedInYearView(n))})("selectedChange",function(n){fr(r);let o=Fi();return mr(o._goToDateInView(n,"month"))}),Pt()}if(e&2){let r=Fi();Bb("activeDate",r.activeDate),ke("selected",r.selected)("dateFilter",r.dateFilter)("maxDate",r.maxDate)("minDate",r.minDate)("dateClass",r.dateClass)}}function O3t(e,t){if(e&1){let r=Ho();Lt(0,"mat-multi-year-view",6),Vb("activeDateChange",function(n){fr(r);let o=Fi();return jb(o.activeDate,n)||(o.activeDate=n),mr(n)}),fi("yearSelected",function(n){fr(r);let o=Fi();return mr(o._yearSelectedInMultiYearView(n))})("selectedChange",function(n){fr(r);let o=Fi();return mr(o._goToDateInView(n,"year"))}),Pt()}if(e&2){let r=Fi();Bb("activeDate",r.activeDate),ke("selected",r.selected)("dateFilter",r.dateFilter)("maxDate",r.maxDate)("minDate",r.minDate)("dateClass",r.dateClass)}}function P3t(e,t){}var N3t=["button"],L3t=[[["","matDatepickerToggleIcon",""]]],F3t=["[matDatepickerToggleIcon]"];function H3t(e,t){e&1&&(Hu(),Lt(0,"svg",2),Be(1,"path",3),Pt())}var eR=(()=>{let t=class t{constructor(){this.changes=new Qe,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(i,n){return`${i} \u2013 ${n}`}formatYearRangeLabel(i,n){return`${i} to ${n}`}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),B3t=0,QE=class{constructor(t,r,i,n,o={},s=t,a){this.value=t,this.displayValue=r,this.ariaLabel=i,this.enabled=n,this.cssClasses=o,this.compareValue=s,this.rawValue=a,this.id=B3t++}},j3t=1,ant=dl({passive:!1,capture:!0}),Wp=dl({passive:!0,capture:!0}),uD=dl({passive:!0}),rw=(()=>{let t=class t{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(i,n){this._elementRef=i,this._ngZone=n,this._platform=pe(Hr),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new si,this.previewChange=new si,this.activeDateChange=new si,this.dragStarted=new si,this.dragEnded=new si,this._didDragSinceMouseDown=!1,this._injector=pe(mn),this._trackRow=o=>o,this._enterHandler=o=>{if(this._skipNextFocus&&o.type==="focus"){this._skipNextFocus=!1;return}if(o.target&&this.isRange){let s=this._getCellFromElement(o.target);s&&this._ngZone.run(()=>this.previewChange.emit({value:s.enabled?s:null,event:o}))}},this._touchmoveHandler=o=>{if(!this.isRange)return;let s=lnt(o),a=s?this._getCellFromElement(s):null;s!==o.target&&(this._didDragSinceMouseDown=!0),b9(o.target)&&o.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:a?.enabled?a:null,event:o}))},this._leaveHandler=o=>{this.previewEnd!==null&&this.isRange&&(o.type!=="blur"&&(this._didDragSinceMouseDown=!0),o.target&&this._getCellFromElement(o.target)&&!(o.relatedTarget&&this._getCellFromElement(o.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:o})))},this._mousedownHandler=o=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;let s=o.target&&this._getCellFromElement(o.target);!s||!this._isInRange(s.compareValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:s.rawValue,event:o})})},this._mouseupHandler=o=>{if(!this.isRange)return;let s=b9(o.target);if(!s){this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:o})});return}s.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{let a=this._getCellFromElement(s);this.dragEnded.emit({value:a?.rawValue??null,event:o})})},this._touchendHandler=o=>{let s=lnt(o);s&&this._mouseupHandler({target:s})},this._id=`mat-calendar-body-${j3t++}`,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,n.runOutsideAngular(()=>{let o=i.nativeElement;o.addEventListener("touchmove",this._touchmoveHandler,ant),o.addEventListener("mouseenter",this._enterHandler,Wp),o.addEventListener("focus",this._enterHandler,Wp),o.addEventListener("mouseleave",this._leaveHandler,Wp),o.addEventListener("blur",this._leaveHandler,Wp),o.addEventListener("mousedown",this._mousedownHandler,uD),o.addEventListener("touchstart",this._mousedownHandler,uD),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(i,n){this._didDragSinceMouseDown||i.enabled&&this.selectedValueChange.emit({value:i.value,event:n})}_emitActiveDateChange(i,n){i.enabled&&this.activeDateChange.emit({value:i.value,event:n})}_isSelected(i){return this.startValue===i||this.endValue===i}ngOnChanges(i){let n=i.numCols,{rows:o,numCols:s}=this;(i.rows||n)&&(this._firstRowOffset=o&&o.length&&o[0].length?s-o[0].length:0),(i.cellAspectRatio||n||!this._cellPadding)&&(this._cellPadding=`${50*this.cellAspectRatio/s}%`),(n||!this._cellWidth)&&(this._cellWidth=`${100/s}%`)}ngOnDestroy(){let i=this._elementRef.nativeElement;i.removeEventListener("touchmove",this._touchmoveHandler,ant),i.removeEventListener("mouseenter",this._enterHandler,Wp),i.removeEventListener("focus",this._enterHandler,Wp),i.removeEventListener("mouseleave",this._leaveHandler,Wp),i.removeEventListener("blur",this._leaveHandler,Wp),i.removeEventListener("mousedown",this._mousedownHandler,uD),i.removeEventListener("touchstart",this._mousedownHandler,uD),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(i,n){let o=i*this.numCols+n;return i&&(o-=this._firstRowOffset),o==this.activeCell}_focusActiveCell(i=!0){pa(()=>{setTimeout(()=>{let n=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");n&&(i||(this._skipNextFocus=!0),n.focus())})},{injector:this._injector})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(i){return v9(i,this.startValue,this.endValue)}_isRangeEnd(i){return y9(i,this.startValue,this.endValue)}_isInRange(i){return _9(i,this.startValue,this.endValue,this.isRange)}_isComparisonStart(i){return v9(i,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(i,n,o){if(!this._isComparisonStart(i)||this._isRangeStart(i)||!this._isInRange(i))return!1;let s=this.rows[n][o-1];if(!s){let a=this.rows[n-1];s=a&&a[a.length-1]}return s&&!this._isRangeEnd(s.compareValue)}_isComparisonBridgeEnd(i,n,o){if(!this._isComparisonEnd(i)||this._isRangeEnd(i)||!this._isInRange(i))return!1;let s=this.rows[n][o+1];if(!s){let a=this.rows[n+1];s=a&&a[0]}return s&&!this._isRangeStart(s.compareValue)}_isComparisonEnd(i){return y9(i,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(i){return _9(i,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(i){return this.comparisonStart===this.comparisonEnd&&i===this.comparisonStart}_isPreviewStart(i){return v9(i,this.previewStart,this.previewEnd)}_isPreviewEnd(i){return y9(i,this.previewStart,this.previewEnd)}_isInPreview(i){return _9(i,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(i){return this.isRange?this.startValue===i&&this.endValue===i?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===i?this._startDateLabelId:this.endValue===i?this._endDateLabelId:null:null}_getCellFromElement(i){let n=b9(i);if(n){let o=n.getAttribute("data-mat-row"),s=n.getAttribute("data-mat-col");if(o&&s)return this.rows[parseInt(o)][parseInt(s)]}return null}};t.\u0275fac=function(n){return new(n||t)(Dt(di),Dt(ci))},t.\u0275cmp=qe({type:t,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],standalone:!0,features:[er,ai],attrs:C3t,decls:7,vars:5,consts:[["aria-hidden","true"],["role","row"],[1,"mat-calendar-body-hidden-label",3,"id"],[1,"mat-calendar-body-label"],[1,"mat-calendar-body-label",3,"paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"click","focus","ngClass","tabindex"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(n,o){n&1&&(Ki(0,S3t,3,6,"tr",0),zw(1,T3t,4,1,"tr",1,x3t,!0),Lt(3,"span",2),ne(4),Pt(),Lt(5,"span",2),ne(6),Pt()),n&2&&(In(o._firstRowOffset<o.labelMinRequiredCells?0:-1),te(),Uw(o.rows),te(2),ke("id",o._startDateLabelId),te(),Cr(" ",o.startDateAccessibleName,`
`),te(),ke("id",o._endDateLabelId),te(),Cr(" ",o.endDateAccessibleName,`
`))},dependencies:[$w],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color, var(--mat-app-primary))}.mat-calendar-body-label{height:0;line-height:0;text-align:start;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size, var(--mat-app-title-small-size));font-weight:var(--mat-datepicker-calendar-body-label-text-weight, var(--mat-app-title-small-weight));color:var(--mat-datepicker-calendar-body-label-text-color, var(--mat-app-on-surface))}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-app-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-app-body-medium-size))}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color, var(--mat-app-primary))}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color)}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color, var(--mat-app-on-surface));border-color:var(--mat-datepicker-calendar-date-outline-color)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color)}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color)}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color, var(--mat-app-primary));color:var(--mat-datepicker-calendar-date-selected-state-text-color, var(--mat-app-on-primary))}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color)}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color, var(--mat-app-primary))}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-app-primary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container))}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-app-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container)) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-app-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container)) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color, var(--mat-app-secondary-container))}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color, var(--mat-app-secondary))}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}'],encapsulation:2,changeDetection:0});let e=t;return e})();function g9(e){return e?.nodeName==="TD"}function b9(e){let t;return g9(e)?t=e:g9(e.parentNode)?t=e.parentNode:g9(e.parentNode?.parentNode)&&(t=e.parentNode.parentNode),t?.getAttribute("data-mat-row")!=null?t:null}function v9(e,t,r){return r!==null&&t!==r&&e<r&&e===t}function y9(e,t,r){return t!==null&&t!==r&&e>=t&&e===r}function _9(e,t,r,i){return i&&t!==null&&r!==null&&t!==r&&e>=t&&e<=r}function lnt(e){let t=e.changedTouches[0];return document.elementFromPoint(t.clientX,t.clientY)}var id=class{constructor(t,r){this.start=t,this.end=r}},JE=(()=>{let t=class t{constructor(i,n){this.selection=i,this._adapter=n,this._selectionChanged=new Qe,this.selectionChanged=this._selectionChanged,this.selection=i}updateSelection(i,n){let o=this.selection;this.selection=i,this._selectionChanged.next({selection:i,source:n,oldValue:o})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(i){return this._adapter.isDateInstance(i)&&this._adapter.isValid(i)}};t.\u0275fac=function(n){ju()},t.\u0275prov=we({token:t,factory:t.\u0275fac});let e=t;return e})(),V3t=(()=>{let t=class t extends JE{constructor(i){super(null,i)}add(i){super.updateSelection(i,this)}isValid(){return this.selection!=null&&this._isValidDateInstance(this.selection)}isComplete(){return this.selection!=null}clone(){let i=new t(this._adapter);return i.updateSelection(this.selection,this),i}};t.\u0275fac=function(n){return new(n||t)(Jt(Os))},t.\u0275prov=we({token:t,factory:t.\u0275fac});let e=t;return e})();function z3t(e,t){return e||new V3t(t)}var pnt={provide:JE,deps:[[new am,new Eg,JE],Os],useFactory:z3t};var gnt=new Se("MAT_DATE_RANGE_SELECTION_STRATEGY");var w9=7,U3t=0,cnt=(()=>{let t=class t{get activeDate(){return this._activeDate}set activeDate(i){let n=this._activeDate,o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(o,this.minDate,this.maxDate),this._hasSameMonthAndYear(n,this._activeDate)||this._init()}get selected(){return this._selected}set selected(i){i instanceof id?this._selected=i:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(i){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get maxDate(){return this._maxDate}set maxDate(i){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}constructor(i,n,o,s,a){this._changeDetectorRef=i,this._dateFormats=n,this._dateAdapter=o,this._dir=s,this._rangeStrategy=a,this._rerenderSubscription=Ro.EMPTY,this.activeDrag=null,this.selectedChange=new si,this._userSelection=new si,this.dragStarted=new si,this.dragEnded=new si,this.activeDateChange=new si,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Ms(null)).subscribe(()=>this._init())}ngOnChanges(i){let n=i.comparisonStart||i.comparisonEnd;n&&!n.firstChange&&this._setRanges(this.selected),i.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(i){let n=i.value,o=this._getDateFromDayOfMonth(n),s,a;this._selected instanceof id?(s=this._getDateInCurrentMonth(this._selected.start),a=this._getDateInCurrentMonth(this._selected.end)):s=a=this._getDateInCurrentMonth(this._selected),(s!==n||a!==n)&&this.selectedChange.emit(o),this._userSelection.emit({value:o,event:i.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(i){let n=i.value,o=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(n),this._dateAdapter.compareDate(o,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(i){let n=this._activeDate,o=this._isRtl();switch(i.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,o?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,o?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=i.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=i.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:this._selectionKeyPressed=!0,this._canSelect(this._activeDate)&&i.preventDefault();return;case 27:this._previewEnd!=null&&!$l(i)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:i}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:i})),i.preventDefault(),i.stopPropagation());return;default:return}this._dateAdapter.compareDate(n,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),i.preventDefault()}_handleCalendarBodyKeyup(i){(i.keyCode===32||i.keyCode===13)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:i}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(w9+this._dateAdapter.getDayOfWeek(i)-this._dateAdapter.getFirstDayOfWeek())%w9,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(i){this._matCalendarBody._focusActiveCell(i)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:i,value:n}){if(this._rangeStrategy){let o=n?n.rawValue:null,s=this._rangeStrategy.createPreview(o,this.selected,i);if(this._previewStart=this._getCellCompareValue(s.start),this._previewEnd=this._getCellCompareValue(s.end),this.activeDrag&&o){let a=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,o,i);a&&(this._previewStart=this._getCellCompareValue(a.start),this._previewEnd=this._getCellCompareValue(a.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(i){if(this.activeDrag)if(i.value){let n=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,i.value,i.event);this.dragEnded.emit({value:n??null,event:i.event})}else this.dragEnded.emit({value:null,event:i.event})}_getDateFromDayOfMonth(i){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),i)}_initWeekdays(){let i=this._dateAdapter.getFirstDayOfWeek(),n=this._dateAdapter.getDayOfWeekNames("narrow"),s=this._dateAdapter.getDayOfWeekNames("long").map((a,l)=>({long:a,narrow:n[l],id:U3t++}));this._weekdays=s.slice(i).concat(s.slice(0,i))}_createWeekCells(){let i=this._dateAdapter.getNumDaysInMonth(this.activeDate),n=this._dateAdapter.getDateNames();this._weeks=[[]];for(let o=0,s=this._firstWeekOffset;o<i;o++,s++){s==w9&&(this._weeks.push([]),s=0);let a=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),o+1),l=this._shouldEnableDate(a),c=this._dateAdapter.format(a,this._dateFormats.display.dateA11yLabel),d=this.dateClass?this.dateClass(a,"month"):void 0;this._weeks[this._weeks.length-1].push(new QE(o+1,n[o],c,l,d,this._getCellCompareValue(a),a))}}_shouldEnableDate(i){return!!i&&(!this.minDate||this._dateAdapter.compareDate(i,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(i,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(i))}_getDateInCurrentMonth(i){return i&&this._hasSameMonthAndYear(i,this.activeDate)?this._dateAdapter.getDate(i):null}_hasSameMonthAndYear(i,n){return!!(i&&n&&this._dateAdapter.getMonth(i)==this._dateAdapter.getMonth(n)&&this._dateAdapter.getYear(i)==this._dateAdapter.getYear(n))}_getCellCompareValue(i){if(i){let n=this._dateAdapter.getYear(i),o=this._dateAdapter.getMonth(i),s=this._dateAdapter.getDate(i);return new Date(n,o,s).getTime()}return null}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setRanges(i){i instanceof id?(this._rangeStart=this._getCellCompareValue(i.start),this._rangeEnd=this._getCellCompareValue(i.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(i),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(i){return!this.dateFilter||this.dateFilter(i)}_clearPreview(){this._previewStart=this._previewEnd=null}};t.\u0275fac=function(n){return new(n||t)(Dt(cr),Dt(Gu,8),Dt(Os,8),Dt(Ds,8),Dt(gnt,8))},t.\u0275cmp=qe({type:t,selectors:[["mat-month-view"]],viewQuery:function(n,o){if(n&1&&or(rw,5),n&2){let s;Hi(s=Bi())&&(o._matCalendarBody=s.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],standalone:!0,features:[er,ai],decls:8,vars:14,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col"],["aria-hidden","true"],["colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown","label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName"],[1,"cdk-visually-hidden"]],template:function(n,o){n&1&&(Lt(0,"table",0)(1,"thead",1)(2,"tr"),zw(3,M3t,5,2,"th",2,mnt),Pt(),Lt(5,"tr",3),Be(6,"th",4),Pt()(),Lt(7,"tbody",5),fi("selectedValueChange",function(a){return o._dateSelected(a)})("activeDateChange",function(a){return o._updateActiveDate(a)})("previewChange",function(a){return o._previewChanged(a)})("dragStarted",function(a){return o.dragStarted.emit(a)})("dragEnded",function(a){return o._dragEnded(a)})("keyup",function(a){return o._handleCalendarBodyKeyup(a)})("keydown",function(a){return o._handleCalendarBodyKeydown(a)}),Pt()()),n&2&&(te(3),Uw(o._weekdays),te(4),ke("label",o._monthLabel)("rows",o._weeks)("todayValue",o._todayDate)("startValue",o._rangeStart)("endValue",o._rangeEnd)("comparisonStart",o._comparisonRangeStart)("comparisonEnd",o._comparisonRangeEnd)("previewStart",o._previewStart)("previewEnd",o._previewEnd)("isRange",o._isRange)("labelMinRequiredCells",3)("activeCell",o._dateAdapter.getDate(o.activeDate)-1)("startDateAccessibleName",o.startDateAccessibleName)("endDateAccessibleName",o.endDateAccessibleName))},dependencies:[rw],encapsulation:2,changeDetection:0});let e=t;return e})(),cc=24,C9=4,dnt=(()=>{let t=class t{get activeDate(){return this._activeDate}set activeDate(i){let n=this._activeDate,o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(o,this.minDate,this.maxDate),bnt(this._dateAdapter,n,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(i){i instanceof id?this._selected=i:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i)),this._setSelectedYear(i)}get minDate(){return this._minDate}set minDate(i){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get maxDate(){return this._maxDate}set maxDate(i){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}constructor(i,n,o){this._changeDetectorRef=i,this._dateAdapter=n,this._dir=o,this._rerenderSubscription=Ro.EMPTY,this.selectedChange=new si,this.yearSelected=new si,this.activeDateChange=new si,this._dateAdapter,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Ms(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());let n=this._dateAdapter.getYear(this._activeDate)-XE(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let o=0,s=[];o<cc;o++)s.push(n+o),s.length==C9&&(this._years.push(s.map(a=>this._createCellForYear(a))),s=[]);this._changeDetectorRef.markForCheck()}_yearSelected(i){let n=i.value,o=this._dateAdapter.createDate(n,0,1),s=this._getDateFromYear(n);this.yearSelected.emit(o),this.selectedChange.emit(s)}_updateActiveDate(i){let n=i.value,o=this._activeDate;this.activeDate=this._getDateFromYear(n),this._dateAdapter.compareDate(o,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(i){let n=this._activeDate,o=this._isRtl();switch(i.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,o?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,o?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-C9);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,C9);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-XE(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,cc-XE(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i.altKey?-cc*10:-cc);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i.altKey?cc*10:cc);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(n,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),i.preventDefault()}_handleCalendarBodyKeyup(i){(i.keyCode===32||i.keyCode===13)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:i}),this._selectionKeyPressed=!1)}_getActiveCell(){return XE(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(i){let n=this._dateAdapter.getMonth(this.activeDate),o=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(i,n,1));return this._dateAdapter.createDate(i,n,Math.min(this._dateAdapter.getDate(this.activeDate),o))}_createCellForYear(i){let n=this._dateAdapter.createDate(i,0,1),o=this._dateAdapter.getYearName(n),s=this.dateClass?this.dateClass(n,"multi-year"):void 0;return new QE(i,o,o,this._shouldEnableYear(i),s)}_shouldEnableYear(i){if(i==null||this.maxDate&&i>this._dateAdapter.getYear(this.maxDate)||this.minDate&&i<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;let n=this._dateAdapter.createDate(i,0,1);for(let o=n;this._dateAdapter.getYear(o)==i;o=this._dateAdapter.addCalendarDays(o,1))if(this.dateFilter(o))return!0;return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedYear(i){if(this._selectedYear=null,i instanceof id){let n=i.start||i.end;n&&(this._selectedYear=this._dateAdapter.getYear(n))}else i&&(this._selectedYear=this._dateAdapter.getYear(i))}};t.\u0275fac=function(n){return new(n||t)(Dt(cr),Dt(Os,8),Dt(Ds,8))},t.\u0275cmp=qe({type:t,selectors:[["mat-multi-year-view"]],viewQuery:function(n,o){if(n&1&&or(rw,5),n&2){let s;Hi(s=Bi())&&(o._matCalendarBody=s.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],standalone:!0,features:[ai],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell"]],template:function(n,o){n&1&&(Lt(0,"table",0)(1,"thead",1)(2,"tr"),Be(3,"th",2),Pt()(),Lt(4,"tbody",3),fi("selectedValueChange",function(a){return o._yearSelected(a)})("activeDateChange",function(a){return o._updateActiveDate(a)})("keyup",function(a){return o._handleCalendarBodyKeyup(a)})("keydown",function(a){return o._handleCalendarBodyKeydown(a)}),Pt()()),n&2&&(te(4),ke("rows",o._years)("todayValue",o._todayYear)("startValue",o._selectedYear)("endValue",o._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",o._getActiveCell()))},dependencies:[rw],encapsulation:2,changeDetection:0});let e=t;return e})();function bnt(e,t,r,i,n){let o=e.getYear(t),s=e.getYear(r),a=vnt(e,i,n);return Math.floor((o-a)/cc)===Math.floor((s-a)/cc)}function XE(e,t,r,i){let n=e.getYear(t);return W3t(n-vnt(e,r,i),cc)}function vnt(e,t,r){let i=0;return r?i=e.getYear(r)-cc+1:t&&(i=e.getYear(t)),i}function W3t(e,t){return(e%t+t)%t}var hnt=(()=>{let t=class t{get activeDate(){return this._activeDate}set activeDate(i){let n=this._activeDate,o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(o,this.minDate,this.maxDate),this._dateAdapter.getYear(n)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(i){i instanceof id?this._selected=i:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i)),this._setSelectedMonth(i)}get minDate(){return this._minDate}set minDate(i){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get maxDate(){return this._maxDate}set maxDate(i){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}constructor(i,n,o,s){this._changeDetectorRef=i,this._dateFormats=n,this._dateAdapter=o,this._dir=s,this._rerenderSubscription=Ro.EMPTY,this.selectedChange=new si,this.monthSelected=new si,this.activeDateChange=new si,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Ms(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(i){let n=i.value,o=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),n,1);this.monthSelected.emit(o);let s=this._getDateFromMonth(n);this.selectedChange.emit(s)}_updateActiveDate(i){let n=i.value,o=this._activeDate;this.activeDate=this._getDateFromMonth(n),this._dateAdapter.compareDate(o,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(i){let n=this._activeDate,o=this._isRtl();switch(i.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,o?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,o?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(n,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),i.preventDefault()}_handleCalendarBodyKeyup(i){(i.keyCode===32||i.keyCode===13)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:i}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let i=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(n=>n.map(o=>this._createCellForMonth(o,i[o]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(i){return i&&this._dateAdapter.getYear(i)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(i):null}_getDateFromMonth(i){let n=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1),o=this._dateAdapter.getNumDaysInMonth(n);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,Math.min(this._dateAdapter.getDate(this.activeDate),o))}_createCellForMonth(i,n){let o=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1),s=this._dateAdapter.format(o,this._dateFormats.display.monthYearA11yLabel),a=this.dateClass?this.dateClass(o,"year"):void 0;return new QE(i,n.toLocaleUpperCase(),s,this._shouldEnableMonth(i),a)}_shouldEnableMonth(i){let n=this._dateAdapter.getYear(this.activeDate);if(i==null||this._isYearAndMonthAfterMaxDate(n,i)||this._isYearAndMonthBeforeMinDate(n,i))return!1;if(!this.dateFilter)return!0;let o=this._dateAdapter.createDate(n,i,1);for(let s=o;this._dateAdapter.getMonth(s)==i;s=this._dateAdapter.addCalendarDays(s,1))if(this.dateFilter(s))return!0;return!1}_isYearAndMonthAfterMaxDate(i,n){if(this.maxDate){let o=this._dateAdapter.getYear(this.maxDate),s=this._dateAdapter.getMonth(this.maxDate);return i>o||i===o&&n>s}return!1}_isYearAndMonthBeforeMinDate(i,n){if(this.minDate){let o=this._dateAdapter.getYear(this.minDate),s=this._dateAdapter.getMonth(this.minDate);return i<o||i===o&&n<s}return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedMonth(i){i instanceof id?this._selectedMonth=this._getMonthInCurrentYear(i.start)||this._getMonthInCurrentYear(i.end):this._selectedMonth=this._getMonthInCurrentYear(i)}};t.\u0275fac=function(n){return new(n||t)(Dt(cr),Dt(Gu,8),Dt(Os,8),Dt(Ds,8))},t.\u0275cmp=qe({type:t,selectors:[["mat-year-view"]],viewQuery:function(n,o){if(n&1&&or(rw,5),n&2){let s;Hi(s=Bi())&&(o._matCalendarBody=s.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],standalone:!0,features:[ai],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell"]],template:function(n,o){n&1&&(Lt(0,"table",0)(1,"thead",1)(2,"tr"),Be(3,"th",2),Pt()(),Lt(4,"tbody",3),fi("selectedValueChange",function(a){return o._monthSelected(a)})("activeDateChange",function(a){return o._updateActiveDate(a)})("keyup",function(a){return o._handleCalendarBodyKeyup(a)})("keydown",function(a){return o._handleCalendarBodyKeydown(a)}),Pt()()),n&2&&(te(4),ke("label",o._yearLabel)("rows",o._months)("todayValue",o._todayMonth)("startValue",o._selectedMonth)("endValue",o._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",o._dateAdapter.getMonth(o.activeDate)))},dependencies:[rw],encapsulation:2,changeDetection:0});let e=t;return e})(),Y3t=1,ynt=(()=>{let t=class t{constructor(i,n,o,s,a){this._intl=i,this.calendar=n,this._dateAdapter=o,this._dateFormats=s,this._id=`mat-calendar-header-${Y3t++}`,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>a.markForCheck())}get periodButtonText(){return this.calendar.currentView=="month"?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():this.calendar.currentView=="year"?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return this.calendar.currentView=="month"?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():this.calendar.currentView=="year"?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return this.calendar.currentView=="month"?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView=this.calendar.currentView=="month"?"multi-year":"month"}previousClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?-1:-cc)}nextClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?1:cc)}previousEnabled(){return this.calendar.minDate?!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate):!0}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(i,n){return this.calendar.currentView=="month"?this._dateAdapter.getYear(i)==this._dateAdapter.getYear(n)&&this._dateAdapter.getMonth(i)==this._dateAdapter.getMonth(n):this.calendar.currentView=="year"?this._dateAdapter.getYear(i)==this._dateAdapter.getYear(n):bnt(this._dateAdapter,i,n,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){let n=this._dateAdapter.getYear(this.calendar.activeDate)-XE(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),o=n+cc-1,s=this._dateAdapter.getYearName(this._dateAdapter.createDate(n,0,1)),a=this._dateAdapter.getYearName(this._dateAdapter.createDate(o,0,1));return[s,a]}};t.\u0275fac=function(n){return new(n||t)(Dt(eR),Dt(jl(()=>x9)),Dt(Os,8),Dt(Gu,8),Dt(cr))},t.\u0275cmp=qe({type:t,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],standalone:!0,features:[ai],ngContentSelectors:A3t,decls:13,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["aria-live","polite",1,"cdk-visually-hidden",3,"id"],["mat-button","","type","button",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"click","disabled"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"click","disabled"]],template:function(n,o){n&1&&(pn(),Lt(0,"div",0)(1,"div",1)(2,"span",2),ne(3),Pt(),Lt(4,"button",3),fi("click",function(){return o.currentPeriodClicked()}),Lt(5,"span",4),ne(6),Pt(),Hu(),Lt(7,"svg",5),Be(8,"polygon",6),Pt()(),Nb(),Be(9,"div",7),ir(10),Lt(11,"button",8),fi("click",function(){return o.previousClicked()}),Pt(),Lt(12,"button",9),fi("click",function(){return o.nextClicked()}),Pt()()()),n&2&&(te(2),ke("id",o._periodButtonLabelId),te(),ho(o.periodButtonDescription),te(),Yi("aria-label",o.periodButtonLabel)("aria-describedby",o._periodButtonLabelId),te(2),ho(o.periodButtonText),te(),Vi("mat-calendar-invert",o.calendar.currentView!=="month"),te(4),ke("disabled",!o.previousEnabled()),Yi("aria-label",o.prevButtonLabel),te(),ke("disabled",!o.nextEnabled()),Yi("aria-label",o.nextButtonLabel))},dependencies:[Cd,mC],encapsulation:2,changeDetection:0});let e=t;return e})(),x9=(()=>{let t=class t{get startAt(){return this._startAt}set startAt(i){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get selected(){return this._selected}set selected(i){i instanceof id?this._selected=i:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get minDate(){return this._minDate}set minDate(i){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get maxDate(){return this._maxDate}set maxDate(i){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get activeDate(){return this._clampedActiveDate}set activeDate(i){this._clampedActiveDate=this._dateAdapter.clampDate(i,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(i){let n=this._currentView!==i?i:null;this._currentView=i,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),n&&this.viewChanged.emit(n)}constructor(i,n,o,s){this._dateAdapter=n,this._dateFormats=o,this._changeDetectorRef=s,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new si,this.yearSelected=new si,this.monthSelected=new si,this.viewChanged=new si(!0),this._userSelection=new si,this._userDragDrop=new si,this._activeDrag=null,this.stateChanges=new Qe,this._intlChanges=i.changes.subscribe(()=>{s.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new yd(this.headerComponent||ynt),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(i){let n=i.minDate&&!this._dateAdapter.sameDate(i.minDate.previousValue,i.minDate.currentValue)?i.minDate:void 0,o=i.maxDate&&!this._dateAdapter.sameDate(i.maxDate.previousValue,i.maxDate.currentValue)?i.maxDate:void 0,s=n||o||i.dateFilter;if(s&&!s.firstChange){let a=this._getCurrentViewComponent();a&&(this._moveFocusOnNextTick=!0,this._changeDetectorRef.detectChanges(),a._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(i){let n=i.value;(this.selected instanceof id||n&&!this._dateAdapter.sameDate(n,this.selected))&&this.selectedChange.emit(n),this._userSelection.emit(i)}_yearSelectedInMultiYearView(i){this.yearSelected.emit(i)}_monthSelectedInYearView(i){this.monthSelected.emit(i)}_goToDateInView(i,n){this.activeDate=i,this.currentView=n}_dragStarted(i){this._activeDrag=i}_dragEnded(i){this._activeDrag&&(i.value&&this._userDragDrop.emit(i),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}};t.\u0275fac=function(n){return new(n||t)(Dt(eR),Dt(Os,8),Dt(Gu,8),Dt(cr))},t.\u0275cmp=qe({type:t,selectors:[["mat-calendar"]],viewQuery:function(n,o){if(n&1&&(or(cnt,5),or(hnt,5),or(dnt,5)),n&2){let s;Hi(s=Bi())&&(o.monthView=s.first),Hi(s=Bi())&&(o.yearView=s.first),Hi(s=Bi())&&(o.multiYearView=s.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],standalone:!0,features:[xr([pnt]),er,ai],decls:5,vars:2,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","_userSelection","dragStarted","dragEnded","activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDateChange","monthSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","yearSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"]],template:function(n,o){if(n&1&&(Ki(0,I3t,0,0,"ng-template",0),Lt(1,"div",1),Ki(2,k3t,1,11,"mat-month-view",2)(3,D3t,1,6,"mat-year-view",3)(4,O3t,1,6,"mat-multi-year-view",3),Pt()),n&2){let s;ke("cdkPortalOutlet",o._calendarHeaderPortal),te(2),In((s=o.currentView)==="month"?2:s==="year"?3:s==="multi-year"?4:-1)}},dependencies:[ym,hV,cnt,hnt,dnt],styles:['.mat-calendar{display:block;line-height:normal;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-app-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-app-body-medium-size))}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size, var(--mat-app-title-small-size));font-weight:var(--mat-datepicker-calendar-period-button-text-weight, var(--mat-app-title-small-weight));--mdc-text-button-label-text-color:var(--mat-datepicker-calendar-period-button-text-color, var(--mat-app-on-surface-variant))}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color, var(--mat-app-on-surface-variant))}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-datepicker-content .mat-calendar-previous-button:not(.mat-mdc-button-disabled),.mat-datepicker-content .mat-calendar-next-button:not(.mat-mdc-button-disabled){color:var(--mat-datepicker-calendar-navigation-button-icon-color, var(--mat-app-on-surface-variant))}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color, var(--mat-app-on-surface-variant));font-size:var(--mat-datepicker-calendar-header-text-size, var(--mat-app-title-small-size));font-weight:var(--mat-datepicker-calendar-header-text-weight, var(--mat-app-title-small-weight))}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0});let e=t;return e})(),unt={transformPanel:cm("transformPanel",[bd("void => enter-dropdown",gd("120ms cubic-bezier(0, 0, 0.2, 1)",IO([ea({opacity:0,transform:"scale(1, 0.8)"}),ea({opacity:1,transform:"scale(1, 1)"})]))),bd("void => enter-dialog",gd("150ms cubic-bezier(0, 0, 0.2, 1)",IO([ea({opacity:0,transform:"scale(0.7)"}),ea({transform:"none",opacity:1})]))),bd("* => void",gd("100ms linear",ea({opacity:0})))]),fadeInCalendar:cm("fadeInCalendar",[dm("void",ea({opacity:0})),dm("enter",ea({opacity:1})),bd("void => *",gd("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])},$3t=0,_nt=new Se("mat-datepicker-scroll-strategy",{providedIn:"root",factory:()=>{let e=pe(bn);return()=>e.scrollStrategies.reposition()}});function q3t(e){return()=>e.scrollStrategies.reposition()}var G3t={provide:_nt,deps:[bn],useFactory:q3t},wnt=(()=>{let t=class t{constructor(i,n,o,s,a,l){this._elementRef=i,this._changeDetectorRef=n,this._globalModel=o,this._dateAdapter=s,this._rangeSelectionStrategy=a,this._subscriptions=new Ro,this._animationDone=new Qe,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=l.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(i){let n=this._model.selection,o=i.value,s=n instanceof id;if(s&&this._rangeSelectionStrategy){let a=this._rangeSelectionStrategy.selectionFinished(o,n,i.event);this._model.updateSelection(a,this)}else o&&(s||!this._dateAdapter.sameDate(o,n))&&this._model.add(o);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(i){this._model.updateSelection(i.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(i){this._isAnimating=i.phaseName==="start",this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(i,n){this._model=i?this._globalModel.clone():this._globalModel,this._actionsPortal=i,n&&this._changeDetectorRef.detectChanges()}};t.\u0275fac=function(n){return new(n||t)(Dt(di),Dt(cr),Dt(JE),Dt(Os),Dt(gnt,8),Dt(eR))},t.\u0275cmp=qe({type:t,selectors:[["mat-datepicker-content"]],viewQuery:function(n,o){if(n&1&&or(x9,5),n&2){let s;Hi(s=Bi())&&(o._calendar=s.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:5,hostBindings:function(n,o){n&1&&sB("@transformPanel.start",function(a){return o._handleAnimationEvent(a)})("@transformPanel.done",function(a){return o._handleAnimationEvent(a)}),n&2&&(oB("@transformPanel",o._animationState),ta(o.color?"mat-"+o.color:""),Vi("mat-datepicker-content-touch",o.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],standalone:!0,features:[ai],decls:5,vars:27,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop","id","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"focus","blur","click","color"]],template:function(n,o){if(n&1&&(Lt(0,"div",0)(1,"mat-calendar",1),fi("yearSelected",function(a){return o.datepicker._selectYear(a)})("monthSelected",function(a){return o.datepicker._selectMonth(a)})("viewChanged",function(a){return o.datepicker._viewChanged(a)})("_userSelection",function(a){return o._handleUserSelection(a)})("_userDragDrop",function(a){return o._handleUserDragDrop(a)}),Pt(),Ki(2,P3t,0,0,"ng-template",2),Lt(3,"button",3),fi("focus",function(){return o._closeButtonFocused=!0})("blur",function(){return o._closeButtonFocused=!1})("click",function(){return o.datepicker.close()}),ne(4),Pt()()),n&2){let s;Vi("mat-datepicker-content-container-with-custom-header",o.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",o._actionsPortal),Yi("aria-modal",!0)("aria-labelledby",(s=o._dialogLabelId)!==null&&s!==void 0?s:void 0),te(),ta(o.datepicker.panelClass),ke("id",o.datepicker.id)("startAt",o.datepicker.startAt)("startView",o.datepicker.startView)("minDate",o.datepicker._getMinDate())("maxDate",o.datepicker._getMaxDate())("dateFilter",o.datepicker._getDateFilter())("headerComponent",o.datepicker.calendarHeaderComponent)("selected",o._getSelected())("dateClass",o.datepicker.dateClass)("comparisonStart",o.comparisonStart)("comparisonEnd",o.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",o.startDateAccessibleName)("endDateAccessibleName",o.endDateAccessibleName),te(),ke("cdkPortalOutlet",o._actionsPortal),te(),Vi("cdk-visually-hidden",!o._closeButtonFocused),ke("color",o.color||"primary"),te(),ho(o._closeButtonText)}},dependencies:[lV,x9,ym,Cd],styles:[".mat-datepicker-content{display:block;border-radius:4px;background-color:var(--mat-datepicker-calendar-container-background-color, var(--mat-app-surface-container-high));color:var(--mat-datepicker-calendar-container-text-color, var(--mat-app-on-surface));box-shadow:var(--mat-datepicker-calendar-container-elevation-shadow);border-radius:var(--mat-datepicker-calendar-container-shape, var(--mat-app-corner-large))}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;box-shadow:var(--mat-datepicker-calendar-container-touch-elevation-shadow);border-radius:var(--mat-datepicker-calendar-container-touch-shape, var(--mat-app-corner-extra-large));position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[unt.transformPanel,unt.fadeInCalendar]},changeDetection:0});let e=t;return e})(),fnt=(()=>{let t=class t{get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(i){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(i){this._color=i}get disabled(){return this._disabled===void 0&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(i){i!==this._disabled&&(this._disabled=i,this.stateChanges.next(void 0))}get panelClass(){return this._panelClass}set panelClass(i){this._panelClass=Kj(i)}get opened(){return this._opened}set opened(i){i?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}constructor(i,n,o,s,a,l,c){this._overlay=i,this._viewContainerRef=o,this._dateAdapter=a,this._dir=l,this._model=c,this._inputStateChanges=Ro.EMPTY,this._document=pe(Ai),this.startView="month",this.touchUi=!1,this.xPosition="start",this.yPosition="below",this.restoreFocus=!0,this.yearSelected=new si,this.monthSelected=new si,this.viewChanged=new si(!0),this.openedStream=new si,this.closedStream=new si,this._opened=!1,this.id=`mat-datepicker-${$3t++}`,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new Qe,this._injector=pe(mn),this._changeDetectorRef=pe(cr),this._dateAdapter,this._scrollStrategy=s,this._model.selectionChanged.subscribe(()=>{this._changeDetectorRef.markForCheck()})}ngOnChanges(i){let n=i.xPosition||i.yPosition;if(n&&!n.firstChange&&this._overlayRef){let o=this._overlayRef.getConfig().positionStrategy;o instanceof V1&&(this._setConnectedPositions(o),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(i){this._model.add(i)}_selectYear(i){this.yearSelected.emit(i)}_selectMonth(i){this.monthSelected.emit(i)}_viewChanged(i){this.viewChanged.emit(i)}registerInput(i){return this.datepickerInput,this._inputStateChanges.unsubscribe(),this.datepickerInput=i,this._inputStateChanges=i.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(i){this._actionsPortal,this._actionsPortal=i,this._componentRef?.instance._assignActions(i,!0)}removeActions(i){i===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this.datepickerInput,this._focusedElementBeforeOpen=bm(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;let i=this.restoreFocus&&this._focusedElementBeforeOpen&&typeof this._focusedElementBeforeOpen.focus=="function",n=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){let{instance:o,location:s}=this._componentRef;o._startExitAnimation(),o._animationDone.pipe(to(1)).subscribe(()=>{let a=this._document.activeElement;i&&(!a||a===this._document.activeElement||s.nativeElement.contains(a))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}i?setTimeout(n):n()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(i){i.datepicker=this,i.color=this.color,i._dialogLabelId=this.datepickerInput.getOverlayLabelId(),i._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();let i=this.touchUi,n=new yd(wnt,this._viewContainerRef),o=this._overlayRef=this._overlay.create(new Ku({positionStrategy:i?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[i?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:i?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:`mat-datepicker-${i?"dialog":"popup"}`}));this._getCloseStream(o).subscribe(s=>{s&&s.preventDefault(),this.close()}),o.keydownEvents().subscribe(s=>{let a=s.keyCode;(a===38||a===40||a===37||a===39||a===33||a===34)&&s.preventDefault()}),this._componentRef=o.attach(n),this._forwardContentValues(this._componentRef.instance),i||pa(()=>{o.updatePosition()},{injector:this._injector})}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){let i=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(i)}_setConnectedPositions(i){let n=this.xPosition==="end"?"end":"start",o=n==="start"?"end":"start",s=this.yPosition==="above"?"bottom":"top",a=s==="top"?"bottom":"top";return i.withPositions([{originX:n,originY:a,overlayX:n,overlayY:s},{originX:n,originY:s,overlayX:n,overlayY:a},{originX:o,originY:a,overlayX:o,overlayY:s},{originX:o,originY:s,overlayX:o,overlayY:a}])}_getCloseStream(i){let n=["ctrlKey","shiftKey","metaKey"];return Bl(i.backdropClick(),i.detachments(),i.keydownEvents().pipe(co(o=>o.keyCode===27&&!$l(o)||this.datepickerInput&&$l(o,"altKey")&&o.keyCode===38&&n.every(s=>!$l(o,s)))))}};t.\u0275fac=function(n){return new(n||t)(Dt(bn),Dt(ci),Dt(gs),Dt(_nt),Dt(Os,8),Dt(Ds,8),Dt(JE))},t.\u0275dir=ri({type:t,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:[2,"touchUi","touchUi",Sr],disabled:[2,"disabled","disabled",Sr],xPosition:"xPosition",yPosition:"yPosition",restoreFocus:[2,"restoreFocus","restoreFocus",Sr],dateClass:"dateClass",panelClass:"panelClass",opened:[2,"opened","opened",Sr]},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[Fr,er]});let e=t;return e})(),Cnt=(()=>{let t=class t extends fnt{};t.\u0275fac=(()=>{let i;return function(o){return(i||(i=As(t)))(o||t)}})(),t.\u0275cmp=qe({type:t,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],standalone:!0,features:[xr([pnt,{provide:fnt,useExisting:t}]),$r,ai],decls:0,vars:0,template:function(n,o){},encapsulation:2,changeDetection:0});let e=t;return e})(),tw=class{constructor(t,r){this.target=t,this.targetElement=r,this.value=this.target.value}},K3t=(()=>{let t=class t{get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(i){this._assignValueProgrammatically(i)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(i){let n=i,o=this._elementRef.nativeElement;this._disabled!==n&&(this._disabled=n,this.stateChanges.next(void 0)),n&&this._isInitialized&&o.blur&&o.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(i){this._model=i,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(n=>{if(this._shouldHandleChangeEvent(n)){let o=this._getValueFromModel(n.selection);this._lastValueValid=this._isValidValue(o),this._cvaOnChange(o),this._onTouched(),this._formatValue(o),this.dateInput.emit(new tw(this,this._elementRef.nativeElement)),this.dateChange.emit(new tw(this,this._elementRef.nativeElement))}})}constructor(i,n,o){this._elementRef=i,this._dateAdapter=n,this._dateFormats=o,this.dateChange=new si,this.dateInput=new si,this.stateChanges=new Qe,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=Ro.EMPTY,this._localeSubscription=Ro.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=s=>{let a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value));return!a||this._matchesFilter(a)?null:{matDatepickerFilter:!0}},this._minValidator=s=>{let a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),l=this._getMinDate();return!l||!a||this._dateAdapter.compareDate(l,a)<=0?null:{matDatepickerMin:{min:l,actual:a}}},this._maxValidator=s=>{let a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),l=this._getMaxDate();return!l||!a||this._dateAdapter.compareDate(l,a)>=0?null:{matDatepickerMax:{max:l,actual:a}}},this._lastValueValid=!1,this._localeSubscription=n.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(i){X3t(i,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(i){this._validatorOnChange=i}validate(i){return this._validator?this._validator(i):null}writeValue(i){this._assignValueProgrammatically(i)}registerOnChange(i){this._cvaOnChange=i}registerOnTouched(i){this._onTouched=i}setDisabledState(i){this.disabled=i}_onKeydown(i){let n=["ctrlKey","shiftKey","metaKey"];$l(i,"altKey")&&i.keyCode===40&&n.every(s=>!$l(i,s))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),i.preventDefault())}_onInput(i){let n=this._lastValueValid,o=this._dateAdapter.parse(i,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(o),o=this._dateAdapter.getValidDateOrNull(o);let s=!this._dateAdapter.sameDate(o,this.value);!o||s?this._cvaOnChange(o):(i&&!this.value&&this._cvaOnChange(o),n!==this._lastValueValid&&this._validatorOnChange()),s&&(this._assignValue(o),this.dateInput.emit(new tw(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new tw(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(i){this._elementRef.nativeElement.value=i!=null?this._dateAdapter.format(i,this._dateFormats.display.dateInput):""}_assignValue(i){this._model?(this._assignValueToModel(i),this._pendingValue=null):this._pendingValue=i}_isValidValue(i){return!i||this._dateAdapter.isValid(i)}_parentDisabled(){return!1}_assignValueProgrammatically(i){i=this._dateAdapter.deserialize(i),this._lastValueValid=this._isValidValue(i),i=this._dateAdapter.getValidDateOrNull(i),this._assignValue(i),this._formatValue(i)}_matchesFilter(i){let n=this._getDateFilter();return!n||n(i)}};t.\u0275fac=function(n){return new(n||t)(Dt(di),Dt(Os,8),Dt(Gu,8))},t.\u0275dir=ri({type:t,inputs:{value:"value",disabled:[2,"disabled","disabled",Sr]},outputs:{dateChange:"dateChange",dateInput:"dateInput"},standalone:!0,features:[Fr,er]});let e=t;return e})();function X3t(e,t){let r=Object.keys(e);for(let i of r){let{previousValue:n,currentValue:o}=e[i];if(t.isDateInstance(n)&&t.isDateInstance(o)){if(!t.sameDate(n,o))return!0}else return!0}return!1}var Z3t={provide:Bg,useExisting:jl(()=>bD),multi:!0},Q3t={provide:xm,useExisting:jl(()=>bD),multi:!0},bD=(()=>{let t=class t extends K3t{set matDatepicker(i){i&&(this._datepicker=i,this._ariaOwns.set(i.opened?i.id:null),this._closedSubscription=i.closedStream.subscribe(()=>{this._onTouched(),this._ariaOwns.set(null)}),this._openedSubscription=i.openedStream.subscribe(()=>{this._ariaOwns.set(i.id)}),this._registerModel(i.registerInput(this)))}get min(){return this._min}set min(i){let n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i));this._dateAdapter.sameDate(n,this._min)||(this._min=n,this._validatorOnChange())}get max(){return this._max}set max(i){let n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i));this._dateAdapter.sameDate(n,this._max)||(this._max=n,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(i){let n=this._matchesFilter(this.value);this._dateFilter=i,this._matchesFilter(this.value)!==n&&this._validatorOnChange()}constructor(i,n,o,s){super(i,n,o),this._formField=s,this._closedSubscription=Ro.EMPTY,this._openedSubscription=Ro.EMPTY,this._ariaOwns=Vw(null),this._validator=mv.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe(),this._openedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(i){return i}_assignValueToModel(i){this._model&&this._model.updateSelection(i,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(i){return i.source!==this}};t.\u0275fac=function(n){return new(n||t)(Dt(di),Dt(Os,8),Dt(Gu,8),Dt(yv,8))},t.\u0275dir=ri({type:t,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(n,o){n&1&&fi("input",function(a){return o._onInput(a.target.value)})("change",function(){return o._onChange()})("blur",function(){return o._onBlur()})("keydown",function(a){return o._onKeydown(a)}),n&2&&(ja("disabled",o.disabled),Yi("aria-haspopup",o._datepicker?"dialog":null)("aria-owns",o._ariaOwns())("min",o.min?o._dateAdapter.toIso8601(o.min):null)("max",o.max?o._dateAdapter.toIso8601(o.max):null)("data-mat-calendar",o._datepicker?o._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:[0,"matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],standalone:!0,features:[xr([Z3t,Q3t,{provide:S4,useExisting:t}]),$r]});let e=t;return e})(),R9=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=ri({type:t,selectors:[["","matDatepickerToggleIcon",""]],standalone:!0});let e=t;return e})(),T9=(()=>{let t=class t{get disabled(){return this._disabled===void 0&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(i){this._disabled=i}constructor(i,n,o){this._intl=i,this._changeDetectorRef=n,this._stateChanges=Ro.EMPTY;let s=Number(o);this.tabIndex=s||s===0?s:null}ngOnChanges(i){i.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(i){this.datepicker&&!this.disabled&&(this.datepicker.open(),i.stopPropagation())}_watchStateChanges(){let i=this.datepicker?this.datepicker.stateChanges:Me(),n=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:Me(),o=this.datepicker?Bl(this.datepicker.openedStream,this.datepicker.closedStream):Me();this._stateChanges.unsubscribe(),this._stateChanges=Bl(this._intl.changes,i,n,o).subscribe(()=>this._changeDetectorRef.markForCheck())}};t.\u0275fac=function(n){return new(n||t)(Dt(eR),Dt(cr),zl("tabindex"))},t.\u0275cmp=qe({type:t,selectors:[["mat-datepicker-toggle"]],contentQueries:function(n,o,s){if(n&1&&Is(s,R9,5),n&2){let a;Hi(a=Bi())&&(o._customIcon=a.first)}},viewQuery:function(n,o){if(n&1&&or(N3t,5),n&2){let s;Hi(s=Bi())&&(o._button=s.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(n,o){n&1&&fi("click",function(a){return o._open(a)}),n&2&&(Yi("tabindex",null)("data-mat-calendar",o.datepicker?o.datepicker.id:null),Vi("mat-datepicker-toggle-active",o.datepicker&&o.datepicker.opened)("mat-accent",o.datepicker&&o.datepicker.color==="accent")("mat-warn",o.datepicker&&o.datepicker.color==="warn"))},inputs:{datepicker:[0,"for","datepicker"],tabIndex:"tabIndex",ariaLabel:[0,"aria-label","ariaLabel"],disabled:[2,"disabled","disabled",Sr],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],standalone:!0,features:[Fr,er,ai],ngContentSelectors:F3t,decls:4,vars:6,consts:[["button",""],["mat-icon-button","","type","button",3,"disabled","disableRipple"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(n,o){n&1&&(pn(L3t),Lt(0,"button",1,0),Ki(2,H3t,2,0,":svg:svg",2),ir(3),Pt()),n&2&&(ke("disabled",o.disabled)("disableRipple",o.disableRipple),Yi("aria-haspopup",o.datepicker?"dialog":null)("aria-label",o.ariaLabel||o._intl.openCalendarLabel)("tabindex",o.disabled?-1:o.tabIndex),te(2),In(o._customIcon?-1:2))},dependencies:[mC],styles:[".mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color, var(--mat-app-on-surface-variant))}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color, var(--mat-app-on-surface-variant))}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0});let e=t;return e})();var xnt=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ze({type:t}),t.\u0275inj=Ve({providers:[eR,G3t],imports:[qn,Lh,Rc,kT,hv,Si,wnt,T9,ynt,Sc]});let e=t;return e})();var Snt=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ze({type:t}),t.\u0275inj=Ve({imports:[qn,Si]});let e=t;return e})();function t4t(e,t){e&1&&Be(0,"div",2)}var e4t=new Se("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");var vD=(()=>{let t=class t{constructor(i,n,o,s,a){this._elementRef=i,this._ngZone=n,this._changeDetectorRef=o,this._animationMode=s,this._isNoopAnimation=!1,this._defaultColor="primary",this._value=0,this._bufferValue=0,this.animationEnd=new si,this._mode="determinate",this._transitionendHandler=l=>{this.animationEnd.observers.length===0||!l.target||!l.target.classList.contains("mdc-linear-progress__primary-bar")||(this.mode==="determinate"||this.mode==="buffer")&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))},this._isNoopAnimation=s==="NoopAnimations",a&&(a.color&&(this.color=this._defaultColor=a.color),this.mode=a.mode||this.mode)}get color(){return this._color||this._defaultColor}set color(i){this._color=i}get value(){return this._value}set value(i){this._value=Ent(i||0),this._changeDetectorRef.markForCheck()}get bufferValue(){return this._bufferValue||0}set bufferValue(i){this._bufferValue=Ent(i||0),this._changeDetectorRef.markForCheck()}get mode(){return this._mode}set mode(i){this._mode=i,this._changeDetectorRef.markForCheck()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("transitionend",this._transitionendHandler)})}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._transitionendHandler)}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${this.mode==="buffer"?this.bufferValue:100}%`}_isIndeterminate(){return this.mode==="indeterminate"||this.mode==="query"}};t.\u0275fac=function(n){return new(n||t)(Dt(di),Dt(ci),Dt(cr),Dt(Fo,8),Dt(e4t,8))},t.\u0275cmp=qe({type:t,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(n,o){n&2&&(Yi("aria-valuenow",o._isIndeterminate()?null:o.value)("mode",o.mode),ta("mat-"+o.color),Vi("_mat-animation-noopable",o._isNoopAnimation)("mdc-linear-progress--animation-ready",!o._isNoopAnimation)("mdc-linear-progress--indeterminate",o._isIndeterminate()))},inputs:{color:"color",value:[2,"value","value",za],bufferValue:[2,"bufferValue","bufferValue",za],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],standalone:!0,features:[Fr,ai],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(n,o){n&1&&(Lt(0,"div",0),Be(1,"div",1),Ki(2,t4t,1,0,"div",2),Pt(),Lt(3,"div",3),Be(4,"span",4),Pt(),Lt(5,"div",5),Be(6,"span",4),Pt()),n&2&&(te(),cl("flex-basis",o._getBufferBarFlexBasis()),te(),In(o.mode==="buffer"?2:-1),te(),cl("transform",o._getPrimaryBarTransform()))},styles:[`.mat-mdc-progress-bar{display:block;text-align:start}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:max(var(--mdc-linear-progress-track-height),var(--mdc-linear-progress-active-indicator-height))}.cdk-high-contrast-active .mdc-linear-progress{outline-color:CanvasText}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}[dir=rtl] .mdc-linear-progress__bar{right:0;transform-origin:center right}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid;border-color:var(--mdc-linear-progress-active-indicator-color, var(--mat-app-primary));border-top-width:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden;height:var(--mdc-linear-progress-track-height);border-radius:var(--mdc-linear-progress-track-shape, var(--mat-app-corner-none))}.mdc-linear-progress__buffer-dots{-webkit-mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");background-repeat:repeat-x;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering 250ms infinite linear;background-color:var(--mdc-linear-progress-track-color, var(--mat-app-surface-variant))}.cdk-high-contrast-active .mdc-linear-progress__buffer-dots{background-color:ButtonBorder}[dir=rtl] .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);background-color:var(--mdc-linear-progress-track-color, var(--mat-app-surface-variant))}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height) * -2.5))}}@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(-83.67142%)}100%{transform:translateX(-200.611057%)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(-37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(-84.386165%)}100%{transform:translateX(-160.277782%)}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}`],encapsulation:2,changeDetection:0});let e=t;return e})();function Ent(e,t=0,r=100){return Math.max(t,Math.min(r,e))}var yD=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ze({type:t}),t.\u0275inj=Ve({imports:[Si]});let e=t;return e})();var Tnt=(()=>{let t=class t{constructor(i){this.http=i,this.baseUrl="https://borealisdata.ca/api/info/metrics"}getDataverseCollections(){let i=`${this.baseUrl}/tree`;return this.http.get(i)}getMonthlyDownloads(i){let n=i?`?parentAlias=${i}`:"",o=`${this.baseUrl}/downloads/monthly/${n}`;return this.http.get(o)}getMonthlyDatasets(i){let n=i?`?parentAlias=${i}`:"",o=`${this.baseUrl}/datasets/monthly/${n}`;return this.http.get(o)}getMonthlyFiles(i){let n=i?`?parentAlias=${i}`:"",o=`${this.baseUrl}/files/monthly/${n}`;return this.http.get(o)}getMonthlyUsers(i){let n=`${this.baseUrl}/accounts/monthly/`;return this.http.get(n)}getSubjectData(i,n){let o=n?`?parentAlias=${n}`:"",s=`${this.baseUrl}/datasets/bySubject/toMonth/${i}${o}`;return this.http.get(s)}getFileContentData(i){let n=i?`?parentAlias=${i}`:"",o=`${this.baseUrl}/files/byType/monthly/${n}`;return this.http.get(o)}getDataverseCount(i,n){let o=n?`?parentAlias=${n}`:"",s=`${this.baseUrl}/dataverses/toMonth/${i}${o}`;return this.http.get(s)}getUniqueAuthors(i){let s=a=>this.getDatasets(i,a,1e3).pipe(ui(l=>({items:l?.data?.items||[],start:a,page:a/1e3})));return s(0).pipe(BH(({items:a,start:l,page:c})=>a.length<1e3||c>=30?ma:s(l+1e3)),Ow((a,{items:l})=>(l.forEach(c=>{let d=c.published_at||c.publicationDate;if(!d)return;let h=d.slice(0,7);a[h]||(a[h]=new Set),(c.authors||[]).forEach(f=>{let m=f.trim().toLowerCase();m&&a[h].add(m)})}),a),{}),ui(a=>{let l=Object.keys(a).sort();if(l.length===0)return{data:[{date:"",count:0}]};let c=p=>{let[b,_]=p.split("-").map(Number);return _++,_>12&&(_=1,b++),`${b}-${_.toString().padStart(2,"0")}`},d=l[0],h=new Date,u=`${h.getFullYear()}-${(h.getMonth()+1).toString().padStart(2,"0")}`,f=new Set,m=[],g=d;for(;g<=u;)a[g]?(a[g].forEach(p=>f.add(p)),m.push({date:g,count:f.size})):m.push({date:g,count:f.size||0}),g=c(g);return{data:m}}))}getAllMetrics(i="",n=""){let o=i?this.getUniqueAuthors(i).pipe(ls(()=>Me({}))):this.getMonthlyUsers(i).pipe(ls(()=>Me({})));return Lu([this.getDataverseCollections().pipe(ls(()=>Me({}))),this.getMonthlyDownloads(i).pipe(ls(()=>Me({}))),this.getMonthlyDatasets(i).pipe(ls(()=>Me({}))),this.getMonthlyFiles(i).pipe(ls(()=>Me({}))),o,this.getSubjectData(n,i).pipe(ls(()=>Me({}))),this.getFileContentData(i).pipe(ls(()=>Me({}))),this.getDataverseCount(n,i).pipe(ls(()=>Me({})))])}getDatasets(i="",n=0,o=1e3){let s="https://borealisdata.ca/api/search",a={q:"*",type:"dataset",start:n.toString(),per_page:o.toString()};return i&&(a.subtree=i),this.http.get(s,{params:a})}};t.\u0275fac=function(n){return new(n||t)(Jt(Uu))},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function r4t(e,t){e&1&&(Lt(0,"div"),Be(1,"mat-progress-bar",1),Pt())}var Mnt=(()=>{let t=class t{constructor(i){this.apiService=i,this.collectionSelected="",this.collectionSelectedName="",this.start_on=!1,this.startDate="",this.endDate="",this.downloads_rsp=[],this.datasets_rsp=[],this.files_rsp=[],this.users_rsp=[],this.subject_rsp=[],this.filecontent_rsp=[],this.filecontent_rsp_date_range=[],this.data=[],this.dataversesDataTree=[],this.dataverseCollections=[],this.dataverseAlias=[],this.dataverseCollectionsDropDown=[],this.table_dataset_rsp={},this.table_file_rsp={},this.dataverseCount=0,this.datasetURL="",this.fileURL="",this.subjectURL="",this.fileContentURL="",this.datasetsContents=[],this.datasets=[],this.filesContents=[],this.files=[],this.subjectContents=[],this.subjectLabels=[],this.subjectData=[],this.subjectContentFullData=[],this.fileContentHash={},this.fileContentDetailHash={},this.fileContentLabels=[],this.fileContentData=[],this.fileContentFullData=[],this.months=[],this.monthsDate=[],this.monthlyDownloads=[],this.monthlyDatasets=[],this.monthlyFiles=[],this.monthlyUsers=[],this.monthlyAggDownloads=[],this.monthlyAggDatasets=[],this.monthlyAggFiles=[],this.monthlyAggUsers=[],this.fileSizeHash={},this.sizeLabels=[],this.monthlySize=[],this.monthlyAggSize=[],this.observables=[],this.isLoading=!1,this.firstAPIGet=!0,this.dateRangeOn=!1,this.messageEvent=new si}ngOnChanges(){this.firstAPIGet||(this.cleanTempData(),console.log("Clean Up Time")),this.populateMonths(),console.log(this.months),console.log("date",this.dateRangeOn,this.startDate,this.endDate),this.apiService.getAllMetrics(this.cleanedParentAlias,this.months[0]).subscribe(i=>{this.isLoading=!0,console.log("raw responses,",i),[this.data_rsp,this.downloads_rsp,this.datasets_rsp,this.files_rsp,this.users_rsp,this.subject_rsp,this.filecontent_rsp,this.dataverse_rsp,this.authors_rsp]=i.map((c,d)=>c&&typeof c.data=="object"&&Object.keys(c.data).length===0?[0,7,8].includes(d)?{}:[]:c.data),this.dataversesDataTree=Array.isArray(this.data_rsp?.children)?this.data_rsp.children:[],this.dataverseCollections=this.dataversesDataTree.map(c=>({name:c.name})),this.firstAPIGet||(this.dataverseAlias=this.dataversesDataTree.map(c=>({alias:c.alias,name:c.name})),this.dataverseCollectionsDropDown=this.dataversesDataTree.map(c=>c.name)),console.log("look at the months,",this.months),(!Array.isArray(this.downloads_rsp)||this.downloads_rsp.length<this.months.length)&&(this.months=Array.isArray(this.downloads_rsp)?this.downloads_rsp.map(c=>c.date).reverse():this.months);for(let c=0;c<this.months.length-1;c++){let d=this.months[c],h=this.months[c+1],u=b=>_=>b.find(E=>E.date===_)?.count??0,f=Array.isArray(this.downloads_rsp)?u(this.downloads_rsp):()=>0,m=Array.isArray(this.datasets_rsp)?u(this.datasets_rsp):()=>0,g=Array.isArray(this.files_rsp)?u(this.files_rsp):()=>0,p=Array.isArray(this.users_rsp)?u(this.users_rsp):()=>0;this.monthlyDownloads.push(f(d)),this.monthlyAggDownloads.push(f(d)-f(h)),this.monthlyDatasets.push(m(d)),this.monthlyAggDatasets.push(m(d)-m(h)),this.monthlyFiles.push(g(d)),this.monthlyAggFiles.push(g(d)-g(h)),this.monthlyUsers.push(p(d)),this.monthlyAggUsers.push(p(d)-p(h))}let n=Array.isArray(this.subject_rsp)?this.subject_rsp.reduce((c,d)=>c+d.count,0):0;this.subjectContentFullData=this.subject_rsp.map(c=>({subject:c.subject,count:c.count,percent:n>0?(c.count/n).toFixed(4):"0.0000"})),this.subjectLabels=Array.isArray(this.subject_rsp)?this.subject_rsp.map(c=>c.subject):[],this.subjectData=Array.isArray(this.subject_rsp)?this.subject_rsp.map(c=>c.count):[];let o=Array.isArray(this.filecontent_rsp)?this.filecontent_rsp.reduce((c,d)=>c+d.count,0):0;this.fileSizeHash=Array.isArray(this.filecontent_rsp)?this.filecontent_rsp.reduce((c,d)=>{let h=d.date,u=parseFloat((d.size/Math.pow(1024,3)).toFixed(4));return c[h]=(c[h]||0)+u,c},{}):{};let a=Object.entries(this.fileSizeHash).filter(([c])=>this.months.includes(String(c)));this.sizeLabels=[],this.monthlySize=[],this.monthlyAggSize=[];for(let c=0;c<a.length-1;c++)this.sizeLabels.push(a[c][0]),this.monthlySize.push(a[c][1]),this.monthlyAggSize.push(a[c+1][1]-a[c][1]);this.monthlySize.reverse(),this.monthlyAggSize.reverse(),console.log("size stuff",this.monthlySize,this.monthlyAggSize),this.dataverseCount=this.dataverse_rsp?.count??0,this.start_on?this.filecontent_rsp_date_range=Array.isArray(this.filecontent_rsp)?this.filecontent_rsp.filter(c=>this.months.slice(0,-1).includes(c.date)):[]:this.filecontent_rsp_date_range=Array.isArray(this.filecontent_rsp)?this.filecontent_rsp:[],console.log(this.filecontent_rsp_date_range),this.fileContentHash={},this.fileContentDetailHash={},this.filecontent_rsp_date_range.forEach(c=>{let d=c.contenttype?.split("/")[0]??"",h=c.count??0;c.date===this.months[0]&&(this.fileContentHash[d]=(this.fileContentHash[d]||0)+h,this.fileContentDetailHash[c.contenttype]=(this.fileContentDetailHash[c.contenttype]||0)+h)});let l=Object.values(this.fileContentHash).reduce((c,d)=>c+d,0);console.log("count",l),this.fileContentFullData=Object.entries(this.fileContentDetailHash).map(([c,d])=>{let h=c.split("/")[0];return{type:h,contenttype:c,count:d,percent:l>0?(this.fileContentHash[h]/l).toFixed(4):"0"}}),console.log(this.fileContentHash),console.log(this.fileContentDetailHash),this.fileContentLabels=Object.keys(this.fileContentHash),this.fileContentData=Object.values(this.fileContentHash),this.months.pop(),this.sendData()},i=>{console.error("API Error:",i),this.data_rsp={},this.downloads_rsp=[],this.datasets_rsp=[],this.files_rsp=[],this.users_rsp=[],this.subject_rsp=[],this.filecontent_rsp=[],this.dataverse_rsp={},this.authors_rsp={},this.isLoading=!1,this.firstAPIGet=!1}),this.isLoading=!1,this.firstAPIGet=!1}sendData(){var i={table_data:this.dataverseCollections,alias_data:this.dataverseAlias,downloads_graph_data:this.monthlyDownloads,dataverse_count:this.dataverseCount,datasets_graph_data:this.monthlyDatasets,files_graph_data:this.monthlyFiles,users_graph_data:this.monthlyUsers,size_graph_data:this.monthlySize,downloads_graph_agg_data:this.monthlyAggDownloads,datasets_graph_agg_data:this.monthlyAggDatasets,files_graph_agg_data:this.monthlyAggFiles,users_graph_agg_data:this.monthlyAggUsers,size_graph_agg_data:this.monthlyAggSize,subject_label_data:this.subjectLabels,subject_data:this.subjectData,subject_full_data:this.subjectContentFullData,file_content_label_data:this.fileContentLabels,file_content_data:this.fileContentData,file_content_full_data:this.fileContentFullData,name_dropdown_data:this.dataverseCollectionsDropDown,months:this.months};console.log(i),this.messageEvent.emit({DataverseTabData:i})}populateMonths(){this.months=[];let i=24;this.start_on&&this.startDate&&this.endDate&&(i=this.monthDifference(this.startDate,this.endDate));let n=this.endDate?new Date(Date.parse(this.endDate+"-02")):new Date;new Date().getDate()<7&&n.setMonth(n.getMonth()-1);let o=!1;for(let s=0;s<=i+1;s++){let a=n.getMonth()+1,c=`${n.getFullYear()}-${String(a).padStart(2,"0")}`;if(this.months.push(c),this.start_on&&c===this.startDate&&(o=!0),o&&s>=i){n.setMonth(n.getMonth()-1);let d=n.getMonth()+1,u=`${n.getFullYear()}-${String(d).padStart(2,"0")}`;this.months.push(u);break}n.setMonth(n.getMonth()-1)}this.months.sort((s,a)=>s<a?1:-1)}monthDifference(i,n){let o=new Date(Date.parse(i)),s=new Date(Date.parse(n));return(s.getFullYear()-o.getFullYear())*12+(s.getMonth()-o.getMonth())}cleanTempData(){this.dataverseCollectionsDropDown=[],this.dataverseCollections=[],this.dataverseAlias=[],this.dataversesDataTree=[],this.dataverse_rsp=[],this.filecontent_rsp=[],this.filecontent_rsp_date_range=[],this.observables=[],this.monthlyDownloads=[],this.monthlyDatasets=[],this.monthlyFiles=[],this.monthlyUsers=[],this.monthlySize=[],this.monthlyAggDownloads=[],this.monthlyAggDatasets=[],this.monthlyAggFiles=[],this.monthlyAggUsers=[],this.monthlyAggSize=[],this.datasetURL="",this.datasetsContents=[],this.datasets=[],this.subjectURL="",this.subjectContents=[],this.subjectLabels=[],this.subjectData=[],this.subjectContentFullData=[],this.fileContentURL="",this.fileContentHash={},this.fileSizeHash={},this.fileContentDetailHash={},this.fileContentLabels=[],this.fileContentData=[],this.fileContentFullData=[],this.dataverseCount=0,this.months=[]}get cleanedParentAlias(){return this.collectionSelected==="(All)"?"":this.collectionSelected}findAliasRow(i,n){for(let o=0;o<=i.length;o++)if(i[o]&&i[o].alias===n)return o;return-1}};t.\u0275fac=function(n){return new(n||t)(Dt(Tnt))},t.\u0275cmp=qe({type:t,selectors:[["app-posts"]],inputs:{collectionSelected:"collectionSelected",collectionSelectedName:"collectionSelectedName",start_on:"start_on",startDate:"startDate",endDate:"endDate"},outputs:{messageEvent:"messageEvent"},standalone:!0,features:[er,ai],decls:1,vars:1,consts:[[4,"ngIf"],["mode","indeterminate"]],template:function(n,o){n&1&&Ki(0,r4t,2,0,"div",0),n&2&&ke("ngIf",!o.isLoading)},dependencies:[$B,Snt,qn,lm,yD,vD],styles:[".transparent[_ngcontent-%COMP%]   .mat-mdc-dialog-container[_ngcontent-%COMP%]{--mdc-dialog-container-color: rgba(0, 0, 0, 0)}.transparent[_ngcontent-%COMP%]   .mat-mdc-dialog-surface[_ngcontent-%COMP%]{box-shadow:none!important}"]});let e=t;return e})();var M9=class{constructor(){this.expansionModel=new I1(!0)}toggle(t){this.expansionModel.toggle(this._trackByValue(t))}expand(t){this.expansionModel.select(this._trackByValue(t))}collapse(t){this.expansionModel.deselect(this._trackByValue(t))}isExpanded(t){return this.expansionModel.isSelected(this._trackByValue(t))}toggleDescendants(t){this.expansionModel.isSelected(this._trackByValue(t))?this.collapseDescendants(t):this.expandDescendants(t)}collapseAll(){this.expansionModel.clear()}expandDescendants(t){let r=[t];r.push(...this.getDescendants(t)),this.expansionModel.select(...r.map(i=>this._trackByValue(i)))}collapseDescendants(t){let r=[t];r.push(...this.getDescendants(t)),this.expansionModel.deselect(...r.map(i=>this._trackByValue(i)))}_trackByValue(t){return this.trackBy?this.trackBy(t):t}},_D=class extends M9{constructor(t,r,i){super(),this.getLevel=t,this.isExpandable=r,this.options=i,this.options&&(this.trackBy=this.options.trackBy)}getDescendants(t){let r=this.dataNodes.indexOf(t),i=[];for(let n=r+1;n<this.dataNodes.length&&this.getLevel(t)<this.getLevel(this.dataNodes[n]);n++)i.push(this.dataNodes[n]);return i}expandAll(){this.expansionModel.select(...this.dataNodes.map(t=>this._trackByValue(t)))}};var I9=new Se("CDK_TREE_NODE_OUTLET_NODE"),wD=(()=>{let t=class t{constructor(i,n){this.viewContainer=i,this._node=n}};t.\u0275fac=function(n){return new(n||t)(Dt(gs),Dt(I9,8))},t.\u0275dir=ri({type:t,selectors:[["","cdkTreeNodeOutlet",""]],standalone:!0});let e=t;return e})(),A9=class{constructor(t){this.$implicit=t}},CD=(()=>{let t=class t{constructor(i){this.template=i}};t.\u0275fac=function(n){return new(n||t)(Dt(ll))},t.\u0275dir=ri({type:t,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:[0,"cdkTreeNodeDefWhen","when"]},standalone:!0});let e=t;return e})();function Ant(){return Error("Could not find a tree control, levelAccessor, or childrenAccessor for the tree.")}var $p=(()=>{let t=class t{get dataSource(){return this._dataSource}set dataSource(i){this._dataSource!==i&&this._switchDataSource(i)}constructor(i,n){this._differs=i,this._changeDetectorRef=n,this._dir=pe(Ds),this._onDestroy=new Qe,this._levels=new Map,this._parents=new Map,this._ariaSets=new Map,this.viewChange=new Yn({start:0,end:Number.MAX_VALUE}),this._flattenedNodes=new Yn([]),this._nodeType=new Yn(null),this._nodes=new Yn(new Map),this._keyManagerNodes=new Yn([]),this._keyManagerFactory=pe(sV),this._viewInit=!1}ngAfterContentInit(){this._initializeKeyManager()}ngAfterContentChecked(){this._updateDefaultNodeDefinition(),this._subscribeToDataChanges()}ngOnDestroy(){this._nodeOutlet.viewContainer.clear(),this.viewChange.complete(),this._onDestroy.next(),this._onDestroy.complete(),this._dataSource&&typeof this._dataSource.disconnect=="function"&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),this._keyManager?.destroy()}ngOnInit(){this._checkTreeControlUsage(),this._initializeDataDiffer()}ngAfterViewInit(){this._viewInit=!0}_updateDefaultNodeDefinition(){let i=this._nodeDefs.filter(n=>!n.when);i.length>1,this._defaultNodeDef=i[0]}_setNodeTypeIfUnset(i){this._nodeType.value===null&&this._nodeType.next(i)}_switchDataSource(i){this._dataSource&&typeof this._dataSource.disconnect=="function"&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),i||this._nodeOutlet.viewContainer.clear(),this._dataSource=i,this._nodeDefs&&this._subscribeToDataChanges()}_getExpansionModel(){return this.treeControl?this.treeControl.expansionModel:(this._expansionModel??=new I1(!0),this._expansionModel)}_subscribeToDataChanges(){if(this._dataSubscription)return;let i;EV(this._dataSource)?i=this._dataSource.connect(this):xh(this._dataSource)?i=this._dataSource:Array.isArray(this._dataSource)&&(i=Me(this._dataSource)),i&&(this._dataSubscription=this._getRenderData(i).pipe($n(this._onDestroy)).subscribe(n=>{this._renderDataChanges(n)}))}_getRenderData(i){let n=this._getExpansionModel();return vc([i,this._nodeType,n.changed.pipe(Ms(null),fn(o=>{this._emitExpansionChanges(o)}))]).pipe(_o(([o,s])=>s===null?Me({renderNodes:o,flattenedNodes:null,nodeType:s}):this._computeRenderingData(o,s).pipe(ui(a=>Ue(jt({},a),{nodeType:s})))))}_renderDataChanges(i){if(i.nodeType===null){this.renderNodeChanges(i.renderNodes);return}this._updateCachedData(i.flattenedNodes),this.renderNodeChanges(i.renderNodes),this._updateKeyManagerItems(i.flattenedNodes)}_emitExpansionChanges(i){if(!i)return;let n=this._nodes.value;for(let o of i.added)n.get(o)?._emitExpansionState(!0);for(let o of i.removed)n.get(o)?._emitExpansionState(!1)}_initializeKeyManager(){let i=vc([this._keyManagerNodes,this._nodes]).pipe(ui(([o,s])=>o.reduce((a,l)=>{let c=s.get(this._getExpansionKey(l));return c&&a.push(c),a},[]))),n={trackBy:o=>this._getExpansionKey(o.data),skipPredicate:o=>!!o.isDisabled,typeAheadDebounceInterval:!0,horizontalOrientation:this._dir.value};this._keyManager=this._keyManagerFactory(i,n)}_initializeDataDiffer(){let i=this.trackBy??((n,o)=>this._getExpansionKey(o));this._dataDiffer=this._differs.find([]).create(i)}_checkTreeControlUsage(){}renderNodeChanges(i,n=this._dataDiffer,o=this._nodeOutlet.viewContainer,s){let a=n.diff(i);!a&&!this._viewInit||(a?.forEachOperation((l,c,d)=>{if(l.previousIndex==null)this.insertNode(i[d],d,o,s);else if(d==null)o.remove(c);else{let h=o.get(c);o.move(h,d)}}),a?.forEachIdentityChange(l=>{let c=l.item;if(l.currentIndex!=null){let d=o.get(l.currentIndex);d.context.$implicit=c}}),s?this._changeDetectorRef.markForCheck():this._changeDetectorRef.detectChanges())}_getNodeDef(i,n){if(this._nodeDefs.length===1)return this._nodeDefs.first;let o=this._nodeDefs.find(s=>s.when&&s.when(n,i))||this._defaultNodeDef;return o}insertNode(i,n,o,s){let a=this._getLevelAccessor(),l=this._getNodeDef(i,n),c=this._getExpansionKey(i),d=new A9(i);s??=this._parents.get(c)??void 0,a?d.level=a(i):s!==void 0&&this._levels.has(this._getExpansionKey(s))?d.level=this._levels.get(this._getExpansionKey(s))+1:d.level=0,this._levels.set(c,d.level),(o||this._nodeOutlet.viewContainer).createEmbeddedView(l.template,d,n),lb.mostRecentTreeNode&&(lb.mostRecentTreeNode.data=i)}isExpanded(i){return!!(this.treeControl?.isExpanded(i)||this._expansionModel?.isSelected(this._getExpansionKey(i)))}toggle(i){this.treeControl?this.treeControl.toggle(i):this._expansionModel&&this._expansionModel.toggle(this._getExpansionKey(i))}expand(i){this.treeControl?this.treeControl.expand(i):this._expansionModel&&this._expansionModel.select(this._getExpansionKey(i))}collapse(i){this.treeControl?this.treeControl.collapse(i):this._expansionModel&&this._expansionModel.deselect(this._getExpansionKey(i))}toggleDescendants(i){this.treeControl?this.treeControl.toggleDescendants(i):this._expansionModel&&(this.isExpanded(i)?this.collapseDescendants(i):this.expandDescendants(i))}expandDescendants(i){if(this.treeControl)this.treeControl.expandDescendants(i);else if(this._expansionModel){let n=this._expansionModel;n.select(this._getExpansionKey(i)),this._getDescendants(i).pipe(to(1),$n(this._onDestroy)).subscribe(o=>{n.select(...o.map(s=>this._getExpansionKey(s)))})}}collapseDescendants(i){if(this.treeControl)this.treeControl.collapseDescendants(i);else if(this._expansionModel){let n=this._expansionModel;n.deselect(this._getExpansionKey(i)),this._getDescendants(i).pipe(to(1),$n(this._onDestroy)).subscribe(o=>{n.deselect(...o.map(s=>this._getExpansionKey(s)))})}}expandAll(){this.treeControl?this.treeControl.expandAll():this._expansionModel&&this._expansionModel.select(...this._flattenedNodes.value.map(n=>this._getExpansionKey(n)))}collapseAll(){this.treeControl?this.treeControl.collapseAll():this._expansionModel&&this._expansionModel.deselect(...this._flattenedNodes.value.map(n=>this._getExpansionKey(n)))}_getLevelAccessor(){return this.treeControl?.getLevel?.bind(this.treeControl)??this.levelAccessor}_getChildrenAccessor(){return this.treeControl?.getChildren?.bind(this.treeControl)??this.childrenAccessor}_getDirectChildren(i){let n=this._getLevelAccessor(),o=this._expansionModel??this.treeControl?.expansionModel;if(!o)return Me([]);let s=this._getExpansionKey(i),a=o.changed.pipe(_o(c=>c.added.includes(s)?Me(!0):c.removed.includes(s)?Me(!1):ma),Ms(this.isExpanded(i)));if(n)return vc([a,this._flattenedNodes]).pipe(ui(([c,d])=>c?this._findChildrenByLevel(n,d,i,1):[]));let l=this._getChildrenAccessor();if(l)return Og(l(i)??[]);throw Ant()}_findChildrenByLevel(i,n,o,s){let a=this._getExpansionKey(o),l=n.findIndex(u=>this._getExpansionKey(u)===a),c=i(o),d=c+s,h=[];for(let u=l+1;u<n.length;u++){let f=i(n[u]);if(f<=c)break;f<=d&&h.push(n[u])}return h}_registerNode(i){this._nodes.value.set(this._getExpansionKey(i.data),i),this._nodes.next(this._nodes.value)}_unregisterNode(i){this._nodes.value.delete(this._getExpansionKey(i.data)),this._nodes.next(this._nodes.value)}_getLevel(i){return this._levels.get(this._getExpansionKey(i))}_getSetSize(i){return this._getAriaSet(i).length}_getPositionInSet(i){let n=this._getAriaSet(i),o=this._getExpansionKey(i);return n.findIndex(s=>this._getExpansionKey(s)===o)+1}_getNodeParent(i){let n=this._parents.get(this._getExpansionKey(i.data));return n&&this._nodes.value.get(this._getExpansionKey(n))}_getNodeChildren(i){return this._getDirectChildren(i.data).pipe(ui(n=>n.reduce((o,s)=>{let a=this._nodes.value.get(this._getExpansionKey(s));return a&&o.push(a),o},[])))}_sendKeydownToKeyManager(i){this._keyManager.onKeydown(i)}_getDescendants(i){if(this.treeControl)return Me(this.treeControl.getDescendants(i));if(this.levelAccessor){let n=this._findChildrenByLevel(this.levelAccessor,this._flattenedNodes.value,i,1/0);return Me(n)}if(this.childrenAccessor)return this._getAllChildrenRecursively(i).pipe(Ow((n,o)=>(n.push(...o),n),[]));throw Ant()}_getAllChildrenRecursively(i){return this.childrenAccessor?Og(this.childrenAccessor(i)).pipe(to(1),_o(n=>{for(let o of n)this._parents.set(this._getExpansionKey(o),i);return Me(...n).pipe(pd(o=>Cg(Me([o]),this._getAllChildrenRecursively(o))))})):Me([])}_getExpansionKey(i){return this.expansionKey?.(i)??i}_getAriaSet(i){let n=this._getExpansionKey(i),o=this._parents.get(n),s=o?this._getExpansionKey(o):null;return this._ariaSets.get(s)??[i]}_findParentForNode(i,n,o){if(!o.length)return null;let s=this._levels.get(this._getExpansionKey(i))??0;for(let a=n-1;a>=0;a--){let l=o[a];if((this._levels.get(this._getExpansionKey(l))??0)<s)return l}return null}_flattenNestedNodesWithExpansion(i,n=0){let o=this._getChildrenAccessor();return o?Me(...i).pipe(pd(s=>{let a=this._getExpansionKey(s);this._parents.has(a)||this._parents.set(a,null),this._levels.set(a,n);let l=Og(o(s));return Cg(Me([s]),l.pipe(to(1),fn(c=>{this._ariaSets.set(a,[...c??[]]);for(let d of c??[]){let h=this._getExpansionKey(d);this._parents.set(h,s),this._levels.set(h,n+1)}}),_o(c=>c?this._flattenNestedNodesWithExpansion(c,n+1).pipe(ui(d=>this.isExpanded(s)?d:[])):Me([]))))}),Ow((s,a)=>(s.push(...a),s),[])):Me([...i])}_computeRenderingData(i,n){if(this.childrenAccessor&&n==="flat")return this._ariaSets.set(null,[...i]),this._flattenNestedNodesWithExpansion(i).pipe(ui(o=>({renderNodes:o,flattenedNodes:o})));if(this.levelAccessor&&n==="nested"){let o=this.levelAccessor;return Me(i.filter(s=>o(s)===0)).pipe(ui(s=>({renderNodes:s,flattenedNodes:i})),fn(({flattenedNodes:s})=>{this._calculateParents(s)}))}else return n==="flat"?Me({renderNodes:i,flattenedNodes:i}).pipe(fn(({flattenedNodes:o})=>{this._calculateParents(o)})):(this._ariaSets.set(null,[...i]),this._flattenNestedNodesWithExpansion(i).pipe(ui(o=>({renderNodes:i,flattenedNodes:o}))))}_updateCachedData(i){this._flattenedNodes.next(i)}_updateKeyManagerItems(i){this._keyManagerNodes.next(i)}_calculateParents(i){let n=this._getLevelAccessor();if(n){this._parents.clear(),this._ariaSets.clear();for(let o=0;o<i.length;o++){let s=i[o],a=this._getExpansionKey(s);this._levels.set(a,n(s));let l=this._findParentForNode(s,o,i);this._parents.set(a,l);let c=l?this._getExpansionKey(l):null,d=this._ariaSets.get(c)??[];d.splice(o,0,s),this._ariaSets.set(c,d)}}}};t.\u0275fac=function(n){return new(n||t)(Dt(Yw),Dt(cr))},t.\u0275cmp=qe({type:t,selectors:[["cdk-tree"]],contentQueries:function(n,o,s){if(n&1&&Is(s,CD,5),n&2){let a;Hi(a=Bi())&&(o._nodeDefs=a)}},viewQuery:function(n,o){if(n&1&&or(wD,7),n&2){let s;Hi(s=Bi())&&(o._nodeOutlet=s.first)}},hostAttrs:["role","tree",1,"cdk-tree"],hostBindings:function(n,o){n&1&&fi("keydown",function(a){return o._sendKeydownToKeyManager(a)})},inputs:{dataSource:"dataSource",treeControl:"treeControl",levelAccessor:"levelAccessor",childrenAccessor:"childrenAccessor",trackBy:"trackBy",expansionKey:"expansionKey"},exportAs:["cdkTree"],standalone:!0,features:[ai],decls:1,vars:0,consts:[["cdkTreeNodeOutlet",""]],template:function(n,o){n&1&&Tg(0,0)},dependencies:[wD],encapsulation:2});let e=t;return e})(),lb=(()=>{let t=class t{get role(){return"treeitem"}set role(i){}get isExpandable(){return this._isExpandable()}set isExpandable(i){this._inputIsExpandable=i,!(this.data&&!this._isExpandable||!this._inputIsExpandable)&&(this._inputIsExpanded?this.expand():this._inputIsExpanded===!1&&this.collapse())}get isExpanded(){return this._tree.isExpanded(this._data)}set isExpanded(i){this._inputIsExpanded=i,i?this.expand():this.collapse()}getLabel(){return this.typeaheadLabel||this._elementRef.nativeElement.textContent?.trim()||""}get data(){return this._data}set data(i){i!==this._data&&(this._data=i,this._dataChanges.next())}get isLeafNode(){return this._tree.treeControl?.isExpandable!==void 0&&!this._tree.treeControl.isExpandable(this._data)?!0:this._tree.treeControl?.isExpandable===void 0&&this._tree.treeControl?.getDescendants(this._data).length===0}get level(){return this._tree._getLevel(this._data)??this._parentNodeAriaLevel}_isExpandable(){return this._tree.treeControl?!this.isLeafNode:this._inputIsExpandable}_getAriaExpanded(){return this._isExpandable()?String(this.isExpanded):null}_getSetSize(){return this._tree._getSetSize(this._data)}_getPositionInSet(){return this._tree._getPositionInSet(this._data)}constructor(i,n){this._elementRef=i,this._tree=n,this._tabindex=-1,this.activation=new si,this.expandedChange=new si,this._destroyed=new Qe,this._dataChanges=new Qe,this._inputIsExpandable=!1,this._inputIsExpanded=void 0,this._shouldFocus=!0,this._changeDetectorRef=pe(cr),t.mostRecentTreeNode=this}ngOnInit(){this._parentNodeAriaLevel=n4t(this._elementRef.nativeElement),this._tree._getExpansionModel().changed.pipe(ui(()=>this.isExpanded),Sg()).subscribe(()=>{this._changeDetectorRef.markForCheck()}),this._tree._setNodeTypeIfUnset("flat"),this._tree._registerNode(this)}ngOnDestroy(){t.mostRecentTreeNode===this&&(t.mostRecentTreeNode=null),this._dataChanges.complete(),this._destroyed.next(),this._destroyed.complete()}getParent(){return this._tree._getNodeParent(this)??null}getChildren(){return this._tree._getNodeChildren(this)}focus(){this._tabindex=0,this._shouldFocus&&this._elementRef.nativeElement.focus(),this._changeDetectorRef.markForCheck()}unfocus(){this._tabindex=-1,this._changeDetectorRef.markForCheck()}activate(){this.isDisabled||this.activation.next(this._data)}collapse(){this.isExpandable&&this._tree.collapse(this._data)}expand(){this.isExpandable&&this._tree.expand(this._data)}makeFocusable(){this._tabindex=0,this._changeDetectorRef.markForCheck()}_focusItem(){this.isDisabled||this._tree._keyManager.focusItem(this)}_setActiveItem(){this.isDisabled||(this._shouldFocus=!1,this._tree._keyManager.focusItem(this),this._shouldFocus=!0)}_emitExpansionState(i){this.expandedChange.emit(i)}};t.mostRecentTreeNode=null,t.\u0275fac=function(n){return new(n||t)(Dt(di),Dt($p))},t.\u0275dir=ri({type:t,selectors:[["cdk-tree-node"]],hostAttrs:["role","treeitem",1,"cdk-tree-node"],hostVars:5,hostBindings:function(n,o){n&1&&fi("click",function(){return o._setActiveItem()})("focus",function(){return o._focusItem()}),n&2&&(ja("tabindex",o._tabindex),Yi("aria-expanded",o._getAriaExpanded())("aria-level",o.level+1)("aria-posinset",o._getPositionInSet())("aria-setsize",o._getSetSize()))},inputs:{role:"role",isExpandable:[2,"isExpandable","isExpandable",Sr],isExpanded:"isExpanded",isDisabled:[2,"isDisabled","isDisabled",Sr],typeaheadLabel:[0,"cdkTreeNodeTypeaheadLabel","typeaheadLabel"]},outputs:{activation:"activation",expandedChange:"expandedChange"},exportAs:["cdkTreeNode"],standalone:!0,features:[Fr]});let e=t;return e})();function n4t(e){let t=e.parentElement;for(;t&&!o4t(t);)t=t.parentElement;return t?t.classList.contains("cdk-nested-tree-node")?za(t.getAttribute("aria-level")):0:-1}function o4t(e){let t=e.classList;return!!(t?.contains("cdk-nested-tree-node")||t?.contains("cdk-tree"))}var s4t=/([A-Za-z%]+)$/,k9=(()=>{let t=class t{get level(){return this._level}set level(i){this._setLevelInput(i)}get indent(){return this._indent}set indent(i){this._setIndentInput(i)}constructor(i,n,o,s){this._treeNode=i,this._tree=n,this._element=o,this._dir=s,this._destroyed=new Qe,this.indentUnits="px",this._indent=40,this._setPadding(),s&&s.change.pipe($n(this._destroyed)).subscribe(()=>this._setPadding(!0)),i._dataChanges.subscribe(()=>this._setPadding())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_paddingIndent(){let i=(this._treeNode.data&&this._tree._getLevel(this._treeNode.data))??null,n=this._level==null?i:this._level;return typeof n=="number"?`${n*this._indent}${this.indentUnits}`:null}_setPadding(i=!1){let n=this._paddingIndent();if(n!==this._currentPadding||i){let o=this._element.nativeElement,s=this._dir&&this._dir.value==="rtl"?"paddingRight":"paddingLeft",a=s==="paddingLeft"?"paddingRight":"paddingLeft";o.style[s]=n||"",o.style[a]="",this._currentPadding=n}}_setLevelInput(i){this._level=isNaN(i)?null:i,this._setPadding()}_setIndentInput(i){let n=i,o="px";if(typeof i=="string"){let s=i.split(s4t);n=s[0],o=s[1]||o}this.indentUnits=o,this._indent=za(n),this._setPadding()}};t.\u0275fac=function(n){return new(n||t)(Dt(lb),Dt($p),Dt(di),Dt(Ds,8))},t.\u0275dir=ri({type:t,selectors:[["","cdkTreeNodePadding",""]],inputs:{level:[2,"cdkTreeNodePadding","level",za],indent:[0,"cdkTreeNodePaddingIndent","indent"]},standalone:!0,features:[Fr]});let e=t;return e})(),D9=(()=>{let t=class t{constructor(i,n){this._tree=i,this._treeNode=n,this.recursive=!1}_toggle(){this.recursive?this._tree.toggleDescendants(this._treeNode.data):this._tree.toggle(this._treeNode.data),this._tree._keyManager.focusItem(this._treeNode)}};t.\u0275fac=function(n){return new(n||t)(Dt($p),Dt(lb))},t.\u0275dir=ri({type:t,selectors:[["","cdkTreeNodeToggle",""]],hostAttrs:["tabindex","-1"],hostBindings:function(n,o){n&1&&fi("click",function(a){return o._toggle(),a.stopPropagation()})("keydown.Enter",function(a){return o._toggle(),a.preventDefault()})("keydown.Space",function(a){return o._toggle(),a.preventDefault()})},inputs:{recursive:[2,"cdkTreeNodeToggleRecursive","recursive",Sr]},standalone:!0,features:[Fr]});let e=t;return e})();var Int=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ze({type:t}),t.\u0275inj=Ve({});let e=t;return e})();function l4t(e){return!!e._isNoopTreeKeyManager}var Dnt=(()=>{let t=class t extends lb{get tabIndexInputBinding(){return this._tabIndexInputBinding}set tabIndexInputBinding(i){this._tabIndexInputBinding=i}_getTabindexAttribute(){return l4t(this._tree._keyManager)?this.tabIndexInputBinding:this._tabindex}get disabled(){return this.isDisabled}set disabled(i){this.isDisabled=i}constructor(i,n,o){super(i,n),this.defaultTabIndex=0,this.tabIndexInputBinding=Number(o)||this.defaultTabIndex}ngOnInit(){super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}};t.\u0275fac=function(n){return new(n||t)(Dt(di),Dt($p),zl("tabindex"))},t.\u0275dir=ri({type:t,selectors:[["mat-tree-node"]],hostAttrs:[1,"mat-tree-node"],hostVars:5,hostBindings:function(n,o){n&1&&fi("click",function(){return o._focusItem()}),n&2&&(ja("tabindex",o._getTabindexAttribute()),Yi("aria-expanded",o._getAriaExpanded())("aria-level",o.level+1)("aria-posinset",o._getPositionInSet())("aria-setsize",o._getSetSize()))},inputs:{tabIndexInputBinding:[2,"tabIndex","tabIndexInputBinding",i=>i==null?0:za(i)],disabled:[2,"disabled","disabled",Sr]},outputs:{activation:"activation",expandedChange:"expandedChange"},exportAs:["matTreeNode"],standalone:!0,features:[xr([{provide:lb,useExisting:t}]),Fr,$r]});let e=t;return e})(),Ont=(()=>{let t=class t extends CD{};t.\u0275fac=(()=>{let i;return function(o){return(i||(i=As(t)))(o||t)}})(),t.\u0275dir=ri({type:t,selectors:[["","matTreeNodeDef",""]],inputs:{when:[0,"matTreeNodeDefWhen","when"],data:[0,"matTreeNode","data"]},standalone:!0,features:[xr([{provide:CD,useExisting:t}]),$r]});let e=t;return e})();var Pnt=(()=>{let t=class t extends k9{get level(){return this._level}set level(i){this._setLevelInput(i)}get indent(){return this._indent}set indent(i){this._setIndentInput(i)}};t.\u0275fac=(()=>{let i;return function(o){return(i||(i=As(t)))(o||t)}})(),t.\u0275dir=ri({type:t,selectors:[["","matTreeNodePadding",""]],inputs:{level:[2,"matTreeNodePadding","level",za],indent:[0,"matTreeNodePaddingIndent","indent"]},standalone:!0,features:[xr([{provide:k9,useExisting:t}]),Fr,$r]});let e=t;return e})(),knt=(()=>{let t=class t{constructor(i,n){this.viewContainer=i,this._node=n}};t.\u0275fac=function(n){return new(n||t)(Dt(gs),Dt(I9,8))},t.\u0275dir=ri({type:t,selectors:[["","matTreeNodeOutlet",""]],standalone:!0,features:[xr([{provide:wD,useExisting:t}])]});let e=t;return e})(),Nnt=(()=>{let t=class t extends $p{constructor(){super(...arguments),this._nodeOutlet=void 0}};t.\u0275fac=(()=>{let i;return function(o){return(i||(i=As(t)))(o||t)}})(),t.\u0275cmp=qe({type:t,selectors:[["mat-tree"]],viewQuery:function(n,o){if(n&1&&or(knt,7),n&2){let s;Hi(s=Bi())&&(o._nodeOutlet=s.first)}},hostAttrs:[1,"mat-tree"],exportAs:["matTree"],standalone:!0,features:[xr([{provide:$p,useExisting:t}]),$r,ai],decls:1,vars:0,consts:[["matTreeNodeOutlet",""]],template:function(n,o){n&1&&Tg(0,0)},dependencies:[knt],styles:[".mat-tree{display:block;background-color:var(--mat-tree-container-background-color, var(--mat-app-surface))}.mat-tree-node,.mat-nested-tree-node{color:var(--mat-tree-node-text-color, var(--mat-app-on-surface));font-family:var(--mat-tree-node-text-font, var(--mat-app-body-large-font));font-size:var(--mat-tree-node-text-size, var(--mat-app-body-large-size));font-weight:var(--mat-tree-node-text-weight, var(--mat-app-body-large-weight))}.mat-tree-node{display:flex;align-items:center;flex:1;word-wrap:break-word;min-height:var(--mat-tree-node-min-height)}.mat-nested-tree-node{border-bottom-width:0}"],encapsulation:2});let e=t;return e})(),Lnt=(()=>{let t=class t extends D9{};t.\u0275fac=(()=>{let i;return function(o){return(i||(i=As(t)))(o||t)}})(),t.\u0275dir=ri({type:t,selectors:[["","matTreeNodeToggle",""]],inputs:{recursive:[0,"matTreeNodeToggleRecursive","recursive"]},standalone:!0,features:[xr([{provide:D9,useExisting:t}]),$r]});let e=t;return e})();var Fnt=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ze({type:t}),t.\u0275inj=Ve({imports:[Int,Si,Si]});let e=t;return e})();var d4t=["*"],h4t=[[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],[["","mat-card-image",""],["","matCardImage",""],["","mat-card-sm-image",""],["","matCardImageSmall",""],["","mat-card-md-image",""],["","matCardImageMedium",""],["","mat-card-lg-image",""],["","matCardImageLarge",""],["","mat-card-xl-image",""],["","matCardImageXLarge",""]],"*"],u4t=[`mat-card-title, mat-card-subtitle,
      [mat-card-title], [mat-card-subtitle],
      [matCardTitle], [matCardSubtitle]`,`[mat-card-image], [matCardImage],
                    [mat-card-sm-image], [matCardImageSmall],
                    [mat-card-md-image], [matCardImageMedium],
                    [mat-card-lg-image], [matCardImageLarge],
                    [mat-card-xl-image], [matCardImageXLarge]`,"*"],f4t=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],m4t=["[mat-card-avatar], [matCardAvatar]",`mat-card-title, mat-card-subtitle,
      [mat-card-title], [mat-card-subtitle],
      [matCardTitle], [matCardSubtitle]`,"*"],p4t=new Se("MAT_CARD_CONFIG"),qp=(()=>{let t=class t{constructor(i){this.appearance=i?.appearance||"raised"}};t.\u0275fac=function(n){return new(n||t)(Dt(p4t,8))},t.\u0275cmp=qe({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(n,o){n&2&&Vi("mat-mdc-card-outlined",o.appearance==="outlined")("mdc-card--outlined",o.appearance==="outlined")},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[ai],ngContentSelectors:d4t,decls:1,vars:0,template:function(n,o){n&1&&(pn(),ir(0))},styles:['.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mdc-elevated-card-container-color, var(--mat-app-surface-container-low));border-color:var(--mdc-elevated-card-container-color, var(--mat-app-surface-container-low));border-radius:var(--mdc-elevated-card-container-shape, var(--mat-app-corner-medium));box-shadow:var(--mdc-elevated-card-container-elevation, var(--mat-app-level1))}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mdc-elevated-card-container-shape, var(--mat-app-corner-medium))}.mat-mdc-card-outlined{background-color:var(--mdc-outlined-card-container-color, var(--mat-app-surface));border-radius:var(--mdc-outlined-card-container-shape, var(--mat-app-corner-medium));border-width:var(--mdc-outlined-card-outline-width);border-color:var(--mdc-outlined-card-outline-color, var(--mat-app-outline-variant));box-shadow:var(--mdc-outlined-card-container-elevation, var(--mat-app-level0))}.mat-mdc-card-outlined::after{border:none}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font, var(--mat-app-title-large-font));line-height:var(--mat-card-title-text-line-height, var(--mat-app-title-large-line-height));font-size:var(--mat-card-title-text-size, var(--mat-app-title-large-size));letter-spacing:var(--mat-card-title-text-tracking, var(--mat-app-title-large-tracking));font-weight:var(--mat-card-title-text-weight, var(--mat-app-title-large-weight))}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color, var(--mat-app-on-surface));font-family:var(--mat-card-subtitle-text-font, var(--mat-app-title-medium-font));line-height:var(--mat-card-subtitle-text-line-height, var(--mat-app-title-medium-line-height));font-size:var(--mat-card-subtitle-text-size, var(--mat-app-title-medium-size));letter-spacing:var(--mat-card-subtitle-text-tracking, var(--mat-app-title-medium-tracking));font-weight:var(--mat-card-subtitle-text-weight, var(--mat-app-title-medium-weight))}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0});let e=t;return e})(),xD=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=ri({type:t,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"],standalone:!0});let e=t;return e})(),SD=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=qe({type:t,selectors:[["mat-card-title-group"]],hostAttrs:[1,"mat-mdc-card-title-group"],standalone:!0,features:[ai],ngContentSelectors:u4t,decls:4,vars:0,template:function(n,o){n&1&&(pn(h4t),Lt(0,"div"),ir(1),Pt(),ir(2,1),ir(3,2))},encapsulation:2,changeDetection:0});let e=t;return e})(),nw=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=ri({type:t,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"],standalone:!0});let e=t;return e})(),ED=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=ri({type:t,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"],standalone:!0});let e=t;return e})();var RD=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=qe({type:t,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],standalone:!0,features:[ai],ngContentSelectors:m4t,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(n,o){n&1&&(pn(f4t),ir(0),Lt(1,"div",0),ir(2,1),Pt(),ir(3,2))},encapsulation:2,changeDetection:0});let e=t;return e})();var ow=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ze({type:t}),t.\u0275inj=Ve({imports:[Si,qn,Si]});let e=t;return e})();function Hnt(e){return e&&e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function Bnt(e){return e}function P9(e,t){t=t||{};let r=t.delimiter||".",i=t.maxDepth,n=t.transformKey||Bnt,o={};function s(a,l,c){c=c||1,Object.keys(a).forEach(function(d){let h=a[d],u=t.safe&&Array.isArray(h),f=Object.prototype.toString.call(h),m=Hnt(h),g=f==="[object Object]"||f==="[object Array]",p=l?l+r+n(d):n(d);if(!u&&!m&&g&&Object.keys(h).length&&(!t.maxDepth||c<i))return s(h,p,c+1);o[p]=h})}return s(e),o}function N9(e,t){t=t||{};let r=t.delimiter||".",i=t.overwrite||!1,n=t.transformKey||Bnt,o={};if(Hnt(e)||Object.prototype.toString.call(e)!=="[object Object]")return e;function a(d){let h=Number(d);return isNaN(h)||d.indexOf(".")!==-1||t.object?d:h}function l(d,h,u){return Object.keys(u).reduce(function(f,m){return f[d+r+m]=u[m],f},h)}function c(d){let h=Object.prototype.toString.call(d),u=h==="[object Array]",f=h==="[object Object]";if(d){if(u)return!d.length;if(f)return!Object.keys(d).length}else return!0}return e=Object.keys(e).reduce(function(d,h){let u=Object.prototype.toString.call(e[h]);return!(u==="[object Object]"||u==="[object Array]")||c(e[h])?(d[h]=e[h],d):l(h,d,P9(e[h],t))},{}),Object.keys(e).forEach(function(d){let h=d.split(r).map(n),u=a(h.shift()),f=a(h[0]),m=o;for(;f!==void 0;){if(u==="__proto__")return;let g=Object.prototype.toString.call(m[u]),p=g==="[object Object]"||g==="[object Array]";if(!i&&!p&&typeof m[u]<"u")return;(i&&!p||!i&&m[u]==null)&&(m[u]=typeof f=="number"&&!t.object?[]:{}),m=m[u],h.length>0&&(u=a(h.shift()),f=a(h[0]))}m[u]=N9(e[d],t)}),o}var F9=class{translations;constructor(t){this.translations=t}getTranslation(t){return Me(this.translations.get(t)||{})}},Unt=new Se("TRANSLOCO_LOADER");function jnt(e,t){return e&&(Object.prototype.hasOwnProperty.call(e,t)?e[t]:t.split(".").reduce((r,i)=>r?.[i],e))}function g4t(e,t,r){e=jt({},e);let i=t.split("."),n=i.length-1;return i.reduce((o,s,a)=>(a===n?o[s]=r:o[s]=Array.isArray(o[s])?o[s].slice():jt({},o[s]),o&&o[s]),e),e}function Wnt(e){return e?Array.isArray(e)?e.length:z9(e)?Object.keys(e).length:e?e.length:0:0}function b4t(e){return Wnt(e)===0}function v4t(e){return typeof e=="function"}function iR(e){return typeof e=="string"}function z9(e){return!!e&&typeof e=="object"&&!Array.isArray(e)}function Ynt(e){return e.replace(/(?:^\w|[A-Z]|\b\w)/g,(t,r)=>r==0?t.toLowerCase():t.toUpperCase()).replace(/\s+|_|-|\//g,"")}function H9(e){return e==null}function Vnt(e){return H9(e)===!1}function U9(e){return e&&typeof e.scope=="string"}function y4t(e){return Array.isArray(e)&&e.every(U9)}function _4t(e){return e&&z9(e.loader)}function w4t(e){return N9(e)}function znt(e){return P9(e,{safe:!0})}var sw=new Se("TRANSLOCO_CONFIG",{providedIn:"root",factory:()=>rR}),rR={defaultLang:"en",reRenderOnLangChange:!1,prodMode:!1,failedRetries:2,fallbackLang:[],availableLangs:[],missingHandler:{logMissingKey:!0,useFallbackTranslation:!1,allowEmpty:!1},flatten:{aot:!1},interpolation:["{{","}}"]};function C4t(e={}){return Ue(jt(jt({},rR),e),{missingHandler:jt(jt({},rR.missingHandler),e.missingHandler),flatten:jt(jt({},rR.flatten),e.flatten)})}var $nt=new Se("TRANSLOCO_TRANSPILER"),x4t=(()=>{class e{interpolationMatcher;constructor(r){this.interpolationMatcher=S4t(r??rR)}transpile(r,i={},n,o){return iR(r)?r.replace(this.interpolationMatcher,(s,a)=>(a=a.trim(),Vnt(i[a])?i[a]:Vnt(n[a])?this.transpile(n[a],i,n,o):"")):(i&&(z9(r)?r=this.handleObject(r,i,n,o):Array.isArray(r)&&(r=this.handleArray(r,i,n,o))),r)}handleObject(r,i={},n,o){let s=r;return Object.keys(i).forEach(a=>{let l=jnt(s,a),c=jnt(i,a),d=this.transpile(l,c,n,o);s=g4t(s,a,d)}),s}handleArray(r,i={},n,o){return r.map(s=>this.transpile(s,i,n,o))}static \u0275fac=function(i){return new(i||e)(Jt(sw,8))};static \u0275prov=we({token:e,factory:e.\u0275fac})}return e})();function S4t(e){let[t,r]=e.interpolation;return new RegExp(`${t}(.*?)${r}`,"g")}var qnt=new Se("TRANSLOCO_MISSING_HANDLER"),E4t=(()=>{class e{handle(r,i){if(i.missingHandler.logMissingKey&&!i.prodMode){let n=`Missing translation for '${r}'`;console.warn(`%c ${n}`,"font-size: 12px; color: red")}return r}static \u0275fac=function(i){return new(i||e)};static \u0275prov=we({token:e,factory:e.\u0275fac})}return e})(),Gnt=new Se("TRANSLOCO_INTERCEPTOR"),R4t=(()=>{class e{preSaveTranslation(r){return r}preSaveTranslationKey(r,i){return i}static \u0275fac=function(i){return new(i||e)};static \u0275prov=we({token:e,factory:e.\u0275fac})}return e})(),Knt=new Se("TRANSLOCO_FALLBACK_STRATEGY"),T4t=(()=>{class e{userConfig;constructor(r){this.userConfig=r}getNextLangs(){let r=this.userConfig.fallbackLang;if(!r)throw new Error("When using the default fallback, a fallback language must be provided in the config!");return Array.isArray(r)?r:[r]}static \u0275fac=function(i){return new(i||e)(Jt(sw))};static \u0275prov=we({token:e,factory:e.\u0275fac})}return e})();function nR(e){if(!e)return"";let t=e.split("/");return t.pop(),t.join("/")}function Gp(e){return e?e.split("/").pop():""}function B9(e,t,r="|"){if(iR(e)){let i=e.split(r),n=i.pop();return n===t?[!0,i.toString()]:[!1,n]}return[!1,""]}function M4t(e,t){let[r]=B9(t,"static");return r?!1:!!e.config.reRenderOnLangChange}function A4t(e){return e?t=>t:to(1)}function I4t(e,t){return Object.keys(e).reduce((r,i)=>(r[`${t}/${i}`]=e[i],r),{})}function Xnt(e,t){return _4t(e)?I4t(e.loader,t):void 0}function L9(e){return{scope:nR(e)||null,langName:Gp(e)}}function Znt(e){let{path:t,inlineLoader:r,mainLoader:i,data:n}=e;if(r){let o=r[t];if(v4t(o)===!1)throw`You're using an inline loader but didn't provide a loader for ${t}`;return r[t]().then(s=>s.default?s.default:s)}return i.getTranslation(t,n)}function k4t({mainLoader:e,path:t,data:r,fallbackPath:i,inlineLoader:n}){return(i?[t,i]:[t]).map(s=>{let a=Znt({path:s,mainLoader:e,inlineLoader:n,data:r});return as(a).pipe(ui(l=>({translation:l,lang:s})))})}var D4t;var Hf=(()=>{class e{loader;parser;missingHandler;interceptor;fallbackStrategy;langChanges$;subscription=null;translations=new Map;cache=new Map;firstFallbackLang;defaultLang="";availableLangs=[];isResolvedMissingOnce=!1;lang;failedLangs=new Set;events=new Qe;events$=this.events.asObservable();config;constructor(r,i,n,o,s,a){this.loader=r,this.parser=i,this.missingHandler=n,this.interceptor=o,this.fallbackStrategy=a,this.loader||(this.loader=new F9(this.translations)),D4t=this,this.config=JSON.parse(JSON.stringify(s)),this.setAvailableLangs(this.config.availableLangs||[]),this.setFallbackLangForMissingTranslation(this.config),this.setDefaultLang(this.config.defaultLang),this.lang=new Yn(this.getDefaultLang()),this.langChanges$=this.lang.asObservable(),this.subscription=this.events$.subscribe(l=>{l.type==="translationLoadSuccess"&&l.wasFailure&&this.setActiveLang(l.payload.langName)})}getDefaultLang(){return this.defaultLang}setDefaultLang(r){this.defaultLang=r}getActiveLang(){return this.lang.getValue()}setActiveLang(r){return this.parser.onLangChanged?.(r),this.lang.next(r),this.events.next({type:"langChanged",payload:L9(r)}),this}setAvailableLangs(r){this.availableLangs=r}getAvailableLangs(){return this.availableLangs}load(r,i={}){let n=this.cache.get(r);if(n)return n;let o,s=this._isLangScoped(r),a;s&&(a=nR(r));let l={path:r,mainLoader:this.loader,inlineLoader:i.inlineLoader,data:s?{scope:a}:void 0};if(this.useFallbackTranslation(r)){let d=s?`${a}/${this.firstFallbackLang}`:this.firstFallbackLang,h=k4t(Ue(jt({},l),{fallbackPath:d}));o=Lu(h)}else{let d=Znt(l);o=as(d)}let c=o.pipe(VH(this.config.failedRetries),fn(d=>{if(Array.isArray(d)){d.forEach(h=>{this.handleSuccess(h.lang,h.translation),h.lang!==r&&this.cache.set(h.lang,Me({}))});return}this.handleSuccess(r,d)}),ls(d=>(this.config.prodMode||console.error(`Error while trying to load "${r}"`,d),this.handleFailure(r,i))),Pw(1));return this.cache.set(r,c),c}translate(r,i={},n=this.getActiveLang()){if(!r)return r;let{scope:o,resolveLang:s}=this.resolveLangAndScope(n);if(Array.isArray(r))return r.map(c=>this.translate(o?`${o}.${c}`:c,i,s));r=o?`${o}.${r}`:r;let a=this.getTranslation(s),l=a[r];return l?this.parser.transpile(l,i,a,r):this._handleMissingKey(r,l,i)}selectTranslate(r,i,n,o=!1){let s,a=(c,d)=>this.load(c,d).pipe(ui(()=>o?this.translateObject(r,i,c):this.translate(r,i,c)));if(H9(n))return this.langChanges$.pipe(_o(c=>a(c)));if(y4t(n)||U9(n)){let c=Array.isArray(n)?n[0]:n;n=c.scope,s=Xnt(c,c.scope)}if(n=n,this.isLang(n)||this.isScopeWithLang(n))return a(n);let l=n;return this.langChanges$.pipe(_o(c=>a(`${l}/${c}`,{inlineLoader:s})))}isScopeWithLang(r){return this.isLang(Gp(r))}translateObject(r,i={},n=this.getActiveLang()){if(iR(r)||Array.isArray(r)){let{resolveLang:s,scope:a}=this.resolveLangAndScope(n);if(Array.isArray(r))return r.map(d=>this.translateObject(a?`${a}.${d}`:d,i,s));let l=this.getTranslation(s);r=a?`${a}.${r}`:r;let c=w4t(this.getObjectByKey(l,r));return b4t(c)?this.translate(r,i,n):this.parser.transpile(c,i,l,r)}let o=[];for(let[s,a]of this.getEntries(r))o.push(this.translateObject(s,a,n));return o}selectTranslateObject(r,i,n){if(iR(r)||Array.isArray(r))return this.selectTranslate(r,i,n,!0);let[[o,s],...a]=this.getEntries(r);return this.selectTranslateObject(o,s,n).pipe(ui(l=>{let c=[l];for(let[d,h]of a)c.push(this.translateObject(d,h,n));return c}))}getTranslation(r){if(r){if(this.isLang(r))return this.translations.get(r)||{};{let{scope:i,resolveLang:n}=this.resolveLangAndScope(r),o=this.translations.get(n)||{};return this.getObjectByKey(o,i)}}return this.translations}selectTranslation(r){let i=this.langChanges$;if(r){let n=Gp(r)!==r;this.isLang(r)||n?i=Me(r):i=this.langChanges$.pipe(ui(o=>`${r}/${o}`))}return i.pipe(_o(n=>this.load(n).pipe(ui(()=>this.getTranslation(n)))))}setTranslation(r,i=this.getActiveLang(),n={}){let s=jt(jt({},{merge:!0,emitChange:!0}),n),a=nR(i),l=r;if(a){let f=this.getMappedScope(a);l=znt({[f]:r})}let c=a?Gp(i):i,d=jt(jt({},s.merge&&this.getTranslation(c)),l),h=this.config.flatten.aot?d:znt(d),u=this.interceptor.preSaveTranslation(h,c);this.translations.set(c,u),s.emitChange&&this.setActiveLang(this.getActiveLang())}setTranslationKey(r,i,n=this.getActiveLang(),o={}){let s=this.interceptor.preSaveTranslationKey(r,i,n),a={[r]:s};this.setTranslation(a,n,Ue(jt({},o),{merge:!0}))}setFallbackLangForMissingTranslation({fallbackLang:r}){let i=Array.isArray(r)?r[0]:r;r&&this.useFallbackTranslation(i)&&(this.firstFallbackLang=i)}_handleMissingKey(r,i,n){if(this.config.missingHandler.allowEmpty&&i==="")return"";if(!this.isResolvedMissingOnce&&this.useFallbackTranslation()){this.isResolvedMissingOnce=!0;let o=this.translate(r,n,this.firstFallbackLang);return this.isResolvedMissingOnce=!1,o}return this.missingHandler.handle(r,this.getMissingHandlerData(),n)}_isLangScoped(r){return this.getAvailableLangsIds().indexOf(r)===-1}isLang(r){return this.getAvailableLangsIds().indexOf(r)!==-1}_loadDependencies(r,i){let n=Gp(r);return this._isLangScoped(r)&&!this.isLoadedTranslation(n)?vc([this.load(n),this.load(r,{inlineLoader:i})]):this.load(r,{inlineLoader:i})}_completeScopeWithLang(r){return this._isLangScoped(r)&&!this.isLang(Gp(r))?`${r}/${this.getActiveLang()}`:r}_setScopeAlias(r,i){this.config.scopeMapping||(this.config.scopeMapping={}),this.config.scopeMapping[r]=i}ngOnDestroy(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null),this.cache.clear()}isLoadedTranslation(r){return Wnt(this.getTranslation(r))}getAvailableLangsIds(){let r=this.getAvailableLangs()[0];return iR(r)?this.getAvailableLangs():this.getAvailableLangs().map(i=>i.id)}getMissingHandlerData(){return Ue(jt({},this.config),{activeLang:this.getActiveLang(),availableLangs:this.availableLangs,defaultLang:this.defaultLang})}useFallbackTranslation(r){return this.config.missingHandler.useFallbackTranslation&&r!==this.firstFallbackLang}handleSuccess(r,i){this.setTranslation(i,r,{emitChange:!1}),this.events.next({wasFailure:!!this.failedLangs.size,type:"translationLoadSuccess",payload:L9(r)}),this.failedLangs.forEach(n=>this.cache.delete(n)),this.failedLangs.clear()}handleFailure(r,i){H9(i.failedCounter)&&(i.failedCounter=0,i.fallbackLangs||(i.fallbackLangs=this.fallbackStrategy.getNextLangs(r)));let n=r.split("/"),s=i.fallbackLangs[i.failedCounter];if(this.failedLangs.add(r),this.cache.has(s))return this.handleSuccess(s,this.getTranslation(s)),ma;let a=s===n[n.length-1];if(!s||a){let c="Unable to load translation and all the fallback languages";throw n.length>1&&(c+=", did you misspelled the scope name?"),new Error(c)}let l=s;return n.length>1&&(n[n.length-1]=s,l=n.join("/")),i.failedCounter++,this.events.next({type:"translationLoadFailure",payload:L9(r)}),this.load(l,i)}getMappedScope(r){let{scopeMapping:i={}}=this.config;return i[r]||Ynt(r)}resolveLangAndScope(r){let i=r,n;if(this._isLangScoped(r)){let o=Gp(r),s=this.isLang(o);i=s?o:this.getActiveLang(),n=this.getMappedScope(s?nR(r):r)}return{scope:n,resolveLang:i}}getObjectByKey(r,i){let n={},o=`${i}.`;for(let s in r)s.startsWith(o)&&(n[s.replace(o,"")]=r[s]);return n}getEntries(r){return r instanceof Map?r.entries():Object.entries(r)}static \u0275fac=function(i){return new(i||e)(Jt(Unt,8),Jt($nt),Jt(qnt),Jt(Gnt),Jt(sw),Jt(Knt))};static \u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var O4t=new Se("TRANSLOCO_LANG"),L4e=new Se("TRANSLOCO_LOADING_TEMPLATE"),P4t=new Se("TRANSLOCO_SCOPE"),j9=class{initialized=!1;resolve({inline:t,provider:r,active:i}){let n=i;if(this.initialized)return n=i,n;if(r){let[,o]=B9(r,"static");n=o}if(t){let[,o]=B9(t,"static");n=o}return this.initialized=!0,n}resolveLangBasedOnScope(t){return nR(t)?Gp(t):t}resolveLangPath(t,r){return r?`${r}/${t}`:t}},V9=class{service;constructor(t){this.service=t}resolve(t){let{inline:r,provider:i}=t;if(r)return r;if(i){if(U9(i)){let{scope:n,alias:o=Ynt(n)}=i;return this.service._setScopeAlias(n,o),n}return i}}};var Kp=(()=>{class e{service;providerScope;providerLang;cdr;subscription=null;lastValue="";lastKey;path;langResolver=new j9;scopeResolver;constructor(r,i,n,o){this.service=r,this.providerScope=i,this.providerLang=n,this.cdr=o,this.scopeResolver=new V9(this.service)}transform(r,i,n){if(!r)return r;let o=i?`${r}${JSON.stringify(i)}`:r;if(o===this.lastKey)return this.lastValue;this.lastKey=o,this.subscription?.unsubscribe();let s=M4t(this.service,this.providerLang||n);return this.subscription=this.service.langChanges$.pipe(_o(a=>{let l=this.langResolver.resolve({inline:n,provider:this.providerLang,active:a});return Array.isArray(this.providerScope)?Lu(this.providerScope.map(c=>this.resolveScope(l,c))):this.resolveScope(l,this.providerScope)}),A4t(s)).subscribe(()=>this.updateValue(r,i)),this.lastValue}ngOnDestroy(){this.subscription?.unsubscribe(),this.subscription=null}updateValue(r,i){let n=this.langResolver.resolveLangBasedOnScope(this.path);this.lastValue=this.service.translate(r,i,n),this.cdr.markForCheck()}resolveScope(r,i){let n=this.scopeResolver.resolve({inline:void 0,provider:i});this.path=this.langResolver.resolveLangPath(r,n);let o=Xnt(i,n);return this.service._loadDependencies(this.path,o)}static \u0275fac=function(i){return new(i||e)(Dt(Hf,16),Dt(P4t,24),Dt(O4t,24),Dt(cr,16))};static \u0275pipe=YH({name:"transloco",type:e,pure:!1,standalone:!0})}return e})();var Xp=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=ze({type:e});static \u0275inj=Ve({})}return e})();function Qnt(e){let t=[F4t(x4t),B4t(E4t),j4t(R4t),H4t(T4t)];return e.config&&t.push(N4t(e.config)),e.loader&&t.push(L4t(e.loader)),t}function N4t(e){return Vl([{provide:sw,useValue:C4t(e)}])}function L4t(e){return Vl([{provide:Unt,useClass:e}])}function F4t(e){return Vl([{provide:$nt,useClass:e,deps:[sw]}])}function H4t(e){return Vl([{provide:Knt,useClass:e,deps:[sw]}])}function B4t(e){return Vl([{provide:qnt,useClass:e}])}function j4t(e){return Vl([{provide:Gnt,useClass:e}])}var F4e=new Se("TRANSLOCO_TEST_LANGS - Available testing languages"),H4e=new Se("TRANSLOCO_TEST_OPTIONS - Testing options");var V4t=(e,t)=>({color:e,"font-weight":t});function z4t(e,t){e&1&&Be(0,"mat-progress-bar",11)}function U4t(e,t){if(e&1&&(Lt(0,"mat-tree-node",7)(1,"button",8)(2,"mat-icon"),ne(3),Pt()(),Lt(4,"span",9),ne(5),Pt(),Ki(6,z4t,1,0,"mat-progress-bar",10),Pt()),e&2){let r=t.$implicit,i=Fi();cl("display",i.filterParentNode(r)?"none":""),ke("cdkTreeNodeTypeaheadLabel",r.item),te(),Yi("aria-label","toggle "+r.item),te(2),Cr(" ",i.treeControl.isExpanded(r)?"expand_more":"chevron_right"," "),te(),ke("ngStyle",Ww(8,V4t,r.item===i.current_active?"purple":"black",r.item===i.current_active?"bold":"normal")),te(),Cr(" ",r.item," "),te(),ke("ngIf",r.isLoading())}}function W4t(e,t){if(e&1&&(Lt(0,"mat-tree-node",12),ne(1),Pt()),e&2){let r=t.$implicit;te(),Cr(" ",r.item," ")}}function Y4t(e,t){if(e&1){let r=Ho();Lt(0,"mat-tree-node",12)(1,"mat-card",13)(2,"div",14)(3,"button",15),fi("click",function(){let n=fr(r).$implicit,o=Fi();return mr(o.fullReportButton(n.item.replace("__CARD__","")))}),ne(4,"FULL REPORT"),Pt()()()()}}var sR=class{constructor(t,r=1,i=!1,n=Vw(!1),o=!1){this.item=t,this.level=r,this.expandable=i,this.isLoading=n,this.isCardNode=o}},TD=[],$4t=[],Kd=[],Zp=new Map,Jnt=(()=>{let t=class t{constructor(i,n){this.http=i,this.database=n,this.dataEvent=new si,this.searchString="",this.dataMap2=new Map,this.getLevel=o=>o.level,this.isParentNode=(o,s)=>s.expandable&&!this.isCardNode(o,s),this.hasChild=(o,s)=>this.database.isExpandable(s.item),this.noChild=(o,s)=>!this.hasChild(o,s)&&!this.isCardNode(o,s),this.isCardNode=(o,s)=>s.item.startsWith("__CARD__")}ngOnInit(){this.treeControl=new _D(i=>i.level,i=>i.expandable),this.dataSource=new W9(this.treeControl,this.database,this.http)}ngOnChanges(i){if(!this.treeControl||!this.dataSource)return;let n=this.getExpandedNodes();if(this.data!=null){Kd=this.data.alias_data,TD=Kd.map(o=>o.name),$4t=Kd.map(o=>o.alias),TD.sort(),Zp.clear();for(let o of TD)Zp.set(o,[])}this.database.changeRootLevelNodes(TD),this.dataSource.data=this.database.initialData(),setTimeout(()=>{this.restoreExpandedNodes(n)})}isExpandable(i){let n=this.dataMap2.get(i),o=!!n&&n.length>0;return console.log(`Checking if "${i}" is expandable: ${o}`),o}filterLeafNode(i){return this.searchString?i.item.toLowerCase().indexOf(this.searchString.toLowerCase())===-1:!1}filterParentNode(i){return!this.searchString||i.item.toLowerCase().indexOf(this.searchString.toLowerCase())!==-1?!1:!this.treeControl.getDescendants(i).some(o=>o.item.toLowerCase().includes(this.searchString.toLowerCase()))}getExpandedNodes(){let i=new Set;return!this.treeControl||!this.treeControl.dataNodes||this.treeControl.dataNodes.forEach(n=>{this.treeControl.isExpanded(n)&&i.add(n.item)}),i}restoreExpandedNodes(i){this.treeControl.dataNodes.forEach(n=>{i.has(n.item)&&this.treeControl.expand(n)})}fullReportButton(i){console.log("Looking for name:",i),console.log("alias_data:",Kd),i==="(All)"&&this.dataEvent.emit(["(All)","(All)"]);let n="";for(let o=0;o<Kd.length;o++)if(console.log(Kd[o]),Kd[o].name===i){n=Kd[o].alias;break}console.log("Found name:",i),console.log("Emitting:",[i,n]),this.dataEvent.emit([i,n])}};t.\u0275fac=function(n){return new(n||t)(Dt(Uu),Dt(q4t))},t.\u0275cmp=qe({type:t,selectors:[["app-tree"]],inputs:{data:"data",current_active:"current_active"},outputs:{dataEvent:"dataEvent"},standalone:!0,features:[er,ai],decls:13,vars:13,consts:[[2,"position","relative","float","right","padding-bottom","50px","display","inline"],[2,"margin-top","10px","width","155px",3,"ngModelChange","ngModel","placeholder"],["mat-button","",1,"mat-small",2,"min-width","1%","border-style","dotted","width","160px","height","20px","border-width","1px",3,"click"],[2,"padding-top","20px"],[3,"dataSource","treeControl"],["matTreeNodePadding","","matTreeNodePadding","","matTreeNodeToggle","","style","max-height: 100px; overflow: hidden; text-overflow: ellipsis; width: 100%; font-size : 12px;",3,"display","cdkTreeNodeTypeaheadLabel",4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodePadding","",4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodePadding","","matTreeNodePadding","","matTreeNodeToggle","",2,"max-height","100px","overflow","hidden","text-overflow","ellipsis","width","100%","font-size","12px",3,"cdkTreeNodeTypeaheadLabel"],["mat-icon-button","","matTreeNodeToggle",""],[3,"ngStyle"],["mode","indeterminate",4,"ngIf"],["mode","indeterminate"],["matTreeNodePadding",""],[2,"min-height","60px","min-width","200px","margin-bottom","20px","margin-top","20px"],[2,"margin-top","8px"],["mat-button","",1,"mat-small",2,"min-width","1%","display","block","margin","auto","margin-bottom","10px",3,"click"]],template:function(n,o){n&1&&(Lt(0,"div",0)(1,"input",1),Jr(2,"transloco"),Vb("ngModelChange",function(a){return jb(o.searchString,a)||(o.searchString=a),a}),Pt(),Be(3,"br")(4,"br"),Lt(5,"button",2),fi("click",function(){return o.fullReportButton("(All)")}),ne(6),Jr(7,"transloco"),Pt()(),Lt(8,"div",3)(9,"mat-tree",4),Ki(10,U4t,7,11,"mat-tree-node",5)(11,W4t,2,1,"mat-tree-node",6)(12,Y4t,5,0,"mat-tree-node",6),Pt()()),n&2&&(te(),aB("placeholder"," ",tn(2,9,"Filter")," \u{1F50E}"),Bb("ngModel",o.searchString),te(5),Cr(" ",tn(7,11,"All")," "),te(3),ke("dataSource",o.dataSource)("treeControl",o.treeControl),te(),ke("matTreeNodeDefWhen",o.isParentNode),te(),ke("matTreeNodeDefWhen",o.noChild),te(),ke("matTreeNodeDefWhen",o.isCardNode))},dependencies:[Fnt,Ont,Pnt,Lnt,Nnt,Dnt,Lh,Cd,mC,$v,Bm,yD,vD,ow,qp,GT,gv,YT,B1,qn,lm,qR,Xp,Kp],changeDetection:0});let e=t;return e})(),q4t=(()=>{let t=class t{constructor(){this.rootLevelNodesSource=new Yn(["test"]),this.rootLevelNodes$=this.rootLevelNodesSource.asObservable()}initialData(){return this.rootLevelNodesSource.value.map(n=>new sR(n,0,this.isExpandable(n)))}getChildren(i){return Zp.get(i)}isExpandable(i){return Zp.has(i)}changeRootLevelNodes(i){this.rootLevelNodesSource.next(i)}updateChildren(i,n,o){Zp.set(i,n);for(let s=0;s<n.length;s++)Zp.set(n[s],[]),Kd.push({alias:o[s],name:n[s]})}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),W9=class{get data(){return this.dataChange.value}set data(t){this._treeControl.dataNodes=t,this.dataChange.next(t)}constructor(t,r,i){this._treeControl=t,this._database=r,this.http=i,this.dataChange=new Yn([])}connect(t){return this._treeControl.expansionModel.changed.subscribe(r=>{(r.added||r.removed)&&this.handleTreeControl(r)}),Bl(t.viewChange,this.dataChange).pipe(ui(()=>this.data))}disconnect(t){}handleTreeControl(t){t.added&&t.added.forEach(r=>this.toggleNode(r,!0)),t.removed&&t.removed.slice().reverse().forEach(r=>this.toggleNode(r,!1))}toggleNode(t,r){t.isLoading.set(!0),setTimeout(()=>{let n=Kd.find(o=>o.name.trim().toLowerCase()===t.item.trim().toLowerCase())?.alias||"";if(!n){t.isLoading.set(!1);return}if(!r){let o=this.data.indexOf(t);if(o<0)return;let s=0;for(let a=o+1;a<this.data.length&&this.data[a].level>t.level;a++)s++;this.data.splice(o+1,s),this.dataChange.next(this.data),t.isLoading.set(!1);return}this.http.get(`https://borealisdata.ca/api/info/metrics/tree/?parentAlias=${n}`).subscribe(o=>{let s=o?.data?.children?.map(f=>f.name)||[],a=o?.data?.children?.map(f=>f.alias)||[];Zp.set(t.item,s);for(let f=0;f<s.length;f++){let m=s[f],g=a[f];Kd.push({alias:g,name:m}),Zp.set(m,[])}let l=this._database.getChildren(t.item),c=this.data.indexOf(t);if(c<0)return;if(this.data[c+1]?.item===`__CARD__${t.item}`){t.isLoading.set(!1);return}let h=new sR(`__CARD__${t.item}`,t.level+1,!1,Vw(!1),!0),u=(l||[]).map(f=>{let m=!!this._database.isExpandable(f);return new sR(f,t.level+1,m)});this.data.splice(c+1,0,h,...u),this.dataChange.next(this.data),t.isLoading.set(!1)})},500)}};hD();var tot=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=qe({type:t,selectors:[["app-generic-table"]],inputs:{data:"data",colHeaders:"colHeaders",colWidths:"colWidths",rowHeaders:"rowHeaders",height:"height",columnSorting:"columnSorting",columns:"columns",dropdownMenu:"dropdownMenu",filters:"filters"},standalone:!0,features:[ai],decls:1,vars:9,consts:[["licenseKey","non-commercial-and-evaluation",1,"hot","hide-scrollbar",2,"overflow-y","hidden","overflow-y","hidden !important",3,"data","colHeaders","colWidths","rowHeaders","height","columnSorting","columns","dropdownMenu","filters"]],template:function(n,o){n&1&&Be(0,"hot-table",0),n&2&&ke("data",o.data)("colHeaders",o.colHeaders)("colWidths",o.colWidths)("rowHeaders",o.rowHeaders)("height",o.height)("columnSorting",o.columnSorting)("columns",o.columns)("dropdownMenu",o.dropdownMenu)("filters",o.filters)},dependencies:[iI,uJ],styles:["*[_ngcontent-%COMP%]{font-family:Verdana,Helvetica,Arial,FreeSans,sans-serif important!;font-size:12px important!}.hide-scrollbar[_ngcontent-%COMP%]{overflow:auto;scrollbar-width:none;-ms-overflow-style:none}.hide-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}"]});let e=t;return e})();var G4t=["input"],K4t=["label"],X4t=["*"],Z4t=new Se("mat-checkbox-default-options",{providedIn:"root",factory:iot});function iot(){return{color:"accent",clickAction:"check-indeterminate",disabledInteractive:!1}}var Aa=function(e){return e[e.Init=0]="Init",e[e.Checked=1]="Checked",e[e.Unchecked=2]="Unchecked",e[e.Indeterminate=3]="Indeterminate",e}(Aa||{}),Q4t={provide:Bg,useExisting:jl(()=>MD),multi:!0},Y9=class{},J4t=0,eot=iot(),MD=(()=>{let t=class t{focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(i){let n=new Y9;return n.source=this,n.checked=i,n}_getAnimationTargetElement(){return this._inputElement?.nativeElement}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(i,n,o,s,a,l){this._elementRef=i,this._changeDetectorRef=n,this._ngZone=o,this._animationMode=a,this._options=l,this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"},this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new si,this.indeterminateChange=new si,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=Aa.Init,this._controlValueAccessorChangeFn=()=>{},this._validatorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||eot,this.color=this._options.color||eot.color,this.tabIndex=parseInt(s)||0,this.id=this._uniqueId=`mat-mdc-checkbox-${++J4t}`,this.disabledInteractive=l?.disabledInteractive??!1}ngOnChanges(i){i.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(i){i!=this.checked&&(this._checked=i,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(i){i!==this.disabled&&(this._disabled=i,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(i){let n=i!=this._indeterminate;this._indeterminate=i,n&&(this._indeterminate?this._transitionCheckState(Aa.Indeterminate):this._transitionCheckState(this.checked?Aa.Checked:Aa.Unchecked),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(i){this.checked=!!i}registerOnChange(i){this._controlValueAccessorChangeFn=i}registerOnTouched(i){this._onTouched=i}setDisabledState(i){this.disabled=i}validate(i){return this.required&&i.value!==!0?{required:!0}:null}registerOnValidatorChange(i){this._validatorChangeFn=i}_transitionCheckState(i){let n=this._currentCheckState,o=this._getAnimationTargetElement();if(!(n===i||!o)&&(this._currentAnimationClass&&o.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(n,i),this._currentCheckState=i,this._currentAnimationClass.length>0)){o.classList.add(this._currentAnimationClass);let s=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{o.classList.remove(s)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){let i=this._options?.clickAction;!this.disabled&&i!=="noop"?(this.indeterminate&&i!=="check"&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?Aa.Checked:Aa.Unchecked),this._emitChangeEvent()):(this.disabled&&this.disabledInteractive||!this.disabled&&i==="noop")&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate)}_onInteractionEvent(i){i.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(i,n){if(this._animationMode==="NoopAnimations")return"";switch(i){case Aa.Init:if(n===Aa.Checked)return this._animationClasses.uncheckedToChecked;if(n==Aa.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case Aa.Unchecked:return n===Aa.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case Aa.Checked:return n===Aa.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case Aa.Indeterminate:return n===Aa.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(i){let n=this._inputElement;n&&(n.nativeElement.indeterminate=i)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(i){i.target&&this._labelElement.nativeElement.contains(i.target)&&i.stopPropagation()}};t.\u0275fac=function(n){return new(n||t)(Dt(di),Dt(cr),Dt(ci),zl("tabindex"),Dt(Fo,8),Dt(Z4t,8))},t.\u0275cmp=qe({type:t,selectors:[["mat-checkbox"]],viewQuery:function(n,o){if(n&1&&(or(G4t,5),or(K4t,5),or(lv,5)),n&2){let s;Hi(s=Bi())&&(o._inputElement=s.first),Hi(s=Bi())&&(o._labelElement=s.first),Hi(s=Bi())&&(o.ripple=s.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:16,hostBindings:function(n,o){n&2&&(ja("id",o.id),Yi("tabindex",null)("aria-label",null)("aria-labelledby",null),ta(o.color?"mat-"+o.color:"mat-accent"),Vi("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mdc-checkbox--disabled",o.disabled)("mat-mdc-checkbox-disabled",o.disabled)("mat-mdc-checkbox-checked",o.checked)("mat-mdc-checkbox-disabled-interactive",o.disabledInteractive))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],id:"id",required:[2,"required","required",Sr],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[2,"disableRipple","disableRipple",Sr],tabIndex:[2,"tabIndex","tabIndex",i=>i==null?void 0:za(i)],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",Sr],checked:[2,"checked","checked",Sr],disabled:[2,"disabled","disabled",Sr],indeterminate:[2,"indeterminate","indeterminate",Sr]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],standalone:!0,features:[xr([Q4t,{provide:xm,useExisting:t,multi:!0}]),Fr,er,ai],ngContentSelectors:X4t,decls:15,vars:20,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(n,o){if(n&1){let s=Ho();pn(),Lt(0,"div",3),fi("click",function(l){return fr(s),mr(o._preventBubblingFromLabel(l))}),Lt(1,"div",4,0)(3,"div",5),fi("click",function(){return fr(s),mr(o._onTouchTargetClick())}),Pt(),Lt(4,"input",6,1),fi("blur",function(){return fr(s),mr(o._onBlur())})("click",function(){return fr(s),mr(o._onInputClick())})("change",function(l){return fr(s),mr(o._onInteractionEvent(l))}),Pt(),Be(6,"div",7),Lt(7,"div",8),Hu(),Lt(8,"svg",9),Be(9,"path",10),Pt(),Nb(),Be(10,"div",11),Pt(),Be(11,"div",12),Pt(),Lt(12,"label",13,2),ir(14),Pt()()}if(n&2){let s=Va(2);ke("labelPosition",o.labelPosition),te(4),Vi("mdc-checkbox--selected",o.checked),ke("checked",o.checked)("indeterminate",o.indeterminate)("disabled",o.disabled&&!o.disabledInteractive)("id",o.inputId)("required",o.required)("tabIndex",o.disabled&&!o.disabledInteractive?-1:o.tabIndex),Yi("aria-label",o.ariaLabel||null)("aria-labelledby",o.ariaLabelledby)("aria-describedby",o.ariaDescribedby)("aria-checked",o.indeterminate?"mixed":null)("aria-disabled",o.disabled&&o.disabledInteractive?!0:null)("name",o.name)("value",o.value),te(7),ke("matRippleTrigger",s)("matRippleDisabled",o.disableRipple||o.disabled)("matRippleCentered",!0),te(),ke("for",o.inputId)}},dependencies:[lv,xV],styles:['.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity));background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity));background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mdc-checkbox__ripple{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.cdk-high-contrast-active .mdc-checkbox--disabled{opacity:.5}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1);-webkit-print-color-adjust:exact;color-adjust:exact;border-color:var(--mdc-checkbox-unselected-icon-color, var(--mat-app-on-surface-variant));top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2)}.mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-icon-color, var(--mat-app-primary))}.mdc-checkbox--disabled .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mat-app-on-surface));background-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-app-primary))}.mdc-checkbox__native-control:focus:focus:not(:checked)~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mat-app-on-surface))}.mdc-checkbox__native-control:focus:focus:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-app-primary))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox:hover .mdc-checkbox__native-control~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.6, 1);color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.cdk-high-contrast-active .mdc-checkbox__checkmark{color:CanvasText}.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.cdk-high-contrast-active .mdc-checkbox--disabled .mdc-checkbox__checkmark,.cdk-high-contrast-active .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:CanvasText}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.cdk-high-contrast-active .mdc-checkbox__mixedmark{margin:0 1px}.mdc-checkbox--disabled .mdc-checkbox__mixedmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms cubic-bezier(0, 0, 0.2, 1),transform 180ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *,.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox .mat-internal-form-field{color:var(--mat-checkbox-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-checkbox-label-text-font, var(--mat-app-body-medium-font));line-height:var(--mat-checkbox-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-checkbox-label-text-size, var(--mat-app-body-medium-size));letter-spacing:var(--mat-checkbox-label-text-tracking, var(--mat-app-body-medium-tracking));font-weight:var(--mat-checkbox-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive{pointer-events:auto}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive input{cursor:default}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color)}.mat-mdc-checkbox label:empty{display:none}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0});let e=t;return e})();var rot=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ze({type:t}),t.\u0275inj=Ve({imports:[MD,Si,Si]});let e=t;return e})();var Kot=ot(oot()),Xot=ot(sot());var Ia=Uint8Array,dc=Uint16Array,iH=Int32Array,AD=new Ia([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ID=new Ia([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Q9=new Ia([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),dot=function(e,t){for(var r=new dc(31),i=0;i<31;++i)r[i]=t+=1<<e[i-1];for(var n=new iH(r[30]),i=1;i<30;++i)for(var o=r[i];o<r[i+1];++o)n[o]=o-r[i]<<5|i;return{b:r,r:n}},hot=dot(AD,2),uot=hot.b,J9=hot.r;uot[28]=258,J9[258]=28;var fot=dot(ID,0),ePt=fot.b,aot=fot.r,tH=new dc(32768);for(hn=0;hn<32768;++hn)Bf=(hn&43690)>>1|(hn&21845)<<1,Bf=(Bf&52428)>>2|(Bf&13107)<<2,Bf=(Bf&61680)>>4|(Bf&3855)<<4,tH[hn]=((Bf&65280)>>8|(Bf&255)<<8)>>1;var Bf,hn,yu=function(e,t,r){for(var i=e.length,n=0,o=new dc(t);n<i;++n)e[n]&&++o[e[n]-1];var s=new dc(t);for(n=1;n<t;++n)s[n]=s[n-1]+o[n-1]<<1;var a;if(r){a=new dc(1<<t);var l=15-t;for(n=0;n<i;++n)if(e[n])for(var c=n<<4|e[n],d=t-e[n],h=s[e[n]-1]++<<d,u=h|(1<<d)-1;h<=u;++h)a[tH[h]>>l]=c}else for(a=new dc(i),n=0;n<i;++n)e[n]&&(a[n]=tH[s[e[n]-1]++]>>15-e[n]);return a},Qp=new Ia(288);for(hn=0;hn<144;++hn)Qp[hn]=8;var hn;for(hn=144;hn<256;++hn)Qp[hn]=9;var hn;for(hn=256;hn<280;++hn)Qp[hn]=7;var hn;for(hn=280;hn<288;++hn)Qp[hn]=8;var hn,cR=new Ia(32);for(hn=0;hn<32;++hn)cR[hn]=5;var hn,iPt=yu(Qp,9,0),rPt=yu(Qp,9,1),nPt=yu(cR,5,0),oPt=yu(cR,5,1),K9=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},Xd=function(e,t,r){var i=t/8|0;return(e[i]|e[i+1]<<8)>>(t&7)&r},X9=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},rH=function(e){return(e+7)/8|0},mot=function(e,t,r){return(t==null||t<0)&&(t=0),(r==null||r>e.length)&&(r=e.length),new Ia(e.subarray(t,r))};var sPt=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Zd=function(e,t,r){var i=new Error(t||sPt[e]);if(i.code=e,Error.captureStackTrace&&Error.captureStackTrace(i,Zd),!r)throw i;return i},aPt=function(e,t,r,i){var n=e.length,o=i?i.length:0;if(!n||t.f&&!t.l)return r||new Ia(0);var s=!r,a=s||t.i!=2,l=t.i;s&&(r=new Ia(n*3));var c=function(tt){var nt=r.length;if(tt>nt){var Ct=new Ia(Math.max(nt*2,tt));Ct.set(r),r=Ct}},d=t.f||0,h=t.p||0,u=t.b||0,f=t.l,m=t.d,g=t.m,p=t.n,b=n*8;do{if(!f){d=Xd(e,h,1);var _=Xd(e,h+1,3);if(h+=3,_)if(_==1)f=rPt,m=oPt,g=9,p=5;else if(_==2){var H=Xd(e,h,31)+257,F=Xd(e,h+10,15)+4,L=H+Xd(e,h+5,31)+1;h+=14;for(var q=new Ia(L),W=new Ia(19),x=0;x<F;++x)W[Q9[x]]=Xd(e,h+x*3,7);h+=F*3;for(var R=K9(W),j=(1<<R)-1,v=yu(W,R,1),x=0;x<L;){var y=v[Xd(e,h,j)];h+=y&15;var E=y>>4;if(E<16)q[x++]=E;else{var C=0,w=0;for(E==16?(w=3+Xd(e,h,3),h+=2,C=q[x-1]):E==17?(w=3+Xd(e,h,7),h+=3):E==18&&(w=11+Xd(e,h,127),h+=7);w--;)q[x++]=C}}var S=q.subarray(0,H),M=q.subarray(H);g=K9(S),p=K9(M),f=yu(S,g,1),m=yu(M,p,1)}else Zd(1);else{var E=rH(h)+4,O=e[E-4]|e[E-3]<<8,V=E+O;if(V>n){l&&Zd(0);break}a&&c(u+O),r.set(e.subarray(E,V),u),t.b=u+=O,t.p=h=V*8,t.f=d;continue}if(h>b){l&&Zd(0);break}}a&&c(u+131072);for(var U=(1<<g)-1,N=(1<<p)-1,T=h;;T=h){var C=f[X9(e,h)&U],B=C>>4;if(h+=C&15,h>b){l&&Zd(0);break}if(C||Zd(2),B<256)r[u++]=B;else if(B==256){T=h,f=null;break}else{var I=B-254;if(B>264){var x=B-257,$=AD[x];I=Xd(e,h,(1<<$)-1)+uot[x],h+=$}var A=m[X9(e,h)&N],k=A>>4;A||Zd(3),h+=A&15;var M=ePt[k];if(k>3){var $=ID[k];M+=X9(e,h)&(1<<$)-1,h+=$}if(h>b){l&&Zd(0);break}a&&c(u+131072);var Y=u+I;if(u<M){var Z=o-M,ct=Math.min(M,Y);for(Z+u<0&&Zd(3);u<ct;++u)r[u]=i[Z+u]}for(;u<Y;++u)r[u]=r[u-M]}}t.l=f,t.p=T,t.b=u,t.f=d,f&&(d=1,t.m=g,t.d=m,t.n=p)}while(!d);return u!=r.length&&s?mot(r,0,u):r.subarray(0,u)},jf=function(e,t,r){r<<=t&7;var i=t/8|0;e[i]|=r,e[i+1]|=r>>8},aR=function(e,t,r){r<<=t&7;var i=t/8|0;e[i]|=r,e[i+1]|=r>>8,e[i+2]|=r>>16},Z9=function(e,t){for(var r=[],i=0;i<e.length;++i)e[i]&&r.push({s:i,f:e[i]});var n=r.length,o=r.slice();if(!n)return{t:got,l:0};if(n==1){var s=new Ia(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(V,H){return V.f-H.f}),r.push({s:-1,f:25001});var a=r[0],l=r[1],c=0,d=1,h=2;for(r[0]={s:-1,f:a.f+l.f,l:a,r:l};d!=n-1;)a=r[r[c].f<r[h].f?c++:h++],l=r[c!=d&&r[c].f<r[h].f?c++:h++],r[d++]={s:-1,f:a.f+l.f,l:a,r:l};for(var u=o[0].s,i=1;i<n;++i)o[i].s>u&&(u=o[i].s);var f=new dc(u+1),m=eH(r[d-1],f,0);if(m>t){var i=0,g=0,p=m-t,b=1<<p;for(o.sort(function(H,F){return f[F.s]-f[H.s]||H.f-F.f});i<n;++i){var _=o[i].s;if(f[_]>t)g+=b-(1<<m-f[_]),f[_]=t;else break}for(g>>=p;g>0;){var E=o[i].s;f[E]<t?g-=1<<t-f[E]++-1:++i}for(;i>=0&&g;--i){var O=o[i].s;f[O]==t&&(--f[O],++g)}m=t}return{t:new Ia(f),l:m}},eH=function(e,t,r){return e.s==-1?Math.max(eH(e.l,t,r+1),eH(e.r,t,r+1)):t[e.s]=r},lot=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new dc(++t),i=0,n=e[0],o=1,s=function(l){r[i++]=l},a=1;a<=t;++a)if(e[a]==n&&a!=t)++o;else{if(!n&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(n),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(n);o=1,n=e[a]}return{c:r.subarray(0,i),n:t}},lR=function(e,t){for(var r=0,i=0;i<t.length;++i)r+=e[i]*t[i];return r},pot=function(e,t,r){var i=r.length,n=rH(t+2);e[n]=i&255,e[n+1]=i>>8,e[n+2]=e[n]^255,e[n+3]=e[n+1]^255;for(var o=0;o<i;++o)e[n+o+4]=r[o];return(n+4+i)*8},cot=function(e,t,r,i,n,o,s,a,l,c,d){jf(t,d++,r),++n[256];for(var h=Z9(n,15),u=h.t,f=h.l,m=Z9(o,15),g=m.t,p=m.l,b=lot(u),_=b.c,E=b.n,O=lot(g),V=O.c,H=O.n,F=new dc(19),L=0;L<_.length;++L)++F[_[L]&31];for(var L=0;L<V.length;++L)++F[V[L]&31];for(var q=Z9(F,7),W=q.t,x=q.l,R=19;R>4&&!W[Q9[R-1]];--R);var j=c+5<<3,v=lR(n,Qp)+lR(o,cR)+s,y=lR(n,u)+lR(o,g)+s+14+3*R+lR(F,W)+2*F[16]+3*F[17]+7*F[18];if(l>=0&&j<=v&&j<=y)return pot(t,d,e.subarray(l,l+c));var C,w,S,M;if(jf(t,d,1+(y<v)),d+=2,y<v){C=yu(u,f,0),w=u,S=yu(g,p,0),M=g;var U=yu(W,x,0);jf(t,d,E-257),jf(t,d+5,H-1),jf(t,d+10,R-4),d+=14;for(var L=0;L<R;++L)jf(t,d+3*L,W[Q9[L]]);d+=3*R;for(var N=[_,V],T=0;T<2;++T)for(var B=N[T],L=0;L<B.length;++L){var I=B[L]&31;jf(t,d,U[I]),d+=W[I],I>15&&(jf(t,d,B[L]>>5&127),d+=B[L]>>12)}}else C=iPt,w=Qp,S=nPt,M=cR;for(var L=0;L<a;++L){var $=i[L];if($>255){var I=$>>18&31;aR(t,d,C[I+257]),d+=w[I+257],I>7&&(jf(t,d,$>>23&31),d+=AD[I]);var A=$&31;aR(t,d,S[A]),d+=M[A],A>3&&(aR(t,d,$>>5&8191),d+=ID[A])}else aR(t,d,C[$]),d+=w[$]}return aR(t,d,C[256]),d+w[256]},lPt=new iH([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),got=new Ia(0),cPt=function(e,t,r,i,n,o){var s=o.z||e.length,a=new Ia(i+s+5*(1+Math.ceil(s/7e3))+n),l=a.subarray(i,a.length-n),c=o.l,d=(o.r||0)&7;if(t){d&&(l[0]=o.r>>3);for(var h=lPt[t-1],u=h>>13,f=h&8191,m=(1<<r)-1,g=o.p||new dc(32768),p=o.h||new dc(m+1),b=Math.ceil(r/3),_=2*b,E=function(xt){return(e[xt]^e[xt+1]<<b^e[xt+2]<<_)&m},O=new iH(25e3),V=new dc(288),H=new dc(32),F=0,L=0,q=o.i||0,W=0,x=o.w||0,R=0;q+2<s;++q){var j=E(q),v=q&32767,y=p[j];if(g[v]=y,p[j]=v,x<=q){var C=s-q;if((F>7e3||W>24576)&&(C>423||!c)){d=cot(e,l,0,O,V,H,L,W,R,q-R,d),W=F=L=0,R=q;for(var w=0;w<286;++w)V[w]=0;for(var w=0;w<30;++w)H[w]=0}var S=2,M=0,U=f,N=v-y&32767;if(C>2&&j==E(q-N))for(var T=Math.min(u,C)-1,B=Math.min(32767,q),I=Math.min(258,C);N<=B&&--U&&v!=y;){if(e[q+S]==e[q+S-N]){for(var $=0;$<I&&e[q+$]==e[q+$-N];++$);if($>S){if(S=$,M=N,$>T)break;for(var A=Math.min(N,$-2),k=0,w=0;w<A;++w){var Y=q-N+w&32767,Z=g[Y],ct=Y-Z&32767;ct>k&&(k=ct,y=Y)}}}v=y,y=g[v],N+=v-y&32767}if(M){O[W++]=268435456|J9[S]<<18|aot[M];var tt=J9[S]&31,nt=aot[M]&31;L+=AD[tt]+ID[nt],++V[257+tt],++H[nt],x=q+S,++F}else O[W++]=e[q],++V[e[q]]}}for(q=Math.max(q,x);q<s;++q)O[W++]=e[q],++V[e[q]];d=cot(e,l,c,O,V,H,L,W,R,q-R,d),c||(o.r=d&7|l[d/8|0]<<3,d-=7,o.h=p,o.p=g,o.i=q,o.w=x)}else{for(var q=o.w||0;q<s+c;q+=65535){var Ct=q+65535;Ct>=s&&(l[d/8|0]=c,Ct=s),d=pot(l,d+1,e.subarray(q,Ct))}o.i=s}return mot(a,0,i+rH(d)+n)};var bot=function(){var e=1,t=0;return{p:function(r){for(var i=e,n=t,o=r.length|0,s=0;s!=o;){for(var a=Math.min(s+2655,o);s<a;++s)n+=i+=r[s];i=(i&65535)+15*(i>>16),n=(n&65535)+15*(n>>16)}e=i,t=n},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},dPt=function(e,t,r,i,n){if(!n&&(n={l:1},t.dictionary)){var o=t.dictionary.subarray(-32768),s=new Ia(o.length+e.length);s.set(o),s.set(e,o.length),e=s,n.w=o.length}return cPt(e,t.level==null?6:t.level,t.mem==null?n.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,i,n)};var vot=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8};var hPt=function(e,t){var r=t.level,i=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=i<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var n=bot();n.p(t.dictionary),vot(e,2,n.d())}},uPt=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Zd(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&Zd(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function kD(e,t){t||(t={});var r=bot();r.p(e);var i=dPt(e,t,t.dictionary?6:2,4);return hPt(i,t),vot(i,i.length-4,r.d()),i}function yot(e,t){return aPt(e.subarray(uPt(e,t&&t.dictionary),-4),{i:2},t&&t.out,t&&t.dictionary)}var fPt=typeof TextDecoder<"u"&&new TextDecoder,mPt=0;try{fPt.decode(got,{stream:!0}),mPt=1}catch{}var Xi=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function nH(){Xi.console&&typeof Xi.console.log=="function"&&Xi.console.log.apply(Xi.console,arguments)}var Qn={log:nH,warn:function(e){Xi.console&&(typeof Xi.console.warn=="function"?Xi.console.warn.apply(Xi.console,arguments):nH.call(null,arguments))},error:function(e){Xi.console&&(typeof Xi.console.error=="function"?Xi.console.error.apply(Xi.console,arguments):nH(e))}};function oH(e,t,r){var i=new XMLHttpRequest;i.open("GET",e),i.responseType="blob",i.onload=function(){cb(i.response,t,r)},i.onerror=function(){Qn.error("could not download file")},i.send()}function _ot(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function DD(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var dR,dH,cb=Xi.saveAs||((typeof window>"u"?"undefined":Hn(window))!=="object"||window!==Xi?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var i=Xi.URL||Xi.webkitURL,n=document.createElement("a");t=t||e.name||"download",n.download=t,n.rel="noopener",typeof e=="string"?(n.href=e,n.origin!==location.origin?_ot(n.href)?oH(e,t,r):DD(n,n.target="_blank"):DD(n)):(n.href=i.createObjectURL(e),setTimeout(function(){i.revokeObjectURL(n.href)},4e4),setTimeout(function(){DD(n)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(_ot(e))oH(e,t,r);else{var i=document.createElement("a");i.href=e,i.target="_blank",setTimeout(function(){DD(i)})}else navigator.msSaveOrOpenBlob(function(n,o){return o===void 0?o={autoBom:!1}:Hn(o)!=="object"&&(Qn.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(n.type)?new Blob(["\uFEFF",n],{type:n.type}):n}(e,r),t)}:function(e,t,r,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof e=="string")return oH(e,t,r);var n=e.type==="application/octet-stream",o=/constructor/i.test(Xi.HTMLElement)||Xi.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||n&&o)&&(typeof FileReader>"u"?"undefined":Hn(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var d=a.result;d=s?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=d:location=d,i=null},a.readAsDataURL(e)}else{var l=Xi.URL||Xi.webkitURL,c=l.createObjectURL(e);i?i.location=c:location.href=c,i=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});function Fot(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],i=0;i<r.length;i++){var n=r[i].re,o=r[i].process,s=n.exec(e);s&&(t=o(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}function sH(e,t){var r=e[0],i=e[1],n=e[2],o=e[3];r=ka(r,i,n,o,t[0],7,-680876936),o=ka(o,r,i,n,t[1],12,-389564586),n=ka(n,o,r,i,t[2],17,606105819),i=ka(i,n,o,r,t[3],22,-1044525330),r=ka(r,i,n,o,t[4],7,-176418897),o=ka(o,r,i,n,t[5],12,1200080426),n=ka(n,o,r,i,t[6],17,-1473231341),i=ka(i,n,o,r,t[7],22,-45705983),r=ka(r,i,n,o,t[8],7,1770035416),o=ka(o,r,i,n,t[9],12,-1958414417),n=ka(n,o,r,i,t[10],17,-42063),i=ka(i,n,o,r,t[11],22,-1990404162),r=ka(r,i,n,o,t[12],7,1804603682),o=ka(o,r,i,n,t[13],12,-40341101),n=ka(n,o,r,i,t[14],17,-1502002290),r=Da(r,i=ka(i,n,o,r,t[15],22,1236535329),n,o,t[1],5,-165796510),o=Da(o,r,i,n,t[6],9,-1069501632),n=Da(n,o,r,i,t[11],14,643717713),i=Da(i,n,o,r,t[0],20,-373897302),r=Da(r,i,n,o,t[5],5,-701558691),o=Da(o,r,i,n,t[10],9,38016083),n=Da(n,o,r,i,t[15],14,-660478335),i=Da(i,n,o,r,t[4],20,-405537848),r=Da(r,i,n,o,t[9],5,568446438),o=Da(o,r,i,n,t[14],9,-1019803690),n=Da(n,o,r,i,t[3],14,-187363961),i=Da(i,n,o,r,t[8],20,1163531501),r=Da(r,i,n,o,t[13],5,-1444681467),o=Da(o,r,i,n,t[2],9,-51403784),n=Da(n,o,r,i,t[7],14,1735328473),r=Oa(r,i=Da(i,n,o,r,t[12],20,-1926607734),n,o,t[5],4,-378558),o=Oa(o,r,i,n,t[8],11,-2022574463),n=Oa(n,o,r,i,t[11],16,1839030562),i=Oa(i,n,o,r,t[14],23,-35309556),r=Oa(r,i,n,o,t[1],4,-1530992060),o=Oa(o,r,i,n,t[4],11,1272893353),n=Oa(n,o,r,i,t[7],16,-155497632),i=Oa(i,n,o,r,t[10],23,-1094730640),r=Oa(r,i,n,o,t[13],4,681279174),o=Oa(o,r,i,n,t[0],11,-358537222),n=Oa(n,o,r,i,t[3],16,-722521979),i=Oa(i,n,o,r,t[6],23,76029189),r=Oa(r,i,n,o,t[9],4,-640364487),o=Oa(o,r,i,n,t[12],11,-421815835),n=Oa(n,o,r,i,t[15],16,530742520),r=Pa(r,i=Oa(i,n,o,r,t[2],23,-995338651),n,o,t[0],6,-198630844),o=Pa(o,r,i,n,t[7],10,1126891415),n=Pa(n,o,r,i,t[14],15,-1416354905),i=Pa(i,n,o,r,t[5],21,-57434055),r=Pa(r,i,n,o,t[12],6,1700485571),o=Pa(o,r,i,n,t[3],10,-1894986606),n=Pa(n,o,r,i,t[10],15,-1051523),i=Pa(i,n,o,r,t[1],21,-2054922799),r=Pa(r,i,n,o,t[8],6,1873313359),o=Pa(o,r,i,n,t[15],10,-30611744),n=Pa(n,o,r,i,t[6],15,-1560198380),i=Pa(i,n,o,r,t[13],21,1309151649),r=Pa(r,i,n,o,t[4],6,-145523070),o=Pa(o,r,i,n,t[11],10,-1120210379),n=Pa(n,o,r,i,t[2],15,718787259),i=Pa(i,n,o,r,t[9],21,-343485551),e[0]=tg(r,e[0]),e[1]=tg(i,e[1]),e[2]=tg(n,e[2]),e[3]=tg(o,e[3])}function zD(e,t,r,i,n,o){return t=tg(tg(t,e),tg(i,o)),tg(t<<n|t>>>32-n,r)}function ka(e,t,r,i,n,o,s){return zD(t&r|~t&i,e,t,n,o,s)}function Da(e,t,r,i,n,o,s){return zD(t&i|r&~i,e,t,n,o,s)}function Oa(e,t,r,i,n,o,s){return zD(t^r^i,e,t,n,o,s)}function Pa(e,t,r,i,n,o,s){return zD(r^(t|~i),e,t,n,o,s)}function Hot(e){var t,r=e.length,i=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)sH(i,pPt(e.substring(t-64,t)));e=e.substring(t-64);var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)n[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(n[t>>2]|=128<<(t%4<<3),t>55)for(sH(i,n),t=0;t<16;t++)n[t]=0;return n[14]=8*r,sH(i,n),i}function pPt(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}dR=Xi.atob.bind(Xi),dH=Xi.btoa.bind(Xi);var wot="0123456789abcdef".split("");function gPt(e){for(var t="",r=0;r<4;r++)t+=wot[e>>8*r+4&15]+wot[e>>8*r&15];return t}function bPt(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function hH(e){return Hot(e).map(bPt).join("")}var vPt=function(e){for(var t=0;t<e.length;t++)e[t]=gPt(e[t]);return e.join("")}(Hot("hello"))!="5d41402abc4b2a76b9719d911017c592";function tg(e,t){if(vPt){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}function uH(e,t){var r,i,n,o;if(e!==r){for(var s=(n=e,o=1+(256/e.length>>0),new Array(o+1).join(n)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var d=a[l];c=(c+d+s.charCodeAt(l))%256,a[l]=a[c],a[c]=d}r=e,i=a}else a=i;var h=t.length,u=0,f=0,m="";for(l=0;l<h;l++)f=(f+(d=a[u=(u+1)%256]))%256,a[u]=a[f],a[f]=d,s=a[(a[u]+a[f])%256],m+=String.fromCharCode(t.charCodeAt(l)^s);return m}var Cot={print:4,modify:8,copy:16,"annot-forms":32};function cw(e,t,r,i){this.v=1,this.r=2;var n=192;e.forEach(function(a){if(Cot.perm!==void 0)throw new Error("Invalid permission: "+a);n+=Cot[a]}),this.padding="(\xBFN^Nu\x8AAd\0NV\xFF\xFA\b..\0\xB6\xD0h>\x80/\f\xA9\xFEdSiz";var o=(t+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,s),this.P=-(1+(255^n)),this.encryptionKey=hH(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=uH(this.encryptionKey,this.padding)}function dw(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,i=0;i<r;i++){var n=e.charCodeAt(i);n<33||n===35||n===37||n===40||n===41||n===47||n===60||n===62||n===91||n===93||n===123||n===125||n>126?t+="#"+("0"+n.toString(16)).slice(-2):t+=e[i]}return t}function xot(e){if(Hn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,i,n){if(n=n||!1,typeof r!="string"||typeof i!="function"||typeof n!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var o=Math.random().toString(35);return t[r][o]=[i,!!n],o},this.unsubscribe=function(r){for(var i in t)if(t[i][r])return delete t[i][r],Object.keys(t[i]).length===0&&delete t[i],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var i=Array.prototype.slice.call(arguments,1),n=[];for(var o in t[r]){var s=t[r][o];try{s[0].apply(e,i)}catch(a){Xi.console&&Qn.error("jsPDF PubSub Error",a.message,a)}s[1]&&n.push(o)}n.length&&n.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function jD(e){if(!(this instanceof jD))return new jD(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function Bot(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function db(e,t,r,i,n){if(!(this instanceof db))return new db(e,t,r,i,n);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,Bot.call(this,i,n)}function hw(e,t,r,i,n){if(!(this instanceof hw))return new hw(e,t,r,i,n);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,Bot.call(this,i,n)}function $i(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],n=arguments[2],o=arguments[3],s=[],a=1,l=16,c="S",d=null;Hn(e=e||{})==="object"&&(r=e.orientation,i=e.unit||i,n=e.format||n,o=e.compress||e.compressPdf||o,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),a=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),s=e.filters||(o===!0?["FlateEncode"]:s),i=i||"mm",r=(""+(r||"P")).toLowerCase();var h=e.putOnlyUsedFonts||!1,u={},f={internal:{},__private__:{}};f.__private__.PubSub=xot;var m="1.3",g=f.__private__.getPdfVersion=function(){return m};f.__private__.setPdfVersion=function(K){m=K};var p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return p};var b=f.__private__.getPageFormat=function(K){return p[K]};n=n||"a4";var _={COMPAT:"compat",ADVANCED:"advanced"},E=_.COMPAT;function O(){this.saveGraphicsState(),at(new ue(Ut,0,0,-Ut,0,ch()*Ut).toString()+" cm"),this.setFontSize(this.getFontSize()/Ut),c="n",E=_.ADVANCED}function V(){this.restoreGraphicsState(),c="S",E=_.COMPAT}var H=f.__private__.combineFontStyleAndFontWeight=function(K,ht){if(K=="bold"&&ht=="normal"||K=="bold"&&ht==400||K=="normal"&&ht=="italic"||K=="bold"&&ht=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ht&&(K=ht==400||ht==="normal"?K==="italic"?"italic":"normal":ht!=700&&ht!=="bold"||K!=="normal"?(ht==700?"bold":ht)+""+K:"bold"),K};f.advancedAPI=function(K){var ht=E===_.COMPAT;return ht&&O.call(this),typeof K!="function"||(K(this),ht&&V.call(this)),this},f.compatAPI=function(K){var ht=E===_.ADVANCED;return ht&&V.call(this),typeof K!="function"||(K(this),ht&&O.call(this)),this},f.isAdvancedAPI=function(){return E===_.ADVANCED};var F,L=function(K){if(E!==_.ADVANCED)throw new Error(K+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},q=f.roundToPrecision=f.__private__.roundToPrecision=function(K,ht){var It=t||ht;if(isNaN(K)||isNaN(It))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return K.toFixed(It).replace(/0+$/,"")};F=f.hpf=f.__private__.hpf=typeof l=="number"?function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.hpf");return q(K,l)}:l==="smart"?function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.hpf");return q(K,K>-1&&K<1?16:5)}:function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.hpf");return q(K,16)};var W=f.f2=f.__private__.f2=function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.f2");return q(K,2)},x=f.__private__.f3=function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.f3");return q(K,3)},R=f.scale=f.__private__.scale=function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.scale");return E===_.COMPAT?K*Ut:E===_.ADVANCED?K:void 0},j=function(K){return E===_.COMPAT?ch()-K:E===_.ADVANCED?K:void 0},v=function(K){return R(j(K))};f.__private__.setPrecision=f.setPrecision=function(K){typeof parseInt(K,10)=="number"&&(t=parseInt(K,10))};var y,C="00000000000000000000000000000000",w=f.__private__.getFileId=function(){return C},S=f.__private__.setFileId=function(K){return C=K!==void 0&&/^[a-fA-F0-9]{32}$/.test(K)?K.toUpperCase():C.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Oo=new cw(d.userPermissions,d.userPassword,d.ownerPassword,C)),C};f.setFileId=function(K){return S(K),this},f.getFileId=function(){return w()};var M=f.__private__.convertDateToPDFDate=function(K){var ht=K.getTimezoneOffset(),It=ht<0?"+":"-",Ft=Math.floor(Math.abs(ht/60)),$t=Math.abs(ht%60),he=[It,I(Ft),"'",I($t),"'"].join("");return["D:",K.getFullYear(),I(K.getMonth()+1),I(K.getDate()),I(K.getHours()),I(K.getMinutes()),I(K.getSeconds()),he].join("")},U=f.__private__.convertPDFDateToDate=function(K){var ht=parseInt(K.substr(2,4),10),It=parseInt(K.substr(6,2),10)-1,Ft=parseInt(K.substr(8,2),10),$t=parseInt(K.substr(10,2),10),he=parseInt(K.substr(12,2),10),Re=parseInt(K.substr(14,2),10);return new Date(ht,It,Ft,$t,he,Re,0)},N=f.__private__.setCreationDate=function(K){var ht;if(K===void 0&&(K=new Date),K instanceof Date)ht=M(K);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(K))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ht=K}return y=ht},T=f.__private__.getCreationDate=function(K){var ht=y;return K==="jsDate"&&(ht=U(y)),ht};f.setCreationDate=function(K){return N(K),this},f.getCreationDate=function(K){return T(K)};var B,I=f.__private__.padd2=function(K){return("0"+parseInt(K)).slice(-2)},$=f.__private__.padd2Hex=function(K){return("00"+(K=K.toString())).substr(K.length)},A=0,k=[],Y=[],Z=0,ct=[],tt=[],nt=!1,Ct=Y,xt=function(){A=0,Z=0,Y=[],k=[],ct=[],Ui=mi(),Ye=mi()};f.__private__.setCustomOutputDestination=function(K){nt=!0,Ct=K};var rt=function(K){nt||(Ct=K)};f.__private__.resetCustomOutputDestination=function(){nt=!1,Ct=Y};var at=f.__private__.out=function(K){return K=K.toString(),Z+=K.length+1,Ct.push(K),Ct},_t=f.__private__.write=function(K){return at(arguments.length===1?K.toString():Array.prototype.join.call(arguments," "))},J=f.__private__.getArrayBuffer=function(K){for(var ht=K.length,It=new ArrayBuffer(ht),Ft=new Uint8Array(It);ht--;)Ft[ht]=K.charCodeAt(ht);return It},et=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return et};var lt=e.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(K){return lt=E===_.ADVANCED?K/Ut:K,this};var ut,mt=f.__private__.getFontSize=f.getFontSize=function(){return E===_.COMPAT?lt:lt*Ut},wt=e.R2L||!1;f.__private__.setR2L=f.setR2L=function(K){return wt=K,this},f.__private__.getR2L=f.getR2L=function(){return wt};var vt,Rt=f.__private__.setZoomMode=function(K){var ht=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(K))ut=K;else if(isNaN(K)){if(ht.indexOf(K)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+K+'" is not recognized.');ut=K}else ut=parseInt(K,10)};f.__private__.getZoomMode=function(){return ut};var Mt,Et=f.__private__.setPageMode=function(K){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(K)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+K+'" is not recognized.');vt=K};f.__private__.getPageMode=function(){return vt};var kt=f.__private__.setLayoutMode=function(K){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(K)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+K+'" is not recognized.');Mt=K};f.__private__.getLayoutMode=function(){return Mt},f.__private__.setDisplayMode=f.setDisplayMode=function(K,ht,It){return Rt(K),kt(ht),Et(It),this};var zt={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(K){if(Object.keys(zt).indexOf(K)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return zt[K]},f.__private__.getDocumentProperties=function(){return zt},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(K){for(var ht in zt)zt.hasOwnProperty(ht)&&K[ht]&&(zt[ht]=K[ht]);return this},f.__private__.setDocumentProperty=function(K,ht){if(Object.keys(zt).indexOf(K)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return zt[K]=ht};var Yt,Ut,ie,Zt,Fe,le={},fe={},ki=[],Ae={},ni={},Pi={},ti={},hi=null,be=0,ye=[],xe=new xot(f),Ur=e.hotfixes||[],We={},Te={},Jn=[],ue=function K(ht,It,Ft,$t,he,Re){if(!(this instanceof K))return new K(ht,It,Ft,$t,he,Re);isNaN(ht)&&(ht=1),isNaN(It)&&(It=0),isNaN(Ft)&&(Ft=0),isNaN($t)&&($t=1),isNaN(he)&&(he=0),isNaN(Re)&&(Re=0),this._matrix=[ht,It,Ft,$t,he,Re]};Object.defineProperty(ue.prototype,"sx",{get:function(){return this._matrix[0]},set:function(K){this._matrix[0]=K}}),Object.defineProperty(ue.prototype,"shy",{get:function(){return this._matrix[1]},set:function(K){this._matrix[1]=K}}),Object.defineProperty(ue.prototype,"shx",{get:function(){return this._matrix[2]},set:function(K){this._matrix[2]=K}}),Object.defineProperty(ue.prototype,"sy",{get:function(){return this._matrix[3]},set:function(K){this._matrix[3]=K}}),Object.defineProperty(ue.prototype,"tx",{get:function(){return this._matrix[4]},set:function(K){this._matrix[4]=K}}),Object.defineProperty(ue.prototype,"ty",{get:function(){return this._matrix[5]},set:function(K){this._matrix[5]=K}}),Object.defineProperty(ue.prototype,"a",{get:function(){return this._matrix[0]},set:function(K){this._matrix[0]=K}}),Object.defineProperty(ue.prototype,"b",{get:function(){return this._matrix[1]},set:function(K){this._matrix[1]=K}}),Object.defineProperty(ue.prototype,"c",{get:function(){return this._matrix[2]},set:function(K){this._matrix[2]=K}}),Object.defineProperty(ue.prototype,"d",{get:function(){return this._matrix[3]},set:function(K){this._matrix[3]=K}}),Object.defineProperty(ue.prototype,"e",{get:function(){return this._matrix[4]},set:function(K){this._matrix[4]=K}}),Object.defineProperty(ue.prototype,"f",{get:function(){return this._matrix[5]},set:function(K){this._matrix[5]=K}}),Object.defineProperty(ue.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ue.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ue.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ue.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ue.prototype.join=function(K){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(F).join(K)},ue.prototype.multiply=function(K){var ht=K.sx*this.sx+K.shy*this.shx,It=K.sx*this.shy+K.shy*this.sy,Ft=K.shx*this.sx+K.sy*this.shx,$t=K.shx*this.shy+K.sy*this.sy,he=K.tx*this.sx+K.ty*this.shx+this.tx,Re=K.tx*this.shy+K.ty*this.sy+this.ty;return new ue(ht,It,Ft,$t,he,Re)},ue.prototype.decompose=function(){var K=this.sx,ht=this.shy,It=this.shx,Ft=this.sy,$t=this.tx,he=this.ty,Re=Math.sqrt(K*K+ht*ht),$e=(K/=Re)*It+(ht/=Re)*Ft;It-=K*$e,Ft-=ht*$e;var Mi=Math.sqrt(It*It+Ft*Ft);return $e/=Mi,K*(Ft/=Mi)<ht*(It/=Mi)&&(K=-K,ht=-ht,$e=-$e,Re=-Re),{scale:new ue(Re,0,0,Mi,0,0),translate:new ue(1,0,0,1,$t,he),rotate:new ue(K,ht,-ht,K,0,0),skew:new ue(1,0,$e,1,0,0)}},ue.prototype.toString=function(K){return this.join(" ")},ue.prototype.inversed=function(){var K=this.sx,ht=this.shy,It=this.shx,Ft=this.sy,$t=this.tx,he=this.ty,Re=1/(K*Ft-ht*It),$e=Ft*Re,Mi=-ht*Re,Qi=-It*Re,Ji=K*Re;return new ue($e,Mi,Qi,Ji,-$e*$t-Qi*he,-Mi*$t-Ji*he)},ue.prototype.applyToPoint=function(K){var ht=K.x*this.sx+K.y*this.shx+this.tx,It=K.x*this.shy+K.y*this.sy+this.ty;return new ah(ht,It)},ue.prototype.applyToRectangle=function(K){var ht=this.applyToPoint(K),It=this.applyToPoint(new ah(K.x+K.w,K.y+K.h));return new lg(ht.x,ht.y,It.x-ht.x,It.y-ht.y)},ue.prototype.clone=function(){var K=this.sx,ht=this.shy,It=this.shx,Ft=this.sy,$t=this.tx,he=this.ty;return new ue(K,ht,It,Ft,$t,he)},f.Matrix=ue;var Ot=f.matrixMult=function(K,ht){return ht.multiply(K)},Qt=new ue(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=Qt;var ee=function(K,ht){if(!ni[K]){var It=(ht instanceof db?"Sh":"P")+(Object.keys(Ae).length+1).toString(10);ht.id=It,ni[K]=It,Ae[It]=ht,xe.publish("addPattern",ht)}};f.ShadingPattern=db,f.TilingPattern=hw,f.addShadingPattern=function(K,ht){return L("addShadingPattern()"),ee(K,ht),this},f.beginTilingPattern=function(K){L("beginTilingPattern()"),_b(K.boundingBox[0],K.boundingBox[1],K.boundingBox[2]-K.boundingBox[0],K.boundingBox[3]-K.boundingBox[1],K.matrix)},f.endTilingPattern=function(K,ht){L("endTilingPattern()"),ht.stream=tt[B].join(`
`),ee(K,ht),xe.publish("endTilingPattern",ht),Jn.pop().restore()};var se=f.__private__.newObject=function(){var K=mi();return Ee(K,!0),K},mi=f.__private__.newObjectDeferred=function(){return A++,k[A]=function(){return Z},A},Ee=function(K,ht){return ht=typeof ht=="boolean"&&ht,k[K]=Z,ht&&at(K+" 0 obj"),K},De=f.__private__.newAdditionalObject=function(){var K={objId:mi(),content:""};return ct.push(K),K},Ui=mi(),Ye=mi(),Pe=f.__private__.decodeColorString=function(K){var ht=K.split(" ");if(ht.length!==2||ht[1]!=="g"&&ht[1]!=="G")ht.length===5&&(ht[4]==="k"||ht[4]==="K")&&(ht=[(1-ht[0])*(1-ht[3]),(1-ht[1])*(1-ht[3]),(1-ht[2])*(1-ht[3]),"r"]);else{var It=parseFloat(ht[0]);ht=[It,It,It,"r"]}for(var Ft="#",$t=0;$t<3;$t++)Ft+=("0"+Math.floor(255*parseFloat(ht[$t])).toString(16)).slice(-2);return Ft},ar=f.__private__.encodeColorString=function(K){var ht;typeof K=="string"&&(K={ch1:K});var It=K.ch1,Ft=K.ch2,$t=K.ch3,he=K.ch4,Re=K.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof It=="string"&&It.charAt(0)!=="#"){var $e=new Fot(It);if($e.ok)It=$e.toHex();else if(!/^\d*\.?\d*$/.test(It))throw new Error('Invalid color "'+It+'" passed to jsPDF.encodeColorString.')}if(typeof It=="string"&&/^#[0-9A-Fa-f]{3}$/.test(It)&&(It="#"+It[1]+It[1]+It[2]+It[2]+It[3]+It[3]),typeof It=="string"&&/^#[0-9A-Fa-f]{6}$/.test(It)){var Mi=parseInt(It.substr(1),16);It=Mi>>16&255,Ft=Mi>>8&255,$t=255&Mi}if(Ft===void 0||he===void 0&&It===Ft&&Ft===$t)if(typeof It=="string")ht=It+" "+Re[0];else switch(K.precision){case 2:ht=W(It/255)+" "+Re[0];break;case 3:default:ht=x(It/255)+" "+Re[0]}else if(he===void 0||Hn(he)==="object"){if(he&&!isNaN(he.a)&&he.a===0)return ht=["1.","1.","1.",Re[1]].join(" ");if(typeof It=="string")ht=[It,Ft,$t,Re[1]].join(" ");else switch(K.precision){case 2:ht=[W(It/255),W(Ft/255),W($t/255),Re[1]].join(" ");break;default:case 3:ht=[x(It/255),x(Ft/255),x($t/255),Re[1]].join(" ")}}else if(typeof It=="string")ht=[It,Ft,$t,he,Re[2]].join(" ");else switch(K.precision){case 2:ht=[W(It),W(Ft),W($t),W(he),Re[2]].join(" ");break;case 3:default:ht=[x(It),x(Ft),x($t),x(he),Re[2]].join(" ")}return ht},Wi=f.__private__.getFilters=function(){return s},Ti=f.__private__.putStream=function(K){var ht=(K=K||{}).data||"",It=K.filters||Wi(),Ft=K.alreadyAppliedFilters||[],$t=K.addLength1||!1,he=ht.length,Re=K.objectId,$e=function(Rs){return Rs};if(d!==null&&Re===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&($e=Oo.encryptor(Re,0));var Mi={};It===!0&&(It=["FlateEncode"]);var Qi=K.additionalKeyValues||[],Ji=(Mi=$i.API.processDataByFilters!==void 0?$i.API.processDataByFilters(ht,It):{data:ht,reverseChain:[]}).reverseChain+(Array.isArray(Ft)?Ft.join(" "):Ft.toString());if(Mi.data.length!==0&&(Qi.push({key:"Length",value:Mi.data.length}),$t===!0&&Qi.push({key:"Length1",value:he})),Ji.length!=0)if(Ji.split("/").length-1==1)Qi.push({key:"Filter",value:Ji});else{Qi.push({key:"Filter",value:"["+Ji+"]"});for(var Or=0;Or<Qi.length;Or+=1)if(Qi[Or].key==="DecodeParms"){for(var lo=[],go=0;go<Mi.reverseChain.split("/").length-1;go+=1)lo.push("null");lo.push(Qi[Or].value),Qi[Or].value="["+lo.join(" ")+"]"}}at("<<");for(var Po=0;Po<Qi.length;Po++)at("/"+Qi[Po].key+" "+Qi[Po].value);at(">>"),Mi.data.length!==0&&(at("stream"),at($e(Mi.data)),at("endstream"))},br=f.__private__.putPage=function(K){var ht=K.number,It=K.data,Ft=K.objId,$t=K.contentsObjId;Ee(Ft,!0),at("<</Type /Page"),at("/Parent "+K.rootDictionaryObjId+" 0 R"),at("/Resources "+K.resourceDictionaryObjId+" 0 R"),at("/MediaBox ["+parseFloat(F(K.mediaBox.bottomLeftX))+" "+parseFloat(F(K.mediaBox.bottomLeftY))+" "+F(K.mediaBox.topRightX)+" "+F(K.mediaBox.topRightY)+"]"),K.cropBox!==null&&at("/CropBox ["+F(K.cropBox.bottomLeftX)+" "+F(K.cropBox.bottomLeftY)+" "+F(K.cropBox.topRightX)+" "+F(K.cropBox.topRightY)+"]"),K.bleedBox!==null&&at("/BleedBox ["+F(K.bleedBox.bottomLeftX)+" "+F(K.bleedBox.bottomLeftY)+" "+F(K.bleedBox.topRightX)+" "+F(K.bleedBox.topRightY)+"]"),K.trimBox!==null&&at("/TrimBox ["+F(K.trimBox.bottomLeftX)+" "+F(K.trimBox.bottomLeftY)+" "+F(K.trimBox.topRightX)+" "+F(K.trimBox.topRightY)+"]"),K.artBox!==null&&at("/ArtBox ["+F(K.artBox.bottomLeftX)+" "+F(K.artBox.bottomLeftY)+" "+F(K.artBox.topRightX)+" "+F(K.artBox.topRightY)+"]"),typeof K.userUnit=="number"&&K.userUnit!==1&&at("/UserUnit "+K.userUnit),xe.publish("putPage",{objId:Ft,pageContext:ye[ht],pageNumber:ht,page:It}),at("/Contents "+$t+" 0 R"),at(">>"),at("endobj");var he=It.join(`
`);return E===_.ADVANCED&&(he+=`
Q`),Ee($t,!0),Ti({data:he,filters:Wi(),objectId:$t}),at("endobj"),Ft},rn=f.__private__.putPages=function(){var K,ht,It=[];for(K=1;K<=be;K++)ye[K].objId=mi(),ye[K].contentsObjId=mi();for(K=1;K<=be;K++)It.push(br({number:K,data:tt[K],objId:ye[K].objId,contentsObjId:ye[K].contentsObjId,mediaBox:ye[K].mediaBox,cropBox:ye[K].cropBox,bleedBox:ye[K].bleedBox,trimBox:ye[K].trimBox,artBox:ye[K].artBox,userUnit:ye[K].userUnit,rootDictionaryObjId:Ui,resourceDictionaryObjId:Ye}));Ee(Ui,!0),at("<</Type /Pages");var Ft="/Kids [";for(ht=0;ht<be;ht++)Ft+=It[ht]+" 0 R ";at(Ft+"]"),at("/Count "+be),at(">>"),at("endobj"),xe.publish("postPutPages")},nn=function(K){xe.publish("putFont",{font:K,out:at,newObject:se,putStream:Ti}),K.isAlreadyPutted!==!0&&(K.objectNumber=se(),at("<<"),at("/Type /Font"),at("/BaseFont /"+dw(K.postScriptName)),at("/Subtype /Type1"),typeof K.encoding=="string"&&at("/Encoding /"+K.encoding),at("/FirstChar 32"),at("/LastChar 255"),at(">>"),at("endobj"))},Wn=function(){for(var K in le)le.hasOwnProperty(K)&&(h===!1||h===!0&&u.hasOwnProperty(K))&&nn(le[K])},Tn=function(K){K.objectNumber=se();var ht=[];ht.push({key:"Type",value:"/XObject"}),ht.push({key:"Subtype",value:"/Form"}),ht.push({key:"BBox",value:"["+[F(K.x),F(K.y),F(K.x+K.width),F(K.y+K.height)].join(" ")+"]"}),ht.push({key:"Matrix",value:"["+K.matrix.toString()+"]"});var It=K.pages[1].join(`
`);Ti({data:It,additionalKeyValues:ht,objectId:K.objectNumber}),at("endobj")},po=function(){for(var K in We)We.hasOwnProperty(K)&&Tn(We[K])},At=function(K,ht){var It,Ft=[],$t=1/(ht-1);for(It=0;It<1;It+=$t)Ft.push(It);if(Ft.push(1),K[0].offset!=0){var he={offset:0,color:K[0].color};K.unshift(he)}if(K[K.length-1].offset!=1){var Re={offset:1,color:K[K.length-1].color};K.push(Re)}for(var $e="",Mi=0,Qi=0;Qi<Ft.length;Qi++){for(It=Ft[Qi];It>K[Mi+1].offset;)Mi++;var Ji=K[Mi].offset,Or=(It-Ji)/(K[Mi+1].offset-Ji),lo=K[Mi].color,go=K[Mi+1].color;$e+=$(Math.round((1-Or)*lo[0]+Or*go[0]).toString(16))+$(Math.round((1-Or)*lo[1]+Or*go[1]).toString(16))+$(Math.round((1-Or)*lo[2]+Or*go[2]).toString(16))}return $e.trim()},Gt=function(K,ht){ht||(ht=21);var It=se(),Ft=At(K.colors,ht),$t=[];$t.push({key:"FunctionType",value:"0"}),$t.push({key:"Domain",value:"[0.0 1.0]"}),$t.push({key:"Size",value:"["+ht+"]"}),$t.push({key:"BitsPerSample",value:"8"}),$t.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),$t.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ti({data:Ft,additionalKeyValues:$t,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:It}),at("endobj"),K.objectNumber=se(),at("<< /ShadingType "+K.type),at("/ColorSpace /DeviceRGB");var he="/Coords ["+F(parseFloat(K.coords[0]))+" "+F(parseFloat(K.coords[1]))+" ";K.type===2?he+=F(parseFloat(K.coords[2]))+" "+F(parseFloat(K.coords[3])):he+=F(parseFloat(K.coords[2]))+" "+F(parseFloat(K.coords[3]))+" "+F(parseFloat(K.coords[4]))+" "+F(parseFloat(K.coords[5])),at(he+="]"),K.matrix&&at("/Matrix ["+K.matrix.toString()+"]"),at("/Function "+It+" 0 R"),at("/Extend [true true]"),at(">>"),at("endobj")},oe=function(K,ht){var It=mi(),Ft=se();ht.push({resourcesOid:It,objectOid:Ft}),K.objectNumber=Ft;var $t=[];$t.push({key:"Type",value:"/Pattern"}),$t.push({key:"PatternType",value:"1"}),$t.push({key:"PaintType",value:"1"}),$t.push({key:"TilingType",value:"1"}),$t.push({key:"BBox",value:"["+K.boundingBox.map(F).join(" ")+"]"}),$t.push({key:"XStep",value:F(K.xStep)}),$t.push({key:"YStep",value:F(K.yStep)}),$t.push({key:"Resources",value:It+" 0 R"}),K.matrix&&$t.push({key:"Matrix",value:"["+K.matrix.toString()+"]"}),Ti({data:K.stream,additionalKeyValues:$t,objectId:K.objectNumber}),at("endobj")},ae=function(K){var ht;for(ht in Ae)Ae.hasOwnProperty(ht)&&(Ae[ht]instanceof db?Gt(Ae[ht]):Ae[ht]instanceof hw&&oe(Ae[ht],K))},Ie=function(K){for(var ht in K.objectNumber=se(),at("<<"),K)switch(ht){case"opacity":at("/ca "+W(K[ht]));break;case"stroke-opacity":at("/CA "+W(K[ht]))}at(">>"),at("endobj")},li=function(){var K;for(K in Pi)Pi.hasOwnProperty(K)&&Ie(Pi[K])},oi=function(){for(var K in at("/XObject <<"),We)We.hasOwnProperty(K)&&We[K].objectNumber>=0&&at("/"+K+" "+We[K].objectNumber+" 0 R");xe.publish("putXobjectDict"),at(">>")},ur=function(){Oo.oid=se(),at("<<"),at("/Filter /Standard"),at("/V "+Oo.v),at("/R "+Oo.r),at("/U <"+Oo.toHexString(Oo.U)+">"),at("/O <"+Oo.toHexString(Oo.O)+">"),at("/P "+Oo.P),at(">>"),at("endobj")},ji=function(){for(var K in at("/Font <<"),le)le.hasOwnProperty(K)&&(h===!1||h===!0&&u.hasOwnProperty(K))&&at("/"+K+" "+le[K].objectNumber+" 0 R");at(">>")},Di=function(){if(Object.keys(Ae).length>0){for(var K in at("/Shading <<"),Ae)Ae.hasOwnProperty(K)&&Ae[K]instanceof db&&Ae[K].objectNumber>=0&&at("/"+K+" "+Ae[K].objectNumber+" 0 R");xe.publish("putShadingPatternDict"),at(">>")}},Ni=function(K){if(Object.keys(Ae).length>0){for(var ht in at("/Pattern <<"),Ae)Ae.hasOwnProperty(ht)&&Ae[ht]instanceof f.TilingPattern&&Ae[ht].objectNumber>=0&&Ae[ht].objectNumber<K&&at("/"+ht+" "+Ae[ht].objectNumber+" 0 R");xe.publish("putTilingPatternDict"),at(">>")}},Pn=function(){if(Object.keys(Pi).length>0){var K;for(K in at("/ExtGState <<"),Pi)Pi.hasOwnProperty(K)&&Pi[K].objectNumber>=0&&at("/"+K+" "+Pi[K].objectNumber+" 0 R");xe.publish("putGStateDict"),at(">>")}},nr=function(K){Ee(K.resourcesOid,!0),at("<<"),at("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),ji(),Di(),Ni(K.objectOid),Pn(),oi(),at(">>"),at("endobj")},kr=function(){var K=[];Wn(),li(),po(),ae(K),xe.publish("putResources"),K.forEach(nr),nr({resourcesOid:Ye,objectOid:Number.MAX_SAFE_INTEGER}),xe.publish("postPutResources")},jr=function(){xe.publish("putAdditionalObjects");for(var K=0;K<ct.length;K++){var ht=ct[K];Ee(ht.objId,!0),at(ht.content),at("endobj")}xe.publish("postPutAdditionalObjects")},So=function(K){fe[K.fontName]=fe[K.fontName]||{},fe[K.fontName][K.fontStyle]=K.id},ns=function(K,ht,It,Ft,$t){var he={id:"F"+(Object.keys(le).length+1).toString(10),postScriptName:K,fontName:ht,fontStyle:It,encoding:Ft,isStandardFont:$t||!1,metadata:{}};return xe.publish("addFont",{font:he,instance:this}),le[he.id]=he,So(he),he.id},xs=function(K){for(var ht=0,It=et.length;ht<It;ht++){var Ft=ns.call(this,K[ht][0],K[ht][1],K[ht][2],et[ht][3],!0);h===!1&&(u[Ft]=!0);var $t=K[ht][0].split("-");So({id:Ft,fontName:$t[0],fontStyle:$t[1]||""})}xe.publish("addFonts",{fonts:le,dictionary:fe})},so=function(K){return K.foo=function(){try{return K.apply(this,arguments)}catch(Ft){var ht=Ft.stack||"";~ht.indexOf(" at ")&&(ht=ht.split(" at ")[1]);var It="Error in function "+ht.split(`
`)[0].split("<")[0]+": "+Ft.message;if(!Xi.console)throw new Error(It);Xi.console.error(It,Ft),Xi.alert&&alert(It)}},K.foo.bar=K,K.foo},la=function(K,ht){var It,Ft,$t,he,Re,$e,Mi,Qi,Ji;if($t=(ht=ht||{}).sourceEncoding||"Unicode",Re=ht.outputEncoding,(ht.autoencode||Re)&&le[Yt].metadata&&le[Yt].metadata[$t]&&le[Yt].metadata[$t].encoding&&(he=le[Yt].metadata[$t].encoding,!Re&&le[Yt].encoding&&(Re=le[Yt].encoding),!Re&&he.codePages&&(Re=he.codePages[0]),typeof Re=="string"&&(Re=he[Re]),Re)){for(Mi=!1,$e=[],It=0,Ft=K.length;It<Ft;It++)(Qi=Re[K.charCodeAt(It)])?$e.push(String.fromCharCode(Qi)):$e.push(K[It]),$e[It].charCodeAt(0)>>8&&(Mi=!0);K=$e.join("")}for(It=K.length;Mi===void 0&&It!==0;)K.charCodeAt(It-1)>>8&&(Mi=!0),It--;if(!Mi)return K;for($e=ht.noBOM?[]:[254,255],It=0,Ft=K.length;It<Ft;It++){if((Ji=(Qi=K.charCodeAt(It))>>8)>>8)throw new Error("Character at position "+It+" of string '"+K+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");$e.push(Ji),$e.push(Qi-(Ji<<8))}return String.fromCharCode.apply(void 0,$e)},ao=f.__private__.pdfEscape=f.pdfEscape=function(K,ht){return la(K,ht).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},$s=f.__private__.beginPage=function(K){tt[++be]=[],ye[be]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(K[0]),topRightY:Number(K[1])}},Ss(be),rt(tt[B])},Tr=function(K,ht){var It,Ft,$t;switch(r=ht||r,typeof K=="string"&&(It=b(K.toLowerCase()),Array.isArray(It)&&(Ft=It[0],$t=It[1])),Array.isArray(K)&&(Ft=K[0]*Ut,$t=K[1]*Ut),isNaN(Ft)&&(Ft=n[0],$t=n[1]),(Ft>14400||$t>14400)&&(Qn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ft=Math.min(14400,Ft),$t=Math.min(14400,$t)),n=[Ft,$t],r.substr(0,1)){case"l":$t>Ft&&(n=[$t,Ft]);break;case"p":Ft>$t&&(n=[$t,Ft])}$s(n),gb(Uf),at(el),ag!==0&&at(ag+" J"),Fa!==0&&at(Fa+" j"),xe.publish("addPage",{pageNumber:be})},Dr=function(K){K>0&&K<=be&&(tt.splice(K,1),ye.splice(K,1),be--,B>be&&(B=be),this.setPage(B))},Ss=function(K){K>0&&K<=be&&(B=K)},Dl=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return tt.length-1},rd=function(K,ht,It){var Ft,$t=void 0;return It=It||{},K=K!==void 0?K:le[Yt].fontName,ht=ht!==void 0?ht:le[Yt].fontStyle,Ft=K.toLowerCase(),fe[Ft]!==void 0&&fe[Ft][ht]!==void 0?$t=fe[Ft][ht]:fe[K]!==void 0&&fe[K][ht]!==void 0?$t=fe[K][ht]:It.disableWarning===!1&&Qn.warn("Unable to look up font label for font '"+K+"', '"+ht+"'. Refer to getFontList() for available fonts."),$t||It.noFallback||($t=fe.times[ht])==null&&($t=fe.times.normal),$t},us=f.__private__.putInfo=function(){var K=se(),ht=function(Ft){return Ft};for(var It in d!==null&&(ht=Oo.encryptor(K,0)),at("<<"),at("/Producer ("+ao(ht("jsPDF "+$i.version))+")"),zt)zt.hasOwnProperty(It)&&zt[It]&&at("/"+It.substr(0,1).toUpperCase()+It.substr(1)+" ("+ao(ht(zt[It]))+")");at("/CreationDate ("+ao(ht(y))+")"),at(">>"),at("endobj")},qs=f.__private__.putCatalog=function(K){var ht=(K=K||{}).rootDictionaryObjId||Ui;switch(se(),at("<<"),at("/Type /Catalog"),at("/Pages "+ht+" 0 R"),ut||(ut="fullwidth"),ut){case"fullwidth":at("/OpenAction [3 0 R /FitH null]");break;case"fullheight":at("/OpenAction [3 0 R /FitV null]");break;case"fullpage":at("/OpenAction [3 0 R /Fit]");break;case"original":at("/OpenAction [3 0 R /XYZ null null 1]");break;default:var It=""+ut;It.substr(It.length-1)==="%"&&(ut=parseInt(ut)/100),typeof ut=="number"&&at("/OpenAction [3 0 R /XYZ null null "+W(ut)+"]")}switch(Mt||(Mt="continuous"),Mt){case"continuous":at("/PageLayout /OneColumn");break;case"single":at("/PageLayout /SinglePage");break;case"two":case"twoleft":at("/PageLayout /TwoColumnLeft");break;case"tworight":at("/PageLayout /TwoColumnRight")}vt&&at("/PageMode /"+vt),xe.publish("putCatalog"),at(">>"),at("endobj")},tl=f.__private__.putTrailer=function(){at("trailer"),at("<<"),at("/Size "+(A+1)),at("/Root "+A+" 0 R"),at("/Info "+(A-1)+" 0 R"),d!==null&&at("/Encrypt "+Oo.oid+" 0 R"),at("/ID [ <"+C+"> <"+C+"> ]"),at(">>")},nd=f.__private__.putHeader=function(){at("%PDF-"+m),at("%\xBA\xDF\xAC\xE0")},eh=f.__private__.putXRef=function(){var K="0000000000";at("xref"),at("0 "+(A+1)),at("0000000000 65535 f ");for(var ht=1;ht<=A;ht++)typeof k[ht]=="function"?at((K+k[ht]()).slice(-10)+" 00000 n "):k[ht]!==void 0?at((K+k[ht]).slice(-10)+" 00000 n "):at("0000000000 00000 n ")},Es=f.__private__.buildDocument=function(){xt(),rt(Y),xe.publish("buildDocument"),nd(),rn(),jr(),kr(),d!==null&&ur(),us(),qs();var K=Z;return eh(),tl(),at("startxref"),at(""+K),at("%%EOF"),rt(tt[B]),Y.join(`
`)},fs=f.__private__.getBlob=function(K){return new Blob([J(K)],{type:"application/pdf"})},od=f.output=f.__private__.output=so(function(K,ht){switch(typeof(ht=ht||{})=="string"?ht={filename:ht}:ht.filename=ht.filename||"generated.pdf",K){case void 0:return Es();case"save":f.save(ht.filename);break;case"arraybuffer":return J(Es());case"blob":return fs(Es());case"bloburi":case"bloburl":if(Xi.URL!==void 0&&typeof Xi.URL.createObjectURL=="function")return Xi.URL&&Xi.URL.createObjectURL(fs(Es()))||void 0;Qn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var It="",Ft=Es();try{It=dH(Ft)}catch{It=dH(unescape(encodeURIComponent(Ft)))}return"data:application/pdf;filename="+ht.filename+";base64,"+It;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Xi)==="[object Window]"){var $t="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",he=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ht.pdfObjectUrl&&($t=ht.pdfObjectUrl,he="");var Re='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+$t+'"'+he+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ht)+");<\/script></body></html>",$e=Xi.open();return $e!==null&&$e.document.write(Re),$e}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Xi)==="[object Window]"){var Mi='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ht.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ht.filename+'" width="500px" height="400px" /></body></html>',Qi=Xi.open();if(Qi!==null){Qi.document.write(Mi);var Ji=this;Qi.document.documentElement.querySelector("#pdfViewer").onload=function(){Qi.document.title=ht.filename,Qi.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ji.output("bloburl"))}}return Qi}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Xi)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Or='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ht)+'"></iframe></body></html>',lo=Xi.open();if(lo!==null&&(lo.document.write(Or),lo.document.title=ht.filename),lo||typeof safari>"u")return lo;break;case"datauri":case"dataurl":return Xi.document.location.href=this.output("datauristring",ht);default:return null}}),hc=function(K){return Array.isArray(Ur)===!0&&Ur.indexOf(K)>-1};switch(i){case"pt":Ut=1;break;case"mm":Ut=72/25.4;break;case"cm":Ut=72/2.54;break;case"in":Ut=72;break;case"px":Ut=hc("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ut=12;break;case"ex":Ut=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);Ut=i}var Oo=null;N(),S();var ih=function(K){return d!==null?Oo.encryptor(K,0):function(ht){return ht}},sd=f.__private__.getPageInfo=f.getPageInfo=function(K){if(isNaN(K)||K%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ye[K].objId,pageNumber:K,pageContext:ye[K]}},qi=f.__private__.getPageInfoByObjId=function(K){if(isNaN(K)||K%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ht in ye)if(ye[ht].objId===K)break;return sd(ht)},rh=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:ye[B].objId,pageNumber:B,pageContext:ye[B]}};f.addPage=function(){return Tr.apply(this,arguments),this},f.setPage=function(){return Ss.apply(this,arguments),rt.call(this,tt[B]),this},f.insertPage=function(K){return this.addPage(),this.movePage(B,K),this},f.movePage=function(K,ht){var It,Ft;if(K>ht){It=tt[K],Ft=ye[K];for(var $t=K;$t>ht;$t--)tt[$t]=tt[$t-1],ye[$t]=ye[$t-1];tt[ht]=It,ye[ht]=Ft,this.setPage(ht)}else if(K<ht){It=tt[K],Ft=ye[K];for(var he=K;he<ht;he++)tt[he]=tt[he+1],ye[he]=ye[he+1];tt[ht]=It,ye[ht]=Ft,this.setPage(ht)}return this},f.deletePage=function(){return Dr.apply(this,arguments),this},f.__private__.text=f.text=function(K,ht,It,Ft,$t){var he,Re,$e,Mi,Qi,Ji,Or,lo,go,Po=(Ft=Ft||{}).scope||this;if(typeof K=="number"&&typeof ht=="number"&&(typeof It=="string"||Array.isArray(It))){var Rs=It;It=ht,ht=K,K=Rs}if(arguments[3]instanceof ue?(L("The transform parameter of text() with a Matrix value"),go=$t):($e=arguments[4],Mi=arguments[5],Hn(Or=arguments[3])==="object"&&Or!==null||(typeof $e=="string"&&(Mi=$e,$e=null),typeof Or=="string"&&(Mi=Or,Or=null),typeof Or=="number"&&($e=Or,Or=null),Ft={flags:Or,angle:$e,align:Mi})),isNaN(ht)||isNaN(It)||K==null)throw new Error("Invalid arguments passed to jsPDF.text");if(K.length===0)return Po;var $o="",Ol=!1,ca=typeof Ft.lineHeightFactor=="number"?Ft.lineHeightFactor:oh,Vr=Po.internal.scaleFactor;function wb(Nn){return Nn=Nn.split("	").join(Array(Ft.TabLen||9).join(" ")),ao(Nn,Or)}function hg(Nn){for(var Ln,Eo=Nn.concat(),qo=[],ud=Eo.length;ud--;)typeof(Ln=Eo.shift())=="string"?qo.push(Ln):Array.isArray(Nn)&&(Ln.length===1||Ln[1]===void 0&&Ln[2]===void 0)?qo.push(Ln[0]):qo.push([Ln[0],Ln[1],Ln[2]]);return qo}function Gf(Nn,Ln){var Eo;if(typeof Nn=="string")Eo=Ln(Nn)[0];else if(Array.isArray(Nn)){for(var qo,ud,vg=Nn.concat(),em=[],Sb=vg.length;Sb--;)typeof(qo=vg.shift())=="string"?em.push(Ln(qo)[0]):Array.isArray(qo)&&typeof qo[0]=="string"&&(ud=Ln(qo[0],qo[1],qo[2]),em.push([ud[0],ud[1],ud[2]]));Eo=em}return Eo}var Kf=!1,ug=!0;if(typeof K=="string")Kf=!0;else if(Array.isArray(K)){var fg=K.concat();Re=[];for(var mc,ms=fg.length;ms--;)(typeof(mc=fg.shift())!="string"||Array.isArray(mc)&&typeof mc[0]!="string")&&(ug=!1);Kf=ug}if(Kf===!1)throw new Error('Type of text must be string or Array. "'+K+'" is not recognized.');typeof K=="string"&&(K=K.match(/[\r?\n]/)?K.split(/\r\n|\r|\n/g):[K]);var Xf=lt/Po.internal.scaleFactor,Zf=Xf*(ca-1);switch(Ft.baseline){case"bottom":It-=Zf;break;case"top":It+=Xf-Zf;break;case"hanging":It+=Xf-2*Zf;break;case"middle":It+=Xf/2-Zf}if((Ji=Ft.maxWidth||0)>0&&(typeof K=="string"?K=Po.splitTextToSize(K,Ji):Object.prototype.toString.call(K)==="[object Array]"&&(K=K.reduce(function(Nn,Ln){return Nn.concat(Po.splitTextToSize(Ln,Ji))},[]))),he={text:K,x:ht,y:It,options:Ft,mutex:{pdfEscape:ao,activeFontKey:Yt,fonts:le,activeFontSize:lt}},xe.publish("preProcessText",he),K=he.text,$e=(Ft=he.options).angle,!(go instanceof ue)&&$e&&typeof $e=="number"){$e*=Math.PI/180,Ft.rotationDirection===0&&($e=-$e),E===_.ADVANCED&&($e=-$e);var ld=Math.cos($e),dh=Math.sin($e);go=new ue(ld,dh,-dh,ld,0,0)}else $e&&$e instanceof ue&&(go=$e);E!==_.ADVANCED||go||(go=Qt),(Qi=Ft.charSpace||La)!==void 0&&($o+=F(R(Qi))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(lo=Ft.horizontalScale)!==void 0&&($o+=F(100*lo)+` Tz
`),Ft.lang;var Ts=-1,ww=Ft.renderingMode!==void 0?Ft.renderingMode:Ft.stroke,Qf=Po.internal.getCurrentPageInfo().pageContext;switch(ww){case 0:case!1:case"fill":Ts=0;break;case 1:case!0:case"stroke":Ts=1;break;case 2:case"fillThenStroke":Ts=2;break;case 3:case"invisible":Ts=3;break;case 4:case"fillAndAddForClipping":Ts=4;break;case 5:case"strokeAndAddPathForClipping":Ts=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ts=6;break;case 7:case"addToPathForClipping":Ts=7}var Cb=Qf.usedRenderingMode!==void 0?Qf.usedRenderingMode:-1;Ts!==-1?$o+=Ts+` Tr
`:Cb!==-1&&($o+=`0 Tr
`),Ts!==-1&&(Qf.usedRenderingMode=Ts),Mi=Ft.align||"left";var da,hh=lt*ca,Jf=Po.internal.pageSize.getWidth(),xb=le[Yt];Qi=Ft.charSpace||La,Ji=Ft.maxWidth||0,Or=Object.assign({autoencode:!0,noBOM:!0},Ft.flags);var uh=[],Ru=function(Nn){return Po.getStringUnitWidth(Nn,{font:xb,charSpace:Qi,fontSize:lt,doKerning:!1})*lt/Vr};if(Object.prototype.toString.call(K)==="[object Array]"){var ha;Re=hg(K),Mi!=="left"&&(da=Re.map(Ru));var Gs,fh=0;if(Mi==="right"){ht-=da[0],K=[],ms=Re.length;for(var cd=0;cd<ms;cd++)cd===0?(Gs=Wr(ht),ha=Na(It)):(Gs=R(fh-da[cd]),ha=-hh),K.push([Re[cd],Gs,ha]),fh=da[cd]}else if(Mi==="center"){ht-=da[0]/2,K=[],ms=Re.length;for(var dd=0;dd<ms;dd++)dd===0?(Gs=Wr(ht),ha=Na(It)):(Gs=R((fh-da[dd])/2),ha=-hh),K.push([Re[dd],Gs,ha]),fh=da[dd]}else if(Mi==="left"){K=[],ms=Re.length;for(var tm=0;tm<ms;tm++)K.push(Re[tm])}else if(Mi==="justify"&&xb.encoding==="Identity-H"){K=[],ms=Re.length,Ji=Ji!==0?Ji:Jf;for(var hd=0,bo=0;bo<ms;bo++)if(ha=bo===0?Na(It):-hh,Gs=bo===0?Wr(ht):hd,bo<ms-1){var mg=R((Ji-da[bo])/(Re[bo].split(" ").length-1)),Ks=Re[bo].split(" ");K.push([Ks[0]+" ",Gs,ha]),hd=0;for(var vo=1;vo<Ks.length;vo++){var il=(Ru(Ks[vo-1]+" "+Ks[vo])-Ru(Ks[vo]))*Vr+mg;vo==Ks.length-1?K.push([Ks[vo],il,0]):K.push([Ks[vo]+" ",il,0]),hd-=il}}else K.push([Re[bo],Gs,ha]);K.push(["",hd,0])}else{if(Mi!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(K=[],ms=Re.length,Ji=Ji!==0?Ji:Jf,bo=0;bo<ms;bo++)ha=bo===0?Na(It):-hh,Gs=bo===0?Wr(ht):0,bo<ms-1?uh.push(F(R((Ji-da[bo])/(Re[bo].split(" ").length-1)))):uh.push(0),K.push([Re[bo],Gs,ha])}}var pg=typeof Ft.R2L=="boolean"?Ft.R2L:wt;pg===!0&&(K=Gf(K,function(Nn,Ln,Eo){return[Nn.split("").reverse().join(""),Ln,Eo]})),he={text:K,x:ht,y:It,options:Ft,mutex:{pdfEscape:ao,activeFontKey:Yt,fonts:le,activeFontSize:lt}},xe.publish("postProcessText",he),K=he.text,Ol=he.mutex.isHex||!1;var gg=le[Yt].encoding;gg!=="WinAnsiEncoding"&&gg!=="StandardEncoding"||(K=Gf(K,function(Nn,Ln,Eo){return[wb(Nn),Ln,Eo]})),Re=hg(K),K=[];for(var mh,ph,gh,Tu=0,Mu=1,Au=Array.isArray(Re[0])?Mu:Tu,bh="",bg=function(Nn,Ln,Eo){var qo="";return Eo instanceof ue?(Eo=typeof Ft.angle=="number"?Ot(Eo,new ue(1,0,0,1,Nn,Ln)):Ot(new ue(1,0,0,1,Nn,Ln),Eo),E===_.ADVANCED&&(Eo=Ot(new ue(1,0,0,-1,0,0),Eo)),qo=Eo.join(" ")+` Tm
`):qo=F(Nn)+" "+F(Ln)+` Td
`,qo},rl=0;rl<Re.length;rl++){switch(bh="",Au){case Mu:gh=(Ol?"<":"(")+Re[rl][0]+(Ol?">":")"),mh=parseFloat(Re[rl][1]),ph=parseFloat(Re[rl][2]);break;case Tu:gh=(Ol?"<":"(")+Re[rl]+(Ol?">":")"),mh=Wr(ht),ph=Na(It)}uh!==void 0&&uh[rl]!==void 0&&(bh=uh[rl]+` Tw
`),rl===0?K.push(bh+bg(mh,ph,go)+gh):Au===Tu?K.push(bh+gh):Au===Mu&&K.push(bh+bg(mh,ph,go)+gh)}K=Au===Tu?K.join(` Tj
T* `):K.join(` Tj
`),K+=` Tj
`;var nl=`BT
/`;return nl+=Yt+" "+lt+` Tf
`,nl+=F(lt*ca)+` TL
`,nl+=Su+`
`,nl+=$o,nl+=K,at(nl+="ET"),u[Yt]=!0,Po};var nh=f.__private__.clip=f.clip=function(K){return at(K==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return nh("evenodd")},f.__private__.discardPath=f.discardPath=function(){return at("n"),this};var uc=f.__private__.isValidStyle=function(K){var ht=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(K)!==-1&&(ht=!0),ht};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(K){return uc(K)&&(c=K),this};var mb=f.__private__.getStyle=f.getStyle=function(K){var ht=c;switch(K){case"D":case"S":ht="S";break;case"F":ht="f";break;case"FD":case"DF":ht="B";break;case"f":case"f*":case"B":case"B*":ht=K}return ht},pb=f.close=function(){return at("h"),this};f.stroke=function(){return at("S"),this},f.fill=function(K){return zf("f",K),this},f.fillEvenOdd=function(K){return zf("f*",K),this},f.fillStroke=function(K){return zf("B",K),this},f.fillStrokeEvenOdd=function(K){return zf("B*",K),this};var zf=function(K,ht){Hn(ht)==="object"?vw(ht,K):at(K)},ig=function(K){K===null||E===_.ADVANCED&&K===void 0||(K=mb(K),at(K))};function bw(K,ht,It,Ft,$t){var he=new hw(ht||this.boundingBox,It||this.xStep,Ft||this.yStep,this.gState,$t||this.matrix);he.stream=this.stream;var Re=K+"$$"+this.cloneIndex+++"$$";return ee(Re,he),he}var vw=function(K,ht){var It=ni[K.key],Ft=Ae[It];if(Ft instanceof db)at("q"),at(yw(ht)),Ft.gState&&f.setGState(Ft.gState),at(K.matrix.toString()+" cm"),at("/"+It+" sh"),at("Q");else if(Ft instanceof hw){var $t=new ue(1,0,0,-1,0,ch());K.matrix&&($t=$t.multiply(K.matrix||Qt),It=bw.call(Ft,K.key,K.boundingBox,K.xStep,K.yStep,$t).id),at("q"),at("/Pattern cs"),at("/"+It+" scn"),Ft.gState&&f.setGState(Ft.gState),at(ht),at("Q")}},yw=function(K){switch(K){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},rg=f.moveTo=function(K,ht){return at(F(R(K))+" "+F(v(ht))+" m"),this},ad=f.lineTo=function(K,ht){return at(F(R(K))+" "+F(v(ht))+" l"),this},fc=f.curveTo=function(K,ht,It,Ft,$t,he){return at([F(R(K)),F(v(ht)),F(R(It)),F(v(Ft)),F(R($t)),F(v(he)),"c"].join(" ")),this};f.__private__.line=f.line=function(K,ht,It,Ft,$t){if(isNaN(K)||isNaN(ht)||isNaN(It)||isNaN(Ft)||!uc($t))throw new Error("Invalid arguments passed to jsPDF.line");return E===_.COMPAT?this.lines([[It-K,Ft-ht]],K,ht,[1,1],$t||"S"):this.lines([[It-K,Ft-ht]],K,ht,[1,1]).stroke()},f.__private__.lines=f.lines=function(K,ht,It,Ft,$t,he){var Re,$e,Mi,Qi,Ji,Or,lo,go,Po,Rs,$o,Ol;if(typeof K=="number"&&(Ol=It,It=ht,ht=K,K=Ol),Ft=Ft||[1,1],he=he||!1,isNaN(ht)||isNaN(It)||!Array.isArray(K)||!Array.isArray(Ft)||!uc($t)||typeof he!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(rg(ht,It),Re=Ft[0],$e=Ft[1],Qi=K.length,Rs=ht,$o=It,Mi=0;Mi<Qi;Mi++)(Ji=K[Mi]).length===2?(Rs=Ji[0]*Re+Rs,$o=Ji[1]*$e+$o,ad(Rs,$o)):(Or=Ji[0]*Re+Rs,lo=Ji[1]*$e+$o,go=Ji[2]*Re+Rs,Po=Ji[3]*$e+$o,Rs=Ji[4]*Re+Rs,$o=Ji[5]*$e+$o,fc(Or,lo,go,Po,Rs,$o));return he&&pb(),ig($t),this},f.path=function(K){for(var ht=0;ht<K.length;ht++){var It=K[ht],Ft=It.c;switch(It.op){case"m":rg(Ft[0],Ft[1]);break;case"l":ad(Ft[0],Ft[1]);break;case"c":fc.apply(this,Ft);break;case"h":pb()}}return this},f.__private__.rect=f.rect=function(K,ht,It,Ft,$t){if(isNaN(K)||isNaN(ht)||isNaN(It)||isNaN(Ft)||!uc($t))throw new Error("Invalid arguments passed to jsPDF.rect");return E===_.COMPAT&&(Ft=-Ft),at([F(R(K)),F(v(ht)),F(R(It)),F(R(Ft)),"re"].join(" ")),ig($t),this},f.__private__.triangle=f.triangle=function(K,ht,It,Ft,$t,he,Re){if(isNaN(K)||isNaN(ht)||isNaN(It)||isNaN(Ft)||isNaN($t)||isNaN(he)||!uc(Re))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[It-K,Ft-ht],[$t-It,he-Ft],[K-$t,ht-he]],K,ht,[1,1],Re,!0),this},f.__private__.roundedRect=f.roundedRect=function(K,ht,It,Ft,$t,he,Re){if(isNaN(K)||isNaN(ht)||isNaN(It)||isNaN(Ft)||isNaN($t)||isNaN(he)||!uc(Re))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var $e=4/3*(Math.SQRT2-1);return $t=Math.min($t,.5*It),he=Math.min(he,.5*Ft),this.lines([[It-2*$t,0],[$t*$e,0,$t,he-he*$e,$t,he],[0,Ft-2*he],[0,he*$e,-$t*$e,he,-$t,he],[2*$t-It,0],[-$t*$e,0,-$t,-he*$e,-$t,-he],[0,2*he-Ft],[0,-he*$e,$t*$e,-he,$t,-he]],K+$t,ht,[1,1],Re,!0),this},f.__private__.ellipse=f.ellipse=function(K,ht,It,Ft,$t){if(isNaN(K)||isNaN(ht)||isNaN(It)||isNaN(Ft)||!uc($t))throw new Error("Invalid arguments passed to jsPDF.ellipse");var he=4/3*(Math.SQRT2-1)*It,Re=4/3*(Math.SQRT2-1)*Ft;return rg(K+It,ht),fc(K+It,ht-Re,K+he,ht-Ft,K,ht-Ft),fc(K-he,ht-Ft,K-It,ht-Re,K-It,ht),fc(K-It,ht+Re,K-he,ht+Ft,K,ht+Ft),fc(K+he,ht+Ft,K+It,ht+Re,K+It,ht),ig($t),this},f.__private__.circle=f.circle=function(K,ht,It,Ft){if(isNaN(K)||isNaN(ht)||isNaN(It)||!uc(Ft))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(K,ht,It,It,Ft)},f.setFont=function(K,ht,It){return It&&(ht=H(ht,It)),Yt=rd(K,ht,{disableWarning:!1}),this};var _w=f.__private__.getFont=f.getFont=function(){return le[rd.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var K,ht,It={};for(K in fe)if(fe.hasOwnProperty(K))for(ht in It[K]=[],fe[K])fe[K].hasOwnProperty(ht)&&It[K].push(ht);return It},f.addFont=function(K,ht,It,Ft,$t){var he=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&he.indexOf(arguments[3])!==-1?$t=arguments[3]:arguments[3]&&he.indexOf(arguments[3])==-1&&(It=H(It,Ft)),$t=$t||"Identity-H",ns.call(this,K,ht,It,$t)};var oh,Uf=e.lineWidth||.200025,Wf=f.__private__.getLineWidth=f.getLineWidth=function(){return Uf},gb=f.__private__.setLineWidth=f.setLineWidth=function(K){return Uf=K,at(F(R(K))+" w"),this};f.__private__.setLineDash=$i.API.setLineDash=$i.API.setLineDashPattern=function(K,ht){if(K=K||[],ht=ht||0,isNaN(ht)||!Array.isArray(K))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return K=K.map(function(It){return F(R(It))}).join(" "),ht=F(R(ht)),at("["+K+"] "+ht+" d"),this};var bb=f.__private__.getLineHeight=f.getLineHeight=function(){return lt*oh};f.__private__.getLineHeight=f.getLineHeight=function(){return lt*oh};var vb=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(K){return typeof(K=K||1.15)=="number"&&(oh=K),this},ng=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return oh};vb(e.lineHeight);var Wr=f.__private__.getHorizontalCoordinate=function(K){return R(K)},Na=f.__private__.getVerticalCoordinate=function(K){return E===_.ADVANCED?K:ye[B].mediaBox.topRightY-ye[B].mediaBox.bottomLeftY-R(K)},xu=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(K){return F(Wr(K))},sh=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(K){return F(Na(K))},el=e.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return Pe(el)},f.__private__.setStrokeColor=f.setDrawColor=function(K,ht,It,Ft){return el=ar({ch1:K,ch2:ht,ch3:It,ch4:Ft,pdfColorType:"draw",precision:2}),at(el),this};var og=e.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return Pe(og)},f.__private__.setFillColor=f.setFillColor=function(K,ht,It,Ft){return og=ar({ch1:K,ch2:ht,ch3:It,ch4:Ft,pdfColorType:"fill",precision:2}),at(og),this};var Su=e.textColor||"0 g",Yf=f.__private__.getTextColor=f.getTextColor=function(){return Pe(Su)};f.__private__.setTextColor=f.setTextColor=function(K,ht,It,Ft){return Su=ar({ch1:K,ch2:ht,ch3:It,ch4:Ft,pdfColorType:"text",precision:3}),this};var La=e.charSpace,sg=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(La||0)};f.__private__.setCharSpace=f.setCharSpace=function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return La=K,this};var ag=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(K){var ht=f.CapJoinStyles[K];if(ht===void 0)throw new Error("Line cap style of '"+K+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ag=ht,at(ht+" J"),this};var Fa=0;f.__private__.setLineJoin=f.setLineJoin=function(K){var ht=f.CapJoinStyles[K];if(ht===void 0)throw new Error("Line join style of '"+K+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Fa=ht,at(ht+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(K){if(K=K||0,isNaN(K))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return at(F(R(K))+" M"),this},f.GState=jD,f.setGState=function(K){(K=typeof K=="string"?Pi[ti[K]]:yb(null,K)).equals(hi)||(at("/"+K.id+" gs"),hi=K)};var yb=function(K,ht){if(!K||!ti[K]){var It=!1;for(var Ft in Pi)if(Pi.hasOwnProperty(Ft)&&Pi[Ft].equals(ht)){It=!0;break}if(It)ht=Pi[Ft];else{var $t="GS"+(Object.keys(Pi).length+1).toString(10);Pi[$t]=ht,ht.id=$t}return K&&(ti[K]=ht.id),xe.publish("addGState",ht),ht}};f.addGState=function(K,ht){return yb(K,ht),this},f.saveGraphicsState=function(){return at("q"),ki.push({key:Yt,size:lt,color:Su}),this},f.restoreGraphicsState=function(){at("Q");var K=ki.pop();return Yt=K.key,lt=K.size,Su=K.color,hi=null,this},f.setCurrentTransformationMatrix=function(K){return at(K.toString()+" cm"),this},f.comment=function(K){return at("#"+K),this};var ah=function(K,ht){var It=K||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return It},set:function(he){isNaN(he)||(It=parseFloat(he))}});var Ft=ht||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ft},set:function(he){isNaN(he)||(Ft=parseFloat(he))}});var $t="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return $t},set:function(he){$t=he.toString()}}),this},lg=function(K,ht,It,Ft){ah.call(this,K,ht),this.type="rect";var $t=It||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return $t},set:function(Re){isNaN(Re)||($t=parseFloat(Re))}});var he=Ft||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return he},set:function(Re){isNaN(Re)||(he=parseFloat(Re))}}),this},cg=function(){this.page=be,this.currentPage=B,this.pages=tt.slice(0),this.pagesContext=ye.slice(0),this.x=ie,this.y=Zt,this.matrix=Fe,this.width=Eu(B),this.height=ch(B),this.outputDestination=Ct,this.id="",this.objectNumber=-1};cg.prototype.restore=function(){be=this.page,B=this.currentPage,ye=this.pagesContext,tt=this.pages,ie=this.x,Zt=this.y,Fe=this.matrix,dg(B,this.width),qf(B,this.height),Ct=this.outputDestination};var _b=function(K,ht,It,Ft,$t){Jn.push(new cg),be=B=0,tt=[],ie=K,Zt=ht,Fe=$t,$s([It,Ft])},$f=function(K){if(Te[K])Jn.pop().restore();else{var ht=new cg,It="Xo"+(Object.keys(We).length+1).toString(10);ht.id=It,Te[K]=It,We[It]=ht,xe.publish("addFormObject",ht),Jn.pop().restore()}};for(var lh in f.beginFormObject=function(K,ht,It,Ft,$t){return _b(K,ht,It,Ft,$t),this},f.endFormObject=function(K){return $f(K),this},f.doFormObject=function(K,ht){var It=We[Te[K]];return at("q"),at(ht.toString()+" cm"),at("/"+It.id+" Do"),at("Q"),this},f.getFormObject=function(K){var ht=We[Te[K]];return{x:ht.x,y:ht.y,width:ht.width,height:ht.height,matrix:ht.matrix}},f.save=function(K,ht){return K=K||"generated.pdf",(ht=ht||{}).returnPromise=ht.returnPromise||!1,ht.returnPromise===!1?(cb(fs(Es()),K),typeof cb.unload=="function"&&Xi.setTimeout&&setTimeout(cb.unload,911),this):new Promise(function(It,Ft){try{var $t=cb(fs(Es()),K);typeof cb.unload=="function"&&Xi.setTimeout&&setTimeout(cb.unload,911),It($t)}catch(he){Ft(he.message)}})},$i.API)$i.API.hasOwnProperty(lh)&&(lh==="events"&&$i.API.events.length?function(K,ht){var It,Ft,$t;for($t=ht.length-1;$t!==-1;$t--)It=ht[$t][0],Ft=ht[$t][1],K.subscribe.apply(K,[It].concat(typeof Ft=="function"?[Ft]:Ft))}(xe,$i.API.events):f[lh]=$i.API[lh]);var Eu=f.getPageWidth=function(K){return(ye[K=K||B].mediaBox.topRightX-ye[K].mediaBox.bottomLeftX)/Ut},dg=f.setPageWidth=function(K,ht){ye[K].mediaBox.topRightX=ht*Ut+ye[K].mediaBox.bottomLeftX},ch=f.getPageHeight=function(K){return(ye[K=K||B].mediaBox.topRightY-ye[K].mediaBox.bottomLeftY)/Ut},qf=f.setPageHeight=function(K,ht){ye[K].mediaBox.topRightY=ht*Ut+ye[K].mediaBox.bottomLeftY};return f.internal={pdfEscape:ao,getStyle:mb,getFont:_w,getFontSize:mt,getCharSpace:sg,getTextColor:Yf,getLineHeight:bb,getLineHeightFactor:ng,getLineWidth:Wf,write:_t,getHorizontalCoordinate:Wr,getVerticalCoordinate:Na,getCoordinateString:xu,getVerticalCoordinateString:sh,collections:{},newObject:se,newAdditionalObject:De,newObjectDeferred:mi,newObjectDeferredBegin:Ee,getFilters:Wi,putStream:Ti,events:xe,scaleFactor:Ut,pageSize:{getWidth:function(){return Eu(B)},setWidth:function(K){dg(B,K)},getHeight:function(){return ch(B)},setHeight:function(K){qf(B,K)}},encryptionOptions:d,encryption:Oo,getEncryptor:ih,output:od,getNumberOfPages:Dl,pages:tt,out:at,f2:W,f3:x,getPageInfo:sd,getPageInfoByObjId:qi,getCurrentPageInfo:rh,getPDFVersion:g,Point:ah,Rectangle:lg,Matrix:ue,hasHotfix:hc},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return Eu(B)},set:function(K){dg(B,K)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return ch(B)},set:function(K){qf(B,K)},enumerable:!0,configurable:!0}),xs.call(f,et),Yt="F1",Tr(n,r),xe.publish("initialized"),f}cw.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},cw.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},cw.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},cw.prototype.processOwnerPassword=function(e,t){return uH(hH(t).substr(0,5),e)},cw.prototype.encryptor=function(e,t){var r=hH(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(i){return uH(r,i)}},jD.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Hn(e)!==Hn(this))return!1;var i=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;i++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&i--;return i===0},$i.API={events:[]},$i.version="2.5.2";var Yo=$i.API,gH=1,ub=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},aw=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},hr=function(e){return e.toFixed(2)},Jp=function(e){return e.toFixed(5)};Yo.__acroform__={};var kl=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},Sot=function(e){return e*gH},_u=function(e){var t=new Vot,r=_i.internal.getHeight(e)||0,i=_i.internal.getWidth(e)||0;return t.BBox=[0,0,Number(hr(i)),Number(hr(r))],t},yPt=Yo.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},_Pt=Yo.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},wPt=Yo.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},es=Yo.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return wPt(e,t-1)},is=Yo.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return yPt(e,t-1)},rs=Yo.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return _Pt(e,t-1)},CPt=Yo.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,i=t.internal.getVerticalCoordinate,n=e[0],o=e[1],s=e[2],a=e[3],l={};return l.lowerLeft_X=r(n)||0,l.lowerLeft_Y=i(o+a)||0,l.upperRight_X=r(n+s)||0,l.upperRight_Y=i(o)||0,[Number(hr(l.lowerLeft_X)),Number(hr(l.lowerLeft_Y)),Number(hr(l.upperRight_X)),Number(hr(l.upperRight_Y))]},xPt=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,i=fH(e,r),n=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+n+" "+hr(i.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC");var o=_u(e);return o.scope=e.scope,o.stream=t.join(`
`),o}},fH=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,i={text:"",fontSize:""},n=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");n=e.multiline?n.map(function(x){return x.split(`
`)}):n.map(function(x){return[x]});var o=r,s=_i.internal.getHeight(e)||0;s=s<0?-s:s;var a=_i.internal.getWidth(e)||0;a=a<0?-a:a;var l=function(x,R,j){if(x+1<n.length){var v=R+" "+n[x+1][0];return OD(v,e,j).width<=a-4}return!1};o++;t:for(;o>0;){t="",o--;var c,d,h=OD("3",e,o).height,u=e.multiline?s-o:(s-h)/2,f=u+=2,m=0,g=0,p=0;if(o<=0){t=`(...) Tj
`,t+="% Width of Text: "+OD(t,e,o=12).width+", FieldWidth:"+a+`
`;break}for(var b="",_=0,E=0;E<n.length;E++)if(n.hasOwnProperty(E)){var O=!1;if(n[E].length!==1&&p!==n[E].length-1){if((h+2)*(_+2)+2>s)continue t;b+=n[E][p],O=!0,g=E,E--}else{b=(b+=n[E][p]+" ").substr(b.length-1)==" "?b.substr(0,b.length-1):b;var V=parseInt(E),H=l(V,b,o),F=E>=n.length-1;if(H&&!F){b+=" ",p=0;continue}if(H||F){if(F)g=V;else if(e.multiline&&(h+2)*(_+2)+2>s)continue t}else{if(!e.multiline||(h+2)*(_+2)+2>s)continue t;g=V}}for(var L="",q=m;q<=g;q++){var W=n[q];if(e.multiline){if(q===g){L+=W[p]+" ",p=(p+1)%W.length;continue}if(q===m){L+=W[W.length-1]+" ";continue}}L+=W[0]+" "}switch(L=L.substr(L.length-1)==" "?L.substr(0,L.length-1):L,d=OD(L,e,o).width,e.textAlign){case"right":c=a-d-2;break;case"center":c=(a-d)/2;break;case"left":default:c=2}t+=hr(c)+" "+hr(f)+` Td
`,t+="("+ub(L)+`) Tj
`,t+=-hr(c)+` 0 Td
`,f=-(o+2),d=0,m=O?g:g+1,_++,b=""}break}return i.text=t,i.fontSize=o,i},OD=function(e,t,r){var i=t.scope.internal.getFont(t.fontName,t.fontStyle),n=t.scope.getStringUnitWidth(e,{font:i,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:n}},SPt={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},EPt=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(i){return i.type===r.type&&i.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},RPt=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var i=r,n=e[r];t.internal.newObjectDeferredBegin(n.objId,!0),Hn(n)==="object"&&typeof n.putStream=="function"&&n.putStream(),delete e[i]}},TPt=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Jd.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(SPt)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");gH=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new zot,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in i)if(i.hasOwnProperty(n)){var o=i[n];o.objId=void 0,o.hasAnnotation&&EPt(o,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(i,n){var o=!i;for(var s in i||(n.internal.newObjectDeferredBegin(n.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),n.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||n.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(s)){var a=i[s],l=[],c=a.Rect;if(a.Rect&&(a.Rect=CPt(a.Rect,n)),n.internal.newObjectDeferredBegin(a.objId,!0),a.DA=_i.createDefaultAppearanceStream(a),Hn(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var d=xPt(a);l.push({key:"AP",value:"<</N "+d+">>"}),n.internal.acroformPlugin.xForms.push(d)}if(a.appearanceStreamContent){var h="";for(var u in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(u)){var f=a.appearanceStreamContent[u];if(h+="/"+u+" ",h+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var s in f)if(f.hasOwnProperty(s)){var m=f[s];typeof m=="function"&&(m=m.call(n,a)),h+="/"+s+" "+m+" ",n.internal.acroformPlugin.xForms.indexOf(m)>=0||n.internal.acroformPlugin.xForms.push(m)}}else typeof(m=f)=="function"&&(m=m.call(n,a)),h+="/"+s+" "+m,n.internal.acroformPlugin.xForms.indexOf(m)>=0||n.internal.acroformPlugin.xForms.push(m);h+=">>"}l.push({key:"AP",value:`<<
`+h+">>"})}n.internal.putStream({additionalKeyValues:l,objectId:a.objId}),n.internal.out("endobj")}o&&RPt(n.internal.acroformPlugin.xForms,n)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},jot=Yo.__acroform__.arrayToPdfArray=function(e,t,r){var i=function(s){return s};if(Array.isArray(e)){for(var n="[",o=0;o<e.length;o++)switch(o!==0&&(n+=" "),Hn(e[o])){case"boolean":case"number":case"object":n+=e[o].toString();break;case"string":e[o].substr(0,1)!=="/"?(t!==void 0&&r&&(i=r.internal.getEncryptor(t)),n+="("+ub(i(e[o].toString()))+")"):n+=e[o].toString()}return n+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},aH=function(e,t,r){var i=function(n){return n};return t!==void 0&&r&&(i=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+ub(i(e))+")"},wu=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};wu.prototype.toString=function(){return this.objId+" 0 R"},wu.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},wu.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var i=t[r],n=this[i];n&&(Array.isArray(n)?e.push({key:i,value:jot(n,this.objId,this.scope)}):n instanceof wu?(n.scope=this.scope,e.push({key:i,value:n.objId+" 0 R"})):typeof n!="function"&&e.push({key:i,value:n}))}return e};var Vot=function(){wu.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};kl(Vot,wu);var zot=function(){wu.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(i){return i};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+ub(r(e))+")"}},set:function(r){e=r}})};kl(zot,wu);var Jd=function e(){wu.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute F supplied.');t=b}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!es(t,3)},set:function(b){b?this.F=is(t,3):this.F=rs(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute Ff supplied.');r=b}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(b){i=b!==void 0?b:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(b){i[0]=b}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(b){i[1]=b}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(b){i[2]=b}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(b){i[3]=b}});var n="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return n},set:function(b){switch(b){case"/Btn":case"/Tx":case"/Ch":case"/Sig":n=b;break;default:throw new Error('Invalid value "'+b+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof VD)return;o="FieldObject"+e.FieldNum++}var b=function(_){return _};return this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),"("+ub(b(o))+")"},set:function(b){o=b.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(b){o=b}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(b){s=b}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(b){a=b}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(b){l=b}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/gH:c},set:function(b){c=b}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(b){d=b}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof VD||this instanceof hb))return aH(h,this.objId,this.scope)},set:function(b){b=b.toString(),h=b}});var u=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(u)return this instanceof Ys?u:aH(u,this.objId,this.scope)},set:function(b){b=b.toString(),u=this instanceof Ys?b:b.substr(0,1)==="("?aw(b.substr(1,b.length-2)):aw(b)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ys?aw(u.substr(1,u.length-1)):u},set:function(b){b=b.toString(),u=this instanceof Ys?"/"+b:b}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(b){this.V=b}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Ys?f:aH(f,this.objId,this.scope)},set:function(b){b=b.toString(),f=this instanceof Ys?b:b.substr(0,1)==="("?aw(b.substr(1,b.length-2)):aw(b)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ys?aw(f.substr(1,f.length-1)):f},set:function(b){b=b.toString(),f=this instanceof Ys?"/"+b:b}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var m,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(b){b=!!b,g=b}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(m)return m},set:function(b){m=b}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,1)},set:function(b){b?this.Ff=is(this.Ff,1):this.Ff=rs(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,2)},set:function(b){b?this.Ff=is(this.Ff,2):this.Ff=rs(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,3)},set:function(b){b?this.Ff=is(this.Ff,3):this.Ff=rs(this.Ff,3)}});var p=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(p!==null)return p},set:function(b){if([0,1,2].indexOf(b)===-1)throw new Error('Invalid value "'+b+'" for attribute Q supplied.');p=b}}),Object.defineProperty(this,"textAlign",{get:function(){var b;switch(p){case 0:default:b="left";break;case 1:b="center";break;case 2:b="right"}return b},configurable:!0,enumerable:!0,set:function(b){switch(b){case"right":case 2:p=2;break;case"center":case 1:p=1;break;case"left":case 0:default:p=0}}})};kl(Jd,wu);var uw=function(){Jd.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return jot(t,this.objId,this.scope)},set:function(r){var i,n;n=[],typeof(i=r)=="string"&&(n=function(o,s,a){a||(a=1);for(var l,c=[];l=s.exec(o);)c.push(l[a]);return c}(i,/\((.*?)\)/g)),t=n}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,i){for(i=i||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,18)},set:function(r){r?this.Ff=is(this.Ff,18):this.Ff=rs(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=is(this.Ff,19):this.Ff=rs(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,20)},set:function(r){r?(this.Ff=is(this.Ff,20),t.sort()):this.Ff=rs(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,22)},set:function(r){r?this.Ff=is(this.Ff,22):this.Ff=rs(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,23)},set:function(r){r?this.Ff=is(this.Ff,23):this.Ff=rs(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,27)},set:function(r){r?this.Ff=is(this.Ff,27):this.Ff=rs(this.Ff,27)}}),this.hasAppearanceStream=!1};kl(uw,Jd);var fw=function(){uw.call(this),this.fontName="helvetica",this.combo=!1};kl(fw,uw);var mw=function(){fw.call(this),this.combo=!0};kl(mw,fw);var LD=function(){mw.call(this),this.edit=!0};kl(LD,mw);var Ys=function(){Jd.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,15)},set:function(r){r?this.Ff=is(this.Ff,15):this.Ff=rs(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,16)},set:function(r){r?this.Ff=is(this.Ff,16):this.Ff=rs(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,17)},set:function(r){r?this.Ff=is(this.Ff,17):this.Ff=rs(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,26)},set:function(r){r?this.Ff=is(this.Ff,26):this.Ff=rs(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(o){return o};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var i,n=[];for(i in n.push("<<"),t)n.push("/"+i+" ("+ub(r(t[i]))+")");return n.push(">>"),n.join(`
`)}},set:function(r){Hn(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};kl(Ys,Jd);var FD=function(){Ys.call(this),this.pushButton=!0};kl(FD,Ys);var pw=function(){Ys.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};kl(pw,Ys);var VD=function(){var e,t;Jd.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(n){t=n}});var r,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};this.scope&&(n=this.scope.internal.getEncryptor(this.objId));var o,s=[];for(o in s.push("<<"),i)s.push("/"+o+" ("+ub(n(i[o]))+")");return s.push(">>"),s.join(`
`)},set:function(n){Hn(n)==="object"&&(i=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(n){typeof n=="string"&&(i.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(n){r=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(n){r="/"+n}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=_i.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};kl(VD,Jd),pw.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},pw.prototype.createOption=function(e){var t=new VD;return t.Parent=this,t.optionName=e,this.Kids.push(t),MPt.call(this.scope,t),t};var HD=function(){Ys.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=_i.CheckBox.createAppearanceStream()};kl(HD,Ys);var hb=function(){Jd.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,13)},set:function(t){t?this.Ff=is(this.Ff,13):this.Ff=rs(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,21)},set:function(t){t?this.Ff=is(this.Ff,21):this.Ff=rs(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,23)},set:function(t){t?this.Ff=is(this.Ff,23):this.Ff=rs(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,24)},set:function(t){t?this.Ff=is(this.Ff,24):this.Ff=rs(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,25)},set:function(t){t?this.Ff=is(this.Ff,25):this.Ff=rs(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,26)},set:function(t){t?this.Ff=is(this.Ff,26):this.Ff=rs(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};kl(hb,Jd);var BD=function(){hb.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!es(this.Ff,14)},set:function(e){e?this.Ff=is(this.Ff,14):this.Ff=rs(this.Ff,14)}}),this.password=!0};kl(BD,hb);var _i={CheckBox:{createAppearanceStream:function(){return{N:{On:_i.CheckBox.YesNormal},D:{On:_i.CheckBox.YesPushDown,Off:_i.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=_u(e);t.scope=e.scope;var r=[],i=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),o=fH(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+hr(_i.internal.getWidth(e))+" "+hr(_i.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+i+" "+hr(o.fontSize)+" Tf "+n),r.push("BT"),r.push(o.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=_u(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),n=[],o=_i.internal.getHeight(e),s=_i.internal.getWidth(e),a=fH(e,e.caption);return n.push("1 g"),n.push("0 0 "+hr(s)+" "+hr(o)+" re"),n.push("f"),n.push("q"),n.push("0 0 1 rg"),n.push("0 0 "+hr(s-1)+" "+hr(o-1)+" re"),n.push("W"),n.push("n"),n.push("0 g"),n.push("BT"),n.push("/"+r+" "+hr(a.fontSize)+" Tf "+i),n.push(a.text),n.push("ET"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=_u(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+hr(_i.internal.getWidth(e))+" "+hr(_i.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:_i.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=_i.RadioButton.Circle.YesNormal,t.D[e]=_i.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=_u(e);t.scope=e.scope;var r=[],i=_i.internal.getWidth(e)<=_i.internal.getHeight(e)?_i.internal.getWidth(e)/4:_i.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var n=_i.internal.Bezier_C,o=Number((i*n).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Jp(_i.internal.getWidth(e)/2)+" "+Jp(_i.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),r.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),r.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),r.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=_u(e);t.scope=e.scope;var r=[],i=_i.internal.getWidth(e)<=_i.internal.getHeight(e)?_i.internal.getWidth(e)/4:_i.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var n=Number((2*i).toFixed(5)),o=Number((n*_i.internal.Bezier_C).toFixed(5)),s=Number((i*_i.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Jp(_i.internal.getWidth(e)/2)+" "+Jp(_i.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Jp(_i.internal.getWidth(e)/2)+" "+Jp(_i.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=_u(e);t.scope=e.scope;var r=[],i=_i.internal.getWidth(e)<=_i.internal.getHeight(e)?_i.internal.getWidth(e)/4:_i.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var n=Number((2*i).toFixed(5)),o=Number((n*_i.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Jp(_i.internal.getWidth(e)/2)+" "+Jp(_i.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:_i.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=_i.RadioButton.Cross.YesNormal,t.D[e]=_i.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=_u(e);t.scope=e.scope;var r=[],i=_i.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+hr(_i.internal.getWidth(e)-2)+" "+hr(_i.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(hr(i.x1.x)+" "+hr(i.x1.y)+" m"),r.push(hr(i.x2.x)+" "+hr(i.x2.y)+" l"),r.push(hr(i.x4.x)+" "+hr(i.x4.y)+" m"),r.push(hr(i.x3.x)+" "+hr(i.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=_u(e);t.scope=e.scope;var r=_i.internal.calculateCross(e),i=[];return i.push("0.749023 g"),i.push("0 0 "+hr(_i.internal.getWidth(e))+" "+hr(_i.internal.getHeight(e))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+hr(_i.internal.getWidth(e)-2)+" "+hr(_i.internal.getHeight(e)-2)+" re"),i.push("W"),i.push("n"),i.push(hr(r.x1.x)+" "+hr(r.x1.y)+" m"),i.push(hr(r.x2.x)+" "+hr(r.x2.y)+" l"),i.push(hr(r.x4.x)+" "+hr(r.x4.y)+" m"),i.push(hr(r.x3.x)+" "+hr(r.x3.y)+" l"),i.push("s"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=_u(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+hr(_i.internal.getWidth(e))+" "+hr(_i.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};_i.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=_i.internal.getWidth(e),r=_i.internal.getHeight(e),i=Math.min(t,r);return{x1:{x:(t-i)/2,y:(r-i)/2+i},x2:{x:(t-i)/2+i,y:(r-i)/2},x3:{x:(t-i)/2,y:(r-i)/2},x4:{x:(t-i)/2+i,y:(r-i)/2+i}}}},_i.internal.getWidth=function(e){var t=0;return Hn(e)==="object"&&(t=Sot(e.Rect[2])),t},_i.internal.getHeight=function(e){var t=0;return Hn(e)==="object"&&(t=Sot(e.Rect[3])),t};var MPt=Yo.addField=function(e){if(TPt(this,e),!(e instanceof Jd))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Yo.AcroFormChoiceField=uw,Yo.AcroFormListBox=fw,Yo.AcroFormComboBox=mw,Yo.AcroFormEditBox=LD,Yo.AcroFormButton=Ys,Yo.AcroFormPushButton=FD,Yo.AcroFormRadioButton=pw,Yo.AcroFormCheckBox=HD,Yo.AcroFormTextField=hb,Yo.AcroFormPasswordField=BD,Yo.AcroFormAppearance=_i,Yo.AcroForm={ChoiceField:uw,ListBox:fw,ComboBox:mw,EditBox:LD,Button:Ys,PushButton:FD,RadioButton:pw,CheckBox:HD,TextField:hb,PasswordField:BD,Appearance:_i},$i.AcroForm={ChoiceField:uw,ListBox:fw,ComboBox:mw,EditBox:LD,Button:Ys,PushButton:FD,RadioButton:pw,CheckBox:HD,TextField:hb,PasswordField:BD,Appearance:_i};var U6e=$i.AcroForm;function Uot(e){return e.reduce(function(t,r,i){return t[r]=i,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(x,R){var j,v,y,C,w,S=t;if((R=R||t)==="RGBA"||x.data!==void 0&&x.data instanceof Uint8ClampedArray&&"height"in x&&"width"in x)return"RGBA";if(H(x))for(w in r)for(y=r[w],j=0;j<y.length;j+=1){for(C=!0,v=0;v<y[j].length;v+=1)if(y[j][v]!==void 0&&y[j][v]!==x[v]){C=!1;break}if(C===!0){S=w;break}}else for(w in r)for(y=r[w],j=0;j<y.length;j+=1){for(C=!0,v=0;v<y[j].length;v+=1)if(y[j][v]!==void 0&&y[j][v]!==x.charCodeAt(v)){C=!1;break}if(C===!0){S=w;break}}return S===t&&R!==t&&(S=R),S},n=function x(R){for(var j=this.internal.write,v=this.internal.putStream,y=(0,this.internal.getFilters)();y.indexOf("FlateEncode")!==-1;)y.splice(y.indexOf("FlateEncode"),1);R.objectId=this.internal.newObject();var C=[];if(C.push({key:"Type",value:"/XObject"}),C.push({key:"Subtype",value:"/Image"}),C.push({key:"Width",value:R.width}),C.push({key:"Height",value:R.height}),R.colorSpace===p.INDEXED?C.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(R.palette.length/3-1)+" "+("sMask"in R&&R.sMask!==void 0?R.objectId+2:R.objectId+1)+" 0 R]"}):(C.push({key:"ColorSpace",value:"/"+R.colorSpace}),R.colorSpace===p.DEVICE_CMYK&&C.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),C.push({key:"BitsPerComponent",value:R.bitsPerComponent}),"decodeParameters"in R&&R.decodeParameters!==void 0&&C.push({key:"DecodeParms",value:"<<"+R.decodeParameters+">>"}),"transparency"in R&&Array.isArray(R.transparency)){for(var w="",S=0,M=R.transparency.length;S<M;S++)w+=R.transparency[S]+" "+R.transparency[S]+" ";C.push({key:"Mask",value:"["+w+"]"})}R.sMask!==void 0&&C.push({key:"SMask",value:R.objectId+1+" 0 R"});var U=R.filter!==void 0?["/"+R.filter]:void 0;if(v({data:R.data,additionalKeyValues:C,alreadyAppliedFilters:U,objectId:R.objectId}),j("endobj"),"sMask"in R&&R.sMask!==void 0){var N="/Predictor "+R.predictor+" /Colors 1 /BitsPerComponent "+R.bitsPerComponent+" /Columns "+R.width,T={width:R.width,height:R.height,colorSpace:"DeviceGray",bitsPerComponent:R.bitsPerComponent,decodeParameters:N,data:R.sMask};"filter"in R&&(T.filter=R.filter),x.call(this,T)}if(R.colorSpace===p.INDEXED){var B=this.internal.newObject();v({data:L(new Uint8Array(R.palette)),objectId:B}),j("endobj")}},o=function(){var x=this.internal.collections.addImage_images;for(var R in x)n.call(this,x[R])},s=function(){var x,R=this.internal.collections.addImage_images,j=this.internal.write;for(var v in R)j("/I"+(x=R[v]).index,x.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",s))},l=function(){var x=this.internal.collections.addImage_images;return a.call(this),x},c=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(x){return typeof e["process"+x.toUpperCase()]=="function"},h=function(x){return Hn(x)==="object"&&x.nodeType===1},u=function(x,R){if(x.nodeName==="IMG"&&x.hasAttribute("src")){var j=""+x.getAttribute("src");if(j.indexOf("data:image/")===0)return dR(unescape(j).split("base64,").pop());var v=e.loadFile(j,!0);if(v!==void 0)return v}if(x.nodeName==="CANVAS"){if(x.width===0||x.height===0)throw new Error("Given canvas must have data. Canvas width: "+x.width+", height: "+x.height);var y;switch(R){case"PNG":y="image/png";break;case"WEBP":y="image/webp";break;case"JPEG":case"JPG":default:y="image/jpeg"}return dR(x.toDataURL(y,1).split("base64,").pop())}},f=function(x){var R=this.internal.collections.addImage_images;if(R){for(var j in R)if(x===R[j].alias)return R[j]}},m=function(x,R,j){return x||R||(x=-96,R=-96),x<0&&(x=-1*j.width*72/x/this.internal.scaleFactor),R<0&&(R=-1*j.height*72/R/this.internal.scaleFactor),x===0&&(x=R*j.width/j.height),R===0&&(R=x*j.height/j.width),[x,R]},g=function(x,R,j,v,y,C){var w=m.call(this,j,v,y),S=this.internal.getCoordinateString,M=this.internal.getVerticalCoordinateString,U=l.call(this);if(j=w[0],v=w[1],U[y.index]=y,C){C*=Math.PI/180;var N=Math.cos(C),T=Math.sin(C),B=function($){return $.toFixed(4)},I=[B(N),B(T),B(-1*T),B(N),0,0,"cm"]}this.internal.write("q"),C?(this.internal.write([1,"0","0",1,S(x),M(R+v),"cm"].join(" ")),this.internal.write(I.join(" ")),this.internal.write([S(j),"0","0",S(v),"0","0","cm"].join(" "))):this.internal.write([S(j),"0","0",S(v),S(x),M(R+v),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+y.index+" Do"),this.internal.write("Q")},p=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var b=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},_=e.__addimage__.sHashCode=function(x){var R,j,v=0;if(typeof x=="string")for(j=x.length,R=0;R<j;R++)v=(v<<5)-v+x.charCodeAt(R),v|=0;else if(H(x))for(j=x.byteLength/2,R=0;R<j;R++)v=(v<<5)-v+x[R],v|=0;return v},E=e.__addimage__.validateStringAsBase64=function(x){(x=x||"").toString().trim();var R=!0;return x.length===0&&(R=!1),x.length%4!=0&&(R=!1),/^[A-Za-z0-9+/]+$/.test(x.substr(0,x.length-2))===!1&&(R=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(x.substr(-2))===!1&&(R=!1),R},O=e.__addimage__.extractImageFromDataUrl=function(x){var R=(x=x||"").split("base64,"),j=null;if(R.length===2){var v=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(R[0]);Array.isArray(v)&&(j={mimeType:v[1],charset:v[2],data:R[1]})}return j},V=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(x){return V()&&x instanceof ArrayBuffer};var H=e.__addimage__.isArrayBufferView=function(x){return V()&&typeof Uint32Array<"u"&&(x instanceof Int8Array||x instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&x instanceof Uint8ClampedArray||x instanceof Int16Array||x instanceof Uint16Array||x instanceof Int32Array||x instanceof Uint32Array||x instanceof Float32Array||x instanceof Float64Array)},F=e.__addimage__.binaryStringToUint8Array=function(x){for(var R=x.length,j=new Uint8Array(R),v=0;v<R;v++)j[v]=x.charCodeAt(v);return j},L=e.__addimage__.arrayBufferToBinaryString=function(x){for(var R="",j=H(x)?x:new Uint8Array(x),v=0;v<j.length;v+=8192)R+=String.fromCharCode.apply(null,j.subarray(v,v+8192));return R};e.addImage=function(){var x,R,j,v,y,C,w,S,M;if(typeof arguments[1]=="number"?(R=t,j=arguments[1],v=arguments[2],y=arguments[3],C=arguments[4],w=arguments[5],S=arguments[6],M=arguments[7]):(R=arguments[1],j=arguments[2],v=arguments[3],y=arguments[4],C=arguments[5],w=arguments[6],S=arguments[7],M=arguments[8]),Hn(x=arguments[0])==="object"&&!h(x)&&"imageData"in x){var U=x;x=U.imageData,R=U.format||R||t,j=U.x||j||0,v=U.y||v||0,y=U.w||U.width||y,C=U.h||U.height||C,w=U.alias||w,S=U.compression||S,M=U.rotation||U.angle||M}var N=this.internal.getFilters();if(S===void 0&&N.indexOf("FlateEncode")!==-1&&(S="SLOW"),isNaN(j)||isNaN(v))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var T=q.call(this,x,R,w,S);return g.call(this,j,v,y,C,T,M),this};var q=function(x,R,j,v){var y,C,w;if(typeof x=="string"&&i(x)===t){x=unescape(x);var S=W(x,!1);(S!==""||(S=e.loadFile(x,!0))!==void 0)&&(x=S)}if(h(x)&&(x=u(x,R)),R=i(x,R),!d(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(((w=j)==null||w.length===0)&&(j=function(M){return typeof M=="string"||H(M)?_(M):H(M.data)?_(M.data):null}(x)),(y=f.call(this,j))||(V()&&(x instanceof Uint8Array||R==="RGBA"||(C=x,x=F(x))),y=this["process"+R.toUpperCase()](x,c.call(this),j,function(M){return M&&typeof M=="string"&&(M=M.toUpperCase()),M in e.image_compression?M:b.NONE}(v),C)),!y)throw new Error("An unknown error occurred whilst processing the image.");return y},W=e.__addimage__.convertBase64ToBinaryString=function(x,R){var j;R=typeof R!="boolean"||R;var v,y="";if(typeof x=="string"){v=(j=O(x))!==null?j.data:x;try{y=dR(v)}catch(C){if(R)throw E(v)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+C.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return y};e.getImageProperties=function(x){var R,j,v="";if(h(x)&&(x=u(x)),typeof x=="string"&&i(x)===t&&((v=W(x,!1))===""&&(v=e.loadFile(x)||""),x=v),j=i(x),!d(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(!V()||x instanceof Uint8Array||(x=F(x)),!(R=this["process"+j.toUpperCase()](x)))throw new Error("An unknown error occurred whilst processing the image");return R.fileType=j,R}})($i.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};$i.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var i,n,o,s=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,d=!1,h=0;h<c.length&&!d;h++)switch((i=c[h]).type){case"link":(t(i.options.url)||t(i.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var u=0;u<c.length;u++){i=c[u];var f=this.internal.pdfEscape,m=this.internal.getEncryptor(r.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),p=this.internal.newAdditionalObject(),b=this.internal.getEncryptor(g.objId),_=i.title||"Note";o="<</Type /Annot /Subtype /Text "+(n="/Rect ["+s(i.bounds.x)+" "+a(i.bounds.y+i.bounds.h)+" "+s(i.bounds.x+i.bounds.w)+" "+a(i.bounds.y)+"] ")+"/Contents ("+f(b(i.contents))+")",o+=" /Popup "+p.objId+" 0 R",o+=" /P "+l.objId+" 0 R",o+=" /T ("+f(b(_))+") >>",g.content=o;var E=g.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(n="/Rect ["+s(i.bounds.x+30)+" "+a(i.bounds.y+i.bounds.h)+" "+s(i.bounds.x+i.bounds.w+30)+" "+a(i.bounds.y)+"] ")+" /Parent "+E,i.open&&(o+=" /Open true"),o+=" >>",p.content=o,this.internal.write(g.objId,"0 R",p.objId,"0 R");break;case"freetext":n="/Rect ["+s(i.bounds.x)+" "+a(i.bounds.y)+" "+s(i.bounds.x+i.bounds.w)+" "+a(i.bounds.y+i.bounds.h)+"] ";var O=i.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+n+"/Contents ("+f(m(i.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+O+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(i.options.name){var V=this.annotations._nameMap[i.options.name];i.options.pageNumber=V.page,i.options.top=V.y}else i.options.top||(i.options.top=0);if(n="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",o="",i.options.url)o="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /A <</S /URI /URI ("+f(m(i.options.url))+") >>";else if(i.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,o+=" /FitV "+i.options.left+"]";break;case"XYZ":default:var H=a(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),o+=" /XYZ "+i.options.left+" "+H+" "+i.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var i=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":i.pageContext.annotations.push(r)}},e.link=function(r,i,n,o,s){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(r),y:c(i),w:l(r+n),h:c(i+o)},options:s,type:"link"})},e.textWithLink=function(r,i,n,o){var s,a,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){a=o.maxWidth;var d=this.splitTextToSize(r,a).length;s=Math.ceil(c*d)}else a=l,s=c;return this.text(r,i,n,o),n+=.2*c,o.align==="center"&&(i-=l/2),o.align==="right"&&(i-=l),this.link(i,n-c,a,s,o),l},e.getTextWidth=function(r){var i=this.internal.getFontSize();return this.getStringUnitWidth(r)*i/this.internal.scaleFactor}}($i.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},n=[1570,1571,1573,1575];e.__arabicParser__={};var o=e.__arabicParser__.isInArabicSubstitutionA=function(g){return t[g.charCodeAt(0)]!==void 0},s=e.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},a=e.__arabicParser__.isArabicEndLetter=function(g){return s(g)&&o(g)&&t[g.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(g){return s(g)&&n.indexOf(g.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return s(g)&&o(g)&&t[g.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(g){return s(g)&&o(g)&&t[g.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(g){return s(g)&&o(g)&&t[g.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(g){return s(g)&&o(g)&&t[g.charCodeAt(0)].length==4},h=e.__arabicParser__.resolveLigatures=function(g){var p=0,b=r,_="",E=0;for(p=0;p<g.length;p+=1)b[g.charCodeAt(p)]!==void 0?(E++,typeof(b=b[g.charCodeAt(p)])=="number"&&(_+=String.fromCharCode(b),b=r,E=0),p===g.length-1&&(b=r,_+=g.charAt(p-(E-1)),p-=E-1,E=0)):(b=r,_+=g.charAt(p-E),p-=E,E=0);return _};e.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&i[g.charCodeAt(0)]!==void 0};var u=e.__arabicParser__.getCorrectForm=function(g,p,b){return s(g)?o(g)===!1?-1:!c(g)||!s(p)&&!s(b)||!s(b)&&a(p)||a(g)&&!s(p)||a(g)&&l(p)||a(g)&&a(p)?0:d(g)&&s(p)&&!a(p)&&s(b)&&c(b)?3:a(g)||!s(b)?1:2:-1},f=function(g){var p=0,b=0,_=0,E="",O="",V="",H=(g=g||"").split("\\s+"),F=[];for(p=0;p<H.length;p+=1){for(F.push(""),b=0;b<H[p].length;b+=1)E=H[p][b],O=H[p][b-1],V=H[p][b+1],s(E)?(_=u(E,O,V),F[p]+=_!==-1?String.fromCharCode(t[E.charCodeAt(0)][_]):E):F[p]+=E;F[p]=h(F[p])}return F.join(" ")},m=e.__arabicParser__.processArabic=e.processArabic=function(){var g,p=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,b=[];if(Array.isArray(p)){var _=0;for(b=[],_=0;_<p.length;_+=1)Array.isArray(p[_])?b.push([f(p[_][0]),p[_][1],p[_][2]]):b.push([f(p[_])]);g=b}else g=f(p);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};e.events.push(["preProcessText",m])}($i.API),$i.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(a){r=a}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(a){n=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(a){o=a}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(a){s=a}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,i){var n;if((r=r||"2d")!=="2d")return null;for(n in i)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=i[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}($i.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),n.call(this))},n=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(g){l=g}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var u=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var m=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return m},set:function(g){m=g}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return i.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,c){i.call(this);var d=(c=c||{}).fontSize||this.getFontSize(),h=c.font||this.getFont(),u=c.scaleFactor||this.internal.scaleFactor,f=0,m=0,g=0,p=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var b=c.maxWidth;b>0?typeof l=="string"?l=this.splitTextToSize(l,b):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(E,O){return E.concat(p.splitTextToSize(O,b))},[])):l=Array.isArray(l)?l:[l];for(var _=0;_<l.length;_++)f<(g=this.getStringUnitWidth(l[_],{font:h})*d)&&(f=g);return f!==0&&(m=l.length),{w:f/=u,h:Math.max((m*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/u,0)}},e.cellAddPage=function(){i.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new o(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var l;l=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var c=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,h=this.internal.__cell__.margins||t,u=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=h.top,f&&u&&(this.printHeaderRow(l.lineNumber,!0),l.y+=u[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-d,l.y+d,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+d,{align:"center",baseline:"top",maxWidth:l.width-d-d}):this.text(l.text,l.x+d,l.y+d,{align:"left",baseline:"top",maxWidth:l.width-d-d})),this.internal.__cell__.lastCell=l,this};e.table=function(l,c,d,h,u){if(i.call(this),!d)throw new Error("No data for PDF table.");var f,m,g,p,b=[],_=[],E=[],O={},V={},H=[],F=[],L=(u=u||{}).autoSize||!1,q=u.printHeaders!==!1,W=u.css&&u.css["font-size"]!==void 0?16*u.css["font-size"]:u.fontSize||12,x=u.margins||Object.assign({width:this.getPageWidth()},t),R=typeof u.padding=="number"?u.padding:3,j=u.headerBackgroundColor||"#c8c8c8",v=u.headerTextColor||"#000";if(n.call(this),this.internal.__cell__.printHeaders=q,this.internal.__cell__.margins=x,this.internal.__cell__.table_font_size=W,this.internal.__cell__.padding=R,this.internal.__cell__.headerBackgroundColor=j,this.internal.__cell__.headerTextColor=v,this.setFontSize(W),h==null)_=b=Object.keys(d[0]),E=b.map(function(){return"left"});else if(Array.isArray(h)&&Hn(h[0])==="object")for(b=h.map(function(U){return U.name}),_=h.map(function(U){return U.prompt||U.name||""}),E=h.map(function(U){return U.align||"left"}),f=0;f<h.length;f+=1)V[h[f].name]=h[f].width*(19.049976/25.4);else Array.isArray(h)&&typeof h[0]=="string"&&(_=b=h,E=b.map(function(){return"left"}));if(L||Array.isArray(h)&&typeof h[0]=="string")for(f=0;f<b.length;f+=1){for(O[p=b[f]]=d.map(function(U){return U[p]}),this.setFont(void 0,"bold"),H.push(this.getTextDimensions(_[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),m=O[p],this.setFont(void 0,"normal"),g=0;g<m.length;g+=1)H.push(this.getTextDimensions(m[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);V[p]=Math.max.apply(null,H)+R+R,H=[]}if(q){var y={};for(f=0;f<b.length;f+=1)y[b[f]]={},y[b[f]].text=_[f],y[b[f]].align=E[f];var C=a.call(this,y,V);F=b.map(function(U){return new o(l,c,V[U],C,y[U].text,void 0,y[U].align)}),this.setTableHeaderRow(F),this.printHeaderRow(1,!1)}var w=h.reduce(function(U,N){return U[N.name]=N.align,U},{});for(f=0;f<d.length;f+=1){"rowStart"in u&&u.rowStart instanceof Function&&u.rowStart({row:f,data:d[f]},this);var S=a.call(this,d[f],V);for(g=0;g<b.length;g+=1){var M=d[f][b[g]];"cellStart"in u&&u.cellStart instanceof Function&&u.cellStart({row:f,col:g,data:M},this),s.call(this,new o(l,c,V[b[g]],S,M,f+2,w[b[g]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var d=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,u=this.internal.scaleFactor;return Object.keys(l).map(function(f){var m=l[f];return this.splitTextToSize(m.hasOwnProperty("text")?m.text:m,c[f]-d-d)},this).map(function(f){return this.getLineHeightFactor()*f.length*h/u+d+d},this).reduce(function(f,m){return Math.max(f,m)},0)};e.setTableHeaderRow=function(l){i.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,c){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var u=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){d=this.internal.__cell__.tableHeaderRow[f].clone(),c&&(d.y=this.internal.__cell__.margins.top||0,u.push(d)),d.lineNumber=l;var m=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,d),this.setTextColor(m)}u.length>0&&this.setTableHeaderRow(u),this.setFont(void 0,"normal"),r=!1}}($i.API);var Wot={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Yot=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],mH=Uot(Yot),$ot=[100,200,300,400,500,600,700,800,900],APt=Uot($ot);function pH(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(o){return Wot[o=o||"normal"]?o:"normal"}(e.style),i=function(o){if(!o)return 400;if(typeof o=="number")return o>=100&&o<=900&&o%100==0?o:400;if(/^\d00$/.test(o))return parseInt(o);switch(o){case"bold":return 700;case"normal":default:return 400}}(e.weight),n=function(o){return typeof mH[o=o||"normal"]=="number"?o:"normal"}(e.stretch);return{family:t,style:r,weight:i,stretch:n,src:e.src||[],ref:e.ref||{name:t,style:[n,r,i].join(" ")}}}function Eot(e,t,r,i){var n;for(n=r;n>=0&&n<t.length;n+=i)if(e[t[n]])return e[t[n]];for(n=r;n>=0&&n<t.length;n-=i)if(e[t[n]])return e[t[n]]}var IPt={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Rot={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Tot(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function kPt(e,t,r){for(var i=(r=r||{}).defaultFontFamily||"times",n=Object.assign({},IPt,r.genericFontFamilies||{}),o=null,s=null,a=0;a<t.length;++a)if(n[(o=pH(t[a])).family]&&(o.family=n[o.family]),e.hasOwnProperty(o.family)){s=e[o.family];break}if(!(s=s||e[i]))throw new Error("Could not find a font-family for the rule '"+Tot(o)+"' and default family '"+i+"'.");if(s=function(l,c){if(c[l])return c[l];var d=mH[l],h=d<=mH.normal?-1:1,u=Eot(c,Yot,d,h);if(!u)throw new Error("Could not find a matching font-stretch value for "+l);return u}(o.stretch,s),s=function(l,c){if(c[l])return c[l];for(var d=Wot[l],h=0;h<d.length;++h)if(c[d[h]])return c[d[h]];throw new Error("Could not find a matching font-style for "+l)}(o.style,s),!(s=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var d=APt[l],h=Eot(c,$ot,d,l<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+l);return h}(o.weight,s)))throw new Error("Failed to resolve a font for the rule '"+Tot(o)+"'.");return s}function Mot(e){return e.trimLeft()}function DPt(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function OPt(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var PD,Aot,Iot,lH=["times"];(function(e){var t,r,i,n,o,s,a,l,c,d=function(T){return T=T||{},this.isStrokeTransparent=T.isStrokeTransparent||!1,this.strokeOpacity=T.strokeOpacity||1,this.strokeStyle=T.strokeStyle||"#000000",this.fillStyle=T.fillStyle||"#000000",this.isFillTransparent=T.isFillTransparent||!1,this.fillOpacity=T.fillOpacity||1,this.font=T.font||"10px sans-serif",this.textBaseline=T.textBaseline||"alphabetic",this.textAlign=T.textAlign||"left",this.lineWidth=T.lineWidth||1,this.lineJoin=T.lineJoin||"miter",this.lineCap=T.lineCap||"butt",this.path=T.path||[],this.transform=T.transform!==void 0?T.transform.clone():new l,this.globalCompositeOperation=T.globalCompositeOperation||"normal",this.globalAlpha=T.globalAlpha||1,this.clip_path=T.clip_path||[],this.currentPoint=T.currentPoint||new s,this.miterLimit=T.miterLimit||10,this.lastPoint=T.lastPoint||new s,this.lineDashOffset=T.lineDashOffset||0,this.lineDash=T.lineDash||[],this.margin=T.margin||[0,0,0,0],this.prevPageLastElemOffset=T.prevPageLastElemOffset||0,this.ignoreClearRect=typeof T.ignoreClearRect!="boolean"||T.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new h(this),t=this.internal.f2,r=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,n=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,s=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new d}]);var h=function(T){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var B=T;Object.defineProperty(this,"pdf",{get:function(){return B}});var I=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return I},set:function(rt){I=!!rt}});var $=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return $},set:function(rt){$=!!rt}});var A=0;Object.defineProperty(this,"posX",{get:function(){return A},set:function(rt){isNaN(rt)||(A=rt)}});var k=0;Object.defineProperty(this,"posY",{get:function(){return k},set:function(rt){isNaN(rt)||(k=rt)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(rt){var at;typeof rt=="number"?at=[rt,rt,rt,rt]:((at=new Array(4))[0]=rt[0],at[1]=rt.length>=2?rt[1]:at[0],at[2]=rt.length>=3?rt[2]:at[0],at[3]=rt.length>=4?rt[3]:at[1]),c.margin=at}});var Y=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Y},set:function(rt){Y=rt}});var Z=0;Object.defineProperty(this,"lastBreak",{get:function(){return Z},set:function(rt){Z=rt}});var ct=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ct},set:function(rt){ct=rt}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(rt){rt instanceof d&&(c=rt)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(rt){c.path=rt}});var tt=[];Object.defineProperty(this,"ctxStack",{get:function(){return tt},set:function(rt){tt=rt}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(rt){var at;at=u(rt),this.ctx.fillStyle=at.style,this.ctx.isFillTransparent=at.a===0,this.ctx.fillOpacity=at.a,this.pdf.setFillColor(at.r,at.g,at.b,{a:at.a}),this.pdf.setTextColor(at.r,at.g,at.b,{a:at.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(rt){var at=u(rt);this.ctx.strokeStyle=at.style,this.ctx.isStrokeTransparent=at.a===0,this.ctx.strokeOpacity=at.a,at.a===0?this.pdf.setDrawColor(255,255,255):(at.a,this.pdf.setDrawColor(at.r,at.g,at.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(rt){["butt","round","square"].indexOf(rt)!==-1&&(this.ctx.lineCap=rt,this.pdf.setLineCap(rt))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(rt){isNaN(rt)||(this.ctx.lineWidth=rt,this.pdf.setLineWidth(rt))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(rt){["bevel","round","miter"].indexOf(rt)!==-1&&(this.ctx.lineJoin=rt,this.pdf.setLineJoin(rt))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(rt){isNaN(rt)||(this.ctx.miterLimit=rt,this.pdf.setMiterLimit(rt))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(rt){this.ctx.textBaseline=rt}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(rt){["right","end","center","left","start"].indexOf(rt)!==-1&&(this.ctx.textAlign=rt)}});var nt=null;function Ct(rt,at){if(nt===null){var _t=function(J){var et=[];return Object.keys(J).forEach(function(lt){J[lt].forEach(function(ut){var mt=null;switch(ut){case"bold":mt={family:lt,weight:"bold"};break;case"italic":mt={family:lt,style:"italic"};break;case"bolditalic":mt={family:lt,weight:"bold",style:"italic"};break;case"":case"normal":mt={family:lt}}mt!==null&&(mt.ref={name:lt,style:ut},et.push(mt))})}),et}(rt.getFontList());nt=function(J){for(var et={},lt=0;lt<J.length;++lt){var ut=pH(J[lt]),mt=ut.family,wt=ut.stretch,vt=ut.style,Rt=ut.weight;et[mt]=et[mt]||{},et[mt][wt]=et[mt][wt]||{},et[mt][wt][vt]=et[mt][wt][vt]||{},et[mt][wt][vt][Rt]=ut}return et}(_t.concat(at))}return nt}var xt=null;Object.defineProperty(this,"fontFaces",{get:function(){return xt},set:function(rt){nt=null,xt=rt}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(rt){var at;if(this.ctx.font=rt,(at=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(rt))!==null){var _t=at[1],J=(at[2],at[3]),et=at[4],lt=(at[5],at[6]),ut=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(et)[2];et=Math.floor(ut==="px"?parseFloat(et)*this.pdf.internal.scaleFactor:ut==="em"?parseFloat(et)*this.pdf.getFontSize():parseFloat(et)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(et);var mt=function(zt){var Yt,Ut,ie=[],Zt=zt.trim();if(Zt==="")return lH;if(Zt in Rot)return[Rot[Zt]];for(;Zt!=="";){switch(Ut=null,Yt=(Zt=Mot(Zt)).charAt(0)){case'"':case"'":Ut=DPt(Zt.substring(1),Yt);break;default:Ut=OPt(Zt)}if(Ut===null||(ie.push(Ut[0]),(Zt=Mot(Ut[1]))!==""&&Zt.charAt(0)!==","))return lH;Zt=Zt.replace(/^,/,"")}return ie}(lt);if(this.fontFaces){var wt=kPt(Ct(this.pdf,this.fontFaces),mt.map(function(zt){return{family:zt,stretch:"normal",weight:J,style:_t}}));this.pdf.setFont(wt.ref.name,wt.ref.style)}else{var vt="";(J==="bold"||parseInt(J,10)>=700||_t==="bold")&&(vt="bold"),_t==="italic"&&(vt+="italic"),vt.length===0&&(vt="normal");for(var Rt="",Mt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Et=0;Et<mt.length;Et++){if(this.pdf.internal.getFont(mt[Et],vt,{noFallback:!0,disableWarning:!0})!==void 0){Rt=mt[Et];break}if(vt==="bolditalic"&&this.pdf.internal.getFont(mt[Et],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Rt=mt[Et],vt="bold";else if(this.pdf.internal.getFont(mt[Et],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Rt=mt[Et],vt="normal";break}}if(Rt===""){for(var kt=0;kt<mt.length;kt++)if(Mt[mt[kt]]){Rt=Mt[mt[kt]];break}}Rt=Rt===""?"Times":Rt,this.pdf.setFont(Rt,vt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(rt){this.ctx.globalCompositeOperation=rt}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(rt){this.ctx.globalAlpha=rt}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(rt){this.ctx.lineDashOffset=rt,N.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(rt){this.ctx.lineDash=rt,N.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(rt){this.ctx.ignoreClearRect=!!rt}})};h.prototype.setLineDash=function(T){this.lineDash=T},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){O.call(this,"fill",!1)},h.prototype.stroke=function(){O.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(T,B){if(isNaN(T)||isNaN(B))throw Qn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var I=this.ctx.transform.applyToPoint(new s(T,B));this.path.push({type:"mt",x:I.x,y:I.y}),this.ctx.lastPoint=new s(T,B)},h.prototype.closePath=function(){var T=new s(0,0),B=0;for(B=this.path.length-1;B!==-1;B--)if(this.path[B].type==="begin"&&Hn(this.path[B+1])==="object"&&typeof this.path[B+1].x=="number"){T=new s(this.path[B+1].x,this.path[B+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(T.x,T.y)},h.prototype.lineTo=function(T,B){if(isNaN(T)||isNaN(B))throw Qn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var I=this.ctx.transform.applyToPoint(new s(T,B));this.path.push({type:"lt",x:I.x,y:I.y}),this.ctx.lastPoint=new s(I.x,I.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),O.call(this,null,!0)},h.prototype.quadraticCurveTo=function(T,B,I,$){if(isNaN(I)||isNaN($)||isNaN(T)||isNaN(B))throw Qn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var A=this.ctx.transform.applyToPoint(new s(I,$)),k=this.ctx.transform.applyToPoint(new s(T,B));this.path.push({type:"qct",x1:k.x,y1:k.y,x:A.x,y:A.y}),this.ctx.lastPoint=new s(A.x,A.y)},h.prototype.bezierCurveTo=function(T,B,I,$,A,k){if(isNaN(A)||isNaN(k)||isNaN(T)||isNaN(B)||isNaN(I)||isNaN($))throw Qn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Y=this.ctx.transform.applyToPoint(new s(A,k)),Z=this.ctx.transform.applyToPoint(new s(T,B)),ct=this.ctx.transform.applyToPoint(new s(I,$));this.path.push({type:"bct",x1:Z.x,y1:Z.y,x2:ct.x,y2:ct.y,x:Y.x,y:Y.y}),this.ctx.lastPoint=new s(Y.x,Y.y)},h.prototype.arc=function(T,B,I,$,A,k){if(isNaN(T)||isNaN(B)||isNaN(I)||isNaN($)||isNaN(A))throw Qn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(k=!!k,!this.ctx.transform.isIdentity){var Y=this.ctx.transform.applyToPoint(new s(T,B));T=Y.x,B=Y.y;var Z=this.ctx.transform.applyToPoint(new s(0,I)),ct=this.ctx.transform.applyToPoint(new s(0,0));I=Math.sqrt(Math.pow(Z.x-ct.x,2)+Math.pow(Z.y-ct.y,2))}Math.abs(A-$)>=2*Math.PI&&($=0,A=2*Math.PI),this.path.push({type:"arc",x:T,y:B,radius:I,startAngle:$,endAngle:A,counterclockwise:k})},h.prototype.arcTo=function(T,B,I,$,A){throw new Error("arcTo not implemented.")},h.prototype.rect=function(T,B,I,$){if(isNaN(T)||isNaN(B)||isNaN(I)||isNaN($))throw Qn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(T,B),this.lineTo(T+I,B),this.lineTo(T+I,B+$),this.lineTo(T,B+$),this.lineTo(T,B),this.lineTo(T+I,B),this.lineTo(T,B)},h.prototype.fillRect=function(T,B,I,$){if(isNaN(T)||isNaN(B)||isNaN(I)||isNaN($))throw Qn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var A={};this.lineCap!=="butt"&&(A.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(A.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(T,B,I,$),this.fill(),A.hasOwnProperty("lineCap")&&(this.lineCap=A.lineCap),A.hasOwnProperty("lineJoin")&&(this.lineJoin=A.lineJoin)}},h.prototype.strokeRect=function(T,B,I,$){if(isNaN(T)||isNaN(B)||isNaN(I)||isNaN($))throw Qn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");m.call(this)||(this.beginPath(),this.rect(T,B,I,$),this.stroke())},h.prototype.clearRect=function(T,B,I,$){if(isNaN(T)||isNaN(B)||isNaN(I)||isNaN($))throw Qn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(T,B,I,$))},h.prototype.save=function(T){T=typeof T!="boolean"||T;for(var B=this.pdf.internal.getCurrentPageInfo().pageNumber,I=0;I<this.pdf.internal.getNumberOfPages();I++)this.pdf.setPage(I+1),this.pdf.internal.out("q");if(this.pdf.setPage(B),T){this.ctx.fontSize=this.pdf.internal.getFontSize();var $=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=$}},h.prototype.restore=function(T){T=typeof T!="boolean"||T;for(var B=this.pdf.internal.getCurrentPageInfo().pageNumber,I=0;I<this.pdf.internal.getNumberOfPages();I++)this.pdf.setPage(I+1),this.pdf.internal.out("Q");this.pdf.setPage(B),T&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var u=function(T){var B,I,$,A;if(T.isCanvasGradient===!0&&(T=T.getColor()),!T)return{r:0,g:0,b:0,a:0,style:T};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(T))B=0,I=0,$=0,A=0;else{var k=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(T);if(k!==null)B=parseInt(k[1]),I=parseInt(k[2]),$=parseInt(k[3]),A=1;else if((k=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(T))!==null)B=parseInt(k[1]),I=parseInt(k[2]),$=parseInt(k[3]),A=parseFloat(k[4]);else{if(A=1,typeof T=="string"&&T.charAt(0)!=="#"){var Y=new Fot(T);T=Y.ok?Y.toHex():"#000000"}T.length===4?(B=T.substring(1,2),B+=B,I=T.substring(2,3),I+=I,$=T.substring(3,4),$+=$):(B=T.substring(1,3),I=T.substring(3,5),$=T.substring(5,7)),B=parseInt(B,16),I=parseInt(I,16),$=parseInt($,16)}}return{r:B,g:I,b:$,a:A,style:T}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},m=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(T,B,I,$){if(isNaN(B)||isNaN(I)||typeof T!="string")throw Qn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if($=isNaN($)?void 0:$,!f.call(this)){var A=S(this.ctx.transform.rotation),k=this.ctx.transform.scaleX;R.call(this,{text:T,x:B,y:I,scale:k,angle:A,align:this.textAlign,maxWidth:$})}},h.prototype.strokeText=function(T,B,I,$){if(isNaN(B)||isNaN(I)||typeof T!="string")throw Qn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!m.call(this)){$=isNaN($)?void 0:$;var A=S(this.ctx.transform.rotation),k=this.ctx.transform.scaleX;R.call(this,{text:T,x:B,y:I,scale:k,renderingMode:"stroke",angle:A,align:this.textAlign,maxWidth:$})}},h.prototype.measureText=function(T){if(typeof T!="string")throw Qn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var B=this.pdf,I=this.pdf.internal.scaleFactor,$=B.internal.getFontSize(),A=B.getStringUnitWidth(T)*$/B.internal.scaleFactor,k=function(Y){var Z=(Y=Y||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Z}}),this};return new k({width:A*=Math.round(96*I/72*1e4)/1e4})},h.prototype.scale=function(T,B){if(isNaN(T)||isNaN(B))throw Qn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var I=new l(T,0,0,B,0,0);this.ctx.transform=this.ctx.transform.multiply(I)},h.prototype.rotate=function(T){if(isNaN(T))throw Qn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var B=new l(Math.cos(T),Math.sin(T),-Math.sin(T),Math.cos(T),0,0);this.ctx.transform=this.ctx.transform.multiply(B)},h.prototype.translate=function(T,B){if(isNaN(T)||isNaN(B))throw Qn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var I=new l(1,0,0,1,T,B);this.ctx.transform=this.ctx.transform.multiply(I)},h.prototype.transform=function(T,B,I,$,A,k){if(isNaN(T)||isNaN(B)||isNaN(I)||isNaN($)||isNaN(A)||isNaN(k))throw Qn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Y=new l(T,B,I,$,A,k);this.ctx.transform=this.ctx.transform.multiply(Y)},h.prototype.setTransform=function(T,B,I,$,A,k){T=isNaN(T)?1:T,B=isNaN(B)?0:B,I=isNaN(I)?0:I,$=isNaN($)?1:$,A=isNaN(A)?0:A,k=isNaN(k)?0:k,this.ctx.transform=new l(T,B,I,$,A,k)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(T,B,I,$,A,k,Y,Z,ct){var tt=this.pdf.getImageProperties(T),nt=1,Ct=1,xt=1,rt=1;$!==void 0&&Z!==void 0&&(xt=Z/$,rt=ct/A,nt=tt.width/$*Z/$,Ct=tt.height/A*ct/A),k===void 0&&(k=B,Y=I,B=0,I=0),$!==void 0&&Z===void 0&&(Z=$,ct=A),$===void 0&&Z===void 0&&(Z=tt.width,ct=tt.height);for(var at,_t=this.ctx.transform.decompose(),J=S(_t.rotate.shx),et=new l,lt=(et=(et=(et=et.multiply(_t.translate)).multiply(_t.skew)).multiply(_t.scale)).applyToRectangle(new a(k-B*xt,Y-I*rt,$*nt,A*Ct)),ut=p.call(this,lt),mt=[],wt=0;wt<ut.length;wt+=1)mt.indexOf(ut[wt])===-1&&mt.push(ut[wt]);if(E(mt),this.autoPaging)for(var vt=mt[0],Rt=mt[mt.length-1],Mt=vt;Mt<Rt+1;Mt++){this.pdf.setPage(Mt);var Et=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],kt=Mt===1?this.posY+this.margin[0]:this.margin[0],zt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Yt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ut=Mt===1?0:zt+(Mt-2)*Yt;if(this.ctx.clip_path.length!==0){var ie=this.path;at=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(at,this.posX+this.margin[3],-Ut+kt+this.ctx.prevPageLastElemOffset),V.call(this,"fill",!0),this.path=ie}var Zt=JSON.parse(JSON.stringify(lt));Zt=_([Zt],this.posX+this.margin[3],-Ut+kt+this.ctx.prevPageLastElemOffset)[0];var Fe=(Mt>vt||Mt<Rt)&&g.call(this);Fe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Et,Yt,null).clip().discardPath()),this.pdf.addImage(T,"JPEG",Zt.x,Zt.y,Zt.w,Zt.h,null,null,J),Fe&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(T,"JPEG",lt.x,lt.y,lt.w,lt.h,null,null,J)};var p=function(T,B,I){var $=[];B=B||this.pdf.internal.pageSize.width,I=I||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var A=this.posY+this.ctx.prevPageLastElemOffset;switch(T.type){default:case"mt":case"lt":$.push(Math.floor((T.y+A)/I)+1);break;case"arc":$.push(Math.floor((T.y+A-T.radius)/I)+1),$.push(Math.floor((T.y+A+T.radius)/I)+1);break;case"qct":var k=M(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x,T.y);$.push(Math.floor((k.y+A)/I)+1),$.push(Math.floor((k.y+k.h+A)/I)+1);break;case"bct":var Y=U(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x2,T.y2,T.x,T.y);$.push(Math.floor((Y.y+A)/I)+1),$.push(Math.floor((Y.y+Y.h+A)/I)+1);break;case"rect":$.push(Math.floor((T.y+A)/I)+1),$.push(Math.floor((T.y+T.h+A)/I)+1)}for(var Z=0;Z<$.length;Z+=1)for(;this.pdf.internal.getNumberOfPages()<$[Z];)b.call(this);return $},b=function(){var T=this.fillStyle,B=this.strokeStyle,I=this.font,$=this.lineCap,A=this.lineWidth,k=this.lineJoin;this.pdf.addPage(),this.fillStyle=T,this.strokeStyle=B,this.font=I,this.lineCap=$,this.lineWidth=A,this.lineJoin=k},_=function(T,B,I){for(var $=0;$<T.length;$++)switch(T[$].type){case"bct":T[$].x2+=B,T[$].y2+=I;case"qct":T[$].x1+=B,T[$].y1+=I;case"mt":case"lt":case"arc":default:T[$].x+=B,T[$].y+=I}return T},E=function(T){return T.sort(function(B,I){return B-I})},O=function(T,B){for(var I,$,A=this.fillStyle,k=this.strokeStyle,Y=this.lineCap,Z=this.lineWidth,ct=Math.abs(Z*this.ctx.transform.scaleX),tt=this.lineJoin,nt=JSON.parse(JSON.stringify(this.path)),Ct=JSON.parse(JSON.stringify(this.path)),xt=[],rt=0;rt<Ct.length;rt++)if(Ct[rt].x!==void 0)for(var at=p.call(this,Ct[rt]),_t=0;_t<at.length;_t+=1)xt.indexOf(at[_t])===-1&&xt.push(at[_t]);for(var J=0;J<xt.length;J++)for(;this.pdf.internal.getNumberOfPages()<xt[J];)b.call(this);if(E(xt),this.autoPaging)for(var et=xt[0],lt=xt[xt.length-1],ut=et;ut<lt+1;ut++){this.pdf.setPage(ut),this.fillStyle=A,this.strokeStyle=k,this.lineCap=Y,this.lineWidth=ct,this.lineJoin=tt;var mt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],wt=ut===1?this.posY+this.margin[0]:this.margin[0],vt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Rt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Mt=ut===1?0:vt+(ut-2)*Rt;if(this.ctx.clip_path.length!==0){var Et=this.path;I=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(I,this.posX+this.margin[3],-Mt+wt+this.ctx.prevPageLastElemOffset),V.call(this,T,!0),this.path=Et}if($=JSON.parse(JSON.stringify(nt)),this.path=_($,this.posX+this.margin[3],-Mt+wt+this.ctx.prevPageLastElemOffset),B===!1||ut===0){var kt=(ut>et||ut<lt)&&g.call(this);kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],mt,Rt,null).clip().discardPath()),V.call(this,T,B),kt&&this.pdf.restoreGraphicsState()}this.lineWidth=Z}else this.lineWidth=ct,V.call(this,T,B),this.lineWidth=Z;this.path=nt},V=function(T,B){if((T!=="stroke"||B||!m.call(this))&&(T==="stroke"||B||!f.call(this))){for(var I,$,A=[],k=this.path,Y=0;Y<k.length;Y++){var Z=k[Y];switch(Z.type){case"begin":A.push({begin:!0});break;case"close":A.push({close:!0});break;case"mt":A.push({start:Z,deltas:[],abs:[]});break;case"lt":var ct=A.length;if(k[Y-1]&&!isNaN(k[Y-1].x)&&(I=[Z.x-k[Y-1].x,Z.y-k[Y-1].y],ct>0)){for(;ct>=0;ct--)if(A[ct-1].close!==!0&&A[ct-1].begin!==!0){A[ct-1].deltas.push(I),A[ct-1].abs.push(Z);break}}break;case"bct":I=[Z.x1-k[Y-1].x,Z.y1-k[Y-1].y,Z.x2-k[Y-1].x,Z.y2-k[Y-1].y,Z.x-k[Y-1].x,Z.y-k[Y-1].y],A[A.length-1].deltas.push(I);break;case"qct":var tt=k[Y-1].x+2/3*(Z.x1-k[Y-1].x),nt=k[Y-1].y+2/3*(Z.y1-k[Y-1].y),Ct=Z.x+2/3*(Z.x1-Z.x),xt=Z.y+2/3*(Z.y1-Z.y),rt=Z.x,at=Z.y;I=[tt-k[Y-1].x,nt-k[Y-1].y,Ct-k[Y-1].x,xt-k[Y-1].y,rt-k[Y-1].x,at-k[Y-1].y],A[A.length-1].deltas.push(I);break;case"arc":A.push({deltas:[],abs:[],arc:!0}),Array.isArray(A[A.length-1].abs)&&A[A.length-1].abs.push(Z)}}$=B?null:T==="stroke"?"stroke":"fill";for(var _t=!1,J=0;J<A.length;J++)if(A[J].arc)for(var et=A[J].abs,lt=0;lt<et.length;lt++){var ut=et[lt];ut.type==="arc"?L.call(this,ut.x,ut.y,ut.radius,ut.startAngle,ut.endAngle,ut.counterclockwise,void 0,B,!_t):j.call(this,ut.x,ut.y),_t=!0}else if(A[J].close===!0)this.pdf.internal.out("h"),_t=!1;else if(A[J].begin!==!0){var mt=A[J].start.x,wt=A[J].start.y;v.call(this,A[J].deltas,mt,wt),_t=!0}$&&q.call(this,$),B&&W.call(this)}},H=function(T){var B=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,I=B*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return T-I;case"top":return T+B-I;case"hanging":return T+B-2*I;case"middle":return T+B/2-I;case"ideographic":return T;case"alphabetic":default:return T}},F=function(T){return T+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var T=function(){};return T.colorStops=[],T.addColorStop=function(B,I){this.colorStops.push([B,I])},T.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},T.isCanvasGradient=!0,T},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var L=function(T,B,I,$,A,k,Y,Z,ct){for(var tt=C.call(this,I,$,A,k),nt=0;nt<tt.length;nt++){var Ct=tt[nt];nt===0&&(ct?x.call(this,Ct.x1+T,Ct.y1+B):j.call(this,Ct.x1+T,Ct.y1+B)),y.call(this,T,B,Ct.x2,Ct.y2,Ct.x3,Ct.y3,Ct.x4,Ct.y4)}Z?W.call(this):q.call(this,Y)},q=function(T){switch(T){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},W=function(){this.pdf.clip(),this.pdf.discardPath()},x=function(T,B){this.pdf.internal.out(r(T)+" "+i(B)+" m")},R=function(T){var B;switch(T.align){case"right":case"end":B="right";break;case"center":B="center";break;case"left":case"start":default:B="left"}var I=this.pdf.getTextDimensions(T.text),$=H.call(this,T.y),A=F.call(this,$)-I.h,k=this.ctx.transform.applyToPoint(new s(T.x,$)),Y=this.ctx.transform.decompose(),Z=new l;Z=(Z=(Z=Z.multiply(Y.translate)).multiply(Y.skew)).multiply(Y.scale);for(var ct,tt,nt,Ct=this.ctx.transform.applyToRectangle(new a(T.x,$,I.w,I.h)),xt=Z.applyToRectangle(new a(T.x,A,I.w,I.h)),rt=p.call(this,xt),at=[],_t=0;_t<rt.length;_t+=1)at.indexOf(rt[_t])===-1&&at.push(rt[_t]);if(E(at),this.autoPaging)for(var J=at[0],et=at[at.length-1],lt=J;lt<et+1;lt++){this.pdf.setPage(lt);var ut=lt===1?this.posY+this.margin[0]:this.margin[0],mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],wt=this.pdf.internal.pageSize.height-this.margin[2],vt=wt-this.margin[0],Rt=this.pdf.internal.pageSize.width-this.margin[1],Mt=Rt-this.margin[3],Et=lt===1?0:mt+(lt-2)*vt;if(this.ctx.clip_path.length!==0){var kt=this.path;ct=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(ct,this.posX+this.margin[3],-1*Et+ut),V.call(this,"fill",!0),this.path=kt}var zt=_([JSON.parse(JSON.stringify(xt))],this.posX+this.margin[3],-Et+ut+this.ctx.prevPageLastElemOffset)[0];T.scale>=.01&&(tt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(tt*T.scale),nt=this.lineWidth,this.lineWidth=nt*T.scale);var Yt=this.autoPaging!=="text";if(Yt||zt.y+zt.h<=wt){if(Yt||zt.y>=ut&&zt.x<=Rt){var Ut=Yt?T.text:this.pdf.splitTextToSize(T.text,T.maxWidth||Rt-zt.x)[0],ie=_([JSON.parse(JSON.stringify(Ct))],this.posX+this.margin[3],-Et+ut+this.ctx.prevPageLastElemOffset)[0],Zt=Yt&&(lt>J||lt<et)&&g.call(this);Zt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Mt,vt,null).clip().discardPath()),this.pdf.text(Ut,ie.x,ie.y,{angle:T.angle,align:B,renderingMode:T.renderingMode}),Zt&&this.pdf.restoreGraphicsState()}}else zt.y<wt&&(this.ctx.prevPageLastElemOffset+=wt-zt.y);T.scale>=.01&&(this.pdf.setFontSize(tt),this.lineWidth=nt)}else T.scale>=.01&&(tt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(tt*T.scale),nt=this.lineWidth,this.lineWidth=nt*T.scale),this.pdf.text(T.text,k.x+this.posX,k.y+this.posY,{angle:T.angle,align:B,renderingMode:T.renderingMode,maxWidth:T.maxWidth}),T.scale>=.01&&(this.pdf.setFontSize(tt),this.lineWidth=nt)},j=function(T,B,I,$){I=I||0,$=$||0,this.pdf.internal.out(r(T+I)+" "+i(B+$)+" l")},v=function(T,B,I){return this.pdf.lines(T,B,I,null,null)},y=function(T,B,I,$,A,k,Y,Z){this.pdf.internal.out([t(n(I+T)),t(o($+B)),t(n(A+T)),t(o(k+B)),t(n(Y+T)),t(o(Z+B)),"c"].join(" "))},C=function(T,B,I,$){for(var A=2*Math.PI,k=Math.PI/2;B>I;)B-=A;var Y=Math.abs(I-B);Y<A&&$&&(Y=A-Y);for(var Z=[],ct=$?-1:1,tt=B;Y>1e-5;){var nt=tt+ct*Math.min(Y,k);Z.push(w.call(this,T,tt,nt)),Y-=Math.abs(nt-tt),tt=nt}return Z},w=function(T,B,I){var $=(I-B)/2,A=T*Math.cos($),k=T*Math.sin($),Y=A,Z=-k,ct=Y*Y+Z*Z,tt=ct+Y*A+Z*k,nt=4/3*(Math.sqrt(2*ct*tt)-tt)/(Y*k-Z*A),Ct=Y-nt*Z,xt=Z+nt*Y,rt=Ct,at=-xt,_t=$+B,J=Math.cos(_t),et=Math.sin(_t);return{x1:T*Math.cos(B),y1:T*Math.sin(B),x2:Ct*J-xt*et,y2:Ct*et+xt*J,x3:rt*J-at*et,y3:rt*et+at*J,x4:T*Math.cos(I),y4:T*Math.sin(I)}},S=function(T){return 180*T/Math.PI},M=function(T,B,I,$,A,k){var Y=T+.5*(I-T),Z=B+.5*($-B),ct=A+.5*(I-A),tt=k+.5*($-k),nt=Math.min(T,A,Y,ct),Ct=Math.max(T,A,Y,ct),xt=Math.min(B,k,Z,tt),rt=Math.max(B,k,Z,tt);return new a(nt,xt,Ct-nt,rt-xt)},U=function(T,B,I,$,A,k,Y,Z){var ct,tt,nt,Ct,xt,rt,at,_t,J,et,lt,ut,mt,wt,vt=I-T,Rt=$-B,Mt=A-I,Et=k-$,kt=Y-A,zt=Z-k;for(tt=0;tt<41;tt++)J=(at=(nt=T+(ct=tt/40)*vt)+ct*((xt=I+ct*Mt)-nt))+ct*(xt+ct*(A+ct*kt-xt)-at),et=(_t=(Ct=B+ct*Rt)+ct*((rt=$+ct*Et)-Ct))+ct*(rt+ct*(k+ct*zt-rt)-_t),tt==0?(lt=J,ut=et,mt=J,wt=et):(lt=Math.min(lt,J),ut=Math.min(ut,et),mt=Math.max(mt,J),wt=Math.max(wt,et));return new a(Math.round(lt),Math.round(ut),Math.round(mt-lt),Math.round(wt-ut))},N=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var T,B,I=(T=this.ctx.lineDash,B=this.ctx.lineDashOffset,JSON.stringify({lineDash:T,lineDashOffset:B}));this.prevLineDash!==I&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=I)}}})($i.API),function(e){var t=function(o){var s,a,l,c,d,h,u,f,m,g;for(/[^\x00-\xFF]/.test(o),a=[],l=0,c=(o+=s="\0\0\0\0".slice(o.length%4||4)).length;c>l;l+=4)(d=(o.charCodeAt(l)<<24)+(o.charCodeAt(l+1)<<16)+(o.charCodeAt(l+2)<<8)+o.charCodeAt(l+3))!==0?(h=(d=((d=((d=((d=(d-(g=d%85))/85)-(m=d%85))/85)-(f=d%85))/85)-(u=d%85))/85)%85,a.push(h+33,u+33,f+33,m+33,g+33)):a.push(122);return function(p,b){for(var _=b;_>0;_--)p.pop()}(a,s.length),String.fromCharCode.apply(String,a)+"~>"},r=function(o){var s,a,l,c,d,h=String,u="length",f=255,m="charCodeAt",g="slice",p="replace";for(o[g](-2),o=o[g](0,-2)[p](/\s/g,"")[p]("z","!!!!!"),l=[],c=0,d=(o+=s="uuuuu"[g](o[u]%5||5))[u];d>c;c+=5)a=52200625*(o[m](c)-33)+614125*(o[m](c+1)-33)+7225*(o[m](c+2)-33)+85*(o[m](c+3)-33)+(o[m](c+4)-33),l.push(f&a>>24,f&a>>16,f&a>>8,f&a);return function(b,_){for(var E=_;E>0;E--)b.pop()}(l,s[u]),h.fromCharCode.apply(h,l)},i=function(o){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),s.test(o)===!1)return"";for(var a="",l=0;l<o.length;l+=2)a+=String.fromCharCode("0x"+(o[l]+o[l+1]));return a},n=function(o){for(var s=new Uint8Array(o.length),a=o.length;a--;)s[a]=o.charCodeAt(a);return o=(s=kD(s)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};e.processDataByFilters=function(o,s){var a=0,l=o||"",c=[];for(typeof(s=s||[])=="string"&&(s=[s]),a=0;a<s.length;a+=1)switch(s[a]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=i(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=n(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[a]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}($i.API),function(e){e.loadFile=function(t,r,i){return function(n,o,s){o=o!==!1,s=typeof s=="function"?s:function(){};var a=void 0;try{a=function(l,c,d){var h=new XMLHttpRequest,u=0,f=function(m){var g=m.length,p=[],b=String.fromCharCode;for(u=0;u<g;u+=1)p.push(b(255&m.charCodeAt(u)));return p.join("")};if(h.open("GET",l,!c),h.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(h.onload=function(){h.status===200?d(f(this.responseText)):d(void 0)}),h.send(null),c&&h.status===200)return f(h.responseText)}(n,o,s)}catch{}return a}(t,r,i)},e.loadImageFile=e.loadFile}($i.API),function(e){function t(){return(Xi.html2canvas?Promise.resolve(Xi.html2canvas):import("./chunk-MKOK53X2.js")).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function r(){return(Xi.DOMPurify?Promise.resolve(Xi.DOMPurify):import("./chunk-ET42UA4L.js")).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var i=function(s){var a=Hn(s);return a==="undefined"?"undefined":a==="string"||s instanceof String?"string":a==="number"||s instanceof Number?"number":a==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":a==="object"?"object":"unknown"},n=function(s,a){var l=document.createElement(s);for(var c in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[c]=a.style[c];return l},o=function s(a){var l=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),c=s.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,s,1,[s])).set(a)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(s,a){return s.__proto__=a||o.prototype,s},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(s,a){return this.then(function(){switch(a=a||function(l){switch(i(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(r).then(function(l){return this.set({src:n("div",{innerHTML:s,dompurify:l})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},o.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(c,d){for(var h=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),u=c.firstChild;u;u=u.nextSibling)d!==!0&&u.nodeType===1&&u.nodeName==="SCRIPT"||h.appendChild(l(u,d));return c.nodeType===1&&(c.nodeName==="CANVAS"?(h.width=c.width,h.height=c.height,h.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(h.value=c.value),h.addEventListener("load",function(){h.scrollTop=c.scrollTop,h.scrollLeft=c.scrollLeft},!0)),h}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=n("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=n("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(n("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(a){var l=this.opt.jsPDF,c=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var u=0;u<c.length;++u){var f=c[u],m=f.src.find(function(g){return g.format==="truetype"});m&&l.addFont(m.url,f.ref.name,f.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,l.context2d.save(!0),a(this.prop.container,h)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(s,a,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(s,a):this.outputPdf(s,a)},o.prototype.outputPdf=function(s,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,a)})},o.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},o.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(s){if(i(s)!=="object")return this;var a=Object.keys(s||{}).map(function(l){if(l in o.template.prop)return function(){this.prop[l]=s[l]};switch(l){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[l]=s[l]}}},this);return this.then(function(){return this.thenList(a)})},o.prototype.get=function(s,a){return this.then(function(){var l=s in o.template.prop?this.prop[s]:this.opt[s];return a?a(l):l})},o.prototype.setMargin=function(s){return this.then(function(){switch(i(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},o.prototype.setPageSize=function(s){function a(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(s=s||$i.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:a(s.inner.width,s.k),height:a(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},o.prototype.setProgress=function(s,a,l,c){return s!=null&&(this.progress.val=s),a!=null&&(this.progress.state=a),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(s,a,l,c){return this.setProgress(s?this.progress.val+s:null,a||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},o.prototype.then=function(s,a){var l=this;return this.thenCore(s,a,function(c,d){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(h){return l.updateProgress(null,c),h}).then(c,d).then(function(h){return l.updateProgress(1),h})})},o.prototype.thenCore=function(s,a,l){l=l||Promise.prototype.then,s&&(s=s.bind(this)),a&&(a=a.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:o.convert(Object.assign({},this),Promise.prototype),d=l.call(c,s,a);return o.convert(d,this.__proto__)},o.prototype.thenExternal=function(s,a){return Promise.prototype.then.call(this,s,a)},o.prototype.thenList=function(s){var a=this;return s.forEach(function(l){a=a.thenCore(l)}),a},o.prototype.catch=function(s){s&&(s=s.bind(this));var a=Promise.prototype.catch.call(this,s);return o.convert(a,this)},o.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},o.prototype.error=function(s){return this.then(function(){throw new Error(s)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,$i.getPageSize=function(s,a,l){if(Hn(s)==="object"){var c=s;s=c.orientation,a=c.unit||a,l=c.format||l}a=a||"mm",l=l||"a4",s=(""+(s||"P")).toLowerCase();var d,h=(""+l).toLowerCase(),u={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+a}var f,m=0,g=0;if(u.hasOwnProperty(h))m=u[h][1]/d,g=u[h][0]/d;else try{m=l[1],g=l[0]}catch{throw new Error("Invalid format: "+l)}if(s==="p"||s==="portrait")s="p",g>m&&(f=g,g=m,m=f);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",m>g&&(f=g,g=m,m=f)}return{width:g,height:m,unit:a,k:d,orientation:s}},e.html=function(s,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(pH):null;var l=new o(a);return a.worker?l:l.from(s).doCallback()}}($i.API),$i.API.addJS=function(e){return Iot=e,this.internal.events.subscribe("postPutResources",function(){PD=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(PD+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Aot=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Iot+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){PD!==void 0&&Aot!==void 0&&this.internal.out("/Names <</JavaScript "+PD+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var n=r.outline.render().split(/\r\n/),o=0;o<n.length;o++){var s=n[o],a=i.exec(s);if(a!=null){var l=a[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,d=[];for(o=0;o<c;o++){var h=r.internal.newObject();d.push(h);var u=r.internal.getPageInfo(o+1);r.internal.write("<< /D["+u.objId+" 0 R /XYZ null null null]>> endobj")}var f=r.internal.newObject();for(r.internal.write("<< /Names [ "),o=0;o<d.length;o++)r.internal.write("(page_"+(o+1)+")"+d[o]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+f+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(i,n,o){var s={title:n,options:o,children:[]};return i==null&&(i=this.root),i.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(i){i.id=r.internal.newObjectDeferred();for(var n=0;n<i.children.length;n++)this.genIds_r(i.children[n])},r.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},r.outline.renderItems=function(i){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<i.children.length;o++){var s=i.children[o];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(i)),o>0&&this.line("/Prev "+this.makeRef(i.children[o-1])),o<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[o+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var a=this.count=this.count_r({count:0},s);if(a>0&&this.line("/Count "+a),s.options&&s.options.pageNumber){var l=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var c=0;c<i.children.length;c++)this.renderItems(i.children[c])},r.outline.line=function(i){this.ctx.val+=i+`\r
`},r.outline.makeRef=function(i){return i.id+" 0 R"},r.outline.makeString=function(i){return"("+r.internal.pdfEscape(i)+")"},r.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(i,n){for(var o=0;o<n.children.length;o++)i.count++,this.count_r(i,n.children[o]);return i.count}}])}($i.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,i,n,o,s,a){var l,c=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(l=function(h){for(var u,f=256*h.charCodeAt(4)+h.charCodeAt(5),m=h.length,g={width:0,height:0,numcomponents:1},p=4;p<m;p+=2){if(p+=f,t.indexOf(h.charCodeAt(p+1))!==-1){u=256*h.charCodeAt(p+5)+h.charCodeAt(p+6),g={width:256*h.charCodeAt(p+7)+h.charCodeAt(p+8),height:u,numcomponents:h.charCodeAt(p+9)};break}f=256*h.charCodeAt(p+2)+h.charCodeAt(p+3)}return g}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}d={data:r,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:i,alias:n}}return d}}($i.API);var lw,ND,kot,Dot,Oot,PPt=function(){var e,t,r;function i(o){var s,a,l,c,d,h,u,f,m,g,p,b,_,E;for(this.data=o,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(s=this.readUInt32(),m=(function(){var O,V;for(V=[],O=0;O<4;++O)V.push(String.fromCharCode(this.data[this.pos++]));return V}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),c=this.readUInt16()||100,h.delay=1e3*d/c,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for(m==="fdAT"&&(this.pos+=4,s-=4),o=h?.data||this.imgData,b=0;0<=s?b<s:b>s;0<=s?++b:--b)o.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((g=l-this.transparency.indexed.length)>0)for(_=0;0<=g?_<g:_>g;0<=g?++_:--_)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":u=(p=this.read(s)).indexOf(0),f=String.fromCharCode.apply(String,p.slice(0,u)),this.text[f]=String.fromCharCode.apply(String,p.slice(u+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(E=this.colorType)===4||E===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}i.prototype.read=function(o){var s,a;for(a=[],s=0;0<=o?s<o:s>o;0<=o?++s:--s)a.push(this.data[this.pos++]);return a},i.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.decodePixels=function(o){var s=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*s),l=0,c=this;if(o==null&&(o=this.imgData),o.length===0)return new Uint8Array(0);function d(h,u,f,m){var g,p,b,_,E,O,V,H,F,L,q,W,x,R,j,v,y,C,w,S,M,U=Math.ceil((c.width-h)/f),N=Math.ceil((c.height-u)/m),T=c.width==U&&c.height==N;for(R=s*U,W=T?a:new Uint8Array(R*N),O=o.length,x=0,p=0;x<N&&l<O;){switch(o[l++]){case 0:for(_=y=0;y<R;_=y+=1)W[p++]=o[l++];break;case 1:for(_=C=0;C<R;_=C+=1)g=o[l++],E=_<s?0:W[p-s],W[p++]=(g+E)%256;break;case 2:for(_=w=0;w<R;_=w+=1)g=o[l++],b=(_-_%s)/s,j=x&&W[(x-1)*R+b*s+_%s],W[p++]=(j+g)%256;break;case 3:for(_=S=0;S<R;_=S+=1)g=o[l++],b=(_-_%s)/s,E=_<s?0:W[p-s],j=x&&W[(x-1)*R+b*s+_%s],W[p++]=(g+Math.floor((E+j)/2))%256;break;case 4:for(_=M=0;M<R;_=M+=1)g=o[l++],b=(_-_%s)/s,E=_<s?0:W[p-s],x===0?j=v=0:(j=W[(x-1)*R+b*s+_%s],v=b&&W[(x-1)*R+(b-1)*s+_%s]),V=E+j-v,H=Math.abs(V-E),L=Math.abs(V-j),q=Math.abs(V-v),F=H<=L&&H<=q?E:L<=q?j:v,W[p++]=(g+F)%256;break;default:throw new Error("Invalid filter algorithm: "+o[l-1])}if(!T){var B=((u+x*m)*c.width+h)*s,I=x*R;for(_=0;_<U;_+=1){for(var $=0;$<s;$+=1)a[B++]=W[I++];B+=(f-1)*s}}x++}}return o=yot(o),c.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),a},i.prototype.decodePalette=function(){var o,s,a,l,c,d,h,u,f;for(a=this.palette,d=this.transparency.indexed||[],c=new Uint8Array((d.length||0)+a.length),l=0,o=0,s=h=0,u=a.length;h<u;s=h+=3)c[l++]=a[s],c[l++]=a[s+1],c[l++]=a[s+2],c[l++]=(f=d[o++])!=null?f:255;return c},i.prototype.copyToImageData=function(o,s){var a,l,c,d,h,u,f,m,g,p,b;if(l=this.colors,g=null,a=this.hasAlphaChannel,this.palette.length&&(g=(b=this._decodedPalette)!=null?b:this._decodedPalette=this.decodePalette(),l=4,a=!0),m=(c=o.data||o).length,h=g||s,d=u=0,l===1)for(;d<m;)f=g?4*s[d/4]:u,p=h[f++],c[d++]=p,c[d++]=p,c[d++]=p,c[d++]=a?h[f++]:255,u=f;else for(;d<m;)f=g?4*s[d/4]:u,c[d++]=h[f++],c[d++]=h[f++],c[d++]=h[f++],c[d++]=a?h[f++]:255,u=f},i.prototype.decode=function(){var o;return o=new Uint8Array(this.width*this.height*4),this.copyToImageData(o,this.decodePixels()),o};var n=function(){if(Object.prototype.toString.call(Xi)==="[object Window]"){try{t=Xi.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return n(),e=function(o){var s;if(n()===!0)return r.width=o.width,r.height=o.height,r.clearRect(0,0,o.width,o.height),r.putImageData(o,0,0),(s=new Image).src=t.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},i.prototype.decodeFrames=function(o){var s,a,l,c,d,h,u,f;if(this.animation){for(f=[],a=d=0,h=(u=this.animation.frames).length;d<h;a=++d)s=u[a],l=o.createImageData(s.width,s.height),c=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(l,c),s.imageData=l,f.push(s.image=e(l));return f}},i.prototype.renderFrame=function(o,s){var a,l,c;return a=(l=this.animation.frames)[s],c=l[s-1],s===0&&o.clearRect(0,0,this.width,this.height),c?.disposeOp===1?o.clearRect(c.xOffset,c.yOffset,c.width,c.height):c?.disposeOp===2&&o.putImageData(c.imageData,c.xOffset,c.yOffset),a.blendOp===0&&o.clearRect(a.xOffset,a.yOffset,a.width,a.height),o.drawImage(a.image,a.xOffset,a.yOffset)},i.prototype.animate=function(o){var s,a,l,c,d,h,u=this;return a=0,h=this.animation,c=h.numFrames,l=h.frames,d=h.numPlays,(s=function(){var f,m;if(f=a++%c,m=l[f],u.renderFrame(o,f),c>1&&a/c<d)return u.animation._timeout=setTimeout(s,m.delay)})()},i.prototype.stopAnimation=function(){var o;return clearTimeout((o=this.animation)!=null?o._timeout:void 0)},i.prototype.render=function(o){var s,a;return o._png&&o._png.stopAnimation(),o._png=this,o.width=this.width,o.height=this.height,s=o.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(a=s.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),s.putImageData(a,0,0))},i}();function NPt(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,i=e[t++]|e[t++]<<8,n=e[t++],o=n>>7,s=1<<(7&n)+1;e[t++],e[t++];var a=null,l=null;o&&(a=t,l=s,t+=3*s);var c=!0,d=[],h=0,u=null,f=0,m=null;for(this.width=r,this.height=i;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,m=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((x=e[t++])>=0))throw Error("Invalid block size");if(x===0)break;t+=x}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var g=e[t++];h=e[t++]|e[t++]<<8,u=e[t++],!(1&g)&&(u=null),f=g>>2&7,t++;break;case 254:for(;;){if(!((x=e[t++])>=0))throw Error("Invalid block size");if(x===0)break;t+=x}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var p=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,_=e[t++]|e[t++]<<8,E=e[t++]|e[t++]<<8,O=e[t++],V=O>>6&1,H=1<<(7&O)+1,F=a,L=l,q=!1;O>>7&&(q=!0,F=t,L=H,t+=3*H);var W=t;for(t++;;){var x;if(!((x=e[t++])>=0))throw Error("Invalid block size");if(x===0)break;t+=x}d.push({x:p,y:b,width:_,height:E,has_local_palette:q,palette_offset:F,palette_size:L,data_offset:W,data_length:t-W,transparent_index:u,interlaced:!!V,delay:h,disposal:f});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return m},this.frameInfo=function(R){if(R<0||R>=d.length)throw new Error("Frame index out of range.");return d[R]},this.decodeAndBlitFrameBGRA=function(R,j){var v=this.frameInfo(R),y=v.width*v.height,C=new Uint8Array(y);Pot(e,v.data_offset,C,y);var w=v.palette_offset,S=v.transparent_index;S===null&&(S=256);var M=v.width,U=r-M,N=M,T=4*(v.y*r+v.x),B=4*((v.y+v.height)*r+v.x),I=T,$=4*U;v.interlaced===!0&&($+=4*r*7);for(var A=8,k=0,Y=C.length;k<Y;++k){var Z=C[k];if(N===0&&(N=M,(I+=$)>=B&&($=4*U+4*r*(A-1),I=T+(M+U)*(A<<1),A>>=1)),Z===S)I+=4;else{var ct=e[w+3*Z],tt=e[w+3*Z+1],nt=e[w+3*Z+2];j[I++]=nt,j[I++]=tt,j[I++]=ct,j[I++]=255}--N}},this.decodeAndBlitFrameRGBA=function(R,j){var v=this.frameInfo(R),y=v.width*v.height,C=new Uint8Array(y);Pot(e,v.data_offset,C,y);var w=v.palette_offset,S=v.transparent_index;S===null&&(S=256);var M=v.width,U=r-M,N=M,T=4*(v.y*r+v.x),B=4*((v.y+v.height)*r+v.x),I=T,$=4*U;v.interlaced===!0&&($+=4*r*7);for(var A=8,k=0,Y=C.length;k<Y;++k){var Z=C[k];if(N===0&&(N=M,(I+=$)>=B&&($=4*U+4*r*(A-1),I=T+(M+U)*(A<<1),A>>=1)),Z===S)I+=4;else{var ct=e[w+3*Z],tt=e[w+3*Z+1],nt=e[w+3*Z+2];j[I++]=ct,j[I++]=tt,j[I++]=nt,j[I++]=255}--N}}}function Pot(e,t,r,i){for(var n=e[t++],o=1<<n,s=o+1,a=s+1,l=n+1,c=(1<<l)-1,d=0,h=0,u=0,f=e[t++],m=new Int32Array(4096),g=null;;){for(;d<16&&f!==0;)h|=e[t++]<<d,d+=8,f===1?f=e[t++]:--f;if(d<l)break;var p=h&c;if(h>>=l,d-=l,p!==o){if(p===s)break;for(var b=p<a?p:g,_=0,E=b;E>o;)E=m[E]>>8,++_;var O=E;if(u+_+(b!==p?1:0)>i)return void Qn.log("Warning, gif stream longer than expected.");r[u++]=O;var V=u+=_;for(b!==p&&(r[u++]=O),E=b;_--;)E=m[E],r[--V]=255&E,E>>=8;g!==null&&a<4096&&(m[a++]=g<<8|O,a>=c+1&&l<12&&(++l,c=c<<1|1)),g=p}else a=s+1,c=(1<<(l=n+1))-1,g=null}return u!==i&&Qn.log("Warning, gif stream shorter than expected."),r}function cH(e){var t,r,i,n,o,s=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),d=new Array(64),h=new Array(65535),u=new Array(65535),f=new Array(64),m=new Array(64),g=[],p=0,b=7,_=new Array(64),E=new Array(64),O=new Array(64),V=new Array(256),H=new Array(2048),F=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],L=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],q=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],x=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],R=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],j=[0,1,2,3,4,5,6,7,8,9,10,11],v=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],y=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function C(T,B){for(var I=0,$=0,A=new Array,k=1;k<=16;k++){for(var Y=1;Y<=T[k];Y++)A[B[$]]=[],A[B[$]][0]=I,A[B[$]][1]=k,$++,I++;I*=2}return A}function w(T){for(var B=T[0],I=T[1]-1;I>=0;)B&1<<I&&(p|=1<<b),I--,--b<0&&(p==255?(S(255),S(0)):S(p),b=7,p=0)}function S(T){g.push(T)}function M(T){S(T>>8&255),S(255&T)}function U(T,B,I,$,A){for(var k,Y=A[0],Z=A[240],ct=function(et,lt){var ut,mt,wt,vt,Rt,Mt,Et,kt,zt,Yt,Ut=0;for(zt=0;zt<8;++zt){ut=et[Ut],mt=et[Ut+1],wt=et[Ut+2],vt=et[Ut+3],Rt=et[Ut+4],Mt=et[Ut+5],Et=et[Ut+6];var ie=ut+(kt=et[Ut+7]),Zt=ut-kt,Fe=mt+Et,le=mt-Et,fe=wt+Mt,ki=wt-Mt,Ae=vt+Rt,ni=vt-Rt,Pi=ie+Ae,ti=ie-Ae,hi=Fe+fe,be=Fe-fe;et[Ut]=Pi+hi,et[Ut+4]=Pi-hi;var ye=.707106781*(be+ti);et[Ut+2]=ti+ye,et[Ut+6]=ti-ye;var xe=.382683433*((Pi=ni+ki)-(be=le+Zt)),Ur=.5411961*Pi+xe,We=1.306562965*be+xe,Te=.707106781*(hi=ki+le),Jn=Zt+Te,ue=Zt-Te;et[Ut+5]=ue+Ur,et[Ut+3]=ue-Ur,et[Ut+1]=Jn+We,et[Ut+7]=Jn-We,Ut+=8}for(Ut=0,zt=0;zt<8;++zt){ut=et[Ut],mt=et[Ut+8],wt=et[Ut+16],vt=et[Ut+24],Rt=et[Ut+32],Mt=et[Ut+40],Et=et[Ut+48];var Ot=ut+(kt=et[Ut+56]),Qt=ut-kt,ee=mt+Et,se=mt-Et,mi=wt+Mt,Ee=wt-Mt,De=vt+Rt,Ui=vt-Rt,Ye=Ot+De,Pe=Ot-De,ar=ee+mi,Wi=ee-mi;et[Ut]=Ye+ar,et[Ut+32]=Ye-ar;var Ti=.707106781*(Wi+Pe);et[Ut+16]=Pe+Ti,et[Ut+48]=Pe-Ti;var br=.382683433*((Ye=Ui+Ee)-(Wi=se+Qt)),rn=.5411961*Ye+br,nn=1.306562965*Wi+br,Wn=.707106781*(ar=Ee+se),Tn=Qt+Wn,po=Qt-Wn;et[Ut+40]=po+rn,et[Ut+24]=po-rn,et[Ut+8]=Tn+nn,et[Ut+56]=Tn-nn,Ut++}for(zt=0;zt<64;++zt)Yt=et[zt]*lt[zt],f[zt]=Yt>0?Yt+.5|0:Yt-.5|0;return f}(T,B),tt=0;tt<64;++tt)m[F[tt]]=ct[tt];var nt=m[0]-I;I=m[0],nt==0?w($[0]):(w($[u[k=32767+nt]]),w(h[k]));for(var Ct=63;Ct>0&&m[Ct]==0;)Ct--;if(Ct==0)return w(Y),I;for(var xt,rt=1;rt<=Ct;){for(var at=rt;m[rt]==0&&rt<=Ct;)++rt;var _t=rt-at;if(_t>=16){xt=_t>>4;for(var J=1;J<=xt;++J)w(Z);_t&=15}k=32767+m[rt],w(A[(_t<<4)+u[k]]),w(h[k]),rt++}return Ct!=63&&w(Y),I}function N(T){T=Math.min(Math.max(T,1),100),o!=T&&(function(B){for(var I=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],$=0;$<64;$++){var A=s((I[$]*B+50)/100);A=Math.min(Math.max(A,1),255),a[F[$]]=A}for(var k=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Y=0;Y<64;Y++){var Z=s((k[Y]*B+50)/100);Z=Math.min(Math.max(Z,1),255),l[F[Y]]=Z}for(var ct=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],tt=0,nt=0;nt<8;nt++)for(var Ct=0;Ct<8;Ct++)c[tt]=1/(a[F[tt]]*ct[nt]*ct[Ct]*8),d[tt]=1/(l[F[tt]]*ct[nt]*ct[Ct]*8),tt++}(T<50?Math.floor(5e3/T):Math.floor(200-2*T)),o=T)}this.encode=function(T,B){B&&N(B),g=new Array,p=0,b=7,M(65496),M(65504),M(16),S(74),S(70),S(73),S(70),S(0),S(1),S(1),S(0),M(1),M(1),S(0),S(0),function(){M(65499),M(132),S(0);for(var mt=0;mt<64;mt++)S(a[mt]);S(1);for(var wt=0;wt<64;wt++)S(l[wt])}(),function(mt,wt){M(65472),M(17),S(8),M(wt),M(mt),S(3),S(1),S(17),S(0),S(2),S(17),S(1),S(3),S(17),S(1)}(T.width,T.height),function(){M(65476),M(418),S(0);for(var mt=0;mt<16;mt++)S(L[mt+1]);for(var wt=0;wt<=11;wt++)S(q[wt]);S(16);for(var vt=0;vt<16;vt++)S(W[vt+1]);for(var Rt=0;Rt<=161;Rt++)S(x[Rt]);S(1);for(var Mt=0;Mt<16;Mt++)S(R[Mt+1]);for(var Et=0;Et<=11;Et++)S(j[Et]);S(17);for(var kt=0;kt<16;kt++)S(v[kt+1]);for(var zt=0;zt<=161;zt++)S(y[zt])}(),M(65498),M(12),S(3),S(1),S(0),S(2),S(17),S(3),S(17),S(0),S(63),S(0);var I=0,$=0,A=0;p=0,b=7,this.encode.displayName="_encode_";for(var k,Y,Z,ct,tt,nt,Ct,xt,rt,at=T.data,_t=T.width,J=T.height,et=4*_t,lt=0;lt<J;){for(k=0;k<et;){for(tt=et*lt+k,Ct=-1,xt=0,rt=0;rt<64;rt++)nt=tt+(xt=rt>>3)*et+(Ct=4*(7&rt)),lt+xt>=J&&(nt-=et*(lt+1+xt-J)),k+Ct>=et&&(nt-=k+Ct-et+4),Y=at[nt++],Z=at[nt++],ct=at[nt++],_[rt]=(H[Y]+H[Z+256>>0]+H[ct+512>>0]>>16)-128,E[rt]=(H[Y+768>>0]+H[Z+1024>>0]+H[ct+1280>>0]>>16)-128,O[rt]=(H[Y+1280>>0]+H[Z+1536>>0]+H[ct+1792>>0]>>16)-128;I=U(_,c,I,t,i),$=U(E,d,$,r,n),A=U(O,d,A,r,n),k+=32}lt+=8}if(b>=0){var ut=[];ut[1]=b+1,ut[0]=(1<<b+1)-1,w(ut)}return M(65497),new Uint8Array(g)},e=e||50,function(){for(var T=String.fromCharCode,B=0;B<256;B++)V[B]=T(B)}(),t=C(L,q),r=C(R,j),i=C(W,x),n=C(v,y),function(){for(var T=1,B=2,I=1;I<=15;I++){for(var $=T;$<B;$++)u[32767+$]=I,h[32767+$]=[],h[32767+$][1]=I,h[32767+$][0]=$;for(var A=-(B-1);A<=-T;A++)u[32767+A]=I,h[32767+A]=[],h[32767+A][1]=I,h[32767+A][0]=B-1+A;T<<=1,B<<=1}}(),function(){for(var T=0;T<256;T++)H[T]=19595*T,H[T+256>>0]=38470*T,H[T+512>>0]=7471*T+32768,H[T+768>>0]=-11059*T,H[T+1024>>0]=-21709*T,H[T+1280>>0]=32768*T+8421375,H[T+1536>>0]=-27439*T,H[T+1792>>0]=-5329*T}(),N(e)}function Qd(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Not(e){function t(L){if(!L)throw Error("assert :P")}function r(L,q,W){for(var x=0;4>x;x++)if(L[q+x]!=W.charCodeAt(x))return!0;return!1}function i(L,q,W,x,R){for(var j=0;j<R;j++)L[q+j]=W[x+j]}function n(L,q,W,x){for(var R=0;R<x;R++)L[q+R]=W}function o(L){return new Int32Array(L)}function s(L,q){for(var W=[],x=0;x<L;x++)W.push(new q);return W}function a(L,q){var W=[];return function x(R,j,v){for(var y=v[j],C=0;C<y&&(R.push(v.length>j+1?[]:new q),!(v.length<j+1));C++)x(R[C],j+1,v)}(W,0,L),W}var l=function(){var L=this;function q(D,z){for(var X=1<<z-1>>>0;D&X;)X>>>=1;return X?(D&X-1)+X:D}function W(D,z,X,it,dt){t(!(it%X));do D[z+(it-=X)]=dt;while(0<it)}function x(D,z,X,it,dt){if(t(2328>=dt),512>=dt)var ft=o(512);else if((ft=o(dt))==null)return 0;return function(pt,bt,yt,Tt,Ht,Kt){var Xt,Wt,me=bt,ce=1<<yt,Bt=o(16),Vt=o(16);for(t(Ht!=0),t(Tt!=null),t(pt!=null),t(0<yt),Wt=0;Wt<Ht;++Wt){if(15<Tt[Wt])return 0;++Bt[Tt[Wt]]}if(Bt[0]==Ht)return 0;for(Vt[1]=0,Xt=1;15>Xt;++Xt){if(Bt[Xt]>1<<Xt)return 0;Vt[Xt+1]=Vt[Xt]+Bt[Xt]}for(Wt=0;Wt<Ht;++Wt)Xt=Tt[Wt],0<Tt[Wt]&&(Kt[Vt[Xt]++]=Wt);if(Vt[15]==1)return(Tt=new R).g=0,Tt.value=Kt[0],W(pt,me,1,ce,Tt),ce;var ge,Ce=-1,ve=ce-1,ei=0,je=1,Li=1,He=1<<yt;for(Wt=0,Xt=1,Ht=2;Xt<=yt;++Xt,Ht<<=1){if(je+=Li<<=1,0>(Li-=Bt[Xt]))return 0;for(;0<Bt[Xt];--Bt[Xt])(Tt=new R).g=Xt,Tt.value=Kt[Wt++],W(pt,me+ei,Ht,He,Tt),ei=q(ei,Xt)}for(Xt=yt+1,Ht=2;15>=Xt;++Xt,Ht<<=1){if(je+=Li<<=1,0>(Li-=Bt[Xt]))return 0;for(;0<Bt[Xt];--Bt[Xt]){if(Tt=new R,(ei&ve)!=Ce){for(me+=He,ge=1<<(Ce=Xt)-yt;15>Ce&&!(0>=(ge-=Bt[Ce]));)++Ce,ge<<=1;ce+=He=1<<(ge=Ce-yt),pt[bt+(Ce=ei&ve)].g=ge+yt,pt[bt+Ce].value=me-bt-Ce}Tt.g=Xt-yt,Tt.value=Kt[Wt++],W(pt,me+(ei>>yt),Ht,He,Tt),ei=q(ei,Xt)}}return je!=2*Vt[15]-1?0:ce}(D,z,X,it,dt,ft)}function R(){this.value=this.g=0}function j(){this.value=this.g=0}function v(){this.G=s(5,R),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(ms,j)}function y(D,z,X,it){t(D!=null),t(z!=null),t(2147483648>it),D.Ca=254,D.I=0,D.b=-8,D.Ka=0,D.oa=z,D.pa=X,D.Jd=z,D.Yc=X+it,D.Zc=4<=it?X+it-4+1:X,k(D)}function C(D,z){for(var X=0;0<z--;)X|=Z(D,128)<<z;return X}function w(D,z){var X=C(D,z);return Y(D)?-X:X}function S(D,z,X,it){var dt,ft=0;for(t(D!=null),t(z!=null),t(4294967288>it),D.Sb=it,D.Ra=0,D.u=0,D.h=0,4<it&&(it=4),dt=0;dt<it;++dt)ft+=z[X+dt]<<8*dt;D.Ra=ft,D.bb=it,D.oa=z,D.pa=X}function M(D){for(;8<=D.u&&D.bb<D.Sb;)D.Ra>>>=8,D.Ra+=D.oa[D.pa+D.bb]<<ld-8>>>0,++D.bb,D.u-=8;I(D)&&(D.h=1,D.u=0)}function U(D,z){if(t(0<=z),!D.h&&z<=Zf){var X=B(D)&Xf[z];return D.u+=z,M(D),X}return D.h=1,D.u=0}function N(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function T(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function B(D){return D.Ra>>>(D.u&ld-1)>>>0}function I(D){return t(D.bb<=D.Sb),D.h||D.bb==D.Sb&&D.u>ld}function $(D,z){D.u=z,D.h=I(D)}function A(D){D.u>=dh&&(t(D.u>=dh),M(D))}function k(D){t(D!=null&&D.oa!=null),D.pa<D.Zc?(D.I=(D.oa[D.pa++]|D.I<<8)>>>0,D.b+=8):(t(D!=null&&D.oa!=null),D.pa<D.Yc?(D.b+=8,D.I=D.oa[D.pa++]|D.I<<8):D.Ka?D.b=0:(D.I<<=8,D.b+=8,D.Ka=1))}function Y(D){return C(D,1)}function Z(D,z){var X=D.Ca;0>D.b&&k(D);var it=D.b,dt=X*z>>>8,ft=(D.I>>>it>dt)+0;for(ft?(X-=dt,D.I-=dt+1<<it>>>0):X=dt+1,it=X,dt=0;256<=it;)dt+=8,it>>=8;return it=7^dt+Ts[it],D.b-=it,D.Ca=(X<<it)-1,ft}function ct(D,z,X){D[z+0]=X>>24&255,D[z+1]=X>>16&255,D[z+2]=X>>8&255,D[z+3]=X>>0&255}function tt(D,z){return D[z+0]<<0|D[z+1]<<8}function nt(D,z){return tt(D,z)|D[z+2]<<16}function Ct(D,z){return tt(D,z)|tt(D,z+2)<<16}function xt(D,z){var X=1<<z;return t(D!=null),t(0<z),D.X=o(X),D.X==null?0:(D.Mb=32-z,D.Xa=z,1)}function rt(D,z){t(D!=null),t(z!=null),t(D.Xa==z.Xa),i(z.X,0,D.X,0,1<<z.Xa)}function at(){this.X=[],this.Xa=this.Mb=0}function _t(D,z,X,it){t(X!=null),t(it!=null);var dt=X[0],ft=it[0];return dt==0&&(dt=(D*ft+z/2)/z),ft==0&&(ft=(z*dt+D/2)/D),0>=dt||0>=ft?0:(X[0]=dt,it[0]=ft,1)}function J(D,z){return D+(1<<z)-1>>>z}function et(D,z){return((4278255360&D)+(4278255360&z)>>>0&4278255360)+((16711935&D)+(16711935&z)>>>0&16711935)>>>0}function lt(D,z){L[z]=function(X,it,dt,ft,pt,bt,yt){var Tt;for(Tt=0;Tt<pt;++Tt){var Ht=L[D](bt[yt+Tt-1],dt,ft+Tt);bt[yt+Tt]=et(X[it+Tt],Ht)}}}function ut(){this.ud=this.hd=this.jd=0}function mt(D,z){return((4278124286&(D^z))>>>1)+(D&z)>>>0}function wt(D){return 0<=D&&256>D?D:0>D?0:255<D?255:void 0}function vt(D,z){return wt(D+(D-z+.5>>1))}function Rt(D,z,X){return Math.abs(z-X)-Math.abs(D-X)}function Mt(D,z,X,it,dt,ft,pt){for(it=ft[pt-1],X=0;X<dt;++X)ft[pt+X]=it=et(D[z+X],it)}function Et(D,z,X,it,dt){var ft;for(ft=0;ft<X;++ft){var pt=D[z+ft],bt=pt>>8&255,yt=16711935&(yt=(yt=16711935&pt)+((bt<<16)+bt));it[dt+ft]=(4278255360&pt)+yt>>>0}}function kt(D,z){z.jd=D>>0&255,z.hd=D>>8&255,z.ud=D>>16&255}function zt(D,z,X,it,dt,ft){var pt;for(pt=0;pt<it;++pt){var bt=z[X+pt],yt=bt>>>8,Tt=bt,Ht=255&(Ht=(Ht=bt>>>16)+((D.jd<<24>>24)*(yt<<24>>24)>>>5));Tt=255&(Tt=(Tt=Tt+((D.hd<<24>>24)*(yt<<24>>24)>>>5))+((D.ud<<24>>24)*(Ht<<24>>24)>>>5)),dt[ft+pt]=(4278255360&bt)+(Ht<<16)+Tt}}function Yt(D,z,X,it,dt){L[z]=function(ft,pt,bt,yt,Tt,Ht,Kt,Xt,Wt){for(yt=Kt;yt<Xt;++yt)for(Kt=0;Kt<Wt;++Kt)Tt[Ht++]=dt(bt[it(ft[pt++])])},L[D]=function(ft,pt,bt,yt,Tt,Ht,Kt){var Xt=8>>ft.b,Wt=ft.Ea,me=ft.K[0],ce=ft.w;if(8>Xt)for(ft=(1<<ft.b)-1,ce=(1<<Xt)-1;pt<bt;++pt){var Bt,Vt=0;for(Bt=0;Bt<Wt;++Bt)Bt&ft||(Vt=it(yt[Tt++])),Ht[Kt++]=dt(me[Vt&ce]),Vt>>=Xt}else L["VP8LMapColor"+X](yt,Tt,me,ce,Ht,Kt,pt,bt,Wt)}}function Ut(D,z,X,it,dt){for(X=z+X;z<X;){var ft=D[z++];it[dt++]=ft>>16&255,it[dt++]=ft>>8&255,it[dt++]=ft>>0&255}}function ie(D,z,X,it,dt){for(X=z+X;z<X;){var ft=D[z++];it[dt++]=ft>>16&255,it[dt++]=ft>>8&255,it[dt++]=ft>>0&255,it[dt++]=ft>>24&255}}function Zt(D,z,X,it,dt){for(X=z+X;z<X;){var ft=(pt=D[z++])>>16&240|pt>>12&15,pt=pt>>0&240|pt>>28&15;it[dt++]=ft,it[dt++]=pt}}function Fe(D,z,X,it,dt){for(X=z+X;z<X;){var ft=(pt=D[z++])>>16&248|pt>>13&7,pt=pt>>5&224|pt>>3&31;it[dt++]=ft,it[dt++]=pt}}function le(D,z,X,it,dt){for(X=z+X;z<X;){var ft=D[z++];it[dt++]=ft>>0&255,it[dt++]=ft>>8&255,it[dt++]=ft>>16&255}}function fe(D,z,X,it,dt,ft){if(ft==0)for(X=z+X;z<X;)ct(it,((ft=D[z++])[0]>>24|ft[1]>>8&65280|ft[2]<<8&16711680|ft[3]<<24)>>>0),dt+=32;else i(it,dt,D,z,X)}function ki(D,z){L[z][0]=L[D+"0"],L[z][1]=L[D+"1"],L[z][2]=L[D+"2"],L[z][3]=L[D+"3"],L[z][4]=L[D+"4"],L[z][5]=L[D+"5"],L[z][6]=L[D+"6"],L[z][7]=L[D+"7"],L[z][8]=L[D+"8"],L[z][9]=L[D+"9"],L[z][10]=L[D+"10"],L[z][11]=L[D+"11"],L[z][12]=L[D+"12"],L[z][13]=L[D+"13"],L[z][14]=L[D+"0"],L[z][15]=L[D+"0"]}function Ae(D){return D==Ab||D==Ib||D==ku||D==vh}function ni(){this.eb=[],this.size=this.A=this.fb=0}function Pi(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ti(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ni,this.f.kb=new Pi,this.sd=null}function hi(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function be(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ye(D){return alert("todo:WebPSamplerProcessPlane"),D.T}function xe(D,z){var X=D.T,it=z.ba.f.RGBA,dt=it.eb,ft=it.fb+D.ka*it.A,pt=sl[z.ba.S],bt=D.y,yt=D.O,Tt=D.f,Ht=D.N,Kt=D.ea,Xt=D.W,Wt=z.cc,me=z.dc,ce=z.Mc,Bt=z.Nc,Vt=D.ka,ge=D.ka+D.T,Ce=D.U,ve=Ce+1>>1;for(Vt==0?pt(bt,yt,null,null,Tt,Ht,Kt,Xt,Tt,Ht,Kt,Xt,dt,ft,null,null,Ce):(pt(z.ec,z.fc,bt,yt,Wt,me,ce,Bt,Tt,Ht,Kt,Xt,dt,ft-it.A,dt,ft,Ce),++X);Vt+2<ge;Vt+=2)Wt=Tt,me=Ht,ce=Kt,Bt=Xt,Ht+=D.Rc,Xt+=D.Rc,ft+=2*it.A,pt(bt,(yt+=2*D.fa)-D.fa,bt,yt,Wt,me,ce,Bt,Tt,Ht,Kt,Xt,dt,ft-it.A,dt,ft,Ce);return yt+=D.fa,D.j+ge<D.o?(i(z.ec,z.fc,bt,yt,Ce),i(z.cc,z.dc,Tt,Ht,ve),i(z.Mc,z.Nc,Kt,Xt,ve),X--):1&ge||pt(bt,yt,null,null,Tt,Ht,Kt,Xt,Tt,Ht,Kt,Xt,dt,ft+it.A,null,null,Ce),X}function Ur(D,z,X){var it=D.F,dt=[D.J];if(it!=null){var ft=D.U,pt=z.ba.S,bt=pt==Mb||pt==ku;z=z.ba.f.RGBA;var yt=[0],Tt=D.ka;yt[0]=D.T,D.Kb&&(Tt==0?--yt[0]:(--Tt,dt[0]-=D.width),D.j+D.ka+D.T==D.o&&(yt[0]=D.o-D.j-Tt));var Ht=z.eb;Tt=z.fb+Tt*z.A,D=Ln(it,dt[0],D.width,ft,yt,Ht,Tt+(bt?0:3),z.A),t(X==yt),D&&Ae(pt)&&nl(Ht,Tt,bt,ft,yt,z.A)}return 0}function We(D){var z=D.ma,X=z.ba.S,it=11>X,dt=X==Rb||X==Tb||X==Mb||X==xw||X==12||Ae(X);if(z.memory=null,z.Ib=null,z.Jb=null,z.Nd=null,!ug(z.Oa,D,dt?11:12))return 0;if(dt&&Ae(X)&&Re(),D.da)alert("todo:use_scaling");else{if(it){if(z.Ib=ye,D.Kb){if(X=D.U+1>>1,z.memory=o(D.U+2*X),z.memory==null)return 0;z.ec=z.memory,z.fc=0,z.cc=z.ec,z.dc=z.fc+D.U,z.Mc=z.cc,z.Nc=z.dc+X,z.Ib=xe,Re()}}else alert("todo:EmitYUV");dt&&(z.Jb=Ur,it&&$t())}if(it&&!xR){for(D=0;256>D;++D)SR[D]=89858*(D-128)+Ob>>Ou,ER[D]=-22014*(D-128)+Ob,nO[D]=-45773*(D-128),rO[D]=113618*(D-128)+Ob>>Ou;for(D=_g;D<Mw;++D)z=76283*(D-16)+Ob>>Ou,oO[D-_g]=ca(z,255),sO[D-_g]=ca(z+8>>4,15);xR=1}return 1}function Te(D){var z=D.ma,X=D.U,it=D.T;return t(!(1&D.ka)),0>=X||0>=it?0:(X=z.Ib(D,z),z.Jb!=null&&z.Jb(D,z,X),z.Dc+=X,1)}function Jn(D){D.ma.memory=null}function ue(D,z,X,it){return U(D,8)!=47?0:(z[0]=U(D,14)+1,X[0]=U(D,14)+1,it[0]=U(D,1),U(D,3)!=0?0:!D.h)}function Ot(D,z){if(4>D)return D+1;var X=D-2>>1;return(2+(1&D)<<X)+U(z,X)+1}function Qt(D,z){return 120<z?z-120:1<=(X=((X=WD[z-1])>>4)*D+(8-(15&X)))?X:1;var X}function ee(D,z,X){var it=B(X),dt=D[z+=255&it].g-8;return 0<dt&&($(X,X.u+8),it=B(X),z+=D[z].value,z+=it&(1<<dt)-1),$(X,X.u+D[z].g),D[z].value}function se(D,z,X){return X.g+=D.g,X.value+=D.value<<z>>>0,t(8>=X.g),D.g}function mi(D,z,X){var it=D.xc;return t((z=it==0?0:D.vc[D.md*(X>>it)+(z>>it)])<D.Wb),D.Ya[z]}function Ee(D,z,X,it){var dt=D.ab,ft=D.c*z,pt=D.C;z=pt+z;var bt=X,yt=it;for(it=D.Ta,X=D.Ua;0<dt--;){var Tt=D.gc[dt],Ht=pt,Kt=z,Xt=bt,Wt=yt,me=(yt=it,bt=X,Tt.Ea);switch(t(Ht<Kt),t(Kt<=Tt.nc),Tt.hc){case 2:Cb(Xt,Wt,(Kt-Ht)*me,yt,bt);break;case 0:var ce=Ht,Bt=Kt,Vt=yt,ge=bt,Ce=(He=Tt).Ea;ce==0&&(ww(Xt,Wt,null,null,1,Vt,ge),Mt(Xt,Wt+1,0,0,Ce-1,Vt,ge+1),Wt+=Ce,ge+=Ce,++ce);for(var ve=1<<He.b,ei=ve-1,je=J(Ce,He.b),Li=He.K,He=He.w+(ce>>He.b)*je;ce<Bt;){var Kr=Li,an=He,Yr=1;for(Qf(Xt,Wt,Vt,ge-Ce,1,Vt,ge);Yr<Ce;){var Pr=(Yr&~ei)+ve;Pr>Ce&&(Pr=Ce),(0,uh[Kr[an++]>>8&15])(Xt,Wt+ +Yr,Vt,ge+Yr-Ce,Pr-Yr,Vt,ge+Yr),Yr=Pr}Wt+=Ce,ge+=Ce,++ce&ei||(He+=je)}Kt!=Tt.nc&&i(yt,bt-me,yt,bt+(Kt-Ht-1)*me,me);break;case 1:for(me=Xt,Bt=Wt,Ce=(Xt=Tt.Ea)-(ge=Xt&~(Vt=(Wt=1<<Tt.b)-1)),ce=J(Xt,Tt.b),ve=Tt.K,Tt=Tt.w+(Ht>>Tt.b)*ce;Ht<Kt;){for(ei=ve,je=Tt,Li=new ut,He=Bt+ge,Kr=Bt+Xt;Bt<He;)kt(ei[je++],Li),Ru(Li,me,Bt,Wt,yt,bt),Bt+=Wt,bt+=Wt;Bt<Kr&&(kt(ei[je++],Li),Ru(Li,me,Bt,Ce,yt,bt),Bt+=Ce,bt+=Ce),++Ht&Vt||(Tt+=ce)}break;case 3:if(Xt==yt&&Wt==bt&&0<Tt.b){for(Bt=yt,Xt=me=bt+(Kt-Ht)*me-(ge=(Kt-Ht)*J(Tt.Ea,Tt.b)),Wt=yt,Vt=bt,ce=[],ge=(Ce=ge)-1;0<=ge;--ge)ce[ge]=Wt[Vt+ge];for(ge=Ce-1;0<=ge;--ge)Bt[Xt+ge]=ce[ge];da(Tt,Ht,Kt,yt,me,yt,bt)}else da(Tt,Ht,Kt,Xt,Wt,yt,bt)}bt=it,yt=X}yt!=X&&i(it,X,bt,yt,ft)}function De(D,z){var X=D.V,it=D.Ba+D.c*D.C,dt=z-D.C;if(t(z<=D.l.o),t(16>=dt),0<dt){var ft=D.l,pt=D.Ta,bt=D.Ua,yt=ft.width;if(Ee(D,dt,X,it),dt=bt=[bt],t((X=D.C)<(it=z)),t(ft.v<ft.va),it>ft.o&&(it=ft.o),X<ft.j){var Tt=ft.j-X;X=ft.j,dt[0]+=Tt*yt}if(X>=it?X=0:(dt[0]+=4*ft.v,ft.ka=X-ft.j,ft.U=ft.va-ft.v,ft.T=it-X,X=1),X){if(bt=bt[0],11>(X=D.ca).S){var Ht=X.f.RGBA,Kt=(it=X.S,dt=ft.U,ft=ft.T,Tt=Ht.eb,Ht.A),Xt=ft;for(Ht=Ht.fb+D.Ma*Ht.A;0<Xt--;){var Wt=pt,me=bt,ce=dt,Bt=Tt,Vt=Ht;switch(it){case Eb:ha(Wt,me,ce,Bt,Vt);break;case Rb:Gs(Wt,me,ce,Bt,Vt);break;case Ab:Gs(Wt,me,ce,Bt,Vt),nl(Bt,Vt,0,ce,1,0);break;case fR:dd(Wt,me,ce,Bt,Vt);break;case Tb:fe(Wt,me,ce,Bt,Vt,1);break;case Ib:fe(Wt,me,ce,Bt,Vt,1),nl(Bt,Vt,0,ce,1,0);break;case Mb:fe(Wt,me,ce,Bt,Vt,0);break;case ku:fe(Wt,me,ce,Bt,Vt,0),nl(Bt,Vt,1,ce,1,0);break;case xw:fh(Wt,me,ce,Bt,Vt);break;case vh:fh(Wt,me,ce,Bt,Vt),Nn(Bt,Vt,ce,1,0);break;case Sw:cd(Wt,me,ce,Bt,Vt);break;default:t(0)}bt+=yt,Ht+=Kt}D.Ma+=ft}else alert("todo:EmitRescaledRowsYUVA");t(D.Ma<=X.height)}}D.C=z,t(D.C<=D.i)}function Ui(D){var z;if(0<D.ua)return 0;for(z=0;z<D.Wb;++z){var X=D.Ya[z].G,it=D.Ya[z].H;if(0<X[1][it[1]+0].g||0<X[2][it[2]+0].g||0<X[3][it[3]+0].g)return 0}return 1}function Ye(D,z,X,it,dt,ft){if(D.Z!=0){var pt=D.qd,bt=D.rd;for(t(_h[D.Z]!=null);z<X;++z)_h[D.Z](pt,bt,it,dt,it,dt,ft),pt=it,bt=dt,dt+=ft;D.qd=pt,D.rd=bt}}function Pe(D,z){var X=D.l.ma,it=X.Z==0||X.Z==1?D.l.j:D.C;if(it=D.C<it?it:D.C,t(z<=D.l.o),z>it){var dt=D.l.width,ft=X.ca,pt=X.tb+dt*it,bt=D.V,yt=D.Ba+D.c*it,Tt=D.gc;t(D.ab==1),t(Tt[0].hc==3),Jf(Tt[0],it,z,bt,yt,ft,pt),Ye(X,it,z,ft,pt,dt)}D.C=D.Ma=z}function ar(D,z,X,it,dt,ft,pt){var bt=D.$/it,yt=D.$%it,Tt=D.m,Ht=D.s,Kt=X+D.$,Xt=Kt;dt=X+it*dt;var Wt=X+it*ft,me=280+Ht.ua,ce=D.Pb?bt:16777216,Bt=0<Ht.ua?Ht.Wa:null,Vt=Ht.wc,ge=Kt<Wt?mi(Ht,yt,bt):null;t(D.C<ft),t(Wt<=dt);var Ce=!1;t:for(;;){for(;Ce||Kt<Wt;){var ve=0;if(bt>=ce){var ei=Kt-X;t((ce=D).Pb),ce.wd=ce.m,ce.xd=ei,0<ce.s.ua&&rt(ce.s.Wa,ce.s.vb),ce=bt+$D}if(yt&Vt||(ge=mi(Ht,yt,bt)),t(ge!=null),ge.Qb&&(z[Kt]=ge.qb,Ce=!0),!Ce)if(A(Tt),ge.jc){ve=Tt,ei=z;var je=Kt,Li=ge.pd[B(ve)&ms-1];t(ge.jc),256>Li.g?($(ve,ve.u+Li.g),ei[je]=Li.value,ve=0):($(ve,ve.u+Li.g-256),t(256<=Li.value),ve=Li.value),ve==0&&(Ce=!0)}else ve=ee(ge.G[0],ge.H[0],Tt);if(Tt.h)break;if(Ce||256>ve){if(!Ce)if(ge.nd)z[Kt]=(ge.qb|ve<<8)>>>0;else{if(A(Tt),Ce=ee(ge.G[1],ge.H[1],Tt),A(Tt),ei=ee(ge.G[2],ge.H[2],Tt),je=ee(ge.G[3],ge.H[3],Tt),Tt.h)break;z[Kt]=(je<<24|Ce<<16|ve<<8|ei)>>>0}if(Ce=!1,++Kt,++yt>=it&&(yt=0,++bt,pt!=null&&bt<=ft&&!(bt%16)&&pt(D,bt),Bt!=null))for(;Xt<Kt;)ve=z[Xt++],Bt.X[(506832829*ve&4294967295)>>>Bt.Mb]=ve}else if(280>ve){if(ve=Ot(ve-256,Tt),ei=ee(ge.G[4],ge.H[4],Tt),A(Tt),ei=Qt(it,ei=Ot(ei,Tt)),Tt.h)break;if(Kt-X<ei||dt-Kt<ve)break t;for(je=0;je<ve;++je)z[Kt+je]=z[Kt+je-ei];for(Kt+=ve,yt+=ve;yt>=it;)yt-=it,++bt,pt!=null&&bt<=ft&&!(bt%16)&&pt(D,bt);if(t(Kt<=dt),yt&Vt&&(ge=mi(Ht,yt,bt)),Bt!=null)for(;Xt<Kt;)ve=z[Xt++],Bt.X[(506832829*ve&4294967295)>>>Bt.Mb]=ve}else{if(!(ve<me))break t;for(Ce=ve-280,t(Bt!=null);Xt<Kt;)ve=z[Xt++],Bt.X[(506832829*ve&4294967295)>>>Bt.Mb]=ve;ve=Kt,t(!(Ce>>>(ei=Bt).Xa)),z[ve]=ei.X[Ce],Ce=!0}Ce||t(Tt.h==I(Tt))}if(D.Pb&&Tt.h&&Kt<dt)t(D.m.h),D.a=5,D.m=D.wd,D.$=D.xd,0<D.s.ua&&rt(D.s.vb,D.s.Wa);else{if(Tt.h)break t;pt?.(D,bt>ft?ft:bt),D.a=0,D.$=Kt-X}return 1}return D.a=3,0}function Wi(D){t(D!=null),D.vc=null,D.yc=null,D.Ya=null;var z=D.Wa;z!=null&&(z.X=null),D.vb=null,t(D!=null)}function Ti(){var D=new $f;return D==null?null:(D.a=0,D.xb=vR,ki("Predictor","VP8LPredictors"),ki("Predictor","VP8LPredictors_C"),ki("PredictorAdd","VP8LPredictorsAdd"),ki("PredictorAdd","VP8LPredictorsAdd_C"),Cb=Et,Ru=zt,ha=Ut,Gs=ie,fh=Zt,cd=Fe,dd=le,L.VP8LMapColor32b=hh,L.VP8LMapColor8b=xb,D)}function br(D,z,X,it,dt){var ft=1,pt=[D],bt=[z],yt=it.m,Tt=it.s,Ht=null,Kt=0;t:for(;;){if(X)for(;ft&&U(yt,1);){var Xt=pt,Wt=bt,me=it,ce=1,Bt=me.m,Vt=me.gc[me.ab],ge=U(Bt,2);if(me.Oc&1<<ge)ft=0;else{switch(me.Oc|=1<<ge,Vt.hc=ge,Vt.Ea=Xt[0],Vt.nc=Wt[0],Vt.K=[null],++me.ab,t(4>=me.ab),ge){case 0:case 1:Vt.b=U(Bt,3)+2,ce=br(J(Vt.Ea,Vt.b),J(Vt.nc,Vt.b),0,me,Vt.K),Vt.K=Vt.K[0];break;case 3:var Ce,ve=U(Bt,8)+1,ei=16<ve?0:4<ve?1:2<ve?2:3;if(Xt[0]=J(Vt.Ea,ei),Vt.b=ei,Ce=ce=br(ve,1,0,me,Vt.K)){var je,Li=ve,He=Vt,Kr=1<<(8>>He.b),an=o(Kr);if(an==null)Ce=0;else{var Yr=He.K[0],Pr=He.w;for(an[0]=He.K[0][0],je=1;je<1*Li;++je)an[je]=et(Yr[Pr+je],an[je-1]);for(;je<4*Kr;++je)an[je]=0;He.K[0]=null,He.K[0]=an,Ce=1}}ce=Ce;break;case 2:break;default:t(0)}ft=ce}}if(pt=pt[0],bt=bt[0],ft&&U(yt,1)&&!(ft=1<=(Kt=U(yt,4))&&11>=Kt)){it.a=3;break t}var Mn;if(Mn=ft)e:{var un,lr,No,ua=it,Lo=pt,fa=bt,ln=Kt,Go=X,Ba=ua.m,os=ua.s,ps=[null],Xs=1,al=0,pc=YD[ln];i:for(;;){if(Go&&U(Ba,1)){var ss=U(Ba,3)+2,md=J(Lo,ss),Zs=J(fa,ss),Ll=md*Zs;if(!br(md,Zs,0,ua,ps))break i;for(ps=ps[0],os.xc=ss,un=0;un<Ll;++un){var wh=ps[un]>>8&65535;ps[un]=wh,wh>=Xs&&(Xs=wh+1)}}if(Ba.h)break i;for(lr=0;5>lr;++lr){var yo=Du[lr];!lr&&0<ln&&(yo+=1<<ln),al<yo&&(al=yo)}var Aw=s(Xs*pc,R),AR=Xs,IR=s(AR,v);if(IR==null)var im=null;else t(65536>=AR),im=IR;var gc=o(al);if(im==null||gc==null||Aw==null){ua.a=1;break i}var Pu=Aw;for(un=No=0;un<Xs;++un){var tr=im[un],P=tr.G,G=tr.H,Q=0,st=1,gt=0;for(lr=0;5>lr;++lr){yo=Du[lr],P[lr]=Pu,G[lr]=No,!lr&&0<ln&&(yo+=1<<ln);n:{var Nt,de=yo,ii=ua,zi=gc,Lr=Pu,Qs=No,Fl=0,Js=ii.m,wst=U(Js,1);if(n(zi,0,0,de),wst){var Cst=U(Js,1)+1,xst=U(Js,1),xH=U(Js,xst==0?1:8);zi[xH]=1,Cst==2&&(zi[xH=U(Js,8)]=1);var kR=1}else{var SH=o(19),EH=U(Js,4)+4;if(19<EH){ii.a=3;var DR=0;break n}for(Nt=0;Nt<EH;++Nt)SH[gR[Nt]]=U(Js,3);var lO=void 0,Iw=void 0,RH=ii,Sst=SH,OR=de,TH=zi,cO=0,rm=RH.m,MH=8,AH=s(128,R);r:for(;x(AH,0,7,Sst,19);){if(U(rm,1)){var Est=2+2*U(rm,3);if((lO=2+U(rm,Est))>OR)break r}else lO=OR;for(Iw=0;Iw<OR&&lO--;){A(rm);var IH=AH[0+(127&B(rm))];$(rm,rm.u+IH.g);var Pb=IH.value;if(16>Pb)TH[Iw++]=Pb,Pb!=0&&(MH=Pb);else{var Rst=Pb==16,kH=Pb-16,Tst=mR[kH],DH=U(rm,kb[kH])+Tst;if(Iw+DH>OR)break r;for(var Mst=Rst?MH:0;0<DH--;)TH[Iw++]=Mst}}cO=1;break r}cO||(RH.a=3),kR=cO}(kR=kR&&!Js.h)&&(Fl=x(Lr,Qs,8,zi,de)),kR&&Fl!=0?DR=Fl:(ii.a=3,DR=0)}if(DR==0)break i;if(st&&pR[lr]==1&&(st=Pu[No].g==0),Q+=Pu[No].g,No+=DR,3>=lr){var kw,dO=gc[0];for(kw=1;kw<yo;++kw)gc[kw]>dO&&(dO=gc[kw]);gt+=dO}}if(tr.nd=st,tr.Qb=0,st&&(tr.qb=(P[3][G[3]+0].value<<24|P[1][G[1]+0].value<<16|P[2][G[2]+0].value)>>>0,Q==0&&256>P[0][G[0]+0].value&&(tr.Qb=1,tr.qb+=P[0][G[0]+0].value<<8)),tr.jc=!tr.Qb&&6>gt,tr.jc){var PR,Nu=tr;for(PR=0;PR<ms;++PR){var nm=PR,om=Nu.pd[nm],NR=Nu.G[0][Nu.H[0]+nm];256<=NR.value?(om.g=NR.g+256,om.value=NR.value):(om.g=0,om.value=0,nm>>=se(NR,8,om),nm>>=se(Nu.G[1][Nu.H[1]+nm],16,om),nm>>=se(Nu.G[2][Nu.H[2]+nm],0,om),se(Nu.G[3][Nu.H[3]+nm],24,om))}}}os.vc=ps,os.Wb=Xs,os.Ya=im,os.yc=Aw,Mn=1;break e}Mn=0}if(!(ft=Mn)){it.a=3;break t}if(0<Kt){if(Tt.ua=1<<Kt,!xt(Tt.Wa,Kt)){it.a=1,ft=0;break t}}else Tt.ua=0;var hO=it,OH=pt,Ast=bt,uO=hO.s,fO=uO.xc;if(hO.c=OH,hO.i=Ast,uO.md=J(OH,fO),uO.wc=fO==0?-1:(1<<fO)-1,X){it.xb=JD;break t}if((Ht=o(pt*bt))==null){it.a=1,ft=0;break t}ft=(ft=ar(it,Ht,0,pt,bt,bt,null))&&!yt.h;break t}return ft?(dt!=null?dt[0]=Ht:(t(Ht==null),t(X)),it.$=0,X||Wi(Tt)):Wi(Tt),ft}function rn(D,z){var X=D.c*D.i,it=X+z+16*z;return t(D.c<=z),D.V=o(it),D.V==null?(D.Ta=null,D.Ua=0,D.a=1,0):(D.Ta=D.V,D.Ua=D.Ba+X+z,1)}function nn(D,z){var X=D.C,it=z-X,dt=D.V,ft=D.Ba+D.c*X;for(t(z<=D.l.o);0<it;){var pt=16<it?16:it,bt=D.l.ma,yt=D.l.width,Tt=yt*pt,Ht=bt.ca,Kt=bt.tb+yt*X,Xt=D.Ta,Wt=D.Ua;Ee(D,pt,dt,ft),Eo(Xt,Wt,Ht,Kt,Tt),Ye(bt,X,X+pt,Ht,Kt,yt),it-=pt,dt+=pt*D.c,X+=pt}t(X==z),D.C=D.Ma=z}function Wn(){this.ub=this.yd=this.td=this.Rb=0}function Tn(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function po(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function At(){this.Yb=function(){var D=[];return function z(X,it,dt){for(var ft=dt[it],pt=0;pt<ft&&(X.push(dt.length>it+1?[]:0),!(dt.length<it+1));pt++)z(X[pt],it+1,dt)}(D,0,[3,11]),D}()}function Gt(){this.jb=o(3),this.Wc=a([4,8],At),this.Xc=a([4,17],At)}function oe(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function ae(){this.ld=this.La=this.dd=this.tc=0}function Ie(){this.Na=this.la=0}function li(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function oi(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ur(){this.uc=this.M=this.Nb=0,this.wa=Array(new ae),this.Y=0,this.ya=Array(new oi),this.aa=0,this.l=new Ni}function ji(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Di(){this.cb=this.a=0,this.sc="",this.m=new N,this.Od=new Wn,this.Kc=new Tn,this.ed=new oe,this.Qa=new po,this.Ic=this.$c=this.Aa=0,this.D=new ur,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,N),this.ia=0,this.pb=s(4,li),this.Pa=new Gt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ji),this.Hd=0,this.rb=Array(new Ie),this.sb=0,this.wa=Array(new ae),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new oi),this.L=this.aa=0,this.gd=a([4,2],ae),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ni(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Pn(){var D=new Di;return D!=null&&(D.a=0,D.sc="OK",D.cb=0,D.Xb=0,yg||(yg=So)),D}function nr(D,z,X){return D.a==0&&(D.a=z,D.sc=X,D.cb=0),0}function kr(D,z,X){return 3<=X&&D[z+0]==157&&D[z+1]==1&&D[z+2]==42}function jr(D,z){if(D==null)return 0;if(D.a=0,D.sc="OK",z==null)return nr(D,2,"null VP8Io passed to VP8GetHeaders()");var X=z.data,it=z.w,dt=z.ha;if(4>dt)return nr(D,7,"Truncated header.");var ft=X[it+0]|X[it+1]<<8|X[it+2]<<16,pt=D.Od;if(pt.Rb=!(1&ft),pt.td=ft>>1&7,pt.yd=ft>>4&1,pt.ub=ft>>5,3<pt.td)return nr(D,3,"Incorrect keyframe parameters.");if(!pt.yd)return nr(D,4,"Frame not displayable.");it+=3,dt-=3;var bt=D.Kc;if(pt.Rb){if(7>dt)return nr(D,7,"cannot parse picture header");if(!kr(X,it,dt))return nr(D,3,"Bad code word");bt.c=16383&(X[it+4]<<8|X[it+3]),bt.Td=X[it+4]>>6,bt.i=16383&(X[it+6]<<8|X[it+5]),bt.Ud=X[it+6]>>6,it+=7,dt-=7,D.za=bt.c+15>>4,D.Ub=bt.i+15>>4,z.width=bt.c,z.height=bt.i,z.Da=0,z.j=0,z.v=0,z.va=z.width,z.o=z.height,z.da=0,z.ib=z.width,z.hb=z.height,z.U=z.width,z.T=z.height,n((ft=D.Pa).jb,0,255,ft.jb.length),t((ft=D.Qa)!=null),ft.Cb=0,ft.Bb=0,ft.Fb=1,n(ft.Zb,0,0,ft.Zb.length),n(ft.Lb,0,0,ft.Lb)}if(pt.ub>dt)return nr(D,7,"bad partition length");y(ft=D.m,X,it,pt.ub),it+=pt.ub,dt-=pt.ub,pt.Rb&&(bt.Ld=Y(ft),bt.Kd=Y(ft)),bt=D.Qa;var yt,Tt=D.Pa;if(t(ft!=null),t(bt!=null),bt.Cb=Y(ft),bt.Cb){if(bt.Bb=Y(ft),Y(ft)){for(bt.Fb=Y(ft),yt=0;4>yt;++yt)bt.Zb[yt]=Y(ft)?w(ft,7):0;for(yt=0;4>yt;++yt)bt.Lb[yt]=Y(ft)?w(ft,6):0}if(bt.Bb)for(yt=0;3>yt;++yt)Tt.jb[yt]=Y(ft)?C(ft,8):255}else bt.Bb=0;if(ft.Ka)return nr(D,3,"cannot parse segment header");if((bt=D.ed).zd=Y(ft),bt.Tb=C(ft,6),bt.wb=C(ft,3),bt.Pc=Y(ft),bt.Pc&&Y(ft)){for(Tt=0;4>Tt;++Tt)Y(ft)&&(bt.vd[Tt]=w(ft,6));for(Tt=0;4>Tt;++Tt)Y(ft)&&(bt.od[Tt]=w(ft,6))}if(D.L=bt.Tb==0?0:bt.zd?1:2,ft.Ka)return nr(D,3,"cannot parse filter header");var Ht=dt;if(dt=yt=it,it=yt+Ht,bt=Ht,D.Xb=(1<<C(D.m,2))-1,Ht<3*(Tt=D.Xb))X=7;else{for(yt+=3*Tt,bt-=3*Tt,Ht=0;Ht<Tt;++Ht){var Kt=X[dt+0]|X[dt+1]<<8|X[dt+2]<<16;Kt>bt&&(Kt=bt),y(D.Jc[+Ht],X,yt,Kt),yt+=Kt,bt-=Kt,dt+=3}y(D.Jc[+Tt],X,yt,bt),X=yt<it?0:5}if(X!=0)return nr(D,X,"cannot parse partitions");for(X=C(yt=D.m,7),dt=Y(yt)?w(yt,4):0,it=Y(yt)?w(yt,4):0,bt=Y(yt)?w(yt,4):0,Tt=Y(yt)?w(yt,4):0,yt=Y(yt)?w(yt,4):0,Ht=D.Qa,Kt=0;4>Kt;++Kt){if(Ht.Cb){var Xt=Ht.Zb[Kt];Ht.Fb||(Xt+=X)}else{if(0<Kt){D.pb[Kt]=D.pb[0];continue}Xt=X}var Wt=D.pb[Kt];Wt.Sc[0]=Ew[ca(Xt+dt,127)],Wt.Sc[1]=Rw[ca(Xt+0,127)],Wt.Eb[0]=2*Ew[ca(Xt+it,127)],Wt.Eb[1]=101581*Rw[ca(Xt+bt,127)]>>16,8>Wt.Eb[1]&&(Wt.Eb[1]=8),Wt.Qc[0]=Ew[ca(Xt+Tt,117)],Wt.Qc[1]=Rw[ca(Xt+yt,127)],Wt.lc=Xt+yt}if(!pt.Rb)return nr(D,4,"Not a key frame.");for(Y(ft),pt=D.Pa,X=0;4>X;++X){for(dt=0;8>dt;++dt)for(it=0;3>it;++it)for(bt=0;11>bt;++bt)Tt=Z(ft,ZD[X][dt][it][bt])?C(ft,8):KD[X][dt][it][bt],pt.Wc[X][dt].Yb[it][bt]=Tt;for(dt=0;17>dt;++dt)pt.Xc[X][dt]=pt.Wc[X][QD[dt]]}return D.kc=Y(ft),D.kc&&(D.Bd=C(ft,8)),D.cb=1}function So(D,z,X,it,dt,ft,pt){var bt=z[dt].Yb[X];for(X=0;16>dt;++dt){if(!Z(D,bt[X+0]))return dt;for(;!Z(D,bt[X+1]);)if(bt=z[++dt].Yb[0],X=0,dt==16)return 16;var yt=z[dt+1].Yb;if(Z(D,bt[X+2])){var Tt=D,Ht=0;if(Z(Tt,(Xt=bt)[(Kt=X)+3]))if(Z(Tt,Xt[Kt+6])){for(bt=0,Kt=2*(Ht=Z(Tt,Xt[Kt+8]))+(Xt=Z(Tt,Xt[Kt+9+Ht])),Ht=0,Xt=qD[Kt];Xt[bt];++bt)Ht+=Ht+Z(Tt,Xt[bt]);Ht+=3+(8<<Kt)}else Z(Tt,Xt[Kt+7])?(Ht=7+2*Z(Tt,165),Ht+=Z(Tt,145)):Ht=5+Z(Tt,159);else Ht=Z(Tt,Xt[Kt+4])?3+Z(Tt,Xt[Kt+5]):2;bt=yt[2]}else Ht=1,bt=yt[1];yt=pt+GD[dt],0>(Tt=D).b&&k(Tt);var Kt,Xt=Tt.b,Wt=(Kt=Tt.Ca>>1)-(Tt.I>>Xt)>>31;--Tt.b,Tt.Ca+=Wt,Tt.Ca|=1,Tt.I-=(Kt+1&Wt)<<Xt,ft[yt]=((Ht^Wt)-Wt)*it[(0<dt)+0]}return 16}function ns(D){var z=D.rb[D.sb-1];z.la=0,z.Na=0,n(D.zc,0,0,D.zc.length),D.ja=0}function xs(D,z){if(D==null)return 0;if(z==null)return nr(D,2,"NULL VP8Io parameter in VP8Decode().");if(!D.cb&&!jr(D,z))return 0;if(t(D.cb),z.ac==null||z.ac(z)){z.ob&&(D.L=0);var X=Nl[D.L];if(D.L==2?(D.yb=0,D.zb=0):(D.yb=z.v-X>>4,D.zb=z.j-X>>4,0>D.yb&&(D.yb=0),0>D.zb&&(D.zb=0)),D.Va=z.o+15+X>>4,D.Hb=z.va+15+X>>4,D.Hb>D.za&&(D.Hb=D.za),D.Va>D.Ub&&(D.Va=D.Ub),0<D.L){var it=D.ed;for(X=0;4>X;++X){var dt;if(D.Qa.Cb){var ft=D.Qa.Lb[X];D.Qa.Fb||(ft+=it.Tb)}else ft=it.Tb;for(dt=0;1>=dt;++dt){var pt=D.gd[X][dt],bt=ft;if(it.Pc&&(bt+=it.vd[0],dt&&(bt+=it.od[0])),0<(bt=0>bt?0:63<bt?63:bt)){var yt=bt;0<it.wb&&(yt=4<it.wb?yt>>2:yt>>1)>9-it.wb&&(yt=9-it.wb),1>yt&&(yt=1),pt.dd=yt,pt.tc=2*bt+yt,pt.ld=40<=bt?2:15<=bt?1:0}else pt.tc=0;pt.La=dt}}}X=0}else nr(D,6,"Frame setup failed"),X=D.a;if(X=X==0){if(X){D.$c=0,0<D.Aa||(D.Ic=aO);t:{X=D.Ic,it=4*(yt=D.za);var Tt=32*yt,Ht=yt+1,Kt=0<D.L?yt*(0<D.Aa?2:1):0,Xt=(D.Aa==2?2:1)*yt;if((pt=it+832+(dt=3*(16*X+Nl[D.L])/2*Tt)+(ft=D.Fa!=null&&0<D.Fa.length?D.Kc.c*D.Kc.i:0))!=pt)X=0;else{if(pt>D.Vb){if(D.Vb=0,D.Ec=o(pt),D.Fc=0,D.Ec==null){X=nr(D,1,"no memory during frame initialization.");break t}D.Vb=pt}pt=D.Ec,bt=D.Fc,D.Ac=pt,D.Bc=bt,bt+=it,D.Gd=s(Tt,ji),D.Hd=0,D.rb=s(Ht+1,Ie),D.sb=1,D.wa=Kt?s(Kt,ae):null,D.Y=0,D.D.Nb=0,D.D.wa=D.wa,D.D.Y=D.Y,0<D.Aa&&(D.D.Y+=yt),t(!0),D.oc=pt,D.pc=bt,bt+=832,D.ya=s(Xt,oi),D.aa=0,D.D.ya=D.ya,D.D.aa=D.aa,D.Aa==2&&(D.D.aa+=yt),D.R=16*yt,D.B=8*yt,yt=(Tt=Nl[D.L])*D.R,Tt=Tt/2*D.B,D.sa=pt,D.ta=bt+yt,D.qa=D.sa,D.ra=D.ta+16*X*D.R+Tt,D.Ha=D.qa,D.Ia=D.ra+8*X*D.B+Tt,D.$c=0,bt+=dt,D.mb=ft?pt:null,D.nb=ft?bt:null,t(bt+ft<=D.Fc+D.Vb),ns(D),n(D.Ac,D.Bc,0,it),X=1}}if(X){if(z.ka=0,z.y=D.sa,z.O=D.ta,z.f=D.qa,z.N=D.ra,z.ea=D.Ha,z.Vd=D.Ia,z.fa=D.R,z.Rc=D.B,z.F=null,z.J=0,!Sb){for(X=-255;255>=X;++X)qo[255+X]=0>X?-X:X;for(X=-1020;1020>=X;++X)ud[1020+X]=-128>X?-128:127<X?127:X;for(X=-112;112>=X;++X)vg[112+X]=-16>X?-16:15<X?15:X;for(X=-255;510>=X;++X)em[255+X]=0>X?0:255<X?255:X;Sb=1}tm=us,hd=Dr,mg=Ss,Ks=Dl,vo=rd,bo=Tr,il=og,pg=Su,gg=sg,mh=ag,ph=Yf,gh=La,Tu=Fa,Mu=yb,Au=ng,bh=Wr,bg=Na,rl=xu,Pl[0]=uc,Pl[1]=tl,Pl[2]=rh,Pl[3]=nh,Pl[4]=mb,Pl[5]=zf,Pl[6]=pb,Pl[7]=ig,Pl[8]=vw,Pl[9]=bw,yh[0]=hc,yh[1]=eh,yh[2]=Es,yh[3]=fs,yh[4]=Oo,yh[5]=ih,yh[6]=sd,fd[0]=fc,fd[1]=nd,fd[2]=yw,fd[3]=rg,fd[4]=oh,fd[5]=_w,fd[6]=Uf,X=1}else X=0}X&&(X=function(Wt,me){for(Wt.M=0;Wt.M<Wt.Va;++Wt.M){var ce,Bt=Wt.Jc[Wt.M&Wt.Xb],Vt=Wt.m,ge=Wt;for(ce=0;ce<ge.za;++ce){var Ce=Vt,ve=ge,ei=ve.Ac,je=ve.Bc+4*ce,Li=ve.zc,He=ve.ya[ve.aa+ce];if(ve.Qa.Bb?He.$b=Z(Ce,ve.Pa.jb[0])?2+Z(Ce,ve.Pa.jb[2]):Z(Ce,ve.Pa.jb[1]):He.$b=0,ve.kc&&(He.Ad=Z(Ce,ve.Bd)),He.Za=!Z(Ce,145)+0,He.Za){var Kr=He.Ob,an=0;for(ve=0;4>ve;++ve){var Yr,Pr=Li[0+ve];for(Yr=0;4>Yr;++Yr){Pr=XD[ei[je+Yr]][Pr];for(var Mn=bR[Z(Ce,Pr[0])];0<Mn;)Mn=bR[2*Mn+Z(Ce,Pr[Mn])];Pr=-Mn,ei[je+Yr]=Pr}i(Kr,an,ei,je,4),an+=4,Li[0+ve]=Pr}}else Pr=Z(Ce,156)?Z(Ce,128)?1:3:Z(Ce,163)?2:0,He.Ob[0]=Pr,n(ei,je,Pr,4),n(Li,0,Pr,4);He.Dd=Z(Ce,142)?Z(Ce,114)?Z(Ce,183)?1:3:2:0}if(ge.m.Ka)return nr(Wt,7,"Premature end-of-partition0 encountered.");for(;Wt.ja<Wt.za;++Wt.ja){if(ge=Bt,Ce=(Vt=Wt).rb[Vt.sb-1],ei=Vt.rb[Vt.sb+Vt.ja],ce=Vt.ya[Vt.aa+Vt.ja],je=Vt.kc?ce.Ad:0)Ce.la=ei.la=0,ce.Za||(Ce.Na=ei.Na=0),ce.Hc=0,ce.Gc=0,ce.ia=0;else{var un,lr;if(Ce=ei,ei=ge,je=Vt.Pa.Xc,Li=Vt.ya[Vt.aa+Vt.ja],He=Vt.pb[Li.$b],ve=Li.ad,Kr=0,an=Vt.rb[Vt.sb-1],Pr=Yr=0,n(ve,Kr,0,384),Li.Za)var No=0,ua=je[3];else{Mn=o(16);var Lo=Ce.Na+an.Na;if(Lo=yg(ei,je[1],Lo,He.Eb,0,Mn,0),Ce.Na=an.Na=(0<Lo)+0,1<Lo)tm(Mn,0,ve,Kr);else{var fa=Mn[0]+3>>3;for(Mn=0;256>Mn;Mn+=16)ve[Kr+Mn]=fa}No=1,ua=je[0]}var ln=15&Ce.la,Go=15&an.la;for(Mn=0;4>Mn;++Mn){var Ba=1&Go;for(fa=lr=0;4>fa;++fa)ln=ln>>1|(Ba=(Lo=yg(ei,ua,Lo=Ba+(1&ln),He.Sc,No,ve,Kr))>No)<<7,lr=lr<<2|(3<Lo?3:1<Lo?2:ve[Kr+0]!=0),Kr+=16;ln>>=4,Go=Go>>1|Ba<<7,Yr=(Yr<<8|lr)>>>0}for(ua=ln,No=Go>>4,un=0;4>un;un+=2){for(lr=0,ln=Ce.la>>4+un,Go=an.la>>4+un,Mn=0;2>Mn;++Mn){for(Ba=1&Go,fa=0;2>fa;++fa)Lo=Ba+(1&ln),ln=ln>>1|(Ba=0<(Lo=yg(ei,je[2],Lo,He.Qc,0,ve,Kr)))<<3,lr=lr<<2|(3<Lo?3:1<Lo?2:ve[Kr+0]!=0),Kr+=16;ln>>=2,Go=Go>>1|Ba<<5}Pr|=lr<<4*un,ua|=ln<<4<<un,No|=(240&Go)<<un}Ce.la=ua,an.la=No,Li.Hc=Yr,Li.Gc=Pr,Li.ia=43690&Pr?0:He.ia,je=!(Yr|Pr)}if(0<Vt.L&&(Vt.wa[Vt.Y+Vt.ja]=Vt.gd[ce.$b][ce.Za],Vt.wa[Vt.Y+Vt.ja].La|=!je),ge.Ka)return nr(Wt,7,"Premature end-of-file encountered.")}if(ns(Wt),Vt=me,ge=1,ce=(Bt=Wt).D,Ce=0<Bt.L&&Bt.M>=Bt.zb&&Bt.M<=Bt.Va,Bt.Aa==0)t:{if(ce.M=Bt.M,ce.uc=Ce,Gf(Bt,ce),ge=1,ce=(lr=Bt.D).Nb,Ce=(Pr=Nl[Bt.L])*Bt.R,ei=Pr/2*Bt.B,Mn=16*ce*Bt.R,fa=8*ce*Bt.B,je=Bt.sa,Li=Bt.ta-Ce+Mn,He=Bt.qa,ve=Bt.ra-ei+fa,Kr=Bt.Ha,an=Bt.Ia-ei+fa,Go=(ln=lr.M)==0,Yr=ln>=Bt.Va-1,Bt.Aa==2&&Gf(Bt,lr),lr.uc)for(Ba=(Lo=Bt).D.M,t(Lo.D.uc),lr=Lo.yb;lr<Lo.Hb;++lr){No=lr,ua=Ba;var os=(ps=(yo=Lo).D).Nb;un=yo.R;var ps=ps.wa[ps.Y+No],Xs=yo.sa,al=yo.ta+16*os*un+16*No,pc=ps.dd,ss=ps.tc;if(ss!=0)if(t(3<=ss),yo.L==1)0<No&&bh(Xs,al,un,ss+4),ps.La&&rl(Xs,al,un,ss),0<ua&&Au(Xs,al,un,ss+4),ps.La&&bg(Xs,al,un,ss);else{var md=yo.B,Zs=yo.qa,Ll=yo.ra+8*os*md+8*No,wh=yo.Ha,yo=yo.Ia+8*os*md+8*No;os=ps.ld,0<No&&(pg(Xs,al,un,ss+4,pc,os),mh(Zs,Ll,wh,yo,md,ss+4,pc,os)),ps.La&&(gh(Xs,al,un,ss,pc,os),Mu(Zs,Ll,wh,yo,md,ss,pc,os)),0<ua&&(il(Xs,al,un,ss+4,pc,os),gg(Zs,Ll,wh,yo,md,ss+4,pc,os)),ps.La&&(ph(Xs,al,un,ss,pc,os),Tu(Zs,Ll,wh,yo,md,ss,pc,os))}}if(Bt.ia&&alert("todo:DitherRow"),Vt.put!=null){if(lr=16*ln,ln=16*(ln+1),Go?(Vt.y=Bt.sa,Vt.O=Bt.ta+Mn,Vt.f=Bt.qa,Vt.N=Bt.ra+fa,Vt.ea=Bt.Ha,Vt.W=Bt.Ia+fa):(lr-=Pr,Vt.y=je,Vt.O=Li,Vt.f=He,Vt.N=ve,Vt.ea=Kr,Vt.W=an),Yr||(ln-=Pr),ln>Vt.o&&(ln=Vt.o),Vt.F=null,Vt.J=null,Bt.Fa!=null&&0<Bt.Fa.length&&lr<ln&&(Vt.J=qf(Bt,Vt,lr,ln-lr),Vt.F=Bt.mb,Vt.F==null&&Vt.F.length==0)){ge=nr(Bt,3,"Could not decode alpha data.");break t}lr<Vt.j&&(Pr=Vt.j-lr,lr=Vt.j,t(!(1&Pr)),Vt.O+=Bt.R*Pr,Vt.N+=Bt.B*(Pr>>1),Vt.W+=Bt.B*(Pr>>1),Vt.F!=null&&(Vt.J+=Vt.width*Pr)),lr<ln&&(Vt.O+=Vt.v,Vt.N+=Vt.v>>1,Vt.W+=Vt.v>>1,Vt.F!=null&&(Vt.J+=Vt.v),Vt.ka=lr-Vt.j,Vt.U=Vt.va-Vt.v,Vt.T=ln-lr,ge=Vt.put(Vt))}ce+1!=Bt.Ic||Yr||(i(Bt.sa,Bt.ta-Ce,je,Li+16*Bt.R,Ce),i(Bt.qa,Bt.ra-ei,He,ve+8*Bt.B,ei),i(Bt.Ha,Bt.Ia-ei,Kr,an+8*Bt.B,ei))}if(!ge)return nr(Wt,6,"Output aborted.")}return 1}(D,z)),z.bc!=null&&z.bc(z),X&=1}return X?(D.cb=0,X):0}function so(D,z,X,it,dt){dt=D[z+X+32*it]+(dt>>3),D[z+X+32*it]=-256&dt?0>dt?0:255:dt}function la(D,z,X,it,dt,ft){so(D,z,0,X,it+dt),so(D,z,1,X,it+ft),so(D,z,2,X,it-ft),so(D,z,3,X,it-dt)}function ao(D){return(20091*D>>16)+D}function $s(D,z,X,it){var dt,ft=0,pt=o(16);for(dt=0;4>dt;++dt){var bt=D[z+0]+D[z+8],yt=D[z+0]-D[z+8],Tt=(35468*D[z+4]>>16)-ao(D[z+12]),Ht=ao(D[z+4])+(35468*D[z+12]>>16);pt[ft+0]=bt+Ht,pt[ft+1]=yt+Tt,pt[ft+2]=yt-Tt,pt[ft+3]=bt-Ht,ft+=4,z++}for(dt=ft=0;4>dt;++dt)bt=(D=pt[ft+0]+4)+pt[ft+8],yt=D-pt[ft+8],Tt=(35468*pt[ft+4]>>16)-ao(pt[ft+12]),so(X,it,0,0,bt+(Ht=ao(pt[ft+4])+(35468*pt[ft+12]>>16))),so(X,it,1,0,yt+Tt),so(X,it,2,0,yt-Tt),so(X,it,3,0,bt-Ht),ft++,it+=32}function Tr(D,z,X,it){var dt=D[z+0]+4,ft=35468*D[z+4]>>16,pt=ao(D[z+4]),bt=35468*D[z+1]>>16;la(X,it,0,dt+pt,D=ao(D[z+1]),bt),la(X,it,1,dt+ft,D,bt),la(X,it,2,dt-ft,D,bt),la(X,it,3,dt-pt,D,bt)}function Dr(D,z,X,it,dt){$s(D,z,X,it),dt&&$s(D,z+16,X,it+4)}function Ss(D,z,X,it){hd(D,z+0,X,it,1),hd(D,z+32,X,it+128,1)}function Dl(D,z,X,it){var dt;for(D=D[z+0]+4,dt=0;4>dt;++dt)for(z=0;4>z;++z)so(X,it,z,dt,D)}function rd(D,z,X,it){D[z+0]&&Ks(D,z+0,X,it),D[z+16]&&Ks(D,z+16,X,it+4),D[z+32]&&Ks(D,z+32,X,it+128),D[z+48]&&Ks(D,z+48,X,it+128+4)}function us(D,z,X,it){var dt,ft=o(16);for(dt=0;4>dt;++dt){var pt=D[z+0+dt]+D[z+12+dt],bt=D[z+4+dt]+D[z+8+dt],yt=D[z+4+dt]-D[z+8+dt],Tt=D[z+0+dt]-D[z+12+dt];ft[0+dt]=pt+bt,ft[8+dt]=pt-bt,ft[4+dt]=Tt+yt,ft[12+dt]=Tt-yt}for(dt=0;4>dt;++dt)pt=(D=ft[0+4*dt]+3)+ft[3+4*dt],bt=ft[1+4*dt]+ft[2+4*dt],yt=ft[1+4*dt]-ft[2+4*dt],Tt=D-ft[3+4*dt],X[it+0]=pt+bt>>3,X[it+16]=Tt+yt>>3,X[it+32]=pt-bt>>3,X[it+48]=Tt-yt>>3,it+=64}function qs(D,z,X){var it,dt=z-32,ft=Ha,pt=255-D[dt-1];for(it=0;it<X;++it){var bt,yt=ft,Tt=pt+D[z-1];for(bt=0;bt<X;++bt)D[z+bt]=yt[Tt+D[dt+bt]];z+=32}}function tl(D,z){qs(D,z,4)}function nd(D,z){qs(D,z,8)}function eh(D,z){qs(D,z,16)}function Es(D,z){var X;for(X=0;16>X;++X)i(D,z+32*X,D,z-32,16)}function fs(D,z){var X;for(X=16;0<X;--X)n(D,z,D[z-1],16),z+=32}function od(D,z,X){var it;for(it=0;16>it;++it)n(z,X+32*it,D,16)}function hc(D,z){var X,it=16;for(X=0;16>X;++X)it+=D[z-1+32*X]+D[z+X-32];od(it>>5,D,z)}function Oo(D,z){var X,it=8;for(X=0;16>X;++X)it+=D[z-1+32*X];od(it>>4,D,z)}function ih(D,z){var X,it=8;for(X=0;16>X;++X)it+=D[z+X-32];od(it>>4,D,z)}function sd(D,z){od(128,D,z)}function qi(D,z,X){return D+2*z+X+2>>2}function rh(D,z){var X,it=z-32;for(it=new Uint8Array([qi(D[it-1],D[it+0],D[it+1]),qi(D[it+0],D[it+1],D[it+2]),qi(D[it+1],D[it+2],D[it+3]),qi(D[it+2],D[it+3],D[it+4])]),X=0;4>X;++X)i(D,z+32*X,it,0,it.length)}function nh(D,z){var X=D[z-1],it=D[z-1+32],dt=D[z-1+64],ft=D[z-1+96];ct(D,z+0,16843009*qi(D[z-1-32],X,it)),ct(D,z+32,16843009*qi(X,it,dt)),ct(D,z+64,16843009*qi(it,dt,ft)),ct(D,z+96,16843009*qi(dt,ft,ft))}function uc(D,z){var X,it=4;for(X=0;4>X;++X)it+=D[z+X-32]+D[z-1+32*X];for(it>>=3,X=0;4>X;++X)n(D,z+32*X,it,4)}function mb(D,z){var X=D[z-1+0],it=D[z-1+32],dt=D[z-1+64],ft=D[z-1-32],pt=D[z+0-32],bt=D[z+1-32],yt=D[z+2-32],Tt=D[z+3-32];D[z+0+96]=qi(it,dt,D[z-1+96]),D[z+1+96]=D[z+0+64]=qi(X,it,dt),D[z+2+96]=D[z+1+64]=D[z+0+32]=qi(ft,X,it),D[z+3+96]=D[z+2+64]=D[z+1+32]=D[z+0+0]=qi(pt,ft,X),D[z+3+64]=D[z+2+32]=D[z+1+0]=qi(bt,pt,ft),D[z+3+32]=D[z+2+0]=qi(yt,bt,pt),D[z+3+0]=qi(Tt,yt,bt)}function pb(D,z){var X=D[z+1-32],it=D[z+2-32],dt=D[z+3-32],ft=D[z+4-32],pt=D[z+5-32],bt=D[z+6-32],yt=D[z+7-32];D[z+0+0]=qi(D[z+0-32],X,it),D[z+1+0]=D[z+0+32]=qi(X,it,dt),D[z+2+0]=D[z+1+32]=D[z+0+64]=qi(it,dt,ft),D[z+3+0]=D[z+2+32]=D[z+1+64]=D[z+0+96]=qi(dt,ft,pt),D[z+3+32]=D[z+2+64]=D[z+1+96]=qi(ft,pt,bt),D[z+3+64]=D[z+2+96]=qi(pt,bt,yt),D[z+3+96]=qi(bt,yt,yt)}function zf(D,z){var X=D[z-1+0],it=D[z-1+32],dt=D[z-1+64],ft=D[z-1-32],pt=D[z+0-32],bt=D[z+1-32],yt=D[z+2-32],Tt=D[z+3-32];D[z+0+0]=D[z+1+64]=ft+pt+1>>1,D[z+1+0]=D[z+2+64]=pt+bt+1>>1,D[z+2+0]=D[z+3+64]=bt+yt+1>>1,D[z+3+0]=yt+Tt+1>>1,D[z+0+96]=qi(dt,it,X),D[z+0+64]=qi(it,X,ft),D[z+0+32]=D[z+1+96]=qi(X,ft,pt),D[z+1+32]=D[z+2+96]=qi(ft,pt,bt),D[z+2+32]=D[z+3+96]=qi(pt,bt,yt),D[z+3+32]=qi(bt,yt,Tt)}function ig(D,z){var X=D[z+0-32],it=D[z+1-32],dt=D[z+2-32],ft=D[z+3-32],pt=D[z+4-32],bt=D[z+5-32],yt=D[z+6-32],Tt=D[z+7-32];D[z+0+0]=X+it+1>>1,D[z+1+0]=D[z+0+64]=it+dt+1>>1,D[z+2+0]=D[z+1+64]=dt+ft+1>>1,D[z+3+0]=D[z+2+64]=ft+pt+1>>1,D[z+0+32]=qi(X,it,dt),D[z+1+32]=D[z+0+96]=qi(it,dt,ft),D[z+2+32]=D[z+1+96]=qi(dt,ft,pt),D[z+3+32]=D[z+2+96]=qi(ft,pt,bt),D[z+3+64]=qi(pt,bt,yt),D[z+3+96]=qi(bt,yt,Tt)}function bw(D,z){var X=D[z-1+0],it=D[z-1+32],dt=D[z-1+64],ft=D[z-1+96];D[z+0+0]=X+it+1>>1,D[z+2+0]=D[z+0+32]=it+dt+1>>1,D[z+2+32]=D[z+0+64]=dt+ft+1>>1,D[z+1+0]=qi(X,it,dt),D[z+3+0]=D[z+1+32]=qi(it,dt,ft),D[z+3+32]=D[z+1+64]=qi(dt,ft,ft),D[z+3+64]=D[z+2+64]=D[z+0+96]=D[z+1+96]=D[z+2+96]=D[z+3+96]=ft}function vw(D,z){var X=D[z-1+0],it=D[z-1+32],dt=D[z-1+64],ft=D[z-1+96],pt=D[z-1-32],bt=D[z+0-32],yt=D[z+1-32],Tt=D[z+2-32];D[z+0+0]=D[z+2+32]=X+pt+1>>1,D[z+0+32]=D[z+2+64]=it+X+1>>1,D[z+0+64]=D[z+2+96]=dt+it+1>>1,D[z+0+96]=ft+dt+1>>1,D[z+3+0]=qi(bt,yt,Tt),D[z+2+0]=qi(pt,bt,yt),D[z+1+0]=D[z+3+32]=qi(X,pt,bt),D[z+1+32]=D[z+3+64]=qi(it,X,pt),D[z+1+64]=D[z+3+96]=qi(dt,it,X),D[z+1+96]=qi(ft,dt,it)}function yw(D,z){var X;for(X=0;8>X;++X)i(D,z+32*X,D,z-32,8)}function rg(D,z){var X;for(X=0;8>X;++X)n(D,z,D[z-1],8),z+=32}function ad(D,z,X){var it;for(it=0;8>it;++it)n(z,X+32*it,D,8)}function fc(D,z){var X,it=8;for(X=0;8>X;++X)it+=D[z+X-32]+D[z-1+32*X];ad(it>>4,D,z)}function _w(D,z){var X,it=4;for(X=0;8>X;++X)it+=D[z+X-32];ad(it>>3,D,z)}function oh(D,z){var X,it=4;for(X=0;8>X;++X)it+=D[z-1+32*X];ad(it>>3,D,z)}function Uf(D,z){ad(128,D,z)}function Wf(D,z,X){var it=D[z-X],dt=D[z+0],ft=3*(dt-it)+Cw[1020+D[z-2*X]-D[z+X]],pt=Iu[112+(ft+4>>3)];D[z-X]=Ha[255+it+Iu[112+(ft+3>>3)]],D[z+0]=Ha[255+dt-pt]}function gb(D,z,X,it){var dt=D[z+0],ft=D[z+X];return ol[255+D[z-2*X]-D[z-X]]>it||ol[255+ft-dt]>it}function bb(D,z,X,it){return 4*ol[255+D[z-X]-D[z+0]]+ol[255+D[z-2*X]-D[z+X]]<=it}function vb(D,z,X,it,dt){var ft=D[z-3*X],pt=D[z-2*X],bt=D[z-X],yt=D[z+0],Tt=D[z+X],Ht=D[z+2*X],Kt=D[z+3*X];return 4*ol[255+bt-yt]+ol[255+pt-Tt]>it?0:ol[255+D[z-4*X]-ft]<=dt&&ol[255+ft-pt]<=dt&&ol[255+pt-bt]<=dt&&ol[255+Kt-Ht]<=dt&&ol[255+Ht-Tt]<=dt&&ol[255+Tt-yt]<=dt}function ng(D,z,X,it){var dt=2*it+1;for(it=0;16>it;++it)bb(D,z+it,X,dt)&&Wf(D,z+it,X)}function Wr(D,z,X,it){var dt=2*it+1;for(it=0;16>it;++it)bb(D,z+it*X,1,dt)&&Wf(D,z+it*X,1)}function Na(D,z,X,it){var dt;for(dt=3;0<dt;--dt)ng(D,z+=4*X,X,it)}function xu(D,z,X,it){var dt;for(dt=3;0<dt;--dt)Wr(D,z+=4,X,it)}function sh(D,z,X,it,dt,ft,pt,bt){for(ft=2*ft+1;0<dt--;){if(vb(D,z,X,ft,pt))if(gb(D,z,X,bt))Wf(D,z,X);else{var yt=D,Tt=z,Ht=X,Kt=yt[Tt-2*Ht],Xt=yt[Tt-Ht],Wt=yt[Tt+0],me=yt[Tt+Ht],ce=yt[Tt+2*Ht],Bt=27*(ge=Cw[1020+3*(Wt-Xt)+Cw[1020+Kt-me]])+63>>7,Vt=18*ge+63>>7,ge=9*ge+63>>7;yt[Tt-3*Ht]=Ha[255+yt[Tt-3*Ht]+ge],yt[Tt-2*Ht]=Ha[255+Kt+Vt],yt[Tt-Ht]=Ha[255+Xt+Bt],yt[Tt+0]=Ha[255+Wt-Bt],yt[Tt+Ht]=Ha[255+me-Vt],yt[Tt+2*Ht]=Ha[255+ce-ge]}z+=it}}function el(D,z,X,it,dt,ft,pt,bt){for(ft=2*ft+1;0<dt--;){if(vb(D,z,X,ft,pt))if(gb(D,z,X,bt))Wf(D,z,X);else{var yt=D,Tt=z,Ht=X,Kt=yt[Tt-Ht],Xt=yt[Tt+0],Wt=yt[Tt+Ht],me=Iu[112+((ce=3*(Xt-Kt))+4>>3)],ce=Iu[112+(ce+3>>3)],Bt=me+1>>1;yt[Tt-2*Ht]=Ha[255+yt[Tt-2*Ht]+Bt],yt[Tt-Ht]=Ha[255+Kt+ce],yt[Tt+0]=Ha[255+Xt-me],yt[Tt+Ht]=Ha[255+Wt-Bt]}z+=it}}function og(D,z,X,it,dt,ft){sh(D,z,X,1,16,it,dt,ft)}function Su(D,z,X,it,dt,ft){sh(D,z,1,X,16,it,dt,ft)}function Yf(D,z,X,it,dt,ft){var pt;for(pt=3;0<pt;--pt)el(D,z+=4*X,X,1,16,it,dt,ft)}function La(D,z,X,it,dt,ft){var pt;for(pt=3;0<pt;--pt)el(D,z+=4,1,X,16,it,dt,ft)}function sg(D,z,X,it,dt,ft,pt,bt){sh(D,z,dt,1,8,ft,pt,bt),sh(X,it,dt,1,8,ft,pt,bt)}function ag(D,z,X,it,dt,ft,pt,bt){sh(D,z,1,dt,8,ft,pt,bt),sh(X,it,1,dt,8,ft,pt,bt)}function Fa(D,z,X,it,dt,ft,pt,bt){el(D,z+4*dt,dt,1,8,ft,pt,bt),el(X,it+4*dt,dt,1,8,ft,pt,bt)}function yb(D,z,X,it,dt,ft,pt,bt){el(D,z+4,1,dt,8,ft,pt,bt),el(X,it+4,1,dt,8,ft,pt,bt)}function ah(){this.ba=new ti,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new be,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function lg(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function cg(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function _b(){this.ua=0,this.Wa=new at,this.vb=new at,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new v,this.yc=new R}function $f(){this.xb=this.a=0,this.l=new Ni,this.ca=new ti,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new T,this.Pb=0,this.wd=new T,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new _b,this.ab=0,this.gc=s(4,cg),this.Oc=0}function lh(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ni,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Eu(D,z,X,it,dt,ft,pt){for(D=D==null?0:D[z+0],z=0;z<pt;++z)dt[ft+z]=D+X[it+z]&255,D=dt[ft+z]}function dg(D,z,X,it,dt,ft,pt){var bt;if(D==null)Eu(null,null,X,it,dt,ft,pt);else for(bt=0;bt<pt;++bt)dt[ft+bt]=D[z+bt]+X[it+bt]&255}function ch(D,z,X,it,dt,ft,pt){if(D==null)Eu(null,null,X,it,dt,ft,pt);else{var bt,yt=D[z+0],Tt=yt,Ht=yt;for(bt=0;bt<pt;++bt)Tt=Ht+(yt=D[z+bt])-Tt,Ht=X[it+bt]+(-256&Tt?0>Tt?0:255:Tt)&255,Tt=yt,dt[ft+bt]=Ht}}function qf(D,z,X,it){var dt=z.width,ft=z.o;if(t(D!=null&&z!=null),0>X||0>=it||X+it>ft)return null;if(!D.Cc){if(D.ga==null){var pt;if(D.ga=new lh,(pt=D.ga==null)||(pt=z.width*z.o,t(D.Gb.length==0),D.Gb=o(pt),D.Uc=0,D.Gb==null?pt=0:(D.mb=D.Gb,D.nb=D.Uc,D.rc=null,pt=1),pt=!pt),!pt){pt=D.ga;var bt=D.Fa,yt=D.P,Tt=D.qc,Ht=D.mb,Kt=D.nb,Xt=yt+1,Wt=Tt-1,me=pt.l;if(t(bt!=null&&Ht!=null&&z!=null),_h[0]=null,_h[1]=Eu,_h[2]=dg,_h[3]=ch,pt.ca=Ht,pt.tb=Kt,pt.c=z.width,pt.i=z.height,t(0<pt.c&&0<pt.i),1>=Tt)z=0;else if(pt.$a=bt[yt+0]>>0&3,pt.Z=bt[yt+0]>>2&3,pt.Lc=bt[yt+0]>>4&3,yt=bt[yt+0]>>6&3,0>pt.$a||1<pt.$a||4<=pt.Z||1<pt.Lc||yt)z=0;else if(me.put=Te,me.ac=We,me.bc=Jn,me.ma=pt,me.width=z.width,me.height=z.height,me.Da=z.Da,me.v=z.v,me.va=z.va,me.j=z.j,me.o=z.o,pt.$a)t:{t(pt.$a==1),z=Ti();e:for(;;){if(z==null){z=0;break t}if(t(pt!=null),pt.mc=z,z.c=pt.c,z.i=pt.i,z.l=pt.l,z.l.ma=pt,z.l.width=pt.c,z.l.height=pt.i,z.a=0,S(z.m,bt,Xt,Wt),!br(pt.c,pt.i,1,z,null)||(z.ab==1&&z.gc[0].hc==3&&Ui(z.s)?(pt.ic=1,bt=z.c*z.i,z.Ta=null,z.Ua=0,z.V=o(bt),z.Ba=0,z.V==null?(z.a=1,z=0):z=1):(pt.ic=0,z=rn(z,pt.c)),!z))break e;z=1;break t}pt.mc=null,z=0}else z=Wt>=pt.c*pt.i;pt=!z}if(pt)return null;D.ga.Lc!=1?D.Ga=0:it=ft-X}t(D.ga!=null),t(X+it<=ft);t:{if(z=(bt=D.ga).c,ft=bt.l.o,bt.$a==0){if(Xt=D.rc,Wt=D.Vc,me=D.Fa,yt=D.P+1+X*z,Tt=D.mb,Ht=D.nb+X*z,t(yt<=D.P+D.qc),bt.Z!=0)for(t(_h[bt.Z]!=null),pt=0;pt<it;++pt)_h[bt.Z](Xt,Wt,me,yt,Tt,Ht,z),Xt=Tt,Wt=Ht,Ht+=z,yt+=z;else for(pt=0;pt<it;++pt)i(Tt,Ht,me,yt,z),Xt=Tt,Wt=Ht,Ht+=z,yt+=z;D.rc=Xt,D.Vc=Wt}else{if(t(bt.mc!=null),z=X+it,t((pt=bt.mc)!=null),t(z<=pt.i),pt.C>=z)z=1;else if(bt.ic||$t(),bt.ic){bt=pt.V,Xt=pt.Ba,Wt=pt.c;var ce=pt.i,Bt=(me=1,yt=pt.$/Wt,Tt=pt.$%Wt,Ht=pt.m,Kt=pt.s,pt.$),Vt=Wt*ce,ge=Wt*z,Ce=Kt.wc,ve=Bt<ge?mi(Kt,Tt,yt):null;t(Bt<=Vt),t(z<=ce),t(Ui(Kt));e:for(;;){for(;!Ht.h&&Bt<ge;){if(Tt&Ce||(ve=mi(Kt,Tt,yt)),t(ve!=null),A(Ht),256>(ce=ee(ve.G[0],ve.H[0],Ht)))bt[Xt+Bt]=ce,++Bt,++Tt>=Wt&&(Tt=0,++yt<=z&&!(yt%16)&&Pe(pt,yt));else{if(!(280>ce)){me=0;break e}ce=Ot(ce-256,Ht);var ei,je=ee(ve.G[4],ve.H[4],Ht);if(A(Ht),!(Bt>=(je=Qt(Wt,je=Ot(je,Ht)))&&Vt-Bt>=ce)){me=0;break e}for(ei=0;ei<ce;++ei)bt[Xt+Bt+ei]=bt[Xt+Bt+ei-je];for(Bt+=ce,Tt+=ce;Tt>=Wt;)Tt-=Wt,++yt<=z&&!(yt%16)&&Pe(pt,yt);Bt<ge&&Tt&Ce&&(ve=mi(Kt,Tt,yt))}t(Ht.h==I(Ht))}Pe(pt,yt>z?z:yt);break e}!me||Ht.h&&Bt<Vt?(me=0,pt.a=Ht.h?5:3):pt.$=Bt,z=me}else z=ar(pt,pt.V,pt.Ba,pt.c,pt.i,z,nn);if(!z){it=0;break t}}X+it>=ft&&(D.Cc=1),it=1}if(!it)return null;if(D.Cc&&((it=D.ga)!=null&&(it.mc=null),D.ga=null,0<D.Ga))return alert("todo:WebPDequantizeLevels"),null}return D.nb+X*dt}function K(D,z,X,it,dt,ft){for(;0<dt--;){var pt,bt=D,yt=z+(X?1:0),Tt=D,Ht=z+(X?0:3);for(pt=0;pt<it;++pt){var Kt=Tt[Ht+4*pt];Kt!=255&&(Kt*=32897,bt[yt+4*pt+0]=bt[yt+4*pt+0]*Kt>>23,bt[yt+4*pt+1]=bt[yt+4*pt+1]*Kt>>23,bt[yt+4*pt+2]=bt[yt+4*pt+2]*Kt>>23)}z+=ft}}function ht(D,z,X,it,dt){for(;0<it--;){var ft;for(ft=0;ft<X;++ft){var pt=D[z+2*ft+0],bt=15&(Tt=D[z+2*ft+1]),yt=4369*bt,Tt=(240&Tt|Tt>>4)*yt>>16;D[z+2*ft+0]=(240&pt|pt>>4)*yt>>16&240|(15&pt|pt<<4)*yt>>16>>4&15,D[z+2*ft+1]=240&Tt|bt}z+=dt}}function It(D,z,X,it,dt,ft,pt,bt){var yt,Tt,Ht=255;for(Tt=0;Tt<dt;++Tt){for(yt=0;yt<it;++yt){var Kt=D[z+yt];ft[pt+4*yt]=Kt,Ht&=Kt}z+=X,pt+=bt}return Ht!=255}function Ft(D,z,X,it,dt){var ft;for(ft=0;ft<dt;++ft)X[it+ft]=D[z+ft]>>8}function $t(){nl=K,Nn=ht,Ln=It,Eo=Ft}function he(D,z,X){L[D]=function(it,dt,ft,pt,bt,yt,Tt,Ht,Kt,Xt,Wt,me,ce,Bt,Vt,ge,Ce){var ve,ei=Ce-1>>1,je=bt[yt+0]|Tt[Ht+0]<<16,Li=Kt[Xt+0]|Wt[me+0]<<16;t(it!=null);var He=3*je+Li+131074>>2;for(z(it[dt+0],255&He,He>>16,ce,Bt),ft!=null&&(He=3*Li+je+131074>>2,z(ft[pt+0],255&He,He>>16,Vt,ge)),ve=1;ve<=ei;++ve){var Kr=bt[yt+ve]|Tt[Ht+ve]<<16,an=Kt[Xt+ve]|Wt[me+ve]<<16,Yr=je+Kr+Li+an+524296,Pr=Yr+2*(Kr+Li)>>3;He=Pr+je>>1,je=(Yr=Yr+2*(je+an)>>3)+Kr>>1,z(it[dt+2*ve-1],255&He,He>>16,ce,Bt+(2*ve-1)*X),z(it[dt+2*ve-0],255&je,je>>16,ce,Bt+(2*ve-0)*X),ft!=null&&(He=Yr+Li>>1,je=Pr+an>>1,z(ft[pt+2*ve-1],255&He,He>>16,Vt,ge+(2*ve-1)*X),z(ft[pt+2*ve+0],255&je,je>>16,Vt,ge+(2*ve+0)*X)),je=Kr,Li=an}1&Ce||(He=3*je+Li+131074>>2,z(it[dt+Ce-1],255&He,He>>16,ce,Bt+(Ce-1)*X),ft!=null&&(He=3*Li+je+131074>>2,z(ft[pt+Ce-1],255&He,He>>16,Vt,ge+(Ce-1)*X)))}}function Re(){sl[Eb]=tO,sl[Rb]=Db,sl[fR]=eO,sl[Tb]=yR,sl[Mb]=_R,sl[xw]=wR,sl[Sw]=Tw,sl[Ab]=Db,sl[Ib]=yR,sl[ku]=_R,sl[vh]=wR}function $e(D){return D&~iO?0>D?0:255:D>>CR}function Mi(D,z){return $e((19077*D>>8)+(26149*z>>8)-14234)}function Qi(D,z,X){return $e((19077*D>>8)-(6419*z>>8)-(13320*X>>8)+8708)}function Ji(D,z){return $e((19077*D>>8)+(33050*z>>8)-17685)}function Or(D,z,X,it,dt){it[dt+0]=Mi(D,X),it[dt+1]=Qi(D,z,X),it[dt+2]=Ji(D,z)}function lo(D,z,X,it,dt){it[dt+0]=Ji(D,z),it[dt+1]=Qi(D,z,X),it[dt+2]=Mi(D,X)}function go(D,z,X,it,dt){var ft=Qi(D,z,X);z=ft<<3&224|Ji(D,z)>>3,it[dt+0]=248&Mi(D,X)|ft>>5,it[dt+1]=z}function Po(D,z,X,it,dt){var ft=240&Ji(D,z)|15;it[dt+0]=240&Mi(D,X)|Qi(D,z,X)>>4,it[dt+1]=ft}function Rs(D,z,X,it,dt){it[dt+0]=255,Or(D,z,X,it,dt+1)}function $o(D,z,X,it,dt){lo(D,z,X,it,dt),it[dt+3]=255}function Ol(D,z,X,it,dt){Or(D,z,X,it,dt),it[dt+3]=255}function ca(D,z){return 0>D?0:D>z?z:D}function Vr(D,z,X){L[D]=function(it,dt,ft,pt,bt,yt,Tt,Ht,Kt){for(var Xt=Ht+(-2&Kt)*X;Ht!=Xt;)z(it[dt+0],ft[pt+0],bt[yt+0],Tt,Ht),z(it[dt+1],ft[pt+0],bt[yt+0],Tt,Ht+X),dt+=2,++pt,++yt,Ht+=2*X;1&Kt&&z(it[dt+0],ft[pt+0],bt[yt+0],Tt,Ht)}}function wb(D,z,X){return X==0?D==0?z==0?6:5:z==0?4:0:X}function hg(D,z,X,it,dt){switch(D>>>30){case 3:hd(z,X,it,dt,0);break;case 2:bo(z,X,it,dt);break;case 1:Ks(z,X,it,dt)}}function Gf(D,z){var X,it,dt=z.M,ft=z.Nb,pt=D.oc,bt=D.pc+40,yt=D.oc,Tt=D.pc+584,Ht=D.oc,Kt=D.pc+600;for(X=0;16>X;++X)pt[bt+32*X-1]=129;for(X=0;8>X;++X)yt[Tt+32*X-1]=129,Ht[Kt+32*X-1]=129;for(0<dt?pt[bt-1-32]=yt[Tt-1-32]=Ht[Kt-1-32]=129:(n(pt,bt-32-1,127,21),n(yt,Tt-32-1,127,9),n(Ht,Kt-32-1,127,9)),it=0;it<D.za;++it){var Xt=z.ya[z.aa+it];if(0<it){for(X=-1;16>X;++X)i(pt,bt+32*X-4,pt,bt+32*X+12,4);for(X=-1;8>X;++X)i(yt,Tt+32*X-4,yt,Tt+32*X+4,4),i(Ht,Kt+32*X-4,Ht,Kt+32*X+4,4)}var Wt=D.Gd,me=D.Hd+it,ce=Xt.ad,Bt=Xt.Hc;if(0<dt&&(i(pt,bt-32,Wt[me].y,0,16),i(yt,Tt-32,Wt[me].f,0,8),i(Ht,Kt-32,Wt[me].ea,0,8)),Xt.Za){var Vt=pt,ge=bt-32+16;for(0<dt&&(it>=D.za-1?n(Vt,ge,Wt[me].y[15],4):i(Vt,ge,Wt[me+1].y,0,4)),X=0;4>X;X++)Vt[ge+128+X]=Vt[ge+256+X]=Vt[ge+384+X]=Vt[ge+0+X];for(X=0;16>X;++X,Bt<<=2)Vt=pt,ge=bt+RR[X],Pl[Xt.Ob[X]](Vt,ge),hg(Bt,ce,16*+X,Vt,ge)}else if(Vt=wb(it,dt,Xt.Ob[0]),yh[Vt](pt,bt),Bt!=0)for(X=0;16>X;++X,Bt<<=2)hg(Bt,ce,16*+X,pt,bt+RR[X]);for(X=Xt.Gc,Vt=wb(it,dt,Xt.Dd),fd[Vt](yt,Tt),fd[Vt](Ht,Kt),Bt=ce,Vt=yt,ge=Tt,255&(Xt=X>>0)&&(170&Xt?mg(Bt,256,Vt,ge):vo(Bt,256,Vt,ge)),Xt=Ht,Bt=Kt,255&(X>>=8)&&(170&X?mg(ce,320,Xt,Bt):vo(ce,320,Xt,Bt)),dt<D.Ub-1&&(i(Wt[me].y,0,pt,bt+480,16),i(Wt[me].f,0,yt,Tt+224,8),i(Wt[me].ea,0,Ht,Kt+224,8)),X=8*ft*D.B,Wt=D.sa,me=D.ta+16*it+16*ft*D.R,ce=D.qa,Xt=D.ra+8*it+X,Bt=D.Ha,Vt=D.Ia+8*it+X,X=0;16>X;++X)i(Wt,me+X*D.R,pt,bt+32*X,16);for(X=0;8>X;++X)i(ce,Xt+X*D.B,yt,Tt+32*X,8),i(Bt,Vt+X*D.B,Ht,Kt+32*X,8)}}function Kf(D,z,X,it,dt,ft,pt,bt,yt){var Tt=[0],Ht=[0],Kt=0,Xt=yt!=null?yt.kd:0,Wt=yt??new lg;if(D==null||12>X)return 7;Wt.data=D,Wt.w=z,Wt.ha=X,z=[z],X=[X],Wt.gb=[Wt.gb];t:{var me=z,ce=X,Bt=Wt.gb;if(t(D!=null),t(ce!=null),t(Bt!=null),Bt[0]=0,12<=ce[0]&&!r(D,me[0],"RIFF")){if(r(D,me[0]+8,"WEBP")){Bt=3;break t}var Vt=Ct(D,me[0]+4);if(12>Vt||4294967286<Vt){Bt=3;break t}if(Xt&&Vt>ce[0]-8){Bt=7;break t}Bt[0]=Vt,me[0]+=12,ce[0]-=12}Bt=0}if(Bt!=0)return Bt;for(Vt=0<Wt.gb[0],X=X[0];;){t:{var ge=D;ce=z,Bt=X;var Ce=Tt,ve=Ht,ei=me=[0];if((He=Kt=[Kt])[0]=0,8>Bt[0])Bt=7;else{if(!r(ge,ce[0],"VP8X")){if(Ct(ge,ce[0]+4)!=10){Bt=3;break t}if(18>Bt[0]){Bt=7;break t}var je=Ct(ge,ce[0]+8),Li=1+nt(ge,ce[0]+12);if(2147483648<=Li*(ge=1+nt(ge,ce[0]+15))){Bt=3;break t}ei!=null&&(ei[0]=je),Ce!=null&&(Ce[0]=Li),ve!=null&&(ve[0]=ge),ce[0]+=18,Bt[0]-=18,He[0]=1}Bt=0}}if(Kt=Kt[0],me=me[0],Bt!=0)return Bt;if(ce=!!(2&me),!Vt&&Kt)return 3;if(ft!=null&&(ft[0]=!!(16&me)),pt!=null&&(pt[0]=ce),bt!=null&&(bt[0]=0),pt=Tt[0],me=Ht[0],Kt&&ce&&yt==null){Bt=0;break}if(4>X){Bt=7;break}if(Vt&&Kt||!Vt&&!Kt&&!r(D,z[0],"ALPH")){X=[X],Wt.na=[Wt.na],Wt.P=[Wt.P],Wt.Sa=[Wt.Sa];t:{je=D,Bt=z,Vt=X;var He=Wt.gb;Ce=Wt.na,ve=Wt.P,ei=Wt.Sa,Li=22,t(je!=null),t(Vt!=null),ge=Bt[0];var Kr=Vt[0];for(t(Ce!=null),t(ei!=null),Ce[0]=null,ve[0]=null,ei[0]=0;;){if(Bt[0]=ge,Vt[0]=Kr,8>Kr){Bt=7;break t}var an=Ct(je,ge+4);if(4294967286<an){Bt=3;break t}var Yr=8+an+1&-2;if(Li+=Yr,0<He&&Li>He){Bt=3;break t}if(!r(je,ge,"VP8 ")||!r(je,ge,"VP8L")){Bt=0;break t}if(Kr[0]<Yr){Bt=7;break t}r(je,ge,"ALPH")||(Ce[0]=je,ve[0]=ge+8,ei[0]=an),ge+=Yr,Kr-=Yr}}if(X=X[0],Wt.na=Wt.na[0],Wt.P=Wt.P[0],Wt.Sa=Wt.Sa[0],Bt!=0)break}X=[X],Wt.Ja=[Wt.Ja],Wt.xa=[Wt.xa];t:if(He=D,Bt=z,Vt=X,Ce=Wt.gb[0],ve=Wt.Ja,ei=Wt.xa,je=Bt[0],ge=!r(He,je,"VP8 "),Li=!r(He,je,"VP8L"),t(He!=null),t(Vt!=null),t(ve!=null),t(ei!=null),8>Vt[0])Bt=7;else{if(ge||Li){if(He=Ct(He,je+4),12<=Ce&&He>Ce-12){Bt=3;break t}if(Xt&&He>Vt[0]-8){Bt=7;break t}ve[0]=He,Bt[0]+=8,Vt[0]-=8,ei[0]=Li}else ei[0]=5<=Vt[0]&&He[je+0]==47&&!(He[je+4]>>5),ve[0]=Vt[0];Bt=0}if(X=X[0],Wt.Ja=Wt.Ja[0],Wt.xa=Wt.xa[0],z=z[0],Bt!=0)break;if(4294967286<Wt.Ja)return 3;if(bt==null||ce||(bt[0]=Wt.xa?2:1),pt=[pt],me=[me],Wt.xa){if(5>X){Bt=7;break}bt=pt,Xt=me,ce=ft,D==null||5>X?D=0:5<=X&&D[z+0]==47&&!(D[z+4]>>5)?(Vt=[0],He=[0],Ce=[0],S(ve=new T,D,z,X),ue(ve,Vt,He,Ce)?(bt!=null&&(bt[0]=Vt[0]),Xt!=null&&(Xt[0]=He[0]),ce!=null&&(ce[0]=Ce[0]),D=1):D=0):D=0}else{if(10>X){Bt=7;break}bt=me,D==null||10>X||!kr(D,z+3,X-3)?D=0:(Xt=D[z+0]|D[z+1]<<8|D[z+2]<<16,ce=16383&(D[z+7]<<8|D[z+6]),D=16383&(D[z+9]<<8|D[z+8]),1&Xt||3<(Xt>>1&7)||!(Xt>>4&1)||Xt>>5>=Wt.Ja||!ce||!D?D=0:(pt&&(pt[0]=ce),bt&&(bt[0]=D),D=1))}if(!D||(pt=pt[0],me=me[0],Kt&&(Tt[0]!=pt||Ht[0]!=me)))return 3;yt!=null&&(yt[0]=Wt,yt.offset=z-yt.w,t(4294967286>z-yt.w),t(yt.offset==yt.ha-X));break}return Bt==0||Bt==7&&Kt&&yt==null?(ft!=null&&(ft[0]|=Wt.na!=null&&0<Wt.na.length),it!=null&&(it[0]=pt),dt!=null&&(dt[0]=me),0):Bt}function ug(D,z,X){var it=z.width,dt=z.height,ft=0,pt=0,bt=it,yt=dt;if(z.Da=D!=null&&0<D.Da,z.Da&&(bt=D.cd,yt=D.bd,ft=D.v,pt=D.j,11>X||(ft&=-2,pt&=-2),0>ft||0>pt||0>=bt||0>=yt||ft+bt>it||pt+yt>dt))return 0;if(z.v=ft,z.j=pt,z.va=ft+bt,z.o=pt+yt,z.U=bt,z.T=yt,z.da=D!=null&&0<D.da,z.da){if(!_t(bt,yt,X=[D.ib],ft=[D.hb]))return 0;z.ib=X[0],z.hb=ft[0]}return z.ob=D!=null&&D.ob,z.Kb=D==null||!D.Sd,z.da&&(z.ob=z.ib<3*it/4&&z.hb<3*dt/4,z.Kb=0),1}function fg(D){if(D==null)return 2;if(11>D.S){var z=D.f.RGBA;z.fb+=(D.height-1)*z.A,z.A=-z.A}else z=D.f.kb,D=D.height,z.O+=(D-1)*z.fa,z.fa=-z.fa,z.N+=(D-1>>1)*z.Ab,z.Ab=-z.Ab,z.W+=(D-1>>1)*z.Db,z.Db=-z.Db,z.F!=null&&(z.J+=(D-1)*z.lb,z.lb=-z.lb);return 0}function mc(D,z,X,it){if(it==null||0>=D||0>=z)return 2;if(X!=null){if(X.Da){var dt=X.cd,ft=X.bd,pt=-2&X.v,bt=-2&X.j;if(0>pt||0>bt||0>=dt||0>=ft||pt+dt>D||bt+ft>z)return 2;D=dt,z=ft}if(X.da){if(!_t(D,z,dt=[X.ib],ft=[X.hb]))return 2;D=dt[0],z=ft[0]}}it.width=D,it.height=z;t:{var yt=it.width,Tt=it.height;if(D=it.S,0>=yt||0>=Tt||!(D>=Eb&&13>D))D=2;else{if(0>=it.Rd&&it.sd==null){pt=ft=dt=z=0;var Ht=(bt=yt*MR[D])*Tt;if(11>D||(ft=(Tt+1)/2*(z=(yt+1)/2),D==12&&(pt=(dt=yt)*Tt)),(Tt=o(Ht+2*ft+pt))==null){D=1;break t}it.sd=Tt,11>D?((yt=it.f.RGBA).eb=Tt,yt.fb=0,yt.A=bt,yt.size=Ht):((yt=it.f.kb).y=Tt,yt.O=0,yt.fa=bt,yt.Fd=Ht,yt.f=Tt,yt.N=0+Ht,yt.Ab=z,yt.Cd=ft,yt.ea=Tt,yt.W=0+Ht+ft,yt.Db=z,yt.Ed=ft,D==12&&(yt.F=Tt,yt.J=0+Ht+2*ft),yt.Tc=pt,yt.lb=dt)}if(z=1,dt=it.S,ft=it.width,pt=it.height,dt>=Eb&&13>dt)if(11>dt)D=it.f.RGBA,z&=(bt=Math.abs(D.A))*(pt-1)+ft<=D.size,z&=bt>=ft*MR[dt],z&=D.eb!=null;else{D=it.f.kb,bt=(ft+1)/2,Ht=(pt+1)/2,yt=Math.abs(D.fa),Tt=Math.abs(D.Ab);var Kt=Math.abs(D.Db),Xt=Math.abs(D.lb),Wt=Xt*(pt-1)+ft;z&=yt*(pt-1)+ft<=D.Fd,z&=Tt*(Ht-1)+bt<=D.Cd,z=(z&=Kt*(Ht-1)+bt<=D.Ed)&yt>=ft&Tt>=bt&Kt>=bt,z&=D.y!=null,z&=D.f!=null,z&=D.ea!=null,dt==12&&(z&=Xt>=ft,z&=Wt<=D.Tc,z&=D.F!=null)}else z=0;D=z?0:2}}return D!=0||X!=null&&X.fd&&(D=fg(it)),D}var ms=64,Xf=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Zf=24,ld=32,dh=8,Ts=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];lt("Predictor0","PredictorAdd0"),L.Predictor0=function(){return 4278190080},L.Predictor1=function(D){return D},L.Predictor2=function(D,z,X){return z[X+0]},L.Predictor3=function(D,z,X){return z[X+1]},L.Predictor4=function(D,z,X){return z[X-1]},L.Predictor5=function(D,z,X){return mt(mt(D,z[X+1]),z[X+0])},L.Predictor6=function(D,z,X){return mt(D,z[X-1])},L.Predictor7=function(D,z,X){return mt(D,z[X+0])},L.Predictor8=function(D,z,X){return mt(z[X-1],z[X+0])},L.Predictor9=function(D,z,X){return mt(z[X+0],z[X+1])},L.Predictor10=function(D,z,X){return mt(mt(D,z[X-1]),mt(z[X+0],z[X+1]))},L.Predictor11=function(D,z,X){var it=z[X+0];return 0>=Rt(it>>24&255,D>>24&255,(z=z[X-1])>>24&255)+Rt(it>>16&255,D>>16&255,z>>16&255)+Rt(it>>8&255,D>>8&255,z>>8&255)+Rt(255&it,255&D,255&z)?it:D},L.Predictor12=function(D,z,X){var it=z[X+0];return(wt((D>>24&255)+(it>>24&255)-((z=z[X-1])>>24&255))<<24|wt((D>>16&255)+(it>>16&255)-(z>>16&255))<<16|wt((D>>8&255)+(it>>8&255)-(z>>8&255))<<8|wt((255&D)+(255&it)-(255&z)))>>>0},L.Predictor13=function(D,z,X){var it=z[X-1];return(vt((D=mt(D,z[X+0]))>>24&255,it>>24&255)<<24|vt(D>>16&255,it>>16&255)<<16|vt(D>>8&255,it>>8&255)<<8|vt(D>>0&255,it>>0&255))>>>0};var ww=L.PredictorAdd0;L.PredictorAdd1=Mt,lt("Predictor2","PredictorAdd2"),lt("Predictor3","PredictorAdd3"),lt("Predictor4","PredictorAdd4"),lt("Predictor5","PredictorAdd5"),lt("Predictor6","PredictorAdd6"),lt("Predictor7","PredictorAdd7"),lt("Predictor8","PredictorAdd8"),lt("Predictor9","PredictorAdd9"),lt("Predictor10","PredictorAdd10"),lt("Predictor11","PredictorAdd11"),lt("Predictor12","PredictorAdd12"),lt("Predictor13","PredictorAdd13");var Qf=L.PredictorAdd2;Yt("ColorIndexInverseTransform","MapARGB","32b",function(D){return D>>8&255},function(D){return D}),Yt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(D){return D},function(D){return D>>8&255});var Cb,da=L.ColorIndexInverseTransform,hh=L.MapARGB,Jf=L.VP8LColorIndexInverseTransformAlpha,xb=L.MapAlpha,uh=L.VP8LPredictorsAdd=[];uh.length=16,(L.VP8LPredictors=[]).length=16,(L.VP8LPredictorsAdd_C=[]).length=16,(L.VP8LPredictors_C=[]).length=16;var Ru,ha,Gs,fh,cd,dd,tm,hd,bo,mg,Ks,vo,il,pg,gg,mh,ph,gh,Tu,Mu,Au,bh,bg,rl,nl,Nn,Ln,Eo,qo=o(511),ud=o(2041),vg=o(225),em=o(767),Sb=0,Cw=ud,Iu=vg,Ha=em,ol=qo,Eb=0,Rb=1,fR=2,Tb=3,Mb=4,xw=5,Sw=6,Ab=7,Ib=8,ku=9,vh=10,kb=[2,3,7],mR=[3,3,11],Du=[280,256,256,256,40],pR=[0,1,1,1,0],gR=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],WD=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],YD=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],$D=8,Ew=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Rw=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],yg=null,qD=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],GD=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],bR=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],KD=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],XD=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ZD=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],QD=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],yh=[],Pl=[],fd=[],JD=1,vR=2,_h=[],sl=[];he("UpsampleRgbLinePair",Or,3),he("UpsampleBgrLinePair",lo,3),he("UpsampleRgbaLinePair",Ol,4),he("UpsampleBgraLinePair",$o,4),he("UpsampleArgbLinePair",Rs,4),he("UpsampleRgba4444LinePair",Po,2),he("UpsampleRgb565LinePair",go,2);var tO=L.UpsampleRgbLinePair,eO=L.UpsampleBgrLinePair,Db=L.UpsampleRgbaLinePair,yR=L.UpsampleBgraLinePair,_R=L.UpsampleArgbLinePair,wR=L.UpsampleRgba4444LinePair,Tw=L.UpsampleRgb565LinePair,Ou=16,Ob=1<<Ou-1,_g=-227,Mw=482,CR=6,iO=(256<<CR)-1,xR=0,SR=o(256),rO=o(256),nO=o(256),ER=o(256),oO=o(Mw-_g),sO=o(Mw-_g);Vr("YuvToRgbRow",Or,3),Vr("YuvToBgrRow",lo,3),Vr("YuvToRgbaRow",Ol,4),Vr("YuvToBgraRow",$o,4),Vr("YuvToArgbRow",Rs,4),Vr("YuvToRgba4444Row",Po,2),Vr("YuvToRgb565Row",go,2);var RR=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Nl=[0,2,8],TR=[8,7,6,4,4,2,2,2,1,1,1,1],aO=1;this.WebPDecodeRGBA=function(D,z,X,it,dt){var ft=Rb,pt=new ah,bt=new ti;pt.ba=bt,bt.S=ft,bt.width=[bt.width],bt.height=[bt.height];var yt=bt.width,Tt=bt.height,Ht=new hi;if(Ht==null||D==null)var Kt=2;else t(Ht!=null),Kt=Kf(D,z,X,Ht.width,Ht.height,Ht.Pd,Ht.Qd,Ht.format,null);if(Kt!=0?yt=0:(yt!=null&&(yt[0]=Ht.width[0]),Tt!=null&&(Tt[0]=Ht.height[0]),yt=1),yt){bt.width=bt.width[0],bt.height=bt.height[0],it!=null&&(it[0]=bt.width),dt!=null&&(dt[0]=bt.height);t:{if(it=new Ni,(dt=new lg).data=D,dt.w=z,dt.ha=X,dt.kd=1,z=[0],t(dt!=null),((D=Kf(dt.data,dt.w,dt.ha,null,null,null,z,null,dt))==0||D==7)&&z[0]&&(D=4),(z=D)==0){if(t(pt!=null),it.data=dt.data,it.w=dt.w+dt.offset,it.ha=dt.ha-dt.offset,it.put=Te,it.ac=We,it.bc=Jn,it.ma=pt,dt.xa){if((D=Ti())==null){pt=1;break t}if(function(Xt,Wt){var me=[0],ce=[0],Bt=[0];e:for(;;){if(Xt==null)return 0;if(Wt==null)return Xt.a=2,0;if(Xt.l=Wt,Xt.a=0,S(Xt.m,Wt.data,Wt.w,Wt.ha),!ue(Xt.m,me,ce,Bt)){Xt.a=3;break e}if(Xt.xb=vR,Wt.width=me[0],Wt.height=ce[0],!br(me[0],ce[0],1,Xt,null))break e;return 1}return t(Xt.a!=0),0}(D,it)){if(it=(z=mc(it.width,it.height,pt.Oa,pt.ba))==0){e:{it=D;i:for(;;){if(it==null){it=0;break e}if(t(it.s.yc!=null),t(it.s.Ya!=null),t(0<it.s.Wb),t((X=it.l)!=null),t((dt=X.ma)!=null),it.xb!=0){if(it.ca=dt.ba,it.tb=dt.tb,t(it.ca!=null),!ug(dt.Oa,X,Tb)){it.a=2;break i}if(!rn(it,X.width)||X.da)break i;if((X.da||Ae(it.ca.S))&&$t(),11>it.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),it.ca.f.kb.F!=null&&$t()),it.Pb&&0<it.s.ua&&it.s.vb.X==null&&!xt(it.s.vb,it.s.Wa.Xa)){it.a=1;break i}it.xb=0}if(!ar(it,it.V,it.Ba,it.c,it.i,X.o,De))break i;dt.Dc=it.Ma,it=1;break e}t(it.a!=0),it=0}it=!it}it&&(z=D.a)}else z=D.a}else{if((D=new Pn)==null){pt=1;break t}if(D.Fa=dt.na,D.P=dt.P,D.qc=dt.Sa,jr(D,it)){if((z=mc(it.width,it.height,pt.Oa,pt.ba))==0){if(D.Aa=0,X=pt.Oa,t((dt=D)!=null),X!=null){if(0<(yt=0>(yt=X.Md)?0:100<yt?255:255*yt/100)){for(Tt=Ht=0;4>Tt;++Tt)12>(Kt=dt.pb[Tt]).lc&&(Kt.ia=yt*TR[0>Kt.lc?0:Kt.lc]>>3),Ht|=Kt.ia;Ht&&(alert("todo:VP8InitRandom"),dt.ia=1)}dt.Ga=X.Id,100<dt.Ga?dt.Ga=100:0>dt.Ga&&(dt.Ga=0)}xs(D,it)||(z=D.a)}}else z=D.a}z==0&&pt.Oa!=null&&pt.Oa.fd&&(z=fg(pt.ba))}pt=z}ft=pt!=0?null:11>ft?bt.f.RGBA.eb:bt.f.kb.y}else ft=null;return ft};var MR=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(L,q){for(var W="",x=0;x<4;x++)W+=String.fromCharCode(L[q++]);return W}function d(L,q){return(L[q+0]<<0|L[q+1]<<8|L[q+2]<<16)>>>0}function h(L,q){return(L[q+0]<<0|L[q+1]<<8|L[q+2]<<16|L[q+3]<<24)>>>0}new l;var u=[0],f=[0],m=[],g=new l,p=e,b=function(L,q){var W={},x=0,R=!1,j=0,v=0;if(W.frames=[],!function(B,I,$,A){for(var k=0;k<A;k++)if(B[I+k]!=$.charCodeAt(k))return!0;return!1}(L,q,"RIFF",4)){var y,C;for(h(L,q+=4),q+=8;q<L.length;){var w=c(L,q),S=h(L,q+=4);q+=4;var M=S+(1&S);switch(w){case"VP8 ":case"VP8L":W.frames[x]===void 0&&(W.frames[x]={}),(T=W.frames[x]).src_off=R?v:q-8,T.src_size=j+S+8,x++,R&&(R=!1,j=0,v=0);break;case"VP8X":(T=W.header={}).feature_flags=L[q];var U=q+4;T.canvas_width=1+d(L,U),U+=3,T.canvas_height=1+d(L,U),U+=3;break;case"ALPH":R=!0,j=M+8,v=q-8;break;case"ANIM":(T=W.header).bgcolor=h(L,q),U=q+4,T.loop_count=(y=L)[(C=U)+0]<<0|y[C+1]<<8,U+=2;break;case"ANMF":var N,T;(T=W.frames[x]={}).offset_x=2*d(L,q),q+=3,T.offset_y=2*d(L,q),q+=3,T.width=1+d(L,q),q+=3,T.height=1+d(L,q),q+=3,T.duration=d(L,q),q+=3,N=L[q++],T.dispose=1&N,T.blend=N>>1&1}w!="ANMF"&&(q+=M)}return W}}(p,0);b.response=p,b.rgbaoutput=!0,b.dataurl=!1;var _=b.header?b.header:null,E=b.frames?b.frames:null;if(_){_.loop_counter=_.loop_count,u=[_.canvas_height],f=[_.canvas_width];for(var O=0;O<E.length&&E[O].blend!=0;O++);}var V=E[0],H=g.WebPDecodeRGBA(p,V.src_off,V.src_size,f,u);V.rgba=H,V.imgwidth=f[0],V.imgheight=u[0];for(var F=0;F<f[0]*u[0]*4;F++)m[F]=H[F];return this.width=f,this.height=u,this.data=m,this}(function(e){var t=function(){return typeof kD=="function"},r=function(u,f,m,g){var p=4,b=s;switch(g){case e.image_compression.FAST:p=1,b=o;break;case e.image_compression.MEDIUM:p=6,b=a;break;case e.image_compression.SLOW:p=9,b=l}u=i(u,f,m,b);var _=kD(u,{level:p});return e.__addimage__.arrayBufferToBinaryString(_)},i=function(u,f,m,g){for(var p,b,_,E=u.length/f,O=new Uint8Array(u.length+E),V=d(),H=0;H<E;H+=1){if(_=H*f,p=u.subarray(_,_+f),g)O.set(g(p,m,b),_+H);else{for(var F,L=V.length,q=[];F<L;F+=1)q[F]=V[F](p,m,b);var W=h(q.concat());O.set(q[W],_+H)}b=p}return O},n=function(u){var f=Array.apply([],u);return f.unshift(0),f},o=function(u,f){var m,g=[],p=u.length;g[0]=1;for(var b=0;b<p;b+=1)m=u[b-f]||0,g[b+1]=u[b]-m+256&255;return g},s=function(u,f,m){var g,p=[],b=u.length;p[0]=2;for(var _=0;_<b;_+=1)g=m&&m[_]||0,p[_+1]=u[_]-g+256&255;return p},a=function(u,f,m){var g,p,b=[],_=u.length;b[0]=3;for(var E=0;E<_;E+=1)g=u[E-f]||0,p=m&&m[E]||0,b[E+1]=u[E]+256-(g+p>>>1)&255;return b},l=function(u,f,m){var g,p,b,_,E=[],O=u.length;E[0]=4;for(var V=0;V<O;V+=1)g=u[V-f]||0,p=m&&m[V]||0,b=m&&m[V-f]||0,_=c(g,p,b),E[V+1]=u[V]-_+256&255;return E},c=function(u,f,m){if(u===f&&f===m)return u;var g=Math.abs(f-m),p=Math.abs(u-m),b=Math.abs(u+f-m-m);return g<=p&&g<=b?u:p<=b?f:m},d=function(){return[n,o,s,a,l]},h=function(u){var f=u.map(function(m){return m.reduce(function(g,p){return g+Math.abs(p)},0)});return f.indexOf(Math.min.apply(null,f))};e.processPNG=function(u,f,m,g){var p,b,_,E,O,V,H,F,L,q,W,x,R,j,v,y=this.decode.FLATE_DECODE,C="";if(this.__addimage__.isArrayBuffer(u)&&(u=new Uint8Array(u)),this.__addimage__.isArrayBufferView(u)){if(u=(_=new PPt(u)).imgData,b=_.bits,p=_.colorSpace,O=_.colors,[4,6].indexOf(_.colorType)!==-1){if(_.bits===8){L=(F=_.pixelBitlength==32?new Uint32Array(_.decodePixels().buffer):_.pixelBitlength==16?new Uint16Array(_.decodePixels().buffer):new Uint8Array(_.decodePixels().buffer)).length,W=new Uint8Array(L*_.colors),q=new Uint8Array(L);var w,S=_.pixelBitlength-_.bits;for(j=0,v=0;j<L;j++){for(R=F[j],w=0;w<S;)W[v++]=R>>>w&255,w+=_.bits;q[j]=R>>>w&255}}if(_.bits===16){L=(F=new Uint32Array(_.decodePixels().buffer)).length,W=new Uint8Array(L*(32/_.pixelBitlength)*_.colors),q=new Uint8Array(L*(32/_.pixelBitlength)),x=_.colors>1,j=0,v=0;for(var M=0;j<L;)R=F[j++],W[v++]=R>>>0&255,x&&(W[v++]=R>>>16&255,R=F[j++],W[v++]=R>>>0&255),q[M++]=R>>>16&255;b=8}g!==e.image_compression.NONE&&t()?(u=r(W,_.width*_.colors,_.colors,g),H=r(q,_.width,1,g)):(u=W,H=q,y=void 0)}if(_.colorType===3&&(p=this.color_spaces.INDEXED,V=_.palette,_.transparency.indexed)){var U=_.transparency.indexed,N=0;for(j=0,L=U.length;j<L;++j)N+=U[j];if((N/=255)===L-1&&U.indexOf(0)!==-1)E=[U.indexOf(0)];else if(N!==L){for(F=_.decodePixels(),q=new Uint8Array(F.length),j=0,L=F.length;j<L;j++)q[j]=U[F[j]];H=r(q,_.width,1)}}var T=function(B){var I;switch(B){case e.image_compression.FAST:I=11;break;case e.image_compression.MEDIUM:I=13;break;case e.image_compression.SLOW:I=14;break;default:I=12}return I}(g);return y===this.decode.FLATE_DECODE&&(C="/Predictor "+T+" "),C+="/Colors "+O+" /BitsPerComponent "+b+" /Columns "+_.width,(this.__addimage__.isArrayBuffer(u)||this.__addimage__.isArrayBufferView(u))&&(u=this.__addimage__.arrayBufferToBinaryString(u)),(H&&this.__addimage__.isArrayBuffer(H)||this.__addimage__.isArrayBufferView(H))&&(H=this.__addimage__.arrayBufferToBinaryString(H)),{alias:m,data:u,index:f,filter:y,decodeParameters:C,transparency:E,palette:V,sMask:H,predictor:T,width:_.width,height:_.height,bitsPerComponent:b,colorSpace:p}}}})($i.API),function(e){e.processGIF89A=function(t,r,i,n){var o=new NPt(t),s=o.width,a=o.height,l=[];o.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:a},d=new cH(100).encode(c,100);return e.processJPEG.call(this,d,r,i,n)},e.processGIF87A=e.processGIF89A}($i.API),Qd.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:n,green:i,blue:r,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Qd.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Qn.log("bit decode error:"+r)}},Qd.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,n=0;n<t;n++)for(var o=this.datav.getUint8(this.pos++,!0),s=i*this.width*4+8*n*4,a=0;a<8&&8*n+a<this.width;a++){var l=this.palette[o>>7-a&1];this.data[s+4*a]=l.blue,this.data[s+4*a+1]=l.green,this.data[s+4*a+2]=l.red,this.data[s+4*a+3]=255}r!==0&&(this.pos+=4-r)}},Qd.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,n=0;n<e;n++){var o=this.datav.getUint8(this.pos++,!0),s=i*this.width*4+2*n*4,a=o>>4,l=15&o,c=this.palette[a];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*n+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}t!==0&&(this.pos+=4-t)}},Qd.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var n=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+4*i;if(n<this.palette.length){var s=this.palette[n];this.data[o]=s.red,this.data[o+1]=s.green,this.data[o+2]=s.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}e!==0&&(this.pos+=4-e)}},Qd.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,n=0;n<this.width;n++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&t)/t*255|0,a=(o>>5&t)/t*255|0,l=(o>>10&t)/t*255|0,c=o>>15?255:0,d=i*this.width*4+4*n;this.data[d]=l,this.data[d+1]=a,this.data[d+2]=s,this.data[d+3]=c}this.pos+=e}},Qd.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var n=this.bottom_up?i:this.height-1-i,o=0;o<this.width;o++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&t)/t*255|0,l=(s>>5&r)/r*255|0,c=(s>>11)/t*255|0,d=n*this.width*4+4*o;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=a,this.data[d+3]=255}this.pos+=e}},Qd.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;this.data[s]=o,this.data[s+1]=n,this.data[s+2]=i,this.data[s+3]=255}this.pos+=this.width%4}},Qd.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*r;this.data[a]=o,this.data[a+1]=n,this.data[a+2]=i,this.data[a+3]=s}},Qd.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,i,n){var o=new Qd(t,!1),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},c=new cH(100).encode(l,100);return e.processJPEG.call(this,c,r,i,n)}}($i.API),Not.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,i,n){var o=new Not(t,!1),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},c=new cH(100).encode(l,100);return e.processJPEG.call(this,c,r,i,n)}}($i.API),$i.API.processRGBA=function(e,t,r){for(var i=e.data,n=i.length,o=new Uint8Array(n/4*3),s=new Uint8Array(n/4),a=0,l=0,c=0;c<n;c+=4){var d=i[c],h=i[c+1],u=i[c+2],f=i[c+3];o[a++]=d,o[a++]=h,o[a++]=u,s[l++]=f}var m=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:m,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},$i.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},lw=$i.API,ND=lw.getCharWidthsArray=function(e,t){var r,i,n=(t=t||{}).font||this.internal.getFont(),o=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),a=t.widths?t.widths:n.metadata.Unicode.widths,l=a.fof?a.fof:1,c=t.kerning?t.kerning:n.metadata.Unicode.kerning,d=c.fof?c.fof:1,h=t.doKerning!==!1,u=0,f=e.length,m=0,g=a[0]||l,p=[];for(r=0;r<f;r++)i=e.charCodeAt(r),typeof n.metadata.widthOfString=="function"?p.push((n.metadata.widthOfGlyph(n.metadata.characterToGlyph(i))+s*(1e3/o)||0)/1e3):(u=h&&Hn(c[i])==="object"&&!isNaN(parseInt(c[i][m],10))?c[i][m]/d:0,p.push((a[i]||g)/l+u)),m=i;return p},kot=lw.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),i=t.font||this.internal.getFont(),n=t.charSpace||this.internal.getCharSpace();return lw.processArabic&&(e=lw.processArabic(e)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(e,r,n)/r:ND.apply(this,arguments).reduce(function(o,s){return o+s},0)},Dot=function(e,t,r,i){for(var n=[],o=0,s=e.length,a=0;o!==s&&a+t[o]<r;)a+=t[o],o++;n.push(e.slice(0,o));var l=o;for(a=0;o!==s;)a+t[o]>i&&(n.push(e.slice(l,o)),a=0,l=o),a+=t[o],o++;return l!==o&&n.push(e.slice(l,o)),n},Oot=function(e,t,r){r||(r={});var i,n,o,s,a,l,c,d=[],h=[d],u=r.textIndent||0,f=0,m=0,g=e.split(" "),p=ND.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?g[0].length+2:r.lineIndent||0){var b=Array(l).join(" "),_=[];g.map(function(O){(O=O.split(/\s*\n/)).length>1?_=_.concat(O.map(function(V,H){return(H&&V.length?`
`:"")+V})):_.push(O[0])}),g=_,l=kot.apply(this,[b,r])}for(o=0,s=g.length;o<s;o++){var E=0;if(i=g[o],l&&i[0]==`
`&&(i=i.substr(1),E=1),u+f+(m=(n=ND.apply(this,[i,r])).reduce(function(O,V){return O+V},0))>t||E){if(m>t){for(a=Dot.apply(this,[i,n,t-(u+f),t]),d.push(a.shift()),d=[a.pop()];a.length;)h.push([a.shift()]);m=n.slice(i.length-(d[0]?d[0].length:0)).reduce(function(O,V){return O+V},0)}else d=[i];h.push(d),u=m+l,f=p}else d.push(i),u+=f+m,f=p}return c=l?function(O,V){return(V?b:"")+O.join(" ")}:function(O){return O.join(" ")},h.map(c)},lw.splitTextToSize=function(e,t,r){var i,n=(r=r||{}).fontSize||this.internal.getFontSize(),o=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var h=this.internal.getFont(d.fontName,d.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);i=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/n;o.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/n:0,o.lineIndent=r.lineIndent;var a,l,c=[];for(a=0,l=i.length;a<l;a++)c=c.concat(Oot.apply(this,[i[a],s,o]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},i={},n=0;n<t.length;n++)r[t[n]]="0123456789abcdef"[n],i["0123456789abcdef"[n]]=t[n];var o=function(h){return"0x"+parseInt(h,10).toString(16)},s=e.__fontmetrics__.compress=function(h){var u,f,m,g,p=["{"];for(var b in h){if(u=h[b],isNaN(parseInt(b,10))?f="'"+b+"'":(b=parseInt(b,10),f=(f=o(b).slice(2)).slice(0,-1)+i[f.slice(-1)]),typeof u=="number")u<0?(m=o(u).slice(3),g="-"):(m=o(u).slice(2),g=""),m=g+m.slice(0,-1)+i[m.slice(-1)];else{if(Hn(u)!=="object")throw new Error("Don't know what to do with value type "+Hn(u)+".");m=s(u)}p.push(f+m)}return p.push("}"),p.join("")},a=e.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var u,f,m,g,p={},b=1,_=p,E=[],O="",V="",H=h.length-1,F=1;F<H;F+=1)(g=h[F])=="'"?u?(m=u.join(""),u=void 0):u=[]:u?u.push(g):g=="{"?(E.push([_,m]),_={},m=void 0):g=="}"?((f=E.pop())[0][f[1]]=_,m=void 0,_=f[0]):g=="-"?b=-1:m===void 0?r.hasOwnProperty(g)?(O+=r[g],m=parseInt(O,16)*b,b=1,O=""):O+=g:r.hasOwnProperty(g)?(V+=r[g],_[m]=parseInt(V,16)*b,b=1,m=void 0,V=""):V+=g;return p},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},d={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(h){var u=h.font,f=d.Unicode[u.postScriptName];f&&(u.metadata.Unicode={},u.metadata.Unicode.widths=f.widths,u.metadata.Unicode.kerning=f.kerning);var m=c.Unicode[u.postScriptName];m&&(u.metadata.Unicode.encoding=m,u.encoding=m.codePages[0])}])}($i.API),function(e){var t=function(r){for(var i=r.length,n=new Uint8Array(i),o=0;o<i;o++)n[o]=r.charCodeAt(o);return n};e.API.events.push(["addFont",function(r){var i=void 0,n=r.font,o=r.instance;if(!n.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");if(typeof(i=o.existsFileInVFS(n.postScriptName)===!1?o.loadFile(n.postScriptName):o.getFileFromVFS(n.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");(function(s,a){a=/^\x00\x01\x00\x00/.test(a)?t(a):t(dR(a)),s.metadata=e.API.TTFFont.open(a),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(n,i)}}])}($i),function(e){function t(){return(Xi.canvg?Promise.resolve(Xi.canvg):import("./chunk-6RJFFXAX.js")).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}$i.API.addSvgAsImage=function(r,i,n,o,s,a,l,c){if(isNaN(i)||isNaN(n))throw Qn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(o)||isNaN(s))throw Qn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=o,d.height=s;var h=d.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,d.width,d.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return t().then(function(m){return m.fromString(h,r,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(u)}).then(function(){f.addImage(d.toDataURL("image/jpeg",1),i,n,o,s,l,c)})}}(),$i.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var n=0;n<this.internal.pages[i].length;n++)this.internal.pages[i][n]=this.internal.pages[i][n].replace(t,r);return this},$i.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var i,n,o,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(s),l=[],c=0,d=0,h=0;function u(m,g){var p,b=!1;for(p=0;p<m.length;p+=1)m[p]===g&&(b=!0);return b}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var f=a.length;for(h=0;h<f;h+=1)r[a[h]].value=r[a[h]].defaultValue,r[a[h]].explicitSet=!1}if(Hn(e)==="object"){for(n in e)if(o=e[n],u(a,n)&&o!==void 0){if(r[n].type==="boolean"&&typeof o=="boolean")r[n].value=o;else if(r[n].type==="name"&&u(r[n].valueSet,o))r[n].value=o;else if(r[n].type==="integer"&&Number.isInteger(o))r[n].value=o;else if(r[n].type==="array"){for(c=0;c<o.length;c+=1)if(i=!0,o[c].length===1&&typeof o[c][0]=="number")l.push(String(o[c]-1));else if(o[c].length>1){for(d=0;d<o[c].length;d+=1)typeof o[c][d]!="number"&&(i=!1);i===!0&&l.push([o[c][0]-1,o[c][1]-1].join(" "))}r[n].value="["+l.join(" ")+"]"}else r[n].value=r[n].defaultValue;r[n].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var m,g=[];for(m in r)r[m].explicitSet===!0&&(r[m].type==="name"?g.push("/"+m+" /"+r[m].value):g.push("/"+m+" "+r[m].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',n=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(i)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=o.length+s.length+a.length+n.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(n+o+s+a+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(i,n){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:n||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}($i.API),function(e){var t=e.API,r=t.pdfEscape16=function(o,s){for(var a,l=s.metadata.Unicode.widths,c=["","0","00","000","0000"],d=[""],h=0,u=o.length;h<u;++h){if(a=s.metadata.characterToGlyph(o.charCodeAt(h)),s.metadata.glyIdsUsed.push(a),s.metadata.toUnicode[a]=o.charCodeAt(h),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(s.metadata.widthOfGlyph(a),10)])),a=="0")return d.join("");a=a.toString(16),d.push(c[4-a.length],a)}return d.join("")},i=function(o){var s,a,l,c,d,h,u;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],h=0,u=(a=Object.keys(o).sort(function(f,m){return f-m})).length;h<u;h++)s=a[h],l.length>=100&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),o[s]!==void 0&&o[s]!==null&&typeof o[s].toString=="function"&&(c=("0000"+o[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+c+">"));return l.length&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(o){(function(s){var a=s.font,l=s.out,c=s.newObject,d=s.putStream;if(a.metadata instanceof e.API.TTFFont&&a.encoding==="Identity-H"){for(var h=a.metadata.Unicode.widths,u=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),f="",m=0;m<u.length;m++)f+=String.fromCharCode(u[m]);var g=c();d({data:f,addLength1:!0,objectId:g}),l("endobj");var p=c();d({data:i(a.metadata.toUnicode),addLength1:!0,objectId:p}),l("endobj");var b=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+dw(a.fontName)),l("/FontFile2 "+g+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var _=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+dw(a.fontName)),l("/FontDescriptor "+b+" 0 R"),l("/W "+e.API.PDFObject.convert(h)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+p+" 0 R"),l("/BaseFont /"+dw(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+_+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(o)}]),t.events.push(["putFont",function(o){(function(s){var a=s.font,l=s.out,c=s.newObject,d=s.putStream;if(a.metadata instanceof e.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var h=a.metadata.rawData,u="",f=0;f<h.length;f++)u+=String.fromCharCode(h[f]);var m=c();d({data:u,addLength1:!0,objectId:m}),l("endobj");var g=c();d({data:i(a.metadata.toUnicode),addLength1:!0,objectId:g}),l("endobj");var p=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+m+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+dw(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var b=0;b<a.metadata.hmtx.widths.length;b++)a.metadata.hmtx.widths[b]=parseInt(a.metadata.hmtx.widths[b]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+dw(a.fontName)+"/FontDescriptor "+p+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(o)}]);var n=function(o){var s,a=o.text||"",l=o.x,c=o.y,d=o.options||{},h=o.mutex||{},u=h.pdfEscape,f=h.activeFontKey,m=h.fonts,g=f,p="",b=0,_="",E=m[g].encoding;if(m[g].encoding!=="Identity-H")return{text:a,x:l,y:c,options:d,mutex:h};for(_=a,g=f,Array.isArray(a)&&(_=a[0]),b=0;b<_.length;b+=1)m[g].metadata.hasOwnProperty("cmap")&&(s=m[g].metadata.cmap.unicode.codeMap[_[b].charCodeAt(0)]),s||_[b].charCodeAt(0)<256&&m[g].metadata.hasOwnProperty("Unicode")?p+=_[b]:p+="";var O="";return parseInt(g.slice(1))<14||E==="WinAnsiEncoding"?O=u(p,g).split("").map(function(V){return V.charCodeAt(0).toString(16)}).join(""):E==="Identity-H"&&(O=r(p,m[g])),h.isHex=!0,{text:O,x:l,y:c,options:d,mutex:h}};t.events.push(["postProcessText",function(o){var s=o.text||"",a=[],l={text:s,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&s[c].length===3?a.push([n(Object.assign({},l,{text:s[c][0]})).text,s[c][1],s[c][2]]):a.push(n(Object.assign({},l,{text:s[c]})).text);o.text=a}else o.text=n(Object.assign({},l,{text:s})).text}])}($i),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,i){return t.call(this),this.internal.vFS[r]=i,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}($i.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(i){var n,o,s,a,l,c,d,h=t,u=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],m={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},p=["(",")","(","<",">","<","[","]","[","{","}","{","\xAB","\xBB","\xAB","\u2039","\u203A","\u2039","\u2045","\u2046","\u2045","\u207D","\u207E","\u207D","\u208D","\u208E","\u208D","\u2264","\u2265","\u2264","\u2329","\u232A","\u2329","\uFE59","\uFE5A","\uFE59","\uFE5B","\uFE5C","\uFE5B","\uFE5D","\uFE5E","\uFE5D","\uFE64","\uFE65","\uFE64"],b=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),_=!1,E=0;this.__bidiEngine__={};var O=function(x){var R=x.charCodeAt(),j=R>>8,v=g[j];return v!==void 0?h[256*v+(255&R)]:j===252||j===253?"AL":b.test(j)?"L":j===8?"R":"N"},V=function(x){for(var R,j=0;j<x.length;j++){if((R=O(x.charAt(j)))==="L")return!1;if(R==="R")return!0}return!1},H=function(x,R,j,v){var y,C,w,S,M=R[v];switch(M){case"L":case"R":_=!1;break;case"N":case"AN":break;case"EN":_&&(M="AN");break;case"AL":_=!0,M="R";break;case"WS":M="N";break;case"CS":v<1||v+1>=R.length||(y=j[v-1])!=="EN"&&y!=="AN"||(C=R[v+1])!=="EN"&&C!=="AN"?M="N":_&&(C="AN"),M=C===y?C:"N";break;case"ES":M=(y=v>0?j[v-1]:"B")==="EN"&&v+1<R.length&&R[v+1]==="EN"?"EN":"N";break;case"ET":if(v>0&&j[v-1]==="EN"){M="EN";break}if(_){M="N";break}for(w=v+1,S=R.length;w<S&&R[w]==="ET";)w++;M=w<S&&R[w]==="EN"?"EN":"N";break;case"NSM":if(s&&!a){for(S=R.length,w=v+1;w<S&&R[w]==="NSM";)w++;if(w<S){var U=x[v],N=U>=1425&&U<=2303||U===64286;if(y=R[w],N&&(y==="R"||y==="AL")){M="R";break}}}M=v<1||(y=R[v-1])==="B"?"N":j[v-1];break;case"B":_=!1,n=!0,M=E;break;case"S":o=!0,M="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":_=!1;break;case"BN":M="N"}return M},F=function(x,R,j){var v=x.split("");return j&&L(v,j,{hiLevel:E}),v.reverse(),R&&R.reverse(),v.join("")},L=function(x,R,j){var v,y,C,w,S,M=-1,U=x.length,N=0,T=[],B=E?f:u,I=[];for(_=!1,n=!1,o=!1,y=0;y<U;y++)I[y]=O(x[y]);for(C=0;C<U;C++){if(S=N,T[C]=H(x,I,T,C),v=240&(N=B[S][m[T[C]]]),N&=15,R[C]=w=B[N][5],v>0)if(v===16){for(y=M;y<C;y++)R[y]=1;M=-1}else M=-1;if(B[N][6])M===-1&&(M=C);else if(M>-1){for(y=M;y<C;y++)R[y]=w;M=-1}I[C]==="B"&&(R[C]=0),j.hiLevel|=w}o&&function($,A,k){for(var Y=0;Y<k;Y++)if($[Y]==="S"){A[Y]=E;for(var Z=Y-1;Z>=0&&$[Z]==="WS";Z--)A[Z]=E}}(I,R,U)},q=function(x,R,j,v,y){if(!(y.hiLevel<x)){if(x===1&&E===1&&!n)return R.reverse(),void(j&&j.reverse());for(var C,w,S,M,U=R.length,N=0;N<U;){if(v[N]>=x){for(S=N+1;S<U&&v[S]>=x;)S++;for(M=N,w=S-1;M<w;M++,w--)C=R[M],R[M]=R[w],R[w]=C,j&&(C=j[M],j[M]=j[w],j[w]=C);N=S}N++}}},W=function(x,R,j){var v=x.split(""),y={hiLevel:E};return j||(j=[]),L(v,j,y),function(C,w,S){if(S.hiLevel!==0&&d)for(var M,U=0;U<C.length;U++)w[U]===1&&(M=p.indexOf(C[U]))>=0&&(C[U]=p[M+1])}(v,j,y),q(2,v,R,j,y),q(1,v,R,j,y),v.join("")};return this.__bidiEngine__.doBidiReorder=function(x,R,j){if(function(y,C){if(C)for(var w=0;w<y.length;w++)C[w]=w;a===void 0&&(a=V(y)),c===void 0&&(c=V(y))}(x,R),s||!l||c)if(s&&l&&a^c)E=a?1:0,x=F(x,R,j);else if(!s&&l&&c)E=a?1:0,x=W(x,R,j),x=F(x,R);else if(!s||a||l||c){if(s&&!l&&a^c)x=F(x,R),a?(E=0,x=W(x,R,j)):(E=1,x=W(x,R,j),x=F(x,R));else if(s&&a&&!l&&c)E=1,x=W(x,R,j),x=F(x,R);else if(!s&&!l&&a^c){var v=d;a?(E=1,x=W(x,R,j),E=0,d=!1,x=W(x,R,j),d=v):(E=0,x=W(x,R,j),x=F(x,R),E=1,d=!1,x=W(x,R,j),d=v,x=F(x,R))}}else E=0,x=W(x,R,j);else E=a?1:0,x=W(x,R,j);return x},this.__bidiEngine__.setOptions=function(x){x&&(s=x.isInputVisual,l=x.isOutputVisual,a=x.isInputRtl,c=x.isOutputRtl,d=x.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(i){var n=i.text,o=(i.x,i.y,i.options||{}),s=(i.mutex,o.lang,[]);if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,r.setOptions(o),Object.prototype.toString.call(n)==="[object Array]"){var a=0;for(s=[],a=0;a<n.length;a+=1)Object.prototype.toString.call(n[a])==="[object Array]"?s.push([r.doBidiReorder(n[a][0]),n[a][1],n[a][2]]):s.push([r.doBidiReorder(n[a])]);i.text=s}else i.text=r.doBidiReorder(n);r.setOptions({isInputVisual:!0})}])}($i),$i.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new eg(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new XPt(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new LPt(this.contents),this.head=new HPt(this),this.name=new UPt(this),this.cmap=new qot(this),this.toUnicode={},this.hhea=new BPt(this),this.maxp=new WPt(this),this.hmtx=new YPt(this),this.post=new VPt(this),this.os2=new jPt(this),this.loca=new KPt(this),this.glyf=new $Pt(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,i,n,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,a,l,c;for(c=[],s=0,a=(l=this.bbox).length;s<a;s++)t=l[s],c.push(Math.round(t*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(i=255&(n=this.post.italic_angle),32768&(r=n>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,i){var n,o,s,a;for(s=0,o=0,a=(t=""+t).length;0<=a?o<a:o>a;o=0<=a?++o:--o)n=t.charCodeAt(o),s+=this.widthOfGlyph(this.characterToGlyph(n))+i*(1e3/r)||0;return s*(r/1e3)},e.prototype.lineHeight=function(t,r){var i;return r==null&&(r=!1),i=r?this.lineGap:0,(this.ascender+i-this.decender)/1e3*t},e}();var th,eg=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,i;for(i=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)i[r]=String.fromCharCode(this.readByte());return i.join("")},e.prototype.writeString=function(t){var r,i,n;for(n=[],r=0,i=t.length;0<=i?r<i:r>i;r=0<=i?++r:--r)n.push(this.writeByte(t.charCodeAt(r)));return n},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,i,n,o,s,a,l;return t=this.readByte(),r=this.readByte(),i=this.readByte(),n=this.readByte(),o=this.readByte(),s=this.readByte(),a=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^i)+4294967296*(255^n)+16777216*(255^o)+65536*(255^s)+256*(255^a)+(255^l)+1):72057594037927940*t+281474976710656*r+1099511627776*i+4294967296*n+16777216*o+65536*s+256*a+l},e.prototype.writeLongLong=function(t){var r,i;return r=Math.floor(t/4294967296),i=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,i;for(r=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)r.push(this.readByte());return r},e.prototype.write=function(t){var r,i,n,o;for(o=[],i=0,n=t.length;i<n;i++)r=t[i],o.push(this.writeByte(r));return o},e}(),LPt=function(){var e;function t(r){var i,n,o;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},n=0,o=this.tableCount;0<=o?n<o:n>o;n=0<=o?++n:--n)i={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[i.tag]=i}return t.prototype.encode=function(r){var i,n,o,s,a,l,c,d,h,u,f,m,g;for(g in f=Object.keys(r).length,l=Math.log(2),h=16*Math.floor(Math.log(f)/l),s=Math.floor(h/l),d=16*f-h,(n=new eg).writeInt(this.scalarType),n.writeShort(f),n.writeShort(h),n.writeShort(s),n.writeShort(d),o=16*f,c=n.pos+o,a=null,m=[],r)for(u=r[g],n.writeString(g),n.writeInt(e(u)),n.writeInt(c),n.writeInt(u.length),m=m.concat(u),g==="head"&&(a=c),c+=u.length;c%4;)m.push(0),c++;return n.write(m),i=2981146554-e(n.data),n.pos=a+8,n.writeUInt32(i),n.data},e=function(r){var i,n,o,s;for(r=Got.call(r);r.length%4;)r.push(0);for(o=new eg(r),n=0,i=0,s=r.length;i<s;i=i+=4)n+=o.readUInt32();return 4294967295&n},t}(),FPt={}.hasOwnProperty,Cu=function(e,t){for(var r in t)FPt.call(t,r)&&(e[r]=t[r]);function i(){this.constructor=e}return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};th=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var HPt=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Cu(t,th),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var i;return(i=new eg).writeInt(this.version),i.writeInt(this.revision),i.writeInt(this.checkSumAdjustment),i.writeInt(this.magicNumber),i.writeShort(this.flags),i.writeShort(this.unitsPerEm),i.writeLongLong(this.created),i.writeLongLong(this.modified),i.writeShort(this.xMin),i.writeShort(this.yMin),i.writeShort(this.xMax),i.writeShort(this.yMax),i.writeShort(this.macStyle),i.writeShort(this.lowestRecPPEM),i.writeShort(this.fontDirectionHint),i.writeShort(r),i.writeShort(this.glyphDataFormat),i.data},t}(),Lot=function(){function e(t,r){var i,n,o,s,a,l,c,d,h,u,f,m,g,p,b,_,E;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),h=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(f=t.readUInt16(),u=f/2,t.pos+=6,o=function(){var O,V;for(V=[],l=O=0;0<=u?O<u:O>u;l=0<=u?++O:--O)V.push(t.readUInt16());return V}(),t.pos+=2,g=function(){var O,V;for(V=[],l=O=0;0<=u?O<u:O>u;l=0<=u?++O:--O)V.push(t.readUInt16());return V}(),c=function(){var O,V;for(V=[],l=O=0;0<=u?O<u:O>u;l=0<=u?++O:--O)V.push(t.readUInt16());return V}(),d=function(){var O,V;for(V=[],l=O=0;0<=u?O<u:O>u;l=0<=u?++O:--O)V.push(t.readUInt16());return V}(),n=(this.length-t.pos+this.offset)/2,a=function(){var O,V;for(V=[],l=O=0;0<=n?O<n:O>n;l=0<=n?++O:--O)V.push(t.readUInt16());return V}(),l=b=0,E=o.length;b<E;l=++b)for(p=o[l],i=_=m=g[l];m<=p?_<=p:_>=p;i=m<=p?++_:--_)d[l]===0?s=i+c[l]:(s=a[d[l]/2+(i-m)-(u-l)]||0)!==0&&(s+=c[l]),this.codeMap[i]=65535&s}t.pos=h}return e.encode=function(t,r){var i,n,o,s,a,l,c,d,h,u,f,m,g,p,b,_,E,O,V,H,F,L,q,W,x,R,j,v,y,C,w,S,M,U,N,T,B,I,$,A,k,Y,Z,ct,tt,nt;switch(v=new eg,s=Object.keys(t).sort(function(Ct,xt){return Ct-xt}),r){case"macroman":for(g=0,p=function(){var Ct=[];for(m=0;m<256;++m)Ct.push(0);return Ct}(),_={0:0},o={},y=0,M=s.length;y<M;y++)_[Z=t[n=s[y]]]==null&&(_[Z]=++g),o[n]={old:t[n],new:_[t[n]]},p[n]=_[t[n]];return v.writeUInt16(1),v.writeUInt16(0),v.writeUInt32(12),v.writeUInt16(0),v.writeUInt16(262),v.writeUInt16(0),v.write(p),{charMap:o,subtable:v.data,maxGlyphID:g+1};case"unicode":for(R=[],h=[],E=0,_={},i={},b=c=null,C=0,U=s.length;C<U;C++)_[V=t[n=s[C]]]==null&&(_[V]=++E),i[n]={old:V,new:_[V]},a=_[V]-n,b!=null&&a===c||(b&&h.push(b),R.push(n),c=a),b=n;for(b&&h.push(b),h.push(65535),R.push(65535),W=2*(q=R.length),L=2*Math.pow(Math.log(q)/Math.LN2,2),u=Math.log(L/2)/Math.LN2,F=2*q-L,l=[],H=[],f=[],m=w=0,N=R.length;w<N;m=++w){if(x=R[m],d=h[m],x===65535){l.push(0),H.push(0);break}if(x-(j=i[x].new)>=32768)for(l.push(0),H.push(2*(f.length+q-m)),n=S=x;x<=d?S<=d:S>=d;n=x<=d?++S:--S)f.push(i[n].new);else l.push(j-x),H.push(0)}for(v.writeUInt16(3),v.writeUInt16(1),v.writeUInt32(12),v.writeUInt16(4),v.writeUInt16(16+8*q+2*f.length),v.writeUInt16(0),v.writeUInt16(W),v.writeUInt16(L),v.writeUInt16(u),v.writeUInt16(F),k=0,T=h.length;k<T;k++)n=h[k],v.writeUInt16(n);for(v.writeUInt16(0),Y=0,B=R.length;Y<B;Y++)n=R[Y],v.writeUInt16(n);for(ct=0,I=l.length;ct<I;ct++)a=l[ct],v.writeUInt16(a);for(tt=0,$=H.length;tt<$;tt++)O=H[tt],v.writeUInt16(O);for(nt=0,A=f.length;nt<A;nt++)g=f[nt],v.writeUInt16(g);return{charMap:i,subtable:v.data,maxGlyphID:E+1}}},e}(),qot=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Cu(t,th),t.prototype.tag="cmap",t.prototype.parse=function(r){var i,n,o;for(r.pos=this.offset,this.version=r.readUInt16(),o=r.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=o?n<o:n>o;n=0<=o?++n:--n)i=new Lot(r,this.offset),this.tables.push(i),i.isUnicode&&this.unicode==null&&(this.unicode=i);return!0},t.encode=function(r,i){var n,o;return i==null&&(i="macroman"),n=Lot.encode(r,i),(o=new eg).writeUInt16(0),o.writeUInt16(1),n.table=o.data.concat(n.subtable),n},t}(),BPt=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Cu(t,th),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),jPt=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Cu(t,th),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var i,n;for(n=[],i=0;i<10;++i)n.push(r.readByte());return n}(),this.charRange=function(){var i,n;for(n=[],i=0;i<4;++i)n.push(r.readInt());return n}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var i,n;for(n=[],i=0;i<2;i=++i)n.push(r.readInt());return n}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),VPt=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Cu(t,th),t.prototype.tag="post",t.prototype.parse=function(r){var i,n,o;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var s;for(n=r.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],o=[];r.pos<this.offset+this.length;)i=r.readByte(),o.push(this.names.push(r.readString(i)));return o;case 151552:return n=r.readUInt16(),this.offsets=r.read(n);case 196608:break;case 262144:return this.map=(function(){var a,l,c;for(c=[],s=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;s=0<=l?++a:--a)c.push(r.readUInt32());return c}).call(this)}},t}(),zPt=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},UPt=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Cu(t,th),t.prototype.tag="name",t.prototype.parse=function(r){var i,n,o,s,a,l,c,d,h,u,f;for(r.pos=this.offset,r.readShort(),i=r.readShort(),l=r.readShort(),n=[],s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)n.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(c={},s=h=0,u=n.length;h<u;s=++h)o=n[s],r.pos=o.offset,d=r.readString(o.length),a=new zPt(d,o),c[f=o.nameID]==null&&(c[f]=[]),c[o.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t}(),WPt=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Cu(t,th),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),YPt=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Cu(t,th),t.prototype.tag="hmtx",t.prototype.parse=function(r){var i,n,o,s,a,l,c;for(r.pos=this.offset,this.metrics=[],i=0,l=this.file.hhea.numberOfMetrics;0<=l?i<l:i>l;i=0<=l?++i:--i)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(o=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,h;for(h=[],i=d=0;0<=o?d<o:d>o;i=0<=o?++d:--d)h.push(r.readInt16());return h}(),this.widths=(function(){var d,h,u,f;for(f=[],d=0,h=(u=this.metrics).length;d<h;d++)s=u[d],f.push(s.advance);return f}).call(this),n=this.widths[this.widths.length-1],c=[],i=a=0;0<=o?a<o:a>o;i=0<=o?++a:--a)c.push(this.widths.push(n));return c},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),Got=[].slice,$Pt=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Cu(t,th),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var i,n,o,s,a,l,c,d,h,u;return r in this.cache?this.cache[r]:(s=this.file.loca,i=this.file.contents,n=s.indexOf(r),(o=s.lengthOf(r))===0?this.cache[r]=null:(i.pos=this.offset+n,a=(l=new eg(i.read(o))).readShort(),d=l.readShort(),u=l.readShort(),c=l.readShort(),h=l.readShort(),this.cache[r]=a===-1?new GPt(l,d,u,c,h):new qPt(l,a,d,u,c,h),this.cache[r]))},t.prototype.encode=function(r,i,n){var o,s,a,l,c;for(a=[],s=[],l=0,c=i.length;l<c;l++)o=r[i[l]],s.push(a.length),o&&(a=a.concat(o.encode(n)));return s.push(a.length),{table:a,offsets:s}},t}(),qPt=function(){function e(t,r,i,n,o,s){this.raw=t,this.numberOfContours=r,this.xMin=i,this.yMin=n,this.xMax=o,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),GPt=function(){function e(t,r,i,n,o){var s,a;for(this.raw=t,this.xMin=r,this.yMin=i,this.xMax=n,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;a=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&a;)s.pos+=1&a?4:2,128&a?s.pos+=8:64&a?s.pos+=4:8&a&&(s.pos+=2)}return e.prototype.encode=function(){var t,r,i;for(r=new eg(Got.call(this.raw.data)),t=0,i=this.glyphIDs.length;t<i;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),KPt=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Cu(t,th),t.prototype.tag="loca",t.prototype.parse=function(r){var i,n;return r.pos=this.offset,i=this.file.head.indexToLocFormat,this.offsets=i===0?(function(){var o,s;for(s=[],n=0,o=this.length;n<o;n+=2)s.push(2*r.readUInt16());return s}).call(this):(function(){var o,s;for(s=[],n=0,o=this.length;n<o;n+=4)s.push(r.readUInt32());return s}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,i){for(var n=new Uint32Array(this.offsets.length),o=0,s=0,a=0;a<n.length;++a)if(n[a]=o,s<i.length&&i[s]==a){++s,n[a]=o;var l=this.offsets[a],c=this.offsets[a+1]-l;c>0&&(o+=c)}for(var d=new Array(4*n.length),h=0;h<n.length;++h)d[4*h+3]=255&n[h],d[4*h+2]=(65280&n[h])>>8,d[4*h+1]=(16711680&n[h])>>16,d[4*h]=(4278190080&n[h])>>24;return d},t}(),XPt=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,i,n,o;for(r in n=this.font.cmap.tables[0].codeMap,t={},o=this.subset)i=o[r],t[r]=n[i];return t},e.prototype.glyphsFor=function(t){var r,i,n,o,s,a,l;for(n={},s=0,a=t.length;s<a;s++)n[o=t[s]]=this.font.glyf.glyphFor(o);for(o in r=[],n)(i=n[o])!=null&&i.compound&&r.push.apply(r,i.glyphIDs);if(r.length>0)for(o in l=this.glyphsFor(r))i=l[o],n[o]=i;return n},e.prototype.encode=function(t,r){var i,n,o,s,a,l,c,d,h,u,f,m,g,p,b;for(n in i=qot.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),f={0:0},b=i.charMap)f[(l=b[n]).old]=l.new;for(m in u=i.maxGlyphID,s)m in f||(f[m]=u++);return d=function(_){var E,O;for(E in O={},_)O[_[E]]=E;return O}(f),h=Object.keys(d).sort(function(_,E){return _-E}),g=function(){var _,E,O;for(O=[],_=0,E=h.length;_<E;_++)a=h[_],O.push(d[a]);return O}(),o=this.font.glyf.encode(s,g,f),c=this.font.loca.encode(o.offsets,g),p={cmap:this.font.cmap.raw(),glyf:o.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(p["OS/2"]=this.font.os2.raw()),this.font.directory.encode(p)},e}();$i.API.PDFObject=function(){var e;function t(){}return e=function(r,i){return(Array(i+1).join("0")+r).slice(-i)},t.convert=function(r){var i,n,o,s;if(Array.isArray(r))return"["+function(){var a,l,c;for(c=[],a=0,l=r.length;a<l;a++)i=r[a],c.push(t.convert(i));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(n in o=["<<"],r)s=r[n],o.push("/"+n+" "+t.convert(s));return o.push(">>"),o.join(`
`)}return""+r},t}();var gw=(()=>{let t=class t{constructor(){this.downloadSubjectTrigger=new Qe,this.downloadFileTrigger=new Qe,this.downloadExcelTrigger=new Qe,this.downloadPDFTrigger=new Qe}get downloadSubjectTriggered$(){return this.downloadSubjectTrigger.asObservable()}get downloadFileTriggered$(){return this.downloadFileTrigger.asObservable()}get downloadExcelTriggered$(){return this.downloadExcelTrigger.asObservable()}get downloadPDFTriggered$(){return this.downloadPDFTrigger.asObservable()}triggerGenerateSubject(){this.downloadSubjectTrigger.next()}triggerGenerateFile(){this.downloadFileTrigger.next()}triggerGenerateExcel(){this.downloadExcelTrigger.next()}triggerGeneratePDF(){this.downloadPDFTrigger.next()}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Zot=(()=>{let t=class t{constructor(i){this.interactionService=i}ngOnChanges(i){i.name&&(this.name=i.name.currentValue)}ngOnInit(){this.interactionService.downloadSubjectTriggered$.subscribe(()=>{this.generateSubject()}),this.interactionService.downloadFileTriggered$.subscribe(()=>{this.generateFile()}),this.interactionService.downloadExcelTriggered$.subscribe(()=>{this.generateExcel()}),this.interactionService.downloadPDFTriggered$.subscribe(()=>{this.generatePDF()})}exportToExcel(i,n){let o=new Kot.Workbook,s=this.data.months;console.log(this.data);var a=this.data.downloads_graph_data.reverse(),l=this.data.datasets_graph_data.reverse(),c=this.data.files_graph_data.reverse(),d=this.data.users_graph_data.reverse(),h=this.data.size_graph_data.reverse();let u=o.addWorksheet("Read Me");u.addRow(["FAQ"]),u.addRow([]),u.addRow(["Tab","Field Name","Definition"]),u.addRow(["Downloads","",""]),u.addRow(["","Date",""]),u.addRow(["","Count","Total amount of downloads in the given month"]),u.addRow(["","Cumul Count","Total cumulative downloads in the given month"]),u.addRow(["Datasets","",""]),u.addRow(["","Date",""]),u.addRow(["","Count","Total amount of realesed datasets in the given month"]),u.addRow(["","Cumul Count","Total cumulative realesed datasets in the given month"]),u.addRow(["Files","",""]),u.addRow(["","Date",""]),u.addRow(["","Count","Total amount of files in realesed datasets in the given month"]),u.addRow(["","Cumul Count","Total cumulative files in realesed datasets in the given month"]),u.addRow(["Users","",""]),u.addRow(["","Date",""]),u.addRow(["","Count","Total count of users who opened an account in the given month"]),u.addRow(["","Cumul Count","Total cumulative count of users in the given month"]),u.addRow(["Storage","",""]),u.addRow(["","Date",""]),u.addRow(["","Count","Total approximate GB of storage allocated in the given month"]),u.addRow(["","Percent","Total cumulative approximate GB of storage allocated in the given month"]),u.addRow(["Subject Breakdown","",""]),u.addRow(["","Subject","Subect of Dataset"]),u.addRow(["","Count","Total count of datasets with assigned subject"]),u.addRow(["","Percent","Percent of datasets with assigned subject over all other subjects"]),u.addRow(["File Breakdown","",""]),u.addRow(["","Type","type of file"]),u.addRow(["","Content Type","specfic format of file"]),u.addRow(["","Count","Total count of datasets with assigned subject"]),u.addRow(["","Percent","Percent of datasets with file type over all other file types"]),u.getColumn(1).width=20,u.getColumn(2).width=15,u.getColumn(3).width=60;let f=o.addWorksheet("Downloads"),m=Object.keys(["date","count","cumul count"]);f.addRow(["date","count","cumul count"]),f.getColumn(1).width=15,f.getColumn(2).width=15,f.getColumn(3).width=15;let g=o.addWorksheet("Datasets"),p=Object.keys(["date","count","cumul count"]);g.addRow(["date","count","cumul count"]),g.getColumn(1).width=15,g.getColumn(2).width=15,g.getColumn(3).width=15;let b=o.addWorksheet("Files"),_=Object.keys(["date","count","cumul count"]);b.addRow(["date","count","cumul count"]),b.getColumn(1).width=15,b.getColumn(2).width=15,b.getColumn(3).width=15;let E=o.addWorksheet("Users"),O=Object.keys(["date","count","cumul count"]);E.addRow(["date","count","cumul count"]),E.getColumn(1).width=15,E.getColumn(2).width=15,E.getColumn(3).width=15;let V=o.addWorksheet("Storage"),H=Object.keys(["date","count","cumul count"]);V.addRow(["date","count","cumul count"]),V.getColumn(1).width=15,V.getColumn(2).width=15,V.getColumn(3).width=15;let F=o.addWorksheet("Subject Breakdown"),L=Object.keys(["subject","count","percent"]);F.addRow(["subject","count","percent"]),F.getColumn(1).width=30,F.getColumn(2).width=15,F.getColumn(3).width=15;let q=o.addWorksheet("File Breakdown"),W=Object.keys(["file type","specific type","count","percent"]);q.addRow(["type","content type","count","percent"]),q.getColumn(1).width=20,q.getColumn(2).width=30,q.getColumn(3).width=15,q.getColumn(3).width=15;for(let x=0;x<s.length-1;x+=1)f.addRow([s[x],this.data.downloads_graph_agg_data[x],a[x]]),g.addRow([s[x],this.data.datasets_graph_agg_data[x],l[x]]),b.addRow([s[x],this.data.files_graph_agg_data[x],c[x]]),E.addRow([s[x],this.data.users_graph_agg_data[x],d[x]]),V.addRow([s[x],this.data.size_graph_agg_data[x],h[x]]);for(let x=0;x<this.data.subject_full_data.length-1;x+=1)F.addRow([this.data.subject_full_data[x].subject,this.data.subject_full_data[x].count,this.data.subject_full_data[x].percent]);for(let x=0;x<this.data.file_content_full_data.length-1;x+=1)q.addRow([this.data.file_content_full_data[x].type,this.data.file_content_full_data[x].contenttype,this.data.file_content_full_data[x].count,this.data.file_content_full_data[x].percent]);o.xlsx.writeBuffer().then(x=>{let R=new Blob([x],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});(0,Xot.saveAs)(R,`${n}.xlsx`)})}generatePDF(){return wr(this,null,function*(){let i=new $i("p","mm","a4"),n=i.internal.pageSize.getHeight(),o=i.internal.pageSize.getWidth(),s=10,a=10,l=5,c=90,d=90,h=a,u=(B,I,$,A)=>{let k=B.width/B.height,Y=A,Z=A/k;$+Z>n-a&&(i.addPage(),$=a,h=a);let ct=document.createElement("canvas");ct.width=B.width,ct.height=B.height;let tt=ct.getContext("2d");tt&&(tt.fillStyle="white",tt.fillRect(0,0,ct.width,ct.height),tt.drawImage(B,0,0));let nt=ct.toDataURL("image/png");return i.addImage(nt,"PNG",I,$,Y,Z),Z+l},f="Borealis Report";this.name&&this.name!=="(All)"&&(f=`${this.name} - ${f}`);let m=new Date().toLocaleDateString("en-US",{year:"numeric",month:"numeric",day:"numeric"});i.setFont("helvetica","normal"),i.setFontSize(9),i.text(f,s,a);let g=i.getTextWidth(m);i.text(m,o-s-g,a),i.setFont("helvetica","bold"),i.setFontSize(14);let p=document.getElementById("responsive-title")?.textContent??"";(p==="(All)"||p==="")&&(p="Borealis (All)");let b=o-2*s,_=i.splitTextToSize(p,b),E=7,O=a+10;i.text(_,s,O);let V=_.length*E;i.setFont("helvetica","italic"),i.setFontSize(11);let H=document.getElementById("pdf_date")?.textContent??"",F=O+V+1.5;i.text(H,s,F),h=F+6;let L=6,q=4,W=(o-s*2-q*(L-1))/L,x=15,R=h,j=["Collections","Datasets","Files","Downloads","Users","Storage"],v=[document.getElementById("total_collections_num")?.textContent??"",document.getElementById("total_datasets_num")?.textContent??"",document.getElementById("total_files_num")?.textContent??"",document.getElementById("total_downloads_num")?.textContent??"",document.getElementById("total_users_num")?.textContent??"",document.getElementById("total_size_num")?.textContent??""];for(let B=0;B<L;B++){let I=s+B*(W+q);this.drawCard(i,j[B],v[B],I,R,W,x)}h+=x+10;let C=document.querySelector("#pdf_bargraphs")?.querySelectorAll("canvas")??[],w=document.querySelector("#subjectGraph canvas"),S=document.querySelector("#fileGraph canvas"),M=o-s-c,U=h,N=[{leftIndex:0,leftTitle:"Number of Downloads",rightCanvas:C[4],rightTitle:"Storage Usage"},{leftIndex:1,leftTitle:"Number of Datasets",rightCanvas:w,rightTitle:"Subject Breakdown"},{leftIndex:2,leftTitle:"Number of Files",rightCanvas:S,rightTitle:"File Type Breakdown"},{leftIndex:3,leftTitle:"Number of Users",rightCanvas:null,rightTitle:""}];for(let B of N){U+10>n-a&&(i.addPage(),U=a);let I=0,$=C[B.leftIndex];if($&&(i.setFont("helvetica","normal"),i.setFontSize(8),i.text(B.leftTitle,s,U),I=u($,s,U+4,c)),B.rightCanvas){i.setFont("helvetica","normal"),i.setFontSize(8),i.text(B.rightTitle,M,U);let A=u(B.rightCanvas,M,U+4,c);I=Math.max(I,A)}U+=I+6}let T="Borealis Report";this.name&&this.name!=="(All)"&&(T=`${this.name} - ${T}`),i.save(T)})}exportChartAsJPEG(i,n,o=.5){let a=document.getElementById(i).querySelector("canvas");if(!a){console.error(`No canvas found inside element with id ${i}`);return}let l=document.createElement("canvas");l.width=a.width,l.height=a.height;let c=l.getContext("2d");c&&(c.fillStyle="white",c.fillRect(0,0,l.width,l.height),c.drawImage(a,0,0));let d=document.createElement("canvas");d.width=l.width*o,d.height=l.height*o;let h=d.getContext("2d");h&&(h.scale(o,o),h.drawImage(l,0,0));let u=d.toDataURL("image/jpeg",1),f=document.createElement("a");f.download=n,f.href=u,f.click()}drawCard(i,n,o,s,a,l,c,d=2){i.setDrawColor(180,180,180),i.setFillColor(255,255,255),i.roundedRect(s,a,l,c,d,d,"FD"),i.setFont("helvetica","normal"),i.setFontSize(8),i.text(n,s+2,a+5),i.setFont("helvetica","normal"),i.setFontSize(10);let m=i.getTextWidth(o),g=s+l-2-m,p=a+c-3;i.text(o,g,p)}generateSubject(){this.exportChartAsJPEG("subjectGraph","subject-graph.jpeg",1)}generateFile(){this.exportChartAsJPEG("fileGraph","file-graph.jpeg",1)}generateExcel(){var i="Borealis Report";this.name!="(All)"&&(i=this.name+" - "+i),this.exportToExcel(this.data,i)}};t.\u0275fac=function(n){return new(n||t)(Dt(gw))},t.\u0275cmp=qe({type:t,selectors:[["app-download"]],inputs:{data:"data",name:"name"},standalone:!0,features:[er,ai],decls:0,vars:0,template:function(n,o){}}),t.\u0275prov=we({token:t,factory:t.\u0275fac});let e=t;return e})();var Qot={transformMenu:cm("transformMenu",[dm("void",ea({opacity:0,transform:"scale(0.8)"})),bd("void => enter",gd("120ms cubic-bezier(0, 0, 0.2, 1)",ea({opacity:1,transform:"scale(1)"}))),bd("* => void",gd("100ms 25ms linear",ea({opacity:0})))]),fadeInItems:cm("fadeInItems",[dm("showing",ea({opacity:1})),bd("void => *",[ea({opacity:0}),gd("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},mLe=Qot.fadeInItems,pLe=Qot.transformMenu;var ZPt=new Se("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{let e=pe(bn);return()=>e.scrollStrategies.reposition()}});function QPt(e){return()=>e.scrollStrategies.reposition()}var JPt={provide:ZPt,deps:[bn],useFactory:QPt};var Jot=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ze({type:t}),t.\u0275inj=Ve({providers:[JPt],imports:[qn,Lg,Si,Rc,Sc,Si]});let e=t;return e})();var tNt=["tooltip"],ist=20;var rst=new Se("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let e=pe(bn);return()=>e.scrollStrategies.reposition({scrollThrottle:ist})}});function eNt(e){return()=>e.scrollStrategies.reposition({scrollThrottle:ist})}var iNt={provide:rst,deps:[bn],useFactory:eNt};function rNt(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}var nNt=new Se("mat-tooltip-default-options",{providedIn:"root",factory:rNt});var tst="tooltip-panel",est=dl({passive:!0}),oNt=8,sNt=8,aNt=24,lNt=200,nst=(()=>{let t=class t{get position(){return this._position}set position(i){i!==this._position&&(this._position=i,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(i){this._positionAtOrigin=Th(i),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(i){let n=Th(i);this._disabled!==n&&(this._disabled=n,n?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(i){this._showDelay=$u(i)}get hideDelay(){return this._hideDelay}set hideDelay(i){this._hideDelay=$u(i),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(i){let n=this._message;this._message=i!=null?String(i).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(n)}get tooltipClass(){return this._tooltipClass}set tooltipClass(i){this._tooltipClass=i,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(i,n,o,s,a,l,c,d,h,u,f,m){this._overlay=i,this._elementRef=n,this._scrollDispatcher=o,this._viewContainerRef=s,this._ngZone=a,this._platform=l,this._ariaDescriber=c,this._focusMonitor=d,this._dir=u,this._defaultOptions=f,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=cNt,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._touchstartTimeout=null,this._destroyed=new Qe,this._injector=pe(mn),this._scrollStrategy=h,this._document=m,f&&(this._showDelay=f.showDelay,this._hideDelay=f.hideDelay,f.position&&(this.position=f.position),f.positionAtOrigin&&(this.positionAtOrigin=f.positionAtOrigin),f.touchGestures&&(this.touchGestures=f.touchGestures),f.tooltipClass&&(this.tooltipClass=f.tooltipClass)),u.change.pipe($n(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=oNt}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe($n(this._destroyed)).subscribe(i=>{i?i==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let i=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([n,o])=>{i.removeEventListener(n,o,est)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(i,this.message,"tooltip"),this._focusMonitor.stopMonitoring(i)}show(i=this.showDelay,n){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let o=this._createOverlay(n);this._detach(),this._portal=this._portal||new yd(this._tooltipComponent,this._viewContainerRef);let s=this._tooltipInstance=o.attach(this._portal).instance;s._triggerElement=this._elementRef.nativeElement,s._mouseLeaveHideDelay=this._hideDelay,s.afterHidden().pipe($n(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),s.show(i)}hide(i=this.hideDelay){let n=this._tooltipInstance;n&&(n.isVisible()?n.hide(i):(n._cancelPendingAnimations(),this._detach()))}toggle(i){this._isTooltipVisible()?this.hide():this.show(void 0,i)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(i){if(this._overlayRef){let s=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!i)&&s._origin instanceof di)return this._overlayRef;this._detach()}let n=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),o=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin?i||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(n);return o.positionChanges.pipe($n(this._destroyed)).subscribe(s=>{this._updateCurrentPositionClass(s.connectionPair),this._tooltipInstance&&s.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:o,panelClass:`${this._cssClassPrefix}-${tst}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe($n(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe($n(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe($n(this._destroyed)).subscribe(s=>{this._isTooltipVisible()&&s.keyCode===27&&!$l(s)&&(s.preventDefault(),s.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(i){let n=i.getConfig().positionStrategy,o=this._getOrigin(),s=this._getOverlayPosition();n.withPositions([this._addOffset(jt(jt({},o.main),s.main)),this._addOffset(jt(jt({},o.fallback),s.fallback))])}_addOffset(i){let n=sNt,o=!this._dir||this._dir.value=="ltr";return i.originY==="top"?i.offsetY=-n:i.originY==="bottom"?i.offsetY=n:i.originX==="start"?i.offsetX=o?-n:n:i.originX==="end"&&(i.offsetX=o?n:-n),i}_getOrigin(){let i=!this._dir||this._dir.value=="ltr",n=this.position,o;n=="above"||n=="below"?o={originX:"center",originY:n=="above"?"top":"bottom"}:n=="before"||n=="left"&&i||n=="right"&&!i?o={originX:"start",originY:"center"}:(n=="after"||n=="right"&&i||n=="left"&&!i)&&(o={originX:"end",originY:"center"});let{x:s,y:a}=this._invertPosition(o.originX,o.originY);return{main:o,fallback:{originX:s,originY:a}}}_getOverlayPosition(){let i=!this._dir||this._dir.value=="ltr",n=this.position,o;n=="above"?o={overlayX:"center",overlayY:"bottom"}:n=="below"?o={overlayX:"center",overlayY:"top"}:n=="before"||n=="left"&&i||n=="right"&&!i?o={overlayX:"end",overlayY:"center"}:(n=="after"||n=="right"&&i||n=="left"&&!i)&&(o={overlayX:"start",overlayY:"center"});let{x:s,y:a}=this._invertPosition(o.overlayX,o.overlayY);return{main:o,fallback:{overlayX:s,overlayY:a}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),pa(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(i){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=i,this._tooltipInstance._markForCheck())}_invertPosition(i,n){return this.position==="above"||this.position==="below"?n==="top"?n="bottom":n==="bottom"&&(n="top"):i==="end"?i="start":i==="start"&&(i="end"),{x:i,y:n}}_updateCurrentPositionClass(i){let{overlayY:n,originX:o,originY:s}=i,a;if(n==="center"?this._dir&&this._dir.value==="rtl"?a=o==="end"?"left":"right":a=o==="start"?"left":"right":a=n==="bottom"&&s==="top"?"above":"below",a!==this._currentPosition){let l=this._overlayRef;if(l){let c=`${this._cssClassPrefix}-${tst}-`;l.removePanelClass(c+this._currentPosition),l.addPanelClass(c+a)}this._currentPosition=a}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",i=>{this._setupPointerExitEventsIfNeeded();let n;i.x!==void 0&&i.y!==void 0&&(n=i),this.show(void 0,n)}]):this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",i=>{let n=i.targetTouches?.[0],o=n?{x:n.clientX,y:n.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout);let s=500;this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,o)},this._defaultOptions.touchLongPressShowDelay??s)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let i=[];if(this._platformSupportsMouseEvents())i.push(["mouseleave",n=>{let o=n.relatedTarget;(!o||!this._overlayRef?.overlayElement.contains(o))&&this.hide()}],["wheel",n=>this._wheelListener(n)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let n=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};i.push(["touchend",n],["touchcancel",n])}this._addListeners(i),this._passiveListeners.push(...i)}_addListeners(i){i.forEach(([n,o])=>{this._elementRef.nativeElement.addEventListener(n,o,est)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(i){if(this._isTooltipVisible()){let n=this._document.elementFromPoint(i.clientX,i.clientY),o=this._elementRef.nativeElement;n!==o&&!o.contains(n)&&this.hide()}}_disableNativeGesturesIfNecessary(){let i=this.touchGestures;if(i!=="off"){let n=this._elementRef.nativeElement,o=n.style;(i==="on"||n.nodeName!=="INPUT"&&n.nodeName!=="TEXTAREA")&&(o.userSelect=o.msUserSelect=o.webkitUserSelect=o.MozUserSelect="none"),(i==="on"||!n.draggable)&&(o.webkitUserDrag="none"),o.touchAction="none",o.webkitTapHighlightColor="transparent"}}_syncAriaDescription(i){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,i,"tooltip"),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}};t.\u0275fac=function(n){return new(n||t)(Dt(bn),Dt(di),Dt(k1),Dt(gs),Dt(ci),Dt(Hr),Dt(oV),Dt(qu),Dt(rst),Dt(Ds),Dt(nNt,8),Dt(Ai))},t.\u0275dir=ri({type:t,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(n,o){n&2&&Vi("mat-mdc-tooltip-disabled",o.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"],standalone:!0});let e=t;return e})(),cNt=(()=>{let t=class t{constructor(i,n,o){this._changeDetectorRef=i,this._elementRef=n,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new Qe,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled=o==="NoopAnimations"}show(i){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},i)}hide(i){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},i)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:i}){(!i||!this._triggerElement.contains(i))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let i=this._elementRef.nativeElement.getBoundingClientRect();return i.height>aNt&&i.width>=lNt}_handleAnimationEnd({animationName:i}){(i===this._showAnimation||i===this._hideAnimation)&&this._finalizeAnimation(i===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(i){i?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(i){let n=this._tooltip.nativeElement,o=this._showAnimation,s=this._hideAnimation;if(n.classList.remove(i?s:o),n.classList.add(i?o:s),this._isVisible!==i&&(this._isVisible=i,this._changeDetectorRef.markForCheck()),i&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let a=getComputedStyle(n);(a.getPropertyValue("animation-duration")==="0s"||a.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}i&&this._onShow(),this._animationsDisabled&&(n.classList.add("_mat-animation-noopable"),this._finalizeAnimation(i))}};t.\u0275fac=function(n){return new(n||t)(Dt(cr),Dt(di),Dt(Fo,8))},t.\u0275cmp=qe({type:t,selectors:[["mat-tooltip-component"]],viewQuery:function(n,o){if(n&1&&or(tNt,7),n&2){let s;Hi(s=Bi())&&(o._tooltip=s.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(n,o){n&1&&fi("mouseleave",function(a){return o._handleMouseLeave(a)})},standalone:!0,features:[ai],decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(n,o){if(n&1){let s=Ho();Lt(0,"div",1,0),fi("animationend",function(l){return fr(s),mr(o._handleAnimationEnd(l))}),Lt(2,"div",2),ne(3),Pt()()}n&2&&(Vi("mdc-tooltip--multiline",o._isMultiline),ke("ngClass",o.tooltipClass),te(3),ho(o.message))},dependencies:[$w],styles:['.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color, var(--mat-app-inverse-surface));color:var(--mdc-plain-tooltip-supporting-text-color, var(--mat-app-inverse-on-surface));border-radius:var(--mdc-plain-tooltip-container-shape, var(--mat-app-corner-extra-small));font-family:var(--mdc-plain-tooltip-supporting-text-font, var(--mat-app-body-small-font));font-size:var(--mdc-plain-tooltip-supporting-text-size, var(--mat-app-body-small-size));font-weight:var(--mdc-plain-tooltip-supporting-text-weight, var(--mat-app-body-small-weight));line-height:var(--mdc-plain-tooltip-supporting-text-line-height, var(--mat-app-body-small-line-height));letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, var(--mat-app-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0});let e=t;return e})();var ost=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ze({type:t}),t.\u0275inj=Ve({providers:[iNt],imports:[kT,qn,Rc,Si,Si,Sc]});let e=t;return e})();var sst=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ze({type:t}),t.\u0275inj=Ve({imports:[Si,Si]});let e=t;return e})();var ast=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ze({type:t}),t.\u0275inj=Ve({imports:[ov,qn,Si,Lg,n4,sst]});let e=t;return e})();var hNt=()=>[400,200,150],uNt=()=>[100,400,150,100],lst=(()=>{let t=class t{ngOnChanges(i){i.data&&this.processData(this.data)}constructor(i,n){this.translocoService=i,this.InteractionService=n,this.subject_table=[],this.file_content_table=[],this.downloads_graph_data=[],this.datasets_graph_data=[],this.files_graph_data=[],this.users_graph_data=[],this.size_graph_data=[],this.name_dropdown_data=[],this.barChartDataDownloadsAgg_data=[],this.barChartDataDatasetsAgg_data=[],this.barChartDataFiles_Aggdata=[],this.barChartDataUsers_Aggdata=[],this.barChartDataSize_Aggdata=[],this.pieChartDataSubject_data=[],this.pieChartLabelsSubject=[],this.pieChartDataSubject=[],this.pieChartDataFile_data=[],this.pieChartLabelsFile=[],this.pieChartDataFile=[],this.barChartDataDownloads_data=[],this.barChartDataDownloads={labels:[],datasets:[]},this.barChartDataDatasets_data=[],this.barChartDataDatasets={labels:[],datasets:[]},this.barChartDataFiles_data=[],this.barChartDataFiles={labels:[],datasets:[]},this.barChartDataUsers_data=[],this.barChartDataUsers={labels:[],datasets:[]},this.barChartDataSize_data=[],this.barChartDataSize={labels:[],datasets:[]},this.subject_columns=[],this.file_content_columns=[],this.months=[],this.downloads_labels=[],this.datasets_labels=[],this.file_labels=[],this.user_labels=[],this.storage_usage=[]}processData(i){console.log("yoyoyo",i),this.barChartDataDownloads_data=i.downloads_graph_data,this.barChartDataDatasets_data=i.datasets_graph_data,this.barChartDataFiles_data=i.files_graph_data,this.barChartDataUsers_data=i.users_graph_data,this.barChartDataSize_data=i.size_graph_data,this.barChartDataDownloadsAgg_data=i.downloads_graph_agg_data,this.barChartDataDatasetsAgg_data=i.datasets_graph_agg_data,this.barChartDataFiles_Aggdata=i.files_graph_agg_data,this.barChartDataUsers_Aggdata=i.users_graph_agg_data,this.barChartDataSize_Aggdata=i.size_graph_agg_data,this.pieChartLabelsSubject=i.subject_label_data,this.pieChartDataSubject_data=i.subject_data,this.pieChartLabelsFile=i.file_content_label_data,this.pieChartDataFile_data=i.file_content_data,this.subject_table=i.subject_full_data,this.file_content_table=i.file_content_full_data,this.months=i.months,this.translocoService.selectTranslateObject(["MonthlyFileDownloads","MonthlyDatasetsPublished","MonthlyFilePublished","MonthlyUsersJoined","MonthlyAuthorsRegistered","MonthlyStorageUsed","CumulativeFileDownloads","CumulativeDatasetsPublished","CumulativeFilePublished","CumulativeUsersJoined","CumulativeAuthorsRegistered","CumulativeStorageUsed","Subject","Count","Distribution","FileType","SpecificFileType"]).subscribe(([n,o,s,a,l,c,d,h,u,f,m,g,p,b,_,E,O])=>{this.downloads_labels=[n,d],this.datasets_labels=[o,h],this.file_labels=[s,u],this.user_labels=this.selectedCollection_Activate_Name==="(All)"?[a,f]:[l,m],this.storage_usage=[c,g];let V=this.months;this.barChartDataDownloads={labels:V,datasets:[{data:this.barChartDataDownloadsAgg_data,label:n,backgroundColor:"rgba(102, 0, 102, 0.5)",borderColor:"rgba(102, 0, 102, 0.5)",hoverBackgroundColor:"rgba(102, 0, 102, 0.7)",hoverBorderColor:"rgba(102, 0, 102, 0.7)"},{data:this.barChartDataDownloads_data,label:d,backgroundColor:"rgba(0, 100, 255, 0.5)",borderColor:"rgba(0, 100, 255, 0.5)",hoverBackgroundColor:"rgba(0, 100, 255, 0.7)",hoverBorderColor:"rgba(0, 100, 255, 0.7)"}]},this.barChartDataDatasets={labels:V,datasets:[{data:this.barChartDataDatasetsAgg_data,label:o,backgroundColor:"rgba(102, 0, 102, 0.5)",borderColor:"rgba(102, 0, 102, 0.5)",hoverBackgroundColor:"rgba(102, 0, 102, 0.7)",hoverBorderColor:"rgba(102, 0, 102, 0.7)"},{data:this.barChartDataDatasets_data,label:h,backgroundColor:"rgba(0, 100, 255, 0.5)",borderColor:"rgba(0, 100, 255, 0.5)",hoverBackgroundColor:"rgba(0, 100, 255, 0.7)",hoverBorderColor:"rgba(0, 100, 255, 0.7)"}]},this.barChartDataFiles={labels:V,datasets:[{data:this.barChartDataFiles_Aggdata,label:s,backgroundColor:"rgba(102, 0, 102, 0.5)",borderColor:"rgba(102, 0, 102, 0.5)",hoverBackgroundColor:"rgba(102, 0, 102, 0.7)",hoverBorderColor:"rgba(102, 0, 102, 0.7)"},{data:this.barChartDataFiles_data,label:u,backgroundColor:"rgba(0, 100, 255, 0.5)",borderColor:"rgba(0, 100, 255, 0.5)",hoverBackgroundColor:"rgba(0, 100, 255, 0.7)",hoverBorderColor:"rgba(0, 100, 255, 0.7)"}]},this.barChartDataUsers={labels:V,datasets:[{data:this.barChartDataUsers_Aggdata,label:this.user_labels[0],backgroundColor:"rgba(102, 0, 102, 0.5)",borderColor:"rgba(102, 0, 102, 0.5)",hoverBackgroundColor:"rgba(102, 0, 102, 0.7)",hoverBorderColor:"rgba(102, 0, 102, 0.7)"},{data:this.barChartDataUsers_data,label:this.user_labels[1],backgroundColor:"rgba(0, 100, 255, 0.5)",borderColor:"rgba(0, 100, 255, 0.5)",hoverBackgroundColor:"rgba(0, 100, 255, 0.7)",hoverBorderColor:"rgba(0, 100, 255, 0.7)"}]},this.barChartDataSize={labels:V,datasets:[{data:this.barChartDataSize_Aggdata,label:c,backgroundColor:"rgba(102, 0, 102, 0.5)",borderColor:"rgba(102, 0, 102, 0.5)",hoverBackgroundColor:"rgba(102, 0, 102, 0.7)",hoverBorderColor:"rgba(102, 0, 102, 0.7)"},{data:this.barChartDataSize_data,label:g,backgroundColor:"rgba(0, 100, 255, 0.5)",borderColor:"rgba(0, 100, 255, 0.5)",hoverBackgroundColor:"rgba(0, 100, 255, 0.7)",hoverBorderColor:"rgba(0, 100, 255, 0.7)"}]},this.subject_columns=[{data:"subject",readOnly:"true",title:p},{data:"count",readOnly:"true",title:b},{data:"percent",readOnly:"true",title:_}],this.file_content_columns=[{data:"type",readOnly:"true",title:E},{data:"contenttype",readOnly:"true",title:O},{data:"count",readOnly:"true",title:b},{data:"percent",readOnly:"true",title:_}]}),this.pieChartDataSubject=[{data:this.pieChartDataSubject_data,label:"Subject Breakdown"}],this.pieChartDataFile=[{data:this.pieChartDataFile_data,label:"File Content Breakdown"}],console.log("yoyoyoyoyo",this.barChartDataDownloads)}downloadSubject(){this.InteractionService.triggerGenerateSubject()}downloadFile(){this.InteractionService.triggerGenerateFile()}};t.\u0275fac=function(n){return new(n||t)(Dt(Hf),Dt(gw))},t.\u0275cmp=qe({type:t,selectors:[["app-graph-dashboard"]],inputs:{data:"data",selectedCollection_Activate_Name:"selectedCollection_Activate_Name"},standalone:!0,features:[er,ai],decls:48,vars:48,consts:[[2,"display","inline-block","height","200px","padding","30px","padding-top","20px","font-size","18px"],["id","pdf_bargraphs"],[1,"graph-title"],[1,"graph-section",3,"barChartData"],[1,"graph-title",2,"padding-top","20px"],["id","subjectGraphTitle",2,"padding-top","20px"],[1,"hide-scrollbar",2,"border","1px solid lightgray"],["appearance","outlined",1,"example-card",2,"min-width","750px","max-width","750px","min-height","333px","max-height","300px","justify-content","center"],["mat-button","","extended","",2,"position","absolute","height","28px","width","12px","top","4px","right","4px","font-size","12px","border-style","dotted","border-width","1px",3,"click"],[2,"font-size","16px","height","16px","width","12px","display","block","line-height","1","margin-left","10px"],["id","subjectGraph"],["width","520","height","200",3,"pieChartLabels","pieChartData"],["id","hot",1,"hide-scrollbar"],["licenseKey","non-commercial-and-evaluation",1,"hide-scrollbar",3,"data","colHeaders","colWidths","rowHeaders","height","columnSorting","columns","filters"],[1,"hide-scrollbar",2,"margin-top","20px"],["id","fileGraphTitle"],[1,"hide-scrollbar",2,"margin-top","5px","border","1px solid lightgray"],["id","fileGraph"],["width","380","height","200",3,"pieChartLabels","pieChartData"]],template:function(n,o){n&1&&(Lt(0,"div",0)(1,"div",1)(2,"div",2),ne(3),Jr(4,"transloco"),Pt(),Be(5,"app-horizontal-bar-graph",3),Lt(6,"div",4),ne(7),Jr(8,"transloco"),Pt(),Be(9,"app-horizontal-bar-graph",3),Lt(10,"div",4),ne(11),Jr(12,"transloco"),Pt(),Be(13,"app-horizontal-bar-graph",3),Lt(14,"div",4),ne(15),Jr(16,"transloco"),Pt(),Be(17,"app-horizontal-bar-graph",3),Lt(18,"div",4),ne(19),Jr(20,"transloco"),Pt(),Be(21,"app-horizontal-bar-graph",3),Pt(),Lt(22,"p",5),ne(23),Jr(24,"transloco"),Pt(),Lt(25,"div",6)(26,"mat-card",7)(27,"button",8),fi("click",function(){return o.downloadSubject()}),Lt(28,"mat-icon",9),ne(29,"download"),Pt()(),Lt(30,"mat-card-content",10),Be(31,"app-pie-graph",11),Pt()(),Lt(32,"div",12),Be(33,"app-generic-table",13),Pt()(),Be(34,"div",14),Lt(35,"p",15),ne(36),Jr(37,"transloco"),Pt(),Be(38,"p"),Lt(39,"div",16)(40,"mat-card",7)(41,"button",8),fi("click",function(){return o.downloadFile}),Lt(42,"mat-icon",9),ne(43,"download"),Pt()(),Lt(44,"mat-card-content",17),Be(45,"app-pie-graph",18),Pt()(),Lt(46,"div",12),Be(47,"app-generic-table",13),Pt()()()),n&2&&(te(3),Cr(" ",tn(4,32,"NumberofDownloads")," "),te(2),ke("barChartData",o.barChartDataDownloads),te(2),Cr(" ",tn(8,34,"NumberofDatasets")," "),te(2),ke("barChartData",o.barChartDataDatasets),te(2),Cr(" ",tn(12,36,"NumberofFiles")," "),te(2),ke("barChartData",o.barChartDataFiles),te(2),Cr(" ",tn(16,38,o.selectedCollection_Activate_Name==="(All)"?"Numberofusers":"Numberofauthors")," "),te(2),ke("barChartData",o.barChartDataUsers),te(2),Cr(" ",tn(20,40,"StorageUsage")," "),te(2),ke("barChartData",o.barChartDataSize),te(2),Cr(" ",tn(24,42,"SubjectBreakdown")," "),te(8),ke("pieChartLabels",o.pieChartLabelsSubject)("pieChartData",o.pieChartDataSubject),te(2),ke("data",o.subject_table)("colHeaders",!0)("colWidths",EO(46,hNt))("rowHeaders",!1)("height",250)("columnSorting",!0)("columns",o.subject_columns)("filters",!1),te(3),Cr(" ",tn(37,44,"FileContentBreakdown")," "),te(9),ke("pieChartLabels",o.pieChartLabelsFile)("pieChartData",o.pieChartDataFile),te(2),ke("data",o.file_content_table)("colHeaders",!0)("colWidths",EO(47,uNt))("rowHeaders",!1)("height",250)("columnSorting",!0)("columns",o.file_content_columns)("filters",!1))},dependencies:[x$,S$,Xp,Kp,Lh,Cd,ow,qp,nw,$v,Bm,tot]});let e=t;return e})();var fNt=e=>({color:e}),mNt=(e,t)=>({color:e,"font-weight":t});function pNt(e,t){e&1&&(Lt(0,"div"),ne(1),Jr(2,"transloco"),Pt()),e&2&&(te(),Cr(" ",tn(2,1,"Collections")," "))}function gNt(e,t){e&1&&(Lt(0,"div"),ne(1),Jr(2,"transloco"),Pt()),e&2&&(te(),Cr(" ",tn(2,1,"Collections")," "))}var cst=(()=>{let t=class t{ngOnChanges(i){(i.data||i.date_start_on)&&this.processData(this.data)}constructor(i,n){this.translocoService=i,this.InteractionService=n,this.barChartDataDownloads_data=[],this.barChartDataDatasets_data=[],this.barChartDataFiles_data=[],this.barChartDataUsers_data=[],this.barChartDataSize_data=[],this.barChartDataDownloadsAgg_data=[],this.barChartDataDatasetsAgg_data=[],this.barChartDataFiles_Aggdata=[],this.barChartDataUsers_Aggdata=[],this.barChartDataSize_Aggdata=[],this.pieChartDataSubject_data=[],this.pieChartLabelsSubject=[],this.pieChartDataSubject=[],this.pieChartDataFile_data=[],this.pieChartLabelsFile=[],this.pieChartDataFile=[],this.total_collections_num="-",this.total_dataverses_num="-",this.total_datasets_num="-",this.total_files_num="-",this.total_downloads_num="-",this.total_users_num="-",this.total_size_num="-"}processData(i){if(console.log("give this a look",i),this.barChartDataDownloads_data=i.downloads_graph_data,this.barChartDataDatasets_data=i.datasets_graph_data,this.barChartDataFiles_data=i.files_graph_data,this.barChartDataUsers_data=i.users_graph_data,this.barChartDataSize_data=i.size_graph_data,this.barChartDataDownloadsAgg_data=i.downloads_graph_agg_data,this.barChartDataDatasetsAgg_data=i.datasets_graph_agg_data,this.barChartDataFiles_Aggdata=i.files_graph_agg_data,this.barChartDataUsers_Aggdata=i.users_graph_agg_data,this.barChartDataSize_Aggdata=i.size_graph_agg_data,this.total_collections_num=i.name_dropdown_data.length.toString()??0,this.selectedCollection_Activate_Name=="(All)"?this.total_dataverses_num=(i.dataverse_count-i.name_dropdown_data.length).toString():this.total_dataverses_num=i.dataverse_count,this.date_start_on!=""){console.log("ds is activated here"),this.total_datasets_num=this.barChartDataDatasetsAgg_data.reduce((o,s)=>o+s,0).toLocaleString(),this.total_files_num=this.barChartDataFiles_Aggdata.reduce((o,s)=>o+s,0).toLocaleString(),this.total_downloads_num=this.barChartDataDownloadsAgg_data.reduce((o,s)=>o+s,0).toLocaleString(),this.total_users_num=this.barChartDataUsers_Aggdata.reduce((o,s)=>o+s,0).toLocaleString();let n=this.barChartDataSize_Aggdata?.reduce((o,s)=>o+s,0)??0;this.total_size_num=n.toFixed(2).toLocaleString()+" GB"}else{this.total_datasets_num=this.barChartDataDatasets_data[this.barChartDataDatasetsAgg_data.length-1].toLocaleString(),this.total_files_num=this.barChartDataFiles_data[this.barChartDataDatasets_data.length-1].toLocaleString(),this.total_downloads_num=this.barChartDataDownloads_data[this.barChartDataDownloads_data.length-1].toLocaleString(),this.total_users_num=this.barChartDataUsers_data[this.barChartDataUsers_data.length-1].toLocaleString();let n=this.barChartDataSize_data[this.barChartDataSize_data.length-1]??0;this.total_size_num=n.toFixed(2).toLocaleString()+"GB"}console.log(this.total_datasets_num,this.total_files_num,this.total_downloads_num,this.total_users_num,this.total_size_num)}downloadExcel(){this.InteractionService.triggerGenerateExcel()}downloadPDF(){this.InteractionService.triggerGeneratePDF()}};t.\u0275fac=function(n){return new(n||t)(Dt(Hf),Dt(gw))},t.\u0275cmp=qe({type:t,selectors:[["app-value-export-dashboard"]],inputs:{data:"data",selectedCollection_Activate_Name:"selectedCollection_Activate_Name",date_start_on:"date_start_on"},standalone:!0,features:[er,ai],decls:88,vars:40,consts:[[2,"display","inline-block","height","200px","padding-top","10px","font-size","18px"],[1,"button-grid",2,"display","grid","grid-template-columns","repeat(2, 1fr)","gap","5px",`/* space between buttons */
    max-width`,"400px"],["mat-button","",1,"mat-small",2,"border-width","1px","font-size","12px","border-style","solid","width","122px","height","25px","display","flex","justify-content","flex-start","align-items","center","gap","8px","text-align","left",3,"click","ngStyle"],["mat-button","","matTooltip","Export of previous metrics App","href","https://borealisdata.ca/metricsbackend/api/metrics/report",1,"mat-small",2,"border-width","1px","font-size","12px","border-style","solid","width","122px","height","25px","display","flex","justify-content","flex-start","align-items","center","gap","8px","text-align","left"],["matTooltip","Export of Make Data Count data",2,"display","inline-block"],["mat-button","",1,"mat-small",2,"border-width","1px","font-size","12px","border-style","solid","width","122px","height","25px","display","flex","justify-content","flex-start","align-items","center","gap","8px","text-align","left",3,"disabled"],["appearance","outlined","id","pdf_collections_num",1,"example-card",2,"min-width","250px","max-width","250px","margin-bottom","8px","margin-top","10px","background-color","white !important","box-shadow","none !important"],[4,"ngIf"],["id","total_collections_num",2,"text-align","right","color","black","font-size","20px"],["appearance","outlined","id","pdf_datasets_num",1,"example-card",2,"min-width","250px","max-width","250px","margin-bottom","8px","margin-top","10px","background-color","white !important","box-shadow","none !important"],["id","total_datasets_num",2,"text-align","right","color","black","font-size","20px"],["appearance","outlined","id","pdf_files_num",1,"example-card",2,"min-width","250px","max-width","250px","margin-bottom","8px","margin-top","10px","background-color","white !important","box-shadow","none !important"],["id","total_files_num",2,"text-align","right","color","black","font-size","20px"],["appearance","outlined","id","pdf_downloads_nums",1,"example-card",2,"min-width","250px","max-width","250px","margin-bottom","8px","margin-top","10px","background-color","white !important","box-shadow","none !important"],["id","total_downloads_num",2,"text-align","right","color","black","font-size","20px"],["appearance","outlined","id","pdf_users_nums",1,"example-card",2,"min-width","250px","max-width","250px","margin-bottom","8px","margin-top","10px","background-color","white !important","box-shadow","none !important"],["id","total_users_num",2,"text-align","right","color","black","font-size","20px"],["appearance","outlined","id","pdf_storage_nums",1,"example-card",2,"min-width","250px","max-width","250px","margin-bottom","8px","margin-top","10px","background-color","white !important","box-shadow","none !important"],["id","total_size_num",2,"text-align","right","color","black","font-size","20px"]],template:function(n,o){n&1&&(Lt(0,"div",0)(1,"div",1)(2,"button",2),fi("click",function(){return o.downloadExcel()}),Lt(3,"mat-icon"),ne(4," download "),Pt(),ne(5),Jr(6,"transloco"),Pt(),Lt(7,"button",2),fi("click",function(){return o.downloadPDF()}),Lt(8,"mat-icon"),ne(9," download "),Pt(),ne(10),Jr(11,"transloco"),Pt(),Lt(12,"a",3)(13,"mat-icon"),ne(14," download "),Pt(),ne(15),Jr(16,"transloco"),Pt(),Lt(17,"span",4)(18,"button",5)(19,"mat-icon"),ne(20," download "),Pt(),ne(21," DataCite "),Pt()()(),Lt(22,"mat-card",6)(23,"mat-card-header")(24,"mat-card-title-group")(25,"mat-card-title"),Ki(26,pNt,3,3,"div",7)(27,gNt,3,3,"div",7),Pt()()(),Lt(28,"mat-card-content")(29,"h1",8)(30,"b"),ne(31),Pt()()()(),Lt(32,"mat-card",9)(33,"mat-card-header")(34,"mat-card-title-group")(35,"mat-card-title"),ne(36),Jr(37,"transloco"),Pt(),Be(38,"mat-card-subtitle"),Pt()(),Lt(39,"mat-card-content")(40,"h1",10)(41,"b"),ne(42),Pt()()()(),Lt(43,"mat-card",11)(44,"mat-card-header")(45,"mat-card-title-group")(46,"mat-card-title"),ne(47),Jr(48,"transloco"),Pt(),Be(49,"mat-card-subtitle"),Pt()(),Lt(50,"mat-card-content")(51,"h1",12)(52,"b"),ne(53),Pt()()()(),Lt(54,"mat-card",13)(55,"mat-card-header")(56,"mat-card-title-group")(57,"mat-card-title"),ne(58),Jr(59,"transloco"),Pt(),Be(60,"mat-card-subtitle"),Pt()(),Lt(61,"mat-card-content")(62,"h1",14)(63,"b"),ne(64),Pt()()()(),Lt(65,"mat-card",15)(66,"mat-card-header")(67,"mat-card-title-group")(68,"mat-card-title"),ne(69),Jr(70,"transloco"),Pt(),Be(71,"mat-card-subtitle"),Pt()(),Lt(72,"mat-card-content")(73,"h1",16)(74,"b"),ne(75),Pt()()()(),Lt(76,"mat-card",17)(77,"mat-card-header")(78,"mat-card-title-group")(79,"mat-card-title"),ne(80),Jr(81,"transloco"),Pt(),Be(82,"mat-card-subtitle"),Pt()(),Lt(83,"mat-card-content")(84,"h1",18)(85,"b"),ne(86),Pt()()()()(),Be(87,"div")),n&2&&(te(2),ke("ngStyle",RO(35,fNt,o.selectedCollection_Activate_Name!="(All)"?"purple":"black")),te(3),Cr(" ",tn(6,19,"Excel")," "),te(2),ke("ngStyle",Ww(37,mNt,o.selectedCollection_Activate_Name!="(All)"?"purple":"black",o.selectedCollection_Activate_Name!="(All)"?"bold":"=normal")),te(3),Cr(" ",tn(11,21,"PDF")," "),te(5),Cr(" ",tn(16,23,"Legacy")," "),te(3),ke("disabled",!0),te(8),ke("ngIf",o.selectedCollection_Activate_Name=="(All)"),te(),ke("ngIf",o.selectedCollection_Activate_Name!="(All)"),te(4),ho(o.total_collections_num),te(5),Cr(" ",tn(37,25,"Datasets")," "),te(6),ho(o.total_datasets_num),te(5),Cr(" ",tn(48,27,"Files")," "),te(6),ho(o.total_files_num),te(5),Cr(" ",tn(59,29,"Downloads")," "),te(6),ho(o.total_downloads_num),te(5),Cr(" ",tn(70,31,o.selectedCollection_Activate_Name==="(All)"?"Users":"Authors")," "),te(6),ho(o.total_users_num),te(5),Cr(" ",tn(81,33,"StorageUsage")," "),te(6),ho(o.total_size_num))},dependencies:[qn,lm,qR,qp,RD,SD,xD,ED,nw,Bm,Lh,I$,Cd,Xp,Kp]});let e=t;return e})();var ONt=ot(ba()),bst=ot(ba());function bNt(e,t){}var fb=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}};var yH=(()=>{let t=class t extends dv{constructor(i,n,o,s,a,l,c,d){super(),this._elementRef=i,this._focusTrapFactory=n,this._config=s,this._interactivityChecker=a,this._ngZone=l,this._overlayRef=c,this._focusMonitor=d,this._platform=pe(Hr),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=pe(cr),this._injector=pe(mn),this._isDestroyed=!1,this.attachDomPortal=h=>{this._portalOutlet.hasAttached();let u=this._portalOutlet.attachDomPortal(h);return this._contentAttached(),u},this._document=o,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(i){this._ariaLabelledByQueue.push(i),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(i){let n=this._ariaLabelledByQueue.indexOf(i);n>-1&&(this._ariaLabelledByQueue.splice(n,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(i){this._portalOutlet.hasAttached();let n=this._portalOutlet.attachComponentPortal(i);return this._contentAttached(),n}attachTemplatePortal(i){this._portalOutlet.hasAttached();let n=this._portalOutlet.attachTemplatePortal(i);return this._contentAttached(),n}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(i,n){this._interactivityChecker.isFocusable(i)||(i.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let o=()=>{i.removeEventListener("blur",o),i.removeEventListener("mousedown",o),i.removeAttribute("tabindex")};i.addEventListener("blur",o),i.addEventListener("mousedown",o)})),i.focus(n)}_focusByCssSelector(i,n){let o=this._elementRef.nativeElement.querySelector(i);o&&this._forceFocus(o,n)}_trapFocus(){this._isDestroyed||pa(()=>{let i=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||i.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}},{injector:this._injector})}_restoreFocus(){let i=this._config.restoreFocus,n=null;if(typeof i=="string"?n=this._document.querySelector(i):typeof i=="boolean"?n=i?this._elementFocusedBeforeDialogWasOpened:null:i&&(n=i),this._config.restoreFocus&&n&&typeof n.focus=="function"){let o=bm(),s=this._elementRef.nativeElement;(!o||o===this._document.body||o===s||s.contains(o))&&(this._focusMonitor?(this._focusMonitor.focusVia(n,this._closeInteractionType),this._closeInteractionType=null):n.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let i=this._elementRef.nativeElement,n=bm();return i===n||i.contains(n)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=bm()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}};t.\u0275fac=function(n){return new(n||t)(Dt(di),Dt(E1),Dt(Ai,8),Dt(fb),Dt(S1),Dt(ci),Dt(Xu),Dt(qu))},t.\u0275cmp=qe({type:t,selectors:[["cdk-dialog-container"]],viewQuery:function(n,o){if(n&1&&or(ym,7),n&2){let s;Hi(s=Bi())&&(o._portalOutlet=s.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(n,o){n&2&&Yi("id",o._config.id||null)("role",o._config.role)("aria-modal",o._config.ariaModal)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null)},standalone:!0,features:[$r,ai],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(n,o){n&1&&Ki(0,bNt,0,0,"ng-template",0)},dependencies:[ym],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2});let e=t;return e})(),hR=class{constructor(t,r){this.overlayRef=t,this.config=r,this.closed=new Qe,this.disableClose=r.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=r.id,this.keydownEvents.subscribe(i=>{i.keyCode===27&&!this.disableClose&&!$l(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{r.closeOnOverlayDetachments!==!1&&this.close()})}close(t,r){if(this.containerInstance){let i=this.closed;this.containerInstance._closeInteractionType=r?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",r=""){return this.overlayRef.updateSize({width:t,height:r}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}},vNt=new Se("DialogScrollStrategy",{providedIn:"root",factory:()=>{let e=pe(bn);return()=>e.scrollStrategies.block()}}),yNt=new Se("DialogData"),_Nt=new Se("DefaultDialogConfig");var wNt=0,dst=(()=>{let t=class t{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(i,n,o,s,a,l){this._overlay=i,this._injector=n,this._defaultOptions=o,this._parentDialog=s,this._overlayContainer=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Qe,this._afterOpenedAtThisLevel=new Qe,this._ariaHiddenElements=new Map,this.afterAllClosed=xg(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ms(void 0))),this._scrollStrategy=l}open(i,n){let o=this._defaultOptions||new fb;n=jt(jt({},o),n),n.id=n.id||`cdk-dialog-${wNt++}`,n.id&&this.getDialogById(n.id);let s=this._getOverlayConfig(n),a=this._overlay.create(s),l=new hR(a,n),c=this._attachContainer(a,l,n);return l.containerInstance=c,this._attachDialogContent(i,l,c,n),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(l),l.closed.subscribe(()=>this._removeOpenDialog(l,!0)),this.afterOpened.next(l),l}closeAll(){vH(this.openDialogs,i=>i.close())}getDialogById(i){return this.openDialogs.find(n=>n.id===i)}ngOnDestroy(){vH(this._openDialogsAtThisLevel,i=>{i.config.closeOnDestroy===!1&&this._removeOpenDialog(i,!1)}),vH(this._openDialogsAtThisLevel,i=>i.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(i){let n=new Ku({positionStrategy:i.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:i.scrollStrategy||this._scrollStrategy(),panelClass:i.panelClass,hasBackdrop:i.hasBackdrop,direction:i.direction,minWidth:i.minWidth,minHeight:i.minHeight,maxWidth:i.maxWidth,maxHeight:i.maxHeight,width:i.width,height:i.height,disposeOnNavigation:i.closeOnNavigation});return i.backdropClass&&(n.backdropClass=i.backdropClass),n}_attachContainer(i,n,o){let s=o.injector||o.viewContainerRef?.injector,a=[{provide:fb,useValue:o},{provide:hR,useValue:n},{provide:Xu,useValue:i}],l;o.container?typeof o.container=="function"?l=o.container:(l=o.container.type,a.push(...o.container.providers(o))):l=yH;let c=new yd(l,o.viewContainerRef,mn.create({parent:s||this._injector,providers:a}),o.componentFactoryResolver);return i.attach(c).instance}_attachDialogContent(i,n,o,s){if(i instanceof ll){let a=this._createInjector(s,n,o,void 0),l={$implicit:s.data,dialogRef:n};s.templateContext&&(l=jt(jt({},l),typeof s.templateContext=="function"?s.templateContext():s.templateContext)),o.attachTemplatePortal(new Fg(i,null,l,a))}else{let a=this._createInjector(s,n,o,this._injector),l=o.attachComponentPortal(new yd(i,s.viewContainerRef,a,s.componentFactoryResolver));n.componentRef=l,n.componentInstance=l.instance}}_createInjector(i,n,o,s){let a=i.injector||i.viewContainerRef?.injector,l=[{provide:yNt,useValue:i.data},{provide:hR,useValue:n}];return i.providers&&(typeof i.providers=="function"?l.push(...i.providers(n,i,o)):l.push(...i.providers)),i.direction&&(!a||!a.get(Ds,null,{optional:!0}))&&l.push({provide:Ds,useValue:{value:i.direction,change:Me()}}),mn.create({parent:a||s,providers:l})}_removeOpenDialog(i,n){let o=this.openDialogs.indexOf(i);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,a)=>{s?a.setAttribute("aria-hidden",s):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),n&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let i=this._overlayContainer.getContainerElement();if(i.parentElement){let n=i.parentElement.children;for(let o=n.length-1;o>-1;o--){let s=n[o];s!==i&&s.nodeName!=="SCRIPT"&&s.nodeName!=="STYLE"&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let i=this._parentDialog;return i?i._getAfterAllClosed():this._afterAllClosedAtThisLevel}};t.\u0275fac=function(n){return new(n||t)(Jt(bn),Jt(mn),Jt(_Nt,8),Jt(t,12),Jt(_v),Jt(vNt))},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function vH(e,t){let r=e.length;for(;r--;)t(e[r])}function CNt(e,t){}var uR=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}},_H="mdc-dialog--open",hst="mdc-dialog--opening",ust="mdc-dialog--closing",xNt=150,SNt=75,ENt=(()=>{let t=class t extends yH{constructor(i,n,o,s,a,l,c,d,h){super(i,n,o,s,a,l,c,h),this._animationMode=d,this._animationStateChanged=new si,this._animationsEnabled=this._animationMode!=="NoopAnimations",this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?mst(this._config.enterAnimationDuration)??xNt:0,this._exitAnimationDuration=this._animationsEnabled?mst(this._config.exitAnimationDuration)??SNt:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(fst,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(hst,_H)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(_H),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(_H),this._animationsEnabled?(this._hostElement.style.setProperty(fst,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(ust)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(i){this._actionSectionCount+=i,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(hst,ust)}_waitForAnimationToComplete(i,n){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(n,i)}_requestAnimationFrame(i){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(i):i()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(i){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(i){let n=super.attachComponentPortal(i);return n.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),n}};t.\u0275fac=function(n){return new(n||t)(Dt(di),Dt(E1),Dt(Ai,8),Dt(uR),Dt(S1),Dt(ci),Dt(Xu),Dt(Fo,8),Dt(qu))},t.\u0275cmp=qe({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(n,o){n&2&&(ja("id",o._config.id),Yi("aria-modal",o._config.ariaModal)("role",o._config.role)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null),Vi("_mat-animation-noopable",!o._animationsEnabled)("mat-mdc-dialog-container-with-actions",o._actionSectionCount>0))},standalone:!0,features:[$r,ai],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(n,o){n&1&&(Lt(0,"div",0)(1,"div",1),Ki(2,CNt,0,0,"ng-template",2),Pt()())},dependencies:[ym],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12));border-radius:var(--mdc-dialog-container-shape, var(--mat-app-corner-extra-large, 4px));background-color:var(--mdc-dialog-container-color, var(--mat-app-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mdc-dialog-subhead-font, var(--mat-app-headline-small-font, inherit));line-height:var(--mdc-dialog-subhead-line-height, var(--mat-app-headline-small-line-height, 1.5rem));font-size:var(--mdc-dialog-subhead-size, var(--mat-app-headline-small-size, 1rem));font-weight:var(--mdc-dialog-subhead-weight, var(--mat-app-headline-small-weight, 400));letter-spacing:var(--mdc-dialog-subhead-tracking, var(--mat-app-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, var(--mat-app-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mdc-dialog-supporting-text-font, var(--mat-app-body-medium-font, inherit));line-height:var(--mdc-dialog-supporting-text-line-height, var(--mat-app-body-medium-line-height, 1.5rem));font-size:var(--mdc-dialog-supporting-text-size, var(--mat-app-body-medium-size, 1rem));font-weight:var(--mdc-dialog-supporting-text-weight, var(--mat-app-body-medium-weight, 400));letter-spacing:var(--mdc-dialog-supporting-text-tracking, var(--mat-app-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.cdk-high-contrast-active .mat-mdc-dialog-actions{border-top-color:CanvasText}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2});let e=t;return e})(),fst="--mat-dialog-transition-duration";function mst(e){return e==null?null:typeof e=="number"?e:e.endsWith("ms")?$u(e.substring(0,e.length-2)):e.endsWith("s")?$u(e.substring(0,e.length-1))*1e3:e==="0"?0:null}var UD=function(e){return e[e.OPEN=0]="OPEN",e[e.CLOSING=1]="CLOSING",e[e.CLOSED=2]="CLOSED",e}(UD||{}),wH=class{constructor(t,r,i){this._ref=t,this._containerInstance=i,this._afterOpened=new Qe,this._beforeClosed=new Qe,this._state=UD.OPEN,this.disableClose=r.disableClose,this.id=t.id,t.addPanelClass("mat-mdc-dialog-panel"),i._animationStateChanged.pipe(co(n=>n.state==="opened"),to(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(co(n=>n.state==="closed"),to(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),Bl(this.backdropClick(),this.keydownEvents().pipe(co(n=>n.keyCode===27&&!this.disableClose&&!$l(n)))).subscribe(n=>{this.disableClose||(n.preventDefault(),RNt(this,n.type==="keydown"?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(co(r=>r.state==="closing"),to(1)).subscribe(r=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),r.totalTime+100)}),this._state=UD.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let r=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?r.left(t.left):r.right(t.right):r.centerHorizontally(),t&&(t.top||t.bottom)?t.top?r.top(t.top):r.bottom(t.bottom):r.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",r=""){return this._ref.updateSize(t,r),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=UD.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function RNt(e,t,r){return e._closeInteractionType=t,e.close(r)}var TNt=new Se("MatMdcDialogData"),MNt=new Se("mat-mdc-dialog-default-options"),ANt=new Se("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let e=pe(bn);return()=>e.scrollStrategies.block()}});var INt=0,pst=(()=>{let t=class t{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let i=this._parentDialog;return i?i._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(i,n,o,s,a,l,c,d){this._overlay=i,this._defaultOptions=s,this._scrollStrategy=a,this._parentDialog=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Qe,this._afterOpenedAtThisLevel=new Qe,this.dialogConfigClass=uR,this.afterAllClosed=xg(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ms(void 0))),this._dialog=n.get(dst),this._dialogRefConstructor=wH,this._dialogContainerType=ENt,this._dialogDataToken=TNt}open(i,n){let o;n=jt(jt({},this._defaultOptions||new uR),n),n.id=n.id||`mat-mdc-dialog-${INt++}`,n.scrollStrategy=n.scrollStrategy||this._scrollStrategy();let s=this._dialog.open(i,Ue(jt({},n),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:n},{provide:fb,useValue:n}]},templateContext:()=>({dialogRef:o}),providers:(a,l,c)=>(o=new this._dialogRefConstructor(a,n,c),o.updatePosition(n?.position),[{provide:this._dialogContainerType,useValue:c},{provide:this._dialogDataToken,useValue:l.data},{provide:this._dialogRefConstructor,useValue:o}])}));return o.componentRef=s.componentRef,o.componentInstance=s.componentInstance,this.openDialogs.push(o),this.afterOpened.next(o),o.afterClosed().subscribe(()=>{let a=this.openDialogs.indexOf(o);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||this._getAfterAllClosed().next())}),o}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(i){return this.openDialogs.find(n=>n.id===i)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(i){let n=i.length;for(;n--;)i[n].close()}};t.\u0275fac=function(n){return new(n||t)(Jt(bn),Jt(mn),Jt(Vu,8),Jt(MNt,8),Jt(ANt),Jt(t,12),Jt(_v),Jt(Fo,8))},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var gst=(()=>{let t=class t{constructor(i){this.translocoService=i}switchLanguage(i){this.translocoService.setActiveLang(i)}getLanguage(){return this.translocoService.getActiveLang()}};t.\u0275fac=function(n){return new(n||t)(Jt(Hf))},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var PNt=["input"];function NNt(e,t){e&1&&(Lt(0,"div",21)(1,"h1",22),ne(2),Jr(3,"transloco"),Pt()()),e&2&&(te(2),ho(tn(3,1,"All")))}function LNt(e,t){if(e&1&&(Lt(0,"div",21)(1,"h4",23)(2,"b"),ne(3," \u2022 Collection Selected \u2022 "),Pt()(),Lt(4,"h1",22),ne(5),Pt()()),e&2){let r=Fi();te(5),ho(r.selectedCollection_Activate_Name)}}function FNt(e,t){e&1&&(Lt(0,"div")(1,"h4",24),ne(2," Invalid Date Range "),Pt()())}function HNt(e,t){e&1&&Be(0,"input",49)}function BNt(e,t){if(e&1&&Be(0,"input",37),e&2){Fi();let r=Va(20),i=Fi();ke("matDatepicker",r)("formControl",i.date_start)("min",i.minDate)("max",i.todayDate)}}function jNt(e,t){if(e&1&&(Lt(0,"mat-datepicker-toggle",38)(1,"mat-icon",39),ne(2,"event"),Pt()()),e&2){Fi();let r=Va(20);ke("for",r)("disableRipple",!0)}}function VNt(e,t){if(e&1){let r=Ho();Be(0,"hr",25),Lt(1,"div",26)(2,"div",27)(3,"div",28)(4,"mat-card",29)(5,"mat-card-header")(6,"mat-card-title-group")(7,"mat-card-title"),ne(8," Date Range "),Pt(),Be(9,"mat-card-subtitle"),Pt()(),Lt(10,"mat-card-content",30)(11,"div",31)(12,"mat-form-field",32)(13,"mat-label"),ne(14),Jr(15,"transloco"),Pt(),Ki(16,HNt,1,0,"input",33)(17,BNt,1,4,"input",34)(18,jNt,3,2,"mat-datepicker-toggle",35),Lt(19,"mat-datepicker",36,1),fi("monthSelected",function(n){fr(r);let o=Va(20),s=Fi();return mr(s.setStartMonthAndYear(n,o))}),Pt()(),Lt(21,"mat-form-field",32)(22,"mat-label"),ne(23),Jr(24,"transloco"),Pt(),Be(25,"input",37),Lt(26,"mat-datepicker-toggle",38)(27,"mat-icon",39),ne(28,"event"),Pt()(),Lt(29,"mat-datepicker",36,2),fi("monthSelected",function(n){fr(r);let o=Va(30),s=Fi();return mr(s.setEndMonthAndYear(n,o))}),Pt()()(),Lt(31,"div",40)(32,"mat-checkbox",41),fi("ngModelChange",function(n){fr(r);let o=Fi();return mr(o.start_on=!n)}),ne(33),Jr(34,"transloco"),Pt(),Lt(35,"div",42)(36,"button",43),fi("click",function(){fr(r);let n=Fi();return mr(n.CollectionDataButtonActivate())}),ne(37),Jr(38,"transloco"),Pt()()()()(),Lt(39,"mat-card",44)(40,"mat-card-header")(41,"mat-card-title-group")(42,"mat-card-title"),ne(43),Jr(44,"transloco"),Pt(),Be(45,"mat-card-subtitle"),Pt()(),Lt(46,"mat-card-content")(47,"app-tree",45),fi("dataEvent",function(n){fr(r);let o=Fi();return mr(o.getCollectionFromTree(n))}),Pt()()()()(),Be(48,"app-graph-dashboard",46)(49,"app-value-export-dashboard",47),Pt(),Be(50,"div",48)}if(e&2){let r=Va(30),i=Fi();te(14),ho(tn(15,22,"StartDate")),te(2),ke("ngIf",!i.start_on),te(),ke("ngIf",i.start_on),te(),ke("ngIf",i.start_on),te(5),ho(tn(24,24,"EndDate")),te(2),ke("matDatepicker",r)("formControl",i.date_end)("min",i.minDate)("max",i.todayDate),te(),ke("for",r)("disableRipple",!0),te(6),ke("ngModel",!i.start_on),te(),Cr(" ",tn(34,26,"AllTime")," "),te(4),Cr(" ",tn(38,28,"Submit")," "),te(6),Cr(" ",tn(44,30,"DataverseTree")," "),te(4),ke("data",i.raw_table_data)("current_active",i.selectedCollection_Activate_Name),te(),ke("data",i.raw_table_data)("selectedCollection_Activate_Name",i.selectedCollection_Activate_Name),te(),ke("data",i.raw_table_data)("selectedCollection_Activate_Name",i.selectedCollection_Activate_Name)("date_start_on",i.date_start_activate)}}hD();var Vf=bst.default||ONt,zNt={parse:{dateInput:"YYYY-MM"},display:{dateInput:"YYYY-MM",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}},vst=(()=>{let t=class t{setStartMonthAndYear(i,n){this.date_start=new Ec(Vf());let o=this.date_start.value??Vf();o.month(i.month()),o.year(i.year()),this.date_start.setValue(o),n.close()}setEndMonthAndYear(i,n){this.dateStringFormat();let o=this.date_end.value??Vf();o.month(i.month()),o.year(i.year()),this.date_end.setValue(o),n.close()}submitDate(){let i=this.date_start.value??Vf(),n=this.date_end.value??Vf();console.log(i,n);let o=i.format("YYYY-MM"),s=n.format("YYYY-MM");this.start_on||(this.date_start_activate="",console.log(this.date_start_activate)),this.bad_range=!1,this.start_on&&o>s&&(this.bad_range=!0),this.start_on&&!this.bad_range&&(this.date_start_activate=o,this.date_end_activate=s,this.date_select_on=!0),!this.start_on&&!this.bad_range&&(this.date_end_activate=s,this.date_select_on=!0)}dateStringFormat(){var i=["January","February","March","April","May","June","July","August","September","October","November","December"],n="";if(this.start_on){let c=this.date_start.value??Vf(),d=c.format("YYYY"),h=c.format("MM");console.log(c.format("YYYY"),c.format("MM")),n=i[parseInt(h)-1]+" "+d}let o=this.date_end.value??Vf(),s=o.format("YYYY"),a=o.format("MM");console.log(o.format("YYYY"),o.format("MM"));let l=i[parseInt(a)-1]+" "+s;return n=n+" - "+l}getData(i){this.raw_table_data=i.DataverseTabData,this.table_data=i.DataverseTabData.table_data,this.alias_data=i.DataverseTabData.alias_data,this.subject_table=i.DataverseTabData.subject_full_data,this.file_content_table=i.DataverseTabData.file_content_full_data,this.options=this.options.concat(i.DataverseTabData.name_dropdown_data.sort()),this.searchGroups[2].names=this.options,this.selectedCollection_Current=="(All)"?this.searchGroups[1].names=[]:this.searchGroups[1].names=this.table_data.map(n=>n.name),console.log(this.searchGroups),this.months=i.DataverseTabData.months,this.barChartDataDownloads_data=i.DataverseTabData.downloads_graph_data.reverse(),this.barChartDataDatasets_data=i.DataverseTabData.datasets_graph_data.reverse(),this.barChartDataFiles_data=i.DataverseTabData.files_graph_data.reverse(),this.barChartDataUsers_data=i.DataverseTabData.users_graph_data.reverse(),this.barChartDataSize_data=i.DataverseTabData.size_graph_data.reverse(),this.barChartDataDownloadsAgg_data=i.DataverseTabData.downloads_graph_agg_data.reverse(),this.barChartDataDatasetsAgg_data=i.DataverseTabData.datasets_graph_agg_data.reverse(),this.barChartDataFiles_Aggdata=i.DataverseTabData.files_graph_agg_data.reverse(),this.barChartDataUsers_Aggdata=i.DataverseTabData.users_graph_agg_data.reverse(),this.barChartDataSize_Aggdata=i.DataverseTabData.size_graph_agg_data.reverse(),this.pieChartLabelsSubject=i.DataverseTabData.subject_label_data,this.pieChartDataSubject_data=i.DataverseTabData.subject_data,this.pieChartLabelsFile=i.DataverseTabData.file_content_label_data,this.pieChartDataFile_data=i.DataverseTabData.file_content_data,this.total_collections_num=i.DataverseTabData.name_dropdown_data.length.toString(),this.selectedCollection_Activate_Name=="(All)"?this.total_dataverses_num=(i.DataverseTabData.dataverse_count-i.DataverseTabData.name_dropdown_data.length).toString():this.total_dataverses_num=i.DataverseTabData.dataverse_count,this.date_start_activate!=""?(console.log("ds is activated here"),this.total_datasets_num=this.barChartDataDatasetsAgg_data.reduce((n,o)=>n+o,0).toLocaleString(),this.total_files_num=this.barChartDataFiles_Aggdata.reduce((n,o)=>n+o,0).toLocaleString(),this.total_downloads_num=this.barChartDataDownloadsAgg_data.reduce((n,o)=>n+o,0).toLocaleString(),this.total_users_num=this.barChartDataUsers_Aggdata.reduce((n,o)=>n+o,0).toLocaleString(),this.total_size_num=this.barChartDataSize_Aggdata.reduce((n,o)=>n+o,0).toFixed(2).toLocaleString(),+"GB"):(this.total_datasets_num=this.barChartDataDatasets_data[this.barChartDataDatasetsAgg_data.length-1].toLocaleString(),this.total_files_num=this.barChartDataFiles_data[this.barChartDataDatasets_data.length-1].toLocaleString(),this.total_downloads_num=this.barChartDataDownloads_data[this.barChartDataDownloads_data.length-1].toLocaleString(),this.total_users_num=this.barChartDataUsers_data[this.barChartDataUsers_data.length-1].toLocaleString(),this.total_size_num=this.barChartDataSize_data[this.barChartDataSize_data.length-1].toFixed(2).toLocaleString()+"GB"),this.total_collections_change=((this.barChartDataDatasets_data[0]-this.barChartDataDatasets_data[1])/this.barChartDataDatasets_data[1]*100).toFixed(2).toString()+"%",this.translocoService.selectTranslateObject(["MonthlyFileDownloads","MonthlyDatasetsPublished","MonthlyFilePublished","MonthlyUsersJoined","MonthlyStorageUsed","CumulativeFileDownloads","CumulativeDatasetsPublished","CumulativeFilePublished","CumulativeUsersJoined","CumulativeStorageUsed","Subject","Count","Distribution","FileType","SpecificFileType"]).subscribe(([n,o,s,a,l,c,d,h,u,f,m,g,p,b,_])=>{let E=this.months.reverse();this.barChartDataDownloads={labels:E,datasets:[{data:this.barChartDataDownloadsAgg_data,label:"Monthly File Downloads",backgroundColor:"rgba(102, 0, 102, 0.5)",borderColor:"rgba(102, 0, 102, 0.5)",hoverBackgroundColor:"rgba(102, 0, 102, 0.7)",hoverBorderColor:"rgba(102, 0, 102, 0.7)"},{data:this.barChartDataDownloads_data,label:"Cumulative File Downloads",backgroundColor:"rgba(0, 100, 255, 0.5)",borderColor:"rgba(0, 100, 255, 0.5)",hoverBackgroundColor:"rgba(0, 100, 255, 0.7)",hoverBorderColor:"rgba(0, 100, 255, 0.7)"}]},this.barChartDataDatasets={labels:E,datasets:[{data:this.barChartDataDatasetsAgg_data,label:"Monthly Datasets Published",backgroundColor:"rgba(102, 0, 102, 0.5)",borderColor:"rgba(102, 0, 102, 0.5)",hoverBackgroundColor:"rgba(102, 0, 102, 0.7)",hoverBorderColor:"rgba(102, 0, 102, 0.7)"},{data:this.barChartDataDatasets_data,label:"Cumulative Datasets Published",backgroundColor:"rgba(0, 100, 255, 0.5)",borderColor:"rgba(0, 100, 255, 0.5)",hoverBackgroundColor:"rgba(0, 100, 255, 0.7)",hoverBorderColor:"rgba(0, 100, 255, 0.7)"}]},this.barChartDataFiles={labels:E,datasets:[{data:this.barChartDataFiles_Aggdata,label:"Monthly File Published",backgroundColor:"rgba(102, 0, 102, 0.5)",borderColor:"rgba(102, 0, 102, 0.5)",hoverBackgroundColor:"rgba(102, 0, 102, 0.7)",hoverBorderColor:"rgba(102, 0, 102, 0.7)"},{data:this.barChartDataFiles_data,label:"Cumulative File Published",backgroundColor:"rgba(0, 100, 255, 0.5)",borderColor:"rgba(0, 100, 255, 0.5)",hoverBackgroundColor:"rgba(0, 100, 255, 0.7)",hoverBorderColor:"rgba(0, 100, 255, 0.7)"}]},this.barChartDataUsers={labels:E,datasets:[{data:this.barChartDataUsers_Aggdata,label:"Monthly Users Joined",backgroundColor:"rgba(102, 0, 102, 0.5)",borderColor:"rgba(102, 0, 102, 0.5)",hoverBackgroundColor:"rgba(102, 0, 102, 0.7)",hoverBorderColor:"rgba(102, 0, 102, 0.7)"},{data:this.barChartDataUsers_data,label:"Cumulative Users Joined",backgroundColor:"rgba(0, 100, 255, 0.5)",borderColor:"rgba(0, 100, 255, 0.5)",hoverBackgroundColor:"rgba(0, 100, 255, 0.7)",hoverBorderColor:"rgba(0, 100, 255, 0.7)"}]},this.barChartDataSize={labels:E,datasets:[{data:this.barChartDataSize_Aggdata,label:"Monthly Storage Used",backgroundColor:"rgba(102, 0, 102, 0.5)",borderColor:"rgba(102, 0, 102, 0.5)",hoverBackgroundColor:"rgba(102, 0, 102, 0.7)",hoverBorderColor:"rgba(102, 0, 102, 0.7)"},{data:this.barChartDataSize_data,label:"Cumulative Storage Used",backgroundColor:"rgba(0, 100, 255, 0.5)",borderColor:"rgba(0, 100, 255, 0.5)",hoverBackgroundColor:"rgba(0, 100, 255, 0.7)",hoverBorderColor:"rgba(0, 100, 255, 0.7)"}]},this.subject_columns=[{data:"subject",readOnly:"true",title:m},{data:"count",readOnly:"true",title:g},{data:"percent",readOnly:"true",title:p}],this.file_content_columns=[{data:"type",readOnly:"true",title:b},{data:"contenttype",readOnly:"true",title:_},{data:"count",readOnly:"true",title:g},{data:"percent",readOnly:"true",title:p}]}),this.pieChartDataSubject=[{data:this.pieChartDataSubject_data,label:"Subject Breakdown"}],this.pieChartDataFile=[{data:this.pieChartDataFile_data,label:"File Content Breakdown"}],console.log(this.pieChartDataSubject)}ngOnInit(){this.searchGroupOptions=this.searchForm.get("searchGroup").valueChanges.pipe(Ms(""),ui(i=>this._filterGroup(i||"")))}_filterGroup(i){return i?this.searchGroups.map(n=>({letter:n.letter,names:this._filter(n.names,i)})).filter(n=>n.names.length>0):this.searchGroups}selectedCollection(i){if(this.selectedCollection_Current_Name=i.value,i.value=="(All)")this.selectedCollection_Current="(All)";else for(let n=0;n<=this.alias_data.length;n++)this.alias_data[n].name==i.value&&(this.selectedCollection_Current=this.alias_data[n].alias);console.log(i.value)}getCollectionFromTree(i){i.includes("(All)")?(this.selectedCollection_Activate="(All)",this.selectedCollection_Activate_Name="(All)"):(this.receivedCollectionFromTree=i,console.log(i),this.selectedCollection_Current=i[1],this.selectedCollection_Current_Name=i[0],this.selectedCollection_Activate=this.selectedCollection_Current,this.selectedCollection_Activate_Name=this.selectedCollection_Current_Name),this.submitDate(),this.date_String=this.dateStringFormat()}selectedDate(i,n){console.log(i),console.log(n)}CollectionDataButtonActivate(){this.selectedOption=this.selectedCollection_Current_Name;var i=!1;if(this.selectedOption=="(All)")this.selectedCollection_Current="(All)",this.selectedCollection_Current_Name="(All)",i=!0;else for(let n=0;n<this.alias_data.length;n++)this.alias_data[n].name===this.selectedOption&&(console.log(this.alias_data[n].alias),this.selectedCollection_Current=this.alias_data[n].alias,this.selectedCollection_Current_Name=this.selectedOption,i=!0);i&&(this.selectedCollection_Activate=this.selectedCollection_Current,this.selectedCollection_Activate_Name=this.selectedCollection_Current_Name,this.submitDate(),this.date_String=this.dateStringFormat(),console.log(this.selectedCollection_Activate))}constructor(i,n,o,s,a){this._liveAnnouncer=i,this.dialog=n,this.languageService=o,this.translocoService=s,this.cdr=a,this._formBuilder=pe(nz),this.start_on=!1,this.date_start=new Ec(Vf()),this.date_end=new Ec(Vf()),this.date_String=this.dateStringFormat(),this.date_start_activate="",this.date_end_activate="",this.date_select_on=!1,this.todayDate=new Date,this.minDate=new Date("2016-02-01"),this.bad_range=!1,this.myControl=new Ec(""),this.options=[],this.selectedOption="(All)",this.searchForm=this._formBuilder.group({searchGroup:""}),this.searchGroups=[{letter:"Default",names:["(All)"]},{letter:"Sub Dataverses",names:[]},{letter:"Collections",names:[]}],this.table_data=[],this.alias_data=[],this.raw_table_data={},this.subject_table=[],this.file_content_table=[],this.downloads_graph_data=[],this.datasets_graph_data=[],this.files_graph_data=[],this.users_graph_data=[],this.size_graph_data=[],this.name_dropdown_data=[],this.barChartDataDownloads_data=[],this.barChartDataDownloads={labels:[],datasets:[]},this.barChartDataDatasets_data=[],this.barChartDataDatasets={labels:[],datasets:[]},this.barChartDataFiles_data=[],this.barChartDataFiles={labels:[],datasets:[]},this.barChartDataUsers_data=[],this.barChartDataUsers={labels:[],datasets:[]},this.barChartDataSize_data=[],this.barChartDataSize={labels:[],datasets:[]},this.subject_columns=[],this.file_content_columns=[],this.months=[],this.barChartDataDownloadsAgg_data=[],this.barChartDataDatasetsAgg_data=[],this.barChartDataFiles_Aggdata=[],this.barChartDataUsers_Aggdata=[],this.barChartDataSize_Aggdata=[],this.pieChartDataSubject_data=[],this.pieChartLabelsSubject=[],this.pieChartDataSubject=[],this.pieChartDataFile_data=[],this.pieChartLabelsFile=[],this.pieChartDataFile=[],this.selectedCollection_Current="(All)",this.selectedCollection_Activate="(All)",this.selectedCollection_Current_Name="(All)",this.selectedCollection_Activate_Name="(All)",this.total_collections_num="-",this.total_dataverses_num="-",this.total_datasets_num="-",this.total_files_num="-",this.total_downloads_num="-",this.total_users_num="-",this.total_size_num="-",this.total_collections_change="-",this.total_datasets_change="-",this.total_files_chnage="-",this.total_downloads_change="-",this.total_users_change="-",this.total_size_change="-",this.downloads_labels=[this.translocoService.selectTranslate("MonthlyFileDownloads"),this.translocoService.selectTranslate("CumulativeFileDownloads")],this.datasets_labels=[this.translocoService.selectTranslate("MonthlyDatasetsPublished"),this.translocoService.selectTranslate("CumulativeDatasetsPublished")],this.file_labels=[this.translocoService.selectTranslate("MonthlyFilePublished"),this.translocoService.selectTranslate("CumulativeFilePublished")],this.user_labels=[this.translocoService.selectTranslate("MonthlyUsersJoined"),this.translocoService.selectTranslate("CumulativeUsersJoined")],this.storage_usage=[this.translocoService.selectTranslate("MonthlyStorageUsed"),this.translocoService.selectTranslate("CumulativeStorageUsed")],this.dataset_table_data=[],this.file_table_data=[],this.subjectTableOn=!1,this.fileContentTableOn=!1,this.receivedCollectionFromTree=[],this.isOpen=!1,this._filter=(l,c)=>{let d=c.toLowerCase();return l.filter(h=>h.toLowerCase().includes(d))},this.displayedColumns=["name","views","downloads","citations"],this.title="metrics-app",this.range=new Cm({start:new Ec(null),end:new Ec(null)}),this.filteredOptions=this.options.slice()}filter(){let i=this.input.nativeElement.value.toLowerCase();this.filteredOptions=this.options.filter(n=>n.toLowerCase().includes(i))}switchLanguage(i){this.languageService.switchLanguage(i),this.cdr.detectChanges(),this.cdr.markForCheck()}getLanguage(){return this.languageService.getLanguage()}ngAfterViewInit(){}announceSortChange(i){i.direction?this._liveAnnouncer.announce(`Sorted ${i.direction}ending`):this._liveAnnouncer.announce("Sorting cleared")}openAboutDialog(){this.dialog.open(UNt)}openTOCDialog(){this.dialog.open(WNt)}openFAQDialog(){this.dialog.open(YNt)}subjectToggle(){this.subjectTableOn?this.subjectTableOn=!1:this.subjectTableOn=!0}defaultButton(){window.location.reload()}};t.\u0275fac=function(n){return new(n||t)(Dt(dV),Dt(pst),Dt(gst),Dt(Hf),Dt(cr))},t.\u0275cmp=qe({type:t,selectors:[["app-root"]],viewQuery:function(n,o){if(n&1&&(or(PNt,5),or(L$,5)),n&2){let s;Hi(s=Bi())&&(o.input=s.first),Hi(s=Bi())&&(o.sort=s.first)}},standalone:!0,features:[xr([az(zNt)]),ai],decls:41,vars:26,consts:[["download",""],["dp_s",""],["dp_e",""],[2,"padding","20px"],[2,"float","left"],["src","assets/logo.png","alt","image",2,"max-width","100%","height","30px","position","absolute"],[2,"position","relative","left","35px"],[2,"float","right","align-items","center"],[2,"float","right","position","relative"],["mat-button","",3,"click","disabled"],[2,"clear","both"],["mat-button","",1,"mat-small",2,"min-width","1%",3,"click"],[3,"messageEvent","collectionSelected","collectionSelectedName","startDate","endDate","start_on"],[2,"max-width","none","width","100vw","margin-left","0","padding-left","40px"],[1,"title-container"],["id","pdf_name",4,"ngIf"],["id","pdf_date",2,"margin-bottom","4px"],[2,"max-width","fit-content","margin-left","auto","margin-right","auto"],[4,"ngIf"],[3,"data","name"],[3,"ngIf"],["id","pdf_name"],["id","responsive-title",1,"responsive-title"],[2,"color","purple"],[2,"color","red","text-align","center"],[2,"border","none","height","1px","background-color","#ccc","margin","16px 0"],[2,"margin","auto","width","100%","display","flex"],[2,"vertical-align","top"],["id","main_meteris"],["appearance","outlined",1,"example-card","hide-scrollbar",2,"min-width","350px","max-width","350px","margin-bottom","10px","margin-left","5px","margin-top","10px","max-height","500px","overflow-y","auto","font-size","12px"],[2,"margin-top","10px","margin-left","17px"],[2,"display","flex","flex-direction","row"],["appearance","outline","disableRipple","",1,"compact-form-field",2,"margin-left","10px"],["matInput","","disabled","",4,"ngIf"],["matInput","",3,"matDatepicker","formControl","min","max",4,"ngIf"],["matIconSuffix","","class","custom-toggle",3,"for","disableRipple",4,"ngIf"],["startView","multi-year","panelClass","example-month-picker",3,"monthSelected"],["matInput","",3,"matDatepicker","formControl","min","max"],["matIconSuffix","",1,"custom-toggle",3,"for","disableRipple"],["matDatepickerToggleIcon","",1,"small-datepicker-icon"],[2,"display","flex","align-items","center","margin-top","-20px","margin-left","12px","margin-right","20px"],["matTooltip","Generates metrics from creation, visual displays last 24 months",2,"font-size","16px","transform","scale(0.9)","transform-origin","left top","margin-left","8px",3,"ngModelChange","ngModel"],[2,"margin-left","auto","margin-right","10px"],["mat-button","",2,"border","1px solid","font-size","12px","width","125px","height","25px",3,"click"],["appearance","outlined",1,"example-card","hide-scrollbar",2,"min-width","350px","max-width","350px","margin-left","5px","max-height","3350px","overflow-y","auto","font-size","12px"],[3,"dataEvent","data","current_active"],[3,"data","selectedCollection_Activate_Name"],[3,"data","selectedCollection_Activate_Name","date_start_on"],[2,"padding-top","1200px","height","1000px"],["matInput","","disabled",""]],template:function(n,o){if(n&1){let s=Ho();Lt(0,"div")(1,"h2",3)(2,"div",4),Be(3,"img",5),Lt(4,"div",6),ne(5),Jr(6,"transloco"),Pt()(),Lt(7,"div",7)(8,"div",8)(9,"button",9),fi("click",function(){return fr(s),mr(o.switchLanguage("en"))}),ne(10," English "),Pt(),ne(11," | "),Lt(12,"button",9),fi("click",function(){return fr(s),mr(o.switchLanguage("fr"))}),ne(13," Fran\xE7ais "),Pt()(),Lt(14,"div",10)(15,"button",11),fi("click",function(){return fr(s),mr(o.openAboutDialog())}),ne(16),Jr(17,"transloco"),Pt(),ne(18," | "),Lt(19,"button",11),fi("click",function(){return fr(s),mr(o.openTOCDialog())}),ne(20),Jr(21,"transloco"),Pt(),ne(22," | "),Lt(23,"button",11),fi("click",function(){return fr(s),mr(o.openFAQDialog())}),ne(24),Jr(25,"transloco"),Pt()()()()(),Lt(26,"app-posts",12),fi("messageEvent",function(l){return fr(s),mr(o.getData(l))}),Pt(),Lt(27,"div",13)(28,"div",14),Ki(29,NNt,4,3,"div",15)(30,LNt,6,1,"div",15),Lt(31,"div",16)(32,"p")(33,"i"),ne(34),Pt()()()()(),Lt(35,"div",17),Ki(36,FNt,3,0,"div",18),Lt(37,"div",10),Be(38,"app-download",19,0),Ki(40,VNt,51,32,"ng-template",20),Pt()()}n&2&&(te(5),Cr(" ",tn(6,18,"Title")," "),te(4),ke("disabled",o.getLanguage()=="en"),te(3),ke("disabled",o.getLanguage()=="fr"),te(4),Cr(" ",tn(17,20,"About")," "),te(4),Cr(" ",tn(21,22,"TermsofConditions")," "),te(4),Cr(" ",tn(25,24,"FAQ")," "),te(2),ke("collectionSelected",o.selectedCollection_Activate)("collectionSelectedName",o.selectedCollection_Current_Name)("startDate",o.date_start_activate)("endDate",o.date_end_activate)("start_on",o.start_on),te(3),ke("ngIf",o.selectedCollection_Activate==="(All)"),te(),ke("ngIf",o.selectedCollection_Activate!=="(All)"),te(4),ho(o.date_String),te(2),ke("ngIf",o.bad_range==!0),te(2),ke("data",o.raw_table_data)("name",o.selectedOption),te(2),ke("ngIf",!0))},dependencies:[TV,Vg,Cz,XT,_z,Oz,Sz,xz,Pz,oz,gv,YT,y4,GT,B1,AV,E$,Lh,Cd,$v,Bm,F$,iI,xnt,Cnt,bD,T9,R9,Jot,Yj,Mnt,Jnt,qn,lm,ow,qp,nw,RD,ED,xD,SD,rot,MD,Zot,ost,nst,Xp,Kp,ast,lst,cst],styles:[".handsontable[_ngcontent-%COMP%]   .odd[_ngcontent-%COMP%], .handsontable[_ngcontent-%COMP%]   .even[_ngcontent-%COMP%]{background:red!important;color:red!important}.mat-mdc-menu-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:40px!important}.hide-scrollbar[_ngcontent-%COMP%]{overflow:auto;scrollbar-width:none;-ms-overflow-style:none}.hide-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.title-container[_ngcontent-%COMP%]{vertical-align:top;margin-top:60px;margin-left:0;padding-left:0;position:relative;max-width:none;width:100%;box-sizing:border-box}.responsive-title[_ngcontent-%COMP%]{font-weight:700;font-size:clamp(16px,4vw,32px);white-space:normal;overflow-wrap:break-word;max-width:90vw;padding-left:5px}#pdf_name[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{line-height:1.2;padding-bottom:4px}#pdf_date[_ngcontent-%COMP%]{margin-top:-10px;font-size:18px;margin-left:5px}.compact-mat-form-field[_ngcontent-%COMP%]{width:140px;--mat-form-field-container-height: 36px;--mat-form-field-container-vertical-padding: 4px;font-size:16px}.compact-mat-form-field[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding-top:4px;padding-bottom:4px;height:32px}"],changeDetection:0});let e=t;return e})(),UNt=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=qe({type:t,selectors:[["about-dialog-popup"]],decls:104,vars:0,consts:[[2,"height","600px","width","700px","padding","20px 40px","overflow-y","auto","box-sizing","border-box"],["mat-dialog-title","",2,"font-size","32px","font-weight","bold"]],template:function(n,o){n&1&&(Lt(0,"div",0)(1,"h1",1),ne(2,"About"),Pt(),Lt(3,"p")(4,"strong"),ne(5,"Borealis"),Pt(),ne(6," is a secure, multidisciplinary Canadian research data repository. This metrics page, created by the University of Toronto Dataverse Team, allows Borealis users to curate and analyze data metrics across the entire platform and within specific dataverses. "),Pt(),Lt(7,"h3")(8,"strong"),ne(9,"Dataverse Tree"),Pt()(),Lt(10,"p"),ne(11," The Dataverse Tree is a configuration tool that allows users to navigate and search through 1,500+ dataverses organically and in their intended data structure. "),Pt(),Lt(12,"h3")(13,"strong"),ne(14,"Date Range"),Pt()(),Lt(15,"p"),ne(16," Examine data from any time frame, from its creation to the most recent month. "),Pt(),Lt(17,"h3")(18,"strong"),ne(19,"Exports"),Pt()(),Lt(20,"p"),ne(21,"The Metrics Page currently supports 4 export options:"),Pt(),Lt(22,"ul")(23,"li")(24,"strong"),ne(25,"Excel"),Pt(),ne(26," \u2013 Exports data from the currently selected dataverse and date range into a multi-sheet XLSX file."),Pt(),Lt(27,"li")(28,"strong"),ne(29,"PDF"),Pt(),ne(30," \u2013 Exports the visual and main metrics data for the selected dataverse and date range into a single organized PDF page."),Pt(),Lt(31,"li")(32,"strong"),ne(33,"Legacy"),Pt(),ne(34," \u2013 Exports the large data dump that was available on the previous Data Metrics Page."),Pt(),Lt(35,"li")(36,"strong"),ne(37,"DataCite"),Pt(),ne(38," \u2013 Exports DataCite and MakeDataCount-related data."),Pt()(),Lt(39,"h3")(40,"strong"),ne(41,"Graph Dashboard"),Pt()(),Lt(42,"p"),ne(43," Graphs can be toggled, and their range will adjust based on the selected dates. "),Pt(),Lt(44,"ul")(45,"li"),ne(46,"Bar graphs display both cumulative and monthly metrics and can be toggled by clicking on the legend."),Pt(),Lt(47,"li"),ne(48,"Pie graphs allow toggling of distribution by clicking the legend as well."),Pt()(),Lt(49,"h3")(50,"strong"),ne(51,"Collections"),Pt()(),Lt(52,"p"),ne(53,"Number of collections currently hosted on Borealis."),Pt(),Lt(54,"h3")(55,"strong"),ne(56,"Dataverse"),Pt()(),Lt(57,"p"),ne(58,"Number of sub-dataverses within the selected dataverse."),Pt(),Lt(59,"h3")(60,"strong"),ne(61,"Datasets"),Pt()(),Lt(62,"p"),ne(63,"Number of datasets."),Pt(),Lt(64,"h3")(65,"strong"),ne(66,"Files"),Pt()(),Lt(67,"p"),ne(68,"Number of files."),Pt(),Lt(69,"h3")(70,"strong"),ne(71,"Downloads"),Pt()(),Lt(72,"p"),ne(73,"Number of files downloaded that are hosted within the selected dataverse."),Pt(),Lt(74,"h3")(75,"strong"),ne(76,"Users"),Pt()(),Lt(77,"p"),ne(78,"Number of user accounts in Borealis. Only given when Borealis (All) is selected. "),Pt(),Lt(79,"h3")(80,"strong"),ne(81,"Authors"),Pt()(),Lt(82,"p"),ne(83,"Number of authors with published contributions in the selected dataverse."),Pt(),Lt(84,"h3")(85,"strong"),ne(86,"Storage Usage"),Pt()(),Lt(87,"p"),ne(88,"Total size of files hosted in the selected dataverse."),Pt(),Lt(89,"h3")(90,"strong"),ne(91,"Subject Breakdown"),Pt()(),Lt(92,"p"),ne(93," Breakdown of assigned subjects for datasets and their distribution within the selected dataverse. "),Pt(),Lt(94,"h3")(95,"strong"),ne(96,"File Breakdown"),Pt()(),Lt(97,"p"),ne(98," Breakdown of file types and extensions of files hosted in the dataverse, as well as their distribution. "),Pt(),Lt(99,"h3")(100,"strong"),ne(101,"Translations"),Pt()(),Lt(102,"p"),ne(103," Available in English or Fran\xE7ais. Dataverses are represented in their original language and intention, along with the metadata attached to them. "),Pt()())},encapsulation:2});let e=t;return e})(),WNt=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=qe({type:t,selectors:[["toc-dialog-popup"]],decls:3,vars:0,consts:[[2,"height","600px","width","700px","padding","20px 40px","overflow-y","auto","box-sizing","border-box"],[2,"font-size","32px","font-weight","bold"]],template:function(n,o){n&1&&(Lt(0,"div",0)(1,"h1",1),ne(2,"Terms of Conditions"),Pt()())},encapsulation:2});let e=t;return e})(),YNt=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=qe({type:t,selectors:[["faq-dialog-popup"]],decls:50,vars:0,consts:[[2,"height","600px","width","700px","padding","20px 40px","overflow-y","auto","box-sizing","border-box"],[2,"font-size","32px","font-weight","bold"],["href","https://guides.dataverse.org/en/latest/api/metrics.html","target","_blank"]],template:function(n,o){n&1&&(Lt(0,"div",0)(1,"h1",1),ne(2,"FAQ"),Pt(),Lt(3,"h3")(4,"strong"),ne(5,"Where is this data collected from?"),Pt()(),Lt(6,"p"),ne(7," Data is collected through the Dataverse Metrics API. For more information, visit: "),Lt(8,"a",2),ne(9," guides.dataverse.org/en/latest/api/metrics.html "),Pt()(),Lt(10,"h3")(11,"strong"),ne(12,"Who created this tool?"),Pt()(),Lt(13,"p"),ne(14," The Dataverse Team at the University of Toronto Libraries. "),Pt(),Lt(15,"h3")(16,"strong"),ne(17,"What is Borealis (All)?"),Pt()(),Lt(18,"p"),ne(19," Borealis (All) refers to the entirety of Borealis \u2014 meaning the data represents all dataverses combined. "),Pt(),Lt(20,"h3")(21,"strong"),ne(22,"Why isn\u2019t this specific dataverse included?"),Pt()(),Lt(23,"p"),ne(24," It may take time for a dataverse to be reflected in the source data. Also, dataverses must be published to be included. "),Pt(),Lt(25,"h3")(26,"strong"),ne(27,"Why isn\u2019t my dataverse displayed in French?"),Pt()(),Lt(28,"p"),ne(29," Dataverses are displayed in their original, published language. "),Pt(),Lt(30,"h3")(31,"strong"),ne(32,"What is Legacy?"),Pt()(),Lt(33,"p"),ne(34," Legacy is a structured data export that was previously hosted on the older version of the Dataverse Metrics Page. "),Pt(),Lt(35,"h3")(36,"strong"),ne(37,"What is DataCite / MakeDataCount?"),Pt()(),Lt(38,"p"),ne(39," MakeDataCount is a third-party, community-led project that tracks metrics such as downloads, views, and citations for files, datasets, and dataverses within Borealis. "),Pt(),Lt(40,"h3")(41,"strong"),ne(42,"It\u2019s the first of the month \u2014 why isn\u2019t this month included?"),Pt()(),Lt(43,"p"),ne(44," It can take a few business days (typically 3\u20135) for the current month\u2019s data to appear in the metrics. "),Pt(),Lt(45,"h3")(46,"strong"),ne(47,"Who can I contact for other questions, improvements, discovered bugs and feature requests?"),Pt()(),Lt(48,"p"),ne(49," Please reach out to the Dataverse Team at the University of Toronto Libraries. "),Pt()())},encapsulation:2});let e=t;return e})();var $Nt="@",qNt=(()=>{let t=class t{constructor(i,n,o,s,a){this.doc=i,this.delegate=n,this.zone=o,this.animationType=s,this.moduleImpl=a,this._rendererFactoryPromise=null,this.scheduler=pe(iB,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-VOUMGOGV.js").then(n=>n)).catch(n=>{throw new An(5300,!1)}).then(({\u0275createEngine:n,\u0275AnimationRendererFactory:o})=>{this._engine=n(this.animationType,this.doc);let s=new o(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(i,n){let o=this.delegate.createRenderer(i,n);if(o.\u0275type===0)return o;typeof o.throwOnSyntheticProps=="boolean"&&(o.throwOnSyntheticProps=!1);let s=new CH(o);return n?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(a=>{let l=a.createRenderer(i,n);s.use(l),this.scheduler?.notify(9)}).catch(a=>{s.use(o)}),s}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};t.\u0275fac=function(n){ju()},t.\u0275prov=we({token:t,factory:t.\u0275fac});let e=t;return e})(),CH=class{constructor(t){this.delegate=t,this.replay=[],this.\u0275type=1}use(t){if(this.delegate=t,this.replay!==null){for(let r of this.replay)r(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,r){return this.delegate.createElement(t,r)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,r){this.delegate.appendChild(t,r)}insertBefore(t,r,i,n){this.delegate.insertBefore(t,r,i,n)}removeChild(t,r,i){this.delegate.removeChild(t,r,i)}selectRootElement(t,r){return this.delegate.selectRootElement(t,r)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,r,i,n){this.delegate.setAttribute(t,r,i,n)}removeAttribute(t,r,i){this.delegate.removeAttribute(t,r,i)}addClass(t,r){this.delegate.addClass(t,r)}removeClass(t,r){this.delegate.removeClass(t,r)}setStyle(t,r,i,n){this.delegate.setStyle(t,r,i,n)}removeStyle(t,r,i){this.delegate.removeStyle(t,r,i)}setProperty(t,r,i){this.shouldReplay(r)&&this.replay.push(n=>n.setProperty(t,r,i)),this.delegate.setProperty(t,r,i)}setValue(t,r){this.delegate.setValue(t,r)}listen(t,r,i){return this.shouldReplay(r)&&this.replay.push(n=>n.listen(t,r,i)),this.delegate.listen(t,r,i)}shouldReplay(t){return this.replay!==null&&t.startsWith($Nt)}};function yst(e="animations"){return xO("NgAsyncAnimations"),Vl([{provide:BR,useFactory:(t,r,i)=>new qNt(t,r,i,e),deps:[Ai,oT,ci]},{provide:Fo,useValue:e==="noop"?"NoopAnimations":"BrowserAnimations"}])}var _st=(()=>{let t=class t{constructor(){this.http=pe(Uu)}getTranslation(i){return this.http.get(`assets/i18n/${i}.json`)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();JB(vst,{providers:[C$(w$()),yst(),YO(),Qnt({config:{availableLangs:["en","fr"],defaultLang:"en",reRenderOnLangChange:!0,prodMode:!hB()},loader:_st})]}).catch(e=>console.error(e));
