import{$ as an,$a as sU,$b as vi,A as yx,Aa as Cx,Ab as Pt,B as bc,Ba as Ze,Bb as zn,C as wx,Ca as Cv,Cb as It,Cc as ul,D as xd,Da as Ie,Db as Je,Dc as ko,E as Kj,Ea as Sv,Eb as et,F as dr,Fa as iU,Fb as uU,Fc as Yn,G as Ii,Ga as Sx,Gb as hU,Gc as Ra,H as tO,Ha as nU,Hb as _r,Hc as fO,I as Am,Ia as vc,Ib as ht,Ic as _o,J as Ed,Ja as yn,Jb as kn,Jc as IU,K as Rd,Ka as xv,Kb as dl,Kc as DU,L as iO,La as Ev,Lb as Hm,M as Fr,Ma as ue,Mb as Vm,N as Xj,Na as L,Nb as Bm,O as Ih,Oa as Id,Ob as ui,P as Dh,Pa as Xr,Pb as vt,Q as Td,Qa as rU,Qb as Tv,R as nO,Ra as Lm,Rb as fU,S as Qj,Sa as xx,Sb as mU,T as Zj,Ta as Ex,Tb as Tx,U as rO,Ua as sO,Ub as Ix,V as Om,Va as Ge,Vb as Dx,W as ir,Wa as Rx,Wb as cO,X as ur,Xa as vo,Xb as dO,Y as Pi,Ya as Qr,Yb as Wm,Z as Jj,Za as aO,Zb as Mx,_ as hr,_a as oU,_b as pU,a as ee,aa as bo,ab as ki,ac as gU,b as st,ba as Re,bb as di,bc as mt,c as Th,ca as Ke,cb as aU,cc as Po,d as Ki,da as eU,db as lO,dc as uO,e as te,ea as we,eb as Et,ec as bU,f as qse,fa as oO,fb as Rt,fc as vU,g as w,ga as ce,gb as Te,gc as _U,h as vv,ha as pe,hb as ss,hc as jm,i as Ti,ia as Mh,ib as Ct,ic as yU,j as Gj,ja as Pm,jb as Zr,jc as wU,k as go,ka as wv,kb as lU,kc as Tt,l as JA,la as ut,lb as xi,lc as CU,m as _x,ma as Xe,mb as Rv,mc as hO,n as Be,na as Qe,nb as _c,nc as SU,o as Nr,oa as km,ob as yc,oc as xU,p as $j,pa as tU,pb as ie,pc as wc,q as Ps,qa as ll,qb as oe,qc as Ax,r as Lr,ra as ks,rb as ze,rc as Ox,s as dt,sa as li,sb as Fm,sc as Px,t as _v,ta as yt,tb as Pn,tc as kx,u as yv,ua as wt,ub as Ns,uc as Hr,v as qj,va as cl,vb as cU,vc as EU,w as jt,wa as Nm,wb as St,wc as RU,x as Mm,xa,xb as dU,xc as Nx,y as os,ya as Ea,yb as at,yc as TU,z as eO,za as tn,zb as Di,zc as Lx}from"./chunk-HMU7FY6B.js";var Jr=te((ek,pp)=>{"use strict";(function(t,e){typeof ek=="object"&&typeof pp<"u"?pp.exports=e():typeof define=="function"&&define.amd?define(e):t.moment=e()})(ek,function(){"use strict";var t;function e(){return t.apply(null,arguments)}function i(h){t=h}function n(h){return h instanceof Array||Object.prototype.toString.call(h)==="[object Array]"}function r(h){return h!=null&&Object.prototype.toString.call(h)==="[object Object]"}function o(h,p){return Object.prototype.hasOwnProperty.call(h,p)}function s(h){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(h).length===0;var p;for(p in h)if(o(h,p))return!1;return!0}function a(h){return h===void 0}function l(h){return typeof h=="number"||Object.prototype.toString.call(h)==="[object Number]"}function c(h){return h instanceof Date||Object.prototype.toString.call(h)==="[object Date]"}function d(h,p){var v=[],C,I=h.length;for(C=0;C<I;++C)v.push(p(h[C],C));return v}function u(h,p){for(var v in p)o(p,v)&&(h[v]=p[v]);return o(p,"toString")&&(h.toString=p.toString),o(p,"valueOf")&&(h.valueOf=p.valueOf),h}function f(h,p,v,C){return Sj(h,p,v,C,!0).utc()}function m(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function g(h){return h._pf==null&&(h._pf=m()),h._pf}var _;Array.prototype.some?_=Array.prototype.some:_=function(h){var p=Object(this),v=p.length>>>0,C;for(C=0;C<v;C++)if(C in p&&h.call(this,p[C],C,p))return!0;return!1};function b(h){var p=null,v=!1,C=h._d&&!isNaN(h._d.getTime());if(C&&(p=g(h),v=_.call(p.parsedDateParts,function(I){return I!=null}),C=p.overflow<0&&!p.empty&&!p.invalidEra&&!p.invalidMonth&&!p.invalidWeekday&&!p.weekdayMismatch&&!p.nullInput&&!p.invalidFormat&&!p.userInvalidated&&(!p.meridiem||p.meridiem&&v),h._strict&&(C=C&&p.charsLeftOver===0&&p.unusedTokens.length===0&&p.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(h))h._isValid=C;else return C;return h._isValid}function y(h){var p=f(NaN);return h!=null?u(g(p),h):g(p).userInvalidated=!0,p}var x=e.momentProperties=[],T=!1;function O(h,p){var v,C,I,j=x.length;if(a(p._isAMomentObject)||(h._isAMomentObject=p._isAMomentObject),a(p._i)||(h._i=p._i),a(p._f)||(h._f=p._f),a(p._l)||(h._l=p._l),a(p._strict)||(h._strict=p._strict),a(p._tzm)||(h._tzm=p._tzm),a(p._isUTC)||(h._isUTC=p._isUTC),a(p._offset)||(h._offset=p._offset),a(p._pf)||(h._pf=g(p)),a(p._locale)||(h._locale=p._locale),j>0)for(v=0;v<j;v++)C=x[v],I=p[C],a(I)||(h[C]=I);return h}function P(h){O(this,h),this._d=new Date(h._d!=null?h._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),T===!1&&(T=!0,e.updateOffset(this),T=!1)}function V(h){return h instanceof P||h!=null&&h._isAMomentObject!=null}function F(h){e.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+h)}function k(h,p){var v=!0;return u(function(){if(e.deprecationHandler!=null&&e.deprecationHandler(null,h),v){var C=[],I,j,le,qe=arguments.length;for(j=0;j<qe;j++){if(I="",typeof arguments[j]=="object"){I+=`
[`+j+"] ";for(le in arguments[0])o(arguments[0],le)&&(I+=le+": "+arguments[0][le]+", ");I=I.slice(0,-2)}else I=arguments[j];C.push(I)}F(h+`
Arguments: `+Array.prototype.slice.call(C).join("")+`
`+new Error().stack),v=!1}return p.apply(this,arguments)},p)}var Z={};function ae(h,p){e.deprecationHandler!=null&&e.deprecationHandler(h,p),Z[h]||(F(p),Z[h]=!0)}e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;function re(h){return typeof Function<"u"&&h instanceof Function||Object.prototype.toString.call(h)==="[object Function]"}function ve(h){var p,v;for(v in h)o(h,v)&&(p=h[v],re(p)?this[v]=p:this["_"+v]=p);this._config=h,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Pe(h,p){var v=u({},h),C;for(C in p)o(p,C)&&(r(h[C])&&r(p[C])?(v[C]={},u(v[C],h[C]),u(v[C],p[C])):p[C]!=null?v[C]=p[C]:delete v[C]);for(C in h)o(h,C)&&!o(p,C)&&r(h[C])&&(v[C]=u({},v[C]));return v}function Ne(h){h!=null&&this.set(h)}var Oe;Object.keys?Oe=Object.keys:Oe=function(h){var p,v=[];for(p in h)o(h,p)&&v.push(p);return v};var je={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Ue(h,p,v){var C=this._calendar[h]||this._calendar.sameElse;return re(C)?C.call(p,v):C}function he(h,p,v){var C=""+Math.abs(h),I=p-C.length,j=h>=0;return(j?v?"+":"":"-")+Math.pow(10,Math.max(0,I)).toString().substr(1)+C}var de=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,oi=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,S={},E={};function R(h,p,v,C){var I=C;typeof C=="string"&&(I=function(){return this[C]()}),h&&(E[h]=I),p&&(E[p[0]]=function(){return he(I.apply(this,arguments),p[1],p[2])}),v&&(E[v]=function(){return this.localeData().ordinal(I.apply(this,arguments),h)})}function G(h){return h.match(/\[[\s\S]/)?h.replace(/^\[|\]$/g,""):h.replace(/\\/g,"")}function $(h){var p=h.match(de),v,C;for(v=0,C=p.length;v<C;v++)E[p[v]]?p[v]=E[p[v]]:p[v]=G(p[v]);return function(I){var j="",le;for(le=0;le<C;le++)j+=re(p[le])?p[le].call(I,h):p[le];return j}}function X(h,p){return h.isValid()?(p=ge(p,h.localeData()),S[p]=S[p]||$(p),S[p](h)):h.localeData().invalidDate()}function ge(h,p){var v=5;function C(I){return p.longDateFormat(I)||I}for(oi.lastIndex=0;v>=0&&oi.test(h);)h=h.replace(oi,C),oi.lastIndex=0,v-=1;return h}var _e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Ve(h){var p=this._longDateFormat[h],v=this._longDateFormat[h.toUpperCase()];return p||!v?p:(this._longDateFormat[h]=v.match(de).map(function(C){return C==="MMMM"||C==="MM"||C==="DD"||C==="dddd"?C.slice(1):C}).join(""),this._longDateFormat[h])}var $e="Invalid date";function ye(){return this._invalidDate}var se="%d",Yt=/\d{1,2}/;function _t(h){return this._ordinal.replace("%d",h)}var Kt={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Vt(h,p,v,C){var I=this._relativeTime[v];return re(I)?I(h,p,v,C):I.replace(/%d/i,h)}function Mt(h,p){var v=this._relativeTime[h>0?"future":"past"];return re(v)?v(p):v.replace(/%s/i,p)}var D={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function A(h){return typeof h=="string"?D[h]||D[h.toLowerCase()]:void 0}function B(h){var p={},v,C;for(C in h)o(h,C)&&(v=A(C),v&&(p[v]=h[C]));return p}var K={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function U(h){var p=[],v;for(v in h)o(h,v)&&p.push({unit:v,priority:K[v]});return p.sort(function(C,I){return C.priority-I.priority}),p}var J=/\d/,z=/\d\d/,q=/\d{3}/,H=/\d{4}/,N=/[+-]?\d{6}/,W=/\d\d?/,fe=/\d\d\d\d?/,De=/\d\d\d\d\d\d?/,Ye=/\d{1,3}/,gt=/\d{1,4}/,kt=/[+-]?\d{1,6}/,Xt=/\d+/,At=/[+-]?\d+/,Wt=/Z|[+-]\d\d:?\d\d/gi,gi=/Z|[+-]\d\d(?::?\d\d)?/gi,va=/[+-]?\d+(\.\d{1,3})?/,kr=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,fo=/^[1-9]\d?/,$r=/^([1-9]\d|\d)/,Ms;Ms={};function Me(h,p,v){Ms[h]=re(p)?p:function(C,I){return C&&v?v:p}}function jn(h,p){return o(Ms,h)?Ms[h](p._strict,p._locale):new RegExp(qi(h))}function qi(h){return Un(h.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(p,v,C,I,j){return v||C||I||j}))}function Un(h){return h.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function qr(h){return h<0?Math.ceil(h)||0:Math.floor(h)}function Qt(h){var p=+h,v=0;return p!==0&&isFinite(p)&&(v=qr(p)),v}var vh={};function Oi(h,p){var v,C=p,I;for(typeof h=="string"&&(h=[h]),l(p)&&(C=function(j,le){le[p]=Qt(j)}),I=h.length,v=0;v<I;v++)vh[h[v]]=C}function _h(h,p){Oi(h,function(v,C,I,j){I._w=I._w||{},p(v,I._w,I,j)})}function AA(h,p,v){p!=null&&o(vh,h)&&vh[h](p,v._a,v,h)}function gm(h){return h%4===0&&h%100!==0||h%400===0}var ar=0,Jn=1,Ao=2,xn=3,mo=4,_a=5,sc=6,OA=7,ZS=8;R("Y",0,0,function(){var h=this.year();return h<=9999?he(h,4):"+"+h}),R(0,["YY",2],0,function(){return this.year()%100}),R(0,["YYYY",4],0,"year"),R(0,["YYYYY",5],0,"year"),R(0,["YYYYYY",6,!0],0,"year"),Me("Y",At),Me("YY",W,z),Me("YYYY",gt,H),Me("YYYYY",kt,N),Me("YYYYYY",kt,N),Oi(["YYYYY","YYYYYY"],ar),Oi("YYYY",function(h,p){p[ar]=h.length===2?e.parseTwoDigitYear(h):Qt(h)}),Oi("YY",function(h,p){p[ar]=e.parseTwoDigitYear(h)}),Oi("Y",function(h,p){p[ar]=parseInt(h,10)});function yh(h){return gm(h)?366:365}e.parseTwoDigitYear=function(h){return Qt(h)+(Qt(h)>68?1900:2e3)};var bm=ac("FullYear",!0);function er(){return gm(this.year())}function ac(h,p){return function(v){return v!=null?(iv(this,h,v),e.updateOffset(this,p),this):bn(this,h)}}function bn(h,p){if(!h.isValid())return NaN;var v=h._d,C=h._isUTC;switch(p){case"Milliseconds":return C?v.getUTCMilliseconds():v.getMilliseconds();case"Seconds":return C?v.getUTCSeconds():v.getSeconds();case"Minutes":return C?v.getUTCMinutes():v.getMinutes();case"Hours":return C?v.getUTCHours():v.getHours();case"Date":return C?v.getUTCDate():v.getDate();case"Day":return C?v.getUTCDay():v.getDay();case"Month":return C?v.getUTCMonth():v.getMonth();case"FullYear":return C?v.getUTCFullYear():v.getFullYear();default:return NaN}}function iv(h,p,v){var C,I,j,le,qe;if(!(!h.isValid()||isNaN(v))){switch(C=h._d,I=h._isUTC,p){case"Milliseconds":return void(I?C.setUTCMilliseconds(v):C.setMilliseconds(v));case"Seconds":return void(I?C.setUTCSeconds(v):C.setSeconds(v));case"Minutes":return void(I?C.setUTCMinutes(v):C.setMinutes(v));case"Hours":return void(I?C.setUTCHours(v):C.setHours(v));case"Date":return void(I?C.setUTCDate(v):C.setDate(v));case"FullYear":break;default:return}j=v,le=h.month(),qe=h.date(),qe=qe===29&&le===1&&!gm(j)?28:qe,I?C.setUTCFullYear(j,le,qe):C.setFullYear(j,le,qe)}}function En(h){return h=A(h),re(this[h])?this[h]():this}function wh(h,p){if(typeof h=="object"){h=B(h);var v=U(h),C,I=v.length;for(C=0;C<I;C++)this[v[C].unit](h[v[C].unit])}else if(h=A(h),re(this[h]))return this[h](p);return this}function nv(h,p){return(h%p+p)%p}var vn;Array.prototype.indexOf?vn=Array.prototype.indexOf:vn=function(h){var p;for(p=0;p<this.length;++p)if(this[p]===h)return p;return-1};function Ch(h,p){if(isNaN(h)||isNaN(p))return NaN;var v=nv(p,12);return h+=(p-v)/12,v===1?gm(h)?29:28:31-v%7%2}R("M",["MM",2],"Mo",function(){return this.month()+1}),R("MMM",0,0,function(h){return this.localeData().monthsShort(this,h)}),R("MMMM",0,0,function(h){return this.localeData().months(this,h)}),Me("M",W,fo),Me("MM",W,z),Me("MMM",function(h,p){return p.monthsShortRegex(h)}),Me("MMMM",function(h,p){return p.monthsRegex(h)}),Oi(["M","MM"],function(h,p){p[Jn]=Qt(h)-1}),Oi(["MMM","MMMM"],function(h,p,v,C){var I=v._locale.monthsParse(h,C,v._strict);I!=null?p[Jn]=I:g(v).invalidMonth=h});var JS="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),rv="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),lc=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ov=kr,cc=kr;function sv(h,p){return h?n(this._months)?this._months[h.month()]:this._months[(this._months.isFormat||lc).test(p)?"format":"standalone"][h.month()]:n(this._months)?this._months:this._months.standalone}function av(h,p){return h?n(this._monthsShort)?this._monthsShort[h.month()]:this._monthsShort[lc.test(p)?"format":"standalone"][h.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function gd(h,p,v){var C,I,j,le=h.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],C=0;C<12;++C)j=f([2e3,C]),this._shortMonthsParse[C]=this.monthsShort(j,"").toLocaleLowerCase(),this._longMonthsParse[C]=this.months(j,"").toLocaleLowerCase();return v?p==="MMM"?(I=vn.call(this._shortMonthsParse,le),I!==-1?I:null):(I=vn.call(this._longMonthsParse,le),I!==-1?I:null):p==="MMM"?(I=vn.call(this._shortMonthsParse,le),I!==-1?I:(I=vn.call(this._longMonthsParse,le),I!==-1?I:null)):(I=vn.call(this._longMonthsParse,le),I!==-1?I:(I=vn.call(this._shortMonthsParse,le),I!==-1?I:null))}function vm(h,p,v){var C,I,j;if(this._monthsParseExact)return gd.call(this,h,p,v);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),C=0;C<12;C++){if(I=f([2e3,C]),v&&!this._longMonthsParse[C]&&(this._longMonthsParse[C]=new RegExp("^"+this.months(I,"").replace(".","")+"$","i"),this._shortMonthsParse[C]=new RegExp("^"+this.monthsShort(I,"").replace(".","")+"$","i")),!v&&!this._monthsParse[C]&&(j="^"+this.months(I,"")+"|^"+this.monthsShort(I,""),this._monthsParse[C]=new RegExp(j.replace(".",""),"i")),v&&p==="MMMM"&&this._longMonthsParse[C].test(h))return C;if(v&&p==="MMM"&&this._shortMonthsParse[C].test(h))return C;if(!v&&this._monthsParse[C].test(h))return C}}function Sh(h,p){if(!h.isValid())return h;if(typeof p=="string"){if(/^\d+$/.test(p))p=Qt(p);else if(p=h.localeData().monthsParse(p),!l(p))return h}var v=p,C=h.date();return C=C<29?C:Math.min(C,Ch(h.year(),v)),h._isUTC?h._d.setUTCMonth(v,C):h._d.setMonth(v,C),h}function lv(h){return h!=null?(Sh(this,h),e.updateOffset(this,!0),this):bn(this,"Month")}function ex(){return Ch(this.year(),this.month())}function PA(h){return this._monthsParseExact?(o(this,"_monthsRegex")||bd.call(this),h?this._monthsShortStrictRegex:this._monthsShortRegex):(o(this,"_monthsShortRegex")||(this._monthsShortRegex=ov),this._monthsShortStrictRegex&&h?this._monthsShortStrictRegex:this._monthsShortRegex)}function cv(h){return this._monthsParseExact?(o(this,"_monthsRegex")||bd.call(this),h?this._monthsStrictRegex:this._monthsRegex):(o(this,"_monthsRegex")||(this._monthsRegex=cc),this._monthsStrictRegex&&h?this._monthsStrictRegex:this._monthsRegex)}function bd(){function h(Nt,fi){return fi.length-Nt.length}var p=[],v=[],C=[],I,j,le,qe;for(I=0;I<12;I++)j=f([2e3,I]),le=Un(this.monthsShort(j,"")),qe=Un(this.months(j,"")),p.push(le),v.push(qe),C.push(qe),C.push(le);p.sort(h),v.sort(h),C.sort(h),this._monthsRegex=new RegExp("^("+C.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+v.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+p.join("|")+")","i")}function vd(h,p,v,C,I,j,le){var qe;return h<100&&h>=0?(qe=new Date(h+400,p,v,C,I,j,le),isFinite(qe.getFullYear())&&qe.setFullYear(h)):qe=new Date(h,p,v,C,I,j,le),qe}function As(h){var p,v;return h<100&&h>=0?(v=Array.prototype.slice.call(arguments),v[0]=h+400,p=new Date(Date.UTC.apply(null,v)),isFinite(p.getUTCFullYear())&&p.setUTCFullYear(h)):p=new Date(Date.UTC.apply(null,arguments)),p}function xh(h,p,v){var C=7+p-v,I=(7+As(h,0,C).getUTCDay()-p)%7;return-I+C-1}function dv(h,p,v,C,I){var j=(7+v-C)%7,le=xh(h,C,I),qe=1+7*(p-1)+j+le,Nt,fi;return qe<=0?(Nt=h-1,fi=yh(Nt)+qe):qe>yh(h)?(Nt=h+1,fi=qe-yh(h)):(Nt=h,fi=qe),{year:Nt,dayOfYear:fi}}function _d(h,p,v){var C=xh(h.year(),p,v),I=Math.floor((h.dayOfYear()-C-1)/7)+1,j,le;return I<1?(le=h.year()-1,j=I+rs(le,p,v)):I>rs(h.year(),p,v)?(j=I-rs(h.year(),p,v),le=h.year()+1):(le=h.year(),j=I),{week:j,year:le}}function rs(h,p,v){var C=xh(h,p,v),I=xh(h+1,p,v);return(yh(h)-C+I)/7}R("w",["ww",2],"wo","week"),R("W",["WW",2],"Wo","isoWeek"),Me("w",W,fo),Me("ww",W,z),Me("W",W,fo),Me("WW",W,z),_h(["w","ww","W","WW"],function(h,p,v,C){p[C.substr(0,1)]=Qt(h)});function tx(h){return _d(h,this._week.dow,this._week.doy).week}var _m={dow:0,doy:6};function ym(){return this._week.dow}function ya(){return this._week.doy}function yd(h){var p=this.localeData().week(this);return h==null?p:this.add((h-p)*7,"d")}function uv(h){var p=_d(this,1,4).week;return h==null?p:this.add((h-p)*7,"d")}R("d",0,"do","day"),R("dd",0,0,function(h){return this.localeData().weekdaysMin(this,h)}),R("ddd",0,0,function(h){return this.localeData().weekdaysShort(this,h)}),R("dddd",0,0,function(h){return this.localeData().weekdays(this,h)}),R("e",0,0,"weekday"),R("E",0,0,"isoWeekday"),Me("d",W),Me("e",W),Me("E",W),Me("dd",function(h,p){return p.weekdaysMinRegex(h)}),Me("ddd",function(h,p){return p.weekdaysShortRegex(h)}),Me("dddd",function(h,p){return p.weekdaysRegex(h)}),_h(["dd","ddd","dddd"],function(h,p,v,C){var I=v._locale.weekdaysParse(h,C,v._strict);I!=null?p.d=I:g(v).invalidWeekday=h}),_h(["d","e","E"],function(h,p,v,C){p[C]=Qt(h)});function hv(h,p){return typeof h!="string"?h:isNaN(h)?(h=p.weekdaysParse(h),typeof h=="number"?h:null):parseInt(h,10)}function kA(h,p){return typeof h=="string"?p.weekdaysParse(h)%7||7:isNaN(h)?null:h}function wa(h,p){return h.slice(p,7).concat(h.slice(0,p))}var NA="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ix="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),tr="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),wd=kr,LA=kr,nx=kr;function fv(h,p){var v=n(this._weekdays)?this._weekdays:this._weekdays[h&&h!==!0&&this._weekdays.isFormat.test(p)?"format":"standalone"];return h===!0?wa(v,this._week.dow):h?v[h.day()]:v}function rx(h){return h===!0?wa(this._weekdaysShort,this._week.dow):h?this._weekdaysShort[h.day()]:this._weekdaysShort}function ox(h){return h===!0?wa(this._weekdaysMin,this._week.dow):h?this._weekdaysMin[h.day()]:this._weekdaysMin}function FA(h,p,v){var C,I,j,le=h.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],C=0;C<7;++C)j=f([2e3,1]).day(C),this._minWeekdaysParse[C]=this.weekdaysMin(j,"").toLocaleLowerCase(),this._shortWeekdaysParse[C]=this.weekdaysShort(j,"").toLocaleLowerCase(),this._weekdaysParse[C]=this.weekdays(j,"").toLocaleLowerCase();return v?p==="dddd"?(I=vn.call(this._weekdaysParse,le),I!==-1?I:null):p==="ddd"?(I=vn.call(this._shortWeekdaysParse,le),I!==-1?I:null):(I=vn.call(this._minWeekdaysParse,le),I!==-1?I:null):p==="dddd"?(I=vn.call(this._weekdaysParse,le),I!==-1||(I=vn.call(this._shortWeekdaysParse,le),I!==-1)?I:(I=vn.call(this._minWeekdaysParse,le),I!==-1?I:null)):p==="ddd"?(I=vn.call(this._shortWeekdaysParse,le),I!==-1||(I=vn.call(this._weekdaysParse,le),I!==-1)?I:(I=vn.call(this._minWeekdaysParse,le),I!==-1?I:null)):(I=vn.call(this._minWeekdaysParse,le),I!==-1||(I=vn.call(this._weekdaysParse,le),I!==-1)?I:(I=vn.call(this._shortWeekdaysParse,le),I!==-1?I:null))}function wm(h,p,v){var C,I,j;if(this._weekdaysParseExact)return FA.call(this,h,p,v);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),C=0;C<7;C++){if(I=f([2e3,1]).day(C),v&&!this._fullWeekdaysParse[C]&&(this._fullWeekdaysParse[C]=new RegExp("^"+this.weekdays(I,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[C]=new RegExp("^"+this.weekdaysShort(I,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[C]=new RegExp("^"+this.weekdaysMin(I,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[C]||(j="^"+this.weekdays(I,"")+"|^"+this.weekdaysShort(I,"")+"|^"+this.weekdaysMin(I,""),this._weekdaysParse[C]=new RegExp(j.replace(".",""),"i")),v&&p==="dddd"&&this._fullWeekdaysParse[C].test(h))return C;if(v&&p==="ddd"&&this._shortWeekdaysParse[C].test(h))return C;if(v&&p==="dd"&&this._minWeekdaysParse[C].test(h))return C;if(!v&&this._weekdaysParse[C].test(h))return C}}function mv(h){if(!this.isValid())return h!=null?this:NaN;var p=bn(this,"Day");return h!=null?(h=hv(h,this.localeData()),this.add(h-p,"d")):p}function HA(h){if(!this.isValid())return h!=null?this:NaN;var p=(this.day()+7-this.localeData()._week.dow)%7;return h==null?p:this.add(h-p,"d")}function Oo(h){if(!this.isValid())return h!=null?this:NaN;if(h!=null){var p=kA(h,this.localeData());return this.day(this.day()%7?p:p-7)}else return this.day()||7}function Cm(h){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||Sm.call(this),h?this._weekdaysStrictRegex:this._weekdaysRegex):(o(this,"_weekdaysRegex")||(this._weekdaysRegex=wd),this._weekdaysStrictRegex&&h?this._weekdaysStrictRegex:this._weekdaysRegex)}function sx(h){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||Sm.call(this),h?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(o(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=LA),this._weekdaysShortStrictRegex&&h?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function ax(h){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||Sm.call(this),h?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(o(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=nx),this._weekdaysMinStrictRegex&&h?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Sm(){function h(po,gc){return gc.length-po.length}var p=[],v=[],C=[],I=[],j,le,qe,Nt,fi;for(j=0;j<7;j++)le=f([2e3,1]).day(j),qe=Un(this.weekdaysMin(le,"")),Nt=Un(this.weekdaysShort(le,"")),fi=Un(this.weekdays(le,"")),p.push(qe),v.push(Nt),C.push(fi),I.push(qe),I.push(Nt),I.push(fi);p.sort(h),v.sort(h),C.sort(h),I.sort(h),this._weekdaysRegex=new RegExp("^("+I.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+C.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+v.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+p.join("|")+")","i")}function dc(){return this.hours()%12||12}function Ca(){return this.hours()||24}R("H",["HH",2],0,"hour"),R("h",["hh",2],0,dc),R("k",["kk",2],0,Ca),R("hmm",0,0,function(){return""+dc.apply(this)+he(this.minutes(),2)}),R("hmmss",0,0,function(){return""+dc.apply(this)+he(this.minutes(),2)+he(this.seconds(),2)}),R("Hmm",0,0,function(){return""+this.hours()+he(this.minutes(),2)}),R("Hmmss",0,0,function(){return""+this.hours()+he(this.minutes(),2)+he(this.seconds(),2)});function pv(h,p){R(h,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),p)})}pv("a",!0),pv("A",!1);function gv(h,p){return p._meridiemParse}Me("a",gv),Me("A",gv),Me("H",W,$r),Me("h",W,fo),Me("k",W,fo),Me("HH",W,z),Me("hh",W,z),Me("kk",W,z),Me("hmm",fe),Me("hmmss",De),Me("Hmm",fe),Me("Hmmss",De),Oi(["H","HH"],xn),Oi(["k","kk"],function(h,p,v){var C=Qt(h);p[xn]=C===24?0:C}),Oi(["a","A"],function(h,p,v){v._isPm=v._locale.isPM(h),v._meridiem=h}),Oi(["h","hh"],function(h,p,v){p[xn]=Qt(h),g(v).bigHour=!0}),Oi("hmm",function(h,p,v){var C=h.length-2;p[xn]=Qt(h.substr(0,C)),p[mo]=Qt(h.substr(C)),g(v).bigHour=!0}),Oi("hmmss",function(h,p,v){var C=h.length-4,I=h.length-2;p[xn]=Qt(h.substr(0,C)),p[mo]=Qt(h.substr(C,2)),p[_a]=Qt(h.substr(I)),g(v).bigHour=!0}),Oi("Hmm",function(h,p,v){var C=h.length-2;p[xn]=Qt(h.substr(0,C)),p[mo]=Qt(h.substr(C))}),Oi("Hmmss",function(h,p,v){var C=h.length-4,I=h.length-2;p[xn]=Qt(h.substr(0,C)),p[mo]=Qt(h.substr(C,2)),p[_a]=Qt(h.substr(I))});function lx(h){return(h+"").toLowerCase().charAt(0)==="p"}var cx=/[ap]\.?m?\.?/i,VA=ac("Hours",!0);function bt(h,p,v){return h>11?v?"pm":"PM":v?"am":"AM"}var Y={calendar:je,longDateFormat:_e,invalidDate:$e,ordinal:se,dayOfMonthOrdinalParse:Yt,relativeTime:Kt,months:JS,monthsShort:rv,week:_m,weekdays:NA,weekdaysMin:tr,weekdaysShort:ix,meridiemParse:cx},me={},Ae={},ai;function Kr(h,p){var v,C=Math.min(h.length,p.length);for(v=0;v<C;v+=1)if(h[v]!==p[v])return v;return C}function lr(h){return h&&h.toLowerCase().replace("_","-")}function cr(h){for(var p=0,v,C,I,j;p<h.length;){for(j=lr(h[p]).split("-"),v=j.length,C=lr(h[p+1]),C=C?C.split("-"):null;v>0;){if(I=_n(j.slice(0,v).join("-")),I)return I;if(C&&C.length>=v&&Kr(j,C)>=v-1)break;v--}p++}return ai}function uc(h){return!!(h&&h.match("^[^/\\\\]*$"))}function _n(h){var p=null,v;if(me[h]===void 0&&typeof pp<"u"&&pp&&pp.exports&&uc(h))try{p=ai._abbr,v=Th,v("./locale/"+h),Os(p)}catch{me[h]=null}return me[h]}function Os(h,p){var v;return h&&(a(p)?v=hc(h):v=xm(h,p),v?ai=v:typeof console<"u"&&console.warn&&console.warn("Locale "+h+" not found. Did you forget to load it?")),ai._abbr}function xm(h,p){if(p!==null){var v,C=Y;if(p.abbr=h,me[h]!=null)ae("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),C=me[h]._config;else if(p.parentLocale!=null)if(me[p.parentLocale]!=null)C=me[p.parentLocale]._config;else if(v=_n(p.parentLocale),v!=null)C=v._config;else return Ae[p.parentLocale]||(Ae[p.parentLocale]=[]),Ae[p.parentLocale].push({name:h,config:p}),null;return me[h]=new Ne(Pe(C,p)),Ae[h]&&Ae[h].forEach(function(I){xm(I.name,I.config)}),Os(h),me[h]}else return delete me[h],null}function _j(h,p){if(p!=null){var v,C,I=Y;me[h]!=null&&me[h].parentLocale!=null?me[h].set(Pe(me[h]._config,p)):(C=_n(h),C!=null&&(I=C._config),p=Pe(I,p),C==null&&(p.abbr=h),v=new Ne(p),v.parentLocale=me[h],me[h]=v),Os(h)}else me[h]!=null&&(me[h].parentLocale!=null?(me[h]=me[h].parentLocale,h===Os()&&Os(h)):me[h]!=null&&delete me[h]);return me[h]}function hc(h){var p;if(h&&h._locale&&h._locale._abbr&&(h=h._locale._abbr),!h)return ai;if(!n(h)){if(p=_n(h),p)return p;h=[h]}return cr(h)}function mre(){return Oe(me)}function BA(h){var p,v=h._a;return v&&g(h).overflow===-2&&(p=v[Jn]<0||v[Jn]>11?Jn:v[Ao]<1||v[Ao]>Ch(v[ar],v[Jn])?Ao:v[xn]<0||v[xn]>24||v[xn]===24&&(v[mo]!==0||v[_a]!==0||v[sc]!==0)?xn:v[mo]<0||v[mo]>59?mo:v[_a]<0||v[_a]>59?_a:v[sc]<0||v[sc]>999?sc:-1,g(h)._overflowDayOfYear&&(p<ar||p>Ao)&&(p=Ao),g(h)._overflowWeeks&&p===-1&&(p=OA),g(h)._overflowWeekday&&p===-1&&(p=ZS),g(h).overflow=p),h}var pre=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,gre=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,bre=/Z|[+-]\d\d(?::?\d\d)?/,dx=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],WA=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],vre=/^\/?Date\((-?\d+)/i,_re=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,yre={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function yj(h){var p,v,C=h._i,I=pre.exec(C)||gre.exec(C),j,le,qe,Nt,fi=dx.length,po=WA.length;if(I){for(g(h).iso=!0,p=0,v=fi;p<v;p++)if(dx[p][1].exec(I[1])){le=dx[p][0],j=dx[p][2]!==!1;break}if(le==null){h._isValid=!1;return}if(I[3]){for(p=0,v=po;p<v;p++)if(WA[p][1].exec(I[3])){qe=(I[2]||" ")+WA[p][0];break}if(qe==null){h._isValid=!1;return}}if(!j&&qe!=null){h._isValid=!1;return}if(I[4])if(bre.exec(I[4]))Nt="Z";else{h._isValid=!1;return}h._f=le+(qe||"")+(Nt||""),UA(h)}else h._isValid=!1}function wre(h,p,v,C,I,j){var le=[Cre(h),rv.indexOf(p),parseInt(v,10),parseInt(C,10),parseInt(I,10)];return j&&le.push(parseInt(j,10)),le}function Cre(h){var p=parseInt(h,10);return p<=49?2e3+p:p<=999?1900+p:p}function Sre(h){return h.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function xre(h,p,v){if(h){var C=ix.indexOf(h),I=new Date(p[0],p[1],p[2]).getDay();if(C!==I)return g(v).weekdayMismatch=!0,v._isValid=!1,!1}return!0}function Ere(h,p,v){if(h)return yre[h];if(p)return 0;var C=parseInt(v,10),I=C%100,j=(C-I)/100;return j*60+I}function wj(h){var p=_re.exec(Sre(h._i)),v;if(p){if(v=wre(p[4],p[3],p[2],p[5],p[6],p[7]),!xre(p[1],v,h))return;h._a=v,h._tzm=Ere(p[8],p[9],p[10]),h._d=As.apply(null,h._a),h._d.setUTCMinutes(h._d.getUTCMinutes()-h._tzm),g(h).rfc2822=!0}else h._isValid=!1}function Rre(h){var p=vre.exec(h._i);if(p!==null){h._d=new Date(+p[1]);return}if(yj(h),h._isValid===!1)delete h._isValid;else return;if(wj(h),h._isValid===!1)delete h._isValid;else return;h._strict?h._isValid=!1:e.createFromInputFallback(h)}e.createFromInputFallback=k("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(h){h._d=new Date(h._i+(h._useUTC?" UTC":""))});function Em(h,p,v){return h??p??v}function Tre(h){var p=new Date(e.now());return h._useUTC?[p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate()]:[p.getFullYear(),p.getMonth(),p.getDate()]}function jA(h){var p,v,C=[],I,j,le;if(!h._d){for(I=Tre(h),h._w&&h._a[Ao]==null&&h._a[Jn]==null&&Ire(h),h._dayOfYear!=null&&(le=Em(h._a[ar],I[ar]),(h._dayOfYear>yh(le)||h._dayOfYear===0)&&(g(h)._overflowDayOfYear=!0),v=As(le,0,h._dayOfYear),h._a[Jn]=v.getUTCMonth(),h._a[Ao]=v.getUTCDate()),p=0;p<3&&h._a[p]==null;++p)h._a[p]=C[p]=I[p];for(;p<7;p++)h._a[p]=C[p]=h._a[p]==null?p===2?1:0:h._a[p];h._a[xn]===24&&h._a[mo]===0&&h._a[_a]===0&&h._a[sc]===0&&(h._nextDay=!0,h._a[xn]=0),h._d=(h._useUTC?As:vd).apply(null,C),j=h._useUTC?h._d.getUTCDay():h._d.getDay(),h._tzm!=null&&h._d.setUTCMinutes(h._d.getUTCMinutes()-h._tzm),h._nextDay&&(h._a[xn]=24),h._w&&typeof h._w.d<"u"&&h._w.d!==j&&(g(h).weekdayMismatch=!0)}}function Ire(h){var p,v,C,I,j,le,qe,Nt,fi;p=h._w,p.GG!=null||p.W!=null||p.E!=null?(j=1,le=4,v=Em(p.GG,h._a[ar],_d(fn(),1,4).year),C=Em(p.W,1),I=Em(p.E,1),(I<1||I>7)&&(Nt=!0)):(j=h._locale._week.dow,le=h._locale._week.doy,fi=_d(fn(),j,le),v=Em(p.gg,h._a[ar],fi.year),C=Em(p.w,fi.week),p.d!=null?(I=p.d,(I<0||I>6)&&(Nt=!0)):p.e!=null?(I=p.e+j,(p.e<0||p.e>6)&&(Nt=!0)):I=j),C<1||C>rs(v,j,le)?g(h)._overflowWeeks=!0:Nt!=null?g(h)._overflowWeekday=!0:(qe=dv(v,C,I,j,le),h._a[ar]=qe.year,h._dayOfYear=qe.dayOfYear)}e.ISO_8601=function(){},e.RFC_2822=function(){};function UA(h){if(h._f===e.ISO_8601){yj(h);return}if(h._f===e.RFC_2822){wj(h);return}h._a=[],g(h).empty=!0;var p=""+h._i,v,C,I,j,le,qe=p.length,Nt=0,fi,po;for(I=ge(h._f,h._locale).match(de)||[],po=I.length,v=0;v<po;v++)j=I[v],C=(p.match(jn(j,h))||[])[0],C&&(le=p.substr(0,p.indexOf(C)),le.length>0&&g(h).unusedInput.push(le),p=p.slice(p.indexOf(C)+C.length),Nt+=C.length),E[j]?(C?g(h).empty=!1:g(h).unusedTokens.push(j),AA(j,C,h)):h._strict&&!C&&g(h).unusedTokens.push(j);g(h).charsLeftOver=qe-Nt,p.length>0&&g(h).unusedInput.push(p),h._a[xn]<=12&&g(h).bigHour===!0&&h._a[xn]>0&&(g(h).bigHour=void 0),g(h).parsedDateParts=h._a.slice(0),g(h).meridiem=h._meridiem,h._a[xn]=Dre(h._locale,h._a[xn],h._meridiem),fi=g(h).era,fi!==null&&(h._a[ar]=h._locale.erasConvertYear(fi,h._a[ar])),jA(h),BA(h)}function Dre(h,p,v){var C;return v==null?p:h.meridiemHour!=null?h.meridiemHour(p,v):(h.isPM!=null&&(C=h.isPM(v),C&&p<12&&(p+=12),!C&&p===12&&(p=0)),p)}function Mre(h){var p,v,C,I,j,le,qe=!1,Nt=h._f.length;if(Nt===0){g(h).invalidFormat=!0,h._d=new Date(NaN);return}for(I=0;I<Nt;I++)j=0,le=!1,p=O({},h),h._useUTC!=null&&(p._useUTC=h._useUTC),p._f=h._f[I],UA(p),b(p)&&(le=!0),j+=g(p).charsLeftOver,j+=g(p).unusedTokens.length*10,g(p).score=j,qe?j<C&&(C=j,v=p):(C==null||j<C||le)&&(C=j,v=p,le&&(qe=!0));u(h,v||p)}function Are(h){if(!h._d){var p=B(h._i),v=p.day===void 0?p.date:p.day;h._a=d([p.year,p.month,v,p.hour,p.minute,p.second,p.millisecond],function(C){return C&&parseInt(C,10)}),jA(h)}}function Ore(h){var p=new P(BA(Cj(h)));return p._nextDay&&(p.add(1,"d"),p._nextDay=void 0),p}function Cj(h){var p=h._i,v=h._f;return h._locale=h._locale||hc(h._l),p===null||v===void 0&&p===""?y({nullInput:!0}):(typeof p=="string"&&(h._i=p=h._locale.preparse(p)),V(p)?new P(BA(p)):(c(p)?h._d=p:n(v)?Mre(h):v?UA(h):Pre(h),b(h)||(h._d=null),h))}function Pre(h){var p=h._i;a(p)?h._d=new Date(e.now()):c(p)?h._d=new Date(p.valueOf()):typeof p=="string"?Rre(h):n(p)?(h._a=d(p.slice(0),function(v){return parseInt(v,10)}),jA(h)):r(p)?Are(h):l(p)?h._d=new Date(p):e.createFromInputFallback(h)}function Sj(h,p,v,C,I){var j={};return(p===!0||p===!1)&&(C=p,p=void 0),(v===!0||v===!1)&&(C=v,v=void 0),(r(h)&&s(h)||n(h)&&h.length===0)&&(h=void 0),j._isAMomentObject=!0,j._useUTC=j._isUTC=I,j._l=v,j._i=h,j._f=p,j._strict=C,Ore(j)}function fn(h,p,v,C){return Sj(h,p,v,C,!1)}var kre=k("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var h=fn.apply(null,arguments);return this.isValid()&&h.isValid()?h<this?this:h:y()}),Nre=k("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var h=fn.apply(null,arguments);return this.isValid()&&h.isValid()?h>this?this:h:y()});function xj(h,p){var v,C;if(p.length===1&&n(p[0])&&(p=p[0]),!p.length)return fn();for(v=p[0],C=1;C<p.length;++C)(!p[C].isValid()||p[C][h](v))&&(v=p[C]);return v}function Lre(){var h=[].slice.call(arguments,0);return xj("isBefore",h)}function Fre(){var h=[].slice.call(arguments,0);return xj("isAfter",h)}var Hre=function(){return Date.now?Date.now():+new Date},bv=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Vre(h){var p,v=!1,C,I=bv.length;for(p in h)if(o(h,p)&&!(vn.call(bv,p)!==-1&&(h[p]==null||!isNaN(h[p]))))return!1;for(C=0;C<I;++C)if(h[bv[C]]){if(v)return!1;parseFloat(h[bv[C]])!==Qt(h[bv[C]])&&(v=!0)}return!0}function Bre(){return this._isValid}function Wre(){return Sa(NaN)}function ux(h){var p=B(h),v=p.year||0,C=p.quarter||0,I=p.month||0,j=p.week||p.isoWeek||0,le=p.day||0,qe=p.hour||0,Nt=p.minute||0,fi=p.second||0,po=p.millisecond||0;this._isValid=Vre(p),this._milliseconds=+po+fi*1e3+Nt*6e4+qe*1e3*60*60,this._days=+le+j*7,this._months=+I+C*3+v*12,this._data={},this._locale=hc(),this._bubble()}function hx(h){return h instanceof ux}function zA(h){return h<0?Math.round(-1*h)*-1:Math.round(h)}function jre(h,p,v){var C=Math.min(h.length,p.length),I=Math.abs(h.length-p.length),j=0,le;for(le=0;le<C;le++)(v&&h[le]!==p[le]||!v&&Qt(h[le])!==Qt(p[le]))&&j++;return j+I}function Ej(h,p){R(h,0,0,function(){var v=this.utcOffset(),C="+";return v<0&&(v=-v,C="-"),C+he(~~(v/60),2)+p+he(~~v%60,2)})}Ej("Z",":"),Ej("ZZ",""),Me("Z",gi),Me("ZZ",gi),Oi(["Z","ZZ"],function(h,p,v){v._useUTC=!0,v._tzm=YA(gi,h)});var Ure=/([\+\-]|\d\d)/gi;function YA(h,p){var v=(p||"").match(h),C,I,j;return v===null?null:(C=v[v.length-1]||[],I=(C+"").match(Ure)||["-",0,0],j=+(I[1]*60)+Qt(I[2]),j===0?0:I[0]==="+"?j:-j)}function GA(h,p){var v,C;return p._isUTC?(v=p.clone(),C=(V(h)||c(h)?h.valueOf():fn(h).valueOf())-v.valueOf(),v._d.setTime(v._d.valueOf()+C),e.updateOffset(v,!1),v):fn(h).local()}function $A(h){return-Math.round(h._d.getTimezoneOffset())}e.updateOffset=function(){};function zre(h,p,v){var C=this._offset||0,I;if(!this.isValid())return h!=null?this:NaN;if(h!=null){if(typeof h=="string"){if(h=YA(gi,h),h===null)return this}else Math.abs(h)<16&&!v&&(h=h*60);return!this._isUTC&&p&&(I=$A(this)),this._offset=h,this._isUTC=!0,I!=null&&this.add(I,"m"),C!==h&&(!p||this._changeInProgress?Dj(this,Sa(h-C,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?C:$A(this)}function Yre(h,p){return h!=null?(typeof h!="string"&&(h=-h),this.utcOffset(h,p),this):-this.utcOffset()}function Gre(h){return this.utcOffset(0,h)}function $re(h){return this._isUTC&&(this.utcOffset(0,h),this._isUTC=!1,h&&this.subtract($A(this),"m")),this}function qre(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var h=YA(Wt,this._i);h!=null?this.utcOffset(h):this.utcOffset(0,!0)}return this}function Kre(h){return this.isValid()?(h=h?fn(h).utcOffset():0,(this.utcOffset()-h)%60===0):!1}function Xre(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Qre(){if(!a(this._isDSTShifted))return this._isDSTShifted;var h={},p;return O(h,this),h=Cj(h),h._a?(p=h._isUTC?f(h._a):fn(h._a),this._isDSTShifted=this.isValid()&&jre(h._a,p.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Zre(){return this.isValid()?!this._isUTC:!1}function Jre(){return this.isValid()?this._isUTC:!1}function Rj(){return this.isValid()?this._isUTC&&this._offset===0:!1}var eoe=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,toe=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Sa(h,p){var v=h,C=null,I,j,le;return hx(h)?v={ms:h._milliseconds,d:h._days,M:h._months}:l(h)||!isNaN(+h)?(v={},p?v[p]=+h:v.milliseconds=+h):(C=eoe.exec(h))?(I=C[1]==="-"?-1:1,v={y:0,d:Qt(C[Ao])*I,h:Qt(C[xn])*I,m:Qt(C[mo])*I,s:Qt(C[_a])*I,ms:Qt(zA(C[sc]*1e3))*I}):(C=toe.exec(h))?(I=C[1]==="-"?-1:1,v={y:Eh(C[2],I),M:Eh(C[3],I),w:Eh(C[4],I),d:Eh(C[5],I),h:Eh(C[6],I),m:Eh(C[7],I),s:Eh(C[8],I)}):v==null?v={}:typeof v=="object"&&("from"in v||"to"in v)&&(le=ioe(fn(v.from),fn(v.to)),v={},v.ms=le.milliseconds,v.M=le.months),j=new ux(v),hx(h)&&o(h,"_locale")&&(j._locale=h._locale),hx(h)&&o(h,"_isValid")&&(j._isValid=h._isValid),j}Sa.fn=ux.prototype,Sa.invalid=Wre;function Eh(h,p){var v=h&&parseFloat(h.replace(",","."));return(isNaN(v)?0:v)*p}function Tj(h,p){var v={};return v.months=p.month()-h.month()+(p.year()-h.year())*12,h.clone().add(v.months,"M").isAfter(p)&&--v.months,v.milliseconds=+p-+h.clone().add(v.months,"M"),v}function ioe(h,p){var v;return h.isValid()&&p.isValid()?(p=GA(p,h),h.isBefore(p)?v=Tj(h,p):(v=Tj(p,h),v.milliseconds=-v.milliseconds,v.months=-v.months),v):{milliseconds:0,months:0}}function Ij(h,p){return function(v,C){var I,j;return C!==null&&!isNaN(+C)&&(ae(p,"moment()."+p+"(period, number) is deprecated. Please use moment()."+p+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),j=v,v=C,C=j),I=Sa(v,C),Dj(this,I,h),this}}function Dj(h,p,v,C){var I=p._milliseconds,j=zA(p._days),le=zA(p._months);h.isValid()&&(C=C??!0,le&&Sh(h,bn(h,"Month")+le*v),j&&iv(h,"Date",bn(h,"Date")+j*v),I&&h._d.setTime(h._d.valueOf()+I*v),C&&e.updateOffset(h,j||le))}var noe=Ij(1,"add"),roe=Ij(-1,"subtract");function Mj(h){return typeof h=="string"||h instanceof String}function ooe(h){return V(h)||c(h)||Mj(h)||l(h)||aoe(h)||soe(h)||h===null||h===void 0}function soe(h){var p=r(h)&&!s(h),v=!1,C=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],I,j,le=C.length;for(I=0;I<le;I+=1)j=C[I],v=v||o(h,j);return p&&v}function aoe(h){var p=n(h),v=!1;return p&&(v=h.filter(function(C){return!l(C)&&Mj(h)}).length===0),p&&v}function loe(h){var p=r(h)&&!s(h),v=!1,C=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],I,j;for(I=0;I<C.length;I+=1)j=C[I],v=v||o(h,j);return p&&v}function coe(h,p){var v=h.diff(p,"days",!0);return v<-6?"sameElse":v<-1?"lastWeek":v<0?"lastDay":v<1?"sameDay":v<2?"nextDay":v<7?"nextWeek":"sameElse"}function doe(h,p){arguments.length===1&&(arguments[0]?ooe(arguments[0])?(h=arguments[0],p=void 0):loe(arguments[0])&&(p=arguments[0],h=void 0):(h=void 0,p=void 0));var v=h||fn(),C=GA(v,this).startOf("day"),I=e.calendarFormat(this,C)||"sameElse",j=p&&(re(p[I])?p[I].call(this,v):p[I]);return this.format(j||this.localeData().calendar(I,this,fn(v)))}function uoe(){return new P(this)}function hoe(h,p){var v=V(h)?h:fn(h);return this.isValid()&&v.isValid()?(p=A(p)||"millisecond",p==="millisecond"?this.valueOf()>v.valueOf():v.valueOf()<this.clone().startOf(p).valueOf()):!1}function foe(h,p){var v=V(h)?h:fn(h);return this.isValid()&&v.isValid()?(p=A(p)||"millisecond",p==="millisecond"?this.valueOf()<v.valueOf():this.clone().endOf(p).valueOf()<v.valueOf()):!1}function moe(h,p,v,C){var I=V(h)?h:fn(h),j=V(p)?p:fn(p);return this.isValid()&&I.isValid()&&j.isValid()?(C=C||"()",(C[0]==="("?this.isAfter(I,v):!this.isBefore(I,v))&&(C[1]===")"?this.isBefore(j,v):!this.isAfter(j,v))):!1}function poe(h,p){var v=V(h)?h:fn(h),C;return this.isValid()&&v.isValid()?(p=A(p)||"millisecond",p==="millisecond"?this.valueOf()===v.valueOf():(C=v.valueOf(),this.clone().startOf(p).valueOf()<=C&&C<=this.clone().endOf(p).valueOf())):!1}function goe(h,p){return this.isSame(h,p)||this.isAfter(h,p)}function boe(h,p){return this.isSame(h,p)||this.isBefore(h,p)}function voe(h,p,v){var C,I,j;if(!this.isValid())return NaN;if(C=GA(h,this),!C.isValid())return NaN;switch(I=(C.utcOffset()-this.utcOffset())*6e4,p=A(p),p){case"year":j=fx(this,C)/12;break;case"month":j=fx(this,C);break;case"quarter":j=fx(this,C)/3;break;case"second":j=(this-C)/1e3;break;case"minute":j=(this-C)/6e4;break;case"hour":j=(this-C)/36e5;break;case"day":j=(this-C-I)/864e5;break;case"week":j=(this-C-I)/6048e5;break;default:j=this-C}return v?j:qr(j)}function fx(h,p){if(h.date()<p.date())return-fx(p,h);var v=(p.year()-h.year())*12+(p.month()-h.month()),C=h.clone().add(v,"months"),I,j;return p-C<0?(I=h.clone().add(v-1,"months"),j=(p-C)/(C-I)):(I=h.clone().add(v+1,"months"),j=(p-C)/(I-C)),-(v+j)||0}e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function _oe(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function yoe(h){if(!this.isValid())return null;var p=h!==!0,v=p?this.clone().utc():this;return v.year()<0||v.year()>9999?X(v,p?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):re(Date.prototype.toISOString)?p?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",X(v,"Z")):X(v,p?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function woe(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var h="moment",p="",v,C,I,j;return this.isLocal()||(h=this.utcOffset()===0?"moment.utc":"moment.parseZone",p="Z"),v="["+h+'("]',C=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",I="-MM-DD[T]HH:mm:ss.SSS",j=p+'[")]',this.format(v+C+I+j)}function Coe(h){h||(h=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var p=X(this,h);return this.localeData().postformat(p)}function Soe(h,p){return this.isValid()&&(V(h)&&h.isValid()||fn(h).isValid())?Sa({to:this,from:h}).locale(this.locale()).humanize(!p):this.localeData().invalidDate()}function xoe(h){return this.from(fn(),h)}function Eoe(h,p){return this.isValid()&&(V(h)&&h.isValid()||fn(h).isValid())?Sa({from:this,to:h}).locale(this.locale()).humanize(!p):this.localeData().invalidDate()}function Roe(h){return this.to(fn(),h)}function Aj(h){var p;return h===void 0?this._locale._abbr:(p=hc(h),p!=null&&(this._locale=p),this)}var Oj=k("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(h){return h===void 0?this.localeData():this.locale(h)});function Pj(){return this._locale}var mx=1e3,Rm=60*mx,px=60*Rm,kj=(365*400+97)*24*px;function Tm(h,p){return(h%p+p)%p}function Nj(h,p,v){return h<100&&h>=0?new Date(h+400,p,v)-kj:new Date(h,p,v).valueOf()}function Lj(h,p,v){return h<100&&h>=0?Date.UTC(h+400,p,v)-kj:Date.UTC(h,p,v)}function Toe(h){var p,v;if(h=A(h),h===void 0||h==="millisecond"||!this.isValid())return this;switch(v=this._isUTC?Lj:Nj,h){case"year":p=v(this.year(),0,1);break;case"quarter":p=v(this.year(),this.month()-this.month()%3,1);break;case"month":p=v(this.year(),this.month(),1);break;case"week":p=v(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":p=v(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":p=v(this.year(),this.month(),this.date());break;case"hour":p=this._d.valueOf(),p-=Tm(p+(this._isUTC?0:this.utcOffset()*Rm),px);break;case"minute":p=this._d.valueOf(),p-=Tm(p,Rm);break;case"second":p=this._d.valueOf(),p-=Tm(p,mx);break}return this._d.setTime(p),e.updateOffset(this,!0),this}function Ioe(h){var p,v;if(h=A(h),h===void 0||h==="millisecond"||!this.isValid())return this;switch(v=this._isUTC?Lj:Nj,h){case"year":p=v(this.year()+1,0,1)-1;break;case"quarter":p=v(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":p=v(this.year(),this.month()+1,1)-1;break;case"week":p=v(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":p=v(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":p=v(this.year(),this.month(),this.date()+1)-1;break;case"hour":p=this._d.valueOf(),p+=px-Tm(p+(this._isUTC?0:this.utcOffset()*Rm),px)-1;break;case"minute":p=this._d.valueOf(),p+=Rm-Tm(p,Rm)-1;break;case"second":p=this._d.valueOf(),p+=mx-Tm(p,mx)-1;break}return this._d.setTime(p),e.updateOffset(this,!0),this}function Doe(){return this._d.valueOf()-(this._offset||0)*6e4}function Moe(){return Math.floor(this.valueOf()/1e3)}function Aoe(){return new Date(this.valueOf())}function Ooe(){var h=this;return[h.year(),h.month(),h.date(),h.hour(),h.minute(),h.second(),h.millisecond()]}function Poe(){var h=this;return{years:h.year(),months:h.month(),date:h.date(),hours:h.hours(),minutes:h.minutes(),seconds:h.seconds(),milliseconds:h.milliseconds()}}function koe(){return this.isValid()?this.toISOString():null}function Noe(){return b(this)}function Loe(){return u({},g(this))}function Foe(){return g(this).overflow}function Hoe(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}R("N",0,0,"eraAbbr"),R("NN",0,0,"eraAbbr"),R("NNN",0,0,"eraAbbr"),R("NNNN",0,0,"eraName"),R("NNNNN",0,0,"eraNarrow"),R("y",["y",1],"yo","eraYear"),R("y",["yy",2],0,"eraYear"),R("y",["yyy",3],0,"eraYear"),R("y",["yyyy",4],0,"eraYear"),Me("N",qA),Me("NN",qA),Me("NNN",qA),Me("NNNN",Koe),Me("NNNNN",Xoe),Oi(["N","NN","NNN","NNNN","NNNNN"],function(h,p,v,C){var I=v._locale.erasParse(h,C,v._strict);I?g(v).era=I:g(v).invalidEra=h}),Me("y",Xt),Me("yy",Xt),Me("yyy",Xt),Me("yyyy",Xt),Me("yo",Qoe),Oi(["y","yy","yyy","yyyy"],ar),Oi(["yo"],function(h,p,v,C){var I;v._locale._eraYearOrdinalRegex&&(I=h.match(v._locale._eraYearOrdinalRegex)),v._locale.eraYearOrdinalParse?p[ar]=v._locale.eraYearOrdinalParse(h,I):p[ar]=parseInt(h,10)});function Voe(h,p){var v,C,I,j=this._eras||hc("en")._eras;for(v=0,C=j.length;v<C;++v){switch(typeof j[v].since){case"string":I=e(j[v].since).startOf("day"),j[v].since=I.valueOf();break}switch(typeof j[v].until){case"undefined":j[v].until=1/0;break;case"string":I=e(j[v].until).startOf("day").valueOf(),j[v].until=I.valueOf();break}}return j}function Boe(h,p,v){var C,I,j=this.eras(),le,qe,Nt;for(h=h.toUpperCase(),C=0,I=j.length;C<I;++C)if(le=j[C].name.toUpperCase(),qe=j[C].abbr.toUpperCase(),Nt=j[C].narrow.toUpperCase(),v)switch(p){case"N":case"NN":case"NNN":if(qe===h)return j[C];break;case"NNNN":if(le===h)return j[C];break;case"NNNNN":if(Nt===h)return j[C];break}else if([le,qe,Nt].indexOf(h)>=0)return j[C]}function Woe(h,p){var v=h.since<=h.until?1:-1;return p===void 0?e(h.since).year():e(h.since).year()+(p-h.offset)*v}function joe(){var h,p,v,C=this.localeData().eras();for(h=0,p=C.length;h<p;++h)if(v=this.clone().startOf("day").valueOf(),C[h].since<=v&&v<=C[h].until||C[h].until<=v&&v<=C[h].since)return C[h].name;return""}function Uoe(){var h,p,v,C=this.localeData().eras();for(h=0,p=C.length;h<p;++h)if(v=this.clone().startOf("day").valueOf(),C[h].since<=v&&v<=C[h].until||C[h].until<=v&&v<=C[h].since)return C[h].narrow;return""}function zoe(){var h,p,v,C=this.localeData().eras();for(h=0,p=C.length;h<p;++h)if(v=this.clone().startOf("day").valueOf(),C[h].since<=v&&v<=C[h].until||C[h].until<=v&&v<=C[h].since)return C[h].abbr;return""}function Yoe(){var h,p,v,C,I=this.localeData().eras();for(h=0,p=I.length;h<p;++h)if(v=I[h].since<=I[h].until?1:-1,C=this.clone().startOf("day").valueOf(),I[h].since<=C&&C<=I[h].until||I[h].until<=C&&C<=I[h].since)return(this.year()-e(I[h].since).year())*v+I[h].offset;return this.year()}function Goe(h){return o(this,"_erasNameRegex")||KA.call(this),h?this._erasNameRegex:this._erasRegex}function $oe(h){return o(this,"_erasAbbrRegex")||KA.call(this),h?this._erasAbbrRegex:this._erasRegex}function qoe(h){return o(this,"_erasNarrowRegex")||KA.call(this),h?this._erasNarrowRegex:this._erasRegex}function qA(h,p){return p.erasAbbrRegex(h)}function Koe(h,p){return p.erasNameRegex(h)}function Xoe(h,p){return p.erasNarrowRegex(h)}function Qoe(h,p){return p._eraYearOrdinalRegex||Xt}function KA(){var h=[],p=[],v=[],C=[],I,j,le,qe,Nt,fi=this.eras();for(I=0,j=fi.length;I<j;++I)le=Un(fi[I].name),qe=Un(fi[I].abbr),Nt=Un(fi[I].narrow),p.push(le),h.push(qe),v.push(Nt),C.push(le),C.push(qe),C.push(Nt);this._erasRegex=new RegExp("^("+C.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+p.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+h.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+v.join("|")+")","i")}R(0,["gg",2],0,function(){return this.weekYear()%100}),R(0,["GG",2],0,function(){return this.isoWeekYear()%100});function gx(h,p){R(0,[h,h.length],0,p)}gx("gggg","weekYear"),gx("ggggg","weekYear"),gx("GGGG","isoWeekYear"),gx("GGGGG","isoWeekYear"),Me("G",At),Me("g",At),Me("GG",W,z),Me("gg",W,z),Me("GGGG",gt,H),Me("gggg",gt,H),Me("GGGGG",kt,N),Me("ggggg",kt,N),_h(["gggg","ggggg","GGGG","GGGGG"],function(h,p,v,C){p[C.substr(0,2)]=Qt(h)}),_h(["gg","GG"],function(h,p,v,C){p[C]=e.parseTwoDigitYear(h)});function Zoe(h){return Fj.call(this,h,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function Joe(h){return Fj.call(this,h,this.isoWeek(),this.isoWeekday(),1,4)}function ese(){return rs(this.year(),1,4)}function tse(){return rs(this.isoWeekYear(),1,4)}function ise(){var h=this.localeData()._week;return rs(this.year(),h.dow,h.doy)}function nse(){var h=this.localeData()._week;return rs(this.weekYear(),h.dow,h.doy)}function Fj(h,p,v,C,I){var j;return h==null?_d(this,C,I).year:(j=rs(h,C,I),p>j&&(p=j),rse.call(this,h,p,v,C,I))}function rse(h,p,v,C,I){var j=dv(h,p,v,C,I),le=As(j.year,0,j.dayOfYear);return this.year(le.getUTCFullYear()),this.month(le.getUTCMonth()),this.date(le.getUTCDate()),this}R("Q",0,"Qo","quarter"),Me("Q",J),Oi("Q",function(h,p){p[Jn]=(Qt(h)-1)*3});function ose(h){return h==null?Math.ceil((this.month()+1)/3):this.month((h-1)*3+this.month()%3)}R("D",["DD",2],"Do","date"),Me("D",W,fo),Me("DD",W,z),Me("Do",function(h,p){return h?p._dayOfMonthOrdinalParse||p._ordinalParse:p._dayOfMonthOrdinalParseLenient}),Oi(["D","DD"],Ao),Oi("Do",function(h,p){p[Ao]=Qt(h.match(W)[0])});var Hj=ac("Date",!0);R("DDD",["DDDD",3],"DDDo","dayOfYear"),Me("DDD",Ye),Me("DDDD",q),Oi(["DDD","DDDD"],function(h,p,v){v._dayOfYear=Qt(h)});function sse(h){var p=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return h==null?p:this.add(h-p,"d")}R("m",["mm",2],0,"minute"),Me("m",W,$r),Me("mm",W,z),Oi(["m","mm"],mo);var ase=ac("Minutes",!1);R("s",["ss",2],0,"second"),Me("s",W,$r),Me("ss",W,z),Oi(["s","ss"],_a);var lse=ac("Seconds",!1);R("S",0,0,function(){return~~(this.millisecond()/100)}),R(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),R(0,["SSS",3],0,"millisecond"),R(0,["SSSS",4],0,function(){return this.millisecond()*10}),R(0,["SSSSS",5],0,function(){return this.millisecond()*100}),R(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),R(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),R(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),R(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),Me("S",Ye,J),Me("SS",Ye,z),Me("SSS",Ye,q);var Cd,Vj;for(Cd="SSSS";Cd.length<=9;Cd+="S")Me(Cd,Xt);function cse(h,p){p[sc]=Qt(("0."+h)*1e3)}for(Cd="S";Cd.length<=9;Cd+="S")Oi(Cd,cse);Vj=ac("Milliseconds",!1),R("z",0,0,"zoneAbbr"),R("zz",0,0,"zoneName");function dse(){return this._isUTC?"UTC":""}function use(){return this._isUTC?"Coordinated Universal Time":""}var Ce=P.prototype;Ce.add=noe,Ce.calendar=doe,Ce.clone=uoe,Ce.diff=voe,Ce.endOf=Ioe,Ce.format=Coe,Ce.from=Soe,Ce.fromNow=xoe,Ce.to=Eoe,Ce.toNow=Roe,Ce.get=En,Ce.invalidAt=Foe,Ce.isAfter=hoe,Ce.isBefore=foe,Ce.isBetween=moe,Ce.isSame=poe,Ce.isSameOrAfter=goe,Ce.isSameOrBefore=boe,Ce.isValid=Noe,Ce.lang=Oj,Ce.locale=Aj,Ce.localeData=Pj,Ce.max=Nre,Ce.min=kre,Ce.parsingFlags=Loe,Ce.set=wh,Ce.startOf=Toe,Ce.subtract=roe,Ce.toArray=Ooe,Ce.toObject=Poe,Ce.toDate=Aoe,Ce.toISOString=yoe,Ce.inspect=woe,typeof Symbol<"u"&&Symbol.for!=null&&(Ce[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Ce.toJSON=koe,Ce.toString=_oe,Ce.unix=Moe,Ce.valueOf=Doe,Ce.creationData=Hoe,Ce.eraName=joe,Ce.eraNarrow=Uoe,Ce.eraAbbr=zoe,Ce.eraYear=Yoe,Ce.year=bm,Ce.isLeapYear=er,Ce.weekYear=Zoe,Ce.isoWeekYear=Joe,Ce.quarter=Ce.quarters=ose,Ce.month=lv,Ce.daysInMonth=ex,Ce.week=Ce.weeks=yd,Ce.isoWeek=Ce.isoWeeks=uv,Ce.weeksInYear=ise,Ce.weeksInWeekYear=nse,Ce.isoWeeksInYear=ese,Ce.isoWeeksInISOWeekYear=tse,Ce.date=Hj,Ce.day=Ce.days=mv,Ce.weekday=HA,Ce.isoWeekday=Oo,Ce.dayOfYear=sse,Ce.hour=Ce.hours=VA,Ce.minute=Ce.minutes=ase,Ce.second=Ce.seconds=lse,Ce.millisecond=Ce.milliseconds=Vj,Ce.utcOffset=zre,Ce.utc=Gre,Ce.local=$re,Ce.parseZone=qre,Ce.hasAlignedHourOffset=Kre,Ce.isDST=Xre,Ce.isLocal=Zre,Ce.isUtcOffset=Jre,Ce.isUtc=Rj,Ce.isUTC=Rj,Ce.zoneAbbr=dse,Ce.zoneName=use,Ce.dates=k("dates accessor is deprecated. Use date instead.",Hj),Ce.months=k("months accessor is deprecated. Use month instead",lv),Ce.years=k("years accessor is deprecated. Use year instead",bm),Ce.zone=k("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Yre),Ce.isDSTShifted=k("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Qre);function hse(h){return fn(h*1e3)}function fse(){return fn.apply(null,arguments).parseZone()}function Bj(h){return h}var Si=Ne.prototype;Si.calendar=Ue,Si.longDateFormat=Ve,Si.invalidDate=ye,Si.ordinal=_t,Si.preparse=Bj,Si.postformat=Bj,Si.relativeTime=Vt,Si.pastFuture=Mt,Si.set=ve,Si.eras=Voe,Si.erasParse=Boe,Si.erasConvertYear=Woe,Si.erasAbbrRegex=$oe,Si.erasNameRegex=Goe,Si.erasNarrowRegex=qoe,Si.months=sv,Si.monthsShort=av,Si.monthsParse=vm,Si.monthsRegex=cv,Si.monthsShortRegex=PA,Si.week=tx,Si.firstDayOfYear=ya,Si.firstDayOfWeek=ym,Si.weekdays=fv,Si.weekdaysMin=ox,Si.weekdaysShort=rx,Si.weekdaysParse=wm,Si.weekdaysRegex=Cm,Si.weekdaysShortRegex=sx,Si.weekdaysMinRegex=ax,Si.isPM=lx,Si.meridiem=bt;function bx(h,p,v,C){var I=hc(),j=f().set(C,p);return I[v](j,h)}function Wj(h,p,v){if(l(h)&&(p=h,h=void 0),h=h||"",p!=null)return bx(h,p,v,"month");var C,I=[];for(C=0;C<12;C++)I[C]=bx(h,C,v,"month");return I}function XA(h,p,v,C){typeof h=="boolean"?(l(p)&&(v=p,p=void 0),p=p||""):(p=h,v=p,h=!1,l(p)&&(v=p,p=void 0),p=p||"");var I=hc(),j=h?I._week.dow:0,le,qe=[];if(v!=null)return bx(p,(v+j)%7,C,"day");for(le=0;le<7;le++)qe[le]=bx(p,(le+j)%7,C,"day");return qe}function mse(h,p){return Wj(h,p,"months")}function pse(h,p){return Wj(h,p,"monthsShort")}function gse(h,p,v){return XA(h,p,v,"weekdays")}function bse(h,p,v){return XA(h,p,v,"weekdaysShort")}function vse(h,p,v){return XA(h,p,v,"weekdaysMin")}Os("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(h){var p=h%10,v=Qt(h%100/10)===1?"th":p===1?"st":p===2?"nd":p===3?"rd":"th";return h+v}}),e.lang=k("moment.lang is deprecated. Use moment.locale instead.",Os),e.langData=k("moment.langData is deprecated. Use moment.localeData instead.",hc);var fc=Math.abs;function _se(){var h=this._data;return this._milliseconds=fc(this._milliseconds),this._days=fc(this._days),this._months=fc(this._months),h.milliseconds=fc(h.milliseconds),h.seconds=fc(h.seconds),h.minutes=fc(h.minutes),h.hours=fc(h.hours),h.months=fc(h.months),h.years=fc(h.years),this}function jj(h,p,v,C){var I=Sa(p,v);return h._milliseconds+=C*I._milliseconds,h._days+=C*I._days,h._months+=C*I._months,h._bubble()}function yse(h,p){return jj(this,h,p,1)}function wse(h,p){return jj(this,h,p,-1)}function Uj(h){return h<0?Math.floor(h):Math.ceil(h)}function Cse(){var h=this._milliseconds,p=this._days,v=this._months,C=this._data,I,j,le,qe,Nt;return h>=0&&p>=0&&v>=0||h<=0&&p<=0&&v<=0||(h+=Uj(QA(v)+p)*864e5,p=0,v=0),C.milliseconds=h%1e3,I=qr(h/1e3),C.seconds=I%60,j=qr(I/60),C.minutes=j%60,le=qr(j/60),C.hours=le%24,p+=qr(le/24),Nt=qr(zj(p)),v+=Nt,p-=Uj(QA(Nt)),qe=qr(v/12),v%=12,C.days=p,C.months=v,C.years=qe,this}function zj(h){return h*4800/146097}function QA(h){return h*146097/4800}function Sse(h){if(!this.isValid())return NaN;var p,v,C=this._milliseconds;if(h=A(h),h==="month"||h==="quarter"||h==="year")switch(p=this._days+C/864e5,v=this._months+zj(p),h){case"month":return v;case"quarter":return v/3;case"year":return v/12}else switch(p=this._days+Math.round(QA(this._months)),h){case"week":return p/7+C/6048e5;case"day":return p+C/864e5;case"hour":return p*24+C/36e5;case"minute":return p*1440+C/6e4;case"second":return p*86400+C/1e3;case"millisecond":return Math.floor(p*864e5)+C;default:throw new Error("Unknown unit "+h)}}function mc(h){return function(){return this.as(h)}}var Yj=mc("ms"),xse=mc("s"),Ese=mc("m"),Rse=mc("h"),Tse=mc("d"),Ise=mc("w"),Dse=mc("M"),Mse=mc("Q"),Ase=mc("y"),Ose=Yj;function Pse(){return Sa(this)}function kse(h){return h=A(h),this.isValid()?this[h+"s"]():NaN}function Rh(h){return function(){return this.isValid()?this._data[h]:NaN}}var Nse=Rh("milliseconds"),Lse=Rh("seconds"),Fse=Rh("minutes"),Hse=Rh("hours"),Vse=Rh("days"),Bse=Rh("months"),Wse=Rh("years");function jse(){return qr(this.days()/7)}var pc=Math.round,Im={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Use(h,p,v,C,I){return I.relativeTime(p||1,!!v,h,C)}function zse(h,p,v,C){var I=Sa(h).abs(),j=pc(I.as("s")),le=pc(I.as("m")),qe=pc(I.as("h")),Nt=pc(I.as("d")),fi=pc(I.as("M")),po=pc(I.as("w")),gc=pc(I.as("y")),Sd=j<=v.ss&&["s",j]||j<v.s&&["ss",j]||le<=1&&["m"]||le<v.m&&["mm",le]||qe<=1&&["h"]||qe<v.h&&["hh",qe]||Nt<=1&&["d"]||Nt<v.d&&["dd",Nt];return v.w!=null&&(Sd=Sd||po<=1&&["w"]||po<v.w&&["ww",po]),Sd=Sd||fi<=1&&["M"]||fi<v.M&&["MM",fi]||gc<=1&&["y"]||["yy",gc],Sd[2]=p,Sd[3]=+h>0,Sd[4]=C,Use.apply(null,Sd)}function Yse(h){return h===void 0?pc:typeof h=="function"?(pc=h,!0):!1}function Gse(h,p){return Im[h]===void 0?!1:p===void 0?Im[h]:(Im[h]=p,h==="s"&&(Im.ss=p-1),!0)}function $se(h,p){if(!this.isValid())return this.localeData().invalidDate();var v=!1,C=Im,I,j;return typeof h=="object"&&(p=h,h=!1),typeof h=="boolean"&&(v=h),typeof p=="object"&&(C=Object.assign({},Im,p),p.s!=null&&p.ss==null&&(C.ss=p.s-1)),I=this.localeData(),j=zse(this,!v,C,I),v&&(j=I.pastFuture(+this,j)),I.postformat(j)}var ZA=Math.abs;function Dm(h){return(h>0)-(h<0)||+h}function vx(){if(!this.isValid())return this.localeData().invalidDate();var h=ZA(this._milliseconds)/1e3,p=ZA(this._days),v=ZA(this._months),C,I,j,le,qe=this.asSeconds(),Nt,fi,po,gc;return qe?(C=qr(h/60),I=qr(C/60),h%=60,C%=60,j=qr(v/12),v%=12,le=h?h.toFixed(3).replace(/\.?0+$/,""):"",Nt=qe<0?"-":"",fi=Dm(this._months)!==Dm(qe)?"-":"",po=Dm(this._days)!==Dm(qe)?"-":"",gc=Dm(this._milliseconds)!==Dm(qe)?"-":"",Nt+"P"+(j?fi+j+"Y":"")+(v?fi+v+"M":"")+(p?po+p+"D":"")+(I||C||h?"T":"")+(I?gc+I+"H":"")+(C?gc+C+"M":"")+(h?gc+le+"S":"")):"P0D"}var bi=ux.prototype;bi.isValid=Bre,bi.abs=_se,bi.add=yse,bi.subtract=wse,bi.as=Sse,bi.asMilliseconds=Yj,bi.asSeconds=xse,bi.asMinutes=Ese,bi.asHours=Rse,bi.asDays=Tse,bi.asWeeks=Ise,bi.asMonths=Dse,bi.asQuarters=Mse,bi.asYears=Ase,bi.valueOf=Ose,bi._bubble=Cse,bi.clone=Pse,bi.get=kse,bi.milliseconds=Nse,bi.seconds=Lse,bi.minutes=Fse,bi.hours=Hse,bi.days=Vse,bi.weeks=jse,bi.months=Bse,bi.years=Wse,bi.humanize=$se,bi.toISOString=vx,bi.toString=vx,bi.toJSON=vx,bi.locale=Aj,bi.localeData=Pj,bi.toIsoString=k("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",vx),bi.lang=Oj,R("X",0,0,"unix"),R("x",0,0,"valueOf"),Me("x",At),Me("X",va),Oi("X",function(h,p,v){v._d=new Date(parseFloat(h)*1e3)}),Oi("x",function(h,p,v){v._d=new Date(Qt(h))});return e.version="2.30.1",i(fn),e.fn=Ce,e.min=Lre,e.max=Fre,e.now=Hre,e.utc=f,e.unix=hse,e.months=mse,e.isDate=c,e.locale=Os,e.invalid=y,e.duration=Sa,e.isMoment=V,e.weekdays=gse,e.parseZone=fse,e.localeData=hc,e.isDuration=hx,e.monthsShort=pse,e.weekdaysMin=vse,e.defineLocale=xm,e.updateLocale=_j,e.locales=mre,e.weekdaysShort=bse,e.normalizeUnits=A,e.relativeTimeRounding=Yse,e.relativeTimeThreshold=Gse,e.calendarFormat=coe,e.prototype=Ce,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},e})});var Wr=te((O1,kq)=>{"use strict";var Q_=function(t){return t&&t.Math===Math&&t};kq.exports=Q_(typeof globalThis=="object"&&globalThis)||Q_(typeof window=="object"&&window)||Q_(typeof self=="object"&&self)||Q_(typeof global=="object"&&global)||Q_(typeof O1=="object"&&O1)||function(){return this}()||Function("return this")()});var jo=te((GXe,Nq)=>{"use strict";Nq.exports=function(t){try{return!!t()}catch{return!0}}});var Us=te(($Xe,Lq)=>{"use strict";var Iwe=jo();Lq.exports=!Iwe(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})});var Z_=te((qXe,Fq)=>{"use strict";var Dwe=jo();Fq.exports=!Dwe(function(){var t=(function(){}).bind();return typeof t!="function"||t.hasOwnProperty("prototype")})});var zs=te((KXe,Hq)=>{"use strict";var Mwe=Z_(),UR=Function.prototype.call;Hq.exports=Mwe?UR.bind(UR):function(){return UR.apply(UR,arguments)}});var jq=te(Wq=>{"use strict";var Vq={}.propertyIsEnumerable,Bq=Object.getOwnPropertyDescriptor,Awe=Bq&&!Vq.call({1:2},1);Wq.f=Awe?function(e){var i=Bq(this,e);return!!i&&i.enumerable}:Vq});var J_=te((QXe,Uq)=>{"use strict";Uq.exports=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}}});var rr=te((ZXe,Gq)=>{"use strict";var zq=Z_(),Yq=Function.prototype,P1=Yq.call,Owe=zq&&Yq.bind.bind(P1,P1);Gq.exports=zq?Owe:function(t){return function(){return P1.apply(t,arguments)}}});var uu=te((JXe,qq)=>{"use strict";var $q=rr(),Pwe=$q({}.toString),kwe=$q("".slice);qq.exports=function(t){return kwe(Pwe(t),8,-1)}});var Xq=te((e6e,Kq)=>{"use strict";var Nwe=rr(),Lwe=jo(),Fwe=uu(),k1=Object,Hwe=Nwe("".split);Kq.exports=Lwe(function(){return!k1("z").propertyIsEnumerable(0)})?function(t){return Fwe(t)==="String"?Hwe(t,""):k1(t)}:k1});var ey=te((t6e,Qq)=>{"use strict";Qq.exports=function(t){return t==null}});var ty=te((i6e,Zq)=>{"use strict";var Vwe=ey(),Bwe=TypeError;Zq.exports=function(t){if(Vwe(t))throw new Bwe("Can't call method on "+t);return t}});var iy=te((n6e,Jq)=>{"use strict";var Wwe=Xq(),jwe=ty();Jq.exports=function(t){return Wwe(jwe(t))}});var Cr=te((r6e,e5)=>{"use strict";var N1=typeof document=="object"&&document.all;e5.exports=typeof N1>"u"&&N1!==void 0?function(t){return typeof t=="function"||t===N1}:function(t){return typeof t=="function"}});var Oa=te((o6e,t5)=>{"use strict";var Uwe=Cr();t5.exports=function(t){return typeof t=="object"?t!==null:Uwe(t)}});var ef=te((s6e,i5)=>{"use strict";var L1=Wr(),zwe=Cr(),Ywe=function(t){return zwe(t)?t:void 0};i5.exports=function(t,e){return arguments.length<2?Ywe(L1[t]):L1[t]&&L1[t][e]}});var ny=te((a6e,n5)=>{"use strict";var Gwe=rr();n5.exports=Gwe({}.isPrototypeOf)});var zR=te((l6e,r5)=>{"use strict";r5.exports=typeof navigator<"u"&&String(navigator.userAgent)||""});var u5=te((c6e,d5)=>{"use strict";var c5=Wr(),F1=zR(),o5=c5.process,s5=c5.Deno,a5=o5&&o5.versions||s5&&s5.version,l5=a5&&a5.v8,Pa,YR;l5&&(Pa=l5.split("."),YR=Pa[0]>0&&Pa[0]<4?1:+(Pa[0]+Pa[1]));!YR&&F1&&(Pa=F1.match(/Edge\/(\d+)/),(!Pa||Pa[1]>=74)&&(Pa=F1.match(/Chrome\/(\d+)/),Pa&&(YR=+Pa[1])));d5.exports=YR});var GR=te((d6e,f5)=>{"use strict";var h5=u5(),$we=jo(),qwe=Wr(),Kwe=qwe.String;f5.exports=!!Object.getOwnPropertySymbols&&!$we(function(){var t=Symbol("symbol detection");return!Kwe(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&h5&&h5<41})});var H1=te((u6e,m5)=>{"use strict";var Xwe=GR();m5.exports=Xwe&&!Symbol.sham&&typeof Symbol.iterator=="symbol"});var $R=te((h6e,p5)=>{"use strict";var Qwe=ef(),Zwe=Cr(),Jwe=ny(),eCe=H1(),tCe=Object;p5.exports=eCe?function(t){return typeof t=="symbol"}:function(t){var e=Qwe("Symbol");return Zwe(e)&&Jwe(e.prototype,tCe(t))}});var ry=te((f6e,g5)=>{"use strict";var iCe=String;g5.exports=function(t){try{return iCe(t)}catch{return"Object"}}});var jp=te((m6e,b5)=>{"use strict";var nCe=Cr(),rCe=ry(),oCe=TypeError;b5.exports=function(t){if(nCe(t))return t;throw new oCe(rCe(t)+" is not a function")}});var oy=te((p6e,v5)=>{"use strict";var sCe=jp(),aCe=ey();v5.exports=function(t,e){var i=t[e];return aCe(i)?void 0:sCe(i)}});var y5=te((g6e,_5)=>{"use strict";var V1=zs(),B1=Cr(),W1=Oa(),lCe=TypeError;_5.exports=function(t,e){var i,n;if(e==="string"&&B1(i=t.toString)&&!W1(n=V1(i,t))||B1(i=t.valueOf)&&!W1(n=V1(i,t))||e!=="string"&&B1(i=t.toString)&&!W1(n=V1(i,t)))return n;throw new lCe("Can't convert object to primitive value")}});var qR=te((b6e,w5)=>{"use strict";w5.exports=!1});var KR=te((v6e,S5)=>{"use strict";var C5=Wr(),cCe=Object.defineProperty;S5.exports=function(t,e){try{cCe(C5,t,{value:e,configurable:!0,writable:!0})}catch{C5[t]=e}return e}});var XR=te((_6e,R5)=>{"use strict";var dCe=qR(),uCe=Wr(),hCe=KR(),x5="__core-js_shared__",E5=R5.exports=uCe[x5]||hCe(x5,{});(E5.versions||(E5.versions=[])).push({version:"3.37.1",mode:dCe?"pure":"global",copyright:"\xA9 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.37.1/LICENSE",source:"https://github.com/zloirock/core-js"})});var j1=te((y6e,I5)=>{"use strict";var T5=XR();I5.exports=function(t,e){return T5[t]||(T5[t]=e||{})}});var Up=te((w6e,D5)=>{"use strict";var fCe=ty(),mCe=Object;D5.exports=function(t){return mCe(fCe(t))}});var ka=te((C6e,M5)=>{"use strict";var pCe=rr(),gCe=Up(),bCe=pCe({}.hasOwnProperty);M5.exports=Object.hasOwn||function(e,i){return bCe(gCe(e),i)}});var U1=te((S6e,A5)=>{"use strict";var vCe=rr(),_Ce=0,yCe=Math.random(),wCe=vCe(1 .toString);A5.exports=function(t){return"Symbol("+(t===void 0?"":t)+")_"+wCe(++_Ce+yCe,36)}});var Fc=te((x6e,P5)=>{"use strict";var CCe=Wr(),SCe=j1(),O5=ka(),xCe=U1(),ECe=GR(),RCe=H1(),zp=CCe.Symbol,z1=SCe("wks"),TCe=RCe?zp.for||zp:zp&&zp.withoutSetter||xCe;P5.exports=function(t){return O5(z1,t)||(z1[t]=ECe&&O5(zp,t)?zp[t]:TCe("Symbol."+t)),z1[t]}});var F5=te((E6e,L5)=>{"use strict";var ICe=zs(),k5=Oa(),N5=$R(),DCe=oy(),MCe=y5(),ACe=Fc(),OCe=TypeError,PCe=ACe("toPrimitive");L5.exports=function(t,e){if(!k5(t)||N5(t))return t;var i=DCe(t,PCe),n;if(i){if(e===void 0&&(e="default"),n=ICe(i,t,e),!k5(n)||N5(n))return n;throw new OCe("Can't convert object to primitive value")}return e===void 0&&(e="number"),MCe(t,e)}});var Y1=te((R6e,H5)=>{"use strict";var kCe=F5(),NCe=$R();H5.exports=function(t){var e=kCe(t,"string");return NCe(e)?e:e+""}});var QR=te((T6e,B5)=>{"use strict";var LCe=Wr(),V5=Oa(),G1=LCe.document,FCe=V5(G1)&&V5(G1.createElement);B5.exports=function(t){return FCe?G1.createElement(t):{}}});var $1=te((I6e,W5)=>{"use strict";var HCe=Us(),VCe=jo(),BCe=QR();W5.exports=!HCe&&!VCe(function(){return Object.defineProperty(BCe("div"),"a",{get:function(){return 7}}).a!==7})});var q1=te(U5=>{"use strict";var WCe=Us(),jCe=zs(),UCe=jq(),zCe=J_(),YCe=iy(),GCe=Y1(),$Ce=ka(),qCe=$1(),j5=Object.getOwnPropertyDescriptor;U5.f=WCe?j5:function(e,i){if(e=YCe(e),i=GCe(i),qCe)try{return j5(e,i)}catch{}if($Ce(e,i))return zCe(!jCe(UCe.f,e,i),e[i])}});var K1=te((M6e,z5)=>{"use strict";var KCe=Us(),XCe=jo();z5.exports=KCe&&XCe(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})});var Sl=te((A6e,Y5)=>{"use strict";var QCe=Oa(),ZCe=String,JCe=TypeError;Y5.exports=function(t){if(QCe(t))return t;throw new JCe(ZCe(t)+" is not an object")}});var hu=te($5=>{"use strict";var e0e=Us(),t0e=$1(),i0e=K1(),ZR=Sl(),G5=Y1(),n0e=TypeError,X1=Object.defineProperty,r0e=Object.getOwnPropertyDescriptor,Q1="enumerable",Z1="configurable",J1="writable";$5.f=e0e?i0e?function(e,i,n){if(ZR(e),i=G5(i),ZR(n),typeof e=="function"&&i==="prototype"&&"value"in n&&J1 in n&&!n[J1]){var r=r0e(e,i);r&&r[J1]&&(e[i]=n.value,n={configurable:Z1 in n?n[Z1]:r[Z1],enumerable:Q1 in n?n[Q1]:r[Q1],writable:!1})}return X1(e,i,n)}:X1:function(e,i,n){if(ZR(e),i=G5(i),ZR(n),t0e)try{return X1(e,i,n)}catch{}if("get"in n||"set"in n)throw new n0e("Accessors not supported");return"value"in n&&(e[i]=n.value),e}});var Yp=te((P6e,q5)=>{"use strict";var o0e=Us(),s0e=hu(),a0e=J_();q5.exports=o0e?function(t,e,i){return s0e.f(t,e,a0e(1,i))}:function(t,e,i){return t[e]=i,t}});var Q5=te((k6e,X5)=>{"use strict";var eN=Us(),l0e=ka(),K5=Function.prototype,c0e=eN&&Object.getOwnPropertyDescriptor,tN=l0e(K5,"name"),d0e=tN&&(function(){}).name==="something",u0e=tN&&(!eN||eN&&c0e(K5,"name").configurable);X5.exports={EXISTS:tN,PROPER:d0e,CONFIGURABLE:u0e}});var J5=te((N6e,Z5)=>{"use strict";var h0e=rr(),f0e=Cr(),iN=XR(),m0e=h0e(Function.toString);f0e(iN.inspectSource)||(iN.inspectSource=function(t){return m0e(t)});Z5.exports=iN.inspectSource});var iK=te((L6e,tK)=>{"use strict";var p0e=Wr(),g0e=Cr(),eK=p0e.WeakMap;tK.exports=g0e(eK)&&/native code/.test(String(eK))});var nN=te((F6e,rK)=>{"use strict";var b0e=j1(),v0e=U1(),nK=b0e("keys");rK.exports=function(t){return nK[t]||(nK[t]=v0e(t))}});var JR=te((H6e,oK)=>{"use strict";oK.exports={}});var cK=te((V6e,lK)=>{"use strict";var _0e=iK(),aK=Wr(),y0e=Oa(),w0e=Yp(),rN=ka(),oN=XR(),C0e=nN(),S0e=JR(),sK="Object already initialized",sN=aK.TypeError,x0e=aK.WeakMap,eT,sy,tT,E0e=function(t){return tT(t)?sy(t):eT(t,{})},R0e=function(t){return function(e){var i;if(!y0e(e)||(i=sy(e)).type!==t)throw new sN("Incompatible receiver, "+t+" required");return i}};_0e||oN.state?(Na=oN.state||(oN.state=new x0e),Na.get=Na.get,Na.has=Na.has,Na.set=Na.set,eT=function(t,e){if(Na.has(t))throw new sN(sK);return e.facade=t,Na.set(t,e),e},sy=function(t){return Na.get(t)||{}},tT=function(t){return Na.has(t)}):(tf=C0e("state"),S0e[tf]=!0,eT=function(t,e){if(rN(t,tf))throw new sN(sK);return e.facade=t,w0e(t,tf,e),e},sy=function(t){return rN(t,tf)?t[tf]:{}},tT=function(t){return rN(t,tf)});var Na,tf;lK.exports={set:eT,get:sy,has:tT,enforce:E0e,getterFor:R0e}});var fK=te((B6e,hK)=>{"use strict";var lN=rr(),T0e=jo(),I0e=Cr(),iT=ka(),aN=Us(),D0e=Q5().CONFIGURABLE,M0e=J5(),uK=cK(),A0e=uK.enforce,O0e=uK.get,dK=String,nT=Object.defineProperty,P0e=lN("".slice),k0e=lN("".replace),N0e=lN([].join),L0e=aN&&!T0e(function(){return nT(function(){},"length",{value:8}).length!==8}),F0e=String(String).split("String"),H0e=hK.exports=function(t,e,i){P0e(dK(e),0,7)==="Symbol("&&(e="["+k0e(dK(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),i&&i.getter&&(e="get "+e),i&&i.setter&&(e="set "+e),(!iT(t,"name")||D0e&&t.name!==e)&&(aN?nT(t,"name",{value:e,configurable:!0}):t.name=e),L0e&&i&&iT(i,"arity")&&t.length!==i.arity&&nT(t,"length",{value:i.arity});try{i&&iT(i,"constructor")&&i.constructor?aN&&nT(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch{}var n=A0e(t);return iT(n,"source")||(n.source=N0e(F0e,typeof e=="string"?e:"")),t};Function.prototype.toString=H0e(function(){return I0e(this)&&O0e(this).source||M0e(this)},"toString")});var pK=te((W6e,mK)=>{"use strict";var V0e=Cr(),B0e=hu(),W0e=fK(),j0e=KR();mK.exports=function(t,e,i,n){n||(n={});var r=n.enumerable,o=n.name!==void 0?n.name:e;if(V0e(i)&&W0e(i,o,n),n.global)r?t[e]=i:j0e(e,i);else{try{n.unsafe?t[e]&&(r=!0):delete t[e]}catch{}r?t[e]=i:B0e.f(t,e,{value:i,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return t}});var bK=te((j6e,gK)=>{"use strict";var U0e=Math.ceil,z0e=Math.floor;gK.exports=Math.trunc||function(e){var i=+e;return(i>0?z0e:U0e)(i)}});var ay=te((U6e,vK)=>{"use strict";var Y0e=bK();vK.exports=function(t){var e=+t;return e!==e||e===0?0:Y0e(e)}});var yK=te((z6e,_K)=>{"use strict";var G0e=ay(),$0e=Math.max,q0e=Math.min;_K.exports=function(t,e){var i=G0e(t);return i<0?$0e(i+e,0):q0e(i,e)}});var CK=te((Y6e,wK)=>{"use strict";var K0e=ay(),X0e=Math.min;wK.exports=function(t){var e=K0e(t);return e>0?X0e(e,9007199254740991):0}});var Gp=te((G6e,SK)=>{"use strict";var Q0e=CK();SK.exports=function(t){return Q0e(t.length)}});var RK=te(($6e,EK)=>{"use strict";var Z0e=iy(),J0e=yK(),eSe=Gp(),xK=function(t){return function(e,i,n){var r=Z0e(e),o=eSe(r);if(o===0)return!t&&-1;var s=J0e(n,o),a;if(t&&i!==i){for(;o>s;)if(a=r[s++],a!==a)return!0}else for(;o>s;s++)if((t||s in r)&&r[s]===i)return t||s||0;return!t&&-1}};EK.exports={includes:xK(!0),indexOf:xK(!1)}});var dN=te((q6e,IK)=>{"use strict";var tSe=rr(),cN=ka(),iSe=iy(),nSe=RK().indexOf,rSe=JR(),TK=tSe([].push);IK.exports=function(t,e){var i=iSe(t),n=0,r=[],o;for(o in i)!cN(rSe,o)&&cN(i,o)&&TK(r,o);for(;e.length>n;)cN(i,o=e[n++])&&(~nSe(r,o)||TK(r,o));return r}});var rT=te((K6e,DK)=>{"use strict";DK.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]});var AK=te(MK=>{"use strict";var oSe=dN(),sSe=rT(),aSe=sSe.concat("length","prototype");MK.f=Object.getOwnPropertyNames||function(e){return oSe(e,aSe)}});var PK=te(OK=>{"use strict";OK.f=Object.getOwnPropertySymbols});var NK=te((Z6e,kK)=>{"use strict";var lSe=ef(),cSe=rr(),dSe=AK(),uSe=PK(),hSe=Sl(),fSe=cSe([].concat);kK.exports=lSe("Reflect","ownKeys")||function(e){var i=dSe.f(hSe(e)),n=uSe.f;return n?fSe(i,n(e)):i}});var uN=te((J6e,FK)=>{"use strict";var LK=ka(),mSe=NK(),pSe=q1(),gSe=hu();FK.exports=function(t,e,i){for(var n=mSe(e),r=gSe.f,o=pSe.f,s=0;s<n.length;s++){var a=n[s];!LK(t,a)&&!(i&&LK(i,a))&&r(t,a,o(e,a))}}});var VK=te((e9e,HK)=>{"use strict";var bSe=jo(),vSe=Cr(),_Se=/#|\.prototype\./,ly=function(t,e){var i=wSe[ySe(t)];return i===SSe?!0:i===CSe?!1:vSe(e)?bSe(e):!!e},ySe=ly.normalize=function(t){return String(t).replace(_Se,".").toLowerCase()},wSe=ly.data={},CSe=ly.NATIVE="N",SSe=ly.POLYFILL="P";HK.exports=ly});var jr=te((t9e,BK)=>{"use strict";var oT=Wr(),xSe=q1().f,ESe=Yp(),RSe=pK(),TSe=KR(),ISe=uN(),DSe=VK();BK.exports=function(t,e){var i=t.target,n=t.global,r=t.stat,o,s,a,l,c,d;if(n?s=oT:r?s=oT[i]||TSe(i,{}):s=oT[i]&&oT[i].prototype,s)for(a in e){if(c=e[a],t.dontCallGetSet?(d=xSe(s,a),l=d&&d.value):l=s[a],o=DSe(n?a:i+(r?".":"#")+a,t.forced),!o&&l!==void 0){if(typeof c==typeof l)continue;ISe(c,l)}(t.sham||l&&l.sham)&&ESe(c,"sham",!0),RSe(s,a,c,t)}}});var cy=te((i9e,zK)=>{"use strict";var MSe=Z_(),UK=Function.prototype,WK=UK.apply,jK=UK.call;zK.exports=typeof Reflect=="object"&&Reflect.apply||(MSe?jK.bind(WK):function(){return jK.apply(WK,arguments)})});var hN=te((n9e,YK)=>{"use strict";var ASe=rr(),OSe=jp();YK.exports=function(t,e,i){try{return ASe(OSe(Object.getOwnPropertyDescriptor(t,e)[i]))}catch{}}});var $K=te((r9e,GK)=>{"use strict";var PSe=Oa();GK.exports=function(t){return PSe(t)||t===null}});var KK=te((o9e,qK)=>{"use strict";var kSe=$K(),NSe=String,LSe=TypeError;qK.exports=function(t){if(kSe(t))return t;throw new LSe("Can't set "+NSe(t)+" as a prototype")}});var fN=te((s9e,XK)=>{"use strict";var FSe=hN(),HSe=Oa(),VSe=ty(),BSe=KK();XK.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t=!1,e={},i;try{i=FSe(Object.prototype,"__proto__","set"),i(e,[]),t=e instanceof Array}catch{}return function(r,o){return VSe(r),BSe(o),HSe(r)&&(t?i(r,o):r.__proto__=o),r}}():void 0)});var ZK=te((a9e,QK)=>{"use strict";var WSe=hu().f;QK.exports=function(t,e,i){i in t||WSe(t,i,{configurable:!0,get:function(){return e[i]},set:function(n){e[i]=n}})}});var t4=te((l9e,e4)=>{"use strict";var jSe=Cr(),USe=Oa(),JK=fN();e4.exports=function(t,e,i){var n,r;return JK&&jSe(n=e.constructor)&&n!==i&&USe(r=n.prototype)&&r!==i.prototype&&JK(t,r),t}});var r4=te((c9e,n4)=>{"use strict";var zSe=Fc(),YSe=zSe("toStringTag"),i4={};i4[YSe]="z";n4.exports=String(i4)==="[object z]"});var mN=te((d9e,o4)=>{"use strict";var GSe=r4(),$Se=Cr(),sT=uu(),qSe=Fc(),KSe=qSe("toStringTag"),XSe=Object,QSe=sT(function(){return arguments}())==="Arguments",ZSe=function(t,e){try{return t[e]}catch{}};o4.exports=GSe?sT:function(t){var e,i,n;return t===void 0?"Undefined":t===null?"Null":typeof(i=ZSe(e=XSe(t),KSe))=="string"?i:QSe?sT(e):(n=sT(e))==="Object"&&$Se(e.callee)?"Arguments":n}});var aT=te((u9e,s4)=>{"use strict";var JSe=mN(),exe=String;s4.exports=function(t){if(JSe(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return exe(t)}});var l4=te((h9e,a4)=>{"use strict";var txe=aT();a4.exports=function(t,e){return t===void 0?arguments.length<2?"":e:txe(t)}});var d4=te((f9e,c4)=>{"use strict";var ixe=Oa(),nxe=Yp();c4.exports=function(t,e){ixe(e)&&"cause"in e&&nxe(t,"cause",e.cause)}});var m4=te((m9e,f4)=>{"use strict";var rxe=rr(),u4=Error,oxe=rxe("".replace),sxe=function(t){return String(new u4(t).stack)}("zxcasd"),h4=/\n\s*at [^:]*:[^\n]*/,axe=h4.test(sxe);f4.exports=function(t,e){if(axe&&typeof t=="string"&&!u4.prepareStackTrace)for(;e--;)t=oxe(t,h4,"");return t}});var g4=te((p9e,p4)=>{"use strict";var lxe=jo(),cxe=J_();p4.exports=!lxe(function(){var t=new Error("a");return"stack"in t?(Object.defineProperty(t,"stack",cxe(1,7)),t.stack!==7):!0})});var _4=te((g9e,v4)=>{"use strict";var dxe=Yp(),uxe=m4(),hxe=g4(),b4=Error.captureStackTrace;v4.exports=function(t,e,i,n){hxe&&(b4?b4(t,e):dxe(t,"stack",uxe(i,n)))}});var T4=te((b9e,R4)=>{"use strict";var y4=ef(),fxe=ka(),w4=Yp(),mxe=ny(),C4=fN(),S4=uN(),x4=ZK(),pxe=t4(),gxe=l4(),bxe=d4(),vxe=_4(),_xe=Us(),E4=qR();R4.exports=function(t,e,i,n){var r="stackTraceLimit",o=n?2:1,s=t.split("."),a=s[s.length-1],l=y4.apply(null,s);if(l){var c=l.prototype;if(!E4&&fxe(c,"cause")&&delete c.cause,!i)return l;var d=y4("Error"),u=e(function(f,m){var g=gxe(n?m:f,void 0),_=n?new l(f):new l;return g!==void 0&&w4(_,"message",g),vxe(_,u,_.stack,2),this&&mxe(c,this)&&pxe(_,this,u),arguments.length>o&&bxe(_,arguments[o]),_});if(u.prototype=c,a!=="Error"?C4?C4(u,d):S4(u,d,{name:!0}):_xe&&r in l&&(x4(u,l,r),x4(u,l,"prepareStackTrace")),S4(u,l),!E4)try{c.name!==a&&w4(c,"name",a),c.constructor=u}catch{}return u}}});var Q=te(()=>{"use strict";var D4=jr(),yxe=Wr(),xl=cy(),M4=T4(),pN="WebAssembly",I4=yxe[pN],lT=new Error("e",{cause:7}).cause!==7,nf=function(t,e){var i={};i[t]=M4(t,e,lT),D4({global:!0,constructor:!0,arity:1,forced:lT},i)},gN=function(t,e){if(I4&&I4[t]){var i={};i[t]=M4(pN+"."+t,e,lT),D4({target:pN,stat:!0,constructor:!0,arity:1,forced:lT},i)}};nf("Error",function(t){return function(i){return xl(t,this,arguments)}});nf("EvalError",function(t){return function(i){return xl(t,this,arguments)}});nf("RangeError",function(t){return function(i){return xl(t,this,arguments)}});nf("ReferenceError",function(t){return function(i){return xl(t,this,arguments)}});nf("SyntaxError",function(t){return function(i){return xl(t,this,arguments)}});nf("TypeError",function(t){return function(i){return xl(t,this,arguments)}});nf("URIError",function(t){return function(i){return xl(t,this,arguments)}});gN("CompileError",function(t){return function(i){return xl(t,this,arguments)}});gN("LinkError",function(t){return function(i){return xl(t,this,arguments)}});gN("RuntimeError",function(t){return function(i){return xl(t,this,arguments)}})});var bN=te((y9e,A4)=>{"use strict";var wxe=uu();A4.exports=Array.isArray||function(e){return wxe(e)==="Array"}});var vN=te((w9e,O4)=>{"use strict";var Cxe=Us(),Sxe=bN(),xxe=TypeError,Exe=Object.getOwnPropertyDescriptor,Rxe=Cxe&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();O4.exports=Rxe?function(t,e){if(Sxe(t)&&!Exe(t,"length").writable)throw new xxe("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}});var _N=te((C9e,P4)=>{"use strict";var Txe=TypeError,Ixe=9007199254740991;P4.exports=function(t){if(t>Ixe)throw Txe("Maximum allowed index exceeded");return t}});var be=te(()=>{"use strict";var Dxe=jr(),Mxe=Up(),Axe=Gp(),Oxe=vN(),Pxe=_N(),kxe=jo(),Nxe=kxe(function(){return[].push.call({length:4294967296},1)!==4294967297}),Lxe=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},Fxe=Nxe||!Lxe();Dxe({target:"Array",proto:!0,arity:1,forced:Fxe},{push:function(e){var i=Mxe(this),n=Axe(i),r=arguments.length;Pxe(n+r);for(var o=0;o<r;o++)i[n]=arguments[o],n++;return Oxe(i,n),n}})});var La=te((E9e,k4)=>{"use strict";var yN=rr(),cT=Set.prototype;k4.exports={Set,add:yN(cT.add),has:yN(cT.has),remove:yN(cT.delete),proto:cT}});var fu=te((R9e,N4)=>{"use strict";var Hxe=La().has;N4.exports=function(t){return Hxe(t),t}});var mu=te((T9e,L4)=>{"use strict";var Vxe=zs();L4.exports=function(t,e,i){for(var n=i?t:t.iterator,r=t.next,o,s;!(o=Vxe(r,n)).done;)if(s=e(o.value),s!==void 0)return s}});var $p=te((I9e,W4)=>{"use strict";var F4=rr(),Bxe=mu(),H4=La(),Wxe=H4.Set,V4=H4.proto,jxe=F4(V4.forEach),B4=F4(V4.keys),Uxe=B4(new Wxe).next;W4.exports=function(t,e,i){return i?Bxe({iterator:B4(t),next:Uxe},e):jxe(t,e)}});var dT=te((D9e,U4)=>{"use strict";var j4=La(),zxe=$p(),Yxe=j4.Set,Gxe=j4.add;U4.exports=function(t){var e=new Yxe;return zxe(t,function(i){Gxe(e,i)}),e}});var qp=te((M9e,z4)=>{"use strict";var $xe=hN(),qxe=La();z4.exports=$xe(qxe.proto,"size","get")||function(t){return t.size}});var G4=te((A9e,Y4)=>{"use strict";Y4.exports=function(t){return{iterator:t,next:t.next,done:!1}}});var pu=te((O9e,Z4)=>{"use strict";var $4=jp(),X4=Sl(),q4=zs(),Kxe=ay(),Xxe=G4(),K4="Invalid size",Qxe=RangeError,Zxe=TypeError,Jxe=Math.max,Q4=function(t,e){this.set=t,this.size=Jxe(e,0),this.has=$4(t.has),this.keys=$4(t.keys)};Q4.prototype={getIterator:function(){return Xxe(X4(q4(this.keys,this.set)))},includes:function(t){return q4(this.has,this.set,t)}};Z4.exports=function(t){X4(t);var e=+t.size;if(e!==e)throw new Zxe(K4);var i=Kxe(e);if(i<0)throw new Qxe(K4);return new Q4(t,i)}});var i8=te((P9e,t8)=>{"use strict";var eEe=fu(),e8=La(),tEe=dT(),iEe=qp(),nEe=pu(),rEe=$p(),oEe=mu(),sEe=e8.has,J4=e8.remove;t8.exports=function(e){var i=eEe(this),n=nEe(e),r=tEe(i);return iEe(i)<=n.size?rEe(i,function(o){n.includes(o)&&J4(r,o)}):oEe(n.getIterator(),function(o){sEe(i,o)&&J4(r,o)}),r}});var gu=te((k9e,r8)=>{"use strict";var aEe=ef(),n8=function(t){return{size:t,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}};r8.exports=function(t){var e=aEe("Set");try{new e()[t](n8(0));try{return new e()[t](n8(-1)),!1}catch{return!0}}catch{return!1}}});var o8=te(()=>{"use strict";var lEe=jr(),cEe=i8(),dEe=gu();lEe({target:"Set",proto:!0,real:!0,forced:!dEe("difference")},{difference:cEe})});var Fi=te(()=>{"use strict";o8()});var l8=te((V9e,a8)=>{"use strict";var uEe=fu(),wN=La(),hEe=qp(),fEe=pu(),mEe=$p(),pEe=mu(),gEe=wN.Set,s8=wN.add,bEe=wN.has;a8.exports=function(e){var i=uEe(this),n=fEe(e),r=new gEe;return hEe(i)>n.size?pEe(n.getIterator(),function(o){bEe(i,o)&&s8(r,o)}):mEe(i,function(o){n.includes(o)&&s8(r,o)}),r}});var c8=te(()=>{"use strict";var vEe=jr(),_Ee=jo(),yEe=l8(),wEe=gu(),CEe=!wEe("intersection")||_Ee(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});vEe({target:"Set",proto:!0,real:!0,forced:CEe},{intersection:yEe})});var Hi=te(()=>{"use strict";c8()});var uT=te((z9e,u8)=>{"use strict";var SEe=zs(),d8=Sl(),xEe=oy();u8.exports=function(t,e,i){var n,r;d8(t);try{if(n=xEe(t,"return"),!n){if(e==="throw")throw i;return i}n=SEe(n,t)}catch(o){r=!0,n=o}if(e==="throw")throw i;if(r)throw n;return d8(n),i}});var f8=te((Y9e,h8)=>{"use strict";var EEe=fu(),REe=La().has,TEe=qp(),IEe=pu(),DEe=$p(),MEe=mu(),AEe=uT();h8.exports=function(e){var i=EEe(this),n=IEe(e);if(TEe(i)<=n.size)return DEe(i,function(o){if(n.includes(o))return!1},!0)!==!1;var r=n.getIterator();return MEe(r,function(o){if(REe(i,o))return AEe(r,"normal",!1)})!==!1}});var m8=te(()=>{"use strict";var OEe=jr(),PEe=f8(),kEe=gu();OEe({target:"Set",proto:!0,real:!0,forced:!kEe("isDisjointFrom")},{isDisjointFrom:PEe})});var Vi=te(()=>{"use strict";m8()});var g8=te((X9e,p8)=>{"use strict";var NEe=fu(),LEe=qp(),FEe=$p(),HEe=pu();p8.exports=function(e){var i=NEe(this),n=HEe(e);return LEe(i)>n.size?!1:FEe(i,function(r){if(!n.includes(r))return!1},!0)!==!1}});var b8=te(()=>{"use strict";var VEe=jr(),BEe=g8(),WEe=gu();VEe({target:"Set",proto:!0,real:!0,forced:!WEe("isSubsetOf")},{isSubsetOf:BEe})});var Bi=te(()=>{"use strict";b8()});var _8=te((t7e,v8)=>{"use strict";var jEe=fu(),UEe=La().has,zEe=qp(),YEe=pu(),GEe=mu(),$Ee=uT();v8.exports=function(e){var i=jEe(this),n=YEe(e);if(zEe(i)<n.size)return!1;var r=n.getIterator();return GEe(r,function(o){if(!UEe(i,o))return $Ee(r,"normal",!1)})!==!1}});var y8=te(()=>{"use strict";var qEe=jr(),KEe=_8(),XEe=gu();qEe({target:"Set",proto:!0,real:!0,forced:!XEe("isSupersetOf")},{isSupersetOf:KEe})});var Wi=te(()=>{"use strict";y8()});var C8=te((s7e,w8)=>{"use strict";var QEe=fu(),CN=La(),ZEe=dT(),JEe=pu(),eRe=mu(),tRe=CN.add,iRe=CN.has,nRe=CN.remove;w8.exports=function(e){var i=QEe(this),n=JEe(e).getIterator(),r=ZEe(i);return eRe(n,function(o){iRe(i,o)?nRe(r,o):tRe(r,o)}),r}});var S8=te(()=>{"use strict";var rRe=jr(),oRe=C8(),sRe=gu();rRe({target:"Set",proto:!0,real:!0,forced:!sRe("symmetricDifference")},{symmetricDifference:oRe})});var ji=te(()=>{"use strict";S8()});var E8=te((u7e,x8)=>{"use strict";var aRe=fu(),lRe=La().add,cRe=dT(),dRe=pu(),uRe=mu();x8.exports=function(e){var i=aRe(this),n=dRe(e).getIterator(),r=cRe(i);return uRe(n,function(o){lRe(r,o)}),r}});var R8=te(()=>{"use strict";var hRe=jr(),fRe=E8(),mRe=gu();hRe({target:"Set",proto:!0,real:!0,forced:!mRe("union")},{union:fRe})});var Ui=te(()=>{"use strict";R8()});var I8=te((g7e,T8)=>{"use strict";var pRe=uu(),gRe=rr();T8.exports=function(t){if(pRe(t)==="Function")return gRe(t)}});var SN=te((b7e,M8)=>{"use strict";var D8=I8(),bRe=jp(),vRe=Z_(),_Re=D8(D8.bind);M8.exports=function(t,e){return bRe(t),e===void 0?t:vRe?_Re(t,e):function(){return t.apply(e,arguments)}}});var xN=te((v7e,A8)=>{"use strict";var yRe=ef();A8.exports=yRe("document","documentElement")});var hT=te((_7e,O8)=>{"use strict";var wRe=rr();O8.exports=wRe([].slice)});var EN=te((y7e,P8)=>{"use strict";var CRe=TypeError;P8.exports=function(t,e){if(t<e)throw new CRe("Not enough arguments");return t}});var N8=te((w7e,k8)=>{"use strict";var SRe=zR();k8.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(SRe)});var F8=te((C7e,L8)=>{"use strict";var xRe=Wr(),ERe=uu();L8.exports=ERe(xRe.process)==="process"});var kN=te((S7e,G8)=>{"use strict";var hs=Wr(),RRe=cy(),TRe=SN(),H8=Cr(),IRe=ka(),Y8=jo(),V8=xN(),DRe=hT(),B8=QR(),MRe=EN(),ARe=N8(),ORe=F8(),AN=hs.setImmediate,ON=hs.clearImmediate,PRe=hs.process,RN=hs.Dispatch,kRe=hs.Function,W8=hs.MessageChannel,NRe=hs.String,TN=0,dy={},j8="onreadystatechange",uy,rf,IN,DN;Y8(function(){uy=hs.location});var PN=function(t){if(IRe(dy,t)){var e=dy[t];delete dy[t],e()}},MN=function(t){return function(){PN(t)}},U8=function(t){PN(t.data)},z8=function(t){hs.postMessage(NRe(t),uy.protocol+"//"+uy.host)};(!AN||!ON)&&(AN=function(e){MRe(arguments.length,1);var i=H8(e)?e:kRe(e),n=DRe(arguments,1);return dy[++TN]=function(){RRe(i,void 0,n)},rf(TN),TN},ON=function(e){delete dy[e]},ORe?rf=function(t){PRe.nextTick(MN(t))}:RN&&RN.now?rf=function(t){RN.now(MN(t))}:W8&&!ARe?(IN=new W8,DN=IN.port2,IN.port1.onmessage=U8,rf=TRe(DN.postMessage,DN)):hs.addEventListener&&H8(hs.postMessage)&&!hs.importScripts&&uy&&uy.protocol!=="file:"&&!Y8(z8)?(rf=z8,hs.addEventListener("message",U8,!1)):j8 in B8("script")?rf=function(t){V8.appendChild(B8("script"))[j8]=function(){V8.removeChild(this),PN(t)}}:rf=function(t){setTimeout(MN(t),0)});G8.exports={set:AN,clear:ON}});var q8=te(()=>{"use strict";var LRe=jr(),FRe=Wr(),$8=kN().clear;LRe({global:!0,bind:!0,enumerable:!0,forced:FRe.clearImmediate!==$8},{clearImmediate:$8})});var X8=te((R7e,K8)=>{"use strict";K8.exports=typeof Bun=="function"&&Bun&&typeof Bun.version=="string"});var J8=te((T7e,Z8)=>{"use strict";var Q8=Wr(),HRe=cy(),VRe=Cr(),BRe=X8(),WRe=zR(),jRe=hT(),URe=EN(),zRe=Q8.Function,YRe=/MSIE .\./.test(WRe)||BRe&&function(){var t=Q8.Bun.version.split(".");return t.length<3||t[0]==="0"&&(t[1]<3||t[1]==="3"&&t[2]==="0")}();Z8.exports=function(t,e){var i=e?2:1;return YRe?function(n,r){var o=URe(arguments.length,1)>i,s=VRe(n)?n:zRe(n),a=o?jRe(arguments,i):[],l=o?function(){HRe(s,this,a)}:s;return e?t(l,r):t(l)}:t}});var nX=te(()=>{"use strict";var GRe=jr(),iX=Wr(),eX=kN().set,$Re=J8(),tX=iX.setImmediate?$Re(eX,!1):eX;GRe({global:!0,bind:!0,enumerable:!0,forced:iX.setImmediate!==tX},{setImmediate:tX})});var rX=te(()=>{"use strict";q8();nX()});var oX=te((NN,LN)=>{"use strict";(function(t,e){typeof NN=="object"&&typeof LN<"u"?LN.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self,t.DOMPurify=e())})(NN,function(){"use strict";function t(H){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},t(H)}function e(H,N){return e=Object.setPrototypeOf||function(fe,De){return fe.__proto__=De,fe},e(H,N)}function i(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function n(H,N,W){return i()?n=Reflect.construct:n=function(De,Ye,gt){var kt=[null];kt.push.apply(kt,Ye);var Xt=Function.bind.apply(De,kt),At=new Xt;return gt&&e(At,gt.prototype),At},n.apply(null,arguments)}function r(H){return o(H)||s(H)||a(H)||c()}function o(H){if(Array.isArray(H))return l(H)}function s(H){if(typeof Symbol<"u"&&H[Symbol.iterator]!=null||H["@@iterator"]!=null)return Array.from(H)}function a(H,N){if(H){if(typeof H=="string")return l(H,N);var W=Object.prototype.toString.call(H).slice(8,-1);if(W==="Object"&&H.constructor&&(W=H.constructor.name),W==="Map"||W==="Set")return Array.from(H);if(W==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(W))return l(H,N)}}function l(H,N){(N==null||N>H.length)&&(N=H.length);for(var W=0,fe=new Array(N);W<N;W++)fe[W]=H[W];return fe}function c(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var d=Object.hasOwnProperty,u=Object.setPrototypeOf,f=Object.isFrozen,m=Object.getPrototypeOf,g=Object.getOwnPropertyDescriptor,_=Object.freeze,b=Object.seal,y=Object.create,x=typeof Reflect<"u"&&Reflect,T=x.apply,O=x.construct;T||(T=function(N,W,fe){return N.apply(W,fe)}),_||(_=function(N){return N}),b||(b=function(N){return N}),O||(O=function(N,W){return n(N,r(W))});var P=je(Array.prototype.forEach),V=je(Array.prototype.pop),F=je(Array.prototype.push),k=je(String.prototype.toLowerCase),Z=je(String.prototype.toString),ae=je(String.prototype.match),re=je(String.prototype.replace),ve=je(String.prototype.indexOf),Pe=je(String.prototype.trim),Ne=je(RegExp.prototype.test),Oe=Ue(TypeError);function je(H){return function(N){for(var W=arguments.length,fe=new Array(W>1?W-1:0),De=1;De<W;De++)fe[De-1]=arguments[De];return T(H,N,fe)}}function Ue(H){return function(){for(var N=arguments.length,W=new Array(N),fe=0;fe<N;fe++)W[fe]=arguments[fe];return O(H,W)}}function he(H,N,W){var fe;W=(fe=W)!==null&&fe!==void 0?fe:k,u&&u(H,null);for(var De=N.length;De--;){var Ye=N[De];if(typeof Ye=="string"){var gt=W(Ye);gt!==Ye&&(f(N)||(N[De]=gt),Ye=gt)}H[Ye]=!0}return H}function de(H){var N=y(null),W;for(W in H)T(d,H,[W])===!0&&(N[W]=H[W]);return N}function oi(H,N){for(;H!==null;){var W=g(H,N);if(W){if(W.get)return je(W.get);if(typeof W.value=="function")return je(W.value)}H=m(H)}function fe(De){return console.warn("fallback value for",De),null}return fe}var S=_(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),E=_(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),R=_(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),G=_(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),$=_(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),X=_(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ge=_(["#text"]),_e=_(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Ve=_(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),$e=_(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ye=_(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),se=b(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Yt=b(/<%[\w\W]*|[\w\W]*%>/gm),_t=b(/\${[\w\W]*}/gm),Kt=b(/^data-[\-\w.\u00B7-\uFFFF]/),Vt=b(/^aria-[\-\w]+$/),Mt=b(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),D=b(/^(?:\w+script|data):/i),A=b(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),B=b(/^html$/i),K=b(/^[a-z][.\w]*(-[.\w]+)+$/i),U=function(){return typeof window>"u"?null:window},J=function(N,W){if(t(N)!=="object"||typeof N.createPolicy!="function")return null;var fe=null,De="data-tt-policy-suffix";W.currentScript&&W.currentScript.hasAttribute(De)&&(fe=W.currentScript.getAttribute(De));var Ye="dompurify"+(fe?"#"+fe:"");try{return N.createPolicy(Ye,{createHTML:function(kt){return kt},createScriptURL:function(kt){return kt}})}catch{return console.warn("TrustedTypes policy "+Ye+" could not be created."),null}};function z(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:U(),N=function(Y){return z(Y)};if(N.version="2.5.5",N.removed=[],!H||!H.document||H.document.nodeType!==9)return N.isSupported=!1,N;var W=H.document,fe=H.document,De=H.DocumentFragment,Ye=H.HTMLTemplateElement,gt=H.Node,kt=H.Element,Xt=H.NodeFilter,At=H.NamedNodeMap,Wt=At===void 0?H.NamedNodeMap||H.MozNamedAttrMap:At,gi=H.HTMLFormElement,va=H.DOMParser,kr=H.trustedTypes,fo=kt.prototype,$r=oi(fo,"cloneNode"),Ms=oi(fo,"nextSibling"),Me=oi(fo,"childNodes"),jn=oi(fo,"parentNode");if(typeof Ye=="function"){var qi=fe.createElement("template");qi.content&&qi.content.ownerDocument&&(fe=qi.content.ownerDocument)}var Un=J(kr,W),qr=Un?Un.createHTML(""):"",Qt=fe,vh=Qt.implementation,Oi=Qt.createNodeIterator,_h=Qt.createDocumentFragment,AA=Qt.getElementsByTagName,gm=W.importNode,ar={};try{ar=de(fe).documentMode?fe.documentMode:{}}catch{}var Jn={};N.isSupported=typeof jn=="function"&&vh&&vh.createHTMLDocument!==void 0&&ar!==9;var Ao=se,xn=Yt,mo=_t,_a=Kt,sc=Vt,OA=D,ZS=A,yh=K,bm=Mt,er=null,ac=he({},[].concat(r(S),r(E),r(R),r($),r(ge))),bn=null,iv=he({},[].concat(r(_e),r(Ve),r($e),r(ye))),En=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),wh=null,nv=null,vn=!0,Ch=!0,JS=!1,rv=!0,lc=!1,ov=!0,cc=!1,sv=!1,av=!1,gd=!1,vm=!1,Sh=!1,lv=!0,ex=!1,PA="user-content-",cv=!0,bd=!1,vd={},As=null,xh=he({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),dv=null,_d=he({},["audio","video","img","source","image","track"]),rs=null,tx=he({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),_m="http://www.w3.org/1998/Math/MathML",ym="http://www.w3.org/2000/svg",ya="http://www.w3.org/1999/xhtml",yd=ya,uv=!1,hv=null,kA=he({},[_m,ym,ya],Z),wa,NA=["application/xhtml+xml","text/html"],ix="text/html",tr,wd=null,LA=fe.createElement("form"),nx=function(Y){return Y instanceof RegExp||Y instanceof Function},fv=function(Y){wd&&wd===Y||((!Y||t(Y)!=="object")&&(Y={}),Y=de(Y),wa=NA.indexOf(Y.PARSER_MEDIA_TYPE)===-1?wa=ix:wa=Y.PARSER_MEDIA_TYPE,tr=wa==="application/xhtml+xml"?Z:k,er="ALLOWED_TAGS"in Y?he({},Y.ALLOWED_TAGS,tr):ac,bn="ALLOWED_ATTR"in Y?he({},Y.ALLOWED_ATTR,tr):iv,hv="ALLOWED_NAMESPACES"in Y?he({},Y.ALLOWED_NAMESPACES,Z):kA,rs="ADD_URI_SAFE_ATTR"in Y?he(de(tx),Y.ADD_URI_SAFE_ATTR,tr):tx,dv="ADD_DATA_URI_TAGS"in Y?he(de(_d),Y.ADD_DATA_URI_TAGS,tr):_d,As="FORBID_CONTENTS"in Y?he({},Y.FORBID_CONTENTS,tr):xh,wh="FORBID_TAGS"in Y?he({},Y.FORBID_TAGS,tr):{},nv="FORBID_ATTR"in Y?he({},Y.FORBID_ATTR,tr):{},vd="USE_PROFILES"in Y?Y.USE_PROFILES:!1,vn=Y.ALLOW_ARIA_ATTR!==!1,Ch=Y.ALLOW_DATA_ATTR!==!1,JS=Y.ALLOW_UNKNOWN_PROTOCOLS||!1,rv=Y.ALLOW_SELF_CLOSE_IN_ATTR!==!1,lc=Y.SAFE_FOR_TEMPLATES||!1,ov=Y.SAFE_FOR_XML!==!1,cc=Y.WHOLE_DOCUMENT||!1,gd=Y.RETURN_DOM||!1,vm=Y.RETURN_DOM_FRAGMENT||!1,Sh=Y.RETURN_TRUSTED_TYPE||!1,av=Y.FORCE_BODY||!1,lv=Y.SANITIZE_DOM!==!1,ex=Y.SANITIZE_NAMED_PROPS||!1,cv=Y.KEEP_CONTENT!==!1,bd=Y.IN_PLACE||!1,bm=Y.ALLOWED_URI_REGEXP||bm,yd=Y.NAMESPACE||ya,En=Y.CUSTOM_ELEMENT_HANDLING||{},Y.CUSTOM_ELEMENT_HANDLING&&nx(Y.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(En.tagNameCheck=Y.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Y.CUSTOM_ELEMENT_HANDLING&&nx(Y.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(En.attributeNameCheck=Y.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Y.CUSTOM_ELEMENT_HANDLING&&typeof Y.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(En.allowCustomizedBuiltInElements=Y.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),lc&&(Ch=!1),vm&&(gd=!0),vd&&(er=he({},r(ge)),bn=[],vd.html===!0&&(he(er,S),he(bn,_e)),vd.svg===!0&&(he(er,E),he(bn,Ve),he(bn,ye)),vd.svgFilters===!0&&(he(er,R),he(bn,Ve),he(bn,ye)),vd.mathMl===!0&&(he(er,$),he(bn,$e),he(bn,ye))),Y.ADD_TAGS&&(er===ac&&(er=de(er)),he(er,Y.ADD_TAGS,tr)),Y.ADD_ATTR&&(bn===iv&&(bn=de(bn)),he(bn,Y.ADD_ATTR,tr)),Y.ADD_URI_SAFE_ATTR&&he(rs,Y.ADD_URI_SAFE_ATTR,tr),Y.FORBID_CONTENTS&&(As===xh&&(As=de(As)),he(As,Y.FORBID_CONTENTS,tr)),cv&&(er["#text"]=!0),cc&&he(er,["html","head","body"]),er.table&&(he(er,["tbody"]),delete wh.tbody),_&&_(Y),wd=Y)},rx=he({},["mi","mo","mn","ms","mtext"]),ox=he({},["foreignobject","annotation-xml"]),FA=he({},["title","style","font","a","script"]),wm=he({},E);he(wm,R),he(wm,G);var mv=he({},$);he(mv,X);var HA=function(Y){var me=jn(Y);(!me||!me.tagName)&&(me={namespaceURI:yd,tagName:"template"});var Ae=k(Y.tagName),ai=k(me.tagName);return hv[Y.namespaceURI]?Y.namespaceURI===ym?me.namespaceURI===ya?Ae==="svg":me.namespaceURI===_m?Ae==="svg"&&(ai==="annotation-xml"||rx[ai]):!!wm[Ae]:Y.namespaceURI===_m?me.namespaceURI===ya?Ae==="math":me.namespaceURI===ym?Ae==="math"&&ox[ai]:!!mv[Ae]:Y.namespaceURI===ya?me.namespaceURI===ym&&!ox[ai]||me.namespaceURI===_m&&!rx[ai]?!1:!mv[Ae]&&(FA[Ae]||!wm[Ae]):!!(wa==="application/xhtml+xml"&&hv[Y.namespaceURI]):!1},Oo=function(Y){F(N.removed,{element:Y});try{Y.parentNode.removeChild(Y)}catch{try{Y.outerHTML=qr}catch{Y.remove()}}},Cm=function(Y,me){try{F(N.removed,{attribute:me.getAttributeNode(Y),from:me})}catch{F(N.removed,{attribute:null,from:me})}if(me.removeAttribute(Y),Y==="is"&&!bn[Y])if(gd||vm)try{Oo(me)}catch{}else try{me.setAttribute(Y,"")}catch{}},sx=function(Y){var me,Ae;if(av)Y="<remove></remove>"+Y;else{var ai=ae(Y,/^[\r\n\t ]+/);Ae=ai&&ai[0]}wa==="application/xhtml+xml"&&yd===ya&&(Y='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Y+"</body></html>");var Kr=Un?Un.createHTML(Y):Y;if(yd===ya)try{me=new va().parseFromString(Kr,wa)}catch{}if(!me||!me.documentElement){me=vh.createDocument(yd,"template",null);try{me.documentElement.innerHTML=uv?qr:Kr}catch{}}var lr=me.body||me.documentElement;return Y&&Ae&&lr.insertBefore(fe.createTextNode(Ae),lr.childNodes[0]||null),yd===ya?AA.call(me,cc?"html":"body")[0]:cc?me.documentElement:lr},ax=function(Y){return Oi.call(Y.ownerDocument||Y,Y,Xt.SHOW_ELEMENT|Xt.SHOW_COMMENT|Xt.SHOW_TEXT|Xt.SHOW_PROCESSING_INSTRUCTION|Xt.SHOW_CDATA_SECTION,null,!1)},Sm=function(Y){return Y instanceof gi&&(typeof Y.nodeName!="string"||typeof Y.textContent!="string"||typeof Y.removeChild!="function"||!(Y.attributes instanceof Wt)||typeof Y.removeAttribute!="function"||typeof Y.setAttribute!="function"||typeof Y.namespaceURI!="string"||typeof Y.insertBefore!="function"||typeof Y.hasChildNodes!="function")},dc=function(Y){return t(gt)==="object"?Y instanceof gt:Y&&t(Y)==="object"&&typeof Y.nodeType=="number"&&typeof Y.nodeName=="string"},Ca=function(Y,me,Ae){Jn[Y]&&P(Jn[Y],function(ai){ai.call(N,me,Ae,wd)})},pv=function(Y){var me;if(Ca("beforeSanitizeElements",Y,null),Sm(Y)||Ne(/[\u0080-\uFFFF]/,Y.nodeName))return Oo(Y),!0;var Ae=tr(Y.nodeName);if(Ca("uponSanitizeElement",Y,{tagName:Ae,allowedTags:er}),Y.hasChildNodes()&&!dc(Y.firstElementChild)&&(!dc(Y.content)||!dc(Y.content.firstElementChild))&&Ne(/<[/\w]/g,Y.innerHTML)&&Ne(/<[/\w]/g,Y.textContent)||Ae==="select"&&Ne(/<template/i,Y.innerHTML)||Y.nodeType===7||ov&&Y.nodeType===8&&Ne(/<[/\w]/g,Y.data))return Oo(Y),!0;if(!er[Ae]||wh[Ae]){if(!wh[Ae]&&lx(Ae)&&(En.tagNameCheck instanceof RegExp&&Ne(En.tagNameCheck,Ae)||En.tagNameCheck instanceof Function&&En.tagNameCheck(Ae)))return!1;if(cv&&!As[Ae]){var ai=jn(Y)||Y.parentNode,Kr=Me(Y)||Y.childNodes;if(Kr&&ai)for(var lr=Kr.length,cr=lr-1;cr>=0;--cr){var uc=$r(Kr[cr],!0);uc.__removalCount=(Y.__removalCount||0)+1,ai.insertBefore(uc,Ms(Y))}}return Oo(Y),!0}return Y instanceof kt&&!HA(Y)||(Ae==="noscript"||Ae==="noembed"||Ae==="noframes")&&Ne(/<\/no(script|embed|frames)/i,Y.innerHTML)?(Oo(Y),!0):(lc&&Y.nodeType===3&&(me=Y.textContent,me=re(me,Ao," "),me=re(me,xn," "),me=re(me,mo," "),Y.textContent!==me&&(F(N.removed,{element:Y.cloneNode()}),Y.textContent=me)),Ca("afterSanitizeElements",Y,null),!1)},gv=function(Y,me,Ae){if(lv&&(me==="id"||me==="name")&&(Ae in fe||Ae in LA))return!1;if(!(Ch&&!nv[me]&&Ne(_a,me))){if(!(vn&&Ne(sc,me))){if(!bn[me]||nv[me]){if(!(lx(Y)&&(En.tagNameCheck instanceof RegExp&&Ne(En.tagNameCheck,Y)||En.tagNameCheck instanceof Function&&En.tagNameCheck(Y))&&(En.attributeNameCheck instanceof RegExp&&Ne(En.attributeNameCheck,me)||En.attributeNameCheck instanceof Function&&En.attributeNameCheck(me))||me==="is"&&En.allowCustomizedBuiltInElements&&(En.tagNameCheck instanceof RegExp&&Ne(En.tagNameCheck,Ae)||En.tagNameCheck instanceof Function&&En.tagNameCheck(Ae))))return!1}else if(!rs[me]){if(!Ne(bm,re(Ae,ZS,""))){if(!((me==="src"||me==="xlink:href"||me==="href")&&Y!=="script"&&ve(Ae,"data:")===0&&dv[Y])){if(!(JS&&!Ne(OA,re(Ae,ZS,"")))){if(Ae)return!1}}}}}}return!0},lx=function(Y){return Y!=="annotation-xml"&&ae(Y,yh)},cx=function(Y){var me,Ae,ai,Kr;Ca("beforeSanitizeAttributes",Y,null);var lr=Y.attributes;if(lr){var cr={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:bn};for(Kr=lr.length;Kr--;){me=lr[Kr];var uc=me,_n=uc.name,Os=uc.namespaceURI;if(Ae=_n==="value"?me.value:Pe(me.value),ai=tr(_n),cr.attrName=ai,cr.attrValue=Ae,cr.keepAttr=!0,cr.forceKeepAttr=void 0,Ca("uponSanitizeAttribute",Y,cr),Ae=cr.attrValue,!cr.forceKeepAttr&&(Cm(_n,Y),!!cr.keepAttr)){if(!rv&&Ne(/\/>/i,Ae)){Cm(_n,Y);continue}if(ov&&Ne(/((--!?|])>)|<\/(style|title)/i,Ae)){Cm(_n,Y);continue}lc&&(Ae=re(Ae,Ao," "),Ae=re(Ae,xn," "),Ae=re(Ae,mo," "));var xm=tr(Y.nodeName);if(gv(xm,ai,Ae)){if(ex&&(ai==="id"||ai==="name")&&(Cm(_n,Y),Ae=PA+Ae),Un&&t(kr)==="object"&&typeof kr.getAttributeType=="function"&&!Os)switch(kr.getAttributeType(xm,ai)){case"TrustedHTML":{Ae=Un.createHTML(Ae);break}case"TrustedScriptURL":{Ae=Un.createScriptURL(Ae);break}}try{Os?Y.setAttributeNS(Os,_n,Ae):Y.setAttribute(_n,Ae),Sm(Y)?Oo(Y):V(N.removed)}catch{}}}}Ca("afterSanitizeAttributes",Y,null)}},VA=function bt(Y){var me,Ae=ax(Y);for(Ca("beforeSanitizeShadowDOM",Y,null);me=Ae.nextNode();)Ca("uponSanitizeShadowNode",me,null),!pv(me)&&(me.content instanceof De&&bt(me.content),cx(me));Ca("afterSanitizeShadowDOM",Y,null)};return N.sanitize=function(bt){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},me,Ae,ai,Kr,lr;if(uv=!bt,uv&&(bt="<!-->"),typeof bt!="string"&&!dc(bt))if(typeof bt.toString=="function"){if(bt=bt.toString(),typeof bt!="string")throw Oe("dirty is not a string, aborting")}else throw Oe("toString is not a function");if(!N.isSupported){if(t(H.toStaticHTML)==="object"||typeof H.toStaticHTML=="function"){if(typeof bt=="string")return H.toStaticHTML(bt);if(dc(bt))return H.toStaticHTML(bt.outerHTML)}return bt}if(sv||fv(Y),N.removed=[],typeof bt=="string"&&(bd=!1),bd){if(bt.nodeName){var cr=tr(bt.nodeName);if(!er[cr]||wh[cr])throw Oe("root node is forbidden and cannot be sanitized in-place")}}else if(bt instanceof gt)me=sx("<!---->"),Ae=me.ownerDocument.importNode(bt,!0),Ae.nodeType===1&&Ae.nodeName==="BODY"||Ae.nodeName==="HTML"?me=Ae:me.appendChild(Ae);else{if(!gd&&!lc&&!cc&&bt.indexOf("<")===-1)return Un&&Sh?Un.createHTML(bt):bt;if(me=sx(bt),!me)return gd?null:Sh?qr:""}me&&av&&Oo(me.firstChild);for(var uc=ax(bd?bt:me);ai=uc.nextNode();)ai.nodeType===3&&ai===Kr||pv(ai)||(ai.content instanceof De&&VA(ai.content),cx(ai),Kr=ai);if(Kr=null,bd)return bt;if(gd){if(vm)for(lr=_h.call(me.ownerDocument);me.firstChild;)lr.appendChild(me.firstChild);else lr=me;return(bn.shadowroot||bn.shadowrootmod)&&(lr=gm.call(W,lr,!0)),lr}var _n=cc?me.outerHTML:me.innerHTML;return cc&&er["!doctype"]&&me.ownerDocument&&me.ownerDocument.doctype&&me.ownerDocument.doctype.name&&Ne(B,me.ownerDocument.doctype.name)&&(_n="<!DOCTYPE "+me.ownerDocument.doctype.name+`>
`+_n),lc&&(_n=re(_n,Ao," "),_n=re(_n,xn," "),_n=re(_n,mo," ")),Un&&Sh?Un.createHTML(_n):_n},N.setConfig=function(bt){fv(bt),sv=!0},N.clearConfig=function(){wd=null,sv=!1},N.isValidAttribute=function(bt,Y,me){wd||fv({});var Ae=tr(bt),ai=tr(Y);return gv(Ae,ai,me)},N.addHook=function(bt,Y){typeof Y=="function"&&(Jn[bt]=Jn[bt]||[],F(Jn[bt],Y))},N.removeHook=function(bt){if(Jn[bt])return V(Jn[bt])},N.removeHooks=function(bt){Jn[bt]&&(Jn[bt]=[])},N.removeAllHooks=function(){Jn={}},N}var q=z();return q})});var e6=te((tQe,JX)=>{"use strict";var eTe=rr(),XX=bN(),tTe=Cr(),QX=uu(),iTe=aT(),ZX=eTe([].push);JX.exports=function(t){if(tTe(t))return t;if(XX(t)){for(var e=t.length,i=[],n=0;n<e;n++){var r=t[n];typeof r=="string"?ZX(i,r):(typeof r=="number"||QX(r)==="Number"||QX(r)==="String")&&ZX(i,iTe(r))}var o=i.length,s=!0;return function(a,l){if(s)return s=!1,l;if(XX(this))return l;for(var c=0;c<o;c++)if(i[c]===a)return l}}}});var MT=te(()=>{"use strict";var nTe=jr(),l6=ef(),c6=cy(),rTe=zs(),wy=rr(),d6=jo(),t6=Cr(),i6=$R(),u6=hT(),oTe=e6(),sTe=GR(),aTe=String,wu=l6("JSON","stringify"),DT=wy(/./.exec),n6=wy("".charAt),lTe=wy("".charCodeAt),cTe=wy("".replace),dTe=wy(1 .toString),uTe=/[\uD800-\uDFFF]/g,r6=/^[\uD800-\uDBFF]$/,o6=/^[\uDC00-\uDFFF]$/,s6=!sTe||d6(function(){var t=l6("Symbol")("stringify detection");return wu([t])!=="[null]"||wu({a:t})!=="{}"||wu(Object(t))!=="{}"}),a6=d6(function(){return wu("\uDF06\uD834")!=='"\\udf06\\ud834"'||wu("\uDEAD")!=='"\\udead"'}),hTe=function(t,e){var i=u6(arguments),n=oTe(e);if(!(!t6(n)&&(t===void 0||i6(t))))return i[1]=function(r,o){if(t6(n)&&(o=rTe(n,this,aTe(r),o)),!i6(o))return o},c6(wu,null,i)},fTe=function(t,e,i){var n=n6(i,e-1),r=n6(i,e+1);return DT(r6,t)&&!DT(o6,r)||DT(o6,t)&&!DT(r6,n)?"\\u"+dTe(lTe(t,0),16):t};wu&&nTe({target:"JSON",stat:!0,arity:3,forced:s6||a6},{stringify:function(e,i,n){var r=u6(arguments),o=c6(s6?hTe:wu,null,r);return a6&&typeof o=="string"?cTe(o,uTe,fTe):o}})});var C6=te((vQe,w6)=>{"use strict";var bTe=dN(),vTe=rT();w6.exports=Object.keys||function(e){return bTe(e,vTe)}});var x6=te(S6=>{"use strict";var _Te=Us(),yTe=K1(),wTe=hu(),CTe=Sl(),STe=iy(),xTe=C6();S6.f=_Te&&!yTe?Object.defineProperties:function(e,i){CTe(e);for(var n=STe(i),r=xTe(i),o=r.length,s=0,a;o>s;)wTe.f(e,a=r[s++],n[a]);return e}});var O6=te((yQe,A6)=>{"use strict";var ETe=Sl(),RTe=x6(),E6=rT(),TTe=JR(),ITe=xN(),DTe=QR(),MTe=nN(),R6=">",T6="<",eL="prototype",tL="script",D6=MTe("IE_PROTO"),JN=function(){},M6=function(t){return T6+tL+R6+t+T6+"/"+tL+R6},I6=function(t){t.write(M6("")),t.close();var e=t.parentWindow.Object;return t=null,e},ATe=function(){var t=DTe("iframe"),e="java"+tL+":",i;return t.style.display="none",ITe.appendChild(t),t.src=String(e),i=t.contentWindow.document,i.open(),i.write(M6("document.F=Object")),i.close(),i.F},HT,VT=function(){try{HT=new ActiveXObject("htmlfile")}catch{}VT=typeof document<"u"?document.domain&&HT?I6(HT):ATe():I6(HT);for(var t=E6.length;t--;)delete VT[eL][E6[t]];return VT()};TTe[D6]=!0;A6.exports=Object.create||function(e,i){var n;return e!==null?(JN[eL]=ETe(e),n=new JN,JN[eL]=null,n[D6]=e):n=VT(),i===void 0?n:RTe.f(n,i)}});var BT=te((wQe,P6)=>{"use strict";var OTe=Fc(),PTe=O6(),kTe=hu().f,iL=OTe("unscopables"),nL=Array.prototype;nL[iL]===void 0&&kTe(nL,iL,{configurable:!0,value:PTe(null)});P6.exports=function(t){nL[iL][t]=!0}});var rL=te(()=>{"use strict";var NTe=BT();NTe("flatMap")});var W6=te((oZe,B6)=>{"use strict";var nIe=Oa(),rIe=uu(),oIe=Fc(),sIe=oIe("match");B6.exports=function(t){var e;return nIe(t)&&((e=t[sIe])!==void 0?!!e:rIe(t)==="RegExp")}});var U6=te((sZe,j6)=>{"use strict";var aIe=Sl();j6.exports=function(){var t=aIe(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}});var G6=te((aZe,Y6)=>{"use strict";var lIe=zs(),cIe=ka(),dIe=ny(),uIe=U6(),z6=RegExp.prototype;Y6.exports=function(t){var e=t.flags;return e===void 0&&!("flags"in z6)&&!cIe(t,"flags")&&dIe(z6,t)?lIe(uIe,t):e}});var q6=te((lZe,$6)=>{"use strict";var bL=rr(),hIe=Up(),fIe=Math.floor,pL=bL("".charAt),mIe=bL("".replace),gL=bL("".slice),pIe=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,gIe=/\$([$&'`]|\d{1,2})/g;$6.exports=function(t,e,i,n,r,o){var s=i+t.length,a=n.length,l=gIe;return r!==void 0&&(r=hIe(r),l=pIe),mIe(o,l,function(c,d){var u;switch(pL(d,0)){case"$":return"$";case"&":return t;case"`":return gL(e,0,i);case"'":return gL(e,s);case"<":u=r[gL(d,1,-1)];break;default:var f=+d;if(f===0)return c;if(f>a){var m=fIe(f/10);return m===0?c:m<=a?n[m-1]===void 0?pL(d,1):n[m-1]+pL(d,1):c}u=n[f-1]}return u===void 0?"":u})}});var Q6=te(()=>{"use strict";var bIe=jr(),vIe=zs(),_L=rr(),K6=ty(),_Ie=Cr(),yIe=ey(),wIe=W6(),mg=aT(),CIe=oy(),SIe=G6(),xIe=q6(),EIe=Fc(),RIe=qR(),TIe=EIe("replace"),IIe=TypeError,vL=_L("".indexOf),DIe=_L("".replace),X6=_L("".slice),MIe=Math.max;bIe({target:"String",proto:!0},{replaceAll:function(e,i){var n=K6(this),r,o,s,a,l,c,d,u,f,m=0,g=0,_="";if(!yIe(e)){if(r=wIe(e),r&&(o=mg(K6(SIe(e))),!~vL(o,"g")))throw new IIe("`.replaceAll` does not allow non-global regexes");if(s=CIe(e,TIe),s)return vIe(s,e,n,i);if(RIe&&r)return DIe(mg(n),e,i)}for(a=mg(n),l=mg(e),c=_Ie(i),c||(i=mg(i)),d=l.length,u=MIe(1,d),m=vL(a,l);m!==-1;)f=c?mg(i(l,m,a)):xIe(l,a,m,[],void 0,i),_+=X6(a,g,m)+f,g=m+d,m=m+u>a.length?-1:vL(a,l,m+u);return g<a.length&&(_+=X6(a,g)),_}})});var IL=te(()=>{"use strict";var XIe=jr(),QIe=Up(),ZIe=Gp(),JIe=ay(),eDe=BT();XIe({target:"Array",proto:!0},{at:function(e){var i=QIe(this),n=ZIe(i),r=JIe(e),o=r>=0?r:n+r;return o<0||o>=n?void 0:i[o]}});eDe("at")});var YL=te(()=>{"use strict";var yMe=BT();yMe("flat")});var NZ=te((kZ,fH)=>{"use strict";(function(t){typeof kZ=="object"&&typeof fH<"u"?fH.exports=t():typeof define=="function"&&define.amd?define([],t):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).numbro=t()})(function(){return function t(e,i,n){function r(a,l){if(!i[a]){if(!e[a]){var c=typeof Th=="function"&&Th;if(!l&&c)return c(a,!0);if(o)return o(a,!0);var d=new Error("Cannot find module '"+a+"'");throw d.code="MODULE_NOT_FOUND",d}var u=i[a]={exports:{}};e[a][0].call(u.exports,function(f){return r(e[a][1][f]||f)},u,u.exports,t,e,i,n)}return i[a].exports}for(var o=typeof Th=="function"&&Th,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(t,e,i){(function(n){"use strict";var r,o=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,s=Math.ceil,a=Math.floor,l="[BigNumber Error] ",c=l+"Number primitive has more than 15 significant digits: ",d=1e14,u=14,f=9007199254740991,m=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],g=1e7,_=1e9;function b(F){var k=0|F;return 0<F||F===k?k:k-1}function y(F){for(var k,Z,ae=1,re=F.length,ve=F[0]+"";ae<re;){for(k=F[ae++]+"",Z=u-k.length;Z--;k="0"+k);ve+=k}for(re=ve.length;ve.charCodeAt(--re)===48;);return ve.slice(0,re+1||1)}function x(F,k){var Z,ae,re=F.c,ve=k.c,Pe=F.s,Ne=k.s,Oe=F.e,je=k.e;if(!Pe||!Ne)return null;if(Z=re&&!re[0],ae=ve&&!ve[0],Z||ae)return Z?ae?0:-Ne:Pe;if(Pe!=Ne)return Pe;if(Z=Pe<0,ae=Oe==je,!re||!ve)return ae?0:!re^Z?1:-1;if(!ae)return je<Oe^Z?1:-1;for(Ne=(Oe=re.length)<(je=ve.length)?Oe:je,Pe=0;Pe<Ne;Pe++)if(re[Pe]!=ve[Pe])return re[Pe]>ve[Pe]^Z?1:-1;return Oe==je?0:je<Oe^Z?1:-1}function T(F,k,Z,ae){if(F<k||Z<F||F!==(F<0?s(F):a(F)))throw Error(l+(ae||"Argument")+(typeof F=="number"?F<k||Z<F?" out of range: ":" not an integer: ":" not a primitive number: ")+String(F))}function O(F){var k=F.c.length-1;return b(F.e/u)==k&&F.c[k]%2!=0}function P(F,k){return(1<F.length?F.charAt(0)+"."+F.slice(1):F)+(k<0?"e":"e+")+k}function V(F,k,Z){var ae,re;if(k<0){for(re=Z+".";++k;re+=Z);F=re+F}else if(++k>(ae=F.length)){for(re=Z,k-=ae;--k;re+=Z);F+=re}else k<ae&&(F=F.slice(0,k)+"."+F.slice(k));return F}(r=function F(k){var Z,ae,re,ve,Pe,Ne,Oe,je,Ue,he,de=se.prototype={constructor:se,toString:null,valueOf:null},oi=new se(1),S=20,E=4,R=-7,G=21,$=-1e7,X=1e7,ge=!1,_e=1,Ve=0,$e={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},ye="0123456789abcdefghijklmnopqrstuvwxyz";function se(D,A){var B,K,U,J,z,q,H,N,W=this;if(!(W instanceof se))return new se(D,A);if(A==null){if(D instanceof se)return W.s=D.s,W.e=D.e,void(W.c=(D=D.c)?D.slice():D);if((q=typeof D=="number")&&0*D==0){if(W.s=1/D<0?(D=-D,-1):1,D===~~D){for(J=0,z=D;10<=z;z/=10,J++);return W.e=J,void(W.c=[D])}N=String(D)}else{if(N=String(D),!o.test(N))return re(W,N,q);W.s=N.charCodeAt(0)==45?(N=N.slice(1),-1):1}-1<(J=N.indexOf("."))&&(N=N.replace(".","")),0<(z=N.search(/e/i))?(J<0&&(J=z),J+=+N.slice(z+1),N=N.substring(0,z)):J<0&&(J=N.length)}else{if(T(A,2,ye.length,"Base"),N=String(D),A==10)return Vt(W=new se(D instanceof se?D:N),S+W.e+1,E);if(q=typeof D=="number"){if(0*D!=0)return re(W,N,q,A);if(W.s=1/D<0?(N=N.slice(1),-1):1,se.DEBUG&&15<N.replace(/^0\.0*|\./,"").length)throw Error(c+D);q=!1}else W.s=N.charCodeAt(0)===45?(N=N.slice(1),-1):1;for(B=ye.slice(0,A),J=z=0,H=N.length;z<H;z++)if(B.indexOf(K=N.charAt(z))<0){if(K=="."){if(J<z){J=H;continue}}else if(!U&&(N==N.toUpperCase()&&(N=N.toLowerCase())||N==N.toLowerCase()&&(N=N.toUpperCase()))){U=!0,z=-1,J=0;continue}return re(W,String(D),q,A)}-1<(J=(N=ae(N,A,10,W.s)).indexOf("."))?N=N.replace(".",""):J=N.length}for(z=0;N.charCodeAt(z)===48;z++);for(H=N.length;N.charCodeAt(--H)===48;);if(N=N.slice(z,++H)){if(H-=z,q&&se.DEBUG&&15<H&&(f<D||D!==a(D)))throw Error(c+W.s*D);if(X<(J=J-z-1))W.c=W.e=null;else if(J<$)W.c=[W.e=0];else{if(W.e=J,W.c=[],z=(J+1)%u,J<0&&(z+=u),z<H){for(z&&W.c.push(+N.slice(0,z)),H-=u;z<H;)W.c.push(+N.slice(z,z+=u));N=N.slice(z),z=u-N.length}else z-=H;for(;z--;N+="0");W.c.push(+N)}}else W.c=[W.e=0]}function Yt(D,A,B,K){var U,J,z,q,H;if(B==null?B=E:T(B,0,8),!D.c)return D.toString();if(U=D.c[0],z=D.e,A==null)H=y(D.c),H=K==1||K==2&&(z<=R||G<=z)?P(H,z):V(H,z,"0");else if(J=(D=Vt(new se(D),A,B)).e,q=(H=y(D.c)).length,K==1||K==2&&(A<=J||J<=R)){for(;q<A;H+="0",q++);H=P(H,J)}else if(A-=z,H=V(H,J,"0"),q<J+1){if(0<--A)for(H+=".";A--;H+="0");}else if(0<(A+=J-q))for(J+1==q&&(H+=".");A--;H+="0");return D.s<0&&U?"-"+H:H}function _t(D,A){for(var B,K=1,U=new se(D[0]);K<D.length;K++){if(!(B=new se(D[K])).s){U=B;break}A.call(U,B)&&(U=B)}return U}function Kt(D,A,B){for(var K=1,U=A.length;!A[--U];A.pop());for(U=A[0];10<=U;U/=10,K++);return(B=K+B*u-1)>X?D.c=D.e=null:D.c=B<$?[D.e=0]:(D.e=B,A),D}function Vt(D,A,B,K){var U,J,z,q,H,N,W,fe=D.c,De=m;if(fe){e:{for(U=1,q=fe[0];10<=q;q/=10,U++);if((J=A-U)<0)J+=u,z=A,W=(H=fe[N=0])/De[U-z-1]%10|0;else if((N=s((J+1)/u))>=fe.length){if(!K)break e;for(;fe.length<=N;fe.push(0));H=W=0,z=(J%=u)-u+(U=1)}else{for(H=q=fe[N],U=1;10<=q;q/=10,U++);W=(z=(J%=u)-u+U)<0?0:H/De[U-z-1]%10|0}if(K=K||A<0||fe[N+1]!=null||(z<0?H:H%De[U-z-1]),K=B<4?(W||K)&&(B==0||B==(D.s<0?3:2)):5<W||W==5&&(B==4||K||B==6&&(0<J?0<z?H/De[U-z]:0:fe[N-1])%10&1||B==(D.s<0?8:7)),A<1||!fe[0])return fe.length=0,K?(A-=D.e+1,fe[0]=De[(u-A%u)%u],D.e=-A||0):fe[0]=D.e=0,D;if(J==0?(fe.length=N,q=1,N--):(fe.length=N+1,q=De[u-J],fe[N]=0<z?a(H/De[U-z]%De[z])*q:0),K)for(;;){if(N==0){for(J=1,z=fe[0];10<=z;z/=10,J++);for(z=fe[0]+=q,q=1;10<=z;z/=10,q++);J!=q&&(D.e++,fe[0]==d&&(fe[0]=1));break}if(fe[N]+=q,fe[N]!=d)break;fe[N--]=0,q=1}for(J=fe.length;fe[--J]===0;fe.pop());}D.e>X?D.c=D.e=null:D.e<$&&(D.c=[D.e=0])}return D}function Mt(D){var A,B=D.e;return B===null?D.toString():(A=y(D.c),A=B<=R||G<=B?P(A,B):V(A,B,"0"),D.s<0?"-"+A:A)}return se.clone=F,se.ROUND_UP=0,se.ROUND_DOWN=1,se.ROUND_CEIL=2,se.ROUND_FLOOR=3,se.ROUND_HALF_UP=4,se.ROUND_HALF_DOWN=5,se.ROUND_HALF_EVEN=6,se.ROUND_HALF_CEIL=7,se.ROUND_HALF_FLOOR=8,se.EUCLID=9,se.config=se.set=function(D){var A,B;if(D!=null){if(typeof D!="object")throw Error(l+"Object expected: "+D);if(D.hasOwnProperty(A="DECIMAL_PLACES")&&(T(B=D[A],0,_,A),S=B),D.hasOwnProperty(A="ROUNDING_MODE")&&(T(B=D[A],0,8,A),E=B),D.hasOwnProperty(A="EXPONENTIAL_AT")&&((B=D[A])&&B.pop?(T(B[0],-_,0,A),T(B[1],0,_,A),R=B[0],G=B[1]):(T(B,-_,_,A),R=-(G=B<0?-B:B))),D.hasOwnProperty(A="RANGE"))if((B=D[A])&&B.pop)T(B[0],-_,-1,A),T(B[1],1,_,A),$=B[0],X=B[1];else{if(T(B,-_,_,A),!B)throw Error(l+A+" cannot be zero: "+B);$=-(X=B<0?-B:B)}if(D.hasOwnProperty(A="CRYPTO")){if((B=D[A])!==!!B)throw Error(l+A+" not true or false: "+B);if(B){if(typeof crypto>"u"||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw ge=!B,Error(l+"crypto unavailable");ge=B}else ge=B}if(D.hasOwnProperty(A="MODULO_MODE")&&(T(B=D[A],0,9,A),_e=B),D.hasOwnProperty(A="POW_PRECISION")&&(T(B=D[A],0,_,A),Ve=B),D.hasOwnProperty(A="FORMAT")){if(typeof(B=D[A])!="object")throw Error(l+A+" not an object: "+B);$e=B}if(D.hasOwnProperty(A="ALPHABET")){if(typeof(B=D[A])!="string"||/^.$|[+-.\s]|(.).*\1/.test(B))throw Error(l+A+" invalid: "+B);ye=B}}return{DECIMAL_PLACES:S,ROUNDING_MODE:E,EXPONENTIAL_AT:[R,G],RANGE:[$,X],CRYPTO:ge,MODULO_MODE:_e,POW_PRECISION:Ve,FORMAT:$e,ALPHABET:ye}},se.isBigNumber=function(D){return D instanceof se||D&&D._isBigNumber===!0||!1},se.maximum=se.max=function(){return _t(arguments,de.lt)},se.minimum=se.min=function(){return _t(arguments,de.gt)},se.random=(ve=9007199254740992,Pe=Math.random()*ve&2097151?function(){return a(Math.random()*ve)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(D){var A,B,K,U,J,z=0,q=[],H=new se(oi);if(D==null?D=S:T(D,0,_),U=s(D/u),ge)if(crypto.getRandomValues){for(A=crypto.getRandomValues(new Uint32Array(U*=2));z<U;)9e15<=(J=131072*A[z]+(A[z+1]>>>11))?(B=crypto.getRandomValues(new Uint32Array(2)),A[z]=B[0],A[z+1]=B[1]):(q.push(J%1e14),z+=2);z=U/2}else{if(!crypto.randomBytes)throw ge=!1,Error(l+"crypto unavailable");for(A=crypto.randomBytes(U*=7);z<U;)9e15<=(J=281474976710656*(31&A[z])+1099511627776*A[z+1]+4294967296*A[z+2]+16777216*A[z+3]+(A[z+4]<<16)+(A[z+5]<<8)+A[z+6])?crypto.randomBytes(7).copy(A,z):(q.push(J%1e14),z+=7);z=U/7}if(!ge)for(;z<U;)(J=Pe())<9e15&&(q[z++]=J%1e14);for(U=q[--z],D%=u,U&&D&&(J=m[u-D],q[z]=a(U/J)*J);q[z]===0;q.pop(),z--);if(z<0)q=[K=0];else{for(K=-1;q[0]===0;q.splice(0,1),K-=u);for(z=1,J=q[0];10<=J;J/=10,z++);z<u&&(K-=u-z)}return H.e=K,H.c=q,H}),se.sum=function(){for(var D=1,A=arguments,B=new se(A[0]);D<A.length;)B=B.plus(A[D++]);return B},ae=function(){var D="0123456789";function A(B,K,U,J){for(var z,q,H=[0],N=0,W=B.length;N<W;){for(q=H.length;q--;H[q]*=K);for(H[0]+=J.indexOf(B.charAt(N++)),z=0;z<H.length;z++)H[z]>U-1&&(H[z+1]==null&&(H[z+1]=0),H[z+1]+=H[z]/U|0,H[z]%=U)}return H.reverse()}return function(B,K,U,J,z){var q,H,N,W,fe,De,Ye,gt,kt=B.indexOf("."),Xt=S,At=E;for(0<=kt&&(W=Ve,Ve=0,B=B.replace(".",""),De=(gt=new se(K)).pow(B.length-kt),Ve=W,gt.c=A(V(y(De.c),De.e,"0"),10,U,D),gt.e=gt.c.length),N=W=(Ye=A(B,K,U,z?(q=ye,D):(q=D,ye))).length;Ye[--W]==0;Ye.pop());if(!Ye[0])return q.charAt(0);if(kt<0?--N:(De.c=Ye,De.e=N,De.s=J,Ye=(De=Z(De,gt,Xt,At,U)).c,fe=De.r,N=De.e),kt=Ye[H=N+Xt+1],W=U/2,fe=fe||H<0||Ye[H+1]!=null,fe=At<4?(kt!=null||fe)&&(At==0||At==(De.s<0?3:2)):W<kt||kt==W&&(At==4||fe||At==6&&1&Ye[H-1]||At==(De.s<0?8:7)),H<1||!Ye[0])B=fe?V(q.charAt(1),-Xt,q.charAt(0)):q.charAt(0);else{if(Ye.length=H,fe)for(--U;++Ye[--H]>U;)Ye[H]=0,H||(++N,Ye=[1].concat(Ye));for(W=Ye.length;!Ye[--W];);for(kt=0,B="";kt<=W;B+=q.charAt(Ye[kt++]));B=V(B,N,q.charAt(0))}return B}}(),Z=function(){function D(K,U,J){var z,q,H,N,W=0,fe=K.length,De=U%g,Ye=U/g|0;for(K=K.slice();fe--;)W=((q=De*(H=K[fe]%g)+(z=Ye*H+(N=K[fe]/g|0)*De)%g*g+W)/J|0)+(z/g|0)+Ye*N,K[fe]=q%J;return W&&(K=[W].concat(K)),K}function A(K,U,J,z){var q,H;if(J!=z)H=z<J?1:-1;else for(q=H=0;q<J;q++)if(K[q]!=U[q]){H=K[q]>U[q]?1:-1;break}return H}function B(K,U,J,z){for(var q=0;J--;)K[J]-=q,q=K[J]<U[J]?1:0,K[J]=q*z+K[J]-U[J];for(;!K[0]&&1<K.length;K.splice(0,1));}return function(K,U,J,z,q){var H,N,W,fe,De,Ye,gt,kt,Xt,At,Wt,gi,va,kr,fo,$r,Ms,Me=K.s==U.s?1:-1,jn=K.c,qi=U.c;if(!(jn&&jn[0]&&qi&&qi[0]))return new se(K.s&&U.s&&(jn?!qi||jn[0]!=qi[0]:qi)?jn&&jn[0]==0||!qi?0*Me:Me/0:NaN);for(Xt=(kt=new se(Me)).c=[],Me=J+(N=K.e-U.e)+1,q||(q=d,N=b(K.e/u)-b(U.e/u),Me=Me/u|0),W=0;qi[W]==(jn[W]||0);W++);if(qi[W]>(jn[W]||0)&&N--,Me<0)Xt.push(1),fe=!0;else{for(kr=jn.length,$r=qi.length,Me+=2,1<(De=a(q/(qi[W=0]+1)))&&(qi=D(qi,De,q),jn=D(jn,De,q),$r=qi.length,kr=jn.length),va=$r,Wt=(At=jn.slice(0,$r)).length;Wt<$r;At[Wt++]=0);Ms=qi.slice(),Ms=[0].concat(Ms),fo=qi[0],qi[1]>=q/2&&fo++;do{if(De=0,(H=A(qi,At,$r,Wt))<0){if(gi=At[0],$r!=Wt&&(gi=gi*q+(At[1]||0)),1<(De=a(gi/fo)))for(q<=De&&(De=q-1),gt=(Ye=D(qi,De,q)).length,Wt=At.length;A(Ye,At,gt,Wt)==1;)De--,B(Ye,$r<gt?Ms:qi,gt,q),gt=Ye.length,H=1;else De==0&&(H=De=1),gt=(Ye=qi.slice()).length;if(gt<Wt&&(Ye=[0].concat(Ye)),B(At,Ye,Wt,q),Wt=At.length,H==-1)for(;A(qi,At,$r,Wt)<1;)De++,B(At,$r<Wt?Ms:qi,Wt,q),Wt=At.length}else H===0&&(De++,At=[0]);Xt[W++]=De,At[0]?At[Wt++]=jn[va]||0:(At=[jn[va]],Wt=1)}while((va++<kr||At[0]!=null)&&Me--);fe=At[0]!=null,Xt[0]||Xt.splice(0,1)}if(q==d){for(W=1,Me=Xt[0];10<=Me;Me/=10,W++);Vt(kt,J+(kt.e=W+N*u-1)+1,z,fe)}else kt.e=N,kt.r=+fe;return kt}}(),Ne=/^(-?)0([xbo])(?=\w[\w.]*$)/i,Oe=/^([^.]+)\.$/,je=/^\.([^.]+)$/,Ue=/^-?(Infinity|NaN)$/,he=/^\s*\+(?=[\w.])|^\s+|\s+$/g,re=function(D,A,B,K){var U,J=B?A:A.replace(he,"");if(Ue.test(J))D.s=isNaN(J)?null:J<0?-1:1,D.c=D.e=null;else{if(!B&&(J=J.replace(Ne,function(z,q,H){return U=(H=H.toLowerCase())=="x"?16:H=="b"?2:8,K&&K!=U?z:q}),K&&(U=K,J=J.replace(Oe,"$1").replace(je,"0.$1")),A!=J))return new se(J,U);if(se.DEBUG)throw Error(l+"Not a"+(K?" base "+K:"")+" number: "+A);D.c=D.e=D.s=null}},de.absoluteValue=de.abs=function(){var D=new se(this);return D.s<0&&(D.s=1),D},de.comparedTo=function(D,A){return x(this,new se(D,A))},de.decimalPlaces=de.dp=function(D,A){var B,K,U;if(D!=null)return T(D,0,_),A==null?A=E:T(A,0,8),Vt(new se(this),D+this.e+1,A);if(!(B=this.c))return null;if(K=((U=B.length-1)-b(this.e/u))*u,U=B[U])for(;U%10==0;U/=10,K--);return K<0&&(K=0),K},de.dividedBy=de.div=function(D,A){return Z(this,new se(D,A),S,E)},de.dividedToIntegerBy=de.idiv=function(D,A){return Z(this,new se(D,A),0,1)},de.exponentiatedBy=de.pow=function(D,A){var B,K,U,J,z,q,H,N,W=this;if((D=new se(D)).c&&!D.isInteger())throw Error(l+"Exponent not an integer: "+Mt(D));if(A!=null&&(A=new se(A)),z=14<D.e,!W.c||!W.c[0]||W.c[0]==1&&!W.e&&W.c.length==1||!D.c||!D.c[0])return N=new se(Math.pow(+Mt(W),z?2-O(D):+Mt(D))),A?N.mod(A):N;if(q=D.s<0,A){if(A.c?!A.c[0]:!A.s)return new se(NaN);(K=!q&&W.isInteger()&&A.isInteger())&&(W=W.mod(A))}else{if(9<D.e&&(0<W.e||W.e<-1||(W.e==0?1<W.c[0]||z&&24e7<=W.c[1]:W.c[0]<8e13||z&&W.c[0]<=9999975e7)))return J=W.s<0&&O(D)?-0:0,-1<W.e&&(J=1/J),new se(q?1/J:J);Ve&&(J=s(Ve/u+2))}for(H=z?(B=new se(.5),q&&(D.s=1),O(D)):(U=Math.abs(+Mt(D)))%2,N=new se(oi);;){if(H){if(!(N=N.times(W)).c)break;J?N.c.length>J&&(N.c.length=J):K&&(N=N.mod(A))}if(U){if((U=a(U/2))===0)break;H=U%2}else if(Vt(D=D.times(B),D.e+1,1),14<D.e)H=O(D);else{if((U=+Mt(D))==0)break;H=U%2}W=W.times(W),J?W.c&&W.c.length>J&&(W.c.length=J):K&&(W=W.mod(A))}return K?N:(q&&(N=oi.div(N)),A?N.mod(A):J?Vt(N,Ve,E,void 0):N)},de.integerValue=function(D){var A=new se(this);return D==null?D=E:T(D,0,8),Vt(A,A.e+1,D)},de.isEqualTo=de.eq=function(D,A){return x(this,new se(D,A))===0},de.isFinite=function(){return!!this.c},de.isGreaterThan=de.gt=function(D,A){return 0<x(this,new se(D,A))},de.isGreaterThanOrEqualTo=de.gte=function(D,A){return(A=x(this,new se(D,A)))===1||A===0},de.isInteger=function(){return!!this.c&&b(this.e/u)>this.c.length-2},de.isLessThan=de.lt=function(D,A){return x(this,new se(D,A))<0},de.isLessThanOrEqualTo=de.lte=function(D,A){return(A=x(this,new se(D,A)))===-1||A===0},de.isNaN=function(){return!this.s},de.isNegative=function(){return this.s<0},de.isPositive=function(){return 0<this.s},de.isZero=function(){return!!this.c&&this.c[0]==0},de.minus=function(D,A){var B,K,U,J,z=this,q=z.s;if(A=(D=new se(D,A)).s,!q||!A)return new se(NaN);if(q!=A)return D.s=-A,z.plus(D);var H=z.e/u,N=D.e/u,W=z.c,fe=D.c;if(!H||!N){if(!W||!fe)return W?(D.s=-A,D):new se(fe?z:NaN);if(!W[0]||!fe[0])return fe[0]?(D.s=-A,D):new se(W[0]?z:E==3?-0:0)}if(H=b(H),N=b(N),W=W.slice(),q=H-N){for((U=(J=q<0)?(q=-q,W):(N=H,fe)).reverse(),A=q;A--;U.push(0));U.reverse()}else for(K=(J=(q=W.length)<(A=fe.length))?q:A,q=A=0;A<K;A++)if(W[A]!=fe[A]){J=W[A]<fe[A];break}if(J&&(U=W,W=fe,fe=U,D.s=-D.s),0<(A=(K=fe.length)-(B=W.length)))for(;A--;W[B++]=0);for(A=d-1;q<K;){if(W[--K]<fe[K]){for(B=K;B&&!W[--B];W[B]=A);--W[B],W[K]+=d}W[K]-=fe[K]}for(;W[0]==0;W.splice(0,1),--N);return W[0]?Kt(D,W,N):(D.s=E==3?-1:1,D.c=[D.e=0],D)},de.modulo=de.mod=function(D,A){var B,K,U=this;return D=new se(D,A),!U.c||!D.s||D.c&&!D.c[0]?new se(NaN):!D.c||U.c&&!U.c[0]?new se(U):(_e==9?(K=D.s,D.s=1,B=Z(U,D,0,3),D.s=K,B.s*=K):B=Z(U,D,0,_e),(D=U.minus(B.times(D))).c[0]||_e!=1||(D.s=U.s),D)},de.multipliedBy=de.times=function(D,A){var B,K,U,J,z,q,H,N,W,fe,De,Ye,gt,kt,Xt,At=this,Wt=At.c,gi=(D=new se(D,A)).c;if(!(Wt&&gi&&Wt[0]&&gi[0]))return!At.s||!D.s||Wt&&!Wt[0]&&!gi||gi&&!gi[0]&&!Wt?D.c=D.e=D.s=null:(D.s*=At.s,Wt&&gi?(D.c=[0],D.e=0):D.c=D.e=null),D;for(K=b(At.e/u)+b(D.e/u),D.s*=At.s,(H=Wt.length)<(fe=gi.length)&&(gt=Wt,Wt=gi,gi=gt,U=H,H=fe,fe=U),U=H+fe,gt=[];U--;gt.push(0));for(kt=d,Xt=g,U=fe;0<=--U;){for(B=0,De=gi[U]%Xt,Ye=gi[U]/Xt|0,J=U+(z=H);U<J;)B=((N=De*(N=Wt[--z]%Xt)+(q=Ye*N+(W=Wt[z]/Xt|0)*De)%Xt*Xt+gt[J]+B)/kt|0)+(q/Xt|0)+Ye*W,gt[J--]=N%kt;gt[J]=B}return B?++K:gt.splice(0,1),Kt(D,gt,K)},de.negated=function(){var D=new se(this);return D.s=-D.s||null,D},de.plus=function(D,A){var B,K=this,U=K.s;if(A=(D=new se(D,A)).s,!U||!A)return new se(NaN);if(U!=A)return D.s=-A,K.minus(D);var J=K.e/u,z=D.e/u,q=K.c,H=D.c;if(!J||!z){if(!q||!H)return new se(U/0);if(!q[0]||!H[0])return H[0]?D:new se(q[0]?K:0*U)}if(J=b(J),z=b(z),q=q.slice(),U=J-z){for((B=0<U?(z=J,H):(U=-U,q)).reverse();U--;B.push(0));B.reverse()}for((U=q.length)-(A=H.length)<0&&(B=H,H=q,q=B,A=U),U=0;A;)U=(q[--A]=q[A]+H[A]+U)/d|0,q[A]=d===q[A]?0:q[A]%d;return U&&(q=[U].concat(q),++z),Kt(D,q,z)},de.precision=de.sd=function(D,A){var B,K,U;if(D!=null&&D!==!!D)return T(D,1,_),A==null?A=E:T(A,0,8),Vt(new se(this),D,A);if(!(B=this.c))return null;if(K=(U=B.length-1)*u+1,U=B[U]){for(;U%10==0;U/=10,K--);for(U=B[0];10<=U;U/=10,K++);}return D&&this.e+1>K&&(K=this.e+1),K},de.shiftedBy=function(D){return T(D,-f,f),this.times("1e"+D)},de.squareRoot=de.sqrt=function(){var D,A,B,K,U,J=this,z=J.c,q=J.s,H=J.e,N=S+4,W=new se("0.5");if(q!==1||!z||!z[0])return new se(!q||q<0&&(!z||z[0])?NaN:z?J:1/0);if((B=(q=Math.sqrt(+Mt(J)))==0||q==1/0?(((A=y(z)).length+H)%2==0&&(A+="0"),q=Math.sqrt(+A),H=b((H+1)/2)-(H<0||H%2),new se(A=q==1/0?"1e"+H:(A=q.toExponential()).slice(0,A.indexOf("e")+1)+H)):new se(q+"")).c[0]){for((q=(H=B.e)+N)<3&&(q=0);;)if(U=B,B=W.times(U.plus(Z(J,U,N,1))),y(U.c).slice(0,q)===(A=y(B.c)).slice(0,q)){if(B.e<H&&--q,(A=A.slice(q-3,q+1))!="9999"&&(K||A!="4999")){+A&&(+A.slice(1)||A.charAt(0)!="5")||(Vt(B,B.e+S+2,1),D=!B.times(B).eq(J));break}if(!K&&(Vt(U,U.e+S+2,0),U.times(U).eq(J))){B=U;break}N+=4,q+=4,K=1}}return Vt(B,B.e+S+1,E,D)},de.toExponential=function(D,A){return D!=null&&(T(D,0,_),D++),Yt(this,D,A,1)},de.toFixed=function(D,A){return D!=null&&(T(D,0,_),D=D+this.e+1),Yt(this,D,A)},de.toFormat=function(D,A,B){var K;if(B==null)D!=null&&A&&typeof A=="object"?(B=A,A=null):D&&typeof D=="object"?(B=D,D=A=null):B=$e;else if(typeof B!="object")throw Error(l+"Argument not an object: "+B);if(K=this.toFixed(D,A),this.c){var U,J=K.split("."),z=+B.groupSize,q=+B.secondaryGroupSize,H=B.groupSeparator||"",N=J[0],W=J[1],fe=this.s<0,De=fe?N.slice(1):N,Ye=De.length;if(q&&(U=z,z=q,Ye-=q=U),0<z&&0<Ye){for(U=Ye%z||z,N=De.substr(0,U);U<Ye;U+=z)N+=H+De.substr(U,z);0<q&&(N+=H+De.slice(U)),fe&&(N="-"+N)}K=W?N+(B.decimalSeparator||"")+((q=+B.fractionGroupSize)?W.replace(new RegExp("\\d{"+q+"}\\B","g"),"$&"+(B.fractionGroupSeparator||"")):W):N}return(B.prefix||"")+K+(B.suffix||"")},de.toFraction=function(D){var A,B,K,U,J,z,q,H,N,W,fe,De,Ye=this,gt=Ye.c;if(D!=null&&(!(q=new se(D)).isInteger()&&(q.c||q.s!==1)||q.lt(oi)))throw Error(l+"Argument "+(q.isInteger()?"out of range: ":"not an integer: ")+Mt(q));if(!gt)return new se(Ye);for(A=new se(oi),N=B=new se(oi),K=H=new se(oi),De=y(gt),J=A.e=De.length-Ye.e-1,A.c[0]=m[(z=J%u)<0?u+z:z],D=!D||0<q.comparedTo(A)?0<J?A:N:q,z=X,X=1/0,q=new se(De),H.c[0]=0;W=Z(q,A,0,1),(U=B.plus(W.times(K))).comparedTo(D)!=1;)B=K,K=U,N=H.plus(W.times(U=N)),H=U,A=q.minus(W.times(U=A)),q=U;return U=Z(D.minus(B),K,0,1),H=H.plus(U.times(N)),B=B.plus(U.times(K)),H.s=N.s=Ye.s,fe=Z(N,K,J*=2,E).minus(Ye).abs().comparedTo(Z(H,B,J,E).minus(Ye).abs())<1?[N,K]:[H,B],X=z,fe},de.toNumber=function(){return+Mt(this)},de.toPrecision=function(D,A){return D!=null&&T(D,1,_),Yt(this,D,A,2)},de.toString=function(D){var A,B=this,K=B.s,U=B.e;return U===null?K?(A="Infinity",K<0&&(A="-"+A)):A="NaN":(A=D==null?U<=R||G<=U?P(y(B.c),U):V(y(B.c),U,"0"):D===10?V(y((B=Vt(new se(B),S+U+1,E)).c),B.e,"0"):(T(D,2,ye.length,"Base"),ae(V(y(B.c),U,"0"),10,D,K,!0)),K<0&&B.c[0]&&(A="-"+A)),A},de.valueOf=de.toJSON=function(){return Mt(this)},de._isBigNumber=!0,typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(de[Symbol.toStringTag]="BigNumber",de[Symbol.for("nodejs.util.inspect.custom")]=de.valueOf),k!=null&&se.set(k),se}()).default=r.BigNumber=r,e!==void 0&&e.exports?e.exports=r:(n||(n=typeof self<"u"&&self?self:window),n.BigNumber=r)})(this)},{}],2:[function(t,e,i){"use strict";e.exports={languageTag:"en-US",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},spaceSeparated:!1,ordinal:function(n){var r=n%10;return~~(n%100/10)==1?"th":r===1?"st":r===2?"nd":r===3?"rd":"th"},currency:{symbol:"$",position:"prefix",code:"USD"},currencyFormat:{thousandSeparated:!0,totalLength:4,spaceSeparated:!0},formats:{fourDigits:{totalLength:4,spaceSeparated:!0},fullWithTwoDecimals:{output:"currency",thousandSeparated:!0,mantissa:2},fullWithTwoDecimalsNoCurrency:{thousandSeparated:!0,mantissa:2},fullWithNoDecimals:{output:"currency",thousandSeparated:!0,mantissa:0}}}},{}],3:[function(t,e,i){"use strict";function n(b,y){return function(x){if(Array.isArray(x))return x}(b)||function(x,T){var O=[],P=!0,V=!1,F=void 0;try{for(var k,Z=x[Symbol.iterator]();!(P=(k=Z.next()).done)&&(O.push(k.value),!T||O.length!==T);P=!0);}catch(ae){V=!0,F=ae}finally{try{P||Z.return==null||Z.return()}finally{if(V)throw F}}return O}(b,y)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var r=t("./globalState"),o=t("./validating"),s=t("./parsing"),a=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],l={general:{scale:1024,suffixes:a,marker:"bd"},binary:{scale:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],marker:"b"},decimal:{scale:1e3,suffixes:a,marker:"d"}},c={totalLength:0,characteristic:0,forceAverage:!1,average:!1,mantissa:-1,optionalMantissa:!0,thousandSeparated:!1,spaceSeparated:!1,negative:"sign",forceSign:!1};function d(b){var y=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},x=2<arguments.length?arguments[2]:void 0;if(typeof y=="string"&&(y=s.parseFormat(y)),!o.validateFormat(y))return"ERROR: invalid format";var T=y.prefix||"",O=y.postfix||"",P=function(V,F,k){switch(F.output){case"currency":return F=_(F,r.currentCurrencyDefaultFormat()),function(ye,se,Yt){var _t=Yt.currentCurrency(),Kt=Object.assign({},c,se),Vt=void 0,Mt="",D=!!Kt.totalLength||!!Kt.forceAverage||Kt.average,A=se.currencyPosition||_t.position,B=se.currencySymbol||_t.symbol;Kt.spaceSeparated&&(Mt=" "),A==="infix"&&(Vt=Mt+B+Mt);var K=g({instance:ye,providedFormat:se,state:Yt,decimalSeparator:Vt});return A==="prefix"&&(K=ye._value<0&&Kt.negative==="sign"?"-".concat(Mt).concat(B).concat(K.slice(1)):B+Mt+K),A&&A!=="postfix"||(K=K+(Mt=D?"":Mt)+B),K}(V,F,r);case"percent":return F=_(F,r.currentPercentageDefaultFormat()),function(ye,se,Yt,_t){var Kt=se.prefixSymbol,Vt=g({instance:_t(100*ye._value),providedFormat:se,state:Yt}),Mt=Object.assign({},c,se);return Kt?"%".concat(Mt.spaceSeparated?" ":"").concat(Vt):"".concat(Vt).concat(Mt.spaceSeparated?" ":"","%")}(V,F,r,k);case"byte":return F=_(F,r.currentByteDefaultFormat()),oi=V,E=r,R=k,G=(S=F).base||"binary",$=l[G],X=u(oi._value,$.suffixes,$.scale),ge=X.value,_e=X.suffix,Ve=g({instance:R(ge),providedFormat:S,state:E,defaults:E.currentByteDefaultFormat()}),$e=E.currentAbbreviations(),"".concat(Ve).concat($e.spaced?" ":"").concat(_e);case"time":return F=_(F,r.currentTimeDefaultFormat()),je=V,Ue=Math.floor(je._value/60/60),he=Math.floor((je._value-60*Ue*60)/60),de=Math.round(je._value-60*Ue*60-60*he),"".concat(Ue,":").concat(he<10?"0":"").concat(he,":").concat(de<10?"0":"").concat(de);case"ordinal":return F=_(F,r.currentOrdinalDefaultFormat()),Z=V,ae=F,ve=(re=r).currentOrdinal(),Pe=Object.assign({},c,ae),Ne=g({instance:Z,providedFormat:ae,state:re}),Oe=ve(Z._value),"".concat(Ne).concat(Pe.spaceSeparated?" ":"").concat(Oe);case"number":default:return g({instance:V,providedFormat:F,numbro:k})}var Z,ae,re,ve,Pe,Ne,Oe,je,Ue,he,de,oi,S,E,R,G,$,X,ge,_e,Ve,$e}(b,y,x);return P=(P=T+P)+O}function u(b,y,x){var T=y[0],O=Math.abs(b);if(x<=O){for(var P=1;P<y.length;++P){var V=Math.pow(x,P),F=Math.pow(x,P+1);if(V<=O&&O<F){T=y[P],b/=V;break}}T===y[0]&&(b/=Math.pow(x,y.length-1),T=y[y.length-1])}return{value:b,suffix:T}}function f(b){for(var y="",x=0;x<b;x++)y+="0";return y}function m(b,y){return b.toString().indexOf("e")!==-1?function(x,T){var O=x.toString(),P=n(O.split("e"),2),V=P[0],F=P[1],k=n(V.split("."),2),Z=k[0],ae=k[1],re=ae===void 0?"":ae;if(0<+F)O=Z+re+f(F-re.length);else{var ve=".";ve=+Z<0?"-0".concat(ve):"0".concat(ve);var Pe=(f(-F-1)+Math.abs(Z)+re).substr(0,T);Pe.length<T&&(Pe+=f(T-Pe.length)),O=ve+Pe}return 0<+F&&0<T&&(O+=".".concat(f(T))),O}(b,y):(Math.round(+"".concat(b,"e+").concat(y))/Math.pow(10,y)).toFixed(y)}function g(b){var y=b.instance,x=b.providedFormat,T=b.state,O=T===void 0?r:T,P=b.decimalSeparator,V=b.defaults,F=V===void 0?O.currentDefaults():V,k=y._value;if(k===0&&O.hasZeroFormat())return O.getZeroFormat();if(!isFinite(k))return k.toString();var Z,ae,re,ve,Pe,Ne,Oe,je,Ue=Object.assign({},c,F,x),he=Ue.totalLength,de=he?0:Ue.characteristic,oi=Ue.optionalCharacteristic,S=Ue.forceAverage,E=!!he||!!S||Ue.average,R=he?-1:E&&x.mantissa===void 0?0:Ue.mantissa,G=!he&&(x.optionalMantissa===void 0?R===-1:Ue.optionalMantissa),$=Ue.trimMantissa,X=Ue.thousandSeparated,ge=Ue.spaceSeparated,_e=Ue.negative,Ve=Ue.forceSign,$e=Ue.exponential,ye="";if(E){var se=function(D){var A=D.value,B=D.forceAverage,K=D.abbreviations,U=D.spaceSeparated,J=U!==void 0&&U,z=D.totalLength,q=z===void 0?0:z,H="",N=Math.abs(A),W=-1;if(N>=Math.pow(10,12)&&!B||B==="trillion"?(H=K.trillion,A/=Math.pow(10,12)):N<Math.pow(10,12)&&N>=Math.pow(10,9)&&!B||B==="billion"?(H=K.billion,A/=Math.pow(10,9)):N<Math.pow(10,9)&&N>=Math.pow(10,6)&&!B||B==="million"?(H=K.million,A/=Math.pow(10,6)):(N<Math.pow(10,6)&&N>=Math.pow(10,3)&&!B||B==="thousand")&&(H=K.thousand,A/=Math.pow(10,3)),H&&(H=(J?" ":"")+H),q){var fe=A.toString().split(".")[0];W=Math.max(q-fe.length,0)}return{value:A,abbreviation:H,mantissaPrecision:W}}({value:k,forceAverage:S,abbreviations:O.currentAbbreviations(),spaceSeparated:ge,totalLength:he});k=se.value,ye+=se.abbreviation,he&&(R=se.mantissaPrecision)}if($e){var Yt=(ae=(Z={value:k,characteristicPrecision:de}).value,re=Z.characteristicPrecision,ve=re===void 0?0:re,Pe=n(ae.toExponential().split("e"),2),Ne=Pe[0],Oe=Pe[1],je=+Ne,ve&&1<ve&&(je*=Math.pow(10,ve-1),Oe=0<=(Oe=+Oe-(ve-1))?"+".concat(Oe):Oe),{value:je,abbreviation:"e".concat(Oe)});k=Yt.value,ye=Yt.abbreviation+ye}var _t,Kt,Vt,Mt=function(D,A,B,K,U){if(K===-1)return D;var J=m(A,K),z=n(J.toString().split("."),2),q=z[0],H=z[1],N=H===void 0?"":H;if(N.match(/^0+$/)&&(B||U))return q;var W=N.match(/0+$/);return U&&W?"".concat(q,".").concat(N.toString().slice(0,W.index)):J.toString()}(k.toString(),k,G,R,$);return Mt=function(D,A,B,K,U){var J=K.currentDelimiters(),z=J.thousands;U=U||J.decimal;var q=J.thousandsSize||3,H=D.toString(),N=H.split(".")[0],W=H.split(".")[1];return B&&(A<0&&(N=N.slice(1)),function(fe,De){for(var Ye=[],gt=0,kt=fe;0<kt;kt--)gt===De&&(Ye.unshift(kt),gt=0),gt++;return Ye}(N.length,q).forEach(function(fe,De){N=N.slice(0,fe+De)+z+N.slice(fe+De)}),A<0&&(N="-".concat(N))),H=W?N+U+W:N}(Mt=function(D,A,B,K){var U=D,J=n(U.toString().split("."),2),z=J[0],q=J[1];if(z.match(/^-?0$/)&&B)return q?"".concat(z.replace("0",""),".").concat(q):z.replace("0","");if(z.length<K)for(var H=K-z.length,N=0;N<H;N++)U="0".concat(U);return U.toString()}(Mt,0,oi,de),k,X,O,P),(E||$e)&&(Mt=Mt+ye),(Ve||k<0)&&(_t=Mt,Vt=_e,Mt=(Kt=k)===0?_t:+_t==0?_t.replace("-",""):0<Kt?"+".concat(_t):Vt==="sign"?_t:"(".concat(_t.replace("-",""),")")),Mt}function _(b,y){if(!b)return y;var x=Object.keys(b);return x.length===1&&x[0]==="output"?y:b}e.exports=function(b){return{format:function(){for(var y=arguments.length,x=new Array(y),T=0;T<y;T++)x[T]=arguments[T];return d.apply(void 0,x.concat([b]))},getByteUnit:function(){for(var y=arguments.length,x=new Array(y),T=0;T<y;T++)x[T]=arguments[T];return(function(O){var P=l.general;return u(O._value,P.suffixes,P.scale).suffix}).apply(void 0,x.concat([b]))},getBinaryByteUnit:function(){for(var y=arguments.length,x=new Array(y),T=0;T<y;T++)x[T]=arguments[T];return(function(O){var P=l.binary;return u(O._value,P.suffixes,P.scale).suffix}).apply(void 0,x.concat([b]))},getDecimalByteUnit:function(){for(var y=arguments.length,x=new Array(y),T=0;T<y;T++)x[T]=arguments[T];return(function(O){var P=l.decimal;return u(O._value,P.suffixes,P.scale).suffix}).apply(void 0,x.concat([b]))},formatOrDefault:_}}},{"./globalState":4,"./parsing":8,"./validating":10}],4:[function(t,e,i){"use strict";var n=t("./en-US"),r=t("./validating"),o=t("./parsing"),s={},a=void 0,l={},c=null,d={};function u(m){a=m}function f(){return l[a]}s.languages=function(){return Object.assign({},l)},s.currentLanguage=function(){return a},s.currentCurrency=function(){return f().currency},s.currentAbbreviations=function(){return f().abbreviations},s.currentDelimiters=function(){return f().delimiters},s.currentOrdinal=function(){return f().ordinal},s.currentDefaults=function(){return Object.assign({},f().defaults,d)},s.currentOrdinalDefaultFormat=function(){return Object.assign({},s.currentDefaults(),f().ordinalFormat)},s.currentByteDefaultFormat=function(){return Object.assign({},s.currentDefaults(),f().byteFormat)},s.currentPercentageDefaultFormat=function(){return Object.assign({},s.currentDefaults(),f().percentageFormat)},s.currentCurrencyDefaultFormat=function(){return Object.assign({},s.currentDefaults(),f().currencyFormat)},s.currentTimeDefaultFormat=function(){return Object.assign({},s.currentDefaults(),f().timeFormat)},s.setDefaults=function(m){m=o.parseFormat(m),r.validateFormat(m)&&(d=m)},s.getZeroFormat=function(){return c},s.setZeroFormat=function(m){return c=typeof m=="string"?m:null},s.hasZeroFormat=function(){return c!==null},s.languageData=function(m){if(m){if(l[m])return l[m];throw new Error('Unknown tag "'.concat(m,'"'))}return f()},s.registerLanguage=function(m){var g=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(!r.validateLanguage(m))throw new Error("Invalid language data");l[m.languageTag]=m,g&&u(m.languageTag)},s.setLanguage=function(m){var g=1<arguments.length&&arguments[1]!==void 0?arguments[1]:n.languageTag;if(!l[m]){var _=m.split("-")[0],b=Object.keys(l).find(function(y){return y.split("-")[0]===_});return l[b]?void u(b):void u(g)}u(m)},s.registerLanguage(n),a=n.languageTag,e.exports=s},{"./en-US":2,"./parsing":8,"./validating":10}],5:[function(t,e,i){"use strict";e.exports=function(n){return{loadLanguagesInNode:function(r){return o=n,void r.forEach(function(s){var a=void 0;try{a=t("../languages/".concat(s))}catch{console.error('Unable to load "'.concat(s,'". No matching language file found.'))}a&&o.registerLanguage(a)});var o}}}},{}],6:[function(t,e,i){"use strict";var n=t("bignumber.js");function r(o,s,a){var l=new n(o._value),c=s;return a.isNumbro(s)&&(c=s._value),c=new n(c),o._value=l.minus(c).toNumber(),o}e.exports=function(o){return{add:function(s,a){return c=a,d=o,u=new n((l=s)._value),f=c,d.isNumbro(c)&&(f=c._value),f=new n(f),l._value=u.plus(f).toNumber(),l;var l,c,d,u,f},subtract:function(s,a){return r(s,a,o)},multiply:function(s,a){return c=a,d=o,u=new n((l=s)._value),f=c,d.isNumbro(c)&&(f=c._value),f=new n(f),l._value=u.times(f).toNumber(),l;var l,c,d,u,f},divide:function(s,a){return c=a,d=o,u=new n((l=s)._value),f=c,d.isNumbro(c)&&(f=c._value),f=new n(f),l._value=u.dividedBy(f).toNumber(),l;var l,c,d,u,f},set:function(s,a){return l=s,d=c=a,o.isNumbro(c)&&(d=c._value),l._value=d,l;var l,c,d},difference:function(s,a){return l=a,r(d=(c=o)(s._value),l,c),Math.abs(d._value);var l,c,d}}}},{"bignumber.js":1}],7:[function(t,e,i){"use strict";function n(g,_){for(var b=0;b<_.length;b++){var y=_[b];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}var r=t("./globalState"),o=t("./validating"),s=t("./loading")(m),a=t("./unformatting"),l=t("./formatting")(m),c=t("./manipulating")(m),d=t("./parsing"),u=function(){function g(x){(function(T,O){if(!(T instanceof O))throw new TypeError("Cannot call a class as a function")})(this,g),this._value=x}var _,b,y;return _=g,(b=[{key:"clone",value:function(){return m(this._value)}},{key:"format",value:function(){var x=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return l.format(this,x)}},{key:"formatCurrency",value:function(x){return typeof x=="string"&&(x=d.parseFormat(x)),(x=l.formatOrDefault(x,r.currentCurrencyDefaultFormat())).output="currency",l.format(this,x)}},{key:"formatTime",value:function(){var x=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return x.output="time",l.format(this,x)}},{key:"binaryByteUnits",value:function(){return l.getBinaryByteUnit(this)}},{key:"decimalByteUnits",value:function(){return l.getDecimalByteUnit(this)}},{key:"byteUnits",value:function(){return l.getByteUnit(this)}},{key:"difference",value:function(x){return c.difference(this,x)}},{key:"add",value:function(x){return c.add(this,x)}},{key:"subtract",value:function(x){return c.subtract(this,x)}},{key:"multiply",value:function(x){return c.multiply(this,x)}},{key:"divide",value:function(x){return c.divide(this,x)}},{key:"set",value:function(x){return c.set(this,f(x))}},{key:"value",value:function(){return this._value}},{key:"valueOf",value:function(){return this._value}}])&&n(_.prototype,b),y&&n(_,y),g}();function f(g){var _=g;return m.isNumbro(g)?_=g._value:typeof g=="string"?_=m.unformat(g):isNaN(g)&&(_=NaN),_}function m(g){return new u(f(g))}m.version="2.1.2",m.isNumbro=function(g){return g instanceof u},m.language=r.currentLanguage,m.registerLanguage=r.registerLanguage,m.setLanguage=r.setLanguage,m.languages=r.languages,m.languageData=r.languageData,m.zeroFormat=r.setZeroFormat,m.defaultFormat=r.currentDefaults,m.setDefaults=r.setDefaults,m.defaultCurrencyFormat=r.currentCurrencyDefaultFormat,m.validate=o.validate,m.loadLanguagesInNode=s.loadLanguagesInNode,m.unformat=a.unformat,e.exports=m},{"./formatting":3,"./globalState":4,"./loading":5,"./manipulating":6,"./parsing":8,"./unformatting":9,"./validating":10}],8:[function(t,e,i){"use strict";e.exports={parseFormat:function(n){var r,o,s,a,l,c,d,u,f,m,g,_,b,y,x,T,O,P,V,F,k=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return typeof n!="string"?n:(o=k,n=(s=(r=n).match(/^{([^}]*)}/))?(o.prefix=s[1],r.slice(s[0].length)):r,l=k,function(Z,ae){if(Z.indexOf("$")===-1){if(Z.indexOf("%")===-1)return Z.indexOf("bd")!==-1?(ae.output="byte",ae.base="general"):Z.indexOf("b")!==-1?(ae.output="byte",ae.base="binary"):Z.indexOf("d")!==-1?(ae.output="byte",ae.base="decimal"):Z.indexOf(":")===-1?Z.indexOf("o")!==-1&&(ae.output="ordinal"):ae.output="time";ae.output="percent"}else ae.output="currency"}(n=(c=(a=n).match(/{([^}]*)}$/))?(l.postfix=c[1],a.slice(0,-c[0].length)):a,k),d=k,(u=n.match(/[1-9]+[0-9]*/))&&(d.totalLength=+u[0]),f=k,(m=n.split(".")[0].match(/0+/))&&(f.characteristic=m[0].length),function(Z,ae){if(Z.indexOf(".")!==-1){var re=Z.split(".")[0];ae.optionalCharacteristic=re.indexOf("0")===-1}}(n,k),g=k,n.indexOf("a")!==-1&&(g.average=!0),b=k,(_=n).indexOf("K")!==-1?b.forceAverage="thousand":_.indexOf("M")!==-1?b.forceAverage="million":_.indexOf("B")!==-1?b.forceAverage="billion":_.indexOf("T")!==-1&&(b.forceAverage="trillion"),function(Z,ae){var re=Z.split(".")[1];if(re){var ve=re.match(/0+/);ve&&(ae.mantissa=ve[0].length)}}(n,k),x=k,(y=n).match(/\[\.]/)?x.optionalMantissa=!0:y.match(/\./)&&(x.optionalMantissa=!1),T=k,n.indexOf(",")!==-1&&(T.thousandSeparated=!0),O=k,n.indexOf(" ")!==-1&&(O.spaceSeparated=!0),V=k,(P=n).match(/^\+?\([^)]*\)$/)&&(V.negative="parenthesis"),P.match(/^\+?-/)&&(V.negative="sign"),F=k,n.match(/^\+/)&&(F.forceSign=!0),k)}}},{}],9:[function(t,e,i){"use strict";var n=[{key:"ZiB",factor:Math.pow(1024,7)},{key:"ZB",factor:Math.pow(1e3,7)},{key:"YiB",factor:Math.pow(1024,8)},{key:"YB",factor:Math.pow(1e3,8)},{key:"TiB",factor:Math.pow(1024,4)},{key:"TB",factor:Math.pow(1e3,4)},{key:"PiB",factor:Math.pow(1024,5)},{key:"PB",factor:Math.pow(1e3,5)},{key:"MiB",factor:Math.pow(1024,2)},{key:"MB",factor:Math.pow(1e3,2)},{key:"KiB",factor:Math.pow(1024,1)},{key:"KB",factor:Math.pow(1e3,1)},{key:"GiB",factor:Math.pow(1024,3)},{key:"GB",factor:Math.pow(1e3,3)},{key:"EiB",factor:Math.pow(1024,6)},{key:"EB",factor:Math.pow(1e3,6)},{key:"B",factor:1}];function r(s){return s.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function o(s,a){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:"",c=3<arguments.length?arguments[3]:void 0,d=4<arguments.length?arguments[4]:void 0,u=5<arguments.length?arguments[5]:void 0,f=6<arguments.length?arguments[6]:void 0;if(s!=="")return s===d?0:function m(g,_){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:"",y=3<arguments.length?arguments[3]:void 0,x=4<arguments.length?arguments[4]:void 0,T=5<arguments.length?arguments[5]:void 0,O=6<arguments.length?arguments[6]:void 0;if(!isNaN(+g))return+g;var P="",V=g.replace(/(^[^(]*)\((.*)\)([^)]*$)/,"$1$2$3");if(V!==g)return-1*m(V,_,b,y,x,T,O);for(var F=0;F<n.length;F++){var k=n[F];if((P=g.replace(k.key,""))!==g)return m(P,_,b,y,x,T,O)*k.factor}if((P=g.replace("%",""))!==g)return m(P,_,b,y,x,T,O)/100;var Z=parseFloat(g);if(!isNaN(Z)){var ae=y(Z);if(ae&&ae!=="."&&(P=g.replace(new RegExp("".concat(r(ae),"$")),""))!==g)return m(P,_,b,y,x,T,O);var re={};Object.keys(T).forEach(function(he){re[T[he]]=he});for(var ve=Object.keys(re).sort().reverse(),Pe=ve.length,Ne=0;Ne<Pe;Ne++){var Oe=ve[Ne],je=re[Oe];if((P=g.replace(Oe,""))!==g){var Ue=void 0;switch(je){case"thousand":Ue=Math.pow(10,3);break;case"million":Ue=Math.pow(10,6);break;case"billion":Ue=Math.pow(10,9);break;case"trillion":Ue=Math.pow(10,12)}return m(P,_,b,y,x,T,O)*Ue}}}}(function(m,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:"",b=m.replace(_,"");return b=(b=b.replace(new RegExp("([0-9])".concat(r(g.thousands),"([0-9])"),"g"),"$1$2")).replace(g.decimal,".")}(s,a,l),a,l,c,d,u,f)}e.exports={unformat:function(s,a){var l,c,d,u=t("./globalState"),f=u.currentDelimiters(),m=u.currentCurrency().symbol,g=u.currentOrdinal(),_=u.getZeroFormat(),b=u.currentAbbreviations(),y=void 0;if(typeof s=="string")y=function(x,T){if(!x.indexOf(":")||T.thousands===":")return!1;var O=x.split(":");if(O.length!==3)return!1;var P=+O[0],V=+O[1],F=+O[2];return!isNaN(P)&&!isNaN(V)&&!isNaN(F)}(s,f)?(l=s.split(":"),c=+l[0],d=+l[1],+l[2]+60*d+3600*c):o(s,f,m,g,_,b,a);else{if(typeof s!="number")return;y=s}if(y!==void 0)return y}}},{"./globalState":4}],10:[function(t,e,i){"use strict";function n(f){return function(m){if(Array.isArray(m)){for(var g=0,_=new Array(m.length);g<m.length;g++)_[g]=m[g];return _}}(f)||function(m){if(Symbol.iterator in Object(m)||Object.prototype.toString.call(m)==="[object Arguments]")return Array.from(m)}(f)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function r(f){return(r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(f)}var o=t("./unformatting"),s=/^[a-z]{2,3}(-[a-zA-Z]{4})?(-([A-Z]{2}|[0-9]{3}))?$/,a={output:{type:"string",validValues:["currency","percent","byte","time","ordinal","number"]},base:{type:"string",validValues:["decimal","binary","general"],restriction:function(f,m){return m.output==="byte"},message:"`base` must be provided only when the output is `byte`",mandatory:function(f){return f.output==="byte"}},characteristic:{type:"number",restriction:function(f){return 0<=f},message:"value must be positive"},prefix:"string",postfix:"string",forceAverage:{type:"string",validValues:["trillion","billion","million","thousand"]},average:"boolean",currencyPosition:{type:"string",validValues:["prefix","infix","postfix"]},currencySymbol:"string",totalLength:{type:"number",restrictions:[{restriction:function(f){return 0<=f},message:"value must be positive"},{restriction:function(f,m){return!m.exponential},message:"`totalLength` is incompatible with `exponential`"}]},mantissa:{type:"number",restriction:function(f){return 0<=f},message:"value must be positive"},optionalMantissa:"boolean",trimMantissa:"boolean",optionalCharacteristic:"boolean",thousandSeparated:"boolean",spaceSeparated:"boolean",abbreviations:{type:"object",children:{thousand:"string",million:"string",billion:"string",trillion:"string"}},negative:{type:"string",validValues:["sign","parenthesis"]},forceSign:"boolean",exponential:{type:"boolean"},prefixSymbol:{type:"boolean",restriction:function(f,m){return m.output==="percent"},message:"`prefixSymbol` can be provided only when the output is `percent`"}},l={languageTag:{type:"string",mandatory:!0,restriction:function(f){return f.match(s)},message:"the language tag must follow the BCP 47 specification (see https://tools.ieft.org/html/bcp47)"},delimiters:{type:"object",children:{thousands:"string",decimal:"string",thousandsSize:"number"},mandatory:!0},abbreviations:{type:"object",children:{thousand:{type:"string",mandatory:!0},million:{type:"string",mandatory:!0},billion:{type:"string",mandatory:!0},trillion:{type:"string",mandatory:!0}},mandatory:!0},spaceSeparated:"boolean",ordinal:{type:"function",mandatory:!0},currency:{type:"object",children:{symbol:"string",position:"string",code:"string"},mandatory:!0},defaults:"format",ordinalFormat:"format",byteFormat:"format",percentageFormat:"format",currencyFormat:"format",timeDefaults:"format",formats:{type:"object",children:{fourDigits:{type:"format",mandatory:!0},fullWithTwoDecimals:{type:"format",mandatory:!0},fullWithTwoDecimalsNoCurrency:{type:"format",mandatory:!0},fullWithNoDecimals:{type:"format",mandatory:!0}}}};function c(f){return!!o.unformat(f)}function d(f,m,g){var _=3<arguments.length&&arguments[3]!==void 0&&arguments[3],b=Object.keys(f).map(function(y){if(!m[y])return console.error("".concat(g," Invalid key: ").concat(y)),!1;var x=f[y],T=m[y];if(typeof T=="string"&&(T={type:T}),T.type==="format"){if(!d(x,a,"[Validate ".concat(y,"]"),!0))return!1}else if(r(x)!==T.type)return console.error("".concat(g," ").concat(y,' type mismatched: "').concat(T.type,'" expected, "').concat(r(x),'" provided')),!1;if(T.restrictions&&T.restrictions.length)for(var O=T.restrictions.length,P=0;P<O;P++){var V=T.restrictions[P],F=V.restriction,k=V.message;if(!F(x,f))return console.error("".concat(g," ").concat(y," invalid value: ").concat(k)),!1}return T.restriction&&!T.restriction(x,f)?(console.error("".concat(g," ").concat(y," invalid value: ").concat(T.message)),!1):T.validValues&&T.validValues.indexOf(x)===-1?(console.error("".concat(g," ").concat(y," invalid value: must be among ").concat(JSON.stringify(T.validValues),', "').concat(x,'" provided')),!1):!(T.children&&!d(x,T.children,"[Validate ".concat(y,"]")))});return _||b.push.apply(b,n(Object.keys(m).map(function(y){var x=m[y];if(typeof x=="string"&&(x={type:x}),x.mandatory){var T=x.mandatory;if(typeof T=="function"&&(T=T(f)),T&&f[y]===void 0)return console.error("".concat(g,' Missing mandatory key "').concat(y,'"')),!1}return!0}))),b.reduce(function(y,x){return y&&x},!0)}function u(f){return d(f,a,"[Validate format]")}e.exports={validate:function(f,m){var g=c(f),_=u(m);return g&&_},validateFormat:u,validateInput:c,validateLanguage:function(f){return d(f,l,"[Validate language]")}}},{"./unformatting":9}]},{},[7])(7)})});var jJ=te((Dxt,WJ)=>{"use strict";var BJ=ry(),Qke=TypeError;WJ.exports=function(t,e){if(!delete t[e])throw new Qke("Cannot delete property "+BJ(e)+" of "+BJ(t))}});var UJ=te(()=>{"use strict";var Zke=jr(),Jke=Up(),e1e=Gp(),t1e=vN(),i1e=jJ(),n1e=_N(),r1e=[].unshift(0)!==1,o1e=function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(t){return t instanceof TypeError}},s1e=r1e||!o1e();Zke({target:"Array",proto:!0,arity:1,forced:s1e},{unshift:function(e){var i=Jke(this),n=e1e(i),r=arguments.length;if(r){n1e(n+r);for(var o=n;o--;){var s=o+r;o in i?i[s]=i[o]:i1e(i,s)}for(var a=0;a<r;a++)i[a]=arguments[a]}return t1e(i,n+r)}})});var JW=te((RBt,lne)=>{"use strict";lne.exports={}});var dne=te((TBt,cne)=>{"use strict";var PWe=Fc(),kWe=JW(),NWe=PWe("iterator"),LWe=Array.prototype;cne.exports=function(t){return t!==void 0&&(kWe.Array===t||LWe[NWe]===t)}});var ej=te((IBt,hne)=>{"use strict";var FWe=mN(),une=oy(),HWe=ey(),VWe=JW(),BWe=Fc(),WWe=BWe("iterator");hne.exports=function(t){if(!HWe(t))return une(t,WWe)||une(t,"@@iterator")||VWe[FWe(t)]}});var mne=te((DBt,fne)=>{"use strict";var jWe=zs(),UWe=jp(),zWe=Sl(),YWe=ry(),GWe=ej(),$We=TypeError;fne.exports=function(t,e){var i=arguments.length<2?GWe(t):e;if(UWe(i))return zWe(jWe(i,t));throw new $We(YWe(t)+" is not iterable")}});var _ne=te((MBt,vne)=>{"use strict";var qWe=SN(),KWe=zs(),XWe=Sl(),QWe=ry(),ZWe=dne(),JWe=Gp(),pne=ny(),eje=mne(),tje=ej(),gne=uT(),ije=TypeError,EA=function(t,e){this.stopped=t,this.result=e},bne=EA.prototype;vne.exports=function(t,e,i){var n=i&&i.that,r=!!(i&&i.AS_ENTRIES),o=!!(i&&i.IS_RECORD),s=!!(i&&i.IS_ITERATOR),a=!!(i&&i.INTERRUPTED),l=qWe(e,n),c,d,u,f,m,g,_,b=function(x){return c&&gne(c,"normal",x),new EA(!0,x)},y=function(x){return r?(XWe(x),a?l(x[0],x[1],b):l(x[0],x[1])):a?l(x,b):l(x)};if(o)c=t.iterator;else if(s)c=t;else{if(d=tje(t),!d)throw new ije(QWe(t)+" is not iterable");if(ZWe(d)){for(u=0,f=JWe(t);f>u;u++)if(m=y(t[u]),m&&pne(bne,m))return m;return new EA(!1)}c=eje(t,d)}for(g=o?t.next:c.next;!(_=KWe(g,c)).done;){try{m=y(_.value)}catch(x){gne(c,"throw",x)}if(typeof m=="object"&&m&&pne(bne,m))return m}return new EA(!1)}});var wne=te((ABt,yne)=>{"use strict";var nje=Us(),rje=hu(),oje=J_();yne.exports=function(t,e,i){nje?rje.f(t,e,oje(0,i)):t[e]=i}});var Cne=te(()=>{"use strict";var sje=jr(),aje=_ne(),lje=wne();sje({target:"Object",stat:!0},{fromEntries:function(e){var i={};return aje(e,function(n,r){lje(i,n,r)},{AS_ENTRIES:!0}),i}})});var Dv=class{},Hx=class{},Cc=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(i=>{let n=i.indexOf(":");if(n>0){let r=i.slice(0,n),o=r.toLowerCase(),s=i.slice(n+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((i,n)=>{this.setHeaderEntries(n,i)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([i,n])=>{this.setHeaderEntries(i,n)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let i=this.headers.get(e.toLowerCase());return i&&i.length>0?i[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,i){return this.clone({name:e,value:i,op:"a"})}set(e,i){return this.clone({name:e,value:i,op:"s"})}delete(e,i){return this.clone({name:e,value:i,op:"d"})}maybeSetNormalizedName(e,i){this.normalizedNames.has(i)||this.normalizedNames.set(i,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(i=>{this.headers.set(i,e.headers.get(i)),this.normalizedNames.set(i,e.normalizedNames.get(i))})}clone(e){let i=new t;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([e]),i}applyUpdate(e){let i=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(e.name,i);let r=(e.op==="a"?this.headers.get(i):void 0)||[];r.push(...n),this.headers.set(i,r);break;case"d":let o=e.value;if(!o)this.headers.delete(i),this.normalizedNames.delete(i);else{let s=this.headers.get(i);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(i),this.normalizedNames.delete(i)):this.headers.set(i,s)}break}}setHeaderEntries(e,i){let n=(Array.isArray(i)?i:[i]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,n),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(i=>e(this.normalizedNames.get(i),this.headers.get(i)))}};var pO=class{encodeKey(e){return MU(e)}encodeValue(e){return MU(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function Xse(t,e){let i=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],l=i.get(s)||[];l.push(a),i.set(s,l)}),i}var Qse=/%(\d[a-f0-9])/gi,Zse={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function MU(t){return encodeURIComponent(t).replace(Qse,(e,i)=>Zse[i]??e)}function Fx(t){return`${t}`}var Md=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new pO,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=Xse(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(i=>{let n=e.fromObject[i],r=Array.isArray(n)?n.map(Fx):[Fx(n)];this.map.set(i,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let i=this.map.get(e);return i?i[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,i){return this.clone({param:e,value:i,op:"a"})}appendAll(e){let i=[];return Object.keys(e).forEach(n=>{let r=e[n];Array.isArray(r)?r.forEach(o=>{i.push({param:n,value:o,op:"a"})}):i.push({param:n,value:r,op:"a"})}),this.clone(i)}set(e,i){return this.clone({param:e,value:i,op:"s"})}delete(e,i){return this.clone({param:e,value:i,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let i=this.encoder.encodeKey(e);return this.map.get(e).map(n=>i+"="+this.encoder.encodeValue(n)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let i=new t({encoder:this.encoder});return i.cloneFrom=this.cloneFrom||this,i.updates=(this.updates||[]).concat(e),i}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let i=(e.op==="a"?this.map.get(e.param):void 0)||[];i.push(Fx(e.value)),this.map.set(e.param,i);break;case"d":if(e.value!==void 0){let n=this.map.get(e.param)||[],r=n.indexOf(Fx(e.value));r!==-1&&n.splice(r,1),n.length>0?this.map.set(e.param,n):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var gO=class{constructor(){this.map=new Map}set(e,i){return this.map.set(e,i),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function Jse(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function AU(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function OU(t){return typeof Blob<"u"&&t instanceof Blob}function PU(t){return typeof FormData<"u"&&t instanceof FormData}function eae(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Iv=class t{constructor(e,i,n,r){this.url=i,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(Jse(this.method)||r?(this.body=n!==void 0?n:null,o=r):o=n,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Cc,this.context??=new gO,!this.params)this.params=new Md,this.urlWithParams=i;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=i;else{let a=i.indexOf("?"),l=a===-1?"?":a<i.length-1?"&":"";this.urlWithParams=i+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||AU(this.body)||OU(this.body)||PU(this.body)||eae(this.body)?this.body:this.body instanceof Md?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||PU(this.body)?null:OU(this.body)?this.body.type||null:AU(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Md?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let i=e.method||this.method,n=e.url||this.url,r=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,c=e.headers||this.headers,d=e.params||this.params,u=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((f,m)=>f.set(m,e.setHeaders[m]),c)),e.setParams&&(d=Object.keys(e.setParams).reduce((f,m)=>f.set(m,e.setParams[m]),d)),new t(i,n,s,{params:d,headers:c,context:u,reportProgress:l,responseType:r,withCredentials:a,transferCache:o})}},Ad=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Ad||{}),Mv=class{constructor(e,i=200,n="OK"){this.headers=e.headers||new Cc,this.status=e.status!==void 0?e.status:i,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Vx=class t extends Mv{constructor(e={}){super(e),this.type=Ad.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Av=class t extends Mv{constructor(e={}){super(e),this.type=Ad.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Dd=class extends Mv{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},HU=200,tae=204;function mO(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var _O=(()=>{let e=class e{constructor(n){this.handler=n}request(n,r,o={}){let s;if(n instanceof Iv)s=n;else{let c;o.headers instanceof Cc?c=o.headers:c=new Cc(o.headers);let d;o.params&&(o.params instanceof Md?d=o.params:d=new Md({fromObject:o.params})),s=new Iv(n,r,o.body!==void 0?o.body:null,{headers:c,context:o.context,params:d,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=dt(s).pipe(Ed(c=>this.handler.handle(c)));if(n instanceof Iv||o.observe==="events")return a;let l=a.pipe(Ii(c=>c instanceof Av));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe(jt(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return l.pipe(jt(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return l.pipe(jt(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return l.pipe(jt(c=>c.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new Md().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,o={}){return this.request("PATCH",n,mO(o,r))}post(n,r,o={}){return this.request("POST",n,mO(o,r))}put(n,r,o={}){return this.request("PUT",n,mO(o,r))}};e.\u0275fac=function(r){return new(r||e)(ce(Dv))},e.\u0275prov=Re({token:e,factory:e.\u0275fac});let t=e;return t})(),iae=/^\)\]\}',?\n/,nae="X-Request-URL";function kU(t){if(t.url)return t.url;let e=nae.toLocaleLowerCase();return t.headers.get(e)}var rae=(()=>{let e=class e{constructor(){this.fetchImpl=pe(bO,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=pe(Ge)}handle(n){return new go(r=>{let o=new AbortController;return this.doRequest(n,o.signal,r).then(vO,s=>r.error(new Dd({error:s}))),()=>o.abort()})}doRequest(n,r,o){return vv(this,null,function*(){let s=this.createRequestInit(n),a;try{let g=this.fetchImpl(n.urlWithParams,ee({signal:r},s));oae(g),o.next({type:Ad.Sent}),a=yield g}catch(g){o.error(new Dd({error:g,status:g.status??0,statusText:g.statusText,url:n.urlWithParams,headers:g.headers}));return}let l=new Cc(a.headers),c=a.statusText,d=kU(a)??n.urlWithParams,u=a.status,f=null;if(n.reportProgress&&o.next(new Vx({headers:l,status:u,statusText:c,url:d})),a.body){let g=a.headers.get("content-length"),_=[],b=a.body.getReader(),y=0,x,T,O=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>vv(this,null,function*(){for(;;){let{done:V,value:F}=yield b.read();if(V)break;if(_.push(F),y+=F.length,n.reportProgress){T=n.responseType==="text"?(T??"")+(x??=new TextDecoder).decode(F,{stream:!0}):void 0;let k=()=>o.next({type:Ad.DownloadProgress,total:g?+g:void 0,loaded:y,partialText:T});O?O.run(k):k()}}}));let P=this.concatChunks(_,y);try{let V=a.headers.get("Content-Type")??"";f=this.parseBody(n,P,V)}catch(V){o.error(new Dd({error:V,headers:new Cc(a.headers),status:a.status,statusText:a.statusText,url:kU(a)??n.urlWithParams}));return}}u===0&&(u=f?HU:0),u>=200&&u<300?(o.next(new Av({body:f,headers:l,status:u,statusText:c,url:d})),o.complete()):o.error(new Dd({error:f,headers:l,status:u,statusText:c,url:d}))})}parseBody(n,r,o){switch(n.responseType){case"json":let s=new TextDecoder().decode(r).replace(iae,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:o});case"arraybuffer":return r.buffer}}createRequestInit(n){let r={},o=n.withCredentials?"include":void 0;if(n.headers.forEach((s,a)=>r[s]=a.join(",")),r.Accept??="application/json, text/plain, */*",!r["Content-Type"]){let s=n.detectContentTypeHeader();s!==null&&(r["Content-Type"]=s)}return{body:n.serializeBody(),method:n.method,headers:r,credentials:o}}concatChunks(n,r){let o=new Uint8Array(r),s=0;for(let a of n)o.set(a,s),s+=a.length;return o}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Re({token:e,factory:e.\u0275fac});let t=e;return t})(),bO=class{};function vO(){}function oae(t){t.then(vO,vO)}function VU(t,e){return e(t)}function sae(t,e){return(i,n)=>e.intercept(i,{handle:r=>t(r,n)})}function aae(t,e,i){return(n,r)=>ks(i,()=>e(n,o=>t(o,r)))}var lae=new we(""),yO=new we(""),cae=new we(""),BU=new we("",{providedIn:"root",factory:()=>!0});function dae(){let t=null;return(e,i)=>{t===null&&(t=(pe(lae,{optional:!0})??[]).reduceRight(sae,VU));let n=pe(Cv);if(pe(BU)){let o=n.add();return t(e,i).pipe(Dh(()=>n.remove(o)))}else return t(e,i)}}var NU=(()=>{let e=class e extends Dv{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=pe(Cv),this.contributeToStability=pe(BU)}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(yO),...this.injector.get(cae,[])]));this.chain=r.reduceRight((o,s)=>aae(o,s,this.injector),VU)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,o=>this.backend.handle(o)).pipe(Dh(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}};e.\u0275fac=function(r){return new(r||e)(ce(Hx),ce(ll))},e.\u0275prov=Re({token:e,factory:e.\u0275fac});let t=e;return t})();var uae=/^\)\]\}',?\n/;function hae(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var LU=(()=>{let e=class e{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new an(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Lr(r.\u0275loadImpl()):dt(null)).pipe(ur(()=>new go(s=>{let a=r.build();if(a.open(n.method,n.urlWithParams),n.withCredentials&&(a.withCredentials=!0),n.headers.forEach((b,y)=>a.setRequestHeader(b,y.join(","))),n.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let b=n.detectContentTypeHeader();b!==null&&a.setRequestHeader("Content-Type",b)}if(n.responseType){let b=n.responseType.toLowerCase();a.responseType=b!=="json"?b:"text"}let l=n.serializeBody(),c=null,d=()=>{if(c!==null)return c;let b=a.statusText||"OK",y=new Cc(a.getAllResponseHeaders()),x=hae(a)||n.url;return c=new Vx({headers:y,status:a.status,statusText:b,url:x}),c},u=()=>{let{headers:b,status:y,statusText:x,url:T}=d(),O=null;y!==tae&&(O=typeof a.response>"u"?a.responseText:a.response),y===0&&(y=O?HU:0);let P=y>=200&&y<300;if(n.responseType==="json"&&typeof O=="string"){let V=O;O=O.replace(uae,"");try{O=O!==""?JSON.parse(O):null}catch(F){O=V,P&&(P=!1,O={error:F,text:O})}}P?(s.next(new Av({body:O,headers:b,status:y,statusText:x,url:T||void 0})),s.complete()):s.error(new Dd({error:O,headers:b,status:y,statusText:x,url:T||void 0}))},f=b=>{let{url:y}=d(),x=new Dd({error:b,status:a.status||0,statusText:a.statusText||"Unknown Error",url:y||void 0});s.error(x)},m=!1,g=b=>{m||(s.next(d()),m=!0);let y={type:Ad.DownloadProgress,loaded:b.loaded};b.lengthComputable&&(y.total=b.total),n.responseType==="text"&&a.responseText&&(y.partialText=a.responseText),s.next(y)},_=b=>{let y={type:Ad.UploadProgress,loaded:b.loaded};b.lengthComputable&&(y.total=b.total),s.next(y)};return a.addEventListener("load",u),a.addEventListener("error",f),a.addEventListener("timeout",f),a.addEventListener("abort",f),n.reportProgress&&(a.addEventListener("progress",g),l!==null&&a.upload&&a.upload.addEventListener("progress",_)),a.send(l),s.next({type:Ad.Sent}),()=>{a.removeEventListener("error",f),a.removeEventListener("abort",f),a.removeEventListener("load",u),a.removeEventListener("timeout",f),n.reportProgress&&(a.removeEventListener("progress",g),l!==null&&a.upload&&a.upload.removeEventListener("progress",_)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(r){return new(r||e)(ce(Lx))},e.\u0275prov=Re({token:e,factory:e.\u0275fac});let t=e;return t})(),WU=new we(""),fae="XSRF-TOKEN",mae=new we("",{providedIn:"root",factory:()=>fae}),pae="X-XSRF-TOKEN",gae=new we("",{providedIn:"root",factory:()=>pae}),Bx=class{},bae=(()=>{let e=class e{constructor(n,r,o){this.doc=n,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ax(n,this.cookieName),this.lastCookieString=n),this.lastToken}};e.\u0275fac=function(r){return new(r||e)(ce(Tt),ce(vc),ce(mae))},e.\u0275prov=Re({token:e,factory:e.\u0275fac});let t=e;return t})();function vae(t,e){let i=t.url.toLowerCase();if(!pe(WU)||t.method==="GET"||t.method==="HEAD"||i.startsWith("http://")||i.startsWith("https://"))return e(t);let n=pe(Bx).getToken(),r=pe(gae);return n!=null&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,n)})),e(t)}var jU=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(jU||{});function _ae(t,e){return{\u0275kind:t,\u0275providers:e}}function yae(...t){let e=[_O,LU,NU,{provide:Dv,useExisting:NU},{provide:Hx,useFactory:()=>pe(rae,{optional:!0})??pe(LU)},{provide:yO,useValue:vae,multi:!0},{provide:WU,useValue:!0},{provide:Bx,useClass:bae}];for(let i of t)e.push(...i.\u0275providers);return km(e)}var FU=new we("");function wae(){return _ae(jU.LegacyInterceptors,[{provide:FU,useFactory:dae},{provide:yO,useExisting:FU,multi:!0}])}var UU=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Xe({type:e}),e.\u0275inj=Ke({providers:[yae(wae())]});let t=e;return t})();var SO=class extends wU{constructor(){super(...arguments),this.supportsDOMEvents=!0}},xO=class t extends SO{static makeCurrent(){yU(new t)}onAndCancel(e,i,n){return e.addEventListener(i,n),()=>{e.removeEventListener(i,n)}}dispatchEvent(e,i){e.dispatchEvent(i)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,i){return i=i||this.getDefaultDocument(),i.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,i){return i==="window"?window:i==="document"?e:i==="body"?e.body:null}getBaseHref(e){let i=Sae();return i==null?null:xae(i)}resetBaseElement(){Ov=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ax(document.cookie,e)}},Ov=null;function Sae(){return Ov=Ov||document.querySelector("base"),Ov?Ov.getAttribute("href"):null}function xae(t){return new URL(t,document.baseURI).pathname}var Eae=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Re({token:e,factory:e.\u0275fac});let t=e;return t})(),EO=new we(""),GU=(()=>{let e=class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,o){return this._findPluginFor(r).addEventListener(n,r,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new an(5101,!1);return this._eventNameToPlugin.set(n,r),r}};e.\u0275fac=function(r){return new(r||e)(ce(EO),ce(Ge))},e.\u0275prov=Re({token:e,factory:e.\u0275fac});let t=e;return t})(),jx=class{constructor(e){this._doc=e}},wO="ng-app-id",$U=(()=>{let e=class e{constructor(n,r,o,s={}){this.doc=n,this.appId=r,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Nx(s),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(o=>o.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${wO}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(o=>{o.textContent!=null&&r.set(o.textContent,o)}),r}return null}changeUsageCount(n,r){let o=this.styleRef;if(o.has(n)){let s=o.get(n);return s.usage+=r,s.usage}return o.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let o=this.styleNodesInDOM,s=o?.get(r);if(s?.parentNode===n)return o.delete(r),s.removeAttribute(wO),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(wO,this.appId),n.appendChild(a),a}}addStyleToHost(n,r){let o=this.getStyleElement(n,r),s=this.styleRef,a=s.get(r)?.elements;a?a.push(o):s.set(r,{elements:[o],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(ce(Tt),ce(Sx),ce(xv,8),ce(vc))},e.\u0275prov=Re({token:e,factory:e.\u0275fac});let t=e;return t})(),CO={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},IO=/%COMP%/g,qU="%COMP%",Rae=`_nghost-${qU}`,Tae=`_ngcontent-${qU}`,Iae=!0,Dae=new we("",{providedIn:"root",factory:()=>Iae});function Mae(t){return Tae.replace(IO,t)}function Aae(t){return Rae.replace(IO,t)}function KU(t,e){return e.map(i=>i.replace(IO,t))}var Ux=(()=>{let e=class e{constructor(n,r,o,s,a,l,c,d=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=Nx(l),this.defaultRenderer=new Pv(n,a,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===wv.ShadowDom&&(r=st(ee({},r),{encapsulation:wv.Emulated}));let o=this.getOrCreateRenderer(n,r);return o instanceof zx?o.applyToHost(n):o instanceof kv&&o.applyStyles(),o}getOrCreateRenderer(n,r){let o=this.rendererByCompId,s=o.get(r.id);if(!s){let a=this.doc,l=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(r.encapsulation){case wv.Emulated:s=new zx(c,d,r,this.appId,u,a,l,f);break;case wv.ShadowDom:return new RO(c,d,n,r,a,l,this.nonce,f);default:s=new kv(c,d,r,u,a,l,f);break}o.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(ce(GU),ce($U),ce(Sx),ce(Dae),ce(Tt),ce(vc),ce(Ge),ce(xv))},e.\u0275prov=Re({token:e,factory:e.\u0275fac});let t=e;return t})(),Pv=class{constructor(e,i,n,r){this.eventManager=e,this.doc=i,this.ngZone=n,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,i){return i?this.doc.createElementNS(CO[i]||i,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,i){(zU(e)?e.content:e).appendChild(i)}insertBefore(e,i,n){e&&(zU(e)?e.content:e).insertBefore(i,n)}removeChild(e,i){e&&e.removeChild(i)}selectRootElement(e,i){let n=typeof e=="string"?this.doc.querySelector(e):e;if(!n)throw new an(-5104,!1);return i||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,i,n,r){if(r){i=r+":"+i;let o=CO[r];o?e.setAttributeNS(o,i,n):e.setAttribute(i,n)}else e.setAttribute(i,n)}removeAttribute(e,i,n){if(n){let r=CO[n];r?e.removeAttributeNS(r,i):e.removeAttribute(`${n}:${i}`)}else e.removeAttribute(i)}addClass(e,i){e.classList.add(i)}removeClass(e,i){e.classList.remove(i)}setStyle(e,i,n,r){r&(Ev.DashCase|Ev.Important)?e.style.setProperty(i,n,r&Ev.Important?"important":""):e.style[i]=n}removeStyle(e,i,n){n&Ev.DashCase?e.style.removeProperty(i):e.style[i]=""}setProperty(e,i,n){e!=null&&(e[i]=n)}setValue(e,i){e.nodeValue=i}listen(e,i,n){if(typeof e=="string"&&(e=jm().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${i}`);return this.eventManager.addEventListener(e,i,this.decoratePreventDefault(n))}decoratePreventDefault(e){return i=>{if(i==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(i)):e(i))===!1&&i.preventDefault()}}};function zU(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var RO=class extends Pv{constructor(e,i,n,r,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=i,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=KU(r.id,r.styles);for(let d of c){let u=document.createElement("style");a&&u.setAttribute("nonce",a),u.textContent=d,this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,i){return super.appendChild(this.nodeOrShadowRoot(e),i)}insertBefore(e,i,n){return super.insertBefore(this.nodeOrShadowRoot(e),i,n)}removeChild(e,i){return super.removeChild(this.nodeOrShadowRoot(e),i)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},kv=class extends Pv{constructor(e,i,n,r,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=i,this.removeStylesOnCompDestroy=r,this.styles=l?KU(l,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},zx=class extends kv{constructor(e,i,n,r,o,s,a,l){let c=r+"-"+n.id;super(e,i,n,o,s,a,l,c),this.contentAttr=Mae(c),this.hostAttr=Aae(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,i){let n=super.createElement(e,i);return super.setAttribute(n,this.contentAttr,""),n}},Oae=(()=>{let e=class e extends jx{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o){return n.addEventListener(r,o,!1),()=>this.removeEventListener(n,r,o)}removeEventListener(n,r,o){return n.removeEventListener(r,o)}};e.\u0275fac=function(r){return new(r||e)(ce(Tt))},e.\u0275prov=Re({token:e,factory:e.\u0275fac});let t=e;return t})(),YU=["alt","control","meta","shift"],Pae={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},kae={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Nae=(()=>{let e=class e extends jx{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>jm().onAndCancel(n,s.domEventName,a))}static parseEventName(n){let r=n.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(r.pop()),a="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),a="code."),YU.forEach(d=>{let u=r.indexOf(d);u>-1&&(r.splice(u,1),a+=d+".")}),a+=s,r.length!=0||s.length===0)return null;let c={};return c.domEventName=o,c.fullKey=a,c}static matchEventFullKeyCode(n,r){let o=Pae[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(o=n.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),YU.forEach(a=>{if(a!==o){let l=kae[a];l(n)&&(s+=a+".")}}),s+=o,s===r)}static eventCallback(n,r,o){return s=>{e.matchEventFullKeyCode(s,n)&&o.runGuarded(()=>r(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}};e.\u0275fac=function(r){return new(r||e)(ce(Tt))},e.\u0275prov=Re({token:e,factory:e.\u0275fac});let t=e;return t})();function XU(t,e){return gU(ee({rootComponent:t},Lae(e)))}function Lae(t){return{appProviders:[...Wae,...t?.providers??[]],platformProviders:Bae}}function Fae(){xO.makeCurrent()}function Hae(){return new Cx}function Vae(){return iU(document),document}var Bae=[{provide:vc,useValue:EU},{provide:nU,useValue:Fae,multi:!0},{provide:Tt,useFactory:Vae,deps:[]}];var Wae=[{provide:tU,useValue:"root"},{provide:Cx,useFactory:Hae,deps:[]},{provide:EO,useClass:Oae,multi:!0,deps:[Tt,Ge,vc]},{provide:EO,useClass:Nae,multi:!0,deps:[Tt]},Ux,$U,GU,{provide:xx,useExisting:Ux},{provide:Lx,useClass:Eae,deps:[]},[]];var QU=(()=>{let e=class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}};e.\u0275fac=function(r){return new(r||e)(ce(Tt))},e.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Zt="primary",Kv=Symbol("RouteTitle"),PO=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let i=this.params[e];return Array.isArray(i)?i[0]:i}return null}getAll(e){if(this.has(e)){let i=this.params[e];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}};function qm(t){return new PO(t)}function Uae(t,e,i){let n=i.path.split("/");if(n.length>t.length||i.pathMatch==="full"&&(e.hasChildren()||n.length<t.length))return null;let r={};for(let o=0;o<n.length;o++){let s=n[o],a=t[o];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,n.length),posParams:r}}function zae(t,e){if(t.length!==e.length)return!1;for(let i=0;i<t.length;++i)if(!hl(t[i],e[i]))return!1;return!0}function hl(t,e){let i=t?kO(t):void 0,n=e?kO(e):void 0;if(!i||!n||i.length!=n.length)return!1;let r;for(let o=0;o<i.length;o++)if(r=i[o],!l2(t[r],e[r]))return!1;return!0}function kO(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function l2(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let i=[...t].sort(),n=[...e].sort();return i.every((r,o)=>n[o]===r)}else return t===e}function c2(t){return t.length>0?t[t.length-1]:null}function kd(t){return yv(t)?t:Dx(t)?Lr(Promise.resolve(t)):dt(t)}var Yae={exact:u2,subset:h2},d2={exact:Gae,subset:$ae,ignored:()=>!0};function ZU(t,e,i){return Yae[i.paths](t.root,e.root,i.matrixParams)&&d2[i.queryParams](t.queryParams,e.queryParams)&&!(i.fragment==="exact"&&t.fragment!==e.fragment)}function Gae(t,e){return hl(t,e)}function u2(t,e,i){if(!Oh(t.segments,e.segments)||!$x(t.segments,e.segments,i)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let n in e.children)if(!t.children[n]||!u2(t.children[n],e.children[n],i))return!1;return!0}function $ae(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(i=>l2(t[i],e[i]))}function h2(t,e,i){return f2(t,e,e.segments,i)}function f2(t,e,i,n){if(t.segments.length>i.length){let r=t.segments.slice(0,i.length);return!(!Oh(r,i)||e.hasChildren()||!$x(r,i,n))}else if(t.segments.length===i.length){if(!Oh(t.segments,i)||!$x(t.segments,i,n))return!1;for(let r in e.children)if(!t.children[r]||!h2(t.children[r],e.children[r],n))return!1;return!0}else{let r=i.slice(0,t.segments.length),o=i.slice(t.segments.length);return!Oh(t.segments,r)||!$x(t.segments,r,n)||!t.children[Zt]?!1:f2(t.children[Zt],e,o,n)}}function $x(t,e,i){return e.every((n,r)=>d2[i](t[r].parameters,n.parameters))}var Od=class{constructor(e=new Ni([],{}),i={},n=null){this.root=e,this.queryParams=i,this.fragment=n}get queryParamMap(){return this._queryParamMap??=qm(this.queryParams),this._queryParamMap}toString(){return Xae.serialize(this)}},Ni=class{constructor(e,i){this.segments=e,this.children=i,this.parent=null,Object.values(i).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return qx(this)}},Ah=class{constructor(e,i){this.path=e,this.parameters=i}get parameterMap(){return this._parameterMap??=qm(this.parameters),this._parameterMap}toString(){return p2(this)}};function qae(t,e){return Oh(t,e)&&t.every((i,n)=>hl(i.parameters,e[n].parameters))}function Oh(t,e){return t.length!==e.length?!1:t.every((i,n)=>i.path===e[n].path)}function Kae(t,e){let i=[];return Object.entries(t.children).forEach(([n,r])=>{n===Zt&&(i=i.concat(e(r,n)))}),Object.entries(t.children).forEach(([n,r])=>{n!==Zt&&(i=i.concat(e(r,n)))}),i}var Xv=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Re({token:e,factory:()=>new Km,providedIn:"root"});let t=e;return t})(),Km=class{parse(e){let i=new LO(e);return new Od(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(e){let i=`/${Nv(e.root,!0)}`,n=Jae(e.queryParams),r=typeof e.fragment=="string"?`#${Qae(e.fragment)}`:"";return`${i}${n}${r}`}},Xae=new Km;function qx(t){return t.segments.map(e=>p2(e)).join("/")}function Nv(t,e){if(!t.hasChildren())return qx(t);if(e){let i=t.children[Zt]?Nv(t.children[Zt],!1):"",n=[];return Object.entries(t.children).forEach(([r,o])=>{r!==Zt&&n.push(`${r}:${Nv(o,!1)}`)}),n.length>0?`${i}(${n.join("//")})`:i}else{let i=Kae(t,(n,r)=>r===Zt?[Nv(t.children[Zt],!1)]:[`${r}:${Nv(n,!1)}`]);return Object.keys(t.children).length===1&&t.children[Zt]!=null?`${qx(t)}/${i[0]}`:`${qx(t)}/(${i.join("//")})`}}function m2(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Yx(t){return m2(t).replace(/%3B/gi,";")}function Qae(t){return encodeURI(t)}function NO(t){return m2(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Kx(t){return decodeURIComponent(t)}function JU(t){return Kx(t.replace(/\+/g,"%20"))}function p2(t){return`${NO(t.path)}${Zae(t.parameters)}`}function Zae(t){return Object.entries(t).map(([e,i])=>`;${NO(e)}=${NO(i)}`).join("")}function Jae(t){let e=Object.entries(t).map(([i,n])=>Array.isArray(n)?n.map(r=>`${Yx(i)}=${Yx(r)}`).join("&"):`${Yx(i)}=${Yx(n)}`).filter(i=>i);return e.length?`?${e.join("&")}`:""}var ele=/^[^\/()?;#]+/;function DO(t){let e=t.match(ele);return e?e[0]:""}var tle=/^[^\/()?;=#]+/;function ile(t){let e=t.match(tle);return e?e[0]:""}var nle=/^[^=?&#]+/;function rle(t){let e=t.match(nle);return e?e[0]:""}var ole=/^[^&#]+/;function sle(t){let e=t.match(ole);return e?e[0]:""}var LO=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ni([],{}):new Ni([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(i).length>0)&&(n[Zt]=new Ni(e,i)),n}parseSegment(){let e=DO(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new an(4009,!1);return this.capture(e),new Ah(Kx(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let i=ile(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){let r=DO(this.remaining);r&&(n=r,this.capture(n))}e[Kx(i)]=Kx(n)}parseQueryParam(e){let i=rle(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){let s=sle(this.remaining);s&&(n=s,this.capture(n))}let r=JU(i),o=JU(n);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){let i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=DO(this.remaining),r=this.remaining[n.length];if(r!=="/"&&r!==")"&&r!==";")throw new an(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Zt);let s=this.parseChildren();i[o]=Object.keys(s).length===1?s[Zt]:new Ni([],s),this.consumeOptional("//")}return i}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new an(4011,!1)}};function g2(t){return t.segments.length>0?new Ni([],{[Zt]:t}):t}function b2(t){let e={};for(let[n,r]of Object.entries(t.children)){let o=b2(r);if(n===Zt&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[n]=o)}let i=new Ni(t.segments,e);return ale(i)}function ale(t){if(t.numberOfChildren===1&&t.children[Zt]){let e=t.children[Zt];return new Ni(t.segments.concat(e.segments),e.children)}return t}function Wv(t){return t instanceof Od}function lle(t,e,i=null,n=null){let r=v2(t);return _2(r,e,i,n)}function v2(t){let e;function i(o){let s={};for(let l of o.children){let c=i(l);s[l.outlet]=c}let a=new Ni(o.url,s);return o===t&&(e=a),a}let n=i(t.root),r=g2(n);return e??r}function _2(t,e,i,n){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return MO(r,r,r,i,n);let o=cle(e);if(o.toRoot())return MO(r,r,new Ni([],{}),i,n);let s=dle(o,r,t),a=s.processChildren?Hv(s.segmentGroup,s.index,o.commands):w2(s.segmentGroup,s.index,o.commands);return MO(r,s.segmentGroup,a,i,n)}function Xx(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function jv(t){return typeof t=="object"&&t!=null&&t.outlets}function MO(t,e,i,n,r){let o={};n&&Object.entries(n).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`});let s;t===e?s=i:s=y2(t,e,i);let a=g2(b2(s));return new Od(a,o,r)}function y2(t,e,i){let n={};return Object.entries(t.children).forEach(([r,o])=>{o===e?n[r]=i:n[r]=y2(o,e,i)}),new Ni(t.segments,n)}var Qx=class{constructor(e,i,n){if(this.isAbsolute=e,this.numberOfDoubleDots=i,this.commands=n,e&&n.length>0&&Xx(n[0]))throw new an(4003,!1);let r=n.find(jv);if(r&&r!==c2(n))throw new an(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function cle(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Qx(!0,0,t);let e=0,i=!1,n=t.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?i=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new Qx(i,e,n)}var Ym=class{constructor(e,i,n){this.segmentGroup=e,this.processChildren=i,this.index=n}};function dle(t,e,i){if(t.isAbsolute)return new Ym(e,!0,0);if(!i)return new Ym(e,!1,NaN);if(i.parent===null)return new Ym(i,!0,0);let n=Xx(t.commands[0])?0:1,r=i.segments.length-1+n;return ule(i,r,t.numberOfDoubleDots)}function ule(t,e,i){let n=t,r=e,o=i;for(;o>r;){if(o-=r,n=n.parent,!n)throw new an(4005,!1);r=n.segments.length}return new Ym(n,!1,r-o)}function hle(t){return jv(t[0])?t[0].outlets:{[Zt]:t}}function w2(t,e,i){if(t??=new Ni([],{}),t.segments.length===0&&t.hasChildren())return Hv(t,e,i);let n=fle(t,e,i),r=i.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){let o=new Ni(t.segments.slice(0,n.pathIndex),{});return o.children[Zt]=new Ni(t.segments.slice(n.pathIndex),t.children),Hv(o,0,r)}else return n.match&&r.length===0?new Ni(t.segments,{}):n.match&&!t.hasChildren()?FO(t,e,i):n.match?Hv(t,0,r):FO(t,e,i)}function Hv(t,e,i){if(i.length===0)return new Ni(t.segments,{});{let n=hle(i),r={};if(Object.keys(n).some(o=>o!==Zt)&&t.children[Zt]&&t.numberOfChildren===1&&t.children[Zt].segments.length===0){let o=Hv(t.children[Zt],e,i);return new Ni(t.segments,o.children)}return Object.entries(n).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=w2(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{n[o]===void 0&&(r[o]=s)}),new Ni(t.segments,r)}}function fle(t,e,i){let n=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(n>=i.length)return o;let s=t.segments[r],a=i[n];if(jv(a))break;let l=`${a}`,c=n<i.length-1?i[n+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!t2(l,c,s))return o;n+=2}else{if(!t2(l,{},s))return o;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}function FO(t,e,i){let n=t.segments.slice(0,e),r=0;for(;r<i.length;){let o=i[r];if(jv(o)){let l=mle(o.outlets);return new Ni(n,l)}if(r===0&&Xx(i[0])){let l=t.segments[e];n.push(new Ah(l.path,e2(i[0]))),r++;continue}let s=jv(o)?o.outlets[Zt]:`${o}`,a=r<i.length-1?i[r+1]:null;s&&a&&Xx(a)?(n.push(new Ah(s,e2(a))),r+=2):(n.push(new Ah(s,{})),r++)}return new Ni(n,{})}function mle(t){let e={};return Object.entries(t).forEach(([i,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(e[i]=FO(new Ni([],{}),0,n))}),e}function e2(t){let e={};return Object.entries(t).forEach(([i,n])=>e[i]=`${n}`),e}function t2(t,e,i){return t==i.path&&hl(e,i.parameters)}var Vv="imperative",yr=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(yr||{}),Ls=class{constructor(e,i){this.id=e,this.url=i}},Xm=class extends Ls{constructor(e,i,n="imperative",r=null){super(e,i),this.type=yr.NavigationStart,this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},xc=class extends Ls{constructor(e,i,n){super(e,i),this.urlAfterRedirects=n,this.type=yr.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ls=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(ls||{}),Zx=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Zx||{}),Sc=class extends Ls{constructor(e,i,n,r){super(e,i),this.reason=n,this.code=r,this.type=yr.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Pd=class extends Ls{constructor(e,i,n,r){super(e,i),this.reason=n,this.code=r,this.type=yr.NavigationSkipped}},Uv=class extends Ls{constructor(e,i,n,r){super(e,i),this.error=n,this.target=r,this.type=yr.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Jx=class extends Ls{constructor(e,i,n,r){super(e,i),this.urlAfterRedirects=n,this.state=r,this.type=yr.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},HO=class extends Ls{constructor(e,i,n,r){super(e,i),this.urlAfterRedirects=n,this.state=r,this.type=yr.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},VO=class extends Ls{constructor(e,i,n,r,o){super(e,i),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=o,this.type=yr.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},BO=class extends Ls{constructor(e,i,n,r){super(e,i),this.urlAfterRedirects=n,this.state=r,this.type=yr.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},WO=class extends Ls{constructor(e,i,n,r){super(e,i),this.urlAfterRedirects=n,this.state=r,this.type=yr.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},jO=class{constructor(e){this.route=e,this.type=yr.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},UO=class{constructor(e){this.route=e,this.type=yr.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},zO=class{constructor(e){this.snapshot=e,this.type=yr.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},YO=class{constructor(e){this.snapshot=e,this.type=yr.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},GO=class{constructor(e){this.snapshot=e,this.type=yr.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$O=class{constructor(e){this.snapshot=e,this.type=yr.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},eE=class{constructor(e,i,n){this.routerEvent=e,this.position=i,this.anchor=n,this.type=yr.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},zv=class{},Qm=class{constructor(e,i){this.url=e,this.navigationBehaviorOptions=i}};var qO=class{constructor(e){this.injector=e,this.outlet=null,this.route=null,this.children=new Qv(this.injector),this.attachRef=null}},Qv=(()=>{let e=class e{constructor(n){this.parentInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new qO(this.parentInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}};e.\u0275fac=function(r){return new(r||e)(ce(ll))},e.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),tE=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let i=this.pathFromRoot(e);return i.length>1?i[i.length-2]:null}children(e){let i=KO(e,this._root);return i?i.children.map(n=>n.value):[]}firstChild(e){let i=KO(e,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(e){let i=XO(e,this._root);return i.length<2?[]:i[i.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return XO(e,this._root).map(i=>i.value)}};function KO(t,e){if(t===e.value)return e;for(let i of e.children){let n=KO(t,i);if(n)return n}return null}function XO(t,e){if(t===e.value)return[e];for(let i of e.children){let n=XO(t,i);if(n.length)return n.unshift(e),n}return[]}var as=class{constructor(e,i){this.value=e,this.children=i}toString(){return`TreeNode(${this.value})`}};function zm(t){let e={};return t&&t.children.forEach(i=>e[i.value.outlet]=i),e}var iE=class extends tE{constructor(e,i){super(e),this.snapshot=i,oP(this,e)}toString(){return this.snapshot.toString()}};function C2(t){let e=ple(t),i=new Nr([new Ah("",{})]),n=new Nr({}),r=new Nr({}),o=new Nr({}),s=new Nr(""),a=new Zm(i,n,o,s,r,Zt,t,e.root);return a.snapshot=e.root,new iE(new as(a,[]),e)}function ple(t){let e={},i={},n={},r="",o=new Gm([],e,n,r,i,Zt,t,null,{});return new rE("",new as(o,[]))}var Zm=class{constructor(e,i,n,r,o,s,a,l){this.urlSubject=e,this.paramsSubject=i,this.queryParamsSubject=n,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(jt(c=>c[Kv]))??dt(void 0),this.url=e,this.params=i,this.queryParams=n,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(jt(e=>qm(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(jt(e=>qm(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function nE(t,e,i="emptyOnly"){let n,{routeConfig:r}=t;return e!==null&&(i==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?n={params:ee(ee({},e.params),t.params),data:ee(ee({},e.data),t.data),resolve:ee(ee(ee(ee({},t.data),e.data),r?.data),t._resolvedData)}:n={params:ee({},t.params),data:ee({},t.data),resolve:ee(ee({},t.data),t._resolvedData??{})},r&&x2(r)&&(n.resolve[Kv]=r.title),n}var Gm=class{get title(){return this.data?.[Kv]}constructor(e,i,n,r,o,s,a,l,c){this.url=e,this.params=i,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=qm(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=qm(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(n=>n.toString()).join("/"),i=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${i}')`}},rE=class extends tE{constructor(e,i){super(i),this.url=e,oP(this,i)}toString(){return S2(this._root)}};function oP(t,e){e.value._routerState=t,e.children.forEach(i=>oP(t,i))}function S2(t){let e=t.children.length>0?` { ${t.children.map(S2).join(", ")} } `:"";return`${t.value}${e}`}function AO(t){if(t.snapshot){let e=t.snapshot,i=t._futureSnapshot;t.snapshot=i,hl(e.queryParams,i.queryParams)||t.queryParamsSubject.next(i.queryParams),e.fragment!==i.fragment&&t.fragmentSubject.next(i.fragment),hl(e.params,i.params)||t.paramsSubject.next(i.params),zae(e.url,i.url)||t.urlSubject.next(i.url),hl(e.data,i.data)||t.dataSubject.next(i.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function QO(t,e){let i=hl(t.params,e.params)&&qae(t.url,e.url),n=!t.parent!=!e.parent;return i&&!n&&(!t.parent||QO(t.parent,e.parent))}function x2(t){return typeof t.title=="string"||t.title===null}var gle=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Zt,this.activateEvents=new Ie,this.deactivateEvents=new Ie,this.attachEvents=new Ie,this.detachEvents=new Ie,this.parentContexts=pe(Qv),this.location=pe(Qr),this.changeDetector=pe(vi),this.inputBinder=pe(cE,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new an(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new an(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new an(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new an(4013,!1);this._activatedRoute=n;let o=this.location,a=n.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new ZO(n,l,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Qe({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[li]});let t=e;return t})(),ZO=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,i,n){this.route=e,this.childContexts=i,this.parent=n}get(e,i){return e===Zm?this.route:e===Qv?this.childContexts:this.parent.get(e,i)}},cE=new we(""),i2=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,o=Mm([r.queryParams,r.params,r.data]).pipe(ur(([s,a,l],c)=>(l=ee(ee(ee({},s),a),l),c===0?dt(l):Promise.resolve(l)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let a=_U(r.component);if(!a){this.unsubscribeFromRouteData(n);return}for(let{templateName:l}of a.inputs)n.activatedComponentRef.setInput(l,s[l])});this.outletDataSubscriptions.set(n,o)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Re({token:e,factory:e.\u0275fac});let t=e;return t})();function ble(t,e,i){let n=Yv(t,e._root,i?i._root:void 0);return new iE(n,e)}function Yv(t,e,i){if(i&&t.shouldReuseRoute(e.value,i.value.snapshot)){let n=i.value;n._futureSnapshot=e.value;let r=vle(t,e,i);return new as(n,r)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Yv(t,a)),s}}let n=_le(e.value),r=e.children.map(o=>Yv(t,o));return new as(n,r)}}function vle(t,e,i){return e.children.map(n=>{for(let r of i.children)if(t.shouldReuseRoute(n.value,r.value.snapshot))return Yv(t,n,r);return Yv(t,n)})}function _le(t){return new Zm(new Nr(t.url),new Nr(t.params),new Nr(t.queryParams),new Nr(t.fragment),new Nr(t.data),t.outlet,t.component,t)}var Gv=class{constructor(e,i){this.redirectTo=e,this.navigationBehaviorOptions=i}},E2="ngNavigationCancelingError";function oE(t,e){let{redirectTo:i,navigationBehaviorOptions:n}=Wv(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=R2(!1,ls.Redirect);return r.url=i,r.navigationBehaviorOptions=n,r}function R2(t,e){let i=new Error(`NavigationCancelingError: ${t||""}`);return i[E2]=!0,i.cancellationCode=e,i}function yle(t){return T2(t)&&Wv(t.url)}function T2(t){return!!t&&t[E2]}var wle=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ut({type:e,selectors:[["ng-component"]],standalone:!0,features:[vt],decls:1,vars:0,template:function(r,o){r&1&&ze(0,"router-outlet")},dependencies:[gle],encapsulation:2});let t=e;return t})();function Cle(t,e){return t.providers&&!t._injector&&(t._injector=lO(t.providers,e,`Route: ${t.path}`)),t._injector??e}function sP(t){let e=t.children&&t.children.map(sP),i=e?st(ee({},t),{children:e}):ee({},t);return!i.component&&!i.loadComponent&&(e||i.loadChildren)&&i.outlet&&i.outlet!==Zt&&(i.component=wle),i}function Ta(t){return t.outlet||Zt}function Sle(t,e){let i=t.filter(n=>Ta(n)===e);return i.push(...t.filter(n=>Ta(n)!==e)),i}function Zv(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let i=e.routeConfig;if(i?._loadedInjector)return i._loadedInjector;if(i?._injector)return i._injector}return null}var xle=(t,e,i,n)=>jt(r=>(new JO(e,r.targetRouterState,r.currentRouterState,i,n).activate(t),r)),JO=class{constructor(e,i,n,r,o){this.routeReuseStrategy=e,this.futureState=i,this.currState=n,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let i=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,n,e),AO(this.futureState.root),this.activateChildRoutes(i,n,e)}deactivateChildRoutes(e,i,n){let r=zm(i);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],n),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(e,i,n){let r=e.value,o=i?i.value:null;if(r===o)if(r.component){let s=n.getContext(r.outlet);s&&this.deactivateChildRoutes(e,i,s.children)}else this.deactivateChildRoutes(e,i,n);else o&&this.deactivateRouteAndItsChildren(i,n)}deactivateRouteAndItsChildren(e,i){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,i):this.deactivateRouteAndOutlet(e,i)}detachAndStoreRouteSubtree(e,i){let n=i.getContext(e.value.outlet),r=n&&e.value.component?n.children:i,o=zm(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(n&&n.outlet){let s=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,i){let n=i.getContext(e.value.outlet),r=n&&e.value.component?n.children:i,o=zm(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(e,i,n){let r=zm(i);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],n),this.forwardEvent(new $O(o.value.snapshot))}),e.children.length&&this.forwardEvent(new YO(e.value.snapshot))}activateRoutes(e,i,n){let r=e.value,o=i?i.value:null;if(AO(r),r===o)if(r.component){let s=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,i,s.children)}else this.activateChildRoutes(e,i,n);else if(r.component){let s=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),AO(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=Zv(r.snapshot);s.attachRef=null,s.route=r,s.injector=a??s.injector,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,n)}},sE=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},$m=class{constructor(e,i){this.component=e,this.route=i}};function Ele(t,e,i){let n=t._root,r=e?e._root:null;return Lv(n,r,i,[n.value])}function Rle(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function ep(t,e){let i=Symbol(),n=e.get(t,i);return n===i?typeof t=="function"&&!eU(t)?t:e.get(t):n}function Lv(t,e,i,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=zm(e);return t.children.forEach(s=>{Tle(s,o[s.value.outlet],i,n.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Bv(a,i.getContext(s),r)),r}function Tle(t,e,i,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=i?i.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=Ile(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new sE(n)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Lv(t,e,a?a.children:null,n,r):Lv(t,e,i,n,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new $m(a.outlet.component,s))}else s&&Bv(e,a,r),r.canActivateChecks.push(new sE(n)),o.component?Lv(t,null,a?a.children:null,n,r):Lv(t,null,i,n,r);return r}function Ile(t,e,i){if(typeof i=="function")return i(t,e);switch(i){case"pathParamsChange":return!Oh(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Oh(t.url,e.url)||!hl(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!QO(t,e)||!hl(t.queryParams,e.queryParams);case"paramsChange":default:return!QO(t,e)}}function Bv(t,e,i){let n=zm(t),r=t.value;Object.entries(n).forEach(([o,s])=>{r.component?e?Bv(s,e.children.getContext(o),i):Bv(s,null,i):Bv(s,e,i)}),r.component?e&&e.outlet&&e.outlet.isActivated?i.canDeactivateChecks.push(new $m(e.outlet.component,r)):i.canDeactivateChecks.push(new $m(null,r)):i.canDeactivateChecks.push(new $m(null,r))}function Jv(t){return typeof t=="function"}function Dle(t){return typeof t=="boolean"}function Mle(t){return t&&Jv(t.canLoad)}function Ale(t){return t&&Jv(t.canActivate)}function Ole(t){return t&&Jv(t.canActivateChild)}function Ple(t){return t&&Jv(t.canDeactivate)}function kle(t){return t&&Jv(t.canMatch)}function I2(t){return t instanceof qj||t?.name==="EmptyError"}var Gx=Symbol("INITIAL_VALUE");function Jm(){return ur(t=>Mm(t.map(e=>e.pipe(Fr(1),ir(Gx)))).pipe(jt(e=>{for(let i of e)if(i!==!0){if(i===Gx)return Gx;if(i===!1||Nle(i))return i}return!0}),Ii(e=>e!==Gx),Fr(1)))}function Nle(t){return Wv(t)||t instanceof Gv}function Lle(t,e){return os(i=>{let{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=i;return s.length===0&&o.length===0?dt(st(ee({},i),{guardsResult:!0})):Fle(s,n,r,t).pipe(os(a=>a&&Dle(a)?Hle(n,o,t,e):dt(a)),jt(a=>st(ee({},i),{guardsResult:a})))})}function Fle(t,e,i,n){return Lr(t).pipe(os(r=>Ule(r.component,r.route,i,e,n)),Td(r=>r!==!0,!0))}function Hle(t,e,i,n){return Lr(e).pipe(Ed(r=>yx(Ble(r.route.parent,n),Vle(r.route,n),jle(t,r.path,i),Wle(t,r.route,i))),Td(r=>r!==!0,!0))}function Vle(t,e){return t!==null&&e&&e(new GO(t)),dt(!0)}function Ble(t,e){return t!==null&&e&&e(new zO(t)),dt(!0)}function Wle(t,e,i){let n=e.routeConfig?e.routeConfig.canActivate:null;if(!n||n.length===0)return dt(!0);let r=n.map(o=>bc(()=>{let s=Zv(e)??i,a=ep(o,s),l=Ale(a)?a.canActivate(e,t):ks(s,()=>a(e,t));return kd(l).pipe(Td())}));return dt(r).pipe(Jm())}function jle(t,e,i){let n=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>Rle(s)).filter(s=>s!==null).map(s=>bc(()=>{let a=s.guards.map(l=>{let c=Zv(s.node)??i,d=ep(l,c),u=Ole(d)?d.canActivateChild(n,t):ks(c,()=>d(n,t));return kd(u).pipe(Td())});return dt(a).pipe(Jm())}));return dt(o).pipe(Jm())}function Ule(t,e,i,n,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return dt(!0);let s=o.map(a=>{let l=Zv(e)??r,c=ep(a,l),d=Ple(c)?c.canDeactivate(t,e,i,n):ks(l,()=>c(t,e,i,n));return kd(d).pipe(Td())});return dt(s).pipe(Jm())}function zle(t,e,i,n){let r=e.canLoad;if(r===void 0||r.length===0)return dt(!0);let o=r.map(s=>{let a=ep(s,t),l=Mle(a)?a.canLoad(e,i):ks(t,()=>a(e,i));return kd(l)});return dt(o).pipe(Jm(),D2(n))}function D2(t){return Gj(hr(e=>{if(typeof e!="boolean")throw oE(t,e)}),jt(e=>e===!0))}function Yle(t,e,i,n){let r=e.canMatch;if(!r||r.length===0)return dt(!0);let o=r.map(s=>{let a=ep(s,t),l=kle(a)?a.canMatch(e,i):ks(t,()=>a(e,i));return kd(l)});return dt(o).pipe(Jm(),D2(n))}var $v=class{constructor(e){this.segmentGroup=e||null}},qv=class extends Error{constructor(e){super(),this.urlTree=e}};function Um(t){return _v(new $v(t))}function Gle(t){return _v(new an(4e3,!1))}function $le(t){return _v(R2(!1,ls.GuardRejected))}var eP=class{constructor(e,i){this.urlSerializer=e,this.urlTree=i}lineralizeSegments(e,i){let n=[],r=i.root;for(;;){if(n=n.concat(r.segments),r.numberOfChildren===0)return dt(n);if(r.numberOfChildren>1||!r.children[Zt])return Gle(`${e.redirectTo}`);r=r.children[Zt]}}applyRedirectCommands(e,i,n,r,o){if(typeof i!="string"){let a=i,{queryParams:l,fragment:c,routeConfig:d,url:u,outlet:f,params:m,data:g,title:_}=r,b=ks(o,()=>a({params:m,data:g,queryParams:l,fragment:c,routeConfig:d,url:u,outlet:f,title:_}));if(b instanceof Od)throw new qv(b);i=b}let s=this.applyRedirectCreateUrlTree(i,this.urlSerializer.parse(i),e,n);if(i[0]==="/")throw new qv(s);return s}applyRedirectCreateUrlTree(e,i,n,r){let o=this.createSegmentGroup(e,i.root,n,r);return new Od(o,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(e,i){let n={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);n[r]=i[a]}else n[r]=o}),n}createSegmentGroup(e,i,n,r){let o=this.createSegments(e,i.segments,n,r),s={};return Object.entries(i.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,n,r)}),new Ni(o,s)}createSegments(e,i,n,r){return i.map(o=>o.path[0]===":"?this.findPosParam(e,o,r):this.findOrReturn(o,n))}findPosParam(e,i,n){let r=n[i.path.substring(1)];if(!r)throw new an(4001,!1);return r}findOrReturn(e,i){let n=0;for(let r of i){if(r.path===e.path)return i.splice(n),r;n++}return e}},tP={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function qle(t,e,i,n,r){let o=aP(t,e,i);return o.matched?(n=Cle(e,n),Yle(n,e,i,r).pipe(jt(s=>s===!0?o:ee({},tP)))):dt(o)}function aP(t,e,i){if(e.path==="**")return Kle(i);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||i.length>0)?ee({},tP):{matched:!0,consumedSegments:[],remainingSegments:i,parameters:{},positionalParamSegments:{}};let r=(e.matcher||Uae)(i,t,e);if(!r)return ee({},tP);let o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=r.consumed.length>0?ee(ee({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:i.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function Kle(t){return{matched:!0,parameters:t.length>0?c2(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function n2(t,e,i,n){return i.length>0&&Zle(t,i,n)?{segmentGroup:new Ni(e,Qle(n,new Ni(i,t.children))),slicedSegments:[]}:i.length===0&&Jle(t,i,n)?{segmentGroup:new Ni(t.segments,Xle(t,i,n,t.children)),slicedSegments:i}:{segmentGroup:new Ni(t.segments,t.children),slicedSegments:i}}function Xle(t,e,i,n){let r={};for(let o of i)if(dE(t,e,o)&&!n[Ta(o)]){let s=new Ni([],{});r[Ta(o)]=s}return ee(ee({},n),r)}function Qle(t,e){let i={};i[Zt]=e;for(let n of t)if(n.path===""&&Ta(n)!==Zt){let r=new Ni([],{});i[Ta(n)]=r}return i}function Zle(t,e,i){return i.some(n=>dE(t,e,n)&&Ta(n)!==Zt)}function Jle(t,e,i){return i.some(n=>dE(t,e,n))}function dE(t,e,i){return(t.hasChildren()||e.length>0)&&i.pathMatch==="full"?!1:i.path===""}function ece(t,e,i,n){return Ta(t)!==n&&(n===Zt||!dE(e,i,t))?!1:aP(e,t,i).matched}function tce(t,e,i){return e.length===0&&!t.children[i]}var iP=class{};function ice(t,e,i,n,r,o,s="emptyOnly"){return new nP(t,e,i,n,r,s,o).recognize()}var nce=31,nP=class{constructor(e,i,n,r,o,s,a){this.injector=e,this.configLoader=i,this.rootComponentType=n,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new eP(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new an(4002,`'${e.segmentGroup}'`)}recognize(){let e=n2(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(jt(({children:i,rootSnapshot:n})=>{let r=new as(n,i),o=new rE("",r),s=lle(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let i=new Gm([],Object.freeze({}),Object.freeze(ee({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Zt,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Zt,i).pipe(jt(n=>({children:n,rootSnapshot:i})),Am(n=>{if(n instanceof qv)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof $v?this.noMatchError(n):n}))}processSegmentGroup(e,i,n,r,o){return n.segments.length===0&&n.hasChildren()?this.processChildren(e,i,n,o):this.processSegment(e,i,n,n.segments,r,!0,o).pipe(jt(s=>s instanceof as?[s]:[]))}processChildren(e,i,n,r){let o=[];for(let s of Object.keys(n.children))s==="primary"?o.unshift(s):o.push(s);return Lr(o).pipe(Ed(s=>{let a=n.children[s],l=Sle(i,s);return this.processSegmentGroup(e,l,a,s,r)}),Zj((s,a)=>(s.push(...a),s)),iO(null),Qj(),os(s=>{if(s===null)return Um(n);let a=M2(s);return rce(a),dt(a)}))}processSegment(e,i,n,r,o,s,a){return Lr(i).pipe(Ed(l=>this.processSegmentAgainstRoute(l._injector??e,i,l,n,r,o,s,a).pipe(Am(c=>{if(c instanceof $v)return dt(null);throw c}))),Td(l=>!!l),Am(l=>{if(I2(l))return tce(n,r,o)?dt(new iP):Um(n);throw l}))}processSegmentAgainstRoute(e,i,n,r,o,s,a,l){return ece(n,r,o,s)?n.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,n,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,i,n,o,s,l):Um(r):Um(r)}expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,a){let{matched:l,parameters:c,consumedSegments:d,positionalParamSegments:u,remainingSegments:f}=aP(i,r,o);if(!l)return Um(i);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>nce&&(this.allowRedirects=!1));let m=new Gm(o,c,Object.freeze(ee({},this.urlTree.queryParams)),this.urlTree.fragment,r2(r),Ta(r),r.component??r._loadedComponent??null,r,o2(r)),g=nE(m,a,this.paramsInheritanceStrategy);m.params=Object.freeze(g.params),m.data=Object.freeze(g.data);let _=this.applyRedirects.applyRedirectCommands(d,r.redirectTo,u,m,e);return this.applyRedirects.lineralizeSegments(r,_).pipe(os(b=>this.processSegment(e,n,i,b.concat(f),s,!1,a)))}matchSegmentAgainstRoute(e,i,n,r,o,s){let a=qle(i,n,r,e,this.urlSerializer);return n.path==="**"&&(i.children={}),a.pipe(ur(l=>l.matched?(e=n._injector??e,this.getChildConfig(e,n,r).pipe(ur(({routes:c})=>{let d=n._loadedInjector??e,{parameters:u,consumedSegments:f,remainingSegments:m}=l,g=new Gm(f,u,Object.freeze(ee({},this.urlTree.queryParams)),this.urlTree.fragment,r2(n),Ta(n),n.component??n._loadedComponent??null,n,o2(n)),_=nE(g,s,this.paramsInheritanceStrategy);g.params=Object.freeze(_.params),g.data=Object.freeze(_.data);let{segmentGroup:b,slicedSegments:y}=n2(i,f,m,c);if(y.length===0&&b.hasChildren())return this.processChildren(d,c,b,g).pipe(jt(T=>new as(g,T)));if(c.length===0&&y.length===0)return dt(new as(g,[]));let x=Ta(n)===o;return this.processSegment(d,c,b,y,x?Zt:o,!0,g).pipe(jt(T=>new as(g,T instanceof as?[T]:[])))}))):Um(i)))}getChildConfig(e,i,n){return i.children?dt({routes:i.children,injector:e}):i.loadChildren?i._loadedRoutes!==void 0?dt({routes:i._loadedRoutes,injector:i._loadedInjector}):zle(e,i,n,this.urlSerializer).pipe(os(r=>r?this.configLoader.loadChildren(e,i).pipe(hr(o=>{i._loadedRoutes=o.routes,i._loadedInjector=o.injector})):$le(i))):dt({routes:[],injector:e})}};function rce(t){t.sort((e,i)=>e.value.outlet===Zt?-1:i.value.outlet===Zt?1:e.value.outlet.localeCompare(i.value.outlet))}function oce(t){let e=t.value.routeConfig;return e&&e.path===""}function M2(t){let e=[],i=new Set;for(let n of t){if(!oce(n)){e.push(n);continue}let r=e.find(o=>n.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...n.children),i.add(r)):e.push(n)}for(let n of i){let r=M2(n.children);e.push(new as(n.value,r))}return e.filter(n=>!i.has(n))}function r2(t){return t.data||{}}function o2(t){return t.resolve||{}}function sce(t,e,i,n,r,o){return os(s=>ice(t,e,i,n,s.extractedUrl,r,o).pipe(jt(({state:a,tree:l})=>st(ee({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function ace(t,e){return os(i=>{let{targetSnapshot:n,guards:{canActivateChecks:r}}=i;if(!r.length)return dt(i);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of A2(l))s.add(c);let a=0;return Lr(s).pipe(Ed(l=>o.has(l)?lce(l,n,t,e):(l.data=nE(l,l.parent,t).resolve,dt(void 0))),hr(()=>a++),nO(1),os(l=>a===s.size?dt(i):Ps))})}function A2(t){let e=t.children.map(i=>A2(i)).flat();return[t,...e]}function lce(t,e,i,n){let r=t.routeConfig,o=t._resolve;return r?.title!==void 0&&!x2(r)&&(o[Kv]=r.title),cce(o,t,e,n).pipe(jt(s=>(t._resolvedData=s,t.data=nE(t,t.parent,i).resolve,null)))}function cce(t,e,i,n){let r=kO(t);if(r.length===0)return dt({});let o={};return Lr(r).pipe(os(s=>dce(t[s],e,i,n).pipe(Td(),hr(a=>{if(a instanceof Gv)throw oE(new Km,a);o[s]=a}))),nO(1),Xj(o),Am(s=>I2(s)?Ps:_v(s)))}function dce(t,e,i,n){let r=Zv(e)??n,o=ep(t,r),s=o.resolve?o.resolve(e,i):ks(r,()=>o(e,i));return kd(s)}function OO(t){return ur(e=>{let i=t(e);return i?Lr(i).pipe(jt(()=>e)):dt(e)})}var O2=(()=>{let e=class e{buildTitle(n){let r,o=n.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(s=>s.outlet===Zt);return r}getResolvedTitleForRoute(n){return n.data[Kv]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Re({token:e,factory:()=>pe(uce),providedIn:"root"});let t=e;return t})(),uce=(()=>{let e=class e extends O2{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(ce(QU))},e.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),e_=new we("",{providedIn:"root",factory:()=>({})}),aE=new we(""),lP=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=pe(Mx)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return dt(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=kd(n.loadComponent()).pipe(jt(P2),hr(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Dh(()=>{this.componentLoaders.delete(n)})),o=new _x(r,()=>new Be).pipe(JA());return this.componentLoaders.set(n,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return dt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=hce(r,this.compiler,n,this.onLoadEndListener).pipe(Dh(()=>{this.childrenLoaders.delete(r)})),a=new _x(s,()=>new Be).pipe(JA());return this.childrenLoaders.set(r,a),a}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function hce(t,e,i,n){return kd(t.loadChildren()).pipe(jt(P2),os(r=>r instanceof aU||Array.isArray(r)?dt(r):Lr(e.compileModuleAsync(r))),jt(r=>{n&&n(t);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(i).injector,s=o.get(aE,[],{optional:!0,self:!0}).flat()),{routes:s.map(sP),injector:o}}))}function fce(t){return t&&typeof t=="object"&&"default"in t}function P2(t){return fce(t)?t.default:t}var cP=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Re({token:e,factory:()=>pe(mce),providedIn:"root"});let t=e;return t})(),mce=(()=>{let e=class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),k2=new we(""),N2=new we("");function pce(t,e,i){let n=t.get(N2),r=t.get(Tt);return t.get(Ge).runOutsideAngular(()=>{if(!r.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,s=new Promise(c=>{o=c}),a=r.startViewTransition(()=>(o(),gce(t))),{onViewTransitionCreated:l}=n;return l&&ks(t,()=>l({transition:a,from:e,to:i})),s})}function gce(t){return new Promise(e=>{vo(e,{injector:t})})}var bce=new we(""),dP=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Be,this.transitionAbortSubject=new Be,this.configLoader=pe(lP),this.environmentInjector=pe(ll),this.urlSerializer=pe(Xv),this.rootContexts=pe(Qv),this.location=pe(wc),this.inputBindingEnabled=pe(cE,{optional:!0})!==null,this.titleStrategy=pe(O2),this.options=pe(e_,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=pe(cP),this.createViewTransition=pe(k2,{optional:!0}),this.navigationErrorHandler=pe(bce,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>dt(void 0),this.rootComponentType=null;let n=o=>this.events.next(new jO(o)),r=o=>this.events.next(new UO(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(st(ee(ee({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,o){return this.transitions=new Nr({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Vv,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ii(s=>s.id!==0),jt(s=>st(ee({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),ur(s=>{let a=!1,l=!1;return dt(s).pipe(ur(c=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",ls.SupersededByNewNavigation),Ps;this.currentTransition=s,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?st(ee({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=c.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!d&&u!=="reload"){let f="";return this.events.next(new Pd(c.id,this.urlSerializer.serialize(c.rawUrl),f,Zx.IgnoredSameUrlNavigation)),c.resolve(!1),Ps}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return dt(c).pipe(ur(f=>{let m=this.transitions?.getValue();return this.events.next(new Xm(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),m!==this.transitions?.getValue()?Ps:Promise.resolve(f)}),sce(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),hr(f=>{s.targetSnapshot=f.targetSnapshot,s.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=st(ee({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let m=new Jx(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(m)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:f,extractedUrl:m,source:g,restoredState:_,extras:b}=c,y=new Xm(f,this.urlSerializer.serialize(m),g,_);this.events.next(y);let x=C2(this.rootComponentType).snapshot;return this.currentTransition=s=st(ee({},c),{targetSnapshot:x,urlAfterRedirects:m,extras:st(ee({},b),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,dt(s)}else{let f="";return this.events.next(new Pd(c.id,this.urlSerializer.serialize(c.extractedUrl),f,Zx.IgnoredByUrlHandlingStrategy)),c.resolve(!1),Ps}}),hr(c=>{let d=new HO(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),jt(c=>(this.currentTransition=s=st(ee({},c),{guards:Ele(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),s)),Lle(this.environmentInjector,c=>this.events.next(c)),hr(c=>{if(s.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw oE(this.urlSerializer,c.guardsResult);let d=new VO(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(d)}),Ii(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",ls.GuardRejected),!1)),OO(c=>{if(c.guards.canActivateChecks.length)return dt(c).pipe(hr(d=>{let u=new BO(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(u)}),ur(d=>{let u=!1;return dt(d).pipe(ace(this.paramsInheritanceStrategy,this.environmentInjector),hr({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(d,"",ls.NoDataFromResolver)}}))}),hr(d=>{let u=new WO(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(u)}))}),OO(c=>{let d=u=>{let f=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(u.routeConfig).pipe(hr(m=>{u.component=m}),jt(()=>{})));for(let m of u.children)f.push(...d(m));return f};return Mm(d(c.targetSnapshot.root)).pipe(iO(null),Fr(1))}),OO(()=>this.afterPreactivation()),ur(()=>{let{currentSnapshot:c,targetSnapshot:d}=s,u=this.createViewTransition?.(this.environmentInjector,c.root,d.root);return u?Lr(u).pipe(jt(()=>s)):dt(s)}),jt(c=>{let d=ble(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s=st(ee({},c),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,s}),hr(()=>{this.events.next(new zv)}),xle(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Fr(1),hr({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new xc(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),Pi(this.transitionAbortSubject.pipe(hr(c=>{throw c}))),Dh(()=>{!a&&!l&&this.cancelNavigationTransition(s,"",ls.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Am(c=>{if(l=!0,T2(c))this.events.next(new Sc(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),yle(c)?this.events.next(new Qm(c.url,c.navigationBehaviorOptions)):s.resolve(!1);else{let d=new Uv(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0);try{let u=ks(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(u instanceof Gv){let{message:f,cancellationCode:m}=oE(this.urlSerializer,u);this.events.next(new Sc(s.id,this.urlSerializer.serialize(s.extractedUrl),f,m)),this.events.next(new Qm(u.redirectTo,u.navigationBehaviorOptions))}else{this.events.next(d);let f=n.errorHandler(c);s.resolve(!!f)}}catch(u){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(u)}}return Ps}))}))}cancelNavigationTransition(n,r,o){let s=new Sc(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function vce(t){return t!==Vv}var _ce=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Re({token:e,factory:()=>pe(yce),providedIn:"root"});let t=e;return t})(),rP=class{shouldDetach(e){return!1}store(e,i){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,i){return e.routeConfig===i.routeConfig}},yce=(()=>{let e=class e extends rP{};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=xa(e)))(o||e)}})(),e.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),L2=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Re({token:e,factory:()=>pe(wce),providedIn:"root"});let t=e;return t})(),wce=(()=>{let e=class e extends L2{constructor(){super(...arguments),this.location=pe(wc),this.urlSerializer=pe(Xv),this.options=pe(e_,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=pe(cP),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Od,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=C2(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Xm)this.stateMemento=this.createStateMemento();else if(n instanceof Pd)this.rawUrlTree=r.initialUrl;else if(n instanceof Jx){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(o,r)}}else n instanceof zv?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):n instanceof Sc&&(n.code===ls.GuardRejected||n.code===ls.NoDataFromResolver)?this.restoreHistory(r):n instanceof Uv?this.restoreHistory(r,!0):n instanceof xc&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let o=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){let s=this.browserPageId,a=ee(ee({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(o,"",a)}else{let s=ee(ee({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=xa(e)))(o||e)}})(),e.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Fv=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Fv||{});function F2(t,e){t.events.pipe(Ii(i=>i instanceof xc||i instanceof Sc||i instanceof Uv||i instanceof Pd),jt(i=>i instanceof xc||i instanceof Pd?Fv.COMPLETE:(i instanceof Sc?i.code===ls.Redirect||i.code===ls.SupersededByNewNavigation:!1)?Fv.REDIRECTING:Fv.FAILED),Ii(i=>i!==Fv.REDIRECTING),Fr(1)).subscribe(()=>{e()})}function Cce(t){throw t}var Sce={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xce={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ph=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=pe(Ix),this.stateManager=pe(L2),this.options=pe(e_,{optional:!0})||{},this.pendingTasks=pe(Cv),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=pe(dP),this.urlSerializer=pe(Xv),this.location=pe(wc),this.urlHandlingStrategy=pe(cP),this._events=new Be,this.errorHandler=this.options.errorHandler||Cce,this.navigated=!1,this.routeReuseStrategy=pe(_ce),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=pe(aE,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!pe(cE,{optional:!0}),this.eventsSubscription=new Ti,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof Sc&&r.code!==ls.Redirect&&r.code!==ls.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof xc)this.navigated=!0;else if(r instanceof Qm){let a=r.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),c=ee({info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||vce(o.source)},a);this.scheduleNavigation(l,Vv,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}Rce(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Vv,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let c=ee({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(s.state=c)}let l=this.parseUrl(n);this.scheduleNavigation(l,r,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(sP),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:c}=r,d=c?this.currentUrlTree.fragment:a,u=null;switch(l){case"merge":u=ee(ee({},this.currentUrlTree.queryParams),s);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}u!==null&&(u=this.removeEmptyProps(u));let f;try{let m=o?o.snapshot:this.routerState.snapshot.root;f=v2(m)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),f=this.currentUrlTree.root}return _2(f,n,u,d??null)}navigateByUrl(n,r={skipLocationChange:!1}){let o=Wv(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Vv,null,r)}navigate(n,r={skipLocationChange:!1}){return Ece(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let o;if(r===!0?o=ee({},Sce):r===!1?o=ee({},xce):o=r,Wv(n))return ZU(this.currentUrlTree,n,o);let s=this.parseUrl(n);return ZU(this.currentUrlTree,s,o)}removeEmptyProps(n){return Object.entries(n).reduce((r,[o,s])=>(s!=null&&(r[o]=s),r),{})}scheduleNavigation(n,r,o,s,a){if(this.disposed)return Promise.resolve(!1);let l,c,d;a?(l=a.resolve,c=a.reject,d=a.promise):d=new Promise((f,m)=>{l=f,c=m});let u=this.pendingTasks.add();return F2(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:l,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(f=>Promise.reject(f))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ece(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new an(4008,!1)}function Rce(t){return!(t instanceof zv)&&!(t instanceof Qm)}var lE=class{};var Tce=(()=>{let e=class e{constructor(n,r,o,s,a){this.router=n,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Ii(n=>n instanceof xc),Ed(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let o=[];for(let s of r){s.providers&&!s._injector&&(s._injector=lO(s.providers,n,`Route: ${s.path}`));let a=s._injector??n,l=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(l,s.children??s._loadedRoutes))}return Lr(o).pipe(eO())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let o;r.loadChildren&&r.canLoad===void 0?o=this.loader.loadChildren(n,r):o=dt(null);let s=o.pipe(os(a=>a===null?dt(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??n,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(r);return Lr([s,a]).pipe(eO())}else return s})}};e.\u0275fac=function(r){return new(r||e)(ce(Ph),ce(Mx),ce(ll),ce(lE),ce(lP))},e.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),H2=new we(""),Ice=(()=>{let e=class e{constructor(n,r,o,s,a={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=pe(ll),a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Xm?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof xc?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Pd&&n.code===Zx.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof eE&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>vv(this,null,function*(){yield new Promise(o=>{setTimeout(()=>{o()}),vo(()=>{o()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new eE(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(r){Id()},e.\u0275prov=Re({token:e,factory:e.\u0275fac});let t=e;return t})();function Dce(t){return t.routerState.root}function t_(t,e){return{\u0275kind:t,\u0275providers:e}}function Mce(){let t=pe(tn);return e=>{let i=t.get(Wm);if(e!==i.components[0])return;let n=t.get(Ph),r=t.get(V2);t.get(uP)===1&&n.initialNavigation(),t.get(B2,null,oO.Optional)?.setUpPreloading(),t.get(H2,null,oO.Optional)?.init(),n.resetRootComponentType(i.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var V2=new we("",{factory:()=>new Be}),uP=new we("",{providedIn:"root",factory:()=>1});function Ace(){return t_(2,[{provide:uP,useValue:0},{provide:cO,multi:!0,deps:[tn],useFactory:e=>{let i=e.get(CU,Promise.resolve());return()=>i.then(()=>new Promise(n=>{let r=e.get(Ph),o=e.get(V2);F2(r,()=>{n(!0)}),e.get(dP).afterPreactivation=()=>(n(!0),o.closed?dt(void 0):o),r.initialNavigation()}))}}])}function Oce(){return t_(3,[{provide:cO,multi:!0,useFactory:()=>{let e=pe(Ph);return()=>{e.setUpLocationChangeListener()}}},{provide:uP,useValue:2}])}var B2=new we("");function Pce(t){return t_(0,[{provide:B2,useExisting:Tce},{provide:lE,useExisting:t}])}function kce(){return t_(8,[i2,{provide:cE,useExisting:i2}])}function Nce(t){let e=[{provide:k2,useValue:pce},{provide:N2,useValue:ee({skipNextTransition:!!t?.skipInitialTransition},t)}];return t_(9,e)}var s2=new we("ROUTER_FORROOT_GUARD"),Lce=[wc,{provide:Xv,useClass:Km},Ph,Qv,{provide:Zm,useFactory:Dce,deps:[Ph]},lP,[]],W2=(()=>{let e=class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[Lce,[],{provide:aE,multi:!0,useValue:n},{provide:s2,useFactory:Bce,deps:[[Ph,new Mh,new Pm]]},{provide:e_,useValue:r||{}},r?.useHash?Hce():Vce(),Fce(),r?.preloadingStrategy?Pce(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?Wce(r):[],r?.bindToComponentInputs?kce().\u0275providers:[],r?.enableViewTransitions?Nce().\u0275providers:[],jce()]}}static forChild(n){return{ngModule:e,providers:[{provide:aE,multi:!0,useValue:n}]}}};e.\u0275fac=function(r){return new(r||e)(ce(s2,8))},e.\u0275mod=Xe({type:e}),e.\u0275inj=Ke({});let t=e;return t})();function Fce(){return{provide:H2,useFactory:()=>{let t=pe(TU),e=pe(Ge),i=pe(e_),n=pe(dP),r=pe(Xv);return i.scrollOffset&&t.setOffset(i.scrollOffset),new Ice(r,n,t,e,i)}}}function Hce(){return{provide:hO,useClass:xU}}function Vce(){return{provide:hO,useClass:SU}}function Bce(t){return"guarded"}function Wce(t){return[t.initialNavigation==="disabled"?Oce().\u0275providers:[],t.initialNavigation==="enabledBlocking"?Ace().\u0275providers:[]]}var a2=new we("");function jce(){return[{provide:a2,useFactory:Mce},{provide:dO,multi:!0,useExisting:a2}]}var fP;try{fP=typeof Intl<"u"&&Intl.v8BreakIterator}catch{fP=!1}var ri=(()=>{let e=class e{constructor(n){this._platformId=n,this.isBrowser=this._platformId?RU(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||fP)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};e.\u0275fac=function(r){return new(r||e)(ce(vc))},e.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var tp,j2=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function mP(){if(tp)return tp;if(typeof document!="object"||!document)return tp=new Set(j2),tp;let t=document.createElement("input");return tp=new Set(j2.filter(e=>(t.setAttribute("type",e),t.type===e))),tp}var i_;function Uce(){if(i_==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>i_=!0}))}finally{i_=i_||!1}return i_}function No(t){return Uce()?t:!!t.capture}var Ia=function(t){return t[t.NORMAL=0]="NORMAL",t[t.NEGATED=1]="NEGATED",t[t.INVERTED=2]="INVERTED",t}(Ia||{}),uE,kh;function hE(){if(kh==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return kh=!1,kh;if("scrollBehavior"in document.documentElement.style)kh=!0;else{let t=Element.prototype.scrollTo;t?kh=!/\{\s*\[native code\]\s*\}/.test(t.toString()):kh=!1}}return kh}function ip(){if(typeof document!="object"||!document)return Ia.NORMAL;if(uE==null){let t=document.createElement("div"),e=t.style;t.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";let i=document.createElement("div"),n=i.style;n.width="2px",n.height="1px",t.appendChild(i),document.body.appendChild(t),uE=Ia.NORMAL,t.scrollLeft===0&&(t.scrollLeft=1,uE=t.scrollLeft===0?Ia.NEGATED:Ia.INVERTED),t.remove()}return uE}var hP;function zce(){if(hP==null){let t=typeof document<"u"?document.head:null;hP=!!(t&&(t.createShadowRoot||t.attachShadow))}return hP}function U2(t){if(zce()){let e=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Nd(){let t=typeof document<"u"&&document?document.activeElement:null;for(;t&&t.shadowRoot;){let e=t.shadowRoot.activeElement;if(e===t)break;t=e}return t}function cs(t){return t.composedPath?t.composedPath()[0]:t.target}function n_(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Nn(t,...e){return e.length?e.some(i=>t[i]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}function Nh(t){return t!=null&&`${t}`!="false"}function Ld(t,e=0){return Yce(t)?Number(t):arguments.length===2?e:0}function Yce(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function np(t){return Array.isArray(t)?t:[t]}function Gn(t){return t==null?"":typeof t=="string"?t:`${t}px`}function Lo(t){return t instanceof Ze?t.nativeElement:t}function z2(t,e=/\s+/){let i=[];if(t!=null){let n=Array.isArray(t)?t:`${t}`.split(e);for(let r of n){let o=`${r}`.trim();o&&i.push(o)}}return i}function Gce(t){if(t.type==="characterData"&&t.target instanceof Comment)return!0;if(t.type==="childList"){for(let e=0;e<t.addedNodes.length;e++)if(!(t.addedNodes[e]instanceof Comment))return!1;for(let e=0;e<t.removedNodes.length;e++)if(!(t.removedNodes[e]instanceof Comment))return!1;return!0}return!1}var Y2=(()=>{let e=class e{create(n){return typeof MutationObserver>"u"?null:new MutationObserver(n)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),$ce=(()=>{let e=class e{constructor(n){this._mutationObserverFactory=n,this._observedElements=new Map,this._ngZone=pe(Ge)}ngOnDestroy(){this._observedElements.forEach((n,r)=>this._cleanupObserver(r))}observe(n){let r=Lo(n);return new go(o=>{let a=this._observeElement(r).pipe(jt(l=>l.filter(c=>!Gce(c))),Ii(l=>!!l.length)).subscribe(l=>{this._ngZone.run(()=>{o.next(l)})});return()=>{a.unsubscribe(),this._unobserveElement(r)}})}_observeElement(n){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(n))this._observedElements.get(n).count++;else{let r=new Be,o=this._mutationObserverFactory.create(s=>r.next(s));o&&o.observe(n,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(n,{observer:o,stream:r,count:1})}return this._observedElements.get(n).stream})}_unobserveElement(n){this._observedElements.has(n)&&(this._observedElements.get(n).count--,this._observedElements.get(n).count||this._cleanupObserver(n))}_cleanupObserver(n){if(this._observedElements.has(n)){let{observer:r,stream:o}=this._observedElements.get(n);r&&r.disconnect(),o.complete(),this._observedElements.delete(n)}}};e.\u0275fac=function(r){return new(r||e)(ce(Y2))},e.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),G2=(()=>{let e=class e{get disabled(){return this._disabled}set disabled(n){this._disabled=n,this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(n){this._debounce=Ld(n),this._subscribe()}constructor(n,r){this._contentObserver=n,this._elementRef=r,this.event=new Ie,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();let n=this._contentObserver.observe(this._elementRef);this._currentSubscription=(this.debounce?n.pipe(Rd(this.debounce)):n).subscribe(this.event)}_unsubscribe(){this._currentSubscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(L($ce),L(Ze))},e.\u0275dir=Qe({type:e,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",mt],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"],standalone:!0,features:[di]});let t=e;return t})(),fE=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Xe({type:e}),e.\u0275inj=Ke({providers:[Y2]});let t=e;return t})();var $2=new Set,Lh,qce=(()=>{let e=class e{constructor(n,r){this._platform=n,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Xce}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&Kce(n,this._nonce),this._matchMedia(n)}};e.\u0275fac=function(r){return new(r||e)(ce(ri),ce(xv,8))},e.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Kce(t,e){if(!$2.has(t))try{Lh||(Lh=document.createElement("style"),e&&Lh.setAttribute("nonce",e),Lh.setAttribute("type","text/css"),document.head.appendChild(Lh)),Lh.sheet&&(Lh.sheet.insertRule(`@media ${t} {body{ }}`,0),$2.add(t))}catch(i){console.error(i)}}function Xce(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var K2=(()=>{let e=class e{constructor(n,r){this._mediaMatcher=n,this._zone=r,this._queries=new Map,this._destroySubject=new Be}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return q2(np(n)).some(o=>this._registerQuery(o).mql.matches)}observe(n){let o=q2(np(n)).map(a=>this._registerQuery(a).observable),s=Mm(o);return s=yx(s.pipe(Fr(1)),s.pipe(Om(1),Rd(0))),s.pipe(jt(a=>{let l={matches:!1,breakpoints:{}};return a.forEach(({matches:c,query:d})=>{l.matches=l.matches||c,l.breakpoints[d]=c}),l}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);let r=this._mediaMatcher.matchMedia(n),s={observable:new go(a=>{let l=c=>this._zone.run(()=>a.next(c));return r.addListener(l),()=>{r.removeListener(l)}}).pipe(ir(r),jt(({matches:a})=>({query:n,matches:a})),Pi(this._destroySubject)),mql:r};return this._queries.set(n,s),s}};e.\u0275fac=function(r){return new(r||e)(ce(qce),ce(Ge))},e.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function q2(t){return t.map(e=>e.split(",")).reduce((e,i)=>e.concat(i)).map(e=>e.trim())}var J2=" ";function ez(t,e,i){let n=tz(t,e);i=i.trim(),!n.some(r=>r.trim()===i)&&(n.push(i),t.setAttribute(e,n.join(J2)))}function _P(t,e,i){let n=tz(t,e);i=i.trim();let r=n.filter(o=>o!==i);r.length?t.setAttribute(e,r.join(J2)):t.removeAttribute(e)}function tz(t,e){return t.getAttribute(e)?.match(/\S+/g)??[]}var sde=200,gP=class{constructor(e,i){this._letterKeyStream=new Be,this._items=[],this._selectedItemIndex=-1,this._pressedLetters=[],this._selectedItem=new Be,this.selectedItem=this._selectedItem;let n=typeof i?.debounceInterval=="number"?i.debounceInterval:sde;i?.skipPredicate&&(this._skipPredicateFn=i.skipPredicate),this.setItems(e),this._setupKeyHandler(n)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(e){this._selectedItemIndex=e}setItems(e){this._items=e}handleKey(e){let i=e.keyCode;e.key&&e.key.length===1?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(i>=65&&i<=90||i>=48&&i<=57)&&this._letterKeyStream.next(String.fromCharCode(i))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(e){this._letterKeyStream.pipe(hr(i=>this._pressedLetters.push(i)),Rd(e),Ii(()=>this._pressedLetters.length>0),jt(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(i=>{for(let n=1;n<this._items.length+1;n++){let r=(this._selectedItemIndex+n)%this._items.length,o=this._items[r];if(!this._skipPredicateFn?.(o)&&o.getLabel?.().toLocaleUpperCase().trim().indexOf(i)===0){this._selectedItem.next(o);break}}this._pressedLetters=[]})}},gE=class{constructor(e,i){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._typeaheadSubscription=Ti.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=n=>n.disabled,this.tabOut=new Be,this.change=new Be,e instanceof Sv?this._itemChangesSubscription=e.changes.subscribe(n=>this._itemsChanged(n.toArray())):aO(e)&&(this._effectRef=vU(()=>this._itemsChanged(e()),{injector:i}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){this._typeaheadSubscription.unsubscribe();let i=this._getItemsArray();return this._typeahead=new gP(i,{debounceInterval:typeof e=="number"?e:void 0,skipPredicate:n=>this._skipPredicateFn(n)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(n=>{this.setActiveItem(n)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,i=10){return this._pageUpAndDown={enabled:e,delta:i},this}setActiveItem(e){let i=this._activeItem;this.updateActiveItem(e),this._activeItem!==i&&this.change.next(this._activeItemIndex)}onKeydown(e){let i=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!e[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(i){case 9:this.tabOut.next();return;case 40:if(this._vertical&&r){this.setNextItemActive();break}else return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&r){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&r){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}else return;default:(r||Nn(e,"shiftKey"))&&this._typeahead?.handleKey(e);return}this._typeahead?.reset(),e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){let i=this._getItemsArray(),n=typeof e=="number"?e:i.indexOf(e),r=i[n];this._activeItem=r??null,this._activeItemIndex=n,this._typeahead?.setCurrentSelectedItemIndex(n)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){let i=this._getItemsArray();for(let n=1;n<=i.length;n++){let r=(this._activeItemIndex+e*n+i.length)%i.length,o=i[r];if(!this._skipPredicateFn(o)){this.setActiveItem(r);return}}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,i){let n=this._getItemsArray();if(n[e]){for(;this._skipPredicateFn(n[e]);)if(e+=i,!n[e])return;this.setActiveItem(e)}}_getItemsArray(){return aO(this._items)?this._items():this._items instanceof Sv?this._items.toArray():this._items}_itemsChanged(e){if(this._typeahead?.setItems(e),this._activeItem){let i=e.indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i,this._typeahead?.setCurrentSelectedItemIndex(i))}}},bE=class extends gE{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}},vE=class extends gE{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}};var s_=(()=>{let e=class e{constructor(n){this._platform=n}isDisabled(n){return n.hasAttribute("disabled")}isVisible(n){return lde(n)&&getComputedStyle(n).visibility==="visible"}isTabbable(n){if(!this._platform.isBrowser)return!1;let r=ade(gde(n));if(r&&(X2(r)===-1||!this.isVisible(r)))return!1;let o=n.nodeName.toLowerCase(),s=X2(n);return n.hasAttribute("contenteditable")?s!==-1:o==="iframe"||o==="object"||this._platform.WEBKIT&&this._platform.IOS&&!mde(n)?!1:o==="audio"?n.hasAttribute("controls")?s!==-1:!1:o==="video"?s===-1?!1:s!==null?!0:this._platform.FIREFOX||n.hasAttribute("controls"):n.tabIndex>=0}isFocusable(n,r){return pde(n)&&!this.isDisabled(n)&&(r?.ignoreVisibility||this.isVisible(n))}};e.\u0275fac=function(r){return new(r||e)(ce(ri))},e.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ade(t){try{return t.frameElement}catch{return null}}function lde(t){return!!(t.offsetWidth||t.offsetHeight||typeof t.getClientRects=="function"&&t.getClientRects().length)}function cde(t){let e=t.nodeName.toLowerCase();return e==="input"||e==="select"||e==="button"||e==="textarea"}function dde(t){return hde(t)&&t.type=="hidden"}function ude(t){return fde(t)&&t.hasAttribute("href")}function hde(t){return t.nodeName.toLowerCase()=="input"}function fde(t){return t.nodeName.toLowerCase()=="a"}function iz(t){if(!t.hasAttribute("tabindex")||t.tabIndex===void 0)return!1;let e=t.getAttribute("tabindex");return!!(e&&!isNaN(parseInt(e,10)))}function X2(t){if(!iz(t))return null;let e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function mde(t){let e=t.nodeName.toLowerCase(),i=e==="input"&&t.type;return i==="text"||i==="password"||e==="select"||e==="textarea"}function pde(t){return dde(t)?!1:cde(t)||ude(t)||t.hasAttribute("contenteditable")||iz(t)}function gde(t){return t.ownerDocument&&t.ownerDocument.defaultView||window}var bP=class{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,i,n,r,o=!1,s){this._element=e,this._checker=i,this._ngZone=n,this._document=r,this._injector=s,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){let e=this._startAnchor,i=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),i&&(i.removeEventListener("focus",this.endAnchorListener),i.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(i=>{this._executeOnStable(()=>i(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(i=>{this._executeOnStable(()=>i(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(i=>{this._executeOnStable(()=>i(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){let i=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return e=="start"?i.length?i[0]:this._getFirstTabbableElement(this._element):i.length?i[i.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){let i=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(i){if(!this._checker.isFocusable(i)){let n=this._getFirstTabbableElement(i);return n?.focus(e),!!n}return i.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){let i=this._getRegionBoundary("start");return i&&i.focus(e),!!i}focusLastTabbableElement(e){let i=this._getRegionBoundary("end");return i&&i.focus(e),!!i}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let i=e.children;for(let n=0;n<i.length;n++){let r=i[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(i[n]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let i=e.children;for(let n=i.length-1;n>=0;n--){let r=i[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(i[n]):null;if(r)return r}return null}_createAnchor(){let e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,i){e?i.setAttribute("tabindex","0"):i.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._injector?vo(e,{injector:this._injector}):setTimeout(e)}},a_=(()=>{let e=class e{constructor(n,r,o){this._checker=n,this._ngZone=r,this._injector=pe(tn),this._document=o}create(n,r=!1){return new bP(n,this._checker,this._ngZone,this._document,r,this._injector)}};e.\u0275fac=function(r){return new(r||e)(ce(s_),ce(Ge),ce(Tt))},e.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),nz=(()=>{let e=class e{get enabled(){return this.focusTrap?.enabled||!1}set enabled(n){this.focusTrap&&(this.focusTrap.enabled=n)}constructor(n,r,o){this._elementRef=n,this._focusTrapFactory=r,this._previouslyFocusedElement=null,pe(ri).isBrowser&&(this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0))}ngOnDestroy(){this.focusTrap?.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap?.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap&&!this.focusTrap.hasAttached()&&this.focusTrap.attachAnchors()}ngOnChanges(n){let r=n.autoCapture;r&&!r.firstChange&&this.autoCapture&&this.focusTrap?.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=Nd(),this.focusTrap?.focusInitialElementWhenReady()}};e.\u0275fac=function(r){return new(r||e)(L(Ze),L(a_),L(Tt))},e.\u0275dir=Qe({type:e,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:[2,"cdkTrapFocus","enabled",mt],autoCapture:[2,"cdkTrapFocusAutoCapture","autoCapture",mt]},exportAs:["cdkTrapFocus"],standalone:!0,features:[di,li]});let t=e;return t})();function yP(t){return t.buttons===0||t.detail===0}function wP(t){let e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var bde=new we("cdk-input-modality-detector-options"),vde={ignoreKeys:[18,17,224,91,16]},rz=650,rp=No({passive:!0,capture:!0}),_de=(()=>{let e=class e{get mostRecentModality(){return this._modality.value}constructor(n,r,o,s){this._platform=n,this._mostRecentTarget=null,this._modality=new Nr(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(l=>l===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=cs(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<rz||(this._modality.next(yP(a)?"keyboard":"mouse"),this._mostRecentTarget=cs(a))},this._onTouchstart=a=>{if(wP(a)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=cs(a)},this._options=ee(ee({},vde),s),this.modalityDetected=this._modality.pipe(Om(1)),this.modalityChanged=this.modalityDetected.pipe(Ih()),n.isBrowser&&r.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,rp),o.addEventListener("mousedown",this._onMousedown,rp),o.addEventListener("touchstart",this._onTouchstart,rp)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,rp),document.removeEventListener("mousedown",this._onMousedown,rp),document.removeEventListener("touchstart",this._onTouchstart,rp))}};e.\u0275fac=function(r){return new(r||e)(ce(ri),ce(Ge),ce(Tt),ce(bde,8))},e.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),yde=new we("liveAnnouncerElement",{providedIn:"root",factory:wde});function wde(){return null}var Cde=new we("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),Sde=0,_E=(()=>{let e=class e{constructor(n,r,o,s){this._ngZone=r,this._defaultOptions=s,this._document=o,this._liveElement=n||this._createLiveElement()}announce(n,...r){let o=this._defaultOptions,s,a;return r.length===1&&typeof r[0]=="number"?a=r[0]:[s,a]=r,this.clear(),clearTimeout(this._previousTimeout),s||(s=o&&o.politeness?o.politeness:"polite"),a==null&&o&&(a=o.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(l=>this._currentResolve=l)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=n,typeof a=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),a)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let n="cdk-live-announcer-element",r=this._document.getElementsByClassName(n),o=this._document.createElement("div");for(let s=0;s<r.length;s++)r[s].remove();return o.classList.add(n),o.classList.add("cdk-visually-hidden"),o.setAttribute("aria-atomic","true"),o.setAttribute("aria-live","polite"),o.id=`cdk-live-announcer-${Sde++}`,this._document.body.appendChild(o),o}_exposeAnnouncerToModals(n){let r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let o=0;o<r.length;o++){let s=r[o],a=s.getAttribute("aria-owns");a?a.indexOf(n)===-1&&s.setAttribute("aria-owns",a+" "+n):s.setAttribute("aria-owns",n)}}};e.\u0275fac=function(r){return new(r||e)(ce(yde,8),ce(Ge),ce(Tt),ce(Cde,8))},e.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var pE=function(t){return t[t.IMMEDIATE=0]="IMMEDIATE",t[t.EVENTUAL=1]="EVENTUAL",t}(pE||{}),xde=new we("cdk-focus-monitor-default-options"),mE=No({passive:!0,capture:!0}),Hh=(()=>{let e=class e{constructor(n,r,o,s,a){this._ngZone=n,this._platform=r,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Be,this._rootNodeFocusAndBlurListener=l=>{let c=cs(l);for(let d=c;d;d=d.parentElement)l.type==="focus"?this._onFocus(l,d):this._onBlur(l,d)},this._document=s,this._detectionMode=a?.detectionMode||pE.IMMEDIATE}monitor(n,r=!1){let o=Lo(n);if(!this._platform.isBrowser||o.nodeType!==1)return dt();let s=U2(o)||this._getDocument(),a=this._elementInfo.get(o);if(a)return r&&(a.checkChildren=!0),a.subject;let l={checkChildren:r,subject:new Be,rootNode:s};return this._elementInfo.set(o,l),this._registerGlobalListeners(l),l.subject}stopMonitoring(n){let r=Lo(n),o=this._elementInfo.get(r);o&&(o.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(o))}focusVia(n,r,o){let s=Lo(n),a=this._getDocument().activeElement;s===a?this._getClosestElementsInfo(s).forEach(([l,c])=>this._originChanged(l,r,c)):(this._setOrigin(r),typeof s.focus=="function"&&s.focus(o))}ngOnDestroy(){this._elementInfo.forEach((n,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(n){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(n)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:n&&this._isLastInteractionFromInputLabel(n)?"mouse":"program"}_shouldBeAttributedToTouch(n){return this._detectionMode===pE.EVENTUAL||!!n?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(n,r){n.classList.toggle("cdk-focused",!!r),n.classList.toggle("cdk-touch-focused",r==="touch"),n.classList.toggle("cdk-keyboard-focused",r==="keyboard"),n.classList.toggle("cdk-mouse-focused",r==="mouse"),n.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(n,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=n,this._originFromTouchInteraction=n==="touch"&&r,this._detectionMode===pE.IMMEDIATE){clearTimeout(this._originTimeoutId);let o=this._originFromTouchInteraction?rz:1;this._originTimeoutId=setTimeout(()=>this._origin=null,o)}})}_onFocus(n,r){let o=this._elementInfo.get(r),s=cs(n);!o||!o.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),o)}_onBlur(n,r){let o=this._elementInfo.get(r);!o||o.checkChildren&&n.relatedTarget instanceof Node&&r.contains(n.relatedTarget)||(this._setClasses(r),this._emitOrigin(o,null))}_emitOrigin(n,r){n.subject.observers.length&&this._ngZone.run(()=>n.subject.next(r))}_registerGlobalListeners(n){if(!this._platform.isBrowser)return;let r=n.rootNode,o=this._rootNodeFocusListenerCount.get(r)||0;o||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,mE),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,mE)}),this._rootNodeFocusListenerCount.set(r,o+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Pi(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(n){let r=n.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let o=this._rootNodeFocusListenerCount.get(r);o>1?this._rootNodeFocusListenerCount.set(r,o-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,mE),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,mE),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(n,r,o){this._setClasses(n,r),this._emitOrigin(o,r),this._lastFocusOrigin=r}_getClosestElementsInfo(n){let r=[];return this._elementInfo.forEach((o,s)=>{(s===n||o.checkChildren&&s.contains(n))&&r.push([s,o])}),r}_isLastInteractionFromInputLabel(n){let{_mostRecentTarget:r,mostRecentModality:o}=this._inputModalityDetector;if(o!=="mouse"||!r||r===n||n.nodeName!=="INPUT"&&n.nodeName!=="TEXTAREA"||n.disabled)return!1;let s=n.labels;if(s){for(let a=0;a<s.length;a++)if(s[a].contains(r))return!0}return!1}};e.\u0275fac=function(r){return new(r||e)(ce(Ge),ce(ri),ce(_de),ce(Tt,8),ce(xde,8))},e.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),yE=(()=>{let e=class e{constructor(n,r){this._elementRef=n,this._focusMonitor=r,this._focusOrigin=null,this.cdkFocusChange=new Ie}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){let n=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(n,n.nodeType===1&&n.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(r=>{this._focusOrigin=r,this.cdkFocusChange.emit(r)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(L(Ze),L(Hh))},e.\u0275dir=Qe({type:e,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"],standalone:!0});let t=e;return t})(),Fh=function(t){return t[t.NONE=0]="NONE",t[t.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",t[t.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",t}(Fh||{}),Q2="cdk-high-contrast-black-on-white",Z2="cdk-high-contrast-white-on-black",pP="cdk-high-contrast-active",CP=(()=>{let e=class e{constructor(n,r){this._platform=n,this._document=r,this._breakpointSubscription=pe(K2).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Fh.NONE;let n=this._document.createElement("div");n.style.backgroundColor="rgb(1,2,3)",n.style.position="absolute",this._document.body.appendChild(n);let r=this._document.defaultView||window,o=r&&r.getComputedStyle?r.getComputedStyle(n):null,s=(o&&o.backgroundColor||"").replace(/ /g,"");switch(n.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Fh.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Fh.BLACK_ON_WHITE}return Fh.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let n=this._document.body.classList;n.remove(pP,Q2,Z2),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===Fh.BLACK_ON_WHITE?n.add(pP,Q2):r===Fh.WHITE_ON_BLACK&&n.add(pP,Z2)}}};e.\u0275fac=function(r){return new(r||e)(ce(ri),ce(Tt))},e.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),oz=(()=>{let e=class e{constructor(n){n._applyBodyHighContrastModeCssClasses()}};e.\u0275fac=function(r){return new(r||e)(ce(CP))},e.\u0275mod=Xe({type:e}),e.\u0275inj=Ke({imports:[fE]});let t=e;return t})();var Ede=new we("cdk-dir-doc",{providedIn:"root",factory:Rde});function Rde(){return pe(Tt)}var Tde=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function Ide(t){let e=t?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?Tde.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var $n=(()=>{let e=class e{constructor(n){if(this.value="ltr",this.change=new Ie,n){let r=n.body?n.body.dir:null,o=n.documentElement?n.documentElement.dir:null;this.value=Ide(r||o||"ltr")}}ngOnDestroy(){this.change.complete()}};e.\u0275fac=function(r){return new(r||e)(ce(Ede,8))},e.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Vd=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Xe({type:e}),e.\u0275inj=Ke({});let t=e;return t})();var Dde=["text"],Mde=[[["mat-icon"]],"*"],Ade=["mat-icon","*"];function Ode(t,e){if(t&1&&ze(0,"mat-pseudo-checkbox",1),t&2){let i=at();Te("disabled",i.disabled)("state",i.selected?"checked":"unchecked")}}function Pde(t,e){if(t&1&&ze(0,"mat-pseudo-checkbox",3),t&2){let i=at();Te("disabled",i.disabled)}}function kde(t,e){if(t&1&&(ie(0,"span",4),ht(1),oe()),t&2){let i=at();ue(),dl("(",i.group.label,")")}}var Nde=["mat-internal-form-field",""],Lde=["*"];var mz=(()=>{let e=class e{};e.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",e.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",e.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",e.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)";let t=e;return t})(),pz=(()=>{let e=class e{};e.COMPLEX="375ms",e.ENTERING="225ms",e.EXITING="195ms";let t=e;return t})();function Fde(){return!0}var Hde=new we("mat-sanity-checks",{providedIn:"root",factory:Fde}),Ft=(()=>{let e=class e{constructor(n,r,o){this._sanityChecks=r,this._document=o,this._hasDoneGlobalChecks=!1,n._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(n){return n_()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[n]}};e.\u0275fac=function(r){return new(r||e)(ce(CP),ce(Hde,8),ce(Tt))},e.\u0275mod=Xe({type:e}),e.\u0275inj=Ke({imports:[Vd,Vd]});let t=e;return t})();var Vh=class{constructor(e,i,n,r,o){this._defaultMatcher=e,this.ngControl=i,this._parentFormGroup=n,this._parentForm=r,this._stateChanges=o,this.errorState=!1}updateErrorState(){let e=this.errorState,i=this._parentFormGroup||this._parentForm,n=this.matcher||this._defaultMatcher,r=this.ngControl?this.ngControl.control:null,o=n?.isErrorState(r,i)??!1;o!==e&&(this.errorState=o,this._stateChanges.next())}};var IP=new we("MAT_DATE_LOCALE",{providedIn:"root",factory:Vde});function Vde(){return pe(pU)}var wr=class{constructor(){this._localeChanges=new Be,this.localeChanges=this._localeChanges}getValidDateOrNull(e){return this.isDateInstance(e)&&this.isValid(e)?e:null}deserialize(e){return e==null||this.isDateInstance(e)&&this.isValid(e)?e:this.invalid()}setLocale(e){this.locale=e,this._localeChanges.next()}compareDate(e,i){return this.getYear(e)-this.getYear(i)||this.getMonth(e)-this.getMonth(i)||this.getDate(e)-this.getDate(i)}sameDate(e,i){if(e&&i){let n=this.isValid(e),r=this.isValid(i);return n&&r?!this.compareDate(e,i):n==r}return e==i}clampDate(e,i,n){return i&&this.compareDate(e,i)<0?i:n&&this.compareDate(e,n)>0?n:e}},Ec=new we("mat-date-formats");var d_=(()=>{let e=class e{isErrorState(n,r){return!!(n&&n.invalid&&(n.touched||r&&r.submitted))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var DP=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Xe({type:e}),e.\u0275inj=Ke({imports:[Ft,Ft]});let t=e;return t})(),Fs=function(t){return t[t.FADING_IN=0]="FADING_IN",t[t.VISIBLE=1]="VISIBLE",t[t.FADING_OUT=2]="FADING_OUT",t[t.HIDDEN=3]="HIDDEN",t}(Fs||{}),EP=class{constructor(e,i,n,r=!1){this._renderer=e,this.element=i,this.config=n,this._animationForciblyDisabledThroughCss=r,this.state=Fs.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},sz=No({passive:!0,capture:!0}),RP=class{constructor(){this._events=new Map,this._delegateEventHandler=e=>{let i=cs(e);i&&this._events.get(e.type)?.forEach((n,r)=>{(r===i||r.contains(i))&&n.forEach(o=>o.handleEvent(e))})}}addHandler(e,i,n,r){let o=this._events.get(i);if(o){let s=o.get(n);s?s.add(r):o.set(n,new Set([r]))}else this._events.set(i,new Map([[n,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(i,this._delegateEventHandler,sz)})}removeHandler(e,i,n){let r=this._events.get(e);if(!r)return;let o=r.get(i);o&&(o.delete(n),o.size===0&&r.delete(i),r.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,sz)))}},az={enterDuration:225,exitDuration:150},Bde=800,lz=No({passive:!0,capture:!0}),cz=["mousedown","touchstart"],dz=["mouseup","mouseleave","touchend","touchcancel"],c_=class c_{constructor(e,i,n,r){this._target=e,this._ngZone=i,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Lo(n))}fadeInRipple(e,i,n={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=ee(ee({},az),n.animation);n.centered&&(e=r.left+r.width/2,i=r.top+r.height/2);let s=n.radius||Wde(e,i,r),a=e-r.left,l=i-r.top,c=o.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=`${a-s}px`,d.style.top=`${l-s}px`,d.style.height=`${s*2}px`,d.style.width=`${s*2}px`,n.color!=null&&(d.style.backgroundColor=n.color),d.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(d);let u=window.getComputedStyle(d),f=u.transitionProperty,m=u.transitionDuration,g=f==="none"||m==="0s"||m==="0s, 0s"||r.width===0&&r.height===0,_=new EP(this,d,n,g);d.style.transform="scale3d(1, 1, 1)",_.state=Fs.FADING_IN,n.persistent||(this._mostRecentTransientRipple=_);let b=null;return!g&&(c||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let y=()=>{b&&(b.fallbackTimer=null),clearTimeout(T),this._finishRippleTransition(_)},x=()=>this._destroyRipple(_),T=setTimeout(x,c+100);d.addEventListener("transitionend",y),d.addEventListener("transitioncancel",x),b={onTransitionEnd:y,onTransitionCancel:x,fallbackTimer:T}}),this._activeRipples.set(_,b),(g||!c)&&this._finishRippleTransition(_),_}fadeOutRipple(e){if(e.state===Fs.FADING_OUT||e.state===Fs.HIDDEN)return;let i=e.element,n=ee(ee({},az),e.config.animation);i.style.transitionDuration=`${n.exitDuration}ms`,i.style.opacity="0",e.state=Fs.FADING_OUT,(e._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let i=Lo(e);!this._platform.isBrowser||!i||i===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=i,cz.forEach(n=>{c_._eventManager.addHandler(this._ngZone,n,i,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{dz.forEach(i=>{this._triggerElement.addEventListener(i,this,lz)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===Fs.FADING_IN?this._startFadeOutTransition(e):e.state===Fs.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let i=e===this._mostRecentTransientRipple,{persistent:n}=e.config;e.state=Fs.VISIBLE,!n&&(!i||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let i=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=Fs.HIDDEN,i!==null&&(e.element.removeEventListener("transitionend",i.onTransitionEnd),e.element.removeEventListener("transitioncancel",i.onTransitionCancel),i.fallbackTimer!==null&&clearTimeout(i.fallbackTimer)),e.element.remove()}_onMousedown(e){let i=yP(e),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+Bde;!this._target.rippleDisabled&&!i&&!n&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!wP(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let i=e.changedTouches;if(i)for(let n=0;n<i.length;n++)this.fadeInRipple(i[n].clientX,i[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let i=e.state===Fs.VISIBLE||e.config.terminateOnPointerUp&&e.state===Fs.FADING_IN;!e.config.persistent&&i&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(cz.forEach(i=>c_._eventManager.removeHandler(i,e,this)),this._pointerUpEventsRegistered&&(dz.forEach(i=>e.removeEventListener(i,this,lz)),this._pointerUpEventsRegistered=!1))}};c_._eventManager=new RP;var TP=c_;function Wde(t,e,i){let n=Math.max(Math.abs(t-i.left),Math.abs(t-i.right)),r=Math.max(Math.abs(e-i.top),Math.abs(e-i.bottom));return Math.sqrt(n*n+r*r)}var MP=new we("mat-ripple-global-options"),Bd=(()=>{let e=class e{get disabled(){return this._disabled}set disabled(n){n&&this.fadeOutAllNonPersistent(),this._disabled=n,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(n){this._trigger=n,this._setupTriggerEventsIfEnabled()}constructor(n,r,o,s,a){this._elementRef=n,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new TP(this,r,n,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:ee(ee(ee({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(n,r=0,o){return typeof n=="number"?this._rippleRenderer.fadeInRipple(n,r,ee(ee({},this.rippleConfig),o)):this._rippleRenderer.fadeInRipple(0,0,ee(ee({},this.rippleConfig),n))}};e.\u0275fac=function(r){return new(r||e)(L(Ze),L(Ge),L(ri),L(MP,8),L(yn,8))},e.\u0275dir=Qe({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,o){r&2&&Ct("mat-ripple-unbounded",o.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0});let t=e;return t})(),AP=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Xe({type:e}),e.\u0275inj=Ke({imports:[Ft,Ft]});let t=e;return t})(),jde=(()=>{let e=class e{constructor(n){this._animationMode=n,this.state="unchecked",this.disabled=!1,this.appearance="full"}};e.\u0275fac=function(r){return new(r||e)(L(yn,8))},e.\u0275cmp=ut({type:e,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(r,o){r&2&&Ct("mat-pseudo-checkbox-indeterminate",o.state==="indeterminate")("mat-pseudo-checkbox-checked",o.state==="checked")("mat-pseudo-checkbox-disabled",o.disabled)("mat-pseudo-checkbox-minimal",o.appearance==="minimal")("mat-pseudo-checkbox-full",o.appearance==="full")("_mat-animation-noopable",o._animationMode==="NoopAnimations")},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[vt],decls:0,vars:0,template:function(r,o){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color, var(--mat-app-primary))}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color, var(--mat-app-on-surface-variant));border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color, var(--mat-app-primary));border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0});let t=e;return t})(),Ude=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Xe({type:e}),e.\u0275inj=Ke({imports:[Ft]});let t=e;return t})(),SE=new we("MAT_OPTION_PARENT_COMPONENT");var xE=new we("MatOptgroup");var zde=0,CE=class{constructor(e,i=!1){this.source=e,this.isUserInput=i}},u_=(()=>{let e=class e{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(n){this._disabled=n}get disableRipple(){return!!(this._parent&&this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!!(this._parent&&this._parent.hideSingleSelectionIndicator)}constructor(n,r,o,s){this._element=n,this._changeDetectorRef=r,this._parent=o,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id=`mat-option-${zde++}`,this.onSelectionChange=new Ie,this._stateChanges=new Be}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(n=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),n&&this._emitSelectionChangeEvent())}deselect(n=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),n&&this._emitSelectionChangeEvent())}focus(n,r){let o=this._getHostElement();typeof o.focus=="function"&&o.focus(r)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(n){(n.keyCode===13||n.keyCode===32)&&!Nn(n)&&(this._selectViaInteraction(),n.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=this.multiple?!this._selected:!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){let n=this.viewValue;n!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=n)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(n=!1){this.onSelectionChange.emit(new CE(this,n))}};e.\u0275fac=function(r){return new(r||e)(L(Ze),L(vi),L(SE,8),L(xE,8))},e.\u0275cmp=ut({type:e,selectors:[["mat-option"]],viewQuery:function(r,o){if(r&1&&It(Dde,7),r&2){let s;Je(s=et())&&(o._text=s.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(r,o){r&1&&St("click",function(){return o._selectViaInteraction()})("keydown",function(a){return o._handleKeydown(a)}),r&2&&(Ns("id",o.id),Rt("aria-selected",o.selected)("aria-disabled",o.disabled.toString()),Ct("mdc-list-item--selected",o.selected)("mat-mdc-option-multiple",o.multiple)("mat-mdc-option-active",o.active)("mdc-list-item--disabled",o.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",mt]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],standalone:!0,features:[di,vt],ngContentSelectors:Ade,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(r,o){r&1&&(Di(Mde),Et(0,Ode,1,2,"mat-pseudo-checkbox",1),Pt(1),ie(2,"span",2,0),Pt(4,1),oe(),Et(5,Pde,1,1,"mat-pseudo-checkbox",3)(6,kde,2,1,"span",4),ze(7,"div",5)),r&2&&(xi(o.multiple?0:-1),ue(5),xi(!o.multiple&&o.selected&&!o.hideSingleSelectionIndicator?5:-1),ue(),xi(o.group&&o.group._inert?6:-1),ue(),Te("matRippleTrigger",o._getHostElement())("matRippleDisabled",o.disabled||o.disableRipple))},dependencies:[jde,Bd],styles:['.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-option-label-text-font, var(--mat-app-label-large-font));line-height:var(--mat-option-label-text-line-height, var(--mat-app-label-large-line-height));font-size:var(--mat-option-label-text-size, var(--mat-app-body-large-size));letter-spacing:var(--mat-option-label-text-tracking, var(--mat-app-label-large-tracking));font-weight:var(--mat-option-label-text-weight, var(--mat-app-body-large-weight))}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color);outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color, var(--mat-app-on-secondary-container))}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color, var(--mat-app-secondary-container))}.mat-mdc-option .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-option-selected-state-label-text-color, var(--mat-app-on-secondary-container))}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0});let t=e;return t})();function OP(t,e,i){if(i.length){let n=e.toArray(),r=i.toArray(),o=0;for(let s=0;s<t+1;s++)n[s].group&&n[s].group===r[o]&&o++;return o}return 0}function PP(t,e,i,n){return t<i?t:t+e>i+n?Math.max(0,t-n+e):i}var lp=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Xe({type:e}),e.\u0275inj=Ke({imports:[AP,Ft,Ude]});let t=e;return t})(),uz={capture:!0},hz=["focus","mousedown","mouseenter","touchstart"],SP="mat-ripple-loader-uninitialized",xP="mat-ripple-loader-class-name",fz="mat-ripple-loader-centered",wE="mat-ripple-loader-disabled",gz=(()=>{let e=class e{constructor(){this._document=pe(Tt,{optional:!0}),this._animationMode=pe(yn,{optional:!0}),this._globalRippleOptions=pe(MP,{optional:!0}),this._platform=pe(ri),this._ngZone=pe(Ge),this._hosts=new Map,this._onInteraction=n=>{let r=cs(n);if(r instanceof HTMLElement){let o=r.closest(`[${SP}="${this._globalRippleOptions?.namespace??""}"]`);o&&this._createRipple(o)}},this._ngZone.runOutsideAngular(()=>{for(let n of hz)this._document?.addEventListener(n,this._onInteraction,uz)})}ngOnDestroy(){let n=this._hosts.keys();for(let r of n)this.destroyRipple(r);for(let r of hz)this._document?.removeEventListener(r,this._onInteraction,uz)}configureRipple(n,r){n.setAttribute(SP,this._globalRippleOptions?.namespace??""),(r.className||!n.hasAttribute(xP))&&n.setAttribute(xP,r.className||""),r.centered&&n.setAttribute(fz,""),r.disabled&&n.setAttribute(wE,"")}getRipple(n){return this._hosts.get(n)||this._createRipple(n)}setDisabled(n,r){let o=this._hosts.get(n);if(o){o.disabled=r;return}r?n.setAttribute(wE,""):n.removeAttribute(wE)}_createRipple(n){if(!this._document)return;let r=this._hosts.get(n);if(r)return r;n.querySelector(".mat-ripple")?.remove();let o=this._document.createElement("span");o.classList.add("mat-ripple",n.getAttribute(xP)),n.append(o);let s=new Bd(new Ze(o),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return s._isInitialized=!0,s.trigger=n,s.centered=n.hasAttribute(fz),s.disabled=n.hasAttribute(wE),this.attachRipple(n,s),s}attachRipple(n,r){n.removeAttribute(SP),this._hosts.set(n,r)}destroyRipple(n){let r=this._hosts.get(n);r&&(r.ngOnDestroy(),this._hosts.delete(n))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),bz=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ut({type:e,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(r,o){r&2&&Ct("mdc-form-field--align-end",o.labelPosition==="before")},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[vt],attrs:Nde,ngContentSelectors:Lde,decls:1,vars:0,template:function(r,o){r&1&&(Di(),Pt(0))},styles:[".mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}"],encapsulation:2,changeDetection:0});let t=e;return t})();var h_=class{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},Rc=class extends h_{constructor(e,i,n,r,o){super(),this.component=e,this.viewContainerRef=i,this.injector=n,this.componentFactoryResolver=r,this.projectableNodes=o}},Da=class extends h_{constructor(e,i,n,r){super(),this.templateRef=e,this.viewContainerRef=i,this.context=n,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,i=this.context){return this.context=i,super.attach(e)}detach(){return this.context=void 0,super.detach()}},kP=class extends h_{constructor(e){super(),this.element=e instanceof Ze?e.nativeElement:e}},cp=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof Rc)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof Da)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof kP)return this._attachedPortal=e,this.attachDomPortal(e)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var RE=class extends cp{constructor(e,i,n,r,o){super(),this.outletElement=e,this._componentFactoryResolver=i,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=s=>{this._document;let a=s.element;a.parentNode;let l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=o}attachComponentPortal(e){let n=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(n,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=n.create(e.injector||this._defaultInjector||tn.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let i=e.viewContainerRef,n=i.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return n.rootNodes.forEach(r=>this.outletElement.appendChild(r)),n.detectChanges(),this.setDisposeFn(()=>{let r=i.indexOf(n);r!==-1&&i.remove(r)}),this._attachedPortal=e,n}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var vz=(()=>{let e=class e extends Da{constructor(n,r){super(n,r)}};e.\u0275fac=function(r){return new(r||e)(L(Xr),L(Qr))},e.\u0275dir=Qe({type:e,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],standalone:!0,features:[ki]});let t=e;return t})();var Hs=(()=>{let e=class e extends cp{constructor(n,r,o){super(),this._componentFactoryResolver=n,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new Ie,this.attachDomPortal=s=>{this._document;let a=s.element;a.parentNode;let l=this._document.createComment("dom-portal");s.setAttachedHost(this),a.parentNode.insertBefore(l,a),this._getRootNode().appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=o}get portal(){return this._attachedPortal}set portal(n){this.hasAttached()&&!n&&!this._isInitialized||(this.hasAttached()&&super.detach(),n&&super.attach(n),this._attachedPortal=n||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(n){n.setAttachedHost(this);let r=n.viewContainerRef!=null?n.viewContainerRef:this._viewContainerRef,s=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component),a=r.createComponent(s,r.length,n.injector||r.injector,n.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=n,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(n){n.setAttachedHost(this);let r=this._viewContainerRef.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=n,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){let n=this._viewContainerRef.element.nativeElement;return n.nodeType===n.ELEMENT_NODE?n:n.parentNode}};e.\u0275fac=function(r){return new(r||e)(L(Lm),L(Qr),L(Tt))},e.\u0275dir=Qe({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[ki]});let t=e;return t})();var dp=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Xe({type:e}),e.\u0275inj=Ke({});let t=e;return t})();var TE=class{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(e=!1,i,n=!0,r){this._multiple=e,this._emitChanges=n,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Be,i&&i.length&&(e?i.forEach(o=>this._markSelected(o)):this._markSelected(i[0]),this._selectedToEmit.length=0)}select(...e){this._verifyValueAssignment(e),e.forEach(n=>this._markSelected(n));let i=this._hasQueuedChanges();return this._emitChangeEvent(),i}deselect(...e){this._verifyValueAssignment(e),e.forEach(n=>this._unmarkSelected(n));let i=this._hasQueuedChanges();return this._emitChangeEvent(),i}setSelection(...e){this._verifyValueAssignment(e);let i=this.selected,n=new Set(e);e.forEach(o=>this._markSelected(o)),i.filter(o=>!n.has(this._getConcreteValue(o,n))).forEach(o=>this._unmarkSelected(o));let r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();let i=this._hasQueuedChanges();return e&&this._emitChangeEvent(),i}isSelected(e){return this._selection.has(this._getConcreteValue(e))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){e=this._getConcreteValue(e),this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){e=this._getConcreteValue(e),this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){e.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(e,i){if(this.compareWith){i=i??this._selection;for(let n of i)if(this.compareWith(e,n))return n;return e}else return e}};var Gde=20,NP=(()=>{let e=class e{constructor(n,r,o){this._ngZone=n,this._platform=r,this._scrolled=new Be,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(n){this.scrollContainers.has(n)||this.scrollContainers.set(n,n.elementScrolled().subscribe(()=>this._scrolled.next(n)))}deregister(n){let r=this.scrollContainers.get(n);r&&(r.unsubscribe(),this.scrollContainers.delete(n))}scrolled(n=Gde){return this._platform.isBrowser?new go(r=>{this._globalSubscription||this._addGlobalListener();let o=n>0?this._scrolled.pipe(tO(n)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):dt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((n,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(n,r){let o=this.getAncestorScrollContainers(n);return this.scrolled(r).pipe(Ii(s=>!s||o.indexOf(s)>-1))}getAncestorScrollContainers(n){let r=[];return this.scrollContainers.forEach((o,s)=>{this._scrollableContainsElement(s,n)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(n,r){let o=Lo(r),s=n.getElementRef().nativeElement;do if(o==s)return!0;while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let n=this._getWindow();return xd(n.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};e.\u0275fac=function(r){return new(r||e)(ce(Ge),ce(ri),ce(Tt,8))},e.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_z=(()=>{let e=class e{constructor(n,r,o,s){this.elementRef=n,this.scrollDispatcher=r,this.ngZone=o,this.dir=s,this._destroyed=new Be,this._elementScrolled=new go(a=>this.ngZone.runOutsideAngular(()=>xd(this.elementRef.nativeElement,"scroll").pipe(Pi(this._destroyed)).subscribe(a)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(n){let r=this.elementRef.nativeElement,o=this.dir&&this.dir.value=="rtl";n.left==null&&(n.left=o?n.end:n.start),n.right==null&&(n.right=o?n.start:n.end),n.bottom!=null&&(n.top=r.scrollHeight-r.clientHeight-n.bottom),o&&ip()!=Ia.NORMAL?(n.left!=null&&(n.right=r.scrollWidth-r.clientWidth-n.left),ip()==Ia.INVERTED?n.left=n.right:ip()==Ia.NEGATED&&(n.left=n.right?-n.right:n.right)):n.right!=null&&(n.left=r.scrollWidth-r.clientWidth-n.right),this._applyScrollToOptions(n)}_applyScrollToOptions(n){let r=this.elementRef.nativeElement;hE()?r.scrollTo(n):(n.top!=null&&(r.scrollTop=n.top),n.left!=null&&(r.scrollLeft=n.left))}measureScrollOffset(n){let r="left",o="right",s=this.elementRef.nativeElement;if(n=="top")return s.scrollTop;if(n=="bottom")return s.scrollHeight-s.clientHeight-s.scrollTop;let a=this.dir&&this.dir.value=="rtl";return n=="start"?n=a?o:r:n=="end"&&(n=a?r:o),a&&ip()==Ia.INVERTED?n==r?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:a&&ip()==Ia.NEGATED?n==r?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:n==r?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}};e.\u0275fac=function(r){return new(r||e)(L(Ze),L(NP),L(Ge),L($n,8))},e.\u0275dir=Qe({type:e,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0});let t=e;return t})(),$de=20,jd=(()=>{let e=class e{constructor(n,r,o){this._platform=n,this._change=new Be,this._changeListener=s=>{this._change.next(s)},this._document=o,r.runOutsideAngular(()=>{if(n.isBrowser){let s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let n=this._getWindow();n.removeEventListener("resize",this._changeListener),n.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}getViewportRect(){let n=this.getViewportScrollPosition(),{width:r,height:o}=this.getViewportSize();return{top:n.top,left:n.left,bottom:n.top+o,right:n.left+r,height:o,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let n=this._document,r=this._getWindow(),o=n.documentElement,s=o.getBoundingClientRect(),a=-s.top||n.body.scrollTop||r.scrollY||o.scrollTop||0,l=-s.left||n.body.scrollLeft||r.scrollX||o.scrollLeft||0;return{top:a,left:l}}change(n=$de){return n>0?this._change.pipe(tO(n)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}};e.\u0275fac=function(r){return new(r||e)(ce(ri),ce(Ge),ce(Tt,8))},e.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Wd=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Xe({type:e}),e.\u0275inj=Ke({});let t=e;return t})(),f_=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Xe({type:e}),e.\u0275inj=Ke({imports:[Vd,Wd,Vd,Wd]});let t=e;return t})();var FP=class{constructor(e){this._box=e,this._destroyed=new Be,this._resizeSubject=new Be,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(i=>this._resizeSubject.next(i)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new go(i=>{let n=this._resizeSubject.subscribe(i);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),n.unsubscribe(),this._elementObservables.delete(e)}}).pipe(Ii(i=>i.some(n=>n.target===e)),rO({bufferSize:1,refCount:!0}),Pi(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},IE=(()=>{let e=class e{constructor(){this._observers=new Map,this._ngZone=pe(Ge),typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,n]of this._observers)n.destroy();this._observers.clear(),typeof ResizeObserver<"u"}observe(n,r){let o=r?.box||"content-box";return this._observers.has(o)||this._observers.set(o,new FP(o)),this._observers.get(o).observe(n)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var WP=["*"];function qde(t,e){t&1&&Pt(0)}var Kde=["tabListContainer"],Xde=["tabList"],Qde=["tabListInner"],Zde=["nextPaginator"],Jde=["previousPaginator"],eue=t=>({animationDuration:t}),tue=(t,e)=>({value:t,params:e});function iue(t,e){}var nue=["tabBodyWrapper"],rue=["tabHeader"];function oue(t,e){}function sue(t,e){if(t&1&&Et(0,oue,0,0,"ng-template",12),t&2){let i=at().$implicit;Te("cdkPortalOutlet",i.templateLabel)}}function aue(t,e){if(t&1&&ht(0),t&2){let i=at().$implicit;kn(i.textLabel)}}function lue(t,e){if(t&1){let i=Pn();ie(0,"div",7,2),St("click",function(){let r=yt(i),o=r.$implicit,s=r.$index,a=at(),l=_r(1);return wt(a._handleClick(o,l,s))})("cdkFocusChange",function(r){let o=yt(i).$index,s=at();return wt(s._tabFocusChanged(r,o))}),ze(2,"span",8)(3,"div",9),ie(4,"span",10)(5,"span",11),Et(6,sue,1,1,null,12)(7,aue,1,1),oe()()()}if(t&2){let i=e.$implicit,n=e.$index,r=_r(1),o=at();Zr(i.labelClass),Ct("mdc-tab--active",o.selectedIndex===n),Te("id",o._getTabLabelId(n))("disabled",i.disabled)("fitInkBarToContent",o.fitInkBarToContent),Rt("tabIndex",o._getTabIndex(n))("aria-posinset",n+1)("aria-setsize",o._tabs.length)("aria-controls",o._getTabContentId(n))("aria-selected",o.selectedIndex===n)("aria-label",i.ariaLabel||null)("aria-labelledby",!i.ariaLabel&&i.ariaLabelledby?i.ariaLabelledby:null),ue(3),Te("matRippleTrigger",r)("matRippleDisabled",i.disabled||o.disableRipple),ue(3),xi(i.templateLabel?6:7)}}function cue(t,e){t&1&&Pt(0)}function due(t,e){if(t&1){let i=Pn();ie(0,"mat-tab-body",13),St("_onCentered",function(){yt(i);let r=at();return wt(r._removeTabBodyWrapperHeight())})("_onCentering",function(r){yt(i);let o=at();return wt(o._setTabBodyWrapperHeight(r))}),oe()}if(t&2){let i=e.$implicit,n=e.$index,r=at();Zr(i.bodyClass),Ct("mat-mdc-tab-body-active",r.selectedIndex===n),Te("id",r._getTabContentId(n))("content",i.content)("position",i.position)("origin",i.origin)("animationDuration",r.animationDuration)("preserveContent",r.preserveContent),Rt("tabindex",r.contentTabIndex!=null&&r.selectedIndex===n?r.contentTabIndex:null)("aria-labelledby",r._getTabLabelId(n))("aria-hidden",r.selectedIndex!==n)}}var uue=new we("MatTabContent"),jP=(()=>{let e=class e{constructor(n){this.template=n}};e.\u0275fac=function(r){return new(r||e)(L(Xr))},e.\u0275dir=Qe({type:e,selectors:[["","matTabContent",""]],standalone:!0,features:[ui([{provide:uue,useExisting:e}])]});let t=e;return t})(),hue=new we("MatTabLabel"),Cz=new we("MAT_TAB"),fue=(()=>{let e=class e extends vz{constructor(n,r,o){super(n,r),this._closestTab=o}};e.\u0275fac=function(r){return new(r||e)(L(Xr),L(Qr),L(Cz,8))},e.\u0275dir=Qe({type:e,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],standalone:!0,features:[ui([{provide:hue,useExisting:e}]),ki]});let t=e;return t})(),Sz=new we("MAT_TAB_GROUP"),UP=(()=>{let e=class e{get templateLabel(){return this._templateLabel}set templateLabel(n){this._setTemplateLabelInput(n)}get content(){return this._contentPortal}constructor(n,r){this._viewContainerRef=n,this._closestTabGroup=r,this.disabled=!1,this._explicitContent=void 0,this.textLabel="",this._contentPortal=null,this._stateChanges=new Be,this.position=null,this.origin=null,this.isActive=!1}ngOnChanges(n){(n.hasOwnProperty("textLabel")||n.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new Da(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(n){n&&n._closestTab===this&&(this._templateLabel=n)}};e.\u0275fac=function(r){return new(r||e)(L(Qr),L(Sz,8))},e.\u0275cmp=ut({type:e,selectors:[["mat-tab"]],contentQueries:function(r,o,s){if(r&1&&(zn(s,fue,5),zn(s,jP,7,Xr)),r&2){let a;Je(a=et())&&(o.templateLabel=a.first),Je(a=et())&&(o._explicitContent=a.first)}},viewQuery:function(r,o){if(r&1&&It(Xr,7),r&2){let s;Je(s=et())&&(o._implicitContent=s.first)}},hostAttrs:["hidden",""],inputs:{disabled:[2,"disabled","disabled",mt],textLabel:[0,"label","textLabel"],ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],standalone:!0,features:[ui([{provide:Cz,useExisting:e}]),di,li,vt],ngContentSelectors:WP,decls:1,vars:0,template:function(r,o){r&1&&(Di(),Et(0,qde,1,0,"ng-template"))},encapsulation:2});let t=e;return t})(),HP="mdc-tab-indicator--active",yz="mdc-tab-indicator--no-transition",VP=class{constructor(e){this._items=e}hide(){this._items.forEach(e=>e.deactivateInkBar())}alignToElement(e){let i=this._items.find(r=>r.elementRef.nativeElement===e),n=this._currentItem;if(i!==n&&(n?.deactivateInkBar(),i)){let r=n?.elementRef.nativeElement.getBoundingClientRect?.();i.activateInkBar(r),this._currentItem=i}}},mue=(()=>{let e=class e{constructor(){this._elementRef=pe(Ze),this._fitToContent=!1}get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(n){this._fitToContent!==n&&(this._fitToContent=n,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(n){let r=this._elementRef.nativeElement;if(!n||!r.getBoundingClientRect||!this._inkBarContentElement){r.classList.add(HP);return}let o=r.getBoundingClientRect(),s=n.width/o.width,a=n.left-o.left;r.classList.add(yz),this._inkBarContentElement.style.setProperty("transform",`translateX(${a}px) scaleX(${s})`),r.getBoundingClientRect(),r.classList.remove(yz),r.classList.add(HP),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this._elementRef.nativeElement.classList.remove(HP)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){let n=this._elementRef.nativeElement.ownerDocument||document,r=this._inkBarElement=n.createElement("span"),o=this._inkBarContentElement=n.createElement("span");r.className="mdc-tab-indicator",o.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",r.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){this._inkBarElement;let n=this._fitToContent?this._elementRef.nativeElement.querySelector(".mdc-tab__content"):this._elementRef.nativeElement;n.appendChild(this._inkBarElement)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Qe({type:e,inputs:{fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",mt]},features:[di]});let t=e;return t})();var xz=(()=>{let e=class e extends mue{constructor(n){super(),this.elementRef=n,this.disabled=!1}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}};e.\u0275fac=function(r){return new(r||e)(L(Ze))},e.\u0275dir=Qe({type:e,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(r,o){r&2&&(Rt("aria-disabled",!!o.disabled),Ct("mat-mdc-tab-disabled",o.disabled))},inputs:{disabled:[2,"disabled","disabled",mt]},standalone:!0,features:[di,ki]});let t=e;return t})(),wz=No({passive:!0}),pue=650,gue=100,bue=(()=>{let e=class e{get selectedIndex(){return this._selectedIndex}set selectedIndex(n){let r=isNaN(n)?0:n;this._selectedIndex!=r&&(this._selectedIndexChanged=!0,this._selectedIndex=r,this._keyManager&&this._keyManager.updateActiveItem(r))}constructor(n,r,o,s,a,l,c){this._elementRef=n,this._changeDetectorRef=r,this._viewportRuler=o,this._dir=s,this._ngZone=a,this._platform=l,this._animationMode=c,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new Be,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new Be,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new Ie,this.indexFocused=new Ie,this._sharedResizeObserver=pe(IE),this._injector=pe(tn),a.runOutsideAngular(()=>{xd(n.nativeElement,"mouseleave").pipe(Pi(this._destroyed)).subscribe(()=>{this._stopInterval()})})}ngAfterViewInit(){xd(this._previousPaginator.nativeElement,"touchstart",wz).pipe(Pi(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),xd(this._nextPaginator.nativeElement,"touchstart",wz).pipe(Pi(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){let n=this._dir?this._dir.change:dt("ltr"),r=this._sharedResizeObserver.observe(this._elementRef.nativeElement).pipe(Rd(32),Pi(this._destroyed)),o=this._viewportRuler.change(150).pipe(Pi(this._destroyed)),s=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new vE(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),vo(s,{injector:this._injector}),dr(n,o,r,this._items.changes,this._itemsResized()).pipe(Pi(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),s()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(a=>{this.indexFocused.emit(a),this._setTabFocus(a)})}_itemsResized(){return typeof ResizeObserver!="function"?Ps:this._items.changes.pipe(ir(this._items),ur(n=>new go(r=>this._ngZone.runOutsideAngular(()=>{let o=new ResizeObserver(s=>r.next(s));return n.forEach(s=>o.observe(s.elementRef.nativeElement)),()=>{o.disconnect()}}))),Om(1),Ii(n=>n.some(r=>r.contentRect.width>0&&r.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(n){if(!Nn(n))switch(n.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){let r=this._items.get(this.focusIndex);r&&!r.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(n))}break;default:this._keyManager.onKeydown(n)}}_onContentChanges(){let n=this._elementRef.nativeElement.textContent;n!==this._currentTextContent&&(this._currentTextContent=n||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(n){!this._isValidIndex(n)||this.focusIndex===n||!this._keyManager||this._keyManager.setActiveItem(n)}_isValidIndex(n){return this._items?!!this._items.toArray()[n]:!0}_setTabFocus(n){if(this._showPaginationControls&&this._scrollToLabel(n),this._items&&this._items.length){this._items.toArray()[n].focus();let r=this._tabListContainer.nativeElement;this._getLayoutDirection()=="ltr"?r.scrollLeft=0:r.scrollLeft=r.scrollWidth-r.offsetWidth}}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;let n=this.scrollDistance,r=this._getLayoutDirection()==="ltr"?-n:n;this._tabList.nativeElement.style.transform=`translateX(${Math.round(r)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(n){this._scrollTo(n)}_scrollHeader(n){let r=this._tabListContainer.nativeElement.offsetWidth,o=(n=="before"?-1:1)*r/3;return this._scrollTo(this._scrollDistance+o)}_handlePaginatorClick(n){this._stopInterval(),this._scrollHeader(n)}_scrollToLabel(n){if(this.disablePagination)return;let r=this._items?this._items.toArray()[n]:null;if(!r)return;let o=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:s,offsetWidth:a}=r.elementRef.nativeElement,l,c;this._getLayoutDirection()=="ltr"?(l=s,c=l+a):(c=this._tabListInner.nativeElement.offsetWidth-s,l=c-a);let d=this.scrollDistance,u=this.scrollDistance+o;l<d?this.scrollDistance-=d-l:c>u&&(this.scrollDistance+=Math.min(c-u,l-d))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{let n=this._tabListInner.nativeElement.scrollWidth,r=this._elementRef.nativeElement.offsetWidth,o=n-r>=5;o||(this.scrollDistance=0),o!==this._showPaginationControls&&(this._showPaginationControls=o,this._changeDetectorRef.markForCheck())}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=this.scrollDistance==0,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){let n=this._tabListInner.nativeElement.scrollWidth,r=this._tabListContainer.nativeElement.offsetWidth;return n-r||0}_alignInkBarToSelectedTab(){let n=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,r=n?n.elementRef.nativeElement:null;r?this._inkBar.alignToElement(r):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(n,r){r&&r.button!=null&&r.button!==0||(this._stopInterval(),Kj(pue,gue).pipe(Pi(dr(this._stopScrolling,this._destroyed))).subscribe(()=>{let{maxScrollDistance:o,distance:s}=this._scrollHeader(n);(s===0||s>=o)&&this._stopInterval()}))}_scrollTo(n){if(this.disablePagination)return{maxScrollDistance:0,distance:0};let r=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(r,n)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:r,distance:this._scrollDistance}}};e.\u0275fac=function(r){return new(r||e)(L(Ze),L(vi),L(jd),L($n,8),L(Ge),L(ri),L(yn,8))},e.\u0275dir=Qe({type:e,inputs:{disablePagination:[2,"disablePagination","disablePagination",mt],selectedIndex:[2,"selectedIndex","selectedIndex",Po]},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[di]});let t=e;return t})(),vue=(()=>{let e=class e extends bue{constructor(n,r,o,s,a,l,c){super(n,r,o,s,a,l,c),this.disableRipple=!1}ngAfterContentInit(){this._inkBar=new VP(this._items),super.ngAfterContentInit()}_itemSelected(n){n.preventDefault()}};e.\u0275fac=function(r){return new(r||e)(L(Ze),L(vi),L(jd),L($n,8),L(Ge),L(ri),L(yn,8))},e.\u0275cmp=ut({type:e,selectors:[["mat-tab-header"]],contentQueries:function(r,o,s){if(r&1&&zn(s,xz,4),r&2){let a;Je(a=et())&&(o._items=a)}},viewQuery:function(r,o){if(r&1&&(It(Kde,7),It(Xde,7),It(Qde,7),It(Zde,5),It(Jde,5)),r&2){let s;Je(s=et())&&(o._tabListContainer=s.first),Je(s=et())&&(o._tabList=s.first),Je(s=et())&&(o._tabListInner=s.first),Je(s=et())&&(o._nextPaginator=s.first),Je(s=et())&&(o._previousPaginator=s.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(r,o){r&2&&Ct("mat-mdc-tab-header-pagination-controls-enabled",o._showPaginationControls)("mat-mdc-tab-header-rtl",o._getLayoutDirection()=="rtl")},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],disableRipple:[2,"disableRipple","disableRipple",mt]},standalone:!0,features:[di,ki,vt],ngContentSelectors:WP,decls:13,vars:10,consts:[["previousPaginator",""],["tabListContainer",""],["tabList",""],["tabListInner",""],["nextPaginator",""],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"click","mousedown","touchend","matRippleDisabled"],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],[1,"mat-mdc-tab-labels"],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"mousedown","click","touchend","matRippleDisabled"]],template:function(r,o){if(r&1){let s=Pn();Di(),ie(0,"div",5,0),St("click",function(){return yt(s),wt(o._handlePaginatorClick("before"))})("mousedown",function(l){return yt(s),wt(o._handlePaginatorPress("before",l))})("touchend",function(){return yt(s),wt(o._stopInterval())}),ze(2,"div",6),oe(),ie(3,"div",7,1),St("keydown",function(l){return yt(s),wt(o._handleKeydown(l))}),ie(5,"div",8,2),St("cdkObserveContent",function(){return yt(s),wt(o._onContentChanges())}),ie(7,"div",9,3),Pt(9),oe()()(),ie(10,"div",10,4),St("mousedown",function(l){return yt(s),wt(o._handlePaginatorPress("after",l))})("click",function(){return yt(s),wt(o._handlePaginatorClick("after"))})("touchend",function(){return yt(s),wt(o._stopInterval())}),ze(12,"div",6),oe()}r&2&&(Ct("mat-mdc-tab-header-pagination-disabled",o._disableScrollBefore),Te("matRippleDisabled",o._disableScrollBefore||o.disableRipple),ue(3),Ct("_mat-animation-noopable",o._animationMode==="NoopAnimations"),ue(2),Rt("aria-label",o.ariaLabel||null)("aria-labelledby",o.ariaLabelledby||null),ue(5),Ct("mat-mdc-tab-header-pagination-disabled",o._disableScrollAfter),Te("matRippleDisabled",o._disableScrollAfter||o.disableRipple))},dependencies:[Bd,G2],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;outline:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-app-on-surface))}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color, var(--mat-app-on-surface))}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1;border-bottom-style:solid;border-bottom-width:var(--mat-tab-header-divider-height);border-bottom-color:var(--mat-tab-header-divider-color, var(--mat-app-surface-variant))}.mat-mdc-tab-group-inverted-header .mat-mdc-tab-label-container{border-bottom:none;border-top-style:solid;border-top-width:var(--mat-tab-header-divider-height);border-top-color:var(--mat-tab-header-divider-color, var(--mat-app-surface-variant))}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.cdk-drop-list .mat-mdc-tab-labels,.mat-mdc-tab-labels.cdk-drop-list{min-height:var(--mdc-secondary-navigation-tab-container-height)}.mat-mdc-tab::before{margin:5px}.cdk-high-contrast-active .mat-mdc-tab[aria-disabled=true]{color:GrayText}"],encapsulation:2});let t=e;return t})(),_ue=new we("MAT_TABS_CONFIG"),yue={translateTab:ul("translateTab",[Ra("center, void, left-origin-center, right-origin-center",Yn({transform:"none",visibility:"visible"})),Ra("left",Yn({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),Ra("right",Yn({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),_o("* => left, * => right, left => center, right => center",ko("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),_o("void => left-origin-center",[Yn({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),ko("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),_o("void => right-origin-center",[Yn({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),ko("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])},wue=(()=>{let e=class e extends Hs{constructor(n,r,o,s){super(n,r,s),this._host=o,this._centeringSub=Ti.EMPTY,this._leavingSub=Ti.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(ir(this._host._isCenterPosition(this._host._position))).subscribe(n=>{this._host._content&&n&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(L(Lm),L(Qr),L(bo(()=>Ez)),L(Tt))},e.\u0275dir=Qe({type:e,selectors:[["","matTabBodyHost",""]],standalone:!0,features:[ki]});let t=e;return t})(),Ez=(()=>{let e=class e{set position(n){this._positionIndex=n,this._computePositionAnimationState()}constructor(n,r,o){this._elementRef=n,this._dir=r,this._dirChangeSubscription=Ti.EMPTY,this._translateTabComplete=new Be,this._onCentering=new Ie,this._beforeCentering=new Ie,this._afterLeavingCenter=new Ie,this._onCentered=new Ie(!0),this.animationDuration="500ms",this.preserveContent=!1,r&&(this._dirChangeSubscription=r.change.subscribe(s=>{this._computePositionAnimationState(s),o.markForCheck()})),this._translateTabComplete.subscribe(s=>{this._isCenterPosition(s.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(s.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}ngOnInit(){this._position=="center"&&this.origin!=null&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(n){let r=this._isCenterPosition(n.toState);this._beforeCentering.emit(r),r&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_isCenterPosition(n){return n=="center"||n=="left-origin-center"||n=="right-origin-center"}_computePositionAnimationState(n=this._getLayoutDirection()){this._positionIndex<0?this._position=n=="ltr"?"left":"right":this._positionIndex>0?this._position=n=="ltr"?"right":"left":this._position="center"}_computePositionFromOrigin(n){let r=this._getLayoutDirection();return r=="ltr"&&n<=0||r=="rtl"&&n>0?"left-origin-center":"right-origin-center"}};e.\u0275fac=function(r){return new(r||e)(L(Ze),L($n,8),L(vi))},e.\u0275cmp=ut({type:e,selectors:[["mat-tab-body"]],viewQuery:function(r,o){if(r&1&&It(Hs,5),r&2){let s;Je(s=et())&&(o._portalHost=s.first)}},hostAttrs:[1,"mat-mdc-tab-body"],inputs:{_content:[0,"content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"},standalone:!0,features:[vt],decls:3,vars:6,consts:[["content",""],["cdkScrollable","",1,"mat-mdc-tab-body-content"],["matTabBodyHost",""]],template:function(r,o){if(r&1){let s=Pn();ie(0,"div",1,0),St("@translateTab.start",function(l){return yt(s),wt(o._onTranslateTabStarted(l))})("@translateTab.done",function(l){return yt(s),wt(o._translateTabComplete.next(l))}),Et(2,iue,0,0,"ng-template",2),oe()}r&2&&Te("@translateTab",mU(3,tue,o._position,fU(1,eue,o.animationDuration)))},dependencies:[wue,_z],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[yue.translateTab]}});let t=e;return t})(),Cue=0,Sue=!0,Rz=(()=>{let e=class e{get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(n){this._fitInkBarToContent=n,this._changeDetectorRef.markForCheck()}get selectedIndex(){return this._selectedIndex}set selectedIndex(n){this._indexToSelect=isNaN(n)?null:n}get animationDuration(){return this._animationDuration}set animationDuration(n){let r=n+"";this._animationDuration=/^\d+$/.test(r)?n+"ms":r}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(n){this._contentTabIndex=isNaN(n)?null:n}get backgroundColor(){return this._backgroundColor}set backgroundColor(n){if(!Sue)throw new Error("mat-tab-group background color must be set through the Sass theming API");let r=this._elementRef.nativeElement.classList;r.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),n&&r.add("mat-tabs-with-background",`mat-background-${n}`),this._backgroundColor=n}constructor(n,r,o,s){this._elementRef=n,this._changeDetectorRef=r,this._animationMode=s,this._tabs=new Sv,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=Ti.EMPTY,this._tabLabelSubscription=Ti.EMPTY,this._fitInkBarToContent=!1,this.stretchTabs=!0,this.dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this.disablePagination=!1,this.disableRipple=!1,this.preserveContent=!1,this.selectedIndexChange=new Ie,this.focusChange=new Ie,this.animationDone=new Ie,this.selectedTabChange=new Ie(!0),this._isServer=!pe(ri).isBrowser,this._groupId=Cue++,this.animationDuration=o&&o.animationDuration?o.animationDuration:"500ms",this.disablePagination=o&&o.disablePagination!=null?o.disablePagination:!1,this.dynamicHeight=o&&o.dynamicHeight!=null?o.dynamicHeight:!1,o?.contentTabIndex!=null&&(this.contentTabIndex=o.contentTabIndex),this.preserveContent=!!o?.preserveContent,this.fitInkBarToContent=o&&o.fitInkBarToContent!=null?o.fitInkBarToContent:!1,this.stretchTabs=o&&o.stretchTabs!=null?o.stretchTabs:!0}ngAfterContentChecked(){let n=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=n){let r=this._selectedIndex==null;if(!r){this.selectedTabChange.emit(this._createChangeEvent(n));let o=this._tabBodyWrapper.nativeElement;o.style.minHeight=o.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((o,s)=>o.isActive=s===n),r||(this.selectedIndexChange.emit(n),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((r,o)=>{r.position=o-n,this._selectedIndex!=null&&r.position==0&&!r.origin&&(r.origin=n-this._selectedIndex)}),this._selectedIndex!==n&&(this._selectedIndex=n,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{let n=this._clampTabIndex(this._indexToSelect);if(n===this._selectedIndex){let r=this._tabs.toArray(),o;for(let s=0;s<r.length;s++)if(r[s].isActive){this._indexToSelect=this._selectedIndex=s,this._lastFocusedTabIndex=null,o=r[s];break}!o&&r[n]&&Promise.resolve().then(()=>{r[n].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(n))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(ir(this._allTabs)).subscribe(n=>{this._tabs.reset(n.filter(r=>r._closestTabGroup===this||!r._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(n){let r=this._tabHeader;r&&(r.focusIndex=n)}_focusChanged(n){this._lastFocusedTabIndex=n,this.focusChange.emit(this._createChangeEvent(n))}_createChangeEvent(n){let r=new BP;return r.index=n,this._tabs&&this._tabs.length&&(r.tab=this._tabs.toArray()[n]),r}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=dr(...this._tabs.map(n=>n._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(n){return Math.min(this._tabs.length-1,Math.max(n||0,0))}_getTabLabelId(n){return`mat-tab-label-${this._groupId}-${n}`}_getTabContentId(n){return`mat-tab-content-${this._groupId}-${n}`}_setTabBodyWrapperHeight(n){if(!this.dynamicHeight||!this._tabBodyWrapperHeight)return;let r=this._tabBodyWrapper.nativeElement;r.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(r.style.height=n+"px")}_removeTabBodyWrapperHeight(){let n=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=n.clientHeight,n.style.height="",this.animationDone.emit()}_handleClick(n,r,o){r.focusIndex=o,n.disabled||(this.selectedIndex=o)}_getTabIndex(n){let r=this._lastFocusedTabIndex??this.selectedIndex;return n===r?0:-1}_tabFocusChanged(n,r){n&&n!=="mouse"&&n!=="touch"&&(this._tabHeader.focusIndex=r)}};e.\u0275fac=function(r){return new(r||e)(L(Ze),L(vi),L(_ue,8),L(yn,8))},e.\u0275cmp=ut({type:e,selectors:[["mat-tab-group"]],contentQueries:function(r,o,s){if(r&1&&zn(s,UP,5),r&2){let a;Je(a=et())&&(o._allTabs=a)}},viewQuery:function(r,o){if(r&1&&(It(nue,5),It(rue,5)),r&2){let s;Je(s=et())&&(o._tabBodyWrapper=s.first),Je(s=et())&&(o._tabHeader=s.first)}},hostAttrs:[1,"mat-mdc-tab-group"],hostVars:10,hostBindings:function(r,o){r&2&&(Zr("mat-"+(o.color||"primary")),ss("--mat-tab-animation-duration",o.animationDuration),Ct("mat-mdc-tab-group-dynamic-height",o.dynamicHeight)("mat-mdc-tab-group-inverted-header",o.headerPosition==="below")("mat-mdc-tab-group-stretch-tabs",o.stretchTabs))},inputs:{color:"color",fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",mt],stretchTabs:[2,"mat-stretch-tabs","stretchTabs",mt],dynamicHeight:[2,"dynamicHeight","dynamicHeight",mt],selectedIndex:[2,"selectedIndex","selectedIndex",Po],headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:[2,"contentTabIndex","contentTabIndex",Po],disablePagination:[2,"disablePagination","disablePagination",mt],disableRipple:[2,"disableRipple","disableRipple",mt],preserveContent:[2,"preserveContent","preserveContent",mt],backgroundColor:"backgroundColor",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"]},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},exportAs:["matTabGroup"],standalone:!0,features:[ui([{provide:Sz,useExisting:e}]),di,vt],ngContentSelectors:WP,decls:9,vars:8,consts:[["tabHeader",""],["tabBodyWrapper",""],["tabNode",""],[3,"indexFocused","selectFocusedIndex","selectedIndex","disableRipple","disablePagination","aria-label","aria-labelledby"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"id","mdc-tab--active","class","disabled","fitInkBarToContent"],[1,"mat-mdc-tab-body-wrapper"],["role","tabpanel",3,"id","mat-mdc-tab-body-active","class","content","position","origin","animationDuration","preserveContent"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"click","cdkFocusChange","id","disabled","fitInkBarToContent"],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"_onCentered","_onCentering","id","content","position","origin","animationDuration","preserveContent"]],template:function(r,o){if(r&1){let s=Pn();Di(),ie(0,"mat-tab-header",3,0),St("indexFocused",function(l){return yt(s),wt(o._focusChanged(l))})("selectFocusedIndex",function(l){return yt(s),wt(o.selectedIndex=l)}),_c(2,lue,8,17,"div",4,Rv),oe(),Et(4,cue,1,0),ie(5,"div",5,1),_c(7,due,1,13,"mat-tab-body",6,Rv),oe()}r&2&&(Te("selectedIndex",o.selectedIndex||0)("disableRipple",o.disableRipple)("disablePagination",o.disablePagination)("aria-label",o.ariaLabel)("aria-labelledby",o.ariaLabelledby),ue(2),yc(o._tabs),ue(2),xi(o._isServer?4:-1),ue(),Ct("_mat-animation-noopable",o._animationMode==="NoopAnimations"),ue(2),yc(o._tabs))},dependencies:[vue,xz,yE,Bd,Hs,Ez],styles:['.mdc-tab{min-width:90px;padding:0 24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;z-index:1}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab--active .mdc-tab__text-label{transition-delay:100ms}._mat-animation-noopable .mdc-tab__text-label{transition:none}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transition:var(--mat-tab-animation-duration, 250ms) transform cubic-bezier(0.4, 0, 0.2, 1);transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}._mat-animation-noopable .mdc-tab-indicator__content,.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;height:var(--mdc-secondary-navigation-tab-container-height);font-family:var(--mat-tab-header-label-text-font, var(--mat-app-title-small-font));font-size:var(--mat-tab-header-label-text-size, var(--mat-app-title-small-size));letter-spacing:var(--mat-tab-header-label-text-tracking, var(--mat-app-title-small-tracking));line-height:var(--mat-tab-header-label-text-line-height, var(--mat-app-title-small-line-height));font-weight:var(--mat-tab-header-label-text-weight, var(--mat-app-title-small-weight))}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color, var(--mat-app-primary));border-top-width:var(--mdc-tab-indicator-active-indicator-height);border-radius:var(--mdc-tab-indicator-active-indicator-shape)}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color, var(--mat-app-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color, var(--mat-app-primary))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color, var(--mat-app-primary))}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-app-on-surface))}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color, var(--mat-app-on-surface));display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-app-on-surface))}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2});let t=e;return t})(),BP=class{};var Tz=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Xe({type:e}),e.\u0275inj=Ke({imports:[Ft,Ft]});let t=e;return t})();var Iz=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Xe({type:e}),e.\u0275inj=Ke({imports:[f_]});let t=e;return t})();var Dz=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Xe({type:e}),e.\u0275inj=Ke({imports:[Ft,Iz,Ft]});let t=e;return t})();var Lz=(()=>{let e=class e{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}};e.\u0275fac=function(r){return new(r||e)(L(Ex),L(Ze))},e.\u0275dir=Qe({type:e});let t=e;return t})(),Tue=(()=>{let e=class e extends Lz{};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=xa(e)))(o||e)}})(),e.\u0275dir=Qe({type:e,features:[ki]});let t=e;return t})(),Wh=new we("");var Iue={provide:Wh,useExisting:bo(()=>FE),multi:!0};function Due(){let t=jm()?jm().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var Mue=new we(""),FE=(()=>{let e=class e extends Lz{constructor(n,r,o){super(n,r),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Due())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}};e.\u0275fac=function(r){return new(r||e)(L(Ex),L(Ze),L(Mue,8))},e.\u0275dir=Qe({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&St("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[ui([Iue]),ki]});let t=e;return t})();function Ud(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function Fz(t){return t!=null&&typeof t.length=="number"}var Gd=new we(""),HE=new we(""),Aue=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,zd=class{static min(e){return Oue(e)}static max(e){return Pue(e)}static required(e){return kue(e)}static requiredTrue(e){return Nue(e)}static email(e){return Lue(e)}static minLength(e){return Fue(e)}static maxLength(e){return Hue(e)}static pattern(e){return Vue(e)}static nullValidator(e){return Hz(e)}static compose(e){return zz(e)}static composeAsync(e){return Yz(e)}};function Oue(t){return e=>{if(Ud(e.value)||Ud(t))return null;let i=parseFloat(e.value);return!isNaN(i)&&i<t?{min:{min:t,actual:e.value}}:null}}function Pue(t){return e=>{if(Ud(e.value)||Ud(t))return null;let i=parseFloat(e.value);return!isNaN(i)&&i>t?{max:{max:t,actual:e.value}}:null}}function kue(t){return Ud(t.value)?{required:!0}:null}function Nue(t){return t.value===!0?null:{required:!0}}function Lue(t){return Ud(t.value)||Aue.test(t.value)?null:{email:!0}}function Fue(t){return e=>Ud(e.value)||!Fz(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function Hue(t){return e=>Fz(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function Vue(t){if(!t)return Hz;let e,i;return typeof t=="string"?(i="",t.charAt(0)!=="^"&&(i+="^"),i+=t,t.charAt(t.length-1)!=="$"&&(i+="$"),e=new RegExp(i)):(i=t.toString(),e=t),n=>{if(Ud(n.value))return null;let r=n.value;return e.test(r)?null:{pattern:{requiredPattern:i,actualValue:r}}}}function Hz(t){return null}function Vz(t){return t!=null}function Bz(t){return Dx(t)?Lr(t):t}function Wz(t){let e={};return t.forEach(i=>{e=i!=null?ee(ee({},e),i):e}),Object.keys(e).length===0?null:e}function jz(t,e){return e.map(i=>i(t))}function Bue(t){return!t.validate}function Uz(t){return t.map(e=>Bue(e)?e:i=>e.validate(i))}function zz(t){if(!t)return null;let e=t.filter(Vz);return e.length==0?null:function(i){return Wz(jz(i,e))}}function qP(t){return t!=null?zz(Uz(t)):null}function Yz(t){if(!t)return null;let e=t.filter(Vz);return e.length==0?null:function(i){let n=jz(i,e).map(Bz);return wx(n).pipe(jt(Wz))}}function KP(t){return t!=null?Yz(Uz(t)):null}function Mz(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Gz(t){return t._rawValidators}function $z(t){return t._rawAsyncValidators}function zP(t){return t?Array.isArray(t)?t:[t]:[]}function ME(t,e){return Array.isArray(t)?t.includes(e):t===e}function Az(t,e){let i=zP(e);return zP(t).forEach(r=>{ME(i,r)||i.push(r)}),i}function Oz(t,e){return zP(e).filter(i=>!ME(t,i))}var AE=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=qP(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=KP(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,i){return this.control?this.control.hasError(e,i):!1}getError(e,i){return this.control?this.control.getError(e,i):null}},Bh=class extends AE{get formDirective(){return null}get path(){return null}},Vs=class extends AE{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},YP=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},Wue={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},l$e=st(ee({},Wue),{"[class.ng-submitted]":"isSubmitted"}),qz=(()=>{let e=class e extends YP{constructor(n){super(n)}};e.\u0275fac=function(r){return new(r||e)(L(Vs,2))},e.\u0275dir=Qe({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&Ct("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[ki]});let t=e;return t})();var m_="VALID",DE="INVALID",up="PENDING",p_="DISABLED",Yd=class{},OE=class extends Yd{constructor(e,i){super(),this.value=e,this.source=i}},b_=class extends Yd{constructor(e,i){super(),this.pristine=e,this.source=i}},v_=class extends Yd{constructor(e,i){super(),this.touched=e,this.source=i}},hp=class extends Yd{constructor(e,i){super(),this.status=e,this.source=i}},GP=class extends Yd{constructor(e){super(),this.source=e}},$P=class extends Yd{constructor(e){super(),this.source=e}};function Kz(t){return(VE(t)?t.validators:t)||null}function jue(t){return Array.isArray(t)?qP(t):t||null}function Xz(t,e){return(VE(e)?e.asyncValidators:t)||null}function Uue(t){return Array.isArray(t)?KP(t):t||null}function VE(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function zue(t,e,i){let n=t.controls;if(!(e?Object.keys(n):n).length)throw new an(1e3,"");if(!n[i])throw new an(1001,"")}function Yue(t,e,i){t._forEachChild((n,r)=>{if(i[r]===void 0)throw new an(1002,"")})}var PE=class{constructor(e,i){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._events=new Be,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(i)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===m_}get invalid(){return this.status===DE}get pending(){return this.status==up}get disabled(){return this.status===p_}get enabled(){return this.status!==p_}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Az(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Az(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Oz(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Oz(e,this._rawAsyncValidators))}hasValidator(e){return ME(this._rawValidators,e)}hasAsyncValidator(e){return ME(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let i=this.touched===!1;this.touched=!0;let n=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(st(ee({},e),{sourceControl:n})),i&&e.emitEvent!==!1&&this._events.next(new v_(!0,n))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(i=>i.markAllAsTouched(e))}markAsUntouched(e={}){let i=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let n=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:n})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n),i&&e.emitEvent!==!1&&this._events.next(new v_(!1,n))}markAsDirty(e={}){let i=this.pristine===!0;this.pristine=!1;let n=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(st(ee({},e),{sourceControl:n})),i&&e.emitEvent!==!1&&this._events.next(new b_(!1,n))}markAsPristine(e={}){let i=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let n=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&e.emitEvent!==!1&&this._events.next(new b_(!0,n))}markAsPending(e={}){this.status=up;let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new hp(this.status,i)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(st(ee({},e),{sourceControl:i}))}disable(e={}){let i=this._parentMarkedDirty(e.onlySelf);this.status=p_,this.errors=null,this._forEachChild(r=>{r.disable(st(ee({},e),{onlySelf:!0}))}),this._updateValue();let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new OE(this.value,n)),this._events.next(new hp(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(st(ee({},e),{skipPristineCheck:i}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let i=this._parentMarkedDirty(e.onlySelf);this.status=m_,this._forEachChild(n=>{n.enable(st(ee({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(st(ee({},e),{skipPristineCheck:i}),this),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(e,i){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},i),this._parent._updateTouched({},i))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let n=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===m_||this.status===up)&&this._runAsyncValidator(n,e.emitEvent)}let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new OE(this.value,i)),this._events.next(new hp(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(st(ee({},e),{sourceControl:i}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(i=>i._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?p_:m_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,i){if(this.asyncValidator){this.status=up,this._hasOwnPendingAsyncValidator={emitEvent:i!==!1};let n=Bz(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:i,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,i={}){this.errors=e,this._updateControlsErrors(i.emitEvent!==!1,this,i.shouldHaveEmitted)}get(e){let i=e;return i==null||(Array.isArray(i)||(i=i.split(".")),i.length===0)?null:i.reduce((n,r)=>n&&n._find(r),this)}getError(e,i){let n=i?this.get(i):this;return n&&n.errors?n.errors[e]:null}hasError(e,i){return!!this.getError(e,i)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,i,n){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||n)&&this._events.next(new hp(this.status,i)),this._parent&&this._parent._updateControlsErrors(e,i,n)}_initObservables(){this.valueChanges=new Ie,this.statusChanges=new Ie}_calculateStatus(){return this._allControlsDisabled()?p_:this.errors?DE:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(up)?up:this._anyControlsHaveStatus(DE)?DE:m_}_anyControlsHaveStatus(e){return this._anyControls(i=>i.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,i){let n=!this._anyControlsDirty(),r=this.pristine!==n;this.pristine=n,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),r&&this._events.next(new b_(this.pristine,i))}_updateTouched(e={},i){this.touched=this._anyControlsTouched(),this._events.next(new v_(this.touched,i)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){VE(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let i=this._parent&&this._parent.dirty;return!e&&!!i&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=jue(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Uue(this._rawAsyncValidators)}},fp=class extends PE{constructor(e,i,n){super(Kz(i),Xz(n,i)),this.controls=e,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,i){return this.controls[e]?this.controls[e]:(this.controls[e]=i,i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange),i)}addControl(e,i,n={}){this.registerControl(e,i),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(e,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}setControl(e,i,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],i&&this.registerControl(e,i),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,i={}){Yue(this,!0,e),Object.keys(e).forEach(n=>{zue(this,!0,n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(e,i={}){e!=null&&(Object.keys(e).forEach(n=>{let r=this.controls[n];r&&r.patchValue(e[n],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(e={},i={}){this._forEachChild((n,r)=>{n.reset(e?e[r]:null,{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i,this),this._updateTouched(i,this),this.updateValueAndValidity(i)}getRawValue(){return this._reduceChildren({},(e,i,n)=>(e[n]=i.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(i,n)=>n._syncPendingControls()?!0:i);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(i=>{let n=this.controls[i];n&&e(n,i)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[i,n]of Object.entries(this.controls))if(this.contains(i)&&e(n))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(i,n,r)=>((n.enabled||this.disabled)&&(i[r]=n.value),i))}_reduceChildren(e,i){let n=e;return this._forEachChild((r,o)=>{n=i(n,r,o)}),n}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var mp=new we("CallSetDisabledState",{providedIn:"root",factory:()=>BE}),BE="always";function Gue(t,e){return[...e.path,t]}function __(t,e,i=BE){XP(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||i==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),que(t,e),Xue(t,e),Kue(t,e),$ue(t,e)}function kE(t,e,i=!0){let n=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n)),LE(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function NE(t,e){t.forEach(i=>{i.registerOnValidatorChange&&i.registerOnValidatorChange(e)})}function $ue(t,e){if(e.valueAccessor.setDisabledState){let i=n=>{e.valueAccessor.setDisabledState(n)};t.registerOnDisabledChange(i),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(i)})}}function XP(t,e){let i=Gz(t);e.validator!==null?t.setValidators(Mz(i,e.validator)):typeof i=="function"&&t.setValidators([i]);let n=$z(t);e.asyncValidator!==null?t.setAsyncValidators(Mz(n,e.asyncValidator)):typeof n=="function"&&t.setAsyncValidators([n]);let r=()=>t.updateValueAndValidity();NE(e._rawValidators,r),NE(e._rawAsyncValidators,r)}function LE(t,e){let i=!1;if(t!==null){if(e.validator!==null){let r=Gz(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.validator);o.length!==r.length&&(i=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let r=$z(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(i=!0,t.setAsyncValidators(o))}}}let n=()=>{};return NE(e._rawValidators,n),NE(e._rawAsyncValidators,n),i}function que(t,e){e.valueAccessor.registerOnChange(i=>{t._pendingValue=i,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&Qz(t,e)})}function Kue(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&Qz(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function Qz(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Xue(t,e){let i=(n,r)=>{e.valueAccessor.writeValue(n),r&&e.viewToModelUpdate(n)};t.registerOnChange(i),e._registerOnDestroy(()=>{t._unregisterOnChange(i)})}function Zz(t,e){t==null,XP(t,e)}function Que(t,e){return LE(t,e)}function Jz(t,e){if(!t.hasOwnProperty("model"))return!1;let i=t.model;return i.isFirstChange()?!0:!Object.is(e,i.currentValue)}function Zue(t){return Object.getPrototypeOf(t.constructor)===Tue}function eY(t,e){t._syncPendingControls(),e.forEach(i=>{let n=i.control;n.updateOn==="submit"&&n._pendingChange&&(i.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function tY(t,e){if(!e)return null;Array.isArray(e);let i,n,r;return e.forEach(o=>{o.constructor===FE?i=o:Zue(o)?n=o:r=o}),r||n||i||null}function Jue(t,e){let i=t.indexOf(e);i>-1&&t.splice(i,1)}var ehe={provide:Bh,useExisting:bo(()=>y_)},g_=Promise.resolve(),y_=(()=>{let e=class e extends Bh{constructor(n,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Ie,this.form=new fp({},qP(n),KP(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){g_.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),__(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){g_.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){g_.then(()=>{let r=this._findContainer(n.path),o=new fp({});Zz(o,n),r.registerControl(n.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){g_.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){g_.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,eY(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}};e.\u0275fac=function(r){return new(r||e)(L(Gd,10),L(HE,10),L(mp,8))},e.\u0275dir=Qe({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){r&1&&St("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ui([ehe]),ki]});let t=e;return t})();function Pz(t,e){let i=t.indexOf(e);i>-1&&t.splice(i,1)}function kz(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var $d=class extends PE{constructor(e=null,i,n){super(Kz(i),Xz(n,i)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(i),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),VE(i)&&(i.nonNullable||i.initialValueIsDefault)&&(kz(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,i={}){this.value=this._pendingValue=e,this._onChange.length&&i.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,i.emitViewToModelChange!==!1)),this.updateValueAndValidity(i)}patchValue(e,i={}){this.setValue(e,i)}reset(e=this.defaultValue,i={}){this._applyFormState(e),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Pz(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Pz(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){kz(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var the=t=>t instanceof $d;var ihe={provide:Vs,useExisting:bo(()=>QP)},Nz=Promise.resolve(),QP=(()=>{let e=class e extends Vs{constructor(n,r,o,s,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new $d,this._registered=!1,this.name="",this.update=new Ie,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=tY(this,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),Jz(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){__(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){Nz.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,o=r!==0&&mt(r);Nz.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?Gue(n,this._parent):[n]}};e.\u0275fac=function(r){return new(r||e)(L(Bh,9),L(Gd,10),L(HE,10),L(Wh,10),L(vi,8),L(mp,8))},e.\u0275dir=Qe({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ui([ihe]),ki,li]});let t=e;return t})();var iY=new we(""),nhe={provide:Vs,useExisting:bo(()=>ZP)},ZP=(()=>{let e=class e extends Vs{set isDisabled(n){}constructor(n,r,o,s,a){super(),this._ngModelWarningConfig=s,this.callSetDisabledState=a,this.update=new Ie,this._ngModelWarningSent=!1,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=tY(this,o)}ngOnChanges(n){if(this._isControlChanged(n)){let r=n.form.previousValue;r&&kE(r,this,!1),__(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}Jz(n,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&kE(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_isControlChanged(n){return n.hasOwnProperty("form")}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(r){return new(r||e)(L(Gd,10),L(HE,10),L(Wh,10),L(iY,8),L(mp,8))},e.\u0275dir=Qe({type:e,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[ui([nhe]),ki,li]});let t=e;return t})(),rhe={provide:Bh,useExisting:bo(()=>w_)},w_=(()=>{let e=class e extends Bh{constructor(n,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ie,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(LE(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return __(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){kE(n.control||null,n,!1),Jue(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,eY(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new GP(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1,this.form._events.next(new $P(this.form))}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,o=this.form.get(n.path);r!==o&&(kE(r||null,n),the(o)&&(__(o,n,this.callSetDisabledState),n.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);Zz(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&Que(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){XP(this.form,this),this._oldForm&&LE(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(r){return new(r||e)(L(Gd,10),L(HE,10),L(mp,8))},e.\u0275dir=Qe({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,o){r&1&&St("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ui([rhe]),ki,li]});let t=e;return t})();var nY=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Xe({type:e}),e.\u0275inj=Ke({});let t=e;return t})();var rY=(()=>{let e=class e{static withConfig(n){return{ngModule:e,providers:[{provide:mp,useValue:n.callSetDisabledState??BE}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Xe({type:e}),e.\u0275inj=Ke({imports:[nY]});let t=e;return t})(),oY=(()=>{let e=class e{static withConfig(n){return{ngModule:e,providers:[{provide:iY,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:mp,useValue:n.callSetDisabledState??BE}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Xe({type:e}),e.\u0275inj=Ke({imports:[nY]});let t=e;return t})();var ohe=w(Jr(),1),sY=w(Jr(),1),jh=sY.default||ohe,tk=new we("MAT_MOMENT_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:she});function she(){return{useUtc:!1}}function ahe(t,e){let i=Array(t);for(let n=0;n<t;n++)i[n]=e(n);return i}var lhe=(()=>{let e=class e extends wr{constructor(n,r){super(),this._options=r,this.setLocale(n||jh.locale())}setLocale(n){super.setLocale(n);let r=jh.localeData(n);this._localeData={firstDayOfWeek:r.firstDayOfWeek(),longMonths:r.months(),shortMonths:r.monthsShort(),dates:ahe(31,o=>this.createDate(2017,0,o+1).format("D")),longDaysOfWeek:r.weekdays(),shortDaysOfWeek:r.weekdaysShort(),narrowDaysOfWeek:r.weekdaysMin()}}getYear(n){return this.clone(n).year()}getMonth(n){return this.clone(n).month()}getDate(n){return this.clone(n).date()}getDayOfWeek(n){return this.clone(n).day()}getMonthNames(n){return n=="long"?this._localeData.longMonths:this._localeData.shortMonths}getDateNames(){return this._localeData.dates}getDayOfWeekNames(n){return n=="long"?this._localeData.longDaysOfWeek:n=="short"?this._localeData.shortDaysOfWeek:this._localeData.narrowDaysOfWeek}getYearName(n){return this.clone(n).format("YYYY")}getFirstDayOfWeek(){return this._localeData.firstDayOfWeek}getNumDaysInMonth(n){return this.clone(n).daysInMonth()}clone(n){return n.clone().locale(this.locale)}createDate(n,r,o){let s=this._createMoment({year:n,month:r,date:o}).locale(this.locale);return s.isValid(),s}today(){return this._createMoment().locale(this.locale)}parse(n,r){return n&&typeof n=="string"?this._createMoment(n,r,this.locale):n?this._createMoment(n).locale(this.locale):null}format(n,r){return n=this.clone(n),this.isValid(n),n.format(r)}addCalendarYears(n,r){return this.clone(n).add({years:r})}addCalendarMonths(n,r){return this.clone(n).add({months:r})}addCalendarDays(n,r){return this.clone(n).add({days:r})}toIso8601(n){return this.clone(n).format()}deserialize(n){let r;if(n instanceof Date)r=this._createMoment(n).locale(this.locale);else if(this.isDateInstance(n))return this.clone(n);if(typeof n=="string"){if(!n)return null;r=this._createMoment(n,jh.ISO_8601).locale(this.locale)}return r&&this.isValid(r)?this._createMoment(r).locale(this.locale):super.deserialize(n)}isDateInstance(n){return jh.isMoment(n)}isValid(n){return this.clone(n).isValid()}invalid(){return jh.invalid()}_createMoment(n,r,o){let{strict:s,useUtc:a}=this._options||{};return a?jh.utc(n,r,o,s):jh(n,r,o,s)}};e.\u0275fac=function(r){return new(r||e)(ce(IP,8),ce(tk,8))},e.\u0275prov=Re({token:e,factory:e.\u0275fac});let t=e;return t})(),che={parse:{dateInput:"l"},display:{dateInput:"l",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}};function aY(t=che,e){let i=[{provide:wr,useClass:lhe,deps:[IP,tk]},{provide:Ec,useValue:t}];return e&&i.push({provide:tk,useValue:e}),i}var lY=No({passive:!0}),cY=(()=>{let e=class e{constructor(n,r){this._platform=n,this._ngZone=r,this._monitoredElements=new Map}monitor(n){if(!this._platform.isBrowser)return Ps;let r=Lo(n),o=this._monitoredElements.get(r);if(o)return o.subject;let s=new Be,a="cdk-text-field-autofilled",l=c=>{c.animationName==="cdk-text-field-autofill-start"&&!r.classList.contains(a)?(r.classList.add(a),this._ngZone.run(()=>s.next({target:c.target,isAutofilled:!0}))):c.animationName==="cdk-text-field-autofill-end"&&r.classList.contains(a)&&(r.classList.remove(a),this._ngZone.run(()=>s.next({target:c.target,isAutofilled:!1})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",l,lY),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:s,unlisten:()=>{r.removeEventListener("animationstart",l,lY)}}),s}stopMonitoring(n){let r=Lo(n),o=this._monitoredElements.get(r);o&&(o.unlisten(),o.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((n,r)=>this.stopMonitoring(r))}};e.\u0275fac=function(r){return new(r||e)(ce(ri),ce(Ge))},e.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var dY=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Xe({type:e}),e.\u0275inj=Ke({});let t=e;return t})();var uhe=["notch"],hhe=["matFormFieldNotchedOutline",""],fhe=["*"],mhe=["textField"],phe=["iconPrefixContainer"],ghe=["textPrefixContainer"],bhe=["iconSuffixContainer"],vhe=["textSuffixContainer"],_he=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],yhe=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function whe(t,e){t&1&&ze(0,"span",21)}function Che(t,e){if(t&1&&(ie(0,"label",20),Pt(1,1),Et(2,whe,1,0,"span",21),oe()),t&2){let i=at(2);Te("floating",i._shouldLabelFloat())("monitorResize",i._hasOutline())("id",i._labelId),Rt("for",i._control.disableAutomaticLabeling?null:i._control.id),ue(2),xi(!i.hideRequiredMarker&&i._control.required?2:-1)}}function She(t,e){if(t&1&&Et(0,Che,3,5,"label",20),t&2){let i=at();xi(i._hasFloatingLabel()?0:-1)}}function xhe(t,e){t&1&&ze(0,"div",7)}function Ehe(t,e){}function Rhe(t,e){if(t&1&&Et(0,Ehe,0,0,"ng-template",13),t&2){at(2);let i=_r(1);Te("ngTemplateOutlet",i)}}function The(t,e){if(t&1&&(ie(0,"div",9),Et(1,Rhe,1,1,null,13),oe()),t&2){let i=at();Te("matFormFieldNotchedOutlineOpen",i._shouldLabelFloat()),ue(),xi(i._forceDisplayInfixLabel()?-1:1)}}function Ihe(t,e){t&1&&(ie(0,"div",10,2),Pt(2,2),oe())}function Dhe(t,e){t&1&&(ie(0,"div",11,3),Pt(2,3),oe())}function Mhe(t,e){}function Ahe(t,e){if(t&1&&Et(0,Mhe,0,0,"ng-template",13),t&2){at();let i=_r(1);Te("ngTemplateOutlet",i)}}function Ohe(t,e){t&1&&(ie(0,"div",14,4),Pt(2,4),oe())}function Phe(t,e){t&1&&(ie(0,"div",15,5),Pt(2,5),oe())}function khe(t,e){t&1&&ze(0,"div",16)}function Nhe(t,e){if(t&1&&(ie(0,"div",18),Pt(1,6),oe()),t&2){let i=at();Te("@transitionMessages",i._subscriptAnimationState)}}function Lhe(t,e){if(t&1&&(ie(0,"mat-hint",22),ht(1),oe()),t&2){let i=at(2);Te("id",i._hintLabelId),ue(),kn(i.hintLabel)}}function Fhe(t,e){if(t&1&&(ie(0,"div",19),Et(1,Lhe,2,2,"mat-hint",22),Pt(2,7),ze(3,"div",23),Pt(4,8),oe()),t&2){let i=at();Te("@transitionMessages",i._subscriptAnimationState),ue(),xi(i.hintLabel?1:-1)}}var jE=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Qe({type:e,selectors:[["mat-label"]],standalone:!0});let t=e;return t})();var Hhe=new we("MatError");var Vhe=0,uY=(()=>{let e=class e{constructor(){this.align="start",this.id=`mat-mdc-hint-${Vhe++}`}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Qe({type:e,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(r,o){r&2&&(Ns("id",o.id),Rt("align",null),Ct("mat-mdc-form-field-hint-end",o.align==="end"))},inputs:{align:"align",id:"id"},standalone:!0});let t=e;return t})(),Bhe=new we("MatPrefix");var _Y=new we("MatSuffix"),yY=(()=>{let e=class e{constructor(){this._isText=!1}set _isTextSelector(n){this._isText=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Qe({type:e,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:[0,"matTextSuffix","_isTextSelector"]},standalone:!0,features:[ui([{provide:_Y,useExisting:e}])]});let t=e;return t})(),wY=new we("FloatingLabelParent"),hY=(()=>{let e=class e{get floating(){return this._floating}set floating(n){this._floating=n,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(n){this._monitorResize=n,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(n){this._elementRef=n,this._floating=!1,this._monitorResize=!1,this._resizeObserver=pe(IE),this._ngZone=pe(Ge),this._parent=pe(wY),this._resizeSubscription=new Ti}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return Whe(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}};e.\u0275fac=function(r){return new(r||e)(L(Ze))},e.\u0275dir=Qe({type:e,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(r,o){r&2&&Ct("mdc-floating-label--float-above",o.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0});let t=e;return t})();function Whe(t){let e=t;if(e.offsetParent!==null)return e.scrollWidth;let i=e.cloneNode(!0);i.style.setProperty("position","absolute"),i.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(i);let n=i.scrollWidth;return i.remove(),n}var fY="mdc-line-ripple--active",WE="mdc-line-ripple--deactivating",mY=(()=>{let e=class e{constructor(n,r){this._elementRef=n,this._handleTransitionEnd=o=>{let s=this._elementRef.nativeElement.classList,a=s.contains(WE);o.propertyName==="opacity"&&a&&s.remove(fY,WE)},r.runOutsideAngular(()=>{n.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){let n=this._elementRef.nativeElement.classList;n.remove(WE),n.add(fY)}deactivate(){this._elementRef.nativeElement.classList.add(WE)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}};e.\u0275fac=function(r){return new(r||e)(L(Ze),L(Ge))},e.\u0275dir=Qe({type:e,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0});let t=e;return t})(),pY=(()=>{let e=class e{constructor(n,r){this._elementRef=n,this._ngZone=r,this.open=!1}ngAfterViewInit(){let n=this._elementRef.nativeElement.querySelector(".mdc-floating-label");n?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(n.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>n.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(n){!this.open||!n?this._notch.nativeElement.style.width="":this._notch.nativeElement.style.width=`calc(${n}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}};e.\u0275fac=function(r){return new(r||e)(L(Ze),L(Ge))},e.\u0275cmp=ut({type:e,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(r,o){if(r&1&&It(uhe,5),r&2){let s;Je(s=et())&&(o._notch=s.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(r,o){r&2&&Ct("mdc-notched-outline--notched",o.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[vt],attrs:hhe,ngContentSelectors:fhe,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(r,o){r&1&&(Di(),ze(0,"div",1),ie(1,"div",2,0),Pt(3),oe(),ze(4,"div",3))},encapsulation:2,changeDetection:0});let t=e;return t})(),jhe={transitionMessages:ul("transitionMessages",[Ra("enter",Yn({opacity:1,transform:"translateY(0%)"})),_o("void => enter",[Yn({opacity:0,transform:"translateY(-5px)"}),ko("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},gp=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Qe({type:e});let t=e;return t})();var Uh=new we("MatFormField"),Uhe=new we("MAT_FORM_FIELD_DEFAULT_OPTIONS"),gY=0,bY="fill",zhe="auto",vY="fixed",Yhe="translateY(-50%)",CY=(()=>{let e=class e{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(n){this._hideRequiredMarker=Nh(n)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||zhe}set floatLabel(n){n!==this._floatLabel&&(this._floatLabel=n,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(n){let r=this._appearance,o=n||this._defaults?.appearance||bY;this._appearance=o,this._appearance==="outline"&&this._appearance!==r&&(this._needsOutlineLabelOffsetUpdate=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||vY}set subscriptSizing(n){this._subscriptSizing=n||this._defaults?.subscriptSizing||vY}get hintLabel(){return this._hintLabel}set hintLabel(n){this._hintLabel=n,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(n){this._explicitFormFieldControl=n}constructor(n,r,o,s,a,l,c,d){this._elementRef=n,this._changeDetectorRef=r,this._dir=s,this._platform=a,this._defaults=l,this._animationMode=c,this._labelChild=sU(jE),this._hideRequiredMarker=!1,this.color="primary",this._appearance=bY,this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId=`mat-mdc-form-field-label-${gY++}`,this._hintLabelId=`mat-mdc-hint-${gY++}`,this._subscriptAnimationState="",this._destroyed=new Be,this._isFocused=null,this._needsOutlineLabelOffsetUpdate=!1,this._previousControl=null,this._injector=pe(tn),this.getLabelId=uO(()=>this._hasFloatingLabel()?this._labelId:null),this._hasFloatingLabel=uO(()=>!!this._labelChild()),l&&(l.appearance&&(this.appearance=l.appearance),this._hideRequiredMarker=!!l?.hideRequiredMarker,l.color&&(this.color=l.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._previousControl=this._control)}ngOnDestroy(){this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(n){let r=this._control,o="mat-mdc-form-field-type-";n&&this._elementRef.nativeElement.classList.remove(o+n.controlType),r.controlType&&this._elementRef.nativeElement.classList.add(o+r.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=r.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._valueChanges?.unsubscribe(),r.ngControl&&r.ngControl.valueChanges&&(this._valueChanges=r.ngControl.valueChanges.pipe(Pi(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(n=>!n._isText),this._hasTextPrefix=!!this._prefixChildren.find(n=>n._isText),this._hasIconSuffix=!!this._suffixChildren.find(n=>!n._isText),this._hasTextSuffix=!!this._suffixChildren.find(n=>n._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),dr(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),Rx(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe(Pi(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(n){let r=this._control?this._control.ngControl:null;return r&&r[n]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let n=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&n.push(...this._control.userAriaDescribedBy.split(" ")),this._getDisplayedMessages()==="hint"){let r=this._hintChildren?this._hintChildren.find(s=>s.align==="start"):null,o=this._hintChildren?this._hintChildren.find(s=>s.align==="end"):null;r?n.push(r.id):this._hintLabel&&n.push(this._hintLabelId),o&&n.push(o.id)}else this._errorChildren&&n.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(n)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;let n=this._floatingLabel.element;if(!(this._iconPrefixContainer||this._textPrefixContainer)){n.style.transform="";return}if(!this._isAttachedToDom()){this._needsOutlineLabelOffsetUpdate=!0;return}let r=this._iconPrefixContainer?.nativeElement,o=this._textPrefixContainer?.nativeElement,s=this._iconSuffixContainer?.nativeElement,a=this._textSuffixContainer?.nativeElement,l=r?.getBoundingClientRect().width??0,c=o?.getBoundingClientRect().width??0,d=s?.getBoundingClientRect().width??0,u=a?.getBoundingClientRect().width??0,f=this._dir.value==="rtl"?"-1":"1",m=`${l+c}px`,_=`calc(${f} * (${m} + var(--mat-mdc-form-field-label-offset-x, 0px)))`;n.style.transform=`var(
        --mat-mdc-form-field-label-transform,
        ${Yhe} translateX(${_})
    )`;let b=l+c+d+u;this._elementRef.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${b}px)`)}_isAttachedToDom(){let n=this._elementRef.nativeElement;if(n.getRootNode){let r=n.getRootNode();return r&&r!==n}return document.documentElement.contains(n)}};e.\u0275fac=function(r){return new(r||e)(L(Ze),L(vi),L(Ge),L($n),L(ri),L(Uhe,8),L(yn,8),L(Tt))},e.\u0275cmp=ut({type:e,selectors:[["mat-form-field"]],contentQueries:function(r,o,s){if(r&1&&(uU(s,o._labelChild,jE,5),zn(s,gp,5),zn(s,Bhe,5),zn(s,_Y,5),zn(s,Hhe,5),zn(s,uY,5)),r&2){hU();let a;Je(a=et())&&(o._formFieldControl=a.first),Je(a=et())&&(o._prefixChildren=a),Je(a=et())&&(o._suffixChildren=a),Je(a=et())&&(o._errorChildren=a),Je(a=et())&&(o._hintChildren=a)}},viewQuery:function(r,o){if(r&1&&(It(mhe,5),It(phe,5),It(ghe,5),It(bhe,5),It(vhe,5),It(hY,5),It(pY,5),It(mY,5)),r&2){let s;Je(s=et())&&(o._textField=s.first),Je(s=et())&&(o._iconPrefixContainer=s.first),Je(s=et())&&(o._textPrefixContainer=s.first),Je(s=et())&&(o._iconSuffixContainer=s.first),Je(s=et())&&(o._textSuffixContainer=s.first),Je(s=et())&&(o._floatingLabel=s.first),Je(s=et())&&(o._notchedOutline=s.first),Je(s=et())&&(o._lineRipple=s.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(r,o){r&2&&Ct("mat-mdc-form-field-label-always-float",o._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",o._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",o._hasIconSuffix)("mat-form-field-invalid",o._control.errorState)("mat-form-field-disabled",o._control.disabled)("mat-form-field-autofilled",o._control.autofilled)("mat-form-field-no-animations",o._animationMode==="NoopAnimations")("mat-form-field-appearance-fill",o.appearance=="fill")("mat-form-field-appearance-outline",o.appearance=="outline")("mat-form-field-hide-placeholder",o._hasFloatingLabel()&&!o._shouldLabelFloat())("mat-focused",o._control.focused)("mat-primary",o.color!=="accent"&&o.color!=="warn")("mat-accent",o.color==="accent")("mat-warn",o.color==="warn")("ng-untouched",o._shouldForward("untouched"))("ng-touched",o._shouldForward("touched"))("ng-pristine",o._shouldForward("pristine"))("ng-dirty",o._shouldForward("dirty"))("ng-valid",o._shouldForward("valid"))("ng-invalid",o._shouldForward("invalid"))("ng-pending",o._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[ui([{provide:Uh,useExisting:e},{provide:wY,useExisting:e}]),vt],ngContentSelectors:yhe,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(r,o){if(r&1){let s=Pn();Di(_he),Et(0,She,1,1,"ng-template",null,0,Tx),ie(2,"div",6,1),St("click",function(l){return yt(s),wt(o._control.onContainerClick(l))}),Et(4,xhe,1,0,"div",7),ie(5,"div",8),Et(6,The,2,2,"div",9)(7,Ihe,3,0,"div",10)(8,Dhe,3,0,"div",11),ie(9,"div",12),Et(10,Ahe,1,1,null,13),Pt(11),oe(),Et(12,Ohe,3,0,"div",14)(13,Phe,3,0,"div",15),oe(),Et(14,khe,1,0,"div",16),oe(),ie(15,"div",17),Et(16,Nhe,2,1,"div",18)(17,Fhe,5,2,"div",19),oe()}if(r&2){let s;ue(2),Ct("mdc-text-field--filled",!o._hasOutline())("mdc-text-field--outlined",o._hasOutline())("mdc-text-field--no-label",!o._hasFloatingLabel())("mdc-text-field--disabled",o._control.disabled)("mdc-text-field--invalid",o._control.errorState),ue(2),xi(!o._hasOutline()&&!o._control.disabled?4:-1),ue(2),xi(o._hasOutline()?6:-1),ue(),xi(o._hasIconPrefix?7:-1),ue(),xi(o._hasTextPrefix?8:-1),ue(2),xi(!o._hasOutline()||o._forceDisplayInfixLabel()?10:-1),ue(2),xi(o._hasTextSuffix?12:-1),ue(),xi(o._hasIconSuffix?13:-1),ue(),xi(o._hasOutline()?-1:14),ue(),Ct("mat-mdc-form-field-subscript-dynamic-size",o.subscriptSizing==="dynamic"),ue(),xi((s=o._getDisplayedMessages())==="error"?16:s==="hint"?17:-1)}},dependencies:[hY,pY,kx,mY,uY],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-filled-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-outlined-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--disabled .cdk-high-contrast-active .mdc-text-field__input{background-color:Window}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top));border-top-right-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color, var(--mat-app-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.cdk-high-contrast-active .mdc-text-field--disabled .mdc-floating-label{z-index:1}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-filled-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-filled-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-filled-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color, var(--mat-app-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-outlined-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-outlined-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-outlined-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color, var(--mat-app-outline));border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color, var(--mat-app-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color, var(--mat-app-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),100% - max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))*2)}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none;--mat-form-field-notch-max-width: 100%}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color, var(--mat-app-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color, var(--mat-app-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color, var(--mat-app-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color, var(--mat-app-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-app-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-app-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-app-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-app-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-app-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-app-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-app-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-app-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-app-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-app-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-app-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-app-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-app-body-large-weight))}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-app-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-app-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-app-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field-infix:has(textarea[cols]){width:auto}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[jhe.transitionMessages]},changeDetection:0});let t=e;return t})(),zh=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Xe({type:e}),e.\u0275inj=Ke({imports:[Ft,Hr,fE,Ft]});let t=e;return t})();var ik=new we("MAT_INPUT_VALUE_ACCESSOR"),$he=["button","checkbox","file","hidden","image","radio","range","reset","submit"],qhe=0,SY=(()=>{let e=class e{get disabled(){return this._disabled}set disabled(n){this._disabled=Nh(n),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(n){this._id=n||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(zd.required)??!1}set required(n){this._required=Nh(n)}get type(){return this._type}set type(n){this._type=n||"text",this._validateType(),!this._isTextarea&&mP().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._ensureWheelDefaultBehavior()}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(n){this._errorStateTracker.matcher=n}get value(){return this._inputValueAccessor.value}set value(n){n!==this.value&&(this._inputValueAccessor.value=n,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(n){this._readonly=Nh(n)}get errorState(){return this._errorStateTracker.errorState}set errorState(n){this._errorStateTracker.errorState=n}constructor(n,r,o,s,a,l,c,d,u,f){this._elementRef=n,this._platform=r,this.ngControl=o,this._autofillMonitor=d,this._ngZone=u,this._formField=f,this._uid=`mat-input-${qhe++}`,this._webkitBlinkWheelListenerAttached=!1,this.focused=!1,this.stateChanges=new Be,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(_=>mP().has(_)),this._iOSKeyupListener=_=>{let b=_.target;!b.value&&b.selectionStart===0&&b.selectionEnd===0&&(b.setSelectionRange(1,1),b.setSelectionRange(0,0))},this._webkitBlinkWheelListener=()=>{};let m=this._elementRef.nativeElement,g=m.nodeName.toLowerCase();this._inputValueAccessor=c||m,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&u.runOutsideAngular(()=>{n.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new Vh(l,o,a,s,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=g==="select",this._isTextarea=g==="textarea",this._isInFormField=!!f,this._isNativeSelect&&(this.controlType=m.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(n=>{this.autofilled=n.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener),this._webkitBlinkWheelListenerAttached&&this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(n){this._elementRef.nativeElement.focus(n)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(n){n!==this.focused&&(this.focused=n,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){let n=this._elementRef.nativeElement.value;this._previousNativeValue!==n&&(this._previousNativeValue=n,this.stateChanges.next())}_dirtyCheckPlaceholder(){let n=this._getPlaceholder();if(n!==this._previousPlaceholder){let r=this._elementRef.nativeElement;this._previousPlaceholder=n,n?r.setAttribute("placeholder",n):r.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){$he.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let n=this._elementRef.nativeElement.validity;return n&&n.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let n=this._elementRef.nativeElement,r=n.options[0];return this.focused||n.multiple||!this.empty||!!(n.selectedIndex>-1&&r&&r.label)}else return this.focused||!this.empty}setDescribedByIds(n){n.length?this._elementRef.nativeElement.setAttribute("aria-describedby",n.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let n=this._elementRef.nativeElement;return this._isNativeSelect&&(n.multiple||n.size>1)}_ensureWheelDefaultBehavior(){!this._webkitBlinkWheelListenerAttached&&this._type==="number"&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("wheel",this._webkitBlinkWheelListener)}),this._webkitBlinkWheelListenerAttached=!0),this._webkitBlinkWheelListenerAttached&&this._type!=="number"&&(this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener),this._webkitBlinkWheelListenerAttached=!0)}};e.\u0275fac=function(r){return new(r||e)(L(Ze),L(ri),L(Vs,10),L(y_,8),L(w_,8),L(d_),L(ik,10),L(cY),L(Ge),L(Uh,8))},e.\u0275dir=Qe({type:e,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(r,o){r&1&&St("focus",function(){return o._focusChanged(!0)})("blur",function(){return o._focusChanged(!1)})("input",function(){return o._onInput()}),r&2&&(Ns("id",o.id)("disabled",o.disabled)("required",o.required),Rt("name",o.name||null)("readonly",o.readonly&&!o._isNativeSelect||null)("aria-invalid",o.empty&&o.required?null:o.errorState)("aria-required",o.required)("id",o.id),Ct("mat-input-server",o._isServer)("mat-mdc-form-field-textarea-control",o._isInFormField&&o._isTextarea)("mat-mdc-form-field-input-control",o._isInFormField)("mdc-text-field__input",o._isInFormField)("mat-mdc-native-select-inline",o._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[ui([{provide:gp,useExisting:e}]),li]});let t=e;return t})(),xY=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Xe({type:e}),e.\u0275inj=Ke({imports:[Ft,zh,zh,dY,Ft]});let t=e;return t})();var EY=hE(),nk=class{constructor(e,i){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=i}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Gn(-this._previousScrollPosition.left),e.style.top=Gn(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,i=this._document.body,n=e.style,r=i.style,o=n.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),EY&&(n.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),EY&&(n.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let i=this._document.body,n=this._viewportRuler.getViewportSize();return i.scrollHeight>n.height||i.scrollWidth>n.width}};var rk=class{constructor(e,i,n,r){this._scrollDispatcher=e,this._ngZone=i,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(Ii(i=>!i||!this._overlayRef.overlayElement.contains(i.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let i=this._viewportRuler.getViewportScrollPosition().top;Math.abs(i-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},UE=class{enable(){}disable(){}attach(){}};function ok(t,e){return e.some(i=>{let n=t.bottom<i.top,r=t.top>i.bottom,o=t.right<i.left,s=t.left>i.right;return n||r||o||s})}function RY(t,e){return e.some(i=>{let n=t.top<i.top,r=t.bottom>i.bottom,o=t.left<i.left,s=t.right>i.right;return n||r||o||s})}var sk=class{constructor(e,i,n,r){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let i=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:r}=this._viewportRuler.getViewportSize();ok(i,[{width:n,height:r,bottom:r,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Xhe=(()=>{let e=class e{constructor(n,r,o,s){this._scrollDispatcher=n,this._viewportRuler=r,this._ngZone=o,this.noop=()=>new UE,this.close=a=>new rk(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new nk(this._viewportRuler,this._document),this.reposition=a=>new sk(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=s}};e.\u0275fac=function(r){return new(r||e)(ce(NP),ce(jd),ce(Ge),ce(Tt))},e.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Tc=class{constructor(e){if(this.scrollStrategy=new UE,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){let i=Object.keys(e);for(let n of i)e[n]!==void 0&&(this[n]=e[n])}}};var ak=class{constructor(e,i){this.connectionPair=e,this.scrollableViewProperties=i}};var OY=(()=>{let e=class e{constructor(n){this._attachedOverlays=[],this._document=n}ngOnDestroy(){this.detach()}add(n){this.remove(n),this._attachedOverlays.push(n)}remove(n){let r=this._attachedOverlays.indexOf(n);r>-1&&this._attachedOverlays.splice(r,1),this._attachedOverlays.length===0&&this.detach()}};e.\u0275fac=function(r){return new(r||e)(ce(Tt))},e.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Qhe=(()=>{let e=class e extends OY{constructor(n,r){super(n),this._ngZone=r,this._keydownListener=o=>{let s=this._attachedOverlays;for(let a=s.length-1;a>-1;a--)if(s[a]._keydownEvents.observers.length>0){let l=s[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>l.next(o)):l.next(o);break}}}add(n){super.add(n),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}};e.\u0275fac=function(r){return new(r||e)(ce(Tt),ce(Ge,8))},e.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Zhe=(()=>{let e=class e extends OY{constructor(n,r,o){super(n),this._platform=r,this._ngZone=o,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=cs(s)},this._clickListener=s=>{let a=cs(s),l=s.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;let c=this._attachedOverlays.slice();for(let d=c.length-1;d>-1;d--){let u=c[d];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(TY(u.overlayElement,a)||TY(u.overlayElement,l))break;let f=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>f.next(s)):f.next(s)}}}add(n){if(super.add(n),!this._isAttached){let r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let n=this._document.body;n.removeEventListener("pointerdown",this._pointerDownListener,!0),n.removeEventListener("click",this._clickListener,!0),n.removeEventListener("auxclick",this._clickListener,!0),n.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(n.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(n){n.addEventListener("pointerdown",this._pointerDownListener,!0),n.addEventListener("click",this._clickListener,!0),n.addEventListener("auxclick",this._clickListener,!0),n.addEventListener("contextmenu",this._clickListener,!0)}};e.\u0275fac=function(r){return new(r||e)(ce(Tt),ce(ri),ce(Ge,8))},e.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function TY(t,e){let i=typeof ShadowRoot<"u"&&ShadowRoot,n=e;for(;n;){if(n===t)return!0;n=i&&n instanceof ShadowRoot?n.host:n.parentNode}return!1}var bp=(()=>{let e=class e{constructor(n,r){this._platform=r,this._document=n}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let n="cdk-overlay-container";if(this._platform.isBrowser||n_()){let o=this._document.querySelectorAll(`.${n}[platform="server"], .${n}[platform="test"]`);for(let s=0;s<o.length;s++)o[s].remove()}let r=this._document.createElement("div");r.classList.add(n),n_()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}};e.\u0275fac=function(r){return new(r||e)(ce(Tt),ce(ri))},e.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ic=class{constructor(e,i,n,r,o,s,a,l,c,d=!1,u){this._portalOutlet=e,this._host=i,this._pane=n,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=d,this._injector=u,this._backdropElement=null,this._backdropClick=new Be,this._attachments=new Be,this._detachments=new Be,this._locationChanges=Ti.EMPTY,this._backdropClickHandler=f=>this._backdropClick.next(f),this._backdropTransitionendHandler=f=>{this._disposeBackdrop(f.target)},this._keydownEvents=new Be,this._outsidePointerEvents=new Be,this._renders=new Be,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy,this._afterRenderRef=bU(()=>Rx(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let i=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=vo(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof i?.onDestroy=="function"&&i.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),i}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=ee(ee({},this._config),e),this._updateElementSize()}setDirection(e){this._config=st(ee({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=Gn(this._config.width),e.height=Gn(this._config.height),e.minWidth=Gn(this._config.minWidth),e.minHeight=Gn(this._config.minHeight),e.maxWidth=Gn(this._config.maxWidth),e.maxHeight=Gn(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let e=this._backdropElement;if(e){if(this._animationsDisabled){this._disposeBackdrop(e);return}e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,i,n){let r=np(i||[]).filter(o=>!!o);r.length&&(n?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let e=this._renders.pipe(Pi(dr(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){let e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},IY="cdk-overlay-connected-position-bounding-box",Jhe=/([A-Za-z%]+)$/,C_=class{get positions(){return this._preferredPositions}constructor(e,i,n,r,o){this._viewportRuler=i,this._document=n,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Be,this._resizeSubscription=Ti.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(IY),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,i=this._overlayRect,n=this._viewportRect,r=this._containerRect,o=[],s;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,r,a),c=this._getOverlayPoint(l,i,a),d=this._getOverlayFit(c,i,n,a);if(d.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,l);return}if(this._canFitWithFlexibleDimensions(d,c,n)){o.push({position:a,origin:l,overlayRect:i,boundingBoxRect:this._calculateBoundingBoxRect(l,a)});continue}(!s||s.overlayFit.visibleArea<d.visibleArea)&&(s={overlayFit:d,overlayPoint:c,originPoint:l,position:a,overlayRect:i})}if(o.length){let a=null,l=-1;for(let c of o){let d=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);d>l&&(l=d,a=c)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Yh(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(IY),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let i=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,i)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,i,n){let r;if(n.originX=="center")r=e.left+e.width/2;else{let s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;r=n.originX=="start"?s:a}i.left<0&&(r-=i.left);let o;return n.originY=="center"?o=e.top+e.height/2:o=n.originY=="top"?e.top:e.bottom,i.top<0&&(o-=i.top),{x:r,y:o}}_getOverlayPoint(e,i,n){let r;n.overlayX=="center"?r=-i.width/2:n.overlayX==="start"?r=this._isRtl()?-i.width:0:r=this._isRtl()?0:-i.width;let o;return n.overlayY=="center"?o=-i.height/2:o=n.overlayY=="top"?0:-i.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,i,n,r){let o=MY(i),{x:s,y:a}=e,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(s+=l),c&&(a+=c);let d=0-s,u=s+o.width-n.width,f=0-a,m=a+o.height-n.height,g=this._subtractOverflows(o.width,d,u),_=this._subtractOverflows(o.height,f,m),b=g*_;return{visibleArea:b,isCompletelyWithinViewport:o.width*o.height===b,fitsInViewportVertically:_===o.height,fitsInViewportHorizontally:g==o.width}}_canFitWithFlexibleDimensions(e,i,n){if(this._hasFlexibleDimensions){let r=n.bottom-i.y,o=n.right-i.x,s=DY(this._overlayRef.getConfig().minHeight),a=DY(this._overlayRef.getConfig().minWidth),l=e.fitsInViewportVertically||s!=null&&s<=r,c=e.fitsInViewportHorizontally||a!=null&&a<=o;return l&&c}return!1}_pushOverlayOnScreen(e,i,n){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let r=MY(i),o=this._viewportRect,s=Math.max(e.x+r.width-o.width,0),a=Math.max(e.y+r.height-o.height,0),l=Math.max(o.top-n.top-e.y,0),c=Math.max(o.left-n.left-e.x,0),d=0,u=0;return r.width<=o.width?d=c||-s:d=e.x<this._viewportMargin?o.left-n.left-e.x:0,r.height<=o.height?u=l||-a:u=e.y<this._viewportMargin?o.top-n.top-e.y:0,this._previousPushAmount={x:d,y:u},{x:e.x+d,y:e.y+u}}_applyPosition(e,i){if(this._setTransformOrigin(e),this._setOverlayElementStyles(i,e),this._setBoundingBoxStyles(i,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let n=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!efe(this._lastScrollVisibility,n)){let r=new ak(e,n);this._positionChanges.next(r)}this._lastScrollVisibility=n}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let i=this._boundingBox.querySelectorAll(this._transformOriginSelector),n,r=e.overlayY;e.overlayX==="center"?n="center":this._isRtl()?n=e.overlayX==="start"?"right":"left":n=e.overlayX==="start"?"left":"right";for(let o=0;o<i.length;o++)i[o].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(e,i){let n=this._viewportRect,r=this._isRtl(),o,s,a;if(i.overlayY==="top")s=e.y,o=n.height-s+this._viewportMargin;else if(i.overlayY==="bottom")a=n.height-e.y+this._viewportMargin*2,o=n.height-a+this._viewportMargin;else{let m=Math.min(n.bottom-e.y+n.top,e.y),g=this._lastBoundingBoxSize.height;o=m*2,s=e.y-m,o>g&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-g/2)}let l=i.overlayX==="start"&&!r||i.overlayX==="end"&&r,c=i.overlayX==="end"&&!r||i.overlayX==="start"&&r,d,u,f;if(c)f=n.width-e.x+this._viewportMargin*2,d=e.x-this._viewportMargin;else if(l)u=e.x,d=n.right-e.x;else{let m=Math.min(n.right-e.x+n.left,e.x),g=this._lastBoundingBoxSize.width;d=m*2,u=e.x-m,d>g&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.x-g/2)}return{top:s,left:u,bottom:a,right:f,width:d,height:o}}_setBoundingBoxStyles(e,i){let n=this._calculateBoundingBoxRect(e,i);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=Gn(n.height),r.top=Gn(n.top),r.bottom=Gn(n.bottom),r.width=Gn(n.width),r.left=Gn(n.left),r.right=Gn(n.right),i.overlayX==="center"?r.alignItems="center":r.alignItems=i.overlayX==="end"?"flex-end":"flex-start",i.overlayY==="center"?r.justifyContent="center":r.justifyContent=i.overlayY==="bottom"?"flex-end":"flex-start",o&&(r.maxHeight=Gn(o)),s&&(r.maxWidth=Gn(s))}this._lastBoundingBoxSize=n,Yh(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Yh(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Yh(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,i){let n={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){let d=this._viewportRuler.getViewportScrollPosition();Yh(n,this._getExactOverlayY(i,e,d)),Yh(n,this._getExactOverlayX(i,e,d))}else n.position="static";let a="",l=this._getOffset(i,"x"),c=this._getOffset(i,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),n.transform=a.trim(),s.maxHeight&&(r?n.maxHeight=Gn(s.maxHeight):o&&(n.maxHeight="")),s.maxWidth&&(r?n.maxWidth=Gn(s.maxWidth):o&&(n.maxWidth="")),Yh(this._pane.style,n)}_getExactOverlayY(e,i,n){let r={top:"",bottom:""},o=this._getOverlayPoint(i,this._overlayRect,e);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),e.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;r.bottom=`${s-(o.y+this._overlayRect.height)}px`}else r.top=Gn(o.y);return r}_getExactOverlayX(e,i,n){let r={left:"",right:""},o=this._getOverlayPoint(i,this._overlayRect,e);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n));let s;if(this._isRtl()?s=e.overlayX==="end"?"left":"right":s=e.overlayX==="end"?"right":"left",s==="right"){let a=this._document.documentElement.clientWidth;r.right=`${a-(o.x+this._overlayRect.width)}px`}else r.left=Gn(o.x);return r}_getScrollVisibility(){let e=this._getOriginRect(),i=this._pane.getBoundingClientRect(),n=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:RY(e,n),isOriginOutsideView:ok(e,n),isOverlayClipped:RY(i,n),isOverlayOutsideView:ok(i,n)}}_subtractOverflows(e,...i){return i.reduce((n,r)=>n-Math.max(r,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,i=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+e-this._viewportMargin,bottom:n.top+i-this._viewportMargin,width:e-2*this._viewportMargin,height:i-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,i){return i==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&np(e).forEach(i=>{i!==""&&this._appliedPanelClasses.indexOf(i)===-1&&(this._appliedPanelClasses.push(i),this._pane.classList.add(i))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof Ze)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let i=e.width||0,n=e.height||0;return{top:e.y,bottom:e.y+n,left:e.x,right:e.x+i,height:n,width:i}}};function Yh(t,e){for(let i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function DY(t){if(typeof t!="number"&&t!=null){let[e,i]=t.split(Jhe);return!i||i==="px"?parseFloat(e):null}return t||null}function MY(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}function efe(t,e){return t===e?!0:t.isOriginClipped===e.isOriginClipped&&t.isOriginOutsideView===e.isOriginOutsideView&&t.isOverlayClipped===e.isOverlayClipped&&t.isOverlayOutsideView===e.isOverlayOutsideView}var AY="cdk-global-overlay-wrapper",lk=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){let i=e.getConfig();this._overlayRef=e,this._width&&!i.width&&e.updateSize({width:this._width}),this._height&&!i.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(AY),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=n,l=(r==="100%"||r==="100vw")&&(!s||s==="100%"||s==="100vw"),c=(o==="100%"||o==="100vh")&&(!a||a==="100%"||a==="100vh"),d=this._xPosition,u=this._xOffset,f=this._overlayRef.getConfig().direction==="rtl",m="",g="",_="";l?_="flex-start":d==="center"?(_="center",f?g=u:m=u):f?d==="left"||d==="end"?(_="flex-end",m=u):(d==="right"||d==="start")&&(_="flex-start",g=u):d==="left"||d==="start"?(_="flex-start",m=u):(d==="right"||d==="end")&&(_="flex-end",g=u),e.position=this._cssPosition,e.marginLeft=l?"0":m,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":g,i.justifyContent=_,i.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement,n=i.style;i.classList.remove(AY),n.justifyContent=n.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},tfe=(()=>{let e=class e{constructor(n,r,o,s){this._viewportRuler=n,this._document=r,this._platform=o,this._overlayContainer=s}global(){return new lk}flexibleConnectedTo(n){return new C_(n,this._viewportRuler,this._document,this._platform,this._overlayContainer)}};e.\u0275fac=function(r){return new(r||e)(ce(jd),ce(Tt),ce(ri),ce(bp))},e.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ife=0,Rn=(()=>{let e=class e{constructor(n,r,o,s,a,l,c,d,u,f,m,g){this.scrollStrategies=n,this._overlayContainer=r,this._componentFactoryResolver=o,this._positionBuilder=s,this._keyboardDispatcher=a,this._injector=l,this._ngZone=c,this._document=d,this._directionality=u,this._location=f,this._outsideClickDispatcher=m,this._animationsModuleType=g}create(n){let r=this._createHostElement(),o=this._createPaneElement(r),s=this._createPortalOutlet(o),a=new Tc(n);return a.direction=a.direction||this._directionality.value,new Ic(s,r,o,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(ll))}position(){return this._positionBuilder}_createPaneElement(n){let r=this._document.createElement("div");return r.id=`cdk-overlay-${ife++}`,r.classList.add("cdk-overlay-pane"),n.appendChild(r),r}_createHostElement(){let n=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalOutlet(n){return this._appRef||(this._appRef=this._injector.get(Wm)),new RE(n,this._componentFactoryResolver,this._appRef,this._injector,this._document)}};e.\u0275fac=function(r){return new(r||e)(ce(Xhe),ce(bp),ce(Lm),ce(tfe),ce(Qhe),ce(tn),ce(Ge),ce(Tt),ce($n),ce(wc),ce(Zhe),ce(yn,8))},e.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),nfe=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],PY=new we("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let t=pe(Rn);return()=>t.scrollStrategies.reposition()}}),S_=(()=>{let e=class e{constructor(n){this.elementRef=n}};e.\u0275fac=function(r){return new(r||e)(L(Ze))},e.\u0275dir=Qe({type:e,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0});let t=e;return t})(),ck=(()=>{let e=class e{get offsetX(){return this._offsetX}set offsetX(n){this._offsetX=n,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(n){this._offsetY=n,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(n){this._disposeOnNavigation=n}constructor(n,r,o,s,a){this._overlay=n,this._dir=a,this._backdropSubscription=Ti.EMPTY,this._attachSubscription=Ti.EMPTY,this._detachSubscription=Ti.EMPTY,this._positionSubscription=Ti.EMPTY,this._disposeOnNavigation=!1,this._ngZone=pe(Ge),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new Ie,this.positionChange=new Ie,this.attach=new Ie,this.detach=new Ie,this.overlayKeydown=new Ie,this.overlayOutsideClick=new Ie,this._templatePortal=new Da(r,o),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(n){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),n.origin&&this.open&&this._position.apply()),n.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=nfe);let n=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=n.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=n.detachments().subscribe(()=>this.detach.emit()),n.keydownEvents().subscribe(r=>{this.overlayKeydown.next(r),r.keyCode===27&&!this.disableClose&&!Nn(r)&&(r.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(r=>{let o=this._getOriginElement(),s=cs(r);(!o||o!==s&&!o.contains(s))&&this.overlayOutsideClick.next(r)})}_buildConfig(){let n=this._position=this.positionStrategy||this._createPositionStrategy(),r=new Tc({direction:this._dir,positionStrategy:n,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||this.width===0)&&(r.width=this.width),(this.height||this.height===0)&&(r.height=this.height),(this.minWidth||this.minWidth===0)&&(r.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(r.minHeight=this.minHeight),this.backdropClass&&(r.backdropClass=this.backdropClass),this.panelClass&&(r.panelClass=this.panelClass),r}_updatePositionStrategy(n){let r=this.positions.map(o=>({originX:o.originX,originY:o.originY,overlayX:o.overlayX,overlayY:o.overlayY,offsetX:o.offsetX||this.offsetX,offsetY:o.offsetY||this.offsetY,panelClass:o.panelClass||void 0}));return n.setOrigin(this._getOrigin()).withPositions(r).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){let n=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(n),n}_getOrigin(){return this.origin instanceof S_?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof S_?this.origin.elementRef.nativeElement:this.origin instanceof Ze?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(n=>{this.backdropClick.emit(n)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(Jj(()=>this.positionChange.observers.length>0)).subscribe(n=>{this._ngZone.run(()=>this.positionChange.emit(n)),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(L(Rn),L(Xr),L(Qr),L(PY),L($n,8))},e.\u0275dir=Qe({type:e,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",mt],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",mt],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",mt],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",mt],push:[2,"cdkConnectedOverlayPush","push",mt],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",mt]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[di,li]});let t=e;return t})();function rfe(t){return()=>t.scrollStrategies.reposition()}var ofe={provide:PY,deps:[Rn],useFactory:rfe},Kd=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Xe({type:e}),e.\u0275inj=Ke({providers:[Rn,ofe],imports:[Vd,dp,f_,f_]});let t=e;return t})();var sfe=["trigger"],afe=["panel"],lfe=[[["mat-select-trigger"]],"*"],cfe=["mat-select-trigger","*"];function dfe(t,e){if(t&1&&(ie(0,"span",4),ht(1),oe()),t&2){let i=at();ue(),kn(i.placeholder)}}function ufe(t,e){t&1&&Pt(0)}function hfe(t,e){if(t&1&&(ie(0,"span",11),ht(1),oe()),t&2){let i=at(2);ue(),kn(i.triggerValue)}}function ffe(t,e){if(t&1&&(ie(0,"span",5),Et(1,ufe,1,0)(2,hfe,2,1,"span",11),oe()),t&2){let i=at();ue(),xi(i.customTrigger?1:2)}}function mfe(t,e){if(t&1){let i=Pn();ie(0,"div",12,1),St("@transformPanel.done",function(r){yt(i);let o=at();return wt(o._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){yt(i);let o=at();return wt(o._handleKeydown(r))}),Pt(2,1),oe()}if(t&2){let i=at();lU("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",i._getPanelTheme(),""),Te("ngClass",i.panelClass)("@transformPanel","showing"),Rt("id",i.id+"-panel")("aria-multiselectable",i.multiple)("aria-label",i.ariaLabel||null)("aria-labelledby",i._getPanelAriaLabelledby())}}var pfe={transformPanelWrap:ul("transformPanelWrap",[_o("* => void",DU("@transformPanel",[IU()],{optional:!0}))]),transformPanel:ul("transformPanel",[Ra("void",Yn({opacity:0,transform:"scale(1, 0.8)"})),_o("void => showing",ko("120ms cubic-bezier(0, 0, 0.2, 1)",Yn({opacity:1,transform:"scale(1, 1)"}))),_o("* => void",ko("100ms linear",Yn({opacity:0})))])};var kY=0,NY=new we("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let t=pe(Rn);return()=>t.scrollStrategies.reposition()}});function gfe(t){return()=>t.scrollStrategies.reposition()}var bfe=new we("MAT_SELECT_CONFIG"),vfe={provide:NY,deps:[Rn],useFactory:gfe},_fe=new we("MatSelectTrigger"),uk=class{constructor(e,i){this.source=e,this.value=i}},LY=(()=>{let e=class e{_scrollOptionIntoView(n){let r=this.options.toArray()[n];if(r){let o=this.panel.nativeElement,s=OP(n,this.options,this.optionGroups),a=r._getHostElement();n===0&&s===1?o.scrollTop=0:o.scrollTop=PP(a.offsetTop,a.offsetHeight,o.scrollTop,o.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(n){return new uk(this,n)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(n){this._hideSingleSelectionIndicator=n,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(n){this._placeholder=n,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(zd.required)??!1}set required(n){this._required=n,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(n){this._selectionModel,this._multiple=n}get compareWith(){return this._compareWith}set compareWith(n){this._compareWith=n,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(n){this._assignValue(n)&&this._onChange(n)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(n){this._errorStateTracker.matcher=n}get id(){return this._id}set id(n){this._id=n||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(n){this._errorStateTracker.errorState=n}constructor(n,r,o,s,a,l,c,d,u,f,m,g,_,b){this._viewportRuler=n,this._changeDetectorRef=r,this._elementRef=a,this._dir=l,this._parentFormField=u,this.ngControl=f,this._liveAnnouncer=_,this._defaultOptions=b,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(y,x)=>y===x,this._uid=`mat-select-${kY++}`,this._triggerAriaLabelledBy=null,this._destroy=new Be,this.stateChanges=new Be,this.disableAutomaticLabeling=!0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId=`mat-select-value-${kY++}`,this._panelDoneAnimatingStream=new Be,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new Be,this.optionSelectionChanges=bc(()=>{let y=this.options;return y?y.changes.pipe(ir(y),ur(()=>dr(...y.map(x=>x.onSelectionChange)))):this._initialized.pipe(ur(()=>this.optionSelectionChanges))}),this.openedChange=new Ie,this._openedStream=this.openedChange.pipe(Ii(y=>y),jt(()=>{})),this._closedStream=this.openedChange.pipe(Ii(y=>!y),jt(()=>{})),this.selectionChange=new Ie,this.valueChange=new Ie,this._trackedModal=null,this._skipPredicate=y=>this.panelOpen?!1:y.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),b?.typeaheadDebounceInterval!=null&&(this.typeaheadDebounceInterval=b.typeaheadDebounceInterval),this._errorStateTracker=new Vh(s,f,d,c,this.stateChanges),this._scrollStrategyFactory=g,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(m)||0,this.id=this.id}ngOnInit(){this._selectionModel=new TE(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Ih(),Pi(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe(Pi(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(Pi(this._destroy)).subscribe(n=>{n.added.forEach(r=>r.select()),n.removed.forEach(r=>r.deselect())}),this.options.changes.pipe(ir(null),Pi(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){let n=this._getTriggerAriaLabelledby(),r=this.ngControl;if(n!==this._triggerAriaLabelledBy){let o=this._elementRef.nativeElement;this._triggerAriaLabelledBy=n,n?o.setAttribute("aria-labelledby",n):o.removeAttribute("aria-labelledby")}r&&(this._previousControl!==r.control&&(this._previousControl!==void 0&&r.disabled!==null&&r.disabled!==this.disabled&&(this.disabled=r.disabled),this._previousControl=r.control),this.updateErrorState())}ngOnChanges(n){(n.disabled||n.userAriaDescribedBy)&&this.stateChanges.next(),n.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){let n=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!n)return;let r=`${this.id}-panel`;this._trackedModal&&_P(this._trackedModal,"aria-owns",r),ez(n,"aria-owns",r),this._trackedModal=n}_clearFromModal(){if(!this._trackedModal)return;let n=`${this.id}-panel`;_P(this._trackedModal,"aria-owns",n),this._trackedModal=null}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(n){this._assignValue(n)}registerOnChange(n){this._onChange=n}registerOnTouched(n){this._onTouched=n}setDisabledState(n){this.disabled=n,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){let n=this._selectionModel.selected.map(r=>r.viewValue);return this._isRtl()&&n.reverse(),n.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return this._dir?this._dir.value==="rtl":!1}_handleKeydown(n){this.disabled||(this.panelOpen?this._handleOpenKeydown(n):this._handleClosedKeydown(n))}_handleClosedKeydown(n){let r=n.keyCode,o=r===40||r===38||r===37||r===39,s=r===13||r===32,a=this._keyManager;if(!a.isTyping()&&s&&!Nn(n)||(this.multiple||n.altKey)&&o)n.preventDefault(),this.open();else if(!this.multiple){let l=this.selected;a.onKeydown(n);let c=this.selected;c&&l!==c&&this._liveAnnouncer.announce(c.viewValue,1e4)}}_handleOpenKeydown(n){let r=this._keyManager,o=n.keyCode,s=o===40||o===38,a=r.isTyping();if(s&&n.altKey)n.preventDefault(),this.close();else if(!a&&(o===13||o===32)&&r.activeItem&&!Nn(n))n.preventDefault(),r.activeItem._selectViaInteraction();else if(!a&&this._multiple&&o===65&&n.ctrlKey){n.preventDefault();let l=this.options.some(c=>!c.disabled&&!c.selected);this.options.forEach(c=>{c.disabled||(l?c.select():c.deselect())})}else{let l=r.activeItemIndex;r.onKeydown(n),this._multiple&&s&&n.shiftKey&&r.activeItem&&r.activeItemIndex!==l&&r.activeItem._selectViaInteraction()}}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Fr(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(n){if(this.options.forEach(r=>r.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&n)Array.isArray(n),n.forEach(r=>this._selectOptionByValue(r)),this._sortValues();else{let r=this._selectOptionByValue(n);r?this._keyManager.updateActiveItem(r):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(n){let r=this.options.find(o=>{if(this._selectionModel.isSelected(o))return!1;try{return o.value!=null&&this._compareWith(o.value,n)}catch{return!1}});return r&&this._selectionModel.select(r),r}_assignValue(n){return n!==this._value||this._multiple&&Array.isArray(n)?(this.options&&this._setSelectionByValue(n),this._value=n,!0):!1}_getOverlayWidth(n){return this.panelWidth==="auto"?(n instanceof S_?n.elementRef:n||this._elementRef).nativeElement.getBoundingClientRect().width:this.panelWidth===null?"":this.panelWidth}_syncParentProperties(){if(this.options)for(let n of this.options)n._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new bE(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){let n=dr(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Pi(n)).subscribe(r=>{this._onSelect(r.source,r.isUserInput),r.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),dr(...this.options.map(r=>r._stateChanges)).pipe(Pi(n)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(n,r){let o=this._selectionModel.isSelected(n);n.value==null&&!this._multiple?(n.deselect(),this._selectionModel.clear(),this.value!=null&&this._propagateChanges(n.value)):(o!==n.selected&&(n.selected?this._selectionModel.select(n):this._selectionModel.deselect(n)),r&&this._keyManager.setActiveItem(n),this.multiple&&(this._sortValues(),r&&this.focus())),o!==this._selectionModel.isSelected(n)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){let n=this.options.toArray();this._selectionModel.sort((r,o)=>this.sortComparator?this.sortComparator(r,o,n):n.indexOf(r)-n.indexOf(o)),this.stateChanges.next()}}_propagateChanges(n){let r;this.multiple?r=this.selected.map(o=>o.value):r=this.selected?this.selected.value:n,this._value=r,this.valueChange.emit(r),this._onChange(r),this.selectionChange.emit(this._getChangeEvent(r)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let n=-1;for(let r=0;r<this.options.length;r++)if(!this.options.get(r).disabled){n=r;break}this._keyManager.setActiveItem(n)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(n){this._elementRef.nativeElement.focus(n)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;let n=this._parentFormField?.getLabelId(),r=n?n+" ":"";return this.ariaLabelledby?r+this.ariaLabelledby:n}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let n=this._parentFormField?.getLabelId(),r=(n?n+" ":"")+this._valueId;return this.ariaLabelledby&&(r+=" "+this.ariaLabelledby),r}_panelDoneAnimating(n){this.openedChange.emit(n)}setDescribedByIds(n){n.length?this._elementRef.nativeElement.setAttribute("aria-describedby",n.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}};e.\u0275fac=function(r){return new(r||e)(L(jd),L(vi),L(Ge),L(d_),L(Ze),L($n,8),L(y_,8),L(w_,8),L(Uh,8),L(Vs,10),Ea("tabindex"),L(NY),L(_E),L(bfe,8))},e.\u0275cmp=ut({type:e,selectors:[["mat-select"]],contentQueries:function(r,o,s){if(r&1&&(zn(s,_fe,5),zn(s,u_,5),zn(s,xE,5)),r&2){let a;Je(a=et())&&(o.customTrigger=a.first),Je(a=et())&&(o.options=a),Je(a=et())&&(o.optionGroups=a)}},viewQuery:function(r,o){if(r&1&&(It(sfe,5),It(afe,5),It(ck,5)),r&2){let s;Je(s=et())&&(o.trigger=s.first),Je(s=et())&&(o.panel=s.first),Je(s=et())&&(o._overlayDir=s.first)}},hostAttrs:["role","combobox","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(r,o){r&1&&St("keydown",function(a){return o._handleKeydown(a)})("focus",function(){return o._onFocus()})("blur",function(){return o._onBlur()}),r&2&&(Rt("id",o.id)("tabindex",o.disabled?-1:o.tabIndex)("aria-controls",o.panelOpen?o.id+"-panel":null)("aria-expanded",o.panelOpen)("aria-label",o.ariaLabel||null)("aria-required",o.required.toString())("aria-disabled",o.disabled.toString())("aria-invalid",o.errorState)("aria-activedescendant",o._getAriaActiveDescendant()),Ct("mat-mdc-select-disabled",o.disabled)("mat-mdc-select-invalid",o.errorState)("mat-mdc-select-required",o.required)("mat-mdc-select-empty",o.empty)("mat-mdc-select-multiple",o.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",mt],disableRipple:[2,"disableRipple","disableRipple",mt],tabIndex:[2,"tabIndex","tabIndex",n=>n==null?0:Po(n)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",mt],placeholder:"placeholder",required:[2,"required","required",mt],multiple:[2,"multiple","multiple",mt],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",mt],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",Po],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[ui([{provide:gp,useExisting:e},{provide:SE,useExisting:e}]),di,li,vt],ngContentSelectors:cfe,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(r,o){if(r&1){let s=Pn();Di(lfe),ie(0,"div",2,0),St("click",function(){return yt(s),wt(o.open())}),ie(3,"div",3),Et(4,dfe,2,1,"span",4)(5,ffe,3,1,"span",5),oe(),ie(6,"div",6)(7,"div",7),cl(),ie(8,"svg",8),ze(9,"path",9),oe()()()(),Et(10,mfe,3,9,"ng-template",10),St("backdropClick",function(){return yt(s),wt(o.close())})("attach",function(){return yt(s),wt(o._onAttached())})("detach",function(){return yt(s),wt(o.close())})}if(r&2){let s=_r(1);ue(3),Rt("id",o._valueId),ue(),xi(o.empty?4:5),ue(6),Te("cdkConnectedOverlayPanelClass",o._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",o._scrollStrategy)("cdkConnectedOverlayOrigin",o._preferredOverlayOrigin||s)("cdkConnectedOverlayOpen",o.panelOpen)("cdkConnectedOverlayPositions",o._positions)("cdkConnectedOverlayWidth",o._overlayWidth)}},dependencies:[S_,ck,Ox],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color, var(--mat-app-on-surface));font-family:var(--mat-select-trigger-text-font, var(--mat-app-body-large-font));line-height:var(--mat-select-trigger-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mat-select-trigger-text-size, var(--mat-app-body-large-size));font-weight:var(--mat-select-trigger-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mat-select-trigger-text-tracking, var(--mat-app-body-large-tracking))}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color, var(--mat-app-error))}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color, var(--mat-app-on-surface-variant))}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color, var(--mat-app-primary))}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color, var(--mat-app-surface-container))}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color, var(--mat-app-on-surface-variant))}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[pfe.transformPanel]},changeDetection:0});let t=e;return t})();var FY=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Xe({type:e}),e.\u0275inj=Ke({providers:[vfe],imports:[Hr,Kd,lp,Ft,Wd,zh,lp,Ft]});let t=e;return t})();var wfe=new we("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{let t=pe(Rn);return()=>t.scrollStrategies.reposition()}});function Cfe(t){return()=>t.scrollStrategies.reposition()}var Sfe={provide:wfe,deps:[Rn],useFactory:Cfe};var HY=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Xe({type:e}),e.\u0275inj=Ke({providers:[Sfe],imports:[Kd,lp,Ft,Hr,Wd,lp,Ft]});let t=e;return t})();function R_(t){return t+.5|0}var Xd=(t,e,i)=>Math.max(Math.min(t,i),e);function x_(t){return Xd(R_(t*2.55),0,255)}function Qd(t){return Xd(R_(t*255),0,255)}function Dc(t){return Xd(R_(t/2.55)/100,0,1)}function VY(t){return Xd(R_(t*100),0,100)}var Bs={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},fk=[..."0123456789ABCDEF"],xfe=t=>fk[t&15],Efe=t=>fk[(t&240)>>4]+fk[t&15],zE=t=>(t&240)>>4===(t&15),Rfe=t=>zE(t.r)&&zE(t.g)&&zE(t.b)&&zE(t.a);function Tfe(t){var e=t.length,i;return t[0]==="#"&&(e===4||e===5?i={r:255&Bs[t[1]]*17,g:255&Bs[t[2]]*17,b:255&Bs[t[3]]*17,a:e===5?Bs[t[4]]*17:255}:(e===7||e===9)&&(i={r:Bs[t[1]]<<4|Bs[t[2]],g:Bs[t[3]]<<4|Bs[t[4]],b:Bs[t[5]]<<4|Bs[t[6]],a:e===9?Bs[t[7]]<<4|Bs[t[8]]:255})),i}var Ife=(t,e)=>t<255?e(t):"";function Dfe(t){var e=Rfe(t)?xfe:Efe;return t?"#"+e(t.r)+e(t.g)+e(t.b)+Ife(t.a,e):void 0}var Mfe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function UY(t,e,i){let n=e*Math.min(i,1-i),r=(o,s=(o+t/30)%12)=>i-n*Math.max(Math.min(s-3,9-s,1),-1);return[r(0),r(8),r(4)]}function Afe(t,e,i){let n=(r,o=(r+t/60)%6)=>i-i*e*Math.max(Math.min(o,4-o,1),0);return[n(5),n(3),n(1)]}function Ofe(t,e,i){let n=UY(t,1,.5),r;for(e+i>1&&(r=1/(e+i),e*=r,i*=r),r=0;r<3;r++)n[r]*=1-e-i,n[r]+=e;return n}function Pfe(t,e,i,n,r){return t===r?(e-i)/n+(e<i?6:0):e===r?(i-t)/n+2:(t-e)/n+4}function mk(t){let i=t.r/255,n=t.g/255,r=t.b/255,o=Math.max(i,n,r),s=Math.min(i,n,r),a=(o+s)/2,l,c,d;return o!==s&&(d=o-s,c=a>.5?d/(2-o-s):d/(o+s),l=Pfe(i,n,r,d,o),l=l*60+.5),[l|0,c||0,a]}function pk(t,e,i,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,i,n)).map(Qd)}function gk(t,e,i){return pk(UY,t,e,i)}function kfe(t,e,i){return pk(Ofe,t,e,i)}function Nfe(t,e,i){return pk(Afe,t,e,i)}function zY(t){return(t%360+360)%360}function Lfe(t){let e=Mfe.exec(t),i=255,n;if(!e)return;e[5]!==n&&(i=e[6]?x_(+e[5]):Qd(+e[5]));let r=zY(+e[2]),o=+e[3]/100,s=+e[4]/100;return e[1]==="hwb"?n=kfe(r,o,s):e[1]==="hsv"?n=Nfe(r,o,s):n=gk(r,o,s),{r:n[0],g:n[1],b:n[2],a:i}}function Ffe(t,e){var i=mk(t);i[0]=zY(i[0]+e),i=gk(i),t.r=i[0],t.g=i[1],t.b=i[2]}function Hfe(t){if(!t)return;let e=mk(t),i=e[0],n=VY(e[1]),r=VY(e[2]);return t.a<255?`hsla(${i}, ${n}%, ${r}%, ${Dc(t.a)})`:`hsl(${i}, ${n}%, ${r}%)`}var BY={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},WY={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Vfe(){let t={},e=Object.keys(WY),i=Object.keys(BY),n,r,o,s,a;for(n=0;n<e.length;n++){for(s=a=e[n],r=0;r<i.length;r++)o=i[r],a=a.replace(o,BY[o]);o=parseInt(WY[s],16),t[a]=[o>>16&255,o>>8&255,o&255]}return t}var YE;function Bfe(t){YE||(YE=Vfe(),YE.transparent=[0,0,0,0]);let e=YE[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}var Wfe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function jfe(t){let e=Wfe.exec(t),i=255,n,r,o;if(e){if(e[7]!==n){let s=+e[7];i=e[8]?x_(s):Xd(s*255,0,255)}return n=+e[1],r=+e[3],o=+e[5],n=255&(e[2]?x_(n):Xd(n,0,255)),r=255&(e[4]?x_(r):Xd(r,0,255)),o=255&(e[6]?x_(o):Xd(o,0,255)),{r:n,g:r,b:o,a:i}}}function Ufe(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Dc(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}var hk=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,vp=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function zfe(t,e,i){let n=vp(Dc(t.r)),r=vp(Dc(t.g)),o=vp(Dc(t.b));return{r:Qd(hk(n+i*(vp(Dc(e.r))-n))),g:Qd(hk(r+i*(vp(Dc(e.g))-r))),b:Qd(hk(o+i*(vp(Dc(e.b))-o))),a:t.a+i*(e.a-t.a)}}function GE(t,e,i){if(t){let n=mk(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*i,e===0?360:1)),n=gk(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function YY(t,e){return t&&Object.assign(e||{},t)}function jY(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Qd(t[3]))):(e=YY(t,{r:0,g:0,b:0,a:1}),e.a=Qd(e.a)),e}function Yfe(t){return t.charAt(0)==="r"?jfe(t):Lfe(t)}var E_=class t{constructor(e){if(e instanceof t)return e;let i=typeof e,n;i==="object"?n=jY(e):i==="string"&&(n=Tfe(e)||Bfe(e)||Yfe(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=YY(this._rgb);return e&&(e.a=Dc(e.a)),e}set rgb(e){this._rgb=jY(e)}rgbString(){return this._valid?Ufe(this._rgb):void 0}hexString(){return this._valid?Dfe(this._rgb):void 0}hslString(){return this._valid?Hfe(this._rgb):void 0}mix(e,i){if(e){let n=this.rgb,r=e.rgb,o,s=i===o?.5:i,a=2*s-1,l=n.a-r.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;o=1-c,n.r=255&c*n.r+o*r.r+.5,n.g=255&c*n.g+o*r.g+.5,n.b=255&c*n.b+o*r.b+.5,n.a=s*n.a+(1-s)*r.a,this.rgb=n}return this}interpolate(e,i){return e&&(this._rgb=zfe(this._rgb,e._rgb,i)),this}clone(){return new t(this.rgb)}alpha(e){return this._rgb.a=Qd(e),this}clearer(e){let i=this._rgb;return i.a*=1-e,this}greyscale(){let e=this._rgb,i=R_(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=i,this}opaquer(e){let i=this._rgb;return i.a*=1+e,this}negate(){let e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return GE(this._rgb,2,e),this}darken(e){return GE(this._rgb,2,-e),this}saturate(e){return GE(this._rgb,1,e),this}desaturate(e){return GE(this._rgb,1,-e),this}rotate(e){return Ffe(this._rgb,e),this}};function vl(){}var iG=(()=>{let t=0;return()=>t++})();function _i(t){return t===null||typeof t>"u"}function ln(t){if(Array.isArray&&Array.isArray(t))return!0;let e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function ci(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Tn(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Ho(t,e){return Tn(t)?t:e}function Ut(t,e){return typeof t>"u"?e:t}var nG=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,yk=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function nn(t,e,i){if(t&&typeof t.call=="function")return t.apply(i,e)}function Li(t,e,i,n){let r,o,s;if(ln(t))if(o=t.length,n)for(r=o-1;r>=0;r--)e.call(i,t[r],r);else for(r=0;r<o;r++)e.call(i,t[r],r);else if(ci(t))for(s=Object.keys(t),o=s.length,r=0;r<o;r++)e.call(i,t[s[r]],s[r])}function D_(t,e){let i,n,r,o;if(!t||!e||t.length!==e.length)return!1;for(i=0,n=t.length;i<n;++i)if(r=t[i],o=e[i],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function XE(t){if(ln(t))return t.map(XE);if(ci(t)){let e=Object.create(null),i=Object.keys(t),n=i.length,r=0;for(;r<n;++r)e[i[r]]=XE(t[i[r]]);return e}return t}function rG(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function Gfe(t,e,i,n){if(!rG(t))return;let r=e[t],o=i[t];ci(r)&&ci(o)?yp(r,o,n):e[t]=XE(o)}function yp(t,e,i){let n=ln(e)?e:[e],r=n.length;if(!ci(t))return t;i=i||{};let o=i.merger||Gfe,s;for(let a=0;a<r;++a){if(s=n[a],!ci(s))continue;let l=Object.keys(s);for(let c=0,d=l.length;c<d;++c)o(l[c],t,s,i)}return t}function Cp(t,e){return yp(t,e,{merger:$fe})}function $fe(t,e,i){if(!rG(t))return;let n=e[t],r=i[t];ci(n)&&ci(r)?Cp(n,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=XE(r))}var GY={"":t=>t,x:t=>t.x,y:t=>t.y};function qfe(t){let e=t.split("."),i=[],n="";for(let r of e)n+=r,n.endsWith("\\")?n=n.slice(0,-1)+".":(i.push(n),n="");return i}function Kfe(t){let e=qfe(t);return i=>{for(let n of e){if(n==="")break;i=i&&i[n]}return i}}function Oc(t,e){return(GY[e]||(GY[e]=Kfe(e)))(t)}function eR(t){return t.charAt(0).toUpperCase()+t.slice(1)}var Sp=t=>typeof t<"u",Mc=t=>typeof t=="function",wk=(t,e)=>{if(t.size!==e.size)return!1;for(let i of t)if(!e.has(i))return!1;return!0};function oG(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}var cn=Math.PI,dn=2*cn,Xfe=dn+cn,QE=Number.POSITIVE_INFINITY,Qfe=cn/180,Ln=cn/2,Gh=cn/4,$Y=cn*2/3,Ac=Math.log10,Ma=Math.sign;function xp(t,e,i){return Math.abs(t-e)<i}function Ck(t){let e=Math.round(t);t=xp(t,e,t/1e3)?e:t;let i=Math.pow(10,Math.floor(Ac(t))),n=t/i;return(n<=1?1:n<=2?2:n<=5?5:10)*i}function sG(t){let e=[],i=Math.sqrt(t),n;for(n=1;n<i;n++)t%n===0&&(e.push(n),e.push(t/n));return i===(i|0)&&e.push(i),e.sort((r,o)=>r-o).pop(),e}function Kh(t){return!isNaN(parseFloat(t))&&isFinite(t)}function aG(t,e){let i=Math.round(t);return i-e<=t&&i+e>=t}function Sk(t,e,i){let n,r,o;for(n=0,r=t.length;n<r;n++)o=t[n][i],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function Ws(t){return t*(cn/180)}function tR(t){return t*(180/cn)}function xk(t){if(!Tn(t))return;let e=1,i=0;for(;Math.round(t*e)/e!==t;)e*=10,i++;return i}function Ek(t,e){let i=e.x-t.x,n=e.y-t.y,r=Math.sqrt(i*i+n*n),o=Math.atan2(n,i);return o<-.5*cn&&(o+=dn),{angle:o,distance:r}}function ZE(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Zfe(t,e){return(t-e+Xfe)%dn-cn}function Fo(t){return(t%dn+dn)%dn}function Ep(t,e,i,n){let r=Fo(t),o=Fo(e),s=Fo(i),a=Fo(o-r),l=Fo(s-r),c=Fo(r-o),d=Fo(r-s);return r===o||r===s||n&&o===s||a>l&&c<d}function fr(t,e,i){return Math.max(e,Math.min(i,t))}function lG(t){return fr(t,-32768,32767)}function _l(t,e,i,n=1e-6){return t>=Math.min(e,i)-n&&t<=Math.max(e,i)+n}function iR(t,e,i){i=i||(s=>t[s]<e);let n=t.length-1,r=0,o;for(;n-r>1;)o=r+n>>1,i(o)?r=o:n=o;return{lo:r,hi:n}}var gl=(t,e,i,n)=>iR(t,i,n?r=>{let o=t[r][e];return o<i||o===i&&t[r+1][e]===i}:r=>t[r][e]<i),cG=(t,e,i)=>iR(t,i,n=>t[n][e]>=i);function dG(t,e,i){let n=0,r=t.length;for(;n<r&&t[n]<e;)n++;for(;r>n&&t[r-1]>i;)r--;return n>0||r<t.length?t.slice(n,r):t}var uG=["push","pop","shift","splice","unshift"];function hG(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),uG.forEach(i=>{let n="_onData"+eR(i),r=t[i];Object.defineProperty(t,i,{configurable:!0,enumerable:!1,value(...o){let s=r.apply(this,o);return t._chartjs.listeners.forEach(a=>{typeof a[n]=="function"&&a[n](...o)}),s}})})}function Rk(t,e){let i=t._chartjs;if(!i)return;let n=i.listeners,r=n.indexOf(e);r!==-1&&n.splice(r,1),!(n.length>0)&&(uG.forEach(o=>{delete t[o]}),delete t._chartjs)}function Tk(t){let e=new Set(t);return e.size===t.length?t:Array.from(e)}var Ik=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function Dk(t,e){let i=[],n=!1;return function(...r){i=r,n||(n=!0,Ik.call(window,()=>{n=!1,t.apply(e,i)}))}}function fG(t,e){let i;return function(...n){return e?(clearTimeout(i),i=setTimeout(t,e,n)):t.apply(this,n),e}}var nR=t=>t==="start"?"left":t==="end"?"right":"center",Vr=(t,e,i)=>t==="start"?e:t==="end"?i:(e+i)/2,mG=(t,e,i,n)=>t===(n?"left":"right")?i:t==="center"?(e+i)/2:e;function Mk(t,e,i){let n=e.length,r=0,o=n;if(t._sorted){let{iScale:s,_parsed:a}=t,l=s.axis,{min:c,max:d,minDefined:u,maxDefined:f}=s.getUserBounds();u&&(r=fr(Math.min(gl(a,l,c).lo,i?n:gl(e,l,s.getPixelForValue(c)).lo),0,n-1)),f?o=fr(Math.max(gl(a,s.axis,d,!0).hi+1,i?0:gl(e,l,s.getPixelForValue(d),!0).hi+1),r,n)-r:o=n-r}return{start:r,count:o}}function Ak(t){let{xScale:e,yScale:i,_scaleRanges:n}=t,r={xmin:e.min,xmax:e.max,ymin:i.min,ymax:i.max};if(!n)return t._scaleRanges=r,!0;let o=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==i.min||n.ymax!==i.max;return Object.assign(n,r),o}var $E=t=>t===0||t===1,qY=(t,e,i)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*dn/i)),KY=(t,e,i)=>Math.pow(2,-10*t)*Math.sin((t-e)*dn/i)+1,_p={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Ln)+1,easeOutSine:t=>Math.sin(t*Ln),easeInOutSine:t=>-.5*(Math.cos(cn*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>$E(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>$E(t)?t:qY(t,.075,.3),easeOutElastic:t=>$E(t)?t:KY(t,.075,.3),easeInOutElastic(t){return $E(t)?t:t<.5?.5*qY(t*2,.1125,.45):.5+.5*KY(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-_p.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?_p.easeInBounce(t*2)*.5:_p.easeOutBounce(t*2-1)*.5+.5};function Ok(t){if(t&&typeof t=="object"){let e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Pk(t){return Ok(t)?t:new E_(t)}function bk(t){return Ok(t)?t:new E_(t).saturate(.5).darken(.1).hexString()}var Jfe=["x","y","borderWidth","radius","tension"],eme=["color","borderColor","backgroundColor"];function tme(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:eme},numbers:{type:"number",properties:Jfe}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function ime(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var XY=new Map;function nme(t,e){e=e||{};let i=t+JSON.stringify(e),n=XY.get(i);return n||(n=new Intl.NumberFormat(t,e),XY.set(i,n)),n}function Rp(t,e,i){return nme(e,i).format(t)}var pG={values(t){return ln(t)?t:""+t},numeric(t,e,i){if(t===0)return"0";let n=this.chart.options.locale,r,o=t;if(i.length>1){let c=Math.max(Math.abs(i[0].value),Math.abs(i[i.length-1].value));(c<1e-4||c>1e15)&&(r="scientific"),o=rme(t,i)}let s=Ac(Math.abs(o)),a=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Rp(t,n,l)},logarithmic(t,e,i){if(t===0)return"0";let n=i[e].significand||t/Math.pow(10,Math.floor(Ac(t)));return[1,2,3,5,10,15].includes(n)||e>.8*i.length?pG.numeric.call(this,t,e,i):""}};function rme(t,e){let i=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(i)>=1&&t!==Math.floor(t)&&(i=t-Math.floor(t)),i}var M_={formatters:pG};function ome(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,i)=>i.lineWidth,tickColor:(e,i)=>i.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:M_.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}var Jd=Object.create(null),rR=Object.create(null);function T_(t,e){if(!e)return t;let i=e.split(".");for(let n=0,r=i.length;n<r;++n){let o=i[n];t=t[o]||(t[o]=Object.create(null))}return t}function vk(t,e,i){return typeof e=="string"?yp(T_(t,e),i):yp(T_(t,""),e)}var _k=class{constructor(e,i){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,r)=>bk(r.backgroundColor),this.hoverBorderColor=(n,r)=>bk(r.borderColor),this.hoverColor=(n,r)=>bk(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(i)}set(e,i){return vk(this,e,i)}get(e){return T_(this,e)}describe(e,i){return vk(rR,e,i)}override(e,i){return vk(Jd,e,i)}route(e,i,n,r){let o=T_(this,e),s=T_(this,n),a="_"+i;Object.defineProperties(o,{[a]:{value:o[i],writable:!0},[i]:{enumerable:!0,get(){let l=this[a],c=s[r];return ci(l)?Object.assign({},c,l):Ut(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(i=>i(this))}},mn=new _k({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[tme,ime,ome]);function sme(t){return!t||_i(t.size)||_i(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function I_(t,e,i,n,r){let o=e[r];return o||(o=e[r]=t.measureText(r).width,i.push(r)),o>n&&(n=o),n}function gG(t,e,i,n){n=n||{};let r=n.data=n.data||{},o=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(r=n.data={},o=n.garbageCollect=[],n.font=e),t.save(),t.font=e;let s=0,a=i.length,l,c,d,u,f;for(l=0;l<a;l++)if(u=i[l],u!=null&&!ln(u))s=I_(t,r,o,s,u);else if(ln(u))for(c=0,d=u.length;c<d;c++)f=u[c],f!=null&&!ln(f)&&(s=I_(t,r,o,s,f));t.restore();let m=o.length/2;if(m>i.length){for(l=0;l<m;l++)delete r[o[l]];o.splice(0,m)}return s}function eu(t,e,i){let n=t.currentDevicePixelRatio,r=i!==0?Math.max(i/2,.5):0;return Math.round((e-r)*n)/n+r}function kk(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function oR(t,e,i,n){Nk(t,e,i,n,null)}function Nk(t,e,i,n,r){let o,s,a,l,c,d,u,f,m=e.pointStyle,g=e.rotation,_=e.radius,b=(g||0)*Qfe;if(m&&typeof m=="object"&&(o=m.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){t.save(),t.translate(i,n),t.rotate(b),t.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),t.restore();return}if(!(isNaN(_)||_<=0)){switch(t.beginPath(),m){default:r?t.ellipse(i,n,r/2,_,0,0,dn):t.arc(i,n,_,0,dn),t.closePath();break;case"triangle":d=r?r/2:_,t.moveTo(i+Math.sin(b)*d,n-Math.cos(b)*_),b+=$Y,t.lineTo(i+Math.sin(b)*d,n-Math.cos(b)*_),b+=$Y,t.lineTo(i+Math.sin(b)*d,n-Math.cos(b)*_),t.closePath();break;case"rectRounded":c=_*.516,l=_-c,s=Math.cos(b+Gh)*l,u=Math.cos(b+Gh)*(r?r/2-c:l),a=Math.sin(b+Gh)*l,f=Math.sin(b+Gh)*(r?r/2-c:l),t.arc(i-u,n-a,c,b-cn,b-Ln),t.arc(i+f,n-s,c,b-Ln,b),t.arc(i+u,n+a,c,b,b+Ln),t.arc(i-f,n+s,c,b+Ln,b+cn),t.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*_,d=r?r/2:l,t.rect(i-d,n-l,2*d,2*l);break}b+=Gh;case"rectRot":u=Math.cos(b)*(r?r/2:_),s=Math.cos(b)*_,a=Math.sin(b)*_,f=Math.sin(b)*(r?r/2:_),t.moveTo(i-u,n-a),t.lineTo(i+f,n-s),t.lineTo(i+u,n+a),t.lineTo(i-f,n+s),t.closePath();break;case"crossRot":b+=Gh;case"cross":u=Math.cos(b)*(r?r/2:_),s=Math.cos(b)*_,a=Math.sin(b)*_,f=Math.sin(b)*(r?r/2:_),t.moveTo(i-u,n-a),t.lineTo(i+u,n+a),t.moveTo(i+f,n-s),t.lineTo(i-f,n+s);break;case"star":u=Math.cos(b)*(r?r/2:_),s=Math.cos(b)*_,a=Math.sin(b)*_,f=Math.sin(b)*(r?r/2:_),t.moveTo(i-u,n-a),t.lineTo(i+u,n+a),t.moveTo(i+f,n-s),t.lineTo(i-f,n+s),b+=Gh,u=Math.cos(b)*(r?r/2:_),s=Math.cos(b)*_,a=Math.sin(b)*_,f=Math.sin(b)*(r?r/2:_),t.moveTo(i-u,n-a),t.lineTo(i+u,n+a),t.moveTo(i+f,n-s),t.lineTo(i-f,n+s);break;case"line":s=r?r/2:Math.cos(b)*_,a=Math.sin(b)*_,t.moveTo(i-s,n-a),t.lineTo(i+s,n+a);break;case"dash":t.moveTo(i,n),t.lineTo(i+Math.cos(b)*(r?r/2:_),n+Math.sin(b)*_);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function bl(t,e,i){return i=i||.5,!e||t&&t.x>e.left-i&&t.x<e.right+i&&t.y>e.top-i&&t.y<e.bottom+i}function A_(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function O_(t){t.restore()}function bG(t,e,i,n,r){if(!e)return t.lineTo(i.x,i.y);if(r==="middle"){let o=(e.x+i.x)/2;t.lineTo(o,e.y),t.lineTo(o,i.y)}else r==="after"!=!!n?t.lineTo(e.x,i.y):t.lineTo(i.x,e.y);t.lineTo(i.x,i.y)}function vG(t,e,i,n){if(!e)return t.lineTo(i.x,i.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?i.cp2x:i.cp1x,n?i.cp2y:i.cp1y,i.x,i.y)}function ame(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),_i(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function lme(t,e,i,n,r){if(r.strikethrough||r.underline){let o=t.measureText(n),s=e-o.actualBoundingBoxLeft,a=e+o.actualBoundingBoxRight,l=i-o.actualBoundingBoxAscent,c=i+o.actualBoundingBoxDescent,d=r.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(s,d),t.lineTo(a,d),t.stroke()}}function cme(t,e){let i=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=i}function tu(t,e,i,n,r,o={}){let s=ln(e)?e:[e],a=o.strokeWidth>0&&o.strokeColor!=="",l,c;for(t.save(),t.font=r.string,ame(t,o),l=0;l<s.length;++l)c=s[l],o.backdrop&&cme(t,o.backdrop),a&&(o.strokeColor&&(t.strokeStyle=o.strokeColor),_i(o.strokeWidth)||(t.lineWidth=o.strokeWidth),t.strokeText(c,i,n,o.maxWidth)),t.fillText(c,i,n,o.maxWidth),lme(t,i,n,c,o),n+=Number(r.lineHeight);t.restore()}function Tp(t,e){let{x:i,y:n,w:r,h:o,radius:s}=e;t.arc(i+s.topLeft,n+s.topLeft,s.topLeft,1.5*cn,cn,!0),t.lineTo(i,n+o-s.bottomLeft),t.arc(i+s.bottomLeft,n+o-s.bottomLeft,s.bottomLeft,cn,Ln,!0),t.lineTo(i+r-s.bottomRight,n+o),t.arc(i+r-s.bottomRight,n+o-s.bottomRight,s.bottomRight,Ln,0,!0),t.lineTo(i+r,n+s.topRight),t.arc(i+r-s.topRight,n+s.topRight,s.topRight,0,-Ln,!0),t.lineTo(i+s.topLeft,n)}var dme=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,ume=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function hme(t,e){let i=(""+t).match(dme);if(!i||i[1]==="normal")return e*1.2;switch(t=+i[2],i[3]){case"px":return t;case"%":t/=100;break}return e*t}var fme=t=>+t||0;function sR(t,e){let i={},n=ci(e),r=n?Object.keys(e):e,o=ci(t)?n?s=>Ut(t[s],t[e[s]]):s=>t[s]:()=>t;for(let s of r)i[s]=fme(o(s));return i}function Lk(t){return sR(t,{top:"y",right:"x",bottom:"y",left:"x"})}function iu(t){return sR(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Br(t){let e=Lk(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function nr(t,e){t=t||{},e=e||mn.font;let i=Ut(t.size,e.size);typeof i=="string"&&(i=parseInt(i,10));let n=Ut(t.style,e.style);n&&!(""+n).match(ume)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);let r={family:Ut(t.family,e.family),lineHeight:hme(Ut(t.lineHeight,e.lineHeight),i),size:i,style:n,weight:Ut(t.weight,e.weight),string:""};return r.string=sme(r),r}function Ip(t,e,i,n){let r=!0,o,s,a;for(o=0,s=t.length;o<s;++o)if(a=t[o],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),r=!1),i!==void 0&&ln(a)&&(a=a[i%a.length],r=!1),a!==void 0))return n&&!r&&(n.cacheable=!1),a}function _G(t,e,i){let{min:n,max:r}=t,o=yk(e,(r-n)/2),s=(a,l)=>i&&a===0?0:a+l;return{min:s(n,-Math.abs(o)),max:s(r,o)}}function Pc(t,e){return Object.assign(Object.create(t),e)}function aR(t,e=[""],i,n,r=()=>t[0]){let o=i||t;typeof n>"u"&&(n=CG("_fallback",t));let s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:o,_fallback:n,_getTarget:r,override:a=>aR([a,...t],e,o,n)};return new Proxy(s,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return yG(a,l,()=>wme(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return ZY(a).includes(l)},ownKeys(a){return ZY(a)},set(a,l,c){let d=a._storage||(a._storage=r());return a[l]=d[l]=c,delete a._keys,!0}})}function qh(t,e,i,n){let r={_cacheable:!1,_proxy:t,_context:e,_subProxy:i,_stack:new Set,_descriptors:Fk(t,n),setContext:o=>qh(t,o,i,n),override:o=>qh(t.override(o),e,i,n)};return new Proxy(r,{deleteProperty(o,s){return delete o[s],delete t[s],!0},get(o,s,a){return yG(o,s,()=>pme(o,s,a))},getOwnPropertyDescriptor(o,s){return o._descriptors.allKeys?Reflect.has(t,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,s)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(o,s){return Reflect.has(t,s)},ownKeys(){return Reflect.ownKeys(t)},set(o,s,a){return t[s]=a,delete o[s],!0}})}function Fk(t,e={scriptable:!0,indexable:!0}){let{_scriptable:i=e.scriptable,_indexable:n=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:i,indexable:n,isScriptable:Mc(i)?i:()=>i,isIndexable:Mc(n)?n:()=>n}}var mme=(t,e)=>t?t+eR(e):e,Hk=(t,e)=>ci(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function yG(t,e,i){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];let n=i();return t[e]=n,n}function pme(t,e,i){let{_proxy:n,_context:r,_subProxy:o,_descriptors:s}=t,a=n[e];return Mc(a)&&s.isScriptable(e)&&(a=gme(e,a,t,i)),ln(a)&&a.length&&(a=bme(e,a,t,s.isIndexable)),Hk(e,a)&&(a=qh(a,r,o&&o[e],s)),a}function gme(t,e,i,n){let{_proxy:r,_context:o,_subProxy:s,_stack:a}=i;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(o,s||n);return a.delete(t),Hk(t,l)&&(l=Vk(r._scopes,r,t,l)),l}function bme(t,e,i,n){let{_proxy:r,_context:o,_subProxy:s,_descriptors:a}=i;if(typeof o.index<"u"&&n(t))return e[o.index%e.length];if(ci(e[0])){let l=e,c=r._scopes.filter(d=>d!==l);e=[];for(let d of l){let u=Vk(c,r,t,d);e.push(qh(u,o,s&&s[t],a))}}return e}function wG(t,e,i){return Mc(t)?t(e,i):t}var vme=(t,e)=>t===!0?e:typeof t=="string"?Oc(e,t):void 0;function _me(t,e,i,n,r){for(let o of e){let s=vme(i,o);if(s){t.add(s);let a=wG(s._fallback,i,r);if(typeof a<"u"&&a!==i&&a!==n)return a}else if(s===!1&&typeof n<"u"&&i!==n)return null}return!1}function Vk(t,e,i,n){let r=e._rootScopes,o=wG(e._fallback,i,n),s=[...t,...r],a=new Set;a.add(n);let l=QY(a,s,i,o||i,n);return l===null||typeof o<"u"&&o!==i&&(l=QY(a,s,o,l,n),l===null)?!1:aR(Array.from(a),[""],r,o,()=>yme(e,i,n))}function QY(t,e,i,n,r){for(;i;)i=_me(t,e,i,n,r);return i}function yme(t,e,i){let n=t._getTarget();e in n||(n[e]={});let r=n[e];return ln(r)&&ci(i)?i:r||{}}function wme(t,e,i,n){let r;for(let o of e)if(r=CG(mme(o,t),i),typeof r<"u")return Hk(t,r)?Vk(i,n,t,r):r}function CG(t,e){for(let i of e){if(!i)continue;let n=i[t];if(typeof n<"u")return n}}function ZY(t){let e=t._keys;return e||(e=t._keys=Cme(t._scopes)),e}function Cme(t){let e=new Set;for(let i of t)for(let n of Object.keys(i).filter(r=>!r.startsWith("_")))e.add(n);return Array.from(e)}function Bk(t,e,i,n){let{iScale:r}=t,{key:o="r"}=this._parsing,s=new Array(n),a,l,c,d;for(a=0,l=n;a<l;++a)c=a+i,d=e[c],s[a]={r:r.parse(Oc(d,o),c)};return s}var Sme=Number.EPSILON||1e-14,wp=(t,e)=>e<t.length&&!t[e].skip&&t[e],SG=t=>t==="x"?"y":"x";function xme(t,e,i,n){let r=t.skip?e:t,o=e,s=i.skip?e:i,a=ZE(o,r),l=ZE(s,o),c=a/(a+l),d=l/(a+l);c=isNaN(c)?0:c,d=isNaN(d)?0:d;let u=n*c,f=n*d;return{previous:{x:o.x-u*(s.x-r.x),y:o.y-u*(s.y-r.y)},next:{x:o.x+f*(s.x-r.x),y:o.y+f*(s.y-r.y)}}}function Eme(t,e,i){let n=t.length,r,o,s,a,l,c=wp(t,0);for(let d=0;d<n-1;++d)if(l=c,c=wp(t,d+1),!(!l||!c)){if(xp(e[d],0,Sme)){i[d]=i[d+1]=0;continue}r=i[d]/e[d],o=i[d+1]/e[d],a=Math.pow(r,2)+Math.pow(o,2),!(a<=9)&&(s=3/Math.sqrt(a),i[d]=r*s*e[d],i[d+1]=o*s*e[d])}}function Rme(t,e,i="x"){let n=SG(i),r=t.length,o,s,a,l=wp(t,0);for(let c=0;c<r;++c){if(s=a,a=l,l=wp(t,c+1),!a)continue;let d=a[i],u=a[n];s&&(o=(d-s[i])/3,a[`cp1${i}`]=d-o,a[`cp1${n}`]=u-o*e[c]),l&&(o=(l[i]-d)/3,a[`cp2${i}`]=d+o,a[`cp2${n}`]=u+o*e[c])}}function Tme(t,e="x"){let i=SG(e),n=t.length,r=Array(n).fill(0),o=Array(n),s,a,l,c=wp(t,0);for(s=0;s<n;++s)if(a=l,l=c,c=wp(t,s+1),!!l){if(c){let d=c[e]-l[e];r[s]=d!==0?(c[i]-l[i])/d:0}o[s]=a?c?Ma(r[s-1])!==Ma(r[s])?0:(r[s-1]+r[s])/2:r[s-1]:r[s]}Eme(t,r,o),Rme(t,o,e)}function qE(t,e,i){return Math.max(Math.min(t,i),e)}function Ime(t,e){let i,n,r,o,s,a=bl(t[0],e);for(i=0,n=t.length;i<n;++i)s=o,o=a,a=i<n-1&&bl(t[i+1],e),o&&(r=t[i],s&&(r.cp1x=qE(r.cp1x,e.left,e.right),r.cp1y=qE(r.cp1y,e.top,e.bottom)),a&&(r.cp2x=qE(r.cp2x,e.left,e.right),r.cp2y=qE(r.cp2y,e.top,e.bottom)))}function xG(t,e,i,n,r){let o,s,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")Tme(t,r);else{let c=n?t[t.length-1]:t[0];for(o=0,s=t.length;o<s;++o)a=t[o],l=xme(c,a,t[Math.min(o+1,s-(n?0:1))%s],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&Ime(t,i)}function lR(){return typeof window<"u"&&typeof document<"u"}function cR(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function JE(t,e,i){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[i])):n=t,n}var dR=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function Dme(t,e){return dR(t).getPropertyValue(e)}var Mme=["top","right","bottom","left"];function $h(t,e,i){let n={};i=i?"-"+i:"";for(let r=0;r<4;r++){let o=Mme[r];n[o]=parseFloat(t[e+"-"+o+i])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}var Ame=(t,e,i)=>(t>0||e>0)&&(!i||!i.shadowRoot);function Ome(t,e){let i=t.touches,n=i&&i.length?i[0]:t,{offsetX:r,offsetY:o}=n,s=!1,a,l;if(Ame(r,o,t.target))a=r,l=o;else{let c=e.getBoundingClientRect();a=n.clientX-c.left,l=n.clientY-c.top,s=!0}return{x:a,y:l,box:s}}function nu(t,e){if("native"in t)return t;let{canvas:i,currentDevicePixelRatio:n}=e,r=dR(i),o=r.boxSizing==="border-box",s=$h(r,"padding"),a=$h(r,"border","width"),{x:l,y:c,box:d}=Ome(t,i),u=s.left+(d&&a.left),f=s.top+(d&&a.top),{width:m,height:g}=e;return o&&(m-=s.width+a.width,g-=s.height+a.height),{x:Math.round((l-u)/m*i.width/n),y:Math.round((c-f)/g*i.height/n)}}function Pme(t,e,i){let n,r;if(e===void 0||i===void 0){let o=t&&cR(t);if(!o)e=t.clientWidth,i=t.clientHeight;else{let s=o.getBoundingClientRect(),a=dR(o),l=$h(a,"border","width"),c=$h(a,"padding");e=s.width-c.width-l.width,i=s.height-c.height-l.height,n=JE(a.maxWidth,o,"clientWidth"),r=JE(a.maxHeight,o,"clientHeight")}}return{width:e,height:i,maxWidth:n||QE,maxHeight:r||QE}}var KE=t=>Math.round(t*10)/10;function EG(t,e,i,n){let r=dR(t),o=$h(r,"margin"),s=JE(r.maxWidth,t,"clientWidth")||QE,a=JE(r.maxHeight,t,"clientHeight")||QE,l=Pme(t,e,i),{width:c,height:d}=l;if(r.boxSizing==="content-box"){let f=$h(r,"border","width"),m=$h(r,"padding");c-=m.width+f.width,d-=m.height+f.height}return c=Math.max(0,c-o.width),d=Math.max(0,n?c/n:d-o.height),c=KE(Math.min(c,s,l.maxWidth)),d=KE(Math.min(d,a,l.maxHeight)),c&&!d&&(d=KE(c/2)),(e!==void 0||i!==void 0)&&n&&l.height&&d>l.height&&(d=l.height,c=KE(Math.floor(d*n))),{width:c,height:d}}function Wk(t,e,i){let n=e||1,r=Math.floor(t.height*n),o=Math.floor(t.width*n);t.height=Math.floor(t.height),t.width=Math.floor(t.width);let s=t.canvas;return s.style&&(i||!s.style.height&&!s.style.width)&&(s.style.height=`${t.height}px`,s.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||s.height!==r||s.width!==o?(t.currentDevicePixelRatio=n,s.height=r,s.width=o,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}var RG=function(){let t=!1;try{let e={get passive(){return t=!0,!1}};lR()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function jk(t,e){let i=Dme(t,e),n=i&&i.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Zd(t,e,i,n){return{x:t.x+i*(e.x-t.x),y:t.y+i*(e.y-t.y)}}function TG(t,e,i,n){return{x:t.x+i*(e.x-t.x),y:n==="middle"?i<.5?t.y:e.y:n==="after"?i<1?t.y:e.y:i>0?e.y:t.y}}function IG(t,e,i,n){let r={x:t.cp2x,y:t.cp2y},o={x:e.cp1x,y:e.cp1y},s=Zd(t,r,i),a=Zd(r,o,i),l=Zd(o,e,i),c=Zd(s,a,i),d=Zd(a,l,i);return Zd(c,d,i)}var kme=function(t,e){return{x(i){return t+t+e-i},setWidth(i){e=i},textAlign(i){return i==="center"?i:i==="right"?"left":"right"},xPlus(i,n){return i-n},leftForLtr(i,n){return i-n}}},Nme=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Xh(t,e,i){return t?kme(e,i):Nme()}function Uk(t,e){let i,n;(e==="ltr"||e==="rtl")&&(i=t.canvas.style,n=[i.getPropertyValue("direction"),i.getPropertyPriority("direction")],i.setProperty("direction",e,"important"),t.prevTextDirection=n)}function zk(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function DG(t){return t==="angle"?{between:Ep,compare:Zfe,normalize:Fo}:{between:_l,compare:(e,i)=>e-i,normalize:e=>e}}function JY({start:t,end:e,count:i,loop:n,style:r}){return{start:t%i,end:e%i,loop:n&&(e-t+1)%i===0,style:r}}function Lme(t,e,i){let{property:n,start:r,end:o}=i,{between:s,normalize:a}=DG(n),l=e.length,{start:c,end:d,loop:u}=t,f,m;if(u){for(c+=l,d+=l,f=0,m=l;f<m&&s(a(e[c%l][n]),r,o);++f)c--,d--;c%=l,d%=l}return d<c&&(d+=l),{start:c,end:d,loop:u,style:t.style}}function Yk(t,e,i){if(!i)return[t];let{property:n,start:r,end:o}=i,s=e.length,{compare:a,between:l,normalize:c}=DG(n),{start:d,end:u,loop:f,style:m}=Lme(t,e,i),g=[],_=!1,b=null,y,x,T,O=()=>l(r,T,y)&&a(r,T)!==0,P=()=>a(o,y)===0||l(o,T,y),V=()=>_||O(),F=()=>!_||P();for(let k=d,Z=d;k<=u;++k)x=e[k%s],!x.skip&&(y=c(x[n]),y!==T&&(_=l(y,r,o),b===null&&V()&&(b=a(y,r)===0?k:Z),b!==null&&F()&&(g.push(JY({start:b,end:k,loop:f,count:s,style:m})),b=null),Z=k,T=y));return b!==null&&g.push(JY({start:b,end:u,loop:f,count:s,style:m})),g}function Gk(t,e){let i=[],n=t.segments;for(let r=0;r<n.length;r++){let o=Yk(n[r],t.points,e);o.length&&i.push(...o)}return i}function Fme(t,e,i,n){let r=0,o=e-1;if(i&&!n)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,i&&(o+=r);o>r&&t[o%e].skip;)o--;return o%=e,{start:r,end:o}}function Hme(t,e,i,n){let r=t.length,o=[],s=e,a=t[e],l;for(l=e+1;l<=i;++l){let c=t[l%r];c.skip||c.stop?a.skip||(n=!1,o.push({start:e%r,end:(l-1)%r,loop:n}),e=s=c.stop?l:null):(s=l,a.skip&&(e=l)),a=c}return s!==null&&o.push({start:e%r,end:s%r,loop:n}),o}function MG(t,e){let i=t.points,n=t.options.spanGaps,r=i.length;if(!r)return[];let o=!!t._loop,{start:s,end:a}=Fme(i,r,o,n);if(n===!0)return eG(t,[{start:s,end:a,loop:o}],i,e);let l=a<s?a+r:a,c=!!t._fullLoop&&s===0&&a===r-1;return eG(t,Hme(i,s,l,c),i,e)}function eG(t,e,i,n){return!n||!n.setContext||!i?e:Vme(t,e,i,n)}function Vme(t,e,i,n){let r=t._chart.getContext(),o=tG(t.options),{_datasetIndex:s,options:{spanGaps:a}}=t,l=i.length,c=[],d=o,u=e[0].start,f=u;function m(g,_,b,y){let x=a?-1:1;if(g!==_){for(g+=l;i[g%l].skip;)g-=x;for(;i[_%l].skip;)_+=x;g%l!==_%l&&(c.push({start:g%l,end:_%l,loop:b,style:y}),d=y,u=_%l)}}for(let g of e){u=a?u:g.start;let _=i[u%l],b;for(f=u+1;f<=g.end;f++){let y=i[f%l];b=tG(n.setContext(Pc(r,{type:"segment",p0:_,p1:y,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:s}))),Bme(b,d)&&m(u,f-1,g.loop,d),_=y,d=b}u<f-1&&m(u,f-1,g.loop,d)}return c}function tG(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Bme(t,e){if(!e)return!1;let i=[],n=function(r,o){return Ok(o)?(i.includes(o)||i.push(o),i.indexOf(o)):o};return JSON.stringify(t,n)!==JSON.stringify(e,n)}var i1=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,i,n,r){let o=i.listeners[r],s=i.duration;o.forEach(a=>a({chart:e,initial:i.initial,numSteps:s,currentStep:Math.min(n-i.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=Ik.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let i=0;this._charts.forEach((n,r)=>{if(!n.running||!n.items.length)return;let o=n.items,s=o.length-1,a=!1,l;for(;s>=0;--s)l=o[s],l._active?(l._total>n.duration&&(n.duration=l._total),l.tick(e),a=!0):(o[s]=o[o.length-1],o.pop());a&&(r.draw(),this._notify(r,n,e,"progress")),o.length||(n.running=!1,this._notify(r,n,e,"complete"),n.initial=!1),i+=o.length}),this._lastDate=e,i===0&&(this._running=!1)}_getAnims(e){let i=this._charts,n=i.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},i.set(e,n)),n}listen(e,i,n){this._getAnims(e).listeners[i].push(n)}add(e,i){!i||!i.length||this._getAnims(e).items.push(...i)}has(e){return this._getAnims(e).items.length>0}start(e){let i=this._charts.get(e);i&&(i.running=!0,i.start=Date.now(),i.duration=i.items.reduce((n,r)=>Math.max(n,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;let i=this._charts.get(e);return!(!i||!i.running||!i.items.length)}stop(e){let i=this._charts.get(e);if(!i||!i.items.length)return;let n=i.items,r=n.length-1;for(;r>=0;--r)n[r].cancel();i.items=[],this._notify(e,i,Date.now(),"complete")}remove(e){return this._charts.delete(e)}},kc=new i1,AG="transparent",Wme={boolean(t,e,i){return i>.5?e:t},color(t,e,i){let n=Pk(t||AG),r=n.valid&&Pk(e||AG);return r&&r.valid?r.mix(n,i).hexString():e},number(t,e,i){return t+(e-t)*i}},n1=class{constructor(e,i,n,r){let o=i[n];r=Ip([e.to,r,o,e.from]);let s=Ip([e.from,o,r]);this._active=!0,this._fn=e.fn||Wme[e.type||typeof s],this._easing=_p[e.easing]||_p.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=i,this._prop=n,this._from=s,this._to=r,this._promises=void 0}active(){return this._active}update(e,i,n){if(this._active){this._notify(!1);let r=this._target[this._prop],o=n-this._start,s=this._duration-o;this._start=n,this._duration=Math.floor(Math.max(s,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=Ip([e.to,i,r,e.from]),this._from=Ip([e.from,r,i])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){let i=e-this._start,n=this._duration,r=this._prop,o=this._from,s=this._loop,a=this._to,l;if(this._active=o!==a&&(s||i<n),!this._active){this._target[r]=a,this._notify(!0);return}if(i<0){this._target[r]=o;return}l=i/n%2,l=s&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(o,a,l)}wait(){let e=this._promises||(this._promises=[]);return new Promise((i,n)=>{e.push({res:i,rej:n})})}_notify(e){let i=e?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][i]()}},yR=class{constructor(e,i){this._chart=e,this._properties=new Map,this.configure(i)}configure(e){if(!ci(e))return;let i=Object.keys(mn.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{let o=e[r];if(!ci(o))return;let s={};for(let a of i)s[a]=o[a];(ln(o.properties)&&o.properties||[r]).forEach(a=>{(a===r||!n.has(a))&&n.set(a,s)})})}_animateOptions(e,i){let n=i.options,r=Ume(e,n);if(!r)return[];let o=this._createAnimations(r,n);return n.$shared&&jme(e.options.$animations,n).then(()=>{e.options=n},()=>{}),o}_createAnimations(e,i){let n=this._properties,r=[],o=e.$animations||(e.$animations={}),s=Object.keys(i),a=Date.now(),l;for(l=s.length-1;l>=0;--l){let c=s[l];if(c.charAt(0)==="$")continue;if(c==="options"){r.push(...this._animateOptions(e,i));continue}let d=i[c],u=o[c],f=n.get(c);if(u)if(f&&u.active()){u.update(f,d,a);continue}else u.cancel();if(!f||!f.duration){e[c]=d;continue}o[c]=u=new n1(f,e,c,d),r.push(u)}return r}update(e,i){if(this._properties.size===0){Object.assign(e,i);return}let n=this._createAnimations(e,i);if(n.length)return kc.add(this._chart,n),!0}};function jme(t,e){let i=[],n=Object.keys(e);for(let r=0;r<n.length;r++){let o=t[n[r]];o&&o.active()&&i.push(o.wait())}return Promise.all(i)}function Ume(t,e){if(!e)return;let i=t.options;if(!i){t.options=e;return}return i.$shared&&(t.options=i=Object.assign({},i,{$shared:!1,$animations:{}})),i}function OG(t,e){let i=t&&t.options||{},n=i.reverse,r=i.min===void 0?e:0,o=i.max===void 0?e:0;return{start:n?o:r,end:n?r:o}}function zme(t,e,i){if(i===!1)return!1;let n=OG(t,i),r=OG(e,i);return{top:r.end,right:n.end,bottom:r.start,left:n.start}}function Yme(t){let e,i,n,r;return ci(t)?(e=t.top,i=t.right,n=t.bottom,r=t.left):e=i=n=r=t,{top:e,right:i,bottom:n,left:r,disabled:t===!1}}function O$(t,e){let i=[],n=t._getSortedDatasetMetas(e),r,o;for(r=0,o=n.length;r<o;++r)i.push(n[r].index);return i}function PG(t,e,i,n={}){let r=t.keys,o=n.mode==="single",s,a,l,c;if(e!==null){for(s=0,a=r.length;s<a;++s){if(l=+r[s],l===i){if(n.all)continue;break}c=t.values[l],Tn(c)&&(o||e===0||Ma(e)===Ma(c))&&(e+=c)}return e}}function Gme(t,e){let{iScale:i,vScale:n}=e,r=i.axis==="x"?"x":"y",o=n.axis==="x"?"x":"y",s=Object.keys(t),a=new Array(s.length),l,c,d;for(l=0,c=s.length;l<c;++l)d=s[l],a[l]={[r]:d,[o]:t[d]};return a}function kG(t,e){let i=t&&t.options.stacked;return i||i===void 0&&e.stack!==void 0}function $me(t,e,i){return`${t.id}.${e.id}.${i.stack||i.type}`}function qme(t){let{min:e,max:i,minDefined:n,maxDefined:r}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:r?i:Number.POSITIVE_INFINITY}}function Kme(t,e,i){let n=t[e]||(t[e]={});return n[i]||(n[i]={})}function NG(t,e,i,n){for(let r of e.getMatchingVisibleMetas(n).reverse()){let o=t[r.index];if(i&&o>0||!i&&o<0)return r.index}return null}function LG(t,e){let{chart:i,_cachedMeta:n}=t,r=i._stacks||(i._stacks={}),{iScale:o,vScale:s,index:a}=n,l=o.axis,c=s.axis,d=$me(o,s,n),u=e.length,f;for(let m=0;m<u;++m){let g=e[m],{[l]:_,[c]:b}=g,y=g._stacks||(g._stacks={});f=y[c]=Kme(r,d,_),f[a]=b,f._top=NG(f,s,!0,n.type),f._bottom=NG(f,s,!1,n.type);let x=f._visualValues||(f._visualValues={});x[a]=b}}function $k(t,e){let i=t.scales;return Object.keys(i).filter(n=>i[n].axis===e).shift()}function Xme(t,e){return Pc(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Qme(t,e,i){return Pc(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:i,index:e,mode:"default",type:"data"})}function P_(t,e){let i=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(let r of e){let o=r._stacks;if(!o||o[n]===void 0||o[n][i]===void 0)return;delete o[n][i],o[n]._visualValues!==void 0&&o[n]._visualValues[i]!==void 0&&delete o[n]._visualValues[i]}}}var qk=t=>t==="reset"||t==="none",FG=(t,e)=>e?t:Object.assign({},t),Zme=(t,e,i)=>t&&!e.hidden&&e._stacked&&{keys:O$(i,!0),values:null},ou=(()=>{class t{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(i,n){this.chart=i,this._ctx=i.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let i=this._cachedMeta;this.configure(),this.linkScales(),i._stacked=kG(i.vScale,i),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(i){this.index!==i&&P_(this._cachedMeta),this.index=i}linkScales(){let i=this.chart,n=this._cachedMeta,r=this.getDataset(),o=(f,m,g,_)=>f==="x"?m:f==="r"?_:g,s=n.xAxisID=Ut(r.xAxisID,$k(i,"x")),a=n.yAxisID=Ut(r.yAxisID,$k(i,"y")),l=n.rAxisID=Ut(r.rAxisID,$k(i,"r")),c=n.indexAxis,d=n.iAxisID=o(c,s,a,l),u=n.vAxisID=o(c,a,s,l);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(l),n.iScale=this.getScaleForId(d),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(i){return this.chart.scales[i]}_getOtherScale(i){let n=this._cachedMeta;return i===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){let i=this._cachedMeta;this._data&&Rk(this._data,this),i._stacked&&P_(i)}_dataCheck(){let i=this.getDataset(),n=i.data||(i.data=[]),r=this._data;if(ci(n)){let o=this._cachedMeta;this._data=Gme(n,o)}else if(r!==n){if(r){Rk(r,this);let o=this._cachedMeta;P_(o),o._parsed=[]}n&&Object.isExtensible(n)&&hG(n,this),this._syncList=[],this._data=n}}addElements(){let i=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(i.dataset=new this.datasetElementType)}buildOrUpdateElements(i){let n=this._cachedMeta,r=this.getDataset(),o=!1;this._dataCheck();let s=n._stacked;n._stacked=kG(n.vScale,n),n.stack!==r.stack&&(o=!0,P_(n),n.stack=r.stack),this._resyncElements(i),(o||s!==n._stacked)&&LG(this,n._parsed)}configure(){let i=this.chart.config,n=i.datasetScopeKeys(this._type),r=i.getOptionScopes(this.getDataset(),n,!0);this.options=i.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(i,n){let{_cachedMeta:r,_data:o}=this,{iScale:s,_stacked:a}=r,l=s.axis,c=i===0&&n===o.length?!0:r._sorted,d=i>0&&r._parsed[i-1],u,f,m;if(this._parsing===!1)r._parsed=o,r._sorted=!0,m=o;else{ln(o[i])?m=this.parseArrayData(r,o,i,n):ci(o[i])?m=this.parseObjectData(r,o,i,n):m=this.parsePrimitiveData(r,o,i,n);let g=()=>f[l]===null||d&&f[l]<d[l];for(u=0;u<n;++u)r._parsed[u+i]=f=m[u],c&&(g()&&(c=!1),d=f);r._sorted=c}a&&LG(this,m)}parsePrimitiveData(i,n,r,o){let{iScale:s,vScale:a}=i,l=s.axis,c=a.axis,d=s.getLabels(),u=s===a,f=new Array(o),m,g,_;for(m=0,g=o;m<g;++m)_=m+r,f[m]={[l]:u||s.parse(d[_],_),[c]:a.parse(n[_],_)};return f}parseArrayData(i,n,r,o){let{xScale:s,yScale:a}=i,l=new Array(o),c,d,u,f;for(c=0,d=o;c<d;++c)u=c+r,f=n[u],l[c]={x:s.parse(f[0],u),y:a.parse(f[1],u)};return l}parseObjectData(i,n,r,o){let{xScale:s,yScale:a}=i,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=new Array(o),u,f,m,g;for(u=0,f=o;u<f;++u)m=u+r,g=n[m],d[u]={x:s.parse(Oc(g,l),m),y:a.parse(Oc(g,c),m)};return d}getParsed(i){return this._cachedMeta._parsed[i]}getDataElement(i){return this._cachedMeta.data[i]}applyStack(i,n,r){let o=this.chart,s=this._cachedMeta,a=n[i.axis],l={keys:O$(o,!0),values:n._stacks[i.axis]._visualValues};return PG(l,a,s.index,{mode:r})}updateRangeFromParsed(i,n,r,o){let s=r[n.axis],a=s===null?NaN:s,l=o&&r._stacks[n.axis];o&&l&&(o.values=l,a=PG(o,s,this._cachedMeta.index)),i.min=Math.min(i.min,a),i.max=Math.max(i.max,a)}getMinMax(i,n){let r=this._cachedMeta,o=r._parsed,s=r._sorted&&i===r.iScale,a=o.length,l=this._getOtherScale(i),c=Zme(n,r,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:f}=qme(l),m,g;function _(){g=o[m];let b=g[l.axis];return!Tn(g[i.axis])||u>b||f<b}for(m=0;m<a&&!(!_()&&(this.updateRangeFromParsed(d,i,g,c),s));++m);if(s){for(m=a-1;m>=0;--m)if(!_()){this.updateRangeFromParsed(d,i,g,c);break}}return d}getAllParsedValues(i){let n=this._cachedMeta._parsed,r=[],o,s,a;for(o=0,s=n.length;o<s;++o)a=n[o][i.axis],Tn(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(i){let n=this._cachedMeta,r=n.iScale,o=n.vScale,s=this.getParsed(i);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:o?""+o.getLabelForValue(s[o.axis]):""}}_update(i){let n=this._cachedMeta;this.update(i||"default"),n._clip=Yme(Ut(this.options.clip,zme(n.xScale,n.yScale,this.getMaxOverflow())))}update(i){}draw(){let i=this._ctx,n=this.chart,r=this._cachedMeta,o=r.data||[],s=n.chartArea,a=[],l=this._drawStart||0,c=this._drawCount||o.length-l,d=this.options.drawActiveElementsOnTop,u;for(r.dataset&&r.dataset.draw(i,s,l,c),u=l;u<l+c;++u){let f=o[u];f.hidden||(f.active&&d?a.push(f):f.draw(i,s))}for(u=0;u<a.length;++u)a[u].draw(i,s)}getStyle(i,n){let r=n?"active":"default";return i===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(i||0,r)}getContext(i,n,r){let o=this.getDataset(),s;if(i>=0&&i<this._cachedMeta.data.length){let a=this._cachedMeta.data[i];s=a.$context||(a.$context=Qme(this.getContext(),i,a)),s.parsed=this.getParsed(i),s.raw=o.data[i],s.index=s.dataIndex=i}else s=this.$context||(this.$context=Xme(this.chart.getContext(),this.index)),s.dataset=o,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(i){return this._resolveElementOptions(this.datasetElementType.id,i)}resolveDataElementOptions(i,n){return this._resolveElementOptions(this.dataElementType.id,n,i)}_resolveElementOptions(i,n="default",r){let o=n==="active",s=this._cachedDataOpts,a=i+"-"+n,l=s[a],c=this.enableOptionSharing&&Sp(r);if(l)return FG(l,c);let d=this.chart.config,u=d.datasetElementScopeKeys(this._type,i),f=o?[`${i}Hover`,"hover",i,""]:[i,""],m=d.getOptionScopes(this.getDataset(),u),g=Object.keys(mn.elements[i]),_=()=>this.getContext(r,o,n),b=d.resolveNamedOptions(m,g,_,f);return b.$shared&&(b.$shared=c,s[a]=Object.freeze(FG(b,c))),b}_resolveAnimations(i,n,r){let o=this.chart,s=this._cachedDataOpts,a=`animation-${n}`,l=s[a];if(l)return l;let c;if(o.options.animation!==!1){let u=this.chart.config,f=u.datasetAnimationScopeKeys(this._type,n),m=u.getOptionScopes(this.getDataset(),f);c=u.createResolver(m,this.getContext(i,r,n))}let d=new yR(o,c&&c.animations);return c&&c._cacheable&&(s[a]=Object.freeze(d)),d}getSharedOptions(i){if(i.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},i))}includeOptions(i,n){return!n||qk(i)||this.chart._animationsDisabled}_getSharedOptions(i,n){let r=this.resolveDataElementOptions(i,n),o=this._sharedOptions,s=this.getSharedOptions(r),a=this.includeOptions(n,s)||s!==o;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:a}}updateElement(i,n,r,o){qk(o)?Object.assign(i,r):this._resolveAnimations(n,o).update(i,r)}updateSharedOptions(i,n,r){i&&!qk(n)&&this._resolveAnimations(void 0,n).update(i,r)}_setStyle(i,n,r,o){i.active=o;let s=this.getStyle(n,o);this._resolveAnimations(n,r,o).update(i,{options:!o&&this.getSharedOptions(s)||s})}removeHoverStyle(i,n,r){this._setStyle(i,r,"active",!1)}setHoverStyle(i,n,r){this._setStyle(i,r,"active",!0)}_removeDatasetHoverStyle(){let i=this._cachedMeta.dataset;i&&this._setStyle(i,void 0,"active",!1)}_setDatasetHoverStyle(){let i=this._cachedMeta.dataset;i&&this._setStyle(i,void 0,"active",!0)}_resyncElements(i){let n=this._data,r=this._cachedMeta.data;for(let[l,c,d]of this._syncList)this[l](c,d);this._syncList=[];let o=r.length,s=n.length,a=Math.min(s,o);a&&this.parse(0,a),s>o?this._insertElements(o,s-o,i):s<o&&this._removeElements(s,o-s)}_insertElements(i,n,r=!0){let o=this._cachedMeta,s=o.data,a=i+n,l,c=d=>{for(d.length+=n,l=d.length-1;l>=a;l--)d[l]=d[l-n]};for(c(s),l=i;l<a;++l)s[l]=new this.dataElementType;this._parsing&&c(o._parsed),this.parse(i,n),r&&this.updateElements(s,i,n,"reset")}updateElements(i,n,r,o){}_removeElements(i,n){let r=this._cachedMeta;if(this._parsing){let o=r._parsed.splice(i,n);r._stacked&&P_(r,o)}r.data.splice(i,n)}_sync(i){if(this._parsing)this._syncList.push(i);else{let[n,r,o]=i;this[n](r,o)}this.chart._dataChanges.push([this.index,...i])}_onDataPush(){let i=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-i,i])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(i,n){n&&this._sync(["_removeElements",i,n]);let r=arguments.length-2;r&&this._sync(["_insertElements",i,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return t})();function Jme(t,e){if(!t._cache.$bar){let i=t.getMatchingVisibleMetas(e),n=[];for(let r=0,o=i.length;r<o;r++)n=n.concat(i[r].controller.getAllParsedValues(t));t._cache.$bar=Tk(n.sort((r,o)=>r-o))}return t._cache.$bar}function epe(t){let e=t.iScale,i=Jme(e,t.type),n=e._length,r,o,s,a,l=()=>{s===32767||s===-32768||(Sp(a)&&(n=Math.min(n,Math.abs(s-a)||n)),a=s)};for(r=0,o=i.length;r<o;++r)s=e.getPixelForValue(i[r]),l();for(a=void 0,r=0,o=e.ticks.length;r<o;++r)s=e.getPixelForTick(r),l();return n}function tpe(t,e,i,n){let r=i.barThickness,o,s;return _i(r)?(o=e.min*i.categoryPercentage,s=i.barPercentage):(o=r*n,s=1),{chunk:o/n,ratio:s,start:e.pixels[t]-o/2}}function ipe(t,e,i,n){let r=e.pixels,o=r[t],s=t>0?r[t-1]:null,a=t<r.length-1?r[t+1]:null,l=i.categoryPercentage;s===null&&(s=o-(a===null?e.end-e.start:a-o)),a===null&&(a=o+o-s);let c=o-(o-Math.min(s,a))/2*l;return{chunk:Math.abs(a-s)/2*l/n,ratio:i.barPercentage,start:c}}function npe(t,e,i,n){let r=i.parse(t[0],n),o=i.parse(t[1],n),s=Math.min(r,o),a=Math.max(r,o),l=s,c=a;Math.abs(s)>Math.abs(a)&&(l=a,c=s),e[i.axis]=c,e._custom={barStart:l,barEnd:c,start:r,end:o,min:s,max:a}}function P$(t,e,i,n){return ln(t)?npe(t,e,i,n):e[i.axis]=i.parse(t,n),e}function HG(t,e,i,n){let r=t.iScale,o=t.vScale,s=r.getLabels(),a=r===o,l=[],c,d,u,f;for(c=i,d=i+n;c<d;++c)f=e[c],u={},u[r.axis]=a||r.parse(s[c],c),l.push(P$(f,u,o,c));return l}function Kk(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function rpe(t,e,i){return t!==0?Ma(t):(e.isHorizontal()?1:-1)*(e.min>=i?1:-1)}function ope(t){let e,i,n,r,o;return t.horizontal?(e=t.base>t.x,i="left",n="right"):(e=t.base<t.y,i="bottom",n="top"),e?(r="end",o="start"):(r="start",o="end"),{start:i,end:n,reverse:e,top:r,bottom:o}}function spe(t,e,i,n){let r=e.borderSkipped,o={};if(!r){t.borderSkipped=o;return}if(r===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:s,end:a,reverse:l,top:c,bottom:d}=ope(t);r==="middle"&&i&&(t.enableBorderRadius=!0,(i._top||0)===n?r=c:(i._bottom||0)===n?r=d:(o[VG(d,s,a,l)]=!0,r=c)),o[VG(r,s,a,l)]=!0,t.borderSkipped=o}function VG(t,e,i,n){return n?(t=ape(t,e,i),t=BG(t,i,e)):t=BG(t,e,i),t}function ape(t,e,i){return t===e?i:t===i?e:t}function BG(t,e,i){return t==="start"?e:t==="end"?i:t}function lpe(t,{inflateAmount:e},i){t.inflateAmount=e==="auto"?i===1?.33:0:e}var cpe=(()=>{class t extends ou{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(i,n,r,o){return HG(i,n,r,o)}parseArrayData(i,n,r,o){return HG(i,n,r,o)}parseObjectData(i,n,r,o){let{iScale:s,vScale:a}=i,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=s.axis==="x"?l:c,u=a.axis==="x"?l:c,f=[],m,g,_,b;for(m=r,g=r+o;m<g;++m)b=n[m],_={},_[s.axis]=s.parse(Oc(b,d),m),f.push(P$(Oc(b,u),_,a,m));return f}updateRangeFromParsed(i,n,r,o){super.updateRangeFromParsed(i,n,r,o);let s=r._custom;s&&n===this._cachedMeta.vScale&&(i.min=Math.min(i.min,s.min),i.max=Math.max(i.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(i){let n=this._cachedMeta,{iScale:r,vScale:o}=n,s=this.getParsed(i),a=s._custom,l=Kk(a)?"["+a.start+", "+a.end+"]":""+o.getLabelForValue(s[o.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();let i=this._cachedMeta;i.stack=this.getDataset().stack}update(i){let n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,i)}updateElements(i,n,r,o){let s=o==="reset",{index:a,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),d=l.isHorizontal(),u=this._getRuler(),{sharedOptions:f,includeOptions:m}=this._getSharedOptions(n,o);for(let g=n;g<n+r;g++){let _=this.getParsed(g),b=s||_i(_[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(g),y=this._calculateBarIndexPixels(g,u),x=(_._stacks||{})[l.axis],T={horizontal:d,base:b.base,enableBorderRadius:!x||Kk(_._custom)||a===x._top||a===x._bottom,x:d?b.head:y.center,y:d?y.center:b.head,height:d?y.size:Math.abs(b.size),width:d?Math.abs(b.size):y.size};m&&(T.options=f||this.resolveDataElementOptions(g,i[g].active?"active":o));let O=T.options||i[g].options;spe(T,O,x,a),lpe(T,O,u.ratio),this.updateElement(i[g],g,T,o)}}_getStacks(i,n){let{iScale:r}=this._cachedMeta,o=r.getMatchingVisibleMetas(this._type).filter(c=>c.controller.options.grouped),s=r.options.stacked,a=[],l=c=>{let d=c.controller.getParsed(n),u=d&&d[c.vScale.axis];if(_i(u)||isNaN(u))return!0};for(let c of o)if(!(n!==void 0&&l(c))&&((s===!1||a.indexOf(c.stack)===-1||s===void 0&&c.stack===void 0)&&a.push(c.stack),c.index===i))break;return a.length||a.push(void 0),a}_getStackCount(i){return this._getStacks(void 0,i).length}_getStackIndex(i,n,r){let o=this._getStacks(i,r),s=n!==void 0?o.indexOf(n):-1;return s===-1?o.length-1:s}_getRuler(){let i=this.options,n=this._cachedMeta,r=n.iScale,o=[],s,a;for(s=0,a=n.data.length;s<a;++s)o.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));let l=i.barThickness;return{min:l||epe(n),pixels:o,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:i.grouped,ratio:l?1:i.categoryPercentage*i.barPercentage}}_calculateBarValuePixels(i){let{_cachedMeta:{vScale:n,_stacked:r,index:o},options:{base:s,minBarLength:a}}=this,l=s||0,c=this.getParsed(i),d=c._custom,u=Kk(d),f=c[n.axis],m=0,g=r?this.applyStack(n,c,r):f,_,b;g!==f&&(m=g-f,g=f),u&&(f=d.barStart,g=d.barEnd-d.barStart,f!==0&&Ma(f)!==Ma(d.barEnd)&&(m=0),m+=f);let y=!_i(s)&&!u?s:m,x=n.getPixelForValue(y);if(this.chart.getDataVisibility(i)?_=n.getPixelForValue(m+g):_=x,b=_-x,Math.abs(b)<a){b=rpe(b,n,l)*a,f===l&&(x-=b/2);let T=n.getPixelForDecimal(0),O=n.getPixelForDecimal(1),P=Math.min(T,O),V=Math.max(T,O);x=Math.max(Math.min(x,V),P),_=x+b,r&&!u&&(c._stacks[n.axis]._visualValues[o]=n.getValueForPixel(_)-n.getValueForPixel(x))}if(x===n.getPixelForValue(l)){let T=Ma(b)*n.getLineWidthForValue(l)/2;x+=T,b-=T}return{size:b,base:x,head:_,center:_+b/2}}_calculateBarIndexPixels(i,n){let r=n.scale,o=this.options,s=o.skipNull,a=Ut(o.maxBarThickness,1/0),l,c;if(n.grouped){let d=s?this._getStackCount(i):n.stackCount,u=o.barThickness==="flex"?ipe(i,n,o,d):tpe(i,n,o,d),f=this._getStackIndex(this.index,this._cachedMeta.stack,s?i:void 0);l=u.start+u.chunk*f+u.chunk/2,c=Math.min(a,u.chunk*u.ratio)}else l=r.getPixelForValue(this.getParsed(i)[r.axis],i),c=Math.min(a,n.min*n.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){let i=this._cachedMeta,n=i.vScale,r=i.data,o=r.length,s=0;for(;s<o;++s)this.getParsed(s)[n.axis]!==null&&!r[s].hidden&&r[s].draw(this._ctx)}}return t})(),dpe=(()=>{class t extends ou{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(i,n,r,o){let s=super.parsePrimitiveData(i,n,r,o);for(let a=0;a<s.length;a++)s[a]._custom=this.resolveDataElementOptions(a+r).radius;return s}parseArrayData(i,n,r,o){let s=super.parseArrayData(i,n,r,o);for(let a=0;a<s.length;a++){let l=n[r+a];s[a]._custom=Ut(l[2],this.resolveDataElementOptions(a+r).radius)}return s}parseObjectData(i,n,r,o){let s=super.parseObjectData(i,n,r,o);for(let a=0;a<s.length;a++){let l=n[r+a];s[a]._custom=Ut(l&&l.r&&+l.r,this.resolveDataElementOptions(a+r).radius)}return s}getMaxOverflow(){let i=this._cachedMeta.data,n=0;for(let r=i.length-1;r>=0;--r)n=Math.max(n,i[r].size(this.resolveDataElementOptions(r))/2);return n>0&&n}getLabelAndValue(i){let n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:o,yScale:s}=n,a=this.getParsed(i),l=o.getLabelForValue(a.x),c=s.getLabelForValue(a.y),d=a._custom;return{label:r[i]||"",value:"("+l+", "+c+(d?", "+d:"")+")"}}update(i){let n=this._cachedMeta.data;this.updateElements(n,0,n.length,i)}updateElements(i,n,r,o){let s=o==="reset",{iScale:a,vScale:l}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(n,o),u=a.axis,f=l.axis;for(let m=n;m<n+r;m++){let g=i[m],_=!s&&this.getParsed(m),b={},y=b[u]=s?a.getPixelForDecimal(.5):a.getPixelForValue(_[u]),x=b[f]=s?l.getBasePixel():l.getPixelForValue(_[f]);b.skip=isNaN(y)||isNaN(x),d&&(b.options=c||this.resolveDataElementOptions(m,g.active?"active":o),s&&(b.options.radius=0)),this.updateElement(g,m,b,o)}}resolveDataElementOptions(i,n){let r=this.getParsed(i),o=super.resolveDataElementOptions(i,n);o.$shared&&(o=Object.assign({},o,{$shared:!1}));let s=o.radius;return n!=="active"&&(o.radius=0),o.radius+=Ut(r&&r._custom,s),o}}return t})();function upe(t,e,i){let n=1,r=1,o=0,s=0;if(e<dn){let a=t,l=a+e,c=Math.cos(a),d=Math.sin(a),u=Math.cos(l),f=Math.sin(l),m=(T,O,P)=>Ep(T,a,l,!0)?1:Math.max(O,O*i,P,P*i),g=(T,O,P)=>Ep(T,a,l,!0)?-1:Math.min(O,O*i,P,P*i),_=m(0,c,u),b=m(Ln,d,f),y=g(cn,c,u),x=g(cn+Ln,d,f);n=(_-y)/2,r=(b-x)/2,o=-(_+y)/2,s=-(b+x)/2}return{ratioX:n,ratioY:r,offsetX:o,offsetY:s}}var S1=(()=>{class t extends ou{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:i=>i!=="spacing",_indexable:i=>i!=="spacing"&&!i.startsWith("borderDash")&&!i.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(i){let n=i.data;if(n.labels.length&&n.datasets.length){let{labels:{pointStyle:r,color:o}}=i.legend.options;return n.labels.map((s,a)=>{let c=i.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:o,lineWidth:c.borderWidth,pointStyle:r,hidden:!i.getDataVisibility(a),index:a}})}return[]}},onClick(i,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}};constructor(i,n){super(i,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(i,n){let r=this.getDataset().data,o=this._cachedMeta;if(this._parsing===!1)o._parsed=r;else{let s=c=>+r[c];if(ci(r[i])){let{key:c="value"}=this._parsing;s=d=>+Oc(r[d],c)}let a,l;for(a=i,l=i+n;a<l;++a)o._parsed[a]=s(a)}}_getRotation(){return Ws(this.options.rotation-90)}_getCircumference(){return Ws(this.options.circumference)}_getRotationExtents(){let i=dn,n=-dn;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){let o=this.chart.getDatasetMeta(r).controller,s=o._getRotation(),a=o._getCircumference();i=Math.min(i,s),n=Math.max(n,s+a)}return{rotation:i,circumference:n-i}}update(i){let n=this.chart,{chartArea:r}=n,o=this._cachedMeta,s=o.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,l=Math.max((Math.min(r.width,r.height)-a)/2,0),c=Math.min(nG(this.options.cutout,l),1),d=this._getRingWeight(this.index),{circumference:u,rotation:f}=this._getRotationExtents(),{ratioX:m,ratioY:g,offsetX:_,offsetY:b}=upe(f,u,c),y=(r.width-a)/m,x=(r.height-a)/g,T=Math.max(Math.min(y,x)/2,0),O=yk(this.options.radius,T),P=Math.max(O*c,0),V=(O-P)/this._getVisibleDatasetWeightTotal();this.offsetX=_*O,this.offsetY=b*O,o.total=this.calculateTotal(),this.outerRadius=O-V*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-V*d,0),this.updateElements(s,0,s.length,i)}_circumference(i,n){let r=this.options,o=this._cachedMeta,s=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(i)||o._parsed[i]===null||o.data[i].hidden?0:this.calculateCircumference(o._parsed[i]*s/dn)}updateElements(i,n,r,o){let s=o==="reset",a=this.chart,l=a.chartArea,d=a.options.animation,u=(l.left+l.right)/2,f=(l.top+l.bottom)/2,m=s&&d.animateScale,g=m?0:this.innerRadius,_=m?0:this.outerRadius,{sharedOptions:b,includeOptions:y}=this._getSharedOptions(n,o),x=this._getRotation(),T;for(T=0;T<n;++T)x+=this._circumference(T,s);for(T=n;T<n+r;++T){let O=this._circumference(T,s),P=i[T],V={x:u+this.offsetX,y:f+this.offsetY,startAngle:x,endAngle:x+O,circumference:O,outerRadius:_,innerRadius:g};y&&(V.options=b||this.resolveDataElementOptions(T,P.active?"active":o)),x+=O,this.updateElement(P,T,V,o)}}calculateTotal(){let i=this._cachedMeta,n=i.data,r=0,o;for(o=0;o<n.length;o++){let s=i._parsed[o];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(o)&&!n[o].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(i){let n=this._cachedMeta.total;return n>0&&!isNaN(i)?dn*(Math.abs(i)/n):0}getLabelAndValue(i){let n=this._cachedMeta,r=this.chart,o=r.data.labels||[],s=Rp(n._parsed[i],r.options.locale);return{label:o[i]||"",value:s}}getMaxBorderWidth(i){let n=0,r=this.chart,o,s,a,l,c;if(!i){for(o=0,s=r.data.datasets.length;o<s;++o)if(r.isDatasetVisible(o)){a=r.getDatasetMeta(o),i=a.data,l=a.controller;break}}if(!i)return 0;for(o=0,s=i.length;o<s;++o)c=l.resolveDataElementOptions(o),c.borderAlign!=="inner"&&(n=Math.max(n,c.borderWidth||0,c.hoverBorderWidth||0));return n}getMaxOffset(i){let n=0;for(let r=0,o=i.length;r<o;++r){let s=this.resolveDataElementOptions(r);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(i){let n=0;for(let r=0;r<i;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(i){return Math.max(Ut(this.chart.data.datasets[i].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return t})(),hpe=(()=>{class t extends ou{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(i){let n=this._cachedMeta,{dataset:r,data:o=[],_dataset:s}=n,a=this.chart._animationsDisabled,{start:l,count:c}=Mk(n,o,a);this._drawStart=l,this._drawCount=c,Ak(n)&&(l=0,c=o.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=o;let d=this.resolveDatasetElementOptions(i);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:d},i),this.updateElements(o,l,c,i)}updateElements(i,n,r,o){let s=o==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:d}=this._cachedMeta,{sharedOptions:u,includeOptions:f}=this._getSharedOptions(n,o),m=a.axis,g=l.axis,{spanGaps:_,segment:b}=this.options,y=Kh(_)?_:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||s||o==="none",T=n+r,O=i.length,P=n>0&&this.getParsed(n-1);for(let V=0;V<O;++V){let F=i[V],k=x?F:{};if(V<n||V>=T){k.skip=!0;continue}let Z=this.getParsed(V),ae=_i(Z[g]),re=k[m]=a.getPixelForValue(Z[m],V),ve=k[g]=s||ae?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,Z,c):Z[g],V);k.skip=isNaN(re)||isNaN(ve)||ae,k.stop=V>0&&Math.abs(Z[m]-P[m])>y,b&&(k.parsed=Z,k.raw=d.data[V]),f&&(k.options=u||this.resolveDataElementOptions(V,F.active?"active":o)),x||this.updateElement(F,V,k,o),P=Z}}getMaxOverflow(){let i=this._cachedMeta,n=i.dataset,r=n.options&&n.options.borderWidth||0,o=i.data||[];if(!o.length)return r;let s=o[0].size(this.resolveDataElementOptions(0)),a=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(r,s,a)/2}draw(){let i=this._cachedMeta;i.dataset.updateControlPoints(this.chart.chartArea,i.iScale.axis),super.draw()}}return t})(),k$=(()=>{class t extends ou{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(i){let n=i.data;if(n.labels.length&&n.datasets.length){let{labels:{pointStyle:r,color:o}}=i.legend.options;return n.labels.map((s,a)=>{let c=i.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:o,lineWidth:c.borderWidth,pointStyle:r,hidden:!i.getDataVisibility(a),index:a}})}return[]}},onClick(i,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(i,n){super(i,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(i){let n=this._cachedMeta,r=this.chart,o=r.data.labels||[],s=Rp(n._parsed[i].r,r.options.locale);return{label:o[i]||"",value:s}}parseObjectData(i,n,r,o){return Bk.bind(this)(i,n,r,o)}update(i){let n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,i)}getMinMax(){let i=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return i.data.forEach((r,o)=>{let s=this.getParsed(o).r;!isNaN(s)&&this.chart.getDataVisibility(o)&&(s<n.min&&(n.min=s),s>n.max&&(n.max=s))}),n}_updateRadius(){let i=this.chart,n=i.chartArea,r=i.options,o=Math.min(n.right-n.left,n.bottom-n.top),s=Math.max(o/2,0),a=Math.max(r.cutoutPercentage?s/100*r.cutoutPercentage:1,0),l=(s-a)/i.getVisibleDatasetCount();this.outerRadius=s-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(i,n,r,o){let s=o==="reset",a=this.chart,c=a.options.animation,d=this._cachedMeta.rScale,u=d.xCenter,f=d.yCenter,m=d.getIndexAngle(0)-.5*cn,g=m,_,b=360/this.countVisibleElements();for(_=0;_<n;++_)g+=this._computeAngle(_,o,b);for(_=n;_<n+r;_++){let y=i[_],x=g,T=g+this._computeAngle(_,o,b),O=a.getDataVisibility(_)?d.getDistanceFromCenterForValue(this.getParsed(_).r):0;g=T,s&&(c.animateScale&&(O=0),c.animateRotate&&(x=T=m));let P={x:u,y:f,innerRadius:0,outerRadius:O,startAngle:x,endAngle:T,options:this.resolveDataElementOptions(_,y.active?"active":o)};this.updateElement(y,_,P,o)}}countVisibleElements(){let i=this._cachedMeta,n=0;return i.data.forEach((r,o)=>{!isNaN(this.getParsed(o).r)&&this.chart.getDataVisibility(o)&&n++}),n}_computeAngle(i,n,r){return this.chart.getDataVisibility(i)?Ws(this.resolveDataElementOptions(i,n).angle||r):0}}return t})(),fpe=(()=>{class t extends S1{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}return t})(),mpe=(()=>{class t extends ou{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(i){let n=this._cachedMeta.vScale,r=this.getParsed(i);return{label:n.getLabels()[i],value:""+n.getLabelForValue(r[n.axis])}}parseObjectData(i,n,r,o){return Bk.bind(this)(i,n,r,o)}update(i){let n=this._cachedMeta,r=n.dataset,o=n.data||[],s=n.iScale.getLabels();if(r.points=o,i!=="resize"){let a=this.resolveDatasetElementOptions(i);this.options.showLine||(a.borderWidth=0);let l={_loop:!0,_fullLoop:s.length===o.length,options:a};this.updateElement(r,void 0,l,i)}this.updateElements(o,0,o.length,i)}updateElements(i,n,r,o){let s=this._cachedMeta.rScale,a=o==="reset";for(let l=n;l<n+r;l++){let c=i[l],d=this.resolveDataElementOptions(l,c.active?"active":o),u=s.getPointPositionForValue(l,this.getParsed(l).r),f=a?s.xCenter:u.x,m=a?s.yCenter:u.y,g={x:f,y:m,angle:u.angle,skip:isNaN(f)||isNaN(m),options:d};this.updateElement(c,l,g,o)}}}return t})(),ppe=(()=>{class t extends ou{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(i){let n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:o,yScale:s}=n,a=this.getParsed(i),l=o.getLabelForValue(a.x),c=s.getLabelForValue(a.y);return{label:r[i]||"",value:"("+l+", "+c+")"}}update(i){let n=this._cachedMeta,{data:r=[]}=n,o=this.chart._animationsDisabled,{start:s,count:a}=Mk(n,r,o);if(this._drawStart=s,this._drawCount=a,Ak(n)&&(s=0,a=r.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:l,_dataset:c}=n;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!c._decimated,l.points=r;let d=this.resolveDatasetElementOptions(i);d.segment=this.options.segment,this.updateElement(l,void 0,{animated:!o,options:d},i)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(r,s,a,i)}addElements(){let{showLine:i}=this.options;!this.datasetElementType&&i&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(i,n,r,o){let s=o==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:d}=this._cachedMeta,u=this.resolveDataElementOptions(n,o),f=this.getSharedOptions(u),m=this.includeOptions(o,f),g=a.axis,_=l.axis,{spanGaps:b,segment:y}=this.options,x=Kh(b)?b:Number.POSITIVE_INFINITY,T=this.chart._animationsDisabled||s||o==="none",O=n>0&&this.getParsed(n-1);for(let P=n;P<n+r;++P){let V=i[P],F=this.getParsed(P),k=T?V:{},Z=_i(F[_]),ae=k[g]=a.getPixelForValue(F[g],P),re=k[_]=s||Z?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,F,c):F[_],P);k.skip=isNaN(ae)||isNaN(re)||Z,k.stop=P>0&&Math.abs(F[g]-O[g])>x,y&&(k.parsed=F,k.raw=d.data[P]),m&&(k.options=f||this.resolveDataElementOptions(P,V.active?"active":o)),T||this.updateElement(V,P,k,o),O=F}this.updateSharedOptions(f,o,u)}getMaxOverflow(){let i=this._cachedMeta,n=i.data||[];if(!this.options.showLine){let l=0;for(let c=n.length-1;c>=0;--c)l=Math.max(l,n[c].size(this.resolveDataElementOptions(c))/2);return l>0&&l}let r=i.dataset,o=r.options&&r.options.borderWidth||0;if(!n.length)return o;let s=n[0].size(this.resolveDataElementOptions(0)),a=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(o,s,a)/2}}return t})(),gpe=Object.freeze({__proto__:null,BarController:cpe,BubbleController:dpe,DoughnutController:S1,LineController:hpe,PieController:fpe,PolarAreaController:k$,RadarController:mpe,ScatterController:ppe});function Qh(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var r1=class t{static override(e){Object.assign(t.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Qh()}parse(){return Qh()}format(){return Qh()}add(){return Qh()}diff(){return Qh()}startOf(){return Qh()}endOf(){return Qh()}},bpe={_date:r1};function vpe(t,e,i,n){let{controller:r,data:o,_sorted:s}=t,a=r._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&s&&o.length){let l=a._reversePixels?cG:gl;if(n){if(r._sharedOptions){let c=o[0],d=typeof c.getRange=="function"&&c.getRange(e);if(d){let u=l(o,e,i-d),f=l(o,e,i+d);return{lo:u.lo,hi:f.hi}}}}else return l(o,e,i)}return{lo:0,hi:o.length-1}}function U_(t,e,i,n,r){let o=t.getSortedVisibleDatasetMetas(),s=i[e];for(let a=0,l=o.length;a<l;++a){let{index:c,data:d}=o[a],{lo:u,hi:f}=vpe(o[a],e,s,r);for(let m=u;m<=f;++m){let g=d[m];g.skip||n(g,c,m)}}}function _pe(t){let e=t.indexOf("x")!==-1,i=t.indexOf("y")!==-1;return function(n,r){let o=e?Math.abs(n.x-r.x):0,s=i?Math.abs(n.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(s,2))}}function Xk(t,e,i,n,r){let o=[];return!r&&!t.isPointInArea(e)||U_(t,i,e,function(a,l,c){!r&&!bl(a,t.chartArea,0)||a.inRange(e.x,e.y,n)&&o.push({element:a,datasetIndex:l,index:c})},!0),o}function ype(t,e,i,n){let r=[];function o(s,a,l){let{startAngle:c,endAngle:d}=s.getProps(["startAngle","endAngle"],n),{angle:u}=Ek(s,{x:e.x,y:e.y});Ep(u,c,d)&&r.push({element:s,datasetIndex:a,index:l})}return U_(t,i,e,o),r}function wpe(t,e,i,n,r,o){let s=[],a=_pe(i),l=Number.POSITIVE_INFINITY;function c(d,u,f){let m=d.inRange(e.x,e.y,r);if(n&&!m)return;let g=d.getCenterPoint(r);if(!(!!o||t.isPointInArea(g))&&!m)return;let b=a(e,g);b<l?(s=[{element:d,datasetIndex:u,index:f}],l=b):b===l&&s.push({element:d,datasetIndex:u,index:f})}return U_(t,i,e,c),s}function Qk(t,e,i,n,r,o){return!o&&!t.isPointInArea(e)?[]:i==="r"&&!n?ype(t,e,i,r):wpe(t,e,i,n,r,o)}function WG(t,e,i,n,r){let o=[],s=i==="x"?"inXRange":"inYRange",a=!1;return U_(t,i,e,(l,c,d)=>{l[s](e[i],r)&&(o.push({element:l,datasetIndex:c,index:d}),a=a||l.inRange(e.x,e.y,r))}),n&&!a?[]:o}var Cpe={evaluateInteractionItems:U_,modes:{index(t,e,i,n){let r=nu(e,t),o=i.axis||"x",s=i.includeInvisible||!1,a=i.intersect?Xk(t,r,o,n,s):Qk(t,r,o,!1,n,s),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{let d=a[0].index,u=c.data[d];u&&!u.skip&&l.push({element:u,datasetIndex:c.index,index:d})}),l):[]},dataset(t,e,i,n){let r=nu(e,t),o=i.axis||"xy",s=i.includeInvisible||!1,a=i.intersect?Xk(t,r,o,n,s):Qk(t,r,o,!1,n,s);if(a.length>0){let l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let d=0;d<c.length;++d)a.push({element:c[d],datasetIndex:l,index:d})}return a},point(t,e,i,n){let r=nu(e,t),o=i.axis||"xy",s=i.includeInvisible||!1;return Xk(t,r,o,n,s)},nearest(t,e,i,n){let r=nu(e,t),o=i.axis||"xy",s=i.includeInvisible||!1;return Qk(t,r,o,i.intersect,n,s)},x(t,e,i,n){let r=nu(e,t);return WG(t,r,"x",i.intersect,n)},y(t,e,i,n){let r=nu(e,t);return WG(t,r,"y",i.intersect,n)}}},N$=["left","top","right","bottom"];function k_(t,e){return t.filter(i=>i.pos===e)}function jG(t,e){return t.filter(i=>N$.indexOf(i.pos)===-1&&i.box.axis===e)}function N_(t,e){return t.sort((i,n)=>{let r=e?n:i,o=e?i:n;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function Spe(t){let e=[],i,n,r,o,s,a;for(i=0,n=(t||[]).length;i<n;++i)r=t[i],{position:o,options:{stack:s,stackWeight:a=1}}=r,e.push({index:i,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:s&&o+s,stackWeight:a});return e}function xpe(t){let e={};for(let i of t){let{stack:n,pos:r,stackWeight:o}=i;if(!n||!N$.includes(r))continue;let s=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=o}return e}function Epe(t,e){let i=xpe(t),{vBoxMaxWidth:n,hBoxMaxHeight:r}=e,o,s,a;for(o=0,s=t.length;o<s;++o){a=t[o];let{fullSize:l}=a.box,c=i[a.stack],d=c&&a.stackWeight/c.weight;a.horizontal?(a.width=d?d*n:l&&e.availableWidth,a.height=r):(a.width=n,a.height=d?d*r:l&&e.availableHeight)}return i}function Rpe(t){let e=Spe(t),i=N_(e.filter(c=>c.box.fullSize),!0),n=N_(k_(e,"left"),!0),r=N_(k_(e,"right")),o=N_(k_(e,"top"),!0),s=N_(k_(e,"bottom")),a=jG(e,"x"),l=jG(e,"y");return{fullSize:i,leftAndTop:n.concat(o),rightAndBottom:r.concat(l).concat(s).concat(a),chartArea:k_(e,"chartArea"),vertical:n.concat(r).concat(l),horizontal:o.concat(s).concat(a)}}function UG(t,e,i,n){return Math.max(t[i],e[i])+Math.max(t[n],e[n])}function L$(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Tpe(t,e,i,n){let{pos:r,box:o}=i,s=t.maxPadding;if(!ci(r)){i.size&&(t[r]-=i.size);let u=n[i.stack]||{size:0,count:1};u.size=Math.max(u.size,i.horizontal?o.height:o.width),i.size=u.size/u.count,t[r]+=i.size}o.getPadding&&L$(s,o.getPadding());let a=Math.max(0,e.outerWidth-UG(s,t,"left","right")),l=Math.max(0,e.outerHeight-UG(s,t,"top","bottom")),c=a!==t.w,d=l!==t.h;return t.w=a,t.h=l,i.horizontal?{same:c,other:d}:{same:d,other:c}}function Ipe(t){let e=t.maxPadding;function i(n){let r=Math.max(e[n]-t[n],0);return t[n]+=r,r}t.y+=i("top"),t.x+=i("left"),i("right"),i("bottom")}function Dpe(t,e){let i=e.maxPadding;function n(r){let o={left:0,top:0,right:0,bottom:0};return r.forEach(s=>{o[s]=Math.max(e[s],i[s])}),o}return n(t?["left","right"]:["top","bottom"])}function H_(t,e,i,n){let r=[],o,s,a,l,c,d;for(o=0,s=t.length,c=0;o<s;++o){a=t[o],l=a.box,l.update(a.width||e.w,a.height||e.h,Dpe(a.horizontal,e));let{same:u,other:f}=Tpe(e,i,a,n);c|=u&&r.length,d=d||f,l.fullSize||r.push(a)}return c&&H_(r,e,i,n)||d}function uR(t,e,i,n,r){t.top=i,t.left=e,t.right=e+n,t.bottom=i+r,t.width=n,t.height=r}function zG(t,e,i,n){let r=i.padding,{x:o,y:s}=e;for(let a of t){let l=a.box,c=n[a.stack]||{count:1,placed:0,weight:1},d=a.stackWeight/c.weight||1;if(a.horizontal){let u=e.w*d,f=c.size||l.height;Sp(c.start)&&(s=c.start),l.fullSize?uR(l,r.left,s,i.outerWidth-r.right-r.left,f):uR(l,e.left+c.placed,s,u,f),c.start=s,c.placed+=u,s=l.bottom}else{let u=e.h*d,f=c.size||l.width;Sp(c.start)&&(o=c.start),l.fullSize?uR(l,o,r.top,f,i.outerHeight-r.bottom-r.top):uR(l,o,e.top+c.placed,f,u),c.start=o,c.placed+=u,o=l.right}}e.x=o,e.y=s}var eo={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(i){e.draw(i)}}]},t.boxes.push(e)},removeBox(t,e){let i=t.boxes?t.boxes.indexOf(e):-1;i!==-1&&t.boxes.splice(i,1)},configure(t,e,i){e.fullSize=i.fullSize,e.position=i.position,e.weight=i.weight},update(t,e,i,n){if(!t)return;let r=Br(t.options.layout.padding),o=Math.max(e-r.width,0),s=Math.max(i-r.height,0),a=Rpe(t.boxes),l=a.vertical,c=a.horizontal;Li(t.boxes,_=>{typeof _.beforeLayout=="function"&&_.beforeLayout()});let d=l.reduce((_,b)=>b.box.options&&b.box.options.display===!1?_:_+1,0)||1,u=Object.freeze({outerWidth:e,outerHeight:i,padding:r,availableWidth:o,availableHeight:s,vBoxMaxWidth:o/2/d,hBoxMaxHeight:s/2}),f=Object.assign({},r);L$(f,Br(n));let m=Object.assign({maxPadding:f,w:o,h:s,x:r.left,y:r.top},r),g=Epe(l.concat(c),u);H_(a.fullSize,m,u,g),H_(l,m,u,g),H_(c,m,u,g)&&H_(l,m,u,g),Ipe(m),zG(a.leftAndTop,m,u,g),m.x+=m.w,m.y+=m.h,zG(a.rightAndBottom,m,u,g),t.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},Li(a.chartArea,_=>{let b=_.box;Object.assign(b,t.chartArea),b.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}},wR=class{acquireContext(e,i){}releaseContext(e){return!1}addEventListener(e,i,n){}removeEventListener(e,i,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,i,n,r){return i=Math.max(0,i||e.width),n=n||e.height,{width:i,height:Math.max(0,r?Math.floor(i/r):n)}}isAttached(e){return!0}updateConfig(e){}},o1=class extends wR{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}},vR="$chartjs",Mpe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},YG=t=>t===null||t==="";function Ape(t,e){let i=t.style,n=t.getAttribute("height"),r=t.getAttribute("width");if(t[vR]={initial:{height:n,width:r,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",i.boxSizing=i.boxSizing||"border-box",YG(r)){let o=jk(t,"width");o!==void 0&&(t.width=o)}if(YG(n))if(t.style.height==="")t.height=t.width/(e||2);else{let o=jk(t,"height");o!==void 0&&(t.height=o)}return t}var F$=RG?{passive:!0}:!1;function Ope(t,e,i){t&&t.addEventListener(e,i,F$)}function Ppe(t,e,i){t&&t.canvas&&t.canvas.removeEventListener(e,i,F$)}function kpe(t,e){let i=Mpe[t.type]||t.type,{x:n,y:r}=nu(t,e);return{type:i,chart:e,native:t,x:n!==void 0?n:null,y:r!==void 0?r:null}}function CR(t,e){for(let i of t)if(i===e||i.contains(e))return!0}function Npe(t,e,i){let n=t.canvas,r=new MutationObserver(o=>{let s=!1;for(let a of o)s=s||CR(a.addedNodes,n),s=s&&!CR(a.removedNodes,n);s&&i()});return r.observe(document,{childList:!0,subtree:!0}),r}function Lpe(t,e,i){let n=t.canvas,r=new MutationObserver(o=>{let s=!1;for(let a of o)s=s||CR(a.removedNodes,n),s=s&&!CR(a.addedNodes,n);s&&i()});return r.observe(document,{childList:!0,subtree:!0}),r}var B_=new Map,GG=0;function H$(){let t=window.devicePixelRatio;t!==GG&&(GG=t,B_.forEach((e,i)=>{i.currentDevicePixelRatio!==t&&e()}))}function Fpe(t,e){B_.size||window.addEventListener("resize",H$),B_.set(t,e)}function Hpe(t){B_.delete(t),B_.size||window.removeEventListener("resize",H$)}function Vpe(t,e,i){let n=t.canvas,r=n&&cR(n);if(!r)return;let o=Dk((a,l)=>{let c=r.clientWidth;i(a,l),c<r.clientWidth&&i()},window),s=new ResizeObserver(a=>{let l=a[0],c=l.contentRect.width,d=l.contentRect.height;c===0&&d===0||o(c,d)});return s.observe(r),Fpe(t,o),s}function Zk(t,e,i){i&&i.disconnect(),e==="resize"&&Hpe(t)}function Bpe(t,e,i){let n=t.canvas,r=Dk(o=>{t.ctx!==null&&i(kpe(o,t))},t);return Ope(n,e,r),r}var s1=class extends wR{acquireContext(e,i){let n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(Ape(e,i),n):null}releaseContext(e){let i=e.canvas;if(!i[vR])return!1;let n=i[vR].initial;["height","width"].forEach(o=>{let s=n[o];_i(s)?i.removeAttribute(o):i.setAttribute(o,s)});let r=n.style||{};return Object.keys(r).forEach(o=>{i.style[o]=r[o]}),i.width=i.width,delete i[vR],!0}addEventListener(e,i,n){this.removeEventListener(e,i);let r=e.$proxies||(e.$proxies={}),s={attach:Npe,detach:Lpe,resize:Vpe}[i]||Bpe;r[i]=s(e,i,n)}removeEventListener(e,i){let n=e.$proxies||(e.$proxies={}),r=n[i];if(!r)return;({attach:Zk,detach:Zk,resize:Zk}[i]||Ppe)(e,i,r),n[i]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,i,n,r){return EG(e,i,n,r)}isAttached(e){let i=e&&cR(e);return!!(i&&i.isConnected)}};function Wpe(t){return!lR()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?o1:s1}var Aa=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){let{x:i,y:n}=this.getProps(["x","y"],e);return{x:i,y:n}}hasValue(){return Kh(this.x)&&Kh(this.y)}getProps(e,i){let n=this.$animations;if(!i||!n)return this;let r={};return e.forEach(o=>{r[o]=n[o]&&n[o].active()?n[o]._to:this[o]}),r}};function jpe(t,e){let i=t.options.ticks,n=Upe(t),r=Math.min(i.maxTicksLimit||n,n),o=i.major.enabled?Ype(e):[],s=o.length,a=o[0],l=o[s-1],c=[];if(s>r)return Gpe(e,c,o,s/r),c;let d=zpe(o,e,r);if(s>0){let u,f,m=s>1?Math.round((l-a)/(s-1)):null;for(hR(e,c,d,_i(m)?0:a-m,a),u=0,f=s-1;u<f;u++)hR(e,c,d,o[u],o[u+1]);return hR(e,c,d,l,_i(m)?e.length:l+m),c}return hR(e,c,d),c}function Upe(t){let e=t.options.offset,i=t._tickSize(),n=t._length/i+(e?0:1),r=t._maxLength/i;return Math.floor(Math.min(n,r))}function zpe(t,e,i){let n=$pe(t),r=e.length/i;if(!n)return Math.max(r,1);let o=sG(n);for(let s=0,a=o.length-1;s<a;s++){let l=o[s];if(l>r)return l}return Math.max(r,1)}function Ype(t){let e=[],i,n;for(i=0,n=t.length;i<n;i++)t[i].major&&e.push(i);return e}function Gpe(t,e,i,n){let r=0,o=i[0],s;for(n=Math.ceil(n),s=0;s<t.length;s++)s===o&&(e.push(t[s]),r++,o=i[r*n])}function hR(t,e,i,n,r){let o=Ut(n,0),s=Math.min(Ut(r,t.length),t.length),a=0,l,c,d;for(i=Math.ceil(i),r&&(l=r-n,i=l/Math.floor(l/i)),d=o;d<0;)a++,d=Math.round(o+a*i);for(c=Math.max(o,0);c<s;c++)c===d&&(e.push(t[c]),a++,d=Math.round(o+a*i))}function $pe(t){let e=t.length,i,n;if(e<2)return!1;for(n=t[0],i=1;i<e;++i)if(t[i]-t[i-1]!==n)return!1;return n}var qpe=t=>t==="left"?"right":t==="right"?"left":t,$G=(t,e,i)=>e==="top"||e==="left"?t[e]+i:t[e]-i,qG=(t,e)=>Math.min(e||t,t);function KG(t,e){let i=[],n=t.length/e,r=t.length,o=0;for(;o<r;o+=n)i.push(t[Math.floor(o)]);return i}function Kpe(t,e,i){let n=t.ticks.length,r=Math.min(e,n-1),o=t._startPixel,s=t._endPixel,a=1e-6,l=t.getPixelForTick(r),c;if(!(i&&(n===1?c=Math.max(l-o,s-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(r-1))/2,l+=r<e?c:-c,l<o-a||l>s+a)))return l}function Xpe(t,e){Li(t,i=>{let n=i.gc,r=n.length/2,o;if(r>e){for(o=0;o<r;++o)delete i.data[n[o]];n.splice(0,r)}})}function L_(t){return t.drawTicks?t.tickLength:0}function XG(t,e){if(!t.display)return 0;let i=nr(t.font,e),n=Br(t.padding);return(ln(t.text)?t.text.length:1)*i.lineHeight+n.height}function Qpe(t,e){return Pc(t,{scale:e,type:"scale"})}function Zpe(t,e,i){return Pc(t,{tick:i,index:e,type:"tick"})}function Jpe(t,e,i){let n=nR(t);return(i&&e!=="right"||!i&&e==="right")&&(n=qpe(n)),n}function ege(t,e,i,n){let{top:r,left:o,bottom:s,right:a,chart:l}=t,{chartArea:c,scales:d}=l,u=0,f,m,g,_=s-r,b=a-o;if(t.isHorizontal()){if(m=Vr(n,o,a),ci(i)){let y=Object.keys(i)[0],x=i[y];g=d[y].getPixelForValue(x)+_-e}else i==="center"?g=(c.bottom+c.top)/2+_-e:g=$G(t,i,e);f=a-o}else{if(ci(i)){let y=Object.keys(i)[0],x=i[y];m=d[y].getPixelForValue(x)-b+e}else i==="center"?m=(c.left+c.right)/2-b+e:m=$G(t,i,e);g=Vr(n,s,r),u=i==="left"?-Ln:Ln}return{titleX:m,titleY:g,maxWidth:f,rotation:u}}var Jh=class t extends Aa{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,i){return e}getUserBounds(){let{_userMin:e,_userMax:i,_suggestedMin:n,_suggestedMax:r}=this;return e=Ho(e,Number.POSITIVE_INFINITY),i=Ho(i,Number.NEGATIVE_INFINITY),n=Ho(n,Number.POSITIVE_INFINITY),r=Ho(r,Number.NEGATIVE_INFINITY),{min:Ho(e,n),max:Ho(i,r),minDefined:Tn(e),maxDefined:Tn(i)}}getMinMax(e){let{min:i,max:n,minDefined:r,maxDefined:o}=this.getUserBounds(),s;if(r&&o)return{min:i,max:n};let a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)s=a[l].controller.getMinMax(this,e),r||(i=Math.min(i,s.min)),o||(n=Math.max(n,s.max));return i=o&&i>n?n:i,n=r&&i>n?i:n,{min:Ho(i,Ho(n,i)),max:Ho(n,Ho(i,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){nn(this.options.beforeUpdate,[this])}update(e,i,n){let{beginAtZero:r,grace:o,ticks:s}=this.options,a=s.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=i,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=_G(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let l=a<this.ticks.length;this._convertTicksToLabels(l?KG(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||s.source==="auto")&&(this.ticks=jpe(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,i,n;this.isHorizontal()?(i=this.left,n=this.right):(i=this.top,n=this.bottom,e=!e),this._startPixel=i,this._endPixel=n,this._reversePixels=e,this._length=n-i,this._alignToPixels=this.options.alignToPixels}afterUpdate(){nn(this.options.afterUpdate,[this])}beforeSetDimensions(){nn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){nn(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),nn(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){nn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){let i=this.options.ticks,n,r,o;for(n=0,r=e.length;n<r;n++)o=e[n],o.label=nn(i.callback,[o.value,n,e],this)}afterTickToLabelConversion(){nn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){nn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let e=this.options,i=e.ticks,n=qG(this.ticks.length,e.ticks.maxTicksLimit),r=i.minRotation||0,o=i.maxRotation,s=r,a,l,c;if(!this._isVisible()||!i.display||r>=o||n<=1||!this.isHorizontal()){this.labelRotation=r;return}let d=this._getLabelSizes(),u=d.widest.width,f=d.highest.height,m=fr(this.chart.width-u,0,this.maxWidth);a=e.offset?this.maxWidth/n:m/(n-1),u+6>a&&(a=m/(n-(e.offset?.5:1)),l=this.maxHeight-L_(e.grid)-i.padding-XG(e.title,this.chart.options.font),c=Math.sqrt(u*u+f*f),s=tR(Math.min(Math.asin(fr((d.highest.height+6)/a,-1,1)),Math.asin(fr(l/c,-1,1))-Math.asin(fr(f/c,-1,1)))),s=Math.max(r,Math.min(o,s))),this.labelRotation=s}afterCalculateLabelRotation(){nn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){nn(this.options.beforeFit,[this])}fit(){let e={width:0,height:0},{chart:i,options:{ticks:n,title:r,grid:o}}=this,s=this._isVisible(),a=this.isHorizontal();if(s){let l=XG(r,i.options.font);if(a?(e.width=this.maxWidth,e.height=L_(o)+l):(e.height=this.maxHeight,e.width=L_(o)+l),n.display&&this.ticks.length){let{first:c,last:d,widest:u,highest:f}=this._getLabelSizes(),m=n.padding*2,g=Ws(this.labelRotation),_=Math.cos(g),b=Math.sin(g);if(a){let y=n.mirror?0:b*u.width+_*f.height;e.height=Math.min(this.maxHeight,e.height+y+m)}else{let y=n.mirror?0:_*u.width+b*f.height;e.width=Math.min(this.maxWidth,e.width+y+m)}this._calculatePadding(c,d,b,_)}}this._handleMargins(),a?(this.width=this._length=i.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=i.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,i,n,r){let{ticks:{align:o,padding:s},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){let d=this.getPixelForTick(0)-this.left,u=this.right-this.getPixelForTick(this.ticks.length-1),f=0,m=0;l?c?(f=r*e.width,m=n*i.height):(f=n*e.height,m=r*i.width):o==="start"?m=i.width:o==="end"?f=e.width:o!=="inner"&&(f=e.width/2,m=i.width/2),this.paddingLeft=Math.max((f-d+s)*this.width/(this.width-d),0),this.paddingRight=Math.max((m-u+s)*this.width/(this.width-u),0)}else{let d=i.height/2,u=e.height/2;o==="start"?(d=0,u=e.height):o==="end"&&(d=i.height,u=0),this.paddingTop=d+s,this.paddingBottom=u+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){nn(this.options.afterFit,[this])}isHorizontal(){let{axis:e,position:i}=this.options;return i==="top"||i==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let i,n;for(i=0,n=e.length;i<n;i++)_i(e[i].label)&&(e.splice(i,1),n--,i--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){let i=this.options.ticks.sampleSize,n=this.ticks;i<n.length&&(n=KG(n,i)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,i,n){let{ctx:r,_longestTextCache:o}=this,s=[],a=[],l=Math.floor(i/qG(i,n)),c=0,d=0,u,f,m,g,_,b,y,x,T,O,P;for(u=0;u<i;u+=l){if(g=e[u].label,_=this._resolveTickFontOptions(u),r.font=b=_.string,y=o[b]=o[b]||{data:{},gc:[]},x=_.lineHeight,T=O=0,!_i(g)&&!ln(g))T=I_(r,y.data,y.gc,T,g),O=x;else if(ln(g))for(f=0,m=g.length;f<m;++f)P=g[f],!_i(P)&&!ln(P)&&(T=I_(r,y.data,y.gc,T,P),O+=x);s.push(T),a.push(O),c=Math.max(T,c),d=Math.max(O,d)}Xpe(o,i);let V=s.indexOf(c),F=a.indexOf(d),k=Z=>({width:s[Z]||0,height:a[Z]||0});return{first:k(0),last:k(i-1),widest:k(V),highest:k(F),widths:s,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,i){return NaN}getValueForPixel(e){}getPixelForTick(e){let i=this.ticks;return e<0||e>i.length-1?null:this.getPixelForValue(i[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);let i=this._startPixel+e*this._length;return lG(this._alignToPixels?eu(this.chart,i,0):i)}getDecimalForPixel(e){let i=(e-this._startPixel)/this._length;return this._reversePixels?1-i:i}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:e,max:i}=this;return e<0&&i<0?i:e>0&&i>0?e:0}getContext(e){let i=this.ticks||[];if(e>=0&&e<i.length){let n=i[e];return n.$context||(n.$context=Zpe(this.getContext(),e,n))}return this.$context||(this.$context=Qpe(this.chart.getContext(),this))}_tickSize(){let e=this.options.ticks,i=Ws(this.labelRotation),n=Math.abs(Math.cos(i)),r=Math.abs(Math.sin(i)),o=this._getLabelSizes(),s=e.autoSkipPadding||0,a=o?o.widest.width+s:0,l=o?o.highest.height+s:0;return this.isHorizontal()?l*n>a*r?a/n:l/r:l*r<a*n?l/n:a/r}_isVisible(){let e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){let i=this.axis,n=this.chart,r=this.options,{grid:o,position:s,border:a}=r,l=o.offset,c=this.isHorizontal(),u=this.ticks.length+(l?1:0),f=L_(o),m=[],g=a.setContext(this.getContext()),_=g.display?g.width:0,b=_/2,y=function(je){return eu(n,je,_)},x,T,O,P,V,F,k,Z,ae,re,ve,Pe;if(s==="top")x=y(this.bottom),F=this.bottom-f,Z=x-b,re=y(e.top)+b,Pe=e.bottom;else if(s==="bottom")x=y(this.top),re=e.top,Pe=y(e.bottom)-b,F=x+b,Z=this.top+f;else if(s==="left")x=y(this.right),V=this.right-f,k=x-b,ae=y(e.left)+b,ve=e.right;else if(s==="right")x=y(this.left),ae=e.left,ve=y(e.right)-b,V=x+b,k=this.left+f;else if(i==="x"){if(s==="center")x=y((e.top+e.bottom)/2+.5);else if(ci(s)){let je=Object.keys(s)[0],Ue=s[je];x=y(this.chart.scales[je].getPixelForValue(Ue))}re=e.top,Pe=e.bottom,F=x+b,Z=F+f}else if(i==="y"){if(s==="center")x=y((e.left+e.right)/2);else if(ci(s)){let je=Object.keys(s)[0],Ue=s[je];x=y(this.chart.scales[je].getPixelForValue(Ue))}V=x-b,k=V-f,ae=e.left,ve=e.right}let Ne=Ut(r.ticks.maxTicksLimit,u),Oe=Math.max(1,Math.ceil(u/Ne));for(T=0;T<u;T+=Oe){let je=this.getContext(T),Ue=o.setContext(je),he=a.setContext(je),de=Ue.lineWidth,oi=Ue.color,S=he.dash||[],E=he.dashOffset,R=Ue.tickWidth,G=Ue.tickColor,$=Ue.tickBorderDash||[],X=Ue.tickBorderDashOffset;O=Kpe(this,T,l),O!==void 0&&(P=eu(n,O,de),c?V=k=ae=ve=P:F=Z=re=Pe=P,m.push({tx1:V,ty1:F,tx2:k,ty2:Z,x1:ae,y1:re,x2:ve,y2:Pe,width:de,color:oi,borderDash:S,borderDashOffset:E,tickWidth:R,tickColor:G,tickBorderDash:$,tickBorderDashOffset:X}))}return this._ticksLength=u,this._borderValue=x,m}_computeLabelItems(e){let i=this.axis,n=this.options,{position:r,ticks:o}=n,s=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:d,mirror:u}=o,f=L_(n.grid),m=f+d,g=u?-d:m,_=-Ws(this.labelRotation),b=[],y,x,T,O,P,V,F,k,Z,ae,re,ve,Pe="middle";if(r==="top")V=this.bottom-g,F=this._getXAxisLabelAlignment();else if(r==="bottom")V=this.top+g,F=this._getXAxisLabelAlignment();else if(r==="left"){let Oe=this._getYAxisLabelAlignment(f);F=Oe.textAlign,P=Oe.x}else if(r==="right"){let Oe=this._getYAxisLabelAlignment(f);F=Oe.textAlign,P=Oe.x}else if(i==="x"){if(r==="center")V=(e.top+e.bottom)/2+m;else if(ci(r)){let Oe=Object.keys(r)[0],je=r[Oe];V=this.chart.scales[Oe].getPixelForValue(je)+m}F=this._getXAxisLabelAlignment()}else if(i==="y"){if(r==="center")P=(e.left+e.right)/2-m;else if(ci(r)){let Oe=Object.keys(r)[0],je=r[Oe];P=this.chart.scales[Oe].getPixelForValue(je)}F=this._getYAxisLabelAlignment(f).textAlign}i==="y"&&(l==="start"?Pe="top":l==="end"&&(Pe="bottom"));let Ne=this._getLabelSizes();for(y=0,x=a.length;y<x;++y){T=a[y],O=T.label;let Oe=o.setContext(this.getContext(y));k=this.getPixelForTick(y)+o.labelOffset,Z=this._resolveTickFontOptions(y),ae=Z.lineHeight,re=ln(O)?O.length:1;let je=re/2,Ue=Oe.color,he=Oe.textStrokeColor,de=Oe.textStrokeWidth,oi=F;s?(P=k,F==="inner"&&(y===x-1?oi=this.options.reverse?"left":"right":y===0?oi=this.options.reverse?"right":"left":oi="center"),r==="top"?c==="near"||_!==0?ve=-re*ae+ae/2:c==="center"?ve=-Ne.highest.height/2-je*ae+ae:ve=-Ne.highest.height+ae/2:c==="near"||_!==0?ve=ae/2:c==="center"?ve=Ne.highest.height/2-je*ae:ve=Ne.highest.height-re*ae,u&&(ve*=-1),_!==0&&!Oe.showLabelBackdrop&&(P+=ae/2*Math.sin(_))):(V=k,ve=(1-re)*ae/2);let S;if(Oe.showLabelBackdrop){let E=Br(Oe.backdropPadding),R=Ne.heights[y],G=Ne.widths[y],$=ve-E.top,X=0-E.left;switch(Pe){case"middle":$-=R/2;break;case"bottom":$-=R;break}switch(F){case"center":X-=G/2;break;case"right":X-=G;break;case"inner":y===x-1?X-=G:y>0&&(X-=G/2);break}S={left:X,top:$,width:G+E.width,height:R+E.height,color:Oe.backdropColor}}b.push({label:O,font:Z,textOffset:ve,options:{rotation:_,color:Ue,strokeColor:he,strokeWidth:de,textAlign:oi,textBaseline:Pe,translation:[P,V],backdrop:S}})}return b}_getXAxisLabelAlignment(){let{position:e,ticks:i}=this.options;if(-Ws(this.labelRotation))return e==="top"?"left":"right";let r="center";return i.align==="start"?r="left":i.align==="end"?r="right":i.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){let{position:i,ticks:{crossAlign:n,mirror:r,padding:o}}=this.options,s=this._getLabelSizes(),a=e+o,l=s.widest.width,c,d;return i==="left"?r?(d=this.right+o,n==="near"?c="left":n==="center"?(c="center",d+=l/2):(c="right",d+=l)):(d=this.right-a,n==="near"?c="right":n==="center"?(c="center",d-=l/2):(c="left",d=this.left)):i==="right"?r?(d=this.left+o,n==="near"?c="right":n==="center"?(c="center",d-=l/2):(c="left",d-=l)):(d=this.left+a,n==="near"?c="left":n==="center"?(c="center",d+=l/2):(c="right",d=this.right)):c="right",{textAlign:c,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;let e=this.chart,i=this.options.position;if(i==="left"||i==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(i==="top"||i==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){let{ctx:e,options:{backgroundColor:i},left:n,top:r,width:o,height:s}=this;i&&(e.save(),e.fillStyle=i,e.fillRect(n,r,o,s),e.restore())}getLineWidthForValue(e){let i=this.options.grid;if(!this._isVisible()||!i.display)return 0;let r=this.ticks.findIndex(o=>o.value===e);return r>=0?i.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){let i=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e)),o,s,a=(l,c,d)=>{!d.width||!d.color||(n.save(),n.lineWidth=d.width,n.strokeStyle=d.color,n.setLineDash(d.borderDash||[]),n.lineDashOffset=d.borderDashOffset,n.beginPath(),n.moveTo(l.x,l.y),n.lineTo(c.x,c.y),n.stroke(),n.restore())};if(i.display)for(o=0,s=r.length;o<s;++o){let l=r[o];i.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),i.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){let{chart:e,ctx:i,options:{border:n,grid:r}}=this,o=n.setContext(this.getContext()),s=n.display?o.width:0;if(!s)return;let a=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue,c,d,u,f;this.isHorizontal()?(c=eu(e,this.left,s)-s/2,d=eu(e,this.right,a)+a/2,u=f=l):(u=eu(e,this.top,s)-s/2,f=eu(e,this.bottom,a)+a/2,c=d=l),i.save(),i.lineWidth=o.width,i.strokeStyle=o.color,i.beginPath(),i.moveTo(c,u),i.lineTo(d,f),i.stroke(),i.restore()}drawLabels(e){if(!this.options.ticks.display)return;let n=this.ctx,r=this._computeLabelArea();r&&A_(n,r);let o=this.getLabelItems(e);for(let s of o){let a=s.options,l=s.font,c=s.label,d=s.textOffset;tu(n,c,0,d,l,a)}r&&O_(n)}drawTitle(){let{ctx:e,options:{position:i,title:n,reverse:r}}=this;if(!n.display)return;let o=nr(n.font),s=Br(n.padding),a=n.align,l=o.lineHeight/2;i==="bottom"||i==="center"||ci(i)?(l+=s.bottom,ln(n.text)&&(l+=o.lineHeight*(n.text.length-1))):l+=s.top;let{titleX:c,titleY:d,maxWidth:u,rotation:f}=ege(this,l,i,a);tu(e,n.text,0,0,o,{color:n.color,maxWidth:u,rotation:f,textAlign:Jpe(a,i,r),textBaseline:"middle",translation:[c,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){let e=this.options,i=e.ticks&&e.ticks.z||0,n=Ut(e.grid&&e.grid.z,-1),r=Ut(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==t.prototype.draw?[{z:i,draw:o=>{this.draw(o)}}]:[{z:n,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:i,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){let i=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[],o,s;for(o=0,s=i.length;o<s;++o){let a=i[o];a[n]===this.id&&(!e||a.type===e)&&r.push(a)}return r}_resolveTickFontOptions(e){let i=this.options.ticks.setContext(this.getContext(e));return nr(i.font)}_maxDigits(){let e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}},Mp=class{constructor(e,i,n){this.type=e,this.scope=i,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){let i=Object.getPrototypeOf(e),n;nge(i)&&(n=this.register(i));let r=this.items,o=e.id,s=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in r||(r[o]=e,tge(e,s,n),this.override&&mn.override(e.id,e.overrides)),s}get(e){return this.items[e]}unregister(e){let i=this.items,n=e.id,r=this.scope;n in i&&delete i[n],r&&n in mn[r]&&(delete mn[r][n],this.override&&delete Jd[n])}};function tge(t,e,i){let n=yp(Object.create(null),[i?mn.get(i):{},mn.get(e),t.defaults]);mn.set(e,n),t.defaultRoutes&&ige(e,t.defaultRoutes),t.descriptors&&mn.describe(e,t.descriptors)}function ige(t,e){Object.keys(e).forEach(i=>{let n=i.split("."),r=n.pop(),o=[t].concat(n).join("."),s=e[i].split("."),a=s.pop(),l=s.join(".");mn.route(o,r,l,a)})}function nge(t){return"id"in t&&"defaults"in t}var a1=class{constructor(){this.controllers=new Mp(ou,"datasets",!0),this.elements=new Mp(Aa,"elements"),this.plugins=new Mp(Object,"plugins"),this.scales=new Mp(Jh,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,i,n){[...i].forEach(r=>{let o=n||this._getRegistryForType(r);n||o.isForType(r)||o===this.plugins&&r.id?this._exec(e,o,r):Li(r,s=>{let a=n||this._getRegistryForType(s);this._exec(e,a,s)})})}_exec(e,i,n){let r=eR(e);nn(n["before"+r],[],n),i[e](n),nn(n["after"+r],[],n)}_getRegistryForType(e){for(let i=0;i<this._typedRegistries.length;i++){let n=this._typedRegistries[i];if(n.isForType(e))return n}return this.plugins}_get(e,i,n){let r=i.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return r}},wl=new a1,l1=class{constructor(){this._init=[]}notify(e,i,n,r){i==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));let o=r?this._descriptors(e).filter(r):this._descriptors(e),s=this._notify(o,e,i,n);return i==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall")),s}_notify(e,i,n,r){r=r||{};for(let o of e){let s=o.plugin,a=s[n],l=[i,r,o.options];if(nn(a,l,s)===!1&&r.cancelable)return!1}return!0}invalidate(){_i(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;let i=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),i}_createDescriptors(e,i){let n=e&&e.config,r=Ut(n.options&&n.options.plugins,{}),o=rge(n);return r===!1&&!i?[]:sge(e,o,r,i)}_notifyStateChanges(e){let i=this._oldCache||[],n=this._cache,r=(o,s)=>o.filter(a=>!s.some(l=>a.plugin.id===l.plugin.id));this._notify(r(i,n),e,"stop"),this._notify(r(n,i),e,"start")}};function rge(t){let e={},i=[],n=Object.keys(wl.plugins.items);for(let o=0;o<n.length;o++)i.push(wl.getPlugin(n[o]));let r=t.plugins||[];for(let o=0;o<r.length;o++){let s=r[o];i.indexOf(s)===-1&&(i.push(s),e[s.id]=!0)}return{plugins:i,localIds:e}}function oge(t,e){return!e&&t===!1?null:t===!0?{}:t}function sge(t,{plugins:e,localIds:i},n,r){let o=[],s=t.getContext();for(let a of e){let l=a.id,c=oge(n[l],r);c!==null&&o.push({plugin:a,options:age(t.config,{plugin:a,local:i[l]},c,s)})}return o}function age(t,{plugin:e,local:i},n,r){let o=t.pluginScopeKeys(e),s=t.getOptionScopes(n,o);return i&&e.defaults&&s.push(e.defaults),t.createResolver(s,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function c1(t,e){let i=mn.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||i.indexAxis||"x"}function lge(t,e){let i=t;return t==="_index_"?i=e:t==="_value_"&&(i=e==="x"?"y":"x"),i}function cge(t,e){return t===e?"_index_":"_value_"}function QG(t){if(t==="x"||t==="y"||t==="r")return t}function dge(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function d1(t,...e){if(QG(t))return t;for(let i of e){let n=i.axis||dge(i.position)||t.length>1&&QG(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function ZG(t,e,i){if(i[e+"AxisID"]===t)return{axis:e}}function uge(t,e){if(e.data&&e.data.datasets){let i=e.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(i.length)return ZG(t,"x",i[0])||ZG(t,"y",i[0])}return{}}function hge(t,e){let i=Jd[t.type]||{scales:{}},n=e.scales||{},r=c1(t.type,e),o=Object.create(null);return Object.keys(n).forEach(s=>{let a=n[s];if(!ci(a))return console.error(`Invalid scale configuration for scale: ${s}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${s}`);let l=d1(s,a,uge(s,t),mn.scales[a.type]),c=cge(l,r),d=i.scales||{};o[s]=Cp(Object.create(null),[{axis:l},a,d[l],d[c]])}),t.data.datasets.forEach(s=>{let a=s.type||t.type,l=s.indexAxis||c1(a,e),d=(Jd[a]||{}).scales||{};Object.keys(d).forEach(u=>{let f=lge(u,l),m=s[f+"AxisID"]||f;o[m]=o[m]||Object.create(null),Cp(o[m],[{axis:f},n[m],d[u]])})}),Object.keys(o).forEach(s=>{let a=o[s];Cp(a,[mn.scales[a.type],mn.scale])}),o}function V$(t){let e=t.options||(t.options={});e.plugins=Ut(e.plugins,{}),e.scales=hge(t,e)}function B$(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function fge(t){return t=t||{},t.data=B$(t.data),V$(t),t}var JG=new Map,W$=new Set;function fR(t,e){let i=JG.get(t);return i||(i=e(),JG.set(t,i),W$.add(i)),i}var F_=(t,e,i)=>{let n=Oc(e,i);n!==void 0&&t.add(n)},u1=class{constructor(e){this._config=fge(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=B$(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){let e=this._config;this.clearCache(),V$(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return fR(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,i){return fR(`${e}.transition.${i}`,()=>[[`datasets.${e}.transitions.${i}`,`transitions.${i}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,i){return fR(`${e}-${i}`,()=>[[`datasets.${e}.elements.${i}`,`datasets.${e}`,`elements.${i}`,""]])}pluginScopeKeys(e){let i=e.id,n=this.type;return fR(`${n}-plugin-${i}`,()=>[[`plugins.${i}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,i){let n=this._scopeCache,r=n.get(e);return(!r||i)&&(r=new Map,n.set(e,r)),r}getOptionScopes(e,i,n){let{options:r,type:o}=this,s=this._cachedScopes(e,n),a=s.get(i);if(a)return a;let l=new Set;i.forEach(d=>{e&&(l.add(e),d.forEach(u=>F_(l,e,u))),d.forEach(u=>F_(l,r,u)),d.forEach(u=>F_(l,Jd[o]||{},u)),d.forEach(u=>F_(l,mn,u)),d.forEach(u=>F_(l,rR,u))});let c=Array.from(l);return c.length===0&&c.push(Object.create(null)),W$.has(i)&&s.set(i,c),c}chartOptionScopes(){let{options:e,type:i}=this;return[e,Jd[i]||{},mn.datasets[i]||{},{type:i},mn,rR]}resolveNamedOptions(e,i,n,r=[""]){let o={$shared:!0},{resolver:s,subPrefixes:a}=e$(this._resolverCache,e,r),l=s;if(pge(s,i)){o.$shared=!1,n=Mc(n)?n():n;let c=this.createResolver(e,n,a);l=qh(s,n,c)}for(let c of i)o[c]=l[c];return o}createResolver(e,i,n=[""],r){let{resolver:o}=e$(this._resolverCache,e,n);return ci(i)?qh(o,i,void 0,r):o}};function e$(t,e,i){let n=t.get(e);n||(n=new Map,t.set(e,n));let r=i.join(),o=n.get(r);return o||(o={resolver:aR(e,i),subPrefixes:i.filter(a=>!a.toLowerCase().includes("hover"))},n.set(r,o)),o}var mge=t=>ci(t)&&Object.getOwnPropertyNames(t).some(e=>Mc(t[e]));function pge(t,e){let{isScriptable:i,isIndexable:n}=Fk(t);for(let r of e){let o=i(r),s=n(r),a=(s||o)&&t[r];if(o&&(Mc(a)||mge(a))||s&&ln(a))return!0}return!1}var gge="4.4.3",bge=["top","bottom","left","right","chartArea"];function t$(t,e){return t==="top"||t==="bottom"||bge.indexOf(t)===-1&&e==="x"}function i$(t,e){return function(i,n){return i[t]===n[t]?i[e]-n[e]:i[t]-n[t]}}function n$(t){let e=t.chart,i=e.options.animation;e.notifyPlugins("afterRender"),nn(i&&i.onComplete,[t],e)}function vge(t){let e=t.chart,i=e.options.animation;nn(i&&i.onProgress,[t],e)}function j$(t){return lR()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}var _R={},r$=t=>{let e=j$(t);return Object.values(_R).filter(i=>i.canvas===e).pop()};function _ge(t,e,i){let n=Object.keys(t);for(let r of n){let o=+r;if(o>=e){let s=t[r];delete t[r],(i>0||o>e)&&(t[o+i]=s)}}}function yge(t,e,i,n){return!i||t.type==="mouseout"?null:n?e:t}function mR(t,e,i){return t.options.clip?t[i]:e[i]}function wge(t,e){let{xScale:i,yScale:n}=t;return i&&n?{left:mR(i,e,"left"),right:mR(i,e,"right"),top:mR(n,e,"top"),bottom:mR(n,e,"bottom")}:e}var RR=(()=>{class t{static defaults=mn;static instances=_R;static overrides=Jd;static registry=wl;static version=gge;static getChart=r$;static register(...i){wl.add(...i),o$()}static unregister(...i){wl.remove(...i),o$()}constructor(i,n){let r=this.config=new u1(n),o=j$(i),s=r$(o);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");let a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||Wpe(o)),this.platform.updateConfig(r);let l=this.platform.acquireContext(o,a.aspectRatio),c=l&&l.canvas,d=c&&c.height,u=c&&c.width;if(this.id=iG(),this.ctx=l,this.canvas=c,this.width=u,this.height=d,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new l1,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=fG(f=>this.update(f),a.resizeDelay||0),this._dataChanges=[],_R[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}kc.listen(this,"complete",n$),kc.listen(this,"progress",vge),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:i,maintainAspectRatio:n},width:r,height:o,_aspectRatio:s}=this;return _i(i)?n&&s?s:o?r/o:null:i}get data(){return this.config.data}set data(i){this.config.data=i}get options(){return this._options}set options(i){this.config.options=i}get registry(){return wl}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Wk(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return kk(this.canvas,this.ctx),this}stop(){return kc.stop(this),this}resize(i,n){kc.running(this)?this._resizeBeforeDraw={width:i,height:n}:this._resize(i,n)}_resize(i,n){let r=this.options,o=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(o,i,n,s),l=r.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,Wk(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),nn(r.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){let n=this.options.scales||{};Li(n,(r,o)=>{r.id=o})}buildOrUpdateScales(){let i=this.options,n=i.scales,r=this.scales,o=Object.keys(r).reduce((a,l)=>(a[l]=!1,a),{}),s=[];n&&(s=s.concat(Object.keys(n).map(a=>{let l=n[a],c=d1(a,l),d=c==="r",u=c==="x";return{options:l,dposition:d?"chartArea":u?"bottom":"left",dtype:d?"radialLinear":u?"category":"linear"}}))),Li(s,a=>{let l=a.options,c=l.id,d=d1(c,l),u=Ut(l.type,a.dtype);(l.position===void 0||t$(l.position,d)!==t$(a.dposition))&&(l.position=a.dposition),o[c]=!0;let f=null;if(c in r&&r[c].type===u)f=r[c];else{let m=wl.getScale(u);f=new m({id:c,type:u,ctx:this.ctx,chart:this}),r[f.id]=f}f.init(l,i)}),Li(o,(a,l)=>{a||delete r[l]}),Li(r,a=>{eo.configure(this,a,a.options),eo.addBox(this,a)})}_updateMetasets(){let i=this._metasets,n=this.data.datasets.length,r=i.length;if(i.sort((o,s)=>o.index-s.index),r>n){for(let o=n;o<r;++o)this._destroyDatasetMeta(o);i.splice(n,r-n)}this._sortedMetasets=i.slice(0).sort(i$("order","index"))}_removeUnreferencedMetasets(){let{_metasets:i,data:{datasets:n}}=this;i.length>n.length&&delete this._stacks,i.forEach((r,o)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){let i=[],n=this.data.datasets,r,o;for(this._removeUnreferencedMetasets(),r=0,o=n.length;r<o;r++){let s=n[r],a=this.getDatasetMeta(r),l=s.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=l,a.indexAxis=s.indexAxis||c1(l,this.options),a.order=s.order||0,a.index=r,a.label=""+s.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{let c=wl.getController(l),{datasetElementType:d,dataElementType:u}=mn.datasets[l];Object.assign(c,{dataElementType:wl.getElement(u),datasetElementType:d&&wl.getElement(d)}),a.controller=new c(this,r),i.push(a.controller)}}return this._updateMetasets(),i}_resetElements(){Li(this.data.datasets,(i,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(i){let n=this.config;n.update();let r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:i,cancelable:!0})===!1)return;let s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let d=0,u=this.data.datasets.length;d<u;d++){let{controller:f}=this.getDatasetMeta(d),m=!o&&s.indexOf(f)===-1;f.buildOrUpdateElements(m),a=Math.max(+f.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),o||Li(s,d=>{d.reset()}),this._updateDatasets(i),this.notifyPlugins("afterUpdate",{mode:i}),this._layers.sort(i$("z","_idx"));let{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){Li(this.scales,i=>{eo.removeBox(this,i)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let i=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(i.events);(!wk(n,r)||!!this._responsiveListeners!==i.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:i}=this,n=this._getUniformDataChanges()||[];for(let{method:r,start:o,count:s}of n){let a=r==="_removeElements"?-s:s;_ge(i,o,a)}}_getUniformDataChanges(){let i=this._dataChanges;if(!i||!i.length)return;this._dataChanges=[];let n=this.data.datasets.length,r=s=>new Set(i.filter(a=>a[0]===s).map((a,l)=>l+","+a.splice(1).join(","))),o=r(0);for(let s=1;s<n;s++)if(!wk(o,r(s)))return;return Array.from(o).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(i){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;eo.update(this,this.width,this.height,i);let n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],Li(this.boxes,o=>{r&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,s)=>{o._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(i){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:i,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Mc(i)?i({datasetIndex:n}):i);this.notifyPlugins("afterDatasetsUpdate",{mode:i})}}_updateDataset(i,n){let r=this.getDatasetMeta(i),o={meta:r,index:i,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(r.controller._update(n),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(kc.has(this)?this.attached&&!kc.running(this)&&kc.start(this):(this.draw(),n$({chart:this})))}draw(){let i;if(this._resizeBeforeDraw){let{width:r,height:o}=this._resizeBeforeDraw;this._resize(r,o),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let n=this._layers;for(i=0;i<n.length&&n[i].z<=0;++i)n[i].draw(this.chartArea);for(this._drawDatasets();i<n.length;++i)n[i].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(i){let n=this._sortedMetasets,r=[],o,s;for(o=0,s=n.length;o<s;++o){let a=n[o];(!i||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let i=this.getSortedVisibleDatasetMetas();for(let n=i.length-1;n>=0;--n)this._drawDataset(i[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(i){let n=this.ctx,r=i._clip,o=!r.disabled,s=wge(i,this.chartArea),a={meta:i,index:i.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(o&&A_(n,{left:r.left===!1?0:s.left-r.left,right:r.right===!1?this.width:s.right+r.right,top:r.top===!1?0:s.top-r.top,bottom:r.bottom===!1?this.height:s.bottom+r.bottom}),i.controller.draw(),o&&O_(n),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(i){return bl(i,this.chartArea,this._minPadding)}getElementsAtEventForMode(i,n,r,o){let s=Cpe.modes[n];return typeof s=="function"?s(this,i,r,o):[]}getDatasetMeta(i){let n=this.data.datasets[i],r=this._metasets,o=r.filter(s=>s&&s._dataset===n).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:i,_dataset:n,_parsed:[],_sorted:!1},r.push(o)),o}getContext(){return this.$context||(this.$context=Pc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(i){let n=this.data.datasets[i];if(!n)return!1;let r=this.getDatasetMeta(i);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(i,n){let r=this.getDatasetMeta(i);r.hidden=!n}toggleDataVisibility(i){this._hiddenIndices[i]=!this._hiddenIndices[i]}getDataVisibility(i){return!this._hiddenIndices[i]}_updateVisibility(i,n,r){let o=r?"show":"hide",s=this.getDatasetMeta(i),a=s.controller._resolveAnimations(void 0,o);Sp(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(i,r),a.update(s,{visible:r}),this.update(l=>l.datasetIndex===i?o:void 0))}hide(i,n){this._updateVisibility(i,n,!1)}show(i,n){this._updateVisibility(i,n,!0)}_destroyDatasetMeta(i){let n=this._metasets[i];n&&n.controller&&n.controller._destroy(),delete this._metasets[i]}_stop(){let i,n;for(this.stop(),kc.remove(this),i=0,n=this.data.datasets.length;i<n;++i)this._destroyDatasetMeta(i)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:i,ctx:n}=this;this._stop(),this.config.clearCache(),i&&(this.unbindEvents(),kk(i,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete _R[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...i){return this.canvas.toDataURL(...i)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let i=this._listeners,n=this.platform,r=(s,a)=>{n.addEventListener(this,s,a),i[s]=a},o=(s,a,l)=>{s.offsetX=a,s.offsetY=l,this._eventHandler(s)};Li(this.options.events,s=>r(s,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let i=this._responsiveListeners,n=this.platform,r=(c,d)=>{n.addEventListener(this,c,d),i[c]=d},o=(c,d)=>{i[c]&&(n.removeEventListener(this,c,d),delete i[c])},s=(c,d)=>{this.canvas&&this.resize(c,d)},a,l=()=>{o("attach",l),this.attached=!0,this.resize(),r("resize",s),r("detach",a)};a=()=>{this.attached=!1,o("resize",s),this._stop(),this._resize(0,0),r("attach",l)},n.isAttached(this.canvas)?l():a()}unbindEvents(){Li(this._listeners,(i,n)=>{this.platform.removeEventListener(this,n,i)}),this._listeners={},Li(this._responsiveListeners,(i,n)=>{this.platform.removeEventListener(this,n,i)}),this._responsiveListeners=void 0}updateHoverStyle(i,n,r){let o=r?"set":"remove",s,a,l,c;for(n==="dataset"&&(s=this.getDatasetMeta(i[0].datasetIndex),s.controller["_"+o+"DatasetHoverStyle"]()),l=0,c=i.length;l<c;++l){a=i[l];let d=a&&this.getDatasetMeta(a.datasetIndex).controller;d&&d[o+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(i){let n=this._active||[],r=i.map(({datasetIndex:s,index:a})=>{let l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[a],index:a}});!D_(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(i,n,r){return this._plugins.notify(this,i,n,r)}isPluginEnabled(i){return this._plugins._cache.filter(n=>n.plugin.id===i).length===1}_updateHoverStyles(i,n,r){let o=this.options.hover,s=(c,d)=>c.filter(u=>!d.some(f=>u.datasetIndex===f.datasetIndex&&u.index===f.index)),a=s(n,i),l=r?i:s(i,n);a.length&&this.updateHoverStyle(a,o.mode,!1),l.length&&o.mode&&this.updateHoverStyle(l,o.mode,!0)}_eventHandler(i,n){let r={event:i,replay:n,cancelable:!0,inChartArea:this.isPointInArea(i)},o=a=>(a.options.events||this.options.events).includes(i.native.type);if(this.notifyPlugins("beforeEvent",r,o)===!1)return;let s=this._handleEvent(i,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,o),(s||r.changed)&&this.render(),this}_handleEvent(i,n,r){let{_active:o=[],options:s}=this,a=n,l=this._getActiveElements(i,o,r,a),c=oG(i),d=yge(i,this._lastEvent,r,c);r&&(this._lastEvent=null,nn(s.onHover,[i,l,this],this),c&&nn(s.onClick,[i,l,this],this));let u=!D_(l,o);return(u||n)&&(this._active=l,this._updateHoverStyles(l,o,n)),this._lastEvent=d,u}_getActiveElements(i,n,r,o){if(i.type==="mouseout")return[];if(!r)return n;let s=this.options.hover;return this.getElementsAtEventForMode(i,s.mode,s,o)}}return t})();function o$(){return Li(RR.instances,t=>t._plugins.invalidate())}function Cge(t,e,i){let{startAngle:n,pixelMargin:r,x:o,y:s,outerRadius:a,innerRadius:l}=e,c=r/a;t.beginPath(),t.arc(o,s,a,n-c,i+c),l>r?(c=r/l,t.arc(o,s,l,i+c,n-c,!0)):t.arc(o,s,r,i+Ln,n-Ln),t.closePath(),t.clip()}function Sge(t){return sR(t,["outerStart","outerEnd","innerStart","innerEnd"])}function xge(t,e,i,n){let r=Sge(t.options.borderRadius),o=(i-e)/2,s=Math.min(o,n*e/2),a=l=>{let c=(i-Math.min(o,l))*n/2;return fr(l,0,Math.min(o,c))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:fr(r.innerStart,0,s),innerEnd:fr(r.innerEnd,0,s)}}function Dp(t,e,i,n){return{x:i+t*Math.cos(e),y:n+t*Math.sin(e)}}function SR(t,e,i,n,r,o){let{x:s,y:a,startAngle:l,pixelMargin:c,innerRadius:d}=e,u=Math.max(e.outerRadius+n+i-c,0),f=d>0?d+n+i+c:0,m=0,g=r-l;if(n){let Oe=d>0?d-n:0,je=u>0?u-n:0,Ue=(Oe+je)/2,he=Ue!==0?g*Ue/(Ue+n):g;m=(g-he)/2}let _=Math.max(.001,g*u-i/cn)/u,b=(g-_)/2,y=l+b+m,x=r-b-m,{outerStart:T,outerEnd:O,innerStart:P,innerEnd:V}=xge(e,f,u,x-y),F=u-T,k=u-O,Z=y+T/F,ae=x-O/k,re=f+P,ve=f+V,Pe=y+P/re,Ne=x-V/ve;if(t.beginPath(),o){let Oe=(Z+ae)/2;if(t.arc(s,a,u,Z,Oe),t.arc(s,a,u,Oe,ae),O>0){let de=Dp(k,ae,s,a);t.arc(de.x,de.y,O,ae,x+Ln)}let je=Dp(ve,x,s,a);if(t.lineTo(je.x,je.y),V>0){let de=Dp(ve,Ne,s,a);t.arc(de.x,de.y,V,x+Ln,Ne+Math.PI)}let Ue=(x-V/f+(y+P/f))/2;if(t.arc(s,a,f,x-V/f,Ue,!0),t.arc(s,a,f,Ue,y+P/f,!0),P>0){let de=Dp(re,Pe,s,a);t.arc(de.x,de.y,P,Pe+Math.PI,y-Ln)}let he=Dp(F,y,s,a);if(t.lineTo(he.x,he.y),T>0){let de=Dp(F,Z,s,a);t.arc(de.x,de.y,T,y-Ln,Z)}}else{t.moveTo(s,a);let Oe=Math.cos(Z)*u+s,je=Math.sin(Z)*u+a;t.lineTo(Oe,je);let Ue=Math.cos(ae)*u+s,he=Math.sin(ae)*u+a;t.lineTo(Ue,he)}t.closePath()}function Ege(t,e,i,n,r){let{fullCircles:o,startAngle:s,circumference:a}=e,l=e.endAngle;if(o){SR(t,e,i,n,l,r);for(let c=0;c<o;++c)t.fill();isNaN(a)||(l=s+(a%dn||dn))}return SR(t,e,i,n,l,r),t.fill(),l}function Rge(t,e,i,n,r){let{fullCircles:o,startAngle:s,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:d,borderDash:u,borderDashOffset:f}=l,m=l.borderAlign==="inner";if(!c)return;t.setLineDash(u||[]),t.lineDashOffset=f,m?(t.lineWidth=c*2,t.lineJoin=d||"round"):(t.lineWidth=c,t.lineJoin=d||"bevel");let g=e.endAngle;if(o){SR(t,e,i,n,g,r);for(let _=0;_<o;++_)t.stroke();isNaN(a)||(g=s+(a%dn||dn))}m&&Cge(t,e,g),o||(SR(t,e,i,n,g,r),t.stroke())}var h1=class extends Aa{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,i,n){let r=this.getProps(["x","y"],n),{angle:o,distance:s}=Ek(r,{x:e,y:i}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:d,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),f=(this.options.spacing+this.options.borderWidth)/2,g=Ut(u,l-a)>=dn||Ep(o,a,l),_=_l(s,c+f,d+f);return g&&_}getCenterPoint(e){let{x:i,y:n,startAngle:r,endAngle:o,innerRadius:s,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:l,spacing:c}=this.options,d=(r+o)/2,u=(s+a+c+l)/2;return{x:i+Math.cos(d)*u,y:n+Math.sin(d)*u}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){let{options:i,circumference:n}=this,r=(i.offset||0)/4,o=(i.spacing||0)/2,s=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=n>dn?Math.floor(n/dn):0,n===0||this.innerRadius<0||this.outerRadius<0)return;e.save();let a=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(a)*r,Math.sin(a)*r);let l=1-Math.sin(Math.min(cn,n||0)),c=r*l;e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,Ege(e,this,c,o,s),Rge(e,this,c,o,s),e.restore()}};function U$(t,e,i=e){t.lineCap=Ut(i.borderCapStyle,e.borderCapStyle),t.setLineDash(Ut(i.borderDash,e.borderDash)),t.lineDashOffset=Ut(i.borderDashOffset,e.borderDashOffset),t.lineJoin=Ut(i.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Ut(i.borderWidth,e.borderWidth),t.strokeStyle=Ut(i.borderColor,e.borderColor)}function Tge(t,e,i){t.lineTo(i.x,i.y)}function Ige(t){return t.stepped?bG:t.tension||t.cubicInterpolationMode==="monotone"?vG:Tge}function z$(t,e,i={}){let n=t.length,{start:r=0,end:o=n-1}=i,{start:s,end:a}=e,l=Math.max(r,s),c=Math.min(o,a),d=r<s&&o<s||r>a&&o>a;return{count:n,start:l,loop:e.loop,ilen:c<l&&!d?n+c-l:c-l}}function Dge(t,e,i,n){let{points:r,options:o}=e,{count:s,start:a,loop:l,ilen:c}=z$(r,i,n),d=Ige(o),{move:u=!0,reverse:f}=n||{},m,g,_;for(m=0;m<=c;++m)g=r[(a+(f?c-m:m))%s],!g.skip&&(u?(t.moveTo(g.x,g.y),u=!1):d(t,_,g,f,o.stepped),_=g);return l&&(g=r[(a+(f?c:0))%s],d(t,_,g,f,o.stepped)),!!l}function Mge(t,e,i,n){let r=e.points,{count:o,start:s,ilen:a}=z$(r,i,n),{move:l=!0,reverse:c}=n||{},d=0,u=0,f,m,g,_,b,y,x=O=>(s+(c?a-O:O))%o,T=()=>{_!==b&&(t.lineTo(d,b),t.lineTo(d,_),t.lineTo(d,y))};for(l&&(m=r[x(0)],t.moveTo(m.x,m.y)),f=0;f<=a;++f){if(m=r[x(f)],m.skip)continue;let O=m.x,P=m.y,V=O|0;V===g?(P<_?_=P:P>b&&(b=P),d=(u*d+O)/++u):(T(),t.lineTo(O,P),g=V,u=0,_=b=P),y=P}T()}function f1(t){let e=t.options,i=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!i?Mge:Dge}function Age(t){return t.stepped?TG:t.tension||t.cubicInterpolationMode==="monotone"?IG:Zd}function Oge(t,e,i,n){let r=e._path;r||(r=e._path=new Path2D,e.path(r,i,n)&&r.closePath()),U$(t,e.options),t.stroke(r)}function Pge(t,e,i,n){let{segments:r,options:o}=e,s=f1(e);for(let a of r)U$(t,o,a.style),t.beginPath(),s(t,e,a,{start:i,end:i+n-1})&&t.closePath(),t.stroke()}var kge=typeof Path2D=="function";function Nge(t,e,i,n){kge&&!e.options.segment?Oge(t,e,i,n):Pge(t,e,i,n)}var TR=(()=>{class t extends Aa{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:i=>i!=="borderDash"&&i!=="fill"};constructor(i){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,i&&Object.assign(this,i)}updateControlPoints(i,n){let r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){let o=r.spanGaps?this._loop:this._fullLoop;xG(this._points,r,i,o,n),this._pointsUpdated=!0}}set points(i){this._points=i,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=MG(this,this.options.segment))}first(){let i=this.segments,n=this.points;return i.length&&n[i[0].start]}last(){let i=this.segments,n=this.points,r=i.length;return r&&n[i[r-1].end]}interpolate(i,n){let r=this.options,o=i[n],s=this.points,a=Gk(this,{property:n,start:o,end:o});if(!a.length)return;let l=[],c=Age(r),d,u;for(d=0,u=a.length;d<u;++d){let{start:f,end:m}=a[d],g=s[f],_=s[m];if(g===_){l.push(g);continue}let b=Math.abs((o-g[n])/(_[n]-g[n])),y=c(g,_,b,r.stepped);y[n]=i[n],l.push(y)}return l.length===1?l[0]:l}pathSegment(i,n,r){return f1(this)(i,this,n,r)}path(i,n,r){let o=this.segments,s=f1(this),a=this._loop;n=n||0,r=r||this.points.length-n;for(let l of o)a&=s(i,this,l,{start:n,end:n+r-1});return!!a}draw(i,n,r,o){let s=this.options||{};(this.points||[]).length&&s.borderWidth&&(i.save(),Nge(i,this,r,o),i.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return t})();function s$(t,e,i,n){let r=t.options,{[i]:o}=t.getProps([i],n);return Math.abs(e-o)<r.radius+r.hitRadius}var Lge=(()=>{class t extends Aa{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(i){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,i&&Object.assign(this,i)}inRange(i,n,r){let o=this.options,{x:s,y:a}=this.getProps(["x","y"],r);return Math.pow(i-s,2)+Math.pow(n-a,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(i,n){return s$(this,i,"x",n)}inYRange(i,n){return s$(this,i,"y",n)}getCenterPoint(i){let{x:n,y:r}=this.getProps(["x","y"],i);return{x:n,y:r}}size(i){i=i||this.options||{};let n=i.radius||0;n=Math.max(n,n&&i.hoverRadius||0);let r=n&&i.borderWidth||0;return(n+r)*2}draw(i,n){let r=this.options;this.skip||r.radius<.1||!bl(this,n,this.size(r)/2)||(i.strokeStyle=r.borderColor,i.lineWidth=r.borderWidth,i.fillStyle=r.backgroundColor,oR(i,r,this.x,this.y))}getRange(){let i=this.options||{};return i.radius+i.hitRadius}}return t})();function Y$(t,e){let{x:i,y:n,base:r,width:o,height:s}=t.getProps(["x","y","base","width","height"],e),a,l,c,d,u;return t.horizontal?(u=s/2,a=Math.min(i,r),l=Math.max(i,r),c=n-u,d=n+u):(u=o/2,a=i-u,l=i+u,c=Math.min(n,r),d=Math.max(n,r)),{left:a,top:c,right:l,bottom:d}}function ru(t,e,i,n){return t?0:fr(e,i,n)}function Fge(t,e,i){let n=t.options.borderWidth,r=t.borderSkipped,o=Lk(n);return{t:ru(r.top,o.top,0,i),r:ru(r.right,o.right,0,e),b:ru(r.bottom,o.bottom,0,i),l:ru(r.left,o.left,0,e)}}function Hge(t,e,i){let{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,o=iu(r),s=Math.min(e,i),a=t.borderSkipped,l=n||ci(r);return{topLeft:ru(!l||a.top||a.left,o.topLeft,0,s),topRight:ru(!l||a.top||a.right,o.topRight,0,s),bottomLeft:ru(!l||a.bottom||a.left,o.bottomLeft,0,s),bottomRight:ru(!l||a.bottom||a.right,o.bottomRight,0,s)}}function Vge(t){let e=Y$(t),i=e.right-e.left,n=e.bottom-e.top,r=Fge(t,i/2,n/2),o=Hge(t,i/2,n/2);return{outer:{x:e.left,y:e.top,w:i,h:n,radius:o},inner:{x:e.left+r.l,y:e.top+r.t,w:i-r.l-r.r,h:n-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function Jk(t,e,i,n){let r=e===null,o=i===null,a=t&&!(r&&o)&&Y$(t,n);return a&&(r||_l(e,a.left,a.right))&&(o||_l(i,a.top,a.bottom))}function Bge(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function Wge(t,e){t.rect(e.x,e.y,e.w,e.h)}function e1(t,e,i={}){let n=t.x!==i.x?-e:0,r=t.y!==i.y?-e:0,o=(t.x+t.w!==i.x+i.w?e:0)-n,s=(t.y+t.h!==i.y+i.h?e:0)-r;return{x:t.x+n,y:t.y+r,w:t.w+o,h:t.h+s,radius:t.radius}}var m1=class extends Aa{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){let{inflateAmount:i,options:{borderColor:n,backgroundColor:r}}=this,{inner:o,outer:s}=Vge(this),a=Bge(s.radius)?Tp:Wge;e.save(),(s.w!==o.w||s.h!==o.h)&&(e.beginPath(),a(e,e1(s,i,o)),e.clip(),a(e,e1(o,-i,s)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),a(e,e1(o,i)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,i,n){return Jk(this,e,i,n)}inXRange(e,i){return Jk(this,e,null,i)}inYRange(e,i){return Jk(this,null,e,i)}getCenterPoint(e){let{x:i,y:n,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(i+r)/2:i,y:o?n:(n+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}},jge=Object.freeze({__proto__:null,ArcElement:h1,BarElement:m1,LineElement:TR,PointElement:Lge}),p1=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],a$=p1.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function G$(t){return p1[t%p1.length]}function $$(t){return a$[t%a$.length]}function Uge(t,e){return t.borderColor=G$(e),t.backgroundColor=$$(e),++e}function zge(t,e){return t.backgroundColor=t.data.map(()=>G$(e++)),e}function Yge(t,e){return t.backgroundColor=t.data.map(()=>$$(e++)),e}function Gge(t){let e=0;return(i,n)=>{let r=t.getDatasetMeta(n).controller;r instanceof S1?e=zge(i,e):r instanceof k$?e=Yge(i,e):r&&(e=Uge(i,e))}}function l$(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function $ge(t){return t&&(t.borderColor||t.backgroundColor)}var qge={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,i){if(!i.enabled)return;let{data:{datasets:n},options:r}=t.config,{elements:o}=r;if(!i.forceOverride&&(l$(n)||$ge(r)||o&&l$(o)))return;let s=Gge(t);n.forEach(s)}};function Kge(t,e,i,n,r){let o=r.samples||n;if(o>=i)return t.slice(e,e+i);let s=[],a=(i-2)/(o-2),l=0,c=e+i-1,d=e,u,f,m,g,_;for(s[l++]=t[d],u=0;u<o-2;u++){let b=0,y=0,x,T=Math.floor((u+1)*a)+1+e,O=Math.min(Math.floor((u+2)*a)+1,i)+e,P=O-T;for(x=T;x<O;x++)b+=t[x].x,y+=t[x].y;b/=P,y/=P;let V=Math.floor(u*a)+1+e,F=Math.min(Math.floor((u+1)*a)+1,i)+e,{x:k,y:Z}=t[d];for(m=g=-1,x=V;x<F;x++)g=.5*Math.abs((k-b)*(t[x].y-Z)-(k-t[x].x)*(y-Z)),g>m&&(m=g,f=t[x],_=x);s[l++]=f,d=_}return s[l++]=t[c],s}function Xge(t,e,i,n){let r=0,o=0,s,a,l,c,d,u,f,m,g,_,b=[],y=e+i-1,x=t[e].x,O=t[y].x-x;for(s=e;s<e+i;++s){a=t[s],l=(a.x-x)/O*n,c=a.y;let P=l|0;if(P===d)c<g?(g=c,u=s):c>_&&(_=c,f=s),r=(o*r+a.x)/++o;else{let V=s-1;if(!_i(u)&&!_i(f)){let F=Math.min(u,f),k=Math.max(u,f);F!==m&&F!==V&&b.push(st(ee({},t[F]),{x:r})),k!==m&&k!==V&&b.push(st(ee({},t[k]),{x:r}))}s>0&&V!==m&&b.push(t[V]),b.push(a),d=P,o=0,g=_=c,u=f=m=s}}return b}function q$(t){if(t._decimated){let e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function c$(t){t.data.datasets.forEach(e=>{q$(e)})}function Qge(t,e){let i=e.length,n=0,r,{iScale:o}=t,{min:s,max:a,minDefined:l,maxDefined:c}=o.getUserBounds();return l&&(n=fr(gl(e,o.axis,s).lo,0,i-1)),c?r=fr(gl(e,o.axis,a).hi+1,n,i)-n:r=i-n,{start:n,count:r}}var Zge={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,i)=>{if(!i.enabled){c$(t);return}let n=t.width;t.data.datasets.forEach((r,o)=>{let{_data:s,indexAxis:a}=r,l=t.getDatasetMeta(o),c=s||r.data;if(Ip([a,t.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;let d=t.scales[l.xAxisID];if(d.type!=="linear"&&d.type!=="time"||t.options.parsing)return;let{start:u,count:f}=Qge(l,c),m=i.threshold||4*n;if(f<=m){q$(r);return}_i(s)&&(r._data=c,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(_){this._data=_}}));let g;switch(i.algorithm){case"lttb":g=Kge(c,u,f,n,i);break;case"min-max":g=Xge(c,u,f,n);break;default:throw new Error(`Unsupported decimation algorithm '${i.algorithm}'`)}r._decimated=g})},destroy(t){c$(t)}};function Jge(t,e,i){let n=t.segments,r=t.points,o=e.points,s=[];for(let a of n){let{start:l,end:c}=a;c=x1(l,c,r);let d=g1(i,r[l],r[c],a.loop);if(!e.segments){s.push({source:a,target:d,start:r[l],end:r[c]});continue}let u=Gk(e,d);for(let f of u){let m=g1(i,o[f.start],o[f.end],f.loop),g=Yk(a,r,m);for(let _ of g)s.push({source:_,target:f,start:{[i]:d$(d,m,"start",Math.max)},end:{[i]:d$(d,m,"end",Math.min)}})}}return s}function g1(t,e,i,n){if(n)return;let r=e[t],o=i[t];return t==="angle"&&(r=Fo(r),o=Fo(o)),{property:t,start:r,end:o}}function ebe(t,e){let{x:i=null,y:n=null}=t||{},r=e.points,o=[];return e.segments.forEach(({start:s,end:a})=>{a=x1(s,a,r);let l=r[s],c=r[a];n!==null?(o.push({x:l.x,y:n}),o.push({x:c.x,y:n})):i!==null&&(o.push({x:i,y:l.y}),o.push({x:i,y:c.y}))}),o}function x1(t,e,i){for(;e>t;e--){let n=i[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function d$(t,e,i,n){return t&&e?n(t[i],e[i]):t?t[i]:e?e[i]:0}function K$(t,e){let i=[],n=!1;return ln(t)?(n=!0,i=t):i=ebe(t,e),i.length?new TR({points:i,options:{tension:0},_loop:n,_fullLoop:n}):null}function u$(t){return t&&t.fill!==!1}function tbe(t,e,i){let r=t[e].fill,o=[e],s;if(!i)return r;for(;r!==!1&&o.indexOf(r)===-1;){if(!Tn(r))return r;if(s=t[r],!s)return!1;if(s.visible)return r;o.push(r),r=s.fill}return!1}function ibe(t,e,i){let n=sbe(t);if(ci(n))return isNaN(n.value)?!1:n;let r=parseFloat(n);return Tn(r)&&Math.floor(r)===r?nbe(n[0],e,r,i):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function nbe(t,e,i,n){return(t==="-"||t==="+")&&(i=e+i),i===e||i<0||i>=n?!1:i}function rbe(t,e){let i=null;return t==="start"?i=e.bottom:t==="end"?i=e.top:ci(t)?i=e.getPixelForValue(t.value):e.getBasePixel&&(i=e.getBasePixel()),i}function obe(t,e,i){let n;return t==="start"?n=i:t==="end"?n=e.options.reverse?e.min:e.max:ci(t)?n=t.value:n=e.getBaseValue(),n}function sbe(t){let e=t.options,i=e.fill,n=Ut(i&&i.target,i);return n===void 0&&(n=!!e.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function abe(t){let{scale:e,index:i,line:n}=t,r=[],o=n.segments,s=n.points,a=lbe(e,i);a.push(K$({x:null,y:e.bottom},n));for(let l=0;l<o.length;l++){let c=o[l];for(let d=c.start;d<=c.end;d++)cbe(r,s[d],a)}return new TR({points:r,options:{}})}function lbe(t,e){let i=[],n=t.getMatchingVisibleMetas("line");for(let r=0;r<n.length;r++){let o=n[r];if(o.index===e)break;o.hidden||i.unshift(o.dataset)}return i}function cbe(t,e,i){let n=[];for(let r=0;r<i.length;r++){let o=i[r],{first:s,last:a,point:l}=dbe(o,e,"x");if(!(!l||s&&a)){if(s)n.unshift(l);else if(t.push(l),!a)break}}t.push(...n)}function dbe(t,e,i){let n=t.interpolate(e,i);if(!n)return{};let r=n[i],o=t.segments,s=t.points,a=!1,l=!1;for(let c=0;c<o.length;c++){let d=o[c],u=s[d.start][i],f=s[d.end][i];if(_l(r,u,f)){a=r===u,l=r===f;break}}return{first:a,last:l,point:n}}var xR=class{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,i,n){let{x:r,y:o,radius:s}=this;return i=i||{start:0,end:dn},e.arc(r,o,s,i.end,i.start,!0),!n.bounds}interpolate(e){let{x:i,y:n,radius:r}=this,o=e.angle;return{x:i+Math.cos(o)*r,y:n+Math.sin(o)*r,angle:o}}};function ube(t){let{chart:e,fill:i,line:n}=t;if(Tn(i))return hbe(e,i);if(i==="stack")return abe(t);if(i==="shape")return!0;let r=fbe(t);return r instanceof xR?r:K$(r,n)}function hbe(t,e){let i=t.getDatasetMeta(e);return i&&t.isDatasetVisible(e)?i.dataset:null}function fbe(t){return(t.scale||{}).getPointPositionForValue?pbe(t):mbe(t)}function mbe(t){let{scale:e={},fill:i}=t,n=rbe(i,e);if(Tn(n)){let r=e.isHorizontal();return{x:r?n:null,y:r?null:n}}return null}function pbe(t){let{scale:e,fill:i}=t,n=e.options,r=e.getLabels().length,o=n.reverse?e.max:e.min,s=obe(i,e,o),a=[];if(n.grid.circular){let l=e.getPointPositionForValue(0,o);return new xR({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(s)})}for(let l=0;l<r;++l)a.push(e.getPointPositionForValue(l,s));return a}function t1(t,e,i){let n=ube(e),{line:r,scale:o,axis:s}=e,a=r.options,l=a.fill,c=a.backgroundColor,{above:d=c,below:u=c}=l||{};n&&r.points.length&&(A_(t,i),gbe(t,{line:r,target:n,above:d,below:u,area:i,scale:o,axis:s}),O_(t))}function gbe(t,e){let{line:i,target:n,above:r,below:o,area:s,scale:a}=e,l=i._loop?"angle":e.axis;t.save(),l==="x"&&o!==r&&(h$(t,n,s.top),f$(t,{line:i,target:n,color:r,scale:a,property:l}),t.restore(),t.save(),h$(t,n,s.bottom)),f$(t,{line:i,target:n,color:o,scale:a,property:l}),t.restore()}function h$(t,e,i){let{segments:n,points:r}=e,o=!0,s=!1;t.beginPath();for(let a of n){let{start:l,end:c}=a,d=r[l],u=r[x1(l,c,r)];o?(t.moveTo(d.x,d.y),o=!1):(t.lineTo(d.x,i),t.lineTo(d.x,d.y)),s=!!e.pathSegment(t,a,{move:s}),s?t.closePath():t.lineTo(u.x,i)}t.lineTo(e.first().x,i),t.closePath(),t.clip()}function f$(t,e){let{line:i,target:n,property:r,color:o,scale:s}=e,a=Jge(i,n,r);for(let{source:l,target:c,start:d,end:u}of a){let{style:{backgroundColor:f=o}={}}=l,m=n!==!0;t.save(),t.fillStyle=f,bbe(t,s,m&&g1(r,d,u)),t.beginPath();let g=!!i.pathSegment(t,l),_;if(m){g?t.closePath():m$(t,n,u,r);let b=!!n.pathSegment(t,c,{move:g,reverse:!0});_=g&&b,_||m$(t,n,d,r)}t.closePath(),t.fill(_?"evenodd":"nonzero"),t.restore()}}function bbe(t,e,i){let{top:n,bottom:r}=e.chart.chartArea,{property:o,start:s,end:a}=i||{};o==="x"&&(t.beginPath(),t.rect(s,n,a-s,r-n),t.clip())}function m$(t,e,i,n){let r=e.interpolate(i,n);r&&t.lineTo(r.x,r.y)}var vbe={id:"filler",afterDatasetsUpdate(t,e,i){let n=(t.data.datasets||[]).length,r=[],o,s,a,l;for(s=0;s<n;++s)o=t.getDatasetMeta(s),a=o.dataset,l=null,a&&a.options&&a instanceof TR&&(l={visible:t.isDatasetVisible(s),index:s,fill:ibe(a,s,n),chart:t,axis:o.controller.options.indexAxis,scale:o.vScale,line:a}),o.$filler=l,r.push(l);for(s=0;s<n;++s)l=r[s],!(!l||l.fill===!1)&&(l.fill=tbe(r,s,i.propagate))},beforeDraw(t,e,i){let n=i.drawTime==="beforeDraw",r=t.getSortedVisibleDatasetMetas(),o=t.chartArea;for(let s=r.length-1;s>=0;--s){let a=r[s].$filler;a&&(a.line.updateControlPoints(o,a.axis),n&&a.fill&&t1(t.ctx,a,o))}},beforeDatasetsDraw(t,e,i){if(i.drawTime!=="beforeDatasetsDraw")return;let n=t.getSortedVisibleDatasetMetas();for(let r=n.length-1;r>=0;--r){let o=n[r].$filler;u$(o)&&t1(t.ctx,o,t.chartArea)}},beforeDatasetDraw(t,e,i){let n=e.meta.$filler;!u$(n)||i.drawTime!=="beforeDatasetDraw"||t1(t.ctx,n,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},p$=(t,e)=>{let{boxHeight:i=e,boxWidth:n=e}=t;return t.usePointStyle&&(i=Math.min(i,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:i,itemHeight:Math.max(e,i)}},_be=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index,ER=class extends Aa{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,i,n){this.maxWidth=e,this.maxHeight=i,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let e=this.options.labels||{},i=nn(e.generateLabels,[this.chart],this)||[];e.filter&&(i=i.filter(n=>e.filter(n,this.chart.data))),e.sort&&(i=i.sort((n,r)=>e.sort(n,r,this.chart.data))),this.options.reverse&&i.reverse(),this.legendItems=i}fit(){let{options:e,ctx:i}=this;if(!e.display){this.width=this.height=0;return}let n=e.labels,r=nr(n.font),o=r.size,s=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=p$(n,o),c,d;i.font=r.string,this.isHorizontal()?(c=this.maxWidth,d=this._fitRows(s,o,a,l)+10):(d=this.maxHeight,c=this._fitCols(s,r,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,i,n,r){let{ctx:o,maxWidth:s,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],d=r+a,u=e;o.textAlign="left",o.textBaseline="middle";let f=-1,m=-d;return this.legendItems.forEach((g,_)=>{let b=n+i/2+o.measureText(g.text).width;(_===0||c[c.length-1]+b+2*a>s)&&(u+=d,c[c.length-(_>0?0:1)]=0,m+=d,f++),l[_]={left:0,top:m,row:f,width:b,height:r},c[c.length-1]+=b+a}),u}_fitCols(e,i,n,r){let{ctx:o,maxHeight:s,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],d=s-e,u=a,f=0,m=0,g=0,_=0;return this.legendItems.forEach((b,y)=>{let{itemWidth:x,itemHeight:T}=ybe(n,i,o,b,r);y>0&&m+T+2*a>d&&(u+=f+a,c.push({width:f,height:m}),g+=f+a,_++,f=m=0),l[y]={left:g,top:m,col:_,width:x,height:T},f=Math.max(f,x),m+=T+a}),u+=f,c.push({width:f,height:m}),u}adjustHitBoxes(){if(!this.options.display)return;let e=this._computeTitleHeight(),{legendHitBoxes:i,options:{align:n,labels:{padding:r},rtl:o}}=this,s=Xh(o,this.left,this.width);if(this.isHorizontal()){let a=0,l=Vr(n,this.left+r,this.right-this.lineWidths[a]);for(let c of i)a!==c.row&&(a=c.row,l=Vr(n,this.left+r,this.right-this.lineWidths[a])),c.top+=this.top+e+r,c.left=s.leftForLtr(s.x(l),c.width),l+=c.width+r}else{let a=0,l=Vr(n,this.top+e+r,this.bottom-this.columnSizes[a].height);for(let c of i)c.col!==a&&(a=c.col,l=Vr(n,this.top+e+r,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+r,c.left=s.leftForLtr(s.x(c.left),c.width),l+=c.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let e=this.ctx;A_(e,this),this._draw(),O_(e)}}_draw(){let{options:e,columnSizes:i,lineWidths:n,ctx:r}=this,{align:o,labels:s}=e,a=mn.color,l=Xh(e.rtl,this.left,this.width),c=nr(s.font),{padding:d}=s,u=c.size,f=u/2,m;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=c.string;let{boxWidth:g,boxHeight:_,itemHeight:b}=p$(s,u),y=function(V,F,k){if(isNaN(g)||g<=0||isNaN(_)||_<0)return;r.save();let Z=Ut(k.lineWidth,1);if(r.fillStyle=Ut(k.fillStyle,a),r.lineCap=Ut(k.lineCap,"butt"),r.lineDashOffset=Ut(k.lineDashOffset,0),r.lineJoin=Ut(k.lineJoin,"miter"),r.lineWidth=Z,r.strokeStyle=Ut(k.strokeStyle,a),r.setLineDash(Ut(k.lineDash,[])),s.usePointStyle){let ae={radius:_*Math.SQRT2/2,pointStyle:k.pointStyle,rotation:k.rotation,borderWidth:Z},re=l.xPlus(V,g/2),ve=F+f;Nk(r,ae,re,ve,s.pointStyleWidth&&g)}else{let ae=F+Math.max((u-_)/2,0),re=l.leftForLtr(V,g),ve=iu(k.borderRadius);r.beginPath(),Object.values(ve).some(Pe=>Pe!==0)?Tp(r,{x:re,y:ae,w:g,h:_,radius:ve}):r.rect(re,ae,g,_),r.fill(),Z!==0&&r.stroke()}r.restore()},x=function(V,F,k){tu(r,k.text,V,F+b/2,c,{strikethrough:k.hidden,textAlign:l.textAlign(k.textAlign)})},T=this.isHorizontal(),O=this._computeTitleHeight();T?m={x:Vr(o,this.left+d,this.right-n[0]),y:this.top+d+O,line:0}:m={x:this.left+d,y:Vr(o,this.top+O+d,this.bottom-i[0].height),line:0},Uk(this.ctx,e.textDirection);let P=b+d;this.legendItems.forEach((V,F)=>{r.strokeStyle=V.fontColor,r.fillStyle=V.fontColor;let k=r.measureText(V.text).width,Z=l.textAlign(V.textAlign||(V.textAlign=s.textAlign)),ae=g+f+k,re=m.x,ve=m.y;l.setWidth(this.width),T?F>0&&re+ae+d>this.right&&(ve=m.y+=P,m.line++,re=m.x=Vr(o,this.left+d,this.right-n[m.line])):F>0&&ve+P>this.bottom&&(re=m.x=re+i[m.line].width+d,m.line++,ve=m.y=Vr(o,this.top+O+d,this.bottom-i[m.line].height));let Pe=l.x(re);if(y(Pe,ve,V),re=mG(Z,re+g+f,T?re+ae:this.right,e.rtl),x(l.x(re),ve,V),T)m.x+=ae+d;else if(typeof V.text!="string"){let Ne=c.lineHeight;m.y+=X$(V,Ne)+d}else m.y+=P}),zk(this.ctx,e.textDirection)}drawTitle(){let e=this.options,i=e.title,n=nr(i.font),r=Br(i.padding);if(!i.display)return;let o=Xh(e.rtl,this.left,this.width),s=this.ctx,a=i.position,l=n.size/2,c=r.top+l,d,u=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),d=this.top+c,u=Vr(e.align,u,this.right-f);else{let g=this.columnSizes.reduce((_,b)=>Math.max(_,b.height),0);d=c+Vr(e.align,this.top,this.bottom-g-e.labels.padding-this._computeTitleHeight())}let m=Vr(a,u,u+f);s.textAlign=o.textAlign(nR(a)),s.textBaseline="middle",s.strokeStyle=i.color,s.fillStyle=i.color,s.font=n.string,tu(s,i.text,m,d,n)}_computeTitleHeight(){let e=this.options.title,i=nr(e.font),n=Br(e.padding);return e.display?i.lineHeight+n.height:0}_getLegendItemAt(e,i){let n,r,o;if(_l(e,this.left,this.right)&&_l(i,this.top,this.bottom)){for(o=this.legendHitBoxes,n=0;n<o.length;++n)if(r=o[n],_l(e,r.left,r.left+r.width)&&_l(i,r.top,r.top+r.height))return this.legendItems[n]}return null}handleEvent(e){let i=this.options;if(!Sbe(e.type,i))return;let n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){let r=this._hoveredItem,o=_be(r,n);r&&!o&&nn(i.onLeave,[e,r,this],this),this._hoveredItem=n,n&&!o&&nn(i.onHover,[e,n,this],this)}else n&&nn(i.onClick,[e,n,this],this)}};function ybe(t,e,i,n,r){let o=wbe(n,t,e,i),s=Cbe(r,n,e.lineHeight);return{itemWidth:o,itemHeight:s}}function wbe(t,e,i,n){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((o,s)=>o.length>s.length?o:s)),e+i.size/2+n.measureText(r).width}function Cbe(t,e,i){let n=t;return typeof e.text!="string"&&(n=X$(e,i)),n}function X$(t,e){let i=t.text?t.text.length:0;return e*i}function Sbe(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var xbe={id:"legend",_element:ER,start(t,e,i){let n=t.legend=new ER({ctx:t.ctx,options:i,chart:t});eo.configure(t,n,i),eo.addBox(t,n)},stop(t){eo.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,i){let n=t.legend;eo.configure(t,n,i),n.options=i},afterUpdate(t){let e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,i){let n=e.datasetIndex,r=i.chart;r.isDatasetVisible(n)?(r.hide(n),e.hidden=!0):(r.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){let e=t.data.datasets,{labels:{usePointStyle:i,pointStyle:n,textAlign:r,color:o,useBorderRadius:s,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{let c=l.controller.getStyle(i?0:void 0),d=Br(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:o,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:c.borderColor,pointStyle:n||c.pointStyle,rotation:c.rotation,textAlign:r||c.textAlign,borderRadius:s&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}},W_=class extends Aa{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,i){let n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=i;let r=ln(n.text)?n.text.length:1;this._padding=Br(n.padding);let o=r*nr(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){let e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){let{top:i,left:n,bottom:r,right:o,options:s}=this,a=s.align,l=0,c,d,u;return this.isHorizontal()?(d=Vr(a,n,o),u=i+e,c=o-n):(s.position==="left"?(d=n+e,u=Vr(a,r,i),l=cn*-.5):(d=o-e,u=Vr(a,i,r),l=cn*.5),c=r-i),{titleX:d,titleY:u,maxWidth:c,rotation:l}}draw(){let e=this.ctx,i=this.options;if(!i.display)return;let n=nr(i.font),o=n.lineHeight/2+this._padding.top,{titleX:s,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(o);tu(e,i.text,0,0,n,{color:i.color,maxWidth:l,rotation:c,textAlign:nR(i.align),textBaseline:"middle",translation:[s,a]})}};function Ebe(t,e){let i=new W_({ctx:t.ctx,options:e,chart:t});eo.configure(t,i,e),eo.addBox(t,i),t.titleBlock=i}var Rbe={id:"title",_element:W_,start(t,e,i){Ebe(t,i)},stop(t){let e=t.titleBlock;eo.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,i){let n=t.titleBlock;eo.configure(t,n,i),n.options=i},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},pR=new WeakMap,Tbe={id:"subtitle",start(t,e,i){let n=new W_({ctx:t.ctx,options:i,chart:t});eo.configure(t,n,i),eo.addBox(t,n),pR.set(t,n)},stop(t){eo.removeBox(t,pR.get(t)),pR.delete(t)},beforeUpdate(t,e,i){let n=pR.get(t);eo.configure(t,n,i),n.options=i},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},V_={average(t){if(!t.length)return!1;let e,i,n=new Set,r=0,o=0;for(e=0,i=t.length;e<i;++e){let a=t[e].element;if(a&&a.hasValue()){let l=a.tooltipPosition();n.add(l.x),r+=l.y,++o}}return{x:[...n].reduce((a,l)=>a+l)/n.size,y:r/o}},nearest(t,e){if(!t.length)return!1;let i=e.x,n=e.y,r=Number.POSITIVE_INFINITY,o,s,a;for(o=0,s=t.length;o<s;++o){let l=t[o].element;if(l&&l.hasValue()){let c=l.getCenterPoint(),d=ZE(e,c);d<r&&(r=d,a=l)}}if(a){let l=a.tooltipPosition();i=l.x,n=l.y}return{x:i,y:n}}};function yl(t,e){return e&&(ln(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Nc(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function Ibe(t,e){let{element:i,datasetIndex:n,index:r}=e,o=t.getDatasetMeta(n).controller,{label:s,value:a}=o.getLabelAndValue(r);return{chart:t,label:s,parsed:o.getParsed(r),raw:t.data.datasets[n].data[r],formattedValue:a,dataset:o.getDataset(),dataIndex:r,datasetIndex:n,element:i}}function g$(t,e){let i=t.chart.ctx,{body:n,footer:r,title:o}=t,{boxWidth:s,boxHeight:a}=e,l=nr(e.bodyFont),c=nr(e.titleFont),d=nr(e.footerFont),u=o.length,f=r.length,m=n.length,g=Br(e.padding),_=g.height,b=0,y=n.reduce((O,P)=>O+P.before.length+P.lines.length+P.after.length,0);if(y+=t.beforeBody.length+t.afterBody.length,u&&(_+=u*c.lineHeight+(u-1)*e.titleSpacing+e.titleMarginBottom),y){let O=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;_+=m*O+(y-m)*l.lineHeight+(y-1)*e.bodySpacing}f&&(_+=e.footerMarginTop+f*d.lineHeight+(f-1)*e.footerSpacing);let x=0,T=function(O){b=Math.max(b,i.measureText(O).width+x)};return i.save(),i.font=c.string,Li(t.title,T),i.font=l.string,Li(t.beforeBody.concat(t.afterBody),T),x=e.displayColors?s+2+e.boxPadding:0,Li(n,O=>{Li(O.before,T),Li(O.lines,T),Li(O.after,T)}),x=0,i.font=d.string,Li(t.footer,T),i.restore(),b+=g.width,{width:b,height:_}}function Dbe(t,e){let{y:i,height:n}=e;return i<n/2?"top":i>t.height-n/2?"bottom":"center"}function Mbe(t,e,i,n){let{x:r,width:o}=n,s=i.caretSize+i.caretPadding;if(t==="left"&&r+o+s>e.width||t==="right"&&r-o-s<0)return!0}function Abe(t,e,i,n){let{x:r,width:o}=i,{width:s,chartArea:{left:a,right:l}}=t,c="center";return n==="center"?c=r<=(a+l)/2?"left":"right":r<=o/2?c="left":r>=s-o/2&&(c="right"),Mbe(c,t,e,i)&&(c="center"),c}function b$(t,e,i){let n=i.yAlign||e.yAlign||Dbe(t,i);return{xAlign:i.xAlign||e.xAlign||Abe(t,e,i,n),yAlign:n}}function Obe(t,e){let{x:i,width:n}=t;return e==="right"?i-=n:e==="center"&&(i-=n/2),i}function Pbe(t,e,i){let{y:n,height:r}=t;return e==="top"?n+=i:e==="bottom"?n-=r+i:n-=r/2,n}function v$(t,e,i,n){let{caretSize:r,caretPadding:o,cornerRadius:s}=t,{xAlign:a,yAlign:l}=i,c=r+o,{topLeft:d,topRight:u,bottomLeft:f,bottomRight:m}=iu(s),g=Obe(e,a),_=Pbe(e,l,c);return l==="center"?a==="left"?g+=c:a==="right"&&(g-=c):a==="left"?g-=Math.max(d,f)+r:a==="right"&&(g+=Math.max(u,m)+r),{x:fr(g,0,n.width-e.width),y:fr(_,0,n.height-e.height)}}function gR(t,e,i){let n=Br(i.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-n.right:t.x+n.left}function _$(t){return yl([],Nc(t))}function kbe(t,e,i){return Pc(t,{tooltip:e,tooltipItems:i,type:"tooltip"})}function y$(t,e){let i=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return i?t.override(i):t}var Q$={beforeTitle:vl,title(t){if(t.length>0){let e=t[0],i=e.chart.data.labels,n=i?i.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return i[e.dataIndex]}return""},afterTitle:vl,beforeBody:vl,beforeLabel:vl,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");let i=t.formattedValue;return _i(i)||(e+=i),e},labelColor(t){let i=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:i.borderColor,backgroundColor:i.backgroundColor,borderWidth:i.borderWidth,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){let i=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:i.pointStyle,rotation:i.rotation}},afterLabel:vl,afterBody:vl,beforeFooter:vl,footer:vl,afterFooter:vl};function Vo(t,e,i,n){let r=t[e].call(i,n);return typeof r>"u"?Q$[e].call(i,n):r}var w$=(()=>{class t extends Aa{static positioners=V_;constructor(i){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=i.chart,this.options=i.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(i){this.options=i,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let i=this._cachedAnimations;if(i)return i;let n=this.chart,r=this.options.setContext(this.getContext()),o=r.enabled&&n.options.animation&&r.animations,s=new yR(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=kbe(this.chart.getContext(),this,this._tooltipItems))}getTitle(i,n){let{callbacks:r}=n,o=Vo(r,"beforeTitle",this,i),s=Vo(r,"title",this,i),a=Vo(r,"afterTitle",this,i),l=[];return l=yl(l,Nc(o)),l=yl(l,Nc(s)),l=yl(l,Nc(a)),l}getBeforeBody(i,n){return _$(Vo(n.callbacks,"beforeBody",this,i))}getBody(i,n){let{callbacks:r}=n,o=[];return Li(i,s=>{let a={before:[],lines:[],after:[]},l=y$(r,s);yl(a.before,Nc(Vo(l,"beforeLabel",this,s))),yl(a.lines,Vo(l,"label",this,s)),yl(a.after,Nc(Vo(l,"afterLabel",this,s))),o.push(a)}),o}getAfterBody(i,n){return _$(Vo(n.callbacks,"afterBody",this,i))}getFooter(i,n){let{callbacks:r}=n,o=Vo(r,"beforeFooter",this,i),s=Vo(r,"footer",this,i),a=Vo(r,"afterFooter",this,i),l=[];return l=yl(l,Nc(o)),l=yl(l,Nc(s)),l=yl(l,Nc(a)),l}_createItems(i){let n=this._active,r=this.chart.data,o=[],s=[],a=[],l=[],c,d;for(c=0,d=n.length;c<d;++c)l.push(Ibe(this.chart,n[c]));return i.filter&&(l=l.filter((u,f,m)=>i.filter(u,f,m,r))),i.itemSort&&(l=l.sort((u,f)=>i.itemSort(u,f,r))),Li(l,u=>{let f=y$(i.callbacks,u);o.push(Vo(f,"labelColor",this,u)),s.push(Vo(f,"labelPointStyle",this,u)),a.push(Vo(f,"labelTextColor",this,u))}),this.labelColors=o,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=l,l}update(i,n){let r=this.options.setContext(this.getContext()),o=this._active,s,a=[];if(!o.length)this.opacity!==0&&(s={opacity:0});else{let l=V_[r.position].call(this,o,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);let c=this._size=g$(this,r),d=Object.assign({},l,c),u=b$(this.chart,r,d),f=v$(r,d,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:f.x,y:f.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),i&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(i,n,r,o){let s=this.getCaretPosition(i,r,o);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(i,n,r){let{xAlign:o,yAlign:s}=this,{caretSize:a,cornerRadius:l}=r,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:f}=iu(l),{x:m,y:g}=i,{width:_,height:b}=n,y,x,T,O,P,V;return s==="center"?(P=g+b/2,o==="left"?(y=m,x=y-a,O=P+a,V=P-a):(y=m+_,x=y+a,O=P-a,V=P+a),T=y):(o==="left"?x=m+Math.max(c,u)+a:o==="right"?x=m+_-Math.max(d,f)-a:x=this.caretX,s==="top"?(O=g,P=O-a,y=x-a,T=x+a):(O=g+b,P=O+a,y=x+a,T=x-a),V=O),{x1:y,x2:x,x3:T,y1:O,y2:P,y3:V}}drawTitle(i,n,r){let o=this.title,s=o.length,a,l,c;if(s){let d=Xh(r.rtl,this.x,this.width);for(i.x=gR(this,r.titleAlign,r),n.textAlign=d.textAlign(r.titleAlign),n.textBaseline="middle",a=nr(r.titleFont),l=r.titleSpacing,n.fillStyle=r.titleColor,n.font=a.string,c=0;c<s;++c)n.fillText(o[c],d.x(i.x),i.y+a.lineHeight/2),i.y+=a.lineHeight+l,c+1===s&&(i.y+=r.titleMarginBottom-l)}}_drawColorBox(i,n,r,o,s){let a=this.labelColors[r],l=this.labelPointStyles[r],{boxHeight:c,boxWidth:d}=s,u=nr(s.bodyFont),f=gR(this,"left",s),m=o.x(f),g=c<u.lineHeight?(u.lineHeight-c)/2:0,_=n.y+g;if(s.usePointStyle){let b={radius:Math.min(d,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},y=o.leftForLtr(m,d)+d/2,x=_+c/2;i.strokeStyle=s.multiKeyBackground,i.fillStyle=s.multiKeyBackground,oR(i,b,y,x),i.strokeStyle=a.borderColor,i.fillStyle=a.backgroundColor,oR(i,b,y,x)}else{i.lineWidth=ci(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,i.strokeStyle=a.borderColor,i.setLineDash(a.borderDash||[]),i.lineDashOffset=a.borderDashOffset||0;let b=o.leftForLtr(m,d),y=o.leftForLtr(o.xPlus(m,1),d-2),x=iu(a.borderRadius);Object.values(x).some(T=>T!==0)?(i.beginPath(),i.fillStyle=s.multiKeyBackground,Tp(i,{x:b,y:_,w:d,h:c,radius:x}),i.fill(),i.stroke(),i.fillStyle=a.backgroundColor,i.beginPath(),Tp(i,{x:y,y:_+1,w:d-2,h:c-2,radius:x}),i.fill()):(i.fillStyle=s.multiKeyBackground,i.fillRect(b,_,d,c),i.strokeRect(b,_,d,c),i.fillStyle=a.backgroundColor,i.fillRect(y,_+1,d-2,c-2))}i.fillStyle=this.labelTextColors[r]}drawBody(i,n,r){let{body:o}=this,{bodySpacing:s,bodyAlign:a,displayColors:l,boxHeight:c,boxWidth:d,boxPadding:u}=r,f=nr(r.bodyFont),m=f.lineHeight,g=0,_=Xh(r.rtl,this.x,this.width),b=function(Z){n.fillText(Z,_.x(i.x+g),i.y+m/2),i.y+=m+s},y=_.textAlign(a),x,T,O,P,V,F,k;for(n.textAlign=a,n.textBaseline="middle",n.font=f.string,i.x=gR(this,y,r),n.fillStyle=r.bodyColor,Li(this.beforeBody,b),g=l&&y!=="right"?a==="center"?d/2+u:d+2+u:0,P=0,F=o.length;P<F;++P){for(x=o[P],T=this.labelTextColors[P],n.fillStyle=T,Li(x.before,b),O=x.lines,l&&O.length&&(this._drawColorBox(n,i,P,_,r),m=Math.max(f.lineHeight,c)),V=0,k=O.length;V<k;++V)b(O[V]),m=f.lineHeight;Li(x.after,b)}g=0,m=f.lineHeight,Li(this.afterBody,b),i.y-=s}drawFooter(i,n,r){let o=this.footer,s=o.length,a,l;if(s){let c=Xh(r.rtl,this.x,this.width);for(i.x=gR(this,r.footerAlign,r),i.y+=r.footerMarginTop,n.textAlign=c.textAlign(r.footerAlign),n.textBaseline="middle",a=nr(r.footerFont),n.fillStyle=r.footerColor,n.font=a.string,l=0;l<s;++l)n.fillText(o[l],c.x(i.x),i.y+a.lineHeight/2),i.y+=a.lineHeight+r.footerSpacing}}drawBackground(i,n,r,o){let{xAlign:s,yAlign:a}=this,{x:l,y:c}=i,{width:d,height:u}=r,{topLeft:f,topRight:m,bottomLeft:g,bottomRight:_}=iu(o.cornerRadius);n.fillStyle=o.backgroundColor,n.strokeStyle=o.borderColor,n.lineWidth=o.borderWidth,n.beginPath(),n.moveTo(l+f,c),a==="top"&&this.drawCaret(i,n,r,o),n.lineTo(l+d-m,c),n.quadraticCurveTo(l+d,c,l+d,c+m),a==="center"&&s==="right"&&this.drawCaret(i,n,r,o),n.lineTo(l+d,c+u-_),n.quadraticCurveTo(l+d,c+u,l+d-_,c+u),a==="bottom"&&this.drawCaret(i,n,r,o),n.lineTo(l+g,c+u),n.quadraticCurveTo(l,c+u,l,c+u-g),a==="center"&&s==="left"&&this.drawCaret(i,n,r,o),n.lineTo(l,c+f),n.quadraticCurveTo(l,c,l+f,c),n.closePath(),n.fill(),o.borderWidth>0&&n.stroke()}_updateAnimationTarget(i){let n=this.chart,r=this.$animations,o=r&&r.x,s=r&&r.y;if(o||s){let a=V_[i.position].call(this,this._active,this._eventPosition);if(!a)return;let l=this._size=g$(this,i),c=Object.assign({},a,this._size),d=b$(n,i,c),u=v$(i,c,d,n);(o._to!==u.x||s._to!==u.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(i){let n=this.options.setContext(this.getContext()),r=this.opacity;if(!r)return;this._updateAnimationTarget(n);let o={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;let a=Br(n.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&l&&(i.save(),i.globalAlpha=r,this.drawBackground(s,i,o,n),Uk(i,n.textDirection),s.y+=a.top,this.drawTitle(s,i,n),this.drawBody(s,i,n),this.drawFooter(s,i,n),zk(i,n.textDirection),i.restore())}getActiveElements(){return this._active||[]}setActiveElements(i,n){let r=this._active,o=i.map(({datasetIndex:l,index:c})=>{let d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[c],index:c}}),s=!D_(r,o),a=this._positionChanged(o,n);(s||a)&&(this._active=o,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(i,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let o=this.options,s=this._active||[],a=this._getActiveElements(i,s,n,r),l=this._positionChanged(a,i),c=n||!D_(a,s)||l;return c&&(this._active=a,(o.enabled||o.external)&&(this._eventPosition={x:i.x,y:i.y},this.update(!0,n))),c}_getActiveElements(i,n,r,o){let s=this.options;if(i.type==="mouseout")return[];if(!o)return n.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);let a=this.chart.getElementsAtEventForMode(i,s.mode,s,r);return s.reverse&&a.reverse(),a}_positionChanged(i,n){let{caretX:r,caretY:o,options:s}=this,a=V_[s.position].call(this,i,n);return a!==!1&&(r!==a.x||o!==a.y)}}return t})(),Nbe={id:"tooltip",_element:w$,positioners:V_,afterInit(t,e,i){i&&(t.tooltip=new w$({chart:t,options:i}))},beforeUpdate(t,e,i){t.tooltip&&t.tooltip.initialize(i)},reset(t,e,i){t.tooltip&&t.tooltip.initialize(i)},afterDraw(t){let e=t.tooltip;if(e&&e._willRender()){let i={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",st(ee({},i),{cancelable:!0}))===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",i)}},afterEvent(t,e){if(t.tooltip){let i=e.replay;t.tooltip.handleEvent(e.event,i,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Q$},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Lbe=Object.freeze({__proto__:null,Colors:qge,Decimation:Zge,Filler:vbe,Legend:xbe,SubTitle:Tbe,Title:Rbe,Tooltip:Nbe}),Fbe=(t,e,i,n)=>(typeof e=="string"?(i=t.push(e)-1,n.unshift({index:i,label:e})):isNaN(e)&&(i=null),i);function Hbe(t,e,i,n){let r=t.indexOf(e);if(r===-1)return Fbe(t,e,i,n);let o=t.lastIndexOf(e);return r!==o?i:r}var Vbe=(t,e)=>t===null?null:fr(Math.round(t),0,e);function C$(t){let e=this.getLabels();return t>=0&&t<e.length?e[t]:t}var Bbe=(()=>{class t extends Jh{static id="category";static defaults={ticks:{callback:C$}};constructor(i){super(i),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(i){let n=this._addedLabels;if(n.length){let r=this.getLabels();for(let{index:o,label:s}of n)r[o]===s&&r.splice(o,1);this._addedLabels=[]}super.init(i)}parse(i,n){if(_i(i))return null;let r=this.getLabels();return n=isFinite(n)&&r[n]===i?n:Hbe(r,i,Ut(n,i),this._addedLabels),Vbe(n,r.length-1)}determineDataLimits(){let{minDefined:i,maxDefined:n}=this.getUserBounds(),{min:r,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(i||(r=0),n||(o=this.getLabels().length-1)),this.min=r,this.max=o}buildTicks(){let i=this.min,n=this.max,r=this.options.offset,o=[],s=this.getLabels();s=i===0&&n===s.length-1?s:s.slice(i,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=i;a<=n;a++)o.push({value:a});return o}getLabelForValue(i){return C$.call(this,i)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(i){return typeof i!="number"&&(i=this.parse(i)),i===null?NaN:this.getPixelForDecimal((i-this._startValue)/this._valueRange)}getPixelForTick(i){let n=this.ticks;return i<0||i>n.length-1?null:this.getPixelForValue(n[i].value)}getValueForPixel(i){return Math.round(this._startValue+this.getDecimalForPixel(i)*this._valueRange)}getBasePixel(){return this.bottom}}return t})();function Wbe(t,e){let i=[],{bounds:r,step:o,min:s,max:a,precision:l,count:c,maxTicks:d,maxDigits:u,includeBounds:f}=t,m=o||1,g=d-1,{min:_,max:b}=e,y=!_i(s),x=!_i(a),T=!_i(c),O=(b-_)/(u+1),P=Ck((b-_)/g/m)*m,V,F,k,Z;if(P<1e-14&&!y&&!x)return[{value:_},{value:b}];Z=Math.ceil(b/P)-Math.floor(_/P),Z>g&&(P=Ck(Z*P/g/m)*m),_i(l)||(V=Math.pow(10,l),P=Math.ceil(P*V)/V),r==="ticks"?(F=Math.floor(_/P)*P,k=Math.ceil(b/P)*P):(F=_,k=b),y&&x&&o&&aG((a-s)/o,P/1e3)?(Z=Math.round(Math.min((a-s)/P,d)),P=(a-s)/Z,F=s,k=a):T?(F=y?s:F,k=x?a:k,Z=c-1,P=(k-F)/Z):(Z=(k-F)/P,xp(Z,Math.round(Z),P/1e3)?Z=Math.round(Z):Z=Math.ceil(Z));let ae=Math.max(xk(P),xk(F));V=Math.pow(10,_i(l)?ae:l),F=Math.round(F*V)/V,k=Math.round(k*V)/V;let re=0;for(y&&(f&&F!==s?(i.push({value:s}),F<s&&re++,xp(Math.round((F+re*P)*V)/V,s,S$(s,O,t))&&re++):F<s&&re++);re<Z;++re){let ve=Math.round((F+re*P)*V)/V;if(x&&ve>a)break;i.push({value:ve})}return x&&f&&k!==a?i.length&&xp(i[i.length-1].value,a,S$(a,O,t))?i[i.length-1].value=a:i.push({value:a}):(!x||k===a)&&i.push({value:k}),i}function S$(t,e,{horizontal:i,minRotation:n}){let r=Ws(n),o=(i?Math.sin(r):Math.cos(r))||.001,s=.75*e*(""+t).length;return Math.min(e/o,s)}var Ap=class extends Jh{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,i){return _i(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){let{beginAtZero:e}=this.options,{minDefined:i,maxDefined:n}=this.getUserBounds(),{min:r,max:o}=this,s=l=>r=i?r:l,a=l=>o=n?o:l;if(e){let l=Ma(r),c=Ma(o);l<0&&c<0?a(0):l>0&&c>0&&s(0)}if(r===o){let l=o===0?1:Math.abs(o*.05);a(o+l),e||s(r-l)}this.min=r,this.max=o}getTickLimit(){let e=this.options.ticks,{maxTicksLimit:i,stepSize:n}=e,r;return n?(r=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),i=i||11),i&&(r=Math.min(i,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let e=this.options,i=e.ticks,n=this.getTickLimit();n=Math.max(2,n);let r={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:i.precision,step:i.stepSize,count:i.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:i.minRotation||0,includeBounds:i.includeBounds!==!1},o=this._range||this,s=Wbe(r,o);return e.bounds==="ticks"&&Sk(s,this,"value"),e.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){let e=this.ticks,i=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){let r=(n-i)/Math.max(e.length-1,1)/2;i-=r,n+=r}this._startValue=i,this._endValue=n,this._valueRange=n-i}getLabelForValue(e){return Rp(e,this.chart.options.locale,this.options.ticks.format)}},b1=class extends Ap{static id="linear";static defaults={ticks:{callback:M_.formatters.numeric}};determineDataLimits(){let{min:e,max:i}=this.getMinMax(!0);this.min=Tn(e)?e:0,this.max=Tn(i)?i:1,this.handleTickRangeOptions()}computeTickLimit(){let e=this.isHorizontal(),i=e?this.width:this.height,n=Ws(this.options.ticks.minRotation),r=(e?Math.sin(n):Math.cos(n))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(i/Math.min(40,o.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}},j_=t=>Math.floor(Ac(t)),Zh=(t,e)=>Math.pow(10,j_(t)+e);function x$(t){return t/Math.pow(10,j_(t))===1}function E$(t,e,i){let n=Math.pow(10,i),r=Math.floor(t/n);return Math.ceil(e/n)-r}function jbe(t,e){let i=e-t,n=j_(i);for(;E$(t,e,n)>10;)n++;for(;E$(t,e,n)<10;)n--;return Math.min(n,j_(t))}function Ube(t,{min:e,max:i}){e=Ho(t.min,e);let n=[],r=j_(e),o=jbe(e,i),s=o<0?Math.pow(10,Math.abs(o)):1,a=Math.pow(10,o),l=r>o?Math.pow(10,r):0,c=Math.round((e-l)*s)/s,d=Math.floor((e-l)/a/10)*a*10,u=Math.floor((c-d)/Math.pow(10,o)),f=Ho(t.min,Math.round((l+d+u*Math.pow(10,o))*s)/s);for(;f<i;)n.push({value:f,major:x$(f),significand:u}),u>=10?u=u<15?15:20:u++,u>=20&&(o++,u=2,s=o>=0?1:s),f=Math.round((l+d+u*Math.pow(10,o))*s)/s;let m=Ho(t.max,f);return n.push({value:m,major:x$(m),significand:u}),n}var v1=class extends Jh{static id="logarithmic";static defaults={ticks:{callback:M_.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,i){let n=Ap.prototype.parse.apply(this,[e,i]);if(n===0){this._zero=!0;return}return Tn(n)&&n>0?n:null}determineDataLimits(){let{min:e,max:i}=this.getMinMax(!0);this.min=Tn(e)?Math.max(0,e):null,this.max=Tn(i)?Math.max(0,i):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Tn(this._userMin)&&(this.min=e===Zh(this.min,0)?Zh(this.min,-1):Zh(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:e,maxDefined:i}=this.getUserBounds(),n=this.min,r=this.max,o=a=>n=e?n:a,s=a=>r=i?r:a;n===r&&(n<=0?(o(1),s(10)):(o(Zh(n,-1)),s(Zh(r,1)))),n<=0&&o(Zh(r,-1)),r<=0&&s(Zh(n,1)),this.min=n,this.max=r}buildTicks(){let e=this.options,i={min:this._userMin,max:this._userMax},n=Ube(i,this);return e.bounds==="ticks"&&Sk(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(e){return e===void 0?"0":Rp(e,this.chart.options.locale,this.options.ticks.format)}configure(){let e=this.min;super.configure(),this._startValue=Ac(e),this._valueRange=Ac(this.max)-Ac(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Ac(e)-this._startValue)/this._valueRange)}getValueForPixel(e){let i=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+i*this._valueRange)}};function _1(t){let e=t.ticks;if(e.display&&t.display){let i=Br(e.backdropPadding);return Ut(e.font&&e.font.size,mn.font.size)+i.height}return 0}function zbe(t,e,i){return i=ln(i)?i:[i],{w:gG(t,e.string,i),h:i.length*e.lineHeight}}function R$(t,e,i,n,r){return t===n||t===r?{start:e-i/2,end:e+i/2}:t<n||t>r?{start:e-i,end:e}:{start:e,end:e+i}}function Ybe(t){let e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},i=Object.assign({},e),n=[],r=[],o=t._pointLabels.length,s=t.options.pointLabels,a=s.centerPointLabels?cn/o:0;for(let l=0;l<o;l++){let c=s.setContext(t.getPointLabelContext(l));r[l]=c.padding;let d=t.getPointPosition(l,t.drawingArea+r[l],a),u=nr(c.font),f=zbe(t.ctx,u,t._pointLabels[l]);n[l]=f;let m=Fo(t.getIndexAngle(l)+a),g=Math.round(tR(m)),_=R$(g,d.x,f.w,0,180),b=R$(g,d.y,f.h,90,270);Gbe(i,e,m,_,b)}t.setCenterPoint(e.l-i.l,i.r-e.r,e.t-i.t,i.b-e.b),t._pointLabelItems=Kbe(t,n,r)}function Gbe(t,e,i,n,r){let o=Math.abs(Math.sin(i)),s=Math.abs(Math.cos(i)),a=0,l=0;n.start<e.l?(a=(e.l-n.start)/o,t.l=Math.min(t.l,e.l-a)):n.end>e.r&&(a=(n.end-e.r)/o,t.r=Math.max(t.r,e.r+a)),r.start<e.t?(l=(e.t-r.start)/s,t.t=Math.min(t.t,e.t-l)):r.end>e.b&&(l=(r.end-e.b)/s,t.b=Math.max(t.b,e.b+l))}function $be(t,e,i){let n=t.drawingArea,{extra:r,additionalAngle:o,padding:s,size:a}=i,l=t.getPointPosition(e,n+r+s,o),c=Math.round(tR(Fo(l.angle+Ln))),d=Zbe(l.y,a.h,c),u=Xbe(c),f=Qbe(l.x,a.w,u);return{visible:!0,x:l.x,y:d,textAlign:u,left:f,top:d,right:f+a.w,bottom:d+a.h}}function qbe(t,e){if(!e)return!0;let{left:i,top:n,right:r,bottom:o}=t;return!(bl({x:i,y:n},e)||bl({x:i,y:o},e)||bl({x:r,y:n},e)||bl({x:r,y:o},e))}function Kbe(t,e,i){let n=[],r=t._pointLabels.length,o=t.options,{centerPointLabels:s,display:a}=o.pointLabels,l={extra:_1(o)/2,additionalAngle:s?cn/r:0},c;for(let d=0;d<r;d++){l.padding=i[d],l.size=e[d];let u=$be(t,d,l);n.push(u),a==="auto"&&(u.visible=qbe(u,c),u.visible&&(c=u))}return n}function Xbe(t){return t===0||t===180?"center":t<180?"left":"right"}function Qbe(t,e,i){return i==="right"?t-=e:i==="center"&&(t-=e/2),t}function Zbe(t,e,i){return i===90||i===270?t-=e/2:(i>270||i<90)&&(t-=e),t}function Jbe(t,e,i){let{left:n,top:r,right:o,bottom:s}=i,{backdropColor:a}=e;if(!_i(a)){let l=iu(e.borderRadius),c=Br(e.backdropPadding);t.fillStyle=a;let d=n-c.left,u=r-c.top,f=o-n+c.width,m=s-r+c.height;Object.values(l).some(g=>g!==0)?(t.beginPath(),Tp(t,{x:d,y:u,w:f,h:m,radius:l}),t.fill()):t.fillRect(d,u,f,m)}}function eve(t,e){let{ctx:i,options:{pointLabels:n}}=t;for(let r=e-1;r>=0;r--){let o=t._pointLabelItems[r];if(!o.visible)continue;let s=n.setContext(t.getPointLabelContext(r));Jbe(i,s,o);let a=nr(s.font),{x:l,y:c,textAlign:d}=o;tu(i,t._pointLabels[r],l,c+a.lineHeight/2,a,{color:s.color,textAlign:d,textBaseline:"middle"})}}function Z$(t,e,i,n){let{ctx:r}=t;if(i)r.arc(t.xCenter,t.yCenter,e,0,dn);else{let o=t.getPointPosition(0,e);r.moveTo(o.x,o.y);for(let s=1;s<n;s++)o=t.getPointPosition(s,e),r.lineTo(o.x,o.y)}}function tve(t,e,i,n,r){let o=t.ctx,s=e.circular,{color:a,lineWidth:l}=e;!s&&!n||!a||!l||i<0||(o.save(),o.strokeStyle=a,o.lineWidth=l,o.setLineDash(r.dash),o.lineDashOffset=r.dashOffset,o.beginPath(),Z$(t,i,s,n),o.closePath(),o.stroke(),o.restore())}function ive(t,e,i){return Pc(t,{label:i,index:e,type:"pointLabel"})}var y1=class extends Ap{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:M_.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let e=this._padding=Br(_1(this.options)/2),i=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+i/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(i,n)/2)}determineDataLimits(){let{min:e,max:i}=this.getMinMax(!1);this.min=Tn(e)&&!isNaN(e)?e:0,this.max=Tn(i)&&!isNaN(i)?i:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/_1(this.options))}generateTickLabels(e){Ap.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((i,n)=>{let r=nn(this.options.pointLabels.callback,[i,n],this);return r||r===0?r:""}).filter((i,n)=>this.chart.getDataVisibility(n))}fit(){let e=this.options;e.display&&e.pointLabels.display?Ybe(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,i,n,r){this.xCenter+=Math.floor((e-i)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,i,n,r))}getIndexAngle(e){let i=dn/(this._pointLabels.length||1),n=this.options.startAngle||0;return Fo(e*i+Ws(n))}getDistanceFromCenterForValue(e){if(_i(e))return NaN;let i=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*i:(e-this.min)*i}getValueForDistanceFromCenter(e){if(_i(e))return NaN;let i=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-i:this.min+i}getPointLabelContext(e){let i=this._pointLabels||[];if(e>=0&&e<i.length){let n=i[e];return ive(this.getContext(),e,n)}}getPointPosition(e,i,n=0){let r=this.getIndexAngle(e)-Ln+n;return{x:Math.cos(r)*i+this.xCenter,y:Math.sin(r)*i+this.yCenter,angle:r}}getPointPositionForValue(e,i){return this.getPointPosition(e,this.getDistanceFromCenterForValue(i))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){let{left:i,top:n,right:r,bottom:o}=this._pointLabelItems[e];return{left:i,top:n,right:r,bottom:o}}drawBackground(){let{backgroundColor:e,grid:{circular:i}}=this.options;if(e){let n=this.ctx;n.save(),n.beginPath(),Z$(this,this.getDistanceFromCenterForValue(this._endValue),i,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){let e=this.ctx,i=this.options,{angleLines:n,grid:r,border:o}=i,s=this._pointLabels.length,a,l,c;if(i.pointLabels.display&&eve(this,s),r.display&&this.ticks.forEach((d,u)=>{if(u!==0||u===0&&this.min<0){l=this.getDistanceFromCenterForValue(d.value);let f=this.getContext(u),m=r.setContext(f),g=o.setContext(f);tve(this,m,l,s,g)}}),n.display){for(e.save(),a=s-1;a>=0;a--){let d=n.setContext(this.getPointLabelContext(a)),{color:u,lineWidth:f}=d;!f||!u||(e.lineWidth=f,e.strokeStyle=u,e.setLineDash(d.borderDash),e.lineDashOffset=d.borderDashOffset,l=this.getDistanceFromCenterForValue(i.ticks.reverse?this.min:this.max),c=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){let e=this.ctx,i=this.options,n=i.ticks;if(!n.display)return;let r=this.getIndexAngle(0),o,s;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!i.reverse)return;let c=n.setContext(this.getContext(l)),d=nr(c.font);if(o=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=d.string,s=e.measureText(a.label).width,e.fillStyle=c.backdropColor;let u=Br(c.backdropPadding);e.fillRect(-s/2-u.left,-o-d.size/2-u.top,s+u.width,d.size+u.height)}tu(e,a.label,0,-o,d,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}},IR={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Bo=Object.keys(IR);function T$(t,e){return t-e}function I$(t,e){if(_i(e))return null;let i=t._adapter,{parser:n,round:r,isoWeekday:o}=t._parseOpts,s=e;return typeof n=="function"&&(s=n(s)),Tn(s)||(s=typeof n=="string"?i.parse(s,n):i.parse(s)),s===null?null:(r&&(s=r==="week"&&(Kh(o)||o===!0)?i.startOf(s,"isoWeek",o):i.startOf(s,r)),+s)}function D$(t,e,i,n){let r=Bo.length;for(let o=Bo.indexOf(t);o<r-1;++o){let s=IR[Bo[o]],a=s.steps?s.steps:Number.MAX_SAFE_INTEGER;if(s.common&&Math.ceil((i-e)/(a*s.size))<=n)return Bo[o]}return Bo[r-1]}function nve(t,e,i,n,r){for(let o=Bo.length-1;o>=Bo.indexOf(i);o--){let s=Bo[o];if(IR[s].common&&t._adapter.diff(r,n,s)>=e-1)return s}return Bo[i?Bo.indexOf(i):0]}function rve(t){for(let e=Bo.indexOf(t)+1,i=Bo.length;e<i;++e)if(IR[Bo[e]].common)return Bo[e]}function M$(t,e,i){if(!i)t[e]=!0;else if(i.length){let{lo:n,hi:r}=iR(i,e),o=i[n]>=e?i[n]:i[r];t[o]=!0}}function ove(t,e,i,n){let r=t._adapter,o=+r.startOf(e[0].value,n),s=e[e.length-1].value,a,l;for(a=o;a<=s;a=+r.add(a,1,n))l=i[a],l>=0&&(e[l].major=!0);return e}function A$(t,e,i){let n=[],r={},o=e.length,s,a;for(s=0;s<o;++s)a=e[s],r[a]=s,n.push({value:a,major:!1});return o===0||!i?n:ove(t,n,r,i)}var w1=(()=>{class t extends Jh{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(i){super(i),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(i,n={}){let r=i.time||(i.time={}),o=this._adapter=new bpe._date(i.adapters.date);o.init(n),Cp(r.displayFormats,o.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(i),this._normalized=n.normalized}parse(i,n){return i===void 0?null:I$(this,i)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let i=this.options,n=this._adapter,r=i.time.unit||"day",{min:o,max:s,minDefined:a,maxDefined:l}=this.getUserBounds();function c(d){!a&&!isNaN(d.min)&&(o=Math.min(o,d.min)),!l&&!isNaN(d.max)&&(s=Math.max(s,d.max))}(!a||!l)&&(c(this._getLabelBounds()),(i.bounds!=="ticks"||i.ticks.source!=="labels")&&c(this.getMinMax(!1))),o=Tn(o)&&!isNaN(o)?o:+n.startOf(Date.now(),r),s=Tn(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(o,s-1),this.max=Math.max(o+1,s)}_getLabelBounds(){let i=this.getLabelTimestamps(),n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return i.length&&(n=i[0],r=i[i.length-1]),{min:n,max:r}}buildTicks(){let i=this.options,n=i.time,r=i.ticks,o=r.source==="labels"?this.getLabelTimestamps():this._generate();i.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);let s=this.min,a=this.max,l=dG(o,s,a);return this._unit=n.unit||(r.autoSkip?D$(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):nve(this,l.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:rve(this._unit),this.initOffsets(o),i.reverse&&l.reverse(),A$(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(i=>+i.value))}initOffsets(i=[]){let n=0,r=0,o,s;this.options.offset&&i.length&&(o=this.getDecimalForValue(i[0]),i.length===1?n=1-o:n=(this.getDecimalForValue(i[1])-o)/2,s=this.getDecimalForValue(i[i.length-1]),i.length===1?r=s:r=(s-this.getDecimalForValue(i[i.length-2]))/2);let a=i.length<3?.5:.25;n=fr(n,0,a),r=fr(r,0,a),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){let i=this._adapter,n=this.min,r=this.max,o=this.options,s=o.time,a=s.unit||D$(s.minUnit,n,r,this._getLabelCapacity(n)),l=Ut(o.ticks.stepSize,1),c=a==="week"?s.isoWeekday:!1,d=Kh(c)||c===!0,u={},f=n,m,g;if(d&&(f=+i.startOf(f,"isoWeek",c)),f=+i.startOf(f,d?"day":a),i.diff(r,n,a)>1e5*l)throw new Error(n+" and "+r+" are too far apart with stepSize of "+l+" "+a);let _=o.ticks.source==="data"&&this.getDataTimestamps();for(m=f,g=0;m<r;m=+i.add(m,l,a),g++)M$(u,m,_);return(m===r||o.bounds==="ticks"||g===1)&&M$(u,m,_),Object.keys(u).sort(T$).map(b=>+b)}getLabelForValue(i){let n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(i,r.tooltipFormat):n.format(i,r.displayFormats.datetime)}format(i,n){let o=this.options.time.displayFormats,s=this._unit,a=n||o[s];return this._adapter.format(i,a)}_tickFormatFunction(i,n,r,o){let s=this.options,a=s.ticks.callback;if(a)return nn(a,[i,n,r],this);let l=s.time.displayFormats,c=this._unit,d=this._majorUnit,u=c&&l[c],f=d&&l[d],m=r[n],g=d&&f&&m&&m.major;return this._adapter.format(i,o||(g?f:u))}generateTickLabels(i){let n,r,o;for(n=0,r=i.length;n<r;++n)o=i[n],o.label=this._tickFormatFunction(o.value,n,i)}getDecimalForValue(i){return i===null?NaN:(i-this.min)/(this.max-this.min)}getPixelForValue(i){let n=this._offsets,r=this.getDecimalForValue(i);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(i){let n=this._offsets,r=this.getDecimalForPixel(i)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(i){let n=this.options.ticks,r=this.ctx.measureText(i).width,o=Ws(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(o),a=Math.sin(o),l=this._resolveTickFontOptions(0).size;return{w:r*s+l*a,h:r*a+l*s}}_getLabelCapacity(i){let n=this.options.time,r=n.displayFormats,o=r[n.unit]||r.millisecond,s=this._tickFormatFunction(i,0,A$(this,[i],this._majorUnit),o),a=this._getLabelSize(s),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let i=this._cache.data||[],n,r;if(i.length)return i;let o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(n=0,r=o.length;n<r;++n)i=i.concat(o[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(i)}getLabelTimestamps(){let i=this._cache.labels||[],n,r;if(i.length)return i;let o=this.getLabels();for(n=0,r=o.length;n<r;++n)i.push(I$(this,o[n]));return this._cache.labels=this._normalized?i:this.normalize(i)}normalize(i){return Tk(i.sort(T$))}}return t})();function bR(t,e,i){let n=0,r=t.length-1,o,s,a,l;i?(e>=t[n].pos&&e<=t[r].pos&&({lo:n,hi:r}=gl(t,"pos",e)),{pos:o,time:a}=t[n],{pos:s,time:l}=t[r]):(e>=t[n].time&&e<=t[r].time&&({lo:n,hi:r}=gl(t,"time",e)),{time:o,pos:a}=t[n],{time:s,pos:l}=t[r]);let c=s-o;return c?a+(l-a)*(e-o)/c:a}var C1=class extends w1{static id="timeseries";static defaults=w1.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let e=this._getTimestampsForTable(),i=this._table=this.buildLookupTable(e);this._minPos=bR(i,this.min),this._tableRange=bR(i,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){let{min:i,max:n}=this,r=[],o=[],s,a,l,c,d;for(s=0,a=e.length;s<a;++s)c=e[s],c>=i&&c<=n&&r.push(c);if(r.length<2)return[{time:i,pos:0},{time:n,pos:1}];for(s=0,a=r.length;s<a;++s)d=r[s+1],l=r[s-1],c=r[s],Math.round((d+l)/2)!==c&&o.push({time:c,pos:s/(a-1)});return o}_generate(){let e=this.min,i=this.max,n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(i)||n.length===1)&&n.push(i),n.sort((r,o)=>r-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;let i=this.getDataTimestamps(),n=this.getLabelTimestamps();return i.length&&n.length?e=this.normalize(i.concat(n)):e=i.length?i:n,e=this._cache.all=e,e}getDecimalForValue(e){return(bR(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){let i=this._offsets,n=this.getDecimalForPixel(e)/i.factor-i.end;return bR(this._table,n*this._tableRange+this._minPos,!0)}},sve=Object.freeze({__proto__:null,CategoryScale:Bbe,LinearScale:b1,LogarithmicScale:v1,RadialLinearScale:y1,TimeScale:w1,TimeSeriesScale:C1}),J$=[gpe,jge,Lbe,sve];var ave=typeof global=="object"&&global&&global.Object===Object&&global,DR=ave;var lve=typeof self=="object"&&self&&self.Object===Object&&self,cve=DR||lve||Function("return this")(),js=cve;var dve=js.Symbol,Op=dve;var e3=Object.prototype,uve=e3.hasOwnProperty,hve=e3.toString,z_=Op?Op.toStringTag:void 0;function fve(t){var e=uve.call(t,z_),i=t[z_];try{t[z_]=void 0;var n=!0}catch{}var r=hve.call(t);return n&&(e?t[z_]=i:delete t[z_]),r}var t3=fve;var mve=Object.prototype,pve=mve.toString;function gve(t){return pve.call(t)}var i3=gve;var bve="[object Null]",vve="[object Undefined]",n3=Op?Op.toStringTag:void 0;function _ve(t){return t==null?t===void 0?vve:bve:n3&&n3 in Object(t)?t3(t):i3(t)}var su=_ve;function yve(t){return t!=null&&typeof t=="object"}var Cl=yve;var wve=Array.isArray,Y_=wve;function Cve(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Wo=Cve;function Sve(t){return t}var MR=Sve;var xve="[object AsyncFunction]",Eve="[object Function]",Rve="[object GeneratorFunction]",Tve="[object Proxy]";function Ive(t){if(!Wo(t))return!1;var e=su(t);return e==Eve||e==Rve||e==xve||e==Tve}var Pp=Ive;var Dve=js["__core-js_shared__"],AR=Dve;var r3=function(){var t=/[^.]+$/.exec(AR&&AR.keys&&AR.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Mve(t){return!!r3&&r3 in t}var o3=Mve;var Ave=Function.prototype,Ove=Ave.toString;function Pve(t){if(t!=null){try{return Ove.call(t)}catch{}try{return t+""}catch{}}return""}var s3=Pve;var kve=/[\\^$.*+?()[\]{}|]/g,Nve=/^\[object .+?Constructor\]$/,Lve=Function.prototype,Fve=Object.prototype,Hve=Lve.toString,Vve=Fve.hasOwnProperty,Bve=RegExp("^"+Hve.call(Vve).replace(kve,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Wve(t){if(!Wo(t)||o3(t))return!1;var e=Pp(t)?Bve:Nve;return e.test(s3(t))}var a3=Wve;function jve(t,e){return t?.[e]}var l3=jve;function Uve(t,e){var i=l3(t,e);return a3(i)?i:void 0}var kp=Uve;var c3=Object.create,zve=function(){function t(){}return function(e){if(!Wo(e))return{};if(c3)return c3(e);t.prototype=e;var i=new t;return t.prototype=void 0,i}}(),d3=zve;function Yve(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}var u3=Yve;function Gve(t,e){var i=-1,n=t.length;for(e||(e=Array(n));++i<n;)e[i]=t[i];return e}var h3=Gve;var $ve=800,qve=16,Kve=Date.now;function Xve(t){var e=0,i=0;return function(){var n=Kve(),r=qve-(n-i);if(i=n,r>0){if(++e>=$ve)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var f3=Xve;function Qve(t){return function(){return t}}var m3=Qve;var Zve=function(){try{var t=kp(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Np=Zve;var Jve=Np?function(t,e){return Np(t,"toString",{configurable:!0,enumerable:!1,value:m3(e),writable:!0})}:MR,p3=Jve;var e_e=f3(p3),g3=e_e;var t_e=9007199254740991,i_e=/^(?:0|[1-9]\d*)$/;function n_e(t,e){var i=typeof t;return e=e??t_e,!!e&&(i=="number"||i!="symbol"&&i_e.test(t))&&t>-1&&t%1==0&&t<e}var OR=n_e;function r_e(t,e,i){e=="__proto__"&&Np?Np(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}var Lp=r_e;function o_e(t,e){return t===e||t!==t&&e!==e}var au=o_e;var s_e=Object.prototype,a_e=s_e.hasOwnProperty;function l_e(t,e,i){var n=t[e];(!(a_e.call(t,e)&&au(n,i))||i===void 0&&!(e in t))&&Lp(t,e,i)}var b3=l_e;function c_e(t,e,i,n){var r=!i;i||(i={});for(var o=-1,s=e.length;++o<s;){var a=e[o],l=n?n(i[a],t[a],a,i,t):void 0;l===void 0&&(l=t[a]),r?Lp(i,a,l):b3(i,a,l)}return i}var v3=c_e;var _3=Math.max;function d_e(t,e,i){return e=_3(e===void 0?t.length-1:e,0),function(){for(var n=arguments,r=-1,o=_3(n.length-e,0),s=Array(o);++r<o;)s[r]=n[e+r];r=-1;for(var a=Array(e+1);++r<e;)a[r]=n[r];return a[e]=i(s),u3(t,this,a)}}var y3=d_e;function u_e(t,e){return g3(y3(t,e,MR),t+"")}var w3=u_e;var h_e=9007199254740991;function f_e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=h_e}var PR=f_e;function m_e(t){return t!=null&&PR(t.length)&&!Pp(t)}var Fp=m_e;function p_e(t,e,i){if(!Wo(i))return!1;var n=typeof e;return(n=="number"?Fp(i)&&OR(e,i.length):n=="string"&&e in i)?au(i[e],t):!1}var C3=p_e;function g_e(t){return w3(function(e,i){var n=-1,r=i.length,o=r>1?i[r-1]:void 0,s=r>2?i[2]:void 0;for(o=t.length>3&&typeof o=="function"?(r--,o):void 0,s&&C3(i[0],i[1],s)&&(o=r<3?void 0:o,r=1),e=Object(e);++n<r;){var a=i[n];a&&t(e,a,n,o)}return e})}var S3=g_e;var b_e=Object.prototype;function v_e(t){var e=t&&t.constructor,i=typeof e=="function"&&e.prototype||b_e;return t===i}var kR=v_e;function __e(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n}var x3=__e;var y_e="[object Arguments]";function w_e(t){return Cl(t)&&su(t)==y_e}var E1=w_e;var E3=Object.prototype,C_e=E3.hasOwnProperty,S_e=E3.propertyIsEnumerable,x_e=E1(function(){return arguments}())?E1:function(t){return Cl(t)&&C_e.call(t,"callee")&&!S_e.call(t,"callee")},G_=x_e;function E_e(){return!1}var R3=E_e;var D3=typeof exports=="object"&&exports&&!exports.nodeType&&exports,T3=D3&&typeof module=="object"&&module&&!module.nodeType&&module,R_e=T3&&T3.exports===D3,I3=R_e?js.Buffer:void 0,T_e=I3?I3.isBuffer:void 0,I_e=T_e||R3,NR=I_e;var D_e="[object Arguments]",M_e="[object Array]",A_e="[object Boolean]",O_e="[object Date]",P_e="[object Error]",k_e="[object Function]",N_e="[object Map]",L_e="[object Number]",F_e="[object Object]",H_e="[object RegExp]",V_e="[object Set]",B_e="[object String]",W_e="[object WeakMap]",j_e="[object ArrayBuffer]",U_e="[object DataView]",z_e="[object Float32Array]",Y_e="[object Float64Array]",G_e="[object Int8Array]",$_e="[object Int16Array]",q_e="[object Int32Array]",K_e="[object Uint8Array]",X_e="[object Uint8ClampedArray]",Q_e="[object Uint16Array]",Z_e="[object Uint32Array]",pn={};pn[z_e]=pn[Y_e]=pn[G_e]=pn[$_e]=pn[q_e]=pn[K_e]=pn[X_e]=pn[Q_e]=pn[Z_e]=!0;pn[D_e]=pn[M_e]=pn[j_e]=pn[A_e]=pn[U_e]=pn[O_e]=pn[P_e]=pn[k_e]=pn[N_e]=pn[L_e]=pn[F_e]=pn[H_e]=pn[V_e]=pn[B_e]=pn[W_e]=!1;function J_e(t){return Cl(t)&&PR(t.length)&&!!pn[su(t)]}var M3=J_e;function eye(t){return function(e){return t(e)}}var A3=eye;var O3=typeof exports=="object"&&exports&&!exports.nodeType&&exports,$_=O3&&typeof module=="object"&&module&&!module.nodeType&&module,tye=$_&&$_.exports===O3,R1=tye&&DR.process,iye=function(){try{var t=$_&&$_.require&&$_.require("util").types;return t||R1&&R1.binding&&R1.binding("util")}catch{}}(),T1=iye;var P3=T1&&T1.isTypedArray,nye=P3?A3(P3):M3,LR=nye;var rye=Object.prototype,oye=rye.hasOwnProperty;function sye(t,e){var i=Y_(t),n=!i&&G_(t),r=!i&&!n&&NR(t),o=!i&&!n&&!r&&LR(t),s=i||n||r||o,a=s?x3(t.length,String):[],l=a.length;for(var c in t)(e||oye.call(t,c))&&!(s&&(c=="length"||r&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||OR(c,l)))&&a.push(c);return a}var k3=sye;function aye(t,e){return function(i){return t(e(i))}}var N3=aye;function lye(t){var e=[];if(t!=null)for(var i in Object(t))e.push(i);return e}var L3=lye;var cye=Object.prototype,dye=cye.hasOwnProperty;function uye(t){if(!Wo(t))return L3(t);var e=kR(t),i=[];for(var n in t)n=="constructor"&&(e||!dye.call(t,n))||i.push(n);return i}var F3=uye;function hye(t){return Fp(t)?k3(t,!0):F3(t)}var FR=hye;var fye=kp(Object,"create"),Lc=fye;function mye(){this.__data__=Lc?Lc(null):{},this.size=0}var H3=mye;function pye(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var V3=pye;var gye="__lodash_hash_undefined__",bye=Object.prototype,vye=bye.hasOwnProperty;function _ye(t){var e=this.__data__;if(Lc){var i=e[t];return i===gye?void 0:i}return vye.call(e,t)?e[t]:void 0}var B3=_ye;var yye=Object.prototype,wye=yye.hasOwnProperty;function Cye(t){var e=this.__data__;return Lc?e[t]!==void 0:wye.call(e,t)}var W3=Cye;var Sye="__lodash_hash_undefined__";function xye(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=Lc&&e===void 0?Sye:e,this}var j3=xye;function Hp(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}Hp.prototype.clear=H3;Hp.prototype.delete=V3;Hp.prototype.get=B3;Hp.prototype.has=W3;Hp.prototype.set=j3;var I1=Hp;function Eye(){this.__data__=[],this.size=0}var U3=Eye;function Rye(t,e){for(var i=t.length;i--;)if(au(t[i][0],e))return i;return-1}var lu=Rye;var Tye=Array.prototype,Iye=Tye.splice;function Dye(t){var e=this.__data__,i=lu(e,t);if(i<0)return!1;var n=e.length-1;return i==n?e.pop():Iye.call(e,i,1),--this.size,!0}var z3=Dye;function Mye(t){var e=this.__data__,i=lu(e,t);return i<0?void 0:e[i][1]}var Y3=Mye;function Aye(t){return lu(this.__data__,t)>-1}var G3=Aye;function Oye(t,e){var i=this.__data__,n=lu(i,t);return n<0?(++this.size,i.push([t,e])):i[n][1]=e,this}var $3=Oye;function Vp(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}Vp.prototype.clear=U3;Vp.prototype.delete=z3;Vp.prototype.get=Y3;Vp.prototype.has=G3;Vp.prototype.set=$3;var cu=Vp;var Pye=kp(js,"Map"),HR=Pye;function kye(){this.size=0,this.__data__={hash:new I1,map:new(HR||cu),string:new I1}}var q3=kye;function Nye(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var K3=Nye;function Lye(t,e){var i=t.__data__;return K3(e)?i[typeof e=="string"?"string":"hash"]:i.map}var du=Lye;function Fye(t){var e=du(this,t).delete(t);return this.size-=e?1:0,e}var X3=Fye;function Hye(t){return du(this,t).get(t)}var Q3=Hye;function Vye(t){return du(this,t).has(t)}var Z3=Vye;function Bye(t,e){var i=du(this,t),n=i.size;return i.set(t,e),this.size+=i.size==n?0:1,this}var J3=Bye;function Bp(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}Bp.prototype.clear=q3;Bp.prototype.delete=X3;Bp.prototype.get=Q3;Bp.prototype.has=Z3;Bp.prototype.set=J3;var eq=Bp;var Wye=N3(Object.getPrototypeOf,Object),VR=Wye;var jye="[object Object]",Uye=Function.prototype,zye=Object.prototype,tq=Uye.toString,Yye=zye.hasOwnProperty,Gye=tq.call(Object);function $ye(t){if(!Cl(t)||su(t)!=jye)return!1;var e=VR(t);if(e===null)return!0;var i=Yye.call(e,"constructor")&&e.constructor;return typeof i=="function"&&i instanceof i&&tq.call(i)==Gye}var iq=$ye;function qye(){this.__data__=new cu,this.size=0}var nq=qye;function Kye(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i}var rq=Kye;function Xye(t){return this.__data__.get(t)}var oq=Xye;function Qye(t){return this.__data__.has(t)}var sq=Qye;var Zye=200;function Jye(t,e){var i=this.__data__;if(i instanceof cu){var n=i.__data__;if(!HR||n.length<Zye-1)return n.push([t,e]),this.size=++i.size,this;i=this.__data__=new eq(n)}return i.set(t,e),this.size=i.size,this}var aq=Jye;function Wp(t){var e=this.__data__=new cu(t);this.size=e.size}Wp.prototype.clear=nq;Wp.prototype.delete=rq;Wp.prototype.get=oq;Wp.prototype.has=sq;Wp.prototype.set=aq;var lq=Wp;var hq=typeof exports=="object"&&exports&&!exports.nodeType&&exports,cq=hq&&typeof module=="object"&&module&&!module.nodeType&&module,ewe=cq&&cq.exports===hq,dq=ewe?js.Buffer:void 0,uq=dq?dq.allocUnsafe:void 0;function twe(t,e){if(e)return t.slice();var i=t.length,n=uq?uq(i):new t.constructor(i);return t.copy(n),n}var fq=twe;var iwe=js.Uint8Array,D1=iwe;function nwe(t){var e=new t.constructor(t.byteLength);return new D1(e).set(new D1(t)),e}var mq=nwe;function rwe(t,e){var i=e?mq(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}var pq=rwe;function owe(t){return typeof t.constructor=="function"&&!kR(t)?d3(VR(t)):{}}var gq=owe;function swe(t){return function(e,i,n){for(var r=-1,o=Object(e),s=n(e),a=s.length;a--;){var l=s[t?a:++r];if(i(o[l],l,o)===!1)break}return e}}var bq=swe;var awe=bq(),vq=awe;function lwe(t,e,i){(i!==void 0&&!au(t[e],i)||i===void 0&&!(e in t))&&Lp(t,e,i)}var q_=lwe;function cwe(t){return Cl(t)&&Fp(t)}var _q=cwe;function dwe(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var K_=dwe;function uwe(t){return v3(t,FR(t))}var yq=uwe;function hwe(t,e,i,n,r,o,s){var a=K_(t,i),l=K_(e,i),c=s.get(l);if(c){q_(t,i,c);return}var d=o?o(a,l,i+"",t,e,s):void 0,u=d===void 0;if(u){var f=Y_(l),m=!f&&NR(l),g=!f&&!m&&LR(l);d=l,f||m||g?Y_(a)?d=a:_q(a)?d=h3(a):m?(u=!1,d=fq(l,!0)):g?(u=!1,d=pq(l,!0)):d=[]:iq(l)||G_(l)?(d=a,G_(a)?d=yq(a):(!Wo(a)||Pp(a))&&(d=gq(l))):u=!1}u&&(s.set(l,d),r(d,l,n,o,s),s.delete(l)),q_(t,i,d)}var wq=hwe;function Cq(t,e,i,n,r){t!==e&&vq(e,function(o,s){if(r||(r=new lq),Wo(o))wq(t,e,s,i,Cq,n,r);else{var a=n?n(K_(t,s),o,s+"",t,e,r):void 0;a===void 0&&(a=o),q_(t,s,a)}},FR)}var Sq=Cq;var fwe=S3(function(t,e,i){Sq(t,e,i)}),BR=fwe;var xq=new we("Configuration for ngCharts");function Eq(...t){return{registerables:[...J$,...t]}}function Rq(...t){let e=BR({},...t);return{provide:xq,useValue:e}}var mwe=(()=>{let e=class e{constructor(){this.colorschemesOptions=new Nr(void 0)}setColorschemesOptions(n){this.pColorschemesOptions=n,this.colorschemesOptions.next(n)}getColorschemesOptions(){return this.pColorschemesOptions}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),WR=(()=>{let e=class e{constructor(n,r,o,s){this.zone=r,this.themeService=o,this.type="bar",this.plugins=[],this.chartClick=new Ie,this.chartHover=new Ie,this.subs=[],this.themeOverrides={},s?.registerables&&RR.register(...s.registerables),s?.defaults&&mn.set(s.defaults),this.ctx=n.nativeElement.getContext("2d"),this.subs.push(this.themeService.colorschemesOptions.pipe(Ih()).subscribe(a=>this.themeChanged(a)))}ngOnChanges(n){let r=["type"],o=Object.getOwnPropertyNames(n);if(o.some(s=>r.includes(s))||o.every(s=>n[s].isFirstChange()))this.render();else{let s=this.getChartConfiguration();this.chart&&(Object.assign(this.chart.config.data,s.data),this.chart.config.plugins&&Object.assign(this.chart.config.plugins,s.plugins),this.chart.config.options&&Object.assign(this.chart.config.options,s.options)),this.update()}}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=void 0),this.subs.forEach(n=>n.unsubscribe())}render(){return this.chart&&this.chart.destroy(),this.zone.runOutsideAngular(()=>this.chart=new RR(this.ctx,this.getChartConfiguration()))}update(n){this.chart&&this.zone.runOutsideAngular(()=>this.chart?.update(n))}hideDataset(n,r){this.chart&&(this.chart.getDatasetMeta(n).hidden=r,this.update())}isDatasetHidden(n){return this.chart?.getDatasetMeta(n)?.hidden}toBase64Image(){return this.chart?.toBase64Image()}themeChanged(n){this.themeOverrides=n,this.chart&&(this.chart.config.options&&Object.assign(this.chart.config.options,this.getChartOptions()),this.update())}getChartOptions(){return BR({onHover:(n,r)=>{!this.chartHover.observed&&!this.chartHover.observers?.length||this.zone.run(()=>this.chartHover.emit({event:n,active:r}))},onClick:(n,r)=>{!this.chartClick.observed&&!this.chartClick.observers?.length||this.zone.run(()=>this.chartClick.emit({event:n,active:r}))}},this.themeOverrides,this.options,{plugins:{legend:{display:this.legend}}})}getChartConfiguration(){return{type:this.type,data:this.getChartData(),options:this.getChartOptions(),plugins:this.plugins}}getChartData(){return this.data?this.data:{labels:this.labels||[],datasets:this.datasets||[]}}};e.\u0275fac=function(r){return new(r||e)(L(Ze),L(Ge),L(mwe),L(xq,8))},e.\u0275dir=Qe({type:e,selectors:[["canvas","baseChart",""]],inputs:{type:"type",legend:"legend",data:"data",options:"options",plugins:"plugins",labels:"labels",datasets:"datasets"},outputs:{chartClick:"chartClick",chartHover:"chartHover"},exportAs:["base-chart"],standalone:!0,features:[li]});let t=e;return t})();var Tq=(()=>{let e=class e{constructor(){this.barChartOptions={indexAxis:"y",scales:{y:{stacked:!0},x:{stacked:!1}}},this.barChartLegend=!0,this.barChartType="bar"}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ut({type:e,selectors:[["app-horizontal-bar-graph"]],inputs:{barChartLabels:"barChartLabels",barChartData:"barChartData"},standalone:!0,features:[vt],decls:2,vars:5,consts:[[1,"chart",2,"display","block","height","300px","width","600px"],["baseChart","",3,"datasets","labels","options","legend","type"]],template:function(r,o){r&1&&(ie(0,"div",0),ze(1,"canvas",1),oe()),r&2&&(ue(),Te("datasets",o.barChartData)("labels",o.barChartLabels)("options",o.barChartOptions)("legend",o.barChartLegend)("type",o.barChartType))},dependencies:[WR]});let t=e;return t})();var Iq=(()=>{let e=class e{constructor(){this.pieChartOptions={devicePixelRatio:1,responsive:!1,plugins:{title:{display:!1,text:"Custom Chart Title"},legend:{position:"right",labels:{textAlign:"left",padding:1}}}},this.pieChartLegend=!0,this.pieChartType="doughnut"}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ut({type:e,selectors:[["app-pie-graph"]],inputs:{pieChartLabels:"pieChartLabels",pieChartData:"pieChartData",width:"width",height:"height"},standalone:!0,features:[vt],decls:2,vars:5,consts:[["width","500","height","250","baseChart","",3,"datasets","labels","options","legend","type"]],template:function(r,o){r&1&&(ie(0,"div"),ze(1,"canvas",0),oe()),r&2&&(ue(),Te("datasets",o.pieChartData)("labels",o.pieChartLabels)("options",o.pieChartOptions)("legend",o.pieChartLegend)("type",o.pieChartType))},dependencies:[WR]});let t=e;return t})();var Dq=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Xe({type:e}),e.\u0275inj=Ke({imports:[DP,Ft,DP,Ft]});let t=e;return t})();var pwe=["mat-button",""],gwe=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],bwe=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var vwe=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}";var _we=["mat-icon-button",""],ywe=["*"];var wwe=new we("MAT_BUTTON_CONFIG");var Cwe=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Mq=(()=>{let e=class e{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(n){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,n)}get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=n,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(n){this._disabled=n,this._updateRippleDisabled()}constructor(n,r,o,s){this._elementRef=n,this._platform=r,this._ngZone=o,this._animationMode=s,this._focusMonitor=pe(Hh),this._rippleLoader=pe(gz),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;let a=pe(wwe,{optional:!0}),l=n.nativeElement,c=l.classList;this.disabledInteractive=a?.disabledInteractive??!1,this.color=a?.color??null,this._rippleLoader?.configureRipple(l,{className:"mat-mdc-button-ripple"});for(let{attribute:d,mdcClasses:u}of Cwe)l.hasAttribute(d)&&c.add(...u)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(n="program",r){n?this._focusMonitor.focusVia(this._elementRef.nativeElement,n,r):this._elementRef.nativeElement.focus(r)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}};e.\u0275fac=function(r){Id()},e.\u0275dir=Qe({type:e,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",mt],disabled:[2,"disabled","disabled",mt],ariaDisabled:[2,"aria-disabled","ariaDisabled",mt],disabledInteractive:[2,"disabledInteractive","disabledInteractive",mt]},features:[di]});let t=e;return t})();var X_=(()=>{let e=class e extends Mq{constructor(n,r,o,s){super(n,r,o,s)}};e.\u0275fac=function(r){return new(r||e)(L(Ze),L(ri),L(Ge),L(yn,8))},e.\u0275cmp=ut({type:e,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(r,o){r&2&&(Rt("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),Zr(o.color?"mat-"+o.color:""),Ct("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[ki,vt],attrs:pwe,ngContentSelectors:bwe,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,o){r&1&&(Di(gwe),ze(0,"span",0),Pt(1),ie(2,"span",1),Pt(3,1),oe(),Pt(4,2),ze(5,"span",2)(6,"span",3)),r&2&&Ct("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-app-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-app-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-app-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-app-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-app-level1));height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-app-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-app-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-app-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-app-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-app-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-app-corner-full));border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-app-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-app-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0});let t=e;return t})();var M1=(()=>{let e=class e extends Mq{constructor(n,r,o,s){super(n,r,o,s),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}};e.\u0275fac=function(r){return new(r||e)(L(Ze),L(ri),L(Ge),L(yn,8))},e.\u0275cmp=ut({type:e,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(r,o){r&2&&(Rt("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),Zr(o.color?"mat-"+o.color:""),Ct("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[ki,vt],attrs:_we,ngContentSelectors:ywe,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,o){r&1&&(Di(),ze(0,"span",0),Pt(1),ze(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);color:var(--mdc-icon-button-icon-color, var(--mat-app-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',vwe],encapsulation:2,changeDetection:0});let t=e;return t})();var jR=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Xe({type:e}),e.\u0275inj=Ke({imports:[Ft,AP,Ft]});let t=e;return t})();var Aq=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Xe({type:e}),e.\u0275inj=Ke({imports:[Ft,Ft]});let t=e;return t})();var xwe=new we("MAT_SORT_DEFAULT_OPTIONS"),Oq=(()=>{let e=class e{get direction(){return this._direction}set direction(n){this._direction=n}constructor(n){this._defaultOptions=n,this._initializedStream=new $j(1),this.sortables=new Map,this._stateChanges=new Be,this.start="asc",this._direction="",this.disabled=!1,this.sortChange=new Ie,this.initialized=this._initializedStream}register(n){this.sortables.set(n.id,n)}deregister(n){this.sortables.delete(n.id)}sort(n){this.active!=n.id?(this.active=n.id,this.direction=n.start?n.start:this.start):this.direction=this.getNextSortDirection(n),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(n){if(!n)return"";let r=n?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear,o=Ewe(n.start||this.start,r),s=o.indexOf(this.direction)+1;return s>=o.length&&(s=0),o[s]}ngOnInit(){this._initializedStream.next()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete(),this._initializedStream.complete()}};e.\u0275fac=function(r){return new(r||e)(L(xwe,8))},e.\u0275dir=Qe({type:e,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{active:[0,"matSortActive","active"],start:[0,"matSortStart","start"],direction:[0,"matSortDirection","direction"],disableClear:[2,"matSortDisableClear","disableClear",mt],disabled:[2,"matSortDisabled","disabled",mt]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],standalone:!0,features:[di,li]});let t=e;return t})();function Ewe(t,e){let i=["asc","desc"];return t=="desc"&&i.reverse(),e||i.push(""),i}var zXe=pz.ENTERING+" "+mz.STANDARD_CURVE;var A1=(()=>{let e=class e{constructor(){this.changes=new Be}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Rwe(t){return t||new A1}var Twe={provide:A1,deps:[[new Mh,new Pm,A1]],useFactory:Rwe};var Pq=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Xe({type:e}),e.\u0275inj=Ke({providers:[Twe],imports:[Ft]});let t=e;return t})();var Nmt=w(Q(),1),Lmt=w(be(),1),Fmt=w(Fi(),1),Hmt=w(Hi(),1),Vmt=w(Vi(),1),Bmt=w(Bi(),1),Wmt=w(Wi(),1),jmt=w(ji(),1),Umt=w(Ui(),1),zmt=w(rX(),1);var q7e=w(Q(),1),K7e=w(be(),1);var Y7e=w(be(),1),fX=w(oX(),1);var BN=w(Jr(),1);var O7e=w(be(),1),P7e=w(Fi(),1),k7e=w(Hi(),1),N7e=w(Vi(),1),L7e=w(Bi(),1),F7e=w(Wi(),1),H7e=w(ji(),1),V7e=w(Ui(),1);function sX(t){let e=t.length,i=0;for(;i<e;)t[i]=[t[i]],i+=1}function FN(t,e){let i=e.length,n=0;for(;n<i;)t.push(e[n]),n+=1}function Kp(t){let e=[];if(!t||t.length===0||!t[0]||t[0].length===0)return e;let i=t.length,n=t[0].length;for(let r=0;r<i;r++)for(let o=0;o<n;o++)e[o]||(e[o]=[]),e[o][r]=t[r][o];return e}function Mi(t,e,i,n){let r=-1,o=t,s=i;Array.isArray(t)||(o=Array.from(t));let a=o.length;for(n&&a&&(r+=1,s=o[r]),r+=1;r<a;)s=e(s,o[r],r,o),r+=1;return s}function or(t,e){let i=0,n=t;Array.isArray(t)||(n=Array.from(t));let r=n.length,o=[],s=-1;for(;i<r;){let a=n[i];e(a,i,n)&&(s+=1,o[s]=a),i+=1}return o}function ct(t,e){let i=0,n=t;Array.isArray(t)||(n=Array.from(t));let r=n.length,o=[],s=-1;for(;i<r;){let a=n[i];s+=1,o[s]=e(a,i,n),i+=1}return o}function M(t,e){let i=0,n=t;Array.isArray(t)||(n=Array.from(t));let r=n.length;for(;i<r&&e(n[i],i,n)!==!1;)i+=1;return t}function fT(t){let e=[];return M(t,i=>{e.indexOf(i)===-1&&e.push(i)}),e}function HN(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];let[n,...r]=[...e],o=n;return M(r,s=>{o=o.filter(a=>!s.includes(a))}),o}function VN(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:" ";return t.split(e)}function Dt(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return Mi(t,(o,s,a)=>{let l=s.replace(/\r?\n\s*/g,""),c=i[a]?i[a]:"";return o+l+c},"").trim()}function Ei(t){let e;switch(typeof t){case"string":case"number":e=`${t}`;break;case"object":e=t===null?"":t.toString();break;case"undefined":e="";break;default:e=t.toString();break}return e}function xe(t){return typeof t<"u"}function Gt(t){return typeof t>"u"}function Ri(t){return t===null||t===""||Gt(t)}function uX(t){return Object.prototype.toString.call(t)==="[object RegExp]"}var hy="length",fy=t=>parseInt(t,16),aX=t=>parseInt(t,10),mT=(t,e,i)=>t.substr(e,i),my=t=>t.codePointAt(0)-65,WN=t=>`${t}`.replace(/\-/g,""),qRe=t=>fy(mT(WN(t),fy("12"),my("F")))/(fy(mT(WN(t),my("B"),~~![][hy]))||9),KRe=()=>typeof location<"u"&&/^([a-z0-9\-]+\.)?\x68\x61\x6E\x64\x73\x6F\x6E\x74\x61\x62\x6C\x65\x2E\x63\x6F\x6D$/i.test(location.host),lX=!1,cX={invalid:()=>Dt`
    The license key for Handsontable is invalid.\x20
    If you need any help, contact us at support@handsontable.com.`,expired:t=>{let{keyValidityDate:e,hotVersion:i}=t;return Dt`
    The license key for Handsontable expired on ${e}, and is not valid for the installed\x20
    version ${i}. Renew your license key at handsontable.com or downgrade to a version released prior\x20
    to ${e}. If you need any help, contact us at sales@handsontable.com.`},missing:()=>Dt`
    The license key for Handsontable is missing. Use your purchased key to activate the product.\x20
    Alternatively, you can activate Handsontable to use for non-commercial purposes by\x20
    passing the key: 'non-commercial-and-evaluation'. If you need any help, contact\x20
    us at support@handsontable.com.`,non_commercial:()=>""},dX={invalid:()=>Dt`
    The license key for Handsontable is invalid.\x20
    <a href="https://handsontable.com/docs/tutorial-license-key.html" target="_blank">Read more</a> on how to\x20
    install it properly or contact us at <a href="mailto:support@handsontable.com">support@handsontable.com</a>.`,expired:t=>{let{keyValidityDate:e,hotVersion:i}=t;return Dt`
    The license key for Handsontable expired on ${e}, and is not valid for the installed\x20
    version ${i}. <a href="https://handsontable.com/pricing" target="_blank">Renew</a> your\x20
    license key or downgrade to a version released prior to ${e}. If you need any\x20
    help, contact us at <a href="mailto:sales@handsontable.com">sales@handsontable.com</a>.`},missing:()=>Dt`
    The license key for Handsontable is missing. Use your purchased key to activate the product.\x20
    Alternatively, you can activate Handsontable to use for non-commercial purposes by\x20
    passing the key: 'non-commercial-and-evaluation'.\x20
    <a href="https://handsontable.com/docs/tutorial-license-key.html" target="_blank">Read more</a> about it in\x20
    the documentation or contact us at <a href="mailto:support@handsontable.com">support@handsontable.com</a>.`,non_commercial:()=>""};function hX(t,e){let i=!Ri(t),n=typeof t=="string"&&t.toLowerCase()==="non-commercial-and-evaluation",r="14.4.0",o,s="invalid",a="invalid";t=WN(t||"");let l=XRe(t);if(i||n||l)if(l){let c=(0,BN.default)("11/06/2024","DD/MM/YYYY"),d=Math.floor(c.toDate().getTime()/864e5),u=qRe(t);o=(0,BN.default)((u+1)*864e5,"x").format("MMMM DD, YYYY"),d>u?(s="expired",a="expired"):(s="valid",a="valid")}else n?(s="non_commercial",a="valid"):(s="invalid",a="invalid");else s="missing",a="missing";if(KRe()&&(s="valid",a="valid"),!lX&&s!=="valid"&&(cX[s]({keyValidityDate:o,hotVersion:r})&&console[s==="non_commercial"?"info":"warn"](cX[s]({keyValidityDate:o,hotVersion:r})),lX=!0),a!=="valid"&&e.parentNode&&dX[a]({keyValidityDate:o,hotVersion:r})){let d=document.createElement("div");d.className="hot-display-license-info",d.innerHTML=dX[a]({keyValidityDate:o,hotVersion:r}),e.parentNode.insertBefore(d,e.nextSibling)}}function XRe(t){let e=[][hy],i=e;if(t[hy]!==my("Z"))return!1;for(let n="",r="B<H4P+".split(""),o=my(r.shift());o;o=my(r.shift()||"A"))--o<""[hy]?i=i|(aX(`${aX(fy(n)+(fy(mT(t,Math.abs(o),2))+[]).padStart(2,"0"))}`)%97||2)>>1:n=mT(t,o,o?r[hy]===1?9:8:6);return i===e}function Ur(t){return t[0].toUpperCase()+t.substr(1)}function pT(){function t(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return t()+t()+t()+t()}function gT(t){return/^([0-9][0-9]?%$)|(^100%$)/.test(t)}function bT(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return`${t}`.replace(/(?:\\)?\[([^[\]]+)]/g,(i,n)=>i.charAt(0)==="\\"?i.substr(1,i.length-1):e[n]===void 0?"":e[n])}function jN(t){return py(`${t}`,{ALLOWED_TAGS:[]})}function py(t,e){return fX.default.sanitize(t,e)}var Ys=t=>["tabindex",t],mX=()=>["role","treegrid"],yo=()=>["role","presentation"],pX=()=>["role","gridcell"],gX=()=>["role","rowheader"],vT=()=>["role","rowgroup"],bX=()=>["role","columnheader"],gy=()=>["role","row"],vX=()=>["role","menu"],_X=()=>["role","menuitem"],yX=()=>["role","combobox"],_T=()=>["role","listbox"],wX=()=>["role","option"],CX=()=>["role","checkbox"],SX=()=>["scope","col"],xX=()=>["scope","row"],EX=()=>["type","text"],Xp=t=>["aria-label",t],Sr=()=>["aria-hidden","true"],RX=()=>["aria-disabled","true"],TX=()=>["aria-multiselectable","true"],yT=t=>["aria-haspopup",t],wT=t=>["aria-rowcount",t],Qp=t=>["aria-colcount",t],CT=t=>["aria-rowindex",t],Zp=t=>["aria-colindex",t],zr=t=>["aria-expanded",t],IX=t=>["aria-sort",t],UN=()=>["aria-readonly","true"],zN=()=>["aria-invalid","true"],DX=t=>["aria-checked",t],Jp=()=>["aria-selected","true"],MX=()=>["aria-autocomplete","list"],AX=t=>["aria-controls",t],OX=t=>["aria-activedescendant",t],PX=t=>["aria-live",t],kX=t=>["aria-relevant",t],NX=t=>["aria-setsize",t],LX=t=>["aria-posinset",t];function FX(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=-1,n=null,r=t;for(;r!==null;){if(i===e){n=r;break}r.host&&r.nodeType===Node.DOCUMENT_FRAGMENT_NODE?r=r.host:(i+=1,r=r.parentNode)}return n}function HX(t,e){let i=t.closest(".handsontable");return!!i&&(i.parentNode===e||i===e)}function QRe(t){return Object.getPrototypeOf(t.parent)&&t.frameElement}function El(t){return QRe(t)&&t.parent}function Fa(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,{ELEMENT_NODE:n,DOCUMENT_FRAGMENT_NODE:r}=Node,o=t;for(;o!=null&&o!==i;){let{nodeType:s,nodeName:a}=o;if(s===n&&(e.includes(a)||e.includes(o)))return o;let{host:l}=o;l&&s===r?o=l:o=o.parentNode}return null}function by(t,e,i){let n=[],r=t;for(;r&&(r=Fa(r,e,i),!(!r||i&&!i.contains(r)));)n.push(r),r.host&&r.nodeType===Node.DOCUMENT_FRAGMENT_NODE?r=r.host:r=r.parentNode;let o=n.length;return o?n[o-1]:null}function Ha(t,e){let i=t.parentNode,n=[];for(typeof e=="string"?t.defaultView?n=Array.prototype.slice.call(t.querySelectorAll(e),0):n=Array.prototype.slice.call(t.ownerDocument.querySelectorAll(e),0):n.push(e);i!==null;){if(n.indexOf(i)>-1)return!0;i=i.parentNode}return!1}function VX(t){let e=0,i=t;if(i.previousSibling)for(;i=i.previousSibling;)e+=1;return e}function bu(t,e,i){let n=i.parentElement.querySelector(`.ht_clone_${t}`);return n?n.contains(e):null}function BX(t){return!t||!t.length?[]:t.filter(e=>!!e)}function WX(t,e){if(!t||!t.length)return e?{regexFree:[],regexes:[]}:[];let i=[],n=[];return n.push(...t.filter(r=>{let o=r instanceof RegExp;return o&&e&&i.push(r),!o})),e?{regexFree:n,regexes:i}:n}function Fe(t,e){return t.classList===void 0||typeof e!="string"||e===""?!1:t.classList.contains(e)}function ne(t,e){typeof e=="string"&&(e=e.split(" ")),e=BX(e),e.length>0&&t.classList.add(...e)}function tt(t,e){typeof e=="string"?e=e.split(" "):e instanceof RegExp&&(e=[e]);let{regexFree:i,regexes:n}=WX(e,!0);i=BX(i),i.length>0&&t.classList.remove(...i),n.forEach(r=>{t.classList.forEach(o=>{r.test(o)&&t.classList.remove(o)})})}function Le(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0;Array.isArray(e)||(e=[[e,i]]),e.forEach(n=>{Array.isArray(n)&&n[0]!==""&&t.setAttribute(...n)})}function $s(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];typeof e=="string"?e=e.split(" "):e instanceof RegExp&&(e=[e]);let{regexFree:i,regexes:n}=WX(e,!0);i.forEach(r=>{r!==""&&t.removeAttribute(r)}),n.forEach(r=>{t.getAttributeNames().forEach(o=>{r.test(o)&&t.removeAttribute(o)})})}function GN(t){if(t.nodeType===3)t.parentNode.removeChild(t);else if(["TABLE","THEAD","TBODY","TFOOT","TR"].indexOf(t.nodeName)>-1){let e=t.childNodes;for(let i=e.length-1;i>=0;i--)GN(e[i])}}function xr(t){let e;for(;e=t.lastChild;)t.removeChild(e)}var ZRe=/(<(.*)>|&(.*);)/;function qs(t,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;ZRe.test(e)?t.innerHTML=i?py(e):e:Ks(t,e)}function Ks(t,e){let i=t.firstChild;i&&i.nodeType===3&&i.nextSibling===null?i.textContent=e:(xr(t),t.appendChild(t.ownerDocument.createTextNode(e)))}function Gs(t){let e=t.ownerDocument.documentElement,i=t;for(;i!==e;){if(i===null)return!1;if(i.nodeType===Node.DOCUMENT_FRAGMENT_NODE)if(i.host){if(i.host.impl)return Gs(i.host.impl);if(i.host)return Gs(i.host);throw new Error("Lost in Web Components world")}else return!1;else if(Xs(i).display==="none")return!1;i=i.parentNode}return!0}function rn(t){let e=t.ownerDocument,i=e.defaultView,n=e.documentElement,r=t,o,s,a;for(o=r.offsetLeft,s=r.offsetTop,a=r;(r=r.offsetParent)&&!(r===e.body||!("offsetLeft"in r));)o+=r.offsetLeft,s+=r.offsetTop,a=r;return a&&a.style.position==="fixed"&&(o+=i.pageXOffset||n.scrollLeft,s+=i.pageYOffset||n.scrollTop),{left:o,top:s}}function $N(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:window).scrollY}function vy(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:window).scrollX}function eg(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window;return t===e?$N(e):t.scrollTop}function ST(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window;return t===e?vy(e):t.scrollLeft}function tg(t){let e=t.ownerDocument,i=e?e.defaultView:void 0;e||(e=t.document?t.document:t,i=e.defaultView);let n=["auto","scroll"],r=t.parentNode;for(;r&&r.style&&e.body!==r;){let{overflow:o,overflowX:s,overflowY:a}=r.style;if([o,s,a].includes("scroll"))return r;if({overflow:o,overflowX:s,overflowY:a}=i.getComputedStyle(r),n.includes(o)||n.includes(s)||n.includes(a)||r.clientHeight<=r.scrollHeight+1&&(n.includes(a)||n.includes(o))||r.clientWidth<=r.scrollWidth+1&&(n.includes(s)||n.includes(o)))return r;r=r.parentNode}return i}function jX(t){return t.scrollHeight-t.clientHeight}function UX(t){return t.scrollWidth-t.clientWidth}function Va(t){let e=t.ownerDocument,i=e.defaultView,n=t.parentNode;for(;n&&n.style&&e.body!==n;){if(n.style.overflow!=="visible"&&n.style.overflow!=="")return n;let r=Xs(n,i),o=["scroll","hidden","auto"],s=r.getPropertyValue("overflow"),a=r.getPropertyValue("overflow-y"),l=r.getPropertyValue("overflow-x");if(o.includes(s)||o.includes(a)||o.includes(l))return n;n=n.parentNode}return i}function vu(t,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:window;if(t){if(t===i)return e==="width"?`${i.innerWidth}px`:e==="height"?`${i.innerHeight}px`:void 0}else return;let n=t.style[e];if(n!==""&&n!==void 0)return n;let r=Xs(t,i);if(r[e]!==""&&r[e]!==void 0)return r[e]}function Xs(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window;return t.currentStyle||e.getComputedStyle(t)}function $t(t){return t.offsetWidth}function si(t){return t.offsetHeight}function Hc(t){return t.clientHeight||t.innerHeight}function xT(t){return t.clientWidth||t.innerWidth}function ET(t){return t.selectionStart?t.selectionStart:0}function zX(t){return t.selectionEnd?t.selectionEnd:0}function qN(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;t.getSelection&&(t.getSelection().empty?t.getSelection().empty():t.getSelection().removeAllRanges&&t.getSelection().removeAllRanges())}function _u(t,e,i){if(i===void 0&&(i=e),t.setSelectionRange){t.focus();try{t.setSelectionRange(e,i)}catch{let r=t.parentNode,o=r.style.display;r.style.display="block",t.setSelectionRange(e,i),r.style.display=o}}}var YN;function JRe(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document,e=t.createElement("div");e.style.height="200px",e.style.width="100%";let i=t.createElement("div");i.style.boxSizing="content-box",i.style.height="150px",i.style.left="0px",i.style.overflow="hidden",i.style.position="absolute",i.style.top="0px",i.style.width="200px",i.style.visibility="hidden",i.appendChild(e),(t.body||t.documentElement).appendChild(i);let n=e.offsetWidth;i.style.overflow="scroll";let r=e.offsetWidth;return n===r&&(r=i.clientWidth),(t.body||t.documentElement).removeChild(i),n-r}function zi(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return YN===void 0&&(YN=JRe(t)),YN}function YX(t){return t.offsetWidth!==t.clientWidth}function GX(t){return t.offsetHeight!==t.clientHeight}function ig(t,e,i){t.style.transform=`translate3d(${e},${i},0)`}function yu(t){t.style.transform&&t.style.transform!==""&&(t.style.transform="")}function _y(t){return t&&(["INPUT","SELECT","TEXTAREA"].indexOf(t.nodeName)>-1||t.contentEditable==="true")}function RT(t){return _y(t)&&t.hasAttribute("data-hot-input")===!1}function TT(t){return!t.parentNode}function $X(t,e){new IntersectionObserver((n,r)=>{n.forEach(o=>{o.isIntersecting&&t.offsetParent!==null&&(e(),r.unobserve(t))})},{root:t.ownerDocument.body}).observe(t)}function KN(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=t.ownerDocument,r=n.createRange(),o=n.defaultView.getSelection();Le(t,"contenteditable",!0),i&&Le(t,...Sr()),e&&ne(t,"invisibleSelection"),r.selectNodeContents(t),o.removeAllRanges(),o.addRange(r)}function XN(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,i=t.ownerDocument.defaultView.getSelection();t.hasAttribute("aria-hidden")&&t.removeAttribute("aria-hidden"),i.removeAllRanges(),e&&tt(t,"invisibleSelection"),t.removeAttribute("contenteditable")}function qX(t,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;KN(t,i),e(),XN(t,i)}function ti(t){return typeof t=="function"}function ng(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:200,i=null,n;function r(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return i&&clearTimeout(i),i=setTimeout(()=>{n=t.apply(this,s)},e),n}return r}function IT(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return t.apply(this,i.concat(s))}}function KX(t){let e=t.length;function i(n){return function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];let l=n.concat(s),c;return l.length>=e?c=t.apply(this,l):c=i(l),c}}return i([])}function yy(t,e,i,n,r,o,s,a){return xe(a)?t.call(e,i,n,r,o,s,a):xe(s)?t.call(e,i,n,r,o,s):xe(o)?t.call(e,i,n,r,o):xe(r)?t.call(e,i,n,r):xe(n)?t.call(e,i,n):xe(i)?t.call(e,i):t.call(e)}var rQe=w(Q(),1),oQe=w(be(),1),sQe=w(MT(),1);function of(t){let e;return Array.isArray(t)?e=t.length?new Array(t.length).fill(null):[]:(e={},nt(t,(i,n)=>{n!=="__children"&&(i&&typeof i=="object"&&!Array.isArray(i)?e[n]=of(i):Array.isArray(i)?i.length&&typeof i[0]=="object"&&!Array.isArray(i[0])?e[n]=[of(i[0])]:e[n]=[]:e[n]=null)})),e}function Ba(t,e){return e.prototype.constructor=e,t.prototype=new e,t.prototype.constructor=t,t}function hi(t,e,i){let n=Array.isArray(i);return nt(e,(r,o)=>{(n===!1||i.includes(o))&&(t[o]=r)}),t}function sf(t,e){nt(e,(i,n)=>{e[n]&&typeof e[n]=="object"?(t[n]||(Array.isArray(e[n])?t[n]=[]:Object.prototype.toString.call(e[n])==="[object Date]"?t[n]=e[n]:t[n]={}),sf(t[n],e[n])):t[n]=e[n]})}function Fn(t){return typeof t=="object"?JSON.parse(JSON.stringify(t)):t}function qn(t){let e={};return nt(t,(i,n)=>{e[n]=i}),e}function Ot(t){t.MIXINS||(t.MIXINS=[]);for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return M(i,r=>{t.MIXINS.push(r.MIXIN_NAME),nt(r,(o,s)=>{if(t.prototype[s]!==void 0)throw new Error(`Mixin conflict. Property '${s}' already exist and cannot be overwritten.`);if(typeof o=="function")t.prototype[s]=o;else{let a=function(d,u){let f=`_${d}`,m=g=>{let _=g;return(Array.isArray(_)||it(_))&&(_=Fn(_)),_};return function(){return this[f]===void 0&&(this[f]=m(u)),this[f]}},l=function(d){let u=`_${d}`;return function(f){this[u]=f}};Object.defineProperty(t.prototype,s,{get:a(s,o),set:l(s),configurable:!0})}})}),t}function rg(t,e){return JSON.stringify(t)===JSON.stringify(e)}function it(t){return Object.prototype.toString.call(t)==="[object Object]"}function Er(t,e,i,n){n.value=i,n.writable=n.writable!==!1,n.enumerable=n.enumerable!==!1,n.configurable=n.configurable!==!1,Object.defineProperty(t,e,n)}function nt(t,e){for(let i in t)if((!t.hasOwnProperty||t.hasOwnProperty&&Object.prototype.hasOwnProperty.call(t,i))&&e(t[i],i,t)===!1)break;return t}function h6(t,e){let i=e.split("."),n=t;return nt(i,r=>{if(n=n[r],n===void 0)return n=void 0,!1}),n}function AT(t,e,i){let n=e.split("."),r=t;n.forEach((o,s)=>{s!==n.length-1?(Ci(r,o)||(r[o]={}),r=r[o]):r[o]=i})}function og(t){if(!it(t))return 0;let e=function(i){let n=0;return it(i)?nt(i,(r,o)=>{o!=="__children"&&(n+=e(r))}):n+=1,n};return e(t)}function to(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"value",i=`_${e}`,n={_touched:!1,[i]:t,isTouched(){return this._touched}};return Object.defineProperty(n,e,{get(){return this[i]},set(r){this._touched=!0,this[i]=r},enumerable:!0,configurable:!0}),n}function Ci(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ag(t){return window.requestAnimationFrame(t)}function lg(t){window.cancelAnimationFrame(t)}function OT(){return"ontouchstart"in window}function f6(){return typeof window<"u"}var sg;function m6(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return sg||(typeof Intl=="object"?sg=new Intl.Collator(t,e).compare:typeof String.prototype.localeCompare=="function"?sg=(i,n)=>`${i}`.localeCompare(n):sg=(i,n)=>i===n?0:i>n?-1:1,sg)}var Qs=t=>{let e={value:!1};return e.test=(i,n)=>{e.value=t(i,n)},e},Cu={chrome:Qs((t,e)=>/Chrome/.test(t)&&/Google/.test(e)),chromeWebKit:Qs(t=>/CriOS/.test(t)),edge:Qs(t=>/Edge/.test(t)),edgeWebKit:Qs(t=>/EdgiOS/.test(t)),firefox:Qs(t=>/Firefox/.test(t)),firefoxWebKit:Qs(t=>/FxiOS/.test(t)),mobile:Qs(t=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t)),safari:Qs((t,e)=>/Safari/.test(t)&&/Apple Computer/.test(e))},Cy={mac:Qs(t=>/^Mac/.test(t)),win:Qs(t=>/^Win/.test(t)),linux:Qs(t=>/^Linux/.test(t)),ios:Qs(t=>/iPhone|iPad|iPod/i.test(t))};function mTe(){let{userAgent:t=navigator.userAgent,vendor:e=navigator.vendor}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};nt(Cu,i=>{let{test:n}=i;return void n(t,e)})}function pTe(){let{platform:t=navigator.platform}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};nt(Cy,e=>{let{test:i}=e;return void i(t)})}f6()&&(mTe(),pTe());function PT(){return Cu.chrome.value}function p6(){return Cu.chromeWebKit.value}function kT(){return Cu.firefox.value}function g6(){return Cu.firefoxWebKit.value}function QN(){return Cu.safari.value}function b6(){return Cu.edge.value}function fs(){return Cu.mobile.value}function NT(){return Cy.ios.value}function LT(){let{maxTouchPoints:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:navigator;return t>2&&Cy.mac.value}function ZN(){return Cy.win.value}function cg(){return Cy.mac.value}var $Qe=w(Q(),1);var fQe=w(be(),1);var pt={ALT:18,ARROW_DOWN:40,ARROW_LEFT:37,ARROW_RIGHT:39,ARROW_UP:38,AUDIO_DOWN:kT()?182:174,AUDIO_MUTE:kT()?181:173,AUDIO_UP:kT()?183:175,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND_LEFT:91,COMMAND_RIGHT:93,COMMAND_FIREFOX:224,CONTROL:17,DELETE:46,END:35,ENTER:13,ESCAPE:27,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,HOME:36,INSERT:45,MEDIA_NEXT:176,MEDIA_PLAY_PAUSE:179,MEDIA_PREV:177,MEDIA_STOP:178,NULL:0,NUM_LOCK:144,PAGE_DOWN:34,PAGE_UP:33,PAUSE:19,PERIOD:190,SCROLL_LOCK:145,SHIFT:16,SPACE:32,TAB:9,A:65,C:67,D:68,F:70,L:76,O:79,P:80,S:83,V:86,X:88,Y:89,Z:90},gTe=[pt.ALT,pt.ARROW_DOWN,pt.ARROW_LEFT,pt.ARROW_RIGHT,pt.ARROW_UP,pt.AUDIO_DOWN,pt.AUDIO_MUTE,pt.AUDIO_UP,pt.BACKSPACE,pt.CAPS_LOCK,pt.DELETE,pt.END,pt.ENTER,pt.ESCAPE,pt.F1,pt.F2,pt.F3,pt.F4,pt.F5,pt.F6,pt.F7,pt.F8,pt.F9,pt.F10,pt.F11,pt.F12,pt.F13,pt.F14,pt.F15,pt.F16,pt.F17,pt.F18,pt.F19,pt.HOME,pt.INSERT,pt.MEDIA_NEXT,pt.MEDIA_PLAY_PAUSE,pt.MEDIA_PREV,pt.MEDIA_STOP,pt.NULL,pt.NUM_LOCK,pt.PAGE_DOWN,pt.PAGE_UP,pt.PAUSE,pt.SCROLL_LOCK,pt.SHIFT,pt.TAB];function v6(t){return t===32||t>=48&&t<=57||t>=96&&t<=111||t>=186&&t<=192||t>=219&&t<=222||t>=226||t>=65&&t<=90}function FT(t){return gTe.includes(t)}function _6(t){return[pt.CONTROL,pt.COMMAND_LEFT,pt.COMMAND_RIGHT,pt.COMMAND_FIREFOX].includes(t)}function Rl(t,e){let i=e.split("|"),n=!1;return M(i,r=>{if(t===pt[r])return n=!0,!1}),n}function Hn(t){t.isImmediatePropagationEnabled=!1,t.cancelBubble=!0}function Tl(t){return t.isImmediatePropagationEnabled===!1}function ms(t){return t.button===2}function dg(t){return t.button===0}function y6(t,e){let i={x:t.offsetX,y:t.offsetY},n=t.target;if(!(e instanceof HTMLElement)||n!==e&&n.contains(e))return i;for(;n!==e;)i.x+=n.offsetLeft,i.y+=n.offsetTop,n=n.offsetParent;return i}var FQe=w(Q(),1);var RQe=w(Q(),1),TQe=w(be(),1),IQe=w(rL(),1);function zt(){xe(console)&&console.warn(...arguments)}function ug(){xe(console)&&console.error(...arguments)}function LTe(t,e,i){return e=FTe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function FTe(t){var e=HTe(t,"string");return typeof e=="symbol"?e:e+""}function HTe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hg=["afterCellMetaReset","afterChange","afterContextMenuDefaultOptions","beforeContextMenuSetItems","afterDropdownMenuDefaultOptions","beforeDropdownMenuSetItems","afterContextMenuHide","beforeContextMenuShow","afterContextMenuShow","afterCopyLimit","beforeCreateCol","afterColumnSequenceChange","afterCreateCol","beforeCreateRow","afterCreateRow","afterDeselect","afterDestroy","afterDocumentKeyDown","afterDrawSelection","beforeRemoveCellClassNames","afterGetCellMeta","afterGetColHeader","afterGetRowHeader","afterInit","afterLoadData","afterUpdateData","afterMomentumScroll","afterOnCellCornerMouseDown","afterOnCellCornerDblClick","afterOnCellMouseDown","afterOnCellMouseUp","afterOnCellContextMenu","afterOnCellMouseOver","afterOnCellMouseOut","afterRemoveCol","afterRemoveRow","beforeRenderer","afterRenderer","afterRowSequenceChange","beforeViewportScrollVertically","beforeViewportScrollHorizontally","beforeViewportScroll","afterScrollHorizontally","afterScrollVertically","afterScroll","afterSelection","afterSelectionByProp","afterSelectionEnd","afterSelectionEndByProp","afterSelectionFocusSet","beforeSelectColumns","afterSelectColumns","beforeSelectRows","afterSelectRows","afterSetCellMeta","afterRemoveCellMeta","afterSetDataAtCell","afterSetDataAtRowProp","afterSetSourceDataAtCell","afterUpdateSettings","afterValidate","beforeLanguageChange","afterLanguageChange","beforeAutofill","afterAutofill","beforeCellAlignment","beforeChange","beforeChangeRender","beforeDrawBorders","beforeGetCellMeta","beforeRemoveCellMeta","beforeInit","beforeInitWalkontable","beforeLoadData","beforeUpdateData","beforeKeyDown","beforeOnCellMouseDown","beforeOnCellMouseUp","beforeOnCellContextMenu","beforeOnCellMouseOver","beforeOnCellMouseOut","beforeRemoveCol","beforeRemoveRow","beforeViewRender","afterViewRender","beforeRender","afterRender","beforeRowWrap","beforeColumnWrap","beforeSetCellMeta","beforeSelectionFocusSet","beforeSetRangeStartOnly","beforeSetRangeStart","beforeSetRangeEnd","beforeSelectionHighlightSet","beforeTouchScroll","beforeValidate","beforeValueRender","construct","init","modifyColHeader","modifyColWidth","modifyFiltersMultiSelectValue","modifyFocusedElement","modifyRowHeader","modifyRowHeight","modifyData","modifySourceData","modifyRowData","modifyGetCellCoords","modifyFocusOnTabNavigation","beforeHighlightingRowHeader","beforeHighlightingColumnHeader","persistentStateLoad","persistentStateReset","persistentStateSave","beforeColumnSort","afterColumnSort","modifyAutofillRange","modifyCopyableRange","beforeCut","afterCut","beforeCopy","afterCopy","beforePaste","afterPaste","beforeColumnFreeze","afterColumnFreeze","beforeColumnMove","afterColumnMove","beforeColumnUnfreeze","afterColumnUnfreeze","beforeRowMove","afterRowMove","beforeColumnResize","afterColumnResize","beforeRowResize","afterRowResize","afterGetColumnHeaderRenderers","afterGetRowHeaderRenderers","beforeStretchingColumnWidth","beforeFilter","afterFilter","afterFormulasValuesUpdate","afterNamedExpressionAdded","afterNamedExpressionRemoved","afterSheetAdded","afterSheetRenamed","afterSheetRemoved","modifyColumnHeaderHeight","modifyColumnHeaderValue","beforeUndo","beforeUndoStackChange","afterUndo","afterUndoStackChange","beforeRedo","beforeRedoStackChange","afterRedo","afterRedoStackChange","modifyRowHeaderWidth","modifyTransformFocus","modifyTransformStart","modifyTransformEnd","afterModifyTransformFocus","afterModifyTransformStart","afterModifyTransformEnd","afterViewportRowCalculatorOverride","afterViewportColumnCalculatorOverride","afterPluginsInitialized","beforeHideRows","afterHideRows","beforeUnhideRows","afterUnhideRows","beforeHideColumns","afterHideColumns","beforeUnhideColumns","afterUnhideColumns","beforeTrimRow","afterTrimRow","beforeUntrimRow","afterUntrimRow","beforeDropdownMenuShow","afterDropdownMenuShow","afterDropdownMenuHide","beforeAddChild","afterAddChild","beforeDetachChild","afterDetachChild","beforeBeginEditing","afterBeginEditing","beforeMergeCells","afterMergeCells","beforeUnmergeCells","afterUnmergeCells","afterListen","afterUnlisten","afterRefreshDimensions","beforeRefreshDimensions","beforeColumnCollapse","afterColumnCollapse","beforeColumnExpand","afterColumnExpand","modifyAutoColumnSizeSeed"],VTe=Dt`The plugin hook "[hookName]" was removed in Handsontable [removedInVersion].\x20
  Please consult release notes https://github.com/handsontable/handsontable/releases/tag/[removedInVersion] to\x20
  learn about the migration path.`,oL=new Map([["modifyRow","8.0.0"],["modifyCol","8.0.0"],["unmodifyRow","8.0.0"],["unmodifyCol","8.0.0"],["skipLengthCache","8.0.0"],["hiddenColumn","8.0.0"],["hiddenRow","8.0.0"]]),sL=new Map([[]]),WT=new WeakMap,jT=class{static getSingleton(){return WTe()}constructor(){LTe(this,"globalBucket",void 0),this.globalBucket=this.createEmptyBucket()}createEmptyBucket(){let e=Object.create(null);return M(hg,i=>{e[i]=[],this.initOrderMap(e,i)}),e}getBucket(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return e?(e.pluginHookBucket||(e.pluginHookBucket=this.createEmptyBucket()),e.pluginHookBucket):this.globalBucket}add(e,i){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;if(Array.isArray(i))M(i,o=>this.add(e,o,n));else{oL.has(e)&&zt(bT(VTe,{hookName:e,removedInVersion:oL.get(e)})),sL.has(e)&&zt(sL.get(e));let o=this.getBucket(n);if(typeof o[e]>"u"&&(this.register(e),o[e]=[],this.initOrderMap(o,e)),i.skip=!1,o[e].indexOf(i)===-1){let s=!1;i.initialHook&&M(o[e],(a,l)=>{if(a.initialHook)return o[e][l]=i,s=!0,!1}),s||o[e].push(i)}this.setCallbackOrderIndex(o,e,i,r),this.orderBucketByOrderIndex(o,e)}return this}once(e,i){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;Array.isArray(i)?M(i,o=>this.once(e,o,n)):(i.runOnce=!0,this.add(e,i,n,r))}remove(e,i){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=this.getBucket(n);return typeof r[e]<"u"&&r[e].indexOf(i)>=0?(i.skip=!0,!0):!1}has(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=this.getBucket(i);return!!(n[e]!==void 0&&n[e].length)}run(e,i,n,r,o,s,a,l){{let c=this.globalBucket[i],d=c?c.length:0,u=0;if(d)for(;u<d;){if(!c[u]||c[u].skip){u+=1;continue}let f=yy(c[u],e,n,r,o,s,a,l);f!==void 0&&(n=f),c[u]&&c[u].runOnce&&this.remove(i,c[u]),u+=1}}{let c=this.getBucket(e)[i],d=c?c.length:0,u=0;if(d)for(;u<d;){if(!c[u]||c[u].skip){u+=1;continue}let f=yy(c[u],e,n,r,o,s,a,l);f!==void 0&&(n=f),c[u]&&c[u].runOnce&&this.remove(i,c[u],e),u+=1}}return n}destroy(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;nt(this.getBucket(e),(i,n,r)=>r[n].length=0)}register(e){this.isRegistered(e)||hg.push(e)}deregister(e){this.isRegistered(e)&&hg.splice(hg.indexOf(e),1)}isDeprecated(e){return sL.has(e)||oL.has(e)}isRegistered(e){return hg.indexOf(e)>=0}getRegistered(){return hg}setCallbackOrderIndex(e,i,n,r){let o=Number.isInteger(r)?r:0,s=this.getCallbackOrderMap(e,i);s.set(o,[...s.get(o)||[],n])}orderBucketByOrderIndex(e,i){let n=this.getCallbackOrderMap(e,i);n===void 0||n.size===0||n.size===1&&n.has(0)||(e[i]=[...n].sort((r,o)=>r[0]-o[0]).flatMap(r=>{let[,o]=r;return o}))}initOrderMap(e,i){WT.has(e)||WT.set(e,[]),WT.get(e)[i]=new Map}getCallbackOrderMap(e,i){return WT.get(e)[i]}},BTe=new jT;function WTe(){return BTe}var Ee=jT;var aL=new Map;function Kn(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"common";aL.has(t)||aL.set(t,new Map);let e=aL.get(t);function i(a,l){e.set(a,l)}function n(a){return e.get(a)}function r(a){return e.has(a)}function o(){return[...e.keys()]}function s(){return[...e.values()]}return{register:i,getItem:n,hasItem:r,getNames:o,getValues:s}}var lL=new WeakMap,{register:jTe,getItem:k6,hasItem:cL,getNames:BQe,getValues:WQe}=Kn("editors");function UTe(t){let e={},i=t;this.getConstructor=function(){return t},this.getInstance=function(n){return n.guid in e||(e[n.guid]=new i(n)),e[n.guid]},Ee.getSingleton().add("afterDestroy",function(){e[this.guid]=null})}function UT(t,e){let i;if(typeof t=="function")lL.get(t)||wo(null,t),i=lL.get(t);else if(typeof t=="string")i=k6(t);else throw Error('Only strings and functions can be passed as "editor" parameter');if(!i)throw Error(`No editor registered under name "${t}"`);return i.getInstance(e)}function dL(t){if(typeof t=="function")return t;if(!cL(t))throw Error(`No registered editor found under "${t}" name`);return k6(t).getConstructor()}function wo(t,e){t&&typeof t!="string"&&(e=t,t=e.EDITOR_TYPE);let i=new UTe(e);typeof t=="string"&&jTe(t,i),lL.set(e,i)}var UQe=w(Q(),1),zQe=w(be(),1);function zTe(t,e,i){return e=YTe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function YTe(t){var e=GTe(t,"string");return typeof e=="symbol"?e:e+""}function GTe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uL=0,hL=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;zTe(this,"context",void 0),this.context=e||this,this.context.eventListeners||(this.context.eventListeners=[])}addEventListener(e,i,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;function o(s){n.call(this,$Te(s))}return this.context.eventListeners.push({element:e,event:i,callback:n,callbackProxy:o,options:r,eventManager:this}),e.addEventListener(i,o,r),uL+=1,()=>{this.removeEventListener(e,i,n)}}removeEventListener(e,i,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=this.context.eventListeners.length,s;for(;o;)if(o-=1,s=this.context.eventListeners[o],s.event===i&&s.element===e){if(n&&n!==s.callback||r&&s.eventManager!==this)continue;this.context.eventListeners.splice(o,1),s.element.removeEventListener(s.event,s.callbackProxy,s.options),uL-=1}}clearEvents(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.context)return;let i=this.context.eventListeners.length;for(;i;){i-=1;let n=this.context.eventListeners[i];e&&n.eventManager!==this||(this.context.eventListeners.splice(i,1),n.element.removeEventListener(n.event,n.callbackProxy,n.options),uL-=1)}}clear(){this.clearEvents()}destroy(){this.clearEvents(),this.context=null}destroyWithOwnEventsOnly(){this.clearEvents(!0),this.context=null}fireEvent(e,i){let n=e.document,r=e;n||(n=e.ownerDocument?e.ownerDocument:e,r=n.defaultView);let o={bubbles:!0,cancelable:i!=="mousemove",view:r,detail:0,screenX:0,screenY:0,clientX:1,clientY:1,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:void 0},s;n.createEvent?(s=n.createEvent("MouseEvents"),s.initMouseEvent(i,o.bubbles,o.cancelable,o.view,o.detail,o.screenX,o.screenY,o.clientX,o.clientY,o.ctrlKey,o.altKey,o.shiftKey,o.metaKey,o.button,o.relatedTarget||n.body.parentNode)):s=n.createEventObject(),e.dispatchEvent?e.dispatchEvent(s):e.fireEvent(`on${i}`,s)}};function $Te(t){let e=t.stopImmediatePropagation;return t.stopImmediatePropagation=function(){e.apply(this),Hn(this)},t}var Xn=hL;function qTe(t,e){KTe(t,e),e.add(t)}function KTe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function af(t,e,i){return e=XTe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function XTe(t){var e=QTe(t,"string");return typeof e=="symbol"?e:e+""}function QTe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function N6(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var fL=new WeakSet,Sy=class{constructor(e,i,n){qTe(this,fL),af(this,"hot",void 0),af(this,"tableMeta",void 0),af(this,"selection",void 0),af(this,"eventManager",void 0),af(this,"destroyed",!1),af(this,"activeEditor",void 0),af(this,"cellProperties",void 0),this.hot=e,this.tableMeta=i,this.selection=n,this.eventManager=new Xn(e),this.hot.addHook("afterDocumentKeyDown",r=>N6(fL,this,ZTe).call(this,r)),this.eventManager.addEventListener(this.hot.rootDocument.documentElement,"compositionstart",r=>{!this.destroyed&&this.hot.isListening()&&this.openEditor("",r)}),this.hot.view._wt.update("onCellDblClick",(r,o,s)=>N6(fL,this,JTe).call(this,r,o,s))}getActiveEditor(){return this.activeEditor}prepareEditor(){var e;if(this.activeEditor&&this.activeEditor.isWaiting()){this.closeEditor(!1,!1,c=>{c&&this.prepareEditor()});return}let i=(e=this.hot.getSelectedRangeLast())===null||e===void 0?void 0:e.highlight;if(!i||i.isHeader())return;let{row:n,col:r}=i,o=this.hot.runHooks("modifyGetCellCoords",n,r),s=n,a=r;if(Array.isArray(o)&&([s,a]=o),this.cellProperties=this.hot.getCellMeta(s,a),!this.isCellEditable()){this.clearActiveEditor();return}let l=this.hot.getCell(n,r,!0);if(l){let c=this.hot.getCellEditor(this.cellProperties),d=this.hot.colToProp(a),u=this.hot.getSourceDataAtCell(this.hot.toPhysicalRow(s),a);this.activeEditor=UT(c,this.hot),this.activeEditor.prepare(n,r,d,l,u,this.cellProperties)}}isEditorOpened(){return this.activeEditor&&this.activeEditor.isOpened()}openEditor(e,i){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!this.isCellEditable()){this.clearActiveEditor();return}let r=this.hot.getSelectedRangeLast(),o=this.hot.runHooks("beforeBeginEditing",r.highlight.row,r.highlight.col,e,i,n);if(i instanceof MouseEvent&&typeof o!="boolean"&&(o=this.hot.selection.getLayerLevel()===0&&r.isSingle()),o===!1){this.clearActiveEditor();return}this.activeEditor||(this.hot.scrollToFocusedCell(),this.prepareEditor()),this.activeEditor&&(n&&this.activeEditor.enableFullEditMode(),this.activeEditor.beginEditing(e,i))}closeEditor(e,i,n){this.activeEditor?this.activeEditor.finishEditing(e,i,n):n&&n(!1)}closeEditorAndSaveChanges(e){this.closeEditor(!1,e)}closeEditorAndRestoreOriginalValue(e){this.closeEditor(!0,e)}clearActiveEditor(){this.activeEditor=void 0}isCellEditable(){let e=this.hot.getSelectedRangeLast();if(!e)return!1;let i=this.hot.getCellEditor(this.cellProperties),{row:n,col:r}=e.highlight,{rowIndexMapper:o,columnIndexMapper:s}=this.hot,a=o.isHidden(this.hot.toPhysicalRow(n))||s.isHidden(this.hot.toPhysicalColumn(r));return!(this.cellProperties.readOnly||!i||a)}moveSelectionAfterEnter(e){let i=ee({},typeof this.tableMeta.enterMoves=="function"?this.tableMeta.enterMoves(e):this.tableMeta.enterMoves);e.shiftKey&&(i.row=-i.row,i.col=-i.col),this.hot.selection.isMultiple()?this.selection.transformFocus(i.row,i.col):this.selection.transformStart(i.row,i.col,!0)}destroy(){this.destroyed=!0,this.eventManager.destroy()}};function ZTe(t){let e=this.hot.getSelectedRangeLast();if(!this.hot.isListening()||!e||e.highlight.isHeader()||Tl(t))return;let{keyCode:i}=t,n=(t.ctrlKey||t.metaKey)&&!t.altKey;(!this.activeEditor||this.activeEditor&&!this.activeEditor.isWaiting())&&!FT(i)&&!_6(i)&&!n&&!this.isEditorOpened()&&this.openEditor("",t)}function JTe(t,e){e.isCell()&&this.openEditor(null,t,!0)}var L6=new WeakMap;Sy.getInstance=function(t,e,i){let n=L6.get(t);return n||(n=new Sy(t,e,i),L6.set(t,n)),n};var F6=Sy;var eZe=w(Q(),1);function eIe(t,e){V6(t,e),e.add(t)}function xy(t,e,i){V6(t,e),e.set(t,i)}function V6(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function wn(t,e){return t.get(Vc(t,e))}function Ey(t,e,i){return t.set(Vc(t,e),i),i}function Vc(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var fg=Object.freeze({CELL:"cell",MIXED:"mixed"}),Rr=new WeakMap,zT=new WeakMap,YT=new WeakMap,GT=new WeakMap,$T=new WeakMap,Su=new WeakSet,qT=class{constructor(e){var i=this;eIe(this,Su),xy(this,Rr,void 0),xy(this,zT,void 0),xy(this,YT,1),xy(this,GT,null),xy(this,$T,new Map);let n=e.getSettings();Ey(Rr,this,e),Ey(zT,this,n.imeFastEdit?fg.MIXED:fg.CELL),wn(Rr,this).addHook("afterUpdateSettings",function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return Vc(Su,i,iIe).call(i,...o)}),wn(Rr,this).addHook("afterSelection",function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return Vc(Su,i,H6).call(i,...o)}),wn(Rr,this).addHook("afterSelectionFocusSet",function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return Vc(Su,i,H6).call(i,...o)}),wn(Rr,this).addHook("afterSelectionEnd",function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return Vc(Su,i,tIe).call(i,...o)})}getFocusMode(){return wn(zT,this)}setFocusMode(e){Object.values(fg).includes(e)?Ey(zT,this,e):zt(`"${e}" is not a valid focus mode.`)}getRefocusDelay(){return wn(YT,this)}setRefocusDelay(e){Ey(YT,this,e)}setRefocusElementGetter(e){Ey(GT,this,e)}getRefocusElement(){if(typeof wn(GT,this)=="function")return wn(GT,this).call(this);var e;return(e=wn(Rr,this).getActiveEditor())===null||e===void 0?void 0:e.TEXTAREA}focusOnHighlightedCell(e){let i=n=>{var r,o;let s=(r=wn(Rr,this).getSelectedRangeLast())===null||r===void 0?void 0:r.highlight;if(!s)return;let a=wn(Rr,this).runHooks("modifyFocusedElement",s.row,s.col,n);a instanceof HTMLElement||(a=n),a&&!((o=wn(Rr,this).getActiveEditor())!==null&&o!==void 0&&o.isOpened())&&a.focus({preventScroll:!0})};e?i(e):Vc(Su,this,mL).call(this,n=>i(n))}refocusToEditorTextarea(){var e;let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:wn(YT,this),n=this.getRefocusElement();wn(Rr,this).getSettings().imeFastEdit&&!((e=wn(Rr,this).getActiveEditor())!==null&&e!==void 0&&e.isOpened())&&n&&(wn($T,this).has(i)||wn($T,this).set(i,ng(()=>{n.select()},i)),wn($T,this).get(i)())}};function mL(t){var e;let i=(e=wn(Rr,this).getSelectedRangeLast())===null||e===void 0?void 0:e.highlight;if(!i||!wn(Rr,this).selection.isCellVisible(i)){t(null);return}let n=wn(Rr,this).getCell(i.row,i.col,!0);n===null?wn(Rr,this).addHookOnce("afterScroll",()=>{t(wn(Rr,this).getCell(i.row,i.col,!0))}):t(n)}function H6(){Vc(Su,this,mL).call(this,t=>{let{activeElement:e}=wn(Rr,this).rootDocument;e&&RT(e)&&e.blur(),this.focusOnHighlightedCell(t)})}function tIe(){Vc(Su,this,mL).call(this,t=>{this.getFocusMode()===fg.MIXED&&t.nodeName==="TD"&&this.refocusToEditorTextarea()})}function iIe(t){typeof t.imeFastEdit=="boolean"&&this.setFocusMode(t.imeFastEdit?fg.MIXED:fg.CELL)}var uZe=w(be(),1),hZe=w(Q6(),1);var Z6={"&nbsp;":" ","&amp;":"&","&lt;":"<","&gt;":">"},AIe=new RegExp(Object.keys(Z6).map(t=>`(${t})`).join("|"),"gi");function OIe(t){return(t&&t.nodeName||"")==="TABLE"}function yL(t){let e=t.hasColHeaders(),i=t.hasRowHeaders(),n=[e?-1:0,i?-1:0,t.countRows()-1,t.countCols()-1],r=t.getData(...n),o=r.length,s=o>0?r[0].length:0,a=["<table>","</table>"],l=e?["<thead>","</thead>"]:[],c=["<tbody>","</tbody>"],d=i?1:0,u=e?1:0;for(let f=0;f<o;f+=1){let m=e&&f===0,g=[];for(let b=0;b<s;b+=1){let y=!m&&i&&b===0,x="";if(m)x=`<th>${t.getColHeader(b-d)}</th>`;else if(y)x=`<th>${t.getRowHeader(f-u)}</th>`;else{let T=r[f][b],{hidden:O,rowspan:P,colspan:V}=t.getCellMeta(f-u,b-d);if(!O){let F=[];if(P&&F.push(`rowspan="${P}"`),V&&F.push(`colspan="${V}"`),Ri(T))x=`<td ${F.join(" ")}></td>`;else{let k=T.toString().replace("<","&lt;").replace(">","&gt;").replace(/(<br(\s*|\/)>(\r\n|\n)?|\r\n|\n)/g,`<br>\r
`).replace(/\x20/gi,"&nbsp;").replace(/\t/gi,"&#9;");x=`<td ${F.join(" ")}>${k}</td>`}}}g.push(x)}let _=["<tr>",...g,"</tr>"].join("");m?l.splice(1,0,_):c.splice(-1,0,_)}return a.splice(1,0,l.join(""),c.join("")),a.join("")}function wL(t){let e=t.length,i=["<table>"];for(let n=0;n<e;n+=1){let r=t[n],o=r.length,s=[];n===0&&i.push("<tbody>");for(let a=0;a<o;a+=1){let l=r[a],c=Ri(l)?"":l.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/(<br(\s*|\/)>(\r\n|\n)?|\r\n|\n)/g,`<br>\r
`).replace(/\x20{2,}/gi,d=>`<span style="mso-spacerun: yes">${"&nbsp;".repeat(d.length-1)} </span>`).replace(/\t/gi,"&#9;");s.push(`<td>${c}</td>`)}i.push("<tr>",...s,"</tr>"),n+1===e&&i.push("</tbody>")}return i.push("</table>"),i.join("")}function J6(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document,i={},n=e.createDocumentFragment(),r=e.createElement("div");n.appendChild(r);let o=t;if(typeof o=="string"){let T=o.replace(/<td\b[^>]*?>([\s\S]*?)<\/\s*td>/g,O=>{let P=O.match(/<td\b[^>]*?>/g)[0],V=/<p.*?>/g,F=O.substring(P.length,O.lastIndexOf("<")).trim().replaceAll(/\n\s+/g," ").replaceAll(V,`
`).replace(`
`,"").replaceAll(/<\/(.*)>\s+$/mg,"</$1>").replace(/(<(?!br)([^>]+)>)/gi,"").replaceAll(/^&nbsp;$/mg,"");return`${P}${F}</td>`});r.insertAdjacentHTML("afterbegin",`${T}`),o=r.querySelector("table")}if(!o||!OIe(o))return;let s=r.querySelector('meta[name$="enerator"]'),a=o.querySelector("tbody th")!==null,l=o.querySelector("tr"),c=l?Array.from(l.cells).reduce((T,O)=>T+O.colSpan,0)-(a?1:0):0,d=o.tFoot&&Array.from(o.tFoot.rows)||[],u=[],f=!1,m=0,g=0;if(o.tHead){let T=Array.from(o.tHead.rows).filter(O=>{let P=O.querySelector("td")!==null;return P&&u.push(O),!P});m=T.length,f=m>0,m>1?i.nestedHeaders=Array.from(T).reduce((O,P)=>{let V=Array.from(P.cells).reduce((F,k,Z)=>{if(a&&Z===0)return F;let{colSpan:ae,innerHTML:re}=k,ve=ae>1?{label:re,colspan:ae}:re;return F.push(ve),F},[]);return O.push(V),O},[]):f&&(i.colHeaders=Array.from(T[0].children).reduce((O,P,V)=>(a&&V===0||O.push(P.innerHTML),O),[]))}u.length&&(i.fixedRowsTop=u.length),d.length&&(i.fixedRowsBottom=d.length);let _=[...u,...Array.from(o.tBodies).reduce((T,O)=>(T.push(...Array.from(O.rows)),T),[]),...d];g=_.length;let b=new Array(g);for(let T=0;T<g;T++)b[T]=new Array(c);let y=[],x=[];for(let T=0;T<g;T++){let O=_[T],P=Array.from(O.cells),V=P.length;for(let F=0;F<V;F++){let k=P[F],{nodeName:Z,innerHTML:ae,rowSpan:re,colSpan:ve}=k,Pe=b[T].findIndex(Ne=>Ne===void 0);if(Z==="TD"){if(re>1||ve>1){for(let Ue=T;Ue<T+re;Ue++)if(Ue<g)for(let he=Pe;he<Pe+ve;he++)b[Ue][he]=null;let Oe=k.getAttribute("style");Oe&&Oe.includes("mso-ignore:colspan")||y.push({col:Pe,row:T,rowspan:re,colspan:ve})}let Ne="";s&&/excel/gi.test(s.content)?Ne=ae.replace(/[\r\n][\x20]{0,2}/g," ").replace(/<br(\s*|\/)>[\r\n]?[\x20]{0,3}/gim,`\r
`):Ne=ae.replace(/<br(\s*|\/)>[\r\n]?/gim,`\r
`),b[T][Pe]=Ne.replace(AIe,Oe=>Z6[Oe])}else x.push(ae)}}return y.length&&(i.mergeCells=y),x.length&&(i.rowHeaders=x),b.length&&(i.data=b),i}var BZe=w(Q(),1);var SZe=w(Q(),1);var pZe=w(Fi(),1),gZe=w(Hi(),1),bZe=w(Vi(),1),vZe=w(Bi(),1),_Ze=w(Wi(),1),yZe=w(ji(),1),wZe=w(Ui(),1);function Qn(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=typeof t;if(i==="number")return!isNaN(t)&&isFinite(t);if(i==="string"){if(t.length===0)return!1;if(t.length===1)return/\d/.test(t);let n=Array.from(new Set([".",...e])).map(r=>`\\${r}`).join("|");return new RegExp(`^[+-]?(((${n})?\\d+((${n})\\d+)?(e[+-]?\\d+)?)|(0x[a-f\\d]+))$`,"i").test(t.trim())}else if(i==="object")return!!t&&typeof t.valueOf()=="number"&&!(t instanceof Date);return!1}function e9(t){return Qn(t,[","])}function Se(t,e,i){let n=-1;for(typeof e=="function"?(i=e,e=t):n=t-1;++n<=e&&i(n)!==!1;);}function Ry(t,e,i){let n=t+1;for(typeof e=="function"&&(i=e,e=0);--n>=e&&i(n)!==!1;);}function KT(t,e){return e=parseInt(e.toString().replace("%",""),10),e=isNaN(e)?0:e,parseInt(t*e/100,10)}function mi(t,e,i){return Math.min(t,e)===t?e:Math.max(t,i)===t?i:t}var CL="asc",PIe="desc",t9=new Map([[CL,[-1,1]],[PIe,[1,-1]]]),kIe=t=>`The priority '${t}' is already declared in a map.`,NIe=t=>`The priority '${t}' is not a number.`;function i9(){let{errorPriorityExists:t,errorPriorityNaN:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=new Map;t=ti(t)?t:kIe,e=ti(e)?e:NIe;function n(o,s){if(!Qn(o))throw new Error(e(o));if(i.has(o))throw new Error(t(o));i.set(o,s)}function r(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:CL,[s,a]=t9.get(o)||t9.get(CL);return[...i].sort((l,c)=>l[0]<c[0]?s:a).map(l=>l[1])}return{addItem:n,getItems:r}}var TZe=w(Q(),1);var LIe=t=>`The id '${t}' is already declared in a map.`;function xu(){let{errorIdExists:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=new Map;t=ti(t)?t:LIe;function i(c,d){if(l(c))throw new Error(t(c));e.set(c,d)}function n(c){return e.delete(c)}function r(){e.clear()}function o(c){let[d]=a().find(u=>{let[f,m]=u;return c===m?f:!1})||[null];return d}function s(c){return e.get(c)}function a(){return[...e]}function l(c){return e.has(c)}return{addItem:i,clear:r,getId:o,getItem:s,getItems:a,hasItem:l,removeItem:n}}var MZe=w(Q(),1),AZe=w(Fi(),1),OZe=w(Hi(),1),PZe=w(Vi(),1),kZe=w(Bi(),1),NZe=w(Wi(),1),LZe=w(ji(),1),FZe=w(Ui(),1);var FIe=t=>`'${t}' value is already declared in a unique set.`;function n9(){let{errorItemExists:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=new Set;t=ti(t)?t:FIe;function i(o){if(e.has(o))throw new Error(t(o));e.add(o)}function n(){return[...e]}function r(){e.clear()}return{addItem:i,clear:r,getItems:n}}var xL=t=>`There is already registered "${t}" plugin.`,HIe=t=>`There is already registered plugin on priority "${t}".`,VIe=t=>`The priority "${t}" is not a number.`,r9=i9({errorPriorityExists:HIe,errorPriorityNaN:VIe}),o9=n9({errorItemExists:xL}),SL=xu({errorIdExists:xL});function XT(){return[...r9.getItems(),...o9.getItems()]}function QT(t){let e=Ur(t);return SL.getItem(e)}function s9(t){return!!QT(t)}function yi(t,e,i){[t,e,i]=WIe(t,e,i),QT(t)===void 0&&BIe(t,e,i)}function BIe(t,e,i){let n=Ur(t);if(SL.hasItem(n))throw new Error(xL(n));i===void 0?o9.addItem(n):r9.addItem(i,n),SL.addItem(n,e)}function WIe(t,e,i){return typeof t=="function"&&(e=t,t=e.PLUGIN_KEY,i=e.PLUGIN_PRIORITY),[t,e,i]}var GZe=w(Q(),1);var{register:jIe,getItem:UIe,hasItem:EL,getNames:qZe,getValues:KZe}=Kn("renderers");function RL(t){if(typeof t=="function")return t;if(!EL(t))throw Error(`No registered renderer found under "${t}" name`);return UIe(t)}function Uo(t,e){typeof t!="string"&&(e=t,t=e.RENDERER_TYPE),jIe(t,e)}var QZe=w(Q(),1);var{register:zIe,getItem:YIe,hasItem:TL,getNames:JZe,getValues:eJe}=Kn("validators");function a9(t){if(typeof t=="function")return t;if(!TL(t))throw Error(`No registered validator found under "${t}" name`);return YIe(t)}function Eu(t,e){typeof t!="string"&&(e=t,t=e.VALIDATOR_TYPE),zIe(t,e)}var zrt=w(Q(),1),Yrt=w(be(),1);var iJe=w(Q(),1);function ZT(t,e,i){return e=GIe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function GIe(t){var e=$Ie(t,"string");return typeof e=="symbol"?e:e+""}function $Ie(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ty=class{constructor(e){ZT(this,"count",0),ZT(this,"startColumn",0),ZT(this,"endColumn",0),ZT(this,"startPosition",0),this.count=e.totalColumns,this.endColumn=this.count-1}};var rJe=w(Q(),1);function JT(t,e,i){return e=qIe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function qIe(t){var e=KIe(t,"string");return typeof e=="symbol"?e:e+""}function KIe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Iy=class{constructor(e){JT(this,"count",0),JT(this,"startRow",0),JT(this,"endRow",0),JT(this,"startPosition",0),this.count=e.totalRows,this.endRow=this.count-1}};var lJe=w(Q(),1),cJe=w(IL(),1),dJe=w(be(),1);function tDe(t,e,i){iDe(t,e),e.set(t,i)}function iDe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Dy(t,e,i){return e=nDe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function nDe(t){var e=rDe(t,"string");return typeof e=="symbol"?e:e+""}function rDe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pg(t,e){return t.get(l9(t,e))}function oDe(t,e,i){return t.set(l9(t,e),i),i}function l9(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var Ru=new WeakMap,Il=class t{static get DEFAULT_WIDTH(){return 50}constructor(e){Dy(this,"count",0),Dy(this,"startColumn",null),Dy(this,"endColumn",null),Dy(this,"startPosition",null),Dy(this,"isVisibleInTrimmingContainer",!1),tDe(this,Ru,void 0),oDe(Ru,this,e),this.calculate()}calculate(){let{calculationType:e,overrideFn:i,scrollOffset:n,totalColumns:r,viewportWidth:o}=pg(Ru,this),s=Math.max(pg(Ru,this).scrollOffset,0),a=s>0?o+1:o,l=0,c=!0,d=[],u,f=0,m=0;for(let y=0;y<r;y++)if(u=this._getColumnWidth(y),l<=s&&e!==2&&(this.startColumn=y,f=u),l>=s&&l+(e===2?u:0)<=s+a&&((this.startColumn===null||this.startColumn===void 0)&&(this.startColumn=y,f=u),this.endColumn=y),d.push(l),l+=u,m=u,e!==2&&(this.endColumn=y),l>=s+o){c=!1;break}let g=n+o-a,_=e===2?0:m,b=e===2?f:0;if(g<-1*pg(Ru,this).inlineStartOffset||n>d.at(-1)+_||-1*pg(Ru,this).scrollOffset-pg(Ru,this).viewportWidth>-1*b?this.isVisibleInTrimmingContainer=!1:this.isVisibleInTrimmingContainer=!0,this.endColumn===r-1&&c)for(this.startColumn=this.endColumn;this.startColumn>0;){let y=d[this.endColumn]+u-d[this.startColumn-1];if((y<=o||e!==2)&&(this.startColumn-=1),y>o)break}e===1&&this.startColumn!==null&&i&&i(this),this.startPosition=d[this.startColumn],this.startPosition===void 0&&(this.startPosition=null),r<this.endColumn&&(this.endColumn=r-1),this.startColumn!==null&&(this.count=this.endColumn-this.startColumn+1)}_getColumnWidth(e){let i=pg(Ru,this).columnWidthFn(e);return isNaN(i)&&(i=t.DEFAULT_WIDTH),i}};var hJe=w(Q(),1),fJe=w(IL(),1),mJe=w(be(),1);function sDe(t,e,i){aDe(t,e),e.set(t,i)}function aDe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function My(t,e,i){return e=lDe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function lDe(t){var e=cDe(t,"string");return typeof e=="symbol"?e:e+""}function cDe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DL(t,e){return t.get(c9(t,e))}function dDe(t,e,i){return t.set(c9(t,e),i),i}function c9(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var Ay=new WeakMap,Iu=class t{static get DEFAULT_HEIGHT(){return 23}constructor(e){My(this,"count",0),My(this,"startRow",null),My(this,"endRow",null),My(this,"startPosition",null),My(this,"isVisibleInTrimmingContainer",!1),sDe(this,Ay,void 0),dDe(Ay,this,e),this.calculate()}calculate(){let{calculationType:e,overrideFn:i,rowHeightFn:n,scrollOffset:r,totalRows:o,viewportHeight:s}=DL(Ay,this),a=Math.max(DL(Ay,this).scrollOffset,0),l=DL(Ay,this).horizontalScrollbarHeight||0,c=a+s-l,d=0,u=!0,f=[],m,g=0,_=0;for(let T=0;T<o;T++)if(m=n(T),isNaN(m)&&(m=t.DEFAULT_HEIGHT),d<=a&&e!==2&&(this.startRow=T,g=m),d>=a&&d+(e===2?m:0)<=c&&(this.startRow===null&&(this.startRow=T,g=m),this.endRow=T),f.push(d),d+=m,_=m,e!==2&&(this.endRow=T),d>=c){u=!1;break}let b=r+s-l,y=e===2?g:0,x=e===2?0:_;if(b<y||r>f.at(-1)+x?this.isVisibleInTrimmingContainer=!1:this.isVisibleInTrimmingContainer=!0,this.endRow===o-1&&u)for(this.startRow=this.endRow;this.startRow>0;){let T=f[this.endRow]+m-f[this.startRow-1];if((T<=s-l||e!==2)&&(this.startRow-=1),T>=s-l)break}e===1&&this.startRow!==null&&i&&i(this),this.startPosition=f[this.startRow],this.startPosition===void 0&&(this.startPosition=null),o<this.endRow&&(this.endRow=o-1),this.startRow!==null&&(this.count=this.endRow-this.startRow+1)}};var CJe=w(Q(),1);function uDe(t,e,i){hDe(t,e),e.set(t,i)}function hDe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function d9(t,e,i){return e=fDe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function fDe(t){var e=mDe(t,"string");return typeof e=="symbol"?e:e+""}function mDe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gg(t,e){return t.get(h9(t,e))}function u9(t,e,i){return t.set(h9(t,e),i),i}function h9(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var Bc=new WeakMap,ML=class t{constructor(e,i){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;d9(this,"row",null),d9(this,"col",null),uDe(this,Bc,!1),u9(Bc,this,n),typeof e<"u"&&typeof i<"u"&&(this.row=e,this.col=i)}isValid(e){let{countRows:i,countCols:n,countRowHeaders:r,countColHeaders:o}=ee({countRows:0,countCols:0,countRowHeaders:0,countColHeaders:0},e);return!(!Number.isInteger(this.row)||!Number.isInteger(this.col)||this.row<-o||this.col<-r||this.row>=i||this.col>=n)}isEqual(e){return e===this?!0:this.row===e.row&&this.col===e.col}isHeader(){return!this.isCell()}isCell(){return this.row>=0&&this.col>=0}isRtl(){return gg(Bc,this)}isSouthEastOf(e){return this.row>=e.row&&(gg(Bc,this)?this.col<=e.col:this.col>=e.col)}isNorthWestOf(e){return this.row<=e.row&&(gg(Bc,this)?this.col>=e.col:this.col<=e.col)}isSouthWestOf(e){return this.row>=e.row&&(gg(Bc,this)?this.col>=e.col:this.col<=e.col)}isNorthEastOf(e){return this.row<=e.row&&(gg(Bc,this)?this.col<=e.col:this.col>=e.col)}normalize(){return this.row=this.row===null?this.row:Math.max(this.row,0),this.col=this.col===null?this.col:Math.max(this.col,0),this}assign(e){return Number.isInteger(e?.row)&&(this.row=e.row),Number.isInteger(e?.col)&&(this.col=e.col),e instanceof t&&u9(Bc,this,e.isRtl()),this}clone(){return new t(this.row,this.col,gg(Bc,this))}toObject(){return{row:this.row,col:this.col}}},Du=ML;var EJe=w(Q(),1),RJe=w(be(),1);function pDe(t,e,i){gDe(t,e),e.set(t,i)}function gDe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function AL(t,e,i){return e=bDe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function bDe(t){var e=vDe(t,"string");return typeof e=="symbol"?e:e+""}function vDe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zs(t,e){return t.get(f9(t,e))}function _De(t,e,i){return t.set(f9(t,e),i),i}function f9(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var zo=new WeakMap,OL=class t{constructor(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;AL(this,"highlight",null),AL(this,"from",null),AL(this,"to",null),pDe(this,zo,!1),this.highlight=e.clone(),this.from=i.clone(),this.to=n.clone(),_De(zo,this,r)}setHighlight(e){return this.highlight=e.clone(),this}setFrom(e){return this.from=e.clone(),this}setTo(e){return this.to=e.clone(),this}isValid(e){return this.from.isValid(e)&&this.to.isValid(e)}isSingle(){return this.isSingleCell()||this.isSingleHeader()}isSingleCell(){return this.from.row>=0&&this.from.row===this.to.row&&this.from.col>=0&&this.from.col===this.to.col}isSingleHeader(){return(this.from.row<0||this.from.col<0)&&this.from.row===this.to.row&&this.from.col===this.to.col}isHeader(){return this.from.isHeader()&&this.to.isHeader()?!0:this.from.col<0&&this.to.col<0||this.from.row<0&&this.to.row<0}containsHeaders(){return this.from.isHeader()||this.to.isHeader()}getOuterHeight(){return Math.max(this.from.row,this.to.row)-Math.min(this.from.row,this.to.row)+1}getOuterWidth(){return Math.max(this.from.col,this.to.col)-Math.min(this.from.col,this.to.col)+1}getHeight(){if(this.from.row<0&&this.to.row<0)return 0;let e=Math.max(this.from.row,0),i=Math.max(this.to.row,0);return Math.max(e,i)-Math.min(e,i)+1}getWidth(){if(this.from.col<0&&this.to.col<0)return 0;let e=Math.max(this.from.col,0),i=Math.max(this.to.col,0);return Math.max(e,i)-Math.min(e,i)+1}getCellsCount(){return this.getWidth()*this.getHeight()}includes(e){let{row:i,col:n}=e,r=this.getOuterTopStartCorner(),o=this.getOuterBottomEndCorner();return r.row<=i&&o.row>=i&&r.col<=n&&o.col>=n}includesRange(e){return this.includes(e.getOuterTopStartCorner())&&this.includes(e.getOuterBottomEndCorner())}isEqual(e){return Math.min(this.from.row,this.to.row)===Math.min(e.from.row,e.to.row)&&Math.max(this.from.row,this.to.row)===Math.max(e.from.row,e.to.row)&&Math.min(this.from.col,this.to.col)===Math.min(e.from.col,e.to.col)&&Math.max(this.from.col,this.to.col)===Math.max(e.from.col,e.to.col)}overlaps(e){return e.isSouthEastOf(this.getOuterTopLeftCorner())&&e.isNorthWestOf(this.getOuterBottomRightCorner())}isSouthEastOf(e){return this.getOuterTopLeftCorner().isSouthEastOf(e)||this.getOuterBottomRightCorner().isSouthEastOf(e)}isNorthWestOf(e){return this.getOuterTopLeftCorner().isNorthWestOf(e)||this.getOuterBottomRightCorner().isNorthWestOf(e)}isOverlappingHorizontally(e){return this.getOuterTopEndCorner().col>=e.getOuterTopStartCorner().col&&this.getOuterTopEndCorner().col<=e.getOuterTopEndCorner().col||this.getOuterTopStartCorner().col<=e.getOuterTopEndCorner().col&&this.getOuterTopStartCorner().col>=e.getOuterTopStartCorner().col}isOverlappingVertically(e){return this.getOuterBottomStartCorner().row>=e.getOuterTopRightCorner().row&&this.getOuterBottomStartCorner().row<=e.getOuterBottomStartCorner().row||this.getOuterTopEndCorner().row<=e.getOuterBottomStartCorner().row&&this.getOuterTopEndCorner().row>=e.getOuterTopRightCorner().row}expand(e){let i=this.getOuterTopStartCorner(),n=this.getOuterBottomEndCorner();return e.row<i.row||e.col<i.col||e.row>n.row||e.col>n.col?(this.from=this._createCellCoords(Math.min(i.row,e.row),Math.min(i.col,e.col)),this.to=this._createCellCoords(Math.max(n.row,e.row),Math.max(n.col,e.col)),!0):!1}expandByRange(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(this.includesRange(e)||!this.overlaps(e))return!1;let n=this.getOuterTopStartCorner(),r=this.getOuterBottomEndCorner(),o=this.getDirection(),s=e.getOuterTopStartCorner(),a=e.getOuterBottomEndCorner(),l=Math.min(n.row,s.row),c=Math.min(n.col,s.col),d=Math.max(r.row,a.row),u=Math.max(r.col,a.col),f=this._createCellCoords(l,c),m=this._createCellCoords(d,u);return this.from=f,this.to=m,this.setDirection(o),i&&(this.highlight.row===this.getOuterBottomRightCorner().row&&this.getVerticalDirection()==="N-S"&&this.flipDirectionVertically(),this.highlight.col===this.getOuterTopRightCorner().col&&this.getHorizontalDirection()==="W-E"&&this.flipDirectionHorizontally()),!0}getDirection(){if(this.from.isNorthWestOf(this.to))return"NW-SE";if(this.from.isNorthEastOf(this.to))return"NE-SW";if(this.from.isSouthEastOf(this.to))return"SE-NW";if(this.from.isSouthWestOf(this.to))return"SW-NE"}setDirection(e){switch(e){case"NW-SE":[this.from,this.to]=[this.getOuterTopLeftCorner(),this.getOuterBottomRightCorner()];break;case"NE-SW":[this.from,this.to]=[this.getOuterTopRightCorner(),this.getOuterBottomLeftCorner()];break;case"SE-NW":[this.from,this.to]=[this.getOuterBottomRightCorner(),this.getOuterTopLeftCorner()];break;case"SW-NE":[this.from,this.to]=[this.getOuterBottomLeftCorner(),this.getOuterTopRightCorner()];break;default:break}}getVerticalDirection(){return["NE-SW","NW-SE"].indexOf(this.getDirection())>-1?"N-S":"S-N"}getHorizontalDirection(){return["NW-SE","SW-NE"].indexOf(this.getDirection())>-1?"W-E":"E-W"}flipDirectionVertically(){switch(this.getDirection()){case"NW-SE":this.setDirection("SW-NE");break;case"NE-SW":this.setDirection("SE-NW");break;case"SE-NW":this.setDirection("NE-SW");break;case"SW-NE":this.setDirection("NW-SE");break;default:break}}flipDirectionHorizontally(){switch(this.getDirection()){case"NW-SE":this.setDirection("NE-SW");break;case"NE-SW":this.setDirection("NW-SE");break;case"SE-NW":this.setDirection("SW-NE");break;case"SW-NE":this.setDirection("SE-NW");break;default:break}}getTopStartCorner(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.min(this.from.col,this.to.col)).normalize()}getTopLeftCorner(){return Zs(zo,this)?this.getTopEndCorner():this.getTopStartCorner()}getBottomEndCorner(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.max(this.from.col,this.to.col)).normalize()}getBottomRightCorner(){return Zs(zo,this)?this.getBottomStartCorner():this.getBottomEndCorner()}getTopEndCorner(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.max(this.from.col,this.to.col)).normalize()}getTopRightCorner(){return Zs(zo,this)?this.getTopStartCorner():this.getTopEndCorner()}getBottomStartCorner(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.min(this.from.col,this.to.col)).normalize()}getBottomLeftCorner(){return Zs(zo,this)?this.getBottomEndCorner():this.getBottomStartCorner()}getOuterTopStartCorner(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))}getOuterTopLeftCorner(){return Zs(zo,this)?this.getOuterTopEndCorner():this.getOuterTopStartCorner()}getOuterBottomEndCorner(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))}getOuterBottomRightCorner(){return Zs(zo,this)?this.getOuterBottomStartCorner():this.getOuterBottomEndCorner()}getOuterTopEndCorner(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))}getOuterTopRightCorner(){return Zs(zo,this)?this.getOuterTopStartCorner():this.getOuterTopEndCorner()}getOuterBottomStartCorner(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))}getOuterBottomLeftCorner(){return Zs(zo,this)?this.getOuterBottomEndCorner():this.getOuterBottomStartCorner()}isCorner(e){return e.isEqual(this.getOuterTopLeftCorner())||e.isEqual(this.getOuterTopRightCorner())||e.isEqual(this.getOuterBottomLeftCorner())||e.isEqual(this.getOuterBottomRightCorner())}getOppositeCorner(e){if(!(e instanceof Du))return!1;if(e.isEqual(this.getOuterBottomEndCorner()))return this.getOuterTopStartCorner();if(e.isEqual(this.getOuterTopStartCorner()))return this.getOuterBottomEndCorner();if(e.isEqual(this.getOuterTopEndCorner()))return this.getOuterBottomStartCorner();if(e.isEqual(this.getOuterBottomStartCorner()))return this.getOuterTopEndCorner()}getBordersSharedWith(e){if(!this.includesRange(e))return[];let i={top:Math.min(this.from.row,this.to.row),bottom:Math.max(this.from.row,this.to.row),left:Math.min(this.from.col,this.to.col),right:Math.max(this.from.col,this.to.col)},n={top:Math.min(e.from.row,e.to.row),bottom:Math.max(e.from.row,e.to.row),left:Math.min(e.from.col,e.to.col),right:Math.max(e.from.col,e.to.col)},r=[];return i.top===n.top&&r.push("top"),i.right===n.right&&r.push(Zs(zo,this)?"left":"right"),i.bottom===n.bottom&&r.push("bottom"),i.left===n.left&&r.push(Zs(zo,this)?"right":"left"),r}getInner(){let e=this.getOuterTopStartCorner(),i=this.getOuterBottomEndCorner(),n=[];for(let r=e.row;r<=i.row;r++)for(let o=e.col;o<=i.col;o++)!(this.from.row===r&&this.from.col===o)&&!(this.to.row===r&&this.to.col===o)&&n.push(this._createCellCoords(r,o));return n}getAll(){let e=this.getOuterTopStartCorner(),i=this.getOuterBottomEndCorner(),n=[];for(let r=e.row;r<=i.row;r++)for(let o=e.col;o<=i.col;o++)e.row===r&&e.col===o?n.push(e):i.row===r&&i.col===o?n.push(i):n.push(this._createCellCoords(r,o));return n}forAll(e){let i=this.getOuterTopStartCorner(),n=this.getOuterBottomEndCorner();for(let r=i.row;r<=n.row;r++)for(let o=i.col;o<=n.col;o++)if(e(r,o)===!1)return}clone(){return new t(this.highlight,this.from,this.to,Zs(zo,this))}toObject(){return{from:this.from.toObject(),to:this.to.toObject()}}_createCellCoords(e,i){return new Du(e,i,Zs(zo,this))}},lf=OL;var wrt=w(be(),1);var DJe=w(Q(),1);function Dl(t,e,i){yDe(t,e),e.set(t,i)}function yDe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ft(t,e){return t.get(m9(t,e))}function Mu(t,e,i){return t.set(m9(t,e),i),i}function m9(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var Js=new WeakMap,PL=new WeakMap,Tr=new WeakMap,bg=new WeakMap,eI=new WeakMap,Wa=new WeakMap,kL=new WeakMap,Oy=new WeakMap,cf=new WeakMap,Ml=new WeakMap,NL=class{constructor(e,i,n,r,o,s){let a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null;Dl(this,Js,void 0),Dl(this,PL,void 0),Dl(this,Tr,void 0),Dl(this,bg,void 0),Dl(this,eI,void 0),Dl(this,Wa,void 0),Dl(this,kL,void 0),Dl(this,Oy,void 0),Dl(this,cf,[null,null]),Dl(this,Ml,[null,null]),Mu(Js,this,n),Mu(PL,this,i),Mu(Tr,this,o),Mu(bg,this,s),Mu(eI,this,a),Mu(Wa,this,r),Mu(kL,this,e),this.registerEvents()}registerEvents(){ft(Wa,this).addEventListener(ft(Tr,this).holder,"contextmenu",n=>this.onContextMenu(n)),ft(Wa,this).addEventListener(ft(Tr,this).TABLE,"mouseover",n=>this.onMouseOver(n)),ft(Wa,this).addEventListener(ft(Tr,this).TABLE,"mouseout",n=>this.onMouseOut(n));let e=()=>{ft(Wa,this).addEventListener(ft(Tr,this).holder,"touchstart",n=>this.onTouchStart(n)),ft(Wa,this).addEventListener(ft(Tr,this).holder,"touchend",n=>this.onTouchEnd(n)),this.momentumScrolling||(this.momentumScrolling={}),ft(Wa,this).addEventListener(ft(Tr,this).holder,"scroll",()=>{clearTimeout(this.momentumScrolling._timeout),this.momentumScrolling.ongoing||ft(Js,this).getSetting("onBeforeTouchScroll"),this.momentumScrolling.ongoing=!0,this.momentumScrolling._timeout=setTimeout(()=>{this.touchApplied||(this.momentumScrolling.ongoing=!1,ft(Js,this).getSetting("onAfterMomentumScroll"))},200)})},i=()=>{ft(Wa,this).addEventListener(ft(Tr,this).holder,"mouseup",n=>this.onMouseUp(n)),ft(Wa,this).addEventListener(ft(Tr,this).holder,"mousedown",n=>this.onMouseDown(n))};fs()?e():(OT()&&e(),i())}selectedCellWasTouched(e){let n=this.parentCell(e).coords;if(ft(Oy,this)&&n){let[r,o]=[n.row,ft(Oy,this).from.row],[s,a]=[n.col,ft(Oy,this).from.col];return r===o&&s===a}return!1}parentCell(e){let i={},n=ft(Tr,this).TABLE,r=by(e,["TD","TH"],n);return r?(i.coords=ft(Tr,this).getCoords(r),i.TD=r):Fe(e,"wtBorder")&&Fe(e,"current")?(i.coords=ft(bg,this).getFocusSelection().cellRange.highlight,i.TD=ft(Tr,this).getCell(i.coords)):Fe(e,"wtBorder")&&Fe(e,"area")&&ft(bg,this).getAreaSelection().cellRange&&(i.coords=ft(bg,this).getAreaSelection().cellRange.to,i.TD=ft(Tr,this).getCell(i.coords)),i}onMouseDown(e){let i=ft(PL,this).rootDocument.activeElement,n=IT(FX,e.target),r=e.target;if(!["TD","TH"].includes(i.nodeName)&&(r===i||n(0)===i||n(1)===i))return;let o=this.parentCell(r);Fe(r,"corner")?ft(Js,this).getSetting("onCellCornerMouseDown",e,r):o.TD&&ft(Js,this).has("onCellMouseDown")&&this.callListener("onCellMouseDown",e,o.coords,o.TD),(e.button===0||this.touchApplied)&&o.TD&&(ft(Ml,this)[0]=o.TD,clearTimeout(ft(cf,this)[0]),ft(cf,this)[0]=setTimeout(()=>{ft(Ml,this)[0]=null},1e3))}onContextMenu(e){if(ft(Js,this).has("onCellContextMenu")){let i=this.parentCell(e.target);i.TD&&this.callListener("onCellContextMenu",e,i.coords,i.TD)}}onMouseOver(e){if(!ft(Js,this).has("onCellMouseOver"))return;let i=ft(Tr,this).TABLE,n=by(e.target,["TD","TH"],i),r=ft(eI,this)||this;n&&n!==r.lastMouseOver&&Ha(n,i)&&(r.lastMouseOver=n,this.callListener("onCellMouseOver",e,ft(Tr,this).getCoords(n),n))}onMouseOut(e){if(!ft(Js,this).has("onCellMouseOut"))return;let i=ft(Tr,this).TABLE,n=by(e.target,["TD","TH"],i),r=by(e.relatedTarget,["TD","TH"],i),o=ft(eI,this)||this;n&&n!==r&&Ha(n,i)&&(this.callListener("onCellMouseOut",e,ft(Tr,this).getCoords(n),n),r===null&&(o.lastMouseOver=null))}onMouseUp(e){let i=this.parentCell(e.target);i.TD&&ft(Js,this).has("onCellMouseUp")&&this.callListener("onCellMouseUp",e,i.coords,i.TD),!(e.button!==0&&!this.touchApplied)&&(i.TD===ft(Ml,this)[0]&&i.TD===ft(Ml,this)[1]?(Fe(e.target,"corner")?this.callListener("onCellCornerDblClick",e,i.coords,i.TD):this.callListener("onCellDblClick",e,i.coords,i.TD),ft(Ml,this)[0]=null,ft(Ml,this)[1]=null):i.TD===ft(Ml,this)[0]&&(ft(Ml,this)[1]=i.TD,clearTimeout(ft(cf,this)[1]),ft(cf,this)[1]=setTimeout(()=>{ft(Ml,this)[1]=null},500)))}onTouchStart(e){Mu(Oy,this,ft(bg,this).getFocusSelection().cellRange),this.touchApplied=!0,this.onMouseDown(e)}onTouchEnd(e){var i;let n=e.target,r=(i=this.parentCell(n))===null||i===void 0?void 0:i.coords,o=xe(r)&&r.row>=0&&r.col>=0;if(e.cancelable&&o&&ft(Js,this).getSetting("isDataViewInstance")){let a=["A","BUTTON","INPUT"];NT()&&(p6()||g6())&&this.selectedCellWasTouched(n)&&!a.includes(n.tagName)?e.preventDefault():this.selectedCellWasTouched(n)||e.preventDefault()}this.onMouseUp(e),this.touchApplied=!1}callListener(e,i,n,r){let o=ft(Js,this).getSettingPure(e);o&&o(i,n,r,ft(kL,this).call(this))}destroy(){clearTimeout(ft(cf,this)[0]),clearTimeout(ft(cf,this)[1]),ft(Wa,this).destroy()}},tI=NL;var Znt=w(Q(),1),Jnt=w(be(),1);var ett=w(Q(),1),ttt=w(be(),1);var LJe=w(Q(),1);function LL(t,e,i){return e=wDe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function wDe(t){var e=CDe(t,"string");return typeof e=="symbol"?e:e+""}function CDe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FL=class{constructor(e,i,n){LL(this,"offset",void 0),LL(this,"total",void 0),LL(this,"countTH",void 0),this.offset=e,this.total=i,this.countTH=n}offsetted(e){return e+this.offset}unOffsetted(e){return e-this.offset}renderedToSource(e){return this.offsetted(e)}sourceToRendered(e){return this.unOffsetted(e)}offsettedTH(e){return e-this.countTH}unOffsettedTH(e){return e+this.countTH}visibleRowHeadedColumnToSourceColumn(e){return this.renderedToSource(this.offsettedTH(e))}sourceColumnToVisibleRowHeadedColumn(e){return this.unOffsettedTH(this.sourceToRendered(e))}},p9=FL;var HJe=w(Q(),1);function HL(t,e,i){return e=SDe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function SDe(t){var e=xDe(t,"string");return typeof e=="symbol"?e:e+""}function xDe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VL=class{constructor(e,i,n){HL(this,"offset",void 0),HL(this,"total",void 0),HL(this,"countTH",void 0),this.offset=e,this.total=i,this.countTH=n}offsetted(e){return e+this.offset}unOffsetted(e){return e-this.offset}renderedToSource(e){return this.offsetted(e)}sourceToRendered(e){return this.unOffsetted(e)}offsettedTH(e){return e-this.countTH}unOffsettedTH(e){return e+this.countTH}visibleColHeadedRowToSourceRow(e){return this.renderedToSource(this.offsettedTH(e))}sourceRowToVisibleColHeadedRow(e){return this.unOffsettedTH(this.sourceToRendered(e))}},g9=VL;var set=w(Q(),1);var GJe=w(Q(),1),$Je=w(be(),1);var UJe=w(Q(),1);var BJe=w(Q(),1);function iI(t,e,i){return e=EDe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function EDe(t){var e=RDe(t,"string");return typeof e=="symbol"?e:e+""}function RDe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Py=class{constructor(){iI(this,"currentSize",0),iI(this,"nextSize",0),iI(this,"currentOffset",0),iI(this,"nextOffset",0)}setSize(e){this.currentSize=this.nextSize,this.nextSize=e}setOffset(e){this.currentOffset=this.nextOffset,this.nextOffset=e}};function BL(t,e,i){return e=TDe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function TDe(t){var e=IDe(t,"string");return typeof e=="symbol"?e:e+""}function IDe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nI=class{constructor(){BL(this,"size",new Py),BL(this,"workingSpace",0),BL(this,"sharedSize",null)}setSize(e){this.size.setSize(e)}setOffset(e){this.size.setOffset(e)}getViewSize(){return this.size}isShared(){return this.sharedSize instanceof Py}isPlaceOn(e){return this.workingSpace===e}append(e){this.workingSpace=1,e.workingSpace=2,this.sharedSize=e.getViewSize()}prepend(e){this.workingSpace=2,e.workingSpace=1,this.sharedSize=e.getViewSize()}};function vg(t,e,i){return e=DDe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function DDe(t){var e=MDe(t,"string");return typeof e=="symbol"?e:e+""}function MDe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var df=class{constructor(e,i,n){vg(this,"rootNode",void 0),vg(this,"nodesPool",void 0),vg(this,"sizeSet",new nI),vg(this,"childNodeType",void 0),vg(this,"visualIndex",0),vg(this,"collectedNodes",[]),this.rootNode=e,this.nodesPool=i,this.childNodeType=n.toUpperCase()}setSize(e){return this.sizeSet.setSize(e),this}setOffset(e){return this.sizeSet.setOffset(e),this}isSharedViewSet(){return this.sizeSet.isShared()}getNode(e){return e<this.collectedNodes.length?this.collectedNodes[e]:null}getCurrentNode(){let e=this.collectedNodes.length;return e>0?this.collectedNodes[e-1]:null}getRenderedChildCount(){let{rootNode:e,sizeSet:i}=this,n=0;if(this.isSharedViewSet()){let r=e.firstElementChild;for(;r;){if(r.tagName===this.childNodeType)n+=1;else if(i.isPlaceOn(1))break;r=r.nextElementSibling}}else n=e.childElementCount;return n}start(){this.collectedNodes.length=0,this.visualIndex=0;let{rootNode:e,sizeSet:i}=this,n=this.isSharedViewSet(),{nextSize:r}=i.getViewSize(),o=this.getRenderedChildCount();for(;o<r;){let a=this.nodesPool();!n||n&&i.isPlaceOn(2)?e.appendChild(a):e.insertBefore(a,e.firstChild),o+=1}let s=n&&i.isPlaceOn(1);for(;o>r;)e.removeChild(s?e.firstChild:e.lastChild),o-=1}render(){let{rootNode:e,sizeSet:i}=this,n=this.visualIndex;this.isSharedViewSet()&&i.isPlaceOn(2)&&(n+=i.sharedSize.nextSize);let r=e.childNodes[n];if(r.tagName!==this.childNodeType){let o=this.nodesPool();e.replaceChild(o,r),r=o}this.collectedNodes.push(r),this.visualIndex+=1}end(){}};var uf=class extends df{prependView(e){return this.sizeSet.prepend(e.sizeSet),e.sizeSet.append(this.sizeSet),this}appendView(e){return this.sizeSet.append(e.sizeSet),e.sizeSet.prepend(this.sizeSet),this}};var net=w(Q(),1);var tet=w(Q(),1);function ADe(t,e,i){return e=ODe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function ODe(t){var e=PDe(t,"string");return typeof e=="symbol"?e:e+""}function PDe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rI=class{constructor(e){ADe(this,"nodeType",void 0),this.nodeType=e.toUpperCase()}setRootDocument(e){this.rootDocument=e}obtain(){return this.rootDocument.createElement(this.nodeType)}};function ky(t,e,i){return e=kDe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function kDe(t){var e=NDe(t,"string");return typeof e=="symbol"?e:e+""}function NDe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ea=class{constructor(e,i){ky(this,"nodesPool",null),ky(this,"nodeType",void 0),ky(this,"rootNode",void 0),ky(this,"table",null),ky(this,"renderedNodes",0),this.nodesPool=typeof e=="string"?new rI(e):null,this.nodeType=e,this.rootNode=i}setTable(e){this.nodesPool&&this.nodesPool.setRootDocument(e.rootDocument),this.table=e}adjust(){}render(){}};function b9(t,e,i){return e=LDe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function LDe(t){var e=FDe(t,"string");return typeof e=="symbol"?e:e+""}function FDe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oI=class extends ea{constructor(){super("TH"),b9(this,"orderViews",new WeakMap),b9(this,"sourceRowIndex",0)}obtainOrderView(e){let i;return this.orderViews.has(e)?i=this.orderViews.get(e):(i=new uf(e,n=>this.nodesPool.obtain(this.sourceRowIndex,n),this.nodeType),this.orderViews.set(e,i)),i}render(){let{rowsToRender:e,rowHeaderFunctions:i,rowHeadersCount:n,rows:r,cells:o}=this.table;for(let s=0;s<e;s++){let a=this.table.renderedRowToSource(s),l=r.getRenderedNode(s);this.sourceRowIndex=a;let c=this.obtainOrderView(l),d=o.obtainOrderView(l);c.appendView(d).setSize(n).setOffset(this.table.renderedColumnToSource(0)).start();for(let u=0;u<n;u++){c.render();let f=c.getCurrentNode();f.className="",f.removeAttribute("style"),$s(f,[new RegExp("aria-(.*)"),new RegExp("role")]),this.table.isAriaEnabled()&&Le(f,[gX(),xX(),Zp(u+1),Ys(-1)]),i[u](a,f,u)}c.end()}}};var sI=class extends ea{constructor(e){super(null,e)}adjust(){let{columnHeadersCount:e,rowHeadersCount:i}=this.table,n=this.rootNode.firstChild;if(e){let{columnsToRender:r}=this.table,o=r+i;for(let a=0,l=e;a<l;a++){for(n=this.rootNode.childNodes[a],n||(n=this.table.rootDocument.createElement("tr"),this.rootNode.appendChild(n)),this.renderedNodes=n.childNodes.length;this.renderedNodes<o;)n.appendChild(this.table.rootDocument.createElement("th")),this.renderedNodes+=1;for(;this.renderedNodes>o;)n.removeChild(n.lastChild),this.renderedNodes-=1}let s=this.rootNode.childNodes.length;if(s>e)for(let a=e;a<s;a++)this.rootNode.removeChild(this.rootNode.lastChild)}else n&&xr(n)}render(){let{columnHeadersCount:e}=this.table;this.table.isAriaEnabled()&&Le(this.rootNode,[vT()]);for(let i=0;i<e;i+=1){let{columnHeaderFunctions:n,columnsToRender:r,rowHeadersCount:o}=this.table,s=this.rootNode.childNodes[i];this.table.isAriaEnabled()&&Le(s,[gy(),CT(i+1)]);for(let a=-1*o;a<r;a+=1){let l=this.table.renderedColumnToSource(a),c=s.childNodes[a+o];c.className="",c.removeAttribute("style"),$s(c,[new RegExp("aria-(.*)"),new RegExp("role")]),this.table.isAriaEnabled()&&Le(c,[Zp(a+1+this.table.rowHeadersCount),Ys(-1),bX(),...a>=0?[SX()]:[gy()]]),n[i](l,c,i)}}}};var v9=!1,aI=class extends ea{constructor(e){super(null,e)}adjust(){let{columnsToRender:e,rowHeadersCount:i}=this.table,n=e+i;for(;this.renderedNodes<n;)this.rootNode.appendChild(this.table.rootDocument.createElement("col")),this.renderedNodes+=1;for(;this.renderedNodes>n;)this.rootNode.removeChild(this.rootNode.lastChild),this.renderedNodes-=1}render(){this.adjust();let{columnsToRender:e,rowHeadersCount:i}=this.table;!v9&&e>1e3&&(v9=!0,zt(Dt`Performance tip: Handsontable rendered more than 1000 visible columns.\x20
        Consider limiting the number of rendered columns by specifying the table width and/or\x20
        turning off the "renderAllColumns" option.`));for(let r=0;r<i;r++){let o=this.table.renderedColumnToSource(r),s=this.table.columnUtils.getHeaderWidth(o);this.rootNode.childNodes[r].style.width=`${s}px`}for(let r=0;r<e;r++){let o=this.table.renderedColumnToSource(r),s=this.table.columnUtils.getStretchedColumnWidth(o);this.rootNode.childNodes[r+i].style.width=`${s}px`}let n=this.rootNode.firstChild;n&&ne(n,"rowHeader")}};var Cet=w(Q(),1);function HDe(t,e,i){return e=VDe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function VDe(t){var e=BDe(t,"string");return typeof e=="symbol"?e:e+""}function BDe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _9=!1,lI=class extends ea{constructor(e){super("TR",e),HDe(this,"orderView",void 0),this.orderView=new df(e,i=>this.nodesPool.obtain(i),this.nodeType)}getRenderedNode(e){return this.orderView.getNode(e)}render(){let{rowsToRender:e}=this.table;!_9&&e>1e3&&(_9=!0,zt(Dt`Performance tip: Handsontable rendered more than 1000 visible rows.\x20
        Consider limiting the number of rendered rows by specifying the table height and/or\x20
        turning off the "renderAllRows" option.`)),this.table.isAriaEnabled()&&Le(this.rootNode,[vT()]),this.orderView.setSize(e).setOffset(this.table.renderedRowToSource(0)).start();for(let r=0;r<e;r++){this.orderView.render();let o=this.orderView.getCurrentNode(),s=this.table.renderedRowToSource(r);if(this.table.isAriaEnabled()){var i,n;Le(o,[gy(),CT(s+((i=(n=this.table.rowUtils)===null||n===void 0||(n=n.dataAccessObject)===null||n===void 0?void 0:n.columnHeaders.length)!==null&&i!==void 0?i:0)+1)])}}this.orderView.end()}};var Aet=w(Q(),1);function y9(t,e,i){return e=WDe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function WDe(t){var e=jDe(t,"string");return typeof e=="symbol"?e:e+""}function jDe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cI=class extends ea{constructor(){super("TD"),y9(this,"orderViews",new WeakMap),y9(this,"sourceRowIndex",0)}obtainOrderView(e){let i;return this.orderViews.has(e)?i=this.orderViews.get(e):(i=new uf(e,n=>this.nodesPool.obtain(this.sourceRowIndex,n),this.nodeType),this.orderViews.set(e,i)),i}render(){let{rowsToRender:e,columnsToRender:i,rows:n,rowHeaders:r}=this.table;for(let a=0;a<e;a++){let l=this.table.renderedRowToSource(a),c=n.getRenderedNode(a);this.sourceRowIndex=l;let d=this.obtainOrderView(c),u=r.obtainOrderView(c);d.prependView(u).setSize(i).setOffset(this.table.renderedColumnToSource(0)).start();for(let f=0;f<i;f++){d.render();let m=d.getCurrentNode(),g=this.table.renderedColumnToSource(f);if(Fe(m,"hide")||(m.className=""),m.removeAttribute("style"),m.removeAttribute("dir"),$s(m,[new RegExp("aria-(.*)"),new RegExp("role")]),this.table.cellRenderer(l,g,m),this.table.isAriaEnabled()){var o,s;Le(m,[...m.hasAttribute("role")?[]:[pX()],Ys(-1),Zp(g+((o=(s=this.table.rowUtils)===null||s===void 0||(s=s.dataAccessObject)===null||s===void 0?void 0:s.rowHeaders.length)!==null&&o!==void 0?o:0)+1)])}}d.end()}}};var Fet=w(Q(),1);function Ir(t,e,i){return e=UDe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function UDe(t){var e=zDe(t,"string");return typeof e=="symbol"?e:e+""}function zDe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dI=class{constructor(e){let{cellRenderer:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Ir(this,"rootNode",void 0),Ir(this,"rootDocument",void 0),Ir(this,"rowHeaders",null),Ir(this,"columnHeaders",null),Ir(this,"colGroup",null),Ir(this,"rows",null),Ir(this,"cells",null),Ir(this,"rowFilter",null),Ir(this,"columnFilter",null),Ir(this,"rowUtils",null),Ir(this,"columnUtils",null),Ir(this,"rowsToRender",0),Ir(this,"columnsToRender",0),Ir(this,"rowHeaderFunctions",[]),Ir(this,"rowHeadersCount",0),Ir(this,"columnHeaderFunctions",[]),Ir(this,"columnHeadersCount",0),Ir(this,"cellRenderer",void 0),this.rootNode=e,this.rootDocument=this.rootNode.ownerDocument,this.cellRenderer=i}setAxisUtils(e,i){this.rowUtils=e,this.columnUtils=i}setViewportSize(e,i){this.rowsToRender=e,this.columnsToRender=i}setFilters(e,i){this.rowFilter=e,this.columnFilter=i}setHeaderContentRenderers(e,i){this.rowHeaderFunctions=e,this.rowHeadersCount=e.length,this.columnHeaderFunctions=i,this.columnHeadersCount=i.length}setRenderers(){let{rowHeaders:e,columnHeaders:i,colGroup:n,rows:r,cells:o}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.setTable(this),i.setTable(this),n.setTable(this),r.setTable(this),o.setTable(this),this.rowHeaders=e,this.columnHeaders=i,this.colGroup=n,this.rows=r,this.cells=o}renderedRowToSource(e){return this.rowFilter.renderedToSource(e)}renderedColumnToSource(e){return this.columnFilter.renderedToSource(e)}isAriaEnabled(){return this.rowUtils.wtSettings.getSetting("ariaTags")}render(){this.colGroup.adjust(),this.columnHeaders.adjust(),this.rows.adjust(),this.rowHeaders.adjust(),this.columnHeaders.render(),this.rows.render(),this.rowHeaders.render(),this.cells.render(),this.columnUtils.calculateWidths(),this.colGroup.render();let{rowsToRender:e,rows:i}=this;for(let n=0;n<e;n++){let r=i.getRenderedNode(n);if(r.firstChild){let o=this.renderedRowToSource(n),s=this.rowUtils.getHeight(o);s?r.firstChild.style.height=`${s-1}px`:r.firstChild.style.height=""}}}};var uI=class{constructor(){let{TABLE:e,THEAD:i,COLGROUP:n,TBODY:r,rowUtils:o,columnUtils:s,cellRenderer:a}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.renderer=new dI(e,{cellRenderer:a}),this.renderer.setRenderers({rowHeaders:new oI,columnHeaders:new sI(i),colGroup:new aI(n),rows:new lI(r),cells:new cI}),this.renderer.setAxisUtils(o,s)}setFilters(e,i){return this.renderer.setFilters(e,i),this}setViewportSize(e,i){return this.renderer.setViewportSize(e,i),this}setHeaderContentRenderers(e,i){return this.renderer.setHeaderContentRenderers(e,i),this}adjust(){this.renderer.adjust()}render(){this.renderer.render()}};var qet=w(Q(),1);var Get=w(Q(),1);function Ny(t,e,i){YDe(t,e),e.set(t,i)}function YDe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function hI(t,e,i){return e=GDe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function GDe(t){var e=$De(t,"string");return typeof e=="symbol"?e:e+""}function $De(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function no(t,e){return t.get(w9(t,e))}function Ly(t,e,i){return t.set(w9(t,e),i),i}function w9(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var fI=new WeakMap,_g=new WeakMap,Fy=new WeakMap,mI=new WeakMap,hf=new WeakMap,pI=class t{static get DEFAULT_WIDTH(){return 50}constructor(e){let{totalColumns:i,stretchMode:n,stretchingColumnWidthFn:r,columnWidthFn:o}=e;hI(this,"stretchAllRatio",0),hI(this,"stretchLastWidth",0),hI(this,"stretchAllColumnsWidth",[]),Ny(this,fI,0),hI(this,"needVerifyLastColumnWidth",!0),Ny(this,_g,()=>0),Ny(this,Fy,s=>s),Ny(this,mI,s=>s),Ny(this,hf,()=>"none"),Ly(_g,this,i),Ly(hf,this,n),Ly(Fy,this,r??no(Fy,this)),Ly(mI,this,o??no(mI,this))}refreshStretching(e){if(no(hf,this).call(this)==="none")return;this.stretchAllRatio=0,this.stretchAllColumnsWidth=[],this.needVerifyLastColumnWidth=!0,this.stretchLastWidth=0,Ly(fI,this,e);let i=0;for(let r=0;r<no(_g,this).call(this);r++){let o=this._getColumnWidth(r),s=no(Fy,this).call(this,void 0,r);typeof s=="number"?e-=s:i+=o}let n=e-i;if(no(hf,this).call(this)==="all"&&n>0)this.stretchAllRatio=e/i,this.stretchAllColumnsWidth=[],this.needVerifyLastColumnWidth=!0;else if(no(hf,this).call(this)==="last"&&e!==1/0){let r=this._getColumnWidth(no(_g,this).call(this)-1),o=n+r;this.stretchLastWidth=o>=0?o:r}}getStretchedColumnWidth(e,i){let n=null;return no(hf,this).call(this)==="all"&&this.stretchAllRatio!==0?n=this._getStretchedAllColumnWidth(e,i):no(hf,this).call(this)==="last"&&this.stretchLastWidth!==0&&(n=this._getStretchedLastColumnWidth(e)),n}_getStretchedAllColumnWidth(e,i){let n=0;if(!this.stretchAllColumnsWidth[e]){let r=Math.round(i*this.stretchAllRatio),o=no(Fy,this).call(this,r,e);o===void 0?this.stretchAllColumnsWidth[e]=r:this.stretchAllColumnsWidth[e]=isNaN(o)?this._getColumnWidth(e):o}if(this.stretchAllColumnsWidth.length===no(_g,this).call(this)&&this.needVerifyLastColumnWidth){this.needVerifyLastColumnWidth=!1;for(let r=0;r<this.stretchAllColumnsWidth.length;r++)n+=this.stretchAllColumnsWidth[r];n!==no(fI,this)&&(this.stretchAllColumnsWidth[this.stretchAllColumnsWidth.length-1]+=no(fI,this)-n)}return this.stretchAllColumnsWidth[e]}_getStretchedLastColumnWidth(e){return e===no(_g,this).call(this)-1?this.stretchLastWidth:null}_getColumnWidth(e){let i=no(mI,this).call(this,e);return isNaN(i)&&(i=t.DEFAULT_WIDTH),i}};function gI(t,e,i){return e=qDe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function qDe(t){var e=KDe(t,"string");return typeof e=="symbol"?e:e+""}function KDe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bI=class{constructor(e,i){gI(this,"dataAccessObject",void 0),gI(this,"wtSettings",void 0),gI(this,"headerWidths",new Map),gI(this,"stretching",void 0),this.dataAccessObject=e,this.wtSettings=i,this.stretching=new pI({totalColumns:()=>this.wtSettings.getSetting("totalColumns"),stretchMode:()=>this.wtSettings.getSetting("stretchH"),stretchingColumnWidthFn:(n,r)=>this.wtSettings.getSetting("onBeforeStretchingColumnWidth",n,r),columnWidthFn:n=>this.dataAccessObject.wtTable.getColumnWidth(n)})}getWidth(e){return this.wtSettings.getSetting("columnWidth",e)||this.wtSettings.getSetting("defaultColumnWidth")}getStretchedColumnWidth(e){let i=this.getWidth(e),n=this.stretching.getStretchedColumnWidth(e,i);return n&&(i=n),i}getHeaderHeight(e){let i=this.wtSettings.getSetting("defaultRowHeight"),n=this.dataAccessObject.wtViewport.oversizedColumnHeaders[e];return n!==void 0&&(i=i?Math.max(i,n):n),i}getHeaderWidth(e){return this.headerWidths.get(this.dataAccessObject.wtTable.columnFilter.sourceToRendered(e))}refreshStretching(){let{wtTable:e,wtViewport:i,cloneSource:n}=this.dataAccessObject,r=n?n.wtTable.holder:e.holder,o=r.offsetHeight<r.scrollHeight?zi():0;this.stretching.refreshStretching(i.getViewportWidth()-o)}calculateWidths(){let{wtSettings:e}=this,i=e.getSetting("rowHeaderWidth");if(this.refreshStretching(),i=e.getSetting("onModifyRowHeaderWidth",i),i!=null){let n=e.getSetting("rowHeaders").length,r=e.getSetting("defaultColumnWidth");for(let o=0;o<n;o++){let s=Array.isArray(i)?i[o]:i;s=s??r,this.headerWidths.set(o,s)}}}};var Zet=w(Q(),1);function C9(t,e,i){return e=XDe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function XDe(t){var e=QDe(t,"string");return typeof e=="symbol"?e:e+""}function QDe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vI=class{constructor(e,i){C9(this,"dataAccessObject",void 0),C9(this,"wtSettings",void 0),this.dataAccessObject=e,this.wtSettings=i}getHeight(e){let i=this.wtSettings.getSetting("rowHeight",e),n=this.dataAccessObject.wtViewport.oversizedRows[e];return n!==void 0&&(i=i===void 0?n:Math.max(i,n)),i}};function Al(t,e,i){return e=ZDe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function ZDe(t){var e=JDe(t,"string");return typeof e=="symbol"?e:e+""}function JDe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var UL=class{constructor(e,i,n,r,o){Al(this,"wtSettings",null),Al(this,"domBindings",void 0),Al(this,"TBODY",null),Al(this,"THEAD",null),Al(this,"COLGROUP",null),Al(this,"hasTableHeight",!0),Al(this,"hasTableWidth",!0),Al(this,"isTableVisible",!1),Al(this,"tableOffset",0),Al(this,"holderOffset",0),this.domBindings=n,this.isMaster=o==="master",this.name=o,this.dataAccessObject=e,this.facadeGetter=i,this.wtSettings=r,this.instance=this.dataAccessObject.wot,this.wot=this.dataAccessObject.wot,this.TABLE=n.rootTable,GN(this.TABLE),this.spreader=this.createSpreader(this.TABLE),this.hider=this.createHider(this.spreader),this.holder=this.createHolder(this.hider),this.wtRootElement=this.holder.parentNode,this.isMaster&&this.alignOverlaysWithTrimmingContainer(),this.fixTableDomTree(),this.rowFilter=null,this.columnFilter=null,this.correctHeaderWidth=!1;let s=this.wtSettings.getSettingPure("rowHeaderWidth");this.wtSettings.update("rowHeaderWidth",()=>this._modifyRowHeaderWidth(s)),this.rowUtils=new vI(this.dataAccessObject,this.wtSettings),this.columnUtils=new bI(this.dataAccessObject,this.wtSettings),this.tableRenderer=new uI({TABLE:this.TABLE,THEAD:this.THEAD,COLGROUP:this.COLGROUP,TBODY:this.TBODY,rowUtils:this.rowUtils,columnUtils:this.columnUtils,cellRenderer:this.wtSettings.getSettingPure("cellRenderer")})}is(e){return this.name===e}fixTableDomTree(){let e=this.domBindings.rootDocument;this.TBODY=this.TABLE.querySelector("tbody"),this.TBODY||(this.TBODY=e.createElement("tbody"),this.TABLE.appendChild(this.TBODY)),this.THEAD=this.TABLE.querySelector("thead"),this.THEAD||(this.THEAD=e.createElement("thead"),this.TABLE.insertBefore(this.THEAD,this.TBODY)),this.COLGROUP=this.TABLE.querySelector("colgroup"),this.COLGROUP||(this.COLGROUP=e.createElement("colgroup"),this.TABLE.insertBefore(this.COLGROUP,this.THEAD))}createSpreader(e){let i=e.parentNode,n;return(!i||i.nodeType!==Node.ELEMENT_NODE||!Fe(i,"wtHolder"))&&(n=this.domBindings.rootDocument.createElement("div"),n.className="wtSpreader",i&&i.insertBefore(n,e),n.appendChild(e)),n.style.position="relative",this.wtSettings.getSetting("ariaTags")&&Le(n,[yo()]),n}createHider(e){let i=e.parentNode,n;return(!i||i.nodeType!==Node.ELEMENT_NODE||!Fe(i,"wtHolder"))&&(n=this.domBindings.rootDocument.createElement("div"),n.className="wtHider",i&&i.insertBefore(n,e),n.appendChild(e)),this.wtSettings.getSetting("ariaTags")&&Le(n,[yo()]),n}createHolder(e){let i=e.parentNode,n;return(!i||i.nodeType!==Node.ELEMENT_NODE||!Fe(i,"wtHolder"))&&(n=this.domBindings.rootDocument.createElement("div"),n.style.position="relative",n.className="wtHolder",i&&i.insertBefore(n,e),this.isMaster&&(n.parentNode.className+="ht_master handsontable",n.parentNode.setAttribute("dir",this.wtSettings.getSettingPure("rtlMode")?"rtl":"ltr"),this.wtSettings.getSetting("ariaTags")&&Le(n.parentNode,[yo()])),n.appendChild(e)),this.wtSettings.getSetting("ariaTags")&&Le(n,[yo()]),n}draw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,{wtSettings:i}=this,{wtOverlays:n,wtViewport:r}=this.dataAccessObject,o=i.getSetting("totalRows"),s=i.getSetting("totalColumns"),a=i.getSetting("rowHeaders"),l=a.length,c=i.getSetting("columnHeaders"),d=c.length,u=e;if(this.isMaster&&(this.holderOffset=rn(this.holder),u=r.createRenderCalculators(u),l&&!i.getSetting("fixedColumnsStart"))){let m=n.inlineStartOverlay.getScrollPosition(),g=this.correctHeaderWidth;this.correctHeaderWidth=m!==0,g!==this.correctHeaderWidth&&(u=!1)}if(this.isMaster&&n.beforeDraw(),u)this.isMaster&&(r.createVisibleCalculators(),r.createPartiallyVisibleCalculators()),n&&n.refresh(!0);else{this.isMaster?this.tableOffset=rn(this.TABLE):this.tableOffset=this.dataAccessObject.parentTableOffset;let m=o>0?this.getFirstRenderedRow():0,g=s>0?this.getFirstRenderedColumn():0;this.rowFilter=new g9(m,o,d),this.columnFilter=new p9(g,s,l);let _=!0;if(this.isMaster){this.alignOverlaysWithTrimmingContainer();let b={};this.wtSettings.getSetting("beforeDraw",!0,b),_=b.skipRender!==!0}if(_){this.tableRenderer.setHeaderContentRenderers(a,c),(this.is(ps)||this.is(ja))&&this.tableRenderer.setHeaderContentRenderers(a,[]),this.resetOversizedRows(),this.tableRenderer.setViewportSize(this.getRenderedRowsCount(),this.getRenderedColumnsCount()).setFilters(this.rowFilter,this.columnFilter).render();let b;if(this.isMaster&&(b=this.dataAccessObject.workspaceWidth,r.containerWidth=null,this.markOversizedColumnHeaders()),this.adjustColumnHeaderHeights(),(this.isMaster||this.is(ps))&&this.markOversizedRows(),this.isMaster){r.createVisibleCalculators(),r.createPartiallyVisibleCalculators(),n.refresh(!1),n.applyToDOM();let y=$t(this.hider),x=$t(this.TABLE);y!==0&&x!==y&&(this.columnUtils.calculateWidths(),this.tableRenderer.renderer.colGroup.render()),b!==r.getWorkspaceWidth()&&(r.containerWidth=null,this.columnUtils.calculateWidths(),this.tableRenderer.renderer.colGroup.render()),this.wtSettings.getSetting("onDraw",!0)}else this.is(ps)&&this.dataAccessObject.cloneSource.wtOverlays.adjustElementsSize()}}let f=!1;return this.isMaster&&(f=n.topOverlay.resetFixedPosition(),n.bottomOverlay.clone&&(f=n.bottomOverlay.resetFixedPosition()||f),f=n.inlineStartOverlay.resetFixedPosition()||f,n.topInlineStartCornerOverlay&&n.topInlineStartCornerOverlay.resetFixedPosition(),n.bottomInlineStartCornerOverlay&&n.bottomInlineStartCornerOverlay.clone&&n.bottomInlineStartCornerOverlay.resetFixedPosition()),f?(n.refreshAll(),n.adjustElementsSize()):this.dataAccessObject.selectionManager.setActiveOverlay(this.facadeGetter()).render(u),this.isMaster&&n.afterDraw(),this.dataAccessObject.drawn=!0,this}markIfOversizedColumnHeader(e){let i=this.columnFilter.renderedToSource(e),n=this.wtSettings.getSetting("columnHeaders").length,r=this.wtSettings.getSetting("defaultRowHeight"),o,s,a,l=this.wtSettings.getSetting("columnHeaderHeight")||[];for(;n;)n-=1,o=this.getColumnHeaderHeight(n),s=this.getColumnHeader(i,n),s&&(a=Hc(s),(!o&&r<a||o<a)&&(this.dataAccessObject.wtViewport.oversizedColumnHeaders[n]=a),Array.isArray(l)?l[n]!==null&&l[n]!==void 0&&(this.dataAccessObject.wtViewport.oversizedColumnHeaders[n]=l[n]):isNaN(l)||(this.dataAccessObject.wtViewport.oversizedColumnHeaders[n]=l),this.dataAccessObject.wtViewport.oversizedColumnHeaders[n]<(l[n]||l)&&(this.dataAccessObject.wtViewport.oversizedColumnHeaders[n]=l[n]||l))}adjustColumnHeaderHeights(){let{wtSettings:e}=this,i=this.THEAD.childNodes,n=this.dataAccessObject.wtViewport.oversizedColumnHeaders,r=e.getSetting("columnHeaders");for(let o=0,s=r.length;o<s;o++)if(n[o]){if(!i[o]||i[o].childNodes.length===0)return;i[o].childNodes[0].style.height=`${n[o]}px`}}resetOversizedRows(){let{wtSettings:e}=this,{wtViewport:i}=this.dataAccessObject;if(!(!this.isMaster&&!this.is(ps))&&!e.getSetting("externalRowCalculator")){let n=this.getRenderedRowsCount();for(let r=0;r<n;r++){let o=this.rowFilter.renderedToSource(r);i.oversizedRows&&i.oversizedRows[o]&&(i.oversizedRows[o]=void 0)}}}getCell(e){let i=e.row,n=e.col,r=this.wtSettings.getSetting("onModifyGetCellCoords",i,n);if(r&&Array.isArray(r)&&([i,n]=r),this.isRowBeforeRenderedRows(i))return-1;if(this.isRowAfterRenderedRows(i))return-2;if(this.isColumnBeforeRenderedColumns(n))return-3;if(this.isColumnAfterRenderedColumns(n))return-4;let o=this.getRow(i);if(!o&&i>=0)throw new Error("TR was expected to be rendered but is not");let s=o.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(n)];if(!s&&n>=0)throw new Error("TD or TH was expected to be rendered but is not");return s}getRow(e){let i=null,n=null;if(e<0){var r;i=(r=this.rowFilter)===null||r===void 0?void 0:r.sourceRowToVisibleColHeadedRow(e),n=this.THEAD}else{var o;i=(o=this.rowFilter)===null||o===void 0?void 0:o.sourceToRendered(e),n=this.TBODY}return i!==void 0&&n!==void 0?n.childNodes.length<i+1?!1:n.childNodes[i]:!1}getColumnHeader(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=this.THEAD.childNodes[i];return n?.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(e)]}getColumnHeaders(e){let i=[],n=this.columnFilter.sourceColumnToVisibleRowHeadedColumn(e);return this.THEAD.childNodes.forEach(r=>{let o=r.childNodes[n];o&&i.push(o)}),i}getRowHeader(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=this.wtSettings.getSetting("rowHeaders").length;if(i>=n)return;let r=this.rowFilter.sourceToRendered(e),o=r<0?this.rowFilter.sourceRowToVisibleColHeadedRow(e):r,a=(r<0?this.THEAD:this.TBODY).childNodes[o];return a?.childNodes[i]}getRowHeaders(e){let i=[],n=this.wtSettings.getSetting("rowHeaders").length;for(let r=0;r<n;r++){let o=this.TBODY.childNodes[this.rowFilter.sourceToRendered(e)],s=o?.childNodes[r];s&&i.push(s)}return i}getCoords(e){let i=e;if(i.nodeName!=="TD"&&i.nodeName!=="TH"&&(i=Fa(i,["TD","TH"])),i===null)return null;let n=i.parentNode,r=n.parentNode,o=VX(n),s=i.cellIndex;return bu(Ol,i,this.wtRootElement)||bu(Ua,i,this.wtRootElement)?r.nodeName==="THEAD"&&(o-=r.childNodes.length):bu(ja,i,this.wtRootElement)||bu(ps,i,this.wtRootElement)?o=this.wtSettings.getSetting("totalRows")-r.childNodes.length+o:r===this.THEAD?o=this.rowFilter.visibleColHeadedRowToSourceRow(o):o=this.rowFilter.renderedToSource(o),bu(Ol,i,this.wtRootElement)||bu(za,i,this.wtRootElement)||bu(ja,i,this.wtRootElement)?s=this.columnFilter.offsettedTH(s):s=this.columnFilter.visibleRowHeadedColumnToSourceColumn(s),this.wot.createCellCoords(o,s)}markOversizedRows(){if(this.wtSettings.getSetting("externalRowCalculator"))return;let e=this.TBODY.childNodes.length,i=e*this.wtSettings.getSetting("defaultRowHeight"),n=Hc(this.TBODY)-1,r,o,s,a,l;if(!(i===n&&!this.wtSettings.getSetting("fixedRowsBottom")))for(;e;)e-=1,s=this.rowFilter.renderedToSource(e),r=this.getRowHeight(s),a=this.getTrForRow(s),l=a.querySelector("th"),l?o=Hc(l):o=Hc(a)-1,(!r&&this.wtSettings.getSetting("defaultRowHeight")<o||r<o)&&(o+=1,this.dataAccessObject.wtViewport.oversizedRows[s]=o)}getTrForRow(e){return this.TBODY.childNodes[this.rowFilter.sourceToRendered(e)]}isColumnHeaderRendered(e){if(e>=0)return!1;let n=this.wtSettings.getSetting("rowHeaders").length;return Math.abs(e)<=n}isRowHeaderRendered(e){if(e>=0)return!1;let n=this.wtSettings.getSetting("columnHeaders").length;return Math.abs(e)<=n}isRowBeforeRenderedRows(e){let i=this.getFirstRenderedRow();return e<0&&i<=0?!this.isRowHeaderRendered(e):e<i}isRowAfterRenderedRows(e){return e>this.getLastRenderedRow()}isColumnBeforeRenderedColumns(e){let i=this.getFirstRenderedColumn();return e<0&&i<=0?!this.isColumnHeaderRendered(e):e<i}isColumnAfterRenderedColumns(e){return this.columnFilter&&e>this.getLastRenderedColumn()}isColumnAfterViewport(e){return this.columnFilter&&e>this.getLastVisibleColumn()}isRowAfterViewport(e){return this.rowFilter&&e>this.getLastVisibleRow()}isColumnBeforeViewport(e){return this.columnFilter&&this.columnFilter.sourceToRendered(e)<0&&e>=0}isLastRowFullyVisible(){return this.getLastVisibleRow()===this.getLastRenderedRow()}isLastColumnFullyVisible(){return this.getLastVisibleColumn()===this.getLastRenderedColumn()}allRowsInViewport(){return this.wtSettings.getSetting("totalRows")===this.getVisibleRowsCount()}allColumnsInViewport(){return this.wtSettings.getSetting("totalColumns")===this.getVisibleColumnsCount()}getRowHeight(e){return this.rowUtils.getHeight(e)}getColumnHeaderHeight(e){return this.columnUtils.getHeaderHeight(e)}getColumnWidth(e){return this.columnUtils.getWidth(e)}getStretchedColumnWidth(e){return this.columnUtils.getStretchedColumnWidth(e)}hasDefinedSize(){return this.hasTableHeight&&this.hasTableWidth}getWidth(){return $t(this.TABLE)}getHeight(){return si(this.TABLE)}getTotalWidth(){let e=$t(this.hider);return e!==0?e:this.getWidth()}getTotalHeight(){let e=si(this.hider);return e!==0?e:this.getHeight()}isVisible(){return Gs(this.TABLE)}_modifyRowHeaderWidth(e){let i=ti(e)?e():null;return Array.isArray(i)?(i=[...i],i[i.length-1]=this._correctRowHeaderWidth(i[i.length-1])):i=this._correctRowHeaderWidth(i),i}_correctRowHeaderWidth(e){let i=e;return typeof e!="number"&&(i=this.wtSettings.getSetting("defaultColumnWidth")),this.correctHeaderWidth&&(i+=1),i}},ta=UL;var eMe="stickyRowsBottom",S9={getFirstRenderedRow(){let t=this.wtSettings.getSetting("totalRows"),e=this.wtSettings.getSetting("fixedRowsBottom"),i=t-e;return t===0||e===0?-1:i<0?0:i},getFirstVisibleRow(){return this.getFirstRenderedRow()},getFirstPartiallyVisibleRow(){return this.getFirstRenderedRow()},getLastRenderedRow(){return this.wtSettings.getSetting("totalRows")-1},getLastVisibleRow(){return this.getLastRenderedRow()},getLastPartiallyVisibleRow(){return this.getLastRenderedRow()},getRenderedRowsCount(){let t=this.wtSettings.getSetting("totalRows");return Math.min(this.wtSettings.getSetting("fixedRowsBottom"),t)},getVisibleRowsCount(){return this.getRenderedRowsCount()},getColumnHeadersCount(){return 0}};Er(S9,"MIXIN_NAME",eMe,{writable:!1,enumerable:!1});var _I=S9;var tMe="stickyColumnsStart",x9={getFirstRenderedColumn(){return this.wtSettings.getSetting("totalColumns")===0?-1:0},getFirstVisibleColumn(){return this.getFirstRenderedColumn()},getFirstPartiallyVisibleColumn(){return this.getFirstRenderedColumn()},getLastRenderedColumn(){return this.getRenderedColumnsCount()-1},getLastVisibleColumn(){return this.getLastRenderedColumn()},getLastPartiallyVisibleColumn(){return this.getLastRenderedColumn()},getRenderedColumnsCount(){let t=this.wtSettings.getSetting("totalColumns");return Math.min(this.wtSettings.getSetting("fixedColumnsStart"),t)},getVisibleColumnsCount(){return this.getRenderedColumnsCount()},getRowHeadersCount(){return this.dataAccessObject.rowHeaders.length}};Er(x9,"MIXIN_NAME",tMe,{writable:!1,enumerable:!1});var yg=x9;var Hy=class extends ta{constructor(e,i,n,r){super(e,i,n,r,ja)}};Ot(Hy,_I);Ot(Hy,yg);var E9=Hy;var Vtt=w(Q(),1);var Ua="top",ps="bottom",za="inline_start",Ol="top_inline_start_corner",ja="bottom_inline_start_corner",R9=[Ua,ps,za,Ol,ja],T9=new Map([[Ua,`ht_clone_${Ua}`],[ps,`ht_clone_${ps}`],[za,`ht_clone_${za} ht_clone_left`],[Ol,`ht_clone_${Ol} ht_clone_top_left_corner`],[ja,`ht_clone_${ja} ht_clone_bottom_left_corner`]]);var Ntt=w(Q(),1);var Rtt=w(Q(),1),Ttt=w(be(),1);var Stt=w(Q(),1);function iMe(t,e){nMe(t,e),e.add(t)}function nMe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function rMe(t,e,i){return e=oMe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function oMe(t){var e=sMe(t,"string");return typeof e=="symbol"?e:e+""}function sMe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yI(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var Vy=new WeakSet,zL=class{constructor(e){iMe(this,Vy),rMe(this,"dataAccessObject",void 0),this.dataAccessObject=e}scrollViewport(e,i,n,r,o){let s=this.scrollViewportHorizontally(e.col,n,o),a=this.scrollViewportVertically(e.row,i,r);return s||a}scrollViewportHorizontally(e,i,n){let{drawn:r,totalColumns:o}=this.dataAccessObject;if(!r||!Number.isInteger(e)||e<0||e>o)return!1;let s=i===void 0&&n===void 0,{fixedColumnsStart:a,inlineStartOverlay:l}=this.dataAccessObject;if(s&&e<a||(e=this.dataAccessObject.wtSettings.getSetting("onBeforeViewportScrollHorizontally",e),!Number.isInteger(e)||e<0||e>o))return!1;let c=this.getFirstVisibleColumn(),d=this.getLastVisibleColumn(),u=!1;return(s&&(e<c||e>d)||!s)&&(u=l.scrollTo(e,s?e>=this.getLastPartiallyVisibleColumn():i)),u}scrollViewportVertically(e,i,n){let{drawn:r,totalRows:o}=this.dataAccessObject;if(!r||!Number.isInteger(e)||e<0||e>o)return!1;let s=i===void 0&&n===void 0,{fixedRowsBottom:a,fixedRowsTop:l,topOverlay:c}=this.dataAccessObject;if(s&&(e<l||e>o-a-1)||(e=this.dataAccessObject.wtSettings.getSetting("onBeforeViewportScrollVertically",e),!Number.isInteger(e)||e<0||e>o))return!1;let d=this.getFirstVisibleRow(),u=this.getLastVisibleRow(),f=!1;return(s&&(e<d||e>u)||!s)&&(f=c.scrollTo(e,s?e>=this.getLastPartiallyVisibleRow():n)),f}getFirstVisibleRow(){return this.dataAccessObject.wtTable.getFirstVisibleRow()}getLastVisibleRow(){return yI(Vy,this,D9).call(this,this.dataAccessObject.wtTable.getLastVisibleRow())}getFirstPartiallyVisibleRow(){return this.dataAccessObject.wtTable.getFirstPartiallyVisibleRow()}getLastPartiallyVisibleRow(){return yI(Vy,this,D9).call(this,this.dataAccessObject.wtTable.getLastPartiallyVisibleRow())}getFirstVisibleColumn(){return this.dataAccessObject.wtTable.getFirstVisibleColumn()}getLastVisibleColumn(){return yI(Vy,this,I9).call(this,this.dataAccessObject.wtTable.getLastVisibleColumn())}getFirstPartiallyVisibleColumn(){return this.dataAccessObject.wtTable.getFirstPartiallyVisibleColumn()}getLastPartiallyVisibleColumn(){return yI(Vy,this,I9).call(this,this.dataAccessObject.wtTable.getLastPartiallyVisibleColumn())}};function I9(t){let{wtSettings:e,inlineStartOverlay:i,wtTable:n,wtViewport:r,totalColumns:o,rootWindow:s}=this.dataAccessObject;if(i.mainTableScrollableElement===s){let a=e.getSetting("rtlMode"),l=null;if(a){let d=n.TABLE.getBoundingClientRect(),f=this.dataAccessObject.rootWindow.document.documentElement.offsetWidth;l=Math.abs(d.right-f)}else l=rn(n.wtRootElement).left;let c=Math.abs(ST(s,s));if(l>c){let d=xT(s),u=r.getRowHeaderWidth();for(let f=1;f<=o;f++)if(u+=i.sumCellSizes(f-1,f),l+u-c>=d){t=f-2;break}}}return t}function D9(t){let{topOverlay:e,wtTable:i,wtViewport:n,totalRows:r,rootWindow:o}=this.dataAccessObject;if(e.mainTableScrollableElement===o){let s=rn(i.wtRootElement),a=eg(o,o);if(s.top>a){let l=Hc(o),c=n.getColumnHeaderHeight();for(let d=1;d<=r;d++)if(c+=e.sumCellSizes(d-1,d),s.top+c-a>=l){t=d-2;break}}}return t}var M9=zL;function Ya(t,e,i){return e=aMe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function aMe(t){var e=lMe(t,"string");return typeof e=="symbol"?e:e+""}function lMe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Au=class{get eventManager(){return new Xn(this)}constructor(e,i){Ya(this,"wtTable",void 0),Ya(this,"wtScroll",void 0),Ya(this,"wtViewport",void 0),Ya(this,"wtOverlays",void 0),Ya(this,"selectionManager",void 0),Ya(this,"wtEvent",void 0),Ya(this,"guid",`wt_${pT()}`),Ya(this,"drawInterrupted",!1),Ya(this,"drawn",!1),Ya(this,"domBindings",void 0),Ya(this,"wtSettings",void 0),this.domBindings={rootTable:e,rootDocument:e.ownerDocument,rootWindow:e.ownerDocument.defaultView},this.wtSettings=i,this.wtScroll=new M9(this.createScrollDao())}findOriginalHeaders(){let e=[];if(this.wtTable.THEAD.childNodes.length&&this.wtTable.THEAD.childNodes[0].childNodes.length){for(let i=0,n=this.wtTable.THEAD.childNodes[0].childNodes.length;i<n;i++)e.push(this.wtTable.THEAD.childNodes[0].childNodes[i].innerHTML);this.wtSettings.getSetting("columnHeaders").length||this.wtSettings.update("columnHeaders",[function(i,n){Ks(n,e[i])}])}}createCellCoords(e,i){return new Du(e,i,this.wtSettings.getSetting("rtlMode"))}createCellRange(e,i,n){return new lf(e,i,n,this.wtSettings.getSetting("rtlMode"))}draw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this.drawInterrupted=!1,this.wtTable.isVisible()?this.wtTable.draw(e):this.drawInterrupted=!0,this}getCell(e){if(!(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1))return this.wtTable.getCell(e);let n=this.wtSettings.getSetting("totalRows"),r=this.wtSettings.getSetting("fixedRowsTop"),o=this.wtSettings.getSetting("fixedRowsBottom"),s=this.wtSettings.getSetting("fixedColumnsStart");if(e.row<r&&e.col<s)return this.wtOverlays.topInlineStartCornerOverlay.clone.wtTable.getCell(e);if(e.row<r)return this.wtOverlays.topOverlay.clone.wtTable.getCell(e);if(e.col<s&&e.row>=n-o){if(this.wtOverlays.bottomInlineStartCornerOverlay&&this.wtOverlays.bottomInlineStartCornerOverlay.clone)return this.wtOverlays.bottomInlineStartCornerOverlay.clone.wtTable.getCell(e)}else{if(e.col<s)return this.wtOverlays.inlineStartOverlay.clone.wtTable.getCell(e);if(e.row<n&&e.row>=n-o&&this.wtOverlays.bottomOverlay&&this.wtOverlays.bottomOverlay.clone)return this.wtOverlays.bottomOverlay.clone.wtTable.getCell(e)}return this.wtTable.getCell(e)}scrollViewport(e,i,n,r,o){return e.col<0||e.row<0?!1:this.wtScroll.scrollViewport(e,i,n,r,o)}scrollViewportHorizontally(e,i,n){return e<0?!1:this.wtScroll.scrollViewportHorizontally(e,i,n)}scrollViewportVertically(e,i,n){return e<0?!1:this.wtScroll.scrollViewportVertically(e,i,n)}getViewport(){return[this.wtTable.getFirstVisibleRow(),this.wtTable.getFirstVisibleColumn(),this.wtTable.getLastVisibleRow(),this.wtTable.getLastVisibleColumn()]}destroy(){this.wtOverlays.destroy(),this.wtEvent.destroy()}createScrollDao(){let e=this;return{get drawn(){return e.drawn},get topOverlay(){return e.wtOverlays.topOverlay},get inlineStartOverlay(){return e.wtOverlays.inlineStartOverlay},get wtTable(){return e.wtTable},get wtViewport(){return e.wtViewport},get wtSettings(){return e.wtSettings},get rootWindow(){return e.domBindings.rootWindow},get totalRows(){return e.wtSettings.getSetting("totalRows")},get totalColumns(){return e.wtSettings.getSetting("totalColumns")},get fixedRowsTop(){return e.wtSettings.getSetting("fixedRowsTop")},get fixedRowsBottom(){return e.wtSettings.getSetting("fixedRowsBottom")},get fixedColumnsStart(){return e.wtSettings.getSetting("fixedColumnsStart")}}}getTableDao(){let e=this;return{get wot(){return e},get parentTableOffset(){return e.cloneSource.wtTable.tableOffset},get cloneSource(){return e.cloneSource},get workspaceWidth(){return e.wtViewport.getWorkspaceWidth()},get wtViewport(){return e.wtViewport},get wtOverlays(){return e.wtOverlays},get selectionManager(){return e.selectionManager},get drawn(){return e.drawn},set drawn(i){e.drawn=i},get wtTable(){return e.wtTable},get startColumnRendered(){return e.wtViewport.columnsRenderCalculator.startColumn},get startColumnVisible(){return e.wtViewport.columnsVisibleCalculator.startColumn},get startColumnPartiallyVisible(){return e.wtViewport.columnsPartiallyVisibleCalculator.startColumn},get endColumnRendered(){return e.wtViewport.columnsRenderCalculator.endColumn},get endColumnVisible(){return e.wtViewport.columnsVisibleCalculator.endColumn},get endColumnPartiallyVisible(){return e.wtViewport.columnsPartiallyVisibleCalculator.endColumn},get countColumnsRendered(){return e.wtViewport.columnsRenderCalculator.count},get countColumnsVisible(){return e.wtViewport.columnsVisibleCalculator.count},get startRowRendered(){return e.wtViewport.rowsRenderCalculator.startRow},get startRowVisible(){return e.wtViewport.rowsVisibleCalculator.startRow},get startRowPartiallyVisible(){return e.wtViewport.rowsPartiallyVisibleCalculator.startRow},get endRowRendered(){return e.wtViewport.rowsRenderCalculator.endRow},get endRowVisible(){return e.wtViewport.rowsVisibleCalculator.endRow},get endRowPartiallyVisible(){return e.wtViewport.rowsPartiallyVisibleCalculator.endRow},get countRowsRendered(){return e.wtViewport.rowsRenderCalculator.count},get countRowsVisible(){return e.wtViewport.rowsVisibleCalculator.count},get columnHeaders(){return e.wtSettings.getSetting("columnHeaders")},get rowHeaders(){return e.wtSettings.getSetting("rowHeaders")}}}};function A9(t,e,i){return e=cMe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function cMe(t){var e=dMe(t,"string");return typeof e=="symbol"?e:e+""}function dMe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wI=class extends Au{constructor(e,i,n){super(e,i),A9(this,"cloneSource",void 0),A9(this,"cloneOverlay",void 0);let r=this.wtSettings.getSetting("facade",this);this.cloneSource=n.source,this.cloneOverlay=n.overlay,this.wtTable=this.cloneOverlay.createTable(this.getTableDao(),r,this.domBindings,this.wtSettings),this.wtViewport=n.viewport,this.selectionManager=n.selectionManager,this.wtEvent=new tI(r,this.domBindings,this.wtSettings,this.eventManager,this.wtTable,this.selectionManager,n.event),this.findOriginalHeaders()}};function uMe(t,e,i){return e=hMe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function hMe(t){var e=fMe(t,"string");return typeof e=="symbol"?e:e+""}function fMe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ia=class{constructor(e,i,n,r,o){uMe(this,"wtSettings",null),Er(this,"wot",e,{writable:!1}),this.domBindings=o,this.facadeGetter=i,this.wtSettings=r;let{TABLE:s,hider:a,spreader:l,holder:c,wtRootElement:d}=this.wot.wtTable;this.instance=this.wot,this.type=n,this.mainTableScrollableElement=null,this.TABLE=s,this.hider=a,this.spreader=l,this.holder=c,this.wtRootElement=d,this.trimmingContainer=Va(this.hider.parentNode.parentNode),this.needFullRender=this.shouldBeRendered(),this.clone=this.makeClone()}hasRenderingStateChanged(){return this.needFullRender!==this.shouldBeRendered()}updateStateOfRendering(e){e==="before"&&this.shouldBeRendered()?this.needFullRender=!0:e==="after"&&!this.shouldBeRendered()&&(this.needFullRender=!1)}shouldBeRendered(){return!0}updateTrimmingContainer(){this.trimmingContainer=Va(this.hider.parentNode.parentNode)}updateMainScrollableElement(){let{wtTable:e}=this.wot,{rootWindow:i}=this.domBindings;i.getComputedStyle(e.wtRootElement.parentNode).getPropertyValue("overflow")==="hidden"?this.mainTableScrollableElement=this.wot.wtTable.holder:this.mainTableScrollableElement=tg(e.TABLE)}getRelativeCellPosition(e,i,n){if(this.clone.wtTable.holder.contains(e)===!1){zt(`The provided element is not a child of the ${this.type} overlay`);return}let r=this.mainTableScrollableElement===this.domBindings.rootWindow,o=n<this.wtSettings.getSetting("fixedColumnsStart"),s=i<this.wtSettings.getSetting("fixedRowsTop"),a=i>=this.wtSettings.getSetting("totalRows")-this.wtSettings.getSetting("fixedRowsBottom"),l=this.clone.wtTable.spreader,c={start:this.getRelativeStartPosition(l),top:l.offsetTop},d={start:this.getRelativeStartPosition(e),top:e.offsetTop},u=null;return r?u=this.getRelativeCellPositionWithinWindow(s,o,d,c):u=this.getRelativeCellPositionWithinHolder(s,a,o,d,c),u}getRelativeStartPosition(e){return this.isRtl()?e.offsetParent.offsetWidth-e.offsetLeft-e.offsetWidth:e.offsetLeft}getRelativeCellPositionWithinWindow(e,i,n,r){let o=this.wot.wtTable.wtRootElement.getBoundingClientRect(),s=0,a=0;if(!i)s=r.start;else{let l=o.left;this.isRtl()&&(l=this.domBindings.rootWindow.innerWidth-(o.left+o.width+zi())),s=l<=0?-1*l:0}return e?a=this.clone.wtTable.TABLE.getBoundingClientRect().top-o.top:a=r.top,{start:n.start+s,top:n.top+a}}getRelativeCellPositionWithinHolder(e,i,n,r,o){let s={horizontal:this.wot.wtOverlays.inlineStartOverlay.getScrollPosition(),vertical:this.wot.wtOverlays.topOverlay.getScrollPosition()},a=0,l=0;if(n||(a=s.horizontal-o.start),i){let c=this.wot.wtTable.wtRootElement.getBoundingClientRect();l=this.clone.wtTable.TABLE.getBoundingClientRect().top*-1+c.top}else e||(l=s.vertical-o.top);return{start:r.start-a,top:r.top-l}}makeClone(){if(R9.indexOf(this.type)===-1)throw new Error(`Clone type "${this.type}" is not supported.`);let{wtTable:e,wtSettings:i}=this.wot,{rootDocument:n,rootWindow:r}=this.domBindings,o=n.createElement("div"),s=n.createElement("table"),a=e.wtRootElement.parentNode;o.className=`${T9.get(this.type)} handsontable`,o.setAttribute("dir",this.isRtl()?"rtl":"ltr"),o.style.position="absolute",o.style.top=0,o.style.overflow="visible",this.isRtl()?o.style.right=0:o.style.left=0,i.getSetting("ariaTags")&&Le(o,[yo()]),s.className=e.TABLE.className,e.TABLE.getAttribute("role")&&s.setAttribute("role",e.TABLE.getAttribute("role")),o.appendChild(s),a.appendChild(o);let c=this.wtSettings.getSetting("preventOverflow");return c===!0||c==="horizontal"&&this.type===Ua||c==="vertical"&&this.type===za?this.mainTableScrollableElement=r:r.getComputedStyle(a).getPropertyValue("overflow")==="hidden"?this.mainTableScrollableElement=e.holder:this.mainTableScrollableElement=tg(e.TABLE),new wI(s,this.wtSettings,{source:this.wot,overlay:this,viewport:this.wot.wtViewport,event:this.wot.wtEvent,selectionManager:this.wot.selectionManager})}refresh(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.needFullRender&&this.clone.draw(e)}reset(){let e=this.clone.wtTable.holder,i=this.clone.wtTable.hider,n=e.style,r=i.style,o=e.parentNode.style;[n,r,o].forEach(s=>{s.width="",s.height=""})}isRtl(){return this.wtSettings.getSetting("rtlMode")}destroy(){this.clone.eventManager.destroy()}};var By=class extends ia{constructor(e,i,n,r,o,s){super(e,i,ja,n,r),this.bottomOverlay=o,this.inlineStartOverlay=s}createTable(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return new E9(...i)}shouldBeRendered(){return this.wtSettings.getSetting("shouldRenderBottomOverlay")&&this.wtSettings.getSetting("shouldRenderInlineStartOverlay")}resetFixedPosition(){let{wot:e}=this;if(this.updateTrimmingContainer(),!e.wtTable.holder.parentNode)return!1;let i=this.clone.wtTable.holder.parentNode;if(i.style.top="",this.trimmingContainer===this.domBindings.rootWindow){let o=this.inlineStartOverlay.getOverlayOffset(),s=this.bottomOverlay.getOverlayOffset();i.style[this.isRtl()?"right":"left"]=`${o}px`,i.style.bottom=`${s}px`}else yu(i),this.repositionOverlay();let n=si(this.clone.wtTable.TABLE),r=$t(this.clone.wtTable.TABLE);return this.wot.wtTable.hasDefinedSize()||(n=0),i.style.height=`${n}px`,i.style.width=`${r}px`,!1}repositionOverlay(){let{wtTable:e,wtViewport:i}=this.wot,{rootDocument:n}=this.domBindings,r=this.clone.wtTable.holder.parentNode,o=0;i.hasVerticalScroll()||(o+=i.getWorkspaceHeight()-e.getTotalHeight()),i.hasVerticalScroll()&&i.hasHorizontalScroll()&&(o+=zi(n)),r.style.bottom=`${o}px`}};var sit=w(Q(),1);var mMe="calculatedColumns",O9={getFirstRenderedColumn(){let t=this.dataAccessObject.startColumnRendered;return t===null?-1:t},getFirstVisibleColumn(){let t=this.dataAccessObject.startColumnVisible;return t===null?-1:t},getFirstPartiallyVisibleColumn(){let t=this.dataAccessObject.startColumnPartiallyVisible;return t===null?-1:t},getLastRenderedColumn(){let t=this.dataAccessObject.endColumnRendered;return t===null?-1:t},getLastVisibleColumn(){let t=this.dataAccessObject.endColumnVisible;return t===null?-1:t},getLastPartiallyVisibleColumn(){let t=this.dataAccessObject.endColumnPartiallyVisible;return t===null?-1:t},getRenderedColumnsCount(){return this.dataAccessObject.countColumnsRendered},getVisibleColumnsCount(){return this.dataAccessObject.countColumnsVisible},getRowHeadersCount(){return this.dataAccessObject.rowHeaders.length}};Er(O9,"MIXIN_NAME",mMe,{writable:!1,enumerable:!1});var wg=O9;var Wy=class extends ta{constructor(e,i,n,r){super(e,i,n,r,ps)}};Ot(Wy,_I);Ot(Wy,wg);var P9=Wy;function pMe(t,e,i){return e=gMe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function gMe(t){var e=bMe(t,"string");return typeof e=="symbol"?e:e+""}function bMe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jy=class extends ia{constructor(e,i,n,r){super(e,i,ps,n,r),pMe(this,"cachedFixedRowsBottom",-1),this.cachedFixedRowsBottom=this.wtSettings.getSetting("fixedRowsBottom")}createTable(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return new P9(...i)}shouldBeRendered(){return this.wtSettings.getSetting("shouldRenderBottomOverlay")}resetFixedPosition(){if(!this.needFullRender||!this.shouldBeRendered()||!this.wot.wtTable.holder.parentNode)return!1;let{rootWindow:e}=this.domBindings,i=this.clone.wtTable.holder.parentNode;i.style.top="";let n=0,r=this.wtSettings.getSetting("preventOverflow");this.trimmingContainer===e&&(!r||r!=="vertical")?(n=this.getOverlayOffset(),i.style.bottom=`${n}px`):(n=this.getScrollPosition(),this.repositionOverlay());let o=this.adjustHeaderBordersPosition(n);return this.adjustElementsSize(),o}repositionOverlay(){let{wtTable:e,wtViewport:i}=this.wot,{rootDocument:n}=this.domBindings,r=this.clone.wtTable.holder.parentNode,o=0;i.hasVerticalScroll()||(o+=i.getWorkspaceHeight()-e.getTotalHeight()),i.hasVerticalScroll()&&i.hasHorizontalScroll()&&(o+=zi(n)),r.style.bottom=`${o}px`}setScrollPosition(e){let{rootWindow:i}=this.domBindings,n=!1;return this.mainTableScrollableElement===i?(i.scrollTo(vy(i),e),n=!0):this.mainTableScrollableElement.scrollTop!==e&&(this.mainTableScrollableElement.scrollTop=e,n=!0),n}onScroll(){this.wtSettings.getSetting("onScrollHorizontally")}sumCellSizes(e,i){let{wtTable:n,wtSettings:r}=this.wot,o=r.getSetting("defaultRowHeight"),s=e,a=0;for(;s<i;){let l=n.getRowHeight(s);a+=l===void 0?o:l,s+=1}return a}adjustElementsSize(){this.updateTrimmingContainer(),this.needFullRender&&(this.adjustRootElementSize(),this.adjustRootChildrenSize())}adjustRootElementSize(){let{wtTable:e,wtViewport:i}=this.wot,{rootDocument:n,rootWindow:r}=this.domBindings,o=zi(n),a=this.clone.wtTable.holder.parentNode.style,l=this.wtSettings.getSetting("preventOverflow");if(this.trimmingContainer!==r||l==="horizontal"){let d=i.getWorkspaceWidth();this.wot.wtOverlays.hasScrollbarRight&&(d-=o),d=Math.min(d,e.wtRootElement.scrollWidth),a.width=`${d}px`}else a.width="";this.clone.wtTable.holder.style.width=a.width;let c=si(this.clone.wtTable.TABLE);this.wot.wtTable.hasDefinedSize()||(c=0),a.height=`${c}px`}adjustRootChildrenSize(){let{holder:e}=this.clone.wtTable;this.clone.wtTable.hider.style.width=this.hider.style.width,e.style.width=e.parentNode.style.width,e.style.height=e.parentNode.style.height}applyToDOM(){let e=this.wtSettings.getSetting("totalRows");if(typeof this.wot.wtViewport.rowsRenderCalculator.startPosition=="number")this.spreader.style.top=`${this.wot.wtViewport.rowsRenderCalculator.startPosition}px`;else if(e===0)this.spreader.style.top="0";else throw new Error("Incorrect value of the rowsRenderCalculator");this.spreader.style.bottom="",this.needFullRender&&this.syncOverlayOffset()}syncOverlayOffset(){let e=this.isRtl()?"right":"left",{spreader:i}=this.clone.wtTable;typeof this.wot.wtViewport.columnsRenderCalculator.startPosition=="number"?i.style[e]=`${this.wot.wtViewport.columnsRenderCalculator.startPosition}px`:i.style[e]=""}scrollTo(e,i){let n=this.getTableParentOffset(),o=(this.wot.cloneSource?this.wot.cloneSource:this.wot).wtTable.holder,s=0;i&&o.offsetHeight!==o.clientHeight&&(s=zi(this.domBindings.rootDocument)),i?(n+=this.sumCellSizes(0,e+1),n-=this.wot.wtViewport.getViewportHeight(),n+=1):n+=this.sumCellSizes(this.wtSettings.getSetting("fixedRowsBottom"),e),n+=s,this.setScrollPosition(n)}getTableParentOffset(){return this.mainTableScrollableElement===this.domBindings.rootWindow?this.wot.wtTable.holderOffset.top:0}getScrollPosition(){return eg(this.mainTableScrollableElement,this.domBindings.rootWindow)}getOverlayOffset(){let{rootWindow:e}=this.domBindings,i=this.wtSettings.getSetting("preventOverflow"),n=0;if(this.trimmingContainer===e&&(!i||i!=="vertical")){let r=this.wot.wtTable.getTotalHeight(),o=this.clone.wtTable.getTotalHeight(),s=r-o,a=this.domBindings.rootDocument.documentElement.clientHeight;n=Math.max(this.getTableParentOffset()-this.getScrollPosition()-a+r,0),n>s&&(n=0)}return n}adjustHeaderBordersPosition(e){let i=this.wtSettings.getSetting("fixedRowsBottom"),n=this.cachedFixedRowsBottom!==i,r=this.wtSettings.getSetting("columnHeaders"),o=!1;if((n||i===0)&&r.length>0){let s=this.wot.wtTable.holder.parentNode,a=Fe(s,"innerBorderBottom");this.cachedFixedRowsBottom=this.wtSettings.getSetting("fixedRowsBottom"),e||this.wtSettings.getSetting("totalRows")===0?(ne(s,"innerBorderBottom"),o=!a):(tt(s,"innerBorderBottom"),o=a)}return o}};var unt=w(Q(),1);var vMe="calculatedRows",k9={getFirstRenderedRow(){let t=this.dataAccessObject.startRowRendered;return t===null?-1:t},getFirstVisibleRow(){let t=this.dataAccessObject.startRowVisible;return t===null?-1:t},getFirstPartiallyVisibleRow(){let t=this.dataAccessObject.startRowPartiallyVisible;return t===null?-1:t},getLastRenderedRow(){let t=this.dataAccessObject.endRowRendered;return t===null?-1:t},getLastVisibleRow(){let t=this.dataAccessObject.endRowVisible;return t===null?-1:t},getLastPartiallyVisibleRow(){let t=this.dataAccessObject.endRowPartiallyVisible;return t===null?-1:t},getRenderedRowsCount(){return this.dataAccessObject.countRowsRendered},getVisibleRowsCount(){return this.dataAccessObject.countRowsVisible},getColumnHeadersCount(){return this.dataAccessObject.columnHeaders.length}};Er(k9,"MIXIN_NAME",vMe,{writable:!1,enumerable:!1});var CI=k9;var Uy=class extends ta{constructor(e,i,n,r){super(e,i,n,r,za)}};Ot(Uy,CI);Ot(Uy,yg);var N9=Uy;var yit=w(be(),1);var _Me="localHooks",L9={_localHooks:Object.create(null),addLocalHook(t,e){return this._localHooks[t]||(this._localHooks[t]=[]),this._localHooks[t].push(e),this},runLocalHooks(t,e,i,n,r,o,s){if(this._localHooks[t]){let a=this._localHooks[t].length;for(let l=0;l<a;l++)yy(this._localHooks[t][l],this,e,i,n,r,o,s)}},clearLocalHooks(){return this._localHooks={},this}};Er(L9,"MIXIN_NAME",_Me,{writable:!1,enumerable:!1});var Xi=L9;var SI=class{constructor(e,i){this.settings=e,this.cellRange=i||null}isEmpty(){return this.cellRange===null}add(e){return this.isEmpty()?this.cellRange=this.settings.createCellRange(e):this.cellRange.expand(e),this}replace(e,i){if(!this.isEmpty()){if(this.cellRange.from.isEqual(e))return this.cellRange.from=i,!0;if(this.cellRange.to.isEqual(e))return this.cellRange.to=i,!0}return!1}clear(){return this.cellRange=null,this}getCorners(){let e=this.cellRange.getOuterTopStartCorner(),i=this.cellRange.getOuterBottomEndCorner();return[e.row,e.col,i.row,i.col]}destroy(){this.runLocalHooks("destroy")}};Ot(SI,Xi);var xI=SI;var Cg="active-header",Ou="header",Pu="area",ff="focus",EI="fill",RI="row",TI="column",II="custom-selection";var Sg=Object.freeze({width:"6px",height:"6px",borderWidth:"1px",borderStyle:"solid",borderColor:"#FFF"});var $it=w(Q(),1),qit=w(be(),1),Kit=w(YL(),1),Xit=w(Fi(),1),Qit=w(Hi(),1),Zit=w(Vi(),1),Jit=w(Bi(),1),ent=w(Wi(),1),tnt=w(ji(),1),int=w(Ui(),1);var Ait=w(Q(),1),Oit=w(Fi(),1),Pit=w(Hi(),1),kit=w(Vi(),1),Nit=w(Bi(),1),Lit=w(Wi(),1),Fit=w(ji(),1),Hit=w(Ui(),1);function wMe(t,e){V9(t,e),e.add(t)}function F9(t,e,i){V9(t,e),e.set(t,i)}function V9(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Zn(t,e){return t.get(zy(t,e))}function H9(t,e,i){return t.set(zy(t,e),i),i}function zy(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var Ga=new WeakMap,Yo=new WeakMap,DI=new WeakSet,MI=class{constructor(){wMe(this,DI),F9(this,Ga,void 0),F9(this,Yo,void 0)}setActiveOverlay(e){return H9(Yo,this,e),this}setActiveSelection(e){return H9(Ga,this,e),this}scan(){let e=Zn(Ga,this).settings.selectionType,i=new Set;return e==="active-header"?(this.scanColumnsInHeadersRange(n=>i.add(n)),this.scanRowsInHeadersRange(n=>i.add(n))):e==="area"?this.scanCellsRange(n=>i.add(n)):e==="focus"?(this.scanColumnsInHeadersRange(n=>i.add(n)),this.scanRowsInHeadersRange(n=>i.add(n)),this.scanCellsRange(n=>i.add(n))):e==="fill"?this.scanCellsRange(n=>i.add(n)):e==="header"?(this.scanColumnsInHeadersRange(n=>i.add(n)),this.scanRowsInHeadersRange(n=>i.add(n))):e==="row"?(this.scanRowsInHeadersRange(n=>i.add(n)),this.scanRowsInCellsRange(n=>i.add(n))):e==="column"&&(this.scanColumnsInHeadersRange(n=>i.add(n)),this.scanColumnsInCellsRange(n=>i.add(n))),i}scanColumnsInHeadersRange(e){let[i,n,r,o]=Zn(Ga,this).getCorners(),{wtTable:s}=Zn(Yo,this),a=s.getRenderedColumnsCount(),l=s.getColumnHeadersCount(),c=0;for(let d=-s.getRowHeadersCount();d<a;d++){let u=s.columnFilter.renderedToSource(d);if(!(u<n||u>o)){for(let f=-l;f<0;f++){if(f<i||f>r)continue;let m=f+l,g=s.getColumnHeader(u,m),_=Zn(Yo,this).getSetting("onBeforeHighlightingColumnHeader",u,m,{selectionType:Zn(Ga,this).settings.selectionType,columnCursor:c,selectionWidth:o-n+1});_!==null&&(_!==u&&(g=s.getColumnHeader(_,m)),e(g))}c+=1}}}scanRowsInHeadersRange(e){let[i,n,r,o]=Zn(Ga,this).getCorners(),{wtTable:s}=Zn(Yo,this),a=s.getRenderedRowsCount(),l=s.getRowHeadersCount(),c=0;for(let d=-s.getColumnHeadersCount();d<a;d++){let u=s.rowFilter.renderedToSource(d);if(!(u<i||u>r)){for(let f=-l;f<0;f++){if(f<n||f>o)continue;let m=f+l,g=s.getRowHeader(u,m),_=Zn(Yo,this).getSetting("onBeforeHighlightingRowHeader",u,m,{selectionType:Zn(Ga,this).settings.selectionType,rowCursor:c,selectionHeight:r-i+1});_!==null&&(_!==u&&(g=s.getRowHeader(_,m)),e(g))}c+=1}}}scanCellsRange(e){let[i,n,r,o]=Zn(Ga,this).getCorners(),{wtTable:s}=Zn(Yo,this);zy(DI,this,GL).call(this,(a,l)=>{if(a>=i&&a<=r&&l>=n&&l<=o){let c=s.getCell(Zn(Yo,this).createCellCoords(a,l)),d=Zn(Yo,this).getSetting("onAfterDrawSelection",a,l,Zn(Ga,this).settings.layerLevel);typeof d=="string"&&ne(c,d),e(c)}})}scanRowsInCellsRange(e){let[i,,n]=Zn(Ga,this).getCorners(),{wtTable:r}=Zn(Yo,this);zy(DI,this,GL).call(this,(o,s)=>{if(o>=i&&o<=n){let a=r.getCell(Zn(Yo,this).createCellCoords(o,s));e(a)}})}scanColumnsInCellsRange(e){let[,i,,n]=Zn(Ga,this).getCorners(),{wtTable:r}=Zn(Yo,this);zy(DI,this,GL).call(this,(o,s)=>{if(s>=i&&s<=n){let a=r.getCell(Zn(Yo,this).createCellCoords(o,s));e(a)}})}};function GL(t){let{wtTable:e}=Zn(Yo,this),i=e.getRenderedRowsCount(),n=e.getRenderedColumnsCount();for(let r=0;r<i;r+=1){let o=e.rowFilter.renderedToSource(r);for(let s=0;s<n;s+=1)t(o,e.columnFilter.renderedToSource(s))}}var $L=class{constructor(e,i){i&&(this.eventManager=e.eventManager,this.instance=e,this.wot=e,this.settings=i,this.mouseDown=!1,this.main=null,this.top=null,this.bottom=null,this.start=null,this.end=null,this.topStyle=null,this.bottomStyle=null,this.startStyle=null,this.endStyle=null,this.cornerDefaultStyle=Sg,this.cornerCenterPointOffset=-(parseInt(this.cornerDefaultStyle.width,10)/2),this.corner=null,this.cornerStyle=null,this.createBorders(i),this.registerListeners())}registerListeners(){let e=this.wot.rootDocument.body;this.eventManager.addEventListener(e,"mousedown",()=>this.onMouseDown()),this.eventManager.addEventListener(e,"mouseup",()=>this.onMouseUp());for(let i=0,n=this.main.childNodes.length;i<n;i++){let r=this.main.childNodes[i];this.eventManager.addEventListener(r,"mouseenter",o=>this.onMouseEnter(o,this.main.childNodes[i]))}}onMouseDown(){this.mouseDown=!0}onMouseUp(){this.mouseDown=!1}onMouseEnter(e,i){if(!this.mouseDown||!this.wot.getSetting("hideBorderOnMouseDownOver"))return;e.preventDefault(),Hn(e);let n=this,r=this.wot.rootDocument.body,o=i.getBoundingClientRect();i.style.display="none";function s(l){if(l.clientY<Math.floor(o.top)||l.clientY>Math.ceil(o.top+o.height)||l.clientX<Math.floor(o.left)||l.clientX>Math.ceil(o.left+o.width))return!0}function a(l){s(l)&&(n.eventManager.removeEventListener(r,"mousemove",a),i.style.display="block")}this.eventManager.addEventListener(r,"mousemove",a)}createBorders(e){let{rootDocument:i}=this.wot;this.main=i.createElement("div");let n=["top","start","bottom","end","corner"],r=this.main.style;r.position="absolute",r.top=0,r.left=0;for(let a=0;a<5;a++){let l=n[a],c=i.createElement("div");c.className=`wtBorder ${this.settings.className||""}`,this.settings[l]&&this.settings[l].hide&&(c.className+=" hidden"),r=c.style,r.backgroundColor=this.settings[l]&&this.settings[l].color?this.settings[l].color:e.border.color,r.height=this.settings[l]&&this.settings[l].width?`${this.settings[l].width}px`:`${e.border.width}px`,r.width=this.settings[l]&&this.settings[l].width?`${this.settings[l].width}px`:`${e.border.width}px`,this.main.appendChild(c)}this.top=this.main.childNodes[0],this.start=this.main.childNodes[1],this.bottom=this.main.childNodes[2],this.end=this.main.childNodes[3],this.topStyle=this.top.style,this.startStyle=this.start.style,this.bottomStyle=this.bottom.style,this.endStyle=this.end.style,this.corner=this.main.childNodes[4],this.corner.className+=" corner",this.cornerStyle=this.corner.style,this.cornerStyle.width=this.cornerDefaultStyle.width,this.cornerStyle.height=this.cornerDefaultStyle.height,this.cornerStyle.border=[this.cornerDefaultStyle.borderWidth,this.cornerDefaultStyle.borderStyle,this.cornerDefaultStyle.borderColor].join(" "),fs()&&this.instance.getSetting("isDataViewInstance")&&this.createMultipleSelectorHandles(),this.disappear();let{wtTable:o}=this.wot,s=o.bordersHolder;s||(s=i.createElement("div"),s.className="htBorders",o.bordersHolder=s,o.spreader.appendChild(s)),s.appendChild(this.main)}createMultipleSelectorHandles(){let{rootDocument:e}=this.wot;this.selectionHandles={top:e.createElement("DIV"),topHitArea:e.createElement("DIV"),bottom:e.createElement("DIV"),bottomHitArea:e.createElement("DIV")};let i=10,n=40;this.selectionHandles.top.className="topSelectionHandle topLeftSelectionHandle",this.selectionHandles.topHitArea.className="topSelectionHandle-HitArea topLeftSelectionHandle-HitArea",this.selectionHandles.bottom.className="bottomSelectionHandle bottomRightSelectionHandle",this.selectionHandles.bottomHitArea.className="bottomSelectionHandle-HitArea bottomRightSelectionHandle-HitArea",this.selectionHandles.styles={top:this.selectionHandles.top.style,topHitArea:this.selectionHandles.topHitArea.style,bottom:this.selectionHandles.bottom.style,bottomHitArea:this.selectionHandles.bottomHitArea.style};let r={position:"absolute",height:`${n}px`,width:`${n}px`,"border-radius":`${parseInt(n/1.5,10)}px`};nt(r,(s,a)=>{this.selectionHandles.styles.bottomHitArea[a]=s,this.selectionHandles.styles.topHitArea[a]=s});let o={position:"absolute",height:`${i}px`,width:`${i}px`,"border-radius":`${parseInt(i/1.5,10)}px`,background:"#F5F5FF",border:"1px solid #4285c8"};nt(o,(s,a)=>{this.selectionHandles.styles.bottom[a]=s,this.selectionHandles.styles.top[a]=s}),this.main.appendChild(this.selectionHandles.top),this.main.appendChild(this.selectionHandles.bottom),this.main.appendChild(this.selectionHandles.topHitArea),this.main.appendChild(this.selectionHandles.bottomHitArea)}isPartRange(e,i){let n=this.wot.selectionManager.getAreaSelection();return!!(n.cellRange&&(e!==n.cellRange.to.row||i!==n.cellRange.to.col))}updateMultipleSelectionHandlesPosition(e,i,n,r,o,s){let l=this.wot.wtSettings.getSetting("rtlMode")?"right":"left",{top:c,topHitArea:d,bottom:u,bottomHitArea:f}=this.selectionHandles.styles,m=parseInt(c.borderWidth,10),g=parseInt(c.width,10),_=parseInt(d.width,10),b=this.wot.wtTable.getWidth(),y=this.wot.wtTable.getHeight();c.top=`${parseInt(n-g-1,10)}px`,c[l]=`${parseInt(r-g-1,10)}px`,d.top=`${parseInt(n-_/4*3,10)}px`,d[l]=`${parseInt(r-_/4*3,10)}px`;let x=Math.min(parseInt(r+o,10),b-g-m*2),T=Math.min(parseInt(r+o-_/4,10),b-_-m*2);u[l]=`${x}px`,f[l]=`${T}px`;let O=Math.min(parseInt(n+s,10),y-g-m*2),P=Math.min(parseInt(n+s-_/4,10),y-_-m*2);u.top=`${O}px`,f.top=`${P}px`,this.settings.border.cornerVisible&&this.settings.border.cornerVisible()?(c.display="block",d.display="block",this.isPartRange(e,i)?(u.display="none",f.display="none"):(u.display="block",f.display="block")):(c.display="none",u.display="none",d.display="none",f.display="none"),e===this.wot.wtSettings.getSetting("fixedRowsTop")||i===this.wot.wtSettings.getSetting("fixedColumnsStart")?(c.zIndex="9999",d.zIndex="9999"):(c.zIndex="",d.zIndex="")}appear(e){if(this.disabled)return;let{wtTable:i,rootDocument:n,rootWindow:r}=this.wot,o,s,a,l,c,d,u=i.getRenderedRowsCount();for(let he=0;he<u;he+=1){let de=i.rowFilter.renderedToSource(he);if(de>=e[0]&&de<=e[2]){o=de,c=e[0];break}}for(let he=u-1;he>=0;he-=1){let de=i.rowFilter.renderedToSource(he);if(de>=e[0]&&de<=e[2]){s=de;break}}let f=i.getRenderedColumnsCount();for(let he=0;he<f;he+=1){let de=i.columnFilter.renderedToSource(he);if(de>=e[1]&&de<=e[3]){a=de,d=e[1];break}}for(let he=f-1;he>=0;he-=1){let de=i.columnFilter.renderedToSource(he);if(de>=e[1]&&de<=e[3]){l=de;break}}if(o===void 0||a===void 0){this.disappear();return}let m=i.getCell(this.wot.createCellCoords(o,a)),g=o!==s||a!==l,_=g?i.getCell(this.wot.createCellCoords(s,l)):m,b=rn(m),y=g?rn(_):b,x=rn(i.TABLE),T=$t(i.TABLE),O=b.top,P=b.left,V=this.wot.wtSettings.getSetting("rtlMode"),F=0,k=0;if(V){let he=$t(m),de=r.innerWidth-x.left-T;k=P+he-y.left,F=r.innerWidth-P-he-de-1}else k=y.left+$t(_)-P,F=P-x.left-1;if(this.isEntireColumnSelected(o,s)){let he=this.getDimensionsFromHeader("columns",a,l,c,x),de=null;he&&([de,F,k]=he),de&&(m=de)}let Z=O-x.top-1,ae=y.top+si(_)-O;if(this.isEntireRowSelected(a,l)){let he=this.getDimensionsFromHeader("rows",o,s,d,x),de=null;he&&([de,Z,ae]=he),de&&(m=de)}let re=Xs(m,r);parseInt(re.borderTopWidth,10)>0&&(Z+=1,ae=ae>0?ae-1:0),parseInt(re[V?"borderRightWidth":"borderLeftWidth"],10)>0&&(F+=1,k=k>0?k-1:0);let ve=V?"right":"left";this.topStyle.top=`${Z}px`,this.topStyle[ve]=`${F}px`,this.topStyle.width=`${k}px`,this.topStyle.display="block",this.startStyle.top=`${Z}px`,this.startStyle[ve]=`${F}px`,this.startStyle.height=`${ae}px`,this.startStyle.display="block";let Pe=Math.floor(this.settings.border.width/2);this.bottomStyle.top=`${Z+ae-Pe}px`,this.bottomStyle[ve]=`${F}px`,this.bottomStyle.width=`${k}px`,this.bottomStyle.display="block",this.endStyle.top=`${Z}px`,this.endStyle[ve]=`${F+k-Pe}px`,this.endStyle.height=`${ae+1}px`,this.endStyle.display="block";let Ne=this.settings.border.cornerVisible;Ne=typeof Ne=="function"?Ne(this.settings.layerLevel):Ne;let Oe=this.wot.getSetting("onModifyGetCellCoords",s,l),[je,Ue]=[s,l];if(Oe&&Array.isArray(Oe)&&([,,je,Ue]=Oe),fs()||!Ne||this.isPartRange(je,Ue))this.cornerStyle.display="none";else{this.cornerStyle.top=`${Z+ae+this.cornerCenterPointOffset-1}px`,this.cornerStyle[ve]=`${F+k+this.cornerCenterPointOffset-1}px`,this.cornerStyle.borderRightWidth=this.cornerDefaultStyle.borderWidth,this.cornerStyle.width=this.cornerDefaultStyle.width,this.cornerStyle.display="none";let he=Va(i.TABLE),de=he===r;de&&(he=n.documentElement);let oi=parseInt(this.cornerDefaultStyle.width,10)/2,S=parseInt(this.cornerDefaultStyle.height,10)/2;if(l===this.wot.getSetting("totalColumns")-1){let E=de?_.getBoundingClientRect().left:_.offsetLeft,R=!1,G=0;V?(G=E-parseInt(this.cornerDefaultStyle.width,10)/2,R=G<0):(G=E+$t(_)+parseInt(this.cornerDefaultStyle.width,10)/2,R=G>=xT(he)),R&&(this.cornerStyle[ve]=`${Math.floor(F+k+this.cornerCenterPointOffset-oi)}px`,this.cornerStyle[V?"borderLeftWidth":"borderRightWidth"]=0)}s===this.wot.getSetting("totalRows")-1&&(de?_.getBoundingClientRect().top:_.offsetTop)+si(_)+parseInt(this.cornerDefaultStyle.height,10)/2>=Hc(he)&&(this.cornerStyle.top=`${Math.floor(Z+ae+this.cornerCenterPointOffset-S)}px`,this.cornerStyle.borderBottomWidth=0),this.cornerStyle.display="block"}fs()&&this.instance.getSetting("isDataViewInstance")&&this.updateMultipleSelectionHandlesPosition(s,l,Z,F,k,ae)}isEntireColumnSelected(e,i){return e===this.wot.wtTable.getFirstRenderedRow()&&i===this.wot.wtTable.getLastRenderedRow()}isEntireRowSelected(e,i){return e===this.wot.wtTable.getFirstRenderedColumn()&&i===this.wot.wtTable.getLastRenderedColumn()}getDimensionsFromHeader(e,i,n,r,o){let{wtTable:s}=this.wot,a=s.wtRootElement.parentNode,l=null,c=null,d=null,u=null,f=null,m=null,g=null,_=null;switch(e){case"rows":l=function(){return s.getRowHeader(...arguments)},c=function(){return si(...arguments)},d="ht__selection--rows",m="top";break;case"columns":l=function(){return s.getColumnHeader(...arguments)},c=function(){return $t(...arguments)},d="ht__selection--columns",m="left";break;default:}if(a.classList.contains(d)){let b=this.wot.getSetting("columnHeaders").length;if(g=l(i,b-r),_=l(n,b-r),!g||!_)return!1;let y=rn(g),x=rn(_);return g&&_&&(u=y[m]-o[m]-1,f=x[m]+c(_)-y[m]),[g,u,f]}return!1}changeBorderStyle(e,i){let n=this[e].style,r=i[e];!r||r.hide?ne(this[e],"hidden"):(Fe(this[e],"hidden")&&tt(this[e],"hidden"),n.backgroundColor=r.color,(e==="top"||e==="bottom")&&(n.height=`${r.width}px`),(e==="start"||e==="end")&&(n.width=`${r.width}px`))}changeBorderToDefaultStyle(e){let i={width:1,color:"#000"},n=this[e].style;n.backgroundColor=i.color,n.width=`${i.width}px`,n.height=`${i.width}px`}toggleHiddenClass(e,i){this.changeBorderToDefaultStyle(e),i?ne(this[e],"hidden"):tt(this[e],"hidden")}disappear(){this.topStyle.display="none",this.bottomStyle.display="none",this.startStyle.display="none",this.endStyle.display="none",this.cornerStyle.display="none",fs()&&this.instance.getSetting("isDataViewInstance")&&(this.selectionHandles.styles.top.display="none",this.selectionHandles.styles.topHitArea.display="none",this.selectionHandles.styles.bottom.display="none",this.selectionHandles.styles.bottomHitArea.display="none")}destroy(){this.eventManager.destroyWithOwnEventsOnly(),this.main.parentNode.removeChild(this.main)}},qL=$L;function CMe(t,e){j9(t,e),e.add(t)}function xg(t,e,i){j9(t,e),e.set(t,i)}function j9(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ii(t,e){return t.get(QL(t,e))}function B9(t,e,i){return t.set(QL(t,e),i),i}function QL(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var ro=new WeakMap,Go=new WeakMap,KL=new WeakMap,Yy=new WeakMap,XL=new WeakMap,mf=new WeakMap,W9=new WeakSet,AI=class{constructor(e){CMe(this,W9),xg(this,ro,void 0),xg(this,Go,void 0),xg(this,KL,new MI),xg(this,Yy,new WeakMap),xg(this,XL,new WeakSet),xg(this,mf,new Map),B9(Go,this,e)}setActiveOverlay(e){return B9(ro,this,e),ii(KL,this).setActiveOverlay(ii(ro,this)),ii(Yy,this).has(ii(ro,this))||ii(Yy,this).set(ii(ro,this),new Set),this}getFocusSelection(){return ii(Go,this)!==null?ii(Go,this).getFocus():null}getAreaSelection(){return ii(Go,this)!==null?ii(Go,this).createLayeredArea():null}getBorderInstance(e){if(!e.settings.border)return null;if(ii(mf,this).has(e)){let n=ii(mf,this).get(e);if(n.has(ii(ro,this)))return n.get(ii(ro,this));let r=new qL(ii(ro,this),e.settings);return n.set(ii(ro,this),r),r}let i=new qL(ii(ro,this),e.settings);return ii(mf,this).set(e,new Map([[ii(ro,this),i]])),i}getBorderInstances(e){var i,n;return Array.from((i=(n=ii(mf,this).get(e))===null||n===void 0?void 0:n.values())!==null&&i!==void 0?i:[])}destroyBorders(e){ii(mf,this).get(e).forEach(i=>i.destroy()),ii(mf,this).delete(e)}render(e){if(ii(Go,this)===null)return;e&&QL(W9,this,SMe).call(this);let i=Array.from(ii(Go,this)),n=new Map,r=new Map;for(let o=0;o<i.length;o++){let s=i[o],{className:a,headerAttributes:l,createLayers:c,selectionType:d}=s.settings;ii(XL,this).has(s)||(ii(XL,this).add(s),s.addLocalHook("destroy",()=>this.destroyBorders(s)));let u=this.getBorderInstance(s);if(s.isEmpty()){u?.disappear();continue}a&&ii(KL,this).setActiveSelection(s).scan().forEach(g=>{if(n.has(g)){let _=n.get(g);_.has(a)&&c===!0?_.set(a,_.get(a)+1):_.set(a,1)}else n.set(g,new Map([[a,1]]));l&&(r.has(g)||r.set(g,[]),g.nodeName==="TH"&&r.get(g).push(...l))});let f=s.getCorners();ii(ro,this).getSetting("onBeforeDrawBorders",f,d),u?.appear(f)}n.forEach((o,s)=>{var a;let l=Array.from(o).map(c=>{let[d,u]=c;return u===1?d:[d,...Array.from({length:u-1},(f,m)=>`${d}-${m+1}`)]}).flat();l.forEach(c=>ii(Yy,this).get(ii(ro,this)).add(c)),ne(s,l),s.nodeName==="TD"&&Array.isArray((a=ii(Go,this).options)===null||a===void 0?void 0:a.cellAttributes)&&Le(s,ii(Go,this).options.cellAttributes)}),Array.from(r.keys()).forEach(o=>{Le(o,[...r.get(o)])})}};function SMe(){let t=ii(Yy,this).get(ii(ro,this)),e=ii(ro,this).wtSettings.getSetting("onBeforeRemoveCellClassNames");if(Array.isArray(e))for(let i=0;i<e.length;i++)t.add(e[i]);t.forEach(i=>{var n,r;let o=ii(ro,this).wtTable.TABLE.querySelectorAll(`.${i}`),s=[];Array.isArray((n=ii(Go,this).options)===null||n===void 0?void 0:n.cellAttributes)&&(s=ii(Go,this).options.cellAttributes.map(a=>a[0])),Array.isArray((r=ii(Go,this).options)===null||r===void 0?void 0:r.headerAttributes)&&(s=[...s,...ii(Go,this).options.headerAttributes.map(a=>a[0])]);for(let a=0,l=o.length;a<l;a++)tt(o[a],i),$s(o[a],s)}),t.clear()}var Gy=class extends ia{constructor(e,i,n,r){super(e,i,za,n,r)}createTable(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return new N9(...i)}shouldBeRendered(){return this.wtSettings.getSetting("shouldRenderInlineStartOverlay")}resetFixedPosition(){let{wtTable:e}=this.wot;if(!this.needFullRender||!this.shouldBeRendered()||!e.holder.parentNode)return!1;let{rootWindow:i}=this.domBindings,n=this.clone.wtTable.holder.parentNode,r=this.wtSettings.getSetting("preventOverflow"),o=0;this.trimmingContainer===i&&(!r||r!=="horizontal")?(o=this.getOverlayOffset()*(this.isRtl()?-1:1),ig(n,`${o}px`,"0px")):(o=this.getScrollPosition(),yu(n));let s=this.adjustHeaderBordersPosition(o);return this.adjustElementsSize(),s}setScrollPosition(e){let{rootWindow:i}=this.domBindings,n=!1;return this.isRtl()&&(e=-e),this.mainTableScrollableElement===i&&i.scrollX!==e?(i.scrollTo(e,$N(i)),n=!0):this.mainTableScrollableElement.scrollLeft!==e&&(this.mainTableScrollableElement.scrollLeft=e,n=!0),n}onScroll(){this.wtSettings.getSetting("onScrollVertically")}sumCellSizes(e,i){let n=this.wtSettings.getSetting("defaultColumnWidth"),r=e,o=0;for(;r<i;)o+=this.wot.wtTable.getStretchedColumnWidth(r)||n,r+=1;return o}adjustElementsSize(){this.updateTrimmingContainer(),this.needFullRender&&(this.adjustRootElementSize(),this.adjustRootChildrenSize())}adjustRootElementSize(){let{wtTable:e}=this.wot,{rootDocument:i,rootWindow:n}=this.domBindings,r=zi(i),s=this.clone.wtTable.holder.parentNode.style,a=this.wtSettings.getSetting("preventOverflow");if(this.trimmingContainer!==n||a==="vertical"){let c=this.wot.wtViewport.getWorkspaceHeight();this.wot.wtOverlays.hasScrollbarBottom&&(c-=r),c=Math.min(c,e.wtRootElement.scrollHeight),s.height=`${c}px`}else s.height="";this.clone.wtTable.holder.style.height=s.height;let l=$t(this.clone.wtTable.TABLE);s.width=`${l}px`}adjustRootChildrenSize(){let{holder:e}=this.clone.wtTable,i=this.wot.selectionManager.getFocusSelection()?parseInt(Sg.width,10)/2:0;this.clone.wtTable.hider.style.height=this.hider.style.height,e.style.height=e.parentNode.style.height,e.style.width=`${parseInt(e.parentNode.style.width,10)+i}px`}applyToDOM(){let e=this.wtSettings.getSetting("totalColumns"),i=this.isRtl()?"right":"left";if(typeof this.wot.wtViewport.columnsRenderCalculator.startPosition=="number")this.spreader.style[i]=`${this.wot.wtViewport.columnsRenderCalculator.startPosition}px`;else if(e===0)this.spreader.style[i]="0";else throw new Error("Incorrect value of the columnsRenderCalculator");this.isRtl()?this.spreader.style.left="":this.spreader.style.right="",this.needFullRender&&this.syncOverlayOffset()}syncOverlayOffset(){typeof this.wot.wtViewport.rowsRenderCalculator.startPosition=="number"?this.clone.wtTable.spreader.style.top=`${this.wot.wtViewport.rowsRenderCalculator.startPosition}px`:this.clone.wtTable.spreader.style.top=""}scrollTo(e,i){let{wtSettings:n}=this,r=n.getSetting("rowHeaders"),o=n.getSetting("fixedColumnsStart"),a=(this.wot.cloneSource?this.wot.cloneSource:this.wot).wtTable.holder,l=o===0&&r.length>0&&!Fe(a.parentNode,"innerBorderInlineStart")?1:0,c=this.getTableParentOffset(),d=0;if(i){let u=this.wot.wtTable.getColumnWidth(e),f=this.wot.wtViewport.getViewportWidth();u>f&&(i=!1)}return i&&a.offsetWidth!==a.clientWidth&&(d=zi(this.domBindings.rootDocument)),i?(c+=this.sumCellSizes(0,e+1),c-=this.wot.wtViewport.getViewportWidth(),c+=l):c+=this.sumCellSizes(this.wtSettings.getSetting("fixedColumnsStart"),e),c+=d,UX(this.mainTableScrollableElement)===c-l&&l>0&&this.wot.wtOverlays.expandHiderHorizontallyBy(l),this.setScrollPosition(c)}getTableParentOffset(){let e=this.wtSettings.getSetting("preventOverflow"),i=0;return!e&&this.trimmingContainer===this.domBindings.rootWindow&&(i=this.wot.wtTable.holderOffset.left),i}getScrollPosition(){return Math.abs(ST(this.mainTableScrollableElement,this.domBindings.rootWindow))}getOverlayOffset(){let{rootWindow:e}=this.domBindings,i=this.wtSettings.getSetting("preventOverflow"),n=0;if(this.trimmingContainer===e&&(!i||i!=="horizontal")){this.isRtl()?n=Math.abs(Math.min(this.getTableParentOffset()-this.getScrollPosition(),0)):n=Math.max(this.getScrollPosition()-this.getTableParentOffset(),0);let r=this.wot.wtTable.getTotalWidth(),o=this.clone.wtTable.getTotalWidth(),s=r-o;n>s&&(n=0)}return n}adjustHeaderBordersPosition(e){let{wtSettings:i}=this,n=this.wot.wtTable.holder.parentNode,r=i.getSetting("rowHeaders"),o=i.getSetting("fixedColumnsStart"),s=i.getSetting("totalRows"),a=i.getSetting("preventOverflow")==="vertical";s?tt(n,"emptyRows"):ne(n,"emptyRows");let l=!1;if(!a){if(o&&!r.length)ne(n,"innerBorderLeft innerBorderInlineStart");else if(!o&&r.length){let c=Fe(n,"innerBorderInlineStart");e?(ne(n,"innerBorderLeft innerBorderInlineStart"),l=!c):(tt(n,"innerBorderLeft innerBorderInlineStart"),l=c)}}return l}};var Rnt=w(Q(),1);var xMe="stickyRowsTop",U9={getFirstRenderedRow(){return this.wtSettings.getSetting("totalRows")===0?-1:0},getFirstVisibleRow(){return this.getFirstRenderedRow()},getFirstPartiallyVisibleRow(){return this.getFirstRenderedRow()},getLastRenderedRow(){return this.getRenderedRowsCount()-1},getLastVisibleRow(){return this.getLastRenderedRow()},getLastPartiallyVisibleRow(){return this.getLastRenderedRow()},getRenderedRowsCount(){let t=this.wtSettings.getSetting("totalRows");return Math.min(this.wtSettings.getSetting("fixedRowsTop"),t)},getVisibleRowsCount(){return this.getRenderedRowsCount()},getColumnHeadersCount(){return this.dataAccessObject.columnHeaders.length}};Er(U9,"MIXIN_NAME",xMe,{writable:!1,enumerable:!1});var OI=U9;var $y=class extends ta{constructor(e,i,n,r){super(e,i,n,r,Ol)}};Ot($y,OI);Ot($y,yg);var z9=$y;function Y9(t,e,i){return e=EMe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function EMe(t){var e=RMe(t,"string");return typeof e=="symbol"?e:e+""}function RMe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qy=class extends ia{constructor(e,i,n,r,o,s){super(e,i,Ol,n,r),Y9(this,"topOverlay",void 0),Y9(this,"inlineStartOverlay",void 0),this.topOverlay=o,this.inlineStartOverlay=s}createTable(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return new z9(...i)}shouldBeRendered(){return this.wtSettings.getSetting("shouldRenderTopOverlay")&&this.wtSettings.getSetting("shouldRenderInlineStartOverlay")}resetFixedPosition(){if(this.updateTrimmingContainer(),!this.wot.wtTable.holder.parentNode)return!1;let e=this.clone.wtTable.holder.parentNode;if(this.trimmingContainer===this.domBindings.rootWindow){let r=this.inlineStartOverlay.getOverlayOffset()*(this.isRtl()?-1:1),o=this.topOverlay.getOverlayOffset();ig(e,`${r}px`,`${o}px`)}else yu(e);let i=si(this.clone.wtTable.TABLE),n=$t(this.clone.wtTable.TABLE);return this.wot.wtTable.hasDefinedSize()||(i=0),e.style.height=`${i}px`,e.style.width=`${n}px`,!1}};var Hnt=w(Q(),1);var Ky=class extends ta{constructor(e,i,n,r){super(e,i,n,r,Ua)}};Ot(Ky,OI);Ot(Ky,wg);var G9=Ky;function TMe(t,e,i){return e=IMe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function IMe(t){var e=DMe(t,"string");return typeof e=="symbol"?e:e+""}function DMe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xy=class extends ia{constructor(e,i,n,r){super(e,i,Ua,n,r),TMe(this,"cachedFixedRowsTop",-1),this.cachedFixedRowsTop=this.wtSettings.getSetting("fixedRowsTop")}createTable(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return new G9(...i)}shouldBeRendered(){return this.wtSettings.getSetting("shouldRenderTopOverlay")}resetFixedPosition(){if(!this.needFullRender||!this.shouldBeRendered()||!this.wot.wtTable.holder.parentNode)return!1;let e=this.clone.wtTable.holder.parentNode,{rootWindow:i}=this.domBindings,n=this.wtSettings.getSetting("preventOverflow"),r=0,o=!1;if(this.trimmingContainer===i&&(!n||n!=="vertical")){let{wtTable:a}=this.wot,l=a.hider.getBoundingClientRect(),c=Math.ceil(l.bottom),d=e.offsetHeight;o=c===d,r=this.getOverlayOffset(),ig(e,"0px",`${r}px`)}else r=this.getScrollPosition(),yu(e);let s=this.adjustHeaderBordersPosition(r,o);return this.adjustElementsSize(),s}setScrollPosition(e){let i=this.domBindings.rootWindow,n=!1;return this.mainTableScrollableElement===i&&i.scrollY!==e?(i.scrollTo(vy(i),e),n=!0):this.mainTableScrollableElement.scrollTop!==e&&(this.mainTableScrollableElement.scrollTop=e,n=!0),n}onScroll(){this.wtSettings.getSetting("onScrollHorizontally")}sumCellSizes(e,i){let n=this.wtSettings.getSetting("defaultRowHeight"),r=e,o=0;for(;r<i;){let s=this.wot.wtTable.getRowHeight(r);o+=s===void 0?n:s,r+=1}return o}adjustElementsSize(){this.updateTrimmingContainer(),this.needFullRender&&(this.adjustRootElementSize(),this.adjustRootChildrenSize())}adjustRootElementSize(){let{wtTable:e}=this.wot,{rootDocument:i,rootWindow:n}=this.domBindings,r=zi(i),s=this.clone.wtTable.holder.parentNode.style,a=this.wtSettings.getSetting("preventOverflow");if(this.trimmingContainer!==n||a==="horizontal"){let c=this.wot.wtViewport.getWorkspaceWidth();this.wot.wtOverlays.hasScrollbarRight&&(c-=r),c=Math.min(c,e.wtRootElement.scrollWidth),s.width=`${c}px`}else s.width="";this.clone.wtTable.holder.style.width=s.width;let l=si(this.clone.wtTable.TABLE);this.wot.wtTable.hasDefinedSize()||(l=0),s.height=`${l}px`}adjustRootChildrenSize(){let{holder:e}=this.clone.wtTable,i=this.wot.selectionManager.getFocusSelection()?parseInt(Sg.height,10)/2:0;this.clone.wtTable.hider.style.width=this.hider.style.width,e.style.width=e.parentNode.style.width,e.style.height=`${parseInt(e.parentNode.style.height,10)+i}px`}applyToDOM(){let e=this.wtSettings.getSetting("totalRows");if(typeof this.wot.wtViewport.rowsRenderCalculator.startPosition=="number")this.spreader.style.top=`${this.wot.wtViewport.rowsRenderCalculator.startPosition}px`;else if(e===0)this.spreader.style.top="0";else throw new Error("Incorrect value of the rowsRenderCalculator");this.spreader.style.bottom="",this.needFullRender&&this.syncOverlayOffset()}syncOverlayOffset(){let e=this.isRtl()?"right":"left",{spreader:i}=this.clone.wtTable;typeof this.wot.wtViewport.columnsRenderCalculator.startPosition=="number"?i.style[e]=`${this.wot.wtViewport.columnsRenderCalculator.startPosition}px`:i.style[e]=""}scrollTo(e,i){let{wot:n,wtSettings:r}=this,s=(n.cloneSource?n.cloneSource:n).wtTable.holder,a=r.getSetting("columnHeaders"),c=r.getSetting("fixedRowsTop")===0&&a.length>0&&!Fe(s.parentNode,"innerBorderTop")?1:0,d=this.getTableParentOffset(),u=0;if(i){let f=this.wot.wtTable.getRowHeight(e),m=this.wot.wtViewport.getViewportHeight();f>m&&(i=!1)}if(i&&s.offsetHeight!==s.clientHeight&&(u=zi(this.domBindings.rootDocument)),i){let f=r.getSetting("fixedRowsBottom"),m=r.getSetting("totalRows");d+=this.sumCellSizes(0,e+1),d-=n.wtViewport.getViewportHeight()-this.sumCellSizes(m-f,m),d+=1,d+=c}else d+=this.sumCellSizes(r.getSetting("fixedRowsTop"),e);return d+=u,jX(this.mainTableScrollableElement)===d-c&&c>0&&this.wot.wtOverlays.expandHiderVerticallyBy(c),this.setScrollPosition(d)}getTableParentOffset(){return this.mainTableScrollableElement===this.domBindings.rootWindow?this.wot.wtTable.holderOffset.top:0}getScrollPosition(){return eg(this.mainTableScrollableElement,this.domBindings.rootWindow)}getOverlayOffset(){let{rootWindow:e}=this.domBindings,i=this.wtSettings.getSetting("preventOverflow"),n=0;if(this.trimmingContainer===e&&(!i||i!=="vertical")){let r=this.wot.wtTable.getTotalHeight(),o=this.clone.wtTable.getTotalHeight(),s=r-o;n=Math.max(this.getScrollPosition()-this.getTableParentOffset(),0),n>s&&(n=0)}return n}adjustHeaderBordersPosition(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,{wtSettings:n}=this,r=this.wot.wtTable.holder.parentNode,o=n.getSetting("totalColumns"),s=n.getSetting("preventOverflow")==="horizontal";o?tt(r,"emptyColumns"):ne(r,"emptyColumns");let a=!1;if(!i&&!s){let l=n.getSetting("fixedRowsTop"),c=this.cachedFixedRowsTop!==l,d=n.getSetting("columnHeaders");if((c||l===0)&&d.length>0){let u=Fe(r,"innerBorderTop");this.cachedFixedRowsTop=n.getSetting("fixedRowsTop"),e||n.getSetting("totalRows")===0?(ne(r,"innerBorderTop"),a=!u):(tt(r,"innerBorderTop"),a=u)}}return a}};function $9(t,e,i){MMe(t,e),e.set(t,i)}function MMe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Wc(t,e,i){return e=AMe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function AMe(t){var e=OMe(t,"string");return typeof e=="symbol"?e:e+""}function OMe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZL(t,e,i){return t.set(q9(t,e),i),i}function Qy(t,e){return t.get(q9(t,e))}function q9(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var Eg=new WeakMap,PI=new WeakMap,JL=class{constructor(e,i,n,r,o,s){Wc(this,"wot",null),$9(this,Eg,[]),Wc(this,"topOverlay",null),Wc(this,"bottomOverlay",null),Wc(this,"inlineStartOverlay",null),Wc(this,"topInlineStartCornerOverlay",null),Wc(this,"bottomInlineStartCornerOverlay",null),Wc(this,"browserLineHeight",void 0),Wc(this,"wtSettings",null),$9(this,PI,!1),Wc(this,"resizeObserver",new ResizeObserver(d=>{ag(()=>{!Array.isArray(d)||!d.length||this.wtSettings.getSetting("onContainerElementResize")})})),this.wot=e,this.wtSettings=r,this.domBindings=n,this.facadeGetter=i,this.wtTable=s;let{rootDocument:a,rootWindow:l}=this.domBindings;this.instance=this.wot,this.eventManager=o,this.scrollbarSize=zi(a);let c=l.getComputedStyle(s.wtRootElement.parentNode).getPropertyValue("overflow")==="hidden";this.scrollableElement=c?s.holder:tg(s.TABLE),this.initOverlays(),this.hasScrollbarBottom=!1,this.hasScrollbarRight=!1,this.destroyed=!1,this.keyPressed=!1,this.spreaderLastSize={width:null,height:null},this.verticalScrolling=!1,this.horizontalScrolling=!1,this.initBrowserLineHeight(),this.registerListeners(),this.lastScrollX=l.scrollX,this.lastScrollY=l.scrollY}getOverlays(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=[...Qy(Eg,this)];return e&&i.push(this.wtTable),i}initBrowserLineHeight(){let{rootWindow:e,rootDocument:i}=this.domBindings,n=e.getComputedStyle(i.body),r=parseInt(n.lineHeight,10),o=parseInt(n.fontSize,10)*1.2;this.browserLineHeight=r||o}initOverlays(){let e=[this.wot,this.facadeGetter,this.wtSettings,this.domBindings];this.topOverlay=new Xy(...e),this.bottomOverlay=new jy(...e),this.inlineStartOverlay=new Gy(...e),this.topInlineStartCornerOverlay=new qy(...e,this.topOverlay,this.inlineStartOverlay),this.bottomInlineStartCornerOverlay=new By(...e,this.bottomOverlay,this.inlineStartOverlay),ZL(Eg,this,[this.topOverlay,this.bottomOverlay,this.inlineStartOverlay,this.topInlineStartCornerOverlay,this.bottomInlineStartCornerOverlay])}beforeDraw(){ZL(PI,this,Qy(Eg,this).reduce((e,i)=>i.hasRenderingStateChanged()||e,!1)),Qy(Eg,this).forEach(e=>e.updateStateOfRendering("before"))}afterDraw(){this.syncScrollWithMaster(),Qy(Eg,this).forEach(e=>{let i=e.hasRenderingStateChanged();e.updateStateOfRendering("after"),i&&!e.needFullRender&&e.reset()})}refreshAll(){if(this.wot.drawn){if(!this.wtTable.holder.parentNode){this.destroy();return}this.wot.draw(!0),this.verticalScrolling&&this.inlineStartOverlay.onScroll(),this.horizontalScrolling&&this.topOverlay.onScroll(),this.verticalScrolling=!1,this.horizontalScrolling=!1}}registerListeners(){let{rootDocument:e,rootWindow:i}=this.domBindings,{mainTableScrollableElement:n}=this.topOverlay,{mainTableScrollableElement:r}=this.inlineStartOverlay;this.eventManager.addEventListener(e.documentElement,"keydown",u=>this.onKeyDown(u)),this.eventManager.addEventListener(e.documentElement,"keyup",()=>this.onKeyUp()),this.eventManager.addEventListener(e,"visibilitychange",()=>this.onKeyUp()),this.eventManager.addEventListener(n,"scroll",u=>this.onTableScroll(u),{passive:!0}),n!==r&&this.eventManager.addEventListener(r,"scroll",u=>this.onTableScroll(u),{passive:!0});let o=i.devicePixelRatio&&i.devicePixelRatio>1,s=this.scrollableElement===i,a=this.wtSettings.getSetting("preventWheel"),l={passive:s};(a||o||!PT())&&this.eventManager.addEventListener(this.wtTable.wtRootElement,"wheel",u=>this.onCloneWheel(u,a),l),[this.topOverlay,this.bottomOverlay,this.inlineStartOverlay,this.topInlineStartCornerOverlay,this.bottomInlineStartCornerOverlay].forEach(u=>{if(u&&u.needFullRender){let{holder:f}=u.clone.wtTable;this.eventManager.addEventListener(f,"wheel",m=>this.onCloneWheel(m,a),l)}});let d;this.eventManager.addEventListener(i,"resize",()=>{clearTimeout(d),d=setTimeout(()=>{this.wtSettings.getSetting("onWindowResize")},200)}),s||this.resizeObserver.observe(this.wtTable.wtRootElement.parentElement)}deregisterListeners(){this.eventManager.clearEvents(!0)}onTableScroll(e){let i=this.domBindings.rootWindow,n=this.inlineStartOverlay.mainTableScrollableElement,r=this.topOverlay.mainTableScrollableElement,o=e.target;this.keyPressed&&(r!==i&&o!==i&&!e.target.contains(r)||n!==i&&o!==i&&!e.target.contains(n))||this.syncScrollPositions(e)}onCloneWheel(e,i){let{rootWindow:n}=this.domBindings,r=this.inlineStartOverlay.mainTableScrollableElement,o=this.topOverlay.mainTableScrollableElement,s=e.target,a=o!==n&&s!==n&&!s.contains(o),l=r!==n&&s!==n&&!s.contains(r);if(this.keyPressed&&(a||l))return;let c=this.translateMouseWheelToScroll(e);(i||this.scrollableElement!==n&&c)&&e.preventDefault()}onKeyDown(e){this.keyPressed=Rl(e.keyCode,"ARROW_UP|ARROW_RIGHT|ARROW_DOWN|ARROW_LEFT")}onKeyUp(){this.keyPressed=!1}translateMouseWheelToScroll(e){let i=isNaN(e.deltaY)?-1*e.wheelDeltaY:e.deltaY,n=isNaN(e.deltaX)?-1*e.wheelDeltaX:e.deltaX;e.deltaMode===1&&(n+=n*this.browserLineHeight,i+=i*this.browserLineHeight);let r=this.scrollVertically(i),o=this.scrollHorizontally(n);return r||o}scrollVertically(e){let i=this.scrollableElement.scrollTop;return this.scrollableElement.scrollTop+=e,i!==this.scrollableElement.scrollTop}scrollHorizontally(e){let i=this.scrollableElement.scrollLeft;return this.scrollableElement.scrollLeft+=e,i!==this.scrollableElement.scrollLeft}syncScrollPositions(){if(this.destroyed)return;let{rootWindow:e}=this.domBindings,i=this.topOverlay.clone.wtTable.holder,n=this.inlineStartOverlay.clone.wtTable.holder,[r,o]=[this.scrollableElement.scrollLeft,this.scrollableElement.scrollTop];if(this.horizontalScrolling=i.scrollLeft!==r||this.lastScrollX!==e.scrollX,this.verticalScrolling=n.scrollTop!==o||this.lastScrollY!==e.scrollY,this.lastScrollX=e.scrollX,this.lastScrollY=e.scrollY,this.horizontalScrolling){i.scrollLeft=r;let s=this.bottomOverlay.needFullRender?this.bottomOverlay.clone.wtTable.holder:null;s&&(s.scrollLeft=r)}this.verticalScrolling&&(n.scrollTop=o),this.refreshAll()}syncScrollWithMaster(){if(!Qy(PI,this))return;let e=this.topOverlay.mainTableScrollableElement,{scrollLeft:i,scrollTop:n}=e;this.topOverlay.needFullRender&&(this.topOverlay.clone.wtTable.holder.scrollLeft=i),this.bottomOverlay.needFullRender&&(this.bottomOverlay.clone.wtTable.holder.scrollLeft=i),this.inlineStartOverlay.needFullRender&&(this.inlineStartOverlay.clone.wtTable.holder.scrollTop=n),ZL(PI,this,!1)}updateMainScrollableElements(){this.deregisterListeners(),this.inlineStartOverlay.updateMainScrollableElement(),this.topOverlay.updateMainScrollableElement(),this.bottomOverlay.needFullRender&&this.bottomOverlay.updateMainScrollableElement();let{wtTable:e}=this,{rootWindow:i}=this.domBindings;i.getComputedStyle(e.wtRootElement.parentNode).getPropertyValue("overflow")==="hidden"?this.scrollableElement=e.holder:this.scrollableElement=tg(e.TABLE),this.registerListeners()}destroy(){this.resizeObserver.disconnect(),this.eventManager.destroy(),this.topOverlay.destroy(),this.bottomOverlay.clone&&this.bottomOverlay.destroy(),this.inlineStartOverlay.destroy(),this.topInlineStartCornerOverlay&&this.topInlineStartCornerOverlay.destroy(),this.bottomInlineStartCornerOverlay&&this.bottomInlineStartCornerOverlay.clone&&this.bottomInlineStartCornerOverlay.destroy(),this.destroyed=!0}refresh(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.updateLastSpreaderSize()&&this.adjustElementsSize(),this.bottomOverlay.clone&&this.bottomOverlay.refresh(e),this.inlineStartOverlay.refresh(e),this.topOverlay.refresh(e),this.topInlineStartCornerOverlay&&this.topInlineStartCornerOverlay.refresh(e),this.bottomInlineStartCornerOverlay&&this.bottomInlineStartCornerOverlay.clone&&this.bottomInlineStartCornerOverlay.refresh(e)}updateLastSpreaderSize(){let e=this.wtTable.spreader,i=e.clientWidth,n=e.clientHeight,r=i!==this.spreaderLastSize.width||n!==this.spreaderLastSize.height;return r&&(this.spreaderLastSize.width=i,this.spreaderLastSize.height=n),r}adjustElementsSize(){let{wtViewport:e}=this.wot,{wtTable:i}=this,{rootWindow:n}=this.domBindings,r=this.scrollableElement===n,o=this.wtSettings.getSetting("totalColumns"),s=this.wtSettings.getSetting("totalRows"),a=e.getRowHeaderWidth(),c=e.getColumnHeaderHeight()+this.topOverlay.sumCellSizes(0,s)+1,d=a+this.inlineStartOverlay.sumCellSizes(0,o),f=i.hider.style,m=()=>r?!1:this.scrollableElement.scrollTop>Math.max(0,c-i.holder.clientHeight),g=()=>r?!1:this.scrollableElement.scrollLeft>Math.max(0,d-i.holder.clientWidth),_=m()?1:0,b=g()?1:0;if(f.width=`${d+b}px`,f.height=`${c+_}px`,this.scrollbarSize>0){let{scrollHeight:y,scrollWidth:x}=i.wtRootElement,{scrollHeight:T,scrollWidth:O}=i.holder;this.hasScrollbarRight=y<T,this.hasScrollbarBottom=x<O,this.hasScrollbarRight&&i.hider.scrollWidth+this.scrollbarSize>x?this.hasScrollbarBottom=!0:this.hasScrollbarBottom&&i.hider.scrollHeight+this.scrollbarSize>y&&(this.hasScrollbarRight=!0)}this.topOverlay.adjustElementsSize(),this.inlineStartOverlay.adjustElementsSize(),this.bottomOverlay.adjustElementsSize()}expandHiderVerticallyBy(e){let{wtTable:i}=this;i.hider.style.height=`${parseInt(i.hider.style.height,10)+e}px`}expandHiderHorizontallyBy(e){let{wtTable:i}=this;i.hider.style.width=`${parseInt(i.hider.style.width,10)+e}px`}applyToDOM(){this.wtTable.isVisible()&&(this.topOverlay.applyToDOM(),this.bottomOverlay.clone&&this.bottomOverlay.applyToDOM(),this.inlineStartOverlay.applyToDOM())}getParentOverlay(e){if(!e)return null;let i=[this.topOverlay,this.inlineStartOverlay,this.bottomOverlay,this.topInlineStartCornerOverlay,this.bottomInlineStartCornerOverlay],n=null;return M(i,r=>{r&&r.clone&&r.clone.wtTable.TABLE.contains(e)&&(n=r.clone)}),n}syncOverlayTableClassNames(){let e=this.wtTable.TABLE,i=[this.topOverlay,this.inlineStartOverlay,this.bottomOverlay,this.topInlineStartCornerOverlay,this.bottomInlineStartCornerOverlay];M(i,n=>{n&&(n.clone.wtTable.TABLE.className=e.className)})}},K9=JL;var art=w(Q(),1);function X9(t,e,i){return e=PMe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function PMe(t){var e=kMe(t,"string");return typeof e=="symbol"?e:e+""}function kMe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kI=class{constructor(e){X9(this,"settings",{}),X9(this,"defaults",Object.freeze(this.getDefaults())),nt(this.defaults,(i,n)=>{if(e[n]!==void 0)this.settings[n]=e[n];else{if(i===void 0)throw new Error(`A required setting "${n}" was not provided`);this.settings[n]=i}})}getDefaults(){return{facade:void 0,table:void 0,isDataViewInstance:!0,externalRowCalculator:!1,stretchH:"none",currentRowClassName:null,currentColumnClassName:null,preventOverflow(){return!1},preventWheel:!1,data:void 0,freezeOverlays:!1,fixedColumnsStart:0,fixedRowsTop:0,fixedRowsBottom:0,shouldRenderInlineStartOverlay:()=>this.getSetting("fixedColumnsStart")>0||this.getSetting("rowHeaders").length>0,shouldRenderTopOverlay:()=>this.getSetting("fixedRowsTop")>0||this.getSetting("columnHeaders").length>0,shouldRenderBottomOverlay:()=>this.getSetting("fixedRowsBottom")>0,minSpareRows:0,rowHeaders(){return[]},columnHeaders(){return[]},totalRows:void 0,totalColumns:void 0,cellRenderer:(e,i,n)=>{let r=this.getSetting("data",e,i);Ks(n,r??"")},columnWidth(){},rowHeight(){},defaultRowHeight:23,defaultColumnWidth:50,selections:null,hideBorderOnMouseDownOver:!1,viewportRowCalculatorOverride:null,viewportColumnCalculatorOverride:null,onCellMouseDown:null,onCellContextMenu:null,onCellMouseOver:null,onCellMouseOut:null,onCellMouseUp:null,onCellDblClick:null,onCellCornerMouseDown:null,onCellCornerDblClick:null,beforeDraw:null,onDraw:null,onBeforeRemoveCellClassNames:null,onAfterDrawSelection:null,onBeforeDrawBorders:null,onBeforeViewportScrollHorizontally:e=>e,onBeforeViewportScrollVertically:e=>e,onScrollHorizontally:null,onScrollVertically:null,onBeforeTouchScroll:null,onAfterMomentumScroll:null,onBeforeStretchingColumnWidth:e=>e,onModifyRowHeaderWidth:null,onModifyGetCellCoords:null,onBeforeHighlightingRowHeader:e=>e,onBeforeHighlightingColumnHeader:e=>e,onWindowResize:null,onContainerElementResize:null,renderAllColumns:!1,renderAllRows:!1,groups:!1,rowHeaderWidth:null,columnHeaderHeight:null,headerClassName:null,rtlMode:!1,ariaTags:!0}}update(e,i){return i===void 0?nt(e,(n,r)=>{this.settings[r]=n}):this.settings[e]=i,this}getSetting(e,i,n,r,o){return typeof this.settings[e]=="function"?this.settings[e](i,n,r,o):i!==void 0&&Array.isArray(this.settings[e])?this.settings[e][i]:this.settings[e]}getSettingPure(e){return this.settings[e]}has(e){return!!this.settings[e]}};var Zy=class extends ta{constructor(e,i,n,r){super(e,i,n,r,"master")}alignOverlaysWithTrimmingContainer(){let e=Va(this.wtRootElement),{rootWindow:i}=this.domBindings;if(e===i)this.wtSettings.getSetting("preventOverflow")||(this.holder.style.overflow="visible",this.wtRootElement.style.overflow="visible");else{let n=e.parentElement,r=vu(e,"height",i),o=vu(e,"overflow",i),s=this.holder.style,{scrollWidth:a,scrollHeight:l}=e,c=e.offsetWidth,d=e.offsetHeight;if(n&&["auto","hidden","scroll"].includes(o)){let f=e.cloneNode(!1);f.style.overflow="auto",f.style.position="absolute",e.nextElementSibling?n.insertBefore(f,e.nextElementSibling):n.appendChild(f);let m=parseInt(Xs(f,i).height,10);n.removeChild(f),m===0&&(d=0)}d=Math.min(d,l),s.height=r==="auto"?"auto":`${d}px`,c=Math.min(c,a),s.width=`${c}px`,s.overflow="",this.hasTableHeight=s.height==="auto"?!0:d>0,this.hasTableWidth=c>0}this.isTableVisible=Gs(this.TABLE)}markOversizedColumnHeaders(){let{wtSettings:e}=this,{wtViewport:i}=this.dataAccessObject,n="master",o=e.getSetting("columnHeaders").length;if(o&&!i.hasOversizedColumnHeadersMarked[n]){let a=e.getSetting("rowHeaders").length,l=this.getRenderedColumnsCount();for(let c=0;c<o;c++)for(let d=-1*a;d<l;d++)this.markIfOversizedColumnHeader(d);i.hasOversizedColumnHeadersMarked[n]=!0}}};Ot(Zy,CI);Ot(Zy,wg);var Q9=Zy;var eF=class{constructor(e,i,n,r,o){this.dataAccessObject=e,this.wot=e.wot,this.instance=this.wot,this.domBindings=i,this.wtSettings=n,this.wtTable=o,this.oversizedRows=[],this.oversizedColumnHeaders=[],this.hasOversizedColumnHeadersMarked={},this.clientHeight=0,this.containerWidth=NaN,this.rowHeaderWidth=NaN,this.rowsVisibleCalculator=null,this.columnsVisibleCalculator=null,this.eventManager=r,this.eventManager.addEventListener(this.domBindings.rootWindow,"resize",()=>{this.clientHeight=this.getWorkspaceHeight()})}getWorkspaceHeight(){let e=this.domBindings.rootDocument,i=this.dataAccessObject.topOverlayTrimmingContainer,n=0;return i===this.domBindings.rootWindow?n=e.documentElement.clientHeight:n=si(i)>0&&i.clientHeight>0?i.clientHeight:1/0,n}getWorkspaceWidth(){let{wtSettings:e}=this,{rootDocument:i,rootWindow:n}=this.domBindings,r=this.dataAccessObject.inlineStartOverlayTrimmingContainer,o=i.documentElement.offsetWidth,s=e.getSetting("totalColumns"),a=e.getSetting("preventOverflow"),l=e.getSetting("rtlMode"),c=this.wtTable.TABLE.getBoundingClientRect(),d=l?c.right-o:c.left,u=o-d,f,m;if(a)return $t(this.wtTable.wtRootElement);if(e.getSetting("freezeOverlays")?f=Math.min(u,o):f=Math.min(this.getContainerFillWidth(),u,o),r===n&&s>0&&this.sumColumnWidths(0,s-1)>f)return i.documentElement.clientWidth;if(r!==n&&(m=vu(this.dataAccessObject.inlineStartOverlayTrimmingContainer,"overflow",n),m==="scroll"||m==="hidden"||m==="auto"))return Math.max(f,r.clientWidth);let g=e.getSetting("stretchH");return g==="none"||!g?Math.max(f,$t(this.wtTable.TABLE)):f}hasVerticalScroll(){return this.wtTable.hider.offsetHeight>this.getWorkspaceHeight()}hasHorizontalScroll(){return this.wtTable.hider.offsetWidth>this.getWorkspaceWidth()}sumColumnWidths(e,i){let n=0,r=e;for(;r<i;)n+=this.wtTable.getColumnWidth(r),r+=1;return n}getContainerFillWidth(){if(this.containerWidth)return this.containerWidth;let e=this.wtTable.holder,i=this.domBindings.rootDocument.createElement("div");i.style.width="100%",i.style.height="1px",e.appendChild(i);let n=i.offsetWidth;return this.containerWidth=n,e.removeChild(i),n}getWorkspaceOffset(){return rn(this.wtTable.TABLE)}getColumnHeaderHeight(){return this.wtSettings.getSetting("columnHeaders").length?isNaN(this.columnHeaderHeight)&&(this.columnHeaderHeight=si(this.wtTable.THEAD)):this.columnHeaderHeight=0,this.columnHeaderHeight}getViewportHeight(){let e=this.getWorkspaceHeight();if(e===1/0)return e;let i=this.getColumnHeaderHeight();return i>0&&(e-=i),e}getRowHeaderWidth(){let e=this.wtSettings.getSetting("rowHeaderWidth"),i=this.wtSettings.getSetting("rowHeaders");if(e){this.rowHeaderWidth=0;for(let n=0,r=i.length;n<r;n++)this.rowHeaderWidth+=e[n]||e}if(isNaN(this.rowHeaderWidth))if(i.length){let n=this.wtTable.TABLE.querySelector("TH");this.rowHeaderWidth=0;for(let r=0,o=i.length;r<o;r++)n?(this.rowHeaderWidth+=$t(n),n=n.nextSibling):this.rowHeaderWidth+=50}else this.rowHeaderWidth=0;return this.rowHeaderWidth=this.wtSettings.getSetting("onModifyRowHeaderWidth",this.rowHeaderWidth)||this.rowHeaderWidth,this.rowHeaderWidth}getViewportWidth(){let e=this.getWorkspaceWidth();if(e===1/0)return e;let i=this.getRowHeaderWidth();return i>0?e-i:e}createRowsCalculator(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,{wtSettings:i,wtTable:n}=this;if(i.getSetting("renderAllRows")&&e===1)return new Iy({totalRows:i.getSetting("totalRows")});let r=this.getViewportHeight(),o,s;this.rowHeaderWidth=NaN;let a=this.dataAccessObject.topScrollPosition-this.dataAccessObject.topParentOffset,l=i.getSetting("fixedRowsTop"),c=i.getSetting("fixedRowsBottom"),d=i.getSetting("totalRows");return l&&a>=0&&(s=this.dataAccessObject.topOverlay.sumCellSizes(0,l),a+=s,r-=s),c&&this.dataAccessObject.bottomOverlay.clone&&(s=this.dataAccessObject.bottomOverlay.sumCellSizes(d-c,d),r-=s),n.holder.clientHeight===n.holder.offsetHeight?o=0:o=zi(this.domBindings.rootDocument),new Iu({viewportHeight:r,scrollOffset:a,totalRows:i.getSetting("totalRows"),rowHeightFn:u=>n.getRowHeight(u),overrideFn:i.getSettingPure("viewportRowCalculatorOverride"),calculationType:e,horizontalScrollbarHeight:o})}createColumnsCalculator(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,{wtSettings:i,wtTable:n}=this;if(i.getSetting("renderAllColumns")&&e===1)return new Ty({totalColumns:i.getSetting("totalColumns")});let r=this.getViewportWidth(),o=Math.abs(this.dataAccessObject.inlineStartScrollPosition)-this.dataAccessObject.inlineStartParentOffset;this.columnHeaderHeight=NaN;let s=i.getSetting("fixedColumnsStart");if(s&&o>=0){let a=this.dataAccessObject.inlineStartOverlay.sumCellSizes(0,s);o+=a,r-=a}return n.holder.clientWidth!==n.holder.offsetWidth&&(r-=zi(this.domBindings.rootDocument)),new Il({viewportWidth:r,scrollOffset:o,totalColumns:i.getSetting("totalColumns"),columnWidthFn:a=>n.getColumnWidth(a),overrideFn:i.getSettingPure("viewportColumnCalculatorOverride"),calculationType:e,inlineStartOffset:this.dataAccessObject.inlineStartParentOffset})}createRenderCalculators(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,{wtSettings:i}=this;if(e&&!i.getSetting("renderAllRows")){let n=this.createRowsCalculator(2);e=this.areAllProposedVisibleRowsAlreadyRendered(n)}if(e&&!i.getSetting("renderAllColumns")){let n=this.createColumnsCalculator(2);e=this.areAllProposedVisibleColumnsAlreadyRendered(n)}return e||(this.rowsRenderCalculator=this.createRowsCalculator(1),this.columnsRenderCalculator=this.createColumnsCalculator(1)),this.rowsVisibleCalculator=null,this.columnsVisibleCalculator=null,e}createVisibleCalculators(){this.rowsVisibleCalculator=this.createRowsCalculator(2),this.columnsVisibleCalculator=this.createColumnsCalculator(2)}createPartiallyVisibleCalculators(){this.rowsPartiallyVisibleCalculator=this.createRowsCalculator(3),this.columnsPartiallyVisibleCalculator=this.createColumnsCalculator(3)}areAllProposedVisibleRowsAlreadyRendered(e){if(!this.rowsVisibleCalculator)return!1;let{startRow:i,endRow:n}=e;if(i===null&&n===null){if(!e.isVisibleInTrimmingContainer)return!0;i=this.rowsPartiallyVisibleCalculator.startRow,n=this.rowsPartiallyVisibleCalculator.endRow}let{startRow:r,endRow:o}=this.rowsRenderCalculator;return i<r||i===r&&i>0?!1:!(n>o||n===o&&n<this.wtSettings.getSetting("totalRows")-1)}areAllProposedVisibleColumnsAlreadyRendered(e){if(!this.columnsVisibleCalculator)return!1;let{startColumn:i,endColumn:n}=e;if(i===null&&n===null){if(!e.isVisibleInTrimmingContainer)return!0;i=this.columnsPartiallyVisibleCalculator.startColumn,n=this.columnsPartiallyVisibleCalculator.endColumn}let{startColumn:r,endColumn:o}=this.columnsRenderCalculator;return i<r||i===r&&i>0?!1:!(n>o||n===o&&n<this.wtSettings.getSetting("totalColumns")-1)}resetHasOversizedColumnHeadersMarked(){nt(this.hasOversizedColumnHeadersMarked,(e,i,n)=>{n[i]=void 0})}},J9=eF;var NI=class extends Au{constructor(e,i){super(e,new kI(i));let n=this.wtSettings.getSetting("facade",this);this.wtTable=new Q9(this.getTableDao(),n,this.domBindings,this.wtSettings),this.wtViewport=new J9(this.getViewportDao(),this.domBindings,this.wtSettings,this.eventManager,this.wtTable),this.selectionManager=new AI(this.wtSettings.getSetting("selections")),this.wtEvent=new tI(n,this.domBindings,this.wtSettings,this.eventManager,this.wtTable,this.selectionManager),this.wtOverlays=new K9(this,n,this.domBindings,this.wtSettings,this.eventManager,this.wtTable),this.exportSettingsAsClassNames(),this.findOriginalHeaders()}exportSettingsAsClassNames(){let e={rowHeaders:"htRowHeaders",columnHeaders:"htColumnHeaders"},i=[],n=[];nt(e,(r,o)=>{this.wtSettings.getSetting(o).length&&n.push(r),i.push(r)}),tt(this.wtTable.wtRootElement.parentNode,i),ne(this.wtTable.wtRootElement.parentNode,n)}getViewportDao(){let e=this;return{get wot(){return e},get topOverlayTrimmingContainer(){return e.wtOverlays.topOverlay.trimmingContainer},get inlineStartOverlayTrimmingContainer(){return e.wtOverlays.inlineStartOverlay.trimmingContainer},get topScrollPosition(){return e.wtOverlays.topOverlay.getScrollPosition()},get topParentOffset(){return e.wtOverlays.topOverlay.getTableParentOffset()},get inlineStartScrollPosition(){return e.wtOverlays.inlineStartOverlay.getScrollPosition()},get inlineStartParentOffset(){return e.wtOverlays.inlineStartOverlay.getTableParentOffset()},get topOverlay(){return e.wtOverlays.topOverlay},get inlineStartOverlay(){return e.wtOverlays.inlineStartOverlay},get bottomOverlay(){return e.wtOverlays.bottomOverlay}}}};var Jy=class t{constructor(e){e instanceof Au?this._wot=e:this._initFromSettings(e)}_initFromSettings(e){e.facade=i=>{let n=new t(i);return()=>n},this._wot=new NI(e.table,e)}get guid(){return this._wot.guid}get rootDocument(){return this._wot.domBindings.rootDocument}get rootWindow(){return this._wot.domBindings.rootWindow}get wtSettings(){return this._wot.wtSettings}get cloneSource(){return this._wot.cloneSource}get cloneOverlay(){return this._wot.cloneOverlay}get selectionManager(){return this._wot.selectionManager}get wtViewport(){return this._wot.wtViewport}get wtOverlays(){return this._wot.wtOverlays}get wtTable(){return this._wot.wtTable}get wtEvent(){return this._wot.wtEvent}get wtScroll(){return this._wot.wtScroll}get drawn(){return this._wot.drawn}set drawn(e){this._wot.drawn=e}get drawInterrupted(){return this._wot.drawInterrupted}set drawInterrupted(e){this._wot.drawInterrupted=e}get lastMouseOver(){return this._wot.lastMouseOver}set lastMouseOver(e){this._wot.lastMouseOver=e}get momentumScrolling(){return this._wot.momentumScrolling}set momentumScrolling(e){this._wot.momentumScrolling=e}get touchApplied(){return this._wot.touchApplied}set touchApplied(e){this._wot.touchApplied=e}get domBindings(){return this._wot.domBindings}get eventListeners(){return this._wot.eventListeners}set eventListeners(e){this._wot.eventListeners=e}get eventManager(){return this._wot.eventManager}createCellCoords(e,i){return this._wot.createCellCoords(e,i)}createCellRange(e,i,n){return this._wot.createCellRange(e,i,n)}draw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this._wot.draw(e),this}getCell(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this._wot.getCell(e,i)}scrollViewport(e,i,n,r,o){return this._wot.scrollViewport(e,i,n,r,o)}scrollViewportHorizontally(e,i,n){return this._wot.scrollViewportHorizontally(e,i,n)}scrollViewportVertically(e,i,n){return this._wot.scrollViewportVertically(e,i,n)}getViewport(){return this._wot.getViewport()}getOverlayName(){return this._wot.cloneOverlay?this._wot.cloneOverlay.type:"master"}exportSettingsAsClassNames(){return this._wot.exportSettingsAsClassNames()}update(e,i){return this._wot.wtSettings.update(e,i),this}getSetting(e,i,n,r,o){return this._wot.wtSettings.getSetting(e,i,n,r,o)}hasSetting(e){return this._wot.wtSettings.hasSetting(e)}destroy(){this._wot.destroy()}};function e7(t){let{isShiftKey:e,isLeftClick:i,isRightClick:n,coords:r,selection:o,controller:s,cellCoordsFactory:a}=t,l=o.isSelected()?o.getSelectedRange().current():null,c=o.isSelectedByCorner(),d=o.isSelectedByRowHeader();if(o.markSource("mouse"),e&&l)r.row>=0&&r.col>=0&&!s.cell?o.setRangeEnd(r):(c||d)&&r.row>=0&&r.col>=0&&!s.cell?o.setRangeEnd(a(r.row,r.col)):c&&r.row<0&&!s.column?o.setRangeEnd(a(l.to.row,r.col)):d&&r.col<0&&!s.row?o.setRangeEnd(a(r.row,l.to.col)):(!c&&!d&&r.col<0||c&&r.col<0)&&!s.row?o.selectRows(Math.max(l.from.row,0),r.row,r.col):(!c&&!d&&r.row<0||d&&r.row<0)&&!s.column&&o.selectColumns(Math.max(l.from.col,0),r.col,r.row);else{let u=!o.inInSelection(r),f=i||n&&u;r.row<0&&r.col>=0&&!s.column?f&&o.selectColumns(r.col,r.col,r.row):r.col<0&&r.row>=0&&!s.row?f&&o.selectRows(r.row,r.row,r.col):r.col>=0&&r.row>=0&&!s.cell?f&&o.setRangeStart(r):r.col<0&&r.row<0&&o.selectAll(!0,!0,{disableHeadersHighlight:!0,focusPosition:{row:0,col:0}})}o.markEndSource()}function NMe(t){let{isLeftClick:e,coords:i,selection:n,controller:r,cellCoordsFactory:o}=t;if(!e)return;let s=n.isSelectedByRowHeader(),a=n.isSelectedByColumnHeader(),l=n.tableProps.countCols(),c=n.tableProps.countRows();n.markSource("mouse"),a&&!r.column?n.setRangeEnd(o(c-1,i.col)):s&&!r.row?n.setRangeEnd(o(i.row,l-1)):r.cell||n.setRangeEnd(i),n.markEndSource()}var LMe=new Map([["mousedown",e7],["mouseover",NMe],["touchstart",e7]]);function tF(t,e){let{coords:i,selection:n,controller:r,cellCoordsFactory:o}=e;LMe.get(t.type)({coords:i,selection:n,controller:r,cellCoordsFactory:o,isShiftKey:t.shiftKey,isLeftClick:dg(t)||t.type==="touchstart",isRightClick:ms(t)})}var t7=new WeakMap,LI=Symbol("rootInstance");function i7(t){t7.set(t,!0)}function n7(t){return t===LI}function Rg(t){return t7.has(t)}function FMe(t,e){r7(t,e),e.add(t)}function pf(t,e,i){r7(t,e),e.set(t,i)}function r7(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ku(t,e,i){return e=HMe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function HMe(t){var e=VMe(t,"string");return typeof e=="symbol"?e:e+""}function VMe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dr(t,e){return t.get(ew(t,e))}function na(t,e,i){return t.set(ew(t,e),i),i}function ew(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var iF=new WeakMap,FI=new WeakMap,HI=new WeakMap,jc=new WeakMap,$a=new WeakMap,nF=new WeakMap,rF=new WeakMap,VI=new WeakSet,oF=class{constructor(e){FMe(this,VI),ku(this,"hot",void 0),ku(this,"eventManager",void 0),ku(this,"settings",void 0),ku(this,"THEAD",void 0),ku(this,"TBODY",void 0),ku(this,"_wt",void 0),ku(this,"activeWt",void 0),pf(this,iF,0),pf(this,FI,0),ku(this,"postponedAdjustElementsSize",!1),pf(this,HI,!1),pf(this,jc,void 0),pf(this,$a,void 0),pf(this,nF,0),pf(this,rF,0),this.hot=e,this.eventManager=new Xn(this.hot),this.settings=this.hot.getSettings(),this.createElements(),this.registerEvents(),this.initializeWalkontable()}render(){this.hot.isRenderSuspended()||(this.hot.runHooks("beforeRender",this.hot.forceFullRender),this.postponedAdjustElementsSize&&(this.postponedAdjustElementsSize=!1,this.adjustElementsSize(!0)),this._wt.draw(!this.hot.forceFullRender),this.hot.runHooks("afterRender",this.hot.forceFullRender),this.hot.forceFullRender=!1,this.hot.renderCall=!1)}adjustElementsSize(){this.hot.isRenderSuspended()?this.postponedAdjustElementsSize=!0:this._wt.wtOverlays.adjustElementsSize()}getCellAtCoords(e,i){let n=this._wt.getCell(e,i);return n<0?null:n}scrollViewport(e,i,n,r,o){return this._wt.scrollViewport(e,i,n,r,o)}scrollViewportHorizontally(e,i,n){return this._wt.scrollViewportHorizontally(e,i,n)}scrollViewportVertically(e,i,n){return this._wt.scrollViewportVertically(e,i,n)}createElements(){let{rootElement:e,rootDocument:i}=this.hot,n=e.getAttribute("style");n&&e.setAttribute("data-originalstyle",n),ne(e,"handsontable"),na($a,this,i.createElement("TABLE")),ne(Dr($a,this),"htCore"),this.hot.getSettings().tableClassName&&ne(Dr($a,this),this.hot.getSettings().tableClassName),this.settings.ariaTags&&(Le(Dr($a,this),[yo()]),Le(e,[mX(),wT(-1),Qp(this.hot.countCols()),TX()])),this.THEAD=i.createElement("THEAD"),Dr($a,this).appendChild(this.THEAD),this.TBODY=i.createElement("TBODY"),Dr($a,this).appendChild(this.TBODY),this.hot.table=Dr($a,this),this.hot.container.insertBefore(Dr($a,this),this.hot.container.firstChild)}registerEvents(){let{rootElement:e,rootDocument:i,selection:n,rootWindow:r}=this.hot,o=i.documentElement;this.eventManager.addEventListener(e,"mousedown",a=>{na(HI,this,!0),this.isTextSelectionAllowed(a.target)||(qN(r),a.preventDefault(),r.focus())}),this.eventManager.addEventListener(e,"mouseup",()=>{na(HI,this,!1)}),this.eventManager.addEventListener(e,"mousemove",a=>{Dr(HI,this)&&!this.isTextSelectionAllowed(a.target)&&(this.settings.fragmentSelection&&qN(r),a.preventDefault())}),this.eventManager.addEventListener(o,"keyup",a=>{n.isInProgress()&&!a.shiftKey&&n.finish()}),this.eventManager.addEventListener(o,"mouseup",a=>{n.isInProgress()&&dg(a)&&n.finish(),na(jc,this,!1);let l=RT(i.activeElement);_y(i.activeElement)&&!l||(l||!n.isSelected()&&!n.isSelectedByAnyHeader()&&!e.contains(a.target)&&!ms(a))&&this.hot.unlisten()}),this.eventManager.addEventListener(o,"contextmenu",a=>{n.isInProgress()&&ms(a)&&(n.finish(),na(jc,this,!1))}),this.eventManager.addEventListener(o,"touchend",()=>{n.isInProgress()&&n.finish(),na(jc,this,!1)}),this.eventManager.addEventListener(o,"mousedown",a=>{let l=a.target,c=a.x||a.clientX,d=a.y||a.clientY,u=a.target;if(Dr(jc,this)||!e||!this.hot.view)return;let{holder:f}=this.hot.view._wt.wtTable;if(u===f){let g=zi(i);if(i.elementFromPoint(c+g,d)!==f||i.elementFromPoint(c,d+g)!==f)return}else for(;u!==o;){if(u===null){if(a.isTargetWebComponent)break;return}if(u===e)return;u=u.parentNode}(typeof this.settings.outsideClickDeselects=="function"?this.settings.outsideClickDeselects(l):this.settings.outsideClickDeselects)?this.hot.deselectCell():this.hot.destroyEditor(!1,!1)});let s=El(r);for(;s!==null;)this.eventManager.addEventListener(s.document.documentElement,"click",()=>{this.hot.unlisten()}),s=El(s);this.eventManager.addEventListener(Dr($a,this),"selectstart",a=>{this.settings.fragmentSelection||_y(a.target)||a.preventDefault()})}translateFromRenderableToVisualCoords(e){let{row:i,col:n}=e;return this.hot._createCellCoords(...this.translateFromRenderableToVisualIndex(i,n))}translateFromRenderableToVisualIndex(e,i){let n=e>=0?this.hot.rowIndexMapper.getVisualFromRenderableIndex(e):e,r=i>=0?this.hot.columnIndexMapper.getVisualFromRenderableIndex(i):i;return n===null&&(n=e),r===null&&(r=i),[n,r]}countRenderableIndexes(e,i){let n=Math.min(e.getNotTrimmedIndexesLength(),i),r=e.getNearestNotHiddenIndex(n-1,-1);return r===null?0:e.getRenderableFromVisualIndex(r)+1}countRenderableColumns(){return this.countRenderableIndexes(this.hot.columnIndexMapper,this.settings.maxCols)}countRenderableRows(){return this.countRenderableIndexes(this.hot.rowIndexMapper,this.settings.maxRows)}countNotHiddenRowIndexes(e,i){return this.countNotHiddenIndexes(e,i,this.hot.rowIndexMapper,this.countRenderableRows())}countNotHiddenColumnIndexes(e,i){return this.countNotHiddenIndexes(e,i,this.hot.columnIndexMapper,this.countRenderableColumns())}countNotHiddenIndexes(e,i,n,r){if(isNaN(e)||e<0)return 0;let o=n.getNearestNotHiddenIndex(e,i),s=n.getRenderableFromVisualIndex(o);if(!Number.isInteger(s))return 0;let a=0;return i<0?a=s+1:i>0&&(a=r-s),a}countNotHiddenFixedColumnsStart(){let e=this.hot.countCols(),i=Math.min(parseInt(this.settings.fixedColumnsStart,10),e)-1;return this.countNotHiddenColumnIndexes(i,-1)}countNotHiddenFixedRowsTop(){let e=this.hot.countRows(),i=Math.min(parseInt(this.settings.fixedRowsTop,10),e)-1;return this.countNotHiddenRowIndexes(i,-1)}countNotHiddenFixedRowsBottom(){let e=this.hot.countRows(),i=Math.max(e-parseInt(this.settings.fixedRowsBottom,10),0);return this.countNotHiddenRowIndexes(i,1)}countRenderableColumnsInRange(e,i){let n=0;for(let r=e;r<=i;r++)this.hot.columnIndexMapper.getRenderableFromVisualIndex(r)!==null&&(n+=1);return n}countRenderableRowsInRange(e,i){let n=0;for(let r=e;r<=i;r++)this.hot.rowIndexMapper.getRenderableFromVisualIndex(r)!==null&&(n+=1);return n}isMainTableNotFullyCoveredByOverlays(){let e=this.countNotHiddenFixedRowsTop()+this.countNotHiddenFixedRowsBottom(),i=this.countNotHiddenFixedColumnsStart();return this.hot.countRenderedRows()>e&&this.hot.countRenderedCols()>i}initializeWalkontable(){let e={ariaTags:this.settings.ariaTags,rtlMode:this.hot.isRtl(),externalRowCalculator:this.hot.getPlugin("autoRowSize")&&this.hot.getPlugin("autoRowSize").isEnabled(),table:Dr($a,this),isDataViewInstance:()=>Rg(this.hot),preventOverflow:()=>this.settings.preventOverflow,preventWheel:()=>this.settings.preventWheel,stretchH:()=>this.settings.stretchH,data:(o,s)=>this.hot.getDataAtCell(...this.translateFromRenderableToVisualIndex(o,s)),totalRows:()=>this.countRenderableRows(),totalColumns:()=>this.countRenderableColumns(),fixedColumnsStart:()=>this.countNotHiddenFixedColumnsStart(),fixedRowsTop:()=>this.countNotHiddenFixedRowsTop(),fixedRowsBottom:()=>this.countNotHiddenFixedRowsBottom(),shouldRenderInlineStartOverlay:()=>this.settings.fixedColumnsStart>0||e.rowHeaders().length>0,shouldRenderTopOverlay:()=>this.settings.fixedRowsTop>0||e.columnHeaders().length>0,shouldRenderBottomOverlay:()=>this.settings.fixedRowsBottom>0,minSpareRows:()=>this.settings.minSpareRows,renderAllRows:this.settings.renderAllRows,renderAllColumns:this.settings.renderAllColumns,rowHeaders:()=>{let o=[];return this.hot.hasRowHeaders()&&o.push((s,a)=>{let l=s>=0?this.hot.rowIndexMapper.getVisualFromRenderableIndex(s):s;this.appendRowHeader(l,a)}),this.hot.runHooks("afterGetRowHeaderRenderers",o),na(FI,this,o.length),this.hot.getSettings().ariaTags&&ew(VI,this,o7).call(this)===this.hot.countCols()&&ew(VI,this,BMe).call(this,Dr(FI,this)),o},columnHeaders:()=>{let o=[];return this.hot.hasColHeaders()&&o.push((s,a)=>{let l=s>=0?this.hot.columnIndexMapper.getVisualFromRenderableIndex(s):s;this.appendColHeader(l,a)}),this.hot.runHooks("afterGetColumnHeaderRenderers",o),na(iF,this,o.length),o},columnWidth:o=>{let s=this.hot.columnIndexMapper.getVisualFromRenderableIndex(o);return this.hot.getColWidth(s===null?o:s)},rowHeight:o=>{let s=this.hot.rowIndexMapper.getVisualFromRenderableIndex(o);return this.hot.getRowHeight(s===null?o:s)},cellRenderer:(o,s,a)=>{let[l,c]=this.translateFromRenderableToVisualIndex(o,s),d=this.hot.runHooks("modifyGetCellCoords",l,c),u=l,f=c;Array.isArray(d)&&([u,f]=d);let m=this.hot.getCellMeta(u,f),g=this.hot.colToProp(f),_=this.hot.getDataAtRowProp(u,g);this.hot.hasHook("beforeValueRender")&&(_=this.hot.runHooks("beforeValueRender",_,m)),this.hot.runHooks("beforeRenderer",a,l,c,g,_,m),this.hot.getCellRenderer(m)(this.hot,a,l,c,g,_,m),this.hot.runHooks("afterRenderer",a,l,c,g,_,m)},selections:this.hot.selection.highlight,hideBorderOnMouseDownOver:()=>this.settings.fragmentSelection,onWindowResize:()=>{this.hot&&!this.hot.isDestroyed&&this.hot.refreshDimensions()},onContainerElementResize:()=>{this.hot&&!this.hot.isDestroyed&&Gs(this.hot.rootElement)&&this.hot.refreshDimensions()},onCellMouseDown:(o,s,a,l)=>{let c=this.translateFromRenderableToVisualCoords(s),d={row:!1,column:!1,cell:!1};this.hot.listen(),this.activeWt=l,na(jc,this,!0),this.hot.runHooks("beforeOnCellMouseDown",o,c,a,d),!Tl(o)&&(tF(o,{coords:c,selection:this.hot.selection,controller:d,cellCoordsFactory:(u,f)=>this.hot._createCellCoords(u,f)}),this.hot.runHooks("afterOnCellMouseDown",o,c,a),this.activeWt=this._wt)},onCellContextMenu:(o,s,a,l)=>{let c=this.translateFromRenderableToVisualCoords(s);this.activeWt=l,na(jc,this,!1),this.hot.selection.isInProgress()&&this.hot.selection.finish(),this.hot.runHooks("beforeOnCellContextMenu",o,c,a),!Tl(o)&&(this.hot.runHooks("afterOnCellContextMenu",o,c,a),this.activeWt=this._wt)},onCellMouseOut:(o,s,a,l)=>{let c=this.translateFromRenderableToVisualCoords(s);this.activeWt=l,this.hot.runHooks("beforeOnCellMouseOut",o,c,a),!Tl(o)&&(this.hot.runHooks("afterOnCellMouseOut",o,c,a),this.activeWt=this._wt)},onCellMouseOver:(o,s,a,l)=>{let c=this.translateFromRenderableToVisualCoords(s),d={row:!1,column:!1,cell:!1};this.activeWt=l,this.hot.runHooks("beforeOnCellMouseOver",o,c,a,d),!Tl(o)&&(Dr(jc,this)&&tF(o,{coords:c,selection:this.hot.selection,controller:d,cellCoordsFactory:(u,f)=>this.hot._createCellCoords(u,f)}),this.hot.runHooks("afterOnCellMouseOver",o,c,a),this.activeWt=this._wt)},onCellMouseUp:(o,s,a,l)=>{let c=this.translateFromRenderableToVisualCoords(s);this.activeWt=l,this.hot.runHooks("beforeOnCellMouseUp",o,c,a),!(Tl(o)||this.hot.isDestroyed)&&(this.hot.runHooks("afterOnCellMouseUp",o,c,a),this.activeWt=this._wt)},onCellCornerMouseDown:o=>{o.preventDefault(),this.hot.runHooks("afterOnCellCornerMouseDown",o)},onCellCornerDblClick:o=>{o.preventDefault(),this.hot.runHooks("afterOnCellCornerDblClick",o)},beforeDraw:(o,s)=>this.beforeRender(o,s),onDraw:o=>this.afterRender(o),onBeforeViewportScrollVertically:o=>{let s=this.hot.rowIndexMapper,a=o<0,l=o;return!a&&(l=s.getVisualFromRenderableIndex(o),l===null)?o:(l=this.hot.runHooks("beforeViewportScrollVertically",l),this.hot.runHooks("beforeViewportScroll"),a?l:s.getRenderableFromVisualIndex(l))},onBeforeViewportScrollHorizontally:o=>{let s=this.hot.columnIndexMapper,a=o<0,l=o;return!a&&(l=s.getVisualFromRenderableIndex(o),l===null)?o:(l=this.hot.runHooks("beforeViewportScrollHorizontally",l),this.hot.runHooks("beforeViewportScroll"),a?l:s.getRenderableFromVisualIndex(l))},onScrollVertically:()=>{this.hot.runHooks("afterScrollVertically"),this.hot.runHooks("afterScroll")},onScrollHorizontally:()=>{this.hot.runHooks("afterScrollHorizontally"),this.hot.runHooks("afterScroll")},onBeforeRemoveCellClassNames:()=>this.hot.runHooks("beforeRemoveCellClassNames"),onBeforeHighlightingRowHeader:(o,s,a)=>{let l=this.hot.rowIndexMapper,c=o<0,d=o;c||(d=l.getVisualFromRenderableIndex(o));let u=this.hot.runHooks("beforeHighlightingRowHeader",d,s,a);return c?u:l.getRenderableFromVisualIndex(l.getNearestNotHiddenIndex(u,1))},onBeforeHighlightingColumnHeader:(o,s,a)=>{let l=this.hot.columnIndexMapper,c=o<0,d=o;c||(d=l.getVisualFromRenderableIndex(o));let u=this.hot.runHooks("beforeHighlightingColumnHeader",d,s,a);return c?u:l.getRenderableFromVisualIndex(l.getNearestNotHiddenIndex(u,1))},onAfterDrawSelection:(o,s,a)=>{let l,[c,d]=this.translateFromRenderableToVisualIndex(o,s),u=this.hot.selection.getSelectedRange();if(u.size()>0){let m=u.peekByIndex(a??0);l=[m.from.row,m.from.col,m.to.row,m.to.col]}return this.hot.runHooks("afterDrawSelection",c,d,l,a)},onBeforeDrawBorders:(o,s)=>{let[a,l,c,d]=o,u=[this.hot.rowIndexMapper.getVisualFromRenderableIndex(a),this.hot.columnIndexMapper.getVisualFromRenderableIndex(l),this.hot.rowIndexMapper.getVisualFromRenderableIndex(c),this.hot.columnIndexMapper.getVisualFromRenderableIndex(d)];return this.hot.runHooks("beforeDrawBorders",u,s)},onBeforeTouchScroll:()=>this.hot.runHooks("beforeTouchScroll"),onAfterMomentumScroll:()=>this.hot.runHooks("afterMomentumScroll"),onBeforeStretchingColumnWidth:(o,s)=>{let a=this.hot.columnIndexMapper.getVisualFromRenderableIndex(s);return this.hot.runHooks("beforeStretchingColumnWidth",o,a)},onModifyRowHeaderWidth:o=>this.hot.runHooks("modifyRowHeaderWidth",o),onModifyGetCellCoords:(o,s,a)=>{let l=this.hot.rowIndexMapper,c=this.hot.columnIndexMapper,d=s>=0?c.getVisualFromRenderableIndex(s):s,u=o>=0?l.getVisualFromRenderableIndex(o):o,f=this.hot.runHooks("modifyGetCellCoords",u,d,a);if(Array.isArray(f)){let[m,g,_,b]=f;return[m>=0?l.getRenderableFromVisualIndex(l.getNearestNotHiddenIndex(m,1)):m,g>=0?c.getRenderableFromVisualIndex(c.getNearestNotHiddenIndex(g,1)):g,_>=0?l.getRenderableFromVisualIndex(l.getNearestNotHiddenIndex(_,-1)):_,b>=0?c.getRenderableFromVisualIndex(c.getNearestNotHiddenIndex(b,-1)):b]}},viewportRowCalculatorOverride:o=>{let s=this.settings.viewportRowRenderingOffset;if(s==="auto"&&this.settings.fixedRowsTop&&(s=10),s>0||s==="auto"){let a=this.countRenderableRows(),l=o.startRow,c=o.endRow;if(typeof s=="number")o.startRow=Math.max(l-s,0),o.endRow=Math.min(c+s,a-1);else if(s==="auto"){let d=Math.ceil(c/a*12);o.startRow=Math.max(l-d,0),o.endRow=Math.min(c+d,a-1)}}this.hot.runHooks("afterViewportRowCalculatorOverride",o)},viewportColumnCalculatorOverride:o=>{let s=this.settings.viewportColumnRenderingOffset;if(s==="auto"&&this.settings.fixedColumnsStart&&(s=10),s>0||s==="auto"){let a=this.countRenderableColumns(),l=o.startColumn,c=o.endColumn;if(typeof s=="number"&&(o.startColumn=Math.max(l-s,0),o.endColumn=Math.min(c+s,a-1)),s==="auto"){let d=Math.ceil(c/a*6);o.startColumn=Math.max(l-d,0),o.endColumn=Math.min(c+d,a-1)}}this.hot.runHooks("afterViewportColumnCalculatorOverride",o)},rowHeaderWidth:()=>this.settings.rowHeaderWidth,columnHeaderHeight:()=>{let o=this.hot.runHooks("modifyColumnHeaderHeight");return this.settings.columnHeaderHeight||o}};this.hot.runHooks("beforeInitWalkontable",e),this._wt=new Jy(e),this.activeWt=this._wt;let i=this._wt.wtTable.spreader,{width:n,height:r}=this.hot.rootElement.getBoundingClientRect();this.setLastSize(n,r),this.eventManager.addEventListener(i,"mousedown",o=>{o.target===i&&o.which===3&&o.stopPropagation()}),this.eventManager.addEventListener(i,"contextmenu",o=>{o.target===i&&o.which===3&&o.stopPropagation()}),this.eventManager.addEventListener(this.hot.rootDocument.documentElement,"click",()=>{this.settings.observeDOMVisibility&&this._wt.drawInterrupted&&(this.hot.forceFullRender=!0,this.render())})}isTextSelectionAllowed(e){if(_y(e))return!0;let i=Ha(e,this.hot.view._wt.wtTable.spreader);return!!(this.settings.fragmentSelection===!0&&i||this.settings.fragmentSelection==="cell"&&this.isSelectedOnlyCell()&&i||!this.settings.fragmentSelection&&this.isCellEdited()&&this.isSelectedOnlyCell())}isMouseDown(){return Dr(jc,this)}isSelectedOnlyCell(){var e,i;return(e=(i=this.hot.getSelectedRangeLast())===null||i===void 0?void 0:i.isSingleCell())!==null&&e!==void 0?e:!1}isCellEdited(){let e=this.hot.getActiveEditor();return e&&e.isOpened()}beforeRender(e,i){e&&this.hot.runHooks("beforeViewRender",this.hot.forceFullRender,i)}afterRender(e){e&&this.hot.runHooks("afterViewRender",this.hot.forceFullRender)}appendRowHeader(e,i){if(i.firstChild){let n=i.firstChild;if(!Fe(n,"relative")){xr(i),this.appendRowHeader(e,i);return}this.updateCellHeader(n.querySelector(".rowHeader"),e,this.hot.getRowHeader)}else{let{rootDocument:n,getRowHeader:r}=this.hot,o=n.createElement("div"),s=n.createElement("span");o.className="relative",s.className="rowHeader",this.updateCellHeader(s,e,r),o.appendChild(s),i.appendChild(o)}this.hot.runHooks("afterGetRowHeader",e,i)}appendColHeader(e,i){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hot.getColHeader,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(i.firstChild){let o=i.firstChild;Fe(o,"relative")?this.updateCellHeader(o.querySelector(".colHeader"),e,n,r):(xr(i),this.appendColHeader(e,i,n,r))}else{let{rootDocument:o}=this.hot,s=o.createElement("div"),a=o.createElement("span");s.className="relative",a.className="colHeader",this.settings.ariaTags&&(Le(s,...yo()),Le(a,...yo())),this.updateCellHeader(a,e,n,r),s.appendChild(a),i.appendChild(s)}this.hot.runHooks("afterGetColHeader",e,i,r)}updateCellHeader(e,i,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=i,s=this._wt.wtOverlays.getParentOverlay(e)||this._wt;e.parentNode&&(Fe(e,"colHeader")?o=s.wtTable.columnFilter.sourceToRendered(i):Fe(e,"rowHeader")&&(o=s.wtTable.rowFilter.sourceToRendered(i))),o>-1?qs(e,n(i,r)):(Ks(e,"\xA0"),ne(e,"cornerHeader"))}maximumVisibleElementWidth(e){let n=this._wt.wtViewport.getWorkspaceWidth()-e;return n>0?n:0}maximumVisibleElementHeight(e){let n=this._wt.wtViewport.getWorkspaceHeight()-e;return n>0?n:0}setLastSize(e,i){na(nF,this,e),na(rF,this,i)}getLastSize(){return{width:Dr(nF,this),height:Dr(rF,this)}}getFirstFullyVisibleRow(){return this.hot.rowIndexMapper.getVisualFromRenderableIndex(this.hot.view._wt.wtScroll.getFirstVisibleRow())}getLastFullyVisibleRow(){return this.hot.rowIndexMapper.getVisualFromRenderableIndex(this.hot.view._wt.wtScroll.getLastVisibleRow())}getFirstFullyVisibleColumn(){return this.hot.columnIndexMapper.getVisualFromRenderableIndex(this.hot.view._wt.wtScroll.getFirstVisibleColumn())}getLastFullyVisibleColumn(){return this.hot.columnIndexMapper.getVisualFromRenderableIndex(this.hot.view._wt.wtScroll.getLastVisibleColumn())}getFirstPartiallyVisibleRow(){return this.hot.rowIndexMapper.getVisualFromRenderableIndex(this.hot.view._wt.wtScroll.getFirstPartiallyVisibleRow())}getLastPartiallyVisibleRow(){return this.hot.rowIndexMapper.getVisualFromRenderableIndex(this.hot.view._wt.wtScroll.getLastPartiallyVisibleRow())}getFirstPartiallyVisibleColumn(){return this.hot.columnIndexMapper.getVisualFromRenderableIndex(this.hot.view._wt.wtScroll.getFirstPartiallyVisibleColumn())}getLastPartiallyVisibleColumn(){return this.hot.columnIndexMapper.getVisualFromRenderableIndex(this.hot.view._wt.wtScroll.getLastPartiallyVisibleColumn())}getColumnHeadersCount(){return Dr(iF,this)}getRowHeadersCount(){return Dr(FI,this)}getViewportWidth(){return this.hot.view._wt.wtViewport.getViewportWidth()}getWorkspaceWidth(){return this.hot.view._wt.wtViewport.getWorkspaceWidth()}getViewportHeight(){return this.hot.view._wt.wtViewport.getViewportHeight()}getWorkspaceHeight(){return this.hot.view._wt.wtViewport.getWorkspaceHeight()}destroy(){this._wt.destroy(),this.eventManager.destroy()}};function o7(){return parseInt(this.hot.rootElement.getAttribute(Qp()[0]),10)}function BMe(t){let e=ew(VI,this,o7).call(this)+t;Le(this.hot.rootElement,...Qp(e))}var s7=oF;var not=w(Q(),1),rot=w(be(),1);var eot=w(be(),1);var WMe="ABCDEFGHIJKLMNOPQRSTUVWXYZ",a7=WMe.length;function l7(t){let e=t+1,i="",n;for(;e>0;)n=(e-1)%a7,i=String.fromCharCode(65+n)+i,e=parseInt((e-n)/a7,10);return i}function sF(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=t,n=[];return(!Array.isArray(t)||!Array.isArray(t[0]))&&(i=[t]),i.forEach((r,o)=>{Array.isArray(r)?r.forEach((s,a)=>{n.push([o+e,a,s])}):Object.keys(r).forEach(s=>{n.push([o+e,s,r[s]])})}),n}function BI(t){let e=0;return Array.isArray(t)&&(t[0]&&Array.isArray(t[0])?e=t[0].length:t[0]&&it(t[0])&&(e=og(t[0]))),e}function c7(t){return!!(Array.isArray(t)&&t.length&&t.every(e=>Array.isArray(e)))}function d7(t){return!!(Array.isArray(t)&&t.length&&t.every(e=>typeof e=="object"&&!Array.isArray(e)&&e!==null))}function tw(t,e,i){return e=jMe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function jMe(t){var e=UMe(t,"string");return typeof e=="symbol"?e:e+""}function UMe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aF=class{constructor(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];tw(this,"hot",void 0),tw(this,"data",void 0),tw(this,"dataType","array"),tw(this,"colToProp",()=>{}),tw(this,"propToCol",()=>{}),this.hot=e,this.data=i}modifyRowData(e){let i;return this.hot.hasHook("modifyRowData")&&(i=this.hot.runHooks("modifyRowData",e)),i!==void 0&&!Number.isInteger(i)?i:this.data[e]}getData(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return!this.data||this.data.length===0?this.data:this.getByRange(null,null,e)}setData(e){this.data=e}getAtColumn(e){let i=[];return M(this.data,(n,r)=>{let o=this.getAtCell(r,e);i.push(o)}),i}getAtRow(e,i,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=i===void 0&&n===void 0,{dataDotNotation:s}=this.hot.getSettings(),a=null,l=null;if(a=this.modifyRowData(e),Array.isArray(a))l=[],o?a.forEach((c,d)=>{l[d]=this.getAtPhysicalCell(e,d,a)}):Se(i,n,c=>{l[c-i]=this.getAtPhysicalCell(e,c,a)});else if(it(a)||ti(a))if(r?l=[]:l={},!o||r){let d=this.countFirstRowKeys()-1;Se(0,d,u=>{let f=this.colToProp(u);if(u>=(i||0)&&u<=(n||d)&&!Number.isInteger(f)){let m=this.getAtPhysicalCell(e,f,a);r?l.push(m):s?AT(l,f,m):l[f]=m}})}else nt(a,(c,d)=>{let u=this.getAtPhysicalCell(e,d,a);s?AT(l,d,u):l[d]=u});return l}setAtCell(e,i,n){if(!(e>=this.countRows()||i>=this.countFirstRowKeys())){if(this.hot.hasHook("modifySourceData")){let r=to(n);this.hot.runHooks("modifySourceData",e,i,r,"set"),r.isTouched()&&(n=r.value)}Number.isInteger(i)?this.data[e][i]=n:AT(this.data[e],i,n)}}getAtPhysicalCell(e,i,n){let r=null;if(n)if(typeof i=="string"){let{dataDotNotation:o}=this.hot.getSettings();r=o?h6(n,i):n[i]}else typeof i=="function"?r=i(n):r=n[i];if(this.hot.hasHook("modifySourceData")){let o=to(r);this.hot.runHooks("modifySourceData",e,i,o,"get"),o.isTouched()&&(r=o.value)}return r}getAtCell(e,i){let n=this.modifyRowData(e);return this.getAtPhysicalCell(e,this.colToProp(i),n)}getByRange(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=!1,o=null,s=null,a=null,l=null;e===null||i===null?(r=!0,o=0,a=this.countRows()-1):(o=Math.min(e.row,i.row),s=Math.min(e.col,i.col),a=Math.max(e.row,i.row),l=Math.max(e.col,i.col));let c=[];return Se(o,a,d=>{c.push(r?this.getAtRow(d,void 0,void 0,n):this.getAtRow(d,s,l,n))}),c}countRows(){if(this.hot.hasHook("modifySourceLength")){let e=this.hot.runHooks("modifySourceLength");if(Number.isInteger(e))return e}return this.data.length}countFirstRowKeys(){return BI(this.data)}destroy(){this.data=null,this.hot=null}},u7=aF;var Nst=w(Q(),1),Lst=w(Fi(),1),Fst=w(Hi(),1),Hst=w(Vi(),1),Vst=w(Bi(),1),Bst=w(Wi(),1),Wst=w(ji(),1),jst=w(Ui(),1);var Zot=w(Q(),1);var xot=w(be(),1);var uot=w(Q(),1),hot=w(be(),1);function h7(t,e,i){return e=zMe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function zMe(t){var e=YMe(t,"string");return typeof e=="symbol"?e:e+""}function YMe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Co=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;h7(this,"indexedValues",[]),h7(this,"initValueOrFn",void 0),this.initValueOrFn=e}getValues(){return this.indexedValues}getValueAtIndex(e){let i=this.indexedValues;if(e<i.length)return i[e]}setValues(e){this.indexedValues=e.slice(),this.runLocalHooks("change")}setValueAtIndex(e,i){return e<this.indexedValues.length?(this.indexedValues[e]=i,this.runLocalHooks("change"),!0):!1}clear(){this.setDefaultValues()}getLength(){return this.getValues().length}setDefaultValues(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.indexedValues.length;this.indexedValues.length=0,ti(this.initValueOrFn)?Se(e-1,i=>this.indexedValues.push(this.initValueOrFn(i))):Se(e-1,()=>this.indexedValues.push(this.initValueOrFn)),this.runLocalHooks("change")}init(e){return this.setDefaultValues(e),this.runLocalHooks("init"),this}insert(){this.runLocalHooks("change")}remove(){this.runLocalHooks("change")}destroy(){this.clearLocalHooks(),this.indexedValues=null,this.initValueOrFn=null}};Ot(Co,Xi);function Tg(t,e,i,n){let r=i.length?i[0]:void 0;return[...t.slice(0,r),...i.map((o,s)=>ti(n)?n(o,s):n),...r===void 0?[]:t.slice(r)]}function Ig(t,e){return or(t,(i,n)=>e.includes(n)===!1)}var Mr=class extends Co{insert(e,i){this.indexedValues=Tg(this.indexedValues,e,i,this.initValueOrFn),super.insert(e,i)}remove(e){this.indexedValues=Ig(this.indexedValues,e),super.remove(e)}};var Pl=class extends Mr{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;super(e)}getHiddenIndexes(){return Mi(this.getValues(),(e,i,n)=>(i&&e.push(n),e),[])}};var Oot=w(Q(),1);function Dg(t,e,i){return[...t.slice(0,e),...i,...t.slice(e)]}function Uc(t,e){return or(t,i=>e.includes(i)===!1)}function Nu(t,e){return ct(t,i=>i-e.filter(n=>n<i).length)}function Lu(t,e){let i=e[0],n=e.length;return ct(t,r=>r>=i?r+n:r)}function GMe(t,e,i){return e=$Me(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function $Me(t){var e=qMe(t,"string");return typeof e=="symbol"?e:e+""}function qMe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kl=class extends Co{constructor(){super(...arguments),GMe(this,"orderOfIndexes",[])}getValues(){return this.orderOfIndexes.map(e=>this.indexedValues[e])}setValues(e){this.orderOfIndexes=[...Array(e.length).keys()],super.setValues(e)}setValueAtIndex(e,i){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.orderOfIndexes.length;return e<this.indexedValues.length?(this.indexedValues[e]=i,this.orderOfIndexes.includes(e)===!1&&this.orderOfIndexes.splice(n,0,e),this.runLocalHooks("change"),!0):!1}clearValue(e){this.orderOfIndexes=Uc(this.orderOfIndexes,[e]),ti(this.initValueOrFn)?super.setValueAtIndex(e,this.initValueOrFn(e)):super.setValueAtIndex(e,this.initValueOrFn)}getLength(){return this.orderOfIndexes.length}setDefaultValues(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.indexedValues.length;this.orderOfIndexes.length=0,super.setDefaultValues(e)}insert(e,i){this.indexedValues=Tg(this.indexedValues,e,i,this.initValueOrFn),this.orderOfIndexes=Lu(this.orderOfIndexes,i),super.insert(e,i)}remove(e){this.indexedValues=Ig(this.indexedValues,e),this.orderOfIndexes=Uc(this.orderOfIndexes,e),this.orderOfIndexes=Nu(this.orderOfIndexes,e),super.remove(e)}getEntries(){return this.orderOfIndexes.map(e=>[e,this.getValueAtIndex(e)])}};var Vot=w(be(),1);var ra=class extends Mr{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;super(e)}getTrimmedIndexes(){return Mi(this.getValues(),(e,i,n)=>(i&&e.push(n),e),[])}};var Uot=w(Q(),1);var f7=new Map([["indexesSequence",{getListWithInsertedItems:Dg,getListWithRemovedItems:Uc}],["physicallyIndexed",{getListWithInsertedItems:Tg,getListWithRemovedItems:Ig}]]),iw=t=>{if(f7.has(t)===!1)throw new Error(`Alter strategy with ID '${t}' does not exist.`);return f7.get(t)};var Mg=class extends Co{constructor(){super(e=>e)}insert(e,i){let n=Lu(this.indexedValues,i);this.indexedValues=Dg(n,e,i),super.insert(e,i)}remove(e){let i=Uc(this.indexedValues,e);this.indexedValues=Nu(i,e),super.remove(e)}};var m7=new Map([["hiding",Pl],["index",Co],["linkedPhysicalIndexToValue",kl],["physicalIndexToValue",Mr],["trimming",ra]]);function p7(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!m7.has(t))throw new Error(`The provided map type ("${t}") does not exist.`);return new(m7.get(t))(e)}var hst=w(Q(),1),fst=w(be(),1);var ast=w(Q(),1);function KMe(t,e,i){return e=XMe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function XMe(t){var e=QMe(t,"string");return typeof e=="symbol"?e:e+""}function QMe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var g7=0,gf=class{constructor(){KMe(this,"collection",new Map)}register(e,i){this.collection.has(e)===!1&&(this.collection.set(e,i),i.addLocalHook("change",()=>this.runLocalHooks("change",i)),g7+=1)}unregister(e){let i=this.collection.get(e);xe(i)&&(i.destroy(),this.collection.delete(e),this.runLocalHooks("change",i),g7-=1)}unregisterAll(){this.collection.forEach((e,i)=>this.unregister(i)),this.collection.clear()}get(e){return Gt(e)?Array.from(this.collection.values()):this.collection.get(e)}getLength(){return this.collection.size}removeFromEvery(e){this.collection.forEach(i=>{i.remove(e)})}insertToEvery(e,i){this.collection.forEach(n=>{n.insert(e,i)})}initEvery(e){this.collection.forEach(i=>{i.init(e)})}};Ot(gf,Xi);function lF(t,e,i){return e=ZMe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function ZMe(t){var e=JMe(t,"string");return typeof e=="symbol"?e:e+""}function JMe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nw=class extends gf{constructor(e,i){super(),lF(this,"mergedValuesCache",[]),lF(this,"aggregationFunction",void 0),lF(this,"fallbackValue",void 0),this.aggregationFunction=e,this.fallbackValue=i}getMergedValues(){if((arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0)return this.mergedValuesCache;if(this.getLength()===0)return[];let i=ct(this.get(),o=>o.getValues()),n=[],r=xe(i[0])&&i[0].length||0;for(let o=0;o<r;o+=1){let s=[];for(let a=0;a<this.getLength();a+=1)s.push(i[a][o]);n.push(s)}return ct(n,this.aggregationFunction)}getMergedValueAtIndex(e,i){let n=this.getMergedValues(i)[e];return xe(n)?n:this.fallbackValue}updateCache(){this.mergedValuesCache=this.getMergedValues(!1)}};var xst=w(Q(),1),Est=w(Fi(),1),Rst=w(Hi(),1),Tst=w(Vi(),1),Ist=w(Bi(),1),Dst=w(Wi(),1),Mst=w(ji(),1),Ast=w(Ui(),1);var vst=w(Q(),1);function eAe(t,e,i){tAe(t,e),e.set(t,i)}function tAe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function iAe(t,e,i){return t.set(b7(t,e),i),i}function nAe(t,e){return t.get(b7(t,e))}function b7(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var cF=new WeakMap,rw=class{constructor(){eAe(this,cF,[])}subscribe(e){return this.addLocalHook("change",e),this._write(nAe(cF,this)),this}unsubscribe(){return this.runLocalHooks("unsubscribe"),this.clearLocalHooks(),this}_write(e){return e.length>0&&this.runLocalHooks("change",e),this}_writeInitialChanges(e){iAe(cF,this,e)}};Ot(rw,Xi);var Cst=w(be(),1);function dF(t,e){let i=[],n=0,r=0;for(;n<t.length&&r<e.length;n++,r++)t[n]!==e[r]&&i.push({op:"replace",index:r,oldValue:t[n],newValue:e[r]});for(;n<e.length;n++)i.push({op:"insert",index:n,oldValue:void 0,newValue:e[n]});for(;r<t.length;r++)i.push({op:"remove",index:r,oldValue:t[r],newValue:void 0});return i}function ow(t,e,i){rAe(t,e),e.set(t,i)}function rAe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function oa(t,e){return t.get(v7(t,e))}function WI(t,e,i){return t.set(v7(t,e),i),i}function v7(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var jI=new WeakMap,sw=new WeakMap,UI=new WeakMap,zI=new WeakMap,YI=new WeakMap,GI=class{constructor(){let{initialIndexValue:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ow(this,jI,new Set),ow(this,sw,[]),ow(this,UI,[]),ow(this,zI,!1),ow(this,YI,!1),WI(YI,this,e??!1)}createObserver(){let e=new rw;return oa(jI,this).add(e),e.addLocalHook("unsubscribe",()=>{oa(jI,this).delete(e)}),e._writeInitialChanges(dF(oa(sw,this),oa(UI,this))),e}emit(e){let i=oa(UI,this);(!oa(zI,this)||oa(sw,this).length!==e.length)&&(e.length===0?e=new Array(i.length).fill(oa(YI,this)):WI(sw,this,new Array(e.length).fill(oa(YI,this))),oa(zI,this)||(WI(zI,this,!0),i=oa(sw,this)));let n=dF(i,e);oa(jI,this).forEach(r=>r._write(n)),WI(UI,this,e)}};function So(t,e,i){return e=oAe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function oAe(t){var e=sAe(t,"string");return typeof e=="symbol"?e:e+""}function sAe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bf=class{constructor(){So(this,"indexesSequence",new Mg),So(this,"trimmingMapsCollection",new nw(e=>e.some(i=>i===!0),!1)),So(this,"hidingMapsCollection",new nw(e=>e.some(i=>i===!0),!1)),So(this,"variousMapsCollection",new gf),So(this,"hidingChangesObservable",new GI({initialIndexValue:!1})),So(this,"notTrimmedIndexesCache",[]),So(this,"notHiddenIndexesCache",[]),So(this,"isBatched",!1),So(this,"indexesSequenceChanged",!1),So(this,"indexesChangeSource",void 0),So(this,"trimmedIndexesChanged",!1),So(this,"hiddenIndexesChanged",!1),So(this,"renderablePhysicalIndexesCache",[]),So(this,"fromPhysicalToVisualIndexesCache",new Map),So(this,"fromVisualToRenderableIndexesCache",new Map),this.indexesSequence.addLocalHook("change",()=>{this.indexesSequenceChanged=!0,this.updateCache(),this.runLocalHooks("indexesSequenceChange",this.indexesChangeSource),this.runLocalHooks("change",this.indexesSequence,null)}),this.trimmingMapsCollection.addLocalHook("change",e=>{this.trimmedIndexesChanged=!0,this.updateCache(),this.runLocalHooks("change",e,this.trimmingMapsCollection)}),this.hidingMapsCollection.addLocalHook("change",e=>{this.hiddenIndexesChanged=!0,this.updateCache(),this.runLocalHooks("change",e,this.hidingMapsCollection)}),this.variousMapsCollection.addLocalHook("change",e=>{this.runLocalHooks("change",e,this.variousMapsCollection)})}suspendOperations(){this.isBatched=!0}resumeOperations(){this.isBatched=!1,this.updateCache()}createChangesObserver(e){if(e!=="hiding")throw new Error(`Unsupported index map type "${e}".`);return this.hidingChangesObservable.createObserver()}createAndRegisterIndexMap(e,i,n){return this.registerMap(e,p7(i,n))}registerMap(e,i){if(this.trimmingMapsCollection.get(e)||this.hidingMapsCollection.get(e)||this.variousMapsCollection.get(e))throw Error(`Map with name "${e}" has been already registered.`);i instanceof ra?this.trimmingMapsCollection.register(e,i):i instanceof Pl?this.hidingMapsCollection.register(e,i):this.variousMapsCollection.register(e,i);let n=this.getNumberOfIndexes();return n>0&&i.init(n),i}unregisterMap(e){this.trimmingMapsCollection.unregister(e),this.hidingMapsCollection.unregister(e),this.variousMapsCollection.unregister(e)}unregisterAll(){this.trimmingMapsCollection.unregisterAll(),this.hidingMapsCollection.unregisterAll(),this.variousMapsCollection.unregisterAll()}getPhysicalFromVisualIndex(e){let i=this.notTrimmedIndexesCache[e];return xe(i)?i:null}getPhysicalFromRenderableIndex(e){let i=this.renderablePhysicalIndexesCache[e];return xe(i)?i:null}getVisualFromPhysicalIndex(e){let i=this.fromPhysicalToVisualIndexesCache.get(e);return xe(i)?i:null}getVisualFromRenderableIndex(e){return this.getVisualFromPhysicalIndex(this.getPhysicalFromRenderableIndex(e))}getRenderableFromVisualIndex(e){let i=this.fromVisualToRenderableIndexesCache.get(e);return xe(i)?i:null}getNearestNotHiddenIndex(e,i){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(this.getPhysicalFromVisualIndex(e)===null)return null;if(this.fromVisualToRenderableIndexesCache.has(e))return e;let o=Array.from(this.fromVisualToRenderableIndexesCache.keys()),s=-1;return i>0?s=o.findIndex(a=>a>e):s=o.reverse().findIndex(a=>a<e),s===-1?n?this.getNearestNotHiddenIndex(e,-i,!1):null:o[s]}initToLength(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getNumberOfIndexes();this.notTrimmedIndexesCache=[...new Array(e).keys()],this.notHiddenIndexesCache=[...new Array(e).keys()],this.suspendOperations(),this.indexesChangeSource="init",this.indexesSequence.init(e),this.indexesChangeSource=void 0,this.trimmingMapsCollection.initEvery(e),this.resumeOperations(),this.suspendOperations(),this.hidingMapsCollection.initEvery(e),this.variousMapsCollection.initEvery(e),this.resumeOperations(),this.runLocalHooks("init")}fitToLength(e){let i=this.getNumberOfIndexes();if(e<i){let n=[...Array(this.getNumberOfIndexes()-e).keys()].map(r=>r+e);this.removeIndexes(n)}else this.insertIndexes(i,e-i)}getIndexesSequence(){return this.indexesSequence.getValues()}setIndexesSequence(e){this.indexesChangeSource===void 0&&(this.indexesChangeSource="update"),this.indexesSequence.setValues(e),this.indexesChangeSource==="update"&&(this.indexesChangeSource=void 0)}getNotTrimmedIndexes(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0?this.notTrimmedIndexesCache:this.getIndexesSequence().filter(n=>this.isTrimmed(n)===!1)}getNotTrimmedIndexesLength(){return this.getNotTrimmedIndexes().length}getNotHiddenIndexes(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0?this.notHiddenIndexesCache:this.getIndexesSequence().filter(n=>this.isHidden(n)===!1)}getNotHiddenIndexesLength(){return this.getNotHiddenIndexes().length}getRenderableIndexes(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0?this.renderablePhysicalIndexesCache:this.getNotTrimmedIndexes().filter(n=>this.isHidden(n)===!1)}getRenderableIndexesLength(){return this.getRenderableIndexes().length}getNumberOfIndexes(){return this.getIndexesSequence().length}moveIndexes(e,i){typeof e=="number"&&(e=[e]);let n=ct(e,c=>this.getPhysicalFromVisualIndex(c)),r=this.getNotTrimmedIndexesLength(),o=e.length,s=Uc(this.getIndexesSequence(),n),a=s.filter(c=>this.isTrimmed(c)===!1),l=s.indexOf(a[a.length-1])+1;if(i+o<r){let c=a[i];l=s.indexOf(c)}this.indexesChangeSource="move",this.setIndexesSequence(Dg(s,l,n)),this.indexesChangeSource=void 0}isTrimmed(e){return this.trimmingMapsCollection.getMergedValueAtIndex(e)}isHidden(e){return this.hidingMapsCollection.getMergedValueAtIndex(e)}insertIndexes(e,i){let n=this.getNotTrimmedIndexes()[e],r=xe(n)?n:this.getNumberOfIndexes(),o=this.getIndexesSequence().includes(n)?this.getIndexesSequence().indexOf(n):this.getNumberOfIndexes(),s=ct(new Array(i).fill(r),(a,l)=>a+l);this.suspendOperations(),this.indexesChangeSource="insert",this.indexesSequence.insert(o,s),this.indexesChangeSource=void 0,this.trimmingMapsCollection.insertToEvery(o,s),this.hidingMapsCollection.insertToEvery(o,s),this.variousMapsCollection.insertToEvery(o,s),this.resumeOperations()}removeIndexes(e){this.suspendOperations(),this.indexesChangeSource="remove",this.indexesSequence.remove(e),this.indexesChangeSource=void 0,this.trimmingMapsCollection.removeFromEvery(e),this.hidingMapsCollection.removeFromEvery(e),this.variousMapsCollection.removeFromEvery(e),this.resumeOperations()}updateCache(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=this.indexesSequenceChanged||this.trimmedIndexesChanged||this.hiddenIndexesChanged;(e===!0||this.isBatched===!1&&i===!0)&&(this.trimmingMapsCollection.updateCache(),this.hidingMapsCollection.updateCache(),this.notTrimmedIndexesCache=this.getNotTrimmedIndexes(!1),this.notHiddenIndexesCache=this.getNotHiddenIndexes(!1),this.renderablePhysicalIndexesCache=this.getRenderableIndexes(!1),this.cacheFromPhysicalToVisualIndexes(),this.cacheFromVisualToRenderableIndexes(),this.hiddenIndexesChanged&&this.hidingChangesObservable.emit(this.hidingMapsCollection.getMergedValues()),this.runLocalHooks("cacheUpdated",{indexesSequenceChanged:this.indexesSequenceChanged,trimmedIndexesChanged:this.trimmedIndexesChanged,hiddenIndexesChanged:this.hiddenIndexesChanged}),this.indexesSequenceChanged=!1,this.trimmedIndexesChanged=!1,this.hiddenIndexesChanged=!1)}cacheFromPhysicalToVisualIndexes(){let e=this.getNotTrimmedIndexesLength();this.fromPhysicalToVisualIndexesCache.clear();for(let i=0;i<e;i+=1){let n=this.getPhysicalFromVisualIndex(i);this.fromPhysicalToVisualIndexesCache.set(n,i)}}cacheFromVisualToRenderableIndexes(){let e=this.getRenderableIndexesLength();this.fromVisualToRenderableIndexesCache.clear();for(let i=0;i<e;i+=1){let n=this.getPhysicalFromRenderableIndex(i),r=this.getVisualFromPhysicalIndex(n);this.fromVisualToRenderableIndexesCache.set(r,i)}}};Ot(bf,Xi);function _7(t,e){return nt(e,(i,n)=>{Gt(t[n])&&(t[n]=i)}),t}function $I(t){let i=/^([a-zA-Z]{2})-([a-zA-Z]{2})$/.exec(t);return i?`${i[1].toLowerCase()}-${i[2].toUpperCase()}`:t}function qI(t){xe(t)&&ug(Dt`Language with code "${t}" was not found. You should register particular language\x20
    before using it. Read more about this issue at: https://docs.handsontable.com/i18n/missing-language-code.`)}function uF(t,e){return Array.isArray(t)&&Number.isInteger(e)?t[e]:t}var{register:aAe,getValues:lAe}=Kn("phraseFormatters");function cAe(t,e){aAe(t,e)}function y7(){return lAe()}cAe("pluralize",uF);var lt={};qse(lt,{CHECKBOX_CHECKED:()=>RC,CHECKBOX_RENDERER_NAMESPACE:()=>hF,CHECKBOX_UNCHECKED:()=>TC,CONTEXTMENU_ITEMS_ADD_COMMENT:()=>Tw,CONTEXTMENU_ITEMS_ALIGNMENT:()=>Aw,CONTEXTMENU_ITEMS_ALIGNMENT_BOTTOM:()=>Hw,CONTEXTMENU_ITEMS_ALIGNMENT_CENTER:()=>Pw,CONTEXTMENU_ITEMS_ALIGNMENT_JUSTIFY:()=>Nw,CONTEXTMENU_ITEMS_ALIGNMENT_LEFT:()=>Ow,CONTEXTMENU_ITEMS_ALIGNMENT_MIDDLE:()=>Fw,CONTEXTMENU_ITEMS_ALIGNMENT_RIGHT:()=>kw,CONTEXTMENU_ITEMS_ALIGNMENT_TOP:()=>Lw,CONTEXTMENU_ITEMS_BORDERS:()=>Vw,CONTEXTMENU_ITEMS_BORDERS_BOTTOM:()=>jw,CONTEXTMENU_ITEMS_BORDERS_LEFT:()=>Uw,CONTEXTMENU_ITEMS_BORDERS_RIGHT:()=>Ww,CONTEXTMENU_ITEMS_BORDERS_TOP:()=>Bw,CONTEXTMENU_ITEMS_CLEAR_COLUMN:()=>bw,CONTEXTMENU_ITEMS_COPY:()=>vw,CONTEXTMENU_ITEMS_COPY_COLUMN_HEADERS_ONLY:()=>ww,CONTEXTMENU_ITEMS_COPY_WITH_COLUMN_GROUP_HEADERS:()=>yw,CONTEXTMENU_ITEMS_COPY_WITH_COLUMN_HEADERS:()=>_w,CONTEXTMENU_ITEMS_CUT:()=>Cw,CONTEXTMENU_ITEMS_EDIT_COMMENT:()=>Iw,CONTEXTMENU_ITEMS_FREEZE_COLUMN:()=>Sw,CONTEXTMENU_ITEMS_HIDE_COLUMN:()=>$w,CONTEXTMENU_ITEMS_HIDE_ROW:()=>Kw,CONTEXTMENU_ITEMS_INSERT_LEFT:()=>dw,CONTEXTMENU_ITEMS_INSERT_RIGHT:()=>uw,CONTEXTMENU_ITEMS_MERGE_CELLS:()=>Ew,CONTEXTMENU_ITEMS_NESTED_ROWS_DETACH_CHILD:()=>Gw,CONTEXTMENU_ITEMS_NESTED_ROWS_INSERT_CHILD:()=>Yw,CONTEXTMENU_ITEMS_NO_ITEMS:()=>aw,CONTEXTMENU_ITEMS_READ_ONLY:()=>gw,CONTEXTMENU_ITEMS_READ_ONLY_COMMENT:()=>Mw,CONTEXTMENU_ITEMS_REDO:()=>pw,CONTEXTMENU_ITEMS_REMOVE_BORDERS:()=>zw,CONTEXTMENU_ITEMS_REMOVE_COLUMN:()=>fw,CONTEXTMENU_ITEMS_REMOVE_COMMENT:()=>Dw,CONTEXTMENU_ITEMS_REMOVE_ROW:()=>hw,CONTEXTMENU_ITEMS_ROW_ABOVE:()=>lw,CONTEXTMENU_ITEMS_ROW_BELOW:()=>cw,CONTEXTMENU_ITEMS_SHOW_COLUMN:()=>qw,CONTEXTMENU_ITEMS_SHOW_ROW:()=>Xw,CONTEXTMENU_ITEMS_UNDO:()=>mw,CONTEXTMENU_ITEMS_UNFREEZE_COLUMN:()=>xw,CONTEXTMENU_ITEMS_UNMERGE_CELLS:()=>Rw,CONTEXT_MENU_ITEMS_NAMESPACE:()=>w7,FILTERS_BUTTONS_CANCEL:()=>CC,FILTERS_BUTTONS_CLEAR:()=>yC,FILTERS_BUTTONS_OK:()=>wC,FILTERS_BUTTONS_PLACEHOLDER_SEARCH:()=>SC,FILTERS_BUTTONS_PLACEHOLDER_SECOND_VALUE:()=>EC,FILTERS_BUTTONS_PLACEHOLDER_VALUE:()=>xC,FILTERS_BUTTONS_SELECT_ALL:()=>_C,FILTERS_CONDITIONS_AFTER:()=>uC,FILTERS_CONDITIONS_BEFORE:()=>hC,FILTERS_CONDITIONS_BEGINS_WITH:()=>tC,FILTERS_CONDITIONS_BETWEEN:()=>cC,FILTERS_CONDITIONS_BY_VALUE:()=>dAe,FILTERS_CONDITIONS_CONTAINS:()=>nC,FILTERS_CONDITIONS_EMPTY:()=>Qw,FILTERS_CONDITIONS_ENDS_WITH:()=>iC,FILTERS_CONDITIONS_EQUAL:()=>Jw,FILTERS_CONDITIONS_GREATER_THAN:()=>oC,FILTERS_CONDITIONS_GREATER_THAN_OR_EQUAL:()=>sC,FILTERS_CONDITIONS_LESS_THAN:()=>aC,FILTERS_CONDITIONS_LESS_THAN_OR_EQUAL:()=>lC,FILTERS_CONDITIONS_NAMESPACE:()=>Cn,FILTERS_CONDITIONS_NONE:()=>vf,FILTERS_CONDITIONS_NOT_BETWEEN:()=>dC,FILTERS_CONDITIONS_NOT_CONTAIN:()=>rC,FILTERS_CONDITIONS_NOT_EMPTY:()=>Zw,FILTERS_CONDITIONS_NOT_EQUAL:()=>eC,FILTERS_CONDITIONS_TODAY:()=>fC,FILTERS_CONDITIONS_TOMORROW:()=>mC,FILTERS_CONDITIONS_YESTERDAY:()=>pC,FILTERS_DIVS_FILTER_BY_CONDITION:()=>gC,FILTERS_DIVS_FILTER_BY_VALUE:()=>bC,FILTERS_LABELS_CONJUNCTION:()=>vC,FILTERS_LABELS_DISJUNCTION:()=>_f,FILTERS_NAMESPACE:()=>oo,FILTERS_VALUES_BLANK_CELLS:()=>Ag});var w7="ContextMenu:items",Bt=w7,aw=`${Bt}.noItems`,lw=`${Bt}.insertRowAbove`,cw=`${Bt}.insertRowBelow`,dw=`${Bt}.insertColumnOnTheLeft`,uw=`${Bt}.insertColumnOnTheRight`,hw=`${Bt}.removeRow`,fw=`${Bt}.removeColumn`,mw=`${Bt}.undo`,pw=`${Bt}.redo`,gw=`${Bt}.readOnly`,bw=`${Bt}.clearColumn`,vw=`${Bt}.copy`,_w=`${Bt}.copyWithHeaders`,yw=`${Bt}.copyWithGroupHeaders`,ww=`${Bt}.copyHeadersOnly`,Cw=`${Bt}.cut`,Sw=`${Bt}.freezeColumn`,xw=`${Bt}.unfreezeColumn`,Ew=`${Bt}.mergeCells`,Rw=`${Bt}.unmergeCells`,Tw=`${Bt}.addComment`,Iw=`${Bt}.editComment`,Dw=`${Bt}.removeComment`,Mw=`${Bt}.readOnlyComment`,Aw=`${Bt}.align`,Ow=`${Bt}.align.left`,Pw=`${Bt}.align.center`,kw=`${Bt}.align.right`,Nw=`${Bt}.align.justify`,Lw=`${Bt}.align.top`,Fw=`${Bt}.align.middle`,Hw=`${Bt}.align.bottom`,Vw=`${Bt}.borders`,Bw=`${Bt}.borders.top`,Ww=`${Bt}.borders.right`,jw=`${Bt}.borders.bottom`,Uw=`${Bt}.borders.left`,zw=`${Bt}.borders.remove`,Yw=`${Bt}.nestedHeaders.insertChildRow`,Gw=`${Bt}.nestedHeaders.detachFromParent`,$w=`${Bt}.hideColumn`,qw=`${Bt}.showColumn`,Kw=`${Bt}.hideRow`,Xw=`${Bt}.showRow`,oo="Filters:",Cn=`${oo}conditions`,vf=`${Cn}.none`,Qw=`${Cn}.isEmpty`,Zw=`${Cn}.isNotEmpty`,Jw=`${Cn}.isEqualTo`,eC=`${Cn}.isNotEqualTo`,tC=`${Cn}.beginsWith`,iC=`${Cn}.endsWith`,nC=`${Cn}.contains`,rC=`${Cn}.doesNotContain`,dAe=`${Cn}.byValue`,oC=`${Cn}.greaterThan`,sC=`${Cn}.greaterThanOrEqualTo`,aC=`${Cn}.lessThan`,lC=`${Cn}.lessThanOrEqualTo`,cC=`${Cn}.isBetween`,dC=`${Cn}.isNotBetween`,uC=`${Cn}.after`,hC=`${Cn}.before`,fC=`${Cn}.today`,mC=`${Cn}.tomorrow`,pC=`${Cn}.yesterday`,gC=`${oo}labels.filterByCondition`,bC=`${oo}labels.filterByValue`,vC=`${oo}labels.conjunction`,_f=`${oo}labels.disjunction`,Ag=`${oo}values.blankCells`,_C=`${oo}buttons.selectAll`,yC=`${oo}buttons.clear`,wC=`${oo}buttons.ok`,CC=`${oo}buttons.cancel`,SC=`${oo}buttons.placeholder.search`,xC=`${oo}buttons.placeholder.value`,EC=`${oo}buttons.placeholder.secondValue`,hF="CheckboxRenderer:",RC=`${hF}checked`,TC=`${hF}unchecked`;var uAe={languageCode:"en-US",[aw]:"No available options",[lw]:"Insert row above",[cw]:"Insert row below",[dw]:"Insert column left",[uw]:"Insert column right",[hw]:["Remove row","Remove rows"],[fw]:["Remove column","Remove columns"],[mw]:"Undo",[pw]:"Redo",[gw]:"Read only",[bw]:"Clear column",[Aw]:"Alignment",[Ow]:"Left",[Pw]:"Center",[kw]:"Right",[Nw]:"Justify",[Lw]:"Top",[Fw]:"Middle",[Hw]:"Bottom",[Sw]:"Freeze column",[xw]:"Unfreeze column",[Vw]:"Borders",[Bw]:"Top",[Ww]:"Right",[jw]:"Bottom",[Uw]:"Left",[zw]:"Remove border(s)",[Tw]:"Add comment",[Iw]:"Edit comment",[Dw]:"Delete comment",[Mw]:"Read-only comment",[Ew]:"Merge cells",[Rw]:"Unmerge cells",[vw]:"Copy",[_w]:["Copy with header","Copy with headers"],[yw]:["Copy with group header","Copy with group headers"],[ww]:["Copy header only","Copy headers only"],[Cw]:"Cut",[Yw]:"Insert child row",[Gw]:"Detach from parent",[$w]:["Hide column","Hide columns"],[qw]:["Show column","Show columns"],[Kw]:["Hide row","Hide rows"],[Xw]:["Show row","Show rows"],[vf]:"None",[Qw]:"Is empty",[Zw]:"Is not empty",[Jw]:"Is equal to",[eC]:"Is not equal to",[tC]:"Begins with",[iC]:"Ends with",[nC]:"Contains",[rC]:"Does not contain",[oC]:"Greater than",[sC]:"Greater than or equal to",[aC]:"Less than",[lC]:"Less than or equal to",[cC]:"Is between",[dC]:"Is not between",[uC]:"After",[hC]:"Before",[fC]:"Today",[mC]:"Tomorrow",[pC]:"Yesterday",[Ag]:"Blank cells",[gC]:"Filter by condition",[bC]:"Filter by value",[vC]:"And",[_f]:"Or",[_C]:"Select all",[yC]:"Clear",[wC]:"OK",[CC]:"Cancel",[SC]:"Search",[xC]:"Value",[EC]:"Second value",[RC]:"Checked",[TC]:"Unchecked"},fF=uAe;var C7=lt,mF=fF.languageCode,{register:hAe,getItem:S7,hasItem:fAe,getValues:mAe}=Kn("languagesDictionaries");pF(fF);function pF(t,e){let i=t,n=e;return it(t)&&(n=t,i=n.languageCode),pAe(i,n),hAe(i,Fn(n)),Fn(n)}function pAe(t,e){t!==mF&&_7(e,S7(mF))}function gF(t){return KI(t)?Fn(S7(t)):null}function KI(t){return fAe(t)}function x7(){return mAe()}function XI(t,e,i){let n=gF(t);if(n===null)return null;let r=n[e];if(Gt(r))return null;let o=gAe(r,i);return Array.isArray(o)?o[0]:o}function gAe(t,e){let i=t;return M(y7(),n=>{i=n(t,e)}),i}function E7(t){let e=$I(t);return KI(e)||(e=mF,qI(t)),e}var Blt=w(Q(),1),Wlt=w(be(),1),jlt=w(Fi(),1),Ult=w(Hi(),1),zlt=w(Vi(),1),Ylt=w(Bi(),1),Glt=w(Wi(),1),$lt=w(ji(),1),qlt=w(Ui(),1);var olt=w(Q(),1),slt=w(be(),1);var _at=w(Q(),1);function bAe(t,e,i){return e=vAe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function vAe(t){var e=_Ae(t,"string");return typeof e=="symbol"?e:e+""}function _Ae(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bF=class extends xI{constructor(e,i){super(e,null),bAe(this,"visualCellRange",null),this.visualCellRange=i||null,this.commit()}add(e){return this.visualCellRange===null?this.visualCellRange=this.settings.createCellRange(e):this.visualCellRange.expand(e),this}clear(){return this.visualCellRange=null,super.clear()}trimToVisibleCellsRangeOnly(e){let{from:i,to:n}=e,r=this.getNearestNotHiddenCoords(i,1),o=this.getNearestNotHiddenCoords(n,-1);return r===null||o===null?null:((r.row>o.row||r.col>o.col)&&(r=i,o=n),this.settings.createCellRange(r,r,o))}getNearestNotHiddenCoords(e,i){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:i,r=this.getNearestNotHiddenIndex(this.settings.rowIndexMapper,e.row,i);if(r===null)return null;let o=this.getNearestNotHiddenIndex(this.settings.columnIndexMapper,e.col,n);return o===null?null:this.settings.createCellCoords(r,o)}getNearestNotHiddenIndex(e,i,n){return i<0?i:e.getNearestNotHiddenIndex(i,n)}commit(){if(this.visualCellRange===null)return this;let e=this.trimToVisibleCellsRangeOnly(this.visualCellRange);return e===null?this.cellRange=null:this.cellRange=this.createRenderableCellRange(e.from,e.to),this}syncWith(e){let i=e.from.clone().normalize(),n=e.getVerticalDirection()==="N-S"?1:-1,r=e.getHorizontalDirection()==="W-E"?1:-1,o=this.settings.visualToRenderableCoords(this.visualCellRange.highlight),s=null;if((o===null||o.col===null||o.row===null)&&(s=this.getNearestNotHiddenCoords(i,n,r)),s!==null&&e.overlaps(s)){let a=e.highlight.clone();if(a.row>=0&&(a.row=s.row),a.col>=0&&(a.col=s.col),this.cellRange===null){let l=this.settings.visualToRenderableCoords(a);this.cellRange=this.settings.createCellRange(l)}e.setHighlight(a)}return this.settings.selectionType==="focus"&&o!==null&&s===null&&e.setHighlight(this.visualCellRange.highlight),this}getCorners(){let{from:e,to:i}=this.cellRange;return[Math.min(e.row,i.row),Math.min(e.col,i.col),Math.max(e.row,i.row),Math.max(e.col,i.col)]}getVisualCorners(){let e=this.settings.renderableToVisualCoords(this.cellRange.getTopStartCorner()),i=this.settings.renderableToVisualCoords(this.cellRange.getBottomEndCorner());return[e.row,e.col,i.row,i.col]}createRenderableCellRange(e,i){let n=this.settings.visualToRenderableCoords(e),r=this.settings.visualToRenderableCoords(i);return n.row===null||n.col===null||r.row===null||r.col===null?null:this.settings.createCellRange(n,n,r)}},Ar=bF;function QI(t){let n=t,{activeHeaderClassName:e}=n,i=Ki(n,["activeHeaderClassName"]);return new Ar(st(ee({className:e},i),{selectionType:Cg}))}function R7(t){let n=t,{areaCornerVisible:e}=n,i=Ki(n,["areaCornerVisible"]);return new Ar(st(ee({className:"area",createLayers:!0,border:{width:1,color:"#4b89ff",cornerVisible:e}},i),{selectionType:Pu}))}function T7(t){let e=Ki(t,[]);return new Ar(st(ee({className:"highlight"},e),{selectionType:Pu}))}function I7(t){let n=t,{columnClassName:e}=n,i=Ki(n,["columnClassName"]);return new Ar(st(ee({className:e},i),{selectionType:TI}))}function D7(t){let n=t,{cellCornerVisible:e}=n,i=Ki(n,["cellCornerVisible"]);return new Ar(st(ee({className:"current",headerAttributes:[Jp()],border:{width:2,color:"#4b89ff",cornerVisible:e}},i),{selectionType:ff}))}function M7(t){let r=t,{border:e,visualCellRange:i}=r,n=Ki(r,["border","visualCellRange"]);return new Ar(st(ee(ee({},e),n),{selectionType:II}),i)}function A7(t){let e=Ki(t,[]);return new Ar(st(ee({className:"fill",border:{width:1,color:"#ff0000"}},e),{selectionType:EI}))}function vF(t){let n=t,{headerClassName:e}=n,i=Ki(n,["headerClassName"]);return new Ar(st(ee({className:e},i),{selectionType:Ou}))}function O7(t){let n=t,{rowClassName:e}=n,i=Ki(n,["rowClassName"]);return new Ar(st(ee({className:e},i),{selectionType:RI}))}function yAe(t,e){wAe(t,e),e.add(t)}function wAe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function $o(t,e,i){return e=CAe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function CAe(t){var e=SAe(t,"string");return typeof e=="symbol"?e:e+""}function SAe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zc(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var Nl=new WeakSet,_F=class{constructor(e){yAe(this,Nl),$o(this,"options",void 0),$o(this,"layerLevel",0),$o(this,"focus",void 0),$o(this,"fill",void 0),$o(this,"layeredAreas",new Map),$o(this,"areas",new Map),$o(this,"rowHeaders",new Map),$o(this,"columnHeaders",new Map),$o(this,"activeRowHeaders",new Map),$o(this,"activeColumnHeaders",new Map),$o(this,"activeCornerHeaders",new Map),$o(this,"rowHighlights",new Map),$o(this,"columnHighlights",new Map),$o(this,"customSelections",[]),this.options=e,this.focus=D7(e),this.fill=A7(e)}isEnabledFor(e,i){let n=e;e===ff&&(n="current");let r=this.options.disabledCellSelection(i.row,i.col);return typeof r=="string"&&(r=[r]),r===!1||Array.isArray(r)&&!r.includes(n)}useLayerLevel(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.layerLevel=e,this}getFocus(){return this.focus}getFill(){return this.fill}createLayeredArea(){return zc(Nl,this,Yc).call(this,this.layeredAreas,R7)}getLayeredAreas(){return[...this.layeredAreas.values()]}createArea(){return zc(Nl,this,Yc).call(this,this.areas,T7)}getAreas(){return[...this.areas.values()]}createRowHeader(){return zc(Nl,this,Yc).call(this,this.rowHeaders,vF)}getRowHeaders(){return[...this.rowHeaders.values()]}createColumnHeader(){return zc(Nl,this,Yc).call(this,this.columnHeaders,vF)}getColumnHeaders(){return[...this.columnHeaders.values()]}createActiveRowHeader(){return zc(Nl,this,Yc).call(this,this.activeRowHeaders,QI)}getActiveRowHeaders(){return[...this.activeRowHeaders.values()]}createActiveColumnHeader(){return zc(Nl,this,Yc).call(this,this.activeColumnHeaders,QI)}getActiveColumnHeaders(){return[...this.activeColumnHeaders.values()]}createActiveCornerHeader(){return zc(Nl,this,Yc).call(this,this.activeCornerHeaders,QI)}getActiveCornerHeaders(){return[...this.activeCornerHeaders.values()]}createRowHighlight(){return zc(Nl,this,Yc).call(this,this.rowHighlights,O7)}getRowHighlights(){return[...this.rowHighlights.values()]}createColumnHighlight(){return zc(Nl,this,Yc).call(this,this.columnHighlights,I7)}getColumnHighlights(){return[...this.columnHighlights.values()]}getCustomSelections(){return[...this.customSelections.values()]}addCustomSelection(e){this.customSelections.push(M7(ee(ee({},this.options),e)))}clear(){this.focus.clear(),this.fill.clear(),M(this.areas.values(),e=>void e.clear()),M(this.layeredAreas.values(),e=>void e.clear()),M(this.rowHeaders.values(),e=>void e.clear()),M(this.columnHeaders.values(),e=>void e.clear()),M(this.activeRowHeaders.values(),e=>void e.clear()),M(this.activeColumnHeaders.values(),e=>void e.clear()),M(this.activeCornerHeaders.values(),e=>void e.clear()),M(this.rowHighlights.values(),e=>void e.clear()),M(this.columnHighlights.values(),e=>void e.clear())}[Symbol.iterator](){return[this.focus,this.fill,...this.areas.values(),...this.layeredAreas.values(),...this.rowHeaders.values(),...this.columnHeaders.values(),...this.activeRowHeaders.values(),...this.activeColumnHeaders.values(),...this.activeCornerHeaders.values(),...this.rowHighlights.values(),...this.columnHighlights.values(),...this.customSelections][Symbol.iterator]()}};function Yc(t,e){let i=this.layerLevel;if(t.has(i))return t.get(i);let n=e(ee({layerLevel:i},this.options));return t.set(i,n),n}var P7=_F;var ylt=w(Q(),1),wlt=w(be(),1);function k7(t,e,i){return e=xAe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function xAe(t){var e=EAe(t,"string");return typeof e=="symbol"?e:e+""}function EAe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yF=class{constructor(e){k7(this,"ranges",[]),k7(this,"createCellRange",void 0),this.createCellRange=e}isEmpty(){return this.size()===0}set(e){return this.clear(),this.ranges.push(this.createCellRange(e)),this}add(e){return this.ranges.push(this.createCellRange(e)),this}pop(){return this.ranges.pop(),this}current(){return this.peekByIndex(this.size()-1)}previous(){return this.peekByIndex(this.size()-2)}includes(e){return this.ranges.some(i=>i.includes(e))}clear(){return this.ranges.length=0,this}size(){return this.ranges.length}peekByIndex(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,i;return e>=0&&e<this.size()&&(i=this.ranges[e]),i}[Symbol.iterator](){return this.ranges[Symbol.iterator]()}},N7=yF;var Slt=w(Q(),1);function RAe(t,e){H7(t,e),e.add(t)}function wF(t,e,i){H7(t,e),e.set(t,i)}function H7(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function wi(t,e){return t.get(sr(t,e))}function CF(t,e,i){return t.set(sr(t,e),i),i}function sr(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var ZI=new WeakMap,un=new WeakMap,Ll=new WeakMap,mr=new WeakSet,JI=class{constructor(e,i){RAe(this,mr),wF(this,ZI,void 0),wF(this,un,void 0),wF(this,Ll,{x:0,y:0}),CF(ZI,this,e),CF(un,this,i)}transformStart(e,i){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=wi(un,this).createCellCoords(e,i),o=wi(ZI,this).current().highlight,s=wi(un,this).visualToRenderableCoords(o),a=0,l=0;if(this.runLocalHooks("beforeTransformStart",r),s.row!==null&&s.col!==null){let{width:c,height:d}=sr(mr,this,V7).call(this),{row:u,col:f}=sr(mr,this,F7).call(this,o),m=wi(un,this).fixedRowsBottom(),g=wi(un,this).minSpareRows(),_=wi(un,this).minSpareCols(),b=wi(un,this).autoWrapRow(),y=wi(un,this).autoWrapCol(),x=wi(un,this).createCellCoords(u+r.row,f+r.col);if(x.row>=d){let P=to(n&&g>0&&m===0),V=x.col+1,F=wi(un,this).createCellCoords(x.row-d,V>=c?V-c:V);this.runLocalHooks("beforeColumnWrap",P,sr(mr,this,Og).call(this,F),V>=c),P.value?this.runLocalHooks("insertRowRequire",wi(un,this).countRenderableRows()):y&&x.assign(F)}else if(x.row<0){let P=to(y),V=x.col-1,F=wi(un,this).createCellCoords(d+x.row,V<0?c+V:V);this.runLocalHooks("beforeColumnWrap",P,sr(mr,this,Og).call(this,F),V<0),y&&x.assign(F)}if(x.col>=c){let P=to(n&&_>0),V=x.row+1,F=wi(un,this).createCellCoords(V>=d?V-d:V,x.col-c);this.runLocalHooks("beforeRowWrap",P,sr(mr,this,Og).call(this,F),V>=d),P.value?this.runLocalHooks("insertColRequire",wi(un,this).countRenderableColumns()):b&&x.assign(F)}else if(x.col<0){let P=to(b),V=x.row-1,F=wi(un,this).createCellCoords(V<0?d+V:V,c+x.col);this.runLocalHooks("beforeRowWrap",P,sr(mr,this,Og).call(this,F),V<0),b&&x.assign(F)}let{rowDir:T,colDir:O}=sr(mr,this,L7).call(this,x);a=T,l=O,o=sr(mr,this,Og).call(this,x)}return this.runLocalHooks("afterTransformStart",o,a,l),o}transformEnd(e,i){let n=wi(un,this).createCellCoords(e,i),r=wi(ZI,this).current(),o=wi(un,this).visualToRenderableCoords(r.highlight),s=sr(mr,this,SF).call(this,r.to.row,r.from.row),a=sr(mr,this,xF).call(this,r.to.col,r.from.col),l=r.to.clone(),c=0,d=0;if(this.runLocalHooks("beforeTransformEnd",n),o.row!==null&&o.col!==null&&s!==null&&a!==null){let{row:u,col:f}=sr(mr,this,F7).call(this,r.highlight),m=wi(un,this).createCellCoords(s+n.row,a+n.col),g=r.getTopStartCorner(),_=r.getTopEndCorner(),b=r.getBottomEndCorner();if(n.col<0&&a>=f&&m.col<f){let O=m.col-f;m.col=sr(mr,this,xF).call(this,g.col,_.col)+O}else if(n.col>0&&a<=f&&m.col>f){let O=sr(mr,this,xF).call(this,_.col,g.col),P=Math.max(m.col-O,1);m.col=O+P}if(n.row<0&&s>=u&&m.row<u){let O=m.row-u;m.row=sr(mr,this,SF).call(this,g.row,b.row)+O}else if(n.row>0&&s<=u&&m.row>u){let O=sr(mr,this,SF).call(this,b.row,g.row),P=Math.max(m.row-O,1);m.row=O+P}let{rowDir:y,colDir:x}=sr(mr,this,L7).call(this,m);c=y,d=x;let T=sr(mr,this,Og).call(this,m);n.row===0&&n.col!==0?l.col=T.col:n.row!==0&&n.col===0?l.row=T.row:(l.row=T.row,l.col=T.col)}return this.runLocalHooks("afterTransformEnd",l,c,d),l}setOffsetSize(e){let{x:i,y:n}=e;CF(Ll,this,{x:i,y:n})}};function L7(t){let{width:e,height:i}=sr(mr,this,V7).call(this),n=0,r=0;return t.row<0?(n=-1,t.row=0):t.row>0&&t.row>=i&&(n=1,t.row=i-1),t.col<0?(r=-1,t.col=0):t.col>0&&t.col>=e&&(r=1,t.col=e-1),{rowDir:n,colDir:r}}function V7(){return{width:wi(Ll,this).x+wi(un,this).countRenderableColumns(),height:wi(Ll,this).y+wi(un,this).countRenderableRows()}}function SF(t,e){let i=wi(un,this).findFirstNonHiddenRenderableRow(t,e);return i===null?null:wi(Ll,this).y+i}function xF(t,e){let i=wi(un,this).findFirstNonHiddenRenderableColumn(t,e);return i===null?null:wi(Ll,this).x+i}function F7(t){let{row:e,col:i}=wi(un,this).visualToRenderableCoords(t);if(e===null||i===null)throw new Error("Renderable coords are not visible.");return wi(un,this).createCellCoords(wi(Ll,this).y+e,wi(Ll,this).x+i)}function Og(t){let e=t.clone();return e.col=t.col-wi(Ll,this).x,e.row=t.row-wi(Ll,this).y,wi(un,this).renderableToVisualCoords(e)}Ot(JI,Xi);var EF=JI;var Tlt=w(Q(),1),Ilt=w(be(),1),Dlt=w(Fi(),1),Mlt=w(Hi(),1),Alt=w(Vi(),1),Olt=w(Bi(),1),Plt=w(Wi(),1),klt=w(ji(),1),Nlt=w(Ui(),1);var IC=0,DC=1,W7=2,TF=3,TAe=[TF,W7],IAe=[["number"],["number","string"],["number","undefined"],["number","string","undefined"]],RF=Symbol("root"),B7=Symbol("child");function Gc(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:RF;if(e!==RF&&e!==B7)throw new Error("The second argument is used internally only and cannot be overwritten.");let i=Array.isArray(t),n=e===RF,r=IC;if(i){let o=t[0];t.length===0?r=DC:n&&o instanceof lf?r=TF:n&&Array.isArray(o)?r=Gc(o,B7):t.length>=2&&t.length<=4&&!t.some((a,l)=>!IAe[l].includes(typeof a))&&(r=W7)}return r}function Fu(t){let{createCellCoords:e,createCellRange:i,keepDirection:n=!1,propToCol:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!TAe.includes(t))throw new Error("Unsupported selection ranges schema type was provided.");return function(o){let s=t===TF,a=s?o.from.row:o[0],l=s?o.from.col:o[1],c=s?o.to.row:o[2],d=s?o.to.col:o[3];if(typeof r=="function"&&(typeof l=="string"&&(l=r(l)),typeof d=="string"&&(d=r(d))),Gt(c)&&(c=a),Gt(d)&&(d=l),!n){let m=a,g=l,_=c,b=d;a=Math.min(m,_),l=Math.min(g,b),c=Math.max(m,_),d=Math.max(g,b)}let u=e(a,l),f=e(c,d);return i(u,u,f)}}function j7(t){let e=Gc(t.getSelected());if(e===IC||e===DC)return[];let i=Fu(e,{createCellCoords:t._createCellCoords.bind(t),createCellRange:t._createCellRange.bind(t)}),n=new Set;M(t.getSelected(),s=>{let{from:a,to:l}=i(s),c=Math.max(a.col,0),d=l.col-c+1;M(Array.from(new Array(d),(u,f)=>c+f),u=>{n.has(u)||n.add(u)})});let r=Array.from(n).sort((s,a)=>s-a);return Mi(r,(s,a,l,c)=>(l!==0&&a===c[l-1]+1?s[s.length-1][1]+=1:s.push([a,1]),s),[])}function U7(t){let e=Gc(t.getSelected());if(e===IC||e===DC)return[];let i=Fu(e,{createCellCoords:t._createCellCoords.bind(t),createCellRange:t._createCellRange.bind(t)}),n=new Set;M(t.getSelected(),s=>{let{from:a,to:l}=i(s),c=Math.max(a.row,0),d=l.row-c+1;M(Array.from(new Array(d),(u,f)=>c+f),u=>{n.has(u)||n.add(u)})});let r=Array.from(n).sort((s,a)=>s-a);return Mi(r,(s,a,l,c)=>(l!==0&&a===c[l-1]+1?s[s.length-1][1]+=1:s.push([a,1]),s),[])}function Pg(t,e,i){DAe(t,e),e.set(t,i)}function DAe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function yf(t,e,i){return e=MAe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function MAe(t){var e=AAe(t,"string");return typeof e=="symbol"?e:e+""}function AAe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function In(t,e){return t.get(z7(t,e))}function Fl(t,e,i){return t.set(z7(t,e),i),i}function z7(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var qo=new WeakMap,wf=new WeakMap,eD=new WeakMap,MC=new WeakMap,tD=new WeakMap,AC=new WeakMap,iD=class{constructor(e,i){var n=this;yf(this,"settings",void 0),yf(this,"tableProps",void 0),yf(this,"inProgress",!1),yf(this,"selectedRange",new N7((r,o,s)=>this.tableProps.createCellRange(r,o,s))),yf(this,"highlight",void 0),Pg(this,qo,void 0),Pg(this,wf,void 0),yf(this,"selectedByRowHeader",new Set),yf(this,"selectedByColumnHeader",new Set),Pg(this,eD,!1),Pg(this,MC,!1),Pg(this,tD,"unknown"),Pg(this,AC,-1),this.settings=e,this.tableProps=i,this.highlight=new P7({headerClassName:e.currentHeaderClassName,activeHeaderClassName:e.activeHeaderClassName,rowClassName:e.currentRowClassName,columnClassName:e.currentColClassName,cellAttributes:[Jp()],rowIndexMapper:this.tableProps.rowIndexMapper,columnIndexMapper:this.tableProps.columnIndexMapper,disabledCellSelection:(r,o)=>this.tableProps.isDisabledCellSelection(r,o),cellCornerVisible:function(){return n.isCellCornerVisible(...arguments)},areaCornerVisible:function(){return n.isAreaCornerVisible(...arguments)},visualToRenderableCoords:r=>this.tableProps.visualToRenderableCoords(r),renderableToVisualCoords:r=>this.tableProps.renderableToVisualCoords(r),createCellCoords:(r,o)=>this.tableProps.createCellCoords(r,o),createCellRange:(r,o,s)=>this.tableProps.createCellRange(r,o,s)}),Fl(qo,this,new EF(this.selectedRange,{rowIndexMapper:this.tableProps.rowIndexMapper,columnIndexMapper:this.tableProps.columnIndexMapper,countRenderableRows:()=>this.tableProps.countRenderableRows(),countRenderableColumns:()=>this.tableProps.countRenderableColumns(),visualToRenderableCoords:r=>this.tableProps.visualToRenderableCoords(r),renderableToVisualCoords:r=>this.tableProps.renderableToVisualCoords(r),findFirstNonHiddenRenderableRow:function(){return n.tableProps.findFirstNonHiddenRenderableRow(...arguments)},findFirstNonHiddenRenderableColumn:function(){return n.tableProps.findFirstNonHiddenRenderableColumn(...arguments)},createCellCoords:(r,o)=>this.tableProps.createCellCoords(r,o),fixedRowsBottom:()=>e.fixedRowsBottom,minSpareRows:()=>e.minSpareRows,minSpareCols:()=>e.minSpareCols,autoWrapRow:()=>e.autoWrapRow,autoWrapCol:()=>e.autoWrapCol})),Fl(wf,this,new EF(this.selectedRange,{rowIndexMapper:this.tableProps.rowIndexMapper,columnIndexMapper:this.tableProps.columnIndexMapper,countRenderableRows:()=>{let r=this.selectedRange.current();return this.tableProps.countRenderableRowsInRange(0,r.getOuterBottomEndCorner().row)},countRenderableColumns:()=>{let r=this.selectedRange.current();return this.tableProps.countRenderableColumnsInRange(0,r.getOuterBottomEndCorner().col)},visualToRenderableCoords:r=>this.tableProps.visualToRenderableCoords(r),renderableToVisualCoords:r=>this.tableProps.renderableToVisualCoords(r),findFirstNonHiddenRenderableRow:function(){return n.tableProps.findFirstNonHiddenRenderableRow(...arguments)},findFirstNonHiddenRenderableColumn:function(){return n.tableProps.findFirstNonHiddenRenderableColumn(...arguments)},createCellCoords:(r,o)=>this.tableProps.createCellCoords(r,o),fixedRowsBottom:()=>0,minSpareRows:()=>0,minSpareCols:()=>0,autoWrapRow:()=>!0,autoWrapCol:()=>!0})),In(qo,this).addLocalHook("beforeTransformStart",function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return n.runLocalHooks("beforeModifyTransformStart",...o)}),In(qo,this).addLocalHook("afterTransformStart",function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return n.runLocalHooks("afterModifyTransformStart",...o)}),In(qo,this).addLocalHook("beforeTransformEnd",function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return n.runLocalHooks("beforeModifyTransformEnd",...o)}),In(qo,this).addLocalHook("afterTransformEnd",function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return n.runLocalHooks("afterModifyTransformEnd",...o)}),In(qo,this).addLocalHook("insertRowRequire",function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return n.runLocalHooks("insertRowRequire",...o)}),In(qo,this).addLocalHook("insertColRequire",function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return n.runLocalHooks("insertColRequire",...o)}),In(qo,this).addLocalHook("beforeRowWrap",function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return n.runLocalHooks("beforeRowWrap",...o)}),In(qo,this).addLocalHook("beforeColumnWrap",function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return n.runLocalHooks("beforeColumnWrap",...o)}),In(wf,this).addLocalHook("beforeTransformStart",function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return n.runLocalHooks("beforeModifyTransformFocus",...o)}),In(wf,this).addLocalHook("afterTransformStart",function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return n.runLocalHooks("afterModifyTransformFocus",...o)})}getSelectedRange(){return this.selectedRange}markSource(e){Fl(tD,this,e)}markEndSource(){Fl(tD,this,"unknown")}getSelectionSource(){return In(tD,this)}setExpectedLayers(e){Fl(AC,this,e)}begin(){this.inProgress=!0}finish(){this.runLocalHooks("afterSelectionFinished",Array.from(this.selectedRange)),this.inProgress=!1,Fl(AC,this,-1)}isInProgress(){return this.inProgress}setRangeStart(e,i){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:e,o=this.settings.selectionMode==="multiple",s=Gt(i)?this.tableProps.getShortcutManager().isCtrlPressed():i,a=e.clone();Fl(eD,this,!1),this.runLocalHooks(`beforeSetRangeStart${n?"Only":""}`,a),(!o||o&&!s&&Gt(i))&&this.selectedRange.clear(),this.selectedRange.add(a).current().setHighlight(r.clone()),this.getLayerLevel()===0&&(this.selectedByRowHeader.clear(),this.selectedByColumnHeader.clear()),n||this.setRangeEnd(e)}setRangeStartOnly(e,i){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e;this.setRangeStart(e,i,!0,n)}setRangeEnd(e){if(this.selectedRange.isEmpty())return;let i=e.clone(),n=this.tableProps.countRows(),r=this.tableProps.countCols(),o=this.selectedRange.current().clone().setTo(e).isSingleHeader();if((n>0||r>0)&&(n===0&&i.col<0&&!o||r===0&&i.row<0&&!o))return;this.runLocalHooks("beforeSetRangeEnd",i),this.begin();let s=this.selectedRange.current();if(this.settings.navigableHeaders||s.highlight.normalize(),this.settings.selectionMode==="single")s.setFrom(s.highlight),s.setTo(s.highlight);else{let l=s.getHorizontalDirection(),c=s.getVerticalDirection(),d=this.isMultiple();s.setTo(i),d&&(l!==s.getHorizontalDirection()||s.getWidth()===1&&!s.includes(s.highlight))&&s.from.assign({col:s.highlight.col}),d&&(c!==s.getVerticalDirection()||s.getHeight()===1&&!s.includes(s.highlight))&&s.from.assign({row:s.highlight.row})}n>0&&r>0&&(!this.settings.navigableHeaders||this.settings.navigableHeaders&&!s.isSingleHeader())&&s.to.normalize(),this.runLocalHooks("beforeHighlightSet"),this.setRangeFocus(this.selectedRange.current().highlight),this.applyAndCommit();let a=In(AC,this)===-1||this.selectedRange.size()===In(AC,this);this.runLocalHooks("afterSetRangeEnd",e,a)}applyAndCommit(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectedRange.current(),i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLayerLevel(),n=this.tableProps.countRows(),r=this.tableProps.countCols();i<this.highlight.layerLevel&&(M(this.highlight.getAreas(),g=>void g.clear()),M(this.highlight.getLayeredAreas(),g=>void g.clear()),M(this.highlight.getRowHeaders(),g=>void g.clear()),M(this.highlight.getColumnHeaders(),g=>void g.clear()),M(this.highlight.getActiveRowHeaders(),g=>void g.clear()),M(this.highlight.getActiveColumnHeaders(),g=>void g.clear()),M(this.highlight.getActiveCornerHeaders(),g=>void g.clear()),M(this.highlight.getRowHighlights(),g=>void g.clear()),M(this.highlight.getColumnHighlights(),g=>void g.clear())),this.highlight.useLayerLevel(i);let o=this.highlight.createArea(),s=this.highlight.createLayeredArea(),a=this.highlight.createRowHeader(),l=this.highlight.createColumnHeader(),c=this.highlight.createActiveRowHeader(),d=this.highlight.createActiveColumnHeader(),u=this.highlight.createActiveCornerHeader(),f=this.highlight.createRowHighlight(),m=this.highlight.createColumnHighlight();if(o.clear(),s.clear(),a.clear(),l.clear(),c.clear(),d.clear(),u.clear(),f.clear(),m.clear(),this.highlight.isEnabledFor(Pu,e.highlight)&&(this.isMultiple()||i>=1)&&(o.add(e.from).add(e.to).commit(),s.add(e.from).add(e.to).commit(),i===1)){let g=this.selectedRange.previous();this.highlight.useLayerLevel(i-1),this.highlight.createArea().add(g.from).commit().syncWith(g),this.highlight.createLayeredArea().add(g.from).commit().syncWith(g),this.highlight.useLayerLevel(i)}if(this.highlight.isEnabledFor(Ou,e.highlight)){if(!e.isSingleHeader()){let b=this.tableProps.createCellCoords(Math.max(e.from.row,0),-1),y=this.tableProps.createCellCoords(e.to.row,-1),x=this.tableProps.createCellCoords(-1,Math.max(e.from.col,0)),T=this.tableProps.createCellCoords(-1,e.to.col);this.settings.selectionMode==="single"?(a.add(b).commit(),l.add(x).commit(),f.add(b).commit(),m.add(x).commit()):(a.add(b).add(y).commit(),l.add(x).add(T).commit(),f.add(b).add(y).commit(),m.add(x).add(T).commit())}let g=!In(MC,this)&&this.isEntireRowSelected()&&(r>0&&r===e.getWidth()||r===0&&this.isSelectedByRowHeader()),_=!In(MC,this)&&this.isEntireColumnSelected()&&(n>0&&n===e.getHeight()||n===0&&this.isSelectedByColumnHeader());g&&c.add(this.tableProps.createCellCoords(Math.max(e.from.row,0),Math.min(-this.tableProps.countRowHeaders(),-1))).add(this.tableProps.createCellCoords(Math.max(e.to.row,0),-1)).commit(),_&&d.add(this.tableProps.createCellCoords(Math.min(-this.tableProps.countColHeaders(),-1),Math.max(e.from.col,0))).add(this.tableProps.createCellCoords(-1,Math.max(e.to.col,0))).commit(),g&&_&&u.add(this.tableProps.createCellCoords(-this.tableProps.countColHeaders(),-this.tableProps.countRowHeaders())).add(this.tableProps.createCellCoords(-1,-1)).commit()}}setRangeFocus(e){if(this.selectedRange.isEmpty())return;let i=this.selectedRange.current();this.inProgress||this.runLocalHooks("beforeSetFocus",e);let n=this.highlight.getFocus();n.clear(),i.setHighlight(e),this.inProgress||this.runLocalHooks("beforeHighlightSet"),this.highlight.isEnabledFor(ff,i.highlight)&&n.add(i.highlight).commit().syncWith(i),this.inProgress||(Fl(eD,this,!0),this.runLocalHooks("afterSetFocus",i.highlight))}transformStart(e,i){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.settings.navigableHeaders&&In(qo,this).setOffsetSize({x:this.tableProps.countRowHeaders(),y:this.tableProps.countColHeaders()}),this.setRangeStart(In(qo,this).transformStart(e,i,n))}transformEnd(e,i){this.settings.navigableHeaders&&In(qo,this).setOffsetSize({x:this.tableProps.countRowHeaders(),y:this.tableProps.countColHeaders()}),this.setRangeEnd(In(qo,this).transformEnd(e,i))}transformFocus(e,i){let n=this.selectedRange.current(),{row:r,col:o}=n.getOuterTopStartCorner(),s=this.tableProps.countRenderableColumnsInRange(0,o-1),a=this.tableProps.countRenderableRowsInRange(0,r-1);n.highlight.isHeader()?In(wf,this).setOffsetSize({x:o<0?Math.abs(o):-s,y:r<0?Math.abs(r):-a}):In(wf,this).setOffsetSize({x:o<0?0:-s,y:r<0?0:-a});let l=In(wf,this).transformStart(e,i);this.setRangeFocus(l.normalize())}shiftRows(e,i){if(!this.isSelected())return;let n=this.selectedRange.current();if(this.isSelectedByCorner())this.selectAll(!0,!0,{disableHeadersHighlight:!0});else if(this.isSelectedByColumnHeader()||n.getOuterTopStartCorner().row>=e){let{from:r,to:o,highlight:s}=n,a=this.tableProps.countRows(),l=this.isSelectedByRowHeader(),c=this.isSelectedByColumnHeader(),d=c?-1:0,u=c?0:i;this.getSelectedRange().pop();let f=this.tableProps.createCellCoords(mi(r.row+u,d,a-1),r.col),m=this.tableProps.createCellCoords(mi(o.row+i,d,a-1),o.col);this.markSource("shift"),s.row>=e?this.setRangeStartOnly(f,!0,this.tableProps.createCellCoords(mi(s.row+i,0,a-1),s.col)):this.setRangeStartOnly(f,!0),l&&this.selectedByRowHeader.add(this.getLayerLevel()),c&&this.selectedByColumnHeader.add(this.getLayerLevel()),this.setRangeEnd(m),this.markEndSource()}}shiftColumns(e,i){if(!this.isSelected())return;let n=this.selectedRange.current();if(this.isSelectedByCorner())this.selectAll(!0,!0,{disableHeadersHighlight:!0});else if(this.isSelectedByRowHeader()||n.getOuterTopStartCorner().col>=e){let{from:r,to:o,highlight:s}=n,a=this.tableProps.countCols(),l=this.isSelectedByRowHeader(),c=this.isSelectedByColumnHeader(),d=l?-1:0,u=l?0:i;this.getSelectedRange().pop();let f=this.tableProps.createCellCoords(r.row,mi(r.col+u,d,a-1)),m=this.tableProps.createCellCoords(o.row,mi(o.col+i,d,a-1));this.markSource("shift"),s.col>=e?this.setRangeStartOnly(f,!0,this.tableProps.createCellCoords(s.row,mi(s.col+i,0,a-1))):this.setRangeStartOnly(f,!0),l&&this.selectedByRowHeader.add(this.getLayerLevel()),c&&this.selectedByColumnHeader.add(this.getLayerLevel()),this.setRangeEnd(m),this.markEndSource()}}getLayerLevel(){return this.selectedRange.size()-1}isSelected(){return!this.selectedRange.isEmpty()}isMultiple(){if(!this.isSelected())return!1;let e=to(!this.selectedRange.current().isSingle());return this.runLocalHooks("afterIsMultipleSelection",e),e.value}isFocusSelectionChanged(){return this.isSelected()&&In(eD,this)}isSelectedByRowHeader(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getLayerLevel();return!this.isSelectedByCorner(e)&&(e===-1?this.selectedByRowHeader.size>0:this.selectedByRowHeader.has(e))}isEntireRowSelected(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getLayerLevel(),i=r=>{let{col:o}=r.getOuterTopStartCorner(),s=this.tableProps.countRowHeaders(),a=this.tableProps.countCols();return(s>0&&o<0||s===0)&&r.getWidth()===a};if(e===-1)return Array.from(this.selectedRange).some(r=>i(r));let n=this.selectedRange.peekByIndex(e);return n?i(n):!1}isSelectedByColumnHeader(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getLayerLevel();return!this.isSelectedByCorner()&&(e===-1?this.selectedByColumnHeader.size>0:this.selectedByColumnHeader.has(e))}isEntireColumnSelected(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getLayerLevel(),i=r=>{let{row:o}=r.getOuterTopStartCorner(),s=this.tableProps.countColHeaders(),a=this.tableProps.countRows();return(s>0&&o<0||s===0)&&r.getHeight()===a};if(e===-1)return Array.from(this.selectedRange).some(r=>i(r));let n=this.selectedRange.peekByIndex(e);return n?i(n):!1}isSelectedByAnyHeader(){return this.isSelectedByRowHeader(-1)||this.isSelectedByColumnHeader(-1)||this.isSelectedByCorner()}isSelectedByCorner(){return this.selectedByColumnHeader.has(this.getLayerLevel())&&this.selectedByRowHeader.has(this.getLayerLevel())}inInSelection(e){return this.selectedRange.includes(e)}isCellCornerVisible(){return this.settings.fillHandle&&!this.tableProps.isEditorOpened()&&!this.isMultiple()}isCellVisible(e){let i=this.tableProps.visualToRenderableCoords(e);return i.row!==null&&i.col!==null}isAreaCornerVisible(e){return Number.isInteger(e)&&e!==this.getLayerLevel()?!1:this.settings.fillHandle&&!this.tableProps.isEditorOpened()&&this.isMultiple()}clear(){this.selectedRange.clear(),this.highlight.clear()}deselect(){this.isSelected()&&(this.inProgress=!1,this.clear(),this.runLocalHooks("afterDeselect"))}selectAll(){var e;let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{focusPosition:!1,disableHeadersHighlight:!1},o=this.tableProps.countRows(),s=this.tableProps.countCols(),a=this.tableProps.countRowHeaders(),l=this.tableProps.countColHeaders(),c=n?-l:0,d=i?-a:0;if(c===0&&d===0&&(o===0||s===0))return;let u=(e=this.getSelectedRange().current())===null||e===void 0?void 0:e.highlight,{focusPosition:f,disableHeadersHighlight:m}=r;Fl(MC,this,m),f&&Number.isInteger(f?.row)&&Number.isInteger(f?.col)&&(u=this.tableProps.createCellCoords(mi(f.row,c,o-1),mi(f.col,d,s-1)));let g=this.tableProps.createCellCoords(c,d),_=this.tableProps.createCellCoords(o-1,s-1);this.clear(),this.setRangeStartOnly(g,void 0,u),d<0&&this.selectedByRowHeader.add(this.getLayerLevel()),c<0&&this.selectedByColumnHeader.add(this.getLayerLevel()),this.setRangeEnd(_),this.finish(),Fl(MC,this,!1)}selectCells(e){var i=this;let n=Gc(e);if(n===DC)return!1;if(n===IC)throw new Error(Dt`Unsupported format of the selection ranges was passed. To select cells pass\x20
        the coordinates as an array of arrays ([[rowStart, columnStart/columnPropStart, rowEnd,\x20
        columnEnd/columnPropEnd]]) or as an array of CellRange objects.`);let r=Fu(n,{createCellCoords:function(){return i.tableProps.createCellCoords(...arguments)},createCellRange:function(){return i.tableProps.createCellRange(...arguments)},propToCol:l=>this.tableProps.propToCol(l),keepDirection:!0}),o=this.settings.navigableHeaders,s={countRows:this.tableProps.countRows(),countCols:this.tableProps.countCols(),countRowHeaders:o?this.tableProps.countRowHeaders():0,countColHeaders:o?this.tableProps.countColHeaders():0},a=!e.some(l=>{let c=r(l),d=c.isValid(s);return!(d&&!c.containsHeaders()||d&&c.containsHeaders()&&c.isSingleHeader())});return a&&(this.clear(),this.setExpectedLayers(e.length),M(e,l=>{let{from:c,to:d}=r(l);this.setRangeStartOnly(c.clone(),!1),this.setRangeEnd(d.clone())}),this.finish()),a}selectColumns(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=typeof e=="string"?this.tableProps.propToCol(e):e,o=typeof i=="string"?this.tableProps.propToCol(i):i,s=this.tableProps.countRows(),a=this.tableProps.countCols(),l=this.tableProps.countColHeaders(),c=l===0?0:-l,d=this.tableProps.createCellCoords(c,r),u=this.tableProps.createCellCoords(s-1,o),f=this.tableProps.createCellRange(d,d,u).isValid({countRows:s,countCols:a,countRowHeaders:0,countColHeaders:l});if(f){let m=0,g=0;Number.isInteger(n?.row)&&Number.isInteger(n?.col)?(m=mi(n.row,c,s-1),g=mi(n.col,Math.min(r,o),Math.max(r,o))):(m=mi(n,c,s-1),g=r);let _=this.tableProps.createCellCoords(m,g),b=l===0?0:mi(_.row,c,-1),y=s-1,x=this.tableProps.createCellCoords(b,r),T=this.tableProps.createCellCoords(y,o);this.runLocalHooks("beforeSelectColumns",x,T,_),x.row=b,T.row=y,this.setRangeStartOnly(x,void 0,_),this.selectedByColumnHeader.add(this.getLayerLevel()),this.setRangeEnd(T),this.runLocalHooks("afterSelectColumns",x,T,_),this.finish()}return f}selectRows(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=this.tableProps.countRows(),o=this.tableProps.countCols(),s=this.tableProps.countRowHeaders(),a=s===0?0:-s,l=this.tableProps.createCellCoords(e,a),c=this.tableProps.createCellCoords(i,o-1),d=this.tableProps.createCellRange(l,l,c).isValid({countRows:r,countCols:o,countRowHeaders:s,countColHeaders:0});if(d){let u=0,f=0;Number.isInteger(n?.row)&&Number.isInteger(n?.col)?(u=mi(n.row,Math.min(e,i),Math.max(e,i)),f=mi(n.col,a,o-1)):(u=e,f=mi(n,a,o-1));let m=this.tableProps.createCellCoords(u,f),g=s===0?0:mi(m.col,a,-1),_=o-1,b=this.tableProps.createCellCoords(e,g),y=this.tableProps.createCellCoords(i,_);this.runLocalHooks("beforeSelectRows",b,y,m),b.col=g,y.col=_,this.setRangeStartOnly(b,void 0,m),this.selectedByRowHeader.add(this.getLayerLevel()),this.setRangeEnd(y),this.runLocalHooks("afterSelectRows",b,y,m),this.finish()}return d}refresh(){if(!this.isSelected())return;let e=this.tableProps.countRows(),i=this.tableProps.countCols();if(e===0||i===0){this.deselect();return}let n=this.selectedRange.peekByIndex(this.selectedRange.size()-1),{from:r,to:o,highlight:s}=n;this.clear(),s.assign({row:mi(s.row,-1/0,e-1),col:mi(s.col,-1/0,i-1)}),r.assign({row:mi(r.row,-1/0,e-1),col:mi(r.col,-1/0,i-1)}),o.assign({row:mi(o.row,0,e-1),col:mi(o.col,0,i-1)}),this.selectedRange.ranges.push(n),this.highlight.getFocus().add(s).commit().syncWith(n),this.applyAndCommit(n)}commit(){if(this.highlight.getCustomSelections().forEach(r=>{r.commit()}),!this.isSelected())return;let i=this.highlight.getFocus(),n=this.getLayerLevel();i.commit().syncWith(this.selectedRange.current());for(let r=0;r<this.selectedRange.size();r+=1){this.highlight.useLayerLevel(r);let o=this.highlight.createArea(),s=this.highlight.createLayeredArea(),a=this.highlight.createRowHeader(),l=this.highlight.createColumnHeader(),c=this.highlight.createActiveRowHeader(),d=this.highlight.createActiveColumnHeader(),u=this.highlight.createActiveCornerHeader(),f=this.highlight.createRowHighlight(),m=this.highlight.createColumnHighlight();o.commit(),s.commit(),a.commit(),l.commit(),c.commit(),d.commit(),u.commit(),f.commit(),m.commit()}this.highlight.useLayerLevel(n)}};Ot(iD,Xi);var IF=iD;var mct=w(Q(),1),pct=w(be(),1);var Y7=/^(\r\n|\n\r|\r|\n)/,OAe=/^[^\t\r\n]+/,G7=/^\t/;function DF(t){let e=[[""]];if(t.length===0)return e;let i=0,n=0,r;for(;t.length>0&&r!==t.length;)if(r=t.length,t.match(G7))t=t.replace(G7,""),i+=1,e[n][i]="";else if(t.match(Y7))t=t.replace(Y7,""),i=0,n+=1,e[n]=[""];else{let o="";if(t.startsWith('"')){let s=0,a=!0;for(;a;){let l=t.slice(0,1);l==='"'&&(s+=1),o+=l,t=t.slice(1),(t.length===0||t.match(/^[\t\r\n]/)&&s%2===0)&&(a=!1)}o=o.replace(/^"/,"").replace(/"$/,"").replace(/["]*/g,l=>new Array(Math.floor(l.length/2)).fill('"').join(""))}else{let s=t.match(OAe);o=s?s[0]:"",t=t.slice(o.length)}e[n][i]=o}return e}function Hu(t){let e,i,n,r,o="",s;for(e=0,i=t.length;e<i;e+=1){for(r=t[e].length,n=0;n<r;n+=1)n>0&&(o+="	"),s=t[e][n],typeof s=="string"?s.indexOf(`
`)>-1?o+=`"${s.replace(/"/g,'""')}"`:o+=s:s==null?o+="":o+=s;e!==i-1&&(o+=`
`)}return o}function Cf(t,e,i){return e=PAe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function PAe(t){var e=kAe(t,"string");return typeof e=="symbol"?e:e+""}function kAe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var MF=class t{static get DESTINATION_RENDERER(){return 1}static get DESTINATION_CLIPBOARD_GENERATOR(){return 2}constructor(e,i,n){Cf(this,"hot",void 0),Cf(this,"metaManager",void 0),Cf(this,"tableMeta",void 0),Cf(this,"dataSource",void 0),Cf(this,"duckSchema",void 0),Cf(this,"colToPropCache",void 0),Cf(this,"propToColCache",void 0),this.hot=e,this.metaManager=n,this.tableMeta=n.getTableMeta(),this.dataSource=i,this.duckSchema=this.createDuckSchema(),this.createMap()}createMap(){let e=this.getSchema();if(typeof e>"u")throw new Error("trying to create `columns` definition but you didn't provide `schema` nor `data`");let i=this.tableMeta.columns,n;if(this.colToPropCache=[],this.propToColCache=new Map,i){let r=0,o=0,s=!1;if(typeof i=="function"){let a=og(e);r=a>0?a:this.countFirstRowKeys(),s=!0}else{let a=this.tableMeta.maxCols;r=Math.min(a,i.length)}for(n=0;n<r;n++){let a=s?i(n):i[n];if(it(a)){if(typeof a.data<"u"){let l=s?o:n;this.colToPropCache[l]=a.data,this.propToColCache.set(a.data,l)}o+=1}}}else this.recursiveDuckColumns(e)}countFirstRowKeys(){return BI(this.dataSource)}recursiveDuckColumns(e,i,n){let r=i,o=n,s;return typeof r>"u"&&(r=0,o=""),typeof e=="object"&&!Array.isArray(e)&&nt(e,(a,l)=>{a===null?(s=o+l,this.colToPropCache.push(s),this.propToColCache.set(s,r),r+=1):r=this.recursiveDuckColumns(a,r,`${l}.`)}),r}colToProp(e){if(Number.isInteger(e)===!1)return e;let i=this.hot.toPhysicalColumn(e);return i===null?e:this.colToPropCache&&xe(this.colToPropCache[i])?this.colToPropCache[i]:i}propToCol(e){let i=this.propToColCache.get(e);if(xe(i))return this.hot.toVisualColumn(i);let n=this.hot.toVisualColumn(e);return n===null?e:n}getSchema(){let e=this.tableMeta.dataSchema;return e?typeof e=="function"?e():e:this.duckSchema}createDuckSchema(){return this.dataSource&&this.dataSource[0]?of(this.dataSource[0]):{}}refreshDuckSchema(){this.duckSchema=this.createDuckSchema()}createRow(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,{source:n,mode:r="above"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=this.hot.countSourceRows(),s=o,a=0,l=e;if((typeof l!="number"||l>=o)&&(l=o),l<this.hot.countRows()&&(s=this.hot.toPhysicalRow(l)),this.hot.runHooks("beforeCreateRow",l,i,n)===!1||s===null)return{delta:0};let d=this.tableMeta.maxRows,u=this.getSchema().length,f=[];for(;a<i&&o+a<d;){let g=null;this.hot.dataType==="array"?this.tableMeta.dataSchema?g=Fn(this.getSchema()):(g=[],Se(u-1,()=>g.push(null))):this.hot.dataType==="function"?g=this.tableMeta.dataSchema(l+a):(g={},sf(g,this.getSchema())),f.push(g),a+=1}this.hot.rowIndexMapper.insertIndexes(l,a),r==="below"&&(s=Math.min(s+1,o)),this.spliceData(s,0,f);let m=this.hot.toVisualRow(s);return this.hot.countSourceRows()===f.length&&this.hot.columnIndexMapper.initToLength(this.hot.getInitialColumnCount()),a>0&&(e==null?this.metaManager.createRow(null,a):n!=="auto"&&this.metaManager.createRow(s,i)),this.hot.runHooks("afterCreateRow",m,a,n),this.hot.forceFullRender=!0,{delta:a,startPhysicalIndex:s}}createCol(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,{source:n,mode:r="start"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!this.hot.isColumnModificationAllowed())throw new Error("Cannot create new column. When data source in an object, you can only have as much columns as defined in first data row, data schema or in the 'columns' setting.If you want to be able to add new columns, you have to use array datasource.");let o=this.dataSource,s=this.tableMeta.maxCols,a=this.hot.countSourceCols(),l=e;if((typeof l!="number"||l>=a)&&(l=a),this.hot.runHooks("beforeCreateCol",l,i,n)===!1)return{delta:0};let d=a;l<this.hot.countCols()&&(d=this.hot.toPhysicalColumn(l));let u=this.hot.countSourceRows(),f=this.hot.countCols(),m=0,g=d;r==="end"&&(g=Math.min(g+1,a));let _=g;for(;m<i&&f<s;){if(typeof l!="number"||l>=f)if(u>0)for(let y=0;y<u;y+=1)typeof o[y]>"u"&&(o[y]=[]),o[y].push(null);else o.push([null]);else for(let y=0;y<u;y++)o[y].splice(g,0,null);m+=1,g+=1,f+=1}this.hot.columnIndexMapper.insertIndexes(l,m),m>0&&(e==null?this.metaManager.createColumn(null,m):n!=="auto"&&this.metaManager.createColumn(_,i));let b=this.hot.toVisualColumn(_);return this.hot.runHooks("afterCreateCol",b,m,n),this.hot.forceFullRender=!0,this.refreshDuckSchema(),{delta:m,startPhysicalIndex:_}}removeRow(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0,r=Number.isInteger(e)?e:-i,o=this.visualRowsToPhysical(r,i),s=this.hot.countSourceRows();if(r=(s+r)%s,this.hot.runHooks("beforeRemoveRow",r,o.length,o,n)===!1)return!1;let l=o.length;if(this.filterData(r,l,o),r<this.hot.countRows()){this.hot.rowIndexMapper.removeIndexes(o);let d=xe(this.tableMeta.columns)||xe(this.tableMeta.dataSchema);this.hot.rowIndexMapper.getNotTrimmedIndexesLength()===0&&d===!1&&this.hot.columnIndexMapper.setIndexesSequence([])}return o.slice(0).sort((d,u)=>u-d).forEach(d=>{this.metaManager.removeRow(d,1)}),this.hot.runHooks("afterRemoveRow",r,l,o,n),this.hot.forceFullRender=!0,!0}removeCol(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0;if(this.hot.dataType==="object"||this.tableMeta.columns)throw new Error("cannot remove column with object data source or columns option specified");let r=typeof e!="number"?-i:e;r=(this.hot.countCols()+r)%this.hot.countCols();let o=this.visualColumnsToPhysical(r,i),s=o.slice(0).sort((u,f)=>f-u);if(this.hot.runHooks("beforeRemoveCol",r,i,o,n)===!1)return!1;let l=!0,c=s.length,d=this.dataSource;for(let u=0;u<c;u++)l&&o[0]!==o[u]-u&&(l=!1);if(l)for(let u=0,f=this.hot.countSourceRows();u<f;u++)d[u].splice(o[0],i),u===0&&this.metaManager.removeColumn(o[0],i);else for(let u=0,f=this.hot.countSourceRows();u<f;u++)for(let m=0;m<c;m++)d[u].splice(s[m],1),u===0&&this.metaManager.removeColumn(s[m],1);return r<this.hot.countCols()&&(this.hot.columnIndexMapper.removeIndexes(o),this.hot.columnIndexMapper.getNotTrimmedIndexesLength()===0&&this.hot.rowIndexMapper.setIndexesSequence([])),this.hot.runHooks("afterRemoveCol",r,i,o,n),this.hot.forceFullRender=!0,this.refreshDuckSchema(),!0}spliceCol(e,i,n){let r=this.hot.getDataAtCol(e),o=r.slice(i,i+n),s=r.slice(i+n);for(var a=arguments.length,l=new Array(a>3?a-3:0),c=3;c<a;c++)l[c-3]=arguments[c];FN(l,s);let d=0;for(;d<n;)l.push(null),d+=1;return sX(l),this.hot.populateFromArray(i,e,l,null,null,"spliceCol"),o}spliceRow(e,i,n){let r=this.hot.getSourceDataAtRow(e),o=r.slice(i,i+n),s=r.slice(i+n);for(var a=arguments.length,l=new Array(a>3?a-3:0),c=3;c<a;c++)l[c-3]=arguments[c];FN(l,s);let d=0;for(;d<n;)l.push(null),d+=1;return this.hot.populateFromArray(e,i,[l],null,null,"spliceRow"),o}spliceData(e,i,n){if(this.hot.runHooks("beforeDataSplice",e,i,n)!==!1){let o=[...this.dataSource.slice(0,e),...n,...this.dataSource.slice(e)];this.dataSource.length=0,o.forEach(s=>this.dataSource.push(s))}}filterData(e,i,n){let r=this.hot.runHooks("filterData",e,i,n);Array.isArray(r)===!1&&(r=this.dataSource.filter((o,s)=>n.indexOf(s)===-1)),this.dataSource.length=0,Array.prototype.push.apply(this.dataSource,r)}get(e,i){let n=this.hot.toPhysicalRow(e),r=this.dataSource[n],o=this.hot.runHooks("modifyRowData",n);r=isNaN(o)?o:r;let{dataDotNotation:s}=this.hot.getSettings(),a=null;if(r&&r.hasOwnProperty&&Ci(r,i))a=r[i];else if(s&&typeof i=="string"&&i.indexOf(".")>-1){let l=r;if(!l)return null;let c=i.split(".");for(let d=0,u=c.length;d<u;d++)if(l=l[c[d]],typeof l>"u")return null;a=l}else typeof i=="function"&&(a=i(this.dataSource.slice(n,n+1)[0]));if(this.hot.hasHook("modifyData")){let l=to(a);this.hot.runHooks("modifyData",n,this.propToCol(i),l,"get"),l.isTouched()&&(a=l.value)}return a}getCopyable(e,i){return this.hot.getCellMeta(e,this.propToCol(i)).copyable?this.get(e,i):""}set(e,i,n){let r=this.hot.toPhysicalRow(e),o=n,s=this.dataSource[r],a=this.hot.runHooks("modifyRowData",r);if(s=isNaN(a)?a:s,this.hot.hasHook("modifyData")){let c=to(o);this.hot.runHooks("modifyData",r,this.propToCol(i),c,"set"),c.isTouched()&&(o=c.value)}let{dataDotNotation:l}=this.hot.getSettings();if(s&&s.hasOwnProperty&&Ci(s,i))s[i]=o;else if(l&&typeof i=="string"&&i.indexOf(".")>-1){let c=s,d=0,u,f=i.split(".");for(d=0,u=f.length-1;d<u;d++)typeof c[f[d]]>"u"&&(c[f[d]]={}),c=c[f[d]];c[f[d]]=o}else typeof i=="function"?i(this.dataSource.slice(r,r+1)[0],o):s[i]=o}visualRowsToPhysical(e,i){let n=this.hot.countSourceRows(),r=[],o=(n+e)%n,s=i,a;for(;o<n&&s;)a=this.hot.toPhysicalRow(o),r.push(a),s-=1,o+=1;return r}visualColumnsToPhysical(e,i){let n=this.hot.countCols(),r=[],o=(n+e)%n,s=i;for(;o<n&&s;){let a=this.hot.toPhysicalColumn(o);r.push(a),s-=1,o+=1}return r}clear(){for(let e=0;e<this.hot.countSourceRows();e++)for(let i=0;i<this.hot.countCols();i++)this.set(e,this.colToProp(i),"")}getLength(){let e=this.tableMeta.maxRows,i;e<0||e===0?i=0:i=e||1/0;let n=this.hot.rowIndexMapper.getNotTrimmedIndexesLength();return Math.min(n,i)}getAll(){let e={row:0,col:0},i={row:Math.max(this.hot.countRows()-1,0),col:Math.max(this.hot.countCols()-1,0)};return e.row-i.row===0&&!this.hot.countSourceRows()?[]:this.getRange(e,i,t.DESTINATION_RENDERER)}countCachedColumns(){return this.colToPropCache.length}getRange(e,i,n){let r=[],o,s,a,l=this.tableMeta.maxRows,c=this.tableMeta.maxCols;if(l===0||c===0)return[];let d=n===t.DESTINATION_CLIPBOARD_GENERATOR?this.getCopyable:this.get,u=Math.min(Math.max(l-1,0),Math.max(e.row,i.row)),f=Math.min(Math.max(c-1,0),Math.max(e.col,i.col));for(o=Math.min(e.row,i.row);o<=u;o++){a=[];let m=o>=0?this.hot.toPhysicalRow(o):o;for(s=Math.min(e.col,i.col);s<=f&&m!==null;s++)a.push(d.call(this,o,this.colToProp(s)));m!==null&&r.push(a)}return r}getText(e,i){return Hu(this.getRange(e,i,t.DESTINATION_RENDERER))}getCopyableText(e,i){return Hu(this.getRange(e,i,t.DESTINATION_CLIPBOARD_GENERATOR))}destroy(){this.hot=null,this.metaManager=null,this.dataSource=null,this.duckSchema=null,this.colToPropCache.length=0,this.propToColCache.clear(),this.propToColCache=void 0}},$7=MF;var Rdt=w(Q(),1);var Yct=w(Q(),1);var Act=w(Q(),1),Oct=w(Fi(),1),Pct=w(Hi(),1),kct=w(Vi(),1),Nct=w(Bi(),1),Lct=w(Wi(),1),Fct=w(ji(),1),Hct=w(Ui(),1);var Sct=w(Q(),1);var{register:NAe,getItem:LAe,hasItem:AF,getNames:Ict,getValues:Dct}=Kn("cellTypes");function q7(t){if(!AF(t))throw Error(`You declared cell type "${t}" as a string that is not mapped to a known object.
                 Cell type must be an object or a string mapped to an object registered by
                 "Handsontable.cellTypes.registerCellType" method`);return LAe(t)}function gs(t,e){typeof t!="string"&&(e=t,t=e.CELL_TYPE);let{editor:i,renderer:n,validator:r}=e;i&&wo(t,i),n&&Uo(t,n),r&&Eu(t,r),NAe(t,e)}function FAe(t,e){var i;return t==="CELL_TYPE"?!1:((i=e._automaticallyAssignedMetaProps)===null||i===void 0?void 0:i.has(t))||!Ci(e,t)}function Vu(t,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t,n=typeof e.type=="string"?q7(e.type):e.type;if(t._automaticallyAssignedMetaProps&&nt(e,(o,s)=>void t._automaticallyAssignedMetaProps.delete(s)),!it(n))return;i===t&&!t._automaticallyAssignedMetaProps&&(t._automaticallyAssignedMetaProps=new Set);let r={};nt(n,(o,s)=>{if(FAe(s,i)){var a;r[s]=o,(a=t._automaticallyAssignedMetaProps)===null||a===void 0||a.add(s)}}),hi(t,r)}function K7(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];function i(){}Ba(i,t);for(let n=0;n<e.length;n++)i.prototype[e[n]]=void 0;return i}function kg(t){return Number.isInteger(t)&&t>=0}function Ng(t,e){if(!t())throw new Error(`Assertion failed: ${e}`)}function OC(t){return t==null}var PC=()=>({_automaticallyAssignedMetaProps:void 0,activeHeaderClassName:"ht__active_highlight",allowEmpty:!0,allowHtml:!1,allowInsertColumn:!0,allowInsertRow:!0,allowInvalid:!0,allowRemoveColumn:!0,allowRemoveRow:!0,ariaTags:!0,autoColumnSize:void 0,autoRowSize:void 0,autoWrapCol:!1,autoWrapRow:!1,bindRowsWithHeaders:void 0,cell:[],cells:void 0,checkedTemplate:void 0,className:void 0,colHeaders:null,collapsibleColumns:void 0,columnHeaderHeight:void 0,columns:void 0,columnSorting:void 0,columnSummary:void 0,colWidths:void 0,commentedCellClassName:"htCommentCell",comments:!1,contextMenu:void 0,copyable:!0,copyPaste:!0,correctFormat:!1,currentColClassName:void 0,currentHeaderClassName:"ht__highlight",currentRowClassName:void 0,customBorders:!1,data:void 0,dataDotNotation:!0,dataSchema:void 0,dateFormat:"DD/MM/YYYY",timeFormat:"h:mm:ss a",datePickerConfig:void 0,defaultDate:void 0,disableVisualSelection:!1,dragToScroll:!0,dropdownMenu:void 0,editor:void 0,enterBeginsEditing:!0,enterMoves:{col:0,row:1},fillHandle:{autoInsertRow:!1},filter:!0,filteringCaseSensitive:!1,filters:void 0,fixedColumnsLeft:0,fixedColumnsStart:0,fixedRowsBottom:0,fixedRowsTop:0,formulas:void 0,fragmentSelection:!1,height:void 0,hiddenColumns:void 0,hiddenRows:void 0,invalidCellClassName:"htInvalid",imeFastEdit:!1,isEmptyCol(t){let e,i,n;for(e=0,i=this.countRows();e<i;e++)if(n=this.getDataAtCell(e,t),Ri(n)===!1)return!1;return!0},isEmptyRow(t){let e,i,n,r;for(e=0,i=this.countCols();e<i;e++)if(n=this.getDataAtCell(t,e),Ri(n)===!1)return typeof n=="object"?(r=this.getCellMeta(t,e),rg(this.getSchema()[r.prop],n)):!1;return!0},label:void 0,language:"en-US",layoutDirection:"inherit",licenseKey:void 0,locale:"en-US",manualColumnFreeze:void 0,manualColumnMove:void 0,manualColumnResize:void 0,manualRowMove:void 0,manualRowResize:void 0,maxCols:1/0,maxRows:1/0,mergeCells:!1,minCols:0,minRows:0,minSpareCols:0,minSpareRows:0,multiColumnSorting:void 0,navigableHeaders:!1,tabNavigation:!0,nestedHeaders:void 0,nestedRows:void 0,noWordWrapClassName:"htNoWrap",numericFormat:void 0,observeDOMVisibility:!0,outsideClickDeselects:!0,persistentState:void 0,placeholder:void 0,placeholderCellClassName:"htPlaceholder",preventOverflow:!1,preventWheel:!1,readOnly:!1,readOnlyCellClassName:"htDimmed",renderAllRows:!1,renderAllColumns:!1,renderer:void 0,rowHeaders:void 0,rowHeaderWidth:void 0,rowHeights:void 0,search:!1,selectionMode:"multiple",selectOptions:void 0,skipColumnOnPaste:!1,skipRowOnPaste:!1,sortByRelevance:!0,source:void 0,startCols:5,startRows:5,stretchH:"none",strict:void 0,tableClassName:void 0,tabMoves:{row:0,col:1},title:void 0,trimDropdown:!0,trimRows:void 0,trimWhitespace:!0,type:"text",uncheckedTemplate:void 0,undo:void 0,validator:void 0,viewportColumnRenderingOffset:"auto",viewportRowRenderingOffset:"auto",visibleRows:10,width:void 0,wordWrap:!0});function X7(t,e,i){return e=HAe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function HAe(t){var e=VAe(t,"string");return typeof e=="symbol"?e:e+""}function VAe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BAe(){return class{}}var nD=class{constructor(e){X7(this,"metaCtor",BAe()),X7(this,"meta",void 0),this.meta=this.metaCtor.prototype,hi(this.meta,PC()),this.meta.instance=e}getMetaConstructor(){return this.metaCtor}getMeta(){return this.meta}updateMeta(e){var i;hi(this.meta,e),Vu(this.meta,st(ee({},e),{type:(i=e.type)!==null&&i!==void 0?i:this.meta.type}),e)}};var Zct=w(Q(),1);function WAe(t,e,i){return e=jAe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function jAe(t){var e=UAe(t,"string");return typeof e=="symbol"?e:e+""}function UAe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rD=class{constructor(e){WAe(this,"meta",void 0);let i=e.getMetaConstructor();this.meta=new i}getMeta(){return this.meta}updateMeta(e){hi(this.meta,e),Vu(this.meta,e,e)}};var mdt=w(Q(),1);var idt=w(Q(),1),ndt=w(be(),1),rdt=w(Fi(),1),odt=w(Hi(),1),sdt=w(Vi(),1),adt=w(Bi(),1),ldt=w(Wi(),1),cdt=w(ji(),1),ddt=w(Ui(),1);function oD(t,e,i){return e=zAe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function zAe(t){var e=YAe(t,"string");return typeof e=="symbol"?e:e+""}function YAe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bu=class{constructor(e){oD(this,"valueFactory",void 0),oD(this,"data",[]),oD(this,"index",[]),oD(this,"holes",new Set),this.valueFactory=e}obtain(e){Ng(()=>kg(e),"Expecting an unsigned number.");let i=this._getStorageIndexByKey(e),n;if(i>=0)n=this.data[i],n===void 0&&(n=this.valueFactory(e),this.data[i]=n);else if(n=this.valueFactory(e),this.holes.size>0){let r=this.holes.values().next().value;this.holes.delete(r),this.data[r]=n,this.index[e]=r}else this.data.push(n),this.index[e]=this.data.length-1;return n}insert(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;Ng(()=>kg(e)||OC(e),"Expecting an unsigned number or null/undefined argument.");let n=[],r=this.data.length;for(let s=0;s<i;s++)n.push(r+s),this.data.push(void 0);let o=OC(e)?this.index.length:e;this.index=[...this.index.slice(0,o),...n,...this.index.slice(o)]}remove(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;Ng(()=>kg(e)||OC(e),"Expecting an unsigned number or null/undefined argument.");let n=this.index.splice(OC(e)?this.index.length-i:e,i);for(let r=0;r<n.length;r++){let o=n[r];typeof o=="number"&&this.holes.add(o)}}size(){return this.data.length-this.holes.size}values(){return or(this.data,(e,i)=>!this.holes.has(i))[Symbol.iterator]()}entries(){let e=[];for(let n=0;n<this.data.length;n++){let r=this._getKeyByStorageIndex(n);r!==-1&&e.push([r,this.data[n]])}let i=0;return{next:()=>{if(i<e.length){let n=e[i];return i+=1,{value:n,done:!1}}return{done:!0}}}}clear(){this.data=[],this.index=[],this.holes.clear()}_getStorageIndexByKey(e){return this.index.length>e?this.index[e]:-1}_getKeyByStorageIndex(e){return this.index.indexOf(e)}[Symbol.iterator](){return this.entries()}};function Q7(t,e,i){return e=GAe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function GAe(t){var e=$Ae(t,"string");return typeof e=="symbol"?e:e+""}function $Ae(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qAe=["data","width"],sD=class{constructor(e){Q7(this,"globalMeta",void 0),Q7(this,"metas",new Bu(()=>this._createMeta())),this.globalMeta=e,this.metas=new Bu(()=>this._createMeta())}updateMeta(e,i){let n=this.getMeta(e);hi(n,i),Vu(n,i)}createColumn(e,i){this.metas.insert(e,i)}removeColumn(e,i){this.metas.remove(e,i)}getMeta(e){return this.metas.obtain(e)}getMetaConstructor(e){return this.metas.obtain(e).constructor}clearCache(){this.metas.clear()}_createMeta(){return K7(this.globalMeta.getMetaConstructor(),qAe).prototype}};var _dt=w(Q(),1),ydt=w(be(),1);function Z7(t,e,i){return e=KAe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function KAe(t){var e=XAe(t,"string");return typeof e=="symbol"?e:e+""}function XAe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aD=class{constructor(e){Z7(this,"columnMeta",void 0),Z7(this,"metas",new Bu(()=>this._createRow())),this.columnMeta=e}updateMeta(e,i,n){let r=this.getMeta(e,i);hi(r,n),Vu(r,n)}createRow(e,i){this.metas.insert(e,i)}createColumn(e,i){for(let n=0;n<this.metas.size();n++)this.metas.obtain(n).insert(e,i)}removeRow(e,i){this.metas.remove(e,i)}removeColumn(e,i){for(let n=0;n<this.metas.size();n++)this.metas.obtain(n).remove(e,i)}getMeta(e,i,n){let r=this.metas.obtain(e).obtain(i);return n===void 0?r:r[n]}setMeta(e,i,n,r){var o;let s=this.metas.obtain(e).obtain(i);(o=s._automaticallyAssignedMetaProps)===null||o===void 0||o.delete(n),s[n]=r}removeMeta(e,i,n){let r=this.metas.obtain(e).obtain(i);delete r[n]}getMetas(){let e=[],i=Array.from(this.metas.values());for(let n=0;n<i.length;n++)xe(i[n])&&e.push(...i[n].values());return e}getMetasAtRow(e){Ng(()=>kg(e),"Expecting an unsigned number.");let i=new Map(this.metas);return i.has(e)?Array.from(i.get(e).values()):[]}clearCache(){this.metas.clear()}_createRow(){return new Bu(e=>this._createMeta(e))}_createMeta(e){let i=this.columnMeta.getMetaConstructor(e);return new i}};var Lg=class{constructor(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];this.hot=e,this.globalMeta=new nD(e),this.tableMeta=new rD(this.globalMeta),this.columnMeta=new sD(this.globalMeta),this.cellMeta=new aD(this.columnMeta),n.forEach(r=>new r(this)),this.globalMeta.updateMeta(i)}getGlobalMeta(){return this.globalMeta.getMeta()}updateGlobalMeta(e){this.globalMeta.updateMeta(e)}getTableMeta(){return this.tableMeta.getMeta()}updateTableMeta(e){this.tableMeta.updateMeta(e)}getColumnMeta(e){return this.columnMeta.getMeta(e)}updateColumnMeta(e,i){this.columnMeta.updateMeta(e,i)}getCellMeta(e,i,n){let{visualRow:r,visualColumn:o}=n,s=this.cellMeta.getMeta(e,i);return s.visualRow=r,s.visualCol=o,s.row=e,s.col=i,this.runLocalHooks("afterGetCellMeta",s),s}getCellMetaKeyValue(e,i,n){if(typeof n!="string")throw new Error("The passed cell meta object key is not a string");return this.cellMeta.getMeta(e,i,n)}setCellMeta(e,i,n,r){this.cellMeta.setMeta(e,i,n,r)}updateCellMeta(e,i,n){this.cellMeta.updateMeta(e,i,n)}removeCellMeta(e,i,n){this.cellMeta.removeMeta(e,i,n)}getCellsMeta(){return this.cellMeta.getMetas()}getCellsMetaAtRow(e){return this.cellMeta.getMetasAtRow(e)}createRow(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cellMeta.createRow(e,i)}removeRow(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cellMeta.removeRow(e,i)}createColumn(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cellMeta.createColumn(e,i),this.columnMeta.createColumn(e,i)}removeColumn(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cellMeta.removeColumn(e,i),this.columnMeta.removeColumn(e,i)}clearCellsCache(){this.cellMeta.clearCache()}clearCache(){this.cellMeta.clearCache(),this.columnMeta.clearCache()}};Ot(Lg,Xi);var kdt=w(Q(),1),Ndt=w(be(),1);function lD(t,e,i,n){let{hotInstance:r,dataMap:o,dataSource:s,internalSource:a,source:l,metaManager:c,firstRun:d}=n,u=Ur(a),f=r.getSettings();Array.isArray(f.dataSchema)?r.dataType="array":ti(f.dataSchema)?r.dataType="function":r.dataType="object",o&&o.destroy(),t=r.runHooks(`before${u}`,t,d,l);let m=new $7(r,t,c);if(e(m),typeof t=="object"&&t!==null)t.push&&t.splice||(t=[t]);else if(t===null){let g=m.getSchema();t=[];let _,b=0,y=0;for(b=0,y=f.startRows;b<y;b++)if((r.dataType==="object"||r.dataType==="function")&&f.dataSchema)_=Fn(g),t.push(_);else if(r.dataType==="array")_=Fn(g[0]),t.push(_);else{_=[];for(let x=0,T=f.startCols;x<T;x++)_.push(null);t.push(_)}}else throw new Error(`${a} only accepts array of objects or array of arrays (${typeof t} given)`);Array.isArray(t[0])&&(r.dataType="array"),f.data=t,m.dataSource=t,s.data=t,s.dataType=r.dataType,s.colToProp=m.colToProp.bind(m),s.propToCol=m.propToCol.bind(m),s.countCachedColumns=m.countCachedColumns.bind(m),i(m),r.runHooks(`after${u}`,t,d,l),d||(r.runHooks("afterChange",null,a),r.render()),r.getSettings().ariaTags&&Le(r.rootElement,[wT(-1),Qp(r.countCols()+(r.view?r.countRowHeaders():0))])}var Udt=w(Q(),1),zdt=w(Fi(),1),Ydt=w(Hi(),1),Gdt=w(Vi(),1),$dt=w(Bi(),1),qdt=w(Wi(),1),Kdt=w(ji(),1),Xdt=w(Ui(),1);function J7(t,e,i){return e=QAe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function QAe(t){var e=ZAe(t,"string");return typeof e=="symbol"?e:e+""}function ZAe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kC=class{constructor(e){J7(this,"metaManager",void 0),J7(this,"metaSyncMemo",new Map),this.metaManager=e,e.addLocalHook("afterGetCellMeta",i=>this.extendCellMeta(i)),Ee.getSingleton().add("beforeRender",i=>{i&&this.metaSyncMemo.clear()},this.metaManager.hot)}extendCellMeta(e){var i;let{row:n,col:r}=e;if((i=this.metaSyncMemo.get(n))!==null&&i!==void 0&&i.has(r))return;let{visualRow:o,visualCol:s}=e,a=this.metaManager.hot,l=a.colToProp(s);e.prop=l,a.runHooks("beforeGetCellMeta",o,s,e);let c=Ci(e,"type")?e.type:null,d=ti(e.cells)?e.cells(n,r,l):null;if(c)if(d){var u;d.type=(u=d.type)!==null&&u!==void 0?u:c}else d={type:c};d&&this.metaManager.updateCellMeta(n,r,d),a.runHooks("afterGetCellMeta",o,s,e),this.metaSyncMemo.has(n)||this.metaSyncMemo.set(n,new Set),this.metaSyncMemo.get(n).add(r)}};var tut=w(Q(),1),iut=w(be(),1),nut=w(Fi(),1),rut=w(Hi(),1),out=w(Vi(),1),sut=w(Bi(),1),aut=w(Wi(),1),lut=w(ji(),1),cut=w(Ui(),1);function JAe(t,e,i){eOe(t,e),e.set(t,i)}function eOe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function OF(t,e,i){return e=tOe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function tOe(t){var e=iOe(t,"string");return typeof e=="symbol"?e:e+""}function iOe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nOe(t,e){return t.get(rOe(t,e))}function rOe(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var eQ=new WeakMap,NC=class{constructor(e){OF(this,"metaManager",void 0),OF(this,"usageTracker",new Set),OF(this,"propDescriptors",new Map([["ariaTags",{initOnly:!0}],["fixedColumnsLeft",{target:"fixedColumnsStart",onChange(i){if(this.metaManager.hot.isRtl()&&i==="fixedColumnsLeft")throw new Error("The `fixedColumnsLeft` is not supported for RTL. Please use option `fixedColumnsStart`.");if(this.usageTracker.has("fixedColumnsLeft")&&this.usageTracker.has("fixedColumnsStart"))throw new Error("The `fixedColumnsLeft` and `fixedColumnsStart` should not be used together. Please use only the option `fixedColumnsStart`.")}}],["layoutDirection",{initOnly:!0}],["renderAllColumns",{initOnly:!0}],["renderAllRows",{initOnly:!0}]])),JAe(this,eQ,(i,n,r)=>{if(!r)throw new Error(`The \`${i}\` option can not be updated after the Handsontable is initialized.`)}),this.metaManager=e,this.extendMetaProps()}extendMetaProps(){this.propDescriptors.forEach((e,i)=>{let{initOnly:n,target:r,onChange:o}=e,s=typeof r=="string",a=s?r:i,l=`_${a}`;this.metaManager.globalMeta.meta[l]=this.metaManager.globalMeta.meta[a],o?(this.installPropWatcher(i,l,o),s&&this.installPropWatcher(r,l,o)):n&&(this.installPropWatcher(i,l,nOe(eQ,this)),this.metaManager.globalMeta.meta._initOnlySettings||(this.metaManager.globalMeta.meta._initOnlySettings=[]),this.metaManager.globalMeta.meta._initOnlySettings.push(i))})}installPropWatcher(e,i,n){let r=this;Object.defineProperty(this.metaManager.globalMeta.meta,e,{get(){return this[i]},set(o){let s=!r.usageTracker.has(e);r.usageTracker.add(e),n.call(r,e,o,s),this[i]=o},enumerable:!0,configurable:!0})}};var cD="gridDefault",so="editorManager.handlingEditor";var tQ={name:"editorCloseAndSave",callback(t){t._getEditorManager().closeEditorAndSaveChanges()}};var Sut=w(Q(),1);var _ut=w(be(),1);var oOe="hooksRefRegisterer",iQ={_hooksStorage:Object.create(null),addHook(t,e){return this._hooksStorage[t]||(this._hooksStorage[t]=[]),this.hot.addHook(t,e),this._hooksStorage[t].push(e),this},removeHooksByKey(t){M(this._hooksStorage[t]||[],e=>{this.hot.removeHook(t,e)})},clearHooks(){nt(this._hooksStorage,(t,e)=>this.removeHooksByKey(e)),this._hooksStorage={}}};Er(iQ,"MIXIN_NAME",oOe,{writable:!1,enumerable:!1});var nQ=iQ;function qa(t,e,i){return e=sOe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function sOe(t){var e=aOe(t,"string");return typeof e=="symbol"?e:e+""}function aOe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var PF="base",on=Object.freeze({VIRGIN:"STATE_VIRGIN",EDITING:"STATE_EDITING",WAITING:"STATE_WAITING",FINISHED:"STATE_FINISHED"}),Ko=class{static get EDITOR_TYPE(){return PF}constructor(e){qa(this,"hot",void 0),qa(this,"state",on.VIRGIN),qa(this,"_opened",!1),qa(this,"_fullEditMode",!1),qa(this,"_closeCallback",null),qa(this,"TD",null),qa(this,"row",null),qa(this,"col",null),qa(this,"prop",null),qa(this,"originalValue",null),qa(this,"cellProperties",null),this.hot=e,this.init()}_fireCallbacks(e){this._closeCallback&&(this._closeCallback(e),this._closeCallback=null)}init(){}getValue(){throw Error("Editor getValue() method unimplemented")}setValue(){throw Error("Editor setValue() method unimplemented")}open(){throw Error("Editor open() method unimplemented")}close(){throw Error("Editor close() method unimplemented")}prepare(e,i,n,r,o,s){this.TD=r,this.row=e,this.col=i,this.prop=n,this.originalValue=o,this.cellProperties=s,this.state=this.isOpened()?this.state:on.VIRGIN}extend(){return class extends this.constructor{}}saveValue(e,i){let n,r,o,s;if(i){let l=this.hot.getSelectedLast();n=Math.max(Math.min(l[0],l[2]),0),r=Math.max(Math.min(l[1],l[3]),0),o=Math.max(l[0],l[2]),s=Math.max(l[1],l[3])}else[n,r,o,s]=[this.row,this.col,null,null];let a=this.hot.runHooks("modifyGetCellCoords",n,r);Array.isArray(a)&&([n,r]=a),this.hot.populateFromArray(n,r,e,o,s,"edit")}beginEditing(e,i){if(this.state!==on.VIRGIN)return;let n=this.hot,r=n.rowIndexMapper.getRenderableFromVisualIndex(this.row),o=n.columnIndexMapper.getRenderableFromVisualIndex(this.col);if(n.view.scrollViewport(n._createCellCoords(r,o)),this.state=on.EDITING,this.isInFullEditMode()){let s=typeof e=="string"?e:Ei(this.originalValue);this.setValue(s)}this.open(i),this._opened=!0,this.focus(),n.view.render(),n.runHooks("afterBeginEditing",this.row,this.col)}finishEditing(e,i,n){let r;if(n){let o=this._closeCallback;this._closeCallback=s=>{o&&o(s),n(s),this.hot.view.render()}}if(!this.isWaiting()){if(this.state===on.VIRGIN){this.hot._registerTimeout(()=>{this._fireCallbacks(!0)});return}if(this.state===on.EDITING){if(e){this.cancelChanges(),this.hot.view.render();return}let o=this.getValue();this.cellProperties.trimWhitespace?r=[[typeof o=="string"?String.prototype.trim.call(o||""):o]]:r=[[o]],this.state=on.WAITING,this.saveValue(r,i),this.hot.getCellValidator(this.cellProperties)?this.hot.addHookOnce("postAfterValidate",s=>{this.state=on.FINISHED,this.discardEditor(s)}):(this.state=on.FINISHED,this.discardEditor(!0))}}}cancelChanges(){this.state=on.FINISHED,this.discardEditor()}discardEditor(e){this.state===on.FINISHED&&(e===!1&&this.cellProperties.allowInvalid!==!0?(this.hot.selectCell(this.row,this.col),this.focus(),this.state=on.EDITING,this._fireCallbacks(!1)):(this.close(),this._opened=!1,this._fullEditMode=!1,this.state=on.VIRGIN,this._fireCallbacks(!0),this.hot.getShortcutManager().setActiveContextName("grid")))}enableFullEditMode(){this._fullEditMode=!0}isInFullEditMode(){return this._fullEditMode}isOpened(){return this._opened}isWaiting(){return this.state===on.WAITING}getEditedCellRect(){var e;let i=this.getEditedCell();if(!i)return;let{wtOverlays:n,wtViewport:r}=this.hot.view._wt,o=this.hot.rootWindow,s=rn(i),a=$t(i),l=rn(this.hot.rootElement),c=$t(this.hot.rootElement),d=n.topOverlay.holder,u=n.inlineStartOverlay.holder,f=d!==o?d.scrollTop:0,m=u!==o?u.scrollLeft:0,g=o.innerWidth-l.left-c,{wtTable:_}=(e=n.getParentOverlay(i))!==null&&e!==void 0?e:this.hot.view._wt,b=_.name,y=["master","inline_start"].includes(b)?f:0,x=["master","top","bottom"].includes(b)?m:0,T=s.top===l.top?0:1,O=s.top-l.top-T-y,P=0;this.hot.isRtl()?P=o.innerWidth-s.left-a-g-1+x:P=s.left-l.left-1-x,["top","top_inline_start_corner"].includes(b)&&(O+=n.topOverlay.getOverlayOffset()),["inline_start","top_inline_start_corner"].includes(b)&&(P+=Math.abs(n.inlineStartOverlay.getOverlayOffset()));let V=this.hot.hasColHeaders(),F=this.hot.rowIndexMapper.getRenderableFromVisualIndex(this.row),k=this.hot.columnIndexMapper.getRenderableFromVisualIndex(this.col),ae=this.hot.rowIndexMapper.getRenderableIndexesLength()-this.hot.view._wt.getSetting("fixedRowsBottom");(V&&F<=0||F===ae)&&(O+=1),k<=0&&(P+=1);let re=r.rowsRenderCalculator.startPosition,ve=r.columnsRenderCalculator.startPosition,Pe=Math.abs(n.inlineStartOverlay.getScrollPosition()),Ne=n.topOverlay.getScrollPosition(),Oe=zi(this.hot.rootDocument),je=i.offsetTop;if(["inline_start","master"].includes(b)&&(je+=re-Ne),["bottom","bottom_inline_start_corner"].includes(b)){let{wtViewport:_e,wtTable:Ve}=n.bottomOverlay.clone;je+=_e.getWorkspaceHeight()-Ve.getHeight()-Oe}let Ue=i.offsetLeft;this.hot.isRtl()?(Ue>=0?Ue=_.getWidth()-i.offsetLeft:Ue=Math.abs(Ue),Ue+=ve-Pe-a):["top","master","bottom"].includes(b)&&(Ue+=ve-Pe);let he=Xs(this.TD,this.hot.rootWindow),de=this.hot.isRtl()?"borderRightWidth":"borderLeftWidth",oi=parseInt(he[de],10)>0?0:1,S=parseInt(he.borderTopWidth,10)>0?0:1,E=$t(i)+oi,R=si(i)+S,G=YX(d)?Oe:0,$=GX(u)?Oe:0,X=this.hot.view.maximumVisibleElementWidth(Ue)-G+oi,ge=Math.max(this.hot.view.maximumVisibleElementHeight(je)-$+S,23);return{top:O,start:P,height:R,maxHeight:ge,width:E,maxWidth:X}}getEditedCellsLayerClass(){switch(this.checkEditorSection()){case"inline-start":return"ht_clone_left ht_clone_inline_start";case"bottom":return"ht_clone_bottom";case"bottom-inline-start-corner":return"ht_clone_bottom_left_corner ht_clone_bottom_inline_start_corner";case"top":return"ht_clone_top";case"top-inline-start-corner":return"ht_clone_top_left_corner ht_clone_top_inline_start_corner";default:return"ht_clone_master"}}getEditedCell(){return this.hot.getCell(this.row,this.col,!0)}checkEditorSection(){let e=this.hot.countRows(),i="";return this.row<this.hot.getSettings().fixedRowsTop?this.col<this.hot.getSettings().fixedColumnsStart?i="top-inline-start-corner":i="top":this.hot.getSettings().fixedRowsBottom&&this.row>=e-this.hot.getSettings().fixedRowsBottom?this.col<this.hot.getSettings().fixedColumnsStart?i="bottom-inline-start-corner":i="bottom":this.col<this.hot.getSettings().fixedColumnsStart&&(i="inline-start"),i}};Ot(Ko,nQ);var rQ={name:"editorCloseAndSaveByArrowKeys",callback(t,e,i){let n=t._getEditorManager(),r=n.getActiveEditor();r.isInFullEditMode()&&r.state===on.EDITING||(n.closeEditorAndSaveChanges(),t.getSelected()&&(i.includes("arrowdown")?t.selection.transformStart(1,0):i.includes("arrowup")?t.selection.transformStart(-1,0):i.includes("arrowleft")?t.selection.transformStart(0,-1*t.getDirectionFactor()):i.includes("arrowright")&&t.selection.transformStart(0,t.getDirectionFactor())),e.preventDefault())}};var oQ={name:"editorCloseAndSaveByEnter",callback(t,e){let i=t._getEditorManager();i.closeEditorAndSaveChanges(e.ctrlKey||e.metaKey),i.moveSelectionAfterEnter(e)}};var sQ={name:"editorCloseWithoutSaving",callback(t){let e=t._getEditorManager();e.closeEditorAndRestoreOriginalValue(t.getShortcutManager().isCtrlPressed()),e.activeEditor.focus()}};var aQ={name:"editorFastOpen",callback(t,e){let{highlight:i}=t.getSelectedRangeLast();i.isHeader()||t._getEditorManager().openEditor(null,e,!0)}};var lQ={name:"editorOpen",callback(t,e,i){let n=t._getEditorManager(),r=t.getSelectedRangeLast(),{highlight:o}=r;if(t.selection.isMultiple()&&!r.isHeader()&&t.countRenderedCols()>0&&t.countRenderedRows()>0){let s=t.getSettings(),a=typeof s.enterMoves=="function"?s.enterMoves(e):s.enterMoves;i.includes("shift")?t.selection.transformFocus(-a.row,-a.col):t.selection.transformFocus(a.row,a.col);return}o.isHeader()||(t.getSettings().enterBeginsEditing?n.cellProperties.readOnly?n.moveSelectionAfterEnter(e):n.openEditor(null,e,!0):n.moveSelectionAfterEnter(e),Hn(e))}};function cQ(){return[tQ,rQ,oQ,sQ,aQ,lQ]}var dQ={name:"extendCellsSelectionDown",callback(t){let{highlight:e}=t.getSelectedRangeLast();!t.selection.isSelectedByColumnHeader()&&!t.selection.isSelectedByCorner()&&(e.isCell()||e.isHeader()&&t.selection.isSelectedByRowHeader())&&t.selection.transformEnd(1,0)}};var uQ={name:"extendCellsSelectionDownByViewportHeight",callback(t){let{to:e}=t.getSelectedRangeLast(),i=Math.min(e.row+t.countVisibleRows(),t.countRows()-1),n=t.rowIndexMapper.getNearestNotHiddenIndex(i,-1);if(n!==null){let r=t._createCellCoords(n,e.col),o=e.row-t.view.getFirstFullyVisibleRow(),s=Math.min(r.row-o,t.countRows()-1);t.selection.setRangeEnd(r),t.scrollViewportTo({row:s,verticalSnap:"top",horizontalSnap:"start"})}}};var hQ={name:"extendCellsSelectionLeft",callback(t){let{highlight:e}=t.getSelectedRangeLast();!t.selection.isSelectedByRowHeader()&&!t.selection.isSelectedByCorner()&&(e.isCell()||e.isHeader()&&t.selection.isSelectedByColumnHeader())&&t.selection.transformEnd(0,-1*t.getDirectionFactor())}};var fQ={name:"extendCellsSelectionRight",callback(t){let{highlight:e}=t.getSelectedRangeLast();!t.selection.isSelectedByRowHeader()&&!t.selection.isSelectedByCorner()&&(e.isCell()||e.isHeader()&&t.selection.isSelectedByColumnHeader())&&t.selection.transformEnd(0,t.getDirectionFactor())}};var mQ={name:"extendCellsSelectionToColumns",callback(t){let{highlight:e,from:i,to:n}=t.getSelectedRangeLast();t.selection.isSelectedByRowHeader()?t.selection.selectAll(!0,!0):t.selectColumns(i.col,n.col,e)}};var pQ={name:"extendCellsSelectionToMostBottom",callback(t){let{selection:e,rowIndexMapper:i}=t,{highlight:n,from:r,to:o}=t.getSelectedRangeLast(),s=n.isHeader()&&t.selection.isSelectedByRowHeader();if(n.isCell()||s){let a=i.getNearestNotHiddenIndex(t.countRows()-1,-1),l=r.clone();l.row=n.row,e.setRangeStart(l,void 0,!1,n.clone()),s&&e.selectedByRowHeader.add(e.getLayerLevel()),e.setRangeEnd(t._createCellCoords(a,o.col))}}};var gQ={name:"extendCellsSelectionToMostInlineEnd",callback(t){let{selection:e,columnIndexMapper:i}=t,{highlight:n,from:r,to:o}=t.getSelectedRangeLast();if(!t.selection.isSelectedByRowHeader()&&!t.selection.isSelectedByCorner()&&n.isCell()){let s=i.getNearestNotHiddenIndex(t.countCols()-1,-1),a=r.clone();a.col=n.col,e.setRangeStart(a,void 0,!1,n.clone()),e.setRangeEnd(t._createCellCoords(o.row,s))}}};var bQ={name:"extendCellsSelectionToMostInlineStart",callback(t){let{selection:e,columnIndexMapper:i}=t,{highlight:n,from:r,to:o}=t.getSelectedRangeLast();if(!t.selection.isSelectedByRowHeader()&&!t.selection.isSelectedByCorner()&&n.isCell()){let s=parseInt(t.getSettings().fixedColumnsStart,10),a=i.getNearestNotHiddenIndex(s,1),l=r.clone();l.col=n.col,e.setRangeStart(l,void 0,!1,n.clone()),e.setRangeEnd(t._createCellCoords(o.row,a))}}};var vQ={name:"extendCellsSelectionToMostLeft",callback(t){let{selection:e,columnIndexMapper:i}=t,{highlight:n,from:r,to:o}=t.getSelectedRangeLast(),s=n.isHeader()&&t.selection.isSelectedByColumnHeader();if(n.isCell()||s){let a=i.getNearestNotHiddenIndex(...t.isRtl()?[t.countCols()-1,-1]:[0,1]),l=r.clone();l.col=n.col,e.setRangeStart(l,void 0,!1,n.clone()),s&&e.selectedByColumnHeader.add(e.getLayerLevel()),e.setRangeEnd(t._createCellCoords(o.row,a))}}};var _Q={name:"extendCellsSelectionToMostRight",callback(t){let{selection:e,columnIndexMapper:i}=t,{highlight:n,from:r,to:o}=t.getSelectedRangeLast(),s=n.isHeader()&&t.selection.isSelectedByColumnHeader();if(n.isCell()||s){let a=i.getNearestNotHiddenIndex(...t.isRtl()?[0,1]:[t.countCols()-1,-1]),l=r.clone();l.col=n.col,e.setRangeStart(l,void 0,!1,n.clone()),s&&e.selectedByColumnHeader.add(e.getLayerLevel()),e.setRangeEnd(t._createCellCoords(o.row,a))}}};var yQ={name:"extendCellsSelectionToMostTop",callback(t){let{selection:e,rowIndexMapper:i}=t,{highlight:n,from:r,to:o}=t.getSelectedRangeLast(),s=n.isHeader()&&t.selection.isSelectedByRowHeader();if(n.isCell()||s){let a=i.getNearestNotHiddenIndex(0,1),l=r.clone();l.row=n.row,e.setRangeStart(l,void 0,!1,n.clone()),s&&e.selectedByRowHeader.add(e.getLayerLevel()),e.setRangeEnd(t._createCellCoords(a,o.col))}}};var wQ={name:"extendCellsSelectionToRows",callback(t){let{highlight:e,from:i,to:n}=t.getSelectedRangeLast();t.selection.isSelectedByColumnHeader()?t.selection.selectAll(!0,!0):t.selectRows(i.row,n.row,e)}};var CQ={name:"extendCellsSelectionUp",callback(t){let{highlight:e}=t.getSelectedRangeLast();!t.selection.isSelectedByColumnHeader()&&!t.selection.isSelectedByCorner()&&(e.isCell()||e.isHeader()&&t.selection.isSelectedByRowHeader())&&t.selection.transformEnd(-1,0)}};var SQ={name:"extendCellsSelectionUpByViewportHeight",callback(t){let{to:e}=t.getSelectedRangeLast(),i=Math.max(e.row-t.countVisibleRows(),0),n=t.rowIndexMapper.getNearestNotHiddenIndex(i,1);if(n!==null){let r=t._createCellCoords(n,e.col),o=e.row-t.view.getFirstFullyVisibleRow(),s=Math.max(r.row-o,0);t.selection.setRangeEnd(r),t.scrollViewportTo({row:s,verticalSnap:"top",horizontalSnap:"start"})}}};function xQ(){return[dQ,uQ,hQ,fQ,mQ,pQ,gQ,bQ,vQ,_Q,yQ,wQ,CQ,SQ]}var EQ={name:"moveCellSelectionDown",callback(t){let{selection:e}=t;e.transformStart(1,0)}};var RQ={name:"moveCellSelectionDownByViewportHeight",callback(t){let{navigableHeaders:e}=t.getSettings(),i=e?t.countColHeaders():0,{row:n}=t.getSelectedRangeLast().highlight,r=t.countVisibleRows()+i;n===t.countRows()-1?r=1:n+r>t.countRows()&&(r=t.countRows()-n-1),t.selection.transformStart(r,0),t.getSelectedRangeLast().highlight.row<0&&t.scrollViewportTo({row:0})}};var TQ={name:"moveCellSelectionInlineEnd",callback(t,e){let i=t.getSettings(),n=t.getSelectedRangeLast(),r=typeof i.tabMoves=="function"?i.tabMoves(e):i.tabMoves;t.selection.isMultiple()&&!n.isHeader()&&t.countRenderedCols()>0&&t.countRenderedRows()>0?t.selection.transformFocus(-r.row,-r.col):t.selection.transformStart(-r.row,-r.col)}};var IQ={name:"moveCellSelectionInlineStart",callback(t,e){let i=t.getSettings(),n=t.getSelectedRangeLast(),r=typeof i.tabMoves=="function"?i.tabMoves(e):i.tabMoves;t.selection.isMultiple()&&!n.isHeader()&&t.countRenderedCols()>0&&t.countRenderedRows()>0?t.selection.transformFocus(r.row,r.col):t.selection.transformStart(r.row,r.col)}};var DQ={name:"moveCellSelectionLeft",callback(t){t.selection.transformStart(0,-1*t.getDirectionFactor())}};var MQ={name:"moveCellSelectionRight",callback(t){t.selection.transformStart(0,t.getDirectionFactor())}};var AQ={name:"moveCellSelectionToMostBottom",callback(t){let{col:e}=t.getSelectedRangeLast().highlight,i=t.rowIndexMapper.getNearestNotHiddenIndex(t.countRows()-1,-1);i===null&&(i=-1),t.selection.setRangeStart(t._createCellCoords(i,e))}};var OQ={name:"moveCellSelectionToMostBottomInlineEnd",callback(t){let{selection:e,rowIndexMapper:i,columnIndexMapper:n}=t,r=parseInt(t.getSettings().fixedRowsBottom,10),o=i.getNearestNotHiddenIndex(t.countRows()-r-1,-1),s=n.getNearestNotHiddenIndex(t.countCols()-1,-1);e.setRangeStart(t._createCellCoords(o,s))}};var PQ={name:"moveCellSelectionToMostInlineEnd",callback(t){let{selection:e,columnIndexMapper:i}=t;e.setRangeStart(t._createCellCoords(t.getSelectedRangeLast().highlight.row,i.getNearestNotHiddenIndex(t.countCols()-1,-1)))}};var kQ={name:"moveCellSelectionToMostInlineStart",callback(t){let{selection:e,columnIndexMapper:i}=t,n=parseInt(t.getSettings().fixedColumnsStart,10),r=t.getSelectedRangeLast().highlight.row,o=i.getNearestNotHiddenIndex(n,1);e.setRangeStart(t._createCellCoords(r,o))}};var NQ={name:"moveCellSelectionToMostLeft",callback(t){let{selection:e,columnIndexMapper:i}=t,n=t.getSelectedRangeLast().highlight.row,r=i.getNearestNotHiddenIndex(...t.isRtl()?[t.countCols()-1,-1]:[0,1]);r===null&&(r=t.isRtl()?-1:-t.countRowHeaders()),e.setRangeStart(t._createCellCoords(n,r))}};var LQ={name:"moveCellSelectionToMostRight",callback(t){let{selection:e,columnIndexMapper:i}=t,{row:n}=t.getSelectedRangeLast().highlight,r=i.getNearestNotHiddenIndex(...t.isRtl()?[0,1]:[t.countCols()-1,-1]);r===null&&(r=t.isRtl()?-t.countRowHeaders():-1),e.setRangeStart(t._createCellCoords(n,r))}};var FQ={name:"moveCellSelectionToMostTop",callback(t){let{col:e}=t.getSelectedRangeLast().highlight,i=t.rowIndexMapper.getNearestNotHiddenIndex(0,1);i===null&&(i=-t.countColHeaders()),t.selection.setRangeStart(t._createCellCoords(i,e))}};var HQ={name:"moveCellSelectionToMostTopInlineStart",callback(t){let{selection:e,rowIndexMapper:i,columnIndexMapper:n}=t,r=parseInt(t.getSettings().fixedRowsTop,10),o=parseInt(t.getSettings().fixedColumnsStart,10),s=i.getNearestNotHiddenIndex(r,1),a=n.getNearestNotHiddenIndex(o,1);e.setRangeStart(t._createCellCoords(s,a))}};var VQ={name:"moveCellSelectionUp",callback(t){let{selection:e}=t;e.transformStart(-1,0)}};var BQ={name:"moveCellSelectionUpByViewportHight",callback(t){let{navigableHeaders:e}=t.getSettings(),i=e?t.countColHeaders():0,{row:n}=t.getSelectedRangeLast().highlight,r=-(t.countVisibleRows()+i);n===-i?r=-1:n+r<i&&(r=-(n+i)),t.selection.transformStart(r,0),t.getSelectedRangeLast().highlight.row<0&&t.scrollViewportTo({row:0})}};function WQ(){return[EQ,RQ,TQ,IQ,DQ,MQ,AQ,OQ,PQ,kQ,NQ,LQ,FQ,HQ,VQ,BQ]}var jQ={name:"emptySelectedCells",callback(t){t.emptySelectedCells(),t._getEditorManager().prepareEditor()}};var UQ={name:"scrollToFocusedCell",callback(t){let{highlight:e}=t.getSelectedRangeLast(),i=t.view.getFirstFullyVisibleRow()-1,n=t.view.getFirstFullyVisibleColumn()-1,r=t.view.getLastFullyVisibleRow()+1,o=t.view.getLastFullyVisibleColumn()+1,s=t._createCellCoords(i,n),a=t._createCellCoords(r,o);if(!t._createCellRange(s,s,a).includes(e)&&(e.row>=0||e.col>=0)){let c={};if(e.col>=0){let d=Math.floor(t.countVisibleCols()/2);c.col=Math.max(e.col-d,0)}if(e.row>=0){let d=Math.floor(t.countVisibleRows()/2);c.row=Math.max(e.row-d,0)}t.scrollViewportTo(st(ee({},c),{verticalSnap:"top",horizontalSnap:"start"}))}}};var zQ={name:"selectAllCells",callback(t){t.selection.selectAll(!0,!0,{disableHeadersHighlight:!0})}};var YQ={name:"selectAllCellsAndHeaders",callback(t){t.selection.selectAll(!0,!0,{disableHeadersHighlight:!1})}};var GQ={name:"populateSelectedCellsData",callback(t){let e=t.getSelectedRange(),{row:i,col:n}=e[e.length-1].highlight.normalize(),r=t.getDataAtCell(i,n),o=new Map;for(let s=0;s<e.length;s++)e[s].forAll((a,l)=>{if(a>=0&&l>=0&&(a!==i||l!==n)){let{readOnly:c}=t.getCellMeta(a,l);c||o.set(`${a}x${l}`,[a,l,r])}});t.setDataAtCell(Array.from(o.values()))}};var lOe=[...cQ(),...xQ(),...WQ(),jQ,UQ,zQ,YQ,GQ];function dD(t){let e={};return lOe.forEach(i=>{let{name:n,callback:r}=i;e[n]=function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return r(t,...s)}}),e}function $Q(t){let e=t.getShortcutManager().addContext("editor"),i=dD(t),n={group:so};e.addShortcuts([{keys:[["Enter"],["Enter","Shift"]],callback:(r,o)=>i.editorCloseAndSaveByEnter(r,o)},{keys:[["Enter","Control/Meta"],["Enter","Control/Meta","Shift"]],captureCtrl:!0,callback:(r,o)=>i.editorCloseAndSaveByEnter(r,o)},{keys:[["Tab"],["Tab","Shift"],["PageDown"],["PageUp"]],forwardToContext:t.getShortcutManager().getContext("grid"),callback:(r,o)=>i.editorCloseAndSave(r,o)},{keys:[["ArrowDown"],["ArrowUp"],["ArrowLeft"],["ArrowRight"]],preventDefault:!1,callback:(r,o)=>i.editorCloseAndSaveByArrowKeys(r,o)},{keys:[["Escape"],["Escape","Control/Meta"]],callback:()=>i.editorCloseWithoutSaving()}],n)}function qQ(t){let e=t.getShortcutManager().addContext("grid"),i=dD(t),n={runOnlyIf:()=>{let{navigableHeaders:r}=t.getSettings();return xe(t.getSelected())&&(r||!r&&t.countRenderedRows()>0&&t.countRenderedCols()>0)},group:cD};e.addShortcuts([{keys:[["F2"]],callback:r=>i.editorFastOpen(r)},{keys:[["Enter"],["Enter","Shift"]],callback:(r,o)=>i.editorOpen(r,o)},{keys:[["Backspace"],["Delete"]],callback:()=>i.emptySelectedCells()}],{group:so,runOnlyIf:()=>xe(t.getSelected())}),e.addShortcuts([{keys:[["Control/Meta","A"]],callback:()=>i.selectAllCells(),runOnlyIf:()=>!t.getSelectedRangeLast().highlight.isHeader()},{keys:[["Control/Meta","A"]],callback:()=>{},runOnlyIf:()=>t.getSelectedRangeLast().highlight.isHeader(),preventDefault:!0},{keys:[["Control/Meta","Shift","Space"]],callback:()=>i.selectAllCellsAndHeaders()},{keys:[["Control/Meta","Enter"]],callback:()=>i.populateSelectedCellsData(),runOnlyIf:()=>!t.getSelectedRangeLast().highlight.isHeader()&&t.getSelectedRangeLast().getCellsCount()>1},{keys:[["Control","Space"]],captureCtrl:!0,callback:()=>i.extendCellsSelectionToColumns()},{keys:[["Shift","Space"]],stopPropagation:!0,callback:()=>i.extendCellsSelectionToRows()},{keys:[["ArrowUp"]],callback:()=>i.moveCellSelectionUp()},{keys:[["ArrowUp","Control/Meta"]],captureCtrl:!0,callback:()=>i.moveCellSelectionToMostTop()},{keys:[["ArrowUp","Shift"]],callback:()=>i.extendCellsSelectionUp()},{keys:[["ArrowUp","Shift","Control/Meta"]],captureCtrl:!0,callback:()=>i.extendCellsSelectionToMostTop(),runOnlyIf:()=>!(t.selection.isSelectedByCorner()||t.selection.isSelectedByColumnHeader())},{keys:[["ArrowDown"]],callback:()=>i.moveCellSelectionDown()},{keys:[["ArrowDown","Control/Meta"]],captureCtrl:!0,callback:()=>i.moveCellSelectionToMostBottom()},{keys:[["ArrowDown","Shift"]],callback:()=>i.extendCellsSelectionDown()},{keys:[["ArrowDown","Shift","Control/Meta"]],captureCtrl:!0,callback:()=>i.extendCellsSelectionToMostBottom(),runOnlyIf:()=>!(t.selection.isSelectedByCorner()||t.selection.isSelectedByColumnHeader())},{keys:[["ArrowLeft"]],callback:()=>i.moveCellSelectionLeft()},{keys:[["ArrowLeft","Control/Meta"]],captureCtrl:!0,callback:()=>i.moveCellSelectionToMostLeft()},{keys:[["ArrowLeft","Shift"]],callback:()=>i.extendCellsSelectionLeft()},{keys:[["ArrowLeft","Shift","Control/Meta"]],captureCtrl:!0,callback:()=>i.extendCellsSelectionToMostLeft(),runOnlyIf:()=>!(t.selection.isSelectedByCorner()||t.selection.isSelectedByRowHeader())},{keys:[["ArrowRight"]],callback:()=>i.moveCellSelectionRight()},{keys:[["ArrowRight","Control/Meta"]],captureCtrl:!0,callback:()=>i.moveCellSelectionToMostRight()},{keys:[["ArrowRight","Shift"]],callback:()=>i.extendCellsSelectionRight()},{keys:[["ArrowRight","Shift","Control/Meta"]],captureCtrl:!0,callback:()=>i.extendCellsSelectionToMostRight(),runOnlyIf:()=>!(t.selection.isSelectedByCorner()||t.selection.isSelectedByRowHeader())},{keys:[["Home"]],captureCtrl:!0,callback:()=>i.moveCellSelectionToMostInlineStart(),runOnlyIf:()=>t.view.isMainTableNotFullyCoveredByOverlays()},{keys:[["Home","Shift"]],callback:()=>i.extendCellsSelectionToMostInlineStart()},{keys:[["Home","Control/Meta"]],captureCtrl:!0,callback:()=>i.moveCellSelectionToMostTopInlineStart(),runOnlyIf:()=>t.view.isMainTableNotFullyCoveredByOverlays()},{keys:[["End"]],captureCtrl:!0,callback:()=>i.moveCellSelectionToMostInlineEnd(),runOnlyIf:()=>t.view.isMainTableNotFullyCoveredByOverlays()},{keys:[["End","Shift"]],callback:()=>i.extendCellsSelectionToMostInlineEnd()},{keys:[["End","Control/Meta"]],captureCtrl:!0,callback:()=>i.moveCellSelectionToMostBottomInlineEnd(),runOnlyIf:()=>t.view.isMainTableNotFullyCoveredByOverlays()},{keys:[["PageUp"]],callback:()=>i.moveCellSelectionUpByViewportHight()},{keys:[["PageUp","Shift"]],callback:()=>i.extendCellsSelectionUpByViewportHeight()},{keys:[["PageDown"]],callback:()=>i.moveCellSelectionDownByViewportHeight()},{keys:[["PageDown","Shift"]],callback:()=>i.extendCellsSelectionDownByViewportHeight()},{keys:[["Tab"]],preventDefault:!1,callback:r=>i.moveCellSelectionInlineStart(r)},{keys:[["Shift","Tab"]],preventDefault:!1,callback:r=>i.moveCellSelectionInlineEnd(r)},{keys:[["Control/Meta","Backspace"]],callback:()=>i.scrollToFocusedCell()}],n)}function KQ(t){[qQ,$Q].forEach(e=>e(t))}function QQ(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=t.rootElement,n=XQ(t),r=XQ(t);return n.addEventListener("focus",()=>e?.onFocusFromTop()),r.addEventListener("focus",()=>e?.onFocusFromBottom()),i.firstChild.before(n),i.lastChild.after(r),{activate(){t._registerTimeout(()=>{n.tabIndex=0,r.tabIndex=0},10)},deactivate(){t._registerTimeout(()=>{n.tabIndex=-1,r.tabIndex=-1},10)}}}function XQ(t){let i=t.rootDocument.createElement("input");return i.type="text",i.classList.add("htFocusCatcher"),t.getSettings().ariaTags&&Le(i,[yo(),Sr()]),i}function ZQ(t){let e=cOe(t),i,{activate:n,deactivate:r}=QQ(t,{onFocusFromTop(){var u;let f=(u=e(i))!==null&&u!==void 0?u:kF(t);f&&(t.runHooks("modifyFocusOnTabNavigation","from_above",f),t.selectCell(f.row,f.col)),t.listen()},onFocusFromBottom(){var u;let f=(u=e(i))!==null&&u!==void 0?u:NF(t);f&&(t.runHooks("modifyFocusOnTabNavigation","from_below",f),t.selectCell(f.row,f.col)),t.listen()}}),o={wrapped:!1,flipped:!1},s=!0,a=!1,l=!1;t.addHook("afterListen",()=>r()),t.addHook("afterUnlisten",()=>n()),t.addHook("afterSelection",(u,f,m,g,_)=>{if(a&&(o.wrapped&&o.flipped||l)&&(l=!1,_.value=!0),s){var b;i=(b=t.getSelectedRangeLast())===null||b===void 0?void 0:b.highlight}}),t.addHook("beforeRowWrap",(u,f,m)=>{o.wrapped=!0,o.flipped=m});function c(){o.wrapped=!1,o.flipped=!1,t.deselectCell(),t.unlisten()}let d={keys:[["Tab"],["Shift","Tab"]],preventDefault:!1,stopPropagation:!1,relativeToGroup:cD,group:"focusCatcher"};t.getShortcutManager().getContext("grid").addShortcuts([st(ee({},d),{callback:()=>{let{tabNavigation:u}=t.getSettings();a=!0,t.getSelectedRangeLast()&&!u&&(s=!1),u||(l=!0)},position:"before"}),st(ee({},d),{callback:u=>{let{tabNavigation:f,autoWrapRow:m}=t.getSettings();if(a=!1,s=!0,!f||!t.selection.isSelected()||m&&o.wrapped&&o.flipped||!m&&o.wrapped)return m&&o.wrapped&&o.flipped&&(i=u.shiftKey?kF(t):NF(t)),c(),!1;u.preventDefault()},position:"after"})])}function kF(t){let{rowIndexMapper:e,columnIndexMapper:i}=t,{navigableHeaders:n}=t.getSettings(),r=n&&t.countColHeaders()>0?-t.countColHeaders():0,o=n&&t.countRowHeaders()>0?-t.countRowHeaders():0;return r===0&&(r=e.getVisualFromRenderableIndex(r)),o===0&&(o=i.getVisualFromRenderableIndex(o)),r===null||o===null?null:t._createCellCoords(r,o)}function NF(t){var e,i;let{rowIndexMapper:n,columnIndexMapper:r}=t,{navigableHeaders:o}=t.getSettings(),s=n.getRenderableIndexesLength()-1,a=r.getRenderableIndexesLength()-1;if(s<0){if(!o||t.countColHeaders()===0)return null;s=-1}if(a<0){if(!o||t.countColHeaders()===0)return null;a=-1}return t._createCellCoords((e=n.getVisualFromRenderableIndex(s))!==null&&e!==void 0?e:s,(i=r.getVisualFromRenderableIndex(a))!==null&&i!==void 0?i:a)}function cOe(t){return e=>{if(!e)return null;let i=kF(t),n=NF(t);return e.col<i.col&&(e.col=i.col),e.col>n.col&&(e.col=n.col),e.row<i.row&&(e.row=i.row),e.row>n.row&&(e.row=n.row),e}}function JQ(t){return e=>{let{col:i}=e;t.scrollViewportTo({col:i})}}function eZ(){return()=>{}}function tZ(t){return e=>{t.scrollViewportTo(e.toObject())}}function iZ(t){return e=>{t.scrollViewportTo(e.toObject())}}function nZ(t){return e=>{t.scrollViewportTo(e.toObject())}}function rZ(t){return e=>{let{row:i}=e;t.scrollViewportTo({row:i})}}function oZ(t){return e=>{let i=t.selection.getSelectionSource(),{row:n,col:r}=e;if(n<0&&r>=0)t.scrollViewportTo({col:r});else if(r<0&&n>=0)t.scrollViewportTo({row:n});else{if(i==="mouse"&&(r===t.view.getLastPartiallyVisibleColumn()||n===t.view.getLastPartiallyVisibleRow()))return;t.scrollViewportTo({row:n,col:r})}}}function sZ(t){let{selection:e}=t,i=!1,n=!1;return{resume(){n=!1},suspend(){n=!0},skipNextScrollCycle(){i=!0},scrollTo(r){var o;if(i||n){i=!1;return}let s;e.isFocusSelectionChanged()?s=tZ(t):e.isSelectedByCorner()?s=eZ(t):e.isSelectedByRowHeader()?s=rZ(t):e.isSelectedByColumnHeader()?s=JQ(t):e.getSelectedRange().size()===1&&e.isMultiple()?s=iZ(t):e.getSelectedRange().size()===1&&!e.isMultiple()?s=oZ(t):e.getSelectedRange().size()>1&&(s=nZ(t)),(o=s)===null||o===void 0||o(r)}}}var Rmt=w(Q(),1);var imt=w(Q(),1),nmt=w(be(),1);var qft=w(Fi(),1),Kft=w(Hi(),1),Xft=w(Vi(),1),Qft=w(Bi(),1),Zft=w(Wi(),1),Jft=w(ji(),1),emt=w(Ui(),1),aZ=new Map([[" ","space"],["spacebar","space"],["scroll","scrolllock"],["del","delete"],["esc","escape"],["medianexttrack","mediatracknext"],["mediaprevioustrack","mediatrackprevious"],["volumeup","audiovolumeup"],["volumedown","audiovolumedown"],["volumemute","audiovolumemute"],["multiply","*"],["add","+"],["divide","/"],["subtract","-"],["left","arrowleft"],["right","arrowright"],["up","arrowup"],["down","arrowdown"]]),LC=t=>t.map(e=>{let i=e.toLowerCase();return aZ.has(i)?aZ.get(i):i}).sort().join("+"),cZ=t=>t.split("+"),lZ=new RegExp("^(?:Key|Digit)([A-Z0-9])$"),dOe=new Set(["Backquote","Minus","Equal","BracketLeft","BracketRight","Backslash","Semicolon","Quote","Comma","Period","Slash"]),uD=t=>{let{key:e,code:i}=t,n=e;return lZ.test(i)?n=i.replace(lZ,"$1"):dOe.has(i)&&(n=i),n.toLowerCase()};var dZ=Symbol("shortcut-context");function LF(t){return it(t)&&t.__kindOf===dZ}var uZ=t=>{let e=xu({errorIdExists:l=>`The "${l}" shortcut is already registered in the "${t}" context.`}),i=function(){let{keys:l,callback:c,group:d,runOnlyIf:u=()=>!0,captureCtrl:f=!1,preventDefault:m=!0,stopPropagation:g=!1,relativeToGroup:_,position:b,forwardToContext:y}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Gt(d))throw new Error("You need to define the shortcut's group.");if(ti(c)===!1)throw new Error("The shortcut's callback needs to be a function.");if(Array.isArray(l)===!1)throw new Error(Dt`Pass the shortcut\'s keys as an array of arrays,\x20
      using the KeyboardEvent.key properties:\x20
      https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key/Key_Values.`);let x={callback:c,group:d,runOnlyIf:u,captureCtrl:f,preventDefault:m,stopPropagation:g};xe(_)&&(x.relativeToGroup=_,x.position=b),LF(y)&&(x.forwardToContext=y),l.forEach(T=>{let O=LC(T);if(e.hasItem(O)){let V=e.getItem(O),F=V.findIndex(k=>k.group===_);F!==-1?b==="before"?F-=1:F+=1:F=V.length,V.splice(F,0,x)}else e.addItem(O,[x])})},n=function(l){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};l.forEach(d=>{nt(c,(u,f)=>{Object.prototype.hasOwnProperty.call(d,f)===!1&&(d[f]=c[f])}),i(d)})},r=l=>{let c=LC(l);e.removeItem(c)};return{__kindOf:dZ,addShortcut:i,addShortcuts:n,getShortcuts:l=>{let c=LC(l),d=e.getItem(c);return xe(d)?d.slice():[]},hasShortcut:l=>{let c=LC(l);return e.hasItem(c)},removeShortcutsByKeys:r,removeShortcutsByGroup:l=>{e.getItems().forEach(d=>{let[u,f]=d,m=f.filter(g=>g.group!==l);m.length===0?r(cZ(u)):(f.length=0,f.push(...m))})}}};var _mt=w(be(),1);var umt=w(Fi(),1),hmt=w(Hi(),1),fmt=w(Vi(),1),mmt=w(Bi(),1),pmt=w(Wi(),1),gmt=w(ji(),1),bmt=w(Ui(),1);function hZ(){let t=new Set;return{press(e){t.add(e)},release(e){t.delete(e)},releaseAll(){t.clear()},isPressed(e){return t.has(e)}}}var uOe=["meta","alt","shift","control"],FC=hZ(),HC=[],hD=0;function fZ(t,e,i,n,r){let o=m=>uOe.includes(m),s=function(m){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,_=[];return m.altKey&&_.push("alt"),g&&(m.ctrlKey||m.metaKey)?_.push("control/meta"):(m.ctrlKey&&_.push("control"),m.metaKey&&_.push("meta")),m.shiftKey&&_.push("shift"),_},a=m=>{if(e(m)===!1)return;let g=i(m);if(m.keyCode===229||g===!1||Tl(m))return;let _=uD(m),b=[];o(_)||(b=s(m));let y=[_].concat(b);!r(m,y)&&(cg()&&b.includes("meta")||!cg()&&b.includes("control"))&&r(m,[_].concat(s(m,!0))),n(m)},l=m=>{if(m.key){let g=uD(m);o(g)&&FC.press(g)}},c=m=>{if(m.key){let g=uD(m);o(g)&&FC.release(g)}},d=()=>{FC.releaseAll()};return{mount:()=>{let m=t;for(hD+=1;m;)hD===1&&(m.document.documentElement.addEventListener("keydown",l),HC.push({event:"keydown",listener:l}),m.document.documentElement.addEventListener("keyup",c),HC.push({event:"keyup",listener:c})),m.document.documentElement.addEventListener("keydown",a),m.document.documentElement.addEventListener("blur",d),m=El(m)},unmount:()=>{let m=t;for(hD-=1;m;){if(hD===0){for(let g=0;g<HC.length;g++){let{event:_,listener:b}=HC[g];m.document.documentElement.removeEventListener(_,b)}HC.length=0}m.document.documentElement.removeEventListener("keydown",a),m.document.documentElement.removeEventListener("blur",d),m=El(m)}},isPressed:m=>FC.isPressed(m),releasePressedKeys:()=>FC.releaseAll()}}var FF=t=>{let{ownerWindow:e,handleEvent:i,beforeKeyDown:n,afterKeyDown:r}=t,o=xu({errorIdExists:g=>`The "${g}" context name is already registered.`}),s="grid",a=g=>{let _=uZ(g);return o.addItem(g,_),_},l=()=>s,c=g=>o.getItem(g),d=g=>{if(!o.hasItem(g))throw new Error(Dt`You've tried to activate the "${g}" shortcut context\x20
        that does not exist. Before activation, register the context using the "addContext" method.`);s=g},u=!1,f=function(g,_){let b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l(),y=LF(b)?b:c(b),x=!1;if(!y.hasShortcut(_))return x;let T=y.getShortcuts(_);for(let O=0;O<T.length;O++){let{callback:P,runOnlyIf:V,preventDefault:F,stopPropagation:k,captureCtrl:Z,forwardToContext:ae}=T[O];if(V(g)===!0){if(u=Z,x=P(g,_)===!1,u=!1,F&&g.preventDefault(),k&&(Hn(g),g.stopPropagation()),x)break;ae&&f(g,_,ae)}}return x},m=fZ(e,i,n,r,f);return m.mount(),{addContext:a,getActiveContextName:l,getContext:c,setActiveContextName:d,isCtrlPressed:()=>!u&&(m.isPressed("control")||m.isPressed("meta")),releasePressedKeys:()=>m.releasePressedKeys(),destroy:()=>m.unmount()}};var HF=null,VF=new Map;function fD(t,e){var i,n=this;let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=this,s=new Xn(o),a,l,c,d,u,f,m=!0;n7(r)&&i7(this),this.rootElement=t,this.rootDocument=t.ownerDocument,this.rootWindow=this.rootDocument.defaultView,this.isDestroyed=!1,this.renderSuspendedCounter=0,this.executionSuspendedCounter=0;let g=(i=e?.layoutDirection)!==null&&i!==void 0?i:"inherit",_=["rtl","ltr"].includes(g)?g:this.rootWindow.getComputedStyle(this.rootElement).direction;this.rootElement.setAttribute("dir",_),this.isRtl=function(){return _==="rtl"},this.isLtr=function(){return!o.isRtl()},this.getDirectionFactor=function(){return o.isLtr()?1:-1},e.language=E7(e.language);let b=new Lg(o,e,[kC,NC]),y=b.getTableMeta(),x=b.getGlobalMeta(),T=xu();this.container=this.rootDocument.createElement("div"),this.renderCall=!1,t.insertBefore(this.container,t.firstChild),Rg(this)&&hX(e.licenseKey,t),this.guid=`ht_${pT()}`,VF.set(this.guid,this),this.columnIndexMapper=new bf,this.rowIndexMapper=new bf,this.columnIndexMapper.addLocalHook("indexesSequenceChange",S=>{o.runHooks("afterColumnSequenceChange",S)}),this.rowIndexMapper.addLocalHook("indexesSequenceChange",S=>{o.runHooks("afterRowSequenceChange",S)}),l=new u7(o),(!this.rootElement.id||this.rootElement.id.substring(0,3)==="ht_")&&(this.rootElement.id=this.guid);let O=S=>{let{row:E,col:R}=S;return o._createCellCoords(E>=0?o.rowIndexMapper.getRenderableFromVisualIndex(E):E,R>=0?o.columnIndexMapper.getRenderableFromVisualIndex(R):R)},P=S=>{let{row:E,col:R}=S;return o._createCellCoords(E>=0?o.rowIndexMapper.getVisualFromRenderableIndex(E):E,R>=0?o.columnIndexMapper.getVisualFromRenderableIndex(R):R)},V=(S,E)=>{let R=E>S?1:-1,G=Math.min(S,E),$=Math.max(S,E),X=o.rowIndexMapper.getNearestNotHiddenIndex(S,R);return X===null||R===1&&X>$||R===-1&&X<G?null:X>=0?o.rowIndexMapper.getRenderableFromVisualIndex(X):X},F=(S,E)=>{let R=E>S?1:-1,G=Math.min(S,E),$=Math.max(S,E),X=o.columnIndexMapper.getNearestNotHiddenIndex(S,R);return X===null||R===1&&X>$||R===-1&&X<G?null:X>=0?o.columnIndexMapper.getRenderableFromVisualIndex(X):X},k=new IF(y,{rowIndexMapper:o.rowIndexMapper,columnIndexMapper:o.columnIndexMapper,countCols:()=>o.countCols(),countRows:()=>o.countRows(),propToCol:S=>a.propToCol(S),isEditorOpened:()=>o.getActiveEditor()?o.getActiveEditor().isOpened():!1,countRenderableColumns:()=>this.view.countRenderableColumns(),countRenderableRows:()=>this.view.countRenderableRows(),countRowHeaders:()=>this.countRowHeaders(),countColHeaders:()=>this.countColHeaders(),countRenderableRowsInRange:function(){return n.view.countRenderableRowsInRange(...arguments)},countRenderableColumnsInRange:function(){return n.view.countRenderableColumnsInRange(...arguments)},getShortcutManager:()=>o.getShortcutManager(),createCellCoords:(S,E)=>o._createCellCoords(S,E),createCellRange:(S,E,R)=>o._createCellRange(S,E,R),visualToRenderableCoords:O,renderableToVisualCoords:P,findFirstNonHiddenRenderableRow:V,findFirstNonHiddenRenderableColumn:F,isDisabledCellSelection:(S,E)=>S<0||E<0?o.getSettings().disableVisualSelection:o.getCellMeta(S,E).disableVisualSelection});this.selection=k;let Z=S=>{let{hiddenIndexesChanged:E}=S;E&&this.selection.commit()};this.columnIndexMapper.addLocalHook("cacheUpdated",Z),this.rowIndexMapper.addLocalHook("cacheUpdated",Z),this.selection.addLocalHook("afterSetRangeEnd",(S,E)=>{let R=to(!1),G=this.selection.getSelectedRange(),{from:$,to:X}=G.current(),ge=G.size()-1;this.runHooks("afterSelection",$.row,$.col,X.row,X.col,R,ge),this.runHooks("afterSelectionByProp",$.row,o.colToProp($.col),X.row,o.colToProp(X.col),R,ge),E&&(!R.isTouched()||R.isTouched()&&!R.value)&&f.scrollTo(S);let _e=k.isSelectedByRowHeader(),Ve=k.isSelectedByColumnHeader();_e&&Ve?ne(this.rootElement,["ht__selection--rows","ht__selection--columns"]):_e?(tt(this.rootElement,"ht__selection--columns"),ne(this.rootElement,"ht__selection--rows")):Ve?(tt(this.rootElement,"ht__selection--rows"),ne(this.rootElement,"ht__selection--columns")):tt(this.rootElement,["ht__selection--rows","ht__selection--columns"]),k.getSelectionSource()!=="shift"&&d.closeEditor(null),o.view.render(),d.prepareEditor()}),this.selection.addLocalHook("beforeSetFocus",S=>{this.runHooks("beforeSelectionFocusSet",S.row,S.col)}),this.selection.addLocalHook("afterSetFocus",S=>{let E=to(!1);this.runHooks("afterSelectionFocusSet",S.row,S.col,E),(!E.isTouched()||E.isTouched()&&!E.value)&&f.scrollTo(S),d.closeEditor(),o.view.render(),d.prepareEditor()}),this.selection.addLocalHook("afterSelectionFinished",S=>{let E=S.length-1,{from:R,to:G}=S[E];this.runHooks("afterSelectionEnd",R.row,R.col,G.row,G.col,E),this.runHooks("afterSelectionEndByProp",R.row,o.colToProp(R.col),G.row,o.colToProp(G.col),E)}),this.selection.addLocalHook("afterIsMultipleSelection",S=>{let E=this.runHooks("afterIsMultipleSelection",S.value);S.value&&(S.value=E)}),this.selection.addLocalHook("afterDeselect",()=>{d.closeEditor(),o.view.render(),tt(this.rootElement,["ht__selection--rows","ht__selection--columns"]),this.runHooks("afterDeselect")}),this.selection.addLocalHook("beforeHighlightSet",()=>this.runHooks("beforeSelectionHighlightSet")).addLocalHook("beforeSetRangeStart",function(){for(var S=arguments.length,E=new Array(S),R=0;R<S;R++)E[R]=arguments[R];return n.runHooks("beforeSetRangeStart",...E)}).addLocalHook("beforeSetRangeStartOnly",function(){for(var S=arguments.length,E=new Array(S),R=0;R<S;R++)E[R]=arguments[R];return n.runHooks("beforeSetRangeStartOnly",...E)}).addLocalHook("beforeSetRangeEnd",function(){for(var S=arguments.length,E=new Array(S),R=0;R<S;R++)E[R]=arguments[R];return n.runHooks("beforeSetRangeEnd",...E)}).addLocalHook("beforeSelectColumns",function(){for(var S=arguments.length,E=new Array(S),R=0;R<S;R++)E[R]=arguments[R];return n.runHooks("beforeSelectColumns",...E)}).addLocalHook("afterSelectColumns",function(){for(var S=arguments.length,E=new Array(S),R=0;R<S;R++)E[R]=arguments[R];return n.runHooks("afterSelectColumns",...E)}).addLocalHook("beforeSelectRows",function(){for(var S=arguments.length,E=new Array(S),R=0;R<S;R++)E[R]=arguments[R];return n.runHooks("beforeSelectRows",...E)}).addLocalHook("afterSelectRows",function(){for(var S=arguments.length,E=new Array(S),R=0;R<S;R++)E[R]=arguments[R];return n.runHooks("afterSelectRows",...E)}).addLocalHook("beforeModifyTransformStart",function(){for(var S=arguments.length,E=new Array(S),R=0;R<S;R++)E[R]=arguments[R];return n.runHooks("modifyTransformStart",...E)}).addLocalHook("afterModifyTransformStart",function(){for(var S=arguments.length,E=new Array(S),R=0;R<S;R++)E[R]=arguments[R];return n.runHooks("afterModifyTransformStart",...E)}).addLocalHook("beforeModifyTransformFocus",function(){for(var S=arguments.length,E=new Array(S),R=0;R<S;R++)E[R]=arguments[R];return n.runHooks("modifyTransformFocus",...E)}).addLocalHook("afterModifyTransformFocus",function(){for(var S=arguments.length,E=new Array(S),R=0;R<S;R++)E[R]=arguments[R];return n.runHooks("afterModifyTransformFocus",...E)}).addLocalHook("beforeModifyTransformEnd",function(){for(var S=arguments.length,E=new Array(S),R=0;R<S;R++)E[R]=arguments[R];return n.runHooks("modifyTransformEnd",...E)}).addLocalHook("afterModifyTransformEnd",function(){for(var S=arguments.length,E=new Array(S),R=0;R<S;R++)E[R]=arguments[R];return n.runHooks("afterModifyTransformEnd",...E)}).addLocalHook("beforeRowWrap",function(){for(var S=arguments.length,E=new Array(S),R=0;R<S;R++)E[R]=arguments[R];return n.runHooks("beforeRowWrap",...E)}).addLocalHook("beforeColumnWrap",function(){for(var S=arguments.length,E=new Array(S),R=0;R<S;R++)E[R]=arguments[R];return n.runHooks("beforeColumnWrap",...E)}).addLocalHook("insertRowRequire",S=>this.alter("insert_row_above",S,1,"auto")).addLocalHook("insertColRequire",S=>this.alter("insert_col_start",S,1,"auto")),c={alter(S,E){var R,G;let $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,X=arguments.length>3?arguments[3]:void 0,ge=arguments.length>4?arguments[4]:void 0,_e=Ve=>{if(Ve.length===0)return[];let $e=[...Ve];return $e.sort((se,Yt)=>{let[_t]=se,[Kt]=Yt;return _t===Kt?0:_t>Kt?1:-1}),Mi($e,(se,Yt)=>{let[_t,Kt]=Yt,Vt=se[se.length-1],[Mt,D]=Vt,A=Mt+D;if(_t<=A){let B=Math.max(Kt-(A-_t),0);Vt[1]+=B}else se.push([_t,Kt]);return se},[$e[0]])};switch(S){case"insert_row_below":case"insert_row_above":let Ve=o.countSourceRows();if(y.maxRows===Ve)return;let $e=S==="insert_row_below"?"below":"above";E=(R=E)!==null&&R!==void 0?R:$e==="below"?Ve:0;let{delta:ye,startPhysicalIndex:se}=a.createRow(E,$,{source:X,mode:$e});k.shiftRows(o.toVisualRow(se),ye);break;case"insert_col_start":case"insert_col_end":let Yt=S==="insert_col_end"?"end":"start";E=(G=E)!==null&&G!==void 0?G:Yt==="end"?o.countSourceCols():0;let{delta:_t,startPhysicalIndex:Kt}=a.createCol(E,$,{source:X,mode:Yt});if(_t){if(Array.isArray(y.colHeaders)){let D=[o.toVisualColumn(Kt),0];D.length+=_t,Array.prototype.splice.apply(y.colHeaders,D)}k.shiftColumns(o.toVisualColumn(Kt),_t)}break;case"remove_row":let Vt=D=>{let A=0;M(D,B=>{let[K,U]=B,J=Ri(K)?o.countRows()-1:Math.max(K-A,0);if(Number.isInteger(K)&&(K=Math.max(K-A,0)),!a.removeRow(K,U,X))return;if(k.isSelected()){let{row:W}=o.getSelectedRangeLast().highlight;W>=K&&W<=K+U-1&&d.closeEditor(!0)}let q=o.countRows();q===0?k.deselect():X==="ContextMenu.removeRow"?k.refresh():k.shiftRows(K,-U);let H=y.fixedRowsTop;H>=J+1&&(y.fixedRowsTop-=Math.min(U,H-J));let N=y.fixedRowsBottom;N&&J>=q-N&&(y.fixedRowsBottom-=Math.min(U,N)),A+=U})};Array.isArray(E)?Vt(_e(E)):Vt([[E,$]]);break;case"remove_col":let Mt=D=>{let A=0;M(D,B=>{let[K,U]=B,J=Ri(K)?o.countCols()-1:Math.max(K-A,0),z=o.toPhysicalColumn(J);if(Number.isInteger(K)&&(K=Math.max(K-A,0)),!a.removeCol(K,U,X))return;if(k.isSelected()){let{col:W}=o.getSelectedRangeLast().highlight;W>=K&&W<=K+U-1&&d.closeEditor(!0)}o.countCols()===0?k.deselect():X==="ContextMenu.removeColumn"?k.refresh():k.shiftColumns(K,-U);let N=y.fixedColumnsStart;N>=J+1&&(y.fixedColumnsStart-=Math.min(U,N-J)),Array.isArray(y.colHeaders)&&(typeof z>"u"&&(z=-1),y.colHeaders.splice(z,U)),A+=U})};Array.isArray(E)?Mt(_e(E)):Mt([[E,$]]);break;default:throw new Error(`There is no such action "${S}"`)}o.view.render(),ge||c.adjustRowsAndCols()},adjustRowsAndCols(){let S=y.minRows,E=y.minSpareRows,R=y.minCols,G=y.minSpareCols;if(S){let $=o.countRows();$<S&&a.createRow($,S-$,{source:"auto"})}if(E){let $=o.countEmptyRows(!0);if($<E){let X=E-$,ge=Math.min(X,y.maxRows-o.countSourceRows());a.createRow(o.countRows(),ge,{source:"auto"})}}{let $;(R||G)&&($=o.countEmptyCols(!0));let X=o.countCols();if(R&&!y.columns&&X<R){let ge=R-X;$+=ge,a.createCol(X,ge,{source:"auto"})}if(G&&!y.columns&&o.dataType==="array"&&$<G){X=o.countCols();let ge=G-$,_e=Math.min(ge,y.maxCols-X);a.createCol(X,_e,{source:"auto"})}}o.view&&o.view.adjustElementsSize()},populateFromArray(S,E,R,G,$){let X,ge,_e,Ve,$e=[],ye={},se=[],Yt=S.row,_t=S.col;if(ge=E.length,ge===0)return!1;let Kt=0,Vt=0;switch(it(R)&&(Kt=R.col-_t+1,Vt=R.row-Yt+1),$){case"shift_down":let Mt=Kp(E),D=Mt.length,A=Math.max(D,Kt),B=o.getData().slice(Yt),K=Kp(B).slice(_t,_t+A);for(_e=0;_e<A;_e+=1)if(_e<D){for(X=0,ge=Mt[_e].length;X<Vt-ge;X+=1)Mt[_e].push(Mt[_e][X%ge]);_e<K.length?se.push(Mt[_e].concat(K[_e])):se.push(Mt[_e].concat(new Array(B.length).fill(null)))}else se.push(Mt[_e%D].concat(K[_e]));o.populateFromArray(Yt,_t,Kp(se));break;case"shift_right":let U=E.length,J=Math.max(U,Vt),z=o.getData().slice(Yt).map(gt=>gt.slice(_t));for(X=0;X<J;X+=1)if(X<U){for(_e=0,Ve=E[X].length;_e<Kt-Ve;_e+=1)E[X].push(E[X][_e%Ve]);if(X<z.length)for(let gt=0;gt<z[X].length;gt+=1)E[X].push(z[X][gt]);else E[X].push(...new Array(z[0].length).fill(null))}else E.push(E[X%ge].slice(0,J).concat(z[X]));o.populateFromArray(Yt,_t,E);break;case"overwrite":default:ye.row=S.row,ye.col=S.col;let q=0,H=0,N=!0,W,fe=function(kt){let Xt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,At=E[kt%E.length];return Xt!==null?At[Xt%At.length]:At},De=E.length,Ye=R?R.row-S.row+1:0;for(R?ge=Ye:ge=Math.max(De,Ye),X=0;X<ge&&!(R&&ye.row>R.row&&Ye>De||!y.allowInsertRow&&ye.row>o.countRows()-1||ye.row>=y.maxRows);X++){let gt=X-q,kt=fe(gt).length,Xt=R?R.col-S.col+1:0;if(R?Ve=Xt:Ve=Math.max(kt,Xt),ye.col=S.col,W=o.getCellMeta(ye.row,ye.col),(G==="CopyPaste.paste"||G==="Autofill.fill")&&W.skipRowOnPaste){q+=1,ye.row+=1,ge+=1;continue}for(H=0,_e=0;_e<Ve&&!(R&&ye.col>R.col&&Xt>kt||!y.allowInsertColumn&&ye.col>o.countCols()-1||ye.col>=y.maxCols);_e++){if(W=o.getCellMeta(ye.row,ye.col),(G==="CopyPaste.paste"||G==="Autofill.fill")&&W.skipColumnOnPaste){H+=1,ye.col+=1,Ve+=1;continue}if(W.readOnly&&G!=="UndoRedo.undo"){ye.col+=1;continue}let At=_e-H,Wt=fe(gt,At),gi=o.getDataAtCell(ye.row,ye.col);if(Wt!==null&&typeof Wt=="object")if(Array.isArray(Wt)&&gi===null&&(gi=[]),gi===null||typeof gi!="object")N=!1;else{let va=of(Array.isArray(gi)?gi:gi[0]||gi),kr=of(Array.isArray(Wt)?Wt:Wt[0]||Wt);rg(va,kr)||Array.isArray(va)&&Array.isArray(kr)?Wt=Fn(Wt):N=!1}else gi!==null&&typeof gi=="object"&&(N=!1);N&&$e.push([ye.row,ye.col,Wt]),N=!0,ye.col+=1}ye.row+=1}o.setDataAtCell($e,null,null,G||"populateFromArray");break}}};function ae(S){let E=$I(S);KI(E)?(o.runHooks("beforeLanguageChange",E),x.language=E,o.runHooks("afterLanguageChange",E)):qI(S)}function re(S,E){let R=S==="className"?o.rootElement:o.table;if(m)ne(R,E);else{let G=[],$=[];x[S]&&(G=Array.isArray(x[S])?x[S]:VN(x[S])),E&&($=Array.isArray(E)?E:VN(E));let X=HN(G,$),ge=HN($,G);X.length&&tt(R,X),ge.length&&ne(R,ge)}x[S]=E}this.init=function(){l.setData(y.data),o.runHooks("beforeInit"),(fs()||LT())&&ne(o.rootElement,"mobile"),this.updateSettings(y,!0),this.view=new s7(this),d=F6.getInstance(o,y,k),f=sZ(o),u=new qT(o),Rg(this)&&ZQ(o),o.runHooks("init"),this.forceFullRender=!0,this.view.render(),m&&o.rootElement.offsetParent===null&&$X(o.rootElement,()=>{o.view._wt.wtOverlays.updateLastSpreaderSize(),o.render(),o.view.adjustElementsSize()}),typeof m=="object"&&(o.runHooks("afterChange",m[0],m[1]),m=!1),o.runHooks("afterInit")};function ve(){let S=!1;return{validatorsInQueue:0,valid:!0,addValidatorToQueue(){this.validatorsInQueue+=1,S=!1},removeValidatorFormQueue(){this.validatorsInQueue=this.validatorsInQueue-1<0?0:this.validatorsInQueue-1,this.checkIfQueueIsEmpty()},onQueueEmpty(){},checkIfQueueIsEmpty(){this.validatorsInQueue===0&&S===!1&&(S=!0,this.onQueueEmpty(this.valid))}}}function Pe(S){let E=S.replace(",",".");return isNaN(parseFloat(E))===!1?parseFloat(E):S}function Ne(S,E,R){if(!S.length)return;let G=o.getActiveEditor(),$=new ve,X=!0;$.onQueueEmpty=ge=>{G&&X&&G.cancelChanges(),R(ge)};for(let ge=S.length-1;ge>=0;ge--){let[_e,Ve,,$e]=S[ge],ye=a.propToCol(Ve),se;Number.isInteger(ye)?se=o.getCellMeta(_e,ye):se=ee(ee({},Object.getPrototypeOf(y)),y),se.type==="numeric"&&typeof $e=="string"&&e9($e)&&(S[ge][3]=Pe($e)),o.getCellValidator(se)&&($.addValidatorToQueue(),o.validateCell(S[ge][3],se,function(Yt,_t){return function(Kt){if(typeof Kt!="boolean")throw new Error("Validation error: result is not boolean");if(Kt===!1&&_t.allowInvalid===!1){X=!1,S.splice(Yt,1),_t.valid=!0;let Vt=o.getCell(_t.visualRow,_t.visualCol);Vt!==null&&tt(Vt,y.invalidCellClassName)}$.removeValidatorFormQueue()}}(ge,se),E))}$.checkIfQueueIsEmpty()}function Oe(S,E){let R=S.length-1;if(R<0)return;for(;R>=0;R--){let $=!1;if(S[R]===null){S.splice(R,1);continue}if(!((S[R][2]===null||S[R][2]===void 0)&&(S[R][3]===null||S[R][3]===void 0))){if(y.allowInsertRow)for(;S[R][0]>o.countRows()-1;){let{delta:X}=a.createRow(void 0,void 0,{source:E});if(X===0){$=!0;break}}if(o.dataType==="array"&&(!y.columns||y.columns.length===0)&&y.allowInsertColumn)for(;a.propToCol(S[R][1])>o.countCols()-1;){let{delta:X}=a.createCol(void 0,void 0,{source:E});if(X===0){$=!0;break}}$||a.set(S[R][0],S[R][1],S[R][3])}}o.forceFullRender=!0,c.adjustRowsAndCols(),o.runHooks("beforeChangeRender",S,E),d.closeEditor(),o.view.render(),d.prepareEditor(),o.view.adjustElementsSize(),o.runHooks("afterChange",S,E||"edit");let G=o.getActiveEditor();G&&xe(G.refreshValue)&&G.refreshValue()}this._createCellCoords=function(S,E){return o.view._wt.createCellCoords(S,E)},this._createCellRange=function(S,E,R){return o.view._wt.createCellRange(S,E,R)},this.validateCell=function(S,E,R,G){let $=o.getCellValidator(E);function X(ge){if(!(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)||E.hidden===!0){R(ge);return}let Ve=E.visualCol,$e=E.visualRow,ye=o.getCell($e,Ve,!0);if(ye&&ye.nodeName!=="TH"){let se=o.rowIndexMapper.getRenderableFromVisualIndex($e),Yt=o.columnIndexMapper.getRenderableFromVisualIndex(Ve);o.view._wt.getSetting("cellRenderer",se,Yt,ye)}R(ge)}uX($)&&($=function(ge){return function(_e,Ve){Ve(ge.test(_e))}}($)),ti($)?(S=o.runHooks("beforeValidate",S,E.visualRow,E.prop,G),o._registerImmediate(()=>{$.call(E,S,ge=>{o&&(ge=o.runHooks("afterValidate",ge,S,E.visualRow,E.prop,G),E.valid=ge,X(ge),o.runHooks("postAfterValidate",ge,S,E.visualRow,E.prop,G))})})):o._registerImmediate(()=>{E.valid=!0,X(E.valid,!1)})};function je(S,E,R){return Array.isArray(S)?S:[[S,E,R]]}function Ue(S,E){let R=o.getActiveEditor(),G=o.runHooks("beforeChange",S,E||"edit"),$=S.filter(X=>X!==null);return G===!1||$.length===0?(R&&R.cancelChanges(),[]):$}this.setDataAtCell=function(S,E,R,G){let $=je(S,E,R),X=[],ge=G,_e,Ve,$e;for(_e=0,Ve=$.length;_e<Ve;_e++){if(typeof $[_e]!="object")throw new Error("Method `setDataAtCell` accepts row number or changes array of arrays as its first parameter");if(typeof $[_e][1]!="number")throw new Error("Method `setDataAtCell` accepts row and column number as its parameters. If you want to use object property name, use method `setDataAtRowProp`");$[_e][1]>=this.countCols()?$e=$[_e][1]:$e=a.colToProp($[_e][1]),X.push([$[_e][0],$e,l.getAtCell(this.toPhysicalRow($[_e][0]),$[_e][1]),$[_e][2]])}!ge&&typeof S=="object"&&(ge=E);let ye=Ue(X,G);o.runHooks("afterSetDataAtCell",ye,ge),Ne(ye,ge,()=>{Oe(ye,ge)})},this.setDataAtRowProp=function(S,E,R,G){let $=je(S,E,R),X=[],ge=G,_e,Ve;for(_e=0,Ve=$.length;_e<Ve;_e++)X.push([$[_e][0],$[_e][1],l.getAtCell(this.toPhysicalRow($[_e][0]),$[_e][1]),$[_e][2]]);!ge&&typeof S=="object"&&(ge=E);let $e=Ue(X,G);o.runHooks("afterSetDataAtRowProp",$e,ge),Ne($e,ge,()=>{Oe($e,ge)})},this.listen=function(){o&&!o.isListening()&&(VF.forEach(S=>{o!==S&&S.unlisten()}),HF=o.guid,o.runHooks("afterListen"))},this.unlisten=function(){this.isListening()&&(HF=null,o.runHooks("afterUnlisten"))},this.isListening=function(){return HF===o.guid},this.destroyEditor=function(){let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;d.closeEditor(S),o.view.render(),E&&k.isSelected()&&d.prepareEditor()},this.populateFromArray=function(S,E,R,G,$,X,ge){if(!(typeof R=="object"&&typeof R[0]=="object"))throw new Error("populateFromArray parameter `input` must be an array of arrays");let _e=typeof G=="number"?o._createCellCoords(G,$):null;return c.populateFromArray(o._createCellCoords(S,E),R,_e,X,ge)},this.spliceCol=function(S,E,R){for(var G=arguments.length,$=new Array(G>3?G-3:0),X=3;X<G;X++)$[X-3]=arguments[X];return a.spliceCol(S,E,R,...$)},this.spliceRow=function(S,E,R){for(var G=arguments.length,$=new Array(G>3?G-3:0),X=3;X<G;X++)$[X-3]=arguments[X];return a.spliceRow(S,E,R,...$)},this.getSelected=function(){if(k.isSelected())return ct(k.getSelectedRange(),S=>{let{from:E,to:R}=S;return[E.row,E.col,R.row,R.col]})},this.getSelectedLast=function(){let S=this.getSelected(),E;return S&&S.length>0&&(E=S[S.length-1]),E},this.getSelectedRange=function(){if(k.isSelected())return Array.from(k.getSelectedRange())},this.getSelectedRangeLast=function(){let S=this.getSelectedRange(),E;return S&&S.length>0&&(E=S[S.length-1]),E},this.emptySelectedCells=function(S){if(!k.isSelected()||this.countRows()===0||this.countCols()===0)return;let E=[];M(k.getSelectedRange(),R=>{if(R.isSingleHeader())return;let G=R.getTopStartCorner(),$=R.getBottomEndCorner();Se(G.row,$.row,X=>{Se(G.col,$.col,ge=>{this.getCellMeta(X,ge).readOnly||E.push([X,ge,null])})})}),E.length>0&&this.setDataAtCell(E,S)},this.isRenderSuspended=function(){return this.renderSuspendedCounter>0},this.suspendRender=function(){this.renderSuspendedCounter+=1},this.resumeRender=function(){let S=this.renderSuspendedCounter-1;this.renderSuspendedCounter=Math.max(S,0),!this.isRenderSuspended()&&S===this.renderSuspendedCounter&&(this.renderCall?this.render():o.view.render())},this.render=function(){this.view&&(this.renderCall=!0,this.forceFullRender=!0,this.isRenderSuspended()||o.view.render())},this.batchRender=function(S){this.suspendRender();let E=S();return this.resumeRender(),E},this.isExecutionSuspended=function(){return this.executionSuspendedCounter>0},this.suspendExecution=function(){this.executionSuspendedCounter+=1,this.columnIndexMapper.suspendOperations(),this.rowIndexMapper.suspendOperations()},this.resumeExecution=function(){let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,E=this.executionSuspendedCounter-1;this.executionSuspendedCounter=Math.max(E,0),(!this.isExecutionSuspended()&&E===this.executionSuspendedCounter||S)&&(this.columnIndexMapper.resumeOperations(),this.rowIndexMapper.resumeOperations())},this.batchExecution=function(S){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this.suspendExecution();let R=S();return this.resumeExecution(E),R},this.batch=function(S){this.suspendRender(),this.suspendExecution();let E=S();return this.resumeExecution(),this.resumeRender(),E},this.refreshDimensions=function(){if(!o.view)return;let{width:S,height:E}=o.view.getLastSize(),{width:R,height:G}=o.rootElement.getBoundingClientRect(),$=R!==S||G!==E;o.runHooks("beforeRefreshDimensions",{width:S,height:E},{width:R,height:G},$)!==!1&&(($||o.view._wt.wtOverlays.scrollableElement===o.rootWindow)&&(o.view.setLastSize(R,G),o.render()),o.runHooks("afterRefreshDimensions",{width:S,height:E},{width:R,height:G},$))},this.updateData=function(S,E){lD(S,R=>{a=R},R=>{a=R,o.columnIndexMapper.fitToLength(this.getInitialColumnCount()),o.rowIndexMapper.fitToLength(this.countSourceRows()),c.adjustRowsAndCols(),k.refresh()},{hotInstance:o,dataMap:a,dataSource:l,internalSource:"updateData",source:E,metaManager:b,firstRun:m})},this.loadData=function(S,E){lD(S,R=>{a=R},()=>{b.clearCellsCache(),o.initIndexMappers(),c.adjustRowsAndCols(),k.refresh(),m&&(m=[null,"loadData"])},{hotInstance:o,dataMap:a,dataSource:l,internalSource:"loadData",source:E,metaManager:b,firstRun:m})},this.getInitialColumnCount=function(){let S=y.columns,E=0;if(Array.isArray(S))E=S.length;else if(ti(S))if(o.dataType==="array"){let R=this.countSourceCols();for(let G=0;G<R;G+=1)S(G)&&(E+=1)}else(o.dataType==="object"||o.dataType==="function")&&(E=a.colToPropCache.length);else if(xe(y.dataSchema)){let R=a.getSchema();E=Array.isArray(R)?R.length:og(R)}else E=this.countSourceCols();return E},this.initIndexMappers=function(){this.columnIndexMapper.initToLength(this.getInitialColumnCount()),this.rowIndexMapper.initToLength(this.countSourceRows())},this.getData=function(S,E,R,G){return Gt(S)?a.getAll():a.getRange(o._createCellCoords(S,E),o._createCellCoords(R,G),a.DESTINATION_RENDERER)},this.getCopyableText=function(S,E,R,G){return a.getCopyableText(o._createCellCoords(S,E),o._createCellCoords(R,G))},this.getCopyableData=function(S,E){return a.getCopyable(S,a.colToProp(E))},this.getSchema=function(){return a.getSchema()},this.updateSettings=function(S){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,R=(m?o.loadData:o.updateData).bind(this),G=!1,$,X;if(xe(S.rows))throw new Error('The "rows" setting is no longer supported. Do you mean startRows, minRows or maxRows?');if(xe(S.cols))throw new Error('The "cols" setting is no longer supported. Do you mean startCols, minCols or maxCols?');if(xe(S.ganttChart))throw new Error('Since 8.0.0 the "ganttChart" setting is no longer supported.');for($ in S)$==="data"||($==="language"?ae(S.language):$==="className"?re("className",S.className):$==="tableClassName"&&o.table?(re("tableClassName",S.tableClassName),o.view._wt.wtOverlays.syncOverlayTableClassNames()):Ee.getSingleton().isRegistered($)||Ee.getSingleton().isDeprecated($)?(ti(S[$])||Array.isArray(S[$]))&&(S[$].initialHook=!0,o.addHook($,S[$])):!E&&Ci(S,$)&&(x[$]=S[$]));S.data===void 0&&y.data===void 0?R(null,"updateSettings"):S.data!==void 0?R(S.data,"updateSettings"):S.columns!==void 0&&(a.createMap(),o.initIndexMappers());let ge=o.countCols(),_e=y.columns;if(_e&&ti(_e)&&(G=!0),(S.cell!==void 0||S.cells!==void 0||S.columns!==void 0)&&b.clearCache(),ge>0)for($=0,X=0;$<ge;$++){if(_e){let ye=G?_e($):_e[X];ye&&b.updateColumnMeta(X,ye)}X+=1}xe(S.cell)&&nt(S.cell,ye=>{o.setCellMetaObject(ye.row,ye.col,ye)}),o.runHooks("afterCellMetaReset");let Ve=o.rootElement.style.height;Ve!==""&&(Ve=parseInt(o.rootElement.style.height,10));let $e=S.height;if(ti($e)&&($e=$e()),E&&o.rootElement.getAttribute("style")&&o.rootElement.setAttribute("data-initialstyle",o.rootElement.getAttribute("style")),$e===null){let ye=o.rootElement.getAttribute("data-initialstyle");ye&&(ye.indexOf("height")>-1||ye.indexOf("overflow")>-1)?o.rootElement.setAttribute("style",ye):(o.rootElement.style.height="",o.rootElement.style.overflow="")}else $e!==void 0&&(o.rootElement.style.height=isNaN($e)?`${$e}`:`${$e}px`,o.rootElement.style.overflow="hidden");if(typeof S.width<"u"){let ye=S.width;ti(ye)&&(ye=ye()),o.rootElement.style.width=isNaN(ye)?`${ye}`:`${ye}px`}E||(o.view&&(o.view._wt.wtViewport.resetHasOversizedColumnHeadersMarked(),o.view._wt.exportSettingsAsClassNames()),o.runHooks("afterUpdateSettings",S)),c.adjustRowsAndCols(),o.view&&!m&&(o.forceFullRender=!0,o.view.render(),o.view._wt.wtOverlays.adjustElementsSize()),!E&&o.view&&(Ve===""||$e===""||$e===void 0)&&Ve!==$e&&o.view._wt.wtOverlays.updateMainScrollableElements()},this.getValue=function(){let S=o.getSelectedLast();if(y.getValue){if(ti(y.getValue))return y.getValue.call(o);if(S)return o.getData()[S[0][0]][y.getValue]}else if(S)return o.getDataAtCell(S[0],S[1])},this.getSettings=function(){return y},this.clear=function(){this.selectAll(),this.emptySelectedCells()},this.alter=function(S,E,R,G,$){c.alter(S,E,R,G,$)},this.getCell=function(S,E){let R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,G=E,$=S;if(E>=0){if(this.columnIndexMapper.isHidden(this.toPhysicalColumn(E)))return null;G=this.columnIndexMapper.getRenderableFromVisualIndex(E)}if(S>=0){if(this.rowIndexMapper.isHidden(this.toPhysicalRow(S)))return null;$=this.rowIndexMapper.getRenderableFromVisualIndex(S)}return $===null||G===null||$===void 0||G===void 0?null:o.view.getCellAtCoords(o._createCellCoords($,G),R)},this.getCoords=function(S){let E=this.view._wt.wtTable.getCoords(S);if(E===null)return null;let{row:R,col:G}=E,$=R,X=G;return R>=0&&($=this.rowIndexMapper.getVisualFromRenderableIndex(R)),G>=0&&(X=this.columnIndexMapper.getVisualFromRenderableIndex(G)),o._createCellCoords($,X)},this.colToProp=function(S){return a.colToProp(S)},this.propToCol=function(S){return a.propToCol(S)},this.toVisualRow=S=>this.rowIndexMapper.getVisualFromPhysicalIndex(S),this.toVisualColumn=S=>this.columnIndexMapper.getVisualFromPhysicalIndex(S),this.toPhysicalRow=S=>this.rowIndexMapper.getPhysicalFromVisualIndex(S),this.toPhysicalColumn=S=>this.columnIndexMapper.getPhysicalFromVisualIndex(S),this.getDataAtCell=function(S,E){return a.get(S,a.colToProp(E))},this.getDataAtRowProp=function(S,E){return a.get(S,E)},this.getDataAtCol=function(S){let E=[],R=a.getRange(o._createCellCoords(0,S),o._createCellCoords(y.data.length-1,S),a.DESTINATION_RENDERER);for(let G=0;G<R.length;G+=1)for(let $=0;$<R[G].length;$+=1)E.push(R[G][$]);return E},this.getDataAtProp=function(S){let E=[],R=a.getRange(o._createCellCoords(0,a.propToCol(S)),o._createCellCoords(y.data.length-1,a.propToCol(S)),a.DESTINATION_RENDERER);for(let G=0;G<R.length;G+=1)for(let $=0;$<R[G].length;$+=1)E.push(R[G][$]);return E},this.getSourceData=function(S,E,R,G){let $;return S===void 0?$=l.getData():$=l.getByRange(o._createCellCoords(S,E),o._createCellCoords(R,G)),$},this.getSourceDataArray=function(S,E,R,G){let $;return S===void 0?$=l.getData(!0):$=l.getByRange(o._createCellCoords(S,E),o._createCellCoords(R,G),!0),$},this.getSourceDataAtCol=function(S){return l.getAtColumn(S)},this.setSourceDataAtCell=function(S,E,R,G){let $=je(S,E,R),X=this.hasHook("afterSetSourceDataAtCell"),ge=[];X&&M($,Ve=>{let[$e,ye,se]=Ve;ge.push([$e,ye,l.getAtCell($e,ye),se])}),M($,Ve=>{let[$e,ye,se]=Ve;l.setAtCell($e,ye,se)}),X&&this.runHooks("afterSetSourceDataAtCell",ge,G),this.render();let _e=o.getActiveEditor();_e&&xe(_e.refreshValue)&&_e.refreshValue()},this.getSourceDataAtRow=function(S){return l.getAtRow(S)},this.getSourceDataAtCell=function(S,E){return l.getAtCell(S,E)},this.getDataAtRow=function(S){return a.getRange(o._createCellCoords(S,0),o._createCellCoords(S,this.countCols()-1),a.DESTINATION_RENDERER)[0]||[]},this.getDataType=function(S,E,R,G){let $=S===void 0?[0,0,this.countRows(),this.countCols()]:[S,E,R,G],[X,ge]=$,[,,_e,Ve]=$,$e=null,ye=null;_e===void 0&&(_e=X),Ve===void 0&&(Ve=ge);let se="mixed";return Se(Math.max(Math.min(X,_e),0),Math.max(X,_e),Yt=>{let _t=!0;return Se(Math.max(Math.min(ge,Ve),0),Math.max(ge,Ve),Kt=>(ye=this.getCellMeta(Yt,Kt).type,$e?_t=$e===ye:$e=ye,_t)),se=_t?ye:"mixed",_t}),se},this.removeCellMeta=function(S,E,R){let[G,$]=[this.toPhysicalRow(S),this.toPhysicalColumn(E)],X=b.getCellMetaKeyValue(G,$,R);o.runHooks("beforeRemoveCellMeta",S,E,R,X)!==!1&&(b.removeCellMeta(G,$,R),o.runHooks("afterRemoveCellMeta",S,E,R,X)),X=null},this.spliceCellsMeta=function(S){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;for(var R=arguments.length,G=new Array(R>2?R-2:0),$=2;$<R;$++)G[$-2]=arguments[$];if(G.length>0&&!Array.isArray(G[0]))throw new Error("The 3rd argument (cellMetaRows) has to be passed as an array of cell meta objects array.");E>0&&b.removeRow(this.toPhysicalRow(S),E),G.length>0&&M(G.reverse(),X=>{b.createRow(this.toPhysicalRow(S)),M(X,(ge,_e)=>this.setCellMetaObject(S,_e,ge))}),o.render()},this.setCellMetaObject=function(S,E,R){typeof R=="object"&&nt(R,(G,$)=>{this.setCellMeta(S,E,$,G)})},this.setCellMeta=function(S,E,R,G){if(o.runHooks("beforeSetCellMeta",S,E,R,G)===!1)return;let X=S,ge=E;S<this.countRows()&&(X=this.toPhysicalRow(S)),E<this.countCols()&&(ge=this.toPhysicalColumn(E)),b.setCellMeta(X,ge,R,G),o.runHooks("afterSetCellMeta",S,E,R,G)},this.getCellsMeta=function(){return b.getCellsMeta()},this.getCellMeta=function(S,E){let R=this.toPhysicalRow(S),G=this.toPhysicalColumn(E);return R===null&&(R=S),G===null&&(G=E),b.getCellMeta(R,G,{visualRow:S,visualColumn:E})},this.getCellMetaAtRow=function(S){return b.getCellsMetaAtRow(S)},this.isColumnModificationAllowed=function(){return!(o.dataType==="object"||y.columns)},this.getCellRenderer=function(S,E){let R=typeof S=="number"?o.getCellMeta(S,E).renderer:S.renderer;return typeof R=="string"?RL(R):Gt(R)?RL("text"):R},this.getCellEditor=function(S,E){let R=typeof S=="number"?o.getCellMeta(S,E).editor:S.editor;return typeof R=="string"?dL(R):Gt(R)?dL("text"):R},this.getCellValidator=function(S,E){let R=typeof S=="number"?o.getCellMeta(S,E).validator:S.validator;return typeof R=="string"?a9(R):R},this.validateCells=function(S){this._validateCells(S)},this.validateRows=function(S,E){if(!Array.isArray(S))throw new Error("validateRows parameter `rows` must be an array");this._validateCells(E,S)},this.validateColumns=function(S,E){if(!Array.isArray(S))throw new Error("validateColumns parameter `columns` must be an array");this._validateCells(E,void 0,S)},this._validateCells=function(S,E,R){let G=new ve;S&&(G.onQueueEmpty=S);let $=o.countRows()-1;for(;$>=0;){if(E!==void 0&&E.indexOf($)===-1){$-=1;continue}let X=o.countCols()-1;for(;X>=0;){if(R!==void 0&&R.indexOf(X)===-1){X-=1;continue}G.addValidatorToQueue(),o.validateCell(o.getDataAtCell($,X),o.getCellMeta($,X),ge=>{if(typeof ge!="boolean")throw new Error("Validation error: result is not boolean");ge===!1&&(G.valid=!1),G.removeValidatorFormQueue()},"validateCells"),X-=1}$-=1}G.checkIfQueueIsEmpty()},this.getRowHeader=function(S){let E=y.rowHeaders,R=S;return R!==void 0&&(R=o.runHooks("modifyRowHeader",R)),R===void 0?(E=[],Se(o.countRows()-1,G=>{E.push(o.getRowHeader(G))})):Array.isArray(E)&&E[R]!==void 0?E=E[R]:ti(E)?E=E(R):E&&typeof E!="string"&&typeof E!="number"&&(E=R+1),E},this.hasRowHeaders=function(){return!!y.rowHeaders},this.hasColHeaders=function(){if(y.colHeaders!==void 0&&y.colHeaders!==null)return!!y.colHeaders;for(let S=0,E=o.countCols();S<E;S++)if(o.getColHeader(S))return!0;return!1},this.getColHeader=function(S){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,R=o.runHooks("modifyColHeader",S);if(R===void 0){let _e=[],Ve=o.countCols();for(let $e=0;$e<Ve;$e++)_e.push(o.getColHeader($e));return _e}let G=y.colHeaders,$=function(_e){let Ve=[],$e=o.countCols(),ye=0;for(;ye<$e;ye++)ti(y.columns)&&y.columns(ye)&&Ve.push(ye);return Ve[_e]},X=o.toPhysicalColumn(R),ge=$(X);return y.colHeaders===!1?G=null:y.columns&&ti(y.columns)&&y.columns(ge)&&y.columns(ge).title?G=y.columns(ge).title:y.columns&&y.columns[X]&&y.columns[X].title?G=y.columns[X].title:Array.isArray(y.colHeaders)&&y.colHeaders[X]!==void 0?G=y.colHeaders[X]:ti(y.colHeaders)?G=y.colHeaders(X):y.colHeaders&&typeof y.colHeaders!="string"&&typeof y.colHeaders!="number"&&(G=l7(R)),G=o.runHooks("modifyColumnHeaderValue",G,S,E),G},this._getColWidthFromSettings=function(S){let E;if(S>=0&&(E=o.getCellMeta(0,S).width),(E===void 0||E===y.width)&&(E=y.colWidths),E!=null){switch(typeof E){case"object":E=E[S];break;case"function":E=E(S);break;default:break}typeof E=="string"&&(E=parseInt(E,10))}return E},this.getColWidth=function(S){let E=o._getColWidthFromSettings(S);return E=o.runHooks("modifyColWidth",E,S),E===void 0&&(E=Il.DEFAULT_WIDTH),E},this._getRowHeightFromSettings=function(S){let E=y.rowHeights;if(E!=null){switch(typeof E){case"object":E=E[S];break;case"function":E=E(S);break;default:break}typeof E=="string"&&(E=parseInt(E,10))}return E},this.getRowHeight=function(S){let E=o._getRowHeightFromSettings(S);return E=o.runHooks("modifyRowHeight",E,S),E},this.countSourceRows=function(){return l.countRows()},this.countSourceCols=function(){return l.countFirstRowKeys()},this.countRows=function(){return a.getLength()},this.countCols=function(){let S=y.maxCols,E=this.columnIndexMapper.getNotTrimmedIndexesLength();return Math.min(S,E)},this.countRenderedRows=function(){return o.view._wt.drawn?o.view._wt.wtTable.getRenderedRowsCount():-1},this.countVisibleRows=function(){return o.view._wt.drawn?o.view._wt.wtTable.getVisibleRowsCount():-1},this.countRenderedCols=function(){return o.view._wt.drawn?o.view._wt.wtTable.getRenderedColumnsCount():-1},this.countVisibleCols=function(){return o.view._wt.drawn?o.view._wt.wtTable.getVisibleColumnsCount():-1},this.countRowHeaders=function(){return this.view.getRowHeadersCount()},this.countColHeaders=function(){return this.view.getColumnHeadersCount()},this.countEmptyRows=function(){let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,E=0;return Ry(o.countRows()-1,R=>{if(o.isEmptyRow(R))E+=1;else if(S===!0)return!1}),E},this.countEmptyCols=function(){let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,E=0;return Ry(o.countCols()-1,R=>{if(o.isEmptyCol(R))E+=1;else if(S===!0)return!1}),E},this.isEmptyRow=function(S){return y.isEmptyRow.call(o,S)},this.isEmptyCol=function(S){return y.isEmptyCol.call(o,S)},this.selectCell=function(S,E,R,G){let $=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,X=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;return Gt(S)||Gt(E)?!1:this.selectCells([[S,E,R,G]],$,X)},this.selectCells=function(){let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[[]],E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;E===!1&&f.suspend();let G=k.selectCells(S);return G&&R&&o.listen(),f.resume(),G},this.selectColumns=function(S){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:S,R=arguments.length>2?arguments[2]:void 0;return k.selectColumns(S,E,R)},this.selectRows=function(S){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:S,R=arguments.length>2?arguments[2]:void 0;return k.selectRows(S,E,R)},this.deselectCell=function(){k.deselect()},this.selectAll=function(){let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:S,R=arguments.length>2?arguments[2]:void 0;f.skipNextScrollCycle(),k.selectAll(S,E,R)};let he=(S,E)=>S.getNearestNotHiddenIndex(E,1,!0);this.scrollViewportTo=function(S){var E;if(typeof S=="number"){var R;S={row:arguments[0],col:arguments[1],verticalSnap:arguments[2]?"bottom":"top",horizontalSnap:arguments[3]?"end":"start",considerHiddenIndexes:(R=arguments[4])!==null&&R!==void 0?R:!0}}let{row:G,col:$,verticalSnap:X,horizontalSnap:ge,considerHiddenIndexes:_e}=(E=S)!==null&&E!==void 0?E:{},Ve,$e,ye,se;X!==void 0&&(Ve=X==="top",$e=!Ve),ge!==void 0&&(ye=ge==="start",se=!ye);let Yt=G,_t=$;if(_e===void 0||_e){let Mt=Number.isInteger(G)&&G>=0,D=Number.isInteger($)&&$>=0,A=Mt?he(this.rowIndexMapper,G):void 0,B=D?he(this.columnIndexMapper,$):void 0;if(A===null||B===null)return!1;Yt=Mt?o.rowIndexMapper.getRenderableFromVisualIndex(A):G,_t=D?o.columnIndexMapper.getRenderableFromVisualIndex(B):$}let Kt=Number.isInteger(Yt),Vt=Number.isInteger(_t);return Kt&&Yt>=0&&Vt&&_t>=0?o.view.scrollViewport(o._createCellCoords(Yt,_t),Ve,se,$e,ye):Kt&&Yt>=0&&(Vt&&_t<0||!Vt)?o.view.scrollViewportVertically(Yt,Ve,$e):Vt&&_t>=0&&(Kt&&Yt<0||!Kt)?o.view.scrollViewportHorizontally(_t,se,ye):!1},this.scrollToFocusedCell=function(){let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:()=>{};if(!this.selection.isSelected())return;this.addHookOnce("afterScroll",S);let{highlight:E}=this.getSelectedRangeLast();this.scrollViewportTo(E.toObject())?this.view.render():(this.removeHook("afterScroll",S),this._registerImmediate(()=>S()))},this.destroy=function(){if(o._clearTimeouts(),o._clearImmediates(),o.view&&o.view.destroy(),l&&l.destroy(),l=null,this.getShortcutManager().destroy(),b.clearCache(),VF.delete(this.guid),Rg(o)){let S=this.rootDocument.querySelector(".hot-display-license-info");S&&S.parentNode.removeChild(S)}xr(o.rootElement),s.destroy(),d&&d.destroy(),o.batchExecution(()=>{o.rowIndexMapper.unregisterAll(),o.columnIndexMapper.unregisterAll(),T.getItems().forEach(S=>{let[,E]=S;E.destroy()}),T.clear(),o.runHooks("afterDestroy")},!0),Ee.getSingleton().destroy(o),nt(o,(S,E,R)=>{ti(S)?R[E]=de(E):E!=="guid"&&(R[E]=null)}),o.isDestroyed=!0,a&&a.destroy(),a=null,c=null,k=null,d=null,o=null};function de(S){return()=>{throw new Error(`The "${S}" method cannot be called because this Handsontable instance has been destroyed`)}}this.getActiveEditor=function(){return d.getActiveEditor()},this.getPlugin=function(S){let E=Ur(S);return E==="UndoRedo"?this.undoRedo:T.getItem(E)},this.getPluginName=function(S){return S===this.undoRedo?this.undoRedo.constructor.PLUGIN_KEY:T.getId(S)},this.getInstance=function(){return o},this.addHook=function(S,E,R){Ee.getSingleton().add(S,E,o,R)},this.hasHook=function(S){return Ee.getSingleton().has(S,o)||Ee.getSingleton().has(S)},this.addHookOnce=function(S,E,R){Ee.getSingleton().once(S,E,o,R)},this.removeHook=function(S,E){Ee.getSingleton().remove(S,E,o)},this.runHooks=function(S,E,R,G,$,X,ge){return Ee.getSingleton().run(o,S,E,R,G,$,X,ge)},this.getTranslatedPhrase=function(S,E){return XI(y.language,S,E)},this.toHTML=()=>yL(this),this.toTableElement=()=>{let S=this.rootDocument.createElement("div");return S.insertAdjacentHTML("afterbegin",yL(this)),S.firstElementChild},this.timeouts=[],this._registerTimeout=function(S){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,R=S;typeof R=="function"&&(R=setTimeout(R,E)),this.timeouts.push(R)},this._clearTimeouts=function(){M(this.timeouts,S=>{clearTimeout(S)})},this.immediates=[],this._registerImmediate=function(S){this.immediates.push(setImmediate(S))},this._clearImmediates=function(){M(this.immediates,S=>{clearImmediate(S)})},this._getEditorManager=function(){return d},this.isRtl=function(){return o.rootWindow.getComputedStyle(o.rootElement).direction==="rtl"},this.isLtr=function(){return!o.isRtl()},this.getDirectionFactor=function(){return o.isLtr()?1:-1};let oi=FF({handleEvent(){return o.isListening()},beforeKeyDown:S=>this.runHooks("beforeKeyDown",S),afterKeyDown:S=>{this.isDestroyed||o.runHooks("afterDocumentKeyDown",S)},ownerWindow:this.rootWindow});this.addHook("beforeOnCellMouseDown",S=>{S.ctrlKey===!1&&S.metaKey===!1&&oi.releasePressedKeys()}),this.getShortcutManager=function(){return oi},this.getFocusManager=function(){return u},XT().forEach(S=>{let E=QT(S);T.addItem(S,new E(this))}),KQ(o),oi.setActiveContextName("grid"),Ee.getSingleton().run(o,"construct")}var Tpt=w(Q(),1);function mZ(t,e,i){t.addEventListener(e,i,!1)}function pZ(t,e,i){t.removeEventListener(e,i,!1)}function gZ(t){return t.ownerDocument.defaultView.getComputedStyle(t)}function bZ(t){let e={minHeight:200,maxHeight:300,minWidth:100,maxWidth:300},i=t.body,n=t.createTextNode(""),r=t.createElement("span"),o;function s(){n.textContent=o.value,r.style.position="absolute",r.style.fontSize=gZ(o).fontSize,r.style.fontFamily=gZ(o).fontFamily,r.style.whiteSpace="pre",i.appendChild(r);let d=r.clientWidth+2;i.removeChild(r);let u=o.style;u.height=`${e.minHeight}px`,e.minWidth>d?u.width=`${e.minWidth}px`:d>e.maxWidth?u.width=`${e.maxWidth}px`:u.width=`${d}px`;let f=o.scrollHeight?o.scrollHeight-1:0;e.minHeight>f?u.height=`${e.minHeight}px`:e.maxHeight<f?(u.height=`${e.maxHeight}px`,u.overflowY="visible"):u.height=`${f}px`}function a(){t.defaultView.setTimeout(s,0)}function l(d){if(d&&d.minHeight)if(d.minHeight==="inherit")e.minHeight=o.clientHeight;else{let u=parseInt(d.minHeight,10);isNaN(u)||(e.minHeight=u)}if(d&&d.maxHeight)if(d.maxHeight==="inherit")e.maxHeight=o.clientHeight;else{let u=parseInt(d.maxHeight,10);isNaN(u)||(e.maxHeight=u)}if(d&&d.minWidth)if(d.minWidth==="inherit")e.minWidth=o.clientWidth;else{let u=parseInt(d.minWidth,10);isNaN(u)||(e.minWidth=u)}if(d&&d.maxWidth)if(d.maxWidth==="inherit")e.maxWidth=o.clientWidth;else{let u=parseInt(d.maxWidth,10);isNaN(u)||(e.maxWidth=u)}r.firstChild||(r.className="autoResize",r.style.display="inline-block",r.appendChild(n))}function c(d,u){let f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;o=d,l(u),o.nodeName==="TEXTAREA"&&(o.style.resize="none",o.style.height=`${e.minHeight}px`,o.style.minWidth=`${e.minWidth}px`,o.style.maxWidth=`${e.maxWidth}px`,o.style.overflowY="hidden"),f&&(mZ(o,"input",s),mZ(o,"keydown",a)),s()}return{init:c,resize:s,unObserve(){pZ(o,"input",s),pZ(o,"keydown",a)}}}function BF(t,e){let i=ET(e),n=e.value.split(`
`),r=i,o=0;for(let s=0;s<n.length;s++){let a=n[s];s!==0&&(o+=n[s-1].length+1);let l=o+a.length;if(t==="home"?r=o:t==="end"&&(r=l),i<=l)break}_u(e,r)}function Sf(t,e,i){return e=hOe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function hOe(t){var e=fOe(t,"string");return typeof e=="symbol"?e:e+""}function fOe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mOe="ht_editor_visible",mD="ht_editor_hidden",vZ="textEditor",WF="text",Yr=class extends Ko{static get EDITOR_TYPE(){return WF}constructor(e){super(e),Sf(this,"eventManager",new Xn(this)),Sf(this,"autoResize",bZ(this.hot.rootDocument)),Sf(this,"TEXTAREA",void 0),Sf(this,"textareaStyle",void 0),Sf(this,"TEXTAREA_PARENT",void 0),Sf(this,"textareaParentStyle",void 0),Sf(this,"layerClass",void 0),this.eventManager=new Xn(this),this.createElements(),this.bindEvents(),this.hot.addHookOnce("afterDestroy",()=>this.destroy())}getValue(){return this.TEXTAREA.value}setValue(e){this.TEXTAREA.value=e}open(){this.refreshDimensions(),this.showEditableElement(),this.hot.getShortcutManager().setActiveContextName("editor"),this.registerShortcuts()}close(){this.autoResize.unObserve(),HX(this.hot.rootDocument.activeElement,this.hot.rootElement)&&this.hot.listen(),this.hideEditableElement(),this.unregisterShortcuts()}prepare(e,i,n,r,o,s){let a=this.state;if(super.prepare(e,i,n,r,o,s),!s.readOnly){this.refreshDimensions(!0);let{allowInvalid:l}=s;l&&!this.isOpened()&&(this.TEXTAREA.value=""),a!==on.FINISHED&&!this.isOpened()&&this.hideEditableElement()}}beginEditing(e,i){this.state===on.VIRGIN&&(this.TEXTAREA.value="",super.beginEditing(e,i))}focus(){this.TEXTAREA.select(),_u(this.TEXTAREA,this.TEXTAREA.value.length)}createElements(){let{rootDocument:e}=this.hot;this.TEXTAREA=e.createElement("TEXTAREA"),Le(this.TEXTAREA,[["data-hot-input",""],Ys(-1)]),this.hot.getSettings().ariaTags&&Le(this.TEXTAREA,[Sr()]),ne(this.TEXTAREA,"handsontableInput"),this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,this.textareaStyle.overflowY="visible",this.TEXTAREA_PARENT=e.createElement("DIV"),ne(this.TEXTAREA_PARENT,"handsontableInputHolder"),Fe(this.TEXTAREA_PARENT,this.layerClass)&&tt(this.TEXTAREA_PARENT,this.layerClass),ne(this.TEXTAREA_PARENT,mD),this.textareaParentStyle=this.TEXTAREA_PARENT.style,this.TEXTAREA_PARENT.appendChild(this.TEXTAREA),this.hot.rootElement.appendChild(this.TEXTAREA_PARENT)}hideEditableElement(){b6()&&(this.textareaStyle.textIndent="-99999px"),this.textareaStyle.overflowY="visible",this.textareaParentStyle.opacity="0",this.textareaParentStyle.height="1px",tt(this.TEXTAREA_PARENT,this.layerClass),ne(this.TEXTAREA_PARENT,mD)}showEditableElement(){this.textareaParentStyle.height="",this.textareaParentStyle.overflow="",this.textareaParentStyle.position="",this.textareaParentStyle[this.hot.isRtl()?"left":"right"]="auto",this.textareaParentStyle.opacity="1",this.textareaStyle.textIndent="";let e=this.TEXTAREA_PARENT.childNodes,i=!1;Se(e.length-1,n=>{let r=e[n];if(Fe(r,"handsontableEditor"))return i=!0,!1}),Fe(this.TEXTAREA_PARENT,mD)&&tt(this.TEXTAREA_PARENT,mD),i?(this.layerClass=mOe,ne(this.TEXTAREA_PARENT,this.layerClass)):(this.layerClass=this.getEditedCellsLayerClass(),ne(this.TEXTAREA_PARENT,this.layerClass))}refreshValue(){let e=this.hot.toPhysicalRow(this.row),i=this.hot.getSourceDataAtCell(e,this.col);this.originalValue=i,this.setValue(i),this.refreshDimensions()}refreshDimensions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.state!==on.EDITING&&!e)return;if(this.TD=this.getEditedCell(),!this.TD){e||this.close();return}let{top:i,start:n,width:r,maxWidth:o,height:s,maxHeight:a}=this.getEditedCellRect();this.textareaParentStyle.top=`${i}px`,this.textareaParentStyle[this.hot.isRtl()?"right":"left"]=`${n}px`,this.showEditableElement();let l=Xs(this.TD,this.hot.rootWindow);this.TEXTAREA.style.fontSize=l.fontSize,this.TEXTAREA.style.fontFamily=l.fontFamily,this.TEXTAREA.style.backgroundColor=this.TD.style.backgroundColor;let c=Xs(this.TEXTAREA),d=parseInt(c.paddingLeft,10)+parseInt(c.paddingRight,10),u=parseInt(c.paddingTop,10)+parseInt(c.paddingBottom,10),f=r-d,m=s-u,g=o-d,_=a-u;this.autoResize.init(this.TEXTAREA,{minWidth:Math.min(f,g),minHeight:Math.min(m,_),maxWidth:g,maxHeight:_},!0)}bindEvents(){NT()&&this.eventManager.addEventListener(this.TEXTAREA,"focusout",()=>this.finishEditing(!1)),this.addHook("afterScrollHorizontally",()=>this.refreshDimensions()),this.addHook("afterScrollVertically",()=>this.refreshDimensions()),this.addHook("afterColumnResize",()=>{this.refreshDimensions(),this.state===on.EDITING&&this.focus()}),this.addHook("afterRowResize",()=>{this.refreshDimensions(),this.state===on.EDITING&&this.focus()})}allowKeyEventPropagation(){}destroy(){this.eventManager.destroy(),this.clearHooks()}registerShortcuts(){let i=this.hot.getShortcutManager().getContext("editor"),n={runOnlyIf:()=>xe(this.hot.getSelected()),group:vZ},r=()=>{this.hot.rootDocument.execCommand("insertText",!1,`
`)};i.addShortcuts([{keys:[["Control","Enter"]],callback:()=>(r(),!1),runOnlyIf:o=>!this.hot.selection.isMultiple()&&!o.altKey},{keys:[["Meta","Enter"]],callback:()=>(r(),!1),runOnlyIf:()=>!this.hot.selection.isMultiple()},{keys:[["Alt","Enter"]],callback:()=>(r(),!1)},{keys:[["Home"]],callback:(o,s)=>{let[a]=s;BF(a,this.TEXTAREA)}},{keys:[["End"]],callback:(o,s)=>{let[a]=s;BF(a,this.TEXTAREA)}}],n)}unregisterShortcuts(){this.hot.getShortcutManager().getContext("editor").removeShortcutsByGroup(vZ)}};var Bpt=w(be(),1);var jF="base";function Hl(t,e,i,n,r,o,s){let a=s.ariaTags,l=[],c=[],d=[],u=[];s.className&&ne(e,s.className),s.readOnly?(l.push(s.readOnlyCellClassName),a&&u.push(UN())):a&&d.push(UN()[0]),s.valid===!1&&s.invalidCellClassName?(l.push(s.invalidCellClassName),a&&u.push(zN())):(c.push(s.invalidCellClassName),a&&d.push(zN()[0])),s.wordWrap===!1&&s.noWordWrapClassName&&l.push(s.noWordWrapClassName),!o&&s.placeholder&&l.push(s.placeholderCellClassName),tt(e,c),ne(e,l),$s(e,d),Le(e,u)}Hl.RENDERER_TYPE=jF;var UF="text";function Or(t,e,i,n,r,o,s){Hl.apply(this,[t,e,i,n,r,o,s]);let a=o;if(!a&&s.placeholder&&(a=s.placeholder),a=Ei(a),s.trimWhitespace&&(a=a.trim()),s.rendererTemplate){xr(e);let l=t.rootDocument.createElement("TEMPLATE");l.setAttribute("bind","{{}}"),l.innerHTML=s.rendererTemplate,HTMLTemplateElement.decorate(l),l.model=t.getSourceDataAtRow(i),e.appendChild(l)}else Ks(e,a)}Or.RENDERER_TYPE=UF;var zF="text",VC={CELL_TYPE:zF,editor:Yr,renderer:Or};gs(VC);Ka.editors={BaseEditor:Ko};function Ka(t,e){let i=new fD(t,e||{},LI);return i.init(),i}Ka.Core=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new fD(t,e,LI)};Ka.DefaultSettings=PC();Ka.hooks=Ee.getSingleton();Ka.CellCoords=Du;Ka.CellRange=lf;Ka.packageName="handsontable";Ka.buildDate="11/06/2024 09:51:42";Ka.version="14.4.0";Ka.languages={dictionaryKeys:C7,getLanguageDictionary:gF,getLanguagesDictionaries:x7,registerLanguageDictionary:pF,getTranslatedPhrase:XI};var pD=Ka;var pOe=["container"],YF=new Map,wZ="The Handsontable instance bound to this component was destroyed and cannot be used properly.",GF=(()=>{class t{getInstance(i){let n=YF.get(i);return n.isDestroyed?(console.warn(wZ),null):n}registerInstance(i,n){return YF.set(i,n)}removeInstance(i){return YF.delete(i)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Re({token:t,factory:t.\u0275fac})}return t})(),gOe=Object.keys(pD.DefaultSettings),_Z=pD.hooks.getRegistered(),yZ=(()=>{class t{mergeSettings(i){let n="settings"in i&&typeof i.settings=="object",r=n?i.settings:{};return _Z.concat(gOe).forEach(s=>{let a=_Z.indexOf(s)>-1,l;n&&a&&(l=i.settings[s]),i[s]!==void 0&&(l=i[s]),l!==void 0&&("ngZone"in i&&typeof l=="function"&&a?r[s]=function(...c){return i.ngZone.run(()=>l.apply(this,c))}:r[s]=l)}),r}prepareChanges(i){let n={};return Object.keys(i).forEach(o=>{i.hasOwnProperty(o)&&(n[o]=i[o].currentValue)}),n}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Re({token:t,factory:t.\u0275fac})}return t})(),CZ=(()=>{class t{_hotTableRegisterer;_hotSettingsResolver;ngZone;container;__hotInstance=null;columnsComponents=[];settings;hotId="";activeHeaderClassName;allowEmpty;allowHtml;allowInsertColumn;allowInsertRow;allowInvalid;allowRemoveColumn;allowRemoveRow;ariaTags;autoColumnSize;autoRowSize;autoWrapCol;autoWrapRow;bindRowsWithHeaders;cell;cells;checkedTemplate;className;colHeaders;collapsibleColumns;columnHeaderHeight;columns;columnSorting;columnSummary;colWidths;commentedCellClassName;comments;contextMenu;copyable;copyPaste;correctFormat;currentColClassName;currentHeaderClassName;currentRowClassName;customBorders;data;dataDotNotation;dataSchema;dateFormat;datePickerConfig;defaultDate;tabNavigation;disableVisualSelection;dragToScroll;dropdownMenu;editor;enterBeginsEditing;enterMoves;fillHandle;filter;filteringCaseSensitive;filters;fixedColumnsLeft;fixedColumnsStart;fixedRowsBottom;fixedRowsTop;formulas;fragmentSelection;height;hiddenColumns;hiddenRows;invalidCellClassName;imeFastEdit;label;language;layoutDirection;licenseKey;locale;manualColumnFreeze;manualColumnMove;manualColumnResize;manualRowMove;manualRowResize;maxCols;maxRows;mergeCells;minCols;minRows;minSpareCols;minSpareRows;multiColumnSorting;navigableHeaders;nestedHeaders;nestedRows;noWordWrapClassName;numericFormat;observeDOMVisibility;outsideClickDeselects;persistentState;placeholder;placeholderCellClassName;preventOverflow;preventWheel;readOnly;readOnlyCellClassName;renderAllColumns;renderAllRows;renderer;rowHeaders;rowHeaderWidth;rowHeights;search;selectionMode;selectOptions;skipColumnOnPaste;skipRowOnPaste;sortByRelevance;source;startCols;startRows;stretchH;strict;tableClassName;tabMoves;title;trimDropdown;trimRows;trimWhitespace;type;uncheckedTemplate;undo;validator;viewportColumnRenderingOffset;viewportRowRenderingOffset;visibleRows;width;wordWrap;afterAddChild;afterAutofill;afterBeginEditing;afterCellMetaReset;afterChange;afterChangesObserved;afterColumnCollapse;afterColumnExpand;afterColumnFreeze;afterColumnMove;afterColumnResize;afterColumnSequenceChange;afterColumnSort;afterColumnUnfreeze;afterContextMenuDefaultOptions;afterContextMenuHide;afterContextMenuShow;afterCopy;afterCopyLimit;afterCreateCol;afterCreateRow;afterCut;afterDeselect;afterDestroy;afterDetachChild;afterDocumentKeyDown;afterDrawSelection;afterDropdownMenuDefaultOptions;afterDropdownMenuHide;afterDropdownMenuShow;afterFilter;afterFormulasValuesUpdate;afterGetCellMeta;afterGetColHeader;afterGetColumnHeaderRenderers;afterGetRowHeader;afterGetRowHeaderRenderers;afterHideColumns;afterHideRows;afterInit;afterLanguageChange;afterListen;afterLoadData;afterMergeCells;afterModifyTransformEnd;afterModifyTransformFocus;afterModifyTransformStart;afterMomentumScroll;afterNamedExpressionAdded;afterNamedExpressionRemoved;afterOnCellContextMenu;afterOnCellCornerDblClick;afterOnCellCornerMouseDown;afterOnCellMouseDown;afterOnCellMouseOut;afterOnCellMouseOver;afterOnCellMouseUp;afterPaste;afterPluginsInitialized;afterRedo;afterRedoStackChange;afterRefreshDimensions;afterRemoveCellMeta;afterRemoveCol;afterRemoveRow;afterRender;afterRenderer;afterRowMove;afterRowResize;afterRowSequenceChange;afterScrollHorizontally;afterScrollVertically;afterScroll;afterSelectColumns;afterSelection;afterSelectionByProp;afterSelectionEnd;afterSelectionEndByProp;afterSelectionFocusSet;afterSelectRows;afterSetCellMeta;afterSetDataAtCell;afterSetDataAtRowProp;afterSetSourceDataAtCell;afterSheetAdded;afterSheetRenamed;afterSheetRemoved;afterTrimRow;afterUndo;afterUndoStackChange;afterUnhideColumns;afterUnhideRows;afterUnlisten;afterUnmergeCells;afterUntrimRow;afterUpdateData;afterUpdateSettings;afterValidate;afterViewportColumnCalculatorOverride;afterViewportRowCalculatorOverride;afterViewRender;beforeAddChild;beforeAutofill;beforeBeginEditing;beforeCellAlignment;beforeChange;beforeChangeRender;beforeColumnCollapse;beforeColumnExpand;beforeColumnFreeze;beforeColumnMove;beforeColumnResize;beforeColumnSort;beforeColumnWrap;beforeColumnUnfreeze;beforeContextMenuSetItems;beforeContextMenuShow;beforeCopy;beforeCreateCol;beforeCreateRow;beforeCut;beforeDetachChild;beforeDrawBorders;beforeDropdownMenuSetItems;beforeDropdownMenuShow;beforeFilter;beforeGetCellMeta;beforeHideColumns;beforeHideRows;beforeHighlightingColumnHeader;beforeHighlightingRowHeader;beforeInit;beforeInitWalkontable;beforeKeyDown;beforeLanguageChange;beforeLoadData;beforeMergeCells;beforeOnCellContextMenu;beforeOnCellMouseDown;beforeOnCellMouseOut;beforeOnCellMouseOver;beforeOnCellMouseUp;beforePaste;beforeRedo;beforeRedoStackChange;beforeRefreshDimensions;beforeRemoveCellClassNames;beforeRemoveCellMeta;beforeRemoveCol;beforeRemoveRow;beforeRender;beforeRenderer;beforeRowMove;beforeRowResize;beforeRowWrap;beforeSelectColumns;beforeSelectionFocusSet;beforeSelectionHighlightSet;beforeSelectRows;beforeSetCellMeta;beforeSetRangeEnd;beforeSetRangeStart;beforeSetRangeStartOnly;beforeStretchingColumnWidth;beforeTouchScroll;beforeTrimRow;beforeUndo;beforeUndoStackChange;beforeUnhideColumns;beforeUnhideRows;beforeUnmergeCells;beforeUntrimRow;beforeUpdateData;beforeValidate;beforeValueRender;beforeViewportScroll;beforeViewportScrollHorizontally;beforeViewportScrollVertically;beforeViewRender;construct;init;modifyAutoColumnSizeSeed;modifyAutofillRange;modifyColHeader;modifyColumnHeaderHeight;modifyColumnHeaderValue;modifyColWidth;modifyCopyableRange;modifyFiltersMultiSelectValue;modifyFocusedElement;modifyData;modifyFocusOnTabNavigation;modifyGetCellCoords;modifyRowData;modifyRowHeader;modifyRowHeaderWidth;modifyRowHeight;modifySourceData;modifyTransformEnd;modifyTransformFocus;modifyTransformStart;persistentStateLoad;persistentStateReset;persistentStateSave;constructor(i,n,r){this._hotTableRegisterer=i,this._hotSettingsResolver=n,this.ngZone=r}get hotInstance(){return!this.__hotInstance||this.__hotInstance&&!this.__hotInstance.isDestroyed?this.__hotInstance:(this._hotTableRegisterer.removeInstance(this.hotId),console.warn(wZ),null)}set hotInstance(i){this.__hotInstance=i}ngAfterViewInit(){let i=this._hotSettingsResolver.mergeSettings(this);if(this.columnsComponents.length>0){let n=[];this.columnsComponents.forEach(r=>{n.push(this._hotSettingsResolver.mergeSettings(r))}),i.columns=n}this.ngZone.runOutsideAngular(()=>{this.hotInstance=new pD.Core(this.container.nativeElement,i),this.hotId&&this._hotTableRegisterer.registerInstance(this.hotId,this.hotInstance),this.hotInstance.init()})}ngOnChanges(i){if(this.hotInstance===null)return;let n=this._hotSettingsResolver.prepareChanges(i);this.updateHotTable(n)}ngOnDestroy(){this.ngZone.runOutsideAngular(()=>{this.hotInstance&&this.hotInstance.destroy()}),this.hotId&&this._hotTableRegisterer.removeInstance(this.hotId)}updateHotTable(i){this.hotInstance&&this.ngZone.runOutsideAngular(()=>{this.hotInstance.updateSettings(i,!1)})}onAfterColumnsChange(){if(this.columnsComponents!==void 0&&this.columnsComponents.length>0){let i=[];this.columnsComponents.forEach(r=>{i.push(this._hotSettingsResolver.mergeSettings(r))});let n={columns:i};this.updateHotTable(n)}}onAfterColumnsNumberChange(){let i=[];this.columnsComponents.length>0&&this.columnsComponents.forEach(n=>{i.push(this._hotSettingsResolver.mergeSettings(n))}),this.updateHotTable({columns:i})}addColumn(i){this.columnsComponents.push(i),this.onAfterColumnsNumberChange()}removeColumn(i){let n=this.columnsComponents.indexOf(i);this.columnsComponents.splice(n,1),this.onAfterColumnsNumberChange()}static \u0275fac=function(n){return new(n||t)(L(GF),L(yZ),L(Ge))};static \u0275cmp=ut({type:t,selectors:[["hot-table"]],viewQuery:function(n,r){if(n&1&&It(pOe,5),n&2){let o;Je(o=et())&&(r.container=o.first)}},inputs:{settings:"settings",hotId:"hotId",activeHeaderClassName:"activeHeaderClassName",allowEmpty:"allowEmpty",allowHtml:"allowHtml",allowInsertColumn:"allowInsertColumn",allowInsertRow:"allowInsertRow",allowInvalid:"allowInvalid",allowRemoveColumn:"allowRemoveColumn",allowRemoveRow:"allowRemoveRow",ariaTags:"ariaTags",autoColumnSize:"autoColumnSize",autoRowSize:"autoRowSize",autoWrapCol:"autoWrapCol",autoWrapRow:"autoWrapRow",bindRowsWithHeaders:"bindRowsWithHeaders",cell:"cell",cells:"cells",checkedTemplate:"checkedTemplate",className:"className",colHeaders:"colHeaders",collapsibleColumns:"collapsibleColumns",columnHeaderHeight:"columnHeaderHeight",columns:"columns",columnSorting:"columnSorting",columnSummary:"columnSummary",colWidths:"colWidths",commentedCellClassName:"commentedCellClassName",comments:"comments",contextMenu:"contextMenu",copyable:"copyable",copyPaste:"copyPaste",correctFormat:"correctFormat",currentColClassName:"currentColClassName",currentHeaderClassName:"currentHeaderClassName",currentRowClassName:"currentRowClassName",customBorders:"customBorders",data:"data",dataDotNotation:"dataDotNotation",dataSchema:"dataSchema",dateFormat:"dateFormat",datePickerConfig:"datePickerConfig",defaultDate:"defaultDate",tabNavigation:"tabNavigation",disableVisualSelection:"disableVisualSelection",dragToScroll:"dragToScroll",dropdownMenu:"dropdownMenu",editor:"editor",enterBeginsEditing:"enterBeginsEditing",enterMoves:"enterMoves",fillHandle:"fillHandle",filter:"filter",filteringCaseSensitive:"filteringCaseSensitive",filters:"filters",fixedColumnsLeft:"fixedColumnsLeft",fixedColumnsStart:"fixedColumnsStart",fixedRowsBottom:"fixedRowsBottom",fixedRowsTop:"fixedRowsTop",formulas:"formulas",fragmentSelection:"fragmentSelection",height:"height",hiddenColumns:"hiddenColumns",hiddenRows:"hiddenRows",invalidCellClassName:"invalidCellClassName",imeFastEdit:"imeFastEdit",label:"label",language:"language",layoutDirection:"layoutDirection",licenseKey:"licenseKey",locale:"locale",manualColumnFreeze:"manualColumnFreeze",manualColumnMove:"manualColumnMove",manualColumnResize:"manualColumnResize",manualRowMove:"manualRowMove",manualRowResize:"manualRowResize",maxCols:"maxCols",maxRows:"maxRows",mergeCells:"mergeCells",minCols:"minCols",minRows:"minRows",minSpareCols:"minSpareCols",minSpareRows:"minSpareRows",multiColumnSorting:"multiColumnSorting",navigableHeaders:"navigableHeaders",nestedHeaders:"nestedHeaders",nestedRows:"nestedRows",noWordWrapClassName:"noWordWrapClassName",numericFormat:"numericFormat",observeDOMVisibility:"observeDOMVisibility",outsideClickDeselects:"outsideClickDeselects",persistentState:"persistentState",placeholder:"placeholder",placeholderCellClassName:"placeholderCellClassName",preventOverflow:"preventOverflow",preventWheel:"preventWheel",readOnly:"readOnly",readOnlyCellClassName:"readOnlyCellClassName",renderAllColumns:"renderAllColumns",renderAllRows:"renderAllRows",renderer:"renderer",rowHeaders:"rowHeaders",rowHeaderWidth:"rowHeaderWidth",rowHeights:"rowHeights",search:"search",selectionMode:"selectionMode",selectOptions:"selectOptions",skipColumnOnPaste:"skipColumnOnPaste",skipRowOnPaste:"skipRowOnPaste",sortByRelevance:"sortByRelevance",source:"source",startCols:"startCols",startRows:"startRows",stretchH:"stretchH",strict:"strict",tableClassName:"tableClassName",tabMoves:"tabMoves",title:"title",trimDropdown:"trimDropdown",trimRows:"trimRows",trimWhitespace:"trimWhitespace",type:"type",uncheckedTemplate:"uncheckedTemplate",undo:"undo",validator:"validator",viewportColumnRenderingOffset:"viewportColumnRenderingOffset",viewportRowRenderingOffset:"viewportRowRenderingOffset",visibleRows:"visibleRows",width:"width",wordWrap:"wordWrap",afterAddChild:"afterAddChild",afterAutofill:"afterAutofill",afterBeginEditing:"afterBeginEditing",afterCellMetaReset:"afterCellMetaReset",afterChange:"afterChange",afterChangesObserved:"afterChangesObserved",afterColumnCollapse:"afterColumnCollapse",afterColumnExpand:"afterColumnExpand",afterColumnFreeze:"afterColumnFreeze",afterColumnMove:"afterColumnMove",afterColumnResize:"afterColumnResize",afterColumnSequenceChange:"afterColumnSequenceChange",afterColumnSort:"afterColumnSort",afterColumnUnfreeze:"afterColumnUnfreeze",afterContextMenuDefaultOptions:"afterContextMenuDefaultOptions",afterContextMenuHide:"afterContextMenuHide",afterContextMenuShow:"afterContextMenuShow",afterCopy:"afterCopy",afterCopyLimit:"afterCopyLimit",afterCreateCol:"afterCreateCol",afterCreateRow:"afterCreateRow",afterCut:"afterCut",afterDeselect:"afterDeselect",afterDestroy:"afterDestroy",afterDetachChild:"afterDetachChild",afterDocumentKeyDown:"afterDocumentKeyDown",afterDrawSelection:"afterDrawSelection",afterDropdownMenuDefaultOptions:"afterDropdownMenuDefaultOptions",afterDropdownMenuHide:"afterDropdownMenuHide",afterDropdownMenuShow:"afterDropdownMenuShow",afterFilter:"afterFilter",afterFormulasValuesUpdate:"afterFormulasValuesUpdate",afterGetCellMeta:"afterGetCellMeta",afterGetColHeader:"afterGetColHeader",afterGetColumnHeaderRenderers:"afterGetColumnHeaderRenderers",afterGetRowHeader:"afterGetRowHeader",afterGetRowHeaderRenderers:"afterGetRowHeaderRenderers",afterHideColumns:"afterHideColumns",afterHideRows:"afterHideRows",afterInit:"afterInit",afterLanguageChange:"afterLanguageChange",afterListen:"afterListen",afterLoadData:"afterLoadData",afterMergeCells:"afterMergeCells",afterModifyTransformEnd:"afterModifyTransformEnd",afterModifyTransformFocus:"afterModifyTransformFocus",afterModifyTransformStart:"afterModifyTransformStart",afterMomentumScroll:"afterMomentumScroll",afterNamedExpressionAdded:"afterNamedExpressionAdded",afterNamedExpressionRemoved:"afterNamedExpressionRemoved",afterOnCellContextMenu:"afterOnCellContextMenu",afterOnCellCornerDblClick:"afterOnCellCornerDblClick",afterOnCellCornerMouseDown:"afterOnCellCornerMouseDown",afterOnCellMouseDown:"afterOnCellMouseDown",afterOnCellMouseOut:"afterOnCellMouseOut",afterOnCellMouseOver:"afterOnCellMouseOver",afterOnCellMouseUp:"afterOnCellMouseUp",afterPaste:"afterPaste",afterPluginsInitialized:"afterPluginsInitialized",afterRedo:"afterRedo",afterRedoStackChange:"afterRedoStackChange",afterRefreshDimensions:"afterRefreshDimensions",afterRemoveCellMeta:"afterRemoveCellMeta",afterRemoveCol:"afterRemoveCol",afterRemoveRow:"afterRemoveRow",afterRender:"afterRender",afterRenderer:"afterRenderer",afterRowMove:"afterRowMove",afterRowResize:"afterRowResize",afterRowSequenceChange:"afterRowSequenceChange",afterScrollHorizontally:"afterScrollHorizontally",afterScrollVertically:"afterScrollVertically",afterScroll:"afterScroll",afterSelectColumns:"afterSelectColumns",afterSelection:"afterSelection",afterSelectionByProp:"afterSelectionByProp",afterSelectionEnd:"afterSelectionEnd",afterSelectionEndByProp:"afterSelectionEndByProp",afterSelectionFocusSet:"afterSelectionFocusSet",afterSelectRows:"afterSelectRows",afterSetCellMeta:"afterSetCellMeta",afterSetDataAtCell:"afterSetDataAtCell",afterSetDataAtRowProp:"afterSetDataAtRowProp",afterSetSourceDataAtCell:"afterSetSourceDataAtCell",afterSheetAdded:"afterSheetAdded",afterSheetRenamed:"afterSheetRenamed",afterSheetRemoved:"afterSheetRemoved",afterTrimRow:"afterTrimRow",afterUndo:"afterUndo",afterUndoStackChange:"afterUndoStackChange",afterUnhideColumns:"afterUnhideColumns",afterUnhideRows:"afterUnhideRows",afterUnlisten:"afterUnlisten",afterUnmergeCells:"afterUnmergeCells",afterUntrimRow:"afterUntrimRow",afterUpdateData:"afterUpdateData",afterUpdateSettings:"afterUpdateSettings",afterValidate:"afterValidate",afterViewportColumnCalculatorOverride:"afterViewportColumnCalculatorOverride",afterViewportRowCalculatorOverride:"afterViewportRowCalculatorOverride",afterViewRender:"afterViewRender",beforeAddChild:"beforeAddChild",beforeAutofill:"beforeAutofill",beforeBeginEditing:"beforeBeginEditing",beforeCellAlignment:"beforeCellAlignment",beforeChange:"beforeChange",beforeChangeRender:"beforeChangeRender",beforeColumnCollapse:"beforeColumnCollapse",beforeColumnExpand:"beforeColumnExpand",beforeColumnFreeze:"beforeColumnFreeze",beforeColumnMove:"beforeColumnMove",beforeColumnResize:"beforeColumnResize",beforeColumnSort:"beforeColumnSort",beforeColumnWrap:"beforeColumnWrap",beforeColumnUnfreeze:"beforeColumnUnfreeze",beforeContextMenuSetItems:"beforeContextMenuSetItems",beforeContextMenuShow:"beforeContextMenuShow",beforeCopy:"beforeCopy",beforeCreateCol:"beforeCreateCol",beforeCreateRow:"beforeCreateRow",beforeCut:"beforeCut",beforeDetachChild:"beforeDetachChild",beforeDrawBorders:"beforeDrawBorders",beforeDropdownMenuSetItems:"beforeDropdownMenuSetItems",beforeDropdownMenuShow:"beforeDropdownMenuShow",beforeFilter:"beforeFilter",beforeGetCellMeta:"beforeGetCellMeta",beforeHideColumns:"beforeHideColumns",beforeHideRows:"beforeHideRows",beforeHighlightingColumnHeader:"beforeHighlightingColumnHeader",beforeHighlightingRowHeader:"beforeHighlightingRowHeader",beforeInit:"beforeInit",beforeInitWalkontable:"beforeInitWalkontable",beforeKeyDown:"beforeKeyDown",beforeLanguageChange:"beforeLanguageChange",beforeLoadData:"beforeLoadData",beforeMergeCells:"beforeMergeCells",beforeOnCellContextMenu:"beforeOnCellContextMenu",beforeOnCellMouseDown:"beforeOnCellMouseDown",beforeOnCellMouseOut:"beforeOnCellMouseOut",beforeOnCellMouseOver:"beforeOnCellMouseOver",beforeOnCellMouseUp:"beforeOnCellMouseUp",beforePaste:"beforePaste",beforeRedo:"beforeRedo",beforeRedoStackChange:"beforeRedoStackChange",beforeRefreshDimensions:"beforeRefreshDimensions",beforeRemoveCellClassNames:"beforeRemoveCellClassNames",beforeRemoveCellMeta:"beforeRemoveCellMeta",beforeRemoveCol:"beforeRemoveCol",beforeRemoveRow:"beforeRemoveRow",beforeRender:"beforeRender",beforeRenderer:"beforeRenderer",beforeRowMove:"beforeRowMove",beforeRowResize:"beforeRowResize",beforeRowWrap:"beforeRowWrap",beforeSelectColumns:"beforeSelectColumns",beforeSelectionFocusSet:"beforeSelectionFocusSet",beforeSelectionHighlightSet:"beforeSelectionHighlightSet",beforeSelectRows:"beforeSelectRows",beforeSetCellMeta:"beforeSetCellMeta",beforeSetRangeEnd:"beforeSetRangeEnd",beforeSetRangeStart:"beforeSetRangeStart",beforeSetRangeStartOnly:"beforeSetRangeStartOnly",beforeStretchingColumnWidth:"beforeStretchingColumnWidth",beforeTouchScroll:"beforeTouchScroll",beforeTrimRow:"beforeTrimRow",beforeUndo:"beforeUndo",beforeUndoStackChange:"beforeUndoStackChange",beforeUnhideColumns:"beforeUnhideColumns",beforeUnhideRows:"beforeUnhideRows",beforeUnmergeCells:"beforeUnmergeCells",beforeUntrimRow:"beforeUntrimRow",beforeUpdateData:"beforeUpdateData",beforeValidate:"beforeValidate",beforeValueRender:"beforeValueRender",beforeViewportScroll:"beforeViewportScroll",beforeViewportScrollHorizontally:"beforeViewportScrollHorizontally",beforeViewportScrollVertically:"beforeViewportScrollVertically",beforeViewRender:"beforeViewRender",construct:"construct",init:"init",modifyAutoColumnSizeSeed:"modifyAutoColumnSizeSeed",modifyAutofillRange:"modifyAutofillRange",modifyColHeader:"modifyColHeader",modifyColumnHeaderHeight:"modifyColumnHeaderHeight",modifyColumnHeaderValue:"modifyColumnHeaderValue",modifyColWidth:"modifyColWidth",modifyCopyableRange:"modifyCopyableRange",modifyFiltersMultiSelectValue:"modifyFiltersMultiSelectValue",modifyFocusedElement:"modifyFocusedElement",modifyData:"modifyData",modifyFocusOnTabNavigation:"modifyFocusOnTabNavigation",modifyGetCellCoords:"modifyGetCellCoords",modifyRowData:"modifyRowData",modifyRowHeader:"modifyRowHeader",modifyRowHeaderWidth:"modifyRowHeaderWidth",modifyRowHeight:"modifyRowHeight",modifySourceData:"modifySourceData",modifyTransformEnd:"modifyTransformEnd",modifyTransformFocus:"modifyTransformFocus",modifyTransformStart:"modifyTransformStart",persistentStateLoad:"persistentStateLoad",persistentStateReset:"persistentStateReset",persistentStateSave:"persistentStateSave"},features:[ui([GF,yZ]),li],decls:2,vars:1,consts:[["container",""],[3,"id"]],template:function(n,r){n&1&&ze(0,"div",1,0),n&2&&Te("id",r.hotId)},encapsulation:2})}return t})();var gD=(()=>{class t{static version="14.4.0";static forRoot(){return{ngModule:t,providers:[GF]}}static \u0275fac=function(n){return new(n||t)};static \u0275mod=Xe({type:t});static \u0275inj=Ke({})}return t})();var Cgt=w(Q(),1),Sgt=w(be(),1);var SZ="handsontableEditor",$F="handsontable",$c=class extends Yr{static get EDITOR_TYPE(){return $F}open(){super.open(),this.htEditor&&this.htEditor.destroy(),this.htContainer.style.display==="none"&&(this.htContainer.style.display=""),this.htEditor=new this.hot.constructor(this.htContainer,this.htOptions),this.htEditor.init(),this.htEditor.rootElement.style.display="",this.cellProperties.strict?this.htEditor.selectCell(0,0):this.htEditor.deselectCell(),_u(this.TEXTAREA,0,this.TEXTAREA.value.length),this.refreshDimensions()}close(){this.htEditor&&(this.htEditor.rootElement.style.display="none"),this.removeHooksByKey("beforeKeyDown"),super.close()}prepare(e,i,n,r,o,s){super.prepare(e,i,n,r,o,s);let a=this,l={startRows:0,startCols:0,minRows:0,minCols:0,className:"listbox",copyPaste:!1,autoColumnSize:!1,autoRowSize:!1,readOnly:!0,fillHandle:!1,autoWrapCol:!1,autoWrapRow:!1,ariaTags:!1,afterOnCellMouseDown(c,d){let u=this.getSourceData(d.row,d.col);u!==void 0&&a.setValue(u),a.hot.destroyEditor()},preventWheel:!0,layoutDirection:this.hot.isRtl()?"rtl":"ltr"};this.cellProperties.handsontable&&hi(l,s.handsontable),this.htOptions=l}beginEditing(e,i){let n=this.hot.getSettings().onBeginEditing;n&&n()===!1||super.beginEditing(e,i)}createElements(){super.createElements();let e=this.hot.rootDocument.createElement("DIV");e.className="handsontableEditor",this.TEXTAREA_PARENT.appendChild(e),this.htContainer=e,this.assignHooks()}finishEditing(e,i,n){if(this.htEditor&&this.htEditor.isListening()&&this.hot.listen(),this.htEditor&&this.htEditor.getSelectedLast()){let r=this.htEditor.getValue();r!==void 0&&this.setValue(r)}super.finishEditing(e,i,n)}assignHooks(){this.hot.addHook("afterDestroy",()=>{this.htEditor&&this.htEditor.destroy()})}registerShortcuts(){let i=this.hot.getShortcutManager().getContext("editor");super.registerShortcuts();let n={group:SZ,relativeToGroup:so,position:"before"},r=(o,s)=>{let a=this.htEditor;if(o!==void 0&&(o<0||a.flipped&&o>a.countRows()-1?a.deselectCell():a.selectCell(o,0),a.getData().length))return s.preventDefault(),Hn(s),this.hot.listen(),this.TEXTAREA.focus(),!1};i.addShortcuts([{keys:[["ArrowUp"]],callback:o=>{let s=this.htEditor,a,l;return!s.getSelectedLast()&&s.flipped?a=s.countRows()-1:s.getSelectedLast()&&(s.flipped?(l=s.getSelectedLast()[0],a=Math.max(0,l-1)):(l=s.getSelectedLast()[0],a=l-1)),r(a,o)},preventDefault:!1},{keys:[["ArrowDown"]],callback:o=>{let s=this.htEditor,a,l;if(!s.getSelectedLast()&&!s.flipped)a=0;else if(s.getSelectedLast()){if(s.flipped)a=s.getSelectedLast()[0]+1;else if(!s.flipped){let c=s.countRows()-1;l=s.getSelectedLast()[0],a=Math.min(c,l+1)}}return r(a,o)},preventDefault:!1}],n)}unregisterShortcuts(){super.unregisterShortcuts(),this.hot.getShortcutManager().getContext("editor").removeShortcutsByGroup(SZ)}};function vOe(t,e,i){_Oe(t,e),e.set(t,i)}function _Oe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function bD(t,e,i){return e=yOe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function yOe(t){var e=wOe(t,"string");return typeof e=="symbol"?e:e+""}function wOe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xZ(t,e){return t.get(COe(t,e))}function COe(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var KF="autocomplete",qF=new WeakMap,qc=class extends $c{constructor(){super(...arguments),bD(this,"query",null),bD(this,"strippedChoices",[]),bD(this,"rawChoices",[]),vOe(this,qF,this.hot.guid.slice(0,9)),bD(this,"sortByRelevance",function(e,i,n){let r=[],o=[],s=e.length,a=i.length,l,c,d,u;if(s===0){for(d=0;d<a;d++)o.push(d);return o}for(d=0;d<a;d++){if(c=jN(Ei(i[d])),n)u=c.indexOf(e);else{let f=this.cellProperties.locale;u=c.toLocaleLowerCase(f).indexOf(e.toLocaleLowerCase(f))}u!==-1&&(l=c.length-u-s,r.push({baseIndex:d,index:u,charsLeft:l,value:c}))}for(r.sort((f,m)=>{if(m.index===-1)return-1;if(f.index===-1)return 1;if(f.index<m.index)return-1;if(m.index<f.index)return 1;if(f.index===m.index){if(f.charsLeft<m.charsLeft)return-1;if(f.charsLeft>m.charsLeft)return 1}return 0}),d=0,a=r.length;d<a;d++)o.push(r[d].baseIndex);return o})}static get EDITOR_TYPE(){return KF}getValue(){let e=this.rawChoices.find(i=>this.stripValueIfNeeded(i)===this.TEXTAREA.value);return xe(e)?e:this.TEXTAREA.value}createElements(){super.createElements(),ne(this.htContainer,"autocompleteEditor"),ne(this.htContainer,this.hot.rootWindow.navigator.platform.indexOf("Mac")===-1?"":"htMacScroll"),this.hot.getSettings().ariaTags&&Le(this.TEXTAREA,[EX(),yX(),yT("listbox"),MX()])}prepare(e,i,n,r,o,s){super.prepare(e,i,n,r,o,s),this.hot.getSettings().ariaTags&&Le(this.TEXTAREA,[zr("false"),AX(`${xZ(qF,this)}-listbox-${e}-${i}`)])}open(){super.open();let e=this.cellProperties.trimDropdown===void 0?!0:this.cellProperties.trimDropdown,i=this.hot.getSettings().ariaTags,n=Array.isArray(this.cellProperties.source)?this.cellProperties.source:null,r=n?.length,{row:o,col:s}=this;this.showEditableElement(),this.focus();let a=zi();a===0&&cg()&&(a+=15),this.addHook("beforeKeyDown",l=>this.onBeforeKeyDown(l)),this.htEditor.updateSettings({colWidths:e?[$t(this.TEXTAREA)-2]:void 0,width:e?$t(this.TEXTAREA)+a:void 0,autoColumnSize:!0,renderer:(l,c,d,u,f,m,g)=>{Or(l,c,d,u,f,m,g);let{filteringCaseSensitive:_,allowHtml:b,locale:y}=this.cellProperties,x=this.query,T=Ei(m),O,P;T&&!b&&(O=_===!0?T.indexOf(x):T.toLocaleLowerCase(y).indexOf(x.toLocaleLowerCase(y)),O!==-1&&(P=T.substr(O,x.length),T=T.replace(P,`<strong>${P}</strong>`))),i&&Le(c,[wX(),...n?[NX(r)]:[],...n?[LX(n.indexOf(m)+1)]:[],["id",`${this.htEditor.rootElement.id}_${d}-${u}`]]),c.innerHTML=T},afterSelectionEnd:(l,c)=>{if(i){let d=this.htEditor.getCell(l,c,!0);Le(d,[Jp()]),Le(this.TEXTAREA,...OX(d.id))}}}),i&&(Le(this.htEditor.view._wt.wtOverlays.wtTable.TABLE,...yo()),Le(this.htEditor.rootElement,[_T(),PX("polite"),kX("text"),["id",`${xZ(qF,this)}-listbox-${o}-${s}`]]),Le(this.TEXTAREA,...zr("true"))),this.hot._registerTimeout(()=>{this.queryChoices(this.TEXTAREA.value)})}close(){this.removeHooksByKey("beforeKeyDown"),super.close(),this.hot.getSettings().ariaTags&&Le(this.TEXTAREA,[zr("false")])}discardEditor(e){super.discardEditor(e),this.hot.view.render()}queryChoices(e){let i=this.cellProperties.source;this.query=e,typeof i=="function"?i.call(this.cellProperties,e,n=>{this.rawChoices=n,this.updateChoicesList(this.stripValuesIfNeeded(n))}):Array.isArray(i)?(this.rawChoices=i,this.updateChoicesList(this.stripValuesIfNeeded(i))):this.updateChoicesList([])}updateChoicesList(e){let i=ET(this.TEXTAREA),n=zX(this.TEXTAREA),r=this.cellProperties.sortByRelevance,o=this.cellProperties.filter,s=null,a=null,l=e;r&&(s=this.sortByRelevance(this.stripValueIfNeeded(this.getValue()),l,this.cellProperties.filteringCaseSensitive));let c=Array.isArray(s)?s.length:0;if(o===!1)c&&(a=s[0]);else{let d=[];for(let u=0,f=l.length;u<f&&!(r&&c<=u);u++)c?d.push(l[s[u]]):d.push(l[u]);a=0,l=d}this.strippedChoices=l,l.length===0?this.htEditor.rootElement.style.display="none":this.htEditor.rootElement.style.display="",this.htEditor.loadData(Kp([l])),l.length>0&&(this.updateDropdownDimensions(),this.flipDropdownIfNeeded(),this.cellProperties.strict===!0&&this.highlightBestMatchingChoice(a)),this.hot.listen(),_u(this.TEXTAREA,i,i===n?void 0:n)}flipDropdownIfNeeded(){let e=Va(this.hot.view._wt.wtTable.TABLE),i=e===this.hot.rootWindow,n=this.cellProperties.preventOverflow;if(i||!i&&(n||n==="horizontal"))return!1;let r=rn(this.TEXTAREA),o=si(this.TEXTAREA),s=this.getDropdownHeight(),a=e.scrollTop,l=si(this.hot.view._wt.wtTable.THEAD),c=rn(e),d=r.top-c.top-l+a,u=e.scrollHeight-d-l-o,f=s>u&&d>u;return f?this.flipDropdown(s):this.unflipDropdown(),this.limitDropdownIfNeeded(f?d:u,s),f}limitDropdownIfNeeded(e,i){if(i>e){let n=0,r=0,o=0,s=null;do o=this.htEditor.getRowHeight(r)||this.htEditor.view._wt.getSetting("defaultRowHeight"),n+=o,r+=1;while(n<e);s=n-o,this.htEditor.flipped&&(this.htEditor.rootElement.style.top=`${parseInt(this.htEditor.rootElement.style.top,10)+i-s}px`),this.setDropdownHeight(n-o)}}flipDropdown(e){let i=this.htEditor.rootElement.style;i.position="absolute",i.top=`${-e}px`,this.htEditor.flipped=!0}unflipDropdown(){let e=this.htEditor.rootElement.style;e.position="absolute",e.top="",this.htEditor.flipped=void 0}updateDropdownDimensions(){let e=this.htEditor.getColWidth(0)+zi(this.hot.rootDocument)+2,i=this.cellProperties.trimDropdown;this.htEditor.updateSettings({height:this.getDropdownHeight(),width:i?void 0:e}),this.htEditor.view._wt.wtTable.alignOverlaysWithTrimmingContainer()}setDropdownHeight(e){this.htEditor.updateSettings({height:e})}highlightBestMatchingChoice(e){typeof e=="number"?this.htEditor.selectCell(e,0,void 0,void 0,void 0,!1):this.htEditor.deselectCell()}getDropdownHeight(){let e=this.htEditor.getRowHeight(0)||23,i=this.cellProperties.visibleRows;return this.strippedChoices.length>=i?i*e:this.strippedChoices.length*e+8}stripValueIfNeeded(e){return this.stripValuesIfNeeded([e])[0]}stripValuesIfNeeded(e){let{allowHtml:i}=this.cellProperties,n=ct(e,o=>Ei(o));return ct(n,o=>i?o:jN(o))}allowKeyEventPropagation(e){let i=this.htEditor.getSelectedRangeLast(),n={row:i?i.from.row:-1},r=!1;return e===pt.ARROW_DOWN&&n.row>0&&n.row<this.htEditor.countRows()-1&&(r=!0),e===pt.ARROW_UP&&n.row>-1&&(r=!0),r}onBeforeKeyDown(e){if(v6(e.keyCode)||e.keyCode===pt.BACKSPACE||e.keyCode===pt.DELETE||e.keyCode===pt.INSERT){let i=10;if(e.keyCode===pt.C&&(e.ctrlKey||e.metaKey))return;this.isOpened()||(i+=10),this.htEditor&&this.hot._registerTimeout(()=>{this.queryChoices(this.TEXTAREA.value)},i)}}};var XF="checkbox",xf=class extends Ko{static get EDITOR_TYPE(){return XF}beginEditing(e,i){if(i&&i.type==="mouseup"&&i.target.nodeName==="TD"){let n=this.TD.querySelector('input[type="checkbox"]');Fe(n,"htBadValue")||n.click()}}finishEditing(){}init(){}open(){}close(){}getValue(){}setValue(){}focus(){}};var jgt=w(Q(),1),ju=w(Jr(),1);var Wu=()=>window,sa=()=>window.document,JF=(t,e)=>window.setTimeout(t,e),Bl=function(t,e,i,n){t.addEventListener(e,i,!!n)},Kc=function(t,e,i,n){t.removeEventListener(e,i,!!n)},SOe=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},bs=function(t,e){return(" "+t.className+" ").indexOf(" "+e+" ")!==-1},QF=function(t,e){bs(t,e)||(t.className=t.className===""?e:t.className+" "+e)},ZF=function(t,e){t.className=SOe((" "+t.className+" ").replace(" "+e+" "," "))},eH=function(t){return/Array/.test(Object.prototype.toString.call(t))},vs=function(t){return/Date/.test(Object.prototype.toString.call(t))&&!isNaN(t.getTime())},xOe=function(t){let e=t.getDay();return e===0||e===6},EOe=function(t){return t%4===0&&t%100!==0||t%400===0},EZ=function(t,e){return[31,EOe(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},vD=function(t){vs(t)&&t.setHours(0,0,0,0)},_D=function(t,e){return t.getTime()===e.getTime()},yD=function(t,e,i){let n,r;for(n in e)r=t[n]!==void 0,r&&typeof e[n]=="object"&&e[n]!==null&&e[n].nodeName===void 0?vs(e[n])?i&&(t[n]=new Date(e[n].getTime())):eH(e[n])?i&&(t[n]=e[n].slice(0)):t[n]=yD({},e[n],i):(i||!r)&&(t[n]=e[n]);return t},RZ=function(t,e,i){let n=sa().createEvent("HTMLEvents");n.initEvent(e,!0,!1),n=yD(n,i),t.dispatchEvent(n)},TZ=function(t){return t.month<0&&(t.year-=Math.ceil(Math.abs(t.month)/12),t.month+=12),t.month>11&&(t.year+=Math.floor(Math.abs(t.month)/12),t.month-=12),t},Vl={field:null,bound:void 0,ariaLabel:"Use the arrow keys to pick a date",position:"bottom left",reposition:!0,format:"YYYY-MM-DD",toString:null,parse:null,defaultDate:null,setDefaultDate:!1,firstDay:0,firstWeekOfYearMinDays:4,formatStrict:!1,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,pickWholeWeek:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,enableSelectionDaysInNextAndPreviousMonths:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,blurFieldOnSelect:!0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null,keyboardInput:!0},IZ=function(t,e,i){for(e+=t.firstDay;e>=7;)e-=7;return i?t.i18n.weekdaysShort[e]:t.i18n.weekdays[e]},ROe=function(t){let e=[],i="false";if(t.isEmpty)if(t.showDaysInNextAndPreviousMonths)e.push("is-outside-current-month"),t.enableSelectionDaysInNextAndPreviousMonths||e.push("is-selection-disabled");else return'<td class="is-empty"></td>';return t.isDisabled&&e.push("is-disabled"),t.isToday&&e.push("is-today"),t.isSelected&&(e.push("is-selected"),i="true"),t.hasEvent&&e.push("has-event"),t.isInRange&&e.push("is-inrange"),t.isStartRange&&e.push("is-startrange"),t.isEndRange&&e.push("is-endrange"),'<td data-day="'+t.day+'" class="'+e.join(" ")+'" aria-selected="'+i+'"><button class="pika-button pika-day" type="button" data-pika-year="'+t.year+'" data-pika-month="'+t.month+'" data-pika-day="'+t.day+'">'+t.day+"</button></td>"},TOe=function(t,e){t.setHours(0,0,0,0);let i=t.getDate(),n=t.getDay(),r=e,o=r-1,s=7,a=function(f){return(f+s-1)%s};t.setDate(i+o-a(n));let l=new Date(t.getFullYear(),0,r),c=24*60*60*1e3,d=(t.getTime()-l.getTime())/c;return 1+Math.round((d-o+a(l.getDay()))/s)},IOe=function(t,e,i,n,r){let o=new Date(n,i,e);return'<td class="pika-week">'+(t.hasMoment?t.moment(o).isoWeek():TOe(o,r))+"</td>"},DOe=function(t,e,i,n){return'<tr class="pika-row'+(i?" pick-whole-week":"")+(n?" is-selected":"")+'">'+(e?t.reverse():t).join("")+"</tr>"},MOe=function(t){return"<tbody>"+t.join("")+"</tbody>"},AOe=function(t){let e,i=[];for(t.showWeekNumber&&i.push("<th></th>"),e=0;e<7;e++)i.push('<th scope="col"><abbr title="'+IZ(t,e)+'">'+IZ(t,e,!0)+"</abbr></th>");return"<thead><tr>"+(t.isRTL?i.reverse():i).join("")+"</tr></thead>"},OOe=function(t,e,i,n,r,o){let s,a,l,c=t._o,d=i===c.minYear,u=i===c.maxYear,f='<div id="'+o+'" class="pika-title" role="heading" aria-live="polite">',m,g,_=!0,b=!0;for(l=[],s=0;s<12;s++)l.push('<option value="'+(i===r?s-e:12+s-e)+'"'+(s===n?' selected="selected"':"")+(d&&s<c.minMonth||u&&s>c.maxMonth?' disabled="disabled"':"")+">"+c.i18n.months[s]+"</option>");for(m='<div class="pika-label">'+c.i18n.months[n]+'<select class="pika-select pika-select-month" tabindex="-1">'+l.join("")+"</select></div>",eH(c.yearRange)?(s=c.yearRange[0],a=c.yearRange[1]+1):(s=i-c.yearRange,a=1+i+c.yearRange),l=[];s<a&&s<=c.maxYear;s++)s>=c.minYear&&l.push('<option value="'+s+'"'+(s===i?' selected="selected"':"")+">"+s+"</option>");return g='<div class="pika-label">'+i+c.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+l.join("")+"</select></div>",c.showMonthAfterYear?f+=g+m:f+=m+g,d&&(n===0||c.minMonth>=n)&&(_=!1),u&&(n===11||c.maxMonth<=n)&&(b=!1),e===0&&(f+='<button class="pika-prev'+(_?"":" is-disabled")+'" type="button">'+c.i18n.previousMonth+"</button>"),e===t._o.numberOfMonths-1&&(f+='<button class="pika-next'+(b?"":" is-disabled")+'" type="button">'+c.i18n.nextMonth+"</button>"),f+="</div>"},POe=function(t,e,i){return'<table cellpadding="0" cellspacing="0" class="pika-table" role="grid" aria-labelledby="'+i+'">'+AOe(t)+MOe(e)+"</table>"};function wD(t){let e=this,i=e.config(t);e._onMouseDown=function(r){if(!e._v)return;r=r||Wu().event;let o=r.target||r.srcElement;if(o)if(bs(o,"is-disabled")||(bs(o,"pika-button")&&!bs(o,"is-empty")&&!bs(o.parentNode,"is-disabled")?(e.setDate(new Date(o.getAttribute("data-pika-year"),o.getAttribute("data-pika-month"),o.getAttribute("data-pika-day"))),i.bound&&JF(function(){e.hide(),i.blurFieldOnSelect&&i.field&&i.field.blur()},100)):bs(o,"pika-prev")?e.prevMonth():bs(o,"pika-next")&&e.nextMonth()),bs(o,"pika-select"))e._c=!0;else if(r.preventDefault)r.preventDefault();else return r.returnValue=!1,!1},e._onChange=function(r){r=r||Wu().event;let o=r.target||r.srcElement;o&&(bs(o,"pika-select-month")?e.gotoMonth(o.value):bs(o,"pika-select-year")&&e.gotoYear(o.value))},e._onKeyChange=function(r){if(r=r||Wu().event,e.isVisible())switch(r.keyCode){case 13:case 27:i.field&&i.field.blur();break;case 37:e.adjustDate("subtract",1);break;case 38:e.adjustDate("subtract",7);break;case 39:e.adjustDate("add",1);break;case 40:e.adjustDate("add",7);break;case 8:case 46:e.setDate(null);break}},e._parseFieldValue=function(){if(i.parse)return i.parse(i.field.value,i.format);if(this.hasMoment){let r=this.moment(i.field.value,i.format,i.formatStrict);return r&&r.isValid()?r.toDate():null}else return new Date(Date.parse(i.field.value))},e._onInputChange=function(r){let o;r.firedBy!==e&&(o=e._parseFieldValue(),vs(o)&&e.setDate(o),e._v||e.show())},e._onInputFocus=function(){e.show()},e._onInputClick=function(){e.show()},e._onInputBlur=function(){let r=sa().activeElement;do if(bs(r,"pika-single"))return;while(r=r.parentNode);e._c||(e._b=JF(function(){e.hide()},50)),e._c=!1},e._onClick=function(r){r=r||Wu().event;let o=r.target||r.srcElement,s=o;if(o){!hasEventListeners&&bs(o,"pika-select")&&(o.onchange||(o.setAttribute("onchange","return;"),Bl(o,"change",e._onChange)));do if(bs(s,"pika-single")||s===i.trigger)return;while(s=s.parentNode);e._v&&o!==i.trigger&&s!==i.trigger&&e.hide()}},e.el=sa().createElement("div"),e.el.className="pika-single"+(i.isRTL?" is-rtl":"")+(i.theme?" "+i.theme:""),Bl(e.el,"mousedown",e._onMouseDown,!0),Bl(e.el,"touchend",e._onMouseDown,!0),Bl(e.el,"change",e._onChange),i.keyboardInput&&Bl(sa(),"keydown",e._onKeyChange),i.field&&(i.container?i.container.appendChild(e.el):i.bound?sa().body.appendChild(e.el):i.field.parentNode.insertBefore(e.el,i.field.nextSibling),Bl(i.field,"change",e._onInputChange),i.defaultDate||(i.defaultDate=e._parseFieldValue(),i.setDefaultDate=!0));let n=i.defaultDate;vs(n)?i.setDefaultDate?e.setDate(n,!0):e.gotoDate(n):e.gotoDate(new Date),i.bound?(this.hide(),e.el.className+=" is-bound",Bl(i.trigger,"click",e._onInputClick),Bl(i.trigger,"focus",e._onInputFocus),Bl(i.trigger,"blur",e._onInputBlur)):this.show()}wD.prototype={config:function(t){this._o||(this._o=yD({},Vl,!0));let e=yD(this._o,t,!0);e.isRTL=!!e.isRTL,e.field=e.field&&e.field.nodeName?e.field:null,e.theme=typeof e.theme=="string"&&e.theme?e.theme:null,e.bound=!!(e.bound!==void 0?e.field&&e.bound:e.field),e.trigger=e.trigger&&e.trigger.nodeName?e.trigger:e.field,e.disableWeekends=!!e.disableWeekends,e.disableDayFn=typeof e.disableDayFn=="function"?e.disableDayFn:null;let i=parseInt(e.numberOfMonths,10)||1;if(e.numberOfMonths=i>4?4:i,vs(e.minDate)||(e.minDate=!1),vs(e.maxDate)||(e.maxDate=!1),e.minDate&&e.maxDate&&e.maxDate<e.minDate&&(e.maxDate=e.minDate=!1),e.minDate&&this.setMinDate(e.minDate),e.maxDate&&this.setMaxDate(e.maxDate),eH(e.yearRange)){let n=new Date().getFullYear()-10;e.yearRange[0]=parseInt(e.yearRange[0],10)||n,e.yearRange[1]=parseInt(e.yearRange[1],10)||n}else e.yearRange=Math.abs(parseInt(e.yearRange,10))||Vl.yearRange,e.yearRange>100&&(e.yearRange=100);return e},toString:function(t){return t=t||this._o.format,vs(this._d)?this._o.toString?this._o.toString(this._d,t):this.hasMoment?this.moment(this._d).format(t):this._d.toDateString():""},getMoment:function(){return this.hasMoment?this.moment(this._d):null},setMoment:function(t,e){this.hasMoment&&this.moment.isMoment(t)&&this.setDate(t.toDate(),e)},useMoment:function(t){this.hasMoment=!0,this.moment=t},getDate:function(){return vs(this._d)?new Date(this._d.getTime()):null},setDate:function(t,e){if(!t)return this._d=null,this._o.field&&(this._o.field.value="",RZ(this._o.field,"change",{firedBy:this})),this.draw();if(typeof t=="string"&&(t=new Date(Date.parse(t))),!vs(t))return;let i=this._o.minDate,n=this._o.maxDate;vs(i)&&t<i?t=i:vs(n)&&t>n&&(t=n),this._d=new Date(t.getTime()),vD(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),RZ(this._o.field,"change",{firedBy:this})),!e&&typeof this._o.onSelect=="function"&&this._o.onSelect.call(this,this.getDate())},clear:function(){this.setDate(null)},gotoDate:function(t){let e=!0;if(vs(t)){if(this.calendars){let i=new Date(this.calendars[0].year,this.calendars[0].month,1),n=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),r=t.getTime();n.setMonth(n.getMonth()+1),n.setDate(n.getDate()-1),e=r<i.getTime()||n.getTime()<r}e&&(this.calendars=[{month:t.getMonth(),year:t.getFullYear()}],this._o.mainCalendar==="right"&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustDate:function(t,e){let i=this.getDate()||new Date,n=parseInt(e)*24*60*60*1e3,r;t==="add"?r=new Date(i.valueOf()+n):t==="subtract"&&(r=new Date(i.valueOf()-n)),this.setDate(r)},adjustCalendars:function(){this.calendars[0]=TZ(this.calendars[0]);for(let t=1;t<this._o.numberOfMonths;t++)this.calendars[t]=TZ({month:this.calendars[0].month+t,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(t){isNaN(t)||(this.calendars[0].month=parseInt(t,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(t){isNaN(t)||(this.calendars[0].year=parseInt(t,10),this.adjustCalendars())},setMinDate:function(t){t instanceof Date?(vD(t),this._o.minDate=t,this._o.minYear=t.getFullYear(),this._o.minMonth=t.getMonth()):(this._o.minDate=Vl.minDate,this._o.minYear=Vl.minYear,this._o.minMonth=Vl.minMonth,this._o.startRange=Vl.startRange),this.draw()},setMaxDate:function(t){t instanceof Date?(vD(t),this._o.maxDate=t,this._o.maxYear=t.getFullYear(),this._o.maxMonth=t.getMonth()):(this._o.maxDate=Vl.maxDate,this._o.maxYear=Vl.maxYear,this._o.maxMonth=Vl.maxMonth,this._o.endRange=Vl.endRange),this.draw()},setStartRange:function(t){this._o.startRange=t},setEndRange:function(t){this._o.endRange=t},draw:function(t){if(!this._v&&!t)return;let e=this._o,i=e.minYear,n=e.maxYear,r=e.minMonth,o=e.maxMonth,s="",a;this._y<=i&&(this._y=i,!isNaN(r)&&this._m<r&&(this._m=r)),this._y>=n&&(this._y=n,!isNaN(o)&&this._m>o&&(this._m=o));for(let l=0;l<e.numberOfMonths;l++)a="pika-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2),s+='<div class="pika-lendar">'+OOe(this,l,this.calendars[l].year,this.calendars[l].month,this.calendars[0].year,a)+this.render(this.calendars[l].year,this.calendars[l].month,a)+"</div>";this.el.innerHTML=s,e.bound&&e.field.type!=="hidden"&&JF(function(){e.trigger.focus()},1),typeof this._o.onDraw=="function"&&this._o.onDraw(this),e.bound&&e.field.setAttribute("aria-label",e.ariaLabel)},adjustPosition:function(){let t,e,i,n,r,o,s,a,l,c,d;this._o.container||(this.el.style.position="absolute",t=this._o.trigger,e=this.el.offsetWidth,i=this.el.offsetHeight,n=Wu().innerWidth||sa().documentElement.clientWidth,r=Wu().innerHeight||sa().documentElement.clientHeight,o=sa().body.scrollTop||sa().documentElement.scrollTop,c=!0,d=!0,l=t.getBoundingClientRect(),s=l.left+Wu().pageXOffset,a=l.bottom+Wu().pageYOffset,(this._o.reposition&&s+e>n||this._o.position.indexOf("right")>-1&&s-e+t.offsetWidth>0)&&(s=s-e+t.offsetWidth,c=!1),(this._o.reposition&&a+i>r+o||this._o.position.indexOf("top")>-1&&a-i-t.offsetHeight>0)&&(a=a-i-t.offsetHeight,d=!1),s<0&&(s=0),a<0&&(a=0),this.el.style.left=s+"px",this.el.style.top=a+"px",QF(this.el,c?"left-aligned":"right-aligned"),QF(this.el,d?"bottom-aligned":"top-aligned"),ZF(this.el,c?"right-aligned":"left-aligned"),ZF(this.el,d?"top-aligned":"bottom-aligned"))},render:function(t,e,i){let n=this._o,r=new Date,o=EZ(t,e),s=new Date(t,e,1).getDay(),a=[],l=[];vD(r),n.firstDay>0&&(s-=n.firstDay,s<0&&(s+=7));let c=e===0?11:e-1,d=e===11?0:e+1,u=e===0?t-1:t,f=e===11?t+1:t,m=EZ(u,c),g=o+s,_=g;for(;_>7;)_-=7;g+=7-_;let b=!1;for(let y=0,x=0;y<g;y++){let T=new Date(t,e,1+(y-s)),O=vs(this._d)?_D(T,this._d):!1,P=_D(T,r),V=n.events.indexOf(T.toDateString())!==-1,F=y<s||y>=o+s,k=1+(y-s),Z=e,ae=t,re=n.startRange&&_D(n.startRange,T),ve=n.endRange&&_D(n.endRange,T),Pe=n.startRange&&n.endRange&&n.startRange<T&&T<n.endRange,Ne=n.minDate&&T<n.minDate||n.maxDate&&T>n.maxDate||n.disableWeekends&&xOe(T)||n.disableDayFn&&n.disableDayFn(T);F&&(y<s?(k=m+k,Z=c,ae=u):(k=k-o,Z=d,ae=f));let Oe={day:k,month:Z,year:ae,hasEvent:V,isSelected:O,isToday:P,isDisabled:Ne,isEmpty:F,isStartRange:re,isEndRange:ve,isInRange:Pe,showDaysInNextAndPreviousMonths:n.showDaysInNextAndPreviousMonths,enableSelectionDaysInNextAndPreviousMonths:n.enableSelectionDaysInNextAndPreviousMonths};n.pickWholeWeek&&O&&(b=!0),l.push(ROe(Oe)),++x===7&&(n.showWeekNumber&&l.unshift(IOe(this,y-s,e,t,n.firstWeekOfYearMinDays)),a.push(DOe(l,n.isRTL,n.pickWholeWeek,b)),l=[],x=0,b=!1)}return POe(n,a,i)},isVisible:function(){return this._v},show:function(){this.isVisible()||(this._v=!0,this.draw(),ZF(this.el,"is-hidden"),this._o.bound&&(Bl(sa(),"click",this._onClick),this.adjustPosition()),typeof this._o.onOpen=="function"&&this._o.onOpen.call(this))},hide:function(){let t=this._v;t!==!1&&(this._o.bound&&Kc(sa(),"click",this._onClick),this._o.container||(this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto"),QF(this.el,"is-hidden"),this._v=!1,t!==void 0&&typeof this._o.onClose=="function"&&this._o.onClose.call(this))},destroy:function(){let t=this._o;this.hide(),Kc(this.el,"mousedown",this._onMouseDown,!0),Kc(this.el,"touchend",this._onMouseDown,!0),Kc(this.el,"change",this._onChange),t.keyboardInput&&Kc(sa(),"keydown",this._onKeyChange),t.field&&(Kc(t.field,"change",this._onInputChange),t.bound&&(Kc(t.trigger,"click",this._onInputClick),Kc(t.trigger,"focus",this._onInputFocus),Kc(t.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}};function tH(t,e,i){return e=kOe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function kOe(t){var e=NOe(t,"string");return typeof e=="symbol"?e:e+""}function NOe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BC="date",DZ="dateEditor",Ef=class extends Yr{constructor(){super(...arguments),tH(this,"defaultDateFormat","DD/MM/YYYY"),tH(this,"parentDestroyed",!1),tH(this,"$datePicker",null)}static get EDITOR_TYPE(){return BC}init(){if(typeof ju.default!="function")throw new Error("You need to include moment.js to your project.");if(typeof wD!="function")throw new Error("You need to include Pikaday to your project.");super.init(),this.hot.addHook("afterDestroy",()=>{this.parentDestroyed=!0,this.destroyElements()})}createElements(){super.createElements(),this.datePicker=this.hot.rootDocument.createElement("DIV"),this.datePickerStyle=this.datePicker.style,this.datePickerStyle.position="absolute",this.datePickerStyle.top=0,this.datePickerStyle.left=0,this.datePickerStyle.zIndex=9999,this.datePicker.setAttribute("dir",this.hot.isRtl()?"rtl":"ltr"),ne(this.datePicker,"htDatepickerHolder"),this.hot.rootDocument.body.appendChild(this.datePicker),this.eventManager.addEventListener(this.datePicker,"mousedown",e=>{Fe(e.target,"pika-day")&&this.hideDatepicker(),e.stopPropagation()})}destroyElements(){let e=this.datePicker.parentNode;this.$datePicker&&this.$datePicker.destroy(),e&&e.removeChild(this.datePicker)}prepare(e,i,n,r,o,s){super.prepare(e,i,n,r,o,s)}open(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=this.hot.getShortcutManager().getContext("editor");this.showDatepicker(e),super.open(),n.addShortcuts([{keys:[["ArrowLeft"]],callback:()=>{this.$datePicker.adjustDate("subtract",1)}},{keys:[["ArrowRight"]],callback:()=>{this.$datePicker.adjustDate("add",1)}},{keys:[["ArrowUp"]],callback:()=>{this.$datePicker.adjustDate("subtract",7)}},{keys:[["ArrowDown"]],callback:()=>{this.$datePicker.adjustDate("add",7)}}],{group:DZ})}close(){var e;this._opened=!1,(e=this.$datePicker)!==null&&e!==void 0&&e.destroy&&this.$datePicker.destroy(),this.hot._registerTimeout(()=>{let r=this.hot._getEditorManager();r.closeEditor(),this.hot.view.render(),r.prepareEditor()}),this.hot.getShortcutManager().getContext("editor").removeShortcutsByGroup(DZ),super.close()}finishEditing(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;super.finishEditing(e,i)}showDatepicker(e){let i=this.cellProperties.dateFormat||this.defaultDateFormat,n=this.hot.view.isMouseDown(),r=e?FT(e.keyCode):!1,o;this.datePicker.style.display="block",this.$datePicker=new wD(this.getDatePickerConfig()),typeof this.$datePicker.useMoment=="function"&&this.$datePicker.useMoment(ju.default),this.$datePicker._onInputFocus=function(){},this.originalValue?(o=this.originalValue,(0,ju.default)(o,i,!0).isValid()&&this.$datePicker.setMoment((0,ju.default)(o,i),!0),this.getValue()!==this.originalValue&&this.setValue(this.originalValue),!r&&!n&&this.setValue("")):this.cellProperties.defaultDate?(o=this.cellProperties.defaultDate,(0,ju.default)(o,i,!0).isValid()&&this.$datePicker.setMoment((0,ju.default)(o,i),!0),!r&&!n&&this.setValue("")):this.$datePicker.gotoToday()}hideDatepicker(){this.datePickerStyle.display="none",this.$datePicker.hide()}getDatePickerConfig(){let e=this.TEXTAREA,i={};this.cellProperties&&this.cellProperties.datePickerConfig&&sf(i,this.cellProperties.datePickerConfig);let n=i.onSelect,r=i.onClose;return i.field=e,i.trigger=e,i.container=this.datePicker,i.bound=!1,i.keyboardInput=!1,i.format=i.format||this.defaultDateFormat,i.reposition=i.reposition||!1,i.isRTL=!1,i.onSelect=o=>{let s=o;isNaN(s.getTime())||(s=(0,ju.default)(s).format(this.cellProperties.dateFormat||this.defaultDateFormat)),this.setValue(s),n&&n()},i.onClose=()=>{this.parentDestroyed||this.finishEditing(!1),r&&r()},i}refreshDimensions(e){var i;if(super.refreshDimensions(e),this.state!==on.EDITING)return;if(this.TD=this.getEditedCell(),!this.TD){this.hideDatepicker();return}let{rowIndexMapper:n,columnIndexMapper:r}=this.hot,{wtOverlays:o}=this.hot.view._wt,{wtTable:s}=(i=o.getParentOverlay(this.TD))!==null&&i!==void 0?i:this.hot.view._wt,a=n.getVisualFromRenderableIndex(s.getFirstPartiallyVisibleRow()),l=n.getVisualFromRenderableIndex(s.getLastPartiallyVisibleRow()),c=r.getVisualFromRenderableIndex(s.getFirstPartiallyVisibleColumn()),d=r.getVisualFromRenderableIndex(s.getLastPartiallyVisibleColumn());if(this.row>=a&&this.row<=l&&this.col>=c&&this.col<=d){let u=this.TD.getBoundingClientRect();this.datePickerStyle.top=`${this.hot.rootWindow.pageYOffset+u.top+si(this.TD)}px`;let f=this.hot.rootWindow.pageXOffset;this.hot.isRtl()?f+=u.right-$t(this.datePicker):f+=u.left,this.datePickerStyle.left=`${f}px`}else this.hideDatepicker()}};var iH="dropdown",Uu=class extends qc{static get EDITOR_TYPE(){return iH}prepare(e,i,n,r,o,s){super.prepare(e,i,n,r,o,s),this.cellProperties.filter=!1,this.cellProperties.strict=!0}};Ee.getSingleton().add("beforeValidate",function(t,e,i){let n=this.propToCol(i);if(Number.isInteger(n)){let r=this.getCellMeta(e,n);r.editor===Uu&&r.strict===void 0&&(r.filter=!1,r.strict=!0)}});var nH="numeric",Rf=class extends Yr{static get EDITOR_TYPE(){return nH}};var rH="password",Tf=class extends Yr{static get EDITOR_TYPE(){return rH}createElements(){super.createElements(),this.TEXTAREA=this.hot.rootDocument.createElement("input"),this.TEXTAREA.setAttribute("type","password"),this.TEXTAREA.setAttribute("data-hot-input",""),this.TEXTAREA.className="handsontableInput",this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,this.hot.getSettings().ariaTags&&Le(this.TEXTAREA,[Sr()]),xr(this.TEXTAREA_PARENT),this.TEXTAREA_PARENT.appendChild(this.TEXTAREA)}};var oH="ht_editor_visible",MZ="selectEditor",sH="select",If=class extends Ko{static get EDITOR_TYPE(){return sH}init(){this.select=this.hot.rootDocument.createElement("select"),this.select.setAttribute("data-hot-input","true"),this.select.style.display="none",ne(this.select,"htSelectEditor"),this.hot.rootElement.appendChild(this.select),this.registerHooks()}getValue(){return this.select.value}setValue(e){this.select.value=e}open(){this._opened=!0,this.refreshDimensions(),this.select.style.display="",this.hot.getShortcutManager().setActiveContextName("editor"),this.registerShortcuts()}close(){this._opened=!1,this.select.style.display="none",Fe(this.select,oH)&&tt(this.select,oH),this.unregisterShortcuts(),this.clearHooks()}focus(){this.select.focus()}registerHooks(){this.addHook("afterScrollHorizontally",()=>this.refreshDimensions()),this.addHook("afterScrollVertically",()=>this.refreshDimensions()),this.addHook("afterColumnResize",()=>this.refreshDimensions()),this.addHook("afterRowResize",()=>this.refreshDimensions())}prepare(e,i,n,r,o,s){super.prepare(e,i,n,r,o,s);let a=this.cellProperties.selectOptions,l;typeof a=="function"?l=this.prepareOptions(a(this.row,this.col,this.prop)):l=this.prepareOptions(a),xr(this.select),nt(l,(c,d)=>{let u=this.hot.rootDocument.createElement("OPTION");u.value=d,qs(u,c),this.select.appendChild(u)})}prepareOptions(e){let i={};if(Array.isArray(e))for(let n=0,r=e.length;n<r;n++)i[e[n]]=e[n];else typeof e=="object"&&(i=e);return i}refreshValue(){let e=this.hot.getSourceDataAtCell(this.row,this.prop);this.originalValue=e,this.setValue(e),this.refreshDimensions()}refreshDimensions(){if(this.state!==on.EDITING)return;if(this.TD=this.getEditedCell(),!this.TD){this.close();return}let{top:e,start:i,width:n,height:r}=this.getEditedCellRect(),o=this.select.style;o.height=`${r}px`,o.width=`${n}px`,o.top=`${e}px`,o[this.hot.isRtl()?"right":"left"]=`${i}px`,o.margin="0px",ne(this.select,oH)}registerShortcuts(){let i=this.hot.getShortcutManager().getContext("editor"),n={group:MZ};this.isInFullEditMode()&&i.addShortcuts([{keys:[["ArrowUp"]],callback:()=>{let r=this.select.selectedIndex-1;r>=0&&(this.select[r].selected=!0)}},{keys:[["ArrowDown"]],callback:()=>{let r=this.select.selectedIndex+1;r<=this.select.length-1&&(this.select[r].selected=!0)}}],n)}unregisterShortcuts(){this.hot.getShortcutManager().getContext("editor").removeShortcutsByGroup(MZ)}};var aH="time",Df=class extends Yr{static get EDITOR_TYPE(){return aH}prepare(e,i,n,r,o,s){super.prepare(e,i,n,r,o,s),this.TEXTAREA.dir="ltr"}};function AZ(){wo(Ko),wo(qc),wo(xf),wo(Ef),wo(Uu),wo($c),wo(Rf),wo(Tf),wo(If),wo(Yr),wo(Df)}var lH="html";function Fg(t,e,i,n,r,o,s){Hl.apply(this,[t,e,i,n,r,o,s]),qs(e,o??"",!1)}Fg.RENDERER_TYPE=lH;var cH="autocomplete";function aa(t,e,i,n,r,o,s){let{rootDocument:a}=t,l=s.allowHtml?Fg:Or,c=a.createElement("DIV"),d=t.getSettings().ariaTags;if(c.className="htAutocompleteArrow",d&&c.setAttribute(...Sr()),c.appendChild(a.createTextNode("\u25BC")),l.apply(this,[t,e,i,n,r,o,s]),e.firstChild||e.appendChild(a.createTextNode("\xA0")),e.insertBefore(c,e.firstChild),ne(e,"htAutocomplete"),!t.acArrowListener){let u=new Xn(t);t.acArrowListener=function(f){Fe(f.target,"htAutocompleteArrow")&&t.view._wt.getSetting("onCellDblClick",null,t._createCellCoords(i,n),e)},u.addEventListener(t.rootElement,"mousedown",t.acArrowListener),t.addHookOnce("afterDestroy",()=>{u.destroy()})}}aa.RENDERER_TYPE=cH;var dH="dropdown";function Hg(t,e,i,n,r,o,s){aa.apply(this,[t,e,i,n,r,o,s])}Hg.RENDERER_TYPE=dH;var Jbt=w(be(),1);var OZ=new WeakMap,PZ=new WeakMap,LOe="htBadValue",Vg="data-row",Bg="data-col",FOe="checkboxRenderer",CD="checkbox";Ee.getSingleton().add("modifyAutoColumnSizeSeed",function(t,e,i){let{label:n,type:r,row:o,column:s,prop:a}=e;if(r===CD){if(n){let{value:l,property:c}=n,d=i;if(l)d=typeof l=="function"?l(o,s,a,i):l;else if(c){let u=this.getDataAtRowProp(o,c);d=u!==null?u:i}t=d}return t}});function Wg(t,e,i,n,r,o,s){let{rootDocument:a}=t,l=t.getSettings().ariaTags;Hl.apply(this,[t,e,i,n,r,o,s]),HOe(t);let c=VOe(a),d=s.label,u=!1;if(typeof s.checkedTemplate>"u"&&(s.checkedTemplate=!0),typeof s.uncheckedTemplate>"u"&&(s.uncheckedTemplate=!1),xr(e),o===s.checkedTemplate||Ei(o).toLocaleLowerCase(s.locale)===Ei(s.checkedTemplate).toLocaleLowerCase(s.locale)?c.checked=!0:o===s.uncheckedTemplate||Ei(o).toLocaleLowerCase(s.locale)===Ei(s.uncheckedTemplate).toLocaleLowerCase(s.locale)?c.checked=!1:Ri(o)?ne(c,"noValue"):(c.style.display="none",ne(c,LOe),u=!0),Le(c,[[Vg,i],[Bg,n]]),l&&Le(c,[Xp(c.checked?t.getTranslatedPhrase(RC):t.getTranslatedPhrase(TC)),DX(c.checked),CX()]),!u&&d){let _="";if(d.value)_=typeof d.value=="function"?d.value.call(this,i,n,r,o):d.value;else if(d.property){let y=t.getDataAtRowProp(i,d.property);_=y!==null?y:""}let b=BOe(a,_,d.separated!==!0);d.position==="before"?d.separated?(e.appendChild(b),e.appendChild(c)):(b.appendChild(c),c=b):(!d.position||d.position==="after")&&(d.separated?(e.appendChild(c),e.appendChild(b)):(b.insertBefore(c,b.firstChild),c=b))}(!d||d&&!d.separated)&&e.appendChild(c),u&&e.appendChild(a.createTextNode("#bad-value#")),OZ.has(t)||(OZ.set(t,!0),f());function f(){let b=t.getShortcutManager().getContext("grid"),y={group:FOe,relativeToGroup:so,position:"before"};b.addShortcuts([{keys:[["space"]],callback:()=>(m(),!g()),runOnlyIf:()=>{var x;return(x=t.getSelectedRangeLast())===null||x===void 0?void 0:x.highlight.isCell()}},{keys:[["enter"]],callback:()=>(m(),!g()),runOnlyIf:()=>{let x=t.getSelectedRangeLast();return t.getSettings().enterBeginsEditing&&x?.isSingle()&&x.highlight.isCell()}},{keys:[["delete"],["backspace"]],callback:()=>(m(!0),!g()),runOnlyIf:()=>{var x;return(x=t.getSelectedRangeLast())===null||x===void 0?void 0:x.highlight.isCell()}}],y)}function m(){let _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,b=t.getSelectedRange(),y=[],x=[],T=0;if(b){for(let O=0;O<b.length;O++){let{row:P,col:V}=b[O].getTopStartCorner(),{row:F,col:k}=b[O].getBottomEndCorner();for(let Z=P;Z<=F;Z+=1)for(let ae=V;ae<=k;ae+=1){let re=t.getCellMeta(Z,ae),ve={checkedTemplate:re.checkedTemplate,uncheckedTemplate:re.uncheckedTemplate};if(re.type!=="checkbox")return;if(re.readOnly===!0)continue;typeof re.checkedTemplate>"u"&&(re.checkedTemplate=!0),typeof re.uncheckedTemplate>"u"&&(re.uncheckedTemplate=!1);let Pe=t.getDataAtCell(Z,ae);_===!1?[re.checkedTemplate,re.checkedTemplate.toString()].includes(Pe)?x.push([Z,ae,re.uncheckedTemplate,ve]):[re.uncheckedTemplate,re.uncheckedTemplate.toString(),null,void 0].includes(Pe)&&x.push([Z,ae,re.checkedTemplate,ve]):x.push([Z,ae,re.uncheckedTemplate,ve]),T+=1}y.push(T),T=0}x.every(O=>{let[,,P]=O;return P===x[0][2]})?x=x.map(O=>{let[P,V,F]=O;return[P,V,F]}):x=x.map(O=>{let[P,V,,F]=O;return[P,V,F.checkedTemplate]}),x.length>0&&y.forEach(O=>{let P=x.splice(0,O);t.setDataAtCell(P)})}}function g(){let _=t.getSelectedRange();if(_){for(let b=0;b<_.length;b++){let y=_[b].getTopStartCorner(),x=_[b].getBottomEndCorner();for(let T=y.row;T<=x.row;T++)for(let O=y.col;O<=x.col;O++){let P=t.getCellMeta(T,O);if(P.type!=="checkbox")return!1;let V=t.getCell(T,O);if(V==null)return!0;if(V.querySelectorAll("input[type=checkbox]").length>0&&!P.readOnly)return!0}}return!1}}}Wg.RENDERER_TYPE=CD;function HOe(t){let e=PZ.get(t);if(!e){let{rootElement:i}=t;e=new Xn(t),e.addEventListener(i,"click",n=>jOe(n,t)),e.addEventListener(i,"mouseup",n=>WOe(n,t)),e.addEventListener(i,"change",n=>UOe(n,t)),PZ.set(t,e)}return e}function VOe(t){let e=t.createElement("input");return e.className="htCheckboxRendererInput",e.type="checkbox",e.setAttribute("tabindex","-1"),e.cloneNode(!1)}function BOe(t,e,i){let n=t.createElement("label");return n.className=`htCheckboxRendererLabel ${i?"fullWidth":""}`,n.appendChild(t.createTextNode(e)),n.cloneNode(!0)}function WOe(t,e){let{target:i}=t;uH(i)&&(!i.hasAttribute(Vg)||!i.hasAttribute(Bg)||setTimeout(e.listen,10))}function jOe(t,e){let{target:i}=t;if(!uH(i)||!i.hasAttribute(Vg)||!i.hasAttribute(Bg))return;let n=parseInt(i.getAttribute(Vg),10),r=parseInt(i.getAttribute(Bg),10);e.getCellMeta(n,r).readOnly&&t.preventDefault()}function UOe(t,e){let{target:i}=t;if(!uH(i)||!i.hasAttribute(Vg)||!i.hasAttribute(Bg))return;let n=parseInt(i.getAttribute(Vg),10),r=parseInt(i.getAttribute(Bg),10),o=e.getCellMeta(n,r);if(!o.readOnly){let s=null;t.target.checked?s=o.uncheckedTemplate===void 0?!0:o.checkedTemplate:s=o.uncheckedTemplate===void 0?!1:o.uncheckedTemplate,e.setDataAtCell(n,r,s)}}function uH(t){return t.tagName==="INPUT"&&t.getAttribute("type")==="checkbox"}var hH="handsontable";function jg(t,e,i,n,r,o,s){aa.apply(this,[t,e,i,n,r,o,s])}jg.RENDERER_TYPE=hH;var gvt=w(be(),1),zu=w(NZ(),1);var mH="numeric";function SD(t,e){if(Qn(t)){let i=e.numericFormat,n=i&&i.culture||"-",r=i&&i.pattern;if(typeof n<"u"&&!zu.default.languages()[n]){let o=n.replace("-",""),s=zu.default.allLanguages?zu.default.allLanguages[n]:zu.default[o];s&&zu.default.registerLanguage(s)}zu.default.setLanguage(n),t=(0,zu.default)(t).format(r||"0")}return t}function Ug(t,e,i,n,r,o,s){let a=o;if(Qn(a)){let l=s.className||"",c=l.length?l.split(" "):[];a=SD(a,s),c.indexOf("htLeft")<0&&c.indexOf("htCenter")<0&&c.indexOf("htRight")<0&&c.indexOf("htJustify")<0&&c.push("htRight"),c.indexOf("htNumeric")<0&&c.push("htNumeric"),s.className=c.join(" "),e.dir="ltr"}Or(t,e,i,n,r,a,s)}Ug.RENDERER_TYPE=mH;var pH="password";function zg(t,e,i,n,r,o,s){Or.apply(this,[t,e,i,n,r,o,s]);let a=s.hashLength||e.innerHTML.length,l=s.hashSymbol||"*",c="";Se(a-1,()=>{c+=l}),qs(e,c)}zg.RENDERER_TYPE=pH;var gH="select";function Yg(t,e,i,n,r,o,s){Or.apply(this,[t,e,i,n,r,o,s])}Yg.RENDERER_TYPE=gH;var bH="time";function Gg(t,e,i,n,r,o,s){Or.apply(this,[t,e,i,n,r,o,s]),e.dir="ltr"}Gg.RENDERER_TYPE=bH;function LZ(){Uo(aa),Uo(Hl),Uo(Wg),Uo(Hg),Uo(jg),Uo(Fg),Uo(Ug),Uo(zg),Uo(Yg),Uo(Or),Uo(Gg)}var vH="autocomplete";function Yu(t,e){let i=t;if(i==null&&(i=""),this.allowEmpty&&i===""){e(!0);return}this.strict&&this.source?typeof this.source=="function"?this.source(i,FZ(i,e)):FZ(i,e)(this.source):e(!0)}Yu.VALIDATOR_TYPE=vH;function FZ(t,e){let i=t;return function(n){let r=!1;for(let o=0,s=n.length;o<s;o++)if(i===n[o]){r=!0;break}e(r)}}var WC=w(Jr(),1);function HZ(t){let e=new Date(t);return isNaN(new Date(`${t}T00:00`).getDate())?e:new Date(e.getTime()+e.getTimezoneOffset()*6e4)}var _H="date";function $g(t,e){let i=UT(BC,this.instance),n=t,r=!0;n==null&&(n="");let o=(0,WC.default)(n,this.dateFormat||i.defaultDateFormat,!0).isValid(),s=(0,WC.default)(new Date(n)).isValid()||o;if(this.allowEmpty&&n===""&&(s=!0,o=!0),s||(r=!1),!s&&o&&(r=!0),s&&!o)if(this.correctFormat===!0){let a=VZ(n,this.dateFormat);this.instance.setDataAtCell(this.visualRow,this.visualCol,a,"dateValidator"),r=!0}else r=!1;e(r)}$g.VALIDATOR_TYPE=_H;function VZ(t,e){let i=(0,WC.default)(HZ(t)),n=(0,WC.default)(t,e),r=t.search(/[A-z]/g)>-1,o;return i.isValid()&&i.format("x")===n.format("x")||!n.isValid()||r?o=i:o=n,o.format(e)}var yH="dropdown";function qg(t,e){Yu.apply(this,[t,e])}qg.VALIDATOR_TYPE=yH;var wH="numeric";function Kg(t,e){let i=t;i==null&&(i=""),this.allowEmpty&&i===""?e(!0):e(i===""?!1:Qn(t))}Kg.VALIDATOR_TYPE=wH;var jC=w(Jr(),1),zOe=["YYYY-MM-DDTHH:mm:ss.SSSZ","X","x"],CH="time";function Xg(t,e){let i=this.timeFormat||"h:mm:ss a",n=!0,r=t;r===null&&(r=""),r=/^\d{3,}$/.test(r)?parseInt(r,10):r;let o=/^\d{1,2}$/.test(r);o&&(r+=":00");let s=(0,jC.default)(r,zOe,!0).isValid()?(0,jC.default)(r):(0,jC.default)(r,i),a=s.isValid(),l=(0,jC.default)(r,i,!0).isValid()&&!o;if(this.allowEmpty&&r===""&&(a=!0,l=!0),a||(n=!1),!a&&l&&(n=!0),a&&!l)if(this.correctFormat===!0){let c=s.format(i);this.instance.setDataAtCell(this.visualRow,this.visualCol,c,"timeValidator"),n=!0}else n=!1;e(n)}Xg.VALIDATOR_TYPE=CH;function BZ(){Eu(Yu),Eu(qg),Eu($g),Eu(Kg),Eu(Xg)}var SH="autocomplete",xH={CELL_TYPE:SH,editor:qc,renderer:aa,validator:Yu};var EH="checkbox",RH={CELL_TYPE:EH,editor:xf,renderer:Wg};var WZ="date";function xD(t,e,i,n,r,o,s){aa.apply(this,[t,e,i,n,r,o,s])}xD.RENDERER_TYPE=WZ;var TH="date",IH={CELL_TYPE:TH,editor:Ef,renderer:xD,validator:$g};var DH="dropdown",MH={CELL_TYPE:DH,editor:Uu,renderer:Hg,validator:qg};var AH="handsontable",OH={CELL_TYPE:AH,editor:$c,renderer:jg};var PH="numeric",kH={CELL_TYPE:PH,editor:Rf,renderer:Ug,validator:Kg,dataType:"number"};var NH="password",LH={CELL_TYPE:NH,editor:Tf,renderer:zg,copyable:!1};var FH="select",HH={CELL_TYPE:FH,editor:If,renderer:Yg};var VH="time",BH={CELL_TYPE:VH,editor:Df,renderer:Gg,validator:Xg};function jZ(){gs(xH),gs(RH),gs(IH),gs(MH),gs(OH),gs(kH),gs(LH),gs(HH),gs(VC),gs(BH)}var owt=w(Q(),1),swt=w(be(),1),awt=w(Fi(),1),lwt=w(Hi(),1),cwt=w(Vi(),1),dwt=w(Bi(),1),uwt=w(Wi(),1),hwt=w(ji(),1),fwt=w(Ui(),1);var Nyt=w(Q(),1),Lyt=w(be(),1);function YOe(t,e){YZ(t,e),e.add(t)}function GOe(t,e,i){YZ(t,e),e.set(t,i)}function YZ(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Qg(t,e,i){return e=$Oe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function $Oe(t){var e=qOe(t,"string");return typeof e=="symbol"?e:e+""}function qOe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zg(t,e){return t.get(GZ(t,e))}function GZ(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var UZ=new Map([["plugin",s9],["cell-type",AF],["editor",cL],["renderer",EL],["validator",TL]]),$Z="base",WH=[],Wl=null,Mf=new WeakMap,zZ=new WeakSet,rt=class{static get PLUGIN_KEY(){return $Z}static get SETTING_KEYS(){return[this.PLUGIN_KEY]}constructor(e){YOe(this,zZ),Qg(this,"eventManager",new Xn(this)),Qg(this,"pluginName",null),Qg(this,"pluginsInitializedCallbacks",[]),Qg(this,"isPluginsReady",!1),Qg(this,"enabled",!1),Qg(this,"initialized",!1),GOe(this,Mf,{}),Er(this,"hot",e,{writable:!1}),Wl=null,this.hot.addHook("afterPluginsInitialized",()=>this.onAfterPluginsInitialized()),this.hot.addHook("afterUpdateSettings",i=>this.onUpdateSettings(i)),this.hot.addHook("beforeInit",()=>this.init())}init(){this.pluginName=this.hot.getPluginName(this);let e=this.constructor.PLUGIN_DEPS,i=Array.isArray(e)?e:[];if(i.length>0){let r=[];if(i.forEach(o=>{let[s,a]=o.split(":");if(!UZ.has(s))throw new Error(`Unknown plugin dependency type "${s}" was found.`);UZ.get(s)(a)||r.push(` - ${a} (${s})`)}),r.length>0){let o=[`The ${this.pluginName} plugin requires the following modules:
`,`${r.join(`
`)}
`].join("");WH.push(o)}}if(Wl||(Wl=XT()),Wl.indexOf("UndoRedo")>=0&&Wl.splice(Wl.indexOf("UndoRedo"),1),Wl.indexOf(this.pluginName)>=0&&Wl.splice(Wl.indexOf(this.pluginName),1),this.hot.addHookOnce("afterPluginsInitialized",()=>{this.isEnabled&&this.isEnabled()&&this.enablePlugin()}),Wl.length===0){if(WH.length>0){let r=[`${WH.join(`
`)}
`,"You have to import and register them manually."].join("");throw new Error(r)}this.hot.runHooks("afterPluginsInitialized")}this.initialized=!0}enablePlugin(){this.enabled=!0}disablePlugin(){var e;(e=this.eventManager)===null||e===void 0||e.clear(),this.clearHooks(),this.enabled=!1}addHook(e,i,n){Zg(Mf,this)[e]=Zg(Mf,this)[e]||[];let r=Zg(Mf,this)[e];this.hot.addHook(e,i,n),r.push(i),Zg(Mf,this)[e]=r}removeHooks(e){M(Zg(Mf,this)[e]||[],i=>{this.hot.removeHook(e,i)})}clearHooks(){let e=Zg(Mf,this);nt(e,(i,n)=>this.removeHooks(n)),e.length=0}callOnPluginsReady(e){this.isPluginsReady?e():this.pluginsInitializedCallbacks.push(e)}onAfterPluginsInitialized(){M(this.pluginsInitializedCallbacks,e=>e()),this.pluginsInitializedCallbacks.length=0,this.isPluginsReady=!0}onUpdateSettings(e){let i=GZ(zZ,this,KOe).call(this,e);this.isEnabled&&(this.enabled&&!this.isEnabled()&&this.disablePlugin(),!this.enabled&&this.isEnabled()&&this.enablePlugin(),this.enabled&&this.isEnabled()&&i&&this.updatePlugin(e))}updatePlugin(){}destroy(){var e;(e=this.eventManager)===null||e===void 0||e.destroy(),this.clearHooks(),nt(this,(i,n)=>{n!=="hot"&&(this[n]=null)}),delete this.t,delete this.hot}};function KOe(t){if(!t)return!1;let e=this.constructor.SETTING_KEYS;if(typeof e=="boolean")return e;for(let i=0;i<e.length;i++)if(t[e[i]]!==void 0)return!0;return!1}var qyt=w(Q(),1),Kyt=w(be(),1);function Af(t,e,i){return e=XOe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function XOe(t){var e=QOe(t,"string");return typeof e=="symbol"?e:e+""}function QOe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jH=class{constructor(e){Af(this,"hot",null),Af(this,"container",null),Af(this,"injected",!1),Af(this,"rows",[]),Af(this,"columns",[]),Af(this,"samples",null),Af(this,"settings",{useHeaders:!0}),this.hot=e}addRow(e,i){if(this.columns.length)throw new Error("Doesn't support multi-dimensional table");this.rows.length||(this.container=this.createContainer(this.hot.rootElement.className));let n={row:e};this.rows.push(n),this.samples=i,this.table=this.createTable(this.hot.table.className),this.table.colGroup.appendChild(this.createColGroupsCol(e)),this.table.tr.appendChild(this.createRow(e)),this.container.container.appendChild(this.table.fragment),n.table=this.table.table}addColumnHeadersRow(e){let i=this.hot.getColHeader(0);if(i!=null){let n={row:-1};this.rows.push(n),this.container=this.createContainer(this.hot.rootElement.className),this.samples=e,this.table=this.createTable(this.hot.table.className),this.table.colGroup.appendChild(this.createColGroupsCol()),this.appendColumnHeadersRow(),this.container.container.appendChild(this.table.fragment),n.table=this.table.table}}addColumn(e,i){if(this.rows.length)throw new Error("Doesn't support multi-dimensional table");this.columns.length||(this.container=this.createContainer(this.hot.rootElement.className));let n={col:e};this.columns.push(n),this.samples=i,this.table=this.createTable(this.hot.table.className),this.getSetting("useHeaders")&&this.hot.getColHeader(e)!==null&&this.hot.view.appendColHeader(e,this.table.th),this.table.tBody.appendChild(this.createCol(e)),this.container.container.appendChild(this.table.fragment),n.table=this.table.table}getHeights(e){this.injected||this.injectTable(),M(this.rows,i=>{e(i.row,si(i.table)-1)})}getWidths(e){this.injected||this.injectTable(),M(this.columns,i=>{let{width:n}=i.table.getBoundingClientRect();e(i.col,Math.ceil(n))})}setSettings(e){this.settings=e}setSetting(e,i){this.settings||(this.settings={}),this.settings[e]=i}getSettings(){return this.settings}getSetting(e){return this.settings?this.settings[e]:null}createColGroupsCol(e){let i=this.hot.rootDocument.createDocumentFragment();return this.hot.hasRowHeaders()&&i.appendChild(this.createColElement(-1,-1)),this.samples.forEach(n=>{M(n.strings,r=>{i.appendChild(this.createColElement(r.col,e))})}),i}createRow(e){let{rootDocument:i}=this.hot,n=i.createDocumentFragment(),r=i.createElement("th");return this.hot.hasRowHeaders()&&(this.hot.view.appendRowHeader(e,r),n.appendChild(r)),this.samples.forEach(o=>{M(o.strings,s=>{let a=s.col,l=this.hot.getCellMeta(e,a),c=this.hot.getCellRenderer(l),d=i.createElement("td");d.setAttribute("ghost-table",1),c(this.hot,d,e,a,this.hot.colToProp(a),s.value,l),n.appendChild(d)})}),n}appendColumnHeadersRow(){let{rootDocument:e}=this.hot,i=e.createDocumentFragment(),n=[];if(this.hot.hasRowHeaders()){let r=e.createElement("th");n.push([-1,r]),i.appendChild(r)}this.samples.forEach(r=>{M(r.strings,o=>{let s=o.col,a=e.createElement("th");n.push([s,a]),i.appendChild(a)})}),this.table.tHead.appendChild(i),M(n,r=>{let[o,s]=r;this.hot.view.appendColHeader(o,s)})}createCol(e){let{rootDocument:i}=this.hot,n=i.createDocumentFragment();return this.samples.forEach(r=>{M(r.strings,o=>{let s=o.row,a=this.hot.getCellMeta(s,e),l=this.hot.getCellRenderer(a),c=i.createElement("td"),d=i.createElement("tr");c.setAttribute("ghost-table",1),l(this.hot,c,s,e,this.hot.colToProp(e),o.value,a),d.appendChild(c),n.appendChild(d)})}),n}clean(){this.rows.length=0,this.rows[-1]=void 0,this.columns.length=0,this.samples&&this.samples.clear(),this.samples=null,this.removeTable()}injectTable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this.injected||((e||this.hot.rootElement).appendChild(this.container.fragment),this.injected=!0)}removeTable(){this.injected&&this.container.container.parentNode&&(this.container.container.parentNode.removeChild(this.container.container),this.container=null,this.injected=!1)}createColElement(e,i){let n=this.hot.rootDocument.createElement("col"),r=0;i>=0&&e>=0&&(r=this.hot.getCellMeta(i,e).colspan);let o=this.hot.getColWidth(e);if(r>1)for(let s=e+1;s<e+r;s++)o+=this.hot.getColWidth(s);return n.style.width=`${o}px`,n}createTable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",{rootDocument:i}=this.hot,n=i.createDocumentFragment(),r=i.createElement("table"),o=i.createElement("thead"),s=i.createElement("tbody"),a=i.createElement("colgroup"),l=i.createElement("tr"),c=i.createElement("th");return this.isVertical()&&r.appendChild(a),this.isHorizontal()&&(l.appendChild(c),o.appendChild(l),r.style.tableLayout="auto",r.style.width="auto"),r.appendChild(o),this.isVertical()&&s.appendChild(l),r.appendChild(s),ne(r,e),n.appendChild(r),{fragment:n,table:r,tHead:o,tBody:s,colGroup:a,tr:l,th:c}}createContainer(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",{rootDocument:i}=this.hot,n=i.createDocumentFragment(),r=i.createElement("div"),o=`htGhostTable htAutoSize ${e.trim()}`;return ne(r,o),n.appendChild(r),{fragment:n,container:r}}isVertical(){return!!(this.rows.length&&!this.columns.length)}isHorizontal(){return!!(this.columns.length&&!this.rows.length)}},ED=jH;var Jyt=w(Q(),1),ewt=w(be(),1);function RD(t,e,i){return e=ZOe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function ZOe(t){var e=JOe(t,"string");return typeof e=="symbol"?e:e+""}function JOe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var UH=class t{static get SAMPLE_COUNT(){return 3}constructor(e){RD(this,"samples",null),RD(this,"dataFactory",null),RD(this,"customSampleCount",null),RD(this,"allowDuplicates",!1),this.dataFactory=e}getSampleCount(){return this.customSampleCount?this.customSampleCount:t.SAMPLE_COUNT}setSampleCount(e){this.customSampleCount=e}setAllowDuplicates(e){this.allowDuplicates=e}generateRowSamples(e,i){return this.generateSamples("row",i,e)}generateColumnSamples(e,i){return this.generateSamples("col",i,e)}generateSamples(e,i,n){let r=new Map,{from:o,to:s}=typeof n=="number"?{from:n,to:n}:n;return Se(o,s,a=>{let l=this.generateSample(e,i,a);r.set(a,l)}),r}generateSample(e,i,n){if(e!=="row"&&e!=="col")throw new Error("Unsupported sample type");let r=new Map,o=e==="row"?"col":"row",s=[];return Se(i.from,i.to,a=>{let l=e==="row"?this.dataFactory(n,a):this.dataFactory(a,n);if(l===!1)return;let{value:c,bundleSeed:d}=l,u=typeof d=="string"&&d.length>0,f;u?f=d:it(c)?f=`${Object.keys(c).length}`:Array.isArray(c)?f=`${c.length}`:f=`${Ei(c).length}`,r.has(f)||r.set(f,{needed:this.getSampleCount(),strings:[]});let m=r.get(f);m.needed&&(!(s.indexOf(c)>-1)||this.allowDuplicates||u)&&(m.strings.push({value:c,[o]:a}),s.push(c),m.needed-=1)}),r}},TD=UH;function ePe(t,e){KZ(t,e),e.add(t)}function tPe(t,e,i){KZ(t,e),e.set(t,i)}function KZ(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Jg(t,e,i){return e=iPe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function iPe(t){var e=nPe(t,"string");return typeof e=="symbol"?e:e+""}function nPe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rPe(t,e,i){return t.set(Xc(t,e),i),i}function ID(t,e){return t.get(Xc(t,e))}function Xc(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}Ee.getSingleton().register("modifyAutoColumnSizeSeed");var eb="autoColumnSize",XZ=10,oPe="autoColumnSize",tb=new WeakMap,Gu=new WeakSet,UC=class t extends rt{static get PLUGIN_KEY(){return eb}static get PLUGIN_PRIORITY(){return XZ}static get SETTING_KEYS(){return!0}static get CALCULATION_STEP(){return 50}static get SYNC_CALCULATION_LIMIT(){return 50}constructor(e){super(e),ePe(this,Gu),Jg(this,"ghostTable",new ED(this.hot)),Jg(this,"samplesGenerator",new TD((i,n)=>{let r=this.hot.toPhysicalRow(i),o=this.hot.toPhysicalColumn(n);if(this.hot.rowIndexMapper.isHidden(r)||this.hot.columnIndexMapper.isHidden(o))return!1;let s=this.hot.getCellMeta(i,n),a="";s.spanned||(a=this.hot.getDataAtCell(i,n));let l="";return this.hot.hasHook("modifyAutoColumnSizeSeed")&&(l=this.hot.runHooks("modifyAutoColumnSizeSeed",l,s,a)),{value:a,bundleSeed:l}})),Jg(this,"firstCalculation",!0),Jg(this,"inProgress",!1),Jg(this,"measuredColumns",0),Jg(this,"columnWidthsMap",new Mr),tPe(this,tb,[]),this.hot.columnIndexMapper.registerMap(oPe,this.columnWidthsMap),this.addHook("beforeColumnResize",(i,n,r)=>Xc(Gu,this,qZ).call(this,i,n,r))}isEnabled(){return this.hot.getSettings()[eb]!==!1&&!this.hot.getSettings().colWidths}enablePlugin(){var e=this;if(this.enabled)return;let i=this.hot.getSettings()[eb];i&&i.useHeaders!==null&&i.useHeaders!==void 0&&this.ghostTable.setSetting("useHeaders",i.useHeaders),this.setSamplingOptions(),this.addHook("afterLoadData",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Xc(Gu,e,aPe).call(e,...r)}),this.addHook("beforeChangeRender",n=>Xc(Gu,this,lPe).call(this,n)),this.addHook("afterFormulasValuesUpdate",n=>Xc(Gu,this,dPe).call(this,n)),this.addHook("beforeViewRender",n=>Xc(Gu,this,sPe).call(this,n)),this.addHook("modifyColWidth",(n,r)=>this.getColumnWidth(r,n)),this.addHook("afterInit",()=>Xc(Gu,this,cPe).call(this)),super.enablePlugin()}updatePlugin(){let e=this.findColumnsWhereHeaderWasChanged();e.length&&(this.clearCache(e),this.calculateVisibleColumnsWidth()),super.updatePlugin()}disablePlugin(){super.disablePlugin(),this.addHook("beforeColumnResize",(e,i,n)=>Xc(Gu,this,qZ).call(this,e,i,n))}calculateVisibleColumnsWidth(){if(!this.hot.countRows())return;let i=this.hot.renderCall,n=this.getFirstVisibleColumn(),r=this.getLastVisibleColumn();n===-1||r===-1||this.calculateColumnsWidth({from:n,to:r},void 0,i)}calculateColumnsWidth(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{from:0,to:this.hot.countCols()-1},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{from:0,to:this.hot.countRows()-1},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=typeof e=="number"?{from:e,to:e}:e,o=typeof i=="number"?{from:i,to:i}:i;Se(r.from,r.to,s=>{let a=this.hot.toPhysicalColumn(s);if(a===null&&(a=s),n||this.columnWidthsMap.getValueAtIndex(a)===null&&!this.hot._getColWidthFromSettings(a)){let l=this.samplesGenerator.generateColumnSamples(s,o);M(l,c=>{let[d,u]=c;return this.ghostTable.addColumn(d,u)})}}),this.ghostTable.columns.length&&(this.hot.batchExecution(()=>{this.ghostTable.getWidths((s,a)=>{let l=this.hot.toPhysicalColumn(s);this.columnWidthsMap.setValueAtIndex(l,a)})},!0),this.measuredColumns=r.to+1,this.ghostTable.clean())}calculateAllColumnsWidth(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{from:0,to:this.hot.countRows()-1},i=0,n=this.hot.countCols()-1,r=null;this.inProgress=!0;let o=()=>{if(!this.hot){lg(r),this.inProgress=!1;return}this.calculateColumnsWidth({from:i,to:Math.min(i+t.CALCULATION_STEP,n)},e),i=i+t.CALCULATION_STEP+1,i<n?r=ag(o):(lg(r),this.inProgress=!1,this.hot.view.adjustElementsSize())},s=this.getSyncCalculationLimit();this.firstCalculation&&s>=0&&(this.calculateColumnsWidth({from:0,to:s},e),this.firstCalculation=!1,i=s+1),i<n?o():this.inProgress=!1}setSamplingOptions(){let e=this.hot.getSettings()[eb],i=e&&Ci(e,"samplingRatio")?e.samplingRatio:void 0,n=e&&Ci(e,"allowSampleDuplicates")?e.allowSampleDuplicates:void 0;i&&!isNaN(i)&&this.samplesGenerator.setSampleCount(parseInt(i,10)),n&&this.samplesGenerator.setAllowDuplicates(n)}recalculateAllColumnsWidth(){this.hot.view&&this.hot.view._wt.wtTable.isVisible()&&(this.clearCache(),this.calculateAllColumnsWidth())}getSyncCalculationLimit(){let e=this.hot.getSettings()[eb],i=t.SYNC_CALCULATION_LIMIT,n=this.hot.countCols()-1;return it(e)&&(i=e.syncLimit,gT(i)?i=KT(n,i):i>>=0),Math.min(i,n)}getColumnWidth(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=i;return r===void 0&&(r=this.columnWidthsMap.getValueAtIndex(this.hot.toPhysicalColumn(e)),n&&typeof r=="number"&&(r=Math.max(r,Il.DEFAULT_WIDTH))),r}getFirstVisibleColumn(){let e=this.hot.view._wt;if(e.wtViewport.columnsVisibleCalculator){let i=e.wtTable.getFirstVisibleColumn();if(i!==-1)return this.hot.columnIndexMapper.getVisualFromRenderableIndex(i)}if(e.wtViewport.columnsRenderCalculator){let i=e.wtTable.getFirstRenderedColumn();if(i!==-1)return this.hot.columnIndexMapper.getVisualFromRenderableIndex(i)}return-1}getLastVisibleColumn(){let e=this.hot.view._wt;if(e.wtViewport.columnsVisibleCalculator){let i=e.wtTable.getLastVisibleColumn();if(i!==-1)return this.hot.columnIndexMapper.getVisualFromRenderableIndex(i)}if(e.wtViewport.columnsRenderCalculator){let i=e.wtTable.getLastRenderedColumn();if(i!==-1)return this.hot.columnIndexMapper.getVisualFromRenderableIndex(i)}return-1}findColumnsWhereHeaderWasChanged(){let e=this.hot.getColHeader();return Mi(e,(n,r,o)=>{let s=ID(tb,this).length;return(s-1<o||ID(tb,this)[o]!==r)&&n.push(o),s-1<o?ID(tb,this).push(r):ID(tb,this)[o]=r,n},[])}clearCache(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];e.length?this.hot.batchExecution(()=>{M(e,i=>{this.columnWidthsMap.setValueAtIndex(i,null)})},!0):this.columnWidthsMap.clear()}isNeedRecalculate(){return!!or(this.columnWidthsMap.getValues().slice(0,this.measuredColumns),e=>e===null).length}destroy(){this.ghostTable.clean(),super.destroy()}};function sPe(){this.calculateVisibleColumnsWidth(),this.isNeedRecalculate()&&!this.inProgress&&this.calculateAllColumnsWidth()}function aPe(){this.hot.view?this.recalculateAllColumnsWidth():setTimeout(()=>{this.hot&&this.recalculateAllColumnsWidth()},0)}function lPe(t){let e=ct(t,i=>{let[,n]=i;return this.hot.toPhysicalColumn(this.hot.propToCol(n))});this.clearCache(Array.from(new Set(e)))}function qZ(t,e,i){let n=t;return i&&(this.calculateColumnsWidth(e,void 0,!0),n=this.getColumnWidth(e,void 0,!1)),n}function cPe(){rPe(tb,this,this.hot.getColHeader())}function dPe(t){let e=or(t,n=>{var r;return xe((r=n.address)===null||r===void 0?void 0:r.col)}),i=ct(e,n=>n.address.col);this.clearCache(Array.from(new Set(i)))}var Owt=w(Q(),1),Pwt=w(be(),1);var $u={horizontal:"horizontal",vertical:"vertical"};function QZ(t,e,i){let n,r,o;return e[0]===t[0]&&e[1]<t[1]?(o="left",n=i(e[0],e[1]),r=i(e[2],t[1]-1)):e[2]===t[2]&&e[0]===t[0]&&e[3]>t[3]?(o="right",n=i(e[0],t[3]+1),r=i(e[2],e[3])):e[0]<t[0]&&e[1]===t[1]?(o="up",n=i(e[0],e[1]),r=i(t[0]-1,e[3])):e[2]>t[2]&&e[1]===t[1]&&(o="down",n=i(t[2]+1,e[1]),r=i(e[2],e[3])),n&&n.normalize(),r&&r.normalize(),{directionOfDrag:o,startOfDragCoords:n,endOfDragCoords:r}}function ZZ(t){let e={};return t===!0?(e.directions=Object.keys($u),e.autoInsertRow=!0):it(t)?(xe(t.autoInsertRow)?t.direction===$u.horizontal?e.autoInsertRow=!1:e.autoInsertRow=t.autoInsertRow:e.autoInsertRow=!1,xe(t.direction)?e.directions=[t.direction]:e.directions=Object.keys($u)):typeof t=="string"?(e.directions=[t],e.autoInsertRow=!0):(e.directions=[],e.autoInsertRow=!1),e}function uPe(t,e){hPe(t,e),e.add(t)}function hPe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ib(t,e,i){return e=fPe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function fPe(t){var e=mPe(t,"string");return typeof e=="symbol"?e:e+""}function mPe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zC(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}Ee.getSingleton().register("modifyAutofillRange");Ee.getSingleton().register("beforeAutofill");Ee.getSingleton().register("afterAutofill");var zH="autofill",JZ=20,pPe=["fillHandle"],gPe="insert_row_below",bPe=200,nb=new WeakSet,YC=class extends rt{constructor(){super(...arguments),uPe(this,nb),ib(this,"addingStarted",!1),ib(this,"mouseDownOnCellCorner",!1),ib(this,"mouseDragOutside",!1),ib(this,"handleDraggedCells",0),ib(this,"directions",[]),ib(this,"autoInsertRow",!1)}static get PLUGIN_KEY(){return zH}static get PLUGIN_PRIORITY(){return JZ}static get SETTING_KEYS(){return[zH,...pPe]}isEnabled(){return this.hot.getSettings().fillHandle}enablePlugin(){this.enabled||(this.mapSettings(),this.registerEvents(),this.addHook("afterOnCellCornerMouseDown",e=>zC(nb,this,_Pe).call(this,e)),this.addHook("afterOnCellCornerDblClick",e=>zC(nb,this,vPe).call(this,e)),this.addHook("beforeOnCellMouseOver",(e,i)=>zC(nb,this,yPe).call(this,i)),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.clearMappedSettings(),super.disablePlugin()}getSelectionData(){let e=this.hot.getSelectedRangeLast(),{row:i,col:n}=e.getTopStartCorner(),{row:r,col:o}=e.getBottomEndCorner(),s=this.hot.runHooks("modifyCopyableRange",[{startRow:i,startCol:n,endRow:r,endCol:o}]),a=[],l=[],c=[];return M(s,d=>{for(let u=d.startRow;u<=d.endRow;u+=1)a.indexOf(u)===-1&&a.push(u);for(let u=d.startCol;u<=d.endCol;u+=1)l.indexOf(u)===-1&&l.push(u)}),M(a,d=>{let u=[];M(l,f=>{u.push(this.hot.getCopyableData(d,f))}),c.push(u)}),c}fillIn(){if(this.hot.selection.highlight.getFill().isEmpty())return!1;let[e,i,n,r]=this.hot.selection.highlight.getFill().getVisualCorners(),o=this.hot.getSelectedRangeLast(),s=o.getTopStartCorner(),a=o.getBottomEndCorner();this.resetSelectionOfDraggedArea();let l=[s.row,s.col,a.row,a.col],c=this.hot.runHooks("modifyAutofillRange",[Math.min(s.row,e),Math.min(s.col,i),Math.max(a.row,n),Math.max(a.col,r)],l),{directionOfDrag:d,startOfDragCoords:u,endOfDragCoords:f}=QZ(l,c,(m,g)=>this.hot._createCellCoords(m,g));if(u&&u.row>-1&&u.col>-1){let m=this.getSelectionData(),g=o.clone(),_=this.hot._createCellRange(u,u,f),b=this.hot.runHooks("beforeAutofill",m,g,_,d);if(b===!1)return this.hot.selection.highlight.getFill().clear(),this.hot.render(),!1;let y=b,x=b;if(["up","left"].indexOf(d)>-1&&!(x.length===1&&x[0].length===0))if(y=[],d==="up"){let T=f.row-u.row+1,O=T%x.length;for(let P=0;P<T;P++)y.push(x[(P+(x.length-O))%x.length])}else{let T=f.col-u.col+1,O=T%x[0].length;for(let P=0;P<x.length;P++){y.push([]);for(let V=0;V<T;V++)y[P].push(x[P][(V+(x[P].length-O))%x[P].length])}}this.hot.populateFromArray(u.row,u.col,y,f.row,f.col,`${this.pluginName}.fill`,null),this.setSelection(c),this.hot.runHooks("afterAutofill",y,g,_,d),this.hot.render()}else this.hot.view.render();return!0}reduceSelectionAreaIfNeeded(e){return e.row<0&&(e.row=0),e.col<0&&(e.col=0),e}getCoordsOfDragAndDropBorders(e){let i=this.hot.getSelectedRangeLast(),n=i.getBottomEndCorner(),r=e;if(this.directions.includes($u.vertical)&&this.directions.includes($u.horizontal)){let o=i.getTopStartCorner();(n.col<=e.col||o.col>=e.col)&&(r=this.hot._createCellCoords(n.row,e.col)),(n.row<e.row||o.row>e.row)&&(r=this.hot._createCellCoords(e.row,n.col))}else if(this.directions.includes($u.vertical))r=this.hot._createCellCoords(e.row,n.col);else if(this.directions.includes($u.horizontal))r=this.hot._createCellCoords(n.row,e.col);else return;return this.reduceSelectionAreaIfNeeded(r)}showBorder(e){let i=this.getCoordsOfDragAndDropBorders(e);i&&this.redrawBorders(i)}addRow(){this.hot._registerTimeout(()=>{this.hot.alter(gPe,void 0,1,`${this.pluginName}.fill`),this.addingStarted=!1},bPe)}addNewRowIfNeeded(){if(!this.hot.selection.highlight.getFill().isEmpty()&&this.addingStarted===!1&&this.autoInsertRow){let e=this.hot.getSelectedLast(),i=this.hot.selection.highlight.getFill().getVisualCorners(),n=this.hot.countRows();e[2]<n-1&&i[2]===n-1&&(this.addingStarted=!0,this.addRow())}}getIndexOfLastAdjacentFilledInRow(e){let i=this.hot.getData(),n=this.hot.countRows(),r;for(let o=e[2]+1;o<n;o++){for(let l=e[1];l<=e[3];l++){let c=i[o][l];if(!Ri(c))return-1}let s=i[o][e[1]-1],a=i[o][e[3]+1];(!Ri(s)||!Ri(a))&&(r=o)}return r}addSelectionFromStartAreaToSpecificRowIndex(e,i){this.hot.selection.highlight.getFill().clear().add(this.hot._createCellCoords(e[0],e[1])).add(this.hot._createCellCoords(i,e[3])).commit()}setSelection(e){this.hot.selectCell(...ct(e,i=>Math.max(i,0)),!1,!1)}selectAdjacent(){let e=this.hot.getSelectedLast(),i=this.getIndexOfLastAdjacentFilledInRow(e);return i===-1||i===void 0?!1:(this.addSelectionFromStartAreaToSpecificRowIndex(e,i),!0)}resetSelectionOfDraggedArea(){this.handleDraggedCells=0,this.hot.selection.highlight.getFill().clear()}redrawBorders(e){this.hot.selection.highlight.getFill().clear().add(this.hot.getSelectedRangeLast().from).add(this.hot.getSelectedRangeLast().to).add(e).commit(),this.hot.view.render()}getIfMouseWasDraggedOutside(e){let{documentElement:i}=this.hot.rootDocument,n=rn(this.hot.table).top-(this.hot.rootWindow.pageYOffset||i.scrollTop)+si(this.hot.table),r=rn(this.hot.table).left-(this.hot.rootWindow.pageXOffset||i.scrollLeft)+$t(this.hot.table);return e.clientY>n&&e.clientX<=r}registerEvents(){let{documentElement:e}=this.hot.rootDocument;this.eventManager.addEventListener(e,"mouseup",()=>zC(nb,this,wPe).call(this)),this.eventManager.addEventListener(e,"mousemove",i=>zC(nb,this,CPe).call(this,i))}clearMappedSettings(){this.directions.length=0,this.autoInsertRow=!1}mapSettings(){let e=ZZ(this.hot.getSettings().fillHandle);this.directions=e.directions,this.autoInsertRow=e.autoInsertRow}destroy(){super.destroy()}};function vPe(){this.selectAdjacent()&&this.fillIn()}function _Pe(){this.handleDraggedCells=1,this.mouseDownOnCellCorner=!0}function yPe(t){this.mouseDownOnCellCorner&&!this.hot.view.isMouseDown()&&this.handleDraggedCells&&(this.handleDraggedCells+=1,this.showBorder(t),this.addNewRowIfNeeded())}function wPe(){this.handleDraggedCells&&(this.handleDraggedCells>1&&this.fillIn(),this.handleDraggedCells=0,this.mouseDownOnCellCorner=!1)}function CPe(t){let e=this.getIfMouseWasDraggedOutside(t);this.addingStarted===!1&&this.handleDraggedCells>0&&e?(this.mouseDragOutside=!0,this.addingStarted=!0):this.mouseDragOutside=!1,this.mouseDragOutside&&this.autoInsertRow&&this.addRow()}var Uwt=w(Q(),1);function SPe(t,e){xPe(t,e),e.add(t)}function xPe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Of(t,e,i){return e=EPe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function EPe(t){var e=RPe(t,"string");return typeof e=="symbol"?e:e+""}function RPe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GC(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var $C="autoRowSize",tJ=40,TPe="autoRowSize",rb=new WeakSet,qC=class t extends rt{static get PLUGIN_KEY(){return $C}static get PLUGIN_PRIORITY(){return tJ}static get SETTING_KEYS(){return!0}static get CALCULATION_STEP(){return 50}static get SYNC_CALCULATION_LIMIT(){return 500}constructor(e){super(e),SPe(this,rb),Of(this,"headerHeight",null),Of(this,"ghostTable",new ED(this.hot)),Of(this,"samplesGenerator",new TD((i,n)=>{let r=this.hot.toPhysicalRow(i),o=this.hot.toPhysicalColumn(n);if(this.hot.rowIndexMapper.isHidden(r)||this.hot.columnIndexMapper.isHidden(o)||i>=0&&n>=0&&this.hot.getCellMeta(i,n).hidden)return!1;let s;return i>=0?s=this.hot.getDataAtCell(i,n):i===-1&&(s=this.hot.getColHeader(n)),{value:s}})),Of(this,"firstCalculation",!0),Of(this,"inProgress",!1),Of(this,"measuredRows",0),Of(this,"rowHeightsMap",new Mr),this.hot.rowIndexMapper.registerMap(TPe,this.rowHeightsMap),this.addHook("beforeRowResize",(i,n,r)=>GC(rb,this,eJ).call(this,i,n,r))}isEnabled(){let e=this.hot.getSettings()[$C];return e===!0||it(e)}enablePlugin(){var e=this;this.enabled||(this.setSamplingOptions(),this.addHook("afterLoadData",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return GC(rb,e,DPe).call(e,...n)}),this.addHook("beforeChangeRender",i=>GC(rb,this,MPe).call(this,i)),this.addHook("beforeColumnResize",()=>this.recalculateAllRowsHeight()),this.addHook("beforeViewRender",i=>GC(rb,this,IPe).call(this,i)),this.addHook("modifyRowHeight",(i,n)=>this.getRowHeight(n,i)),this.addHook("modifyColumnHeaderHeight",()=>this.getColumnHeaderHeight()),super.enablePlugin())}disablePlugin(){this.headerHeight=null,super.disablePlugin(),this.addHook("beforeRowResize",(e,i,n)=>GC(rb,this,eJ).call(this,e,i,n))}calculateRowsHeight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{from:0,to:this.hot.countRows()-1},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{from:0,to:this.hot.countCols()-1},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=typeof e=="number"?{from:e,to:e}:e,o=typeof i=="number"?{from:i,to:i}:i;if(this.hot.getColHeader(0)!==null){let s=this.samplesGenerator.generateRowSamples(-1,o);this.ghostTable.addColumnHeadersRow(s.get(-1))}Se(r.from,r.to,s=>{if(n||this.rowHeightsMap.getValueAtIndex(s)===null){let a=this.samplesGenerator.generateRowSamples(s,o);M(a,l=>{let[c,d]=l;return this.ghostTable.addRow(c,d)})}}),this.ghostTable.rows.length&&(this.hot.batchExecution(()=>{this.ghostTable.getHeights((s,a)=>{s<0?this.headerHeight=a:this.rowHeightsMap.setValueAtIndex(this.hot.toPhysicalRow(s),a)})},!0),this.measuredRows=r.to+1,this.ghostTable.clean())}calculateAllRowsHeight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{from:0,to:this.hot.countCols()-1},i=0,n=this.hot.countRows()-1,r=null;this.inProgress=!0;let o=()=>{if(!this.hot){lg(r),this.inProgress=!1;return}this.calculateRowsHeight({from:i,to:Math.min(i+t.CALCULATION_STEP,n)},e),i=i+t.CALCULATION_STEP+1,i<n?r=ag(o):(lg(r),this.inProgress=!1,this.hot.view.adjustElementsSize(),this.hot.view._wt.wtOverlays.inlineStartOverlay.needFullRender&&this.hot.view._wt.wtOverlays.inlineStartOverlay.clone.draw())},s=this.getSyncCalculationLimit();this.firstCalculation&&s>=0&&(this.calculateRowsHeight({from:0,to:s},e),this.firstCalculation=!1,i=s+1),i<n?o():(this.inProgress=!1,this.hot.view.adjustElementsSize())}setSamplingOptions(){let e=this.hot.getSettings()[$C],i=e&&Ci(e,"samplingRatio")?e.samplingRatio:void 0,n=e&&Ci(e,"allowSampleDuplicates")?e.allowSampleDuplicates:void 0;i&&!isNaN(i)&&this.samplesGenerator.setSampleCount(parseInt(i,10)),n&&this.samplesGenerator.setAllowDuplicates(n)}recalculateAllRowsHeight(){Gs(this.hot.view._wt.wtTable.TABLE)&&(this.clearCache(),this.calculateAllRowsHeight())}getSyncCalculationLimit(){let e=this.hot.getSettings()[$C],i=t.SYNC_CALCULATION_LIMIT,n=this.hot.countRows()-1;return it(e)&&(i=e.syncLimit,gT(i)?i=KT(n,i):i>>=0),Math.min(i,n)}getRowHeight(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,n=e<0?this.headerHeight:this.rowHeightsMap.getValueAtIndex(this.hot.toPhysicalRow(e)),r=i;return n!==null&&n>(i||0)&&(r=n),r}getColumnHeaderHeight(){return this.headerHeight}getFirstVisibleRow(){let e=this.hot.view._wt;return e.wtViewport.rowsVisibleCalculator?e.wtTable.getFirstVisibleRow():e.wtViewport.rowsRenderCalculator?e.wtTable.getFirstRenderedRow():-1}getLastVisibleRow(){let e=this.hot.view._wt;return e.wtViewport.rowsVisibleCalculator?e.wtTable.getLastVisibleRow():e.wtViewport.rowsRenderCalculator?e.wtTable.getLastRenderedRow():-1}clearCache(){this.headerHeight=null,this.rowHeightsMap.init()}clearCacheByRange(e){let{from:i,to:n}=typeof e=="number"?{from:e,to:e}:e;this.hot.batchExecution(()=>{Se(Math.min(i,n),Math.max(i,n),r=>{this.rowHeightsMap.setValueAtIndex(r,null)})},!0)}isNeedRecalculate(){return!!or(this.rowHeightsMap.getValues().slice(0,this.measuredRows),e=>e===null).length}destroy(){this.ghostTable.clean(),super.destroy()}};function IPe(){let t=this.hot.renderCall,e=this.hot.getSettings().fixedRowsBottom,i=this.getFirstVisibleRow(),n=this.getLastVisibleRow();if(!(i===-1||n===-1)){if(this.calculateRowsHeight({from:i,to:n},void 0,t),e){let r=this.hot.countRows()-1;this.calculateRowsHeight({from:r-e,to:r})}this.isNeedRecalculate()&&!this.inProgress&&this.calculateAllRowsHeight()}}function eJ(t,e,i){let n=t;return i&&(this.calculateRowsHeight(e,void 0,!0),n=this.getRowHeight(e)),n}function DPe(){this.hot.view?this.recalculateAllRowsHeight():this.hot._registerTimeout(()=>{this.hot&&this.recalculateAllRowsHeight()})}function MPe(t){let e=null;t.length===1?e=t[0][0]:t.length>1&&(e={from:t[0][0],to:t[t.length-1][0]}),e!==null&&this.clearCacheByRange(e)}var aCt=w(Q(),1);var{getListWithInsertedItems:APe,getListWithRemovedItems:OPe}=iw("physicallyIndexed"),YH=class extends Co{constructor(){super(e=>e)}insert(e,i){let n=Lu(this.indexedValues,i);this.indexedValues=APe(n,e,i,this.initValueOrFn),super.insert(e,i)}remove(e){let i=OPe(this.indexedValues,e);this.indexedValues=Nu(i,e),super.remove(e)}},iJ=YH;var{getListWithInsertedItems:PPe,getListWithRemovedItems:kPe}=iw("physicallyIndexed"),GH=class extends Co{constructor(){super(e=>e)}insert(e,i){this.indexedValues=PPe(this.indexedValues,e,i,(n,r)=>this.getNextValue(r)),super.insert(e,i)}remove(e){this.indexedValues=kPe(this.indexedValues,e),super.remove(e)}getNextValue(e){return Math.max(...this.getValues())+1+e}},nJ=GH;function NPe(t,e){LPe(t,e),e.add(t)}function LPe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function FPe(t,e,i){return e=HPe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function HPe(t){var e=VPe(t,"string");return typeof e=="symbol"?e:e+""}function VPe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BPe(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var DD="bindRowsWithHeaders",oJ=210,WPe="loose",jPe=new Map([["loose",iJ],["strict",nJ]]),rJ=new WeakSet,KC=class extends rt{constructor(){super(...arguments),NPe(this,rJ),FPe(this,"headerIndexes",null)}static get PLUGIN_KEY(){return DD}static get PLUGIN_PRIORITY(){return oJ}isEnabled(){return!!this.hot.getSettings()[DD]}enablePlugin(){if(this.enabled)return;let e=this.hot.getSettings()[DD];typeof e!="string"&&(e=WPe);let i=jPe.get(e);this.headerIndexes=this.hot.rowIndexMapper.registerMap("bindRowsWithHeaders",new i),this.addHook("modifyRowHeader",n=>BPe(rJ,this,UPe).call(this,n)),super.enablePlugin()}disablePlugin(){this.hot.rowIndexMapper.unregisterMap("bindRowsWithHeaders"),super.disablePlugin()}destroy(){super.destroy()}};function UPe(t){return this.headerIndexes.getValueAtIndex(this.hot.toPhysicalRow(t))}var mCt=w(Q(),1),pCt=w(be(),1);function zPe(t,e){dJ(t,e),e.add(t)}function YPe(t,e,i){dJ(t,e),e.set(t,i)}function dJ(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function sJ(t,e,i){return e=GPe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function GPe(t){var e=$Pe(t,"string");return typeof e=="symbol"?e:e+""}function $Pe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aJ(t,e){return t.get(sb(t,e))}function $H(t,e,i){return t.set(sb(t,e),i),i}function sb(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var QC="collapsibleColumns",uJ=290,qPe=["nestedHeaders"],ab="collapsibleIndicator",lJ=QC,cJ=new Map([["collapse",{hideColumn:!0,beforeHook:"beforeColumnCollapse",afterHook:"afterColumnCollapse"}],["expand",{hideColumn:!1,beforeHook:"beforeColumnExpand",afterHook:"afterColumnExpand"}]]),ob=new WeakMap,XC=new WeakSet,ZC=class extends rt{constructor(){super(...arguments),zPe(this,XC),sJ(this,"nestedHeadersPlugin",null),sJ(this,"headerStateManager",null),YPe(this,ob,null)}static get PLUGIN_KEY(){return QC}static get PLUGIN_PRIORITY(){return uJ}static get PLUGIN_DEPS(){return["plugin:NestedHeaders"]}static get SETTING_KEYS(){return[QC,...qPe]}isEnabled(){return!!this.hot.getSettings()[QC]}enablePlugin(){var e=this;if(this.enabled)return;let{nestedHeaders:i}=this.hot.getSettings();i||zt("You need to configure the Nested Headers plugin in order to use collapsible headers."),$H(ob,this,this.hot.columnIndexMapper.createAndRegisterIndexMap(this.pluginName,"hiding")),this.nestedHeadersPlugin=this.hot.getPlugin("nestedHeaders"),this.headerStateManager=this.nestedHeadersPlugin.getStateManager(),this.addHook("init",()=>sb(XC,this,QPe).call(this)),this.addHook("afterLoadData",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return sb(XC,e,ZPe).call(e,...r)}),this.addHook("afterGetColHeader",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return sb(XC,e,KPe).call(e,...r)}),this.addHook("beforeOnCellMouseDown",(n,r,o)=>sb(XC,this,XPe).call(this,n,r,o)),this.registerShortcuts(),super.enablePlugin(),this.updatePlugin()}updatePlugin(){if(this.hot.view){if(!this.nestedHeadersPlugin.detectedOverlappedHeaders){let{collapsibleColumns:e}=this.hot.getSettings();typeof e=="boolean"?this.headerStateManager.mapState(i=>({collapsible:i.origColspan>1})):Array.isArray(e)&&(this.headerStateManager.mapState(()=>({collapsible:!1})),this.headerStateManager.mergeStateWith(e))}super.updatePlugin()}}disablePlugin(){this.hot.columnIndexMapper.unregisterMap(this.pluginName),$H(ob,this,null),this.nestedHeadersPlugin=null,this.unregisterShortcuts(),this.clearButtons(),super.disablePlugin()}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Enter"]],callback:()=>{var e;let{row:i,col:n}=this.hot.getSelectedRangeLast().highlight,{collapsible:r,isCollapsed:o,columnIndex:s}=(e=this.headerStateManager.getHeaderTreeNodeData(i,n))!==null&&e!==void 0?e:{};if(r)return o?this.expandSection({row:i,col:s}):this.collapseSection({row:i,col:s}),!1},runOnlyIf:()=>{var e,i;return((e=this.hot.getSelectedRangeLast())===null||e===void 0?void 0:e.isSingle())&&((i=this.hot.getSelectedRangeLast())===null||i===void 0?void 0:i.highlight.isHeader())},group:lJ,relativeToGroup:so,position:"before"})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(lJ)}clearButtons(){if(!this.hot.view)return;let e=this.hot.view._wt.getSetting("columnHeaders").length,i=this.hot.view._wt.wtTable.THEAD,n=this.hot.view._wt.wtOverlays.topOverlay.clone.wtTable.THEAD,r=this.hot.view._wt.wtOverlays.topInlineStartCornerOverlay?this.hot.view._wt.wtOverlays.topInlineStartCornerOverlay.clone.wtTable.THEAD:null,o=function(s){s&&s.parentNode.removeChild(s)};Se(0,e-1,s=>{let a=i.childNodes[s],l=n.childNodes[s],c=r?r.childNodes[s]:null;Se(0,a.childNodes.length-1,d=>{let u=a.childNodes[d].querySelector(`.${ab}`);o(u),l&&l.childNodes[d]&&(u=l.childNodes[d].querySelector(`.${ab}`),o(u)),r&&c&&c.childNodes[d]&&(u=c.childNodes[d].querySelector(`.${ab}`),o(u))})},!0)}expandSection(e){this.toggleCollapsibleSection([e],"expand")}collapseSection(e){this.toggleCollapsibleSection([e],"collapse")}toggleAllCollapsibleSections(e){let i=this.headerStateManager.mapNodes(n=>{let{collapsible:r,origColspan:o,headerLevel:s,columnIndex:a,isCollapsed:l}=n;if(r===!0&&o>1&&(l&&e==="expand"||!l&&e==="collapse"))return{row:this.headerStateManager.levelToRowCoords(s),col:a}});this.toggleCollapsibleSection(i,e)}collapseAll(){this.toggleAllCollapsibleSections("collapse")}expandAll(){this.toggleAllCollapsibleSections("expand")}toggleCollapsibleSection(e,i){if(!cJ.has(i))throw new Error(`Unsupported action is passed (${i}).`);if(!Array.isArray(e))return;let n=or(e,m=>{let{row:g}=m;return g<0}),r=n.length>0;M(n,m=>{var g;let{row:_,col:b}=m,{collapsible:y,isCollapsed:x}=(g=this.headerStateManager.getHeaderSettings(_,b))!==null&&g!==void 0?g:{};if(!y||x&&i==="collapse"||!x&&i==="expand")return r=!1,!1});let o=[],s=[];r&&M(n,m=>{let{row:g,col:_}=m,{colspanCompensation:b,affectedColumns:y,rollbackModification:x}=this.headerStateManager.triggerNodeModification(i,g,_);b>0&&(s.push(...y),o.push(x))});let a=this.getCollapsedColumns(),l=[];i==="collapse"?l=fT([...a,...s]):i==="expand"&&(l=or(a,m=>!s.includes(m)));let c=cJ.get(i);if(this.hot.runHooks(c.beforeHook,a,l,r)===!1){M(o,m=>{m()});return}this.hot.batchExecution(()=>{M(s,m=>{aJ(ob,this).setValueAtIndex(this.hot.toPhysicalColumn(m),c.hideColumn)})},!0);let u=this.getCollapsedColumns().length!==a.length,f=this.hot.getSelectedRangeLast();if(i==="collapse"&&u&&f){let{row:m,col:g}=f.highlight;if((this.hot.rowIndexMapper.isHidden(m)||this.hot.columnIndexMapper.isHidden(g))&&s.includes(g)){let b=m>=0?this.hot.rowIndexMapper.getNearestNotHiddenIndex(m,1,!0):m,y=g>=0?this.hot.columnIndexMapper.getNearestNotHiddenIndex(g,1,!0):g;b!==null&&y!==null&&this.hot.selectCell(b,y)}}this.hot.runHooks(c.afterHook,a,l,r,u),this.hot.render(),this.hot.view.adjustElementsSize()}getCollapsedColumns(){return aJ(ob,this).getHiddenIndexes()}destroy(){$H(ob,this,null),super.destroy()}};function KPe(t,e,i){var n;let{collapsible:r,origColspan:o,isCollapsed:s}=(n=this.headerStateManager.getHeaderSettings(i,t))!==null&&n!==void 0?n:{},a=r&&o>1&&t>=this.hot.getSettings().fixedColumnsStart,l=this.hot.getSettings().ariaTags,c=e.querySelector(`.${ab}`);if($s(e,[zr("")[0]]),a)c||(c=this.hot.rootDocument.createElement("div"),ne(c,ab),e.querySelector("div:first-child").appendChild(c)),tt(c,["collapsed","expanded"]),s?(ne(c,"collapsed"),Ks(c,"+"),l&&Le(e,...zr(!1))):(ne(c,"expanded"),Ks(c,"-"),l&&Le(e,...zr(!0))),l&&Le(c,...Sr());else{var d;(d=c)===null||d===void 0||d.remove()}}function XPe(t,e){Fe(t.target,ab)&&(Fe(t.target,"expanded")?(this.eventManager.fireEvent(t.target,"mouseup"),this.toggleCollapsibleSection([e],"collapse")):Fe(t.target,"collapsed")&&(this.eventManager.fireEvent(t.target,"mouseup"),this.toggleCollapsibleSection([e],"expand")),Hn(t))}function QPe(){this.updatePlugin()}function ZPe(t,e){e||this.updatePlugin()}var S0t=w(Q(),1),x0t=w(be(),1);var TCt=w(Q(),1);function Pf(t,e,i){return e=JPe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function JPe(t){var e=eke(t,"string");return typeof e=="symbol"?e:e+""}function eke(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tke=["sortEmptyCells","indicator","headerAction","compareFunctionFactory"],ike=!1,nke=!0,rke=!0,MD=class{constructor(e,i){Pf(this,"hot",void 0),Pf(this,"sortingStates",new kl),Pf(this,"sortEmptyCells",ike),Pf(this,"indicator",nke),Pf(this,"headerAction",rke),Pf(this,"compareFunctionFactory",void 0),Pf(this,"mapName",void 0),this.hot=e,this.mapName=i,this.hot.columnIndexMapper.registerMap(i,this.sortingStates)}updateAllColumnsProperties(e){it(e)&&nt(e,(i,n)=>{tke.includes(n)&&(this[n]=i)})}getAllColumnsProperties(){let e={sortEmptyCells:this.sortEmptyCells,indicator:this.indicator,headerAction:this.headerAction};return typeof this.compareFunctionFactory=="function"&&(e.compareFunctionFactory=this.compareFunctionFactory),e}getSortOrderOfColumn(e){var i;return(i=this.sortingStates.getValueAtIndex(this.hot.toPhysicalColumn(e)))===null||i===void 0?void 0:i.sortOrder}getIndexOfColumnInSortQueue(e){return e=this.hot.toPhysicalColumn(e),this.sortingStates.getEntries().findIndex(i=>{let[n]=i;return n===e})}getNumberOfSortedColumns(){return this.sortingStates.getLength()}isListOfSortedColumnsEmpty(){return this.getNumberOfSortedColumns()===0}isColumnSorted(e){return it(this.sortingStates.getValueAtIndex(this.hot.toPhysicalColumn(e)))}getSortStates(){return this.sortingStates===null?[]:this.sortingStates.getEntries().map(i=>{let[n,r]=i;return ee({column:this.hot.toVisualColumn(n)},r)})}getColumnSortState(e){let i=this.getSortOrderOfColumn(e);if(xe(i))return{column:e,sortOrder:i}}setSortStates(e){this.sortingStates.clear();for(let i=0;i<e.length;i+=1)this.sortingStates.setValueAtIndex(this.hot.toPhysicalColumn(e[i].column),{sortOrder:e[i].sortOrder})}destroy(){this.hot.columnIndexMapper.unregisterMap(this.mapName),this.sortingStates=null}};var o0t=w(Fi(),1),s0t=w(Hi(),1),a0t=w(Vi(),1),l0t=w(Bi(),1),c0t=w(Wi(),1),d0t=w(ji(),1),u0t=w(Ui(),1),QH=w(Jr(),1);function AD(t,e,i){let n=e.locale;return function(r,o){let{sortEmptyCells:s}=i;return typeof r=="string"&&(r=r.toLocaleLowerCase(n)),typeof o=="string"&&(o=o.toLocaleLowerCase(n)),r===o?ao:Ri(r)?Ri(o)?ao:s?t==="asc"?Qi:Zi:Zi:Ri(o)?s?t==="asc"?Zi:Qi:Qi:isNaN(r)&&!isNaN(o)?t==="asc"?Zi:Qi:!isNaN(r)&&isNaN(o)?t==="asc"?Qi:Zi:(isNaN(r)||isNaN(o)||(r=parseFloat(r),o=parseFloat(o)),r<o?t==="asc"?Qi:Zi:r>o?t==="asc"?Zi:Qi:ao)}}var qH="default";function hJ(t,e,i){return function(n,r){let o=parseFloat(n),s=parseFloat(r),{sortEmptyCells:a}=i;if(o===s||isNaN(o)&&isNaN(s))return ao;if(a){if(Ri(n))return t==="asc"?Qi:Zi;if(Ri(r))return t==="asc"?Zi:Qi}return isNaN(o)?Zi:isNaN(s)?Qi:o<s?t==="asc"?Qi:Zi:o>s?t==="asc"?Zi:Qi:ao}}var fJ="numeric";function mJ(t,e,i){let n=e.checkedTemplate,r=e.uncheckedTemplate,{sortEmptyCells:o}=i;return function(s,a){let l=Ri(s),c=Ri(a),d=l?r:s,u=c?r:a,f=d===r||d===n,m=u===r||u===n;if(o===!1){if(l&&c===!1)return Zi;if(l===!1&&c)return Qi}return f===!1&&m?t==="asc"?Qi:Zi:f&&m===!1?t==="asc"?Zi:Qi:f===!1&&m===!1?AD(t,e,i)(s,a):d===r&&u===n?t==="asc"?Qi:Zi:d===n&&u===r?t==="asc"?Zi:Qi:ao}}var pJ="checkbox";function gJ(t,e,i){return OD(t,e.dateFormat,i)}var bJ="date";function vJ(t,e,i){return OD(t,e.timeFormat,i)}var _J="time";var{register:JC,getItem:yJ,hasItem:oke}=Kn("sorting.compareFunctionFactory"),{register:e0,getItem:KH}=Kn("sorting.mainSortComparator");function t0(t){return oke(t)?yJ(t):yJ(qH)}JC(pJ,mJ);JC(bJ,gJ);JC(qH,AD);JC(fJ,hJ);JC(_J,vJ);var ao=0,Qi=-1,Zi=1;function XH(t,e){let i=KH(e);for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];t.sort(i(...r))}var i0="asc",n0="desc",ZH="colHeader";function ske(t){if(it(t)===!1)return!1;let{column:e,sortOrder:i}=t;return Number.isInteger(e)&&[i0,n0].includes(i)}function wJ(t){if(t.some(i=>ske(i)===!1))return!1;let e=t.map(i=>{let{column:n}=i;return n});return new Set(e).size===e.length}function JH(t){if(t!==n0)return t===i0?n0:i0}function eV(t){return t.querySelector(`.${ZH}`)}function tV(t,e){if(t<0||!e.parentNode)return!1;let i=e.parentNode.parentNode.childNodes;return Array.from(i).indexOf(e.parentNode)-i.length===-1}function r0(t,e,i){return t===-1&&e>=0&&ms(i)===!1}function OD(t,e,i){return function(n,r){let{sortEmptyCells:o}=i;if(n===r)return ao;if(Ri(n))return Ri(r)?ao:o?t==="asc"?Qi:Zi:Zi;if(Ri(r))return o?t==="asc"?Zi:Qi:Qi;let s=(0,QH.default)(n,e),a=(0,QH.default)(r,e);return s.isValid()?a.isValid()?a.isAfter(s)?t==="asc"?Qi:Zi:a.isBefore(s)?t==="asc"?Zi:Qi:ao:Qi:Zi}}var b0t=w(be(),1);var ake="ascending",lke="descending",CJ="indicatorDisabled",SJ="columnSorting",xJ="sortAction",EJ=new Map([[i0,ake],[n0,lke]]);function RJ(t,e,i,n){let r=[SJ];if(n&&r.push(xJ),i===!1)return r.push(CJ),r;let o=t.getSortOrderOfColumn(e);return xe(o)&&r.push(EJ.get(o)),r}function TJ(){return Array.from(EJ.values()).concat(xJ,CJ,SJ)}function IJ(t,e){return function(i,n){let[,...r]=i,[,...o]=n;return function(a){let l=t[a],c=e[a],d=r[a],u=o[a],f=c.columnSorting;return(f.compareFunctionFactory?f.compareFunctionFactory:t0(c.type))(l,c,f)(d,u)}(0)}}function cke(t,e){dke(t,e),e.add(t)}function dke(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function PD(t,e,i){return e=uke(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function uke(t){var e=hke(t,"string");return typeof e=="symbol"?e:e+""}function hke(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lb(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var o0="columnSorting",MJ=50,cb="append",AJ="replace",DJ=o0;e0(o0,IJ);Ee.getSingleton().register("beforeColumnSort");Ee.getSingleton().register("afterColumnSort");var kf=new WeakSet,Nf=class extends rt{constructor(){super(...arguments),cke(this,kf),PD(this,"columnStatesManager",null),PD(this,"columnMetaCache",null),PD(this,"pluginKey",o0),PD(this,"indexesSequenceCache",null)}static get PLUGIN_KEY(){return o0}static get PLUGIN_PRIORITY(){return MJ}isEnabled(){return!!this.hot.getSettings()[this.pluginKey]}enablePlugin(){var e=this;this.enabled||(this.columnStatesManager=new MD(this.hot,`${this.pluginKey}.sortingStates`),this.columnMetaCache=new Mr(i=>{let n=this.hot.toVisualColumn(i);return n===null&&(n=i),this.getMergedPluginSettings(n)}),this.hot.columnIndexMapper.registerMap(`${this.pluginKey}.columnMeta`,this.columnMetaCache),this.addHook("afterGetColHeader",(i,n)=>lb(kf,this,fke).call(this,i,n)),this.addHook("beforeOnCellMouseDown",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return lb(kf,e,pke).call(e,...n)}),this.addHook("afterOnCellMouseDown",(i,n)=>this.onAfterOnCellMouseDown(i,n)),this.addHook("afterInit",()=>lb(kf,this,iV).call(this)),this.addHook("afterLoadData",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return lb(kf,e,mke).call(e,...n)}),this.hot.view&&lb(kf,this,iV).call(this),this.registerShortcuts(),super.enablePlugin())}disablePlugin(){let e=(i,n)=>{let r=eV(n);tV(i,n)===!1||r===null||this.updateHeaderClasses(r)};this.hot.addHook("afterGetColHeader",e),this.hot.addHookOnce("afterViewRender",()=>{this.hot.removeHook("afterGetColHeader",e)}),this.hot.batchExecution(()=>{this.indexesSequenceCache!==null&&(this.hot.rowIndexMapper.setIndexesSequence(this.indexesSequenceCache.getValues()),this.hot.rowIndexMapper.unregisterMap(this.pluginKey))},!0),this.hot.columnIndexMapper.unregisterMap(`${this.pluginKey}.columnMeta`),this.columnStatesManager.destroy(),this.columnMetaCache=null,this.columnStatesManager=null,this.unregisterShortcuts(),super.disablePlugin()}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Enter"]],callback:()=>{let{highlight:e}=this.hot.getSelectedRangeLast();return this.sort(this.getColumnNextConfig(e.col)),!1},runOnlyIf:()=>{var e,i;let n=(e=this.hot.getSelectedRangeLast())===null||e===void 0?void 0:e.highlight;return n&&((i=this.hot.getSelectedRangeLast())===null||i===void 0?void 0:i.isSingle())&&this.hot.selection.isCellVisible(n)&&n.row===-1&&n.col>=0},relativeToGroup:so,position:"before",group:DJ})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(DJ)}sort(e){let i=this.getSortConfig(),n=this.getNormalizedSortConfigs(e),r=this.areValidSortConfigs(n);this.hot.runHooks("beforeColumnSort",i,n,r)!==!1&&(i.length===0&&this.indexesSequenceCache===null&&(this.indexesSequenceCache=this.hot.rowIndexMapper.registerMap(this.pluginKey,new Mg),this.indexesSequenceCache.setValues(this.hot.rowIndexMapper.getIndexesSequence())),r&&(this.columnStatesManager.setSortStates(n),this.sortByPresetSortStates(n),this.saveAllSortSettings(n)),this.hot.runHooks("afterColumnSort",i,r?n:i,r),r&&(this.hot.render(),this.hot.forceFullRender=!1,this.hot.view.render()))}clearSort(){this.sort([])}isSorted(){return this.enabled&&!this.columnStatesManager.isListOfSortedColumnsEmpty()}getSortConfig(e){return xe(e)?this.columnStatesManager.getColumnSortState(e):this.columnStatesManager.getSortStates()}setSortConfig(e){let i=this.getNormalizedSortConfigs(e);this.areValidSortConfigs(i)&&this.columnStatesManager.setSortStates(i)}getNormalizedSortConfigs(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Array.isArray(e)?e.slice(0,1):[e]}areValidSortConfigs(e){let i=this.hot.countCols();return wJ(e)&&e.every(n=>{let{column:r}=n;return r<=i&&r>=0})}saveAllSortSettings(e){let i=this.columnStatesManager.getAllColumnsProperties(),n=r=>{let a=r,{column:o}=a,s=Ki(a,["column"]);return ee({column:this.hot.toPhysicalColumn(o)},s)};i.initialConfig=ct(e,n),this.hot.runHooks("persistentStateSave","columnSorting",i)}getAllSavedSortSettings(){let e={};this.hot.runHooks("persistentStateLoad","columnSorting",e);let i=e.value,n=r=>{let a=r,{column:o}=a,s=Ki(a,["column"]);return ee({column:this.hot.toVisualColumn(o)},s)};return xe(i)&&Array.isArray(i.initialConfig)&&(i.initialConfig=ct(i.initialConfig,n)),i}getColumnNextConfig(e){let i=this.columnStatesManager.getSortOrderOfColumn(e);if(xe(i)){let r=JH(i);return xe(r)?{column:e,sortOrder:r}:void 0}let n=this.hot.countCols();if(Number.isInteger(e)&&e>=0&&e<n)return{column:e,sortOrder:JH()}}getNextSortConfig(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:cb,n=this.columnStatesManager.getIndexOfColumnInSortQueue(e),r=n!==-1,o=this.getSortConfig(),s=this.getColumnNextConfig(e);if(r){if(Gt(s))return[...o.slice(0,n),...o.slice(n+1)];if(i===cb)return[...o.slice(0,n),...o.slice(n+1),s];if(i===AJ)return[...o.slice(0,n),s,...o.slice(n+1)]}return xe(s)?o.concat(s):o}getPluginColumnConfig(e){if(it(e)){let i=e[this.pluginKey];if(it(i))return i}return{}}getMergedPluginSettings(e){let i=this.hot.getSettings()[this.pluginKey],n=this.columnStatesManager.getAllColumnsProperties(),r=this.hot.getCellMeta(0,e),o=Object.getPrototypeOf(r);return Array.isArray(o.columns)?Object.assign(n,i,this.getPluginColumnConfig(o.columns[e])):ti(o.columns)?Object.assign(n,i,this.getPluginColumnConfig(o.columns(e))):Object.assign(n,i)}getFirstCellSettings(e){let i=this.hot.getCellMeta(0,e),n=Object.create(i);return n[this.pluginKey]=this.columnMetaCache.getValueAtIndex(this.hot.toPhysicalColumn(e)),n}getNumberOfRowsToSort(e){let i=this.hot.getSettings();return i.maxRows<=e?i.maxRows:e-i.minSpareRows}sortByPresetSortStates(e){if(e.length===0){this.hot.rowIndexMapper.setIndexesSequence(this.indexesSequenceCache.getValues());return}let i=[],n=this.hot.countRows(),r=c=>ct(e,d=>this.hot.getDataAtCell(c,d.column));for(let c=0;c<this.getNumberOfRowsToSort(n);c+=1)i.push([this.hot.toPhysicalRow(c)].concat(r(c)));let o=ct(i,c=>c[0]);XH(i,this.pluginKey,ct(e,c=>c.sortOrder),ct(e,c=>this.getFirstCellSettings(c.column)));for(let c=i.length;c<n;c+=1)i.push([c].concat(r(c)));let s=ct(i,c=>c[0]),a=new Map(ct(o,(c,d)=>[c,s[d]])),l=ct(this.hot.rowIndexMapper.getIndexesSequence(),c=>a.has(c)?a.get(c):c);this.hot.rowIndexMapper.setIndexesSequence(l)}sortBySettings(e){if(it(e)){this.columnStatesManager.updateAllColumnsProperties(e);let i=e.initialConfig;(Array.isArray(i)||it(i))&&this.sort(i)}else this.hot.render()}updateHeaderClasses(e){if(tt(e,TJ(e)),this.enabled!==!1){for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];ne(e,RJ(...n))}}onUpdateSettings(e){super.onUpdateSettings(),this.columnMetaCache!==null&&this.columnMetaCache.init(this.hot.columnIndexMapper.getNumberOfIndexes()),xe(e[this.pluginKey])&&this.sortBySettings(e[this.pluginKey])}wasClickableHeaderClicked(e,i){return this.getFirstCellSettings(i)[this.pluginKey].headerAction&&Fe(e.target,ZH)}onAfterOnCellMouseDown(e,i){r0(i.row,i.col,e)!==!1&&this.wasClickableHeaderClicked(e,i.col)&&(this.hot.getShortcutManager().isCtrlPressed()&&(this.hot.deselectCell(),this.hot.selectColumns(i.col)),this.sort(this.getColumnNextConfig(i.col)))}destroy(){var e;(e=this.columnStatesManager)===null||e===void 0||e.destroy(),super.destroy()}};function iV(){let t=this.getAllSavedSortSettings();if(it(t))this.sortBySettings(t);else{let e=this.hot.getSettings()[this.pluginKey];this.sortBySettings(e)}}function fke(t,e){let i=eV(e);if(tV(t,e)===!1||i===null)return;let n=this.getFirstCellSettings(t)[this.pluginKey],r=n.indicator,o=n.headerAction;if(this.updateHeaderClasses(i,this.columnStatesManager,t,r,o),this.hot.getSettings().ariaTags){let s=this.columnStatesManager.getSortOrderOfColumn(t);Le(e,...IX(s?`${s}ending`:"none"))}}function mke(t){t===!0&&this.hot.view&&lb(kf,this,iV).call(this)}function pke(t,e,i,n){r0(e.row,e.col,t)!==!1&&this.wasClickableHeaderClicked(t,e.col)&&this.hot.getShortcutManager().isCtrlPressed()&&(n.column=!0)}var X0t=w(Q(),1);var z0t=w(Q(),1),Y0t=w(be(),1);function Lf(t,e,i){return e=gke(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function gke(t){var e=bke(t,"string");return typeof e=="symbol"?e:e+""}function bke(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nV=class{constructor(e,i){Lf(this,"plugin",void 0),Lf(this,"hot",void 0),Lf(this,"endpoints",[]),Lf(this,"settings",void 0),Lf(this,"settingsType","array"),Lf(this,"currentEndpoint",null),Lf(this,"cellsToSetCache",[]),this.plugin=e,this.hot=this.plugin.hot,this.settings=i}initEndpoints(){this.endpoints=this.parseSettings(),this.refreshAllEndpoints()}getEndpoint(e){return this.settingsType==="function"?this.fillMissingEndpointData(this.settings)[e]:this.endpoints[e]}getAllEndpoints(){return this.settingsType==="function"?this.fillMissingEndpointData(this.settings):this.endpoints}fillMissingEndpointData(e){return this.parseSettings(e.call(this))}parseSettings(e){let i=[],n=e;if(!n&&typeof this.settings=="function"){this.settingsType="function";return}return n||(n=this.settings),M(n,r=>{let o={};this.assignSetting(r,o,"ranges",[[0,this.hot.countRows()-1]]),this.assignSetting(r,o,"reversedRowCoords",!1),this.assignSetting(r,o,"destinationRow",new Error(`
        You must provide a destination row for the Column Summary plugin in order to work properly!
      `)),this.assignSetting(r,o,"destinationColumn",new Error(`
        You must provide a destination column for the Column Summary plugin in order to work properly!
      `)),this.assignSetting(r,o,"sourceColumn",r.destinationColumn),this.assignSetting(r,o,"type","sum"),this.assignSetting(r,o,"forceNumeric",!1),this.assignSetting(r,o,"suppressDataTypeErrors",!0),this.assignSetting(r,o,"customFunction",null),this.assignSetting(r,o,"readOnly",!0),this.assignSetting(r,o,"roundFloat",!1),i.push(o)}),i}assignSetting(e,i,n,r){if(n==="ranges"&&e[n]===void 0){i[n]=r;return}else if(n==="ranges"&&e[n].length===0)return;if(e[n]===void 0){if(r instanceof Error)throw r;i[n]=r}else n==="destinationRow"&&i.reversedRowCoords?i[n]=this.hot.countRows()-e[n]-1:i[n]=e[n]}resetSetupBeforeStructureAlteration(e,i,n){if(this.settingsType!=="function")return;let r=e.indexOf("row")>-1?"row":"col",o=this.getAllEndpoints();M(o,s=>{r==="row"&&s.destinationRow>=i&&(e==="insert_row"?s.alterRowOffset=n:e==="remove_row"&&(s.alterRowOffset=-1*n)),r==="col"&&s.destinationColumn>=i&&(e==="insert_col"?s.alterColumnOffset=n:e==="remove_col"&&(s.alterColumnOffset=-1*n))}),this.resetAllEndpoints(o,!1)}resetSetupAfterStructureAlteration(e,i,n,r,o){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;if(this.settingsType==="function"){let f=()=>(this.hot.removeHook("beforeViewRender",f),this.refreshAllEndpoints());this.hot.addHookOnce("beforeViewRender",f);return}let a=e.indexOf("row")>-1?"row":"col",l=e.indexOf("remove")>-1?-1:1,c=this.getAllEndpoints(),d=e.indexOf("move_row")===0,u=i;M(c,f=>{a==="row"&&f.destinationRow>=u&&(f.alterRowOffset=l*n),a==="col"&&f.destinationColumn>=u&&(f.alterColumnOffset=l*n)}),this.resetAllEndpoints(c,!d),d?M(c,f=>{this.extendEndpointRanges(f,u,r[0],r.length),this.recreatePhysicalRanges(f),this.clearOffsetInformation(f)}):M(c,f=>{this.shiftEndpointCoordinates(f,u)}),s&&this.refreshAllEndpoints()}clearOffsetInformation(e){e.alterRowOffset=void 0,e.alterColumnOffset=void 0}extendEndpointRanges(e,i,n,r){M(e.ranges,o=>{o[1]&&(i>=o[0]&&i<=o[1]?n>o[1]?o[1]+=r:n<o[0]&&(o[0]-=r):n>=o[0]&&n<=o[1]&&(o[1]-=r,i<=o[0]&&(o[0]+=1,o[1]+=1)))})}recreatePhysicalRanges(e){let i=e.ranges,n=[],r=[];M(i,o=>{let s=[];if(o[1])for(let a=o[0];a<=o[1];a++)s.push(this.hot.toPhysicalRow(a));else s.push(this.hot.toPhysicalRow(o[0]));r.push(s)}),M(r,o=>{let s=[];M(o,(a,l)=>{l===0?s.push(a):o[l]!==o[l-1]+1&&(s.push(o[l-1]),n.push(s),s=[],s.push(a)),l===o.length-1&&(s.push(a),n.push(s))})}),e.ranges=n}shiftEndpointCoordinates(e,i){e.alterRowOffset&&e.alterRowOffset!==0?(e.destinationRow+=e.alterRowOffset||0,M(e.ranges,n=>{M(n,(r,o)=>{r>=i&&(n[o]+=e.alterRowOffset||0)})})):e.alterColumnOffset&&e.alterColumnOffset!==0&&(e.destinationColumn+=e.alterColumnOffset||0,e.sourceColumn+=e.alterColumnOffset||0)}resetAllEndpoints(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getAllEndpoints(),i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;e.some(r=>{let o=r.alterRowOffset||0,s=r.alterColumnOffset||0;return r.destinationRow+o>=this.hot.countRows()||r.destinationColumn+s>=this.hot.countCols()})||(this.cellsToSetCache=[],M(e,r=>{this.resetEndpointValue(r,i)}),this.hot.setDataAtCell(this.cellsToSetCache,"ColumnSummary.reset"),this.cellsToSetCache=[])}refreshAllEndpoints(){this.cellsToSetCache=[],M(this.getAllEndpoints(),e=>{this.currentEndpoint=e,this.plugin.calculate(e),this.setEndpointValue(e,"init")}),this.currentEndpoint=null,this.hot.setDataAtCell(this.cellsToSetCache,"ColumnSummary.reset"),this.cellsToSetCache=[]}refreshChangedEndpoints(e){let i=[];this.cellsToSetCache=[],M(e,(n,r,o)=>{`${n[2]||""}`!=`${n[3]}`&&M(this.getAllEndpoints(),(s,a)=>{this.hot.propToCol(o[r][1])===s.sourceColumn&&i.indexOf(a)===-1&&i.push(a)})}),M(i,n=>{this.refreshEndpoint(this.getEndpoint(n))}),this.hot.setDataAtCell(this.cellsToSetCache,"ColumnSummary.reset"),this.cellsToSetCache=[]}refreshCellMetas(){this.endpoints.forEach(e=>{let i=this.hot.toVisualRow(e.destinationRow);if(i!==null){let n=this.hot.getCellMeta(i,e.destinationColumn);n.readOnly=e.readOnly,n.className="columnSummaryResult"}})}refreshEndpoint(e){this.currentEndpoint=e,this.plugin.calculate(e),this.setEndpointValue(e),this.currentEndpoint=null}resetEndpointValue(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=e.alterRowOffset||0,r=e.alterColumnOffset||0;this.cellsToSetCache.push([this.hot.toVisualRow(e.destinationRow+(i?n:0)),this.hot.toVisualColumn(e.destinationColumn+(i?r:0)),""])}setEndpointValue(e,i){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=this.hot.toVisualRow(e.destinationRow);if(e.destinationRow>=this.hot.countRows()||e.destinationColumn>=this.hot.countCols()){this.throwOutOfBoundsWarning();return}let o=this.hot.toVisualRow(e.destinationRow);if(o!==null){let s=this.hot.getCellMeta(o,e.destinationColumn);(i==="init"||s.readOnly!==e.readOnly)&&(s.readOnly=e.readOnly,s.className="columnSummaryResult")}if((e.roundFloat===!0||Number.isInteger(e.roundFloat))&&!isNaN(e.result)){let s=e.roundFloat,a=0;Number.isInteger(s)&&(a=Math.min(Math.max(0,s),100)),e.result=e.result.toFixed(a)}n?this.hot.setDataAtCell(r,e.destinationColumn,e.result,"ColumnSummary.set"):this.cellsToSetCache.push([r,e.destinationColumn,e.result]),e.alterRowOffset=void 0,e.alterColumnOffset=void 0}throwOutOfBoundsWarning(){zt("One of the Column Summary plugins' destination points you provided is beyond the table boundaries!")}},OJ=nV;function kD(t){return t==null||isNaN(t)}function vke(t,e){_ke(t,e),e.add(t)}function _ke(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function yke(t,e,i){return e=wke(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function wke(t){var e=Cke(t,"string");return typeof e=="symbol"?e:e+""}function Cke(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ND(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var LD="columnSummary",PJ=220,s0=new WeakSet,a0=class extends rt{constructor(){super(...arguments),vke(this,s0),yke(this,"endpoints",null)}static get PLUGIN_KEY(){return LD}static get PLUGIN_PRIORITY(){return PJ}isEnabled(){return!!this.hot.getSettings()[LD]}enablePlugin(){var e=this;this.enabled||(this.settings=this.hot.getSettings()[LD],this.endpoints=new OJ(this,this.settings),this.addHook("afterInit",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return ND(s0,e,Ske).call(e,...n)}),this.addHook("afterChange",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return ND(s0,e,Eke).call(e,...n)}),this.addHook("afterUpdateSettings",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return ND(s0,e,xke).call(e,...n)}),this.addHook("beforeCreateRow",(i,n,r)=>this.endpoints.resetSetupBeforeStructureAlteration("insert_row",i,n,null,r)),this.addHook("beforeCreateCol",(i,n,r)=>this.endpoints.resetSetupBeforeStructureAlteration("insert_col",i,n,null,r)),this.addHook("beforeRemoveRow",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return e.endpoints.resetSetupBeforeStructureAlteration("remove_row",...n)}),this.addHook("beforeRemoveCol",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return e.endpoints.resetSetupBeforeStructureAlteration("remove_col",...n)}),this.addHook("afterCreateRow",(i,n,r)=>this.endpoints.resetSetupAfterStructureAlteration("insert_row",i,n,null,r)),this.addHook("afterCreateCol",(i,n,r)=>this.endpoints.resetSetupAfterStructureAlteration("insert_col",i,n,null,r)),this.addHook("afterRemoveRow",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return e.endpoints.resetSetupAfterStructureAlteration("remove_row",...n)}),this.addHook("afterRemoveCol",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return e.endpoints.resetSetupAfterStructureAlteration("remove_col",...n)}),this.addHook("afterRowMove",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return ND(s0,e,Rke).call(e,...n)}),super.enablePlugin())}disablePlugin(){this.endpoints=null,this.settings=null,this.currentEndpoint=null,super.disablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),this.endpoints.initEndpoints(),super.updatePlugin()}calculate(e){switch(e.type.toLowerCase()){case"sum":e.result=this.calculateSum(e);break;case"min":e.result=this.calculateMinMax(e,e.type);break;case"max":e.result=this.calculateMinMax(e,e.type);break;case"count":e.result=this.countEntries(e);break;case"average":e.result=this.calculateAverage(e);break;case"custom":e.result=e.customFunction.call(this,e);break;default:break}}calculateSum(e){let i=0;return nt(e.ranges,n=>{i+=this.getPartialSum(n,e.sourceColumn)}),i}getPartialSum(e,i){let n=0,r=e[1]||e[0],o=null,s=0;do{if(o=this.getCellValue(r,i),o=kD(o)?null:o,o!==null){let a=(`${o}`.split(".")[1]||[]).length||1;a>s&&(s=a)}n+=o||0,r-=1}while(r>=e[0]);return Math.round(n*10**s)/10**s}calculateMinMax(e,i){let n=null;return nt(e.ranges,r=>{let o=this.getPartialMinMax(r,e.sourceColumn,i);if(n===null&&o!==null&&(n=o),o!==null)switch(i){case"min":n=Math.min(n,o);break;case"max":n=Math.max(n,o);break;default:break}}),n===null?"Not enough data":n}getPartialMinMax(e,i,n){let r=null,o=e[1]||e[0],s;do{if(s=this.getCellValue(o,i),s=kD(s)?null:s,r===null)r=s;else if(s!==null)switch(n){case"min":r=Math.min(r,s);break;case"max":r=Math.max(r,s);break;default:break}o-=1}while(o>=e[0]);return r}countEmpty(e,i){let n,r=0,o=e[1]||e[0];do n=this.getCellValue(o,i),n=kD(n)?null:n,n===null&&(r+=1),o-=1;while(o>=e[0]);return r}countEntries(e){let i=0,n=e.ranges;return nt(n,r=>{let o=r[1]===void 0?1:r[1]-r[0]+1,s=this.countEmpty(r,e.sourceColumn);i+=o,i-=s}),i}calculateAverage(e){let i=this.calculateSum(e),n=this.countEntries(e);return i/n}getCellValue(e,i){let n=this.hot.toVisualRow(e),r=this.hot.toVisualColumn(i),o=this.hot.getSourceDataAtCell(e,i),s="";if(n!==null&&r!==null&&(s=this.hot.getCellMeta(n,r).className||""),s.indexOf("columnSummaryResult")>-1)return null;if(this.endpoints.currentEndpoint.forceNumeric&&(typeof o=="string"&&(o=o.replace(/,/,".")),o=parseFloat(o)),isNaN(o)&&!this.endpoints.currentEndpoint.suppressDataTypeErrors)throw new Error(Dt`ColumnSummary plugin: cell at (${e}, ${i}) is not in a\x20
          numeric format. Cannot do the calculation.`);return o}};function Ske(){this.endpoints.initEndpoints()}function xke(t){t.columns!==void 0&&this.endpoints.refreshCellMetas()}function Eke(t,e){t&&e!=="ColumnSummary.reset"&&e!=="ColumnSummary.set"&&e!=="loadData"&&this.endpoints.refreshChangedEndpoints(t)}function Rke(t,e){this.endpoints.resetSetupBeforeStructureAlteration("move_row",t[0],t.length,t,this.pluginName),this.endpoints.resetSetupAfterStructureAlteration("move_row",e,t.length,t,this.pluginName)}var mxt=w(Q(),1),pxt=w(be(),1);var oSt=w(Q(),1);function db(t,e,i){return e=Tke(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Tke(t){var e=Ike(t,"string");return typeof e=="symbol"?e:e+""}function Ike(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rV=class t{static get CLASS_EDITOR_CONTAINER(){return"htCommentsContainer"}static get CLASS_EDITOR(){return"htComments"}static get CLASS_INPUT(){return"htCommentTextArea"}static get CLASS_CELL(){return"htCommentCell"}constructor(e,i){db(this,"rootDocument",void 0),db(this,"isRtl",!1),db(this,"container",null),db(this,"editor",void 0),db(this,"editorStyle",void 0),db(this,"hidden",!0),this.rootDocument=e,this.isRtl=i,this.editor=this.createEditor(),this.editorStyle=this.editor.style,this.hide()}setPosition(e,i){this.editorStyle.left=`${e}px`,this.editorStyle.top=`${i}px`}setSize(e,i){if(e&&i){let n=this.getInputElement();n.style.width=`${e}px`,n.style.height=`${i}px`}}getSize(){return{width:$t(this.getInputElement()),height:si(this.getInputElement())}}resetSize(){let e=this.getInputElement();e.style.width="",e.style.height=""}setReadOnlyState(e){let i=this.getInputElement();i.readOnly=e}show(){this.editorStyle.display="block",this.hidden=!1}hide(){this.hidden||(this.editorStyle.display="none"),this.hidden=!0}isVisible(){return this.editorStyle.display==="block"}setValue(){let i=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"")||"";this.getInputElement().value=i}getValue(){return this.getInputElement().value}isFocused(){return this.rootDocument.activeElement===this.getInputElement()}focus(){this.getInputElement().focus()}createEditor(){let e=this.rootDocument.createElement("div"),i=this.rootDocument.createElement("textarea");return e.style.display="none",this.container=this.rootDocument.createElement("div"),this.container.setAttribute("dir",this.isRtl?"rtl":"ltr"),ne(this.container,t.CLASS_EDITOR_CONTAINER),this.rootDocument.body.appendChild(this.container),ne(e,t.CLASS_EDITOR),ne(i,t.CLASS_INPUT),i.setAttribute("data-hot-input",!0),e.appendChild(i),this.container.appendChild(e),e}getInputElement(){return this.editor.querySelector(`.${t.CLASS_INPUT}`)}destroy(){let e=this.container?this.container.parentNode:null;this.editor.parentNode.removeChild(this.editor),this.editor=null,this.editorStyle=null,e&&e.removeChild(this.container)}},kJ=rV;var lSt=w(Q(),1);function oV(t,e,i){return e=Dke(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Dke(t){var e=Mke(t,"string");return typeof e=="symbol"?e:e+""}function Mke(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ake=250,Oke=250,FD=class{constructor(e){oV(this,"wasLastActionShow",!0),oV(this,"showDebounced",null),oV(this,"hidingTimer",null),this.updateDelay(e)}hide(){this.wasLastActionShow=!1,this.hidingTimer=setTimeout(()=>{this.wasLastActionShow===!1&&this.runLocalHooks("hide")},Oke)}show(e){this.wasLastActionShow=!0,this.showDebounced(e)}cancelHiding(){this.wasLastActionShow=!0,clearTimeout(this.hidingTimer),this.hidingTimer=null}updateDelay(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ake;this.showDebounced=ng(i=>{this.wasLastActionShow&&this.runLocalHooks("show",i.from.row,i.from.col)},e)}destroy(){this.clearLocalHooks()}};Ot(FD,Xi);var NJ=FD;function Pke(t,e){return t.indexOf(e)!==-1?t:`${t.replace("htTop","").replace("htMiddle","").replace("htBottom","").replace("  ","")} ${e}`}function kke(t,e){return t.indexOf(e)!==-1?t:`${t.replace("htLeft","").replace("htCenter","").replace("htRight","").replace("htJustify","").replace("  ","")} ${e}`}function qu(t,e){let i={};return M(t,n=>{n.forAll((r,o)=>{r>=0&&o>=0&&(i[r]||(i[r]=[]),i[r][o]=e(r,o))})}),i}function jl(t,e,i,n,r){M(t,o=>{o.forAll((s,a)=>{s>=0&&a>=0&&Nke(s,a,e,i,n,r)})})}function Nke(t,e,i,n,r,o){let s=r(t,e),a=n;s.className&&(i==="vertical"?a=Pke(s.className,n):a=kke(s.className,n)),o(t,e,"className",a)}function la(t){return`<span class="selected">\u2713</span>${t}`}function _s(t,e){let i=!1;return Array.isArray(t)&&M(t,n=>(n.forAll((r,o)=>{if(r>=0&&o>=0&&e(r,o))return i=!0,!1}),i)),i}function ub(t,e){let i={top:0,left:0};if(e!==t.ownerDocument){let{frameElement:n}=e.defaultView,{top:r,left:o}=n.getBoundingClientRect();i.top=r,i.left=o}return i}var xt="---------";function sV(){return{name:xt}}var lo="alignment";function aV(){return{key:lo,name(){return this.getTranslatedPhrase(Aw)},disabled(){if(this.countRows()===0||this.countCols()===0)return!0;let t=this.getSelectedRangeLast();return!t||t.isSingleHeader()?!0:!(this.getSelectedRange()&&!this.selection.isSelectedByCorner())},submenu:{items:[{key:`${lo}:left`,name(){let t=this.getTranslatedPhrase(Ow);return _s(this.getSelectedRange(),(i,n)=>{let r=this.getCellMeta(i,n).className;if(r&&r.indexOf("htLeft")!==-1)return!0})&&(t=la(t)),t},callback(){let t=this.getSelectedRange(),e=qu(t,(r,o)=>this.getCellMeta(r,o).className),i="horizontal",n="htLeft";this.runHooks("beforeCellAlignment",e,t,i,n),jl(t,i,n,(r,o)=>this.getCellMeta(r,o),(r,o,s,a)=>this.setCellMeta(r,o,s,a)),this.render()},disabled:!1},{key:`${lo}:center`,name(){let t=this.getTranslatedPhrase(Pw);return _s(this.getSelectedRange(),(i,n)=>{let r=this.getCellMeta(i,n).className;if(r&&r.indexOf("htCenter")!==-1)return!0})&&(t=la(t)),t},callback(){let t=this.getSelectedRange(),e=qu(t,(r,o)=>this.getCellMeta(r,o).className),i="horizontal",n="htCenter";this.runHooks("beforeCellAlignment",e,t,i,n),jl(t,i,n,(r,o)=>this.getCellMeta(r,o),(r,o,s,a)=>this.setCellMeta(r,o,s,a)),this.render()},disabled:!1},{key:`${lo}:right`,name(){let t=this.getTranslatedPhrase(kw);return _s(this.getSelectedRange(),(i,n)=>{let r=this.getCellMeta(i,n).className;if(r&&r.indexOf("htRight")!==-1)return!0})&&(t=la(t)),t},callback(){let t=this.getSelectedRange(),e=qu(t,(r,o)=>this.getCellMeta(r,o).className),i="horizontal",n="htRight";this.runHooks("beforeCellAlignment",e,t,i,n),jl(t,i,n,(r,o)=>this.getCellMeta(r,o),(r,o,s,a)=>this.setCellMeta(r,o,s,a)),this.render()},disabled:!1},{key:`${lo}:justify`,name(){let t=this.getTranslatedPhrase(Nw);return _s(this.getSelectedRange(),(i,n)=>{let r=this.getCellMeta(i,n).className;if(r&&r.indexOf("htJustify")!==-1)return!0})&&(t=la(t)),t},callback(){let t=this.getSelectedRange(),e=qu(t,(r,o)=>this.getCellMeta(r,o).className),i="horizontal",n="htJustify";this.runHooks("beforeCellAlignment",e,t,i,n),jl(t,i,n,(r,o)=>this.getCellMeta(r,o),(r,o,s,a)=>this.setCellMeta(r,o,s,a)),this.render()},disabled:!1},{name:xt},{key:`${lo}:top`,name(){let t=this.getTranslatedPhrase(Lw);return _s(this.getSelectedRange(),(i,n)=>{let r=this.getCellMeta(i,n).className;if(r&&r.indexOf("htTop")!==-1)return!0})&&(t=la(t)),t},callback(){let t=this.getSelectedRange(),e=qu(t,(r,o)=>this.getCellMeta(r,o).className),i="vertical",n="htTop";this.runHooks("beforeCellAlignment",e,t,i,n),jl(t,i,n,(r,o)=>this.getCellMeta(r,o),(r,o,s,a)=>this.setCellMeta(r,o,s,a)),this.render()},disabled:!1},{key:`${lo}:middle`,name(){let t=this.getTranslatedPhrase(Fw);return _s(this.getSelectedRange(),(i,n)=>{let r=this.getCellMeta(i,n).className;if(r&&r.indexOf("htMiddle")!==-1)return!0})&&(t=la(t)),t},callback(){let t=this.getSelectedRange(),e=qu(t,(r,o)=>this.getCellMeta(r,o).className),i="vertical",n="htMiddle";this.runHooks("beforeCellAlignment",e,t,i,n),jl(t,i,n,(r,o)=>this.getCellMeta(r,o),(r,o,s,a)=>this.setCellMeta(r,o,s,a)),this.render()},disabled:!1},{key:`${lo}:bottom`,name(){let t=this.getTranslatedPhrase(Hw);return _s(this.getSelectedRange(),(i,n)=>{let r=this.getCellMeta(i,n).className;if(r&&r.indexOf("htBottom")!==-1)return!0})&&(t=la(t)),t},callback(){let t=this.getSelectedRange(),e=qu(t,(r,o)=>this.getCellMeta(r,o).className),i="vertical",n="htBottom";this.runHooks("beforeCellAlignment",e,t,i,n),jl(t,i,n,(r,o)=>this.getCellMeta(r,o),(r,o,s,a)=>this.setCellMeta(r,o,s,a)),this.render()},disabled:!1}]}}}var Ff="clear_column";function lV(){return{key:Ff,name(){return this.getTranslatedPhrase(bw)},callback(t,e){let i=e[0].start.col,n=e[0].end.col;this.countRows()&&this.populateFromArray(0,i,[[null]],Math.max(e[0].start.row,e[0].end.row),n,"ContextMenu.clearColumn")},disabled(){let t=this.getSelectedRangeLast();return!t||t.isSingleHeader()&&t.highlight.col<0?!0:!this.selection.isSelectedByColumnHeader()}}}var Qc="col_left";function cV(){return{key:Qc,name(){return this.getTranslatedPhrase(dw)},callback(){let t=this.getSelectedRangeLast().getTopLeftCorner(),e=this.isRtl()?"insert_col_end":"insert_col_start";this.alter(e,t.col,1,"ContextMenu.columnLeft")},disabled(){if(!this.isColumnModificationAllowed())return!0;let t=this.getSelectedRangeLast();return!t||t.isSingleHeader()&&t.highlight.col<0?!0:this.selection.isSelectedByCorner()?this.countCols()===0:this.selection.isSelectedByRowHeader()||this.countCols()>=this.getSettings().maxCols},hidden(){return!this.getSettings().allowInsertColumn}}}var Zc="col_right";function dV(){return{key:Zc,name(){return this.getTranslatedPhrase(uw)},callback(){let t=this.getSelectedRangeLast().getTopRightCorner(),e=this.isRtl()?"insert_col_start":"insert_col_end";this.alter(e,t.col,1,"ContextMenu.columnRight")},disabled(){if(!this.isColumnModificationAllowed())return!0;let t=this.getSelectedRangeLast();return!t||t.isSingleHeader()&&t.highlight.col<0?!0:this.selection.isSelectedByCorner()?!1:this.selection.isSelectedByRowHeader()||this.countCols()>=this.getSettings().maxCols},hidden(){return!this.getSettings().allowInsertColumn}}}var Jc="make_read_only";function uV(){return{key:Jc,name(){let t=this.getTranslatedPhrase(gw);return _s(this.getSelectedRange(),(i,n)=>this.getCellMeta(i,n).readOnly)&&(t=la(t)),t},callback(){let t=this.getSelectedRange(),e=_s(t,(i,n)=>this.getCellMeta(i,n).readOnly);M(t,i=>{i.forAll((n,r)=>{n>=0&&r>=0&&this.setCellMeta(n,r,"readOnly",!e)})}),this.render()},disabled(){let t=this.getSelectedRangeLast();return!!(!t||t.isSingleHeader()||this.selection.isSelectedByCorner()||this.countRows()===0||this.countCols()===0||!this.getSelectedRange()||this.getSelectedRange().length===0)}}}var Hf="redo";function hV(){return{key:Hf,name(){return this.getTranslatedPhrase(pw)},callback(){this.redo()},hidden(){let t=this.getPlugin("undoRedo");return!t||!t.isEnabled()},disabled(){return!this.getPlugin("undoRedo").isRedoAvailable()}}}var ed="remove_col";function fV(){return{key:ed,name(){let t=this.getSelected(),e=0;if(t)if(t.length>1)e=1;else{let[,i,,n]=t[0];i-n!==0&&(e=1)}return this.getTranslatedPhrase(fw,e)},callback(){this.alter("remove_col",j7(this),null,"ContextMenu.removeColumn")},disabled(){if(!this.isColumnModificationAllowed())return!0;let t=this.getSelectedRangeLast();if(!t||t.isSingleHeader()&&t.highlight.col<0)return!0;let e=this.countCols();return this.selection.isSelectedByCorner()?e===0:this.selection.isSelectedByRowHeader()||e===0},hidden(){return!this.getSettings().allowRemoveColumn}}}var Vf="remove_row";function mV(){return{key:Vf,name(){let t=this.getSelected(),e=0;if(t)if(t.length>1)e=1;else{let[i,,n]=t[0];i-n!==0&&(e=1)}return this.getTranslatedPhrase(hw,e)},callback(){this.alter("remove_row",U7(this),1,"ContextMenu.removeRow")},disabled(){let t=this.getSelectedRangeLast();if(!t||t.isSingleHeader()&&t.highlight.row<0)return!0;let e=this.countRows();return this.selection.isSelectedByCorner()?e===0:this.selection.isSelectedByColumnHeader()||e===0},hidden(){return!this.getSettings().allowRemoveRow}}}var Bf="row_above";function pV(){return{key:Bf,name(){return this.getTranslatedPhrase(lw)},callback(){let t=this.getSelectedRangeLast().getTopLeftCorner();this.alter("insert_row_above",t.row,1,"ContextMenu.rowAbove")},disabled(){let t=this.getSelectedRangeLast();return!t||t.isSingleHeader()&&t.highlight.row<0?!0:this.selection.isSelectedByCorner()?this.countRows()===0:this.selection.isSelectedByColumnHeader()||this.countRows()>=this.getSettings().maxRows},hidden(){return!this.getSettings().allowInsertRow}}}var Wf="row_below";function gV(){return{key:Wf,name(){return this.getTranslatedPhrase(cw)},callback(){let t=this.getSelectedRangeLast().getBottomRightCorner();this.alter("insert_row_below",t.row,1,"ContextMenu.rowBelow")},disabled(){let t=this.getSelectedRangeLast();return!t||t.isSingleHeader()&&t.highlight.row<0?!0:this.selection.isSelectedByCorner()?!1:this.selection.isSelectedByColumnHeader()||this.countRows()>=this.getSettings().maxRows},hidden(){return!this.getSettings().allowInsertRow}}}var Ku="no_items";function bV(){return{key:Ku,name(){return this.getTranslatedPhrase(aw)},disabled:!0,isCommand:!1}}var jf="undo";function vV(){return{key:jf,name(){return this.getTranslatedPhrase(mw)},callback(){this.undo()},hidden(){let t=this.getPlugin("undoRedo");return!t||!t.isEnabled()},disabled(){return!this.getPlugin("undoRedo").isUndoAvailable()}}}var LJ=[Bf,Wf,Qc,Zc,Ff,Vf,ed,jf,Hf,Jc,lo,xt,Ku],Lke={[xt]:sV,[Ku]:bV,[Bf]:pV,[Wf]:gV,[Qc]:cV,[Zc]:dV,[Ff]:lV,[Vf]:mV,[ed]:fV,[jf]:vV,[Hf]:hV,[Jc]:uV,[lo]:aV};function HD(){let t={};return nt(Lke,(e,i)=>{t[i]=e()}),t}function _V(t){return{key:"commentsAddEdit",name(){var e;let i=(e=this.getSelectedRangeLast())===null||e===void 0?void 0:e.highlight;return i!=null&&i.isCell()&&t.getCommentAtCell(i.row,i.col)?this.getTranslatedPhrase(Iw):this.getTranslatedPhrase(Tw)},callback(){let e=this.getSelectedRangeLast();t.setRange(e),t.show(),t.focusEditor()},disabled(){let e=this.getSelectedRangeLast();return!!(!e||e.highlight.isHeader()||this.selection.isEntireRowSelected()&&this.selection.isEntireColumnSelected()||this.countRenderedRows()===0||this.countRenderedCols()===0)}}}function yV(t){return{key:"commentsRemove",name(){return this.getTranslatedPhrase(Dw)},callback(){this.getSelectedRangeLast().forAll((i,n)=>{i>=0&&n>=0&&t.removeCommentAtCell(i,n,!1)}),this.render()},disabled(){let e=this.getSelectedRangeLast();return!!(!e||e.highlight.isHeader()||this.selection.isEntireRowSelected()&&this.selection.isEntireColumnSelected()||this.countRenderedRows()===0||this.countRenderedCols()===0)}}}function wV(t){return{key:"commentsReadOnly",name(){let e=this.getTranslatedPhrase(Mw);return _s(this.getSelectedRange(),(n,r)=>t.getCommentMeta(n,r,l0))?la(e):e},callback(){this.getSelectedRangeLast().forAll((i,n)=>{if(i>=0&&n>=0){let r=!!t.getCommentMeta(i,n,l0);t.updateCommentMeta(i,n,{[l0]:!r})}})},disabled(){let e=this.getSelectedRangeLast();return!!(!e||e.highlight.isHeader()||!t.getCommentAtCell(e.highlight.row,e.highlight.col)||this.selection.isEntireRowSelected()&&this.selection.isEntireColumnSelected()||this.countRenderedRows()===0||this.countRenderedCols()===0)}}}function Fke(t,e){FJ(t,e),e.add(t)}function Uf(t,e,i){FJ(t,e),e.set(t,i)}function FJ(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Hke(t,e,i){return e=Vke(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Vke(t){var e=Bke(t,"string");return typeof e=="symbol"?e:e+""}function Bke(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function id(t,e,i){return t.set(ca(t,e),i),i}function Jt(t,e){return t.get(ca(t,e))}function ca(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var hb="comments",HJ=60,td="comment",c0="value",VJ="style",l0="readOnly",VD=hb,CV=`plugin:${hb}`,sn=new WeakMap,Qa=new WeakMap,UD=new WeakMap,BD=new WeakMap,WD=new WeakMap,SV=new WeakMap,jD=new WeakMap,Xa=new WeakSet,d0=class extends rt{constructor(){super(...arguments),Fke(this,Xa),Hke(this,"range",{}),Uf(this,sn,null),Uf(this,Qa,null),Uf(this,UD,!1),Uf(this,BD,!1),Uf(this,WD,{}),Uf(this,SV,null),Uf(this,jD,"")}static get PLUGIN_KEY(){return hb}static get PLUGIN_PRIORITY(){return HJ}isEnabled(){return!!this.hot.getSettings()[hb]}enablePlugin(){this.enabled||(Jt(sn,this)||id(sn,this,new kJ(this.hot.rootDocument,this.hot.isRtl())),Jt(Qa,this)||id(Qa,this,new NJ(this.getDisplayDelaySetting())),this.addHook("afterContextMenuDefaultOptions",e=>this.addToContextMenu(e)),this.addHook("afterRenderer",(e,i,n,r,o,s)=>ca(Xa,this,zke).call(this,e,s)),this.addHook("afterScroll",()=>ca(Xa,this,Xke).call(this)),this.addHook("afterBeginEditing",()=>this.hide()),this.addHook("afterDocumentKeyDown",e=>ca(Xa,this,Kke).call(this,e)),Jt(Qa,this).addLocalHook("hide",()=>this.hide()),Jt(Qa,this).addLocalHook("show",(e,i)=>this.showAtCell(e,i)),this.registerShortcuts(),this.registerListeners(),super.enablePlugin())}updatePlugin(){Jt(Qa,this).updateDelay(this.getDisplayDelaySetting()),super.updatePlugin()}disablePlugin(){this.unregisterShortcuts(),super.disablePlugin()}registerShortcuts(){let e=this.hot.getShortcutManager(),i=e.getContext("grid"),n=e.addContext(CV);i.addShortcut({keys:[["Control","Alt","M"]],callback:()=>{let r=this.hot.getSelectedRangeLast();id(BD,this,!0),this.hot.scrollToFocusedCell(()=>{this.setRange(r),this.show(),this.focusEditor(),e.setActiveContextName(CV),this.hot._registerTimeout(()=>{id(BD,this,!1)})})},stopPropagation:!0,runOnlyIf:()=>{var r;return((r=this.hot.getSelectedRangeLast())===null||r===void 0?void 0:r.highlight.isCell())&&!Jt(sn,this).isVisible()},group:VD}),n.addShortcut({keys:[["Escape"]],callback:()=>{Jt(sn,this).setValue(Jt(jD,this)),this.hide(),e.setActiveContextName("grid")},runOnlyIf:()=>Jt(sn,this).isVisible()&&Jt(sn,this).isFocused(),group:VD}),n.addShortcut({keys:[["Control/Meta","Enter"]],callback:()=>{this.hide(),e.setActiveContextName("grid")},runOnlyIf:()=>Jt(sn,this).isVisible()&&Jt(sn,this).isFocused(),group:VD})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(VD)}registerListeners(){let{rootDocument:e}=this.hot,i=this.getEditorInputElement();this.eventManager.addEventListener(e,"mouseover",n=>ca(Xa,this,jke).call(this,n)),this.eventManager.addEventListener(e,"mousedown",n=>ca(Xa,this,Wke).call(this,n)),this.eventManager.addEventListener(e,"mouseup",()=>ca(Xa,this,Uke).call(this)),this.eventManager.addEventListener(i,"focus",()=>ca(Xa,this,Gke).call(this)),this.eventManager.addEventListener(i,"blur",()=>ca(Xa,this,Yke).call(this)),this.eventManager.addEventListener(i,"mousedown",n=>ca(Xa,this,$ke).call(this,n)),this.eventManager.addEventListener(i,"mouseup",n=>ca(Xa,this,qke).call(this,n))}setRange(e){this.range=e}clearRange(){this.range={}}targetIsCellWithComment(e){let i=Fa(e.target,"TD","TBODY");return!!(i&&Fe(i,"htCommentCell")&&Fa(i,[this.hot.rootElement]))}targetIsCommentTextArea(e){return this.getEditorInputElement()===e.target}setComment(e){if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');let i=Jt(sn,this).getValue(),n="";e!=null?n=e:i!=null&&(n=i);let r=this.range.from.row,o=this.range.from.col;this.updateCommentMeta(r,o,{[c0]:n}),this.hot.render()}setCommentAtCell(e,i,n){this.setRange({from:this.hot._createCellCoords(e,i)}),this.setComment(n)}removeComment(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');this.hot.setCellMeta(this.range.from.row,this.range.from.col,td),e&&this.hot.render(),this.hide()}removeCommentAtCell(e,i){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;this.setRange({from:this.hot._createCellCoords(e,i)}),this.removeComment(n)}getComment(){let e=this.range.from.row,i=this.range.from.col;return this.getCommentMeta(e,i,c0)}getCommentAtCell(e,i){return this.getCommentMeta(e,i,c0)}show(){var e;if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');let{from:{row:i,col:n}}=this.range;if(i<0||i>this.hot.countSourceRows()-1||n<0||n>this.hot.countSourceCols()-1)return!1;let r=this.hot.getCellMeta(this.range.from.row,this.range.from.col);return Jt(Qa,this).cancelHiding(),Jt(sn,this).setValue((e=r[td]?r[td][c0]:null)!==null&&e!==void 0?e:""),Jt(sn,this).show(),this.refreshEditor(!0),!0}showAtCell(e,i){return this.setRange({from:this.hot._createCellCoords(e,i)}),this.show()}hide(){Jt(sn,this).hide()}refreshEditor(){var e,i;if(!(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&(!this.range.from||!Jt(sn,this).isVisible()))return;let{rowIndexMapper:r,columnIndexMapper:o}=this.hot,{row:s,col:a}=this.range.from,l=r.getRenderableFromVisualIndex(s),c=o.getRenderableFromVisualIndex(a),d=l===null;Jt(sn,this).setPosition(0,0),l===null&&(l=r.getRenderableFromVisualIndex(r.getNearestNotHiddenIndex(s,-1))),c===null&&(c=o.getRenderableFromVisualIndex(o.getNearestNotHiddenIndex(a,-1)));let u=l===null,f=c===null;l=(e=l)!==null&&e!==void 0?e:0,c=(i=c)!==null&&i!==void 0?i:0;let{rootWindow:m,view:{_wt:g}}=this.hot,{wtTable:_}=g,b=g.getCell({row:l,col:c},!0),y=this.getCommentMeta(s,a,VJ);y?Jt(sn,this).setSize(y.width,y.height):Jt(sn,this).resetSize();let x=f?0:_.getStretchedColumnWidth(c),T=d&&!u?si(b):0,{left:O,top:P,width:V,height:F}=b.getBoundingClientRect(),{width:k,height:Z}=Jt(sn,this).getSize(),{innerWidth:ae,innerHeight:re}=this.hot.rootWindow,ve=this.hot.rootDocument.documentElement,Pe=O+m.scrollX+x,Ne=P+m.scrollY+T;this.hot.isRtl()&&(Pe-=k+x),this.hot.isLtr()&&O+V+k>ae?Pe=O+m.scrollX-k-1:this.hot.isRtl()&&Pe<-(ve.scrollWidth-ve.clientWidth)&&(Pe=O+m.scrollX+x+1),P+Z>re&&(Ne-=Z-F+1),Jt(sn,this).setPosition(Pe,Ne),Jt(sn,this).setReadOnlyState(this.getCommentMeta(s,a,l0))}focusEditor(){Jt(sn,this).focus()}updateCommentMeta(e,i,n){let r=this.hot.getCellMeta(e,i)[td],o;r?(o=Fn(r),sf(o,n)):o=n,this.hot.setCellMeta(e,i,td,o)}getCommentMeta(e,i,n){let r=this.hot.getCellMeta(e,i);if(r[td])return r[td][n]}addToContextMenu(e){e.items.push({name:xt},_V(this),yV(this),wV(this))}getDisplayDelaySetting(){let e=this.hot.getSettings()[hb];if(it(e))return e.displayDelay}getEditorInputElement(){return Jt(sn,this).getInputElement()}destroy(){Jt(sn,this)&&Jt(sn,this).destroy(),Jt(Qa,this)&&Jt(Qa,this).destroy(),super.destroy()}};function Wke(t){if(!(!this.hot.view||!this.hot.view._wt)&&!Jt(UD,this)&&!this.targetIsCommentTextArea(t)){let e=Fa(t.target,"TD","TBODY"),i=null;e&&(i=this.hot.getCoords(e)),(!e||this.range.from&&i&&(this.range.from.row!==i.row||this.range.from.col!==i.col))&&this.hide()}}function jke(t){let{rootDocument:e}=this.hot;if(!(Jt(UD,this)||Jt(sn,this).isFocused()||Fe(t.target,"wtBorder")||Jt(SV,this)===t.target||!Jt(sn,this)))if(id(SV,this,e.elementFromPoint(t.clientX,t.clientY)),this.targetIsCellWithComment(t)){let i=this.hot._createCellRange(this.hot.getCoords(t.target));Jt(Qa,this).show(i)}else Ha(t.target,e)&&!this.targetIsCommentTextArea(t)&&Jt(Qa,this).hide()}function Uke(){id(UD,this,!1)}function zke(t,e){e[td]&&e[td][c0]&&ne(t,e.commentedCellClassName)}function Yke(){id(jD,this,""),this.hot.getShortcutManager().setActiveContextName("grid"),this.setComment()}function Gke(){id(jD,this,this.getComment()),this.hot.listen(),this.hot.getShortcutManager().setActiveContextName(CV)}function $ke(t){id(WD,this,{width:$t(t.target),height:si(t.target)})}function qke(t){let e=$t(t.target),i=si(t.target);(e!==Jt(WD,this).width+1||i!==Jt(WD,this).height+2)&&this.updateCommentMeta(this.range.from.row,this.range.from.col,{[VJ]:{width:e,height:i}})}function Kke(t){Jt(sn,this).isVisible()&&Hn(t)}function Xke(){Jt(BD,this)||this.hide()}var BEt=w(Q(),1);var Oxt=w(Q(),1),Pxt=w(be(),1),kxt=w(UJ(),1);function xV(t,e,i){return e=a1e(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function a1e(t){var e=l1e(t,"string");return typeof e=="symbol"?e:e+""}function l1e(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fb=class{constructor(e){xV(this,"hot",void 0),xV(this,"commands",{}),xV(this,"commonCallback",null),this.hot=e}registerCommand(e,i){this.commands[e]=i}setCommonCallback(e){this.commonCallback=e}execute(e){for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];let o=e.split(":"),s=o[0],a=o.length===2?o[1]:null,l=this.commands[s];if(!l)throw new Error(`Menu command '${s}' not exists.`);if(a&&l.submenu&&(l=c1e(a,l.submenu.items)),l.disabled===!0||typeof l.disabled=="function"&&l.disabled.call(this.hot)===!0||Ci(l,"submenu"))return;let c=[];typeof l.callback=="function"&&c.push(l.callback),typeof this.commonCallback=="function"&&c.push(this.commonCallback),n.unshift(o.join(":")),M(c,d=>d.apply(this.hot,n))}};function c1e(t,e){let i;return M(e,n=>{let r=n.key?n.key.split(":"):null;if(Array.isArray(r)&&r[1]===t)return i=n,!1}),i}var Hxt=w(Q(),1),Vxt=w(be(),1);function EV(t,e,i){return e=d1e(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function d1e(t){var e=u1e(t,"string");return typeof e=="symbol"?e:e+""}function u1e(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mb=class{constructor(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;EV(this,"hot",void 0),EV(this,"predefinedItems",HD()),EV(this,"defaultOrderPattern",void 0),this.hot=e,this.defaultOrderPattern=i}setPredefinedItems(e){let i={};this.defaultOrderPattern.length=0,nt(e,(n,r)=>{let o="";n.name===xt?(i[xt]=n,o=xt):isNaN(parseInt(r,10))?(n.key=n.key===void 0?r:n.key,i[r]=n,o=n.key):(i[n.key]=n,o=n.key),this.defaultOrderPattern.push(o)}),this.predefinedItems=i}getItems(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return h1e(e,this.defaultOrderPattern,this.predefinedItems)}};function h1e(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=[],r=t;return r&&r.items?r=r.items:Array.isArray(r)||(r=e),it(r)?nt(r,(o,s)=>{let a=i[typeof o=="string"?o:s];a||(a=o),it(o)?hi(a,o):typeof a=="string"&&(a={name:a}),a.key===void 0&&(a.key=s),n.push(a)}):M(r,(o,s)=>{let a=i[o];!a&&LJ.indexOf(o)>=0||(a||(a={name:o,key:`${s}`}),it(o)&&hi(a,o),a.key===void 0&&(a.key=s),n.push(a))}),n}var wEt=w(Q(),1),CEt=w(be(),1);var Gxt=w(Q(),1);var zxt=w(Q(),1);function Xu(t,e,i){return e=f1e(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function f1e(t){var e=m1e(t,"string");return typeof e=="symbol"?e:e+""}function m1e(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zD=class{constructor(e,i){Xu(this,"top",void 0),Xu(this,"topRelative",void 0),Xu(this,"left",void 0),Xu(this,"leftRelative",void 0),Xu(this,"scrollTop",void 0),Xu(this,"scrollLeft",void 0),Xu(this,"cellHeight",void 0),Xu(this,"cellWidth",void 0);let n=i.scrollY,r=i.scrollX,o,s,a,l,c,d;this.rootWindow=i,this.type=this.getSourceType(e),this.type==="literal"?(o=parseInt(e.top,10),a=parseInt(e.left,10),c=e.height||0,d=e.width||0,s=o,l=a,o+=n,a+=r):this.type==="event"&&(o=parseInt(e.pageY,10),a=parseInt(e.pageX,10),c=e.target.clientHeight,d=e.target.clientWidth,s=o-n,l=a-r),this.top=o,this.topRelative=s,this.left=a,this.leftRelative=l,this.scrollTop=n,this.scrollLeft=r,this.cellHeight=c,this.cellWidth=d}getSourceType(e){let i="literal";return e instanceof Event&&(i="event"),i}fitsAbove(e){return this.topRelative>=e.offsetHeight}fitsBelow(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.rootWindow.innerHeight;return this.topRelative+e.offsetHeight<=i}fitsOnRight(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.rootWindow.innerWidth;return this.leftRelative+this.cellWidth+e.offsetWidth<=i}fitsOnLeft(e){return this.leftRelative>=e.offsetWidth}};function u0(t,e,i){p1e(t,e),e.set(t,i)}function p1e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ni(t,e){return t.get(zJ(t,e))}function YD(t,e,i){return t.set(zJ(t,e),i),i}function zJ(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var xo=new WeakMap,Qu=new WeakMap,Gr=new WeakMap,RV=new WeakMap,pb=new WeakMap,GD=class{constructor(e){u0(this,xo,void 0),u0(this,Qu,void 0),u0(this,Gr,void 0),u0(this,RV,!1),u0(this,pb,{above:0,below:0,left:0,right:0}),YD(RV,this,e)}setOffset(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ni(pb,this)[e]=i,this}setElement(e){return YD(xo,this,e),this}setParentElement(e){return YD(Qu,this,e),this}updatePosition(e){YD(Gr,this,new zD(e,ni(xo,this).ownerDocument.defaultView)),ni(RV,this)?(ni(Gr,this).fitsBelow(ni(xo,this))?this.setPositionBelowCursor():ni(Gr,this).fitsAbove(ni(xo,this))?this.setPositionAboveCursor():this.setPositionBelowCursor(),this.updateHorizontalPosition()):(this.setPositionBelowCursor(),this.setPositionOnRightOfCursor())}updateHorizontalPosition(){ni(xo,this).dir==="rtl"?ni(Gr,this).fitsOnLeft(ni(xo,this))?this.setPositionOnLeftOfCursor():this.setPositionOnRightOfCursor():ni(Gr,this).fitsOnRight(ni(xo,this))?this.setPositionOnRightOfCursor():this.setPositionOnLeftOfCursor()}setPositionAboveCursor(){let e=ni(pb,this).above+ni(Gr,this).top-ni(xo,this).offsetHeight;ni(Qu,this)&&(e=ni(Gr,this).top+ni(Gr,this).cellHeight-ni(xo,this).offsetHeight+3),ni(xo,this).style.top=`${e}px`}setPositionBelowCursor(){let e=ni(pb,this).below+ni(Gr,this).top+1;ni(Qu,this)&&(e=ni(Gr,this).top-1),ni(xo,this).style.top=`${e}px`}setPositionOnRightOfCursor(){let e=ni(Gr,this).left;if(ni(Qu,this)){let{right:i}=ni(Qu,this).getBoundingClientRect();e+=ni(Gr,this).cellWidth+i-(ni(Gr,this).left+ni(Gr,this).cellWidth)}else e+=ni(pb,this).right;ni(xo,this).style.left=`${e}px`}setPositionOnLeftOfCursor(){let e=ni(pb,this).left+ni(Gr,this).left-ni(xo,this).offsetWidth;if(ni(Qu,this)){let{left:i}=ni(Qu,this).getBoundingClientRect();e-=ni(Gr,this).left-i}ni(xo,this).style.left=`${e}px`}};var Kxt=w(Fi(),1),Xxt=w(Hi(),1),Qxt=w(Vi(),1),Zxt=w(Bi(),1),Jxt=w(Wi(),1),eEt=w(ji(),1),tEt=w(Ui(),1);function $D(t){let{initialPage:e=-1,size:i=()=>0,onItemSelect:n=()=>{},onClear:r=()=>{}}=t,o=new Set,s=mi(e,-1,g()-1);function a(b,y){let x=g()-1;return b<0&&(b=x),b>x&&(b=0),o.has(b)?-1:(o.add(b),n(b,!1)===!1&&(b=a(y===1?++b:--b,y)),b)}function l(b){b>-1&&b<g()&&n(b,!0)!==!1&&(s=b)}function c(){return s}function d(){g()>0&&(o.clear(),s=a(0,1))}function u(){g()>0&&(o.clear(),s=a(g()-1,-1))}function f(){g()>0&&(o.clear(),s=a(++s,1))}function m(){g()>0&&(o.clear(),s=a(--s,-1))}function g(){return Math.max(i(),0)}function _(){o.clear(),s=e,r()}return{setCurrentPage:l,getCurrentPage:c,toFirstItem:d,toLastItem:u,toNextItem:f,toPreviousItem:m,getSize:g,clear:_}}var rEt=w(be(),1);function YJ(t){return ct(t,e=>({start:e.getTopStartCorner(),end:e.getBottomEndCorner()}))}function h0(t){return Ci(t,"submenu")}function f0(t){return new RegExp(xt,"i").test(t.name)}function gb(t,e){return t.disabled===!0||typeof t.disabled=="function"&&t.disabled.call(e)===!0}function TV(t){return Ci(t,"disableSelection")}function GJ(t){return Fe(t,"htSeparator")}function $J(t){return Fe(t,"htSubmenu")}function qJ(t){return Fe(t,"htDisabled")}function KJ(t){return Fe(t,"htSelectionDisabled")}function XJ(t,e){return!t.hidden||!(typeof t.hidden=="function"&&t.hidden.call(e))}function QJ(t,e){let i=t.slice(0);for(let n=0;n<i.length&&i[n].name===e;)i.shift();return i}function g1e(t,e){let i=t.slice(0);return i.reverse(),i=QJ(i,e),i.reverse(),i}function b1e(t){let e=[];return M(t,(i,n)=>{n>0?e[e.length-1].name!==i.name&&e.push(i):e.push(i)}),e}function ZJ(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xt,i=t.slice(0);return i=QJ(i,e),i=g1e(i,e),i=b1e(i),i}function JJ(t){return $D({size:()=>t.countRows(),onItemSelect(e,i){let n=t.getCell(e,0);if(!n||GJ(n)||qJ(n)||KJ(n))return!1;t.selectCell(e,0,...i?[e,0,!1,!1]:[])},onClear(){t.deselectCell()}})}var mEt=w(be(),1);function eee(t){let{hot:e,hotMenu:i}=t;return[{keys:[["Control/Meta","A"]],forwardToContext:e.getShortcutManager().getContext("grid"),callback:()=>t.close(!0)},{keys:[["Tab"],["Shift","Tab"]],callback:(n,r)=>{let o=e.getSettings(),s=typeof o.tabMoves=="function"?o.tabMoves(n):o.tabMoves;r.includes("shift")?e.selection.transformStart(-s.row,-s.col):e.selection.transformStart(s.row,s.col),t.close(!0)}},{keys:[["Escape"]],callback:()=>t.close()},{keys:[["ArrowDown"]],callback:()=>t.getNavigator().toNextItem()},{keys:[["ArrowUp"]],callback:()=>t.getNavigator().toPreviousItem()},{keys:[["ArrowRight"]],callback:()=>{let n=i.getSelectedLast();if(n){let r=t.openSubMenu(n[0]);r&&r.getNavigator().toFirstItem()}}},{keys:[["ArrowLeft"]],callback:()=>{i.getSelectedLast()&&t.isSubMenu()&&(t.close(),t.isSubMenu()&&t.parentMenu.hotMenu.listen())}},{keys:[["Control/Meta","ArrowUp"],["Home"]],callback:()=>t.getNavigator().toFirstItem()},{keys:[["Control/Meta","ArrowDown"],["End"]],callback:()=>t.getNavigator().toLastItem()},{keys:[["Enter"],["Space"]],callback:n=>{let r=i.getSelectedLast();r&&(i.getSourceDataAtRow(r[0]).submenu?t.openSubMenu(r[0]).getNavigator().toFirstItem():(t.executeCommand(n),t.close(!0)))}},{keys:[["PageUp"]],callback:()=>{i.getSelectedLast()?i.selection.transformStart(-i.countVisibleRows(),0):t.getNavigator().toFirstItem()}},{keys:[["PageDown"]],callback:()=>{i.getSelectedLast()?i.selection.transformStart(i.countVisibleRows(),0):t.getNavigator().toLastItem()}}]}var iee="menu",tee=iee;function nee(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=[];n(eee(t)),e.forEach(c=>{let{shortcuts:d,contextName:u}=c;r(d,u)});function n(c,d){a(d).addShortcuts(c,{group:iee})}function r(c,d){let u=a(d);c.forEach(f=>{let{keys:m}=f;m.forEach(g=>u.removeShortcutsByKeys(g))}),i.push({shortcuts:c,contextName:d}),n(c,d)}function o(){return[...i]}function s(c){return c?`${tee}:${c}`:tee}function a(c){var d;let u=t.hotMenu.getShortcutManager(),f=s(c);return(d=u.getContext(f))!==null&&d!==void 0?d:u.addContext(f)}function l(c){t.hotMenu.getShortcutManager().setActiveContextName(s(c))}return{addCustomShortcuts:r,getCustomShortcuts:o,getContext:a,listen:l}}function ree(t){return(e,i,n,r,o,s)=>{if(i.hasAttribute("ghost-table"))return;let a=e.getSourceDataAtRow(n),l=t.rootDocument.createElement("div"),c=typeof s=="function"?s.call(t):s;if(xr(i),ne(l,"htItemWrapper"),t.getSettings().ariaTags){let d=!gb(a,t)&&!TV(a)&&!f0(a);Le(i,[_X(),Xp(c),...d?[Ys(-1)]:[],...gb(a,t)?[RX()]:[],...h0(a)?[zr(!1)]:[]])}i.className="",i.appendChild(l),f0(a)?ne(i,"htSeparator"):typeof a.renderer=="function"?(ne(i,"htCustomMenuRenderer"),i.appendChild(a.renderer(e,l,n,r,o,c))):qs(l,c),gb(a,t)?ne(i,"htDisabled"):TV(a)?ne(i,"htSelectionDisabled"):h0(a)&&ne(i,"htSubmenu")}}function oee(t,e,i){v1e(t,e),e.set(t,i)}function v1e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ul(t,e,i){return e=_1e(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function _1e(t){var e=y1e(t,"string");return typeof e=="symbol"?e:e+""}function y1e(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function see(t,e,i){return t.set(lee(t,e),i),i}function m0(t,e){return t.get(lee(t,e))}function lee(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var aee=215,p0=new WeakMap,qD=new WeakMap,nd=class t{constructor(e,i){var n=this;Ul(this,"hot",void 0),Ul(this,"options",void 0),Ul(this,"eventManager",new Xn(this)),Ul(this,"container",void 0),Ul(this,"positioner",void 0),Ul(this,"hotMenu",null),Ul(this,"hotSubMenus",{}),Ul(this,"parentMenu",void 0),Ul(this,"menuItems",null),Ul(this,"origOutsideClickDeselects",null),oee(this,p0,void 0),oee(this,qD,void 0),this.hot=e,this.options=i||{parent:null,name:null,className:"",keepInViewport:!0,standalone:!1,minWidth:aee,container:this.hot.rootDocument.documentElement},this.container=this.createContainer(this.options.name),this.positioner=new GD(this.options.keepInViewport),this.parentMenu=this.options.parent||null,this.registerEvents(),this.isSubMenu()&&this.addLocalHook("afterSelectionChange",function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return n.parentMenu.runLocalHooks("afterSelectionChange",...o)})}registerEvents(){let e=this.hot.rootWindow;for(;e;)this.eventManager.addEventListener(e.document,"mousedown",i=>this.onDocumentMouseDown(i)),this.eventManager.addEventListener(e.document,"contextmenu",i=>this.onDocumentContextMenu(i)),e=El(e)}setMenuItems(e){this.menuItems=e}getNavigator(){return m0(p0,this)}getKeyboardShortcutsCtrl(){return m0(qD,this)}getSelectedItem(){return this.hasSelectedItem()?this.hotMenu.getSourceDataAtRow(this.hotMenu.getSelectedLast()[0]):null}hasSelectedItem(){return Array.isArray(this.hotMenu.getSelectedLast())}isSubMenu(){return this.parentMenu!==null}open(){this.runLocalHooks("beforeOpen"),this.container.removeAttribute("style"),this.container.style.display="block";let e=ng(a=>this.openSubMenu(a),300),i=this.options.minWidth||aee,n=!1,r=or(this.menuItems,a=>(a.key===Ku&&(n=!0),XJ(a,this.hot)));if(r.length<1&&!n)r.push(HD()[Ku]);else if(r.length===0)return;r=ZJ(r,xt);let o=!1,s={data:r,colHeaders:!1,autoColumnSize:!0,autoWrapRow:!1,modifyColWidth(a){return xe(a)&&a<i?i:a},autoRowSize:!1,readOnly:!0,editor:!1,copyPaste:!1,hiddenRows:!0,maxCols:1,columns:[{data:"name",renderer:ree(this.hot)}],renderAllRows:!0,fragmentSelection:!1,outsideClickDeselects:!1,disableVisualSelection:"area",layoutDirection:this.hot.isRtl()?"rtl":"ltr",ariaTags:!1,beforeOnCellMouseOver:(a,l)=>{m0(p0,this).setCurrentPage(l.row)},afterOnCellMouseOver:(a,l)=>{this.isAllSubMenusClosed()?e(l.row):this.openSubMenu(l.row)},rowHeights:a=>r[a].name===xt?1:23,afterOnCellContextMenu:a=>{a.preventDefault(),ZN()&&o&&this.hasSelectedItem()&&this.close(!0)},afterSelection:(a,l,c,d,u)=>{this.hotMenu.view.isMouseDown()&&(u.value=!0),this.runLocalHooks("afterSelectionChange",this.getSelectedItem())},beforeOnCellMouseUp:a=>{this.hasSelectedItem()&&(o=!this.isCommandPassive(this.getSelectedItem()),this.executeCommand(a))},afterOnCellMouseUp:a=>{(!ZN()||!ms(a))&&o&&this.hasSelectedItem()&&(fs()||LT()?this.hot._registerTimeout(()=>this.close(!0),325):this.close(!0))},afterUnlisten:()=>{!this.hasSelectedItem()&&this.isOpened()&&this.hotMenu.listen()}};this.origOutsideClickDeselects=this.hot.getSettings().outsideClickDeselects,this.hot.getSettings().outsideClickDeselects=!1,this.hotMenu=new this.hot.constructor(this.container,s),this.hotMenu.addHook("afterInit",()=>this.onAfterInit()),this.hotMenu.init(),see(p0,this,JJ(this.hotMenu)),see(qD,this,nee(this)),m0(qD,this).listen(),this.focus(),this.isSubMenu()&&this.addLocalHook("afterOpen",()=>this.parentMenu.runLocalHooks("afterSubmenuOpen",this)),this.runLocalHooks("afterOpen",this)}close(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.isOpened()){if(e&&this.isSubMenu())this.parentMenu.close();else if(m0(p0,this).clear(),this.closeAllSubMenus(),this.container.style.display="none",this.hotMenu.destroy(),this.hotMenu=null,this.hot.getSettings().outsideClickDeselects=this.origOutsideClickDeselects,this.runLocalHooks("afterClose"),this.isSubMenu()){if(this.hot.getSettings().ariaTags){let i=this.parentMenu.hotMenu.getSelectedLast();if(i){let n=this.parentMenu.hotMenu.getCell(i[0],0);Le(n,[zr(!1)])}}this.parentMenu.hotMenu.listen()}}}openSubMenu(e){if(!this.hotMenu)return!1;let i=this.hotMenu.getCell(e,0);if(this.closeAllSubMenus(),!i||!$J(i))return!1;let n=this.hotMenu.getSourceDataAtRow(e),r=new t(this.hot,{parent:this,name:n.name,className:this.options.className,keepInViewport:!0,container:this.options.container});return r.setMenuItems(n.submenu.items),r.open(),r.setPosition(i.getBoundingClientRect()),this.hotSubMenus[n.key]=r,this.hot.getSettings().ariaTags&&Le(i,[zr(!0)]),r}closeSubMenu(e){let i=this.hotMenu.getSourceDataAtRow(e),n=this.hotSubMenus[i.key];if(n){n.destroy(),delete this.hotSubMenus[i.key];let r=this.hotMenu.getCell(e,0);this.hot.getSettings().ariaTags&&Le(r,[zr(!1)])}}closeAllSubMenus(){M(this.hotMenu.getData(),(e,i)=>this.closeSubMenu(i))}isAllSubMenusClosed(){return Object.keys(this.hotSubMenus).length===0}focus(){this.isOpened()&&(this.hotMenu.rootElement.focus({preventScroll:!0}),this.getKeyboardShortcutsCtrl().listen(),this.hotMenu.listen())}destroy(){let e=this.container.parentNode;this.clearLocalHooks(),this.close(),this.parentMenu=null,this.eventManager.destroy(),e&&e.removeChild(this.container)}isOpened(){return this.hotMenu!==null}executeCommand(e){if(!this.isOpened()||!this.hasSelectedItem())return;let i=this.getSelectedItem();if(this.runLocalHooks("select",i,e),this.isCommandPassive(i))return;let n=this.hot.getSelectedRange(),r=n?YJ(n):[];this.runLocalHooks("executeCommand",i.key,r,e),this.isSubMenu()&&this.parentMenu.runLocalHooks("executeCommand",i.key,r,e)}isCommandPassive(e){return e.isCommand===!1||f0(e)||gb(e,this.hot)||h0(e)}setOffset(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.positioner.setOffset(e,i)}setPosition(e){this.isSubMenu()&&this.positioner.setParentElement(this.parentMenu.container),this.positioner.setElement(this.container).updatePosition(e)}createContainer(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,i=this.options.container.ownerDocument,n=e,r;return n&&(ti(n)&&(n=n.call(this.hot),n===null||Gt(n)?n="":n=n.toString()),n=n.replace(/[^A-z0-9]/g,"_"),n=`${this.options.className}Sub_${n}`,r=i.querySelector(`.${this.options.className}.${n}`)),r||(r=i.createElement("div"),ne(r,`htMenu ${this.options.className}`),n&&ne(r,n),this.options.container.appendChild(r)),r}onAfterInit(){let{wtTable:e}=this.hotMenu.view._wt,i=this.hotMenu.getSettings().data,n=e.hider.style,r=e.holder.style,o=parseInt(n.width,10),s=Mi(i,(a,l)=>a+(l.name===xt?1:26),0);r.width=`${o+3}px`,r.height=`${s+3}px`,n.height=r.height,this.hot.getSettings().ariaTags&&Le(this.hotMenu.rootElement,[vX(),Ys(-1)])}onDocumentMouseDown(e){this.isOpened()&&(this.options.standalone&&this.hotMenu&&!Ha(e.target,this.hotMenu.rootElement)?this.close(!0):(this.isAllSubMenusClosed()||this.isSubMenu())&&!Ha(e.target,".htMenu")&&this.close(!0))}onDocumentContextMenu(e){this.isOpened()&&Fe(e.target,"htCore")&&Ha(e.target,this.hotMenu.rootElement)&&e.preventDefault()}};Ot(nd,Xi);function w1e(t,e){C1e(t,e),e.add(t)}function C1e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function IV(t,e,i){return e=S1e(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function S1e(t){var e=x1e(t,"string");return typeof e=="symbol"?e:e+""}function x1e(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KD(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var bb="contextMenu",dee=70,cee=bb;Ee.getSingleton().register("afterContextMenuDefaultOptions");Ee.getSingleton().register("beforeContextMenuShow");Ee.getSingleton().register("afterContextMenuShow");Ee.getSingleton().register("afterContextMenuHide");Ee.getSingleton().register("afterContextMenuExecute");var g0=new WeakSet,vb=class t extends rt{constructor(){super(...arguments),w1e(this,g0),IV(this,"commandExecutor",new fb(this.hot)),IV(this,"itemsFactory",null),IV(this,"menu",null)}static get PLUGIN_KEY(){return bb}static get PLUGIN_PRIORITY(){return dee}static get PLUGIN_DEPS(){return["plugin:AutoColumnSize"]}static get DEFAULT_ITEMS(){return[Bf,Wf,xt,Qc,Zc,xt,Vf,ed,xt,jf,Hf,xt,Jc,xt,lo]}isEnabled(){return!!this.hot.getSettings()[bb]}enablePlugin(){var e=this;if(this.enabled)return;let i=this.hot.getSettings()[bb];typeof i.callback=="function"&&this.commandExecutor.setCommonCallback(i.callback),this.menu=new nd(this.hot,{className:"htContextMenu",keepInViewport:!0,container:i.uiContainer||this.hot.rootDocument.body}),this.menu.addLocalHook("beforeOpen",()=>KD(g0,this,R1e).call(this)),this.menu.addLocalHook("afterOpen",()=>KD(g0,this,T1e).call(this)),this.menu.addLocalHook("afterClose",()=>KD(g0,this,I1e).call(this)),this.menu.addLocalHook("executeCommand",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e.executeCommand.call(e,...r)}),this.addHook("afterOnCellContextMenu",n=>KD(g0,this,E1e).call(this,n)),this.registerShortcuts(),super.enablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.close(),this.menu&&(this.menu.destroy(),this.menu=null),this.unregisterShortcuts(),super.disablePlugin()}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Control/Meta","Shift","Backslash"],["Shift","F10"]],callback:()=>{let{highlight:e}=this.hot.getSelectedRangeLast();this.hot.scrollToFocusedCell();let i=this.hot.getCell(e.row,e.col,!0).getBoundingClientRect(),n=ub(this.menu.container,this.hot.rootDocument);this.open({left:i.left+n.left,top:i.top+n.top-1+i.height},{left:i.width,above:-i.height}),this.menu.getNavigator().toFirstItem()},runOnlyIf:()=>{var e;let i=(e=this.hot.getSelectedRangeLast())===null||e===void 0?void 0:e.highlight;return i&&this.hot.selection.isCellVisible(i)&&!this.menu.isOpened()},group:cee})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(cee)}open(e){var i;let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{above:0,below:0,left:0,right:0};(i=this.menu)!==null&&i!==void 0&&i.isOpened()||(this.prepareMenuItems(),this.menu.open(),nt(n,(r,o)=>{this.menu.setOffset(o,r)}),this.menu.setPosition(e))}close(){var e;(e=this.menu)===null||e===void 0||e.close(),this.itemsFactory=null}executeCommand(e){this.itemsFactory===null&&this.prepareMenuItems();for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];this.commandExecutor.execute(e,...n)}prepareMenuItems(){this.itemsFactory=new mb(this.hot,t.DEFAULT_ITEMS);let e=this.hot.getSettings()[bb],i={items:this.itemsFactory.getItems(e)};this.hot.runHooks("afterContextMenuDefaultOptions",i),this.itemsFactory.setPredefinedItems(i.items);let n=this.itemsFactory.getItems(e);this.hot.runHooks("beforeContextMenuSetItems",n),this.menu.setMenuItems(n),M(n,r=>this.commandExecutor.registerCommand(r.key,r))}destroy(){this.close(),this.menu&&this.menu.destroy(),super.destroy()}};function E1e(t){let e=this.hot.getSettings(),i=e.rowHeaders,n=e.colHeaders;function r(a){return a.nodeName==="TD"||a.parentNode.nodeName==="TD"}let o=t.target;if(this.close(),Fe(o,"handsontableInput")||(t.preventDefault(),t.stopPropagation(),!(i||n)&&!r(o)&&!(Fe(o,"current")&&Fe(o,"wtBorder"))))return;let s=ub(this.menu.container,this.hot.rootDocument);this.open({top:t.clientY+s.top,left:t.clientX+s.left})}function R1e(){this.hot.runHooks("beforeContextMenuShow",this)}function T1e(){this.hot.runHooks("afterContextMenuShow",this)}function I1e(){this.hot.listen(),this.hot.runHooks("afterContextMenuHide",this)}vb.SEPARATOR={name:xt};var yRt=w(Q(),1),wRt=w(be(),1);function DV(t){return{key:"copy",name(){return this.getTranslatedPhrase(vw)},callback(){t.copyCellsOnly()},disabled(){if(this.countRows()===0||this.countCols()===0)return!0;let e=this.getSelectedRangeLast();if(!e||e.isSingleHeader())return!0;let i=this.getSelected();return!i||i.length>1},hidden:!1}}function MV(t){return{key:"copy_column_headers_only",name(){let e=this.getSelectedRangeLast(),i=e?mi(e.getWidth()-1,0,1):0;return this.getTranslatedPhrase(ww,i)},callback(){t.copyColumnHeadersOnly()},disabled(){if(!this.hasColHeaders())return!0;let e=this.getSelectedRangeLast();if(!e||e.isSingleHeader())return!0;let i=this.getSelected();return!i||i.length>1},hidden:!1}}function AV(t){return{key:"copy_with_column_group_headers",name(){let e=this.getSelectedRangeLast(),i=e?mi(e.getWidth()-1,0,1):0;return this.getTranslatedPhrase(yw,i)},callback(){t.copyWithAllColumnHeaders()},disabled(){if(!this.hasColHeaders()||!this.getSettings().nestedHeaders)return!0;let e=this.getSelectedRangeLast();if(!e||e.isSingleHeader())return!0;let i=this.getSelected();return!i||i.length>1},hidden:!1}}function OV(t){return{key:"copy_with_column_headers",name(){let e=this.getSelectedRangeLast(),i=e?mi(e.getWidth()-1,0,1):0;return this.getTranslatedPhrase(_w,i)},callback(){t.copyWithColumnHeaders()},disabled(){if(!this.hasColHeaders())return!0;let e=this.getSelectedRangeLast();if(!e||e.isSingleHeader())return!0;let i=this.getSelected();return!i||i.length>1},hidden:!1}}function PV(t){return{key:"cut",name(){return this.getTranslatedPhrase(Cw)},callback(){t.cut()},disabled(){if(this.countRows()===0||this.countCols()===0)return!0;let e=this.getSelectedRangeLast();if(!e||e.isSingleHeader())return!0;let i=this.getSelected();return!i||i.length>1},hidden:!1}}var XD=class{constructor(){this.data={}}setData(e,i){this.data[e]=i}getData(e){return this.data[e]||void 0}};var QD=class{constructor(){this.clipboardData=new XD}preventDefault(){}};var pRt=w(Q(),1),gRt=w(be(),1);function D1e(t,e){uee(t,e),e.add(t)}function _b(t,e,i){uee(t,e),e.set(t,i)}function uee(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Eo(t,e){return t.get(wb(t,e))}function yb(t,e,i){return t.set(wb(t,e),i),i}function wb(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var Zu=new WeakMap,kV=new WeakMap,b0=new WeakMap,LV=new WeakMap,FV=new WeakMap,v0=new WeakMap,_0=new WeakSet,ZD=class{constructor(e){let{countRows:i,countColumns:n,rowsLimit:r,columnsLimit:o,countColumnHeaders:s}=e;D1e(this,_0),_b(this,Zu,void 0),_b(this,kV,void 0),_b(this,b0,void 0),_b(this,LV,void 0),_b(this,FV,void 0),_b(this,v0,void 0),yb(kV,this,i),yb(b0,this,n),yb(LV,this,r),yb(FV,this,o),yb(v0,this,s)}setSelectedRange(e){yb(Zu,this,e)}getCellsRange(){if(Eo(kV,this).call(this)===0||Eo(b0,this).call(this)===0)return null;let{row:e,col:i}=Eo(Zu,this).getTopStartCorner(),{row:n,col:r}=Eo(Zu,this).getBottomEndCorner(),o=wb(_0,this,M1e).call(this,e,n),s=wb(_0,this,NV).call(this,i,r);return{isRangeTrimmed:n!==o||r!==s,startRow:e,startCol:i,endRow:o,endCol:s}}getMostBottomColumnHeadersRange(){if(Eo(b0,this).call(this)===0||Eo(v0,this).call(this)===0)return null;let{col:e}=Eo(Zu,this).getTopStartCorner(),{col:i}=Eo(Zu,this).getBottomEndCorner(),n=wb(_0,this,NV).call(this,e,i);return{isRangeTrimmed:i!==n,startRow:-1,startCol:e,endRow:-1,endCol:n}}getAllColumnHeadersRange(){if(Eo(b0,this).call(this)===0||Eo(v0,this).call(this)===0)return null;let{col:e}=Eo(Zu,this).getTopStartCorner(),{col:i}=Eo(Zu,this).getBottomEndCorner(),n=wb(_0,this,NV).call(this,e,i);return{isRangeTrimmed:i!==n,startRow:-Eo(v0,this).call(this),startCol:e,endRow:-1,endCol:n}}};function NV(t,e){return Math.min(e,Math.max(t+Eo(FV,this).call(this)-1,t))}function M1e(t,e){return Math.min(e,Math.max(t+Eo(LV,this).call(this)-1,t))}function HV(t){let e=[],i=[];return M(t,n=>{let r=Math.min(n.startRow,n.endRow),o=Math.max(n.startRow,n.endRow);Se(r,o,l=>{e.indexOf(l)===-1&&e.push(l)});let s=Math.min(n.startCol,n.endCol),a=Math.max(n.startCol,n.endCol);Se(s,a,l=>{i.indexOf(l)===-1&&i.push(l)})}),{rows:e,columns:i}}function A1e(t,e){mee(t,e),e.add(t)}function Ju(t,e,i){mee(t,e),e.set(t,i)}function mee(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function y0(t,e,i){return e=O1e(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function O1e(t){var e=P1e(t,"string");return typeof e=="symbol"?e:e+""}function P1e(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xo(t,e){return t.get(Qo(t,e))}function Za(t,e,i){return t.set(Qo(t,e),i),i}function Qo(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}Ee.getSingleton().register("afterCopyLimit");Ee.getSingleton().register("modifyCopyableRange");Ee.getSingleton().register("beforeCut");Ee.getSingleton().register("afterCut");Ee.getSingleton().register("beforePaste");Ee.getSingleton().register("afterPaste");Ee.getSingleton().register("beforeCopy");Ee.getSingleton().register("afterCopy");var w0="copyPaste",pee=80,k1e=["fragmentSelection"],hee=['<meta name="generator" content="Handsontable"/>','<style type="text/css">td{white-space:normal}br{mso-data-placement:same-cell}</style>'].join(""),VV=new WeakMap,BV=new WeakMap,WV=new WeakMap,Cb=new WeakMap,JD=new WeakMap,eM=new WeakMap,Sb=new WeakMap,tM=new WeakMap,ys=new WeakSet,C0=class extends rt{constructor(){super(...arguments),A1e(this,ys),y0(this,"columnsLimit",1/0),y0(this,"rowsLimit",1/0),y0(this,"pasteMode","overwrite"),y0(this,"uiContainer",this.hot.rootDocument.body),Ju(this,VV,!1),Ju(this,BV,!1),Ju(this,WV,!1),Ju(this,Cb,"cells-only"),Ju(this,JD,!1),Ju(this,eM,!1),Ju(this,Sb,new ZD({countRows:()=>this.hot.countRows(),countColumns:()=>this.hot.countCols(),rowsLimit:()=>this.rowsLimit,columnsLimit:()=>this.columnsLimit,countColumnHeaders:()=>this.hot.view.getColumnHeadersCount()})),Ju(this,tM,!1),y0(this,"copyableRanges",[])}static get PLUGIN_KEY(){return w0}static get SETTING_KEYS(){return[w0,...k1e]}static get PLUGIN_PRIORITY(){return pee}isEnabled(){return!!this.hot.getSettings()[w0]}enablePlugin(){var e=this;if(this.enabled)return;let{[w0]:i}=this.hot.getSettings();if(typeof i=="object"){var n,r;this.pasteMode=(n=i.pasteMode)!==null&&n!==void 0?n:this.pasteMode,this.rowsLimit=isNaN(i.rowsLimit)?this.rowsLimit:i.rowsLimit,this.columnsLimit=isNaN(i.columnsLimit)?this.columnsLimit:i.columnsLimit,Za(VV,this,!!i.copyColumnHeaders),Za(BV,this,!!i.copyColumnGroupHeaders),Za(WV,this,!!i.copyColumnHeadersOnly),this.uiContainer=(r=i.uiContainer)!==null&&r!==void 0?r:this.uiContainer}this.addHook("afterContextMenuDefaultOptions",o=>Qo(ys,this,F1e).call(this,o)),this.addHook("afterSelection",function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return Qo(ys,e,H1e).call(e,...s)}),this.addHook("afterSelectionEnd",()=>Qo(ys,this,V1e).call(this)),this.eventManager.addEventListener(this.hot.rootDocument,"copy",function(){return e.onCopy(...arguments)}),this.eventManager.addEventListener(this.hot.rootDocument,"cut",function(){return e.onCut(...arguments)}),this.eventManager.addEventListener(this.hot.rootDocument,"paste",function(){return e.onPaste(...arguments)}),QN()&&(this.eventManager.addEventListener(this.hot.rootDocument.body,"mouseenter",function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return Qo(ys,e,B1e).call(e,...s)}),this.eventManager.addEventListener(this.hot.rootDocument.body,"mouseleave",function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return Qo(ys,e,W1e).call(e,...s)}),this.addHook("afterSelection",()=>Qo(ys,this,j1e).call(this))),super.enablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){super.disablePlugin()}copy(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"cells-only";Za(Cb,this,e),Za(JD,this,!0),Qo(ys,this,fee).call(this,"copy")}copyCellsOnly(){this.copy("cells-only")}copyColumnHeadersOnly(){this.copy("column-headers-only")}copyWithAllColumnHeaders(){this.copy("with-column-group-headers")}copyWithColumnHeaders(){this.copy("with-column-headers")}cut(){Za(eM,this,!0),Qo(ys,this,fee).call(this,"cut")}getRangedCopyableData(e){return Hu(this.getRangedData(e))}getRangedData(e){let i=[],{rows:n,columns:r}=HV(e);return M(n,o=>{let s=[];M(r,a=>{o<0?s.push(this.hot.getColHeader(a,o)):s.push(this.hot.getCopyableData(o,a))}),i.push(s)}),i}paste(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e;if(!e&&!i)return;let n=new QD;e&&n.clipboardData.setData("text/plain",e),i&&n.clipboardData.setData("text/html",i),this.onPaste(n)}setCopyableText(){let e=this.hot.getSelectedRangeLast();if(!e)return;if(e.isSingleHeader()){this.copyableRanges=[];return}Xo(Sb,this).setSelectedRange(e);let i=new Map([["headers",null],["cells",null]]);Xo(Cb,this)==="column-headers-only"?i.set("headers",Xo(Sb,this).getMostBottomColumnHeadersRange()):(Xo(Cb,this)==="with-column-headers"?i.set("headers",Xo(Sb,this).getMostBottomColumnHeadersRange()):Xo(Cb,this)==="with-column-group-headers"&&i.set("headers",Xo(Sb,this).getAllColumnHeadersRange()),i.set("cells",Xo(Sb,this).getCellsRange())),this.copyableRanges=Array.from(i.values()).filter(r=>r!==null).map(r=>{let{startRow:o,startCol:s,endRow:a,endCol:l}=r;return{startRow:o,startCol:s,endRow:a,endCol:l}}),this.copyableRanges=this.hot.runHooks("modifyCopyableRange",this.copyableRanges);let n=i.get("cells");if(n!==null&&n.isRangeTrimmed){let{startRow:r,startCol:o,endRow:s,endCol:a}=n;this.hot.runHooks("afterCopyLimit",s-r+1,a-o+1,this.rowsLimit,this.columnsLimit)}}isEditorOpened(){var e;return(e=this.hot.getActiveEditor())===null||e===void 0?void 0:e.isOpened()}populateValues(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.hot.getSelectedRangeLast();if(!e.length)return;let n=e.length,r=e[0].length,o=[],{row:s,col:a}=i.getTopStartCorner(),{row:l,col:c}=i.getBottomEndCorner(),d=s,u=a,f=s,m=a;for(;o.length<n||d<=l;){let{skipRowOnPaste:g,visualRow:_}=this.hot.getCellMeta(d,a);if(d=_+1,g===!0)continue;f=_,u=a;let b=[],y=o.length%n;for(;b.length<r||u<=c;){let{skipColumnOnPaste:x,visualCol:T}=this.hot.getCellMeta(s,u);if(u=T+1,x===!0)continue;m=T;let O=b.length%r;b.push(e[y][O])}o.push(b)}return Za(tM,this,!0),this.hot.populateFromArray(s,a,o,void 0,void 0,"CopyPaste.paste",this.pasteMode),[s,a,f,m]}onCopy(e){if(!this.hot.isListening()&&!Xo(JD,this)||this.isEditorOpened()||!this.hot.getSettings().outsideClickDeselects&&e.target!==this.hot.rootDocument.body)return;this.setCopyableText(),Za(JD,this,!1);let i=this.getRangedData(this.copyableRanges),n=Qo(ys,this,N1e).call(this,this.copyableRanges);if(!!this.hot.runHooks("beforeCopy",i,this.copyableRanges,n)){let o=Hu(i);if(e&&e.clipboardData){let s=wL(i,this.hot.rootDocument);e.clipboardData.setData("text/plain",o),e.clipboardData.setData("text/html",[hee,s].join(""))}else typeof ClipboardEvent>"u"&&this.hot.rootWindow.clipboardData.setData("Text",o);this.hot.runHooks("afterCopy",i,this.copyableRanges,n)}Za(Cb,this,"cells-only"),e.preventDefault()}onCut(e){if(!this.hot.isListening()&&!Xo(eM,this)||this.isEditorOpened()||!this.hot.getSettings().outsideClickDeselects&&e.target!==this.hot.rootDocument.body)return;this.setCopyableText(),Za(eM,this,!1);let i=this.getRangedData(this.copyableRanges);if(!!this.hot.runHooks("beforeCut",i,this.copyableRanges)){let r=Hu(i);if(e&&e.clipboardData){let o=wL(i,this.hot.rootDocument);e.clipboardData.setData("text/plain",r),e.clipboardData.setData("text/html",[hee,o].join(""))}else typeof ClipboardEvent>"u"&&this.hot.rootWindow.clipboardData.setData("Text",r);this.hot.emptySelectedCells("CopyPaste.cut"),this.hot.runHooks("afterCut",i,this.copyableRanges)}e.preventDefault()}onPaste(e){if(!this.hot.isListening()||this.isEditorOpened()||!this.hot.getSelected()||!this.hot.getSettings().outsideClickDeselects&&e.target!==this.hot.rootDocument.body)return;e.preventDefault();let i;if(e&&typeof e.clipboardData<"u"){let a=py(e.clipboardData.getData("text/html"),{ADD_TAGS:["meta"],ADD_ATTR:["content"],FORCE_BODY:!0});a&&/(<table)|(<TABLE)/g.test(a)?i=J6(a,this.hot.rootDocument).data:i=e.clipboardData.getData("text/plain")}else typeof ClipboardEvent>"u"&&typeof this.hot.rootWindow.clipboardData<"u"&&(i=this.hot.rootWindow.clipboardData.getData("Text"));if(typeof i=="string"&&(i=DF(i)),i===void 0||i&&i.length===0||this.hot.runHooks("beforePaste",i,this.copyableRanges)===!1)return;let[n,r,o,s]=this.populateValues(i);this.hot.selectCell(n,r,Math.min(this.hot.countRows()-1,o),Math.min(this.hot.countCols()-1,s)),this.hot.runHooks("afterPaste",i,this.copyableRanges)}destroy(){super.destroy()}};function fee(t){if(QN()){let e=this.hot.getSelectedRangeLast();if(e){let{row:i,col:n}=e.highlight,r=this.hot.getCell(i,n,!0);r&&qX(r,()=>{this.hot.rootDocument.execCommand(t)})}}else this.hot.rootDocument.execCommand(t)}function N1e(t){let{rows:e}=HV(t),i=0;for(let n=0;n<e.length&&!(e[n]>=0);n++)i+=1;return{columnHeadersCount:i}}function L1e(){if(this.hot.isListening()){let t=this.hot.getSelectedRangeLast();if(t){let{row:e,col:i}=t.highlight,n=this.hot.getCell(e,i,!0);n&&KN(n)}}}function gee(){if(this.hot.isListening()){let t=this.hot.getSelectedRangeLast();if(t){let{row:e,col:i}=t.highlight,n=this.hot.getCell(e,i,!0);n!=null&&n.hasAttribute("contenteditable")&&XN(n)}}}function F1e(t){t.items.push({name:"---------"},DV(this)),Xo(VV,this)&&t.items.push(OV(this)),Xo(BV,this)&&t.items.push(AV(this)),Xo(WV,this)&&t.items.push(MV(this)),t.items.push(PV(this))}function H1e(t,e,i,n,r){Xo(tM,this)&&(r.value=!0),Za(tM,this,!1)}function V1e(){this.isEditorOpened()||this.hot.getSettings().fragmentSelection||this.setCopyableText()}function B1e(){Qo(ys,this,gee).call(this)}function W1e(){Qo(ys,this,L1e).call(this)}function j1e(){Qo(ys,this,gee).call(this)}var sTt=w(Q(),1),aTt=w(be(),1);function jV(t,e){return`border_row${t}col${e}`}function xb(){return{width:1,color:"#000"}}function zl(){return{hide:!0}}function U1e(){return{width:1,color:"#000",cornerVisible:!1}}function iM(t){if(xe(t.start)||xe(t.left)){var e;t.start=(e=t.start)!==null&&e!==void 0?e:t.left}if(xe(t.end)||xe(t.right)){var i;t.end=(i=t.end)!==null&&i!==void 0?i:t.right}return delete t.left,delete t.right,t}function Eb(t){return xe(t.start)&&(t.left=t.start),xe(t.end)&&(t.right=t.end),t}function nM(t,e){return{id:jV(t,e),border:U1e(),row:t,col:e,top:zl(),bottom:zl(),start:zl(),end:zl()}}function bee(t,e){return Ci(e,"border")&&e.border&&(t.border=e.border),Ci(e,"top")&&xe(e.top)&&(e.top?(it(e.top)||(e.top=xb()),t.top=e.top):(e.top=zl(),t.top=e.top)),Ci(e,"bottom")&&xe(e.bottom)&&(e.bottom?(it(e.bottom)||(e.bottom=xb()),t.bottom=e.bottom):(e.bottom=zl(),t.bottom=e.bottom)),Ci(e,"start")&&xe(e.start)&&(e.start?(it(e.start)||(e.start=xb()),t.start=e.start):(e.start=zl(),t.start=e.start)),Ci(e,"end")&&xe(e.end)&&(e.end?(it(e.end)||(e.end=xb()),t.end=e.end):(e.end=zl(),t.end=e.end)),t}function Zo(t,e){let i=!1;return M(t.getSelectedRange(),n=>{n.forAll((r,o)=>{if(r<0||o<0)return;let s=t.getCellMeta(r,o).borders;if(s)if(e){if(!Ci(s[e],"hide")||s[e].hide===!1)return i=!0,!1}else return i=!0,!1})}),i}function eh(t){return`<span class="selected">\u2713</span>${t}`}function vee(t){return t.some(e=>xe(e.left)||xe(e.right))}function _ee(t){return t.some(e=>xe(e.start)||xe(e.end))}var z1e=new Map([["left","start"],["right","end"]]);function yee(t){var e;return(e=z1e.get(t))!==null&&e!==void 0?e:t}function rM(t){return{key:"borders:bottom",name(){let e=this.getTranslatedPhrase(jw);return Zo(this,"bottom")&&(e=eh(e)),e},callback(e,i){let n=Zo(this,"bottom");t.prepareBorder(i,"bottom",n)}}}function oM(t){let e=t.hot.isRtl()?"end":"start";return{key:"borders:left",name(){let i=this.getTranslatedPhrase(Uw);return Zo(this,e)&&(i=eh(i)),i},callback(i,n){let r=Zo(this,e);t.prepareBorder(n,e,r)}}}function sM(t){return{key:"borders:no_borders",name(){return this.getTranslatedPhrase(zw)},callback(e,i){t.prepareBorder(i,"noBorders")},disabled(){return!Zo(this)}}}function aM(t){let e=t.hot.isRtl()?"start":"end";return{key:"borders:right",name(){let i=this.getTranslatedPhrase(Ww);return Zo(this,e)&&(i=eh(i)),i},callback(i,n){let r=Zo(this,e);t.prepareBorder(n,e,r)}}}function lM(t){return{key:"borders:top",name(){let e=this.getTranslatedPhrase(Bw);return Zo(this,"top")&&(e=eh(e)),e},callback(e,i){let n=Zo(this,"top");t.prepareBorder(i,"top",n)}}}function Y1e(t,e){G1e(t,e),e.add(t)}function G1e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function $1e(t,e,i){return e=q1e(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function q1e(t){var e=K1e(t,"string");return typeof e=="symbol"?e:e+""}function K1e(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wee(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var S0="customBorders",Cee=90,UV=new WeakSet,x0=class extends rt{constructor(){super(...arguments),Y1e(this,UV),$1e(this,"savedBorders",[])}static get PLUGIN_KEY(){return S0}static get PLUGIN_PRIORITY(){return Cee}isEnabled(){return!!this.hot.getSettings()[S0]}enablePlugin(){this.enabled||(this.addHook("afterContextMenuDefaultOptions",e=>wee(UV,this,X1e).call(this,e)),this.addHook("init",()=>wee(UV,this,Q1e).call(this)),super.enablePlugin())}disablePlugin(){this.hideBorders(),super.disablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),this.changeBorderSettings(),super.updatePlugin()}setBorders(e,i){let n=["top","bottom","start","end"],r=null;i&&(this.checkSettingsCohesion([i]),n=Object.keys(i),r=iM(i));let o=Gc(e),s=Fu(o,{createCellCoords:this.hot._createCellCoords.bind(this.hot),createCellRange:this.hot._createCellRange.bind(this.hot)});M(e,a=>{s(a).forAll((l,c)=>{M(n,d=>{this.prepareBorderFromCustomAdded(l,c,r,yee(d))})})}),this.hot.view.render()}getBorders(e){if(!Array.isArray(e))return this.savedBorders;let i=Gc(e),n=Fu(i,{createCellCoords:this.hot._createCellCoords.bind(this.hot),createCellRange:this.hot._createCellRange.bind(this.hot)}),r=[];return M(e,o=>{n(o).forAll((s,a)=>{M(this.savedBorders,l=>{l.row===s&&l.col===a&&r.push(Eb(l))})})}),r}clearBorders(e){e?this.setBorders(e):(M(this.savedBorders,i=>{this.clearBordersFromSelectionSettings(i.id),this.clearNullCellRange(),this.hot.removeCellMeta(i.row,i.col,"borders")}),this.savedBorders.length=0)}insertBorderIntoSettings(e,i){this.checkSavedBorders(e)||this.savedBorders.push(e);let r=this.hot._createCellRange(this.hot._createCellCoords(e.row,e.col));this.checkCustomSelections(e,r,i)||this.hot.selection.highlight.addCustomSelection({border:e,visualCellRange:r})}prepareBorderFromCustomAdded(e,i,n,r){let o=this.hot.countRows(),s=this.hot.countCols();if(e>=o||i>=s)return;let a=nM(e,i);n&&(a=bee(a,n),M(this.hot.selection.highlight.customSelections,l=>{if(a.id===l.settings.id)return Object.assign(l.settings,n),a.id=l.settings.id,a.top=l.settings.top,a.bottom=l.settings.bottom,a.start=l.settings.start,a.end=l.settings.end,!1})),this.hot.setCellMeta(e,i,"borders",Eb(a)),this.insertBorderIntoSettings(a,r)}prepareBorderFromCustomAddedRange(e,i){let n=Math.min(e.to.row,this.hot.countRows()-1),r=Math.min(e.to.col,this.hot.countCols()-1);Se(e.from.row,n,o=>{Se(e.from.col,r,s=>{let a=nM(o,s),l=0;o===e.from.row&&Ci(i,"top")&&(l+=1,a.top=i.top),o===e.to.row&&Ci(i,"bottom")&&(l+=1,a.bottom=i.bottom),s===e.from.col&&Ci(i,"start")&&(l+=1,a.start=i.start),s===e.to.col&&Ci(i,"end")&&(l+=1,a.end=i.end),l>0&&(this.hot.setCellMeta(o,s,"borders",Eb(a)),this.insertBorderIntoSettings(a))})})}removeAllBorders(e,i){let n=jV(e,i);this.spliceBorder(n),this.clearBordersFromSelectionSettings(n),this.clearNullCellRange(),this.hot.removeCellMeta(e,i,"borders")}setBorder(e,i,n,r){let o=this.hot.getCellMeta(e,i).borders;!o||o.border===void 0?o=nM(e,i):o=iM(o),r?(o[n]=zl(),this.countHide(o)===4?this.removeAllBorders(e,i):(this.checkCustomSelectionsFromContextMenu(o,n,r)||this.insertBorderIntoSettings(o),this.hot.setCellMeta(e,i,"borders",Eb(o)))):(o[n]=xb(),this.checkCustomSelectionsFromContextMenu(o,n,r)||this.insertBorderIntoSettings(o),this.hot.setCellMeta(e,i,"borders",Eb(o)))}prepareBorder(e,i,n){M(e,r=>{let{start:o,end:s}=r;if(o.row===s.row&&o.col===s.col)i==="noBorders"?this.removeAllBorders(o.row,o.col):this.setBorder(o.row,o.col,i,n);else switch(i){case"noBorders":Se(o.col,s.col,a=>{Se(o.row,s.row,l=>{this.removeAllBorders(l,a)})});break;case"top":Se(o.col,s.col,a=>{this.setBorder(o.row,a,i,n)});break;case"bottom":Se(o.col,s.col,a=>{this.setBorder(s.row,a,i,n)});break;case"start":Se(o.row,s.row,a=>{this.setBorder(a,o.col,i,n)});break;case"end":Se(o.row,s.row,a=>{this.setBorder(a,s.col,i,n)});break;default:break}})}createCustomBorders(e){M(e,i=>{let n=iM(i);i.range?this.prepareBorderFromCustomAddedRange(i.range,n):this.prepareBorderFromCustomAdded(i.row,i.col,n)})}countHide(e){let{top:i,bottom:n,start:r,end:o}=e;return Mi([i,n,r,o],(a,l)=>{let c=a;return l&&l.hide&&(c+=1),c},0)}clearBordersFromSelectionSettings(e){let i=ct(this.hot.selection.highlight.customSelections,n=>n.settings.id).indexOf(e);i>-1&&this.hot.selection.highlight.customSelections[i].clear()}clearNullCellRange(){M(this.hot.selection.highlight.customSelections,(e,i)=>{if(e.cellRange===null)return this.hot.selection.highlight.customSelections[i].destroy(),this.hot.selection.highlight.customSelections.splice(i,1),!1})}hideBorders(){M(this.savedBorders,e=>{this.clearBordersFromSelectionSettings(e.id),this.clearNullCellRange()})}spliceBorder(e){let i=ct(this.savedBorders,n=>n.id).indexOf(e);i>-1&&this.savedBorders.splice(i,1)}checkSavedBorders(e){let i=!1;return this.countHide(e)===4?(this.spliceBorder(e.id),i=!0):M(this.savedBorders,(r,o)=>{if(e.id===r.id)return this.savedBorders[o]=e,i=!0,!1}),i}checkCustomSelectionsFromContextMenu(e,i,n){let r=!1;return M(this.hot.selection.highlight.customSelections,o=>{if(e.id===o.settings.id){let s=this.hot.view._wt.selectionManager.getBorderInstances(o);return M(s,a=>{a.toggleHiddenClass(i,n)}),r=!0,!1}}),r}checkCustomSelections(e,i,n){let r=this.countHide(e),o=!1;return r===4?(this.removeAllBorders(e.row,e.col),o=!0):M(this.hot.selection.highlight.customSelections,s=>{if(e.id===s.settings.id){if(s.visualCellRange=i,s.commit(),n){let a=this.hot.view._wt.selectionManager.getBorderInstances(s);M(a,l=>{l.changeBorderStyle(n,e)})}return o=!0,!1}}),o}changeBorderSettings(){let e=this.hot.getSettings()[S0];if(Array.isArray(e)){let i=Fn(e);this.checkSettingsCohesion(i),i.length||(this.savedBorders=i),this.createCustomBorders(i)}else e!==void 0&&this.createCustomBorders(this.savedBorders)}checkSettingsCohesion(e){let i=vee(e),n=_ee(e);if(i&&n)throw new Error('The "left"/"right" and "start"/"end" options should not be used together. Please use only the option "start"/"end".');if(this.hot.isRtl()&&i)throw new Error('The "left"/"right" properties are not supported for RTL. Please use option "start"/"end".')}destroy(){super.destroy()}};function X1e(t){this.hot.getSettings()[S0]&&t.items.push({name:"---------"},{key:"borders",name(){return this.getTranslatedPhrase(Vw)},disabled(){let e=this.getSelectedRangeLast();return!e||e.isSingleHeader()?!0:this.selection.isSelectedByCorner()},submenu:{items:[lM(this),aM(this),rM(this),oM(this),sM(this)]}})}function Q1e(){this.changeBorderSettings()}var vTt=w(Q(),1);function Z1e(t,e){J1e(t,e),e.add(t)}function J1e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function zV(t,e,i){return e=eNe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function eNe(t){var e=tNe(t,"string");return typeof e=="symbol"?e:e+""}function tNe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function See(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var GV="dragToScroll",Eee=100,YV=new WeakSet,E0=class extends rt{constructor(){super(...arguments),Z1e(this,YV),zV(this,"boundaries",null),zV(this,"callback",null),zV(this,"listening",!1)}static get PLUGIN_KEY(){return GV}static get PLUGIN_PRIORITY(){return Eee}isEnabled(){return!!this.hot.getSettings()[GV]}enablePlugin(){this.enabled||(this.addHook("afterOnCellMouseDown",e=>See(YV,this,xee).call(this,e)),this.addHook("afterOnCellCornerMouseDown",e=>See(YV,this,xee).call(this,e)),this.registerEvents(),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.unregisterEvents(),super.disablePlugin()}setBoundaries(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{left:0,right:this.hot.rootWindow.innerWidth,top:0,bottom:this.hot.rootWindow.innerHeight};this.boundaries=e}setCallback(e){this.callback=e}check(e,i){let n=0,r=0;i<this.boundaries.top?r=i-this.boundaries.top:i>this.boundaries.bottom&&(r=i-this.boundaries.bottom),e<this.boundaries.left?n=e-this.boundaries.left:e>this.boundaries.right&&(n=e-this.boundaries.right),this.callback(n,r)}listen(){this.listening=!0}unlisten(){this.listening=!1}isListening(){return this.listening}registerEvents(){let{rootWindow:e}=this.hot,i=e;for(;i;)this.eventManager.addEventListener(i.document,"contextmenu",()=>this.unlisten()),this.eventManager.addEventListener(i.document,"mouseup",()=>this.unlisten()),this.eventManager.addEventListener(i.document,"mousemove",n=>this.onMouseMove(n)),i=El(i)}unregisterEvents(){this.eventManager.clear()}onMouseMove(e){this.isListening()&&this.check(e.clientX,e.clientY)}destroy(){super.destroy()}};function xee(t){if(ms(t))return;let e=this.hot.view._wt.wtOverlays.topOverlay.mainTableScrollableElement;this.setBoundaries(e!==this.hot.rootWindow?e.getBoundingClientRect():void 0),this.setCallback((i,n)=>{var r,o;let s=(r=e.scrollLeft)!==null&&r!==void 0?r:e.scrollX,a=(o=e.scrollTop)!==null&&o!==void 0?o:e.scrollY;e.scroll(s+Math.sign(i)*50,a+Math.sign(n)*20)}),this.listen()}var ETt=w(Q(),1);function iNe(t,e){Ree(t,e),e.add(t)}function nNe(t,e,i){Ree(t,e),e.set(t,i)}function Ree(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function $V(t,e,i){return e=rNe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function rNe(t){var e=oNe(t,"string");return typeof e=="symbol"?e:e+""}function oNe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sNe(t,e){return t.get(da(t,e))}function Tee(t,e,i){return t.set(da(t,e),i),i}function da(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}Ee.getSingleton().register("afterDropdownMenuDefaultOptions");Ee.getSingleton().register("beforeDropdownMenuShow");Ee.getSingleton().register("afterDropdownMenuShow");Ee.getSingleton().register("afterDropdownMenuHide");Ee.getSingleton().register("afterDropdownMenuExecute");var R0="dropdownMenu",Iee=230,cM="changeType",qV=R0,dM=new WeakMap,Ja=new WeakSet,Rb=class t extends rt{static get PLUGIN_KEY(){return R0}static get PLUGIN_PRIORITY(){return Iee}static get PLUGIN_DEPS(){return["plugin:AutoColumnSize"]}static get DEFAULT_ITEMS(){return[Qc,Zc,xt,ed,xt,Ff,xt,Jc,xt,lo]}constructor(e){super(e),iNe(this,Ja),$V(this,"commandExecutor",new fb(this.hot)),$V(this,"itemsFactory",null),$V(this,"menu",null),nNe(this,dM,!1),this.hot.addHook("afterGetColHeader",(i,n)=>da(Ja,this,lNe).call(this,i,n))}isEnabled(){return this.hot.getSettings()[R0]}enablePlugin(){var e=this;if(this.enabled)return;this.itemsFactory=new mb(this.hot,t.DEFAULT_ITEMS),this.addHook("beforeOnCellMouseDown",function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return da(Ja,e,mNe).call(e,...o)}),this.addHook("beforeViewportScrollHorizontally",function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return da(Ja,e,fNe).call(e,...o)});let i=this.hot.getSettings()[R0],n={items:this.itemsFactory.getItems(i)};this.registerEvents(),typeof i.callback=="function"&&this.commandExecutor.setCommonCallback(i.callback),this.registerShortcuts(),super.enablePlugin(),this.callOnPluginsReady(()=>{this.hot.runHooks("afterDropdownMenuDefaultOptions",n),this.itemsFactory.setPredefinedItems(n.items);let r=this.itemsFactory.getItems(i);this.menu&&this.menu.destroy(),this.menu=new nd(this.hot,{className:"htDropdownMenu",keepInViewport:!0,container:i.uiContainer||this.hot.rootDocument.body}),this.hot.runHooks("beforeDropdownMenuSetItems",r),this.menu.setMenuItems(r),this.menu.addLocalHook("beforeOpen",()=>da(Ja,this,cNe).call(this)),this.menu.addLocalHook("afterOpen",()=>da(Ja,this,dNe).call(this)),this.menu.addLocalHook("afterSubmenuOpen",o=>da(Ja,this,uNe).call(this,o)),this.menu.addLocalHook("afterClose",()=>da(Ja,this,hNe).call(this)),this.menu.addLocalHook("executeCommand",function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return e.executeCommand.call(e,...s)}),M(r,o=>this.commandExecutor.registerCommand(o.key,o))})}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.close(),this.menu&&this.menu.destroy(),this.unregisterShortcuts(),super.disablePlugin()}registerShortcuts(){let e=this.hot.getShortcutManager().getContext("grid"),i=()=>{let{highlight:n}=this.hot.getSelectedRangeLast();if((n.isHeader()&&n.row===-1||n.isCell())&&n.col>=0){this.hot.selectColumns(n.col,n.col,-1);let{from:r}=this.hot.getSelectedRangeLast(),o=ub(this.menu.container,this.hot.rootDocument),s=this.hot.getCell(-1,r.col,!0),a=s.getBoundingClientRect();this.open({left:a.left+o.left,top:a.top+s.offsetHeight+o.top},{left:a.width}),this.menu.getNavigator().toFirstItem()}};e.addShortcuts([{keys:[["Shift","Alt","ArrowDown"],["Control/Meta","Enter"]],callback:i,runOnlyIf:()=>{var n;let r=(n=this.hot.getSelectedRangeLast())===null||n===void 0?void 0:n.highlight;return r&&this.hot.selection.isCellVisible(r)&&r.isHeader()&&!this.menu.isOpened()},captureCtrl:!0,group:qV},{keys:[["Shift","Alt","ArrowDown"]],callback:i,runOnlyIf:()=>{var n;let r=(n=this.hot.getSelectedRangeLast())===null||n===void 0?void 0:n.highlight;return r&&this.hot.selection.isCellVisible(r)&&r.isCell()&&!this.menu.isOpened()},group:qV}])}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(qV)}registerEvents(){this.eventManager.addEventListener(this.hot.rootElement,"click",e=>da(Ja,this,aNe).call(this,e))}open(e){var i;let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{above:0,below:0,left:0,right:0};(i=this.menu)!==null&&i!==void 0&&i.isOpened()||(this.menu.open(),nt(n,(r,o)=>{this.menu.setOffset(o,r)}),this.menu.setPosition(e))}close(){var e;(e=this.menu)===null||e===void 0||e.close()}executeCommand(e){for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];this.commandExecutor.execute(e,...n)}setListening(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.menu.isOpened()&&(e?this.menu.hotMenu.listen():this.menu.hotMenu.unlisten())}destroy(){this.close(),this.menu&&this.menu.destroy(),super.destroy()}};function Dee(t){t.getKeyboardShortcutsCtrl().addCustomShortcuts([{keys:[["Control/Meta","A"]],callback:()=>!1}])}function aNe(t){if(Fe(t.target,cM)){let e=ub(this.menu.container,this.hot.rootDocument),i=t.target.getBoundingClientRect();t.stopPropagation(),Tee(dM,this,!1),this.open({left:i.left+e.left,top:i.top+t.target.offsetHeight+3+e.top},{left:i.width})}}function lNe(t,e){let i=e.parentNode;if(!i)return;let n=i.parentNode.childNodes,r=Array.prototype.indexOf.call(n,i);if(t<0||r!==n.length-1)return;let o=e.querySelector(`.${cM}`);if(this.enabled&&o)return;if(!this.enabled){o&&o.parentNode.removeChild(o);return}let s=this.hot.rootDocument.createElement("button");s.className=cM,s.type="button",s.tabIndex=-1,this.hot.getSettings().ariaTags&&(Le(s,[Sr(),Xp(" ")]),Le(e,[yT("menu")])),s.onclick=function(){return!1},e.firstChild.insertBefore(s,e.firstChild.firstChild)}function cNe(){this.hot.runHooks("beforeDropdownMenuShow",this)}function dNe(){this.hot.runHooks("afterDropdownMenuShow",this),da(Ja,this,Dee).call(this,this.menu)}function uNe(t){da(Ja,this,Dee).call(this,t)}function hNe(){this.hot.listen(),this.hot.runHooks("afterDropdownMenuHide",this)}function fNe(t){return sNe(dM,this)?null:t}function mNe(t){Fe(t.target,cM)&&Tee(dM,this,!0)}Rb.SEPARATOR={name:xt};var eIt=w(Q(),1);var BTt=w(Q(),1),WTt=w(be(),1);function Mee(t,e,i){return e=pNe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function pNe(t){var e=gNe(t,"string");return typeof e=="symbol"?e:e+""}function gNe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KV=class{constructor(e){Mee(this,"hot",void 0),Mee(this,"options",{}),this.hot=e}setOptions(e){this.options=e}getData(){let{startRow:e,startCol:i,endRow:n,endCol:r}=this._getDataRange(),o=this.options,s=[];return Se(e,n,a=>{let l=[];!o.exportHiddenRows&&this._isHiddenRow(a)||(Se(i,r,c=>{!o.exportHiddenColumns&&this._isHiddenColumn(c)||l.push(this.hot.getDataAtCell(a,c))}),s.push(l))}),s}getRowHeaders(){let e=[];if(this.options.rowHeaders){let{startRow:i,endRow:n}=this._getDataRange(),r=this.hot.getRowHeader();Se(i,n,o=>{!this.options.exportHiddenRows&&this._isHiddenRow(o)||e.push(r[o])})}return e}getColumnHeaders(){let e=[];if(this.options.columnHeaders){let{startCol:i,endCol:n}=this._getDataRange(),r=this.hot.getColHeader();Se(i,n,o=>{!this.options.exportHiddenColumns&&this._isHiddenColumn(o)||e.push(r[o])})}return e}_getDataRange(){let e=this.hot.countCols()-1,i=this.hot.countRows()-1,[n=0,r=0,o=i,s=e]=this.options.range;return n=Math.max(n,0),r=Math.max(r,0),o=Math.min(o,i),s=Math.min(s,e),{startRow:n,startCol:r,endRow:o,endCol:s}}_isHiddenRow(e){return this.hot.rowIndexMapper.isHidden(this.hot.toPhysicalRow(e))}_isHiddenColumn(e){return this.hot.columnIndexMapper.isHidden(this.hot.toPhysicalColumn(e))}},Aee=KV;var zTt=w(Q(),1);function Oee(t,e,i){return e=bNe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function bNe(t){var e=vNe(t,"string");return typeof e=="symbol"?e:e+""}function vNe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var XV=class t{static get DEFAULT_OPTIONS(){return{mimeType:"text/plain",fileExtension:"txt",filename:"Handsontable [YYYY]-[MM]-[DD]",encoding:"utf-8",bom:!1,columnHeaders:!1,rowHeaders:!1,exportHiddenColumns:!1,exportHiddenRows:!1,range:[]}}constructor(e,i){Oee(this,"dataProvider",void 0),Oee(this,"options",void 0),this.dataProvider=e,this.options=this._mergeOptions(i),this.dataProvider.setOptions(this.options)}_mergeOptions(e){let i=qn(this.constructor.DEFAULT_OPTIONS),n=new Date;return i=hi(qn(t.DEFAULT_OPTIONS),i),i=hi(i,e),i.filename=bT(i.filename,{YYYY:n.getFullYear(),MM:`${n.getMonth()+1}`.padStart(2,"0"),DD:`${n.getDate()}`.padStart(2,"0")}),i}},Pee=XV;var _Ne="\r",yNe='"',wNe=`
`,QV=class extends Pee{static get DEFAULT_OPTIONS(){return{mimeType:"text/csv",fileExtension:"csv",bom:!0,columnDelimiter:",",rowDelimiter:`\r
`}}export(){let e=this.options,i=this.dataProvider.getData(),n=this.dataProvider.getColumnHeaders(),r=n.length>0,o=this.dataProvider.getRowHeaders(),s=o.length>0,a=e.bom?"\uFEFF":"";return r&&(n=ct(n,l=>this._escapeCell(l,!0)),s&&(a+=e.columnDelimiter),a+=n.join(e.columnDelimiter),a+=e.rowDelimiter),M(i,(l,c)=>{c>0&&(a+=e.rowDelimiter),s&&(a+=this._escapeCell(o[c])+e.columnDelimiter),a+=l.map(d=>this._escapeCell(d)).join(e.columnDelimiter)}),a}_escapeCell(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=Ei(e);return n!==""&&(i||n.indexOf(_Ne)>=0||n.indexOf(yNe)>=0||n.indexOf(wNe)>=0||n.indexOf(this.options.columnDelimiter)>=0)&&(n=n.replace(new RegExp('"',"g"),'""'),n=`"${n}"`),n}},kee=QV;var CNe="csv";var uM={[CNe]:kee};function ZV(t,e,i){return typeof uM[t]=="function"?new uM[t](e,i):null}var Nee="exportFile",Lee=240,T0=class extends rt{static get PLUGIN_KEY(){return Nee}static get PLUGIN_PRIORITY(){return Lee}isEnabled(){return!0}exportAsString(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this._createTypeFormatter(e,i).export()}exportAsBlob(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this._createBlob(this._createTypeFormatter(e,i))}downloadFile(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{rootDocument:n,rootWindow:r}=this.hot,o=this._createTypeFormatter(e,i),s=this._createBlob(o),a=r.URL||r.webkitURL,l=n.createElement("a"),c=`${o.options.filename}.${o.options.fileExtension}`;if(l.download!==void 0){let d=a.createObjectURL(s);l.style.display="none",l.setAttribute("href",d),l.setAttribute("download",c),n.body.appendChild(l),l.dispatchEvent(new MouseEvent("click")),n.body.removeChild(l),setTimeout(()=>{a.revokeObjectURL(d)},100)}else navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob(s,c)}_createTypeFormatter(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!uM[e])throw new Error(`Export format type "${e}" is not supported.`);return ZV(e,new Aee(this.hot),i)}_createBlob(e){let i=null;return typeof Blob<"u"&&(i=new Blob([e.export()],{type:`${e.options.mimeType};charset=${e.options.encoding}`})),i}};var TOt=w(Q(),1),IOt=w(be(),1),DOt=w(YL(),1);var PMt=w(Q(),1),kMt=w(be(),1);var aIt=w(Q(),1);function Tb(t,e,i){return e=SNe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function SNe(t){var e=xNe(t,"string");return typeof e=="symbol"?e:e+""}function xNe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var el=class{constructor(e,i){let{id:n,stateless:r=!0}=i;Tb(this,"hot",void 0),Tb(this,"id",void 0),Tb(this,"elements",[]),Tb(this,"hidden",!1),Tb(this,"stateId",""),Tb(this,"state",void 0),this.hot=e,this.id=n,this.stateId=`Filters.component.${this.id}`,this.state=r?null:this.hot.columnIndexMapper.registerMap(this.stateId,new kl)}getElements(){return this.elements}reset(){M(this.elements,e=>e.reset())}hide(){this.hidden=!0}show(){this.hidden=!1}isHidden(){return this.hot===null||this.hidden}restoreState(e){this.state&&this.setState(this.state.getValueAtIndex(e))}setState(){throw new Error("The state setting logic is not implemented")}saveState(e){this.state&&this.state.setValueAtIndex(e,this.getState())}getState(){throw new Error("The state gathering logic is not implemented")}destroy(){this.hot.columnIndexMapper.unregisterMap(this.stateId),this.clearLocalHooks(),M(this.elements,e=>e.destroy()),this.state=null,this.elements=null,this.hot=null}};Ot(el,Xi);var LDt=w(be(),1);var fIt=w(Q(),1),I0={};function Jo(t,e){if(!I0[t])throw Error(`Filter condition "${t}" does not exist.`);let{condition:i,descriptor:n}=I0[t],r=e;return n.inputValuesDecorator&&(r=n.inputValuesDecorator(r)),function(o){return i.apply(o.meta.instance,[].concat([o],[r]))}}function Yl(t){if(!I0[t])throw Error(`Filter condition "${t}" does not exist.`);return I0[t].descriptor}function qt(t,e,i){i.key=t,I0[t]={condition:e,descriptor:i}}var Vn="none";function ENe(){return!0}qt(Vn,ENe,{name:vf,inputsCount:0,showOperators:!1});var zf="empty";function RNe(t){return Ri(t.value)}qt(zf,RNe,{name:Qw,inputsCount:0,showOperators:!0});var D0="not_empty";function TNe(t,e){return!Jo(zf,e)(t)}qt(D0,TNe,{name:Zw,inputsCount:0,showOperators:!0});var Yf="eq";function INe(t,e){let[i]=e;return Ei(t.value).toLocaleLowerCase(t.meta.locale)===Ei(i)}qt(Yf,INe,{name:Jw,inputsCount:1,showOperators:!0});var M0="neq";function DNe(t,e){return!Jo(Yf,e)(t)}qt(M0,DNe,{name:eC,inputsCount:1,showOperators:!0});var JV="gt";function MNe(t,e){let[i]=e,n=i;return t.meta.type==="numeric"&&(n=parseFloat(n,10)),t.value>n}qt(JV,MNe,{name:oC,inputsCount:1,showOperators:!0});var eB="gte";function ANe(t,e){let[i]=e,n=i;return t.meta.type==="numeric"&&(n=parseFloat(n,10)),t.value>=n}qt(eB,ANe,{name:sC,inputsCount:1,showOperators:!0});var tB="lt";function ONe(t,e){let[i]=e,n=i;return t.meta.type==="numeric"&&(n=parseFloat(n,10)),t.value<n}qt(tB,ONe,{name:aC,inputsCount:1,showOperators:!0});var iB="lte";function PNe(t,e){let[i]=e,n=i;return t.meta.type==="numeric"&&(n=parseFloat(n,10)),t.value<=n}qt(iB,PNe,{name:lC,inputsCount:1,showOperators:!0});var nB=w(Jr(),1);var A0="date_after";function kNe(t,e){let[i]=e,n=(0,nB.default)(t.value,t.meta.dateFormat),r=(0,nB.default)(i,t.meta.dateFormat);return!n.isValid()||!r.isValid()?!1:n.diff(r)>=0}qt(A0,kNe,{name:uC,inputsCount:1,showOperators:!0});var rB=w(Jr(),1);var O0="date_before";function NNe(t,e){let[i]=e,n=(0,rB.default)(t.value,t.meta.dateFormat),r=(0,rB.default)(i,t.meta.dateFormat);return!n.isValid()||!r.isValid()?!1:n.diff(r)<=0}qt(O0,NNe,{name:hC,inputsCount:1,showOperators:!0});var Ib="between";function LNe(t,e){let[i,n]=e,r=i,o=n;if(t.meta.type==="numeric"){let s=parseFloat(r,10),a=parseFloat(o,10);r=Math.min(s,a),o=Math.max(s,a)}else if(t.meta.type==="date"){let s=Jo(O0,[o]),a=Jo(A0,[r]);return s(t)&&a(t)}return t.value>=r&&t.value<=o}qt(Ib,LNe,{name:cC,inputsCount:2,showOperators:!0});var oB="not_between";function FNe(t,e){return!Jo(Ib,e)(t)}qt(oB,FNe,{name:dC,inputsCount:2,showOperators:!0});var sB="begins_with";function HNe(t,e){let[i]=e;return Ei(t.value).toLocaleLowerCase(t.meta.locale).startsWith(Ei(i))}qt(sB,HNe,{name:tC,inputsCount:1,showOperators:!0});var aB="ends_with";function VNe(t,e){let[i]=e;return Ei(t.value).toLocaleLowerCase(t.meta.locale).endsWith(Ei(i))}qt(aB,VNe,{name:iC,inputsCount:1,showOperators:!0});var P0="contains";function BNe(t,e){let[i]=e;return Ei(t.value).toLocaleLowerCase(t.meta.locale).indexOf(Ei(i))>=0}qt(P0,BNe,{name:nC,inputsCount:1,showOperators:!0});var lB="not_contains";function WNe(t,e){return!Jo(P0,e)(t)}qt(lB,WNe,{name:rC,inputsCount:1,showOperators:!0});var cB=w(Jr(),1);var dB="date_tomorrow";function jNe(t){let e=(0,cB.default)(t.value,t.meta.dateFormat);return e.isValid()?e.isSame((0,cB.default)().subtract(-1,"days").startOf("day"),"d"):!1}qt(dB,jNe,{name:mC,inputsCount:0});var uB=w(Jr(),1);var hB="date_today";function UNe(t){let e=(0,uB.default)(t.value,t.meta.dateFormat);return e.isValid()?e.isSame((0,uB.default)().startOf("day"),"d"):!1}qt(hB,UNe,{name:fC,inputsCount:0});var fB=w(Jr(),1);var mB="date_yesterday";function zNe(t){let e=(0,fB.default)(t.value,t.meta.dateFormat);return e.isValid()?e.isSame((0,fB.default)().subtract(1,"days").startOf("day"),"d"):!1}qt(mB,zNe,{name:pC,inputsCount:0});var hDt=w(be(),1),fDt=w(Fi(),1),mDt=w(Hi(),1),pDt=w(Vi(),1),gDt=w(Bi(),1),bDt=w(Wi(),1),vDt=w(ji(),1),_Dt=w(Ui(),1);var CDt=m6();function YNe(t,e){let i=t;return i===""&&(i=`(${e})`),i}var pB=new Set([1]).has(1),GNe=pB&&typeof Array.from=="function";function rd(t){let e=t;return pB&&(e=new Set(e)),function(i){let n;return pB?n=e.has(i):n=!!~e.indexOf(i),n}}function hM(t){return t??""}function k0(t){let e=t;return GNe?e=Array.from(new Set(e)):e=fT(e),e=e.sort((i,n)=>typeof i=="number"&&typeof n=="number"?i-n:i===n?0:i>n?1:-1),e}function gB(t,e,i,n){let r=[],o=t===e,s;return o||(s=rd(e)),M(t,a=>{let l=!1;(o||s(a))&&(l=!0);let c={checked:l,value:a,visualValue:YNe(a,i)};n&&n(c),r.push(c)}),r}var Gl="by_value";function $Ne(t,e){let[i]=e;return i(t.value)}qt(Gl,$Ne,{name:"By value",inputsCount:0,inputValuesDecorator(t){let[e]=t;return[rd(e)]},showOperators:!1});var TDt=w(Q(),1),Db={};function Fee(t){if(!Db[t])throw Error(`Operation with id "${t}" does not exist.`);let e=Db[t].func;return function(i,n){return e(i,n)}}function Hee(t){return Db[t].name}function Mb(t,e,i){Db[t]={name:e,func:i}}var ua="conjunction",qNe=vC;function KNe(t,e){return t.every(i=>i.func(e))}Mb(ua,qNe,KNe);var Gf="disjunction",XNe=_f;function QNe(t,e){return t.some(i=>i.func(e))}Mb(Gf,XNe,QNe);var PDt=w(Q(),1);var Ab="disjunctionWithExtraCondition",ZNe=_f;function JNe(t,e){if(t.length<3)throw Error("Operation doesn't work on less then three conditions.");return t.slice(0,t.length-1).some(i=>i.func(e))&&t[t.length-1].func(e)}Mb(Ab,ZNe,JNe);var eLe="numeric",Bee="text",tLe="date",Vee={[eLe]:[Vn,xt,zf,D0,xt,Yf,M0,xt,JV,eB,tB,iB,Ib,oB],[Bee]:[Vn,xt,zf,D0,xt,Yf,M0,xt,sB,aB,xt,P0,lB],[tLe]:[Vn,xt,zf,D0,xt,Yf,M0,xt,O0,A0,Ib,xt,dB,hB,mB]};function bB(t){let e=[],i=t;return Vee[i]||(i=Bee),M(Vee[i],n=>{let r;n===xt?r={name:xt}:r=qn(Yl(n)),e.push(r)}),e}var _Mt=w(Q(),1);var hMt=w(Q(),1);function N0(t,e,i){return e=iLe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function iLe(t){var e=nLe(t,"string");return typeof e=="symbol"?e:e+""}function nLe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vB="built",_B="building",Wee=["click","input","keydown","keypress","keyup","focus","blur","change"],pr=class t{static get DEFAULTS(){return qn({className:"",value:"",tagName:"div",children:[],wrapIt:!0})}constructor(e,i){N0(this,"hot",void 0),N0(this,"eventManager",new Xn(this)),N0(this,"options",void 0),N0(this,"_element",void 0),N0(this,"buildState",void 0),this.hot=e,this.options=hi(t.DEFAULTS,i),this._element=this.hot.rootDocument.createElement(this.options.wrapIt?"div":this.options.tagName)}setValue(e){this.options.value=e,this.update()}getValue(){return this.options.value}get element(){return this.buildState===_B?this._element:this.buildState===vB?(this.update(),this._element):(this.buildState=_B,this.build(),this.buildState=vB,this._element)}isBuilt(){return this.buildState===vB}translateIfPossible(e){return typeof e=="string"&&e.startsWith(oo)?this.hot.getTranslatedPhrase(e):e}build(){let e=(i,n)=>{this.eventManager.addEventListener(i,n,r=>this.runLocalHooks(n,r,this))};if(this.buildState||(this.buildState=_B),this._element.setAttribute("data-hot-input",!0),this.options.tabIndex!==void 0&&this._element.setAttribute("tabindex",this.options.tabIndex),this.options.role!==void 0&&this._element.setAttribute("role",this.options.role),this.options.className&&ne(this._element,this.options.className),this.options.children.length)M(this.options.children,i=>this._element.appendChild(i.element));else if(this.options.wrapIt){let i=this.hot.rootDocument.createElement(this.options.tagName);i.setAttribute("data-hot-input",!0),nt(this.options,(n,r)=>{i[r]!==void 0&&r!=="className"&&r!=="tagName"&&r!=="children"&&(i[r]=this.translateIfPossible(n))}),this._element.appendChild(i),M(Wee,n=>e(i,n))}else M(Wee,i=>e(this._element,i))}update(){}reset(){this.options.value="",this.update()}show(){this.element.style.display=""}hide(){this.element.style.display="none"}focus(){}destroy(){this.eventManager.destroy(),this.eventManager=null,this.hot=null,this._element.parentNode&&this._element.parentNode.removeChild(this._element),this._element=null}};Ot(pr,Xi);function rLe(t,e){Uee(t,e),e.add(t)}function oLe(t,e,i){Uee(t,e),e.set(t,i)}function Uee(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function fM(t,e){return t.get(yB(t,e))}function sLe(t,e,i){return t.set(yB(t,e),i),i}function yB(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var Ob=new WeakMap,jee=new WeakSet,tl=class t extends pr{static get DEFAULTS(){return qn({placeholder:"",type:"text",tagName:"input",tabIndex:-1})}constructor(e,i){super(e,hi(t.DEFAULTS,i)),rLe(this,jee),oLe(this,Ob,void 0),this.registerHooks()}registerHooks(){this.addLocalHook("keyup",e=>yB(jee,this,aLe).call(this,e))}build(){super.build();let e=this.hot.rootDocument.createElement("div");sLe(Ob,this,this._element.firstChild),ne(this._element,"htUIInput"),ne(e,"htUIInputIcon"),this._element.appendChild(e),this.update()}update(){this.isBuilt()&&(fM(Ob,this).type=this.options.type,fM(Ob,this).placeholder=this.translateIfPossible(this.options.placeholder),fM(Ob,this).value=this.translateIfPossible(this.options.value))}focus(){this.isBuilt()&&fM(Ob,this).focus()}};function aLe(t){this.options.value=t.target.value}var xMt=w(Q(),1);function lLe(t,e){zee(t,e),e.add(t)}function L0(t,e,i){zee(t,e),e.set(t,i)}function zee(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Pb(t,e,i){return t.set(F0(t,e),i),i}function Dn(t,e){return t.get(F0(t,e))}function F0(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var gr=new WeakMap,mM=new WeakMap,pM=new WeakMap,wB=new WeakMap,gM=new WeakMap,bM=new WeakSet,$f=class t extends pr{static get DEFAULTS(){return qn({className:"htUISelect",wrapIt:!1,tabIndex:-1})}constructor(e,i){super(e,hi(t.DEFAULTS,i)),lLe(this,bM),L0(this,gr,null),L0(this,mM,[]),L0(this,pM,void 0),L0(this,wB,void 0),L0(this,gM,void 0),this.registerHooks()}getMenu(){return Dn(gr,this)}registerHooks(){this.addLocalHook("click",()=>F0(bM,this,uLe).call(this))}setItems(e){Pb(mM,this,this.translateNames(e)),Dn(gr,this)&&Dn(gr,this).setMenuItems(Dn(mM,this))}translateNames(e){return M(e,i=>{i.name=this.translateIfPossible(i.name)}),e}build(){super.build(),Pb(gr,this,new nd(this.hot,{className:"htSelectUI htFiltersConditionsMenu",keepInViewport:!1,standalone:!0,container:this.options.menuContainer})),Dn(gr,this).setMenuItems(Dn(mM,this));let e=new pr(this.hot,{className:"htUISelectCaption"}),i=new pr(this.hot,{className:"htUISelectDropdown"});Pb(pM,this,e),Pb(wB,this,e.element),Pb(gM,this,i),this.hot.getSettings().ariaTags&&(Le(i.element,[Sr()]),Le(this._element,[_T()])),M([e,i],n=>this._element.appendChild(n.element)),Dn(gr,this).addLocalHook("select",n=>F0(bM,this,cLe).call(this,n)),Dn(gr,this).addLocalHook("afterClose",()=>F0(bM,this,dLe).call(this)),this.update()}update(){if(!this.isBuilt())return;let e;this.options.value?e=this.options.value.name:e=Dn(gr,this).hot.getTranslatedPhrase(vf),Dn(wB,this).textContent=e,super.update()}openOptions(){let e=this.element.getBoundingClientRect();Dn(gr,this)&&(Dn(gr,this).open(),Dn(gr,this).setPosition({left:this.hot.isLtr()?e.left-5:e.left-31,top:e.top-1,width:e.width,height:e.height}),Dn(gr,this).getNavigator().toFirstItem(),Dn(gr,this).getKeyboardShortcutsCtrl().addCustomShortcuts([{keys:[["Tab"],["Shift","Tab"]],callback:i=>{this.closeOptions(),this.runLocalHooks("tabKeydown",i)}},{keys:[["Control/Meta","A"]],callback:()=>!1}]))}closeOptions(){Dn(gr,this)&&Dn(gr,this).close()}focus(){this.isBuilt()&&this.element.focus()}destroy(){Dn(gr,this)&&(Dn(gr,this).destroy(),Pb(gr,this,null)),Dn(pM,this)&&Dn(pM,this).destroy(),Dn(gM,this)&&Dn(gM,this).destroy(),super.destroy()}};function cLe(t){t.name!==xt&&(this.options.value=t,this.update(),this.runLocalHooks("select",this.options.value))}function dLe(){this.runLocalHooks("afterClose")}function uLe(){this.openOptions()}function hLe(t,e){fLe(t,e),e.add(t)}function fLe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Yee(t,e,i){return e=mLe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function mLe(t){var e=pLe(t,"string");return typeof e=="symbol"?e:e+""}function pLe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gee(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var CB=new WeakSet,kb=class extends el{constructor(e,i){super(e,{id:i.id,stateless:!1}),hLe(this,CB),Yee(this,"name",""),Yee(this,"addSeparator",!1),this.name=i.name,this.addSeparator=i.addSeparator,this.elements.push(new $f(this.hot,{menuContainer:i.menuContainer})),this.elements.push(new tl(this.hot,{placeholder:xC})),this.elements.push(new tl(this.hot,{placeholder:EC})),this.registerHooks()}registerHooks(){this.getSelectElement().addLocalHook("select",e=>Gee(CB,this,gLe).call(this,e)).addLocalHook("afterClose",()=>this.runLocalHooks("afterClose")).addLocalHook("tabKeydown",e=>this.runLocalHooks("selectTabKeydown",e)),M(this.getInputElements(),e=>{e.addLocalHook("keydown",i=>Gee(CB,this,bLe).call(this,i))})}setState(e){if(this.reset(),!e)return;let i=qn(e.command);i.name.startsWith(Cn)&&(i.name=this.hot.getTranslatedPhrase(i.name)),this.getSelectElement().setValue(i),M(e.args,(n,r)=>{if(r>i.inputsCount-1)return!1;let o=this.getInputElement(r);o.setValue(n),o[i.inputsCount>r?"show":"hide"](),r||this.hot._registerTimeout(()=>o.focus(),10)})}getState(){let e=this.getSelectElement().getValue()||Yl(Vn),i=[];return M(this.getInputElements(),(n,r)=>{e.inputsCount>r&&i.push(n.getValue())}),{command:e,args:i}}updateState(e,i){let n=e?Yl(e.name):Yl(Vn);this.state.setValueAtIndex(i,{command:n,args:e?e.args:[]}),e||M(this.getInputElements(),r=>r.setValue(null))}getSelectElement(){return this.elements.filter(e=>e instanceof $f)[0]}getInputElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.getInputElements()[e]}getInputElements(){return this.elements.filter(e=>e instanceof tl)}getMenuItemDescriptor(){return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:()=>this.isHidden(),renderer:(e,i,n,r,o,s)=>{ne(i.parentNode,"htFiltersMenuCondition"),this.addSeparator&&ne(i.parentNode,"border");let a=this.hot.rootDocument.createElement("div");return ne(a,"htFiltersMenuLabel"),a.textContent=s,i.appendChild(a),M(this.elements,l=>i.appendChild(l.element)),i}}}reset(){let e=this.hot.getPlugin("filters").getSelectedColumn(),i=[Yl(Vn)];if(e!==null){let{visualIndex:n}=e;i=bB(this.hot.getDataType(0,n,this.hot.countRows(),n))}M(this.getInputElements(),n=>n.hide()),this.getSelectElement().setItems(i),super.reset(),this.getSelectElement().setValue(i[0])}};function gLe(t){M(this.getInputElements(),(e,i)=>{e[t.inputsCount>i?"show":"hide"](),i===0&&this.hot._registerTimeout(()=>e.focus(),10)}),this.runLocalHooks("change",t)}function bLe(t){Rl(t.keyCode,"ESCAPE")&&(this.runLocalHooks("cancel"),Hn(t))}var XMt=w(Q(),1),QMt=w(be(),1);var GMt=w(Q(),1);function $ee(t,e,i){vLe(t,e),e.set(t,i)}function vLe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function H0(t,e){return t.get(Kee(t,e))}function qee(t,e,i){return t.set(Kee(t,e),i),i}function Kee(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var Nb=new WeakMap,SB=new WeakMap,V0=class t extends pr{static get DEFAULTS(){return qn({type:"radio",tagName:"input",className:"htUIRadio",label:{}})}constructor(e,i){super(e,hi(t.DEFAULTS,i)),$ee(this,Nb,void 0),$ee(this,SB,void 0)}build(){super.build();let e=this.hot.rootDocument.createElement("label");e.textContent=this.translateIfPossible(this.options.label.textContent),e.htmlFor=this.translateIfPossible(this.options.label.htmlFor),qee(SB,this,e),qee(Nb,this,this._element.firstChild),H0(Nb,this).checked=this.options.checked,this._element.appendChild(e),this.update()}update(){this.isBuilt()&&(H0(SB,this).textContent=this.translateIfPossible(this.options.label.textContent))}isChecked(){return this.isBuilt()?H0(Nb,this).checked:!1}setChecked(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isBuilt()&&(H0(Nb,this).checked=e)}focus(){this.isBuilt()&&H0(Nb,this).focus()}};function _Le(t,e){yLe(t,e),e.add(t)}function yLe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function wLe(t,e,i){return e=CLe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function CLe(t){var e=SLe(t,"string");return typeof e=="symbol"?e:e+""}function SLe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xLe(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var Xee=0,Qee=new WeakSet,vM=class extends el{constructor(e,i){super(e,{id:i.id,stateless:!1}),_Le(this,Qee),wLe(this,"name",""),this.name=i.name,this.buildOperatorsElement()}getMenuItemDescriptor(){return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:()=>this.isHidden(),renderer:(e,i)=>(ne(i.parentNode,"htFiltersMenuOperators"),M(this.elements,n=>i.appendChild(n.element)),i)}}buildOperatorsElement(){let e=[ua,Gf];M(e,i=>{let n=new V0(this.hot,{name:"operator",label:{htmlFor:i,textContent:Hee(i)},value:i,checked:i===e[Xee],id:i});n.addLocalHook("change",r=>xLe(Qee,this,ELe).call(this,r)),this.elements.push(n)})}setChecked(e){if(this.elements.length<e)throw Error(Dt`Radio button with index ${e} doesn't exist.`);M(this.elements,(i,n)=>{i.setChecked(n===e)})}getActiveOperationId(){let e=this.elements.find(i=>i instanceof V0&&i.isChecked());return e?e.getValue():ua}getState(){return this.getActiveOperationId()}setState(e){this.reset(),e&&this.getActiveOperationId()!==e&&M(this.elements,i=>{i.setChecked(i.getValue()===e)})}updateState(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ua,i=arguments.length>1?arguments[1]:void 0,n=e;n===Ab&&(n=Gf),this.state.setValueAtIndex(i,n)}reset(){this.setChecked(Xee)}};function ELe(t){this.setState(t.target.value)}var EAt=w(Q(),1),RAt=w(be(),1);var hAt=w(Q(),1),fAt=w(be(),1);var lAt=w(Q(),1);function RLe(t,e,i){TLe(t,e),e.set(t,i)}function TLe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function xB(t,e){return t.get(Zee(t,e))}function ILe(t,e,i){return t.set(Zee(t,e),i),i}function Zee(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var B0=new WeakMap,qf=class t extends pr{static get DEFAULTS(){return qn({href:"#",tagName:"a",tabIndex:-1,role:"button"})}constructor(e,i){super(e,hi(t.DEFAULTS,i)),RLe(this,B0,void 0)}build(){super.build(),ILe(B0,this,this._element.firstChild)}update(){this.isBuilt()&&(xB(B0,this).textContent=this.translateIfPossible(this.options.textContent))}focus(){this.isBuilt()&&xB(B0,this).focus()}activate(){xB(B0,this).click()}};function DLe(t,e){ete(t,e),e.add(t)}function Lb(t,e,i){ete(t,e),e.set(t,i)}function ete(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Lt(t,e){return t.get(Fb(t,e))}function il(t,e,i){return t.set(Fb(t,e),i),i}function Fb(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var Jee="multipleSelect.itemBox",nl=new WeakMap,Sn=new WeakMap,EB=new WeakMap,od=new WeakMap,th=new WeakMap,ih=new WeakMap,W0=new WeakSet,Kf=class t extends pr{static get DEFAULTS(){return qn({className:"htUIMultipleSelect",value:[]})}constructor(e,i){super(e,hi(t.DEFAULTS,i)),DLe(this,W0),Lb(this,nl,[]),Lb(this,Sn,void 0),Lb(this,EB,void 0),Lb(this,od,void 0),Lb(this,th,void 0),Lb(this,ih,void 0),il(od,this,new tl(this.hot,{placeholder:SC,className:"htUIMultipleSelectSearch"})),il(th,this,new qf(this.hot,{textContent:_C,className:"htUISelectAll"})),il(ih,this,new qf(this.hot,{textContent:yC,className:"htUIClearAll"})),this.registerHooks()}getItemsBox(){return Lt(Sn,this)}registerHooks(){Lt(od,this).addLocalHook("keydown",e=>Fb(W0,this,ALe).call(this,e)),Lt(od,this).addLocalHook("input",e=>Fb(W0,this,MLe).call(this,e)),Lt(th,this).addLocalHook("click",e=>Fb(W0,this,OLe).call(this,e)),Lt(ih,this).addLocalHook("click",e=>Fb(W0,this,PLe).call(this,e))}setItems(e){il(nl,this,e),Lt(Sn,this)&&Lt(Sn,this).loadData(Lt(nl,this))}setLocale(e){il(EB,this,e)}getLocale(){return Lt(EB,this)}getItems(){return[...Lt(nl,this)]}getValue(){return NLe(Lt(nl,this))}getSearchInputElement(){return Lt(od,this)}getSelectAllElement(){return Lt(th,this)}getClearAllElement(){return Lt(ih,this)}isSelectedAllValues(){return Lt(nl,this).length===this.getValue().length}build(){super.build();let{rootDocument:e}=this.hot,i=e.createElement("div"),n=new pr(this.hot,{className:"htUISelectionControls",children:[Lt(th,this),Lt(ih,this)]});this._element.appendChild(Lt(od,this).element),this._element.appendChild(n.element),this._element.appendChild(i);let r=o=>{if(!this._element)return;Lt(Sn,this)&&Lt(Sn,this).destroy(),ne(o,"htUIMultipleSelectHot"),il(Sn,this,new this.hot.constructor(o,{data:Lt(nl,this),columns:[{data:"checked",type:"checkbox",label:{property:"visualValue",position:"after"}}],beforeRenderer:(l,c,d,u,f,m)=>{l.title=m.instance.getDataAtRowProp(c,m.label.property)},afterListen:()=>{this.runLocalHooks("focus",this)},beforeOnCellMouseUp:()=>{Lt(Sn,this).listen()},colWidths:()=>Lt(Sn,this).container.scrollWidth-zi(e),maxCols:1,autoWrapCol:!0,height:110,copyPaste:!1,disableVisualSelection:"area",fillHandle:!1,fragmentSelection:"cell",tabMoves:{row:1,col:0},layoutDirection:this.hot.isRtl()?"rtl":"ltr"})),Lt(Sn,this).init();let a=Lt(Sn,this).getShortcutManager().getContext("grid");a.removeShortcutsByKeys(["Tab"]),a.removeShortcutsByKeys(["Shift","Tab"]),a.addShortcut({keys:[["Escape"]],callback:l=>{this.runLocalHooks("keydown",l,this)},group:Jee}),a.addShortcut({keys:[["Tab"],["Shift","Tab"]],callback:l=>{Lt(Sn,this).deselectCell(),this.runLocalHooks("keydown",l,this),this.runLocalHooks("listTabKeydown",l,this)},group:Jee})};r(i),this.hot._registerTimeout(()=>r(i),100)}focus(){this.isBuilt()&&Lt(Sn,this).listen()}reset(){Lt(od,this).reset(),Lt(th,this).reset(),Lt(ih,this).reset()}update(){this.isBuilt()&&(Lt(Sn,this).loadData(kLe(Lt(nl,this),this.options.value)),super.update())}destroy(){Lt(Sn,this)&&Lt(Sn,this).destroy(),Lt(od,this).destroy(),Lt(ih,this).destroy(),Lt(th,this).destroy(),il(od,this,null),il(ih,this,null),il(th,this,null),il(Sn,this,null),il(nl,this,null),super.destroy()}};function MLe(t){let e=t.target.value.toLocaleLowerCase(this.getLocale()),i;e===""?i=[...Lt(nl,this)]:i=Lt(nl,this).filter(n=>`${n.value}`.toLocaleLowerCase(this.getLocale()).indexOf(e)>=0),Lt(Sn,this).loadData(i)}function ALe(t){this.runLocalHooks("keydown",t,this),IT(Rl,t.keyCode)("ARROW_DOWN")&&(t.preventDefault(),Hn(t),Lt(Sn,this).listen(),Lt(Sn,this).selectCell(0,0))}function OLe(t){let e=[];t.preventDefault(),Lt(Sn,this).getSourceData().forEach((i,n)=>{i.checked=!0,e.push(sF(i,n)[0])}),Lt(Sn,this).setSourceDataAtCell(e)}function PLe(t){let e=[];t.preventDefault(),Lt(Sn,this).getSourceData().forEach((i,n)=>{i.checked=!1,e.push(sF(i,n)[0])}),Lt(Sn,this).setSourceDataAtCell(e)}function kLe(t,e){let i=rd(e);return t.map(n=>(n.checked=i(n.value),n))}function NLe(t){let e=[];return t.forEach(i=>{i.checked&&e.push(i.value)}),e}function LLe(t,e){FLe(t,e),e.add(t)}function FLe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function HLe(t,e,i){return e=VLe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function VLe(t){var e=BLe(t,"string");return typeof e=="symbol"?e:e+""}function BLe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _M(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var j0=new WeakSet,yM=class extends el{constructor(e,i){super(e,{id:i.id,stateless:!1}),LLe(this,j0),HLe(this,"name",""),this.name=i.name,this.elements.push(new Kf(this.hot)),this.registerHooks()}registerHooks(){this.getMultipleSelectElement().addLocalHook("keydown",e=>_M(j0,this,WLe).call(this,e)).addLocalHook("listTabKeydown",e=>this.runLocalHooks("listTabKeydown",e)),this.hot.addHook("modifyFiltersMultiSelectValue",(e,i)=>_M(j0,this,jLe).call(this,e,i))}getElements(){let e=this.getMultipleSelectElement();return[e.getSearchInputElement(),e.getSelectAllElement(),e.getClearAllElement(),this.getMultipleSelectElement()]}setState(e){if(this.reset(),e&&e.command.key===Gl){let i=this.getMultipleSelectElement();i.setItems(e.itemsSnapshot),i.setValue(e.args[0]),i.setLocale(e.locale)}}getState(){let e=this.getMultipleSelectElement(),i=e.getItems();return{command:{key:e.isSelectedAllValues()||!i.length?Vn:Gl},args:[e.getValue()],itemsSnapshot:i}}updateState(e){let i=(n,r,o,s,a)=>{let[l]=or(r,u=>u.name===Gl),c={},d=this.hot.getTranslatedPhrase(Ag);if(l){let u=s(n,a),f=ct(u,x=>x.value),m=new Map(u.map(x=>[x.value,this.hot.getCellMeta(x.meta.visualRow,x.meta.visualCol)])),g=k0(f);o&&(l.args[0]=o);let _=[],b=gB(g,l.args[0],d,x=>{x.checked&&_.push(x.value),_M(j0,this,tte).call(this,x,m)}),y=e.editedConditionStack.column;c.locale=this.hot.getCellMeta(0,y).locale,c.args=[_],c.command=Yl(Gl),c.itemsSnapshot=b}else c.args=[],c.command=Yl(Vn);this.state.setValueAtIndex(n,c)};i(e.editedConditionStack.column,e.editedConditionStack.conditions,e.conditionArgsChange,e.filteredRowsFactory),e.dependentConditionStacks.length&&i(e.dependentConditionStacks[0].column,e.dependentConditionStacks[0].conditions,e.conditionArgsChange,e.filteredRowsFactory,e.editedConditionStack)}getMultipleSelectElement(){return this.elements.filter(e=>e instanceof Kf)[0]}getMenuItemDescriptor(){return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:()=>this.isHidden(),renderer:(e,i,n,r,o,s)=>{ne(i.parentNode,"htFiltersMenuValue");let a=this.hot.rootDocument.createElement("div");return ne(a,"htFiltersMenuLabel"),a.textContent=s,i.appendChild(a),M(this.elements,l=>i.appendChild(l.element)),i}}}reset(){let e=this.hot.getTranslatedPhrase(Ag),i=this._getColumnVisibleValues(),n=i.map(l=>l.value),r=new Map(i.map(l=>[l.value,l.meta])),o=k0(n),s=gB(o,o,e,l=>{_M(j0,this,tte).call(this,l,r)});this.getMultipleSelectElement().setItems(s),super.reset(),this.getMultipleSelectElement().setValue(o);let a=this.hot.getPlugin("filters").getSelectedColumn();a!==null&&this.getMultipleSelectElement().setLocale(this.hot.getCellMeta(0,a.visualIndex).locale)}_getColumnVisibleValues(){let e=this.hot.getPlugin("filters").getSelectedColumn();return e===null?[]:ct(this.hot.getDataAtCol(e.visualIndex),(i,n)=>({value:hM(i),meta:this.hot.getCellMeta(n,e.visualIndex)}))}};function WLe(t){Rl(t.keyCode,"ESCAPE")&&(this.runLocalHooks("cancel"),Hn(t))}function tte(t,e){this.hot.hasHook("modifyFiltersMultiSelectValue")&&(t.visualValue=this.hot.runHooks("modifyFiltersMultiSelectValue",t.visualValue,e.get(t.value)))}function jLe(t,e){switch(e.type){case"numeric":return SD(t,e);default:return t}}var HAt=w(Q(),1),VAt=w(be(),1);var nte;function ULe(t,e){zLe(t,e),e.add(t)}function zLe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function YLe(t,e,i){return e=GLe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function GLe(t){var e=$Le(t,"string");return typeof e=="symbol"?e:e+""}function $Le(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qLe(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var ite=new WeakSet,U0=class t extends el{static get BUTTON_OK(){return"ok"}static get BUTTON_CANCEL(){return"cancel"}constructor(e,i){super(e,{id:i.id,stateless:!0}),ULe(this,ite),YLe(this,"name",""),this.name=i.name,this.elements.push(new tl(this.hot,{type:"button",value:wC,className:"htUIButton htUIButtonOK",identifier:t.BUTTON_OK})),this.elements.push(new tl(this.hot,{type:"button",value:CC,className:"htUIButton htUIButtonCancel",identifier:t.BUTTON_CANCEL})),this.registerHooks()}registerHooks(){M(this.elements,e=>{e.addLocalHook("click",(i,n)=>qLe(ite,this,KLe).call(this,i,n))})}getMenuItemDescriptor(){return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:()=>this.isHidden(),renderer:(e,i)=>(ne(i.parentNode,"htFiltersMenuActionBar"),M(this.elements,n=>i.appendChild(n.element)),i)}}accept(){this.runLocalHooks("accept")}cancel(){this.runLocalHooks("cancel")}};nte=U0;function KLe(t,e){e.options.identifier===nte.BUTTON_OK?this.accept():this.cancel()}var YAt=w(Q(),1),GAt=w(be(),1);function RB(t,e,i){return e=XLe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function XLe(t){var e=QLe(t,"string");return typeof e=="symbol"?e:e+""}function QLe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rte="ConditionCollection.filteringStates",wM=class{constructor(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;RB(this,"hot",void 0),RB(this,"isMapRegistrable",void 0),RB(this,"filteringStates",new kl),this.hot=e,this.isMapRegistrable=i,this.isMapRegistrable===!0?this.hot.columnIndexMapper.registerMap(rte,this.filteringStates):this.filteringStates.init(this.hot.columnIndexMapper.getNumberOfIndexes())}isEmpty(){return this.getFilteredColumns().length===0}isMatch(e,i){var n;let r=this.filteringStates.getValueAtIndex(i),o=(n=r?.conditions)!==null&&n!==void 0?n:[],s=r?.operation;return this.isMatchInConditions(o,e,s)}isMatchInConditions(e,i){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ua;return e.length?Fee(n)(e,i):!0}addCondition(e,i){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ua,r=arguments.length>3?arguments[3]:void 0,o=this.hot.getCellMeta(0,e).locale,s=ct(i.args,d=>typeof d=="string"?d.toLocaleLowerCase(o):d),a=i.name||i.command.key;this.runLocalHooks("beforeAdd",e);let l=this.getOperation(e);if(l){if(l!==n)throw Error(Dt`The column of index ${e} has been already applied with a \`${l}\`\x20
        filter operation. Use \`removeConditions\` to clear the current conditions and then add new ones.\x20
        Mind that you cannot mix different types of operations (for instance, if you use \`conjunction\`,\x20
        use it consequently for a particular column).`)}else if(Gt(Db[n]))throw new Error(Dt`Unexpected operation named \`${n}\`. Possible ones are\x20
        \`disjunction\` and \`conjunction\`.`);let c=this.getConditions(e);c.length===0?this.filteringStates.setValueAtIndex(e,{operation:n,conditions:[{name:a,args:s,func:Jo(a,s)}]},r):c.push({name:a,args:s,func:Jo(a,s)}),this.runLocalHooks("afterAdd",e)}getConditions(e){var i,n;return(i=(n=this.filteringStates.getValueAtIndex(e))===null||n===void 0?void 0:n.conditions)!==null&&i!==void 0?i:[]}getOperation(e){var i;return(i=this.filteringStates.getValueAtIndex(e))===null||i===void 0?void 0:i.operation}getFilteredColumns(){return this.filteringStates.getEntries().map(e=>{let[i]=e;return i})}getColumnStackPosition(e){return this.getFilteredColumns().indexOf(e)}exportAllConditions(){return Mi(this.filteringStates.getEntries(),(e,i)=>{let[n,{operation:r,conditions:o}]=i;return e.push({column:n,operation:r,conditions:ct(o,s=>{let{name:a,args:l}=s;return{name:a,args:l}})}),e},[])}importAllConditions(e){this.clean(),M(e,i=>{M(i.conditions,n=>this.addCondition(i.column,n))})}removeConditions(e){this.runLocalHooks("beforeRemove",e),this.filteringStates.clearValue(e),this.runLocalHooks("afterRemove",e)}clean(){this.runLocalHooks("beforeClean"),this.filteringStates.clear(),this.runLocalHooks("afterClean")}hasConditions(e,i){let n=this.getConditions(e);return i?n.some(r=>r.name===i):n.length>0}destroy(){this.isMapRegistrable&&this.hot.columnIndexMapper.unregisterMap(rte),this.filteringStates=null,this.clearLocalHooks()}};Ot(wM,Xi);var CM=wM;var nOt=w(Q(),1),rOt=w(be(),1);function ote(t,e,i){return e=ZLe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function ZLe(t){var e=JLe(t,"string");return typeof e=="symbol"?e:e+""}function JLe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var TB=class{constructor(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:()=>[];ote(this,"conditionCollection",void 0),ote(this,"columnDataFactory",void 0),this.conditionCollection=e,this.columnDataFactory=i}filter(){let e=[];return M(this.conditionCollection.getFilteredColumns(),(i,n)=>{let r=this.columnDataFactory(i);n&&(r=this._getIntersectData(r,e)),e=this.filterByColumn(i,r)}),e}filterByColumn(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=[];return M(i,r=>{r!==void 0&&this.conditionCollection.isMatch(r,e)&&n.push(r)}),n}_getIntersectData(e,i){let n=[];return M(i,r=>{let o=r.meta.visualRow;e[o]!==void 0&&(n[o]=e[o])}),n}},SM=TB;var aOt=w(Q(),1),lOt=w(be(),1);function eFe(t,e){tFe(t,e),e.add(t)}function tFe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Xf(t,e,i){return e=iFe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function iFe(t){var e=nFe(t,"string");return typeof e=="symbol"?e:e+""}function nFe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IB(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var xM=new WeakSet,EM=class{constructor(e,i){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:()=>[];eFe(this,xM),Xf(this,"hot",void 0),Xf(this,"conditionCollection",void 0),Xf(this,"columnDataFactory",void 0),Xf(this,"changes",[]),Xf(this,"grouping",!1),Xf(this,"latestEditedColumnPosition",-1),Xf(this,"latestOrderStack",[]),this.hot=e,this.conditionCollection=i,this.columnDataFactory=n,this.conditionCollection.addLocalHook("beforeRemove",r=>IB(xM,this,rFe).call(this,r)),this.conditionCollection.addLocalHook("afterRemove",r=>this.updateStatesAtColumn(r)),this.conditionCollection.addLocalHook("afterAdd",r=>this.updateStatesAtColumn(r)),this.conditionCollection.addLocalHook("beforeClean",()=>IB(xM,this,oFe).call(this)),this.conditionCollection.addLocalHook("afterClean",()=>IB(xM,this,sFe).call(this))}groupChanges(){this.grouping=!0}flush(){this.grouping=!1,M(this.changes,e=>{this.updateStatesAtColumn(e)}),this.changes.length=0}updateStatesAtColumn(e,i){var n=this;if(this.grouping){this.changes.indexOf(e)===-1&&this.changes.push(e);return}let r=this.conditionCollection.exportAllConditions(),o=this.conditionCollection.getColumnStackPosition(e);o===-1&&(o=this.latestEditedColumnPosition);let s=r.slice(0,o),a=r.slice(o);a.length&&a[0].column===e&&a.shift();let l=KX(function(d,u){let f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],m=new CM(n.hot,!1),g=[].concat(d,f);m.importAllConditions(g);let _=n.columnDataFactory(u),b;m.isEmpty()?b=_:b=new SM(m,x=>n.columnDataFactory(x)).filter(),b=ct(b,x=>x.meta.visualRow);let y=rd(b);return m.destroy(),or(_,x=>y(x.meta.visualRow))})(s),c=[].concat(this.conditionCollection.getConditions(e));this.runLocalHooks("update",{editedConditionStack:{column:e,conditions:c},dependentConditionStacks:a,filteredRowsFactory:l,conditionArgsChange:i})}destroy(){this.clearLocalHooks(),nt(this,(e,i)=>{this[i]=null})}};function rFe(t){this.latestEditedColumnPosition=this.conditionCollection.getColumnStackPosition(t)}function oFe(){this.latestOrderStack=this.conditionCollection.getFilteredColumns()}function sFe(){M(this.latestOrderStack,t=>{this.updateStatesAtColumn(t)})}Ot(EM,Xi);var ste=EM;function ate(t){return $D({initialPage:0,size:()=>t.length,onItemSelect:(i,n)=>{let r=t[i];if(r instanceof Kf)return n;if(r.element&&!Gs(r.element))return!1;r.focus()}})}var z0="filters";function lte(t,e){let i=-1,n=ate(e),r=l=>()=>{t.isOpened()&&t.getKeyboardShortcutsCtrl().listen(z0),n.setCurrentPage(e.indexOf(l))};e.forEach(l=>{l instanceof pr&&(l.addLocalHook("click",r(l)),l.addLocalHook("focus",r(l)),l.addLocalHook("afterClose",r(l)))}),t.addLocalHook("afterSelectionChange",l=>{l.key.startsWith("filter_")||n.clear()});function o(l){let c=t.getKeyboardShortcutsCtrl(),d=l.getKeyboardShortcutsCtrl();n.clear(),d.addCustomShortcuts([{keys:[["Tab"],["Shift","Tab"]],forwardToContext:c.getContext(z0),callback:()=>{l.isSubMenu()&&l.close(),c.listen(z0)}}]),!l.isSubMenu()&&c.addCustomShortcuts([{keys:[["Tab"],["Shift","Tab"]],callback:u=>{let f=t.getNavigator();f.getCurrentPage()>-1&&(i=f.getCurrentPage()),f.clear(),u.shiftKey?n.toPreviousItem():n.toNextItem()}},{keys:[["Escape"]],callback:()=>{t.close()}},{keys:[["Enter"],["Space"]],preventDefault:!1,callback:u=>{let f=e[n.getCurrentPage()];f instanceof $f&&(f.openOptions(),u.preventDefault()),f instanceof qf&&(f.activate(),u.preventDefault()),f instanceof pr||u.preventDefault()}}],z0)}t.addLocalHook("afterSubmenuOpen",o),t.addLocalHook("afterOpen",o);function s(){t.focus(),t.getKeyboardShortcutsCtrl().listen(z0)}function a(){return i}return st(ee({},n),{listen:s,getLastMenuPage:a})}function aFe(t,e){hte(t,e),e.add(t)}function lFe(t,e,i){hte(t,e),e.set(t,i)}function hte(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Y0(t,e,i){return e=cFe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function cFe(t){var e=dFe(t,"string");return typeof e=="symbol"?e:e+""}function dFe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uFe(t,e,i){return t.set(ws(t,e),i),i}function G0(t,e){return t.get(ws(t,e))}function ws(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var RM="filters",fte=250,cte=RM,Qf=new WeakMap,ha=new WeakSet,$0=class extends rt{static get PLUGIN_KEY(){return RM}static get PLUGIN_PRIORITY(){return fte}static get PLUGIN_DEPS(){return["plugin:DropdownMenu","plugin:HiddenRows","cell-type:checkbox"]}constructor(e){super(e),aFe(this,ha),Y0(this,"dropdownMenuPlugin",null),Y0(this,"conditionCollection",null),Y0(this,"conditionUpdateObserver",null),Y0(this,"components",new Map([["filter_by_condition",null],["filter_operators",null],["filter_by_condition2",null],["filter_by_value",null],["filter_action_bar",null]])),Y0(this,"filtersRowsMap",null),lFe(this,Qf,void 0),this.hot.addHook("afterGetColHeader",(i,n)=>ws(ha,this,bFe).call(this,i,n))}isEnabled(){return!!this.hot.getSettings()[RM]}enablePlugin(){if(this.enabled)return;this.filtersRowsMap=this.hot.rowIndexMapper.registerMap(this.pluginName,new ra),this.dropdownMenuPlugin=this.hot.getPlugin("dropdownMenu");let e=this.hot.getSettings().dropdownMenu,i=e&&e.uiContainer||this.hot.rootDocument.body,n=s=>(s.addLocalHook("accept",()=>ws(ha,this,dte).call(this,"accept")),s.addLocalHook("cancel",()=>ws(ha,this,dte).call(this,"cancel")),s.addLocalHook("change",a=>ws(ha,this,gFe).call(this,s,a)),s),r=()=>`${this.hot.getTranslatedPhrase(gC)}:`,o=()=>`${this.hot.getTranslatedPhrase(bC)}:`;if(!this.components.get("filter_by_condition")){let s=new kb(this.hot,{id:"filter_by_condition",name:r,addSeparator:!1,menuContainer:i});s.addLocalHook("afterClose",()=>ws(ha,this,ute).call(this)),this.components.set("filter_by_condition",n(s))}if(this.components.get("filter_operators")||this.components.set("filter_operators",new vM(this.hot,{id:"filter_operators",name:"Operators"})),!this.components.get("filter_by_condition2")){let s=new kb(this.hot,{id:"filter_by_condition2",name:"",addSeparator:!0,menuContainer:i});s.addLocalHook("afterClose",()=>ws(ha,this,ute).call(this)),this.components.set("filter_by_condition2",n(s))}if(this.components.get("filter_by_value")||this.components.set("filter_by_value",n(new yM(this.hot,{id:"filter_by_value",name:o}))),this.components.get("filter_action_bar")||this.components.set("filter_action_bar",n(new U0(this.hot,{id:"filter_action_bar",name:"Action bar"}))),this.conditionCollection||(this.conditionCollection=new CM(this.hot)),this.conditionUpdateObserver||(this.conditionUpdateObserver=new ste(this.hot,this.conditionCollection,s=>this.getDataMapAtColumn(s)),this.conditionUpdateObserver.addLocalHook("update",s=>ws(ha,this,vFe).call(this,s))),this.components.forEach(s=>s.show()),this.addHook("afterDropdownMenuDefaultOptions",s=>ws(ha,this,pFe).call(this,s)),this.addHook("afterDropdownMenuShow",()=>ws(ha,this,fFe).call(this)),this.addHook("afterDropdownMenuHide",()=>ws(ha,this,mFe).call(this)),this.addHook("afterChange",s=>ws(ha,this,hFe).call(this,s)),this.hot.getSettings().dropdownMenu&&this.dropdownMenuPlugin&&(this.dropdownMenuPlugin.disablePlugin(),this.dropdownMenuPlugin.enablePlugin()),!G0(Qf,this)&&this.dropdownMenuPlugin.enabled){let s=this.dropdownMenuPlugin.menu,a=[{focus:()=>{let c=s.getNavigator(),d=G0(Qf,this).getLastMenuPage();s.focus(),d>0?c.setCurrentPage(d):c.toFirstItem()}},...Array.from(this.components).map(c=>{let[,d]=c;return d.getElements()}).flat()];uFe(Qf,this,lte(s,a));let l=c=>{G0(Qf,this).listen(),c.preventDefault(),Rl(c.keyCode,"TAB")&&(c.shiftKey?G0(Qf,this).toPreviousItem():G0(Qf,this).toNextItem())};this.components.get("filter_by_value").addLocalHook("listTabKeydown",l),this.components.get("filter_by_condition").addLocalHook("selectTabKeydown",l)}this.registerShortcuts(),super.enablePlugin()}disablePlugin(){if(this.enabled){var e;(e=this.dropdownMenuPlugin)!==null&&e!==void 0&&e.enabled&&this.dropdownMenuPlugin.menu.clearLocalHooks(),this.components.forEach((i,n)=>{i.destroy(),this.components.set(n,null)}),this.conditionCollection.destroy(),this.conditionCollection=null,this.hot.rowIndexMapper.unregisterMap(this.pluginName)}this.unregisterShortcuts(),super.disablePlugin()}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Alt","A"]],stopPropagation:!0,callback:()=>{let e=this.hot.getSelected();this.clearConditions(),this.filter(),e&&this.hot.selectCells(e)},group:cte})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(cte)}addCondition(e,i,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:ua,o=this.hot.toPhysicalColumn(e);this.conditionCollection.addCondition(o,{command:{key:i},args:n},r)}removeConditions(e){let i=this.hot.toPhysicalColumn(e);this.conditionCollection.removeConditions(i)}clearConditions(e){if(e===void 0)this.conditionCollection.clean();else{let i=this.hot.toPhysicalColumn(e);this.conditionCollection.removeConditions(i)}}filter(){let{navigableHeaders:e}=this.hot.getSettings(),i=this._createDataFilter(),n=!this.conditionCollection.isEmpty(),r=[],o=this.conditionCollection.exportAllConditions();if(this.hot.runHooks("beforeFilter",o)!==!1)if(n){let a=[];this.hot.batchExecution(()=>{this.filtersRowsMap.clear(),r=ct(i.filter(),c=>c.meta.visualRow);let l=rd(r);Se(this.hot.countSourceRows()-1,c=>{l(c)||a.push(c)}),M(a,c=>{this.filtersRowsMap.setValueAtIndex(c,!0)})},!0),!e&&!r.length&&this.hot.deselectCell()}else this.filtersRowsMap.clear();this.hot.runHooks("afterFilter",o),this.hot.view.adjustElementsSize(),this.hot.render(),this.hot.selection.isSelected()&&this.hot.selectCell(e?-1:0,this.hot.getSelectedRangeLast().highlight.col)}getSelectedColumn(){var e;let i=(e=this.hot.getSelectedRangeLast())===null||e===void 0?void 0:e.highlight;return i?{visualIndex:i.col,physicalIndex:this.hot.toPhysicalColumn(i.col)}:null}getDataMapAtColumn(e){let i=this.hot.toVisualColumn(e),n=[];return M(this.hot.getSourceDataAtCol(i),(r,o)=>{var s;let{row:a,col:l,visualCol:c,visualRow:d,type:u,instance:f,dateFormat:m,locale:g}=this.hot.getCellMeta(o,i),_=(s=this.hot.getDataAtCell(this.hot.toVisualRow(o),i))!==null&&s!==void 0?s:r;n.push({meta:{row:a,col:l,visualCol:c,visualRow:d,type:u,instance:f,dateFormat:m,locale:g},value:hM(_)})}),n}updateValueComponentCondition(e){let i=this.hot.getDataAtCol(e),n=k0(i);this.conditionUpdateObserver.updateStatesAtColumn(e,n)}restoreComponents(e){var i;let n=(i=this.getSelectedColumn())===null||i===void 0?void 0:i.physicalIndex;e.forEach(r=>{r.isHidden()||r.restoreState(n)}),this.updateDependentComponentsVisibility()}getOperationBasedOnArguments(e,i,n,r){let o=e;return o===Gf&&i.command.key!==Vn&&n.command.key!==Vn&&r.command.key!==Vn?o=Ab:r.command.key!==Vn&&(i.command.key===Vn||n.command.key===Vn)&&(o=ua),o}setListeningDropdownMenu(){this.dropdownMenuPlugin&&this.dropdownMenuPlugin.setListening()}updateDependentComponentsVisibility(){let e=this.components.get("filter_by_condition"),{command:i}=e.getState(),n=[this.components.get("filter_by_condition2"),this.components.get("filter_operators")];i.showOperators?this.showComponents(...n):this.hideComponents(...n)}_createDataFilter(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.conditionCollection;return new SM(e,i=>this.getDataMapAtColumn(i))}getIndexesOfComponents(){let e=[];if(!this.dropdownMenuPlugin)return e;let i=this.dropdownMenuPlugin.menu;for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return M(r,s=>{M(i.menuItems,(a,l)=>{a.key===s.getMenuItemDescriptor().key&&e.push(l)})}),e}changeComponentsVisibility(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(!this.dropdownMenuPlugin)return;let n=this.dropdownMenuPlugin.menu.hotMenu,r=n.getPlugin("hiddenRows");for(var o=arguments.length,s=new Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];let l=this.getIndexesOfComponents(...s);e?r.showRows(l):r.hideRows(l),n.render()}hideComponents(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];this.changeComponentsVisibility(!1,...i)}showComponents(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];this.changeComponentsVisibility(!0,...i)}destroy(){this.enabled&&(this.components.forEach((e,i)=>{e!==null&&(e.destroy(),this.components.set(i,null))}),this.conditionCollection.destroy(),this.conditionUpdateObserver.destroy(),this.hot.rowIndexMapper.unregisterMap(this.pluginName)),super.destroy()}};function hFe(t){t&&M(t,e=>{let[,i]=e,n=this.hot.propToCol(i);this.conditionCollection.hasConditions(n)&&this.updateValueComponentCondition(n)})}function fFe(){this.restoreComponents(Array.from(this.components.values()))}function mFe(){this.components.get("filter_by_condition").getSelectElement().closeOptions(),this.components.get("filter_by_condition2").getSelectElement().closeOptions()}function pFe(t){t.items.push({name:xt}),this.components.forEach(e=>{t.items.push(e.getMenuItemDescriptor())})}function dte(t){var e;if(t==="accept"){let n=this.getSelectedColumn();if(n===null){var i;(i=this.dropdownMenuPlugin)===null||i===void 0||i.close();return}let{physicalIndex:r}=n,o=this.components.get("filter_by_condition").getState(),s=this.components.get("filter_by_condition2").getState(),a=this.components.get("filter_by_value").getState(),l=this.getOperationBasedOnArguments(this.components.get("filter_operators").getActiveOperationId(),o,s,a);this.conditionUpdateObserver.groupChanges();let c=this.conditionCollection.getColumnStackPosition(r);c===-1&&(c=void 0),this.conditionCollection.removeConditions(r),o.command.key!==Vn&&(this.conditionCollection.addCondition(r,o,l,c),s.command.key!==Vn&&this.conditionCollection.addCondition(r,s,l,c)),a.command.key!==Vn&&this.conditionCollection.addCondition(r,a,l,c),this.conditionUpdateObserver.flush(),this.components.forEach(d=>d.saveState(r)),this.filtersRowsMap.clear(),this.filter()}(e=this.dropdownMenuPlugin)===null||e===void 0||e.close()}function gFe(t,e){this.updateDependentComponentsVisibility(),t.constructor===kb&&!e.inputsCount&&this.setListeningDropdownMenu()}function ute(){this.setListeningDropdownMenu()}function bFe(t,e){let i=this.hot.toPhysicalColumn(t);this.enabled&&this.conditionCollection.hasConditions(i)?ne(e,"htFiltersActive"):tt(e,"htFiltersActive")}function vFe(t){var e;if(!((e=this.dropdownMenuPlugin)!==null&&e!==void 0&&e.enabled))return;let{editedConditionStack:{conditions:i,column:n}}=t,r=i.filter(s=>s.name===Gl),o=i.filter(s=>s.name!==Gl);if(r.length>=2||o.length>=3)zt(Dt`The filter conditions have been applied properly, but couldnt be displayed visually.\x20
        The overall amount of conditions exceed the capability of the dropdown menu.\x20
        For more details see the documentation.`);else{let s=this.conditionCollection.getOperation(n);this.components.get("filter_by_condition").updateState(o[0],n),this.components.get("filter_by_condition2").updateState(o[1],n),this.components.get("filter_operators").updateState(s,n),this.components.get("filter_by_value").updateState(t)}}var wPt=w(Q(),1),CPt=w(be(),1),SPt=w(MT(),1),xPt=w(Fi(),1),EPt=w(Hi(),1),RPt=w(Vi(),1),TPt=w(Bi(),1),IPt=w(Wi(),1),DPt=w(ji(),1),MPt=w(Ui(),1);var tPt=w(be(),1);var DB="internal-use-in-handsontable",TM={licenseKey:DB,useArrayArithmetic:!0,useColumnIndex:!1,useStats:!1,evaluateNullToZero:!0,precisionEpsilon:1e-13,precisionRounding:14,smartRounding:!0,leapYear1900:!1,nullDate:{year:1899,month:12,day:30},nullYear:30,dateFormats:["DD/MM/YYYY","DD/MM/YY"],timeFormats:["hh:mm","hh:mm:ss.sss"],matchWholeCell:!0,useRegularExpressions:!1,useWildcards:!0,functionArgSeparator:",",thousandSeparator:"",decimalSeparator:".",language:"enGB"};function mte(t){var e;return{maxColumns:t.maxColumns,maxRows:t.maxRows,language:(e=t[br])===null||e===void 0||(e=e.language)===null||e===void 0?void 0:e.langCode}}function pte(t){return Object.keys(t).reduce((e,i)=>(i!=="hyperformula"&&(e[i]=t[i]),e),{})}function gte(t){var e;let i=t[br],n=pte(i!=null&&(e=i.engine)!==null&&e!==void 0&&e.hyperformula?i.engine:{}),r=mte(t);return ee(ee(ee({},TM),n),r)}function bte(t){var e;let i=t[br],n=pte(i!=null&&(e=i.engine)!==null&&e!==void 0&&e.hyperformula?i.engine:{}),r=mte(t);return ee(ee({},n),r)}function vte(t,e){return Object.keys(e).some(i=>e[i]!==void 0&&e[i]!==t[i])}function IM(){let t="engine_relationship",e=Kn(br);return e.hasItem(t)||e.register(t,new Map),e.getItem(t)}function MB(){let t="shared_engine_usage",e=Kn(br);return e.hasItem(t)||e.register(t,new Map),e.getItem(t)}function _te(t){let e=t.getSettings(),i=e[br],n=i?.engine;if(i===!0||Gt(n))return null;if(typeof n.hyperformula=="function"||typeof n=="function"){var r;return _Fe((r=n.hyperformula)!==null&&r!==void 0?r:n,e,t)}else if(typeof n=="object"&&Gt(n.hyperformula)){let o=IM(),s=MB().get(n);return o.has(n)||o.set(n,[]),o.get(n).push(t),s&&s.push(t.guid),n.getConfig().licenseKey||n.updateConfig({licenseKey:DB}),(n.getConfig().leapYear1900!==TM.leapYear1900||rg(n.getConfig().nullDate,TM.nullDate)===!1)&&zt(Dt`If you use HyperFormula with Handsontable, keep the default \`leapYear1900\` and \`nullDate\` 
      settings. Otherwise, HyperFormula's dates may not sync correctly with Handsontable's dates.`),n}return null}function _Fe(t,e,i){let n=e[br],r=gte(e),o=IM(),s=MB();yFe(t,n.functions),wFe(t,n.language);let a=t.buildEmpty(r);return o.set(a,[i]),s.set(a,[i.guid]),CFe(a,n.namedExpressions),a.on("sheetAdded",()=>{a.rebuildAndRecalculate()}),a.on("sheetRemoved",()=>{a.rebuildAndRecalculate()}),a}function AB(t){var e;let i=IM(),n=i.size===0?[]:Array.from((e=i.get(t))!==null&&e!==void 0?e:[]);return new Map(n.map(r=>[r.getPlugin("formulas").sheetId,r]))}function OB(t,e){if(t){let i=IM(),n=i.get(t),r=MB(),o=r.get(t);n&&n.includes(e)&&(n.splice(n.indexOf(e),1),n.length===0&&i.delete(t)),o&&o.includes(e.guid)&&(o.splice(o.indexOf(e.guid),1),o.length===0&&(r.delete(t),t.destroy()))}}function yFe(t,e){e&&e.forEach(i=>{let{name:n,plugin:r,translations:o}=i;try{t.registerFunction(n,r,o)}catch(s){zt(s.message)}})}function wFe(t,e){if(e){let{langCode:i}=e;try{t.registerLanguage(i,e)}catch(n){zt(n.message)}}}function CFe(t,e){e&&(t.suspendEvaluation(),e.forEach(i=>{let{name:n,expression:r,scope:o,options:s}=i;try{t.addNamedExpression(n,r,o,s)}catch(a){zt(a.message)}}),t.resumeEvaluation())}function yte(t,e){return(Gt(e)||!t.doesSheetExist(e))&&(e=t.addSheet(e)),e}var q0=w(Jr(),1),wte="DD/MM/YYYY";function PB(t){return typeof t=="string"&&t.charAt(0)==="'"&&t.charAt(1)==="="}function Cte(t){return PB(t)?t.substr(1):t}function Ste(t){return typeof t=="string"&&t.startsWith("=")}function DM(t,e){return typeof t=="string"&&e==="date"}function kB(t,e){return(0,q0.default)(t,e,!0).isValid()}function NB(t,e){return(0,q0.default)(t,e,!0).format(wte)}function xte(t,e){return(0,q0.default)(t,wte,!0).format(e)}function LB(t,e){let n=new Date(Date.UTC(0,0,t+-1));return(0,q0.default)(n).format(e)}var vPt=w(Q(),1);var fPt=w(Q(),1),mPt=w(be(),1);var uPt=w(be(),1);function SFe(t,e,i){let n=Array.from(Array(i).keys()).filter(o=>t.includes(o)===!1);if(e===0){var r;return(r=n[e])!==null&&r!==void 0?r:0}return n[e-1]+1}function xFe(t,e){let i=[];return t.forEach(n=>{let r={from:n,to:e};i.forEach(o=>{let s=o.from>o.to,a=o.to<=r.from;o.from>r.from&&a&&s&&(r.from+=1)}),r.from>=e&&(e+=1),i.push(r)}),i}function EFe(t){return t.forEach((e,i)=>{t.slice(i+1).forEach(r=>{let o=r.from<r.to;r.from>e.from&&o&&(r.from-=1)})}),t}function K0(t,e,i){let n=xFe(t,SFe(t,e,i));return EFe(n)}function Zf(t,e,i){RFe(t,e),e.set(t,i)}function RFe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function gn(t,e){return t.get(Ete(t,e))}function nh(t,e,i){return t.set(Ete(t,e),i),i}function Ete(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var X0=new WeakMap,rh=new WeakMap,Cs=new WeakMap,MM=new WeakMap,FB=new WeakMap,HB=new WeakMap,AM=new WeakMap,VB=class{constructor(e,i,n){Zf(this,X0,void 0),Zf(this,rh,void 0),Zf(this,Cs,void 0),Zf(this,MM,[]),Zf(this,FB,[]),Zf(this,HB,void 0),Zf(this,AM,[]),nh(X0,this,e),nh(rh,this,i),nh(Cs,this,n)}setRemovedHfIndexes(e){return nh(AM,this,e.map(i=>{let n=gn(rh,this).getVisualFromPhysicalIndex(i);return this.getHfIndexFromVisualIndex(n)})),gn(AM,this)}getRemovedHfIndexes(){return gn(AM,this)}getHfIndexFromVisualIndex(e){let i=gn(rh,this).getIndexesSequence(),n=gn(rh,this).getNotTrimmedIndexes();return i.indexOf(n[e])}syncMoves(e){let n=`move${Ur(gn(X0,this))}s`;gn(Cs,this).getEngine().batch(()=>{e.forEach(r=>{let o=r.from!==r.to,s=r.from+1!==r.to;o&&s&&gn(Cs,this).getEngine()[n](gn(Cs,this).getSheetId(),r.from,1,r.to)})})}storeMovesInformation(e,i,n){n!==!1&&(nh(FB,this,e.map(r=>this.getHfIndexFromVisualIndex(r))),nh(HB,this,this.getHfIndexFromVisualIndex(i)))}calculateAndSyncMoves(e,i){if(gn(Cs,this).isPerformingUndoRedo()||e===!1||i===!1)return;let n=K0(gn(FB,this),gn(HB,this),gn(rh,this).getNumberOfIndexes());gn(Cs,this).getSheetId()===null?gn(Cs,this).getPostponeAction(()=>this.syncMoves(n)):this.syncMoves(n)}getIndexesChangeSyncMethod(){let e=`set${Ur(gn(X0,this))}Order`;return i=>{if(gn(Cs,this).isPerformingUndoRedo())return;let n=gn(rh,this).getIndexesSequence();if(i==="update"&&n.length>0){let r=gn(MM,this).map(l=>n.indexOf(l)),o=gn(Cs,this).getEngine().getSheetDimensions(gn(Cs,this).getSheetId()),s;gn(X0,this)==="row"?s=o.height:s=o.width;let a=r.length;for(let l=a;l<s;l+=1)r.push(l);gn(Cs,this).getEngine()[e](gn(Cs,this).getSheetId(),r)}nh(MM,this,n)}}init(){nh(MM,this,gn(rh,this).getIndexesSequence())}},BB=VB;function Jf(t,e,i){TFe(t,e),e.set(t,i)}function TFe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function sd(t,e){return t.get(Rte(t,e))}function em(t,e,i){return t.set(Rte(t,e),i),i}function Rte(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var OM=new WeakMap,PM=new WeakMap,WB=new WeakMap,jB=new WeakMap,UB=new WeakMap,zB=new WeakMap,YB=new WeakMap,GB=class{constructor(e,i,n){Jf(this,OM,void 0),Jf(this,PM,void 0),Jf(this,WB,void 0),Jf(this,jB,!1),Jf(this,UB,!1),Jf(this,zB,null),Jf(this,YB,null),em(OM,this,new BB("row",e,this)),em(PM,this,new BB("column",i,this)),em(WB,this,n)}getForAxis(e){return e==="row"?sd(OM,this):sd(PM,this)}setPerformUndo(e){em(jB,this,e)}setPerformRedo(e){em(UB,this,e)}isPerformingUndoRedo(){return sd(jB,this)||sd(UB,this)}getSheetId(){return sd(YB,this)}getEngine(){return sd(zB,this)}getPostponeAction(){return sd(WB,this)}setupSyncEndpoint(e,i){em(zB,this,e),em(YB,this,i),sd(OM,this).init(),sd(PM,this).init()}},Tte=GB;function IFe(t,e){Ate(t,e),e.add(t)}function Hb(t,e,i){return e=DFe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function DFe(t){var e=MFe(t,"string");return typeof e=="symbol"?e:e+""}function MFe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $B(t,e,i){Ate(t,e),e.set(t,i)}function Ate(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function oh(t,e,i){return t.set(Yi(t,e),i),i}function Vb(t,e){return t.get(Yi(t,e))}function Yi(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var br="formulas",AFe=["maxRows","maxColumns","language"],Ote=260;Ee.getSingleton().register("afterNamedExpressionAdded");Ee.getSingleton().register("afterNamedExpressionRemoved");Ee.getSingleton().register("afterSheetAdded");Ee.getSingleton().register("afterSheetRemoved");Ee.getSingleton().register("afterSheetRenamed");Ee.getSingleton().register("afterFormulasValuesUpdate");var Bb=t=>t==="UndoRedo.undo"||t==="UndoRedo.redo"||t==="auto",ad=new WeakMap,qB=new WeakMap,Q0=new WeakMap,Ji=new WeakSet,Z0=class extends rt{constructor(){var e;super(...arguments),e=this,IFe(this,Ji),$B(this,ad,!1),$B(this,qB,!1),$B(this,Q0,[["valuesUpdated",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return Yi(Ji,e,$Fe).call(e,...n)}],["namedExpressionAdded",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return Yi(Ji,e,qFe).call(e,...n)}],["namedExpressionRemoved",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return Yi(Ji,e,KFe).call(e,...n)}],["sheetAdded",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return Yi(Ji,e,XFe).call(e,...n)}],["sheetRenamed",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return Yi(Ji,e,QFe).call(e,...n)}],["sheetRemoved",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return Yi(Ji,e,ZFe).call(e,...n)}]]),Hb(this,"staticRegister",Kn("formulas")),Hb(this,"engine",null),Hb(this,"sheetName",null),Hb(this,"indexSyncer",null),Hb(this,"rowAxisSyncer",null),Hb(this,"columnAxisSyncer",null)}static get PLUGIN_KEY(){return br}static get PLUGIN_PRIORITY(){return Ote}static get SETTING_KEYS(){return[br,...AFe]}get sheetId(){return this.sheetName===null?null:this.engine.getSheetId(this.sheetName)}isEnabled(){return!!this.hot.getSettings()[br]}enablePlugin(){var e,i=this;if(!this.enabled){if(this.engine=(e=_te(this.hot))!==null&&e!==void 0?e:this.engine,!this.engine){zt("Missing the required `engine` key in the Formulas settings. Please fill it with either an engine class or an engine instance.");return}if(this.sheetName!==null&&!this.engine.doesSheetExist(this.sheetName)){let n=this.addSheet(this.sheetName,this.hot.getSourceDataArray());n!==!1&&(this.sheetName=n)}this.addHook("beforeLoadData",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Yi(Ji,i,Ite).call(i,...r)}),this.addHook("afterLoadData",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Yi(Ji,i,Dte).call(i,...r)}),this.addHook("beforeUpdateData",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Yi(Ji,i,Ite).call(i,...r)}),this.addHook("afterUpdateData",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Yi(Ji,i,Dte).call(i,...r)}),this.addHook("modifyData",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Yi(Ji,i,NFe).call(i,...r)}),this.addHook("modifySourceData",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Yi(Ji,i,LFe).call(i,...r)}),this.addHook("beforeValidate",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Yi(Ji,i,OFe).call(i,...r)}),this.addHook("afterSetSourceDataAtCell",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Yi(Ji,i,FFe).call(i,...r)}),this.addHook("afterSetDataAtCell",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Yi(Ji,i,Mte).call(i,...r)}),this.addHook("afterSetDataAtRowProp",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Yi(Ji,i,Mte).call(i,...r)}),this.addHook("beforeCreateRow",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Yi(Ji,i,HFe).call(i,...r)}),this.addHook("beforeCreateCol",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Yi(Ji,i,VFe).call(i,...r)}),this.addHook("afterCreateRow",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Yi(Ji,i,jFe).call(i,...r)}),this.addHook("afterCreateCol",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Yi(Ji,i,UFe).call(i,...r)}),this.addHook("beforeRemoveRow",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Yi(Ji,i,BFe).call(i,...r)}),this.addHook("beforeRemoveCol",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Yi(Ji,i,WFe).call(i,...r)}),this.addHook("afterRemoveRow",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Yi(Ji,i,zFe).call(i,...r)}),this.addHook("afterRemoveCol",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Yi(Ji,i,YFe).call(i,...r)}),this.indexSyncer=new Tte(this.hot.rowIndexMapper,this.hot.columnIndexMapper,n=>{this.hot.addHookOnce("init",()=>{n()})}),this.rowAxisSyncer=this.indexSyncer.getForAxis("row"),this.columnAxisSyncer=this.indexSyncer.getForAxis("column"),this.hot.addHook("afterRowSequenceChange",this.rowAxisSyncer.getIndexesChangeSyncMethod()),this.hot.addHook("afterColumnSequenceChange",this.columnAxisSyncer.getIndexesChangeSyncMethod()),this.hot.addHook("beforeRowMove",(n,r,o,s)=>{this.rowAxisSyncer.storeMovesInformation(n,r,s)}),this.hot.addHook("beforeColumnMove",(n,r,o,s)=>{this.columnAxisSyncer.storeMovesInformation(n,r,s)}),this.hot.addHook("afterRowMove",(n,r,o,s,a)=>{this.rowAxisSyncer.calculateAndSyncMoves(s,a)}),this.hot.addHook("afterColumnMove",(n,r,o,s,a)=>{this.columnAxisSyncer.calculateAndSyncMoves(s,a)}),this.hot.addHook("beforeColumnFreeze",(n,r)=>{this.columnAxisSyncer.storeMovesInformation([n],this.hot.getSettings().fixedColumnsStart,r)}),this.hot.addHook("afterColumnFreeze",(n,r)=>{this.columnAxisSyncer.calculateAndSyncMoves(r,r)}),this.hot.addHook("beforeColumnUnfreeze",(n,r)=>{this.columnAxisSyncer.storeMovesInformation([n],this.hot.getSettings().fixedColumnsStart-1,r)}),this.hot.addHook("afterColumnUnfreeze",(n,r)=>{this.columnAxisSyncer.calculateAndSyncMoves(r,r)}),this.addHook("afterCellMetaReset",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Yi(Ji,i,kFe).call(i,...r)}),this.addHook("beforeUndo",()=>{this.indexSyncer.setPerformUndo(!0),this.engine.undo()}),this.addHook("beforeRedo",()=>{this.indexSyncer.setPerformRedo(!0),this.engine.redo()}),this.addHook("afterUndo",()=>{this.indexSyncer.setPerformUndo(!1)}),this.addHook("afterUndo",()=>{this.indexSyncer.setPerformRedo(!1)}),this.addHook("afterDetachChild",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Yi(Ji,i,GFe).call(i,...r)}),this.addHook("beforeAutofill",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Yi(Ji,i,PFe).call(i,...r)}),Vb(Q0,this).forEach(n=>{let[r,o]=n;return this.engine.on(r,o)}),super.enablePlugin()}}disablePlugin(){Vb(Q0,this).forEach(e=>{let[i,n]=e;return this.engine.off(i,n)}),OB(this.engine,this.hot),this.engine=null,super.disablePlugin()}updatePlugin(e){let i=bte(this.hot.getSettings());vte(this.engine.getConfig(),i)&&this.engine.updateConfig(i);let n=this.hot.getSettings()[br];if(xe(n)&&xe(n.sheetName)&&n.sheetName!==this.sheetName&&this.switchSheet(n.sheetName),!e.data&&this.sheetName===null){let r=this.hot.getSettings()[br].sheetName;r&&this.engine.doesSheetExist(r)?this.switchSheet(this.sheetName):this.sheetName=this.addSheet(r??void 0,this.hot.getSourceDataArray())}super.updatePlugin(e)}destroy(){Vb(Q0,this).forEach(e=>{var i;let[n,r]=e;return(i=this.engine)===null||i===void 0?void 0:i.off(n,r)}),oh(Q0,this,null),OB(this.engine,this.hot),this.engine=null,super.destroy()}addSheet(e,i){if(xe(i)&&!c7(i))return zt("The provided data should be an array of arrays."),!1;if(e!=null&&this.engine.doesSheetExist(e))return zt("Sheet with the provided name already exists."),!1;try{let n=this.engine.addSheet(e??void 0);return i&&this.engine.setSheetContent(this.engine.getSheetId(n),i),n}catch(n){return zt(n.message),!1}}switchSheet(e){if(!this.engine.doesSheetExist(e)){ug(`The sheet named \`${e}\` does not exist, switch aborted.`);return}this.sheetName=e;let i=this.engine.getSheetSerialized(this.sheetId);i.length>0&&this.hot.loadData(i,`${Ur(br)}.switchSheet`)}getCellType(e,i){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.sheetId,r=this.hot.toPhysicalRow(e),o=this.hot.toPhysicalColumn(i);return r!==null&&o!==null?this.engine.getCellType({sheet:n,row:this.rowAxisSyncer.getHfIndexFromVisualIndex(e),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(i)}):"EMPTY"}isFormulaCellType(e,i){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.sheetId;return this.engine.doesCellHaveFormula({sheet:n,row:this.rowAxisSyncer.getHfIndexFromVisualIndex(e),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(i)})}renderDependentSheets(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=new Set;e.forEach(r=>{var o;let s=r==null||(o=r.address)===null||o===void 0?void 0:o.sheet;s!==void 0&&(n.has(s)||n.add(s))}),AB(this.engine).forEach((r,o)=>{if((i||o!==this.sheetId)&&n.has(o)){var s;r.render(),(s=r.view)===null||s===void 0||s.adjustElementsSize()}})}validateDependentCells(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=o=>{var s;let{row:a,col:l,sheet:c}=(s=o?.address)!==null&&s!==void 0?s:{};return xe(c)?`${c}:${a}x${l}`:""},r=new Set(i.map(o=>n(o)));e.forEach(o=>{var s,a;let{row:l,col:c}=(s=o.address)!==null&&s!==void 0?s:{};if(xe(l)===!1||xe(c)===!1||l>=this.hot.countRows()||c>=this.hot.countCols())return;let d=o==null||(a=o.address)===null||a===void 0?void 0:a.sheet,u=n(o);if(d!==void 0&&!r.has(u)){let f=AB(this.engine).get(d);if(!f)return;f.validateCell(f.getDataAtCell(l,c),f.getCellMeta(l,c),()=>{})}})}syncChangeWithEngine(e,i,n){let r={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(e),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(i),sheet:this.sheetId};if(!this.engine.isItPossibleToSetCellContents(r)){zt(`Not possible to set cell data at ${JSON.stringify(r)}`);return}let o=this.hot.getCellMeta(e,i);return DM(n,o.type)&&(kB(n,o.dateFormat)?n=NB(n,o.dateFormat):Ste(n)===!1&&(n=`'${n}`)),this.engine.setCellContents(r,n)}};function OFe(t,e,i){let n=this.hot.propToCol(i);if(this.isFormulaCellType(e,n)){let r={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(e),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(n),sheet:this.sheetId},o=this.hot.getCellMeta(e,n),s=this.engine.getCellValue(r);return o.type==="date"&&Qn(s)&&(s=LB(s,o.dateFormat)),typeof s=="object"&&s!==null?s.value:s}return t}function PFe(t,e,i){let{row:n,col:r}=e.getTopStartCorner(),{row:o,col:s}=e.getBottomEndCorner(),{row:a,col:l}=i.getTopStartCorner(),{row:c,col:d}=i.getBottomEndCorner(),u={start:{row:this.rowAxisSyncer.getHfIndexFromVisualIndex(n),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(r),sheet:this.sheetId},end:{row:this.rowAxisSyncer.getHfIndexFromVisualIndex(o),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(s),sheet:this.sheetId}},f={start:{row:this.rowAxisSyncer.getHfIndexFromVisualIndex(a),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(l),sheet:this.sheetId},end:{row:this.rowAxisSyncer.getHfIndexFromVisualIndex(c),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(d),sheet:this.sheetId}};if(this.engine.isItPossibleToSetCellContents(f)===!1)return!1;let m=this.engine.getFillRangeData(u,f),{row:g,col:_}=u.start,{row:b,col:y}=u.end,x=b-g+1,T=y-_+1;for(let O=0;O<m.length;O+=1)for(let P=0;P<m[O].length;P+=1){let V=m[O][P],F=O%x,k=P%T,Z=this.hot.getCellMeta(F,k);DM(V,Z.type)&&(V.startsWith("'")?m[O][P]=V.slice(1):this.isFormulaCellType(F,k,this.sheetId)===!1&&(m[O][P]=xte(V,Z.dateFormat)))}return m}function Ite(t,e){(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"").includes(Ur(br))||oh(qB,this,Gt(this.hot.getSettings().data))}function kFe(){let t=this.hot.getSourceDataArray(),e=!1;t.forEach((i,n)=>{i.forEach((r,o)=>{let s=this.hot.getCellMeta(n,o),a=s.dateFormat;DM(r,s.type)&&(e=!0,kB(r,a)?t[n][o]=NB(r,a):this.isFormulaCellType(n,o)===!1&&(t[n][o]=`'${r}`))})}),e===!0&&(oh(ad,this,!0),this.engine.setSheetContent(this.sheetId,t),oh(ad,this,!1))}function Dte(t,e){if(!(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"").includes(Ur(br)))if(this.sheetName=yte(this.engine,this.hot.getSettings()[br].sheetName),Vb(qB,this))this.switchSheet(this.sheetName);else{let n=this.hot.getSourceDataArray();if(this.engine.isItPossibleToReplaceSheetContent(this.sheetId,n)){oh(ad,this,!0);let r=this.engine.setSheetContent(this.sheetId,n);this.indexSyncer.setupSyncEndpoint(this.engine,this.sheetId),this.renderDependentSheets(r),oh(ad,this,!1)}}}function NFe(t,e,i,n){if(n!=="get"||Vb(ad,this)||this.sheetName===null||!this.engine.doesSheetExist(this.sheetName))return;let r=this.hot.toVisualRow(t);if(r===null||e===null)return;if(!this.isFormulaCellType(r,e)&&this.getCellType(r,e)!=="ARRAY"){PB(i.value)&&(i.value=Cte(i.value));return}let s={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(r),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(e),sheet:this.sheetId},a=this.engine.getCellValue(s),l=this.hot.getCellsMeta().find(d=>d.visualRow===r&&d.visualCol===e);l===void 0&&(l={}),l.type==="date"&&Qn(a)&&(a=LB(a,l.dateFormat));let c=typeof a=="object"&&a!==null?a.value:a;i.value=c}function LFe(t,e,i,n){if(n!=="get"||Vb(ad,this)||this.sheetName===null||!this.engine.doesSheetExist(this.sheetName))return;let r=this.hot.toVisualRow(t),o=this.hot.propToCol(e);if(r===null||o===null||!this.isFormulaCellType(r,o)&&this.getCellType(r,o)!=="ARRAY")return;let a=this.engine.getSheetDimensions(this.engine.getSheetId(this.sheetName));if(a.width===0&&a.height===0)return;let l={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(r),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(o),sheet:this.sheetId};i.value=this.engine.getCellSerialized(l)}function Mte(t,e){if(Bb(e))return;let i=[],n=[],r=this.engine.batch(()=>{t.forEach(o=>{let[s,a,,l]=o,c=this.hot.propToCol(a),d=this.hot.toPhysicalRow(s),u=this.hot.toPhysicalColumn(c),f={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(s),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(c),sheet:this.sheetId};d!==null&&u!==null?this.syncChangeWithEngine(s,c,l):i.push([s,c,l]),n.push({address:f})})});i.length&&this.hot.addHookOnce("afterChange",()=>{let o=this.engine.batch(()=>{i.forEach(s=>{let[a,l,c]=s;this.syncChangeWithEngine(a,l,c)})});this.renderDependentSheets(o,!0)}),this.renderDependentSheets(r),this.validateDependentCells(r,n)}function FFe(t,e){if(Bb(e))return;let i=[],n=[];t.forEach(r=>{let[o,s,,a]=r,l=this.hot.propToCol(s);if(!Qn(l))return;let c={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(o),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(l),sheet:this.sheetId};if(!this.engine.isItPossibleToSetCellContents(c)){zt(`Not possible to set source cell data at ${JSON.stringify(c)}`);return}n.push({address:c}),i.push(...this.engine.setCellContents(c,a))}),this.renderDependentSheets(i),this.validateDependentCells(i,n)}function HFe(t,e){let i=this.rowAxisSyncer.getHfIndexFromVisualIndex(t);if(t>=this.hot.countRows()&&(i=t),this.sheetId===null||!this.engine.doesSheetExist(this.sheetName)||!this.engine.isItPossibleToAddRows(this.sheetId,[i,e]))return!1}function VFe(t,e){let i=this.columnAxisSyncer.getHfIndexFromVisualIndex(t);if(t>=this.hot.countCols()&&(i=t),this.sheetId===null||!this.engine.doesSheetExist(this.sheetName)||!this.engine.isItPossibleToAddColumns(this.sheetId,[i,e]))return!1}function BFe(t,e,i){return this.rowAxisSyncer.setRemovedHfIndexes(i).every(o=>this.engine.isItPossibleToRemoveRows(this.sheetId,[o,1]))===!1?!1:void 0}function WFe(t,e,i){return this.columnAxisSyncer.setRemovedHfIndexes(i).every(o=>this.engine.isItPossibleToRemoveColumns(this.sheetId,[o,1]))===!1?!1:void 0}function jFe(t,e,i){if(Bb(i))return;let n=this.engine.addRows(this.sheetId,[this.rowAxisSyncer.getHfIndexFromVisualIndex(t),e]);this.renderDependentSheets(n)}function UFe(t,e,i){if(Bb(i))return;let n=this.engine.addColumns(this.sheetId,[this.columnAxisSyncer.getHfIndexFromVisualIndex(t),e]);this.renderDependentSheets(n)}function zFe(t,e,i,n){if(Bb(n))return;let r=this.rowAxisSyncer.getRemovedHfIndexes().sort((s,a)=>a-s),o=this.engine.batch(()=>{r.forEach(s=>{this.engine.removeRows(this.sheetId,[s,1])})});this.renderDependentSheets(o)}function YFe(t,e,i,n){if(Bb(n))return;let r=this.columnAxisSyncer.getRemovedHfIndexes().sort((s,a)=>a-s),o=this.engine.batch(()=>{r.forEach(s=>{this.engine.removeColumns(this.sheetId,[s,1])})});this.renderDependentSheets(o)}function GFe(t,e,i){var n;oh(ad,this,!0);let r=this.hot.getSourceDataArray(i,0,i+(((n=e.__children)===null||n===void 0?void 0:n.length)||0),this.hot.countSourceCols());oh(ad,this,!1),r.forEach((o,s)=>{o.forEach((a,l)=>{this.engine.setCellContents({col:l,row:i+s,sheet:this.sheetId},[[a]])})})}function $Fe(t){this.hot.runHooks("afterFormulasValuesUpdate",t)}function qFe(t,e){this.hot.runHooks("afterNamedExpressionAdded",t,e)}function KFe(t,e){this.hot.runHooks("afterNamedExpressionRemoved",t,e)}function XFe(t){this.hot.runHooks("afterSheetAdded",t)}function QFe(t,e){this.sheetName=e,this.hot.runHooks("afterSheetRenamed",t,e)}function ZFe(t,e){this.hot.runHooks("afterSheetRemoved",t,e)}var QPt=w(Q(),1),ZPt=w(be(),1),JPt=w(Fi(),1),ekt=w(Hi(),1),tkt=w(Vi(),1),ikt=w(Bi(),1),nkt=w(Wi(),1),rkt=w(ji(),1),okt=w(Ui(),1);var GPt=w(be(),1);function KB(t){return{key:"hidden_columns_hide",name(){let e=this.getSelectedLast(),i=0;if(Array.isArray(e)){let[,n,,r]=e;n-r!==0&&(i=1)}return this.getTranslatedPhrase($w,i)},callback(){let{from:e,to:i}=this.getSelectedRangeLast(),n=Math.max(Math.min(e.col,i.col),0),r=Math.max(e.col,i.col),o=[];for(let l=n;l<=r;l+=1)o.push(l);t.hideColumns(o);let s=o[o.length-1],a=this.columnIndexMapper.getNearestNotHiddenIndex(s,1,!0);Number.isInteger(a)&&a>=0?this.selectColumns(a):this.deselectCell(),this.render(),this.view.adjustElementsSize()},disabled:!1,hidden(){return!(this.selection.isSelectedByColumnHeader()||this.selection.isSelectedByCorner())}}}var qPt=w(be(),1);function XB(t){let e=[];return{key:"hidden_columns_show",name(){let i=e.length>1?1:0;return this.getTranslatedPhrase(qw,i)},callback(){var i,n;if(e.length===0)return;let r=e[0],o=e[e.length-1];r=(i=this.columnIndexMapper.getNearestNotHiddenIndex(r-1,-1))!==null&&i!==void 0?i:0,o=(n=this.columnIndexMapper.getNearestNotHiddenIndex(o+1,1))!==null&&n!==void 0?n:this.countCols()-1,t.showColumns(e),this.render(),this.view.adjustElementsSize(),o-r+1===this.countCols()||this.selectColumns(r,o)},disabled:!1,hidden(){let i=ct(t.getHiddenColumns(),u=>this.toPhysicalColumn(u));if(!(this.selection.isSelectedByColumnHeader()||this.selection.isSelectedByCorner())||i.length<1)return!0;e.length=0;let n=this.getSelectedRangeLast(),r=n.getTopStartCorner().col,o=n.getBottomEndCorner().col,s=this.columnIndexMapper,a=s.getRenderableFromVisualIndex(r),l=s.getRenderableFromVisualIndex(o),c=s.getNotTrimmedIndexes(),d=[];if(r!==o){let u=o-r+1,f=l-a+1;if(u>f){let m=c.slice(r,o+1);d.push(...m.filter(g=>i.includes(g)))}}else if(a===0&&a<r)d.push(...c.slice(0,r));else if(a===null)d.push(...c.slice(0,this.countCols()));else{let u=this.countCols()-1,f=s.getRenderableFromVisualIndex(s.getNearestNotHiddenIndex(u,-1));l===f&&u>o&&d.push(...c.slice(o+1))}return M(d,u=>{e.push(this.toVisualColumn(u))}),e.length===0}}}function JFe(t,e){kte(t,e),e.add(t)}function Pte(t,e,i){kte(t,e),e.set(t,i)}function kte(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ss(t,e){return t.get(sh(t,e))}function J0(t,e,i){return t.set(sh(t,e),i),i}function sh(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}Ee.getSingleton().register("beforeHideColumns");Ee.getSingleton().register("afterHideColumns");Ee.getSingleton().register("beforeUnhideColumns");Ee.getSingleton().register("afterUnhideColumns");var kM="hiddenColumns",Nte=310,ql=new WeakMap,$l=new WeakMap,tm=new WeakSet,eS=class extends rt{constructor(){super(...arguments),JFe(this,tm),Pte(this,ql,{}),Pte(this,$l,null)}static get PLUGIN_KEY(){return kM}static get PLUGIN_PRIORITY(){return Nte}isEnabled(){return!!this.hot.getSettings()[kM]}enablePlugin(){var e=this;if(this.enabled)return;let i=this.hot.getSettings()[kM];it(i)&&(J0(ql,this,i),Gt(i.copyPasteEnabled)&&(i.copyPasteEnabled=!0)),J0($l,this,new Pl),Ss($l,this).addLocalHook("init",()=>sh(tm,this,oHe).call(this)),this.hot.columnIndexMapper.registerMap(this.pluginName,Ss($l,this)),this.addHook("afterContextMenuDefaultOptions",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return sh(tm,e,rHe).call(e,...r)}),this.addHook("afterGetCellMeta",(n,r,o)=>sh(tm,this,tHe).call(this,n,r,o)),this.addHook("modifyColWidth",(n,r)=>sh(tm,this,eHe).call(this,n,r),2),this.addHook("afterGetColHeader",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return sh(tm,e,nHe).call(e,...r)}),this.addHook("modifyCopyableRange",n=>sh(tm,this,iHe).call(this,n)),super.enablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.hot.columnIndexMapper.unregisterMap(this.pluginName),J0(ql,this,{}),super.disablePlugin(),this.resetCellsMeta()}showColumns(e){let i=this.getHiddenColumns(),n=this.isValidConfig(e),r=i,o=Ss($l,this).getValues().slice(),s=e.length>0;if(n&&s){let l=e.map(c=>this.hot.toPhysicalColumn(c));M(l,c=>{o[c]=!1}),r=Mi(o,(c,d,u)=>(d&&c.push(this.hot.toVisualColumn(u)),c),[])}this.hot.runHooks("beforeUnhideColumns",i,r,n&&s)!==!1&&(n&&s&&Ss($l,this).setValues(o),this.hot.view.adjustElementsSize(),this.hot.runHooks("afterUnhideColumns",i,r,n&&s,n&&r.length<i.length))}showColumn(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];this.showColumns(i)}hideColumns(e){let i=this.getHiddenColumns(),n=this.isValidConfig(e),r=i;n&&(r=Array.from(new Set(i.concat(e)))),this.hot.runHooks("beforeHideColumns",i,r,n)!==!1&&(n&&this.hot.batchExecution(()=>{M(e,s=>{Ss($l,this).setValueAtIndex(this.hot.toPhysicalColumn(s),!0)})},!0),this.hot.runHooks("afterHideColumns",i,r,n,n&&r.length>i.length))}hideColumn(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];this.hideColumns(i)}getHiddenColumns(){return ct(Ss($l,this).getHiddenIndexes(),e=>this.hot.toVisualColumn(e))}isHidden(e){return Ss($l,this).getValueAtIndex(this.hot.toPhysicalColumn(e))||!1}isValidConfig(e){let i=this.hot.countCols();return Array.isArray(e)&&e.length>0?e.every(n=>Number.isInteger(n)&&n>=0&&n<i):!1}resetCellsMeta(){M(this.hot.getCellsMeta(),e=>{e&&(e.skipColumnOnPaste=!1)})}destroy(){J0(ql,this,null),J0($l,this,null),super.destroy()}};function eHe(t,e){if(this.isHidden(e))return 0;if(Ss(ql,this).indicators&&(this.isHidden(e+1)||this.isHidden(e-1))&&typeof t=="number"&&this.hot.hasColHeaders())return t+15}function tHe(t,e,i){if(Ss(ql,this).copyPasteEnabled===!1&&this.isHidden(e)&&(i.skipColumnOnPaste=!0),this.isHidden(e-1))i.className=i.className||"",i.className.indexOf("afterHiddenColumn")===-1&&(i.className+=" afterHiddenColumn");else if(i.className){let n=i.className.split(" ");if(n.length>0){let r=n.indexOf("afterHiddenColumn");r>-1&&n.splice(r,1),i.className=n.join(" ")}}}function iHe(t){if(Ss(ql,this).copyPasteEnabled)return t;let e=[],i=(n,r,o,s)=>{e.push({startRow:n,endRow:r,startCol:o,endCol:s})};return M(t,n=>{let r=!0,o=0;Se(n.startCol,n.endCol,s=>{this.isHidden(s)?(r||i(n.startRow,n.endRow,o,s-1),r=!0):(r&&(o=s),s===n.endCol&&i(n.startRow,n.endRow,o,s),r=!1)})}),e}function nHe(t,e){if(!Ss(ql,this).indicators||t<0)return;let i=[];t>=1&&this.isHidden(t-1)&&i.push("afterHiddenColumn"),t<this.hot.countCols()-1&&this.isHidden(t+1)&&i.push("beforeHiddenColumn"),ne(e,i)}function rHe(t){t.items.push({name:xt},KB(this),XB(this))}function oHe(){Array.isArray(Ss(ql,this).columns)&&this.hideColumns(Ss(ql,this).columns)}var Ekt=w(Q(),1),Rkt=w(be(),1),Tkt=w(Fi(),1),Ikt=w(Hi(),1),Dkt=w(Vi(),1),Mkt=w(Bi(),1),Akt=w(Wi(),1),Okt=w(ji(),1),Pkt=w(Ui(),1);var ykt=w(be(),1);function QB(t){return{key:"hidden_rows_hide",name(){let e=this.getSelectedLast(),i=0;if(Array.isArray(e)){let[n,,r]=e;n-r!==0&&(i=1)}return this.getTranslatedPhrase(Kw,i)},callback(){let{from:e,to:i}=this.getSelectedRangeLast(),n=Math.max(Math.min(e.row,i.row),0),r=Math.max(e.row,i.row),o=[];for(let l=n;l<=r;l+=1)o.push(l);t.hideRows(o);let s=o[o.length-1],a=this.rowIndexMapper.getNearestNotHiddenIndex(s,1,!0);Number.isInteger(a)&&a>=0?this.selectRows(a):this.deselectCell(),this.render(),this.view.adjustElementsSize()},disabled:!1,hidden(){return!(this.selection.isSelectedByRowHeader()||this.selection.isSelectedByCorner())}}}var Ckt=w(be(),1);function ZB(t){let e=[];return{key:"hidden_rows_show",name(){let i=e.length>1?1:0;return this.getTranslatedPhrase(Xw,i)},callback(){var i,n;if(e.length===0)return;let r=e[0],o=e[e.length-1];r=(i=this.rowIndexMapper.getNearestNotHiddenIndex(r-1,-1))!==null&&i!==void 0?i:0,o=(n=this.rowIndexMapper.getNearestNotHiddenIndex(o+1,1))!==null&&n!==void 0?n:this.countRows()-1,t.showRows(e),this.render(),this.view.adjustElementsSize(),o-r+1===this.countRows()||this.selectRows(r,o)},disabled:!1,hidden(){let i=ct(t.getHiddenRows(),u=>this.toPhysicalRow(u));if(!(this.selection.isSelectedByRowHeader()||this.selection.isSelectedByCorner())||i.length<1)return!0;e.length=0;let n=this.getSelectedRangeLast(),r=n.getTopStartCorner().row,o=n.getBottomEndCorner().row,s=this.rowIndexMapper,a=s.getRenderableFromVisualIndex(r),l=s.getRenderableFromVisualIndex(o),c=s.getNotTrimmedIndexes(),d=[];if(r!==o){let u=o-r+1,f=l-a+1;if(u>f){let m=c.slice(r,o+1);d.push(...m.filter(g=>i.includes(g)))}}else if(a===0&&a<r)d.push(...c.slice(0,r));else if(a===null)d.push(...c.slice(0,this.countRows()));else{let u=this.countRows()-1,f=s.getRenderableFromVisualIndex(s.getNearestNotHiddenIndex(u,-1));l===f&&u>o&&d.push(...c.slice(o+1))}return M(d,u=>{e.push(this.toVisualRow(u))}),e.length===0}}}function sHe(t,e){Fte(t,e),e.add(t)}function Lte(t,e,i){Fte(t,e),e.set(t,i)}function Fte(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function fa(t,e){return t.get(ah(t,e))}function tS(t,e,i){return t.set(ah(t,e),i),i}function ah(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}Ee.getSingleton().register("beforeHideRows");Ee.getSingleton().register("afterHideRows");Ee.getSingleton().register("beforeUnhideRows");Ee.getSingleton().register("afterUnhideRows");var NM="hiddenRows",Hte=320,ld=new WeakMap,Kl=new WeakMap,im=new WeakSet,iS=class extends rt{constructor(){super(...arguments),sHe(this,im),Lte(this,ld,{}),Lte(this,Kl,null)}static get PLUGIN_KEY(){return NM}static get PLUGIN_PRIORITY(){return Hte}isEnabled(){return!!this.hot.getSettings()[NM]}enablePlugin(){var e=this;if(this.enabled)return;let i=this.hot.getSettings()[NM];it(i)&&(tS(ld,this,i),Gt(i.copyPasteEnabled)&&(i.copyPasteEnabled=!0)),tS(Kl,this,new Pl),fa(Kl,this).addLocalHook("init",()=>ah(im,this,hHe).call(this)),this.hot.rowIndexMapper.registerMap(this.pluginName,fa(Kl,this)),this.addHook("afterContextMenuDefaultOptions",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return ah(im,e,uHe).call(e,...r)}),this.addHook("afterGetCellMeta",(n,r,o)=>ah(im,this,lHe).call(this,n,r,o)),this.addHook("modifyRowHeight",(n,r)=>ah(im,this,aHe).call(this,n,r)),this.addHook("afterGetRowHeader",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return ah(im,e,dHe).call(e,...r)}),this.addHook("modifyCopyableRange",n=>ah(im,this,cHe).call(this,n)),super.enablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.hot.rowIndexMapper.unregisterMap(this.pluginName),tS(ld,this,{}),super.disablePlugin(),this.resetCellsMeta()}showRows(e){let i=this.getHiddenRows(),n=this.isValidConfig(e),r=i,o=fa(Kl,this).getValues().slice(),s=e.length>0;if(n&&s){let l=e.map(c=>this.hot.toPhysicalRow(c));M(l,c=>{o[c]=!1}),r=Mi(o,(c,d,u)=>(d&&c.push(this.hot.toVisualRow(u)),c),[])}this.hot.runHooks("beforeUnhideRows",i,r,n&&s)!==!1&&(n&&s&&fa(Kl,this).setValues(o),this.hot.runHooks("afterUnhideRows",i,r,n&&s,n&&r.length<i.length))}showRow(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];this.showRows(i)}hideRows(e){let i=this.getHiddenRows(),n=this.isValidConfig(e),r=i;n&&(r=Array.from(new Set(i.concat(e)))),this.hot.runHooks("beforeHideRows",i,r,n)!==!1&&(n&&this.hot.batchExecution(()=>{M(e,s=>{fa(Kl,this).setValueAtIndex(this.hot.toPhysicalRow(s),!0)})},!0),this.hot.runHooks("afterHideRows",i,r,n,n&&r.length>i.length))}hideRow(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];this.hideRows(i)}getHiddenRows(){return ct(fa(Kl,this).getHiddenIndexes(),e=>this.hot.toVisualRow(e))}isHidden(e){return fa(Kl,this).getValueAtIndex(this.hot.toPhysicalRow(e))||!1}isValidConfig(e){let i=this.hot.countRows();return Array.isArray(e)&&e.length>0?e.every(n=>Number.isInteger(n)&&n>=0&&n<i):!1}resetCellsMeta(){M(this.hot.getCellsMeta(),e=>{e&&(e.skipRowOnPaste=!1)})}destroy(){tS(ld,this,null),tS(Kl,this,null),super.destroy()}};function aHe(t,e){return this.isHidden(e)?0:t}function lHe(t,e,i){if(fa(ld,this).copyPasteEnabled===!1&&this.isHidden(t)&&(i.skipRowOnPaste=!0),this.isHidden(t-1))i.className=i.className||"",i.className.indexOf("afterHiddenRow")===-1&&(i.className+=" afterHiddenRow");else if(i.className){let n=i.className.split(" ");if(n.length>0){let r=n.indexOf("afterHiddenRow");r>-1&&n.splice(r,1),i.className=n.join(" ")}}}function cHe(t){if(fa(ld,this).copyPasteEnabled)return t;let e=[],i=(n,r,o,s)=>{e.push({startRow:n,endRow:r,startCol:o,endCol:s})};return M(t,n=>{let r=!0,o=0;Se(n.startRow,n.endRow,s=>{this.isHidden(s)?(r||i(o,s-1,n.startCol,n.endCol),r=!0):(r&&(o=s),s===n.endRow&&i(o,s,n.startCol,n.endCol),r=!1)})}),e}function dHe(t,e){if(!fa(ld,this).indicators||t<0)return;let i=[];t>=1&&this.isHidden(t-1)&&i.push("afterHiddenRow"),t<this.hot.countRows()-1&&this.isHidden(t+1)&&i.push("beforeHiddenRow"),ne(e,i)}function uHe(t){t.items.push({name:xt},QB(this),ZB(this))}function hHe(){Array.isArray(fa(ld,this).rows)&&this.hideRows(fa(ld,this).rows)}var Xkt=w(Q(),1),Qkt=w(be(),1);function JB(t){return{key:"freeze_column",name(){return this.getTranslatedPhrase(Sw)},callback(e,i){let[{start:{col:n}}]=i;t.freezeColumn(n),this.render(),this.view.adjustElementsSize()},hidden(){let e=this.getSelectedRange(),i=!1;return(e===void 0||e.length>1||e[0].from.col!==e[0].to.col||e[0].from.col<=this.getSettings().fixedColumnsStart-1)&&(i=!0),i}}}function eW(t){return{key:"unfreeze_column",name(){return this.getTranslatedPhrase(xw)},callback(e,i){let[{start:{col:n}}]=i;t.unfreezeColumn(n),this.render(),this.view.adjustElementsSize()},hidden(){let e=this.getSelectedRange(),i=!1;return(e===void 0||e.length>1||e[0].from.col!==e[0].to.col||e[0].from.col>=this.getSettings().fixedColumnsStart)&&(i=!0),i}}}function fHe(t,e){Vte(t,e),e.add(t)}function mHe(t,e,i){Vte(t,e),e.set(t,i)}function Vte(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function nW(t,e){return t.get(LM(t,e))}function tW(t,e,i){return t.set(LM(t,e),i),i}function LM(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}Ee.getSingleton().register("beforeColumnFreeze");Ee.getSingleton().register("afterColumnFreeze");Ee.getSingleton().register("beforeColumnUnfreeze");Ee.getSingleton().register("afterColumnUnfreeze");var rW="manualColumnFreeze",Bte=110,nm=new WeakMap,iW=new WeakSet,nS=class extends rt{constructor(){super(...arguments),fHe(this,iW),mHe(this,nm,!1)}static get PLUGIN_KEY(){return rW}static get PLUGIN_PRIORITY(){return Bte}isEnabled(){return!!this.hot.getSettings()[rW]}enablePlugin(){this.enabled||(this.addHook("afterContextMenuDefaultOptions",e=>LM(iW,this,pHe).call(this,e)),this.addHook("beforeColumnMove",(e,i)=>LM(iW,this,gHe).call(this,e,i)),super.enablePlugin())}disablePlugin(){tW(nm,this,!1),super.disablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}freezeColumn(e){let i=this.hot.getSettings(),n=i.fixedColumnsStart<this.hot.countCols()&&e>i.fixedColumnsStart-1;nW(nm,this)||tW(nm,this,!0),this.hot.runHooks("beforeColumnFreeze",e,n)!==!1&&(n&&(this.hot.columnIndexMapper.moveIndexes(e,i.fixedColumnsStart),i._fixedColumnsStart+=1),this.hot.runHooks("afterColumnFreeze",e,n))}unfreezeColumn(e){let i=this.hot.getSettings(),n=i.fixedColumnsStart>0&&e<=i.fixedColumnsStart-1;nW(nm,this)||tW(nm,this,!0),this.hot.runHooks("beforeColumnUnfreeze",e,n)!==!1&&(n&&(i._fixedColumnsStart-=1,this.hot.columnIndexMapper.moveIndexes(e,i.fixedColumnsStart)),this.hot.runHooks("afterColumnUnfreeze",e,n))}};function pHe(t){t.items.push({name:"---------"},JB(this),eW(this))}function gHe(t,e){if(nW(nm,this)){let i=this.hot.getSettings().fixedColumnsStart;if(e<i||t.some(n=>n<i))return!1}}var p1t=w(Q(),1),g1t=w(be(),1);var o1t=w(Q(),1);function FM(t,e,i){return e=bHe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function bHe(t){var e=vHe(t,"string");return typeof e=="symbol"?e:e+""}function vHe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oW=0,Wte=1,jte=2,Wb="px",sW=class{constructor(e){FM(this,"hot",void 0),FM(this,"_element",null),FM(this,"state",oW),FM(this,"inlineProperty",void 0),this.hot=e,this.inlineProperty=e.isRtl()?"right":"left"}appendTo(e){e.appendChild(this._element),this.state=jte}build(){this.state===oW&&(this._element=this.hot.rootDocument.createElement("div"),this.state=Wte)}destroy(){this.isAppended()&&this._element.parentElement.removeChild(this._element),this._element=null,this.state=oW}isAppended(){return this.state===jte}isBuilt(){return this.state>=Wte}setPosition(e,i){Qn(e)&&(this._element.style.top=e+Wb),Qn(i)&&(this._element.style[this.inlineProperty]=i+Wb)}getPosition(){let e=this._element.style;return{top:e.top?parseInt(e.top,10):0,start:e[this.inlineProperty]?parseInt(e[this.inlineProperty],10):0}}setSize(e,i){Qn(e)&&(this._element.style.width=e+Wb),Qn(i)&&(this._element.style.height=i+Wb)}getSize(){return{width:this._element.style.width?parseInt(this._element.style.width,10):0,height:this._element.style.height?parseInt(this._element.style.height,10):0}}setOffset(e,i){Qn(e)&&(this._element.style.marginTop=e+Wb),Qn(i)&&(this._element.style[`margin${Ur(this.inlineProperty)}`]=i+Wb)}getOffset(){let e=this._element.style,i=`margin${Ur(this.inlineProperty)}`;return{top:e.marginTop?parseInt(e.marginTop,10):0,start:e[i]?parseInt(e[i],10):0}}},HM=sW;var _He="ht__manualColumnMove--backlight",aW=class extends HM{build(){super.build(),ne(this._element,_He)}},Ute=aW;var yHe="ht__manualColumnMove--guideline",lW=class extends HM{build(){super.build(),ne(this._element,yHe)}},zte=lW;function wHe(t,e){Gte(t,e),e.add(t)}function rl(t,e,i){Gte(t,e),e.set(t,i)}function Gte(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function es(t,e,i){return t.set(lh(t,e),i),i}function ot(t,e){return t.get(lh(t,e))}function lh(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}Ee.getSingleton().register("beforeColumnMove");Ee.getSingleton().register("afterColumnMove");var BM="manualColumnMove",$te=120,Yte="ht__manualColumnMove",jM="show-ui",cW="on-moving--columns",dW="after-selection--columns",To=new WeakMap,ch=new WeakMap,cd=new WeakMap,WM=new WeakMap,dh=new WeakMap,Ro=new WeakMap,VM=new WeakMap,ma=new WeakMap,jb=new WeakMap,UM=new WeakMap,rS=new WeakMap,rm=new WeakSet,oS=class extends rt{constructor(){super(...arguments),wHe(this,rm),rl(this,To,new Ute(this.hot)),rl(this,ch,new zte(this.hot)),rl(this,cd,[]),rl(this,WM,0),rl(this,dh,!1),rl(this,Ro,{}),rl(this,VM,void 0),rl(this,ma,void 0),rl(this,jb,void 0),rl(this,UM,void 0),rl(this,rS,void 0)}static get PLUGIN_KEY(){return BM}static get PLUGIN_PRIORITY(){return $te}isEnabled(){return!!this.hot.getSettings()[BM]}enablePlugin(){var e=this;this.enabled||(this.addHook("beforeOnCellMouseDown",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return lh(rm,e,CHe).call(e,...n)}),this.addHook("beforeOnCellMouseOver",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return lh(rm,e,xHe).call(e,...n)}),this.addHook("afterScrollVertically",()=>lh(rm,this,RHe).call(this)),this.addHook("afterLoadData",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return lh(rm,e,THe).call(e,...n)}),this.buildPluginUI(),this.registerEvents(),ne(this.hot.rootElement,Yte),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),this.moveBySettingsOrLoad(),super.updatePlugin()}disablePlugin(){tt(this.hot.rootElement,Yte),this.unregisterEvents(),ot(To,this).destroy(),ot(ch,this).destroy(),super.disablePlugin()}moveColumn(e,i){return this.moveColumns([e],i)}moveColumns(e,i){let n=ot(VM,this),r=this.isMovePossible(e,i),o=this.hot.runHooks("beforeColumnMove",e,i,n,r);if(es(VM,this,void 0),o===!1)return;r&&this.hot.columnIndexMapper.moveIndexes(e,i);let s=r&&this.isColumnOrderChanged(e,i);return this.hot.runHooks("afterColumnMove",e,i,n,r,s),s}dragColumn(e,i){return this.dragColumns([e],i)}dragColumns(e,i){let n=this.countFinalIndex(e,i);return es(VM,this,i),this.moveColumns(e,n)}isMovePossible(e,i){let n=this.hot.columnIndexMapper.getNotTrimmedIndexesLength(),r=e.length+i>n,o=i<0,s=e.some(l=>l<0),a=e.some(l=>l>=n);return!(r||o||s||a)}isColumnOrderChanged(e,i){return e.some((n,r)=>n-r!==i)}countFinalIndex(e,i){let n=Mi(e,(r,o)=>(o<i&&(r+=1),r),0);return i-n}getColumnsWidth(e,i){let n=this.hot.columnIndexMapper,r=0;for(let o=e;o<=i;o+=1){let s=n.getRenderableFromVisualIndex(o);o<0?r+=this.hot.view._wt.wtViewport.getRowHeaderWidth()||0:s!==null&&(r+=this.hot.view._wt.wtTable.getStretchedColumnWidth(s)||0)}return r}moveBySettingsOrLoad(){let e=this.hot.getSettings()[BM];if(Array.isArray(e))this.moveColumns(e,0);else if(e!==void 0){let i=this.persistentStateLoad();i.length&&this.moveColumns(i,0)}}isFixedColumnsStart(e){return e<this.hot.getSettings().fixedColumnsStart}persistentStateSave(){this.hot.runHooks("persistentStateSave","manualColumnMove",this.hot.columnIndexMapper.getIndexesSequence())}persistentStateLoad(){let e={};return this.hot.runHooks("persistentStateLoad","manualColumnMove",e),e.value?e.value:[]}prepareColumnsToMoving(e,i){let n=[];return Se(e,i,r=>{n.push(r)}),n}refreshPositions(){let e=this.hot.view.getFirstFullyVisibleColumn();this.isFixedColumnsStart(ot(ma,this))&&e>0&&this.hot.scrollViewportTo({col:this.hot.columnIndexMapper.getNearestNotHiddenIndex(e-1,-1)});let i=this.hot.view._wt.wtTable,n=this.hot.view._wt.wtOverlays.scrollableElement,r=typeof n.scrollX=="number"?n.scrollX:n.scrollLeft,o=this.hot.view.THEAD.offsetLeft+this.getColumnsWidth(0,ot(ma,this)-1),s=i.hider.offsetWidth,a=i.TBODY.offsetLeft,l=ot(To,this).getOffset().start,c=ot(To,this).getSize().width,d=0,u=0;if(this.hot.isRtl()){let g=this.hot.rootWindow,_=$t(this.hot.rootElement),b=g.innerWidth-ot(jb,this)-_;u=g.innerWidth-ot(Ro,this).eventPageX-b-(n.scrollX===void 0?r:0)}else u=ot(Ro,this).eventPageX-(ot(jb,this)-(n.scrollX===void 0?r:0));if(ot(UM,this)&&(d=this.hot.view._wt.wtOverlays.inlineStartOverlay.clone.wtTable.getColumnHeader(-1).offsetWidth),this.isFixedColumnsStart(ot(ma,this))&&(o+=r),o+=d,ot(ma,this)<0)ot(rS,this)>0?ot(Ro,this).col=0:ot(Ro,this).col=e>0?e-1:e;else if(ot(Ro,this).TD.offsetWidth/2+o<=u){let g=ot(ma,this)>=ot(WM,this)?ot(WM,this)-1:ot(ma,this);ot(Ro,this).col=g+1,o+=ot(Ro,this).TD.offsetWidth}else ot(Ro,this).col=ot(ma,this);let f=u,m=o;u+c+l>=s?f=s-c-l:u+l<a+d&&(f=a+d+Math.abs(l)),o>=s-1?m=s-1:m===0?m=1:n.scrollX!==void 0&&ot(ma,this)<ot(rS,this)&&(m-=ot(jb,this)<=n.scrollX?ot(jb,this):0),ot(To,this).setPosition(null,f),ot(ch,this).setPosition(null,m)}registerEvents(){let{documentElement:e}=this.hot.rootDocument;this.eventManager.addEventListener(e,"mousemove",i=>lh(rm,this,SHe).call(this,i)),this.eventManager.addEventListener(e,"mouseup",()=>lh(rm,this,EHe).call(this))}unregisterEvents(){this.eventManager.clear()}buildPluginUI(){ot(To,this).build(),ot(ch,this).build()}destroy(){ot(To,this).destroy(),ot(ch,this).destroy(),super.destroy()}};function CHe(t,e,i,n){let r=this.hot.view._wt.wtTable,o=this.hot.selection.isSelectedByColumnHeader(),s=this.hot.getSelectedRangeLast(),a=Fe(t.target,"sortAction");if(!s||!o||ot(dh,this)||t.button!==0||a){es(dh,this,!1),ot(cd,this).length=0,tt(this.hot.rootElement,[cW,jM]);return}let l=ot(ch,this).isBuilt()&&!ot(ch,this).isAppended(),c=ot(To,this).isBuilt()&&!ot(To,this).isAppended();l&&c&&(ot(ch,this).appendTo(r.hider),ot(To,this).appendTo(r.hider));let{from:d,to:u}=s,f=Math.min(d.col,u.col),m=Math.max(d.col,u.col);if(e.row<0&&e.col>=f&&e.col<=m){n.column=!0,es(dh,this,!0);let g=i.firstChild?y6(t,i.firstChild).x:t.offsetX;ot(Ro,this).eventPageX=t.pageX,es(ma,this,e.col),ot(Ro,this).TD=i,ot(Ro,this).col=e.col,es(cd,this,this.prepareColumnsToMoving(f,m)),es(UM,this,!!this.hot.getSettings().rowHeaders),es(WM,this,this.hot.countCols()),es(rS,this,this.hot.getSettings().fixedColumnsStart),es(jb,this,rn(this.hot.rootElement).left);let _=ot(UM,this)?-1:0,b=r.holder.scrollTop+r.getColumnHeaderHeight(0)+1,y=e.col<ot(rS,this),x=this.hot.view._wt.wtOverlays.inlineStartOverlay.getOverlayOffset(),T=Math.abs(g-(this.hot.isRtl()?i.offsetWidth:0)),O=this.getColumnsWidth(f,e.col-1)+T,P=this.getColumnsWidth(_,f-1)+(y?x:0)+O;ot(To,this).setPosition(b,P),ot(To,this).setSize(this.getColumnsWidth(f,m),r.hider.offsetHeight-b),ot(To,this).setOffset(null,-O),ne(this.hot.rootElement,cW)}else tt(this.hot.rootElement,dW),es(dh,this,!1),ot(cd,this).length=0}function SHe(t){ot(dh,this)&&(ot(Ro,this).eventPageX=t.pageX,this.refreshPositions())}function xHe(t,e,i,n){!this.hot.getSelectedRangeLast()||!ot(dh,this)||(ot(cd,this).indexOf(e.col)>-1?tt(this.hot.rootElement,jM):ne(this.hot.rootElement,jM),n.row=!0,n.column=!0,n.cell=!0,es(ma,this,e.col),ot(Ro,this).TD=i)}function EHe(){let t=ot(Ro,this).col,e=ot(cd,this).length;if(es(ma,this,void 0),es(dh,this,!1),tt(this.hot.rootElement,[cW,jM,dW]),this.hot.selection.isSelectedByColumnHeader()&&ne(this.hot.rootElement,dW),e<1||t===void 0)return;let i=ot(cd,this)[0],n=this.hot.toPhysicalColumn(i),r=this.dragColumns(ot(cd,this),t);if(ot(cd,this).length=0,r===!0){this.persistentStateSave(),this.hot.render(),this.hot.view.adjustElementsSize();let o=this.hot.toVisualColumn(n),s=o+e-1;this.hot.selectColumns(o,s)}}function RHe(){let t=this.hot.view._wt.wtTable,e=t.getColumnHeaderHeight(0)+1,i=t.holder.scrollTop,n=e+i;ot(To,this).setPosition(n),ot(To,this).setSize(null,t.hider.offsetHeight-n)}function THe(){this.moveBySettingsOrLoad()}var I1t=w(Q(),1),D1t=w(be(),1);function IHe(t,e){Kte(t,e),e.add(t)}function co(t,e,i){Kte(t,e),e.set(t,i)}function Kte(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Bn(t,e,i){return t.set(ol(t,e),i),i}function We(t,e){return t.get(ol(t,e))}function ol(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var cS="manualColumnResize",Xte=130,qte="manualColumnWidths",ud=new WeakMap,zM=new WeakMap,xs=new WeakMap,GM=new WeakMap,Ql=new WeakMap,DHe=new WeakMap,Ub=new WeakMap,YM=new WeakMap,ts=new WeakMap,dd=new WeakMap,om=new WeakMap,$M=new WeakMap,sS=new WeakMap,aS=new WeakMap,Es=new WeakMap,lS=new WeakMap,Xl=new WeakSet,dS=class extends rt{static get PLUGIN_KEY(){return cS}static get PLUGIN_PRIORITY(){return Xte}constructor(e){super(e),IHe(this,Xl),co(this,ud,null),co(this,zM,null),co(this,xs,[]),co(this,GM,null),co(this,Ql,null),co(this,DHe,null),co(this,Ub,null),co(this,YM,null),co(this,ts,this.hot.rootDocument.createElement("DIV")),co(this,dd,this.hot.rootDocument.createElement("DIV")),co(this,om,null),co(this,$M,!1),co(this,sS,0),co(this,aS,null),co(this,Es,void 0),co(this,lS,void 0),ne(We(ts,this),"manualColumnResizer"),ne(We(dd,this),"manualColumnResizerGuide")}get inlineDir(){return this.hot.isRtl()?"right":"left"}isEnabled(){return this.hot.getSettings()[cS]}enablePlugin(){this.enabled||(Bn(Es,this,new Mr),We(Es,this).addLocalHook("init",()=>ol(Xl,this,MHe).call(this)),this.hot.columnIndexMapper.registerMap(this.pluginName,We(Es,this)),this.addHook("modifyColWidth",(e,i)=>ol(Xl,this,LHe).call(this,e,i),1),this.addHook("beforeStretchingColumnWidth",(e,i)=>ol(Xl,this,FHe).call(this,e,i)),this.addHook("beforeColumnResize",(e,i,n)=>ol(Xl,this,HHe).call(this,e,i,n)),this.bindEvents(),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){Bn(lS,this,We(Es,this).getValues()),this.hot.columnIndexMapper.unregisterMap(this.pluginName),super.disablePlugin()}saveManualColumnWidths(){this.hot.runHooks("persistentStateSave",qte,We(Es,this).getValues())}loadManualColumnWidths(){let e={};return this.hot.runHooks("persistentStateLoad",qte,e),e.value}setManualSize(e,i){let n=Math.max(i,20),r=this.hot.toPhysicalColumn(e);return We(Es,this).setValueAtIndex(r,n),n}clearManualSize(e){let i=this.hot.toPhysicalColumn(e);We(Es,this).setValueAtIndex(i,null)}setupHandlePosition(e){if(!e.parentNode)return;Bn(ud,this,e);let{_wt:i}=this.hot.view,n=i.wtTable.getCoords(We(ud,this)),r=n.col;if(r<0)return;let o=si(We(ud,this)),s=We(ud,this).getBoundingClientRect(),a=r<i.getSetting("fixedColumnsStart"),l;a&&(l=i.wtOverlays.topInlineStartCornerOverlay.getRelativeCellPosition(We(ud,this),n.row,n.col)),l||(l=i.wtOverlays.topOverlay.getRelativeCellPosition(We(ud,this),n.row,n.col)),Bn(zM,this,this.hot.columnIndexMapper.getVisualFromRenderableIndex(r)),Bn(xs,this,[]);let c=this.hot.selection.isSelectedByCorner()||this.hot.selection.isSelectedByColumnHeader();if(this.hot.selection.isSelected()&&c){let d=this.hot.getSelectedRange();M(d,u=>{let f=u.getTopStartCorner().col,m=u.getBottomEndCorner().col;Se(f,m,g=>{We(xs,this).includes(g)||We(xs,this).push(g)})})}We(xs,this).includes(We(zM,this))||Bn(xs,this,[We(zM,this)]),Bn(YM,this,l.start-6),Bn(Ub,this,parseInt(s.width,10)),We(ts,this).style.top=`${l.top}px`,We(ts,this).style[this.inlineDir]=`${We(YM,this)+We(Ub,this)}px`,We(ts,this).style.height=`${o}px`,this.hot.rootElement.appendChild(We(ts,this))}refreshHandlePosition(){We(ts,this).style[this.inlineDir]=`${We(YM,this)+We(GM,this)}px`}setupGuidePosition(){let e=parseInt(si(We(ts,this)),10),i=parseInt(We(ts,this).style.top,10)+e,n=parseInt(this.hot.view.maximumVisibleElementHeight(0),10);ne(We(ts,this),"active"),ne(We(dd,this),"active"),We(dd,this).style.top=`${i}px`,this.refreshGuidePosition(),We(dd,this).style.height=`${n-e}px`,this.hot.rootElement.appendChild(We(dd,this))}refreshGuidePosition(){We(dd,this).style[this.inlineDir]=We(ts,this).style[this.inlineDir]}hideHandleAndGuide(){tt(We(ts,this),"active"),tt(We(dd,this),"active")}checkIfColumnHeader(e){let i=Fa(e,["THEAD"],this.hot.rootElement),{topOverlay:n,topInlineStartCornerOverlay:r}=this.hot.view._wt.wtOverlays;return[n.clone.wtTable.THEAD,r.clone.wtTable.THEAD].includes(i)}getClosestTHParent(e){return e.tagName!=="TABLE"?e.tagName==="TH"?e:this.getClosestTHParent(e.parentNode):null}afterMouseDownTimeout(){let e=()=>{this.hot.forceFullRender=!0,this.hot.view.render(),this.hot.view.adjustElementsSize()},i=(n,r)=>{let o=this.hot.runHooks("beforeColumnResize",We(Ql,this),n,!0);o!==void 0&&Bn(Ql,this,o),this.hot.getSettings().stretchH==="all"?this.clearManualSize(n):this.setManualSize(n,We(Ql,this)),this.saveManualColumnWidths(),this.hot.runHooks("afterColumnResize",We(Ql,this),n,!0),r&&e()};We(sS,this)>=2&&(We(xs,this).length>1?(M(We(xs,this),r=>{i(r)}),e()):M(We(xs,this),r=>{i(r,!0)})),Bn(sS,this,0),Bn(aS,this,null)}bindEvents(){let{rootWindow:e,rootElement:i}=this.hot;this.eventManager.addEventListener(i,"mouseover",n=>ol(Xl,this,AHe).call(this,n)),this.eventManager.addEventListener(i,"mousedown",n=>ol(Xl,this,OHe).call(this,n)),this.eventManager.addEventListener(e,"mousemove",n=>ol(Xl,this,PHe).call(this,n)),this.eventManager.addEventListener(e,"mouseup",()=>ol(Xl,this,kHe).call(this)),this.eventManager.addEventListener(We(ts,this),"contextmenu",()=>ol(Xl,this,NHe).call(this))}destroy(){super.destroy()}};function MHe(){let t=this.hot.getSettings()[cS],e=this.loadManualColumnWidths();typeof e<"u"?this.hot.batchExecution(()=>{e.forEach((i,n)=>{We(Es,this).setValueAtIndex(n,i)})},!0):Array.isArray(t)?(this.hot.batchExecution(()=>{t.forEach((i,n)=>{We(Es,this).setValueAtIndex(n,i)})},!0),Bn(lS,this,t)):t===!0&&Array.isArray(We(lS,this))&&this.hot.batchExecution(()=>{We(lS,this).forEach((i,n)=>{We(Es,this).setValueAtIndex(n,i)})},!0)}function AHe(t){if(!TT(t.target)&&We($M,this)!==!0&&this.checkIfColumnHeader(t.target)){let e=this.getClosestTHParent(t.target);if(!e)return;let i=e.getAttribute("colspan");e&&(i===null||i==="1")&&(We(om,this)||this.setupHandlePosition(e))}}function OHe(t){t.target.parentNode===this.hot.rootElement&&Fe(t.target,"manualColumnResizer")&&(this.setupHandlePosition(We(ud,this)),this.setupGuidePosition(),Bn(om,this,!0),We(aS,this)===null&&(Bn(aS,this,setTimeout(()=>this.afterMouseDownTimeout(),500)),this.hot._registerTimeout(We(aS,this))),Bn(sS,this,We(sS,this)+1),this.startX=t.pageX,Bn(Ql,this,We(Ub,this)))}function PHe(t){if(We(om,this)){let e=(t.pageX-this.startX)*this.hot.getDirectionFactor();Bn(GM,this,We(Ub,this)+e),M(We(xs,this),i=>{Bn(Ql,this,this.setManualSize(i,We(GM,this)))}),this.refreshHandlePosition(),this.refreshGuidePosition()}}function kHe(){let t=()=>{this.hot.forceFullRender=!0,this.hot.view.render(),this.hot.view.adjustElementsSize()},e=(i,n)=>{this.hot.runHooks("beforeColumnResize",We(Ql,this),i,!1),n&&t(),this.saveManualColumnWidths(),this.hot.runHooks("afterColumnResize",We(Ql,this),i,!1)};We(om,this)&&(this.hideHandleAndGuide(),Bn(om,this,!1),We(Ql,this)!==We(Ub,this)&&(We(xs,this).length>1?(M(We(xs,this),n=>{e(n)}),t()):M(We(xs,this),n=>{e(n,!0)})),this.setupHandlePosition(We(ud,this)))}function NHe(){this.hideHandleAndGuide(),this.hot.rootElement.removeChild(We(ts,this)),this.hot.rootElement.removeChild(We(dd,this)),Bn(om,this,!1),Bn($M,this,!0),this.hot._registerImmediate(()=>{Bn($M,this,!1)})}function LHe(t,e){let i=t;if(this.enabled){let n=this.hot.toPhysicalColumn(e),r=We(Es,this).getValueAtIndex(n);this.hot.getSettings()[cS]&&r&&(i=r)}return i}function FHe(t,e){let i=We(Es,this).getValueAtIndex(e);return i===null&&(i=t),i}function HHe(){this.hot.view._wt.wtViewport.resetHasOversizedColumnHeadersMarked()}var G1t=w(Q(),1),$1t=w(be(),1);var H1t=w(Q(),1);function uW(t,e,i){return e=VHe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function VHe(t){var e=BHe(t,"string");return typeof e=="symbol"?e:e+""}function BHe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hW=0,Qte=1,Zte=2,zb="px",fW=class{constructor(e){uW(this,"hot",void 0),uW(this,"_element",null),uW(this,"state",hW),this.hot=e}appendTo(e){e.appendChild(this._element),this.state=Zte}build(){this.state===hW&&(this._element=this.hot.rootDocument.createElement("div"),this.state=Qte)}destroy(){this.isAppended()&&this._element.parentElement.removeChild(this._element),this._element=null,this.state=hW}isAppended(){return this.state===Zte}isBuilt(){return this.state>=Qte}setPosition(e,i){e!==void 0&&(this._element.style.top=e+zb),i!==void 0&&(this._element.style.left=i+zb)}getPosition(){return{top:this._element.style.top?parseInt(this._element.style.top,10):0,left:this._element.style.left?parseInt(this._element.style.left,10):0}}setSize(e,i){e&&(this._element.style.width=e+zb),i&&(this._element.style.height=i+zb)}getSize(){return{width:this._element.style.width?parseInt(this._element.style.width,10):0,height:this._element.style.height?parseInt(this._element.style.height,10):0}}setOffset(e,i){e&&(this._element.style.marginTop=e+zb),i&&(this._element.style.marginLeft=i+zb)}getOffset(){return{top:this._element.style.marginTop?parseInt(this._element.style.marginTop,10):0,left:this._element.style.marginLeft?parseInt(this._element.style.marginLeft,10):0}}},qM=fW;var WHe="ht__manualRowMove--backlight",mW=class extends qM{build(){super.build(),ne(this._element,WHe)}},Jte=mW;var jHe="ht__manualRowMove--guideline",pW=class extends qM{build(){super.build(),ne(this._element,jHe)}},eie=pW;function UHe(t,e){iie(t,e),e.add(t)}function Yb(t,e,i){iie(t,e),e.set(t,i)}function iie(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function am(t,e,i){return t.set(uh(t,e),i),i}function Ht(t,e){return t.get(uh(t,e))}function uh(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}Ee.getSingleton().register("beforeRowMove");Ee.getSingleton().register("afterRowMove");var XM="manualRowMove",nie=140,tie="ht__manualRowMove",QM="show-ui",gW="on-moving--rows",bW="after-selection--rows",Io=new WeakMap,hh=new WeakMap,hd=new WeakMap,fh=new WeakMap,is=new WeakMap,KM=new WeakMap,sm=new WeakSet,uS=class extends rt{constructor(){super(...arguments),UHe(this,sm),Yb(this,Io,new Jte(this.hot)),Yb(this,hh,new eie(this.hot)),Yb(this,hd,[]),Yb(this,fh,void 0),Yb(this,is,{}),Yb(this,KM,void 0)}static get PLUGIN_KEY(){return XM}static get PLUGIN_PRIORITY(){return nie}isEnabled(){return!!this.hot.getSettings()[XM]}enablePlugin(){var e=this;this.enabled||(this.addHook("beforeOnCellMouseDown",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return uh(sm,e,zHe).call(e,...n)}),this.addHook("beforeOnCellMouseOver",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return uh(sm,e,GHe).call(e,...n)}),this.addHook("afterScrollHorizontally",()=>uh(sm,this,qHe).call(this)),this.addHook("afterLoadData",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return uh(sm,e,KHe).call(e,...n)}),this.buildPluginUI(),this.registerEvents(),ne(this.hot.rootElement,tie),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),this.moveBySettingsOrLoad(),super.updatePlugin()}disablePlugin(){tt(this.hot.rootElement,tie),this.unregisterEvents(),Ht(Io,this).destroy(),Ht(hh,this).destroy(),super.disablePlugin()}moveRow(e,i){return this.moveRows([e],i)}moveRows(e,i){let n=Ht(KM,this),r=this.isMovePossible(e,i),o=this.hot.runHooks("beforeRowMove",e,i,n,r);if(am(KM,this,void 0),o===!1)return;r&&this.hot.rowIndexMapper.moveIndexes(e,i);let s=r&&this.isRowOrderChanged(e,i);return this.hot.runHooks("afterRowMove",e,i,n,r,s),s}dragRow(e,i){return this.dragRows([e],i)}dragRows(e,i){let n=this.countFinalIndex(e,i);return am(KM,this,i),this.moveRows(e,n)}isMovePossible(e,i){let n=this.hot.rowIndexMapper.getNotTrimmedIndexesLength(),r=e.length+i>n,o=i<0,s=e.some(l=>l<0),a=e.some(l=>l>=n);return!(r||o||s||a)}isRowOrderChanged(e,i){return e.some((n,r)=>n-r!==i)}countFinalIndex(e,i){let n=Mi(e,(r,o)=>(o<i&&(r+=1),r),0);return i-n}getRowsHeight(e,i){let n=this.hot.rowIndexMapper,r=0;for(let o=e;o<=i;o++){let s=n.getRenderableFromVisualIndex(o);s!==null&&(r+=this.hot.view._wt.wtTable.getRowHeight(s)||23)}return r}moveBySettingsOrLoad(){let e=this.hot.getSettings()[XM];if(Array.isArray(e))this.moveRows(e,0);else if(e!==void 0){let i=this.persistentStateLoad();i.length&&this.moveRows(i,0)}}isFixedRowTop(e){return e<this.hot.getSettings().fixedRowsTop}isFixedRowBottom(e){return e>this.hot.countRows()-1-this.hot.getSettings().fixedRowsBottom}persistentStateSave(){this.hot.runHooks("persistentStateSave","manualRowMove",this.hot.rowIndexMapper.getIndexesSequence())}persistentStateLoad(){let e={};return this.hot.runHooks("persistentStateLoad","manualRowMove",e),e.value?e.value:[]}prepareRowsToMoving(){let e=this.hot.getSelectedRangeLast(),i=[];if(!e)return i;let{from:n,to:r}=e,o=Math.min(n.row,r.row),s=Math.max(n.row,r.row);return Se(o,s,a=>{i.push(a)}),i}refreshPositions(){let e=Ht(is,this).coords,i=this.hot.view.getFirstFullyVisibleRow(),n=this.hot.view.getLastFullyVisibleRow(),r=this.hot.countRows();this.isFixedRowTop(e.row)&&i>0&&this.hot.scrollViewportTo(this.hot.rowIndexMapper.getNearestNotHiddenIndex(i-1,-1)),this.isFixedRowBottom(e.row)&&n<r&&this.hot.scrollViewportTo(this.hot.rowIndexMapper.getNearestNotHiddenIndex(n+1,1),void 0,!0);let o=this.hot.view._wt.wtTable,s=Ht(is,this).TD,a=this.hot.rootElement,l=rn(a),c=Va(a),d=o.holder.scrollTop,u=this.hot.rootWindow!==c?c.scrollTop:0,f=l.top-u,m=Ht(is,this).eventPageY-f+d,g=o.hider.offsetHeight,_=o.TBODY.offsetTop,b=Ht(Io,this).getOffset().top,y=Ht(Io,this).getSize().height,x=s.offsetHeight/2,T=s.offsetHeight,O=this.hot.view.THEAD.offsetHeight+this.getRowsHeight(0,e.row-1),P=m>=O+x;this.isFixedRowTop(e.row)&&(O+=this.hot.view._wt.wtOverlays.topOverlay.getOverlayOffset()),e.row<0?Ht(is,this).row=i>0?i-1:i:P?(Ht(is,this).row=e.row+1,O+=e.row===0?T-1:T):Ht(is,this).row=e.row;let V=m,F=O;m+y+b>=g?V=g-y-b:m+b<_&&(V=_+Math.abs(b)),O>=g-1&&(F=g-1),Ht(Io,this).setPosition(V),Ht(hh,this).setPosition(F)}registerEvents(){let{documentElement:e}=this.hot.rootDocument;this.eventManager.addEventListener(e,"mousemove",i=>uh(sm,this,YHe).call(this,i)),this.eventManager.addEventListener(e,"mouseup",()=>uh(sm,this,$He).call(this))}unregisterEvents(){this.eventManager.clear()}buildPluginUI(){Ht(Io,this).build(),Ht(hh,this).build()}destroy(){Ht(Io,this).destroy(),Ht(hh,this).destroy(),super.destroy()}};function zHe(t,e,i,n){let{wtTable:r,wtViewport:o}=this.hot.view._wt,s=this.hot.selection.isSelectedByRowHeader(),a=this.hot.getSelectedRangeLast();if(!a||!s||Ht(fh,this)||t.button!==0){am(fh,this,!1),Ht(hd,this).length=0,tt(this.hot.rootElement,[gW,QM]);return}let l=Ht(hh,this).isBuilt()&&!Ht(hh,this).isAppended(),c=Ht(Io,this).isBuilt()&&!Ht(Io,this).isAppended();l&&c&&(Ht(hh,this).appendTo(r.hider),Ht(Io,this).appendTo(r.hider));let{from:d,to:u}=a,f=Math.min(d.row,u.row),m=Math.max(d.row,u.row);if(e.col<0&&e.row>=f&&e.row<=m){n.row=!0,am(fh,this,!0),Ht(is,this).eventPageY=t.pageY,Ht(is,this).coords=e,Ht(is,this).TD=i,am(hd,this,this.prepareRowsToMoving());let g=r.holder.scrollLeft+o.getRowHeaderWidth(),_=this.getRowsHeight(f,e.row-1)+t.offsetY;Ht(Io,this).setPosition(null,g),Ht(Io,this).setSize(r.hider.offsetWidth-g,this.getRowsHeight(f,m)),Ht(Io,this).setOffset(-_,null),ne(this.hot.rootElement,gW),this.refreshPositions()}else tt(this.hot.rootElement,bW),am(fh,this,!1),Ht(hd,this).length=0}function YHe(t){Ht(fh,this)&&(Ht(is,this).eventPageY=t.pageY,this.refreshPositions())}function GHe(t,e,i,n){!this.hot.getSelectedRangeLast()||!Ht(fh,this)||(Ht(hd,this).indexOf(e.row)>-1?tt(this.hot.rootElement,QM):ne(this.hot.rootElement,QM),n.row=!0,n.column=!0,n.cell=!0,Ht(is,this).coords=e,Ht(is,this).TD=i)}function $He(){let t=Ht(is,this).row,e=Ht(hd,this).length;if(am(fh,this,!1),tt(this.hot.rootElement,[gW,QM,bW]),this.hot.selection.isSelectedByRowHeader()&&ne(this.hot.rootElement,bW),e<1||t===void 0)return;let i=Ht(hd,this)[0],n=this.hot.toPhysicalRow(i),r=this.dragRows(Ht(hd,this),t);if(Ht(hd,this).length=0,r===!0){this.persistentStateSave(),this.hot.render(),this.hot.view.adjustElementsSize();let o=this.hot.toVisualRow(n),s=o+e-1;this.hot.selectRows(o,s)}}function qHe(){let t=this.hot.view._wt.wtTable,e=this.hot.view._wt.wtViewport.getRowHeaderWidth(),i=t.holder.scrollLeft,n=e+i;Ht(Io,this).setPosition(null,n),Ht(Io,this).setSize(t.hider.offsetWidth-n)}function KHe(){this.moveBySettingsOrLoad()}var rNt=w(Q(),1),oNt=w(be(),1);function XHe(t,e){oie(t,e),e.add(t)}function uo(t,e,i){oie(t,e),e.set(t,i)}function oie(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Mn(t,e,i){return t.set(fd(t,e),i),i}function He(t,e){return t.get(fd(t,e))}function fd(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var gS="manualRowResize",sie=30,rie="manualRowHeights",Jl=new WeakMap,ZM=new WeakMap,Rs=new WeakMap,hS=new WeakMap,ph=new WeakMap,vW=new WeakMap,Gb=new WeakMap,JM=new WeakMap,Do=new WeakMap,Zl=new WeakMap,lm=new WeakMap,eA=new WeakMap,fS=new WeakMap,mS=new WeakMap,sl=new WeakMap,pS=new WeakMap,mh=new WeakSet,bS=class extends rt{static get PLUGIN_KEY(){return gS}static get PLUGIN_PRIORITY(){return sie}constructor(e){super(e),XHe(this,mh),uo(this,Jl,null),uo(this,ZM,null),uo(this,Rs,[]),uo(this,hS,null),uo(this,ph,null),uo(this,vW,null),uo(this,Gb,null),uo(this,JM,null),uo(this,Do,this.hot.rootDocument.createElement("DIV")),uo(this,Zl,this.hot.rootDocument.createElement("DIV")),uo(this,lm,!1),uo(this,eA,!1),uo(this,fS,0),uo(this,mS,null),uo(this,sl,void 0),uo(this,pS,void 0),ne(He(Do,this),"manualRowResizer"),ne(He(Zl,this),"manualRowResizerGuide")}get inlineDir(){return this.hot.isRtl()?"right":"left"}isEnabled(){return this.hot.getSettings()[gS]}enablePlugin(){this.enabled||(Mn(sl,this,new Mr),He(sl,this).addLocalHook("init",()=>fd(mh,this,nVe).call(this)),this.hot.rowIndexMapper.registerMap(this.pluginName,He(sl,this)),this.addHook("modifyRowHeight",(e,i)=>fd(mh,this,iVe).call(this,e,i)),this.bindEvents(),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){Mn(pS,this,He(sl,this).getValues()),this.hot.rowIndexMapper.unregisterMap(this.pluginName),super.disablePlugin()}saveManualRowHeights(){this.hot.runHooks("persistentStateSave",rie,He(sl,this).getValues())}loadManualRowHeights(){let e={};return this.hot.runHooks("persistentStateLoad",rie,e),e.value}setManualSize(e,i){let n=this.hot.toPhysicalRow(e),r=Math.max(i,Iu.DEFAULT_HEIGHT);return He(sl,this).setValueAtIndex(n,r),r}getLastDesiredRowHeight(){return He(hS,this)}setupHandlePosition(e){Mn(Jl,this,e);let{view:i}=this.hot,{_wt:n}=i,r=n.wtTable.getCoords(He(Jl,this)),o=r.row;if(o<0)return;let s=$t(He(Jl,this)),a=He(Jl,this).getBoundingClientRect(),l=o<n.getSetting("fixedRowsTop"),c=o>=i.countNotHiddenRowIndexes(0,1)-n.getSetting("fixedRowsBottom"),d;l?d=n.wtOverlays.topInlineStartCornerOverlay.getRelativeCellPosition(He(Jl,this),r.row,r.col):c&&(d=n.wtOverlays.bottomInlineStartCornerOverlay.getRelativeCellPosition(He(Jl,this),r.row,r.col)),d||(d=n.wtOverlays.inlineStartOverlay.getRelativeCellPosition(He(Jl,this),r.row,r.col)),Mn(ZM,this,this.hot.rowIndexMapper.getVisualFromRenderableIndex(o)),Mn(Rs,this,[]);let u=this.hot.selection.isSelectedByCorner()||this.hot.selection.isSelectedByRowHeader();if(this.hot.selection.isSelected()&&u){let f=this.hot.getSelectedRange();M(f,m=>{let g=m.getTopStartCorner().row,_=m.getBottomStartCorner().row;Se(g,_,b=>{He(Rs,this).includes(b)||He(Rs,this).push(b)})})}He(Rs,this).includes(He(ZM,this))||Mn(Rs,this,[He(ZM,this)]),Mn(JM,this,d.top-6),Mn(Gb,this,parseInt(a.height,10)),He(Do,this).style.top=`${He(JM,this)+He(Gb,this)}px`,He(Do,this).style[this.inlineDir]=`${d.start}px`,He(Do,this).style.width=`${s}px`,this.hot.rootElement.appendChild(He(Do,this))}refreshHandlePosition(){He(Do,this).style.top=`${He(JM,this)+He(hS,this)}px`}setupGuidePosition(){let e=parseInt($t(He(Do,this)),10),i=parseInt(He(Do,this).style[this.inlineDir],10)+e,n=parseInt(this.hot.view.maximumVisibleElementWidth(0),10);ne(He(Do,this),"active"),ne(He(Zl,this),"active"),He(Zl,this).style.top=He(Do,this).style.top,He(Zl,this).style[this.inlineDir]=`${i}px`,He(Zl,this).style.width=`${n-e}px`,this.hot.rootElement.appendChild(He(Zl,this))}refreshGuidePosition(){He(Zl,this).style.top=He(Do,this).style.top}hideHandleAndGuide(){tt(He(Do,this),"active"),tt(He(Zl,this),"active")}checkIfRowHeader(e){let i=Fa(e,["TBODY"],this.hot.rootElement),{inlineStartOverlay:n,topInlineStartCornerOverlay:r,bottomInlineStartCornerOverlay:o}=this.hot.view._wt.wtOverlays;return[n.clone.wtTable.TBODY,r.clone.wtTable.TBODY,o.clone.wtTable.TBODY].includes(i)}getClosestTHParent(e){return e.tagName!=="TABLE"?e.tagName==="TH"?e:this.getClosestTHParent(e.parentNode):null}getActualRowHeight(e){let i=this.hot.view._wt.wtTable.getRowHeight(e);return i!==void 0&&He(ph,this)<i?i:He(ph,this)}afterMouseDownTimeout(){let e=()=>{this.hot.forceFullRender=!0,this.hot.view.render(),this.hot.view.adjustElementsSize()},i=(n,r)=>{let o=this.hot.runHooks("beforeRowResize",this.getActualRowHeight(n),n,!0);o!==void 0&&Mn(ph,this,o),this.setManualSize(n,He(ph,this)),this.hot.runHooks("afterRowResize",this.getActualRowHeight(n),n,!0),r&&e()};He(fS,this)>=2&&(He(Rs,this).length>1?(M(He(Rs,this),r=>{i(r)}),e()):M(He(Rs,this),r=>{i(r,!0)})),Mn(fS,this,0),Mn(mS,this,null)}bindEvents(){let{rootElement:e,rootWindow:i}=this.hot;this.eventManager.addEventListener(e,"mouseover",n=>fd(mh,this,QHe).call(this,n)),this.eventManager.addEventListener(e,"mousedown",n=>fd(mh,this,ZHe).call(this,n)),this.eventManager.addEventListener(i,"mousemove",n=>fd(mh,this,JHe).call(this,n)),this.eventManager.addEventListener(i,"mouseup",()=>fd(mh,this,eVe).call(this)),this.eventManager.addEventListener(He(Do,this),"contextmenu",()=>fd(mh,this,tVe).call(this))}destroy(){super.destroy()}};function QHe(t){if(!TT(t.target)&&He(eA,this)!==!0&&this.checkIfRowHeader(t.target)){let e=this.getClosestTHParent(t.target);e&&(He(lm,this)||this.setupHandlePosition(e))}}function ZHe(t){Fe(t.target,"manualRowResizer")&&(this.setupHandlePosition(He(Jl,this)),this.setupGuidePosition(),Mn(lm,this,!0),He(mS,this)===null&&(Mn(mS,this,setTimeout(()=>this.afterMouseDownTimeout(),500)),this.hot._registerTimeout(He(mS,this))),Mn(fS,this,He(fS,this)+1),Mn(vW,this,t.pageY),Mn(ph,this,He(Gb,this)))}function JHe(t){He(lm,this)&&(Mn(hS,this,He(Gb,this)+(t.pageY-He(vW,this))),M(He(Rs,this),e=>{Mn(ph,this,this.setManualSize(e,He(hS,this)))}),this.refreshHandlePosition(),this.refreshGuidePosition())}function eVe(){let t=()=>{this.hot.forceFullRender=!0,this.hot.view.render(),this.hot.view.adjustElementsSize()},e=(i,n)=>{this.hot.runHooks("beforeRowResize",this.getActualRowHeight(i),i,!1),n&&t(),this.saveManualRowHeights(),this.hot.runHooks("afterRowResize",this.getActualRowHeight(i),i,!1)};He(lm,this)&&(this.hideHandleAndGuide(),Mn(lm,this,!1),He(ph,this)!==He(Gb,this)&&(He(Rs,this).length>1?(M(He(Rs,this),n=>{e(n)}),t()):M(He(Rs,this),n=>{e(n,!0)})),this.setupHandlePosition(He(Jl,this)))}function tVe(){this.hideHandleAndGuide(),this.hot.rootElement.removeChild(He(Do,this)),this.hot.rootElement.removeChild(He(Zl,this)),Mn(lm,this,!1),Mn(eA,this,!0),this.hot._registerImmediate(()=>{Mn(eA,this,!1)})}function iVe(t,e){let i=t;if(this.enabled){let n=this.hot.toPhysicalRow(e),r=He(sl,this).getValueAtIndex(n);this.hot.getSettings()[gS]&&r&&(i=r)}return i}function nVe(){let t=this.hot.getSettings()[gS],e=this.loadManualRowHeights();this.hot.batchExecution(()=>{typeof e<"u"?e.forEach((i,n)=>{He(sl,this).setValueAtIndex(n,i)}):Array.isArray(t)?(t.forEach((i,n)=>{He(sl,this).setValueAtIndex(n,i)}),Mn(pS,this,t)):t===!0&&Array.isArray(He(pS,this))&&He(pS,this).forEach((i,n)=>{He(sl,this).setValueAtIndex(n,i)})},!0)}var QNt=w(Q(),1),ZNt=w(be(),1),JNt=w(Fi(),1),eLt=w(Hi(),1),tLt=w(Vi(),1),iLt=w(Bi(),1),nLt=w(Wi(),1),rLt=w(ji(),1),oLt=w(Ui(),1);var _Nt=w(Q(),1),yNt=w(be(),1),wNt=w(rL(),1),CNt=w(Fi(),1),SNt=w(Hi(),1),xNt=w(Vi(),1),ENt=w(Bi(),1),RNt=w(Wi(),1),TNt=w(ji(),1),INt=w(Ui(),1);var pNt=w(Q(),1);function cm(t,e,i){return e=rVe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function rVe(t){var e=oVe(t,"string");return typeof e=="symbol"?e:e+""}function oVe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _W=class{constructor(e,i,n,r,o,s){cm(this,"row",void 0),cm(this,"col",void 0),cm(this,"rowspan",void 0),cm(this,"colspan",void 0),cm(this,"removed",!1),cm(this,"cellCoordsFactory",void 0),cm(this,"cellRangeFactory",void 0),this.row=e,this.col=i,this.rowspan=n,this.colspan=r,this.cellCoordsFactory=o,this.cellRangeFactory=s}static NEGATIVE_VALUES_WARNING(e){return Dt`The merged cell declared with {row: ${e.row}, col: ${e.col},\x20
      rowspan: ${e.rowspan}, colspan: ${e.colspan}} contains negative values, which is\x20
      not supported. It will not be added to the collection.`}static IS_OUT_OF_BOUNDS_WARNING(e){return Dt`The merged cell declared at [${e.row}, ${e.col}] is positioned\x20
      (or positioned partially) outside of the table range. It was not added to the table, please fix your setup.`}static IS_SINGLE_CELL(e){return Dt`The merged cell declared at [${e.row}, ${e.col}] has both "rowspan"\x20
      and "colspan" declared as "1", which makes it a single cell. It cannot be added to the collection.`}static ZERO_SPAN_WARNING(e){return Dt`The merged cell declared at [${e.row}, ${e.col}] has "rowspan"\x20
      or "colspan" declared as "0", which is not supported. It cannot be added to the collection.`}static containsNegativeValues(e){return e.row<0||e.col<0||e.rowspan<0||e.colspan<0}static isSingleCell(e){return e.colspan===1&&e.rowspan===1}static containsZeroSpan(e){return e.colspan===0||e.rowspan===0}static isOutOfBounds(e,i,n){return e.row<0||e.col<0||e.row>=i||e.row+e.rowspan-1>=i||e.col>=n||e.col+e.colspan-1>=n}normalize(e){let i=e.countRows(),n=e.countCols();this.row<0?this.row=0:this.row>i-1&&(this.row=i-1),this.col<0?this.col=0:this.col>n-1&&(this.col=n-1),this.row+this.rowspan>i-1&&(this.rowspan=i-this.row),this.col+this.colspan>n-1&&(this.colspan=n-this.col)}includes(e,i){return this.row<=e&&this.col<=i&&this.row+this.rowspan-1>=e&&this.col+this.colspan-1>=i}includesHorizontally(e){return this.col<=e&&this.col+this.colspan-1>=e}includesVertically(e){return this.row<=e&&this.row+this.rowspan-1>=e}shift(e,i){let n=e[0]||e[1],r=i+Math.abs(e[0]||e[1])-1,o=e[0]?"colspan":"rowspan",s=e[0]?"col":"row",a=Math.min(i,r),l=Math.max(i,r),c=this[s],d=this[s]+this[o]-1;if(c>=i&&(this[s]+=n),n>0)i<=d&&i>c&&(this[o]+=n);else if(n<0){if(a<=c&&l>=d)return this.removed=!0,!1;if(c>=a&&c<=l){let u=l-c+1,f=Math.abs(n)-u;this[s]-=f+n,this[o]-=u}else if(c<=a&&d>=l)this[o]+=n;else if(c<=a&&d>=a&&d<l){let u=d-a+1;this[o]-=u}}return!0}isFarther(e,i){return e?i==="down"?e.row+e.rowspan-1<this.row+this.rowspan-1:i==="up"?e.row>this.row:i==="right"?e.col+e.colspan-1<this.col+this.colspan-1:i==="left"?e.col>this.col:null:!0}getLastRow(){return this.row+this.rowspan-1}getLastColumn(){return this.col+this.colspan-1}getRange(){return this.cellRangeFactory(this.cellCoordsFactory(this.row,this.col),this.cellCoordsFactory(this.row,this.col),this.cellCoordsFactory(this.getLastRow(),this.getLastColumn()))}},Ts=_W;function vS(t,e,i,n){e?e.row===i&&e.col===n?(t.setAttribute("rowspan",e.rowspan.toString()),t.setAttribute("colspan",e.colspan.toString())):(t.removeAttribute("rowspan"),t.removeAttribute("colspan"),t.style.display="none"):(t.removeAttribute("rowspan"),t.removeAttribute("colspan"),t.style.display="")}function sVe(t,e){aVe(t,e),e.add(t)}function aVe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function yW(t,e,i){return e=lVe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function lVe(t){var e=cVe(t,"string");return typeof e=="symbol"?e:e+""}function cVe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tA(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var _S=new WeakSet,wW=class t{constructor(e){sVe(this,_S),yW(this,"plugin",void 0),yW(this,"mergedCells",[]),yW(this,"hot",void 0),this.plugin=e,this.hot=e.hot}static IS_OVERLAPPING_WARNING(e){return Dt`The merged cell declared at [${e.row}, ${e.col}], overlaps\x20
      with the other declared merged cell. The overlapping merged cell was not added to the table, please\x20
      fix your setup.`}get(e,i){let n=this.mergedCells,r=!1;return M(n,o=>o.row<=e&&o.row+o.rowspan-1>=e&&o.col<=i&&o.col+o.colspan-1>=i?(r=o,!1):!0),r}getByRange(e){let i=this.mergedCells,n=!1;return M(i,r=>r.row<=e.from.row&&r.row+r.rowspan-1>=e.to.row&&r.col<=e.from.col&&r.col+r.colspan-1>=e.to.col?(n=r,n):!0),n}getWithinRange(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=this.mergedCells,r=[],o=e;if(!o.includesRange){let s=this.hot._createCellCoords(o.from.row,o.from.col),a=this.hot._createCellCoords(o.to.row,o.to.col);o=this.hot._createCellRange(s,s,a)}return M(n,s=>{let a=this.hot._createCellCoords(s.row,s.col),l=this.hot._createCellCoords(s.row+s.rowspan-1,s.col+s.colspan-1),c=this.hot._createCellRange(a,a,l);i?o.overlaps(c)&&r.push(s):o.includesRange(c)&&r.push(s)}),r.length?r:!1}add(e){let i=this.mergedCells,n=e.row,r=e.col,o=e.rowspan,s=e.colspan,a=new Ts(n,r,o,s,this.hot._createCellCoords,this.hot._createCellRange),l=this.get(n,r),c=this.isOverlapping(a);return!l&&!c?(this.hot&&a.normalize(this.hot),i.push(a),a):(zt(t.IS_OVERLAPPING_WARNING(a)),!1)}remove(e,i){let n=this.mergedCells,r=this.get(e,i),o=r?this.mergedCells.indexOf(r):-1;return r&&o!==-1?(n.splice(o,1),r):!1}clear(){let e=this.mergedCells,i=[],n=[];M(e,r=>{let o=this.hot.getCell(r.row,r.col);o&&i.push([o,this.get(r.row,r.col),r.row,r.col])}),this.mergedCells.length=0,M(i,(r,o)=>{Se(0,r.rowspan-1,s=>{Se(0,r.colspan-1,a=>{if(a!==0||s!==0){let l=this.hot.getCell(r.row+s,r.col+a);l&&n.push([l,null,null,null])}})}),i[o][1]=null}),M(i,r=>{vS(...r)}),M(n,r=>{vS(...r)})}isOverlapping(e){let i=this.hot._createCellRange(this.hot._createCellCoords(0,0),this.hot._createCellCoords(e.row,e.col),this.hot._createCellCoords(e.row+e.rowspan-1,e.col+e.colspan-1)),n=!1;return M(this.mergedCells,r=>this.hot._createCellRange(this.hot._createCellCoords(0,0),this.hot._createCellCoords(r.row,r.col),this.hot._createCellCoords(r.row+r.rowspan-1,r.col+r.colspan-1)).overlaps(i)?(n=!0,!1):!0),n}isFirstRenderableMergedCell(e,i){let n=this.get(e,i);return n&&this.hot.rowIndexMapper.getNearestNotHiddenIndex(n.row,1)===e&&this.hot.columnIndexMapper.getNearestNotHiddenIndex(n.col,1)===i}getFirstRenderableCoords(e,i){let n=this.get(e,i);if(!n||this.isFirstRenderableMergedCell(e,i))return this.hot._createCellCoords(e,i);let r=this.hot.rowIndexMapper.getNearestNotHiddenIndex(n.row,1),o=this.hot.columnIndexMapper.getNearestNotHiddenIndex(n.col,1);return this.hot._createCellCoords(r,o)}getStartMostColumnIndex(e,i){let n=tA(_S,this,iA).call(this,e,"col",-1),r=i;for(let o=0;o<n.length;o++)if(n[o]<=i){r=n[o];break}return r}getEndMostColumnIndex(e,i){let n=tA(_S,this,iA).call(this,e,"col",1),r=i;for(let o=0;o<n.length;o++)if(n[o]>=i){r=n[o];break}return r}getTopMostRowIndex(e,i){let n=tA(_S,this,iA).call(this,e,"row",-1),r=i;for(let o=0;o<n.length;o++)if(n[o]<=i){r=n[o];break}return r}getBottomMostRowIndex(e,i){let n=tA(_S,this,iA).call(this,e,"row",1),r=i;for(let o=0;o<n.length;o++)if(n[o]>=i){r=n[o];break}return r}shiftCollections(e,i,n){let r=[0,0];switch(e){case"right":r[0]+=n;break;case"left":r[0]-=n;break;case"down":r[1]+=n;break;case"up":r[1]-=n;break;default:}M(this.mergedCells,o=>{o.shift(r,i)}),Ry(this.mergedCells.length-1,0,o=>{let s=this.mergedCells[o];s&&s.removed&&this.mergedCells.splice(this.mergedCells.indexOf(s),1)})}};function iA(t,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,n=new Map,r=i===1?t.getTopStartCorner():t.getBottomEndCorner(),o=i===1?t.getBottomEndCorner():t.getTopStartCorner();for(let s=r.row;i===1?s<=o.row:s>=o.row;s+=i)for(let a=r.col;i===1?a<=o.col:a>=o.col;a+=i){let l=e==="row"?s:a,c=this.get(s,a),d=l;c&&(d=i===1?c[e]+c[`${e}span`]-1:c[e]),n.has(l)||n.set(l,new Set),n.get(l).add(d)}return Array.from(new Set(Array.from(n.entries()).filter(s=>{let[,a]=s;return a.size===1}).flatMap(s=>{let[,a]=s;return Array.from(a)})))}var aie=wW;var LNt=w(Q(),1);function CW(t,e,i){return e=dVe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function dVe(t){var e=uVe(t,"string");return typeof e=="symbol"?e:e+""}function uVe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var SW=class{constructor(e){CW(this,"plugin",void 0),CW(this,"mergedCellsCollection",void 0),CW(this,"currentFillData",null),this.plugin=e,this.mergedCellsCollection=this.plugin.mergedCellsCollection}correctSelectionAreaSize(e){if(e[0]===e[2]&&e[1]===e[3]){let i=this.mergedCellsCollection.get(e[0],e[1]);i&&(e[2]=e[0]+i.rowspan-1,e[3]=e[1]+i.colspan-1)}}getDirection(e,i){let n=null;return i[0]===e[0]&&i[1]===e[1]&&i[3]===e[3]?n="down":i[2]===e[2]&&i[1]===e[1]&&i[3]===e[3]?n="up":i[1]===e[1]&&i[2]===e[2]?n="right":n="left",n}snapDragArea(e,i,n,r){let o=i.slice(0),s=this.getAutofillSize(e,i,n),[a,l,c,d]=e,f=["up","down"].indexOf(n)>-1?c-a+1:d-l+1,m=Math.floor(s/f)*f,g=s-m,_=this.getFarthestCollection(e,i,n,r);if(_){if(n==="down"){let b=_.row+_.rowspan-a-g;o[2]+b>=this.plugin.hot.countRows()?o[2]-=g:o[2]+=g?b:0}else if(n==="right"){let b=_.col+_.colspan-l-g;o[3]+b>=this.plugin.hot.countCols()?o[3]-=g:o[3]+=g?b:0}else if(n==="up"){let b=c-g-_.row+1;o[0]+b<0?o[0]+=g:o[0]-=g?b:0}else if(n==="left"){let b=d-g-_.col+1;o[1]+b<0?o[1]+=g:o[1]-=g?b:0}}return this.updateCurrentFillCache({baseArea:e,dragDirection:n,foundMergedCells:r,fillSize:s,dragArea:o,cycleLength:f}),o}updateCurrentFillCache(e){this.currentFillData||(this.currentFillData={}),hi(this.currentFillData,e)}getAutofillSize(e,i,n){let[r,o,s,a]=e,[l,c,d,u]=i;switch(n){case"up":return r-l;case"down":return d-s;case"left":return o-c;case"right":return u-a;default:return null}}getDragArea(e,i,n){let[r,o,s,a]=e,[l,c,d,u]=i;switch(n){case"up":return[l,c,r-1,a];case"down":return[s+1,o,d,a];case"left":return[l,c,s,o-1];case"right":return[r,a+1,d,u];default:return null}}getFarthestCollection(e,i,n,r){let[o,s,a,l]=e,c=["up","down"].indexOf(n)>-1,d=c?a:l,u=c?o:s,f=this.getAutofillSize(e,i,n),m=c?a-o+1:l-s+1,g=Math.floor(f/m)*m,_=f-g,b=null,y=null,x=null;switch(n){case"up":b="includesVertically",x=d-_+1;break;case"left":b="includesHorizontally",x=d-_+1;break;case"down":b="includesVertically",x=u+_-1;break;case"right":b="includesHorizontally",x=u+_-1;break;default:}return M(r,T=>{T[b](x)&&T.isFarther(y,n)&&(y=T)}),y}recreateAfterDataPopulation(e){if(!this.currentFillData)return;let i=this.getRangeFromChanges(e),n=this.currentFillData.foundMergedCells,r=this.currentFillData.dragDirection,o=(c,d)=>{switch(r){case"up":return c.row-d>=i.from.row;case"down":return c.row+c.rowspan-1+d<=i.to.row;case"left":return c.col-d>=i.from.column;case"right":return c.col+c.colspan-1+d<=i.to.column;default:return null}},s=0,a=null,l=1;do for(let c=0;c<n.length;c+=1){if(a=n[c],s=l*this.currentFillData.cycleLength,o(a,s))switch(r){case"up":this.plugin.mergedCellsCollection.add({row:a.row-s,rowspan:a.rowspan,col:a.col,colspan:a.colspan});break;case"down":this.plugin.mergedCellsCollection.add({row:a.row+s,rowspan:a.rowspan,col:a.col,colspan:a.colspan});break;case"left":this.plugin.mergedCellsCollection.add({row:a.row,rowspan:a.rowspan,col:a.col-s,colspan:a.colspan});break;case"right":this.plugin.mergedCellsCollection.add({row:a.row,rowspan:a.rowspan,col:a.col+s,colspan:a.colspan});break;default:}c===n.length-1&&(l+=1)}while(o(a,s));this.currentFillData=null,this.plugin.hot.render(),n.length>0&&this.plugin.ifChromeForceRepaint()}getRangeFromChanges(e){let i={min:null,max:null},n={min:null,max:null};return M(e,r=>{let o=r[0],s=this.plugin.hot.propToCol(r[1]);(i.min===null||o<i.min)&&(i.min=o),(i.max===null||o>i.max)&&(i.max=o),(n.min===null||s<n.min)&&(n.min=s),(n.max===null||s>n.max)&&(n.max=s)}),{from:{row:i.min,column:n.min},to:{row:i.max,column:n.max}}}dragAreaOverlapsCollections(e,i,n){let r=this.getDragArea(e,i,n),[o,s,a,l]=r,c=this.plugin.hot._createCellCoords(o,s),d=this.plugin.hot._createCellCoords(a,l),u=this.plugin.hot._createCellRange(c,c,d);return!!this.mergedCellsCollection.getWithinRange(u,!0)}},lie=SW;var BNt=w(Q(),1),WNt=w(be(),1);function xW(t,e,i){return e=hVe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function hVe(t){var e=fVe(t,"string");return typeof e=="symbol"?e:e+""}function fVe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var EW=class{constructor(e){xW(this,"plugin",void 0),xW(this,"hot",void 0),xW(this,"fullySelectedMergedCellClassName","fullySelectedMergedCell"),this.plugin=e,this.hot=e.hot}getSelectedMergedCellClassName(e,i,n,r){let o=Math.min(n[0],n[2]),s=Math.min(n[1],n[3]),a=Math.max(n[0],n[2]),l=Math.max(n[1],n[3]);if(r===void 0||!this.plugin.mergedCellsCollection.isFirstRenderableMergedCell(e,i))return;let d=this.plugin.mergedCellsCollection.get(e,i);if(!d)return;let u=d.getLastRow(),f=d.getLastColumn();if(o<=d.row&&s<=d.col&&a>=u&&l>=f)return`${this.fullySelectedMergedCellClassName}-${r}`;if(this.isMergeCellFullySelected(d,this.plugin.hot.getSelectedRange()))return`${this.fullySelectedMergedCellClassName}-multiple`}isMergeCellFullySelected(e,i){let n=[];if(!i||!e)return!1;for(let r=0;r<e.rowspan;r+=1)for(let o=0;o<e.colspan;o+=1)n.push(this.hot._createCellCoords(e.row+r,e.col+o));for(let r=0;r<n.length;r+=1){let o=[];for(let s=0;s<i.length;s+=1)o[s]=i[s].includes(n[r]);if(!o.includes(!0))return!1}return!0}getSelectedMergedCellClassNameToRemove(){let e=[];for(let i=0;i<=7;i+=1)e.push(`${this.fullySelectedMergedCellClassName}-${i}`);return e.push(`${this.fullySelectedMergedCellClassName}-multiple`),e}},cie=EW;function RW(t){return{key:"mergeCells",name(){let e=this.getSelectedLast();if(e){let i=t.mergedCellsCollection.get(e[0],e[1]);if(i.row===e[0]&&i.col===e[1]&&i.row+i.rowspan-1===e[2]&&i.col+i.colspan-1===e[3])return this.getTranslatedPhrase(Rw)}return this.getTranslatedPhrase(Ew)},callback(){let e=this.getSelectedRangeLast();if(!e)return;e.setDirection(this.isRtl()?"NE-SW":"NW-SE");let{from:i,to:n}=e;t.toggleMerge(e),this.selectCell(i.row,i.col,n.row,n.col,!1)},disabled(){let e=this.getSelectedLast();return e?Ts.isSingleCell({row:e[0],col:e[1],rowspan:e[2]-e[0]+1,colspan:e[3]-e[1]+1})||this.selection.isSelectedByCorner():!0},hidden:!1}}var $Nt=w(Q(),1),qNt=w(be(),1);var YNt=w(Q(),1);function yS(t,e,i){return e=mVe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function mVe(t){var e=pVe(t,"string");return typeof e=="symbol"?e:e+""}function pVe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nA=class{constructor(e){yS(this,"data",void 0),yS(this,"next",null),yS(this,"prev",null),this.data=e}},TW=class{constructor(){yS(this,"first",null),yS(this,"last",null)}push(e){let i=new nA(e);if(this.first===null)this.first=i,this.last=i;else{let n=this.last;this.last=i,i.prev=n,n.next=i}return i}unshift(e){let i=new nA(e);if(this.first===null)this.first=i,this.last=i;else{let n=this.first;this.first=i,i.next=n,n.prev=i}}inorder(e){let i=this.first;for(;i;){let n=e(i);if(i===this.last||n===!0)break;i=i.next}}remove(e){if(this.first===null)return!1;let i=this.first,n,r;for(;i;){if(i.data===e)return n=i.next,r=i.prev,n&&(n.prev=r),r&&(r.next=n),i===this.first&&(this.first=n),i===this.last&&(this.last=r),!0;i=i.next}return!1}hasCycle(){let e=this.first,i=this.first;for(;;){if(e===null||(e=e.next,e===null))return!1;if(e=e.next,i=i.next,e===i)return!0}}pop(){if(this.last===null)return null;let e=this.last;return this.last=this.last.prev,e}shift(){if(this.first===null)return null;let e=this.first;return this.first=this.first.next,e}recursiveReverse(){function e(n,r){r&&(e(r,r.next),r.next=n)}if(!this.first)return;e(this.first,this.first.next),this.first.next=null;let i=this.first;this.first=this.last,this.last=i}reverse(){if(!this.first||!this.first.next)return;let e=this.first.next,i=this.first,n;for(;e;)n=e.next,e.next=i,i.prev=e,i=e,e=n;this.first.next=null,this.last.prev=null,n=this.first,this.first=i,this.last=n}};var wS=TW;function gVe(t,e){uie(t,e),e.add(t)}function dm(t,e,i){uie(t,e),e.set(t,i)}function uie(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ai(t,e){return t.get(sA(t,e))}function Is(t,e,i){return t.set(sA(t,e),i),i}function sA(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var ec=new WeakMap,tc=new WeakMap,ic=new WeakMap,nc=new WeakMap,DW=new WeakMap,rA=new WeakMap,oA=new WeakMap,IW=new WeakSet,aA=class{constructor(e){let{mergedCellsGetter:i,rowIndexMapper:n,columnIndexMapper:r}=e;gVe(this,IW),dm(this,ec,new wS),dm(this,tc,new wS),dm(this,ic,null),dm(this,nc,null),dm(this,DW,null),dm(this,rA,null),dm(this,oA,null),Is(DW,this,i),Is(rA,this,n),Is(oA,this,r)}getCurrentVerticalNode(){return Ai(nc,this).data}getFirstVerticalNode(){return Ai(tc,this).first.data}getNextVerticalNode(){return Ai(nc,this).next.data}getPrevVerticalNode(){return Ai(nc,this).prev.data}getCurrentHorizontalNode(){return Ai(ic,this).data}getFirstHorizontalNode(){return Ai(ec,this).first.data}getNextHorizontalNode(){return Ai(ic,this).next.data}getPrevHorizontalNode(){return Ai(ic,this).prev.data}setPrevNodeAsActive(){Is(nc,this,Ai(nc,this).prev),Is(ic,this,Ai(ic,this).prev)}setNextNodeAsActive(){Is(nc,this,Ai(nc,this).next),Is(ic,this,Ai(ic,this).next)}buildFocusOrder(e){let i=e.getTopStartCorner(),n=e.getBottomEndCorner(),r=new WeakSet;Is(ec,this,new wS);for(let s=i.row;s<=n.row;s++)if(!Ai(rA,this).isHidden(s))for(let a=i.col;a<=n.col;a++){if(Ai(oA,this).isHidden(a))continue;let l=sA(IW,this,die).call(this,e,Ai(ec,this),r,s,a);l&&Is(ic,this,l)}Ai(ec,this).first&&(Ai(ec,this).first.prev=Ai(ec,this).last,Ai(ec,this).last.next=Ai(ec,this).first);let o=new WeakSet;Is(tc,this,new wS);for(let s=i.col;s<=n.col;s++)if(!Ai(oA,this).isHidden(s))for(let a=i.row;a<=n.row;a++){if(Ai(rA,this).isHidden(a))continue;let l=sA(IW,this,die).call(this,e,Ai(tc,this),o,a,s);l&&Is(nc,this,l)}Ai(tc,this).first&&(Ai(tc,this).first.prev=Ai(tc,this).last,Ai(tc,this).last.next=Ai(tc,this).first)}setActiveNode(e,i){return Ai(ec,this).inorder(n=>{let{rowStart:r,rowEnd:o,colStart:s,colEnd:a}=n.data;if(e>=r&&e<=o&&i>=s&&i<=a)return Is(ic,this,n),!1}),Ai(tc,this).inorder(n=>{let{rowStart:r,rowEnd:o,colStart:s,colEnd:a}=n.data;if(e>=r&&e<=o&&i>=s&&i<=a)return Is(nc,this,n),!1}),this}};function die(t,e,i,n,r){let o=t.getTopStartCorner(),s=t.getBottomEndCorner(),a=t.highlight.clone().normalize(),l=Ai(DW,this).call(this,n,r);if(l&&i.has(l))return null;let c={colStart:r,colEnd:r,rowStart:n,rowEnd:n};if(l){if(i.add(l),l.row<o.row||l.row+l.rowspan-1>s.row||l.col<o.col||l.col+l.colspan-1>s.col)return null;c.colStart=l.col,c.colEnd=l.col+l.colspan-1,c.rowStart=l.row,c.rowEnd=l.row+l.rowspan-1}let d=e.push(c);return n===a.row&&r===a.col||l&&a.row>=l.row&&a.row<=l.row+l.rowspan-1&&a.col>=l.col&&a.col<=l.col+l.colspan-1?d:null}function bVe(t,e){mie(t,e),e.add(t)}function MW(t,e,i){mie(t,e),e.set(t,i)}function mie(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function AW(t,e,i){return e=vVe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function vVe(t){var e=_Ve(t,"string");return typeof e=="symbol"?e:e+""}function _Ve(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CS(t,e,i){return t.set(Gi(t,e),i),i}function hn(t,e){return t.get(Gi(t,e))}function Gi(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}Ee.getSingleton().register("beforeMergeCells");Ee.getSingleton().register("afterMergeCells");Ee.getSingleton().register("beforeUnmergeCells");Ee.getSingleton().register("afterUnmergeCells");var $b="mergeCells",pie=150,hie=$b,pa=new WeakMap,ga=new WeakMap,rc=new WeakMap,en=new WeakSet,SS=class extends rt{constructor(){super(...arguments),bVe(this,en),AW(this,"mergedCellsCollection",null),AW(this,"autofillCalculations",null),AW(this,"selectionCalculations",null),MW(this,pa,null),MW(this,ga,{row:0,col:0}),MW(this,rc,new aA({mergedCellsGetter:(e,i)=>this.mergedCellsCollection.get(e,i),rowIndexMapper:this.hot.rowIndexMapper,columnIndexMapper:this.hot.columnIndexMapper}))}static get PLUGIN_KEY(){return $b}static get PLUGIN_PRIORITY(){return pie}isEnabled(){return!!this.hot.getSettings()[$b]}enablePlugin(){var e=this;this.enabled||(this.mergedCellsCollection=new aie(this),this.autofillCalculations=new lie(this),this.selectionCalculations=new cie(this),this.addHook("afterInit",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return Gi(en,e,yVe).call(e,...n)}),this.addHook("modifyTransformFocus",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return Gi(en,e,CVe).call(e,...n)}),this.addHook("modifyTransformStart",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return Gi(en,e,SVe).call(e,...n)}),this.addHook("modifyTransformEnd",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return Gi(en,e,xVe).call(e,...n)}),this.addHook("beforeSelectionHighlightSet",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return Gi(en,e,EVe).call(e,...n)}),this.addHook("beforeSetRangeStart",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return Gi(en,e,fie).call(e,...n)}),this.addHook("beforeSetRangeStartOnly",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return Gi(en,e,fie).call(e,...n)}),this.addHook("beforeSelectionFocusSet",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return Gi(en,e,DVe).call(e,...n)}),this.addHook("afterSelectionFocusSet",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return Gi(en,e,MVe).call(e,...n)}),this.addHook("afterSelectionEnd",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return Gi(en,e,AVe).call(e,...n)}),this.addHook("modifyGetCellCoords",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return Gi(en,e,RVe).call(e,...n)}),this.addHook("afterIsMultipleSelection",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return Gi(en,e,wVe).call(e,...n)}),this.addHook("afterRenderer",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return Gi(en,e,IVe).call(e,...n)}),this.addHook("afterContextMenuDefaultOptions",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return Gi(en,e,TVe).call(e,...n)}),this.addHook("afterGetCellMeta",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return Gi(en,e,OVe).call(e,...n)}),this.addHook("afterViewportRowCalculatorOverride",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return Gi(en,e,PVe).call(e,...n)}),this.addHook("afterViewportColumnCalculatorOverride",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return Gi(en,e,kVe).call(e,...n)}),this.addHook("modifyAutofillRange",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return Gi(en,e,NVe).call(e,...n)}),this.addHook("afterCreateCol",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return Gi(en,e,LVe).call(e,...n)}),this.addHook("afterRemoveCol",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return Gi(en,e,FVe).call(e,...n)}),this.addHook("afterCreateRow",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return Gi(en,e,HVe).call(e,...n)}),this.addHook("afterRemoveRow",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return Gi(en,e,VVe).call(e,...n)}),this.addHook("afterChange",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return Gi(en,e,BVe).call(e,...n)}),this.addHook("beforeDrawBorders",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return Gi(en,e,WVe).call(e,...n)}),this.addHook("afterDrawSelection",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return Gi(en,e,jVe).call(e,...n)}),this.addHook("beforeRemoveCellClassNames",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return Gi(en,e,UVe).call(e,...n)}),this.addHook("beforeBeginEditing",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return Gi(en,e,zVe).call(e,...n)}),this.addHook("beforeUndoStackChange",(i,n)=>{if(n==="MergeCells")return!1}),this.registerShortcuts(),super.enablePlugin())}disablePlugin(){this.clearCollections(),this.unregisterShortcuts(),this.hot.render(),super.disablePlugin()}updatePlugin(){let e=this.hot.getSettings()[$b];this.disablePlugin(),this.enablePlugin(),this.generateFromSettings(e),super.updatePlugin()}ifChromeForceRepaint(){if(!PT())return;let e=[],i=[];this.mergedCellsCollection.mergedCells.forEach(n=>{let{row:r,rowspan:o}=n;for(let s=r+1;s<r+o;s++)i.push(s)}),i=[...new Set(i)],i.forEach(n=>{let r=this.hot.rowIndexMapper.getRenderableFromVisualIndex(n);this.hot.view._wt.wtOverlays.getOverlays(!0).map(o=>o?.name==="master"?o:o.clone.wtTable).forEach(o=>{let s=o.getRow(r);s&&(s.style.background=vu(s,"backgroundColor").replace(")",", 0.99)"),e.push(s))})}),this.hot._registerTimeout(()=>{e.forEach(n=>{n.style.background=vu(n,"backgroundColor").replace(", 0.99)",")")})},1)}validateSetting(e){let i=!0;return e?(Ts.containsNegativeValues(e)?(zt(Ts.NEGATIVE_VALUES_WARNING(e)),i=!1):Ts.isOutOfBounds(e,this.hot.countRows(),this.hot.countCols())?(zt(Ts.IS_OUT_OF_BOUNDS_WARNING(e)),i=!1):Ts.isSingleCell(e)?(zt(Ts.IS_SINGLE_CELL(e)),i=!1):Ts.containsZeroSpan(e)&&(zt(Ts.ZERO_SPAN_WARNING(e)),i=!1),i):!1}generateFromSettings(e){if(Array.isArray(e)){let i=[];if(M(e,n=>{if(!this.validateSetting(n))return;let r=this.hot._createCellCoords(n.row,n.col),o=this.hot._createCellCoords(n.row+n.rowspan-1,n.col+n.colspan-1),s=this.hot._createCellRange(r,r,o);this.mergeRange(s,!0,!0),Se(n.row,n.row+n.rowspan-1,a=>{Se(n.col,n.col+n.colspan-1,l=>{a===n.row&&l===n.col||i.push([a,l,null])})})}),i.length===0)return;this.hot.setDataAtCell(i,void 0,void 0,this.pluginName)}}clearCollections(){this.mergedCellsCollection.clear()}canMergeRange(e){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?!0:this.validateSetting(e)}mergeSelection(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.hot.getSelectedRangeLast();if(!e)return;e.setDirection(this.hot.isRtl()?"NE-SW":"NW-SE");let{from:i,to:n}=e;this.unmergeRange(e,!0),this.mergeRange(e),this.hot.selectCell(i.row,i.col,n.row,n.col,!1)}unmergeSelection(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.hot.getSelectedRangeLast();if(!e)return;let{from:i,to:n}=e;this.unmergeRange(e,!0),this.hot.selectCell(i.row,i.col,n.row,n.col,!1)}mergeRange(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=e.getTopStartCorner(),o=e.getBottomEndCorner(),s={row:r.row,col:r.col,rowspan:o.row-r.row+1,colspan:o.col-r.col+1},a=[],l=null;return this.canMergeRange(s,i)?(this.hot.runHooks("beforeMergeCells",e,i),Se(0,s.rowspan-1,d=>{Se(0,s.colspan-1,u=>{let f=null;a[d]||(a[d]=[]),d===0&&u===0?f=this.hot.getSourceDataAtCell(this.hot.toPhysicalRow(s.row),this.hot.toPhysicalColumn(s.col)):this.hot.setCellMeta(s.row+d,s.col+u,"hidden",!0),a[d][u]=f})}),this.hot.setCellMeta(s.row,s.col,"spanned",!0),this.mergedCellsCollection.add(s)?(n?l=[s.row,s.col,a]:this.hot.populateFromArray(s.row,s.col,a,void 0,void 0,this.pluginName),i||this.ifChromeForceRepaint(),this.hot.runHooks("afterMergeCells",e,s,i),l):!0):!1}unmergeRange(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=this.mergedCellsCollection.getWithinRange(e);n&&(this.hot.runHooks("beforeUnmergeCells",e,i),M(n,r=>{this.mergedCellsCollection.remove(r.row,r.col),Se(0,r.rowspan-1,o=>{Se(0,r.colspan-1,s=>{this.hot.removeCellMeta(r.row+o,r.col+s,"hidden"),this.hot.removeCellMeta(r.row+o,r.col+s,"copyable")})}),this.hot.removeCellMeta(r.row,r.col,"spanned")}),this.hot.runHooks("afterUnmergeCells",e,i),this.hot.render())}toggleMerge(e){let i=this.mergedCellsCollection.get(e.from.row,e.from.col);i.row===e.from.row&&i.col===e.from.col&&i.row+i.rowspan-1===e.to.row&&i.col+i.colspan-1===e.to.col?this.unmergeRange(e):this.mergeSelection(e)}merge(e,i,n,r){let o=this.hot._createCellCoords(e,i),s=this.hot._createCellCoords(n,r);this.mergeRange(this.hot._createCellRange(o,o,s))}unmerge(e,i,n,r){let o=this.hot._createCellCoords(e,i),s=this.hot._createCellCoords(n,r);this.unmergeRange(this.hot._createCellRange(o,o,s))}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Control","m"]],callback:()=>{let n=this.hot.getSelectedRangeLast();n&&!n.isSingleHeader()&&(this.toggleMerge(n),this.hot.render())},runOnlyIf:n=>!n.altKey,group:hie})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(hie)}modifyViewportRowStart(e,i){let n=this.hot.rowIndexMapper,r=n.getVisualFromRenderableIndex(e.startRow);for(let o=0;o<i;o+=1){let s=this.mergedCellsCollection.get(r,o);if(it(s)){let a=n.getRenderableFromVisualIndex(n.getNearestNotHiddenIndex(s.row,1));if(a<e.startRow){e.startRow=a,this.modifyViewportRowStart(e,i);return}}}}modifyViewportRowEnd(e,i){let n=this.hot.rowIndexMapper,r=n.getVisualFromRenderableIndex(e.endRow);for(let o=0;o<i;o+=1){let s=this.mergedCellsCollection.get(r,o);if(it(s)){let a=s.row+s.rowspan-1,l=n.getRenderableFromVisualIndex(n.getNearestNotHiddenIndex(a,-1));if(l>e.endRow){e.endRow=l,this.modifyViewportRowEnd(e,i);return}}}}modifyViewportColumnStart(e,i){let n=this.hot.columnIndexMapper,r=n.getVisualFromRenderableIndex(e.startColumn);for(let o=0;o<i;o+=1){let s=this.mergedCellsCollection.get(o,r);if(it(s)){let a=n.getRenderableFromVisualIndex(n.getNearestNotHiddenIndex(s.col,1));if(a<e.startColumn){e.startColumn=a,this.modifyViewportColumnStart(e,i);return}}}}modifyViewportColumnEnd(e,i){let n=this.hot.columnIndexMapper,r=n.getVisualFromRenderableIndex(e.endColumn);for(let o=0;o<i;o+=1){let s=this.mergedCellsCollection.get(o,r);if(it(s)){let a=s.col+s.colspan-1,l=n.getRenderableFromVisualIndex(n.getNearestNotHiddenIndex(a,-1));if(l>e.endColumn){e.endColumn=l,this.modifyViewportColumnEnd(e,i);return}}}}translateMergedCellToRenderable(e,i,n,r){let{rowIndexMapper:o,columnIndexMapper:s}=this.hot,a,l;i===0?a=o.getNearestNotHiddenIndex(e,1):a=o.getNearestNotHiddenIndex(e+i-1,-1),r===0?l=s.getNearestNotHiddenIndex(n,1):l=s.getNearestNotHiddenIndex(n+r-1,-1);let c=e>=0?o.getRenderableFromVisualIndex(a):e,d=n>=0?s.getRenderableFromVisualIndex(l):n;return[c,d]}};function yVe(){this.generateFromSettings(this.hot.getSettings()[$b]),this.hot.render()}function wVe(t){if(t){let e=this.mergedCellsCollection.mergedCells,i=this.hot.getSelectedRangeLast(),n=i.getTopStartCorner(),r=i.getBottomEndCorner();for(let o=0;o<e.length;o+=1)if(n.row===e[o].row&&n.col===e[o].col&&r.row===e[o].row+e[o].rowspan-1&&r.col===e[o].col+e[o].colspan-1)return!1}return t}function CVe(t){hn(ga,this).row=t.row,hn(ga,this).col=t.col}function SVe(t){let e=this.hot.getSelectedRangeLast(),{highlight:i}=e,{columnIndexMapper:n,rowIndexMapper:r}=this.hot;hn(pa,this)&&(r.getRenderableFromVisualIndex(hn(pa,this).row)!==null&&(i.row=hn(pa,this).row),n.getRenderableFromVisualIndex(hn(pa,this).col)!==null&&(i.col=hn(pa,this).col),CS(pa,this,null));let o=this.mergedCellsCollection.get(i.row,i.col);if(!o)return;let s=o.col,a=o.col+o.colspan-1;if(t.col<0){let d=i.col>=s&&i.col<=a?s-1:a,u=n.getNearestNotHiddenIndex(d,-1);u===null?t.col=-this.hot.view.countRenderableColumnsInRange(0,i.col):t.col=-Math.max(this.hot.view.countRenderableColumnsInRange(u,i.col)-1,1)}else if(t.col>0){let d=i.col>=s&&i.col<=a?a+1:s,u=n.getNearestNotHiddenIndex(d,1);u===null?t.col=this.hot.view.countRenderableColumnsInRange(i.col,this.hot.countCols()):t.col=Math.max(this.hot.view.countRenderableColumnsInRange(i.col,u)-1,1)}let l=o.row,c=o.row+o.rowspan-1;if(t.row<0){let d=i.row>=l&&i.row<=c?l-1:c,u=r.getNearestNotHiddenIndex(d,-1);u===null?t.row=-this.hot.view.countRenderableRowsInRange(0,i.row):t.row=-Math.max(this.hot.view.countRenderableRowsInRange(u,i.row)-1,1)}else if(t.row>0){let d=i.row>=l&&i.row<=c?c+1:l,u=r.getNearestNotHiddenIndex(d,1);u===null?t.row=this.hot.view.countRenderableRowsInRange(i.row,this.hot.countRows()):t.row=Math.max(this.hot.view.countRenderableRowsInRange(i.row,u)-1,1)}}function xVe(t){let e=this.hot.getSelectedRangeLast(),i=e.clone(),{to:n}=e,{columnIndexMapper:r,rowIndexMapper:o}=this.hot,s=(a,l)=>{i.expand(this.hot._createCellCoords(a,l));for(let c=0;c<this.mergedCellsCollection.mergedCells.length;c+=1)i.expandByRange(this.mergedCellsCollection.mergedCells[c].getRange())};if(t.col<0){let a=this.mergedCellsCollection.getStartMostColumnIndex(e,n.col)+t.col;s(n.row,a),e.getHorizontalDirection()==="E-W"&&i.getHorizontalDirection()==="E-W"&&(a=i.getTopStartCorner().col);let l=r.getNearestNotHiddenIndex(a,1);l!==null&&(t.col=-Math.max(this.hot.view.countRenderableColumnsInRange(l,n.col)-1,1))}else if(t.col>0){let a=this.mergedCellsCollection.getEndMostColumnIndex(e,n.col)+t.col;s(n.row,a),e.getHorizontalDirection()==="W-E"&&i.getHorizontalDirection()==="W-E"&&(a=i.getBottomEndCorner().col);let l=r.getNearestNotHiddenIndex(a,-1);l!==null&&(t.col=Math.max(this.hot.view.countRenderableColumnsInRange(n.col,l)-1,1))}if(t.row<0){let a=this.mergedCellsCollection.getTopMostRowIndex(e,n.row)+t.row;s(a,n.col),e.getVerticalDirection()==="S-N"&&i.getVerticalDirection()==="S-N"&&(a=i.getTopStartCorner().row);let l=o.getNearestNotHiddenIndex(a,1);l!==null&&(t.row=-Math.max(this.hot.view.countRenderableRowsInRange(l,n.row)-1,1))}else if(t.row>0){let a=this.mergedCellsCollection.getBottomMostRowIndex(e,n.row)+t.row;s(a,n.col),e.getVerticalDirection()==="N-S"&&i.getVerticalDirection()==="N-S"&&(a=i.getBottomStartCorner().row);let l=o.getNearestNotHiddenIndex(a,-1);l!==null&&(t.row=Math.max(this.hot.view.countRenderableRowsInRange(n.row,l)-1,1))}}function EVe(){let t=this.hot.getSelectedRangeLast(),{highlight:e}=t;if(this.hot.selection.isSelectedByColumnHeader()||this.hot.selection.isSelectedByRowHeader()){CS(pa,this,e.clone());return}for(let n=0;n<this.mergedCellsCollection.mergedCells.length;n+=1)t.expandByRange(this.mergedCellsCollection.mergedCells[n].getRange(),!1);for(let n=0;n<this.mergedCellsCollection.mergedCells.length;n+=1)t.expandByRange(this.mergedCellsCollection.mergedCells[n].getRange(),!1);let i=this.mergedCellsCollection.get(e.row,e.col);CS(pa,this,e.clone()),i&&e.assign(i)}function RVe(t,e){if(t<0||e<0)return;let i=this.mergedCellsCollection.get(t,e);if(!i)return;let{row:n,col:r,colspan:o,rowspan:s}=i;return[n,r,n+s-1,r+o-1]}function TVe(t){t.items.push({name:"---------"},RW(this))}function IVe(t,e,i){let n=this.mergedCellsCollection.get(e,i),r=it(n)?qn(n):void 0;if(it(r)){let{rowIndexMapper:o,columnIndexMapper:s}=this.hot,{row:a,col:l,colspan:c,rowspan:d}=r,[u,f]=this.translateMergedCellToRenderable(a,d,l,c),m=o.getRenderableFromVisualIndex(e),g=s.getRenderableFromVisualIndex(i),_=u-m+1,b=f-g+1;r.row=o.getNearestNotHiddenIndex(r.row,1),r.col=s.getNearestNotHiddenIndex(r.col,1),r.rowspan=Math.min(r.rowspan,_),r.colspan=Math.min(r.colspan,b)}vS(t,r,e,i)}function fie(){CS(pa,this,null)}function DVe(){if(hn(pa,this).isCell())return;let t=this.hot.getSelectedRangeLast(),e=t.getVerticalDirection(),i=t.getHorizontalDirection(),n=hn(pa,this).clone().normalize();hn(rc,this).setActiveNode(n.row,n.col),hn(ga,this).row>0||hn(ga,this).col>0?hn(rc,this).setPrevNodeAsActive():(i==="E-W"&&hn(ga,this).col<0||e==="S-N"&&hn(ga,this).row<0)&&hn(rc,this).setNextNodeAsActive()}function MVe(t,e){let i=this.hot.getSelectedRangeLast(),{columnIndexMapper:n,rowIndexMapper:r}=this.hot,o=null,s=null;if(hn(ga,this).col<0){let{rowEnd:a,colEnd:l}=hn(rc,this).getPrevHorizontalNode();s=n.getNearestNotHiddenIndex(l,-1),o=r.getNearestNotHiddenIndex(a,-1)}else if(hn(ga,this).col>0){let{rowStart:a,colStart:l}=hn(rc,this).getNextHorizontalNode();s=n.getNearestNotHiddenIndex(l,1),o=r.getNearestNotHiddenIndex(a,1)}else if(hn(ga,this).row<0){let{rowEnd:a,colEnd:l}=hn(rc,this).getPrevVerticalNode();s=n.getNearestNotHiddenIndex(l,-1),o=r.getNearestNotHiddenIndex(a,-1)}else if(hn(ga,this).row>0){let{rowStart:a,colStart:l}=hn(rc,this).getNextVerticalNode();s=n.getNearestNotHiddenIndex(l,1),o=r.getNearestNotHiddenIndex(a,1)}if(o!==null||s!==null){let a=this.hot._createCellCoords(o,s),l=this.mergedCellsCollection.get(a.row,a.col),c=this.hot.selection.highlight.getFocus();t=a.row,e=a.col,l?i.highlight.assign({row:this.hot.rowIndexMapper.getNearestNotHiddenIndex(l.row,1),col:this.hot.columnIndexMapper.getNearestNotHiddenIndex(l.col,1)}):i.highlight.assign(a),c.clear(),c.add(a).commit()}hn(rc,this).setActiveNode(t,e),CS(ga,this,{row:0,col:0})}function AVe(){this.hot.getSelectedRangeLast().isHeader()||hn(rc,this).buildFocusOrder(this.hot.getSelectedRangeLast())}function OVe(t,e,i){let n=this.mergedCellsCollection.get(t,e);n&&(n.row!==t||n.col!==e?i.copyable=!1:(i.rowspan=n.rowspan,i.colspan=n.colspan))}function PVe(t){let e=this.hot.countCols();this.modifyViewportRowStart(t,e),this.modifyViewportRowEnd(t,e)}function kVe(t){let e=this.hot.countRows();this.modifyViewportColumnStart(t,e),this.modifyViewportColumnEnd(t,e)}function NVe(t,e){this.autofillCalculations.correctSelectionAreaSize(e);let i=this.autofillCalculations.getDirection(e,t),n=t;if(this.autofillCalculations.dragAreaOverlapsCollections(e,n,i))return n=e,n;let r=this.mergedCellsCollection.getWithinRange({from:{row:e[0],col:e[1]},to:{row:e[2],col:e[3]}});return r&&(n=this.autofillCalculations.snapDragArea(e,n,i,r)),n}function LVe(t,e){this.mergedCellsCollection.shiftCollections("right",t,e)}function FVe(t,e){this.mergedCellsCollection.shiftCollections("left",t,e)}function HVe(t,e,i){i!=="auto"&&this.mergedCellsCollection.shiftCollections("down",t,e)}function VVe(t,e){this.mergedCellsCollection.shiftCollections("up",t,e)}function BVe(t,e){e==="Autofill.fill"&&this.autofillCalculations.recreateAfterDataPopulation(t)}function WVe(t,e){if(e&&e==="area"){let i=this.hot.getSelectedRangeLast(),n=this.mergedCellsCollection.getWithinRange(i);M(n,r=>{i.getBottomEndCorner().row===r.getLastRow()&&i.getBottomEndCorner().col===r.getLastColumn()&&(t[2]=r.row,t[3]=r.col)})}}function jVe(t,e,i,n){if(i)return this.selectionCalculations.getSelectedMergedCellClassName(t,e,i,n)}function UVe(){return this.selectionCalculations.getSelectedMergedCellClassNameToRemove()}function zVe(t,e,i,n){if(!(n instanceof MouseEvent))return;let r=this.hot.getSelectedRangeLast(),o=this.mergedCellsCollection.getByRange(r);if(!o)return;let s=this.hot._createCellCoords(o.row,o.col),a=this.hot._createCellCoords(o.row+o.rowspan-1,o.col+o.colspan-1);return this.hot.selection.getLayerLevel()===0&&r.isEqual(this.hot._createCellRange(s,s,a))}var ALt=w(Q(),1);function gie(t,e){return function(i,n){let[,...r]=i,[,...o]=n;return function s(a){let l=t[a],c=e[a],d=r[a],u=o[a],f=c.multiColumnSorting,g=(f.compareFunctionFactory?f.compareFunctionFactory:t0(c.type))(l,c,f)(d,u);if(g===ao){let _=a+1;if(typeof e[_]<"u")return s(_)}return g}(0)}}function OW(){zt(Dt`Plugins \`columnSorting\` and \`multiColumnSorting\` should not be enabled simultaneously. 
    Only \`multiColumnSorting\` will work.`)}var DLt=w(be(),1),bie="sort";function vie(t,e,i){let n=[];return i===!1||t.isColumnSorted(e)&&t.getNumberOfSortedColumns()>1&&n.push(`${bie}-${t.getIndexOfColumnInSortQueue(e)+1}`),n}function _ie(t){let e=t.className.split(" "),i=new RegExp(`^${bie}-[0-9]{1,2}$`);return e.filter(n=>i.test(n))}function YVe(t,e,i){return e=GVe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function GVe(t){var e=$Ve(t,"string");return typeof e=="symbol"?e:e+""}function $Ve(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xS="multiColumnSorting",Cie=170,yie="columnSorting",wie=xS;e0(xS,gie);var ES=class extends Nf{constructor(){super(...arguments),YVe(this,"pluginKey",xS)}static get PLUGIN_KEY(){return xS}static get PLUGIN_PRIORITY(){return Cie}isEnabled(){return super.isEnabled()}enablePlugin(){!this.enabled&&this.hot.getSettings()[this.pluginKey]&&this.hot.getSettings()[yie]&&OW(),super.enablePlugin()}disablePlugin(){super.disablePlugin()}registerShortcuts(){super.registerShortcuts(),this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Shift","Enter"]],callback:()=>{let{highlight:e}=this.hot.getSelectedRangeLast();return e.row===-1&&e.col>=0&&this.sort(this.getNextSortConfig(e.col,cb)),!1},runOnlyIf:()=>{var e,i;let n=(e=this.hot.getSelectedRangeLast())===null||e===void 0?void 0:e.highlight;return n&&((i=this.hot.getSelectedRangeLast())===null||i===void 0?void 0:i.isSingle())&&this.hot.selection.isCellVisible(n)&&n.isHeader()},relativeToGroup:so,position:"before",group:wie})}unregisterShortcuts(){super.unregisterShortcuts(),this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(wie)}sort(e){super.sort(e)}clearSort(){super.clearSort()}isSorted(){return super.isSorted()}getSortConfig(e){return super.getSortConfig(e)}setSortConfig(e){super.setSortConfig(e)}getNormalizedSortConfigs(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Array.isArray(e)?e:[e]}updateHeaderClasses(e){for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];super.updateHeaderClasses(e,...n),tt(e,_ie(e)),this.enabled!==!1&&ne(e,vie(...n))}onUpdateSettings(e){this.hot.getSettings()[this.pluginKey]&&this.hot.getSettings()[yie]&&OW(),super.onUpdateSettings(e)}onAfterOnCellMouseDown(e,i){r0(i.row,i.col,e)!==!1&&this.wasClickableHeaderClicked(e,i.col)&&(this.hot.getShortcutManager().isCtrlPressed()?(this.hot.deselectCell(),this.hot.selectColumns(i.col),this.sort(this.getNextSortConfig(i.col,cb))):this.sort(this.getColumnNextConfig(i.col)))}};var ULt=w(Q(),1),zLt=w(be(),1);function Sie(t,e,i){return e=qVe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function qVe(t){var e=KVe(t,"string");return typeof e=="symbol"?e:e+""}function KVe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xie="multipleSelectionHandles",Eie=160,RS=class extends rt{constructor(){super(...arguments),Sie(this,"dragged",[]),Sie(this,"lastSetCell",null)}static get PLUGIN_KEY(){return xie}static get PLUGIN_PRIORITY(){return Eie}isEnabled(){return fs()}enablePlugin(){this.enabled||(this.registerListeners(),super.enablePlugin())}registerListeners(){let e=this,{rootElement:i}=this.hot;function n(r){if(e.dragged.length===1)return e.dragged.splice(0,e.dragged.length),!0;let o=e.dragged.indexOf(r);if(o===-1)return!1;o===0?e.dragged=e.dragged.slice(0,1):o===1&&(e.dragged=e.dragged.slice(-1))}this.eventManager.addEventListener(i,"touchstart",r=>{let o;if(Fe(r.target,"topSelectionHandle-HitArea"))return o=e.hot.getSelectedRangeLast(),e.dragged.push("top"),e.touchStartRange={width:o.getWidth(),height:o.getHeight(),direction:o.getDirection()},r.preventDefault(),!1;if(Fe(r.target,"bottomSelectionHandle-HitArea"))return o=e.hot.getSelectedRangeLast(),e.dragged.push("bottom"),e.touchStartRange={width:o.getWidth(),height:o.getHeight(),direction:o.getDirection()},r.preventDefault(),!1}),this.eventManager.addEventListener(i,"touchend",r=>{if(Fe(r.target,"topSelectionHandle-HitArea"))return n.call(e,"top"),e.touchStartRange=void 0,r.preventDefault(),!1;if(Fe(r.target,"bottomSelectionHandle-HitArea"))return n.call(e,"bottom"),e.touchStartRange=void 0,r.preventDefault(),!1}),this.eventManager.addEventListener(i,"touchmove",r=>{let{rootDocument:o}=this.hot,s,a,l,c,d,u;if(e.dragged.length===0)return;let f=o.elementFromPoint(r.touches[0].clientX,r.touches[0].clientY);!f||f===e.lastSetCell||((f.nodeName==="TD"||f.nodeName==="TH")&&(s=e.hot.getCoords(f),s.col===-1&&(s.col=0),a=e.hot.getSelectedRangeLast(),l=a.getWidth(),c=a.getHeight(),d=a.getDirection(),l===1&&c===1&&e.hot.selection.setRangeEnd(s),u=e.getCurrentRangeCoords(a,s,e.touchStartRange.direction,d,e.dragged[0]),u.start!==null&&e.hot.selection.setRangeStart(u.start),e.hot.selection.setRangeEnd(u.end),e.lastSetCell=f),r.preventDefault())})}getCurrentRangeCoords(e,i,n,r,o){let s=e.getTopStartCorner(),a=e.getBottomEndCorner(),l=e.getBottomStartCorner(),c=e.getTopEndCorner(),d={start:null,end:null};switch(n){case"NE-SW":switch(r){case"NE-SW":case"NW-SE":o==="top"?d={start:this.hot._createCellCoords(i.row,e.highlight.col),end:this.hot._createCellCoords(l.row,i.col)}:d={start:this.hot._createCellCoords(e.highlight.row,i.col),end:this.hot._createCellCoords(i.row,s.col)};break;case"SE-NW":o==="bottom"&&(d={start:this.hot._createCellCoords(a.row,i.col),end:this.hot._createCellCoords(i.row,s.col)});break;default:break}break;case"NW-SE":switch(r){case"NE-SW":o==="top"?d={start:i,end:l}:d.end=i;break;case"NW-SE":o==="top"?d={start:i,end:a}:d.end=i;break;case"SE-NW":o==="top"?d={start:i,end:s}:d.end=i;break;case"SW-NE":o==="top"?d={start:i,end:c}:d.end=i;break;default:break}break;case"SW-NE":switch(r){case"NW-SE":o==="bottom"?d={start:this.hot._createCellCoords(i.row,s.col),end:this.hot._createCellCoords(l.row,i.col)}:d={start:this.hot._createCellCoords(s.row,i.col),end:this.hot._createCellCoords(i.row,a.col)};break;case"SW-NE":o==="top"?d={start:this.hot._createCellCoords(e.highlight.row,i.col),end:this.hot._createCellCoords(i.row,a.col)}:d={start:this.hot._createCellCoords(i.row,s.col),end:this.hot._createCellCoords(s.row,i.col)};break;case"SE-NW":o==="bottom"?d={start:this.hot._createCellCoords(i.row,c.col),end:this.hot._createCellCoords(s.row,i.col)}:o==="top"&&(d={start:l,end:i});break;default:break}break;case"SE-NW":switch(r){case"NW-SE":case"NE-SW":case"SW-NE":o==="top"&&(d.end=i);break;case"SE-NW":o==="top"?d.end=i:d={start:i,end:s};break;default:break}break;default:break}return d}isDragged(){return this.dragged.length>0}};var yHt=w(Q(),1),wHt=w(be(),1);var aHt=w(Q(),1),lHt=w(be(),1);var rFt=w(Q(),1),oFt=w(be(),1);var ZLt=w(be(),1);function TS(){let{label:t="",colspan:e=1,origColspan:i=1,collapsible:n=!1,crossHiddenColumns:r=[],isCollapsed:o=!1,isHidden:s=!1,isRoot:a=!1,isPlaceholder:l=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{label:t,colspan:e,origColspan:i,collapsible:n,isCollapsed:o,crossHiddenColumns:r,isHidden:s,isRoot:a,isPlaceholder:l}}function lA(){return{label:"",isPlaceholder:!0}}function Rie(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,i=[];if(e===0)return i;M(t,r=>{let o=[],s=0;i.push(o),M(r,a=>{let l=TS();if(it(a)){let{label:d,colspan:u}=a;l.label=Ei(d),typeof u=="number"&&u>1&&(l.colspan=u,l.origColspan=u)}else l.label=Ei(a);s+=l.origColspan;let c=!1;if(s>=e&&(l.colspan=l.origColspan-(s-e),l.origColspan=l.colspan,c=!0),o.push(l),l.colspan>1)for(let d=0;d<l.colspan-1;d++)o.push(lA());return!c})});let n=Math.max(...ct(i,r=>r.length));return M(i,r=>{if(r.length<n){let o=ct(new Array(n-r.length),()=>TS());r.splice(r.length,0,...o)}}),i}function PW(t,e,i){XVe(t,e),e.set(t,i)}function XVe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function al(t,e){return t.get(Iie(t,e))}function IS(t,e,i){return t.set(Iie(t,e),i),i}function Iie(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var Tie=["label","collapsible"],md=new WeakMap,um=new WeakMap,kW=new WeakMap,cA=class{constructor(){PW(this,md,[]),PW(this,um,0),PW(this,kW,1/0)}setColumnsLimit(e){IS(kW,this,e)}setData(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];IS(md,this,Rie(e,al(kW,this))),IS(um,this,al(md,this).length)}getData(){return al(md,this)}mergeWith(e){M(e,i=>{let a=i,{row:n,col:r}=a,o=Ki(a,["row","col"]),s=this.getHeaderSettings(n,r);s!==null&&hi(s,o,Tie)})}map(e){M(al(md,this),i=>{M(i,n=>{let r=e(ee({},n));it(r)&&hi(n,r,Tie)})})}getHeaderSettings(e,i){var n;if(e>=al(um,this)||e<0)return null;let r=al(md,this)[e];return Array.isArray(r)===!1||i>=r.length?null:(n=r[i])!==null&&n!==void 0?n:null}getHeadersSettings(e,i){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,r=[];if(e>=al(um,this)||e<0)return r;let o=al(md,this)[e],s=0;for(let a=i;a<o.length;a++){let l=o[a];if(l.isPlaceholder)throw new Error("The first column settings cannot overlap the other header layers");if(s+=l.colspan,r.push(l),l.colspan>1&&(a+=l.colspan-1),s===n)break;if(s>n)throw new Error("The last column settings cannot overlap the other header layers")}return r}getLayersCount(){return al(um,this)}getColumnsCount(){return al(um,this)>0?al(md,this)[0].length:0}clear(){IS(md,this,[]),IS(um,this,0)}};var pFt=w(Q(),1);var uFt=w(Q(),1),hFt=w(be(),1);function NW(t,e,i){return e=QVe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function QVe(t){var e=ZVe(t,"string");return typeof e=="symbol"?e:e+""}function ZVe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LW="DF-pre-order";function Mie(t,e){let i=t.call(e,this);for(let n=0;n<this.childs.length;n++){if(i===!1)return!1;i=Mie.call(this.childs[n],t,e)}return i}var JVe="DF-post-order";function Aie(t,e){for(let i=0;i<this.childs.length;i++)if(Aie.call(this.childs[i],t,e)===!1)return!1;return t.call(e,this)}var Oie="BF";function eBe(t,e){let i=[this];function n(){if(i.length===0)return;let r=i.shift();i.push(...r.childs),t.call(e,r)!==!1&&n()}n()}var tBe=Oie,Die=new Map([[LW,Mie],[JVe,Aie],[Oie,eBe]]),DS=class t{constructor(e){NW(this,"data",{}),NW(this,"parent",null),NW(this,"childs",[]),this.data=e}addChild(e){e.parent=this,this.childs.push(e)}cloneTree(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this,i=new t(ee({},e.data));for(let n=0;n<e.childs.length;n++)i.addChild(this.cloneTree(e.childs[n]));return i}replaceTreeWith(e){this.data=ee({},e.data),this.childs=[];for(let i=0;i<e.childs.length;i++)this.addChild(e.childs[i])}walkDown(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tBe;if(!Die.has(i))throw new Error(`Traversal strategy "${i}" does not exist`);Die.get(i).call(this,e,this)}walkUp(e){let i=this,n=r=>{e.call(i,r)!==!1&&r.parent!==null&&n(r.parent)};n(this)}};function FW(t,e,i){iBe(t,e),e.set(t,i)}function iBe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Mo(t,e){return t.get(Pie(t,e))}function nBe(t,e,i){return t.set(Pie(t,e),i),i}function Pie(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var qb=new WeakMap,hm=new WeakMap,Kb=new WeakMap,dA=class{constructor(e){FW(this,qb,new Map),FW(this,hm,new Map),FW(this,Kb,null),nBe(Kb,this,e)}getRoots(){return Array.from(Mo(qb,this).values())}getRootByColumn(e){let i;return Mo(hm,this).has(e)&&(i=Mo(qb,this).get(Mo(hm,this).get(e))),i}getNode(e,i){let n=this.getRootByColumn(i);if(!n)return;let r=i-Mo(hm,this).get(i),o=0,s;return n.walkDown(a=>{let{data:{origColspan:l,headerLevel:c}}=a;if(e===c){if(r>=o&&r<=o+l-1)return s=a,s.data.isRoot=i===s.data.columnIndex,!1;o+=l}}),s}rebuildTreeIndex(){let e=0;Mo(hm,this).clear(),M(Mo(qb,this),i=>{let[,{data:{colspan:n}}]=i;for(let r=e;r<e+n;r++)Mo(hm,this).set(r,e);e+=n})}buildTree(){this.clear();let e=Mo(Kb,this).getColumnsCount(),i=0;for(;i<e;){let n=Mo(Kb,this).getHeaderSettings(0,i),r=new DS;Mo(qb,this).set(i,r),this.buildLeaves(r,i,0,n.origColspan),i+=n.origColspan}this.rebuildTreeIndex()}buildLeaves(e,i,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,o=Mo(Kb,this).getHeadersSettings(n,i,r);n+=1,M(o,s=>{let a=st(ee({},s),{headerLevel:n-1,columnIndex:i}),l;n===1?(e.data=a,l=e):(l=new DS(a),e.addChild(l)),n<Mo(Kb,this).getLayersCount()&&this.buildLeaves(l,i,n,s.origColspan),i+=s.origColspan})}clear(){Mo(qb,this).clear(),Mo(hm,this).clear()}};var XFt=w(Q(),1);var OFt=w(Fi(),1),PFt=w(Hi(),1),kFt=w(Vi(),1),NFt=w(Bi(),1),LFt=w(Wi(),1),FFt=w(ji(),1),HFt=w(Ui(),1);var wFt=w(Fi(),1),CFt=w(Hi(),1),SFt=w(Vi(),1),xFt=w(Bi(),1),EFt=w(Wi(),1),RFt=w(ji(),1),TFt=w(Ui(),1);function uA(t,e){t.walkDown(i=>{let{data:n,childs:r}=i;if(!n.isHidden&&(e(n.columnIndex),r.length===0))for(let o=1;o<n.colspan;o++)e(n.columnIndex+o)})}function Xb(t,e){let{childs:i}=t;if(i.length!==0)return i[0].data[e]}function Qb(t){return Xb(t,"origColspan")===t.data.origColspan}function MS(t){let{data:e,childs:i}=t;if(!e.isCollapsed||e.isHidden||e.origColspan<=1)return{rollbackModification:()=>{},affectedColumns:[],colspanCompensation:0};if(Qb(t))return MS(i[0]);e.isCollapsed=!1;let r=i.slice(1),o=new Set,s=0;if(r.length>0)M(r,a=>{a.replaceTreeWith(a.data.clonedTree),a.data.clonedTree=null;let l=a.data;s+=l.colspan,uA(a,c=>{o.add(c)})});else{let{colspan:a,origColspan:l,columnIndex:c}=e;s=l-a;for(let d=1;d<l;d++)o.add(c+d)}return t.walkUp(a=>{let{data:l}=a;l.colspan+=s,l.colspan>=l.origColspan?(l.colspan=l.origColspan,l.isCollapsed=!1):Qb(a)&&(l.isCollapsed=Xb(a,"isCollapsed"))}),{rollbackModification:()=>AS(t),affectedColumns:Array.from(o),colspanCompensation:s}}function AS(t){var e;let{data:i,childs:n}=t;if(i.isCollapsed||i.isHidden||i.origColspan<=1)return{rollbackModification:()=>{},affectedColumns:[],colspanCompensation:0};if(Qb(t))return AS(n[0]);i.isCollapsed=!0;let o=n.slice(1),s=new Set;if(o.length>0)M(o,l=>{uA(l,c=>{s.add(c)}),l.data.clonedTree=l.cloneTree(),l.walkDown(c=>{let{data:d}=c;d.isHidden=!0})});else{let{origColspan:l,columnIndex:c}=i;for(let d=1;d<l;d++){let u=c+d;s.add(u)}}let a=i.colspan-((e=Xb(t,"colspan"))!==null&&e!==void 0?e:1);return t.walkUp(l=>{let{data:c}=l;c.colspan-=a,c.colspan<=1?(c.colspan=1,c.isCollapsed=!0):Qb(l)&&(c.isCollapsed=Xb(l,"isCollapsed"))}),{rollbackModification:()=>MS(t),affectedColumns:Array.from(s),colspanCompensation:a}}var UFt=w(Q(),1),zFt=w(be(),1);function kie(t,e){if(!Number.isInteger(e))throw new Error("The passed gridColumnIndex argument has invalid type.");if(t.childs.length>0)throw new Error(Dt`The passed node is not the last node on the tree. Only for\x20
the last node, the hide column modification can be applied.`);let{crossHiddenColumns:i}=t.data;if(i.includes(e))return;let n=!1;t.walkUp(r=>{let{data:{collapsible:o}}=r;if(o)return n=!0,!1}),!n&&t.walkUp(r=>{let{data:o}=r;o.crossHiddenColumns.push(e),o.colspan>1?o.colspan-=1:o.isHidden=!0})}var $Ft=w(Q(),1);function Nie(t,e){if(!Number.isInteger(e))throw new Error("The passed gridColumnIndex argument has invalid type.");if(t.childs.length>0)throw new Error(Dt`The passed node is not the last node on the tree. Only for\x20
the last node, the show column modification can be applied.`);let{crossHiddenColumns:i}=t.data;if(!i.includes(e))return;let n=!1;t.walkUp(r=>{let{data:{collapsible:o}}=r;if(o)return n=!0,!1}),!n&&t.walkUp(r=>{let{data:o}=r;o.crossHiddenColumns.splice(o.crossHiddenColumns.indexOf(e),1),!o.isHidden&&o.colspan<o.origColspan&&(o.colspan+=1),o.isHidden=!1})}var Lie=new Map([["collapse",AS],["expand",MS],["hide-column",kie],["show-column",Nie]]);function Fie(t,e,i){if(!Lie.has(t))throw new Error(`The node modifier action ("${t}") does not exist.`);return Lie.get(t)(e,i)}var iHt=w(be(),1);function OS(t){let e=[];return M(t,i=>{i.walkDown(n=>{let r=n.data,{origColspan:o,columnIndex:s,headerLevel:a,crossHiddenColumns:l}=r,c=oBe(e,a),d=!1;for(let u=s;u<s+o;u++)if(l.includes(u)||d)c.push(lA(r));else{let m=rBe(r);m.isRoot=!0,c.push(m),d=!0}})}),e}function rBe(t){let n=TS(t),{crossHiddenColumns:e}=n;return Ki(n,["crossHiddenColumns"])}function oBe(t,e){let i;return Array.isArray(t[e])?i=t[e]:(i=[],t[e]=i),i}function HW(t,e,i){sBe(t,e),e.set(t,i)}function sBe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function PS(t,e,i){return t.set(Hie(t,e),i),i}function An(t,e){return t.get(Hie(t,e))}function Hie(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var oc=new WeakMap,ns=new WeakMap,fm=new WeakMap,hA=class{constructor(){HW(this,oc,new cA),HW(this,ns,new dA(An(oc,this))),HW(this,fm,[[]])}setState(e){An(oc,this).setData(e);let i=!1;try{An(ns,this).buildTree()}catch{An(ns,this).clear(),An(oc,this).clear(),i=!0}return PS(fm,this,OS(An(ns,this).getRoots())),i}setColumnsLimit(e){An(oc,this).setColumnsLimit(e)}mergeStateWith(e){let i=ct(e,n=>{let s=n,{row:r}=s,o=Ki(s,["row"]);return ee({row:r<0?this.rowCoordsToLevel(r):r},o)});An(oc,this).mergeWith(i),An(ns,this).buildTree(),PS(fm,this,OS(An(ns,this).getRoots()))}mapState(e){An(oc,this).map(e),An(ns,this).buildTree(),PS(fm,this,OS(An(ns,this).getRoots()))}mapNodes(e){return Mi(An(ns,this).getRoots(),(i,n)=>(n.walkDown(r=>{let o=e(r.data);o!==void 0&&i.push(o)}),i),[])}triggerNodeModification(e,i,n){i<0&&(i=this.rowCoordsToLevel(i));let r=An(ns,this).getNode(i,n),o;return r&&(o=Fie(e,r,n),PS(fm,this,OS(An(ns,this).getRoots()))),o}triggerColumnModification(e,i){return this.triggerNodeModification(e,-1,i)}rowCoordsToLevel(e){if(e>=0)return null;let i=e+Math.max(this.getLayersCount(),1);return i<0?null:i}levelToRowCoords(e){if(e<0)return null;let i=e-Math.max(this.getLayersCount(),1);return i>=0?null:i}getHeaderSettings(e,i){var n,r;return e<0&&(e=this.rowCoordsToLevel(e)),e===null||e>=this.getLayersCount()?null:(n=(r=An(fm,this)[e])===null||r===void 0?void 0:r[i])!==null&&n!==void 0?n:null}getHeaderTreeNodeData(e,i){let n=this.getHeaderTreeNode(e,i);return n?ee({},n.data):null}getHeaderTreeNode(e,i){if(e<0&&(e=this.rowCoordsToLevel(e)),e===null||e>=this.getLayersCount())return null;let n=An(ns,this).getNode(e,i);return n||null}findTopMostEntireHeaderLevel(e){var i;let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=n-e+1,o=!1,s=null;for(let a=e;a<=n;a++){let l=An(ns,this).getRootByColumn(a);if(!l)break;o=!0,l.walkDown(c=>{let{columnIndex:d,headerLevel:u,origColspan:f,isHidden:m}=c.data;m||f<=r&&d>=e&&d+f-1<=n&&(s===null||u<s)&&(s=u)},LW)}return o&&s===null?-1:this.levelToRowCoords((i=s)!==null&&i!==void 0?i:0)}findLeftMostColumnIndex(e,i){var n;let{isRoot:r}=(n=this.getHeaderSettings(e,i))!==null&&n!==void 0?n:{isRoot:!0};if(r)return i;let o=i-1;for(;o>=0;){var s;let{isRoot:a}=(s=this.getHeaderSettings(e,o))!==null&&s!==void 0?s:{isRoot:!0};if(a)break;o-=1}return o}findRightMostColumnIndex(e,i){var n;let{isRoot:r,origColspan:o}=(n=this.getHeaderSettings(e,i))!==null&&n!==void 0?n:{isRoot:!0,origColspan:1};if(r)return i+o-1;let s=i+1;for(;s<this.getColumnsCount();){var a;let{isRoot:l}=(a=this.getHeaderSettings(e,s))!==null&&a!==void 0?a:{isRoot:!0};if(l)break;s+=1}return s-1}getLayersCount(){return An(oc,this).getLayersCount()}getColumnsCount(){return An(oc,this).getColumnsCount()}clear(){PS(fm,this,[]),An(oc,this).clear(),An(ns,this).clear()}};var bHt=w(Q(),1);function kS(t,e,i){return e=aBe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function aBe(t){var e=lBe(t,"string");return typeof e=="symbol"?e:e+""}function lBe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VW=class{constructor(e,i){kS(this,"hot",void 0),kS(this,"nestedHeaderSettingsGetter",void 0),kS(this,"layersCount",0),kS(this,"container",void 0),kS(this,"widthsMap",void 0),this.hot=e,this.nestedHeaderSettingsGetter=i,this.widthsMap=this.hot.columnIndexMapper.createAndRegisterIndexMap("nestedHeaders.widthsMap","physicalIndexToValue")}setLayersCount(e){return this.layersCount=e,this}getWidth(e){return this.widthsMap.getValueAtIndex(this.hot.toPhysicalColumn(e))}buildWidthsMap(){this.container=this.hot.rootDocument.createElement("div"),this.container.classList.add("handsontable","htGhostTable","htAutoSize"),this._buildGhostTable(this.container),this.hot.rootDocument.body.appendChild(this.container);let e=this.container.querySelectorAll("tr:last-of-type th"),i=e.length;this.widthsMap.clear();for(let n=0;n<i;n++){let r=this.hot.columnIndexMapper.getVisualFromRenderableIndex(n),o=this.hot.toPhysicalColumn(r);this.widthsMap.setValueAtIndex(o,e[n].offsetWidth)}this.container.parentNode.removeChild(this.container),this.container=null}_buildGhostTable(e){let{rootDocument:i,columnIndexMapper:n}=this.hot,r=i.createDocumentFragment(),o=i.createElement("table"),s=!!this.hot.getSettings().dropdownMenu,a=n.getRenderableIndexesLength();for(let l=0;l<this.layersCount;l++){let c=i.createElement("tr");for(let d=0;d<a;d++){let u=n.getVisualFromRenderableIndex(d);u===null&&(u=d);let f=i.createElement("th"),m=this.nestedHeaderSettingsGetter(l,u);if(m&&(!m.isPlaceholder||m.isHidden)){let g=m.label;s&&(g+='<button class="changeType"></button>'),qs(f,g),f.colSpan=m.colspan,c.appendChild(f)}}o.appendChild(c)}r.appendChild(o),e.appendChild(r)}clear(){this.widthsMap.clear(),this.container=null}},Vie=VW;function cBe(t,e){Wie(t,e),e.add(t)}function Bie(t,e,i){return e=dBe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function dBe(t){var e=uBe(t,"string");return typeof e=="symbol"?e:e+""}function uBe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fA(t,e,i){Wie(t,e),e.set(t,i)}function Wie(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function mm(t,e,i){return t.set(On(t,e),i),i}function pi(t,e){return t.get(On(t,e))}function On(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var BW="nestedHeaders",jie=280,$i=new WeakMap,gh=new WeakMap,NS=new WeakMap,pA=new WeakMap,Wn=new WeakSet,LS=class extends rt{constructor(){super(...arguments),cBe(this,Wn),fA(this,$i,new hA),fA(this,gh,null),fA(this,NS,null),fA(this,pA,!1),Bie(this,"ghostTable",new Vie(this.hot,(e,i)=>this.getHeaderSettings(e,i))),Bie(this,"detectedOverlappedHeaders",!1)}static get PLUGIN_KEY(){return BW}static get PLUGIN_PRIORITY(){return jie}isEnabled(){return!!this.hot.getSettings()[BW]}enablePlugin(){var e=this;if(this.enabled)return;let{nestedHeaders:i}=this.hot.getSettings();(!Array.isArray(i)||!Array.isArray(i[0]))&&zt(Dt`Your Nested Headers plugin configuration is invalid. The settings has to be\x20
                        passed as an array of arrays e.q. [['A1', { label: 'A2', colspan: 2 }]]`),this.addHook("init",()=>On(Wn,this,TBe).call(this)),this.addHook("afterLoadData",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return On(Wn,e,IBe).call(e,...r)}),this.addHook("beforeOnCellMouseDown",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return On(Wn,e,pBe).call(e,...r)}),this.addHook("afterOnCellMouseDown",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return On(Wn,e,gBe).call(e,...r)}),this.addHook("beforeOnCellMouseOver",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return On(Wn,e,bBe).call(e,...r)}),this.addHook("beforeOnCellMouseUp",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return On(Wn,e,vBe).call(e,...r)}),this.addHook("beforeSelectionHighlightSet",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return On(Wn,e,_Be).call(e,...r)}),this.addHook("modifyTransformStart",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return On(Wn,e,yBe).call(e,...r)}),this.addHook("afterSelection",()=>On(Wn,this,mA).call(this)),this.addHook("afterSelectionFocusSet",()=>On(Wn,this,mA).call(this)),this.addHook("beforeViewportScrollHorizontally",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return On(Wn,e,hBe).call(e,...r)}),this.addHook("afterGetColumnHeaderRenderers",n=>On(Wn,this,CBe).call(this,n)),this.addHook("modifyColWidth",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return On(Wn,e,xBe).call(e,...r)}),this.addHook("modifyColumnHeaderValue",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return On(Wn,e,EBe).call(e,...r)}),this.addHook("beforeHighlightingColumnHeader",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return On(Wn,e,fBe).call(e,...r)}),this.addHook("beforeCopy",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return On(Wn,e,mBe).call(e,...r)}),this.addHook("beforeSelectColumns",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return On(Wn,e,wBe).call(e,...r)}),this.addHook("afterViewportColumnCalculatorOverride",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return On(Wn,e,SBe).call(e,...r)}),this.addHook("modifyFocusedElement",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return On(Wn,e,RBe).call(e,...r)}),this.hot.columnIndexMapper.addLocalHook("cacheUpdated",()=>On(Wn,this,mA).call(this)),this.hot.rowIndexMapper.addLocalHook("cacheUpdated",()=>On(Wn,this,mA).call(this)),super.enablePlugin(),this.updatePlugin()}updatePlugin(){if(!this.hot.view)return;let{nestedHeaders:e}=this.hot.getSettings();pi($i,this).setColumnsLimit(this.hot.countCols()),Array.isArray(e)&&(this.detectedOverlappedHeaders=pi($i,this).setState(e)),this.detectedOverlappedHeaders&&zt(Dt`Your Nested Headers plugin setup contains overlapping headers. This kind of configuration\x20
                        is currently not supported.`),this.enabled&&this.hot.columnIndexMapper.hidingMapsCollection.getMergedValues().forEach((i,n)=>{let r=i===!0?"hide-column":"show-column";pi($i,this).triggerColumnModification(r,n)}),!pi(gh,this)&&this.enabled&&mm(gh,this,this.hot.columnIndexMapper.createChangesObserver("hiding").subscribe(i=>{i.forEach(n=>{let{op:r,index:o,newValue:s}=n;if(r==="replace"){let a=s===!0?"hide-column":"show-column";pi($i,this).triggerColumnModification(a,o)}}),this.ghostTable.buildWidthsMap()})),this.ghostTable.setLayersCount(this.getLayersCount()).buildWidthsMap(),super.updatePlugin()}disablePlugin(){this.clearColspans(),pi($i,this).clear(),pi(gh,this).unsubscribe(),mm(gh,this,null),this.ghostTable.clear(),super.disablePlugin()}getStateManager(){return pi($i,this)}getLayersCount(){return pi($i,this).getLayersCount()}getHeaderSettings(e,i){return pi($i,this).getHeaderSettings(e,i)}clearColspans(){if(!this.hot.view)return;let{_wt:e}=this.hot.view,i=e.getSetting("columnHeaders").length,n=e.wtTable.THEAD,r=e.wtOverlays.topOverlay.clone.wtTable.THEAD,o=e.wtOverlays.topInlineStartCornerOverlay?e.wtOverlays.topInlineStartCornerOverlay.clone.wtTable.THEAD:null;for(let s=0;s<i;s++){let a=n.childNodes[s];if(!a)break;let l=r.childNodes[s],c=o?o.childNodes[s]:null;for(let d=0,u=a.childNodes.length;d<u;d++)a.childNodes[d].removeAttribute("colspan"),tt(a.childNodes[d],"hiddenHeader"),l&&l.childNodes[d]&&(l.childNodes[d].removeAttribute("colspan"),tt(l.childNodes[d],"hiddenHeader")),o&&c&&c.childNodes[d]&&(c.childNodes[d].removeAttribute("colspan"),tt(c.childNodes[d],"hiddenHeader"))}}headerRendererFactory(e){var i=this;let n=this.hot.view._wt.getSetting("fixedColumnsStart");return(r,o)=>{var s;let{columnIndexMapper:a,view:l}=this.hot,c=a.getVisualFromRenderableIndex(r);c===null&&(c=r),o.removeAttribute("colspan"),tt(o,"hiddenHeader");let{colspan:d,isHidden:u,isPlaceholder:f}=(s=pi($i,this).getHeaderSettings(e,c))!==null&&s!==void 0?s:{label:""};if(f||u)ne(o,"hiddenHeader");else if(d>1){var m,g;let{wtOverlays:_}=l._wt,b=(m=_.topInlineStartCornerOverlay)===null||m===void 0?void 0:m.clone.wtTable.THEAD.contains(o),y=(g=_.inlineStartOverlay)===null||g===void 0?void 0:g.clone.wtTable.THEAD.contains(o),x=b||y?Math.min(d,n-r):d;x>1&&o.setAttribute("colspan",x)}this.hot.view.appendColHeader(c,o,function(){return i.getColumnHeaderValue(...arguments)},e)}}getColumnHeaderValue(e,i){var n;let{isHidden:r,isPlaceholder:o}=(n=pi($i,this).getHeaderSettings(i,e))!==null&&n!==void 0?n:{};return o||r?"":this.hot.getColHeader(e,i)}destroy(){mm($i,this,null),pi(gh,this)!==null&&(pi(gh,this).unsubscribe(),mm(gh,this,null)),super.destroy()}_getHeaderTreeNodeDataByCoords(e){if(!(e.row>=0||e.col<0))return pi($i,this).getHeaderTreeNodeData(e.row,e.col)}};function mA(){var t;let e=(t=this.hot)===null||t===void 0?void 0:t.getSelectedRangeLast();if(!e)return;let{highlight:i}=e;if(i.isHeader()&&i.col>=0){let r=pi($i,this).findLeftMostColumnIndex(i.row,i.col),o=this.hot.selection.highlight.getFocus();o.visualCellRange.highlight.col=r,o.visualCellRange.from.col=r,o.visualCellRange.to.col=r,o.commit()}}function hBe(t){let e=this.hot.getSelectedRangeLast();if(!e)return t;let{highlight:i}=e;if(!(i.isHeader()&&i.col>=0))return t;let r=this.hot.view.getFirstFullyVisibleColumn(),o=this.hot.view.getLastFullyVisibleColumn(),s=pi($i,this).findLeftMostColumnIndex(i.row,i.col),a=pi($i,this).findRightMostColumnIndex(i.row,i.col);return s<r&&a>o?t:s<r?s:a}function fBe(t,e,i){let n=pi($i,this).getHeaderTreeNodeData(e,t);if(!n)return t;let{columnCursor:r,selectionType:o,selectionWidth:s}=i,{isRoot:a,colspan:l}=pi($i,this).getHeaderSettings(e,t);if(o===Ou){if(!a)return n.columnIndex}else if(o===Cg&&(l>s-r||!a))return null;return t}function mBe(t,e,i){let{columnHeadersCount:n}=i;if(n!==0)for(let o=0;o<e.length;o++){let{startRow:s,startCol:a,endRow:l,endCol:c}=e[o],d=l-s+1,u=a-c+1;if(s>=0||u===1)break;for(let f=a;f<=c;f++)for(let m=s;m<=l;m++){var r;let g=d+m,_=f-a;if(_===0)continue;((r=pi($i,this).getHeaderTreeNodeData(m,f))===null||r===void 0?void 0:r.isRoot)===!1&&(t[g][_]="")}}}function pBe(t,e,i,n){this._getHeaderTreeNodeDataByCoords(e)&&(n.column=!0)}function gBe(t,e){let i=this._getHeaderTreeNodeDataByCoords(e);if(!i)return;mm(NS,this,e.clone()),mm(pA,this,!0);let{selection:n}=this.hot,r=n.isSelected()?n.getSelectedRange().current():null,o=[],{columnIndex:s,origColspan:a}=i,l=!n.inInSelection(e);t.shiftKey&&r?e.col<r.from.col?o.push(r.getTopEndCorner().col,s,e.row):e.col>r.from.col?o.push(r.getTopStartCorner().col,s+a-1,e.row):o.push(s,s+a-1,e.row):(dg(t)||ms(t)&&l)&&o.push(s,s+a-1,e.row),n.selectColumns(...o)}function bBe(t,e,i,n){if(!this.hot.view.isMouseDown())return;let r=this._getHeaderTreeNodeDataByCoords(e);if(!r)return;let{columnIndex:o,origColspan:s}=r,a=this.hot.getSelectedRangeLast(),l=a.getTopStartCorner(),c=a.getBottomEndCorner(),{from:d}=a;n.column=!0,n.cell=!0;let u=[],f=mi(e.row,-1/0,-1);e.col<d.col?u.push(c.col,o,f):e.col>d.col?u.push(l.col,o+s-1,f):u.push(o,o+s-1,f),this.hot.selection.selectColumns(...u)}function vBe(){mm(pA,this,!1)}function _Be(){let{navigableHeaders:t}=this.hot.getSettings();if(!this.hot.view.isMouseDown()||!pi(pA,this)||!t)return;let e=this.hot.getSelectedRangeLast(),i=e.getTopStartCorner().col,n=e.getBottomEndCorner().col,{columnIndex:r,origColspan:o}=pi($i,this).getHeaderTreeNodeData(pi(NS,this).row,pi(NS,this).col);if(e.setHighlight(pi(NS,this)),o>e.getWidth()||r<i||r+o-1>n){let s=pi($i,this).findTopMostEntireHeaderLevel(mi(i,r,r+o-1),mi(n,r,r+o-1));e.highlight.row=s,e.highlight.col=e.from.col}}function yBe(t){let{highlight:e}=this.hot.getSelectedRangeLast(),i=this.hot._createCellCoords(e.row+t.row,e.col+t.col);if(!(i.isHeader()&&i.col>=0))return;let r=pi($i,this).findLeftMostColumnIndex(i.row,i.col),o=pi($i,this).findRightMostColumnIndex(i.row,i.col);if(t.col<0){let s=e.col>=r&&e.col<=o?r-1:o,a=this.hot.columnIndexMapper.getNearestNotHiddenIndex(s,-1);a===null?t.col=-this.hot.view.countRenderableColumnsInRange(0,e.col):t.col=-Math.max(this.hot.view.countRenderableColumnsInRange(a,e.col)-1,1)}else if(t.col>0){let s=e.col>=r&&e.col<=o?o+1:r,a=this.hot.columnIndexMapper.getNearestNotHiddenIndex(s,1);a===null?t.col=this.hot.view.countRenderableColumnsInRange(e.col,this.hot.countCols()):t.col=Math.max(this.hot.view.countRenderableColumnsInRange(e.col,a)-1,1)}}function wBe(t,e){let i=t.row,n=this._getHeaderTreeNodeDataByCoords({row:i,col:t.col}),r=this._getHeaderTreeNodeDataByCoords({row:i,col:e.col});e.col<t.col?(n&&(t.col=n.columnIndex+n.origColspan-1),r&&(e.col=r.columnIndex)):e.col>=t.col&&(n&&(t.col=n.columnIndex),r&&(e.col=r.columnIndex+r.origColspan-1))}function CBe(t){t.length=0;for(let e=0;e<pi($i,this).getLayersCount();e++)t.push(this.headerRendererFactory(e))}function SBe(t){let e=pi($i,this).getLayersCount(),i=t.startColumn,n=!!e;for(let r=0;r<e;r++){let o=pi($i,this).findLeftMostColumnIndex(r,t.startColumn),s=this.hot.columnIndexMapper.getRenderableFromVisualIndex(o);if(o>=0&&(n=!1),Qn(s)&&s<t.startColumn){i=s;break}}t.startColumn=n?pi($i,this).getHeaderTreeNodeData(0,i).columnIndex:i}function xBe(t,e){let i=this.ghostTable.getWidth(e);return t>i?t:i}function EBe(t,e,i){var n;let{label:r}=(n=pi($i,this).getHeaderTreeNodeData(i,e))!==null&&n!==void 0?n:{label:""};return r}function RBe(t,e){if(t<0)return this.hot.getCell(t,pi($i,this).findLeftMostColumnIndex(t,e),!0)}function TBe(){this.updatePlugin()}function IBe(t,e){e||this.updatePlugin()}var fVt=w(Q(),1),mVt=w(be(),1),pVt=w(Fi(),1),gVt=w(Hi(),1),bVt=w(Vi(),1),vVt=w(Bi(),1),_Vt=w(Wi(),1),yVt=w(ji(),1),wVt=w(Ui(),1);var kHt=w(Q(),1),NHt=w(be(),1);function FS(t,e,i){return e=DBe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function DBe(t){var e=MBe(t,"string");return typeof e=="symbol"?e:e+""}function MBe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WW=class{constructor(e,i){FS(this,"hot",void 0),FS(this,"data",null),FS(this,"plugin",void 0),FS(this,"parentReference",new WeakMap),FS(this,"cache",{levels:[],levelCount:0,rows:[],nodeInfo:new WeakMap}),this.hot=i,this.plugin=e}setData(e){this.data=e}getData(){return this.data}getRawSourceData(){let e=null;return this.plugin.disableCoreAPIModifiers(),e=this.hot.getSourceData(),this.plugin.enableCoreAPIModifiers(),e}updateWithData(e){this.setData(e),this.rewriteCache()}rewriteCache(){this.cache={levels:[],levelCount:0,rows:[],nodeInfo:new WeakMap},Se(0,this.data.length-1,e=>{this.cacheNode(this.data[e],0,null)})}cacheNode(e,i,n){this.cache.levels[i]||(this.cache.levels[i]=[],this.cache.levelCount+=1),this.cache.levels[i].push(e),this.cache.rows.push(e),this.cache.nodeInfo.set(e,{parent:n,row:this.cache.rows.length-1,level:i}),this.hasChildren(e)&&M(e.__children,r=>{this.cacheNode(r,i+1,e)})}getDataObject(e){return e==null?null:this.cache.rows[e]}readTreeNodes(e,i,n,r){let o=!1,s=i;if(isNaN(s)&&s.end)return s;let a=e;return a||(a={__children:this.data},o=!0,s-=1),n!=null&&s===n?{result:a,end:!0}:r!=null&&a===r?{result:s,end:!0}:(s+=1,a.__children&&M(a.__children,l=>{if(this.parentReference.set(l,o?null:a),s=this.readTreeNodes(l,s,n,r),isNaN(s)&&s.end)return!1}),s)}mockParent(){let e=this.mockNode();return e.__children=this.data,e}mockNode(){let e={};return nt(this.data[0],(i,n)=>{e[n]=null}),e}getRowIndex(e){return e==null?null:this.cache.nodeInfo.get(e).row}getRowIndexWithinParent(e){let i=null;isNaN(e)?i=e:i=this.getDataObject(e);let n=this.getRowParent(e);return n==null?this.data.indexOf(i):n.__children.indexOf(i)}countAllRows(){let e={__children:this.data};return this.countChildren(e)}countChildren(e){let i=0,n=e;return isNaN(n)||(n=this.getDataObject(n)),!n||!n.__children?0:(M(n.__children,r=>{i+=1,r.__children&&(i+=this.countChildren(r))}),i)}getRowParent(e){let i;return isNaN(e)?i=e:i=this.getDataObject(e),this.getRowObjectParent(i)}getRowObjectParent(e){return!e||typeof e!="object"?null:this.cache.nodeInfo.get(e).parent}getRowLevel(e){let i=null;return isNaN(e)?i=e:i=this.getDataObject(e),i?this.getRowObjectLevel(i):null}getRowObjectLevel(e){return e==null?null:this.cache.nodeInfo.get(e).level}hasChildren(e){let i=e;return isNaN(i)||(i=this.getDataObject(i)),!!(i.__children&&i.__children.length)}isChild(e){return this.getRowParent(e)!==null}getChild(e,i){var n;return((n=e.__children)===null||n===void 0?void 0:n[i])||null}isRowHighestLevel(e){return!this.isChild(e)}isParent(e){var i;let n=e;return isNaN(n)||(n=this.getDataObject(n)),n&&!!n.__children&&((i=n.__children)===null||i===void 0?void 0:i.length)!==0}addChild(e,i){let n=i;this.hot.runHooks("beforeAddChild",e,n);let r=null;e&&(r=this.getRowIndex(e)),this.hot.runHooks("beforeCreateRow",r+this.countChildren(e)+1,1);let o=e;e||(o=this.mockParent()),o.__children||(o.__children=[]),n||(n=this.mockNode()),o.__children.push(n),this.rewriteCache();let s=this.getRowIndex(n);this.hot.rowIndexMapper.insertIndexes(s,1),this.hot.runHooks("afterCreateRow",s,1),this.hot.runHooks("afterAddChild",e,n)}addChildAtIndex(e,i,n){let r=n,o;if(r||(r=this.mockNode()),this.hot.runHooks("beforeAddChild",e,r,i),e){let a=this.getRowIndex(e)+i+1;this.hot.runHooks("beforeCreateRow",a,1),e.__children.splice(i,null,r),this.rewriteCache(),this.plugin.disableCoreAPIModifiers(),this.hot.setSourceDataAtCell(this.getRowIndexWithinParent(e),"__children",e.__children,"NestedRows.addChildAtIndex"),this.hot.rowIndexMapper.insertIndexes(a,1),this.plugin.enableCoreAPIModifiers(),this.hot.runHooks("afterCreateRow",a,1),o=a}else this.plugin.disableCoreAPIModifiers(),this.hot.alter("insert_row_above",i,1,"NestedRows.addChildAtIndex"),this.plugin.enableCoreAPIModifiers(),o=this.getRowIndex(this.data[i]);r=this.getDataObject(o),this.hot.runHooks("afterAddChild",e,r,i)}addSibling(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"below",n=this.translateTrimmedRow(e),r=this.getRowParent(n),o=this.getRowIndexWithinParent(n);switch(i){case"below":this.addChildAtIndex(r,o+1,null);break;case"above":this.addChildAtIndex(r,o,null);break;default:break}}detachFromParent(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=null,r=[];Array.isArray(e)?(Se(e[0],e[2],f=>{let m=this.translateTrimmedRow(f);r.push(this.getDataObject(m))}),Se(0,r.length-2,f=>{this.detachFromParent(r[f],!1)}),n=r[r.length-1]):n=e;let o=this.getRowIndex(n),s=this.countChildren(n),a=this.getRowIndexWithinParent(n),l=this.getRowParent(n),c=this.getRowParent(l),d=this.getRowIndex(c),u=null;if(this.hot.runHooks("beforeDetachChild",l,n),a!=null){let f=Array.from(new Array(o+s+1).keys()).splice(-1*(s+1));if(this.hot.runHooks("beforeRemoveRow",o,s+1,f,this.plugin.pluginName),l.__children.splice(a,1),this.rewriteCache(),this.hot.runHooks("afterRemoveRow",o,s+1,f,this.plugin.pluginName),c){u=d+this.countChildren(c);let m=this.getChild(c,this.countChildren(c)-1),g=this.getRowIndex(m);this.hot.runHooks("beforeCreateRow",g+1,s+1,this.plugin.pluginName),c.__children.push(n)}else u=this.hot.countRows()+1,this.hot.runHooks("beforeCreateRow",u-2,s+1,this.plugin.pluginName),this.data.push(n)}this.rewriteCache(),this.hot.runHooks("afterCreateRow",u-2,s+1,this.plugin.pluginName),this.hot.runHooks("afterDetachChild",l,n,this.getRowIndex(n)),i&&this.hot.render()}filterData(e,i,n){let r=[];M(n,o=>{r.push(this.getDataObject(o))}),M(r,o=>{let s=this.getRowIndexWithinParent(o),a=this.getRowParent(o);a===null?this.data.splice(s,1):a.__children.splice(s,1)}),this.rewriteCache()}spliceData(e,i,n){let r=this.getDataObject(e-1),o=null,s=e;r&&r.__children&&r.__children.length===0?(o=r,s=0):e<this.countAllRows()&&(o=this.getRowParent(e),s=this.getRowIndexWithinParent(e)),o?n?o.__children.splice(s,i,...n):o.__children.splice(s,i):n?this.data.splice(s,i,...n):this.data.splice(s,i),this.rewriteCache()}syncRowWithRawSource(e){let i=e,n=null;do n=this.getRowParent(n),n!==null&&(i=n);while(n!==null);this.plugin.disableCoreAPIModifiers(),this.hot.setSourceDataAtCell(this.getRowIndex(i),"__children",i.__children,"NestedRows.syncRowWithRawSource"),this.plugin.enableCoreAPIModifiers()}moveRow(e,i,n,r){let o=i===this.hot.countRows(),s=this.getRowParent(e),a=this.getRowIndexWithinParent(e),l=s.__children.slice(a,a+1),c=e>i,d=o?this.getRowParent(i-1):this.getRowParent(i);d==null&&(d=this.getRowParent(i-1)),d==null&&(d=this.getDataObject(i-1)),d?d.__children||(d.__children=[]):(d=this.getDataObject(i),d.__children=[]);let u=o||n||r?d.__children.length:this.getRowIndexWithinParent(i),f=s===d;d.__children.splice(u,0,l[0]),s.__children.splice(a+(c&&f?1:0),1),this.syncRowWithRawSource(s),f||this.syncRowWithRawSource(d)}translateTrimmedRow(e){return this.plugin.collapsingUI?this.plugin.collapsingUI.translateTrimmedRow(e):e}untranslateTrimmedRow(e){return this.plugin.collapsingUI?this.plugin.collapsingUI.untranslateTrimmedRow(e):e}},Uie=WW;var qHt=w(be(),1);var BHt=w(Q(),1);function zie(t,e,i){return e=ABe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function ABe(t){var e=OBe(t,"string");return typeof e=="symbol"?e:e+""}function OBe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jW=class{constructor(e,i){zie(this,"hot",void 0),zie(this,"plugin",void 0),this.hot=i,this.plugin=e}},Zb=jW;var UW=class t extends Zb{static get CSS_CLASSES(){return{indicatorContainer:"ht_nestingLevels",parent:"ht_nestingParent",indicator:"ht_nestingLevel",emptyIndicator:"ht_nestingLevel_empty",button:"ht_nestingButton",expandButton:"ht_nestingExpand",collapseButton:"ht_nestingCollapse"}}constructor(e,i){super(e,i),this.dataManager=this.plugin.dataManager,this.collapsingUI=this.plugin.collapsingUI,this.rowHeaderWidthCache=null}appendLevelIndicators(e,i){let n=this.hot.toPhysicalRow(e),r=this.dataManager.getRowLevel(n),o=this.dataManager.getDataObject(n),s=i.getElementsByTagName("DIV")[0],a=s.querySelector("span.rowHeader"),l=s.querySelectorAll('[class^="ht_nesting"]'),c=this.hot.getSettings().ariaTags;if(M(l,d=>{d&&s.removeChild(d)}),ne(i,t.CSS_CLASSES.indicatorContainer),r){let{rootDocument:d}=this.hot,u=a.cloneNode(!0);s.innerHTML="",Se(0,r-1,()=>{let f=d.createElement("SPAN");ne(f,t.CSS_CLASSES.emptyIndicator),s.appendChild(f)}),s.appendChild(u)}if(this.dataManager.hasChildren(o)){let d=this.hot.rootDocument.createElement("DIV");c&&Le(d,[Sr()]),ne(i,t.CSS_CLASSES.parent),this.collapsingUI.areChildrenCollapsed(n)?(ne(d,`${t.CSS_CLASSES.button} ${t.CSS_CLASSES.expandButton}`),c&&Le(i,[zr(!1)])):(ne(d,`${t.CSS_CLASSES.button} ${t.CSS_CLASSES.collapseButton}`),c&&Le(i,[zr(!0)])),s.appendChild(d)}}updateRowHeaderWidth(e){let i=e;i||(i=this.dataManager.cache.levelCount),this.rowHeaderWidthCache=Math.max(50,11+10*i+25),this.hot.render()}},gA=UW;var zW=class extends Zb{constructor(e,i){var n;super(e,i),n=this,this.dataManager=this.plugin.dataManager,this.collapsedRows=[],this.collapsedRowsStash={stash:function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;n.lastCollapsedRows=n.collapsedRows.slice(0),n.expandMultipleChildren(n.lastCollapsedRows,r)},shiftStash:function(r,o){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;o==null&&(o=1/0),M(n.lastCollapsedRows,(a,l)=>{a>=r&&a<o&&(n.lastCollapsedRows[l]=a+s)})},applyStash:function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;n.collapseMultipleChildren(n.lastCollapsedRows,r),n.lastCollapsedRows=void 0},trimStash:(r,o)=>{Se(r,r+o-1,s=>{let a=this.lastCollapsedRows.indexOf(s);a>-1&&this.lastCollapsedRows.splice(a,1)})}}}collapseChildren(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=[],o=null,s=null,a=null;return isNaN(e)?(o=e,s=this.dataManager.getRowIndex(o)):(o=this.dataManager.getDataObject(e),s=e),this.dataManager.hasChildren(o)&&M(o.__children,l=>{r.push(this.dataManager.getRowIndex(l))}),a=this.collapseRows(r,!0,!1),n&&this.trimRows(a),i&&this.renderAndAdjust(),this.collapsedRows.indexOf(s)===-1&&this.collapsedRows.push(s),a}collapseMultipleChildren(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=[];M(e,o=>{r.push(...this.collapseChildren(o,!1,!1))}),n&&this.trimRows(r),i&&this.renderAndAdjust()}collapseRow(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.collapseRows([e],i)}collapseRows(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=[];return M(e,o=>{r.push(o),i&&this.collapseChildRows(o,r)}),n&&this.trimRows(r),r}collapseChildRows(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(this.dataManager.hasChildren(e)){let o=this.dataManager.getDataObject(e);M(o.__children,s=>{let a=this.dataManager.getRowIndex(s);i.push(a),this.collapseChildRows(a,i)})}r&&this.trimRows(i)}expandRow(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.expandRows([e],i)}expandRows(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=[];return M(e,o=>{r.push(o),i&&this.expandChildRows(o,r)}),n&&this.untrimRows(r),r}expandChildRows(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(this.dataManager.hasChildren(e)){let o=this.dataManager.getDataObject(e);M(o.__children,s=>{if(!this.isAnyParentCollapsed(s)){let a=this.dataManager.getRowIndex(s);i.push(a),this.expandChildRows(a,i)}})}r&&this.untrimRows(i)}expandChildren(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=[],o=null,s=null,a=null;return isNaN(e)?(o=e,s=this.dataManager.getRowIndex(e)):(o=this.dataManager.getDataObject(e),s=e),this.collapsedRows.splice(this.collapsedRows.indexOf(s),1),this.dataManager.hasChildren(o)&&M(o.__children,l=>{let c=this.dataManager.getRowIndex(l);r.push(c)}),a=this.expandRows(r,!0,!1),n&&this.untrimRows(a),i&&this.renderAndAdjust(),a}expandMultipleChildren(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=[];M(e,o=>{r.push(...this.expandChildren(o,!1,!1))}),n&&this.untrimRows(r),i&&this.renderAndAdjust()}collapseAll(){let e=this.dataManager.getData(),i=[];M(e,n=>{this.dataManager.hasChildren(n)&&i.push(n)}),this.collapseMultipleChildren(i),this.renderAndAdjust()}expandAll(){let e=this.dataManager.getData(),i=[];M(e,n=>{this.dataManager.hasChildren(n)&&i.push(n)}),this.expandMultipleChildren(i),this.renderAndAdjust()}trimRows(e){this.hot.batchExecution(()=>{M(e,i=>{this.plugin.collapsedRowsMap.setValueAtIndex(i,!0)})},!0)}untrimRows(e){this.hot.batchExecution(()=>{M(e,i=>{this.plugin.collapsedRowsMap.setValueAtIndex(i,!1)})},!0)}areChildrenCollapsed(e){let i=isNaN(e)?e:this.dataManager.getDataObject(e),n=!0;return i===null&&(i={__children:this.dataManager.data}),this.dataManager.hasChildren(i)&&M(i.__children,r=>{let o=this.dataManager.getRowIndex(r);if(!this.plugin.collapsedRowsMap.getValueAtIndex(o))return n=!1,!1}),n}isAnyParentCollapsed(e){let i=e;for(;i!==null;){i=this.dataManager.getRowParent(i);let n=this.dataManager.getRowIndex(i);if(this.collapsedRows.indexOf(n)>-1)return!0}return!1}toggleState(e,i){if(i.col>=0)return;let n=this.translateTrimmedRow(i.row);Fe(e.target,gA.CSS_CLASSES.button)&&(this.areChildrenCollapsed(n)?this.expandChildren(n):this.collapseChildren(n),Hn(e))}translateTrimmedRow(e){return this.hot.toPhysicalRow(e)}untranslateTrimmedRow(e){return this.hot.toVisualRow(e)}renderAndAdjust(){this.hot.render(),this.hot.view.adjustElementsSize()}},Yie=zW;var iVt=w(Q(),1);function PBe(t,e,i){kBe(t,e),e.set(t,i)}function kBe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function NBe(t,e,i){return e=LBe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function LBe(t){var e=FBe(t,"string");return typeof e=="symbol"?e:e+""}function FBe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HBe(t,e){return t.get(VBe(t,e))}function VBe(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var Gie=new WeakMap,YW=class extends Zb{constructor(){super(...arguments),NBe(this,"dataManager",this.plugin.dataManager),PBe(this,Gie,{row_above:(e,i)=>{let n=i[i.length-1];this.dataManager.addSibling(n.start.row,"above")},row_below:(e,i)=>{let n=i[i.length-1];this.dataManager.addSibling(n.start.row,"below")}})}appendOptions(e){let i=[{key:"add_child",name(){return this.getTranslatedPhrase(Yw)},callback:()=>{let n=this.dataManager.translateTrimmedRow(this.hot.getSelectedLast()[0]),r=this.dataManager.getDataObject(n);this.dataManager.addChild(r)},disabled:()=>{let n=this.hot.getSelectedLast();return!n||n[0]<0||this.hot.selection.isSelectedByColumnHeader()||this.hot.countRows()>=this.hot.getSettings().maxRows}},{key:"detach_from_parent",name(){return this.getTranslatedPhrase(Gw)},callback:()=>{this.dataManager.detachFromParent(this.hot.getSelectedLast())},disabled:()=>{let n=this.hot.getSelectedLast(),r=this.dataManager.translateTrimmedRow(n[0]);return!this.dataManager.getRowParent(r)||!n||n[0]<0||this.hot.selection.isSelectedByColumnHeader()||this.hot.countRows()>=this.hot.getSettings().maxRows}},{name:"---------"}];return Se(0,e.items.length-1,n=>{if(n===0)return M(i,(r,o)=>{e.items.splice(n+o,0,r)}),!1}),this.modifyRowInsertingOptions(e)}modifyRowInsertingOptions(e){return Se(0,e.items.length-1,i=>{let n=HBe(Gie,this)[e.items[i].key];n!=null&&(e.items[i].callback=n)}),e}},$ie=YW;var aVt=w(Q(),1),lVt=w(be(),1);function bA(t,e,i){return e=BBe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function BBe(t){var e=WBe(t,"string");return typeof e=="symbol"?e:e+""}function WBe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vA=class{constructor(e){bA(this,"plugin",void 0),bA(this,"hot",void 0),bA(this,"dataManager",void 0),bA(this,"collapsingUI",void 0),this.plugin=e,this.hot=e.hot,this.dataManager=e.dataManager,this.collapsingUI=e.collapsingUI}onBeforeRowMove(e,i,n,r){if(this.displayAPICompatibilityWarning({rows:e,finalIndex:i,dropIndex:n,movePossible:r}))return!1;this.movedToCollapsed=!1;let s=n===this.hot.countRows(),a=s?this.hot.countSourceRows():this.dataManager.translateTrimmedRow(n),l=!0,c=e.map(g=>{if(!l)return!1;let _=this.dataManager.translateTrimmedRow(g);return l=this.shouldAllowMoving(_,a),_}),d=c.indexOf(a)===-1;if(!l||!d)return!1;let u=this.getBaseParent(c),f=this.getTargetParent(s,a),m=u===f;return this.movedToCollapsed=this.collapsingUI.areChildrenCollapsed(f),this.collapsingUI.collapsedRowsStash.stash(),this.shiftCollapsibleParentsLocations(c,a,m),this.moveRows(c,a,f),this.dataManager.rewriteCache(),this.moveCellsMeta(c,a),this.collapsingUI.collapsedRowsStash.applyStash(!1),this.hot.runHooks("afterRowMove",e,i,n,r,r&&this.isRowOrderChanged(e,i)),this.hot.render(),this.selectCells(e,n),!1}displayAPICompatibilityWarning(e){let{rows:i,finalIndex:n,dropIndex:r,movePossible:o}=e,s=!1;return Gt(r)&&(zt(Dt`Since version 8.0.0 of the Handsontable the 'moveRows' method isn't used for moving rows\x20
      when the NestedRows plugin is enabled. Please use the 'dragRows' method instead.`),this.hot.runHooks("afterRowMove",i,n,r,o,!1),s=!0),s}shouldAllowMoving(e,i){return!(this.dataManager.isParent(e)||this.dataManager.isRowHighestLevel(e)||e===i||i===0)}getBaseParent(e){return this.dataManager.getRowParent(e[0])}getTargetParent(e,i){let n=this.dataManager.getRowParent(e?i-1:i);return n==null&&(n=this.dataManager.getRowParent(i-1)),n}shiftCollapsibleParentsLocations(e,i,n){n||(Math.max(...e)<=i?this.collapsingUI.collapsedRowsStash.shiftStash(e[0],i,-1*e.length):this.collapsingUI.collapsedRowsStash.shiftStash(i,e[0],e.length))}moveRows(e,i,n){let r=i===this.dataManager.getRowIndex(n)+this.dataManager.countChildren(n)+1;this.hot.batchRender(()=>{e.forEach(o=>{this.dataManager.moveRow(o,i,this.movedToCollapsed,r)})})}moveCellsMeta(e,i){let n=[],r=Math.max(...e)<i;e.forEach(o=>{n.push(this.hot.getCellMetaAtRow(o))}),this.hot.spliceCellsMeta(e[0],e.length),this.hot.spliceCellsMeta(i-(r?n.length:0),0,...n)}selectCells(e,i){let n=e.length,r=0,o=0,s=null,a=null;if(this.movedToCollapsed){let l=null;e[n-1]<i?l=this.dataManager.translateTrimmedRow(i-n):l=this.dataManager.translateTrimmedRow(i);let c=this.dataManager.getRowParent(l===null?this.hot.countSourceRows()-1:l-1),d=this.dataManager.getRowIndex(c);r=this.dataManager.untranslateTrimmedRow(d),o=r}else e[n-1]<i?(o=i-1,r=o-n+1):(r=i,o=r+n-1);s=this.hot.selection,a=this.hot.countCols()-1,s.setRangeStart(this.hot._createCellCoords(r,0)),s.setRangeEnd(this.hot._createCellCoords(o,a),!0)}isRowOrderChanged(e,i){return e.some((n,r)=>n-r!==i)}};function jBe(t,e){Qie(t,e),e.add(t)}function qie(t,e,i){Qie(t,e),e.set(t,i)}function Qie(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function GW(t,e,i){return e=UBe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function UBe(t){var e=zBe(t,"string");return typeof e=="symbol"?e:e+""}function zBe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _A(t,e){return t.get(vr(t,e))}function yA(t,e,i){return t.set(vr(t,e),i),i}function vr(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var HS="nestedRows",Zie=300,Kie=HS,YBe="The Nested Rows plugin requires an Array of Objects as a dataset to be provided. The plugin has been disabled.",wA=new WeakMap,Jb=new WeakMap,Pr=new WeakSet,VS=class extends rt{constructor(){super(...arguments),jBe(this,Pr),GW(this,"dataManager",null),GW(this,"headersUI",null),GW(this,"collapsedRowsMap",null),qie(this,wA,!1),qie(this,Jb,!1)}static get PLUGIN_KEY(){return HS}static get PLUGIN_PRIORITY(){return Zie}isEnabled(){return!!this.hot.getSettings()[HS]}enablePlugin(){var e=this;this.enabled||(this.collapsedRowsMap=this.hot.rowIndexMapper.registerMap("nestedRows",new ra),this.dataManager=new Uie(this,this.hot),this.collapsingUI=new Yie(this,this.hot),this.headersUI=new gA(this,this.hot),this.contextMenuUI=new $ie(this,this.hot),this.rowMoveController=new vA(this),this.addHook("afterInit",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return vr(Pr,e,oWe).call(e,...n)}),this.addHook("beforeViewRender",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return vr(Pr,e,sWe).call(e,...n)}),this.addHook("modifyRowData",function(){return e.onModifyRowData(...arguments)}),this.addHook("modifySourceLength",function(){return e.onModifySourceLength(...arguments)}),this.addHook("beforeDataSplice",function(){return e.onBeforeDataSplice(...arguments)}),this.addHook("filterData",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return vr(Pr,e,qBe).call(e,...n)}),this.addHook("afterContextMenuDefaultOptions",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return vr(Pr,e,KBe).call(e,...n)}),this.addHook("afterGetRowHeader",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return vr(Pr,e,XBe).call(e,...n)}),this.addHook("beforeOnCellMouseDown",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return vr(Pr,e,$Be).call(e,...n)}),this.addHook("beforeRemoveRow",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return vr(Pr,e,JBe).call(e,...n)}),this.addHook("afterRemoveRow",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return vr(Pr,e,ZBe).call(e,...n)}),this.addHook("beforeAddChild",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return vr(Pr,e,eWe).call(e,...n)}),this.addHook("afterAddChild",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return vr(Pr,e,tWe).call(e,...n)}),this.addHook("beforeDetachChild",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return vr(Pr,e,iWe).call(e,...n)}),this.addHook("afterDetachChild",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return vr(Pr,e,nWe).call(e,...n)}),this.addHook("modifyRowHeaderWidth",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return vr(Pr,e,QBe).call(e,...n)}),this.addHook("afterCreateRow",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return vr(Pr,e,rWe).call(e,...n)}),this.addHook("beforeRowMove",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return vr(Pr,e,GBe).call(e,...n)}),this.addHook("beforeLoadData",i=>vr(Pr,this,Xie).call(this,i)),this.addHook("beforeUpdateData",i=>vr(Pr,this,Xie).call(this,i)),this.registerShortcuts(),super.enablePlugin())}disablePlugin(){this.hot.rowIndexMapper.unregisterMap("nestedRows"),this.unregisterShortcuts(),super.disablePlugin()}updatePlugin(){this.disablePlugin();let e=this.dataManager.getData();this.enablePlugin(),this.dataManager.updateWithData(e),super.updatePlugin()}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Enter"]],callback:()=>{let{highlight:e}=this.hot.getSelectedRangeLast(),i=this.collapsingUI.translateTrimmedRow(e.row);return this.collapsingUI.areChildrenCollapsed(i)?this.collapsingUI.expandChildren(i):this.collapsingUI.collapseChildren(i),!1},runOnlyIf:()=>{var e,i;let n=(e=this.hot.getSelectedRangeLast())===null||e===void 0?void 0:e.highlight;return n&&((i=this.hot.getSelectedRangeLast())===null||i===void 0?void 0:i.isSingle())&&this.hot.selection.isCellVisible(n)&&n.col===-1&&n.row>=0},group:Kie,relativeToGroup:so,position:"before"})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(Kie)}disableCoreAPIModifiers(){yA(Jb,this,!0)}enableCoreAPIModifiers(){yA(Jb,this,!1)}onModifyRowData(e){if(!_A(Jb,this))return this.dataManager.getDataObject(e)}onModifySourceLength(){if(!_A(Jb,this))return this.dataManager.countAllRows()}onBeforeDataSplice(e,i,n){return _A(Jb,this)||this.dataManager.isRowHighestLevel(e)?!0:(this.dataManager.spliceData(e,i,n),!1)}destroy(){super.destroy()}};function GBe(t,e,i,n){return this.rowMoveController.onBeforeRowMove(t,e,i,n)}function $Be(t,e,i){this.collapsingUI.toggleState(t,e,i)}function qBe(t,e,i){return this.collapsingUI.collapsedRowsStash.stash(),this.collapsingUI.collapsedRowsStash.trimStash(i[0],e),this.collapsingUI.collapsedRowsStash.shiftStash(i[0],null,-1*e),this.dataManager.filterData(t,e,i),yA(wA,this,!0),this.dataManager.getData().slice()}function KBe(t){return this.contextMenuUI.appendOptions(t)}function XBe(t,e){this.headersUI.appendLevelIndicators(t,e)}function QBe(t){return Math.max(this.headersUI.rowHeaderWidthCache,t)}function ZBe(t,e,i,n){n!==this.pluginName&&this.hot._registerTimeout(()=>{yA(wA,this,!1),this.headersUI.updateRowHeaderWidth(),this.collapsingUI.collapsedRowsStash.applyStash()})}function JBe(t,e,i){let n=Array.from(i.reduce((r,o)=>{if(this.dataManager.isParent(o)){let s=this.dataManager.getDataObject(o).__children;return r.add(o),Array.isArray(s)&&s.forEach(a=>r.add(this.dataManager.getRowIndex(a))),r}return r.add(o)},new Set));i.length=0,i.push(...n)}function eWe(){this.collapsingUI.collapsedRowsStash.stash()}function tWe(t,e){this.collapsingUI.collapsedRowsStash.shiftStash(this.dataManager.getRowIndex(e)),this.collapsingUI.collapsedRowsStash.applyStash(),this.headersUI.updateRowHeaderWidth()}function iWe(){this.collapsingUI.collapsedRowsStash.stash()}function nWe(t,e,i){this.collapsingUI.collapsedRowsStash.shiftStash(i,null,-1),this.collapsingUI.collapsedRowsStash.applyStash(),this.headersUI.updateRowHeaderWidth()}function rWe(){this.dataManager.rewriteCache()}function oWe(){this.headersUI.updateRowHeaderWidth()}function sWe(t,e){_A(wA,this)&&(e.skipRender=!0)}function Xie(t){if(!d7(t)){ug(YBe),this.hot.getSettings()[HS]=!1,this.disablePlugin();return}this.dataManager.setData(t),this.dataManager.rewriteCache()}var BVt=w(Q(),1);var NVt=w(Q(),1),LVt=w(be(),1),FVt=w(MT(),1);function $W(t,e,i){return e=aWe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function aWe(t){var e=lWe(t,"string");return typeof e=="symbol"?e:e+""}function lWe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qW=class{constructor(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window;$W(this,"rootWindow",void 0),$W(this,"prefix",void 0),$W(this,"savedKeys",[]),this.rootWindow=i,this.prefix=e,this.loadSavedKeys()}saveValue(e,i){this.rootWindow.localStorage.setItem(`${this.prefix}_${e}`,JSON.stringify(i)),this.savedKeys.indexOf(e)===-1&&(this.savedKeys.push(e),this.saveSavedKeys())}loadValue(e,i){let n=typeof e>"u"?i:e,r=this.rootWindow.localStorage.getItem(`${this.prefix}_${n}`);return r===null?void 0:JSON.parse(r)}reset(e){this.rootWindow.localStorage.removeItem(`${this.prefix}_${e}`)}resetAll(){M(this.savedKeys,(e,i)=>{this.rootWindow.localStorage.removeItem(`${this.prefix}_${this.savedKeys[i]}`)}),this.clearSavedKeys()}loadSavedKeys(){let e=this.rootWindow.localStorage.getItem(`${this.prefix}__persistentStateKeys`),i=typeof e=="string"?JSON.parse(e):void 0;this.savedKeys=i||[]}saveSavedKeys(){this.rootWindow.localStorage.setItem(`${this.prefix}__persistentStateKeys`,JSON.stringify(this.savedKeys))}clearSavedKeys(){this.savedKeys.length=0,this.saveSavedKeys()}},Jie=qW;function cWe(t,e,i){return e=dWe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function dWe(t){var e=uWe(t,"string");return typeof e=="symbol"?e:e+""}function uWe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}Ee.getSingleton().register("persistentStateSave");Ee.getSingleton().register("persistentStateLoad");Ee.getSingleton().register("persistentStateReset");var KW="persistentState",ene=0,BS=class extends rt{constructor(){super(...arguments),cWe(this,"storage",void 0)}static get PLUGIN_KEY(){return KW}static get PLUGIN_PRIORITY(){return ene}isEnabled(){return!!this.hot.getSettings()[KW]}enablePlugin(){this.enabled||(this.storage||(this.storage=new Jie(this.hot.rootElement.id,this.hot.rootWindow)),this.addHook("persistentStateSave",(e,i)=>this.saveValue(e,i)),this.addHook("persistentStateLoad",(e,i)=>this.loadValue(e,i)),this.addHook("persistentStateReset",()=>this.resetValue()),super.enablePlugin())}disablePlugin(){this.storage=void 0,super.disablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}loadValue(e,i){i.value=this.storage.loadValue(e)}saveValue(e,i){this.storage.saveValue(e,i)}resetValue(e){typeof e>"u"?this.storage.resetAll():this.storage.reset(e)}destroy(){super.destroy()}};var $Vt=w(Q(),1),qVt=w(be(),1);function hWe(t,e){fWe(t,e),e.add(t)}function fWe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function XW(t,e,i){return e=mWe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function mWe(t){var e=pWe(t,"string");return typeof e=="symbol"?e:e+""}function pWe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tne(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var CA="search",nne=190,gWe="htSearchResult",bWe=function(t,e,i,n,r){t.getCellMeta(e,i).isSearchResult=r},vWe=function(t,e,i){return Gt(t)||t===null||!t.toLocaleLowerCase||t.length===0||Gt(e)||e===null?!1:e.toString().toLocaleLowerCase(i.locale).indexOf(t.toLocaleLowerCase(i.locale))!==-1},QW=new WeakSet,WS=class extends rt{constructor(){super(...arguments),hWe(this,QW),XW(this,"callback",bWe),XW(this,"queryMethod",vWe),XW(this,"searchResultClass",gWe)}static get PLUGIN_KEY(){return CA}static get PLUGIN_PRIORITY(){return nne}isEnabled(){return this.hot.getSettings()[CA]}enablePlugin(){var e=this;if(this.enabled)return;let i=this.hot.getSettings()[CA];this.updatePluginSettings(i),this.addHook("beforeRenderer",function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return tne(QW,e,ine).call(e,...r)}),super.enablePlugin()}disablePlugin(){var e=this;let i=function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return tne(QW,e,ine).call(e,...r)};this.hot.addHook("beforeRenderer",i),this.hot.addHookOnce("afterViewRender",()=>{this.hot.removeHook("beforeRenderer",i)}),super.disablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}query(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getCallback(),n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.getQueryMethod(),r=this.hot.countRows(),o=this.hot.countCols(),s=[],a=this.hot;return Se(0,r-1,l=>{Se(0,o-1,c=>{let d=this.hot.getDataAtCell(l,c),u=this.hot.getCellMeta(l,c),f=u.search.callback||i,g=(u.search.queryMethod||n)(e,d,u);if(g){let _={row:l,col:c,data:d};s.push(_)}f&&f(a,l,c,d,g)})}),s}getCallback(){return this.callback}setCallback(e){this.callback=e}getQueryMethod(){return this.queryMethod}setQueryMethod(e){this.queryMethod=e}getSearchResultClass(){return this.searchResultClass}setSearchResultClass(e){this.searchResultClass=e}updatePluginSettings(e){it(e)&&(e.searchResultClass&&this.setSearchResultClass(e.searchResultClass),e.queryMethod&&this.setQueryMethod(e.queryMethod),e.callback&&this.setCallback(e.callback))}destroy(){super.destroy()}};function ine(t,e,i,n,r,o){let s=o.className||[],a=[];typeof s=="string"?a=s.split(" "):a.push(...s),this.isEnabled()&&o.isSearchResult?a.includes(this.searchResultClass)||a.push(`${this.searchResultClass}`):a.includes(this.searchResultClass)&&a.splice(a.indexOf(this.searchResultClass),1),o.className=a.join(" ")}var iBt=w(Q(),1),nBt=w(be(),1);function _We(t,e){yWe(t,e),e.add(t)}function yWe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function SA(t,e,i){return e=wWe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function wWe(t){var e=CWe(t,"string");return typeof e=="symbol"?e:e+""}function CWe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZW(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var rne="touchScroll",one=200,xA=new WeakSet,jS=class extends rt{constructor(){super(...arguments),_We(this,xA),SA(this,"scrollbars",[]),SA(this,"clones",[]),SA(this,"lockedCollection",!1),SA(this,"freezeOverlays",!1)}static get PLUGIN_KEY(){return rne}static get PLUGIN_PRIORITY(){return one}static get SETTING_KEYS(){return!0}isEnabled(){return OT()}enablePlugin(){this.enabled||(this.addHook("afterViewRender",()=>ZW(xA,this,SWe).call(this)),this.registerEvents(),super.enablePlugin())}updatePlugin(){this.lockedCollection=!1,super.updatePlugin()}disablePlugin(){super.disablePlugin()}registerEvents(){this.addHook("beforeTouchScroll",()=>ZW(xA,this,xWe).call(this)),this.addHook("afterMomentumScroll",()=>ZW(xA,this,EWe).call(this))}};function SWe(){if(this.lockedCollection)return;let{topOverlay:t,bottomOverlay:e,inlineStartOverlay:i,topInlineStartCornerOverlay:n,bottomInlineStartCornerOverlay:r}=this.hot.view._wt.wtOverlays;this.lockedCollection=!0,this.scrollbars.length=0,this.scrollbars.push(t),e.clone&&this.scrollbars.push(e),this.scrollbars.push(i),n&&this.scrollbars.push(n),r&&r.clone&&this.scrollbars.push(r),this.clones=[],t.needFullRender&&this.clones.push(t.clone.wtTable.holder.parentNode),e.needFullRender&&this.clones.push(e.clone.wtTable.holder.parentNode),i.needFullRender&&this.clones.push(i.clone.wtTable.holder.parentNode),n&&this.clones.push(n.clone.wtTable.holder.parentNode),r&&r.clone&&this.clones.push(r.clone.wtTable.holder.parentNode)}function xWe(){this.freezeOverlays=!0,M(this.clones,t=>{ne(t,"hide-tween")})}function EWe(){this.freezeOverlays=!1,M(this.clones,t=>{tt(t,"hide-tween"),ne(t,"show-tween")}),this.hot._registerTimeout(()=>{M(this.clones,t=>{tt(t,"show-tween")})},400),M(this.scrollbars,t=>{t.refresh(),t.resetFixedPosition()}),this.hot.view._wt.wtOverlays.syncScrollWithMaster()}var uBt=w(Q(),1),hBt=w(be(),1),fBt=w(Fi(),1),mBt=w(Hi(),1),pBt=w(Vi(),1),gBt=w(Bi(),1),bBt=w(Wi(),1),vBt=w(ji(),1),_Bt=w(Ui(),1);function RWe(t,e){TWe(t,e),e.add(t)}function TWe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function IWe(t,e,i){return e=DWe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function DWe(t){var e=MWe(t,"string");return typeof e=="symbol"?e:e+""}function MWe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AWe(t,e,i){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}var US="trimRows",ane=330,sne=new WeakSet,zS=class extends rt{constructor(){super(...arguments),RWe(this,sne),IWe(this,"trimmedRowsMap",null)}static get PLUGIN_KEY(){return US}static get PLUGIN_PRIORITY(){return ane}isEnabled(){return!!this.hot.getSettings()[US]}enablePlugin(){this.enabled||(this.trimmedRowsMap=this.hot.rowIndexMapper.registerMap("trimRows",new ra),this.trimmedRowsMap.addLocalHook("init",()=>AWe(sne,this,OWe).call(this)),super.enablePlugin())}updatePlugin(){let e=this.hot.getSettings()[US];Array.isArray(e)&&this.hot.batchExecution(()=>{this.trimmedRowsMap.clear(),M(e,i=>{this.trimmedRowsMap.setValueAtIndex(i,!0)})},!0),super.updatePlugin()}disablePlugin(){this.hot.rowIndexMapper.unregisterMap("trimRows"),super.disablePlugin()}getTrimmedRows(){return this.trimmedRowsMap.getTrimmedIndexes()}trimRows(e){let i=this.getTrimmedRows(),n=this.isValidConfig(e),r=i;n&&(r=Array.from(new Set(i.concat(e)))),this.hot.runHooks("beforeTrimRow",i,r,n)!==!1&&(n&&this.hot.batchExecution(()=>{M(e,s=>{this.trimmedRowsMap.setValueAtIndex(s,!0)})},!0),this.hot.runHooks("afterTrimRow",i,r,n,n&&r.length>i.length))}trimRow(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];this.trimRows(i)}untrimRows(e){let i=this.getTrimmedRows(),n=this.isValidConfig(e),r=i,o=this.trimmedRowsMap.getValues().slice(),s=e.length>0;n&&s&&(M(e,l=>{o[l]=!1}),r=Mi(o,(l,c,d)=>(c&&l.push(d),l),[])),this.hot.runHooks("beforeUntrimRow",i,r,n&&s)!==!1&&(n&&s&&this.trimmedRowsMap.setValues(o),this.hot.runHooks("afterUntrimRow",i,r,n&&s,n&&r.length<i.length))}untrimRow(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];this.untrimRows(i)}isTrimmed(e){return this.trimmedRowsMap.getValueAtIndex(e)||!1}untrimAll(){this.untrimRows(this.getTrimmedRows())}isValidConfig(e){let i=this.hot.countSourceRows();return e.every(n=>Number.isInteger(n)&&n>=0&&n<i)}destroy(){super.destroy()}};function OWe(){let t=this.hot.getSettings()[US];Array.isArray(t)&&this.hot.batchExecution(()=>{M(t,e=>{this.trimmedRowsMap.setValueAtIndex(e,!0)})},!0)}var kBt=w(be(),1),NBt=w(Cne(),1);var Sne="undoRedo",xne="undoRedo";function ke(t){let e=this;this.instance=t,this.doneActions=[],this.undoneActions=[],this.ignoreNewActions=!1,this.enabled=!1,t.addHook("afterChange",function(n,r){let o=n&&n.length;if(!o||!n.find(l=>{let[,,c,d]=l;return c!==d}))return;let a=()=>{let l=n.reduce((d,u)=>(d.push([...u]),d),[]);M(l,d=>{d[1]=t.propToCol(d[1])});let c=o>1?this.getSelected():[[l[0][0],l[0][1]]];return new ke.ChangeAction(l,c)};e.done(a,r)}),t.addHook("afterCreateRow",(n,r,o)=>{e.done(()=>new ke.CreateRowAction(n,r),o)});let i=(n,r,o,s)=>{let a=["visualRow","visualCol","row","col","prop"],l=a.length,c=[];return Se(o,s,d=>{Se(n,r,u=>{let f=t.getCellMeta(u,d);if(Object.keys(f).length!==l){let m=Object.fromEntries(Object.entries(f).filter(g=>{let[_]=g;return a.includes(_)===!1}));c.push([f.visualRow,f.visualCol,m])}})}),c};t.addHook("beforeRemoveRow",(n,r,o,s)=>{let a=()=>{let l=t.toPhysicalRow(n),c=l+r-1,d=Fn(e.instance.getSourceData(l,0,l+r-1,e.instance.countSourceCols()-1));return new ke.RemoveRowAction(l,d,t.getSettings().fixedRowsBottom,t.getSettings().fixedRowsTop,t.rowIndexMapper.getIndexesSequence(),i(l,c,0,t.countCols()-1))};e.done(a,s)}),t.addHook("afterCreateCol",(n,r,o)=>{e.done(()=>new ke.CreateColumnAction(n,r),o)}),t.addHook("beforeRemoveCol",(n,r,o,s)=>{let a=()=>{let l=e.instance.getSourceDataArray(),c=(e.instance.countCols()+n)%e.instance.countCols(),d=c+r-1,u=[],f=[],m=[];Se(l.length-1,b=>{let y=[],x=l[b];Se(c,d,T=>{y.push(x[t.toPhysicalColumn(T)])}),u.push(y)}),Se(r-1,b=>{m.push(t.toPhysicalColumn(c+b))}),Array.isArray(t.getSettings().colHeaders)&&Se(r-1,b=>{f.push(t.getSettings().colHeaders[t.toPhysicalColumn(c+b)]||null)});let g=t.columnIndexMapper.getIndexesSequence(),_=t.rowIndexMapper.getIndexesSequence();return new ke.RemoveColumnAction(c,m,u,f,g,_,t.getSettings().fixedColumnsStart,i(0,t.countRows(),c,d))};e.done(a,s)}),t.addHook("beforeCellAlignment",(n,r,o,s)=>{e.done(()=>new ke.CellAlignmentAction(n,r,o,s))}),t.addHook("beforeFilter",n=>{e.done(()=>new ke.FiltersAction(n))}),t.addHook("beforeRowMove",(n,r)=>{n!==!1&&e.done(()=>new ke.RowMoveAction(n,r))}),t.addHook("beforeColumnMove",(n,r)=>{n!==!1&&e.done(()=>new ke.ColumnMoveAction(n,r))}),t.addHook("beforeMergeCells",(n,r)=>{r||e.done(()=>new ke.MergeCellsAction(t,n))}),t.addHook("afterUnmergeCells",(n,r)=>{r||e.done(()=>new ke.UnmergeCellsAction(t,n))}),t.addHook("afterInit",()=>{e.init()})}ke.prototype.done=function(t,e){if(this.ignoreNewActions||e==="UndoRedo.undo"||e==="UndoRedo.redo"||e==="auto")return;let n=this.doneActions.slice();if(this.instance.runHooks("beforeUndoStackChange",n,e)===!1)return;let o=t(),s=this.undoneActions.slice();this.doneActions.push(o),this.instance.runHooks("afterUndoStackChange",n,this.doneActions.slice()),this.instance.runHooks("beforeRedoStackChange",s),this.undoneActions.length=0,this.instance.runHooks("afterRedoStackChange",s,this.undoneActions.slice())};ke.prototype.undo=function(){if(this.isUndoAvailable()){let t=this.doneActions.slice();this.instance.runHooks("beforeUndoStackChange",t);let e=this.doneActions.pop();this.instance.runHooks("afterUndoStackChange",t,this.doneActions.slice());let i=Fn(e);if(this.instance.runHooks("beforeUndo",i)===!1)return;this.ignoreNewActions=!0;let r=this,o=this.undoneActions.slice();this.instance.runHooks("beforeRedoStackChange",o),e.undo(this.instance,()=>{r.ignoreNewActions=!1,r.undoneActions.push(e)}),this.instance.runHooks("afterRedoStackChange",o,this.undoneActions.slice()),this.instance.runHooks("afterUndo",i)}};ke.prototype.redo=function(){if(this.isRedoAvailable()){let t=this.undoneActions.slice();this.instance.runHooks("beforeRedoStackChange",t);let e=this.undoneActions.pop();this.instance.runHooks("afterRedoStackChange",t,this.undoneActions.slice());let i=Fn(e);if(this.instance.runHooks("beforeRedo",i)===!1)return;this.ignoreNewActions=!0;let r=this,o=this.doneActions.slice();this.instance.runHooks("beforeUndoStackChange",o),e.redo(this.instance,()=>{r.ignoreNewActions=!1,r.doneActions.push(e)}),this.instance.runHooks("afterUndoStackChange",o,this.doneActions.slice()),this.instance.runHooks("afterRedo",i)}};ke.prototype.isUndoAvailable=function(){return this.doneActions.length>0};ke.prototype.isRedoAvailable=function(){return this.undoneActions.length>0};ke.prototype.clear=function(){this.doneActions.length=0,this.undoneActions.length=0};ke.prototype.isEnabled=function(){return this.enabled};ke.prototype.enable=function(){if(this.isEnabled())return;let t=this.instance;this.enabled=!0,cje(t),this.registerShortcuts(),t.addHook("afterChange",Ene)};ke.prototype.disable=function(){if(!this.isEnabled())return;let t=this.instance;this.enabled=!1,dje(t),this.unregisterShortcuts(),t.removeHook("afterChange",Ene)};ke.prototype.destroy=function(){this.clear(),this.instance=null,this.doneActions=null,this.undoneActions=null};ke.Action=function(){};ke.Action.prototype.undo=function(){};ke.Action.prototype.redo=function(){};ke.ChangeAction=function(t,e){this.changes=t,this.selected=e,this.actionType="change"};Ba(ke.ChangeAction,ke.Action);ke.ChangeAction.prototype.undo=function(t,e){let i=Fn(this.changes),n=t.countEmptyRows(!0),r=t.countEmptyCols(!0);for(let s=0,a=i.length;s<a;s++)i[s].splice(3,1);t.addHookOnce("afterChange",e),t.setDataAtCell(i,null,null,"UndoRedo.undo");for(let s=0,a=i.length;s<a;s++){let[l,c]=i[s];t.getSettings().minSpareRows&&l+1+t.getSettings().minSpareRows===t.countRows()&&n===t.getSettings().minSpareRows&&(t.alter("remove_row",parseInt(l+1,10),t.getSettings().minSpareRows),t.undoRedo.doneActions.pop()),t.getSettings().minSpareCols&&c+1+t.getSettings().minSpareCols===t.countCols()&&r===t.getSettings().minSpareCols&&(t.alter("remove_col",parseInt(c+1,10),t.getSettings().minSpareCols),t.undoRedo.doneActions.pop())}let o=t.getSelectedLast();if(o!==void 0){let[s,a]=i[0],[l,c]=o,d=t.view.getFirstFullyVisibleRow(),u=t.view.getFirstFullyVisibleColumn(),f=s>=d,m=a>=u;if((f&&m)===!1&&(l!==s||c!==a)===!0){let b={row:s,col:a};f===!1&&(b.verticalSnap="top"),m===!1&&(b.horizontalSnap="start"),t.scrollViewportTo(b)}}t.selectCells(this.selected,!1,!1)};ke.ChangeAction.prototype.redo=function(t,e){let i=Fn(this.changes);for(let n=0,r=i.length;n<r;n++)i[n].splice(2,1);t.addHookOnce("afterChange",e),t.setDataAtCell(i,null,null,"UndoRedo.redo"),this.selected&&t.selectCells(this.selected,!1,!1)};ke.CreateRowAction=function(t,e){this.index=t,this.amount=e,this.actionType="insert_row"};Ba(ke.CreateRowAction,ke.Action);ke.CreateRowAction.prototype.undo=function(t,e){let i=t.countRows(),n=t.getSettings().minSpareRows;this.index>=i&&this.index-n<i&&(this.index-=n),t.addHookOnce("afterRemoveRow",e),t.alter("remove_row",this.index,this.amount,"UndoRedo.undo")};ke.CreateRowAction.prototype.redo=function(t,e){t.addHookOnce("afterCreateRow",e),t.alter("insert_row_above",this.index,this.amount,"UndoRedo.redo")};ke.RemoveRowAction=function(t,e,i,n,r,o){this.index=t,this.data=e,this.actionType="remove_row",this.fixedRowsBottom=i,this.fixedRowsTop=n,this.rowIndexesSequence=r,this.removedCellMetas=o};Ba(ke.RemoveRowAction,ke.Action);ke.RemoveRowAction.prototype.undo=function(t,e){let i=t.getSettings(),n=[];i.fixedRowsBottom=this.fixedRowsBottom,i.fixedRowsTop=this.fixedRowsTop,this.data.forEach((r,o)=>{Object.keys(r).forEach(s=>{let a=parseInt(s,10);n.push([this.index+o,isNaN(a)?s:a,r[s]])})}),t.alter("insert_row_above",this.index,this.data.length,"UndoRedo.undo"),this.removedCellMetas.forEach(r=>{let[o,s,a]=r;t.setCellMetaObject(o,s,a)}),t.addHookOnce("afterViewRender",e),t.setSourceDataAtCell(n,null,null,"UndoRedo.undo"),t.rowIndexMapper.setIndexesSequence(this.rowIndexesSequence)};ke.RemoveRowAction.prototype.redo=function(t,e){t.addHookOnce("afterRemoveRow",e),t.alter("remove_row",this.index,this.data.length,"UndoRedo.redo")};ke.CreateColumnAction=function(t,e){this.index=t,this.amount=e,this.actionType="insert_col"};Ba(ke.CreateColumnAction,ke.Action);ke.CreateColumnAction.prototype.undo=function(t,e){t.addHookOnce("afterRemoveCol",e),t.alter("remove_col",this.index,this.amount,"UndoRedo.undo")};ke.CreateColumnAction.prototype.redo=function(t,e){t.addHookOnce("afterCreateCol",e),t.alter("insert_col_start",this.index,this.amount,"UndoRedo.redo")};ke.RemoveColumnAction=function(t,e,i,n,r,o,s,a){this.index=t,this.indexes=e,this.data=i,this.amount=this.data[0].length,this.headers=n,this.columnPositions=r.slice(0),this.rowPositions=o.slice(0),this.actionType="remove_col",this.fixedColumnsStart=s,this.removedCellMetas=a};Ba(ke.RemoveColumnAction,ke.Action);ke.RemoveColumnAction.prototype.undo=function(t,e){let i=t.getSettings();i.fixedColumnsStart=this.fixedColumnsStart;let n=this.indexes.slice(0).sort(),r=(c,d,u)=>u[this.indexes.indexOf(n[d])],o=this.data.length,s=[];for(let c=0;c<o;c++)s.push(ct(this.data[c],r));let a=ct(this.headers,r),l=[];t.alter("insert_col_start",this.indexes[0],this.indexes.length,"UndoRedo.undo"),M(t.getSourceDataArray(),(c,d)=>{M(n,(u,f)=>{c[u]=s[d][f],l.push([d,u,c[u]])})}),t.setSourceDataAtCell(l,void 0,void 0,"UndoRedo.undo"),typeof this.headers<"u"&&M(a,(c,d)=>{t.getSettings().colHeaders[n[d]]=c}),this.removedCellMetas.forEach(c=>{let[d,u,f]=c;t.setCellMetaObject(d,u,f)}),t.batchExecution(()=>{t.rowIndexMapper.setIndexesSequence(this.rowPositions),t.columnIndexMapper.setIndexesSequence(this.columnPositions)},!0),t.addHookOnce("afterViewRender",e),t.render()};ke.RemoveColumnAction.prototype.redo=function(t,e){t.addHookOnce("afterRemoveCol",e),t.alter("remove_col",this.index,this.amount,"UndoRedo.redo")};ke.CellAlignmentAction=function(t,e,i,n){this.stateBefore=t,this.range=e,this.type=i,this.alignment=n};ke.CellAlignmentAction.prototype.undo=function(t,e){M(this.range,i=>{i.forAll((n,r)=>{n>=0&&r>=0&&t.setCellMeta(n,r,"className",this.stateBefore[n][r]||" htLeft")})}),t.addHookOnce("afterViewRender",e),t.render()};ke.CellAlignmentAction.prototype.redo=function(t,e){jl(this.range,this.type,this.alignment,(i,n)=>t.getCellMeta(i,n),(i,n,r,o)=>t.setCellMeta(i,n,r,o)),t.addHookOnce("afterViewRender",e),t.render()};ke.FiltersAction=function(t){this.conditionsStack=t,this.actionType="filter"};Ba(ke.FiltersAction,ke.Action);ke.FiltersAction.prototype.undo=function(t,e){let i=t.getPlugin("filters");t.addHookOnce("afterViewRender",e),i.conditionCollection.importAllConditions(this.conditionsStack.slice(0,this.conditionsStack.length-1)),i.filter()};ke.FiltersAction.prototype.redo=function(t,e){let i=t.getPlugin("filters");t.addHookOnce("afterViewRender",e),i.conditionCollection.importAllConditions(this.conditionsStack),i.filter()};var tj=class extends ke.Action{constructor(e,i){super(),this.cellRange=i;let n=this.cellRange.getTopStartCorner(),r=this.cellRange.getBottomEndCorner();this.rangeData=e.getData(n.row,n.col,r.row,r.col)}undo(e,i){let n=e.getPlugin("mergeCells");e.addHookOnce("afterViewRender",i),n.unmergeRange(this.cellRange,!0);let r=this.cellRange.getTopStartCorner();e.populateFromArray(r.row,r.col,this.rangeData,void 0,void 0,"MergeCells")}redo(e,i){let n=e.getPlugin("mergeCells");e.addHookOnce("afterViewRender",i),n.mergeRange(this.cellRange)}};ke.MergeCellsAction=tj;var ij=class extends ke.Action{constructor(e,i){super(),this.cellRange=i}undo(e,i){let n=e.getPlugin("mergeCells");e.addHookOnce("afterViewRender",i),n.mergeRange(this.cellRange,!0)}redo(e,i){let n=e.getPlugin("mergeCells");e.addHookOnce("afterViewRender",i),n.unmergeRange(this.cellRange,!0),e.render()}};ke.UnmergeCellsAction=ij;ke.RowMoveAction=function(t,e){this.rows=t.slice(),this.finalRowIndex=e,this.actionType="row_move"};Ba(ke.RowMoveAction,ke.Action);ke.RowMoveAction.prototype.undo=function(t,e){let i=t.getPlugin("manualRowMove");t.addHookOnce("afterViewRender",e),K0(this.rows,this.finalRowIndex,t.rowIndexMapper.getNumberOfIndexes()).reverse().forEach(r=>{let{from:o,to:s}=r;o<s&&(s-=1),i.moveRow(s,o)}),t.render(),t.deselectCell(),t.selectRows(this.rows[0],this.rows[0]+this.rows.length-1)};ke.RowMoveAction.prototype.redo=function(t,e){let i=t.getPlugin("manualRowMove");t.addHookOnce("afterViewRender",e),i.moveRows(this.rows.slice(),this.finalRowIndex),t.render(),t.deselectCell(),t.selectRows(this.finalRowIndex,this.finalRowIndex+this.rows.length-1)};ke.ColumnMoveAction=function(t,e){this.columns=t.slice(),this.finalColumnIndex=e,this.actionType="col_move"};Ba(ke.ColumnMoveAction,ke.Action);ke.ColumnMoveAction.prototype.undo=function(t,e){let i=t.getPlugin("manualColumnMove");t.addHookOnce("afterViewRender",e),K0(this.columns,this.finalColumnIndex,t.columnIndexMapper.getNumberOfIndexes()).reverse().forEach(r=>{let{from:o,to:s}=r;o<s&&(s-=1),i.moveColumn(s,o)}),t.render(),t.deselectCell(),t.selectColumns(this.columns[0],this.columns[0]+this.columns.length-1)};ke.ColumnMoveAction.prototype.redo=function(t,e){let i=t.getPlugin("manualColumnMove");t.addHookOnce("afterViewRender",e),i.moveColumns(this.columns.slice(),this.finalColumnIndex),t.render(),t.deselectCell(),t.selectColumns(this.finalColumnIndex,this.finalColumnIndex+this.columns.length-1)};ke.prototype.init=function(){let t=this.instance.getSettings().undo,e=typeof t>"u"||t;this.instance.undoRedo||(this.instance.undoRedo=this),e?this.instance.undoRedo.enable():this.instance.undoRedo.disable()};ke.prototype.registerShortcuts=function(){let e=this.instance.getShortcutManager().getContext("grid"),n={runOnlyIf:r=>!r.altKey,group:Sne};e.addShortcuts([{keys:[["Control/Meta","z"]],callback:()=>{this.undo()}},{keys:[["Control/Meta","y"],["Control/Meta","Shift","z"]],callback:()=>{this.redo()}}],n)};ke.prototype.unregisterShortcuts=function(){this.instance.getShortcutManager().getContext("grid").removeShortcutsByGroup(Sne)};function Ene(t,e){let i=this;if(e==="loadData")return i.undoRedo.clear()}function cje(t){t.undo=function(){return t.undoRedo.undo()},t.redo=function(){return t.undoRedo.redo()},t.isUndoAvailable=function(){return t.undoRedo.isUndoAvailable()},t.isRedoAvailable=function(){return t.undoRedo.isRedoAvailable()},t.clearUndo=function(){return t.undoRedo.clear()}}function dje(t){delete t.undo,delete t.redo,delete t.isUndoAvailable,delete t.isRedoAvailable,delete t.clearUndo}var YS=Ee.getSingleton();YS.add("afterUpdateSettings",function(){var t;(t=this.getPlugin("undoRedo"))===null||t===void 0||t.init()});YS.register("beforeUndo");YS.register("afterUndo");YS.register("beforeRedo");YS.register("afterRedo");ke.PLUGIN_KEY=xne;ke.SETTING_KEYS=!0;var nj=ke;function Rne(){yi(UC),yi(YC),yi(qC),yi(KC),yi(ZC),yi(Nf),yi(a0),yi(d0),yi(vb),yi(C0),yi(x0),yi(E0),yi(Rb),yi(T0),yi($0),yi(Z0),yi(eS),yi(iS),yi(nS),yi(oS),yi(dS),yi(uS),yi(bS),yi(SS),yi(ES),yi(RS),yi(LS),yi(VS),yi(BS),yi(WS),yi(jS),yi(zS),yi(nj)}function RA(){AZ(),LZ(),BZ(),jZ(),Rne()}var uje=["mat-calendar-body",""];function hje(t,e){return this._trackRow(e)}var kne=(t,e)=>e.id;function fje(t,e){if(t&1&&(ie(0,"tr",0)(1,"td",3),ht(2),oe()()),t&2){let i=at();ue(),ss("padding-top",i._cellPadding)("padding-bottom",i._cellPadding),Rt("colspan",i.numCols),ue(),dl(" ",i.label," ")}}function mje(t,e){if(t&1&&(ie(0,"td",3),ht(1),oe()),t&2){let i=at(2);ss("padding-top",i._cellPadding)("padding-bottom",i._cellPadding),Rt("colspan",i._firstRowOffset),ue(),dl(" ",i._firstRowOffset>=i.labelMinRequiredCells?i.label:""," ")}}function pje(t,e){if(t&1){let i=Pn();ie(0,"td",6)(1,"button",7),St("click",function(r){let o=yt(i).$implicit,s=at(2);return wt(s._cellClicked(o,r))})("focus",function(r){let o=yt(i).$implicit,s=at(2);return wt(s._emitActiveDateChange(o,r))}),ie(2,"span",8),ht(3),oe(),ze(4,"span",9),oe()()}if(t&2){let i=e.$implicit,n=e.$index,r=at().$index,o=at();ss("width",o._cellWidth)("padding-top",o._cellPadding)("padding-bottom",o._cellPadding),Rt("data-mat-row",r)("data-mat-col",n),ue(),Ct("mat-calendar-body-disabled",!i.enabled)("mat-calendar-body-active",o._isActiveCell(r,n))("mat-calendar-body-range-start",o._isRangeStart(i.compareValue))("mat-calendar-body-range-end",o._isRangeEnd(i.compareValue))("mat-calendar-body-in-range",o._isInRange(i.compareValue))("mat-calendar-body-comparison-bridge-start",o._isComparisonBridgeStart(i.compareValue,r,n))("mat-calendar-body-comparison-bridge-end",o._isComparisonBridgeEnd(i.compareValue,r,n))("mat-calendar-body-comparison-start",o._isComparisonStart(i.compareValue))("mat-calendar-body-comparison-end",o._isComparisonEnd(i.compareValue))("mat-calendar-body-in-comparison-range",o._isInComparisonRange(i.compareValue))("mat-calendar-body-preview-start",o._isPreviewStart(i.compareValue))("mat-calendar-body-preview-end",o._isPreviewEnd(i.compareValue))("mat-calendar-body-in-preview",o._isInPreview(i.compareValue)),Te("ngClass",i.cssClasses)("tabindex",o._isActiveCell(r,n)?0:-1),Rt("aria-label",i.ariaLabel)("aria-disabled",!i.enabled||null)("aria-pressed",o._isSelected(i.compareValue))("aria-current",o.todayValue===i.compareValue?"date":null)("aria-describedby",o._getDescribedby(i.compareValue)),ue(),Ct("mat-calendar-body-selected",o._isSelected(i.compareValue))("mat-calendar-body-comparison-identical",o._isComparisonIdentical(i.compareValue))("mat-calendar-body-today",o.todayValue===i.compareValue),ue(),dl(" ",i.displayValue," ")}}function gje(t,e){if(t&1&&(ie(0,"tr",1),Et(1,mje,2,6,"td",4),_c(2,pje,5,48,"td",5,kne),oe()),t&2){let i=e.$implicit,n=e.$index,r=at();ue(),xi(n===0&&r._firstRowOffset?1:-1),ue(),yc(i)}}function bje(t,e){if(t&1&&(ie(0,"th",2)(1,"span",6),ht(2),oe(),ie(3,"span",3),ht(4),oe()()),t&2){let i=e.$implicit;ue(2),kn(i.long),ue(2),kn(i.narrow)}}var vje=["*"];function _je(t,e){}function yje(t,e){if(t&1){let i=Pn();ie(0,"mat-month-view",4),Bm("activeDateChange",function(r){yt(i);let o=at();return Vm(o.activeDate,r)||(o.activeDate=r),wt(r)}),St("_userSelection",function(r){yt(i);let o=at();return wt(o._dateSelected(r))})("dragStarted",function(r){yt(i);let o=at();return wt(o._dragStarted(r))})("dragEnded",function(r){yt(i);let o=at();return wt(o._dragEnded(r))}),oe()}if(t&2){let i=at();Hm("activeDate",i.activeDate),Te("selected",i.selected)("dateFilter",i.dateFilter)("maxDate",i.maxDate)("minDate",i.minDate)("dateClass",i.dateClass)("comparisonStart",i.comparisonStart)("comparisonEnd",i.comparisonEnd)("startDateAccessibleName",i.startDateAccessibleName)("endDateAccessibleName",i.endDateAccessibleName)("activeDrag",i._activeDrag)}}function wje(t,e){if(t&1){let i=Pn();ie(0,"mat-year-view",5),Bm("activeDateChange",function(r){yt(i);let o=at();return Vm(o.activeDate,r)||(o.activeDate=r),wt(r)}),St("monthSelected",function(r){yt(i);let o=at();return wt(o._monthSelectedInYearView(r))})("selectedChange",function(r){yt(i);let o=at();return wt(o._goToDateInView(r,"month"))}),oe()}if(t&2){let i=at();Hm("activeDate",i.activeDate),Te("selected",i.selected)("dateFilter",i.dateFilter)("maxDate",i.maxDate)("minDate",i.minDate)("dateClass",i.dateClass)}}function Cje(t,e){if(t&1){let i=Pn();ie(0,"mat-multi-year-view",6),Bm("activeDateChange",function(r){yt(i);let o=at();return Vm(o.activeDate,r)||(o.activeDate=r),wt(r)}),St("yearSelected",function(r){yt(i);let o=at();return wt(o._yearSelectedInMultiYearView(r))})("selectedChange",function(r){yt(i);let o=at();return wt(o._goToDateInView(r,"year"))}),oe()}if(t&2){let i=at();Hm("activeDate",i.activeDate),Te("selected",i.selected)("dateFilter",i.dateFilter)("maxDate",i.maxDate)("minDate",i.minDate)("dateClass",i.dateClass)}}function Sje(t,e){}var xje=["button"],Eje=[[["","matDatepickerToggleIcon",""]]],Rje=["[matDatepickerToggleIcon]"];function Tje(t,e){t&1&&(cl(),ie(0,"svg",2),ze(1,"path",3),oe())}var KS=(()=>{let e=class e{constructor(){this.changes=new Be,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(n,r){return`${n} \u2013 ${r}`}formatYearRangeLabel(n,r){return`${n} to ${r}`}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ije=0,$S=class{constructor(e,i,n,r,o={},s=e,a){this.value=e,this.displayValue=i,this.ariaLabel=n,this.enabled=r,this.cssClasses=o,this.compareValue=s,this.rawValue=a,this.id=Ije++}},Dje=1,Tne=No({passive:!1,capture:!0}),bh=No({passive:!0,capture:!0}),TA=No({passive:!0}),tv=(()=>{let e=class e{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(n,r){this._elementRef=n,this._ngZone=r,this._platform=pe(ri),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new Ie,this.previewChange=new Ie,this.activeDateChange=new Ie,this.dragStarted=new Ie,this.dragEnded=new Ie,this._didDragSinceMouseDown=!1,this._injector=pe(tn),this._trackRow=o=>o,this._enterHandler=o=>{if(this._skipNextFocus&&o.type==="focus"){this._skipNextFocus=!1;return}if(o.target&&this.isRange){let s=this._getCellFromElement(o.target);s&&this._ngZone.run(()=>this.previewChange.emit({value:s.enabled?s:null,event:o}))}},this._touchmoveHandler=o=>{if(!this.isRange)return;let s=Ine(o),a=s?this._getCellFromElement(s):null;s!==o.target&&(this._didDragSinceMouseDown=!0),oj(o.target)&&o.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:a?.enabled?a:null,event:o}))},this._leaveHandler=o=>{this.previewEnd!==null&&this.isRange&&(o.type!=="blur"&&(this._didDragSinceMouseDown=!0),o.target&&this._getCellFromElement(o.target)&&!(o.relatedTarget&&this._getCellFromElement(o.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:o})))},this._mousedownHandler=o=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;let s=o.target&&this._getCellFromElement(o.target);!s||!this._isInRange(s.compareValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:s.rawValue,event:o})})},this._mouseupHandler=o=>{if(!this.isRange)return;let s=oj(o.target);if(!s){this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:o})});return}s.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{let a=this._getCellFromElement(s);this.dragEnded.emit({value:a?.rawValue??null,event:o})})},this._touchendHandler=o=>{let s=Ine(o);s&&this._mouseupHandler({target:s})},this._id=`mat-calendar-body-${Dje++}`,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,r.runOutsideAngular(()=>{let o=n.nativeElement;o.addEventListener("touchmove",this._touchmoveHandler,Tne),o.addEventListener("mouseenter",this._enterHandler,bh),o.addEventListener("focus",this._enterHandler,bh),o.addEventListener("mouseleave",this._leaveHandler,bh),o.addEventListener("blur",this._leaveHandler,bh),o.addEventListener("mousedown",this._mousedownHandler,TA),o.addEventListener("touchstart",this._mousedownHandler,TA),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(n,r){this._didDragSinceMouseDown||n.enabled&&this.selectedValueChange.emit({value:n.value,event:r})}_emitActiveDateChange(n,r){n.enabled&&this.activeDateChange.emit({value:n.value,event:r})}_isSelected(n){return this.startValue===n||this.endValue===n}ngOnChanges(n){let r=n.numCols,{rows:o,numCols:s}=this;(n.rows||r)&&(this._firstRowOffset=o&&o.length&&o[0].length?s-o[0].length:0),(n.cellAspectRatio||r||!this._cellPadding)&&(this._cellPadding=`${50*this.cellAspectRatio/s}%`),(r||!this._cellWidth)&&(this._cellWidth=`${100/s}%`)}ngOnDestroy(){let n=this._elementRef.nativeElement;n.removeEventListener("touchmove",this._touchmoveHandler,Tne),n.removeEventListener("mouseenter",this._enterHandler,bh),n.removeEventListener("focus",this._enterHandler,bh),n.removeEventListener("mouseleave",this._leaveHandler,bh),n.removeEventListener("blur",this._leaveHandler,bh),n.removeEventListener("mousedown",this._mousedownHandler,TA),n.removeEventListener("touchstart",this._mousedownHandler,TA),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(n,r){let o=n*this.numCols+r;return n&&(o-=this._firstRowOffset),o==this.activeCell}_focusActiveCell(n=!0){vo(()=>{setTimeout(()=>{let r=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");r&&(n||(this._skipNextFocus=!0),r.focus())})},{injector:this._injector})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(n){return sj(n,this.startValue,this.endValue)}_isRangeEnd(n){return aj(n,this.startValue,this.endValue)}_isInRange(n){return lj(n,this.startValue,this.endValue,this.isRange)}_isComparisonStart(n){return sj(n,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(n,r,o){if(!this._isComparisonStart(n)||this._isRangeStart(n)||!this._isInRange(n))return!1;let s=this.rows[r][o-1];if(!s){let a=this.rows[r-1];s=a&&a[a.length-1]}return s&&!this._isRangeEnd(s.compareValue)}_isComparisonBridgeEnd(n,r,o){if(!this._isComparisonEnd(n)||this._isRangeEnd(n)||!this._isInRange(n))return!1;let s=this.rows[r][o+1];if(!s){let a=this.rows[r+1];s=a&&a[0]}return s&&!this._isRangeStart(s.compareValue)}_isComparisonEnd(n){return aj(n,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(n){return lj(n,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(n){return this.comparisonStart===this.comparisonEnd&&n===this.comparisonStart}_isPreviewStart(n){return sj(n,this.previewStart,this.previewEnd)}_isPreviewEnd(n){return aj(n,this.previewStart,this.previewEnd)}_isInPreview(n){return lj(n,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(n){return this.isRange?this.startValue===n&&this.endValue===n?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===n?this._startDateLabelId:this.endValue===n?this._endDateLabelId:null:null}_getCellFromElement(n){let r=oj(n);if(r){let o=r.getAttribute("data-mat-row"),s=r.getAttribute("data-mat-col");if(o&&s)return this.rows[parseInt(o)][parseInt(s)]}return null}};e.\u0275fac=function(r){return new(r||e)(L(Ze),L(Ge))},e.\u0275cmp=ut({type:e,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],standalone:!0,features:[li,vt],attrs:uje,decls:7,vars:5,consts:[["aria-hidden","true"],["role","row"],[1,"mat-calendar-body-hidden-label",3,"id"],[1,"mat-calendar-body-label"],[1,"mat-calendar-body-label",3,"paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"click","focus","ngClass","tabindex"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(r,o){r&1&&(Et(0,fje,3,6,"tr",0),_c(1,gje,4,1,"tr",1,hje,!0),ie(3,"span",2),ht(4),oe(),ie(5,"span",2),ht(6),oe()),r&2&&(xi(o._firstRowOffset<o.labelMinRequiredCells?0:-1),ue(),yc(o.rows),ue(2),Te("id",o._startDateLabelId),ue(),dl(" ",o.startDateAccessibleName,`
`),ue(),Te("id",o._endDateLabelId),ue(),dl(" ",o.endDateAccessibleName,`
`))},dependencies:[Ox],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color, var(--mat-app-primary))}.mat-calendar-body-label{height:0;line-height:0;text-align:start;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size, var(--mat-app-title-small-size));font-weight:var(--mat-datepicker-calendar-body-label-text-weight, var(--mat-app-title-small-weight));color:var(--mat-datepicker-calendar-body-label-text-color, var(--mat-app-on-surface))}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-app-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-app-body-medium-size))}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color, var(--mat-app-primary))}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color)}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color, var(--mat-app-on-surface));border-color:var(--mat-datepicker-calendar-date-outline-color)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color)}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color)}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color, var(--mat-app-primary));color:var(--mat-datepicker-calendar-date-selected-state-text-color, var(--mat-app-on-primary))}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color)}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color, var(--mat-app-primary))}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-app-primary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container))}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-app-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container)) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-app-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container)) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color, var(--mat-app-secondary-container))}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color, var(--mat-app-secondary))}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}'],encapsulation:2,changeDetection:0});let t=e;return t})();function rj(t){return t?.nodeName==="TD"}function oj(t){let e;return rj(t)?e=t:rj(t.parentNode)?e=t.parentNode:rj(t.parentNode?.parentNode)&&(e=t.parentNode.parentNode),e?.getAttribute("data-mat-row")!=null?e:null}function sj(t,e,i){return i!==null&&e!==i&&t<i&&t===e}function aj(t,e,i){return e!==null&&e!==i&&t>=e&&t===i}function lj(t,e,i,n){return n&&e!==null&&i!==null&&e!==i&&t>=e&&t<=i}function Ine(t){let e=t.changedTouches[0];return document.elementFromPoint(e.clientX,e.clientY)}var ba=class{constructor(e,i){this.start=e,this.end=i}},qS=(()=>{let e=class e{constructor(n,r){this.selection=n,this._adapter=r,this._selectionChanged=new Be,this.selectionChanged=this._selectionChanged,this.selection=n}updateSelection(n,r){let o=this.selection;this.selection=n,this._selectionChanged.next({selection:n,source:r,oldValue:o})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(n){return this._adapter.isDateInstance(n)&&this._adapter.isValid(n)}};e.\u0275fac=function(r){Id()},e.\u0275prov=Re({token:e,factory:e.\u0275fac});let t=e;return t})(),Mje=(()=>{let e=class e extends qS{constructor(n){super(null,n)}add(n){super.updateSelection(n,this)}isValid(){return this.selection!=null&&this._isValidDateInstance(this.selection)}isComplete(){return this.selection!=null}clone(){let n=new e(this._adapter);return n.updateSelection(this.selection,this),n}};e.\u0275fac=function(r){return new(r||e)(ce(wr))},e.\u0275prov=Re({token:e,factory:e.\u0275fac});let t=e;return t})();function Aje(t,e){return t||new Mje(e)}var Nne={provide:qS,deps:[[new Mh,new Pm,qS],wr],useFactory:Aje};var Lne=new we("MAT_DATE_RANGE_SELECTION_STRATEGY");var cj=7,Oje=0,Dne=(()=>{let e=class e{get activeDate(){return this._activeDate}set activeDate(n){let r=this._activeDate,o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(n))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(o,this.minDate,this.maxDate),this._hasSameMonthAndYear(r,this._activeDate)||this._init()}get selected(){return this._selected}set selected(n){n instanceof ba?this._selected=n:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(n)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(n){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(n))}get maxDate(){return this._maxDate}set maxDate(n){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(n))}constructor(n,r,o,s,a){this._changeDetectorRef=n,this._dateFormats=r,this._dateAdapter=o,this._dir=s,this._rangeStrategy=a,this._rerenderSubscription=Ti.EMPTY,this.activeDrag=null,this.selectedChange=new Ie,this._userSelection=new Ie,this.dragStarted=new Ie,this.dragEnded=new Ie,this.activeDateChange=new Ie,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(ir(null)).subscribe(()=>this._init())}ngOnChanges(n){let r=n.comparisonStart||n.comparisonEnd;r&&!r.firstChange&&this._setRanges(this.selected),n.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(n){let r=n.value,o=this._getDateFromDayOfMonth(r),s,a;this._selected instanceof ba?(s=this._getDateInCurrentMonth(this._selected.start),a=this._getDateInCurrentMonth(this._selected.end)):s=a=this._getDateInCurrentMonth(this._selected),(s!==r||a!==r)&&this.selectedChange.emit(o),this._userSelection.emit({value:o,event:n.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(n){let r=n.value,o=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(r),this._dateAdapter.compareDate(o,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(n){let r=this._activeDate,o=this._isRtl();switch(n.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,o?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,o?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=n.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=n.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:this._selectionKeyPressed=!0,this._canSelect(this._activeDate)&&n.preventDefault();return;case 27:this._previewEnd!=null&&!Nn(n)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:n}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:n})),n.preventDefault(),n.stopPropagation());return;default:return}this._dateAdapter.compareDate(r,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),n.preventDefault()}_handleCalendarBodyKeyup(n){(n.keyCode===32||n.keyCode===13)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:n}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let n=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(cj+this._dateAdapter.getDayOfWeek(n)-this._dateAdapter.getFirstDayOfWeek())%cj,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(n){this._matCalendarBody._focusActiveCell(n)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:n,value:r}){if(this._rangeStrategy){let o=r?r.rawValue:null,s=this._rangeStrategy.createPreview(o,this.selected,n);if(this._previewStart=this._getCellCompareValue(s.start),this._previewEnd=this._getCellCompareValue(s.end),this.activeDrag&&o){let a=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,o,n);a&&(this._previewStart=this._getCellCompareValue(a.start),this._previewEnd=this._getCellCompareValue(a.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(n){if(this.activeDrag)if(n.value){let r=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,n.value,n.event);this.dragEnded.emit({value:r??null,event:n.event})}else this.dragEnded.emit({value:null,event:n.event})}_getDateFromDayOfMonth(n){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),n)}_initWeekdays(){let n=this._dateAdapter.getFirstDayOfWeek(),r=this._dateAdapter.getDayOfWeekNames("narrow"),s=this._dateAdapter.getDayOfWeekNames("long").map((a,l)=>({long:a,narrow:r[l],id:Oje++}));this._weekdays=s.slice(n).concat(s.slice(0,n))}_createWeekCells(){let n=this._dateAdapter.getNumDaysInMonth(this.activeDate),r=this._dateAdapter.getDateNames();this._weeks=[[]];for(let o=0,s=this._firstWeekOffset;o<n;o++,s++){s==cj&&(this._weeks.push([]),s=0);let a=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),o+1),l=this._shouldEnableDate(a),c=this._dateAdapter.format(a,this._dateFormats.display.dateA11yLabel),d=this.dateClass?this.dateClass(a,"month"):void 0;this._weeks[this._weeks.length-1].push(new $S(o+1,r[o],c,l,d,this._getCellCompareValue(a),a))}}_shouldEnableDate(n){return!!n&&(!this.minDate||this._dateAdapter.compareDate(n,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(n,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(n))}_getDateInCurrentMonth(n){return n&&this._hasSameMonthAndYear(n,this.activeDate)?this._dateAdapter.getDate(n):null}_hasSameMonthAndYear(n,r){return!!(n&&r&&this._dateAdapter.getMonth(n)==this._dateAdapter.getMonth(r)&&this._dateAdapter.getYear(n)==this._dateAdapter.getYear(r))}_getCellCompareValue(n){if(n){let r=this._dateAdapter.getYear(n),o=this._dateAdapter.getMonth(n),s=this._dateAdapter.getDate(n);return new Date(r,o,s).getTime()}return null}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setRanges(n){n instanceof ba?(this._rangeStart=this._getCellCompareValue(n.start),this._rangeEnd=this._getCellCompareValue(n.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(n),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(n){return!this.dateFilter||this.dateFilter(n)}_clearPreview(){this._previewStart=this._previewEnd=null}};e.\u0275fac=function(r){return new(r||e)(L(vi),L(Ec,8),L(wr,8),L($n,8),L(Lne,8))},e.\u0275cmp=ut({type:e,selectors:[["mat-month-view"]],viewQuery:function(r,o){if(r&1&&It(tv,5),r&2){let s;Je(s=et())&&(o._matCalendarBody=s.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],standalone:!0,features:[li,vt],decls:8,vars:14,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col"],["aria-hidden","true"],["colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown","label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName"],[1,"cdk-visually-hidden"]],template:function(r,o){r&1&&(ie(0,"table",0)(1,"thead",1)(2,"tr"),_c(3,bje,5,2,"th",2,kne),oe(),ie(5,"tr",3),ze(6,"th",4),oe()(),ie(7,"tbody",5),St("selectedValueChange",function(a){return o._dateSelected(a)})("activeDateChange",function(a){return o._updateActiveDate(a)})("previewChange",function(a){return o._previewChanged(a)})("dragStarted",function(a){return o.dragStarted.emit(a)})("dragEnded",function(a){return o._dragEnded(a)})("keyup",function(a){return o._handleCalendarBodyKeyup(a)})("keydown",function(a){return o._handleCalendarBodyKeydown(a)}),oe()()),r&2&&(ue(3),yc(o._weekdays),ue(4),Te("label",o._monthLabel)("rows",o._weeks)("todayValue",o._todayDate)("startValue",o._rangeStart)("endValue",o._rangeEnd)("comparisonStart",o._comparisonRangeStart)("comparisonEnd",o._comparisonRangeEnd)("previewStart",o._previewStart)("previewEnd",o._previewEnd)("isRange",o._isRange)("labelMinRequiredCells",3)("activeCell",o._dateAdapter.getDate(o.activeDate)-1)("startDateAccessibleName",o.startDateAccessibleName)("endDateAccessibleName",o.endDateAccessibleName))},dependencies:[tv],encapsulation:2,changeDetection:0});let t=e;return t})(),Ds=24,dj=4,Mne=(()=>{let e=class e{get activeDate(){return this._activeDate}set activeDate(n){let r=this._activeDate,o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(n))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(o,this.minDate,this.maxDate),Fne(this._dateAdapter,r,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(n){n instanceof ba?this._selected=n:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(n)),this._setSelectedYear(n)}get minDate(){return this._minDate}set minDate(n){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(n))}get maxDate(){return this._maxDate}set maxDate(n){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(n))}constructor(n,r,o){this._changeDetectorRef=n,this._dateAdapter=r,this._dir=o,this._rerenderSubscription=Ti.EMPTY,this.selectedChange=new Ie,this.yearSelected=new Ie,this.activeDateChange=new Ie,this._dateAdapter,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(ir(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());let r=this._dateAdapter.getYear(this._activeDate)-GS(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let o=0,s=[];o<Ds;o++)s.push(r+o),s.length==dj&&(this._years.push(s.map(a=>this._createCellForYear(a))),s=[]);this._changeDetectorRef.markForCheck()}_yearSelected(n){let r=n.value,o=this._dateAdapter.createDate(r,0,1),s=this._getDateFromYear(r);this.yearSelected.emit(o),this.selectedChange.emit(s)}_updateActiveDate(n){let r=n.value,o=this._activeDate;this.activeDate=this._getDateFromYear(r),this._dateAdapter.compareDate(o,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(n){let r=this._activeDate,o=this._isRtl();switch(n.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,o?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,o?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-dj);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,dj);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-GS(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Ds-GS(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n.altKey?-Ds*10:-Ds);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n.altKey?Ds*10:Ds);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),n.preventDefault()}_handleCalendarBodyKeyup(n){(n.keyCode===32||n.keyCode===13)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:n}),this._selectionKeyPressed=!1)}_getActiveCell(){return GS(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(n){let r=this._dateAdapter.getMonth(this.activeDate),o=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(n,r,1));return this._dateAdapter.createDate(n,r,Math.min(this._dateAdapter.getDate(this.activeDate),o))}_createCellForYear(n){let r=this._dateAdapter.createDate(n,0,1),o=this._dateAdapter.getYearName(r),s=this.dateClass?this.dateClass(r,"multi-year"):void 0;return new $S(n,o,o,this._shouldEnableYear(n),s)}_shouldEnableYear(n){if(n==null||this.maxDate&&n>this._dateAdapter.getYear(this.maxDate)||this.minDate&&n<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;let r=this._dateAdapter.createDate(n,0,1);for(let o=r;this._dateAdapter.getYear(o)==n;o=this._dateAdapter.addCalendarDays(o,1))if(this.dateFilter(o))return!0;return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedYear(n){if(this._selectedYear=null,n instanceof ba){let r=n.start||n.end;r&&(this._selectedYear=this._dateAdapter.getYear(r))}else n&&(this._selectedYear=this._dateAdapter.getYear(n))}};e.\u0275fac=function(r){return new(r||e)(L(vi),L(wr,8),L($n,8))},e.\u0275cmp=ut({type:e,selectors:[["mat-multi-year-view"]],viewQuery:function(r,o){if(r&1&&It(tv,5),r&2){let s;Je(s=et())&&(o._matCalendarBody=s.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],standalone:!0,features:[vt],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell"]],template:function(r,o){r&1&&(ie(0,"table",0)(1,"thead",1)(2,"tr"),ze(3,"th",2),oe()(),ie(4,"tbody",3),St("selectedValueChange",function(a){return o._yearSelected(a)})("activeDateChange",function(a){return o._updateActiveDate(a)})("keyup",function(a){return o._handleCalendarBodyKeyup(a)})("keydown",function(a){return o._handleCalendarBodyKeydown(a)}),oe()()),r&2&&(ue(4),Te("rows",o._years)("todayValue",o._todayYear)("startValue",o._selectedYear)("endValue",o._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",o._getActiveCell()))},dependencies:[tv],encapsulation:2,changeDetection:0});let t=e;return t})();function Fne(t,e,i,n,r){let o=t.getYear(e),s=t.getYear(i),a=Hne(t,n,r);return Math.floor((o-a)/Ds)===Math.floor((s-a)/Ds)}function GS(t,e,i,n){let r=t.getYear(e);return Pje(r-Hne(t,i,n),Ds)}function Hne(t,e,i){let n=0;return i?n=t.getYear(i)-Ds+1:e&&(n=t.getYear(e)),n}function Pje(t,e){return(t%e+e)%e}var Ane=(()=>{let e=class e{get activeDate(){return this._activeDate}set activeDate(n){let r=this._activeDate,o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(n))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(o,this.minDate,this.maxDate),this._dateAdapter.getYear(r)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(n){n instanceof ba?this._selected=n:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(n)),this._setSelectedMonth(n)}get minDate(){return this._minDate}set minDate(n){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(n))}get maxDate(){return this._maxDate}set maxDate(n){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(n))}constructor(n,r,o,s){this._changeDetectorRef=n,this._dateFormats=r,this._dateAdapter=o,this._dir=s,this._rerenderSubscription=Ti.EMPTY,this.selectedChange=new Ie,this.monthSelected=new Ie,this.activeDateChange=new Ie,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(ir(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(n){let r=n.value,o=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),r,1);this.monthSelected.emit(o);let s=this._getDateFromMonth(r);this.selectedChange.emit(s)}_updateActiveDate(n){let r=n.value,o=this._activeDate;this.activeDate=this._getDateFromMonth(r),this._dateAdapter.compareDate(o,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(n){let r=this._activeDate,o=this._isRtl();switch(n.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,o?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,o?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(r,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),n.preventDefault()}_handleCalendarBodyKeyup(n){(n.keyCode===32||n.keyCode===13)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:n}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let n=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(r=>r.map(o=>this._createCellForMonth(o,n[o]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(n){return n&&this._dateAdapter.getYear(n)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(n):null}_getDateFromMonth(n){let r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),n,1),o=this._dateAdapter.getNumDaysInMonth(r);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),n,Math.min(this._dateAdapter.getDate(this.activeDate),o))}_createCellForMonth(n,r){let o=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),n,1),s=this._dateAdapter.format(o,this._dateFormats.display.monthYearA11yLabel),a=this.dateClass?this.dateClass(o,"year"):void 0;return new $S(n,r.toLocaleUpperCase(),s,this._shouldEnableMonth(n),a)}_shouldEnableMonth(n){let r=this._dateAdapter.getYear(this.activeDate);if(n==null||this._isYearAndMonthAfterMaxDate(r,n)||this._isYearAndMonthBeforeMinDate(r,n))return!1;if(!this.dateFilter)return!0;let o=this._dateAdapter.createDate(r,n,1);for(let s=o;this._dateAdapter.getMonth(s)==n;s=this._dateAdapter.addCalendarDays(s,1))if(this.dateFilter(s))return!0;return!1}_isYearAndMonthAfterMaxDate(n,r){if(this.maxDate){let o=this._dateAdapter.getYear(this.maxDate),s=this._dateAdapter.getMonth(this.maxDate);return n>o||n===o&&r>s}return!1}_isYearAndMonthBeforeMinDate(n,r){if(this.minDate){let o=this._dateAdapter.getYear(this.minDate),s=this._dateAdapter.getMonth(this.minDate);return n<o||n===o&&r<s}return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedMonth(n){n instanceof ba?this._selectedMonth=this._getMonthInCurrentYear(n.start)||this._getMonthInCurrentYear(n.end):this._selectedMonth=this._getMonthInCurrentYear(n)}};e.\u0275fac=function(r){return new(r||e)(L(vi),L(Ec,8),L(wr,8),L($n,8))},e.\u0275cmp=ut({type:e,selectors:[["mat-year-view"]],viewQuery:function(r,o){if(r&1&&It(tv,5),r&2){let s;Je(s=et())&&(o._matCalendarBody=s.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],standalone:!0,features:[vt],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell"]],template:function(r,o){r&1&&(ie(0,"table",0)(1,"thead",1)(2,"tr"),ze(3,"th",2),oe()(),ie(4,"tbody",3),St("selectedValueChange",function(a){return o._monthSelected(a)})("activeDateChange",function(a){return o._updateActiveDate(a)})("keyup",function(a){return o._handleCalendarBodyKeyup(a)})("keydown",function(a){return o._handleCalendarBodyKeydown(a)}),oe()()),r&2&&(ue(4),Te("label",o._yearLabel)("rows",o._months)("todayValue",o._todayMonth)("startValue",o._selectedMonth)("endValue",o._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",o._dateAdapter.getMonth(o.activeDate)))},dependencies:[tv],encapsulation:2,changeDetection:0});let t=e;return t})(),kje=1,Vne=(()=>{let e=class e{constructor(n,r,o,s,a){this._intl=n,this.calendar=r,this._dateAdapter=o,this._dateFormats=s,this._id=`mat-calendar-header-${kje++}`,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>a.markForCheck())}get periodButtonText(){return this.calendar.currentView=="month"?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():this.calendar.currentView=="year"?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return this.calendar.currentView=="month"?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():this.calendar.currentView=="year"?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return this.calendar.currentView=="month"?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView=this.calendar.currentView=="month"?"multi-year":"month"}previousClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?-1:-Ds)}nextClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?1:Ds)}previousEnabled(){return this.calendar.minDate?!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate):!0}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(n,r){return this.calendar.currentView=="month"?this._dateAdapter.getYear(n)==this._dateAdapter.getYear(r)&&this._dateAdapter.getMonth(n)==this._dateAdapter.getMonth(r):this.calendar.currentView=="year"?this._dateAdapter.getYear(n)==this._dateAdapter.getYear(r):Fne(this._dateAdapter,n,r,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){let r=this._dateAdapter.getYear(this.calendar.activeDate)-GS(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),o=r+Ds-1,s=this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1)),a=this._dateAdapter.getYearName(this._dateAdapter.createDate(o,0,1));return[s,a]}};e.\u0275fac=function(r){return new(r||e)(L(KS),L(bo(()=>uj)),L(wr,8),L(Ec,8),L(vi))},e.\u0275cmp=ut({type:e,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],standalone:!0,features:[vt],ngContentSelectors:vje,decls:13,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["aria-live","polite",1,"cdk-visually-hidden",3,"id"],["mat-button","","type","button",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"click","disabled"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"click","disabled"]],template:function(r,o){r&1&&(Di(),ie(0,"div",0)(1,"div",1)(2,"span",2),ht(3),oe(),ie(4,"button",3),St("click",function(){return o.currentPeriodClicked()}),ie(5,"span",4),ht(6),oe(),cl(),ie(7,"svg",5),ze(8,"polygon",6),oe()(),Nm(),ze(9,"div",7),Pt(10),ie(11,"button",8),St("click",function(){return o.previousClicked()}),oe(),ie(12,"button",9),St("click",function(){return o.nextClicked()}),oe()()()),r&2&&(ue(2),Te("id",o._periodButtonLabelId),ue(),kn(o.periodButtonDescription),ue(),Rt("aria-label",o.periodButtonLabel)("aria-describedby",o._periodButtonLabelId),ue(2),kn(o.periodButtonText),ue(),Ct("mat-calendar-invert",o.calendar.currentView!=="month"),ue(4),Te("disabled",!o.previousEnabled()),Rt("aria-label",o.prevButtonLabel),ue(),Te("disabled",!o.nextEnabled()),Rt("aria-label",o.nextButtonLabel))},dependencies:[X_,M1],encapsulation:2,changeDetection:0});let t=e;return t})(),uj=(()=>{let e=class e{get startAt(){return this._startAt}set startAt(n){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(n))}get selected(){return this._selected}set selected(n){n instanceof ba?this._selected=n:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(n))}get minDate(){return this._minDate}set minDate(n){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(n))}get maxDate(){return this._maxDate}set maxDate(n){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(n))}get activeDate(){return this._clampedActiveDate}set activeDate(n){this._clampedActiveDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(n){let r=this._currentView!==n?n:null;this._currentView=n,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),r&&this.viewChanged.emit(r)}constructor(n,r,o,s){this._dateAdapter=r,this._dateFormats=o,this._changeDetectorRef=s,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new Ie,this.yearSelected=new Ie,this.monthSelected=new Ie,this.viewChanged=new Ie(!0),this._userSelection=new Ie,this._userDragDrop=new Ie,this._activeDrag=null,this.stateChanges=new Be,this._intlChanges=n.changes.subscribe(()=>{s.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new Rc(this.headerComponent||Vne),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(n){let r=n.minDate&&!this._dateAdapter.sameDate(n.minDate.previousValue,n.minDate.currentValue)?n.minDate:void 0,o=n.maxDate&&!this._dateAdapter.sameDate(n.maxDate.previousValue,n.maxDate.currentValue)?n.maxDate:void 0,s=r||o||n.dateFilter;if(s&&!s.firstChange){let a=this._getCurrentViewComponent();a&&(this._moveFocusOnNextTick=!0,this._changeDetectorRef.detectChanges(),a._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(n){let r=n.value;(this.selected instanceof ba||r&&!this._dateAdapter.sameDate(r,this.selected))&&this.selectedChange.emit(r),this._userSelection.emit(n)}_yearSelectedInMultiYearView(n){this.yearSelected.emit(n)}_monthSelectedInYearView(n){this.monthSelected.emit(n)}_goToDateInView(n,r){this.activeDate=n,this.currentView=r}_dragStarted(n){this._activeDrag=n}_dragEnded(n){this._activeDrag&&(n.value&&this._userDragDrop.emit(n),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}};e.\u0275fac=function(r){return new(r||e)(L(KS),L(wr,8),L(Ec,8),L(vi))},e.\u0275cmp=ut({type:e,selectors:[["mat-calendar"]],viewQuery:function(r,o){if(r&1&&(It(Dne,5),It(Ane,5),It(Mne,5)),r&2){let s;Je(s=et())&&(o.monthView=s.first),Je(s=et())&&(o.yearView=s.first),Je(s=et())&&(o.multiYearView=s.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],standalone:!0,features:[ui([Nne]),li,vt],decls:5,vars:2,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","_userSelection","dragStarted","dragEnded","activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDateChange","monthSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","yearSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"]],template:function(r,o){if(r&1&&(Et(0,_je,0,0,"ng-template",0),ie(1,"div",1),Et(2,yje,1,11,"mat-month-view",2)(3,wje,1,6,"mat-year-view",3)(4,Cje,1,6,"mat-multi-year-view",3),oe()),r&2){let s;Te("cdkPortalOutlet",o._calendarHeaderPortal),ue(2),xi((s=o.currentView)==="month"?2:s==="year"?3:s==="multi-year"?4:-1)}},dependencies:[Hs,yE,Dne,Ane,Mne],styles:['.mat-calendar{display:block;line-height:normal;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-app-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-app-body-medium-size))}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size, var(--mat-app-title-small-size));font-weight:var(--mat-datepicker-calendar-period-button-text-weight, var(--mat-app-title-small-weight));--mdc-text-button-label-text-color:var(--mat-datepicker-calendar-period-button-text-color, var(--mat-app-on-surface-variant))}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color, var(--mat-app-on-surface-variant))}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-datepicker-content .mat-calendar-previous-button:not(.mat-mdc-button-disabled),.mat-datepicker-content .mat-calendar-next-button:not(.mat-mdc-button-disabled){color:var(--mat-datepicker-calendar-navigation-button-icon-color, var(--mat-app-on-surface-variant))}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color, var(--mat-app-on-surface-variant));font-size:var(--mat-datepicker-calendar-header-text-size, var(--mat-app-title-small-size));font-weight:var(--mat-datepicker-calendar-header-text-weight, var(--mat-app-title-small-weight))}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0});let t=e;return t})(),One={transformPanel:ul("transformPanel",[_o("void => enter-dropdown",ko("120ms cubic-bezier(0, 0, 0.2, 1)",fO([Yn({opacity:0,transform:"scale(1, 0.8)"}),Yn({opacity:1,transform:"scale(1, 1)"})]))),_o("void => enter-dialog",ko("150ms cubic-bezier(0, 0, 0.2, 1)",fO([Yn({opacity:0,transform:"scale(0.7)"}),Yn({transform:"none",opacity:1})]))),_o("* => void",ko("100ms linear",Yn({opacity:0})))]),fadeInCalendar:ul("fadeInCalendar",[Ra("void",Yn({opacity:0})),Ra("enter",Yn({opacity:1})),_o("void => *",ko("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])},Nje=0,Bne=new we("mat-datepicker-scroll-strategy",{providedIn:"root",factory:()=>{let t=pe(Rn);return()=>t.scrollStrategies.reposition()}});function Lje(t){return()=>t.scrollStrategies.reposition()}var Fje={provide:Bne,deps:[Rn],useFactory:Lje},Wne=(()=>{let e=class e{constructor(n,r,o,s,a,l){this._elementRef=n,this._changeDetectorRef=r,this._globalModel=o,this._dateAdapter=s,this._rangeSelectionStrategy=a,this._subscriptions=new Ti,this._animationDone=new Be,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=l.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(n){let r=this._model.selection,o=n.value,s=r instanceof ba;if(s&&this._rangeSelectionStrategy){let a=this._rangeSelectionStrategy.selectionFinished(o,r,n.event);this._model.updateSelection(a,this)}else o&&(s||!this._dateAdapter.sameDate(o,r))&&this._model.add(o);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(n){this._model.updateSelection(n.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(n){this._isAnimating=n.phaseName==="start",this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(n,r){this._model=n?this._globalModel.clone():this._globalModel,this._actionsPortal=n,r&&this._changeDetectorRef.detectChanges()}};e.\u0275fac=function(r){return new(r||e)(L(Ze),L(vi),L(qS),L(wr),L(Lne,8),L(KS))},e.\u0275cmp=ut({type:e,selectors:[["mat-datepicker-content"]],viewQuery:function(r,o){if(r&1&&It(uj,5),r&2){let s;Je(s=et())&&(o._calendar=s.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:5,hostBindings:function(r,o){r&1&&dU("@transformPanel.start",function(a){return o._handleAnimationEvent(a)})("@transformPanel.done",function(a){return o._handleAnimationEvent(a)}),r&2&&(cU("@transformPanel",o._animationState),Zr(o.color?"mat-"+o.color:""),Ct("mat-datepicker-content-touch",o.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],standalone:!0,features:[vt],decls:5,vars:27,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop","id","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"focus","blur","click","color"]],template:function(r,o){if(r&1&&(ie(0,"div",0)(1,"mat-calendar",1),St("yearSelected",function(a){return o.datepicker._selectYear(a)})("monthSelected",function(a){return o.datepicker._selectMonth(a)})("viewChanged",function(a){return o.datepicker._viewChanged(a)})("_userSelection",function(a){return o._handleUserSelection(a)})("_userDragDrop",function(a){return o._handleUserDragDrop(a)}),oe(),Et(2,Sje,0,0,"ng-template",2),ie(3,"button",3),St("focus",function(){return o._closeButtonFocused=!0})("blur",function(){return o._closeButtonFocused=!1})("click",function(){return o.datepicker.close()}),ht(4),oe()()),r&2){let s;Ct("mat-datepicker-content-container-with-custom-header",o.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",o._actionsPortal),Rt("aria-modal",!0)("aria-labelledby",(s=o._dialogLabelId)!==null&&s!==void 0?s:void 0),ue(),Zr(o.datepicker.panelClass),Te("id",o.datepicker.id)("startAt",o.datepicker.startAt)("startView",o.datepicker.startView)("minDate",o.datepicker._getMinDate())("maxDate",o.datepicker._getMaxDate())("dateFilter",o.datepicker._getDateFilter())("headerComponent",o.datepicker.calendarHeaderComponent)("selected",o._getSelected())("dateClass",o.datepicker.dateClass)("comparisonStart",o.comparisonStart)("comparisonEnd",o.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",o.startDateAccessibleName)("endDateAccessibleName",o.endDateAccessibleName),ue(),Te("cdkPortalOutlet",o._actionsPortal),ue(),Ct("cdk-visually-hidden",!o._closeButtonFocused),Te("color",o.color||"primary"),ue(),kn(o._closeButtonText)}},dependencies:[nz,uj,Hs,X_],styles:[".mat-datepicker-content{display:block;border-radius:4px;background-color:var(--mat-datepicker-calendar-container-background-color, var(--mat-app-surface-container-high));color:var(--mat-datepicker-calendar-container-text-color, var(--mat-app-on-surface));box-shadow:var(--mat-datepicker-calendar-container-elevation-shadow);border-radius:var(--mat-datepicker-calendar-container-shape, var(--mat-app-corner-large))}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;box-shadow:var(--mat-datepicker-calendar-container-touch-elevation-shadow);border-radius:var(--mat-datepicker-calendar-container-touch-shape, var(--mat-app-corner-extra-large));position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[One.transformPanel,One.fadeInCalendar]},changeDetection:0});let t=e;return t})(),Pne=(()=>{let e=class e{get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(n){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(n))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(n){this._color=n}get disabled(){return this._disabled===void 0&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(n){n!==this._disabled&&(this._disabled=n,this.stateChanges.next(void 0))}get panelClass(){return this._panelClass}set panelClass(n){this._panelClass=z2(n)}get opened(){return this._opened}set opened(n){n?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}constructor(n,r,o,s,a,l,c){this._overlay=n,this._viewContainerRef=o,this._dateAdapter=a,this._dir=l,this._model=c,this._inputStateChanges=Ti.EMPTY,this._document=pe(Tt),this.startView="month",this.touchUi=!1,this.xPosition="start",this.yPosition="below",this.restoreFocus=!0,this.yearSelected=new Ie,this.monthSelected=new Ie,this.viewChanged=new Ie(!0),this.openedStream=new Ie,this.closedStream=new Ie,this._opened=!1,this.id=`mat-datepicker-${Nje++}`,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new Be,this._injector=pe(tn),this._changeDetectorRef=pe(vi),this._dateAdapter,this._scrollStrategy=s,this._model.selectionChanged.subscribe(()=>{this._changeDetectorRef.markForCheck()})}ngOnChanges(n){let r=n.xPosition||n.yPosition;if(r&&!r.firstChange&&this._overlayRef){let o=this._overlayRef.getConfig().positionStrategy;o instanceof C_&&(this._setConnectedPositions(o),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(n){this._model.add(n)}_selectYear(n){this.yearSelected.emit(n)}_selectMonth(n){this.monthSelected.emit(n)}_viewChanged(n){this.viewChanged.emit(n)}registerInput(n){return this.datepickerInput,this._inputStateChanges.unsubscribe(),this.datepickerInput=n,this._inputStateChanges=n.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(n){this._actionsPortal,this._actionsPortal=n,this._componentRef?.instance._assignActions(n,!0)}removeActions(n){n===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this.datepickerInput,this._focusedElementBeforeOpen=Nd(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;let n=this.restoreFocus&&this._focusedElementBeforeOpen&&typeof this._focusedElementBeforeOpen.focus=="function",r=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){let{instance:o,location:s}=this._componentRef;o._startExitAnimation(),o._animationDone.pipe(Fr(1)).subscribe(()=>{let a=this._document.activeElement;n&&(!a||a===this._document.activeElement||s.nativeElement.contains(a))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}n?setTimeout(r):r()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(n){n.datepicker=this,n.color=this.color,n._dialogLabelId=this.datepickerInput.getOverlayLabelId(),n._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();let n=this.touchUi,r=new Rc(Wne,this._viewContainerRef),o=this._overlayRef=this._overlay.create(new Tc({positionStrategy:n?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[n?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:n?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:`mat-datepicker-${n?"dialog":"popup"}`}));this._getCloseStream(o).subscribe(s=>{s&&s.preventDefault(),this.close()}),o.keydownEvents().subscribe(s=>{let a=s.keyCode;(a===38||a===40||a===37||a===39||a===33||a===34)&&s.preventDefault()}),this._componentRef=o.attach(r),this._forwardContentValues(this._componentRef.instance),n||vo(()=>{o.updatePosition()},{injector:this._injector})}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){let n=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(n)}_setConnectedPositions(n){let r=this.xPosition==="end"?"end":"start",o=r==="start"?"end":"start",s=this.yPosition==="above"?"bottom":"top",a=s==="top"?"bottom":"top";return n.withPositions([{originX:r,originY:a,overlayX:r,overlayY:s},{originX:r,originY:s,overlayX:r,overlayY:a},{originX:o,originY:a,overlayX:o,overlayY:s},{originX:o,originY:s,overlayX:o,overlayY:a}])}_getCloseStream(n){let r=["ctrlKey","shiftKey","metaKey"];return dr(n.backdropClick(),n.detachments(),n.keydownEvents().pipe(Ii(o=>o.keyCode===27&&!Nn(o)||this.datepickerInput&&Nn(o,"altKey")&&o.keyCode===38&&r.every(s=>!Nn(o,s)))))}};e.\u0275fac=function(r){return new(r||e)(L(Rn),L(Ge),L(Qr),L(Bne),L(wr,8),L($n,8),L(qS))},e.\u0275dir=Qe({type:e,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:[2,"touchUi","touchUi",mt],disabled:[2,"disabled","disabled",mt],xPosition:"xPosition",yPosition:"yPosition",restoreFocus:[2,"restoreFocus","restoreFocus",mt],dateClass:"dateClass",panelClass:"panelClass",opened:[2,"opened","opened",mt]},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[di,li]});let t=e;return t})(),jne=(()=>{let e=class e extends Pne{};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=xa(e)))(o||e)}})(),e.\u0275cmp=ut({type:e,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],standalone:!0,features:[ui([Nne,{provide:Pne,useExisting:e}]),ki,vt],decls:0,vars:0,template:function(r,o){},encapsulation:2,changeDetection:0});let t=e;return t})(),ev=class{constructor(e,i){this.target=e,this.targetElement=i,this.value=this.target.value}},Hje=(()=>{let e=class e{get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(n){this._assignValueProgrammatically(n)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(n){let r=n,o=this._elementRef.nativeElement;this._disabled!==r&&(this._disabled=r,this.stateChanges.next(void 0)),r&&this._isInitialized&&o.blur&&o.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(n){this._model=n,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(r=>{if(this._shouldHandleChangeEvent(r)){let o=this._getValueFromModel(r.selection);this._lastValueValid=this._isValidValue(o),this._cvaOnChange(o),this._onTouched(),this._formatValue(o),this.dateInput.emit(new ev(this,this._elementRef.nativeElement)),this.dateChange.emit(new ev(this,this._elementRef.nativeElement))}})}constructor(n,r,o){this._elementRef=n,this._dateAdapter=r,this._dateFormats=o,this.dateChange=new Ie,this.dateInput=new Ie,this.stateChanges=new Be,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=Ti.EMPTY,this._localeSubscription=Ti.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=s=>{let a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value));return!a||this._matchesFilter(a)?null:{matDatepickerFilter:!0}},this._minValidator=s=>{let a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),l=this._getMinDate();return!l||!a||this._dateAdapter.compareDate(l,a)<=0?null:{matDatepickerMin:{min:l,actual:a}}},this._maxValidator=s=>{let a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),l=this._getMaxDate();return!l||!a||this._dateAdapter.compareDate(l,a)>=0?null:{matDatepickerMax:{max:l,actual:a}}},this._lastValueValid=!1,this._localeSubscription=r.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(n){Vje(n,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(n){this._validatorOnChange=n}validate(n){return this._validator?this._validator(n):null}writeValue(n){this._assignValueProgrammatically(n)}registerOnChange(n){this._cvaOnChange=n}registerOnTouched(n){this._onTouched=n}setDisabledState(n){this.disabled=n}_onKeydown(n){let r=["ctrlKey","shiftKey","metaKey"];Nn(n,"altKey")&&n.keyCode===40&&r.every(s=>!Nn(n,s))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),n.preventDefault())}_onInput(n){let r=this._lastValueValid,o=this._dateAdapter.parse(n,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(o),o=this._dateAdapter.getValidDateOrNull(o);let s=!this._dateAdapter.sameDate(o,this.value);!o||s?this._cvaOnChange(o):(n&&!this.value&&this._cvaOnChange(o),r!==this._lastValueValid&&this._validatorOnChange()),s&&(this._assignValue(o),this.dateInput.emit(new ev(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new ev(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(n){this._elementRef.nativeElement.value=n!=null?this._dateAdapter.format(n,this._dateFormats.display.dateInput):""}_assignValue(n){this._model?(this._assignValueToModel(n),this._pendingValue=null):this._pendingValue=n}_isValidValue(n){return!n||this._dateAdapter.isValid(n)}_parentDisabled(){return!1}_assignValueProgrammatically(n){n=this._dateAdapter.deserialize(n),this._lastValueValid=this._isValidValue(n),n=this._dateAdapter.getValidDateOrNull(n),this._assignValue(n),this._formatValue(n)}_matchesFilter(n){let r=this._getDateFilter();return!r||r(n)}};e.\u0275fac=function(r){return new(r||e)(L(Ze),L(wr,8),L(Ec,8))},e.\u0275dir=Qe({type:e,inputs:{value:"value",disabled:[2,"disabled","disabled",mt]},outputs:{dateChange:"dateChange",dateInput:"dateInput"},standalone:!0,features:[di,li]});let t=e;return t})();function Vje(t,e){let i=Object.keys(t);for(let n of i){let{previousValue:r,currentValue:o}=t[n];if(e.isDateInstance(r)&&e.isDateInstance(o)){if(!e.sameDate(r,o))return!0}else return!0}return!1}var Bje={provide:Wh,useExisting:bo(()=>IA),multi:!0},Wje={provide:Gd,useExisting:bo(()=>IA),multi:!0},IA=(()=>{let e=class e extends Hje{set matDatepicker(n){n&&(this._datepicker=n,this._ariaOwns.set(n.opened?n.id:null),this._closedSubscription=n.closedStream.subscribe(()=>{this._onTouched(),this._ariaOwns.set(null)}),this._openedSubscription=n.openedStream.subscribe(()=>{this._ariaOwns.set(n.id)}),this._registerModel(n.registerInput(this)))}get min(){return this._min}set min(n){let r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(n));this._dateAdapter.sameDate(r,this._min)||(this._min=r,this._validatorOnChange())}get max(){return this._max}set max(n){let r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(n));this._dateAdapter.sameDate(r,this._max)||(this._max=r,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(n){let r=this._matchesFilter(this.value);this._dateFilter=n,this._matchesFilter(this.value)!==r&&this._validatorOnChange()}constructor(n,r,o,s){super(n,r,o),this._formField=s,this._closedSubscription=Ti.EMPTY,this._openedSubscription=Ti.EMPTY,this._ariaOwns=oU(null),this._validator=zd.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe(),this._openedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(n){return n}_assignValueToModel(n){this._model&&this._model.updateSelection(n,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(n){return n.source!==this}};e.\u0275fac=function(r){return new(r||e)(L(Ze),L(wr,8),L(Ec,8),L(Uh,8))},e.\u0275dir=Qe({type:e,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(r,o){r&1&&St("input",function(a){return o._onInput(a.target.value)})("change",function(){return o._onChange()})("blur",function(){return o._onBlur()})("keydown",function(a){return o._onKeydown(a)}),r&2&&(Ns("disabled",o.disabled),Rt("aria-haspopup",o._datepicker?"dialog":null)("aria-owns",o._ariaOwns())("min",o.min?o._dateAdapter.toIso8601(o.min):null)("max",o.max?o._dateAdapter.toIso8601(o.max):null)("data-mat-calendar",o._datepicker?o._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:[0,"matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],standalone:!0,features:[ui([Bje,Wje,{provide:ik,useExisting:e}]),ki]});let t=e;return t})(),jje=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Qe({type:e,selectors:[["","matDatepickerToggleIcon",""]],standalone:!0});let t=e;return t})(),hj=(()=>{let e=class e{get disabled(){return this._disabled===void 0&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(n){this._disabled=n}constructor(n,r,o){this._intl=n,this._changeDetectorRef=r,this._stateChanges=Ti.EMPTY;let s=Number(o);this.tabIndex=s||s===0?s:null}ngOnChanges(n){n.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(n){this.datepicker&&!this.disabled&&(this.datepicker.open(),n.stopPropagation())}_watchStateChanges(){let n=this.datepicker?this.datepicker.stateChanges:dt(),r=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:dt(),o=this.datepicker?dr(this.datepicker.openedStream,this.datepicker.closedStream):dt();this._stateChanges.unsubscribe(),this._stateChanges=dr(this._intl.changes,n,r,o).subscribe(()=>this._changeDetectorRef.markForCheck())}};e.\u0275fac=function(r){return new(r||e)(L(KS),L(vi),Ea("tabindex"))},e.\u0275cmp=ut({type:e,selectors:[["mat-datepicker-toggle"]],contentQueries:function(r,o,s){if(r&1&&zn(s,jje,5),r&2){let a;Je(a=et())&&(o._customIcon=a.first)}},viewQuery:function(r,o){if(r&1&&It(xje,5),r&2){let s;Je(s=et())&&(o._button=s.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(r,o){r&1&&St("click",function(a){return o._open(a)}),r&2&&(Rt("tabindex",null)("data-mat-calendar",o.datepicker?o.datepicker.id:null),Ct("mat-datepicker-toggle-active",o.datepicker&&o.datepicker.opened)("mat-accent",o.datepicker&&o.datepicker.color==="accent")("mat-warn",o.datepicker&&o.datepicker.color==="warn"))},inputs:{datepicker:[0,"for","datepicker"],tabIndex:"tabIndex",ariaLabel:[0,"aria-label","ariaLabel"],disabled:[2,"disabled","disabled",mt],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],standalone:!0,features:[di,li,vt],ngContentSelectors:Rje,decls:4,vars:6,consts:[["button",""],["mat-icon-button","","type","button",3,"disabled","disableRipple"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(r,o){r&1&&(Di(Eje),ie(0,"button",1,0),Et(2,Tje,2,0,":svg:svg",2),Pt(3),oe()),r&2&&(Te("disabled",o.disabled)("disableRipple",o.disableRipple),Rt("aria-haspopup",o.datepicker?"dialog":null)("aria-label",o.ariaLabel||o._intl.openCalendarLabel)("tabindex",o.disabled?-1:o.tabIndex),ue(2),xi(o._customIcon?-1:2))},dependencies:[M1],styles:[".mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color, var(--mat-app-on-surface-variant))}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color, var(--mat-app-on-surface-variant))}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0});let t=e;return t})();var Une=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Xe({type:e}),e.\u0275inj=Ke({providers:[KS,Fje],imports:[Hr,jR,Kd,oz,dp,Ft,Wne,hj,Vne,Wd]});let t=e;return t})();var zje=["determinateSpinner"];function Yje(t,e){if(t&1&&(cl(),ie(0,"svg",11),ze(1,"circle",12),oe()),t&2){let i=at();Rt("viewBox",i._viewBox()),ue(),ss("stroke-dasharray",i._strokeCircumference(),"px")("stroke-dashoffset",i._strokeCircumference()/2,"px")("stroke-width",i._circleStrokeWidth(),"%"),Rt("r",i._circleRadius())}}var Gje=new we("mat-progress-spinner-default-options",{providedIn:"root",factory:$je});function $je(){return{diameter:zne}}var zne=100,qje=10,Yne=(()=>{let e=class e{get color(){return this._color||this._defaultColor}set color(n){this._color=n}constructor(n,r,o){this._elementRef=n,this._defaultColor="primary",this._value=0,this._diameter=zne,this._noopAnimations=r==="NoopAnimations"&&!!o&&!o._forceAnimations,this.mode=n.nativeElement.nodeName.toLowerCase()==="mat-spinner"?"indeterminate":"determinate",o&&(o.color&&(this.color=this._defaultColor=o.color),o.diameter&&(this.diameter=o.diameter),o.strokeWidth&&(this.strokeWidth=o.strokeWidth))}get value(){return this.mode==="determinate"?this._value:0}set value(n){this._value=Math.max(0,Math.min(100,n||0))}get diameter(){return this._diameter}set diameter(n){this._diameter=n||0}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(n){this._strokeWidth=n||0}_circleRadius(){return(this.diameter-qje)/2}_viewBox(){let n=this._circleRadius()*2+this.strokeWidth;return`0 0 ${n} ${n}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return this.mode==="determinate"?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}};e.\u0275fac=function(r){return new(r||e)(L(Ze),L(yn,8),L(Gje))},e.\u0275cmp=ut({type:e,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(r,o){if(r&1&&It(zje,5),r&2){let s;Je(s=et())&&(o._determinateCircle=s.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(r,o){r&2&&(Rt("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow",o.mode==="determinate"?o.value:null)("mode",o.mode),Zr("mat-"+o.color),ss("width",o.diameter,"px")("height",o.diameter,"px")("--mdc-circular-progress-size",o.diameter+"px")("--mdc-circular-progress-active-indicator-width",o.diameter+"px"),Ct("_mat-animation-noopable",o._noopAnimations)("mdc-circular-progress--indeterminate",o.mode==="indeterminate"))},inputs:{color:"color",mode:"mode",value:[2,"value","value",Po],diameter:[2,"diameter","diameter",Po],strokeWidth:[2,"strokeWidth","strokeWidth",Po]},exportAs:["matProgressSpinner"],standalone:!0,features:[di,vt],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(r,o){if(r&1&&(Et(0,Yje,2,8,"ng-template",null,0,Tx),ie(2,"div",2,1),cl(),ie(4,"svg",3),ze(5,"circle",4),oe()(),Nm(),ie(6,"div",5)(7,"div",6)(8,"div",7),Fm(9,8),oe(),ie(10,"div",9),Fm(11,8),oe(),ie(12,"div",10),Fm(13,8),oe()()()),r&2){let s=_r(1);ue(4),Rt("viewBox",o._viewBox()),ue(),ss("stroke-dasharray",o._strokeCircumference(),"px")("stroke-dashoffset",o._strokeDashOffset(),"px")("stroke-width",o._circleStrokeWidth(),"%"),Rt("r",o._circleRadius()),ue(4),Te("ngTemplateOutlet",s),ue(2),Te("ngTemplateOutlet",s),ue(2),Te("ngTemplateOutlet",s)}},dependencies:[kx],styles:[".mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, var(--mat-app-primary))}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}"],encapsulation:2,changeDetection:0});let t=e;return t})();var Gne=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Xe({type:e}),e.\u0275inj=Ke({imports:[Hr,Ft]});let t=e;return t})();function Xje(t,e){t&1&&ze(0,"mat-spinner")}function Qje(t,e){if(t&1&&(ie(0,"div",1),Et(1,Xje,1,0,"mat-spinner",2),oe()),t&2){let i=at();ue(),Te("ngIf",!i.isLoading)}}var $ne=(()=>{let e=class e{constructor(){this.collectionSelected="",this.start_on=!1,this.startDate="",this.endDate="",this.httpClient=pe(_O),this.data=[],this.months=[],this.monthsDate=[],this.dataverseCollectionsURL="",this.monthsDownloadsDateURLS="",this.monthsDatasetsDateURLS="",this.monthsFilesDateURLS="",this.monthsUsersDateURLS="",this.parentAlias="",this.downloads_rsp=[],this.datasets_rsp=[],this.files_rsp=[],this.users_rsp=[],this.subject_rsp=[],this.filecontent_rsp=[],this.table_dataset_rsp={},this.table_file_rsp={},this.datasetURL="",this.datasetsContents=[],this.datasets=[],this.fileURL="",this.filesContents=[],this.files=[],this.subjectURL="",this.subjectContents=[],this.subjectLabels=[],this.subjectData=[],this.subjectContentFullData=[],this.fileContentURL="",this.fileContentHash={},this.fileContentLabels=[],this.fileContentData=[],this.fileContentFullData=[],this.monthlyDownloads=[],this.monthlyDatasets=[],this.monthlyFiles=[],this.monthlyUsers=[],this.fileSizeHash={},this.sizeLabels=[],this.monthlySize=[],this.monthlyAggSize=[],this.monthlyAggDownloads=[],this.monthlyAggDatasets=[],this.monthlyAggFiles=[],this.monthlyAggUsers=[],this.observables=[],this.dataversesDataTree=[],this.dataverseCollections=[],this.dataverseCollectionsDropDown=[],this.dataverseAlias=[],this.isLoading=!1,this.firstAPIGet=!0,this.dateRangeOn=!1,this.messageEvent=new Ie}ngOnChanges(){this.firstAPIGet||this.cleanTempData(),console.log("date",this.dateRangeOn,this.startDate,this.endDate),this.dataverseCollectionsURL="https://borealisdata.ca/api/info/metrics/tree",this.populateMonths(),console.log(this.months),this.collectionSelected!="(All)"?this.parentAlias="?parentAlias="+this.collectionSelected:this.parentAlias="",this.monthsDownloadsDateURLS="https://borealisdata.ca/api/info/metrics/downloads/monthly/"+this.parentAlias,this.monthsDatasetsDateURLS="https://borealisdata.ca/api/info/metrics/datasets/monthly/"+this.parentAlias,this.monthsFilesDateURLS="https://borealisdata.ca/api/info/metrics/files/monthly/"+this.parentAlias,this.monthsUsersDateURLS="https://borealisdata.ca/api/info/metrics/accounts/monthly/",this.subjectURL="https://borealisdata.ca/api/info/metrics/datasets/bySubject/toMonth/"+this.months[1]+this.parentAlias,this.fileContentURL="https://borealisdata.ca/api/info/metrics/files/byType/monthly/"+this.parentAlias,this.observables.push(this.httpClient.get(this.dataverseCollectionsURL)),this.observables.push(this.httpClient.get(this.monthsDownloadsDateURLS)),this.observables.push(this.httpClient.get(this.monthsDatasetsDateURLS)),this.observables.push(this.httpClient.get(this.monthsFilesDateURLS)),this.observables.push(this.httpClient.get(this.monthsUsersDateURLS)),this.observables.push(this.httpClient.get(this.subjectURL)),this.observables.push(this.httpClient.get(this.fileContentURL)),console.log(this.observables),wx(this.observables).subscribe(n=>{this.isLoading=!0;let r=n;if(console.log("raw responses,",r),this.data_rsp=r[0].data,this.downloads_rsp=r[1].data,this.datasets_rsp=r[2].data,this.files_rsp=r[3].data,this.users_rsp=r[4].data,this.subject_rsp=r[5].data,this.filecontent_rsp=r[6].data,this.dataversesDataTree=this.data_rsp.children,this.collectionSelected!="(All)"){console.log("HAHAHAHA",this.dataversesDataTree,this.collectionSelected);let u=this.findAliasRow(this.dataversesDataTree,this.collectionSelected);this.dataversesDataTree[u].hasOwnProperty("children")?this.dataversesDataTree=this.dataversesDataTree[u].children:this.dataversesDataTree=[]}for(let u=0;u<this.dataversesDataTree.length;u++)this.dataverseCollections.push({name:this.dataversesDataTree[u].name}),console.log(this.dataverseCollections),this.firstAPIGet||(this.dataverseAlias.push({alias:this.dataversesDataTree[u].alias,name:this.dataversesDataTree[u].name}),this.dataverseCollectionsDropDown.push(this.dataversesDataTree[u].name));console.log("look at the months,",this.months);for(let u=0;u<=this.months.length-2;u++)this.monthlyDownloads.push(this.downloads_rsp.find(f=>f.date==this.months[u]).count),this.monthlyAggDownloads.push(this.downloads_rsp.find(f=>f.date==this.months[u]).count-this.downloads_rsp.find(f=>f.date==this.months[u+1]).count),this.monthlyDatasets.push(this.datasets_rsp.find(f=>f.date==this.months[u]).count),this.monthlyAggDatasets.push(this.datasets_rsp.find(f=>f.date==this.months[u]).count-this.datasets_rsp.find(f=>f.date==this.months[u+1]).count),this.monthlyFiles.push(this.files_rsp.find(f=>f.date==this.months[u]).count),this.monthlyAggFiles.push(this.files_rsp.find(f=>f.date==this.months[u]).count-this.files_rsp.find(f=>f.date==this.months[u+1]).count),this.monthlyUsers.push(this.users_rsp.find(f=>f.date==this.months[u]).count),this.monthlyAggUsers.push(this.users_rsp.find(f=>f.date==this.months[u]).count-this.users_rsp.find(f=>f.date==this.months[u+1]).count);let o=0;for(let u=0;u<this.subject_rsp.length;u++)o+=this.subject_rsp[u].count;for(let u=0;u<this.subject_rsp.length;u++)this.subjectContentFullData.push({subject:this.subject_rsp[u].subject,count:this.subject_rsp[u].count,percent:(this.subject_rsp[u].count/o).toFixed(4)});this.subjectLabels=this.subject_rsp.map(u=>u.subject),this.subjectData=this.subject_rsp.map(u=>u.count);let s=0;for(let u=0;u<this.filecontent_rsp.length;u++)s+=this.filecontent_rsp[u].count;for(let u=0;u<this.filecontent_rsp.length;u++){let f=this.filecontent_rsp[u].date;this.fileSizeHash.hasOwnProperty(f)?this.fileSizeHash[f]+=parseFloat((this.filecontent_rsp[u].size/Math.pow(1024,3)).toFixed(4)):this.fileSizeHash[f]=parseFloat((this.filecontent_rsp[u].size/Math.pow(1024,3)).toFixed(4))}for(var a=Object.keys(this.fileSizeHash).map(u=>[u,this.fileSizeHash[u]]),l=[],c=0;c<a.length;c++)this.months.includes(a[c][0])&&l.push(a[c]);console.log(l);for(var c=0;c<l.length-1;c++)this.sizeLabels.push(l[c][0]),this.monthlySize.push(l[c][1]),this.monthlyAggSize.push(l[c+1][1]-l[c][1]);this.monthlySize=this.monthlySize.reverse(),this.monthlyAggSize=this.monthlyAggSize.reverse(),console.log("size stuff",this.monthlySize,this.monthlyAggSize);for(let u=0;u<this.filecontent_rsp.length;u++){this.fileContentFullData.push({contenttype:this.filecontent_rsp[u].contenttype,count:this.filecontent_rsp[u].count,percent:(this.filecontent_rsp[u].count/s).toFixed(4)});let f=this.filecontent_rsp[u].contenttype.split("/")[0],m=this.filecontent_rsp[u].count;this.fileContentHash.hasOwnProperty(f)?this.fileContentHash[f]=this.fileContentHash[f]+m:this.fileContentHash[f]=m}for(var d in this.fileContentHash)this.fileContentLabels.push(d),this.fileContentData.push(this.fileContentHash[d]);this.months.pop(),this.sendData()},n=>console.error(n)),this.isLoading=!1,this.firstAPIGet=!1}sendData(){var n={table_data:this.dataverseCollections,alias_data:this.dataverseAlias,downloads_graph_data:this.monthlyDownloads,datasets_graph_data:this.monthlyDatasets,files_graph_data:this.monthlyFiles,users_graph_data:this.monthlyUsers,size_graph_data:this.monthlySize,downloads_graph_agg_data:this.monthlyAggDownloads,datasets_graph_agg_data:this.monthlyAggDatasets,files_graph_agg_data:this.monthlyAggFiles,users_graph_agg_data:this.monthlyAggUsers,size_graph_agg_data:this.monthlyAggSize,subject_label_data:this.subjectLabels,subject_data:this.subjectData,subject_full_data:this.subjectContentFullData,file_content_label_data:this.fileContentLabels,file_content_data:this.fileContentData,file_content_full_data:this.fileContentFullData,name_dropdown_data:this.dataverseCollectionsDropDown,months:this.months};console.log(n),this.messageEvent.emit({DataverseTabData:n})}populateMonths(){if(this.start_on){let c=l(this.startDate,this.endDate)}var n=new Date;if(this.endDate!=""){let c=Date.parse(this.endDate);var n=new Date(c)}let r=n.getMonth()+1,o=n.getFullYear();for(let c=0;c<=25;c++){c!=0&&(r=r-1),r==0&&(o=o-1,r=12);var s=String(r).padStart(2,"0"),a=String(o);let d=a+"-"+s;if(this.months.push(d),this.start_on&&d===this.startDate)break}this.months.shift();function l(c,d){let u=Date.parse(c);var f=new Date(u);let m=Date.parse(d);var g=new Date(m);console.log(g,f);var _;return _=(g.getFullYear()-f.getFullYear())*12,_+=Math.abs(g.getMonth()-f.getMonth()),_}}cleanTempData(){this.dataverseCollectionsDropDown=[],this.dataverseCollectionsURL="",this.monthsDownloadsDateURLS="",this.monthsDatasetsDateURLS="",this.monthsFilesDateURLS="",this.monthsUsersDateURLS="",this.monthlyDownloads=[],this.monthlyDatasets=[],this.monthlyFiles=[],this.monthlyUsers=[],this.monthlySize=[],this.observables=[],this.dataversesDataTree=[],this.dataverseCollections=[],this.datasetURL="",this.datasetsContents=[],this.datasets=[],this.subjectURL="",this.subjectContents=[],this.subjectLabels=[],this.subjectData=[],this.fileContentURL="",this.fileContentHash={},this.fileContentLabels=[],this.fileContentData=[],this.monthlyAggDownloads=[],this.monthlyAggDatasets=[],this.monthlyAggFiles=[],this.monthlyAggUsers=[],this.monthlyAggSize=[],this.subjectContentFullData=[],this.fileContentFullData=[],this.months=[]}findAliasRow(n,r){for(let o=0;o<=n.length;o++)if(n[o].alias==r)return o;return-1}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ut({type:e,selectors:[["app-posts"]],inputs:{collectionSelected:"collectionSelected",start_on:"start_on",startDate:"startDate",endDate:"endDate"},outputs:{messageEvent:"messageEvent"},standalone:!0,features:[li,vt],decls:1,vars:1,consts:[["style",`margin: auto;
position: absolute;
left: 70%;
top: 15%;
background-color: rgba(255,255,255,0.5) !important;
background-size: cover;`,4,"ngIf"],[2,"margin","auto","position","absolute","left","70%","top","15%","background-color","rgba(255,255,255,0.5) !important","background-size","cover"],[4,"ngIf"]],template:function(r,o){r&1&&Et(0,Qje,2,1,"div",0),r&2&&Te("ngIf",!o.isLoading)},dependencies:[UU,Gne,Yne,Hr,Px],styles:[".transparent[_ngcontent-%COMP%]   .mat-mdc-dialog-container[_ngcontent-%COMP%]{--mdc-dialog-container-color: rgba(0, 0, 0, 0)}.transparent[_ngcontent-%COMP%]   .mat-mdc-dialog-surface[_ngcontent-%COMP%]{box-shadow:none!important}"]});let t=e;return t})();var Zje=["*"],Jje=[[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],[["","mat-card-image",""],["","matCardImage",""],["","mat-card-sm-image",""],["","matCardImageSmall",""],["","mat-card-md-image",""],["","matCardImageMedium",""],["","mat-card-lg-image",""],["","matCardImageLarge",""],["","mat-card-xl-image",""],["","matCardImageXLarge",""]],"*"],eUe=[`mat-card-title, mat-card-subtitle,
      [mat-card-title], [mat-card-subtitle],
      [matCardTitle], [matCardSubtitle]`,`[mat-card-image], [matCardImage],
                    [mat-card-sm-image], [matCardImageSmall],
                    [mat-card-md-image], [matCardImageMedium],
                    [mat-card-lg-image], [matCardImageLarge],
                    [mat-card-xl-image], [matCardImageXLarge]`,"*"],tUe=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],iUe=["[mat-card-avatar], [matCardAvatar]",`mat-card-title, mat-card-subtitle,
      [mat-card-title], [mat-card-subtitle],
      [matCardTitle], [matCardSubtitle]`,"*"],nUe=new we("MAT_CARD_CONFIG"),qne=(()=>{let e=class e{constructor(n){this.appearance=n?.appearance||"raised"}};e.\u0275fac=function(r){return new(r||e)(L(nUe,8))},e.\u0275cmp=ut({type:e,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(r,o){r&2&&Ct("mat-mdc-card-outlined",o.appearance==="outlined")("mdc-card--outlined",o.appearance==="outlined")},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[vt],ngContentSelectors:Zje,decls:1,vars:0,template:function(r,o){r&1&&(Di(),Pt(0))},styles:['.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mdc-elevated-card-container-color, var(--mat-app-surface-container-low));border-color:var(--mdc-elevated-card-container-color, var(--mat-app-surface-container-low));border-radius:var(--mdc-elevated-card-container-shape, var(--mat-app-corner-medium));box-shadow:var(--mdc-elevated-card-container-elevation, var(--mat-app-level1))}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mdc-elevated-card-container-shape, var(--mat-app-corner-medium))}.mat-mdc-card-outlined{background-color:var(--mdc-outlined-card-container-color, var(--mat-app-surface));border-radius:var(--mdc-outlined-card-container-shape, var(--mat-app-corner-medium));border-width:var(--mdc-outlined-card-outline-width);border-color:var(--mdc-outlined-card-outline-color, var(--mat-app-outline-variant));box-shadow:var(--mdc-outlined-card-container-elevation, var(--mat-app-level0))}.mat-mdc-card-outlined::after{border:none}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font, var(--mat-app-title-large-font));line-height:var(--mat-card-title-text-line-height, var(--mat-app-title-large-line-height));font-size:var(--mat-card-title-text-size, var(--mat-app-title-large-size));letter-spacing:var(--mat-card-title-text-tracking, var(--mat-app-title-large-tracking));font-weight:var(--mat-card-title-text-weight, var(--mat-app-title-large-weight))}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color, var(--mat-app-on-surface));font-family:var(--mat-card-subtitle-text-font, var(--mat-app-title-medium-font));line-height:var(--mat-card-subtitle-text-line-height, var(--mat-app-title-medium-line-height));font-size:var(--mat-card-subtitle-text-size, var(--mat-app-title-medium-size));letter-spacing:var(--mat-card-subtitle-text-tracking, var(--mat-app-title-medium-tracking));font-weight:var(--mat-card-subtitle-text-weight, var(--mat-app-title-medium-weight))}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0});let t=e;return t})(),Kne=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Qe({type:e,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"],standalone:!0});let t=e;return t})(),Xne=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ut({type:e,selectors:[["mat-card-title-group"]],hostAttrs:[1,"mat-mdc-card-title-group"],standalone:!0,features:[vt],ngContentSelectors:eUe,decls:4,vars:0,template:function(r,o){r&1&&(Di(Jje),ie(0,"div"),Pt(1),oe(),Pt(2,1),Pt(3,2))},encapsulation:2,changeDetection:0});let t=e;return t})(),Qne=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Qe({type:e,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"],standalone:!0});let t=e;return t})(),Zne=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Qe({type:e,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"],standalone:!0});let t=e;return t})();var Jne=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ut({type:e,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],standalone:!0,features:[vt],ngContentSelectors:iUe,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(r,o){r&1&&(Di(tUe),Pt(0),ie(1,"div",0),Pt(2,1),oe(),Pt(3,2))},encapsulation:2,changeDetection:0});let t=e;return t})();var ere=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Xe({type:e}),e.\u0275inj=Ke({imports:[Ft,Hr,Ft]});let t=e;return t})();RA();var tre=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ut({type:e,selectors:[["app-generic-table"]],inputs:{data:"data",colHeaders:"colHeaders",colWidths:"colWidths",rowHeaders:"rowHeaders",height:"height",columnSorting:"columnSorting",columns:"columns",dropdownMenu:"dropdownMenu",filters:"filters"},standalone:!0,features:[vt],decls:1,vars:9,consts:[["licenseKey","non-commercial-and-evaluation",1,"hot",2,"overflow-y","hidden","overflow-y","hidden !important",3,"data","colHeaders","colWidths","rowHeaders","height","columnSorting","columns","dropdownMenu","filters"]],template:function(r,o){r&1&&ze(0,"hot-table",0),r&2&&Te("data",o.data)("colHeaders",o.colHeaders)("colWidths",o.colWidths)("rowHeaders",o.rowHeaders)("height",o.height)("columnSorting",o.columnSorting)("columns",o.columns)("dropdownMenu",o.dropdownMenu)("filters",o.filters)},dependencies:[gD,CZ],styles:["*[_ngcontent-%COMP%]{font-family:Verdana,Helvetica,Arial,FreeSans,sans-serif important!;font-size:12px important!}html[_ngcontent-%COMP%]{-ms-overflow-style:none;scrollbar-width:none}"]});let t=e;return t})();var oUe=["input"],sUe=["label"],aUe=["*"],lUe=new we("mat-checkbox-default-options",{providedIn:"root",factory:nre});function nre(){return{color:"accent",clickAction:"check-indeterminate",disabledInteractive:!1}}var ho=function(t){return t[t.Init=0]="Init",t[t.Checked=1]="Checked",t[t.Unchecked=2]="Unchecked",t[t.Indeterminate=3]="Indeterminate",t}(ho||{}),cUe={provide:Wh,useExisting:bo(()=>DA),multi:!0},fj=class{},dUe=0,ire=nre(),DA=(()=>{let e=class e{focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(n){let r=new fj;return r.source=this,r.checked=n,r}_getAnimationTargetElement(){return this._inputElement?.nativeElement}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(n,r,o,s,a,l){this._elementRef=n,this._changeDetectorRef=r,this._ngZone=o,this._animationMode=a,this._options=l,this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"},this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new Ie,this.indeterminateChange=new Ie,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=ho.Init,this._controlValueAccessorChangeFn=()=>{},this._validatorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||ire,this.color=this._options.color||ire.color,this.tabIndex=parseInt(s)||0,this.id=this._uniqueId=`mat-mdc-checkbox-${++dUe}`,this.disabledInteractive=l?.disabledInteractive??!1}ngOnChanges(n){n.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(n){n!=this.checked&&(this._checked=n,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(n){n!==this.disabled&&(this._disabled=n,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(n){let r=n!=this._indeterminate;this._indeterminate=n,r&&(this._indeterminate?this._transitionCheckState(ho.Indeterminate):this._transitionCheckState(this.checked?ho.Checked:ho.Unchecked),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(n){this.checked=!!n}registerOnChange(n){this._controlValueAccessorChangeFn=n}registerOnTouched(n){this._onTouched=n}setDisabledState(n){this.disabled=n}validate(n){return this.required&&n.value!==!0?{required:!0}:null}registerOnValidatorChange(n){this._validatorChangeFn=n}_transitionCheckState(n){let r=this._currentCheckState,o=this._getAnimationTargetElement();if(!(r===n||!o)&&(this._currentAnimationClass&&o.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(r,n),this._currentCheckState=n,this._currentAnimationClass.length>0)){o.classList.add(this._currentAnimationClass);let s=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{o.classList.remove(s)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){let n=this._options?.clickAction;!this.disabled&&n!=="noop"?(this.indeterminate&&n!=="check"&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?ho.Checked:ho.Unchecked),this._emitChangeEvent()):(this.disabled&&this.disabledInteractive||!this.disabled&&n==="noop")&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate)}_onInteractionEvent(n){n.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(n,r){if(this._animationMode==="NoopAnimations")return"";switch(n){case ho.Init:if(r===ho.Checked)return this._animationClasses.uncheckedToChecked;if(r==ho.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case ho.Unchecked:return r===ho.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case ho.Checked:return r===ho.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case ho.Indeterminate:return r===ho.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(n){let r=this._inputElement;r&&(r.nativeElement.indeterminate=n)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(n){n.target&&this._labelElement.nativeElement.contains(n.target)&&n.stopPropagation()}};e.\u0275fac=function(r){return new(r||e)(L(Ze),L(vi),L(Ge),Ea("tabindex"),L(yn,8),L(lUe,8))},e.\u0275cmp=ut({type:e,selectors:[["mat-checkbox"]],viewQuery:function(r,o){if(r&1&&(It(oUe,5),It(sUe,5),It(Bd,5)),r&2){let s;Je(s=et())&&(o._inputElement=s.first),Je(s=et())&&(o._labelElement=s.first),Je(s=et())&&(o.ripple=s.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:16,hostBindings:function(r,o){r&2&&(Ns("id",o.id),Rt("tabindex",null)("aria-label",null)("aria-labelledby",null),Zr(o.color?"mat-"+o.color:"mat-accent"),Ct("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mdc-checkbox--disabled",o.disabled)("mat-mdc-checkbox-disabled",o.disabled)("mat-mdc-checkbox-checked",o.checked)("mat-mdc-checkbox-disabled-interactive",o.disabledInteractive))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],id:"id",required:[2,"required","required",mt],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[2,"disableRipple","disableRipple",mt],tabIndex:[2,"tabIndex","tabIndex",n=>n==null?void 0:Po(n)],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",mt],checked:[2,"checked","checked",mt],disabled:[2,"disabled","disabled",mt],indeterminate:[2,"indeterminate","indeterminate",mt]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],standalone:!0,features:[ui([cUe,{provide:Gd,useExisting:e,multi:!0}]),di,li,vt],ngContentSelectors:aUe,decls:15,vars:20,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(r,o){if(r&1){let s=Pn();Di(),ie(0,"div",3),St("click",function(l){return yt(s),wt(o._preventBubblingFromLabel(l))}),ie(1,"div",4,0)(3,"div",5),St("click",function(){return yt(s),wt(o._onTouchTargetClick())}),oe(),ie(4,"input",6,1),St("blur",function(){return yt(s),wt(o._onBlur())})("click",function(){return yt(s),wt(o._onInputClick())})("change",function(l){return yt(s),wt(o._onInteractionEvent(l))}),oe(),ze(6,"div",7),ie(7,"div",8),cl(),ie(8,"svg",9),ze(9,"path",10),oe(),Nm(),ze(10,"div",11),oe(),ze(11,"div",12),oe(),ie(12,"label",13,2),Pt(14),oe()()}if(r&2){let s=_r(2);Te("labelPosition",o.labelPosition),ue(4),Ct("mdc-checkbox--selected",o.checked),Te("checked",o.checked)("indeterminate",o.indeterminate)("disabled",o.disabled&&!o.disabledInteractive)("id",o.inputId)("required",o.required)("tabIndex",o.disabled&&!o.disabledInteractive?-1:o.tabIndex),Rt("aria-label",o.ariaLabel||null)("aria-labelledby",o.ariaLabelledby)("aria-describedby",o.ariaDescribedby)("aria-checked",o.indeterminate?"mixed":null)("aria-disabled",o.disabled&&o.disabledInteractive?!0:null)("name",o.name)("value",o.value),ue(7),Te("matRippleTrigger",s)("matRippleDisabled",o.disableRipple||o.disabled)("matRippleCentered",!0),ue(),Te("for",o.inputId)}},dependencies:[Bd,bz],styles:['.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity));background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity));background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mdc-checkbox__ripple{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.cdk-high-contrast-active .mdc-checkbox--disabled{opacity:.5}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1);-webkit-print-color-adjust:exact;color-adjust:exact;border-color:var(--mdc-checkbox-unselected-icon-color, var(--mat-app-on-surface-variant));top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2)}.mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-icon-color, var(--mat-app-primary))}.mdc-checkbox--disabled .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mat-app-on-surface));background-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-app-primary))}.mdc-checkbox__native-control:focus:focus:not(:checked)~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mat-app-on-surface))}.mdc-checkbox__native-control:focus:focus:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-app-primary))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox:hover .mdc-checkbox__native-control~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.6, 1);color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.cdk-high-contrast-active .mdc-checkbox__checkmark{color:CanvasText}.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.cdk-high-contrast-active .mdc-checkbox--disabled .mdc-checkbox__checkmark,.cdk-high-contrast-active .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:CanvasText}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.cdk-high-contrast-active .mdc-checkbox__mixedmark{margin:0 1px}.mdc-checkbox--disabled .mdc-checkbox__mixedmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms cubic-bezier(0, 0, 0.2, 1),transform 180ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *,.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox .mat-internal-form-field{color:var(--mat-checkbox-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-checkbox-label-text-font, var(--mat-app-body-medium-font));line-height:var(--mat-checkbox-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-checkbox-label-text-size, var(--mat-app-body-medium-size));letter-spacing:var(--mat-checkbox-label-text-tracking, var(--mat-app-body-medium-tracking));font-weight:var(--mat-checkbox-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive{pointer-events:auto}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive input{cursor:default}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color)}.mat-mdc-checkbox label:empty{display:none}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0});let t=e;return t})();var rre=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Xe({type:e}),e.\u0275inj=Ke({imports:[DA,Ft,Ft]});let t=e;return t})();var TUe=w(Jr()),ure=w(Jr());function hUe(t,e){}var pm=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}};var pj=(()=>{let e=class e extends cp{constructor(n,r,o,s,a,l,c,d){super(),this._elementRef=n,this._focusTrapFactory=r,this._config=s,this._interactivityChecker=a,this._ngZone=l,this._overlayRef=c,this._focusMonitor=d,this._platform=pe(ri),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=pe(vi),this._injector=pe(tn),this._isDestroyed=!1,this.attachDomPortal=u=>{this._portalOutlet.hasAttached();let f=this._portalOutlet.attachDomPortal(u);return this._contentAttached(),f},this._document=o,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(n){this._ariaLabelledByQueue.push(n),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(n){let r=this._ariaLabelledByQueue.indexOf(n);r>-1&&(this._ariaLabelledByQueue.splice(r,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(n){this._portalOutlet.hasAttached();let r=this._portalOutlet.attachComponentPortal(n);return this._contentAttached(),r}attachTemplatePortal(n){this._portalOutlet.hasAttached();let r=this._portalOutlet.attachTemplatePortal(n);return this._contentAttached(),r}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(n,r){this._interactivityChecker.isFocusable(n)||(n.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let o=()=>{n.removeEventListener("blur",o),n.removeEventListener("mousedown",o),n.removeAttribute("tabindex")};n.addEventListener("blur",o),n.addEventListener("mousedown",o)})),n.focus(r)}_focusByCssSelector(n,r){let o=this._elementRef.nativeElement.querySelector(n);o&&this._forceFocus(o,r)}_trapFocus(){this._isDestroyed||vo(()=>{let n=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||n.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}},{injector:this._injector})}_restoreFocus(){let n=this._config.restoreFocus,r=null;if(typeof n=="string"?r=this._document.querySelector(n):typeof n=="boolean"?r=n?this._elementFocusedBeforeDialogWasOpened:null:n&&(r=n),this._config.restoreFocus&&r&&typeof r.focus=="function"){let o=Nd(),s=this._elementRef.nativeElement;(!o||o===this._document.body||o===s||s.contains(o))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let n=this._elementRef.nativeElement,r=Nd();return n===r||n.contains(r)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Nd()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}};e.\u0275fac=function(r){return new(r||e)(L(Ze),L(a_),L(Tt,8),L(pm),L(s_),L(Ge),L(Ic),L(Hh))},e.\u0275cmp=ut({type:e,selectors:[["cdk-dialog-container"]],viewQuery:function(r,o){if(r&1&&It(Hs,7),r&2){let s;Je(s=et())&&(o._portalOutlet=s.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(r,o){r&2&&Rt("id",o._config.id||null)("role",o._config.role)("aria-modal",o._config.ariaModal)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null)},standalone:!0,features:[ki,vt],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(r,o){r&1&&Et(0,hUe,0,0,"ng-template",0)},dependencies:[Hs],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2});let t=e;return t})(),XS=class{constructor(e,i){this.overlayRef=e,this.config=i,this.closed=new Be,this.disableClose=i.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=i.id,this.keydownEvents.subscribe(n=>{n.keyCode===27&&!this.disableClose&&!Nn(n)&&(n.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{i.closeOnOverlayDetachments!==!1&&this.close()})}close(e,i){if(this.containerInstance){let n=this.closed;this.containerInstance._closeInteractionType=i?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),n.next(e),n.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",i=""){return this.overlayRef.updateSize({width:e,height:i}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}},fUe=new we("DialogScrollStrategy",{providedIn:"root",factory:()=>{let t=pe(Rn);return()=>t.scrollStrategies.block()}}),mUe=new we("DialogData"),pUe=new we("DefaultDialogConfig");var gUe=0,ore=(()=>{let e=class e{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(n,r,o,s,a,l){this._overlay=n,this._injector=r,this._defaultOptions=o,this._parentDialog=s,this._overlayContainer=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Be,this._afterOpenedAtThisLevel=new Be,this._ariaHiddenElements=new Map,this.afterAllClosed=bc(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ir(void 0))),this._scrollStrategy=l}open(n,r){let o=this._defaultOptions||new pm;r=ee(ee({},o),r),r.id=r.id||`cdk-dialog-${gUe++}`,r.id&&this.getDialogById(r.id);let s=this._getOverlayConfig(r),a=this._overlay.create(s),l=new XS(a,r),c=this._attachContainer(a,l,r);return l.containerInstance=c,this._attachDialogContent(n,l,c,r),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(l),l.closed.subscribe(()=>this._removeOpenDialog(l,!0)),this.afterOpened.next(l),l}closeAll(){mj(this.openDialogs,n=>n.close())}getDialogById(n){return this.openDialogs.find(r=>r.id===n)}ngOnDestroy(){mj(this._openDialogsAtThisLevel,n=>{n.config.closeOnDestroy===!1&&this._removeOpenDialog(n,!1)}),mj(this._openDialogsAtThisLevel,n=>n.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(n){let r=new Tc({positionStrategy:n.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:n.scrollStrategy||this._scrollStrategy(),panelClass:n.panelClass,hasBackdrop:n.hasBackdrop,direction:n.direction,minWidth:n.minWidth,minHeight:n.minHeight,maxWidth:n.maxWidth,maxHeight:n.maxHeight,width:n.width,height:n.height,disposeOnNavigation:n.closeOnNavigation});return n.backdropClass&&(r.backdropClass=n.backdropClass),r}_attachContainer(n,r,o){let s=o.injector||o.viewContainerRef?.injector,a=[{provide:pm,useValue:o},{provide:XS,useValue:r},{provide:Ic,useValue:n}],l;o.container?typeof o.container=="function"?l=o.container:(l=o.container.type,a.push(...o.container.providers(o))):l=pj;let c=new Rc(l,o.viewContainerRef,tn.create({parent:s||this._injector,providers:a}),o.componentFactoryResolver);return n.attach(c).instance}_attachDialogContent(n,r,o,s){if(n instanceof Xr){let a=this._createInjector(s,r,o,void 0),l={$implicit:s.data,dialogRef:r};s.templateContext&&(l=ee(ee({},l),typeof s.templateContext=="function"?s.templateContext():s.templateContext)),o.attachTemplatePortal(new Da(n,null,l,a))}else{let a=this._createInjector(s,r,o,this._injector),l=o.attachComponentPortal(new Rc(n,s.viewContainerRef,a,s.componentFactoryResolver));r.componentRef=l,r.componentInstance=l.instance}}_createInjector(n,r,o,s){let a=n.injector||n.viewContainerRef?.injector,l=[{provide:mUe,useValue:n.data},{provide:XS,useValue:r}];return n.providers&&(typeof n.providers=="function"?l.push(...n.providers(r,n,o)):l.push(...n.providers)),n.direction&&(!a||!a.get($n,null,{optional:!0}))&&l.push({provide:$n,useValue:{value:n.direction,change:dt()}}),tn.create({parent:a||s,providers:l})}_removeOpenDialog(n,r){let o=this.openDialogs.indexOf(n);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,a)=>{s?a.setAttribute("aria-hidden",s):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let n=this._overlayContainer.getContainerElement();if(n.parentElement){let r=n.parentElement.children;for(let o=r.length-1;o>-1;o--){let s=r[o];s!==n&&s.nodeName!=="SCRIPT"&&s.nodeName!=="STYLE"&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let n=this._parentDialog;return n?n._getAfterAllClosed():this._afterAllClosedAtThisLevel}};e.\u0275fac=function(r){return new(r||e)(ce(Rn),ce(tn),ce(pUe,8),ce(e,12),ce(bp),ce(fUe))},e.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function mj(t,e){let i=t.length;for(;i--;)e(t[i])}function bUe(t,e){}var QS=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}},gj="mdc-dialog--open",sre="mdc-dialog--opening",are="mdc-dialog--closing",vUe=150,_Ue=75,yUe=(()=>{let e=class e extends pj{constructor(n,r,o,s,a,l,c,d,u){super(n,r,o,s,a,l,c,u),this._animationMode=d,this._animationStateChanged=new Ie,this._animationsEnabled=this._animationMode!=="NoopAnimations",this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?cre(this._config.enterAnimationDuration)??vUe:0,this._exitAnimationDuration=this._animationsEnabled?cre(this._config.exitAnimationDuration)??_Ue:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(lre,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(sre,gj)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(gj),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(gj),this._animationsEnabled?(this._hostElement.style.setProperty(lre,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(are)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(n){this._actionSectionCount+=n,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(sre,are)}_waitForAnimationToComplete(n,r){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(r,n)}_requestAnimationFrame(n){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(n):n()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(n){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:n})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(n){let r=super.attachComponentPortal(n);return r.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),r}};e.\u0275fac=function(r){return new(r||e)(L(Ze),L(a_),L(Tt,8),L(QS),L(s_),L(Ge),L(Ic),L(yn,8),L(Hh))},e.\u0275cmp=ut({type:e,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(r,o){r&2&&(Ns("id",o._config.id),Rt("aria-modal",o._config.ariaModal)("role",o._config.role)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null),Ct("_mat-animation-noopable",!o._animationsEnabled)("mat-mdc-dialog-container-with-actions",o._actionSectionCount>0))},standalone:!0,features:[ki,vt],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(r,o){r&1&&(ie(0,"div",0)(1,"div",1),Et(2,bUe,0,0,"ng-template",2),oe()())},dependencies:[Hs],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12));border-radius:var(--mdc-dialog-container-shape, var(--mat-app-corner-extra-large, 4px));background-color:var(--mdc-dialog-container-color, var(--mat-app-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mdc-dialog-subhead-font, var(--mat-app-headline-small-font, inherit));line-height:var(--mdc-dialog-subhead-line-height, var(--mat-app-headline-small-line-height, 1.5rem));font-size:var(--mdc-dialog-subhead-size, var(--mat-app-headline-small-size, 1rem));font-weight:var(--mdc-dialog-subhead-weight, var(--mat-app-headline-small-weight, 400));letter-spacing:var(--mdc-dialog-subhead-tracking, var(--mat-app-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, var(--mat-app-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mdc-dialog-supporting-text-font, var(--mat-app-body-medium-font, inherit));line-height:var(--mdc-dialog-supporting-text-line-height, var(--mat-app-body-medium-line-height, 1.5rem));font-size:var(--mdc-dialog-supporting-text-size, var(--mat-app-body-medium-size, 1rem));font-weight:var(--mdc-dialog-supporting-text-weight, var(--mat-app-body-medium-weight, 400));letter-spacing:var(--mdc-dialog-supporting-text-tracking, var(--mat-app-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.cdk-high-contrast-active .mat-mdc-dialog-actions{border-top-color:CanvasText}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2});let t=e;return t})(),lre="--mat-dialog-transition-duration";function cre(t){return t==null?null:typeof t=="number"?t:t.endsWith("ms")?Ld(t.substring(0,t.length-2)):t.endsWith("s")?Ld(t.substring(0,t.length-1))*1e3:t==="0"?0:null}var MA=function(t){return t[t.OPEN=0]="OPEN",t[t.CLOSING=1]="CLOSING",t[t.CLOSED=2]="CLOSED",t}(MA||{}),bj=class{constructor(e,i,n){this._ref=e,this._containerInstance=n,this._afterOpened=new Be,this._beforeClosed=new Be,this._state=MA.OPEN,this.disableClose=i.disableClose,this.id=e.id,e.addPanelClass("mat-mdc-dialog-panel"),n._animationStateChanged.pipe(Ii(r=>r.state==="opened"),Fr(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),n._animationStateChanged.pipe(Ii(r=>r.state==="closed"),Fr(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),dr(this.backdropClick(),this.keydownEvents().pipe(Ii(r=>r.keyCode===27&&!this.disableClose&&!Nn(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),wUe(this,r.type==="keydown"?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Ii(i=>i.state==="closing"),Fr(1)).subscribe(i=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),i.totalTime+100)}),this._state=MA.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let i=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?i.left(e.left):i.right(e.right):i.centerHorizontally(),e&&(e.top||e.bottom)?e.top?i.top(e.top):i.bottom(e.bottom):i.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",i=""){return this._ref.updateSize(e,i),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=MA.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function wUe(t,e,i){return t._closeInteractionType=e,t.close(i)}var CUe=new we("MatMdcDialogData"),SUe=new we("mat-mdc-dialog-default-options"),xUe=new we("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let t=pe(Rn);return()=>t.scrollStrategies.block()}});var EUe=0,dre=(()=>{let e=class e{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let n=this._parentDialog;return n?n._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(n,r,o,s,a,l,c,d){this._overlay=n,this._defaultOptions=s,this._scrollStrategy=a,this._parentDialog=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Be,this._afterOpenedAtThisLevel=new Be,this.dialogConfigClass=QS,this.afterAllClosed=bc(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ir(void 0))),this._dialog=r.get(ore),this._dialogRefConstructor=bj,this._dialogContainerType=yUe,this._dialogDataToken=CUe}open(n,r){let o;r=ee(ee({},this._defaultOptions||new QS),r),r.id=r.id||`mat-mdc-dialog-${EUe++}`,r.scrollStrategy=r.scrollStrategy||this._scrollStrategy();let s=this._dialog.open(n,st(ee({},r),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:r},{provide:pm,useValue:r}]},templateContext:()=>({dialogRef:o}),providers:(a,l,c)=>(o=new this._dialogRefConstructor(a,r,c),o.updatePosition(r?.position),[{provide:this._dialogContainerType,useValue:c},{provide:this._dialogDataToken,useValue:l.data},{provide:this._dialogRefConstructor,useValue:o}])}));return o.componentRef=s.componentRef,o.componentInstance=s.componentInstance,this.openDialogs.push(o),this.afterOpened.next(o),o.afterClosed().subscribe(()=>{let a=this.openDialogs.indexOf(o);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||this._getAfterAllClosed().next())}),o}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(n){return this.openDialogs.find(r=>r.id===n)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(n){let r=n.length;for(;r--;)n[r].close()}};e.\u0275fac=function(r){return new(r||e)(ce(Rn),ce(tn),ce(wc,8),ce(SUe,8),ce(xUe),ce(e,12),ce(bp),ce(yn,8))},e.\u0275prov=Re({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var IUe=()=>[335],DUe=()=>[],MUe=()=>[250,75,100],AUe=()=>[300,100,100];function OUe(t,e){if(t&1&&(ie(0,"mat-option",14),ht(1),oe()),t&2){let i=e.$implicit;Te("value",i),ue(),kn(i)}}function PUe(t,e){t&1&&ze(0,"input",27)}function kUe(t,e){if(t&1&&ze(0,"input",20),t&2){let i=at(),n=_r(34);Te("matDatepicker",n)("formControl",i.date_start)("min",i.minDate)("max",i.todayDate)}}function NUe(t,e){if(t&1&&ze(0,"mat-datepicker-toggle",21),t&2){at();let i=_r(34);Te("for",i)}}function LUe(t,e){t&1&&(ie(0,"div")(1,"h1"),ht(2,"Borealis\xA0(All)"),oe()())}function FUe(t,e){if(t&1&&(ie(0,"div")(1,"h1"),ht(2),oe()()),t&2){let i=at(2);ue(2),kn(i.selectedCollection_Activate_Name)}}function HUe(t,e){t&1&&(ie(0,"div",47),ht(1," Collections "),oe())}function VUe(t,e){t&1&&(ie(0,"div"),ht(1," Sub Collections "),oe())}function BUe(t,e){if(t&1&&(ie(0,"div",28)(1,"div",29)(2,"div",30),Et(3,LUe,3,0,"div",31)(4,FUe,3,1,"div",31),ie(5,"div",32)(6,"p")(7,"i"),ht(8),oe()()()(),ie(9,"mat-card",33)(10,"mat-card-header")(11,"mat-card-title-group")(12,"mat-card-title"),Et(13,HUe,2,0,"div",34)(14,VUe,2,0,"div",31),oe(),ze(15,"mat-card-subtitle"),oe()(),ie(16,"mat-card-content")(17,"h1",35)(18,"b"),ht(19),oe()()()(),ie(20,"mat-card",33)(21,"mat-card-header")(22,"mat-card-title-group")(23,"mat-card-title"),ht(24," Datasets "),oe(),ze(25,"mat-card-subtitle"),oe()(),ie(26,"mat-card-content")(27,"h1",35)(28,"b"),ht(29),oe()()()(),ie(30,"mat-card",33)(31,"mat-card-header")(32,"mat-card-title-group")(33,"mat-card-title"),ht(34," Downloads "),oe(),ze(35,"mat-card-subtitle"),oe()(),ie(36,"mat-card-content")(37,"h1",35)(38,"b"),ht(39),oe()()()(),ie(40,"mat-card",33)(41,"mat-card-header")(42,"mat-card-title-group")(43,"mat-card-title"),ht(44," Users "),oe(),ze(45,"mat-card-subtitle"),oe()(),ie(46,"mat-card-content")(47,"h1",35)(48,"b"),ht(49),oe()()()(),ie(50,"mat-card",33)(51,"mat-card-header")(52,"mat-card-title-group")(53,"mat-card-title"),ht(54," Storage Usage "),oe(),ze(55,"mat-card-subtitle"),oe()(),ie(56,"mat-card-content")(57,"h1",35)(58,"b"),ht(59),oe()()()(),ie(60,"div",36),ze(61,"app-generic-table",37),oe()(),ie(62,"div",38),ht(63," Number of Downloads "),ze(64,"app-horizontal-bar-graph",39),ht(65," Number of Datasets "),ze(66,"app-horizontal-bar-graph",39),ht(67," Number of Files "),ze(68,"app-horizontal-bar-graph",39),ht(69," Number of Users "),ze(70,"app-horizontal-bar-graph",39),ht(71," Storage Usage "),ze(72,"app-horizontal-bar-graph",39),ht(73," Subject Breakdown "),ie(74,"div")(75,"mat-tab-group",23)(76,"mat-tab",40)(77,"mat-card",41)(78,"mat-card-content"),ze(79,"app-pie-graph",42),oe()()(),ie(80,"mat-tab",43)(81,"div",44),ze(82,"app-generic-table",45),oe()()()(),ht(83," File Content Breakdown "),ie(84,"div")(85,"mat-tab-group",23)(86,"mat-tab",40)(87,"mat-card",46)(88,"mat-card-content"),ze(89,"app-pie-graph",42),oe()()(),ie(90,"mat-tab",43)(91,"div",44),ze(92,"app-generic-table",45),oe()()()()()()),t&2){let i=at();ue(3),Te("ngIf",i.selectedCollection_Activate=="(All)"),ue(),Te("ngIf",i.selectedCollection_Activate!="(All)"),ue(4),kn(i.date_String),ue(5),Te("ngIf",i.selectedCollection_Activate=="(All)"),ue(),Te("ngIf",i.selectedCollection_Activate!="(All)"),ue(5),kn(i.total_collections_num),ue(10),kn(i.total_datasets_num),ue(10),kn(i.total_downloads_num),ue(10),kn(i.total_users_num),ue(10),kn(i.total_size_num),ue(2),Te("data",i.table_data)("colHeaders",!0)("colWidths",Tv(49,IUe))("rowHeaders",!0)("height",1500)("columnSorting",!0)("columns",i.generic_columns)("dropdownMenu",Tv(50,DUe))("filters",!1),ue(3),Te("barChartLabels",i.months)("barChartData",i.barChartDataDownloads),ue(2),Te("barChartLabels",i.months)("barChartData",i.barChartDataDatasets),ue(2),Te("barChartLabels",i.months)("barChartData",i.barChartDataFiles),ue(2),Te("barChartLabels",i.months)("barChartData",i.barChartDataUsers),ue(2),Te("barChartLabels",i.months)("barChartData",i.barChartDataSize),ue(7),Te("pieChartLabels",i.pieChartLabelsSubject)("pieChartData",i.pieChartDataSubject),ue(3),Te("data",i.subject_table)("colHeaders",!0)("colWidths",Tv(51,MUe))("rowHeaders",!0)("height",350)("columnSorting",!0)("columns",i.subject_columns)("filters",!1),ue(7),Te("pieChartLabels",i.pieChartLabelsFile)("pieChartData",i.pieChartDataFile),ue(3),Te("data",i.file_content_table)("colHeaders",!0)("colWidths",Tv(52,AUe))("rowHeaders",!0)("height",350)("columnSorting",!0)("columns",i.file_content_columns)("filters",!1)}}function WUe(t,e){}RA();var pd=ure.default||TUe,jUe={parse:{dateInput:"YYYY-MM"},display:{dateInput:"YYYY-MM",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}},hre=(()=>{let e=class e{setStartMonthAndYear(n,r){this.date_start=new $d(pd());let o=this.date_start.value??pd();o.month(n.month()),o.year(n.year()),this.date_start.setValue(o),r.close()}setEndMonthAndYear(n,r){this.dateStringFormat();let o=this.date_end.value??pd();o.month(n.month()),o.year(n.year()),this.date_end.setValue(o),r.close()}submitDate(){let n=this.date_start.value??pd(),r=this.date_end.value??pd(),o=n.format("YYYY-MM"),s=r.format("YYYY-MM");this.date_start_activate=o,this.date_end_activate=s,this.date_select_on=!0}dateStringFormat(){var n=["January","February","March","April","May","June","July","August","September","October","November","December"],r="";if(this.start_on){let c=this.date_start.value??pd(),d=c.format("YYYY"),u=c.format("MM");console.log(c.format("YYYY"),c.format("MM")),r=n[parseInt(u)-1]+" "+d}let o=this.date_end.value??pd(),s=o.format("YYYY"),a=o.format("MM");console.log(o.format("YYYY"),o.format("MM"));let l=n[parseInt(a)-1]+" "+s;return r=r+" - "+l}getData(n){this.table_data=n.DataverseTabData.table_data,this.alias_data=n.DataverseTabData.alias_data,this.subject_table=n.DataverseTabData.subject_full_data,this.file_content_table=n.DataverseTabData.file_content_full_data,this.options=this.options.concat(n.DataverseTabData.name_dropdown_data),this.months=n.DataverseTabData.months,this.barChartDataDownloads_data=n.DataverseTabData.downloads_graph_data,this.barChartDataDatasets_data=n.DataverseTabData.datasets_graph_data,this.barChartDataFiles_data=n.DataverseTabData.files_graph_data,this.barChartDataUsers_data=n.DataverseTabData.users_graph_data,this.barChartDataSize_data=n.DataverseTabData.size_graph_data,this.barChartDataDownloadsAgg_data=n.DataverseTabData.downloads_graph_agg_data,this.barChartDataDatasetsAgg_data=n.DataverseTabData.datasets_graph_agg_data,this.barChartDataFiles_Aggdata=n.DataverseTabData.files_graph_agg_data,this.barChartDataUsers_Aggdata=n.DataverseTabData.users_graph_agg_data,this.barChartDataSize_Aggdata=n.DataverseTabData.size_graph_agg_data,this.pieChartLabelsSubject=n.DataverseTabData.subject_label_data,this.pieChartDataSubject_data=n.DataverseTabData.subject_data,this.pieChartLabelsFile=n.DataverseTabData.file_content_label_data,this.pieChartDataFile_data=n.DataverseTabData.file_content_data,this.total_collections_num=n.DataverseTabData.name_dropdown_data.length.toString(),this.date_start_activate!=""?(this.total_datasets_num=this.barChartDataDatasetsAgg_data.reduce((r,o)=>r+o,0).toString(),this.total_downloads_num=this.barChartDataDownloadsAgg_data.reduce((r,o)=>r+o,0).toString(),this.total_users_num=this.barChartDataUsers_Aggdata.reduce((r,o)=>r+o,0).toString(),this.total_size_num=this.barChartDataSize_Aggdata.reduce((r,o)=>r+o,0).toFixed(2).toString()+"GB"):(this.total_datasets_num=this.barChartDataDatasets_data[0].toString(),this.total_downloads_num=this.barChartDataDownloads_data[0].toString(),this.total_users_num=this.barChartDataUsers_data[0].toString(),this.total_size_num=this.barChartDataSize_data[0].toFixed(2).toString()+"GB"),this.barChartDataDownloads=[{data:this.barChartDataDownloadsAgg_data,label:"Monthly File Downloads",tension:0,backgroundColor:"rgb(102, 0, 102, 0.5)",borderColor:"rgb(102, 0, 102, 0.5)",pointBackgroundColor:"rgb(102, 0, 102, 0.5)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgb(102, 0, 102, 0.5)"},{data:this.barChartDataDownloads_data,label:"Cumulative File Downloads",tension:0,backgroundColor:"rgb(0, 100, 255, 0.5)",borderColor:"rgb(0, 100, 255, 0.5)",pointBackgroundColor:"rgb(0, 100, 255, 0.5)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgb(0, 100, 255, 0.5)"}],this.barChartDataDatasets=[{data:this.barChartDataDatasetsAgg_data,label:"Monthly Datasets Published",tension:0,backgroundColor:"rgb(102, 0, 102, 0.5)",borderColor:"rgb(102, 0, 102, 0.5)",pointBackgroundColor:"rgb(102, 0, 102, 0.5)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgb(102, 0, 102, 0.5)"},{data:this.barChartDataDatasets_data,label:"Cumulative Datasets Published",tension:0,backgroundColor:"rgb(0, 100, 255, 0.5)",borderColor:"rgb(0, 100, 255, 0.5)",pointBackgroundColor:"rgb(0, 100, 255, 0.5)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgb(0, 100, 255, 0.5)"}],this.barChartDataFiles=[{data:this.barChartDataFiles_Aggdata,label:"Monthly Files Published",tension:0,backgroundColor:"rgb(102, 0, 102, 0.5)",borderColor:"rgb(102, 0, 102, 0.5)",pointBackgroundColor:"rgb(102, 0, 102, 0.5)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgb(102, 0, 102, 0.5)"},{data:this.barChartDataFiles_data,label:"Cumulative Files Published",tension:0,backgroundColor:"rgb(0, 100, 255, 0.5)",borderColor:"rgb(0, 100, 255, 0.5)",pointBackgroundColor:"rgb(0, 100, 255, 0.5)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgb(0, 100, 255, 0.5)"}],this.barChartDataUsers=[{data:this.barChartDataUsers_Aggdata,label:"Monthly Users Joined",tension:0,backgroundColor:"rgb(102, 0, 102, 0.5)",borderColor:"rgb(102, 0, 102, 0.5)",pointBackgroundColor:"rgb(102, 0, 102, 0.5)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgb(102, 0, 102, 0.5)"},{data:this.barChartDataUsers_data,label:"Cumulative Users Joined",tension:0,backgroundColor:"rgb(0, 100, 255, 0.5)",borderColor:"rgb(0, 100, 255, 0.5)",pointBackgroundColor:"rgb(0, 100, 255, 0.5)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgb(0, 100, 255, 0.5)"}],this.barChartDataSize=[{data:this.barChartDataSize_Aggdata,label:"Monthly Storage Used (GB)",tension:0,backgroundColor:"rgb(102, 0, 102, 0.5)",borderColor:"rgb(102, 0, 102, 0.5)",pointBackgroundColor:"rgb(102, 0, 102, 0.5)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgb(102, 0, 102, 0.5)"},{data:this.barChartDataSize_data,label:"Cumulative Storage Used (GB)",tension:0,backgroundColor:"rgb(0, 100, 255, 0.5)",borderColor:"rgb(0, 100, 255, 0.5)",pointBackgroundColor:"rgb(0, 100, 255, 0.5)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgb(0, 100, 255, 0.5)"}],this.pieChartDataSubject=[{data:this.pieChartDataSubject_data,label:"Subject Breakdown"}],this.pieChartDataFile=[{data:this.pieChartDataFile_data,label:"File Content Breakdown"}],console.log(this.pieChartDataSubject)}ngOnInit(){}selectedCollection(n){if(this.selectedCollection_Current_Name=n.value,n.value=="(All)")this.selectedCollection_Current="(All)";else for(let r=0;r<=this.alias_data.length;r++)this.alias_data[r].name==n.value&&(this.selectedCollection_Current=this.alias_data[r].alias);console.log(n.value)}selectedDate(n,r){console.log(n),console.log(r)}CollectionDataButtonActivate(){this.selectedCollection_Activate=this.selectedCollection_Current,this.selectedCollection_Activate_Name=this.selectedCollection_Current_Name,this.submitDate(),this.date_String=this.dateStringFormat(),console.log(this.selectedCollection_Activate)}constructor(n,r){this._liveAnnouncer=n,this.dialog=r,this.start_on=!1,this.date_start=new $d(pd()),this.date_end=new $d(pd()),this.date_String=this.dateStringFormat(),this.date_start_activate="",this.date_end_activate="",this.date_select_on=!1,this.todayDate=new Date,this.minDate=new Date("2016-02-01"),this.options=["(All)"],this.table_data=[],this.alias_data=[],this.subject_table=[],this.file_content_table=[],this.downloads_graph_data=[],this.datasets_graph_data=[],this.files_graph_data=[],this.users_graph_data=[],this.size_graph_data=[],this.name_dropdown_data=[],this.barChartDataDownloads_data=[],this.barChartDataDownloads=[],this.barChartDataDatasets_data=[],this.barChartDataDatasets=[],this.barChartDataFiles_data=[],this.barChartDataFiles=[],this.barChartDataUsers_data=[],this.barChartDataUsers=[],this.barChartDataSize_data=[],this.barChartDataSize=[],this.months=[],this.barChartDataDownloadsAgg_data=[],this.barChartDataDatasetsAgg_data=[],this.barChartDataFiles_Aggdata=[],this.barChartDataUsers_Aggdata=[],this.barChartDataSize_Aggdata=[],this.pieChartDataSubject_data=[],this.pieChartLabelsSubject=[],this.pieChartDataSubject=[],this.pieChartDataFile_data=[],this.pieChartLabelsFile=[],this.pieChartDataFile=[],this.selectedCollection_Current="(All)",this.selectedCollection_Activate="(All)",this.selectedCollection_Current_Name="(All)",this.selectedCollection_Activate_Name="(All)",this.total_collections_num="-",this.total_datasets_num="-",this.total_downloads_num="-",this.total_users_num="-",this.total_size_num="-",this.dataset_table_data=[],this.file_table_data=[],this.subjectTableOn=!1,this.fileContentTableOn=!1,this.generic_columns=[{data:"name",readOnly:"true",title:"Collection / Dataverses"}],this.subject_columns=[{data:"subject",readOnly:"true",title:"Subject"},{data:"count",readOnly:"true",title:"Count"},{data:"percent",readOnly:"true",title:"Distribution"}],this.file_content_columns=[{data:"contenttype",readOnly:"true",title:"File Type"},{data:"count",readOnly:"true",title:"Count"},{data:"percent",readOnly:"true",title:"Distribution"}],this.displayedColumns=["name","views","downloads","citations"],this.title="metrics-app",this.range=new fp({start:new $d(null),end:new $d(null)})}ngAfterViewInit(){}announceSortChange(n){n.direction?this._liveAnnouncer.announce(`Sorted ${n.direction}ending`):this._liveAnnouncer.announce("Sorting cleared")}openAboutDialog(){this.dialog.open(UUe)}subjectToggle(){this.subjectTableOn?this.subjectTableOn=!1:this.subjectTableOn=!0}defaultButton(){window.location.reload()}};e.\u0275fac=function(r){return new(r||e)(L(_E),L(dre))},e.\u0275cmp=ut({type:e,selectors:[["app-root"]],viewQuery:function(r,o){if(r&1&&It(Oq,5),r&2){let s;Je(s=et())&&(o.sort=s.first)}},standalone:!0,features:[ui([aY(jUe)]),vt],decls:50,vars:13,consts:[["dp_s",""],["dp_e",""],[3,"messageEvent","collectionSelected","startDate","endDate","start_on"],[2,"padding","20px"],[2,"float","right","align-items","center"],[2,"float","right"],["mat-button","","disabled",""],["mat-button",""],[2,"clear","both"],["mat-button","",1,"mat-small",2,"min-width","1%",3,"click"],["mat-button","",1,"mat-small",2,"min-width","1%"],[2,"position","relative","top","35px","max-width","fit-content","margin-left","auto","margin-right","auto"],["appearance","outline",2,"margin-left","10px"],["value","(All)",3,"selectionChange"],[3,"value"],["matInput","","disabled","",4,"ngIf"],["matInput","",3,"matDatepicker","formControl","min","max",4,"ngIf"],["matIconSuffix","",3,"for",4,"ngIf"],["startView","multi-year","panelClass","example-month-picker",3,"monthSelected"],[2,"margin-left","10px",3,"ngModelChange","ngModel"],["matInput","",3,"matDatepicker","formControl","min","max"],["matIconSuffix","",3,"for"],["mat-button","","extended","",2,"margin-left","10px",3,"click"],["mat-stretch-tabs","false","mat-align-tabs","start"],["label","Overview"],["matTabContent",""],["label","Make Data Count"],["matInput","","disabled",""],[2,"margin","auto","width","50%","display","flex"],[2,"vertical-align","top","margin-top","50px","margin-left","-60px"],[2,"vertical-align","top","margin-left","20px"],[4,"ngIf"],[2,"margin-top","-20px"],["appearance","outlined",1,"example-card",2,"min-width","400px","max-width","400px","margin-bottom","8px","margin-left","10px","margin-top","10px"],["style","margin-left: 10px;",4,"ngIf"],[2,"text-align","right","color","DimGray"],["id","hot",2,"margin-left","10px","margin-top","10px"],["licenseKey","non-commercial-and-evaluation",3,"data","colHeaders","colWidths","rowHeaders","height","columnSorting","columns","dropdownMenu","filters"],[2,"width","800px","display","inline-block","height","3000px","padding","20px","padding-top","100px"],[3,"barChartLabels","barChartData"],["label","Visual"],["appearance","outlined",1,"example-card",2,"min-width","600px","max-width","600px","min-height","300px","max-height","300px","margin-bottom","8px","margin-left","10px","margin-top","10px","align-items","center","justify-content","center","padding","20px"],["width","1000","height","1000",3,"pieChartLabels","pieChartData"],["label","Table"],[2,"padding","20px","padding-top","10px"],["width","100%","licenseKey","non-commercial-and-evaluation",3,"data","colHeaders","colWidths","rowHeaders","height","columnSorting","columns","filters"],["appearance","outlined",1,"example-card",2,"min-width","400px","max-width","650px","min-height","300px","max-height","300px","margin-bottom","8px","margin-left","10px","margin-top","10px","align-items","center","justify-content","center","padding","20px"],[2,"margin-left","10px"]],template:function(r,o){if(r&1){let s=Pn();ie(0,"app-posts",2),St("messageEvent",function(l){return yt(s),wt(o.getData(l))}),oe(),ie(1,"h2",3),ht(2," Borealis Metrics Report "),ie(3,"div",4)(4,"div",5)(5,"button",6),ht(6," English "),oe(),ht(7," | "),ie(8,"button",7),ht(9," Fran\xE7ais "),oe()(),ie(10,"div",8)(11,"button",9),St("click",function(){return yt(s),wt(o.openAboutDialog())}),ht(12," About "),oe(),ht(13," | "),ie(14,"button",10),ht(15," Terms of Conditions "),oe(),ht(16," | "),ie(17,"button",10),ht(18," FAQ "),oe()()()(),ie(19,"div",11)(20,"mat-form-field",12)(21,"mat-label"),ht(22,"Collection"),oe(),ie(23,"mat-select",13),St("selectionChange",function(l){return yt(s),wt(o.selectedCollection(l))}),_c(24,OUe,2,2,"mat-option",14,Rv),ht(26,"S "),oe()(),ie(27,"mat-form-field",12)(28,"mat-label"),ht(29,"Start Date"),oe(),Et(30,PUe,1,0,"input",15)(31,kUe,1,4,"input",16)(32,NUe,1,1,"mat-datepicker-toggle",17),ie(33,"mat-datepicker",18,0),St("monthSelected",function(l){yt(s);let c=_r(34);return wt(o.setStartMonthAndYear(l,c))}),oe()(),ie(35,"mat-checkbox",19),Bm("ngModelChange",function(l){return yt(s),Vm(o.start_on,l)||(o.start_on=l),wt(l)}),oe(),ie(36,"mat-form-field",12)(37,"mat-label"),ht(38,"End Date"),oe(),ze(39,"input",20)(40,"mat-datepicker-toggle",21),ie(41,"mat-datepicker",18,1),St("monthSelected",function(l){yt(s);let c=_r(42);return wt(o.setEndMonthAndYear(l,c))}),oe()(),ie(43,"button",22),St("click",function(){return yt(s),wt(o.CollectionDataButtonActivate())}),ht(44," SUBMIT "),oe()(),ie(45,"mat-tab-group",23)(46,"mat-tab",24),Et(47,BUe,93,53,"ng-template",25),oe(),ie(48,"mat-tab",26),Et(49,WUe,0,0,"ng-template",25),oe()()}if(r&2){let s=_r(42);Te("collectionSelected",o.selectedCollection_Activate)("startDate",o.date_start_activate)("endDate",o.date_end_activate)("start_on",o.start_on),ue(24),yc(o.options),ue(6),Te("ngIf",!o.start_on),ue(),Te("ngIf",o.start_on),ue(),Te("ngIf",o.start_on),ue(3),Hm("ngModel",o.start_on),ue(4),Te("matDatepicker",s)("formControl",o.date_end)("min",o.minDate)("max",o.todayDate),ue(),Te("for",s)}},dependencies:[Tz,jP,UP,Rz,zh,CY,jE,yY,FY,LY,u_,xY,SY,HY,oY,FE,qz,ZP,rY,QP,Dz,Tq,Iq,Dq,jR,X_,Aq,Pq,gD,Une,jne,IA,hj,W2,$ne,Hr,Px,ere,qne,Qne,Jne,Zne,Kne,Xne,tre,rre,DA],styles:[".handsontable[_ngcontent-%COMP%]   .odd[_ngcontent-%COMP%], .handsontable[_ngcontent-%COMP%]   .even[_ngcontent-%COMP%]{background:red!important;color:red!important}"],changeDetection:0});let t=e;return t})(),UUe=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ut({type:e,selectors:[["about-dialog-popup"]],decls:5,vars:0,consts:[[2,"height","500px","width","500px"],["mat-dialog-title",""],["mat-dialog-content",""]],template:function(r,o){r&1&&(ie(0,"div",0)(1,"h1",1),ht(2," About "),oe(),ie(3,"div",2),ht(4,"This is but an example"),oe()())},encapsulation:2});let t=e;return t})();var zUe="@",YUe=(()=>{let e=class e{constructor(n,r,o,s,a){this.doc=n,this.delegate=r,this.zone=o,this.animationType=s,this.moduleImpl=a,this._rendererFactoryPromise=null,this.scheduler=pe(rU,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-G2REZABG.js").then(r=>r)).catch(r=>{throw new an(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:o})=>{this._engine=r(this.animationType,this.doc);let s=new o(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(n,r){let o=this.delegate.createRenderer(n,r);if(o.\u0275type===0)return o;typeof o.throwOnSyntheticProps=="boolean"&&(o.throwOnSyntheticProps=!1);let s=new vj(o);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(a=>{let l=a.createRenderer(n,r);s.use(l),this.scheduler?.notify(9)}).catch(a=>{s.use(o)}),s}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};e.\u0275fac=function(r){Id()},e.\u0275prov=Re({token:e,factory:e.\u0275fac});let t=e;return t})(),vj=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let i of this.replay)i(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,i){return this.delegate.createElement(e,i)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,i){this.delegate.appendChild(e,i)}insertBefore(e,i,n,r){this.delegate.insertBefore(e,i,n,r)}removeChild(e,i,n){this.delegate.removeChild(e,i,n)}selectRootElement(e,i){return this.delegate.selectRootElement(e,i)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,i,n,r){this.delegate.setAttribute(e,i,n,r)}removeAttribute(e,i,n){this.delegate.removeAttribute(e,i,n)}addClass(e,i){this.delegate.addClass(e,i)}removeClass(e,i){this.delegate.removeClass(e,i)}setStyle(e,i,n,r){this.delegate.setStyle(e,i,n,r)}removeStyle(e,i,n){this.delegate.removeStyle(e,i,n)}setProperty(e,i,n){this.shouldReplay(i)&&this.replay.push(r=>r.setProperty(e,i,n)),this.delegate.setProperty(e,i,n)}setValue(e,i){this.delegate.setValue(e,i)}listen(e,i,n){return this.shouldReplay(i)&&this.replay.push(r=>r.listen(e,i,n)),this.delegate.listen(e,i,n)}shouldReplay(e){return this.replay!==null&&e.startsWith(zUe)}};function fre(t="animations"){return sO("NgAsyncAnimations"),km([{provide:xx,useFactory:(e,i,n)=>new YUe(e,i,n,t),deps:[Tt,Ux,Ge]},{provide:yn,useValue:t==="noop"?"NoopAnimations":"BrowserAnimations"}])}XU(hre,{providers:[Rq(Eq()),fre()]}).catch(t=>console.error(t));
